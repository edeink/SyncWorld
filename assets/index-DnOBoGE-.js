function Vz(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in n)){const o=Object.getOwnPropertyDescriptor(r,a);o&&Object.defineProperty(n,a,o.get?o:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();function Lm(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var eM={exports:{}},By={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tD;function b5(){if(tD)return By;tD=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,o){var l=null;if(o!==void 0&&(l=""+o),a.key!==void 0&&(l=""+a.key),"key"in a){o={};for(var s in a)s!=="key"&&(o[s]=a[s])}else o=a;return a=o.ref,{$$typeof:n,type:r,key:l,ref:a!==void 0?a:null,props:o}}return By.Fragment=e,By.jsx=t,By.jsxs=t,By}var nD;function S5(){return nD||(nD=1,eM.exports=b5()),eM.exports}var ke=S5(),tM={exports:{}},ci={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iD;function _5(){if(iD)return ci;iD=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function _(q){return q===null||typeof q!="object"?null:(q=y&&q[y]||q["@@iterator"],typeof q=="function"?q:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},c=Object.assign,p={};function g(q,ie,he){this.props=q,this.context=ie,this.refs=p,this.updater=he||E}g.prototype.isReactComponent={},g.prototype.setState=function(q,ie){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,ie,"setState")},g.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function b(){}b.prototype=g.prototype;function C(q,ie,he){this.props=q,this.context=ie,this.refs=p,this.updater=he||E}var T=C.prototype=new b;T.constructor=C,c(T,g.prototype),T.isPureReactComponent=!0;var M=Array.isArray,O={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function P(q,ie,he,fe,Z,pe){return he=pe.ref,{$$typeof:n,type:q,key:ie,ref:he!==void 0?he:null,props:pe}}function F(q,ie){return P(q.type,ie,void 0,void 0,void 0,q.props)}function U(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function z(q){var ie={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(he){return ie[he]})}var $=/\/+/g;function J(q,ie){return typeof q=="object"&&q!==null&&q.key!=null?z(""+q.key):ie.toString(36)}function W(){}function Q(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(W,W):(q.status="pending",q.then(function(ie){q.status==="pending"&&(q.status="fulfilled",q.value=ie)},function(ie){q.status==="pending"&&(q.status="rejected",q.reason=ie)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function ae(q,ie,he,fe,Z){var pe=typeof q;(pe==="undefined"||pe==="boolean")&&(q=null);var _e=!1;if(q===null)_e=!0;else switch(pe){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(q.$$typeof){case n:case e:_e=!0;break;case m:return _e=q._init,ae(_e(q._payload),ie,he,fe,Z)}}if(_e)return Z=Z(q),_e=fe===""?"."+J(q,0):fe,M(Z)?(he="",_e!=null&&(he=_e.replace($,"$&/")+"/"),ae(Z,ie,he,"",function(Te){return Te})):Z!=null&&(U(Z)&&(Z=F(Z,he+(Z.key==null||q&&q.key===Z.key?"":(""+Z.key).replace($,"$&/")+"/")+_e)),ie.push(Z)),1;_e=0;var Oe=fe===""?".":fe+":";if(M(q))for(var we=0;we<q.length;we++)fe=q[we],pe=Oe+J(fe,we),_e+=ae(fe,ie,he,pe,Z);else if(we=_(q),typeof we=="function")for(q=we.call(q),we=0;!(fe=q.next()).done;)fe=fe.value,pe=Oe+J(fe,we++),_e+=ae(fe,ie,he,pe,Z);else if(pe==="object"){if(typeof q.then=="function")return ae(Q(q),ie,he,fe,Z);throw ie=String(q),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return _e}function Y(q,ie,he){if(q==null)return q;var fe=[],Z=0;return ae(q,fe,"","",function(pe){return ie.call(he,pe,Z++)}),fe}function K(q){if(q._status===-1){var ie=q._result;ie=ie(),ie.then(function(he){(q._status===0||q._status===-1)&&(q._status=1,q._result=he)},function(he){(q._status===0||q._status===-1)&&(q._status=2,q._result=he)}),q._status===-1&&(q._status=0,q._result=ie)}if(q._status===1)return q._result.default;throw q._result}var ee=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)};function de(){}return ci.Children={map:Y,forEach:function(q,ie,he){Y(q,function(){ie.apply(this,arguments)},he)},count:function(q){var ie=0;return Y(q,function(){ie++}),ie},toArray:function(q){return Y(q,function(ie){return ie})||[]},only:function(q){if(!U(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},ci.Component=g,ci.Fragment=t,ci.Profiler=a,ci.PureComponent=C,ci.StrictMode=r,ci.Suspense=u,ci.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,ci.act=function(){throw Error("act(...) is not supported in production builds of React.")},ci.cache=function(q){return function(){return q.apply(null,arguments)}},ci.cloneElement=function(q,ie,he){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var fe=c({},q.props),Z=q.key,pe=void 0;if(ie!=null)for(_e in ie.ref!==void 0&&(pe=void 0),ie.key!==void 0&&(Z=""+ie.key),ie)!B.call(ie,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&ie.ref===void 0||(fe[_e]=ie[_e]);var _e=arguments.length-2;if(_e===1)fe.children=he;else if(1<_e){for(var Oe=Array(_e),we=0;we<_e;we++)Oe[we]=arguments[we+2];fe.children=Oe}return P(q.type,Z,void 0,void 0,pe,fe)},ci.createContext=function(q){return q={$$typeof:l,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:o,_context:q},q},ci.createElement=function(q,ie,he){var fe,Z={},pe=null;if(ie!=null)for(fe in ie.key!==void 0&&(pe=""+ie.key),ie)B.call(ie,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Z[fe]=ie[fe]);var _e=arguments.length-2;if(_e===1)Z.children=he;else if(1<_e){for(var Oe=Array(_e),we=0;we<_e;we++)Oe[we]=arguments[we+2];Z.children=Oe}if(q&&q.defaultProps)for(fe in _e=q.defaultProps,_e)Z[fe]===void 0&&(Z[fe]=_e[fe]);return P(q,pe,void 0,void 0,null,Z)},ci.createRef=function(){return{current:null}},ci.forwardRef=function(q){return{$$typeof:s,render:q}},ci.isValidElement=U,ci.lazy=function(q){return{$$typeof:m,_payload:{_status:-1,_result:q},_init:K}},ci.memo=function(q,ie){return{$$typeof:f,type:q,compare:ie===void 0?null:ie}},ci.startTransition=function(q){var ie=O.T,he={};O.T=he;try{var fe=q(),Z=O.S;Z!==null&&Z(he,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(de,ee)}catch(pe){ee(pe)}finally{O.T=ie}},ci.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},ci.use=function(q){return O.H.use(q)},ci.useActionState=function(q,ie,he){return O.H.useActionState(q,ie,he)},ci.useCallback=function(q,ie){return O.H.useCallback(q,ie)},ci.useContext=function(q){return O.H.useContext(q)},ci.useDebugValue=function(){},ci.useDeferredValue=function(q,ie){return O.H.useDeferredValue(q,ie)},ci.useEffect=function(q,ie){return O.H.useEffect(q,ie)},ci.useId=function(){return O.H.useId()},ci.useImperativeHandle=function(q,ie,he){return O.H.useImperativeHandle(q,ie,he)},ci.useInsertionEffect=function(q,ie){return O.H.useInsertionEffect(q,ie)},ci.useLayoutEffect=function(q,ie){return O.H.useLayoutEffect(q,ie)},ci.useMemo=function(q,ie){return O.H.useMemo(q,ie)},ci.useOptimistic=function(q,ie){return O.H.useOptimistic(q,ie)},ci.useReducer=function(q,ie,he){return O.H.useReducer(q,ie,he)},ci.useRef=function(q){return O.H.useRef(q)},ci.useState=function(q){return O.H.useState(q)},ci.useSyncExternalStore=function(q,ie,he){return O.H.useSyncExternalStore(q,ie,he)},ci.useTransition=function(){return O.H.useTransition()},ci.version="19.0.0",ci}var rD;function C0(){return rD||(rD=1,tM.exports=_5()),tM.exports}var w=C0();const Xe=Lm(w),QE=Vz({__proto__:null,default:Xe},[w]);var nM={exports:{}},Dy={},iM={exports:{}},rM={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aD;function x5(){return aD||(aD=1,function(n){function e(Y,K){var ee=Y.length;Y.push(K);e:for(;0<ee;){var de=ee-1>>>1,q=Y[de];if(0<a(q,K))Y[de]=K,Y[ee]=q,ee=de;else break e}}function t(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var K=Y[0],ee=Y.pop();if(ee!==K){Y[0]=ee;e:for(var de=0,q=Y.length,ie=q>>>1;de<ie;){var he=2*(de+1)-1,fe=Y[he],Z=he+1,pe=Y[Z];if(0>a(fe,ee))Z<q&&0>a(pe,fe)?(Y[de]=pe,Y[Z]=ee,de=Z):(Y[de]=fe,Y[he]=ee,de=he);else if(Z<q&&0>a(pe,ee))Y[de]=pe,Y[Z]=ee,de=Z;else break e}}return K}function a(Y,K){var ee=Y.sortIndex-K.sortIndex;return ee!==0?ee:Y.id-K.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,s=l.now();n.unstable_now=function(){return l.now()-s}}var u=[],f=[],m=1,y=null,_=3,E=!1,c=!1,p=!1,g=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function T(Y){for(var K=t(f);K!==null;){if(K.callback===null)r(f);else if(K.startTime<=Y)r(f),K.sortIndex=K.expirationTime,e(u,K);else break;K=t(f)}}function M(Y){if(p=!1,T(Y),!c)if(t(u)!==null)c=!0,Q();else{var K=t(f);K!==null&&ae(M,K.startTime-Y)}}var O=!1,B=-1,P=5,F=-1;function U(){return!(n.unstable_now()-F<P)}function z(){if(O){var Y=n.unstable_now();F=Y;var K=!0;try{e:{c=!1,p&&(p=!1,b(B),B=-1),E=!0;var ee=_;try{t:{for(T(Y),y=t(u);y!==null&&!(y.expirationTime>Y&&U());){var de=y.callback;if(typeof de=="function"){y.callback=null,_=y.priorityLevel;var q=de(y.expirationTime<=Y);if(Y=n.unstable_now(),typeof q=="function"){y.callback=q,T(Y),K=!0;break t}y===t(u)&&r(u),T(Y)}else r(u);y=t(u)}if(y!==null)K=!0;else{var ie=t(f);ie!==null&&ae(M,ie.startTime-Y),K=!1}}break e}finally{y=null,_=ee,E=!1}K=void 0}}finally{K?$():O=!1}}}var $;if(typeof C=="function")$=function(){C(z)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,W=J.port2;J.port1.onmessage=z,$=function(){W.postMessage(null)}}else $=function(){g(z,0)};function Q(){O||(O=!0,$())}function ae(Y,K){B=g(function(){Y(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_continueExecution=function(){c||E||(c=!0,Q())},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(Y){switch(_){case 1:case 2:case 3:var K=3;break;default:K=_}var ee=_;_=K;try{return Y()}finally{_=ee}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Y,K){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ee=_;_=Y;try{return K()}finally{_=ee}},n.unstable_scheduleCallback=function(Y,K,ee){var de=n.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?de+ee:de):ee=de,Y){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=ee+q,Y={id:m++,callback:K,priorityLevel:Y,startTime:ee,expirationTime:q,sortIndex:-1},ee>de?(Y.sortIndex=ee,e(f,Y),t(u)===null&&Y===t(f)&&(p?(b(B),B=-1):p=!0,ae(M,ee-de))):(Y.sortIndex=q,e(u,Y),c||E||(c=!0,Q())),Y},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(Y){var K=_;return function(){var ee=_;_=K;try{return Y.apply(this,arguments)}finally{_=ee}}}}(rM)),rM}var oD;function hO(){return oD||(oD=1,iM.exports=x5()),iM.exports}var aM={exports:{}},Ro={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sD;function C5(){if(sD)return Ro;sD=1;var n=C0();function e(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(u,f,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:u,containerInfo:f,implementation:m}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function s(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Ro.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ro.createPortal=function(u,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(u,f,null,m)},Ro.flushSync=function(u){var f=l.T,m=r.p;try{if(l.T=null,r.p=2,u)return u()}finally{l.T=f,r.p=m,r.d.f()}},Ro.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(u,f))},Ro.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Ro.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var m=f.as,y=s(m,f.crossOrigin),_=typeof f.integrity=="string"?f.integrity:void 0,E=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?r.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:E}):m==="script"&&r.d.X(u,{crossOrigin:y,integrity:_,fetchPriority:E,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Ro.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=s(f.as,f.crossOrigin);r.d.M(u,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(u)},Ro.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,y=s(m,f.crossOrigin);r.d.L(u,m,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Ro.preloadModule=function(u,f){if(typeof u=="string")if(f){var m=s(f.as,f.crossOrigin);r.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(u)},Ro.requestFormReset=function(u){r.d.r(u)},Ro.unstable_batchedUpdates=function(u,f){return u(f)},Ro.useFormState=function(u,f,m){return l.H.useFormState(u,f,m)},Ro.useFormStatus=function(){return l.H.useHostTransitionStatus()},Ro.version="19.0.0",Ro}var lD;function jz(){if(lD)return aM.exports;lD=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),aM.exports=C5(),aM.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cD;function E5(){if(cD)return Dy;cD=1;var n=hO(),e=C0(),t=jz();function r(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)h+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}var o=Symbol.for("react.element"),l=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),_=Symbol.for("react.consumer"),E=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),T=Symbol.for("react.offscreen"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function B(d){return d===null||typeof d!="object"?null:(d=O&&d[O]||d["@@iterator"],typeof d=="function"?d:null)}var P=Symbol.for("react.client.reference");function F(d){if(d==null)return null;if(typeof d=="function")return d.$$typeof===P?null:d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case u:return"Fragment";case s:return"Portal";case m:return"Profiler";case f:return"StrictMode";case p:return"Suspense";case g:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case E:return(d.displayName||"Context")+".Provider";case _:return(d._context.displayName||"Context")+".Consumer";case c:var h=d.render;return d=d.displayName,d||(d=h.displayName||h.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case b:return h=d.displayName||null,h!==null?h:F(d.type)||"Memo";case C:h=d._payload,d=d._init;try{return F(d(h))}catch{}}return null}var U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=Object.assign,$,J;function W(d){if($===void 0)try{throw Error()}catch(x){var h=x.stack.trim().match(/\n( *(at )?)/);$=h&&h[1]||"",J=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$+d+J}var Q=!1;function ae(d,h){if(!d||Q)return"";Q=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var A={DetermineComponentFrameRoot:function(){try{if(h){var Ut=function(){throw Error()};if(Object.defineProperty(Ut.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ut,[])}catch(Et){var ft=Et}Reflect.construct(d,[],Ut)}else{try{Ut.call()}catch(Et){ft=Et}d.call(Ut.prototype)}}else{try{throw Error()}catch(Et){ft=Et}(Ut=d())&&typeof Ut.catch=="function"&&Ut.catch(function(){})}}catch(Et){if(Et&&ft&&typeof Et.stack=="string")return[Et.stack,ft.stack]}return[null,null]}};A.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var L=Object.getOwnPropertyDescriptor(A.DetermineComponentFrameRoot,"name");L&&L.configurable&&Object.defineProperty(A.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var G=A.DetermineComponentFrameRoot(),ne=G[0],ge=G[1];if(ne&&ge){var Re=ne.split(`
`),Ye=ge.split(`
`);for(L=A=0;A<Re.length&&!Re[A].includes("DetermineComponentFrameRoot");)A++;for(;L<Ye.length&&!Ye[L].includes("DetermineComponentFrameRoot");)L++;if(A===Re.length||L===Ye.length)for(A=Re.length-1,L=Ye.length-1;1<=A&&0<=L&&Re[A]!==Ye[L];)L--;for(;1<=A&&0<=L;A--,L--)if(Re[A]!==Ye[L]){if(A!==1||L!==1)do if(A--,L--,0>L||Re[A]!==Ye[L]){var At=`
`+Re[A].replace(" at new "," at ");return d.displayName&&At.includes("<anonymous>")&&(At=At.replace("<anonymous>",d.displayName)),At}while(1<=A&&0<=L);break}}}finally{Q=!1,Error.prepareStackTrace=x}return(x=d?d.displayName||d.name:"")?W(x):""}function Y(d){switch(d.tag){case 26:case 27:case 5:return W(d.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 15:return d=ae(d.type,!1),d;case 11:return d=ae(d.type.render,!1),d;case 1:return d=ae(d.type,!0),d;default:return""}}function K(d){try{var h="";do h+=Y(d),d=d.return;while(d);return h}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}function ee(d){var h=d,x=d;if(d.alternate)for(;h.return;)h=h.return;else{d=h;do h=d,(h.flags&4098)!==0&&(x=h.return),d=h.return;while(d)}return h.tag===3?x:null}function de(d){if(d.tag===13){var h=d.memoizedState;if(h===null&&(d=d.alternate,d!==null&&(h=d.memoizedState)),h!==null)return h.dehydrated}return null}function q(d){if(ee(d)!==d)throw Error(r(188))}function ie(d){var h=d.alternate;if(!h){if(h=ee(d),h===null)throw Error(r(188));return h!==d?null:d}for(var x=d,A=h;;){var L=x.return;if(L===null)break;var G=L.alternate;if(G===null){if(A=L.return,A!==null){x=A;continue}break}if(L.child===G.child){for(G=L.child;G;){if(G===x)return q(L),d;if(G===A)return q(L),h;G=G.sibling}throw Error(r(188))}if(x.return!==A.return)x=L,A=G;else{for(var ne=!1,ge=L.child;ge;){if(ge===x){ne=!0,x=L,A=G;break}if(ge===A){ne=!0,A=L,x=G;break}ge=ge.sibling}if(!ne){for(ge=G.child;ge;){if(ge===x){ne=!0,x=G,A=L;break}if(ge===A){ne=!0,A=G,x=L;break}ge=ge.sibling}if(!ne)throw Error(r(189))}}if(x.alternate!==A)throw Error(r(190))}if(x.tag!==3)throw Error(r(188));return x.stateNode.current===x?d:h}function he(d){var h=d.tag;if(h===5||h===26||h===27||h===6)return d;for(d=d.child;d!==null;){if(h=he(d),h!==null)return h;d=d.sibling}return null}var fe=Array.isArray,Z=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},_e=[],Oe=-1;function we(d){return{current:d}}function Te(d){0>Oe||(d.current=_e[Oe],_e[Oe]=null,Oe--)}function ze(d,h){Oe++,_e[Oe]=d.current,d.current=h}var yt=we(null),Be=we(null),xe=we(null),re=we(null);function Fe(d,h){switch(ze(xe,h),ze(Be,d),ze(yt,null),d=h.nodeType,d){case 9:case 11:h=(h=h.documentElement)&&(h=h.namespaceURI)?OB(h):0;break;default:if(d=d===8?h.parentNode:h,h=d.tagName,d=d.namespaceURI)d=OB(d),h=IB(d,h);else switch(h){case"svg":h=1;break;case"math":h=2;break;default:h=0}}Te(yt),ze(yt,h)}function Ie(){Te(yt),Te(Be),Te(xe)}function qe(d){d.memoizedState!==null&&ze(re,d);var h=yt.current,x=IB(h,d.type);h!==x&&(ze(Be,d),ze(yt,x))}function $e(d){Be.current===d&&(Te(yt),Te(Be)),re.current===d&&(Te(re),My._currentValue=pe)}var ct=Object.prototype.hasOwnProperty,st=n.unstable_scheduleCallback,ce=n.unstable_cancelCallback,oe=n.unstable_shouldYield,Ee=n.unstable_requestPaint,De=n.unstable_now,Ke=n.unstable_getCurrentPriorityLevel,He=n.unstable_ImmediatePriority,gt=n.unstable_UserBlockingPriority,lt=n.unstable_NormalPriority,pt=n.unstable_LowPriority,It=n.unstable_IdlePriority,ot=n.log,_t=n.unstable_setDisableYieldValue,Ct=null,We=null;function rt(d){if(We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(Ct,d,void 0,(d.current.flags&128)===128)}catch{}}function Se(d){if(typeof ot=="function"&&_t(d),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(Ct,d)}catch{}}var Ge=Math.clz32?Math.clz32:xt,St=Math.log,Ae=Math.LN2;function xt(d){return d>>>=0,d===0?32:31-(St(d)/Ae|0)|0}var et=128,mt=4194304;function Nt(d){var h=d&42;if(h!==0)return h;switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return d&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return d}}function Bt(d,h){var x=d.pendingLanes;if(x===0)return 0;var A=0,L=d.suspendedLanes,G=d.pingedLanes,ne=d.warmLanes;d=d.finishedLanes!==0;var ge=x&134217727;return ge!==0?(x=ge&~L,x!==0?A=Nt(x):(G&=ge,G!==0?A=Nt(G):d||(ne=ge&~ne,ne!==0&&(A=Nt(ne))))):(ge=x&~L,ge!==0?A=Nt(ge):G!==0?A=Nt(G):d||(ne=x&~ne,ne!==0&&(A=Nt(ne)))),A===0?0:h!==0&&h!==A&&(h&L)===0&&(L=A&-A,ne=h&-h,L>=ne||L===32&&(ne&4194176)!==0)?h:A}function Qt(d,h){return(d.pendingLanes&~(d.suspendedLanes&~d.pingedLanes)&h)===0}function sn(d,h){switch(d){case 1:case 2:case 4:case 8:return h+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yt(){var d=et;return et<<=1,(et&4194176)===0&&(et=128),d}function Lt(){var d=mt;return mt<<=1,(mt&62914560)===0&&(mt=4194304),d}function Xt(d){for(var h=[],x=0;31>x;x++)h.push(d);return h}function yn(d,h){d.pendingLanes|=h,h!==268435456&&(d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0)}function lr(d,h,x,A,L,G){var ne=d.pendingLanes;d.pendingLanes=x,d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0,d.expiredLanes&=x,d.entangledLanes&=x,d.errorRecoveryDisabledLanes&=x,d.shellSuspendCounter=0;var ge=d.entanglements,Re=d.expirationTimes,Ye=d.hiddenUpdates;for(x=ne&~x;0<x;){var At=31-Ge(x),Ut=1<<At;ge[At]=0,Re[At]=-1;var ft=Ye[At];if(ft!==null)for(Ye[At]=null,At=0;At<ft.length;At++){var Et=ft[At];Et!==null&&(Et.lane&=-536870913)}x&=~Ut}A!==0&&Jr(d,A,0),G!==0&&L===0&&d.tag!==0&&(d.suspendedLanes|=G&~(ne&~h))}function Jr(d,h,x){d.pendingLanes|=h,d.suspendedLanes&=~h;var A=31-Ge(h);d.entangledLanes|=h,d.entanglements[A]=d.entanglements[A]|1073741824|x&4194218}function zn(d,h){var x=d.entangledLanes|=h;for(d=d.entanglements;x;){var A=31-Ge(x),L=1<<A;L&h|d[A]&h&&(d[A]|=h),x&=~L}}function Ai(d){return d&=-d,2<d?8<d?(d&134217727)!==0?32:268435456:8:2}function Sr(){var d=Z.p;return d!==0?d:(d=window.event,d===void 0?32:qB(d.type))}function wn(d,h){var x=Z.p;try{return Z.p=d,h()}finally{Z.p=x}}var Mn=Math.random().toString(36).slice(2),Qn="__reactFiber$"+Mn,un="__reactProps$"+Mn,ii="__reactContainer$"+Mn,ln="__reactEvents$"+Mn,zr="__reactListeners$"+Mn,Ur="__reactHandles$"+Mn,Rr="__reactResources$"+Mn,Or="__reactMarker$"+Mn;function cr(d){delete d[Qn],delete d[un],delete d[ln],delete d[zr],delete d[Ur]}function _r(d){var h=d[Qn];if(h)return h;for(var x=d.parentNode;x;){if(h=x[ii]||x[Qn]){if(x=h.alternate,h.child!==null||x!==null&&x.child!==null)for(d=PB(d);d!==null;){if(x=d[Qn])return x;d=PB(d)}return h}d=x,x=d.parentNode}return null}function le(d){if(d=d[Qn]||d[ii]){var h=d.tag;if(h===5||h===6||h===13||h===26||h===27||h===3)return d}return null}function Ue(d){var h=d.tag;if(h===5||h===26||h===27||h===6)return d.stateNode;throw Error(r(33))}function at(d){var h=d[Rr];return h||(h=d[Rr]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function Ze(d){d[Or]=!0}var Ve=new Set,Rt={};function $t(d,h){qt(d,h),qt(d+"Capture",h)}function qt(d,h){for(Rt[d]=h,d=0;d<h.length;d++)Ve.add(h[d])}var Wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),dn={},on={};function Gn(d){return ct.call(on,d)?!0:ct.call(dn,d)?!1:gn.test(d)?on[d]=!0:(dn[d]=!0,!1)}function Vn(d,h,x){if(Gn(h))if(x===null)d.removeAttribute(h);else{switch(typeof x){case"undefined":case"function":case"symbol":d.removeAttribute(h);return;case"boolean":var A=h.toLowerCase().slice(0,5);if(A!=="data-"&&A!=="aria-"){d.removeAttribute(h);return}}d.setAttribute(h,""+x)}}function jn(d,h,x){if(x===null)d.removeAttribute(h);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(h);return}d.setAttribute(h,""+x)}}function In(d,h,x,A){if(A===null)d.removeAttribute(x);else{switch(typeof A){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(x);return}d.setAttributeNS(h,x,""+A)}}function bn(d){switch(typeof d){case"bigint":case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function cn(d){var h=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function Si(d){var h=cn(d)?"checked":"value",x=Object.getOwnPropertyDescriptor(d.constructor.prototype,h),A=""+d[h];if(!d.hasOwnProperty(h)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var L=x.get,G=x.set;return Object.defineProperty(d,h,{configurable:!0,get:function(){return L.call(this)},set:function(ne){A=""+ne,G.call(this,ne)}}),Object.defineProperty(d,h,{enumerable:x.enumerable}),{getValue:function(){return A},setValue:function(ne){A=""+ne},stopTracking:function(){d._valueTracker=null,delete d[h]}}}}function Wn(d){d._valueTracker||(d._valueTracker=Si(d))}function $n(d){if(!d)return!1;var h=d._valueTracker;if(!h)return!0;var x=h.getValue(),A="";return d&&(A=cn(d)?d.checked?"true":"false":d.value),d=A,d!==x?(h.setValue(d),!0):!1}function Tn(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}var Cn=/[\n"\\]/g;function Zn(d){return d.replace(Cn,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function An(d,h,x,A,L,G,ne,ge){d.name="",ne!=null&&typeof ne!="function"&&typeof ne!="symbol"&&typeof ne!="boolean"?d.type=ne:d.removeAttribute("type"),h!=null?ne==="number"?(h===0&&d.value===""||d.value!=h)&&(d.value=""+bn(h)):d.value!==""+bn(h)&&(d.value=""+bn(h)):ne!=="submit"&&ne!=="reset"||d.removeAttribute("value"),h!=null?Li(d,ne,bn(h)):x!=null?Li(d,ne,bn(x)):A!=null&&d.removeAttribute("value"),L==null&&G!=null&&(d.defaultChecked=!!G),L!=null&&(d.checked=L&&typeof L!="function"&&typeof L!="symbol"),ge!=null&&typeof ge!="function"&&typeof ge!="symbol"&&typeof ge!="boolean"?d.name=""+bn(ge):d.removeAttribute("name")}function xi(d,h,x,A,L,G,ne,ge){if(G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"&&(d.type=G),h!=null||x!=null){if(!(G!=="submit"&&G!=="reset"||h!=null))return;x=x!=null?""+bn(x):"",h=h!=null?""+bn(h):x,ge||h===d.value||(d.value=h),d.defaultValue=h}A=A??L,A=typeof A!="function"&&typeof A!="symbol"&&!!A,d.checked=ge?d.checked:!!A,d.defaultChecked=!!A,ne!=null&&typeof ne!="function"&&typeof ne!="symbol"&&typeof ne!="boolean"&&(d.name=ne)}function Li(d,h,x){h==="number"&&Tn(d.ownerDocument)===d||d.defaultValue===""+x||(d.defaultValue=""+x)}function $i(d,h,x,A){if(d=d.options,h){h={};for(var L=0;L<x.length;L++)h["$"+x[L]]=!0;for(x=0;x<d.length;x++)L=h.hasOwnProperty("$"+d[x].value),d[x].selected!==L&&(d[x].selected=L),L&&A&&(d[x].defaultSelected=!0)}else{for(x=""+bn(x),h=null,L=0;L<d.length;L++){if(d[L].value===x){d[L].selected=!0,A&&(d[L].defaultSelected=!0);return}h!==null||d[L].disabled||(h=d[L])}h!==null&&(h.selected=!0)}}function Ki(d,h,x){if(h!=null&&(h=""+bn(h),h!==d.value&&(d.value=h),x==null)){d.defaultValue!==h&&(d.defaultValue=h);return}d.defaultValue=x!=null?""+bn(x):""}function Ir(d,h,x,A){if(h==null){if(A!=null){if(x!=null)throw Error(r(92));if(fe(A)){if(1<A.length)throw Error(r(93));A=A[0]}x=A}x==null&&(x=""),h=x}x=bn(h),d.defaultValue=x,A=d.textContent,A===x&&A!==""&&A!==null&&(d.value=A)}function Wi(d,h){if(h){var x=d.firstChild;if(x&&x===d.lastChild&&x.nodeType===3){x.nodeValue=h;return}}d.textContent=h}var bo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function no(d,h,x){var A=h.indexOf("--")===0;x==null||typeof x=="boolean"||x===""?A?d.setProperty(h,""):h==="float"?d.cssFloat="":d[h]="":A?d.setProperty(h,x):typeof x!="number"||x===0||bo.has(h)?h==="float"?d.cssFloat=x:d[h]=(""+x).trim():d[h]=x+"px"}function Ma(d,h,x){if(h!=null&&typeof h!="object")throw Error(r(62));if(d=d.style,x!=null){for(var A in x)!x.hasOwnProperty(A)||h!=null&&h.hasOwnProperty(A)||(A.indexOf("--")===0?d.setProperty(A,""):A==="float"?d.cssFloat="":d[A]="");for(var L in h)A=h[L],h.hasOwnProperty(L)&&x[L]!==A&&no(d,L,A)}else for(var G in h)h.hasOwnProperty(G)&&no(d,G,h[G])}function Os(d){if(d.indexOf("-")===-1)return!1;switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var od=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xr(d){return Xc.test(""+d)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":d}var ko=null;function Ua(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var va=null,Ta=null;function Is(d){var h=le(d);if(h&&(d=h.stateNode)){var x=d[un]||null;e:switch(d=h.stateNode,h.type){case"input":if(An(d,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name),h=x.name,x.type==="radio"&&h!=null){for(x=d;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll('input[name="'+Zn(""+h)+'"][type="radio"]'),h=0;h<x.length;h++){var A=x[h];if(A!==d&&A.form===d.form){var L=A[un]||null;if(!L)throw Error(r(90));An(A,L.value,L.defaultValue,L.defaultValue,L.checked,L.defaultChecked,L.type,L.name)}}for(h=0;h<x.length;h++)A=x[h],A.form===d.form&&$n(A)}break e;case"textarea":Ki(d,x.value,x.defaultValue);break e;case"select":h=x.value,h!=null&&$i(d,!!x.multiple,h,!1)}}}var So=!1;function $l(d,h,x){if(So)return d(h,x);So=!0;try{var A=d(h);return A}finally{if(So=!1,(va!==null||Ta!==null)&&(Od(),va&&(h=va,d=Ta,Ta=va=null,Is(h),d)))for(h=0;h<d.length;h++)Is(d[h])}}function tn(d,h){var x=d.stateNode;if(x===null)return null;var A=x[un]||null;if(A===null)return null;x=A[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(A=!A.disabled)||(d=d.type,A=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!A;break e;default:d=!1}if(d)return null;if(x&&typeof x!="function")throw Error(r(231,h,typeof x));return x}var Sn=!1;if(Wt)try{var Mi={};Object.defineProperty(Mi,"passive",{get:function(){Sn=!0}}),window.addEventListener("test",Mi,Mi),window.removeEventListener("test",Mi,Mi)}catch{Sn=!1}var Ci=null,Hi=null,Bs=null;function $o(){if(Bs)return Bs;var d,h=Hi,x=h.length,A,L="value"in Ci?Ci.value:Ci.textContent,G=L.length;for(d=0;d<x&&h[d]===L[d];d++);var ne=x-d;for(A=1;A<=ne&&h[x-A]===L[G-A];A++);return Bs=L.slice(d,1<A?1-A:void 0)}function Fa(d){var h=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&h===13&&(d=13)):d=h,d===10&&(d=13),32<=d||d===13?d:0}function Vo(){return!0}function Vl(){return!1}function ya(d){function h(x,A,L,G,ne){this._reactName=x,this._targetInst=L,this.type=A,this.nativeEvent=G,this.target=ne,this.currentTarget=null;for(var ge in d)d.hasOwnProperty(ge)&&(x=d[ge],this[ge]=x?x(G):G[ge]);return this.isDefaultPrevented=(G.defaultPrevented!=null?G.defaultPrevented:G.returnValue===!1)?Vo:Vl,this.isPropagationStopped=Vl,this}return z(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=Vo)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=Vo)},persist:function(){},isPersistent:Vo}),h}var sl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ll=ya(sl),jl=z({},sl,{view:0,detail:0}),Wh=ya(jl),jo,Yc,qc,io=z({},jl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cl,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==qc&&(qc&&d.type==="mousemove"?(jo=d.screenX-qc.screenX,Yc=d.screenY-qc.screenY):Yc=jo=0,qc=d),jo)},movementY:function(d){return"movementY"in d?d.movementY:Yc}}),Xh=ya(io),Wm=z({},io,{dataTransfer:0}),H0=ya(Wm),Qr=z({},jl,{relatedTarget:0}),sd=ya(Qr),ba=z({},sl,{animationName:0,elapsedTime:0,pseudoElement:0}),Xm=ya(ba),Ym=z({},sl,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),qm=ya(Ym),ld=z({},sl,{data:0}),xf=ya(ld),Km={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cf(d){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(d):(d=Qm[d])?!!h[d]:!1}function cl(){return Cf}var ul=z({},jl,{key:function(d){if(d.key){var h=Km[d.key]||d.key;if(h!=="Unidentified")return h}return d.type==="keypress"?(d=Fa(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?Jm[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cl,charCode:function(d){return d.type==="keypress"?Fa(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?Fa(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),Kc=ya(ul),Yh=z({},io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cd=ya(Yh),qh=z({},jl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cl}),Ef=ya(qh),Jc=z({},sl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ds=ya(Jc),Kh=z({},io,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),G0=ya(Kh),Zm=z({},sl,{newState:0,oldState:0}),dl=ya(Zm),Ps=[9,13,27,32],Wl=Wt&&"CompositionEvent"in window,Xl=null;Wt&&"documentMode"in document&&(Xl=document.documentMode);var fl=Wt&&"TextEvent"in window&&!Xl,ud=Wt&&(!Wl||Xl&&8<Xl&&11>=Xl),us=" ",la=!1;function dd(d,h){switch(d){case"keyup":return Ps.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wf(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var _o=!1;function xo(d,h){switch(d){case"compositionend":return wf(h);case"keypress":return h.which!==32?null:(la=!0,us);case"textInput":return d=h.data,d===us&&la?null:d;default:return null}}function Af(d,h){if(_o)return d==="compositionend"||!Wl&&dd(d,h)?(d=$o(),Bs=Hi=Ci=null,_o=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return ud&&h.locale!=="ko"?null:h.data;default:return null}}var Qc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jh(d){var h=d&&d.nodeName&&d.nodeName.toLowerCase();return h==="input"?!!Qc[d.type]:h==="textarea"}function Ha(d,h,x,A){va?Ta?Ta.push(A):Ta=[A]:va=A,h=q_(h,"onChange"),0<h.length&&(x=new ll("onChange","change",null,x,A),d.push({event:x,listeners:h}))}var Zc=null,Yl=null;function eg(d){wB(d,0)}function fd(d){var h=Ue(d);if($n(h))return d}function Mf(d,h){if(d==="change")return h}var Tf=!1;if(Wt){var Rf;if(Wt){var eu="oninput"in document;if(!eu){var D=document.createElement("div");D.setAttribute("oninput","return;"),eu=typeof D.oninput=="function"}Rf=eu}else Rf=!1;Tf=Rf&&(!document.documentMode||9<document.documentMode)}function I(){Zc&&(Zc.detachEvent("onpropertychange",H),Yl=Zc=null)}function H(d){if(d.propertyName==="value"&&fd(Yl)){var h=[];Ha(h,Yl,d,Ua(d)),$l(eg,h)}}function V(d,h,x){d==="focusin"?(I(),Zc=h,Yl=x,Zc.attachEvent("onpropertychange",H)):d==="focusout"&&I()}function X(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return fd(Yl)}function te(d,h){if(d==="click")return fd(h)}function se(d,h){if(d==="input"||d==="change")return fd(h)}function me(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var ye=typeof Object.is=="function"?Object.is:me;function Pe(d,h){if(ye(d,h))return!0;if(typeof d!="object"||d===null||typeof h!="object"||h===null)return!1;var x=Object.keys(d),A=Object.keys(h);if(x.length!==A.length)return!1;for(A=0;A<x.length;A++){var L=x[A];if(!ct.call(h,L)||!ye(d[L],h[L]))return!1}return!0}function Ce(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function Qe(d,h){var x=Ce(d);d=0;for(var A;x;){if(x.nodeType===3){if(A=d+x.textContent.length,d<=h&&A>=h)return{node:x,offset:h-d};d=A}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=Ce(x)}}function bt(d,h){return d&&h?d===h?!0:d&&d.nodeType===3?!1:h&&h.nodeType===3?bt(d,h.parentNode):"contains"in d?d.contains(h):d.compareDocumentPosition?!!(d.compareDocumentPosition(h)&16):!1:!1}function zt(d){d=d!=null&&d.ownerDocument!=null&&d.ownerDocument.defaultView!=null?d.ownerDocument.defaultView:window;for(var h=Tn(d.document);h instanceof d.HTMLIFrameElement;){try{var x=typeof h.contentWindow.location.href=="string"}catch{x=!1}if(x)d=h.contentWindow;else break;h=Tn(d.document)}return h}function Dt(d){var h=d&&d.nodeName&&d.nodeName.toLowerCase();return h&&(h==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||h==="textarea"||d.contentEditable==="true")}function kt(d,h){var x=zt(h);h=d.focusedElem;var A=d.selectionRange;if(x!==h&&h&&h.ownerDocument&&bt(h.ownerDocument.documentElement,h)){if(A!==null&&Dt(h)){if(d=A.start,x=A.end,x===void 0&&(x=d),"selectionStart"in h)h.selectionStart=d,h.selectionEnd=Math.min(x,h.value.length);else if(x=(d=h.ownerDocument||document)&&d.defaultView||window,x.getSelection){x=x.getSelection();var L=h.textContent.length,G=Math.min(A.start,L);A=A.end===void 0?G:Math.min(A.end,L),!x.extend&&G>A&&(L=A,A=G,G=L),L=Qe(h,G);var ne=Qe(h,A);L&&ne&&(x.rangeCount!==1||x.anchorNode!==L.node||x.anchorOffset!==L.offset||x.focusNode!==ne.node||x.focusOffset!==ne.offset)&&(d=d.createRange(),d.setStart(L.node,L.offset),x.removeAllRanges(),G>A?(x.addRange(d),x.extend(ne.node,ne.offset)):(d.setEnd(ne.node,ne.offset),x.addRange(d)))}}for(d=[],x=h;x=x.parentNode;)x.nodeType===1&&d.push({element:x,left:x.scrollLeft,top:x.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<d.length;h++)x=d[h],x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}var an=Wt&&"documentMode"in document&&11>=document.documentMode,Zt=null,hn=null,Ln=null,ei=!1;function pn(d,h,x){var A=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;ei||Zt==null||Zt!==Tn(A)||(A=Zt,"selectionStart"in A&&Dt(A)?A={start:A.selectionStart,end:A.selectionEnd}:(A=(A.ownerDocument&&A.ownerDocument.defaultView||window).getSelection(),A={anchorNode:A.anchorNode,anchorOffset:A.anchorOffset,focusNode:A.focusNode,focusOffset:A.focusOffset}),Ln&&Pe(Ln,A)||(Ln=A,A=q_(hn,"onSelect"),0<A.length&&(h=new ll("onSelect","select",null,h,x),d.push({event:h,listeners:A}),h.target=Zt)))}function Rn(d,h){var x={};return x[d.toLowerCase()]=h.toLowerCase(),x["Webkit"+d]="webkit"+h,x["Moz"+d]="moz"+h,x}var Mr={animationend:Rn("Animation","AnimationEnd"),animationiteration:Rn("Animation","AnimationIteration"),animationstart:Rn("Animation","AnimationStart"),transitionrun:Rn("Transition","TransitionRun"),transitionstart:Rn("Transition","TransitionStart"),transitioncancel:Rn("Transition","TransitionCancel"),transitionend:Rn("Transition","TransitionEnd")},Ji={},Sa={};Wt&&(Sa=document.createElement("div").style,"AnimationEvent"in window||(delete Mr.animationend.animation,delete Mr.animationiteration.animation,delete Mr.animationstart.animation),"TransitionEvent"in window||delete Mr.transitionend.transition);function Ni(d){if(Ji[d])return Ji[d];if(!Mr[d])return d;var h=Mr[d],x;for(x in h)if(h.hasOwnProperty(x)&&x in Sa)return Ji[d]=h[x];return d}var Wo=Ni("animationend"),ca=Ni("animationiteration"),ql=Ni("animationstart"),Kl=Ni("transitionrun"),Of=Ni("transitionstart"),tu=Ni("transitioncancel"),tg=Ni("transitionend"),ng=new Map,Jl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ds(d,h){ng.set(d,h),$t(h,[d])}var Ra=[],hl=0,Ql=0;function Qh(){for(var d=hl,h=Ql=hl=0;h<d;){var x=Ra[h];Ra[h++]=null;var A=Ra[h];Ra[h++]=null;var L=Ra[h];Ra[h++]=null;var G=Ra[h];if(Ra[h++]=null,A!==null&&L!==null){var ne=A.pending;ne===null?L.next=L:(L.next=ne.next,ne.next=L),A.pending=L}G!==0&&ep(x,L,G)}}function Zh(d,h,x,A){Ra[hl++]=d,Ra[hl++]=h,Ra[hl++]=x,Ra[hl++]=A,Ql|=A,d.lanes|=A,d=d.alternate,d!==null&&(d.lanes|=A)}function hd(d,h,x,A){return Zh(d,h,x,A),tp(d)}function Zl(d,h){return Zh(d,null,null,h),tp(d)}function ep(d,h,x){d.lanes|=x;var A=d.alternate;A!==null&&(A.lanes|=x);for(var L=!1,G=d.return;G!==null;)G.childLanes|=x,A=G.alternate,A!==null&&(A.childLanes|=x),G.tag===22&&(d=G.stateNode,d===null||d._visibility&1||(L=!0)),d=G,G=G.return;L&&h!==null&&d.tag===3&&(G=d.stateNode,L=31-Ge(x),G=G.hiddenUpdates,d=G[L],d===null?G[L]=[h]:d.push(h),h.lane=x|536870912)}function tp(d){if(50<_s)throw _s=0,Sc=null,Error(r(185));for(var h=d.return;h!==null;)d=h,h=d.return;return d.tag===3?d.stateNode:null}var nu={},ig=new WeakMap;function Co(d,h){if(typeof d=="object"&&d!==null){var x=ig.get(d);return x!==void 0?x:(h={value:d,source:h,stack:K(h)},ig.set(d,h),h)}return{value:d,source:h,stack:K(h)}}var pd=[],iu=0,Ga=null,np=0,ur=[],Xo=0,ec=null,pl=1,tc="";function ro(d,h){pd[iu++]=np,pd[iu++]=Ga,Ga=d,np=h}function k0(d,h,x){ur[Xo++]=pl,ur[Xo++]=tc,ur[Xo++]=ec,ec=d;var A=pl;d=tc;var L=32-Ge(A)-1;A&=~(1<<L),x+=1;var G=32-Ge(h)+L;if(30<G){var ne=L-L%5;G=(A&(1<<ne)-1).toString(32),A>>=ne,L-=ne,pl=1<<32-Ge(h)+L|x<<L|A,tc=G+d}else pl=1<<G|x<<L|A,tc=d}function ip(d){d.return!==null&&(ro(d,1),k0(d,1,0))}function ru(d){for(;d===Ga;)Ga=pd[--iu],pd[iu]=null,np=pd[--iu],pd[iu]=null;for(;d===ec;)ec=ur[--Xo],ur[Xo]=null,tc=ur[--Xo],ur[Xo]=null,pl=ur[--Xo],ur[Xo]=null}var ka=null,_a=null,Ti=!1,fs=null,hs=!1,rp=Error(r(519));function md(d){var h=Error(r(418,""));throw ml(Co(h,d)),rp}function e_(d){var h=d.stateNode,x=d.type,A=d.memoizedProps;switch(h[Qn]=d,h[un]=A,x){case"dialog":Oi("cancel",h),Oi("close",h);break;case"iframe":case"object":case"embed":Oi("load",h);break;case"video":case"audio":for(x=0;x<xy.length;x++)Oi(xy[x],h);break;case"source":Oi("error",h);break;case"img":case"image":case"link":Oi("error",h),Oi("load",h);break;case"details":Oi("toggle",h);break;case"input":Oi("invalid",h),xi(h,A.value,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name,!0),Wn(h);break;case"select":Oi("invalid",h);break;case"textarea":Oi("invalid",h),Ir(h,A.value,A.defaultValue,A.children),Wn(h)}x=A.children,typeof x!="string"&&typeof x!="number"&&typeof x!="bigint"||h.textContent===""+x||A.suppressHydrationWarning===!0||RB(h.textContent,x)?(A.popover!=null&&(Oi("beforetoggle",h),Oi("toggle",h)),A.onScroll!=null&&Oi("scroll",h),A.onScrollEnd!=null&&Oi("scrollend",h),A.onClick!=null&&(h.onclick=K_),h=!0):h=!1,h||md(d)}function t_(d){for(ka=d.return;ka;)switch(ka.tag){case 3:case 27:hs=!0;return;case 5:case 13:hs=!1;return;default:ka=ka.return}}function If(d){if(d!==ka)return!1;if(!Ti)return t_(d),Ti=!0,!1;var h=!1,x;if((x=d.tag!==3&&d.tag!==27)&&((x=d.tag===5)&&(x=d.type,x=!(x!=="form"&&x!=="button")||GA(d.type,d.memoizedProps)),x=!x),x&&(h=!0),h&&_a&&md(d),t_(d),d.tag===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));e:{for(d=d.nextSibling,h=0;d;){if(d.nodeType===8)if(x=d.data,x==="/$"){if(h===0){_a=xc(d.nextSibling);break e}h--}else x!=="$"&&x!=="$!"&&x!=="$?"||h++;d=d.nextSibling}_a=null}}else _a=ka?xc(d.stateNode.nextSibling):null;return!0}function Bf(){_a=ka=null,Ti=!1}function ml(d){fs===null?fs=[d]:fs.push(d)}var au=Error(r(460)),$0=Error(r(474)),rg={then:function(){}};function n_(d){return d=d.status,d==="fulfilled"||d==="rejected"}function ap(){}function ou(d,h,x){switch(x=d[x],x===void 0?d.push(h):x!==h&&(h.then(ap,ap),h=x),h.status){case"fulfilled":return h.value;case"rejected":throw d=h.reason,d===au?Error(r(483)):d;default:if(typeof h.status=="string")h.then(ap,ap);else{if(d=Zi,d!==null&&100<d.shellSuspendCounter)throw Error(r(482));d=h,d.status="pending",d.then(function(A){if(h.status==="pending"){var L=h;L.status="fulfilled",L.value=A}},function(A){if(h.status==="pending"){var L=h;L.status="rejected",L.reason=A}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw d=h.reason,d===au?Error(r(483)):d}throw Df=h,au}}var Df=null;function Vi(){if(Df===null)throw Error(r(459));var d=Df;return Df=null,d}var su=null,op=0;function sp(d){var h=op;return op+=1,su===null&&(su=[]),ou(su,d,h)}function lp(d,h){h=h.props.ref,d.ref=h!==void 0?h:null}function ag(d,h){throw h.$$typeof===o?Error(r(525)):(d=Object.prototype.toString.call(h),Error(r(31,d==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":d)))}function i_(d){var h=d._init;return h(d._payload)}function r_(d){function h(nt,je){if(d){var ut=nt.deletions;ut===null?(nt.deletions=[je],nt.flags|=16):ut.push(je)}}function x(nt,je){if(!d)return null;for(;je!==null;)h(nt,je),je=je.sibling;return null}function A(nt){for(var je=new Map;nt!==null;)nt.key!==null?je.set(nt.key,nt):je.set(nt.index,nt),nt=nt.sibling;return je}function L(nt,je){return nt=lo(nt,je),nt.index=0,nt.sibling=null,nt}function G(nt,je,ut){return nt.index=ut,d?(ut=nt.alternate,ut!==null?(ut=ut.index,ut<je?(nt.flags|=33554434,je):ut):(nt.flags|=33554434,je)):(nt.flags|=1048576,je)}function ne(nt){return d&&nt.alternate===null&&(nt.flags|=33554434),nt}function ge(nt,je,ut,Ot){return je===null||je.tag!==6?(je=na(ut,nt.mode,Ot),je.return=nt,je):(je=L(je,ut),je.return=nt,je)}function Re(nt,je,ut,Ot){var fn=ut.type;return fn===u?At(nt,je,ut.props.children,Ot,ut.key):je!==null&&(je.elementType===fn||typeof fn=="object"&&fn!==null&&fn.$$typeof===C&&i_(fn)===je.type)?(je=L(je,ut.props),lp(je,ut),je.return=nt,je):(je=Yf(ut.type,ut.key,ut.props,null,nt.mode,Ot),lp(je,ut),je.return=nt,je)}function Ye(nt,je,ut,Ot){return je===null||je.tag!==4||je.stateNode.containerInfo!==ut.containerInfo||je.stateNode.implementation!==ut.implementation?(je=Sp(ut,nt.mode,Ot),je.return=nt,je):(je=L(je,ut.children||[]),je.return=nt,je)}function At(nt,je,ut,Ot,fn){return je===null||je.tag!==7?(je=Au(ut,nt.mode,Ot,fn),je.return=nt,je):(je=L(je,ut),je.return=nt,je)}function Ut(nt,je,ut){if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return je=na(""+je,nt.mode,ut),je.return=nt,je;if(typeof je=="object"&&je!==null){switch(je.$$typeof){case l:return ut=Yf(je.type,je.key,je.props,null,nt.mode,ut),lp(ut,je),ut.return=nt,ut;case s:return je=Sp(je,nt.mode,ut),je.return=nt,je;case C:var Ot=je._init;return je=Ot(je._payload),Ut(nt,je,ut)}if(fe(je)||B(je))return je=Au(je,nt.mode,ut,null),je.return=nt,je;if(typeof je.then=="function")return Ut(nt,sp(je),ut);if(je.$$typeof===E)return Ut(nt,xg(nt,je),ut);ag(nt,je)}return null}function ft(nt,je,ut,Ot){var fn=je!==null?je.key:null;if(typeof ut=="string"&&ut!==""||typeof ut=="number"||typeof ut=="bigint")return fn!==null?null:ge(nt,je,""+ut,Ot);if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case l:return ut.key===fn?Re(nt,je,ut,Ot):null;case s:return ut.key===fn?Ye(nt,je,ut,Ot):null;case C:return fn=ut._init,ut=fn(ut._payload),ft(nt,je,ut,Ot)}if(fe(ut)||B(ut))return fn!==null?null:At(nt,je,ut,Ot,null);if(typeof ut.then=="function")return ft(nt,je,sp(ut),Ot);if(ut.$$typeof===E)return ft(nt,je,xg(nt,ut),Ot);ag(nt,ut)}return null}function Et(nt,je,ut,Ot,fn){if(typeof Ot=="string"&&Ot!==""||typeof Ot=="number"||typeof Ot=="bigint")return nt=nt.get(ut)||null,ge(je,nt,""+Ot,fn);if(typeof Ot=="object"&&Ot!==null){switch(Ot.$$typeof){case l:return nt=nt.get(Ot.key===null?ut:Ot.key)||null,Re(je,nt,Ot,fn);case s:return nt=nt.get(Ot.key===null?ut:Ot.key)||null,Ye(je,nt,Ot,fn);case C:var yi=Ot._init;return Ot=yi(Ot._payload),Et(nt,je,ut,Ot,fn)}if(fe(Ot)||B(Ot))return nt=nt.get(ut)||null,At(je,nt,Ot,fn,null);if(typeof Ot.then=="function")return Et(nt,je,ut,sp(Ot),fn);if(Ot.$$typeof===E)return Et(nt,je,ut,xg(je,Ot),fn);ag(je,Ot)}return null}function xn(nt,je,ut,Ot){for(var fn=null,yi=null,En=je,Fn=je=0,qa=null;En!==null&&Fn<ut.length;Fn++){En.index>Fn?(qa=En,En=null):qa=En.sibling;var ji=ft(nt,En,ut[Fn],Ot);if(ji===null){En===null&&(En=qa);break}d&&En&&ji.alternate===null&&h(nt,En),je=G(ji,je,Fn),yi===null?fn=ji:yi.sibling=ji,yi=ji,En=qa}if(Fn===ut.length)return x(nt,En),Ti&&ro(nt,Fn),fn;if(En===null){for(;Fn<ut.length;Fn++)En=Ut(nt,ut[Fn],Ot),En!==null&&(je=G(En,je,Fn),yi===null?fn=En:yi.sibling=En,yi=En);return Ti&&ro(nt,Fn),fn}for(En=A(En);Fn<ut.length;Fn++)qa=Et(En,nt,Fn,ut[Fn],Ot),qa!==null&&(d&&qa.alternate!==null&&En.delete(qa.key===null?Fn:qa.key),je=G(qa,je,Fn),yi===null?fn=qa:yi.sibling=qa,yi=qa);return d&&En.forEach(function(ih){return h(nt,ih)}),Ti&&ro(nt,Fn),fn}function Kn(nt,je,ut,Ot){if(ut==null)throw Error(r(151));for(var fn=null,yi=null,En=je,Fn=je=0,qa=null,ji=ut.next();En!==null&&!ji.done;Fn++,ji=ut.next()){En.index>Fn?(qa=En,En=null):qa=En.sibling;var ih=ft(nt,En,ji.value,Ot);if(ih===null){En===null&&(En=qa);break}d&&En&&ih.alternate===null&&h(nt,En),je=G(ih,je,Fn),yi===null?fn=ih:yi.sibling=ih,yi=ih,En=qa}if(ji.done)return x(nt,En),Ti&&ro(nt,Fn),fn;if(En===null){for(;!ji.done;Fn++,ji=ut.next())ji=Ut(nt,ji.value,Ot),ji!==null&&(je=G(ji,je,Fn),yi===null?fn=ji:yi.sibling=ji,yi=ji);return Ti&&ro(nt,Fn),fn}for(En=A(En);!ji.done;Fn++,ji=ut.next())ji=Et(En,nt,Fn,ji.value,Ot),ji!==null&&(d&&ji.alternate!==null&&En.delete(ji.key===null?Fn:ji.key),je=G(ji,je,Fn),yi===null?fn=ji:yi.sibling=ji,yi=ji);return d&&En.forEach(function(y5){return h(nt,y5)}),Ti&&ro(nt,Fn),fn}function aa(nt,je,ut,Ot){if(typeof ut=="object"&&ut!==null&&ut.type===u&&ut.key===null&&(ut=ut.props.children),typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case l:e:{for(var fn=ut.key;je!==null;){if(je.key===fn){if(fn=ut.type,fn===u){if(je.tag===7){x(nt,je.sibling),Ot=L(je,ut.props.children),Ot.return=nt,nt=Ot;break e}}else if(je.elementType===fn||typeof fn=="object"&&fn!==null&&fn.$$typeof===C&&i_(fn)===je.type){x(nt,je.sibling),Ot=L(je,ut.props),lp(Ot,ut),Ot.return=nt,nt=Ot;break e}x(nt,je);break}else h(nt,je);je=je.sibling}ut.type===u?(Ot=Au(ut.props.children,nt.mode,Ot,ut.key),Ot.return=nt,nt=Ot):(Ot=Yf(ut.type,ut.key,ut.props,null,nt.mode,Ot),lp(Ot,ut),Ot.return=nt,nt=Ot)}return ne(nt);case s:e:{for(fn=ut.key;je!==null;){if(je.key===fn)if(je.tag===4&&je.stateNode.containerInfo===ut.containerInfo&&je.stateNode.implementation===ut.implementation){x(nt,je.sibling),Ot=L(je,ut.children||[]),Ot.return=nt,nt=Ot;break e}else{x(nt,je);break}else h(nt,je);je=je.sibling}Ot=Sp(ut,nt.mode,Ot),Ot.return=nt,nt=Ot}return ne(nt);case C:return fn=ut._init,ut=fn(ut._payload),aa(nt,je,ut,Ot)}if(fe(ut))return xn(nt,je,ut,Ot);if(B(ut)){if(fn=B(ut),typeof fn!="function")throw Error(r(150));return ut=fn.call(ut),Kn(nt,je,ut,Ot)}if(typeof ut.then=="function")return aa(nt,je,sp(ut),Ot);if(ut.$$typeof===E)return aa(nt,je,xg(nt,ut),Ot);ag(nt,ut)}return typeof ut=="string"&&ut!==""||typeof ut=="number"||typeof ut=="bigint"?(ut=""+ut,je!==null&&je.tag===6?(x(nt,je.sibling),Ot=L(je,ut),Ot.return=nt,nt=Ot):(x(nt,je),Ot=na(ut,nt.mode,Ot),Ot.return=nt,nt=Ot),ne(nt)):x(nt,je)}return function(nt,je,ut,Ot){try{op=0;var fn=aa(nt,je,ut,Ot);return su=null,fn}catch(En){if(En===au)throw En;var yi=jr(29,En,null,nt.mode);return yi.lanes=Ot,yi.return=nt,yi}finally{}}}var nc=r_(!0),ic=r_(!1),gd=we(null),vd=we(0);function lu(d,h){d=bc,ze(vd,d),ze(gd,h),bc=d|h.baseLanes}function og(){ze(vd,bc),ze(gd,gd.current)}function cp(){bc=vd.current,Te(gd),Te(vd)}var Eo=we(null),gl=null;function rc(d){var h=d.alternate;ze(Zr,Zr.current&1),ze(Eo,d),gl===null&&(h===null||gd.current!==null||h.memoizedState!==null)&&(gl=d)}function V0(d){if(d.tag===22){if(ze(Zr,Zr.current),ze(Eo,d),gl===null){var h=d.alternate;h!==null&&h.memoizedState!==null&&(gl=d)}}else ac()}function ac(){ze(Zr,Zr.current),ze(Eo,Eo.current)}function vl(d){Te(Eo),gl===d&&(gl=null),Te(Zr)}var Zr=we(0);function Pf(d){for(var h=d;h!==null;){if(h.tag===13){var x=h.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||x.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var hi=typeof AbortController<"u"?AbortController:function(){var d=[],h=this.signal={aborted:!1,addEventListener:function(x,A){d.push(A)}};this.abort=function(){h.aborted=!0,d.forEach(function(x){return x()})}},xA=n.unstable_scheduleCallback,Yo=n.unstable_NormalPriority,Fr={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function j0(){return{controller:new hi,data:new Map,refCount:0}}function cu(d){d.refCount--,d.refCount===0&&xA(Yo,function(){d.controller.abort()})}var yl=null,uu=0,yd=0,du=null;function CA(d,h){if(yl===null){var x=yl=[];uu=0,yd=BA(),du={status:"pending",value:void 0,then:function(A){x.push(A)}}}return uu++,h.then(W0,W0),h}function W0(){if(--uu===0&&yl!==null){du!==null&&(du.status="fulfilled");var d=yl;yl=null,yd=0,du=null;for(var h=0;h<d.length;h++)(0,d[h])()}}function fu(d,h){var x=[],A={status:"pending",value:null,reason:null,then:function(L){x.push(L)}};return d.then(function(){A.status="fulfilled",A.value=h;for(var L=0;L<x.length;L++)(0,x[L])(h)},function(L){for(A.status="rejected",A.reason=L,L=0;L<x.length;L++)(0,x[L])(void 0)}),A}var sg=U.S;U.S=function(d,h){typeof h=="object"&&h!==null&&typeof h.then=="function"&&CA(d,h),sg!==null&&sg(d,h)};var oc=we(null);function up(){var d=oc.current;return d!==null?d:Zi.pooledCache}function Lf(d,h){h===null?ze(oc,oc.current):ze(oc,h.pool)}function sc(){var d=up();return d===null?null:{parent:Fr._currentValue,pool:d}}var lc=0,si=null,Xi=null,ea=null,Un=!1,hu=!1,pu=!1,Nf=0,mu=0,zf=null,EA=0;function Br(){throw Error(r(321))}function bd(d,h){if(h===null)return!1;for(var x=0;x<h.length&&x<d.length;x++)if(!ye(d[x],h[x]))return!1;return!0}function X0(d,h,x,A,L,G){return lc=G,si=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,U.H=d===null||d.memoizedState===null?vu:uc,pu=!1,G=x(A,L),pu=!1,hu&&(G=o_(h,x,A,L)),a_(d),G}function a_(d){U.H=Sl;var h=Xi!==null&&Xi.next!==null;if(lc=0,ea=Xi=si=null,Un=!1,mu=0,zf=null,h)throw Error(r(300));d===null||ua||(d=d.dependencies,d!==null&&kf(d)&&(ua=!0))}function o_(d,h,x,A){si=d;var L=0;do{if(hu&&(zf=null),mu=0,hu=!1,25<=L)throw Error(r(301));if(L+=1,ea=Xi=null,d.updateQueue!=null){var G=d.updateQueue;G.lastEffect=null,G.events=null,G.stores=null,G.memoCache!=null&&(G.memoCache.index=0)}U.H=xd,G=h(x,A)}while(hu);return G}function wA(){var d=U.H,h=d.useState()[0];return h=typeof h.then=="function"?fp(h):h,d=d.useState()[0],(Xi!==null?Xi.memoizedState:null)!==d&&(si.flags|=1024),h}function Y0(){var d=Nf!==0;return Nf=0,d}function dp(d,h,x){h.updateQueue=d.updateQueue,h.flags&=-2053,d.lanes&=~x}function lg(d){if(Un){for(d=d.memoizedState;d!==null;){var h=d.queue;h!==null&&(h.pending=null),d=d.next}Un=!1}lc=0,ea=Xi=si=null,hu=!1,mu=Nf=0,zf=null}function Oa(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ea===null?si.memoizedState=ea=d:ea=ea.next=d,ea}function Hr(){if(Xi===null){var d=si.alternate;d=d!==null?d.memoizedState:null}else d=Xi.next;var h=ea===null?si.memoizedState:ea.next;if(h!==null)ea=h,Xi=d;else{if(d===null)throw si.alternate===null?Error(r(467)):Error(r(310));Xi=d,d={memoizedState:Xi.memoizedState,baseState:Xi.baseState,baseQueue:Xi.baseQueue,queue:Xi.queue,next:null},ea===null?si.memoizedState=ea=d:ea=ea.next=d}return ea}var cg;cg=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function fp(d){var h=mu;return mu+=1,zf===null&&(zf=[]),d=ou(zf,d,h),h=si,(ea===null?h.memoizedState:ea.next)===null&&(h=h.alternate,U.H=h===null||h.memoizedState===null?vu:uc),d}function Uf(d){if(d!==null&&typeof d=="object"){if(typeof d.then=="function")return fp(d);if(d.$$typeof===E)return $a(d)}throw Error(r(438,String(d)))}function Ls(d){var h=null,x=si.updateQueue;if(x!==null&&(h=x.memoCache),h==null){var A=si.alternate;A!==null&&(A=A.updateQueue,A!==null&&(A=A.memoCache,A!=null&&(h={data:A.data.map(function(L){return L.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),x===null&&(x=cg(),si.updateQueue=x),x.memoCache=h,x=h.data[h.index],x===void 0)for(x=h.data[h.index]=Array(d),A=0;A<d;A++)x[A]=M;return h.index++,x}function Cr(d,h){return typeof h=="function"?h(d):h}function Ns(d){var h=Hr();return wo(h,Xi,d)}function wo(d,h,x){var A=d.queue;if(A===null)throw Error(r(311));A.lastRenderedReducer=x;var L=d.baseQueue,G=A.pending;if(G!==null){if(L!==null){var ne=L.next;L.next=G.next,G.next=ne}h.baseQueue=L=G,A.pending=null}if(G=d.baseState,L===null)d.memoizedState=G;else{h=L.next;var ge=ne=null,Re=null,Ye=h,At=!1;do{var Ut=Ye.lane&-536870913;if(Ut!==Ye.lane?(On&Ut)===Ut:(lc&Ut)===Ut){var ft=Ye.revertLane;if(ft===0)Re!==null&&(Re=Re.next={lane:0,revertLane:0,action:Ye.action,hasEagerState:Ye.hasEagerState,eagerState:Ye.eagerState,next:null}),Ut===yd&&(At=!0);else if((lc&ft)===ft){Ye=Ye.next,ft===yd&&(At=!0);continue}else Ut={lane:0,revertLane:Ye.revertLane,action:Ye.action,hasEagerState:Ye.hasEagerState,eagerState:Ye.eagerState,next:null},Re===null?(ge=Re=Ut,ne=G):Re=Re.next=Ut,si.lanes|=ft,$s|=ft;Ut=Ye.action,pu&&x(G,Ut),G=Ye.hasEagerState?Ye.eagerState:x(G,Ut)}else ft={lane:Ut,revertLane:Ye.revertLane,action:Ye.action,hasEagerState:Ye.hasEagerState,eagerState:Ye.eagerState,next:null},Re===null?(ge=Re=ft,ne=G):Re=Re.next=ft,si.lanes|=Ut,$s|=Ut;Ye=Ye.next}while(Ye!==null&&Ye!==h);if(Re===null?ne=G:Re.next=ge,!ye(G,d.memoizedState)&&(ua=!0,At&&(x=du,x!==null)))throw x;d.memoizedState=G,d.baseState=ne,d.baseQueue=Re,A.lastRenderedState=G}return L===null&&(A.lanes=0),[d.memoizedState,A.dispatch]}function ug(d){var h=Hr(),x=h.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=d;var A=x.dispatch,L=x.pending,G=h.memoizedState;if(L!==null){x.pending=null;var ne=L=L.next;do G=d(G,ne.action),ne=ne.next;while(ne!==L);ye(G,h.memoizedState)||(ua=!0),h.memoizedState=G,h.baseQueue===null&&(h.baseState=G),x.lastRenderedState=G}return[G,A]}function s_(d,h,x){var A=si,L=Hr(),G=Ti;if(G){if(x===void 0)throw Error(r(407));x=x()}else x=h();var ne=!ye((Xi||L).memoizedState,x);if(ne&&(L.memoizedState=x,ua=!0),L=L.queue,Q0(l_.bind(null,A,L,d),[d]),L.getSnapshot!==h||ne||ea!==null&&ea.memoizedState.tag&1){if(A.flags|=2048,bl(9,gu.bind(null,A,L,x,h),{destroy:void 0},null),Zi===null)throw Error(r(349));G||(lc&60)!==0||ao(A,h,x)}return x}function ao(d,h,x){d.flags|=16384,d={getSnapshot:h,value:x},h=si.updateQueue,h===null?(h=cg(),si.updateQueue=h,h.stores=[d]):(x=h.stores,x===null?h.stores=[d]:x.push(d))}function gu(d,h,x,A){h.value=x,h.getSnapshot=A,c_(h)&&u_(d)}function l_(d,h,x){return x(function(){c_(h)&&u_(d)})}function c_(d){var h=d.getSnapshot;d=d.value;try{var x=h();return!ye(d,x)}catch{return!0}}function u_(d){var h=Zl(d,2);h!==null&&ra(h,d,2)}function q0(d){var h=Oa();if(typeof d=="function"){var x=d;if(d=x(),pu){Se(!0);try{x()}finally{Se(!1)}}}return h.memoizedState=h.baseState=d,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cr,lastRenderedState:d},h}function K0(d,h,x,A){return d.baseState=x,wo(d,Xi,typeof A=="function"?A:Cr)}function AA(d,h,x,A,L){if(mg(d))throw Error(r(485));if(d=h.action,d!==null){var G={payload:L,action:d,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ne){G.listeners.push(ne)}};U.T!==null?x(!0):G.isTransition=!1,A(G),x=h.pending,x===null?(G.next=h.pending=G,J0(h,G)):(G.next=x.next,h.pending=x.next=G)}}function J0(d,h){var x=h.action,A=h.payload,L=d.state;if(h.isTransition){var G=U.T,ne={};U.T=ne;try{var ge=x(L,A),Re=U.S;Re!==null&&Re(ne,ge),d_(d,h,ge)}catch(Ye){cc(d,h,Ye)}finally{U.T=G}}else try{G=x(L,A),d_(d,h,G)}catch(Ye){cc(d,h,Ye)}}function d_(d,h,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(A){Sd(d,h,A)},function(A){return cc(d,h,A)}):Sd(d,h,x)}function Sd(d,h,x){h.status="fulfilled",h.value=x,f_(h),d.state=x,h=d.pending,h!==null&&(x=h.next,x===h?d.pending=null:(x=x.next,h.next=x,J0(d,x)))}function cc(d,h,x){var A=d.pending;if(d.pending=null,A!==null){A=A.next;do h.status="rejected",h.reason=x,f_(h),h=h.next;while(h!==A)}d.action=null}function f_(d){d=d.listeners;for(var h=0;h<d.length;h++)(0,d[h])()}function h_(d,h){return h}function p_(d,h){if(Ti){var x=Zi.formState;if(x!==null){e:{var A=si;if(Ti){if(_a){t:{for(var L=_a,G=hs;L.nodeType!==8;){if(!G){L=null;break t}if(L=xc(L.nextSibling),L===null){L=null;break t}}G=L.data,L=G==="F!"||G==="F"?L:null}if(L){_a=xc(L.nextSibling),A=L.data==="F!";break e}}md(A)}A=!1}A&&(h=x[0])}}return x=Oa(),x.memoizedState=x.baseState=h,A={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h_,lastRenderedState:h},x.queue=A,x=ny.bind(null,si,A),A.dispatch=x,A=q0(!1),G=hp.bind(null,si,!1,A.queue),A=Oa(),L={state:h,dispatch:null,action:d,pending:null},A.queue=L,x=AA.bind(null,si,L,G,x),L.dispatch=x,A.memoizedState=d,[h,x,!1]}function Ff(d){var h=Hr();return m_(h,Xi,d)}function m_(d,h,x){h=wo(d,h,h_)[0],d=Ns(Cr)[0],h=typeof h=="object"&&h!==null&&typeof h.then=="function"?fp(h):h;var A=Hr(),L=A.queue,G=L.dispatch;return x!==A.memoizedState&&(si.flags|=2048,bl(9,MA.bind(null,L,x),{destroy:void 0},null)),[h,G,d]}function MA(d,h){d.action=h}function g_(d){var h=Hr(),x=Xi;if(x!==null)return m_(h,x,d);Hr(),h=h.memoizedState,x=Hr();var A=x.queue.dispatch;return x.memoizedState=d,[h,A,!1]}function bl(d,h,x,A){return d={tag:d,create:h,inst:x,deps:A,next:null},h=si.updateQueue,h===null&&(h=cg(),si.updateQueue=h),x=h.lastEffect,x===null?h.lastEffect=d.next=d:(A=x.next,x.next=d,d.next=A,h.lastEffect=d),d}function v_(){return Hr().memoizedState}function dg(d,h,x,A){var L=Oa();si.flags|=d,L.memoizedState=bl(1|h,x,{destroy:void 0},A===void 0?null:A)}function fg(d,h,x,A){var L=Hr();A=A===void 0?null:A;var G=L.memoizedState.inst;Xi!==null&&A!==null&&bd(A,Xi.memoizedState.deps)?L.memoizedState=bl(h,x,G,A):(si.flags|=d,L.memoizedState=bl(1|h,x,G,A))}function y_(d,h){dg(8390656,8,d,h)}function Q0(d,h){fg(2048,8,d,h)}function b_(d,h){return fg(4,2,d,h)}function S_(d,h){return fg(4,4,d,h)}function __(d,h){if(typeof h=="function"){d=d();var x=h(d);return function(){typeof x=="function"?x():h(null)}}if(h!=null)return d=d(),h.current=d,function(){h.current=null}}function x_(d,h,x){x=x!=null?x.concat([d]):null,fg(4,4,__.bind(null,h,d),x)}function Z0(){}function C_(d,h){var x=Hr();h=h===void 0?null:h;var A=x.memoizedState;return h!==null&&bd(h,A[1])?A[0]:(x.memoizedState=[d,h],d)}function E_(d,h){var x=Hr();h=h===void 0?null:h;var A=x.memoizedState;if(h!==null&&bd(h,A[1]))return A[0];if(A=d(),pu){Se(!0);try{d()}finally{Se(!1)}}return x.memoizedState=[A,h],A}function hg(d,h,x){return x===void 0||(lc&1073741824)!==0?d.memoizedState=h:(d.memoizedState=x,d=Zo(),si.lanes|=d,$s|=d,x)}function w_(d,h,x,A){return ye(x,h)?x:gd.current!==null?(d=hg(d,x,A),ye(d,h)||(ua=!0),d):(lc&42)===0?(ua=!0,d.memoizedState=x):(d=Zo(),si.lanes|=d,$s|=d,h)}function A_(d,h,x,A,L){var G=Z.p;Z.p=G!==0&&8>G?G:8;var ne=U.T,ge={};U.T=ge,hp(d,!1,h,x);try{var Re=L(),Ye=U.S;if(Ye!==null&&Ye(ge,Re),Re!==null&&typeof Re=="object"&&typeof Re.then=="function"){var At=fu(Re,A);_d(d,h,At,uo(d))}else _d(d,h,A,uo(d))}catch(Ut){_d(d,h,{then:function(){},status:"rejected",reason:Ut},uo())}finally{Z.p=G,U.T=ne}}function TA(){}function ey(d,h,x,A){if(d.tag!==5)throw Error(r(476));var L=M_(d).queue;A_(d,L,h,pe,x===null?TA:function(){return T_(d),x(A)})}function M_(d){var h=d.memoizedState;if(h!==null)return h;h={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cr,lastRenderedState:pe},next:null};var x={};return h.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cr,lastRenderedState:x},next:null},d.memoizedState=h,d=d.alternate,d!==null&&(d.memoizedState=h),h}function T_(d){var h=M_(d).next.queue;_d(d,h,{},uo())}function pg(){return $a(My)}function ty(){return Hr().memoizedState}function R_(){return Hr().memoizedState}function O_(d){for(var h=d.return;h!==null;){switch(h.tag){case 24:case 3:var x=uo();d=Jo(x);var A=Qo(h,d,x);A!==null&&(ra(A,h,x),Su(A,h,x)),h={cache:j0()},d.payload=h;return}h=h.return}}function I_(d,h,x){var A=uo();x={lane:A,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null},mg(d)?B_(h,x):(x=hd(d,h,x,A),x!==null&&(ra(x,d,A),D_(x,h,A)))}function ny(d,h,x){var A=uo();_d(d,h,x,A)}function _d(d,h,x,A){var L={lane:A,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null};if(mg(d))B_(h,L);else{var G=d.alternate;if(d.lanes===0&&(G===null||G.lanes===0)&&(G=h.lastRenderedReducer,G!==null))try{var ne=h.lastRenderedState,ge=G(ne,x);if(L.hasEagerState=!0,L.eagerState=ge,ye(ge,ne))return Zh(d,h,L,0),Zi===null&&Qh(),!1}catch{}finally{}if(x=hd(d,h,L,A),x!==null)return ra(x,d,A),D_(x,h,A),!0}return!1}function hp(d,h,x,A){if(A={lane:2,revertLane:BA(),action:A,hasEagerState:!1,eagerState:null,next:null},mg(d)){if(h)throw Error(r(479))}else h=hd(d,x,A,2),h!==null&&ra(h,d,2)}function mg(d){var h=d.alternate;return d===si||h!==null&&h===si}function B_(d,h){hu=Un=!0;var x=d.pending;x===null?h.next=h:(h.next=x.next,x.next=h),d.pending=h}function D_(d,h,x){if((x&4194176)!==0){var A=h.lanes;A&=d.pendingLanes,x|=A,h.lanes=x,zn(d,x)}}var Sl={readContext:$a,use:Uf,useCallback:Br,useContext:Br,useEffect:Br,useImperativeHandle:Br,useLayoutEffect:Br,useInsertionEffect:Br,useMemo:Br,useReducer:Br,useRef:Br,useState:Br,useDebugValue:Br,useDeferredValue:Br,useTransition:Br,useSyncExternalStore:Br,useId:Br};Sl.useCacheRefresh=Br,Sl.useMemoCache=Br,Sl.useHostTransitionStatus=Br,Sl.useFormState=Br,Sl.useActionState=Br,Sl.useOptimistic=Br;var vu={readContext:$a,use:Uf,useCallback:function(d,h){return Oa().memoizedState=[d,h===void 0?null:h],d},useContext:$a,useEffect:y_,useImperativeHandle:function(d,h,x){x=x!=null?x.concat([d]):null,dg(4194308,4,__.bind(null,h,d),x)},useLayoutEffect:function(d,h){return dg(4194308,4,d,h)},useInsertionEffect:function(d,h){dg(4,2,d,h)},useMemo:function(d,h){var x=Oa();h=h===void 0?null:h;var A=d();if(pu){Se(!0);try{d()}finally{Se(!1)}}return x.memoizedState=[A,h],A},useReducer:function(d,h,x){var A=Oa();if(x!==void 0){var L=x(h);if(pu){Se(!0);try{x(h)}finally{Se(!1)}}}else L=h;return A.memoizedState=A.baseState=L,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:L},A.queue=d,d=d.dispatch=I_.bind(null,si,d),[A.memoizedState,d]},useRef:function(d){var h=Oa();return d={current:d},h.memoizedState=d},useState:function(d){d=q0(d);var h=d.queue,x=ny.bind(null,si,h);return h.dispatch=x,[d.memoizedState,x]},useDebugValue:Z0,useDeferredValue:function(d,h){var x=Oa();return hg(x,d,h)},useTransition:function(){var d=q0(!1);return d=A_.bind(null,si,d.queue,!0,!1),Oa().memoizedState=d,[!1,d]},useSyncExternalStore:function(d,h,x){var A=si,L=Oa();if(Ti){if(x===void 0)throw Error(r(407));x=x()}else{if(x=h(),Zi===null)throw Error(r(349));(On&60)!==0||ao(A,h,x)}L.memoizedState=x;var G={value:x,getSnapshot:h};return L.queue=G,y_(l_.bind(null,A,G,d),[d]),A.flags|=2048,bl(9,gu.bind(null,A,G,x,h),{destroy:void 0},null),x},useId:function(){var d=Oa(),h=Zi.identifierPrefix;if(Ti){var x=tc,A=pl;x=(A&~(1<<32-Ge(A)-1)).toString(32)+x,h=":"+h+"R"+x,x=Nf++,0<x&&(h+="H"+x.toString(32)),h+=":"}else x=EA++,h=":"+h+"r"+x.toString(32)+":";return d.memoizedState=h},useCacheRefresh:function(){return Oa().memoizedState=O_.bind(null,si)}};vu.useMemoCache=Ls,vu.useHostTransitionStatus=pg,vu.useFormState=p_,vu.useActionState=p_,vu.useOptimistic=function(d){var h=Oa();h.memoizedState=h.baseState=d;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=x,h=hp.bind(null,si,!0,x),x.dispatch=h,[d,h]};var uc={readContext:$a,use:Uf,useCallback:C_,useContext:$a,useEffect:Q0,useImperativeHandle:x_,useInsertionEffect:b_,useLayoutEffect:S_,useMemo:E_,useReducer:Ns,useRef:v_,useState:function(){return Ns(Cr)},useDebugValue:Z0,useDeferredValue:function(d,h){var x=Hr();return w_(x,Xi.memoizedState,d,h)},useTransition:function(){var d=Ns(Cr)[0],h=Hr().memoizedState;return[typeof d=="boolean"?d:fp(d),h]},useSyncExternalStore:s_,useId:ty};uc.useCacheRefresh=R_,uc.useMemoCache=Ls,uc.useHostTransitionStatus=pg,uc.useFormState=Ff,uc.useActionState=Ff,uc.useOptimistic=function(d,h){var x=Hr();return K0(x,Xi,d,h)};var xd={readContext:$a,use:Uf,useCallback:C_,useContext:$a,useEffect:Q0,useImperativeHandle:x_,useInsertionEffect:b_,useLayoutEffect:S_,useMemo:E_,useReducer:ug,useRef:v_,useState:function(){return ug(Cr)},useDebugValue:Z0,useDeferredValue:function(d,h){var x=Hr();return Xi===null?hg(x,d,h):w_(x,Xi.memoizedState,d,h)},useTransition:function(){var d=ug(Cr)[0],h=Hr().memoizedState;return[typeof d=="boolean"?d:fp(d),h]},useSyncExternalStore:s_,useId:ty};xd.useCacheRefresh=R_,xd.useMemoCache=Ls,xd.useHostTransitionStatus=pg,xd.useFormState=g_,xd.useActionState=g_,xd.useOptimistic=function(d,h){var x=Hr();return Xi!==null?K0(x,Xi,d,h):(x.baseState=d,[d,x.queue.dispatch])};function iy(d,h,x,A){h=d.memoizedState,x=x(A,h),x=x==null?h:z({},h,x),d.memoizedState=x,d.lanes===0&&(d.updateQueue.baseState=x)}var ry={isMounted:function(d){return(d=d._reactInternals)?ee(d)===d:!1},enqueueSetState:function(d,h,x){d=d._reactInternals;var A=uo(),L=Jo(A);L.payload=h,x!=null&&(L.callback=x),h=Qo(d,L,A),h!==null&&(ra(h,d,A),Su(h,d,A))},enqueueReplaceState:function(d,h,x){d=d._reactInternals;var A=uo(),L=Jo(A);L.tag=1,L.payload=h,x!=null&&(L.callback=x),h=Qo(d,L,A),h!==null&&(ra(h,d,A),Su(h,d,A))},enqueueForceUpdate:function(d,h){d=d._reactInternals;var x=uo(),A=Jo(x);A.tag=2,h!=null&&(A.callback=h),h=Qo(d,A,x),h!==null&&(ra(h,d,x),Su(h,d,x))}};function P_(d,h,x,A,L,G,ne){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(A,G,ne):h.prototype&&h.prototype.isPureReactComponent?!Pe(x,A)||!Pe(L,G):!0}function L_(d,h,x,A){d=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(x,A),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(x,A),h.state!==d&&ry.enqueueReplaceState(h,h.state,null)}function Cd(d,h){var x=h;if("ref"in h){x={};for(var A in h)A!=="ref"&&(x[A]=h[A])}if(d=d.defaultProps){x===h&&(x=z({},x));for(var L in d)x[L]===void 0&&(x[L]=d[L])}return x}var gg=typeof reportError=="function"?reportError:function(d){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof d=="object"&&d!==null&&typeof d.message=="string"?String(d.message):String(d),error:d});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",d);return}console.error(d)};function N_(d){gg(d)}function z_(d){console.error(d)}function U_(d){gg(d)}function vg(d,h){try{var x=d.onUncaughtError;x(h.value,{componentStack:h.stack})}catch(A){setTimeout(function(){throw A})}}function F_(d,h,x){try{var A=d.onCaughtError;A(x.value,{componentStack:x.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(L){setTimeout(function(){throw L})}}function ay(d,h,x){return x=Jo(x),x.tag=3,x.payload={element:null},x.callback=function(){vg(d,h)},x}function oy(d){return d=Jo(d),d.tag=3,d}function H_(d,h,x,A){var L=x.type.getDerivedStateFromError;if(typeof L=="function"){var G=A.value;d.payload=function(){return L(G)},d.callback=function(){F_(h,x,A)}}var ne=x.stateNode;ne!==null&&typeof ne.componentDidCatch=="function"&&(d.callback=function(){F_(h,x,A),typeof L!="function"&&(ia===null?ia=new Set([this]):ia.add(this));var ge=A.stack;this.componentDidCatch(A.value,{componentStack:ge!==null?ge:""})})}function RA(d,h,x,A,L){if(x.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){if(h=x.alternate,h!==null&&mp(h,x,L,!0),x=Eo.current,x!==null){switch(x.tag){case 13:return gl===null?Cp():x.alternate===null&&gr===0&&(gr=3),x.flags&=-257,x.flags|=65536,x.lanes=L,A===rg?x.flags|=16384:(h=x.updateQueue,h===null?x.updateQueue=new Set([A]):h.add(A),qn(d,A,L)),!1;case 22:return x.flags|=65536,A===rg?x.flags|=16384:(h=x.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([A])},x.updateQueue=h):(x=h.retryQueue,x===null?h.retryQueue=new Set([A]):x.add(A)),qn(d,A,L)),!1}throw Error(r(435,x.tag))}return qn(d,A,L),Cp(),!1}if(Ti)return h=Eo.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=L,A!==rp&&(d=Error(r(422),{cause:A}),ml(Co(d,x)))):(A!==rp&&(h=Error(r(423),{cause:A}),ml(Co(h,x))),d=d.current.alternate,d.flags|=65536,L&=-L,d.lanes|=L,A=Co(A,x),L=ay(d.stateNode,A,L),Vf(d,L),gr!==4&&(gr=2)),!1;var G=Error(r(520),{cause:A});if(G=Co(G,x),xp===null?xp=[G]:xp.push(G),gr!==4&&(gr=2),h===null)return!0;A=Co(A,x),x=h;do{switch(x.tag){case 3:return x.flags|=65536,d=L&-L,x.lanes|=d,d=ay(x.stateNode,A,d),Vf(x,d),!1;case 1:if(h=x.type,G=x.stateNode,(x.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(ia===null||!ia.has(G))))return x.flags|=65536,L&=-L,x.lanes|=L,L=oy(L),H_(L,d,x,A),Vf(x,L),!1}x=x.return}while(x!==null);return!1}var qo=Error(r(461)),ua=!1;function da(d,h,x,A){h.child=d===null?ic(h,null,x,A):nc(h,d.child,x,A)}function sy(d,h,x,A,L){x=x.render;var G=h.ref;if("ref"in A){var ne={};for(var ge in A)ge!=="ref"&&(ne[ge]=A[ge])}else ne=A;return wd(h),A=X0(d,h,x,ne,G,L),ge=Y0(),d!==null&&!ua?(dp(d,h,L),Gr(d,h,L)):(Ti&&ge&&ip(h),h.flags|=1,da(d,h,A,L),h.child)}function ly(d,h,x,A,L){if(d===null){var G=x.type;return typeof G=="function"&&!vc(G)&&G.defaultProps===void 0&&x.compare===null?(h.tag=15,h.type=G,cy(d,h,G,A,L)):(d=Yf(x.type,null,A,h,h.mode,L),d.ref=h.ref,d.return=h,h.child=d)}if(G=d.child,!gy(d,L)){var ne=G.memoizedProps;if(x=x.compare,x=x!==null?x:Pe,x(ne,A)&&d.ref===h.ref)return Gr(d,h,L)}return h.flags|=1,d=lo(G,A),d.ref=h.ref,d.return=h,h.child=d}function cy(d,h,x,A,L){if(d!==null){var G=d.memoizedProps;if(Pe(G,A)&&d.ref===h.ref)if(ua=!1,h.pendingProps=A=G,gy(d,L))(d.flags&131072)!==0&&(ua=!0);else return h.lanes=d.lanes,Gr(d,h,L)}return dy(d,h,x,A,L)}function G_(d,h,x){var A=h.pendingProps,L=A.children,G=(h.stateNode._pendingVisibility&2)!==0,ne=d!==null?d.memoizedState:null;if(Hf(d,h),A.mode==="hidden"||G){if((h.flags&128)!==0){if(A=ne!==null?ne.baseLanes|x:x,d!==null){for(L=h.child=d.child,G=0;L!==null;)G=G|L.lanes|L.childLanes,L=L.sibling;h.childLanes=G&~A}else h.childLanes=0,h.child=null;return uy(d,h,A,x)}if((x&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},d!==null&&Lf(h,ne!==null?ne.cachePool:null),ne!==null?lu(h,ne):og(),V0(h);else return h.lanes=h.childLanes=536870912,uy(d,h,ne!==null?ne.baseLanes|x:x,x)}else ne!==null?(Lf(h,ne.cachePool),lu(h,ne),ac(),h.memoizedState=null):(d!==null&&Lf(h,null),og(),ac());return da(d,h,L,x),h.child}function uy(d,h,x,A){var L=up();return L=L===null?null:{parent:Fr._currentValue,pool:L},h.memoizedState={baseLanes:x,cachePool:L},d!==null&&Lf(h,null),og(),V0(h),d!==null&&mp(d,h,A,!0),null}function Hf(d,h){var x=h.ref;if(x===null)d!==null&&d.ref!==null&&(h.flags|=2097664);else{if(typeof x!="function"&&typeof x!="object")throw Error(r(284));(d===null||d.ref!==x)&&(h.flags|=2097664)}}function dy(d,h,x,A,L){return wd(h),x=X0(d,h,x,A,void 0,L),A=Y0(),d!==null&&!ua?(dp(d,h,L),Gr(d,h,L)):(Ti&&A&&ip(h),h.flags|=1,da(d,h,x,L),h.child)}function k_(d,h,x,A,L,G){return wd(h),h.updateQueue=null,x=o_(h,A,x,L),a_(d),A=Y0(),d!==null&&!ua?(dp(d,h,G),Gr(d,h,G)):(Ti&&A&&ip(h),h.flags|=1,da(d,h,x,G),h.child)}function $_(d,h,x,A,L){if(wd(h),h.stateNode===null){var G=nu,ne=x.contextType;typeof ne=="object"&&ne!==null&&(G=$a(ne)),G=new x(A,G),h.memoizedState=G.state!==null&&G.state!==void 0?G.state:null,G.updater=ry,h.stateNode=G,G._reactInternals=h,G=h.stateNode,G.props=A,G.state=h.memoizedState,G.refs={},oo(h),ne=x.contextType,G.context=typeof ne=="object"&&ne!==null?$a(ne):nu,G.state=h.memoizedState,ne=x.getDerivedStateFromProps,typeof ne=="function"&&(iy(h,x,ne,A),G.state=h.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof G.getSnapshotBeforeUpdate=="function"||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(ne=G.state,typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount(),ne!==G.state&&ry.enqueueReplaceState(G,G.state,null),Us(h,A,G,L),Va(),G.state=h.memoizedState),typeof G.componentDidMount=="function"&&(h.flags|=4194308),A=!0}else if(d===null){G=h.stateNode;var ge=h.memoizedProps,Re=Cd(x,ge);G.props=Re;var Ye=G.context,At=x.contextType;ne=nu,typeof At=="object"&&At!==null&&(ne=$a(At));var Ut=x.getDerivedStateFromProps;At=typeof Ut=="function"||typeof G.getSnapshotBeforeUpdate=="function",ge=h.pendingProps!==ge,At||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(ge||Ye!==ne)&&L_(h,G,A,ne),ta=!1;var ft=h.memoizedState;G.state=ft,Us(h,A,G,L),Va(),Ye=h.memoizedState,ge||ft!==Ye||ta?(typeof Ut=="function"&&(iy(h,x,Ut,A),Ye=h.memoizedState),(Re=ta||P_(h,x,Re,A,ft,Ye,ne))?(At||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(h.flags|=4194308)):(typeof G.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=A,h.memoizedState=Ye),G.props=A,G.state=Ye,G.context=ne,A=Re):(typeof G.componentDidMount=="function"&&(h.flags|=4194308),A=!1)}else{G=h.stateNode,Cg(d,h),ne=h.memoizedProps,At=Cd(x,ne),G.props=At,Ut=h.pendingProps,ft=G.context,Ye=x.contextType,Re=nu,typeof Ye=="object"&&Ye!==null&&(Re=$a(Ye)),ge=x.getDerivedStateFromProps,(Ye=typeof ge=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(ne!==Ut||ft!==Re)&&L_(h,G,A,Re),ta=!1,ft=h.memoizedState,G.state=ft,Us(h,A,G,L),Va();var Et=h.memoizedState;ne!==Ut||ft!==Et||ta||d!==null&&d.dependencies!==null&&kf(d.dependencies)?(typeof ge=="function"&&(iy(h,x,ge,A),Et=h.memoizedState),(At=ta||P_(h,x,At,A,ft,Et,Re)||d!==null&&d.dependencies!==null&&kf(d.dependencies))?(Ye||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(A,Et,Re),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(A,Et,Re)),typeof G.componentDidUpdate=="function"&&(h.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof G.componentDidUpdate!="function"||ne===d.memoizedProps&&ft===d.memoizedState||(h.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||ne===d.memoizedProps&&ft===d.memoizedState||(h.flags|=1024),h.memoizedProps=A,h.memoizedState=Et),G.props=A,G.state=Et,G.context=Re,A=At):(typeof G.componentDidUpdate!="function"||ne===d.memoizedProps&&ft===d.memoizedState||(h.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||ne===d.memoizedProps&&ft===d.memoizedState||(h.flags|=1024),A=!1)}return G=A,Hf(d,h),A=(h.flags&128)!==0,G||A?(G=h.stateNode,x=A&&typeof x.getDerivedStateFromError!="function"?null:G.render(),h.flags|=1,d!==null&&A?(h.child=nc(h,d.child,null,L),h.child=nc(h,null,x,L)):da(d,h,x,L),h.memoizedState=G.state,d=h.child):d=Gr(d,h,L),d}function fy(d,h,x,A){return Bf(),h.flags|=256,da(d,h,x,A),h.child}var hy={dehydrated:null,treeContext:null,retryLane:0};function xa(d){return{baseLanes:d,cachePool:sc()}}function yg(d,h,x){return d=d!==null?d.childLanes&~x:0,h&&(d|=co),d}function V_(d,h,x){var A=h.pendingProps,L=!1,G=(h.flags&128)!==0,ne;if((ne=G)||(ne=d!==null&&d.memoizedState===null?!1:(Zr.current&2)!==0),ne&&(L=!0,h.flags&=-129),ne=(h.flags&32)!==0,h.flags&=-33,d===null){if(Ti){if(L?rc(h):ac(),Ti){var ge=_a,Re;if(Re=ge){e:{for(Re=ge,ge=hs;Re.nodeType!==8;){if(!ge){ge=null;break e}if(Re=xc(Re.nextSibling),Re===null){ge=null;break e}}ge=Re}ge!==null?(h.memoizedState={dehydrated:ge,treeContext:ec!==null?{id:pl,overflow:tc}:null,retryLane:536870912},Re=jr(18,null,null,0),Re.stateNode=ge,Re.return=h,h.child=Re,ka=h,_a=null,Re=!0):Re=!1}Re||md(h)}if(ge=h.memoizedState,ge!==null&&(ge=ge.dehydrated,ge!==null))return ge.data==="$!"?h.lanes=16:h.lanes=536870912,null;vl(h)}return ge=A.children,A=A.fallback,L?(ac(),L=h.mode,ge=my({mode:"hidden",children:ge},L),A=Au(A,L,x,null),ge.return=h,A.return=h,ge.sibling=A,h.child=ge,L=h.child,L.memoizedState=xa(x),L.childLanes=yg(d,ne,x),h.memoizedState=hy,A):(rc(h),py(h,ge))}if(Re=d.memoizedState,Re!==null&&(ge=Re.dehydrated,ge!==null)){if(G)h.flags&256?(rc(h),h.flags&=-257,h=bg(d,h,x)):h.memoizedState!==null?(ac(),h.child=d.child,h.flags|=128,h=null):(ac(),L=A.fallback,ge=h.mode,A=my({mode:"visible",children:A.children},ge),L=Au(L,ge,x,null),L.flags|=2,A.return=h,L.return=h,A.sibling=L,h.child=A,nc(h,d.child,null,x),A=h.child,A.memoizedState=xa(x),A.childLanes=yg(d,ne,x),h.memoizedState=hy,h=L);else if(rc(h),ge.data==="$!"){if(ne=ge.nextSibling&&ge.nextSibling.dataset,ne)var Ye=ne.dgst;ne=Ye,A=Error(r(419)),A.stack="",A.digest=ne,ml({value:A,source:null,stack:null}),h=bg(d,h,x)}else if(ua||mp(d,h,x,!1),ne=(x&d.childLanes)!==0,ua||ne){if(ne=Zi,ne!==null){if(A=x&-x,(A&42)!==0)A=1;else switch(A){case 2:A=1;break;case 8:A=4;break;case 32:A=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:A=64;break;case 268435456:A=134217728;break;default:A=0}if(A=(A&(ne.suspendedLanes|x))!==0?0:A,A!==0&&A!==Re.retryLane)throw Re.retryLane=A,Zl(d,A),ra(ne,d,A),qo}ge.data==="$?"||Cp(),h=bg(d,h,x)}else ge.data==="$?"?(h.flags|=128,h.child=d.child,h=Bd.bind(null,d),ge._reactRetry=h,h=null):(d=Re.treeContext,_a=xc(ge.nextSibling),ka=h,Ti=!0,fs=null,hs=!1,d!==null&&(ur[Xo++]=pl,ur[Xo++]=tc,ur[Xo++]=ec,pl=d.id,tc=d.overflow,ec=h),h=py(h,A.children),h.flags|=4096);return h}return L?(ac(),L=A.fallback,ge=h.mode,Re=d.child,Ye=Re.sibling,A=lo(Re,{mode:"hidden",children:A.children}),A.subtreeFlags=Re.subtreeFlags&31457280,Ye!==null?L=lo(Ye,L):(L=Au(L,ge,x,null),L.flags|=2),L.return=h,A.return=h,A.sibling=L,h.child=A,A=L,L=h.child,ge=d.child.memoizedState,ge===null?ge=xa(x):(Re=ge.cachePool,Re!==null?(Ye=Fr._currentValue,Re=Re.parent!==Ye?{parent:Ye,pool:Ye}:Re):Re=sc(),ge={baseLanes:ge.baseLanes|x,cachePool:Re}),L.memoizedState=ge,L.childLanes=yg(d,ne,x),h.memoizedState=hy,A):(rc(h),x=d.child,d=x.sibling,x=lo(x,{mode:"visible",children:A.children}),x.return=h,x.sibling=null,d!==null&&(ne=h.deletions,ne===null?(h.deletions=[d],h.flags|=16):ne.push(d)),h.child=x,h.memoizedState=null,x)}function py(d,h){return h=my({mode:"visible",children:h},d.mode),h.return=d,d.child=h}function my(d,h){return yy(d,h,0,null)}function bg(d,h,x){return nc(h,d.child,null,x),d=py(h,h.pendingProps.children),d.flags|=2,h.memoizedState=null,d}function Sg(d,h,x){d.lanes|=h;var A=d.alternate;A!==null&&(A.lanes|=h),Ko(d.return,h,x)}function yu(d,h,x,A,L){var G=d.memoizedState;G===null?d.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:A,tail:x,tailMode:L}:(G.isBackwards=h,G.rendering=null,G.renderingStartTime=0,G.last=A,G.tail=x,G.tailMode=L)}function Ed(d,h,x){var A=h.pendingProps,L=A.revealOrder,G=A.tail;if(da(d,h,A.children,x),A=Zr.current,(A&2)!==0)A=A&1|2,h.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=h.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&Sg(d,x,h);else if(d.tag===19)Sg(d,x,h);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break e;for(;d.sibling===null;){if(d.return===null||d.return===h)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}A&=1}switch(ze(Zr,A),L){case"forwards":for(x=h.child,L=null;x!==null;)d=x.alternate,d!==null&&Pf(d)===null&&(L=x),x=x.sibling;x=L,x===null?(L=h.child,h.child=null):(L=x.sibling,x.sibling=null),yu(h,!1,L,x,G);break;case"backwards":for(x=null,L=h.child,h.child=null;L!==null;){if(d=L.alternate,d!==null&&Pf(d)===null){h.child=L;break}d=L.sibling,L.sibling=x,x=L,L=d}yu(h,!0,x,null,G);break;case"together":yu(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Gr(d,h,x){if(d!==null&&(h.dependencies=d.dependencies),$s|=h.lanes,(x&h.childLanes)===0)if(d!==null){if(mp(d,h,x,!1),(x&h.childLanes)===0)return null}else return null;if(d!==null&&h.child!==d.child)throw Error(r(153));if(h.child!==null){for(d=h.child,x=lo(d,d.pendingProps),h.child=x,x.return=h;d.sibling!==null;)d=d.sibling,x=x.sibling=lo(d,d.pendingProps),x.return=h;x.sibling=null}return h.child}function gy(d,h){return(d.lanes&h)!==0?!0:(d=d.dependencies,!!(d!==null&&kf(d)))}function OA(d,h,x){switch(h.tag){case 3:Fe(h,h.stateNode.containerInfo),bu(h,Fr,d.memoizedState.cache),Bf();break;case 27:case 5:qe(h);break;case 4:Fe(h,h.stateNode.containerInfo);break;case 10:bu(h,h.type,h.memoizedProps.value);break;case 13:var A=h.memoizedState;if(A!==null)return A.dehydrated!==null?(rc(h),h.flags|=128,null):(x&h.child.childLanes)!==0?V_(d,h,x):(rc(h),d=Gr(d,h,x),d!==null?d.sibling:null);rc(h);break;case 19:var L=(d.flags&128)!==0;if(A=(x&h.childLanes)!==0,A||(mp(d,h,x,!1),A=(x&h.childLanes)!==0),L){if(A)return Ed(d,h,x);h.flags|=128}if(L=h.memoizedState,L!==null&&(L.rendering=null,L.tail=null,L.lastEffect=null),ze(Zr,Zr.current),A)break;return null;case 22:case 23:return h.lanes=0,G_(d,h,x);case 24:bu(h,Fr,d.memoizedState.cache)}return Gr(d,h,x)}function pp(d,h,x){if(d!==null)if(d.memoizedProps!==h.pendingProps)ua=!0;else{if(!gy(d,x)&&(h.flags&128)===0)return ua=!1,OA(d,h,x);ua=(d.flags&131072)!==0}else ua=!1,Ti&&(h.flags&1048576)!==0&&k0(h,np,h.index);switch(h.lanes=0,h.tag){case 16:e:{d=h.pendingProps;var A=h.elementType,L=A._init;if(A=L(A._payload),h.type=A,typeof A=="function")vc(A)?(d=Cd(A,d),h.tag=1,h=$_(null,h,A,d,x)):(h.tag=0,h=dy(null,h,A,d,x));else{if(A!=null){if(L=A.$$typeof,L===c){h.tag=11,h=sy(null,h,A,d,x);break e}else if(L===b){h.tag=14,h=ly(null,h,A,d,x);break e}}throw h=F(A)||A,Error(r(306,h,""))}}return h;case 0:return dy(d,h,h.type,h.pendingProps,x);case 1:return A=h.type,L=Cd(A,h.pendingProps),$_(d,h,A,L,x);case 3:e:{if(Fe(h,h.stateNode.containerInfo),d===null)throw Error(r(387));var G=h.pendingProps;L=h.memoizedState,A=L.element,Cg(d,h),Us(h,G,null,x);var ne=h.memoizedState;if(G=ne.cache,bu(h,Fr,G),G!==L.cache&&_g(h,[Fr],x,!0),Va(),G=ne.element,L.isDehydrated)if(L={element:G,isDehydrated:!1,cache:ne.cache},h.updateQueue.baseState=L,h.memoizedState=L,h.flags&256){h=fy(d,h,G,x);break e}else if(G!==A){A=Co(Error(r(424)),h),ml(A),h=fy(d,h,G,x);break e}else for(_a=xc(h.stateNode.containerInfo.firstChild),ka=h,Ti=!0,fs=null,hs=!0,x=ic(h,null,G,x),h.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(Bf(),G===A){h=Gr(d,h,x);break e}da(d,h,G,x)}h=h.child}return h;case 26:return Hf(d,h),d===null?(x=UB(h.type,null,h.pendingProps,null))?h.memoizedState=x:Ti||(x=h.type,d=h.pendingProps,A=J_(xe.current).createElement(x),A[Qn]=h,A[un]=d,fo(A,x,d),Ze(A),h.stateNode=A):h.memoizedState=UB(h.type,d.memoizedProps,h.pendingProps,d.memoizedState),null;case 27:return qe(h),d===null&&Ti&&(A=h.stateNode=LB(h.type,h.pendingProps,xe.current),ka=h,hs=!0,_a=xc(A.firstChild)),A=h.pendingProps.children,d!==null||Ti?da(d,h,A,x):h.child=nc(h,null,A,x),Hf(d,h),h.child;case 5:return d===null&&Ti&&((L=A=_a)&&(A=Yk(A,h.type,h.pendingProps,hs),A!==null?(h.stateNode=A,ka=h,_a=xc(A.firstChild),hs=!1,L=!0):L=!1),L||md(h)),qe(h),L=h.type,G=h.pendingProps,ne=d!==null?d.memoizedProps:null,A=G.children,GA(L,G)?A=null:ne!==null&&GA(L,ne)&&(h.flags|=32),h.memoizedState!==null&&(L=X0(d,h,wA,null,null,x),My._currentValue=L),Hf(d,h),da(d,h,A,x),h.child;case 6:return d===null&&Ti&&((d=x=_a)&&(x=qk(x,h.pendingProps,hs),x!==null?(h.stateNode=x,ka=h,_a=null,d=!0):d=!1),d||md(h)),null;case 13:return V_(d,h,x);case 4:return Fe(h,h.stateNode.containerInfo),A=h.pendingProps,d===null?h.child=nc(h,null,A,x):da(d,h,A,x),h.child;case 11:return sy(d,h,h.type,h.pendingProps,x);case 7:return da(d,h,h.pendingProps,x),h.child;case 8:return da(d,h,h.pendingProps.children,x),h.child;case 12:return da(d,h,h.pendingProps.children,x),h.child;case 10:return A=h.pendingProps,bu(h,h.type,A.value),da(d,h,A.children,x),h.child;case 9:return L=h.type._context,A=h.pendingProps.children,wd(h),L=$a(L),A=A(L),h.flags|=1,da(d,h,A,x),h.child;case 14:return ly(d,h,h.type,h.pendingProps,x);case 15:return cy(d,h,h.type,h.pendingProps,x);case 19:return Ed(d,h,x);case 22:return G_(d,h,x);case 24:return wd(h),A=$a(Fr),d===null?(L=up(),L===null&&(L=Zi,G=j0(),L.pooledCache=G,G.refCount++,G!==null&&(L.pooledCacheLanes|=x),L=G),h.memoizedState={parent:A,cache:L},oo(h),bu(h,Fr,L)):((d.lanes&x)!==0&&(Cg(d,h),Us(h,null,null,x),Va()),L=d.memoizedState,G=h.memoizedState,L.parent!==A?(L={parent:A,cache:A},h.memoizedState=L,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=L),bu(h,Fr,A)):(A=G.cache,bu(h,Fr,A),A!==L.cache&&_g(h,[Fr],x,!0))),da(d,h,h.pendingProps.children,x),h.child;case 29:throw h.pendingProps}throw Error(r(156,h.tag))}var Gf=we(null),_l=null,zs=null;function bu(d,h,x){ze(Gf,h._currentValue),h._currentValue=x}function dc(d){d._currentValue=Gf.current,Te(Gf)}function Ko(d,h,x){for(;d!==null;){var A=d.alternate;if((d.childLanes&h)!==h?(d.childLanes|=h,A!==null&&(A.childLanes|=h)):A!==null&&(A.childLanes&h)!==h&&(A.childLanes|=h),d===x)break;d=d.return}}function _g(d,h,x,A){var L=d.child;for(L!==null&&(L.return=d);L!==null;){var G=L.dependencies;if(G!==null){var ne=L.child;G=G.firstContext;e:for(;G!==null;){var ge=G;G=L;for(var Re=0;Re<h.length;Re++)if(ge.context===h[Re]){G.lanes|=x,ge=G.alternate,ge!==null&&(ge.lanes|=x),Ko(G.return,x,d),A||(ne=null);break e}G=ge.next}}else if(L.tag===18){if(ne=L.return,ne===null)throw Error(r(341));ne.lanes|=x,G=ne.alternate,G!==null&&(G.lanes|=x),Ko(ne,x,d),ne=null}else ne=L.child;if(ne!==null)ne.return=L;else for(ne=L;ne!==null;){if(ne===d){ne=null;break}if(L=ne.sibling,L!==null){L.return=ne.return,ne=L;break}ne=ne.return}L=ne}}function mp(d,h,x,A){d=null;for(var L=h,G=!1;L!==null;){if(!G){if((L.flags&524288)!==0)G=!0;else if((L.flags&262144)!==0)break}if(L.tag===10){var ne=L.alternate;if(ne===null)throw Error(r(387));if(ne=ne.memoizedProps,ne!==null){var ge=L.type;ye(L.pendingProps.value,ne.value)||(d!==null?d.push(ge):d=[ge])}}else if(L===re.current){if(ne=L.alternate,ne===null)throw Error(r(387));ne.memoizedState.memoizedState!==L.memoizedState.memoizedState&&(d!==null?d.push(My):d=[My])}L=L.return}d!==null&&_g(h,d,x,A),h.flags|=262144}function kf(d){for(d=d.firstContext;d!==null;){if(!ye(d.context._currentValue,d.memoizedValue))return!0;d=d.next}return!1}function wd(d){_l=d,zs=null,d=d.dependencies,d!==null&&(d.firstContext=null)}function $a(d){return $f(_l,d)}function xg(d,h){return _l===null&&wd(d),$f(d,h)}function $f(d,h){var x=h._currentValue;if(h={context:h,memoizedValue:x,next:null},zs===null){if(d===null)throw Error(r(308));zs=h,d.dependencies={lanes:0,firstContext:h},d.flags|=524288}else zs=zs.next=h;return x}var ta=!1;function oo(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cg(d,h){d=d.updateQueue,h.updateQueue===d&&(h.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,callbacks:null})}function Jo(d){return{lane:d,tag:0,payload:null,callback:null,next:null}}function Qo(d,h,x){var A=d.updateQueue;if(A===null)return null;if(A=A.shared,(Yn&2)!==0){var L=A.pending;return L===null?h.next=h:(h.next=L.next,L.next=h),A.pending=h,h=tp(d),ep(d,null,x),h}return Zh(d,A,h,x),tp(d)}function Su(d,h,x){if(h=h.updateQueue,h!==null&&(h=h.shared,(x&4194176)!==0)){var A=h.lanes;A&=d.pendingLanes,x|=A,h.lanes=x,zn(d,x)}}function Vf(d,h){var x=d.updateQueue,A=d.alternate;if(A!==null&&(A=A.updateQueue,x===A)){var L=null,G=null;if(x=x.firstBaseUpdate,x!==null){do{var ne={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};G===null?L=G=ne:G=G.next=ne,x=x.next}while(x!==null);G===null?L=G=h:G=G.next=h}else L=G=h;x={baseState:A.baseState,firstBaseUpdate:L,lastBaseUpdate:G,shared:A.shared,callbacks:A.callbacks},d.updateQueue=x;return}d=x.lastBaseUpdate,d===null?x.firstBaseUpdate=h:d.next=h,x.lastBaseUpdate=h}var Ao=!1;function Va(){if(Ao){var d=du;if(d!==null)throw d}}function Us(d,h,x,A){Ao=!1;var L=d.updateQueue;ta=!1;var G=L.firstBaseUpdate,ne=L.lastBaseUpdate,ge=L.shared.pending;if(ge!==null){L.shared.pending=null;var Re=ge,Ye=Re.next;Re.next=null,ne===null?G=Ye:ne.next=Ye,ne=Re;var At=d.alternate;At!==null&&(At=At.updateQueue,ge=At.lastBaseUpdate,ge!==ne&&(ge===null?At.firstBaseUpdate=Ye:ge.next=Ye,At.lastBaseUpdate=Re))}if(G!==null){var Ut=L.baseState;ne=0,At=Ye=Re=null,ge=G;do{var ft=ge.lane&-536870913,Et=ft!==ge.lane;if(Et?(On&ft)===ft:(A&ft)===ft){ft!==0&&ft===yd&&(Ao=!0),At!==null&&(At=At.next={lane:0,tag:ge.tag,payload:ge.payload,callback:null,next:null});e:{var xn=d,Kn=ge;ft=h;var aa=x;switch(Kn.tag){case 1:if(xn=Kn.payload,typeof xn=="function"){Ut=xn.call(aa,Ut,ft);break e}Ut=xn;break e;case 3:xn.flags=xn.flags&-65537|128;case 0:if(xn=Kn.payload,ft=typeof xn=="function"?xn.call(aa,Ut,ft):xn,ft==null)break e;Ut=z({},Ut,ft);break e;case 2:ta=!0}}ft=ge.callback,ft!==null&&(d.flags|=64,Et&&(d.flags|=8192),Et=L.callbacks,Et===null?L.callbacks=[ft]:Et.push(ft))}else Et={lane:ft,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null},At===null?(Ye=At=Et,Re=Ut):At=At.next=Et,ne|=ft;if(ge=ge.next,ge===null){if(ge=L.shared.pending,ge===null)break;Et=ge,ge=Et.next,Et.next=null,L.lastBaseUpdate=Et,L.shared.pending=null}}while(!0);At===null&&(Re=Ut),L.baseState=Re,L.firstBaseUpdate=Ye,L.lastBaseUpdate=At,G===null&&(L.shared.lanes=0),$s|=ne,d.lanes=ne,d.memoizedState=Ut}}function xl(d,h){if(typeof d!="function")throw Error(r(191,d));d.call(h)}function Cl(d,h){var x=d.callbacks;if(x!==null)for(d.callbacks=null,d=0;d<x.length;d++)xl(x[d],h)}function kr(d,h){try{var x=h.updateQueue,A=x!==null?x.lastEffect:null;if(A!==null){var L=A.next;x=L;do{if((x.tag&d)===d){A=void 0;var G=x.create,ne=x.inst;A=G(),ne.destroy=A}x=x.next}while(x!==L)}}catch(ge){Ht(h,h.return,ge)}}function ps(d,h,x){try{var A=h.updateQueue,L=A!==null?A.lastEffect:null;if(L!==null){var G=L.next;A=G;do{if((A.tag&d)===d){var ne=A.inst,ge=ne.destroy;if(ge!==void 0){ne.destroy=void 0,L=h;var Re=x;try{ge()}catch(Ye){Ht(L,Re,Ye)}}}A=A.next}while(A!==G)}}catch(Ye){Ht(h,h.return,Ye)}}function fc(d){var h=d.updateQueue;if(h!==null){var x=d.stateNode;try{Cl(h,x)}catch(A){Ht(d,d.return,A)}}}function gp(d,h,x){x.props=Cd(d.type,d.memoizedProps),x.state=d.memoizedState;try{x.componentWillUnmount()}catch(A){Ht(d,h,A)}}function $r(d,h){try{var x=d.ref;if(x!==null){var A=d.stateNode;switch(d.tag){case 26:case 27:case 5:var L=A;break;default:L=A}typeof x=="function"?d.refCleanup=x(L):x.current=L}}catch(G){Ht(d,h,G)}}function Qi(d,h){var x=d.ref,A=d.refCleanup;if(x!==null)if(typeof A=="function")try{A()}catch(L){Ht(d,h,L)}finally{d.refCleanup=null,d=d.alternate,d!=null&&(d.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(L){Ht(d,h,L)}else x.current=null}function Ri(d){var h=d.type,x=d.memoizedProps,A=d.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":x.autoFocus&&A.focus();break e;case"img":x.src?A.src=x.src:x.srcSet&&(A.srcset=x.srcSet)}}catch(L){Ht(d,d.return,L)}}function ms(d,h,x){try{var A=d.stateNode;$k(A,d.type,x,h),A[un]=h}catch(L){Ht(d,d.return,L)}}function Fs(d){return d.tag===5||d.tag===3||d.tag===26||d.tag===27||d.tag===4}function vp(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||Fs(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==27&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function Mo(d,h,x){var A=d.tag;if(A===5||A===6)d=d.stateNode,h?x.nodeType===8?x.parentNode.insertBefore(d,h):x.insertBefore(d,h):(x.nodeType===8?(h=x.parentNode,h.insertBefore(d,x)):(h=x,h.appendChild(d)),x=x._reactRootContainer,x!=null||h.onclick!==null||(h.onclick=K_));else if(A!==4&&A!==27&&(d=d.child,d!==null))for(Mo(d,h,x),d=d.sibling;d!==null;)Mo(d,h,x),d=d.sibling}function hc(d,h,x){var A=d.tag;if(A===5||A===6)d=d.stateNode,h?x.insertBefore(d,h):x.appendChild(d);else if(A!==4&&A!==27&&(d=d.child,d!==null))for(hc(d,h,x),d=d.sibling;d!==null;)hc(d,h,x),d=d.sibling}var Hs=!1,pr=!1,_u=!1,Eg=typeof WeakSet=="function"?WeakSet:Set,Vr=null,wg=!1;function jf(d,h){if(d=d.containerInfo,FA=ix,d=zt(d),Dt(d)){if("selectionStart"in d)var x={start:d.selectionStart,end:d.selectionEnd};else e:{x=(x=d.ownerDocument)&&x.defaultView||window;var A=x.getSelection&&x.getSelection();if(A&&A.rangeCount!==0){x=A.anchorNode;var L=A.anchorOffset,G=A.focusNode;A=A.focusOffset;try{x.nodeType,G.nodeType}catch{x=null;break e}var ne=0,ge=-1,Re=-1,Ye=0,At=0,Ut=d,ft=null;t:for(;;){for(var Et;Ut!==x||L!==0&&Ut.nodeType!==3||(ge=ne+L),Ut!==G||A!==0&&Ut.nodeType!==3||(Re=ne+A),Ut.nodeType===3&&(ne+=Ut.nodeValue.length),(Et=Ut.firstChild)!==null;)ft=Ut,Ut=Et;for(;;){if(Ut===d)break t;if(ft===x&&++Ye===L&&(ge=ne),ft===G&&++At===A&&(Re=ne),(Et=Ut.nextSibling)!==null)break;Ut=ft,ft=Ut.parentNode}Ut=Et}x=ge===-1||Re===-1?null:{start:ge,end:Re}}else x=null}x=x||{start:0,end:0}}else x=null;for(HA={focusedElem:d,selectionRange:x},ix=!1,Vr=h;Vr!==null;)if(h=Vr,d=h.child,(h.subtreeFlags&1028)!==0&&d!==null)d.return=h,Vr=d;else for(;Vr!==null;){switch(h=Vr,G=h.alternate,d=h.flags,h.tag){case 0:break;case 11:case 15:break;case 1:if((d&1024)!==0&&G!==null){d=void 0,x=h,L=G.memoizedProps,G=G.memoizedState,A=x.stateNode;try{var xn=Cd(x.type,L,x.elementType===x.type);d=A.getSnapshotBeforeUpdate(xn,G),A.__reactInternalSnapshotBeforeUpdate=d}catch(Kn){Ht(x,x.return,Kn)}}break;case 3:if((d&1024)!==0){if(d=h.stateNode.containerInfo,x=d.nodeType,x===9)VA(d);else if(x===1)switch(d.nodeName){case"HEAD":case"HTML":case"BODY":VA(d);break;default:d.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((d&1024)!==0)throw Error(r(163))}if(d=h.sibling,d!==null){d.return=h.return,Vr=d;break}Vr=h.return}return xn=wg,wg=!1,xn}function Wf(d,h,x){var A=x.flags;switch(x.tag){case 0:case 11:case 15:El(d,x),A&4&&kr(5,x);break;case 1:if(El(d,x),A&4)if(d=x.stateNode,h===null)try{d.componentDidMount()}catch(ge){Ht(x,x.return,ge)}else{var L=Cd(x.type,h.memoizedProps);h=h.memoizedState;try{d.componentDidUpdate(L,h,d.__reactInternalSnapshotBeforeUpdate)}catch(ge){Ht(x,x.return,ge)}}A&64&&fc(x),A&512&&$r(x,x.return);break;case 3:if(El(d,x),A&64&&(A=x.updateQueue,A!==null)){if(d=null,x.child!==null)switch(x.child.tag){case 27:case 5:d=x.child.stateNode;break;case 1:d=x.child.stateNode}try{Cl(A,d)}catch(ge){Ht(x,x.return,ge)}}break;case 26:El(d,x),A&512&&$r(x,x.return);break;case 27:case 5:El(d,x),h===null&&A&4&&Ri(x),A&512&&$r(x,x.return);break;case 12:El(d,x);break;case 13:El(d,x),A&4&&j_(d,x);break;case 22:if(L=x.memoizedState!==null||Hs,!L){h=h!==null&&h.memoizedState!==null||pr;var G=Hs,ne=pr;Hs=L,(pr=h)&&!ne?ks(d,x,(x.subtreeFlags&8772)!==0):El(d,x),Hs=G,pr=ne}A&512&&(x.memoizedProps.mode==="manual"?$r(x,x.return):Qi(x,x.return));break;default:El(d,x)}}function Ag(d){var h=d.alternate;h!==null&&(d.alternate=null,Ag(h)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(h=d.stateNode,h!==null&&cr(h)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}var mr=null,Ca=!1;function ja(d,h,x){for(x=x.child;x!==null;)Mg(d,h,x),x=x.sibling}function Mg(d,h,x){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(Ct,x)}catch{}switch(x.tag){case 26:pr||Qi(x,h),ja(d,h,x),x.memoizedState?x.memoizedState.count--:x.stateNode&&(x=x.stateNode,x.parentNode.removeChild(x));break;case 27:pr||Qi(x,h);var A=mr,L=Ca;for(mr=x.stateNode,ja(d,h,x),x=x.stateNode,h=x.attributes;h.length;)x.removeAttributeNode(h[0]);cr(x),mr=A,Ca=L;break;case 5:pr||Qi(x,h);case 6:L=mr;var G=Ca;if(mr=null,ja(d,h,x),mr=L,Ca=G,mr!==null)if(Ca)try{d=mr,A=x.stateNode,d.nodeType===8?d.parentNode.removeChild(A):d.removeChild(A)}catch(ne){Ht(x,h,ne)}else try{mr.removeChild(x.stateNode)}catch(ne){Ht(x,h,ne)}break;case 18:mr!==null&&(Ca?(h=mr,x=x.stateNode,h.nodeType===8?$A(h.parentNode,x):h.nodeType===1&&$A(h,x),Iy(h)):$A(mr,x.stateNode));break;case 4:A=mr,L=Ca,mr=x.stateNode.containerInfo,Ca=!0,ja(d,h,x),mr=A,Ca=L;break;case 0:case 11:case 14:case 15:pr||ps(2,x,h),pr||ps(4,x,h),ja(d,h,x);break;case 1:pr||(Qi(x,h),A=x.stateNode,typeof A.componentWillUnmount=="function"&&gp(x,h,A)),ja(d,h,x);break;case 21:ja(d,h,x);break;case 22:pr||Qi(x,h),pr=(A=pr)||x.memoizedState!==null,ja(d,h,x),pr=A;break;default:ja(d,h,x)}}function j_(d,h){if(h.memoizedState===null&&(d=h.alternate,d!==null&&(d=d.memoizedState,d!==null&&(d=d.dehydrated,d!==null))))try{Iy(d)}catch(x){Ht(h,h.return,x)}}function yp(d){switch(d.tag){case 13:case 19:var h=d.stateNode;return h===null&&(h=d.stateNode=new Eg),h;case 22:return d=d.stateNode,h=d._retryCache,h===null&&(h=d._retryCache=new Eg),h;default:throw Error(r(435,d.tag))}}function bp(d,h){var x=yp(d);h.forEach(function(A){var L=dt.bind(null,d,A);x.has(A)||(x.add(A),A.then(L,L))})}function so(d,h){var x=h.deletions;if(x!==null)for(var A=0;A<x.length;A++){var L=x[A],G=d,ne=h,ge=ne;e:for(;ge!==null;){switch(ge.tag){case 27:case 5:mr=ge.stateNode,Ca=!1;break e;case 3:mr=ge.stateNode.containerInfo,Ca=!0;break e;case 4:mr=ge.stateNode.containerInfo,Ca=!0;break e}ge=ge.return}if(mr===null)throw Error(r(160));Mg(G,ne,L),mr=null,Ca=!1,G=L.alternate,G!==null&&(G.return=null),L.return=null}if(h.subtreeFlags&13878)for(h=h.child;h!==null;)Ad(h,d),h=h.sibling}var Wa=null;function Ad(d,h){var x=d.alternate,A=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:so(h,d),Xa(d),A&4&&(ps(3,d,d.return),kr(3,d),ps(5,d,d.return));break;case 1:so(h,d),Xa(d),A&512&&(pr||x===null||Qi(x,x.return)),A&64&&Hs&&(d=d.updateQueue,d!==null&&(A=d.callbacks,A!==null&&(x=d.shared.hiddenCallbacks,d.shared.hiddenCallbacks=x===null?A:x.concat(A))));break;case 26:var L=Wa;if(so(h,d),Xa(d),A&512&&(pr||x===null||Qi(x,x.return)),A&4){var G=x!==null?x.memoizedState:null;if(A=d.memoizedState,x===null)if(A===null)if(d.stateNode===null){e:{A=d.type,x=d.memoizedProps,L=L.ownerDocument||L;t:switch(A){case"title":G=L.getElementsByTagName("title")[0],(!G||G[Or]||G[Qn]||G.namespaceURI==="http://www.w3.org/2000/svg"||G.hasAttribute("itemprop"))&&(G=L.createElement(A),L.head.insertBefore(G,L.querySelector("head > title"))),fo(G,A,x),G[Qn]=d,Ze(G),A=G;break e;case"link":var ne=GB("link","href",L).get(A+(x.href||""));if(ne){for(var ge=0;ge<ne.length;ge++)if(G=ne[ge],G.getAttribute("href")===(x.href==null?null:x.href)&&G.getAttribute("rel")===(x.rel==null?null:x.rel)&&G.getAttribute("title")===(x.title==null?null:x.title)&&G.getAttribute("crossorigin")===(x.crossOrigin==null?null:x.crossOrigin)){ne.splice(ge,1);break t}}G=L.createElement(A),fo(G,A,x),L.head.appendChild(G);break;case"meta":if(ne=GB("meta","content",L).get(A+(x.content||""))){for(ge=0;ge<ne.length;ge++)if(G=ne[ge],G.getAttribute("content")===(x.content==null?null:""+x.content)&&G.getAttribute("name")===(x.name==null?null:x.name)&&G.getAttribute("property")===(x.property==null?null:x.property)&&G.getAttribute("http-equiv")===(x.httpEquiv==null?null:x.httpEquiv)&&G.getAttribute("charset")===(x.charSet==null?null:x.charSet)){ne.splice(ge,1);break t}}G=L.createElement(A),fo(G,A,x),L.head.appendChild(G);break;default:throw Error(r(468,A))}G[Qn]=d,Ze(G),A=G}d.stateNode=A}else kB(L,d.type,d.stateNode);else d.stateNode=HB(L,A,d.memoizedProps);else G!==A?(G===null?x.stateNode!==null&&(x=x.stateNode,x.parentNode.removeChild(x)):G.count--,A===null?kB(L,d.type,d.stateNode):HB(L,A,d.memoizedProps)):A===null&&d.stateNode!==null&&ms(d,d.memoizedProps,x.memoizedProps)}break;case 27:if(A&4&&d.alternate===null){L=d.stateNode,G=d.memoizedProps;try{for(var Re=L.firstChild;Re;){var Ye=Re.nextSibling,At=Re.nodeName;Re[Or]||At==="HEAD"||At==="BODY"||At==="SCRIPT"||At==="STYLE"||At==="LINK"&&Re.rel.toLowerCase()==="stylesheet"||L.removeChild(Re),Re=Ye}for(var Ut=d.type,ft=L.attributes;ft.length;)L.removeAttributeNode(ft[0]);fo(L,Ut,G),L[Qn]=d,L[un]=G}catch(xn){Ht(d,d.return,xn)}}case 5:if(so(h,d),Xa(d),A&512&&(pr||x===null||Qi(x,x.return)),d.flags&32){L=d.stateNode;try{Wi(L,"")}catch(xn){Ht(d,d.return,xn)}}A&4&&d.stateNode!=null&&(L=d.memoizedProps,ms(d,L,x!==null?x.memoizedProps:L)),A&1024&&(_u=!0);break;case 6:if(so(h,d),Xa(d),A&4){if(d.stateNode===null)throw Error(r(162));A=d.memoizedProps,x=d.stateNode;try{x.nodeValue=A}catch(xn){Ht(d,d.return,xn)}}break;case 3:if(ex=null,L=Wa,Wa=Q_(h.containerInfo),so(h,d),Wa=L,Xa(d),A&4&&x!==null&&x.memoizedState.isDehydrated)try{Iy(h.containerInfo)}catch(xn){Ht(d,d.return,xn)}_u&&(_u=!1,xu(d));break;case 4:A=Wa,Wa=Q_(d.stateNode.containerInfo),so(h,d),Xa(d),Wa=A;break;case 12:so(h,d),Xa(d);break;case 13:so(h,d),Xa(d),d.child.flags&8192&&d.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(li=De()),A&4&&(A=d.updateQueue,A!==null&&(d.updateQueue=null,bp(d,A)));break;case 22:if(A&512&&(pr||x===null||Qi(x,x.return)),Re=d.memoizedState!==null,Ye=x!==null&&x.memoizedState!==null,At=Hs,Ut=pr,Hs=At||Re,pr=Ut||Ye,so(h,d),pr=Ut,Hs=At,Xa(d),h=d.stateNode,h._current=d,h._visibility&=-3,h._visibility|=h._pendingVisibility&2,A&8192&&(h._visibility=Re?h._visibility&-2:h._visibility|1,Re&&(h=Hs||pr,x===null||Ye||h||Gs(d)),d.memoizedProps===null||d.memoizedProps.mode!=="manual"))e:for(x=null,h=d;;){if(h.tag===5||h.tag===26||h.tag===27){if(x===null){Ye=x=h;try{if(L=Ye.stateNode,Re)G=L.style,typeof G.setProperty=="function"?G.setProperty("display","none","important"):G.display="none";else{ne=Ye.stateNode,ge=Ye.memoizedProps.style;var Et=ge!=null&&ge.hasOwnProperty("display")?ge.display:null;ne.style.display=Et==null||typeof Et=="boolean"?"":(""+Et).trim()}}catch(xn){Ht(Ye,Ye.return,xn)}}}else if(h.tag===6){if(x===null){Ye=h;try{Ye.stateNode.nodeValue=Re?"":Ye.memoizedProps}catch(xn){Ht(Ye,Ye.return,xn)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===d)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break e;for(;h.sibling===null;){if(h.return===null||h.return===d)break e;x===h&&(x=null),h=h.return}x===h&&(x=null),h.sibling.return=h.return,h=h.sibling}A&4&&(A=d.updateQueue,A!==null&&(x=A.retryQueue,x!==null&&(A.retryQueue=null,bp(d,x))));break;case 19:so(h,d),Xa(d),A&4&&(A=d.updateQueue,A!==null&&(d.updateQueue=null,bp(d,A)));break;case 21:break;default:so(h,d),Xa(d)}}function Xa(d){var h=d.flags;if(h&2){try{if(d.tag!==27){e:{for(var x=d.return;x!==null;){if(Fs(x)){var A=x;break e}x=x.return}throw Error(r(160))}switch(A.tag){case 27:var L=A.stateNode,G=vp(d);hc(d,G,L);break;case 5:var ne=A.stateNode;A.flags&32&&(Wi(ne,""),A.flags&=-33);var ge=vp(d);hc(d,ge,ne);break;case 3:case 4:var Re=A.stateNode.containerInfo,Ye=vp(d);Mo(d,Ye,Re);break;default:throw Error(r(161))}}}catch(At){Ht(d,d.return,At)}d.flags&=-3}h&4096&&(d.flags&=-4097)}function xu(d){if(d.subtreeFlags&1024)for(d=d.child;d!==null;){var h=d;xu(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),d=d.sibling}}function El(d,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)Wf(d,h.alternate,h),h=h.sibling}function Gs(d){for(d=d.child;d!==null;){var h=d;switch(h.tag){case 0:case 11:case 14:case 15:ps(4,h,h.return),Gs(h);break;case 1:Qi(h,h.return);var x=h.stateNode;typeof x.componentWillUnmount=="function"&&gp(h,h.return,x),Gs(h);break;case 26:case 27:case 5:Qi(h,h.return),Gs(h);break;case 22:Qi(h,h.return),h.memoizedState===null&&Gs(h);break;default:Gs(h)}d=d.sibling}}function ks(d,h,x){for(x=x&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var A=h.alternate,L=d,G=h,ne=G.flags;switch(G.tag){case 0:case 11:case 15:ks(L,G,x),kr(4,G);break;case 1:if(ks(L,G,x),A=G,L=A.stateNode,typeof L.componentDidMount=="function")try{L.componentDidMount()}catch(Ye){Ht(A,A.return,Ye)}if(A=G,L=A.updateQueue,L!==null){var ge=A.stateNode;try{var Re=L.shared.hiddenCallbacks;if(Re!==null)for(L.shared.hiddenCallbacks=null,L=0;L<Re.length;L++)xl(Re[L],ge)}catch(Ye){Ht(A,A.return,Ye)}}x&&ne&64&&fc(G),$r(G,G.return);break;case 26:case 27:case 5:ks(L,G,x),x&&A===null&&ne&4&&Ri(G),$r(G,G.return);break;case 12:ks(L,G,x);break;case 13:ks(L,G,x),x&&ne&4&&j_(L,G);break;case 22:G.memoizedState===null&&ks(L,G,x),$r(G,G.return);break;default:ks(L,G,x)}h=h.sibling}}function To(d,h){var x=null;d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),d=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(d=h.memoizedState.cachePool.pool),d!==x&&(d!=null&&d.refCount++,x!=null&&cu(x))}function gs(d,h){d=null,h.alternate!==null&&(d=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==d&&(h.refCount++,d!=null&&cu(d))}function dr(d,h,x,A){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)pc(d,h,x,A),h=h.sibling}function pc(d,h,x,A){var L=h.flags;switch(h.tag){case 0:case 11:case 15:dr(d,h,x,A),L&2048&&kr(9,h);break;case 3:dr(d,h,x,A),L&2048&&(d=null,h.alternate!==null&&(d=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==d&&(h.refCount++,d!=null&&cu(d)));break;case 12:if(L&2048){dr(d,h,x,A),d=h.stateNode;try{var G=h.memoizedProps,ne=G.id,ge=G.onPostCommit;typeof ge=="function"&&ge(ne,h.alternate===null?"mount":"update",d.passiveEffectDuration,-0)}catch(Re){Ht(h,h.return,Re)}}else dr(d,h,x,A);break;case 23:break;case 22:G=h.stateNode,h.memoizedState!==null?G._visibility&4?dr(d,h,x,A):zi(d,h):G._visibility&4?dr(d,h,x,A):(G._visibility|=4,Xn(d,h,x,A,(h.subtreeFlags&10256)!==0)),L&2048&&To(h.alternate,h);break;case 24:dr(d,h,x,A),L&2048&&gs(h.alternate,h);break;default:dr(d,h,x,A)}}function Xn(d,h,x,A,L){for(L=L&&(h.subtreeFlags&10256)!==0,h=h.child;h!==null;){var G=d,ne=h,ge=x,Re=A,Ye=ne.flags;switch(ne.tag){case 0:case 11:case 15:Xn(G,ne,ge,Re,L),kr(8,ne);break;case 23:break;case 22:var At=ne.stateNode;ne.memoizedState!==null?At._visibility&4?Xn(G,ne,ge,Re,L):zi(G,ne):(At._visibility|=4,Xn(G,ne,ge,Re,L)),L&&Ye&2048&&To(ne.alternate,ne);break;case 24:Xn(G,ne,ge,Re,L),L&&Ye&2048&&gs(ne.alternate,ne);break;default:Xn(G,ne,ge,Re,L)}h=h.sibling}}function zi(d,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var x=d,A=h,L=A.flags;switch(A.tag){case 22:zi(x,A),L&2048&&To(A.alternate,A);break;case 24:zi(x,A),L&2048&&gs(A.alternate,A);break;default:zi(x,A)}h=h.sibling}}var Er=8192;function mc(d){if(d.subtreeFlags&Er)for(d=d.child;d!==null;)Md(d),d=d.sibling}function Md(d){switch(d.tag){case 26:mc(d),d.flags&Er&&d.memoizedState!==null&&l5(Wa,d.memoizedState,d.memoizedProps);break;case 5:mc(d);break;case 3:case 4:var h=Wa;Wa=Q_(d.stateNode.containerInfo),mc(d),Wa=h;break;case 22:d.memoizedState===null&&(h=d.alternate,h!==null&&h.memoizedState!==null?(h=Er,Er=16777216,mc(d),Er=h):mc(d));break;default:mc(d)}}function Cu(d){var h=d.alternate;if(h!==null&&(d=h.child,d!==null)){h.child=null;do h=d.sibling,d.sibling=null,d=h;while(d!==null)}}function Eu(d){var h=d.deletions;if((d.flags&16)!==0){if(h!==null)for(var x=0;x<h.length;x++){var A=h[x];Vr=A,W_(A,d)}Cu(d)}if(d.subtreeFlags&10256)for(d=d.child;d!==null;)Xf(d),d=d.sibling}function Xf(d){switch(d.tag){case 0:case 11:case 15:Eu(d),d.flags&2048&&ps(9,d,d.return);break;case 3:Eu(d);break;case 12:Eu(d);break;case 22:var h=d.stateNode;d.memoizedState!==null&&h._visibility&4&&(d.return===null||d.return.tag!==13)?(h._visibility&=-5,gc(d)):Eu(d);break;default:Eu(d)}}function gc(d){var h=d.deletions;if((d.flags&16)!==0){if(h!==null)for(var x=0;x<h.length;x++){var A=h[x];Vr=A,W_(A,d)}Cu(d)}for(d=d.child;d!==null;){switch(h=d,h.tag){case 0:case 11:case 15:ps(8,h,h.return),gc(h);break;case 22:x=h.stateNode,x._visibility&4&&(x._visibility&=-5,gc(h));break;default:gc(h)}d=d.sibling}}function W_(d,h){for(;Vr!==null;){var x=Vr;switch(x.tag){case 0:case 11:case 15:ps(8,x,h);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var A=x.memoizedState.cachePool.pool;A!=null&&A.refCount++}break;case 24:cu(x.memoizedState.cache)}if(A=x.child,A!==null)A.return=x,Vr=A;else e:for(x=d;Vr!==null;){A=Vr;var L=A.sibling,G=A.return;if(Ag(A),A===x){Vr=null;break e}if(L!==null){L.return=G,Vr=L;break e}Vr=G}}}function vy(d,h,x,A){this.tag=d,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jr(d,h,x,A){return new vy(d,h,x,A)}function vc(d){return d=d.prototype,!(!d||!d.isReactComponent)}function lo(d,h){var x=d.alternate;return x===null?(x=jr(d.tag,h,d.key,d.mode),x.elementType=d.elementType,x.type=d.type,x.stateNode=d.stateNode,x.alternate=d,d.alternate=x):(x.pendingProps=h,x.type=d.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=d.flags&31457280,x.childLanes=d.childLanes,x.lanes=d.lanes,x.child=d.child,x.memoizedProps=d.memoizedProps,x.memoizedState=d.memoizedState,x.updateQueue=d.updateQueue,h=d.dependencies,x.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},x.sibling=d.sibling,x.index=d.index,x.ref=d.ref,x.refCleanup=d.refCleanup,x}function wu(d,h){d.flags&=31457282;var x=d.alternate;return x===null?(d.childLanes=0,d.lanes=h,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=x.childLanes,d.lanes=x.lanes,d.child=x.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=x.memoizedProps,d.memoizedState=x.memoizedState,d.updateQueue=x.updateQueue,d.type=x.type,h=x.dependencies,d.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),d}function Yf(d,h,x,A,L,G){var ne=0;if(A=d,typeof d=="function")vc(d)&&(ne=1);else if(typeof d=="string")ne=o5(d,x,yt.current)?26:d==="html"||d==="head"||d==="body"?27:5;else e:switch(d){case u:return Au(x.children,L,G,h);case f:ne=8,L|=24;break;case m:return d=jr(12,x,h,L|2),d.elementType=m,d.lanes=G,d;case p:return d=jr(13,x,h,L),d.elementType=p,d.lanes=G,d;case g:return d=jr(19,x,h,L),d.elementType=g,d.lanes=G,d;case T:return yy(x,L,G,h);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case y:case E:ne=10;break e;case _:ne=9;break e;case c:ne=11;break e;case b:ne=14;break e;case C:ne=16,A=null;break e}ne=29,x=Error(r(130,d===null?"null":typeof d,"")),A=null}return h=jr(ne,x,h,L),h.elementType=d,h.type=A,h.lanes=G,h}function Au(d,h,x,A){return d=jr(7,d,A,h),d.lanes=x,d}function yy(d,h,x,A){d=jr(22,d,A,h),d.elementType=T,d.lanes=x;var L={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var G=L._current;if(G===null)throw Error(r(456));if((L._pendingVisibility&2)===0){var ne=Zl(G,2);ne!==null&&(L._pendingVisibility|=2,ra(ne,G,2))}},attach:function(){var G=L._current;if(G===null)throw Error(r(456));if((L._pendingVisibility&2)!==0){var ne=Zl(G,2);ne!==null&&(L._pendingVisibility&=-3,ra(ne,G,2))}}};return d.stateNode=L,d}function na(d,h,x){return d=jr(6,d,null,h),d.lanes=x,d}function Sp(d,h,x){return h=jr(4,d.children!==null?d.children:[],d.key,h),h.lanes=x,h.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},h}function vs(d){d.flags|=4}function Mu(d,h){if(h.type!=="stylesheet"||(h.state.loading&4)!==0)d.flags&=-16777217;else if(d.flags|=16777216,!$B(h)){if(h=Eo.current,h!==null&&((On&4194176)===On?gl!==null:(On&62914560)!==On&&(On&536870912)===0||h!==gl))throw Df=rg,$0;d.flags|=8192}}function ys(d,h){h!==null&&(d.flags|=4),d.flags&16384&&(h=d.tag!==22?Lt():536870912,d.lanes|=h,Al|=h)}function _p(d,h){if(!Ti)switch(d.tailMode){case"hidden":h=d.tail;for(var x=null;h!==null;)h.alternate!==null&&(x=h),h=h.sibling;x===null?d.tail=null:x.sibling=null;break;case"collapsed":x=d.tail;for(var A=null;x!==null;)x.alternate!==null&&(A=x),x=x.sibling;A===null?h||d.tail===null?d.tail=null:d.tail.sibling=null:A.sibling=null}}function Tr(d){var h=d.alternate!==null&&d.alternate.child===d.child,x=0,A=0;if(h)for(var L=d.child;L!==null;)x|=L.lanes|L.childLanes,A|=L.subtreeFlags&31457280,A|=L.flags&31457280,L.return=d,L=L.sibling;else for(L=d.child;L!==null;)x|=L.lanes|L.childLanes,A|=L.subtreeFlags,A|=L.flags,L.return=d,L=L.sibling;return d.subtreeFlags|=A,d.childLanes=x,h}function IA(d,h,x){var A=h.pendingProps;switch(ru(h),h.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tr(h),null;case 1:return Tr(h),null;case 3:return x=h.stateNode,A=null,d!==null&&(A=d.memoizedState.cache),h.memoizedState.cache!==A&&(h.flags|=2048),dc(Fr),Ie(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(d===null||d.child===null)&&(If(h)?vs(h):d===null||d.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,fs!==null&&(xs(fs),fs=null))),Tr(h),null;case 26:return x=h.memoizedState,d===null?(vs(h),x!==null?(Tr(h),Mu(h,x)):(Tr(h),h.flags&=-16777217)):x?x!==d.memoizedState?(vs(h),Tr(h),Mu(h,x)):(Tr(h),h.flags&=-16777217):(d.memoizedProps!==A&&vs(h),Tr(h),h.flags&=-16777217),null;case 27:$e(h),x=xe.current;var L=h.type;if(d!==null&&h.stateNode!=null)d.memoizedProps!==A&&vs(h);else{if(!A){if(h.stateNode===null)throw Error(r(166));return Tr(h),null}d=yt.current,If(h)?e_(h):(d=LB(L,A,x),h.stateNode=d,vs(h))}return Tr(h),null;case 5:if($e(h),x=h.type,d!==null&&h.stateNode!=null)d.memoizedProps!==A&&vs(h);else{if(!A){if(h.stateNode===null)throw Error(r(166));return Tr(h),null}if(d=yt.current,If(h))e_(h);else{switch(L=J_(xe.current),d){case 1:d=L.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:d=L.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":d=L.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":d=L.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":d=L.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof A.is=="string"?L.createElement("select",{is:A.is}):L.createElement("select"),A.multiple?d.multiple=!0:A.size&&(d.size=A.size);break;default:d=typeof A.is=="string"?L.createElement(x,{is:A.is}):L.createElement(x)}}d[Qn]=h,d[un]=A;e:for(L=h.child;L!==null;){if(L.tag===5||L.tag===6)d.appendChild(L.stateNode);else if(L.tag!==4&&L.tag!==27&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===h)break e;for(;L.sibling===null;){if(L.return===null||L.return===h)break e;L=L.return}L.sibling.return=L.return,L=L.sibling}h.stateNode=d;e:switch(fo(d,x,A),x){case"button":case"input":case"select":case"textarea":d=!!A.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&vs(h)}}return Tr(h),h.flags&=-16777217,null;case 6:if(d&&h.stateNode!=null)d.memoizedProps!==A&&vs(h);else{if(typeof A!="string"&&h.stateNode===null)throw Error(r(166));if(d=xe.current,If(h)){if(d=h.stateNode,x=h.memoizedProps,A=null,L=ka,L!==null)switch(L.tag){case 27:case 5:A=L.memoizedProps}d[Qn]=h,d=!!(d.nodeValue===x||A!==null&&A.suppressHydrationWarning===!0||RB(d.nodeValue,x)),d||md(h)}else d=J_(d).createTextNode(A),d[Qn]=h,h.stateNode=d}return Tr(h),null;case 13:if(A=h.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(L=If(h),A!==null&&A.dehydrated!==null){if(d===null){if(!L)throw Error(r(318));if(L=h.memoizedState,L=L!==null?L.dehydrated:null,!L)throw Error(r(317));L[Qn]=h}else Bf(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Tr(h),L=!1}else fs!==null&&(xs(fs),fs=null),L=!0;if(!L)return h.flags&256?(vl(h),h):(vl(h),null)}if(vl(h),(h.flags&128)!==0)return h.lanes=x,h;if(x=A!==null,d=d!==null&&d.memoizedState!==null,x){A=h.child,L=null,A.alternate!==null&&A.alternate.memoizedState!==null&&A.alternate.memoizedState.cachePool!==null&&(L=A.alternate.memoizedState.cachePool.pool);var G=null;A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(G=A.memoizedState.cachePool.pool),G!==L&&(A.flags|=2048)}return x!==d&&x&&(h.child.flags|=8192),ys(h,h.updateQueue),Tr(h),null;case 4:return Ie(),d===null&&NA(h.stateNode.containerInfo),Tr(h),null;case 10:return dc(h.type),Tr(h),null;case 19:if(Te(Zr),L=h.memoizedState,L===null)return Tr(h),null;if(A=(h.flags&128)!==0,G=L.rendering,G===null)if(A)_p(L,!1);else{if(gr!==0||d!==null&&(d.flags&128)!==0)for(d=h.child;d!==null;){if(G=Pf(d),G!==null){for(h.flags|=128,_p(L,!1),d=G.updateQueue,h.updateQueue=d,ys(h,d),h.subtreeFlags=0,d=x,x=h.child;x!==null;)wu(x,d),x=x.sibling;return ze(Zr,Zr.current&1|2),h.child}d=d.sibling}L.tail!==null&&De()>mi&&(h.flags|=128,A=!0,_p(L,!1),h.lanes=4194304)}else{if(!A)if(d=Pf(G),d!==null){if(h.flags|=128,A=!0,d=d.updateQueue,h.updateQueue=d,ys(h,d),_p(L,!0),L.tail===null&&L.tailMode==="hidden"&&!G.alternate&&!Ti)return Tr(h),null}else 2*De()-L.renderingStartTime>mi&&x!==536870912&&(h.flags|=128,A=!0,_p(L,!1),h.lanes=4194304);L.isBackwards?(G.sibling=h.child,h.child=G):(d=L.last,d!==null?d.sibling=G:h.child=G,L.last=G)}return L.tail!==null?(h=L.tail,L.rendering=h,L.tail=h.sibling,L.renderingStartTime=De(),h.sibling=null,d=Zr.current,ze(Zr,A?d&1|2:d&1),h):(Tr(h),null);case 22:case 23:return vl(h),cp(),A=h.memoizedState!==null,d!==null?d.memoizedState!==null!==A&&(h.flags|=8192):A&&(h.flags|=8192),A?(x&536870912)!==0&&(h.flags&128)===0&&(Tr(h),h.subtreeFlags&6&&(h.flags|=8192)):Tr(h),x=h.updateQueue,x!==null&&ys(h,x.retryQueue),x=null,d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),A=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(A=h.memoizedState.cachePool.pool),A!==x&&(h.flags|=2048),d!==null&&Te(oc),null;case 24:return x=null,d!==null&&(x=d.memoizedState.cache),h.memoizedState.cache!==x&&(h.flags|=2048),dc(Fr),Tr(h),null;case 25:return null}throw Error(r(156,h.tag))}function Dr(d,h){switch(ru(h),h.tag){case 1:return d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 3:return dc(Fr),Ie(),d=h.flags,(d&65536)!==0&&(d&128)===0?(h.flags=d&-65537|128,h):null;case 26:case 27:case 5:return $e(h),null;case 13:if(vl(h),d=h.memoizedState,d!==null&&d.dehydrated!==null){if(h.alternate===null)throw Error(r(340));Bf()}return d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 19:return Te(Zr),null;case 4:return Ie(),null;case 10:return dc(h.type),null;case 22:case 23:return vl(h),cp(),d!==null&&Te(oc),d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 24:return dc(Fr),null;case 25:return null;default:return null}}function by(d,h){switch(ru(h),h.tag){case 3:dc(Fr),Ie();break;case 26:case 27:case 5:$e(h);break;case 4:Ie();break;case 13:vl(h);break;case 19:Te(Zr);break;case 10:dc(h.type);break;case 22:case 23:vl(h),cp(),d!==null&&Te(oc);break;case 24:dc(Fr)}}var Td={getCacheForType:function(d){var h=$a(Fr),x=h.data.get(d);return x===void 0&&(x=d(),h.data.set(d,x)),x}},yc=typeof WeakMap=="function"?WeakMap:Map,Yn=0,Zi=null,di=null,On=0,ar=0,Ui=null,Wr=!1,Ya=!1,Tu=!1,bc=0,gr=0,$s=0,wl=0,qf=0,co=0,Al=0,xp=null,pi=null,er=!1,li=0,mi=1/0,Yi=null,ia=null,bs=!1,Ss=null,Rd=0,Vs=0,wr=null,_s=0,Sc=null;function uo(){if((Yn&2)!==0&&On!==0)return On&-On;if(U.T!==null){var d=yd;return d!==0?d:BA()}return Sr()}function Zo(){co===0&&(co=(On&536870912)===0||Ti?Yt():536870912);var d=Eo.current;return d!==null&&(d.flags|=32),co}function ra(d,h,x){(d===Zi&&ar===2||d.cancelPendingCommit!==null)&&(_c(d,0),es(d,On,co,!1)),yn(d,x),((Yn&2)===0||d!==Zi)&&(d===Zi&&((Yn&2)===0&&(wl|=x),gr===4&&es(d,On,co,!1)),or(d))}function Kf(d,h,x){if((Yn&6)!==0)throw Error(r(327));var A=!x&&(h&60)===0&&(h&d.expiredLanes)===0||Qt(d,h),L=A?v(d,h):Id(d,h,!0),G=A;do{if(L===0){Ya&&!A&&es(d,h,0,!1);break}else if(L===6)es(d,h,0,!Wr);else{if(x=d.current.alternate,G&&!Sy(x)){L=Id(d,h,!1),G=!1;continue}if(L===2){if(G=h,d.errorRecoveryDisabledLanes&G)var ne=0;else ne=d.pendingLanes&-536870913,ne=ne!==0?ne:ne&536870912?536870912:0;if(ne!==0){h=ne;e:{var ge=d;L=xp;var Re=ge.current.memoizedState.isDehydrated;if(Re&&(_c(ge,ne).flags|=256),ne=Id(ge,ne,!1),ne!==2){if(Tu&&!Re){ge.errorRecoveryDisabledLanes|=G,wl|=G,L=4;break e}G=pi,pi=L,G!==null&&xs(G)}L=ne}if(G=!1,L!==2)continue}}if(L===1){_c(d,0),es(d,h,0,!0);break}e:{switch(A=d,L){case 0:case 1:throw Error(r(345));case 4:if((h&4194176)===h){es(A,h,co,!Wr);break e}break;case 2:pi=null;break;case 3:case 5:break;default:throw Error(r(329))}if(A.finishedWork=x,A.finishedLanes=h,(h&62914560)===h&&(G=li+300-De(),10<G)){if(es(A,h,co,!Wr),Bt(A,0)!==0)break e;A.timeoutHandle=BB(Tg.bind(null,A,x,pi,Yi,er,h,co,wl,Al,Wr,2,-0,0),G);break e}Tg(A,x,pi,Yi,er,h,co,wl,Al,Wr,0,-0,0)}}break}while(!0);or(d)}function xs(d){pi===null?pi=d:pi.push.apply(pi,d)}function Tg(d,h,x,A,L,G,ne,ge,Re,Ye,At,Ut,ft){var Et=h.subtreeFlags;if((Et&8192||(Et&16785408)===16785408)&&(Ay={stylesheets:null,count:0,unsuspend:s5},Md(h),h=c5(),h!==null)){d.cancelPendingCommit=h(Le.bind(null,d,x,A,L,ne,ge,Re,1,Ut,ft)),es(d,G,ne,!Ye);return}Le(d,x,A,L,ne,ge,Re,At,Ut,ft)}function Sy(d){for(var h=d;;){var x=h.tag;if((x===0||x===11||x===15)&&h.flags&16384&&(x=h.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var A=0;A<x.length;A++){var L=x[A],G=L.getSnapshot;L=L.value;try{if(!ye(G(),L))return!1}catch{return!1}}if(x=h.child,h.subtreeFlags&16384&&x!==null)x.return=h,h=x;else{if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function es(d,h,x,A){h&=~qf,h&=~wl,d.suspendedLanes|=h,d.pingedLanes&=~h,A&&(d.warmLanes|=h),A=d.expirationTimes;for(var L=h;0<L;){var G=31-Ge(L),ne=1<<G;A[G]=-1,L&=~ne}x!==0&&Jr(d,x,h)}function Od(){return(Yn&6)===0?(vi(0),!1):!0}function Ml(){if(di!==null){if(ar===0)var d=di.return;else d=di,zs=_l=null,lg(d),su=null,op=0,d=di;for(;d!==null;)by(d.alternate,d),d=d.return;di=null}}function _c(d,h){d.finishedWork=null,d.finishedLanes=0;var x=d.timeoutHandle;x!==-1&&(d.timeoutHandle=-1,jk(x)),x=d.cancelPendingCommit,x!==null&&(d.cancelPendingCommit=null,x()),Ml(),Zi=d,di=x=lo(d.current,null),On=h,ar=0,Ui=null,Wr=!1,Ya=Qt(d,h),Tu=!1,Al=co=qf=wl=$s=gr=0,pi=xp=null,er=!1,(h&8)!==0&&(h|=h&32);var A=d.entangledLanes;if(A!==0)for(d=d.entanglements,A&=h;0<A;){var L=31-Ge(A),G=1<<L;h|=d[L],A&=~G}return bc=h,Qh(),x}function Ru(d,h){si=null,U.H=Sl,h===au?(h=Vi(),ar=3):h===$0?(h=Vi(),ar=4):ar=h===qo?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,Ui=h,di===null&&(gr=1,vg(d,Co(h,d.current)))}function Jf(){var d=U.H;return U.H=Sl,d===null?Sl:d}function Rg(){var d=U.A;return U.A=Td,d}function Cp(){gr=4,Wr||(On&4194176)!==On&&Eo.current!==null||(Ya=!0),($s&134217727)===0&&(wl&134217727)===0||Zi===null||es(Zi,On,co,!1)}function Id(d,h,x){var A=Yn;Yn|=2;var L=Jf(),G=Rg();(Zi!==d||On!==h)&&(Yi=null,_c(d,h)),h=!1;var ne=gr;e:do try{if(ar!==0&&di!==null){var ge=di,Re=Ui;switch(ar){case 8:Ml(),ne=6;break e;case 3:case 2:case 6:Eo.current===null&&(h=!0);var Ye=ar;if(ar=0,Ui=null,k(d,ge,Re,Ye),x&&Ya){ne=0;break e}break;default:Ye=ar,ar=0,Ui=null,k(d,ge,Re,Ye)}}_y(),ne=gr;break}catch(At){Ru(d,At)}while(!0);return h&&d.shellSuspendCounter++,zs=_l=null,Yn=A,U.H=L,U.A=G,di===null&&(Zi=null,On=0,Qh()),ne}function _y(){for(;di!==null;)R(di)}function v(d,h){var x=Yn;Yn|=2;var A=Jf(),L=Rg();Zi!==d||On!==h?(Yi=null,mi=De()+500,_c(d,h)):Ya=Qt(d,h);e:do try{if(ar!==0&&di!==null){h=di;var G=Ui;t:switch(ar){case 1:ar=0,Ui=null,k(d,h,G,1);break;case 2:if(n_(G)){ar=0,Ui=null,N(h);break}h=function(){ar===2&&Zi===d&&(ar=7),or(d)},G.then(h,h);break e;case 3:ar=7;break e;case 4:ar=5;break e;case 7:n_(G)?(ar=0,Ui=null,N(h)):(ar=0,Ui=null,k(d,h,G,7));break;case 5:var ne=null;switch(di.tag){case 26:ne=di.memoizedState;case 5:case 27:var ge=di;if(!ne||$B(ne)){ar=0,Ui=null;var Re=ge.sibling;if(Re!==null)di=Re;else{var Ye=ge.return;Ye!==null?(di=Ye,j(Ye)):di=null}break t}}ar=0,Ui=null,k(d,h,G,5);break;case 6:ar=0,Ui=null,k(d,h,G,6);break;case 8:Ml(),gr=6;break e;default:throw Error(r(462))}}S();break}catch(At){Ru(d,At)}while(!0);return zs=_l=null,U.H=A,U.A=L,Yn=x,di!==null?0:(Zi=null,On=0,Qh(),gr)}function S(){for(;di!==null&&!oe();)R(di)}function R(d){var h=pp(d.alternate,d,bc);d.memoizedProps=d.pendingProps,h===null?j(d):di=h}function N(d){var h=d,x=h.alternate;switch(h.tag){case 15:case 0:h=k_(x,h,h.pendingProps,h.type,void 0,On);break;case 11:h=k_(x,h,h.pendingProps,h.type.render,h.ref,On);break;case 5:lg(h);default:by(x,h),h=di=wu(h,bc),h=pp(x,h,bc)}d.memoizedProps=d.pendingProps,h===null?j(d):di=h}function k(d,h,x,A){zs=_l=null,lg(h),su=null,op=0;var L=h.return;try{if(RA(d,L,h,x,On)){gr=1,vg(d,Co(x,d.current)),di=null;return}}catch(G){if(L!==null)throw di=L,G;gr=1,vg(d,Co(x,d.current)),di=null;return}h.flags&32768?(Ti||A===1?d=!0:Ya||(On&536870912)!==0?d=!1:(Wr=d=!0,(A===2||A===3||A===6)&&(A=Eo.current,A!==null&&A.tag===13&&(A.flags|=16384))),ve(h,d)):j(h)}function j(d){var h=d;do{if((h.flags&32768)!==0){ve(h,Wr);return}d=h.return;var x=IA(h.alternate,h,bc);if(x!==null){di=x;return}if(h=h.sibling,h!==null){di=h;return}di=h=d}while(h!==null);gr===0&&(gr=5)}function ve(d,h){do{var x=Dr(d.alternate,d);if(x!==null){x.flags&=32767,di=x;return}if(x=d.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!h&&(d=d.sibling,d!==null)){di=d;return}di=d=x}while(d!==null);gr=6,di=null}function Le(d,h,x,A,L,G,ne,ge,Re,Ye){var At=U.T,Ut=Z.p;try{Z.p=2,U.T=null,it(d,h,x,A,Ut,L,G,ne,ge,Re,Ye)}finally{U.T=At,Z.p=Ut}}function it(d,h,x,A,L,G,ne,ge){do Vt();while(Ss!==null);if((Yn&6)!==0)throw Error(r(327));var Re=d.finishedWork;if(A=d.finishedLanes,Re===null)return null;if(d.finishedWork=null,d.finishedLanes=0,Re===d.current)throw Error(r(177));d.callbackNode=null,d.callbackPriority=0,d.cancelPendingCommit=null;var Ye=Re.lanes|Re.childLanes;if(Ye|=Ql,lr(d,A,Ye,G,ne,ge),d===Zi&&(di=Zi=null,On=0),(Re.subtreeFlags&10256)===0&&(Re.flags&10256)===0||bs||(bs=!0,Vs=Ye,wr=x,tt(lt,function(){return Vt(),null})),x=(Re.flags&15990)!==0,(Re.subtreeFlags&15990)!==0||x?(x=U.T,U.T=null,G=Z.p,Z.p=2,ne=Yn,Yn|=4,jf(d,Re),Ad(Re,d),kt(HA,d.containerInfo),ix=!!FA,HA=FA=null,d.current=Re,Wf(d,Re.alternate,Re),Ee(),Yn=ne,Z.p=G,U.T=x):d.current=Re,bs?(bs=!1,Ss=d,Rd=A):wt(d,Ye),Ye=d.pendingLanes,Ye===0&&(ia=null),rt(Re.stateNode),or(d),h!==null)for(L=d.onRecoverableError,Re=0;Re<h.length;Re++)Ye=h[Re],L(Ye.value,{componentStack:Ye.stack});return(Rd&3)!==0&&Vt(),Ye=d.pendingLanes,(A&4194218)!==0&&(Ye&42)!==0?d===Sc?_s++:(_s=0,Sc=d):_s=0,vi(0),null}function wt(d,h){(d.pooledCacheLanes&=h)===0&&(h=d.pooledCache,h!=null&&(d.pooledCache=null,cu(h)))}function Vt(){if(Ss!==null){var d=Ss,h=Vs;Vs=0;var x=Ai(Rd),A=U.T,L=Z.p;try{if(Z.p=32>x?32:x,U.T=null,Ss===null)var G=!1;else{x=wr,wr=null;var ne=Ss,ge=Rd;if(Ss=null,Rd=0,(Yn&6)!==0)throw Error(r(331));var Re=Yn;if(Yn|=4,Xf(ne.current),pc(ne,ne.current,ge,x),Yn=Re,vi(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(Ct,ne)}catch{}G=!0}return G}finally{Z.p=L,U.T=A,wt(d,h)}}return!1}function nn(d,h,x){h=Co(x,h),h=ay(d.stateNode,h,2),d=Qo(d,h,2),d!==null&&(yn(d,2),or(d))}function Ht(d,h,x){if(d.tag===3)nn(d,d,x);else for(;h!==null;){if(h.tag===3){nn(h,d,x);break}else if(h.tag===1){var A=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(ia===null||!ia.has(A))){d=Co(x,d),x=oy(2),A=Qo(h,x,2),A!==null&&(H_(x,A,h,d),yn(A,2),or(A));break}}h=h.return}}function qn(d,h,x){var A=d.pingCache;if(A===null){A=d.pingCache=new yc;var L=new Set;A.set(h,L)}else L=A.get(h),L===void 0&&(L=new Set,A.set(h,L));L.has(x)||(Tu=!0,L.add(x),d=Cs.bind(null,d,h,x),h.then(d,d))}function Cs(d,h,x){var A=d.pingCache;A!==null&&A.delete(h),d.pingedLanes|=d.suspendedLanes&x,d.warmLanes&=~x,Zi===d&&(On&x)===x&&(gr===4||gr===3&&(On&62914560)===On&&300>De()-li?(Yn&2)===0&&_c(d,0):qf|=x,Al===On&&(Al=0)),or(d)}function Qf(d,h){h===0&&(h=Lt()),d=Zl(d,h),d!==null&&(yn(d,h),or(d))}function Bd(d){var h=d.memoizedState,x=0;h!==null&&(x=h.retryLane),Qf(d,x)}function dt(d,h){var x=0;switch(d.tag){case 13:var A=d.stateNode,L=d.memoizedState;L!==null&&(x=L.retryLane);break;case 19:A=d.stateNode;break;case 22:A=d.stateNode._retryCache;break;default:throw Error(r(314))}A!==null&&A.delete(h),Qf(d,x)}function tt(d,h){return st(d,h)}var ht=null,Ft=null,_n=!1,tr=!1,Nn=!1,fi=0;function or(d){d!==Ft&&d.next===null&&(Ft===null?ht=Ft=d:Ft=Ft.next=d),tr=!0,_n||(_n=!0,Nk(Ou))}function vi(d,h){if(!Nn&&tr){Nn=!0;do for(var x=!1,A=ht;A!==null;){if(d!==0){var L=A.pendingLanes;if(L===0)var G=0;else{var ne=A.suspendedLanes,ge=A.pingedLanes;G=(1<<31-Ge(42|d)+1)-1,G&=L&~(ne&~ge),G=G&201326677?G&201326677|1:G?G|2:0}G!==0&&(x=!0,xB(A,G))}else G=On,G=Bt(A,A===Zi?G:0),(G&3)===0||Qt(A,G)||(x=!0,xB(A,G));A=A.next}while(x);Nn=!1}}function Ou(){tr=_n=!1;var d=0;fi!==0&&(Vk()&&(d=fi),fi=0);for(var h=De(),x=null,A=ht;A!==null;){var L=A.next,G=X_(A,h);G===0?(A.next=null,x===null?ht=L:x.next=L,L===null&&(Ft=x)):(x=A,(d!==0||(G&3)!==0)&&(tr=!0)),A=L}vi(d)}function X_(d,h){for(var x=d.suspendedLanes,A=d.pingedLanes,L=d.expirationTimes,G=d.pendingLanes&-62914561;0<G;){var ne=31-Ge(G),ge=1<<ne,Re=L[ne];Re===-1?((ge&x)===0||(ge&A)!==0)&&(L[ne]=sn(ge,h)):Re<=h&&(d.expiredLanes|=ge),G&=~ge}if(h=Zi,x=On,x=Bt(d,d===h?x:0),A=d.callbackNode,x===0||d===h&&ar===2||d.cancelPendingCommit!==null)return A!==null&&A!==null&&ce(A),d.callbackNode=null,d.callbackPriority=0;if((x&3)===0||Qt(d,x)){if(h=x&-x,h===d.callbackPriority)return h;switch(A!==null&&ce(A),Ai(x)){case 2:case 8:x=gt;break;case 32:x=lt;break;case 268435456:x=It;break;default:x=lt}return A=_B.bind(null,d),x=st(x,A),d.callbackPriority=h,d.callbackNode=x,h}return A!==null&&A!==null&&ce(A),d.callbackPriority=2,d.callbackNode=null,2}function _B(d,h){var x=d.callbackNode;if(Vt()&&d.callbackNode!==x)return null;var A=On;return A=Bt(d,d===Zi?A:0),A===0?null:(Kf(d,A,h),X_(d,De()),d.callbackNode!=null&&d.callbackNode===x?_B.bind(null,d):null)}function xB(d,h){if(Vt())return null;Kf(d,h,!0)}function Nk(d){Wk(function(){(Yn&6)!==0?st(He,d):d()})}function BA(){return fi===0&&(fi=Yt()),fi}function CB(d){return d==null||typeof d=="symbol"||typeof d=="boolean"?null:typeof d=="function"?d:xr(""+d)}function EB(d,h){var x=h.ownerDocument.createElement("input");return x.name=h.name,x.value=h.value,d.id&&x.setAttribute("form",d.id),h.parentNode.insertBefore(x,h),d=new FormData(d),x.parentNode.removeChild(x),d}function zk(d,h,x,A,L){if(h==="submit"&&x&&x.stateNode===L){var G=CB((L[un]||null).action),ne=A.submitter;ne&&(h=(h=ne[un]||null)?CB(h.formAction):ne.getAttribute("formAction"),h!==null&&(G=h,ne=null));var ge=new ll("action","action",null,A,L);d.push({event:ge,listeners:[{instance:null,listener:function(){if(A.defaultPrevented){if(fi!==0){var Re=ne?EB(L,ne):new FormData(L);ey(x,{pending:!0,data:Re,method:L.method,action:G},null,Re)}}else typeof G=="function"&&(ge.preventDefault(),Re=ne?EB(L,ne):new FormData(L),ey(x,{pending:!0,data:Re,method:L.method,action:G},G,Re))},currentTarget:L}]})}}for(var DA=0;DA<Jl.length;DA++){var PA=Jl[DA],Uk=PA.toLowerCase(),Fk=PA[0].toUpperCase()+PA.slice(1);ds(Uk,"on"+Fk)}ds(Wo,"onAnimationEnd"),ds(ca,"onAnimationIteration"),ds(ql,"onAnimationStart"),ds("dblclick","onDoubleClick"),ds("focusin","onFocus"),ds("focusout","onBlur"),ds(Kl,"onTransitionRun"),ds(Of,"onTransitionStart"),ds(tu,"onTransitionCancel"),ds(tg,"onTransitionEnd"),qt("onMouseEnter",["mouseout","mouseover"]),qt("onMouseLeave",["mouseout","mouseover"]),qt("onPointerEnter",["pointerout","pointerover"]),qt("onPointerLeave",["pointerout","pointerover"]),$t("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$t("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$t("onBeforeInput",["compositionend","keypress","textInput","paste"]),$t("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$t("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$t("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xy="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xy));function wB(d,h){h=(h&4)!==0;for(var x=0;x<d.length;x++){var A=d[x],L=A.event;A=A.listeners;e:{var G=void 0;if(h)for(var ne=A.length-1;0<=ne;ne--){var ge=A[ne],Re=ge.instance,Ye=ge.currentTarget;if(ge=ge.listener,Re!==G&&L.isPropagationStopped())break e;G=ge,L.currentTarget=Ye;try{G(L)}catch(At){gg(At)}L.currentTarget=null,G=Re}else for(ne=0;ne<A.length;ne++){if(ge=A[ne],Re=ge.instance,Ye=ge.currentTarget,ge=ge.listener,Re!==G&&L.isPropagationStopped())break e;G=ge,L.currentTarget=Ye;try{G(L)}catch(At){gg(At)}L.currentTarget=null,G=Re}}}}function Oi(d,h){var x=h[ln];x===void 0&&(x=h[ln]=new Set);var A=d+"__bubble";x.has(A)||(AB(h,d,2,!1),x.add(A))}function LA(d,h,x){var A=0;h&&(A|=4),AB(x,d,A,h)}var Y_="_reactListening"+Math.random().toString(36).slice(2);function NA(d){if(!d[Y_]){d[Y_]=!0,Ve.forEach(function(x){x!=="selectionchange"&&(Hk.has(x)||LA(x,!1,d),LA(x,!0,d))});var h=d.nodeType===9?d:d.ownerDocument;h===null||h[Y_]||(h[Y_]=!0,LA("selectionchange",!1,h))}}function AB(d,h,x,A){switch(qB(h)){case 2:var L=f5;break;case 8:L=h5;break;default:L=qA}x=L.bind(null,h,x,d),L=void 0,!Sn||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(L=!0),A?L!==void 0?d.addEventListener(h,x,{capture:!0,passive:L}):d.addEventListener(h,x,!0):L!==void 0?d.addEventListener(h,x,{passive:L}):d.addEventListener(h,x,!1)}function zA(d,h,x,A,L){var G=A;if((h&1)===0&&(h&2)===0&&A!==null)e:for(;;){if(A===null)return;var ne=A.tag;if(ne===3||ne===4){var ge=A.stateNode.containerInfo;if(ge===L||ge.nodeType===8&&ge.parentNode===L)break;if(ne===4)for(ne=A.return;ne!==null;){var Re=ne.tag;if((Re===3||Re===4)&&(Re=ne.stateNode.containerInfo,Re===L||Re.nodeType===8&&Re.parentNode===L))return;ne=ne.return}for(;ge!==null;){if(ne=_r(ge),ne===null)return;if(Re=ne.tag,Re===5||Re===6||Re===26||Re===27){A=G=ne;continue e}ge=ge.parentNode}}A=A.return}$l(function(){var Ye=G,At=Ua(x),Ut=[];e:{var ft=ng.get(d);if(ft!==void 0){var Et=ll,xn=d;switch(d){case"keypress":if(Fa(x)===0)break e;case"keydown":case"keyup":Et=Kc;break;case"focusin":xn="focus",Et=sd;break;case"focusout":xn="blur",Et=sd;break;case"beforeblur":case"afterblur":Et=sd;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Et=Xh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Et=H0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Et=Ef;break;case Wo:case ca:case ql:Et=Xm;break;case tg:Et=Ds;break;case"scroll":case"scrollend":Et=Wh;break;case"wheel":Et=G0;break;case"copy":case"cut":case"paste":Et=qm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Et=cd;break;case"toggle":case"beforetoggle":Et=dl}var Kn=(h&4)!==0,aa=!Kn&&(d==="scroll"||d==="scrollend"),nt=Kn?ft!==null?ft+"Capture":null:ft;Kn=[];for(var je=Ye,ut;je!==null;){var Ot=je;if(ut=Ot.stateNode,Ot=Ot.tag,Ot!==5&&Ot!==26&&Ot!==27||ut===null||nt===null||(Ot=tn(je,nt),Ot!=null&&Kn.push(Cy(je,Ot,ut))),aa)break;je=je.return}0<Kn.length&&(ft=new Et(ft,xn,null,x,At),Ut.push({event:ft,listeners:Kn}))}}if((h&7)===0){e:{if(ft=d==="mouseover"||d==="pointerover",Et=d==="mouseout"||d==="pointerout",ft&&x!==ko&&(xn=x.relatedTarget||x.fromElement)&&(_r(xn)||xn[ii]))break e;if((Et||ft)&&(ft=At.window===At?At:(ft=At.ownerDocument)?ft.defaultView||ft.parentWindow:window,Et?(xn=x.relatedTarget||x.toElement,Et=Ye,xn=xn?_r(xn):null,xn!==null&&(aa=ee(xn),Kn=xn.tag,xn!==aa||Kn!==5&&Kn!==27&&Kn!==6)&&(xn=null)):(Et=null,xn=Ye),Et!==xn)){if(Kn=Xh,Ot="onMouseLeave",nt="onMouseEnter",je="mouse",(d==="pointerout"||d==="pointerover")&&(Kn=cd,Ot="onPointerLeave",nt="onPointerEnter",je="pointer"),aa=Et==null?ft:Ue(Et),ut=xn==null?ft:Ue(xn),ft=new Kn(Ot,je+"leave",Et,x,At),ft.target=aa,ft.relatedTarget=ut,Ot=null,_r(At)===Ye&&(Kn=new Kn(nt,je+"enter",xn,x,At),Kn.target=ut,Kn.relatedTarget=aa,Ot=Kn),aa=Ot,Et&&xn)t:{for(Kn=Et,nt=xn,je=0,ut=Kn;ut;ut=Og(ut))je++;for(ut=0,Ot=nt;Ot;Ot=Og(Ot))ut++;for(;0<je-ut;)Kn=Og(Kn),je--;for(;0<ut-je;)nt=Og(nt),ut--;for(;je--;){if(Kn===nt||nt!==null&&Kn===nt.alternate)break t;Kn=Og(Kn),nt=Og(nt)}Kn=null}else Kn=null;Et!==null&&MB(Ut,ft,Et,Kn,!1),xn!==null&&aa!==null&&MB(Ut,aa,xn,Kn,!0)}}e:{if(ft=Ye?Ue(Ye):window,Et=ft.nodeName&&ft.nodeName.toLowerCase(),Et==="select"||Et==="input"&&ft.type==="file")var fn=Mf;else if(Jh(ft))if(Tf)fn=se;else{fn=X;var yi=V}else Et=ft.nodeName,!Et||Et.toLowerCase()!=="input"||ft.type!=="checkbox"&&ft.type!=="radio"?Ye&&Os(Ye.elementType)&&(fn=Mf):fn=te;if(fn&&(fn=fn(d,Ye))){Ha(Ut,fn,x,At);break e}yi&&yi(d,ft,Ye),d==="focusout"&&Ye&&ft.type==="number"&&Ye.memoizedProps.value!=null&&Li(ft,"number",ft.value)}switch(yi=Ye?Ue(Ye):window,d){case"focusin":(Jh(yi)||yi.contentEditable==="true")&&(Zt=yi,hn=Ye,Ln=null);break;case"focusout":Ln=hn=Zt=null;break;case"mousedown":ei=!0;break;case"contextmenu":case"mouseup":case"dragend":ei=!1,pn(Ut,x,At);break;case"selectionchange":if(an)break;case"keydown":case"keyup":pn(Ut,x,At)}var En;if(Wl)e:{switch(d){case"compositionstart":var Fn="onCompositionStart";break e;case"compositionend":Fn="onCompositionEnd";break e;case"compositionupdate":Fn="onCompositionUpdate";break e}Fn=void 0}else _o?dd(d,x)&&(Fn="onCompositionEnd"):d==="keydown"&&x.keyCode===229&&(Fn="onCompositionStart");Fn&&(ud&&x.locale!=="ko"&&(_o||Fn!=="onCompositionStart"?Fn==="onCompositionEnd"&&_o&&(En=$o()):(Ci=At,Hi="value"in Ci?Ci.value:Ci.textContent,_o=!0)),yi=q_(Ye,Fn),0<yi.length&&(Fn=new xf(Fn,d,null,x,At),Ut.push({event:Fn,listeners:yi}),En?Fn.data=En:(En=wf(x),En!==null&&(Fn.data=En)))),(En=fl?xo(d,x):Af(d,x))&&(Fn=q_(Ye,"onBeforeInput"),0<Fn.length&&(yi=new xf("onBeforeInput","beforeinput",null,x,At),Ut.push({event:yi,listeners:Fn}),yi.data=En)),zk(Ut,d,Ye,x,At)}wB(Ut,h)})}function Cy(d,h,x){return{instance:d,listener:h,currentTarget:x}}function q_(d,h){for(var x=h+"Capture",A=[];d!==null;){var L=d,G=L.stateNode;L=L.tag,L!==5&&L!==26&&L!==27||G===null||(L=tn(d,x),L!=null&&A.unshift(Cy(d,L,G)),L=tn(d,h),L!=null&&A.push(Cy(d,L,G))),d=d.return}return A}function Og(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5&&d.tag!==27);return d||null}function MB(d,h,x,A,L){for(var G=h._reactName,ne=[];x!==null&&x!==A;){var ge=x,Re=ge.alternate,Ye=ge.stateNode;if(ge=ge.tag,Re!==null&&Re===A)break;ge!==5&&ge!==26&&ge!==27||Ye===null||(Re=Ye,L?(Ye=tn(x,G),Ye!=null&&ne.unshift(Cy(x,Ye,Re))):L||(Ye=tn(x,G),Ye!=null&&ne.push(Cy(x,Ye,Re)))),x=x.return}ne.length!==0&&d.push({event:h,listeners:ne})}var Gk=/\r\n?/g,kk=/\u0000|\uFFFD/g;function TB(d){return(typeof d=="string"?d:""+d).replace(Gk,`
`).replace(kk,"")}function RB(d,h){return h=TB(h),TB(d)===h}function K_(){}function fr(d,h,x,A,L,G){switch(x){case"children":typeof A=="string"?h==="body"||h==="textarea"&&A===""||Wi(d,A):(typeof A=="number"||typeof A=="bigint")&&h!=="body"&&Wi(d,""+A);break;case"className":jn(d,"class",A);break;case"tabIndex":jn(d,"tabindex",A);break;case"dir":case"role":case"viewBox":case"width":case"height":jn(d,x,A);break;case"style":Ma(d,A,G);break;case"data":if(h!=="object"){jn(d,"data",A);break}case"src":case"href":if(A===""&&(h!=="a"||x!=="href")){d.removeAttribute(x);break}if(A==null||typeof A=="function"||typeof A=="symbol"||typeof A=="boolean"){d.removeAttribute(x);break}A=xr(""+A),d.setAttribute(x,A);break;case"action":case"formAction":if(typeof A=="function"){d.setAttribute(x,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof G=="function"&&(x==="formAction"?(h!=="input"&&fr(d,h,"name",L.name,L,null),fr(d,h,"formEncType",L.formEncType,L,null),fr(d,h,"formMethod",L.formMethod,L,null),fr(d,h,"formTarget",L.formTarget,L,null)):(fr(d,h,"encType",L.encType,L,null),fr(d,h,"method",L.method,L,null),fr(d,h,"target",L.target,L,null)));if(A==null||typeof A=="symbol"||typeof A=="boolean"){d.removeAttribute(x);break}A=xr(""+A),d.setAttribute(x,A);break;case"onClick":A!=null&&(d.onclick=K_);break;case"onScroll":A!=null&&Oi("scroll",d);break;case"onScrollEnd":A!=null&&Oi("scrollend",d);break;case"dangerouslySetInnerHTML":if(A!=null){if(typeof A!="object"||!("__html"in A))throw Error(r(61));if(x=A.__html,x!=null){if(L.children!=null)throw Error(r(60));d.innerHTML=x}}break;case"multiple":d.multiple=A&&typeof A!="function"&&typeof A!="symbol";break;case"muted":d.muted=A&&typeof A!="function"&&typeof A!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(A==null||typeof A=="function"||typeof A=="boolean"||typeof A=="symbol"){d.removeAttribute("xlink:href");break}x=xr(""+A),d.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",x);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":A!=null&&typeof A!="function"&&typeof A!="symbol"?d.setAttribute(x,""+A):d.removeAttribute(x);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":A&&typeof A!="function"&&typeof A!="symbol"?d.setAttribute(x,""):d.removeAttribute(x);break;case"capture":case"download":A===!0?d.setAttribute(x,""):A!==!1&&A!=null&&typeof A!="function"&&typeof A!="symbol"?d.setAttribute(x,A):d.removeAttribute(x);break;case"cols":case"rows":case"size":case"span":A!=null&&typeof A!="function"&&typeof A!="symbol"&&!isNaN(A)&&1<=A?d.setAttribute(x,A):d.removeAttribute(x);break;case"rowSpan":case"start":A==null||typeof A=="function"||typeof A=="symbol"||isNaN(A)?d.removeAttribute(x):d.setAttribute(x,A);break;case"popover":Oi("beforetoggle",d),Oi("toggle",d),Vn(d,"popover",A);break;case"xlinkActuate":In(d,"http://www.w3.org/1999/xlink","xlink:actuate",A);break;case"xlinkArcrole":In(d,"http://www.w3.org/1999/xlink","xlink:arcrole",A);break;case"xlinkRole":In(d,"http://www.w3.org/1999/xlink","xlink:role",A);break;case"xlinkShow":In(d,"http://www.w3.org/1999/xlink","xlink:show",A);break;case"xlinkTitle":In(d,"http://www.w3.org/1999/xlink","xlink:title",A);break;case"xlinkType":In(d,"http://www.w3.org/1999/xlink","xlink:type",A);break;case"xmlBase":In(d,"http://www.w3.org/XML/1998/namespace","xml:base",A);break;case"xmlLang":In(d,"http://www.w3.org/XML/1998/namespace","xml:lang",A);break;case"xmlSpace":In(d,"http://www.w3.org/XML/1998/namespace","xml:space",A);break;case"is":Vn(d,"is",A);break;case"innerText":case"textContent":break;default:(!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(x=od.get(x)||x,Vn(d,x,A))}}function UA(d,h,x,A,L,G){switch(x){case"style":Ma(d,A,G);break;case"dangerouslySetInnerHTML":if(A!=null){if(typeof A!="object"||!("__html"in A))throw Error(r(61));if(x=A.__html,x!=null){if(L.children!=null)throw Error(r(60));d.innerHTML=x}}break;case"children":typeof A=="string"?Wi(d,A):(typeof A=="number"||typeof A=="bigint")&&Wi(d,""+A);break;case"onScroll":A!=null&&Oi("scroll",d);break;case"onScrollEnd":A!=null&&Oi("scrollend",d);break;case"onClick":A!=null&&(d.onclick=K_);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rt.hasOwnProperty(x))e:{if(x[0]==="o"&&x[1]==="n"&&(L=x.endsWith("Capture"),h=x.slice(2,L?x.length-7:void 0),G=d[un]||null,G=G!=null?G[x]:null,typeof G=="function"&&d.removeEventListener(h,G,L),typeof A=="function")){typeof G!="function"&&G!==null&&(x in d?d[x]=null:d.hasAttribute(x)&&d.removeAttribute(x)),d.addEventListener(h,A,L);break e}x in d?d[x]=A:A===!0?d.setAttribute(x,""):Vn(d,x,A)}}}function fo(d,h,x){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oi("error",d),Oi("load",d);var A=!1,L=!1,G;for(G in x)if(x.hasOwnProperty(G)){var ne=x[G];if(ne!=null)switch(G){case"src":A=!0;break;case"srcSet":L=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,h));default:fr(d,h,G,ne,x,null)}}L&&fr(d,h,"srcSet",x.srcSet,x,null),A&&fr(d,h,"src",x.src,x,null);return;case"input":Oi("invalid",d);var ge=G=ne=L=null,Re=null,Ye=null;for(A in x)if(x.hasOwnProperty(A)){var At=x[A];if(At!=null)switch(A){case"name":L=At;break;case"type":ne=At;break;case"checked":Re=At;break;case"defaultChecked":Ye=At;break;case"value":G=At;break;case"defaultValue":ge=At;break;case"children":case"dangerouslySetInnerHTML":if(At!=null)throw Error(r(137,h));break;default:fr(d,h,A,At,x,null)}}xi(d,G,ge,Re,Ye,ne,L,!1),Wn(d);return;case"select":Oi("invalid",d),A=ne=G=null;for(L in x)if(x.hasOwnProperty(L)&&(ge=x[L],ge!=null))switch(L){case"value":G=ge;break;case"defaultValue":ne=ge;break;case"multiple":A=ge;default:fr(d,h,L,ge,x,null)}h=G,x=ne,d.multiple=!!A,h!=null?$i(d,!!A,h,!1):x!=null&&$i(d,!!A,x,!0);return;case"textarea":Oi("invalid",d),G=L=A=null;for(ne in x)if(x.hasOwnProperty(ne)&&(ge=x[ne],ge!=null))switch(ne){case"value":A=ge;break;case"defaultValue":L=ge;break;case"children":G=ge;break;case"dangerouslySetInnerHTML":if(ge!=null)throw Error(r(91));break;default:fr(d,h,ne,ge,x,null)}Ir(d,A,L,G),Wn(d);return;case"option":for(Re in x)if(x.hasOwnProperty(Re)&&(A=x[Re],A!=null))switch(Re){case"selected":d.selected=A&&typeof A!="function"&&typeof A!="symbol";break;default:fr(d,h,Re,A,x,null)}return;case"dialog":Oi("cancel",d),Oi("close",d);break;case"iframe":case"object":Oi("load",d);break;case"video":case"audio":for(A=0;A<xy.length;A++)Oi(xy[A],d);break;case"image":Oi("error",d),Oi("load",d);break;case"details":Oi("toggle",d);break;case"embed":case"source":case"link":Oi("error",d),Oi("load",d);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ye in x)if(x.hasOwnProperty(Ye)&&(A=x[Ye],A!=null))switch(Ye){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,h));default:fr(d,h,Ye,A,x,null)}return;default:if(Os(h)){for(At in x)x.hasOwnProperty(At)&&(A=x[At],A!==void 0&&UA(d,h,At,A,x,void 0));return}}for(ge in x)x.hasOwnProperty(ge)&&(A=x[ge],A!=null&&fr(d,h,ge,A,x,null))}function $k(d,h,x,A){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var L=null,G=null,ne=null,ge=null,Re=null,Ye=null,At=null;for(Et in x){var Ut=x[Et];if(x.hasOwnProperty(Et)&&Ut!=null)switch(Et){case"checked":break;case"value":break;case"defaultValue":Re=Ut;default:A.hasOwnProperty(Et)||fr(d,h,Et,null,A,Ut)}}for(var ft in A){var Et=A[ft];if(Ut=x[ft],A.hasOwnProperty(ft)&&(Et!=null||Ut!=null))switch(ft){case"type":G=Et;break;case"name":L=Et;break;case"checked":Ye=Et;break;case"defaultChecked":At=Et;break;case"value":ne=Et;break;case"defaultValue":ge=Et;break;case"children":case"dangerouslySetInnerHTML":if(Et!=null)throw Error(r(137,h));break;default:Et!==Ut&&fr(d,h,ft,Et,A,Ut)}}An(d,ne,ge,Re,Ye,At,G,L);return;case"select":Et=ne=ge=ft=null;for(G in x)if(Re=x[G],x.hasOwnProperty(G)&&Re!=null)switch(G){case"value":break;case"multiple":Et=Re;default:A.hasOwnProperty(G)||fr(d,h,G,null,A,Re)}for(L in A)if(G=A[L],Re=x[L],A.hasOwnProperty(L)&&(G!=null||Re!=null))switch(L){case"value":ft=G;break;case"defaultValue":ge=G;break;case"multiple":ne=G;default:G!==Re&&fr(d,h,L,G,A,Re)}h=ge,x=ne,A=Et,ft!=null?$i(d,!!x,ft,!1):!!A!=!!x&&(h!=null?$i(d,!!x,h,!0):$i(d,!!x,x?[]:"",!1));return;case"textarea":Et=ft=null;for(ge in x)if(L=x[ge],x.hasOwnProperty(ge)&&L!=null&&!A.hasOwnProperty(ge))switch(ge){case"value":break;case"children":break;default:fr(d,h,ge,null,A,L)}for(ne in A)if(L=A[ne],G=x[ne],A.hasOwnProperty(ne)&&(L!=null||G!=null))switch(ne){case"value":ft=L;break;case"defaultValue":Et=L;break;case"children":break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(91));break;default:L!==G&&fr(d,h,ne,L,A,G)}Ki(d,ft,Et);return;case"option":for(var xn in x)if(ft=x[xn],x.hasOwnProperty(xn)&&ft!=null&&!A.hasOwnProperty(xn))switch(xn){case"selected":d.selected=!1;break;default:fr(d,h,xn,null,A,ft)}for(Re in A)if(ft=A[Re],Et=x[Re],A.hasOwnProperty(Re)&&ft!==Et&&(ft!=null||Et!=null))switch(Re){case"selected":d.selected=ft&&typeof ft!="function"&&typeof ft!="symbol";break;default:fr(d,h,Re,ft,A,Et)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Kn in x)ft=x[Kn],x.hasOwnProperty(Kn)&&ft!=null&&!A.hasOwnProperty(Kn)&&fr(d,h,Kn,null,A,ft);for(Ye in A)if(ft=A[Ye],Et=x[Ye],A.hasOwnProperty(Ye)&&ft!==Et&&(ft!=null||Et!=null))switch(Ye){case"children":case"dangerouslySetInnerHTML":if(ft!=null)throw Error(r(137,h));break;default:fr(d,h,Ye,ft,A,Et)}return;default:if(Os(h)){for(var aa in x)ft=x[aa],x.hasOwnProperty(aa)&&ft!==void 0&&!A.hasOwnProperty(aa)&&UA(d,h,aa,void 0,A,ft);for(At in A)ft=A[At],Et=x[At],!A.hasOwnProperty(At)||ft===Et||ft===void 0&&Et===void 0||UA(d,h,At,ft,A,Et);return}}for(var nt in x)ft=x[nt],x.hasOwnProperty(nt)&&ft!=null&&!A.hasOwnProperty(nt)&&fr(d,h,nt,null,A,ft);for(Ut in A)ft=A[Ut],Et=x[Ut],!A.hasOwnProperty(Ut)||ft===Et||ft==null&&Et==null||fr(d,h,Ut,ft,A,Et)}var FA=null,HA=null;function J_(d){return d.nodeType===9?d:d.ownerDocument}function OB(d){switch(d){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function IB(d,h){if(d===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return d===1&&h==="foreignObject"?0:d}function GA(d,h){return d==="textarea"||d==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var kA=null;function Vk(){var d=window.event;return d&&d.type==="popstate"?d===kA?!1:(kA=d,!0):(kA=null,!1)}var BB=typeof setTimeout=="function"?setTimeout:void 0,jk=typeof clearTimeout=="function"?clearTimeout:void 0,DB=typeof Promise=="function"?Promise:void 0,Wk=typeof queueMicrotask=="function"?queueMicrotask:typeof DB<"u"?function(d){return DB.resolve(null).then(d).catch(Xk)}:BB;function Xk(d){setTimeout(function(){throw d})}function $A(d,h){var x=h,A=0;do{var L=x.nextSibling;if(d.removeChild(x),L&&L.nodeType===8)if(x=L.data,x==="/$"){if(A===0){d.removeChild(L),Iy(h);return}A--}else x!=="$"&&x!=="$?"&&x!=="$!"||A++;x=L}while(x);Iy(h)}function VA(d){var h=d.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var x=h;switch(h=h.nextSibling,x.nodeName){case"HTML":case"HEAD":case"BODY":VA(x),cr(x);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(x.rel.toLowerCase()==="stylesheet")continue}d.removeChild(x)}}function Yk(d,h,x,A){for(;d.nodeType===1;){var L=x;if(d.nodeName.toLowerCase()!==h.toLowerCase()){if(!A&&(d.nodeName!=="INPUT"||d.type!=="hidden"))break}else if(A){if(!d[Or])switch(h){case"meta":if(!d.hasAttribute("itemprop"))break;return d;case"link":if(G=d.getAttribute("rel"),G==="stylesheet"&&d.hasAttribute("data-precedence"))break;if(G!==L.rel||d.getAttribute("href")!==(L.href==null?null:L.href)||d.getAttribute("crossorigin")!==(L.crossOrigin==null?null:L.crossOrigin)||d.getAttribute("title")!==(L.title==null?null:L.title))break;return d;case"style":if(d.hasAttribute("data-precedence"))break;return d;case"script":if(G=d.getAttribute("src"),(G!==(L.src==null?null:L.src)||d.getAttribute("type")!==(L.type==null?null:L.type)||d.getAttribute("crossorigin")!==(L.crossOrigin==null?null:L.crossOrigin))&&G&&d.hasAttribute("async")&&!d.hasAttribute("itemprop"))break;return d;default:return d}}else if(h==="input"&&d.type==="hidden"){var G=L.name==null?null:""+L.name;if(L.type==="hidden"&&d.getAttribute("name")===G)return d}else return d;if(d=xc(d.nextSibling),d===null)break}return null}function qk(d,h,x){if(h==="")return null;for(;d.nodeType!==3;)if((d.nodeType!==1||d.nodeName!=="INPUT"||d.type!=="hidden")&&!x||(d=xc(d.nextSibling),d===null))return null;return d}function xc(d){for(;d!=null;d=d.nextSibling){var h=d.nodeType;if(h===1||h===3)break;if(h===8){if(h=d.data,h==="$"||h==="$!"||h==="$?"||h==="F!"||h==="F")break;if(h==="/$")return null}}return d}function PB(d){d=d.previousSibling;for(var h=0;d;){if(d.nodeType===8){var x=d.data;if(x==="$"||x==="$!"||x==="$?"){if(h===0)return d;h--}else x==="/$"&&h++}d=d.previousSibling}return null}function LB(d,h,x){switch(h=J_(x),d){case"html":if(d=h.documentElement,!d)throw Error(r(452));return d;case"head":if(d=h.head,!d)throw Error(r(453));return d;case"body":if(d=h.body,!d)throw Error(r(454));return d;default:throw Error(r(451))}}var Tl=new Map,NB=new Set;function Q_(d){return typeof d.getRootNode=="function"?d.getRootNode():d.ownerDocument}var Dd=Z.d;Z.d={f:Kk,r:Jk,D:Qk,C:Zk,L:e5,m:t5,X:i5,S:n5,M:r5};function Kk(){var d=Dd.f(),h=Od();return d||h}function Jk(d){var h=le(d);h!==null&&h.tag===5&&h.type==="form"?T_(h):Dd.r(d)}var Ig=typeof document>"u"?null:document;function zB(d,h,x){var A=Ig;if(A&&typeof h=="string"&&h){var L=Zn(h);L='link[rel="'+d+'"][href="'+L+'"]',typeof x=="string"&&(L+='[crossorigin="'+x+'"]'),NB.has(L)||(NB.add(L),d={rel:d,crossOrigin:x,href:h},A.querySelector(L)===null&&(h=A.createElement("link"),fo(h,"link",d),Ze(h),A.head.appendChild(h)))}}function Qk(d){Dd.D(d),zB("dns-prefetch",d,null)}function Zk(d,h){Dd.C(d,h),zB("preconnect",d,h)}function e5(d,h,x){Dd.L(d,h,x);var A=Ig;if(A&&d&&h){var L='link[rel="preload"][as="'+Zn(h)+'"]';h==="image"&&x&&x.imageSrcSet?(L+='[imagesrcset="'+Zn(x.imageSrcSet)+'"]',typeof x.imageSizes=="string"&&(L+='[imagesizes="'+Zn(x.imageSizes)+'"]')):L+='[href="'+Zn(d)+'"]';var G=L;switch(h){case"style":G=Bg(d);break;case"script":G=Dg(d)}Tl.has(G)||(d=z({rel:"preload",href:h==="image"&&x&&x.imageSrcSet?void 0:d,as:h},x),Tl.set(G,d),A.querySelector(L)!==null||h==="style"&&A.querySelector(Ey(G))||h==="script"&&A.querySelector(wy(G))||(h=A.createElement("link"),fo(h,"link",d),Ze(h),A.head.appendChild(h)))}}function t5(d,h){Dd.m(d,h);var x=Ig;if(x&&d){var A=h&&typeof h.as=="string"?h.as:"script",L='link[rel="modulepreload"][as="'+Zn(A)+'"][href="'+Zn(d)+'"]',G=L;switch(A){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":G=Dg(d)}if(!Tl.has(G)&&(d=z({rel:"modulepreload",href:d},h),Tl.set(G,d),x.querySelector(L)===null)){switch(A){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(x.querySelector(wy(G)))return}A=x.createElement("link"),fo(A,"link",d),Ze(A),x.head.appendChild(A)}}}function n5(d,h,x){Dd.S(d,h,x);var A=Ig;if(A&&d){var L=at(A).hoistableStyles,G=Bg(d);h=h||"default";var ne=L.get(G);if(!ne){var ge={loading:0,preload:null};if(ne=A.querySelector(Ey(G)))ge.loading=5;else{d=z({rel:"stylesheet",href:d,"data-precedence":h},x),(x=Tl.get(G))&&jA(d,x);var Re=ne=A.createElement("link");Ze(Re),fo(Re,"link",d),Re._p=new Promise(function(Ye,At){Re.onload=Ye,Re.onerror=At}),Re.addEventListener("load",function(){ge.loading|=1}),Re.addEventListener("error",function(){ge.loading|=2}),ge.loading|=4,Z_(ne,h,A)}ne={type:"stylesheet",instance:ne,count:1,state:ge},L.set(G,ne)}}}function i5(d,h){Dd.X(d,h);var x=Ig;if(x&&d){var A=at(x).hoistableScripts,L=Dg(d),G=A.get(L);G||(G=x.querySelector(wy(L)),G||(d=z({src:d,async:!0},h),(h=Tl.get(L))&&WA(d,h),G=x.createElement("script"),Ze(G),fo(G,"link",d),x.head.appendChild(G)),G={type:"script",instance:G,count:1,state:null},A.set(L,G))}}function r5(d,h){Dd.M(d,h);var x=Ig;if(x&&d){var A=at(x).hoistableScripts,L=Dg(d),G=A.get(L);G||(G=x.querySelector(wy(L)),G||(d=z({src:d,async:!0,type:"module"},h),(h=Tl.get(L))&&WA(d,h),G=x.createElement("script"),Ze(G),fo(G,"link",d),x.head.appendChild(G)),G={type:"script",instance:G,count:1,state:null},A.set(L,G))}}function UB(d,h,x,A){var L=(L=xe.current)?Q_(L):null;if(!L)throw Error(r(446));switch(d){case"meta":case"title":return null;case"style":return typeof x.precedence=="string"&&typeof x.href=="string"?(h=Bg(x.href),x=at(L).hoistableStyles,A=x.get(h),A||(A={type:"style",instance:null,count:0,state:null},x.set(h,A)),A):{type:"void",instance:null,count:0,state:null};case"link":if(x.rel==="stylesheet"&&typeof x.href=="string"&&typeof x.precedence=="string"){d=Bg(x.href);var G=at(L).hoistableStyles,ne=G.get(d);if(ne||(L=L.ownerDocument||L,ne={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},G.set(d,ne),(G=L.querySelector(Ey(d)))&&!G._p&&(ne.instance=G,ne.state.loading=5),Tl.has(d)||(x={rel:"preload",as:"style",href:x.href,crossOrigin:x.crossOrigin,integrity:x.integrity,media:x.media,hrefLang:x.hrefLang,referrerPolicy:x.referrerPolicy},Tl.set(d,x),G||a5(L,d,x,ne.state))),h&&A===null)throw Error(r(528,""));return ne}if(h&&A!==null)throw Error(r(529,""));return null;case"script":return h=x.async,x=x.src,typeof x=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=Dg(x),x=at(L).hoistableScripts,A=x.get(h),A||(A={type:"script",instance:null,count:0,state:null},x.set(h,A)),A):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,d))}}function Bg(d){return'href="'+Zn(d)+'"'}function Ey(d){return'link[rel="stylesheet"]['+d+"]"}function FB(d){return z({},d,{"data-precedence":d.precedence,precedence:null})}function a5(d,h,x,A){d.querySelector('link[rel="preload"][as="style"]['+h+"]")?A.loading=1:(h=d.createElement("link"),A.preload=h,h.addEventListener("load",function(){return A.loading|=1}),h.addEventListener("error",function(){return A.loading|=2}),fo(h,"link",x),Ze(h),d.head.appendChild(h))}function Dg(d){return'[src="'+Zn(d)+'"]'}function wy(d){return"script[async]"+d}function HB(d,h,x){if(h.count++,h.instance===null)switch(h.type){case"style":var A=d.querySelector('style[data-href~="'+Zn(x.href)+'"]');if(A)return h.instance=A,Ze(A),A;var L=z({},x,{"data-href":x.href,"data-precedence":x.precedence,href:null,precedence:null});return A=(d.ownerDocument||d).createElement("style"),Ze(A),fo(A,"style",L),Z_(A,x.precedence,d),h.instance=A;case"stylesheet":L=Bg(x.href);var G=d.querySelector(Ey(L));if(G)return h.state.loading|=4,h.instance=G,Ze(G),G;A=FB(x),(L=Tl.get(L))&&jA(A,L),G=(d.ownerDocument||d).createElement("link"),Ze(G);var ne=G;return ne._p=new Promise(function(ge,Re){ne.onload=ge,ne.onerror=Re}),fo(G,"link",A),h.state.loading|=4,Z_(G,x.precedence,d),h.instance=G;case"script":return G=Dg(x.src),(L=d.querySelector(wy(G)))?(h.instance=L,Ze(L),L):(A=x,(L=Tl.get(G))&&(A=z({},x),WA(A,L)),d=d.ownerDocument||d,L=d.createElement("script"),Ze(L),fo(L,"link",A),d.head.appendChild(L),h.instance=L);case"void":return null;default:throw Error(r(443,h.type))}else h.type==="stylesheet"&&(h.state.loading&4)===0&&(A=h.instance,h.state.loading|=4,Z_(A,x.precedence,d));return h.instance}function Z_(d,h,x){for(var A=x.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),L=A.length?A[A.length-1]:null,G=L,ne=0;ne<A.length;ne++){var ge=A[ne];if(ge.dataset.precedence===h)G=ge;else if(G!==L)break}G?G.parentNode.insertBefore(d,G.nextSibling):(h=x.nodeType===9?x.head:x,h.insertBefore(d,h.firstChild))}function jA(d,h){d.crossOrigin==null&&(d.crossOrigin=h.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=h.referrerPolicy),d.title==null&&(d.title=h.title)}function WA(d,h){d.crossOrigin==null&&(d.crossOrigin=h.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=h.referrerPolicy),d.integrity==null&&(d.integrity=h.integrity)}var ex=null;function GB(d,h,x){if(ex===null){var A=new Map,L=ex=new Map;L.set(x,A)}else L=ex,A=L.get(x),A||(A=new Map,L.set(x,A));if(A.has(d))return A;for(A.set(d,null),x=x.getElementsByTagName(d),L=0;L<x.length;L++){var G=x[L];if(!(G[Or]||G[Qn]||d==="link"&&G.getAttribute("rel")==="stylesheet")&&G.namespaceURI!=="http://www.w3.org/2000/svg"){var ne=G.getAttribute(h)||"";ne=d+ne;var ge=A.get(ne);ge?ge.push(G):A.set(ne,[G])}}return A}function kB(d,h,x){d=d.ownerDocument||d,d.head.insertBefore(x,h==="title"?d.querySelector("head > title"):null)}function o5(d,h,x){if(x===1||h.itemProp!=null)return!1;switch(d){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;switch(h.rel){case"stylesheet":return d=h.disabled,typeof h.precedence=="string"&&d==null;default:return!0}case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function $B(d){return!(d.type==="stylesheet"&&(d.state.loading&3)===0)}var Ay=null;function s5(){}function l5(d,h,x){if(Ay===null)throw Error(r(475));var A=Ay;if(h.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var L=Bg(x.href),G=d.querySelector(Ey(L));if(G){d=G._p,d!==null&&typeof d=="object"&&typeof d.then=="function"&&(A.count++,A=tx.bind(A),d.then(A,A)),h.state.loading|=4,h.instance=G,Ze(G);return}G=d.ownerDocument||d,x=FB(x),(L=Tl.get(L))&&jA(x,L),G=G.createElement("link"),Ze(G);var ne=G;ne._p=new Promise(function(ge,Re){ne.onload=ge,ne.onerror=Re}),fo(G,"link",x),h.instance=G}A.stylesheets===null&&(A.stylesheets=new Map),A.stylesheets.set(h,d),(d=h.state.preload)&&(h.state.loading&3)===0&&(A.count++,h=tx.bind(A),d.addEventListener("load",h),d.addEventListener("error",h))}}function c5(){if(Ay===null)throw Error(r(475));var d=Ay;return d.stylesheets&&d.count===0&&XA(d,d.stylesheets),0<d.count?function(h){var x=setTimeout(function(){if(d.stylesheets&&XA(d,d.stylesheets),d.unsuspend){var A=d.unsuspend;d.unsuspend=null,A()}},6e4);return d.unsuspend=h,function(){d.unsuspend=null,clearTimeout(x)}}:null}function tx(){if(this.count--,this.count===0){if(this.stylesheets)XA(this,this.stylesheets);else if(this.unsuspend){var d=this.unsuspend;this.unsuspend=null,d()}}}var nx=null;function XA(d,h){d.stylesheets=null,d.unsuspend!==null&&(d.count++,nx=new Map,h.forEach(u5,d),nx=null,tx.call(d))}function u5(d,h){if(!(h.state.loading&4)){var x=nx.get(d);if(x)var A=x.get(null);else{x=new Map,nx.set(d,x);for(var L=d.querySelectorAll("link[data-precedence],style[data-precedence]"),G=0;G<L.length;G++){var ne=L[G];(ne.nodeName==="LINK"||ne.getAttribute("media")!=="not all")&&(x.set(ne.dataset.precedence,ne),A=ne)}A&&x.set(null,A)}L=h.instance,ne=L.getAttribute("data-precedence"),G=x.get(ne)||A,G===A&&x.set(null,L),x.set(ne,L),this.count++,A=tx.bind(this),L.addEventListener("load",A),L.addEventListener("error",A),G?G.parentNode.insertBefore(L,G.nextSibling):(d=d.nodeType===9?d.head:d,d.insertBefore(L,d.firstChild)),h.state.loading|=4}}var My={$$typeof:E,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function d5(d,h,x,A,L,G,ne,ge){this.tag=1,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xt(0),this.hiddenUpdates=Xt(null),this.identifierPrefix=A,this.onUncaughtError=L,this.onCaughtError=G,this.onRecoverableError=ne,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ge,this.incompleteTransitions=new Map}function VB(d,h,x,A,L,G,ne,ge,Re,Ye,At,Ut){return d=new d5(d,h,x,ne,ge,Re,Ye,Ut),h=1,G===!0&&(h|=24),G=jr(3,null,null,h),d.current=G,G.stateNode=d,h=j0(),h.refCount++,d.pooledCache=h,h.refCount++,G.memoizedState={element:A,isDehydrated:x,cache:h},oo(G),d}function jB(d){return d?(d=nu,d):nu}function WB(d,h,x,A,L,G){L=jB(L),A.context===null?A.context=L:A.pendingContext=L,A=Jo(h),A.payload={element:x},G=G===void 0?null:G,G!==null&&(A.callback=G),x=Qo(d,A,h),x!==null&&(ra(x,d,h),Su(x,d,h))}function XB(d,h){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var x=d.retryLane;d.retryLane=x!==0&&x<h?x:h}}function YA(d,h){XB(d,h),(d=d.alternate)&&XB(d,h)}function YB(d){if(d.tag===13){var h=Zl(d,67108864);h!==null&&ra(h,d,67108864),YA(d,67108864)}}var ix=!0;function f5(d,h,x,A){var L=U.T;U.T=null;var G=Z.p;try{Z.p=2,qA(d,h,x,A)}finally{Z.p=G,U.T=L}}function h5(d,h,x,A){var L=U.T;U.T=null;var G=Z.p;try{Z.p=8,qA(d,h,x,A)}finally{Z.p=G,U.T=L}}function qA(d,h,x,A){if(ix){var L=KA(A);if(L===null)zA(d,h,A,rx,x),KB(d,A);else if(m5(L,d,h,x,A))A.stopPropagation();else if(KB(d,A),h&4&&-1<p5.indexOf(d)){for(;L!==null;){var G=le(L);if(G!==null)switch(G.tag){case 3:if(G=G.stateNode,G.current.memoizedState.isDehydrated){var ne=Nt(G.pendingLanes);if(ne!==0){var ge=G;for(ge.pendingLanes|=2,ge.entangledLanes|=2;ne;){var Re=1<<31-Ge(ne);ge.entanglements[1]|=Re,ne&=~Re}or(G),(Yn&6)===0&&(mi=De()+500,vi(0))}}break;case 13:ge=Zl(G,2),ge!==null&&ra(ge,G,2),Od(),YA(G,2)}if(G=KA(A),G===null&&zA(d,h,A,rx,x),G===L)break;L=G}L!==null&&A.stopPropagation()}else zA(d,h,A,null,x)}}function KA(d){return d=Ua(d),JA(d)}var rx=null;function JA(d){if(rx=null,d=_r(d),d!==null){var h=ee(d);if(h===null)d=null;else{var x=h.tag;if(x===13){if(d=de(h),d!==null)return d;d=null}else if(x===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;d=null}else h!==d&&(d=null)}}return rx=d,null}function qB(d){switch(d){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ke()){case He:return 2;case gt:return 8;case lt:case pt:return 32;case It:return 268435456;default:return 32}default:return 32}}var QA=!1,Zf=null,eh=null,th=null,Ty=new Map,Ry=new Map,nh=[],p5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function KB(d,h){switch(d){case"focusin":case"focusout":Zf=null;break;case"dragenter":case"dragleave":eh=null;break;case"mouseover":case"mouseout":th=null;break;case"pointerover":case"pointerout":Ty.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ry.delete(h.pointerId)}}function Oy(d,h,x,A,L,G){return d===null||d.nativeEvent!==G?(d={blockedOn:h,domEventName:x,eventSystemFlags:A,nativeEvent:G,targetContainers:[L]},h!==null&&(h=le(h),h!==null&&YB(h)),d):(d.eventSystemFlags|=A,h=d.targetContainers,L!==null&&h.indexOf(L)===-1&&h.push(L),d)}function m5(d,h,x,A,L){switch(h){case"focusin":return Zf=Oy(Zf,d,h,x,A,L),!0;case"dragenter":return eh=Oy(eh,d,h,x,A,L),!0;case"mouseover":return th=Oy(th,d,h,x,A,L),!0;case"pointerover":var G=L.pointerId;return Ty.set(G,Oy(Ty.get(G)||null,d,h,x,A,L)),!0;case"gotpointercapture":return G=L.pointerId,Ry.set(G,Oy(Ry.get(G)||null,d,h,x,A,L)),!0}return!1}function JB(d){var h=_r(d.target);if(h!==null){var x=ee(h);if(x!==null){if(h=x.tag,h===13){if(h=de(x),h!==null){d.blockedOn=h,wn(d.priority,function(){if(x.tag===13){var A=uo(),L=Zl(x,A);L!==null&&ra(L,x,A),YA(x,A)}});return}}else if(h===3&&x.stateNode.current.memoizedState.isDehydrated){d.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}d.blockedOn=null}function ax(d){if(d.blockedOn!==null)return!1;for(var h=d.targetContainers;0<h.length;){var x=KA(d.nativeEvent);if(x===null){x=d.nativeEvent;var A=new x.constructor(x.type,x);ko=A,x.target.dispatchEvent(A),ko=null}else return h=le(x),h!==null&&YB(h),d.blockedOn=x,!1;h.shift()}return!0}function QB(d,h,x){ax(d)&&x.delete(h)}function g5(){QA=!1,Zf!==null&&ax(Zf)&&(Zf=null),eh!==null&&ax(eh)&&(eh=null),th!==null&&ax(th)&&(th=null),Ty.forEach(QB),Ry.forEach(QB)}function ox(d,h){d.blockedOn===h&&(d.blockedOn=null,QA||(QA=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,g5)))}var sx=null;function ZB(d){sx!==d&&(sx=d,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){sx===d&&(sx=null);for(var h=0;h<d.length;h+=3){var x=d[h],A=d[h+1],L=d[h+2];if(typeof A!="function"){if(JA(A||x)===null)continue;break}var G=le(x);G!==null&&(d.splice(h,3),h-=3,ey(G,{pending:!0,data:L,method:x.method,action:A},A,L))}}))}function Iy(d){function h(Re){return ox(Re,d)}Zf!==null&&ox(Zf,d),eh!==null&&ox(eh,d),th!==null&&ox(th,d),Ty.forEach(h),Ry.forEach(h);for(var x=0;x<nh.length;x++){var A=nh[x];A.blockedOn===d&&(A.blockedOn=null)}for(;0<nh.length&&(x=nh[0],x.blockedOn===null);)JB(x),x.blockedOn===null&&nh.shift();if(x=(d.ownerDocument||d).$$reactFormReplay,x!=null)for(A=0;A<x.length;A+=3){var L=x[A],G=x[A+1],ne=L[un]||null;if(typeof G=="function")ne||ZB(x);else if(ne){var ge=null;if(G&&G.hasAttribute("formAction")){if(L=G,ne=G[un]||null)ge=ne.formAction;else if(JA(L)!==null)continue}else ge=ne.action;typeof ge=="function"?x[A+1]=ge:(x.splice(A,3),A-=3),ZB(x)}}}function ZA(d){this._internalRoot=d}lx.prototype.render=ZA.prototype.render=function(d){var h=this._internalRoot;if(h===null)throw Error(r(409));var x=h.current,A=uo();WB(x,A,d,h,null,null)},lx.prototype.unmount=ZA.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var h=d.containerInfo;d.tag===0&&Vt(),WB(d.current,2,null,d,null,null),Od(),h[ii]=null}};function lx(d){this._internalRoot=d}lx.prototype.unstable_scheduleHydration=function(d){if(d){var h=Sr();d={blockedOn:null,target:d,priority:h};for(var x=0;x<nh.length&&h!==0&&h<nh[x].priority;x++);nh.splice(x,0,d),x===0&&JB(d)}};var eD=e.version;if(eD!=="19.0.0")throw Error(r(527,eD,"19.0.0"));Z.findDOMNode=function(d){var h=d._reactInternals;if(h===void 0)throw typeof d.render=="function"?Error(r(188)):(d=Object.keys(d).join(","),Error(r(268,d)));return d=ie(h),d=d!==null?he(d):null,d=d===null?null:d.stateNode,d};var v5={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:U,findFiberByHostInstance:_r,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cx.isDisabled&&cx.supportsFiber)try{Ct=cx.inject(v5),We=cx}catch{}}return Dy.createRoot=function(d,h){if(!a(d))throw Error(r(299));var x=!1,A="",L=N_,G=z_,ne=U_,ge=null;return h!=null&&(h.unstable_strictMode===!0&&(x=!0),h.identifierPrefix!==void 0&&(A=h.identifierPrefix),h.onUncaughtError!==void 0&&(L=h.onUncaughtError),h.onCaughtError!==void 0&&(G=h.onCaughtError),h.onRecoverableError!==void 0&&(ne=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(ge=h.unstable_transitionCallbacks)),h=VB(d,1,!1,null,null,x,A,L,G,ne,ge,null),d[ii]=h.current,NA(d.nodeType===8?d.parentNode:d),new ZA(h)},Dy.hydrateRoot=function(d,h,x){if(!a(d))throw Error(r(299));var A=!1,L="",G=N_,ne=z_,ge=U_,Re=null,Ye=null;return x!=null&&(x.unstable_strictMode===!0&&(A=!0),x.identifierPrefix!==void 0&&(L=x.identifierPrefix),x.onUncaughtError!==void 0&&(G=x.onUncaughtError),x.onCaughtError!==void 0&&(ne=x.onCaughtError),x.onRecoverableError!==void 0&&(ge=x.onRecoverableError),x.unstable_transitionCallbacks!==void 0&&(Re=x.unstable_transitionCallbacks),x.formState!==void 0&&(Ye=x.formState)),h=VB(d,1,!0,h,x??null,A,L,G,ne,ge,Re,Ye),h.context=jB(null),x=h.current,A=uo(),L=Jo(A),L.callback=null,Qo(x,L,A),h.current.lanes=A,yn(h,A),or(h),d[ii]=h.current,NA(d),new lx(h)},Dy.version="19.0.0",Dy}var uD;function w5(){if(uD)return nM.exports;uD=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),nM.exports=E5(),nM.exports}var A5=w5(),pO=w.createContext({});function Pt(){return Pt=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Pt.apply(null,arguments)}function Wz(n){if(Array.isArray(n))return n}function M5(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,a,o,l,s=[],u=!0,f=!1;try{if(o=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(m){f=!0,a=m}finally{try{if(!u&&t.return!=null&&(l=t.return(),Object(l)!==l))return}finally{if(f)throw a}}return s}}function mR(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function mO(n,e){if(n){if(typeof n=="string")return mR(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?mR(n,e):void 0}}function Xz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vt(n,e){return Wz(n)||M5(n,e)||mO(n,e)||Xz()}function mn(n){"@babel/helpers - typeof";return mn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mn(n)}function T5(n,e){if(mn(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(mn(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Yz(n){var e=T5(n,"string");return mn(e)=="symbol"?e:e+""}function ue(n,e,t){return(e=Yz(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function R5(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function kn(n,e){if(n==null)return{};var t,r,a=R5(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(a[t]=n[t])}return a}var oM={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var dD;function O5(){return dD||(dD=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var o="",l=0;l<arguments.length;l++){var s=arguments[l];s&&(o=a(o,r(s)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var l="";for(var s in o)e.call(o,s)&&o[s]&&(l=a(l,s));return l}function a(o,l){return l?o?o+" "+l:o+l:o}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(oM)),oM.exports}var I5=O5();const Je=Lm(I5),Ka=Math.round;function sM(n,e){const t=n.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],r=t.map(a=>parseFloat(a));for(let a=0;a<3;a+=1)r[a]=e(r[a]||0,t[a]||"",a);return t[3]?r[3]=t[3].includes("%")?r[3]/100:r[3]:r[3]=1,r}const fD=(n,e,t)=>t===0?n:n/100;function Py(n,e){const t=e||255;return n>t?t:n<0?0:n}class Bi{constructor(e){ue(this,"isValid",!0),ue(this,"r",0),ue(this,"g",0),ue(this,"b",0),ue(this,"a",1),ue(this,"_h",void 0),ue(this,"_s",void 0),ue(this,"_l",void 0),ue(this,"_v",void 0),ue(this,"_max",void 0),ue(this,"_min",void 0),ue(this,"_brightness",void 0);function t(a){return a[0]in e&&a[1]in e&&a[2]in e}if(e)if(typeof e=="string"){let o=function(l){return a.startsWith(l)};var r=o;const a=e.trim();/^#?[A-F\d]{3,8}$/i.test(a)?this.fromHexString(a):o("rgb")?this.fromRgbString(a):o("hsl")?this.fromHslString(a):(o("hsv")||o("hsb"))&&this.fromHsvString(a)}else if(e instanceof Bi)this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this._h=e._h,this._s=e._s,this._l=e._l,this._v=e._v;else if(t("rgb"))this.r=Py(e.r),this.g=Py(e.g),this.b=Py(e.b),this.a=typeof e.a=="number"?Py(e.a,1):1;else if(t("hsl"))this.fromHsl(e);else if(t("hsv"))this.fromHsv(e);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(e))}setR(e){return this._sc("r",e)}setG(e){return this._sc("g",e)}setB(e){return this._sc("b",e)}setA(e){return this._sc("a",e,1)}setHue(e){const t=this.toHsv();return t.h=e,this._c(t)}getLuminance(){function e(o){const l=o/255;return l<=.03928?l/12.92:Math.pow((l+.055)/1.055,2.4)}const t=e(this.r),r=e(this.g),a=e(this.b);return .2126*t+.7152*r+.0722*a}getHue(){if(typeof this._h>"u"){const e=this.getMax()-this.getMin();e===0?this._h=0:this._h=Ka(60*(this.r===this.getMax()?(this.g-this.b)/e+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/e+2:(this.r-this.g)/e+4))}return this._h}getSaturation(){if(typeof this._s>"u"){const e=this.getMax()-this.getMin();e===0?this._s=0:this._s=e/this.getMax()}return this._s}getLightness(){return typeof this._l>"u"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v>"u"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness>"u"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(e=10){const t=this.getHue(),r=this.getSaturation();let a=this.getLightness()-e/100;return a<0&&(a=0),this._c({h:t,s:r,l:a,a:this.a})}lighten(e=10){const t=this.getHue(),r=this.getSaturation();let a=this.getLightness()+e/100;return a>1&&(a=1),this._c({h:t,s:r,l:a,a:this.a})}mix(e,t=50){const r=this._c(e),a=t/100,o=s=>(r[s]-this[s])*a+this[s],l={r:Ka(o("r")),g:Ka(o("g")),b:Ka(o("b")),a:Ka(o("a")*100)/100};return this._c(l)}tint(e=10){return this.mix({r:255,g:255,b:255,a:1},e)}shade(e=10){return this.mix({r:0,g:0,b:0,a:1},e)}onBackground(e){const t=this._c(e),r=this.a+t.a*(1-this.a),a=o=>Ka((this[o]*this.a+t[o]*t.a*(1-this.a))/r);return this._c({r:a("r"),g:a("g"),b:a("b"),a:r})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}clone(){return this._c(this)}toHexString(){let e="#";const t=(this.r||0).toString(16);e+=t.length===2?t:"0"+t;const r=(this.g||0).toString(16);e+=r.length===2?r:"0"+r;const a=(this.b||0).toString(16);if(e+=a.length===2?a:"0"+a,typeof this.a=="number"&&this.a>=0&&this.a<1){const o=Ka(this.a*255).toString(16);e+=o.length===2?o:"0"+o}return e}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const e=this.getHue(),t=Ka(this.getSaturation()*100),r=Ka(this.getLightness()*100);return this.a!==1?`hsla(${e},${t}%,${r}%,${this.a})`:`hsl(${e},${t}%,${r}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(e,t,r){const a=this.clone();return a[e]=Py(t,r),a}_c(e){return new this.constructor(e)}getMax(){return typeof this._max>"u"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min>"u"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(e){const t=e.replace("#","");function r(a,o){return parseInt(t[a]+t[o||a],16)}t.length<6?(this.r=r(0),this.g=r(1),this.b=r(2),this.a=t[3]?r(3)/255:1):(this.r=r(0,1),this.g=r(2,3),this.b=r(4,5),this.a=t[6]?r(6,7)/255:1)}fromHsl({h:e,s:t,l:r,a}){if(this._h=e%360,this._s=t,this._l=r,this.a=typeof a=="number"?a:1,t<=0){const _=Ka(r*255);this.r=_,this.g=_,this.b=_}let o=0,l=0,s=0;const u=e/60,f=(1-Math.abs(2*r-1))*t,m=f*(1-Math.abs(u%2-1));u>=0&&u<1?(o=f,l=m):u>=1&&u<2?(o=m,l=f):u>=2&&u<3?(l=f,s=m):u>=3&&u<4?(l=m,s=f):u>=4&&u<5?(o=m,s=f):u>=5&&u<6&&(o=f,s=m);const y=r-f/2;this.r=Ka((o+y)*255),this.g=Ka((l+y)*255),this.b=Ka((s+y)*255)}fromHsv({h:e,s:t,v:r,a}){this._h=e%360,this._s=t,this._v=r,this.a=typeof a=="number"?a:1;const o=Ka(r*255);if(this.r=o,this.g=o,this.b=o,t<=0)return;const l=e/60,s=Math.floor(l),u=l-s,f=Ka(r*(1-t)*255),m=Ka(r*(1-t*u)*255),y=Ka(r*(1-t*(1-u))*255);switch(s){case 0:this.g=y,this.b=f;break;case 1:this.r=m,this.b=f;break;case 2:this.r=f,this.b=y;break;case 3:this.r=f,this.g=m;break;case 4:this.r=y,this.g=f;break;case 5:default:this.g=f,this.b=m;break}}fromHsvString(e){const t=sM(e,fD);this.fromHsv({h:t[0],s:t[1],v:t[2],a:t[3]})}fromHslString(e){const t=sM(e,fD);this.fromHsl({h:t[0],s:t[1],l:t[2],a:t[3]})}fromRgbString(e){const t=sM(e,(r,a)=>a.includes("%")?Ka(r/100*255):r);this.r=t[0],this.g=t[1],this.b=t[2],this.a=t[3]}}var ux=2,hD=.16,B5=.05,D5=.05,P5=.15,qz=5,Kz=4,L5=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function pD(n,e,t){var r;return Math.round(n.h)>=60&&Math.round(n.h)<=240?r=t?Math.round(n.h)-ux*e:Math.round(n.h)+ux*e:r=t?Math.round(n.h)+ux*e:Math.round(n.h)-ux*e,r<0?r+=360:r>=360&&(r-=360),r}function mD(n,e,t){if(n.h===0&&n.s===0)return n.s;var r;return t?r=n.s-hD*e:e===Kz?r=n.s+hD:r=n.s+B5*e,r>1&&(r=1),t&&e===qz&&r>.1&&(r=.1),r<.06&&(r=.06),Math.round(r*100)/100}function gD(n,e,t){var r;return t?r=n.v+D5*e:r=n.v-P5*e,r=Math.max(0,Math.min(1,r)),Math.round(r*100)/100}function kb(n){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[],r=new Bi(n),a=r.toHsv(),o=qz;o>0;o-=1){var l=new Bi({h:pD(a,o,!0),s:mD(a,o,!0),v:gD(a,o,!0)});t.push(l)}t.push(r);for(var s=1;s<=Kz;s+=1){var u=new Bi({h:pD(a,s),s:mD(a,s),v:gD(a,s)});t.push(u)}return e.theme==="dark"?L5.map(function(f){var m=f.index,y=f.amount;return new Bi(e.backgroundColor||"#141414").mix(t[m],y).toHexString()}):t.map(function(f){return f.toHexString()})}var Vv={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},gR=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];gR.primary=gR[5];var vR=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];vR.primary=vR[5];var yR=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];yR.primary=yR[5];var bR=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];bR.primary=bR[5];var SR=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];SR.primary=SR[5];var _R=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];_R.primary=_R[5];var xR=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];xR.primary=xR[5];var CR=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];CR.primary=CR[5];var Zv=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];Zv.primary=Zv[5];var ER=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];ER.primary=ER[5];var wR=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];wR.primary=wR[5];var AR=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];AR.primary=AR[5];var MR=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];MR.primary=MR[5];var lM={red:gR,volcano:vR,orange:yR,gold:bR,yellow:SR,lime:_R,green:xR,cyan:CR,blue:Zv,geekblue:ER,purple:wR,magenta:AR,grey:MR};function vD(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function Ne(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?vD(Object(t),!0).forEach(function(r){ue(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):vD(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function cs(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function TR(n,e){if(!n)return!1;if(n.contains)return n.contains(e);for(var t=e;t;){if(t===n)return!0;t=t.parentNode}return!1}var yD="data-rc-order",bD="data-rc-priority",N5="rc-util-key",RR=new Map;function Jz(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.mark;return e?e.startsWith("data-")?e:"data-".concat(e):N5}function ZE(n){if(n.attachTo)return n.attachTo;var e=document.querySelector("head");return e||document.body}function z5(n){return n==="queue"?"prependQueue":n?"prepend":"append"}function gO(n){return Array.from((RR.get(n)||n).children).filter(function(e){return e.tagName==="STYLE"})}function Qz(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!cs())return null;var t=e.csp,r=e.prepend,a=e.priority,o=a===void 0?0:a,l=z5(r),s=l==="prependQueue",u=document.createElement("style");u.setAttribute(yD,l),s&&o&&u.setAttribute(bD,"".concat(o)),t!=null&&t.nonce&&(u.nonce=t==null?void 0:t.nonce),u.innerHTML=n;var f=ZE(e),m=f.firstChild;if(r){if(s){var y=(e.styles||gO(f)).filter(function(_){if(!["prepend","prependQueue"].includes(_.getAttribute(yD)))return!1;var E=Number(_.getAttribute(bD)||0);return o>=E});if(y.length)return f.insertBefore(u,y[y.length-1].nextSibling),u}f.insertBefore(u,m)}else f.appendChild(u);return u}function Zz(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=ZE(e);return(e.styles||gO(t)).find(function(r){return r.getAttribute(Jz(e))===n})}function $b(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=Zz(n,e);if(t){var r=ZE(e);r.removeChild(t)}}function U5(n,e){var t=RR.get(n);if(!t||!TR(document,t)){var r=Qz("",e),a=r.parentNode;RR.set(n,a),n.removeChild(r)}}function af(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=ZE(t),a=gO(r),o=Ne(Ne({},t),{},{styles:a});U5(r,o);var l=Zz(e,o);if(l){var s,u;if((s=o.csp)!==null&&s!==void 0&&s.nonce&&l.nonce!==((u=o.csp)===null||u===void 0?void 0:u.nonce)){var f;l.nonce=(f=o.csp)===null||f===void 0?void 0:f.nonce}return l.innerHTML!==n&&(l.innerHTML=n),l}var m=Qz(n,o);return m.setAttribute(Jz(o),e),m}function eU(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}function F5(n){return eU(n)instanceof ShadowRoot}function A1(n){return F5(n)?eU(n):null}var OR={},H5=function(e){};function G5(n,e){}function k5(n,e){}function $5(){OR={}}function tU(n,e,t){!e&&!OR[t]&&(n(!1,t),OR[t]=!0)}function zo(n,e){tU(G5,n,e)}function V5(n,e){tU(k5,n,e)}zo.preMessage=H5;zo.resetWarned=$5;zo.noteOnce=V5;function j5(n){return n.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}function W5(n,e){zo(n,"[@ant-design/icons] ".concat(e))}function SD(n){return mn(n)==="object"&&typeof n.name=="string"&&typeof n.theme=="string"&&(mn(n.icon)==="object"||typeof n.icon=="function")}function _D(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(n).reduce(function(e,t){var r=n[t];switch(t){case"class":e.className=r,delete e.class;break;default:delete e[t],e[j5(t)]=r}return e},{})}function IR(n,e,t){return t?Xe.createElement(n.tag,Ne(Ne({key:e},_D(n.attrs)),t),(n.children||[]).map(function(r,a){return IR(r,"".concat(e,"-").concat(n.tag,"-").concat(a))})):Xe.createElement(n.tag,Ne({key:e},_D(n.attrs)),(n.children||[]).map(function(r,a){return IR(r,"".concat(e,"-").concat(n.tag,"-").concat(a))}))}function nU(n){return kb(n)[0]}function iU(n){return n?Array.isArray(n)?n:[n]:[]}var X5=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,Y5=function(e){var t=w.useContext(pO),r=t.csp,a=t.prefixCls,o=t.layer,l=X5;a&&(l=l.replace(/anticon/g,a)),o&&(l="@layer ".concat(o,` {
`).concat(l,`
}`)),w.useEffect(function(){var s=e.current,u=A1(s);af(l,"@ant-design-icons",{prepend:!o,csp:r,attachTo:u})},[])},q5=["icon","className","onClick","style","primaryColor","secondaryColor"],wb={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function K5(n){var e=n.primaryColor,t=n.secondaryColor;wb.primaryColor=e,wb.secondaryColor=t||nU(e),wb.calculated=!!t}function J5(){return Ne({},wb)}var E0=function(e){var t=e.icon,r=e.className,a=e.onClick,o=e.style,l=e.primaryColor,s=e.secondaryColor,u=kn(e,q5),f=w.useRef(),m=wb;if(l&&(m={primaryColor:l,secondaryColor:s||nU(l)}),Y5(f),W5(SD(t),"icon should be icon definiton, but got ".concat(t)),!SD(t))return null;var y=t;return y&&typeof y.icon=="function"&&(y=Ne(Ne({},y),{},{icon:y.icon(m.primaryColor,m.secondaryColor)})),IR(y.icon,"svg-".concat(y.name),Ne(Ne({className:r,onClick:a,style:o,"data-icon":y.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},u),{},{ref:f}))};E0.displayName="IconReact";E0.getTwoToneColors=J5;E0.setTwoToneColors=K5;function rU(n){var e=iU(n),t=vt(e,2),r=t[0],a=t[1];return E0.setTwoToneColors({primaryColor:r,secondaryColor:a})}function Q5(){var n=E0.getTwoToneColors();return n.calculated?[n.primaryColor,n.secondaryColor]:n.primaryColor}var Z5=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];rU(Zv.primary);var bi=w.forwardRef(function(n,e){var t=n.className,r=n.icon,a=n.spin,o=n.rotate,l=n.tabIndex,s=n.onClick,u=n.twoToneColor,f=kn(n,Z5),m=w.useContext(pO),y=m.prefixCls,_=y===void 0?"anticon":y,E=m.rootClassName,c=Je(E,_,ue(ue({},"".concat(_,"-").concat(r.name),!!r.name),"".concat(_,"-spin"),!!a||r.name==="loading"),t),p=l;p===void 0&&s&&(p=-1);var g=o?{msTransform:"rotate(".concat(o,"deg)"),transform:"rotate(".concat(o,"deg)")}:void 0,b=iU(u),C=vt(b,2),T=C[0],M=C[1];return w.createElement("span",Pt({role:"img","aria-label":r.name},f,{ref:e,tabIndex:p,onClick:s,className:c}),w.createElement(E0,{icon:r,primaryColor:T,secondaryColor:M,style:g}))});bi.displayName="AntdIcon";bi.getTwoToneColor=Q5;bi.setTwoToneColor=rU;var e$={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"bars",theme:"outlined"},t$=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:e$}))},n$=w.forwardRef(t$),i$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M632 888H392c-4.4 0-8 3.6-8 8v32c0 17.7 14.3 32 32 32h192c17.7 0 32-14.3 32-32v-32c0-4.4-3.6-8-8-8zM512 64c-181.1 0-328 146.9-328 328 0 121.4 66 227.4 164 284.1V792c0 17.7 14.3 32 32 32h264c17.7 0 32-14.3 32-32V676.1c98-56.7 164-162.7 164-284.1 0-181.1-146.9-328-328-328zm127.9 549.8L604 634.6V752H420V634.6l-35.9-20.8C305.4 568.3 256 484.5 256 392c0-141.4 114.6-256 256-256s256 114.6 256 256c0 92.5-49.4 176.3-128.1 221.8z"}}]},name:"bulb",theme:"outlined"},r$=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:i$}))},a$=w.forwardRef(r$),o$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},s$=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:o$}))},vO=w.forwardRef(s$),l$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},c$=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:l$}))},u$=w.forwardRef(c$),d$={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"},f$=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:d$}))},ew=w.forwardRef(f$),h$={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"},p$=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:h$}))},w0=w.forwardRef(p$),m$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},g$=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:m$}))},aU=w.forwardRef(g$),v$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},y$=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:v$}))},b$=w.forwardRef(y$),S$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},_$=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:S$}))},x$=w.forwardRef(_$),C$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"},E$=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:C$}))},w$=w.forwardRef(E$),A$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},M$=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:A$}))},oU=w.forwardRef(M$),T$={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM770.87 199.13l-52.2-52.2a8.01 8.01 0 014.7-13.6l179.4-21c5.1-.6 9.5 3.7 8.9 8.9l-21 179.4c-.8 6.6-8.9 9.4-13.6 4.7l-52.4-52.4-256.2 256.2a8.03 8.03 0 01-11.3 0l-42.4-42.4a8.03 8.03 0 010-11.3l256.1-256.3z"}}]},name:"export",theme:"outlined"},R$=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:T$}))},O$=w.forwardRef(R$),I$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},B$=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:I$}))},D$=w.forwardRef(B$),P$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},L$=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:P$}))},yO=w.forwardRef(L$),N$={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z",fill:t}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:e}}]}},name:"file",theme:"twotone"},z$=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:N$}))},U$=w.forwardRef(z$),F$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},H$=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:F$}))},sU=w.forwardRef(H$),G$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},k$=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:G$}))},M1=w.forwardRef(k$),$$={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},V$=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:$$}))},e0=w.forwardRef(V$),j$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"},W$=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:j$}))},X$=w.forwardRef(W$),Y$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm-88-532h-48c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8zm224 0h-48c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8z"}}]},name:"pause-circle",theme:"outlined"},q$=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:Y$}))},K$=w.forwardRef(q$),J$={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z",fill:e}},{tag:"path",attrs:{d:"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z",fill:t}},{tag:"path",attrs:{d:"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z",fill:t}},{tag:"path",attrs:{d:"M276 368a28 28 0 1056 0 28 28 0 10-56 0z",fill:t}},{tag:"path",attrs:{d:"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z",fill:e}}]}},name:"picture",theme:"twotone"},Q$=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:J$}))},Z$=w.forwardRef(Q$),eV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M719.4 499.1l-296.1-215A15.9 15.9 0 00398 297v430c0 13.1 14.8 20.5 25.3 12.9l296.1-215a15.9 15.9 0 000-25.8zm-257.6 134V390.9L628.5 512 461.8 633.1z"}}]},name:"play-circle",theme:"outlined"},tV=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:eV}))},nV=w.forwardRef(tV),iV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},rV=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:iV}))},aV=w.forwardRef(rV),oV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"},sV=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:oV}))},T1=w.forwardRef(sV),lV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"},cV=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:lV}))},uV=w.forwardRef(cV),dV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"},fV=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:dV}))},hV=w.forwardRef(fV),pV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},mV=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:pV}))},gV=w.forwardRef(mV),vV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M938.2 508.4L787.3 389c-3-2.4-7.3-.2-7.3 3.6V478H636V184h204v128c0 2.2 1.8 4 4 4h60c2.2 0 4-1.8 4-4V144c0-15.5-12.5-28-28-28H596c-15.5 0-28 12.5-28 28v736c0 15.5 12.5 28 28 28h284c15.5 0 28-12.5 28-28V712c0-2.2-1.8-4-4-4h-60c-2.2 0-4 1.8-4 4v128H636V546h144v85.4c0 3.8 4.4 6 7.3 3.6l150.9-119.4a4.5 4.5 0 000-7.2zM428 116H144c-15.5 0-28 12.5-28 28v168c0 2.2 1.8 4 4 4h60c2.2 0 4-1.8 4-4V184h204v294H244v-85.4c0-3.8-4.3-6-7.3-3.6l-151 119.4a4.52 4.52 0 000 7.1l151 119.5c2.9 2.3 7.3.2 7.3-3.6V546h144v294H184V712c0-2.2-1.8-4-4-4h-60c-2.2 0-4 1.8-4 4v168c0 15.5 12.5 28 28 28h284c15.5 0 28-12.5 28-28V144c0-15.5-12.5-28-28-28z"}}]},name:"split-cells",theme:"outlined"},yV=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:vV}))},bV=w.forwardRef(yV),SV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"swap",theme:"outlined"},_V=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:SV}))},xD=w.forwardRef(_V),xV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"},CV=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:xV}))},EV=w.forwardRef(CV),wV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},AV=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:wV}))},MV=w.forwardRef(AV),TV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"},RV=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:TV}))},lU=w.forwardRef(RV),OV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 302.3L784 376V224c0-35.3-28.7-64-64-64H128c-35.3 0-64 28.7-64 64v576c0 35.3 28.7 64 64 64h592c35.3 0 64-28.7 64-64V648l128 73.7c21.3 12.3 48-3.1 48-27.6V330c0-24.6-26.7-40-48-27.7zM712 792H136V232h576v560zm176-167l-104-59.8V458.9L888 399v226zM208 360h112c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H208c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}}]},name:"video-camera",theme:"outlined"},IV=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:OV}))},BV=w.forwardRef(IV),DV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"},PV=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:DV}))},cU=w.forwardRef(PV),LV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"},NV=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:LV}))},uU=w.forwardRef(NV),cM={exports:{}},nr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CD;function zV(){if(CD)return nr;CD=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),s=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),c;c=Symbol.for("react.module.reference");function p(g){if(typeof g=="object"&&g!==null){var b=g.$$typeof;switch(b){case n:switch(g=g.type,g){case t:case a:case r:case f:case m:return g;default:switch(g=g&&g.$$typeof,g){case s:case l:case u:case _:case y:case o:return g;default:return b}}case e:return b}}}return nr.ContextConsumer=l,nr.ContextProvider=o,nr.Element=n,nr.ForwardRef=u,nr.Fragment=t,nr.Lazy=_,nr.Memo=y,nr.Portal=e,nr.Profiler=a,nr.StrictMode=r,nr.Suspense=f,nr.SuspenseList=m,nr.isAsyncMode=function(){return!1},nr.isConcurrentMode=function(){return!1},nr.isContextConsumer=function(g){return p(g)===l},nr.isContextProvider=function(g){return p(g)===o},nr.isElement=function(g){return typeof g=="object"&&g!==null&&g.$$typeof===n},nr.isForwardRef=function(g){return p(g)===u},nr.isFragment=function(g){return p(g)===t},nr.isLazy=function(g){return p(g)===_},nr.isMemo=function(g){return p(g)===y},nr.isPortal=function(g){return p(g)===e},nr.isProfiler=function(g){return p(g)===a},nr.isStrictMode=function(g){return p(g)===r},nr.isSuspense=function(g){return p(g)===f},nr.isSuspenseList=function(g){return p(g)===m},nr.isValidElementType=function(g){return typeof g=="string"||typeof g=="function"||g===t||g===a||g===r||g===f||g===m||g===E||typeof g=="object"&&g!==null&&(g.$$typeof===_||g.$$typeof===y||g.$$typeof===o||g.$$typeof===l||g.$$typeof===u||g.$$typeof===c||g.getModuleId!==void 0)},nr.typeOf=p,nr}var ED;function UV(){return ED||(ED=1,cM.exports=zV()),cM.exports}var uM=UV();function tw(n,e,t){var r=w.useRef({});return(!("value"in r.current)||t(r.current.condition,e))&&(r.current.value=n(),r.current.condition=e),r.current.value}var FV=Symbol.for("react.element"),HV=Symbol.for("react.transitional.element"),GV=Symbol.for("react.fragment");function dU(n){return n&&mn(n)==="object"&&(n.$$typeof===FV||n.$$typeof===HV)&&n.type===GV}var kV=Number(w.version.split(".")[0]),bO=function(e,t){typeof e=="function"?e(t):mn(e)==="object"&&e&&"current"in e&&(e.current=t)},yf=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var a=t.filter(Boolean);return a.length<=1?a[0]:function(o){t.forEach(function(l){bO(l,o)})}},A0=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return tw(function(){return yf.apply(void 0,t)},t,function(a,o){return a.length!==o.length||a.every(function(l,s){return l!==o[s]})})},yS=function(e){var t,r;if(!e)return!1;if(fU(e)&&kV>=19)return!0;var a=uM.isMemo(e)?e.type.type:e.type;return!(typeof a=="function"&&!((t=a.prototype)!==null&&t!==void 0&&t.render)&&a.$$typeof!==uM.ForwardRef||typeof e=="function"&&!((r=e.prototype)!==null&&r!==void 0&&r.render)&&e.$$typeof!==uM.ForwardRef)};function fU(n){return w.isValidElement(n)&&!dU(n)}var nw=function(e){if(e&&fU(e)){var t=e;return t.props.propertyIsEnumerable("ref")?t.props.ref:t.ref}return null};function qu(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[];return Xe.Children.forEach(n,function(r){r==null&&!e.keepEmpty||(Array.isArray(r)?t=t.concat(qu(r)):dU(r)&&r.props?t=t.concat(qu(r.props.children,e)):t.push(r))}),t}var Lh=jz();const Vb=Lm(Lh),$V=Vz({__proto__:null,default:Vb},[Lh]);function jb(n){return n instanceof HTMLElement||n instanceof SVGElement}function VV(n){return n&&mn(n)==="object"&&jb(n.nativeElement)?n.nativeElement:jb(n)?n:null}function AC(n){var e=VV(n);if(e)return e;if(n instanceof Xe.Component){var t;return(t=Vb.findDOMNode)===null||t===void 0?void 0:t.call(Vb,n)}return null}var BR=w.createContext(null);function jV(n){var e=n.children,t=n.onBatchResize,r=w.useRef(0),a=w.useRef([]),o=w.useContext(BR),l=w.useCallback(function(s,u,f){r.current+=1;var m=r.current;a.current.push({size:s,element:u,data:f}),Promise.resolve().then(function(){m===r.current&&(t==null||t(a.current),a.current=[])}),o==null||o(s,u,f)},[t,o]);return w.createElement(BR.Provider,{value:l},e)}var hU=function(){if(typeof Map<"u")return Map;function n(e,t){var r=-1;return e.some(function(a,o){return a[0]===t?(r=o,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var r=n(this.__entries__,t),a=this.__entries__[r];return a&&a[1]},e.prototype.set=function(t,r){var a=n(this.__entries__,t);~a?this.__entries__[a][1]=r:this.__entries__.push([t,r])},e.prototype.delete=function(t){var r=this.__entries__,a=n(r,t);~a&&r.splice(a,1)},e.prototype.has=function(t){return!!~n(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,r){r===void 0&&(r=null);for(var a=0,o=this.__entries__;a<o.length;a++){var l=o[a];t.call(r,l[1],l[0])}},e}()}(),DR=typeof window<"u"&&typeof document<"u"&&window.document===document,R1=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),WV=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(R1):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)}}(),XV=2;function YV(n,e){var t=!1,r=!1,a=0;function o(){t&&(t=!1,n()),r&&s()}function l(){WV(o)}function s(){var u=Date.now();if(t){if(u-a<XV)return;r=!0}else t=!0,r=!1,setTimeout(l,e);a=u}return s}var qV=20,KV=["top","right","bottom","left","width","height","size","weight"],JV=typeof MutationObserver<"u",QV=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=YV(this.refresh.bind(this),qV)}return n.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},n.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},n.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},n.prototype.connect_=function(){!DR||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),JV?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){!DR||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=t===void 0?"":t,a=KV.some(function(o){return!!~r.indexOf(o)});a&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),pU=function(n,e){for(var t=0,r=Object.keys(e);t<r.length;t++){var a=r[t];Object.defineProperty(n,a,{value:e[a],enumerable:!1,writable:!1,configurable:!0})}return n},t0=function(n){var e=n&&n.ownerDocument&&n.ownerDocument.defaultView;return e||R1},mU=iw(0,0,0,0);function O1(n){return parseFloat(n)||0}function wD(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(r,a){var o=n["border-"+a+"-width"];return r+O1(o)},0)}function ZV(n){for(var e=["top","right","bottom","left"],t={},r=0,a=e;r<a.length;r++){var o=a[r],l=n["padding-"+o];t[o]=O1(l)}return t}function e9(n){var e=n.getBBox();return iw(0,0,e.width,e.height)}function t9(n){var e=n.clientWidth,t=n.clientHeight;if(!e&&!t)return mU;var r=t0(n).getComputedStyle(n),a=ZV(r),o=a.left+a.right,l=a.top+a.bottom,s=O1(r.width),u=O1(r.height);if(r.boxSizing==="border-box"&&(Math.round(s+o)!==e&&(s-=wD(r,"left","right")+o),Math.round(u+l)!==t&&(u-=wD(r,"top","bottom")+l)),!i9(n)){var f=Math.round(s+o)-e,m=Math.round(u+l)-t;Math.abs(f)!==1&&(s-=f),Math.abs(m)!==1&&(u-=m)}return iw(a.left,a.top,s,u)}var n9=function(){return typeof SVGGraphicsElement<"u"?function(n){return n instanceof t0(n).SVGGraphicsElement}:function(n){return n instanceof t0(n).SVGElement&&typeof n.getBBox=="function"}}();function i9(n){return n===t0(n).document.documentElement}function r9(n){return DR?n9(n)?e9(n):t9(n):mU}function a9(n){var e=n.x,t=n.y,r=n.width,a=n.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,l=Object.create(o.prototype);return pU(l,{x:e,y:t,width:r,height:a,top:t,right:e+r,bottom:a+t,left:e}),l}function iw(n,e,t,r){return{x:n,y:e,width:t,height:r}}var o9=function(){function n(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=iw(0,0,0,0),this.target=e}return n.prototype.isActive=function(){var e=r9(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},n}(),s9=function(){function n(e,t){var r=a9(t);pU(this,{target:e,contentRect:r})}return n}(),l9=function(){function n(e,t,r){if(this.activeObservations_=[],this.observations_=new hU,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return n.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof t0(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new o9(e)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof t0(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(r){return new s9(r.target,r.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),gU=typeof WeakMap<"u"?new WeakMap:new hU,vU=function(){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=QV.getInstance(),r=new l9(e,t,this);gU.set(this,r)}return n}();["observe","unobserve","disconnect"].forEach(function(n){vU.prototype[n]=function(){var e;return(e=gU.get(this))[n].apply(e,arguments)}});var c9=function(){return typeof R1.ResizeObserver<"u"?R1.ResizeObserver:vU}(),Ah=new Map;function u9(n){n.forEach(function(e){var t,r=e.target;(t=Ah.get(r))===null||t===void 0||t.forEach(function(a){return a(r)})})}var yU=new c9(u9);function d9(n,e){Ah.has(n)||(Ah.set(n,new Set),yU.observe(n)),Ah.get(n).add(e)}function f9(n,e){Ah.has(n)&&(Ah.get(n).delete(e),Ah.get(n).size||(yU.unobserve(n),Ah.delete(n)))}function ai(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function AD(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Yz(r.key),r)}}function oi(n,e,t){return e&&AD(n.prototype,e),t&&AD(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Wb(n,e){return Wb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},Wb(n,e)}function Ar(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Wb(n,e)}function Pi(n){return Pi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Pi(n)}function SO(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SO=function(){return!!n})()}function Dn(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Fo(n,e){if(e&&(mn(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dn(n)}function kc(n){var e=SO();return function(){var t,r=Pi(n);if(e){var a=Pi(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return Fo(this,t)}}var h9=function(n){Ar(t,n);var e=kc(t);function t(){return ai(this,t),e.apply(this,arguments)}return oi(t,[{key:"render",value:function(){return this.props.children}}]),t}(w.Component);function p9(n,e){var t=n.children,r=n.disabled,a=w.useRef(null),o=w.useRef(null),l=w.useContext(BR),s=typeof t=="function",u=s?t(a):t,f=w.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),m=!s&&w.isValidElement(u)&&yS(u),y=m?nw(u):null,_=A0(y,a),E=function(){var b;return AC(a.current)||(a.current&&mn(a.current)==="object"?AC((b=a.current)===null||b===void 0?void 0:b.nativeElement):null)||AC(o.current)};w.useImperativeHandle(e,function(){return E()});var c=w.useRef(n);c.current=n;var p=w.useCallback(function(g){var b=c.current,C=b.onResize,T=b.data,M=g.getBoundingClientRect(),O=M.width,B=M.height,P=g.offsetWidth,F=g.offsetHeight,U=Math.floor(O),z=Math.floor(B);if(f.current.width!==U||f.current.height!==z||f.current.offsetWidth!==P||f.current.offsetHeight!==F){var $={width:U,height:z,offsetWidth:P,offsetHeight:F};f.current=$;var J=P===Math.round(O)?O:P,W=F===Math.round(B)?B:F,Q=Ne(Ne({},$),{},{offsetWidth:J,offsetHeight:W});l==null||l(Q,g,T),C&&Promise.resolve().then(function(){C(Q,g)})}},[]);return w.useEffect(function(){var g=E();return g&&!r&&d9(g,p),function(){return f9(g,p)}},[a.current,r]),w.createElement(h9,{ref:o},m?w.cloneElement(u,{ref:_}):u)}var m9=w.forwardRef(p9),g9="rc-observer-key";function v9(n,e){var t=n.children,r=typeof t=="function"?[t]:qu(t);return r.map(function(a,o){var l=(a==null?void 0:a.key)||"".concat(g9,"-").concat(o);return w.createElement(m9,Pt({},n,{key:l,ref:o===0?e:void 0}),a)})}var Nm=w.forwardRef(v9);Nm.Collection=jV;function y9(n){if(Array.isArray(n))return mR(n)}function bU(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function b9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kt(n){return y9(n)||bU(n)||mO(n)||b9()}var SU=function(e){return+setTimeout(e,16)},_U=function(e){return clearTimeout(e)};typeof window<"u"&&"requestAnimationFrame"in window&&(SU=function(e){return window.requestAnimationFrame(e)},_U=function(e){return window.cancelAnimationFrame(e)});var MD=0,_O=new Map;function xU(n){_O.delete(n)}var Da=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;MD+=1;var r=MD;function a(o){if(o===0)xU(r),e();else{var l=SU(function(){a(o-1)});_O.set(r,l)}}return a(t),r};Da.cancel=function(n){var e=_O.get(n);return xU(n),_U(e)};function Xb(n){for(var e=0,t,r=0,a=n.length;a>=4;++r,a-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(a){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}function n0(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=new Set;function a(o,l){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,u=r.has(o);if(zo(!u,"Warning: There may be circular references"),u)return!1;if(o===l)return!0;if(t&&s>1)return!1;r.add(o);var f=s+1;if(Array.isArray(o)){if(!Array.isArray(l)||o.length!==l.length)return!1;for(var m=0;m<o.length;m++)if(!a(o[m],l[m],f))return!1;return!0}if(o&&l&&mn(o)==="object"&&mn(l)==="object"){var y=Object.keys(o);return y.length!==Object.keys(l).length?!1:y.every(function(_){return a(o[_],l[_],f)})}return!1}return a(n,e)}var S9="%";function PR(n){return n.join(S9)}var _9=function(){function n(e){ai(this,n),ue(this,"instanceId",void 0),ue(this,"cache",new Map),this.instanceId=e}return oi(n,[{key:"get",value:function(t){return this.opGet(PR(t))}},{key:"opGet",value:function(t){return this.cache.get(t)||null}},{key:"update",value:function(t,r){return this.opUpdate(PR(t),r)}},{key:"opUpdate",value:function(t,r){var a=this.cache.get(t),o=r(a);o===null?this.cache.delete(t):this.cache.set(t,o)}}]),n}(),i0="data-token-hash",Nc="data-css-hash",Mh="__cssinjs_instance__";function x9(){var n=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){var e=document.body.querySelectorAll("style[".concat(Nc,"]"))||[],t=document.head.firstChild;Array.from(e).forEach(function(a){a[Mh]=a[Mh]||n,a[Mh]===n&&document.head.insertBefore(a,t)});var r={};Array.from(document.querySelectorAll("style[".concat(Nc,"]"))).forEach(function(a){var o=a.getAttribute(Nc);if(r[o]){if(a[Mh]===n){var l;(l=a.parentNode)===null||l===void 0||l.removeChild(a)}}else r[o]=!0})}return new _9(n)}var bS=w.createContext({hashPriority:"low",cache:x9(),defaultCache:!0});function C9(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}var xO=function(){function n(){ai(this,n),ue(this,"cache",void 0),ue(this,"keys",void 0),ue(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return oi(n,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(t){var r,a,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l={map:this.cache};return t.forEach(function(s){if(!l)l=void 0;else{var u;l=(u=l)===null||u===void 0||(u=u.map)===null||u===void 0?void 0:u.get(s)}}),(r=l)!==null&&r!==void 0&&r.value&&o&&(l.value[1]=this.cacheCallTimes++),(a=l)===null||a===void 0?void 0:a.value}},{key:"get",value:function(t){var r;return(r=this.internalGet(t,!0))===null||r===void 0?void 0:r[0]}},{key:"has",value:function(t){return!!this.internalGet(t)}},{key:"set",value:function(t,r){var a=this;if(!this.has(t)){if(this.size()+1>n.MAX_CACHE_SIZE+n.MAX_CACHE_OFFSET){var o=this.keys.reduce(function(f,m){var y=vt(f,2),_=y[1];return a.internalGet(m)[1]<_?[m,a.internalGet(m)[1]]:f},[this.keys[0],this.cacheCallTimes]),l=vt(o,1),s=l[0];this.delete(s)}this.keys.push(t)}var u=this.cache;t.forEach(function(f,m){if(m===t.length-1)u.set(f,{value:[r,a.cacheCallTimes++]});else{var y=u.get(f);y?y.map||(y.map=new Map):u.set(f,{map:new Map}),u=u.get(f).map}})}},{key:"deleteByPath",value:function(t,r){var a=t.get(r[0]);if(r.length===1){var o;return a.map?t.set(r[0],{map:a.map}):t.delete(r[0]),(o=a.value)===null||o===void 0?void 0:o[0]}var l=this.deleteByPath(a.map,r.slice(1));return(!a.map||a.map.size===0)&&!a.value&&t.delete(r[0]),l}},{key:"delete",value:function(t){if(this.has(t))return this.keys=this.keys.filter(function(r){return!C9(r,t)}),this.deleteByPath(this.cache,t)}}]),n}();ue(xO,"MAX_CACHE_SIZE",20);ue(xO,"MAX_CACHE_OFFSET",5);var TD=0,CU=function(){function n(e){ai(this,n),ue(this,"derivatives",void 0),ue(this,"id",void 0),this.derivatives=Array.isArray(e)?e:[e],this.id=TD,e.length===0&&(e.length>0,void 0),TD+=1}return oi(n,[{key:"getDerivativeToken",value:function(t){return this.derivatives.reduce(function(r,a){return a(t,r)},void 0)}}]),n}(),dM=new xO;function LR(n){var e=Array.isArray(n)?n:[n];return dM.has(e)||dM.set(e,new CU(e)),dM.get(e)}var E9=new WeakMap,fM={};function w9(n,e){for(var t=E9,r=0;r<e.length;r+=1){var a=e[r];t.has(a)||t.set(a,new WeakMap),t=t.get(a)}return t.has(fM)||t.set(fM,n()),t.get(fM)}var RD=new WeakMap;function Ab(n){var e=RD.get(n)||"";return e||(Object.keys(n).forEach(function(t){var r=n[t];e+=t,r instanceof CU?e+=r.id:r&&mn(r)==="object"?e+=Ab(r):e+=r}),e=Xb(e),RD.set(n,e)),e}function OD(n,e){return Xb("".concat(e,"_").concat(Ab(n)))}var NR=cs();function Mt(n){return typeof n=="number"?"".concat(n,"px"):n}function I1(n,e,t){var r,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(o)return n;var l=Ne(Ne({},a),{},(r={},ue(r,i0,e),ue(r,Nc,t),r)),s=Object.keys(l).map(function(u){var f=l[u];return f?"".concat(u,'="').concat(f,'"'):null}).filter(function(u){return u}).join(" ");return"<style ".concat(s,">").concat(n,"</style>")}var MC=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(t?"".concat(t,"-"):"").concat(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},A9=function(e,t,r){return Object.keys(e).length?".".concat(t).concat(r!=null&&r.scope?".".concat(r.scope):"","{").concat(Object.entries(e).map(function(a){var o=vt(a,2),l=o[0],s=o[1];return"".concat(l,":").concat(s,";")}).join(""),"}"):""},EU=function(e,t,r){var a={},o={};return Object.entries(e).forEach(function(l){var s,u,f=vt(l,2),m=f[0],y=f[1];if(r!=null&&(s=r.preserve)!==null&&s!==void 0&&s[m])o[m]=y;else if((typeof y=="string"||typeof y=="number")&&!(r!=null&&(u=r.ignore)!==null&&u!==void 0&&u[m])){var _,E=MC(m,r==null?void 0:r.prefix);a[E]=typeof y=="number"&&!(r!=null&&(_=r.unitless)!==null&&_!==void 0&&_[m])?"".concat(y,"px"):String(y),o[m]="var(".concat(E,")")}}),[o,A9(a,t,{scope:r==null?void 0:r.scope})]},ID=cs()?w.useLayoutEffect:w.useEffect,wa=function(e,t){var r=w.useRef(!0);ID(function(){return e(r.current)},t),ID(function(){return r.current=!1,function(){r.current=!0}},[])},BD=function(e,t){wa(function(r){if(!r)return e()},t)},M9=Ne({},QE),DD=M9.useInsertionEffect,T9=function(e,t,r){w.useMemo(e,r),wa(function(){return t(!0)},r)},R9=DD?function(n,e,t){return DD(function(){return n(),e()},t)}:T9,O9=Ne({},QE),I9=O9.useInsertionEffect,B9=function(e){var t=[],r=!1;function a(o){r||t.push(o)}return w.useEffect(function(){return r=!1,function(){r=!0,t.length&&t.forEach(function(o){return o()})}},e),a},D9=function(){return function(e){e()}},P9=typeof I9<"u"?B9:D9;function CO(n,e,t,r,a){var o=w.useContext(bS),l=o.cache,s=[n].concat(Kt(e)),u=PR(s),f=P9([u]),m=function(c){l.opUpdate(u,function(p){var g=p||[void 0,void 0],b=vt(g,2),C=b[0],T=C===void 0?0:C,M=b[1],O=M,B=O||t(),P=[T,B];return c?c(P):P})};w.useMemo(function(){m()},[u]);var y=l.opGet(u),_=y[1];return R9(function(){a==null||a(_)},function(E){return m(function(c){var p=vt(c,2),g=p[0],b=p[1];return E&&g===0&&(a==null||a(_)),[g+1,b]}),function(){l.opUpdate(u,function(c){var p=c||[],g=vt(p,2),b=g[0],C=b===void 0?0:b,T=g[1],M=C-1;return M===0?(f(function(){(E||!l.opGet(u))&&(r==null||r(T,!1))}),null):[C-1,T]})}},[u]),_}var L9={},N9="css",em=new Map;function z9(n){em.set(n,(em.get(n)||0)+1)}function U9(n,e){if(typeof document<"u"){var t=document.querySelectorAll("style[".concat(i0,'="').concat(n,'"]'));t.forEach(function(r){if(r[Mh]===e){var a;(a=r.parentNode)===null||a===void 0||a.removeChild(r)}})}}var F9=0;function H9(n,e){em.set(n,(em.get(n)||0)-1);var t=Array.from(em.keys()),r=t.filter(function(a){var o=em.get(a)||0;return o<=0});t.length-r.length>F9&&r.forEach(function(a){U9(a,e),em.delete(a)})}var G9=function(e,t,r,a){var o=r.getDerivativeToken(e),l=Ne(Ne({},o),t);return a&&(l=a(l)),l},wU="token";function k9(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=w.useContext(bS),a=r.cache.instanceId,o=r.container,l=t.salt,s=l===void 0?"":l,u=t.override,f=u===void 0?L9:u,m=t.formatToken,y=t.getComputedToken,_=t.cssVar,E=w9(function(){return Object.assign.apply(Object,[{}].concat(Kt(e)))},e),c=Ab(E),p=Ab(f),g=_?Ab(_):"",b=CO(wU,[s,n.id,c,p,g],function(){var C,T=y?y(E,f,n):G9(E,f,n,m),M=Ne({},T),O="";if(_){var B=EU(T,_.key,{prefix:_.prefix,ignore:_.ignore,unitless:_.unitless,preserve:_.preserve}),P=vt(B,2);T=P[0],O=P[1]}var F=OD(T,s);T._tokenKey=F,M._tokenKey=OD(M,s);var U=(C=_==null?void 0:_.key)!==null&&C!==void 0?C:F;T._themeKey=U,z9(U);var z="".concat(N9,"-").concat(Xb(F));return T._hashId=z,[T,z,M,O,(_==null?void 0:_.key)||""]},function(C){H9(C[0]._themeKey,a)},function(C){var T=vt(C,4),M=T[0],O=T[3];if(_&&O){var B=af(O,Xb("css-variables-".concat(M._themeKey)),{mark:Nc,prepend:"queue",attachTo:o,priority:-999});B[Mh]=a,B.setAttribute(i0,M._themeKey)}});return b}var $9=function(e,t,r){var a=vt(e,5),o=a[2],l=a[3],s=a[4],u=r||{},f=u.plain;if(!l)return null;var m=o._tokenKey,y=-999,_={"data-rc-order":"prependQueue","data-rc-priority":"".concat(y)},E=I1(l,s,m,_,f);return[y,m,E]},V9={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},AU="comm",MU="rule",TU="decl",j9="@import",W9="@namespace",X9="@keyframes",Y9="@layer",RU=Math.abs,EO=String.fromCharCode;function OU(n){return n.trim()}function TC(n,e,t){return n.replace(e,t)}function q9(n,e,t){return n.indexOf(e,t)}function jv(n,e){return n.charCodeAt(e)|0}function r0(n,e,t){return n.slice(e,t)}function Fu(n){return n.length}function K9(n){return n.length}function dx(n,e){return e.push(n),n}var rw=1,a0=1,IU=0,Hl=0,Aa=0,M0="";function wO(n,e,t,r,a,o,l,s){return{value:n,root:e,parent:t,type:r,props:a,children:o,line:rw,column:a0,length:l,return:"",siblings:s}}function J9(){return Aa}function Q9(){return Aa=Hl>0?jv(M0,--Hl):0,a0--,Aa===10&&(a0=1,rw--),Aa}function zc(){return Aa=Hl<IU?jv(M0,Hl++):0,a0++,Aa===10&&(a0=1,rw++),Aa}function Th(){return jv(M0,Hl)}function RC(){return Hl}function aw(n,e){return r0(M0,n,e)}function Yb(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Z9(n){return rw=a0=1,IU=Fu(M0=n),Hl=0,[]}function ej(n){return M0="",n}function hM(n){return OU(aw(Hl-1,zR(n===91?n+2:n===40?n+1:n)))}function tj(n){for(;(Aa=Th())&&Aa<33;)zc();return Yb(n)>2||Yb(Aa)>3?"":" "}function nj(n,e){for(;--e&&zc()&&!(Aa<48||Aa>102||Aa>57&&Aa<65||Aa>70&&Aa<97););return aw(n,RC()+(e<6&&Th()==32&&zc()==32))}function zR(n){for(;zc();)switch(Aa){case n:return Hl;case 34:case 39:n!==34&&n!==39&&zR(Aa);break;case 40:n===41&&zR(n);break;case 92:zc();break}return Hl}function ij(n,e){for(;zc()&&n+Aa!==57;)if(n+Aa===84&&Th()===47)break;return"/*"+aw(e,Hl-1)+"*"+EO(n===47?n:zc())}function rj(n){for(;!Yb(Th());)zc();return aw(n,Hl)}function aj(n){return ej(OC("",null,null,null,[""],n=Z9(n),0,[0],n))}function OC(n,e,t,r,a,o,l,s,u){for(var f=0,m=0,y=l,_=0,E=0,c=0,p=1,g=1,b=1,C=0,T="",M=a,O=o,B=r,P=T;g;)switch(c=C,C=zc()){case 40:if(c!=108&&jv(P,y-1)==58){q9(P+=TC(hM(C),"&","&\f"),"&\f",RU(f?s[f-1]:0))!=-1&&(b=-1);break}case 34:case 39:case 91:P+=hM(C);break;case 9:case 10:case 13:case 32:P+=tj(c);break;case 92:P+=nj(RC()-1,7);continue;case 47:switch(Th()){case 42:case 47:dx(oj(ij(zc(),RC()),e,t,u),u),(Yb(c||1)==5||Yb(Th()||1)==5)&&Fu(P)&&r0(P,-1,void 0)!==" "&&(P+=" ");break;default:P+="/"}break;case 123*p:s[f++]=Fu(P)*b;case 125*p:case 59:case 0:switch(C){case 0:case 125:g=0;case 59+m:b==-1&&(P=TC(P,/\f/g,"")),E>0&&(Fu(P)-y||p===0&&c===47)&&dx(E>32?LD(P+";",r,t,y-1,u):LD(TC(P," ","")+";",r,t,y-2,u),u);break;case 59:P+=";";default:if(dx(B=PD(P,e,t,f,m,a,s,T,M=[],O=[],y,o),o),C===123)if(m===0)OC(P,e,B,B,M,o,y,s,O);else{switch(_){case 99:if(jv(P,3)===110)break;case 108:if(jv(P,2)===97)break;default:m=0;case 100:case 109:case 115:}m?OC(n,B,B,r&&dx(PD(n,B,B,0,0,a,s,T,a,M=[],y,O),O),a,O,y,s,r?M:O):OC(P,B,B,B,[""],O,0,s,O)}}f=m=E=0,p=b=1,T=P="",y=l;break;case 58:y=1+Fu(P),E=c;default:if(p<1){if(C==123)--p;else if(C==125&&p++==0&&Q9()==125)continue}switch(P+=EO(C),C*p){case 38:b=m>0?1:(P+="\f",-1);break;case 44:s[f++]=(Fu(P)-1)*b,b=1;break;case 64:Th()===45&&(P+=hM(zc())),_=Th(),m=y=Fu(T=P+=rj(RC())),C++;break;case 45:c===45&&Fu(P)==2&&(p=0)}}return o}function PD(n,e,t,r,a,o,l,s,u,f,m,y){for(var _=a-1,E=a===0?o:[""],c=K9(E),p=0,g=0,b=0;p<r;++p)for(var C=0,T=r0(n,_+1,_=RU(g=l[p])),M=n;C<c;++C)(M=OU(g>0?E[C]+" "+T:TC(T,/&\f/g,E[C])))&&(u[b++]=M);return wO(n,e,t,a===0?MU:s,u,f,m,y)}function oj(n,e,t,r){return wO(n,e,t,AU,EO(J9()),r0(n,2,-2),0,r)}function LD(n,e,t,r,a){return wO(n,e,t,TU,r0(n,0,r),r0(n,r+1,-1),r,a)}function UR(n,e){for(var t="",r=0;r<n.length;r++)t+=e(n[r],r,n,e)||"";return t}function sj(n,e,t,r){switch(n.type){case Y9:if(n.children.length)break;case j9:case W9:case TU:return n.return=n.return||n.value;case AU:return"";case X9:return n.return=n.value+"{"+UR(n.children,r)+"}";case MU:if(!Fu(n.value=n.props.join(",")))return""}return Fu(t=UR(n.children,r))?n.return=n.value+"{"+t+"}":""}var ND="data-ant-cssinjs-cache-path",BU="_FILE_STYLE__",ym,DU=!0;function lj(){if(!ym&&(ym={},cs())){var n=document.createElement("div");n.className=ND,n.style.position="fixed",n.style.visibility="hidden",n.style.top="-9999px",document.body.appendChild(n);var e=getComputedStyle(n).content||"";e=e.replace(/^"/,"").replace(/"$/,""),e.split(";").forEach(function(a){var o=a.split(":"),l=vt(o,2),s=l[0],u=l[1];ym[s]=u});var t=document.querySelector("style[".concat(ND,"]"));if(t){var r;DU=!1,(r=t.parentNode)===null||r===void 0||r.removeChild(t)}document.body.removeChild(n)}}function cj(n){return lj(),!!ym[n]}function uj(n){var e=ym[n],t=null;if(e&&cs())if(DU)t=BU;else{var r=document.querySelector("style[".concat(Nc,'="').concat(ym[n],'"]'));r?t=r.innerHTML:delete ym[n]}return[t,e]}var dj="_skip_check_",PU="_multi_value_";function IC(n){var e=UR(aj(n),sj);return e.replace(/\{%%%\:[^;];}/g,";")}function fj(n){return mn(n)==="object"&&n&&(dj in n||PU in n)}function zD(n,e,t){if(!e)return n;var r=".".concat(e),a=t==="low"?":where(".concat(r,")"):r,o=n.split(",").map(function(l){var s,u=l.trim().split(/\s+/),f=u[0]||"",m=((s=f.match(/^\w+/))===null||s===void 0?void 0:s[0])||"";return f="".concat(m).concat(a).concat(f.slice(m.length)),[f].concat(Kt(u.slice(1))).join(" ")});return o.join(",")}var hj=function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},a=r.root,o=r.injectHash,l=r.parentSelectors,s=t.hashId,u=t.layer;t.path;var f=t.hashPriority,m=t.transformers,y=m===void 0?[]:m;t.linters;var _="",E={};function c(b){var C=b.getName(s);if(!E[C]){var T=n(b.style,t,{root:!1,parentSelectors:l}),M=vt(T,1),O=M[0];E[C]="@keyframes ".concat(b.getName(s)).concat(O)}}function p(b){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return b.forEach(function(T){Array.isArray(T)?p(T,C):T&&C.push(T)}),C}var g=p(Array.isArray(e)?e:[e]);return g.forEach(function(b){var C=typeof b=="string"&&!a?{}:b;if(typeof C=="string")_+="".concat(C,`
`);else if(C._keyframe)c(C);else{var T=y.reduce(function(M,O){var B;return(O==null||(B=O.visit)===null||B===void 0?void 0:B.call(O,M))||M},C);Object.keys(T).forEach(function(M){var O=T[M];if(mn(O)==="object"&&O&&(M!=="animationName"||!O._keyframe)&&!fj(O)){var B=!1,P=M.trim(),F=!1;(a||o)&&s?P.startsWith("@")?B=!0:P==="&"?P=zD("",s,f):P=zD(M,s,f):a&&!s&&(P==="&"||P==="")&&(P="",F=!0);var U=n(O,t,{root:F,injectHash:B,parentSelectors:[].concat(Kt(l),[P])}),z=vt(U,2),$=z[0],J=z[1];E=Ne(Ne({},E),J),_+="".concat(P).concat($)}else{let ae=function(Y,K){var ee=Y.replace(/[A-Z]/g,function(q){return"-".concat(q.toLowerCase())}),de=K;!V9[Y]&&typeof de=="number"&&de!==0&&(de="".concat(de,"px")),Y==="animationName"&&K!==null&&K!==void 0&&K._keyframe&&(c(K),de=K.getName(s)),_+="".concat(ee,":").concat(de,";")};var W,Q=(W=O==null?void 0:O.value)!==null&&W!==void 0?W:O;mn(O)==="object"&&O!==null&&O!==void 0&&O[PU]&&Array.isArray(Q)?Q.forEach(function(Y){ae(M,Y)}):ae(M,Q)}})}}),a?u&&(_&&(_="@layer ".concat(u.name," {").concat(_,"}")),u.dependencies&&(E["@layer ".concat(u.name)]=u.dependencies.map(function(b){return"@layer ".concat(b,", ").concat(u.name,";")}).join(`
`))):_="{".concat(_,"}"),[_,E]};function LU(n,e){return Xb("".concat(n.join("%")).concat(e))}function pj(){return null}var NU="style";function FR(n,e){var t=n.token,r=n.path,a=n.hashId,o=n.layer,l=n.nonce,s=n.clientOnly,u=n.order,f=u===void 0?0:u,m=w.useContext(bS),y=m.autoClear;m.mock;var _=m.defaultCache,E=m.hashPriority,c=m.container,p=m.ssrInline,g=m.transformers,b=m.linters,C=m.cache,T=m.layer,M=t._tokenKey,O=[M];T&&O.push("layer"),O.push.apply(O,Kt(r));var B=NR,P=CO(NU,O,function(){var J=O.join("|");if(cj(J)){var W=uj(J),Q=vt(W,2),ae=Q[0],Y=Q[1];if(ae)return[ae,M,Y,{},s,f]}var K=e(),ee=hj(K,{hashId:a,hashPriority:E,layer:T?o:void 0,path:r.join("-"),transformers:g,linters:b}),de=vt(ee,2),q=de[0],ie=de[1],he=IC(q),fe=LU(O,he);return[he,M,fe,ie,s,f]},function(J,W){var Q=vt(J,3),ae=Q[2];(W||y)&&NR&&$b(ae,{mark:Nc})},function(J){var W=vt(J,4),Q=W[0];W[1];var ae=W[2],Y=W[3];if(B&&Q!==BU){var K={mark:Nc,prepend:T?!1:"queue",attachTo:c,priority:f},ee=typeof l=="function"?l():l;ee&&(K.csp={nonce:ee});var de=[],q=[];Object.keys(Y).forEach(function(he){he.startsWith("@layer")?de.push(he):q.push(he)}),de.forEach(function(he){af(IC(Y[he]),"_layer-".concat(he),Ne(Ne({},K),{},{prepend:!0}))});var ie=af(Q,ae,K);ie[Mh]=C.instanceId,ie.setAttribute(i0,M),q.forEach(function(he){af(IC(Y[he]),"_effect-".concat(he),K)})}}),F=vt(P,3),U=F[0],z=F[1],$=F[2];return function(J){var W;if(!p||B||!_)W=w.createElement(pj,null);else{var Q;W=w.createElement("style",Pt({},(Q={},ue(Q,i0,z),ue(Q,Nc,$),Q),{dangerouslySetInnerHTML:{__html:U}}))}return w.createElement(w.Fragment,null,W,J)}}var mj=function(e,t,r){var a=vt(e,6),o=a[0],l=a[1],s=a[2],u=a[3],f=a[4],m=a[5],y=r||{},_=y.plain;if(f)return null;var E=o,c={"data-rc-order":"prependQueue","data-rc-priority":"".concat(m)};return E=I1(o,l,s,c,_),u&&Object.keys(u).forEach(function(p){if(!t[p]){t[p]=!0;var g=IC(u[p]),b=I1(g,l,"_effect-".concat(p),c,_);p.startsWith("@layer")?E=b+E:E+=b}}),[m,s,E]},zU="cssVar",gj=function(e,t){var r=e.key,a=e.prefix,o=e.unitless,l=e.ignore,s=e.token,u=e.scope,f=u===void 0?"":u,m=w.useContext(bS),y=m.cache.instanceId,_=m.container,E=s._tokenKey,c=[].concat(Kt(e.path),[r,f,E]),p=CO(zU,c,function(){var g=t(),b=EU(g,r,{prefix:a,unitless:o,ignore:l,scope:f}),C=vt(b,2),T=C[0],M=C[1],O=LU(c,M);return[T,M,O,r]},function(g){var b=vt(g,3),C=b[2];NR&&$b(C,{mark:Nc})},function(g){var b=vt(g,3),C=b[1],T=b[2];if(C){var M=af(C,T,{mark:Nc,prepend:"queue",attachTo:_,priority:-999});M[Mh]=y,M.setAttribute(i0,r)}});return p},vj=function(e,t,r){var a=vt(e,4),o=a[1],l=a[2],s=a[3],u=r||{},f=u.plain;if(!o)return null;var m=-999,y={"data-rc-order":"prependQueue","data-rc-priority":"".concat(m)},_=I1(o,s,l,y,f);return[m,l,_]},Ly;Ly={},ue(Ly,NU,mj),ue(Ly,wU,$9),ue(Ly,zU,vj);var rr=function(){function n(e,t){ai(this,n),ue(this,"name",void 0),ue(this,"style",void 0),ue(this,"_keyframe",!0),this.name=e,this.style=t}return oi(n,[{key:"getName",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return t?"".concat(t,"-").concat(this.name):this.name}}]),n}();function Pg(n){return n.notSplit=!0,n}Pg(["borderTop","borderBottom"]),Pg(["borderTop"]),Pg(["borderBottom"]),Pg(["borderLeft","borderRight"]),Pg(["borderLeft"]),Pg(["borderRight"]);function yj(n){return Wz(n)||bU(n)||mO(n)||Xz()}function $u(n,e){for(var t=n,r=0;r<e.length;r+=1){if(t==null)return;t=t[e[r]]}return t}function UU(n,e,t,r){if(!e.length)return t;var a=yj(e),o=a[0],l=a.slice(1),s;return!n&&typeof o=="number"?s=[]:Array.isArray(n)?s=Kt(n):s=Ne({},n),r&&t===void 0&&l.length===1?delete s[o][l[0]]:s[o]=UU(s[o],l,t,r),s}function Rc(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.length&&r&&t===void 0&&!$u(n,e.slice(0,-1))?n:UU(n,e,t,r)}function bj(n){return mn(n)==="object"&&n!==null&&Object.getPrototypeOf(n)===Object.prototype}function UD(n){return Array.isArray(n)?[]:{}}var Sj=typeof Reflect>"u"?Object.keys:Reflect.ownKeys;function Rv(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var r=UD(e[0]);return e.forEach(function(a){function o(l,s){var u=new Set(s),f=$u(a,l),m=Array.isArray(f);if(m||bj(f)){if(!u.has(f)){u.add(f);var y=$u(r,l);m?r=Rc(r,l,[]):(!y||mn(y)!=="object")&&(r=Rc(r,l,UD(f))),Sj(f).forEach(function(_){o([].concat(Kt(l),[_]),u)})}}else r=Rc(r,l,f)}o([])}),r}function _j(){}const xj=w.createContext({}),AO=()=>{const n=()=>{};return n.deprecated=_j,n},Cj=w.createContext(void 0);var Ej={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},wj={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0},Aj=Ne(Ne({},wj),{},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",week:"Week",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",dateFormat:"M/D/YYYY",dateTimeFormat:"M/D/YYYY HH:mm:ss",previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"});const FU={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},FD={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},Aj),timePickerLocale:Object.assign({},FU)},js="${label} is not a valid ${type}",Nh={locale:"en",Pagination:Ej,DatePicker:FD,TimePicker:FU,Calendar:FD,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckAll:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:js,method:js,array:js,object:js,number:js,date:js,boolean:js,integer:js,float:js,regexp:js,email:js,url:js,hex:js},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty",transparent:"Transparent",singleColor:"Single",gradientColor:"Gradient"}};let BC=Object.assign({},Nh.Modal),DC=[];const HD=()=>DC.reduce((n,e)=>Object.assign(Object.assign({},n),e),Nh.Modal);function Mj(n){if(n){const e=Object.assign({},n);return DC.push(e),BC=HD(),()=>{DC=DC.filter(t=>t!==e),BC=HD()}}BC=Object.assign({},Nh.Modal)}function HU(){return BC}const MO=w.createContext(void 0),SS=(n,e)=>{const t=w.useContext(MO),r=w.useMemo(()=>{var o;const l=e||Nh[n],s=(o=t==null?void 0:t[n])!==null&&o!==void 0?o:{};return Object.assign(Object.assign({},typeof l=="function"?l():l),s||{})},[n,e,t]),a=w.useMemo(()=>{const o=t==null?void 0:t.locale;return t!=null&&t.exist&&!o?Nh.locale:o},[t]);return[r,a]},Tj="internalMark",Rj=n=>{const{locale:e={},children:t,_ANT_MARK__:r}=n;w.useEffect(()=>Mj(e==null?void 0:e.Modal),[e]);const a=w.useMemo(()=>Object.assign(Object.assign({},e),{exist:!0}),[e]);return w.createElement(MO.Provider,{value:a},t)},GU={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},qb=Object.assign(Object.assign({},GU),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0});function Oj(n,e){let{generateColorPalettes:t,generateNeutralColorPalettes:r}=e;const{colorSuccess:a,colorWarning:o,colorError:l,colorInfo:s,colorPrimary:u,colorBgBase:f,colorTextBase:m}=n,y=t(u),_=t(a),E=t(o),c=t(l),p=t(s),g=r(f,m),b=n.colorLink||n.colorInfo,C=t(b),T=new Bi(c[1]).mix(new Bi(c[3]),50).toHexString();return Object.assign(Object.assign({},g),{colorPrimaryBg:y[1],colorPrimaryBgHover:y[2],colorPrimaryBorder:y[3],colorPrimaryBorderHover:y[4],colorPrimaryHover:y[5],colorPrimary:y[6],colorPrimaryActive:y[7],colorPrimaryTextHover:y[8],colorPrimaryText:y[9],colorPrimaryTextActive:y[10],colorSuccessBg:_[1],colorSuccessBgHover:_[2],colorSuccessBorder:_[3],colorSuccessBorderHover:_[4],colorSuccessHover:_[4],colorSuccess:_[6],colorSuccessActive:_[7],colorSuccessTextHover:_[8],colorSuccessText:_[9],colorSuccessTextActive:_[10],colorErrorBg:c[1],colorErrorBgHover:c[2],colorErrorBgFilledHover:T,colorErrorBgActive:c[3],colorErrorBorder:c[3],colorErrorBorderHover:c[4],colorErrorHover:c[5],colorError:c[6],colorErrorActive:c[7],colorErrorTextHover:c[8],colorErrorText:c[9],colorErrorTextActive:c[10],colorWarningBg:E[1],colorWarningBgHover:E[2],colorWarningBorder:E[3],colorWarningBorderHover:E[4],colorWarningHover:E[4],colorWarning:E[6],colorWarningActive:E[7],colorWarningTextHover:E[8],colorWarningText:E[9],colorWarningTextActive:E[10],colorInfoBg:p[1],colorInfoBgHover:p[2],colorInfoBorder:p[3],colorInfoBorderHover:p[4],colorInfoHover:p[4],colorInfo:p[6],colorInfoActive:p[7],colorInfoTextHover:p[8],colorInfoText:p[9],colorInfoTextActive:p[10],colorLinkHover:C[4],colorLink:C[6],colorLinkActive:C[7],colorBgMask:new Bi("#000").setA(.45).toRgbString(),colorWhite:"#fff"})}const Ij=n=>{let e=n,t=n,r=n,a=n;return n<6&&n>=5?e=n+1:n<16&&n>=6?e=n+2:n>=16&&(e=16),n<7&&n>=5?t=4:n<8&&n>=7?t=5:n<14&&n>=8?t=6:n<16&&n>=14?t=7:n>=16&&(t=8),n<6&&n>=2?r=1:n>=6&&(r=2),n>4&&n<8?a=4:n>=8&&(a=6),{borderRadius:n,borderRadiusXS:r,borderRadiusSM:t,borderRadiusLG:e,borderRadiusOuter:a}};function Bj(n){const{motionUnit:e,motionBase:t,borderRadius:r,lineWidth:a}=n;return Object.assign({motionDurationFast:`${(t+e).toFixed(1)}s`,motionDurationMid:`${(t+e*2).toFixed(1)}s`,motionDurationSlow:`${(t+e*3).toFixed(1)}s`,lineWidthBold:a+1},Ij(r))}const Dj=n=>{const{controlHeight:e}=n;return{controlHeightSM:e*.75,controlHeightXS:e*.5,controlHeightLG:e*1.25}};function PC(n){return(n+8)/n}function Pj(n){const e=Array.from({length:10}).map((t,r)=>{const a=r-1,o=n*Math.pow(Math.E,a/5),l=r>1?Math.floor(o):Math.ceil(o);return Math.floor(l/2)*2});return e[1]=n,e.map(t=>({size:t,lineHeight:PC(t)}))}const Lj=n=>{const e=Pj(n),t=e.map(m=>m.size),r=e.map(m=>m.lineHeight),a=t[1],o=t[0],l=t[2],s=r[1],u=r[0],f=r[2];return{fontSizeSM:o,fontSize:a,fontSizeLG:l,fontSizeXL:t[3],fontSizeHeading1:t[6],fontSizeHeading2:t[5],fontSizeHeading3:t[4],fontSizeHeading4:t[3],fontSizeHeading5:t[2],lineHeight:s,lineHeightLG:f,lineHeightSM:u,fontHeight:Math.round(s*a),fontHeightLG:Math.round(f*l),fontHeightSM:Math.round(u*o),lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}};function Nj(n){const{sizeUnit:e,sizeStep:t}=n;return{sizeXXL:e*(t+8),sizeXL:e*(t+4),sizeLG:e*(t+2),sizeMD:e*(t+1),sizeMS:e*t,size:e*t,sizeSM:e*(t-1),sizeXS:e*(t-2),sizeXXS:e*(t-3)}}const Rl=(n,e)=>new Bi(n).setA(e).toRgbString(),Ny=(n,e)=>new Bi(n).darken(e).toHexString(),zj=n=>{const e=kb(n);return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[4],6:e[5],7:e[6],8:e[4],9:e[5],10:e[6]}},Uj=(n,e)=>{const t=n||"#fff",r=e||"#000";return{colorBgBase:t,colorTextBase:r,colorText:Rl(r,.88),colorTextSecondary:Rl(r,.65),colorTextTertiary:Rl(r,.45),colorTextQuaternary:Rl(r,.25),colorFill:Rl(r,.15),colorFillSecondary:Rl(r,.06),colorFillTertiary:Rl(r,.04),colorFillQuaternary:Rl(r,.02),colorBgSolid:Rl(r,1),colorBgSolidHover:Rl(r,.75),colorBgSolidActive:Rl(r,.95),colorBgLayout:Ny(t,4),colorBgContainer:Ny(t,0),colorBgElevated:Ny(t,0),colorBgSpotlight:Rl(r,.85),colorBgBlur:"transparent",colorBorder:Ny(t,15),colorBorderSecondary:Ny(t,6)}};function Fj(n){Vv.pink=Vv.magenta,lM.pink=lM.magenta;const e=Object.keys(GU).map(t=>{const r=n[t]===Vv[t]?lM[t]:kb(n[t]);return Array.from({length:10},()=>1).reduce((a,o,l)=>(a[`${t}-${l+1}`]=r[l],a[`${t}${l+1}`]=r[l],a),{})}).reduce((t,r)=>(t=Object.assign(Object.assign({},t),r),t),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n),e),Oj(n,{generateColorPalettes:zj,generateNeutralColorPalettes:Uj})),Lj(n.fontSize)),Nj(n)),Dj(n)),Bj(n))}const kU=LR(Fj),HR={token:qb,override:{override:qb},hashed:!0},$U=Xe.createContext(HR),Kb="ant",ow="anticon",Hj=["outlined","borderless","filled","underlined"],Gj=(n,e)=>e||(n?`${Kb}-${n}`:Kb),Hn=w.createContext({getPrefixCls:Gj,iconPrefixCls:ow}),{Consumer:mye}=Hn,GD={};function nd(n){const e=w.useContext(Hn),{getPrefixCls:t,direction:r,getPopupContainer:a}=e,o=e[n];return Object.assign(Object.assign({classNames:GD,styles:GD},o),{getPrefixCls:t,direction:r,getPopupContainer:a})}const kj=`-ant-${Date.now()}-${Math.random()}`;function $j(n,e){const t={},r=(l,s)=>{let u=l.clone();return u=(s==null?void 0:s(u))||u,u.toRgbString()},a=(l,s)=>{const u=new Bi(l),f=kb(u.toRgbString());t[`${s}-color`]=r(u),t[`${s}-color-disabled`]=f[1],t[`${s}-color-hover`]=f[4],t[`${s}-color-active`]=f[6],t[`${s}-color-outline`]=u.clone().setA(.2).toRgbString(),t[`${s}-color-deprecated-bg`]=f[0],t[`${s}-color-deprecated-border`]=f[2]};if(e.primaryColor){a(e.primaryColor,"primary");const l=new Bi(e.primaryColor),s=kb(l.toRgbString());s.forEach((f,m)=>{t[`primary-${m+1}`]=f}),t["primary-color-deprecated-l-35"]=r(l,f=>f.lighten(35)),t["primary-color-deprecated-l-20"]=r(l,f=>f.lighten(20)),t["primary-color-deprecated-t-20"]=r(l,f=>f.tint(20)),t["primary-color-deprecated-t-50"]=r(l,f=>f.tint(50)),t["primary-color-deprecated-f-12"]=r(l,f=>f.setA(f.a*.12));const u=new Bi(s[0]);t["primary-color-active-deprecated-f-30"]=r(u,f=>f.setA(f.a*.3)),t["primary-color-active-deprecated-d-02"]=r(u,f=>f.darken(2))}return e.successColor&&a(e.successColor,"success"),e.warningColor&&a(e.warningColor,"warning"),e.errorColor&&a(e.errorColor,"error"),e.infoColor&&a(e.infoColor,"info"),`
  :root {
    ${Object.keys(t).map(l=>`--${n}-${l}: ${t[l]};`).join(`
`)}
  }
  `.trim()}function Vj(n,e){const t=$j(n,e);cs()&&af(t,`${kj}-dynamic-theme`)}const Ku=w.createContext(!1),VU=n=>{let{children:e,disabled:t}=n;const r=w.useContext(Ku);return w.createElement(Ku.Provider,{value:t??r},e)},o0=w.createContext(void 0),jj=n=>{let{children:e,size:t}=n;const r=w.useContext(o0);return w.createElement(o0.Provider,{value:t||r},e)};function Wj(){const n=w.useContext(Ku),e=w.useContext(o0);return{componentDisabled:n,componentSize:e}}var jU=oi(function n(){ai(this,n)}),WU="CALC_UNIT",Xj=new RegExp(WU,"g");function pM(n){return typeof n=="number"?"".concat(n).concat(WU):n}var Yj=function(n){Ar(t,n);var e=kc(t);function t(r,a){var o;ai(this,t),o=e.call(this),ue(Dn(o),"result",""),ue(Dn(o),"unitlessCssVar",void 0),ue(Dn(o),"lowPriority",void 0);var l=mn(r);return o.unitlessCssVar=a,r instanceof t?o.result="(".concat(r.result,")"):l==="number"?o.result=pM(r):l==="string"&&(o.result=r),o}return oi(t,[{key:"add",value:function(a){return a instanceof t?this.result="".concat(this.result," + ").concat(a.getResult()):(typeof a=="number"||typeof a=="string")&&(this.result="".concat(this.result," + ").concat(pM(a))),this.lowPriority=!0,this}},{key:"sub",value:function(a){return a instanceof t?this.result="".concat(this.result," - ").concat(a.getResult()):(typeof a=="number"||typeof a=="string")&&(this.result="".concat(this.result," - ").concat(pM(a))),this.lowPriority=!0,this}},{key:"mul",value:function(a){return this.lowPriority&&(this.result="(".concat(this.result,")")),a instanceof t?this.result="".concat(this.result," * ").concat(a.getResult(!0)):(typeof a=="number"||typeof a=="string")&&(this.result="".concat(this.result," * ").concat(a)),this.lowPriority=!1,this}},{key:"div",value:function(a){return this.lowPriority&&(this.result="(".concat(this.result,")")),a instanceof t?this.result="".concat(this.result," / ").concat(a.getResult(!0)):(typeof a=="number"||typeof a=="string")&&(this.result="".concat(this.result," / ").concat(a)),this.lowPriority=!1,this}},{key:"getResult",value:function(a){return this.lowPriority||a?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(a){var o=this,l=a||{},s=l.unit,u=!0;return typeof s=="boolean"?u=s:Array.from(this.unitlessCssVar).some(function(f){return o.result.includes(f)})&&(u=!1),this.result=this.result.replace(Xj,u?"px":""),typeof this.lowPriority<"u"?"calc(".concat(this.result,")"):this.result}}]),t}(jU),qj=function(n){Ar(t,n);var e=kc(t);function t(r){var a;return ai(this,t),a=e.call(this),ue(Dn(a),"result",0),r instanceof t?a.result=r.result:typeof r=="number"&&(a.result=r),a}return oi(t,[{key:"add",value:function(a){return a instanceof t?this.result+=a.result:typeof a=="number"&&(this.result+=a),this}},{key:"sub",value:function(a){return a instanceof t?this.result-=a.result:typeof a=="number"&&(this.result-=a),this}},{key:"mul",value:function(a){return a instanceof t?this.result*=a.result:typeof a=="number"&&(this.result*=a),this}},{key:"div",value:function(a){return a instanceof t?this.result/=a.result:typeof a=="number"&&(this.result/=a),this}},{key:"equal",value:function(){return this.result}}]),t}(jU),Kj=function(e,t){var r=e==="css"?Yj:qj;return function(a){return new r(a,t)}},kD=function(e,t){return"".concat([t,e.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))};function Qa(n){var e=w.useRef();e.current=n;var t=w.useCallback(function(){for(var r,a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(r=e.current)===null||r===void 0?void 0:r.call.apply(r,[e].concat(o))},[]);return t}function s0(n){var e=w.useRef(!1),t=w.useState(n),r=vt(t,2),a=r[0],o=r[1];w.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]);function l(s,u){u&&e.current||o(s)}return[a,l]}function mM(n){return n!==void 0}function mo(n,e){var t=e||{},r=t.defaultValue,a=t.value,o=t.onChange,l=t.postState,s=s0(function(){return mM(a)?a:mM(r)?typeof r=="function"?r():r:typeof n=="function"?n():n}),u=vt(s,2),f=u[0],m=u[1],y=a!==void 0?a:f,_=l?l(y):y,E=Qa(o),c=s0([y]),p=vt(c,2),g=p[0],b=p[1];BD(function(){var T=g[0];f!==T&&E(f,T)},[g]),BD(function(){mM(a)||m(a)},[a]);var C=Qa(function(T,M){m(T,M),b([y],M)});return[_,C]}function $D(n,e,t,r){var a=Ne({},e[n]);if(r!=null&&r.deprecatedTokens){var o=r.deprecatedTokens;o.forEach(function(s){var u=vt(s,2),f=u[0],m=u[1];if(a!=null&&a[f]||a!=null&&a[m]){var y;(y=a[m])!==null&&y!==void 0||(a[m]=a==null?void 0:a[f])}})}var l=Ne(Ne({},t),a);return Object.keys(l).forEach(function(s){l[s]===e[s]&&delete l[s]}),l}var XU=typeof CSSINJS_STATISTIC<"u",GR=!0;function qi(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];if(!XU)return Object.assign.apply(Object,[{}].concat(e));GR=!1;var r={};return e.forEach(function(a){if(mn(a)==="object"){var o=Object.keys(a);o.forEach(function(l){Object.defineProperty(r,l,{configurable:!0,enumerable:!0,get:function(){return a[l]}})})}}),GR=!0,r}var VD={};function Jj(){}var Qj=function(e){var t,r=e,a=Jj;return XU&&typeof Proxy<"u"&&(t=new Set,r=new Proxy(e,{get:function(l,s){if(GR){var u;(u=t)===null||u===void 0||u.add(s)}return l[s]}}),a=function(l,s){var u;VD[l]={global:Array.from(t),component:Ne(Ne({},(u=VD[l])===null||u===void 0?void 0:u.component),s)}}),{token:r,keys:t,flush:a}};function jD(n,e,t){if(typeof t=="function"){var r;return t(qi(e,(r=e[n])!==null&&r!==void 0?r:{}))}return t??{}}function Zj(n){return n==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return"max(".concat(r.map(function(o){return Mt(o)}).join(","),")")},min:function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return"min(".concat(r.map(function(o){return Mt(o)}).join(","),")")}}}var e7=1e3*60*10,t7=function(){function n(){ai(this,n),ue(this,"map",new Map),ue(this,"objectIDMap",new WeakMap),ue(this,"nextID",0),ue(this,"lastAccessBeat",new Map),ue(this,"accessBeat",0)}return oi(n,[{key:"set",value:function(t,r){this.clear();var a=this.getCompositeKey(t);this.map.set(a,r),this.lastAccessBeat.set(a,Date.now())}},{key:"get",value:function(t){var r=this.getCompositeKey(t),a=this.map.get(r);return this.lastAccessBeat.set(r,Date.now()),this.accessBeat+=1,a}},{key:"getCompositeKey",value:function(t){var r=this,a=t.map(function(o){return o&&mn(o)==="object"?"obj_".concat(r.getObjectID(o)):"".concat(mn(o),"_").concat(o)});return a.join("|")}},{key:"getObjectID",value:function(t){if(this.objectIDMap.has(t))return this.objectIDMap.get(t);var r=this.nextID;return this.objectIDMap.set(t,r),this.nextID+=1,r}},{key:"clear",value:function(){var t=this;if(this.accessBeat>1e4){var r=Date.now();this.lastAccessBeat.forEach(function(a,o){r-a>e7&&(t.map.delete(o),t.lastAccessBeat.delete(o))}),this.accessBeat=0}}}]),n}(),WD=new t7;function n7(n,e){return Xe.useMemo(function(){var t=WD.get(e);if(t)return t;var r=n();return WD.set(e,r),r},e)}var i7=function(){return{}};function r7(n){var e=n.useCSP,t=e===void 0?i7:e,r=n.useToken,a=n.usePrefix,o=n.getResetStyles,l=n.getCommonStyle,s=n.getCompUnitless;function u(_,E,c,p){var g=Array.isArray(_)?_[0]:_;function b(F){return"".concat(String(g)).concat(F.slice(0,1).toUpperCase()).concat(F.slice(1))}var C=(p==null?void 0:p.unitless)||{},T=typeof s=="function"?s(_):{},M=Ne(Ne({},T),{},ue({},b("zIndexPopup"),!0));Object.keys(C).forEach(function(F){M[b(F)]=C[F]});var O=Ne(Ne({},p),{},{unitless:M,prefixToken:b}),B=m(_,E,c,O),P=f(g,c,O);return function(F){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:F,z=B(F,U),$=vt(z,2),J=$[1],W=P(U),Q=vt(W,2),ae=Q[0],Y=Q[1];return[ae,J,Y]}}function f(_,E,c){var p=c.unitless,g=c.injectStyle,b=g===void 0?!0:g,C=c.prefixToken,T=c.ignore,M=function(P){var F=P.rootCls,U=P.cssVar,z=U===void 0?{}:U,$=r(),J=$.realToken;return gj({path:[_],prefix:z.prefix,key:z.key,unitless:p,ignore:T,token:J,scope:F},function(){var W=jD(_,J,E),Q=$D(_,J,W,{deprecatedTokens:c==null?void 0:c.deprecatedTokens});return Object.keys(W).forEach(function(ae){Q[C(ae)]=Q[ae],delete Q[ae]}),Q}),null},O=function(P){var F=r(),U=F.cssVar;return[function(z){return b&&U?Xe.createElement(Xe.Fragment,null,Xe.createElement(M,{rootCls:P,cssVar:U,component:_}),z):z},U==null?void 0:U.key]};return O}function m(_,E,c){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},g=Array.isArray(_)?_:[_,_],b=vt(g,1),C=b[0],T=g.join("-"),M=n.layer||{name:"antd"};return function(O){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:O,P=r(),F=P.theme,U=P.realToken,z=P.hashId,$=P.token,J=P.cssVar,W=a(),Q=W.rootPrefixCls,ae=W.iconPrefixCls,Y=t(),K=J?"css":"js",ee=n7(function(){var Z=new Set;return J&&Object.keys(p.unitless||{}).forEach(function(pe){Z.add(MC(pe,J.prefix)),Z.add(MC(pe,kD(C,J.prefix)))}),Kj(K,Z)},[K,C,J==null?void 0:J.prefix]),de=Zj(K),q=de.max,ie=de.min,he={theme:F,token:$,hashId:z,nonce:function(){return Y.nonce},clientOnly:p.clientOnly,layer:M,order:p.order||-999};typeof o=="function"&&FR(Ne(Ne({},he),{},{clientOnly:!1,path:["Shared",Q]}),function(){return o($,{prefix:{rootPrefixCls:Q,iconPrefixCls:ae},csp:Y})});var fe=FR(Ne(Ne({},he),{},{path:[T,O,ae]}),function(){if(p.injectStyle===!1)return[];var Z=Qj($),pe=Z.token,_e=Z.flush,Oe=jD(C,U,c),we=".".concat(O),Te=$D(C,U,Oe,{deprecatedTokens:p.deprecatedTokens});J&&Oe&&mn(Oe)==="object"&&Object.keys(Oe).forEach(function(xe){Oe[xe]="var(".concat(MC(xe,kD(C,J.prefix)),")")});var ze=qi(pe,{componentCls:we,prefixCls:O,iconCls:".".concat(ae),antCls:".".concat(Q),calc:ee,max:q,min:ie},J?Oe:Te),yt=E(ze,{hashId:z,prefixCls:O,rootPrefixCls:Q,iconPrefixCls:ae});_e(C,Te);var Be=typeof l=="function"?l(ze,O,B,p.resetFont):null;return[p.resetStyle===!1?null:Be,yt]});return[fe,z]}}function y(_,E,c){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},g=m(_,E,c,Ne({resetStyle:!1,order:-998},p)),b=function(T){var M=T.prefixCls,O=T.rootCls,B=O===void 0?M:O;return g(M,B),null};return b}return{genStyleHooks:u,genSubStyleComponent:y,genComponentStyleHook:m}}const zh=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"],a7="5.24.3";function gM(n){return n>=0&&n<=255}function rb(n,e){const{r:t,g:r,b:a,a:o}=new Bi(n).toRgb();if(o<1)return n;const{r:l,g:s,b:u}=new Bi(e).toRgb();for(let f=.01;f<=1;f+=.01){const m=Math.round((t-l*(1-f))/f),y=Math.round((r-s*(1-f))/f),_=Math.round((a-u*(1-f))/f);if(gM(m)&&gM(y)&&gM(_))return new Bi({r:m,g:y,b:_,a:Math.round(f*100)/100}).toRgbString()}return new Bi({r:t,g:r,b:a,a:1}).toRgbString()}var o7=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};function YU(n){const{override:e}=n,t=o7(n,["override"]),r=Object.assign({},e);Object.keys(qb).forEach(_=>{delete r[_]});const a=Object.assign(Object.assign({},t),r),o=480,l=576,s=768,u=992,f=1200,m=1600;if(a.motion===!1){const _="0s";a.motionDurationFast=_,a.motionDurationMid=_,a.motionDurationSlow=_}return Object.assign(Object.assign(Object.assign({},a),{colorFillContent:a.colorFillSecondary,colorFillContentHover:a.colorFill,colorFillAlter:a.colorFillQuaternary,colorBgContainerDisabled:a.colorFillTertiary,colorBorderBg:a.colorBgContainer,colorSplit:rb(a.colorBorderSecondary,a.colorBgContainer),colorTextPlaceholder:a.colorTextQuaternary,colorTextDisabled:a.colorTextQuaternary,colorTextHeading:a.colorText,colorTextLabel:a.colorTextSecondary,colorTextDescription:a.colorTextTertiary,colorTextLightSolid:a.colorWhite,colorHighlight:a.colorError,colorBgTextHover:a.colorFillSecondary,colorBgTextActive:a.colorFill,colorIcon:a.colorTextTertiary,colorIconHover:a.colorText,colorErrorOutline:rb(a.colorErrorBg,a.colorBgContainer),colorWarningOutline:rb(a.colorWarningBg,a.colorBgContainer),fontSizeIcon:a.fontSizeSM,lineWidthFocus:a.lineWidth*3,lineWidth:a.lineWidth,controlOutlineWidth:a.lineWidth*2,controlInteractiveSize:a.controlHeight/2,controlItemBgHover:a.colorFillTertiary,controlItemBgActive:a.colorPrimaryBg,controlItemBgActiveHover:a.colorPrimaryBgHover,controlItemBgActiveDisabled:a.colorFill,controlTmpOutline:a.colorFillQuaternary,controlOutline:rb(a.colorPrimaryBg,a.colorBgContainer),lineType:a.lineType,borderRadius:a.borderRadius,borderRadiusXS:a.borderRadiusXS,borderRadiusSM:a.borderRadiusSM,borderRadiusLG:a.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:a.sizeXXS,paddingXS:a.sizeXS,paddingSM:a.sizeSM,padding:a.size,paddingMD:a.sizeMD,paddingLG:a.sizeLG,paddingXL:a.sizeXL,paddingContentHorizontalLG:a.sizeLG,paddingContentVerticalLG:a.sizeMS,paddingContentHorizontal:a.sizeMS,paddingContentVertical:a.sizeSM,paddingContentHorizontalSM:a.size,paddingContentVerticalSM:a.sizeXS,marginXXS:a.sizeXXS,marginXS:a.sizeXS,marginSM:a.sizeSM,margin:a.size,marginMD:a.sizeMD,marginLG:a.sizeLG,marginXL:a.sizeXL,marginXXL:a.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:o,screenXSMin:o,screenXSMax:l-1,screenSM:l,screenSMMin:l,screenSMMax:s-1,screenMD:s,screenMDMin:s,screenMDMax:u-1,screenLG:u,screenLGMin:u,screenLGMax:f-1,screenXL:f,screenXLMin:f,screenXLMax:m-1,screenXXL:m,screenXXLMin:m,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new Bi("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new Bi("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new Bi("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}var XD=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const qU={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},s7={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},l7={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},KU=(n,e,t)=>{const r=t.getDerivativeToken(n),{override:a}=e,o=XD(e,["override"]);let l=Object.assign(Object.assign({},r),{override:a});return l=YU(l),o&&Object.entries(o).forEach(s=>{let[u,f]=s;const{theme:m}=f,y=XD(f,["theme"]);let _=y;m&&(_=KU(Object.assign(Object.assign({},l),y),{override:y},m)),l[u]=_}),l};function id(){const{token:n,hashed:e,theme:t,override:r,cssVar:a}=Xe.useContext($U),o=`${a7}-${e||""}`,l=t||kU,[s,u,f]=k9(l,[qb,n],{salt:o,override:r,getComputedToken:KU,formatToken:YU,cssVar:a&&{prefix:a.prefix,key:a.key,unitless:qU,ignore:s7,preserve:l7}});return[l,f,e?u:"",s,a]}const sw={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},Uo=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{boxSizing:"border-box",margin:0,padding:0,color:n.colorText,fontSize:n.fontSize,lineHeight:n.lineHeight,listStyle:"none",fontFamily:e?"inherit":n.fontFamily}},TO=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),l0=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),c7=n=>({a:{color:n.colorLink,textDecoration:n.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${n.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:n.colorLinkHover},"&:active":{color:n.colorLinkActive},"&:active, &:hover":{textDecoration:n.linkHoverDecoration,outline:0},"&:focus":{textDecoration:n.linkFocusDecoration,outline:0},"&[disabled]":{color:n.colorTextDisabled,cursor:"not-allowed"}}}),u7=(n,e,t,r)=>{const a=`[class^="${e}"], [class*=" ${e}"]`,o=t?`.${t}`:a,l={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let s={};return r!==!1&&(s={fontFamily:n.fontFamily,fontSize:n.fontSize}),{[o]:Object.assign(Object.assign(Object.assign({},s),l),{[a]:l})}},lw=(n,e)=>({outline:`${Mt(n.lineWidthFocus)} solid ${n.colorPrimaryBorder}`,outlineOffset:e??1,transition:"outline-offset 0s, outline 0s"}),RO=(n,e)=>({"&:focus-visible":Object.assign({},lw(n,e))}),JU=n=>({[`.${n}`]:Object.assign(Object.assign({},TO()),{[`.${n} .${n}-icon`]:{display:"block"}})}),{genStyleHooks:Nr,genComponentStyleHook:d7,genSubStyleComponent:cw}=r7({usePrefix:()=>{const{getPrefixCls:n,iconPrefixCls:e}=w.useContext(Hn);return{rootPrefixCls:n(),iconPrefixCls:e}},useToken:()=>{const[n,e,t,r,a]=id();return{theme:n,realToken:e,hashId:t,token:r,cssVar:a}},useCSP:()=>{const{csp:n}=w.useContext(Hn);return n??{}},getResetStyles:(n,e)=>{var t;const r=c7(n);return[r,{"&":r},JU((t=e==null?void 0:e.prefix.iconPrefixCls)!==null&&t!==void 0?t:ow)]},getCommonStyle:u7,getCompUnitless:()=>qU});function QU(n,e){return zh.reduce((t,r)=>{const a=n[`${r}1`],o=n[`${r}3`],l=n[`${r}6`],s=n[`${r}7`];return Object.assign(Object.assign({},t),e(r,{lightColor:a,lightBorderColor:o,darkColor:l,textColor:s}))},{})}const f7=(n,e)=>{const[t,r]=id();return FR({token:r,hashId:"",path:["ant-design-icons",n],nonce:()=>e==null?void 0:e.nonce,layer:{name:"antd"}},()=>[JU(n)])},h7=Object.assign({},QE),{useId:YD}=h7,p7=()=>"",m7=typeof YD>"u"?p7:YD;function g7(n,e,t){var r;AO();const a=n||{},o=a.inherit===!1||!e?Object.assign(Object.assign({},HR),{hashed:(r=e==null?void 0:e.hashed)!==null&&r!==void 0?r:HR.hashed,cssVar:e==null?void 0:e.cssVar}):e,l=m7();return tw(()=>{var s,u;if(!n)return e;const f=Object.assign({},o.components);Object.keys(n.components||{}).forEach(_=>{f[_]=Object.assign(Object.assign({},f[_]),n.components[_])});const m=`css-var-${l.replace(/:/g,"")}`,y=((s=a.cssVar)!==null&&s!==void 0?s:o.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:t==null?void 0:t.prefixCls},typeof o.cssVar=="object"?o.cssVar:{}),typeof a.cssVar=="object"?a.cssVar:{}),{key:typeof a.cssVar=="object"&&((u=a.cssVar)===null||u===void 0?void 0:u.key)||m});return Object.assign(Object.assign(Object.assign({},o),a),{token:Object.assign(Object.assign({},o.token),a.token),components:f,cssVar:y})},[a,o],(s,u)=>s.some((f,m)=>{const y=u[m];return!n0(f,y,!0)}))}var v7=["children"],ZU=w.createContext({});function y7(n){var e=n.children,t=kn(n,v7);return w.createElement(ZU.Provider,{value:t},e)}var b7=function(n){Ar(t,n);var e=kc(t);function t(){return ai(this,t),e.apply(this,arguments)}return oi(t,[{key:"render",value:function(){return this.props.children}}]),t}(w.Component);function S7(n){var e=w.useReducer(function(s){return s+1},0),t=vt(e,2),r=t[1],a=w.useRef(n),o=Qa(function(){return a.current}),l=Qa(function(s){a.current=typeof s=="function"?s(a.current):s,r()});return[o,l]}var mh="none",fx="appear",hx="enter",px="leave",qD="none",Oc="prepare",Ov="start",Iv="active",OO="end",eF="prepared";function KD(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit".concat(n)]="webkit".concat(e),t["Moz".concat(n)]="moz".concat(e),t["ms".concat(n)]="MS".concat(e),t["O".concat(n)]="o".concat(e.toLowerCase()),t}function _7(n,e){var t={animationend:KD("Animation","AnimationEnd"),transitionend:KD("Transition","TransitionEnd")};return n&&("AnimationEvent"in e||delete t.animationend.animation,"TransitionEvent"in e||delete t.transitionend.transition),t}var x7=_7(cs(),typeof window<"u"?window:{}),tF={};if(cs()){var C7=document.createElement("div");tF=C7.style}var mx={};function nF(n){if(mx[n])return mx[n];var e=x7[n];if(e)for(var t=Object.keys(e),r=t.length,a=0;a<r;a+=1){var o=t[a];if(Object.prototype.hasOwnProperty.call(e,o)&&o in tF)return mx[n]=e[o],mx[n]}return""}var iF=nF("animationend"),rF=nF("transitionend"),aF=!!(iF&&rF),JD=iF||"animationend",QD=rF||"transitionend";function ZD(n,e){if(!n)return null;if(mn(n)==="object"){var t=e.replace(/-\w/g,function(r){return r[1].toUpperCase()});return n[t]}return"".concat(n,"-").concat(e)}const E7=function(n){var e=w.useRef();function t(a){a&&(a.removeEventListener(QD,n),a.removeEventListener(JD,n))}function r(a){e.current&&e.current!==a&&t(e.current),a&&a!==e.current&&(a.addEventListener(QD,n),a.addEventListener(JD,n),e.current=a)}return w.useEffect(function(){return function(){t(e.current)}},[]),[r,t]};var oF=cs()?w.useLayoutEffect:w.useEffect;const w7=function(){var n=w.useRef(null);function e(){Da.cancel(n.current)}function t(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;e();var o=Da(function(){a<=1?r({isCanceled:function(){return o!==n.current}}):t(r,a-1)});n.current=o}return w.useEffect(function(){return function(){e()}},[]),[t,e]};var A7=[Oc,Ov,Iv,OO],M7=[Oc,eF],sF=!1,T7=!0;function lF(n){return n===Iv||n===OO}const R7=function(n,e,t){var r=s0(qD),a=vt(r,2),o=a[0],l=a[1],s=w7(),u=vt(s,2),f=u[0],m=u[1];function y(){l(Oc,!0)}var _=e?M7:A7;return oF(function(){if(o!==qD&&o!==OO){var E=_.indexOf(o),c=_[E+1],p=t(o);p===sF?l(c,!0):c&&f(function(g){function b(){g.isCanceled()||l(c,!0)}p===!0?b():Promise.resolve(p).then(b)})}},[n,o]),w.useEffect(function(){return function(){m()}},[]),[y,o]};function O7(n,e,t,r){var a=r.motionEnter,o=a===void 0?!0:a,l=r.motionAppear,s=l===void 0?!0:l,u=r.motionLeave,f=u===void 0?!0:u,m=r.motionDeadline,y=r.motionLeaveImmediately,_=r.onAppearPrepare,E=r.onEnterPrepare,c=r.onLeavePrepare,p=r.onAppearStart,g=r.onEnterStart,b=r.onLeaveStart,C=r.onAppearActive,T=r.onEnterActive,M=r.onLeaveActive,O=r.onAppearEnd,B=r.onEnterEnd,P=r.onLeaveEnd,F=r.onVisibleChanged,U=s0(),z=vt(U,2),$=z[0],J=z[1],W=S7(mh),Q=vt(W,2),ae=Q[0],Y=Q[1],K=s0(null),ee=vt(K,2),de=ee[0],q=ee[1],ie=ae(),he=w.useRef(!1),fe=w.useRef(null);function Z(){return t()}var pe=w.useRef(!1);function _e(){Y(mh),q(null,!0)}var Oe=Qa(function(ce){var oe=ae();if(oe!==mh){var Ee=Z();if(!(ce&&!ce.deadline&&ce.target!==Ee)){var De=pe.current,Ke;oe===fx&&De?Ke=O==null?void 0:O(Ee,ce):oe===hx&&De?Ke=B==null?void 0:B(Ee,ce):oe===px&&De&&(Ke=P==null?void 0:P(Ee,ce)),De&&Ke!==!1&&_e()}}}),we=E7(Oe),Te=vt(we,1),ze=Te[0],yt=function(oe){switch(oe){case fx:return ue(ue(ue({},Oc,_),Ov,p),Iv,C);case hx:return ue(ue(ue({},Oc,E),Ov,g),Iv,T);case px:return ue(ue(ue({},Oc,c),Ov,b),Iv,M);default:return{}}},Be=w.useMemo(function(){return yt(ie)},[ie]),xe=R7(ie,!n,function(ce){if(ce===Oc){var oe=Be[Oc];return oe?oe(Z()):sF}if(Ie in Be){var Ee;q(((Ee=Be[Ie])===null||Ee===void 0?void 0:Ee.call(Be,Z(),null))||null)}return Ie===Iv&&ie!==mh&&(ze(Z()),m>0&&(clearTimeout(fe.current),fe.current=setTimeout(function(){Oe({deadline:!0})},m))),Ie===eF&&_e(),T7}),re=vt(xe,2),Fe=re[0],Ie=re[1],qe=lF(Ie);pe.current=qe;var $e=w.useRef(null);oF(function(){if(!(he.current&&$e.current===e)){J(e);var ce=he.current;he.current=!0;var oe;!ce&&e&&s&&(oe=fx),ce&&e&&o&&(oe=hx),(ce&&!e&&f||!ce&&y&&!e&&f)&&(oe=px);var Ee=yt(oe);oe&&(n||Ee[Oc])?(Y(oe),Fe()):Y(mh),$e.current=e}},[e]),w.useEffect(function(){(ie===fx&&!s||ie===hx&&!o||ie===px&&!f)&&Y(mh)},[s,o,f]),w.useEffect(function(){return function(){he.current=!1,clearTimeout(fe.current)}},[]);var ct=w.useRef(!1);w.useEffect(function(){$&&(ct.current=!0),$!==void 0&&ie===mh&&((ct.current||$)&&(F==null||F($)),ct.current=!0)},[$,ie]);var st=de;return Be[Oc]&&Ie===Ov&&(st=Ne({transition:"none"},st)),[ie,Ie,st,$??e]}function I7(n){var e=n;mn(n)==="object"&&(e=n.transitionSupport);function t(a,o){return!!(a.motionName&&e&&o!==!1)}var r=w.forwardRef(function(a,o){var l=a.visible,s=l===void 0?!0:l,u=a.removeOnLeave,f=u===void 0?!0:u,m=a.forceRender,y=a.children,_=a.motionName,E=a.leavedClassName,c=a.eventProps,p=w.useContext(ZU),g=p.motion,b=t(a,g),C=w.useRef(),T=w.useRef();function M(){try{return C.current instanceof HTMLElement?C.current:AC(T.current)}catch{return null}}var O=O7(b,s,M,a),B=vt(O,4),P=B[0],F=B[1],U=B[2],z=B[3],$=w.useRef(z);z&&($.current=!0);var J=w.useCallback(function(ee){C.current=ee,bO(o,ee)},[o]),W,Q=Ne(Ne({},c),{},{visible:s});if(!y)W=null;else if(P===mh)z?W=y(Ne({},Q),J):!f&&$.current&&E?W=y(Ne(Ne({},Q),{},{className:E}),J):m||!f&&!E?W=y(Ne(Ne({},Q),{},{style:{display:"none"}}),J):W=null;else{var ae;F===Oc?ae="prepare":lF(F)?ae="active":F===Ov&&(ae="start");var Y=ZD(_,"".concat(P,"-").concat(ae));W=y(Ne(Ne({},Q),{},{className:Je(ZD(_,P),ue(ue({},Y,Y&&ae),_,typeof _=="string")),style:U}),J)}if(w.isValidElement(W)&&yS(W)){var K=nw(W);K||(W=w.cloneElement(W,{ref:J}))}return w.createElement(b7,{ref:T},W)});return r.displayName="CSSMotion",r}const $c=I7(aF);var kR="add",$R="keep",VR="remove",vM="removed";function B7(n){var e;return n&&mn(n)==="object"&&"key"in n?e=n:e={key:n},Ne(Ne({},e),{},{key:String(e.key)})}function jR(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return n.map(B7)}function D7(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=[],r=0,a=e.length,o=jR(n),l=jR(e);o.forEach(function(f){for(var m=!1,y=r;y<a;y+=1){var _=l[y];if(_.key===f.key){r<y&&(t=t.concat(l.slice(r,y).map(function(E){return Ne(Ne({},E),{},{status:kR})})),r=y),t.push(Ne(Ne({},_),{},{status:$R})),r+=1,m=!0;break}}m||t.push(Ne(Ne({},f),{},{status:VR}))}),r<a&&(t=t.concat(l.slice(r).map(function(f){return Ne(Ne({},f),{},{status:kR})})));var s={};t.forEach(function(f){var m=f.key;s[m]=(s[m]||0)+1});var u=Object.keys(s).filter(function(f){return s[f]>1});return u.forEach(function(f){t=t.filter(function(m){var y=m.key,_=m.status;return y!==f||_!==VR}),t.forEach(function(m){m.key===f&&(m.status=$R)})}),t}var P7=["component","children","onVisibleChanged","onAllRemoved"],L7=["status"],N7=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function z7(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$c,t=function(r){Ar(o,r);var a=kc(o);function o(){var l;ai(this,o);for(var s=arguments.length,u=new Array(s),f=0;f<s;f++)u[f]=arguments[f];return l=a.call.apply(a,[this].concat(u)),ue(Dn(l),"state",{keyEntities:[]}),ue(Dn(l),"removeKey",function(m){l.setState(function(y){var _=y.keyEntities.map(function(E){return E.key!==m?E:Ne(Ne({},E),{},{status:vM})});return{keyEntities:_}},function(){var y=l.state.keyEntities,_=y.filter(function(E){var c=E.status;return c!==vM}).length;_===0&&l.props.onAllRemoved&&l.props.onAllRemoved()})}),l}return oi(o,[{key:"render",value:function(){var s=this,u=this.state.keyEntities,f=this.props,m=f.component,y=f.children,_=f.onVisibleChanged;f.onAllRemoved;var E=kn(f,P7),c=m||w.Fragment,p={};return N7.forEach(function(g){p[g]=E[g],delete E[g]}),delete E.keys,w.createElement(c,E,u.map(function(g,b){var C=g.status,T=kn(g,L7),M=C===kR||C===$R;return w.createElement(e,Pt({},p,{key:T.key,visible:M,eventProps:T,onVisibleChanged:function(B){_==null||_(B,{key:T.key}),B||s.removeKey(T.key)}}),function(O,B){return y(Ne(Ne({},O),{},{index:b}),B)})}))}}],[{key:"getDerivedStateFromProps",value:function(s,u){var f=s.keys,m=u.keyEntities,y=jR(f),_=D7(m,y);return{keyEntities:_.filter(function(E){var c=m.find(function(p){var g=p.key;return E.key===g});return!(c&&c.status===vM&&E.status===VR)})}}}]),o}(w.Component);return ue(t,"defaultProps",{component:"div"}),t}const cF=z7(aF);function U7(n){const{children:e}=n,[,t]=id(),{motion:r}=t,a=w.useRef(!1);return a.current=a.current||r===!1,a.current?w.createElement(y7,{motion:r},e):e}const F7=()=>null;var H7=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const G7=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"];let B1,uF,dF,fF;function LC(){return B1||Kb}function k7(){return uF||ow}function $7(n){return Object.keys(n).some(e=>e.endsWith("Color"))}const V7=n=>{const{prefixCls:e,iconPrefixCls:t,theme:r,holderRender:a}=n;e!==void 0&&(B1=e),t!==void 0&&(uF=t),"holderRender"in n&&(fF=a),r&&($7(r)?Vj(LC(),r):dF=r)},hF=()=>({getPrefixCls:(n,e)=>e||(n?`${LC()}-${n}`:LC()),getIconPrefixCls:k7,getRootPrefixCls:()=>B1||LC(),getTheme:()=>dF,holderRender:fF}),j7=n=>{const{children:e,csp:t,autoInsertSpaceInButton:r,alert:a,anchor:o,form:l,locale:s,componentSize:u,direction:f,space:m,splitter:y,virtual:_,dropdownMatchSelectWidth:E,popupMatchSelectWidth:c,popupOverflow:p,legacyLocale:g,parentContext:b,iconPrefixCls:C,theme:T,componentDisabled:M,segmented:O,statistic:B,spin:P,calendar:F,carousel:U,cascader:z,collapse:$,typography:J,checkbox:W,descriptions:Q,divider:ae,drawer:Y,skeleton:K,steps:ee,image:de,layout:q,list:ie,mentions:he,modal:fe,progress:Z,result:pe,slider:_e,breadcrumb:Oe,menu:we,pagination:Te,input:ze,textArea:yt,empty:Be,badge:xe,radio:re,rate:Fe,switch:Ie,transfer:qe,avatar:$e,message:ct,tag:st,table:ce,card:oe,tabs:Ee,timeline:De,timePicker:Ke,upload:He,notification:gt,tree:lt,colorPicker:pt,datePicker:It,rangePicker:ot,flex:_t,wave:Ct,dropdown:We,warning:rt,tour:Se,tooltip:Ge,popover:St,popconfirm:Ae,floatButtonGroup:xt,variant:et,inputNumber:mt,treeSelect:Nt}=n,Bt=w.useCallback((wn,Mn)=>{const{prefixCls:Qn}=n;if(Mn)return Mn;const un=Qn||b.getPrefixCls("");return wn?`${un}-${wn}`:un},[b.getPrefixCls,n.prefixCls]),Qt=C||b.iconPrefixCls||ow,sn=t||b.csp;f7(Qt,sn);const Yt=g7(T,b.theme,{prefixCls:Bt("")}),Lt={csp:sn,autoInsertSpaceInButton:r,alert:a,anchor:o,locale:s||g,direction:f,space:m,splitter:y,virtual:_,popupMatchSelectWidth:c??E,popupOverflow:p,getPrefixCls:Bt,iconPrefixCls:Qt,theme:Yt,segmented:O,statistic:B,spin:P,calendar:F,carousel:U,cascader:z,collapse:$,typography:J,checkbox:W,descriptions:Q,divider:ae,drawer:Y,skeleton:K,steps:ee,image:de,input:ze,textArea:yt,layout:q,list:ie,mentions:he,modal:fe,progress:Z,result:pe,slider:_e,breadcrumb:Oe,menu:we,pagination:Te,empty:Be,badge:xe,radio:re,rate:Fe,switch:Ie,transfer:qe,avatar:$e,message:ct,tag:st,table:ce,card:oe,tabs:Ee,timeline:De,timePicker:Ke,upload:He,notification:gt,tree:lt,colorPicker:pt,datePicker:It,rangePicker:ot,flex:_t,wave:Ct,dropdown:We,warning:rt,tour:Se,tooltip:Ge,popover:St,popconfirm:Ae,floatButtonGroup:xt,variant:et,inputNumber:mt,treeSelect:Nt},Xt=Object.assign({},b);Object.keys(Lt).forEach(wn=>{Lt[wn]!==void 0&&(Xt[wn]=Lt[wn])}),G7.forEach(wn=>{const Mn=n[wn];Mn&&(Xt[wn]=Mn)}),typeof r<"u"&&(Xt.button=Object.assign({autoInsertSpace:r},Xt.button));const yn=tw(()=>Xt,Xt,(wn,Mn)=>{const Qn=Object.keys(wn),un=Object.keys(Mn);return Qn.length!==un.length||Qn.some(ii=>wn[ii]!==Mn[ii])}),{layer:lr}=w.useContext(bS),Jr=w.useMemo(()=>({prefixCls:Qt,csp:sn,layer:lr?"antd":void 0}),[Qt,sn,lr]);let zn=w.createElement(w.Fragment,null,w.createElement(F7,{dropdownMatchSelectWidth:E}),e);const Ai=w.useMemo(()=>{var wn,Mn,Qn,un;return Rv(((wn=Nh.Form)===null||wn===void 0?void 0:wn.defaultValidateMessages)||{},((Qn=(Mn=yn.locale)===null||Mn===void 0?void 0:Mn.Form)===null||Qn===void 0?void 0:Qn.defaultValidateMessages)||{},((un=yn.form)===null||un===void 0?void 0:un.validateMessages)||{},(l==null?void 0:l.validateMessages)||{})},[yn,l==null?void 0:l.validateMessages]);Object.keys(Ai).length>0&&(zn=w.createElement(Cj.Provider,{value:Ai},zn)),s&&(zn=w.createElement(Rj,{locale:s,_ANT_MARK__:Tj},zn)),zn=w.createElement(pO.Provider,{value:Jr},zn),u&&(zn=w.createElement(jj,{size:u},zn)),zn=w.createElement(U7,null,zn);const Sr=w.useMemo(()=>{const wn=Yt||{},{algorithm:Mn,token:Qn,components:un,cssVar:ii}=wn,ln=H7(wn,["algorithm","token","components","cssVar"]),zr=Mn&&(!Array.isArray(Mn)||Mn.length>0)?LR(Mn):kU,Ur={};Object.entries(un||{}).forEach(Or=>{let[cr,_r]=Or;const le=Object.assign({},_r);"algorithm"in le&&(le.algorithm===!0?le.theme=zr:(Array.isArray(le.algorithm)||typeof le.algorithm=="function")&&(le.theme=LR(le.algorithm)),delete le.algorithm),Ur[cr]=le});const Rr=Object.assign(Object.assign({},qb),Qn);return Object.assign(Object.assign({},ln),{theme:zr,token:Rr,components:Ur,override:Object.assign({override:Rr},Ur),cssVar:ii})},[Yt]);return T&&(zn=w.createElement($U.Provider,{value:Sr},zn)),yn.warning&&(zn=w.createElement(xj.Provider,{value:yn.warning},zn)),M!==void 0&&(zn=w.createElement(VU,{disabled:M},zn)),w.createElement(Hn.Provider,{value:yn},zn)},bf=n=>{const e=w.useContext(Hn),t=w.useContext(MO);return w.createElement(j7,Object.assign({parentContext:e,legacyLocale:t},n))};bf.ConfigContext=Hn;bf.SizeContext=o0;bf.config=V7;bf.useConfig=Wj;Object.defineProperty(bf,"SizeContext",{get:()=>o0});var W7=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,X7=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,Y7="".concat(W7," ").concat(X7).split(/[\s\n]+/),q7="aria-",K7="data-";function eP(n,e){return n.indexOf(e)===0}function zm(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t;e===!1?t={aria:!0,data:!0,attr:!0}:e===!0?t={aria:!0}:t=Ne({},e);var r={};return Object.keys(n).forEach(function(a){(t.aria&&(a==="role"||eP(a,q7))||t.data&&eP(a,K7)||t.attr&&Y7.includes(a))&&(r[a]=n[a])}),r}function pF(n){return n&&Xe.isValidElement(n)&&n.type===Xe.Fragment}const mF=(n,e,t)=>Xe.isValidElement(n)?Xe.cloneElement(n,typeof t=="function"?t(n.props||{}):t):e;function il(n,e){return mF(n,n,e)}const ol=n=>{const[,,,,e]=id();return e?`${n}-css-var`:""};var to={TAB:9,ENTER:13,ESC:27,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40},gF=w.forwardRef(function(n,e){var t=n.prefixCls,r=n.style,a=n.className,o=n.duration,l=o===void 0?4.5:o,s=n.showProgress,u=n.pauseOnHover,f=u===void 0?!0:u,m=n.eventKey,y=n.content,_=n.closable,E=n.closeIcon,c=E===void 0?"x":E,p=n.props,g=n.onClick,b=n.onNoticeClose,C=n.times,T=n.hovering,M=w.useState(!1),O=vt(M,2),B=O[0],P=O[1],F=w.useState(0),U=vt(F,2),z=U[0],$=U[1],J=w.useState(0),W=vt(J,2),Q=W[0],ae=W[1],Y=T||B,K=l>0&&s,ee=function(){b(m)},de=function(pe){(pe.key==="Enter"||pe.code==="Enter"||pe.keyCode===to.ENTER)&&ee()};w.useEffect(function(){if(!Y&&l>0){var Z=Date.now()-Q,pe=setTimeout(function(){ee()},l*1e3-Q);return function(){f&&clearTimeout(pe),ae(Date.now()-Z)}}},[l,Y,C]),w.useEffect(function(){if(!Y&&K&&(f||Q===0)){var Z=performance.now(),pe,_e=function Oe(){cancelAnimationFrame(pe),pe=requestAnimationFrame(function(we){var Te=we+Q-Z,ze=Math.min(Te/(l*1e3),1);$(ze*100),ze<1&&Oe()})};return _e(),function(){f&&cancelAnimationFrame(pe)}}},[l,Q,Y,K,C]);var q=w.useMemo(function(){return mn(_)==="object"&&_!==null?_:_?{closeIcon:c}:{}},[_,c]),ie=zm(q,!0),he=100-(!z||z<0?0:z>100?100:z),fe="".concat(t,"-notice");return w.createElement("div",Pt({},p,{ref:e,className:Je(fe,a,ue({},"".concat(fe,"-closable"),_)),style:r,onMouseEnter:function(pe){var _e;P(!0),p==null||(_e=p.onMouseEnter)===null||_e===void 0||_e.call(p,pe)},onMouseLeave:function(pe){var _e;P(!1),p==null||(_e=p.onMouseLeave)===null||_e===void 0||_e.call(p,pe)},onClick:g}),w.createElement("div",{className:"".concat(fe,"-content")},y),_&&w.createElement("a",Pt({tabIndex:0,className:"".concat(fe,"-close"),onKeyDown:de,"aria-label":"Close"},ie,{onClick:function(pe){pe.preventDefault(),pe.stopPropagation(),ee()}}),q.closeIcon),K&&w.createElement("progress",{className:"".concat(fe,"-progress"),max:"100",value:he},he+"%"))}),vF=Xe.createContext({}),J7=function(e){var t=e.children,r=e.classNames;return Xe.createElement(vF.Provider,{value:{classNames:r}},t)},tP=8,nP=3,iP=16,Q7=function(e){var t={offset:tP,threshold:nP,gap:iP};if(e&&mn(e)==="object"){var r,a,o;t.offset=(r=e.offset)!==null&&r!==void 0?r:tP,t.threshold=(a=e.threshold)!==null&&a!==void 0?a:nP,t.gap=(o=e.gap)!==null&&o!==void 0?o:iP}return[!!e,t]},Z7=["className","style","classNames","styles"],eW=function(e){var t=e.configList,r=e.placement,a=e.prefixCls,o=e.className,l=e.style,s=e.motion,u=e.onAllNoticeRemoved,f=e.onNoticeClose,m=e.stack,y=w.useContext(vF),_=y.classNames,E=w.useRef({}),c=w.useState(null),p=vt(c,2),g=p[0],b=p[1],C=w.useState([]),T=vt(C,2),M=T[0],O=T[1],B=t.map(function(Y){return{config:Y,key:String(Y.key)}}),P=Q7(m),F=vt(P,2),U=F[0],z=F[1],$=z.offset,J=z.threshold,W=z.gap,Q=U&&(M.length>0||B.length<=J),ae=typeof s=="function"?s(r):s;return w.useEffect(function(){U&&M.length>1&&O(function(Y){return Y.filter(function(K){return B.some(function(ee){var de=ee.key;return K===de})})})},[M,B,U]),w.useEffect(function(){var Y;if(U&&E.current[(Y=B[B.length-1])===null||Y===void 0?void 0:Y.key]){var K;b(E.current[(K=B[B.length-1])===null||K===void 0?void 0:K.key])}},[B,U]),Xe.createElement(cF,Pt({key:r,className:Je(a,"".concat(a,"-").concat(r),_==null?void 0:_.list,o,ue(ue({},"".concat(a,"-stack"),!!U),"".concat(a,"-stack-expanded"),Q)),style:l,keys:B,motionAppear:!0},ae,{onAllRemoved:function(){u(r)}}),function(Y,K){var ee=Y.config,de=Y.className,q=Y.style,ie=Y.index,he=ee,fe=he.key,Z=he.times,pe=String(fe),_e=ee,Oe=_e.className,we=_e.style,Te=_e.classNames,ze=_e.styles,yt=kn(_e,Z7),Be=B.findIndex(function(De){return De.key===pe}),xe={};if(U){var re=B.length-1-(Be>-1?Be:ie-1),Fe=r==="top"||r==="bottom"?"-50%":"0";if(re>0){var Ie,qe,$e;xe.height=Q?(Ie=E.current[pe])===null||Ie===void 0?void 0:Ie.offsetHeight:g==null?void 0:g.offsetHeight;for(var ct=0,st=0;st<re;st++){var ce;ct+=((ce=E.current[B[B.length-1-st].key])===null||ce===void 0?void 0:ce.offsetHeight)+W}var oe=(Q?ct:re*$)*(r.startsWith("top")?1:-1),Ee=!Q&&g!==null&&g!==void 0&&g.offsetWidth&&(qe=E.current[pe])!==null&&qe!==void 0&&qe.offsetWidth?((g==null?void 0:g.offsetWidth)-$*2*(re<3?re:3))/(($e=E.current[pe])===null||$e===void 0?void 0:$e.offsetWidth):1;xe.transform="translate3d(".concat(Fe,", ").concat(oe,"px, 0) scaleX(").concat(Ee,")")}else xe.transform="translate3d(".concat(Fe,", 0, 0)")}return Xe.createElement("div",{ref:K,className:Je("".concat(a,"-notice-wrapper"),de,Te==null?void 0:Te.wrapper),style:Ne(Ne(Ne({},q),xe),ze==null?void 0:ze.wrapper),onMouseEnter:function(){return O(function(Ke){return Ke.includes(pe)?Ke:[].concat(Kt(Ke),[pe])})},onMouseLeave:function(){return O(function(Ke){return Ke.filter(function(He){return He!==pe})})}},Xe.createElement(gF,Pt({},yt,{ref:function(Ke){Be>-1?E.current[pe]=Ke:delete E.current[pe]},prefixCls:a,classNames:Te,styles:ze,className:Je(Oe,_==null?void 0:_.notice),style:we,times:Z,key:fe,eventKey:fe,onNoticeClose:f,hovering:U&&M.length>0})))})},tW=w.forwardRef(function(n,e){var t=n.prefixCls,r=t===void 0?"rc-notification":t,a=n.container,o=n.motion,l=n.maxCount,s=n.className,u=n.style,f=n.onAllRemoved,m=n.stack,y=n.renderNotifications,_=w.useState([]),E=vt(_,2),c=E[0],p=E[1],g=function(U){var z,$=c.find(function(J){return J.key===U});$==null||(z=$.onClose)===null||z===void 0||z.call($),p(function(J){return J.filter(function(W){return W.key!==U})})};w.useImperativeHandle(e,function(){return{open:function(U){p(function(z){var $=Kt(z),J=$.findIndex(function(ae){return ae.key===U.key}),W=Ne({},U);if(J>=0){var Q;W.times=(((Q=z[J])===null||Q===void 0?void 0:Q.times)||0)+1,$[J]=W}else W.times=0,$.push(W);return l>0&&$.length>l&&($=$.slice(-l)),$})},close:function(U){g(U)},destroy:function(){p([])}}});var b=w.useState({}),C=vt(b,2),T=C[0],M=C[1];w.useEffect(function(){var F={};c.forEach(function(U){var z=U.placement,$=z===void 0?"topRight":z;$&&(F[$]=F[$]||[],F[$].push(U))}),Object.keys(T).forEach(function(U){F[U]=F[U]||[]}),M(F)},[c]);var O=function(U){M(function(z){var $=Ne({},z),J=$[U]||[];return J.length||delete $[U],$})},B=w.useRef(!1);if(w.useEffect(function(){Object.keys(T).length>0?B.current=!0:B.current&&(f==null||f(),B.current=!1)},[T]),!a)return null;var P=Object.keys(T);return Lh.createPortal(w.createElement(w.Fragment,null,P.map(function(F){var U=T[F],z=w.createElement(eW,{key:F,configList:U,placement:F,prefixCls:r,className:s==null?void 0:s(F),style:u==null?void 0:u(F),motion:o,onNoticeClose:g,onAllNoticeRemoved:O,stack:m});return y?y(z,{prefixCls:r,key:F}):z})),a)}),nW=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],iW=function(){return document.body},rP=0;function rW(){for(var n={},e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.forEach(function(a){a&&Object.keys(a).forEach(function(o){var l=a[o];l!==void 0&&(n[o]=l)})}),n}function aW(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.getContainer,t=e===void 0?iW:e,r=n.motion,a=n.prefixCls,o=n.maxCount,l=n.className,s=n.style,u=n.onAllRemoved,f=n.stack,m=n.renderNotifications,y=kn(n,nW),_=w.useState(),E=vt(_,2),c=E[0],p=E[1],g=w.useRef(),b=w.createElement(tW,{container:c,ref:g,prefixCls:a,motion:r,maxCount:o,className:l,style:s,onAllRemoved:u,stack:f,renderNotifications:m}),C=w.useState([]),T=vt(C,2),M=T[0],O=T[1],B=w.useMemo(function(){return{open:function(F){var U=rW(y,F);(U.key===null||U.key===void 0)&&(U.key="rc-notification-".concat(rP),rP+=1),O(function(z){return[].concat(Kt(z),[{type:"open",config:U}])})},close:function(F){O(function(U){return[].concat(Kt(U),[{type:"close",key:F}])})},destroy:function(){O(function(F){return[].concat(Kt(F),[{type:"destroy"}])})}}},[]);return w.useEffect(function(){p(t())}),w.useEffect(function(){if(g.current&&M.length){M.forEach(function(U){switch(U.type){case"open":g.current.open(U.config);break;case"close":g.current.close(U.key);break;case"destroy":g.current.destroy();break}});var P,F;O(function(U){return(P!==U||!F)&&(P=U,F=U.filter(function(z){return!M.includes(z)})),F})}},[M]),[B,b]}const IO=Xe.createContext(void 0),gh=100,oW=10,yF=gh*oW,bF={Modal:gh,Drawer:gh,Popover:gh,Popconfirm:gh,Tooltip:gh,Tour:gh,FloatButton:gh},sW={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function lW(n){return n in bF}const _S=(n,e)=>{const[,t]=id(),r=Xe.useContext(IO),a=lW(n);let o;if(e!==void 0)o=[e,e];else{let l=r??0;a?l+=(r?0:t.zIndexPopupBase)+bF[n]:l+=sW[n],o=[r===void 0?e:l,l]}return o},cW=n=>{const{componentCls:e,iconCls:t,boxShadow:r,colorText:a,colorSuccess:o,colorError:l,colorWarning:s,colorInfo:u,fontSizeLG:f,motionEaseInOutCirc:m,motionDurationSlow:y,marginXS:_,paddingXS:E,borderRadiusLG:c,zIndexPopup:p,contentPadding:g,contentBg:b}=n,C=`${e}-notice`,T=new rr("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:E,transform:"translateY(0)",opacity:1}}),M=new rr("MessageMoveOut",{"0%":{maxHeight:n.height,padding:E,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),O={padding:E,textAlign:"center",[`${e}-custom-content`]:{display:"flex",alignItems:"center"},[`${e}-custom-content > ${t}`]:{marginInlineEnd:_,fontSize:f},[`${C}-content`]:{display:"inline-block",padding:g,background:b,borderRadius:c,boxShadow:r,pointerEvents:"all"},[`${e}-success > ${t}`]:{color:o},[`${e}-error > ${t}`]:{color:l},[`${e}-warning > ${t}`]:{color:s},[`${e}-info > ${t},
      ${e}-loading > ${t}`]:{color:u}};return[{[e]:Object.assign(Object.assign({},Uo(n)),{color:a,position:"fixed",top:_,width:"100%",pointerEvents:"none",zIndex:p,[`${e}-move-up`]:{animationFillMode:"forwards"},[`
        ${e}-move-up-appear,
        ${e}-move-up-enter
      `]:{animationName:T,animationDuration:y,animationPlayState:"paused",animationTimingFunction:m},[`
        ${e}-move-up-appear${e}-move-up-appear-active,
        ${e}-move-up-enter${e}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${e}-move-up-leave`]:{animationName:M,animationDuration:y,animationPlayState:"paused",animationTimingFunction:m},[`${e}-move-up-leave${e}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[e]:{[`${C}-wrapper`]:Object.assign({},O)}},{[`${e}-notice-pure-panel`]:Object.assign(Object.assign({},O),{padding:0,textAlign:"start"})}]},uW=n=>({zIndexPopup:n.zIndexPopupBase+yF+10,contentBg:n.colorBgElevated,contentPadding:`${(n.controlHeightLG-n.fontSize*n.lineHeight)/2}px ${n.paddingSM}px`}),SF=Nr("Message",n=>{const e=qi(n,{height:150});return[cW(e)]},uW);var dW=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const fW={info:w.createElement(sU,null),success:w.createElement(vO,null),error:w.createElement(ew,null),warning:w.createElement(oU,null),loading:w.createElement(e0,null)},_F=n=>{let{prefixCls:e,type:t,icon:r,children:a}=n;return w.createElement("div",{className:Je(`${e}-custom-content`,`${e}-${t}`)},r||fW[t],w.createElement("span",null,a))},hW=n=>{const{prefixCls:e,className:t,type:r,icon:a,content:o}=n,l=dW(n,["prefixCls","className","type","icon","content"]),{getPrefixCls:s}=w.useContext(Hn),u=e||s("message"),f=ol(u),[m,y,_]=SF(u,f);return m(w.createElement(gF,Object.assign({},l,{prefixCls:u,className:Je(t,y,`${u}-notice-pure-panel`,_,f),eventKey:"pure",duration:null,content:w.createElement(_F,{prefixCls:u,type:r,icon:a},o)})))};function pW(n,e){return{motionName:e??`${n}-move-up`}}function BO(n){let e;const t=new Promise(a=>{e=n(()=>{a(!0)})}),r=()=>{e==null||e()};return r.then=(a,o)=>t.then(a,o),r.promise=t,r}var mW=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const gW=8,vW=3,yW=n=>{let{children:e,prefixCls:t}=n;const r=ol(t),[a,o,l]=SF(t,r);return a(w.createElement(J7,{classNames:{list:Je(o,l,r)}},e))},bW=(n,e)=>{let{prefixCls:t,key:r}=e;return w.createElement(yW,{prefixCls:t,key:r},n)},SW=w.forwardRef((n,e)=>{const{top:t,prefixCls:r,getContainer:a,maxCount:o,duration:l=vW,rtl:s,transitionName:u,onAllRemoved:f}=n,{getPrefixCls:m,getPopupContainer:y,message:_,direction:E}=w.useContext(Hn),c=r||m("message"),p=()=>({left:"50%",transform:"translateX(-50%)",top:t??gW}),g=()=>Je({[`${c}-rtl`]:s??E==="rtl"}),b=()=>pW(c,u),C=w.createElement("span",{className:`${c}-close-x`},w.createElement(w0,{className:`${c}-close-icon`})),[T,M]=aW({prefixCls:c,style:p,className:g,motion:b,closable:!1,closeIcon:C,duration:l,getContainer:()=>(a==null?void 0:a())||(y==null?void 0:y())||document.body,maxCount:o,onAllRemoved:f,renderNotifications:bW});return w.useImperativeHandle(e,()=>Object.assign(Object.assign({},T),{prefixCls:c,message:_})),M});let aP=0;function xF(n){const e=w.useRef(null);return AO(),[w.useMemo(()=>{const r=u=>{var f;(f=e.current)===null||f===void 0||f.close(u)},a=u=>{if(!e.current){const B=()=>{};return B.then=()=>{},B}const{open:f,prefixCls:m,message:y}=e.current,_=`${m}-notice`,{content:E,icon:c,type:p,key:g,className:b,style:C,onClose:T}=u,M=mW(u,["content","icon","type","key","className","style","onClose"]);let O=g;return O==null&&(aP+=1,O=`antd-message-${aP}`),BO(B=>(f(Object.assign(Object.assign({},M),{key:O,content:w.createElement(_F,{prefixCls:m,type:p,icon:c},E),placement:"top",className:Je(p&&`${_}-${p}`,b,y==null?void 0:y.className),style:Object.assign(Object.assign({},y==null?void 0:y.style),C),onClose:()=>{T==null||T(),B()}})),()=>{r(O)}))},l={open:a,destroy:u=>{var f;u!==void 0?r(u):(f=e.current)===null||f===void 0||f.destroy()}};return["info","success","warning","error","loading"].forEach(u=>{const f=(m,y,_)=>{let E;m&&typeof m=="object"&&"content"in m?E=m:E={content:m};let c,p;typeof y=="function"?p=y:(c=y,p=_);const g=Object.assign(Object.assign({onClose:p,duration:c},E),{type:u});return a(g)};l[u]=f}),l},[]),w.createElement(SW,Object.assign({key:"message-holder"},n,{ref:e}))]}function _W(n){return xF(n)}function xW(){const[n,e]=w.useState([]),t=w.useCallback(r=>(e(a=>[].concat(Kt(a),[r])),()=>{e(a=>a.filter(o=>o!==r))}),[]);return[n,t]}function br(){br=function(){return e};var n,e={},t=Object.prototype,r=t.hasOwnProperty,a=Object.defineProperty||function(Y,K,ee){Y[K]=ee.value},o=typeof Symbol=="function"?Symbol:{},l=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function f(Y,K,ee){return Object.defineProperty(Y,K,{value:ee,enumerable:!0,configurable:!0,writable:!0}),Y[K]}try{f({},"")}catch{f=function(ee,de,q){return ee[de]=q}}function m(Y,K,ee,de){var q=K&&K.prototype instanceof b?K:b,ie=Object.create(q.prototype),he=new Q(de||[]);return a(ie,"_invoke",{value:z(Y,ee,he)}),ie}function y(Y,K,ee){try{return{type:"normal",arg:Y.call(K,ee)}}catch(de){return{type:"throw",arg:de}}}e.wrap=m;var _="suspendedStart",E="suspendedYield",c="executing",p="completed",g={};function b(){}function C(){}function T(){}var M={};f(M,l,function(){return this});var O=Object.getPrototypeOf,B=O&&O(O(ae([])));B&&B!==t&&r.call(B,l)&&(M=B);var P=T.prototype=b.prototype=Object.create(M);function F(Y){["next","throw","return"].forEach(function(K){f(Y,K,function(ee){return this._invoke(K,ee)})})}function U(Y,K){function ee(q,ie,he,fe){var Z=y(Y[q],Y,ie);if(Z.type!=="throw"){var pe=Z.arg,_e=pe.value;return _e&&mn(_e)=="object"&&r.call(_e,"__await")?K.resolve(_e.__await).then(function(Oe){ee("next",Oe,he,fe)},function(Oe){ee("throw",Oe,he,fe)}):K.resolve(_e).then(function(Oe){pe.value=Oe,he(pe)},function(Oe){return ee("throw",Oe,he,fe)})}fe(Z.arg)}var de;a(this,"_invoke",{value:function(ie,he){function fe(){return new K(function(Z,pe){ee(ie,he,Z,pe)})}return de=de?de.then(fe,fe):fe()}})}function z(Y,K,ee){var de=_;return function(q,ie){if(de===c)throw Error("Generator is already running");if(de===p){if(q==="throw")throw ie;return{value:n,done:!0}}for(ee.method=q,ee.arg=ie;;){var he=ee.delegate;if(he){var fe=$(he,ee);if(fe){if(fe===g)continue;return fe}}if(ee.method==="next")ee.sent=ee._sent=ee.arg;else if(ee.method==="throw"){if(de===_)throw de=p,ee.arg;ee.dispatchException(ee.arg)}else ee.method==="return"&&ee.abrupt("return",ee.arg);de=c;var Z=y(Y,K,ee);if(Z.type==="normal"){if(de=ee.done?p:E,Z.arg===g)continue;return{value:Z.arg,done:ee.done}}Z.type==="throw"&&(de=p,ee.method="throw",ee.arg=Z.arg)}}}function $(Y,K){var ee=K.method,de=Y.iterator[ee];if(de===n)return K.delegate=null,ee==="throw"&&Y.iterator.return&&(K.method="return",K.arg=n,$(Y,K),K.method==="throw")||ee!=="return"&&(K.method="throw",K.arg=new TypeError("The iterator does not provide a '"+ee+"' method")),g;var q=y(de,Y.iterator,K.arg);if(q.type==="throw")return K.method="throw",K.arg=q.arg,K.delegate=null,g;var ie=q.arg;return ie?ie.done?(K[Y.resultName]=ie.value,K.next=Y.nextLoc,K.method!=="return"&&(K.method="next",K.arg=n),K.delegate=null,g):ie:(K.method="throw",K.arg=new TypeError("iterator result is not an object"),K.delegate=null,g)}function J(Y){var K={tryLoc:Y[0]};1 in Y&&(K.catchLoc=Y[1]),2 in Y&&(K.finallyLoc=Y[2],K.afterLoc=Y[3]),this.tryEntries.push(K)}function W(Y){var K=Y.completion||{};K.type="normal",delete K.arg,Y.completion=K}function Q(Y){this.tryEntries=[{tryLoc:"root"}],Y.forEach(J,this),this.reset(!0)}function ae(Y){if(Y||Y===""){var K=Y[l];if(K)return K.call(Y);if(typeof Y.next=="function")return Y;if(!isNaN(Y.length)){var ee=-1,de=function q(){for(;++ee<Y.length;)if(r.call(Y,ee))return q.value=Y[ee],q.done=!1,q;return q.value=n,q.done=!0,q};return de.next=de}}throw new TypeError(mn(Y)+" is not iterable")}return C.prototype=T,a(P,"constructor",{value:T,configurable:!0}),a(T,"constructor",{value:C,configurable:!0}),C.displayName=f(T,u,"GeneratorFunction"),e.isGeneratorFunction=function(Y){var K=typeof Y=="function"&&Y.constructor;return!!K&&(K===C||(K.displayName||K.name)==="GeneratorFunction")},e.mark=function(Y){return Object.setPrototypeOf?Object.setPrototypeOf(Y,T):(Y.__proto__=T,f(Y,u,"GeneratorFunction")),Y.prototype=Object.create(P),Y},e.awrap=function(Y){return{__await:Y}},F(U.prototype),f(U.prototype,s,function(){return this}),e.AsyncIterator=U,e.async=function(Y,K,ee,de,q){q===void 0&&(q=Promise);var ie=new U(m(Y,K,ee,de),q);return e.isGeneratorFunction(K)?ie:ie.next().then(function(he){return he.done?he.value:ie.next()})},F(P),f(P,u,"Generator"),f(P,l,function(){return this}),f(P,"toString",function(){return"[object Generator]"}),e.keys=function(Y){var K=Object(Y),ee=[];for(var de in K)ee.push(de);return ee.reverse(),function q(){for(;ee.length;){var ie=ee.pop();if(ie in K)return q.value=ie,q.done=!1,q}return q.done=!0,q}},e.values=ae,Q.prototype={constructor:Q,reset:function(K){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(W),!K)for(var ee in this)ee.charAt(0)==="t"&&r.call(this,ee)&&!isNaN(+ee.slice(1))&&(this[ee]=n)},stop:function(){this.done=!0;var K=this.tryEntries[0].completion;if(K.type==="throw")throw K.arg;return this.rval},dispatchException:function(K){if(this.done)throw K;var ee=this;function de(pe,_e){return he.type="throw",he.arg=K,ee.next=pe,_e&&(ee.method="next",ee.arg=n),!!_e}for(var q=this.tryEntries.length-1;q>=0;--q){var ie=this.tryEntries[q],he=ie.completion;if(ie.tryLoc==="root")return de("end");if(ie.tryLoc<=this.prev){var fe=r.call(ie,"catchLoc"),Z=r.call(ie,"finallyLoc");if(fe&&Z){if(this.prev<ie.catchLoc)return de(ie.catchLoc,!0);if(this.prev<ie.finallyLoc)return de(ie.finallyLoc)}else if(fe){if(this.prev<ie.catchLoc)return de(ie.catchLoc,!0)}else{if(!Z)throw Error("try statement without catch or finally");if(this.prev<ie.finallyLoc)return de(ie.finallyLoc)}}}},abrupt:function(K,ee){for(var de=this.tryEntries.length-1;de>=0;--de){var q=this.tryEntries[de];if(q.tryLoc<=this.prev&&r.call(q,"finallyLoc")&&this.prev<q.finallyLoc){var ie=q;break}}ie&&(K==="break"||K==="continue")&&ie.tryLoc<=ee&&ee<=ie.finallyLoc&&(ie=null);var he=ie?ie.completion:{};return he.type=K,he.arg=ee,ie?(this.method="next",this.next=ie.finallyLoc,g):this.complete(he)},complete:function(K,ee){if(K.type==="throw")throw K.arg;return K.type==="break"||K.type==="continue"?this.next=K.arg:K.type==="return"?(this.rval=this.arg=K.arg,this.method="return",this.next="end"):K.type==="normal"&&ee&&(this.next=ee),g},finish:function(K){for(var ee=this.tryEntries.length-1;ee>=0;--ee){var de=this.tryEntries[ee];if(de.finallyLoc===K)return this.complete(de.completion,de.afterLoc),W(de),g}},catch:function(K){for(var ee=this.tryEntries.length-1;ee>=0;--ee){var de=this.tryEntries[ee];if(de.tryLoc===K){var q=de.completion;if(q.type==="throw"){var ie=q.arg;W(de)}return ie}}throw Error("illegal catch attempt")},delegateYield:function(K,ee,de){return this.delegate={iterator:ae(K),resultName:ee,nextLoc:de},this.method==="next"&&(this.arg=n),g}},e}function oP(n,e,t,r,a,o,l){try{var s=n[o](l),u=s.value}catch(f){return void t(f)}s.done?e(u):Promise.resolve(u).then(r,a)}function Qs(n){return function(){var e=this,t=arguments;return new Promise(function(r,a){var o=n.apply(e,t);function l(u){oP(o,r,a,l,s,"next",u)}function s(u){oP(o,r,a,l,s,"throw",u)}l(void 0)})}}var xS=Ne({},$V),CW=xS.version,yM=xS.render,EW=xS.unmountComponentAtNode,uw;try{var wW=Number((CW||"").split(".")[0]);wW>=18&&(uw=xS.createRoot)}catch{}function sP(n){var e=xS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e&&mn(e)==="object"&&(e.usingClientEntryPoint=n)}var D1="__rc_react_root__";function AW(n,e){sP(!0);var t=e[D1]||uw(e);sP(!1),t.render(n),e[D1]=t}function MW(n,e){yM==null||yM(n,e)}function TW(n,e){if(uw){AW(n,e);return}MW(n,e)}function RW(n){return WR.apply(this,arguments)}function WR(){return WR=Qs(br().mark(function n(e){return br().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.resolve().then(function(){var a;(a=e[D1])===null||a===void 0||a.unmount(),delete e[D1]}));case 1:case"end":return r.stop()}},n)})),WR.apply(this,arguments)}function OW(n){EW(n)}function IW(n){return XR.apply(this,arguments)}function XR(){return XR=Qs(br().mark(function n(e){return br().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(uw===void 0){r.next=2;break}return r.abrupt("return",RW(e));case 2:OW(e);case 3:case"end":return r.stop()}},n)})),XR.apply(this,arguments)}const BW=(n,e)=>(TW(n,e),()=>IW(e));let DW=BW;function DO(){return DW}const bM=()=>({height:0,opacity:0}),lP=n=>{const{scrollHeight:e}=n;return{height:e,opacity:1}},PW=n=>({height:n?n.offsetHeight:0}),SM=(n,e)=>(e==null?void 0:e.deadline)===!0||e.propertyName==="height",CF=function(){return{motionName:`${arguments.length>0&&arguments[0]!==void 0?arguments[0]:Kb}-motion-collapse`,onAppearStart:bM,onEnterStart:bM,onAppearActive:lP,onEnterActive:lP,onLeaveStart:PW,onLeaveActive:bM,onAppearEnd:SM,onEnterEnd:SM,onLeaveEnd:SM,motionDeadline:500}},Ju=(n,e,t)=>t!==void 0?t:`${n}-${e}`;function yo(n,e){var t=Object.assign({},n);return Array.isArray(e)&&e.forEach(function(r){delete t[r]}),t}const PO=function(n){if(!n)return!1;if(n instanceof Element){if(n.offsetParent)return!0;if(n.getBBox){var e=n.getBBox(),t=e.width,r=e.height;if(t||r)return!0}if(n.getBoundingClientRect){var a=n.getBoundingClientRect(),o=a.width,l=a.height;if(o||l)return!0}}return!1},LW=n=>{const{componentCls:e,colorPrimary:t}=n;return{[e]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${t})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${n.motionEaseOutCirc}`,`opacity 2s ${n.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow ${n.motionDurationSlow} ${n.motionEaseInOut}`,`opacity ${n.motionDurationSlow} ${n.motionEaseInOut}`].join(",")}}}}},NW=d7("Wave",n=>[LW(n)]),LO=`${Kb}-wave-target`;function _M(n){return n&&n!=="#fff"&&n!=="#ffffff"&&n!=="rgb(255, 255, 255)"&&n!=="rgba(255, 255, 255, 1)"&&!/rgba\((?:\d*, ){3}0\)/.test(n)&&n!=="transparent"}function zW(n){const{borderTopColor:e,borderColor:t,backgroundColor:r}=getComputedStyle(n);return _M(e)?e:_M(t)?t:_M(r)?r:null}function xM(n){return Number.isNaN(n)?0:n}const UW=n=>{const{className:e,target:t,component:r,registerUnmount:a}=n,o=w.useRef(null),l=w.useRef(null);w.useEffect(()=>{l.current=a()},[]);const[s,u]=w.useState(null),[f,m]=w.useState([]),[y,_]=w.useState(0),[E,c]=w.useState(0),[p,g]=w.useState(0),[b,C]=w.useState(0),[T,M]=w.useState(!1),O={left:y,top:E,width:p,height:b,borderRadius:f.map(F=>`${F}px`).join(" ")};s&&(O["--wave-color"]=s);function B(){const F=getComputedStyle(t);u(zW(t));const U=F.position==="static",{borderLeftWidth:z,borderTopWidth:$}=F;_(U?t.offsetLeft:xM(-parseFloat(z))),c(U?t.offsetTop:xM(-parseFloat($))),g(t.offsetWidth),C(t.offsetHeight);const{borderTopLeftRadius:J,borderTopRightRadius:W,borderBottomLeftRadius:Q,borderBottomRightRadius:ae}=F;m([J,W,ae,Q].map(Y=>xM(parseFloat(Y))))}if(w.useEffect(()=>{if(t){const F=Da(()=>{B(),M(!0)});let U;return typeof ResizeObserver<"u"&&(U=new ResizeObserver(B),U.observe(t)),()=>{Da.cancel(F),U==null||U.disconnect()}}},[]),!T)return null;const P=(r==="Checkbox"||r==="Radio")&&(t==null?void 0:t.classList.contains(LO));return w.createElement($c,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(F,U)=>{var z,$;if(U.deadline||U.propertyName==="opacity"){const J=(z=o.current)===null||z===void 0?void 0:z.parentElement;($=l.current)===null||$===void 0||$.call(l).then(()=>{J==null||J.remove()})}return!1}},(F,U)=>{let{className:z}=F;return w.createElement("div",{ref:yf(o,U),className:Je(e,z,{"wave-quick":P}),style:O})})},FW=(n,e)=>{var t;const{component:r}=e;if(r==="Checkbox"&&!(!((t=n.querySelector("input"))===null||t===void 0)&&t.checked))return;const a=document.createElement("div");a.style.position="absolute",a.style.left="0px",a.style.top="0px",n==null||n.insertBefore(a,n==null?void 0:n.firstChild);const o=DO();let l=null;function s(){return l}l=o(w.createElement(UW,Object.assign({},e,{target:n,registerUnmount:s})),a)},HW=(n,e,t)=>{const{wave:r}=w.useContext(Hn),[,a,o]=id(),l=Qa(f=>{const m=n.current;if(r!=null&&r.disabled||!m)return;const y=m.querySelector(`.${LO}`)||m,{showEffect:_}=r||{};(_||FW)(y,{className:e,token:a,component:t,event:f,hashId:o})}),s=w.useRef(null);return f=>{Da.cancel(s.current),s.current=Da(()=>{l(f)})}},dw=n=>{const{children:e,disabled:t,component:r}=n,{getPrefixCls:a}=w.useContext(Hn),o=w.useRef(null),l=a("wave"),[,s]=NW(l),u=HW(o,Je(l,s),r);if(Xe.useEffect(()=>{const m=o.current;if(!m||m.nodeType!==1||t)return;const y=_=>{!PO(_.target)||!m.getAttribute||m.getAttribute("disabled")||m.disabled||m.className.includes("disabled")||m.className.includes("-leave")||u(_)};return m.addEventListener("click",y,!0),()=>{m.removeEventListener("click",y,!0)}},[t]),!Xe.isValidElement(e))return e??null;const f=yS(e)?yf(nw(e),o):o;return il(e,{ref:f})},Sf=n=>{const e=Xe.useContext(o0);return Xe.useMemo(()=>n?typeof n=="string"?n??e:n instanceof Function?n(e):e:e,[n,e])},GW=n=>{const{componentCls:e}=n;return{[e]:{"&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}}}},kW=n=>{const{componentCls:e,antCls:t}=n;return{[e]:{display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}},[`${e}-item:empty`]:{display:"none"},[`${e}-item > ${t}-badge-not-a-wrapper:only-child`]:{display:"block"}}}},$W=n=>{const{componentCls:e}=n;return{[e]:{"&-gap-row-small":{rowGap:n.spaceGapSmallSize},"&-gap-row-middle":{rowGap:n.spaceGapMiddleSize},"&-gap-row-large":{rowGap:n.spaceGapLargeSize},"&-gap-col-small":{columnGap:n.spaceGapSmallSize},"&-gap-col-middle":{columnGap:n.spaceGapMiddleSize},"&-gap-col-large":{columnGap:n.spaceGapLargeSize}}}},EF=Nr("Space",n=>{const e=qi(n,{spaceGapSmallSize:n.paddingXS,spaceGapMiddleSize:n.padding,spaceGapLargeSize:n.paddingLG});return[kW(e),$W(e),GW(e)]},()=>({}),{resetStyle:!1});var wF=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const fw=w.createContext(null),hw=(n,e)=>{const t=w.useContext(fw),r=w.useMemo(()=>{if(!t)return"";const{compactDirection:a,isFirstItem:o,isLastItem:l}=t,s=a==="vertical"?"-vertical-":"-";return Je(`${n}-compact${s}item`,{[`${n}-compact${s}first-item`]:o,[`${n}-compact${s}last-item`]:l,[`${n}-compact${s}item-rtl`]:e==="rtl"})},[n,e,t]);return{compactSize:t==null?void 0:t.compactSize,compactDirection:t==null?void 0:t.compactDirection,compactItemClassnames:r}},VW=n=>{const{children:e}=n;return w.createElement(fw.Provider,{value:null},e)},jW=n=>{const{children:e}=n,t=wF(n,["children"]);return w.createElement(fw.Provider,{value:w.useMemo(()=>t,[t])},e)},WW=n=>{const{getPrefixCls:e,direction:t}=w.useContext(Hn),{size:r,direction:a,block:o,prefixCls:l,className:s,rootClassName:u,children:f}=n,m=wF(n,["size","direction","block","prefixCls","className","rootClassName","children"]),y=Sf(T=>r??T),_=e("space-compact",l),[E,c]=EF(_),p=Je(_,c,{[`${_}-rtl`]:t==="rtl",[`${_}-block`]:o,[`${_}-vertical`]:a==="vertical"},s,u),g=w.useContext(fw),b=qu(f),C=w.useMemo(()=>b.map((T,M)=>{const O=(T==null?void 0:T.key)||`${_}-item-${M}`;return w.createElement(jW,{key:O,compactSize:y,compactDirection:a,isFirstItem:M===0&&(!g||(g==null?void 0:g.isFirstItem)),isLastItem:M===b.length-1&&(!g||(g==null?void 0:g.isLastItem))},T)}),[r,b,g]);return b.length===0?null:E(w.createElement("div",Object.assign({className:p},m),C))};var XW=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const AF=w.createContext(void 0),YW=n=>{const{getPrefixCls:e,direction:t}=w.useContext(Hn),{prefixCls:r,size:a,className:o}=n,l=XW(n,["prefixCls","size","className"]),s=e("btn-group",r),[,,u]=id(),f=w.useMemo(()=>{switch(a){case"large":return"lg";case"small":return"sm";default:return""}},[a]),m=Je(s,{[`${s}-${f}`]:f,[`${s}-rtl`]:t==="rtl"},o,u);return w.createElement(AF.Provider,{value:a},w.createElement("div",Object.assign({},l,{className:m})))},cP=/^[\u4E00-\u9FA5]{2}$/,YR=cP.test.bind(cP);function MF(n){return n==="danger"?{danger:!0}:{type:n}}function uP(n){return typeof n=="string"}function CM(n){return n==="text"||n==="link"}function qW(n,e){if(n==null)return;const t=e?" ":"";return typeof n!="string"&&typeof n!="number"&&uP(n.type)&&YR(n.props.children)?il(n,{children:n.props.children.split("").join(t)}):uP(n)?YR(n)?Xe.createElement("span",null,n.split("").join(t)):Xe.createElement("span",null,n):pF(n)?Xe.createElement("span",null,n):n}function KW(n,e){let t=!1;const r=[];return Xe.Children.forEach(n,a=>{const o=typeof a,l=o==="string"||o==="number";if(t&&l){const s=r.length-1,u=r[s];r[s]=`${u}${a}`}else r.push(a);t=l}),Xe.Children.map(r,a=>qW(a,e))}["default","primary","danger"].concat(Kt(zh));const qR=w.forwardRef((n,e)=>{const{className:t,style:r,children:a,prefixCls:o}=n,l=Je(`${o}-icon`,t);return Xe.createElement("span",{ref:e,className:l,style:r},a)}),dP=w.forwardRef((n,e)=>{const{prefixCls:t,className:r,style:a,iconClassName:o}=n,l=Je(`${t}-loading-icon`,r);return Xe.createElement(qR,{prefixCls:t,className:l,style:a,ref:e},Xe.createElement(e0,{className:o}))}),EM=()=>({width:0,opacity:0,transform:"scale(0)"}),wM=n=>({width:n.scrollWidth,opacity:1,transform:"scale(1)"}),JW=n=>{const{prefixCls:e,loading:t,existIcon:r,className:a,style:o,mount:l}=n,s=!!t;return r?Xe.createElement(dP,{prefixCls:e,className:a,style:o}):Xe.createElement($c,{visible:s,motionName:`${e}-loading-icon-motion`,motionAppear:!l,motionEnter:!l,motionLeave:!l,removeOnLeave:!0,onAppearStart:EM,onAppearActive:wM,onEnterStart:EM,onEnterActive:wM,onLeaveStart:wM,onLeaveActive:EM},(u,f)=>{let{className:m,style:y}=u;const _=Object.assign(Object.assign({},o),y);return Xe.createElement(dP,{prefixCls:e,className:Je(a,m),style:_,ref:f})})},fP=(n,e)=>({[`> span, > ${n}`]:{"&:not(:last-child)":{[`&, & > ${n}`]:{"&:not(:disabled)":{borderInlineEndColor:e}}},"&:not(:first-child)":{[`&, & > ${n}`]:{"&:not(:disabled)":{borderInlineStartColor:e}}}}}),QW=n=>{const{componentCls:e,fontSize:t,lineWidth:r,groupBorderColor:a,colorErrorHover:o}=n;return{[`${e}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:n.calc(r).mul(-1).equal(),[`&, & > ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[e]:{position:"relative",zIndex:1,"&:hover, &:focus, &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${e}-icon-only`]:{fontSize:t}},fP(`${e}-primary`,a),fP(`${e}-danger`,o)]}};var ZW=["b"],eX=["v"],AM=function(e){return Math.round(Number(e||0))},tX=function(e){if(e instanceof Bi)return e;if(e&&mn(e)==="object"&&"h"in e&&"b"in e){var t=e,r=t.b,a=kn(t,ZW);return Ne(Ne({},a),{},{v:r})}return typeof e=="string"&&/hsb/.test(e)?e.replace(/hsb/,"hsv"):e},Jb=function(n){Ar(t,n);var e=kc(t);function t(r){return ai(this,t),e.call(this,tX(r))}return oi(t,[{key:"toHsbString",value:function(){var a=this.toHsb(),o=AM(a.s*100),l=AM(a.b*100),s=AM(a.h),u=a.a,f="hsb(".concat(s,", ").concat(o,"%, ").concat(l,"%)"),m="hsba(".concat(s,", ").concat(o,"%, ").concat(l,"%, ").concat(u.toFixed(u===0?0:2),")");return u===1?f:m}},{key:"toHsb",value:function(){var a=this.toHsv(),o=a.v,l=kn(a,eX);return Ne(Ne({},l),{},{b:o,a:this.a})}}]),t}(Bi),nX=function(e){return e instanceof Jb?e:new Jb(e)};nX("#1677ff");const iX=(n,e)=>(n==null?void 0:n.replace(/[^\w/]/g,"").slice(0,e?8:6))||"",rX=(n,e)=>n?iX(n,e):"";let aX=function(){function n(e){ai(this,n);var t;if(this.cleared=!1,e instanceof n){this.metaColor=e.metaColor.clone(),this.colors=(t=e.colors)===null||t===void 0?void 0:t.map(a=>({color:new n(a.color),percent:a.percent})),this.cleared=e.cleared;return}const r=Array.isArray(e);r&&e.length?(this.colors=e.map(a=>{let{color:o,percent:l}=a;return{color:new n(o),percent:l}}),this.metaColor=new Jb(this.colors[0].color.metaColor)):this.metaColor=new Jb(r?"":e),(!e||r&&!this.colors)&&(this.metaColor=this.metaColor.setA(0),this.cleared=!0)}return oi(n,[{key:"toHsb",value:function(){return this.metaColor.toHsb()}},{key:"toHsbString",value:function(){return this.metaColor.toHsbString()}},{key:"toHex",value:function(){return rX(this.toHexString(),this.metaColor.a<1)}},{key:"toHexString",value:function(){return this.metaColor.toHexString()}},{key:"toRgb",value:function(){return this.metaColor.toRgb()}},{key:"toRgbString",value:function(){return this.metaColor.toRgbString()}},{key:"isGradient",value:function(){return!!this.colors&&!this.cleared}},{key:"getColors",value:function(){return this.colors||[{color:this,percent:0}]}},{key:"toCssString",value:function(){const{colors:t}=this;return t?`linear-gradient(90deg, ${t.map(a=>`${a.color.toRgbString()} ${a.percent}%`).join(", ")})`:this.metaColor.toRgbString()}},{key:"equals",value:function(t){return!t||this.isGradient()!==t.isGradient()?!1:this.isGradient()?this.colors.length===t.colors.length&&this.colors.every((r,a)=>{const o=t.colors[a];return r.percent===o.percent&&r.color.equals(o.color)}):this.toHexString()===t.toHexString()}}])}();const TF=n=>({[n.componentCls]:{[`${n.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${n.motionDurationMid} ${n.motionEaseInOut},
        opacity ${n.motionDurationMid} ${n.motionEaseInOut} !important`}},[`${n.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${n.motionDurationMid} ${n.motionEaseInOut},
        opacity ${n.motionDurationMid} ${n.motionEaseInOut} !important`}}}),oX=n=>({animationDuration:n,animationFillMode:"both"}),sX=n=>({animationDuration:n,animationFillMode:"both"}),NO=function(n,e,t,r){const o=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${o}${n}-enter,
      ${o}${n}-appear
    `]:Object.assign(Object.assign({},oX(r)),{animationPlayState:"paused"}),[`${o}${n}-leave`]:Object.assign(Object.assign({},sX(r)),{animationPlayState:"paused"}),[`
      ${o}${n}-enter${n}-enter-active,
      ${o}${n}-appear${n}-appear-active
    `]:{animationName:e,animationPlayState:"running"},[`${o}${n}-leave${n}-leave-active`]:{animationName:t,animationPlayState:"running",pointerEvents:"none"}}},lX=new rr("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),cX=new rr("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),zO=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{antCls:t}=n,r=`${t}-fade`,a=e?"&":"";return[NO(r,lX,cX,n.motionDurationMid,e),{[`
        ${a}${r}-enter,
        ${a}${r}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${a}${r}-leave`]:{animationTimingFunction:"linear"}}]},uX=new rr("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),dX=new rr("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),fX=new rr("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),hX=new rr("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),pX=new rr("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),mX=new rr("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),gX=new rr("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),vX=new rr("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),yX={"slide-up":{inKeyframes:uX,outKeyframes:dX},"slide-down":{inKeyframes:fX,outKeyframes:hX},"slide-left":{inKeyframes:pX,outKeyframes:mX},"slide-right":{inKeyframes:gX,outKeyframes:vX}},hP=(n,e)=>{const{antCls:t}=n,r=`${t}-${e}`,{inKeyframes:a,outKeyframes:o}=yX[e];return[NO(r,a,o,n.motionDurationMid),{[`
      ${r}-enter,
      ${r}-appear
    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:n.motionEaseOutQuint,"&-prepare":{transform:"scale(1)"}},[`${r}-leave`]:{animationTimingFunction:n.motionEaseInQuint}}]},bX=new rr("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),SX=new rr("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),pP=new rr("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),mP=new rr("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),_X=new rr("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),xX=new rr("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),CX=new rr("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),EX=new rr("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),wX=new rr("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),AX=new rr("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),MX=new rr("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),TX=new rr("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),RX={zoom:{inKeyframes:bX,outKeyframes:SX},"zoom-big":{inKeyframes:pP,outKeyframes:mP},"zoom-big-fast":{inKeyframes:pP,outKeyframes:mP},"zoom-left":{inKeyframes:CX,outKeyframes:EX},"zoom-right":{inKeyframes:wX,outKeyframes:AX},"zoom-up":{inKeyframes:_X,outKeyframes:xX},"zoom-down":{inKeyframes:MX,outKeyframes:TX}},CS=(n,e)=>{const{antCls:t}=n,r=`${t}-${e}`,{inKeyframes:a,outKeyframes:o}=RX[e];return[NO(r,a,o,e==="zoom-big-fast"?n.motionDurationFast:n.motionDurationMid),{[`
        ${r}-enter,
        ${r}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:n.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${r}-leave`]:{animationTimingFunction:n.motionEaseInOutCirc}}]},OX=(n,e)=>{const{r:t,g:r,b:a,a:o}=n.toRgb(),l=new Jb(n.toRgbString()).onBackground(e).toHsv();return o<=.5?l.v>.5:t*.299+r*.587+a*.114>192},RF=n=>{const{paddingInline:e,onlyIconSize:t}=n;return qi(n,{buttonPaddingHorizontal:e,buttonPaddingVertical:0,buttonIconOnlyFontSize:t})},OF=n=>{var e,t,r,a,o,l;const s=(e=n.contentFontSize)!==null&&e!==void 0?e:n.fontSize,u=(t=n.contentFontSizeSM)!==null&&t!==void 0?t:n.fontSize,f=(r=n.contentFontSizeLG)!==null&&r!==void 0?r:n.fontSizeLG,m=(a=n.contentLineHeight)!==null&&a!==void 0?a:PC(s),y=(o=n.contentLineHeightSM)!==null&&o!==void 0?o:PC(u),_=(l=n.contentLineHeightLG)!==null&&l!==void 0?l:PC(f),E=OX(new aX(n.colorBgSolid),"#fff")?"#000":"#fff",c=zh.reduce((p,g)=>Object.assign(Object.assign({},p),{[`${g}ShadowColor`]:`0 ${Mt(n.controlOutlineWidth)} 0 ${rb(n[`${g}1`],n.colorBgContainer)}`}),{});return Object.assign(Object.assign({},c),{fontWeight:400,defaultShadow:`0 ${n.controlOutlineWidth}px 0 ${n.controlTmpOutline}`,primaryShadow:`0 ${n.controlOutlineWidth}px 0 ${n.controlOutline}`,dangerShadow:`0 ${n.controlOutlineWidth}px 0 ${n.colorErrorOutline}`,primaryColor:n.colorTextLightSolid,dangerColor:n.colorTextLightSolid,borderColorDisabled:n.colorBorder,defaultGhostColor:n.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:n.colorBgContainer,paddingInline:n.paddingContentHorizontal-n.lineWidth,paddingInlineLG:n.paddingContentHorizontal-n.lineWidth,paddingInlineSM:8-n.lineWidth,onlyIconSize:"inherit",onlyIconSizeSM:"inherit",onlyIconSizeLG:"inherit",groupBorderColor:n.colorPrimaryHover,linkHoverBg:"transparent",textTextColor:n.colorText,textTextHoverColor:n.colorText,textTextActiveColor:n.colorText,textHoverBg:n.colorFillTertiary,defaultColor:n.colorText,defaultBg:n.colorBgContainer,defaultBorderColor:n.colorBorder,defaultBorderColorDisabled:n.colorBorder,defaultHoverBg:n.colorBgContainer,defaultHoverColor:n.colorPrimaryHover,defaultHoverBorderColor:n.colorPrimaryHover,defaultActiveBg:n.colorBgContainer,defaultActiveColor:n.colorPrimaryActive,defaultActiveBorderColor:n.colorPrimaryActive,solidTextColor:E,contentFontSize:s,contentFontSizeSM:u,contentFontSizeLG:f,contentLineHeight:m,contentLineHeightSM:y,contentLineHeightLG:_,paddingBlock:Math.max((n.controlHeight-s*m)/2-n.lineWidth,0),paddingBlockSM:Math.max((n.controlHeightSM-u*y)/2-n.lineWidth,0),paddingBlockLG:Math.max((n.controlHeightLG-f*_)/2-n.lineWidth,0)})},IX=n=>{const{componentCls:e,iconCls:t,fontWeight:r,opacityLoading:a,motionDurationSlow:o,motionEaseInOut:l,marginXS:s,calc:u}=n;return{[e]:{outline:"none",position:"relative",display:"inline-flex",gap:n.marginXS,alignItems:"center",justifyContent:"center",fontWeight:r,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",background:"transparent",border:`${Mt(n.lineWidth)} ${n.lineType} transparent`,cursor:"pointer",transition:`all ${n.motionDurationMid} ${n.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",color:n.colorText,"&:disabled > *":{pointerEvents:"none"},[`${e}-icon > svg`]:TO(),"> a":{color:"currentColor"},"&:not(:disabled)":RO(n),[`&${e}-two-chinese-chars::first-letter`]:{letterSpacing:"0.34em"},[`&${e}-two-chinese-chars > *:not(${t})`]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},[`&${e}-icon-only`]:{paddingInline:0,[`&${e}-compact-item`]:{flex:"none"},[`&${e}-round`]:{width:"auto"}},[`&${e}-loading`]:{opacity:a,cursor:"default"},[`${e}-loading-icon`]:{transition:["width","opacity","margin"].map(f=>`${f} ${o} ${l}`).join(",")},[`&:not(${e}-icon-end)`]:{[`${e}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineEnd:u(s).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineEnd:0},"&-leave-start":{marginInlineEnd:0},"&-leave-active":{marginInlineEnd:u(s).mul(-1).equal()}}},"&-icon-end":{flexDirection:"row-reverse",[`${e}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineStart:u(s).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineStart:0},"&-leave-start":{marginInlineStart:0},"&-leave-active":{marginInlineStart:u(s).mul(-1).equal()}}}}}},IF=(n,e,t)=>({[`&:not(:disabled):not(${n}-disabled)`]:{"&:hover":e,"&:active":t}}),BX=n=>({minWidth:n.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),DX=n=>({borderRadius:n.controlHeight,paddingInlineStart:n.calc(n.controlHeight).div(2).equal(),paddingInlineEnd:n.calc(n.controlHeight).div(2).equal()}),PX=n=>({cursor:"not-allowed",borderColor:n.borderColorDisabled,color:n.colorTextDisabled,background:n.colorBgContainerDisabled,boxShadow:"none"}),pw=(n,e,t,r,a,o,l,s)=>({[`&${n}-background-ghost`]:Object.assign(Object.assign({color:t||void 0,background:e,borderColor:r||void 0,boxShadow:"none"},IF(n,Object.assign({background:e},l),Object.assign({background:e},s))),{"&:disabled":{cursor:"not-allowed",color:a||void 0,borderColor:o||void 0}})}),LX=n=>({[`&:disabled, &${n.componentCls}-disabled`]:Object.assign({},PX(n))}),NX=n=>({[`&:disabled, &${n.componentCls}-disabled`]:{cursor:"not-allowed",color:n.colorTextDisabled}}),mw=(n,e,t,r)=>{const o=r&&["link","text"].includes(r)?NX:LX;return Object.assign(Object.assign({},o(n)),IF(n.componentCls,e,t))},gw=(n,e,t,r,a)=>({[`&${n.componentCls}-variant-solid`]:Object.assign({color:e,background:t},mw(n,r,a))}),vw=(n,e,t,r,a)=>({[`&${n.componentCls}-variant-outlined, &${n.componentCls}-variant-dashed`]:Object.assign({borderColor:e,background:t},mw(n,r,a))}),yw=n=>({[`&${n.componentCls}-variant-dashed`]:{borderStyle:"dashed"}}),bw=(n,e,t,r)=>({[`&${n.componentCls}-variant-filled`]:Object.assign({boxShadow:"none",background:e},mw(n,t,r))}),Qu=(n,e,t,r,a)=>({[`&${n.componentCls}-variant-${t}`]:Object.assign({color:e,boxShadow:"none"},mw(n,r,a,t))}),zX=n=>{const{componentCls:e}=n;return zh.reduce((t,r)=>{const a=n[`${r}6`],o=n[`${r}1`],l=n[`${r}5`],s=n[`${r}2`],u=n[`${r}3`],f=n[`${r}7`];return Object.assign(Object.assign({},t),{[`&${e}-color-${r}`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:a,boxShadow:n[`${r}ShadowColor`]},gw(n,n.colorTextLightSolid,a,{background:l},{background:f})),vw(n,a,n.colorBgContainer,{color:l,borderColor:l,background:n.colorBgContainer},{color:f,borderColor:f,background:n.colorBgContainer})),yw(n)),bw(n,o,{background:s},{background:u})),Qu(n,a,"link",{color:l},{color:f})),Qu(n,a,"text",{color:l,background:o},{color:f,background:u}))})},{})},UX=n=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:n.defaultColor,boxShadow:n.defaultShadow},gw(n,n.solidTextColor,n.colorBgSolid,{color:n.solidTextColor,background:n.colorBgSolidHover},{color:n.solidTextColor,background:n.colorBgSolidActive})),yw(n)),bw(n,n.colorFillTertiary,{background:n.colorFillSecondary},{background:n.colorFill})),pw(n.componentCls,n.ghostBg,n.defaultGhostColor,n.defaultGhostBorderColor,n.colorTextDisabled,n.colorBorder)),Qu(n,n.textTextColor,"link",{color:n.colorLinkHover,background:n.linkHoverBg},{color:n.colorLinkActive})),FX=n=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:n.colorPrimary,boxShadow:n.primaryShadow},vw(n,n.colorPrimary,n.colorBgContainer,{color:n.colorPrimaryTextHover,borderColor:n.colorPrimaryHover,background:n.colorBgContainer},{color:n.colorPrimaryTextActive,borderColor:n.colorPrimaryActive,background:n.colorBgContainer})),yw(n)),bw(n,n.colorPrimaryBg,{background:n.colorPrimaryBgHover},{background:n.colorPrimaryBorder})),Qu(n,n.colorPrimaryText,"text",{color:n.colorPrimaryTextHover,background:n.colorPrimaryBg},{color:n.colorPrimaryTextActive,background:n.colorPrimaryBorder})),Qu(n,n.colorPrimaryText,"link",{color:n.colorPrimaryTextHover,background:n.linkHoverBg},{color:n.colorPrimaryTextActive})),pw(n.componentCls,n.ghostBg,n.colorPrimary,n.colorPrimary,n.colorTextDisabled,n.colorBorder,{color:n.colorPrimaryHover,borderColor:n.colorPrimaryHover},{color:n.colorPrimaryActive,borderColor:n.colorPrimaryActive})),HX=n=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:n.colorError,boxShadow:n.dangerShadow},gw(n,n.dangerColor,n.colorError,{background:n.colorErrorHover},{background:n.colorErrorActive})),vw(n,n.colorError,n.colorBgContainer,{color:n.colorErrorHover,borderColor:n.colorErrorBorderHover},{color:n.colorErrorActive,borderColor:n.colorErrorActive})),yw(n)),bw(n,n.colorErrorBg,{background:n.colorErrorBgFilledHover},{background:n.colorErrorBgActive})),Qu(n,n.colorError,"text",{color:n.colorErrorHover,background:n.colorErrorBg},{color:n.colorErrorHover,background:n.colorErrorBgActive})),Qu(n,n.colorError,"link",{color:n.colorErrorHover},{color:n.colorErrorActive})),pw(n.componentCls,n.ghostBg,n.colorError,n.colorError,n.colorTextDisabled,n.colorBorder,{color:n.colorErrorHover,borderColor:n.colorErrorHover},{color:n.colorErrorActive,borderColor:n.colorErrorActive})),GX=n=>Object.assign(Object.assign({},Qu(n,n.colorLink,"link",{color:n.colorLinkHover},{color:n.colorLinkActive})),pw(n.componentCls,n.ghostBg,n.colorInfo,n.colorInfo,n.colorTextDisabled,n.colorBorder,{color:n.colorInfoHover,borderColor:n.colorInfoHover},{color:n.colorInfoActive,borderColor:n.colorInfoActive})),kX=n=>{const{componentCls:e}=n;return Object.assign({[`${e}-color-default`]:UX(n),[`${e}-color-primary`]:FX(n),[`${e}-color-dangerous`]:HX(n),[`${e}-color-link`]:GX(n)},zX(n))},$X=n=>Object.assign(Object.assign(Object.assign(Object.assign({},vw(n,n.defaultBorderColor,n.defaultBg,{color:n.defaultHoverColor,borderColor:n.defaultHoverBorderColor,background:n.defaultHoverBg},{color:n.defaultActiveColor,borderColor:n.defaultActiveBorderColor,background:n.defaultActiveBg})),Qu(n,n.textTextColor,"text",{color:n.textTextHoverColor,background:n.textHoverBg},{color:n.textTextActiveColor,background:n.colorBgTextActive})),gw(n,n.primaryColor,n.colorPrimary,{background:n.colorPrimaryHover,color:n.primaryColor},{background:n.colorPrimaryActive,color:n.primaryColor})),Qu(n,n.colorLink,"link",{color:n.colorLinkHover,background:n.linkHoverBg},{color:n.colorLinkActive})),UO=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const{componentCls:t,controlHeight:r,fontSize:a,borderRadius:o,buttonPaddingHorizontal:l,iconCls:s,buttonPaddingVertical:u,buttonIconOnlyFontSize:f}=n;return[{[e]:{fontSize:a,height:r,padding:`${Mt(u)} ${Mt(l)}`,borderRadius:o,[`&${t}-icon-only`]:{width:r,[s]:{fontSize:f}}}},{[`${t}${t}-circle${e}`]:BX(n)},{[`${t}${t}-round${e}`]:DX(n)}]},VX=n=>{const e=qi(n,{fontSize:n.contentFontSize});return UO(e,n.componentCls)},jX=n=>{const e=qi(n,{controlHeight:n.controlHeightSM,fontSize:n.contentFontSizeSM,padding:n.paddingXS,buttonPaddingHorizontal:n.paddingInlineSM,buttonPaddingVertical:0,borderRadius:n.borderRadiusSM,buttonIconOnlyFontSize:n.onlyIconSizeSM});return UO(e,`${n.componentCls}-sm`)},WX=n=>{const e=qi(n,{controlHeight:n.controlHeightLG,fontSize:n.contentFontSizeLG,buttonPaddingHorizontal:n.paddingInlineLG,buttonPaddingVertical:0,borderRadius:n.borderRadiusLG,buttonIconOnlyFontSize:n.onlyIconSizeLG});return UO(e,`${n.componentCls}-lg`)},XX=n=>{const{componentCls:e}=n;return{[e]:{[`&${e}-block`]:{width:"100%"}}}},YX=Nr("Button",n=>{const e=RF(n);return[IX(e),VX(e),jX(e),WX(e),XX(e),kX(e),$X(e),QW(e)]},OF,{unitless:{fontWeight:!0,contentLineHeight:!0,contentLineHeightSM:!0,contentLineHeightLG:!0}});function qX(n,e,t){const{focusElCls:r,focus:a,borderElCls:o}=t,l=o?"> *":"",s=["hover",a?"focus":null,"active"].filter(Boolean).map(u=>`&:${u} ${l}`).join(",");return{[`&-item:not(${e}-last-item)`]:{marginInlineEnd:n.calc(n.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[s]:{zIndex:2}},r?{[`&${r}`]:{zIndex:2}}:{}),{[`&[disabled] ${l}`]:{zIndex:0}})}}function KX(n,e,t){const{borderElCls:r}=t,a=r?`> ${r}`:"";return{[`&-item:not(${e}-first-item):not(${e}-last-item) ${a}`]:{borderRadius:0},[`&-item:not(${e}-last-item)${e}-first-item`]:{[`& ${a}, &${n}-sm ${a}, &${n}-lg ${a}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${e}-first-item)${e}-last-item`]:{[`& ${a}, &${n}-sm ${a}, &${n}-lg ${a}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function BF(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:t}=n,r=`${t}-compact`;return{[r]:Object.assign(Object.assign({},qX(n,r,e)),KX(t,r,e))}}function JX(n,e){return{[`&-item:not(${e}-last-item)`]:{marginBottom:n.calc(n.lineWidth).mul(-1).equal()},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function QX(n,e){return{[`&-item:not(${e}-first-item):not(${e}-last-item)`]:{borderRadius:0},[`&-item${e}-first-item:not(${e}-last-item)`]:{[`&, &${n}-sm, &${n}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${e}-last-item:not(${e}-first-item)`]:{[`&, &${n}-sm, &${n}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function ZX(n){const e=`${n.componentCls}-compact-vertical`;return{[e]:Object.assign(Object.assign({},JX(n,e)),QX(n.componentCls,e))}}const eY=n=>{const{componentCls:e,colorPrimaryHover:t,lineWidth:r,calc:a}=n,o=a(r).mul(-1).equal(),l=s=>{const u=`${e}-compact${s?"-vertical":""}-item${e}-primary:not([disabled])`;return{[`${u} + ${u}::before`]:{position:"absolute",top:s?o:0,insetInlineStart:s?0:o,backgroundColor:t,content:'""',width:s?"100%":r,height:s?r:"100%"}}};return Object.assign(Object.assign({},l()),l(!0))},tY=cw(["Button","compact"],n=>{const e=RF(n);return[BF(e),ZX(e),eY(e)]},OF);var nY=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};function iY(n){if(typeof n=="object"&&n){let e=n==null?void 0:n.delay;return e=!Number.isNaN(e)&&typeof e=="number"?e:0,{loading:e<=0,delay:e}}return{loading:!!n,delay:0}}const rY={default:["default","outlined"],primary:["primary","solid"],dashed:["default","dashed"],link:["link","link"],text:["default","text"]},aY=Xe.forwardRef((n,e)=>{var t,r;const{loading:a=!1,prefixCls:o,color:l,variant:s,type:u,danger:f=!1,shape:m="default",size:y,styles:_,disabled:E,className:c,rootClassName:p,children:g,icon:b,iconPosition:C="start",ghost:T=!1,block:M=!1,htmlType:O="button",classNames:B,style:P={},autoInsertSpace:F,autoFocus:U}=n,z=nY(n,["loading","prefixCls","color","variant","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","iconPosition","ghost","block","htmlType","classNames","style","autoInsertSpace","autoFocus"]),$=u||"default",[J,W]=w.useMemo(()=>{if(l&&s)return[l,s];const rt=rY[$]||[];return f?["danger",rt[1]]:rt},[u,l,s,f]),ae=J==="danger"?"dangerous":J,{getPrefixCls:Y,direction:K,autoInsertSpace:ee,className:de,style:q,classNames:ie,styles:he}=nd("button"),fe=(t=F??ee)!==null&&t!==void 0?t:!0,Z=Y("btn",o),[pe,_e,Oe]=YX(Z),we=w.useContext(Ku),Te=E??we,ze=w.useContext(AF),yt=w.useMemo(()=>iY(a),[a]),[Be,xe]=w.useState(yt.loading),[re,Fe]=w.useState(!1),Ie=w.useRef(null),qe=A0(e,Ie),$e=w.Children.count(g)===1&&!b&&!CM(W),ct=w.useRef(!0);Xe.useEffect(()=>(ct.current=!1,()=>{ct.current=!0}),[]),w.useEffect(()=>{let rt=null;yt.delay>0?rt=setTimeout(()=>{rt=null,xe(!0)},yt.delay):xe(yt.loading);function Se(){rt&&(clearTimeout(rt),rt=null)}return Se},[yt]),w.useEffect(()=>{if(!Ie.current||!fe)return;const rt=Ie.current.textContent||"";$e&&YR(rt)?re||Fe(!0):re&&Fe(!1)}),w.useEffect(()=>{U&&Ie.current&&Ie.current.focus()},[]);const st=Xe.useCallback(rt=>{var Se;if(Be||Te){rt.preventDefault();return}(Se=n.onClick)===null||Se===void 0||Se.call(n,("href"in n,rt))},[n.onClick,Be,Te]),{compactSize:ce,compactItemClassnames:oe}=hw(Z,K),Ee={large:"lg",small:"sm",middle:void 0},De=Sf(rt=>{var Se,Ge;return(Ge=(Se=y??ce)!==null&&Se!==void 0?Se:ze)!==null&&Ge!==void 0?Ge:rt}),Ke=De&&(r=Ee[De])!==null&&r!==void 0?r:"",He=Be?"loading":b,gt=yo(z,["navigate"]),lt=Je(Z,_e,Oe,{[`${Z}-${m}`]:m!=="default"&&m,[`${Z}-${$}`]:$,[`${Z}-dangerous`]:f,[`${Z}-color-${ae}`]:ae,[`${Z}-variant-${W}`]:W,[`${Z}-${Ke}`]:Ke,[`${Z}-icon-only`]:!g&&g!==0&&!!He,[`${Z}-background-ghost`]:T&&!CM(W),[`${Z}-loading`]:Be,[`${Z}-two-chinese-chars`]:re&&fe&&!Be,[`${Z}-block`]:M,[`${Z}-rtl`]:K==="rtl",[`${Z}-icon-end`]:C==="end"},oe,c,p,de),pt=Object.assign(Object.assign({},q),P),It=Je(B==null?void 0:B.icon,ie.icon),ot=Object.assign(Object.assign({},(_==null?void 0:_.icon)||{}),he.icon||{}),_t=b&&!Be?Xe.createElement(qR,{prefixCls:Z,className:It,style:ot},b):a&&typeof a=="object"&&a.icon?Xe.createElement(qR,{prefixCls:Z,className:It,style:ot},a.icon):Xe.createElement(JW,{existIcon:!!b,prefixCls:Z,loading:Be,mount:ct.current}),Ct=g||g===0?KW(g,$e&&fe):null;if(gt.href!==void 0)return pe(Xe.createElement("a",Object.assign({},gt,{className:Je(lt,{[`${Z}-disabled`]:Te}),href:Te?void 0:gt.href,style:pt,onClick:st,ref:qe,tabIndex:Te?-1:0}),_t,Ct));let We=Xe.createElement("button",Object.assign({},z,{type:O,className:lt,style:pt,onClick:st,disabled:Te,ref:qe}),_t,Ct,oe&&Xe.createElement(tY,{prefixCls:Z}));return CM(W)||(We=Xe.createElement(dw,{component:"Button",disabled:Be},We)),pe(We)}),pa=aY;pa.Group=YW;pa.__ANT_BUTTON=!0;function MM(n){return!!(n!=null&&n.then)}const DF=n=>{const{type:e,children:t,prefixCls:r,buttonProps:a,close:o,autoFocus:l,emitEvent:s,isSilent:u,quitOnNullishReturnValue:f,actionFn:m}=n,y=w.useRef(!1),_=w.useRef(null),[E,c]=s0(!1),p=function(){o==null||o.apply(void 0,arguments)};w.useEffect(()=>{let C=null;return l&&(C=setTimeout(()=>{var T;(T=_.current)===null||T===void 0||T.focus({preventScroll:!0})})),()=>{C&&clearTimeout(C)}},[]);const g=C=>{MM(C)&&(c(!0),C.then(function(){c(!1,!0),p.apply(void 0,arguments),y.current=!1},T=>{if(c(!1,!0),y.current=!1,!(u!=null&&u()))return Promise.reject(T)}))},b=C=>{if(y.current)return;if(y.current=!0,!m){p();return}let T;if(s){if(T=m(C),f&&!MM(T)){y.current=!1,p(C);return}}else if(m.length)T=m(o),y.current=!1;else if(T=m(),!MM(T)){p();return}g(T)};return w.createElement(pa,Object.assign({},MF(e),{onClick:b,loading:E,prefixCls:r},a,{ref:_}),t)},ES=Xe.createContext({}),{Provider:PF}=ES,gP=()=>{const{autoFocusButton:n,cancelButtonProps:e,cancelTextLocale:t,isSilent:r,mergedOkCancel:a,rootPrefixCls:o,close:l,onCancel:s,onConfirm:u}=w.useContext(ES);return a?Xe.createElement(DF,{isSilent:r,actionFn:s,close:function(){l==null||l.apply(void 0,arguments),u==null||u(!1)},autoFocus:n==="cancel",buttonProps:e,prefixCls:`${o}-btn`},t):null},vP=()=>{const{autoFocusButton:n,close:e,isSilent:t,okButtonProps:r,rootPrefixCls:a,okTextLocale:o,okType:l,onConfirm:s,onOk:u}=w.useContext(ES);return Xe.createElement(DF,{isSilent:t,type:l||"primary",actionFn:u,close:function(){e==null||e.apply(void 0,arguments),s==null||s(!0)},autoFocus:n==="ok",buttonProps:r,prefixCls:`${a}-btn`},o)};var LF=w.createContext(null),yP=[];function oY(n,e){var t=w.useState(function(){if(!cs())return null;var c=document.createElement("div");return c}),r=vt(t,1),a=r[0],o=w.useRef(!1),l=w.useContext(LF),s=w.useState(yP),u=vt(s,2),f=u[0],m=u[1],y=l||(o.current?void 0:function(c){m(function(p){var g=[c].concat(Kt(p));return g})});function _(){a.parentElement||document.body.appendChild(a),o.current=!0}function E(){var c;(c=a.parentElement)===null||c===void 0||c.removeChild(a),o.current=!1}return wa(function(){return n?l?l(_):_():E(),E},[n]),wa(function(){f.length&&(f.forEach(function(c){return c()}),m(yP))},[f]),[a,y]}function sY(n){var e="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),t=document.createElement("div");t.id=e;var r=t.style;r.position="absolute",r.left="0",r.top="0",r.width="100px",r.height="100px",r.overflow="scroll";var a,o;if(n){var l=getComputedStyle(n);r.scrollbarColor=l.scrollbarColor,r.scrollbarWidth=l.scrollbarWidth;var s=getComputedStyle(n,"::-webkit-scrollbar"),u=parseInt(s.width,10),f=parseInt(s.height,10);try{var m=u?"width: ".concat(s.width,";"):"",y=f?"height: ".concat(s.height,";"):"";af(`
#`.concat(e,`::-webkit-scrollbar {
`).concat(m,`
`).concat(y,`
}`),e)}catch(c){console.error(c),a=u,o=f}}document.body.appendChild(t);var _=n&&a&&!isNaN(a)?a:t.offsetWidth-t.clientWidth,E=n&&o&&!isNaN(o)?o:t.offsetHeight-t.clientHeight;return document.body.removeChild(t),$b(e),{width:_,height:E}}function lY(n){return typeof document>"u"||!n||!(n instanceof Element)?{width:0,height:0}:sY(n)}function cY(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var uY="rc-util-locker-".concat(Date.now()),bP=0;function dY(n){var e=!!n,t=w.useState(function(){return bP+=1,"".concat(uY,"_").concat(bP)}),r=vt(t,1),a=r[0];wa(function(){if(e){var o=lY(document.body).width,l=cY();af(`
html body {
  overflow-y: hidden;
  `.concat(l?"width: calc(100% - ".concat(o,"px);"):"",`
}`),a)}else $b(a);return function(){$b(a)}},[e,a])}var fY=!1;function hY(n){return fY}var SP=function(e){return e===!1?!1:!cs()||!e?null:typeof e=="string"?document.querySelector(e):typeof e=="function"?e():e},Sw=w.forwardRef(function(n,e){var t=n.open,r=n.autoLock,a=n.getContainer;n.debug;var o=n.autoDestroy,l=o===void 0?!0:o,s=n.children,u=w.useState(t),f=vt(u,2),m=f[0],y=f[1],_=m||t;w.useEffect(function(){(l||t)&&y(t)},[t,l]);var E=w.useState(function(){return SP(a)}),c=vt(E,2),p=c[0],g=c[1];w.useEffect(function(){var $=SP(a);g($??null)});var b=oY(_&&!p),C=vt(b,2),T=C[0],M=C[1],O=p??T;dY(r&&t&&cs()&&(O===T||O===document.body));var B=null;if(s&&yS(s)&&e){var P=s;B=P.ref}var F=A0(B,e);if(!_||!cs()||p===void 0)return null;var U=O===!1||hY(),z=s;return e&&(z=w.cloneElement(s,{ref:F})),w.createElement(LF.Provider,{value:M},U?z:Lh.createPortal(z,O))}),NF=w.createContext({});function pY(){var n=Ne({},QE);return n.useId}var _P=0,xP=pY();const _w=xP?function(e){var t=xP();return e||t}:function(e){var t=w.useState("ssr-id"),r=vt(t,2),a=r[0],o=r[1];return w.useEffect(function(){var l=_P;_P+=1,o("rc_unique_".concat(l))},[]),e||a};function CP(n,e,t){var r=e;return!r&&t&&(r="".concat(n,"-").concat(t)),r}function EP(n,e){var t=n["page".concat(e?"Y":"X","Offset")],r="scroll".concat(e?"Top":"Left");if(typeof t!="number"){var a=n.document;t=a.documentElement[r],typeof t!="number"&&(t=a.body[r])}return t}function mY(n){var e=n.getBoundingClientRect(),t={left:e.left,top:e.top},r=n.ownerDocument,a=r.defaultView||r.parentWindow;return t.left+=EP(a),t.top+=EP(a,!0),t}const gY=w.memo(function(n){var e=n.children;return e},function(n,e){var t=e.shouldUpdate;return!t});var vY={width:0,height:0,overflow:"hidden",outline:"none"},yY={outline:"none"},zF=Xe.forwardRef(function(n,e){var t=n.prefixCls,r=n.className,a=n.style,o=n.title,l=n.ariaId,s=n.footer,u=n.closable,f=n.closeIcon,m=n.onClose,y=n.children,_=n.bodyStyle,E=n.bodyProps,c=n.modalRender,p=n.onMouseDown,g=n.onMouseUp,b=n.holderRef,C=n.visible,T=n.forceRender,M=n.width,O=n.height,B=n.classNames,P=n.styles,F=Xe.useContext(NF),U=F.panel,z=A0(b,U),$=w.useRef(),J=w.useRef();Xe.useImperativeHandle(e,function(){return{focus:function(){var he;(he=$.current)===null||he===void 0||he.focus({preventScroll:!0})},changeActive:function(he){var fe=document,Z=fe.activeElement;he&&Z===J.current?$.current.focus({preventScroll:!0}):!he&&Z===$.current&&J.current.focus({preventScroll:!0})}}});var W={};M!==void 0&&(W.width=M),O!==void 0&&(W.height=O);var Q=s?Xe.createElement("div",{className:Je("".concat(t,"-footer"),B==null?void 0:B.footer),style:Ne({},P==null?void 0:P.footer)},s):null,ae=o?Xe.createElement("div",{className:Je("".concat(t,"-header"),B==null?void 0:B.header),style:Ne({},P==null?void 0:P.header)},Xe.createElement("div",{className:"".concat(t,"-title"),id:l},o)):null,Y=w.useMemo(function(){return mn(u)==="object"&&u!==null?u:u?{closeIcon:f??Xe.createElement("span",{className:"".concat(t,"-close-x")})}:{}},[u,f,t]),K=zm(Y,!0),ee=mn(u)==="object"&&u.disabled,de=u?Xe.createElement("button",Pt({type:"button",onClick:m,"aria-label":"Close"},K,{className:"".concat(t,"-close"),disabled:ee}),Y.closeIcon):null,q=Xe.createElement("div",{className:Je("".concat(t,"-content"),B==null?void 0:B.content),style:P==null?void 0:P.content},de,ae,Xe.createElement("div",Pt({className:Je("".concat(t,"-body"),B==null?void 0:B.body),style:Ne(Ne({},_),P==null?void 0:P.body)},E),y),Q);return Xe.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":o?l:null,"aria-modal":"true",ref:z,style:Ne(Ne({},a),W),className:Je(t,r),onMouseDown:p,onMouseUp:g},Xe.createElement("div",{ref:$,tabIndex:0,style:yY},Xe.createElement(gY,{shouldUpdate:C||T},c?c(q):q)),Xe.createElement("div",{tabIndex:0,ref:J,style:vY}))}),UF=w.forwardRef(function(n,e){var t=n.prefixCls,r=n.title,a=n.style,o=n.className,l=n.visible,s=n.forceRender,u=n.destroyOnClose,f=n.motionName,m=n.ariaId,y=n.onVisibleChanged,_=n.mousePosition,E=w.useRef(),c=w.useState(),p=vt(c,2),g=p[0],b=p[1],C={};g&&(C.transformOrigin=g);function T(){var M=mY(E.current);b(_&&(_.x||_.y)?"".concat(_.x-M.left,"px ").concat(_.y-M.top,"px"):"")}return w.createElement($c,{visible:l,onVisibleChanged:y,onAppearPrepare:T,onEnterPrepare:T,forceRender:s,motionName:f,removeOnLeave:u,ref:E},function(M,O){var B=M.className,P=M.style;return w.createElement(zF,Pt({},n,{ref:e,title:r,ariaId:m,prefixCls:t,holderRef:O,style:Ne(Ne(Ne({},P),a),C),className:Je(o,B)}))})});UF.displayName="Content";var bY=function(e){var t=e.prefixCls,r=e.style,a=e.visible,o=e.maskProps,l=e.motionName,s=e.className;return w.createElement($c,{key:"mask",visible:a,motionName:l,leavedClassName:"".concat(t,"-mask-hidden")},function(u,f){var m=u.className,y=u.style;return w.createElement("div",Pt({ref:f,style:Ne(Ne({},y),r),className:Je("".concat(t,"-mask"),m,s)},o))})},SY=function(e){var t=e.prefixCls,r=t===void 0?"rc-dialog":t,a=e.zIndex,o=e.visible,l=o===void 0?!1:o,s=e.keyboard,u=s===void 0?!0:s,f=e.focusTriggerAfterClose,m=f===void 0?!0:f,y=e.wrapStyle,_=e.wrapClassName,E=e.wrapProps,c=e.onClose,p=e.afterOpenChange,g=e.afterClose,b=e.transitionName,C=e.animation,T=e.closable,M=T===void 0?!0:T,O=e.mask,B=O===void 0?!0:O,P=e.maskTransitionName,F=e.maskAnimation,U=e.maskClosable,z=U===void 0?!0:U,$=e.maskStyle,J=e.maskProps,W=e.rootClassName,Q=e.classNames,ae=e.styles,Y=w.useRef(),K=w.useRef(),ee=w.useRef(),de=w.useState(l),q=vt(de,2),ie=q[0],he=q[1],fe=_w();function Z(){TR(K.current,document.activeElement)||(Y.current=document.activeElement)}function pe(){if(!TR(K.current,document.activeElement)){var Fe;(Fe=ee.current)===null||Fe===void 0||Fe.focus()}}function _e(Fe){if(Fe)pe();else{if(he(!1),B&&Y.current&&m){try{Y.current.focus({preventScroll:!0})}catch{}Y.current=null}ie&&(g==null||g())}p==null||p(Fe)}function Oe(Fe){c==null||c(Fe)}var we=w.useRef(!1),Te=w.useRef(),ze=function(){clearTimeout(Te.current),we.current=!0},yt=function(){Te.current=setTimeout(function(){we.current=!1})},Be=null;z&&(Be=function(Ie){we.current?we.current=!1:K.current===Ie.target&&Oe(Ie)});function xe(Fe){if(u&&Fe.keyCode===to.ESC){Fe.stopPropagation(),Oe(Fe);return}l&&Fe.keyCode===to.TAB&&ee.current.changeActive(!Fe.shiftKey)}w.useEffect(function(){l&&(he(!0),Z())},[l]),w.useEffect(function(){return function(){clearTimeout(Te.current)}},[]);var re=Ne(Ne(Ne({zIndex:a},y),ae==null?void 0:ae.wrapper),{},{display:ie?null:"none"});return w.createElement("div",Pt({className:Je("".concat(r,"-root"),W)},zm(e,{data:!0})),w.createElement(bY,{prefixCls:r,visible:B&&l,motionName:CP(r,P,F),style:Ne(Ne({zIndex:a},$),ae==null?void 0:ae.mask),maskProps:J,className:Q==null?void 0:Q.mask}),w.createElement("div",Pt({tabIndex:-1,onKeyDown:xe,className:Je("".concat(r,"-wrap"),_,Q==null?void 0:Q.wrapper),ref:K,onClick:Be,style:re},E),w.createElement(UF,Pt({},e,{onMouseDown:ze,onMouseUp:yt,ref:ee,closable:M,ariaId:fe,prefixCls:r,visible:l&&ie,onClose:Oe,onVisibleChanged:_e,motionName:CP(r,b,C)}))))},FO=function(e){var t=e.visible,r=e.getContainer,a=e.forceRender,o=e.destroyOnClose,l=o===void 0?!1:o,s=e.afterClose,u=e.panelRef,f=w.useState(t),m=vt(f,2),y=m[0],_=m[1],E=w.useMemo(function(){return{panel:u}},[u]);return w.useEffect(function(){t&&_(!0)},[t]),!a&&l&&!y?null:w.createElement(NF.Provider,{value:E},w.createElement(Sw,{open:t||a||y,autoDestroy:!1,getContainer:r,autoLock:t||y},w.createElement(SY,Pt({},e,{destroyOnClose:l,afterClose:function(){s==null||s(),_(!1)}}))))};FO.displayName="Dialog";var sm="RC_FORM_INTERNAL_HOOKS",hr=function(){zo(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},c0=w.createContext({getFieldValue:hr,getFieldsValue:hr,getFieldError:hr,getFieldWarning:hr,getFieldsError:hr,isFieldsTouched:hr,isFieldTouched:hr,isFieldValidating:hr,isFieldsValidating:hr,resetFields:hr,setFields:hr,setFieldValue:hr,setFieldsValue:hr,validateFields:hr,submit:hr,getInternalHooks:function(){return hr(),{dispatch:hr,initEntityValue:hr,registerField:hr,useSubscribe:hr,setInitialValues:hr,destroyForm:hr,setCallbacks:hr,registerWatch:hr,getFields:hr,setValidateMessages:hr,setPreserve:hr,getInitialValue:hr}}}),P1=w.createContext(null);function KR(n){return n==null?[]:Array.isArray(n)?n:[n]}function _Y(n){return n&&!!n._init}function JR(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var QR=JR();function xY(n){try{return Function.toString.call(n).indexOf("[native code]")!==-1}catch{return typeof n=="function"}}function CY(n,e,t){if(SO())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var a=new(n.bind.apply(n,r));return t&&Wb(a,t.prototype),a}function ZR(n){var e=typeof Map=="function"?new Map:void 0;return ZR=function(r){if(r===null||!xY(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(r))return e.get(r);e.set(r,a)}function a(){return CY(r,arguments,Pi(this).constructor)}return a.prototype=Object.create(r.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),Wb(a,r)},ZR(n)}var EY=/%[sdj%]/g,wY=function(){};function e2(n){if(!n||!n.length)return null;var e={};return n.forEach(function(t){var r=t.field;e[r]=e[r]||[],e[r].push(t)}),e}function Zs(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var a=0,o=t.length;if(typeof n=="function")return n.apply(null,t);if(typeof n=="string"){var l=n.replace(EY,function(s){if(s==="%%")return"%";if(a>=o)return s;switch(s){case"%s":return String(t[a++]);case"%d":return Number(t[a++]);case"%j":try{return JSON.stringify(t[a++])}catch{return"[Circular]"}break;default:return s}});return l}return n}function AY(n){return n==="string"||n==="url"||n==="hex"||n==="email"||n==="date"||n==="pattern"}function La(n,e){return!!(n==null||e==="array"&&Array.isArray(n)&&!n.length||AY(e)&&typeof n=="string"&&!n)}function MY(n,e,t){var r=[],a=0,o=n.length;function l(s){r.push.apply(r,Kt(s||[])),a++,a===o&&t(r)}n.forEach(function(s){e(s,l)})}function wP(n,e,t){var r=0,a=n.length;function o(l){if(l&&l.length){t(l);return}var s=r;r=r+1,s<a?e(n[s],o):t([])}o([])}function TY(n){var e=[];return Object.keys(n).forEach(function(t){e.push.apply(e,Kt(n[t]||[]))}),e}var AP=function(n){Ar(t,n);var e=kc(t);function t(r,a){var o;return ai(this,t),o=e.call(this,"Async Validation Error"),ue(Dn(o),"errors",void 0),ue(Dn(o),"fields",void 0),o.errors=r,o.fields=a,o}return oi(t)}(ZR(Error));function RY(n,e,t,r,a){if(e.first){var o=new Promise(function(_,E){var c=function(b){return r(b),b.length?E(new AP(b,e2(b))):_(a)},p=TY(n);wP(p,t,c)});return o.catch(function(_){return _}),o}var l=e.firstFields===!0?Object.keys(n):e.firstFields||[],s=Object.keys(n),u=s.length,f=0,m=[],y=new Promise(function(_,E){var c=function(g){if(m.push.apply(m,g),f++,f===u)return r(m),m.length?E(new AP(m,e2(m))):_(a)};s.length||(r(m),_(a)),s.forEach(function(p){var g=n[p];l.indexOf(p)!==-1?wP(g,t,c):MY(g,t,c)})});return y.catch(function(_){return _}),y}function OY(n){return!!(n&&n.message!==void 0)}function IY(n,e){for(var t=n,r=0;r<e.length;r++){if(t==null)return t;t=t[e[r]]}return t}function MP(n,e){return function(t){var r;return n.fullFields?r=IY(e,n.fullFields):r=e[t.field||n.fullField],OY(t)?(t.field=t.field||n.fullField,t.fieldValue=r,t):{message:typeof t=="function"?t():t,fieldValue:r,field:t.field||n.fullField}}}function TP(n,e){if(e){for(var t in e)if(e.hasOwnProperty(t)){var r=e[t];mn(r)==="object"&&mn(n[t])==="object"?n[t]=Ne(Ne({},n[t]),r):n[t]=r}}return n}var Lg="enum",BY=function(e,t,r,a,o){e[Lg]=Array.isArray(e[Lg])?e[Lg]:[],e[Lg].indexOf(t)===-1&&a.push(Zs(o.messages[Lg],e.fullField,e[Lg].join(", ")))},DY=function(e,t,r,a,o){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||a.push(Zs(o.messages.pattern.mismatch,e.fullField,t,e.pattern));else if(typeof e.pattern=="string"){var l=new RegExp(e.pattern);l.test(t)||a.push(Zs(o.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},PY=function(e,t,r,a,o){var l=typeof e.len=="number",s=typeof e.min=="number",u=typeof e.max=="number",f=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,m=t,y=null,_=typeof t=="number",E=typeof t=="string",c=Array.isArray(t);if(_?y="number":E?y="string":c&&(y="array"),!y)return!1;c&&(m=t.length),E&&(m=t.replace(f,"_").length),l?m!==e.len&&a.push(Zs(o.messages[y].len,e.fullField,e.len)):s&&!u&&m<e.min?a.push(Zs(o.messages[y].min,e.fullField,e.min)):u&&!s&&m>e.max?a.push(Zs(o.messages[y].max,e.fullField,e.max)):s&&u&&(m<e.min||m>e.max)&&a.push(Zs(o.messages[y].range,e.fullField,e.min,e.max))},FF=function(e,t,r,a,o,l){e.required&&(!r.hasOwnProperty(e.field)||La(t,l||e.type))&&a.push(Zs(o.messages.required,e.fullField))},gx;const LY=function(){if(gx)return gx;var n="[a-fA-F\\d:]",e=function(B){return B&&B.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(n,")|(?<=").concat(n,")(?=\\s|$))"):""},t="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",a=["(?:".concat(r,":){7}(?:").concat(r,"|:)"),"(?:".concat(r,":){6}(?:").concat(t,"|:").concat(r,"|:)"),"(?:".concat(r,":){5}(?::").concat(t,"|(?::").concat(r,"){1,2}|:)"),"(?:".concat(r,":){4}(?:(?::").concat(r,"){0,1}:").concat(t,"|(?::").concat(r,"){1,3}|:)"),"(?:".concat(r,":){3}(?:(?::").concat(r,"){0,2}:").concat(t,"|(?::").concat(r,"){1,4}|:)"),"(?:".concat(r,":){2}(?:(?::").concat(r,"){0,3}:").concat(t,"|(?::").concat(r,"){1,5}|:)"),"(?:".concat(r,":){1}(?:(?::").concat(r,"){0,4}:").concat(t,"|(?::").concat(r,"){1,6}|:)"),"(?::(?:(?::".concat(r,"){0,5}:").concat(t,"|(?::").concat(r,"){1,7}|:))")],o="(?:%[0-9a-zA-Z]{1,})?",l="(?:".concat(a.join("|"),")").concat(o),s=new RegExp("(?:^".concat(t,"$)|(?:^").concat(l,"$)")),u=new RegExp("^".concat(t,"$")),f=new RegExp("^".concat(l,"$")),m=function(B){return B&&B.exact?s:new RegExp("(?:".concat(e(B)).concat(t).concat(e(B),")|(?:").concat(e(B)).concat(l).concat(e(B),")"),"g")};m.v4=function(O){return O&&O.exact?u:new RegExp("".concat(e(O)).concat(t).concat(e(O)),"g")},m.v6=function(O){return O&&O.exact?f:new RegExp("".concat(e(O)).concat(l).concat(e(O)),"g")};var y="(?:(?:[a-z]+:)?//)",_="(?:\\S+(?::\\S*)?@)?",E=m.v4().source,c=m.v6().source,p="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",g="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",b="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",C="(?::\\d{2,5})?",T='(?:[/?#][^\\s"]*)?',M="(?:".concat(y,"|www\\.)").concat(_,"(?:localhost|").concat(E,"|").concat(c,"|").concat(p).concat(g).concat(b,")").concat(C).concat(T);return gx=new RegExp("(?:^".concat(M,"$)"),"i"),gx};var RP={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},ab={integer:function(e){return ab.number(e)&&parseInt(e,10)===e},float:function(e){return ab.number(e)&&!ab.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return mn(e)==="object"&&!ab.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(RP.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(LY())},hex:function(e){return typeof e=="string"&&!!e.match(RP.hex)}},NY=function(e,t,r,a,o){if(e.required&&t===void 0){FF(e,t,r,a,o);return}var l=["integer","float","array","regexp","object","method","email","number","date","url","hex"],s=e.type;l.indexOf(s)>-1?ab[s](t)||a.push(Zs(o.messages.types[s],e.fullField,e.type)):s&&mn(t)!==e.type&&a.push(Zs(o.messages.types[s],e.fullField,e.type))},zY=function(e,t,r,a,o){(/^\s+$/.test(t)||t==="")&&a.push(Zs(o.messages.whitespace,e.fullField))};const wi={required:FF,whitespace:zY,type:NY,range:PY,enum:BY,pattern:DY};var UY=function(e,t,r,a,o){var l=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(La(t)&&!e.required)return r();wi.required(e,t,a,l,o)}r(l)},FY=function(e,t,r,a,o){var l=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(t==null&&!e.required)return r();wi.required(e,t,a,l,o,"array"),t!=null&&(wi.type(e,t,a,l,o),wi.range(e,t,a,l,o))}r(l)},HY=function(e,t,r,a,o){var l=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(La(t)&&!e.required)return r();wi.required(e,t,a,l,o),t!==void 0&&wi.type(e,t,a,l,o)}r(l)},GY=function(e,t,r,a,o){var l=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(La(t,"date")&&!e.required)return r();if(wi.required(e,t,a,l,o),!La(t,"date")){var u;t instanceof Date?u=t:u=new Date(t),wi.type(e,u,a,l,o),u&&wi.range(e,u.getTime(),a,l,o)}}r(l)},kY="enum",$Y=function(e,t,r,a,o){var l=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(La(t)&&!e.required)return r();wi.required(e,t,a,l,o),t!==void 0&&wi[kY](e,t,a,l,o)}r(l)},VY=function(e,t,r,a,o){var l=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(La(t)&&!e.required)return r();wi.required(e,t,a,l,o),t!==void 0&&(wi.type(e,t,a,l,o),wi.range(e,t,a,l,o))}r(l)},jY=function(e,t,r,a,o){var l=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(La(t)&&!e.required)return r();wi.required(e,t,a,l,o),t!==void 0&&(wi.type(e,t,a,l,o),wi.range(e,t,a,l,o))}r(l)},WY=function(e,t,r,a,o){var l=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(La(t)&&!e.required)return r();wi.required(e,t,a,l,o),t!==void 0&&wi.type(e,t,a,l,o)}r(l)},XY=function(e,t,r,a,o){var l=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(t===""&&(t=void 0),La(t)&&!e.required)return r();wi.required(e,t,a,l,o),t!==void 0&&(wi.type(e,t,a,l,o),wi.range(e,t,a,l,o))}r(l)},YY=function(e,t,r,a,o){var l=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(La(t)&&!e.required)return r();wi.required(e,t,a,l,o),t!==void 0&&wi.type(e,t,a,l,o)}r(l)},qY=function(e,t,r,a,o){var l=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(La(t,"string")&&!e.required)return r();wi.required(e,t,a,l,o),La(t,"string")||wi.pattern(e,t,a,l,o)}r(l)},KY=function(e,t,r,a,o){var l=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(La(t)&&!e.required)return r();wi.required(e,t,a,l,o),La(t)||wi.type(e,t,a,l,o)}r(l)},JY=function(e,t,r,a,o){var l=[],s=Array.isArray(t)?"array":mn(t);wi.required(e,t,a,l,o,s),r(l)},QY=function(e,t,r,a,o){var l=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(La(t,"string")&&!e.required)return r();wi.required(e,t,a,l,o,"string"),La(t,"string")||(wi.type(e,t,a,l,o),wi.range(e,t,a,l,o),wi.pattern(e,t,a,l,o),e.whitespace===!0&&wi.whitespace(e,t,a,l,o))}r(l)},TM=function(e,t,r,a,o){var l=e.type,s=[],u=e.required||!e.required&&a.hasOwnProperty(e.field);if(u){if(La(t,l)&&!e.required)return r();wi.required(e,t,a,s,o,l),La(t,l)||wi.type(e,t,a,s,o)}r(s)};const Mb={string:QY,method:WY,number:XY,boolean:HY,regexp:KY,integer:jY,float:VY,array:FY,object:YY,enum:$Y,pattern:qY,date:GY,url:TM,hex:TM,email:TM,required:JY,any:UY};var wS=function(){function n(e){ai(this,n),ue(this,"rules",null),ue(this,"_messages",QR),this.define(e)}return oi(n,[{key:"define",value:function(t){var r=this;if(!t)throw new Error("Cannot configure a schema with no rules");if(mn(t)!=="object"||Array.isArray(t))throw new Error("Rules must be an object");this.rules={},Object.keys(t).forEach(function(a){var o=t[a];r.rules[a]=Array.isArray(o)?o:[o]})}},{key:"messages",value:function(t){return t&&(this._messages=TP(JR(),t)),this._messages}},{key:"validate",value:function(t){var r=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},l=t,s=a,u=o;if(typeof s=="function"&&(u=s,s={}),!this.rules||Object.keys(this.rules).length===0)return u&&u(null,l),Promise.resolve(l);function f(c){var p=[],g={};function b(T){if(Array.isArray(T)){var M;p=(M=p).concat.apply(M,Kt(T))}else p.push(T)}for(var C=0;C<c.length;C++)b(c[C]);p.length?(g=e2(p),u(p,g)):u(null,l)}if(s.messages){var m=this.messages();m===QR&&(m=JR()),TP(m,s.messages),s.messages=m}else s.messages=this.messages();var y={},_=s.keys||Object.keys(this.rules);_.forEach(function(c){var p=r.rules[c],g=l[c];p.forEach(function(b){var C=b;typeof C.transform=="function"&&(l===t&&(l=Ne({},l)),g=l[c]=C.transform(g),g!=null&&(C.type=C.type||(Array.isArray(g)?"array":mn(g)))),typeof C=="function"?C={validator:C}:C=Ne({},C),C.validator=r.getValidationMethod(C),C.validator&&(C.field=c,C.fullField=C.fullField||c,C.type=r.getType(C),y[c]=y[c]||[],y[c].push({rule:C,value:g,source:l,field:c}))})});var E={};return RY(y,s,function(c,p){var g=c.rule,b=(g.type==="object"||g.type==="array")&&(mn(g.fields)==="object"||mn(g.defaultField)==="object");b=b&&(g.required||!g.required&&c.value),g.field=c.field;function C(P,F){return Ne(Ne({},F),{},{fullField:"".concat(g.fullField,".").concat(P),fullFields:g.fullFields?[].concat(Kt(g.fullFields),[P]):[P]})}function T(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],F=Array.isArray(P)?P:[P];!s.suppressWarning&&F.length&&n.warning("async-validator:",F),F.length&&g.message!==void 0&&(F=[].concat(g.message));var U=F.map(MP(g,l));if(s.first&&U.length)return E[g.field]=1,p(U);if(!b)p(U);else{if(g.required&&!c.value)return g.message!==void 0?U=[].concat(g.message).map(MP(g,l)):s.error&&(U=[s.error(g,Zs(s.messages.required,g.field))]),p(U);var z={};g.defaultField&&Object.keys(c.value).map(function(W){z[W]=g.defaultField}),z=Ne(Ne({},z),c.rule.fields);var $={};Object.keys(z).forEach(function(W){var Q=z[W],ae=Array.isArray(Q)?Q:[Q];$[W]=ae.map(C.bind(null,W))});var J=new n($);J.messages(s.messages),c.rule.options&&(c.rule.options.messages=s.messages,c.rule.options.error=s.error),J.validate(c.value,c.rule.options||s,function(W){var Q=[];U&&U.length&&Q.push.apply(Q,Kt(U)),W&&W.length&&Q.push.apply(Q,Kt(W)),p(Q.length?Q:null)})}}var M;if(g.asyncValidator)M=g.asyncValidator(g,c.value,T,c.source,s);else if(g.validator){try{M=g.validator(g,c.value,T,c.source,s)}catch(P){var O,B;(O=(B=console).error)===null||O===void 0||O.call(B,P),s.suppressValidatorError||setTimeout(function(){throw P},0),T(P.message)}M===!0?T():M===!1?T(typeof g.message=="function"?g.message(g.fullField||g.field):g.message||"".concat(g.fullField||g.field," fails")):M instanceof Array?T(M):M instanceof Error&&T(M.message)}M&&M.then&&M.then(function(){return T()},function(P){return T(P)})},function(c){f(c)},l)}},{key:"getType",value:function(t){if(t.type===void 0&&t.pattern instanceof RegExp&&(t.type="pattern"),typeof t.validator!="function"&&t.type&&!Mb.hasOwnProperty(t.type))throw new Error(Zs("Unknown rule type %s",t.type));return t.type||"string"}},{key:"getValidationMethod",value:function(t){if(typeof t.validator=="function")return t.validator;var r=Object.keys(t),a=r.indexOf("message");return a!==-1&&r.splice(a,1),r.length===1&&r[0]==="required"?Mb.required:Mb[this.getType(t)]||void 0}}]),n}();ue(wS,"register",function(e,t){if(typeof t!="function")throw new Error("Cannot register a validator by type, validator is not a function");Mb[e]=t});ue(wS,"warning",wY);ue(wS,"messages",QR);ue(wS,"validators",Mb);var Ws="'${name}' is not a valid ${type}",HF={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:Ws,method:Ws,array:Ws,object:Ws,number:Ws,date:Ws,boolean:Ws,integer:Ws,float:Ws,regexp:Ws,email:Ws,url:Ws,hex:Ws},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},OP=wS;function ZY(n,e){return n.replace(/\\?\$\{\w+\}/g,function(t){if(t.startsWith("\\"))return t.slice(1);var r=t.slice(2,-1);return e[r]})}var IP="CODE_LOGIC_ERROR";function t2(n,e,t,r,a){return n2.apply(this,arguments)}function n2(){return n2=Qs(br().mark(function n(e,t,r,a,o){var l,s,u,f,m,y,_,E,c;return br().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return l=Ne({},r),delete l.ruleIndex,OP.warning=function(){},l.validator&&(s=l.validator,l.validator=function(){try{return s.apply(void 0,arguments)}catch(b){return console.error(b),Promise.reject(IP)}}),u=null,l&&l.type==="array"&&l.defaultField&&(u=l.defaultField,delete l.defaultField),f=new OP(ue({},e,[l])),m=Rv(HF,a.validateMessages),f.messages(m),y=[],g.prev=10,g.next=13,Promise.resolve(f.validate(ue({},e,t),Ne({},a)));case 13:g.next=18;break;case 15:g.prev=15,g.t0=g.catch(10),g.t0.errors&&(y=g.t0.errors.map(function(b,C){var T=b.message,M=T===IP?m.default:T;return w.isValidElement(M)?w.cloneElement(M,{key:"error_".concat(C)}):M}));case 18:if(!(!y.length&&u)){g.next=23;break}return g.next=21,Promise.all(t.map(function(b,C){return t2("".concat(e,".").concat(C),b,u,a,o)}));case 21:return _=g.sent,g.abrupt("return",_.reduce(function(b,C){return[].concat(Kt(b),Kt(C))},[]));case 23:return E=Ne(Ne({},r),{},{name:e,enum:(r.enum||[]).join(", ")},o),c=y.map(function(b){return typeof b=="string"?ZY(b,E):b}),g.abrupt("return",c);case 26:case"end":return g.stop()}},n,null,[[10,15]])})),n2.apply(this,arguments)}function eq(n,e,t,r,a,o){var l=n.join("."),s=t.map(function(m,y){var _=m.validator,E=Ne(Ne({},m),{},{ruleIndex:y});return _&&(E.validator=function(c,p,g){var b=!1,C=function(){for(var O=arguments.length,B=new Array(O),P=0;P<O;P++)B[P]=arguments[P];Promise.resolve().then(function(){zo(!b,"Your validator function has already return a promise. `callback` will be ignored."),b||g.apply(void 0,B)})},T=_(c,p,C);b=T&&typeof T.then=="function"&&typeof T.catch=="function",zo(b,"`callback` is deprecated. Please return a promise instead."),b&&T.then(function(){g()}).catch(function(M){g(M||" ")})}),E}).sort(function(m,y){var _=m.warningOnly,E=m.ruleIndex,c=y.warningOnly,p=y.ruleIndex;return!!_==!!c?E-p:_?1:-1}),u;if(a===!0)u=new Promise(function(){var m=Qs(br().mark(function y(_,E){var c,p,g;return br().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:c=0;case 1:if(!(c<s.length)){C.next=12;break}return p=s[c],C.next=5,t2(l,e,p,r,o);case 5:if(g=C.sent,!g.length){C.next=9;break}return E([{errors:g,rule:p}]),C.abrupt("return");case 9:c+=1,C.next=1;break;case 12:_([]);case 13:case"end":return C.stop()}},y)}));return function(y,_){return m.apply(this,arguments)}}());else{var f=s.map(function(m){return t2(l,e,m,r,o).then(function(y){return{errors:y,rule:m}})});u=(a?nq(f):tq(f)).then(function(m){return Promise.reject(m)})}return u.catch(function(m){return m}),u}function tq(n){return i2.apply(this,arguments)}function i2(){return i2=Qs(br().mark(function n(e){return br().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.all(e).then(function(a){var o,l=(o=[]).concat.apply(o,Kt(a));return l}));case 1:case"end":return r.stop()}},n)})),i2.apply(this,arguments)}function nq(n){return r2.apply(this,arguments)}function r2(){return r2=Qs(br().mark(function n(e){var t;return br().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=0,a.abrupt("return",new Promise(function(o){e.forEach(function(l){l.then(function(s){s.errors.length&&o([s]),t+=1,t===e.length&&o([])})})}));case 2:case"end":return a.stop()}},n)})),r2.apply(this,arguments)}function ha(n){return KR(n)}function BP(n,e){var t={};return e.forEach(function(r){var a=$u(n,r);t=Rc(t,r,a)}),t}function Wv(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return n&&n.some(function(r){return GF(e,r,t)})}function GF(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!n||!e||!t&&n.length!==e.length?!1:e.every(function(r,a){return n[a]===r})}function iq(n,e){if(n===e)return!0;if(!n&&e||n&&!e||!n||!e||mn(n)!=="object"||mn(e)!=="object")return!1;var t=Object.keys(n),r=Object.keys(e),a=new Set([].concat(t,r));return Kt(a).every(function(o){var l=n[o],s=e[o];return typeof l=="function"&&typeof s=="function"?!0:l===s})}function rq(n){var e=arguments.length<=1?void 0:arguments[1];return e&&e.target&&mn(e.target)==="object"&&n in e.target?e.target[n]:e}function DP(n,e,t){var r=n.length;if(e<0||e>=r||t<0||t>=r)return n;var a=n[e],o=e-t;return o>0?[].concat(Kt(n.slice(0,t)),[a],Kt(n.slice(t,e)),Kt(n.slice(e+1,r))):o<0?[].concat(Kt(n.slice(0,e)),Kt(n.slice(e+1,t+1)),[a],Kt(n.slice(t+1,r))):n}var aq=["name"],Ol=[];function RM(n,e,t,r,a,o){return typeof n=="function"?n(e,t,"source"in o?{source:o.source}:{}):r!==a}var HO=function(n){Ar(t,n);var e=kc(t);function t(r){var a;if(ai(this,t),a=e.call(this,r),ue(Dn(a),"state",{resetCount:0}),ue(Dn(a),"cancelRegisterFunc",null),ue(Dn(a),"mounted",!1),ue(Dn(a),"touched",!1),ue(Dn(a),"dirty",!1),ue(Dn(a),"validatePromise",void 0),ue(Dn(a),"prevValidating",void 0),ue(Dn(a),"errors",Ol),ue(Dn(a),"warnings",Ol),ue(Dn(a),"cancelRegister",function(){var u=a.props,f=u.preserve,m=u.isListField,y=u.name;a.cancelRegisterFunc&&a.cancelRegisterFunc(m,f,ha(y)),a.cancelRegisterFunc=null}),ue(Dn(a),"getNamePath",function(){var u=a.props,f=u.name,m=u.fieldContext,y=m.prefixName,_=y===void 0?[]:y;return f!==void 0?[].concat(Kt(_),Kt(f)):[]}),ue(Dn(a),"getRules",function(){var u=a.props,f=u.rules,m=f===void 0?[]:f,y=u.fieldContext;return m.map(function(_){return typeof _=="function"?_(y):_})}),ue(Dn(a),"refresh",function(){a.mounted&&a.setState(function(u){var f=u.resetCount;return{resetCount:f+1}})}),ue(Dn(a),"metaCache",null),ue(Dn(a),"triggerMetaEvent",function(u){var f=a.props.onMetaChange;if(f){var m=Ne(Ne({},a.getMeta()),{},{destroy:u});n0(a.metaCache,m)||f(m),a.metaCache=m}else a.metaCache=null}),ue(Dn(a),"onStoreChange",function(u,f,m){var y=a.props,_=y.shouldUpdate,E=y.dependencies,c=E===void 0?[]:E,p=y.onReset,g=m.store,b=a.getNamePath(),C=a.getValue(u),T=a.getValue(g),M=f&&Wv(f,b);switch(m.type==="valueUpdate"&&m.source==="external"&&!n0(C,T)&&(a.touched=!0,a.dirty=!0,a.validatePromise=null,a.errors=Ol,a.warnings=Ol,a.triggerMetaEvent()),m.type){case"reset":if(!f||M){a.touched=!1,a.dirty=!1,a.validatePromise=void 0,a.errors=Ol,a.warnings=Ol,a.triggerMetaEvent(),p==null||p(),a.refresh();return}break;case"remove":{if(_&&RM(_,u,g,C,T,m)){a.reRender();return}break}case"setField":{var O=m.data;if(M){"touched"in O&&(a.touched=O.touched),"validating"in O&&!("originRCField"in O)&&(a.validatePromise=O.validating?Promise.resolve([]):null),"errors"in O&&(a.errors=O.errors||Ol),"warnings"in O&&(a.warnings=O.warnings||Ol),a.dirty=!0,a.triggerMetaEvent(),a.reRender();return}else if("value"in O&&Wv(f,b,!0)){a.reRender();return}if(_&&!b.length&&RM(_,u,g,C,T,m)){a.reRender();return}break}case"dependenciesUpdate":{var B=c.map(ha);if(B.some(function(P){return Wv(m.relatedFields,P)})){a.reRender();return}break}default:if(M||(!c.length||b.length||_)&&RM(_,u,g,C,T,m)){a.reRender();return}break}_===!0&&a.reRender()}),ue(Dn(a),"validateRules",function(u){var f=a.getNamePath(),m=a.getValue(),y=u||{},_=y.triggerName,E=y.validateOnly,c=E===void 0?!1:E,p=Promise.resolve().then(Qs(br().mark(function g(){var b,C,T,M,O,B,P;return br().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(a.mounted){U.next=2;break}return U.abrupt("return",[]);case 2:if(b=a.props,C=b.validateFirst,T=C===void 0?!1:C,M=b.messageVariables,O=b.validateDebounce,B=a.getRules(),_&&(B=B.filter(function(z){return z}).filter(function(z){var $=z.validateTrigger;if(!$)return!0;var J=KR($);return J.includes(_)})),!(O&&_)){U.next=10;break}return U.next=8,new Promise(function(z){setTimeout(z,O)});case 8:if(a.validatePromise===p){U.next=10;break}return U.abrupt("return",[]);case 10:return P=eq(f,m,B,u,T,M),P.catch(function(z){return z}).then(function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ol;if(a.validatePromise===p){var $;a.validatePromise=null;var J=[],W=[];($=z.forEach)===null||$===void 0||$.call(z,function(Q){var ae=Q.rule.warningOnly,Y=Q.errors,K=Y===void 0?Ol:Y;ae?W.push.apply(W,Kt(K)):J.push.apply(J,Kt(K))}),a.errors=J,a.warnings=W,a.triggerMetaEvent(),a.reRender()}}),U.abrupt("return",P);case 13:case"end":return U.stop()}},g)})));return c||(a.validatePromise=p,a.dirty=!0,a.errors=Ol,a.warnings=Ol,a.triggerMetaEvent(),a.reRender()),p}),ue(Dn(a),"isFieldValidating",function(){return!!a.validatePromise}),ue(Dn(a),"isFieldTouched",function(){return a.touched}),ue(Dn(a),"isFieldDirty",function(){if(a.dirty||a.props.initialValue!==void 0)return!0;var u=a.props.fieldContext,f=u.getInternalHooks(sm),m=f.getInitialValue;return m(a.getNamePath())!==void 0}),ue(Dn(a),"getErrors",function(){return a.errors}),ue(Dn(a),"getWarnings",function(){return a.warnings}),ue(Dn(a),"isListField",function(){return a.props.isListField}),ue(Dn(a),"isList",function(){return a.props.isList}),ue(Dn(a),"isPreserve",function(){return a.props.preserve}),ue(Dn(a),"getMeta",function(){a.prevValidating=a.isFieldValidating();var u={touched:a.isFieldTouched(),validating:a.prevValidating,errors:a.errors,warnings:a.warnings,name:a.getNamePath(),validated:a.validatePromise===null};return u}),ue(Dn(a),"getOnlyChild",function(u){if(typeof u=="function"){var f=a.getMeta();return Ne(Ne({},a.getOnlyChild(u(a.getControlled(),f,a.props.fieldContext))),{},{isFunction:!0})}var m=qu(u);return m.length!==1||!w.isValidElement(m[0])?{child:m,isFunction:!1}:{child:m[0],isFunction:!1}}),ue(Dn(a),"getValue",function(u){var f=a.props.fieldContext.getFieldsValue,m=a.getNamePath();return $u(u||f(!0),m)}),ue(Dn(a),"getControlled",function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=a.props,m=f.name,y=f.trigger,_=f.validateTrigger,E=f.getValueFromEvent,c=f.normalize,p=f.valuePropName,g=f.getValueProps,b=f.fieldContext,C=_!==void 0?_:b.validateTrigger,T=a.getNamePath(),M=b.getInternalHooks,O=b.getFieldsValue,B=M(sm),P=B.dispatch,F=a.getValue(),U=g||function(Q){return ue({},p,Q)},z=u[y],$=m!==void 0?U(F):{},J=Ne(Ne({},u),$);J[y]=function(){a.touched=!0,a.dirty=!0,a.triggerMetaEvent();for(var Q,ae=arguments.length,Y=new Array(ae),K=0;K<ae;K++)Y[K]=arguments[K];E?Q=E.apply(void 0,Y):Q=rq.apply(void 0,[p].concat(Y)),c&&(Q=c(Q,F,O(!0))),Q!==F&&P({type:"updateValue",namePath:T,value:Q}),z&&z.apply(void 0,Y)};var W=KR(C||[]);return W.forEach(function(Q){var ae=J[Q];J[Q]=function(){ae&&ae.apply(void 0,arguments);var Y=a.props.rules;Y&&Y.length&&P({type:"validateField",namePath:T,triggerName:Q})}}),J}),r.fieldContext){var o=r.fieldContext.getInternalHooks,l=o(sm),s=l.initEntityValue;s(Dn(a))}return a}return oi(t,[{key:"componentDidMount",value:function(){var a=this.props,o=a.shouldUpdate,l=a.fieldContext;if(this.mounted=!0,l){var s=l.getInternalHooks,u=s(sm),f=u.registerField;this.cancelRegisterFunc=f(this)}o===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var a=this.state.resetCount,o=this.props.children,l=this.getOnlyChild(o),s=l.child,u=l.isFunction,f;return u?f=s:w.isValidElement(s)?f=w.cloneElement(s,this.getControlled(s.props)):(zo(!s,"`children` of Field is not validate ReactElement."),f=s),w.createElement(w.Fragment,{key:a},f)}}]),t}(w.Component);ue(HO,"contextType",c0);ue(HO,"defaultProps",{trigger:"onChange",valuePropName:"value"});function kF(n){var e,t=n.name,r=kn(n,aq),a=w.useContext(c0),o=w.useContext(P1),l=t!==void 0?ha(t):void 0,s=(e=r.isListField)!==null&&e!==void 0?e:!!o,u="keep";return s||(u="_".concat((l||[]).join("_"))),w.createElement(HO,Pt({key:u,name:l,isListField:s},r,{fieldContext:a}))}function oq(n){var e=n.name,t=n.initialValue,r=n.children,a=n.rules,o=n.validateTrigger,l=n.isListField,s=w.useContext(c0),u=w.useContext(P1),f=w.useRef({keys:[],id:0}),m=f.current,y=w.useMemo(function(){var p=ha(s.prefixName)||[];return[].concat(Kt(p),Kt(ha(e)))},[s.prefixName,e]),_=w.useMemo(function(){return Ne(Ne({},s),{},{prefixName:y})},[s,y]),E=w.useMemo(function(){return{getKey:function(g){var b=y.length,C=g[b];return[m.keys[C],g.slice(b+1)]}}},[y]);if(typeof r!="function")return zo(!1,"Form.List only accepts function as children."),null;var c=function(g,b,C){var T=C.source;return T==="internal"?!1:g!==b};return w.createElement(P1.Provider,{value:E},w.createElement(c0.Provider,{value:_},w.createElement(kF,{name:[],shouldUpdate:c,rules:a,validateTrigger:o,initialValue:t,isList:!0,isListField:l??!!u},function(p,g){var b=p.value,C=b===void 0?[]:b,T=p.onChange,M=s.getFieldValue,O=function(){var U=M(y||[]);return U||[]},B={add:function(U,z){var $=O();z>=0&&z<=$.length?(m.keys=[].concat(Kt(m.keys.slice(0,z)),[m.id],Kt(m.keys.slice(z))),T([].concat(Kt($.slice(0,z)),[U],Kt($.slice(z))))):(m.keys=[].concat(Kt(m.keys),[m.id]),T([].concat(Kt($),[U]))),m.id+=1},remove:function(U){var z=O(),$=new Set(Array.isArray(U)?U:[U]);$.size<=0||(m.keys=m.keys.filter(function(J,W){return!$.has(W)}),T(z.filter(function(J,W){return!$.has(W)})))},move:function(U,z){if(U!==z){var $=O();U<0||U>=$.length||z<0||z>=$.length||(m.keys=DP(m.keys,U,z),T(DP($,U,z)))}}},P=C||[];return Array.isArray(P)||(P=[]),r(P.map(function(F,U){var z=m.keys[U];return z===void 0&&(m.keys[U]=m.id,z=m.keys[U],m.id+=1),{name:U,key:z,isListField:!0}}),B,g)})))}function sq(n){var e=!1,t=n.length,r=[];return n.length?new Promise(function(a,o){n.forEach(function(l,s){l.catch(function(u){return e=!0,u}).then(function(u){t-=1,r[s]=u,!(t>0)&&(e&&o(r),a(r))})})}):Promise.resolve([])}var $F="__@field_split__";function OM(n){return n.map(function(e){return"".concat(mn(e),":").concat(e)}).join($F)}var Ng=function(){function n(){ai(this,n),ue(this,"kvs",new Map)}return oi(n,[{key:"set",value:function(t,r){this.kvs.set(OM(t),r)}},{key:"get",value:function(t){return this.kvs.get(OM(t))}},{key:"update",value:function(t,r){var a=this.get(t),o=r(a);o?this.set(t,o):this.delete(t)}},{key:"delete",value:function(t){this.kvs.delete(OM(t))}},{key:"map",value:function(t){return Kt(this.kvs.entries()).map(function(r){var a=vt(r,2),o=a[0],l=a[1],s=o.split($F);return t({key:s.map(function(u){var f=u.match(/^([^:]*):(.*)$/),m=vt(f,3),y=m[1],_=m[2];return y==="number"?Number(_):_}),value:l})})}},{key:"toJSON",value:function(){var t={};return this.map(function(r){var a=r.key,o=r.value;return t[a.join(".")]=o,null}),t}}]),n}(),lq=["name"],cq=oi(function n(e){var t=this;ai(this,n),ue(this,"formHooked",!1),ue(this,"forceRootUpdate",void 0),ue(this,"subscribable",!0),ue(this,"store",{}),ue(this,"fieldEntities",[]),ue(this,"initialValues",{}),ue(this,"callbacks",{}),ue(this,"validateMessages",null),ue(this,"preserve",null),ue(this,"lastValidatePromise",null),ue(this,"getForm",function(){return{getFieldValue:t.getFieldValue,getFieldsValue:t.getFieldsValue,getFieldError:t.getFieldError,getFieldWarning:t.getFieldWarning,getFieldsError:t.getFieldsError,isFieldsTouched:t.isFieldsTouched,isFieldTouched:t.isFieldTouched,isFieldValidating:t.isFieldValidating,isFieldsValidating:t.isFieldsValidating,resetFields:t.resetFields,setFields:t.setFields,setFieldValue:t.setFieldValue,setFieldsValue:t.setFieldsValue,validateFields:t.validateFields,submit:t.submit,_init:!0,getInternalHooks:t.getInternalHooks}}),ue(this,"getInternalHooks",function(r){return r===sm?(t.formHooked=!0,{dispatch:t.dispatch,initEntityValue:t.initEntityValue,registerField:t.registerField,useSubscribe:t.useSubscribe,setInitialValues:t.setInitialValues,destroyForm:t.destroyForm,setCallbacks:t.setCallbacks,setValidateMessages:t.setValidateMessages,getFields:t.getFields,setPreserve:t.setPreserve,getInitialValue:t.getInitialValue,registerWatch:t.registerWatch}):(zo(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),ue(this,"useSubscribe",function(r){t.subscribable=r}),ue(this,"prevWithoutPreserves",null),ue(this,"setInitialValues",function(r,a){if(t.initialValues=r||{},a){var o,l=Rv(r,t.store);(o=t.prevWithoutPreserves)===null||o===void 0||o.map(function(s){var u=s.key;l=Rc(l,u,$u(r,u))}),t.prevWithoutPreserves=null,t.updateStore(l)}}),ue(this,"destroyForm",function(r){if(r)t.updateStore({});else{var a=new Ng;t.getFieldEntities(!0).forEach(function(o){t.isMergedPreserve(o.isPreserve())||a.set(o.getNamePath(),!0)}),t.prevWithoutPreserves=a}}),ue(this,"getInitialValue",function(r){var a=$u(t.initialValues,r);return r.length?Rv(a):a}),ue(this,"setCallbacks",function(r){t.callbacks=r}),ue(this,"setValidateMessages",function(r){t.validateMessages=r}),ue(this,"setPreserve",function(r){t.preserve=r}),ue(this,"watchList",[]),ue(this,"registerWatch",function(r){return t.watchList.push(r),function(){t.watchList=t.watchList.filter(function(a){return a!==r})}}),ue(this,"notifyWatch",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(t.watchList.length){var a=t.getFieldsValue(),o=t.getFieldsValue(!0);t.watchList.forEach(function(l){l(a,o,r)})}}),ue(this,"timeoutId",null),ue(this,"warningUnhooked",function(){}),ue(this,"updateStore",function(r){t.store=r}),ue(this,"getFieldEntities",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return r?t.fieldEntities.filter(function(a){return a.getNamePath().length}):t.fieldEntities}),ue(this,"getFieldsMap",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,a=new Ng;return t.getFieldEntities(r).forEach(function(o){var l=o.getNamePath();a.set(l,o)}),a}),ue(this,"getFieldEntitiesForNamePathList",function(r){if(!r)return t.getFieldEntities(!0);var a=t.getFieldsMap(!0);return r.map(function(o){var l=ha(o);return a.get(l)||{INVALIDATE_NAME_PATH:ha(o)}})}),ue(this,"getFieldsValue",function(r,a){t.warningUnhooked();var o,l,s;if(r===!0||Array.isArray(r)?(o=r,l=a):r&&mn(r)==="object"&&(s=r.strict,l=r.filter),o===!0&&!l)return t.store;var u=t.getFieldEntitiesForNamePathList(Array.isArray(o)?o:null),f=[];return u.forEach(function(m){var y,_,E="INVALIDATE_NAME_PATH"in m?m.INVALIDATE_NAME_PATH:m.getNamePath();if(s){var c,p;if((c=(p=m).isList)!==null&&c!==void 0&&c.call(p))return}else if(!o&&(y=(_=m).isListField)!==null&&y!==void 0&&y.call(_))return;if(!l)f.push(E);else{var g="getMeta"in m?m.getMeta():null;l(g)&&f.push(E)}}),BP(t.store,f.map(ha))}),ue(this,"getFieldValue",function(r){t.warningUnhooked();var a=ha(r);return $u(t.store,a)}),ue(this,"getFieldsError",function(r){t.warningUnhooked();var a=t.getFieldEntitiesForNamePathList(r);return a.map(function(o,l){return o&&!("INVALIDATE_NAME_PATH"in o)?{name:o.getNamePath(),errors:o.getErrors(),warnings:o.getWarnings()}:{name:ha(r[l]),errors:[],warnings:[]}})}),ue(this,"getFieldError",function(r){t.warningUnhooked();var a=ha(r),o=t.getFieldsError([a])[0];return o.errors}),ue(this,"getFieldWarning",function(r){t.warningUnhooked();var a=ha(r),o=t.getFieldsError([a])[0];return o.warnings}),ue(this,"isFieldsTouched",function(){t.warningUnhooked();for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];var l=a[0],s=a[1],u,f=!1;a.length===0?u=null:a.length===1?Array.isArray(l)?(u=l.map(ha),f=!1):(u=null,f=l):(u=l.map(ha),f=s);var m=t.getFieldEntities(!0),y=function(g){return g.isFieldTouched()};if(!u)return f?m.every(function(p){return y(p)||p.isList()}):m.some(y);var _=new Ng;u.forEach(function(p){_.set(p,[])}),m.forEach(function(p){var g=p.getNamePath();u.forEach(function(b){b.every(function(C,T){return g[T]===C})&&_.update(b,function(C){return[].concat(Kt(C),[p])})})});var E=function(g){return g.some(y)},c=_.map(function(p){var g=p.value;return g});return f?c.every(E):c.some(E)}),ue(this,"isFieldTouched",function(r){return t.warningUnhooked(),t.isFieldsTouched([r])}),ue(this,"isFieldsValidating",function(r){t.warningUnhooked();var a=t.getFieldEntities();if(!r)return a.some(function(l){return l.isFieldValidating()});var o=r.map(ha);return a.some(function(l){var s=l.getNamePath();return Wv(o,s)&&l.isFieldValidating()})}),ue(this,"isFieldValidating",function(r){return t.warningUnhooked(),t.isFieldsValidating([r])}),ue(this,"resetWithFieldInitialValue",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=new Ng,o=t.getFieldEntities(!0);o.forEach(function(u){var f=u.props.initialValue,m=u.getNamePath();if(f!==void 0){var y=a.get(m)||new Set;y.add({entity:u,value:f}),a.set(m,y)}});var l=function(f){f.forEach(function(m){var y=m.props.initialValue;if(y!==void 0){var _=m.getNamePath(),E=t.getInitialValue(_);if(E!==void 0)zo(!1,"Form already set 'initialValues' with path '".concat(_.join("."),"'. Field can not overwrite it."));else{var c=a.get(_);if(c&&c.size>1)zo(!1,"Multiple Field with path '".concat(_.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(c){var p=t.getFieldValue(_),g=m.isListField();!g&&(!r.skipExist||p===void 0)&&t.updateStore(Rc(t.store,_,Kt(c)[0].value))}}}})},s;r.entities?s=r.entities:r.namePathList?(s=[],r.namePathList.forEach(function(u){var f=a.get(u);if(f){var m;(m=s).push.apply(m,Kt(Kt(f).map(function(y){return y.entity})))}})):s=o,l(s)}),ue(this,"resetFields",function(r){t.warningUnhooked();var a=t.store;if(!r){t.updateStore(Rv(t.initialValues)),t.resetWithFieldInitialValue(),t.notifyObservers(a,null,{type:"reset"}),t.notifyWatch();return}var o=r.map(ha);o.forEach(function(l){var s=t.getInitialValue(l);t.updateStore(Rc(t.store,l,s))}),t.resetWithFieldInitialValue({namePathList:o}),t.notifyObservers(a,o,{type:"reset"}),t.notifyWatch(o)}),ue(this,"setFields",function(r){t.warningUnhooked();var a=t.store,o=[];r.forEach(function(l){var s=l.name,u=kn(l,lq),f=ha(s);o.push(f),"value"in u&&t.updateStore(Rc(t.store,f,u.value)),t.notifyObservers(a,[f],{type:"setField",data:l})}),t.notifyWatch(o)}),ue(this,"getFields",function(){var r=t.getFieldEntities(!0),a=r.map(function(o){var l=o.getNamePath(),s=o.getMeta(),u=Ne(Ne({},s),{},{name:l,value:t.getFieldValue(l)});return Object.defineProperty(u,"originRCField",{value:!0}),u});return a}),ue(this,"initEntityValue",function(r){var a=r.props.initialValue;if(a!==void 0){var o=r.getNamePath(),l=$u(t.store,o);l===void 0&&t.updateStore(Rc(t.store,o,a))}}),ue(this,"isMergedPreserve",function(r){var a=r!==void 0?r:t.preserve;return a??!0}),ue(this,"registerField",function(r){t.fieldEntities.push(r);var a=r.getNamePath();if(t.notifyWatch([a]),r.props.initialValue!==void 0){var o=t.store;t.resetWithFieldInitialValue({entities:[r],skipExist:!0}),t.notifyObservers(o,[r.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(l,s){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(t.fieldEntities=t.fieldEntities.filter(function(y){return y!==r}),!t.isMergedPreserve(s)&&(!l||u.length>1)){var f=l?void 0:t.getInitialValue(a);if(a.length&&t.getFieldValue(a)!==f&&t.fieldEntities.every(function(y){return!GF(y.getNamePath(),a)})){var m=t.store;t.updateStore(Rc(m,a,f,!0)),t.notifyObservers(m,[a],{type:"remove"}),t.triggerDependenciesUpdate(m,a)}}t.notifyWatch([a])}}),ue(this,"dispatch",function(r){switch(r.type){case"updateValue":{var a=r.namePath,o=r.value;t.updateValue(a,o);break}case"validateField":{var l=r.namePath,s=r.triggerName;t.validateFields([l],{triggerName:s});break}}}),ue(this,"notifyObservers",function(r,a,o){if(t.subscribable){var l=Ne(Ne({},o),{},{store:t.getFieldsValue(!0)});t.getFieldEntities().forEach(function(s){var u=s.onStoreChange;u(r,a,l)})}else t.forceRootUpdate()}),ue(this,"triggerDependenciesUpdate",function(r,a){var o=t.getDependencyChildrenFields(a);return o.length&&t.validateFields(o),t.notifyObservers(r,o,{type:"dependenciesUpdate",relatedFields:[a].concat(Kt(o))}),o}),ue(this,"updateValue",function(r,a){var o=ha(r),l=t.store;t.updateStore(Rc(t.store,o,a)),t.notifyObservers(l,[o],{type:"valueUpdate",source:"internal"}),t.notifyWatch([o]);var s=t.triggerDependenciesUpdate(l,o),u=t.callbacks.onValuesChange;if(u){var f=BP(t.store,[o]);u(f,t.getFieldsValue())}t.triggerOnFieldsChange([o].concat(Kt(s)))}),ue(this,"setFieldsValue",function(r){t.warningUnhooked();var a=t.store;if(r){var o=Rv(t.store,r);t.updateStore(o)}t.notifyObservers(a,null,{type:"valueUpdate",source:"external"}),t.notifyWatch()}),ue(this,"setFieldValue",function(r,a){t.setFields([{name:r,value:a,errors:[],warnings:[]}])}),ue(this,"getDependencyChildrenFields",function(r){var a=new Set,o=[],l=new Ng;t.getFieldEntities().forEach(function(u){var f=u.props.dependencies;(f||[]).forEach(function(m){var y=ha(m);l.update(y,function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return _.add(u),_})})});var s=function u(f){var m=l.get(f)||new Set;m.forEach(function(y){if(!a.has(y)){a.add(y);var _=y.getNamePath();y.isFieldDirty()&&_.length&&(o.push(_),u(_))}})};return s(r),o}),ue(this,"triggerOnFieldsChange",function(r,a){var o=t.callbacks.onFieldsChange;if(o){var l=t.getFields();if(a){var s=new Ng;a.forEach(function(f){var m=f.name,y=f.errors;s.set(m,y)}),l.forEach(function(f){f.errors=s.get(f.name)||f.errors})}var u=l.filter(function(f){var m=f.name;return Wv(r,m)});u.length&&o(u,l)}}),ue(this,"validateFields",function(r,a){t.warningUnhooked();var o,l;Array.isArray(r)||typeof r=="string"||typeof a=="string"?(o=r,l=a):l=r;var s=!!o,u=s?o.map(ha):[],f=[],m=String(Date.now()),y=new Set,_=l||{},E=_.recursive,c=_.dirty;t.getFieldEntities(!0).forEach(function(C){if(s||u.push(C.getNamePath()),!(!C.props.rules||!C.props.rules.length)&&!(c&&!C.isFieldDirty())){var T=C.getNamePath();if(y.add(T.join(m)),!s||Wv(u,T,E)){var M=C.validateRules(Ne({validateMessages:Ne(Ne({},HF),t.validateMessages)},l));f.push(M.then(function(){return{name:T,errors:[],warnings:[]}}).catch(function(O){var B,P=[],F=[];return(B=O.forEach)===null||B===void 0||B.call(O,function(U){var z=U.rule.warningOnly,$=U.errors;z?F.push.apply(F,Kt($)):P.push.apply(P,Kt($))}),P.length?Promise.reject({name:T,errors:P,warnings:F}):{name:T,errors:P,warnings:F}}))}}});var p=sq(f);t.lastValidatePromise=p,p.catch(function(C){return C}).then(function(C){var T=C.map(function(M){var O=M.name;return O});t.notifyObservers(t.store,T,{type:"validateFinish"}),t.triggerOnFieldsChange(T,C)});var g=p.then(function(){return t.lastValidatePromise===p?Promise.resolve(t.getFieldsValue(u)):Promise.reject([])}).catch(function(C){var T=C.filter(function(M){return M&&M.errors.length});return Promise.reject({values:t.getFieldsValue(u),errorFields:T,outOfDate:t.lastValidatePromise!==p})});g.catch(function(C){return C});var b=u.filter(function(C){return y.has(C.join(m))});return t.triggerOnFieldsChange(b),g}),ue(this,"submit",function(){t.warningUnhooked(),t.validateFields().then(function(r){var a=t.callbacks.onFinish;if(a)try{a(r)}catch(o){console.error(o)}}).catch(function(r){var a=t.callbacks.onFinishFailed;a&&a(r)})}),this.forceRootUpdate=e});function VF(n){var e=w.useRef(),t=w.useState({}),r=vt(t,2),a=r[1];if(!e.current)if(n)e.current=n;else{var o=function(){a({})},l=new cq(o);e.current=l.getForm()}return[e.current]}var a2=w.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),uq=function(e){var t=e.validateMessages,r=e.onFormChange,a=e.onFormFinish,o=e.children,l=w.useContext(a2),s=w.useRef({});return w.createElement(a2.Provider,{value:Ne(Ne({},l),{},{validateMessages:Ne(Ne({},l.validateMessages),t),triggerFormChange:function(f,m){r&&r(f,{changedFields:m,forms:s.current}),l.triggerFormChange(f,m)},triggerFormFinish:function(f,m){a&&a(f,{values:m,forms:s.current}),l.triggerFormFinish(f,m)},registerForm:function(f,m){f&&(s.current=Ne(Ne({},s.current),{},ue({},f,m))),l.registerForm(f,m)},unregisterForm:function(f){var m=Ne({},s.current);delete m[f],s.current=m,l.unregisterForm(f)}})},o)},dq=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"],fq=function(e,t){var r=e.name,a=e.initialValues,o=e.fields,l=e.form,s=e.preserve,u=e.children,f=e.component,m=f===void 0?"form":f,y=e.validateMessages,_=e.validateTrigger,E=_===void 0?"onChange":_,c=e.onValuesChange,p=e.onFieldsChange,g=e.onFinish,b=e.onFinishFailed,C=e.clearOnDestroy,T=kn(e,dq),M=w.useRef(null),O=w.useContext(a2),B=VF(l),P=vt(B,1),F=P[0],U=F.getInternalHooks(sm),z=U.useSubscribe,$=U.setInitialValues,J=U.setCallbacks,W=U.setValidateMessages,Q=U.setPreserve,ae=U.destroyForm;w.useImperativeHandle(t,function(){return Ne(Ne({},F),{},{nativeElement:M.current})}),w.useEffect(function(){return O.registerForm(r,F),function(){O.unregisterForm(r)}},[O,F,r]),W(Ne(Ne({},O.validateMessages),y)),J({onValuesChange:c,onFieldsChange:function(Z){if(O.triggerFormChange(r,Z),p){for(var pe=arguments.length,_e=new Array(pe>1?pe-1:0),Oe=1;Oe<pe;Oe++)_e[Oe-1]=arguments[Oe];p.apply(void 0,[Z].concat(_e))}},onFinish:function(Z){O.triggerFormFinish(r,Z),g&&g(Z)},onFinishFailed:b}),Q(s);var Y=w.useRef(null);$(a,!Y.current),Y.current||(Y.current=!0),w.useEffect(function(){return function(){return ae(C)}},[]);var K,ee=typeof u=="function";if(ee){var de=F.getFieldsValue(!0);K=u(de,F)}else K=u;z(!ee);var q=w.useRef();w.useEffect(function(){iq(q.current||[],o||[])||F.setFields(o||[]),q.current=o},[o,F]);var ie=w.useMemo(function(){return Ne(Ne({},F),{},{validateTrigger:E})},[F,E]),he=w.createElement(P1.Provider,{value:null},w.createElement(c0.Provider,{value:ie},K));return m===!1?he:w.createElement(m,Pt({},T,{ref:M,onSubmit:function(Z){Z.preventDefault(),Z.stopPropagation(),F.submit()},onReset:function(Z){var pe;Z.preventDefault(),F.resetFields(),(pe=T.onReset)===null||pe===void 0||pe.call(T,Z)}}),he)};function PP(n){try{return JSON.stringify(n)}catch{return Math.random()}}function hq(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var r=e[0],a=e[1],o=a===void 0?{}:a,l=_Y(o)?{form:o}:o,s=l.form,u=w.useState(),f=vt(u,2),m=f[0],y=f[1],_=w.useMemo(function(){return PP(m)},[m]),E=w.useRef(_);E.current=_;var c=w.useContext(c0),p=s||c,g=p&&p._init,b=ha(r),C=w.useRef(b);return C.current=b,w.useEffect(function(){if(g){var T=p.getFieldsValue,M=p.getInternalHooks,O=M(sm),B=O.registerWatch,P=function($,J){var W=l.preserve?J:$;return typeof r=="function"?r(W):$u(W,C.current)},F=B(function(z,$){var J=P(z,$),W=PP(J);E.current!==W&&(E.current=W,y(J))}),U=P(T(),T(!0));return m!==U&&y(U),F}},[g]),m}var pq=w.forwardRef(fq),AS=pq;AS.FormProvider=uq;AS.Field=kF;AS.List=oq;AS.useForm=VF;AS.useWatch=hq;const hf=w.createContext({}),mq=n=>{let{children:e,status:t,override:r}=n;const a=w.useContext(hf),o=w.useMemo(()=>{const l=Object.assign({},a);return r&&delete l.isFormItemInput,t&&(delete l.status,delete l.hasFeedback,delete l.feedbackIcon),l},[t,r,a]);return w.createElement(hf.Provider,{value:o},e)},gq=w.createContext(void 0),L1=n=>{const{space:e,form:t,children:r}=n;if(r==null)return null;let a=r;return t&&(a=Xe.createElement(mq,{override:!0,status:!0},a)),e&&(a=Xe.createElement(VW,null,a)),a};function N1(n){if(n)return{closable:n.closable,closeIcon:n.closeIcon}}function LP(n){const{closable:e,closeIcon:t}=n||{};return Xe.useMemo(()=>{if(!e&&(e===!1||t===!1||t===null))return!1;if(e===void 0&&t===void 0)return null;let r={closeIcon:typeof t!="boolean"&&t!==null?t:void 0};return e&&typeof e=="object"&&(r=Object.assign(Object.assign({},r),e)),r},[e,t])}function NP(){const n={};for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.forEach(a=>{a&&Object.keys(a).forEach(o=>{a[o]!==void 0&&(n[o]=a[o])})}),n}const vq={};function jF(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:vq;const r=LP(n),a=LP(e),o=typeof r!="boolean"?!!(r!=null&&r.disabled):!1,l=Xe.useMemo(()=>Object.assign({closeIcon:Xe.createElement(w0,null)},t),[t]),s=Xe.useMemo(()=>r===!1?!1:r?NP(l,a,r):a===!1?!1:a?NP(l,a):l.closable?l:!1,[r,a,l]);return Xe.useMemo(()=>{if(s===!1)return[!1,null,o];const{closeIconRender:u}=l,{closeIcon:f}=s;let m=f;if(m!=null){u&&(m=u(f));const y=zm(s,!0);Object.keys(y).length&&(m=Xe.isValidElement(m)?Xe.cloneElement(m,y):Xe.createElement("span",Object.assign({},y),m))}return[!0,m,o]},[s,l])}const yq=()=>cs()&&window.document.documentElement,xw=n=>{const{prefixCls:e,className:t,style:r,size:a,shape:o}=n,l=Je({[`${e}-lg`]:a==="large",[`${e}-sm`]:a==="small"}),s=Je({[`${e}-circle`]:o==="circle",[`${e}-square`]:o==="square",[`${e}-round`]:o==="round"}),u=w.useMemo(()=>typeof a=="number"?{width:a,height:a,lineHeight:`${a}px`}:{},[a]);return w.createElement("span",{className:Je(e,l,s,t),style:Object.assign(Object.assign({},u),r)})},bq=new rr("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),Cw=n=>({height:n,lineHeight:Mt(n)}),Xv=n=>Object.assign({width:n},Cw(n)),Sq=n=>({background:n.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:bq,animationDuration:n.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}),IM=(n,e)=>Object.assign({width:e(n).mul(5).equal(),minWidth:e(n).mul(5).equal()},Cw(n)),_q=n=>{const{skeletonAvatarCls:e,gradientFromColor:t,controlHeight:r,controlHeightLG:a,controlHeightSM:o}=n;return{[e]:Object.assign({display:"inline-block",verticalAlign:"top",background:t},Xv(r)),[`${e}${e}-circle`]:{borderRadius:"50%"},[`${e}${e}-lg`]:Object.assign({},Xv(a)),[`${e}${e}-sm`]:Object.assign({},Xv(o))}},xq=n=>{const{controlHeight:e,borderRadiusSM:t,skeletonInputCls:r,controlHeightLG:a,controlHeightSM:o,gradientFromColor:l,calc:s}=n;return{[r]:Object.assign({display:"inline-block",verticalAlign:"top",background:l,borderRadius:t},IM(e,s)),[`${r}-lg`]:Object.assign({},IM(a,s)),[`${r}-sm`]:Object.assign({},IM(o,s))}},zP=n=>Object.assign({width:n},Cw(n)),Cq=n=>{const{skeletonImageCls:e,imageSizeBase:t,gradientFromColor:r,borderRadiusSM:a,calc:o}=n;return{[e]:Object.assign(Object.assign({display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"middle",background:r,borderRadius:a},zP(o(t).mul(2).equal())),{[`${e}-path`]:{fill:"#bfbfbf"},[`${e}-svg`]:Object.assign(Object.assign({},zP(t)),{maxWidth:o(t).mul(4).equal(),maxHeight:o(t).mul(4).equal()}),[`${e}-svg${e}-svg-circle`]:{borderRadius:"50%"}}),[`${e}${e}-circle`]:{borderRadius:"50%"}}},BM=(n,e,t)=>{const{skeletonButtonCls:r}=n;return{[`${t}${r}-circle`]:{width:e,minWidth:e,borderRadius:"50%"},[`${t}${r}-round`]:{borderRadius:e}}},DM=(n,e)=>Object.assign({width:e(n).mul(2).equal(),minWidth:e(n).mul(2).equal()},Cw(n)),Eq=n=>{const{borderRadiusSM:e,skeletonButtonCls:t,controlHeight:r,controlHeightLG:a,controlHeightSM:o,gradientFromColor:l,calc:s}=n;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[t]:Object.assign({display:"inline-block",verticalAlign:"top",background:l,borderRadius:e,width:s(r).mul(2).equal(),minWidth:s(r).mul(2).equal()},DM(r,s))},BM(n,r,t)),{[`${t}-lg`]:Object.assign({},DM(a,s))}),BM(n,a,`${t}-lg`)),{[`${t}-sm`]:Object.assign({},DM(o,s))}),BM(n,o,`${t}-sm`))},wq=n=>{const{componentCls:e,skeletonAvatarCls:t,skeletonTitleCls:r,skeletonParagraphCls:a,skeletonButtonCls:o,skeletonInputCls:l,skeletonImageCls:s,controlHeight:u,controlHeightLG:f,controlHeightSM:m,gradientFromColor:y,padding:_,marginSM:E,borderRadius:c,titleHeight:p,blockRadius:g,paragraphLiHeight:b,controlHeightXS:C,paragraphMarginTop:T}=n;return{[e]:{display:"table",width:"100%",[`${e}-header`]:{display:"table-cell",paddingInlineEnd:_,verticalAlign:"top",[t]:Object.assign({display:"inline-block",verticalAlign:"top",background:y},Xv(u)),[`${t}-circle`]:{borderRadius:"50%"},[`${t}-lg`]:Object.assign({},Xv(f)),[`${t}-sm`]:Object.assign({},Xv(m))},[`${e}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[r]:{width:"100%",height:p,background:y,borderRadius:g,[`+ ${a}`]:{marginBlockStart:m}},[a]:{padding:0,"> li":{width:"100%",height:b,listStyle:"none",background:y,borderRadius:g,"+ li":{marginBlockStart:C}}},[`${a}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${e}-content`]:{[`${r}, ${a} > li`]:{borderRadius:c}}},[`${e}-with-avatar ${e}-content`]:{[r]:{marginBlockStart:E,[`+ ${a}`]:{marginBlockStart:T}}},[`${e}${e}-element`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},Eq(n)),_q(n)),xq(n)),Cq(n)),[`${e}${e}-block`]:{width:"100%",[o]:{width:"100%"},[l]:{width:"100%"}},[`${e}${e}-active`]:{[`
        ${r},
        ${a} > li,
        ${t},
        ${o},
        ${l},
        ${s}
      `]:Object.assign({},Sq(n))}}},Aq=n=>{const{colorFillContent:e,colorFill:t}=n,r=e,a=t;return{color:r,colorGradientEnd:a,gradientFromColor:r,gradientToColor:a,titleHeight:n.controlHeight/2,blockRadius:n.borderRadiusSM,paragraphMarginTop:n.marginLG+n.marginXXS,paragraphLiHeight:n.controlHeight/2}},T0=Nr("Skeleton",n=>{const{componentCls:e,calc:t}=n,r=qi(n,{skeletonAvatarCls:`${e}-avatar`,skeletonTitleCls:`${e}-title`,skeletonParagraphCls:`${e}-paragraph`,skeletonButtonCls:`${e}-button`,skeletonInputCls:`${e}-input`,skeletonImageCls:`${e}-image`,imageSizeBase:t(n.controlHeight).mul(1.5).equal(),borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${n.gradientFromColor} 25%, ${n.gradientToColor} 37%, ${n.gradientFromColor} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return[wq(r)]},Aq,{deprecatedTokens:[["color","gradientFromColor"],["colorGradientEnd","gradientToColor"]]}),Mq=n=>{const{prefixCls:e,className:t,rootClassName:r,active:a,shape:o="circle",size:l="default"}=n,{getPrefixCls:s}=w.useContext(Hn),u=s("skeleton",e),[f,m,y]=T0(u),_=yo(n,["prefixCls","className"]),E=Je(u,`${u}-element`,{[`${u}-active`]:a},t,r,m,y);return f(w.createElement("div",{className:E},w.createElement(xw,Object.assign({prefixCls:`${u}-avatar`,shape:o,size:l},_))))},Tq=n=>{const{prefixCls:e,className:t,rootClassName:r,active:a,block:o=!1,size:l="default"}=n,{getPrefixCls:s}=w.useContext(Hn),u=s("skeleton",e),[f,m,y]=T0(u),_=yo(n,["prefixCls"]),E=Je(u,`${u}-element`,{[`${u}-active`]:a,[`${u}-block`]:o},t,r,m,y);return f(w.createElement("div",{className:E},w.createElement(xw,Object.assign({prefixCls:`${u}-button`,size:l},_))))},Rq="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",Oq=n=>{const{prefixCls:e,className:t,rootClassName:r,style:a,active:o}=n,{getPrefixCls:l}=w.useContext(Hn),s=l("skeleton",e),[u,f,m]=T0(s),y=Je(s,`${s}-element`,{[`${s}-active`]:o},t,r,f,m);return u(w.createElement("div",{className:y},w.createElement("div",{className:Je(`${s}-image`,t),style:a},w.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:`${s}-image-svg`},w.createElement("title",null,"Image placeholder"),w.createElement("path",{d:Rq,className:`${s}-image-path`})))))},Iq=n=>{const{prefixCls:e,className:t,rootClassName:r,active:a,block:o,size:l="default"}=n,{getPrefixCls:s}=w.useContext(Hn),u=s("skeleton",e),[f,m,y]=T0(u),_=yo(n,["prefixCls"]),E=Je(u,`${u}-element`,{[`${u}-active`]:a,[`${u}-block`]:o},t,r,m,y);return f(w.createElement("div",{className:E},w.createElement(xw,Object.assign({prefixCls:`${u}-input`,size:l},_))))},Bq=n=>{const{prefixCls:e,className:t,rootClassName:r,style:a,active:o,children:l}=n,{getPrefixCls:s}=w.useContext(Hn),u=s("skeleton",e),[f,m,y]=T0(u),_=Je(u,`${u}-element`,{[`${u}-active`]:o},m,t,r,y);return f(w.createElement("div",{className:_},w.createElement("div",{className:Je(`${u}-image`,t),style:a},l)))},Dq=(n,e)=>{const{width:t,rows:r=2}=e;if(Array.isArray(t))return t[n];if(r-1===n)return t},Pq=n=>{const{prefixCls:e,className:t,style:r,rows:a=0}=n,o=Array.from({length:a}).map((l,s)=>w.createElement("li",{key:s,style:{width:Dq(s,n)}}));return w.createElement("ul",{className:Je(e,t),style:r},o)},Lq=n=>{let{prefixCls:e,className:t,width:r,style:a}=n;return w.createElement("h3",{className:Je(e,t),style:Object.assign({width:r},a)})};function PM(n){return n&&typeof n=="object"?n:{}}function Nq(n,e){return n&&!e?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function zq(n,e){return!n&&e?{width:"38%"}:n&&e?{width:"50%"}:{}}function Uq(n,e){const t={};return(!n||!e)&&(t.width="61%"),!n&&e?t.rows=3:t.rows=2,t}const Um=n=>{const{prefixCls:e,loading:t,className:r,rootClassName:a,style:o,children:l,avatar:s=!1,title:u=!0,paragraph:f=!0,active:m,round:y}=n,{getPrefixCls:_,direction:E,className:c,style:p}=nd("skeleton"),g=_("skeleton",e),[b,C,T]=T0(g);if(t||!("loading"in n)){const M=!!s,O=!!u,B=!!f;let P;if(M){const z=Object.assign(Object.assign({prefixCls:`${g}-avatar`},Nq(O,B)),PM(s));P=w.createElement("div",{className:`${g}-header`},w.createElement(xw,Object.assign({},z)))}let F;if(O||B){let z;if(O){const J=Object.assign(Object.assign({prefixCls:`${g}-title`},zq(M,B)),PM(u));z=w.createElement(Lq,Object.assign({},J))}let $;if(B){const J=Object.assign(Object.assign({prefixCls:`${g}-paragraph`},Uq(M,O)),PM(f));$=w.createElement(Pq,Object.assign({},J))}F=w.createElement("div",{className:`${g}-content`},z,$)}const U=Je(g,{[`${g}-with-avatar`]:M,[`${g}-active`]:m,[`${g}-rtl`]:E==="rtl",[`${g}-round`]:y},c,r,a,C,T);return b(w.createElement("div",{className:U,style:Object.assign(Object.assign({},p),o)},P,F))}return l??null};Um.Button=Tq;Um.Avatar=Mq;Um.Input=Iq;Um.Image=Oq;Um.Node=Bq;function UP(){}const Fq=w.createContext({add:UP,remove:UP});function Hq(n){const e=w.useContext(Fq),t=w.useRef(null);return Qa(a=>{if(a){const o=n?a.querySelector(n):a;e.add(o),t.current=o}else e.remove(t.current)})}const FP=()=>{const{cancelButtonProps:n,cancelTextLocale:e,onCancel:t}=w.useContext(ES);return Xe.createElement(pa,Object.assign({onClick:t},n),e)},HP=()=>{const{confirmLoading:n,okButtonProps:e,okType:t,okTextLocale:r,onOk:a}=w.useContext(ES);return Xe.createElement(pa,Object.assign({},MF(t),{loading:n,onClick:a},e),r)};function WF(n,e){return Xe.createElement("span",{className:`${n}-close-x`},e||Xe.createElement(w0,{className:`${n}-close-icon`}))}const XF=n=>{const{okText:e,okType:t="primary",cancelText:r,confirmLoading:a,onOk:o,onCancel:l,okButtonProps:s,cancelButtonProps:u,footer:f}=n,[m]=SS("Modal",HU()),y=e||(m==null?void 0:m.okText),_=r||(m==null?void 0:m.cancelText),E={confirmLoading:a,okButtonProps:s,cancelButtonProps:u,okTextLocale:y,cancelTextLocale:_,okType:t,onOk:o,onCancel:l},c=Xe.useMemo(()=>E,Kt(Object.values(E)));let p;return typeof f=="function"||typeof f>"u"?(p=Xe.createElement(Xe.Fragment,null,Xe.createElement(FP,null),Xe.createElement(HP,null)),typeof f=="function"&&(p=f(p,{OkBtn:HP,CancelBtn:FP})),p=Xe.createElement(PF,{value:c},p)):p=f,Xe.createElement(VU,{disabled:!1},p)},Gq=n=>{const{componentCls:e}=n;return{[e]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},kq=n=>{const{componentCls:e}=n;return{[e]:{position:"relative",maxWidth:"100%",minHeight:1}}},$q=(n,e)=>{const{prefixCls:t,componentCls:r,gridColumns:a}=n,o={};for(let l=a;l>=0;l--)l===0?(o[`${r}${e}-${l}`]={display:"none"},o[`${r}-push-${l}`]={insetInlineStart:"auto"},o[`${r}-pull-${l}`]={insetInlineEnd:"auto"},o[`${r}${e}-push-${l}`]={insetInlineStart:"auto"},o[`${r}${e}-pull-${l}`]={insetInlineEnd:"auto"},o[`${r}${e}-offset-${l}`]={marginInlineStart:0},o[`${r}${e}-order-${l}`]={order:0}):(o[`${r}${e}-${l}`]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:`0 0 ${l/a*100}%`,maxWidth:`${l/a*100}%`}],o[`${r}${e}-push-${l}`]={insetInlineStart:`${l/a*100}%`},o[`${r}${e}-pull-${l}`]={insetInlineEnd:`${l/a*100}%`},o[`${r}${e}-offset-${l}`]={marginInlineStart:`${l/a*100}%`},o[`${r}${e}-order-${l}`]={order:l});return o[`${r}${e}-flex`]={flex:`var(--${t}${e}-flex)`},o},o2=(n,e)=>$q(n,e),Vq=(n,e,t)=>({[`@media (min-width: ${Mt(e)})`]:Object.assign({},o2(n,t))}),jq=()=>({}),Wq=()=>({}),Xq=Nr("Grid",Gq,jq),YF=n=>({xs:n.screenXSMin,sm:n.screenSMMin,md:n.screenMDMin,lg:n.screenLGMin,xl:n.screenXLMin,xxl:n.screenXXLMin}),Yq=Nr("Grid",n=>{const e=qi(n,{gridColumns:24}),t=YF(e);return delete t.xs,[kq(e),o2(e,""),o2(e,"-xs"),Object.keys(t).map(r=>Vq(e,t[r],`-${r}`)).reduce((r,a)=>Object.assign(Object.assign({},r),a),{})]},Wq);function GP(n){return{position:n,inset:0}}const qF=n=>{const{componentCls:e,antCls:t}=n;return[{[`${e}-root`]:{[`${e}${t}-zoom-enter, ${e}${t}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:n.motionDurationSlow,userSelect:"none"},[`${e}${t}-zoom-leave ${e}-content`]:{pointerEvents:"none"},[`${e}-mask`]:Object.assign(Object.assign({},GP("fixed")),{zIndex:n.zIndexPopupBase,height:"100%",backgroundColor:n.colorBgMask,pointerEvents:"none",[`${e}-hidden`]:{display:"none"}}),[`${e}-wrap`]:Object.assign(Object.assign({},GP("fixed")),{zIndex:n.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{[`${e}-root`]:zO(n)}]},qq=n=>{const{componentCls:e}=n;return[{[`${e}-root`]:{[`${e}-wrap-rtl`]:{direction:"rtl"},[`${e}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[e]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${n.screenSMMax}px)`]:{[e]:{maxWidth:"calc(100vw - 16px)",margin:`${Mt(n.marginXS)} auto`},[`${e}-centered`]:{[e]:{flex:1}}}}},{[e]:Object.assign(Object.assign({},Uo(n)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${Mt(n.calc(n.margin).mul(2).equal())})`,margin:"0 auto",paddingBottom:n.paddingLG,[`${e}-title`]:{margin:0,color:n.titleColor,fontWeight:n.fontWeightStrong,fontSize:n.titleFontSize,lineHeight:n.titleLineHeight,wordWrap:"break-word"},[`${e}-content`]:{position:"relative",backgroundColor:n.contentBg,backgroundClip:"padding-box",border:0,borderRadius:n.borderRadiusLG,boxShadow:n.boxShadow,pointerEvents:"auto",padding:n.contentPadding},[`${e}-close`]:Object.assign({position:"absolute",top:n.calc(n.modalHeaderHeight).sub(n.modalCloseBtnSize).div(2).equal(),insetInlineEnd:n.calc(n.modalHeaderHeight).sub(n.modalCloseBtnSize).div(2).equal(),zIndex:n.calc(n.zIndexPopupBase).add(10).equal(),padding:0,color:n.modalCloseIconColor,fontWeight:n.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:n.borderRadiusSM,width:n.modalCloseBtnSize,height:n.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${n.motionDurationMid}, background-color ${n.motionDurationMid}`,"&-x":{display:"flex",fontSize:n.fontSizeLG,fontStyle:"normal",lineHeight:Mt(n.modalCloseBtnSize),justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:disabled":{pointerEvents:"none"},"&:hover":{color:n.modalCloseIconHoverColor,backgroundColor:n.colorBgTextHover,textDecoration:"none"},"&:active":{backgroundColor:n.colorBgTextActive}},RO(n)),[`${e}-header`]:{color:n.colorText,background:n.headerBg,borderRadius:`${Mt(n.borderRadiusLG)} ${Mt(n.borderRadiusLG)} 0 0`,marginBottom:n.headerMarginBottom,padding:n.headerPadding,borderBottom:n.headerBorderBottom},[`${e}-body`]:{fontSize:n.fontSize,lineHeight:n.lineHeight,wordWrap:"break-word",padding:n.bodyPadding,[`${e}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:`${Mt(n.margin)} auto`}},[`${e}-footer`]:{textAlign:"end",background:n.footerBg,marginTop:n.footerMarginTop,padding:n.footerPadding,borderTop:n.footerBorderTop,borderRadius:n.footerBorderRadius,[`> ${n.antCls}-btn + ${n.antCls}-btn`]:{marginInlineStart:n.marginXS}},[`${e}-open`]:{overflow:"hidden"}})},{[`${e}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${e}-content,
          ${e}-body,
          ${e}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${e}-confirm-body`]:{marginBottom:"auto"}}}]},Kq=n=>{const{componentCls:e}=n;return{[`${e}-root`]:{[`${e}-wrap-rtl`]:{direction:"rtl",[`${e}-confirm-body`]:{direction:"rtl"}}}}},Jq=n=>{const{componentCls:e}=n,t=YF(n);delete t.xs;const r=Object.keys(t).map(a=>({[`@media (min-width: ${Mt(t[a])})`]:{width:`var(--${e.replace(".","")}-${a}-width)`}}));return{[`${e}-root`]:{[e]:[{width:`var(--${e.replace(".","")}-xs-width)`}].concat(Kt(r))}}},KF=n=>{const e=n.padding,t=n.fontSizeHeading5,r=n.lineHeightHeading5;return qi(n,{modalHeaderHeight:n.calc(n.calc(r).mul(t).equal()).add(n.calc(e).mul(2).equal()).equal(),modalFooterBorderColorSplit:n.colorSplit,modalFooterBorderStyle:n.lineType,modalFooterBorderWidth:n.lineWidth,modalCloseIconColor:n.colorIcon,modalCloseIconHoverColor:n.colorIconHover,modalCloseBtnSize:n.controlHeight,modalConfirmIconSize:n.fontHeight,modalTitleHeight:n.calc(n.titleFontSize).mul(n.titleLineHeight).equal()})},JF=n=>({footerBg:"transparent",headerBg:n.colorBgElevated,titleLineHeight:n.lineHeightHeading5,titleFontSize:n.fontSizeHeading5,contentBg:n.colorBgElevated,titleColor:n.colorTextHeading,contentPadding:n.wireframe?0:`${Mt(n.paddingMD)} ${Mt(n.paddingContentHorizontalLG)}`,headerPadding:n.wireframe?`${Mt(n.padding)} ${Mt(n.paddingLG)}`:0,headerBorderBottom:n.wireframe?`${Mt(n.lineWidth)} ${n.lineType} ${n.colorSplit}`:"none",headerMarginBottom:n.wireframe?0:n.marginXS,bodyPadding:n.wireframe?n.paddingLG:0,footerPadding:n.wireframe?`${Mt(n.paddingXS)} ${Mt(n.padding)}`:0,footerBorderTop:n.wireframe?`${Mt(n.lineWidth)} ${n.lineType} ${n.colorSplit}`:"none",footerBorderRadius:n.wireframe?`0 0 ${Mt(n.borderRadiusLG)} ${Mt(n.borderRadiusLG)}`:0,footerMarginTop:n.wireframe?0:n.marginSM,confirmBodyPadding:n.wireframe?`${Mt(n.padding*2)} ${Mt(n.padding*2)} ${Mt(n.paddingLG)}`:0,confirmIconMarginInlineEnd:n.wireframe?n.margin:n.marginSM,confirmBtnsMarginTop:n.wireframe?n.marginLG:n.marginSM}),QF=Nr("Modal",n=>{const e=KF(n);return[qq(e),Kq(e),qF(e),CS(e,"zoom"),Jq(e)]},JF,{unitless:{titleLineHeight:!0}});var Qq=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};let s2;const Zq=n=>{s2={x:n.pageX,y:n.pageY},setTimeout(()=>{s2=null},100)};yq()&&document.documentElement.addEventListener("click",Zq,!0);const ZF=n=>{var e;const{getPopupContainer:t,getPrefixCls:r,direction:a,modal:o}=w.useContext(Hn),l=_e=>{const{onCancel:Oe}=n;Oe==null||Oe(_e)},s=_e=>{const{onOk:Oe}=n;Oe==null||Oe(_e)},{prefixCls:u,className:f,rootClassName:m,open:y,wrapClassName:_,centered:E,getContainer:c,focusTriggerAfterClose:p=!0,style:g,visible:b,width:C=520,footer:T,classNames:M,styles:O,children:B,loading:P}=n,F=Qq(n,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading"]),U=r("modal",u),z=r(),$=ol(U),[J,W,Q]=QF(U,$),ae=Je(_,{[`${U}-centered`]:E??(o==null?void 0:o.centered),[`${U}-wrap-rtl`]:a==="rtl"}),Y=T!==null&&!P?w.createElement(XF,Object.assign({},n,{onOk:s,onCancel:l})):null,[K,ee,de]=jF(N1(n),N1(o),{closable:!0,closeIcon:w.createElement(w0,{className:`${U}-close-icon`}),closeIconRender:_e=>WF(U,_e)}),q=Hq(`.${U}-content`),[ie,he]=_S("Modal",F.zIndex),[fe,Z]=w.useMemo(()=>C&&typeof C=="object"?[void 0,C]:[C,void 0],[C]),pe=w.useMemo(()=>{const _e={};return Z&&Object.keys(Z).forEach(Oe=>{const we=Z[Oe];we!==void 0&&(_e[`--${U}-${Oe}-width`]=typeof we=="number"?`${we}px`:we)}),_e},[Z]);return J(w.createElement(L1,{form:!0,space:!0},w.createElement(IO.Provider,{value:he},w.createElement(FO,Object.assign({width:fe},F,{zIndex:ie,getContainer:c===void 0?t:c,prefixCls:U,rootClassName:Je(W,m,Q,$),footer:Y,visible:y??b,mousePosition:(e=F.mousePosition)!==null&&e!==void 0?e:s2,onClose:l,closable:K&&{disabled:de,closeIcon:ee},closeIcon:ee,focusTriggerAfterClose:p,transitionName:Ju(z,"zoom",n.transitionName),maskTransitionName:Ju(z,"fade",n.maskTransitionName),className:Je(W,f,o==null?void 0:o.className),style:Object.assign(Object.assign(Object.assign({},o==null?void 0:o.style),g),pe),classNames:Object.assign(Object.assign(Object.assign({},o==null?void 0:o.classNames),M),{wrapper:Je(ae,M==null?void 0:M.wrapper)}),styles:Object.assign(Object.assign({},o==null?void 0:o.styles),O),panelRef:q}),P?w.createElement(Um,{active:!0,title:!1,paragraph:{rows:4},className:`${U}-body-skeleton`}):B))))},eK=n=>{const{componentCls:e,titleFontSize:t,titleLineHeight:r,modalConfirmIconSize:a,fontSize:o,lineHeight:l,modalTitleHeight:s,fontHeight:u,confirmBodyPadding:f}=n,m=`${e}-confirm`;return{[m]:{"&-rtl":{direction:"rtl"},[`${n.antCls}-modal-header`]:{display:"none"},[`${m}-body-wrapper`]:Object.assign({},l0()),[`&${e} ${e}-body`]:{padding:f},[`${m}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${n.iconCls}`]:{flex:"none",fontSize:a,marginInlineEnd:n.confirmIconMarginInlineEnd,marginTop:n.calc(n.calc(u).sub(a).equal()).div(2).equal()},[`&-has-title > ${n.iconCls}`]:{marginTop:n.calc(n.calc(s).sub(a).equal()).div(2).equal()}},[`${m}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:n.marginXS,maxWidth:`calc(100% - ${Mt(n.marginSM)})`},[`${n.iconCls} + ${m}-paragraph`]:{maxWidth:`calc(100% - ${Mt(n.calc(n.modalConfirmIconSize).add(n.marginSM).equal())})`},[`${m}-title`]:{color:n.colorTextHeading,fontWeight:n.fontWeightStrong,fontSize:t,lineHeight:r},[`${m}-content`]:{color:n.colorText,fontSize:o,lineHeight:l},[`${m}-btns`]:{textAlign:"end",marginTop:n.confirmBtnsMarginTop,[`${n.antCls}-btn + ${n.antCls}-btn`]:{marginBottom:0,marginInlineStart:n.marginXS}}},[`${m}-error ${m}-body > ${n.iconCls}`]:{color:n.colorError},[`${m}-warning ${m}-body > ${n.iconCls},
        ${m}-confirm ${m}-body > ${n.iconCls}`]:{color:n.colorWarning},[`${m}-info ${m}-body > ${n.iconCls}`]:{color:n.colorInfo},[`${m}-success ${m}-body > ${n.iconCls}`]:{color:n.colorSuccess}}},tK=cw(["Modal","confirm"],n=>{const e=KF(n);return[eK(e)]},JF,{order:-1e3});var nK=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};function e4(n){const{prefixCls:e,icon:t,okText:r,cancelText:a,confirmPrefixCls:o,type:l,okCancel:s,footer:u,locale:f}=n,m=nK(n,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let y=t;if(!t&&t!==null)switch(l){case"info":y=w.createElement(sU,null);break;case"success":y=w.createElement(vO,null);break;case"error":y=w.createElement(ew,null);break;default:y=w.createElement(oU,null)}const _=s??l==="confirm",E=n.autoFocusButton===null?!1:n.autoFocusButton||"ok",[c]=SS("Modal"),p=f||c,g=r||(_?p==null?void 0:p.okText:p==null?void 0:p.justOkText),b=a||(p==null?void 0:p.cancelText),C=Object.assign({autoFocusButton:E,cancelTextLocale:b,okTextLocale:g,mergedOkCancel:_},m),T=w.useMemo(()=>C,Kt(Object.values(C))),M=w.createElement(w.Fragment,null,w.createElement(gP,null),w.createElement(vP,null)),O=n.title!==void 0&&n.title!==null,B=`${o}-body`;return w.createElement("div",{className:`${o}-body-wrapper`},w.createElement("div",{className:Je(B,{[`${B}-has-title`]:O})},y,w.createElement("div",{className:`${o}-paragraph`},O&&w.createElement("span",{className:`${o}-title`},n.title),w.createElement("div",{className:`${o}-content`},n.content))),u===void 0||typeof u=="function"?w.createElement(PF,{value:T},w.createElement("div",{className:`${o}-btns`},typeof u=="function"?u(M,{OkBtn:vP,CancelBtn:gP}):M)):u,w.createElement(tK,{prefixCls:e}))}const iK=n=>{const{close:e,zIndex:t,maskStyle:r,direction:a,prefixCls:o,wrapClassName:l,rootPrefixCls:s,bodyStyle:u,closable:f=!1,onConfirm:m,styles:y}=n,_=`${o}-confirm`,E=n.width||416,c=n.style||{},p=n.mask===void 0?!0:n.mask,g=n.maskClosable===void 0?!1:n.maskClosable,b=Je(_,`${_}-${n.type}`,{[`${_}-rtl`]:a==="rtl"},n.className),[,C]=id(),T=w.useMemo(()=>t!==void 0?t:C.zIndexPopupBase+yF,[t,C]);return w.createElement(ZF,Object.assign({},n,{className:b,wrapClassName:Je({[`${_}-centered`]:!!n.centered},l),onCancel:()=>{e==null||e({triggerCancel:!0}),m==null||m(!1)},title:"",footer:null,transitionName:Ju(s||"","zoom",n.transitionName),maskTransitionName:Ju(s||"","fade",n.maskTransitionName),mask:p,maskClosable:g,style:c,styles:Object.assign({body:u,mask:r},y),width:E,zIndex:T,closable:f}),w.createElement(e4,Object.assign({},n,{confirmPrefixCls:_})))},t4=n=>{const{rootPrefixCls:e,iconPrefixCls:t,direction:r,theme:a}=n;return w.createElement(bf,{prefixCls:e,iconPrefixCls:t,direction:r,theme:a},w.createElement(iK,Object.assign({},n)))},lm=[];let n4="";function i4(){return n4}const rK=n=>{var e,t;const{prefixCls:r,getContainer:a,direction:o}=n,l=HU(),s=w.useContext(Hn),u=i4()||s.getPrefixCls(),f=r||`${u}-modal`;let m=a;return m===!1&&(m=void 0),Xe.createElement(t4,Object.assign({},n,{rootPrefixCls:u,prefixCls:f,iconPrefixCls:s.iconPrefixCls,theme:s.theme,direction:o??s.direction,locale:(t=(e=s.locale)===null||e===void 0?void 0:e.Modal)!==null&&t!==void 0?t:l,getContainer:m}))};function MS(n){const e=hF(),t=document.createDocumentFragment();let r=Object.assign(Object.assign({},n),{close:u,open:!0}),a,o;function l(){for(var m,y=arguments.length,_=new Array(y),E=0;E<y;E++)_[E]=arguments[E];if(_.some(g=>g==null?void 0:g.triggerCancel)){var p;(m=n.onCancel)===null||m===void 0||(p=m).call.apply(p,[n,()=>{}].concat(Kt(_.slice(1))))}for(let g=0;g<lm.length;g++)if(lm[g]===u){lm.splice(g,1);break}o()}function s(m){clearTimeout(a),a=setTimeout(()=>{const y=e.getPrefixCls(void 0,i4()),_=e.getIconPrefixCls(),E=e.getTheme(),c=Xe.createElement(rK,Object.assign({},m));o=DO()(Xe.createElement(bf,{prefixCls:y,iconPrefixCls:_,theme:E},e.holderRender?e.holderRender(c):c),t)})}function u(){for(var m=arguments.length,y=new Array(m),_=0;_<m;_++)y[_]=arguments[_];r=Object.assign(Object.assign({},r),{open:!1,afterClose:()=>{typeof n.afterClose=="function"&&n.afterClose(),l.apply(this,y)}}),r.visible&&delete r.visible,s(r)}function f(m){typeof m=="function"?r=m(r):r=Object.assign(Object.assign({},r),m),s(r)}return s(r),lm.push(u),{destroy:u,update:f}}function r4(n){return Object.assign(Object.assign({},n),{type:"warning"})}function a4(n){return Object.assign(Object.assign({},n),{type:"info"})}function o4(n){return Object.assign(Object.assign({},n),{type:"success"})}function s4(n){return Object.assign(Object.assign({},n),{type:"error"})}function l4(n){return Object.assign(Object.assign({},n),{type:"confirm"})}function aK(n){let{rootPrefixCls:e}=n;n4=e}var oK=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const sK=(n,e)=>{var t,{afterClose:r,config:a}=n,o=oK(n,["afterClose","config"]);const[l,s]=w.useState(!0),[u,f]=w.useState(a),{direction:m,getPrefixCls:y}=w.useContext(Hn),_=y("modal"),E=y(),c=()=>{var C;r(),(C=u.afterClose)===null||C===void 0||C.call(u)},p=function(){var C;s(!1);for(var T=arguments.length,M=new Array(T),O=0;O<T;O++)M[O]=arguments[O];if(M.some(F=>F==null?void 0:F.triggerCancel)){var P;(C=u.onCancel)===null||C===void 0||(P=C).call.apply(P,[u,()=>{}].concat(Kt(M.slice(1))))}};w.useImperativeHandle(e,()=>({destroy:p,update:C=>{f(T=>Object.assign(Object.assign({},T),C))}}));const g=(t=u.okCancel)!==null&&t!==void 0?t:u.type==="confirm",[b]=SS("Modal",Nh.Modal);return w.createElement(t4,Object.assign({prefixCls:_,rootPrefixCls:E},u,{close:p,open:l,afterClose:c,okText:u.okText||(g?b==null?void 0:b.okText:b==null?void 0:b.justOkText),direction:u.direction||m,cancelText:u.cancelText||(b==null?void 0:b.cancelText)},o))},lK=w.forwardRef(sK);let kP=0;const cK=w.memo(w.forwardRef((n,e)=>{const[t,r]=xW();return w.useImperativeHandle(e,()=>({patchElement:r}),[]),w.createElement(w.Fragment,null,t)}));function uK(){const n=w.useRef(null),[e,t]=w.useState([]);w.useEffect(()=>{e.length&&(Kt(e).forEach(l=>{l()}),t([]))},[e]);const r=w.useCallback(o=>function(s){var u;kP+=1;const f=w.createRef();let m;const y=new Promise(g=>{m=g});let _=!1,E;const c=w.createElement(lK,{key:`modal-${kP}`,config:o(s),ref:f,afterClose:()=>{E==null||E()},isSilent:()=>_,onConfirm:g=>{m(g)}});return E=(u=n.current)===null||u===void 0?void 0:u.patchElement(c),E&&lm.push(E),{destroy:()=>{function g(){var b;(b=f.current)===null||b===void 0||b.destroy()}f.current?g():t(b=>[].concat(Kt(b),[g]))},update:g=>{function b(){var C;(C=f.current)===null||C===void 0||C.update(g)}f.current?b():t(C=>[].concat(Kt(C),[b]))},then:g=>(_=!0,y.then(g))}},[]);return[w.useMemo(()=>({info:r(a4),success:r(o4),error:r(s4),warning:r(r4),confirm:r(l4)}),[]),w.createElement(cK,{key:"modal-holder",ref:n})]}const dK=Xe.createContext({});function fK(n){return e=>w.createElement(bf,{theme:{token:{motion:!1,zIndexPopupBase:0}}},w.createElement(n,Object.assign({},e)))}const hK=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var n=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(n)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(n==null?void 0:n.substr(0,4))};var pK=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],zg=void 0;function mK(n,e){var t=n.prefixCls,r=n.invalidate,a=n.item,o=n.renderItem,l=n.responsive,s=n.responsiveDisabled,u=n.registerSize,f=n.itemKey,m=n.className,y=n.style,_=n.children,E=n.display,c=n.order,p=n.component,g=p===void 0?"div":p,b=kn(n,pK),C=l&&!E;function T(F){u(f,F)}w.useEffect(function(){return function(){T(null)}},[]);var M=o&&a!==zg?o(a,{index:c}):_,O;r||(O={opacity:C?0:1,height:C?0:zg,overflowY:C?"hidden":zg,order:l?c:zg,pointerEvents:C?"none":zg,position:C?"absolute":zg});var B={};C&&(B["aria-hidden"]=!0);var P=w.createElement(g,Pt({className:Je(!r&&t,m),style:Ne(Ne({},O),y)},B,b,{ref:e}),M);return l&&(P=w.createElement(Nm,{onResize:function(U){var z=U.offsetWidth;T(z)},disabled:s},P)),P}var Tb=w.forwardRef(mK);Tb.displayName="Item";function gK(n){if(typeof MessageChannel>"u")Da(n);else{var e=new MessageChannel;e.port1.onmessage=function(){return n()},e.port2.postMessage(void 0)}}function vK(){var n=w.useRef(null),e=function(r){n.current||(n.current=[],gK(function(){Lh.unstable_batchedUpdates(function(){n.current.forEach(function(a){a()}),n.current=null})})),n.current.push(r)};return e}function zy(n,e){var t=w.useState(e),r=vt(t,2),a=r[0],o=r[1],l=Qa(function(s){n(function(){o(s)})});return[a,l]}var z1=Xe.createContext(null),yK=["component"],bK=["className"],SK=["className"],_K=function(e,t){var r=w.useContext(z1);if(!r){var a=e.component,o=a===void 0?"div":a,l=kn(e,yK);return w.createElement(o,Pt({},l,{ref:t}))}var s=r.className,u=kn(r,bK),f=e.className,m=kn(e,SK);return w.createElement(z1.Provider,{value:null},w.createElement(Tb,Pt({ref:t,className:Je(s,f)},u,m)))},c4=w.forwardRef(_K);c4.displayName="RawItem";var xK=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],u4="responsive",d4="invalidate";function CK(n){return"+ ".concat(n.length," ...")}function EK(n,e){var t=n.prefixCls,r=t===void 0?"rc-overflow":t,a=n.data,o=a===void 0?[]:a,l=n.renderItem,s=n.renderRawItem,u=n.itemKey,f=n.itemWidth,m=f===void 0?10:f,y=n.ssr,_=n.style,E=n.className,c=n.maxCount,p=n.renderRest,g=n.renderRawRest,b=n.suffix,C=n.component,T=C===void 0?"div":C,M=n.itemComponent,O=n.onVisibleChange,B=kn(n,xK),P=y==="full",F=vK(),U=zy(F,null),z=vt(U,2),$=z[0],J=z[1],W=$||0,Q=zy(F,new Map),ae=vt(Q,2),Y=ae[0],K=ae[1],ee=zy(F,0),de=vt(ee,2),q=de[0],ie=de[1],he=zy(F,0),fe=vt(he,2),Z=fe[0],pe=fe[1],_e=zy(F,0),Oe=vt(_e,2),we=Oe[0],Te=Oe[1],ze=w.useState(null),yt=vt(ze,2),Be=yt[0],xe=yt[1],re=w.useState(null),Fe=vt(re,2),Ie=Fe[0],qe=Fe[1],$e=w.useMemo(function(){return Ie===null&&P?Number.MAX_SAFE_INTEGER:Ie||0},[Ie,$]),ct=w.useState(!1),st=vt(ct,2),ce=st[0],oe=st[1],Ee="".concat(r,"-item"),De=Math.max(q,Z),Ke=c===u4,He=o.length&&Ke,gt=c===d4,lt=He||typeof c=="number"&&o.length>c,pt=w.useMemo(function(){var Yt=o;return He?$===null&&P?Yt=o:Yt=o.slice(0,Math.min(o.length,W/m)):typeof c=="number"&&(Yt=o.slice(0,c)),Yt},[o,m,$,c,He]),It=w.useMemo(function(){return He?o.slice($e+1):o.slice(pt.length)},[o,pt,He,$e]),ot=w.useCallback(function(Yt,Lt){var Xt;return typeof u=="function"?u(Yt):(Xt=u&&(Yt==null?void 0:Yt[u]))!==null&&Xt!==void 0?Xt:Lt},[u]),_t=w.useCallback(l||function(Yt){return Yt},[l]);function Ct(Yt,Lt,Xt){Ie===Yt&&(Lt===void 0||Lt===Be)||(qe(Yt),Xt||(oe(Yt<o.length-1),O==null||O(Yt)),Lt!==void 0&&xe(Lt))}function We(Yt,Lt){J(Lt.clientWidth)}function rt(Yt,Lt){K(function(Xt){var yn=new Map(Xt);return Lt===null?yn.delete(Yt):yn.set(Yt,Lt),yn})}function Se(Yt,Lt){pe(Lt),ie(Z)}function Ge(Yt,Lt){Te(Lt)}function St(Yt){return Y.get(ot(pt[Yt],Yt))}wa(function(){if(W&&typeof De=="number"&&pt){var Yt=we,Lt=pt.length,Xt=Lt-1;if(!Lt){Ct(0,null);return}for(var yn=0;yn<Lt;yn+=1){var lr=St(yn);if(P&&(lr=lr||0),lr===void 0){Ct(yn-1,void 0,!0);break}if(Yt+=lr,Xt===0&&Yt<=W||yn===Xt-1&&Yt+St(Xt)<=W){Ct(Xt,null);break}else if(Yt+De>W){Ct(yn-1,Yt-lr-we+Z);break}}b&&St(0)+we>W&&xe(null)}},[W,Y,Z,we,ot,pt]);var Ae=ce&&!!It.length,xt={};Be!==null&&He&&(xt={position:"absolute",left:Be,top:0});var et={prefixCls:Ee,responsive:He,component:M,invalidate:gt},mt=s?function(Yt,Lt){var Xt=ot(Yt,Lt);return w.createElement(z1.Provider,{key:Xt,value:Ne(Ne({},et),{},{order:Lt,item:Yt,itemKey:Xt,registerSize:rt,display:Lt<=$e})},s(Yt,Lt))}:function(Yt,Lt){var Xt=ot(Yt,Lt);return w.createElement(Tb,Pt({},et,{order:Lt,key:Xt,item:Yt,renderItem:_t,itemKey:Xt,registerSize:rt,display:Lt<=$e}))},Nt={order:Ae?$e:Number.MAX_SAFE_INTEGER,className:"".concat(Ee,"-rest"),registerSize:Se,display:Ae},Bt=p||CK,Qt=g?w.createElement(z1.Provider,{value:Ne(Ne({},et),Nt)},g(It)):w.createElement(Tb,Pt({},et,Nt),typeof Bt=="function"?Bt(It):Bt),sn=w.createElement(T,Pt({className:Je(!gt&&r,E),style:_,ref:e},B),pt.map(mt),lt?Qt:null,b&&w.createElement(Tb,Pt({},et,{responsive:Ke,responsiveDisabled:!He,order:$e,className:"".concat(Ee,"-suffix"),registerSize:Ge,display:!0,style:xt}),b));return Ke?w.createElement(Nm,{onResize:We,disabled:!He},sn):sn}var of=w.forwardRef(EK);of.displayName="Overflow";of.Item=c4;of.RESPONSIVE=u4;of.INVALIDATE=d4;function wK(n){var e=n.prefixCls,t=n.align,r=n.arrow,a=n.arrowPos,o=r||{},l=o.className,s=o.content,u=a.x,f=u===void 0?0:u,m=a.y,y=m===void 0?0:m,_=w.useRef();if(!t||!t.points)return null;var E={position:"absolute"};if(t.autoArrow!==!1){var c=t.points[0],p=t.points[1],g=c[0],b=c[1],C=p[0],T=p[1];g===C||!["t","b"].includes(g)?E.top=y:g==="t"?E.top=0:E.bottom=0,b===T||!["l","r"].includes(b)?E.left=f:b==="l"?E.left=0:E.right=0}return w.createElement("div",{ref:_,className:Je("".concat(e,"-arrow"),l),style:E},s)}function AK(n){var e=n.prefixCls,t=n.open,r=n.zIndex,a=n.mask,o=n.motion;return a?w.createElement($c,Pt({},o,{motionAppear:!0,visible:t,removeOnLeave:!0}),function(l){var s=l.className;return w.createElement("div",{style:{zIndex:r},className:Je("".concat(e,"-mask"),s)})}):null}var MK=w.memo(function(n){var e=n.children;return e},function(n,e){return e.cache}),TK=w.forwardRef(function(n,e){var t=n.popup,r=n.className,a=n.prefixCls,o=n.style,l=n.target,s=n.onVisibleChanged,u=n.open,f=n.keepDom,m=n.fresh,y=n.onClick,_=n.mask,E=n.arrow,c=n.arrowPos,p=n.align,g=n.motion,b=n.maskMotion,C=n.forceRender,T=n.getPopupContainer,M=n.autoDestroy,O=n.portal,B=n.zIndex,P=n.onMouseEnter,F=n.onMouseLeave,U=n.onPointerEnter,z=n.onPointerDownCapture,$=n.ready,J=n.offsetX,W=n.offsetY,Q=n.offsetR,ae=n.offsetB,Y=n.onAlign,K=n.onPrepare,ee=n.stretch,de=n.targetWidth,q=n.targetHeight,ie=typeof t=="function"?t():t,he=u||f,fe=(T==null?void 0:T.length)>0,Z=w.useState(!T||!fe),pe=vt(Z,2),_e=pe[0],Oe=pe[1];if(wa(function(){!_e&&fe&&l&&Oe(!0)},[_e,fe,l]),!_e)return null;var we="auto",Te={left:"-1000vw",top:"-1000vh",right:we,bottom:we};if($||!u){var ze,yt=p.points,Be=p.dynamicInset||((ze=p._experimental)===null||ze===void 0?void 0:ze.dynamicInset),xe=Be&&yt[0][1]==="r",re=Be&&yt[0][0]==="b";xe?(Te.right=Q,Te.left=we):(Te.left=J,Te.right=we),re?(Te.bottom=ae,Te.top=we):(Te.top=W,Te.bottom=we)}var Fe={};return ee&&(ee.includes("height")&&q?Fe.height=q:ee.includes("minHeight")&&q&&(Fe.minHeight=q),ee.includes("width")&&de?Fe.width=de:ee.includes("minWidth")&&de&&(Fe.minWidth=de)),u||(Fe.pointerEvents="none"),w.createElement(O,{open:C||he,getContainer:T&&function(){return T(l)},autoDestroy:M},w.createElement(AK,{prefixCls:a,open:u,zIndex:B,mask:_,motion:b}),w.createElement(Nm,{onResize:Y,disabled:!u},function(Ie){return w.createElement($c,Pt({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:C,leavedClassName:"".concat(a,"-hidden")},g,{onAppearPrepare:K,onEnterPrepare:K,visible:u,onVisibleChanged:function($e){var ct;g==null||(ct=g.onVisibleChanged)===null||ct===void 0||ct.call(g,$e),s($e)}}),function(qe,$e){var ct=qe.className,st=qe.style,ce=Je(a,ct,r);return w.createElement("div",{ref:yf(Ie,e,$e),className:ce,style:Ne(Ne(Ne(Ne({"--arrow-x":"".concat(c.x||0,"px"),"--arrow-y":"".concat(c.y||0,"px")},Te),Fe),st),{},{boxSizing:"border-box",zIndex:B},o),onMouseEnter:P,onMouseLeave:F,onPointerEnter:U,onClick:y,onPointerDownCapture:z},E&&w.createElement(wK,{prefixCls:a,arrow:E,arrowPos:c,align:p}),w.createElement(MK,{cache:!u&&!m},ie))})}))}),RK=w.forwardRef(function(n,e){var t=n.children,r=n.getTriggerDOMNode,a=yS(t),o=w.useCallback(function(s){bO(e,r?r(s):s)},[r]),l=A0(o,nw(t));return a?w.cloneElement(t,{ref:l}):t}),$P=w.createContext(null);function VP(n){return n?Array.isArray(n)?n:[n]:[]}function OK(n,e,t,r){return w.useMemo(function(){var a=VP(t??e),o=VP(r??e),l=new Set(a),s=new Set(o);return n&&(l.has("hover")&&(l.delete("hover"),l.add("click")),s.has("hover")&&(s.delete("hover"),s.add("click"))),[l,s]},[n,e,t,r])}function IK(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=arguments.length>2?arguments[2]:void 0;return t?n[0]===e[0]:n[0]===e[0]&&n[1]===e[1]}function BK(n,e,t,r){for(var a=t.points,o=Object.keys(n),l=0;l<o.length;l+=1){var s,u=o[l];if(IK((s=n[u])===null||s===void 0?void 0:s.points,a,r))return"".concat(e,"-placement-").concat(u)}return""}function jP(n,e,t,r){return e||(t?{motionName:"".concat(n,"-").concat(t)}:r?{motionName:r}:null)}function TS(n){return n.ownerDocument.defaultView}function l2(n){for(var e=[],t=n==null?void 0:n.parentElement,r=["hidden","scroll","clip","auto"];t;){var a=TS(t).getComputedStyle(t),o=a.overflowX,l=a.overflowY,s=a.overflow;[o,l,s].some(function(u){return r.includes(u)})&&e.push(t),t=t.parentElement}return e}function Qb(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(n)?e:n}function Uy(n){return Qb(parseFloat(n),0)}function WP(n,e){var t=Ne({},n);return(e||[]).forEach(function(r){if(!(r instanceof HTMLBodyElement||r instanceof HTMLHtmlElement)){var a=TS(r).getComputedStyle(r),o=a.overflow,l=a.overflowClipMargin,s=a.borderTopWidth,u=a.borderBottomWidth,f=a.borderLeftWidth,m=a.borderRightWidth,y=r.getBoundingClientRect(),_=r.offsetHeight,E=r.clientHeight,c=r.offsetWidth,p=r.clientWidth,g=Uy(s),b=Uy(u),C=Uy(f),T=Uy(m),M=Qb(Math.round(y.width/c*1e3)/1e3),O=Qb(Math.round(y.height/_*1e3)/1e3),B=(c-p-C-T)*M,P=(_-E-g-b)*O,F=g*O,U=b*O,z=C*M,$=T*M,J=0,W=0;if(o==="clip"){var Q=Uy(l);J=Q*M,W=Q*O}var ae=y.x+z-J,Y=y.y+F-W,K=ae+y.width+2*J-z-$-B,ee=Y+y.height+2*W-F-U-P;t.left=Math.max(t.left,ae),t.top=Math.max(t.top,Y),t.right=Math.min(t.right,K),t.bottom=Math.min(t.bottom,ee)}}),t}function XP(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t="".concat(e),r=t.match(/^(.*)\%$/);return r?n*(parseFloat(r[1])/100):parseFloat(t)}function YP(n,e){var t=e||[],r=vt(t,2),a=r[0],o=r[1];return[XP(n.width,a),XP(n.height,o)]}function qP(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[n[0],n[1]]}function Ug(n,e){var t=e[0],r=e[1],a,o;return t==="t"?o=n.y:t==="b"?o=n.y+n.height:o=n.y+n.height/2,r==="l"?a=n.x:r==="r"?a=n.x+n.width:a=n.x+n.width/2,{x:a,y:o}}function rh(n,e){var t={t:"b",b:"t",l:"r",r:"l"};return n.map(function(r,a){return a===e?t[r]||"c":r}).join("")}function DK(n,e,t,r,a,o,l){var s=w.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:a[r]||{}}),u=vt(s,2),f=u[0],m=u[1],y=w.useRef(0),_=w.useMemo(function(){return e?l2(e):[]},[e]),E=w.useRef({}),c=function(){E.current={}};n||c();var p=Qa(function(){if(e&&t&&n){let xr=function(Ua,va){var Ta=arguments.length>2&&arguments[2]!==void 0?arguments[2]:De,Is=Z.x+Ua,So=Z.y+va,$l=Is+xe,tn=So+Be,Sn=Math.max(Is,Ta.left),Mi=Math.max(So,Ta.top),Ci=Math.min($l,Ta.right),Hi=Math.min(tn,Ta.bottom);return Math.max(0,(Ci-Sn)*(Hi-Mi))},ko=function(){zr=Z.y+Xt,Ur=zr+Be,Rr=Z.x+Lt,Or=Rr+xe};var od=xr,Xc=ko,C,T,M,O,B=e,P=B.ownerDocument,F=TS(B),U=F.getComputedStyle(B),z=U.width,$=U.height,J=U.position,W=B.style.left,Q=B.style.top,ae=B.style.right,Y=B.style.bottom,K=B.style.overflow,ee=Ne(Ne({},a[r]),o),de=P.createElement("div");(C=B.parentElement)===null||C===void 0||C.appendChild(de),de.style.left="".concat(B.offsetLeft,"px"),de.style.top="".concat(B.offsetTop,"px"),de.style.position=J,de.style.height="".concat(B.offsetHeight,"px"),de.style.width="".concat(B.offsetWidth,"px"),B.style.left="0",B.style.top="0",B.style.right="auto",B.style.bottom="auto",B.style.overflow="hidden";var q;if(Array.isArray(t))q={x:t[0],y:t[1],width:0,height:0};else{var ie,he,fe=t.getBoundingClientRect();fe.x=(ie=fe.x)!==null&&ie!==void 0?ie:fe.left,fe.y=(he=fe.y)!==null&&he!==void 0?he:fe.top,q={x:fe.x,y:fe.y,width:fe.width,height:fe.height}}var Z=B.getBoundingClientRect();Z.x=(T=Z.x)!==null&&T!==void 0?T:Z.left,Z.y=(M=Z.y)!==null&&M!==void 0?M:Z.top;var pe=P.documentElement,_e=pe.clientWidth,Oe=pe.clientHeight,we=pe.scrollWidth,Te=pe.scrollHeight,ze=pe.scrollTop,yt=pe.scrollLeft,Be=Z.height,xe=Z.width,re=q.height,Fe=q.width,Ie={left:0,top:0,right:_e,bottom:Oe},qe={left:-yt,top:-ze,right:we-yt,bottom:Te-ze},$e=ee.htmlRegion,ct="visible",st="visibleFirst";$e!=="scroll"&&$e!==st&&($e=ct);var ce=$e===st,oe=WP(qe,_),Ee=WP(Ie,_),De=$e===ct?Ee:oe,Ke=ce?Ee:De;B.style.left="auto",B.style.top="auto",B.style.right="0",B.style.bottom="0";var He=B.getBoundingClientRect();B.style.left=W,B.style.top=Q,B.style.right=ae,B.style.bottom=Y,B.style.overflow=K,(O=B.parentElement)===null||O===void 0||O.removeChild(de);var gt=Qb(Math.round(xe/parseFloat(z)*1e3)/1e3),lt=Qb(Math.round(Be/parseFloat($)*1e3)/1e3);if(gt===0||lt===0||jb(t)&&!PO(t))return;var pt=ee.offset,It=ee.targetOffset,ot=YP(Z,pt),_t=vt(ot,2),Ct=_t[0],We=_t[1],rt=YP(q,It),Se=vt(rt,2),Ge=Se[0],St=Se[1];q.x-=Ge,q.y-=St;var Ae=ee.points||[],xt=vt(Ae,2),et=xt[0],mt=xt[1],Nt=qP(mt),Bt=qP(et),Qt=Ug(q,Nt),sn=Ug(Z,Bt),Yt=Ne({},ee),Lt=Qt.x-sn.x+Ct,Xt=Qt.y-sn.y+We,yn=xr(Lt,Xt),lr=xr(Lt,Xt,Ee),Jr=Ug(q,["t","l"]),zn=Ug(Z,["t","l"]),Ai=Ug(q,["b","r"]),Sr=Ug(Z,["b","r"]),wn=ee.overflow||{},Mn=wn.adjustX,Qn=wn.adjustY,un=wn.shiftX,ii=wn.shiftY,ln=function(va){return typeof va=="boolean"?va:va>=0},zr,Ur,Rr,Or;ko();var cr=ln(Qn),_r=Bt[0]===Nt[0];if(cr&&Bt[0]==="t"&&(Ur>Ke.bottom||E.current.bt)){var le=Xt;_r?le-=Be-re:le=Jr.y-Sr.y-We;var Ue=xr(Lt,le),at=xr(Lt,le,Ee);Ue>yn||Ue===yn&&(!ce||at>=lr)?(E.current.bt=!0,Xt=le,We=-We,Yt.points=[rh(Bt,0),rh(Nt,0)]):E.current.bt=!1}if(cr&&Bt[0]==="b"&&(zr<Ke.top||E.current.tb)){var Ze=Xt;_r?Ze+=Be-re:Ze=Ai.y-zn.y-We;var Ve=xr(Lt,Ze),Rt=xr(Lt,Ze,Ee);Ve>yn||Ve===yn&&(!ce||Rt>=lr)?(E.current.tb=!0,Xt=Ze,We=-We,Yt.points=[rh(Bt,0),rh(Nt,0)]):E.current.tb=!1}var $t=ln(Mn),qt=Bt[1]===Nt[1];if($t&&Bt[1]==="l"&&(Or>Ke.right||E.current.rl)){var Wt=Lt;qt?Wt-=xe-Fe:Wt=Jr.x-Sr.x-Ct;var gn=xr(Wt,Xt),dn=xr(Wt,Xt,Ee);gn>yn||gn===yn&&(!ce||dn>=lr)?(E.current.rl=!0,Lt=Wt,Ct=-Ct,Yt.points=[rh(Bt,1),rh(Nt,1)]):E.current.rl=!1}if($t&&Bt[1]==="r"&&(Rr<Ke.left||E.current.lr)){var on=Lt;qt?on+=xe-Fe:on=Ai.x-zn.x-Ct;var Gn=xr(on,Xt),Vn=xr(on,Xt,Ee);Gn>yn||Gn===yn&&(!ce||Vn>=lr)?(E.current.lr=!0,Lt=on,Ct=-Ct,Yt.points=[rh(Bt,1),rh(Nt,1)]):E.current.lr=!1}ko();var jn=un===!0?0:un;typeof jn=="number"&&(Rr<Ee.left&&(Lt-=Rr-Ee.left-Ct,q.x+Fe<Ee.left+jn&&(Lt+=q.x-Ee.left+Fe-jn)),Or>Ee.right&&(Lt-=Or-Ee.right-Ct,q.x>Ee.right-jn&&(Lt+=q.x-Ee.right+jn)));var In=ii===!0?0:ii;typeof In=="number"&&(zr<Ee.top&&(Xt-=zr-Ee.top-We,q.y+re<Ee.top+In&&(Xt+=q.y-Ee.top+re-In)),Ur>Ee.bottom&&(Xt-=Ur-Ee.bottom-We,q.y>Ee.bottom-In&&(Xt+=q.y-Ee.bottom+In)));var bn=Z.x+Lt,cn=bn+xe,Si=Z.y+Xt,Wn=Si+Be,$n=q.x,Tn=$n+Fe,Cn=q.y,Zn=Cn+re,An=Math.max(bn,$n),xi=Math.min(cn,Tn),Li=(An+xi)/2,$i=Li-bn,Ki=Math.max(Si,Cn),Ir=Math.min(Wn,Zn),Wi=(Ki+Ir)/2,bo=Wi-Si;l==null||l(e,Yt);var no=He.right-Z.x-(Lt+Z.width),Ma=He.bottom-Z.y-(Xt+Z.height);gt===1&&(Lt=Math.round(Lt),no=Math.round(no)),lt===1&&(Xt=Math.round(Xt),Ma=Math.round(Ma));var Os={ready:!0,offsetX:Lt/gt,offsetY:Xt/lt,offsetR:no/gt,offsetB:Ma/lt,arrowX:$i/gt,arrowY:bo/lt,scaleX:gt,scaleY:lt,align:Yt};m(Os)}}),g=function(){y.current+=1;var T=y.current;Promise.resolve().then(function(){y.current===T&&p()})},b=function(){m(function(T){return Ne(Ne({},T),{},{ready:!1})})};return wa(b,[r]),wa(function(){n||b()},[n]),[f.ready,f.offsetX,f.offsetY,f.offsetR,f.offsetB,f.arrowX,f.arrowY,f.scaleX,f.scaleY,f.align,g]}function PK(n,e,t,r,a){wa(function(){if(n&&e&&t){let _=function(){r(),a()};var y=_,o=e,l=t,s=l2(o),u=l2(l),f=TS(l),m=new Set([f].concat(Kt(s),Kt(u)));return m.forEach(function(E){E.addEventListener("scroll",_,{passive:!0})}),f.addEventListener("resize",_,{passive:!0}),r(),function(){m.forEach(function(E){E.removeEventListener("scroll",_),f.removeEventListener("resize",_)})}}},[n,e,t])}function LK(n,e,t,r,a,o,l,s){var u=w.useRef(n);u.current=n;var f=w.useRef(!1);w.useEffect(function(){if(e&&r&&(!a||o)){var y=function(){f.current=!1},_=function(g){var b;u.current&&!l(((b=g.composedPath)===null||b===void 0||(b=b.call(g))===null||b===void 0?void 0:b[0])||g.target)&&!f.current&&s(!1)},E=TS(r);E.addEventListener("pointerdown",y,!0),E.addEventListener("mousedown",_,!0),E.addEventListener("contextmenu",_,!0);var c=A1(t);return c&&(c.addEventListener("mousedown",_,!0),c.addEventListener("contextmenu",_,!0)),function(){E.removeEventListener("pointerdown",y,!0),E.removeEventListener("mousedown",_,!0),E.removeEventListener("contextmenu",_,!0),c&&(c.removeEventListener("mousedown",_,!0),c.removeEventListener("contextmenu",_,!0))}}},[e,t,r,a,o]);function m(){f.current=!0}return m}var NK=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function zK(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Sw,e=w.forwardRef(function(t,r){var a=t.prefixCls,o=a===void 0?"rc-trigger-popup":a,l=t.children,s=t.action,u=s===void 0?"hover":s,f=t.showAction,m=t.hideAction,y=t.popupVisible,_=t.defaultPopupVisible,E=t.onPopupVisibleChange,c=t.afterPopupVisibleChange,p=t.mouseEnterDelay,g=t.mouseLeaveDelay,b=g===void 0?.1:g,C=t.focusDelay,T=t.blurDelay,M=t.mask,O=t.maskClosable,B=O===void 0?!0:O,P=t.getPopupContainer,F=t.forceRender,U=t.autoDestroy,z=t.destroyPopupOnHide,$=t.popup,J=t.popupClassName,W=t.popupStyle,Q=t.popupPlacement,ae=t.builtinPlacements,Y=ae===void 0?{}:ae,K=t.popupAlign,ee=t.zIndex,de=t.stretch,q=t.getPopupClassNameFromAlign,ie=t.fresh,he=t.alignPoint,fe=t.onPopupClick,Z=t.onPopupAlign,pe=t.arrow,_e=t.popupMotion,Oe=t.maskMotion,we=t.popupTransitionName,Te=t.popupAnimation,ze=t.maskTransitionName,yt=t.maskAnimation,Be=t.className,xe=t.getTriggerDOMNode,re=kn(t,NK),Fe=U||z||!1,Ie=w.useState(!1),qe=vt(Ie,2),$e=qe[0],ct=qe[1];wa(function(){ct(hK())},[]);var st=w.useRef({}),ce=w.useContext($P),oe=w.useMemo(function(){return{registerSubPopup:function(Sn,Mi){st.current[Sn]=Mi,ce==null||ce.registerSubPopup(Sn,Mi)}}},[ce]),Ee=_w(),De=w.useState(null),Ke=vt(De,2),He=Ke[0],gt=Ke[1],lt=w.useRef(null),pt=Qa(function(tn){lt.current=tn,jb(tn)&&He!==tn&&gt(tn),ce==null||ce.registerSubPopup(Ee,tn)}),It=w.useState(null),ot=vt(It,2),_t=ot[0],Ct=ot[1],We=w.useRef(null),rt=Qa(function(tn){jb(tn)&&_t!==tn&&(Ct(tn),We.current=tn)}),Se=w.Children.only(l),Ge=(Se==null?void 0:Se.props)||{},St={},Ae=Qa(function(tn){var Sn,Mi,Ci=_t;return(Ci==null?void 0:Ci.contains(tn))||((Sn=A1(Ci))===null||Sn===void 0?void 0:Sn.host)===tn||tn===Ci||(He==null?void 0:He.contains(tn))||((Mi=A1(He))===null||Mi===void 0?void 0:Mi.host)===tn||tn===He||Object.values(st.current).some(function(Hi){return(Hi==null?void 0:Hi.contains(tn))||tn===Hi})}),xt=jP(o,_e,Te,we),et=jP(o,Oe,yt,ze),mt=w.useState(_||!1),Nt=vt(mt,2),Bt=Nt[0],Qt=Nt[1],sn=y??Bt,Yt=Qa(function(tn){y===void 0&&Qt(tn)});wa(function(){Qt(y||!1)},[y]);var Lt=w.useRef(sn);Lt.current=sn;var Xt=w.useRef([]);Xt.current=[];var yn=Qa(function(tn){var Sn;Yt(tn),((Sn=Xt.current[Xt.current.length-1])!==null&&Sn!==void 0?Sn:sn)!==tn&&(Xt.current.push(tn),E==null||E(tn))}),lr=w.useRef(),Jr=function(){clearTimeout(lr.current)},zn=function(Sn){var Mi=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Jr(),Mi===0?yn(Sn):lr.current=setTimeout(function(){yn(Sn)},Mi*1e3)};w.useEffect(function(){return Jr},[]);var Ai=w.useState(!1),Sr=vt(Ai,2),wn=Sr[0],Mn=Sr[1];wa(function(tn){(!tn||sn)&&Mn(!0)},[sn]);var Qn=w.useState(null),un=vt(Qn,2),ii=un[0],ln=un[1],zr=w.useState(null),Ur=vt(zr,2),Rr=Ur[0],Or=Ur[1],cr=function(Sn){Or([Sn.clientX,Sn.clientY])},_r=DK(sn,He,he&&Rr!==null?Rr:_t,Q,Y,K,Z),le=vt(_r,11),Ue=le[0],at=le[1],Ze=le[2],Ve=le[3],Rt=le[4],$t=le[5],qt=le[6],Wt=le[7],gn=le[8],dn=le[9],on=le[10],Gn=OK($e,u,f,m),Vn=vt(Gn,2),jn=Vn[0],In=Vn[1],bn=jn.has("click"),cn=In.has("click")||In.has("contextMenu"),Si=Qa(function(){wn||on()}),Wn=function(){Lt.current&&he&&cn&&zn(!1)};PK(sn,_t,He,Si,Wn),wa(function(){Si()},[Rr,Q]),wa(function(){sn&&!(Y!=null&&Y[Q])&&Si()},[JSON.stringify(K)]);var $n=w.useMemo(function(){var tn=BK(Y,o,dn,he);return Je(tn,q==null?void 0:q(dn))},[dn,q,Y,o,he]);w.useImperativeHandle(r,function(){return{nativeElement:We.current,popupElement:lt.current,forceAlign:Si}});var Tn=w.useState(0),Cn=vt(Tn,2),Zn=Cn[0],An=Cn[1],xi=w.useState(0),Li=vt(xi,2),$i=Li[0],Ki=Li[1],Ir=function(){if(de&&_t){var Sn=_t.getBoundingClientRect();An(Sn.width),Ki(Sn.height)}},Wi=function(){Ir(),Si()},bo=function(Sn){Mn(!1),on(),c==null||c(Sn)},no=function(){return new Promise(function(Sn){Ir(),ln(function(){return Sn})})};wa(function(){ii&&(on(),ii(),ln(null))},[ii]);function Ma(tn,Sn,Mi,Ci){St[tn]=function(Hi){var Bs;Ci==null||Ci(Hi),zn(Sn,Mi);for(var $o=arguments.length,Fa=new Array($o>1?$o-1:0),Vo=1;Vo<$o;Vo++)Fa[Vo-1]=arguments[Vo];(Bs=Ge[tn])===null||Bs===void 0||Bs.call.apply(Bs,[Ge,Hi].concat(Fa))}}(bn||cn)&&(St.onClick=function(tn){var Sn;Lt.current&&cn?zn(!1):!Lt.current&&bn&&(cr(tn),zn(!0));for(var Mi=arguments.length,Ci=new Array(Mi>1?Mi-1:0),Hi=1;Hi<Mi;Hi++)Ci[Hi-1]=arguments[Hi];(Sn=Ge.onClick)===null||Sn===void 0||Sn.call.apply(Sn,[Ge,tn].concat(Ci))});var Os=LK(sn,cn,_t,He,M,B,Ae,zn),od=jn.has("hover"),Xc=In.has("hover"),xr,ko;od&&(Ma("onMouseEnter",!0,p,function(tn){cr(tn)}),Ma("onPointerEnter",!0,p,function(tn){cr(tn)}),xr=function(Sn){(sn||wn)&&He!==null&&He!==void 0&&He.contains(Sn.target)&&zn(!0,p)},he&&(St.onMouseMove=function(tn){var Sn;(Sn=Ge.onMouseMove)===null||Sn===void 0||Sn.call(Ge,tn)})),Xc&&(Ma("onMouseLeave",!1,b),Ma("onPointerLeave",!1,b),ko=function(){zn(!1,b)}),jn.has("focus")&&Ma("onFocus",!0,C),In.has("focus")&&Ma("onBlur",!1,T),jn.has("contextMenu")&&(St.onContextMenu=function(tn){var Sn;Lt.current&&In.has("contextMenu")?zn(!1):(cr(tn),zn(!0)),tn.preventDefault();for(var Mi=arguments.length,Ci=new Array(Mi>1?Mi-1:0),Hi=1;Hi<Mi;Hi++)Ci[Hi-1]=arguments[Hi];(Sn=Ge.onContextMenu)===null||Sn===void 0||Sn.call.apply(Sn,[Ge,tn].concat(Ci))}),Be&&(St.className=Je(Ge.className,Be));var Ua=Ne(Ne({},Ge),St),va={},Ta=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];Ta.forEach(function(tn){re[tn]&&(va[tn]=function(){for(var Sn,Mi=arguments.length,Ci=new Array(Mi),Hi=0;Hi<Mi;Hi++)Ci[Hi]=arguments[Hi];(Sn=Ua[tn])===null||Sn===void 0||Sn.call.apply(Sn,[Ua].concat(Ci)),re[tn].apply(re,Ci)})});var Is=w.cloneElement(Se,Ne(Ne({},Ua),va)),So={x:$t,y:qt},$l=pe?Ne({},pe!==!0?pe:{}):null;return w.createElement(w.Fragment,null,w.createElement(Nm,{disabled:!sn,ref:rt,onResize:Wi},w.createElement(RK,{getTriggerDOMNode:xe},Is)),w.createElement($P.Provider,{value:oe},w.createElement(TK,{portal:n,ref:pt,prefixCls:o,popup:$,className:Je(J,$n),style:W,target:_t,onMouseEnter:xr,onMouseLeave:ko,onPointerEnter:xr,zIndex:ee,open:sn,keepDom:wn,fresh:ie,onClick:fe,onPointerDownCapture:Os,mask:M,motion:xt,maskMotion:et,onVisibleChanged:bo,onPrepare:no,forceRender:F,autoDestroy:Fe,getPopupContainer:P,align:dn,arrow:$l,arrowPos:So,ready:Ue,offsetX:at,offsetY:Ze,offsetR:Ve,offsetB:Rt,onAlign:Si,stretch:de,targetWidth:Zn/Wt,targetHeight:$i/gn})))});return e}const f4=zK(Sw);function c2(n,e,t){return Je({[`${n}-status-success`]:e==="success",[`${n}-status-warning`]:e==="warning",[`${n}-status-error`]:e==="error",[`${n}-status-validating`]:e==="validating",[`${n}-has-feedback`]:t})}const GO=(n,e)=>e||n,h4=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;var r,a;const{variant:o,[n]:l}=w.useContext(Hn),s=w.useContext(gq),u=l==null?void 0:l.variant;let f;typeof e<"u"?f=e:t===!1?f="borderless":f=(a=(r=s??u)!==null&&r!==void 0?r:o)!==null&&a!==void 0?a:"outlined";const m=Hj.includes(f);return[f,m]},u0=["xxl","xl","lg","md","sm","xs"],UK=n=>({xs:`(max-width: ${n.screenXSMax}px)`,sm:`(min-width: ${n.screenSM}px)`,md:`(min-width: ${n.screenMD}px)`,lg:`(min-width: ${n.screenLG}px)`,xl:`(min-width: ${n.screenXL}px)`,xxl:`(min-width: ${n.screenXXL}px)`}),FK=n=>{const e=n,t=[].concat(u0).reverse();return t.forEach((r,a)=>{const o=r.toUpperCase(),l=`screen${o}Min`,s=`screen${o}`;if(!(e[l]<=e[s]))throw new Error(`${l}<=${s} fails : !(${e[l]}<=${e[s]})`);if(a<t.length-1){const u=`screen${o}Max`;if(!(e[s]<=e[u]))throw new Error(`${s}<=${u} fails : !(${e[s]}<=${e[u]})`);const m=`screen${t[a+1].toUpperCase()}Min`;if(!(e[u]<=e[m]))throw new Error(`${u}<=${m} fails : !(${e[u]}<=${e[m]})`)}}),n};function HK(){const[,n]=id(),e=UK(FK(n));return Xe.useMemo(()=>{const t=new Map;let r=-1,a={};return{matchHandlers:{},dispatch(o){return a=o,t.forEach(l=>l(a)),t.size>=1},subscribe(o){return t.size||this.register(),r+=1,t.set(r,o),o(a),r},unsubscribe(o){t.delete(o),t.size||this.unregister()},unregister(){Object.keys(e).forEach(o=>{const l=e[o],s=this.matchHandlers[l];s==null||s.mql.removeListener(s==null?void 0:s.listener)}),t.clear()},register(){Object.keys(e).forEach(o=>{const l=e[o],s=f=>{let{matches:m}=f;this.dispatch(Object.assign(Object.assign({},a),{[o]:m}))},u=window.matchMedia(l);u.addListener(s),this.matchHandlers[l]={mql:u,listener:s},s(u)})},responsiveMap:e}},[n])}function p4(){const[,n]=w.useReducer(e=>e+1,0);return n}function m4(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const t=w.useRef(e),r=p4(),a=HK();return wa(()=>{const o=a.subscribe(l=>{t.current=l,n&&r()});return()=>a.unsubscribe(o)},[]),t.current}const u2=w.createContext({}),GK=n=>{const{antCls:e,componentCls:t,iconCls:r,avatarBg:a,avatarColor:o,containerSize:l,containerSizeLG:s,containerSizeSM:u,textFontSize:f,textFontSizeLG:m,textFontSizeSM:y,borderRadius:_,borderRadiusLG:E,borderRadiusSM:c,lineWidth:p,lineType:g}=n,b=(C,T,M)=>({width:C,height:C,borderRadius:"50%",[`&${t}-square`]:{borderRadius:M},[`&${t}-icon`]:{fontSize:T,[`> ${r}`]:{margin:0}}});return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},Uo(n)),{position:"relative",display:"inline-flex",justifyContent:"center",alignItems:"center",overflow:"hidden",color:o,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:a,border:`${Mt(p)} ${g} transparent`,"&-image":{background:"transparent"},[`${e}-image-img`]:{display:"block"}}),b(l,f,_)),{"&-lg":Object.assign({},b(s,m,E)),"&-sm":Object.assign({},b(u,y,c)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},kK=n=>{const{componentCls:e,groupBorderColor:t,groupOverlapping:r,groupSpace:a}=n;return{[`${e}-group`]:{display:"inline-flex",[e]:{borderColor:t},"> *:not(:first-child)":{marginInlineStart:r}},[`${e}-group-popover`]:{[`${e} + ${e}`]:{marginInlineStart:a}}}},$K=n=>{const{controlHeight:e,controlHeightLG:t,controlHeightSM:r,fontSize:a,fontSizeLG:o,fontSizeXL:l,fontSizeHeading3:s,marginXS:u,marginXXS:f,colorBorderBg:m}=n;return{containerSize:e,containerSizeLG:t,containerSizeSM:r,textFontSize:Math.round((o+l)/2),textFontSizeLG:s,textFontSizeSM:a,groupSpace:f,groupOverlapping:-u,groupBorderColor:m}},g4=Nr("Avatar",n=>{const{colorTextLightSolid:e,colorTextPlaceholder:t}=n,r=qi(n,{avatarBg:t,avatarColor:e});return[GK(r),kK(r)]},$K);var VK=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const jK=(n,e)=>{const[t,r]=w.useState(1),[a,o]=w.useState(!1),[l,s]=w.useState(!0),u=w.useRef(null),f=w.useRef(null),m=yf(e,u),{getPrefixCls:y,avatar:_}=w.useContext(Hn),E=w.useContext(u2),c=()=>{if(!f.current||!u.current)return;const we=f.current.offsetWidth,Te=u.current.offsetWidth;if(we!==0&&Te!==0){const{gap:ze=4}=n;ze*2<Te&&r(Te-ze*2<we?(Te-ze*2)/we:1)}};w.useEffect(()=>{o(!0)},[]),w.useEffect(()=>{s(!0),r(1)},[n.src]),w.useEffect(c,[n.gap]);const p=()=>{const{onError:we}=n;(we==null?void 0:we())!==!1&&s(!1)},{prefixCls:g,shape:b,size:C,src:T,srcSet:M,icon:O,className:B,rootClassName:P,alt:F,draggable:U,children:z,crossOrigin:$}=n,J=VK(n,["prefixCls","shape","size","src","srcSet","icon","className","rootClassName","alt","draggable","children","crossOrigin"]),W=Sf(we=>{var Te,ze;return(ze=(Te=C??(E==null?void 0:E.size))!==null&&Te!==void 0?Te:we)!==null&&ze!==void 0?ze:"default"}),Q=Object.keys(typeof W=="object"?W||{}:{}).some(we=>["xs","sm","md","lg","xl","xxl"].includes(we)),ae=m4(Q),Y=w.useMemo(()=>{if(typeof W!="object")return{};const we=u0.find(ze=>ae[ze]),Te=W[we];return Te?{width:Te,height:Te,fontSize:Te&&(O||z)?Te/2:18}:{}},[ae,W]),K=y("avatar",g),ee=ol(K),[de,q,ie]=g4(K,ee),he=Je({[`${K}-lg`]:W==="large",[`${K}-sm`]:W==="small"}),fe=w.isValidElement(T),Z=b||(E==null?void 0:E.shape)||"circle",pe=Je(K,he,_==null?void 0:_.className,`${K}-${Z}`,{[`${K}-image`]:fe||T&&l,[`${K}-icon`]:!!O},ie,ee,B,P,q),_e=typeof W=="number"?{width:W,height:W,fontSize:O?W/2:18}:{};let Oe;if(typeof T=="string"&&l)Oe=w.createElement("img",{src:T,draggable:U,srcSet:M,onError:p,alt:F,crossOrigin:$});else if(fe)Oe=T;else if(O)Oe=O;else if(a||t!==1){const we=`scale(${t})`,Te={msTransform:we,WebkitTransform:we,transform:we};Oe=w.createElement(Nm,{onResize:c},w.createElement("span",{className:`${K}-string`,ref:f,style:Object.assign({},Te)},z))}else Oe=w.createElement("span",{className:`${K}-string`,style:{opacity:0},ref:f},z);return delete J.onError,delete J.gap,de(w.createElement("span",Object.assign({},J,{style:Object.assign(Object.assign(Object.assign(Object.assign({},_e),Y),_==null?void 0:_.style),J.style),className:pe,ref:m}),Oe))},v4=w.forwardRef(jK),U1=n=>n?typeof n=="function"?n():n:null;function kO(n){var e=n.children,t=n.prefixCls,r=n.id,a=n.overlayInnerStyle,o=n.bodyClassName,l=n.className,s=n.style;return w.createElement("div",{className:Je("".concat(t,"-content"),l),style:s},w.createElement("div",{className:Je("".concat(t,"-inner"),o),id:r,role:"tooltip",style:a},typeof e=="function"?e():e))}var Fg={shiftX:64,adjustY:1},Hg={adjustX:1,shiftY:!0},Il=[0,0],WK={left:{points:["cr","cl"],overflow:Hg,offset:[-4,0],targetOffset:Il},right:{points:["cl","cr"],overflow:Hg,offset:[4,0],targetOffset:Il},top:{points:["bc","tc"],overflow:Fg,offset:[0,-4],targetOffset:Il},bottom:{points:["tc","bc"],overflow:Fg,offset:[0,4],targetOffset:Il},topLeft:{points:["bl","tl"],overflow:Fg,offset:[0,-4],targetOffset:Il},leftTop:{points:["tr","tl"],overflow:Hg,offset:[-4,0],targetOffset:Il},topRight:{points:["br","tr"],overflow:Fg,offset:[0,-4],targetOffset:Il},rightTop:{points:["tl","tr"],overflow:Hg,offset:[4,0],targetOffset:Il},bottomRight:{points:["tr","br"],overflow:Fg,offset:[0,4],targetOffset:Il},rightBottom:{points:["bl","br"],overflow:Hg,offset:[4,0],targetOffset:Il},bottomLeft:{points:["tl","bl"],overflow:Fg,offset:[0,4],targetOffset:Il},leftBottom:{points:["br","bl"],overflow:Hg,offset:[-4,0],targetOffset:Il}},XK=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow","classNames","styles"],YK=function(e,t){var r=e.overlayClassName,a=e.trigger,o=a===void 0?["hover"]:a,l=e.mouseEnterDelay,s=l===void 0?0:l,u=e.mouseLeaveDelay,f=u===void 0?.1:u,m=e.overlayStyle,y=e.prefixCls,_=y===void 0?"rc-tooltip":y,E=e.children,c=e.onVisibleChange,p=e.afterVisibleChange,g=e.transitionName,b=e.animation,C=e.motion,T=e.placement,M=T===void 0?"right":T,O=e.align,B=O===void 0?{}:O,P=e.destroyTooltipOnHide,F=P===void 0?!1:P,U=e.defaultVisible,z=e.getTooltipContainer,$=e.overlayInnerStyle;e.arrowContent;var J=e.overlay,W=e.id,Q=e.showArrow,ae=Q===void 0?!0:Q,Y=e.classNames,K=e.styles,ee=kn(e,XK),de=_w(W),q=w.useRef(null);w.useImperativeHandle(t,function(){return q.current});var ie=Ne({},ee);"visible"in e&&(ie.popupVisible=e.visible);var he=function(){return w.createElement(kO,{key:"content",prefixCls:_,id:de,bodyClassName:Y==null?void 0:Y.body,overlayInnerStyle:Ne(Ne({},$),K==null?void 0:K.body)},J)},fe=function(){var pe=w.Children.only(E),_e=(pe==null?void 0:pe.props)||{},Oe=Ne(Ne({},_e),{},{"aria-describedby":J?de:null});return w.cloneElement(E,Oe)};return w.createElement(f4,Pt({popupClassName:Je(r,Y==null?void 0:Y.root),prefixCls:_,popup:he,action:o,builtinPlacements:WK,popupPlacement:M,ref:q,popupAlign:B,getPopupContainer:z,onPopupVisibleChange:c,afterPopupVisibleChange:p,popupTransitionName:g,popupAnimation:b,popupMotion:C,defaultPopupVisible:U,autoDestroy:F,mouseLeaveDelay:f,popupStyle:Ne(Ne({},m),K==null?void 0:K.root),mouseEnterDelay:s,arrow:ae},ie),fe())};const qK=w.forwardRef(YK);function y4(n){const{sizePopupArrow:e,borderRadiusXS:t,borderRadiusOuter:r}=n,a=e/2,o=0,l=a,s=r*1/Math.sqrt(2),u=a-r*(1-1/Math.sqrt(2)),f=a-t*(1/Math.sqrt(2)),m=r*(Math.sqrt(2)-1)+t*(1/Math.sqrt(2)),y=2*a-f,_=m,E=2*a-s,c=u,p=2*a-o,g=l,b=a*Math.sqrt(2)+r*(Math.sqrt(2)-2),C=r*(Math.sqrt(2)-1),T=`polygon(${C}px 100%, 50% ${C}px, ${2*a-C}px 100%, ${C}px 100%)`,M=`path('M ${o} ${l} A ${r} ${r} 0 0 0 ${s} ${u} L ${f} ${m} A ${t} ${t} 0 0 1 ${y} ${_} L ${E} ${c} A ${r} ${r} 0 0 0 ${p} ${g} Z')`;return{arrowShadowWidth:b,arrowPath:M,arrowPolygon:T}}const KK=(n,e,t)=>{const{sizePopupArrow:r,arrowPolygon:a,arrowPath:o,arrowShadowWidth:l,borderRadiusXS:s,calc:u}=n;return{pointerEvents:"none",width:r,height:r,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:r,height:u(r).div(2).equal(),background:e,clipPath:{_multi_value_:!0,value:[a,o]},content:'""'},"&::after":{content:'""',position:"absolute",width:l,height:l,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${Mt(s)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:t,zIndex:0,background:"transparent"}}},b4=8;function $O(n){const{contentRadius:e,limitVerticalRadius:t}=n,r=e>12?e+2:12;return{arrowOffsetHorizontal:r,arrowOffsetVertical:t?b4:r}}function vx(n,e){return n?e:{}}function S4(n,e,t){const{componentCls:r,boxShadowPopoverArrow:a,arrowOffsetVertical:o,arrowOffsetHorizontal:l}=n,{arrowDistance:s=0,arrowPlacement:u={left:!0,right:!0,top:!0,bottom:!0}}={};return{[r]:Object.assign(Object.assign(Object.assign(Object.assign({[`${r}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},KK(n,e,a)),{"&:before":{background:e}})]},vx(!!u.top,{[[`&-placement-top > ${r}-arrow`,`&-placement-topLeft > ${r}-arrow`,`&-placement-topRight > ${r}-arrow`].join(",")]:{bottom:s,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},"&-placement-topLeft":{"--arrow-offset-horizontal":l,[`> ${r}-arrow`]:{left:{_skip_check_:!0,value:l}}},"&-placement-topRight":{"--arrow-offset-horizontal":`calc(100% - ${Mt(l)})`,[`> ${r}-arrow`]:{right:{_skip_check_:!0,value:l}}}})),vx(!!u.bottom,{[[`&-placement-bottom > ${r}-arrow`,`&-placement-bottomLeft > ${r}-arrow`,`&-placement-bottomRight > ${r}-arrow`].join(",")]:{top:s,transform:"translateY(-100%)"},[`&-placement-bottom > ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},"&-placement-bottomLeft":{"--arrow-offset-horizontal":l,[`> ${r}-arrow`]:{left:{_skip_check_:!0,value:l}}},"&-placement-bottomRight":{"--arrow-offset-horizontal":`calc(100% - ${Mt(l)})`,[`> ${r}-arrow`]:{right:{_skip_check_:!0,value:l}}}})),vx(!!u.left,{[[`&-placement-left > ${r}-arrow`,`&-placement-leftTop > ${r}-arrow`,`&-placement-leftBottom > ${r}-arrow`].join(",")]:{right:{_skip_check_:!0,value:s},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left > ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop > ${r}-arrow`]:{top:o},[`&-placement-leftBottom > ${r}-arrow`]:{bottom:o}})),vx(!!u.right,{[[`&-placement-right > ${r}-arrow`,`&-placement-rightTop > ${r}-arrow`,`&-placement-rightBottom > ${r}-arrow`].join(",")]:{left:{_skip_check_:!0,value:s},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right > ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop > ${r}-arrow`]:{top:o},[`&-placement-rightBottom > ${r}-arrow`]:{bottom:o}}))}}function JK(n,e,t,r){if(r===!1)return{adjustX:!1,adjustY:!1};const a=r&&typeof r=="object"?r:{},o={};switch(n){case"top":case"bottom":o.shiftX=e.arrowOffsetHorizontal*2+t,o.shiftY=!0,o.adjustY=!0;break;case"left":case"right":o.shiftY=e.arrowOffsetVertical*2+t,o.shiftX=!0,o.adjustX=!0;break}const l=Object.assign(Object.assign({},o),a);return l.shiftX||(l.adjustX=!0),l.shiftY||(l.adjustY=!0),l}const KP={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},QK={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},ZK=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function eJ(n){const{arrowWidth:e,autoAdjustOverflow:t,arrowPointAtCenter:r,offset:a,borderRadius:o}=n,l=e/2,s={};return Object.keys(KP).forEach(u=>{const f=r&&QK[u]||KP[u],m=Object.assign(Object.assign({},f),{offset:[0,0],dynamicInset:!0});switch(s[u]=m,ZK.has(u)&&(m.autoArrow=!1),u){case"top":case"topLeft":case"topRight":m.offset[1]=-l-a;break;case"bottom":case"bottomLeft":case"bottomRight":m.offset[1]=l+a;break;case"left":case"leftTop":case"leftBottom":m.offset[0]=-l-a;break;case"right":case"rightTop":case"rightBottom":m.offset[0]=l+a;break}const y=$O({contentRadius:o,limitVerticalRadius:!0});if(r)switch(u){case"topLeft":case"bottomLeft":m.offset[0]=-y.arrowOffsetHorizontal-l;break;case"topRight":case"bottomRight":m.offset[0]=y.arrowOffsetHorizontal+l;break;case"leftTop":case"rightTop":m.offset[1]=-y.arrowOffsetHorizontal*2+l;break;case"leftBottom":case"rightBottom":m.offset[1]=y.arrowOffsetHorizontal*2-l;break}m.overflow=JK(u,y,e,t),m.htmlRegion="visibleFirst"}),s}const tJ=n=>{const{calc:e,componentCls:t,tooltipMaxWidth:r,tooltipColor:a,tooltipBg:o,tooltipBorderRadius:l,zIndexPopup:s,controlHeight:u,boxShadowSecondary:f,paddingSM:m,paddingXS:y,arrowOffsetHorizontal:_,sizePopupArrow:E}=n,c=e(l).add(E).add(_).equal(),p=e(l).mul(2).add(E).equal();return[{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},Uo(n)),{position:"absolute",zIndex:s,display:"block",width:"max-content",maxWidth:r,visibility:"visible","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"&-hidden":{display:"none"},"--antd-arrow-background-color":o,[`${t}-inner`]:{minWidth:p,minHeight:u,padding:`${Mt(n.calc(m).div(2).equal())} ${Mt(y)}`,color:a,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:o,borderRadius:l,boxShadow:f,boxSizing:"border-box"},[["&-placement-topLeft","&-placement-topRight","&-placement-bottomLeft","&-placement-bottomRight"].join(",")]:{minWidth:c},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${t}-inner`]:{borderRadius:n.min(l,b4)}},[`${t}-content`]:{position:"relative"}}),QU(n,(g,b)=>{let{darkColor:C}=b;return{[`&${t}-${g}`]:{[`${t}-inner`]:{backgroundColor:C},[`${t}-arrow`]:{"--antd-arrow-background-color":C}}}})),{"&-rtl":{direction:"rtl"}})},S4(n,"var(--antd-arrow-background-color)"),{[`${t}-pure`]:{position:"relative",maxWidth:"none",margin:n.sizePopupArrow}}]},nJ=n=>Object.assign(Object.assign({zIndexPopup:n.zIndexPopupBase+70},$O({contentRadius:n.borderRadius,limitVerticalRadius:!0})),y4(qi(n,{borderRadiusOuter:Math.min(n.borderRadiusOuter,4)}))),_4=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Nr("Tooltip",r=>{const{borderRadius:a,colorTextLightSolid:o,colorBgSpotlight:l}=r,s=qi(r,{tooltipMaxWidth:250,tooltipColor:o,tooltipBorderRadius:a,tooltipBg:l});return[tJ(s),CS(r,"zoom-big-fast")]},nJ,{resetStyle:!1,injectStyle:e})(n)},iJ=zh.map(n=>`${n}-inverse`),rJ=["success","processing","error","default","warning"];function x4(n){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?[].concat(Kt(iJ),Kt(zh)).includes(n):zh.includes(n)}function aJ(n){return rJ.includes(n)}function C4(n,e){const t=x4(e),r=Je({[`${n}-${e}`]:e&&t}),a={},o={};return e&&!t&&(a.background=e,o["--antd-arrow-background-color"]=e),{className:r,overlayStyle:a,arrowStyle:o}}const oJ=n=>{const{prefixCls:e,className:t,placement:r="top",title:a,color:o,overlayInnerStyle:l}=n,{getPrefixCls:s}=w.useContext(Hn),u=s("tooltip",e),[f,m,y]=_4(u),_=C4(u,o),E=_.arrowStyle,c=Object.assign(Object.assign({},l),_.overlayStyle),p=Je(m,y,u,`${u}-pure`,`${u}-placement-${r}`,t,_.className);return f(w.createElement("div",{className:p,style:E},w.createElement("div",{className:`${u}-arrow`}),w.createElement(kO,Object.assign({},n,{className:m,prefixCls:u,overlayInnerStyle:c}),a)))};var sJ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const lJ=w.forwardRef((n,e)=>{var t,r;const{prefixCls:a,openClassName:o,getTooltipContainer:l,color:s,overlayInnerStyle:u,children:f,afterOpenChange:m,afterVisibleChange:y,destroyTooltipOnHide:_,arrow:E=!0,title:c,overlay:p,builtinPlacements:g,arrowPointAtCenter:b=!1,autoAdjustOverflow:C=!0,motion:T,getPopupContainer:M,placement:O="top",mouseEnterDelay:B=.1,mouseLeaveDelay:P=.1,overlayStyle:F,rootClassName:U,overlayClassName:z,styles:$,classNames:J}=n,W=sJ(n,["prefixCls","openClassName","getTooltipContainer","color","overlayInnerStyle","children","afterOpenChange","afterVisibleChange","destroyTooltipOnHide","arrow","title","overlay","builtinPlacements","arrowPointAtCenter","autoAdjustOverflow","motion","getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName","overlayClassName","styles","classNames"]),Q=!!E,[,ae]=id(),{getPopupContainer:Y,getPrefixCls:K,direction:ee,className:de,style:q,classNames:ie,styles:he}=nd("tooltip"),fe=AO(),Z=w.useRef(null),pe=()=>{var It;(It=Z.current)===null||It===void 0||It.forceAlign()};w.useImperativeHandle(e,()=>{var It,ot;return{forceAlign:pe,forcePopupAlign:()=>{fe.deprecated(!1,"forcePopupAlign","forceAlign"),pe()},nativeElement:(It=Z.current)===null||It===void 0?void 0:It.nativeElement,popupElement:(ot=Z.current)===null||ot===void 0?void 0:ot.popupElement}});const[_e,Oe]=mo(!1,{value:(t=n.open)!==null&&t!==void 0?t:n.visible,defaultValue:(r=n.defaultOpen)!==null&&r!==void 0?r:n.defaultVisible}),we=!c&&!p&&c!==0,Te=It=>{var ot,_t;Oe(we?!1:It),we||((ot=n.onOpenChange)===null||ot===void 0||ot.call(n,It),(_t=n.onVisibleChange)===null||_t===void 0||_t.call(n,It))},ze=w.useMemo(()=>{var It,ot;let _t=b;return typeof E=="object"&&(_t=(ot=(It=E.pointAtCenter)!==null&&It!==void 0?It:E.arrowPointAtCenter)!==null&&ot!==void 0?ot:b),g||eJ({arrowPointAtCenter:_t,autoAdjustOverflow:C,arrowWidth:Q?ae.sizePopupArrow:0,borderRadius:ae.borderRadius,offset:ae.marginXXS})},[b,E,g,ae]),yt=w.useMemo(()=>c===0?c:p||c||"",[p,c]),Be=w.createElement(L1,{space:!0},typeof yt=="function"?yt():yt),xe=K("tooltip",a),re=K(),Fe=n["data-popover-inject"];let Ie=_e;!("open"in n)&&!("visible"in n)&&we&&(Ie=!1);const qe=w.isValidElement(f)&&!pF(f)?f:w.createElement("span",null,f),$e=qe.props,ct=!$e.className||typeof $e.className=="string"?Je($e.className,o||`${xe}-open`):$e.className,[st,ce,oe]=_4(xe,!Fe),Ee=C4(xe,s),De=Ee.arrowStyle,Ke=Je(z,{[`${xe}-rtl`]:ee==="rtl"},Ee.className,U,ce,oe,de,ie.root,J==null?void 0:J.root),He=Je(ie.body,J==null?void 0:J.body),[gt,lt]=_S("Tooltip",W.zIndex),pt=w.createElement(qK,Object.assign({},W,{zIndex:gt,showArrow:Q,placement:O,mouseEnterDelay:B,mouseLeaveDelay:P,prefixCls:xe,classNames:{root:Ke,body:He},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},De),he.root),q),F),$==null?void 0:$.root),body:Object.assign(Object.assign(Object.assign(Object.assign({},he.body),u),$==null?void 0:$.body),Ee.overlayStyle)},getTooltipContainer:M||l||Y,ref:Z,builtinPlacements:ze,overlay:Be,visible:Ie,onVisibleChange:Te,afterVisibleChange:m??y,arrowContent:w.createElement("span",{className:`${xe}-arrow-content`}),motion:{motionName:Ju(re,"zoom-big-fast",n.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!_}),Ie?il(qe,{className:ct}):qe);return st(w.createElement(IO.Provider,{value:lt},pt))}),Ul=lJ;Ul._InternalPanelDoNotUseOrYouWillBeFired=oJ;const cJ=n=>{const{componentCls:e,popoverColor:t,titleMinWidth:r,fontWeightStrong:a,innerPadding:o,boxShadowSecondary:l,colorTextHeading:s,borderRadiusLG:u,zIndexPopup:f,titleMarginBottom:m,colorBgElevated:y,popoverBg:_,titleBorderBottom:E,innerContentPadding:c,titlePadding:p}=n;return[{[e]:Object.assign(Object.assign({},Uo(n)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:f,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"--antd-arrow-background-color":y,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${e}-content`]:{position:"relative"},[`${e}-inner`]:{backgroundColor:_,backgroundClip:"padding-box",borderRadius:u,boxShadow:l,padding:o},[`${e}-title`]:{minWidth:r,marginBottom:m,color:s,fontWeight:a,borderBottom:E,padding:p},[`${e}-inner-content`]:{color:t,padding:c}})},S4(n,"var(--antd-arrow-background-color)"),{[`${e}-pure`]:{position:"relative",maxWidth:"none",margin:n.sizePopupArrow,display:"inline-block",[`${e}-content`]:{display:"inline-block"}}}]},uJ=n=>{const{componentCls:e}=n;return{[e]:zh.map(t=>{const r=n[`${t}6`];return{[`&${e}-${t}`]:{"--antd-arrow-background-color":r,[`${e}-inner`]:{backgroundColor:r},[`${e}-arrow`]:{background:"transparent"}}}})}},dJ=n=>{const{lineWidth:e,controlHeight:t,fontHeight:r,padding:a,wireframe:o,zIndexPopupBase:l,borderRadiusLG:s,marginXS:u,lineType:f,colorSplit:m,paddingSM:y}=n,_=t-r,E=_/2,c=_/2-e,p=a;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:l+30},y4(n)),$O({contentRadius:s,limitVerticalRadius:!0})),{innerPadding:o?0:12,titleMarginBottom:o?0:u,titlePadding:o?`${E}px ${p}px ${c}px`:0,titleBorderBottom:o?`${e}px ${f} ${m}`:"none",innerContentPadding:o?`${y}px ${p}px`:0})},E4=Nr("Popover",n=>{const{colorBgElevated:e,colorText:t}=n,r=qi(n,{popoverBg:e,popoverColor:t});return[cJ(r),uJ(r),CS(r,"zoom-big")]},dJ,{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]});var fJ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const w4=n=>{let{title:e,content:t,prefixCls:r}=n;return!e&&!t?null:w.createElement(w.Fragment,null,e&&w.createElement("div",{className:`${r}-title`},e),t&&w.createElement("div",{className:`${r}-inner-content`},t))},hJ=n=>{const{hashId:e,prefixCls:t,className:r,style:a,placement:o="top",title:l,content:s,children:u}=n,f=U1(l),m=U1(s),y=Je(e,t,`${t}-pure`,`${t}-placement-${o}`,r);return w.createElement("div",{className:y,style:a},w.createElement("div",{className:`${t}-arrow`}),w.createElement(kO,Object.assign({},n,{className:e,prefixCls:t}),u||w.createElement(w4,{prefixCls:t,title:f,content:m})))},pJ=n=>{const{prefixCls:e,className:t}=n,r=fJ(n,["prefixCls","className"]),{getPrefixCls:a}=w.useContext(Hn),o=a("popover",e),[l,s,u]=E4(o);return l(w.createElement(hJ,Object.assign({},r,{prefixCls:o,hashId:s,className:Je(t,u)})))};var mJ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const gJ=w.forwardRef((n,e)=>{var t,r;const{prefixCls:a,title:o,content:l,overlayClassName:s,placement:u="top",trigger:f="hover",children:m,mouseEnterDelay:y=.1,mouseLeaveDelay:_=.1,onOpenChange:E,overlayStyle:c={},styles:p,classNames:g}=n,b=mJ(n,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle","styles","classNames"]),{getPrefixCls:C,className:T,style:M,classNames:O,styles:B}=nd("popover"),P=C("popover",a),[F,U,z]=E4(P),$=C(),J=Je(s,U,z,T,O.root,g==null?void 0:g.root),W=Je(O.body,g==null?void 0:g.body),[Q,ae]=mo(!1,{value:(t=n.open)!==null&&t!==void 0?t:n.visible,defaultValue:(r=n.defaultOpen)!==null&&r!==void 0?r:n.defaultVisible}),Y=(ie,he)=>{ae(ie,!0),E==null||E(ie,he)},K=ie=>{ie.keyCode===to.ESC&&Y(!1,ie)},ee=ie=>{Y(ie)},de=U1(o),q=U1(l);return F(w.createElement(Ul,Object.assign({placement:u,trigger:f,mouseEnterDelay:y,mouseLeaveDelay:_},b,{prefixCls:P,classNames:{root:J,body:W},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign({},B.root),M),c),p==null?void 0:p.root),body:Object.assign(Object.assign({},B.body),p==null?void 0:p.body)},ref:e,open:Q,onOpenChange:ee,overlay:de||q?w.createElement(w4,{prefixCls:P,title:de,content:q}):null,transitionName:Ju($,"zoom-big",b.transitionName),"data-popover-inject":!0}),il(m,{onKeyDown:ie=>{var he,fe;w.isValidElement(m)&&((fe=m==null?void 0:(he=m.props).onKeyDown)===null||fe===void 0||fe.call(he,ie)),K(ie)}})))}),A4=gJ;A4._InternalPanelDoNotUseOrYouWillBeFired=pJ;const JP=n=>{const{size:e,shape:t}=w.useContext(u2),r=w.useMemo(()=>({size:n.size||e,shape:n.shape||t}),[n.size,n.shape,e,t]);return w.createElement(u2.Provider,{value:r},n.children)},vJ=n=>{var e,t,r,a;const{getPrefixCls:o,direction:l}=w.useContext(Hn),{prefixCls:s,className:u,rootClassName:f,style:m,maxCount:y,maxStyle:_,size:E,shape:c,maxPopoverPlacement:p,maxPopoverTrigger:g,children:b,max:C}=n,T=o("avatar",s),M=`${T}-group`,O=ol(T),[B,P,F]=g4(T,O),U=Je(M,{[`${M}-rtl`]:l==="rtl"},F,O,u,f,P),z=qu(b).map((W,Q)=>il(W,{key:`avatar-key-${Q}`})),$=(C==null?void 0:C.count)||y,J=z.length;if($&&$<J){const W=z.slice(0,$),Q=z.slice($,J),ae=(C==null?void 0:C.style)||_,Y=((e=C==null?void 0:C.popover)===null||e===void 0?void 0:e.trigger)||g||"hover",K=((t=C==null?void 0:C.popover)===null||t===void 0?void 0:t.placement)||p||"top",ee=Object.assign(Object.assign({content:Q},C==null?void 0:C.popover),{classNames:{root:Je(`${M}-popover`,(a=(r=C==null?void 0:C.popover)===null||r===void 0?void 0:r.classNames)===null||a===void 0?void 0:a.root)},placement:K,trigger:Y});return W.push(w.createElement(A4,Object.assign({key:"avatar-popover-key",destroyTooltipOnHide:!0},ee),w.createElement(v4,{style:ae},`+${J-$}`))),B(w.createElement(JP,{shape:c,size:E},w.createElement("div",{className:U,style:m},W)))}return B(w.createElement(JP,{shape:c,size:E},w.createElement("div",{className:U,style:m},z)))},M4=v4;M4.Group=vJ;var T4=w.createContext(null);function R4(n,e){return n===void 0?null:"".concat(n,"-").concat(e)}function O4(n){var e=w.useContext(T4);return R4(e,n)}var yJ=["children","locked"],Uc=w.createContext(null);function bJ(n,e){var t=Ne({},n);return Object.keys(e).forEach(function(r){var a=e[r];a!==void 0&&(t[r]=a)}),t}function Zb(n){var e=n.children,t=n.locked,r=kn(n,yJ),a=w.useContext(Uc),o=tw(function(){return bJ(a,r)},[a,r],function(l,s){return!t&&(l[0]!==s[0]||!n0(l[1],s[1],!0))});return w.createElement(Uc.Provider,{value:o},e)}var SJ=[],I4=w.createContext(null);function Ew(){return w.useContext(I4)}var B4=w.createContext(SJ);function R0(n){var e=w.useContext(B4);return w.useMemo(function(){return n!==void 0?[].concat(Kt(e),[n]):e},[e,n])}var D4=w.createContext(null),VO=w.createContext({});function QP(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(PO(n)){var t=n.nodeName.toLowerCase(),r=["input","select","textarea","button"].includes(t)||n.isContentEditable||t==="a"&&!!n.getAttribute("href"),a=n.getAttribute("tabindex"),o=Number(a),l=null;return a&&!Number.isNaN(o)?l=o:r&&l===null&&(l=0),r&&n.disabled&&(l=null),l!==null&&(l>=0||e&&l<0)}return!1}function _J(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=Kt(n.querySelectorAll("*")).filter(function(r){return QP(r,e)});return QP(n,e)&&t.unshift(n),t}var d2=to.LEFT,f2=to.RIGHT,h2=to.UP,NC=to.DOWN,zC=to.ENTER,P4=to.ESC,Fy=to.HOME,Hy=to.END,ZP=[h2,NC,d2,f2];function xJ(n,e,t,r){var a,o="prev",l="next",s="children",u="parent";if(n==="inline"&&r===zC)return{inlineTrigger:!0};var f=ue(ue({},h2,o),NC,l),m=ue(ue(ue(ue({},d2,t?l:o),f2,t?o:l),NC,s),zC,s),y=ue(ue(ue(ue(ue(ue({},h2,o),NC,l),zC,s),P4,u),d2,t?s:u),f2,t?u:s),_={inline:f,horizontal:m,vertical:y,inlineSub:f,horizontalSub:y,verticalSub:y},E=(a=_["".concat(n).concat(e?"":"Sub")])===null||a===void 0?void 0:a[r];switch(E){case o:return{offset:-1,sibling:!0};case l:return{offset:1,sibling:!0};case u:return{offset:-1,sibling:!1};case s:return{offset:1,sibling:!1};default:return null}}function CJ(n){for(var e=n;e;){if(e.getAttribute("data-menu-list"))return e;e=e.parentElement}return null}function EJ(n,e){for(var t=n||document.activeElement;t;){if(e.has(t))return t;t=t.parentElement}return null}function jO(n,e){var t=_J(n,!0);return t.filter(function(r){return e.has(r)})}function eL(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;if(!n)return null;var a=jO(n,e),o=a.length,l=a.findIndex(function(s){return t===s});return r<0?l===-1?l=o-1:l-=1:r>0&&(l+=1),l=(l+o)%o,a[l]}var p2=function(e,t){var r=new Set,a=new Map,o=new Map;return e.forEach(function(l){var s=document.querySelector("[data-menu-id='".concat(R4(t,l),"']"));s&&(r.add(s),o.set(s,l),a.set(l,s))}),{elements:r,key2element:a,element2key:o}};function wJ(n,e,t,r,a,o,l,s,u,f){var m=w.useRef(),y=w.useRef();y.current=e;var _=function(){Da.cancel(m.current)};return w.useEffect(function(){return function(){_()}},[]),function(E){var c=E.which;if([].concat(ZP,[zC,P4,Fy,Hy]).includes(c)){var p=o(),g=p2(p,r),b=g,C=b.elements,T=b.key2element,M=b.element2key,O=T.get(e),B=EJ(O,C),P=M.get(B),F=xJ(n,l(P,!0).length===1,t,c);if(!F&&c!==Fy&&c!==Hy)return;(ZP.includes(c)||[Fy,Hy].includes(c))&&E.preventDefault();var U=function(K){if(K){var ee=K,de=K.querySelector("a");de!=null&&de.getAttribute("href")&&(ee=de);var q=M.get(K);s(q),_(),m.current=Da(function(){y.current===q&&ee.focus()})}};if([Fy,Hy].includes(c)||F.sibling||!B){var z;!B||n==="inline"?z=a.current:z=CJ(B);var $,J=jO(z,C);c===Fy?$=J[0]:c===Hy?$=J[J.length-1]:$=eL(z,C,B,F.offset),U($)}else if(F.inlineTrigger)u(P);else if(F.offset>0)u(P,!0),_(),m.current=Da(function(){g=p2(p,r);var Y=B.getAttribute("aria-controls"),K=document.getElementById(Y),ee=eL(K,g.elements);U(ee)},5);else if(F.offset<0){var W=l(P,!0),Q=W[W.length-2],ae=T.get(Q);u(Q,!1),U(ae)}}f==null||f(E)}}function AJ(n){Promise.resolve().then(n)}var WO="__RC_UTIL_PATH_SPLIT__",tL=function(e){return e.join(WO)},MJ=function(e){return e.split(WO)},m2="rc-menu-more";function TJ(){var n=w.useState({}),e=vt(n,2),t=e[1],r=w.useRef(new Map),a=w.useRef(new Map),o=w.useState([]),l=vt(o,2),s=l[0],u=l[1],f=w.useRef(0),m=w.useRef(!1),y=function(){m.current||t({})},_=w.useCallback(function(T,M){var O=tL(M);a.current.set(O,T),r.current.set(T,O),f.current+=1;var B=f.current;AJ(function(){B===f.current&&y()})},[]),E=w.useCallback(function(T,M){var O=tL(M);a.current.delete(O),r.current.delete(T)},[]),c=w.useCallback(function(T){u(T)},[]),p=w.useCallback(function(T,M){var O=r.current.get(T)||"",B=MJ(O);return M&&s.includes(B[0])&&B.unshift(m2),B},[s]),g=w.useCallback(function(T,M){return T.filter(function(O){return O!==void 0}).some(function(O){var B=p(O,!0);return B.includes(M)})},[p]),b=function(){var M=Kt(r.current.keys());return s.length&&M.push(m2),M},C=w.useCallback(function(T){var M="".concat(r.current.get(T)).concat(WO),O=new Set;return Kt(a.current.keys()).forEach(function(B){B.startsWith(M)&&O.add(a.current.get(B))}),O},[]);return w.useEffect(function(){return function(){m.current=!0}},[]),{registerPath:_,unregisterPath:E,refreshOverflowKeys:c,isSubPathKey:g,getKeyPath:p,getKeys:b,getSubPathKeys:C}}function ob(n){var e=w.useRef(n);e.current=n;var t=w.useCallback(function(){for(var r,a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(r=e.current)===null||r===void 0?void 0:r.call.apply(r,[e].concat(o))},[]);return n?t:void 0}var RJ=Math.random().toFixed(5).toString().slice(2),nL=0;function OJ(n){var e=mo(n,{value:n}),t=vt(e,2),r=t[0],a=t[1];return w.useEffect(function(){nL+=1;var o="".concat(RJ,"-").concat(nL);a("rc-menu-uuid-".concat(o))},[]),r}function L4(n,e,t,r){var a=w.useContext(Uc),o=a.activeKey,l=a.onActive,s=a.onInactive,u={active:o===n};return e||(u.onMouseEnter=function(f){t==null||t({key:n,domEvent:f}),l(n)},u.onMouseLeave=function(f){r==null||r({key:n,domEvent:f}),s(n)}),u}function N4(n){var e=w.useContext(Uc),t=e.mode,r=e.rtl,a=e.inlineIndent;if(t!=="inline")return null;var o=n;return r?{paddingRight:o*a}:{paddingLeft:o*a}}function z4(n){var e=n.icon,t=n.props,r=n.children,a;return e===null||e===!1?null:(typeof e=="function"?a=w.createElement(e,Ne({},t)):typeof e!="boolean"&&(a=e),a||r||null)}var IJ=["item"];function F1(n){var e=n.item,t=kn(n,IJ);return Object.defineProperty(t,"item",{get:function(){return zo(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),e}}),t}var BJ=["title","attribute","elementRef"],DJ=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],PJ=["active"],LJ=function(n){Ar(t,n);var e=kc(t);function t(){return ai(this,t),e.apply(this,arguments)}return oi(t,[{key:"render",value:function(){var a=this.props,o=a.title,l=a.attribute,s=a.elementRef,u=kn(a,BJ),f=yo(u,["eventKey","popupClassName","popupOffset","onTitleClick"]);return zo(!l,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),w.createElement(of.Item,Pt({},l,{title:typeof o=="string"?o:void 0},f,{ref:s}))}}]),t}(w.Component),NJ=w.forwardRef(function(n,e){var t=n.style,r=n.className,a=n.eventKey;n.warnKey;var o=n.disabled,l=n.itemIcon,s=n.children,u=n.role,f=n.onMouseEnter,m=n.onMouseLeave,y=n.onClick,_=n.onKeyDown,E=n.onFocus,c=kn(n,DJ),p=O4(a),g=w.useContext(Uc),b=g.prefixCls,C=g.onItemClick,T=g.disabled,M=g.overflowDisabled,O=g.itemIcon,B=g.selectedKeys,P=g.onActive,F=w.useContext(VO),U=F._internalRenderMenuItem,z="".concat(b,"-item"),$=w.useRef(),J=w.useRef(),W=T||o,Q=A0(e,J),ae=R0(a),Y=function(Te){return{key:a,keyPath:Kt(ae).reverse(),item:$.current,domEvent:Te}},K=l||O,ee=L4(a,W,f,m),de=ee.active,q=kn(ee,PJ),ie=B.includes(a),he=N4(ae.length),fe=function(Te){if(!W){var ze=Y(Te);y==null||y(F1(ze)),C(ze)}},Z=function(Te){if(_==null||_(Te),Te.which===to.ENTER){var ze=Y(Te);y==null||y(F1(ze)),C(ze)}},pe=function(Te){P(a),E==null||E(Te)},_e={};n.role==="option"&&(_e["aria-selected"]=ie);var Oe=w.createElement(LJ,Pt({ref:$,elementRef:Q,role:u===null?"none":u||"menuitem",tabIndex:o?null:-1,"data-menu-id":M&&p?null:p},yo(c,["extra"]),q,_e,{component:"li","aria-disabled":o,style:Ne(Ne({},he),t),className:Je(z,ue(ue(ue({},"".concat(z,"-active"),de),"".concat(z,"-selected"),ie),"".concat(z,"-disabled"),W),r),onClick:fe,onKeyDown:Z,onFocus:pe}),s,w.createElement(z4,{props:Ne(Ne({},n),{},{isSelected:ie}),icon:K}));return U&&(Oe=U(Oe,n,{selected:ie})),Oe});function zJ(n,e){var t=n.eventKey,r=Ew(),a=R0(t);return w.useEffect(function(){if(r)return r.registerPath(t,a),function(){r.unregisterPath(t,a)}},[a]),r?null:w.createElement(NJ,Pt({},n,{ref:e}))}const ww=w.forwardRef(zJ);var UJ=["className","children"],FJ=function(e,t){var r=e.className,a=e.children,o=kn(e,UJ),l=w.useContext(Uc),s=l.prefixCls,u=l.mode,f=l.rtl;return w.createElement("ul",Pt({className:Je(s,f&&"".concat(s,"-rtl"),"".concat(s,"-sub"),"".concat(s,"-").concat(u==="inline"?"inline":"vertical"),r),role:"menu"},o,{"data-menu-list":!0,ref:t}),a)},XO=w.forwardRef(FJ);XO.displayName="SubMenuList";function YO(n,e){return qu(n).map(function(t,r){if(w.isValidElement(t)){var a,o,l=t.key,s=(a=(o=t.props)===null||o===void 0?void 0:o.eventKey)!==null&&a!==void 0?a:l,u=s==null;u&&(s="tmp_key-".concat([].concat(Kt(e),[r]).join("-")));var f={key:s,eventKey:s};return w.cloneElement(t,f)}return t})}var Do={adjustX:1,adjustY:1},HJ={topLeft:{points:["bl","tl"],overflow:Do},topRight:{points:["br","tr"],overflow:Do},bottomLeft:{points:["tl","bl"],overflow:Do},bottomRight:{points:["tr","br"],overflow:Do},leftTop:{points:["tr","tl"],overflow:Do},leftBottom:{points:["br","bl"],overflow:Do},rightTop:{points:["tl","tr"],overflow:Do},rightBottom:{points:["bl","br"],overflow:Do}},GJ={topLeft:{points:["bl","tl"],overflow:Do},topRight:{points:["br","tr"],overflow:Do},bottomLeft:{points:["tl","bl"],overflow:Do},bottomRight:{points:["tr","br"],overflow:Do},rightTop:{points:["tr","tl"],overflow:Do},rightBottom:{points:["br","bl"],overflow:Do},leftTop:{points:["tl","tr"],overflow:Do},leftBottom:{points:["bl","br"],overflow:Do}};function U4(n,e,t){if(e)return e;if(t)return t[n]||t.other}var kJ={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function $J(n){var e=n.prefixCls,t=n.visible,r=n.children,a=n.popup,o=n.popupStyle,l=n.popupClassName,s=n.popupOffset,u=n.disabled,f=n.mode,m=n.onVisibleChange,y=w.useContext(Uc),_=y.getPopupContainer,E=y.rtl,c=y.subMenuOpenDelay,p=y.subMenuCloseDelay,g=y.builtinPlacements,b=y.triggerSubMenuAction,C=y.forceSubMenuRender,T=y.rootClassName,M=y.motion,O=y.defaultMotions,B=w.useState(!1),P=vt(B,2),F=P[0],U=P[1],z=Ne(E?Ne({},GJ):Ne({},HJ),g),$=kJ[f],J=U4(f,M,O),W=w.useRef(J);f!=="inline"&&(W.current=J);var Q=Ne(Ne({},W.current),{},{leavedClassName:"".concat(e,"-hidden"),removeOnLeave:!1,motionAppear:!0}),ae=w.useRef();return w.useEffect(function(){return ae.current=Da(function(){U(t)}),function(){Da.cancel(ae.current)}},[t]),w.createElement(f4,{prefixCls:e,popupClassName:Je("".concat(e,"-popup"),ue({},"".concat(e,"-rtl"),E),l,T),stretch:f==="horizontal"?"minWidth":null,getPopupContainer:_,builtinPlacements:z,popupPlacement:$,popupVisible:F,popup:a,popupStyle:o,popupAlign:s&&{offset:s},action:u?[]:[b],mouseEnterDelay:c,mouseLeaveDelay:p,onPopupVisibleChange:m,forceRender:C,popupMotion:Q,fresh:!0},r)}function VJ(n){var e=n.id,t=n.open,r=n.keyPath,a=n.children,o="inline",l=w.useContext(Uc),s=l.prefixCls,u=l.forceSubMenuRender,f=l.motion,m=l.defaultMotions,y=l.mode,_=w.useRef(!1);_.current=y===o;var E=w.useState(!_.current),c=vt(E,2),p=c[0],g=c[1],b=_.current?t:!1;w.useEffect(function(){_.current&&g(!1)},[y]);var C=Ne({},U4(o,f,m));r.length>1&&(C.motionAppear=!1);var T=C.onVisibleChanged;return C.onVisibleChanged=function(M){return!_.current&&!M&&g(!0),T==null?void 0:T(M)},p?null:w.createElement(Zb,{mode:o,locked:!_.current},w.createElement($c,Pt({visible:b},C,{forceRender:u,removeOnLeave:!1,leavedClassName:"".concat(s,"-hidden")}),function(M){var O=M.className,B=M.style;return w.createElement(XO,{id:e,className:O,style:B},a)}))}var jJ=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","popupStyle","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],WJ=["active"],XJ=w.forwardRef(function(n,e){var t=n.style,r=n.className,a=n.title,o=n.eventKey;n.warnKey;var l=n.disabled,s=n.internalPopupClose,u=n.children,f=n.itemIcon,m=n.expandIcon,y=n.popupClassName,_=n.popupOffset,E=n.popupStyle,c=n.onClick,p=n.onMouseEnter,g=n.onMouseLeave,b=n.onTitleClick,C=n.onTitleMouseEnter,T=n.onTitleMouseLeave,M=kn(n,jJ),O=O4(o),B=w.useContext(Uc),P=B.prefixCls,F=B.mode,U=B.openKeys,z=B.disabled,$=B.overflowDisabled,J=B.activeKey,W=B.selectedKeys,Q=B.itemIcon,ae=B.expandIcon,Y=B.onItemClick,K=B.onOpenChange,ee=B.onActive,de=w.useContext(VO),q=de._internalRenderSubMenuItem,ie=w.useContext(D4),he=ie.isSubPathKey,fe=R0(),Z="".concat(P,"-submenu"),pe=z||l,_e=w.useRef(),Oe=w.useRef(),we=f??Q,Te=m??ae,ze=U.includes(o),yt=!$&&ze,Be=he(W,o),xe=L4(o,pe,C,T),re=xe.active,Fe=kn(xe,WJ),Ie=w.useState(!1),qe=vt(Ie,2),$e=qe[0],ct=qe[1],st=function(Se){pe||ct(Se)},ce=function(Se){st(!0),p==null||p({key:o,domEvent:Se})},oe=function(Se){st(!1),g==null||g({key:o,domEvent:Se})},Ee=w.useMemo(function(){return re||(F!=="inline"?$e||he([J],o):!1)},[F,re,J,$e,o,he]),De=N4(fe.length),Ke=function(Se){pe||(b==null||b({key:o,domEvent:Se}),F==="inline"&&K(o,!ze))},He=ob(function(rt){c==null||c(F1(rt)),Y(rt)}),gt=function(Se){F!=="inline"&&K(o,Se)},lt=function(){ee(o)},pt=O&&"".concat(O,"-popup"),It=w.useMemo(function(){return w.createElement(z4,{icon:F!=="horizontal"?Te:void 0,props:Ne(Ne({},n),{},{isOpen:yt,isSubMenu:!0})},w.createElement("i",{className:"".concat(Z,"-arrow")}))},[F,Te,n,yt,Z]),ot=w.createElement("div",Pt({role:"menuitem",style:De,className:"".concat(Z,"-title"),tabIndex:pe?null:-1,ref:_e,title:typeof a=="string"?a:null,"data-menu-id":$&&O?null:O,"aria-expanded":yt,"aria-haspopup":!0,"aria-controls":pt,"aria-disabled":pe,onClick:Ke,onFocus:lt},Fe),a,It),_t=w.useRef(F);if(F!=="inline"&&fe.length>1?_t.current="vertical":_t.current=F,!$){var Ct=_t.current;ot=w.createElement($J,{mode:Ct,prefixCls:Z,visible:!s&&yt&&F!=="inline",popupClassName:y,popupOffset:_,popupStyle:E,popup:w.createElement(Zb,{mode:Ct==="horizontal"?"vertical":Ct},w.createElement(XO,{id:pt,ref:Oe},u)),disabled:pe,onVisibleChange:gt},ot)}var We=w.createElement(of.Item,Pt({ref:e,role:"none"},M,{component:"li",style:t,className:Je(Z,"".concat(Z,"-").concat(F),r,ue(ue(ue(ue({},"".concat(Z,"-open"),yt),"".concat(Z,"-active"),Ee),"".concat(Z,"-selected"),Be),"".concat(Z,"-disabled"),pe)),onMouseEnter:ce,onMouseLeave:oe}),ot,!$&&w.createElement(VJ,{id:pt,open:yt,keyPath:fe},u));return q&&(We=q(We,n,{selected:Be,active:Ee,open:yt,disabled:pe})),w.createElement(Zb,{onItemClick:He,mode:F==="horizontal"?"vertical":F,itemIcon:we,expandIcon:Te},We)}),Aw=w.forwardRef(function(n,e){var t=n.eventKey,r=n.children,a=R0(t),o=YO(r,a),l=Ew();w.useEffect(function(){if(l)return l.registerPath(t,a),function(){l.unregisterPath(t,a)}},[a]);var s;return l?s=o:s=w.createElement(XJ,Pt({ref:e},n),o),w.createElement(B4.Provider,{value:a},s)});function qO(n){var e=n.className,t=n.style,r=w.useContext(Uc),a=r.prefixCls,o=Ew();return o?null:w.createElement("li",{role:"separator",className:Je("".concat(a,"-item-divider"),e),style:t})}var YJ=["className","title","eventKey","children"],qJ=w.forwardRef(function(n,e){var t=n.className,r=n.title;n.eventKey;var a=n.children,o=kn(n,YJ),l=w.useContext(Uc),s=l.prefixCls,u="".concat(s,"-item-group");return w.createElement("li",Pt({ref:e,role:"presentation"},o,{onClick:function(m){return m.stopPropagation()},className:Je(u,t)}),w.createElement("div",{role:"presentation",className:"".concat(u,"-title"),title:typeof r=="string"?r:void 0},r),w.createElement("ul",{role:"group",className:"".concat(u,"-list")},a))}),KO=w.forwardRef(function(n,e){var t=n.eventKey,r=n.children,a=R0(t),o=YO(r,a),l=Ew();return l?o:w.createElement(qJ,Pt({ref:e},yo(n,["warnKey"])),o)}),KJ=["label","children","key","type","extra"];function g2(n,e,t){var r=e.item,a=e.group,o=e.submenu,l=e.divider;return(n||[]).map(function(s,u){if(s&&mn(s)==="object"){var f=s,m=f.label,y=f.children,_=f.key,E=f.type,c=f.extra,p=kn(f,KJ),g=_??"tmp-".concat(u);return y||E==="group"?E==="group"?w.createElement(a,Pt({key:g},p,{title:m}),g2(y,e,t)):w.createElement(o,Pt({key:g},p,{title:m}),g2(y,e,t)):E==="divider"?w.createElement(l,Pt({key:g},p)):w.createElement(r,Pt({key:g},p,{extra:c}),m,(!!c||c===0)&&w.createElement("span",{className:"".concat(t,"-item-extra")},c))}return null}).filter(function(s){return s})}function iL(n,e,t,r,a){var o=n,l=Ne({divider:qO,item:ww,group:KO,submenu:Aw},r);return e&&(o=g2(e,l,a)),YO(o,t)}var JJ=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem","_internalComponents"],Ep=[],QJ=w.forwardRef(function(n,e){var t,r=n,a=r.prefixCls,o=a===void 0?"rc-menu":a,l=r.rootClassName,s=r.style,u=r.className,f=r.tabIndex,m=f===void 0?0:f,y=r.items,_=r.children,E=r.direction,c=r.id,p=r.mode,g=p===void 0?"vertical":p,b=r.inlineCollapsed,C=r.disabled,T=r.disabledOverflow,M=r.subMenuOpenDelay,O=M===void 0?.1:M,B=r.subMenuCloseDelay,P=B===void 0?.1:B,F=r.forceSubMenuRender,U=r.defaultOpenKeys,z=r.openKeys,$=r.activeKey,J=r.defaultActiveFirst,W=r.selectable,Q=W===void 0?!0:W,ae=r.multiple,Y=ae===void 0?!1:ae,K=r.defaultSelectedKeys,ee=r.selectedKeys,de=r.onSelect,q=r.onDeselect,ie=r.inlineIndent,he=ie===void 0?24:ie,fe=r.motion,Z=r.defaultMotions,pe=r.triggerSubMenuAction,_e=pe===void 0?"hover":pe,Oe=r.builtinPlacements,we=r.itemIcon,Te=r.expandIcon,ze=r.overflowedIndicator,yt=ze===void 0?"...":ze,Be=r.overflowedIndicatorPopupClassName,xe=r.getPopupContainer,re=r.onClick,Fe=r.onOpenChange,Ie=r.onKeyDown;r.openAnimation,r.openTransitionName;var qe=r._internalRenderMenuItem,$e=r._internalRenderSubMenuItem,ct=r._internalComponents,st=kn(r,JJ),ce=w.useMemo(function(){return[iL(_,y,Ep,ct,o),iL(_,y,Ep,{},o)]},[_,y,ct]),oe=vt(ce,2),Ee=oe[0],De=oe[1],Ke=w.useState(!1),He=vt(Ke,2),gt=He[0],lt=He[1],pt=w.useRef(),It=OJ(c),ot=E==="rtl",_t=mo(U,{value:z,postState:function(Tn){return Tn||Ep}}),Ct=vt(_t,2),We=Ct[0],rt=Ct[1],Se=function(Tn){var Cn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;function Zn(){rt(Tn),Fe==null||Fe(Tn)}Cn?Lh.flushSync(Zn):Zn()},Ge=w.useState(We),St=vt(Ge,2),Ae=St[0],xt=St[1],et=w.useRef(!1),mt=w.useMemo(function(){return(g==="inline"||g==="vertical")&&b?["vertical",b]:[g,!1]},[g,b]),Nt=vt(mt,2),Bt=Nt[0],Qt=Nt[1],sn=Bt==="inline",Yt=w.useState(Bt),Lt=vt(Yt,2),Xt=Lt[0],yn=Lt[1],lr=w.useState(Qt),Jr=vt(lr,2),zn=Jr[0],Ai=Jr[1];w.useEffect(function(){yn(Bt),Ai(Qt),et.current&&(sn?rt(Ae):Se(Ep))},[Bt,Qt]);var Sr=w.useState(0),wn=vt(Sr,2),Mn=wn[0],Qn=wn[1],un=Mn>=Ee.length-1||Xt!=="horizontal"||T;w.useEffect(function(){sn&&xt(We)},[We]),w.useEffect(function(){return et.current=!0,function(){et.current=!1}},[]);var ii=TJ(),ln=ii.registerPath,zr=ii.unregisterPath,Ur=ii.refreshOverflowKeys,Rr=ii.isSubPathKey,Or=ii.getKeyPath,cr=ii.getKeys,_r=ii.getSubPathKeys,le=w.useMemo(function(){return{registerPath:ln,unregisterPath:zr}},[ln,zr]),Ue=w.useMemo(function(){return{isSubPathKey:Rr}},[Rr]);w.useEffect(function(){Ur(un?Ep:Ee.slice(Mn+1).map(function($n){return $n.key}))},[Mn,un]);var at=mo($||J&&((t=Ee[0])===null||t===void 0?void 0:t.key),{value:$}),Ze=vt(at,2),Ve=Ze[0],Rt=Ze[1],$t=ob(function($n){Rt($n)}),qt=ob(function(){Rt(void 0)});w.useImperativeHandle(e,function(){return{list:pt.current,focus:function(Tn){var Cn,Zn=cr(),An=p2(Zn,It),xi=An.elements,Li=An.key2element,$i=An.element2key,Ki=jO(pt.current,xi),Ir=Ve??(Ki[0]?$i.get(Ki[0]):(Cn=Ee.find(function(no){return!no.props.disabled}))===null||Cn===void 0?void 0:Cn.key),Wi=Li.get(Ir);if(Ir&&Wi){var bo;Wi==null||(bo=Wi.focus)===null||bo===void 0||bo.call(Wi,Tn)}}}});var Wt=mo(K||[],{value:ee,postState:function(Tn){return Array.isArray(Tn)?Tn:Tn==null?Ep:[Tn]}}),gn=vt(Wt,2),dn=gn[0],on=gn[1],Gn=function(Tn){if(Q){var Cn=Tn.key,Zn=dn.includes(Cn),An;Y?Zn?An=dn.filter(function(Li){return Li!==Cn}):An=[].concat(Kt(dn),[Cn]):An=[Cn],on(An);var xi=Ne(Ne({},Tn),{},{selectedKeys:An});Zn?q==null||q(xi):de==null||de(xi)}!Y&&We.length&&Xt!=="inline"&&Se(Ep)},Vn=ob(function($n){re==null||re(F1($n)),Gn($n)}),jn=ob(function($n,Tn){var Cn=We.filter(function(An){return An!==$n});if(Tn)Cn.push($n);else if(Xt!=="inline"){var Zn=_r($n);Cn=Cn.filter(function(An){return!Zn.has(An)})}n0(We,Cn,!0)||Se(Cn,!0)}),In=function(Tn,Cn){var Zn=Cn??!We.includes(Tn);jn(Tn,Zn)},bn=wJ(Xt,Ve,ot,It,pt,cr,Or,Rt,In,Ie);w.useEffect(function(){lt(!0)},[]);var cn=w.useMemo(function(){return{_internalRenderMenuItem:qe,_internalRenderSubMenuItem:$e}},[qe,$e]),Si=Xt!=="horizontal"||T?Ee:Ee.map(function($n,Tn){return w.createElement(Zb,{key:$n.key,overflowDisabled:Tn>Mn},$n)}),Wn=w.createElement(of,Pt({id:c,ref:pt,prefixCls:"".concat(o,"-overflow"),component:"ul",itemComponent:ww,className:Je(o,"".concat(o,"-root"),"".concat(o,"-").concat(Xt),u,ue(ue({},"".concat(o,"-inline-collapsed"),zn),"".concat(o,"-rtl"),ot),l),dir:E,style:s,role:"menu",tabIndex:m,data:Si,renderRawItem:function(Tn){return Tn},renderRawRest:function(Tn){var Cn=Tn.length,Zn=Cn?Ee.slice(-Cn):null;return w.createElement(Aw,{eventKey:m2,title:yt,disabled:un,internalPopupClose:Cn===0,popupClassName:Be},Zn)},maxCount:Xt!=="horizontal"||T?of.INVALIDATE:of.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(Tn){Qn(Tn)},onKeyDown:bn},st));return w.createElement(VO.Provider,{value:cn},w.createElement(T4.Provider,{value:It},w.createElement(Zb,{prefixCls:o,rootClassName:l,mode:Xt,openKeys:We,rtl:ot,disabled:C,motion:gt?fe:null,defaultMotions:gt?Z:null,activeKey:Ve,onActive:$t,onInactive:qt,selectedKeys:dn,inlineIndent:he,subMenuOpenDelay:O,subMenuCloseDelay:P,forceSubMenuRender:F,builtinPlacements:Oe,triggerSubMenuAction:_e,getPopupContainer:xe,itemIcon:we,expandIcon:Te,onItemClick:Vn,onOpenChange:jn},w.createElement(D4.Provider,{value:Ue},Wn),w.createElement("div",{style:{display:"none"},"aria-hidden":!0},w.createElement(I4.Provider,{value:le},De)))))}),RS=QJ;RS.Item=ww;RS.SubMenu=Aw;RS.ItemGroup=KO;RS.Divider=qO;const F4=w.createContext({siderHook:{addSider:()=>null,removeSider:()=>null}}),ZJ=n=>{const{antCls:e,componentCls:t,colorText:r,footerBg:a,headerHeight:o,headerPadding:l,headerColor:s,footerPadding:u,fontSize:f,bodyBg:m,headerBg:y}=n;return{[t]:{display:"flex",flex:"auto",flexDirection:"column",minHeight:0,background:m,"&, *":{boxSizing:"border-box"},[`&${t}-has-sider`]:{flexDirection:"row",[`> ${t}, > ${t}-content`]:{width:0}},[`${t}-header, &${t}-footer`]:{flex:"0 0 auto"},"&-rtl":{direction:"rtl"}},[`${t}-header`]:{height:o,padding:l,color:s,lineHeight:Mt(o),background:y,[`${e}-menu`]:{lineHeight:"inherit"}},[`${t}-footer`]:{padding:u,color:r,fontSize:f,background:a},[`${t}-content`]:{flex:"auto",color:r,minHeight:0}}},H4=n=>{const{colorBgLayout:e,controlHeight:t,controlHeightLG:r,colorText:a,controlHeightSM:o,marginXXS:l,colorTextLightSolid:s,colorBgContainer:u}=n,f=r*1.25;return{colorBgHeader:"#001529",colorBgBody:e,colorBgTrigger:"#002140",bodyBg:e,headerBg:"#001529",headerHeight:t*2,headerPadding:`0 ${f}px`,headerColor:a,footerPadding:`${o}px ${f}px`,footerBg:e,siderBg:"#001529",triggerHeight:r+l*2,triggerBg:"#002140",triggerColor:s,zeroTriggerWidth:r,zeroTriggerHeight:r,lightSiderBg:u,lightTriggerBg:u,lightTriggerColor:a}},G4=[["colorBgBody","bodyBg"],["colorBgHeader","headerBg"],["colorBgTrigger","triggerBg"]],k4=Nr("Layout",n=>[ZJ(n)],H4,{deprecatedTokens:G4}),eQ=n=>{const{componentCls:e,siderBg:t,motionDurationMid:r,motionDurationSlow:a,antCls:o,triggerHeight:l,triggerColor:s,triggerBg:u,headerHeight:f,zeroTriggerWidth:m,zeroTriggerHeight:y,borderRadiusLG:_,lightSiderBg:E,lightTriggerColor:c,lightTriggerBg:p,bodyBg:g}=n;return{[e]:{position:"relative",minWidth:0,background:t,transition:`all ${r}, background 0s`,"&-has-trigger":{paddingBottom:l},"&-right":{order:1},[`${e}-children`]:{height:"100%",marginTop:-.1,paddingTop:.1,[`${o}-menu${o}-menu-inline-collapsed`]:{width:"auto"}},[`&-zero-width ${e}-children`]:{overflow:"hidden"},[`${e}-trigger`]:{position:"fixed",bottom:0,zIndex:1,height:l,color:s,lineHeight:Mt(l),textAlign:"center",background:u,cursor:"pointer",transition:`all ${r}`},[`${e}-zero-width-trigger`]:{position:"absolute",top:f,insetInlineEnd:n.calc(m).mul(-1).equal(),zIndex:1,width:m,height:y,color:s,fontSize:n.fontSizeXL,display:"flex",alignItems:"center",justifyContent:"center",background:t,borderRadius:`0 ${Mt(_)} ${Mt(_)} 0`,cursor:"pointer",transition:`background ${a} ease`,"&::after":{position:"absolute",inset:0,background:"transparent",transition:`all ${a}`,content:'""'},"&:hover::after":{background:"rgba(255, 255, 255, 0.2)"},"&-right":{insetInlineStart:n.calc(m).mul(-1).equal(),borderRadius:`${Mt(_)} 0 0 ${Mt(_)}`}},"&-light":{background:E,[`${e}-trigger`]:{color:c,background:p},[`${e}-zero-width-trigger`]:{color:c,background:p,border:`1px solid ${g}`,borderInlineStart:0}}}}},tQ=Nr(["Layout","Sider"],n=>[eQ(n)],H4,{deprecatedTokens:G4});var nQ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const rL={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px"},iQ=n=>!Number.isNaN(Number.parseFloat(n))&&isFinite(n),Mw=w.createContext({}),rQ=(()=>{let n=0;return function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return n+=1,`${e}${n}`}})(),$4=w.forwardRef((n,e)=>{const{prefixCls:t,className:r,trigger:a,children:o,defaultCollapsed:l=!1,theme:s="dark",style:u={},collapsible:f=!1,reverseArrow:m=!1,width:y=200,collapsedWidth:_=80,zeroWidthTriggerStyle:E,breakpoint:c,onCollapse:p,onBreakpoint:g}=n,b=nQ(n,["prefixCls","className","trigger","children","defaultCollapsed","theme","style","collapsible","reverseArrow","width","collapsedWidth","zeroWidthTriggerStyle","breakpoint","onCollapse","onBreakpoint"]),{siderHook:C}=w.useContext(F4),[T,M]=w.useState("collapsed"in n?n.collapsed:l),[O,B]=w.useState(!1);w.useEffect(()=>{"collapsed"in n&&M(n.collapsed)},[n.collapsed]);const P=(we,Te)=>{"collapsed"in n||M(we),p==null||p(we,Te)},{getPrefixCls:F,direction:U}=w.useContext(Hn),z=F("layout-sider",t),[$,J,W]=tQ(z),Q=w.useRef(null);Q.current=we=>{B(we.matches),g==null||g(we.matches),T!==we.matches&&P(we.matches,"responsive")},w.useEffect(()=>{function we(ze){return Q.current(ze)}let Te;if(typeof window<"u"){const{matchMedia:ze}=window;if(ze&&c&&c in rL){Te=ze(`screen and (max-width: ${rL[c]})`);try{Te.addEventListener("change",we)}catch{Te.addListener(we)}we(Te)}}return()=>{try{Te==null||Te.removeEventListener("change",we)}catch{Te==null||Te.removeListener(we)}}},[c]),w.useEffect(()=>{const we=rQ("ant-sider-");return C.addSider(we),()=>C.removeSider(we)},[]);const ae=()=>{P(!T,"clickTrigger")},Y=yo(b,["collapsed"]),K=T?_:y,ee=iQ(K)?`${K}px`:String(K),de=parseFloat(String(_||0))===0?w.createElement("span",{onClick:ae,className:Je(`${z}-zero-width-trigger`,`${z}-zero-width-trigger-${m?"right":"left"}`),style:E},a||w.createElement(n$,null)):null,q=U==="rtl"==!m,fe={expanded:q?w.createElement(T1,null):w.createElement(M1,null),collapsed:q?w.createElement(M1,null):w.createElement(T1,null)}[T?"collapsed":"expanded"],Z=a!==null?de||w.createElement("div",{className:`${z}-trigger`,onClick:ae,style:{width:ee}},a||fe):null,pe=Object.assign(Object.assign({},u),{flex:`0 0 ${ee}`,maxWidth:ee,minWidth:ee,width:ee}),_e=Je(z,`${z}-${s}`,{[`${z}-collapsed`]:!!T,[`${z}-has-trigger`]:f&&a!==null&&!de,[`${z}-below`]:!!O,[`${z}-zero-width`]:parseFloat(ee)===0},r,J,W),Oe=w.useMemo(()=>({siderCollapsed:T}),[T]);return $(w.createElement(Mw.Provider,{value:Oe},w.createElement("aside",Object.assign({className:_e},Y,{style:pe,ref:e}),w.createElement("div",{className:`${z}-children`},o),f||O&&de?Z:null)))}),H1=w.createContext({prefixCls:"",firstLevel:!0,inlineCollapsed:!1});var aQ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const V4=n=>{const{prefixCls:e,className:t,dashed:r}=n,a=aQ(n,["prefixCls","className","dashed"]),{getPrefixCls:o}=w.useContext(Hn),l=o("menu",e),s=Je({[`${l}-item-divider-dashed`]:!!r},t);return w.createElement(qO,Object.assign({className:s},a))},j4=n=>{var e;const{className:t,children:r,icon:a,title:o,danger:l,extra:s}=n,{prefixCls:u,firstLevel:f,direction:m,disableMenuItemTitleTooltip:y,inlineCollapsed:_}=w.useContext(H1),E=T=>{const M=r==null?void 0:r[0],O=w.createElement("span",{className:Je(`${u}-title-content`,{[`${u}-title-content-with-extra`]:!!s||s===0})},r);return(!a||w.isValidElement(r)&&r.type==="span")&&r&&T&&f&&typeof M=="string"?w.createElement("div",{className:`${u}-inline-collapsed-noicon`},M.charAt(0)):O},{siderCollapsed:c}=w.useContext(Mw);let p=o;typeof o>"u"?p=f?r:"":o===!1&&(p="");const g={title:p};!c&&!_&&(g.title=null,g.open=!1);const b=qu(r).length;let C=w.createElement(ww,Object.assign({},yo(n,["title","icon","danger"]),{className:Je({[`${u}-item-danger`]:l,[`${u}-item-only-child`]:(a?b+1:b)===1},t),title:typeof o=="string"?o:void 0}),il(a,{className:Je(w.isValidElement(a)?(e=a.props)===null||e===void 0?void 0:e.className:"",`${u}-item-icon`)}),E(_));return y||(C=w.createElement(Ul,Object.assign({},g,{placement:m==="rtl"?"left":"right",classNames:{root:`${u}-inline-collapsed-tooltip`}}),C)),C},aL=w.createContext(null),oQ=n=>{const{componentCls:e,motionDurationSlow:t,horizontalLineHeight:r,colorSplit:a,lineWidth:o,lineType:l,itemPaddingInline:s}=n;return{[`${e}-horizontal`]:{lineHeight:r,border:0,borderBottom:`${Mt(o)} ${l} ${a}`,boxShadow:"none","&::after":{display:"block",clear:"both",height:0,content:'"\\20"'},[`${e}-item, ${e}-submenu`]:{position:"relative",display:"inline-block",verticalAlign:"bottom",paddingInline:s},[`> ${e}-item:hover,
        > ${e}-item-active,
        > ${e}-submenu ${e}-submenu-title:hover`]:{backgroundColor:"transparent"},[`${e}-item, ${e}-submenu-title`]:{transition:[`border-color ${t}`,`background ${t}`].join(",")},[`${e}-submenu-arrow`]:{display:"none"}}}},sQ=n=>{let{componentCls:e,menuArrowOffset:t,calc:r}=n;return{[`${e}-rtl`]:{direction:"rtl"},[`${e}-submenu-rtl`]:{transformOrigin:"100% 0"},[`${e}-rtl${e}-vertical,
    ${e}-submenu-rtl ${e}-vertical`]:{[`${e}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateY(${Mt(r(t).mul(-1).equal())})`},"&::after":{transform:`rotate(45deg) translateY(${Mt(t)})`}}}}},oL=n=>Object.assign({},lw(n)),sL=(n,e)=>{const{componentCls:t,itemColor:r,itemSelectedColor:a,subMenuItemSelectedColor:o,groupTitleColor:l,itemBg:s,subMenuItemBg:u,itemSelectedBg:f,activeBarHeight:m,activeBarWidth:y,activeBarBorderWidth:_,motionDurationSlow:E,motionEaseInOut:c,motionEaseOut:p,itemPaddingInline:g,motionDurationMid:b,itemHoverColor:C,lineType:T,colorSplit:M,itemDisabledColor:O,dangerItemColor:B,dangerItemHoverColor:P,dangerItemSelectedColor:F,dangerItemActiveBg:U,dangerItemSelectedBg:z,popupBg:$,itemHoverBg:J,itemActiveBg:W,menuSubMenuBg:Q,horizontalItemSelectedColor:ae,horizontalItemSelectedBg:Y,horizontalItemBorderRadius:K,horizontalItemHoverBg:ee}=n;return{[`${t}-${e}, ${t}-${e} > ${t}`]:{color:r,background:s,[`&${t}-root:focus-visible`]:Object.assign({},oL(n)),[`${t}-item`]:{"&-group-title, &-extra":{color:l}},[`${t}-submenu-selected > ${t}-submenu-title`]:{color:o},[`${t}-item, ${t}-submenu-title`]:{color:r,[`&:not(${t}-item-disabled):focus-visible`]:Object.assign({},oL(n))},[`${t}-item-disabled, ${t}-submenu-disabled`]:{color:`${O} !important`},[`${t}-item:not(${t}-item-selected):not(${t}-submenu-selected)`]:{[`&:hover, > ${t}-submenu-title:hover`]:{color:C}},[`&:not(${t}-horizontal)`]:{[`${t}-item:not(${t}-item-selected)`]:{"&:hover":{backgroundColor:J},"&:active":{backgroundColor:W}},[`${t}-submenu-title`]:{"&:hover":{backgroundColor:J},"&:active":{backgroundColor:W}}},[`${t}-item-danger`]:{color:B,[`&${t}-item:hover`]:{[`&:not(${t}-item-selected):not(${t}-submenu-selected)`]:{color:P}},[`&${t}-item:active`]:{background:U}},[`${t}-item a`]:{"&, &:hover":{color:"inherit"}},[`${t}-item-selected`]:{color:a,[`&${t}-item-danger`]:{color:F},"a, a:hover":{color:"inherit"}},[`& ${t}-item-selected`]:{backgroundColor:f,[`&${t}-item-danger`]:{backgroundColor:z}},[`&${t}-submenu > ${t}`]:{backgroundColor:Q},[`&${t}-popup > ${t}`]:{backgroundColor:$},[`&${t}-submenu-popup > ${t}`]:{backgroundColor:$},[`&${t}-horizontal`]:Object.assign(Object.assign({},e==="dark"?{borderBottom:0}:{}),{[`> ${t}-item, > ${t}-submenu`]:{top:_,marginTop:n.calc(_).mul(-1).equal(),marginBottom:0,borderRadius:K,"&::after":{position:"absolute",insetInline:g,bottom:0,borderBottom:`${Mt(m)} solid transparent`,transition:`border-color ${E} ${c}`,content:'""'},"&:hover, &-active, &-open":{background:ee,"&::after":{borderBottomWidth:m,borderBottomColor:ae}},"&-selected":{color:ae,backgroundColor:Y,"&:hover":{backgroundColor:Y},"&::after":{borderBottomWidth:m,borderBottomColor:ae}}}}),[`&${t}-root`]:{[`&${t}-inline, &${t}-vertical`]:{borderInlineEnd:`${Mt(_)} ${T} ${M}`}},[`&${t}-inline`]:{[`${t}-sub${t}-inline`]:{background:u},[`${t}-item`]:{position:"relative","&::after":{position:"absolute",insetBlock:0,insetInlineEnd:0,borderInlineEnd:`${Mt(y)} solid ${a}`,transform:"scaleY(0.0001)",opacity:0,transition:[`transform ${b} ${p}`,`opacity ${b} ${p}`].join(","),content:'""'},[`&${t}-item-danger`]:{"&::after":{borderInlineEndColor:F}}},[`${t}-selected, ${t}-item-selected`]:{"&::after":{transform:"scaleY(1)",opacity:1,transition:[`transform ${b} ${c}`,`opacity ${b} ${c}`].join(",")}}}}}},lL=n=>{const{componentCls:e,itemHeight:t,itemMarginInline:r,padding:a,menuArrowSize:o,marginXS:l,itemMarginBlock:s,itemWidth:u,itemPaddingInline:f}=n,m=n.calc(o).add(a).add(l).equal();return{[`${e}-item`]:{position:"relative",overflow:"hidden"},[`${e}-item, ${e}-submenu-title`]:{height:t,lineHeight:Mt(t),paddingInline:f,overflow:"hidden",textOverflow:"ellipsis",marginInline:r,marginBlock:s,width:u},[`> ${e}-item,
            > ${e}-submenu > ${e}-submenu-title`]:{height:t,lineHeight:Mt(t)},[`${e}-item-group-list ${e}-submenu-title,
            ${e}-submenu-title`]:{paddingInlineEnd:m}}},lQ=n=>{const{componentCls:e,iconCls:t,itemHeight:r,colorTextLightSolid:a,dropdownWidth:o,controlHeightLG:l,motionEaseOut:s,paddingXL:u,itemMarginInline:f,fontSizeLG:m,motionDurationFast:y,motionDurationSlow:_,paddingXS:E,boxShadowSecondary:c,collapsedWidth:p,collapsedIconSize:g}=n,b={height:r,lineHeight:Mt(r),listStylePosition:"inside",listStyleType:"disc"};return[{[e]:{"&-inline, &-vertical":Object.assign({[`&${e}-root`]:{boxShadow:"none"}},lL(n))},[`${e}-submenu-popup`]:{[`${e}-vertical`]:Object.assign(Object.assign({},lL(n)),{boxShadow:c})}},{[`${e}-submenu-popup ${e}-vertical${e}-sub`]:{minWidth:o,maxHeight:`calc(100vh - ${Mt(n.calc(l).mul(2.5).equal())})`,padding:"0",overflow:"hidden",borderInlineEnd:0,"&:not([class*='-active'])":{overflowX:"hidden",overflowY:"auto"}}},{[`${e}-inline`]:{width:"100%",[`&${e}-root`]:{[`${e}-item, ${e}-submenu-title`]:{display:"flex",alignItems:"center",transition:[`border-color ${_}`,`background ${_}`,`padding ${y} ${s}`].join(","),[`> ${e}-title-content`]:{flex:"auto",minWidth:0,overflow:"hidden",textOverflow:"ellipsis"},"> *":{flex:"none"}}},[`${e}-sub${e}-inline`]:{padding:0,border:0,borderRadius:0,boxShadow:"none",[`& > ${e}-submenu > ${e}-submenu-title`]:b,[`& ${e}-item-group-title`]:{paddingInlineStart:u}},[`${e}-item`]:b}},{[`${e}-inline-collapsed`]:{width:p,[`&${e}-root`]:{[`${e}-item, ${e}-submenu ${e}-submenu-title`]:{[`> ${e}-inline-collapsed-noicon`]:{fontSize:m,textAlign:"center"}}},[`> ${e}-item,
          > ${e}-item-group > ${e}-item-group-list > ${e}-item,
          > ${e}-item-group > ${e}-item-group-list > ${e}-submenu > ${e}-submenu-title,
          > ${e}-submenu > ${e}-submenu-title`]:{insetInlineStart:0,paddingInline:`calc(50% - ${Mt(n.calc(g).div(2).equal())} - ${Mt(f)})`,textOverflow:"clip",[`
            ${e}-submenu-arrow,
            ${e}-submenu-expand-icon
          `]:{opacity:0},[`${e}-item-icon, ${t}`]:{margin:0,fontSize:g,lineHeight:Mt(r),"+ span":{display:"inline-block",opacity:0}}},[`${e}-item-icon, ${t}`]:{display:"inline-block"},"&-tooltip":{pointerEvents:"none",[`${e}-item-icon, ${t}`]:{display:"none"},"a, a:hover":{color:a}},[`${e}-item-group-title`]:Object.assign(Object.assign({},sw),{paddingInline:E})}}]},cL=n=>{const{componentCls:e,motionDurationSlow:t,motionDurationMid:r,motionEaseInOut:a,motionEaseOut:o,iconCls:l,iconSize:s,iconMarginInlineEnd:u}=n;return{[`${e}-item, ${e}-submenu-title`]:{position:"relative",display:"block",margin:0,whiteSpace:"nowrap",cursor:"pointer",transition:[`border-color ${t}`,`background ${t}`,`padding calc(${t} + 0.1s) ${a}`].join(","),[`${e}-item-icon, ${l}`]:{minWidth:s,fontSize:s,transition:[`font-size ${r} ${o}`,`margin ${t} ${a}`,`color ${t}`].join(","),"+ span":{marginInlineStart:u,opacity:1,transition:[`opacity ${t} ${a}`,`margin ${t}`,`color ${t}`].join(",")}},[`${e}-item-icon`]:Object.assign({},TO()),[`&${e}-item-only-child`]:{[`> ${l}, > ${e}-item-icon`]:{marginInlineEnd:0}}},[`${e}-item-disabled, ${e}-submenu-disabled`]:{background:"none !important",cursor:"not-allowed","&::after":{borderColor:"transparent !important"},a:{color:"inherit !important",cursor:"not-allowed",pointerEvents:"none"},[`> ${e}-submenu-title`]:{color:"inherit !important",cursor:"not-allowed"}}}},uL=n=>{const{componentCls:e,motionDurationSlow:t,motionEaseInOut:r,borderRadius:a,menuArrowSize:o,menuArrowOffset:l}=n;return{[`${e}-submenu`]:{"&-expand-icon, &-arrow":{position:"absolute",top:"50%",insetInlineEnd:n.margin,width:o,color:"currentcolor",transform:"translateY(-50%)",transition:`transform ${t} ${r}, opacity ${t}`},"&-arrow":{"&::before, &::after":{position:"absolute",width:n.calc(o).mul(.6).equal(),height:n.calc(o).mul(.15).equal(),backgroundColor:"currentcolor",borderRadius:a,transition:[`background ${t} ${r}`,`transform ${t} ${r}`,`top ${t} ${r}`,`color ${t} ${r}`].join(","),content:'""'},"&::before":{transform:`rotate(45deg) translateY(${Mt(n.calc(l).mul(-1).equal())})`},"&::after":{transform:`rotate(-45deg) translateY(${Mt(l)})`}}}}},cQ=n=>{const{antCls:e,componentCls:t,fontSize:r,motionDurationSlow:a,motionDurationMid:o,motionEaseInOut:l,paddingXS:s,padding:u,colorSplit:f,lineWidth:m,zIndexPopup:y,borderRadiusLG:_,subMenuItemBorderRadius:E,menuArrowSize:c,menuArrowOffset:p,lineType:g,groupTitleLineHeight:b,groupTitleFontSize:C}=n;return[{"":{[t]:Object.assign(Object.assign({},l0()),{"&-hidden":{display:"none"}})},[`${t}-submenu-hidden`]:{display:"none"}},{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Uo(n)),l0()),{marginBottom:0,paddingInlineStart:0,fontSize:r,lineHeight:0,listStyle:"none",outline:"none",transition:`width ${a} cubic-bezier(0.2, 0, 0, 1) 0s`,"ul, ol":{margin:0,padding:0,listStyle:"none"},"&-overflow":{display:"flex",[`${t}-item`]:{flex:"none"}},[`${t}-item, ${t}-submenu, ${t}-submenu-title`]:{borderRadius:n.itemBorderRadius},[`${t}-item-group-title`]:{padding:`${Mt(s)} ${Mt(u)}`,fontSize:C,lineHeight:b,transition:`all ${a}`},[`&-horizontal ${t}-submenu`]:{transition:[`border-color ${a} ${l}`,`background ${a} ${l}`].join(",")},[`${t}-submenu, ${t}-submenu-inline`]:{transition:[`border-color ${a} ${l}`,`background ${a} ${l}`,`padding ${o} ${l}`].join(",")},[`${t}-submenu ${t}-sub`]:{cursor:"initial",transition:[`background ${a} ${l}`,`padding ${a} ${l}`].join(",")},[`${t}-title-content`]:{transition:`color ${a}`,"&-with-extra":{display:"inline-flex",alignItems:"center",width:"100%"},[`> ${e}-typography-ellipsis-single-line`]:{display:"inline",verticalAlign:"unset"},[`${t}-item-extra`]:{marginInlineStart:"auto",paddingInlineStart:n.padding}},[`${t}-item a`]:{"&::before":{position:"absolute",inset:0,backgroundColor:"transparent",content:'""'}},[`${t}-item-divider`]:{overflow:"hidden",lineHeight:0,borderColor:f,borderStyle:g,borderWidth:0,borderTopWidth:m,marginBlock:m,padding:0,"&-dashed":{borderStyle:"dashed"}}}),cL(n)),{[`${t}-item-group`]:{[`${t}-item-group-list`]:{margin:0,padding:0,[`${t}-item, ${t}-submenu-title`]:{paddingInline:`${Mt(n.calc(r).mul(2).equal())} ${Mt(u)}`}}},"&-submenu":{"&-popup":{position:"absolute",zIndex:y,borderRadius:_,boxShadow:"none",transformOrigin:"0 0",[`&${t}-submenu`]:{background:"transparent"},"&::before":{position:"absolute",inset:0,zIndex:-1,width:"100%",height:"100%",opacity:0,content:'""'},[`> ${t}`]:Object.assign(Object.assign(Object.assign({borderRadius:_},cL(n)),uL(n)),{[`${t}-item, ${t}-submenu > ${t}-submenu-title`]:{borderRadius:E},[`${t}-submenu-title::after`]:{transition:`transform ${a} ${l}`}})},"\n          &-placement-leftTop,\n          &-placement-bottomRight,\n          ":{transformOrigin:"100% 0"},"\n          &-placement-leftBottom,\n          &-placement-topRight,\n          ":{transformOrigin:"100% 100%"},"\n          &-placement-rightBottom,\n          &-placement-topLeft,\n          ":{transformOrigin:"0 100%"},"\n          &-placement-bottomLeft,\n          &-placement-rightTop,\n          ":{transformOrigin:"0 0"},"\n          &-placement-leftTop,\n          &-placement-leftBottom\n          ":{paddingInlineEnd:n.paddingXS},"\n          &-placement-rightTop,\n          &-placement-rightBottom\n          ":{paddingInlineStart:n.paddingXS},"\n          &-placement-topRight,\n          &-placement-topLeft\n          ":{paddingBottom:n.paddingXS},"\n          &-placement-bottomRight,\n          &-placement-bottomLeft\n          ":{paddingTop:n.paddingXS}}}),uL(n)),{[`&-inline-collapsed ${t}-submenu-arrow,
        &-inline ${t}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateX(${Mt(p)})`},"&::after":{transform:`rotate(45deg) translateX(${Mt(n.calc(p).mul(-1).equal())})`}},[`${t}-submenu-open${t}-submenu-inline > ${t}-submenu-title > ${t}-submenu-arrow`]:{transform:`translateY(${Mt(n.calc(c).mul(.2).mul(-1).equal())})`,"&::after":{transform:`rotate(-45deg) translateX(${Mt(n.calc(p).mul(-1).equal())})`},"&::before":{transform:`rotate(45deg) translateX(${Mt(p)})`}}})},{[`${e}-layout-header`]:{[t]:{lineHeight:"inherit"}}}]},uQ=n=>{var e,t,r;const{colorPrimary:a,colorError:o,colorTextDisabled:l,colorErrorBg:s,colorText:u,colorTextDescription:f,colorBgContainer:m,colorFillAlter:y,colorFillContent:_,lineWidth:E,lineWidthBold:c,controlItemBgActive:p,colorBgTextHover:g,controlHeightLG:b,lineHeight:C,colorBgElevated:T,marginXXS:M,padding:O,fontSize:B,controlHeightSM:P,fontSizeLG:F,colorTextLightSolid:U,colorErrorHover:z}=n,$=(e=n.activeBarWidth)!==null&&e!==void 0?e:0,J=(t=n.activeBarBorderWidth)!==null&&t!==void 0?t:E,W=(r=n.itemMarginInline)!==null&&r!==void 0?r:n.marginXXS,Q=new Bi(U).setA(.65).toRgbString();return{dropdownWidth:160,zIndexPopup:n.zIndexPopupBase+50,radiusItem:n.borderRadiusLG,itemBorderRadius:n.borderRadiusLG,radiusSubMenuItem:n.borderRadiusSM,subMenuItemBorderRadius:n.borderRadiusSM,colorItemText:u,itemColor:u,colorItemTextHover:u,itemHoverColor:u,colorItemTextHoverHorizontal:a,horizontalItemHoverColor:a,colorGroupTitle:f,groupTitleColor:f,colorItemTextSelected:a,itemSelectedColor:a,subMenuItemSelectedColor:a,colorItemTextSelectedHorizontal:a,horizontalItemSelectedColor:a,colorItemBg:m,itemBg:m,colorItemBgHover:g,itemHoverBg:g,colorItemBgActive:_,itemActiveBg:p,colorSubItemBg:y,subMenuItemBg:y,colorItemBgSelected:p,itemSelectedBg:p,colorItemBgSelectedHorizontal:"transparent",horizontalItemSelectedBg:"transparent",colorActiveBarWidth:0,activeBarWidth:$,colorActiveBarHeight:c,activeBarHeight:c,colorActiveBarBorderSize:E,activeBarBorderWidth:J,colorItemTextDisabled:l,itemDisabledColor:l,colorDangerItemText:o,dangerItemColor:o,colorDangerItemTextHover:o,dangerItemHoverColor:o,colorDangerItemTextSelected:o,dangerItemSelectedColor:o,colorDangerItemBgActive:s,dangerItemActiveBg:s,colorDangerItemBgSelected:s,dangerItemSelectedBg:s,itemMarginInline:W,horizontalItemBorderRadius:0,horizontalItemHoverBg:"transparent",itemHeight:b,groupTitleLineHeight:C,collapsedWidth:b*2,popupBg:T,itemMarginBlock:M,itemPaddingInline:O,horizontalLineHeight:`${b*1.15}px`,iconSize:B,iconMarginInlineEnd:P-B,collapsedIconSize:F,groupTitleFontSize:B,darkItemDisabledColor:new Bi(U).setA(.25).toRgbString(),darkItemColor:Q,darkDangerItemColor:o,darkItemBg:"#001529",darkPopupBg:"#001529",darkSubMenuItemBg:"#000c17",darkItemSelectedColor:U,darkItemSelectedBg:a,darkDangerItemSelectedBg:o,darkItemHoverBg:"transparent",darkGroupTitleColor:Q,darkItemHoverColor:U,darkDangerItemHoverColor:z,darkDangerItemSelectedColor:U,darkDangerItemActiveBg:o,itemWidth:$?`calc(100% + ${J}px)`:`calc(100% - ${W*2}px)`}},dQ=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return Nr("Menu",a=>{const{colorBgElevated:o,controlHeightLG:l,fontSize:s,darkItemColor:u,darkDangerItemColor:f,darkItemBg:m,darkSubMenuItemBg:y,darkItemSelectedColor:_,darkItemSelectedBg:E,darkDangerItemSelectedBg:c,darkItemHoverBg:p,darkGroupTitleColor:g,darkItemHoverColor:b,darkItemDisabledColor:C,darkDangerItemHoverColor:T,darkDangerItemSelectedColor:M,darkDangerItemActiveBg:O,popupBg:B,darkPopupBg:P}=a,F=a.calc(s).div(7).mul(5).equal(),U=qi(a,{menuArrowSize:F,menuHorizontalHeight:a.calc(l).mul(1.15).equal(),menuArrowOffset:a.calc(F).mul(.25).equal(),menuSubMenuBg:o,calc:a.calc,popupBg:B}),z=qi(U,{itemColor:u,itemHoverColor:b,groupTitleColor:g,itemSelectedColor:_,subMenuItemSelectedColor:_,itemBg:m,popupBg:P,subMenuItemBg:y,itemActiveBg:"transparent",itemSelectedBg:E,activeBarHeight:0,activeBarBorderWidth:0,itemHoverBg:p,itemDisabledColor:C,dangerItemColor:f,dangerItemHoverColor:T,dangerItemSelectedColor:M,dangerItemActiveBg:O,dangerItemSelectedBg:c,menuSubMenuBg:y,horizontalItemSelectedColor:_,horizontalItemSelectedBg:E});return[cQ(U),oQ(U),lQ(U),sL(U,"light"),sL(z,"dark"),sQ(U),TF(U),hP(U,"slide-up"),hP(U,"slide-down"),CS(U,"zoom-big")]},uQ,{deprecatedTokens:[["colorGroupTitle","groupTitleColor"],["radiusItem","itemBorderRadius"],["radiusSubMenuItem","subMenuItemBorderRadius"],["colorItemText","itemColor"],["colorItemTextHover","itemHoverColor"],["colorItemTextHoverHorizontal","horizontalItemHoverColor"],["colorItemTextSelected","itemSelectedColor"],["colorItemTextSelectedHorizontal","horizontalItemSelectedColor"],["colorItemTextDisabled","itemDisabledColor"],["colorDangerItemText","dangerItemColor"],["colorDangerItemTextHover","dangerItemHoverColor"],["colorDangerItemTextSelected","dangerItemSelectedColor"],["colorDangerItemBgActive","dangerItemActiveBg"],["colorDangerItemBgSelected","dangerItemSelectedBg"],["colorItemBg","itemBg"],["colorItemBgHover","itemHoverBg"],["colorSubItemBg","subMenuItemBg"],["colorItemBgActive","itemActiveBg"],["colorItemBgSelectedHorizontal","horizontalItemSelectedBg"],["colorActiveBarWidth","activeBarWidth"],["colorActiveBarHeight","activeBarHeight"],["colorActiveBarBorderSize","activeBarBorderWidth"],["colorItemBgSelected","itemSelectedBg"]],injectStyle:t,unitless:{groupTitleLineHeight:!0}})(n,e)},W4=n=>{var e;const{popupClassName:t,icon:r,title:a,theme:o}=n,l=w.useContext(H1),{prefixCls:s,inlineCollapsed:u,theme:f}=l,m=R0();let y;if(!r)y=u&&!m.length&&a&&typeof a=="string"?w.createElement("div",{className:`${s}-inline-collapsed-noicon`},a.charAt(0)):w.createElement("span",{className:`${s}-title-content`},a);else{const c=w.isValidElement(a)&&a.type==="span";y=w.createElement(w.Fragment,null,il(r,{className:Je(w.isValidElement(r)?(e=r.props)===null||e===void 0?void 0:e.className:"",`${s}-item-icon`)}),c?a:w.createElement("span",{className:`${s}-title-content`},a))}const _=w.useMemo(()=>Object.assign(Object.assign({},l),{firstLevel:!1}),[l]),[E]=_S("Menu");return w.createElement(H1.Provider,{value:_},w.createElement(Aw,Object.assign({},yo(n,["icon"]),{title:y,popupClassName:Je(s,t,`${s}-${o||f}`),popupStyle:Object.assign({zIndex:E},n.popupStyle)})))};var fQ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};function LM(n){return n===null||n===!1}const hQ={item:j4,submenu:W4,divider:V4},pQ=w.forwardRef((n,e)=>{var t;const r=w.useContext(aL),a=r||{},{getPrefixCls:o,getPopupContainer:l,direction:s,menu:u}=w.useContext(Hn),f=o(),{prefixCls:m,className:y,style:_,theme:E="light",expandIcon:c,_internalDisableMenuItemTitleTooltip:p,inlineCollapsed:g,siderCollapsed:b,rootClassName:C,mode:T,selectable:M,onClick:O,overflowedIndicatorPopupClassName:B}=n,P=fQ(n,["prefixCls","className","style","theme","expandIcon","_internalDisableMenuItemTitleTooltip","inlineCollapsed","siderCollapsed","rootClassName","mode","selectable","onClick","overflowedIndicatorPopupClassName"]),F=yo(P,["collapsedWidth"]);(t=a.validator)===null||t===void 0||t.call(a,{mode:T});const U=Qa(function(){var he;O==null||O.apply(void 0,arguments),(he=a.onClick)===null||he===void 0||he.call(a)}),z=a.mode||T,$=M??a.selectable,J=g??b,W={horizontal:{motionName:`${f}-slide-up`},inline:CF(f),other:{motionName:`${f}-zoom-big`}},Q=o("menu",m||a.prefixCls),ae=ol(Q),[Y,K,ee]=dQ(Q,ae,!r),de=Je(`${Q}-${E}`,u==null?void 0:u.className,y),q=w.useMemo(()=>{var he,fe;if(typeof c=="function"||LM(c))return c||null;if(typeof a.expandIcon=="function"||LM(a.expandIcon))return a.expandIcon||null;if(typeof(u==null?void 0:u.expandIcon)=="function"||LM(u==null?void 0:u.expandIcon))return(u==null?void 0:u.expandIcon)||null;const Z=(he=c??(a==null?void 0:a.expandIcon))!==null&&he!==void 0?he:u==null?void 0:u.expandIcon;return il(Z,{className:Je(`${Q}-submenu-expand-icon`,w.isValidElement(Z)?(fe=Z.props)===null||fe===void 0?void 0:fe.className:void 0)})},[c,a==null?void 0:a.expandIcon,u==null?void 0:u.expandIcon,Q]),ie=w.useMemo(()=>({prefixCls:Q,inlineCollapsed:J||!1,direction:s,firstLevel:!0,theme:E,mode:z,disableMenuItemTitleTooltip:p}),[Q,J,s,p,E]);return Y(w.createElement(aL.Provider,{value:null},w.createElement(H1.Provider,{value:ie},w.createElement(RS,Object.assign({getPopupContainer:l,overflowedIndicator:w.createElement(w$,null),overflowedIndicatorPopupClassName:Je(Q,`${Q}-${E}`,B),mode:z,selectable:$,onClick:U},F,{inlineCollapsed:J,style:Object.assign(Object.assign({},u==null?void 0:u.style),_),className:de,prefixCls:Q,direction:s,defaultMotions:W,expandIcon:q,ref:e,rootClassName:Je(C,K,a.rootClassName,ee,ae),_internalComponents:hQ})))))}),OS=w.forwardRef((n,e)=>{const t=w.useRef(null),r=w.useContext(Mw);return w.useImperativeHandle(e,()=>({menu:t.current,focus:a=>{var o;(o=t.current)===null||o===void 0||o.focus(a)}})),w.createElement(pQ,Object.assign({ref:t},n,r))});OS.Item=j4;OS.SubMenu=W4;OS.Divider=V4;OS.ItemGroup=KO;const X4=w.createContext(null),mQ=X4.Provider,Y4=w.createContext(null),gQ=Y4.Provider;var vQ=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],yQ=w.forwardRef(function(n,e){var t=n.prefixCls,r=t===void 0?"rc-checkbox":t,a=n.className,o=n.style,l=n.checked,s=n.disabled,u=n.defaultChecked,f=u===void 0?!1:u,m=n.type,y=m===void 0?"checkbox":m,_=n.title,E=n.onChange,c=kn(n,vQ),p=w.useRef(null),g=w.useRef(null),b=mo(f,{value:l}),C=vt(b,2),T=C[0],M=C[1];w.useImperativeHandle(e,function(){return{focus:function(F){var U;(U=p.current)===null||U===void 0||U.focus(F)},blur:function(){var F;(F=p.current)===null||F===void 0||F.blur()},input:p.current,nativeElement:g.current}});var O=Je(r,a,ue(ue({},"".concat(r,"-checked"),T),"".concat(r,"-disabled"),s)),B=function(F){s||("checked"in n||M(F.target.checked),E==null||E({target:Ne(Ne({},n),{},{type:y,checked:F.target.checked}),stopPropagation:function(){F.stopPropagation()},preventDefault:function(){F.preventDefault()},nativeEvent:F.nativeEvent}))};return w.createElement("span",{className:O,title:_,style:o,ref:g},w.createElement("input",Pt({},c,{className:"".concat(r,"-input"),ref:p,onChange:B,disabled:s,checked:!!T,type:y})),w.createElement("span",{className:"".concat(r,"-inner")}))});function bQ(n){const e=Xe.useRef(null),t=()=>{Da.cancel(e.current),e.current=null};return[()=>{t(),e.current=Da(()=>{e.current=null})},o=>{e.current&&(o.stopPropagation(),t()),n==null||n(o)}]}const SQ=n=>{const{componentCls:e,antCls:t}=n,r=`${e}-group`;return{[r]:Object.assign(Object.assign({},Uo(n)),{display:"inline-block",fontSize:0,[`&${r}-rtl`]:{direction:"rtl"},[`&${r}-block`]:{display:"flex"},[`${t}-badge ${t}-badge-count`]:{zIndex:1},[`> ${t}-badge:not(:first-child) > ${t}-button-wrapper`]:{borderInlineStart:"none"}})}},_Q=n=>{const{componentCls:e,wrapperMarginInlineEnd:t,colorPrimary:r,radioSize:a,motionDurationSlow:o,motionDurationMid:l,motionEaseInOutCirc:s,colorBgContainer:u,colorBorder:f,lineWidth:m,colorBgContainerDisabled:y,colorTextDisabled:_,paddingXS:E,dotColorDisabled:c,lineType:p,radioColor:g,radioBgColor:b,calc:C}=n,T=`${e}-inner`,O=C(a).sub(C(4).mul(2)),B=C(1).mul(a).equal({unit:!0});return{[`${e}-wrapper`]:Object.assign(Object.assign({},Uo(n)),{display:"inline-flex",alignItems:"baseline",marginInlineStart:0,marginInlineEnd:t,cursor:"pointer","&:last-child":{marginInlineEnd:0},[`&${e}-wrapper-rtl`]:{direction:"rtl"},"&-disabled":{cursor:"not-allowed",color:n.colorTextDisabled},"&::after":{display:"inline-block",width:0,overflow:"hidden",content:'"\\a0"'},"&-block":{flex:1,justifyContent:"center"},[`${e}-checked::after`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:"100%",height:"100%",border:`${Mt(m)} ${p} ${r}`,borderRadius:"50%",visibility:"hidden",opacity:0,content:'""'},[e]:Object.assign(Object.assign({},Uo(n)),{position:"relative",display:"inline-block",outline:"none",cursor:"pointer",alignSelf:"center",borderRadius:"50%"}),[`${e}-wrapper:hover &,
        &:hover ${T}`]:{borderColor:r},[`${e}-input:focus-visible + ${T}`]:Object.assign({},lw(n)),[`${e}:hover::after, ${e}-wrapper:hover &::after`]:{visibility:"visible"},[`${e}-inner`]:{"&::after":{boxSizing:"border-box",position:"absolute",insetBlockStart:"50%",insetInlineStart:"50%",display:"block",width:B,height:B,marginBlockStart:C(1).mul(a).div(-2).equal({unit:!0}),marginInlineStart:C(1).mul(a).div(-2).equal({unit:!0}),backgroundColor:g,borderBlockStart:0,borderInlineStart:0,borderRadius:B,transform:"scale(0)",opacity:0,transition:`all ${o} ${s}`,content:'""'},boxSizing:"border-box",position:"relative",insetBlockStart:0,insetInlineStart:0,display:"block",width:B,height:B,backgroundColor:u,borderColor:f,borderStyle:"solid",borderWidth:m,borderRadius:"50%",transition:`all ${l}`},[`${e}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0},[`${e}-checked`]:{[T]:{borderColor:r,backgroundColor:b,"&::after":{transform:`scale(${n.calc(n.dotSize).div(a).equal()})`,opacity:1,transition:`all ${o} ${s}`}}},[`${e}-disabled`]:{cursor:"not-allowed",[T]:{backgroundColor:y,borderColor:f,cursor:"not-allowed","&::after":{backgroundColor:c}},[`${e}-input`]:{cursor:"not-allowed"},[`${e}-disabled + span`]:{color:_,cursor:"not-allowed"},[`&${e}-checked`]:{[T]:{"&::after":{transform:`scale(${C(O).div(a).equal()})`}}}},[`span${e} + *`]:{paddingInlineStart:E,paddingInlineEnd:E}})}},xQ=n=>{const{buttonColor:e,controlHeight:t,componentCls:r,lineWidth:a,lineType:o,colorBorder:l,motionDurationSlow:s,motionDurationMid:u,buttonPaddingInline:f,fontSize:m,buttonBg:y,fontSizeLG:_,controlHeightLG:E,controlHeightSM:c,paddingXS:p,borderRadius:g,borderRadiusSM:b,borderRadiusLG:C,buttonCheckedBg:T,buttonSolidCheckedColor:M,colorTextDisabled:O,colorBgContainerDisabled:B,buttonCheckedBgDisabled:P,buttonCheckedColorDisabled:F,colorPrimary:U,colorPrimaryHover:z,colorPrimaryActive:$,buttonSolidCheckedBg:J,buttonSolidCheckedHoverBg:W,buttonSolidCheckedActiveBg:Q,calc:ae}=n;return{[`${r}-button-wrapper`]:{position:"relative",display:"inline-block",height:t,margin:0,paddingInline:f,paddingBlock:0,color:e,fontSize:m,lineHeight:Mt(ae(t).sub(ae(a).mul(2)).equal()),background:y,border:`${Mt(a)} ${o} ${l}`,borderBlockStartWidth:ae(a).add(.02).equal(),borderInlineStartWidth:0,borderInlineEndWidth:a,cursor:"pointer",transition:[`color ${u}`,`background ${u}`,`box-shadow ${u}`].join(","),a:{color:e},[`> ${r}-button`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:-1,width:"100%",height:"100%"},"&:not(:first-child)":{"&::before":{position:"absolute",insetBlockStart:ae(a).mul(-1).equal(),insetInlineStart:ae(a).mul(-1).equal(),display:"block",boxSizing:"content-box",width:1,height:"100%",paddingBlock:a,paddingInline:0,backgroundColor:l,transition:`background-color ${s}`,content:'""'}},"&:first-child":{borderInlineStart:`${Mt(a)} ${o} ${l}`,borderStartStartRadius:g,borderEndStartRadius:g},"&:last-child":{borderStartEndRadius:g,borderEndEndRadius:g},"&:first-child:last-child":{borderRadius:g},[`${r}-group-large &`]:{height:E,fontSize:_,lineHeight:Mt(ae(E).sub(ae(a).mul(2)).equal()),"&:first-child":{borderStartStartRadius:C,borderEndStartRadius:C},"&:last-child":{borderStartEndRadius:C,borderEndEndRadius:C}},[`${r}-group-small &`]:{height:c,paddingInline:ae(p).sub(a).equal(),paddingBlock:0,lineHeight:Mt(ae(c).sub(ae(a).mul(2)).equal()),"&:first-child":{borderStartStartRadius:b,borderEndStartRadius:b},"&:last-child":{borderStartEndRadius:b,borderEndEndRadius:b}},"&:hover":{position:"relative",color:U},"&:has(:focus-visible)":Object.assign({},lw(n)),[`${r}-inner, input[type='checkbox'], input[type='radio']`]:{width:0,height:0,opacity:0,pointerEvents:"none"},[`&-checked:not(${r}-button-wrapper-disabled)`]:{zIndex:1,color:U,background:T,borderColor:U,"&::before":{backgroundColor:U},"&:first-child":{borderColor:U},"&:hover":{color:z,borderColor:z,"&::before":{backgroundColor:z}},"&:active":{color:$,borderColor:$,"&::before":{backgroundColor:$}}},[`${r}-group-solid &-checked:not(${r}-button-wrapper-disabled)`]:{color:M,background:J,borderColor:J,"&:hover":{color:M,background:W,borderColor:W},"&:active":{color:M,background:Q,borderColor:Q}},"&-disabled":{color:O,backgroundColor:B,borderColor:l,cursor:"not-allowed","&:first-child, &:hover":{color:O,backgroundColor:B,borderColor:l}},[`&-disabled${r}-button-wrapper-checked`]:{color:F,backgroundColor:P,borderColor:l,boxShadow:"none"},"&-block":{flex:1,textAlign:"center"}}}},CQ=n=>{const{wireframe:e,padding:t,marginXS:r,lineWidth:a,fontSizeLG:o,colorText:l,colorBgContainer:s,colorTextDisabled:u,controlItemBgActiveDisabled:f,colorTextLightSolid:m,colorPrimary:y,colorPrimaryHover:_,colorPrimaryActive:E,colorWhite:c}=n,p=4,g=o,b=e?g-p*2:g-(p+a)*2;return{radioSize:g,dotSize:b,dotColorDisabled:u,buttonSolidCheckedColor:m,buttonSolidCheckedBg:y,buttonSolidCheckedHoverBg:_,buttonSolidCheckedActiveBg:E,buttonBg:s,buttonCheckedBg:s,buttonColor:l,buttonCheckedBgDisabled:f,buttonCheckedColorDisabled:u,buttonPaddingInline:t-a,wrapperMarginInlineEnd:r,radioColor:e?y:c,radioBgColor:e?s:y}},q4=Nr("Radio",n=>{const{controlOutline:e,controlOutlineWidth:t}=n,r=`0 0 0 ${Mt(t)} ${e}`,o=qi(n,{radioFocusShadow:r,radioButtonFocusShadow:r});return[SQ(o),_Q(o),xQ(o)]},CQ,{unitless:{radioSize:!0,dotSize:!0}});var EQ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const wQ=(n,e)=>{var t,r;const a=w.useContext(X4),o=w.useContext(Y4),{getPrefixCls:l,direction:s,radio:u}=w.useContext(Hn),f=w.useRef(null),m=yf(e,f),{isFormItemInput:y}=w.useContext(hf),_=Y=>{var K,ee;(K=n.onChange)===null||K===void 0||K.call(n,Y),(ee=a==null?void 0:a.onChange)===null||ee===void 0||ee.call(a,Y)},{prefixCls:E,className:c,rootClassName:p,children:g,style:b,title:C}=n,T=EQ(n,["prefixCls","className","rootClassName","children","style","title"]),M=l("radio",E),O=((a==null?void 0:a.optionType)||o)==="button",B=O?`${M}-button`:M,P=ol(M),[F,U,z]=q4(M,P),$=Object.assign({},T),J=w.useContext(Ku);a&&($.name=a.name,$.onChange=_,$.checked=n.value===a.value,$.disabled=(t=$.disabled)!==null&&t!==void 0?t:a.disabled),$.disabled=(r=$.disabled)!==null&&r!==void 0?r:J;const W=Je(`${B}-wrapper`,{[`${B}-wrapper-checked`]:$.checked,[`${B}-wrapper-disabled`]:$.disabled,[`${B}-wrapper-rtl`]:s==="rtl",[`${B}-wrapper-in-form-item`]:y,[`${B}-wrapper-block`]:!!(a!=null&&a.block)},u==null?void 0:u.className,c,p,U,z,P),[Q,ae]=bQ($.onClick);return F(w.createElement(dw,{component:"Radio",disabled:$.disabled},w.createElement("label",{className:W,style:Object.assign(Object.assign({},u==null?void 0:u.style),b),onMouseEnter:n.onMouseEnter,onMouseLeave:n.onMouseLeave,title:C,onClick:Q},w.createElement(yQ,Object.assign({},$,{className:Je($.className,{[LO]:!O}),type:"radio",prefixCls:B,ref:m,onClick:ae})),g!==void 0?w.createElement("span",{className:`${B}-label`},g):null)))},G1=w.forwardRef(wQ),AQ=w.forwardRef((n,e)=>{const{getPrefixCls:t,direction:r}=w.useContext(Hn),a=_w(),{prefixCls:o,className:l,rootClassName:s,options:u,buttonStyle:f="outline",disabled:m,children:y,size:_,style:E,id:c,optionType:p,name:g=a,defaultValue:b,value:C,block:T=!1,onChange:M,onMouseEnter:O,onMouseLeave:B,onFocus:P,onBlur:F}=n,[U,z]=mo(b,{value:C}),$=w.useCallback(he=>{const fe=U,Z=he.target.value;"value"in n||z(Z),Z!==fe&&(M==null||M(he))},[U,z,M]),J=t("radio",o),W=`${J}-group`,Q=ol(J),[ae,Y,K]=q4(J,Q);let ee=y;u&&u.length>0&&(ee=u.map(he=>typeof he=="string"||typeof he=="number"?w.createElement(G1,{key:he.toString(),prefixCls:J,disabled:m,value:he,checked:U===he},he):w.createElement(G1,{key:`radio-group-value-options-${he.value}`,prefixCls:J,disabled:he.disabled||m,value:he.value,checked:U===he.value,title:he.title,style:he.style,id:he.id,required:he.required},he.label)));const de=Sf(_),q=Je(W,`${W}-${f}`,{[`${W}-${de}`]:de,[`${W}-rtl`]:r==="rtl",[`${W}-block`]:T},l,s,Y,K,Q),ie=w.useMemo(()=>({onChange:$,value:U,disabled:m,name:g,optionType:p,block:T}),[$,U,m,g,p,T]);return ae(w.createElement("div",Object.assign({},zm(n,{aria:!0,data:!0}),{className:q,style:E,onMouseEnter:O,onMouseLeave:B,onFocus:P,onBlur:F,id:c,ref:e}),w.createElement(mQ,{value:ie},ee)))}),MQ=w.memo(AQ);var TQ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const RQ=(n,e)=>{const{getPrefixCls:t}=w.useContext(Hn),{prefixCls:r}=n,a=TQ(n,["prefixCls"]),o=t("radio",r);return w.createElement(gQ,{value:"button"},w.createElement(G1,Object.assign({prefixCls:o},a,{type:"radio",ref:e})))},OQ=w.forwardRef(RQ),cm=G1;cm.Button=OQ;cm.Group=MQ;cm.__ANT_RADIO=!0;function Tw(n){return qi(n,{inputAffixPadding:n.paddingXXS})}const Rw=n=>{const{controlHeight:e,fontSize:t,lineHeight:r,lineWidth:a,controlHeightSM:o,controlHeightLG:l,fontSizeLG:s,lineHeightLG:u,paddingSM:f,controlPaddingHorizontalSM:m,controlPaddingHorizontal:y,colorFillAlter:_,colorPrimaryHover:E,colorPrimary:c,controlOutlineWidth:p,controlOutline:g,colorErrorOutline:b,colorWarningOutline:C,colorBgContainer:T,inputFontSize:M,inputFontSizeLG:O,inputFontSizeSM:B}=n,P=M||t,F=B||P,U=O||s,z=Math.round((e-P*r)/2*10)/10-a,$=Math.round((o-F*r)/2*10)/10-a,J=Math.ceil((l-U*u)/2*10)/10-a;return{paddingBlock:Math.max(z,0),paddingBlockSM:Math.max($,0),paddingBlockLG:Math.max(J,0),paddingInline:f-a,paddingInlineSM:m-a,paddingInlineLG:y-a,addonBg:_,activeBorderColor:c,hoverBorderColor:E,activeShadow:`0 0 0 ${p}px ${g}`,errorActiveShadow:`0 0 0 ${p}px ${b}`,warningActiveShadow:`0 0 0 ${p}px ${C}`,hoverBg:T,activeBg:T,inputFontSize:P,inputFontSizeLG:U,inputFontSizeSM:F}},IQ=n=>({borderColor:n.hoverBorderColor,backgroundColor:n.hoverBg}),JO=n=>({color:n.colorTextDisabled,backgroundColor:n.colorBgContainerDisabled,borderColor:n.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"input[disabled], textarea[disabled]":{cursor:"not-allowed"},"&:hover:not([disabled])":Object.assign({},IQ(qi(n,{hoverBorderColor:n.colorBorder,hoverBg:n.colorBgContainerDisabled})))}),K4=(n,e)=>({background:n.colorBgContainer,borderWidth:n.lineWidth,borderStyle:n.lineType,borderColor:e.borderColor,"&:hover":{borderColor:e.hoverBorderColor,backgroundColor:n.hoverBg},"&:focus, &:focus-within":{borderColor:e.activeBorderColor,boxShadow:e.activeShadow,outline:0,backgroundColor:n.activeBg}}),dL=(n,e)=>({[`&${n.componentCls}-status-${e.status}:not(${n.componentCls}-disabled)`]:Object.assign(Object.assign({},K4(n,e)),{[`${n.componentCls}-prefix, ${n.componentCls}-suffix`]:{color:e.affixColor}}),[`&${n.componentCls}-status-${e.status}${n.componentCls}-disabled`]:{borderColor:e.borderColor}}),BQ=(n,e)=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},K4(n,{borderColor:n.colorBorder,hoverBorderColor:n.hoverBorderColor,activeBorderColor:n.activeBorderColor,activeShadow:n.activeShadow})),{[`&${n.componentCls}-disabled, &[disabled]`]:Object.assign({},JO(n))}),dL(n,{status:"error",borderColor:n.colorError,hoverBorderColor:n.colorErrorBorderHover,activeBorderColor:n.colorError,activeShadow:n.errorActiveShadow,affixColor:n.colorError})),dL(n,{status:"warning",borderColor:n.colorWarning,hoverBorderColor:n.colorWarningBorderHover,activeBorderColor:n.colorWarning,activeShadow:n.warningActiveShadow,affixColor:n.colorWarning})),e)}),fL=(n,e)=>({[`&${n.componentCls}-group-wrapper-status-${e.status}`]:{[`${n.componentCls}-group-addon`]:{borderColor:e.addonBorderColor,color:e.addonColor}}}),DQ=n=>({"&-outlined":Object.assign(Object.assign(Object.assign({[`${n.componentCls}-group`]:{"&-addon":{background:n.addonBg,border:`${Mt(n.lineWidth)} ${n.lineType} ${n.colorBorder}`},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}}},fL(n,{status:"error",addonBorderColor:n.colorError,addonColor:n.colorErrorText})),fL(n,{status:"warning",addonBorderColor:n.colorWarning,addonColor:n.colorWarningText})),{[`&${n.componentCls}-group-wrapper-disabled`]:{[`${n.componentCls}-group-addon`]:Object.assign({},JO(n))}})}),PQ=(n,e)=>{const{componentCls:t}=n;return{"&-borderless":Object.assign({background:"transparent",border:"none","&:focus, &:focus-within":{outline:"none"},[`&${t}-disabled, &[disabled]`]:{color:n.colorTextDisabled,cursor:"not-allowed"},[`&${t}-status-error`]:{"&, & input, & textarea":{color:n.colorError}},[`&${t}-status-warning`]:{"&, & input, & textarea":{color:n.colorWarning}}},e)}},J4=(n,e)=>({background:e.bg,borderWidth:n.lineWidth,borderStyle:n.lineType,borderColor:"transparent","input&, & input, textarea&, & textarea":{color:e==null?void 0:e.inputColor},"&:hover":{background:e.hoverBg},"&:focus, &:focus-within":{outline:0,borderColor:e.activeBorderColor,backgroundColor:n.activeBg}}),hL=(n,e)=>({[`&${n.componentCls}-status-${e.status}:not(${n.componentCls}-disabled)`]:Object.assign(Object.assign({},J4(n,e)),{[`${n.componentCls}-prefix, ${n.componentCls}-suffix`]:{color:e.affixColor}})}),LQ=(n,e)=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},J4(n,{bg:n.colorFillTertiary,hoverBg:n.colorFillSecondary,activeBorderColor:n.activeBorderColor})),{[`&${n.componentCls}-disabled, &[disabled]`]:Object.assign({},JO(n))}),hL(n,{status:"error",bg:n.colorErrorBg,hoverBg:n.colorErrorBgHover,activeBorderColor:n.colorError,inputColor:n.colorErrorText,affixColor:n.colorError})),hL(n,{status:"warning",bg:n.colorWarningBg,hoverBg:n.colorWarningBgHover,activeBorderColor:n.colorWarning,inputColor:n.colorWarningText,affixColor:n.colorWarning})),e)}),pL=(n,e)=>({[`&${n.componentCls}-group-wrapper-status-${e.status}`]:{[`${n.componentCls}-group-addon`]:{background:e.addonBg,color:e.addonColor}}}),NQ=n=>({"&-filled":Object.assign(Object.assign(Object.assign({[`${n.componentCls}-group`]:{"&-addon":{background:n.colorFillTertiary},[`${n.componentCls}-filled:not(:focus):not(:focus-within)`]:{"&:not(:first-child)":{borderInlineStart:`${Mt(n.lineWidth)} ${n.lineType} ${n.colorSplit}`},"&:not(:last-child)":{borderInlineEnd:`${Mt(n.lineWidth)} ${n.lineType} ${n.colorSplit}`}}}},pL(n,{status:"error",addonBg:n.colorErrorBg,addonColor:n.colorErrorText})),pL(n,{status:"warning",addonBg:n.colorWarningBg,addonColor:n.colorWarningText})),{[`&${n.componentCls}-group-wrapper-disabled`]:{[`${n.componentCls}-group`]:{"&-addon":{background:n.colorFillTertiary,color:n.colorTextDisabled},"&-addon:first-child":{borderInlineStart:`${Mt(n.lineWidth)} ${n.lineType} ${n.colorBorder}`,borderTop:`${Mt(n.lineWidth)} ${n.lineType} ${n.colorBorder}`,borderBottom:`${Mt(n.lineWidth)} ${n.lineType} ${n.colorBorder}`},"&-addon:last-child":{borderInlineEnd:`${Mt(n.lineWidth)} ${n.lineType} ${n.colorBorder}`,borderTop:`${Mt(n.lineWidth)} ${n.lineType} ${n.colorBorder}`,borderBottom:`${Mt(n.lineWidth)} ${n.lineType} ${n.colorBorder}`}}}})}),Q4=(n,e)=>({background:n.colorBgContainer,borderWidth:`${Mt(n.lineWidth)} 0`,borderStyle:`${n.lineType} none`,borderColor:`transparent transparent ${e.borderColor} transparent`,borderRadius:0,"&:hover":{borderColor:`transparent transparent ${e.borderColor} transparent`,backgroundColor:n.hoverBg},"&:focus, &:focus-within":{borderColor:`transparent transparent ${e.borderColor} transparent`,outline:0,backgroundColor:n.activeBg}}),mL=(n,e)=>({[`&${n.componentCls}-status-${e.status}:not(${n.componentCls}-disabled)`]:Object.assign(Object.assign({},Q4(n,e)),{[`${n.componentCls}-prefix, ${n.componentCls}-suffix`]:{color:e.affixColor}}),[`&${n.componentCls}-status-${e.status}${n.componentCls}-disabled`]:{borderColor:`transparent transparent ${e.borderColor} transparent`}}),zQ=(n,e)=>({"&-underlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Q4(n,{borderColor:n.colorBorder,hoverBorderColor:n.hoverBorderColor,activeBorderColor:n.activeBorderColor,activeShadow:n.activeShadow})),{[`&${n.componentCls}-disabled, &[disabled]`]:{color:n.colorTextDisabled,boxShadow:"none",cursor:"not-allowed","&:hover":{borderColor:`transparent transparent ${n.colorBorder} transparent`}},"input[disabled], textarea[disabled]":{cursor:"not-allowed"}}),mL(n,{status:"error",borderColor:n.colorError,hoverBorderColor:n.colorErrorBorderHover,activeBorderColor:n.colorError,activeShadow:n.errorActiveShadow,affixColor:n.colorError})),mL(n,{status:"warning",borderColor:n.colorWarning,hoverBorderColor:n.colorWarningBorderHover,activeBorderColor:n.colorWarning,activeShadow:n.warningActiveShadow,affixColor:n.colorWarning})),e)}),UQ=n=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:n,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),Z4=n=>{const{paddingBlockLG:e,lineHeightLG:t,borderRadiusLG:r,paddingInlineLG:a}=n;return{padding:`${Mt(e)} ${Mt(a)}`,fontSize:n.inputFontSizeLG,lineHeight:t,borderRadius:r}},eH=n=>({padding:`${Mt(n.paddingBlockSM)} ${Mt(n.paddingInlineSM)}`,fontSize:n.inputFontSizeSM,borderRadius:n.borderRadiusSM}),tH=n=>Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${Mt(n.paddingBlock)} ${Mt(n.paddingInline)}`,color:n.colorText,fontSize:n.inputFontSize,lineHeight:n.lineHeight,borderRadius:n.borderRadius,transition:`all ${n.motionDurationMid}`},UQ(n.colorTextPlaceholder)),{"textarea&":{maxWidth:"100%",height:"auto",minHeight:n.controlHeight,lineHeight:n.lineHeight,verticalAlign:"bottom",transition:`all ${n.motionDurationSlow}, height 0s`,resize:"vertical"},"&-lg":Object.assign({},Z4(n)),"&-sm":Object.assign({},eH(n)),"&-rtl, &-textarea-rtl":{direction:"rtl"}}),FQ=n=>{const{componentCls:e,antCls:t}=n;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:n.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${e}, &-lg > ${e}-group-addon`]:Object.assign({},Z4(n)),[`&-sm ${e}, &-sm > ${e}-group-addon`]:Object.assign({},eH(n)),[`&-lg ${t}-select-single ${t}-select-selector`]:{height:n.controlHeightLG},[`&-sm ${t}-select-single ${t}-select-selector`]:{height:n.controlHeightSM},[`> ${e}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${e}-group`]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${Mt(n.paddingInline)}`,color:n.colorText,fontWeight:"normal",fontSize:n.inputFontSize,textAlign:"center",borderRadius:n.borderRadius,transition:`all ${n.motionDurationSlow}`,lineHeight:1,[`${t}-select`]:{margin:`${Mt(n.calc(n.paddingBlock).add(1).mul(-1).equal())} ${Mt(n.calc(n.paddingInline).mul(-1).equal())}`,[`&${t}-select-single:not(${t}-select-customize-input):not(${t}-pagination-size-changer)`]:{[`${t}-select-selector`]:{backgroundColor:"inherit",border:`${Mt(n.lineWidth)} ${n.lineType} transparent`,boxShadow:"none"}}},[`${t}-cascader-picker`]:{margin:`-9px ${Mt(n.calc(n.paddingInline).mul(-1).equal())}`,backgroundColor:"transparent",[`${t}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}}},[e]:{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,[`${e}-search-with-button &`]:{zIndex:0}}},[`> ${e}:first-child, ${e}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${t}-select ${t}-select-selector`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${e}-affix-wrapper`]:{[`&:not(:first-child) ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${e}:last-child, ${e}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${t}-select ${t}-select-selector`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${e}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,[`${e}-search &`]:{borderStartStartRadius:n.borderRadius,borderEndStartRadius:n.borderRadius}},[`&:not(:first-child), ${e}-search &:not(:first-child)`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&${e}-group-compact`]:Object.assign(Object.assign({display:"block"},l0()),{[`${e}-group-addon, ${e}-group-wrap, > ${e}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:n.lineWidth,"&:hover, &:focus":{zIndex:1}}},"& > *":{display:"inline-flex",float:"none",verticalAlign:"top",borderRadius:0},[`
        & > ${e}-affix-wrapper,
        & > ${e}-number-affix-wrapper,
        & > ${t}-picker-range
      `]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:n.calc(n.lineWidth).mul(-1).equal(),borderInlineEndWidth:n.lineWidth},[e]:{float:"none"},[`& > ${t}-select > ${t}-select-selector,
      & > ${t}-select-auto-complete ${e},
      & > ${t}-cascader-picker ${e},
      & > ${e}-group-wrapper ${e}`]:{borderInlineEndWidth:n.lineWidth,borderRadius:0,"&:hover, &:focus":{zIndex:1}},[`& > ${t}-select-focused`]:{zIndex:1},[`& > ${t}-select > ${t}-select-arrow`]:{zIndex:1},[`& > *:first-child,
      & > ${t}-select:first-child > ${t}-select-selector,
      & > ${t}-select-auto-complete:first-child ${e},
      & > ${t}-cascader-picker:first-child ${e}`]:{borderStartStartRadius:n.borderRadius,borderEndStartRadius:n.borderRadius},[`& > *:last-child,
      & > ${t}-select:last-child > ${t}-select-selector,
      & > ${t}-cascader-picker:last-child ${e},
      & > ${t}-cascader-picker-focused:last-child ${e}`]:{borderInlineEndWidth:n.lineWidth,borderStartEndRadius:n.borderRadius,borderEndEndRadius:n.borderRadius},[`& > ${t}-select-auto-complete ${e}`]:{verticalAlign:"top"},[`${e}-group-wrapper + ${e}-group-wrapper`]:{marginInlineStart:n.calc(n.lineWidth).mul(-1).equal(),[`${e}-affix-wrapper`]:{borderRadius:0}},[`${e}-group-wrapper:not(:last-child)`]:{[`&${e}-search > ${e}-group`]:{[`& > ${e}-group-addon > ${e}-search-button`]:{borderRadius:0},[`& > ${e}`]:{borderStartStartRadius:n.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:n.borderRadius}}}})}},HQ=n=>{const{componentCls:e,controlHeightSM:t,lineWidth:r,calc:a}=n,l=a(t).sub(a(r).mul(2)).sub(16).div(2).equal();return{[e]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Uo(n)),tH(n)),BQ(n)),LQ(n)),PQ(n)),zQ(n)),{'&[type="color"]':{height:n.controlHeight,[`&${e}-lg`]:{height:n.controlHeightLG},[`&${e}-sm`]:{height:t,paddingTop:l,paddingBottom:l}},'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{"-webkit-appearance":"none"}})}},GQ=n=>{const{componentCls:e}=n;return{[`${e}-clear-icon`]:{margin:0,padding:0,lineHeight:0,color:n.colorTextQuaternary,fontSize:n.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${n.motionDurationSlow}`,border:"none",outline:"none",backgroundColor:"transparent","&:hover":{color:n.colorTextTertiary},"&:active":{color:n.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${Mt(n.inputAffixPadding)}`}}}},kQ=n=>{const{componentCls:e,inputAffixPadding:t,colorTextDescription:r,motionDurationSlow:a,colorIcon:o,colorIconHover:l,iconCls:s}=n,u=`${e}-affix-wrapper`,f=`${e}-affix-wrapper-disabled`;return{[u]:Object.assign(Object.assign(Object.assign(Object.assign({},tH(n)),{display:"inline-flex",[`&:not(${e}-disabled):hover`]:{zIndex:1,[`${e}-search-with-button &`]:{zIndex:0}},"&-focused, &:focus":{zIndex:1},[`> input${e}`]:{padding:0},[`> input${e}, > textarea${e}`]:{fontSize:"inherit",border:"none",borderRadius:0,outline:"none",background:"transparent",color:"inherit","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[e]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:n.paddingXS}},"&-show-count-suffix":{color:r},"&-show-count-has-suffix":{marginInlineEnd:n.paddingXXS},"&-prefix":{marginInlineEnd:t},"&-suffix":{marginInlineStart:t}}}),GQ(n)),{[`${s}${e}-password-icon`]:{color:o,cursor:"pointer",transition:`all ${a}`,"&:hover":{color:l}}}),[`${e}-underlined`]:{borderRadius:0},[f]:{[`${s}${e}-password-icon`]:{color:o,cursor:"not-allowed","&:hover":{color:o}}}}},$Q=n=>{const{componentCls:e,borderRadiusLG:t,borderRadiusSM:r}=n;return{[`${e}-group`]:Object.assign(Object.assign(Object.assign({},Uo(n)),FQ(n)),{"&-rtl":{direction:"rtl"},"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${e}-group-addon`]:{borderRadius:t,fontSize:n.inputFontSizeLG}},"&-sm":{[`${e}-group-addon`]:{borderRadius:r}}},DQ(n)),NQ(n)),{[`&:not(${e}-compact-first-item):not(${e}-compact-last-item)${e}-compact-item`]:{[`${e}, ${e}-group-addon`]:{borderRadius:0}},[`&:not(${e}-compact-last-item)${e}-compact-first-item`]:{[`${e}, ${e}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${e}-compact-first-item)${e}-compact-last-item`]:{[`${e}, ${e}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&:not(${e}-compact-last-item)${e}-compact-item`]:{[`${e}-affix-wrapper`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${e}-compact-first-item)${e}-compact-item`]:{[`${e}-affix-wrapper`]:{borderStartStartRadius:0,borderEndStartRadius:0}}})})}},VQ=n=>{const{componentCls:e,antCls:t}=n,r=`${e}-search`;return{[r]:{[e]:{"&:hover, &:focus":{[`+ ${e}-group-addon ${r}-button:not(${t}-btn-primary)`]:{borderInlineStartColor:n.colorPrimaryHover}}},[`${e}-affix-wrapper`]:{height:n.controlHeight,borderRadius:0},[`${e}-lg`]:{lineHeight:n.calc(n.lineHeightLG).sub(2e-4).equal()},[`> ${e}-group`]:{[`> ${e}-group-addon:last-child`]:{insetInlineStart:-1,padding:0,border:0,[`${r}-button`]:{marginInlineEnd:-1,borderStartStartRadius:0,borderEndStartRadius:0,boxShadow:"none"},[`${r}-button:not(${t}-btn-primary)`]:{color:n.colorTextDescription,"&:hover":{color:n.colorPrimaryHover},"&:active":{color:n.colorPrimaryActive},[`&${t}-btn-loading::before`]:{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0}}}},[`${r}-button`]:{height:n.controlHeight,"&:hover, &:focus":{zIndex:1}},"&-large":{[`${e}-affix-wrapper, ${r}-button`]:{height:n.controlHeightLG}},"&-small":{[`${e}-affix-wrapper, ${r}-button`]:{height:n.controlHeightSM}},"&-rtl":{direction:"rtl"},[`&${e}-compact-item`]:{[`&:not(${e}-compact-last-item)`]:{[`${e}-group-addon`]:{[`${e}-search-button`]:{marginInlineEnd:n.calc(n.lineWidth).mul(-1).equal(),borderRadius:0}}},[`&:not(${e}-compact-first-item)`]:{[`${e},${e}-affix-wrapper`]:{borderRadius:0}},[`> ${e}-group-addon ${e}-search-button,
        > ${e},
        ${e}-affix-wrapper`]:{"&:hover, &:focus, &:active":{zIndex:2}},[`> ${e}-affix-wrapper-focused`]:{zIndex:2}}}}},jQ=n=>{const{componentCls:e}=n;return{[`${e}-out-of-range`]:{[`&, & input, & textarea, ${e}-show-count-suffix, ${e}-data-count`]:{color:n.colorError}}}},nH=Nr(["Input","Shared"],n=>{const e=qi(n,Tw(n));return[HQ(e),kQ(e)]},Rw,{resetFont:!1}),iH=Nr(["Input","Component"],n=>{const e=qi(n,Tw(n));return[$Q(e),VQ(e),jQ(e),BF(e)]},Rw,{resetFont:!1});function WQ(n,e,t){var r=t||{},a=r.noTrailing,o=a===void 0?!1:a,l=r.noLeading,s=l===void 0?!1:l,u=r.debounceMode,f=u===void 0?void 0:u,m,y=!1,_=0;function E(){m&&clearTimeout(m)}function c(g){var b=g||{},C=b.upcomingOnly,T=C===void 0?!1:C;E(),y=!T}function p(){for(var g=arguments.length,b=new Array(g),C=0;C<g;C++)b[C]=arguments[C];var T=this,M=Date.now()-_;if(y)return;function O(){_=Date.now(),e.apply(T,b)}function B(){m=void 0}!s&&f&&!m&&O(),E(),f===void 0&&M>n?s?(_=Date.now(),o||(m=setTimeout(f?B:O,n))):O():o!==!0&&(m=setTimeout(f?B:O,f===void 0?n-M:n))}return p.cancel=c,p}function XQ(n,e,t){var r={},a=r.atBegin,o=a===void 0?!1:a;return WQ(n,e,{debounceMode:o!==!1})}const rH=w.createContext({});var YQ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};function gL(n){return typeof n=="number"?`${n} ${n} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(n)?`0 0 ${n}`:n}const qQ=["xs","sm","md","lg","xl","xxl"],yr=w.forwardRef((n,e)=>{const{getPrefixCls:t,direction:r}=w.useContext(Hn),{gutter:a,wrap:o}=w.useContext(rH),{prefixCls:l,span:s,order:u,offset:f,push:m,pull:y,className:_,children:E,flex:c,style:p}=n,g=YQ(n,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),b=t("col",l),[C,T,M]=Yq(b),O={};let B={};qQ.forEach(U=>{let z={};const $=n[U];typeof $=="number"?z.span=$:typeof $=="object"&&(z=$||{}),delete g[U],B=Object.assign(Object.assign({},B),{[`${b}-${U}-${z.span}`]:z.span!==void 0,[`${b}-${U}-order-${z.order}`]:z.order||z.order===0,[`${b}-${U}-offset-${z.offset}`]:z.offset||z.offset===0,[`${b}-${U}-push-${z.push}`]:z.push||z.push===0,[`${b}-${U}-pull-${z.pull}`]:z.pull||z.pull===0,[`${b}-rtl`]:r==="rtl"}),z.flex&&(B[`${b}-${U}-flex`]=!0,O[`--${b}-${U}-flex`]=gL(z.flex))});const P=Je(b,{[`${b}-${s}`]:s!==void 0,[`${b}-order-${u}`]:u,[`${b}-offset-${f}`]:f,[`${b}-push-${m}`]:m,[`${b}-pull-${y}`]:y},_,B,T,M),F={};if(a&&a[0]>0){const U=a[0]/2;F.paddingLeft=U,F.paddingRight=U}return c&&(F.flex=gL(c),o===!1&&!F.minWidth&&(F.minWidth=0)),C(w.createElement("div",Object.assign({},g,{style:Object.assign(Object.assign(Object.assign({},F),p),O),className:P,ref:e}),E))});function KQ(n,e){const t=[void 0,void 0],r=Array.isArray(n)?n:[n,void 0],a=e||{xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0};return r.forEach((o,l)=>{if(typeof o=="object"&&o!==null)for(let s=0;s<u0.length;s++){const u=u0[s];if(a[u]&&o[u]!==void 0){t[l]=o[u];break}}else t[l]=o}),t}var JQ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};function vL(n,e){const[t,r]=w.useState(typeof n=="string"?n:""),a=()=>{if(typeof n=="string"&&r(n),typeof n=="object")for(let o=0;o<u0.length;o++){const l=u0[o];if(!e||!e[l])continue;const s=n[l];if(s!==void 0){r(s);return}}};return w.useEffect(()=>{a()},[JSON.stringify(n),e]),t}const Vu=w.forwardRef((n,e)=>{const{prefixCls:t,justify:r,align:a,className:o,style:l,children:s,gutter:u=0,wrap:f}=n,m=JQ(n,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:y,direction:_}=w.useContext(Hn),E=m4(!0,null),c=vL(a,E),p=vL(r,E),g=y("row",t),[b,C,T]=Xq(g),M=KQ(u,E),O=Je(g,{[`${g}-no-wrap`]:f===!1,[`${g}-${p}`]:p,[`${g}-${c}`]:c,[`${g}-rtl`]:_==="rtl"},o,C,T),B={},P=M[0]!=null&&M[0]>0?M[0]/-2:void 0;P&&(B.marginLeft=P,B.marginRight=P);const[F,U]=M;B.rowGap=U;const z=w.useMemo(()=>({gutter:[F,U],wrap:f}),[F,U,f]);return b(w.createElement(rH.Provider,{value:z},w.createElement("div",Object.assign({},m,{className:O,style:Object.assign(Object.assign({},B),l),ref:e}),s)))});function QQ(n){return!!(n.addonBefore||n.addonAfter)}function ZQ(n){return!!(n.prefix||n.suffix||n.allowClear)}function yL(n,e,t){var r=e.cloneNode(!0),a=Object.create(n,{target:{value:r},currentTarget:{value:r}});return r.value=t,typeof e.selectionStart=="number"&&typeof e.selectionEnd=="number"&&(r.selectionStart=e.selectionStart,r.selectionEnd=e.selectionEnd),r.setSelectionRange=function(){e.setSelectionRange.apply(e,arguments)},a}function k1(n,e,t,r){if(t){var a=e;if(e.type==="click"){a=yL(e,n,""),t(a);return}if(n.type!=="file"&&r!==void 0){a=yL(e,n,r),t(a);return}t(a)}}function aH(n,e){if(n){n.focus(e);var t=e||{},r=t.cursor;if(r){var a=n.value.length;switch(r){case"start":n.setSelectionRange(0,0);break;case"end":n.setSelectionRange(a,a);break;default:n.setSelectionRange(0,a)}}}}var oH=Xe.forwardRef(function(n,e){var t,r,a,o=n.inputElement,l=n.children,s=n.prefixCls,u=n.prefix,f=n.suffix,m=n.addonBefore,y=n.addonAfter,_=n.className,E=n.style,c=n.disabled,p=n.readOnly,g=n.focused,b=n.triggerFocus,C=n.allowClear,T=n.value,M=n.handleReset,O=n.hidden,B=n.classes,P=n.classNames,F=n.dataAttrs,U=n.styles,z=n.components,$=n.onClear,J=l??o,W=(z==null?void 0:z.affixWrapper)||"span",Q=(z==null?void 0:z.groupWrapper)||"span",ae=(z==null?void 0:z.wrapper)||"span",Y=(z==null?void 0:z.groupAddon)||"span",K=w.useRef(null),ee=function(Fe){var Ie;(Ie=K.current)!==null&&Ie!==void 0&&Ie.contains(Fe.target)&&(b==null||b())},de=ZQ(n),q=w.cloneElement(J,{value:T,className:Je((t=J.props)===null||t===void 0?void 0:t.className,!de&&(P==null?void 0:P.variant))||null}),ie=w.useRef(null);if(Xe.useImperativeHandle(e,function(){return{nativeElement:ie.current||K.current}}),de){var he=null;if(C){var fe=!c&&!p&&T,Z="".concat(s,"-clear-icon"),pe=mn(C)==="object"&&C!==null&&C!==void 0&&C.clearIcon?C.clearIcon:"";he=Xe.createElement("button",{type:"button",tabIndex:-1,onClick:function(Fe){M==null||M(Fe),$==null||$()},onMouseDown:function(Fe){return Fe.preventDefault()},className:Je(Z,ue(ue({},"".concat(Z,"-hidden"),!fe),"".concat(Z,"-has-suffix"),!!f))},pe)}var _e="".concat(s,"-affix-wrapper"),Oe=Je(_e,ue(ue(ue(ue(ue({},"".concat(s,"-disabled"),c),"".concat(_e,"-disabled"),c),"".concat(_e,"-focused"),g),"".concat(_e,"-readonly"),p),"".concat(_e,"-input-with-clear-btn"),f&&C&&T),B==null?void 0:B.affixWrapper,P==null?void 0:P.affixWrapper,P==null?void 0:P.variant),we=(f||C)&&Xe.createElement("span",{className:Je("".concat(s,"-suffix"),P==null?void 0:P.suffix),style:U==null?void 0:U.suffix},he,f);q=Xe.createElement(W,Pt({className:Oe,style:U==null?void 0:U.affixWrapper,onClick:ee},F==null?void 0:F.affixWrapper,{ref:K}),u&&Xe.createElement("span",{className:Je("".concat(s,"-prefix"),P==null?void 0:P.prefix),style:U==null?void 0:U.prefix},u),q,we)}if(QQ(n)){var Te="".concat(s,"-group"),ze="".concat(Te,"-addon"),yt="".concat(Te,"-wrapper"),Be=Je("".concat(s,"-wrapper"),Te,B==null?void 0:B.wrapper,P==null?void 0:P.wrapper),xe=Je(yt,ue({},"".concat(yt,"-disabled"),c),B==null?void 0:B.group,P==null?void 0:P.groupWrapper);q=Xe.createElement(Q,{className:xe,ref:ie},Xe.createElement(ae,{className:Be},m&&Xe.createElement(Y,{className:ze},m),q,y&&Xe.createElement(Y,{className:ze},y)))}return Xe.cloneElement(q,{className:Je((r=q.props)===null||r===void 0?void 0:r.className,_)||null,style:Ne(Ne({},(a=q.props)===null||a===void 0?void 0:a.style),E),hidden:O})}),eZ=["show"];function sH(n,e){return w.useMemo(function(){var t={};e&&(t.show=mn(e)==="object"&&e.formatter?e.formatter:!!e),t=Ne(Ne({},t),n);var r=t,a=r.show,o=kn(r,eZ);return Ne(Ne({},o),{},{show:!!a,showFormatter:typeof a=="function"?a:void 0,strategy:o.strategy||function(l){return l.length}})},[n,e])}var tZ=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","onKeyUp","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"],nZ=w.forwardRef(function(n,e){var t=n.autoComplete,r=n.onChange,a=n.onFocus,o=n.onBlur,l=n.onPressEnter,s=n.onKeyDown,u=n.onKeyUp,f=n.prefixCls,m=f===void 0?"rc-input":f,y=n.disabled,_=n.htmlSize,E=n.className,c=n.maxLength,p=n.suffix,g=n.showCount,b=n.count,C=n.type,T=C===void 0?"text":C,M=n.classes,O=n.classNames,B=n.styles,P=n.onCompositionStart,F=n.onCompositionEnd,U=kn(n,tZ),z=w.useState(!1),$=vt(z,2),J=$[0],W=$[1],Q=w.useRef(!1),ae=w.useRef(!1),Y=w.useRef(null),K=w.useRef(null),ee=function(De){Y.current&&aH(Y.current,De)},de=mo(n.defaultValue,{value:n.value}),q=vt(de,2),ie=q[0],he=q[1],fe=ie==null?"":String(ie),Z=w.useState(null),pe=vt(Z,2),_e=pe[0],Oe=pe[1],we=sH(b,g),Te=we.max||c,ze=we.strategy(fe),yt=!!Te&&ze>Te;w.useImperativeHandle(e,function(){var Ee;return{focus:ee,blur:function(){var Ke;(Ke=Y.current)===null||Ke===void 0||Ke.blur()},setSelectionRange:function(Ke,He,gt){var lt;(lt=Y.current)===null||lt===void 0||lt.setSelectionRange(Ke,He,gt)},select:function(){var Ke;(Ke=Y.current)===null||Ke===void 0||Ke.select()},input:Y.current,nativeElement:((Ee=K.current)===null||Ee===void 0?void 0:Ee.nativeElement)||Y.current}}),w.useEffect(function(){ae.current&&(ae.current=!1),W(function(Ee){return Ee&&y?!1:Ee})},[y]);var Be=function(De,Ke,He){var gt=Ke;if(!Q.current&&we.exceedFormatter&&we.max&&we.strategy(Ke)>we.max){if(gt=we.exceedFormatter(Ke,{max:we.max}),Ke!==gt){var lt,pt;Oe([((lt=Y.current)===null||lt===void 0?void 0:lt.selectionStart)||0,((pt=Y.current)===null||pt===void 0?void 0:pt.selectionEnd)||0])}}else if(He.source==="compositionEnd")return;he(gt),Y.current&&k1(Y.current,De,r,gt)};w.useEffect(function(){if(_e){var Ee;(Ee=Y.current)===null||Ee===void 0||Ee.setSelectionRange.apply(Ee,Kt(_e))}},[_e]);var xe=function(De){Be(De,De.target.value,{source:"change"})},re=function(De){Q.current=!1,Be(De,De.currentTarget.value,{source:"compositionEnd"}),F==null||F(De)},Fe=function(De){l&&De.key==="Enter"&&!ae.current&&(ae.current=!0,l(De)),s==null||s(De)},Ie=function(De){De.key==="Enter"&&(ae.current=!1),u==null||u(De)},qe=function(De){W(!0),a==null||a(De)},$e=function(De){ae.current&&(ae.current=!1),W(!1),o==null||o(De)},ct=function(De){he(""),ee(),Y.current&&k1(Y.current,De,r)},st=yt&&"".concat(m,"-out-of-range"),ce=function(){var De=yo(n,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames","onClear"]);return Xe.createElement("input",Pt({autoComplete:t},De,{onChange:xe,onFocus:qe,onBlur:$e,onKeyDown:Fe,onKeyUp:Ie,className:Je(m,ue({},"".concat(m,"-disabled"),y),O==null?void 0:O.input),style:B==null?void 0:B.input,ref:Y,size:_,type:T,onCompositionStart:function(He){Q.current=!0,P==null||P(He)},onCompositionEnd:re}))},oe=function(){var De=Number(Te)>0;if(p||we.show){var Ke=we.showFormatter?we.showFormatter({value:fe,count:ze,maxLength:Te}):"".concat(ze).concat(De?" / ".concat(Te):"");return Xe.createElement(Xe.Fragment,null,we.show&&Xe.createElement("span",{className:Je("".concat(m,"-show-count-suffix"),ue({},"".concat(m,"-show-count-has-suffix"),!!p),O==null?void 0:O.count),style:Ne({},B==null?void 0:B.count)},Ke),p)}return null};return Xe.createElement(oH,Pt({},U,{prefixCls:m,className:Je(E,st),handleReset:ct,value:fe,focused:J,triggerFocus:ee,suffix:oe(),disabled:y,classes:M,classNames:O,styles:B}),ce())});const lH=n=>{let e;return typeof n=="object"&&(n!=null&&n.clearIcon)?e=n:n&&(e={clearIcon:Xe.createElement(ew,null)}),e};function cH(n,e){const t=w.useRef([]),r=()=>{t.current.push(setTimeout(()=>{var a,o,l,s;!((a=n.current)===null||a===void 0)&&a.input&&((o=n.current)===null||o===void 0?void 0:o.input.getAttribute("type"))==="password"&&(!((l=n.current)===null||l===void 0)&&l.input.hasAttribute("value"))&&((s=n.current)===null||s===void 0||s.input.removeAttribute("value"))}))};return w.useEffect(()=>(e&&r(),()=>t.current.forEach(a=>{a&&clearTimeout(a)})),[]),r}function iZ(n){return!!(n.prefix||n.suffix||n.allowClear||n.showCount)}var rZ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const Ow=w.forwardRef((n,e)=>{const{prefixCls:t,bordered:r=!0,status:a,size:o,disabled:l,onBlur:s,onFocus:u,suffix:f,allowClear:m,addonAfter:y,addonBefore:_,className:E,style:c,styles:p,rootClassName:g,onChange:b,classNames:C,variant:T}=n,M=rZ(n,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames","variant"]),{getPrefixCls:O,direction:B,allowClear:P,autoComplete:F,className:U,style:z,classNames:$,styles:J}=nd("input"),W=O("input",t),Q=w.useRef(null),ae=ol(W),[Y,K,ee]=nH(W,g),[de]=iH(W,ae),{compactSize:q,compactItemClassnames:ie}=hw(W,B),he=Sf($e=>{var ct;return(ct=o??q)!==null&&ct!==void 0?ct:$e}),fe=Xe.useContext(Ku),Z=l??fe,{status:pe,hasFeedback:_e,feedbackIcon:Oe}=w.useContext(hf),we=GO(pe,a),Te=iZ(n)||!!_e;w.useRef(Te);const ze=cH(Q,!0),yt=$e=>{ze(),s==null||s($e)},Be=$e=>{ze(),u==null||u($e)},xe=$e=>{ze(),b==null||b($e)},re=(_e||f)&&Xe.createElement(Xe.Fragment,null,f,_e&&Oe),Fe=lH(m??P),[Ie,qe]=h4("input",T,r);return Y(de(Xe.createElement(nZ,Object.assign({ref:yf(e,Q),prefixCls:W,autoComplete:F},M,{disabled:Z,onBlur:yt,onFocus:Be,style:Object.assign(Object.assign({},z),c),styles:Object.assign(Object.assign({},J),p),suffix:re,allowClear:Fe,className:Je(E,g,ee,ae,ie,U),onChange:xe,addonBefore:_&&Xe.createElement(L1,{form:!0,space:!0},_),addonAfter:y&&Xe.createElement(L1,{form:!0,space:!0},y),classNames:Object.assign(Object.assign(Object.assign({},C),$),{input:Je({[`${W}-sm`]:he==="small",[`${W}-lg`]:he==="large",[`${W}-rtl`]:B==="rtl"},C==null?void 0:C.input,$.input,K),variant:Je({[`${W}-${Ie}`]:qe},c2(W,we)),affixWrapper:Je({[`${W}-affix-wrapper-sm`]:he==="small",[`${W}-affix-wrapper-lg`]:he==="large",[`${W}-affix-wrapper-rtl`]:B==="rtl"},K),wrapper:Je({[`${W}-group-rtl`]:B==="rtl"},K),groupWrapper:Je({[`${W}-group-wrapper-sm`]:he==="small",[`${W}-group-wrapper-lg`]:he==="large",[`${W}-group-wrapper-rtl`]:B==="rtl",[`${W}-group-wrapper-${Ie}`]:qe},c2(`${W}-group-wrapper`,we,_e),K)})}))))});function bL(n){return["small","middle","large"].includes(n)}function SL(n){return n?typeof n=="number"&&!Number.isNaN(n):!1}const uH=Xe.createContext({latestIndex:0}),aZ=uH.Provider,oZ=n=>{let{className:e,index:t,children:r,split:a,style:o}=n;const{latestIndex:l}=w.useContext(uH);return r==null?null:w.createElement(w.Fragment,null,w.createElement("div",{className:e,style:o},r),t<l&&a&&w.createElement("span",{className:`${e}-split`},a))};var sZ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const lZ=w.forwardRef((n,e)=>{var t;const{getPrefixCls:r,direction:a,size:o,className:l,style:s,classNames:u,styles:f}=nd("space"),{size:m=o??"small",align:y,className:_,rootClassName:E,children:c,direction:p="horizontal",prefixCls:g,split:b,style:C,wrap:T=!1,classNames:M,styles:O}=n,B=sZ(n,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[P,F]=Array.isArray(m)?m:[m,m],U=bL(F),z=bL(P),$=SL(F),J=SL(P),W=qu(c,{keepEmpty:!0}),Q=y===void 0&&p==="horizontal"?"center":y,ae=r("space",g),[Y,K,ee]=EF(ae),de=Je(ae,l,K,`${ae}-${p}`,{[`${ae}-rtl`]:a==="rtl",[`${ae}-align-${Q}`]:Q,[`${ae}-gap-row-${F}`]:U,[`${ae}-gap-col-${P}`]:z},_,E,ee),q=Je(`${ae}-item`,(t=M==null?void 0:M.item)!==null&&t!==void 0?t:u.item);let ie=0;const he=W.map((pe,_e)=>{var Oe;pe!=null&&(ie=_e);const we=(pe==null?void 0:pe.key)||`${q}-${_e}`;return w.createElement(oZ,{className:q,key:we,index:_e,split:b,style:(Oe=O==null?void 0:O.item)!==null&&Oe!==void 0?Oe:f.item},pe)}),fe=w.useMemo(()=>({latestIndex:ie}),[ie]);if(W.length===0)return null;const Z={};return T&&(Z.flexWrap="wrap"),!z&&J&&(Z.columnGap=P),!U&&$&&(Z.rowGap=F),Y(w.createElement("div",Object.assign({ref:e,className:de,style:Object.assign(Object.assign(Object.assign({},Z),s),C)},B),w.createElement(aZ,{value:fe},he)))}),dH=lZ;dH.Compact=WW;function fH(){var n=document.documentElement.clientWidth,e=window.innerHeight||document.documentElement.clientHeight;return{width:n,height:e}}function cZ(n){var e=n.getBoundingClientRect(),t=document.documentElement;return{left:e.left+(window.pageXOffset||t.scrollLeft)-(t.clientLeft||document.body.clientLeft||0),top:e.top+(window.pageYOffset||t.scrollTop)-(t.clientTop||document.body.clientTop||0)}}function Bv(n,e,t,r){var a=Vb.unstable_batchedUpdates?function(l){Vb.unstable_batchedUpdates(t,l)}:t;return n!=null&&n.addEventListener&&n.addEventListener(e,a,r),{remove:function(){n!=null&&n.removeEventListener&&n.removeEventListener(e,a,r)}}}var IS=w.createContext(null),uZ=function(e){var t=e.visible,r=e.maskTransitionName,a=e.getContainer,o=e.prefixCls,l=e.rootClassName,s=e.icons,u=e.countRender,f=e.showSwitch,m=e.showProgress,y=e.current,_=e.transform,E=e.count,c=e.scale,p=e.minScale,g=e.maxScale,b=e.closeIcon,C=e.onActive,T=e.onClose,M=e.onZoomIn,O=e.onZoomOut,B=e.onRotateRight,P=e.onRotateLeft,F=e.onFlipX,U=e.onFlipY,z=e.onReset,$=e.toolbarRender,J=e.zIndex,W=e.image,Q=w.useContext(IS),ae=s.rotateLeft,Y=s.rotateRight,K=s.zoomIn,ee=s.zoomOut,de=s.close,q=s.left,ie=s.right,he=s.flipX,fe=s.flipY,Z="".concat(o,"-operations-operation");w.useEffect(function(){var Ie=function($e){$e.keyCode===to.ESC&&T()};return t&&window.addEventListener("keydown",Ie),function(){window.removeEventListener("keydown",Ie)}},[t]);var pe=function(qe,$e){qe.preventDefault(),qe.stopPropagation(),C($e)},_e=w.useCallback(function(Ie){var qe=Ie.type,$e=Ie.disabled,ct=Ie.onClick,st=Ie.icon;return w.createElement("div",{key:qe,className:Je(Z,"".concat(o,"-operations-operation-").concat(qe),ue({},"".concat(o,"-operations-operation-disabled"),!!$e)),onClick:ct},st)},[Z,o]),Oe=f?_e({icon:q,onClick:function(qe){return pe(qe,-1)},type:"prev",disabled:y===0}):void 0,we=f?_e({icon:ie,onClick:function(qe){return pe(qe,1)},type:"next",disabled:y===E-1}):void 0,Te=_e({icon:fe,onClick:U,type:"flipY"}),ze=_e({icon:he,onClick:F,type:"flipX"}),yt=_e({icon:ae,onClick:P,type:"rotateLeft"}),Be=_e({icon:Y,onClick:B,type:"rotateRight"}),xe=_e({icon:ee,onClick:O,type:"zoomOut",disabled:c<=p}),re=_e({icon:K,onClick:M,type:"zoomIn",disabled:c===g}),Fe=w.createElement("div",{className:"".concat(o,"-operations")},Te,ze,yt,Be,xe,re);return w.createElement($c,{visible:t,motionName:r},function(Ie){var qe=Ie.className,$e=Ie.style;return w.createElement(Sw,{open:!0,getContainer:a??document.body},w.createElement("div",{className:Je("".concat(o,"-operations-wrapper"),qe,l),style:Ne(Ne({},$e),{},{zIndex:J})},b===null?null:w.createElement("button",{className:"".concat(o,"-close"),onClick:T},b||de),f&&w.createElement(w.Fragment,null,w.createElement("div",{className:Je("".concat(o,"-switch-left"),ue({},"".concat(o,"-switch-left-disabled"),y===0)),onClick:function(st){return pe(st,-1)}},q),w.createElement("div",{className:Je("".concat(o,"-switch-right"),ue({},"".concat(o,"-switch-right-disabled"),y===E-1)),onClick:function(st){return pe(st,1)}},ie)),w.createElement("div",{className:"".concat(o,"-footer")},m&&w.createElement("div",{className:"".concat(o,"-progress")},u?u(y+1,E):"".concat(y+1," / ").concat(E)),$?$(Fe,Ne(Ne({icons:{prevIcon:Oe,nextIcon:we,flipYIcon:Te,flipXIcon:ze,rotateLeftIcon:yt,rotateRightIcon:Be,zoomOutIcon:xe,zoomInIcon:re},actions:{onActive:C,onFlipY:U,onFlipX:F,onRotateLeft:P,onRotateRight:B,onZoomOut:O,onZoomIn:M,onReset:z,onClose:T},transform:_},Q?{current:y,total:E}:{}),{},{image:W})):Fe)))})},yx={x:0,y:0,rotate:0,scale:1,flipX:!1,flipY:!1};function dZ(n,e,t,r){var a=w.useRef(null),o=w.useRef([]),l=w.useState(yx),s=vt(l,2),u=s[0],f=s[1],m=function(c){f(yx),n0(yx,u)||r==null||r({transform:yx,action:c})},y=function(c,p){a.current===null&&(o.current=[],a.current=Da(function(){f(function(g){var b=g;return o.current.forEach(function(C){b=Ne(Ne({},b),C)}),a.current=null,r==null||r({transform:b,action:p}),b})})),o.current.push(Ne(Ne({},u),c))},_=function(c,p,g,b,C){var T=n.current,M=T.width,O=T.height,B=T.offsetWidth,P=T.offsetHeight,F=T.offsetLeft,U=T.offsetTop,z=c,$=u.scale*c;$>t?($=t,z=t/u.scale):$<e&&($=C?$:e,z=$/u.scale);var J=g??innerWidth/2,W=b??innerHeight/2,Q=z-1,ae=Q*M*.5,Y=Q*O*.5,K=Q*(J-u.x-F),ee=Q*(W-u.y-U),de=u.x-(K-ae),q=u.y-(ee-Y);if(c<1&&$===1){var ie=B*$,he=P*$,fe=fH(),Z=fe.width,pe=fe.height;ie<=Z&&he<=pe&&(de=0,q=0)}y({x:de,y:q,scale:$},p)};return{transform:u,resetTransform:m,updateTransform:y,dispatchZoomChange:_}}function _L(n,e,t,r){var a=e+t,o=(t-r)/2;if(t>r){if(e>0)return ue({},n,o);if(e<0&&a<r)return ue({},n,-o)}else if(e<0||a>r)return ue({},n,e<0?o:-o);return{}}function hH(n,e,t,r){var a=fH(),o=a.width,l=a.height,s=null;return n<=o&&e<=l?s={x:0,y:0}:(n>o||e>l)&&(s=Ne(Ne({},_L("x",t,n,o)),_L("y",r,e,l))),s}var Dv=1,fZ=1;function hZ(n,e,t,r,a,o,l){var s=a.rotate,u=a.scale,f=a.x,m=a.y,y=w.useState(!1),_=vt(y,2),E=_[0],c=_[1],p=w.useRef({diffX:0,diffY:0,transformX:0,transformY:0}),g=function(O){!e||O.button!==0||(O.preventDefault(),O.stopPropagation(),p.current={diffX:O.pageX-f,diffY:O.pageY-m,transformX:f,transformY:m},c(!0))},b=function(O){t&&E&&o({x:O.pageX-p.current.diffX,y:O.pageY-p.current.diffY},"move")},C=function(){if(t&&E){c(!1);var O=p.current,B=O.transformX,P=O.transformY,F=f!==B&&m!==P;if(!F)return;var U=n.current.offsetWidth*u,z=n.current.offsetHeight*u,$=n.current.getBoundingClientRect(),J=$.left,W=$.top,Q=s%180!==0,ae=hH(Q?z:U,Q?U:z,J,W);ae&&o(Ne({},ae),"dragRebound")}},T=function(O){if(!(!t||O.deltaY==0)){var B=Math.abs(O.deltaY/100),P=Math.min(B,fZ),F=Dv+P*r;O.deltaY>0&&(F=Dv/F),l(F,"wheel",O.clientX,O.clientY)}};return w.useEffect(function(){var M,O,B,P;if(e){B=Bv(window,"mouseup",C,!1),P=Bv(window,"mousemove",b,!1);try{window.top!==window.self&&(M=Bv(window.top,"mouseup",C,!1),O=Bv(window.top,"mousemove",b,!1))}catch{}}return function(){var F,U,z,$;(F=B)===null||F===void 0||F.remove(),(U=P)===null||U===void 0||U.remove(),(z=M)===null||z===void 0||z.remove(),($=O)===null||$===void 0||$.remove()}},[t,E,f,m,s,e]),{isMoving:E,onMouseDown:g,onMouseMove:b,onMouseUp:C,onWheel:T}}function pZ(n){return new Promise(function(e){var t=document.createElement("img");t.onerror=function(){return e(!1)},t.onload=function(){return e(!0)},t.src=n})}function pH(n){var e=n.src,t=n.isCustomPlaceholder,r=n.fallback,a=w.useState(t?"loading":"normal"),o=vt(a,2),l=o[0],s=o[1],u=w.useRef(!1),f=l==="error";w.useEffect(function(){var E=!0;return pZ(e).then(function(c){!c&&E&&s("error")}),function(){E=!1}},[e]),w.useEffect(function(){t&&!u.current?s("loading"):f&&s("normal")},[e]);var m=function(){s("normal")},y=function(c){u.current=!1,l==="loading"&&c!==null&&c!==void 0&&c.complete&&(c.naturalWidth||c.naturalHeight)&&(u.current=!0,m())},_=f&&r?{src:r}:{onLoad:m,src:e};return[y,_,l]}function $1(n,e){var t=n.x-e.x,r=n.y-e.y;return Math.hypot(t,r)}function mZ(n,e,t,r){var a=$1(n,t),o=$1(e,r);if(a===0&&o===0)return[n.x,n.y];var l=a/(a+o),s=n.x+l*(e.x-n.x),u=n.y+l*(e.y-n.y);return[s,u]}function gZ(n,e,t,r,a,o,l){var s=a.rotate,u=a.scale,f=a.x,m=a.y,y=w.useState(!1),_=vt(y,2),E=_[0],c=_[1],p=w.useRef({point1:{x:0,y:0},point2:{x:0,y:0},eventType:"none"}),g=function(O){p.current=Ne(Ne({},p.current),O)},b=function(O){if(e){O.stopPropagation(),c(!0);var B=O.touches,P=B===void 0?[]:B;P.length>1?g({point1:{x:P[0].clientX,y:P[0].clientY},point2:{x:P[1].clientX,y:P[1].clientY},eventType:"touchZoom"}):g({point1:{x:P[0].clientX-f,y:P[0].clientY-m},eventType:"move"})}},C=function(O){var B=O.touches,P=B===void 0?[]:B,F=p.current,U=F.point1,z=F.point2,$=F.eventType;if(P.length>1&&$==="touchZoom"){var J={x:P[0].clientX,y:P[0].clientY},W={x:P[1].clientX,y:P[1].clientY},Q=mZ(U,z,J,W),ae=vt(Q,2),Y=ae[0],K=ae[1],ee=$1(J,W)/$1(U,z);l(ee,"touchZoom",Y,K,!0),g({point1:J,point2:W,eventType:"touchZoom"})}else $==="move"&&(o({x:P[0].clientX-U.x,y:P[0].clientY-U.y},"move"),g({eventType:"move"}))},T=function(){if(t){if(E&&c(!1),g({eventType:"none"}),r>u)return o({x:0,y:0,scale:r},"touchZoom");var O=n.current.offsetWidth*u,B=n.current.offsetHeight*u,P=n.current.getBoundingClientRect(),F=P.left,U=P.top,z=s%180!==0,$=hH(z?B:O,z?O:B,F,U);$&&o(Ne({},$),"dragRebound")}};return w.useEffect(function(){var M;return t&&e&&(M=Bv(window,"touchmove",function(O){return O.preventDefault()},{passive:!1})),function(){var O;(O=M)===null||O===void 0||O.remove()}},[t,e]),{isTouching:E,onTouchStart:b,onTouchMove:C,onTouchEnd:T}}var vZ=["fallback","src","imgRef"],yZ=["prefixCls","src","alt","imageInfo","fallback","movable","onClose","visible","icons","rootClassName","closeIcon","getContainer","current","count","countRender","scaleStep","minScale","maxScale","transitionName","maskTransitionName","imageRender","imgCommonProps","toolbarRender","onTransform","onChange"],bZ=function(e){var t=e.fallback,r=e.src,a=e.imgRef,o=kn(e,vZ),l=pH({src:r,fallback:t}),s=vt(l,2),u=s[0],f=s[1];return Xe.createElement("img",Pt({ref:function(y){a.current=y,u(y)}},o,f))},mH=function(e){var t=e.prefixCls,r=e.src,a=e.alt,o=e.imageInfo,l=e.fallback,s=e.movable,u=s===void 0?!0:s,f=e.onClose,m=e.visible,y=e.icons,_=y===void 0?{}:y,E=e.rootClassName,c=e.closeIcon,p=e.getContainer,g=e.current,b=g===void 0?0:g,C=e.count,T=C===void 0?1:C,M=e.countRender,O=e.scaleStep,B=O===void 0?.5:O,P=e.minScale,F=P===void 0?1:P,U=e.maxScale,z=U===void 0?50:U,$=e.transitionName,J=$===void 0?"zoom":$,W=e.maskTransitionName,Q=W===void 0?"fade":W,ae=e.imageRender,Y=e.imgCommonProps,K=e.toolbarRender,ee=e.onTransform,de=e.onChange,q=kn(e,yZ),ie=w.useRef(),he=w.useContext(IS),fe=he&&T>1,Z=he&&T>=1,pe=w.useState(!0),_e=vt(pe,2),Oe=_e[0],we=_e[1],Te=dZ(ie,F,z,ee),ze=Te.transform,yt=Te.resetTransform,Be=Te.updateTransform,xe=Te.dispatchZoomChange,re=hZ(ie,u,m,B,ze,Be,xe),Fe=re.isMoving,Ie=re.onMouseDown,qe=re.onWheel,$e=gZ(ie,u,m,F,ze,Be,xe),ct=$e.isTouching,st=$e.onTouchStart,ce=$e.onTouchMove,oe=$e.onTouchEnd,Ee=ze.rotate,De=ze.scale,Ke=Je(ue({},"".concat(t,"-moving"),Fe));w.useEffect(function(){Oe||we(!0)},[Oe]);var He=function(){yt("close")},gt=function(){xe(Dv+B,"zoomIn")},lt=function(){xe(Dv/(Dv+B),"zoomOut")},pt=function(){Be({rotate:Ee+90},"rotateRight")},It=function(){Be({rotate:Ee-90},"rotateLeft")},ot=function(){Be({flipX:!ze.flipX},"flipX")},_t=function(){Be({flipY:!ze.flipY},"flipY")},Ct=function(){yt("reset")},We=function(xt){var et=b+xt;!Number.isInteger(et)||et<0||et>T-1||(we(!1),yt(xt<0?"prev":"next"),de==null||de(et,b))},rt=function(xt){!m||!fe||(xt.keyCode===to.LEFT?We(-1):xt.keyCode===to.RIGHT&&We(1))},Se=function(xt){m&&(De!==1?Be({x:0,y:0,scale:1},"doubleClick"):xe(Dv+B,"doubleClick",xt.clientX,xt.clientY))};w.useEffect(function(){var Ae=Bv(window,"keydown",rt,!1);return function(){Ae.remove()}},[m,fe,b]);var Ge=Xe.createElement(bZ,Pt({},Y,{width:e.width,height:e.height,imgRef:ie,className:"".concat(t,"-img"),alt:a,style:{transform:"translate3d(".concat(ze.x,"px, ").concat(ze.y,"px, 0) scale3d(").concat(ze.flipX?"-":"").concat(De,", ").concat(ze.flipY?"-":"").concat(De,", 1) rotate(").concat(Ee,"deg)"),transitionDuration:(!Oe||ct)&&"0s"},fallback:l,src:r,onWheel:qe,onMouseDown:Ie,onDoubleClick:Se,onTouchStart:st,onTouchMove:ce,onTouchEnd:oe,onTouchCancel:oe})),St=Ne({url:r,alt:a},o);return Xe.createElement(Xe.Fragment,null,Xe.createElement(FO,Pt({transitionName:J,maskTransitionName:Q,closable:!1,keyboard:!0,prefixCls:t,onClose:f,visible:m,classNames:{wrapper:Ke},rootClassName:E,getContainer:p},q,{afterClose:He}),Xe.createElement("div",{className:"".concat(t,"-img-wrapper")},ae?ae(Ge,Ne({transform:ze,image:St},he?{current:b}:{})):Ge)),Xe.createElement(uZ,{visible:m,transform:ze,maskTransitionName:Q,closeIcon:c,getContainer:p,prefixCls:t,rootClassName:E,icons:_,countRender:M,showSwitch:fe,showProgress:Z,current:b,count:T,scale:De,minScale:F,maxScale:z,toolbarRender:K,onActive:We,onZoomIn:gt,onZoomOut:lt,onRotateRight:pt,onRotateLeft:It,onFlipX:ot,onFlipY:_t,onClose:f,onReset:Ct,zIndex:q.zIndex!==void 0?q.zIndex+1:void 0,image:St}))},v2=["crossOrigin","decoding","draggable","loading","referrerPolicy","sizes","srcSet","useMap","alt"];function SZ(n){var e=w.useState({}),t=vt(e,2),r=t[0],a=t[1],o=w.useCallback(function(s,u){return a(function(f){return Ne(Ne({},f),{},ue({},s,u))}),function(){a(function(f){var m=Ne({},f);return delete m[s],m})}},[]),l=w.useMemo(function(){return n?n.map(function(s){if(typeof s=="string")return{data:{src:s}};var u={};return Object.keys(s).forEach(function(f){["src"].concat(Kt(v2)).includes(f)&&(u[f]=s[f])}),{data:u}}):Object.keys(r).reduce(function(s,u){var f=r[u],m=f.canPreview,y=f.data;return m&&s.push({data:y,id:u}),s},[])},[n,r]);return[l,o,!!n]}var _Z=["visible","onVisibleChange","getContainer","current","movable","minScale","maxScale","countRender","closeIcon","onChange","onTransform","toolbarRender","imageRender"],xZ=["src"],CZ=function(e){var t,r=e.previewPrefixCls,a=r===void 0?"rc-image-preview":r,o=e.children,l=e.icons,s=l===void 0?{}:l,u=e.items,f=e.preview,m=e.fallback,y=mn(f)==="object"?f:{},_=y.visible,E=y.onVisibleChange,c=y.getContainer,p=y.current,g=y.movable,b=y.minScale,C=y.maxScale,T=y.countRender,M=y.closeIcon,O=y.onChange,B=y.onTransform,P=y.toolbarRender,F=y.imageRender,U=kn(y,_Z),z=SZ(u),$=vt(z,3),J=$[0],W=$[1],Q=$[2],ae=mo(0,{value:p}),Y=vt(ae,2),K=Y[0],ee=Y[1],de=w.useState(!1),q=vt(de,2),ie=q[0],he=q[1],fe=((t=J[K])===null||t===void 0?void 0:t.data)||{},Z=fe.src,pe=kn(fe,xZ),_e=mo(!!_,{value:_,onChange:function(ct,st){E==null||E(ct,st,K)}}),Oe=vt(_e,2),we=Oe[0],Te=Oe[1],ze=w.useState(null),yt=vt(ze,2),Be=yt[0],xe=yt[1],re=w.useCallback(function($e,ct,st,ce){var oe=Q?J.findIndex(function(Ee){return Ee.data.src===ct}):J.findIndex(function(Ee){return Ee.id===$e});ee(oe<0?0:oe),Te(!0),xe({x:st,y:ce}),he(!0)},[J,Q]);w.useEffect(function(){we?ie||ee(0):he(!1)},[we]);var Fe=function(ct,st){ee(ct),O==null||O(ct,st)},Ie=function(){Te(!1),xe(null)},qe=w.useMemo(function(){return{register:W,onPreview:re}},[W,re]);return w.createElement(IS.Provider,{value:qe},o,w.createElement(mH,Pt({"aria-hidden":!we,movable:g,visible:we,prefixCls:a,closeIcon:M,onClose:Ie,mousePosition:Be,imgCommonProps:pe,src:Z,fallback:m,icons:s,minScale:b,maxScale:C,getContainer:c,current:K,count:J.length,countRender:T,onTransform:B,toolbarRender:P,imageRender:F,onChange:Fe},U)))},xL=0;function EZ(n,e){var t=w.useState(function(){return xL+=1,String(xL)}),r=vt(t,1),a=r[0],o=w.useContext(IS),l={data:e,canPreview:n};return w.useEffect(function(){if(o)return o.register(a,l)},[]),w.useEffect(function(){o&&o.register(a,l)},[n,e]),a}var wZ=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","rootClassName"],AZ=["src","visible","onVisibleChange","getContainer","mask","maskClassName","movable","icons","scaleStep","minScale","maxScale","imageRender","toolbarRender"],QO=function(e){var t=e.src,r=e.alt,a=e.onPreviewClose,o=e.prefixCls,l=o===void 0?"rc-image":o,s=e.previewPrefixCls,u=s===void 0?"".concat(l,"-preview"):s,f=e.placeholder,m=e.fallback,y=e.width,_=e.height,E=e.style,c=e.preview,p=c===void 0?!0:c,g=e.className,b=e.onClick,C=e.onError,T=e.wrapperClassName,M=e.wrapperStyle,O=e.rootClassName,B=kn(e,wZ),P=f&&f!==!0,F=mn(p)==="object"?p:{},U=F.src,z=F.visible,$=z===void 0?void 0:z,J=F.onVisibleChange,W=J===void 0?a:J,Q=F.getContainer,ae=Q===void 0?void 0:Q,Y=F.mask,K=F.maskClassName,ee=F.movable,de=F.icons,q=F.scaleStep,ie=F.minScale,he=F.maxScale,fe=F.imageRender,Z=F.toolbarRender,pe=kn(F,AZ),_e=U??t,Oe=mo(!!$,{value:$,onChange:W}),we=vt(Oe,2),Te=we[0],ze=we[1],yt=pH({src:t,isCustomPlaceholder:P,fallback:m}),Be=vt(yt,3),xe=Be[0],re=Be[1],Fe=Be[2],Ie=w.useState(null),qe=vt(Ie,2),$e=qe[0],ct=qe[1],st=w.useContext(IS),ce=!!p,oe=function(){ze(!1),ct(null)},Ee=Je(l,T,O,ue({},"".concat(l,"-error"),Fe==="error")),De=w.useMemo(function(){var lt={};return v2.forEach(function(pt){e[pt]!==void 0&&(lt[pt]=e[pt])}),lt},v2.map(function(lt){return e[lt]})),Ke=w.useMemo(function(){return Ne(Ne({},De),{},{src:_e})},[_e,De]),He=EZ(ce,Ke),gt=function(pt){var It=cZ(pt.target),ot=It.left,_t=It.top;st?st.onPreview(He,_e,ot,_t):(ct({x:ot,y:_t}),ze(!0)),b==null||b(pt)};return w.createElement(w.Fragment,null,w.createElement("div",Pt({},B,{className:Ee,onClick:ce?gt:b,style:Ne({width:y,height:_},M)}),w.createElement("img",Pt({},De,{className:Je("".concat(l,"-img"),ue({},"".concat(l,"-img-placeholder"),f===!0),g),style:Ne({height:_},E),ref:xe},re,{width:y,height:_,onError:C})),Fe==="loading"&&w.createElement("div",{"aria-hidden":"true",className:"".concat(l,"-placeholder")},f),Y&&ce&&w.createElement("div",{className:Je("".concat(l,"-mask"),K),style:{display:(E==null?void 0:E.display)==="none"?"none":void 0}},Y)),!st&&ce&&w.createElement(mH,Pt({"aria-hidden":!Te,visible:Te,prefixCls:u,onClose:oe,mousePosition:$e,src:_e,alt:r,imageInfo:{width:y,height:_},fallback:m,getContainer:ae,icons:de,movable:ee,scaleStep:q,minScale:ie,maxScale:he,rootClassName:O,imageRender:fe,imgCommonProps:De,toolbarRender:Z},pe)))};QO.PreviewGroup=CZ;const y2=n=>({position:n||"absolute",inset:0}),MZ=n=>{const{iconCls:e,motionDurationSlow:t,paddingXXS:r,marginXXS:a,prefixCls:o,colorTextLightSolid:l}=n;return{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:l,background:new Bi("#000").setA(.5).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${t}`,[`.${o}-mask-info`]:Object.assign(Object.assign({},sw),{padding:`0 ${Mt(r)}`,[e]:{marginInlineEnd:a,svg:{verticalAlign:"baseline"}}})}},TZ=n=>{const{previewCls:e,modalMaskBg:t,paddingSM:r,marginXL:a,margin:o,paddingLG:l,previewOperationColorDisabled:s,previewOperationHoverColor:u,motionDurationSlow:f,iconCls:m,colorTextLightSolid:y}=n,_=new Bi(t).setA(.1),E=_.clone().setA(.2);return{[`${e}-footer`]:{position:"fixed",bottom:a,left:{_skip_check_:!0,value:"50%"},display:"flex",flexDirection:"column",alignItems:"center",color:n.previewOperationColor,transform:"translateX(-50%)"},[`${e}-progress`]:{marginBottom:o},[`${e}-close`]:{position:"fixed",top:a,right:{_skip_check_:!0,value:a},display:"flex",color:y,backgroundColor:_.toRgbString(),borderRadius:"50%",padding:r,outline:0,border:0,cursor:"pointer",transition:`all ${f}`,"&:hover":{backgroundColor:E.toRgbString()},[`& > ${m}`]:{fontSize:n.previewOperationSize}},[`${e}-operations`]:{display:"flex",alignItems:"center",padding:`0 ${Mt(l)}`,backgroundColor:_.toRgbString(),borderRadius:100,"&-operation":{marginInlineStart:r,padding:r,cursor:"pointer",transition:`all ${f}`,userSelect:"none",[`&:not(${e}-operations-operation-disabled):hover > ${m}`]:{color:u},"&-disabled":{color:s,cursor:"not-allowed"},"&:first-of-type":{marginInlineStart:0},[`& > ${m}`]:{fontSize:n.previewOperationSize}}}}},RZ=n=>{const{modalMaskBg:e,iconCls:t,previewOperationColorDisabled:r,previewCls:a,zIndexPopup:o,motionDurationSlow:l}=n,s=new Bi(e).setA(.1),u=s.clone().setA(.2);return{[`${a}-switch-left, ${a}-switch-right`]:{position:"fixed",insetBlockStart:"50%",zIndex:n.calc(o).add(1).equal(),display:"flex",alignItems:"center",justifyContent:"center",width:n.imagePreviewSwitchSize,height:n.imagePreviewSwitchSize,marginTop:n.calc(n.imagePreviewSwitchSize).mul(-1).div(2).equal(),color:n.previewOperationColor,background:s.toRgbString(),borderRadius:"50%",transform:"translateY(-50%)",cursor:"pointer",transition:`all ${l}`,userSelect:"none","&:hover":{background:u.toRgbString()},"&-disabled":{"&, &:hover":{color:r,background:"transparent",cursor:"not-allowed",[`> ${t}`]:{cursor:"not-allowed"}}},[`> ${t}`]:{fontSize:n.previewOperationSize}},[`${a}-switch-left`]:{insetInlineStart:n.marginSM},[`${a}-switch-right`]:{insetInlineEnd:n.marginSM}}},OZ=n=>{const{motionEaseOut:e,previewCls:t,motionDurationSlow:r,componentCls:a}=n;return[{[`${a}-preview-root`]:{[t]:{height:"100%",textAlign:"center",pointerEvents:"none"},[`${t}-body`]:Object.assign(Object.assign({},y2()),{overflow:"hidden"}),[`${t}-img`]:{maxWidth:"100%",maxHeight:"70%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${r} ${e} 0s`,userSelect:"none","&-wrapper":Object.assign(Object.assign({},y2()),{transition:`transform ${r} ${e} 0s`,display:"flex",justifyContent:"center",alignItems:"center","& > *":{pointerEvents:"auto"},"&::before":{display:"inline-block",width:1,height:"50%",marginInlineEnd:-1,content:'""'}})},[`${t}-moving`]:{[`${t}-preview-img`]:{cursor:"grabbing","&-wrapper":{transitionDuration:"0s"}}}}},{[`${a}-preview-root`]:{[`${t}-wrap`]:{zIndex:n.zIndexPopup}}},{[`${a}-preview-operations-wrapper`]:{position:"fixed",zIndex:n.calc(n.zIndexPopup).add(1).equal()},"&":[TZ(n),RZ(n)]}]},IZ=n=>{const{componentCls:e}=n;return{[e]:{position:"relative",display:"inline-block",[`${e}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${e}-img-placeholder`]:{backgroundColor:n.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${e}-mask`]:Object.assign({},MZ(n)),[`${e}-mask:hover`]:{opacity:1},[`${e}-placeholder`]:Object.assign({},y2())}}},BZ=n=>{const{previewCls:e}=n;return{[`${e}-root`]:CS(n,"zoom"),"&":zO(n,!0)}},DZ=n=>({zIndexPopup:n.zIndexPopupBase+80,previewOperationColor:new Bi(n.colorTextLightSolid).setA(.65).toRgbString(),previewOperationHoverColor:new Bi(n.colorTextLightSolid).setA(.85).toRgbString(),previewOperationColorDisabled:new Bi(n.colorTextLightSolid).setA(.25).toRgbString(),previewOperationSize:n.fontSizeIcon*1.5}),gH=Nr("Image",n=>{const e=`${n.componentCls}-preview`,t=qi(n,{previewCls:e,modalMaskBg:new Bi("#000").setA(.45).toRgbString(),imagePreviewSwitchSize:n.controlHeightLG});return[IZ(t),OZ(t),qF(qi(t,{componentCls:e})),BZ(t)]},DZ);var PZ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const vH={rotateLeft:w.createElement(uV,null),rotateRight:w.createElement(hV,null),zoomIn:w.createElement(cU,null),zoomOut:w.createElement(uU,null),close:w.createElement(w0,null),left:w.createElement(M1,null),right:w.createElement(T1,null),flipX:w.createElement(xD,null),flipY:w.createElement(xD,{rotate:90})},LZ=n=>{var{previewPrefixCls:e,preview:t}=n,r=PZ(n,["previewPrefixCls","preview"]);const{getPrefixCls:a}=w.useContext(Hn),o=a("image",e),l=`${o}-preview`,s=a(),u=ol(o),[f,m,y]=gH(o,u),[_]=_S("ImagePreview",typeof t=="object"?t.zIndex:void 0),E=w.useMemo(()=>{var c;if(t===!1)return t;const p=typeof t=="object"?t:{},g=Je(m,y,u,(c=p.rootClassName)!==null&&c!==void 0?c:"");return Object.assign(Object.assign({},p),{transitionName:Ju(s,"zoom",p.transitionName),maskTransitionName:Ju(s,"fade",p.maskTransitionName),rootClassName:g,zIndex:_})},[t]);return f(w.createElement(QO.PreviewGroup,Object.assign({preview:E,previewPrefixCls:l,icons:vH},r)))};var CL=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const Yv=n=>{const{prefixCls:e,preview:t,className:r,rootClassName:a,style:o}=n,l=CL(n,["prefixCls","preview","className","rootClassName","style"]),{getPrefixCls:s,getPopupContainer:u,className:f,style:m,preview:y}=nd("image"),[_]=SS("Image"),E=s("image",e),c=s(),p=ol(E),[g,b,C]=gH(E,p),T=Je(a,b,C,p),M=Je(r,b,f),[O]=_S("ImagePreview",typeof t=="object"?t.zIndex:void 0),B=w.useMemo(()=>{if(t===!1)return t;const F=typeof t=="object"?t:{},{getContainer:U,closeIcon:z,rootClassName:$}=F,J=CL(F,["getContainer","closeIcon","rootClassName"]);return Object.assign(Object.assign({mask:w.createElement("div",{className:`${E}-mask-info`},w.createElement(yO,null),_==null?void 0:_.preview),icons:vH},J),{rootClassName:Je(T,$),getContainer:U??u,transitionName:Ju(c,"zoom",F.transitionName),maskTransitionName:Ju(c,"fade",F.maskTransitionName),zIndex:O,closeIcon:z??(y==null?void 0:y.closeIcon)})},[t,_,y==null?void 0:y.closeIcon]),P=Object.assign(Object.assign({},m),o);return g(w.createElement(QO,Object.assign({prefixCls:E,preview:B,rootClassName:T,className:M,style:P},l)))};Yv.PreviewGroup=LZ;const NZ=n=>{const{getPrefixCls:e,direction:t}=w.useContext(Hn),{prefixCls:r,className:a}=n,o=e("input-group",r),l=e("input"),[s,u,f]=iH(l),m=Je(o,f,{[`${o}-lg`]:n.size==="large",[`${o}-sm`]:n.size==="small",[`${o}-compact`]:n.compact,[`${o}-rtl`]:t==="rtl"},u,a),y=w.useContext(hf),_=w.useMemo(()=>Object.assign(Object.assign({},y),{isFormItemInput:!1}),[y]);return s(w.createElement("span",{className:m,style:n.style,onMouseEnter:n.onMouseEnter,onMouseLeave:n.onMouseLeave,onFocus:n.onFocus,onBlur:n.onBlur},w.createElement(hf.Provider,{value:_},n.children)))},zZ=n=>{const{componentCls:e,paddingXS:t}=n;return{[e]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:t,"&-rtl":{direction:"rtl"},[`${e}-input`]:{textAlign:"center",paddingInline:n.paddingXXS},[`&${e}-sm ${e}-input`]:{paddingInline:n.calc(n.paddingXXS).div(2).equal()},[`&${e}-lg ${e}-input`]:{paddingInline:n.paddingXS}}}},UZ=Nr(["Input","OTP"],n=>{const e=qi(n,Tw(n));return[zZ(e)]},Rw);var FZ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const HZ=w.forwardRef((n,e)=>{const{value:t,onChange:r,onActiveChange:a,index:o,mask:l}=n,s=FZ(n,["value","onChange","onActiveChange","index","mask"]),u=t&&typeof l=="string"?l:t,f=c=>{r(o,c.target.value)},m=w.useRef(null);w.useImperativeHandle(e,()=>m.current);const y=()=>{Da(()=>{var c;const p=(c=m.current)===null||c===void 0?void 0:c.input;document.activeElement===p&&p&&p.select()})},_=c=>{const{key:p,ctrlKey:g,metaKey:b}=c;p==="ArrowLeft"?a(o-1):p==="ArrowRight"?a(o+1):p==="z"&&(g||b)&&c.preventDefault(),y()},E=c=>{c.key==="Backspace"&&!t&&a(o-1),y()};return w.createElement(Ow,Object.assign({type:l===!0?"password":"text"},s,{ref:m,value:u,onInput:f,onFocus:y,onKeyDown:_,onKeyUp:E,onMouseDown:y,onMouseUp:y}))});var GZ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};function bx(n){return(n||"").split("")}const kZ=n=>{const{index:e,prefixCls:t,separator:r}=n,a=typeof r=="function"?r(e):r;return a?w.createElement("span",{className:`${t}-separator`},a):null},$Z=w.forwardRef((n,e)=>{const{prefixCls:t,length:r=6,size:a,defaultValue:o,value:l,onChange:s,formatter:u,separator:f,variant:m,disabled:y,status:_,autoFocus:E,mask:c,type:p,onInput:g,inputMode:b}=n,C=GZ(n,["prefixCls","length","size","defaultValue","value","onChange","formatter","separator","variant","disabled","status","autoFocus","mask","type","onInput","inputMode"]),{getPrefixCls:T,direction:M}=w.useContext(Hn),O=T("otp",t),B=zm(C,{aria:!0,data:!0,attr:!0}),[P,F,U]=UZ(O),z=Sf(Z=>a??Z),$=w.useContext(hf),J=GO($.status,_),W=w.useMemo(()=>Object.assign(Object.assign({},$),{status:J,hasFeedback:!1,feedbackIcon:null}),[$,J]),Q=w.useRef(null),ae=w.useRef({});w.useImperativeHandle(e,()=>({focus:()=>{var Z;(Z=ae.current[0])===null||Z===void 0||Z.focus()},blur:()=>{var Z;for(let pe=0;pe<r;pe+=1)(Z=ae.current[pe])===null||Z===void 0||Z.blur()},nativeElement:Q.current}));const Y=Z=>u?u(Z):Z,[K,ee]=w.useState(()=>bx(Y(o||"")));w.useEffect(()=>{l!==void 0&&ee(bx(l))},[l]);const de=Qa(Z=>{ee(Z),g&&g(Z),s&&Z.length===r&&Z.every(pe=>pe)&&Z.some((pe,_e)=>K[_e]!==pe)&&s(Z.join(""))}),q=Qa((Z,pe)=>{let _e=Kt(K);for(let we=0;we<Z;we+=1)_e[we]||(_e[we]="");pe.length<=1?_e[Z]=pe:_e=_e.slice(0,Z).concat(bx(pe)),_e=_e.slice(0,r);for(let we=_e.length-1;we>=0&&!_e[we];we-=1)_e.pop();const Oe=Y(_e.map(we=>we||" ").join(""));return _e=bx(Oe).map((we,Te)=>we===" "&&!_e[Te]?_e[Te]:we),_e}),ie=(Z,pe)=>{var _e;const Oe=q(Z,pe),we=Math.min(Z+pe.length,r-1);we!==Z&&Oe[Z]!==void 0&&((_e=ae.current[we])===null||_e===void 0||_e.focus()),de(Oe)},he=Z=>{var pe;(pe=ae.current[Z])===null||pe===void 0||pe.focus()},fe={variant:m,disabled:y,status:J,mask:c,type:p,inputMode:b};return P(w.createElement("div",Object.assign({},B,{ref:Q,className:Je(O,{[`${O}-sm`]:z==="small",[`${O}-lg`]:z==="large",[`${O}-rtl`]:M==="rtl"},U,F)}),w.createElement(hf.Provider,{value:W},Array.from({length:r}).map((Z,pe)=>{const _e=`otp-${pe}`,Oe=K[pe]||"";return w.createElement(w.Fragment,{key:_e},w.createElement(HZ,Object.assign({ref:we=>{ae.current[pe]=we},index:pe,size:z,htmlSize:1,className:`${O}-input`,onChange:ie,value:Oe,onActiveChange:he,autoFocus:pe===0&&E},fe)),pe<r-1&&w.createElement(kZ,{separator:f,index:pe,prefixCls:O}))}))))});var VZ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const jZ=n=>n?w.createElement(yO,null):w.createElement(D$,null),WZ={click:"onClick",hover:"onMouseOver"},XZ=w.forwardRef((n,e)=>{const{disabled:t,action:r="click",visibilityToggle:a=!0,iconRender:o=jZ}=n,l=w.useContext(Ku),s=t??l,u=typeof a=="object"&&a.visible!==void 0,[f,m]=w.useState(()=>u?a.visible:!1),y=w.useRef(null);w.useEffect(()=>{u&&m(a.visible)},[u,a]);const _=cH(y),E=()=>{var z;if(s)return;f&&_();const $=!f;m($),typeof a=="object"&&((z=a.onVisibleChange)===null||z===void 0||z.call(a,$))},c=z=>{const $=WZ[r]||"",J=o(f),W={[$]:E,className:`${z}-icon`,key:"passwordIcon",onMouseDown:Q=>{Q.preventDefault()},onMouseUp:Q=>{Q.preventDefault()}};return w.cloneElement(w.isValidElement(J)?J:w.createElement("span",null,J),W)},{className:p,prefixCls:g,inputPrefixCls:b,size:C}=n,T=VZ(n,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:M}=w.useContext(Hn),O=M("input",b),B=M("input-password",g),P=a&&c(B),F=Je(B,p,{[`${B}-${C}`]:!!C}),U=Object.assign(Object.assign({},yo(T,["suffix","iconRender","visibilityToggle"])),{type:f?"text":"password",className:F,prefixCls:O,suffix:P});return C&&(U.size=C),w.createElement(Ow,Object.assign({ref:yf(e,y)},U))});var YZ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const qZ=w.forwardRef((n,e)=>{const{prefixCls:t,inputPrefixCls:r,className:a,size:o,suffix:l,enterButton:s=!1,addonAfter:u,loading:f,disabled:m,onSearch:y,onChange:_,onCompositionStart:E,onCompositionEnd:c}=n,p=YZ(n,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:g,direction:b}=w.useContext(Hn),C=w.useRef(!1),T=g("input-search",t),M=g("input",r),{compactSize:O}=hw(T,b),B=Sf(ie=>{var he;return(he=o??O)!==null&&he!==void 0?he:ie}),P=w.useRef(null),F=ie=>{ie!=null&&ie.target&&ie.type==="click"&&y&&y(ie.target.value,ie,{source:"clear"}),_==null||_(ie)},U=ie=>{var he;document.activeElement===((he=P.current)===null||he===void 0?void 0:he.input)&&ie.preventDefault()},z=ie=>{var he,fe;y&&y((fe=(he=P.current)===null||he===void 0?void 0:he.input)===null||fe===void 0?void 0:fe.value,ie,{source:"input"})},$=ie=>{C.current||f||z(ie)},J=typeof s=="boolean"?w.createElement(gV,null):null,W=`${T}-button`;let Q;const ae=s||{},Y=ae.type&&ae.type.__ANT_BUTTON===!0;Y||ae.type==="button"?Q=il(ae,Object.assign({onMouseDown:U,onClick:ie=>{var he,fe;(fe=(he=ae==null?void 0:ae.props)===null||he===void 0?void 0:he.onClick)===null||fe===void 0||fe.call(he,ie),z(ie)},key:"enterButton"},Y?{className:W,size:B}:{})):Q=w.createElement(pa,{className:W,type:s?"primary":void 0,size:B,disabled:m,key:"enterButton",onMouseDown:U,onClick:z,loading:f,icon:J},s),u&&(Q=[Q,il(u,{key:"addonAfter"})]);const K=Je(T,{[`${T}-rtl`]:b==="rtl",[`${T}-${B}`]:!!B,[`${T}-with-button`]:!!s},a),ee=Object.assign(Object.assign({},p),{className:K,prefixCls:M,type:"search"}),de=ie=>{C.current=!0,E==null||E(ie)},q=ie=>{C.current=!1,c==null||c(ie)};return w.createElement(Ow,Object.assign({ref:yf(P,e),onPressEnter:$},ee,{size:B,onCompositionStart:de,onCompositionEnd:q,addonAfter:Q,suffix:l,onChange:F,disabled:m}))});var KZ=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,JZ=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],NM={},Xs;function QZ(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=n.getAttribute("id")||n.getAttribute("data-reactid")||n.getAttribute("name");if(e&&NM[t])return NM[t];var r=window.getComputedStyle(n),a=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),o=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),l=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),s=JZ.map(function(f){return"".concat(f,":").concat(r.getPropertyValue(f))}).join(";"),u={sizingStyle:s,paddingSize:o,borderSize:l,boxSizing:a};return e&&t&&(NM[t]=u),u}function ZZ(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;Xs||(Xs=document.createElement("textarea"),Xs.setAttribute("tab-index","-1"),Xs.setAttribute("aria-hidden","true"),Xs.setAttribute("name","hiddenTextarea"),document.body.appendChild(Xs)),n.getAttribute("wrap")?Xs.setAttribute("wrap",n.getAttribute("wrap")):Xs.removeAttribute("wrap");var a=QZ(n,e),o=a.paddingSize,l=a.borderSize,s=a.boxSizing,u=a.sizingStyle;Xs.setAttribute("style","".concat(u,";").concat(KZ)),Xs.value=n.value||n.placeholder||"";var f=void 0,m=void 0,y,_=Xs.scrollHeight;if(s==="border-box"?_+=l:s==="content-box"&&(_-=o),t!==null||r!==null){Xs.value=" ";var E=Xs.scrollHeight-o;t!==null&&(f=E*t,s==="border-box"&&(f=f+o+l),_=Math.max(f,_)),r!==null&&(m=E*r,s==="border-box"&&(m=m+o+l),y=_>m?"":"hidden",_=Math.min(m,_))}var c={height:_,overflowY:y,resize:"none"};return f&&(c.minHeight=f),m&&(c.maxHeight=m),c}var eee=["prefixCls","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],zM=0,UM=1,FM=2,tee=w.forwardRef(function(n,e){var t=n,r=t.prefixCls,a=t.defaultValue,o=t.value,l=t.autoSize,s=t.onResize,u=t.className,f=t.style,m=t.disabled,y=t.onChange;t.onInternalAutoSize;var _=kn(t,eee),E=mo(a,{value:o,postState:function(Z){return Z??""}}),c=vt(E,2),p=c[0],g=c[1],b=function(Z){g(Z.target.value),y==null||y(Z)},C=w.useRef();w.useImperativeHandle(e,function(){return{textArea:C.current}});var T=w.useMemo(function(){return l&&mn(l)==="object"?[l.minRows,l.maxRows]:[]},[l]),M=vt(T,2),O=M[0],B=M[1],P=!!l,F=function(){try{if(document.activeElement===C.current){var Z=C.current,pe=Z.selectionStart,_e=Z.selectionEnd,Oe=Z.scrollTop;C.current.setSelectionRange(pe,_e),C.current.scrollTop=Oe}}catch{}},U=w.useState(FM),z=vt(U,2),$=z[0],J=z[1],W=w.useState(),Q=vt(W,2),ae=Q[0],Y=Q[1],K=function(){J(zM)};wa(function(){P&&K()},[o,O,B,P]),wa(function(){if($===zM)J(UM);else if($===UM){var fe=ZZ(C.current,!1,O,B);J(FM),Y(fe)}else F()},[$]);var ee=w.useRef(),de=function(){Da.cancel(ee.current)},q=function(Z){$===FM&&(s==null||s(Z),l&&(de(),ee.current=Da(function(){K()})))};w.useEffect(function(){return de},[]);var ie=P?ae:null,he=Ne(Ne({},f),ie);return($===zM||$===UM)&&(he.overflowY="hidden",he.overflowX="hidden"),w.createElement(Nm,{onResize:q,disabled:!(l||s)},w.createElement("textarea",Pt({},_,{ref:C,style:he,className:Je(r,u,ue({},"".concat(r,"-disabled"),m)),disabled:m,value:p,onChange:b})))}),nee=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","showCount","count","className","style","disabled","hidden","classNames","styles","onResize","onClear","onPressEnter","readOnly","autoSize","onKeyDown"],iee=Xe.forwardRef(function(n,e){var t,r=n.defaultValue,a=n.value,o=n.onFocus,l=n.onBlur,s=n.onChange,u=n.allowClear,f=n.maxLength,m=n.onCompositionStart,y=n.onCompositionEnd,_=n.suffix,E=n.prefixCls,c=E===void 0?"rc-textarea":E,p=n.showCount,g=n.count,b=n.className,C=n.style,T=n.disabled,M=n.hidden,O=n.classNames,B=n.styles,P=n.onResize,F=n.onClear,U=n.onPressEnter,z=n.readOnly,$=n.autoSize,J=n.onKeyDown,W=kn(n,nee),Q=mo(r,{value:a,defaultValue:r}),ae=vt(Q,2),Y=ae[0],K=ae[1],ee=Y==null?"":String(Y),de=Xe.useState(!1),q=vt(de,2),ie=q[0],he=q[1],fe=Xe.useRef(!1),Z=Xe.useState(null),pe=vt(Z,2),_e=pe[0],Oe=pe[1],we=w.useRef(null),Te=w.useRef(null),ze=function(){var We;return(We=Te.current)===null||We===void 0?void 0:We.textArea},yt=function(){ze().focus()};w.useImperativeHandle(e,function(){var Ct;return{resizableTextArea:Te.current,focus:yt,blur:function(){ze().blur()},nativeElement:((Ct=we.current)===null||Ct===void 0?void 0:Ct.nativeElement)||ze()}}),w.useEffect(function(){he(function(Ct){return!T&&Ct})},[T]);var Be=Xe.useState(null),xe=vt(Be,2),re=xe[0],Fe=xe[1];Xe.useEffect(function(){if(re){var Ct;(Ct=ze()).setSelectionRange.apply(Ct,Kt(re))}},[re]);var Ie=sH(g,p),qe=(t=Ie.max)!==null&&t!==void 0?t:f,$e=Number(qe)>0,ct=Ie.strategy(ee),st=!!qe&&ct>qe,ce=function(We,rt){var Se=rt;!fe.current&&Ie.exceedFormatter&&Ie.max&&Ie.strategy(rt)>Ie.max&&(Se=Ie.exceedFormatter(rt,{max:Ie.max}),rt!==Se&&Fe([ze().selectionStart||0,ze().selectionEnd||0])),K(Se),k1(We.currentTarget,We,s,Se)},oe=function(We){fe.current=!0,m==null||m(We)},Ee=function(We){fe.current=!1,ce(We,We.currentTarget.value),y==null||y(We)},De=function(We){ce(We,We.target.value)},Ke=function(We){We.key==="Enter"&&U&&U(We),J==null||J(We)},He=function(We){he(!0),o==null||o(We)},gt=function(We){he(!1),l==null||l(We)},lt=function(We){K(""),yt(),k1(ze(),We,s)},pt=_,It;Ie.show&&(Ie.showFormatter?It=Ie.showFormatter({value:ee,count:ct,maxLength:qe}):It="".concat(ct).concat($e?" / ".concat(qe):""),pt=Xe.createElement(Xe.Fragment,null,pt,Xe.createElement("span",{className:Je("".concat(c,"-data-count"),O==null?void 0:O.count),style:B==null?void 0:B.count},It)));var ot=function(We){var rt;P==null||P(We),(rt=ze())!==null&&rt!==void 0&&rt.style.height&&Oe(!0)},_t=!$&&!p&&!u;return Xe.createElement(oH,{ref:we,value:ee,allowClear:u,handleReset:lt,suffix:pt,prefixCls:c,classNames:Ne(Ne({},O),{},{affixWrapper:Je(O==null?void 0:O.affixWrapper,ue(ue({},"".concat(c,"-show-count"),p),"".concat(c,"-textarea-allow-clear"),u))}),disabled:T,focused:ie,className:Je(b,st&&"".concat(c,"-out-of-range")),style:Ne(Ne({},C),_e&&!_t?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":typeof It=="string"?It:void 0}},hidden:M,readOnly:z,onClear:F},Xe.createElement(tee,Pt({},W,{autoSize:$,maxLength:f,onKeyDown:Ke,onChange:De,onFocus:He,onBlur:gt,onCompositionStart:oe,onCompositionEnd:Ee,className:Je(O==null?void 0:O.textarea),style:Ne(Ne({},B==null?void 0:B.textarea),{},{resize:C==null?void 0:C.resize}),disabled:T,prefixCls:c,onResize:ot,ref:Te,readOnly:z})))});const ree=n=>{const{componentCls:e,paddingLG:t}=n,r=`${e}-textarea`;return{[r]:{position:"relative","&-show-count":{[`> ${e}`]:{height:"100%"},[`${e}-data-count`]:{position:"absolute",bottom:n.calc(n.fontSize).mul(n.lineHeight).mul(-1).equal(),insetInlineEnd:0,color:n.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},[`
        &-allow-clear > ${e},
        &-affix-wrapper${r}-has-feedback ${e}
      `]:{paddingInlineEnd:t},[`&-affix-wrapper${e}-affix-wrapper`]:{padding:0,[`> textarea${e}`]:{fontSize:"inherit",border:"none",outline:"none",background:"transparent",minHeight:n.calc(n.controlHeight).sub(n.calc(n.lineWidth).mul(2)).equal(),"&:focus":{boxShadow:"none !important"}},[`${e}-suffix`]:{margin:0,"> *:not(:last-child)":{marginInline:0},[`${e}-clear-icon`]:{position:"absolute",insetInlineEnd:n.paddingInline,insetBlockStart:n.paddingXS},[`${r}-suffix`]:{position:"absolute",top:0,insetInlineEnd:n.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}},[`&-affix-wrapper${e}-affix-wrapper-sm`]:{[`${e}-suffix`]:{[`${e}-clear-icon`]:{insetInlineEnd:n.paddingInlineSM}}}}}},aee=Nr(["Input","TextArea"],n=>{const e=qi(n,Tw(n));return[ree(e)]},Rw,{resetFont:!1});var oee=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const see=w.forwardRef((n,e)=>{var t;const{prefixCls:r,bordered:a=!0,size:o,disabled:l,status:s,allowClear:u,classNames:f,rootClassName:m,className:y,style:_,styles:E,variant:c}=n,p=oee(n,["prefixCls","bordered","size","disabled","status","allowClear","classNames","rootClassName","className","style","styles","variant"]),{getPrefixCls:g,direction:b,allowClear:C,autoComplete:T,className:M,style:O,classNames:B,styles:P}=nd("textArea"),F=w.useContext(Ku),U=l??F,{status:z,hasFeedback:$,feedbackIcon:J}=w.useContext(hf),W=GO(z,s),Q=w.useRef(null);w.useImperativeHandle(e,()=>{var Oe;return{resizableTextArea:(Oe=Q.current)===null||Oe===void 0?void 0:Oe.resizableTextArea,focus:we=>{var Te,ze;aH((ze=(Te=Q.current)===null||Te===void 0?void 0:Te.resizableTextArea)===null||ze===void 0?void 0:ze.textArea,we)},blur:()=>{var we;return(we=Q.current)===null||we===void 0?void 0:we.blur()}}});const ae=g("input",r),Y=ol(ae),[K,ee,de]=nH(ae,m),[q]=aee(ae,Y),{compactSize:ie,compactItemClassnames:he}=hw(ae,b),fe=Sf(Oe=>{var we;return(we=o??ie)!==null&&we!==void 0?we:Oe}),[Z,pe]=h4("textArea",c,a),_e=lH(u??C);return K(q(w.createElement(iee,Object.assign({autoComplete:T},p,{style:Object.assign(Object.assign({},O),_),styles:Object.assign(Object.assign({},P),E),disabled:U,allowClear:_e,className:Je(de,Y,y,m,he,M),classNames:Object.assign(Object.assign(Object.assign({},f),B),{textarea:Je({[`${ae}-sm`]:fe==="small",[`${ae}-lg`]:fe==="large"},ee,f==null?void 0:f.textarea,B.textarea),variant:Je({[`${ae}-${Z}`]:pe},c2(ae,W)),affixWrapper:Je(`${ae}-textarea-affix-wrapper`,{[`${ae}-affix-wrapper-rtl`]:b==="rtl",[`${ae}-affix-wrapper-sm`]:fe==="small",[`${ae}-affix-wrapper-lg`]:fe==="large",[`${ae}-textarea-show-count`]:n.showCount||((t=n.count)===null||t===void 0?void 0:t.show)},ee)}),prefixCls:ae,suffix:$&&w.createElement("span",{className:`${ae}-textarea-suffix`},J),ref:Q}))))}),O0=Ow;O0.Group=NZ;O0.Search=qZ;O0.TextArea=see;O0.Password=XZ;O0.OTP=$Z;function lee(n,e,t){return typeof t=="boolean"?t:n.length?!0:qu(e).some(a=>a.type===$4)}var yH=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};function Iw(n){let{suffixCls:e,tagName:t,displayName:r}=n;return a=>w.forwardRef((l,s)=>w.createElement(a,Object.assign({ref:s,suffixCls:e,tagName:t},l)))}const ZO=w.forwardRef((n,e)=>{const{prefixCls:t,suffixCls:r,className:a,tagName:o}=n,l=yH(n,["prefixCls","suffixCls","className","tagName"]),{getPrefixCls:s}=w.useContext(Hn),u=s("layout",t),[f,m,y]=k4(u),_=r?`${u}-${r}`:u;return f(w.createElement(o,Object.assign({className:Je(t||_,a,m,y),ref:e},l)))}),cee=w.forwardRef((n,e)=>{const{direction:t}=w.useContext(Hn),[r,a]=w.useState([]),{prefixCls:o,className:l,rootClassName:s,children:u,hasSider:f,tagName:m,style:y}=n,_=yH(n,["prefixCls","className","rootClassName","children","hasSider","tagName","style"]),E=yo(_,["suffixCls"]),{getPrefixCls:c,className:p,style:g}=nd("layout"),b=c("layout",o),C=lee(r,u,f),[T,M,O]=k4(b),B=Je(b,{[`${b}-has-sider`]:C,[`${b}-rtl`]:t==="rtl"},p,l,s,M,O),P=w.useMemo(()=>({siderHook:{addSider:F=>{a(U=>[].concat(Kt(U),[F]))},removeSider:F=>{a(U=>U.filter(z=>z!==F))}}}),[]);return T(w.createElement(F4.Provider,{value:P},w.createElement(m,Object.assign({ref:e,className:B,style:Object.assign(Object.assign({},g),y)},E),u)))}),uee=Iw({tagName:"div",displayName:"Layout"})(cee),dee=Iw({suffixCls:"header",tagName:"header",displayName:"Header"})(ZO),fee=Iw({suffixCls:"footer",tagName:"footer",displayName:"Footer"})(ZO),hee=Iw({suffixCls:"content",tagName:"main",displayName:"Content"})(ZO),Fm=uee;Fm.Header=dee;Fm.Footer=fee;Fm.Content=hee;Fm.Sider=$4;Fm._InternalSiderContext=Mw;const V1=100,bH=V1/5,SH=V1/2-bH/2,HM=SH*2*Math.PI,EL=50,wL=n=>{const{dotClassName:e,style:t,hasCircleCls:r}=n;return w.createElement("circle",{className:Je(`${e}-circle`,{[`${e}-circle-bg`]:r}),r:SH,cx:EL,cy:EL,strokeWidth:bH,style:t})},pee=n=>{let{percent:e,prefixCls:t}=n;const r=`${t}-dot`,a=`${r}-holder`,o=`${a}-hidden`,[l,s]=w.useState(!1);wa(()=>{e!==0&&s(!0)},[e!==0]);const u=Math.max(Math.min(e,100),0);if(!l)return null;const f={strokeDashoffset:`${HM/4}`,strokeDasharray:`${HM*u/100} ${HM*(100-u)/100}`};return w.createElement("span",{className:Je(a,`${r}-progress`,u<=0&&o)},w.createElement("svg",{viewBox:`0 0 ${V1} ${V1}`,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":u},w.createElement(wL,{dotClassName:r,hasCircleCls:!0}),w.createElement(wL,{dotClassName:r,style:f})))};function mee(n){const{prefixCls:e,percent:t=0}=n,r=`${e}-dot`,a=`${r}-holder`,o=`${a}-hidden`;return w.createElement(w.Fragment,null,w.createElement("span",{className:Je(a,t>0&&o)},w.createElement("span",{className:Je(r,`${e}-dot-spin`)},[1,2,3,4].map(l=>w.createElement("i",{className:`${e}-dot-item`,key:l})))),w.createElement(pee,{prefixCls:e,percent:t}))}function gee(n){const{prefixCls:e,indicator:t,percent:r}=n,a=`${e}-dot`;return t&&w.isValidElement(t)?il(t,{className:Je(t.props.className,a),percent:r}):w.createElement(mee,{prefixCls:e,percent:r})}const vee=new rr("antSpinMove",{to:{opacity:1}}),yee=new rr("antRotate",{to:{transform:"rotate(405deg)"}}),bee=n=>{const{componentCls:e,calc:t}=n;return{[e]:Object.assign(Object.assign({},Uo(n)),{position:"absolute",display:"none",color:n.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${n.motionDurationSlow} ${n.motionEaseInOutCirc}`,"&-spinning":{position:"relative",display:"inline-block",opacity:1},[`${e}-text`]:{fontSize:n.fontSize,paddingTop:t(t(n.dotSize).sub(n.fontSize)).div(2).add(2).equal()},"&-fullscreen":{position:"fixed",width:"100vw",height:"100vh",backgroundColor:n.colorBgMask,zIndex:n.zIndexPopupBase,inset:0,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",opacity:0,visibility:"hidden",transition:`all ${n.motionDurationMid}`,"&-show":{opacity:1,visibility:"visible"},[e]:{[`${e}-dot-holder`]:{color:n.colorWhite},[`${e}-text`]:{color:n.colorTextLightSolid}}},"&-nested-loading":{position:"relative",[`> div > ${e}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:n.contentHeight,[`${e}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:t(n.dotSize).mul(-1).div(2).equal()},[`${e}-text`]:{position:"absolute",top:"50%",width:"100%",textShadow:`0 1px 2px ${n.colorBgContainer}`},[`&${e}-show-text ${e}-dot`]:{marginTop:t(n.dotSize).div(2).mul(-1).sub(10).equal()},"&-sm":{[`${e}-dot`]:{margin:t(n.dotSizeSM).mul(-1).div(2).equal()},[`${e}-text`]:{paddingTop:t(t(n.dotSizeSM).sub(n.fontSize)).div(2).add(2).equal()},[`&${e}-show-text ${e}-dot`]:{marginTop:t(n.dotSizeSM).div(2).mul(-1).sub(10).equal()}},"&-lg":{[`${e}-dot`]:{margin:t(n.dotSizeLG).mul(-1).div(2).equal()},[`${e}-text`]:{paddingTop:t(t(n.dotSizeLG).sub(n.fontSize)).div(2).add(2).equal()},[`&${e}-show-text ${e}-dot`]:{marginTop:t(n.dotSizeLG).div(2).mul(-1).sub(10).equal()}}},[`${e}-container`]:{position:"relative",transition:`opacity ${n.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:n.colorBgContainer,opacity:0,transition:`all ${n.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${e}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:n.spinDotDefault},[`${e}-dot-holder`]:{width:"1em",height:"1em",fontSize:n.dotSize,display:"inline-block",transition:`transform ${n.motionDurationSlow} ease, opacity ${n.motionDurationSlow} ease`,transformOrigin:"50% 50%",lineHeight:1,color:n.colorPrimary,"&-hidden":{transform:"scale(0.3)",opacity:0}},[`${e}-dot-progress`]:{position:"absolute",inset:0},[`${e}-dot`]:{position:"relative",display:"inline-block",fontSize:n.dotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:t(n.dotSize).sub(t(n.marginXXS).div(2)).div(2).equal(),height:t(n.dotSize).sub(t(n.marginXXS).div(2)).div(2).equal(),background:"currentColor",borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:vee,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0,animationDelay:"0s"},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:yee,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"},"&-circle":{strokeLinecap:"round",transition:["stroke-dashoffset","stroke-dasharray","stroke","stroke-width","opacity"].map(r=>`${r} ${n.motionDurationSlow} ease`).join(","),fillOpacity:0,stroke:"currentcolor"},"&-circle-bg":{stroke:n.colorFillSecondary}},[`&-sm ${e}-dot`]:{"&, &-holder":{fontSize:n.dotSizeSM}},[`&-sm ${e}-dot-holder`]:{i:{width:t(t(n.dotSizeSM).sub(t(n.marginXXS).div(2))).div(2).equal(),height:t(t(n.dotSizeSM).sub(t(n.marginXXS).div(2))).div(2).equal()}},[`&-lg ${e}-dot`]:{"&, &-holder":{fontSize:n.dotSizeLG}},[`&-lg ${e}-dot-holder`]:{i:{width:t(t(n.dotSizeLG).sub(n.marginXXS)).div(2).equal(),height:t(t(n.dotSizeLG).sub(n.marginXXS)).div(2).equal()}},[`&${e}-show-text ${e}-text`]:{display:"block"}})}},See=n=>{const{controlHeightLG:e,controlHeight:t}=n;return{contentHeight:400,dotSize:e/2,dotSizeSM:e*.35,dotSizeLG:t}},_ee=Nr("Spin",n=>{const e=qi(n,{spinDotDefault:n.colorTextDescription});return[bee(e)]},See),xee=200,AL=[[30,.05],[70,.03],[96,.01]];function Cee(n,e){const[t,r]=w.useState(0),a=w.useRef(null),o=e==="auto";return w.useEffect(()=>(o&&n&&(r(0),a.current=setInterval(()=>{r(l=>{const s=100-l;for(let u=0;u<AL.length;u+=1){const[f,m]=AL[u];if(l<=f)return l+s*m}return l})},xee)),()=>{clearInterval(a.current)}),[o,n]),o?t:e}var Eee=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};let _H;function wee(n,e){return!!n&&!!e&&!Number.isNaN(Number(e))}const eI=n=>{var e;const{prefixCls:t,spinning:r=!0,delay:a=0,className:o,rootClassName:l,size:s="default",tip:u,wrapperClassName:f,style:m,children:y,fullscreen:_=!1,indicator:E,percent:c}=n,p=Eee(n,["prefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","fullscreen","indicator","percent"]),{getPrefixCls:g,direction:b,className:C,style:T,indicator:M}=nd("spin"),O=g("spin",t),[B,P,F]=_ee(O),[U,z]=w.useState(()=>r&&!wee(r,a)),$=Cee(U,c);w.useEffect(()=>{if(r){const ee=XQ(a,()=>{z(!0)});return ee(),()=>{var de;(de=ee==null?void 0:ee.cancel)===null||de===void 0||de.call(ee)}}z(!1)},[a,r]);const J=w.useMemo(()=>typeof y<"u"&&!_,[y,_]),W=Je(O,C,{[`${O}-sm`]:s==="small",[`${O}-lg`]:s==="large",[`${O}-spinning`]:U,[`${O}-show-text`]:!!u,[`${O}-rtl`]:b==="rtl"},o,!_&&l,P,F),Q=Je(`${O}-container`,{[`${O}-blur`]:U}),ae=(e=E??M)!==null&&e!==void 0?e:_H,Y=Object.assign(Object.assign({},T),m),K=w.createElement("div",Object.assign({},p,{style:Y,className:W,"aria-live":"polite","aria-busy":U}),w.createElement(gee,{prefixCls:O,indicator:ae,percent:$}),u&&(J||_)?w.createElement("div",{className:`${O}-text`},u):null);return B(J?w.createElement("div",Object.assign({},p,{className:Je(`${O}-nested-loading`,f,P,F)}),U&&w.createElement("div",{key:"loading"},K),w.createElement("div",{className:Q,key:"container"},y)):_?w.createElement("div",{className:Je(`${O}-fullscreen`,{[`${O}-fullscreen-show`]:U},l,P,F)},K):K)};eI.setDefaultIndicator=n=>{_H=n};let zl=null,um=n=>n(),eS=[],tS={};function ML(){const{getContainer:n,duration:e,rtl:t,maxCount:r,top:a}=tS,o=(n==null?void 0:n())||document.body;return{getContainer:()=>o,duration:e,rtl:t,maxCount:r,top:a}}const Aee=Xe.forwardRef((n,e)=>{const{messageConfig:t,sync:r}=n,{getPrefixCls:a}=w.useContext(Hn),o=tS.prefixCls||a("message"),l=w.useContext(dK),[s,u]=xF(Object.assign(Object.assign(Object.assign({},t),{prefixCls:o}),l.message));return Xe.useImperativeHandle(e,()=>{const f=Object.assign({},s);return Object.keys(f).forEach(m=>{f[m]=function(){return r(),s[m].apply(s,arguments)}}),{instance:f,sync:r}}),u}),Mee=Xe.forwardRef((n,e)=>{const[t,r]=Xe.useState(ML),a=()=>{r(ML)};Xe.useEffect(a,[]);const o=hF(),l=o.getRootPrefixCls(),s=o.getIconPrefixCls(),u=o.getTheme(),f=Xe.createElement(Aee,{ref:e,sync:a,messageConfig:t});return Xe.createElement(bf,{prefixCls:l,iconPrefixCls:s,theme:u},o.holderRender?o.holderRender(f):f)});function Bw(){if(!zl){const n=document.createDocumentFragment(),e={fragment:n};zl=e,um(()=>{DO()(Xe.createElement(Mee,{ref:r=>{const{instance:a,sync:o}=r||{};Promise.resolve().then(()=>{!e.instance&&a&&(e.instance=a,e.sync=o,Bw())})}}),n)});return}zl.instance&&(eS.forEach(n=>{const{type:e,skipped:t}=n;if(!t)switch(e){case"open":{um(()=>{const r=zl.instance.open(Object.assign(Object.assign({},tS),n.config));r==null||r.then(n.resolve),n.setCloseFn(r)});break}case"destroy":um(()=>{zl==null||zl.instance.destroy(n.key)});break;default:um(()=>{var r;const a=(r=zl.instance)[e].apply(r,Kt(n.args));a==null||a.then(n.resolve),n.setCloseFn(a)})}}),eS=[])}function Tee(n){tS=Object.assign(Object.assign({},tS),n),um(()=>{var e;(e=zl==null?void 0:zl.sync)===null||e===void 0||e.call(zl)})}function Ree(n){const e=BO(t=>{let r;const a={type:"open",config:n,resolve:t,setCloseFn:o=>{r=o}};return eS.push(a),()=>{r?um(()=>{r()}):a.skipped=!0}});return Bw(),e}function Oee(n,e){const t=BO(r=>{let a;const o={type:n,args:e,resolve:r,setCloseFn:l=>{a=l}};return eS.push(o),()=>{a?um(()=>{a()}):o.skipped=!0}});return Bw(),t}const Iee=n=>{eS.push({type:"destroy",key:n}),Bw()},Bee=["success","info","warning","error","loading"],Dee={open:Ree,destroy:Iee,config:Tee,useMessage:_W,_InternalPanelDoNotUseOrYouWillBeFired:hW},xH=Dee;Bee.forEach(n=>{xH[n]=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Oee(n,t)}});var Pee=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const Lee=n=>{const{prefixCls:e,className:t,closeIcon:r,closable:a,type:o,title:l,children:s,footer:u}=n,f=Pee(n,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:m}=w.useContext(Hn),y=m(),_=e||m("modal"),E=ol(y),[c,p,g]=QF(_,E),b=`${_}-confirm`;let C={};return o?C={closable:a??!1,title:"",footer:"",children:w.createElement(e4,Object.assign({},n,{prefixCls:_,confirmPrefixCls:b,rootPrefixCls:y,content:s}))}:C={closable:a??!0,title:l,footer:u!==null&&w.createElement(XF,Object.assign({},n)),children:s},c(w.createElement(zF,Object.assign({prefixCls:_,className:Je(p,`${_}-pure-panel`,o&&b,o&&`${b}-${o}`,t,g,E)},f,{closeIcon:WF(_,r),closable:a},C)))},Nee=fK(Lee);function CH(n){return MS(r4(n))}const Gl=ZF;Gl.useModal=uK;Gl.info=function(e){return MS(a4(e))};Gl.success=function(e){return MS(o4(e))};Gl.error=function(e){return MS(s4(e))};Gl.warning=CH;Gl.warn=CH;Gl.confirm=function(e){return MS(l4(e))};Gl.destroyAll=function(){for(;lm.length;){const e=lm.pop();e&&e()}};Gl.config=aK;Gl._InternalPanelDoNotUseOrYouWillBeFired=Nee;var zee={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},Uee=function(){var e=w.useRef([]),t=w.useRef(null);return w.useEffect(function(){var r=Date.now(),a=!1;e.current.forEach(function(o){if(o){a=!0;var l=o.style;l.transitionDuration=".3s, .3s, .3s, .06s",t.current&&r-t.current<100&&(l.transitionDuration="0s, 0s")}}),a&&(t.current=Date.now())}),e.current},TL=0,Fee=cs();function Hee(){var n;return Fee?(n=TL,TL+=1):n="TEST_OR_SSR",n}const Gee=function(n){var e=w.useState(),t=vt(e,2),r=t[0],a=t[1];return w.useEffect(function(){a("rc_progress_".concat(Hee()))},[]),n||r};var RL=function(e){var t=e.bg,r=e.children;return w.createElement("div",{style:{width:"100%",height:"100%",background:t}},r)};function OL(n,e){return Object.keys(n).map(function(t){var r=parseFloat(t),a="".concat(Math.floor(r*e),"%");return"".concat(n[t]," ").concat(a)})}var kee=w.forwardRef(function(n,e){var t=n.prefixCls,r=n.color,a=n.gradientId,o=n.radius,l=n.style,s=n.ptg,u=n.strokeLinecap,f=n.strokeWidth,m=n.size,y=n.gapDegree,_=r&&mn(r)==="object",E=_?"#FFF":void 0,c=m/2,p=w.createElement("circle",{className:"".concat(t,"-circle-path"),r:o,cx:c,cy:c,stroke:E,strokeLinecap:u,strokeWidth:f,opacity:s===0?0:1,style:l,ref:e});if(!_)return p;var g="".concat(a,"-conic"),b=y?"".concat(180+y/2,"deg"):"0deg",C=OL(r,(360-y)/360),T=OL(r,1),M="conic-gradient(from ".concat(b,", ").concat(C.join(", "),")"),O="linear-gradient(to ".concat(y?"bottom":"top",", ").concat(T.join(", "),")");return w.createElement(w.Fragment,null,w.createElement("mask",{id:g},p),w.createElement("foreignObject",{x:0,y:0,width:m,height:m,mask:"url(#".concat(g,")")},w.createElement(RL,{bg:O},w.createElement(RL,{bg:M}))))}),sb=100,GM=function(e,t,r,a,o,l,s,u,f,m){var y=arguments.length>10&&arguments[10]!==void 0?arguments[10]:0,_=r/100*360*((360-l)/360),E=l===0?0:{bottom:0,top:180,left:90,right:-90}[s],c=(100-a)/100*t;f==="round"&&a!==100&&(c+=m/2,c>=t&&(c=t-.01));var p=sb/2;return{stroke:typeof u=="string"?u:void 0,strokeDasharray:"".concat(t,"px ").concat(e),strokeDashoffset:c+y,transform:"rotate(".concat(o+_+E,"deg)"),transformOrigin:"".concat(p,"px ").concat(p,"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},$ee=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function IL(n){var e=n??[];return Array.isArray(e)?e:[e]}var Vee=function(e){var t=Ne(Ne({},zee),e),r=t.id,a=t.prefixCls,o=t.steps,l=t.strokeWidth,s=t.trailWidth,u=t.gapDegree,f=u===void 0?0:u,m=t.gapPosition,y=t.trailColor,_=t.strokeLinecap,E=t.style,c=t.className,p=t.strokeColor,g=t.percent,b=kn(t,$ee),C=sb/2,T=Gee(r),M="".concat(T,"-gradient"),O=C-l/2,B=Math.PI*2*O,P=f>0?90+f/2:-90,F=B*((360-f)/360),U=mn(o)==="object"?o:{count:o,gap:2},z=U.count,$=U.gap,J=IL(g),W=IL(p),Q=W.find(function(ie){return ie&&mn(ie)==="object"}),ae=Q&&mn(Q)==="object",Y=ae?"butt":_,K=GM(B,F,0,100,P,f,m,y,Y,l),ee=Uee(),de=function(){var he=0;return J.map(function(fe,Z){var pe=W[Z]||W[W.length-1],_e=GM(B,F,he,fe,P,f,m,pe,Y,l);return he+=fe,w.createElement(kee,{key:Z,color:pe,ptg:fe,radius:O,prefixCls:a,gradientId:M,style:_e,strokeLinecap:Y,strokeWidth:l,gapDegree:f,ref:function(we){ee[Z]=we},size:sb})}).reverse()},q=function(){var he=Math.round(z*(J[0]/100)),fe=100/z,Z=0;return new Array(z).fill(null).map(function(pe,_e){var Oe=_e<=he-1?W[0]:y,we=Oe&&mn(Oe)==="object"?"url(#".concat(M,")"):void 0,Te=GM(B,F,Z,fe,P,f,m,Oe,"butt",l,$);return Z+=(F-Te.strokeDashoffset+$)*100/F,w.createElement("circle",{key:_e,className:"".concat(a,"-circle-path"),r:O,cx:C,cy:C,stroke:we,strokeWidth:l,opacity:1,style:Te,ref:function(yt){ee[_e]=yt}})})};return w.createElement("svg",Pt({className:Je("".concat(a,"-circle"),c),viewBox:"0 0 ".concat(sb," ").concat(sb),style:E,id:r,role:"presentation"},b),!z&&w.createElement("circle",{className:"".concat(a,"-circle-trail"),r:O,cx:C,cy:C,stroke:y,strokeLinecap:Y,strokeWidth:s||l,style:K}),z?q():de())};function Bh(n){return!n||n<0?0:n>100?100:n}function j1(n){let{success:e,successPercent:t}=n,r=t;return e&&"progress"in e&&(r=e.progress),e&&"percent"in e&&(r=e.percent),r}const jee=n=>{let{percent:e,success:t,successPercent:r}=n;const a=Bh(j1({success:t,successPercent:r}));return[a,Bh(Bh(e)-a)]},Wee=n=>{let{success:e={},strokeColor:t}=n;const{strokeColor:r}=e;return[r||Vv.green,t||null]},Dw=(n,e,t)=>{var r,a,o,l;let s=-1,u=-1;if(e==="step"){const f=t.steps,m=t.strokeWidth;typeof n=="string"||typeof n>"u"?(s=n==="small"?2:14,u=m??8):typeof n=="number"?[s,u]=[n,n]:[s=14,u=8]=Array.isArray(n)?n:[n.width,n.height],s*=f}else if(e==="line"){const f=t==null?void 0:t.strokeWidth;typeof n=="string"||typeof n>"u"?u=f||(n==="small"?6:8):typeof n=="number"?[s,u]=[n,n]:[s=-1,u=8]=Array.isArray(n)?n:[n.width,n.height]}else(e==="circle"||e==="dashboard")&&(typeof n=="string"||typeof n>"u"?[s,u]=n==="small"?[60,60]:[120,120]:typeof n=="number"?[s,u]=[n,n]:Array.isArray(n)&&(s=(a=(r=n[0])!==null&&r!==void 0?r:n[1])!==null&&a!==void 0?a:120,u=(l=(o=n[0])!==null&&o!==void 0?o:n[1])!==null&&l!==void 0?l:120));return[s,u]},Xee=3,Yee=n=>Xee/n*100,qee=n=>{const{prefixCls:e,trailColor:t=null,strokeLinecap:r="round",gapPosition:a,gapDegree:o,width:l=120,type:s,children:u,success:f,size:m=l,steps:y}=n,[_,E]=Dw(m,"circle");let{strokeWidth:c}=n;c===void 0&&(c=Math.max(Yee(_),6));const p={width:_,height:E,fontSize:_*.15+6},g=w.useMemo(()=>{if(o||o===0)return o;if(s==="dashboard")return 75},[o,s]),b=jee(n),C=a||s==="dashboard"&&"bottom"||void 0,T=Object.prototype.toString.call(n.strokeColor)==="[object Object]",M=Wee({success:f,strokeColor:n.strokeColor}),O=Je(`${e}-inner`,{[`${e}-circle-gradient`]:T}),B=w.createElement(Vee,{steps:y,percent:y?b[1]:b,strokeWidth:c,trailWidth:c,strokeColor:y?M[1]:M,strokeLinecap:r,trailColor:t,prefixCls:e,gapDegree:g,gapPosition:C}),P=_<=20,F=w.createElement("div",{className:O,style:p},B,!P&&u);return P?w.createElement(Ul,{title:u},F):F},W1="--progress-line-stroke-color",EH="--progress-percent",BL=n=>{const e=n?"100%":"-100%";return new rr(`antProgress${n?"RTL":"LTR"}Active`,{"0%":{transform:`translateX(${e}) scaleX(0)`,opacity:.1},"20%":{transform:`translateX(${e}) scaleX(0)`,opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}})},Kee=n=>{const{componentCls:e,iconCls:t}=n;return{[e]:Object.assign(Object.assign({},Uo(n)),{display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:n.fontSize},[`${e}-outer`]:{display:"inline-flex",alignItems:"center",width:"100%"},[`${e}-inner`]:{position:"relative",display:"inline-block",width:"100%",flex:1,overflow:"hidden",verticalAlign:"middle",backgroundColor:n.remainingColor,borderRadius:n.lineBorderRadius},[`${e}-inner:not(${e}-circle-gradient)`]:{[`${e}-circle-path`]:{stroke:n.defaultColor}},[`${e}-success-bg, ${e}-bg`]:{position:"relative",background:n.defaultColor,borderRadius:n.lineBorderRadius,transition:`all ${n.motionDurationSlow} ${n.motionEaseInOutCirc}`},[`${e}-layout-bottom`]:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",[`${e}-text`]:{width:"max-content",marginInlineStart:0,marginTop:n.marginXXS}},[`${e}-bg`]:{overflow:"hidden","&::after":{content:'""',background:{_multi_value_:!0,value:["inherit",`var(${W1})`]},height:"100%",width:`calc(1 / var(${EH}) * 100%)`,display:"block"},[`&${e}-bg-inner`]:{minWidth:"max-content","&::after":{content:"none"},[`${e}-text-inner`]:{color:n.colorWhite,[`&${e}-text-bright`]:{color:"rgba(0, 0, 0, 0.45)"}}}},[`${e}-success-bg`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:n.colorSuccess},[`${e}-text`]:{display:"inline-block",marginInlineStart:n.marginXS,color:n.colorText,lineHeight:1,width:"2em",whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal",[t]:{fontSize:n.fontSize},[`&${e}-text-outer`]:{width:"max-content"},[`&${e}-text-outer${e}-text-start`]:{width:"max-content",marginInlineStart:0,marginInlineEnd:n.marginXS}},[`${e}-text-inner`]:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",marginInlineStart:0,padding:`0 ${Mt(n.paddingXXS)}`,[`&${e}-text-start`]:{justifyContent:"start"},[`&${e}-text-end`]:{justifyContent:"end"}},[`&${e}-status-active`]:{[`${e}-bg::before`]:{position:"absolute",inset:0,backgroundColor:n.colorBgContainer,borderRadius:n.lineBorderRadius,opacity:0,animationName:BL(),animationDuration:n.progressActiveMotionDuration,animationTimingFunction:n.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'}},[`&${e}-rtl${e}-status-active`]:{[`${e}-bg::before`]:{animationName:BL(!0)}},[`&${e}-status-exception`]:{[`${e}-bg`]:{backgroundColor:n.colorError},[`${e}-text`]:{color:n.colorError}},[`&${e}-status-exception ${e}-inner:not(${e}-circle-gradient)`]:{[`${e}-circle-path`]:{stroke:n.colorError}},[`&${e}-status-success`]:{[`${e}-bg`]:{backgroundColor:n.colorSuccess},[`${e}-text`]:{color:n.colorSuccess}},[`&${e}-status-success ${e}-inner:not(${e}-circle-gradient)`]:{[`${e}-circle-path`]:{stroke:n.colorSuccess}}})}},Jee=n=>{const{componentCls:e,iconCls:t}=n;return{[e]:{[`${e}-circle-trail`]:{stroke:n.remainingColor},[`&${e}-circle ${e}-inner`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`&${e}-circle ${e}-text`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:n.circleTextColor,fontSize:n.circleTextFontSize,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[t]:{fontSize:n.circleIconFontSize}},[`${e}-circle&-status-exception`]:{[`${e}-text`]:{color:n.colorError}},[`${e}-circle&-status-success`]:{[`${e}-text`]:{color:n.colorSuccess}}},[`${e}-inline-circle`]:{lineHeight:1,[`${e}-inner`]:{verticalAlign:"bottom"}}}},Qee=n=>{const{componentCls:e}=n;return{[e]:{[`${e}-steps`]:{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:n.progressStepMinWidth,marginInlineEnd:n.progressStepMarginInlineEnd,backgroundColor:n.remainingColor,transition:`all ${n.motionDurationSlow}`,"&-active":{backgroundColor:n.defaultColor}}}}}},Zee=n=>{const{componentCls:e,iconCls:t}=n;return{[e]:{[`${e}-small&-line, ${e}-small&-line ${e}-text ${t}`]:{fontSize:n.fontSizeSM}}}},ete=n=>({circleTextColor:n.colorText,defaultColor:n.colorInfo,remainingColor:n.colorFillSecondary,lineBorderRadius:100,circleTextFontSize:"1em",circleIconFontSize:`${n.fontSize/n.fontSizeSM}em`}),tte=Nr("Progress",n=>{const e=n.calc(n.marginXXS).div(2).equal(),t=qi(n,{progressStepMarginInlineEnd:e,progressStepMinWidth:e,progressActiveMotionDuration:"2.4s"});return[Kee(t),Jee(t),Qee(t),Zee(t)]},ete);var nte=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const ite=n=>{let e=[];return Object.keys(n).forEach(t=>{const r=parseFloat(t.replace(/%/g,""));Number.isNaN(r)||e.push({key:r,value:n[t]})}),e=e.sort((t,r)=>t.key-r.key),e.map(t=>{let{key:r,value:a}=t;return`${a} ${r}%`}).join(", ")},rte=(n,e)=>{const{from:t=Vv.blue,to:r=Vv.blue,direction:a=e==="rtl"?"to left":"to right"}=n,o=nte(n,["from","to","direction"]);if(Object.keys(o).length!==0){const s=ite(o),u=`linear-gradient(${a}, ${s})`;return{background:u,[W1]:u}}const l=`linear-gradient(${a}, ${t}, ${r})`;return{background:l,[W1]:l}},ate=n=>{const{prefixCls:e,direction:t,percent:r,size:a,strokeWidth:o,strokeColor:l,strokeLinecap:s="round",children:u,trailColor:f=null,percentPosition:m,success:y}=n,{align:_,type:E}=m,c=l&&typeof l!="string"?rte(l,t):{[W1]:l,background:l},p=s==="square"||s==="butt"?0:void 0,g=a??[-1,o||(a==="small"?6:8)],[b,C]=Dw(g,"line",{strokeWidth:o}),T={backgroundColor:f||void 0,borderRadius:p},M=Object.assign(Object.assign({width:`${Bh(r)}%`,height:C,borderRadius:p},c),{[EH]:Bh(r)/100}),O=j1(n),B={width:`${Bh(O)}%`,height:C,borderRadius:p,backgroundColor:y==null?void 0:y.strokeColor},P={width:b<0?"100%":b},F=w.createElement("div",{className:`${e}-inner`,style:T},w.createElement("div",{className:Je(`${e}-bg`,`${e}-bg-${E}`),style:M},E==="inner"&&u),O!==void 0&&w.createElement("div",{className:`${e}-success-bg`,style:B})),U=E==="outer"&&_==="start",z=E==="outer"&&_==="end";return E==="outer"&&_==="center"?w.createElement("div",{className:`${e}-layout-bottom`},F,u):w.createElement("div",{className:`${e}-outer`,style:P},U&&u,F,z&&u)},ote=n=>{const{size:e,steps:t,rounding:r=Math.round,percent:a=0,strokeWidth:o=8,strokeColor:l,trailColor:s=null,prefixCls:u,children:f}=n,m=r(t*(a/100)),_=e??[e==="small"?2:14,o],[E,c]=Dw(_,"step",{steps:t,strokeWidth:o}),p=E/t,g=Array.from({length:t});for(let b=0;b<t;b++){const C=Array.isArray(l)?l[b]:l;g[b]=w.createElement("div",{key:b,className:Je(`${u}-steps-item`,{[`${u}-steps-item-active`]:b<=m-1}),style:{backgroundColor:b<=m-1?C:s,width:p,height:c}})}return w.createElement("div",{className:`${u}-steps-outer`},g,f)};var ste=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const lte=["normal","exception","active","success"],wH=w.forwardRef((n,e)=>{const{prefixCls:t,className:r,rootClassName:a,steps:o,strokeColor:l,percent:s=0,size:u="default",showInfo:f=!0,type:m="line",status:y,format:_,style:E,percentPosition:c={}}=n,p=ste(n,["prefixCls","className","rootClassName","steps","strokeColor","percent","size","showInfo","type","status","format","style","percentPosition"]),{align:g="end",type:b="outer"}=c,C=Array.isArray(l)?l[0]:l,T=typeof l=="string"||Array.isArray(l)?l:void 0,M=w.useMemo(()=>{if(C){const de=typeof C=="string"?C:Object.values(C)[0];return new Bi(de).isLight()}return!1},[l]),O=w.useMemo(()=>{var de,q;const ie=j1(n);return parseInt(ie!==void 0?(de=ie??0)===null||de===void 0?void 0:de.toString():(q=s??0)===null||q===void 0?void 0:q.toString(),10)},[s,n.success,n.successPercent]),B=w.useMemo(()=>!lte.includes(y)&&O>=100?"success":y||"normal",[y,O]),{getPrefixCls:P,direction:F,progress:U}=w.useContext(Hn),z=P("progress",t),[$,J,W]=tte(z),Q=m==="line",ae=Q&&!o,Y=w.useMemo(()=>{if(!f)return null;const de=j1(n);let q;const ie=_||(fe=>`${fe}%`),he=Q&&M&&b==="inner";return b==="inner"||_||B!=="exception"&&B!=="success"?q=ie(Bh(s),Bh(de)):B==="exception"?q=Q?w.createElement(ew,null):w.createElement(w0,null):B==="success"&&(q=Q?w.createElement(vO,null):w.createElement(u$,null)),w.createElement("span",{className:Je(`${z}-text`,{[`${z}-text-bright`]:he,[`${z}-text-${g}`]:ae,[`${z}-text-${b}`]:ae}),title:typeof q=="string"?q:void 0},q)},[f,s,O,B,m,z,_]);let K;m==="line"?K=o?w.createElement(ote,Object.assign({},n,{strokeColor:T,prefixCls:z,steps:typeof o=="object"?o.count:o}),Y):w.createElement(ate,Object.assign({},n,{strokeColor:C,prefixCls:z,direction:F,percentPosition:{align:g,type:b}}),Y):(m==="circle"||m==="dashboard")&&(K=w.createElement(qee,Object.assign({},n,{strokeColor:C,prefixCls:z,progressStatus:B}),Y));const ee=Je(z,`${z}-status-${B}`,{[`${z}-${m==="dashboard"&&"circle"||m}`]:m!=="line",[`${z}-inline-circle`]:m==="circle"&&Dw(u,"circle")[0]<=20,[`${z}-line`]:ae,[`${z}-line-align-${g}`]:ae,[`${z}-line-position-${b}`]:ae,[`${z}-steps`]:o,[`${z}-show-info`]:f,[`${z}-${u}`]:typeof u=="string",[`${z}-rtl`]:F==="rtl"},U==null?void 0:U.className,r,a,J,W);return $(w.createElement("div",Object.assign({ref:e,style:Object.assign(Object.assign({},U==null?void 0:U.style),E),className:ee,role:"progressbar","aria-valuenow":O,"aria-valuemin":0,"aria-valuemax":100},yo(p,["trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"])),K))});var cte=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],AH=w.forwardRef(function(n,e){var t,r=n.prefixCls,a=r===void 0?"rc-switch":r,o=n.className,l=n.checked,s=n.defaultChecked,u=n.disabled,f=n.loadingIcon,m=n.checkedChildren,y=n.unCheckedChildren,_=n.onClick,E=n.onChange,c=n.onKeyDown,p=kn(n,cte),g=mo(!1,{value:l,defaultValue:s}),b=vt(g,2),C=b[0],T=b[1];function M(F,U){var z=C;return u||(z=F,T(z),E==null||E(z,U)),z}function O(F){F.which===to.LEFT?M(!1,F):F.which===to.RIGHT&&M(!0,F),c==null||c(F)}function B(F){var U=M(!C,F);_==null||_(U,F)}var P=Je(a,o,(t={},ue(t,"".concat(a,"-checked"),C),ue(t,"".concat(a,"-disabled"),u),t));return w.createElement("button",Pt({},p,{type:"button",role:"switch","aria-checked":C,disabled:u,className:P,ref:e,onKeyDown:O,onClick:B}),f,w.createElement("span",{className:"".concat(a,"-inner")},w.createElement("span",{className:"".concat(a,"-inner-checked")},m),w.createElement("span",{className:"".concat(a,"-inner-unchecked")},y)))});AH.displayName="Switch";const ute=n=>{const{componentCls:e,trackHeightSM:t,trackPadding:r,trackMinWidthSM:a,innerMinMarginSM:o,innerMaxMarginSM:l,handleSizeSM:s,calc:u}=n,f=`${e}-inner`,m=Mt(u(s).add(u(r).mul(2)).equal()),y=Mt(u(l).mul(2).equal());return{[e]:{[`&${e}-small`]:{minWidth:a,height:t,lineHeight:Mt(t),[`${e}-inner`]:{paddingInlineStart:l,paddingInlineEnd:o,[`${f}-checked, ${f}-unchecked`]:{minHeight:t},[`${f}-checked`]:{marginInlineStart:`calc(-100% + ${m} - ${y})`,marginInlineEnd:`calc(100% - ${m} + ${y})`},[`${f}-unchecked`]:{marginTop:u(t).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`${e}-handle`]:{width:s,height:s},[`${e}-loading-icon`]:{top:u(u(s).sub(n.switchLoadingIconSize)).div(2).equal(),fontSize:n.switchLoadingIconSize},[`&${e}-checked`]:{[`${e}-inner`]:{paddingInlineStart:o,paddingInlineEnd:l,[`${f}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${f}-unchecked`]:{marginInlineStart:`calc(100% - ${m} + ${y})`,marginInlineEnd:`calc(-100% + ${m} - ${y})`}},[`${e}-handle`]:{insetInlineStart:`calc(100% - ${Mt(u(s).add(r).equal())})`}},[`&:not(${e}-disabled):active`]:{[`&:not(${e}-checked) ${f}`]:{[`${f}-unchecked`]:{marginInlineStart:u(n.marginXXS).div(2).equal(),marginInlineEnd:u(n.marginXXS).mul(-1).div(2).equal()}},[`&${e}-checked ${f}`]:{[`${f}-checked`]:{marginInlineStart:u(n.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:u(n.marginXXS).div(2).equal()}}}}}}},dte=n=>{const{componentCls:e,handleSize:t,calc:r}=n;return{[e]:{[`${e}-loading-icon${n.iconCls}`]:{position:"relative",top:r(r(t).sub(n.fontSize)).div(2).equal(),color:n.switchLoadingIconColor,verticalAlign:"top"},[`&${e}-checked ${e}-loading-icon`]:{color:n.switchColor}}}},fte=n=>{const{componentCls:e,trackPadding:t,handleBg:r,handleShadow:a,handleSize:o,calc:l}=n,s=`${e}-handle`;return{[e]:{[s]:{position:"absolute",top:t,insetInlineStart:t,width:o,height:o,transition:`all ${n.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:r,borderRadius:l(o).div(2).equal(),boxShadow:a,transition:`all ${n.switchDuration} ease-in-out`,content:'""'}},[`&${e}-checked ${s}`]:{insetInlineStart:`calc(100% - ${Mt(l(o).add(t).equal())})`},[`&:not(${e}-disabled):active`]:{[`${s}::before`]:{insetInlineEnd:n.switchHandleActiveInset,insetInlineStart:0},[`&${e}-checked ${s}::before`]:{insetInlineEnd:0,insetInlineStart:n.switchHandleActiveInset}}}}},hte=n=>{const{componentCls:e,trackHeight:t,trackPadding:r,innerMinMargin:a,innerMaxMargin:o,handleSize:l,calc:s}=n,u=`${e}-inner`,f=Mt(s(l).add(s(r).mul(2)).equal()),m=Mt(s(o).mul(2).equal());return{[e]:{[u]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:o,paddingInlineEnd:a,transition:`padding-inline-start ${n.switchDuration} ease-in-out, padding-inline-end ${n.switchDuration} ease-in-out`,[`${u}-checked, ${u}-unchecked`]:{display:"block",color:n.colorTextLightSolid,fontSize:n.fontSizeSM,transition:`margin-inline-start ${n.switchDuration} ease-in-out, margin-inline-end ${n.switchDuration} ease-in-out`,pointerEvents:"none",minHeight:t},[`${u}-checked`]:{marginInlineStart:`calc(-100% + ${f} - ${m})`,marginInlineEnd:`calc(100% - ${f} + ${m})`},[`${u}-unchecked`]:{marginTop:s(t).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`&${e}-checked ${u}`]:{paddingInlineStart:a,paddingInlineEnd:o,[`${u}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${u}-unchecked`]:{marginInlineStart:`calc(100% - ${f} + ${m})`,marginInlineEnd:`calc(-100% + ${f} - ${m})`}},[`&:not(${e}-disabled):active`]:{[`&:not(${e}-checked) ${u}`]:{[`${u}-unchecked`]:{marginInlineStart:s(r).mul(2).equal(),marginInlineEnd:s(r).mul(-1).mul(2).equal()}},[`&${e}-checked ${u}`]:{[`${u}-checked`]:{marginInlineStart:s(r).mul(-1).mul(2).equal(),marginInlineEnd:s(r).mul(2).equal()}}}}}},pte=n=>{const{componentCls:e,trackHeight:t,trackMinWidth:r}=n;return{[e]:Object.assign(Object.assign(Object.assign(Object.assign({},Uo(n)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:r,height:t,lineHeight:Mt(t),verticalAlign:"middle",background:n.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${n.motionDurationMid}`,userSelect:"none",[`&:hover:not(${e}-disabled)`]:{background:n.colorTextTertiary}}),RO(n)),{[`&${e}-checked`]:{background:n.switchColor,[`&:hover:not(${e}-disabled)`]:{background:n.colorPrimaryHover}},[`&${e}-loading, &${e}-disabled`]:{cursor:"not-allowed",opacity:n.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${e}-rtl`]:{direction:"rtl"}})}},mte=n=>{const{fontSize:e,lineHeight:t,controlHeight:r,colorWhite:a}=n,o=e*t,l=r/2,s=2,u=o-s*2,f=l-s*2;return{trackHeight:o,trackHeightSM:l,trackMinWidth:u*2+s*4,trackMinWidthSM:f*2+s*2,trackPadding:s,handleBg:a,handleSize:u,handleSizeSM:f,handleShadow:`0 2px 4px 0 ${new Bi("#00230b").setA(.2).toRgbString()}`,innerMinMargin:u/2,innerMaxMargin:u+s+s*2,innerMinMarginSM:f/2,innerMaxMarginSM:f+s+s*2}},gte=Nr("Switch",n=>{const e=qi(n,{switchDuration:n.motionDurationMid,switchColor:n.colorPrimary,switchDisabledOpacity:n.opacityLoading,switchLoadingIconSize:n.calc(n.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:`rgba(0, 0, 0, ${n.opacityLoading})`,switchHandleActiveInset:"-30%"});return[pte(e),hte(e),fte(e),dte(e),ute(e)]},mte);var vte=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const yte=w.forwardRef((n,e)=>{const{prefixCls:t,size:r,disabled:a,loading:o,className:l,rootClassName:s,style:u,checked:f,value:m,defaultChecked:y,defaultValue:_,onChange:E}=n,c=vte(n,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[p,g]=mo(!1,{value:f??m,defaultValue:y??_}),{getPrefixCls:b,direction:C,switch:T}=w.useContext(Hn),M=w.useContext(Ku),O=(a??M)||o,B=b("switch",t),P=w.createElement("div",{className:`${B}-handle`},o&&w.createElement(e0,{className:`${B}-loading-icon`})),[F,U,z]=gte(B),$=Sf(r),J=Je(T==null?void 0:T.className,{[`${B}-small`]:$==="small",[`${B}-loading`]:o,[`${B}-rtl`]:C==="rtl"},l,s,U,z),W=Object.assign(Object.assign({},T==null?void 0:T.style),u),Q=function(){g(arguments.length<=0?void 0:arguments[0]),E==null||E.apply(void 0,arguments)};return F(w.createElement(dw,{component:"Switch"},w.createElement(AH,Object.assign({},c,{checked:p,onChange:Q,prefixCls:B,className:J,style:W,disabled:O,ref:e,loadingIcon:P}))))}),MH=yte;MH.__ANT_SWITCH=!0;function bte(n){if(n==null)throw new TypeError("Cannot destructure "+n)}const Ste=n=>{const{paddingXXS:e,lineWidth:t,tagPaddingHorizontal:r,componentCls:a,calc:o}=n,l=o(r).sub(t).equal(),s=o(e).sub(t).equal();return{[a]:Object.assign(Object.assign({},Uo(n)),{display:"inline-block",height:"auto",marginInlineEnd:n.marginXS,paddingInline:l,fontSize:n.tagFontSize,lineHeight:n.tagLineHeight,whiteSpace:"nowrap",background:n.defaultBg,border:`${Mt(n.lineWidth)} ${n.lineType} ${n.colorBorder}`,borderRadius:n.borderRadiusSM,opacity:1,transition:`all ${n.motionDurationMid}`,textAlign:"start",position:"relative",[`&${a}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:n.defaultColor},[`${a}-close-icon`]:{marginInlineStart:s,fontSize:n.tagIconSize,color:n.colorTextDescription,cursor:"pointer",transition:`all ${n.motionDurationMid}`,"&:hover":{color:n.colorTextHeading}},[`&${a}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${n.iconCls}-close, ${n.iconCls}-close:hover`]:{color:n.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${a}-checkable-checked):hover`]:{color:n.colorPrimary,backgroundColor:n.colorFillSecondary},"&:active, &-checked":{color:n.colorTextLightSolid},"&-checked":{backgroundColor:n.colorPrimary,"&:hover":{backgroundColor:n.colorPrimaryHover}},"&:active":{backgroundColor:n.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${n.iconCls} + span, > span + ${n.iconCls}`]:{marginInlineStart:l}}),[`${a}-borderless`]:{borderColor:"transparent",background:n.tagBorderlessBg}}},tI=n=>{const{lineWidth:e,fontSizeIcon:t,calc:r}=n,a=n.fontSizeSM;return qi(n,{tagFontSize:a,tagLineHeight:Mt(r(n.lineHeightSM).mul(a).equal()),tagIconSize:r(t).sub(r(e).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:n.defaultBg})},nI=n=>({defaultBg:new Bi(n.colorFillQuaternary).onBackground(n.colorBgContainer).toHexString(),defaultColor:n.colorText}),TH=Nr("Tag",n=>{const e=tI(n);return Ste(e)},nI);var _te=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const xte=w.forwardRef((n,e)=>{const{prefixCls:t,style:r,className:a,checked:o,onChange:l,onClick:s}=n,u=_te(n,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:f,tag:m}=w.useContext(Hn),y=b=>{l==null||l(!o),s==null||s(b)},_=f("tag",t),[E,c,p]=TH(_),g=Je(_,`${_}-checkable`,{[`${_}-checkable-checked`]:o},m==null?void 0:m.className,a,c,p);return E(w.createElement("span",Object.assign({},u,{ref:e,style:Object.assign(Object.assign({},r),m==null?void 0:m.style),className:g,onClick:y})))}),Cte=n=>QU(n,(e,t)=>{let{textColor:r,lightBorderColor:a,lightColor:o,darkColor:l}=t;return{[`${n.componentCls}${n.componentCls}-${e}`]:{color:r,background:o,borderColor:a,"&-inverse":{color:n.colorTextLightSolid,background:l,borderColor:l},[`&${n.componentCls}-borderless`]:{borderColor:"transparent"}}}}),Ete=cw(["Tag","preset"],n=>{const e=tI(n);return Cte(e)},nI);function wte(n){return typeof n!="string"?n:n.charAt(0).toUpperCase()+n.slice(1)}const Sx=(n,e,t)=>{const r=wte(t);return{[`${n.componentCls}${n.componentCls}-${e}`]:{color:n[`color${t}`],background:n[`color${r}Bg`],borderColor:n[`color${r}Border`],[`&${n.componentCls}-borderless`]:{borderColor:"transparent"}}}},Ate=cw(["Tag","status"],n=>{const e=tI(n);return[Sx(e,"success","Success"),Sx(e,"processing","Info"),Sx(e,"error","Error"),Sx(e,"warning","Warning")]},nI);var Mte=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const Tte=w.forwardRef((n,e)=>{const{prefixCls:t,className:r,rootClassName:a,style:o,children:l,icon:s,color:u,onClose:f,bordered:m=!0,visible:y}=n,_=Mte(n,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:E,direction:c,tag:p}=w.useContext(Hn),[g,b]=w.useState(!0),C=yo(_,["closeIcon","closable"]);w.useEffect(()=>{y!==void 0&&b(y)},[y]);const T=x4(u),M=aJ(u),O=T||M,B=Object.assign(Object.assign({backgroundColor:u&&!O?u:void 0},p==null?void 0:p.style),o),P=E("tag",t),[F,U,z]=TH(P),$=Je(P,p==null?void 0:p.className,{[`${P}-${u}`]:O,[`${P}-has-color`]:u&&!O,[`${P}-hidden`]:!g,[`${P}-rtl`]:c==="rtl",[`${P}-borderless`]:!m},r,a,U,z),J=ee=>{ee.stopPropagation(),f==null||f(ee),!ee.defaultPrevented&&b(!1)},[,W]=jF(N1(n),N1(p),{closable:!1,closeIconRender:ee=>{const de=w.createElement("span",{className:`${P}-close-icon`,onClick:J},ee);return mF(ee,de,q=>({onClick:ie=>{var he;(he=q==null?void 0:q.onClick)===null||he===void 0||he.call(q,ie),J(ie)},className:Je(q==null?void 0:q.className,`${P}-close-icon`)}))}}),Q=typeof _.onClick=="function"||l&&l.type==="a",ae=s||null,Y=ae?w.createElement(w.Fragment,null,ae,l&&w.createElement("span",null,l)):l,K=w.createElement("span",Object.assign({},C,{ref:e,className:$,style:B}),Y,W,T&&w.createElement(Ete,{key:"preset",prefixCls:P}),M&&w.createElement(Ate,{key:"status",prefixCls:P}));return F(Q?w.createElement(dw,{component:"Tag"},K):K)}),UC=Tte;UC.CheckableTag=xte;const kM=function(n,e){if(n&&e){var t=Array.isArray(e)?e:e.split(","),r=n.name||"",a=n.type||"",o=a.replace(/\/.*$/,"");return t.some(function(l){var s=l.trim();if(/^\*(\/\*)?$/.test(l))return!0;if(s.charAt(0)==="."){var u=r.toLowerCase(),f=s.toLowerCase(),m=[f];return(f===".jpg"||f===".jpeg")&&(m=[".jpg",".jpeg"]),m.some(function(y){return u.endsWith(y)})}return/\/\*$/.test(s)?o===s.replace(/\/.*$/,""):a===s?!0:/^\w+$/.test(s)?(zo(!1,"Upload takes an invalidate 'accept' type '".concat(s,"'.Skip for check.")),!0):!1})}return!0};function Rte(n,e){var t="cannot ".concat(n.method," ").concat(n.action," ").concat(e.status,"'"),r=new Error(t);return r.status=e.status,r.method=n.method,r.url=n.action,r}function DL(n){var e=n.responseText||n.response;if(!e)return e;try{return JSON.parse(e)}catch{return e}}function Ote(n){var e=new XMLHttpRequest;n.onProgress&&e.upload&&(e.upload.onprogress=function(o){o.total>0&&(o.percent=o.loaded/o.total*100),n.onProgress(o)});var t=new FormData;n.data&&Object.keys(n.data).forEach(function(a){var o=n.data[a];if(Array.isArray(o)){o.forEach(function(l){t.append("".concat(a,"[]"),l)});return}t.append(a,o)}),n.file instanceof Blob?t.append(n.filename,n.file,n.file.name):t.append(n.filename,n.file),e.onerror=function(o){n.onError(o)},e.onload=function(){return e.status<200||e.status>=300?n.onError(Rte(n,e),DL(e)):n.onSuccess(DL(e),e)},e.open(n.method,n.action,!0),n.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);var r=n.headers||{};return r["X-Requested-With"]!==null&&e.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(r).forEach(function(a){r[a]!==null&&e.setRequestHeader(a,r[a])}),e.send(t),{abort:function(){e.abort()}}}var Ite=function(){var n=Qs(br().mark(function e(t,r){var a,o,l,s,u,f,m,y;return br().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:f=function(){return f=Qs(br().mark(function p(g){return br().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",new Promise(function(T){g.file(function(M){r(M)?(g.fullPath&&!M.webkitRelativePath&&(Object.defineProperties(M,{webkitRelativePath:{writable:!0}}),M.webkitRelativePath=g.fullPath.replace(/^\//,""),Object.defineProperties(M,{webkitRelativePath:{writable:!1}})),T(M)):T(null)})}));case 1:case"end":return C.stop()}},p)})),f.apply(this,arguments)},u=function(p){return f.apply(this,arguments)},s=function(){return s=Qs(br().mark(function p(g){var b,C,T,M,O;return br().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:b=g.createReader(),C=[];case 2:return P.next=5,new Promise(function(F){b.readEntries(F,function(){return F([])})});case 5:if(T=P.sent,M=T.length,M){P.next=9;break}return P.abrupt("break",12);case 9:for(O=0;O<M;O++)C.push(T[O]);P.next=2;break;case 12:return P.abrupt("return",C);case 13:case"end":return P.stop()}},p)})),s.apply(this,arguments)},l=function(p){return s.apply(this,arguments)},a=[],o=[],t.forEach(function(c){return o.push(c.webkitGetAsEntry())}),m=function(){var c=Qs(br().mark(function p(g,b){var C,T;return br().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(g){O.next=2;break}return O.abrupt("return");case 2:if(g.path=b||"",!g.isFile){O.next=10;break}return O.next=6,u(g);case 6:C=O.sent,C&&a.push(C),O.next=15;break;case 10:if(!g.isDirectory){O.next=15;break}return O.next=13,l(g);case 13:T=O.sent,o.push.apply(o,Kt(T));case 15:case"end":return O.stop()}},p)}));return function(g,b){return c.apply(this,arguments)}}(),y=0;case 9:if(!(y<o.length)){E.next=15;break}return E.next=12,m(o[y]);case 12:y++,E.next=9;break;case 15:return E.abrupt("return",a);case 16:case"end":return E.stop()}},e)}));return function(t,r){return n.apply(this,arguments)}}(),Bte=+new Date,Dte=0;function $M(){return"rc-upload-".concat(Bte,"-").concat(++Dte)}var Pte=["component","prefixCls","className","classNames","disabled","id","name","style","styles","multiple","accept","capture","children","directory","openFileDialogOnClick","onMouseEnter","onMouseLeave","hasControlInside"],Lte=function(n){Ar(t,n);var e=kc(t);function t(){var r;ai(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o)),ue(Dn(r),"state",{uid:$M()}),ue(Dn(r),"reqs",{}),ue(Dn(r),"fileInput",void 0),ue(Dn(r),"_isMounted",void 0),ue(Dn(r),"onChange",function(s){var u=r.props,f=u.accept,m=u.directory,y=s.target.files,_=Kt(y).filter(function(E){return!m||kM(E,f)});r.uploadFiles(_),r.reset()}),ue(Dn(r),"onClick",function(s){var u=r.fileInput;if(u){var f=s.target,m=r.props.onClick;if(f&&f.tagName==="BUTTON"){var y=u.parentNode;y.focus(),f.blur()}u.click(),m&&m(s)}}),ue(Dn(r),"onKeyDown",function(s){s.key==="Enter"&&r.onClick(s)}),ue(Dn(r),"onFileDrop",function(){var s=Qs(br().mark(function u(f){var m,y,_;return br().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(m=r.props.multiple,f.preventDefault(),f.type!=="dragover"){c.next=4;break}return c.abrupt("return");case 4:if(!r.props.directory){c.next=11;break}return c.next=7,Ite(Array.prototype.slice.call(f.dataTransfer.items),function(p){return kM(p,r.props.accept)});case 7:y=c.sent,r.uploadFiles(y),c.next=14;break;case 11:_=Kt(f.dataTransfer.files).filter(function(p){return kM(p,r.props.accept)}),m===!1&&(_=_.slice(0,1)),r.uploadFiles(_);case 14:case"end":return c.stop()}},u)}));return function(u){return s.apply(this,arguments)}}()),ue(Dn(r),"uploadFiles",function(s){var u=Kt(s),f=u.map(function(m){return m.uid=$M(),r.processFile(m,u)});Promise.all(f).then(function(m){var y=r.props.onBatchStart;y==null||y(m.map(function(_){var E=_.origin,c=_.parsedFile;return{file:E,parsedFile:c}})),m.filter(function(_){return _.parsedFile!==null}).forEach(function(_){r.post(_)})})}),ue(Dn(r),"processFile",function(){var s=Qs(br().mark(function u(f,m){var y,_,E,c,p,g,b,C,T;return br().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(y=r.props.beforeUpload,_=f,!y){O.next=14;break}return O.prev=3,O.next=6,y(f,m);case 6:_=O.sent,O.next=12;break;case 9:O.prev=9,O.t0=O.catch(3),_=!1;case 12:if(_!==!1){O.next=14;break}return O.abrupt("return",{origin:f,parsedFile:null,action:null,data:null});case 14:if(E=r.props.action,typeof E!="function"){O.next=21;break}return O.next=18,E(f);case 18:c=O.sent,O.next=22;break;case 21:c=E;case 22:if(p=r.props.data,typeof p!="function"){O.next=29;break}return O.next=26,p(f);case 26:g=O.sent,O.next=30;break;case 29:g=p;case 30:return b=(mn(_)==="object"||typeof _=="string")&&_?_:f,b instanceof File?C=b:C=new File([b],f.name,{type:f.type}),T=C,T.uid=f.uid,O.abrupt("return",{origin:f,data:g,parsedFile:T,action:c});case 35:case"end":return O.stop()}},u,null,[[3,9]])}));return function(u,f){return s.apply(this,arguments)}}()),ue(Dn(r),"saveFileInput",function(s){r.fileInput=s}),r}return oi(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.abort()}},{key:"post",value:function(a){var o=this,l=a.data,s=a.origin,u=a.action,f=a.parsedFile;if(this._isMounted){var m=this.props,y=m.onStart,_=m.customRequest,E=m.name,c=m.headers,p=m.withCredentials,g=m.method,b=s.uid,C=_||Ote,T={action:u,filename:E,data:l,file:f,headers:c,withCredentials:p,method:g||"post",onProgress:function(O){var B=o.props.onProgress;B==null||B(O,f)},onSuccess:function(O,B){var P=o.props.onSuccess;P==null||P(O,f,B),delete o.reqs[b]},onError:function(O,B){var P=o.props.onError;P==null||P(O,B,f),delete o.reqs[b]}};y(s),this.reqs[b]=C(T)}}},{key:"reset",value:function(){this.setState({uid:$M()})}},{key:"abort",value:function(a){var o=this.reqs;if(a){var l=a.uid?a.uid:a;o[l]&&o[l].abort&&o[l].abort(),delete o[l]}else Object.keys(o).forEach(function(s){o[s]&&o[s].abort&&o[s].abort(),delete o[s]})}},{key:"render",value:function(){var a=this.props,o=a.component,l=a.prefixCls,s=a.className,u=a.classNames,f=u===void 0?{}:u,m=a.disabled,y=a.id,_=a.name,E=a.style,c=a.styles,p=c===void 0?{}:c,g=a.multiple,b=a.accept,C=a.capture,T=a.children,M=a.directory,O=a.openFileDialogOnClick,B=a.onMouseEnter,P=a.onMouseLeave,F=a.hasControlInside,U=kn(a,Pte),z=Je(ue(ue(ue({},l,!0),"".concat(l,"-disabled"),m),s,s)),$=M?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},J=m?{}:{onClick:O?this.onClick:function(){},onKeyDown:O?this.onKeyDown:function(){},onMouseEnter:B,onMouseLeave:P,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,tabIndex:F?void 0:"0"};return Xe.createElement(o,Pt({},J,{className:z,role:F?void 0:"button",style:E}),Xe.createElement("input",Pt({},zm(U,{aria:!0,data:!0}),{id:y,name:_,disabled:m,type:"file",ref:this.saveFileInput,onClick:function(Q){return Q.stopPropagation()},key:this.state.uid,style:Ne({display:"none"},p.input),className:f.input,accept:b},$,{multiple:g,onChange:this.onChange},C!=null?{capture:C}:{})),T)}}]),t}(w.Component);function VM(){}var b2=function(n){Ar(t,n);var e=kc(t);function t(){var r;ai(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o)),ue(Dn(r),"uploader",void 0),ue(Dn(r),"saveUploader",function(s){r.uploader=s}),r}return oi(t,[{key:"abort",value:function(a){this.uploader.abort(a)}},{key:"render",value:function(){return Xe.createElement(Lte,Pt({},this.props,{ref:this.saveUploader}))}}]),t}(w.Component);ue(b2,"defaultProps",{component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:VM,onError:VM,onSuccess:VM,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0,hasControlInside:!1});const Nte=n=>{const{componentCls:e,iconCls:t}=n;return{[`${e}-wrapper`]:{[`${e}-drag`]:{position:"relative",width:"100%",height:"100%",textAlign:"center",background:n.colorFillAlter,border:`${Mt(n.lineWidth)} dashed ${n.colorBorder}`,borderRadius:n.borderRadiusLG,cursor:"pointer",transition:`border-color ${n.motionDurationSlow}`,[e]:{padding:n.padding},[`${e}-btn`]:{display:"table",width:"100%",height:"100%",outline:"none",borderRadius:n.borderRadiusLG,"&:focus-visible":{outline:`${Mt(n.lineWidthFocus)} solid ${n.colorPrimaryBorder}`}},[`${e}-drag-container`]:{display:"table-cell",verticalAlign:"middle"},[`
          &:not(${e}-disabled):hover,
          &-hover:not(${e}-disabled)
        `]:{borderColor:n.colorPrimaryHover},[`p${e}-drag-icon`]:{marginBottom:n.margin,[t]:{color:n.colorPrimary,fontSize:n.uploadThumbnailSize}},[`p${e}-text`]:{margin:`0 0 ${Mt(n.marginXXS)}`,color:n.colorTextHeading,fontSize:n.fontSizeLG},[`p${e}-hint`]:{color:n.colorTextDescription,fontSize:n.fontSize},[`&${e}-disabled`]:{[`p${e}-drag-icon ${t},
            p${e}-text,
            p${e}-hint
          `]:{color:n.colorTextDisabled}}}}}},zte=n=>{const{componentCls:e,iconCls:t,fontSize:r,lineHeight:a,calc:o}=n,l=`${e}-list-item`,s=`${l}-actions`,u=`${l}-action`;return{[`${e}-wrapper`]:{[`${e}-list`]:Object.assign(Object.assign({},l0()),{lineHeight:n.lineHeight,[l]:{position:"relative",height:o(n.lineHeight).mul(r).equal(),marginTop:n.marginXS,fontSize:r,display:"flex",alignItems:"center",transition:`background-color ${n.motionDurationSlow}`,borderRadius:n.borderRadiusSM,"&:hover":{backgroundColor:n.controlItemBgHover},[`${l}-name`]:Object.assign(Object.assign({},sw),{padding:`0 ${Mt(n.paddingXS)}`,lineHeight:a,flex:"auto",transition:`all ${n.motionDurationSlow}`}),[s]:{whiteSpace:"nowrap",[u]:{opacity:0},[t]:{color:n.actionsColor,transition:`all ${n.motionDurationSlow}`},[`
              ${u}:focus-visible,
              &.picture ${u}
            `]:{opacity:1}},[`${e}-icon ${t}`]:{color:n.colorTextDescription,fontSize:r},[`${l}-progress`]:{position:"absolute",bottom:n.calc(n.uploadProgressOffset).mul(-1).equal(),width:"100%",paddingInlineStart:o(r).add(n.paddingXS).equal(),fontSize:r,lineHeight:0,pointerEvents:"none","> div":{margin:0}}},[`${l}:hover ${u}`]:{opacity:1},[`${l}-error`]:{color:n.colorError,[`${l}-name, ${e}-icon ${t}`]:{color:n.colorError},[s]:{[`${t}, ${t}:hover`]:{color:n.colorError},[u]:{opacity:1}}},[`${e}-list-item-container`]:{transition:`opacity ${n.motionDurationSlow}, height ${n.motionDurationSlow}`,"&::before":{display:"table",width:0,height:0,content:'""'}}})}}},Ute=n=>{const{componentCls:e}=n,t=new rr("uploadAnimateInlineIn",{from:{width:0,height:0,padding:0,opacity:0,margin:n.calc(n.marginXS).div(-2).equal()}}),r=new rr("uploadAnimateInlineOut",{to:{width:0,height:0,padding:0,opacity:0,margin:n.calc(n.marginXS).div(-2).equal()}}),a=`${e}-animate-inline`;return[{[`${e}-wrapper`]:{[`${a}-appear, ${a}-enter, ${a}-leave`]:{animationDuration:n.motionDurationSlow,animationTimingFunction:n.motionEaseInOutCirc,animationFillMode:"forwards"},[`${a}-appear, ${a}-enter`]:{animationName:t},[`${a}-leave`]:{animationName:r}}},{[`${e}-wrapper`]:zO(n)},t,r]},Fte=n=>{const{componentCls:e,iconCls:t,uploadThumbnailSize:r,uploadProgressOffset:a,calc:o}=n,l=`${e}-list`,s=`${l}-item`;return{[`${e}-wrapper`]:{[`
        ${l}${l}-picture,
        ${l}${l}-picture-card,
        ${l}${l}-picture-circle
      `]:{[s]:{position:"relative",height:o(r).add(o(n.lineWidth).mul(2)).add(o(n.paddingXS).mul(2)).equal(),padding:n.paddingXS,border:`${Mt(n.lineWidth)} ${n.lineType} ${n.colorBorder}`,borderRadius:n.borderRadiusLG,"&:hover":{background:"transparent"},[`${s}-thumbnail`]:Object.assign(Object.assign({},sw),{width:r,height:r,lineHeight:Mt(o(r).add(n.paddingSM).equal()),textAlign:"center",flex:"none",[t]:{fontSize:n.fontSizeHeading2,color:n.colorPrimary},img:{display:"block",width:"100%",height:"100%",overflow:"hidden"}}),[`${s}-progress`]:{bottom:a,width:`calc(100% - ${Mt(o(n.paddingSM).mul(2).equal())})`,marginTop:0,paddingInlineStart:o(r).add(n.paddingXS).equal()}},[`${s}-error`]:{borderColor:n.colorError,[`${s}-thumbnail ${t}`]:{[`svg path[fill='${Zv[0]}']`]:{fill:n.colorErrorBg},[`svg path[fill='${Zv.primary}']`]:{fill:n.colorError}}},[`${s}-uploading`]:{borderStyle:"dashed",[`${s}-name`]:{marginBottom:a}}},[`${l}${l}-picture-circle ${s}`]:{[`&, &::before, ${s}-thumbnail`]:{borderRadius:"50%"}}}}},Hte=n=>{const{componentCls:e,iconCls:t,fontSizeLG:r,colorTextLightSolid:a,calc:o}=n,l=`${e}-list`,s=`${l}-item`,u=n.uploadPicCardSize;return{[`
      ${e}-wrapper${e}-picture-card-wrapper,
      ${e}-wrapper${e}-picture-circle-wrapper
    `]:Object.assign(Object.assign({},l0()),{display:"block",[`${e}${e}-select`]:{width:u,height:u,textAlign:"center",verticalAlign:"top",backgroundColor:n.colorFillAlter,border:`${Mt(n.lineWidth)} dashed ${n.colorBorder}`,borderRadius:n.borderRadiusLG,cursor:"pointer",transition:`border-color ${n.motionDurationSlow}`,[`> ${e}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center"},[`&:not(${e}-disabled):hover`]:{borderColor:n.colorPrimary}},[`${l}${l}-picture-card, ${l}${l}-picture-circle`]:{display:"flex",flexWrap:"wrap","@supports not (gap: 1px)":{"& > *":{marginBlockEnd:n.marginXS,marginInlineEnd:n.marginXS}},"@supports (gap: 1px)":{gap:n.marginXS},[`${l}-item-container`]:{display:"inline-block",width:u,height:u,verticalAlign:"top"},"&::after":{display:"none"},"&::before":{display:"none"},[s]:{height:"100%",margin:0,"&::before":{position:"absolute",zIndex:1,width:`calc(100% - ${Mt(o(n.paddingXS).mul(2).equal())})`,height:`calc(100% - ${Mt(o(n.paddingXS).mul(2).equal())})`,backgroundColor:n.colorBgMask,opacity:0,transition:`all ${n.motionDurationSlow}`,content:'" "'}},[`${s}:hover`]:{[`&::before, ${s}-actions`]:{opacity:1}},[`${s}-actions`]:{position:"absolute",insetInlineStart:0,zIndex:10,width:"100%",whiteSpace:"nowrap",textAlign:"center",opacity:0,transition:`all ${n.motionDurationSlow}`,[`
            ${t}-eye,
            ${t}-download,
            ${t}-delete
          `]:{zIndex:10,width:r,margin:`0 ${Mt(n.marginXXS)}`,fontSize:r,cursor:"pointer",transition:`all ${n.motionDurationSlow}`,color:a,"&:hover":{color:a},svg:{verticalAlign:"baseline"}}},[`${s}-thumbnail, ${s}-thumbnail img`]:{position:"static",display:"block",width:"100%",height:"100%",objectFit:"contain"},[`${s}-name`]:{display:"none",textAlign:"center"},[`${s}-file + ${s}-name`]:{position:"absolute",bottom:n.margin,display:"block",width:`calc(100% - ${Mt(o(n.paddingXS).mul(2).equal())})`},[`${s}-uploading`]:{[`&${s}`]:{backgroundColor:n.colorFillAlter},[`&::before, ${t}-eye, ${t}-download, ${t}-delete`]:{display:"none"}},[`${s}-progress`]:{bottom:n.marginXL,width:`calc(100% - ${Mt(o(n.paddingXS).mul(2).equal())})`,paddingInlineStart:0}}}),[`${e}-wrapper${e}-picture-circle-wrapper`]:{[`${e}${e}-select`]:{borderRadius:"50%"}}}},Gte=n=>{const{componentCls:e}=n;return{[`${e}-rtl`]:{direction:"rtl"}}},kte=n=>{const{componentCls:e,colorTextDisabled:t}=n;return{[`${e}-wrapper`]:Object.assign(Object.assign({},Uo(n)),{[e]:{outline:0,"input[type='file']":{cursor:"pointer"}},[`${e}-select`]:{display:"inline-block"},[`${e}-hidden`]:{display:"none"},[`${e}-disabled`]:{color:t,cursor:"not-allowed"}})}},$te=n=>({actionsColor:n.colorTextDescription}),Vte=Nr("Upload",n=>{const{fontSizeHeading3:e,fontHeight:t,lineWidth:r,controlHeightLG:a,calc:o}=n,l=qi(n,{uploadThumbnailSize:o(e).mul(2).equal(),uploadProgressOffset:o(o(t).div(2)).add(r).equal(),uploadPicCardSize:o(a).mul(2.55).equal()});return[kte(l),Nte(l),Fte(l),Hte(l),zte(l),Ute(l),Gte(l),TF(l)]},$te);function _x(n){return Object.assign(Object.assign({},n),{lastModified:n.lastModified,lastModifiedDate:n.lastModifiedDate,name:n.name,size:n.size,type:n.type,uid:n.uid,percent:0,originFileObj:n})}function xx(n,e){const t=Kt(e),r=t.findIndex(a=>{let{uid:o}=a;return o===n.uid});return r===-1?t.push(n):t[r]=n,t}function jM(n,e){const t=n.uid!==void 0?"uid":"name";return e.filter(r=>r[t]===n[t])[0]}function jte(n,e){const t=n.uid!==void 0?"uid":"name",r=e.filter(a=>a[t]!==n[t]);return r.length===e.length?null:r}const Wte=function(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").split("/"),r=e[e.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(r)||[""])[0]},RH=n=>n.indexOf("image/")===0,Xte=n=>{if(n.type&&!n.thumbUrl)return RH(n.type);const e=n.thumbUrl||n.url||"",t=Wte(e);return/^data:image\//.test(e)||/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(t)?!0:!(/^data:/.test(e)||t)},ah=200;function Yte(n){return new Promise(e=>{if(!n.type||!RH(n.type)){e("");return}const t=document.createElement("canvas");t.width=ah,t.height=ah,t.style.cssText=`position: fixed; left: 0; top: 0; width: ${ah}px; height: ${ah}px; z-index: 9999; display: none;`,document.body.appendChild(t);const r=t.getContext("2d"),a=new Image;if(a.onload=()=>{const{width:o,height:l}=a;let s=ah,u=ah,f=0,m=0;o>l?(u=l*(ah/o),m=-(u-s)/2):(s=o*(ah/l),f=-(s-u)/2),r.drawImage(a,f,m,s,u);const y=t.toDataURL();document.body.removeChild(t),window.URL.revokeObjectURL(a.src),e(y)},a.crossOrigin="anonymous",n.type.startsWith("image/svg+xml")){const o=new FileReader;o.onload=()=>{o.result&&typeof o.result=="string"&&(a.src=o.result)},o.readAsDataURL(n)}else if(n.type.startsWith("image/gif")){const o=new FileReader;o.onload=()=>{o.result&&e(o.result)},o.readAsDataURL(n)}else a.src=window.URL.createObjectURL(n)})}const qte=w.forwardRef((n,e)=>{let{prefixCls:t,className:r,style:a,locale:o,listType:l,file:s,items:u,progress:f,iconRender:m,actionIconRender:y,itemRender:_,isImgUrl:E,showPreviewIcon:c,showRemoveIcon:p,showDownloadIcon:g,previewIcon:b,removeIcon:C,downloadIcon:T,extra:M,onPreview:O,onDownload:B,onClose:P}=n;var F,U;const{status:z}=s,[$,J]=w.useState(z);w.useEffect(()=>{z!=="removed"&&J(z)},[z]);const[W,Q]=w.useState(!1);w.useEffect(()=>{const xe=setTimeout(()=>{Q(!0)},300);return()=>{clearTimeout(xe)}},[]);const ae=m(s);let Y=w.createElement("div",{className:`${t}-icon`},ae);if(l==="picture"||l==="picture-card"||l==="picture-circle")if($==="uploading"||!s.thumbUrl&&!s.url){const xe=Je(`${t}-list-item-thumbnail`,{[`${t}-list-item-file`]:$!=="uploading"});Y=w.createElement("div",{className:xe},ae)}else{const xe=E!=null&&E(s)?w.createElement("img",{src:s.thumbUrl||s.url,alt:s.name,className:`${t}-list-item-image`,crossOrigin:s.crossOrigin}):ae,re=Je(`${t}-list-item-thumbnail`,{[`${t}-list-item-file`]:E&&!E(s)});Y=w.createElement("a",{className:re,onClick:Fe=>O(s,Fe),href:s.url||s.thumbUrl,target:"_blank",rel:"noopener noreferrer"},xe)}const K=Je(`${t}-list-item`,`${t}-list-item-${$}`),ee=typeof s.linkProps=="string"?JSON.parse(s.linkProps):s.linkProps,de=(typeof p=="function"?p(s):p)?y((typeof C=="function"?C(s):C)||w.createElement(aU,null),()=>P(s),t,o.removeFile,!0):null,q=(typeof g=="function"?g(s):g)&&$==="done"?y((typeof T=="function"?T(s):T)||w.createElement(x$,null),()=>B(s),t,o.downloadFile):null,ie=l!=="picture-card"&&l!=="picture-circle"&&w.createElement("span",{key:"download-delete",className:Je(`${t}-list-item-actions`,{picture:l==="picture"})},q,de),he=typeof M=="function"?M(s):M,fe=he&&w.createElement("span",{className:`${t}-list-item-extra`},he),Z=Je(`${t}-list-item-name`),pe=s.url?w.createElement("a",Object.assign({key:"view",target:"_blank",rel:"noopener noreferrer",className:Z,title:s.name},ee,{href:s.url,onClick:xe=>O(s,xe)}),s.name,fe):w.createElement("span",{key:"view",className:Z,onClick:xe=>O(s,xe),title:s.name},s.name,fe),_e=(typeof c=="function"?c(s):c)&&(s.url||s.thumbUrl)?w.createElement("a",{href:s.url||s.thumbUrl,target:"_blank",rel:"noopener noreferrer",onClick:xe=>O(s,xe),title:o.previewFile},typeof b=="function"?b(s):b||w.createElement(yO,null)):null,Oe=(l==="picture-card"||l==="picture-circle")&&$!=="uploading"&&w.createElement("span",{className:`${t}-list-item-actions`},_e,$==="done"&&q,de),{getPrefixCls:we}=w.useContext(Hn),Te=we(),ze=w.createElement("div",{className:K},Y,pe,ie,Oe,W&&w.createElement($c,{motionName:`${Te}-fade`,visible:$==="uploading",motionDeadline:2e3},xe=>{let{className:re}=xe;const Fe="percent"in s?w.createElement(wH,Object.assign({},f,{type:"line",percent:s.percent,"aria-label":s["aria-label"],"aria-labelledby":s["aria-labelledby"]})):null;return w.createElement("div",{className:Je(`${t}-list-item-progress`,re)},Fe)})),yt=s.response&&typeof s.response=="string"?s.response:((F=s.error)===null||F===void 0?void 0:F.statusText)||((U=s.error)===null||U===void 0?void 0:U.message)||o.uploadError,Be=$==="error"?w.createElement(Ul,{title:yt,getPopupContainer:xe=>xe.parentNode},ze):ze;return w.createElement("div",{className:Je(`${t}-list-item-container`,r),style:a,ref:e},_?_(Be,s,u,{download:B.bind(null,s),preview:O.bind(null,s),remove:P.bind(null,s)}):Be)}),Kte=(n,e)=>{const{listType:t="text",previewFile:r=Yte,onPreview:a,onDownload:o,onRemove:l,locale:s,iconRender:u,isImageUrl:f=Xte,prefixCls:m,items:y=[],showPreviewIcon:_=!0,showRemoveIcon:E=!0,showDownloadIcon:c=!1,removeIcon:p,previewIcon:g,downloadIcon:b,extra:C,progress:T={size:[-1,2],showInfo:!1},appendAction:M,appendActionVisible:O=!0,itemRender:B,disabled:P}=n,F=p4(),[U,z]=w.useState(!1),$=["picture-card","picture-circle"].includes(t);w.useEffect(()=>{t.startsWith("picture")&&(y||[]).forEach(fe=>{!(fe.originFileObj instanceof File||fe.originFileObj instanceof Blob)||fe.thumbUrl!==void 0||(fe.thumbUrl="",r==null||r(fe.originFileObj).then(Z=>{fe.thumbUrl=Z||"",F()}))})},[t,y,r]),w.useEffect(()=>{z(!0)},[]);const J=(fe,Z)=>{if(a)return Z==null||Z.preventDefault(),a(fe)},W=fe=>{typeof o=="function"?o(fe):fe.url&&window.open(fe.url)},Q=fe=>{l==null||l(fe)},ae=fe=>{if(u)return u(fe,t);const Z=fe.status==="uploading";if(t.startsWith("picture")){const pe=t==="picture"?w.createElement(e0,null):s.uploading,_e=f!=null&&f(fe)?w.createElement(Z$,null):w.createElement(U$,null);return Z?pe:_e}return Z?w.createElement(e0,null):w.createElement(X$,null)},Y=(fe,Z,pe,_e,Oe)=>{const we={type:"text",size:"small",title:_e,onClick:Te=>{var ze,yt;Z(),w.isValidElement(fe)&&((yt=(ze=fe.props).onClick)===null||yt===void 0||yt.call(ze,Te))},className:`${pe}-list-item-action`};return Oe&&(we.disabled=P),w.isValidElement(fe)?w.createElement(pa,Object.assign({},we,{icon:il(fe,Object.assign(Object.assign({},fe.props),{onClick:()=>{}}))})):w.createElement(pa,Object.assign({},we),w.createElement("span",null,fe))};w.useImperativeHandle(e,()=>({handlePreview:J,handleDownload:W}));const{getPrefixCls:K}=w.useContext(Hn),ee=K("upload",m),de=K(),q=Je(`${ee}-list`,`${ee}-list-${t}`),ie=w.useMemo(()=>yo(CF(de),["onAppearEnd","onEnterEnd","onLeaveEnd"]),[de]),he=Object.assign(Object.assign({},$?{}:ie),{motionDeadline:2e3,motionName:`${ee}-${$?"animate-inline":"animate"}`,keys:Kt(y.map(fe=>({key:fe.uid,file:fe}))),motionAppear:U});return w.createElement("div",{className:q},w.createElement(cF,Object.assign({},he,{component:!1}),fe=>{let{key:Z,file:pe,className:_e,style:Oe}=fe;return w.createElement(qte,{key:Z,locale:s,prefixCls:ee,className:_e,style:Oe,file:pe,items:y,progress:T,listType:t,isImgUrl:f,showPreviewIcon:_,showRemoveIcon:E,showDownloadIcon:c,removeIcon:p,previewIcon:g,downloadIcon:b,extra:C,iconRender:ae,actionIconRender:Y,itemRender:B,onPreview:J,onDownload:W,onClose:Q})}),M&&w.createElement($c,Object.assign({},he,{visible:O,forceRender:!0}),fe=>{let{className:Z,style:pe}=fe;return il(M,_e=>({className:Je(_e.className,Z),style:Object.assign(Object.assign(Object.assign({},pe),{pointerEvents:Z?"none":void 0}),_e.style)}))}))},Jte=w.forwardRef(Kte);var Qte=function(n,e,t,r){function a(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function s(m){try{f(r.next(m))}catch(y){l(y)}}function u(m){try{f(r.throw(m))}catch(y){l(y)}}function f(m){m.done?o(m.value):a(m.value).then(s,u)}f((r=r.apply(n,[])).next())})};const lb=`__LIST_IGNORE_${Date.now()}__`,Zte=(n,e)=>{const{fileList:t,defaultFileList:r,onRemove:a,showUploadList:o=!0,listType:l="text",onPreview:s,onDownload:u,onChange:f,onDrop:m,previewFile:y,disabled:_,locale:E,iconRender:c,isImageUrl:p,progress:g,prefixCls:b,className:C,type:T="select",children:M,style:O,itemRender:B,maxCount:P,data:F={},multiple:U=!1,hasControlInside:z=!0,action:$="",accept:J="",supportServerRender:W=!0,rootClassName:Q}=n,ae=w.useContext(Ku),Y=_??ae,[K,ee]=mo(r||[],{value:t,postState:We=>We??[]}),[de,q]=w.useState("drop"),ie=w.useRef(null),he=w.useRef(null);w.useMemo(()=>{const We=Date.now();(t||[]).forEach((rt,Se)=>{!rt.uid&&!Object.isFrozen(rt)&&(rt.uid=`__AUTO__${We}_${Se}__`)})},[t]);const fe=(We,rt,Se)=>{let Ge=Kt(rt),St=!1;P===1?Ge=Ge.slice(-1):P&&(St=Ge.length>P,Ge=Ge.slice(0,P)),Lh.flushSync(()=>{ee(Ge)});const Ae={file:We,fileList:Ge};Se&&(Ae.event=Se),(!St||We.status==="removed"||Ge.some(xt=>xt.uid===We.uid))&&Lh.flushSync(()=>{f==null||f(Ae)})},Z=(We,rt)=>Qte(void 0,void 0,void 0,function*(){const{beforeUpload:Se,transformFile:Ge}=n;let St=We;if(Se){const Ae=yield Se(We,rt);if(Ae===!1)return!1;if(delete We[lb],Ae===lb)return Object.defineProperty(We,lb,{value:!0,configurable:!0}),!1;typeof Ae=="object"&&Ae&&(St=Ae)}return Ge&&(St=yield Ge(St)),St}),pe=We=>{const rt=We.filter(St=>!St.file[lb]);if(!rt.length)return;const Se=rt.map(St=>_x(St.file));let Ge=Kt(K);Se.forEach(St=>{Ge=xx(St,Ge)}),Se.forEach((St,Ae)=>{let xt=St;if(rt[Ae].parsedFile)St.status="uploading";else{const{originFileObj:et}=St;let mt;try{mt=new File([et],et.name,{type:et.type})}catch{mt=new Blob([et],{type:et.type}),mt.name=et.name,mt.lastModifiedDate=new Date,mt.lastModified=new Date().getTime()}mt.uid=St.uid,xt=mt}fe(xt,Ge)})},_e=(We,rt,Se)=>{try{typeof We=="string"&&(We=JSON.parse(We))}catch{}if(!jM(rt,K))return;const Ge=_x(rt);Ge.status="done",Ge.percent=100,Ge.response=We,Ge.xhr=Se;const St=xx(Ge,K);fe(Ge,St)},Oe=(We,rt)=>{if(!jM(rt,K))return;const Se=_x(rt);Se.status="uploading",Se.percent=We.percent;const Ge=xx(Se,K);fe(Se,Ge,We)},we=(We,rt,Se)=>{if(!jM(Se,K))return;const Ge=_x(Se);Ge.error=We,Ge.response=rt,Ge.status="error";const St=xx(Ge,K);fe(Ge,St)},Te=We=>{let rt;Promise.resolve(typeof a=="function"?a(We):a).then(Se=>{var Ge;if(Se===!1)return;const St=jte(We,K);St&&(rt=Object.assign(Object.assign({},We),{status:"removed"}),K==null||K.forEach(Ae=>{const xt=rt.uid!==void 0?"uid":"name";Ae[xt]===rt[xt]&&!Object.isFrozen(Ae)&&(Ae.status="removed")}),(Ge=ie.current)===null||Ge===void 0||Ge.abort(rt),fe(rt,St))})},ze=We=>{q(We.type),We.type==="drop"&&(m==null||m(We))};w.useImperativeHandle(e,()=>({onBatchStart:pe,onSuccess:_e,onProgress:Oe,onError:we,fileList:K,upload:ie.current,nativeElement:he.current}));const{getPrefixCls:yt,direction:Be,upload:xe}=w.useContext(Hn),re=yt("upload",b),Fe=Object.assign(Object.assign({onBatchStart:pe,onError:we,onProgress:Oe,onSuccess:_e},n),{data:F,multiple:U,action:$,accept:J,supportServerRender:W,prefixCls:re,disabled:Y,beforeUpload:Z,onChange:void 0,hasControlInside:z});delete Fe.className,delete Fe.style,(!M||Y)&&delete Fe.id;const Ie=`${re}-wrapper`,[qe,$e,ct]=Vte(re,Ie),[st]=SS("Upload",Nh.Upload),{showRemoveIcon:ce,showPreviewIcon:oe,showDownloadIcon:Ee,removeIcon:De,previewIcon:Ke,downloadIcon:He,extra:gt}=typeof o=="boolean"?{}:o,lt=typeof ce>"u"?!Y:ce,pt=(We,rt)=>o?w.createElement(Jte,{prefixCls:re,listType:l,items:K,previewFile:y,onPreview:s,onDownload:u,onRemove:Te,showRemoveIcon:lt,showPreviewIcon:oe,showDownloadIcon:Ee,removeIcon:De,previewIcon:Ke,downloadIcon:He,iconRender:c,extra:gt,locale:Object.assign(Object.assign({},st),E),isImageUrl:p,progress:g,appendAction:We,appendActionVisible:rt,itemRender:B,disabled:Y}):We,It=Je(Ie,C,Q,$e,ct,xe==null?void 0:xe.className,{[`${re}-rtl`]:Be==="rtl",[`${re}-picture-card-wrapper`]:l==="picture-card",[`${re}-picture-circle-wrapper`]:l==="picture-circle"}),ot=Object.assign(Object.assign({},xe==null?void 0:xe.style),O);if(T==="drag"){const We=Je($e,re,`${re}-drag`,{[`${re}-drag-uploading`]:K.some(rt=>rt.status==="uploading"),[`${re}-drag-hover`]:de==="dragover",[`${re}-disabled`]:Y,[`${re}-rtl`]:Be==="rtl"});return qe(w.createElement("span",{className:It,ref:he},w.createElement("div",{className:We,style:ot,onDrop:ze,onDragOver:ze,onDragLeave:ze},w.createElement(b2,Object.assign({},Fe,{ref:ie,className:`${re}-btn`}),w.createElement("div",{className:`${re}-drag-container`},M))),pt()))}const _t=Je(re,`${re}-select`,{[`${re}-disabled`]:Y,[`${re}-hidden`]:!M}),Ct=w.createElement("div",{className:_t},w.createElement(b2,Object.assign({},Fe,{ref:ie})));return qe(l==="picture-card"||l==="picture-circle"?w.createElement("span",{className:It,ref:he},pt(Ct,!!M)):w.createElement("span",{className:It,ref:he},Ct,pt()))},OH=w.forwardRef(Zte);var ene=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const tne=w.forwardRef((n,e)=>{var{style:t,height:r,hasControlInside:a=!1}=n,o=ene(n,["style","height","hasControlInside"]);return w.createElement(OH,Object.assign({ref:e,hasControlInside:a},o,{type:"drag",style:Object.assign(Object.assign({},t),{height:r})}))}),X1=OH;X1.Dragger=tne;X1.LIST_IGNORE=lb;const nne="_navBar_1481f_1",ine="_sideBar_1481f_5",rne="_sideMenu_1481f_9",ane="_content_1481f_23",FC={navBar:nne,sideBar:ine,sideMenu:rne,content:ane};var Gy={},PL;function one(){if(PL)return Gy;PL=1,Object.defineProperty(Gy,"__esModule",{value:!0}),Gy.parse=l,Gy.serialize=f;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function l(_,E){const c=new o,p=_.length;if(p<2)return c;const g=(E==null?void 0:E.decode)||m;let b=0;do{const C=_.indexOf("=",b);if(C===-1)break;const T=_.indexOf(";",b),M=T===-1?p:T;if(C>M){b=_.lastIndexOf(";",C-1)+1;continue}const O=s(_,b,C),B=u(_,C,O),P=_.slice(O,B);if(c[P]===void 0){let F=s(_,C+1,M),U=u(_,M,F);const z=g(_.slice(F,U));c[P]=z}b=M+1}while(b<p);return c}function s(_,E,c){do{const p=_.charCodeAt(E);if(p!==32&&p!==9)return E}while(++E<c);return c}function u(_,E,c){for(;E>c;){const p=_.charCodeAt(--E);if(p!==32&&p!==9)return E+1}return c}function f(_,E,c){const p=(c==null?void 0:c.encode)||encodeURIComponent;if(!n.test(_))throw new TypeError(`argument name is invalid: ${_}`);const g=p(E);if(!e.test(g))throw new TypeError(`argument val is invalid: ${E}`);let b=_+"="+g;if(!c)return b;if(c.maxAge!==void 0){if(!Number.isInteger(c.maxAge))throw new TypeError(`option maxAge is invalid: ${c.maxAge}`);b+="; Max-Age="+c.maxAge}if(c.domain){if(!t.test(c.domain))throw new TypeError(`option domain is invalid: ${c.domain}`);b+="; Domain="+c.domain}if(c.path){if(!r.test(c.path))throw new TypeError(`option path is invalid: ${c.path}`);b+="; Path="+c.path}if(c.expires){if(!y(c.expires)||!Number.isFinite(c.expires.valueOf()))throw new TypeError(`option expires is invalid: ${c.expires}`);b+="; Expires="+c.expires.toUTCString()}if(c.httpOnly&&(b+="; HttpOnly"),c.secure&&(b+="; Secure"),c.partitioned&&(b+="; Partitioned"),c.priority)switch(typeof c.priority=="string"?c.priority.toLowerCase():void 0){case"low":b+="; Priority=Low";break;case"medium":b+="; Priority=Medium";break;case"high":b+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${c.priority}`)}if(c.sameSite)switch(typeof c.sameSite=="string"?c.sameSite.toLowerCase():c.sameSite){case!0:case"strict":b+="; SameSite=Strict";break;case"lax":b+="; SameSite=Lax";break;case"none":b+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${c.sameSite}`)}return b}function m(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function y(_){return a.call(_)==="[object Date]"}return Gy}one();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var LL="popstate";function sne(n={}){function e(a,o){let{pathname:l="/",search:s="",hash:u=""}=Hm(a.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),S2("",{pathname:l,search:s,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(a,o){let l=a.document.querySelector("base"),s="";if(l&&l.getAttribute("href")){let u=a.location.href,f=u.indexOf("#");s=f===-1?u:u.slice(0,f)}return s+"#"+(typeof o=="string"?o:nS(o))}function r(a,o){Fc(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return cne(e,t,r,n)}function Kr(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Fc(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lne(){return Math.random().toString(36).substring(2,10)}function NL(n,e){return{usr:n.state,key:n.key,idx:e}}function S2(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Hm(e):e,state:t,key:e&&e.key||r||lne()}}function nS({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Hm(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function cne(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,l=a.history,s="POP",u=null,f=m();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function m(){return(l.state||{idx:null}).idx}function y(){s="POP";let g=m(),b=g==null?null:g-f;f=g,u&&u({action:s,location:p.location,delta:b})}function _(g,b){s="PUSH";let C=S2(p.location,g,b);t&&t(C,g),f=m()+1;let T=NL(C,f),M=p.createHref(C);try{l.pushState(T,"",M)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;a.location.assign(M)}o&&u&&u({action:s,location:p.location,delta:1})}function E(g,b){s="REPLACE";let C=S2(p.location,g,b);t&&t(C,g),f=m();let T=NL(C,f),M=p.createHref(C);l.replaceState(T,"",M),o&&u&&u({action:s,location:p.location,delta:0})}function c(g){let b=a.location.origin!=="null"?a.location.origin:a.location.href,C=typeof g=="string"?g:nS(g);return C=C.replace(/ $/,"%20"),Kr(b,`No window.location.(origin|href) available to create URL for href: ${C}`),new URL(C,b)}let p={get action(){return s},get location(){return n(a,l)},listen(g){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(LL,y),u=g,()=>{a.removeEventListener(LL,y),u=null}},createHref(g){return e(a,g)},createURL:c,encodeLocation(g){let b=c(g);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:_,replace:E,go(g){return l.go(g)}};return p}function IH(n,e,t="/"){return une(n,e,t,!1)}function une(n,e,t,r){let a=typeof e=="string"?Hm(e):e,o=pf(a.pathname||"/",t);if(o==null)return null;let l=BH(n);dne(l);let s=null;for(let u=0;s==null&&u<l.length;++u){let f=xne(o);s=Sne(l[u],f,r)}return s}function BH(n,e=[],t=[],r=""){let a=(o,l,s)=>{let u={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};u.relativePath.startsWith("/")&&(Kr(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length));let f=sf([r,u.relativePath]),m=t.concat(u);o.children&&o.children.length>0&&(Kr(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),BH(o.children,e,m,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:yne(f,o.index),routesMeta:m})};return n.forEach((o,l)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))a(o,l);else for(let u of DH(o.path))a(o,l,u)}),e}function DH(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let l=DH(r.join("/")),s=[];return s.push(...l.map(u=>u===""?o:[o,u].join("/"))),a&&s.push(...l),s.map(u=>n.startsWith("/")&&u===""?"/":u)}function dne(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:bne(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var fne=/^:[\w-]+$/,hne=3,pne=2,mne=1,gne=10,vne=-2,zL=n=>n==="*";function yne(n,e){let t=n.split("/"),r=t.length;return t.some(zL)&&(r+=vne),e&&(r+=pne),t.filter(a=>!zL(a)).reduce((a,o)=>a+(fne.test(o)?hne:o===""?mne:gne),r)}function bne(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function Sne(n,e,t=!1){let{routesMeta:r}=n,a={},o="/",l=[];for(let s=0;s<r.length;++s){let u=r[s],f=s===r.length-1,m=o==="/"?e:e.slice(o.length)||"/",y=Y1({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},m),_=u.route;if(!y&&f&&t&&!r[r.length-1].route.index&&(y=Y1({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},m)),!y)return null;Object.assign(a,y.params),l.push({params:a,pathname:sf([o,y.pathname]),pathnameBase:Ane(sf([o,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(o=sf([o,y.pathnameBase]))}return l}function Y1(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=_ne(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let o=a[0],l=o.replace(/(.)\/+$/,"$1"),s=a.slice(1);return{params:r.reduce((f,{paramName:m,isOptional:y},_)=>{if(m==="*"){let c=s[_]||"";l=o.slice(0,o.length-c.length).replace(/(.)\/+$/,"$1")}const E=s[_];return y&&!E?f[m]=void 0:f[m]=(E||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:n}}function _ne(n,e=!1,t=!0){Fc(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,s,u)=>(r.push({paramName:s,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function xne(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fc(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function pf(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function Cne(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?Hm(n):n;return{pathname:t?t.startsWith("/")?t:Ene(t,e):e,search:Mne(r),hash:Tne(a)}}function Ene(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function WM(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function wne(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function PH(n){let e=wne(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function LH(n,e,t,r=!1){let a;typeof n=="string"?a=Hm(n):(a={...n},Kr(!a.pathname||!a.pathname.includes("?"),WM("?","pathname","search",a)),Kr(!a.pathname||!a.pathname.includes("#"),WM("#","pathname","hash",a)),Kr(!a.search||!a.search.includes("#"),WM("#","search","hash",a)));let o=n===""||a.pathname==="",l=o?"/":a.pathname,s;if(l==null)s=t;else{let y=e.length-1;if(!r&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),y-=1;a.pathname=_.join("/")}s=y>=0?e[y]:"/"}let u=Cne(a,s),f=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(f||m)&&(u.pathname+="/"),u}var sf=n=>n.join("/").replace(/\/\/+/g,"/"),Ane=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Mne=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Tne=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Rne(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var NH=["POST","PUT","PATCH","DELETE"];new Set(NH);var One=["GET",...NH];new Set(One);var I0=w.createContext(null);I0.displayName="DataRouter";var Pw=w.createContext(null);Pw.displayName="DataRouterState";var zH=w.createContext({isTransitioning:!1});zH.displayName="ViewTransition";var Ine=w.createContext(new Map);Ine.displayName="Fetchers";var Bne=w.createContext(null);Bne.displayName="Await";var rd=w.createContext(null);rd.displayName="Navigation";var BS=w.createContext(null);BS.displayName="Location";var _f=w.createContext({outlet:null,matches:[],isDataRoute:!1});_f.displayName="Route";var iI=w.createContext(null);iI.displayName="RouteError";function Dne(n,{relative:e}={}){Kr(DS(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=w.useContext(rd),{hash:a,pathname:o,search:l}=PS(n,{relative:e}),s=o;return t!=="/"&&(s=o==="/"?t:sf([t,o])),r.createHref({pathname:s,search:l,hash:a})}function DS(){return w.useContext(BS)!=null}function kh(){return Kr(DS(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(BS).location}var UH="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function FH(n){w.useContext(rd).static||w.useLayoutEffect(n)}function HH(){let{isDataRoute:n}=w.useContext(_f);return n?Wne():Pne()}function Pne(){Kr(DS(),"useNavigate() may be used only in the context of a <Router> component.");let n=w.useContext(I0),{basename:e,navigator:t}=w.useContext(rd),{matches:r}=w.useContext(_f),{pathname:a}=kh(),o=JSON.stringify(PH(r)),l=w.useRef(!1);return FH(()=>{l.current=!0}),w.useCallback((u,f={})=>{if(Fc(l.current,UH),!l.current)return;if(typeof u=="number"){t.go(u);return}let m=LH(u,JSON.parse(o),a,f.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:sf([e,m.pathname])),(f.replace?t.replace:t.push)(m,f.state,f)},[e,t,o,a,n])}w.createContext(null);function PS(n,{relative:e}={}){let{matches:t}=w.useContext(_f),{pathname:r}=kh(),a=JSON.stringify(PH(t));return w.useMemo(()=>LH(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function Lne(n,e){return GH(n,e)}function GH(n,e,t,r){var C;Kr(DS(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:o}=w.useContext(rd),{matches:l}=w.useContext(_f),s=l[l.length-1],u=s?s.params:{},f=s?s.pathname:"/",m=s?s.pathnameBase:"/",y=s&&s.route;{let T=y&&y.path||"";kH(f,!y||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let _=kh(),E;if(e){let T=typeof e=="string"?Hm(e):e;Kr(m==="/"||((C=T.pathname)==null?void 0:C.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${T.pathname}" was given in the \`location\` prop.`),E=T}else E=_;let c=E.pathname||"/",p=c;if(m!=="/"){let T=m.replace(/^\//,"").split("/");p="/"+c.replace(/^\//,"").split("/").slice(T.length).join("/")}let g=!o&&t&&t.matches&&t.matches.length>0?t.matches:IH(n,{pathname:p});Fc(y||g!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Fc(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=Hne(g&&g.map(T=>Object.assign({},T,{params:Object.assign({},u,T.params),pathname:sf([m,a.encodeLocation?a.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?m:sf([m,a.encodeLocation?a.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),l,t,r);return e&&b?w.createElement(BS.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},b):b}function Nne(){let n=jne(),e=Rne(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:o},"ErrorBoundary")," or"," ",w.createElement("code",{style:o},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),t?w.createElement("pre",{style:a},t):null,l)}var zne=w.createElement(Nne,null),Une=class extends w.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?w.createElement(_f.Provider,{value:this.props.routeContext},w.createElement(iI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Fne({routeContext:n,match:e,children:t}){let r=w.useContext(I0);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(_f.Provider,{value:n},t)}function Hne(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=t==null?void 0:t.errors;if(o!=null){let u=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);Kr(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,u+1))}let l=!1,s=-1;if(t)for(let u=0;u<a.length;u++){let f=a[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(s=u),f.route.id){let{loaderData:m,errors:y}=t,_=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!y||y[f.route.id]===void 0);if(f.route.lazy||_){l=!0,s>=0?a=a.slice(0,s+1):a=[a[0]];break}}}return a.reduceRight((u,f,m)=>{let y,_=!1,E=null,c=null;t&&(y=o&&f.route.id?o[f.route.id]:void 0,E=f.route.errorElement||zne,l&&(s<0&&m===0?(kH("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,c=null):s===m&&(_=!0,c=f.route.hydrateFallbackElement||null)));let p=e.concat(a.slice(0,m+1)),g=()=>{let b;return y?b=E:_?b=c:f.route.Component?b=w.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=u,w.createElement(Fne,{match:f,routeContext:{outlet:u,matches:p,isDataRoute:t!=null},children:b})};return t&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?w.createElement(Une,{location:t.location,revalidation:t.revalidation,component:E,error:y,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()},null)}function rI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Gne(n){let e=w.useContext(I0);return Kr(e,rI(n)),e}function kne(n){let e=w.useContext(Pw);return Kr(e,rI(n)),e}function $ne(n){let e=w.useContext(_f);return Kr(e,rI(n)),e}function aI(n){let e=$ne(n),t=e.matches[e.matches.length-1];return Kr(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function Vne(){return aI("useRouteId")}function jne(){var r;let n=w.useContext(iI),e=kne("useRouteError"),t=aI("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function Wne(){let{router:n}=Gne("useNavigate"),e=aI("useNavigate"),t=w.useRef(!1);return FH(()=>{t.current=!0}),w.useCallback(async(a,o={})=>{Fc(t.current,UH),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...o}))},[n,e])}var UL={};function kH(n,e,t){!e&&!UL[n]&&(UL[n]=!0,Fc(!1,t))}w.memo(Xne);function Xne({routes:n,future:e,state:t}){return GH(n,void 0,t,e)}function HC(n){Kr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Yne({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:o=!1}){Kr(!DS(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),s=w.useMemo(()=>({basename:l,navigator:a,static:o,future:{}}),[l,a,o]);typeof t=="string"&&(t=Hm(t));let{pathname:u="/",search:f="",hash:m="",state:y=null,key:_="default"}=t,E=w.useMemo(()=>{let c=pf(u,l);return c==null?null:{location:{pathname:c,search:f,hash:m,state:y,key:_},navigationType:r}},[l,u,f,m,y,_,r]);return Fc(E!=null,`<Router basename="${l}"> is not able to match the URL "${u}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:w.createElement(rd.Provider,{value:s},w.createElement(BS.Provider,{children:e,value:E}))}function qne({children:n,location:e}){return Lne(_2(n),e)}function _2(n,e=[]){let t=[];return w.Children.forEach(n,(r,a)=>{if(!w.isValidElement(r))return;let o=[...e,a];if(r.type===w.Fragment){t.push.apply(t,_2(r.props.children,o));return}Kr(r.type===HC,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Kr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=_2(r.props.children,o)),t.push(l)}),t}var GC="get",kC="application/x-www-form-urlencoded";function Lw(n){return n!=null&&typeof n.tagName=="string"}function Kne(n){return Lw(n)&&n.tagName.toLowerCase()==="button"}function Jne(n){return Lw(n)&&n.tagName.toLowerCase()==="form"}function Qne(n){return Lw(n)&&n.tagName.toLowerCase()==="input"}function Zne(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function eie(n,e){return n.button===0&&(!e||e==="_self")&&!Zne(n)}var Cx=null;function tie(){if(Cx===null)try{new FormData(document.createElement("form"),0),Cx=!1}catch{Cx=!0}return Cx}var nie=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function XM(n){return n!=null&&!nie.has(n)?(Fc(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${kC}"`),null):n}function iie(n,e){let t,r,a,o,l;if(Jne(n)){let s=n.getAttribute("action");r=s?pf(s,e):null,t=n.getAttribute("method")||GC,a=XM(n.getAttribute("enctype"))||kC,o=new FormData(n)}else if(Kne(n)||Qne(n)&&(n.type==="submit"||n.type==="image")){let s=n.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=n.getAttribute("formaction")||s.getAttribute("action");if(r=u?pf(u,e):null,t=n.getAttribute("formmethod")||s.getAttribute("method")||GC,a=XM(n.getAttribute("formenctype"))||XM(s.getAttribute("enctype"))||kC,o=new FormData(s,n),!tie()){let{name:f,type:m,value:y}=n;if(m==="image"){let _=f?`${f}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else f&&o.append(f,y)}}else{if(Lw(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=GC,r=null,a=kC,l=n}return o&&a==="text/plain"&&(l=o,o=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:o,body:l}}function oI(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function rie(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function aie(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function oie(n,e,t){let r=await Promise.all(n.map(async a=>{let o=e.routes[a.route.id];if(o){let l=await rie(o,t);return l.links?l.links():[]}return[]}));return uie(r.flat(1).filter(aie).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function FL(n,e,t,r,a,o){let l=(u,f)=>t[f]?u.route.id!==t[f].route.id:!0,s=(u,f)=>{var m;return t[f].pathname!==u.pathname||((m=t[f].route.path)==null?void 0:m.endsWith("*"))&&t[f].params["*"]!==u.params["*"]};return o==="assets"?e.filter((u,f)=>l(u,f)||s(u,f)):o==="data"?e.filter((u,f)=>{var y;let m=r.routes[u.route.id];if(!m||!m.hasLoader)return!1;if(l(u,f)||s(u,f))return!0;if(u.route.shouldRevalidate){let _=u.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function sie(n,e,{includeHydrateFallback:t}={}){return lie(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function lie(n){return[...new Set(n)]}function cie(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function uie(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let o=JSON.stringify(cie(a));return t.has(o)||(t.add(o),r.push({key:o,link:a})),r},[])}function die(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&pf(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function $H(){let n=w.useContext(I0);return oI(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function fie(){let n=w.useContext(Pw);return oI(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var sI=w.createContext(void 0);sI.displayName="FrameworkContext";function VH(){let n=w.useContext(sI);return oI(n,"You must render this element inside a <HydratedRouter> element"),n}function hie(n,e){let t=w.useContext(sI),[r,a]=w.useState(!1),[o,l]=w.useState(!1),{onFocus:s,onBlur:u,onMouseEnter:f,onMouseLeave:m,onTouchStart:y}=e,_=w.useRef(null);w.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let p=b=>{b.forEach(C=>{l(C.isIntersecting)})},g=new IntersectionObserver(p,{threshold:.5});return _.current&&g.observe(_.current),()=>{g.disconnect()}}},[n]),w.useEffect(()=>{if(r){let p=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(p)}}},[r]);let E=()=>{a(!0)},c=()=>{a(!1),l(!1)};return t?n!=="intent"?[o,_,{}]:[o,_,{onFocus:ky(s,E),onBlur:ky(u,c),onMouseEnter:ky(f,E),onMouseLeave:ky(m,c),onTouchStart:ky(y,E)}]:[!1,_,{}]}function ky(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function pie({page:n,...e}){let{router:t}=$H(),r=w.useMemo(()=>IH(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?w.createElement(gie,{page:n,matches:r,...e}):null}function mie(n){let{manifest:e,routeModules:t}=VH(),[r,a]=w.useState([]);return w.useEffect(()=>{let o=!1;return oie(n,e,t).then(l=>{o||a(l)}),()=>{o=!0}},[n,e,t]),r}function gie({page:n,matches:e,...t}){let r=kh(),{manifest:a,routeModules:o}=VH(),{basename:l}=$H(),{loaderData:s,matches:u}=fie(),f=w.useMemo(()=>FL(n,e,u,a,r,"data"),[n,e,u,a,r]),m=w.useMemo(()=>FL(n,e,u,a,r,"assets"),[n,e,u,a,r]),y=w.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let c=new Set,p=!1;if(e.forEach(b=>{var T;let C=a.routes[b.route.id];!C||!C.hasLoader||(!f.some(M=>M.route.id===b.route.id)&&b.route.id in s&&((T=o[b.route.id])!=null&&T.shouldRevalidate)||C.hasClientLoader?p=!0:c.add(b.route.id))}),c.size===0)return[];let g=die(n,l);return p&&c.size>0&&g.searchParams.set("_routes",e.filter(b=>c.has(b.route.id)).map(b=>b.route.id).join(",")),[g.pathname+g.search]},[l,s,r,a,f,e,n,o]),_=w.useMemo(()=>sie(m,a),[m,a]),E=mie(m);return w.createElement(w.Fragment,null,y.map(c=>w.createElement("link",{key:c,rel:"prefetch",as:"fetch",href:c,...t})),_.map(c=>w.createElement("link",{key:c,rel:"modulepreload",href:c,...t})),E.map(({key:c,link:p})=>w.createElement("link",{key:c,...p})))}function vie(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var jH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jH&&(window.__reactRouterVersion="7.3.0")}catch{}function yie({basename:n,children:e,window:t}){let r=w.useRef();r.current==null&&(r.current=sne({window:t,v5Compat:!0}));let a=r.current,[o,l]=w.useState({action:a.action,location:a.location}),s=w.useCallback(u=>{w.startTransition(()=>l(u))},[l]);return w.useLayoutEffect(()=>a.listen(s),[a,s]),w.createElement(Yne,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:a})}var WH=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,XH=w.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:o,replace:l,state:s,target:u,to:f,preventScrollReset:m,viewTransition:y,..._},E){let{basename:c}=w.useContext(rd),p=typeof f=="string"&&WH.test(f),g,b=!1;if(typeof f=="string"&&p&&(g=f,jH))try{let U=new URL(window.location.href),z=f.startsWith("//")?new URL(U.protocol+f):new URL(f),$=pf(z.pathname,c);z.origin===U.origin&&$!=null?f=$+z.search+z.hash:b=!0}catch{Fc(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=Dne(f,{relative:a}),[T,M,O]=hie(r,_),B=xie(f,{replace:l,state:s,target:u,preventScrollReset:m,relative:a,viewTransition:y});function P(U){e&&e(U),U.defaultPrevented||B(U)}let F=w.createElement("a",{..._,...O,href:g||C,onClick:b||o?e:P,ref:vie(E,M),target:u,"data-discover":!p&&t==="render"?"true":void 0});return T&&!p?w.createElement(w.Fragment,null,F,w.createElement(pie,{page:C})):F});XH.displayName="Link";var bie=w.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:o,to:l,viewTransition:s,children:u,...f},m){let y=PS(l,{relative:f.relative}),_=kh(),E=w.useContext(Pw),{navigator:c,basename:p}=w.useContext(rd),g=E!=null&&Mie(y)&&s===!0,b=c.encodeLocation?c.encodeLocation(y).pathname:y.pathname,C=_.pathname,T=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;t||(C=C.toLowerCase(),T=T?T.toLowerCase():null,b=b.toLowerCase()),T&&p&&(T=pf(T,p)||T);const M=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let O=C===b||!a&&C.startsWith(b)&&C.charAt(M)==="/",B=T!=null&&(T===b||!a&&T.startsWith(b)&&T.charAt(b.length)==="/"),P={isActive:O,isPending:B,isTransitioning:g},F=O?e:void 0,U;typeof r=="function"?U=r(P):U=[r,O?"active":null,B?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let z=typeof o=="function"?o(P):o;return w.createElement(XH,{...f,"aria-current":F,className:U,ref:m,style:z,to:l,viewTransition:s},typeof u=="function"?u(P):u)});bie.displayName="NavLink";var Sie=w.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:o,method:l=GC,action:s,onSubmit:u,relative:f,preventScrollReset:m,viewTransition:y,..._},E)=>{let c=wie(),p=Aie(s,{relative:f}),g=l.toLowerCase()==="get"?"get":"post",b=typeof s=="string"&&WH.test(s),C=T=>{if(u&&u(T),T.defaultPrevented)return;T.preventDefault();let M=T.nativeEvent.submitter,O=(M==null?void 0:M.getAttribute("formmethod"))||l;c(M||T.currentTarget,{fetcherKey:e,method:O,navigate:t,replace:a,state:o,relative:f,preventScrollReset:m,viewTransition:y})};return w.createElement("form",{ref:E,method:g,action:p,onSubmit:r?u:C,..._,"data-discover":!b&&n==="render"?"true":void 0})});Sie.displayName="Form";function _ie(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YH(n){let e=w.useContext(I0);return Kr(e,_ie(n)),e}function xie(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:o,viewTransition:l}={}){let s=HH(),u=kh(),f=PS(n,{relative:o});return w.useCallback(m=>{if(eie(m,e)){m.preventDefault();let y=t!==void 0?t:nS(u)===nS(f);s(n,{replace:y,state:r,preventScrollReset:a,relative:o,viewTransition:l})}},[u,s,f,t,r,e,n,a,o,l])}var Cie=0,Eie=()=>`__${String(++Cie)}__`;function wie(){let{router:n}=YH("useSubmit"),{basename:e}=w.useContext(rd),t=Vne();return w.useCallback(async(r,a={})=>{let{action:o,method:l,encType:s,formData:u,body:f}=iie(r,e);if(a.navigate===!1){let m=a.fetcherKey||Eie();await n.fetch(m,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:u,body:f,formMethod:a.method||l,formEncType:a.encType||s,flushSync:a.flushSync})}else await n.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:u,body:f,formMethod:a.method||l,formEncType:a.encType||s,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function Aie(n,{relative:e}={}){let{basename:t}=w.useContext(rd),r=w.useContext(_f);Kr(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...PS(n||".",{relative:e})},l=kh();if(n==null){o.search=l.search;let s=new URLSearchParams(o.search),u=s.getAll("index");if(u.some(m=>m==="")){s.delete("index"),u.filter(y=>y).forEach(y=>s.append("index",y));let m=s.toString();o.search=m?`?${m}`:""}}return(!n||n===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:sf([t,o.pathname])),nS(o)}function Mie(n,e={}){let t=w.useContext(zH);Kr(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=YH("useViewTransitionState"),a=PS(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=pf(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=pf(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Y1(a.pathname,l)!=null||Y1(a.pathname,o)!=null}new TextEncoder;const Tie="_videoWrapper_9iz5a_1",Rie="_formPanel_9iz5a_6",HL={videoWrapper:Tie,formPanel:Rie},Oie="_linearGradientButton_ygfyk_1",Iie="_formContent_ygfyk_16",Bie="_imageSelect_ygfyk_23",Die="_customButton_ygfyk_27",Pie="_textarea_ygfyk_30",Lie="_formFooter_ygfyk_38",Nie="_footerButton_ygfyk_44",Iu={linearGradientButton:Oie,formContent:Iie,imageSelect:Bie,customButton:Die,textarea:Pie,formFooter:Lie,footerButton:Nie};var Ex={exports:{}},GL;function zie(){if(GL)return Ex.exports;GL=1;var n=typeof Reflect=="object"?Reflect:null,e=n&&typeof n.apply=="function"?n.apply:function(O,B,P){return Function.prototype.apply.call(O,B,P)},t;n&&typeof n.ownKeys=="function"?t=n.ownKeys:Object.getOwnPropertySymbols?t=function(O){return Object.getOwnPropertyNames(O).concat(Object.getOwnPropertySymbols(O))}:t=function(O){return Object.getOwnPropertyNames(O)};function r(M){console&&console.warn&&console.warn(M)}var a=Number.isNaN||function(O){return O!==O};function o(){o.init.call(this)}Ex.exports=o,Ex.exports.once=b,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var l=10;function s(M){if(typeof M!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof M)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(M){if(typeof M!="number"||M<0||a(M))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+M+".");l=M}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(O){if(typeof O!="number"||O<0||a(O))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+O+".");return this._maxListeners=O,this};function u(M){return M._maxListeners===void 0?o.defaultMaxListeners:M._maxListeners}o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(O){for(var B=[],P=1;P<arguments.length;P++)B.push(arguments[P]);var F=O==="error",U=this._events;if(U!==void 0)F=F&&U.error===void 0;else if(!F)return!1;if(F){var z;if(B.length>0&&(z=B[0]),z instanceof Error)throw z;var $=new Error("Unhandled error."+(z?" ("+z.message+")":""));throw $.context=z,$}var J=U[O];if(J===void 0)return!1;if(typeof J=="function")e(J,this,B);else for(var W=J.length,Q=c(J,W),P=0;P<W;++P)e(Q[P],this,B);return!0};function f(M,O,B,P){var F,U,z;if(s(B),U=M._events,U===void 0?(U=M._events=Object.create(null),M._eventsCount=0):(U.newListener!==void 0&&(M.emit("newListener",O,B.listener?B.listener:B),U=M._events),z=U[O]),z===void 0)z=U[O]=B,++M._eventsCount;else if(typeof z=="function"?z=U[O]=P?[B,z]:[z,B]:P?z.unshift(B):z.push(B),F=u(M),F>0&&z.length>F&&!z.warned){z.warned=!0;var $=new Error("Possible EventEmitter memory leak detected. "+z.length+" "+String(O)+" listeners added. Use emitter.setMaxListeners() to increase limit");$.name="MaxListenersExceededWarning",$.emitter=M,$.type=O,$.count=z.length,r($)}return M}o.prototype.addListener=function(O,B){return f(this,O,B,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(O,B){return f(this,O,B,!0)};function m(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function y(M,O,B){var P={fired:!1,wrapFn:void 0,target:M,type:O,listener:B},F=m.bind(P);return F.listener=B,P.wrapFn=F,F}o.prototype.once=function(O,B){return s(B),this.on(O,y(this,O,B)),this},o.prototype.prependOnceListener=function(O,B){return s(B),this.prependListener(O,y(this,O,B)),this},o.prototype.removeListener=function(O,B){var P,F,U,z,$;if(s(B),F=this._events,F===void 0)return this;if(P=F[O],P===void 0)return this;if(P===B||P.listener===B)--this._eventsCount===0?this._events=Object.create(null):(delete F[O],F.removeListener&&this.emit("removeListener",O,P.listener||B));else if(typeof P!="function"){for(U=-1,z=P.length-1;z>=0;z--)if(P[z]===B||P[z].listener===B){$=P[z].listener,U=z;break}if(U<0)return this;U===0?P.shift():p(P,U),P.length===1&&(F[O]=P[0]),F.removeListener!==void 0&&this.emit("removeListener",O,$||B)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(O){var B,P,F;if(P=this._events,P===void 0)return this;if(P.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):P[O]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete P[O]),this;if(arguments.length===0){var U=Object.keys(P),z;for(F=0;F<U.length;++F)z=U[F],z!=="removeListener"&&this.removeAllListeners(z);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(B=P[O],typeof B=="function")this.removeListener(O,B);else if(B!==void 0)for(F=B.length-1;F>=0;F--)this.removeListener(O,B[F]);return this};function _(M,O,B){var P=M._events;if(P===void 0)return[];var F=P[O];return F===void 0?[]:typeof F=="function"?B?[F.listener||F]:[F]:B?g(F):c(F,F.length)}o.prototype.listeners=function(O){return _(this,O,!0)},o.prototype.rawListeners=function(O){return _(this,O,!1)},o.listenerCount=function(M,O){return typeof M.listenerCount=="function"?M.listenerCount(O):E.call(M,O)},o.prototype.listenerCount=E;function E(M){var O=this._events;if(O!==void 0){var B=O[M];if(typeof B=="function")return 1;if(B!==void 0)return B.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]};function c(M,O){for(var B=new Array(O),P=0;P<O;++P)B[P]=M[P];return B}function p(M,O){for(;O+1<M.length;O++)M[O]=M[O+1];M.pop()}function g(M){for(var O=new Array(M.length),B=0;B<O.length;++B)O[B]=M[B].listener||M[B];return O}function b(M,O){return new Promise(function(B,P){function F(z){M.removeListener(O,U),P(z)}function U(){typeof M.removeListener=="function"&&M.removeListener("error",F),B([].slice.call(arguments))}T(M,O,U,{once:!0}),O!=="error"&&C(M,F,{once:!0})})}function C(M,O,B){typeof M.on=="function"&&T(M,"error",O,B)}function T(M,O,B,P){if(typeof M.on=="function")P.once?M.once(O,B):M.on(O,B);else if(typeof M.addEventListener=="function")M.addEventListener(O,function F(U){P.once&&M.removeEventListener(O,F),B(U)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof M)}return Ex.exports}var Uie=zie();const x2=new Uie.EventEmitter,C2={ADD_FAKE_VIDEO:"add-fake-video"},Fie="_imageUpload_19an3_1",Hie={imageUpload:Fie},Gie=({multiple:n=!1,onChange:e})=>{const[t,r]=w.useState([]),[a,o]=w.useState(!1),[l,s]=w.useState(""),[u,f]=w.useState(""),m=async E=>{!E.url&&!E.preview&&(E.preview=await new Promise(c=>{const p=new FileReader;p.onload=g=>{var b;return c((b=g.target)==null?void 0:b.result)},p.readAsDataURL(E.originFileObj)})),s(E.url||E.preview),f(E.name||""),o(!0)},y=({fileList:E})=>{r(E),e()},_=E=>["image/jpeg","image/png","image/webp"].includes(E.type)?!1:(xH.error(" JPEG, PNG, WEBP "),X1.LIST_IGNORE);return ke.jsxs(ke.Fragment,{children:[ke.jsx(X1,{className:Hie.imageUpload,accept:"image/jpeg,image/png,image/webp",listType:n?"picture":"picture-card",fileList:t,onPreview:m,onChange:y,beforeUpload:_,multiple:n,showUploadList:!0,children:!n&&t.length>0?null:ke.jsxs("div",{children:[ke.jsx(aV,{}),ke.jsx("div",{style:{marginTop:8},children:"JPEGPNGWEBP"})]})}),ke.jsx(Gl,{open:a,footer:null,onCancel:()=>o(!1),title:u,children:ke.jsx("img",{alt:"preview",style:{width:"100%"},src:l})})]})};/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const LS="174",Fp={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Hp={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},qH=0,E2=1,KH=2,kie=3,JH=0,Nw=1,Rb=2,Mc=3,Zu=0,ls=1,Pc=2,lf=0,bm=1,w2=2,A2=3,M2=4,QH=5,xh=100,ZH=101,e8=102,t8=103,n8=104,i8=200,r8=201,a8=202,o8=203,q1=204,K1=205,s8=206,l8=207,c8=208,u8=209,d8=210,f8=211,h8=212,p8=213,m8=214,J1=0,Q1=1,Z1=2,Em=3,eE=4,tE=5,nE=6,iE=7,NS=0,g8=1,v8=2,Wu=0,y8=1,b8=2,S8=3,lI=4,_8=5,x8=6,C8=7,T2="attached",E8="detached",zw=300,mf=301,Uh=302,iS=303,rS=304,B0=306,Fh=1e3,el=1001,d0=1002,Za=1003,Uw=1004,$ie=1004,dm=1005,Vie=1005,ma=1006,qv=1007,jie=1007,Fl=1008,Wie=1008,Hc=1009,cI=1010,uI=1011,f0=1012,Fw=1013,gf=1014,Rs=1015,D0=1016,Hw=1017,Gw=1018,wm=1020,dI=35902,fI=1021,hI=1022,No=1023,pI=1024,mI=1025,Sm=1026,Am=1027,kw=1028,zS=1029,gI=1030,$w=1031,Xie=1032,Vw=1033,Ob=33776,Ib=33777,Bb=33778,Db=33779,rE=35840,aE=35841,oE=35842,sE=35843,lE=36196,cE=37492,uE=37496,dE=37808,fE=37809,hE=37810,pE=37811,mE=37812,gE=37813,vE=37814,yE=37815,bE=37816,SE=37817,_E=37818,xE=37819,CE=37820,EE=37821,Pb=36492,wE=36494,AE=36495,vI=36283,ME=36284,TE=36285,RE=36286,w8=2200,A8=2201,M8=2202,h0=2300,p0=2301,$C=2302,fm=2400,hm=2401,aS=2402,jw=2500,yI=2501,T8=0,bI=1,OE=2,R8=3200,O8=3201,Yie=3202,qie=3203,$h=0,I8=1,ef="",Po="srgb",Hh="srgb-linear",oS="linear",sr="srgb",Kie=0,Gp=7680,Jie=7681,Qie=7682,Zie=7683,ere=34055,tre=34056,nre=5386,ire=512,rre=513,are=514,ore=515,sre=516,lre=517,cre=518,R2=519,B8=512,D8=513,P8=514,SI=515,L8=516,N8=517,z8=518,U8=519,sS=35044,ure=35048,dre=35040,fre=35045,hre=35049,pre=35041,mre=35046,gre=35050,vre=35042,yre="100",O2="300 es",Lc=2e3,lS=2001,bre={COMPUTE:"compute",RENDER:"render"};let ad=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){const r=this._listeners;return r===void 0?!1:r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){const r=this._listeners;if(r===void 0)return;const a=r[e];if(a!==void 0){const o=a.indexOf(t);o!==-1&&a.splice(o,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const r=t[e.type];if(r!==void 0){e.target=this;const a=r.slice(0);for(let o=0,l=a.length;o<l;o++)a[o].call(this,e);e.target=null}}};const Oo=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let kL=1234567;const _m=Math.PI/180,m0=180/Math.PI;function nl(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Oo[n&255]+Oo[n>>8&255]+Oo[n>>16&255]+Oo[n>>24&255]+"-"+Oo[e&255]+Oo[e>>8&255]+"-"+Oo[e>>16&15|64]+Oo[e>>24&255]+"-"+Oo[t&63|128]+Oo[t>>8&255]+"-"+Oo[t>>16&255]+Oo[t>>24&255]+Oo[r&255]+Oo[r>>8&255]+Oo[r>>16&255]+Oo[r>>24&255]).toLowerCase()}function Jn(n,e,t){return Math.max(e,Math.min(t,n))}function _I(n,e){return(n%e+e)%e}function Sre(n,e,t,r,a){return r+(n-e)*(a-r)/(t-e)}function _re(n,e,t){return n!==e?(t-n)/(e-n):0}function Lb(n,e,t){return(1-t)*n+t*e}function xre(n,e,t,r){return Lb(n,e,1-Math.exp(-t*r))}function Cre(n,e=1){return e-Math.abs(_I(n,e*2)-e)}function Ere(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function wre(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function Are(n,e){return n+Math.floor(Math.random()*(e-n+1))}function Mre(n,e){return n+Math.random()*(e-n)}function Tre(n){return n*(.5-Math.random())}function Rre(n){n!==void 0&&(kL=n);let e=kL+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Ore(n){return n*_m}function Ire(n){return n*m0}function Bre(n){return(n&n-1)===0&&n!==0}function Dre(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function Pre(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function Lre(n,e,t,r,a){const o=Math.cos,l=Math.sin,s=o(t/2),u=l(t/2),f=o((e+r)/2),m=l((e+r)/2),y=o((e-r)/2),_=l((e-r)/2),E=o((r-e)/2),c=l((r-e)/2);switch(a){case"XYX":n.set(s*m,u*y,u*_,s*f);break;case"YZY":n.set(u*_,s*m,u*y,s*f);break;case"ZXZ":n.set(u*y,u*_,s*m,s*f);break;case"XZX":n.set(s*m,u*c,u*E,s*f);break;case"YXY":n.set(u*E,s*m,u*c,s*f);break;case"ZYZ":n.set(u*c,u*E,s*m,s*f);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+a)}}function ss(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function ri(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const F8={DEG2RAD:_m,RAD2DEG:m0,generateUUID:nl,clamp:Jn,euclideanModulo:_I,mapLinear:Sre,inverseLerp:_re,lerp:Lb,damp:xre,pingpong:Cre,smoothstep:Ere,smootherstep:wre,randInt:Are,randFloat:Mre,randFloatSpread:Tre,seededRandom:Rre,degToRad:Ore,radToDeg:Ire,isPowerOfTwo:Bre,ceilPowerOfTwo:Dre,floorPowerOfTwo:Pre,setQuaternionFromProperEuler:Lre,normalize:ri,denormalize:ss};class Tt{constructor(e=0,t=0){Tt.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,a=e.elements;return this.x=a[0]*t+a[3]*r+a[6],this.y=a[1]*t+a[4]*r+a[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Jn(this.x,e.x,t.x),this.y=Jn(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Jn(this.x,e,t),this.y=Jn(this.y,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Jn(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Jn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),a=Math.sin(t),o=this.x-e.x,l=this.y-e.y;return this.x=o*r-l*a+e.x,this.y=o*a+l*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class ti{constructor(e,t,r,a,o,l,s,u,f){ti.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,r,a,o,l,s,u,f)}set(e,t,r,a,o,l,s,u,f){const m=this.elements;return m[0]=e,m[1]=a,m[2]=s,m[3]=t,m[4]=o,m[5]=u,m[6]=r,m[7]=l,m[8]=f,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,a=t.elements,o=this.elements,l=r[0],s=r[3],u=r[6],f=r[1],m=r[4],y=r[7],_=r[2],E=r[5],c=r[8],p=a[0],g=a[3],b=a[6],C=a[1],T=a[4],M=a[7],O=a[2],B=a[5],P=a[8];return o[0]=l*p+s*C+u*O,o[3]=l*g+s*T+u*B,o[6]=l*b+s*M+u*P,o[1]=f*p+m*C+y*O,o[4]=f*g+m*T+y*B,o[7]=f*b+m*M+y*P,o[2]=_*p+E*C+c*O,o[5]=_*g+E*T+c*B,o[8]=_*b+E*M+c*P,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],a=e[2],o=e[3],l=e[4],s=e[5],u=e[6],f=e[7],m=e[8];return t*l*m-t*s*f-r*o*m+r*s*u+a*o*f-a*l*u}invert(){const e=this.elements,t=e[0],r=e[1],a=e[2],o=e[3],l=e[4],s=e[5],u=e[6],f=e[7],m=e[8],y=m*l-s*f,_=s*u-m*o,E=f*o-l*u,c=t*y+r*_+a*E;if(c===0)return this.set(0,0,0,0,0,0,0,0,0);const p=1/c;return e[0]=y*p,e[1]=(a*f-m*r)*p,e[2]=(s*r-a*l)*p,e[3]=_*p,e[4]=(m*t-a*u)*p,e[5]=(a*o-s*t)*p,e[6]=E*p,e[7]=(r*u-f*t)*p,e[8]=(l*t-r*o)*p,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,a,o,l,s){const u=Math.cos(o),f=Math.sin(o);return this.set(r*u,r*f,-r*(u*l+f*s)+l+e,-a*f,a*u,-a*(-f*l+u*s)+s+t,0,0,1),this}scale(e,t){return this.premultiply(YM.makeScale(e,t)),this}rotate(e){return this.premultiply(YM.makeRotation(-e)),this}translate(e,t){return this.premultiply(YM.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let a=0;a<9;a++)if(t[a]!==r[a])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const YM=new ti;function H8(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const Nre={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Pv(n,e){return new Nre[n](e)}function cS(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function G8(){const n=cS("canvas");return n.style.display="block",n}const $L={};function kp(n){n in $L||($L[n]=!0,console.warn(n))}function zre(n,e,t){return new Promise(function(r,a){function o(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:a();break;case n.TIMEOUT_EXPIRED:setTimeout(o,t);break;default:r()}}setTimeout(o,t)})}function Ure(n){const e=n.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function Fre(n){const e=n.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const VL=new ti().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),jL=new ti().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function Hre(){const n={enabled:!0,workingColorSpace:Hh,spaces:{},convert:function(a,o,l){return this.enabled===!1||o===l||!o||!l||(this.spaces[o].transfer===sr&&(a.r=cf(a.r),a.g=cf(a.g),a.b=cf(a.b)),this.spaces[o].primaries!==this.spaces[l].primaries&&(a.applyMatrix3(this.spaces[o].toXYZ),a.applyMatrix3(this.spaces[l].fromXYZ)),this.spaces[l].transfer===sr&&(a.r=Kv(a.r),a.g=Kv(a.g),a.b=Kv(a.b))),a},fromWorkingColorSpace:function(a,o){return this.convert(a,this.workingColorSpace,o)},toWorkingColorSpace:function(a,o){return this.convert(a,o,this.workingColorSpace)},getPrimaries:function(a){return this.spaces[a].primaries},getTransfer:function(a){return a===ef?oS:this.spaces[a].transfer},getLuminanceCoefficients:function(a,o=this.workingColorSpace){return a.fromArray(this.spaces[o].luminanceCoefficients)},define:function(a){Object.assign(this.spaces,a)},_getMatrix:function(a,o,l){return a.copy(this.spaces[o].toXYZ).multiply(this.spaces[l].fromXYZ)},_getDrawingBufferColorSpace:function(a){return this.spaces[a].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(a=this.workingColorSpace){return this.spaces[a].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],r=[.3127,.329];return n.define({[Hh]:{primaries:e,whitePoint:r,transfer:oS,toXYZ:VL,fromXYZ:jL,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:Po},outputColorSpaceConfig:{drawingBufferColorSpace:Po}},[Po]:{primaries:e,whitePoint:r,transfer:sr,toXYZ:VL,fromXYZ:jL,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:Po}}}),n}const Ii=Hre();function cf(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Kv(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let Gg;class k8{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Gg===void 0&&(Gg=cS("canvas")),Gg.width=e.width,Gg.height=e.height;const r=Gg.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=Gg}return t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=cS("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const a=r.getImageData(0,0,e.width,e.height),o=a.data;for(let l=0;l<o.length;l++)o[l]=cf(o[l]/255)*255;return r.putImageData(a,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(cf(t[r]/255)*255):t[r]=cf(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Gre=0;class Rh{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Gre++}),this.uuid=nl(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},a=this.data;if(a!==null){let o;if(Array.isArray(a)){o=[];for(let l=0,s=a.length;l<s;l++)a[l].isDataTexture?o.push(qM(a[l].image)):o.push(qM(a[l]))}else o=qM(a);r.url=o}return t||(e.images[this.uuid]=r),r}}function qM(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?k8.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let kre=0;class Lr extends ad{constructor(e=Lr.DEFAULT_IMAGE,t=Lr.DEFAULT_MAPPING,r=el,a=el,o=ma,l=Fl,s=No,u=Hc,f=Lr.DEFAULT_ANISOTROPY,m=ef){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:kre++}),this.uuid=nl(),this.name="",this.source=new Rh(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=r,this.wrapT=a,this.magFilter=o,this.minFilter=l,this.anisotropy=f,this.format=s,this.internalFormat=null,this.type=u,this.offset=new Tt(0,0),this.repeat=new Tt(1,1),this.center=new Tt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ti,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=m,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==zw)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Fh:e.x=e.x-Math.floor(e.x);break;case el:e.x=e.x<0?0:1;break;case d0:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Fh:e.y=e.y-Math.floor(e.y);break;case el:e.y=e.y<0?0:1;break;case d0:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Lr.DEFAULT_IMAGE=null;Lr.DEFAULT_MAPPING=zw;Lr.DEFAULT_ANISOTROPY=1;class Gi{constructor(e=0,t=0,r=0,a=1){Gi.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=a}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,a){return this.x=e,this.y=t,this.z=r,this.w=a,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,a=this.z,o=this.w,l=e.elements;return this.x=l[0]*t+l[4]*r+l[8]*a+l[12]*o,this.y=l[1]*t+l[5]*r+l[9]*a+l[13]*o,this.z=l[2]*t+l[6]*r+l[10]*a+l[14]*o,this.w=l[3]*t+l[7]*r+l[11]*a+l[15]*o,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,a,o;const u=e.elements,f=u[0],m=u[4],y=u[8],_=u[1],E=u[5],c=u[9],p=u[2],g=u[6],b=u[10];if(Math.abs(m-_)<.01&&Math.abs(y-p)<.01&&Math.abs(c-g)<.01){if(Math.abs(m+_)<.1&&Math.abs(y+p)<.1&&Math.abs(c+g)<.1&&Math.abs(f+E+b-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const T=(f+1)/2,M=(E+1)/2,O=(b+1)/2,B=(m+_)/4,P=(y+p)/4,F=(c+g)/4;return T>M&&T>O?T<.01?(r=0,a=.707106781,o=.707106781):(r=Math.sqrt(T),a=B/r,o=P/r):M>O?M<.01?(r=.707106781,a=0,o=.707106781):(a=Math.sqrt(M),r=B/a,o=F/a):O<.01?(r=.707106781,a=.707106781,o=0):(o=Math.sqrt(O),r=P/o,a=F/o),this.set(r,a,o,t),this}let C=Math.sqrt((g-c)*(g-c)+(y-p)*(y-p)+(_-m)*(_-m));return Math.abs(C)<.001&&(C=1),this.x=(g-c)/C,this.y=(y-p)/C,this.z=(_-m)/C,this.w=Math.acos((f+E+b-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Jn(this.x,e.x,t.x),this.y=Jn(this.y,e.y,t.y),this.z=Jn(this.z,e.z,t.z),this.w=Jn(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Jn(this.x,e,t),this.y=Jn(this.y,e,t),this.z=Jn(this.z,e,t),this.w=Jn(this.w,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Jn(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Ww extends ad{constructor(e=1,t=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Gi(0,0,e,t),this.scissorTest=!1,this.viewport=new Gi(0,0,e,t);const a={width:e,height:t,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:ma,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},r);const o=new Lr(a,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);o.flipY=!1,o.generateMipmaps=r.generateMipmaps,o.internalFormat=r.internalFormat,this.textures=[];const l=r.count;for(let s=0;s<l;s++)this.textures[s]=o.clone(),this.textures[s].isRenderTargetTexture=!0,this.textures[s].renderTarget=this;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let a=0,o=this.textures.length;a<o;a++)this.textures[a].image.width=e,this.textures[a].image.height=t,this.textures[a].image.depth=r;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,r=e.textures.length;t<r;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const a=Object.assign({},e.textures[t].image);this.textures[t].source=new Rh(a)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ed extends Ww{constructor(e=1,t=1,r={}){super(e,t,r),this.isWebGLRenderTarget=!0}}class US extends Lr{constructor(e=null,t=1,r=1,a=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:a},this.magFilter=Za,this.minFilter=Za,this.wrapR=el,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class $re extends ed{constructor(e=1,t=1,r=1,a={}){super(e,t,a),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new US(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class Xw extends Lr{constructor(e=null,t=1,r=1,a=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:a},this.magFilter=Za,this.minFilter=Za,this.wrapR=el,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Vre extends ed{constructor(e=1,t=1,r=1,a={}){super(e,t,a),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new Xw(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class eo{constructor(e=0,t=0,r=0,a=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=a}static slerpFlat(e,t,r,a,o,l,s){let u=r[a+0],f=r[a+1],m=r[a+2],y=r[a+3];const _=o[l+0],E=o[l+1],c=o[l+2],p=o[l+3];if(s===0){e[t+0]=u,e[t+1]=f,e[t+2]=m,e[t+3]=y;return}if(s===1){e[t+0]=_,e[t+1]=E,e[t+2]=c,e[t+3]=p;return}if(y!==p||u!==_||f!==E||m!==c){let g=1-s;const b=u*_+f*E+m*c+y*p,C=b>=0?1:-1,T=1-b*b;if(T>Number.EPSILON){const O=Math.sqrt(T),B=Math.atan2(O,b*C);g=Math.sin(g*B)/O,s=Math.sin(s*B)/O}const M=s*C;if(u=u*g+_*M,f=f*g+E*M,m=m*g+c*M,y=y*g+p*M,g===1-s){const O=1/Math.sqrt(u*u+f*f+m*m+y*y);u*=O,f*=O,m*=O,y*=O}}e[t]=u,e[t+1]=f,e[t+2]=m,e[t+3]=y}static multiplyQuaternionsFlat(e,t,r,a,o,l){const s=r[a],u=r[a+1],f=r[a+2],m=r[a+3],y=o[l],_=o[l+1],E=o[l+2],c=o[l+3];return e[t]=s*c+m*y+u*E-f*_,e[t+1]=u*c+m*_+f*y-s*E,e[t+2]=f*c+m*E+s*_-u*y,e[t+3]=m*c-s*y-u*_-f*E,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,a){return this._x=e,this._y=t,this._z=r,this._w=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const r=e._x,a=e._y,o=e._z,l=e._order,s=Math.cos,u=Math.sin,f=s(r/2),m=s(a/2),y=s(o/2),_=u(r/2),E=u(a/2),c=u(o/2);switch(l){case"XYZ":this._x=_*m*y+f*E*c,this._y=f*E*y-_*m*c,this._z=f*m*c+_*E*y,this._w=f*m*y-_*E*c;break;case"YXZ":this._x=_*m*y+f*E*c,this._y=f*E*y-_*m*c,this._z=f*m*c-_*E*y,this._w=f*m*y+_*E*c;break;case"ZXY":this._x=_*m*y-f*E*c,this._y=f*E*y+_*m*c,this._z=f*m*c+_*E*y,this._w=f*m*y-_*E*c;break;case"ZYX":this._x=_*m*y-f*E*c,this._y=f*E*y+_*m*c,this._z=f*m*c-_*E*y,this._w=f*m*y+_*E*c;break;case"YZX":this._x=_*m*y+f*E*c,this._y=f*E*y+_*m*c,this._z=f*m*c-_*E*y,this._w=f*m*y-_*E*c;break;case"XZY":this._x=_*m*y-f*E*c,this._y=f*E*y-_*m*c,this._z=f*m*c+_*E*y,this._w=f*m*y+_*E*c;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+l)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,a=Math.sin(r);return this._x=e.x*a,this._y=e.y*a,this._z=e.z*a,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],a=t[4],o=t[8],l=t[1],s=t[5],u=t[9],f=t[2],m=t[6],y=t[10],_=r+s+y;if(_>0){const E=.5/Math.sqrt(_+1);this._w=.25/E,this._x=(m-u)*E,this._y=(o-f)*E,this._z=(l-a)*E}else if(r>s&&r>y){const E=2*Math.sqrt(1+r-s-y);this._w=(m-u)/E,this._x=.25*E,this._y=(a+l)/E,this._z=(o+f)/E}else if(s>y){const E=2*Math.sqrt(1+s-r-y);this._w=(o-f)/E,this._x=(a+l)/E,this._y=.25*E,this._z=(u+m)/E}else{const E=2*Math.sqrt(1+y-r-s);this._w=(l-a)/E,this._x=(o+f)/E,this._y=(u+m)/E,this._z=.25*E}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Jn(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const a=Math.min(1,t/r);return this.slerp(e,a),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,a=e._y,o=e._z,l=e._w,s=t._x,u=t._y,f=t._z,m=t._w;return this._x=r*m+l*s+a*f-o*u,this._y=a*m+l*u+o*s-r*f,this._z=o*m+l*f+r*u-a*s,this._w=l*m-r*s-a*u-o*f,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,a=this._y,o=this._z,l=this._w;let s=l*e._w+r*e._x+a*e._y+o*e._z;if(s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),s>=1)return this._w=l,this._x=r,this._y=a,this._z=o,this;const u=1-s*s;if(u<=Number.EPSILON){const E=1-t;return this._w=E*l+t*this._w,this._x=E*r+t*this._x,this._y=E*a+t*this._y,this._z=E*o+t*this._z,this.normalize(),this}const f=Math.sqrt(u),m=Math.atan2(f,s),y=Math.sin((1-t)*m)/f,_=Math.sin(t*m)/f;return this._w=l*y+this._w*_,this._x=r*y+this._x*_,this._y=a*y+this._y*_,this._z=o*y+this._z*_,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),r=Math.random(),a=Math.sqrt(1-r),o=Math.sqrt(r);return this.set(a*Math.sin(e),a*Math.cos(e),o*Math.sin(t),o*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class be{constructor(e=0,t=0,r=0){be.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(WL.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(WL.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,a=this.z,o=e.elements;return this.x=o[0]*t+o[3]*r+o[6]*a,this.y=o[1]*t+o[4]*r+o[7]*a,this.z=o[2]*t+o[5]*r+o[8]*a,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,a=this.z,o=e.elements,l=1/(o[3]*t+o[7]*r+o[11]*a+o[15]);return this.x=(o[0]*t+o[4]*r+o[8]*a+o[12])*l,this.y=(o[1]*t+o[5]*r+o[9]*a+o[13])*l,this.z=(o[2]*t+o[6]*r+o[10]*a+o[14])*l,this}applyQuaternion(e){const t=this.x,r=this.y,a=this.z,o=e.x,l=e.y,s=e.z,u=e.w,f=2*(l*a-s*r),m=2*(s*t-o*a),y=2*(o*r-l*t);return this.x=t+u*f+l*y-s*m,this.y=r+u*m+s*f-o*y,this.z=a+u*y+o*m-l*f,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,a=this.z,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*a,this.y=o[1]*t+o[5]*r+o[9]*a,this.z=o[2]*t+o[6]*r+o[10]*a,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Jn(this.x,e.x,t.x),this.y=Jn(this.y,e.y,t.y),this.z=Jn(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Jn(this.x,e,t),this.y=Jn(this.y,e,t),this.z=Jn(this.z,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Jn(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,a=e.y,o=e.z,l=t.x,s=t.y,u=t.z;return this.x=a*u-o*s,this.y=o*l-r*u,this.z=r*s-a*l,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return KM.copy(this).projectOnVector(e),this.sub(KM)}reflect(e){return this.sub(KM.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Jn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,a=this.z-e.z;return t*t+r*r+a*a}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const a=Math.sin(t)*e;return this.x=a*Math.sin(r),this.y=Math.cos(t)*e,this.z=a*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),a=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=a,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,r=Math.sqrt(1-t*t);return this.x=r*Math.cos(e),this.y=t,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const KM=new be,WL=new eo;class go{constructor(e=new be(1/0,1/0,1/0),t=new be(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(Cc.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(Cc.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=Cc.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const o=r.getAttribute("position");if(t===!0&&o!==void 0&&e.isInstancedMesh!==!0)for(let l=0,s=o.count;l<s;l++)e.isMesh===!0?e.getVertexPosition(l,Cc):Cc.fromBufferAttribute(o,l),Cc.applyMatrix4(e.matrixWorld),this.expandByPoint(Cc);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),wx.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),wx.copy(r.boundingBox)),wx.applyMatrix4(e.matrixWorld),this.union(wx)}const a=e.children;for(let o=0,l=a.length;o<l;o++)this.expandByObject(a[o],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Cc),Cc.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter($y),Ax.subVectors(this.max,$y),kg.subVectors(e.a,$y),$g.subVectors(e.b,$y),Vg.subVectors(e.c,$y),oh.subVectors($g,kg),sh.subVectors(Vg,$g),wp.subVectors(kg,Vg);let t=[0,-oh.z,oh.y,0,-sh.z,sh.y,0,-wp.z,wp.y,oh.z,0,-oh.x,sh.z,0,-sh.x,wp.z,0,-wp.x,-oh.y,oh.x,0,-sh.y,sh.x,0,-wp.y,wp.x,0];return!JM(t,kg,$g,Vg,Ax)||(t=[1,0,0,0,1,0,0,0,1],!JM(t,kg,$g,Vg,Ax))?!1:(Mx.crossVectors(oh,sh),t=[Mx.x,Mx.y,Mx.z],JM(t,kg,$g,Vg,Ax))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Cc).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Cc).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Pd[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Pd[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Pd[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Pd[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Pd[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Pd[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Pd[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Pd[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Pd),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Pd=[new be,new be,new be,new be,new be,new be,new be,new be],Cc=new be,wx=new go,kg=new be,$g=new be,Vg=new be,oh=new be,sh=new be,wp=new be,$y=new be,Ax=new be,Mx=new be,Ap=new be;function JM(n,e,t,r,a){for(let o=0,l=n.length-3;o<=l;o+=3){Ap.fromArray(n,o);const s=a.x*Math.abs(Ap.x)+a.y*Math.abs(Ap.y)+a.z*Math.abs(Ap.z),u=e.dot(Ap),f=t.dot(Ap),m=r.dot(Ap);if(Math.max(-Math.max(u,f,m),Math.min(u,f,m))>s)return!1}return!0}const jre=new go,Vy=new be,QM=new be;class vo{constructor(e=new be,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):jre.setFromPoints(e).getCenter(r);let a=0;for(let o=0,l=e.length;o<l;o++)a=Math.max(a,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(a),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Vy.subVectors(e,this.center);const t=Vy.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),a=(r-this.radius)*.5;this.center.addScaledVector(Vy,a/r),this.radius+=a}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(QM.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Vy.copy(e.center).add(QM)),this.expandByPoint(Vy.copy(e.center).sub(QM))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Ld=new be,ZM=new be,Tx=new be,lh=new be,eT=new be,Rx=new be,tT=new be;class Gm{constructor(e=new be,t=new be(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ld)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Ld.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Ld.copy(this.origin).addScaledVector(this.direction,t),Ld.distanceToSquared(e))}distanceSqToSegment(e,t,r,a){ZM.copy(e).add(t).multiplyScalar(.5),Tx.copy(t).sub(e).normalize(),lh.copy(this.origin).sub(ZM);const o=e.distanceTo(t)*.5,l=-this.direction.dot(Tx),s=lh.dot(this.direction),u=-lh.dot(Tx),f=lh.lengthSq(),m=Math.abs(1-l*l);let y,_,E,c;if(m>0)if(y=l*u-s,_=l*s-u,c=o*m,y>=0)if(_>=-c)if(_<=c){const p=1/m;y*=p,_*=p,E=y*(y+l*_+2*s)+_*(l*y+_+2*u)+f}else _=o,y=Math.max(0,-(l*_+s)),E=-y*y+_*(_+2*u)+f;else _=-o,y=Math.max(0,-(l*_+s)),E=-y*y+_*(_+2*u)+f;else _<=-c?(y=Math.max(0,-(-l*o+s)),_=y>0?-o:Math.min(Math.max(-o,-u),o),E=-y*y+_*(_+2*u)+f):_<=c?(y=0,_=Math.min(Math.max(-o,-u),o),E=_*(_+2*u)+f):(y=Math.max(0,-(l*o+s)),_=y>0?o:Math.min(Math.max(-o,-u),o),E=-y*y+_*(_+2*u)+f);else _=l>0?-o:o,y=Math.max(0,-(l*_+s)),E=-y*y+_*(_+2*u)+f;return r&&r.copy(this.origin).addScaledVector(this.direction,y),a&&a.copy(ZM).addScaledVector(Tx,_),E}intersectSphere(e,t){Ld.subVectors(e.center,this.origin);const r=Ld.dot(this.direction),a=Ld.dot(Ld)-r*r,o=e.radius*e.radius;if(a>o)return null;const l=Math.sqrt(o-a),s=r-l,u=r+l;return u<0?null:s<0?this.at(u,t):this.at(s,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,a,o,l,s,u;const f=1/this.direction.x,m=1/this.direction.y,y=1/this.direction.z,_=this.origin;return f>=0?(r=(e.min.x-_.x)*f,a=(e.max.x-_.x)*f):(r=(e.max.x-_.x)*f,a=(e.min.x-_.x)*f),m>=0?(o=(e.min.y-_.y)*m,l=(e.max.y-_.y)*m):(o=(e.max.y-_.y)*m,l=(e.min.y-_.y)*m),r>l||o>a||((o>r||isNaN(r))&&(r=o),(l<a||isNaN(a))&&(a=l),y>=0?(s=(e.min.z-_.z)*y,u=(e.max.z-_.z)*y):(s=(e.max.z-_.z)*y,u=(e.min.z-_.z)*y),r>u||s>a)||((s>r||r!==r)&&(r=s),(u<a||a!==a)&&(a=u),a<0)?null:this.at(r>=0?r:a,t)}intersectsBox(e){return this.intersectBox(e,Ld)!==null}intersectTriangle(e,t,r,a,o){eT.subVectors(t,e),Rx.subVectors(r,e),tT.crossVectors(eT,Rx);let l=this.direction.dot(tT),s;if(l>0){if(a)return null;s=1}else if(l<0)s=-1,l=-l;else return null;lh.subVectors(this.origin,e);const u=s*this.direction.dot(Rx.crossVectors(lh,Rx));if(u<0)return null;const f=s*this.direction.dot(eT.cross(lh));if(f<0||u+f>l)return null;const m=-s*lh.dot(tT);return m<0?null:this.at(m/l,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Pn{constructor(e,t,r,a,o,l,s,u,f,m,y,_,E,c,p,g){Pn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,r,a,o,l,s,u,f,m,y,_,E,c,p,g)}set(e,t,r,a,o,l,s,u,f,m,y,_,E,c,p,g){const b=this.elements;return b[0]=e,b[4]=t,b[8]=r,b[12]=a,b[1]=o,b[5]=l,b[9]=s,b[13]=u,b[2]=f,b[6]=m,b[10]=y,b[14]=_,b[3]=E,b[7]=c,b[11]=p,b[15]=g,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Pn().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,a=1/jg.setFromMatrixColumn(e,0).length(),o=1/jg.setFromMatrixColumn(e,1).length(),l=1/jg.setFromMatrixColumn(e,2).length();return t[0]=r[0]*a,t[1]=r[1]*a,t[2]=r[2]*a,t[3]=0,t[4]=r[4]*o,t[5]=r[5]*o,t[6]=r[6]*o,t[7]=0,t[8]=r[8]*l,t[9]=r[9]*l,t[10]=r[10]*l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,a=e.y,o=e.z,l=Math.cos(r),s=Math.sin(r),u=Math.cos(a),f=Math.sin(a),m=Math.cos(o),y=Math.sin(o);if(e.order==="XYZ"){const _=l*m,E=l*y,c=s*m,p=s*y;t[0]=u*m,t[4]=-u*y,t[8]=f,t[1]=E+c*f,t[5]=_-p*f,t[9]=-s*u,t[2]=p-_*f,t[6]=c+E*f,t[10]=l*u}else if(e.order==="YXZ"){const _=u*m,E=u*y,c=f*m,p=f*y;t[0]=_+p*s,t[4]=c*s-E,t[8]=l*f,t[1]=l*y,t[5]=l*m,t[9]=-s,t[2]=E*s-c,t[6]=p+_*s,t[10]=l*u}else if(e.order==="ZXY"){const _=u*m,E=u*y,c=f*m,p=f*y;t[0]=_-p*s,t[4]=-l*y,t[8]=c+E*s,t[1]=E+c*s,t[5]=l*m,t[9]=p-_*s,t[2]=-l*f,t[6]=s,t[10]=l*u}else if(e.order==="ZYX"){const _=l*m,E=l*y,c=s*m,p=s*y;t[0]=u*m,t[4]=c*f-E,t[8]=_*f+p,t[1]=u*y,t[5]=p*f+_,t[9]=E*f-c,t[2]=-f,t[6]=s*u,t[10]=l*u}else if(e.order==="YZX"){const _=l*u,E=l*f,c=s*u,p=s*f;t[0]=u*m,t[4]=p-_*y,t[8]=c*y+E,t[1]=y,t[5]=l*m,t[9]=-s*m,t[2]=-f*m,t[6]=E*y+c,t[10]=_-p*y}else if(e.order==="XZY"){const _=l*u,E=l*f,c=s*u,p=s*f;t[0]=u*m,t[4]=-y,t[8]=f*m,t[1]=_*y+p,t[5]=l*m,t[9]=E*y-c,t[2]=c*y-E,t[6]=s*m,t[10]=p*y+_}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Wre,e,Xre)}lookAt(e,t,r){const a=this.elements;return Ys.subVectors(e,t),Ys.lengthSq()===0&&(Ys.z=1),Ys.normalize(),ch.crossVectors(r,Ys),ch.lengthSq()===0&&(Math.abs(r.z)===1?Ys.x+=1e-4:Ys.z+=1e-4,Ys.normalize(),ch.crossVectors(r,Ys)),ch.normalize(),Ox.crossVectors(Ys,ch),a[0]=ch.x,a[4]=Ox.x,a[8]=Ys.x,a[1]=ch.y,a[5]=Ox.y,a[9]=Ys.y,a[2]=ch.z,a[6]=Ox.z,a[10]=Ys.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,a=t.elements,o=this.elements,l=r[0],s=r[4],u=r[8],f=r[12],m=r[1],y=r[5],_=r[9],E=r[13],c=r[2],p=r[6],g=r[10],b=r[14],C=r[3],T=r[7],M=r[11],O=r[15],B=a[0],P=a[4],F=a[8],U=a[12],z=a[1],$=a[5],J=a[9],W=a[13],Q=a[2],ae=a[6],Y=a[10],K=a[14],ee=a[3],de=a[7],q=a[11],ie=a[15];return o[0]=l*B+s*z+u*Q+f*ee,o[4]=l*P+s*$+u*ae+f*de,o[8]=l*F+s*J+u*Y+f*q,o[12]=l*U+s*W+u*K+f*ie,o[1]=m*B+y*z+_*Q+E*ee,o[5]=m*P+y*$+_*ae+E*de,o[9]=m*F+y*J+_*Y+E*q,o[13]=m*U+y*W+_*K+E*ie,o[2]=c*B+p*z+g*Q+b*ee,o[6]=c*P+p*$+g*ae+b*de,o[10]=c*F+p*J+g*Y+b*q,o[14]=c*U+p*W+g*K+b*ie,o[3]=C*B+T*z+M*Q+O*ee,o[7]=C*P+T*$+M*ae+O*de,o[11]=C*F+T*J+M*Y+O*q,o[15]=C*U+T*W+M*K+O*ie,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],a=e[8],o=e[12],l=e[1],s=e[5],u=e[9],f=e[13],m=e[2],y=e[6],_=e[10],E=e[14],c=e[3],p=e[7],g=e[11],b=e[15];return c*(+o*u*y-a*f*y-o*s*_+r*f*_+a*s*E-r*u*E)+p*(+t*u*E-t*f*_+o*l*_-a*l*E+a*f*m-o*u*m)+g*(+t*f*y-t*s*E-o*l*y+r*l*E+o*s*m-r*f*m)+b*(-a*s*m-t*u*y+t*s*_+a*l*y-r*l*_+r*u*m)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const a=this.elements;return e.isVector3?(a[12]=e.x,a[13]=e.y,a[14]=e.z):(a[12]=e,a[13]=t,a[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],a=e[2],o=e[3],l=e[4],s=e[5],u=e[6],f=e[7],m=e[8],y=e[9],_=e[10],E=e[11],c=e[12],p=e[13],g=e[14],b=e[15],C=y*g*f-p*_*f+p*u*E-s*g*E-y*u*b+s*_*b,T=c*_*f-m*g*f-c*u*E+l*g*E+m*u*b-l*_*b,M=m*p*f-c*y*f+c*s*E-l*p*E-m*s*b+l*y*b,O=c*y*u-m*p*u-c*s*_+l*p*_+m*s*g-l*y*g,B=t*C+r*T+a*M+o*O;if(B===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const P=1/B;return e[0]=C*P,e[1]=(p*_*o-y*g*o-p*a*E+r*g*E+y*a*b-r*_*b)*P,e[2]=(s*g*o-p*u*o+p*a*f-r*g*f-s*a*b+r*u*b)*P,e[3]=(y*u*o-s*_*o-y*a*f+r*_*f+s*a*E-r*u*E)*P,e[4]=T*P,e[5]=(m*g*o-c*_*o+c*a*E-t*g*E-m*a*b+t*_*b)*P,e[6]=(c*u*o-l*g*o-c*a*f+t*g*f+l*a*b-t*u*b)*P,e[7]=(l*_*o-m*u*o+m*a*f-t*_*f-l*a*E+t*u*E)*P,e[8]=M*P,e[9]=(c*y*o-m*p*o-c*r*E+t*p*E+m*r*b-t*y*b)*P,e[10]=(l*p*o-c*s*o+c*r*f-t*p*f-l*r*b+t*s*b)*P,e[11]=(m*s*o-l*y*o-m*r*f+t*y*f+l*r*E-t*s*E)*P,e[12]=O*P,e[13]=(m*p*a-c*y*a+c*r*_-t*p*_-m*r*g+t*y*g)*P,e[14]=(c*s*a-l*p*a-c*r*u+t*p*u+l*r*g-t*s*g)*P,e[15]=(l*y*a-m*s*a+m*r*u-t*y*u-l*r*_+t*s*_)*P,this}scale(e){const t=this.elements,r=e.x,a=e.y,o=e.z;return t[0]*=r,t[4]*=a,t[8]*=o,t[1]*=r,t[5]*=a,t[9]*=o,t[2]*=r,t[6]*=a,t[10]*=o,t[3]*=r,t[7]*=a,t[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],a=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,a))}makeTranslation(e,t,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),a=Math.sin(t),o=1-r,l=e.x,s=e.y,u=e.z,f=o*l,m=o*s;return this.set(f*l+r,f*s-a*u,f*u+a*s,0,f*s+a*u,m*s+r,m*u-a*l,0,f*u-a*s,m*u+a*l,o*u*u+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,a,o,l){return this.set(1,r,o,0,e,1,l,0,t,a,1,0,0,0,0,1),this}compose(e,t,r){const a=this.elements,o=t._x,l=t._y,s=t._z,u=t._w,f=o+o,m=l+l,y=s+s,_=o*f,E=o*m,c=o*y,p=l*m,g=l*y,b=s*y,C=u*f,T=u*m,M=u*y,O=r.x,B=r.y,P=r.z;return a[0]=(1-(p+b))*O,a[1]=(E+M)*O,a[2]=(c-T)*O,a[3]=0,a[4]=(E-M)*B,a[5]=(1-(_+b))*B,a[6]=(g+C)*B,a[7]=0,a[8]=(c+T)*P,a[9]=(g-C)*P,a[10]=(1-(_+p))*P,a[11]=0,a[12]=e.x,a[13]=e.y,a[14]=e.z,a[15]=1,this}decompose(e,t,r){const a=this.elements;let o=jg.set(a[0],a[1],a[2]).length();const l=jg.set(a[4],a[5],a[6]).length(),s=jg.set(a[8],a[9],a[10]).length();this.determinant()<0&&(o=-o),e.x=a[12],e.y=a[13],e.z=a[14],Ec.copy(this);const f=1/o,m=1/l,y=1/s;return Ec.elements[0]*=f,Ec.elements[1]*=f,Ec.elements[2]*=f,Ec.elements[4]*=m,Ec.elements[5]*=m,Ec.elements[6]*=m,Ec.elements[8]*=y,Ec.elements[9]*=y,Ec.elements[10]*=y,t.setFromRotationMatrix(Ec),r.x=o,r.y=l,r.z=s,this}makePerspective(e,t,r,a,o,l,s=Lc){const u=this.elements,f=2*o/(t-e),m=2*o/(r-a),y=(t+e)/(t-e),_=(r+a)/(r-a);let E,c;if(s===Lc)E=-(l+o)/(l-o),c=-2*l*o/(l-o);else if(s===lS)E=-l/(l-o),c=-l*o/(l-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+s);return u[0]=f,u[4]=0,u[8]=y,u[12]=0,u[1]=0,u[5]=m,u[9]=_,u[13]=0,u[2]=0,u[6]=0,u[10]=E,u[14]=c,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(e,t,r,a,o,l,s=Lc){const u=this.elements,f=1/(t-e),m=1/(r-a),y=1/(l-o),_=(t+e)*f,E=(r+a)*m;let c,p;if(s===Lc)c=(l+o)*y,p=-2*y;else if(s===lS)c=o*y,p=-1*y;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+s);return u[0]=2*f,u[4]=0,u[8]=0,u[12]=-_,u[1]=0,u[5]=2*m,u[9]=0,u[13]=-E,u[2]=0,u[6]=0,u[10]=p,u[14]=-c,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let a=0;a<16;a++)if(t[a]!==r[a])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const jg=new be,Ec=new Pn,Wre=new be(0,0,0),Xre=new be(1,1,1),ch=new be,Ox=new be,Ys=new be,XL=new Pn,YL=new eo;class rl{constructor(e=0,t=0,r=0,a=rl.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=a}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,a=this._order){return this._x=e,this._y=t,this._z=r,this._order=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const a=e.elements,o=a[0],l=a[4],s=a[8],u=a[1],f=a[5],m=a[9],y=a[2],_=a[6],E=a[10];switch(t){case"XYZ":this._y=Math.asin(Jn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-m,E),this._z=Math.atan2(-l,o)):(this._x=Math.atan2(_,f),this._z=0);break;case"YXZ":this._x=Math.asin(-Jn(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(s,E),this._z=Math.atan2(u,f)):(this._y=Math.atan2(-y,o),this._z=0);break;case"ZXY":this._x=Math.asin(Jn(_,-1,1)),Math.abs(_)<.9999999?(this._y=Math.atan2(-y,E),this._z=Math.atan2(-l,f)):(this._y=0,this._z=Math.atan2(u,o));break;case"ZYX":this._y=Math.asin(-Jn(y,-1,1)),Math.abs(y)<.9999999?(this._x=Math.atan2(_,E),this._z=Math.atan2(u,o)):(this._x=0,this._z=Math.atan2(-l,f));break;case"YZX":this._z=Math.asin(Jn(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-m,f),this._y=Math.atan2(-y,o)):(this._x=0,this._y=Math.atan2(s,E));break;case"XZY":this._z=Math.asin(-Jn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(_,f),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-m,E),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return XL.makeRotationFromQuaternion(e),this.setFromRotationMatrix(XL,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return YL.setFromEuler(this),this.setFromQuaternion(YL,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}rl.DEFAULT_ORDER="XYZ";class g0{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Yre=0;const qL=new be,Wg=new eo,Nd=new Pn,Ix=new be,jy=new be,qre=new be,Kre=new eo,KL=new be(1,0,0),JL=new be(0,1,0),QL=new be(0,0,1),ZL={type:"added"},Jre={type:"removed"},Xg={type:"childadded",child:null},nT={type:"childremoved",child:null};class Di extends ad{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Yre++}),this.uuid=nl(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Di.DEFAULT_UP.clone();const e=new be,t=new rl,r=new eo,a=new be(1,1,1);function o(){r.setFromEuler(t,!1)}function l(){t.setFromQuaternion(r,void 0,!1)}t._onChange(o),r._onChange(l),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:a},modelViewMatrix:{value:new Pn},normalMatrix:{value:new ti}}),this.matrix=new Pn,this.matrixWorld=new Pn,this.matrixAutoUpdate=Di.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Di.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new g0,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Wg.setFromAxisAngle(e,t),this.quaternion.multiply(Wg),this}rotateOnWorldAxis(e,t){return Wg.setFromAxisAngle(e,t),this.quaternion.premultiply(Wg),this}rotateX(e){return this.rotateOnAxis(KL,e)}rotateY(e){return this.rotateOnAxis(JL,e)}rotateZ(e){return this.rotateOnAxis(QL,e)}translateOnAxis(e,t){return qL.copy(e).applyQuaternion(this.quaternion),this.position.add(qL.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(KL,e)}translateY(e){return this.translateOnAxis(JL,e)}translateZ(e){return this.translateOnAxis(QL,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Nd.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?Ix.copy(e):Ix.set(e,t,r);const a=this.parent;this.updateWorldMatrix(!0,!1),jy.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Nd.lookAt(jy,Ix,this.up):Nd.lookAt(Ix,jy,this.up),this.quaternion.setFromRotationMatrix(Nd),a&&(Nd.extractRotation(a.matrixWorld),Wg.setFromRotationMatrix(Nd),this.quaternion.premultiply(Wg.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(ZL),Xg.child=e,this.dispatchEvent(Xg),Xg.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Jre),nT.child=e,this.dispatchEvent(nT),nT.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Nd.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Nd.multiply(e.parent.matrixWorld)),e.applyMatrix4(Nd),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(ZL),Xg.child=e,this.dispatchEvent(Xg),Xg.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,a=this.children.length;r<a;r++){const l=this.children[r].getObjectByProperty(e,t);if(l!==void 0)return l}}getObjectsByProperty(e,t,r=[]){this[e]===t&&r.push(this);const a=this.children;for(let o=0,l=a.length;o<l;o++)a[o].getObjectsByProperty(e,t,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(jy,e,qre),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(jy,Kre,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,a=t.length;r<a;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,a=t.length;r<a;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,a=t.length;r<a;r++)t[r].updateMatrixWorld(e)}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const a=this.children;for(let o=0,l=a.length;o<l;o++)a[o].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const a={};a.uuid=this.uuid,a.type=this.type,this.name!==""&&(a.name=this.name),this.castShadow===!0&&(a.castShadow=!0),this.receiveShadow===!0&&(a.receiveShadow=!0),this.visible===!1&&(a.visible=!1),this.frustumCulled===!1&&(a.frustumCulled=!1),this.renderOrder!==0&&(a.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(a.userData=this.userData),a.layers=this.layers.mask,a.matrix=this.matrix.toArray(),a.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(a.matrixAutoUpdate=!1),this.isInstancedMesh&&(a.type="InstancedMesh",a.count=this.count,a.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(a.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(a.type="BatchedMesh",a.perObjectFrustumCulled=this.perObjectFrustumCulled,a.sortObjects=this.sortObjects,a.drawRanges=this._drawRanges,a.reservedRanges=this._reservedRanges,a.visibility=this._visibility,a.active=this._active,a.bounds=this._bounds.map(s=>({boxInitialized:s.boxInitialized,boxMin:s.box.min.toArray(),boxMax:s.box.max.toArray(),sphereInitialized:s.sphereInitialized,sphereRadius:s.sphere.radius,sphereCenter:s.sphere.center.toArray()})),a.maxInstanceCount=this._maxInstanceCount,a.maxVertexCount=this._maxVertexCount,a.maxIndexCount=this._maxIndexCount,a.geometryInitialized=this._geometryInitialized,a.geometryCount=this._geometryCount,a.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(a.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(a.boundingSphere={center:a.boundingSphere.center.toArray(),radius:a.boundingSphere.radius}),this.boundingBox!==null&&(a.boundingBox={min:a.boundingBox.min.toArray(),max:a.boundingBox.max.toArray()}));function o(s,u){return s[u.uuid]===void 0&&(s[u.uuid]=u.toJSON(e)),u.uuid}if(this.isScene)this.background&&(this.background.isColor?a.background=this.background.toJSON():this.background.isTexture&&(a.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(a.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){a.geometry=o(e.geometries,this.geometry);const s=this.geometry.parameters;if(s!==void 0&&s.shapes!==void 0){const u=s.shapes;if(Array.isArray(u))for(let f=0,m=u.length;f<m;f++){const y=u[f];o(e.shapes,y)}else o(e.shapes,u)}}if(this.isSkinnedMesh&&(a.bindMode=this.bindMode,a.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),a.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const s=[];for(let u=0,f=this.material.length;u<f;u++)s.push(o(e.materials,this.material[u]));a.material=s}else a.material=o(e.materials,this.material);if(this.children.length>0){a.children=[];for(let s=0;s<this.children.length;s++)a.children.push(this.children[s].toJSON(e).object)}if(this.animations.length>0){a.animations=[];for(let s=0;s<this.animations.length;s++){const u=this.animations[s];a.animations.push(o(e.animations,u))}}if(t){const s=l(e.geometries),u=l(e.materials),f=l(e.textures),m=l(e.images),y=l(e.shapes),_=l(e.skeletons),E=l(e.animations),c=l(e.nodes);s.length>0&&(r.geometries=s),u.length>0&&(r.materials=u),f.length>0&&(r.textures=f),m.length>0&&(r.images=m),y.length>0&&(r.shapes=y),_.length>0&&(r.skeletons=_),E.length>0&&(r.animations=E),c.length>0&&(r.nodes=c)}return r.object=a,r;function l(s){const u=[];for(const f in s){const m=s[f];delete m.metadata,u.push(m)}return u}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const a=e.children[r];this.add(a.clone())}return this}}Di.DEFAULT_UP=new be(0,1,0);Di.DEFAULT_MATRIX_AUTO_UPDATE=!0;Di.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const wc=new be,zd=new be,iT=new be,Ud=new be,Yg=new be,qg=new be,e3=new be,rT=new be,aT=new be,oT=new be,sT=new Gi,lT=new Gi,cT=new Gi;class Ts{constructor(e=new be,t=new be,r=new be){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,a){a.subVectors(r,t),wc.subVectors(e,t),a.cross(wc);const o=a.lengthSq();return o>0?a.multiplyScalar(1/Math.sqrt(o)):a.set(0,0,0)}static getBarycoord(e,t,r,a,o){wc.subVectors(a,t),zd.subVectors(r,t),iT.subVectors(e,t);const l=wc.dot(wc),s=wc.dot(zd),u=wc.dot(iT),f=zd.dot(zd),m=zd.dot(iT),y=l*f-s*s;if(y===0)return o.set(0,0,0),null;const _=1/y,E=(f*u-s*m)*_,c=(l*m-s*u)*_;return o.set(1-E-c,c,E)}static containsPoint(e,t,r,a){return this.getBarycoord(e,t,r,a,Ud)===null?!1:Ud.x>=0&&Ud.y>=0&&Ud.x+Ud.y<=1}static getInterpolation(e,t,r,a,o,l,s,u){return this.getBarycoord(e,t,r,a,Ud)===null?(u.x=0,u.y=0,"z"in u&&(u.z=0),"w"in u&&(u.w=0),null):(u.setScalar(0),u.addScaledVector(o,Ud.x),u.addScaledVector(l,Ud.y),u.addScaledVector(s,Ud.z),u)}static getInterpolatedAttribute(e,t,r,a,o,l){return sT.setScalar(0),lT.setScalar(0),cT.setScalar(0),sT.fromBufferAttribute(e,t),lT.fromBufferAttribute(e,r),cT.fromBufferAttribute(e,a),l.setScalar(0),l.addScaledVector(sT,o.x),l.addScaledVector(lT,o.y),l.addScaledVector(cT,o.z),l}static isFrontFacing(e,t,r,a){return wc.subVectors(r,t),zd.subVectors(e,t),wc.cross(zd).dot(a)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,a){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[a]),this}setFromAttributeAndIndices(e,t,r,a){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,a),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return wc.subVectors(this.c,this.b),zd.subVectors(this.a,this.b),wc.cross(zd).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ts.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Ts.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,r,a,o){return Ts.getInterpolation(e,this.a,this.b,this.c,t,r,a,o)}containsPoint(e){return Ts.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ts.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,a=this.b,o=this.c;let l,s;Yg.subVectors(a,r),qg.subVectors(o,r),rT.subVectors(e,r);const u=Yg.dot(rT),f=qg.dot(rT);if(u<=0&&f<=0)return t.copy(r);aT.subVectors(e,a);const m=Yg.dot(aT),y=qg.dot(aT);if(m>=0&&y<=m)return t.copy(a);const _=u*y-m*f;if(_<=0&&u>=0&&m<=0)return l=u/(u-m),t.copy(r).addScaledVector(Yg,l);oT.subVectors(e,o);const E=Yg.dot(oT),c=qg.dot(oT);if(c>=0&&E<=c)return t.copy(o);const p=E*f-u*c;if(p<=0&&f>=0&&c<=0)return s=f/(f-c),t.copy(r).addScaledVector(qg,s);const g=m*c-E*y;if(g<=0&&y-m>=0&&E-c>=0)return e3.subVectors(o,a),s=(y-m)/(y-m+(E-c)),t.copy(a).addScaledVector(e3,s);const b=1/(g+p+_);return l=p*b,s=_*b,t.copy(r).addScaledVector(Yg,l).addScaledVector(qg,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const $8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},uh={h:0,s:0,l:0},Bx={h:0,s:0,l:0};function uT(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class en{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,r)}set(e,t,r){if(t===void 0&&r===void 0){const a=e;a&&a.isColor?this.copy(a):typeof a=="number"?this.setHex(a):typeof a=="string"&&this.setStyle(a)}else this.setRGB(e,t,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Po){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Ii.toWorkingColorSpace(this,t),this}setRGB(e,t,r,a=Ii.workingColorSpace){return this.r=e,this.g=t,this.b=r,Ii.toWorkingColorSpace(this,a),this}setHSL(e,t,r,a=Ii.workingColorSpace){if(e=_I(e,1),t=Jn(t,0,1),r=Jn(r,0,1),t===0)this.r=this.g=this.b=r;else{const o=r<=.5?r*(1+t):r+t-r*t,l=2*r-o;this.r=uT(l,o,e+1/3),this.g=uT(l,o,e),this.b=uT(l,o,e-1/3)}return Ii.toWorkingColorSpace(this,a),this}setStyle(e,t=Po){function r(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let a;if(a=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const l=a[1],s=a[2];switch(l){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,t);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,t);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(a=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=a[1],l=o.length;if(l===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,t);if(l===6)return this.setHex(parseInt(o,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Po){const r=$8[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=cf(e.r),this.g=cf(e.g),this.b=cf(e.b),this}copyLinearToSRGB(e){return this.r=Kv(e.r),this.g=Kv(e.g),this.b=Kv(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Po){return Ii.fromWorkingColorSpace(Io.copy(this),e),Math.round(Jn(Io.r*255,0,255))*65536+Math.round(Jn(Io.g*255,0,255))*256+Math.round(Jn(Io.b*255,0,255))}getHexString(e=Po){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Ii.workingColorSpace){Ii.fromWorkingColorSpace(Io.copy(this),t);const r=Io.r,a=Io.g,o=Io.b,l=Math.max(r,a,o),s=Math.min(r,a,o);let u,f;const m=(s+l)/2;if(s===l)u=0,f=0;else{const y=l-s;switch(f=m<=.5?y/(l+s):y/(2-l-s),l){case r:u=(a-o)/y+(a<o?6:0);break;case a:u=(o-r)/y+2;break;case o:u=(r-a)/y+4;break}u/=6}return e.h=u,e.s=f,e.l=m,e}getRGB(e,t=Ii.workingColorSpace){return Ii.fromWorkingColorSpace(Io.copy(this),t),e.r=Io.r,e.g=Io.g,e.b=Io.b,e}getStyle(e=Po){Ii.fromWorkingColorSpace(Io.copy(this),e);const t=Io.r,r=Io.g,a=Io.b;return e!==Po?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${a.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(r*255)},${Math.round(a*255)})`}offsetHSL(e,t,r){return this.getHSL(uh),this.setHSL(uh.h+e,uh.s+t,uh.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(uh),e.getHSL(Bx);const r=Lb(uh.h,Bx.h,t),a=Lb(uh.s,Bx.s,t),o=Lb(uh.l,Bx.l,t);return this.setHSL(r,a,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,a=this.b,o=e.elements;return this.r=o[0]*t+o[3]*r+o[6]*a,this.g=o[1]*t+o[4]*r+o[7]*a,this.b=o[2]*t+o[5]*r+o[8]*a,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Io=new en;en.NAMES=$8;let Qre=0;class Pa extends ad{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Qre++}),this.uuid=nl(),this.name="",this.type="Material",this.blending=bm,this.side=Zu,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=q1,this.blendDst=K1,this.blendEquation=xh,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new en(0,0,0),this.blendAlpha=0,this.depthFunc=Em,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=R2,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Gp,this.stencilZFail=Gp,this.stencilZPass=Gp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const a=this[t];if(a===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}a&&a.isColor?a.set(r):a&&a.isVector3&&r&&r.isVector3?a.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==bm&&(r.blending=this.blending),this.side!==Zu&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==q1&&(r.blendSrc=this.blendSrc),this.blendDst!==K1&&(r.blendDst=this.blendDst),this.blendEquation!==xh&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==Em&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==R2&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Gp&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Gp&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Gp&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function a(o){const l=[];for(const s in o){const u=o[s];delete u.metadata,l.push(u)}return l}if(t){const o=a(e.textures),l=a(e.images);o.length>0&&(r.textures=o),l.length>0&&(r.images=l)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const a=t.length;r=new Array(a);for(let o=0;o!==a;++o)r[o]=t[o].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class tl extends Pa{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new en(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new rl,this.combine=NS,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const tf=Zre();function Zre(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),a=new Uint32Array(512);for(let u=0;u<256;++u){const f=u-127;f<-27?(r[u]=0,r[u|256]=32768,a[u]=24,a[u|256]=24):f<-14?(r[u]=1024>>-f-14,r[u|256]=1024>>-f-14|32768,a[u]=-f-1,a[u|256]=-f-1):f<=15?(r[u]=f+15<<10,r[u|256]=f+15<<10|32768,a[u]=13,a[u|256]=13):f<128?(r[u]=31744,r[u|256]=64512,a[u]=24,a[u|256]=24):(r[u]=31744,r[u|256]=64512,a[u]=13,a[u|256]=13)}const o=new Uint32Array(2048),l=new Uint32Array(64),s=new Uint32Array(64);for(let u=1;u<1024;++u){let f=u<<13,m=0;for(;(f&8388608)===0;)f<<=1,m-=8388608;f&=-8388609,m+=947912704,o[u]=f|m}for(let u=1024;u<2048;++u)o[u]=939524096+(u-1024<<13);for(let u=1;u<31;++u)l[u]=u<<23;l[31]=1199570944,l[32]=2147483648;for(let u=33;u<63;++u)l[u]=2147483648+(u-32<<23);l[63]=3347054592;for(let u=1;u<64;++u)u!==32&&(s[u]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:a,mantissaTable:o,exponentTable:l,offsetTable:s}}function As(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Jn(n,-65504,65504),tf.floatView[0]=n;const e=tf.uint32View[0],t=e>>23&511;return tf.baseTable[t]+((e&8388607)>>tf.shiftTable[t])}function cb(n){const e=n>>10;return tf.uint32View[0]=tf.mantissaTable[tf.offsetTable[e]+(n&1023)]+tf.exponentTable[e],tf.floatView[0]}class eae{static toHalfFloat(e){return As(e)}static fromHalfFloat(e){return cb(e)}}const Ea=new be,Dx=new Tt;let tae=0;class ki{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:tae++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=sS,this.updateRanges=[],this.gpuType=Rs,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let a=0,o=this.itemSize;a<o;a++)this.array[e+a]=t.array[r+a];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)Dx.fromBufferAttribute(this,t),Dx.applyMatrix3(e),this.setXY(t,Dx.x,Dx.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)Ea.fromBufferAttribute(this,t),Ea.applyMatrix3(e),this.setXYZ(t,Ea.x,Ea.y,Ea.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)Ea.fromBufferAttribute(this,t),Ea.applyMatrix4(e),this.setXYZ(t,Ea.x,Ea.y,Ea.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Ea.fromBufferAttribute(this,t),Ea.applyNormalMatrix(e),this.setXYZ(t,Ea.x,Ea.y,Ea.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Ea.fromBufferAttribute(this,t),Ea.transformDirection(e),this.setXYZ(t,Ea.x,Ea.y,Ea.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let r=this.array[e*this.itemSize+t];return this.normalized&&(r=ss(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=ri(r,this.array)),this.array[e*this.itemSize+t]=r,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=ss(t,this.array)),t}setX(e,t){return this.normalized&&(t=ri(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=ss(t,this.array)),t}setY(e,t){return this.normalized&&(t=ri(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=ss(t,this.array)),t}setZ(e,t){return this.normalized&&(t=ri(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=ss(t,this.array)),t}setW(e,t){return this.normalized&&(t=ri(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=ri(t,this.array),r=ri(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,a){return e*=this.itemSize,this.normalized&&(t=ri(t,this.array),r=ri(r,this.array),a=ri(a,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=a,this}setXYZW(e,t,r,a,o){return e*=this.itemSize,this.normalized&&(t=ri(t,this.array),r=ri(r,this.array),a=ri(a,this.array),o=ri(o,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=a,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==sS&&(e.usage=this.usage),e}}class nae extends ki{constructor(e,t,r){super(new Int8Array(e),t,r)}}class iae extends ki{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class rae extends ki{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class aae extends ki{constructor(e,t,r){super(new Int16Array(e),t,r)}}class xI extends ki{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class oae extends ki{constructor(e,t,r){super(new Int32Array(e),t,r)}}class CI extends ki{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class sae extends ki{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}getX(e){let t=cb(this.array[e*this.itemSize]);return this.normalized&&(t=ss(t,this.array)),t}setX(e,t){return this.normalized&&(t=ri(t,this.array)),this.array[e*this.itemSize]=As(t),this}getY(e){let t=cb(this.array[e*this.itemSize+1]);return this.normalized&&(t=ss(t,this.array)),t}setY(e,t){return this.normalized&&(t=ri(t,this.array)),this.array[e*this.itemSize+1]=As(t),this}getZ(e){let t=cb(this.array[e*this.itemSize+2]);return this.normalized&&(t=ss(t,this.array)),t}setZ(e,t){return this.normalized&&(t=ri(t,this.array)),this.array[e*this.itemSize+2]=As(t),this}getW(e){let t=cb(this.array[e*this.itemSize+3]);return this.normalized&&(t=ss(t,this.array)),t}setW(e,t){return this.normalized&&(t=ri(t,this.array)),this.array[e*this.itemSize+3]=As(t),this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=ri(t,this.array),r=ri(r,this.array)),this.array[e+0]=As(t),this.array[e+1]=As(r),this}setXYZ(e,t,r,a){return e*=this.itemSize,this.normalized&&(t=ri(t,this.array),r=ri(r,this.array),a=ri(a,this.array)),this.array[e+0]=As(t),this.array[e+1]=As(r),this.array[e+2]=As(a),this}setXYZW(e,t,r,a,o){return e*=this.itemSize,this.normalized&&(t=ri(t,this.array),r=ri(r,this.array),a=ri(a,this.array),o=ri(o,this.array)),this.array[e+0]=As(t),this.array[e+1]=As(r),this.array[e+2]=As(a),this.array[e+3]=As(o),this}}class vn extends ki{constructor(e,t,r){super(new Float32Array(e),t,r)}}let lae=0;const Bl=new Pn,dT=new Di,Kg=new be,qs=new go,Wy=new go,Ja=new be;class ni extends ad{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:lae++}),this.uuid=nl(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(H8(e)?CI:xI)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const o=new ti().getNormalMatrix(e);r.applyNormalMatrix(o),r.needsUpdate=!0}const a=this.attributes.tangent;return a!==void 0&&(a.transformDirection(e),a.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Bl.makeRotationFromQuaternion(e),this.applyMatrix4(Bl),this}rotateX(e){return Bl.makeRotationX(e),this.applyMatrix4(Bl),this}rotateY(e){return Bl.makeRotationY(e),this.applyMatrix4(Bl),this}rotateZ(e){return Bl.makeRotationZ(e),this.applyMatrix4(Bl),this}translate(e,t,r){return Bl.makeTranslation(e,t,r),this.applyMatrix4(Bl),this}scale(e,t,r){return Bl.makeScale(e,t,r),this.applyMatrix4(Bl),this}lookAt(e){return dT.lookAt(e),dT.updateMatrix(),this.applyMatrix4(dT.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Kg).negate(),this.translate(Kg.x,Kg.y,Kg.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const r=[];for(let a=0,o=e.length;a<o;a++){const l=e[a];r.push(l.x,l.y,l.z||0)}this.setAttribute("position",new vn(r,3))}else{const r=Math.min(e.length,t.count);for(let a=0;a<r;a++){const o=e[a];t.setXYZ(a,o.x,o.y,o.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new go);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new be(-1/0,-1/0,-1/0),new be(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,a=t.length;r<a;r++){const o=t[r];qs.setFromBufferAttribute(o),this.morphTargetsRelative?(Ja.addVectors(this.boundingBox.min,qs.min),this.boundingBox.expandByPoint(Ja),Ja.addVectors(this.boundingBox.max,qs.max),this.boundingBox.expandByPoint(Ja)):(this.boundingBox.expandByPoint(qs.min),this.boundingBox.expandByPoint(qs.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new vo);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new be,1/0);return}if(e){const r=this.boundingSphere.center;if(qs.setFromBufferAttribute(e),t)for(let o=0,l=t.length;o<l;o++){const s=t[o];Wy.setFromBufferAttribute(s),this.morphTargetsRelative?(Ja.addVectors(qs.min,Wy.min),qs.expandByPoint(Ja),Ja.addVectors(qs.max,Wy.max),qs.expandByPoint(Ja)):(qs.expandByPoint(Wy.min),qs.expandByPoint(Wy.max))}qs.getCenter(r);let a=0;for(let o=0,l=e.count;o<l;o++)Ja.fromBufferAttribute(e,o),a=Math.max(a,r.distanceToSquared(Ja));if(t)for(let o=0,l=t.length;o<l;o++){const s=t[o],u=this.morphTargetsRelative;for(let f=0,m=s.count;f<m;f++)Ja.fromBufferAttribute(s,f),u&&(Kg.fromBufferAttribute(e,f),Ja.add(Kg)),a=Math.max(a,r.distanceToSquared(Ja))}this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=t.position,a=t.normal,o=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new ki(new Float32Array(4*r.count),4));const l=this.getAttribute("tangent"),s=[],u=[];for(let F=0;F<r.count;F++)s[F]=new be,u[F]=new be;const f=new be,m=new be,y=new be,_=new Tt,E=new Tt,c=new Tt,p=new be,g=new be;function b(F,U,z){f.fromBufferAttribute(r,F),m.fromBufferAttribute(r,U),y.fromBufferAttribute(r,z),_.fromBufferAttribute(o,F),E.fromBufferAttribute(o,U),c.fromBufferAttribute(o,z),m.sub(f),y.sub(f),E.sub(_),c.sub(_);const $=1/(E.x*c.y-c.x*E.y);isFinite($)&&(p.copy(m).multiplyScalar(c.y).addScaledVector(y,-E.y).multiplyScalar($),g.copy(y).multiplyScalar(E.x).addScaledVector(m,-c.x).multiplyScalar($),s[F].add(p),s[U].add(p),s[z].add(p),u[F].add(g),u[U].add(g),u[z].add(g))}let C=this.groups;C.length===0&&(C=[{start:0,count:e.count}]);for(let F=0,U=C.length;F<U;++F){const z=C[F],$=z.start,J=z.count;for(let W=$,Q=$+J;W<Q;W+=3)b(e.getX(W+0),e.getX(W+1),e.getX(W+2))}const T=new be,M=new be,O=new be,B=new be;function P(F){O.fromBufferAttribute(a,F),B.copy(O);const U=s[F];T.copy(U),T.sub(O.multiplyScalar(O.dot(U))).normalize(),M.crossVectors(B,U);const $=M.dot(u[F])<0?-1:1;l.setXYZW(F,T.x,T.y,T.z,$)}for(let F=0,U=C.length;F<U;++F){const z=C[F],$=z.start,J=z.count;for(let W=$,Q=$+J;W<Q;W+=3)P(e.getX(W+0)),P(e.getX(W+1)),P(e.getX(W+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new ki(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let _=0,E=r.count;_<E;_++)r.setXYZ(_,0,0,0);const a=new be,o=new be,l=new be,s=new be,u=new be,f=new be,m=new be,y=new be;if(e)for(let _=0,E=e.count;_<E;_+=3){const c=e.getX(_+0),p=e.getX(_+1),g=e.getX(_+2);a.fromBufferAttribute(t,c),o.fromBufferAttribute(t,p),l.fromBufferAttribute(t,g),m.subVectors(l,o),y.subVectors(a,o),m.cross(y),s.fromBufferAttribute(r,c),u.fromBufferAttribute(r,p),f.fromBufferAttribute(r,g),s.add(m),u.add(m),f.add(m),r.setXYZ(c,s.x,s.y,s.z),r.setXYZ(p,u.x,u.y,u.z),r.setXYZ(g,f.x,f.y,f.z)}else for(let _=0,E=t.count;_<E;_+=3)a.fromBufferAttribute(t,_+0),o.fromBufferAttribute(t,_+1),l.fromBufferAttribute(t,_+2),m.subVectors(l,o),y.subVectors(a,o),m.cross(y),r.setXYZ(_+0,m.x,m.y,m.z),r.setXYZ(_+1,m.x,m.y,m.z),r.setXYZ(_+2,m.x,m.y,m.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)Ja.fromBufferAttribute(e,t),Ja.normalize(),e.setXYZ(t,Ja.x,Ja.y,Ja.z)}toNonIndexed(){function e(s,u){const f=s.array,m=s.itemSize,y=s.normalized,_=new f.constructor(u.length*m);let E=0,c=0;for(let p=0,g=u.length;p<g;p++){s.isInterleavedBufferAttribute?E=u[p]*s.data.stride+s.offset:E=u[p]*m;for(let b=0;b<m;b++)_[c++]=f[E++]}return new ki(_,m,y)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new ni,r=this.index.array,a=this.attributes;for(const s in a){const u=a[s],f=e(u,r);t.setAttribute(s,f)}const o=this.morphAttributes;for(const s in o){const u=[],f=o[s];for(let m=0,y=f.length;m<y;m++){const _=f[m],E=e(_,r);u.push(E)}t.morphAttributes[s]=u}t.morphTargetsRelative=this.morphTargetsRelative;const l=this.groups;for(let s=0,u=l.length;s<u;s++){const f=l[s];t.addGroup(f.start,f.count,f.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const u=this.parameters;for(const f in u)u[f]!==void 0&&(e[f]=u[f]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const u in r){const f=r[u];e.data.attributes[u]=f.toJSON(e.data)}const a={};let o=!1;for(const u in this.morphAttributes){const f=this.morphAttributes[u],m=[];for(let y=0,_=f.length;y<_;y++){const E=f[y];m.push(E.toJSON(e.data))}m.length>0&&(a[u]=m,o=!0)}o&&(e.data.morphAttributes=a,e.data.morphTargetsRelative=this.morphTargetsRelative);const l=this.groups;l.length>0&&(e.data.groups=JSON.parse(JSON.stringify(l)));const s=this.boundingSphere;return s!==null&&(e.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const a=e.attributes;for(const f in a){const m=a[f];this.setAttribute(f,m.clone(t))}const o=e.morphAttributes;for(const f in o){const m=[],y=o[f];for(let _=0,E=y.length;_<E;_++)m.push(y[_].clone(t));this.morphAttributes[f]=m}this.morphTargetsRelative=e.morphTargetsRelative;const l=e.groups;for(let f=0,m=l.length;f<m;f++){const y=l[f];this.addGroup(y.start,y.count,y.materialIndex)}const s=e.boundingBox;s!==null&&(this.boundingBox=s.clone());const u=e.boundingSphere;return u!==null&&(this.boundingSphere=u.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const t3=new Pn,Mp=new Gm,Px=new vo,n3=new be,Lx=new be,Nx=new be,zx=new be,fT=new be,Ux=new be,i3=new be,Fx=new be;class ga extends Di{constructor(e=new ni,t=new tl){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const a=t[r[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,l=a.length;o<l;o++){const s=a[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}getVertexPosition(e,t){const r=this.geometry,a=r.attributes.position,o=r.morphAttributes.position,l=r.morphTargetsRelative;t.fromBufferAttribute(a,e);const s=this.morphTargetInfluences;if(o&&s){Ux.set(0,0,0);for(let u=0,f=o.length;u<f;u++){const m=s[u],y=o[u];m!==0&&(fT.fromBufferAttribute(y,e),l?Ux.addScaledVector(fT,m):Ux.addScaledVector(fT.sub(t),m))}t.add(Ux)}return t}raycast(e,t){const r=this.geometry,a=this.material,o=this.matrixWorld;a!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),Px.copy(r.boundingSphere),Px.applyMatrix4(o),Mp.copy(e.ray).recast(e.near),!(Px.containsPoint(Mp.origin)===!1&&(Mp.intersectSphere(Px,n3)===null||Mp.origin.distanceToSquared(n3)>(e.far-e.near)**2))&&(t3.copy(o).invert(),Mp.copy(e.ray).applyMatrix4(t3),!(r.boundingBox!==null&&Mp.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,t,Mp)))}_computeIntersections(e,t,r){let a;const o=this.geometry,l=this.material,s=o.index,u=o.attributes.position,f=o.attributes.uv,m=o.attributes.uv1,y=o.attributes.normal,_=o.groups,E=o.drawRange;if(s!==null)if(Array.isArray(l))for(let c=0,p=_.length;c<p;c++){const g=_[c],b=l[g.materialIndex],C=Math.max(g.start,E.start),T=Math.min(s.count,Math.min(g.start+g.count,E.start+E.count));for(let M=C,O=T;M<O;M+=3){const B=s.getX(M),P=s.getX(M+1),F=s.getX(M+2);a=Hx(this,b,e,r,f,m,y,B,P,F),a&&(a.faceIndex=Math.floor(M/3),a.face.materialIndex=g.materialIndex,t.push(a))}}else{const c=Math.max(0,E.start),p=Math.min(s.count,E.start+E.count);for(let g=c,b=p;g<b;g+=3){const C=s.getX(g),T=s.getX(g+1),M=s.getX(g+2);a=Hx(this,l,e,r,f,m,y,C,T,M),a&&(a.faceIndex=Math.floor(g/3),t.push(a))}}else if(u!==void 0)if(Array.isArray(l))for(let c=0,p=_.length;c<p;c++){const g=_[c],b=l[g.materialIndex],C=Math.max(g.start,E.start),T=Math.min(u.count,Math.min(g.start+g.count,E.start+E.count));for(let M=C,O=T;M<O;M+=3){const B=M,P=M+1,F=M+2;a=Hx(this,b,e,r,f,m,y,B,P,F),a&&(a.faceIndex=Math.floor(M/3),a.face.materialIndex=g.materialIndex,t.push(a))}}else{const c=Math.max(0,E.start),p=Math.min(u.count,E.start+E.count);for(let g=c,b=p;g<b;g+=3){const C=g,T=g+1,M=g+2;a=Hx(this,l,e,r,f,m,y,C,T,M),a&&(a.faceIndex=Math.floor(g/3),t.push(a))}}}}function cae(n,e,t,r,a,o,l,s){let u;if(e.side===ls?u=r.intersectTriangle(l,o,a,!0,s):u=r.intersectTriangle(a,o,l,e.side===Zu,s),u===null)return null;Fx.copy(s),Fx.applyMatrix4(n.matrixWorld);const f=t.ray.origin.distanceTo(Fx);return f<t.near||f>t.far?null:{distance:f,point:Fx.clone(),object:n}}function Hx(n,e,t,r,a,o,l,s,u,f){n.getVertexPosition(s,Lx),n.getVertexPosition(u,Nx),n.getVertexPosition(f,zx);const m=cae(n,e,t,r,Lx,Nx,zx,i3);if(m){const y=new be;Ts.getBarycoord(i3,Lx,Nx,zx,y),a&&(m.uv=Ts.getInterpolatedAttribute(a,s,u,f,y,new Tt)),o&&(m.uv1=Ts.getInterpolatedAttribute(o,s,u,f,y,new Tt)),l&&(m.normal=Ts.getInterpolatedAttribute(l,s,u,f,y,new be),m.normal.dot(r.direction)>0&&m.normal.multiplyScalar(-1));const _={a:s,b:u,c:f,normal:new be,materialIndex:0};Ts.getNormal(Lx,Nx,zx,_.normal),m.face=_,m.barycoord=y}return m}class km extends ni{constructor(e=1,t=1,r=1,a=1,o=1,l=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:a,heightSegments:o,depthSegments:l};const s=this;a=Math.floor(a),o=Math.floor(o),l=Math.floor(l);const u=[],f=[],m=[],y=[];let _=0,E=0;c("z","y","x",-1,-1,r,t,e,l,o,0),c("z","y","x",1,-1,r,t,-e,l,o,1),c("x","z","y",1,1,e,r,t,a,l,2),c("x","z","y",1,-1,e,r,-t,a,l,3),c("x","y","z",1,-1,e,t,r,a,o,4),c("x","y","z",-1,-1,e,t,-r,a,o,5),this.setIndex(u),this.setAttribute("position",new vn(f,3)),this.setAttribute("normal",new vn(m,3)),this.setAttribute("uv",new vn(y,2));function c(p,g,b,C,T,M,O,B,P,F,U){const z=M/P,$=O/F,J=M/2,W=O/2,Q=B/2,ae=P+1,Y=F+1;let K=0,ee=0;const de=new be;for(let q=0;q<Y;q++){const ie=q*$-W;for(let he=0;he<ae;he++){const fe=he*z-J;de[p]=fe*C,de[g]=ie*T,de[b]=Q,f.push(de.x,de.y,de.z),de[p]=0,de[g]=0,de[b]=B>0?1:-1,m.push(de.x,de.y,de.z),y.push(he/P),y.push(1-q/F),K+=1}}for(let q=0;q<F;q++)for(let ie=0;ie<P;ie++){const he=_+ie+ae*q,fe=_+ie+ae*(q+1),Z=_+(ie+1)+ae*(q+1),pe=_+(ie+1)+ae*q;u.push(he,fe,pe),u.push(fe,Z,pe),ee+=6}s.addGroup(E,ee,U),E+=ee,_+=K}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new km(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function v0(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const a=n[t][r];a&&(a.isColor||a.isMatrix3||a.isMatrix4||a.isVector2||a.isVector3||a.isVector4||a.isTexture||a.isQuaternion)?a.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][r]=null):e[t][r]=a.clone():Array.isArray(a)?e[t][r]=a.slice():e[t][r]=a}}return e}function is(n){const e={};for(let t=0;t<n.length;t++){const r=v0(n[t]);for(const a in r)e[a]=r[a]}return e}function uae(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function V8(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Ii.workingColorSpace}const j8={clone:v0,merge:is};var dae=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,fae=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Gc extends Pa{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=dae,this.fragmentShader=fae,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=v0(e.uniforms),this.uniformsGroups=uae(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const a in this.uniforms){const l=this.uniforms[a].value;l&&l.isTexture?t.uniforms[a]={type:"t",value:l.toJSON(e).uuid}:l&&l.isColor?t.uniforms[a]={type:"c",value:l.getHex()}:l&&l.isVector2?t.uniforms[a]={type:"v2",value:l.toArray()}:l&&l.isVector3?t.uniforms[a]={type:"v3",value:l.toArray()}:l&&l.isVector4?t.uniforms[a]={type:"v4",value:l.toArray()}:l&&l.isMatrix3?t.uniforms[a]={type:"m3",value:l.toArray()}:l&&l.isMatrix4?t.uniforms[a]={type:"m4",value:l.toArray()}:t.uniforms[a]={value:l}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const r={};for(const a in this.extensions)this.extensions[a]===!0&&(r[a]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class Yw extends Di{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Pn,this.projectionMatrix=new Pn,this.projectionMatrixInverse=new Pn,this.coordinateSystem=Lc}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const dh=new be,r3=new Tt,a3=new Tt;class Xr extends Yw{constructor(e=50,t=1,r=.1,a=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=a,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=m0*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(_m*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return m0*2*Math.atan(Math.tan(_m*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,r){dh.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(dh.x,dh.y).multiplyScalar(-e/dh.z),dh.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(dh.x,dh.y).multiplyScalar(-e/dh.z)}getViewSize(e,t){return this.getViewBounds(e,r3,a3),t.subVectors(a3,r3)}setViewOffset(e,t,r,a,o,l){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=a,this.view.width=o,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(_m*.5*this.fov)/this.zoom,r=2*t,a=this.aspect*r,o=-.5*a;const l=this.view;if(this.view!==null&&this.view.enabled){const u=l.fullWidth,f=l.fullHeight;o+=l.offsetX*a/u,t-=l.offsetY*r/f,a*=l.width/u,r*=l.height/f}const s=this.filmOffset;s!==0&&(o+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+a,t,t-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Jg=-90,Qg=1;class W8 extends Di{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const a=new Xr(Jg,Qg,e,t);a.layers=this.layers,this.add(a);const o=new Xr(Jg,Qg,e,t);o.layers=this.layers,this.add(o);const l=new Xr(Jg,Qg,e,t);l.layers=this.layers,this.add(l);const s=new Xr(Jg,Qg,e,t);s.layers=this.layers,this.add(s);const u=new Xr(Jg,Qg,e,t);u.layers=this.layers,this.add(u);const f=new Xr(Jg,Qg,e,t);f.layers=this.layers,this.add(f)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[r,a,o,l,s,u]=t;for(const f of t)this.remove(f);if(e===Lc)r.up.set(0,1,0),r.lookAt(1,0,0),a.up.set(0,1,0),a.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),l.up.set(0,0,1),l.lookAt(0,-1,0),s.up.set(0,1,0),s.lookAt(0,0,1),u.up.set(0,1,0),u.lookAt(0,0,-1);else if(e===lS)r.up.set(0,-1,0),r.lookAt(-1,0,0),a.up.set(0,-1,0),a.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),l.up.set(0,0,-1),l.lookAt(0,-1,0),s.up.set(0,-1,0),s.lookAt(0,0,1),u.up.set(0,-1,0),u.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const f of t)this.add(f),f.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:a}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[o,l,s,u,f,m]=this.children,y=e.getRenderTarget(),_=e.getActiveCubeFace(),E=e.getActiveMipmapLevel(),c=e.xr.enabled;e.xr.enabled=!1;const p=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,a),e.render(t,o),e.setRenderTarget(r,1,a),e.render(t,l),e.setRenderTarget(r,2,a),e.render(t,s),e.setRenderTarget(r,3,a),e.render(t,u),e.setRenderTarget(r,4,a),e.render(t,f),r.texture.generateMipmaps=p,e.setRenderTarget(r,5,a),e.render(t,m),e.setRenderTarget(y,_,E),e.xr.enabled=c,r.texture.needsPMREMUpdate=!0}}class FS extends Lr{constructor(e,t,r,a,o,l,s,u,f,m){e=e!==void 0?e:[],t=t!==void 0?t:mf,super(e,t,r,a,o,l,s,u,f,m),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class X8 extends ed{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},a=[r,r,r,r,r,r];this.texture=new FS(a,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:ma}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},a=new km(5,5,5),o=new Gc({name:"CubemapFromEquirect",uniforms:v0(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:ls,blending:lf});o.uniforms.tEquirect.value=t;const l=new ga(a,o),s=t.minFilter;return t.minFilter===Fl&&(t.minFilter=ma),new W8(1,10,this).update(e,l),t.minFilter=s,l.geometry.dispose(),l.material.dispose(),this}clear(e,t,r,a){const o=e.getRenderTarget();for(let l=0;l<6;l++)e.setRenderTarget(this,l),e.clear(t,r,a);e.setRenderTarget(o)}}class nf extends Di{constructor(){super(),this.isGroup=!0,this.type="Group"}}const hae={type:"move"};class VC{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new nf,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new nf,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new be,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new be),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new nf,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new be,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new be),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let a=null,o=null,l=null;const s=this._targetRay,u=this._grip,f=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(f&&e.hand){l=!0;for(const p of e.hand.values()){const g=t.getJointPose(p,r),b=this._getHandJoint(f,p);g!==null&&(b.matrix.fromArray(g.transform.matrix),b.matrix.decompose(b.position,b.rotation,b.scale),b.matrixWorldNeedsUpdate=!0,b.jointRadius=g.radius),b.visible=g!==null}const m=f.joints["index-finger-tip"],y=f.joints["thumb-tip"],_=m.position.distanceTo(y.position),E=.02,c=.005;f.inputState.pinching&&_>E+c?(f.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!f.inputState.pinching&&_<=E-c&&(f.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else u!==null&&e.gripSpace&&(o=t.getPose(e.gripSpace,r),o!==null&&(u.matrix.fromArray(o.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,o.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(o.linearVelocity)):u.hasLinearVelocity=!1,o.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(o.angularVelocity)):u.hasAngularVelocity=!1));s!==null&&(a=t.getPose(e.targetRaySpace,r),a===null&&o!==null&&(a=o),a!==null&&(s.matrix.fromArray(a.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,a.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(a.linearVelocity)):s.hasLinearVelocity=!1,a.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(a.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(hae)))}return s!==null&&(s.visible=a!==null),u!==null&&(u.visible=o!==null),f!==null&&(f.visible=l!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new nf;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}class qw{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new en(e),this.density=t}clone(){return new qw(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Kw{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new en(e),this.near=t,this.far=r}clone(){return new Kw(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class EI extends Di{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new rl,this.environmentIntensity=1,this.environmentRotation=new rl,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class HS{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=sS,this.updateRanges=[],this.version=0,this.uuid=nl()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let a=0,o=this.stride;a<o;a++)this.array[e+a]=t.array[r+a];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=nl()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=nl()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const ts=new be;class Gh{constructor(e,t,r,a=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=a}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)ts.fromBufferAttribute(this,t),ts.applyMatrix4(e),this.setXYZ(t,ts.x,ts.y,ts.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)ts.fromBufferAttribute(this,t),ts.applyNormalMatrix(e),this.setXYZ(t,ts.x,ts.y,ts.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)ts.fromBufferAttribute(this,t),ts.transformDirection(e),this.setXYZ(t,ts.x,ts.y,ts.z);return this}getComponent(e,t){let r=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(r=ss(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=ri(r,this.array)),this.data.array[e*this.data.stride+this.offset+t]=r,this}setX(e,t){return this.normalized&&(t=ri(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=ri(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=ri(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=ri(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=ss(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=ss(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=ss(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=ss(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=ri(t,this.array),r=ri(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,a){return e=e*this.data.stride+this.offset,this.normalized&&(t=ri(t,this.array),r=ri(r,this.array),a=ri(a,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=a,this}setXYZW(e,t,r,a,o){return e=e*this.data.stride+this.offset,this.normalized&&(t=ri(t,this.array),r=ri(r,this.array),a=ri(a,this.array),o=ri(o,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=a,this.data.array[e+3]=o,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const a=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[a+o])}return new ki(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Gh(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const a=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[a+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class wI extends Pa{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new en(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Zg;const Xy=new be,ev=new be,tv=new be,nv=new Tt,Yy=new Tt,Y8=new Pn,Gx=new be,qy=new be,kx=new be,o3=new Tt,hT=new Tt,s3=new Tt;class q8 extends Di{constructor(e=new wI){if(super(),this.isSprite=!0,this.type="Sprite",Zg===void 0){Zg=new ni;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new HS(t,5);Zg.setIndex([0,1,2,0,2,3]),Zg.setAttribute("position",new Gh(r,3,0,!1)),Zg.setAttribute("uv",new Gh(r,2,3,!1))}this.geometry=Zg,this.material=e,this.center=new Tt(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),ev.setFromMatrixScale(this.matrixWorld),Y8.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),tv.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&ev.multiplyScalar(-tv.z);const r=this.material.rotation;let a,o;r!==0&&(o=Math.cos(r),a=Math.sin(r));const l=this.center;$x(Gx.set(-.5,-.5,0),tv,l,ev,a,o),$x(qy.set(.5,-.5,0),tv,l,ev,a,o),$x(kx.set(.5,.5,0),tv,l,ev,a,o),o3.set(0,0),hT.set(1,0),s3.set(1,1);let s=e.ray.intersectTriangle(Gx,qy,kx,!1,Xy);if(s===null&&($x(qy.set(-.5,.5,0),tv,l,ev,a,o),hT.set(0,1),s=e.ray.intersectTriangle(Gx,kx,qy,!1,Xy),s===null))return;const u=e.ray.origin.distanceTo(Xy);u<e.near||u>e.far||t.push({distance:u,point:Xy.clone(),uv:Ts.getInterpolation(Xy,Gx,qy,kx,o3,hT,s3,new Tt),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function $x(n,e,t,r,a,o){nv.subVectors(n,t).addScalar(.5).multiply(r),a!==void 0?(Yy.x=o*nv.x-a*nv.y,Yy.y=a*nv.x+o*nv.y):Yy.copy(nv),n.copy(e),n.x+=Yy.x,n.y+=Yy.y,n.applyMatrix4(Y8)}const Vx=new be,l3=new be;class K8 extends Di{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,a=t.length;r<a;r++){const o=t[r];this.addLevel(o.object.clone(),o.distance,o.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,r=0){t=Math.abs(t);const a=this.levels;let o;for(o=0;o<a.length&&!(t<a[o].distance);o++);return a.splice(o,0,{distance:t,hysteresis:r,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let r=0;r<t.length;r++)if(t[r].distance===e){const a=t.splice(r,1);return this.remove(a[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,a;for(r=1,a=t.length;r<a;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),e<o)break}return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){Vx.setFromMatrixPosition(this.matrixWorld);const a=e.ray.origin.distanceTo(Vx);this.getObjectForDistance(a).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Vx.setFromMatrixPosition(e.matrixWorld),l3.setFromMatrixPosition(this.matrixWorld);const r=Vx.distanceTo(l3)/e.zoom;t[0].object.visible=!0;let a,o;for(a=1,o=t.length;a<o;a++){let l=t[a].distance;if(t[a].object.visible&&(l-=l*t[a].hysteresis),r>=l)t[a-1].object.visible=!1,t[a].object.visible=!0;else break}for(this._currentLevel=a-1;a<o;a++)t[a].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let a=0,o=r.length;a<o;a++){const l=r[a];t.object.levels.push({object:l.object.uuid,distance:l.distance,hysteresis:l.hysteresis})}return t}}const c3=new be,u3=new Gi,d3=new Gi,pae=new be,f3=new Pn,jx=new be,pT=new vo,h3=new Pn,mT=new Gm;class AI extends ga{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=T2,this.bindMatrix=new Pn,this.bindMatrixInverse=new Pn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new go),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,jx),this.boundingBox.expandByPoint(jx)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new vo),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,jx),this.boundingSphere.expandByPoint(jx)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const r=this.material,a=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),pT.copy(this.boundingSphere),pT.applyMatrix4(a),e.ray.intersectsSphere(pT)!==!1&&(h3.copy(a).invert(),mT.copy(e.ray).applyMatrix4(h3),!(this.boundingBox!==null&&mT.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,mT)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Gi,t=this.geometry.attributes.skinWeight;for(let r=0,a=t.count;r<a;r++){e.fromBufferAttribute(t,r);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===T2?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===E8?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const r=this.skeleton,a=this.geometry;u3.fromBufferAttribute(a.attributes.skinIndex,e),d3.fromBufferAttribute(a.attributes.skinWeight,e),c3.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let o=0;o<4;o++){const l=d3.getComponent(o);if(l!==0){const s=u3.getComponent(o);f3.multiplyMatrices(r.bones[s].matrixWorld,r.boneInverses[s]),t.addScaledVector(pae.copy(c3).applyMatrix4(f3),l)}}return t.applyMatrix4(this.bindMatrixInverse)}}class Jw extends Di{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Xu extends Lr{constructor(e=null,t=1,r=1,a,o,l,s,u,f=Za,m=Za,y,_){super(null,l,s,u,f,m,a,o,y,_),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const p3=new Pn,mae=new Pn;class GS{constructor(e=[],t=[]){this.uuid=nl(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,a=this.bones.length;r<a;r++)this.boneInverses.push(new Pn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new Pn;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,a=this.boneTexture;for(let o=0,l=e.length;o<l;o++){const s=e[o]?e[o].matrixWorld:mae;p3.multiplyMatrices(s,t[o]),p3.toArray(r,o*16)}a!==null&&(a.needsUpdate=!0)}clone(){return new GS(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new Xu(t,e,e,No,Rs);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const a=this.bones[t];if(a.name===e)return a}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,a=e.bones.length;r<a;r++){const o=e.bones[r];let l=t[o];l===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),l=new Jw),this.bones.push(l),this.boneInverses.push(new Pn().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let a=0,o=t.length;a<o;a++){const l=t[a];e.bones.push(l.uuid);const s=r[a];e.boneInverses.push(s.toArray())}return e}}class Mm extends ki{constructor(e,t,r,a=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=a}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const iv=new Pn,m3=new Pn,Wx=[],g3=new go,gae=new Pn,Ky=new ga,Jy=new vo;class MI extends ga{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Mm(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let a=0;a<r;a++)this.setMatrixAt(a,gae)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new go),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,iv),g3.copy(e.boundingBox).applyMatrix4(iv),this.boundingBox.union(g3)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new vo),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,iv),Jy.copy(e.boundingSphere).applyMatrix4(iv),this.boundingSphere.union(Jy)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const r=t.morphTargetInfluences,a=this.morphTexture.source.data.data,o=r.length+1,l=e*o+1;for(let s=0;s<r.length;s++)r[s]=a[l+s]}raycast(e,t){const r=this.matrixWorld,a=this.count;if(Ky.geometry=this.geometry,Ky.material=this.material,Ky.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Jy.copy(this.boundingSphere),Jy.applyMatrix4(r),e.ray.intersectsSphere(Jy)!==!1))for(let o=0;o<a;o++){this.getMatrixAt(o,iv),m3.multiplyMatrices(r,iv),Ky.matrixWorld=m3,Ky.raycast(e,Wx);for(let l=0,s=Wx.length;l<s;l++){const u=Wx[l];u.instanceId=o,u.object=this,t.push(u)}Wx.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Mm(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const r=t.morphTargetInfluences,a=r.length+1;this.morphTexture===null&&(this.morphTexture=new Xu(new Float32Array(a*this.count),a,this.count,kw,Rs));const o=this.morphTexture.source.data.data;let l=0;for(let f=0;f<r.length;f++)l+=r[f];const s=this.geometry.morphTargetsRelative?1:1-l,u=a*e;o[u]=s,o.set(r,u+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const gT=new be,vae=new be,yae=new ti;class Qd{constructor(e=new be(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,a){return this.normal.set(e,t,r),this.constant=a,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const a=gT.subVectors(r,t).cross(vae.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(a,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(gT),a=this.normal.dot(r);if(a===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/a;return o<0||o>1?null:t.copy(e.start).addScaledVector(r,o)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||yae.getNormalMatrix(e),a=this.coplanarPoint(gT).applyMatrix4(e),o=this.normal.applyMatrix3(r).normalize();return this.constant=-a.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Tp=new vo,Xx=new be;class kS{constructor(e=new Qd,t=new Qd,r=new Qd,a=new Qd,o=new Qd,l=new Qd){this.planes=[e,t,r,a,o,l]}set(e,t,r,a,o,l){const s=this.planes;return s[0].copy(e),s[1].copy(t),s[2].copy(r),s[3].copy(a),s[4].copy(o),s[5].copy(l),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,t=Lc){const r=this.planes,a=e.elements,o=a[0],l=a[1],s=a[2],u=a[3],f=a[4],m=a[5],y=a[6],_=a[7],E=a[8],c=a[9],p=a[10],g=a[11],b=a[12],C=a[13],T=a[14],M=a[15];if(r[0].setComponents(u-o,_-f,g-E,M-b).normalize(),r[1].setComponents(u+o,_+f,g+E,M+b).normalize(),r[2].setComponents(u+l,_+m,g+c,M+C).normalize(),r[3].setComponents(u-l,_-m,g-c,M-C).normalize(),r[4].setComponents(u-s,_-y,g-p,M-T).normalize(),t===Lc)r[5].setComponents(u+s,_+y,g+p,M+T).normalize();else if(t===lS)r[5].setComponents(s,y,p,T).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Tp.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Tp.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Tp)}intersectsSprite(e){return Tp.center.set(0,0,0),Tp.radius=.7071067811865476,Tp.applyMatrix4(e.matrixWorld),this.intersectsSphere(Tp)}intersectsSphere(e){const t=this.planes,r=e.center,a=-e.radius;for(let o=0;o<6;o++)if(t[o].distanceToPoint(r)<a)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const a=t[r];if(Xx.x=a.normal.x>0?e.max.x:e.min.x,Xx.y=a.normal.y>0?e.max.y:e.min.y,Xx.z=a.normal.z>0?e.max.z:e.min.z,a.distanceToPoint(Xx)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function vT(n,e){return n-e}function bae(n,e){return n.z-e.z}function Sae(n,e){return e.z-n.z}class _ae{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,r,a){const o=this.pool,l=this.list;this.index>=o.length&&o.push({start:-1,count:-1,z:-1,index:-1});const s=o[this.index];l.push(s),this.index++,s.start=e,s.count=t,s.z=r,s.index=a}reset(){this.list.length=0,this.index=0}}const Es=new Pn,xae=new en(1,1,1),yT=new kS,Yx=new go,Rp=new vo,Qy=new be,v3=new be,Cae=new be,bT=new _ae,Bo=new ga,qx=[];function Eae(n,e,t=0){const r=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const a=n.count;for(let o=0;o<a;o++)for(let l=0;l<r;l++)e.setComponent(o+t,l,n.getComponent(o,l))}else e.array.set(n.array,t*r);e.needsUpdate=!0}function Op(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++)e[r]=n[r]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class J8 extends ga{constructor(e,t,r=t*2,a){super(new ni,a),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=r,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),r=new Xu(t,e,e,No,Rs);this._matricesTexture=r}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),r=new Xu(t,e,e,zS,gf);this._indirectTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),r=new Xu(t,e,e,No,Rs);r.colorSpace=Ii.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const t=this.geometry,r=this._maxVertexCount,a=this._maxIndexCount;if(this._geometryInitialized===!1){for(const o in e.attributes){const l=e.getAttribute(o),{array:s,itemSize:u,normalized:f}=l,m=new s.constructor(r*u),y=new ki(m,u,f);t.setAttribute(o,y)}if(e.getIndex()!==null){const o=r>65535?new Uint32Array(a):new Uint16Array(a);t.setIndex(new ki(o,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const r in t.attributes){if(!e.hasAttribute(r))throw new Error(`THREE.BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const a=e.getAttribute(r),o=t.getAttribute(r);if(a.itemSize!==o.itemSize||a.normalized!==o.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new go);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let r=0,a=t.length;r<a;r++){if(t[r].active===!1)continue;const o=t[r].geometryIndex;this.getMatrixAt(r,Es),this.getBoundingBoxAt(o,Yx).applyMatrix4(Es),e.union(Yx)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new vo);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let r=0,a=t.length;r<a;r++){if(t[r].active===!1)continue;const o=t[r].geometryIndex;this.getMatrixAt(r,Es),this.getBoundingSphereAt(o,Rp).applyMatrix4(Es),e.union(Rp)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const r={visible:!0,active:!0,geometryIndex:e};let a=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(vT),a=this._availableInstanceIds.shift(),this._instanceInfo[a]=r):(a=this._instanceInfo.length,this._instanceInfo.push(r));const o=this._matricesTexture;Es.identity().toArray(o.image.data,a*16),o.needsUpdate=!0;const l=this._colorsTexture;return l&&(xae.toArray(l.image.data,a*4),l.needsUpdate=!0),this._visibilityChanged=!0,a}addGeometry(e,t=-1,r=-1){this._initializeGeometry(e),this._validateGeometry(e);const a={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},o=this._geometryInfo;a.vertexStart=this._nextVertexStart,a.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const l=e.getIndex();if(l!==null&&(a.indexStart=this._nextIndexStart,a.reservedIndexCount=r===-1?l.count:r),a.indexStart!==-1&&a.indexStart+a.reservedIndexCount>this._maxIndexCount||a.vertexStart+a.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let u;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(vT),u=this._availableGeometryIds.shift(),o[u]=a):(u=this._geometryCount,this._geometryCount++,o.push(a)),this.setGeometryAt(u,e),this._nextIndexStart=a.indexStart+a.reservedIndexCount,this._nextVertexStart=a.vertexStart+a.reservedVertexCount,u}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const r=this.geometry,a=r.getIndex()!==null,o=r.getIndex(),l=t.getIndex(),s=this._geometryInfo[e];if(a&&l.count>s.reservedIndexCount||t.attributes.position.count>s.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const u=s.vertexStart,f=s.reservedVertexCount;s.vertexCount=t.getAttribute("position").count;for(const m in r.attributes){const y=t.getAttribute(m),_=r.getAttribute(m);Eae(y,_,u);const E=y.itemSize;for(let c=y.count,p=f;c<p;c++){const g=u+c;for(let b=0;b<E;b++)_.setComponent(g,b,0)}_.needsUpdate=!0,_.addUpdateRange(u*E,f*E)}if(a){const m=s.indexStart,y=s.reservedIndexCount;s.indexCount=t.getIndex().count;for(let _=0;_<l.count;_++)o.setX(m+_,u+l.getX(_));for(let _=l.count,E=y;_<E;_++)o.setX(m+_,u);o.needsUpdate=!0,o.addUpdateRange(m,s.reservedIndexCount)}return s.start=a?s.indexStart:s.vertexStart,s.count=a?s.indexCount:s.vertexCount,s.boundingBox=null,t.boundingBox!==null&&(s.boundingBox=t.boundingBox.clone()),s.boundingSphere=null,t.boundingSphere!==null&&(s.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const r=this._instanceInfo;for(let a=0,o=r.length;a<o;a++)r[a].active&&r[a].geometryIndex===e&&this.deleteInstance(a);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const r=this._geometryInfo,a=r.map((l,s)=>s).sort((l,s)=>r[l].vertexStart-r[s].vertexStart),o=this.geometry;for(let l=0,s=r.length;l<s;l++){const u=a[l],f=r[u];if(f.active!==!1){if(o.index!==null){if(f.indexStart!==t){const{indexStart:m,vertexStart:y,reservedIndexCount:_}=f,E=o.index,c=E.array,p=e-y;for(let g=m;g<m+_;g++)c[g]=c[g]+p;E.array.copyWithin(t,m,m+_),E.addUpdateRange(t,_),f.indexStart=t}t+=f.reservedIndexCount}if(f.vertexStart!==e){const{vertexStart:m,reservedVertexCount:y}=f,_=o.attributes;for(const E in _){const c=_[E],{array:p,itemSize:g}=c;p.copyWithin(e*g,m*g,(m+y)*g),c.addUpdateRange(e*g,y*g)}f.vertexStart=e}e+=f.reservedVertexCount,f.start=o.index?f.indexStart:f.vertexStart,this._nextIndexStart=o.index?f.indexStart+f.reservedIndexCount:0,this._nextVertexStart=f.vertexStart+f.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const r=this.geometry,a=this._geometryInfo[e];if(a.boundingBox===null){const o=new go,l=r.index,s=r.attributes.position;for(let u=a.start,f=a.start+a.count;u<f;u++){let m=u;l&&(m=l.getX(m)),o.expandByPoint(Qy.fromBufferAttribute(s,m))}a.boundingBox=o}return t.copy(a.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const r=this.geometry,a=this._geometryInfo[e];if(a.boundingSphere===null){const o=new vo;this.getBoundingBoxAt(e,Yx),Yx.getCenter(o.center);const l=r.index,s=r.attributes.position;let u=0;for(let f=a.start,m=a.start+a.count;f<m;f++){let y=f;l&&(y=l.getX(y)),Qy.fromBufferAttribute(s,y),u=Math.max(u,o.center.distanceToSquared(Qy))}o.radius=Math.sqrt(u),a.boundingSphere=o}return t.copy(a.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const r=this._matricesTexture,a=this._matricesTexture.image.data;return t.toArray(a,e*16),r.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const r=this._geometryInfo[e];return t.vertexStart=r.vertexStart,t.vertexCount=r.vertexCount,t.reservedVertexCount=r.reservedVertexCount,t.indexStart=r.indexStart,t.indexCount=r.indexCount,t.reservedIndexCount=r.reservedIndexCount,t.start=r.start,t.count=r.count,t}setInstanceCount(e){const t=this._availableInstanceIds,r=this._instanceInfo;for(t.sort(vT);t[t.length-1]===r.length;)r.pop(),t.pop();if(e<r.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const a=new Int32Array(e),o=new Int32Array(e);Op(this._multiDrawCounts,a),Op(this._multiDrawStarts,o),this._multiDrawCounts=a,this._multiDrawStarts=o,this._maxInstanceCount=e;const l=this._indirectTexture,s=this._matricesTexture,u=this._colorsTexture;l.dispose(),this._initIndirectTexture(),Op(l.image.data,this._indirectTexture.image.data),s.dispose(),this._initMatricesTexture(),Op(s.image.data,this._matricesTexture.image.data),u&&(u.dispose(),this._initColorsTexture(),Op(u.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const r=[...this._geometryInfo].filter(s=>s.active);if(Math.max(...r.map(s=>s.vertexStart+s.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...r.map(u=>u.indexStart+u.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const o=this.geometry;o.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new ni,this._initializeGeometry(o));const l=this.geometry;o.index&&Op(o.index.array,l.index.array);for(const s in o.attributes)Op(o.attributes[s].array,l.attributes[s].array)}raycast(e,t){const r=this._instanceInfo,a=this._geometryInfo,o=this.matrixWorld,l=this.geometry;Bo.material=this.material,Bo.geometry.index=l.index,Bo.geometry.attributes=l.attributes,Bo.geometry.boundingBox===null&&(Bo.geometry.boundingBox=new go),Bo.geometry.boundingSphere===null&&(Bo.geometry.boundingSphere=new vo);for(let s=0,u=r.length;s<u;s++){if(!r[s].visible||!r[s].active)continue;const f=r[s].geometryIndex,m=a[f];Bo.geometry.setDrawRange(m.start,m.count),this.getMatrixAt(s,Bo.matrixWorld).premultiply(o),this.getBoundingBoxAt(f,Bo.geometry.boundingBox),this.getBoundingSphereAt(f,Bo.geometry.boundingSphere),Bo.raycast(e,qx);for(let y=0,_=qx.length;y<_;y++){const E=qx[y];E.object=this,E.batchId=s,t.push(E)}qx.length=0}Bo.material=null,Bo.geometry.index=null,Bo.geometry.attributes={},Bo.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,r,a,o){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const l=a.getIndex(),s=l===null?1:l.array.BYTES_PER_ELEMENT,u=this._instanceInfo,f=this._multiDrawStarts,m=this._multiDrawCounts,y=this._geometryInfo,_=this.perObjectFrustumCulled,E=this._indirectTexture,c=E.image.data;_&&(Es.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),yT.setFromProjectionMatrix(Es,e.coordinateSystem));let p=0;if(this.sortObjects){Es.copy(this.matrixWorld).invert(),Qy.setFromMatrixPosition(r.matrixWorld).applyMatrix4(Es),v3.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(Es);for(let C=0,T=u.length;C<T;C++)if(u[C].visible&&u[C].active){const M=u[C].geometryIndex;this.getMatrixAt(C,Es),this.getBoundingSphereAt(M,Rp).applyMatrix4(Es);let O=!1;if(_&&(O=!yT.intersectsSphere(Rp)),!O){const B=y[M],P=Cae.subVectors(Rp.center,Qy).dot(v3);bT.push(B.start,B.count,P,C)}}const g=bT.list,b=this.customSort;b===null?g.sort(o.transparent?Sae:bae):b.call(this,g,r);for(let C=0,T=g.length;C<T;C++){const M=g[C];f[p]=M.start*s,m[p]=M.count,c[p]=M.index,p++}bT.reset()}else for(let g=0,b=u.length;g<b;g++)if(u[g].visible&&u[g].active){const C=u[g].geometryIndex;let T=!1;if(_&&(this.getMatrixAt(g,Es),this.getBoundingSphereAt(C,Rp).applyMatrix4(Es),T=!yT.intersectsSphere(Rp)),!T){const M=y[C];f[p]=M.start*s,m[p]=M.count,c[p]=g,p++}}E.needsUpdate=!0,this._multiDrawCount=p,this._visibilityChanged=!1}onBeforeShadow(e,t,r,a,o,l){this.onBeforeRender(e,null,a,o,l)}}class Ho extends Pa{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new en(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const IE=new be,BE=new be,y3=new Pn,Zy=new Gm,Kx=new vo,ST=new be,b3=new be;class vf extends Di{constructor(e=new ni,t=new Ho){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let a=1,o=t.count;a<o;a++)IE.fromBufferAttribute(t,a-1),BE.fromBufferAttribute(t,a),r[a]=r[a-1],r[a]+=IE.distanceTo(BE);e.setAttribute("lineDistance",new vn(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,a=this.matrixWorld,o=e.params.Line.threshold,l=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Kx.copy(r.boundingSphere),Kx.applyMatrix4(a),Kx.radius+=o,e.ray.intersectsSphere(Kx)===!1)return;y3.copy(a).invert(),Zy.copy(e.ray).applyMatrix4(y3);const s=o/((this.scale.x+this.scale.y+this.scale.z)/3),u=s*s,f=this.isLineSegments?2:1,m=r.index,_=r.attributes.position;if(m!==null){const E=Math.max(0,l.start),c=Math.min(m.count,l.start+l.count);for(let p=E,g=c-1;p<g;p+=f){const b=m.getX(p),C=m.getX(p+1),T=Jx(this,e,Zy,u,b,C,p);T&&t.push(T)}if(this.isLineLoop){const p=m.getX(c-1),g=m.getX(E),b=Jx(this,e,Zy,u,p,g,c-1);b&&t.push(b)}}else{const E=Math.max(0,l.start),c=Math.min(_.count,l.start+l.count);for(let p=E,g=c-1;p<g;p+=f){const b=Jx(this,e,Zy,u,p,p+1,p);b&&t.push(b)}if(this.isLineLoop){const p=Jx(this,e,Zy,u,c-1,E,c-1);p&&t.push(p)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const a=t[r[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,l=a.length;o<l;o++){const s=a[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}}function Jx(n,e,t,r,a,o,l){const s=n.geometry.attributes.position;if(IE.fromBufferAttribute(s,a),BE.fromBufferAttribute(s,o),t.distanceSqToSegment(IE,BE,ST,b3)>r)return;ST.applyMatrix4(n.matrixWorld);const f=e.ray.origin.distanceTo(ST);if(!(f<e.near||f>e.far))return{distance:f,point:b3.clone().applyMatrix4(n.matrixWorld),index:l,face:null,faceIndex:null,barycoord:null,object:n}}const S3=new be,_3=new be;class Vc extends vf{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let a=0,o=t.count;a<o;a+=2)S3.fromBufferAttribute(t,a),_3.fromBufferAttribute(t,a+1),r[a]=a===0?0:r[a-1],r[a+1]=r[a]+S3.distanceTo(_3);e.setAttribute("lineDistance",new vn(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class TI extends vf{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Qw extends Pa{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new en(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const x3=new Pn,I2=new Gm,Qx=new vo,Zx=new be;class RI extends Di{constructor(e=new ni,t=new Qw){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,a=this.matrixWorld,o=e.params.Points.threshold,l=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Qx.copy(r.boundingSphere),Qx.applyMatrix4(a),Qx.radius+=o,e.ray.intersectsSphere(Qx)===!1)return;x3.copy(a).invert(),I2.copy(e.ray).applyMatrix4(x3);const s=o/((this.scale.x+this.scale.y+this.scale.z)/3),u=s*s,f=r.index,y=r.attributes.position;if(f!==null){const _=Math.max(0,l.start),E=Math.min(f.count,l.start+l.count);for(let c=_,p=E;c<p;c++){const g=f.getX(c);Zx.fromBufferAttribute(y,g),C3(Zx,g,u,a,e,t,this)}}else{const _=Math.max(0,l.start),E=Math.min(y.count,l.start+l.count);for(let c=_,p=E;c<p;c++)Zx.fromBufferAttribute(y,c),C3(Zx,c,u,a,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const a=t[r[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,l=a.length;o<l;o++){const s=a[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}}function C3(n,e,t,r,a,o,l){const s=I2.distanceSqToPoint(n);if(s<t){const u=new be;I2.closestPointToPoint(n,u),u.applyMatrix4(r);const f=a.ray.origin.distanceTo(u);if(f<a.near||f>a.far)return;o.push({distance:f,distanceToRay:Math.sqrt(s),point:u,index:e,face:null,faceIndex:null,barycoord:null,object:l})}}class Q8 extends Lr{constructor(e,t,r,a,o,l,s,u,f){super(e,t,r,a,o,l,s,u,f),this.isVideoTexture=!0,this.minFilter=l!==void 0?l:ma,this.magFilter=o!==void 0?o:ma,this.generateMipmaps=!1;const m=this;function y(){m.needsUpdate=!0,e.requestVideoFrameCallback(y)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(y)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class wae extends Q8{constructor(e,t,r,a,o,l,s,u){super({},e,t,r,a,o,l,s,u),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class Aae extends Lr{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Za,this.minFilter=Za,this.generateMipmaps=!1,this.needsUpdate=!0}}class Zw extends Lr{constructor(e,t,r,a,o,l,s,u,f,m,y,_){super(null,l,s,u,f,m,a,o,y,_),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Mae extends Zw{constructor(e,t,r,a,o,l){super(e,t,r,o,l),this.isCompressedArrayTexture=!0,this.image.depth=a,this.wrapR=el,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Tae extends Zw{constructor(e,t,r){super(void 0,e[0].width,e[0].height,t,r,mf),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class Rae extends Lr{constructor(e,t,r,a,o,l,s,u,f){super(e,t,r,a,o,l,s,u,f),this.isCanvasTexture=!0,this.needsUpdate=!0}}class OI extends Lr{constructor(e,t,r,a,o,l,s,u,f,m=Sm){if(m!==Sm&&m!==Am)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&m===Sm&&(r=gf),r===void 0&&m===Am&&(r=wm),super(null,a,o,l,s,u,m,r,f),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=s!==void 0?s:Za,this.minFilter=u!==void 0?u:Za,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Rh(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class jc{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,a=this.getPoint(0),o=0;t.push(0);for(let l=1;l<=e;l++)r=this.getPoint(l/e),o+=r.distanceTo(a),t.push(o),a=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const r=this.getLengths();let a=0;const o=r.length;let l;t?l=t:l=e*r[o-1];let s=0,u=o-1,f;for(;s<=u;)if(a=Math.floor(s+(u-s)/2),f=r[a]-l,f<0)s=a+1;else if(f>0)u=a-1;else{u=a;break}if(a=u,r[a]===l)return a/(o-1);const m=r[a],_=r[a+1]-m,E=(l-m)/_;return(a+E)/(o-1)}getTangent(e,t){let a=e-1e-4,o=e+1e-4;a<0&&(a=0),o>1&&(o=1);const l=this.getPoint(a),s=this.getPoint(o),u=t||(l.isVector2?new Tt:new be);return u.copy(s).sub(l).normalize(),u}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t=!1){const r=new be,a=[],o=[],l=[],s=new be,u=new Pn;for(let E=0;E<=e;E++){const c=E/e;a[E]=this.getTangentAt(c,new be)}o[0]=new be,l[0]=new be;let f=Number.MAX_VALUE;const m=Math.abs(a[0].x),y=Math.abs(a[0].y),_=Math.abs(a[0].z);m<=f&&(f=m,r.set(1,0,0)),y<=f&&(f=y,r.set(0,1,0)),_<=f&&r.set(0,0,1),s.crossVectors(a[0],r).normalize(),o[0].crossVectors(a[0],s),l[0].crossVectors(a[0],o[0]);for(let E=1;E<=e;E++){if(o[E]=o[E-1].clone(),l[E]=l[E-1].clone(),s.crossVectors(a[E-1],a[E]),s.length()>Number.EPSILON){s.normalize();const c=Math.acos(Jn(a[E-1].dot(a[E]),-1,1));o[E].applyMatrix4(u.makeRotationAxis(s,c))}l[E].crossVectors(a[E],o[E])}if(t===!0){let E=Math.acos(Jn(o[0].dot(o[e]),-1,1));E/=e,a[0].dot(s.crossVectors(o[0],o[e]))>0&&(E=-E);for(let c=1;c<=e;c++)o[c].applyMatrix4(u.makeRotationAxis(a[c],E*c)),l[c].crossVectors(a[c],o[c])}return{tangents:a,normals:o,binormals:l}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class eA extends jc{constructor(e=0,t=0,r=1,a=1,o=0,l=Math.PI*2,s=!1,u=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=a,this.aStartAngle=o,this.aEndAngle=l,this.aClockwise=s,this.aRotation=u}getPoint(e,t=new Tt){const r=t,a=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const l=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=a;for(;o>a;)o-=a;o<Number.EPSILON&&(l?o=0:o=a),this.aClockwise===!0&&!l&&(o===a?o=-a:o=o-a);const s=this.aStartAngle+e*o;let u=this.aX+this.xRadius*Math.cos(s),f=this.aY+this.yRadius*Math.sin(s);if(this.aRotation!==0){const m=Math.cos(this.aRotation),y=Math.sin(this.aRotation),_=u-this.aX,E=f-this.aY;u=_*m-E*y+this.aX,f=_*y+E*m+this.aY}return r.set(u,f)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class Z8 extends eA{constructor(e,t,r,a,o,l){super(e,t,r,r,a,o,l),this.isArcCurve=!0,this.type="ArcCurve"}}function II(){let n=0,e=0,t=0,r=0;function a(o,l,s,u){n=o,e=s,t=-3*o+3*l-2*s-u,r=2*o-2*l+s+u}return{initCatmullRom:function(o,l,s,u,f){a(l,s,f*(s-o),f*(u-l))},initNonuniformCatmullRom:function(o,l,s,u,f,m,y){let _=(l-o)/f-(s-o)/(f+m)+(s-l)/m,E=(s-l)/m-(u-l)/(m+y)+(u-s)/y;_*=m,E*=m,a(l,s,_,E)},calc:function(o){const l=o*o,s=l*o;return n+e*o+t*l+r*s}}}const eC=new be,_T=new II,xT=new II,CT=new II;class e6 extends jc{constructor(e=[],t=!1,r="centripetal",a=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=a}getPoint(e,t=new be){const r=t,a=this.points,o=a.length,l=(o-(this.closed?0:1))*e;let s=Math.floor(l),u=l-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/o)+1)*o:u===0&&s===o-1&&(s=o-2,u=1);let f,m;this.closed||s>0?f=a[(s-1)%o]:(eC.subVectors(a[0],a[1]).add(a[0]),f=eC);const y=a[s%o],_=a[(s+1)%o];if(this.closed||s+2<o?m=a[(s+2)%o]:(eC.subVectors(a[o-1],a[o-2]).add(a[o-1]),m=eC),this.curveType==="centripetal"||this.curveType==="chordal"){const E=this.curveType==="chordal"?.5:.25;let c=Math.pow(f.distanceToSquared(y),E),p=Math.pow(y.distanceToSquared(_),E),g=Math.pow(_.distanceToSquared(m),E);p<1e-4&&(p=1),c<1e-4&&(c=p),g<1e-4&&(g=p),_T.initNonuniformCatmullRom(f.x,y.x,_.x,m.x,c,p,g),xT.initNonuniformCatmullRom(f.y,y.y,_.y,m.y,c,p,g),CT.initNonuniformCatmullRom(f.z,y.z,_.z,m.z,c,p,g)}else this.curveType==="catmullrom"&&(_T.initCatmullRom(f.x,y.x,_.x,m.x,this.tension),xT.initCatmullRom(f.y,y.y,_.y,m.y,this.tension),CT.initCatmullRom(f.z,y.z,_.z,m.z,this.tension));return r.set(_T.calc(u),xT.calc(u),CT.calc(u)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const a=e.points[t];this.points.push(a.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const a=this.points[t];e.points.push(a.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const a=e.points[t];this.points.push(new be().fromArray(a))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function E3(n,e,t,r,a){const o=(r-e)*.5,l=(a-t)*.5,s=n*n,u=n*s;return(2*t-2*r+o+l)*u+(-3*t+3*r-2*o-l)*s+o*n+t}function Oae(n,e){const t=1-n;return t*t*e}function Iae(n,e){return 2*(1-n)*n*e}function Bae(n,e){return n*n*e}function Nb(n,e,t,r){return Oae(n,e)+Iae(n,t)+Bae(n,r)}function Dae(n,e){const t=1-n;return t*t*t*e}function Pae(n,e){const t=1-n;return 3*t*t*n*e}function Lae(n,e){return 3*(1-n)*n*n*e}function Nae(n,e){return n*n*n*e}function zb(n,e,t,r,a){return Dae(n,e)+Pae(n,t)+Lae(n,r)+Nae(n,a)}class BI extends jc{constructor(e=new Tt,t=new Tt,r=new Tt,a=new Tt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=a}getPoint(e,t=new Tt){const r=t,a=this.v0,o=this.v1,l=this.v2,s=this.v3;return r.set(zb(e,a.x,o.x,l.x,s.x),zb(e,a.y,o.y,l.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class t6 extends jc{constructor(e=new be,t=new be,r=new be,a=new be){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=a}getPoint(e,t=new be){const r=t,a=this.v0,o=this.v1,l=this.v2,s=this.v3;return r.set(zb(e,a.x,o.x,l.x,s.x),zb(e,a.y,o.y,l.y,s.y),zb(e,a.z,o.z,l.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class DI extends jc{constructor(e=new Tt,t=new Tt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Tt){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Tt){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class n6 extends jc{constructor(e=new be,t=new be){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new be){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new be){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class PI extends jc{constructor(e=new Tt,t=new Tt,r=new Tt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Tt){const r=t,a=this.v0,o=this.v1,l=this.v2;return r.set(Nb(e,a.x,o.x,l.x),Nb(e,a.y,o.y,l.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class LI extends jc{constructor(e=new be,t=new be,r=new be){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new be){const r=t,a=this.v0,o=this.v1,l=this.v2;return r.set(Nb(e,a.x,o.x,l.x),Nb(e,a.y,o.y,l.y),Nb(e,a.z,o.z,l.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class NI extends jc{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Tt){const r=t,a=this.points,o=(a.length-1)*e,l=Math.floor(o),s=o-l,u=a[l===0?l:l-1],f=a[l],m=a[l>a.length-2?a.length-1:l+1],y=a[l>a.length-3?a.length-1:l+2];return r.set(E3(s,u.x,f.x,m.x,y.x),E3(s,u.y,f.y,m.y,y.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const a=e.points[t];this.points.push(a.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const a=this.points[t];e.points.push(a.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const a=e.points[t];this.points.push(new Tt().fromArray(a))}return this}}var DE=Object.freeze({__proto__:null,ArcCurve:Z8,CatmullRomCurve3:e6,CubicBezierCurve:BI,CubicBezierCurve3:t6,EllipseCurve:eA,LineCurve:DI,LineCurve3:n6,QuadraticBezierCurve:PI,QuadraticBezierCurve3:LI,SplineCurve:NI});class i6 extends jc{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new DE[r](t,e))}return this}getPoint(e,t){const r=e*this.getLength(),a=this.getCurveLengths();let o=0;for(;o<a.length;){if(a[o]>=r){const l=a[o]-r,s=this.curves[o],u=s.getLength(),f=u===0?0:1-l/u;return s.getPointAt(f,t)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,a=this.curves.length;r<a;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let a=0,o=this.curves;a<o.length;a++){const l=o[a],s=l.isEllipseCurve?e*2:l.isLineCurve||l.isLineCurve3?1:l.isSplineCurve?e*l.points.length:e,u=l.getPoints(s);for(let f=0;f<u.length;f++){const m=u[f];r&&r.equals(m)||(t.push(m),r=m)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const a=e.curves[t];this.curves.push(a.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const a=this.curves[t];e.curves.push(a.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const a=e.curves[t];this.curves.push(new DE[a.type]().fromJSON(a))}return this}}class uS extends i6{constructor(e){super(),this.type="Path",this.currentPoint=new Tt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new DI(this.currentPoint.clone(),new Tt(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,a){const o=new PI(this.currentPoint.clone(),new Tt(e,t),new Tt(r,a));return this.curves.push(o),this.currentPoint.set(r,a),this}bezierCurveTo(e,t,r,a,o,l){const s=new BI(this.currentPoint.clone(),new Tt(e,t),new Tt(r,a),new Tt(o,l));return this.curves.push(s),this.currentPoint.set(o,l),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new NI(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,a,o,l){const s=this.currentPoint.x,u=this.currentPoint.y;return this.absarc(e+s,t+u,r,a,o,l),this}absarc(e,t,r,a,o,l){return this.absellipse(e,t,r,r,a,o,l),this}ellipse(e,t,r,a,o,l,s,u){const f=this.currentPoint.x,m=this.currentPoint.y;return this.absellipse(e+f,t+m,r,a,o,l,s,u),this}absellipse(e,t,r,a,o,l,s,u){const f=new eA(e,t,r,a,o,l,s,u);if(this.curves.length>0){const y=f.getPoint(0);y.equals(this.currentPoint)||this.lineTo(y.x,y.y)}this.curves.push(f);const m=f.getPoint(1);return this.currentPoint.copy(m),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class $S extends ni{constructor(e=[new Tt(0,-.5),new Tt(.5,0),new Tt(0,.5)],t=12,r=0,a=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:a},t=Math.floor(t),a=Jn(a,0,Math.PI*2);const o=[],l=[],s=[],u=[],f=[],m=1/t,y=new be,_=new Tt,E=new be,c=new be,p=new be;let g=0,b=0;for(let C=0;C<=e.length-1;C++)switch(C){case 0:g=e[C+1].x-e[C].x,b=e[C+1].y-e[C].y,E.x=b*1,E.y=-g,E.z=b*0,p.copy(E),E.normalize(),u.push(E.x,E.y,E.z);break;case e.length-1:u.push(p.x,p.y,p.z);break;default:g=e[C+1].x-e[C].x,b=e[C+1].y-e[C].y,E.x=b*1,E.y=-g,E.z=b*0,c.copy(E),E.x+=p.x,E.y+=p.y,E.z+=p.z,E.normalize(),u.push(E.x,E.y,E.z),p.copy(c)}for(let C=0;C<=t;C++){const T=r+C*m*a,M=Math.sin(T),O=Math.cos(T);for(let B=0;B<=e.length-1;B++){y.x=e[B].x*M,y.y=e[B].y,y.z=e[B].x*O,l.push(y.x,y.y,y.z),_.x=C/t,_.y=B/(e.length-1),s.push(_.x,_.y);const P=u[3*B+0]*M,F=u[3*B+1],U=u[3*B+0]*O;f.push(P,F,U)}}for(let C=0;C<t;C++)for(let T=0;T<e.length-1;T++){const M=T+C*e.length,O=M,B=M+e.length,P=M+e.length+1,F=M+1;o.push(O,B,F),o.push(P,F,B)}this.setIndex(o),this.setAttribute("position",new vn(l,3)),this.setAttribute("uv",new vn(s,2)),this.setAttribute("normal",new vn(f,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $S(e.points,e.segments,e.phiStart,e.phiLength)}}class tA extends $S{constructor(e=1,t=1,r=4,a=8){const o=new uS;o.absarc(0,-t/2,e,Math.PI*1.5,0),o.absarc(0,t/2,e,0,Math.PI*.5),super(o.getPoints(r),a),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:r,radialSegments:a}}static fromJSON(e){return new tA(e.radius,e.length,e.capSegments,e.radialSegments)}}class nA extends ni{constructor(e=1,t=32,r=0,a=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:a},t=Math.max(3,t);const o=[],l=[],s=[],u=[],f=new be,m=new Tt;l.push(0,0,0),s.push(0,0,1),u.push(.5,.5);for(let y=0,_=3;y<=t;y++,_+=3){const E=r+y/t*a;f.x=e*Math.cos(E),f.y=e*Math.sin(E),l.push(f.x,f.y,f.z),s.push(0,0,1),m.x=(l[_]/e+1)/2,m.y=(l[_+1]/e+1)/2,u.push(m.x,m.y)}for(let y=1;y<=t;y++)o.push(y,y+1,0);this.setIndex(o),this.setAttribute("position",new vn(l,3)),this.setAttribute("normal",new vn(s,3)),this.setAttribute("uv",new vn(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new nA(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class P0 extends ni{constructor(e=1,t=1,r=1,a=32,o=1,l=!1,s=0,u=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:a,heightSegments:o,openEnded:l,thetaStart:s,thetaLength:u};const f=this;a=Math.floor(a),o=Math.floor(o);const m=[],y=[],_=[],E=[];let c=0;const p=[],g=r/2;let b=0;C(),l===!1&&(e>0&&T(!0),t>0&&T(!1)),this.setIndex(m),this.setAttribute("position",new vn(y,3)),this.setAttribute("normal",new vn(_,3)),this.setAttribute("uv",new vn(E,2));function C(){const M=new be,O=new be;let B=0;const P=(t-e)/r;for(let F=0;F<=o;F++){const U=[],z=F/o,$=z*(t-e)+e;for(let J=0;J<=a;J++){const W=J/a,Q=W*u+s,ae=Math.sin(Q),Y=Math.cos(Q);O.x=$*ae,O.y=-z*r+g,O.z=$*Y,y.push(O.x,O.y,O.z),M.set(ae,P,Y).normalize(),_.push(M.x,M.y,M.z),E.push(W,1-z),U.push(c++)}p.push(U)}for(let F=0;F<a;F++)for(let U=0;U<o;U++){const z=p[U][F],$=p[U+1][F],J=p[U+1][F+1],W=p[U][F+1];(e>0||U!==0)&&(m.push(z,$,W),B+=3),(t>0||U!==o-1)&&(m.push($,J,W),B+=3)}f.addGroup(b,B,0),b+=B}function T(M){const O=c,B=new Tt,P=new be;let F=0;const U=M===!0?e:t,z=M===!0?1:-1;for(let J=1;J<=a;J++)y.push(0,g*z,0),_.push(0,z,0),E.push(.5,.5),c++;const $=c;for(let J=0;J<=a;J++){const Q=J/a*u+s,ae=Math.cos(Q),Y=Math.sin(Q);P.x=U*Y,P.y=g*z,P.z=U*ae,y.push(P.x,P.y,P.z),_.push(0,z,0),B.x=ae*.5+.5,B.y=Y*.5*z+.5,E.push(B.x,B.y),c++}for(let J=0;J<a;J++){const W=O+J,Q=$+J;M===!0?m.push(Q,Q+1,W):m.push(Q+1,Q,W),F+=3}f.addGroup(b,F,M===!0?1:2),b+=F}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new P0(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class iA extends P0{constructor(e=1,t=1,r=32,a=1,o=!1,l=0,s=Math.PI*2){super(0,e,t,r,a,o,l,s),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:a,openEnded:o,thetaStart:l,thetaLength:s}}static fromJSON(e){return new iA(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Vh extends ni{constructor(e=[],t=[],r=1,a=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:a};const o=[],l=[];s(a),f(r),m(),this.setAttribute("position",new vn(o,3)),this.setAttribute("normal",new vn(o.slice(),3)),this.setAttribute("uv",new vn(l,2)),a===0?this.computeVertexNormals():this.normalizeNormals();function s(C){const T=new be,M=new be,O=new be;for(let B=0;B<t.length;B+=3)E(t[B+0],T),E(t[B+1],M),E(t[B+2],O),u(T,M,O,C)}function u(C,T,M,O){const B=O+1,P=[];for(let F=0;F<=B;F++){P[F]=[];const U=C.clone().lerp(M,F/B),z=T.clone().lerp(M,F/B),$=B-F;for(let J=0;J<=$;J++)J===0&&F===B?P[F][J]=U:P[F][J]=U.clone().lerp(z,J/$)}for(let F=0;F<B;F++)for(let U=0;U<2*(B-F)-1;U++){const z=Math.floor(U/2);U%2===0?(_(P[F][z+1]),_(P[F+1][z]),_(P[F][z])):(_(P[F][z+1]),_(P[F+1][z+1]),_(P[F+1][z]))}}function f(C){const T=new be;for(let M=0;M<o.length;M+=3)T.x=o[M+0],T.y=o[M+1],T.z=o[M+2],T.normalize().multiplyScalar(C),o[M+0]=T.x,o[M+1]=T.y,o[M+2]=T.z}function m(){const C=new be;for(let T=0;T<o.length;T+=3){C.x=o[T+0],C.y=o[T+1],C.z=o[T+2];const M=g(C)/2/Math.PI+.5,O=b(C)/Math.PI+.5;l.push(M,1-O)}c(),y()}function y(){for(let C=0;C<l.length;C+=6){const T=l[C+0],M=l[C+2],O=l[C+4],B=Math.max(T,M,O),P=Math.min(T,M,O);B>.9&&P<.1&&(T<.2&&(l[C+0]+=1),M<.2&&(l[C+2]+=1),O<.2&&(l[C+4]+=1))}}function _(C){o.push(C.x,C.y,C.z)}function E(C,T){const M=C*3;T.x=e[M+0],T.y=e[M+1],T.z=e[M+2]}function c(){const C=new be,T=new be,M=new be,O=new be,B=new Tt,P=new Tt,F=new Tt;for(let U=0,z=0;U<o.length;U+=9,z+=6){C.set(o[U+0],o[U+1],o[U+2]),T.set(o[U+3],o[U+4],o[U+5]),M.set(o[U+6],o[U+7],o[U+8]),B.set(l[z+0],l[z+1]),P.set(l[z+2],l[z+3]),F.set(l[z+4],l[z+5]),O.copy(C).add(T).add(M).divideScalar(3);const $=g(O);p(B,z+0,C,$),p(P,z+2,T,$),p(F,z+4,M,$)}}function p(C,T,M,O){O<0&&C.x===1&&(l[T]=C.x-1),M.x===0&&M.z===0&&(l[T]=O/2/Math.PI+.5)}function g(C){return Math.atan2(C.z,-C.x)}function b(C){return Math.atan2(-C.y,Math.sqrt(C.x*C.x+C.z*C.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Vh(e.vertices,e.indices,e.radius,e.details)}}class rA extends Vh{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,a=1/r,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-a,-r,0,-a,r,0,a,-r,0,a,r,-a,-r,0,-a,r,0,a,-r,0,a,r,0,-r,0,-a,r,0,-a,-r,0,a,r,0,a],l=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,l,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new rA(e.radius,e.detail)}}const tC=new be,nC=new be,ET=new be,iC=new Ts;class r6 extends ni{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const a=Math.pow(10,4),o=Math.cos(_m*t),l=e.getIndex(),s=e.getAttribute("position"),u=l?l.count:s.count,f=[0,0,0],m=["a","b","c"],y=new Array(3),_={},E=[];for(let c=0;c<u;c+=3){l?(f[0]=l.getX(c),f[1]=l.getX(c+1),f[2]=l.getX(c+2)):(f[0]=c,f[1]=c+1,f[2]=c+2);const{a:p,b:g,c:b}=iC;if(p.fromBufferAttribute(s,f[0]),g.fromBufferAttribute(s,f[1]),b.fromBufferAttribute(s,f[2]),iC.getNormal(ET),y[0]=`${Math.round(p.x*a)},${Math.round(p.y*a)},${Math.round(p.z*a)}`,y[1]=`${Math.round(g.x*a)},${Math.round(g.y*a)},${Math.round(g.z*a)}`,y[2]=`${Math.round(b.x*a)},${Math.round(b.y*a)},${Math.round(b.z*a)}`,!(y[0]===y[1]||y[1]===y[2]||y[2]===y[0]))for(let C=0;C<3;C++){const T=(C+1)%3,M=y[C],O=y[T],B=iC[m[C]],P=iC[m[T]],F=`${M}_${O}`,U=`${O}_${M}`;U in _&&_[U]?(ET.dot(_[U].normal)<=o&&(E.push(B.x,B.y,B.z),E.push(P.x,P.y,P.z)),_[U]=null):F in _||(_[F]={index0:f[C],index1:f[T],normal:ET.clone()})}}for(const c in _)if(_[c]){const{index0:p,index1:g}=_[c];tC.fromBufferAttribute(s,p),nC.fromBufferAttribute(s,g),E.push(tC.x,tC.y,tC.z),E.push(nC.x,nC.y,nC.z)}this.setAttribute("position",new vn(E,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class xm extends uS{constructor(e){super(e),this.uuid=nl(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,a=this.holes.length;r<a;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const a=e.holes[t];this.holes.push(a.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const a=this.holes[t];e.holes.push(a.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const a=e.holes[t];this.holes.push(new uS().fromJSON(a))}return this}}class zae{static triangulate(e,t,r=2){const a=t&&t.length,o=a?t[0]*r:e.length;let l=a6(e,0,o,r,!0);const s=[];if(!l||l.next===l.prev)return s;let u,f,m,y,_,E,c;if(a&&(l=kae(e,t,l,r)),e.length>80*r){u=m=e[0],f=y=e[1];for(let p=r;p<o;p+=r)_=e[p],E=e[p+1],_<u&&(u=_),E<f&&(f=E),_>m&&(m=_),E>y&&(y=E);c=Math.max(m-u,y-f),c=c!==0?32767/c:0}return dS(l,s,r,u,f,c,0),s}}function a6(n,e,t,r,a){let o,l;if(a===Zae(n,e,t,r)>0)for(o=e;o<t;o+=r)l=w3(o,n[o],n[o+1],l);else for(o=t-r;o>=e;o-=r)l=w3(o,n[o],n[o+1],l);return l&&aA(l,l.next)&&(hS(l),l=l.next),l}function Tm(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(aA(t,t.next)||qr(t.prev,t,t.next)===0)){if(hS(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function dS(n,e,t,r,a,o,l){if(!n)return;!l&&o&&Xae(n,r,a,o);let s=n,u,f;for(;n.prev!==n.next;){if(u=n.prev,f=n.next,o?Fae(n,r,a,o):Uae(n)){e.push(u.i/t|0),e.push(n.i/t|0),e.push(f.i/t|0),hS(n),n=f.next,s=f.next;continue}if(n=f,n===s){l?l===1?(n=Hae(Tm(n),e,t),dS(n,e,t,r,a,o,2)):l===2&&Gae(n,e,t,r,a,o):dS(Tm(n),e,t,r,a,o,1);break}}}function Uae(n){const e=n.prev,t=n,r=n.next;if(qr(e,t,r)>=0)return!1;const a=e.x,o=t.x,l=r.x,s=e.y,u=t.y,f=r.y,m=a<o?a<l?a:l:o<l?o:l,y=s<u?s<f?s:f:u<f?u:f,_=a>o?a>l?a:l:o>l?o:l,E=s>u?s>f?s:f:u>f?u:f;let c=r.next;for(;c!==e;){if(c.x>=m&&c.x<=_&&c.y>=y&&c.y<=E&&Lv(a,s,o,u,l,f,c.x,c.y)&&qr(c.prev,c,c.next)>=0)return!1;c=c.next}return!0}function Fae(n,e,t,r){const a=n.prev,o=n,l=n.next;if(qr(a,o,l)>=0)return!1;const s=a.x,u=o.x,f=l.x,m=a.y,y=o.y,_=l.y,E=s<u?s<f?s:f:u<f?u:f,c=m<y?m<_?m:_:y<_?y:_,p=s>u?s>f?s:f:u>f?u:f,g=m>y?m>_?m:_:y>_?y:_,b=B2(E,c,e,t,r),C=B2(p,g,e,t,r);let T=n.prevZ,M=n.nextZ;for(;T&&T.z>=b&&M&&M.z<=C;){if(T.x>=E&&T.x<=p&&T.y>=c&&T.y<=g&&T!==a&&T!==l&&Lv(s,m,u,y,f,_,T.x,T.y)&&qr(T.prev,T,T.next)>=0||(T=T.prevZ,M.x>=E&&M.x<=p&&M.y>=c&&M.y<=g&&M!==a&&M!==l&&Lv(s,m,u,y,f,_,M.x,M.y)&&qr(M.prev,M,M.next)>=0))return!1;M=M.nextZ}for(;T&&T.z>=b;){if(T.x>=E&&T.x<=p&&T.y>=c&&T.y<=g&&T!==a&&T!==l&&Lv(s,m,u,y,f,_,T.x,T.y)&&qr(T.prev,T,T.next)>=0)return!1;T=T.prevZ}for(;M&&M.z<=C;){if(M.x>=E&&M.x<=p&&M.y>=c&&M.y<=g&&M!==a&&M!==l&&Lv(s,m,u,y,f,_,M.x,M.y)&&qr(M.prev,M,M.next)>=0)return!1;M=M.nextZ}return!0}function Hae(n,e,t){let r=n;do{const a=r.prev,o=r.next.next;!aA(a,o)&&o6(a,r,r.next,o)&&fS(a,o)&&fS(o,a)&&(e.push(a.i/t|0),e.push(r.i/t|0),e.push(o.i/t|0),hS(r),hS(r.next),r=n=o),r=r.next}while(r!==n);return Tm(r)}function Gae(n,e,t,r,a,o){let l=n;do{let s=l.next.next;for(;s!==l.prev;){if(l.i!==s.i&&Kae(l,s)){let u=s6(l,s);l=Tm(l,l.next),u=Tm(u,u.next),dS(l,e,t,r,a,o,0),dS(u,e,t,r,a,o,0);return}s=s.next}l=l.next}while(l!==n)}function kae(n,e,t,r){const a=[];let o,l,s,u,f;for(o=0,l=e.length;o<l;o++)s=e[o]*r,u=o<l-1?e[o+1]*r:n.length,f=a6(n,s,u,r,!1),f===f.next&&(f.steiner=!0),a.push(qae(f));for(a.sort($ae),o=0;o<a.length;o++)t=Vae(a[o],t);return t}function $ae(n,e){return n.x-e.x}function Vae(n,e){const t=jae(n,e);if(!t)return e;const r=s6(t,n);return Tm(r,r.next),Tm(t,t.next)}function jae(n,e){let t=e,r=-1/0,a;const o=n.x,l=n.y;do{if(l<=t.y&&l>=t.next.y&&t.next.y!==t.y){const _=t.x+(l-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(_<=o&&_>r&&(r=_,a=t.x<t.next.x?t:t.next,_===o))return a}t=t.next}while(t!==e);if(!a)return null;const s=a,u=a.x,f=a.y;let m=1/0,y;t=a;do o>=t.x&&t.x>=u&&o!==t.x&&Lv(l<f?o:r,l,u,f,l<f?r:o,l,t.x,t.y)&&(y=Math.abs(l-t.y)/(o-t.x),fS(t,n)&&(y<m||y===m&&(t.x>a.x||t.x===a.x&&Wae(a,t)))&&(a=t,m=y)),t=t.next;while(t!==s);return a}function Wae(n,e){return qr(n.prev,n,e.prev)<0&&qr(e.next,n,n.next)<0}function Xae(n,e,t,r){let a=n;do a.z===0&&(a.z=B2(a.x,a.y,e,t,r)),a.prevZ=a.prev,a.nextZ=a.next,a=a.next;while(a!==n);a.prevZ.nextZ=null,a.prevZ=null,Yae(a)}function Yae(n){let e,t,r,a,o,l,s,u,f=1;do{for(t=n,n=null,o=null,l=0;t;){for(l++,r=t,s=0,e=0;e<f&&(s++,r=r.nextZ,!!r);e++);for(u=f;s>0||u>0&&r;)s!==0&&(u===0||!r||t.z<=r.z)?(a=t,t=t.nextZ,s--):(a=r,r=r.nextZ,u--),o?o.nextZ=a:n=a,a.prevZ=o,o=a;t=r}o.nextZ=null,f*=2}while(l>1);return n}function B2(n,e,t,r,a){return n=(n-t)*a|0,e=(e-r)*a|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function qae(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Lv(n,e,t,r,a,o,l,s){return(a-l)*(e-s)>=(n-l)*(o-s)&&(n-l)*(r-s)>=(t-l)*(e-s)&&(t-l)*(o-s)>=(a-l)*(r-s)}function Kae(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!Jae(n,e)&&(fS(n,e)&&fS(e,n)&&Qae(n,e)&&(qr(n.prev,n,e.prev)||qr(n,e.prev,e))||aA(n,e)&&qr(n.prev,n,n.next)>0&&qr(e.prev,e,e.next)>0)}function qr(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function aA(n,e){return n.x===e.x&&n.y===e.y}function o6(n,e,t,r){const a=aC(qr(n,e,t)),o=aC(qr(n,e,r)),l=aC(qr(t,r,n)),s=aC(qr(t,r,e));return!!(a!==o&&l!==s||a===0&&rC(n,t,e)||o===0&&rC(n,r,e)||l===0&&rC(t,n,r)||s===0&&rC(t,e,r))}function rC(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function aC(n){return n>0?1:n<0?-1:0}function Jae(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&o6(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function fS(n,e){return qr(n.prev,n,n.next)<0?qr(n,e,n.next)>=0&&qr(n,n.prev,e)>=0:qr(n,e,n.prev)<0||qr(n,n.next,e)<0}function Qae(n,e){let t=n,r=!1;const a=(n.x+e.x)/2,o=(n.y+e.y)/2;do t.y>o!=t.next.y>o&&t.next.y!==t.y&&a<(t.next.x-t.x)*(o-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function s6(n,e){const t=new D2(n.i,n.x,n.y),r=new D2(e.i,e.x,e.y),a=n.next,o=e.prev;return n.next=e,e.prev=n,t.next=a,a.prev=t,r.next=t,t.prev=r,o.next=r,r.prev=o,r}function w3(n,e,t,r){const a=new D2(n,e,t);return r?(a.next=r.next,a.prev=r,r.next.prev=a,r.next=a):(a.prev=a,a.next=a),a}function hS(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function D2(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Zae(n,e,t,r){let a=0;for(let o=e,l=t-r;o<t;o+=r)a+=(n[l]-n[o])*(n[o+1]+n[l+1]),l=o;return a}class Yu{static area(e){const t=e.length;let r=0;for(let a=t-1,o=0;o<t;a=o++)r+=e[a].x*e[o].y-e[o].x*e[a].y;return r*.5}static isClockWise(e){return Yu.area(e)<0}static triangulateShape(e,t){const r=[],a=[],o=[];A3(e),M3(r,e);let l=e.length;t.forEach(A3);for(let u=0;u<t.length;u++)a.push(l),l+=t[u].length,M3(r,t[u]);const s=zae.triangulate(r,a);for(let u=0;u<s.length;u+=3)o.push(s.slice(u,u+3));return o}}function A3(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function M3(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class oA extends ni{constructor(e=new xm([new Tt(.5,.5),new Tt(-.5,.5),new Tt(-.5,-.5),new Tt(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,a=[],o=[];for(let s=0,u=e.length;s<u;s++){const f=e[s];l(f)}this.setAttribute("position",new vn(a,3)),this.setAttribute("uv",new vn(o,2)),this.computeVertexNormals();function l(s){const u=[],f=t.curveSegments!==void 0?t.curveSegments:12,m=t.steps!==void 0?t.steps:1,y=t.depth!==void 0?t.depth:1;let _=t.bevelEnabled!==void 0?t.bevelEnabled:!0,E=t.bevelThickness!==void 0?t.bevelThickness:.2,c=t.bevelSize!==void 0?t.bevelSize:E-.1,p=t.bevelOffset!==void 0?t.bevelOffset:0,g=t.bevelSegments!==void 0?t.bevelSegments:3;const b=t.extrudePath,C=t.UVGenerator!==void 0?t.UVGenerator:eoe;let T,M=!1,O,B,P,F;b&&(T=b.getSpacedPoints(m),M=!0,_=!1,O=b.computeFrenetFrames(m,!1),B=new be,P=new be,F=new be),_||(g=0,E=0,c=0,p=0);const U=s.extractPoints(f);let z=U.shape;const $=U.holes;if(!Yu.isClockWise(z)){z=z.reverse();for(let Be=0,xe=$.length;Be<xe;Be++){const re=$[Be];Yu.isClockWise(re)&&($[Be]=re.reverse())}}const W=Yu.triangulateShape(z,$),Q=z;for(let Be=0,xe=$.length;Be<xe;Be++){const re=$[Be];z=z.concat(re)}function ae(Be,xe,re){return xe||console.error("THREE.ExtrudeGeometry: vec does not exist"),Be.clone().addScaledVector(xe,re)}const Y=z.length,K=W.length;function ee(Be,xe,re){let Fe,Ie,qe;const $e=Be.x-xe.x,ct=Be.y-xe.y,st=re.x-Be.x,ce=re.y-Be.y,oe=$e*$e+ct*ct,Ee=$e*ce-ct*st;if(Math.abs(Ee)>Number.EPSILON){const De=Math.sqrt(oe),Ke=Math.sqrt(st*st+ce*ce),He=xe.x-ct/De,gt=xe.y+$e/De,lt=re.x-ce/Ke,pt=re.y+st/Ke,It=((lt-He)*ce-(pt-gt)*st)/($e*ce-ct*st);Fe=He+$e*It-Be.x,Ie=gt+ct*It-Be.y;const ot=Fe*Fe+Ie*Ie;if(ot<=2)return new Tt(Fe,Ie);qe=Math.sqrt(ot/2)}else{let De=!1;$e>Number.EPSILON?st>Number.EPSILON&&(De=!0):$e<-Number.EPSILON?st<-Number.EPSILON&&(De=!0):Math.sign(ct)===Math.sign(ce)&&(De=!0),De?(Fe=-ct,Ie=$e,qe=Math.sqrt(oe)):(Fe=$e,Ie=ct,qe=Math.sqrt(oe/2))}return new Tt(Fe/qe,Ie/qe)}const de=[];for(let Be=0,xe=Q.length,re=xe-1,Fe=Be+1;Be<xe;Be++,re++,Fe++)re===xe&&(re=0),Fe===xe&&(Fe=0),de[Be]=ee(Q[Be],Q[re],Q[Fe]);const q=[];let ie,he=de.concat();for(let Be=0,xe=$.length;Be<xe;Be++){const re=$[Be];ie=[];for(let Fe=0,Ie=re.length,qe=Ie-1,$e=Fe+1;Fe<Ie;Fe++,qe++,$e++)qe===Ie&&(qe=0),$e===Ie&&($e=0),ie[Fe]=ee(re[Fe],re[qe],re[$e]);q.push(ie),he=he.concat(ie)}for(let Be=0;Be<g;Be++){const xe=Be/g,re=E*Math.cos(xe*Math.PI/2),Fe=c*Math.sin(xe*Math.PI/2)+p;for(let Ie=0,qe=Q.length;Ie<qe;Ie++){const $e=ae(Q[Ie],de[Ie],Fe);Oe($e.x,$e.y,-re)}for(let Ie=0,qe=$.length;Ie<qe;Ie++){const $e=$[Ie];ie=q[Ie];for(let ct=0,st=$e.length;ct<st;ct++){const ce=ae($e[ct],ie[ct],Fe);Oe(ce.x,ce.y,-re)}}}const fe=c+p;for(let Be=0;Be<Y;Be++){const xe=_?ae(z[Be],he[Be],fe):z[Be];M?(P.copy(O.normals[0]).multiplyScalar(xe.x),B.copy(O.binormals[0]).multiplyScalar(xe.y),F.copy(T[0]).add(P).add(B),Oe(F.x,F.y,F.z)):Oe(xe.x,xe.y,0)}for(let Be=1;Be<=m;Be++)for(let xe=0;xe<Y;xe++){const re=_?ae(z[xe],he[xe],fe):z[xe];M?(P.copy(O.normals[Be]).multiplyScalar(re.x),B.copy(O.binormals[Be]).multiplyScalar(re.y),F.copy(T[Be]).add(P).add(B),Oe(F.x,F.y,F.z)):Oe(re.x,re.y,y/m*Be)}for(let Be=g-1;Be>=0;Be--){const xe=Be/g,re=E*Math.cos(xe*Math.PI/2),Fe=c*Math.sin(xe*Math.PI/2)+p;for(let Ie=0,qe=Q.length;Ie<qe;Ie++){const $e=ae(Q[Ie],de[Ie],Fe);Oe($e.x,$e.y,y+re)}for(let Ie=0,qe=$.length;Ie<qe;Ie++){const $e=$[Ie];ie=q[Ie];for(let ct=0,st=$e.length;ct<st;ct++){const ce=ae($e[ct],ie[ct],Fe);M?Oe(ce.x,ce.y+T[m-1].y,T[m-1].x+re):Oe(ce.x,ce.y,y+re)}}}Z(),pe();function Z(){const Be=a.length/3;if(_){let xe=0,re=Y*xe;for(let Fe=0;Fe<K;Fe++){const Ie=W[Fe];we(Ie[2]+re,Ie[1]+re,Ie[0]+re)}xe=m+g*2,re=Y*xe;for(let Fe=0;Fe<K;Fe++){const Ie=W[Fe];we(Ie[0]+re,Ie[1]+re,Ie[2]+re)}}else{for(let xe=0;xe<K;xe++){const re=W[xe];we(re[2],re[1],re[0])}for(let xe=0;xe<K;xe++){const re=W[xe];we(re[0]+Y*m,re[1]+Y*m,re[2]+Y*m)}}r.addGroup(Be,a.length/3-Be,0)}function pe(){const Be=a.length/3;let xe=0;_e(Q,xe),xe+=Q.length;for(let re=0,Fe=$.length;re<Fe;re++){const Ie=$[re];_e(Ie,xe),xe+=Ie.length}r.addGroup(Be,a.length/3-Be,1)}function _e(Be,xe){let re=Be.length;for(;--re>=0;){const Fe=re;let Ie=re-1;Ie<0&&(Ie=Be.length-1);for(let qe=0,$e=m+g*2;qe<$e;qe++){const ct=Y*qe,st=Y*(qe+1),ce=xe+Fe+ct,oe=xe+Ie+ct,Ee=xe+Ie+st,De=xe+Fe+st;Te(ce,oe,Ee,De)}}}function Oe(Be,xe,re){u.push(Be),u.push(xe),u.push(re)}function we(Be,xe,re){ze(Be),ze(xe),ze(re);const Fe=a.length/3,Ie=C.generateTopUV(r,a,Fe-3,Fe-2,Fe-1);yt(Ie[0]),yt(Ie[1]),yt(Ie[2])}function Te(Be,xe,re,Fe){ze(Be),ze(xe),ze(Fe),ze(xe),ze(re),ze(Fe);const Ie=a.length/3,qe=C.generateSideWallUV(r,a,Ie-6,Ie-3,Ie-2,Ie-1);yt(qe[0]),yt(qe[1]),yt(qe[3]),yt(qe[1]),yt(qe[2]),yt(qe[3])}function ze(Be){a.push(u[Be*3+0]),a.push(u[Be*3+1]),a.push(u[Be*3+2])}function yt(Be){o.push(Be.x),o.push(Be.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return toe(t,r,e)}static fromJSON(e,t){const r=[];for(let o=0,l=e.shapes.length;o<l;o++){const s=t[e.shapes[o]];r.push(s)}const a=e.options.extrudePath;return a!==void 0&&(e.options.extrudePath=new DE[a.type]().fromJSON(a)),new oA(r,e.options)}}const eoe={generateTopUV:function(n,e,t,r,a){const o=e[t*3],l=e[t*3+1],s=e[r*3],u=e[r*3+1],f=e[a*3],m=e[a*3+1];return[new Tt(o,l),new Tt(s,u),new Tt(f,m)]},generateSideWallUV:function(n,e,t,r,a,o){const l=e[t*3],s=e[t*3+1],u=e[t*3+2],f=e[r*3],m=e[r*3+1],y=e[r*3+2],_=e[a*3],E=e[a*3+1],c=e[a*3+2],p=e[o*3],g=e[o*3+1],b=e[o*3+2];return Math.abs(s-m)<Math.abs(l-f)?[new Tt(l,1-u),new Tt(f,1-y),new Tt(_,1-c),new Tt(p,1-b)]:[new Tt(s,1-u),new Tt(m,1-y),new Tt(E,1-c),new Tt(g,1-b)]}};function toe(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,a=n.length;r<a;r++){const o=n[r];t.shapes.push(o.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class sA extends Vh{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,a=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(a,o,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new sA(e.radius,e.detail)}}class VS extends Vh{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],a=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,a,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new VS(e.radius,e.detail)}}class L0 extends ni{constructor(e=1,t=1,r=1,a=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:a};const o=e/2,l=t/2,s=Math.floor(r),u=Math.floor(a),f=s+1,m=u+1,y=e/s,_=t/u,E=[],c=[],p=[],g=[];for(let b=0;b<m;b++){const C=b*_-l;for(let T=0;T<f;T++){const M=T*y-o;c.push(M,-C,0),p.push(0,0,1),g.push(T/s),g.push(1-b/u)}}for(let b=0;b<u;b++)for(let C=0;C<s;C++){const T=C+f*b,M=C+f*(b+1),O=C+1+f*(b+1),B=C+1+f*b;E.push(T,M,B),E.push(M,O,B)}this.setIndex(E),this.setAttribute("position",new vn(c,3)),this.setAttribute("normal",new vn(p,3)),this.setAttribute("uv",new vn(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new L0(e.width,e.height,e.widthSegments,e.heightSegments)}}class lA extends ni{constructor(e=.5,t=1,r=32,a=1,o=0,l=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:a,thetaStart:o,thetaLength:l},r=Math.max(3,r),a=Math.max(1,a);const s=[],u=[],f=[],m=[];let y=e;const _=(t-e)/a,E=new be,c=new Tt;for(let p=0;p<=a;p++){for(let g=0;g<=r;g++){const b=o+g/r*l;E.x=y*Math.cos(b),E.y=y*Math.sin(b),u.push(E.x,E.y,E.z),f.push(0,0,1),c.x=(E.x/t+1)/2,c.y=(E.y/t+1)/2,m.push(c.x,c.y)}y+=_}for(let p=0;p<a;p++){const g=p*(r+1);for(let b=0;b<r;b++){const C=b+g,T=C,M=C+r+1,O=C+r+2,B=C+1;s.push(T,M,B),s.push(M,O,B)}}this.setIndex(s),this.setAttribute("position",new vn(u,3)),this.setAttribute("normal",new vn(f,3)),this.setAttribute("uv",new vn(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new lA(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class cA extends ni{constructor(e=new xm([new Tt(0,.5),new Tt(-.5,-.5),new Tt(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],a=[],o=[],l=[];let s=0,u=0;if(Array.isArray(e)===!1)f(e);else for(let m=0;m<e.length;m++)f(e[m]),this.addGroup(s,u,m),s+=u,u=0;this.setIndex(r),this.setAttribute("position",new vn(a,3)),this.setAttribute("normal",new vn(o,3)),this.setAttribute("uv",new vn(l,2));function f(m){const y=a.length/3,_=m.extractPoints(t);let E=_.shape;const c=_.holes;Yu.isClockWise(E)===!1&&(E=E.reverse());for(let g=0,b=c.length;g<b;g++){const C=c[g];Yu.isClockWise(C)===!0&&(c[g]=C.reverse())}const p=Yu.triangulateShape(E,c);for(let g=0,b=c.length;g<b;g++){const C=c[g];E=E.concat(C)}for(let g=0,b=E.length;g<b;g++){const C=E[g];a.push(C.x,C.y,0),o.push(0,0,1),l.push(C.x,C.y)}for(let g=0,b=p.length;g<b;g++){const C=p[g],T=C[0]+y,M=C[1]+y,O=C[2]+y;r.push(T,M,O),u+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return noe(t,e)}static fromJSON(e,t){const r=[];for(let a=0,o=e.shapes.length;a<o;a++){const l=t[e.shapes[a]];r.push(l)}return new cA(r,e.curveSegments)}}function noe(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const a=n[t];e.shapes.push(a.uuid)}else e.shapes.push(n.uuid);return e}class jS extends ni{constructor(e=1,t=32,r=16,a=0,o=Math.PI*2,l=0,s=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:a,phiLength:o,thetaStart:l,thetaLength:s},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const u=Math.min(l+s,Math.PI);let f=0;const m=[],y=new be,_=new be,E=[],c=[],p=[],g=[];for(let b=0;b<=r;b++){const C=[],T=b/r;let M=0;b===0&&l===0?M=.5/t:b===r&&u===Math.PI&&(M=-.5/t);for(let O=0;O<=t;O++){const B=O/t;y.x=-e*Math.cos(a+B*o)*Math.sin(l+T*s),y.y=e*Math.cos(l+T*s),y.z=e*Math.sin(a+B*o)*Math.sin(l+T*s),c.push(y.x,y.y,y.z),_.copy(y).normalize(),p.push(_.x,_.y,_.z),g.push(B+M,1-T),C.push(f++)}m.push(C)}for(let b=0;b<r;b++)for(let C=0;C<t;C++){const T=m[b][C+1],M=m[b][C],O=m[b+1][C],B=m[b+1][C+1];(b!==0||l>0)&&E.push(T,M,B),(b!==r-1||u<Math.PI)&&E.push(M,O,B)}this.setIndex(E),this.setAttribute("position",new vn(c,3)),this.setAttribute("normal",new vn(p,3)),this.setAttribute("uv",new vn(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new jS(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class uA extends Vh{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],a=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,a,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new uA(e.radius,e.detail)}}class dA extends ni{constructor(e=1,t=.4,r=12,a=48,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:a,arc:o},r=Math.floor(r),a=Math.floor(a);const l=[],s=[],u=[],f=[],m=new be,y=new be,_=new be;for(let E=0;E<=r;E++)for(let c=0;c<=a;c++){const p=c/a*o,g=E/r*Math.PI*2;y.x=(e+t*Math.cos(g))*Math.cos(p),y.y=(e+t*Math.cos(g))*Math.sin(p),y.z=t*Math.sin(g),s.push(y.x,y.y,y.z),m.x=e*Math.cos(p),m.y=e*Math.sin(p),_.subVectors(y,m).normalize(),u.push(_.x,_.y,_.z),f.push(c/a),f.push(E/r)}for(let E=1;E<=r;E++)for(let c=1;c<=a;c++){const p=(a+1)*E+c-1,g=(a+1)*(E-1)+c-1,b=(a+1)*(E-1)+c,C=(a+1)*E+c;l.push(p,g,C),l.push(g,b,C)}this.setIndex(l),this.setAttribute("position",new vn(s,3)),this.setAttribute("normal",new vn(u,3)),this.setAttribute("uv",new vn(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new dA(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class fA extends ni{constructor(e=1,t=.4,r=64,a=8,o=2,l=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:a,p:o,q:l},r=Math.floor(r),a=Math.floor(a);const s=[],u=[],f=[],m=[],y=new be,_=new be,E=new be,c=new be,p=new be,g=new be,b=new be;for(let T=0;T<=r;++T){const M=T/r*o*Math.PI*2;C(M,o,l,e,E),C(M+.01,o,l,e,c),g.subVectors(c,E),b.addVectors(c,E),p.crossVectors(g,b),b.crossVectors(p,g),p.normalize(),b.normalize();for(let O=0;O<=a;++O){const B=O/a*Math.PI*2,P=-t*Math.cos(B),F=t*Math.sin(B);y.x=E.x+(P*b.x+F*p.x),y.y=E.y+(P*b.y+F*p.y),y.z=E.z+(P*b.z+F*p.z),u.push(y.x,y.y,y.z),_.subVectors(y,E).normalize(),f.push(_.x,_.y,_.z),m.push(T/r),m.push(O/a)}}for(let T=1;T<=r;T++)for(let M=1;M<=a;M++){const O=(a+1)*(T-1)+(M-1),B=(a+1)*T+(M-1),P=(a+1)*T+M,F=(a+1)*(T-1)+M;s.push(O,B,F),s.push(B,P,F)}this.setIndex(s),this.setAttribute("position",new vn(u,3)),this.setAttribute("normal",new vn(f,3)),this.setAttribute("uv",new vn(m,2));function C(T,M,O,B,P){const F=Math.cos(T),U=Math.sin(T),z=O/M*T,$=Math.cos(z);P.x=B*(2+$)*.5*F,P.y=B*(2+$)*U*.5,P.z=B*Math.sin(z)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new fA(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class hA extends ni{constructor(e=new LI(new be(-1,-1,0),new be(-1,1,0),new be(1,1,0)),t=64,r=1,a=8,o=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:a,closed:o};const l=e.computeFrenetFrames(t,o);this.tangents=l.tangents,this.normals=l.normals,this.binormals=l.binormals;const s=new be,u=new be,f=new Tt;let m=new be;const y=[],_=[],E=[],c=[];p(),this.setIndex(c),this.setAttribute("position",new vn(y,3)),this.setAttribute("normal",new vn(_,3)),this.setAttribute("uv",new vn(E,2));function p(){for(let T=0;T<t;T++)g(T);g(o===!1?t:0),C(),b()}function g(T){m=e.getPointAt(T/t,m);const M=l.normals[T],O=l.binormals[T];for(let B=0;B<=a;B++){const P=B/a*Math.PI*2,F=Math.sin(P),U=-Math.cos(P);u.x=U*M.x+F*O.x,u.y=U*M.y+F*O.y,u.z=U*M.z+F*O.z,u.normalize(),_.push(u.x,u.y,u.z),s.x=m.x+r*u.x,s.y=m.y+r*u.y,s.z=m.z+r*u.z,y.push(s.x,s.y,s.z)}}function b(){for(let T=1;T<=t;T++)for(let M=1;M<=a;M++){const O=(a+1)*(T-1)+(M-1),B=(a+1)*T+(M-1),P=(a+1)*T+M,F=(a+1)*(T-1)+M;c.push(O,B,F),c.push(B,P,F)}}function C(){for(let T=0;T<=t;T++)for(let M=0;M<=a;M++)f.x=T/t,f.y=M/a,E.push(f.x,f.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new hA(new DE[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class l6 extends ni{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,a=new be,o=new be;if(e.index!==null){const l=e.attributes.position,s=e.index;let u=e.groups;u.length===0&&(u=[{start:0,count:s.count,materialIndex:0}]);for(let f=0,m=u.length;f<m;++f){const y=u[f],_=y.start,E=y.count;for(let c=_,p=_+E;c<p;c+=3)for(let g=0;g<3;g++){const b=s.getX(c+g),C=s.getX(c+(g+1)%3);a.fromBufferAttribute(l,b),o.fromBufferAttribute(l,C),T3(a,o,r)===!0&&(t.push(a.x,a.y,a.z),t.push(o.x,o.y,o.z))}}}else{const l=e.attributes.position;for(let s=0,u=l.count/3;s<u;s++)for(let f=0;f<3;f++){const m=3*s+f,y=3*s+(f+1)%3;a.fromBufferAttribute(l,m),o.fromBufferAttribute(l,y),T3(a,o,r)===!0&&(t.push(a.x,a.y,a.z),t.push(o.x,o.y,o.z))}}this.setAttribute("position",new vn(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function T3(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,a=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(a)===!0?!1:(t.add(r),t.add(a),!0)}var R3=Object.freeze({__proto__:null,BoxGeometry:km,CapsuleGeometry:tA,CircleGeometry:nA,ConeGeometry:iA,CylinderGeometry:P0,DodecahedronGeometry:rA,EdgesGeometry:r6,ExtrudeGeometry:oA,IcosahedronGeometry:sA,LatheGeometry:$S,OctahedronGeometry:VS,PlaneGeometry:L0,PolyhedronGeometry:Vh,RingGeometry:lA,ShapeGeometry:cA,SphereGeometry:jS,TetrahedronGeometry:uA,TorusGeometry:dA,TorusKnotGeometry:fA,TubeGeometry:hA,WireframeGeometry:l6});class c6 extends Pa{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new en(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class u6 extends Gc{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class WS extends Pa{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new en(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new en(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$h,this.normalScale=new Tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new rl,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class kl extends WS{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Tt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Jn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new en(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new en(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new en(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class d6 extends Pa{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new en(16777215),this.specular=new en(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new en(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$h,this.normalScale=new Tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new rl,this.combine=NS,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class f6 extends Pa{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new en(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new en(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$h,this.normalScale=new Tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class h6 extends Pa{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$h,this.normalScale=new Tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class p6 extends Pa{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new en(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new en(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$h,this.normalScale=new Tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new rl,this.combine=NS,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class zI extends Pa{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=R8,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class UI extends Pa{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class m6 extends Pa{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new en(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$h,this.normalScale=new Tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class g6 extends Ho{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function pm(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function v6(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function y6(n){function e(a,o){return n[a]-n[o]}const t=n.length,r=new Array(t);for(let a=0;a!==t;++a)r[a]=a;return r.sort(e),r}function P2(n,e,t){const r=n.length,a=new n.constructor(r);for(let o=0,l=0;l!==r;++o){const s=t[o]*e;for(let u=0;u!==e;++u)a[l++]=n[s+u]}return a}function FI(n,e,t,r){let a=1,o=n[0];for(;o!==void 0&&o[r]===void 0;)o=n[a++];if(o===void 0)return;let l=o[r];if(l!==void 0)if(Array.isArray(l))do l=o[r],l!==void 0&&(e.push(o.time),t.push(...l)),o=n[a++];while(o!==void 0);else if(l.toArray!==void 0)do l=o[r],l!==void 0&&(e.push(o.time),l.toArray(t,t.length)),o=n[a++];while(o!==void 0);else do l=o[r],l!==void 0&&(e.push(o.time),t.push(l)),o=n[a++];while(o!==void 0)}function ioe(n,e,t,r,a=30){const o=n.clone();o.name=e;const l=[];for(let u=0;u<o.tracks.length;++u){const f=o.tracks[u],m=f.getValueSize(),y=[],_=[];for(let E=0;E<f.times.length;++E){const c=f.times[E]*a;if(!(c<t||c>=r)){y.push(f.times[E]);for(let p=0;p<m;++p)_.push(f.values[E*m+p])}}y.length!==0&&(f.times=pm(y,f.times.constructor),f.values=pm(_,f.values.constructor),l.push(f))}o.tracks=l;let s=1/0;for(let u=0;u<o.tracks.length;++u)s>o.tracks[u].times[0]&&(s=o.tracks[u].times[0]);for(let u=0;u<o.tracks.length;++u)o.tracks[u].shift(-1*s);return o.resetDuration(),o}function roe(n,e=0,t=n,r=30){r<=0&&(r=30);const a=t.tracks.length,o=e/r;for(let l=0;l<a;++l){const s=t.tracks[l],u=s.ValueTypeName;if(u==="bool"||u==="string")continue;const f=n.tracks.find(function(b){return b.name===s.name&&b.ValueTypeName===u});if(f===void 0)continue;let m=0;const y=s.getValueSize();s.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=y/3);let _=0;const E=f.getValueSize();f.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(_=E/3);const c=s.times.length-1;let p;if(o<=s.times[0]){const b=m,C=y-m;p=s.values.slice(b,C)}else if(o>=s.times[c]){const b=c*y+m,C=b+y-m;p=s.values.slice(b,C)}else{const b=s.createInterpolant(),C=m,T=y-m;b.evaluate(o),p=b.resultBuffer.slice(C,T)}u==="quaternion"&&new eo().fromArray(p).normalize().conjugate().toArray(p);const g=f.times.length;for(let b=0;b<g;++b){const C=b*E+_;if(u==="quaternion")eo.multiplyQuaternionsFlat(f.values,C,p,0,f.values,C);else{const T=E-_*2;for(let M=0;M<T;++M)f.values[C+M]-=p[M]}}}return n.blendMode=yI,n}const aoe={convertArray:pm,isTypedArray:v6,getKeyframeOrder:y6,sortedArray:P2,flattenJSON:FI,subclip:ioe,makeClipAdditive:roe};class N0{constructor(e,t,r,a){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=a!==void 0?a:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,a=t[r],o=t[r-1];e:{t:{let l;n:{i:if(!(e<a)){for(let s=r+2;;){if(a===void 0){if(e<o)break i;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===s)break;if(o=a,a=t[++r],e<a)break t}l=t.length;break n}if(!(e>=o)){const s=t[1];e<s&&(r=2,o=s);for(let u=r-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===u)break;if(a=o,o=t[--r-1],e>=o)break t}l=r,r=0;break n}break e}for(;r<l;){const s=r+l>>>1;e<t[s]?l=s:r=s+1}if(a=t[r],o=t[r-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(a===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,o,a)}return this.interpolate_(r,o,e,a)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,a=this.valueSize,o=e*a;for(let l=0;l!==a;++l)t[l]=r[o+l];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class b6 extends N0{constructor(e,t,r,a){super(e,t,r,a),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:fm,endingEnd:fm}}intervalChanged_(e,t,r){const a=this.parameterPositions;let o=e-2,l=e+1,s=a[o],u=a[l];if(s===void 0)switch(this.getSettings_().endingStart){case hm:o=e,s=2*t-r;break;case aS:o=a.length-2,s=t+a[o]-a[o+1];break;default:o=e,s=r}if(u===void 0)switch(this.getSettings_().endingEnd){case hm:l=e,u=2*r-t;break;case aS:l=1,u=r+a[1]-a[0];break;default:l=e-1,u=t}const f=(r-t)*.5,m=this.valueSize;this._weightPrev=f/(t-s),this._weightNext=f/(u-r),this._offsetPrev=o*m,this._offsetNext=l*m}interpolate_(e,t,r,a){const o=this.resultBuffer,l=this.sampleValues,s=this.valueSize,u=e*s,f=u-s,m=this._offsetPrev,y=this._offsetNext,_=this._weightPrev,E=this._weightNext,c=(r-t)/(a-t),p=c*c,g=p*c,b=-_*g+2*_*p-_*c,C=(1+_)*g+(-1.5-2*_)*p+(-.5+_)*c+1,T=(-1-E)*g+(1.5+E)*p+.5*c,M=E*g-E*p;for(let O=0;O!==s;++O)o[O]=b*l[m+O]+C*l[f+O]+T*l[u+O]+M*l[y+O];return o}}class HI extends N0{constructor(e,t,r,a){super(e,t,r,a)}interpolate_(e,t,r,a){const o=this.resultBuffer,l=this.sampleValues,s=this.valueSize,u=e*s,f=u-s,m=(r-t)/(a-t),y=1-m;for(let _=0;_!==s;++_)o[_]=l[f+_]*y+l[u+_]*m;return o}}class S6 extends N0{constructor(e,t,r,a){super(e,t,r,a)}interpolate_(e){return this.copySampleValue_(e-1)}}class Wc{constructor(e,t,r,a){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=pm(t,this.TimeBufferType),this.values=pm(r,this.ValueBufferType),this.setInterpolation(a||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:pm(e.times,Array),values:pm(e.values,Array)};const a=e.getInterpolation();a!==e.DefaultInterpolation&&(r.interpolation=a)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new S6(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new HI(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new b6(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case h0:t=this.InterpolantFactoryMethodDiscrete;break;case p0:t=this.InterpolantFactoryMethodLinear;break;case $C:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return h0;case this.InterpolantFactoryMethodLinear:return p0;case this.InterpolantFactoryMethodSmooth:return $C}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,a=t.length;r!==a;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,a=t.length;r!==a;++r)t[r]*=e}return this}trim(e,t){const r=this.times,a=r.length;let o=0,l=a-1;for(;o!==a&&r[o]<e;)++o;for(;l!==-1&&r[l]>t;)--l;if(++l,o!==0||l!==a){o>=l&&(l=Math.max(l,1),o=l-1);const s=this.getValueSize();this.times=r.slice(o,l),this.values=this.values.slice(o*s,l*s)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,a=this.values,o=r.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let l=null;for(let s=0;s!==o;s++){const u=r[s];if(typeof u=="number"&&isNaN(u)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,s,u),e=!1;break}if(l!==null&&l>u){console.error("THREE.KeyframeTrack: Out of order keys.",this,s,u,l),e=!1;break}l=u}if(a!==void 0&&v6(a))for(let s=0,u=a.length;s!==u;++s){const f=a[s];if(isNaN(f)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,f),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),r=this.getValueSize(),a=this.getInterpolation()===$C,o=e.length-1;let l=1;for(let s=1;s<o;++s){let u=!1;const f=e[s],m=e[s+1];if(f!==m&&(s!==1||f!==e[0]))if(a)u=!0;else{const y=s*r,_=y-r,E=y+r;for(let c=0;c!==r;++c){const p=t[y+c];if(p!==t[_+c]||p!==t[E+c]){u=!0;break}}}if(u){if(s!==l){e[l]=e[s];const y=s*r,_=l*r;for(let E=0;E!==r;++E)t[_+E]=t[y+E]}++l}}if(o>0){e[l]=e[o];for(let s=o*r,u=l*r,f=0;f!==r;++f)t[u+f]=t[s+f];++l}return l!==e.length?(this.times=e.slice(0,l),this.values=t.slice(0,l*r)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),r=this.constructor,a=new r(this.name,e,t);return a.createInterpolant=this.createInterpolant,a}}Wc.prototype.TimeBufferType=Float32Array;Wc.prototype.ValueBufferType=Float32Array;Wc.prototype.DefaultInterpolation=p0;class $m extends Wc{constructor(e,t,r){super(e,t,r)}}$m.prototype.ValueTypeName="bool";$m.prototype.ValueBufferType=Array;$m.prototype.DefaultInterpolation=h0;$m.prototype.InterpolantFactoryMethodLinear=void 0;$m.prototype.InterpolantFactoryMethodSmooth=void 0;class GI extends Wc{}GI.prototype.ValueTypeName="color";class Rm extends Wc{}Rm.prototype.ValueTypeName="number";class _6 extends N0{constructor(e,t,r,a){super(e,t,r,a)}interpolate_(e,t,r,a){const o=this.resultBuffer,l=this.sampleValues,s=this.valueSize,u=(r-t)/(a-t);let f=e*s;for(let m=f+s;f!==m;f+=4)eo.slerpFlat(o,0,l,f-s,l,f,u);return o}}class Om extends Wc{InterpolantFactoryMethodLinear(e){return new _6(this.times,this.values,this.getValueSize(),e)}}Om.prototype.ValueTypeName="quaternion";Om.prototype.InterpolantFactoryMethodSmooth=void 0;class Vm extends Wc{constructor(e,t,r){super(e,t,r)}}Vm.prototype.ValueTypeName="string";Vm.prototype.ValueBufferType=Array;Vm.prototype.DefaultInterpolation=h0;Vm.prototype.InterpolantFactoryMethodLinear=void 0;Vm.prototype.InterpolantFactoryMethodSmooth=void 0;class Im extends Wc{}Im.prototype.ValueTypeName="vector";class y0{constructor(e="",t=-1,r=[],a=jw){this.name=e,this.tracks=r,this.duration=t,this.blendMode=a,this.uuid=nl(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,a=1/(e.fps||1);for(let l=0,s=r.length;l!==s;++l)t.push(soe(r[l]).scale(a));const o=new this(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){const t=[],r=e.tracks,a={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,l=r.length;o!==l;++o)t.push(Wc.toJSON(r[o]));return a}static CreateFromMorphTargetSequence(e,t,r,a){const o=t.length,l=[];for(let s=0;s<o;s++){let u=[],f=[];u.push((s+o-1)%o,s,(s+1)%o),f.push(0,1,0);const m=y6(u);u=P2(u,1,m),f=P2(f,1,m),!a&&u[0]===0&&(u.push(o),f.push(f[0])),l.push(new Rm(".morphTargetInfluences["+t[s].name+"]",u,f).scale(1/r))}return new this(e,-1,l)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const a=e;r=a.geometry&&a.geometry.animations||a.animations}for(let a=0;a<r.length;a++)if(r[a].name===t)return r[a];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const a={},o=/^([\w-]*?)([\d]+)$/;for(let s=0,u=e.length;s<u;s++){const f=e[s],m=f.name.match(o);if(m&&m.length>1){const y=m[1];let _=a[y];_||(a[y]=_=[]),_.push(f)}}const l=[];for(const s in a)l.push(this.CreateFromMorphTargetSequence(s,a[s],t,r));return l}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(y,_,E,c,p){if(E.length!==0){const g=[],b=[];FI(E,g,b,c),g.length!==0&&p.push(new y(_,g,b))}},a=[],o=e.name||"default",l=e.fps||30,s=e.blendMode;let u=e.length||-1;const f=e.hierarchy||[];for(let y=0;y<f.length;y++){const _=f[y].keys;if(!(!_||_.length===0))if(_[0].morphTargets){const E={};let c;for(c=0;c<_.length;c++)if(_[c].morphTargets)for(let p=0;p<_[c].morphTargets.length;p++)E[_[c].morphTargets[p]]=-1;for(const p in E){const g=[],b=[];for(let C=0;C!==_[c].morphTargets.length;++C){const T=_[c];g.push(T.time),b.push(T.morphTarget===p?1:0)}a.push(new Rm(".morphTargetInfluence["+p+"]",g,b))}u=E.length*l}else{const E=".bones["+t[y].name+"]";r(Im,E+".position",_,"pos",a),r(Om,E+".quaternion",_,"rot",a),r(Im,E+".scale",_,"scl",a)}}return a.length===0?null:new this(o,u,a,s)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,a=e.length;r!==a;++r){const o=this.tracks[r];t=Math.max(t,o.times[o.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function ooe(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Rm;case"vector":case"vector2":case"vector3":case"vector4":return Im;case"color":return GI;case"quaternion":return Om;case"bool":case"boolean":return $m;case"string":return Vm}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function soe(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=ooe(n.type);if(n.times===void 0){const t=[],r=[];FI(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const rf={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class kI{constructor(e,t,r){const a=this;let o=!1,l=0,s=0,u;const f=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(m){s++,o===!1&&a.onStart!==void 0&&a.onStart(m,l,s),o=!0},this.itemEnd=function(m){l++,a.onProgress!==void 0&&a.onProgress(m,l,s),l===s&&(o=!1,a.onLoad!==void 0&&a.onLoad())},this.itemError=function(m){a.onError!==void 0&&a.onError(m)},this.resolveURL=function(m){return u?u(m):m},this.setURLModifier=function(m){return u=m,this},this.addHandler=function(m,y){return f.push(m,y),this},this.removeHandler=function(m){const y=f.indexOf(m);return y!==-1&&f.splice(y,2),this},this.getHandler=function(m){for(let y=0,_=f.length;y<_;y+=2){const E=f[y],c=f[y+1];if(E.global&&(E.lastIndex=0),E.test(m))return c}return null}}}const x6=new kI;class Go{constructor(e){this.manager=e!==void 0?e:x6,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(a,o){r.load(e,a,t,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Go.DEFAULT_MATERIAL_NAME="__DEFAULT";const Fd={};class loe extends Error{constructor(e,t){super(e),this.response=t}}class al extends Go{constructor(e){super(e)}load(e,t,r,a){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=rf.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(o),this.manager.itemEnd(e)},0),o;if(Fd[e]!==void 0){Fd[e].push({onLoad:t,onProgress:r,onError:a});return}Fd[e]=[],Fd[e].push({onLoad:t,onProgress:r,onError:a});const l=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,u=this.responseType;fetch(l).then(f=>{if(f.status===200||f.status===0){if(f.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||f.body===void 0||f.body.getReader===void 0)return f;const m=Fd[e],y=f.body.getReader(),_=f.headers.get("X-File-Size")||f.headers.get("Content-Length"),E=_?parseInt(_):0,c=E!==0;let p=0;const g=new ReadableStream({start(b){C();function C(){y.read().then(({done:T,value:M})=>{if(T)b.close();else{p+=M.byteLength;const O=new ProgressEvent("progress",{lengthComputable:c,loaded:p,total:E});for(let B=0,P=m.length;B<P;B++){const F=m[B];F.onProgress&&F.onProgress(O)}b.enqueue(M),C()}},T=>{b.error(T)})}}});return new Response(g)}else throw new loe(`fetch for "${f.url}" responded with ${f.status}: ${f.statusText}`,f)}).then(f=>{switch(u){case"arraybuffer":return f.arrayBuffer();case"blob":return f.blob();case"document":return f.text().then(m=>new DOMParser().parseFromString(m,s));case"json":return f.json();default:if(s===void 0)return f.text();{const y=/charset="?([^;"\s]*)"?/i.exec(s),_=y&&y[1]?y[1].toLowerCase():void 0,E=new TextDecoder(_);return f.arrayBuffer().then(c=>E.decode(c))}}}).then(f=>{rf.add(e,f);const m=Fd[e];delete Fd[e];for(let y=0,_=m.length;y<_;y++){const E=m[y];E.onLoad&&E.onLoad(f)}}).catch(f=>{const m=Fd[e];if(m===void 0)throw this.manager.itemError(e),f;delete Fd[e];for(let y=0,_=m.length;y<_;y++){const E=m[y];E.onError&&E.onError(f)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class coe extends Go{constructor(e){super(e)}load(e,t,r,a){const o=this,l=new al(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(s){try{t(o.parse(JSON.parse(s)))}catch(u){a?a(u):console.error(u),o.manager.itemError(e)}},r,a)}parse(e){const t=[];for(let r=0;r<e.length;r++){const a=y0.parse(e[r]);t.push(a)}return t}}class uoe extends Go{constructor(e){super(e)}load(e,t,r,a){const o=this,l=[],s=new Zw,u=new al(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(o.withCredentials);let f=0;function m(y){u.load(e[y],function(_){const E=o.parse(_,!0);l[y]={width:E.width,height:E.height,format:E.format,mipmaps:E.mipmaps},f+=1,f===6&&(E.mipmapCount===1&&(s.minFilter=ma),s.image=l,s.format=E.format,s.needsUpdate=!0,t&&t(s))},r,a)}if(Array.isArray(e))for(let y=0,_=e.length;y<_;++y)m(y);else u.load(e,function(y){const _=o.parse(y,!0);if(_.isCubemap){const E=_.mipmaps.length/_.mipmapCount;for(let c=0;c<E;c++){l[c]={mipmaps:[]};for(let p=0;p<_.mipmapCount;p++)l[c].mipmaps.push(_.mipmaps[c*_.mipmapCount+p]),l[c].format=_.format,l[c].width=_.width,l[c].height=_.height}s.image=l}else s.image.width=_.width,s.image.height=_.height,s.mipmaps=_.mipmaps;_.mipmapCount===1&&(s.minFilter=ma),s.format=_.format,s.needsUpdate=!0,t&&t(s)},r,a);return s}}class pS extends Go{constructor(e){super(e)}load(e,t,r,a){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,l=rf.get(e);if(l!==void 0)return o.manager.itemStart(e),setTimeout(function(){t&&t(l),o.manager.itemEnd(e)},0),l;const s=cS("img");function u(){m(),rf.add(e,this),t&&t(this),o.manager.itemEnd(e)}function f(y){m(),a&&a(y),o.manager.itemError(e),o.manager.itemEnd(e)}function m(){s.removeEventListener("load",u,!1),s.removeEventListener("error",f,!1)}return s.addEventListener("load",u,!1),s.addEventListener("error",f,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(s.crossOrigin=this.crossOrigin),o.manager.itemStart(e),s.src=e,s}}class doe extends Go{constructor(e){super(e)}load(e,t,r,a){const o=new FS;o.colorSpace=Po;const l=new pS(this.manager);l.setCrossOrigin(this.crossOrigin),l.setPath(this.path);let s=0;function u(f){l.load(e[f],function(m){o.images[f]=m,s++,s===6&&(o.needsUpdate=!0,t&&t(o))},void 0,a)}for(let f=0;f<e.length;++f)u(f);return o}}class foe extends Go{constructor(e){super(e)}load(e,t,r,a){const o=this,l=new Xu,s=new al(this.manager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(o.withCredentials),s.load(e,function(u){let f;try{f=o.parse(u)}catch(m){if(a!==void 0)a(m);else{console.error(m);return}}f.image!==void 0?l.image=f.image:f.data!==void 0&&(l.image.width=f.width,l.image.height=f.height,l.image.data=f.data),l.wrapS=f.wrapS!==void 0?f.wrapS:el,l.wrapT=f.wrapT!==void 0?f.wrapT:el,l.magFilter=f.magFilter!==void 0?f.magFilter:ma,l.minFilter=f.minFilter!==void 0?f.minFilter:ma,l.anisotropy=f.anisotropy!==void 0?f.anisotropy:1,f.colorSpace!==void 0&&(l.colorSpace=f.colorSpace),f.flipY!==void 0&&(l.flipY=f.flipY),f.format!==void 0&&(l.format=f.format),f.type!==void 0&&(l.type=f.type),f.mipmaps!==void 0&&(l.mipmaps=f.mipmaps,l.minFilter=Fl),f.mipmapCount===1&&(l.minFilter=ma),f.generateMipmaps!==void 0&&(l.generateMipmaps=f.generateMipmaps),l.needsUpdate=!0,t&&t(l,f)},r,a),l}}class C6 extends Go{constructor(e){super(e)}load(e,t,r,a){const o=new Lr,l=new pS(this.manager);return l.setCrossOrigin(this.crossOrigin),l.setPath(this.path),l.load(e,function(s){o.image=s,o.needsUpdate=!0,t!==void 0&&t(o)},r,a),o}}class jh extends Di{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new en(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class E6 extends jh{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Di.DEFAULT_UP),this.updateMatrix(),this.groundColor=new en(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const wT=new Pn,O3=new be,I3=new be;class $I{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Tt(512,512),this.map=null,this.mapPass=null,this.matrix=new Pn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new kS,this._frameExtents=new Tt(1,1),this._viewportCount=1,this._viewports=[new Gi(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;O3.setFromMatrixPosition(e.matrixWorld),t.position.copy(O3),I3.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(I3),t.updateMatrixWorld(),wT.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(wT),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(wT)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class hoe extends $I{constructor(){super(new Xr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=m0*2*e.angle*this.focus,a=this.mapSize.width/this.mapSize.height,o=e.distance||t.far;(r!==t.fov||a!==t.aspect||o!==t.far)&&(t.fov=r,t.aspect=a,t.far=o,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class VI extends jh{constructor(e,t,r=0,a=Math.PI/3,o=0,l=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Di.DEFAULT_UP),this.updateMatrix(),this.target=new Di,this.distance=r,this.angle=a,this.penumbra=o,this.decay=l,this.map=null,this.shadow=new hoe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const B3=new Pn,eb=new be,AT=new be;class poe extends $I{constructor(){super(new Xr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Tt(4,2),this._viewportCount=6,this._viewports=[new Gi(2,1,1,1),new Gi(0,1,1,1),new Gi(3,1,1,1),new Gi(1,1,1,1),new Gi(3,0,1,1),new Gi(1,0,1,1)],this._cubeDirections=[new be(1,0,0),new be(-1,0,0),new be(0,0,1),new be(0,0,-1),new be(0,1,0),new be(0,-1,0)],this._cubeUps=[new be(0,1,0),new be(0,1,0),new be(0,1,0),new be(0,1,0),new be(0,0,1),new be(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,a=this.matrix,o=e.distance||r.far;o!==r.far&&(r.far=o,r.updateProjectionMatrix()),eb.setFromMatrixPosition(e.matrixWorld),r.position.copy(eb),AT.copy(r.position),AT.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(AT),r.updateMatrixWorld(),a.makeTranslation(-eb.x,-eb.y,-eb.z),B3.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(B3)}}class jI extends jh{constructor(e,t,r=0,a=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=a,this.shadow=new poe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class uf extends Yw{constructor(e=-1,t=1,r=1,a=-1,o=.1,l=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=a,this.near=o,this.far=l,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,a,o,l){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=a,this.view.width=o,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,a=(this.top+this.bottom)/2;let o=r-e,l=r+e,s=a+t,u=a-t;if(this.view!==null&&this.view.enabled){const f=(this.right-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=f*this.view.offsetX,l=o+f*this.view.width,s-=m*this.view.offsetY,u=s-m*this.view.height}this.projectionMatrix.makeOrthographic(o,l,s,u,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class moe extends $I{constructor(){super(new uf(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class WI extends jh{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Di.DEFAULT_UP),this.updateMatrix(),this.target=new Di,this.shadow=new moe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class w6 extends jh{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class A6 extends jh{constructor(e,t,r=10,a=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=a}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class M6{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new be)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,a=e.y,o=e.z,l=this.coefficients;return t.copy(l[0]).multiplyScalar(.282095),t.addScaledVector(l[1],.488603*a),t.addScaledVector(l[2],.488603*o),t.addScaledVector(l[3],.488603*r),t.addScaledVector(l[4],1.092548*(r*a)),t.addScaledVector(l[5],1.092548*(a*o)),t.addScaledVector(l[6],.315392*(3*o*o-1)),t.addScaledVector(l[7],1.092548*(r*o)),t.addScaledVector(l[8],.546274*(r*r-a*a)),t}getIrradianceAt(e,t){const r=e.x,a=e.y,o=e.z,l=this.coefficients;return t.copy(l[0]).multiplyScalar(.886227),t.addScaledVector(l[1],2*.511664*a),t.addScaledVector(l[2],2*.511664*o),t.addScaledVector(l[3],2*.511664*r),t.addScaledVector(l[4],2*.429043*r*a),t.addScaledVector(l[5],2*.429043*a*o),t.addScaledVector(l[6],.743125*o*o-.247708),t.addScaledVector(l[7],2*.429043*r*o),t.addScaledVector(l[8],.429043*(r*r-a*a)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let a=0;a<9;a++)r[a].fromArray(e,t+a*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let a=0;a<9;a++)r[a].toArray(e,t+a*3);return e}static getBasisAt(e,t){const r=e.x,a=e.y,o=e.z;t[0]=.282095,t[1]=.488603*a,t[2]=.488603*o,t[3]=.488603*r,t[4]=1.092548*r*a,t[5]=1.092548*a*o,t[6]=.315392*(3*o*o-1),t[7]=1.092548*r*o,t[8]=.546274*(r*r-a*a)}}class T6 extends jh{constructor(e=new M6,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class pA extends Go{constructor(e){super(e),this.textures={}}load(e,t,r,a){const o=this,l=new al(o.manager);l.setPath(o.path),l.setRequestHeader(o.requestHeader),l.setWithCredentials(o.withCredentials),l.load(e,function(s){try{t(o.parse(JSON.parse(s)))}catch(u){a?a(u):console.error(u),o.manager.itemError(e)}},r,a)}parse(e){const t=this.textures;function r(o){return t[o]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",o),t[o]}const a=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(a.uuid=e.uuid),e.name!==void 0&&(a.name=e.name),e.color!==void 0&&a.color!==void 0&&a.color.setHex(e.color),e.roughness!==void 0&&(a.roughness=e.roughness),e.metalness!==void 0&&(a.metalness=e.metalness),e.sheen!==void 0&&(a.sheen=e.sheen),e.sheenColor!==void 0&&(a.sheenColor=new en().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(a.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&a.emissive!==void 0&&a.emissive.setHex(e.emissive),e.specular!==void 0&&a.specular!==void 0&&a.specular.setHex(e.specular),e.specularIntensity!==void 0&&(a.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&a.specularColor!==void 0&&a.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(a.shininess=e.shininess),e.clearcoat!==void 0&&(a.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(a.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(a.dispersion=e.dispersion),e.iridescence!==void 0&&(a.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(a.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(a.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(a.transmission=e.transmission),e.thickness!==void 0&&(a.thickness=e.thickness),e.attenuationDistance!==void 0&&(a.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&a.attenuationColor!==void 0&&a.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(a.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(a.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(a.fog=e.fog),e.flatShading!==void 0&&(a.flatShading=e.flatShading),e.blending!==void 0&&(a.blending=e.blending),e.combine!==void 0&&(a.combine=e.combine),e.side!==void 0&&(a.side=e.side),e.shadowSide!==void 0&&(a.shadowSide=e.shadowSide),e.opacity!==void 0&&(a.opacity=e.opacity),e.transparent!==void 0&&(a.transparent=e.transparent),e.alphaTest!==void 0&&(a.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(a.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(a.depthFunc=e.depthFunc),e.depthTest!==void 0&&(a.depthTest=e.depthTest),e.depthWrite!==void 0&&(a.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(a.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(a.blendSrc=e.blendSrc),e.blendDst!==void 0&&(a.blendDst=e.blendDst),e.blendEquation!==void 0&&(a.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(a.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(a.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(a.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&a.blendColor!==void 0&&a.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(a.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(a.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(a.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(a.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(a.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(a.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(a.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(a.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(a.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(a.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(a.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(a.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(a.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(a.rotation=e.rotation),e.linewidth!==void 0&&(a.linewidth=e.linewidth),e.dashSize!==void 0&&(a.dashSize=e.dashSize),e.gapSize!==void 0&&(a.gapSize=e.gapSize),e.scale!==void 0&&(a.scale=e.scale),e.polygonOffset!==void 0&&(a.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(a.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(a.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(a.dithering=e.dithering),e.alphaToCoverage!==void 0&&(a.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(a.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(a.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(a.visible=e.visible),e.toneMapped!==void 0&&(a.toneMapped=e.toneMapped),e.userData!==void 0&&(a.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?a.vertexColors=e.vertexColors>0:a.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const o in e.uniforms){const l=e.uniforms[o];switch(a.uniforms[o]={},l.type){case"t":a.uniforms[o].value=r(l.value);break;case"c":a.uniforms[o].value=new en().setHex(l.value);break;case"v2":a.uniforms[o].value=new Tt().fromArray(l.value);break;case"v3":a.uniforms[o].value=new be().fromArray(l.value);break;case"v4":a.uniforms[o].value=new Gi().fromArray(l.value);break;case"m3":a.uniforms[o].value=new ti().fromArray(l.value);break;case"m4":a.uniforms[o].value=new Pn().fromArray(l.value);break;default:a.uniforms[o].value=l.value}}if(e.defines!==void 0&&(a.defines=e.defines),e.vertexShader!==void 0&&(a.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(a.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(a.glslVersion=e.glslVersion),e.extensions!==void 0)for(const o in e.extensions)a.extensions[o]=e.extensions[o];if(e.lights!==void 0&&(a.lights=e.lights),e.clipping!==void 0&&(a.clipping=e.clipping),e.size!==void 0&&(a.size=e.size),e.sizeAttenuation!==void 0&&(a.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(a.map=r(e.map)),e.matcap!==void 0&&(a.matcap=r(e.matcap)),e.alphaMap!==void 0&&(a.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(a.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(a.bumpScale=e.bumpScale),e.normalMap!==void 0&&(a.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(a.normalMapType=e.normalMapType),e.normalScale!==void 0){let o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),a.normalScale=new Tt().fromArray(o)}return e.displacementMap!==void 0&&(a.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(a.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(a.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(a.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(a.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(a.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(a.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(a.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(a.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(a.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(a.envMap=r(e.envMap)),e.envMapRotation!==void 0&&a.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(a.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(a.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(a.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(a.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(a.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(a.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(a.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(a.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(a.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(a.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(a.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(a.clearcoatNormalScale=new Tt().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(a.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(a.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(a.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(a.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(a.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(a.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(a.sheenRoughnessMap=r(e.sheenRoughnessMap)),a}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return pA.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:c6,SpriteMaterial:wI,RawShaderMaterial:u6,ShaderMaterial:Gc,PointsMaterial:Qw,MeshPhysicalMaterial:kl,MeshStandardMaterial:WS,MeshPhongMaterial:d6,MeshToonMaterial:f6,MeshNormalMaterial:h6,MeshLambertMaterial:p6,MeshDepthMaterial:zI,MeshDistanceMaterial:UI,MeshBasicMaterial:tl,MeshMatcapMaterial:m6,LineDashedMaterial:g6,LineBasicMaterial:Ho,Material:Pa};return new t[e]}}class Dh{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,a=e.length;r<a;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class R6 extends ni{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class O6 extends Go{constructor(e){super(e)}load(e,t,r,a){const o=this,l=new al(o.manager);l.setPath(o.path),l.setRequestHeader(o.requestHeader),l.setWithCredentials(o.withCredentials),l.load(e,function(s){try{t(o.parse(JSON.parse(s)))}catch(u){a?a(u):console.error(u),o.manager.itemError(e)}},r,a)}parse(e){const t={},r={};function a(E,c){if(t[c]!==void 0)return t[c];const g=E.interleavedBuffers[c],b=o(E,g.buffer),C=Pv(g.type,b),T=new HS(C,g.stride);return T.uuid=g.uuid,t[c]=T,T}function o(E,c){if(r[c]!==void 0)return r[c];const g=E.arrayBuffers[c],b=new Uint32Array(g).buffer;return r[c]=b,b}const l=e.isInstancedBufferGeometry?new R6:new ni,s=e.data.index;if(s!==void 0){const E=Pv(s.type,s.array);l.setIndex(new ki(E,1))}const u=e.data.attributes;for(const E in u){const c=u[E];let p;if(c.isInterleavedBufferAttribute){const g=a(e.data,c.data);p=new Gh(g,c.itemSize,c.offset,c.normalized)}else{const g=Pv(c.type,c.array),b=c.isInstancedBufferAttribute?Mm:ki;p=new b(g,c.itemSize,c.normalized)}c.name!==void 0&&(p.name=c.name),c.usage!==void 0&&p.setUsage(c.usage),l.setAttribute(E,p)}const f=e.data.morphAttributes;if(f)for(const E in f){const c=f[E],p=[];for(let g=0,b=c.length;g<b;g++){const C=c[g];let T;if(C.isInterleavedBufferAttribute){const M=a(e.data,C.data);T=new Gh(M,C.itemSize,C.offset,C.normalized)}else{const M=Pv(C.type,C.array);T=new ki(M,C.itemSize,C.normalized)}C.name!==void 0&&(T.name=C.name),p.push(T)}l.morphAttributes[E]=p}e.data.morphTargetsRelative&&(l.morphTargetsRelative=!0);const y=e.data.groups||e.data.drawcalls||e.data.offsets;if(y!==void 0)for(let E=0,c=y.length;E!==c;++E){const p=y[E];l.addGroup(p.start,p.count,p.materialIndex)}const _=e.data.boundingSphere;if(_!==void 0){const E=new be;_.center!==void 0&&E.fromArray(_.center),l.boundingSphere=new vo(E,_.radius)}return e.name&&(l.name=e.name),e.userData&&(l.userData=e.userData),l}}class goe extends Go{constructor(e){super(e)}load(e,t,r,a){const o=this,l=this.path===""?Dh.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||l;const s=new al(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(u){let f=null;try{f=JSON.parse(u)}catch(y){a!==void 0&&a(y),console.error("THREE:ObjectLoader: Can't parse "+e+".",y.message);return}const m=f.metadata;if(m===void 0||m.type===void 0||m.type.toLowerCase()==="geometry"){a!==void 0&&a(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}o.parse(f,t)},r,a)}async loadAsync(e,t){const r=this,a=this.path===""?Dh.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const o=new al(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);const l=await o.loadAsync(e,t),s=JSON.parse(l),u=s.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(s)}parse(e,t){const r=this.parseAnimations(e.animations),a=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,a),l=this.parseImages(e.images,function(){t!==void 0&&t(f)}),s=this.parseTextures(e.textures,l),u=this.parseMaterials(e.materials,s),f=this.parseObject(e.object,o,u,s,r),m=this.parseSkeletons(e.skeletons,f);if(this.bindSkeletons(f,m),this.bindLightTargets(f),t!==void 0){let y=!1;for(const _ in l)if(l[_].data instanceof HTMLImageElement){y=!0;break}y===!1&&t(f)}return f}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,r),o=await this.parseImagesAsync(e.images),l=this.parseTextures(e.textures,o),s=this.parseMaterials(e.materials,l),u=this.parseObject(e.object,a,s,l,t),f=this.parseSkeletons(e.skeletons,u);return this.bindSkeletons(u,f),this.bindLightTargets(u),u}parseShapes(e){const t={};if(e!==void 0)for(let r=0,a=e.length;r<a;r++){const o=new xm().fromJSON(e[r]);t[o.uuid]=o}return t}parseSkeletons(e,t){const r={},a={};if(t.traverse(function(o){o.isBone&&(a[o.uuid]=o)}),e!==void 0)for(let o=0,l=e.length;o<l;o++){const s=new GS().fromJSON(e[o],a);r[s.uuid]=s}return r}parseGeometries(e,t){const r={};if(e!==void 0){const a=new O6;for(let o=0,l=e.length;o<l;o++){let s;const u=e[o];switch(u.type){case"BufferGeometry":case"InstancedBufferGeometry":s=a.parse(u);break;default:u.type in R3?s=R3[u.type].fromJSON(u,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${u.type}"`)}s.uuid=u.uuid,u.name!==void 0&&(s.name=u.name),u.userData!==void 0&&(s.userData=u.userData),r[u.uuid]=s}}return r}parseMaterials(e,t){const r={},a={};if(e!==void 0){const o=new pA;o.setTextures(t);for(let l=0,s=e.length;l<s;l++){const u=e[l];r[u.uuid]===void 0&&(r[u.uuid]=o.parse(u)),a[u.uuid]=r[u.uuid]}}return a}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const a=e[r],o=y0.parse(a);t[o.uuid]=o}return t}parseImages(e,t){const r=this,a={};let o;function l(u){return r.manager.itemStart(u),o.load(u,function(){r.manager.itemEnd(u)},void 0,function(){r.manager.itemError(u),r.manager.itemEnd(u)})}function s(u){if(typeof u=="string"){const f=u,m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(f)?f:r.resourcePath+f;return l(m)}else return u.data?{data:Pv(u.type,u.data),width:u.width,height:u.height}:null}if(e!==void 0&&e.length>0){const u=new kI(t);o=new pS(u),o.setCrossOrigin(this.crossOrigin);for(let f=0,m=e.length;f<m;f++){const y=e[f],_=y.url;if(Array.isArray(_)){const E=[];for(let c=0,p=_.length;c<p;c++){const g=_[c],b=s(g);b!==null&&(b instanceof HTMLImageElement?E.push(b):E.push(new Xu(b.data,b.width,b.height)))}a[y.uuid]=new Rh(E)}else{const E=s(y.url);a[y.uuid]=new Rh(E)}}}return a}async parseImagesAsync(e){const t=this,r={};let a;async function o(l){if(typeof l=="string"){const s=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(s)?s:t.resourcePath+s;return await a.loadAsync(u)}else return l.data?{data:Pv(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){a=new pS(this.manager),a.setCrossOrigin(this.crossOrigin);for(let l=0,s=e.length;l<s;l++){const u=e[l],f=u.url;if(Array.isArray(f)){const m=[];for(let y=0,_=f.length;y<_;y++){const E=f[y],c=await o(E);c!==null&&(c instanceof HTMLImageElement?m.push(c):m.push(new Xu(c.data,c.width,c.height)))}r[u.uuid]=new Rh(m)}else{const m=await o(u.url);r[u.uuid]=new Rh(m)}}}return r}parseTextures(e,t){function r(o,l){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),l[o])}const a={};if(e!==void 0)for(let o=0,l=e.length;o<l;o++){const s=e[o];s.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),t[s.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",s.image);const u=t[s.image],f=u.data;let m;Array.isArray(f)?(m=new FS,f.length===6&&(m.needsUpdate=!0)):(f&&f.data?m=new Xu:m=new Lr,f&&(m.needsUpdate=!0)),m.source=u,m.uuid=s.uuid,s.name!==void 0&&(m.name=s.name),s.mapping!==void 0&&(m.mapping=r(s.mapping,voe)),s.channel!==void 0&&(m.channel=s.channel),s.offset!==void 0&&m.offset.fromArray(s.offset),s.repeat!==void 0&&m.repeat.fromArray(s.repeat),s.center!==void 0&&m.center.fromArray(s.center),s.rotation!==void 0&&(m.rotation=s.rotation),s.wrap!==void 0&&(m.wrapS=r(s.wrap[0],D3),m.wrapT=r(s.wrap[1],D3)),s.format!==void 0&&(m.format=s.format),s.internalFormat!==void 0&&(m.internalFormat=s.internalFormat),s.type!==void 0&&(m.type=s.type),s.colorSpace!==void 0&&(m.colorSpace=s.colorSpace),s.minFilter!==void 0&&(m.minFilter=r(s.minFilter,P3)),s.magFilter!==void 0&&(m.magFilter=r(s.magFilter,P3)),s.anisotropy!==void 0&&(m.anisotropy=s.anisotropy),s.flipY!==void 0&&(m.flipY=s.flipY),s.generateMipmaps!==void 0&&(m.generateMipmaps=s.generateMipmaps),s.premultiplyAlpha!==void 0&&(m.premultiplyAlpha=s.premultiplyAlpha),s.unpackAlignment!==void 0&&(m.unpackAlignment=s.unpackAlignment),s.compareFunction!==void 0&&(m.compareFunction=s.compareFunction),s.userData!==void 0&&(m.userData=s.userData),a[s.uuid]=m}return a}parseObject(e,t,r,a,o){let l;function s(_){return t[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",_),t[_]}function u(_){if(_!==void 0){if(Array.isArray(_)){const E=[];for(let c=0,p=_.length;c<p;c++){const g=_[c];r[g]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",g),E.push(r[g])}return E}return r[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_),r[_]}}function f(_){return a[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",_),a[_]}let m,y;switch(e.type){case"Scene":l=new EI,e.background!==void 0&&(Number.isInteger(e.background)?l.background=new en(e.background):l.background=f(e.background)),e.environment!==void 0&&(l.environment=f(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?l.fog=new Kw(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(l.fog=new qw(e.fog.color,e.fog.density)),e.fog.name!==""&&(l.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(l.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(l.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&l.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(l.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&l.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":l=new Xr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(l.focus=e.focus),e.zoom!==void 0&&(l.zoom=e.zoom),e.filmGauge!==void 0&&(l.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(l.filmOffset=e.filmOffset),e.view!==void 0&&(l.view=Object.assign({},e.view));break;case"OrthographicCamera":l=new uf(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(l.zoom=e.zoom),e.view!==void 0&&(l.view=Object.assign({},e.view));break;case"AmbientLight":l=new w6(e.color,e.intensity);break;case"DirectionalLight":l=new WI(e.color,e.intensity),l.target=e.target||"";break;case"PointLight":l=new jI(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":l=new A6(e.color,e.intensity,e.width,e.height);break;case"SpotLight":l=new VI(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),l.target=e.target||"";break;case"HemisphereLight":l=new E6(e.color,e.groundColor,e.intensity);break;case"LightProbe":l=new T6().fromJSON(e);break;case"SkinnedMesh":m=s(e.geometry),y=u(e.material),l=new AI(m,y),e.bindMode!==void 0&&(l.bindMode=e.bindMode),e.bindMatrix!==void 0&&l.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(l.skeleton=e.skeleton);break;case"Mesh":m=s(e.geometry),y=u(e.material),l=new ga(m,y);break;case"InstancedMesh":m=s(e.geometry),y=u(e.material);const _=e.count,E=e.instanceMatrix,c=e.instanceColor;l=new MI(m,y,_),l.instanceMatrix=new Mm(new Float32Array(E.array),16),c!==void 0&&(l.instanceColor=new Mm(new Float32Array(c.array),c.itemSize));break;case"BatchedMesh":m=s(e.geometry),y=u(e.material),l=new J8(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,y),l.geometry=m,l.perObjectFrustumCulled=e.perObjectFrustumCulled,l.sortObjects=e.sortObjects,l._drawRanges=e.drawRanges,l._reservedRanges=e.reservedRanges,l._visibility=e.visibility,l._active=e.active,l._bounds=e.bounds.map(p=>{const g=new go;g.min.fromArray(p.boxMin),g.max.fromArray(p.boxMax);const b=new vo;return b.radius=p.sphereRadius,b.center.fromArray(p.sphereCenter),{boxInitialized:p.boxInitialized,box:g,sphereInitialized:p.sphereInitialized,sphere:b}}),l._maxInstanceCount=e.maxInstanceCount,l._maxVertexCount=e.maxVertexCount,l._maxIndexCount=e.maxIndexCount,l._geometryInitialized=e.geometryInitialized,l._geometryCount=e.geometryCount,l._matricesTexture=f(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(l._colorsTexture=f(e.colorsTexture.uuid));break;case"LOD":l=new K8;break;case"Line":l=new vf(s(e.geometry),u(e.material));break;case"LineLoop":l=new TI(s(e.geometry),u(e.material));break;case"LineSegments":l=new Vc(s(e.geometry),u(e.material));break;case"PointCloud":case"Points":l=new RI(s(e.geometry),u(e.material));break;case"Sprite":l=new q8(u(e.material));break;case"Group":l=new nf;break;case"Bone":l=new Jw;break;default:l=new Di}if(l.uuid=e.uuid,e.name!==void 0&&(l.name=e.name),e.matrix!==void 0?(l.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(l.matrixAutoUpdate=e.matrixAutoUpdate),l.matrixAutoUpdate&&l.matrix.decompose(l.position,l.quaternion,l.scale)):(e.position!==void 0&&l.position.fromArray(e.position),e.rotation!==void 0&&l.rotation.fromArray(e.rotation),e.quaternion!==void 0&&l.quaternion.fromArray(e.quaternion),e.scale!==void 0&&l.scale.fromArray(e.scale)),e.up!==void 0&&l.up.fromArray(e.up),e.castShadow!==void 0&&(l.castShadow=e.castShadow),e.receiveShadow!==void 0&&(l.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(l.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(l.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(l.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(l.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&l.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(l.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(l.visible=e.visible),e.frustumCulled!==void 0&&(l.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(l.renderOrder=e.renderOrder),e.userData!==void 0&&(l.userData=e.userData),e.layers!==void 0&&(l.layers.mask=e.layers),e.children!==void 0){const _=e.children;for(let E=0;E<_.length;E++)l.add(this.parseObject(_[E],t,r,a,o))}if(e.animations!==void 0){const _=e.animations;for(let E=0;E<_.length;E++){const c=_[E];l.animations.push(o[c])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(l.autoUpdate=e.autoUpdate);const _=e.levels;for(let E=0;E<_.length;E++){const c=_[E],p=l.getObjectByProperty("uuid",c.object);p!==void 0&&l.addLevel(p,c.distance,c.hysteresis)}}return l}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const a=t[r.skeleton];a===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(a,r.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const r=t.target,a=e.getObjectByProperty("uuid",r);a!==void 0?t.target=a:t.target=new Di}})}}const voe={UVMapping:zw,CubeReflectionMapping:mf,CubeRefractionMapping:Uh,EquirectangularReflectionMapping:iS,EquirectangularRefractionMapping:rS,CubeUVReflectionMapping:B0},D3={RepeatWrapping:Fh,ClampToEdgeWrapping:el,MirroredRepeatWrapping:d0},P3={NearestFilter:Za,NearestMipmapNearestFilter:Uw,NearestMipmapLinearFilter:dm,LinearFilter:ma,LinearMipmapNearestFilter:qv,LinearMipmapLinearFilter:Fl};class I6 extends Go{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,a){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,l=rf.get(e);if(l!==void 0){if(o.manager.itemStart(e),l.then){l.then(f=>{t&&t(f),o.manager.itemEnd(e)}).catch(f=>{a&&a(f)});return}return setTimeout(function(){t&&t(l),o.manager.itemEnd(e)},0),l}const s={};s.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",s.headers=this.requestHeader;const u=fetch(e,s).then(function(f){return f.blob()}).then(function(f){return createImageBitmap(f,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(f){return rf.add(e,f),t&&t(f),o.manager.itemEnd(e),f}).catch(function(f){a&&a(f),rf.remove(e),o.manager.itemError(e),o.manager.itemEnd(e)});rf.add(e,u),o.manager.itemStart(e)}}let oC,XI=class{static getContext(){return oC===void 0&&(oC=new(window.AudioContext||window.webkitAudioContext)),oC}static setContext(e){oC=e}};class yoe extends Go{constructor(e){super(e)}load(e,t,r,a){const o=this,l=new al(this.manager);l.setResponseType("arraybuffer"),l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{const f=u.slice(0);XI.getContext().decodeAudioData(f,function(y){t(y)}).catch(s)}catch(f){s(f)}},r,a);function s(u){a?a(u):console.error(u),o.manager.itemError(e)}}}const L3=new Pn,N3=new Pn,Ip=new Pn;class boe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Xr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Xr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Ip.copy(e.projectionMatrix);const a=t.eyeSep/2,o=a*t.near/t.focus,l=t.near*Math.tan(_m*t.fov*.5)/t.zoom;let s,u;N3.elements[12]=-a,L3.elements[12]=a,s=-l*t.aspect+o,u=l*t.aspect+o,Ip.elements[0]=2*t.near/(u-s),Ip.elements[8]=(u+s)/(u-s),this.cameraL.projectionMatrix.copy(Ip),s=-l*t.aspect-o,u=l*t.aspect-o,Ip.elements[0]=2*t.near/(u-s),Ip.elements[8]=(u+s)/(u-s),this.cameraR.projectionMatrix.copy(Ip)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(N3),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(L3)}}class B6 extends Xr{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e,this.index=0}}class YI{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=z3(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=z3();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function z3(){return performance.now()}const Bp=new be,U3=new eo,Soe=new be,Dp=new be;class _oe extends Di{constructor(){super(),this.type="AudioListener",this.context=XI.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new YI}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Bp,U3,Soe),Dp.set(0,0,-1).applyQuaternion(U3),t.positionX){const a=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Bp.x,a),t.positionY.linearRampToValueAtTime(Bp.y,a),t.positionZ.linearRampToValueAtTime(Bp.z,a),t.forwardX.linearRampToValueAtTime(Dp.x,a),t.forwardY.linearRampToValueAtTime(Dp.y,a),t.forwardZ.linearRampToValueAtTime(Dp.z,a),t.upX.linearRampToValueAtTime(r.x,a),t.upY.linearRampToValueAtTime(r.y,a),t.upZ.linearRampToValueAtTime(r.z,a)}else t.setPosition(Bp.x,Bp.y,Bp.z),t.setOrientation(Dp.x,Dp.y,Dp.z,r.x,r.y,r.z)}}class D6 extends Di{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Pp=new be,F3=new eo,xoe=new be,Lp=new be;class Coe extends D6{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Pp,F3,xoe),Lp.set(0,0,1).applyQuaternion(F3);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Pp.x,r),t.positionY.linearRampToValueAtTime(Pp.y,r),t.positionZ.linearRampToValueAtTime(Pp.z,r),t.orientationX.linearRampToValueAtTime(Lp.x,r),t.orientationY.linearRampToValueAtTime(Lp.y,r),t.orientationZ.linearRampToValueAtTime(Lp.z,r)}else t.setPosition(Pp.x,Pp.y,Pp.z),t.setOrientation(Lp.x,Lp.y,Lp.z)}}class Eoe{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class P6{constructor(e,t,r){this.binding=e,this.valueSize=r;let a,o,l;switch(t){case"quaternion":a=this._slerp,o=this._slerpAdditive,l=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":a=this._select,o=this._select,l=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:a=this._lerp,o=this._lerpAdditive,l=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=a,this._mixBufferRegionAdditive=o,this._setIdentity=l,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,a=this.valueSize,o=e*a+a;let l=this.cumulativeWeight;if(l===0){for(let s=0;s!==a;++s)r[o+s]=r[s];l=t}else{l+=t;const s=t/l;this._mixBufferRegion(r,o,0,s,a)}this.cumulativeWeight=l}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,a=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,a,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,a=e*t+t,o=this.cumulativeWeight,l=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const u=t*this._origIndex;this._mixBufferRegion(r,a,u,1-o,t)}l>0&&this._mixBufferRegionAdditive(r,a,this._addIndex*t,1,t);for(let u=t,f=t+t;u!==f;++u)if(r[u]!==r[u+t]){s.setValue(r,a);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,a=r*this._origIndex;e.getValue(t,a);for(let o=r,l=a;o!==l;++o)t[o]=t[a+o%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,a,o){if(a>=.5)for(let l=0;l!==o;++l)e[t+l]=e[r+l]}_slerp(e,t,r,a){eo.slerpFlat(e,t,e,t,e,r,a)}_slerpAdditive(e,t,r,a,o){const l=this._workIndex*o;eo.multiplyQuaternionsFlat(e,l,e,t,e,r),eo.slerpFlat(e,t,e,t,e,l,a)}_lerp(e,t,r,a,o){const l=1-a;for(let s=0;s!==o;++s){const u=t+s;e[u]=e[u]*l+e[r+s]*a}}_lerpAdditive(e,t,r,a,o){for(let l=0;l!==o;++l){const s=t+l;e[s]=e[s]+e[r+l]*a}}}const qI="\\[\\]\\.:\\/",woe=new RegExp("["+qI+"]","g"),KI="[^"+qI+"]",Aoe="[^"+qI.replace("\\.","")+"]",Moe=/((?:WC+[\/:])*)/.source.replace("WC",KI),Toe=/(WCOD+)?/.source.replace("WCOD",Aoe),Roe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",KI),Ooe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",KI),Ioe=new RegExp("^"+Moe+Toe+Roe+Ooe+"$"),Boe=["material","materials","bones","map"];class Doe{constructor(e,t,r){const a=r||Fi.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,a)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,a=this._bindings[r];a!==void 0&&a.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let a=this._targetGroup.nCachedObjects_,o=r.length;a!==o;++a)r[a].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class Fi{constructor(e,t,r){this.path=t,this.parsedPath=r||Fi.parseTrackName(t),this.node=Fi.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new Fi.Composite(e,t,r):new Fi(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(woe,"")}static parseTrackName(e){const t=Ioe.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},a=r.nodeName&&r.nodeName.lastIndexOf(".");if(a!==void 0&&a!==-1){const o=r.nodeName.substring(a+1);Boe.indexOf(o)!==-1&&(r.nodeName=r.nodeName.substring(0,a),r.objectName=o)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(o){for(let l=0;l<o.length;l++){const s=o[l];if(s.name===t||s.uuid===t)return s;const u=r(s.children);if(u)return u}return null},a=r(e.children);if(a)return a}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let a=0,o=r.length;a!==o;++a)e[t++]=r[a]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let a=0,o=r.length;a!==o;++a)r[a]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let a=0,o=r.length;a!==o;++a)r[a]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let a=0,o=r.length;a!==o;++a)r[a]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,a=t.propertyName;let o=t.propertyIndex;if(e||(e=Fi.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let f=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let m=0;m<e.length;m++)if(e[m].name===f){f=m;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(f!==void 0){if(e[f]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[f]}}const l=e[a];if(l===void 0){const f=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+f+"."+a+" but it wasn't found.",e);return}let s=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?s=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(s=this.Versioning.MatrixWorldNeedsUpdate);let u=this.BindingType.Direct;if(o!==void 0){if(a==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}u=this.BindingType.ArrayElement,this.resolvedProperty=l,this.propertyIndex=o}else l.fromArray!==void 0&&l.toArray!==void 0?(u=this.BindingType.HasFromToArray,this.resolvedProperty=l):Array.isArray(l)?(u=this.BindingType.EntireArray,this.resolvedProperty=l):this.propertyName=a;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Fi.Composite=Doe;Fi.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Fi.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Fi.prototype.GetterByBindingType=[Fi.prototype._getValue_direct,Fi.prototype._getValue_array,Fi.prototype._getValue_arrayElement,Fi.prototype._getValue_toArray];Fi.prototype.SetterByBindingTypeAndVersioning=[[Fi.prototype._setValue_direct,Fi.prototype._setValue_direct_setNeedsUpdate,Fi.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Fi.prototype._setValue_array,Fi.prototype._setValue_array_setNeedsUpdate,Fi.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Fi.prototype._setValue_arrayElement,Fi.prototype._setValue_arrayElement_setNeedsUpdate,Fi.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Fi.prototype._setValue_fromArray,Fi.prototype._setValue_fromArray_setNeedsUpdate,Fi.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Poe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=nl(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,a=arguments.length;r!==a;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,a=this._parsedPaths,o=this._bindings,l=o.length;let s,u=e.length,f=this.nCachedObjects_;for(let m=0,y=arguments.length;m!==y;++m){const _=arguments[m],E=_.uuid;let c=t[E];if(c===void 0){c=u++,t[E]=c,e.push(_);for(let p=0,g=l;p!==g;++p)o[p].push(new Fi(_,r[p],a[p]))}else if(c<f){s=e[c];const p=--f,g=e[p];t[g.uuid]=c,e[c]=g,t[E]=p,e[p]=_;for(let b=0,C=l;b!==C;++b){const T=o[b],M=T[p];let O=T[c];T[c]=M,O===void 0&&(O=new Fi(_,r[b],a[b])),T[p]=O}}else e[c]!==s&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=f}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,a=r.length;let o=this.nCachedObjects_;for(let l=0,s=arguments.length;l!==s;++l){const u=arguments[l],f=u.uuid,m=t[f];if(m!==void 0&&m>=o){const y=o++,_=e[y];t[_.uuid]=m,e[m]=_,t[f]=y,e[y]=u;for(let E=0,c=a;E!==c;++E){const p=r[E],g=p[y],b=p[m];p[m]=g,p[y]=b}}}this.nCachedObjects_=o}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,a=r.length;let o=this.nCachedObjects_,l=e.length;for(let s=0,u=arguments.length;s!==u;++s){const f=arguments[s],m=f.uuid,y=t[m];if(y!==void 0)if(delete t[m],y<o){const _=--o,E=e[_],c=--l,p=e[c];t[E.uuid]=y,e[y]=E,t[p.uuid]=_,e[_]=p,e.pop();for(let g=0,b=a;g!==b;++g){const C=r[g],T=C[_],M=C[c];C[y]=T,C[_]=M,C.pop()}}else{const _=--l,E=e[_];_>0&&(t[E.uuid]=y),e[y]=E,e.pop();for(let c=0,p=a;c!==p;++c){const g=r[c];g[y]=g[_],g.pop()}}}this.nCachedObjects_=o}subscribe_(e,t){const r=this._bindingsIndicesByPath;let a=r[e];const o=this._bindings;if(a!==void 0)return o[a];const l=this._paths,s=this._parsedPaths,u=this._objects,f=u.length,m=this.nCachedObjects_,y=new Array(f);a=o.length,r[e]=a,l.push(e),s.push(t),o.push(y);for(let _=m,E=u.length;_!==E;++_){const c=u[_];y[_]=new Fi(c,e,t)}return y}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const a=this._paths,o=this._parsedPaths,l=this._bindings,s=l.length-1,u=l[s],f=e[s];t[f]=r,l[r]=u,l.pop(),o[r]=o[s],o.pop(),a[r]=a[s],a.pop()}}}class L6{constructor(e,t,r=null,a=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=a;const o=t.tracks,l=o.length,s=new Array(l),u={endingStart:fm,endingEnd:fm};for(let f=0;f!==l;++f){const m=o[f].createInterpolant(null);s[f]=m,m.settings=u}this._interpolantSettings=u,this._interpolants=s,this._propertyBindings=new Array(l),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=A8,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const a=this._clip.duration,o=e._clip.duration,l=o/a,s=a/o;e.warp(1,l,t),this.warp(s,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const a=this._mixer,o=a.time,l=this.timeScale;let s=this._timeScaleInterpolant;s===null&&(s=a._lendControlInterpolant(),this._timeScaleInterpolant=s);const u=s.parameterPositions,f=s.sampleValues;return u[0]=o,u[1]=o+r,f[0]=e/l,f[1]=t/l,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,a){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const u=(e-o)*r;u<0||r===0?t=0:(this._startTime=null,t=r*u)}t*=this._updateTimeScale(e);const l=this._updateTime(t),s=this._updateWeight(e);if(s>0){const u=this._interpolants,f=this._propertyBindings;switch(this.blendMode){case yI:for(let m=0,y=u.length;m!==y;++m)u[m].evaluate(l),f[m].accumulateAdditive(s);break;case jw:default:for(let m=0,y=u.length;m!==y;++m)u[m].evaluate(l),f[m].accumulate(a,s)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const a=r.evaluate(e)[0];t*=a,e>r.parameterPositions[1]&&(this.stopFading(),a===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const a=r.evaluate(e)[0];t*=a,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let a=this.time+e,o=this._loopCount;const l=r===M8;if(e===0)return o===-1?a:l&&(o&1)===1?t-a:a;if(r===w8){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(a>=t)a=t;else if(a<0)a=0;else{this.time=a;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=a,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,l)):this._setEndings(this.repetitions===0,!0,l)),a>=t||a<0){const s=Math.floor(a/t);a-=t*s,o+=Math.abs(s);const u=this.repetitions-o;if(u<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,a=e>0?t:0,this.time=a,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(u===1){const f=e<0;this._setEndings(f,!f,l)}else this._setEndings(!1,!1,l);this._loopCount=o,this.time=a,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:s})}}else this.time=a;if(l&&(o&1)===1)return t-a}return a}_setEndings(e,t,r){const a=this._interpolantSettings;r?(a.endingStart=hm,a.endingEnd=hm):(e?a.endingStart=this.zeroSlopeAtStart?hm:fm:a.endingStart=aS,t?a.endingEnd=this.zeroSlopeAtEnd?hm:fm:a.endingEnd=aS)}_scheduleFading(e,t,r){const a=this._mixer,o=a.time;let l=this._weightInterpolant;l===null&&(l=a._lendControlInterpolant(),this._weightInterpolant=l);const s=l.parameterPositions,u=l.sampleValues;return s[0]=o,u[0]=t,s[1]=o+e,u[1]=r,this}}const Loe=new Float32Array(1);class Noe extends ad{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,a=e._clip.tracks,o=a.length,l=e._propertyBindings,s=e._interpolants,u=r.uuid,f=this._bindingsByRootAndName;let m=f[u];m===void 0&&(m={},f[u]=m);for(let y=0;y!==o;++y){const _=a[y],E=_.name;let c=m[E];if(c!==void 0)++c.referenceCount,l[y]=c;else{if(c=l[y],c!==void 0){c._cacheIndex===null&&(++c.referenceCount,this._addInactiveBinding(c,u,E));continue}const p=t&&t._propertyBindings[y].binding.parsedPath;c=new P6(Fi.create(r,E,p),_.ValueTypeName,_.getValueSize()),++c.referenceCount,this._addInactiveBinding(c,u,E),l[y]=c}s[y].resultBuffer=c.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,a=e._clip.uuid,o=this._actionsByClip[a];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,a,r)}const t=e._propertyBindings;for(let r=0,a=t.length;r!==a;++r){const o=t[r];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,a=t.length;r!==a;++r){const o=t[r];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const a=this._actions,o=this._actionsByClip;let l=o[t];if(l===void 0)l={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[t]=l;else{const s=l.knownActions;e._byClipCacheIndex=s.length,s.push(e)}e._cacheIndex=a.length,a.push(e),l.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],a=e._cacheIndex;r._cacheIndex=a,t[a]=r,t.pop(),e._cacheIndex=null;const o=e._clip.uuid,l=this._actionsByClip,s=l[o],u=s.knownActions,f=u[u.length-1],m=e._byClipCacheIndex;f._byClipCacheIndex=m,u[m]=f,u.pop(),e._byClipCacheIndex=null;const y=s.actionByRoot,_=(e._localRoot||this._root).uuid;delete y[_],u.length===0&&delete l[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,a=t.length;r!==a;++r){const o=t[r];--o.referenceCount===0&&this._removeInactiveBinding(o)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,a=this._nActiveActions++,o=t[a];e._cacheIndex=a,t[a]=e,o._cacheIndex=r,t[r]=o}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,a=--this._nActiveActions,o=t[a];e._cacheIndex=a,t[a]=e,o._cacheIndex=r,t[r]=o}_addInactiveBinding(e,t,r){const a=this._bindingsByRootAndName,o=this._bindings;let l=a[t];l===void 0&&(l={},a[t]=l),l[r]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,a=r.rootNode.uuid,o=r.path,l=this._bindingsByRootAndName,s=l[a],u=t[t.length-1],f=e._cacheIndex;u._cacheIndex=f,t[f]=u,t.pop(),delete s[o],Object.keys(s).length===0&&delete l[a]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,a=this._nActiveBindings++,o=t[a];e._cacheIndex=a,t[a]=e,o._cacheIndex=r,t[r]=o}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,a=--this._nActiveBindings,o=t[a];e._cacheIndex=a,t[a]=e,o._cacheIndex=r,t[r]=o}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new HI(new Float32Array(2),new Float32Array(2),1,Loe),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,a=--this._nActiveControlInterpolants,o=t[a];e.__cacheIndex=a,t[a]=e,o.__cacheIndex=r,t[r]=o}clipAction(e,t,r){const a=t||this._root,o=a.uuid;let l=typeof e=="string"?y0.findByName(a,e):e;const s=l!==null?l.uuid:e,u=this._actionsByClip[s];let f=null;if(r===void 0&&(l!==null?r=l.blendMode:r=jw),u!==void 0){const y=u.actionByRoot[o];if(y!==void 0&&y.blendMode===r)return y;f=u.knownActions[0],l===null&&(l=f._clip)}if(l===null)return null;const m=new L6(this,l,t,r);return this._bindAction(m,f),this._addInactiveAction(m,s,o),m}existingAction(e,t){const r=t||this._root,a=r.uuid,o=typeof e=="string"?y0.findByName(r,e):e,l=o?o.uuid:e,s=this._actionsByClip[l];return s!==void 0&&s.actionByRoot[a]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,a=this.time+=e,o=Math.sign(e),l=this._accuIndex^=1;for(let f=0;f!==r;++f)t[f]._update(a,e,o,l);const s=this._bindings,u=this._nActiveBindings;for(let f=0;f!==u;++f)s[f].apply(l);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,a=this._actionsByClip,o=a[r];if(o!==void 0){const l=o.knownActions;for(let s=0,u=l.length;s!==u;++s){const f=l[s];this._deactivateAction(f);const m=f._cacheIndex,y=t[t.length-1];f._cacheIndex=null,f._byClipCacheIndex=null,y._cacheIndex=m,t[m]=y,t.pop(),this._removeInactiveBindingsForAction(f)}delete a[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const l in r){const s=r[l].actionByRoot,u=s[t];u!==void 0&&(this._deactivateAction(u),this._removeInactiveAction(u))}const a=this._bindingsByRootAndName,o=a[t];if(o!==void 0)for(const l in o){const s=o[l];s.restoreOriginalState(),this._removeInactiveBinding(s)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class zoe extends Ww{constructor(e=1,t=1,r=1,a={}){super(e,t,a),this.isRenderTarget3D=!0,this.depth=r,this.texture=new Xw(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class Uoe extends Ww{constructor(e=1,t=1,r=1,a={}){super(e,t,a),this.isRenderTargetArray=!0,this.depth=r,this.texture=new US(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class JI{constructor(e){this.value=e}clone(){return new JI(this.value.clone===void 0?this.value:this.value.clone())}}let Foe=0;class Hoe extends ad{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Foe++}),this.name="",this.usage=sS,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,a=t.length;r<a;r++){const o=Array.isArray(t[r])?t[r]:[t[r]];for(let l=0;l<o.length;l++)this.uniforms.push(o[l].clone())}return this}clone(){return new this.constructor().copy(this)}}class Goe extends HS{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class koe{constructor(e,t,r,a,o){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=a,this.count=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const H3=new Pn;class N6{constructor(e,t,r=0,a=1/0){this.ray=new Gm(e,t),this.near=r,this.far=a,this.camera=null,this.layers=new g0,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return H3.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(H3),this}intersectObject(e,t=!0,r=[]){return L2(e,this,r,t),r.sort(G3),r}intersectObjects(e,t=!0,r=[]){for(let a=0,o=e.length;a<o;a++)L2(e[a],this,r,t);return r.sort(G3),r}}function G3(n,e){return n.distance-e.distance}function L2(n,e,t,r){let a=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(a=!1),a===!0&&r===!0){const o=n.children;for(let l=0,s=o.length;l<s;l++)L2(o[l],e,t,!0)}}class N2{constructor(e=1,t=0,r=0){this.radius=e,this.phi=t,this.theta=r}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Jn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Jn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class $oe{constructor(e=1,t=0,r=0){this.radius=e,this.theta=t,this.y=r}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}class QI{constructor(e,t,r,a){QI.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,r,a)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let r=0;r<4;r++)this.elements[r]=e[r+t];return this}set(e,t,r,a){const o=this.elements;return o[0]=e,o[2]=t,o[1]=r,o[3]=a,this}}const k3=new Tt;class Voe{constructor(e=new Tt(1/0,1/0),t=new Tt(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=k3.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,k3).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const $3=new be,sC=new be;class joe{constructor(e=new be,t=new be){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){$3.subVectors(e,this.start),sC.subVectors(this.end,this.start);const r=sC.dot(sC);let o=sC.dot($3)/r;return t&&(o=Jn(o,0,1)),o}closestPointToPoint(e,t,r){const a=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(a).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const V3=new be;class Woe extends Di{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const r=new ni,a=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let l=0,s=1,u=32;l<u;l++,s++){const f=l/u*Math.PI*2,m=s/u*Math.PI*2;a.push(Math.cos(f),Math.sin(f),1,Math.cos(m),Math.sin(m),1)}r.setAttribute("position",new vn(a,3));const o=new Ho({fog:!1,toneMapped:!1});this.cone=new Vc(r,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),V3.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(V3),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const fh=new be,lC=new Pn,MT=new Pn;class Xoe extends Vc{constructor(e){const t=z6(e),r=new ni,a=[],o=[],l=new en(0,0,1),s=new en(0,1,0);for(let f=0;f<t.length;f++){const m=t[f];m.parent&&m.parent.isBone&&(a.push(0,0,0),a.push(0,0,0),o.push(l.r,l.g,l.b),o.push(s.r,s.g,s.b))}r.setAttribute("position",new vn(a,3)),r.setAttribute("color",new vn(o,3));const u=new Ho({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,u),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,a=r.getAttribute("position");MT.copy(this.root.matrixWorld).invert();for(let o=0,l=0;o<t.length;o++){const s=t[o];s.parent&&s.parent.isBone&&(lC.multiplyMatrices(MT,s.matrixWorld),fh.setFromMatrixPosition(lC),a.setXYZ(l,fh.x,fh.y,fh.z),lC.multiplyMatrices(MT,s.parent.matrixWorld),fh.setFromMatrixPosition(lC),a.setXYZ(l+1,fh.x,fh.y,fh.z),l+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function z6(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push(...z6(n.children[t]));return e}class Yoe extends ga{constructor(e,t,r){const a=new jS(t,4,2),o=new tl({wireframe:!0,fog:!1,toneMapped:!1});super(a,o),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const qoe=new be,j3=new en,W3=new en;class Koe extends Di{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const a=new VS(t);a.rotateY(Math.PI*.5),this.material=new tl({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=a.getAttribute("position"),l=new Float32Array(o.count*3);a.setAttribute("color",new ki(l,3)),this.add(new ga(a,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");j3.copy(this.light.color),W3.copy(this.light.groundColor);for(let r=0,a=t.count;r<a;r++){const o=r<a/2?j3:W3;t.setXYZ(r,o.r,o.g,o.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(qoe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Joe extends Vc{constructor(e=10,t=10,r=4473924,a=8947848){r=new en(r),a=new en(a);const o=t/2,l=e/t,s=e/2,u=[],f=[];for(let _=0,E=0,c=-s;_<=t;_++,c+=l){u.push(-s,0,c,s,0,c),u.push(c,0,-s,c,0,s);const p=_===o?r:a;p.toArray(f,E),E+=3,p.toArray(f,E),E+=3,p.toArray(f,E),E+=3,p.toArray(f,E),E+=3}const m=new ni;m.setAttribute("position",new vn(u,3)),m.setAttribute("color",new vn(f,3));const y=new Ho({vertexColors:!0,toneMapped:!1});super(m,y),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Qoe extends Vc{constructor(e=10,t=16,r=8,a=64,o=4473924,l=8947848){o=new en(o),l=new en(l);const s=[],u=[];if(t>1)for(let y=0;y<t;y++){const _=y/t*(Math.PI*2),E=Math.sin(_)*e,c=Math.cos(_)*e;s.push(0,0,0),s.push(E,0,c);const p=y&1?o:l;u.push(p.r,p.g,p.b),u.push(p.r,p.g,p.b)}for(let y=0;y<r;y++){const _=y&1?o:l,E=e-e/r*y;for(let c=0;c<a;c++){let p=c/a*(Math.PI*2),g=Math.sin(p)*E,b=Math.cos(p)*E;s.push(g,0,b),u.push(_.r,_.g,_.b),p=(c+1)/a*(Math.PI*2),g=Math.sin(p)*E,b=Math.cos(p)*E,s.push(g,0,b),u.push(_.r,_.g,_.b)}}const f=new ni;f.setAttribute("position",new vn(s,3)),f.setAttribute("color",new vn(u,3));const m=new Ho({vertexColors:!0,toneMapped:!1});super(f,m),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const X3=new be,cC=new be,Y3=new be;class Zoe extends Di{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",t===void 0&&(t=1);let a=new ni;a.setAttribute("position",new vn([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const o=new Ho({fog:!1,toneMapped:!1});this.lightPlane=new vf(a,o),this.add(this.lightPlane),a=new ni,a.setAttribute("position",new vn([0,0,0,0,0,1],3)),this.targetLine=new vf(a,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),X3.setFromMatrixPosition(this.light.matrixWorld),cC.setFromMatrixPosition(this.light.target.matrixWorld),Y3.subVectors(cC,X3),this.lightPlane.lookAt(cC),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(cC),this.targetLine.scale.z=Y3.length()}}const uC=new be,oa=new Yw;class ese extends Vc{constructor(e){const t=new ni,r=new Ho({color:16777215,vertexColors:!0,toneMapped:!1}),a=[],o=[],l={};s("n1","n2"),s("n2","n4"),s("n4","n3"),s("n3","n1"),s("f1","f2"),s("f2","f4"),s("f4","f3"),s("f3","f1"),s("n1","f1"),s("n2","f2"),s("n3","f3"),s("n4","f4"),s("p","n1"),s("p","n2"),s("p","n3"),s("p","n4"),s("u1","u2"),s("u2","u3"),s("u3","u1"),s("c","t"),s("p","c"),s("cn1","cn2"),s("cn3","cn4"),s("cf1","cf2"),s("cf3","cf4");function s(c,p){u(c),u(p)}function u(c){a.push(0,0,0),o.push(0,0,0),l[c]===void 0&&(l[c]=[]),l[c].push(a.length/3-1)}t.setAttribute("position",new vn(a,3)),t.setAttribute("color",new vn(o,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=l,this.update();const f=new en(16755200),m=new en(16711680),y=new en(43775),_=new en(16777215),E=new en(3355443);this.setColors(f,m,y,_,E)}setColors(e,t,r,a,o){const s=this.geometry.getAttribute("color");s.setXYZ(0,e.r,e.g,e.b),s.setXYZ(1,e.r,e.g,e.b),s.setXYZ(2,e.r,e.g,e.b),s.setXYZ(3,e.r,e.g,e.b),s.setXYZ(4,e.r,e.g,e.b),s.setXYZ(5,e.r,e.g,e.b),s.setXYZ(6,e.r,e.g,e.b),s.setXYZ(7,e.r,e.g,e.b),s.setXYZ(8,e.r,e.g,e.b),s.setXYZ(9,e.r,e.g,e.b),s.setXYZ(10,e.r,e.g,e.b),s.setXYZ(11,e.r,e.g,e.b),s.setXYZ(12,e.r,e.g,e.b),s.setXYZ(13,e.r,e.g,e.b),s.setXYZ(14,e.r,e.g,e.b),s.setXYZ(15,e.r,e.g,e.b),s.setXYZ(16,e.r,e.g,e.b),s.setXYZ(17,e.r,e.g,e.b),s.setXYZ(18,e.r,e.g,e.b),s.setXYZ(19,e.r,e.g,e.b),s.setXYZ(20,e.r,e.g,e.b),s.setXYZ(21,e.r,e.g,e.b),s.setXYZ(22,e.r,e.g,e.b),s.setXYZ(23,e.r,e.g,e.b),s.setXYZ(24,t.r,t.g,t.b),s.setXYZ(25,t.r,t.g,t.b),s.setXYZ(26,t.r,t.g,t.b),s.setXYZ(27,t.r,t.g,t.b),s.setXYZ(28,t.r,t.g,t.b),s.setXYZ(29,t.r,t.g,t.b),s.setXYZ(30,t.r,t.g,t.b),s.setXYZ(31,t.r,t.g,t.b),s.setXYZ(32,r.r,r.g,r.b),s.setXYZ(33,r.r,r.g,r.b),s.setXYZ(34,r.r,r.g,r.b),s.setXYZ(35,r.r,r.g,r.b),s.setXYZ(36,r.r,r.g,r.b),s.setXYZ(37,r.r,r.g,r.b),s.setXYZ(38,a.r,a.g,a.b),s.setXYZ(39,a.r,a.g,a.b),s.setXYZ(40,o.r,o.g,o.b),s.setXYZ(41,o.r,o.g,o.b),s.setXYZ(42,o.r,o.g,o.b),s.setXYZ(43,o.r,o.g,o.b),s.setXYZ(44,o.r,o.g,o.b),s.setXYZ(45,o.r,o.g,o.b),s.setXYZ(46,o.r,o.g,o.b),s.setXYZ(47,o.r,o.g,o.b),s.setXYZ(48,o.r,o.g,o.b),s.setXYZ(49,o.r,o.g,o.b),s.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,r=1,a=1;oa.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const o=this.camera.coordinateSystem===Lc?-1:0;fa("c",t,e,oa,0,0,o),fa("t",t,e,oa,0,0,1),fa("n1",t,e,oa,-1,-1,o),fa("n2",t,e,oa,r,-1,o),fa("n3",t,e,oa,-1,a,o),fa("n4",t,e,oa,r,a,o),fa("f1",t,e,oa,-1,-1,1),fa("f2",t,e,oa,r,-1,1),fa("f3",t,e,oa,-1,a,1),fa("f4",t,e,oa,r,a,1),fa("u1",t,e,oa,r*.7,a*1.1,o),fa("u2",t,e,oa,-1*.7,a*1.1,o),fa("u3",t,e,oa,0,a*2,o),fa("cf1",t,e,oa,-1,0,1),fa("cf2",t,e,oa,r,0,1),fa("cf3",t,e,oa,0,-1,1),fa("cf4",t,e,oa,0,a,1),fa("cn1",t,e,oa,-1,0,o),fa("cn2",t,e,oa,r,0,o),fa("cn3",t,e,oa,0,-1,o),fa("cn4",t,e,oa,0,a,o),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function fa(n,e,t,r,a,o,l){uC.set(a,o,l).unproject(r);const s=e[n];if(s!==void 0){const u=t.getAttribute("position");for(let f=0,m=s.length;f<m;f++)u.setXYZ(s[f],uC.x,uC.y,uC.z)}}const dC=new go;class tse extends Vc{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),a=new Float32Array(8*3),o=new ni;o.setIndex(new ki(r,1)),o.setAttribute("position",new ki(a,3)),super(o,new Ho({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&dC.setFromObject(this.object),dC.isEmpty())return;const e=dC.min,t=dC.max,r=this.geometry.attributes.position,a=r.array;a[0]=t.x,a[1]=t.y,a[2]=t.z,a[3]=e.x,a[4]=t.y,a[5]=t.z,a[6]=e.x,a[7]=e.y,a[8]=t.z,a[9]=t.x,a[10]=e.y,a[11]=t.z,a[12]=t.x,a[13]=t.y,a[14]=e.z,a[15]=e.x,a[16]=t.y,a[17]=e.z,a[18]=e.x,a[19]=e.y,a[20]=e.z,a[21]=t.x,a[22]=e.y,a[23]=e.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class nse extends Vc{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),a=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new ni;o.setIndex(new ki(r,1)),o.setAttribute("position",new vn(a,3)),super(o,new Ho({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class ise extends vf{constructor(e,t=1,r=16776960){const a=r,o=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],l=new ni;l.setAttribute("position",new vn(o,3)),l.computeBoundingSphere(),super(l,new Ho({color:a,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const s=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],u=new ni;u.setAttribute("position",new vn(s,3)),u.computeBoundingSphere(),this.add(new ga(u,new tl({color:a,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const q3=new be;let fC,TT;class rse extends Di{constructor(e=new be(0,0,1),t=new be(0,0,0),r=1,a=16776960,o=r*.2,l=o*.2){super(),this.type="ArrowHelper",fC===void 0&&(fC=new ni,fC.setAttribute("position",new vn([0,0,0,0,1,0],3)),TT=new P0(0,.5,1,5,1),TT.translate(0,-.5,0)),this.position.copy(t),this.line=new vf(fC,new Ho({color:a,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ga(TT,new tl({color:a,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,o,l)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{q3.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(q3,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class ase extends Vc{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],a=new ni;a.setAttribute("position",new vn(t,3)),a.setAttribute("color",new vn(r,3));const o=new Ho({vertexColors:!0,toneMapped:!1});super(a,o),this.type="AxesHelper"}setColors(e,t,r){const a=new en,o=this.geometry.attributes.color.array;return a.set(e),a.toArray(o,0),a.toArray(o,3),a.set(t),a.toArray(o,6),a.toArray(o,9),a.set(r),a.toArray(o,12),a.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class ose{constructor(){this.type="ShapePath",this.color=new en,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new uS,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,a){return this.currentPath.quadraticCurveTo(e,t,r,a),this}bezierCurveTo(e,t,r,a,o,l){return this.currentPath.bezierCurveTo(e,t,r,a,o,l),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(b){const C=[];for(let T=0,M=b.length;T<M;T++){const O=b[T],B=new xm;B.curves=O.curves,C.push(B)}return C}function r(b,C){const T=C.length;let M=!1;for(let O=T-1,B=0;B<T;O=B++){let P=C[O],F=C[B],U=F.x-P.x,z=F.y-P.y;if(Math.abs(z)>Number.EPSILON){if(z<0&&(P=C[B],U=-U,F=C[O],z=-z),b.y<P.y||b.y>F.y)continue;if(b.y===P.y){if(b.x===P.x)return!0}else{const $=z*(b.x-P.x)-U*(b.y-P.y);if($===0)return!0;if($<0)continue;M=!M}}else{if(b.y!==P.y)continue;if(F.x<=b.x&&b.x<=P.x||P.x<=b.x&&b.x<=F.x)return!0}}return M}const a=Yu.isClockWise,o=this.subPaths;if(o.length===0)return[];let l,s,u;const f=[];if(o.length===1)return s=o[0],u=new xm,u.curves=s.curves,f.push(u),f;let m=!a(o[0].getPoints());m=e?!m:m;const y=[],_=[];let E=[],c=0,p;_[c]=void 0,E[c]=[];for(let b=0,C=o.length;b<C;b++)s=o[b],p=s.getPoints(),l=a(p),l=e?!l:l,l?(!m&&_[c]&&c++,_[c]={s:new xm,p},_[c].s.curves=s.curves,m&&c++,E[c]=[]):E[c].push({h:s,p:p[0]});if(!_[0])return t(o);if(_.length>1){let b=!1,C=0;for(let T=0,M=_.length;T<M;T++)y[T]=[];for(let T=0,M=_.length;T<M;T++){const O=E[T];for(let B=0;B<O.length;B++){const P=O[B];let F=!0;for(let U=0;U<_.length;U++)r(P.p,_[U].p)&&(T!==U&&C++,F?(F=!1,y[U].push(P)):b=!0);F&&y[T].push(P)}}C>0&&b===!1&&(E=y)}let g;for(let b=0,C=_.length;b<C;b++){u=_[b].s,f.push(u),g=E[b];for(let T=0,M=g.length;T<M;T++)u.holes.push(g[T].h)}return f}}class sse extends ad{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}function lse(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function cse(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function use(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function z2(n,e,t,r){const a=dse(r);switch(t){case fI:return n*e;case pI:return n*e;case mI:return n*e*2;case kw:return n*e/a.components*a.byteLength;case zS:return n*e/a.components*a.byteLength;case gI:return n*e*2/a.components*a.byteLength;case $w:return n*e*2/a.components*a.byteLength;case hI:return n*e*3/a.components*a.byteLength;case No:return n*e*4/a.components*a.byteLength;case Vw:return n*e*4/a.components*a.byteLength;case Ob:case Ib:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case Bb:case Db:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case aE:case sE:return Math.max(n,16)*Math.max(e,8)/4;case rE:case oE:return Math.max(n,8)*Math.max(e,8)/2;case lE:case cE:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case uE:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case dE:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case fE:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case hE:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case pE:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case mE:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case gE:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case vE:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case yE:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case bE:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case SE:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case _E:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case xE:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case CE:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case EE:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case Pb:case wE:case AE:return Math.ceil(n/4)*Math.ceil(e/4)*16;case vI:case ME:return Math.ceil(n/4)*Math.ceil(e/4)*8;case TE:case RE:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function dse(n){switch(n){case Hc:case cI:return{byteLength:1,components:1};case f0:case uI:case D0:return{byteLength:2,components:1};case Hw:case Gw:return{byteLength:2,components:4};case gf:case Fw:case Rs:return{byteLength:4,components:1};case dI:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class fse{static contain(e,t){return lse(e,t)}static cover(e,t){return cse(e,t)}static fill(e){return use(e)}static getByteLength(e,t,r,a){return z2(e,t,r,a)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:LS}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=LS);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function U6(){let n=null,e=!1,t=null,r=null;function a(o,l){t(o,l),r=n.requestAnimationFrame(a)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(a),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(o){t=o},setContext:function(o){n=o}}}function hse(n){const e=new WeakMap;function t(s,u){const f=s.array,m=s.usage,y=f.byteLength,_=n.createBuffer();n.bindBuffer(u,_),n.bufferData(u,f,m),s.onUploadCallback();let E;if(f instanceof Float32Array)E=n.FLOAT;else if(f instanceof Uint16Array)s.isFloat16BufferAttribute?E=n.HALF_FLOAT:E=n.UNSIGNED_SHORT;else if(f instanceof Int16Array)E=n.SHORT;else if(f instanceof Uint32Array)E=n.UNSIGNED_INT;else if(f instanceof Int32Array)E=n.INT;else if(f instanceof Int8Array)E=n.BYTE;else if(f instanceof Uint8Array)E=n.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)E=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:_,type:E,bytesPerElement:f.BYTES_PER_ELEMENT,version:s.version,size:y}}function r(s,u,f){const m=u.array,y=u.updateRanges;if(n.bindBuffer(f,s),y.length===0)n.bufferSubData(f,0,m);else{y.sort((E,c)=>E.start-c.start);let _=0;for(let E=1;E<y.length;E++){const c=y[_],p=y[E];p.start<=c.start+c.count+1?c.count=Math.max(c.count,p.start+p.count-c.start):(++_,y[_]=p)}y.length=_+1;for(let E=0,c=y.length;E<c;E++){const p=y[E];n.bufferSubData(f,p.start*m.BYTES_PER_ELEMENT,m,p.start,p.count)}u.clearUpdateRanges()}u.onUploadCallback()}function a(s){return s.isInterleavedBufferAttribute&&(s=s.data),e.get(s)}function o(s){s.isInterleavedBufferAttribute&&(s=s.data);const u=e.get(s);u&&(n.deleteBuffer(u.buffer),e.delete(s))}function l(s,u){if(s.isInterleavedBufferAttribute&&(s=s.data),s.isGLBufferAttribute){const m=e.get(s);(!m||m.version<s.version)&&e.set(s,{buffer:s.buffer,type:s.type,bytesPerElement:s.elementSize,version:s.version});return}const f=e.get(s);if(f===void 0)e.set(s,t(s,u));else if(f.version<s.version){if(f.size!==s.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(f.buffer,s,u),f.version=s.version}}return{get:a,remove:o,update:l}}var pse=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,mse=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,gse=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,vse=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,yse=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,bse=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Sse=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,_se=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,xse=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,Cse=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,Ese=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,wse=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Ase=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Mse=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Tse=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Rse=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Ose=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Ise=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Bse=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Dse=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Pse=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Lse=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,Nse=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,zse=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Use=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Fse=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Hse=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Gse=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,kse=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,$se=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Vse="gl_FragColor = linearToOutputTexel( gl_FragColor );",jse=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Wse=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Xse=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Yse=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,qse=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Kse=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Jse=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Qse=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Zse=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,ele=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,tle=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,nle=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,ile=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,rle=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,ale=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,ole=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,sle=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lle=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,cle=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,ule=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,dle=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,fle=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,hle=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,ple=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,mle=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,gle=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,vle=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,yle=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,ble=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,Sle=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,_le=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,xle=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Cle=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Ele=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,wle=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Ale=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Mle=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Tle=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Rle=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,Ole=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Ile=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Ble=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Dle=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Ple=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Lle=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Nle=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,zle=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,Ule=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Fle=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Hle=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Gle=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,kle=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,$le=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Vle=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,jle=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Wle=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Xle=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Yle=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,qle=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,Kle=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Jle=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Qle=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Zle=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,ece=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,tce=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,nce=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,ice=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,rce=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,ace=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,oce=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,sce=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,lce=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,cce=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uce=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,dce=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,fce=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const hce=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,pce=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,mce=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,gce=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vce=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,yce=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,bce=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Sce=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,_ce=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,xce=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Cce=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Ece=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,wce=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Ace=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Mce=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Tce=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Rce=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Oce=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ice=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Bce=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Dce=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Pce=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Lce=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Nce=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,zce=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Uce=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Fce=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Hce=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Gce=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,kce=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,$ce=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Vce=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,jce=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Wce=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ui={alphahash_fragment:pse,alphahash_pars_fragment:mse,alphamap_fragment:gse,alphamap_pars_fragment:vse,alphatest_fragment:yse,alphatest_pars_fragment:bse,aomap_fragment:Sse,aomap_pars_fragment:_se,batching_pars_vertex:xse,batching_vertex:Cse,begin_vertex:Ese,beginnormal_vertex:wse,bsdfs:Ase,iridescence_fragment:Mse,bumpmap_pars_fragment:Tse,clipping_planes_fragment:Rse,clipping_planes_pars_fragment:Ose,clipping_planes_pars_vertex:Ise,clipping_planes_vertex:Bse,color_fragment:Dse,color_pars_fragment:Pse,color_pars_vertex:Lse,color_vertex:Nse,common:zse,cube_uv_reflection_fragment:Use,defaultnormal_vertex:Fse,displacementmap_pars_vertex:Hse,displacementmap_vertex:Gse,emissivemap_fragment:kse,emissivemap_pars_fragment:$se,colorspace_fragment:Vse,colorspace_pars_fragment:jse,envmap_fragment:Wse,envmap_common_pars_fragment:Xse,envmap_pars_fragment:Yse,envmap_pars_vertex:qse,envmap_physical_pars_fragment:ole,envmap_vertex:Kse,fog_vertex:Jse,fog_pars_vertex:Qse,fog_fragment:Zse,fog_pars_fragment:ele,gradientmap_pars_fragment:tle,lightmap_pars_fragment:nle,lights_lambert_fragment:ile,lights_lambert_pars_fragment:rle,lights_pars_begin:ale,lights_toon_fragment:sle,lights_toon_pars_fragment:lle,lights_phong_fragment:cle,lights_phong_pars_fragment:ule,lights_physical_fragment:dle,lights_physical_pars_fragment:fle,lights_fragment_begin:hle,lights_fragment_maps:ple,lights_fragment_end:mle,logdepthbuf_fragment:gle,logdepthbuf_pars_fragment:vle,logdepthbuf_pars_vertex:yle,logdepthbuf_vertex:ble,map_fragment:Sle,map_pars_fragment:_le,map_particle_fragment:xle,map_particle_pars_fragment:Cle,metalnessmap_fragment:Ele,metalnessmap_pars_fragment:wle,morphinstance_vertex:Ale,morphcolor_vertex:Mle,morphnormal_vertex:Tle,morphtarget_pars_vertex:Rle,morphtarget_vertex:Ole,normal_fragment_begin:Ile,normal_fragment_maps:Ble,normal_pars_fragment:Dle,normal_pars_vertex:Ple,normal_vertex:Lle,normalmap_pars_fragment:Nle,clearcoat_normal_fragment_begin:zle,clearcoat_normal_fragment_maps:Ule,clearcoat_pars_fragment:Fle,iridescence_pars_fragment:Hle,opaque_fragment:Gle,packing:kle,premultiplied_alpha_fragment:$le,project_vertex:Vle,dithering_fragment:jle,dithering_pars_fragment:Wle,roughnessmap_fragment:Xle,roughnessmap_pars_fragment:Yle,shadowmap_pars_fragment:qle,shadowmap_pars_vertex:Kle,shadowmap_vertex:Jle,shadowmask_pars_fragment:Qle,skinbase_vertex:Zle,skinning_pars_vertex:ece,skinning_vertex:tce,skinnormal_vertex:nce,specularmap_fragment:ice,specularmap_pars_fragment:rce,tonemapping_fragment:ace,tonemapping_pars_fragment:oce,transmission_fragment:sce,transmission_pars_fragment:lce,uv_pars_fragment:cce,uv_pars_vertex:uce,uv_vertex:dce,worldpos_vertex:fce,background_vert:hce,background_frag:pce,backgroundCube_vert:mce,backgroundCube_frag:gce,cube_vert:vce,cube_frag:yce,depth_vert:bce,depth_frag:Sce,distanceRGBA_vert:_ce,distanceRGBA_frag:xce,equirect_vert:Cce,equirect_frag:Ece,linedashed_vert:wce,linedashed_frag:Ace,meshbasic_vert:Mce,meshbasic_frag:Tce,meshlambert_vert:Rce,meshlambert_frag:Oce,meshmatcap_vert:Ice,meshmatcap_frag:Bce,meshnormal_vert:Dce,meshnormal_frag:Pce,meshphong_vert:Lce,meshphong_frag:Nce,meshphysical_vert:zce,meshphysical_frag:Uce,meshtoon_vert:Fce,meshtoon_frag:Hce,points_vert:Gce,points_frag:kce,shadow_vert:$ce,shadow_frag:Vce,sprite_vert:jce,sprite_frag:Wce},rn={common:{diffuse:{value:new en(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new ti},alphaMap:{value:null},alphaMapTransform:{value:new ti},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new ti}},envmap:{envMap:{value:null},envMapRotation:{value:new ti},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new ti}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new ti}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new ti},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new ti},normalScale:{value:new Tt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new ti},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new ti}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new ti}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new ti}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new en(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new en(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new ti},alphaTest:{value:0},uvTransform:{value:new ti}},sprite:{diffuse:{value:new en(16777215)},opacity:{value:1},center:{value:new Tt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new ti},alphaMap:{value:null},alphaMapTransform:{value:new ti},alphaTest:{value:0}}},Ic={basic:{uniforms:is([rn.common,rn.specularmap,rn.envmap,rn.aomap,rn.lightmap,rn.fog]),vertexShader:ui.meshbasic_vert,fragmentShader:ui.meshbasic_frag},lambert:{uniforms:is([rn.common,rn.specularmap,rn.envmap,rn.aomap,rn.lightmap,rn.emissivemap,rn.bumpmap,rn.normalmap,rn.displacementmap,rn.fog,rn.lights,{emissive:{value:new en(0)}}]),vertexShader:ui.meshlambert_vert,fragmentShader:ui.meshlambert_frag},phong:{uniforms:is([rn.common,rn.specularmap,rn.envmap,rn.aomap,rn.lightmap,rn.emissivemap,rn.bumpmap,rn.normalmap,rn.displacementmap,rn.fog,rn.lights,{emissive:{value:new en(0)},specular:{value:new en(1118481)},shininess:{value:30}}]),vertexShader:ui.meshphong_vert,fragmentShader:ui.meshphong_frag},standard:{uniforms:is([rn.common,rn.envmap,rn.aomap,rn.lightmap,rn.emissivemap,rn.bumpmap,rn.normalmap,rn.displacementmap,rn.roughnessmap,rn.metalnessmap,rn.fog,rn.lights,{emissive:{value:new en(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ui.meshphysical_vert,fragmentShader:ui.meshphysical_frag},toon:{uniforms:is([rn.common,rn.aomap,rn.lightmap,rn.emissivemap,rn.bumpmap,rn.normalmap,rn.displacementmap,rn.gradientmap,rn.fog,rn.lights,{emissive:{value:new en(0)}}]),vertexShader:ui.meshtoon_vert,fragmentShader:ui.meshtoon_frag},matcap:{uniforms:is([rn.common,rn.bumpmap,rn.normalmap,rn.displacementmap,rn.fog,{matcap:{value:null}}]),vertexShader:ui.meshmatcap_vert,fragmentShader:ui.meshmatcap_frag},points:{uniforms:is([rn.points,rn.fog]),vertexShader:ui.points_vert,fragmentShader:ui.points_frag},dashed:{uniforms:is([rn.common,rn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ui.linedashed_vert,fragmentShader:ui.linedashed_frag},depth:{uniforms:is([rn.common,rn.displacementmap]),vertexShader:ui.depth_vert,fragmentShader:ui.depth_frag},normal:{uniforms:is([rn.common,rn.bumpmap,rn.normalmap,rn.displacementmap,{opacity:{value:1}}]),vertexShader:ui.meshnormal_vert,fragmentShader:ui.meshnormal_frag},sprite:{uniforms:is([rn.sprite,rn.fog]),vertexShader:ui.sprite_vert,fragmentShader:ui.sprite_frag},background:{uniforms:{uvTransform:{value:new ti},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ui.background_vert,fragmentShader:ui.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new ti}},vertexShader:ui.backgroundCube_vert,fragmentShader:ui.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ui.cube_vert,fragmentShader:ui.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ui.equirect_vert,fragmentShader:ui.equirect_frag},distanceRGBA:{uniforms:is([rn.common,rn.displacementmap,{referencePosition:{value:new be},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ui.distanceRGBA_vert,fragmentShader:ui.distanceRGBA_frag},shadow:{uniforms:is([rn.lights,rn.fog,{color:{value:new en(0)},opacity:{value:1}}]),vertexShader:ui.shadow_vert,fragmentShader:ui.shadow_frag}};Ic.physical={uniforms:is([Ic.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new ti},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new ti},clearcoatNormalScale:{value:new Tt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new ti},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new ti},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new ti},sheen:{value:0},sheenColor:{value:new en(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new ti},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new ti},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new ti},transmissionSamplerSize:{value:new Tt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new ti},attenuationDistance:{value:0},attenuationColor:{value:new en(0)},specularColor:{value:new en(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new ti},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new ti},anisotropyVector:{value:new Tt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new ti}}]),vertexShader:ui.meshphysical_vert,fragmentShader:ui.meshphysical_frag};const hC={r:0,b:0,g:0},Np=new rl,Xce=new Pn;function Yce(n,e,t,r,a,o,l){const s=new en(0);let u=o===!0?0:1,f,m,y=null,_=0,E=null;function c(T){let M=T.isScene===!0?T.background:null;return M&&M.isTexture&&(M=(T.backgroundBlurriness>0?t:e).get(M)),M}function p(T){let M=!1;const O=c(T);O===null?b(s,u):O&&O.isColor&&(b(O,1),M=!0);const B=n.xr.getEnvironmentBlendMode();B==="additive"?r.buffers.color.setClear(0,0,0,1,l):B==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,l),(n.autoClear||M)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function g(T,M){const O=c(M);O&&(O.isCubeTexture||O.mapping===B0)?(m===void 0&&(m=new ga(new km(1,1,1),new Gc({name:"BackgroundCubeMaterial",uniforms:v0(Ic.backgroundCube.uniforms),vertexShader:Ic.backgroundCube.vertexShader,fragmentShader:Ic.backgroundCube.fragmentShader,side:ls,depthTest:!1,depthWrite:!1,fog:!1})),m.geometry.deleteAttribute("normal"),m.geometry.deleteAttribute("uv"),m.onBeforeRender=function(B,P,F){this.matrixWorld.copyPosition(F.matrixWorld)},Object.defineProperty(m.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),a.update(m)),Np.copy(M.backgroundRotation),Np.x*=-1,Np.y*=-1,Np.z*=-1,O.isCubeTexture&&O.isRenderTargetTexture===!1&&(Np.y*=-1,Np.z*=-1),m.material.uniforms.envMap.value=O,m.material.uniforms.flipEnvMap.value=O.isCubeTexture&&O.isRenderTargetTexture===!1?-1:1,m.material.uniforms.backgroundBlurriness.value=M.backgroundBlurriness,m.material.uniforms.backgroundIntensity.value=M.backgroundIntensity,m.material.uniforms.backgroundRotation.value.setFromMatrix4(Xce.makeRotationFromEuler(Np)),m.material.toneMapped=Ii.getTransfer(O.colorSpace)!==sr,(y!==O||_!==O.version||E!==n.toneMapping)&&(m.material.needsUpdate=!0,y=O,_=O.version,E=n.toneMapping),m.layers.enableAll(),T.unshift(m,m.geometry,m.material,0,0,null)):O&&O.isTexture&&(f===void 0&&(f=new ga(new L0(2,2),new Gc({name:"BackgroundMaterial",uniforms:v0(Ic.background.uniforms),vertexShader:Ic.background.vertexShader,fragmentShader:Ic.background.fragmentShader,side:Zu,depthTest:!1,depthWrite:!1,fog:!1})),f.geometry.deleteAttribute("normal"),Object.defineProperty(f.material,"map",{get:function(){return this.uniforms.t2D.value}}),a.update(f)),f.material.uniforms.t2D.value=O,f.material.uniforms.backgroundIntensity.value=M.backgroundIntensity,f.material.toneMapped=Ii.getTransfer(O.colorSpace)!==sr,O.matrixAutoUpdate===!0&&O.updateMatrix(),f.material.uniforms.uvTransform.value.copy(O.matrix),(y!==O||_!==O.version||E!==n.toneMapping)&&(f.material.needsUpdate=!0,y=O,_=O.version,E=n.toneMapping),f.layers.enableAll(),T.unshift(f,f.geometry,f.material,0,0,null))}function b(T,M){T.getRGB(hC,V8(n)),r.buffers.color.setClear(hC.r,hC.g,hC.b,M,l)}function C(){m!==void 0&&(m.geometry.dispose(),m.material.dispose(),m=void 0),f!==void 0&&(f.geometry.dispose(),f.material.dispose(),f=void 0)}return{getClearColor:function(){return s},setClearColor:function(T,M=1){s.set(T),u=M,b(s,u)},getClearAlpha:function(){return u},setClearAlpha:function(T){u=T,b(s,u)},render:p,addToRenderList:g,dispose:C}}function qce(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),r={},a=_(null);let o=a,l=!1;function s(z,$,J,W,Q){let ae=!1;const Y=y(W,J,$);o!==Y&&(o=Y,f(o.object)),ae=E(z,W,J,Q),ae&&c(z,W,J,Q),Q!==null&&e.update(Q,n.ELEMENT_ARRAY_BUFFER),(ae||l)&&(l=!1,M(z,$,J,W),Q!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(Q).buffer))}function u(){return n.createVertexArray()}function f(z){return n.bindVertexArray(z)}function m(z){return n.deleteVertexArray(z)}function y(z,$,J){const W=J.wireframe===!0;let Q=r[z.id];Q===void 0&&(Q={},r[z.id]=Q);let ae=Q[$.id];ae===void 0&&(ae={},Q[$.id]=ae);let Y=ae[W];return Y===void 0&&(Y=_(u()),ae[W]=Y),Y}function _(z){const $=[],J=[],W=[];for(let Q=0;Q<t;Q++)$[Q]=0,J[Q]=0,W[Q]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:$,enabledAttributes:J,attributeDivisors:W,object:z,attributes:{},index:null}}function E(z,$,J,W){const Q=o.attributes,ae=$.attributes;let Y=0;const K=J.getAttributes();for(const ee in K)if(K[ee].location>=0){const q=Q[ee];let ie=ae[ee];if(ie===void 0&&(ee==="instanceMatrix"&&z.instanceMatrix&&(ie=z.instanceMatrix),ee==="instanceColor"&&z.instanceColor&&(ie=z.instanceColor)),q===void 0||q.attribute!==ie||ie&&q.data!==ie.data)return!0;Y++}return o.attributesNum!==Y||o.index!==W}function c(z,$,J,W){const Q={},ae=$.attributes;let Y=0;const K=J.getAttributes();for(const ee in K)if(K[ee].location>=0){let q=ae[ee];q===void 0&&(ee==="instanceMatrix"&&z.instanceMatrix&&(q=z.instanceMatrix),ee==="instanceColor"&&z.instanceColor&&(q=z.instanceColor));const ie={};ie.attribute=q,q&&q.data&&(ie.data=q.data),Q[ee]=ie,Y++}o.attributes=Q,o.attributesNum=Y,o.index=W}function p(){const z=o.newAttributes;for(let $=0,J=z.length;$<J;$++)z[$]=0}function g(z){b(z,0)}function b(z,$){const J=o.newAttributes,W=o.enabledAttributes,Q=o.attributeDivisors;J[z]=1,W[z]===0&&(n.enableVertexAttribArray(z),W[z]=1),Q[z]!==$&&(n.vertexAttribDivisor(z,$),Q[z]=$)}function C(){const z=o.newAttributes,$=o.enabledAttributes;for(let J=0,W=$.length;J<W;J++)$[J]!==z[J]&&(n.disableVertexAttribArray(J),$[J]=0)}function T(z,$,J,W,Q,ae,Y){Y===!0?n.vertexAttribIPointer(z,$,J,Q,ae):n.vertexAttribPointer(z,$,J,W,Q,ae)}function M(z,$,J,W){p();const Q=W.attributes,ae=J.getAttributes(),Y=$.defaultAttributeValues;for(const K in ae){const ee=ae[K];if(ee.location>=0){let de=Q[K];if(de===void 0&&(K==="instanceMatrix"&&z.instanceMatrix&&(de=z.instanceMatrix),K==="instanceColor"&&z.instanceColor&&(de=z.instanceColor)),de!==void 0){const q=de.normalized,ie=de.itemSize,he=e.get(de);if(he===void 0)continue;const fe=he.buffer,Z=he.type,pe=he.bytesPerElement,_e=Z===n.INT||Z===n.UNSIGNED_INT||de.gpuType===Fw;if(de.isInterleavedBufferAttribute){const Oe=de.data,we=Oe.stride,Te=de.offset;if(Oe.isInstancedInterleavedBuffer){for(let ze=0;ze<ee.locationSize;ze++)b(ee.location+ze,Oe.meshPerAttribute);z.isInstancedMesh!==!0&&W._maxInstanceCount===void 0&&(W._maxInstanceCount=Oe.meshPerAttribute*Oe.count)}else for(let ze=0;ze<ee.locationSize;ze++)g(ee.location+ze);n.bindBuffer(n.ARRAY_BUFFER,fe);for(let ze=0;ze<ee.locationSize;ze++)T(ee.location+ze,ie/ee.locationSize,Z,q,we*pe,(Te+ie/ee.locationSize*ze)*pe,_e)}else{if(de.isInstancedBufferAttribute){for(let Oe=0;Oe<ee.locationSize;Oe++)b(ee.location+Oe,de.meshPerAttribute);z.isInstancedMesh!==!0&&W._maxInstanceCount===void 0&&(W._maxInstanceCount=de.meshPerAttribute*de.count)}else for(let Oe=0;Oe<ee.locationSize;Oe++)g(ee.location+Oe);n.bindBuffer(n.ARRAY_BUFFER,fe);for(let Oe=0;Oe<ee.locationSize;Oe++)T(ee.location+Oe,ie/ee.locationSize,Z,q,ie*pe,ie/ee.locationSize*Oe*pe,_e)}}else if(Y!==void 0){const q=Y[K];if(q!==void 0)switch(q.length){case 2:n.vertexAttrib2fv(ee.location,q);break;case 3:n.vertexAttrib3fv(ee.location,q);break;case 4:n.vertexAttrib4fv(ee.location,q);break;default:n.vertexAttrib1fv(ee.location,q)}}}}C()}function O(){F();for(const z in r){const $=r[z];for(const J in $){const W=$[J];for(const Q in W)m(W[Q].object),delete W[Q];delete $[J]}delete r[z]}}function B(z){if(r[z.id]===void 0)return;const $=r[z.id];for(const J in $){const W=$[J];for(const Q in W)m(W[Q].object),delete W[Q];delete $[J]}delete r[z.id]}function P(z){for(const $ in r){const J=r[$];if(J[z.id]===void 0)continue;const W=J[z.id];for(const Q in W)m(W[Q].object),delete W[Q];delete J[z.id]}}function F(){U(),l=!0,o!==a&&(o=a,f(o.object))}function U(){a.geometry=null,a.program=null,a.wireframe=!1}return{setup:s,reset:F,resetDefaultState:U,dispose:O,releaseStatesOfGeometry:B,releaseStatesOfProgram:P,initAttributes:p,enableAttribute:g,disableUnusedAttributes:C}}function Kce(n,e,t){let r;function a(f){r=f}function o(f,m){n.drawArrays(r,f,m),t.update(m,r,1)}function l(f,m,y){y!==0&&(n.drawArraysInstanced(r,f,m,y),t.update(m,r,y))}function s(f,m,y){if(y===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,f,0,m,0,y);let E=0;for(let c=0;c<y;c++)E+=m[c];t.update(E,r,1)}function u(f,m,y,_){if(y===0)return;const E=e.get("WEBGL_multi_draw");if(E===null)for(let c=0;c<f.length;c++)l(f[c],m[c],_[c]);else{E.multiDrawArraysInstancedWEBGL(r,f,0,m,0,_,0,y);let c=0;for(let p=0;p<y;p++)c+=m[p]*_[p];t.update(c,r,1)}}this.setMode=a,this.render=o,this.renderInstances=l,this.renderMultiDraw=s,this.renderMultiDrawInstances=u}function Jce(n,e,t,r){let a;function o(){if(a!==void 0)return a;if(e.has("EXT_texture_filter_anisotropic")===!0){const P=e.get("EXT_texture_filter_anisotropic");a=n.getParameter(P.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else a=0;return a}function l(P){return!(P!==No&&r.convert(P)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function s(P){const F=P===D0&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(P!==Hc&&r.convert(P)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&P!==Rs&&!F)}function u(P){if(P==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";P="mediump"}return P==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let f=t.precision!==void 0?t.precision:"highp";const m=u(f);m!==f&&(console.warn("THREE.WebGLRenderer:",f,"not supported, using",m,"instead."),f=m);const y=t.logarithmicDepthBuffer===!0,_=t.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),E=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),c=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),p=n.getParameter(n.MAX_TEXTURE_SIZE),g=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),b=n.getParameter(n.MAX_VERTEX_ATTRIBS),C=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),T=n.getParameter(n.MAX_VARYING_VECTORS),M=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),O=c>0,B=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:o,getMaxPrecision:u,textureFormatReadable:l,textureTypeReadable:s,precision:f,logarithmicDepthBuffer:y,reverseDepthBuffer:_,maxTextures:E,maxVertexTextures:c,maxTextureSize:p,maxCubemapSize:g,maxAttributes:b,maxVertexUniforms:C,maxVaryings:T,maxFragmentUniforms:M,vertexTextures:O,maxSamples:B}}function Qce(n){const e=this;let t=null,r=0,a=!1,o=!1;const l=new Qd,s=new ti,u={value:null,needsUpdate:!1};this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(y,_){const E=y.length!==0||_||r!==0||a;return a=_,r=y.length,E},this.beginShadows=function(){o=!0,m(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(y,_){t=m(y,_,0)},this.setState=function(y,_,E){const c=y.clippingPlanes,p=y.clipIntersection,g=y.clipShadows,b=n.get(y);if(!a||c===null||c.length===0||o&&!g)o?m(null):f();else{const C=o?0:r,T=C*4;let M=b.clippingState||null;u.value=M,M=m(c,_,T,E);for(let O=0;O!==T;++O)M[O]=t[O];b.clippingState=M,this.numIntersection=p?this.numPlanes:0,this.numPlanes+=C}};function f(){u.value!==t&&(u.value=t,u.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function m(y,_,E,c){const p=y!==null?y.length:0;let g=null;if(p!==0){if(g=u.value,c!==!0||g===null){const b=E+p*4,C=_.matrixWorldInverse;s.getNormalMatrix(C),(g===null||g.length<b)&&(g=new Float32Array(b));for(let T=0,M=E;T!==p;++T,M+=4)l.copy(y[T]).applyMatrix4(C,s),l.normal.toArray(g,M),g[M+3]=l.constant}u.value=g,u.needsUpdate=!0}return e.numPlanes=p,e.numIntersection=0,g}}function Zce(n){let e=new WeakMap;function t(l,s){return s===iS?l.mapping=mf:s===rS&&(l.mapping=Uh),l}function r(l){if(l&&l.isTexture){const s=l.mapping;if(s===iS||s===rS)if(e.has(l)){const u=e.get(l).texture;return t(u,l.mapping)}else{const u=l.image;if(u&&u.height>0){const f=new X8(u.height);return f.fromEquirectangularTexture(n,l),e.set(l,f),l.addEventListener("dispose",a),t(f.texture,l.mapping)}else return null}}return l}function a(l){const s=l.target;s.removeEventListener("dispose",a);const u=e.get(s);u!==void 0&&(e.delete(s),u.dispose())}function o(){e=new WeakMap}return{get:r,dispose:o}}const Nv=4,K3=[.125,.215,.35,.446,.526,.582],tm=20,RT=new uf,J3=new en;let OT=null,IT=0,BT=0,DT=!1;const $p=(1+Math.sqrt(5))/2,rv=1/$p,Q3=[new be(-$p,rv,0),new be($p,rv,0),new be(-rv,0,$p),new be(rv,0,$p),new be(0,$p,-rv),new be(0,$p,rv),new be(-1,1,-1),new be(1,1,-1),new be(-1,1,1),new be(1,1,1)],eue=new be;class U2{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,a=100,o={}){const{size:l=256,position:s=eue}=o;OT=this._renderer.getRenderTarget(),IT=this._renderer.getActiveCubeFace(),BT=this._renderer.getActiveMipmapLevel(),DT=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(l);const u=this._allocateTargets();return u.depthBuffer=!0,this._sceneToCubeUV(e,r,a,u,s),t>0&&this._blur(u,0,0,t),this._applyPMREM(u),this._cleanup(u),u}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=tN(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=eN(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(OT,IT,BT),this._renderer.xr.enabled=DT,e.scissorTest=!1,pC(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===mf||e.mapping===Uh?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),OT=this._renderer.getRenderTarget(),IT=this._renderer.getActiveCubeFace(),BT=this._renderer.getActiveMipmapLevel(),DT=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:ma,minFilter:ma,generateMipmaps:!1,type:D0,format:No,colorSpace:Hh,depthBuffer:!1},a=Z3(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=Z3(e,t,r);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=tue(o)),this._blurMaterial=nue(o,e,t)}return a}_compileMaterial(e){const t=new ga(this._lodPlanes[0],e);this._renderer.compile(t,RT)}_sceneToCubeUV(e,t,r,a,o){const u=new Xr(90,1,t,r),f=[1,-1,1,1,1,1],m=[1,1,1,-1,-1,-1],y=this._renderer,_=y.autoClear,E=y.toneMapping;y.getClearColor(J3),y.toneMapping=Wu,y.autoClear=!1;const c=new tl({name:"PMREM.Background",side:ls,depthWrite:!1,depthTest:!1}),p=new ga(new km,c);let g=!1;const b=e.background;b?b.isColor&&(c.color.copy(b),e.background=null,g=!0):(c.color.copy(J3),g=!0);for(let C=0;C<6;C++){const T=C%3;T===0?(u.up.set(0,f[C],0),u.position.set(o.x,o.y,o.z),u.lookAt(o.x+m[C],o.y,o.z)):T===1?(u.up.set(0,0,f[C]),u.position.set(o.x,o.y,o.z),u.lookAt(o.x,o.y+m[C],o.z)):(u.up.set(0,f[C],0),u.position.set(o.x,o.y,o.z),u.lookAt(o.x,o.y,o.z+m[C]));const M=this._cubeSize;pC(a,T*M,C>2?M:0,M,M),y.setRenderTarget(a),g&&y.render(p,u),y.render(e,u)}p.geometry.dispose(),p.material.dispose(),y.toneMapping=E,y.autoClear=_,e.background=b}_textureToCubeUV(e,t){const r=this._renderer,a=e.mapping===mf||e.mapping===Uh;a?(this._cubemapMaterial===null&&(this._cubemapMaterial=tN()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=eN());const o=a?this._cubemapMaterial:this._equirectMaterial,l=new ga(this._lodPlanes[0],o),s=o.uniforms;s.envMap.value=e;const u=this._cubeSize;pC(t,0,0,3*u,2*u),r.setRenderTarget(t),r.render(l,RT)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;const a=this._lodPlanes.length;for(let o=1;o<a;o++){const l=Math.sqrt(this._sigmas[o]*this._sigmas[o]-this._sigmas[o-1]*this._sigmas[o-1]),s=Q3[(a-o-1)%Q3.length];this._blur(e,o-1,o,l,s)}t.autoClear=r}_blur(e,t,r,a,o){const l=this._pingPongRenderTarget;this._halfBlur(e,l,t,r,a,"latitudinal",o),this._halfBlur(l,e,r,r,a,"longitudinal",o)}_halfBlur(e,t,r,a,o,l,s){const u=this._renderer,f=this._blurMaterial;l!=="latitudinal"&&l!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const m=3,y=new ga(this._lodPlanes[a],f),_=f.uniforms,E=this._sizeLods[r]-1,c=isFinite(o)?Math.PI/(2*E):2*Math.PI/(2*tm-1),p=o/c,g=isFinite(o)?1+Math.floor(m*p):tm;g>tm&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${g} samples when the maximum is set to ${tm}`);const b=[];let C=0;for(let P=0;P<tm;++P){const F=P/p,U=Math.exp(-F*F/2);b.push(U),P===0?C+=U:P<g&&(C+=2*U)}for(let P=0;P<b.length;P++)b[P]=b[P]/C;_.envMap.value=e.texture,_.samples.value=g,_.weights.value=b,_.latitudinal.value=l==="latitudinal",s&&(_.poleAxis.value=s);const{_lodMax:T}=this;_.dTheta.value=c,_.mipInt.value=T-r;const M=this._sizeLods[a],O=3*M*(a>T-Nv?a-T+Nv:0),B=4*(this._cubeSize-M);pC(t,O,B,3*M,2*M),u.setRenderTarget(t),u.render(y,RT)}}function tue(n){const e=[],t=[],r=[];let a=n;const o=n-Nv+1+K3.length;for(let l=0;l<o;l++){const s=Math.pow(2,a);t.push(s);let u=1/s;l>n-Nv?u=K3[l-n+Nv-1]:l===0&&(u=0),r.push(u);const f=1/(s-2),m=-f,y=1+f,_=[m,m,y,m,y,y,m,m,y,y,m,y],E=6,c=6,p=3,g=2,b=1,C=new Float32Array(p*c*E),T=new Float32Array(g*c*E),M=new Float32Array(b*c*E);for(let B=0;B<E;B++){const P=B%3*2/3-1,F=B>2?0:-1,U=[P,F,0,P+2/3,F,0,P+2/3,F+1,0,P,F,0,P+2/3,F+1,0,P,F+1,0];C.set(U,p*c*B),T.set(_,g*c*B);const z=[B,B,B,B,B,B];M.set(z,b*c*B)}const O=new ni;O.setAttribute("position",new ki(C,p)),O.setAttribute("uv",new ki(T,g)),O.setAttribute("faceIndex",new ki(M,b)),e.push(O),a>Nv&&a--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function Z3(n,e,t){const r=new ed(n,e,t);return r.texture.mapping=B0,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function pC(n,e,t,r,a){n.viewport.set(e,t,r,a),n.scissor.set(e,t,r,a)}function nue(n,e,t){const r=new Float32Array(tm),a=new be(0,1,0);return new Gc({name:"SphericalGaussianBlur",defines:{n:tm,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:a}},vertexShader:ZI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:lf,depthTest:!1,depthWrite:!1})}function eN(){return new Gc({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:ZI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:lf,depthTest:!1,depthWrite:!1})}function tN(){return new Gc({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:ZI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:lf,depthTest:!1,depthWrite:!1})}function ZI(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function iue(n){let e=new WeakMap,t=null;function r(s){if(s&&s.isTexture){const u=s.mapping,f=u===iS||u===rS,m=u===mf||u===Uh;if(f||m){let y=e.get(s);const _=y!==void 0?y.texture.pmremVersion:0;if(s.isRenderTargetTexture&&s.pmremVersion!==_)return t===null&&(t=new U2(n)),y=f?t.fromEquirectangular(s,y):t.fromCubemap(s,y),y.texture.pmremVersion=s.pmremVersion,e.set(s,y),y.texture;if(y!==void 0)return y.texture;{const E=s.image;return f&&E&&E.height>0||m&&E&&a(E)?(t===null&&(t=new U2(n)),y=f?t.fromEquirectangular(s):t.fromCubemap(s),y.texture.pmremVersion=s.pmremVersion,e.set(s,y),s.addEventListener("dispose",o),y.texture):null}}}return s}function a(s){let u=0;const f=6;for(let m=0;m<f;m++)s[m]!==void 0&&u++;return u===f}function o(s){const u=s.target;u.removeEventListener("dispose",o);const f=e.get(u);f!==void 0&&(e.delete(u),f.dispose())}function l(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:l}}function rue(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let a;switch(r){case"WEBGL_depth_texture":a=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":a=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":a=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":a=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:a=n.getExtension(r)}return e[r]=a,a}return{has:function(r){return t(r)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(r){const a=t(r);return a===null&&kp("THREE.WebGLRenderer: "+r+" extension not supported."),a}}}function aue(n,e,t,r){const a={},o=new WeakMap;function l(y){const _=y.target;_.index!==null&&e.remove(_.index);for(const c in _.attributes)e.remove(_.attributes[c]);_.removeEventListener("dispose",l),delete a[_.id];const E=o.get(_);E&&(e.remove(E),o.delete(_)),r.releaseStatesOfGeometry(_),_.isInstancedBufferGeometry===!0&&delete _._maxInstanceCount,t.memory.geometries--}function s(y,_){return a[_.id]===!0||(_.addEventListener("dispose",l),a[_.id]=!0,t.memory.geometries++),_}function u(y){const _=y.attributes;for(const E in _)e.update(_[E],n.ARRAY_BUFFER)}function f(y){const _=[],E=y.index,c=y.attributes.position;let p=0;if(E!==null){const C=E.array;p=E.version;for(let T=0,M=C.length;T<M;T+=3){const O=C[T+0],B=C[T+1],P=C[T+2];_.push(O,B,B,P,P,O)}}else if(c!==void 0){const C=c.array;p=c.version;for(let T=0,M=C.length/3-1;T<M;T+=3){const O=T+0,B=T+1,P=T+2;_.push(O,B,B,P,P,O)}}else return;const g=new(H8(_)?CI:xI)(_,1);g.version=p;const b=o.get(y);b&&e.remove(b),o.set(y,g)}function m(y){const _=o.get(y);if(_){const E=y.index;E!==null&&_.version<E.version&&f(y)}else f(y);return o.get(y)}return{get:s,update:u,getWireframeAttribute:m}}function oue(n,e,t){let r;function a(_){r=_}let o,l;function s(_){o=_.type,l=_.bytesPerElement}function u(_,E){n.drawElements(r,E,o,_*l),t.update(E,r,1)}function f(_,E,c){c!==0&&(n.drawElementsInstanced(r,E,o,_*l,c),t.update(E,r,c))}function m(_,E,c){if(c===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,E,0,o,_,0,c);let g=0;for(let b=0;b<c;b++)g+=E[b];t.update(g,r,1)}function y(_,E,c,p){if(c===0)return;const g=e.get("WEBGL_multi_draw");if(g===null)for(let b=0;b<_.length;b++)f(_[b]/l,E[b],p[b]);else{g.multiDrawElementsInstancedWEBGL(r,E,0,o,_,0,p,0,c);let b=0;for(let C=0;C<c;C++)b+=E[C]*p[C];t.update(b,r,1)}}this.setMode=a,this.setIndex=s,this.render=u,this.renderInstances=f,this.renderMultiDraw=m,this.renderMultiDrawInstances=y}function sue(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(o,l,s){switch(t.calls++,l){case n.TRIANGLES:t.triangles+=s*(o/3);break;case n.LINES:t.lines+=s*(o/2);break;case n.LINE_STRIP:t.lines+=s*(o-1);break;case n.LINE_LOOP:t.lines+=s*o;break;case n.POINTS:t.points+=s*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",l);break}}function a(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:a,update:r}}function lue(n,e,t){const r=new WeakMap,a=new Gi;function o(l,s,u){const f=l.morphTargetInfluences,m=s.morphAttributes.position||s.morphAttributes.normal||s.morphAttributes.color,y=m!==void 0?m.length:0;let _=r.get(s);if(_===void 0||_.count!==y){let z=function(){F.dispose(),r.delete(s),s.removeEventListener("dispose",z)};var E=z;_!==void 0&&_.texture.dispose();const c=s.morphAttributes.position!==void 0,p=s.morphAttributes.normal!==void 0,g=s.morphAttributes.color!==void 0,b=s.morphAttributes.position||[],C=s.morphAttributes.normal||[],T=s.morphAttributes.color||[];let M=0;c===!0&&(M=1),p===!0&&(M=2),g===!0&&(M=3);let O=s.attributes.position.count*M,B=1;O>e.maxTextureSize&&(B=Math.ceil(O/e.maxTextureSize),O=e.maxTextureSize);const P=new Float32Array(O*B*4*y),F=new US(P,O,B,y);F.type=Rs,F.needsUpdate=!0;const U=M*4;for(let $=0;$<y;$++){const J=b[$],W=C[$],Q=T[$],ae=O*B*4*$;for(let Y=0;Y<J.count;Y++){const K=Y*U;c===!0&&(a.fromBufferAttribute(J,Y),P[ae+K+0]=a.x,P[ae+K+1]=a.y,P[ae+K+2]=a.z,P[ae+K+3]=0),p===!0&&(a.fromBufferAttribute(W,Y),P[ae+K+4]=a.x,P[ae+K+5]=a.y,P[ae+K+6]=a.z,P[ae+K+7]=0),g===!0&&(a.fromBufferAttribute(Q,Y),P[ae+K+8]=a.x,P[ae+K+9]=a.y,P[ae+K+10]=a.z,P[ae+K+11]=Q.itemSize===4?a.w:1)}}_={count:y,texture:F,size:new Tt(O,B)},r.set(s,_),s.addEventListener("dispose",z)}if(l.isInstancedMesh===!0&&l.morphTexture!==null)u.getUniforms().setValue(n,"morphTexture",l.morphTexture,t);else{let c=0;for(let g=0;g<f.length;g++)c+=f[g];const p=s.morphTargetsRelative?1:1-c;u.getUniforms().setValue(n,"morphTargetBaseInfluence",p),u.getUniforms().setValue(n,"morphTargetInfluences",f)}u.getUniforms().setValue(n,"morphTargetsTexture",_.texture,t),u.getUniforms().setValue(n,"morphTargetsTextureSize",_.size)}return{update:o}}function cue(n,e,t,r){let a=new WeakMap;function o(u){const f=r.render.frame,m=u.geometry,y=e.get(u,m);if(a.get(y)!==f&&(e.update(y),a.set(y,f)),u.isInstancedMesh&&(u.hasEventListener("dispose",s)===!1&&u.addEventListener("dispose",s),a.get(u)!==f&&(t.update(u.instanceMatrix,n.ARRAY_BUFFER),u.instanceColor!==null&&t.update(u.instanceColor,n.ARRAY_BUFFER),a.set(u,f))),u.isSkinnedMesh){const _=u.skeleton;a.get(_)!==f&&(_.update(),a.set(_,f))}return y}function l(){a=new WeakMap}function s(u){const f=u.target;f.removeEventListener("dispose",s),t.remove(f.instanceMatrix),f.instanceColor!==null&&t.remove(f.instanceColor)}return{update:o,dispose:l}}const F6=new Lr,nN=new OI(1,1),H6=new US,G6=new Xw,k6=new FS,iN=[],rN=[],aN=new Float32Array(16),oN=new Float32Array(9),sN=new Float32Array(4);function z0(n,e,t){const r=n[0];if(r<=0||r>0)return n;const a=e*t;let o=iN[a];if(o===void 0&&(o=new Float32Array(a),iN[a]=o),e!==0){r.toArray(o,0);for(let l=1,s=0;l!==e;++l)s+=t,n[l].toArray(o,s)}return o}function Na(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function za(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function mA(n,e){let t=rN[e];t===void 0&&(t=new Int32Array(e),rN[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function uue(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function due(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Na(t,e))return;n.uniform2fv(this.addr,e),za(t,e)}}function fue(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Na(t,e))return;n.uniform3fv(this.addr,e),za(t,e)}}function hue(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Na(t,e))return;n.uniform4fv(this.addr,e),za(t,e)}}function pue(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Na(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),za(t,e)}else{if(Na(t,r))return;sN.set(r),n.uniformMatrix2fv(this.addr,!1,sN),za(t,r)}}function mue(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Na(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),za(t,e)}else{if(Na(t,r))return;oN.set(r),n.uniformMatrix3fv(this.addr,!1,oN),za(t,r)}}function gue(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Na(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),za(t,e)}else{if(Na(t,r))return;aN.set(r),n.uniformMatrix4fv(this.addr,!1,aN),za(t,r)}}function vue(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function yue(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Na(t,e))return;n.uniform2iv(this.addr,e),za(t,e)}}function bue(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Na(t,e))return;n.uniform3iv(this.addr,e),za(t,e)}}function Sue(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Na(t,e))return;n.uniform4iv(this.addr,e),za(t,e)}}function _ue(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function xue(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Na(t,e))return;n.uniform2uiv(this.addr,e),za(t,e)}}function Cue(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Na(t,e))return;n.uniform3uiv(this.addr,e),za(t,e)}}function Eue(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Na(t,e))return;n.uniform4uiv(this.addr,e),za(t,e)}}function wue(n,e,t){const r=this.cache,a=t.allocateTextureUnit();r[0]!==a&&(n.uniform1i(this.addr,a),r[0]=a);let o;this.type===n.SAMPLER_2D_SHADOW?(nN.compareFunction=SI,o=nN):o=F6,t.setTexture2D(e||o,a)}function Aue(n,e,t){const r=this.cache,a=t.allocateTextureUnit();r[0]!==a&&(n.uniform1i(this.addr,a),r[0]=a),t.setTexture3D(e||G6,a)}function Mue(n,e,t){const r=this.cache,a=t.allocateTextureUnit();r[0]!==a&&(n.uniform1i(this.addr,a),r[0]=a),t.setTextureCube(e||k6,a)}function Tue(n,e,t){const r=this.cache,a=t.allocateTextureUnit();r[0]!==a&&(n.uniform1i(this.addr,a),r[0]=a),t.setTexture2DArray(e||H6,a)}function Rue(n){switch(n){case 5126:return uue;case 35664:return due;case 35665:return fue;case 35666:return hue;case 35674:return pue;case 35675:return mue;case 35676:return gue;case 5124:case 35670:return vue;case 35667:case 35671:return yue;case 35668:case 35672:return bue;case 35669:case 35673:return Sue;case 5125:return _ue;case 36294:return xue;case 36295:return Cue;case 36296:return Eue;case 35678:case 36198:case 36298:case 36306:case 35682:return wue;case 35679:case 36299:case 36307:return Aue;case 35680:case 36300:case 36308:case 36293:return Mue;case 36289:case 36303:case 36311:case 36292:return Tue}}function Oue(n,e){n.uniform1fv(this.addr,e)}function Iue(n,e){const t=z0(e,this.size,2);n.uniform2fv(this.addr,t)}function Bue(n,e){const t=z0(e,this.size,3);n.uniform3fv(this.addr,t)}function Due(n,e){const t=z0(e,this.size,4);n.uniform4fv(this.addr,t)}function Pue(n,e){const t=z0(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function Lue(n,e){const t=z0(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function Nue(n,e){const t=z0(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function zue(n,e){n.uniform1iv(this.addr,e)}function Uue(n,e){n.uniform2iv(this.addr,e)}function Fue(n,e){n.uniform3iv(this.addr,e)}function Hue(n,e){n.uniform4iv(this.addr,e)}function Gue(n,e){n.uniform1uiv(this.addr,e)}function kue(n,e){n.uniform2uiv(this.addr,e)}function $ue(n,e){n.uniform3uiv(this.addr,e)}function Vue(n,e){n.uniform4uiv(this.addr,e)}function jue(n,e,t){const r=this.cache,a=e.length,o=mA(t,a);Na(r,o)||(n.uniform1iv(this.addr,o),za(r,o));for(let l=0;l!==a;++l)t.setTexture2D(e[l]||F6,o[l])}function Wue(n,e,t){const r=this.cache,a=e.length,o=mA(t,a);Na(r,o)||(n.uniform1iv(this.addr,o),za(r,o));for(let l=0;l!==a;++l)t.setTexture3D(e[l]||G6,o[l])}function Xue(n,e,t){const r=this.cache,a=e.length,o=mA(t,a);Na(r,o)||(n.uniform1iv(this.addr,o),za(r,o));for(let l=0;l!==a;++l)t.setTextureCube(e[l]||k6,o[l])}function Yue(n,e,t){const r=this.cache,a=e.length,o=mA(t,a);Na(r,o)||(n.uniform1iv(this.addr,o),za(r,o));for(let l=0;l!==a;++l)t.setTexture2DArray(e[l]||H6,o[l])}function que(n){switch(n){case 5126:return Oue;case 35664:return Iue;case 35665:return Bue;case 35666:return Due;case 35674:return Pue;case 35675:return Lue;case 35676:return Nue;case 5124:case 35670:return zue;case 35667:case 35671:return Uue;case 35668:case 35672:return Fue;case 35669:case 35673:return Hue;case 5125:return Gue;case 36294:return kue;case 36295:return $ue;case 36296:return Vue;case 35678:case 36198:case 36298:case 36306:case 35682:return jue;case 35679:case 36299:case 36307:return Wue;case 35680:case 36300:case 36308:case 36293:return Xue;case 36289:case 36303:case 36311:case 36292:return Yue}}class Kue{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.setValue=Rue(t.type)}}class Jue{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=que(t.type)}}class Que{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const a=this.seq;for(let o=0,l=a.length;o!==l;++o){const s=a[o];s.setValue(e,t[s.id],r)}}}const PT=/(\w+)(\])?(\[|\.)?/g;function lN(n,e){n.seq.push(e),n.map[e.id]=e}function Zue(n,e,t){const r=n.name,a=r.length;for(PT.lastIndex=0;;){const o=PT.exec(r),l=PT.lastIndex;let s=o[1];const u=o[2]==="]",f=o[3];if(u&&(s=s|0),f===void 0||f==="["&&l+2===a){lN(t,f===void 0?new Kue(s,n,e):new Jue(s,n,e));break}else{let y=t.map[s];y===void 0&&(y=new Que(s),lN(t,y)),t=y}}}class jC{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let a=0;a<r;++a){const o=e.getActiveUniform(t,a),l=e.getUniformLocation(t,o.name);Zue(o,l,this)}}setValue(e,t,r,a){const o=this.map[t];o!==void 0&&o.setValue(e,r,a)}setOptional(e,t,r){const a=t[r];a!==void 0&&this.setValue(e,r,a)}static upload(e,t,r,a){for(let o=0,l=t.length;o!==l;++o){const s=t[o],u=r[s.id];u.needsUpdate!==!1&&s.setValue(e,u.value,a)}}static seqWithValue(e,t){const r=[];for(let a=0,o=e.length;a!==o;++a){const l=e[a];l.id in t&&r.push(l)}return r}}function cN(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}const ede=37297;let tde=0;function nde(n,e){const t=n.split(`
`),r=[],a=Math.max(e-6,0),o=Math.min(e+6,t.length);for(let l=a;l<o;l++){const s=l+1;r.push(`${s===e?">":" "} ${s}: ${t[l]}`)}return r.join(`
`)}const uN=new ti;function ide(n){Ii._getMatrix(uN,Ii.workingColorSpace,n);const e=`mat3( ${uN.elements.map(t=>t.toFixed(4))} )`;switch(Ii.getTransfer(n)){case oS:return[e,"LinearTransferOETF"];case sr:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function dN(n,e,t){const r=n.getShaderParameter(e,n.COMPILE_STATUS),a=n.getShaderInfoLog(e).trim();if(r&&a==="")return"";const o=/ERROR: 0:(\d+)/.exec(a);if(o){const l=parseInt(o[1]);return t.toUpperCase()+`

`+a+`

`+nde(n.getShaderSource(e),l)}else return a}function rde(n,e){const t=ide(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function ade(n,e){let t;switch(e){case y8:t="Linear";break;case b8:t="Reinhard";break;case S8:t="Cineon";break;case lI:t="ACESFilmic";break;case x8:t="AgX";break;case C8:t="Neutral";break;case _8:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const mC=new be;function ode(){Ii.getLuminanceCoefficients(mC);const n=mC.x.toFixed(4),e=mC.y.toFixed(4),t=mC.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function sde(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(ub).join(`
`)}function lde(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function cde(n,e){const t={},r=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let a=0;a<r;a++){const o=n.getActiveAttrib(e,a),l=o.name;let s=1;o.type===n.FLOAT_MAT2&&(s=2),o.type===n.FLOAT_MAT3&&(s=3),o.type===n.FLOAT_MAT4&&(s=4),t[l]={type:o.type,location:n.getAttribLocation(e,l),locationSize:s}}return t}function ub(n){return n!==""}function fN(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function hN(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const ude=/^[ \t]*#include +<([\w\d./]+)>/gm;function F2(n){return n.replace(ude,fde)}const dde=new Map;function fde(n,e){let t=ui[e];if(t===void 0){const r=dde.get(e);if(r!==void 0)t=ui[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return F2(t)}const hde=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function pN(n){return n.replace(hde,pde)}function pde(n,e,t,r){let a="";for(let o=parseInt(e);o<parseInt(t);o++)a+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return a}function mN(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function mde(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===Nw?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===Rb?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Mc&&(e="SHADOWMAP_TYPE_VSM"),e}function gde(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case mf:case Uh:e="ENVMAP_TYPE_CUBE";break;case B0:e="ENVMAP_TYPE_CUBE_UV";break}return e}function vde(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Uh:e="ENVMAP_MODE_REFRACTION";break}return e}function yde(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case NS:e="ENVMAP_BLENDING_MULTIPLY";break;case g8:e="ENVMAP_BLENDING_MIX";break;case v8:e="ENVMAP_BLENDING_ADD";break}return e}function bde(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function Sde(n,e,t,r){const a=n.getContext(),o=t.defines;let l=t.vertexShader,s=t.fragmentShader;const u=mde(t),f=gde(t),m=vde(t),y=yde(t),_=bde(t),E=sde(t),c=lde(o),p=a.createProgram();let g,b,C=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(g=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,c].filter(ub).join(`
`),g.length>0&&(g+=`
`),b=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,c].filter(ub).join(`
`),b.length>0&&(b+=`
`)):(g=[mN(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,c,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+m:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(ub).join(`
`),b=[mN(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,c,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+f:"",t.envMap?"#define "+m:"",t.envMap?"#define "+y:"",_?"#define CUBEUV_TEXEL_WIDTH "+_.texelWidth:"",_?"#define CUBEUV_TEXEL_HEIGHT "+_.texelHeight:"",_?"#define CUBEUV_MAX_MIP "+_.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Wu?"#define TONE_MAPPING":"",t.toneMapping!==Wu?ui.tonemapping_pars_fragment:"",t.toneMapping!==Wu?ade("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",ui.colorspace_pars_fragment,rde("linearToOutputTexel",t.outputColorSpace),ode(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(ub).join(`
`)),l=F2(l),l=fN(l,t),l=hN(l,t),s=F2(s),s=fN(s,t),s=hN(s,t),l=pN(l),s=pN(s),t.isRawShaderMaterial!==!0&&(C=`#version 300 es
`,g=[E,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+g,b=["#define varying in",t.glslVersion===O2?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===O2?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+b);const T=C+g+l,M=C+b+s,O=cN(a,a.VERTEX_SHADER,T),B=cN(a,a.FRAGMENT_SHADER,M);a.attachShader(p,O),a.attachShader(p,B),t.index0AttributeName!==void 0?a.bindAttribLocation(p,0,t.index0AttributeName):t.morphTargets===!0&&a.bindAttribLocation(p,0,"position"),a.linkProgram(p);function P($){if(n.debug.checkShaderErrors){const J=a.getProgramInfoLog(p).trim(),W=a.getShaderInfoLog(O).trim(),Q=a.getShaderInfoLog(B).trim();let ae=!0,Y=!0;if(a.getProgramParameter(p,a.LINK_STATUS)===!1)if(ae=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(a,p,O,B);else{const K=dN(a,O,"vertex"),ee=dN(a,B,"fragment");console.error("THREE.WebGLProgram: Shader Error "+a.getError()+" - VALIDATE_STATUS "+a.getProgramParameter(p,a.VALIDATE_STATUS)+`

Material Name: `+$.name+`
Material Type: `+$.type+`

Program Info Log: `+J+`
`+K+`
`+ee)}else J!==""?console.warn("THREE.WebGLProgram: Program Info Log:",J):(W===""||Q==="")&&(Y=!1);Y&&($.diagnostics={runnable:ae,programLog:J,vertexShader:{log:W,prefix:g},fragmentShader:{log:Q,prefix:b}})}a.deleteShader(O),a.deleteShader(B),F=new jC(a,p),U=cde(a,p)}let F;this.getUniforms=function(){return F===void 0&&P(this),F};let U;this.getAttributes=function(){return U===void 0&&P(this),U};let z=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return z===!1&&(z=a.getProgramParameter(p,ede)),z},this.destroy=function(){r.releaseStatesOfProgram(this),a.deleteProgram(p),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=tde++,this.cacheKey=e,this.usedTimes=1,this.program=p,this.vertexShader=O,this.fragmentShader=B,this}let _de=0;class xde{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,a=this._getShaderStage(t),o=this._getShaderStage(r),l=this._getShaderCacheForMaterial(e);return l.has(a)===!1&&(l.add(a),a.usedTimes++),l.has(o)===!1&&(l.add(o),o.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new Cde(e),t.set(e,r)),r}}class Cde{constructor(e){this.id=_de++,this.code=e,this.usedTimes=0}}function Ede(n,e,t,r,a,o,l){const s=new g0,u=new xde,f=new Set,m=[],y=a.logarithmicDepthBuffer,_=a.vertexTextures;let E=a.precision;const c={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function p(U){return f.add(U),U===0?"uv":`uv${U}`}function g(U,z,$,J,W){const Q=J.fog,ae=W.geometry,Y=U.isMeshStandardMaterial?J.environment:null,K=(U.isMeshStandardMaterial?t:e).get(U.envMap||Y),ee=K&&K.mapping===B0?K.image.height:null,de=c[U.type];U.precision!==null&&(E=a.getMaxPrecision(U.precision),E!==U.precision&&console.warn("THREE.WebGLProgram.getParameters:",U.precision,"not supported, using",E,"instead."));const q=ae.morphAttributes.position||ae.morphAttributes.normal||ae.morphAttributes.color,ie=q!==void 0?q.length:0;let he=0;ae.morphAttributes.position!==void 0&&(he=1),ae.morphAttributes.normal!==void 0&&(he=2),ae.morphAttributes.color!==void 0&&(he=3);let fe,Z,pe,_e;if(de){const Lt=Ic[de];fe=Lt.vertexShader,Z=Lt.fragmentShader}else fe=U.vertexShader,Z=U.fragmentShader,u.update(U),pe=u.getVertexShaderID(U),_e=u.getFragmentShaderID(U);const Oe=n.getRenderTarget(),we=n.state.buffers.depth.getReversed(),Te=W.isInstancedMesh===!0,ze=W.isBatchedMesh===!0,yt=!!U.map,Be=!!U.matcap,xe=!!K,re=!!U.aoMap,Fe=!!U.lightMap,Ie=!!U.bumpMap,qe=!!U.normalMap,$e=!!U.displacementMap,ct=!!U.emissiveMap,st=!!U.metalnessMap,ce=!!U.roughnessMap,oe=U.anisotropy>0,Ee=U.clearcoat>0,De=U.dispersion>0,Ke=U.iridescence>0,He=U.sheen>0,gt=U.transmission>0,lt=oe&&!!U.anisotropyMap,pt=Ee&&!!U.clearcoatMap,It=Ee&&!!U.clearcoatNormalMap,ot=Ee&&!!U.clearcoatRoughnessMap,_t=Ke&&!!U.iridescenceMap,Ct=Ke&&!!U.iridescenceThicknessMap,We=He&&!!U.sheenColorMap,rt=He&&!!U.sheenRoughnessMap,Se=!!U.specularMap,Ge=!!U.specularColorMap,St=!!U.specularIntensityMap,Ae=gt&&!!U.transmissionMap,xt=gt&&!!U.thicknessMap,et=!!U.gradientMap,mt=!!U.alphaMap,Nt=U.alphaTest>0,Bt=!!U.alphaHash,Qt=!!U.extensions;let sn=Wu;U.toneMapped&&(Oe===null||Oe.isXRRenderTarget===!0)&&(sn=n.toneMapping);const Yt={shaderID:de,shaderType:U.type,shaderName:U.name,vertexShader:fe,fragmentShader:Z,defines:U.defines,customVertexShaderID:pe,customFragmentShaderID:_e,isRawShaderMaterial:U.isRawShaderMaterial===!0,glslVersion:U.glslVersion,precision:E,batching:ze,batchingColor:ze&&W._colorsTexture!==null,instancing:Te,instancingColor:Te&&W.instanceColor!==null,instancingMorph:Te&&W.morphTexture!==null,supportsVertexTextures:_,outputColorSpace:Oe===null?n.outputColorSpace:Oe.isXRRenderTarget===!0?Oe.texture.colorSpace:Hh,alphaToCoverage:!!U.alphaToCoverage,map:yt,matcap:Be,envMap:xe,envMapMode:xe&&K.mapping,envMapCubeUVHeight:ee,aoMap:re,lightMap:Fe,bumpMap:Ie,normalMap:qe,displacementMap:_&&$e,emissiveMap:ct,normalMapObjectSpace:qe&&U.normalMapType===I8,normalMapTangentSpace:qe&&U.normalMapType===$h,metalnessMap:st,roughnessMap:ce,anisotropy:oe,anisotropyMap:lt,clearcoat:Ee,clearcoatMap:pt,clearcoatNormalMap:It,clearcoatRoughnessMap:ot,dispersion:De,iridescence:Ke,iridescenceMap:_t,iridescenceThicknessMap:Ct,sheen:He,sheenColorMap:We,sheenRoughnessMap:rt,specularMap:Se,specularColorMap:Ge,specularIntensityMap:St,transmission:gt,transmissionMap:Ae,thicknessMap:xt,gradientMap:et,opaque:U.transparent===!1&&U.blending===bm&&U.alphaToCoverage===!1,alphaMap:mt,alphaTest:Nt,alphaHash:Bt,combine:U.combine,mapUv:yt&&p(U.map.channel),aoMapUv:re&&p(U.aoMap.channel),lightMapUv:Fe&&p(U.lightMap.channel),bumpMapUv:Ie&&p(U.bumpMap.channel),normalMapUv:qe&&p(U.normalMap.channel),displacementMapUv:$e&&p(U.displacementMap.channel),emissiveMapUv:ct&&p(U.emissiveMap.channel),metalnessMapUv:st&&p(U.metalnessMap.channel),roughnessMapUv:ce&&p(U.roughnessMap.channel),anisotropyMapUv:lt&&p(U.anisotropyMap.channel),clearcoatMapUv:pt&&p(U.clearcoatMap.channel),clearcoatNormalMapUv:It&&p(U.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ot&&p(U.clearcoatRoughnessMap.channel),iridescenceMapUv:_t&&p(U.iridescenceMap.channel),iridescenceThicknessMapUv:Ct&&p(U.iridescenceThicknessMap.channel),sheenColorMapUv:We&&p(U.sheenColorMap.channel),sheenRoughnessMapUv:rt&&p(U.sheenRoughnessMap.channel),specularMapUv:Se&&p(U.specularMap.channel),specularColorMapUv:Ge&&p(U.specularColorMap.channel),specularIntensityMapUv:St&&p(U.specularIntensityMap.channel),transmissionMapUv:Ae&&p(U.transmissionMap.channel),thicknessMapUv:xt&&p(U.thicknessMap.channel),alphaMapUv:mt&&p(U.alphaMap.channel),vertexTangents:!!ae.attributes.tangent&&(qe||oe),vertexColors:U.vertexColors,vertexAlphas:U.vertexColors===!0&&!!ae.attributes.color&&ae.attributes.color.itemSize===4,pointsUvs:W.isPoints===!0&&!!ae.attributes.uv&&(yt||mt),fog:!!Q,useFog:U.fog===!0,fogExp2:!!Q&&Q.isFogExp2,flatShading:U.flatShading===!0,sizeAttenuation:U.sizeAttenuation===!0,logarithmicDepthBuffer:y,reverseDepthBuffer:we,skinning:W.isSkinnedMesh===!0,morphTargets:ae.morphAttributes.position!==void 0,morphNormals:ae.morphAttributes.normal!==void 0,morphColors:ae.morphAttributes.color!==void 0,morphTargetsCount:ie,morphTextureStride:he,numDirLights:z.directional.length,numPointLights:z.point.length,numSpotLights:z.spot.length,numSpotLightMaps:z.spotLightMap.length,numRectAreaLights:z.rectArea.length,numHemiLights:z.hemi.length,numDirLightShadows:z.directionalShadowMap.length,numPointLightShadows:z.pointShadowMap.length,numSpotLightShadows:z.spotShadowMap.length,numSpotLightShadowsWithMaps:z.numSpotLightShadowsWithMaps,numLightProbes:z.numLightProbes,numClippingPlanes:l.numPlanes,numClipIntersection:l.numIntersection,dithering:U.dithering,shadowMapEnabled:n.shadowMap.enabled&&$.length>0,shadowMapType:n.shadowMap.type,toneMapping:sn,decodeVideoTexture:yt&&U.map.isVideoTexture===!0&&Ii.getTransfer(U.map.colorSpace)===sr,decodeVideoTextureEmissive:ct&&U.emissiveMap.isVideoTexture===!0&&Ii.getTransfer(U.emissiveMap.colorSpace)===sr,premultipliedAlpha:U.premultipliedAlpha,doubleSided:U.side===Pc,flipSided:U.side===ls,useDepthPacking:U.depthPacking>=0,depthPacking:U.depthPacking||0,index0AttributeName:U.index0AttributeName,extensionClipCullDistance:Qt&&U.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Qt&&U.extensions.multiDraw===!0||ze)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:U.customProgramCacheKey()};return Yt.vertexUv1s=f.has(1),Yt.vertexUv2s=f.has(2),Yt.vertexUv3s=f.has(3),f.clear(),Yt}function b(U){const z=[];if(U.shaderID?z.push(U.shaderID):(z.push(U.customVertexShaderID),z.push(U.customFragmentShaderID)),U.defines!==void 0)for(const $ in U.defines)z.push($),z.push(U.defines[$]);return U.isRawShaderMaterial===!1&&(C(z,U),T(z,U),z.push(n.outputColorSpace)),z.push(U.customProgramCacheKey),z.join()}function C(U,z){U.push(z.precision),U.push(z.outputColorSpace),U.push(z.envMapMode),U.push(z.envMapCubeUVHeight),U.push(z.mapUv),U.push(z.alphaMapUv),U.push(z.lightMapUv),U.push(z.aoMapUv),U.push(z.bumpMapUv),U.push(z.normalMapUv),U.push(z.displacementMapUv),U.push(z.emissiveMapUv),U.push(z.metalnessMapUv),U.push(z.roughnessMapUv),U.push(z.anisotropyMapUv),U.push(z.clearcoatMapUv),U.push(z.clearcoatNormalMapUv),U.push(z.clearcoatRoughnessMapUv),U.push(z.iridescenceMapUv),U.push(z.iridescenceThicknessMapUv),U.push(z.sheenColorMapUv),U.push(z.sheenRoughnessMapUv),U.push(z.specularMapUv),U.push(z.specularColorMapUv),U.push(z.specularIntensityMapUv),U.push(z.transmissionMapUv),U.push(z.thicknessMapUv),U.push(z.combine),U.push(z.fogExp2),U.push(z.sizeAttenuation),U.push(z.morphTargetsCount),U.push(z.morphAttributeCount),U.push(z.numDirLights),U.push(z.numPointLights),U.push(z.numSpotLights),U.push(z.numSpotLightMaps),U.push(z.numHemiLights),U.push(z.numRectAreaLights),U.push(z.numDirLightShadows),U.push(z.numPointLightShadows),U.push(z.numSpotLightShadows),U.push(z.numSpotLightShadowsWithMaps),U.push(z.numLightProbes),U.push(z.shadowMapType),U.push(z.toneMapping),U.push(z.numClippingPlanes),U.push(z.numClipIntersection),U.push(z.depthPacking)}function T(U,z){s.disableAll(),z.supportsVertexTextures&&s.enable(0),z.instancing&&s.enable(1),z.instancingColor&&s.enable(2),z.instancingMorph&&s.enable(3),z.matcap&&s.enable(4),z.envMap&&s.enable(5),z.normalMapObjectSpace&&s.enable(6),z.normalMapTangentSpace&&s.enable(7),z.clearcoat&&s.enable(8),z.iridescence&&s.enable(9),z.alphaTest&&s.enable(10),z.vertexColors&&s.enable(11),z.vertexAlphas&&s.enable(12),z.vertexUv1s&&s.enable(13),z.vertexUv2s&&s.enable(14),z.vertexUv3s&&s.enable(15),z.vertexTangents&&s.enable(16),z.anisotropy&&s.enable(17),z.alphaHash&&s.enable(18),z.batching&&s.enable(19),z.dispersion&&s.enable(20),z.batchingColor&&s.enable(21),U.push(s.mask),s.disableAll(),z.fog&&s.enable(0),z.useFog&&s.enable(1),z.flatShading&&s.enable(2),z.logarithmicDepthBuffer&&s.enable(3),z.reverseDepthBuffer&&s.enable(4),z.skinning&&s.enable(5),z.morphTargets&&s.enable(6),z.morphNormals&&s.enable(7),z.morphColors&&s.enable(8),z.premultipliedAlpha&&s.enable(9),z.shadowMapEnabled&&s.enable(10),z.doubleSided&&s.enable(11),z.flipSided&&s.enable(12),z.useDepthPacking&&s.enable(13),z.dithering&&s.enable(14),z.transmission&&s.enable(15),z.sheen&&s.enable(16),z.opaque&&s.enable(17),z.pointsUvs&&s.enable(18),z.decodeVideoTexture&&s.enable(19),z.decodeVideoTextureEmissive&&s.enable(20),z.alphaToCoverage&&s.enable(21),U.push(s.mask)}function M(U){const z=c[U.type];let $;if(z){const J=Ic[z];$=j8.clone(J.uniforms)}else $=U.uniforms;return $}function O(U,z){let $;for(let J=0,W=m.length;J<W;J++){const Q=m[J];if(Q.cacheKey===z){$=Q,++$.usedTimes;break}}return $===void 0&&($=new Sde(n,z,U,o),m.push($)),$}function B(U){if(--U.usedTimes===0){const z=m.indexOf(U);m[z]=m[m.length-1],m.pop(),U.destroy()}}function P(U){u.remove(U)}function F(){u.dispose()}return{getParameters:g,getProgramCacheKey:b,getUniforms:M,acquireProgram:O,releaseProgram:B,releaseShaderCache:P,programs:m,dispose:F}}function wde(){let n=new WeakMap;function e(l){return n.has(l)}function t(l){let s=n.get(l);return s===void 0&&(s={},n.set(l,s)),s}function r(l){n.delete(l)}function a(l,s,u){n.get(l)[s]=u}function o(){n=new WeakMap}return{has:e,get:t,remove:r,update:a,dispose:o}}function Ade(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function gN(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function vN(){const n=[];let e=0;const t=[],r=[],a=[];function o(){e=0,t.length=0,r.length=0,a.length=0}function l(y,_,E,c,p,g){let b=n[e];return b===void 0?(b={id:y.id,object:y,geometry:_,material:E,groupOrder:c,renderOrder:y.renderOrder,z:p,group:g},n[e]=b):(b.id=y.id,b.object=y,b.geometry=_,b.material=E,b.groupOrder=c,b.renderOrder=y.renderOrder,b.z=p,b.group=g),e++,b}function s(y,_,E,c,p,g){const b=l(y,_,E,c,p,g);E.transmission>0?r.push(b):E.transparent===!0?a.push(b):t.push(b)}function u(y,_,E,c,p,g){const b=l(y,_,E,c,p,g);E.transmission>0?r.unshift(b):E.transparent===!0?a.unshift(b):t.unshift(b)}function f(y,_){t.length>1&&t.sort(y||Ade),r.length>1&&r.sort(_||gN),a.length>1&&a.sort(_||gN)}function m(){for(let y=e,_=n.length;y<_;y++){const E=n[y];if(E.id===null)break;E.id=null,E.object=null,E.geometry=null,E.material=null,E.group=null}}return{opaque:t,transmissive:r,transparent:a,init:o,push:s,unshift:u,finish:m,sort:f}}function Mde(){let n=new WeakMap;function e(r,a){const o=n.get(r);let l;return o===void 0?(l=new vN,n.set(r,[l])):a>=o.length?(l=new vN,o.push(l)):l=o[a],l}function t(){n=new WeakMap}return{get:e,dispose:t}}function Tde(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new be,color:new en};break;case"SpotLight":t={position:new be,direction:new be,color:new en,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new be,color:new en,distance:0,decay:0};break;case"HemisphereLight":t={direction:new be,skyColor:new en,groundColor:new en};break;case"RectAreaLight":t={color:new en,position:new be,halfWidth:new be,halfHeight:new be};break}return n[e.id]=t,t}}}function Rde(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Tt};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Tt};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Tt,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let Ode=0;function Ide(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function Bde(n){const e=new Tde,t=Rde(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let f=0;f<9;f++)r.probe.push(new be);const a=new be,o=new Pn,l=new Pn;function s(f){let m=0,y=0,_=0;for(let U=0;U<9;U++)r.probe[U].set(0,0,0);let E=0,c=0,p=0,g=0,b=0,C=0,T=0,M=0,O=0,B=0,P=0;f.sort(Ide);for(let U=0,z=f.length;U<z;U++){const $=f[U],J=$.color,W=$.intensity,Q=$.distance,ae=$.shadow&&$.shadow.map?$.shadow.map.texture:null;if($.isAmbientLight)m+=J.r*W,y+=J.g*W,_+=J.b*W;else if($.isLightProbe){for(let Y=0;Y<9;Y++)r.probe[Y].addScaledVector($.sh.coefficients[Y],W);P++}else if($.isDirectionalLight){const Y=e.get($);if(Y.color.copy($.color).multiplyScalar($.intensity),$.castShadow){const K=$.shadow,ee=t.get($);ee.shadowIntensity=K.intensity,ee.shadowBias=K.bias,ee.shadowNormalBias=K.normalBias,ee.shadowRadius=K.radius,ee.shadowMapSize=K.mapSize,r.directionalShadow[E]=ee,r.directionalShadowMap[E]=ae,r.directionalShadowMatrix[E]=$.shadow.matrix,C++}r.directional[E]=Y,E++}else if($.isSpotLight){const Y=e.get($);Y.position.setFromMatrixPosition($.matrixWorld),Y.color.copy(J).multiplyScalar(W),Y.distance=Q,Y.coneCos=Math.cos($.angle),Y.penumbraCos=Math.cos($.angle*(1-$.penumbra)),Y.decay=$.decay,r.spot[p]=Y;const K=$.shadow;if($.map&&(r.spotLightMap[O]=$.map,O++,K.updateMatrices($),$.castShadow&&B++),r.spotLightMatrix[p]=K.matrix,$.castShadow){const ee=t.get($);ee.shadowIntensity=K.intensity,ee.shadowBias=K.bias,ee.shadowNormalBias=K.normalBias,ee.shadowRadius=K.radius,ee.shadowMapSize=K.mapSize,r.spotShadow[p]=ee,r.spotShadowMap[p]=ae,M++}p++}else if($.isRectAreaLight){const Y=e.get($);Y.color.copy(J).multiplyScalar(W),Y.halfWidth.set($.width*.5,0,0),Y.halfHeight.set(0,$.height*.5,0),r.rectArea[g]=Y,g++}else if($.isPointLight){const Y=e.get($);if(Y.color.copy($.color).multiplyScalar($.intensity),Y.distance=$.distance,Y.decay=$.decay,$.castShadow){const K=$.shadow,ee=t.get($);ee.shadowIntensity=K.intensity,ee.shadowBias=K.bias,ee.shadowNormalBias=K.normalBias,ee.shadowRadius=K.radius,ee.shadowMapSize=K.mapSize,ee.shadowCameraNear=K.camera.near,ee.shadowCameraFar=K.camera.far,r.pointShadow[c]=ee,r.pointShadowMap[c]=ae,r.pointShadowMatrix[c]=$.shadow.matrix,T++}r.point[c]=Y,c++}else if($.isHemisphereLight){const Y=e.get($);Y.skyColor.copy($.color).multiplyScalar(W),Y.groundColor.copy($.groundColor).multiplyScalar(W),r.hemi[b]=Y,b++}}g>0&&(n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=rn.LTC_FLOAT_1,r.rectAreaLTC2=rn.LTC_FLOAT_2):(r.rectAreaLTC1=rn.LTC_HALF_1,r.rectAreaLTC2=rn.LTC_HALF_2)),r.ambient[0]=m,r.ambient[1]=y,r.ambient[2]=_;const F=r.hash;(F.directionalLength!==E||F.pointLength!==c||F.spotLength!==p||F.rectAreaLength!==g||F.hemiLength!==b||F.numDirectionalShadows!==C||F.numPointShadows!==T||F.numSpotShadows!==M||F.numSpotMaps!==O||F.numLightProbes!==P)&&(r.directional.length=E,r.spot.length=p,r.rectArea.length=g,r.point.length=c,r.hemi.length=b,r.directionalShadow.length=C,r.directionalShadowMap.length=C,r.pointShadow.length=T,r.pointShadowMap.length=T,r.spotShadow.length=M,r.spotShadowMap.length=M,r.directionalShadowMatrix.length=C,r.pointShadowMatrix.length=T,r.spotLightMatrix.length=M+O-B,r.spotLightMap.length=O,r.numSpotLightShadowsWithMaps=B,r.numLightProbes=P,F.directionalLength=E,F.pointLength=c,F.spotLength=p,F.rectAreaLength=g,F.hemiLength=b,F.numDirectionalShadows=C,F.numPointShadows=T,F.numSpotShadows=M,F.numSpotMaps=O,F.numLightProbes=P,r.version=Ode++)}function u(f,m){let y=0,_=0,E=0,c=0,p=0;const g=m.matrixWorldInverse;for(let b=0,C=f.length;b<C;b++){const T=f[b];if(T.isDirectionalLight){const M=r.directional[y];M.direction.setFromMatrixPosition(T.matrixWorld),a.setFromMatrixPosition(T.target.matrixWorld),M.direction.sub(a),M.direction.transformDirection(g),y++}else if(T.isSpotLight){const M=r.spot[E];M.position.setFromMatrixPosition(T.matrixWorld),M.position.applyMatrix4(g),M.direction.setFromMatrixPosition(T.matrixWorld),a.setFromMatrixPosition(T.target.matrixWorld),M.direction.sub(a),M.direction.transformDirection(g),E++}else if(T.isRectAreaLight){const M=r.rectArea[c];M.position.setFromMatrixPosition(T.matrixWorld),M.position.applyMatrix4(g),l.identity(),o.copy(T.matrixWorld),o.premultiply(g),l.extractRotation(o),M.halfWidth.set(T.width*.5,0,0),M.halfHeight.set(0,T.height*.5,0),M.halfWidth.applyMatrix4(l),M.halfHeight.applyMatrix4(l),c++}else if(T.isPointLight){const M=r.point[_];M.position.setFromMatrixPosition(T.matrixWorld),M.position.applyMatrix4(g),_++}else if(T.isHemisphereLight){const M=r.hemi[p];M.direction.setFromMatrixPosition(T.matrixWorld),M.direction.transformDirection(g),p++}}}return{setup:s,setupView:u,state:r}}function yN(n){const e=new Bde(n),t=[],r=[];function a(m){f.camera=m,t.length=0,r.length=0}function o(m){t.push(m)}function l(m){r.push(m)}function s(){e.setup(t)}function u(m){e.setupView(t,m)}const f={lightsArray:t,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:a,state:f,setupLights:s,setupLightsView:u,pushLight:o,pushShadow:l}}function Dde(n){let e=new WeakMap;function t(a,o=0){const l=e.get(a);let s;return l===void 0?(s=new yN(n),e.set(a,[s])):o>=l.length?(s=new yN(n),l.push(s)):s=l[o],s}function r(){e=new WeakMap}return{get:t,dispose:r}}const Pde=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Lde=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Nde(n,e,t){let r=new kS;const a=new Tt,o=new Tt,l=new Gi,s=new zI({depthPacking:O8}),u=new UI,f={},m=t.maxTextureSize,y={[Zu]:ls,[ls]:Zu,[Pc]:Pc},_=new Gc({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Tt},radius:{value:4}},vertexShader:Pde,fragmentShader:Lde}),E=_.clone();E.defines.HORIZONTAL_PASS=1;const c=new ni;c.setAttribute("position",new ki(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const p=new ga(c,_),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Nw;let b=this.type;this.render=function(B,P,F){if(g.enabled===!1||g.autoUpdate===!1&&g.needsUpdate===!1||B.length===0)return;const U=n.getRenderTarget(),z=n.getActiveCubeFace(),$=n.getActiveMipmapLevel(),J=n.state;J.setBlending(lf),J.buffers.color.setClear(1,1,1,1),J.buffers.depth.setTest(!0),J.setScissorTest(!1);const W=b!==Mc&&this.type===Mc,Q=b===Mc&&this.type!==Mc;for(let ae=0,Y=B.length;ae<Y;ae++){const K=B[ae],ee=K.shadow;if(ee===void 0){console.warn("THREE.WebGLShadowMap:",K,"has no shadow.");continue}if(ee.autoUpdate===!1&&ee.needsUpdate===!1)continue;a.copy(ee.mapSize);const de=ee.getFrameExtents();if(a.multiply(de),o.copy(ee.mapSize),(a.x>m||a.y>m)&&(a.x>m&&(o.x=Math.floor(m/de.x),a.x=o.x*de.x,ee.mapSize.x=o.x),a.y>m&&(o.y=Math.floor(m/de.y),a.y=o.y*de.y,ee.mapSize.y=o.y)),ee.map===null||W===!0||Q===!0){const ie=this.type!==Mc?{minFilter:Za,magFilter:Za}:{};ee.map!==null&&ee.map.dispose(),ee.map=new ed(a.x,a.y,ie),ee.map.texture.name=K.name+".shadowMap",ee.camera.updateProjectionMatrix()}n.setRenderTarget(ee.map),n.clear();const q=ee.getViewportCount();for(let ie=0;ie<q;ie++){const he=ee.getViewport(ie);l.set(o.x*he.x,o.y*he.y,o.x*he.z,o.y*he.w),J.viewport(l),ee.updateMatrices(K,ie),r=ee.getFrustum(),M(P,F,ee.camera,K,this.type)}ee.isPointLightShadow!==!0&&this.type===Mc&&C(ee,F),ee.needsUpdate=!1}b=this.type,g.needsUpdate=!1,n.setRenderTarget(U,z,$)};function C(B,P){const F=e.update(p);_.defines.VSM_SAMPLES!==B.blurSamples&&(_.defines.VSM_SAMPLES=B.blurSamples,E.defines.VSM_SAMPLES=B.blurSamples,_.needsUpdate=!0,E.needsUpdate=!0),B.mapPass===null&&(B.mapPass=new ed(a.x,a.y)),_.uniforms.shadow_pass.value=B.map.texture,_.uniforms.resolution.value=B.mapSize,_.uniforms.radius.value=B.radius,n.setRenderTarget(B.mapPass),n.clear(),n.renderBufferDirect(P,null,F,_,p,null),E.uniforms.shadow_pass.value=B.mapPass.texture,E.uniforms.resolution.value=B.mapSize,E.uniforms.radius.value=B.radius,n.setRenderTarget(B.map),n.clear(),n.renderBufferDirect(P,null,F,E,p,null)}function T(B,P,F,U){let z=null;const $=F.isPointLight===!0?B.customDistanceMaterial:B.customDepthMaterial;if($!==void 0)z=$;else if(z=F.isPointLight===!0?u:s,n.localClippingEnabled&&P.clipShadows===!0&&Array.isArray(P.clippingPlanes)&&P.clippingPlanes.length!==0||P.displacementMap&&P.displacementScale!==0||P.alphaMap&&P.alphaTest>0||P.map&&P.alphaTest>0){const J=z.uuid,W=P.uuid;let Q=f[J];Q===void 0&&(Q={},f[J]=Q);let ae=Q[W];ae===void 0&&(ae=z.clone(),Q[W]=ae,P.addEventListener("dispose",O)),z=ae}if(z.visible=P.visible,z.wireframe=P.wireframe,U===Mc?z.side=P.shadowSide!==null?P.shadowSide:P.side:z.side=P.shadowSide!==null?P.shadowSide:y[P.side],z.alphaMap=P.alphaMap,z.alphaTest=P.alphaTest,z.map=P.map,z.clipShadows=P.clipShadows,z.clippingPlanes=P.clippingPlanes,z.clipIntersection=P.clipIntersection,z.displacementMap=P.displacementMap,z.displacementScale=P.displacementScale,z.displacementBias=P.displacementBias,z.wireframeLinewidth=P.wireframeLinewidth,z.linewidth=P.linewidth,F.isPointLight===!0&&z.isMeshDistanceMaterial===!0){const J=n.properties.get(z);J.light=F}return z}function M(B,P,F,U,z){if(B.visible===!1)return;if(B.layers.test(P.layers)&&(B.isMesh||B.isLine||B.isPoints)&&(B.castShadow||B.receiveShadow&&z===Mc)&&(!B.frustumCulled||r.intersectsObject(B))){B.modelViewMatrix.multiplyMatrices(F.matrixWorldInverse,B.matrixWorld);const W=e.update(B),Q=B.material;if(Array.isArray(Q)){const ae=W.groups;for(let Y=0,K=ae.length;Y<K;Y++){const ee=ae[Y],de=Q[ee.materialIndex];if(de&&de.visible){const q=T(B,de,U,z);B.onBeforeShadow(n,B,P,F,W,q,ee),n.renderBufferDirect(F,null,W,q,B,ee),B.onAfterShadow(n,B,P,F,W,q,ee)}}}else if(Q.visible){const ae=T(B,Q,U,z);B.onBeforeShadow(n,B,P,F,W,ae,null),n.renderBufferDirect(F,null,W,ae,B,null),B.onAfterShadow(n,B,P,F,W,ae,null)}}const J=B.children;for(let W=0,Q=J.length;W<Q;W++)M(J[W],P,F,U,z)}function O(B){B.target.removeEventListener("dispose",O);for(const F in f){const U=f[F],z=B.target.uuid;z in U&&(U[z].dispose(),delete U[z])}}}const zde={[J1]:Q1,[Z1]:nE,[eE]:iE,[Em]:tE,[Q1]:J1,[nE]:Z1,[iE]:eE,[tE]:Em};function Ude(n,e){function t(){let Ae=!1;const xt=new Gi;let et=null;const mt=new Gi(0,0,0,0);return{setMask:function(Nt){et!==Nt&&!Ae&&(n.colorMask(Nt,Nt,Nt,Nt),et=Nt)},setLocked:function(Nt){Ae=Nt},setClear:function(Nt,Bt,Qt,sn,Yt){Yt===!0&&(Nt*=sn,Bt*=sn,Qt*=sn),xt.set(Nt,Bt,Qt,sn),mt.equals(xt)===!1&&(n.clearColor(Nt,Bt,Qt,sn),mt.copy(xt))},reset:function(){Ae=!1,et=null,mt.set(-1,0,0,0)}}}function r(){let Ae=!1,xt=!1,et=null,mt=null,Nt=null;return{setReversed:function(Bt){if(xt!==Bt){const Qt=e.get("EXT_clip_control");xt?Qt.clipControlEXT(Qt.LOWER_LEFT_EXT,Qt.ZERO_TO_ONE_EXT):Qt.clipControlEXT(Qt.LOWER_LEFT_EXT,Qt.NEGATIVE_ONE_TO_ONE_EXT);const sn=Nt;Nt=null,this.setClear(sn)}xt=Bt},getReversed:function(){return xt},setTest:function(Bt){Bt?Oe(n.DEPTH_TEST):we(n.DEPTH_TEST)},setMask:function(Bt){et!==Bt&&!Ae&&(n.depthMask(Bt),et=Bt)},setFunc:function(Bt){if(xt&&(Bt=zde[Bt]),mt!==Bt){switch(Bt){case J1:n.depthFunc(n.NEVER);break;case Q1:n.depthFunc(n.ALWAYS);break;case Z1:n.depthFunc(n.LESS);break;case Em:n.depthFunc(n.LEQUAL);break;case eE:n.depthFunc(n.EQUAL);break;case tE:n.depthFunc(n.GEQUAL);break;case nE:n.depthFunc(n.GREATER);break;case iE:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}mt=Bt}},setLocked:function(Bt){Ae=Bt},setClear:function(Bt){Nt!==Bt&&(xt&&(Bt=1-Bt),n.clearDepth(Bt),Nt=Bt)},reset:function(){Ae=!1,et=null,mt=null,Nt=null,xt=!1}}}function a(){let Ae=!1,xt=null,et=null,mt=null,Nt=null,Bt=null,Qt=null,sn=null,Yt=null;return{setTest:function(Lt){Ae||(Lt?Oe(n.STENCIL_TEST):we(n.STENCIL_TEST))},setMask:function(Lt){xt!==Lt&&!Ae&&(n.stencilMask(Lt),xt=Lt)},setFunc:function(Lt,Xt,yn){(et!==Lt||mt!==Xt||Nt!==yn)&&(n.stencilFunc(Lt,Xt,yn),et=Lt,mt=Xt,Nt=yn)},setOp:function(Lt,Xt,yn){(Bt!==Lt||Qt!==Xt||sn!==yn)&&(n.stencilOp(Lt,Xt,yn),Bt=Lt,Qt=Xt,sn=yn)},setLocked:function(Lt){Ae=Lt},setClear:function(Lt){Yt!==Lt&&(n.clearStencil(Lt),Yt=Lt)},reset:function(){Ae=!1,xt=null,et=null,mt=null,Nt=null,Bt=null,Qt=null,sn=null,Yt=null}}}const o=new t,l=new r,s=new a,u=new WeakMap,f=new WeakMap;let m={},y={},_=new WeakMap,E=[],c=null,p=!1,g=null,b=null,C=null,T=null,M=null,O=null,B=null,P=new en(0,0,0),F=0,U=!1,z=null,$=null,J=null,W=null,Q=null;const ae=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let Y=!1,K=0;const ee=n.getParameter(n.VERSION);ee.indexOf("WebGL")!==-1?(K=parseFloat(/^WebGL (\d)/.exec(ee)[1]),Y=K>=1):ee.indexOf("OpenGL ES")!==-1&&(K=parseFloat(/^OpenGL ES (\d)/.exec(ee)[1]),Y=K>=2);let de=null,q={};const ie=n.getParameter(n.SCISSOR_BOX),he=n.getParameter(n.VIEWPORT),fe=new Gi().fromArray(ie),Z=new Gi().fromArray(he);function pe(Ae,xt,et,mt){const Nt=new Uint8Array(4),Bt=n.createTexture();n.bindTexture(Ae,Bt),n.texParameteri(Ae,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(Ae,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Qt=0;Qt<et;Qt++)Ae===n.TEXTURE_3D||Ae===n.TEXTURE_2D_ARRAY?n.texImage3D(xt,0,n.RGBA,1,1,mt,0,n.RGBA,n.UNSIGNED_BYTE,Nt):n.texImage2D(xt+Qt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Nt);return Bt}const _e={};_e[n.TEXTURE_2D]=pe(n.TEXTURE_2D,n.TEXTURE_2D,1),_e[n.TEXTURE_CUBE_MAP]=pe(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),_e[n.TEXTURE_2D_ARRAY]=pe(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),_e[n.TEXTURE_3D]=pe(n.TEXTURE_3D,n.TEXTURE_3D,1,1),o.setClear(0,0,0,1),l.setClear(1),s.setClear(0),Oe(n.DEPTH_TEST),l.setFunc(Em),Ie(!1),qe(E2),Oe(n.CULL_FACE),re(lf);function Oe(Ae){m[Ae]!==!0&&(n.enable(Ae),m[Ae]=!0)}function we(Ae){m[Ae]!==!1&&(n.disable(Ae),m[Ae]=!1)}function Te(Ae,xt){return y[Ae]!==xt?(n.bindFramebuffer(Ae,xt),y[Ae]=xt,Ae===n.DRAW_FRAMEBUFFER&&(y[n.FRAMEBUFFER]=xt),Ae===n.FRAMEBUFFER&&(y[n.DRAW_FRAMEBUFFER]=xt),!0):!1}function ze(Ae,xt){let et=E,mt=!1;if(Ae){et=_.get(xt),et===void 0&&(et=[],_.set(xt,et));const Nt=Ae.textures;if(et.length!==Nt.length||et[0]!==n.COLOR_ATTACHMENT0){for(let Bt=0,Qt=Nt.length;Bt<Qt;Bt++)et[Bt]=n.COLOR_ATTACHMENT0+Bt;et.length=Nt.length,mt=!0}}else et[0]!==n.BACK&&(et[0]=n.BACK,mt=!0);mt&&n.drawBuffers(et)}function yt(Ae){return c!==Ae?(n.useProgram(Ae),c=Ae,!0):!1}const Be={[xh]:n.FUNC_ADD,[ZH]:n.FUNC_SUBTRACT,[e8]:n.FUNC_REVERSE_SUBTRACT};Be[t8]=n.MIN,Be[n8]=n.MAX;const xe={[i8]:n.ZERO,[r8]:n.ONE,[a8]:n.SRC_COLOR,[q1]:n.SRC_ALPHA,[d8]:n.SRC_ALPHA_SATURATE,[c8]:n.DST_COLOR,[s8]:n.DST_ALPHA,[o8]:n.ONE_MINUS_SRC_COLOR,[K1]:n.ONE_MINUS_SRC_ALPHA,[u8]:n.ONE_MINUS_DST_COLOR,[l8]:n.ONE_MINUS_DST_ALPHA,[f8]:n.CONSTANT_COLOR,[h8]:n.ONE_MINUS_CONSTANT_COLOR,[p8]:n.CONSTANT_ALPHA,[m8]:n.ONE_MINUS_CONSTANT_ALPHA};function re(Ae,xt,et,mt,Nt,Bt,Qt,sn,Yt,Lt){if(Ae===lf){p===!0&&(we(n.BLEND),p=!1);return}if(p===!1&&(Oe(n.BLEND),p=!0),Ae!==QH){if(Ae!==g||Lt!==U){if((b!==xh||M!==xh)&&(n.blendEquation(n.FUNC_ADD),b=xh,M=xh),Lt)switch(Ae){case bm:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case w2:n.blendFunc(n.ONE,n.ONE);break;case A2:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case M2:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ae);break}else switch(Ae){case bm:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case w2:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case A2:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case M2:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ae);break}C=null,T=null,O=null,B=null,P.set(0,0,0),F=0,g=Ae,U=Lt}return}Nt=Nt||xt,Bt=Bt||et,Qt=Qt||mt,(xt!==b||Nt!==M)&&(n.blendEquationSeparate(Be[xt],Be[Nt]),b=xt,M=Nt),(et!==C||mt!==T||Bt!==O||Qt!==B)&&(n.blendFuncSeparate(xe[et],xe[mt],xe[Bt],xe[Qt]),C=et,T=mt,O=Bt,B=Qt),(sn.equals(P)===!1||Yt!==F)&&(n.blendColor(sn.r,sn.g,sn.b,Yt),P.copy(sn),F=Yt),g=Ae,U=!1}function Fe(Ae,xt){Ae.side===Pc?we(n.CULL_FACE):Oe(n.CULL_FACE);let et=Ae.side===ls;xt&&(et=!et),Ie(et),Ae.blending===bm&&Ae.transparent===!1?re(lf):re(Ae.blending,Ae.blendEquation,Ae.blendSrc,Ae.blendDst,Ae.blendEquationAlpha,Ae.blendSrcAlpha,Ae.blendDstAlpha,Ae.blendColor,Ae.blendAlpha,Ae.premultipliedAlpha),l.setFunc(Ae.depthFunc),l.setTest(Ae.depthTest),l.setMask(Ae.depthWrite),o.setMask(Ae.colorWrite);const mt=Ae.stencilWrite;s.setTest(mt),mt&&(s.setMask(Ae.stencilWriteMask),s.setFunc(Ae.stencilFunc,Ae.stencilRef,Ae.stencilFuncMask),s.setOp(Ae.stencilFail,Ae.stencilZFail,Ae.stencilZPass)),ct(Ae.polygonOffset,Ae.polygonOffsetFactor,Ae.polygonOffsetUnits),Ae.alphaToCoverage===!0?Oe(n.SAMPLE_ALPHA_TO_COVERAGE):we(n.SAMPLE_ALPHA_TO_COVERAGE)}function Ie(Ae){z!==Ae&&(Ae?n.frontFace(n.CW):n.frontFace(n.CCW),z=Ae)}function qe(Ae){Ae!==qH?(Oe(n.CULL_FACE),Ae!==$&&(Ae===E2?n.cullFace(n.BACK):Ae===KH?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):we(n.CULL_FACE),$=Ae}function $e(Ae){Ae!==J&&(Y&&n.lineWidth(Ae),J=Ae)}function ct(Ae,xt,et){Ae?(Oe(n.POLYGON_OFFSET_FILL),(W!==xt||Q!==et)&&(n.polygonOffset(xt,et),W=xt,Q=et)):we(n.POLYGON_OFFSET_FILL)}function st(Ae){Ae?Oe(n.SCISSOR_TEST):we(n.SCISSOR_TEST)}function ce(Ae){Ae===void 0&&(Ae=n.TEXTURE0+ae-1),de!==Ae&&(n.activeTexture(Ae),de=Ae)}function oe(Ae,xt,et){et===void 0&&(de===null?et=n.TEXTURE0+ae-1:et=de);let mt=q[et];mt===void 0&&(mt={type:void 0,texture:void 0},q[et]=mt),(mt.type!==Ae||mt.texture!==xt)&&(de!==et&&(n.activeTexture(et),de=et),n.bindTexture(Ae,xt||_e[Ae]),mt.type=Ae,mt.texture=xt)}function Ee(){const Ae=q[de];Ae!==void 0&&Ae.type!==void 0&&(n.bindTexture(Ae.type,null),Ae.type=void 0,Ae.texture=void 0)}function De(){try{n.compressedTexImage2D(...arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function Ke(){try{n.compressedTexImage3D(...arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function He(){try{n.texSubImage2D(...arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function gt(){try{n.texSubImage3D(...arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function lt(){try{n.compressedTexSubImage2D(...arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function pt(){try{n.compressedTexSubImage3D(...arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function It(){try{n.texStorage2D(...arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function ot(){try{n.texStorage3D(...arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function _t(){try{n.texImage2D(...arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function Ct(){try{n.texImage3D(...arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function We(Ae){fe.equals(Ae)===!1&&(n.scissor(Ae.x,Ae.y,Ae.z,Ae.w),fe.copy(Ae))}function rt(Ae){Z.equals(Ae)===!1&&(n.viewport(Ae.x,Ae.y,Ae.z,Ae.w),Z.copy(Ae))}function Se(Ae,xt){let et=f.get(xt);et===void 0&&(et=new WeakMap,f.set(xt,et));let mt=et.get(Ae);mt===void 0&&(mt=n.getUniformBlockIndex(xt,Ae.name),et.set(Ae,mt))}function Ge(Ae,xt){const mt=f.get(xt).get(Ae);u.get(xt)!==mt&&(n.uniformBlockBinding(xt,mt,Ae.__bindingPointIndex),u.set(xt,mt))}function St(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),l.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),m={},de=null,q={},y={},_=new WeakMap,E=[],c=null,p=!1,g=null,b=null,C=null,T=null,M=null,O=null,B=null,P=new en(0,0,0),F=0,U=!1,z=null,$=null,J=null,W=null,Q=null,fe.set(0,0,n.canvas.width,n.canvas.height),Z.set(0,0,n.canvas.width,n.canvas.height),o.reset(),l.reset(),s.reset()}return{buffers:{color:o,depth:l,stencil:s},enable:Oe,disable:we,bindFramebuffer:Te,drawBuffers:ze,useProgram:yt,setBlending:re,setMaterial:Fe,setFlipSided:Ie,setCullFace:qe,setLineWidth:$e,setPolygonOffset:ct,setScissorTest:st,activeTexture:ce,bindTexture:oe,unbindTexture:Ee,compressedTexImage2D:De,compressedTexImage3D:Ke,texImage2D:_t,texImage3D:Ct,updateUBOMapping:Se,uniformBlockBinding:Ge,texStorage2D:It,texStorage3D:ot,texSubImage2D:He,texSubImage3D:gt,compressedTexSubImage2D:lt,compressedTexSubImage3D:pt,scissor:We,viewport:rt,reset:St}}function Fde(n,e,t,r,a,o,l){const s=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,u=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),f=new Tt,m=new WeakMap;let y;const _=new WeakMap;let E=!1;try{E=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function c(ce,oe){return E?new OffscreenCanvas(ce,oe):cS("canvas")}function p(ce,oe,Ee){let De=1;const Ke=st(ce);if((Ke.width>Ee||Ke.height>Ee)&&(De=Ee/Math.max(Ke.width,Ke.height)),De<1)if(typeof HTMLImageElement<"u"&&ce instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ce instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ce instanceof ImageBitmap||typeof VideoFrame<"u"&&ce instanceof VideoFrame){const He=Math.floor(De*Ke.width),gt=Math.floor(De*Ke.height);y===void 0&&(y=c(He,gt));const lt=oe?c(He,gt):y;return lt.width=He,lt.height=gt,lt.getContext("2d").drawImage(ce,0,0,He,gt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ke.width+"x"+Ke.height+") to ("+He+"x"+gt+")."),lt}else return"data"in ce&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ke.width+"x"+Ke.height+")."),ce;return ce}function g(ce){return ce.generateMipmaps}function b(ce){n.generateMipmap(ce)}function C(ce){return ce.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:ce.isWebGL3DRenderTarget?n.TEXTURE_3D:ce.isWebGLArrayRenderTarget||ce.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function T(ce,oe,Ee,De,Ke=!1){if(ce!==null){if(n[ce]!==void 0)return n[ce];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ce+"'")}let He=oe;if(oe===n.RED&&(Ee===n.FLOAT&&(He=n.R32F),Ee===n.HALF_FLOAT&&(He=n.R16F),Ee===n.UNSIGNED_BYTE&&(He=n.R8)),oe===n.RED_INTEGER&&(Ee===n.UNSIGNED_BYTE&&(He=n.R8UI),Ee===n.UNSIGNED_SHORT&&(He=n.R16UI),Ee===n.UNSIGNED_INT&&(He=n.R32UI),Ee===n.BYTE&&(He=n.R8I),Ee===n.SHORT&&(He=n.R16I),Ee===n.INT&&(He=n.R32I)),oe===n.RG&&(Ee===n.FLOAT&&(He=n.RG32F),Ee===n.HALF_FLOAT&&(He=n.RG16F),Ee===n.UNSIGNED_BYTE&&(He=n.RG8)),oe===n.RG_INTEGER&&(Ee===n.UNSIGNED_BYTE&&(He=n.RG8UI),Ee===n.UNSIGNED_SHORT&&(He=n.RG16UI),Ee===n.UNSIGNED_INT&&(He=n.RG32UI),Ee===n.BYTE&&(He=n.RG8I),Ee===n.SHORT&&(He=n.RG16I),Ee===n.INT&&(He=n.RG32I)),oe===n.RGB_INTEGER&&(Ee===n.UNSIGNED_BYTE&&(He=n.RGB8UI),Ee===n.UNSIGNED_SHORT&&(He=n.RGB16UI),Ee===n.UNSIGNED_INT&&(He=n.RGB32UI),Ee===n.BYTE&&(He=n.RGB8I),Ee===n.SHORT&&(He=n.RGB16I),Ee===n.INT&&(He=n.RGB32I)),oe===n.RGBA_INTEGER&&(Ee===n.UNSIGNED_BYTE&&(He=n.RGBA8UI),Ee===n.UNSIGNED_SHORT&&(He=n.RGBA16UI),Ee===n.UNSIGNED_INT&&(He=n.RGBA32UI),Ee===n.BYTE&&(He=n.RGBA8I),Ee===n.SHORT&&(He=n.RGBA16I),Ee===n.INT&&(He=n.RGBA32I)),oe===n.RGB&&Ee===n.UNSIGNED_INT_5_9_9_9_REV&&(He=n.RGB9_E5),oe===n.RGBA){const gt=Ke?oS:Ii.getTransfer(De);Ee===n.FLOAT&&(He=n.RGBA32F),Ee===n.HALF_FLOAT&&(He=n.RGBA16F),Ee===n.UNSIGNED_BYTE&&(He=gt===sr?n.SRGB8_ALPHA8:n.RGBA8),Ee===n.UNSIGNED_SHORT_4_4_4_4&&(He=n.RGBA4),Ee===n.UNSIGNED_SHORT_5_5_5_1&&(He=n.RGB5_A1)}return(He===n.R16F||He===n.R32F||He===n.RG16F||He===n.RG32F||He===n.RGBA16F||He===n.RGBA32F)&&e.get("EXT_color_buffer_float"),He}function M(ce,oe){let Ee;return ce?oe===null||oe===gf||oe===wm?Ee=n.DEPTH24_STENCIL8:oe===Rs?Ee=n.DEPTH32F_STENCIL8:oe===f0&&(Ee=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):oe===null||oe===gf||oe===wm?Ee=n.DEPTH_COMPONENT24:oe===Rs?Ee=n.DEPTH_COMPONENT32F:oe===f0&&(Ee=n.DEPTH_COMPONENT16),Ee}function O(ce,oe){return g(ce)===!0||ce.isFramebufferTexture&&ce.minFilter!==Za&&ce.minFilter!==ma?Math.log2(Math.max(oe.width,oe.height))+1:ce.mipmaps!==void 0&&ce.mipmaps.length>0?ce.mipmaps.length:ce.isCompressedTexture&&Array.isArray(ce.image)?oe.mipmaps.length:1}function B(ce){const oe=ce.target;oe.removeEventListener("dispose",B),F(oe),oe.isVideoTexture&&m.delete(oe)}function P(ce){const oe=ce.target;oe.removeEventListener("dispose",P),z(oe)}function F(ce){const oe=r.get(ce);if(oe.__webglInit===void 0)return;const Ee=ce.source,De=_.get(Ee);if(De){const Ke=De[oe.__cacheKey];Ke.usedTimes--,Ke.usedTimes===0&&U(ce),Object.keys(De).length===0&&_.delete(Ee)}r.remove(ce)}function U(ce){const oe=r.get(ce);n.deleteTexture(oe.__webglTexture);const Ee=ce.source,De=_.get(Ee);delete De[oe.__cacheKey],l.memory.textures--}function z(ce){const oe=r.get(ce);if(ce.depthTexture&&(ce.depthTexture.dispose(),r.remove(ce.depthTexture)),ce.isWebGLCubeRenderTarget)for(let De=0;De<6;De++){if(Array.isArray(oe.__webglFramebuffer[De]))for(let Ke=0;Ke<oe.__webglFramebuffer[De].length;Ke++)n.deleteFramebuffer(oe.__webglFramebuffer[De][Ke]);else n.deleteFramebuffer(oe.__webglFramebuffer[De]);oe.__webglDepthbuffer&&n.deleteRenderbuffer(oe.__webglDepthbuffer[De])}else{if(Array.isArray(oe.__webglFramebuffer))for(let De=0;De<oe.__webglFramebuffer.length;De++)n.deleteFramebuffer(oe.__webglFramebuffer[De]);else n.deleteFramebuffer(oe.__webglFramebuffer);if(oe.__webglDepthbuffer&&n.deleteRenderbuffer(oe.__webglDepthbuffer),oe.__webglMultisampledFramebuffer&&n.deleteFramebuffer(oe.__webglMultisampledFramebuffer),oe.__webglColorRenderbuffer)for(let De=0;De<oe.__webglColorRenderbuffer.length;De++)oe.__webglColorRenderbuffer[De]&&n.deleteRenderbuffer(oe.__webglColorRenderbuffer[De]);oe.__webglDepthRenderbuffer&&n.deleteRenderbuffer(oe.__webglDepthRenderbuffer)}const Ee=ce.textures;for(let De=0,Ke=Ee.length;De<Ke;De++){const He=r.get(Ee[De]);He.__webglTexture&&(n.deleteTexture(He.__webglTexture),l.memory.textures--),r.remove(Ee[De])}r.remove(ce)}let $=0;function J(){$=0}function W(){const ce=$;return ce>=a.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+ce+" texture units while this GPU supports only "+a.maxTextures),$+=1,ce}function Q(ce){const oe=[];return oe.push(ce.wrapS),oe.push(ce.wrapT),oe.push(ce.wrapR||0),oe.push(ce.magFilter),oe.push(ce.minFilter),oe.push(ce.anisotropy),oe.push(ce.internalFormat),oe.push(ce.format),oe.push(ce.type),oe.push(ce.generateMipmaps),oe.push(ce.premultiplyAlpha),oe.push(ce.flipY),oe.push(ce.unpackAlignment),oe.push(ce.colorSpace),oe.join()}function ae(ce,oe){const Ee=r.get(ce);if(ce.isVideoTexture&&$e(ce),ce.isRenderTargetTexture===!1&&ce.version>0&&Ee.__version!==ce.version){const De=ce.image;if(De===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(De.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Z(Ee,ce,oe);return}}t.bindTexture(n.TEXTURE_2D,Ee.__webglTexture,n.TEXTURE0+oe)}function Y(ce,oe){const Ee=r.get(ce);if(ce.version>0&&Ee.__version!==ce.version){Z(Ee,ce,oe);return}t.bindTexture(n.TEXTURE_2D_ARRAY,Ee.__webglTexture,n.TEXTURE0+oe)}function K(ce,oe){const Ee=r.get(ce);if(ce.version>0&&Ee.__version!==ce.version){Z(Ee,ce,oe);return}t.bindTexture(n.TEXTURE_3D,Ee.__webglTexture,n.TEXTURE0+oe)}function ee(ce,oe){const Ee=r.get(ce);if(ce.version>0&&Ee.__version!==ce.version){pe(Ee,ce,oe);return}t.bindTexture(n.TEXTURE_CUBE_MAP,Ee.__webglTexture,n.TEXTURE0+oe)}const de={[Fh]:n.REPEAT,[el]:n.CLAMP_TO_EDGE,[d0]:n.MIRRORED_REPEAT},q={[Za]:n.NEAREST,[Uw]:n.NEAREST_MIPMAP_NEAREST,[dm]:n.NEAREST_MIPMAP_LINEAR,[ma]:n.LINEAR,[qv]:n.LINEAR_MIPMAP_NEAREST,[Fl]:n.LINEAR_MIPMAP_LINEAR},ie={[B8]:n.NEVER,[U8]:n.ALWAYS,[D8]:n.LESS,[SI]:n.LEQUAL,[P8]:n.EQUAL,[z8]:n.GEQUAL,[L8]:n.GREATER,[N8]:n.NOTEQUAL};function he(ce,oe){if(oe.type===Rs&&e.has("OES_texture_float_linear")===!1&&(oe.magFilter===ma||oe.magFilter===qv||oe.magFilter===dm||oe.magFilter===Fl||oe.minFilter===ma||oe.minFilter===qv||oe.minFilter===dm||oe.minFilter===Fl)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(ce,n.TEXTURE_WRAP_S,de[oe.wrapS]),n.texParameteri(ce,n.TEXTURE_WRAP_T,de[oe.wrapT]),(ce===n.TEXTURE_3D||ce===n.TEXTURE_2D_ARRAY)&&n.texParameteri(ce,n.TEXTURE_WRAP_R,de[oe.wrapR]),n.texParameteri(ce,n.TEXTURE_MAG_FILTER,q[oe.magFilter]),n.texParameteri(ce,n.TEXTURE_MIN_FILTER,q[oe.minFilter]),oe.compareFunction&&(n.texParameteri(ce,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(ce,n.TEXTURE_COMPARE_FUNC,ie[oe.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(oe.magFilter===Za||oe.minFilter!==dm&&oe.minFilter!==Fl||oe.type===Rs&&e.has("OES_texture_float_linear")===!1)return;if(oe.anisotropy>1||r.get(oe).__currentAnisotropy){const Ee=e.get("EXT_texture_filter_anisotropic");n.texParameterf(ce,Ee.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(oe.anisotropy,a.getMaxAnisotropy())),r.get(oe).__currentAnisotropy=oe.anisotropy}}}function fe(ce,oe){let Ee=!1;ce.__webglInit===void 0&&(ce.__webglInit=!0,oe.addEventListener("dispose",B));const De=oe.source;let Ke=_.get(De);Ke===void 0&&(Ke={},_.set(De,Ke));const He=Q(oe);if(He!==ce.__cacheKey){Ke[He]===void 0&&(Ke[He]={texture:n.createTexture(),usedTimes:0},l.memory.textures++,Ee=!0),Ke[He].usedTimes++;const gt=Ke[ce.__cacheKey];gt!==void 0&&(Ke[ce.__cacheKey].usedTimes--,gt.usedTimes===0&&U(oe)),ce.__cacheKey=He,ce.__webglTexture=Ke[He].texture}return Ee}function Z(ce,oe,Ee){let De=n.TEXTURE_2D;(oe.isDataArrayTexture||oe.isCompressedArrayTexture)&&(De=n.TEXTURE_2D_ARRAY),oe.isData3DTexture&&(De=n.TEXTURE_3D);const Ke=fe(ce,oe),He=oe.source;t.bindTexture(De,ce.__webglTexture,n.TEXTURE0+Ee);const gt=r.get(He);if(He.version!==gt.__version||Ke===!0){t.activeTexture(n.TEXTURE0+Ee);const lt=Ii.getPrimaries(Ii.workingColorSpace),pt=oe.colorSpace===ef?null:Ii.getPrimaries(oe.colorSpace),It=oe.colorSpace===ef||lt===pt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,oe.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,oe.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,oe.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,It);let ot=p(oe.image,!1,a.maxTextureSize);ot=ct(oe,ot);const _t=o.convert(oe.format,oe.colorSpace),Ct=o.convert(oe.type);let We=T(oe.internalFormat,_t,Ct,oe.colorSpace,oe.isVideoTexture);he(De,oe);let rt;const Se=oe.mipmaps,Ge=oe.isVideoTexture!==!0,St=gt.__version===void 0||Ke===!0,Ae=He.dataReady,xt=O(oe,ot);if(oe.isDepthTexture)We=M(oe.format===Am,oe.type),St&&(Ge?t.texStorage2D(n.TEXTURE_2D,1,We,ot.width,ot.height):t.texImage2D(n.TEXTURE_2D,0,We,ot.width,ot.height,0,_t,Ct,null));else if(oe.isDataTexture)if(Se.length>0){Ge&&St&&t.texStorage2D(n.TEXTURE_2D,xt,We,Se[0].width,Se[0].height);for(let et=0,mt=Se.length;et<mt;et++)rt=Se[et],Ge?Ae&&t.texSubImage2D(n.TEXTURE_2D,et,0,0,rt.width,rt.height,_t,Ct,rt.data):t.texImage2D(n.TEXTURE_2D,et,We,rt.width,rt.height,0,_t,Ct,rt.data);oe.generateMipmaps=!1}else Ge?(St&&t.texStorage2D(n.TEXTURE_2D,xt,We,ot.width,ot.height),Ae&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,ot.width,ot.height,_t,Ct,ot.data)):t.texImage2D(n.TEXTURE_2D,0,We,ot.width,ot.height,0,_t,Ct,ot.data);else if(oe.isCompressedTexture)if(oe.isCompressedArrayTexture){Ge&&St&&t.texStorage3D(n.TEXTURE_2D_ARRAY,xt,We,Se[0].width,Se[0].height,ot.depth);for(let et=0,mt=Se.length;et<mt;et++)if(rt=Se[et],oe.format!==No)if(_t!==null)if(Ge){if(Ae)if(oe.layerUpdates.size>0){const Nt=z2(rt.width,rt.height,oe.format,oe.type);for(const Bt of oe.layerUpdates){const Qt=rt.data.subarray(Bt*Nt/rt.data.BYTES_PER_ELEMENT,(Bt+1)*Nt/rt.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,et,0,0,Bt,rt.width,rt.height,1,_t,Qt)}oe.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,et,0,0,0,rt.width,rt.height,ot.depth,_t,rt.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,et,We,rt.width,rt.height,ot.depth,0,rt.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Ge?Ae&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,et,0,0,0,rt.width,rt.height,ot.depth,_t,Ct,rt.data):t.texImage3D(n.TEXTURE_2D_ARRAY,et,We,rt.width,rt.height,ot.depth,0,_t,Ct,rt.data)}else{Ge&&St&&t.texStorage2D(n.TEXTURE_2D,xt,We,Se[0].width,Se[0].height);for(let et=0,mt=Se.length;et<mt;et++)rt=Se[et],oe.format!==No?_t!==null?Ge?Ae&&t.compressedTexSubImage2D(n.TEXTURE_2D,et,0,0,rt.width,rt.height,_t,rt.data):t.compressedTexImage2D(n.TEXTURE_2D,et,We,rt.width,rt.height,0,rt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ge?Ae&&t.texSubImage2D(n.TEXTURE_2D,et,0,0,rt.width,rt.height,_t,Ct,rt.data):t.texImage2D(n.TEXTURE_2D,et,We,rt.width,rt.height,0,_t,Ct,rt.data)}else if(oe.isDataArrayTexture)if(Ge){if(St&&t.texStorage3D(n.TEXTURE_2D_ARRAY,xt,We,ot.width,ot.height,ot.depth),Ae)if(oe.layerUpdates.size>0){const et=z2(ot.width,ot.height,oe.format,oe.type);for(const mt of oe.layerUpdates){const Nt=ot.data.subarray(mt*et/ot.data.BYTES_PER_ELEMENT,(mt+1)*et/ot.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,mt,ot.width,ot.height,1,_t,Ct,Nt)}oe.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,ot.width,ot.height,ot.depth,_t,Ct,ot.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,We,ot.width,ot.height,ot.depth,0,_t,Ct,ot.data);else if(oe.isData3DTexture)Ge?(St&&t.texStorage3D(n.TEXTURE_3D,xt,We,ot.width,ot.height,ot.depth),Ae&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,ot.width,ot.height,ot.depth,_t,Ct,ot.data)):t.texImage3D(n.TEXTURE_3D,0,We,ot.width,ot.height,ot.depth,0,_t,Ct,ot.data);else if(oe.isFramebufferTexture){if(St)if(Ge)t.texStorage2D(n.TEXTURE_2D,xt,We,ot.width,ot.height);else{let et=ot.width,mt=ot.height;for(let Nt=0;Nt<xt;Nt++)t.texImage2D(n.TEXTURE_2D,Nt,We,et,mt,0,_t,Ct,null),et>>=1,mt>>=1}}else if(Se.length>0){if(Ge&&St){const et=st(Se[0]);t.texStorage2D(n.TEXTURE_2D,xt,We,et.width,et.height)}for(let et=0,mt=Se.length;et<mt;et++)rt=Se[et],Ge?Ae&&t.texSubImage2D(n.TEXTURE_2D,et,0,0,_t,Ct,rt):t.texImage2D(n.TEXTURE_2D,et,We,_t,Ct,rt);oe.generateMipmaps=!1}else if(Ge){if(St){const et=st(ot);t.texStorage2D(n.TEXTURE_2D,xt,We,et.width,et.height)}Ae&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,_t,Ct,ot)}else t.texImage2D(n.TEXTURE_2D,0,We,_t,Ct,ot);g(oe)&&b(De),gt.__version=He.version,oe.onUpdate&&oe.onUpdate(oe)}ce.__version=oe.version}function pe(ce,oe,Ee){if(oe.image.length!==6)return;const De=fe(ce,oe),Ke=oe.source;t.bindTexture(n.TEXTURE_CUBE_MAP,ce.__webglTexture,n.TEXTURE0+Ee);const He=r.get(Ke);if(Ke.version!==He.__version||De===!0){t.activeTexture(n.TEXTURE0+Ee);const gt=Ii.getPrimaries(Ii.workingColorSpace),lt=oe.colorSpace===ef?null:Ii.getPrimaries(oe.colorSpace),pt=oe.colorSpace===ef||gt===lt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,oe.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,oe.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,oe.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,pt);const It=oe.isCompressedTexture||oe.image[0].isCompressedTexture,ot=oe.image[0]&&oe.image[0].isDataTexture,_t=[];for(let mt=0;mt<6;mt++)!It&&!ot?_t[mt]=p(oe.image[mt],!0,a.maxCubemapSize):_t[mt]=ot?oe.image[mt].image:oe.image[mt],_t[mt]=ct(oe,_t[mt]);const Ct=_t[0],We=o.convert(oe.format,oe.colorSpace),rt=o.convert(oe.type),Se=T(oe.internalFormat,We,rt,oe.colorSpace),Ge=oe.isVideoTexture!==!0,St=He.__version===void 0||De===!0,Ae=Ke.dataReady;let xt=O(oe,Ct);he(n.TEXTURE_CUBE_MAP,oe);let et;if(It){Ge&&St&&t.texStorage2D(n.TEXTURE_CUBE_MAP,xt,Se,Ct.width,Ct.height);for(let mt=0;mt<6;mt++){et=_t[mt].mipmaps;for(let Nt=0;Nt<et.length;Nt++){const Bt=et[Nt];oe.format!==No?We!==null?Ge?Ae&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+mt,Nt,0,0,Bt.width,Bt.height,We,Bt.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+mt,Nt,Se,Bt.width,Bt.height,0,Bt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ge?Ae&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+mt,Nt,0,0,Bt.width,Bt.height,We,rt,Bt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+mt,Nt,Se,Bt.width,Bt.height,0,We,rt,Bt.data)}}}else{if(et=oe.mipmaps,Ge&&St){et.length>0&&xt++;const mt=st(_t[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,xt,Se,mt.width,mt.height)}for(let mt=0;mt<6;mt++)if(ot){Ge?Ae&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+mt,0,0,0,_t[mt].width,_t[mt].height,We,rt,_t[mt].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+mt,0,Se,_t[mt].width,_t[mt].height,0,We,rt,_t[mt].data);for(let Nt=0;Nt<et.length;Nt++){const Qt=et[Nt].image[mt].image;Ge?Ae&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+mt,Nt+1,0,0,Qt.width,Qt.height,We,rt,Qt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+mt,Nt+1,Se,Qt.width,Qt.height,0,We,rt,Qt.data)}}else{Ge?Ae&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+mt,0,0,0,We,rt,_t[mt]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+mt,0,Se,We,rt,_t[mt]);for(let Nt=0;Nt<et.length;Nt++){const Bt=et[Nt];Ge?Ae&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+mt,Nt+1,0,0,We,rt,Bt.image[mt]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+mt,Nt+1,Se,We,rt,Bt.image[mt])}}}g(oe)&&b(n.TEXTURE_CUBE_MAP),He.__version=Ke.version,oe.onUpdate&&oe.onUpdate(oe)}ce.__version=oe.version}function _e(ce,oe,Ee,De,Ke,He){const gt=o.convert(Ee.format,Ee.colorSpace),lt=o.convert(Ee.type),pt=T(Ee.internalFormat,gt,lt,Ee.colorSpace),It=r.get(oe),ot=r.get(Ee);if(ot.__renderTarget=oe,!It.__hasExternalTextures){const _t=Math.max(1,oe.width>>He),Ct=Math.max(1,oe.height>>He);Ke===n.TEXTURE_3D||Ke===n.TEXTURE_2D_ARRAY?t.texImage3D(Ke,He,pt,_t,Ct,oe.depth,0,gt,lt,null):t.texImage2D(Ke,He,pt,_t,Ct,0,gt,lt,null)}t.bindFramebuffer(n.FRAMEBUFFER,ce),qe(oe)?s.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,De,Ke,ot.__webglTexture,0,Ie(oe)):(Ke===n.TEXTURE_2D||Ke>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Ke<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,De,Ke,ot.__webglTexture,He),t.bindFramebuffer(n.FRAMEBUFFER,null)}function Oe(ce,oe,Ee){if(n.bindRenderbuffer(n.RENDERBUFFER,ce),oe.depthBuffer){const De=oe.depthTexture,Ke=De&&De.isDepthTexture?De.type:null,He=M(oe.stencilBuffer,Ke),gt=oe.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,lt=Ie(oe);qe(oe)?s.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,lt,He,oe.width,oe.height):Ee?n.renderbufferStorageMultisample(n.RENDERBUFFER,lt,He,oe.width,oe.height):n.renderbufferStorage(n.RENDERBUFFER,He,oe.width,oe.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,gt,n.RENDERBUFFER,ce)}else{const De=oe.textures;for(let Ke=0;Ke<De.length;Ke++){const He=De[Ke],gt=o.convert(He.format,He.colorSpace),lt=o.convert(He.type),pt=T(He.internalFormat,gt,lt,He.colorSpace),It=Ie(oe);Ee&&qe(oe)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,It,pt,oe.width,oe.height):qe(oe)?s.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,It,pt,oe.width,oe.height):n.renderbufferStorage(n.RENDERBUFFER,pt,oe.width,oe.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function we(ce,oe){if(oe&&oe.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,ce),!(oe.depthTexture&&oe.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const De=r.get(oe.depthTexture);De.__renderTarget=oe,(!De.__webglTexture||oe.depthTexture.image.width!==oe.width||oe.depthTexture.image.height!==oe.height)&&(oe.depthTexture.image.width=oe.width,oe.depthTexture.image.height=oe.height,oe.depthTexture.needsUpdate=!0),ae(oe.depthTexture,0);const Ke=De.__webglTexture,He=Ie(oe);if(oe.depthTexture.format===Sm)qe(oe)?s.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ke,0,He):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ke,0);else if(oe.depthTexture.format===Am)qe(oe)?s.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ke,0,He):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ke,0);else throw new Error("Unknown depthTexture format")}function Te(ce){const oe=r.get(ce),Ee=ce.isWebGLCubeRenderTarget===!0;if(oe.__boundDepthTexture!==ce.depthTexture){const De=ce.depthTexture;if(oe.__depthDisposeCallback&&oe.__depthDisposeCallback(),De){const Ke=()=>{delete oe.__boundDepthTexture,delete oe.__depthDisposeCallback,De.removeEventListener("dispose",Ke)};De.addEventListener("dispose",Ke),oe.__depthDisposeCallback=Ke}oe.__boundDepthTexture=De}if(ce.depthTexture&&!oe.__autoAllocateDepthBuffer){if(Ee)throw new Error("target.depthTexture not supported in Cube render targets");we(oe.__webglFramebuffer,ce)}else if(Ee){oe.__webglDepthbuffer=[];for(let De=0;De<6;De++)if(t.bindFramebuffer(n.FRAMEBUFFER,oe.__webglFramebuffer[De]),oe.__webglDepthbuffer[De]===void 0)oe.__webglDepthbuffer[De]=n.createRenderbuffer(),Oe(oe.__webglDepthbuffer[De],ce,!1);else{const Ke=ce.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,He=oe.__webglDepthbuffer[De];n.bindRenderbuffer(n.RENDERBUFFER,He),n.framebufferRenderbuffer(n.FRAMEBUFFER,Ke,n.RENDERBUFFER,He)}}else if(t.bindFramebuffer(n.FRAMEBUFFER,oe.__webglFramebuffer),oe.__webglDepthbuffer===void 0)oe.__webglDepthbuffer=n.createRenderbuffer(),Oe(oe.__webglDepthbuffer,ce,!1);else{const De=ce.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ke=oe.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,Ke),n.framebufferRenderbuffer(n.FRAMEBUFFER,De,n.RENDERBUFFER,Ke)}t.bindFramebuffer(n.FRAMEBUFFER,null)}function ze(ce,oe,Ee){const De=r.get(ce);oe!==void 0&&_e(De.__webglFramebuffer,ce,ce.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),Ee!==void 0&&Te(ce)}function yt(ce){const oe=ce.texture,Ee=r.get(ce),De=r.get(oe);ce.addEventListener("dispose",P);const Ke=ce.textures,He=ce.isWebGLCubeRenderTarget===!0,gt=Ke.length>1;if(gt||(De.__webglTexture===void 0&&(De.__webglTexture=n.createTexture()),De.__version=oe.version,l.memory.textures++),He){Ee.__webglFramebuffer=[];for(let lt=0;lt<6;lt++)if(oe.mipmaps&&oe.mipmaps.length>0){Ee.__webglFramebuffer[lt]=[];for(let pt=0;pt<oe.mipmaps.length;pt++)Ee.__webglFramebuffer[lt][pt]=n.createFramebuffer()}else Ee.__webglFramebuffer[lt]=n.createFramebuffer()}else{if(oe.mipmaps&&oe.mipmaps.length>0){Ee.__webglFramebuffer=[];for(let lt=0;lt<oe.mipmaps.length;lt++)Ee.__webglFramebuffer[lt]=n.createFramebuffer()}else Ee.__webglFramebuffer=n.createFramebuffer();if(gt)for(let lt=0,pt=Ke.length;lt<pt;lt++){const It=r.get(Ke[lt]);It.__webglTexture===void 0&&(It.__webglTexture=n.createTexture(),l.memory.textures++)}if(ce.samples>0&&qe(ce)===!1){Ee.__webglMultisampledFramebuffer=n.createFramebuffer(),Ee.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,Ee.__webglMultisampledFramebuffer);for(let lt=0;lt<Ke.length;lt++){const pt=Ke[lt];Ee.__webglColorRenderbuffer[lt]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,Ee.__webglColorRenderbuffer[lt]);const It=o.convert(pt.format,pt.colorSpace),ot=o.convert(pt.type),_t=T(pt.internalFormat,It,ot,pt.colorSpace,ce.isXRRenderTarget===!0),Ct=Ie(ce);n.renderbufferStorageMultisample(n.RENDERBUFFER,Ct,_t,ce.width,ce.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+lt,n.RENDERBUFFER,Ee.__webglColorRenderbuffer[lt])}n.bindRenderbuffer(n.RENDERBUFFER,null),ce.depthBuffer&&(Ee.__webglDepthRenderbuffer=n.createRenderbuffer(),Oe(Ee.__webglDepthRenderbuffer,ce,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(He){t.bindTexture(n.TEXTURE_CUBE_MAP,De.__webglTexture),he(n.TEXTURE_CUBE_MAP,oe);for(let lt=0;lt<6;lt++)if(oe.mipmaps&&oe.mipmaps.length>0)for(let pt=0;pt<oe.mipmaps.length;pt++)_e(Ee.__webglFramebuffer[lt][pt],ce,oe,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+lt,pt);else _e(Ee.__webglFramebuffer[lt],ce,oe,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+lt,0);g(oe)&&b(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(gt){for(let lt=0,pt=Ke.length;lt<pt;lt++){const It=Ke[lt],ot=r.get(It);t.bindTexture(n.TEXTURE_2D,ot.__webglTexture),he(n.TEXTURE_2D,It),_e(Ee.__webglFramebuffer,ce,It,n.COLOR_ATTACHMENT0+lt,n.TEXTURE_2D,0),g(It)&&b(n.TEXTURE_2D)}t.unbindTexture()}else{let lt=n.TEXTURE_2D;if((ce.isWebGL3DRenderTarget||ce.isWebGLArrayRenderTarget)&&(lt=ce.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(lt,De.__webglTexture),he(lt,oe),oe.mipmaps&&oe.mipmaps.length>0)for(let pt=0;pt<oe.mipmaps.length;pt++)_e(Ee.__webglFramebuffer[pt],ce,oe,n.COLOR_ATTACHMENT0,lt,pt);else _e(Ee.__webglFramebuffer,ce,oe,n.COLOR_ATTACHMENT0,lt,0);g(oe)&&b(lt),t.unbindTexture()}ce.depthBuffer&&Te(ce)}function Be(ce){const oe=ce.textures;for(let Ee=0,De=oe.length;Ee<De;Ee++){const Ke=oe[Ee];if(g(Ke)){const He=C(ce),gt=r.get(Ke).__webglTexture;t.bindTexture(He,gt),b(He),t.unbindTexture()}}}const xe=[],re=[];function Fe(ce){if(ce.samples>0){if(qe(ce)===!1){const oe=ce.textures,Ee=ce.width,De=ce.height;let Ke=n.COLOR_BUFFER_BIT;const He=ce.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,gt=r.get(ce),lt=oe.length>1;if(lt)for(let pt=0;pt<oe.length;pt++)t.bindFramebuffer(n.FRAMEBUFFER,gt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+pt,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,gt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+pt,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,gt.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,gt.__webglFramebuffer);for(let pt=0;pt<oe.length;pt++){if(ce.resolveDepthBuffer&&(ce.depthBuffer&&(Ke|=n.DEPTH_BUFFER_BIT),ce.stencilBuffer&&ce.resolveStencilBuffer&&(Ke|=n.STENCIL_BUFFER_BIT)),lt){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,gt.__webglColorRenderbuffer[pt]);const It=r.get(oe[pt]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,It,0)}n.blitFramebuffer(0,0,Ee,De,0,0,Ee,De,Ke,n.NEAREST),u===!0&&(xe.length=0,re.length=0,xe.push(n.COLOR_ATTACHMENT0+pt),ce.depthBuffer&&ce.resolveDepthBuffer===!1&&(xe.push(He),re.push(He),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,re)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,xe))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),lt)for(let pt=0;pt<oe.length;pt++){t.bindFramebuffer(n.FRAMEBUFFER,gt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+pt,n.RENDERBUFFER,gt.__webglColorRenderbuffer[pt]);const It=r.get(oe[pt]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,gt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+pt,n.TEXTURE_2D,It,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,gt.__webglMultisampledFramebuffer)}else if(ce.depthBuffer&&ce.resolveDepthBuffer===!1&&u){const oe=ce.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[oe])}}}function Ie(ce){return Math.min(a.maxSamples,ce.samples)}function qe(ce){const oe=r.get(ce);return ce.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&oe.__useRenderToTexture!==!1}function $e(ce){const oe=l.render.frame;m.get(ce)!==oe&&(m.set(ce,oe),ce.update())}function ct(ce,oe){const Ee=ce.colorSpace,De=ce.format,Ke=ce.type;return ce.isCompressedTexture===!0||ce.isVideoTexture===!0||Ee!==Hh&&Ee!==ef&&(Ii.getTransfer(Ee)===sr?(De!==No||Ke!==Hc)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Ee)),oe}function st(ce){return typeof HTMLImageElement<"u"&&ce instanceof HTMLImageElement?(f.width=ce.naturalWidth||ce.width,f.height=ce.naturalHeight||ce.height):typeof VideoFrame<"u"&&ce instanceof VideoFrame?(f.width=ce.displayWidth,f.height=ce.displayHeight):(f.width=ce.width,f.height=ce.height),f}this.allocateTextureUnit=W,this.resetTextureUnits=J,this.setTexture2D=ae,this.setTexture2DArray=Y,this.setTexture3D=K,this.setTextureCube=ee,this.rebindTextures=ze,this.setupRenderTarget=yt,this.updateRenderTargetMipmap=Be,this.updateMultisampleRenderTarget=Fe,this.setupDepthRenderbuffer=Te,this.setupFrameBufferTexture=_e,this.useMultisampledRTT=qe}function $6(n,e){function t(r,a=ef){let o;const l=Ii.getTransfer(a);if(r===Hc)return n.UNSIGNED_BYTE;if(r===Hw)return n.UNSIGNED_SHORT_4_4_4_4;if(r===Gw)return n.UNSIGNED_SHORT_5_5_5_1;if(r===dI)return n.UNSIGNED_INT_5_9_9_9_REV;if(r===cI)return n.BYTE;if(r===uI)return n.SHORT;if(r===f0)return n.UNSIGNED_SHORT;if(r===Fw)return n.INT;if(r===gf)return n.UNSIGNED_INT;if(r===Rs)return n.FLOAT;if(r===D0)return n.HALF_FLOAT;if(r===fI)return n.ALPHA;if(r===hI)return n.RGB;if(r===No)return n.RGBA;if(r===pI)return n.LUMINANCE;if(r===mI)return n.LUMINANCE_ALPHA;if(r===Sm)return n.DEPTH_COMPONENT;if(r===Am)return n.DEPTH_STENCIL;if(r===kw)return n.RED;if(r===zS)return n.RED_INTEGER;if(r===gI)return n.RG;if(r===$w)return n.RG_INTEGER;if(r===Vw)return n.RGBA_INTEGER;if(r===Ob||r===Ib||r===Bb||r===Db)if(l===sr)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(r===Ob)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===Ib)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===Bb)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===Db)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(r===Ob)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===Ib)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===Bb)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===Db)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===rE||r===aE||r===oE||r===sE)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(r===rE)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===aE)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===oE)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===sE)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===lE||r===cE||r===uE)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(r===lE||r===cE)return l===sr?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(r===uE)return l===sr?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===dE||r===fE||r===hE||r===pE||r===mE||r===gE||r===vE||r===yE||r===bE||r===SE||r===_E||r===xE||r===CE||r===EE)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(r===dE)return l===sr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===fE)return l===sr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===hE)return l===sr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===pE)return l===sr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===mE)return l===sr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===gE)return l===sr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===vE)return l===sr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===yE)return l===sr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===bE)return l===sr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===SE)return l===sr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===_E)return l===sr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===xE)return l===sr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===CE)return l===sr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===EE)return l===sr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===Pb||r===wE||r===AE)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(r===Pb)return l===sr?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===wE)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===AE)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===vI||r===ME||r===TE||r===RE)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(r===Pb)return o.COMPRESSED_RED_RGTC1_EXT;if(r===ME)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===TE)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===RE)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===wm?n.UNSIGNED_INT_24_8:n[r]!==void 0?n[r]:null}return{convert:t}}const Hde=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Gde=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class kde{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,r){if(this.texture===null){const a=new Lr,o=e.properties.get(a);o.__webglTexture=t.texture,(t.depthNear!==r.depthNear||t.depthFar!==r.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=a}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,r=new Gc({vertexShader:Hde,fragmentShader:Gde,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new ga(new L0(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class $de extends ad{constructor(e,t){super();const r=this;let a=null,o=1,l=null,s="local-floor",u=1,f=null,m=null,y=null,_=null,E=null,c=null;const p=new kde,g=t.getContextAttributes();let b=null,C=null;const T=[],M=[],O=new Tt;let B=null;const P=new Xr;P.viewport=new Gi;const F=new Xr;F.viewport=new Gi;const U=[P,F],z=new B6;let $=null,J=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Z){let pe=T[Z];return pe===void 0&&(pe=new VC,T[Z]=pe),pe.getTargetRaySpace()},this.getControllerGrip=function(Z){let pe=T[Z];return pe===void 0&&(pe=new VC,T[Z]=pe),pe.getGripSpace()},this.getHand=function(Z){let pe=T[Z];return pe===void 0&&(pe=new VC,T[Z]=pe),pe.getHandSpace()};function W(Z){const pe=M.indexOf(Z.inputSource);if(pe===-1)return;const _e=T[pe];_e!==void 0&&(_e.update(Z.inputSource,Z.frame,f||l),_e.dispatchEvent({type:Z.type,data:Z.inputSource}))}function Q(){a.removeEventListener("select",W),a.removeEventListener("selectstart",W),a.removeEventListener("selectend",W),a.removeEventListener("squeeze",W),a.removeEventListener("squeezestart",W),a.removeEventListener("squeezeend",W),a.removeEventListener("end",Q),a.removeEventListener("inputsourceschange",ae);for(let Z=0;Z<T.length;Z++){const pe=M[Z];pe!==null&&(M[Z]=null,T[Z].disconnect(pe))}$=null,J=null,p.reset(),e.setRenderTarget(b),E=null,_=null,y=null,a=null,C=null,fe.stop(),r.isPresenting=!1,e.setPixelRatio(B),e.setSize(O.width,O.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Z){o=Z,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Z){s=Z,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return f||l},this.setReferenceSpace=function(Z){f=Z},this.getBaseLayer=function(){return _!==null?_:E},this.getBinding=function(){return y},this.getFrame=function(){return c},this.getSession=function(){return a},this.setSession=async function(Z){if(a=Z,a!==null){if(b=e.getRenderTarget(),a.addEventListener("select",W),a.addEventListener("selectstart",W),a.addEventListener("selectend",W),a.addEventListener("squeeze",W),a.addEventListener("squeezestart",W),a.addEventListener("squeezeend",W),a.addEventListener("end",Q),a.addEventListener("inputsourceschange",ae),g.xrCompatible!==!0&&await t.makeXRCompatible(),B=e.getPixelRatio(),e.getSize(O),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let _e=null,Oe=null,we=null;g.depth&&(we=g.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,_e=g.stencil?Am:Sm,Oe=g.stencil?wm:gf);const Te={colorFormat:t.RGBA8,depthFormat:we,scaleFactor:o};y=new XRWebGLBinding(a,t),_=y.createProjectionLayer(Te),a.updateRenderState({layers:[_]}),e.setPixelRatio(1),e.setSize(_.textureWidth,_.textureHeight,!1),C=new ed(_.textureWidth,_.textureHeight,{format:No,type:Hc,depthTexture:new OI(_.textureWidth,_.textureHeight,Oe,void 0,void 0,void 0,void 0,void 0,void 0,_e),stencilBuffer:g.stencil,colorSpace:e.outputColorSpace,samples:g.antialias?4:0,resolveDepthBuffer:_.ignoreDepthValues===!1,resolveStencilBuffer:_.ignoreDepthValues===!1})}else{const _e={antialias:g.antialias,alpha:!0,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:o};E=new XRWebGLLayer(a,t,_e),a.updateRenderState({baseLayer:E}),e.setPixelRatio(1),e.setSize(E.framebufferWidth,E.framebufferHeight,!1),C=new ed(E.framebufferWidth,E.framebufferHeight,{format:No,type:Hc,colorSpace:e.outputColorSpace,stencilBuffer:g.stencil,resolveDepthBuffer:E.ignoreDepthValues===!1,resolveStencilBuffer:E.ignoreDepthValues===!1})}C.isXRRenderTarget=!0,this.setFoveation(u),f=null,l=await a.requestReferenceSpace(s),fe.setContext(a),fe.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(a!==null)return a.environmentBlendMode},this.getDepthTexture=function(){return p.getDepthTexture()};function ae(Z){for(let pe=0;pe<Z.removed.length;pe++){const _e=Z.removed[pe],Oe=M.indexOf(_e);Oe>=0&&(M[Oe]=null,T[Oe].disconnect(_e))}for(let pe=0;pe<Z.added.length;pe++){const _e=Z.added[pe];let Oe=M.indexOf(_e);if(Oe===-1){for(let Te=0;Te<T.length;Te++)if(Te>=M.length){M.push(_e),Oe=Te;break}else if(M[Te]===null){M[Te]=_e,Oe=Te;break}if(Oe===-1)break}const we=T[Oe];we&&we.connect(_e)}}const Y=new be,K=new be;function ee(Z,pe,_e){Y.setFromMatrixPosition(pe.matrixWorld),K.setFromMatrixPosition(_e.matrixWorld);const Oe=Y.distanceTo(K),we=pe.projectionMatrix.elements,Te=_e.projectionMatrix.elements,ze=we[14]/(we[10]-1),yt=we[14]/(we[10]+1),Be=(we[9]+1)/we[5],xe=(we[9]-1)/we[5],re=(we[8]-1)/we[0],Fe=(Te[8]+1)/Te[0],Ie=ze*re,qe=ze*Fe,$e=Oe/(-re+Fe),ct=$e*-re;if(pe.matrixWorld.decompose(Z.position,Z.quaternion,Z.scale),Z.translateX(ct),Z.translateZ($e),Z.matrixWorld.compose(Z.position,Z.quaternion,Z.scale),Z.matrixWorldInverse.copy(Z.matrixWorld).invert(),we[10]===-1)Z.projectionMatrix.copy(pe.projectionMatrix),Z.projectionMatrixInverse.copy(pe.projectionMatrixInverse);else{const st=ze+$e,ce=yt+$e,oe=Ie-ct,Ee=qe+(Oe-ct),De=Be*yt/ce*st,Ke=xe*yt/ce*st;Z.projectionMatrix.makePerspective(oe,Ee,De,Ke,st,ce),Z.projectionMatrixInverse.copy(Z.projectionMatrix).invert()}}function de(Z,pe){pe===null?Z.matrixWorld.copy(Z.matrix):Z.matrixWorld.multiplyMatrices(pe.matrixWorld,Z.matrix),Z.matrixWorldInverse.copy(Z.matrixWorld).invert()}this.updateCamera=function(Z){if(a===null)return;let pe=Z.near,_e=Z.far;p.texture!==null&&(p.depthNear>0&&(pe=p.depthNear),p.depthFar>0&&(_e=p.depthFar)),z.near=F.near=P.near=pe,z.far=F.far=P.far=_e,($!==z.near||J!==z.far)&&(a.updateRenderState({depthNear:z.near,depthFar:z.far}),$=z.near,J=z.far),P.layers.mask=Z.layers.mask|2,F.layers.mask=Z.layers.mask|4,z.layers.mask=P.layers.mask|F.layers.mask;const Oe=Z.parent,we=z.cameras;de(z,Oe);for(let Te=0;Te<we.length;Te++)de(we[Te],Oe);we.length===2?ee(z,P,F):z.projectionMatrix.copy(P.projectionMatrix),q(Z,z,Oe)};function q(Z,pe,_e){_e===null?Z.matrix.copy(pe.matrixWorld):(Z.matrix.copy(_e.matrixWorld),Z.matrix.invert(),Z.matrix.multiply(pe.matrixWorld)),Z.matrix.decompose(Z.position,Z.quaternion,Z.scale),Z.updateMatrixWorld(!0),Z.projectionMatrix.copy(pe.projectionMatrix),Z.projectionMatrixInverse.copy(pe.projectionMatrixInverse),Z.isPerspectiveCamera&&(Z.fov=m0*2*Math.atan(1/Z.projectionMatrix.elements[5]),Z.zoom=1)}this.getCamera=function(){return z},this.getFoveation=function(){if(!(_===null&&E===null))return u},this.setFoveation=function(Z){u=Z,_!==null&&(_.fixedFoveation=Z),E!==null&&E.fixedFoveation!==void 0&&(E.fixedFoveation=Z)},this.hasDepthSensing=function(){return p.texture!==null},this.getDepthSensingMesh=function(){return p.getMesh(z)};let ie=null;function he(Z,pe){if(m=pe.getViewerPose(f||l),c=pe,m!==null){const _e=m.views;E!==null&&(e.setRenderTargetFramebuffer(C,E.framebuffer),e.setRenderTarget(C));let Oe=!1;_e.length!==z.cameras.length&&(z.cameras.length=0,Oe=!0);for(let ze=0;ze<_e.length;ze++){const yt=_e[ze];let Be=null;if(E!==null)Be=E.getViewport(yt);else{const re=y.getViewSubImage(_,yt);Be=re.viewport,ze===0&&(e.setRenderTargetTextures(C,re.colorTexture,_.ignoreDepthValues?void 0:re.depthStencilTexture),e.setRenderTarget(C))}let xe=U[ze];xe===void 0&&(xe=new Xr,xe.layers.enable(ze),xe.viewport=new Gi,U[ze]=xe),xe.matrix.fromArray(yt.transform.matrix),xe.matrix.decompose(xe.position,xe.quaternion,xe.scale),xe.projectionMatrix.fromArray(yt.projectionMatrix),xe.projectionMatrixInverse.copy(xe.projectionMatrix).invert(),xe.viewport.set(Be.x,Be.y,Be.width,Be.height),ze===0&&(z.matrix.copy(xe.matrix),z.matrix.decompose(z.position,z.quaternion,z.scale)),Oe===!0&&z.cameras.push(xe)}const we=a.enabledFeatures;if(we&&we.includes("depth-sensing")&&a.depthUsage=="gpu-optimized"&&y){const ze=y.getDepthInformation(_e[0]);ze&&ze.isValid&&ze.texture&&p.init(e,ze,a.renderState)}}for(let _e=0;_e<T.length;_e++){const Oe=M[_e],we=T[_e];Oe!==null&&we!==void 0&&we.update(Oe,pe,f||l)}ie&&ie(Z,pe),pe.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:pe}),c=null}const fe=new U6;fe.setAnimationLoop(he),this.setAnimationLoop=function(Z){ie=Z},this.dispose=function(){}}}const zp=new rl,Vde=new Pn;function jde(n,e){function t(g,b){g.matrixAutoUpdate===!0&&g.updateMatrix(),b.value.copy(g.matrix)}function r(g,b){b.color.getRGB(g.fogColor.value,V8(n)),b.isFog?(g.fogNear.value=b.near,g.fogFar.value=b.far):b.isFogExp2&&(g.fogDensity.value=b.density)}function a(g,b,C,T,M){b.isMeshBasicMaterial||b.isMeshLambertMaterial?o(g,b):b.isMeshToonMaterial?(o(g,b),y(g,b)):b.isMeshPhongMaterial?(o(g,b),m(g,b)):b.isMeshStandardMaterial?(o(g,b),_(g,b),b.isMeshPhysicalMaterial&&E(g,b,M)):b.isMeshMatcapMaterial?(o(g,b),c(g,b)):b.isMeshDepthMaterial?o(g,b):b.isMeshDistanceMaterial?(o(g,b),p(g,b)):b.isMeshNormalMaterial?o(g,b):b.isLineBasicMaterial?(l(g,b),b.isLineDashedMaterial&&s(g,b)):b.isPointsMaterial?u(g,b,C,T):b.isSpriteMaterial?f(g,b):b.isShadowMaterial?(g.color.value.copy(b.color),g.opacity.value=b.opacity):b.isShaderMaterial&&(b.uniformsNeedUpdate=!1)}function o(g,b){g.opacity.value=b.opacity,b.color&&g.diffuse.value.copy(b.color),b.emissive&&g.emissive.value.copy(b.emissive).multiplyScalar(b.emissiveIntensity),b.map&&(g.map.value=b.map,t(b.map,g.mapTransform)),b.alphaMap&&(g.alphaMap.value=b.alphaMap,t(b.alphaMap,g.alphaMapTransform)),b.bumpMap&&(g.bumpMap.value=b.bumpMap,t(b.bumpMap,g.bumpMapTransform),g.bumpScale.value=b.bumpScale,b.side===ls&&(g.bumpScale.value*=-1)),b.normalMap&&(g.normalMap.value=b.normalMap,t(b.normalMap,g.normalMapTransform),g.normalScale.value.copy(b.normalScale),b.side===ls&&g.normalScale.value.negate()),b.displacementMap&&(g.displacementMap.value=b.displacementMap,t(b.displacementMap,g.displacementMapTransform),g.displacementScale.value=b.displacementScale,g.displacementBias.value=b.displacementBias),b.emissiveMap&&(g.emissiveMap.value=b.emissiveMap,t(b.emissiveMap,g.emissiveMapTransform)),b.specularMap&&(g.specularMap.value=b.specularMap,t(b.specularMap,g.specularMapTransform)),b.alphaTest>0&&(g.alphaTest.value=b.alphaTest);const C=e.get(b),T=C.envMap,M=C.envMapRotation;T&&(g.envMap.value=T,zp.copy(M),zp.x*=-1,zp.y*=-1,zp.z*=-1,T.isCubeTexture&&T.isRenderTargetTexture===!1&&(zp.y*=-1,zp.z*=-1),g.envMapRotation.value.setFromMatrix4(Vde.makeRotationFromEuler(zp)),g.flipEnvMap.value=T.isCubeTexture&&T.isRenderTargetTexture===!1?-1:1,g.reflectivity.value=b.reflectivity,g.ior.value=b.ior,g.refractionRatio.value=b.refractionRatio),b.lightMap&&(g.lightMap.value=b.lightMap,g.lightMapIntensity.value=b.lightMapIntensity,t(b.lightMap,g.lightMapTransform)),b.aoMap&&(g.aoMap.value=b.aoMap,g.aoMapIntensity.value=b.aoMapIntensity,t(b.aoMap,g.aoMapTransform))}function l(g,b){g.diffuse.value.copy(b.color),g.opacity.value=b.opacity,b.map&&(g.map.value=b.map,t(b.map,g.mapTransform))}function s(g,b){g.dashSize.value=b.dashSize,g.totalSize.value=b.dashSize+b.gapSize,g.scale.value=b.scale}function u(g,b,C,T){g.diffuse.value.copy(b.color),g.opacity.value=b.opacity,g.size.value=b.size*C,g.scale.value=T*.5,b.map&&(g.map.value=b.map,t(b.map,g.uvTransform)),b.alphaMap&&(g.alphaMap.value=b.alphaMap,t(b.alphaMap,g.alphaMapTransform)),b.alphaTest>0&&(g.alphaTest.value=b.alphaTest)}function f(g,b){g.diffuse.value.copy(b.color),g.opacity.value=b.opacity,g.rotation.value=b.rotation,b.map&&(g.map.value=b.map,t(b.map,g.mapTransform)),b.alphaMap&&(g.alphaMap.value=b.alphaMap,t(b.alphaMap,g.alphaMapTransform)),b.alphaTest>0&&(g.alphaTest.value=b.alphaTest)}function m(g,b){g.specular.value.copy(b.specular),g.shininess.value=Math.max(b.shininess,1e-4)}function y(g,b){b.gradientMap&&(g.gradientMap.value=b.gradientMap)}function _(g,b){g.metalness.value=b.metalness,b.metalnessMap&&(g.metalnessMap.value=b.metalnessMap,t(b.metalnessMap,g.metalnessMapTransform)),g.roughness.value=b.roughness,b.roughnessMap&&(g.roughnessMap.value=b.roughnessMap,t(b.roughnessMap,g.roughnessMapTransform)),b.envMap&&(g.envMapIntensity.value=b.envMapIntensity)}function E(g,b,C){g.ior.value=b.ior,b.sheen>0&&(g.sheenColor.value.copy(b.sheenColor).multiplyScalar(b.sheen),g.sheenRoughness.value=b.sheenRoughness,b.sheenColorMap&&(g.sheenColorMap.value=b.sheenColorMap,t(b.sheenColorMap,g.sheenColorMapTransform)),b.sheenRoughnessMap&&(g.sheenRoughnessMap.value=b.sheenRoughnessMap,t(b.sheenRoughnessMap,g.sheenRoughnessMapTransform))),b.clearcoat>0&&(g.clearcoat.value=b.clearcoat,g.clearcoatRoughness.value=b.clearcoatRoughness,b.clearcoatMap&&(g.clearcoatMap.value=b.clearcoatMap,t(b.clearcoatMap,g.clearcoatMapTransform)),b.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=b.clearcoatRoughnessMap,t(b.clearcoatRoughnessMap,g.clearcoatRoughnessMapTransform)),b.clearcoatNormalMap&&(g.clearcoatNormalMap.value=b.clearcoatNormalMap,t(b.clearcoatNormalMap,g.clearcoatNormalMapTransform),g.clearcoatNormalScale.value.copy(b.clearcoatNormalScale),b.side===ls&&g.clearcoatNormalScale.value.negate())),b.dispersion>0&&(g.dispersion.value=b.dispersion),b.iridescence>0&&(g.iridescence.value=b.iridescence,g.iridescenceIOR.value=b.iridescenceIOR,g.iridescenceThicknessMinimum.value=b.iridescenceThicknessRange[0],g.iridescenceThicknessMaximum.value=b.iridescenceThicknessRange[1],b.iridescenceMap&&(g.iridescenceMap.value=b.iridescenceMap,t(b.iridescenceMap,g.iridescenceMapTransform)),b.iridescenceThicknessMap&&(g.iridescenceThicknessMap.value=b.iridescenceThicknessMap,t(b.iridescenceThicknessMap,g.iridescenceThicknessMapTransform))),b.transmission>0&&(g.transmission.value=b.transmission,g.transmissionSamplerMap.value=C.texture,g.transmissionSamplerSize.value.set(C.width,C.height),b.transmissionMap&&(g.transmissionMap.value=b.transmissionMap,t(b.transmissionMap,g.transmissionMapTransform)),g.thickness.value=b.thickness,b.thicknessMap&&(g.thicknessMap.value=b.thicknessMap,t(b.thicknessMap,g.thicknessMapTransform)),g.attenuationDistance.value=b.attenuationDistance,g.attenuationColor.value.copy(b.attenuationColor)),b.anisotropy>0&&(g.anisotropyVector.value.set(b.anisotropy*Math.cos(b.anisotropyRotation),b.anisotropy*Math.sin(b.anisotropyRotation)),b.anisotropyMap&&(g.anisotropyMap.value=b.anisotropyMap,t(b.anisotropyMap,g.anisotropyMapTransform))),g.specularIntensity.value=b.specularIntensity,g.specularColor.value.copy(b.specularColor),b.specularColorMap&&(g.specularColorMap.value=b.specularColorMap,t(b.specularColorMap,g.specularColorMapTransform)),b.specularIntensityMap&&(g.specularIntensityMap.value=b.specularIntensityMap,t(b.specularIntensityMap,g.specularIntensityMapTransform))}function c(g,b){b.matcap&&(g.matcap.value=b.matcap)}function p(g,b){const C=e.get(b).light;g.referencePosition.value.setFromMatrixPosition(C.matrixWorld),g.nearDistance.value=C.shadow.camera.near,g.farDistance.value=C.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:a}}function Wde(n,e,t,r){let a={},o={},l=[];const s=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function u(C,T){const M=T.program;r.uniformBlockBinding(C,M)}function f(C,T){let M=a[C.id];M===void 0&&(c(C),M=m(C),a[C.id]=M,C.addEventListener("dispose",g));const O=T.program;r.updateUBOMapping(C,O);const B=e.render.frame;o[C.id]!==B&&(_(C),o[C.id]=B)}function m(C){const T=y();C.__bindingPointIndex=T;const M=n.createBuffer(),O=C.__size,B=C.usage;return n.bindBuffer(n.UNIFORM_BUFFER,M),n.bufferData(n.UNIFORM_BUFFER,O,B),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,T,M),M}function y(){for(let C=0;C<s;C++)if(l.indexOf(C)===-1)return l.push(C),C;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function _(C){const T=a[C.id],M=C.uniforms,O=C.__cache;n.bindBuffer(n.UNIFORM_BUFFER,T);for(let B=0,P=M.length;B<P;B++){const F=Array.isArray(M[B])?M[B]:[M[B]];for(let U=0,z=F.length;U<z;U++){const $=F[U];if(E($,B,U,O)===!0){const J=$.__offset,W=Array.isArray($.value)?$.value:[$.value];let Q=0;for(let ae=0;ae<W.length;ae++){const Y=W[ae],K=p(Y);typeof Y=="number"||typeof Y=="boolean"?($.__data[0]=Y,n.bufferSubData(n.UNIFORM_BUFFER,J+Q,$.__data)):Y.isMatrix3?($.__data[0]=Y.elements[0],$.__data[1]=Y.elements[1],$.__data[2]=Y.elements[2],$.__data[3]=0,$.__data[4]=Y.elements[3],$.__data[5]=Y.elements[4],$.__data[6]=Y.elements[5],$.__data[7]=0,$.__data[8]=Y.elements[6],$.__data[9]=Y.elements[7],$.__data[10]=Y.elements[8],$.__data[11]=0):(Y.toArray($.__data,Q),Q+=K.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,J,$.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function E(C,T,M,O){const B=C.value,P=T+"_"+M;if(O[P]===void 0)return typeof B=="number"||typeof B=="boolean"?O[P]=B:O[P]=B.clone(),!0;{const F=O[P];if(typeof B=="number"||typeof B=="boolean"){if(F!==B)return O[P]=B,!0}else if(F.equals(B)===!1)return F.copy(B),!0}return!1}function c(C){const T=C.uniforms;let M=0;const O=16;for(let P=0,F=T.length;P<F;P++){const U=Array.isArray(T[P])?T[P]:[T[P]];for(let z=0,$=U.length;z<$;z++){const J=U[z],W=Array.isArray(J.value)?J.value:[J.value];for(let Q=0,ae=W.length;Q<ae;Q++){const Y=W[Q],K=p(Y),ee=M%O,de=ee%K.boundary,q=ee+de;M+=de,q!==0&&O-q<K.storage&&(M+=O-q),J.__data=new Float32Array(K.storage/Float32Array.BYTES_PER_ELEMENT),J.__offset=M,M+=K.storage}}}const B=M%O;return B>0&&(M+=O-B),C.__size=M,C.__cache={},this}function p(C){const T={boundary:0,storage:0};return typeof C=="number"||typeof C=="boolean"?(T.boundary=4,T.storage=4):C.isVector2?(T.boundary=8,T.storage=8):C.isVector3||C.isColor?(T.boundary=16,T.storage=12):C.isVector4?(T.boundary=16,T.storage=16):C.isMatrix3?(T.boundary=48,T.storage=48):C.isMatrix4?(T.boundary=64,T.storage=64):C.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",C),T}function g(C){const T=C.target;T.removeEventListener("dispose",g);const M=l.indexOf(T.__bindingPointIndex);l.splice(M,1),n.deleteBuffer(a[T.id]),delete a[T.id],delete o[T.id]}function b(){for(const C in a)n.deleteBuffer(a[C]);l=[],a={},o={}}return{bind:u,update:f,dispose:b}}class V6{constructor(e={}){const{canvas:t=G8(),context:r=null,depth:a=!0,stencil:o=!1,alpha:l=!1,antialias:s=!1,premultipliedAlpha:u=!0,preserveDrawingBuffer:f=!1,powerPreference:m="default",failIfMajorPerformanceCaveat:y=!1,reverseDepthBuffer:_=!1}=e;this.isWebGLRenderer=!0;let E;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");E=r.getContextAttributes().alpha}else E=l;const c=new Uint32Array(4),p=new Int32Array(4);let g=null,b=null;const C=[],T=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Po,this.toneMapping=Wu,this.toneMappingExposure=1;const M=this;let O=!1,B=0,P=0,F=null,U=-1,z=null;const $=new Gi,J=new Gi;let W=null;const Q=new en(0);let ae=0,Y=t.width,K=t.height,ee=1,de=null,q=null;const ie=new Gi(0,0,Y,K),he=new Gi(0,0,Y,K);let fe=!1;const Z=new kS;let pe=!1,_e=!1;this.transmissionResolutionScale=1;const Oe=new Pn,we=new Pn,Te=new be,ze=new Gi,yt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Be=!1;function xe(){return F===null?ee:1}let re=r;function Fe(le,Ue){return t.getContext(le,Ue)}try{const le={alpha:!0,depth:a,stencil:o,antialias:s,premultipliedAlpha:u,preserveDrawingBuffer:f,powerPreference:m,failIfMajorPerformanceCaveat:y};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${LS}`),t.addEventListener("webglcontextlost",mt,!1),t.addEventListener("webglcontextrestored",Nt,!1),t.addEventListener("webglcontextcreationerror",Bt,!1),re===null){const Ue="webgl2";if(re=Fe(Ue,le),re===null)throw Fe(Ue)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(le){throw console.error("THREE.WebGLRenderer: "+le.message),le}let Ie,qe,$e,ct,st,ce,oe,Ee,De,Ke,He,gt,lt,pt,It,ot,_t,Ct,We,rt,Se,Ge,St,Ae;function xt(){Ie=new rue(re),Ie.init(),Ge=new $6(re,Ie),qe=new Jce(re,Ie,e,Ge),$e=new Ude(re,Ie),qe.reverseDepthBuffer&&_&&$e.buffers.depth.setReversed(!0),ct=new sue(re),st=new wde,ce=new Fde(re,Ie,$e,st,qe,Ge,ct),oe=new Zce(M),Ee=new iue(M),De=new hse(re),St=new qce(re,De),Ke=new aue(re,De,ct,St),He=new cue(re,Ke,De,ct),We=new lue(re,qe,ce),ot=new Qce(st),gt=new Ede(M,oe,Ee,Ie,qe,St,ot),lt=new jde(M,st),pt=new Mde,It=new Dde(Ie),Ct=new Yce(M,oe,Ee,$e,He,E,u),_t=new Nde(M,He,qe),Ae=new Wde(re,ct,qe,$e),rt=new Kce(re,Ie,ct),Se=new oue(re,Ie,ct),ct.programs=gt.programs,M.capabilities=qe,M.extensions=Ie,M.properties=st,M.renderLists=pt,M.shadowMap=_t,M.state=$e,M.info=ct}xt();const et=new $de(M,re);this.xr=et,this.getContext=function(){return re},this.getContextAttributes=function(){return re.getContextAttributes()},this.forceContextLoss=function(){const le=Ie.get("WEBGL_lose_context");le&&le.loseContext()},this.forceContextRestore=function(){const le=Ie.get("WEBGL_lose_context");le&&le.restoreContext()},this.getPixelRatio=function(){return ee},this.setPixelRatio=function(le){le!==void 0&&(ee=le,this.setSize(Y,K,!1))},this.getSize=function(le){return le.set(Y,K)},this.setSize=function(le,Ue,at=!0){if(et.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}Y=le,K=Ue,t.width=Math.floor(le*ee),t.height=Math.floor(Ue*ee),at===!0&&(t.style.width=le+"px",t.style.height=Ue+"px"),this.setViewport(0,0,le,Ue)},this.getDrawingBufferSize=function(le){return le.set(Y*ee,K*ee).floor()},this.setDrawingBufferSize=function(le,Ue,at){Y=le,K=Ue,ee=at,t.width=Math.floor(le*at),t.height=Math.floor(Ue*at),this.setViewport(0,0,le,Ue)},this.getCurrentViewport=function(le){return le.copy($)},this.getViewport=function(le){return le.copy(ie)},this.setViewport=function(le,Ue,at,Ze){le.isVector4?ie.set(le.x,le.y,le.z,le.w):ie.set(le,Ue,at,Ze),$e.viewport($.copy(ie).multiplyScalar(ee).round())},this.getScissor=function(le){return le.copy(he)},this.setScissor=function(le,Ue,at,Ze){le.isVector4?he.set(le.x,le.y,le.z,le.w):he.set(le,Ue,at,Ze),$e.scissor(J.copy(he).multiplyScalar(ee).round())},this.getScissorTest=function(){return fe},this.setScissorTest=function(le){$e.setScissorTest(fe=le)},this.setOpaqueSort=function(le){de=le},this.setTransparentSort=function(le){q=le},this.getClearColor=function(le){return le.copy(Ct.getClearColor())},this.setClearColor=function(){Ct.setClearColor(...arguments)},this.getClearAlpha=function(){return Ct.getClearAlpha()},this.setClearAlpha=function(){Ct.setClearAlpha(...arguments)},this.clear=function(le=!0,Ue=!0,at=!0){let Ze=0;if(le){let Ve=!1;if(F!==null){const Rt=F.texture.format;Ve=Rt===Vw||Rt===$w||Rt===zS}if(Ve){const Rt=F.texture.type,$t=Rt===Hc||Rt===gf||Rt===f0||Rt===wm||Rt===Hw||Rt===Gw,qt=Ct.getClearColor(),Wt=Ct.getClearAlpha(),gn=qt.r,dn=qt.g,on=qt.b;$t?(c[0]=gn,c[1]=dn,c[2]=on,c[3]=Wt,re.clearBufferuiv(re.COLOR,0,c)):(p[0]=gn,p[1]=dn,p[2]=on,p[3]=Wt,re.clearBufferiv(re.COLOR,0,p))}else Ze|=re.COLOR_BUFFER_BIT}Ue&&(Ze|=re.DEPTH_BUFFER_BIT),at&&(Ze|=re.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),re.clear(Ze)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",mt,!1),t.removeEventListener("webglcontextrestored",Nt,!1),t.removeEventListener("webglcontextcreationerror",Bt,!1),Ct.dispose(),pt.dispose(),It.dispose(),st.dispose(),oe.dispose(),Ee.dispose(),He.dispose(),St.dispose(),Ae.dispose(),gt.dispose(),et.dispose(),et.removeEventListener("sessionstart",lr),et.removeEventListener("sessionend",Jr),zn.stop()};function mt(le){le.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),O=!0}function Nt(){console.log("THREE.WebGLRenderer: Context Restored."),O=!1;const le=ct.autoReset,Ue=_t.enabled,at=_t.autoUpdate,Ze=_t.needsUpdate,Ve=_t.type;xt(),ct.autoReset=le,_t.enabled=Ue,_t.autoUpdate=at,_t.needsUpdate=Ze,_t.type=Ve}function Bt(le){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",le.statusMessage)}function Qt(le){const Ue=le.target;Ue.removeEventListener("dispose",Qt),sn(Ue)}function sn(le){Yt(le),st.remove(le)}function Yt(le){const Ue=st.get(le).programs;Ue!==void 0&&(Ue.forEach(function(at){gt.releaseProgram(at)}),le.isShaderMaterial&&gt.releaseShaderCache(le))}this.renderBufferDirect=function(le,Ue,at,Ze,Ve,Rt){Ue===null&&(Ue=yt);const $t=Ve.isMesh&&Ve.matrixWorld.determinant()<0,qt=zr(le,Ue,at,Ze,Ve);$e.setMaterial(Ze,$t);let Wt=at.index,gn=1;if(Ze.wireframe===!0){if(Wt=Ke.getWireframeAttribute(at),Wt===void 0)return;gn=2}const dn=at.drawRange,on=at.attributes.position;let Gn=dn.start*gn,Vn=(dn.start+dn.count)*gn;Rt!==null&&(Gn=Math.max(Gn,Rt.start*gn),Vn=Math.min(Vn,(Rt.start+Rt.count)*gn)),Wt!==null?(Gn=Math.max(Gn,0),Vn=Math.min(Vn,Wt.count)):on!=null&&(Gn=Math.max(Gn,0),Vn=Math.min(Vn,on.count));const jn=Vn-Gn;if(jn<0||jn===1/0)return;St.setup(Ve,Ze,qt,at,Wt);let In,bn=rt;if(Wt!==null&&(In=De.get(Wt),bn=Se,bn.setIndex(In)),Ve.isMesh)Ze.wireframe===!0?($e.setLineWidth(Ze.wireframeLinewidth*xe()),bn.setMode(re.LINES)):bn.setMode(re.TRIANGLES);else if(Ve.isLine){let cn=Ze.linewidth;cn===void 0&&(cn=1),$e.setLineWidth(cn*xe()),Ve.isLineSegments?bn.setMode(re.LINES):Ve.isLineLoop?bn.setMode(re.LINE_LOOP):bn.setMode(re.LINE_STRIP)}else Ve.isPoints?bn.setMode(re.POINTS):Ve.isSprite&&bn.setMode(re.TRIANGLES);if(Ve.isBatchedMesh)if(Ve._multiDrawInstances!==null)kp("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),bn.renderMultiDrawInstances(Ve._multiDrawStarts,Ve._multiDrawCounts,Ve._multiDrawCount,Ve._multiDrawInstances);else if(Ie.get("WEBGL_multi_draw"))bn.renderMultiDraw(Ve._multiDrawStarts,Ve._multiDrawCounts,Ve._multiDrawCount);else{const cn=Ve._multiDrawStarts,Si=Ve._multiDrawCounts,Wn=Ve._multiDrawCount,$n=Wt?De.get(Wt).bytesPerElement:1,Tn=st.get(Ze).currentProgram.getUniforms();for(let Cn=0;Cn<Wn;Cn++)Tn.setValue(re,"_gl_DrawID",Cn),bn.render(cn[Cn]/$n,Si[Cn])}else if(Ve.isInstancedMesh)bn.renderInstances(Gn,jn,Ve.count);else if(at.isInstancedBufferGeometry){const cn=at._maxInstanceCount!==void 0?at._maxInstanceCount:1/0,Si=Math.min(at.instanceCount,cn);bn.renderInstances(Gn,jn,Si)}else bn.render(Gn,jn)};function Lt(le,Ue,at){le.transparent===!0&&le.side===Pc&&le.forceSinglePass===!1?(le.side=ls,le.needsUpdate=!0,un(le,Ue,at),le.side=Zu,le.needsUpdate=!0,un(le,Ue,at),le.side=Pc):un(le,Ue,at)}this.compile=function(le,Ue,at=null){at===null&&(at=le),b=It.get(at),b.init(Ue),T.push(b),at.traverseVisible(function(Ve){Ve.isLight&&Ve.layers.test(Ue.layers)&&(b.pushLight(Ve),Ve.castShadow&&b.pushShadow(Ve))}),le!==at&&le.traverseVisible(function(Ve){Ve.isLight&&Ve.layers.test(Ue.layers)&&(b.pushLight(Ve),Ve.castShadow&&b.pushShadow(Ve))}),b.setupLights();const Ze=new Set;return le.traverse(function(Ve){if(!(Ve.isMesh||Ve.isPoints||Ve.isLine||Ve.isSprite))return;const Rt=Ve.material;if(Rt)if(Array.isArray(Rt))for(let $t=0;$t<Rt.length;$t++){const qt=Rt[$t];Lt(qt,at,Ve),Ze.add(qt)}else Lt(Rt,at,Ve),Ze.add(Rt)}),b=T.pop(),Ze},this.compileAsync=function(le,Ue,at=null){const Ze=this.compile(le,Ue,at);return new Promise(Ve=>{function Rt(){if(Ze.forEach(function($t){st.get($t).currentProgram.isReady()&&Ze.delete($t)}),Ze.size===0){Ve(le);return}setTimeout(Rt,10)}Ie.get("KHR_parallel_shader_compile")!==null?Rt():setTimeout(Rt,10)})};let Xt=null;function yn(le){Xt&&Xt(le)}function lr(){zn.stop()}function Jr(){zn.start()}const zn=new U6;zn.setAnimationLoop(yn),typeof self<"u"&&zn.setContext(self),this.setAnimationLoop=function(le){Xt=le,et.setAnimationLoop(le),le===null?zn.stop():zn.start()},et.addEventListener("sessionstart",lr),et.addEventListener("sessionend",Jr),this.render=function(le,Ue){if(Ue!==void 0&&Ue.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(O===!0)return;if(le.matrixWorldAutoUpdate===!0&&le.updateMatrixWorld(),Ue.parent===null&&Ue.matrixWorldAutoUpdate===!0&&Ue.updateMatrixWorld(),et.enabled===!0&&et.isPresenting===!0&&(et.cameraAutoUpdate===!0&&et.updateCamera(Ue),Ue=et.getCamera()),le.isScene===!0&&le.onBeforeRender(M,le,Ue,F),b=It.get(le,T.length),b.init(Ue),T.push(b),we.multiplyMatrices(Ue.projectionMatrix,Ue.matrixWorldInverse),Z.setFromProjectionMatrix(we),_e=this.localClippingEnabled,pe=ot.init(this.clippingPlanes,_e),g=pt.get(le,C.length),g.init(),C.push(g),et.enabled===!0&&et.isPresenting===!0){const Rt=M.xr.getDepthSensingMesh();Rt!==null&&Ai(Rt,Ue,-1/0,M.sortObjects)}Ai(le,Ue,0,M.sortObjects),g.finish(),M.sortObjects===!0&&g.sort(de,q),Be=et.enabled===!1||et.isPresenting===!1||et.hasDepthSensing()===!1,Be&&Ct.addToRenderList(g,le),this.info.render.frame++,pe===!0&&ot.beginShadows();const at=b.state.shadowsArray;_t.render(at,le,Ue),pe===!0&&ot.endShadows(),this.info.autoReset===!0&&this.info.reset();const Ze=g.opaque,Ve=g.transmissive;if(b.setupLights(),Ue.isArrayCamera){const Rt=Ue.cameras;if(Ve.length>0)for(let $t=0,qt=Rt.length;$t<qt;$t++){const Wt=Rt[$t];wn(Ze,Ve,le,Wt)}Be&&Ct.render(le);for(let $t=0,qt=Rt.length;$t<qt;$t++){const Wt=Rt[$t];Sr(g,le,Wt,Wt.viewport)}}else Ve.length>0&&wn(Ze,Ve,le,Ue),Be&&Ct.render(le),Sr(g,le,Ue);F!==null&&P===0&&(ce.updateMultisampleRenderTarget(F),ce.updateRenderTargetMipmap(F)),le.isScene===!0&&le.onAfterRender(M,le,Ue),St.resetDefaultState(),U=-1,z=null,T.pop(),T.length>0?(b=T[T.length-1],pe===!0&&ot.setGlobalState(M.clippingPlanes,b.state.camera)):b=null,C.pop(),C.length>0?g=C[C.length-1]:g=null};function Ai(le,Ue,at,Ze){if(le.visible===!1)return;if(le.layers.test(Ue.layers)){if(le.isGroup)at=le.renderOrder;else if(le.isLOD)le.autoUpdate===!0&&le.update(Ue);else if(le.isLight)b.pushLight(le),le.castShadow&&b.pushShadow(le);else if(le.isSprite){if(!le.frustumCulled||Z.intersectsSprite(le)){Ze&&ze.setFromMatrixPosition(le.matrixWorld).applyMatrix4(we);const $t=He.update(le),qt=le.material;qt.visible&&g.push(le,$t,qt,at,ze.z,null)}}else if((le.isMesh||le.isLine||le.isPoints)&&(!le.frustumCulled||Z.intersectsObject(le))){const $t=He.update(le),qt=le.material;if(Ze&&(le.boundingSphere!==void 0?(le.boundingSphere===null&&le.computeBoundingSphere(),ze.copy(le.boundingSphere.center)):($t.boundingSphere===null&&$t.computeBoundingSphere(),ze.copy($t.boundingSphere.center)),ze.applyMatrix4(le.matrixWorld).applyMatrix4(we)),Array.isArray(qt)){const Wt=$t.groups;for(let gn=0,dn=Wt.length;gn<dn;gn++){const on=Wt[gn],Gn=qt[on.materialIndex];Gn&&Gn.visible&&g.push(le,$t,Gn,at,ze.z,on)}}else qt.visible&&g.push(le,$t,qt,at,ze.z,null)}}const Rt=le.children;for(let $t=0,qt=Rt.length;$t<qt;$t++)Ai(Rt[$t],Ue,at,Ze)}function Sr(le,Ue,at,Ze){const Ve=le.opaque,Rt=le.transmissive,$t=le.transparent;b.setupLightsView(at),pe===!0&&ot.setGlobalState(M.clippingPlanes,at),Ze&&$e.viewport($.copy(Ze)),Ve.length>0&&Mn(Ve,Ue,at),Rt.length>0&&Mn(Rt,Ue,at),$t.length>0&&Mn($t,Ue,at),$e.buffers.depth.setTest(!0),$e.buffers.depth.setMask(!0),$e.buffers.color.setMask(!0),$e.setPolygonOffset(!1)}function wn(le,Ue,at,Ze){if((at.isScene===!0?at.overrideMaterial:null)!==null)return;b.state.transmissionRenderTarget[Ze.id]===void 0&&(b.state.transmissionRenderTarget[Ze.id]=new ed(1,1,{generateMipmaps:!0,type:Ie.has("EXT_color_buffer_half_float")||Ie.has("EXT_color_buffer_float")?D0:Hc,minFilter:Fl,samples:4,stencilBuffer:o,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Ii.workingColorSpace}));const Rt=b.state.transmissionRenderTarget[Ze.id],$t=Ze.viewport||$;Rt.setSize($t.z*M.transmissionResolutionScale,$t.w*M.transmissionResolutionScale);const qt=M.getRenderTarget();M.setRenderTarget(Rt),M.getClearColor(Q),ae=M.getClearAlpha(),ae<1&&M.setClearColor(16777215,.5),M.clear(),Be&&Ct.render(at);const Wt=M.toneMapping;M.toneMapping=Wu;const gn=Ze.viewport;if(Ze.viewport!==void 0&&(Ze.viewport=void 0),b.setupLightsView(Ze),pe===!0&&ot.setGlobalState(M.clippingPlanes,Ze),Mn(le,at,Ze),ce.updateMultisampleRenderTarget(Rt),ce.updateRenderTargetMipmap(Rt),Ie.has("WEBGL_multisampled_render_to_texture")===!1){let dn=!1;for(let on=0,Gn=Ue.length;on<Gn;on++){const Vn=Ue[on],jn=Vn.object,In=Vn.geometry,bn=Vn.material,cn=Vn.group;if(bn.side===Pc&&jn.layers.test(Ze.layers)){const Si=bn.side;bn.side=ls,bn.needsUpdate=!0,Qn(jn,at,Ze,In,bn,cn),bn.side=Si,bn.needsUpdate=!0,dn=!0}}dn===!0&&(ce.updateMultisampleRenderTarget(Rt),ce.updateRenderTargetMipmap(Rt))}M.setRenderTarget(qt),M.setClearColor(Q,ae),gn!==void 0&&(Ze.viewport=gn),M.toneMapping=Wt}function Mn(le,Ue,at){const Ze=Ue.isScene===!0?Ue.overrideMaterial:null;for(let Ve=0,Rt=le.length;Ve<Rt;Ve++){const $t=le[Ve],qt=$t.object,Wt=$t.geometry,gn=Ze===null?$t.material:Ze,dn=$t.group;qt.layers.test(at.layers)&&Qn(qt,Ue,at,Wt,gn,dn)}}function Qn(le,Ue,at,Ze,Ve,Rt){le.onBeforeRender(M,Ue,at,Ze,Ve,Rt),le.modelViewMatrix.multiplyMatrices(at.matrixWorldInverse,le.matrixWorld),le.normalMatrix.getNormalMatrix(le.modelViewMatrix),Ve.onBeforeRender(M,Ue,at,Ze,le,Rt),Ve.transparent===!0&&Ve.side===Pc&&Ve.forceSinglePass===!1?(Ve.side=ls,Ve.needsUpdate=!0,M.renderBufferDirect(at,Ue,Ze,Ve,le,Rt),Ve.side=Zu,Ve.needsUpdate=!0,M.renderBufferDirect(at,Ue,Ze,Ve,le,Rt),Ve.side=Pc):M.renderBufferDirect(at,Ue,Ze,Ve,le,Rt),le.onAfterRender(M,Ue,at,Ze,Ve,Rt)}function un(le,Ue,at){Ue.isScene!==!0&&(Ue=yt);const Ze=st.get(le),Ve=b.state.lights,Rt=b.state.shadowsArray,$t=Ve.state.version,qt=gt.getParameters(le,Ve.state,Rt,Ue,at),Wt=gt.getProgramCacheKey(qt);let gn=Ze.programs;Ze.environment=le.isMeshStandardMaterial?Ue.environment:null,Ze.fog=Ue.fog,Ze.envMap=(le.isMeshStandardMaterial?Ee:oe).get(le.envMap||Ze.environment),Ze.envMapRotation=Ze.environment!==null&&le.envMap===null?Ue.environmentRotation:le.envMapRotation,gn===void 0&&(le.addEventListener("dispose",Qt),gn=new Map,Ze.programs=gn);let dn=gn.get(Wt);if(dn!==void 0){if(Ze.currentProgram===dn&&Ze.lightsStateVersion===$t)return ln(le,qt),dn}else qt.uniforms=gt.getUniforms(le),le.onBeforeCompile(qt,M),dn=gt.acquireProgram(qt,Wt),gn.set(Wt,dn),Ze.uniforms=qt.uniforms;const on=Ze.uniforms;return(!le.isShaderMaterial&&!le.isRawShaderMaterial||le.clipping===!0)&&(on.clippingPlanes=ot.uniform),ln(le,qt),Ze.needsLights=Rr(le),Ze.lightsStateVersion=$t,Ze.needsLights&&(on.ambientLightColor.value=Ve.state.ambient,on.lightProbe.value=Ve.state.probe,on.directionalLights.value=Ve.state.directional,on.directionalLightShadows.value=Ve.state.directionalShadow,on.spotLights.value=Ve.state.spot,on.spotLightShadows.value=Ve.state.spotShadow,on.rectAreaLights.value=Ve.state.rectArea,on.ltc_1.value=Ve.state.rectAreaLTC1,on.ltc_2.value=Ve.state.rectAreaLTC2,on.pointLights.value=Ve.state.point,on.pointLightShadows.value=Ve.state.pointShadow,on.hemisphereLights.value=Ve.state.hemi,on.directionalShadowMap.value=Ve.state.directionalShadowMap,on.directionalShadowMatrix.value=Ve.state.directionalShadowMatrix,on.spotShadowMap.value=Ve.state.spotShadowMap,on.spotLightMatrix.value=Ve.state.spotLightMatrix,on.spotLightMap.value=Ve.state.spotLightMap,on.pointShadowMap.value=Ve.state.pointShadowMap,on.pointShadowMatrix.value=Ve.state.pointShadowMatrix),Ze.currentProgram=dn,Ze.uniformsList=null,dn}function ii(le){if(le.uniformsList===null){const Ue=le.currentProgram.getUniforms();le.uniformsList=jC.seqWithValue(Ue.seq,le.uniforms)}return le.uniformsList}function ln(le,Ue){const at=st.get(le);at.outputColorSpace=Ue.outputColorSpace,at.batching=Ue.batching,at.batchingColor=Ue.batchingColor,at.instancing=Ue.instancing,at.instancingColor=Ue.instancingColor,at.instancingMorph=Ue.instancingMorph,at.skinning=Ue.skinning,at.morphTargets=Ue.morphTargets,at.morphNormals=Ue.morphNormals,at.morphColors=Ue.morphColors,at.morphTargetsCount=Ue.morphTargetsCount,at.numClippingPlanes=Ue.numClippingPlanes,at.numIntersection=Ue.numClipIntersection,at.vertexAlphas=Ue.vertexAlphas,at.vertexTangents=Ue.vertexTangents,at.toneMapping=Ue.toneMapping}function zr(le,Ue,at,Ze,Ve){Ue.isScene!==!0&&(Ue=yt),ce.resetTextureUnits();const Rt=Ue.fog,$t=Ze.isMeshStandardMaterial?Ue.environment:null,qt=F===null?M.outputColorSpace:F.isXRRenderTarget===!0?F.texture.colorSpace:Hh,Wt=(Ze.isMeshStandardMaterial?Ee:oe).get(Ze.envMap||$t),gn=Ze.vertexColors===!0&&!!at.attributes.color&&at.attributes.color.itemSize===4,dn=!!at.attributes.tangent&&(!!Ze.normalMap||Ze.anisotropy>0),on=!!at.morphAttributes.position,Gn=!!at.morphAttributes.normal,Vn=!!at.morphAttributes.color;let jn=Wu;Ze.toneMapped&&(F===null||F.isXRRenderTarget===!0)&&(jn=M.toneMapping);const In=at.morphAttributes.position||at.morphAttributes.normal||at.morphAttributes.color,bn=In!==void 0?In.length:0,cn=st.get(Ze),Si=b.state.lights;if(pe===!0&&(_e===!0||le!==z)){const $i=le===z&&Ze.id===U;ot.setState(Ze,le,$i)}let Wn=!1;Ze.version===cn.__version?(cn.needsLights&&cn.lightsStateVersion!==Si.state.version||cn.outputColorSpace!==qt||Ve.isBatchedMesh&&cn.batching===!1||!Ve.isBatchedMesh&&cn.batching===!0||Ve.isBatchedMesh&&cn.batchingColor===!0&&Ve.colorTexture===null||Ve.isBatchedMesh&&cn.batchingColor===!1&&Ve.colorTexture!==null||Ve.isInstancedMesh&&cn.instancing===!1||!Ve.isInstancedMesh&&cn.instancing===!0||Ve.isSkinnedMesh&&cn.skinning===!1||!Ve.isSkinnedMesh&&cn.skinning===!0||Ve.isInstancedMesh&&cn.instancingColor===!0&&Ve.instanceColor===null||Ve.isInstancedMesh&&cn.instancingColor===!1&&Ve.instanceColor!==null||Ve.isInstancedMesh&&cn.instancingMorph===!0&&Ve.morphTexture===null||Ve.isInstancedMesh&&cn.instancingMorph===!1&&Ve.morphTexture!==null||cn.envMap!==Wt||Ze.fog===!0&&cn.fog!==Rt||cn.numClippingPlanes!==void 0&&(cn.numClippingPlanes!==ot.numPlanes||cn.numIntersection!==ot.numIntersection)||cn.vertexAlphas!==gn||cn.vertexTangents!==dn||cn.morphTargets!==on||cn.morphNormals!==Gn||cn.morphColors!==Vn||cn.toneMapping!==jn||cn.morphTargetsCount!==bn)&&(Wn=!0):(Wn=!0,cn.__version=Ze.version);let $n=cn.currentProgram;Wn===!0&&($n=un(Ze,Ue,Ve));let Tn=!1,Cn=!1,Zn=!1;const An=$n.getUniforms(),xi=cn.uniforms;if($e.useProgram($n.program)&&(Tn=!0,Cn=!0,Zn=!0),Ze.id!==U&&(U=Ze.id,Cn=!0),Tn||z!==le){$e.buffers.depth.getReversed()?(Oe.copy(le.projectionMatrix),Ure(Oe),Fre(Oe),An.setValue(re,"projectionMatrix",Oe)):An.setValue(re,"projectionMatrix",le.projectionMatrix),An.setValue(re,"viewMatrix",le.matrixWorldInverse);const Ki=An.map.cameraPosition;Ki!==void 0&&Ki.setValue(re,Te.setFromMatrixPosition(le.matrixWorld)),qe.logarithmicDepthBuffer&&An.setValue(re,"logDepthBufFC",2/(Math.log(le.far+1)/Math.LN2)),(Ze.isMeshPhongMaterial||Ze.isMeshToonMaterial||Ze.isMeshLambertMaterial||Ze.isMeshBasicMaterial||Ze.isMeshStandardMaterial||Ze.isShaderMaterial)&&An.setValue(re,"isOrthographic",le.isOrthographicCamera===!0),z!==le&&(z=le,Cn=!0,Zn=!0)}if(Ve.isSkinnedMesh){An.setOptional(re,Ve,"bindMatrix"),An.setOptional(re,Ve,"bindMatrixInverse");const $i=Ve.skeleton;$i&&($i.boneTexture===null&&$i.computeBoneTexture(),An.setValue(re,"boneTexture",$i.boneTexture,ce))}Ve.isBatchedMesh&&(An.setOptional(re,Ve,"batchingTexture"),An.setValue(re,"batchingTexture",Ve._matricesTexture,ce),An.setOptional(re,Ve,"batchingIdTexture"),An.setValue(re,"batchingIdTexture",Ve._indirectTexture,ce),An.setOptional(re,Ve,"batchingColorTexture"),Ve._colorsTexture!==null&&An.setValue(re,"batchingColorTexture",Ve._colorsTexture,ce));const Li=at.morphAttributes;if((Li.position!==void 0||Li.normal!==void 0||Li.color!==void 0)&&We.update(Ve,at,$n),(Cn||cn.receiveShadow!==Ve.receiveShadow)&&(cn.receiveShadow=Ve.receiveShadow,An.setValue(re,"receiveShadow",Ve.receiveShadow)),Ze.isMeshGouraudMaterial&&Ze.envMap!==null&&(xi.envMap.value=Wt,xi.flipEnvMap.value=Wt.isCubeTexture&&Wt.isRenderTargetTexture===!1?-1:1),Ze.isMeshStandardMaterial&&Ze.envMap===null&&Ue.environment!==null&&(xi.envMapIntensity.value=Ue.environmentIntensity),Cn&&(An.setValue(re,"toneMappingExposure",M.toneMappingExposure),cn.needsLights&&Ur(xi,Zn),Rt&&Ze.fog===!0&&lt.refreshFogUniforms(xi,Rt),lt.refreshMaterialUniforms(xi,Ze,ee,K,b.state.transmissionRenderTarget[le.id]),jC.upload(re,ii(cn),xi,ce)),Ze.isShaderMaterial&&Ze.uniformsNeedUpdate===!0&&(jC.upload(re,ii(cn),xi,ce),Ze.uniformsNeedUpdate=!1),Ze.isSpriteMaterial&&An.setValue(re,"center",Ve.center),An.setValue(re,"modelViewMatrix",Ve.modelViewMatrix),An.setValue(re,"normalMatrix",Ve.normalMatrix),An.setValue(re,"modelMatrix",Ve.matrixWorld),Ze.isShaderMaterial||Ze.isRawShaderMaterial){const $i=Ze.uniformsGroups;for(let Ki=0,Ir=$i.length;Ki<Ir;Ki++){const Wi=$i[Ki];Ae.update(Wi,$n),Ae.bind(Wi,$n)}}return $n}function Ur(le,Ue){le.ambientLightColor.needsUpdate=Ue,le.lightProbe.needsUpdate=Ue,le.directionalLights.needsUpdate=Ue,le.directionalLightShadows.needsUpdate=Ue,le.pointLights.needsUpdate=Ue,le.pointLightShadows.needsUpdate=Ue,le.spotLights.needsUpdate=Ue,le.spotLightShadows.needsUpdate=Ue,le.rectAreaLights.needsUpdate=Ue,le.hemisphereLights.needsUpdate=Ue}function Rr(le){return le.isMeshLambertMaterial||le.isMeshToonMaterial||le.isMeshPhongMaterial||le.isMeshStandardMaterial||le.isShadowMaterial||le.isShaderMaterial&&le.lights===!0}this.getActiveCubeFace=function(){return B},this.getActiveMipmapLevel=function(){return P},this.getRenderTarget=function(){return F},this.setRenderTargetTextures=function(le,Ue,at){st.get(le.texture).__webglTexture=Ue,st.get(le.depthTexture).__webglTexture=at;const Ze=st.get(le);Ze.__hasExternalTextures=!0,Ze.__autoAllocateDepthBuffer=at===void 0,Ze.__autoAllocateDepthBuffer||Ie.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Ze.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(le,Ue){const at=st.get(le);at.__webglFramebuffer=Ue,at.__useDefaultFramebuffer=Ue===void 0};const Or=re.createFramebuffer();this.setRenderTarget=function(le,Ue=0,at=0){F=le,B=Ue,P=at;let Ze=!0,Ve=null,Rt=!1,$t=!1;if(le){const Wt=st.get(le);if(Wt.__useDefaultFramebuffer!==void 0)$e.bindFramebuffer(re.FRAMEBUFFER,null),Ze=!1;else if(Wt.__webglFramebuffer===void 0)ce.setupRenderTarget(le);else if(Wt.__hasExternalTextures)ce.rebindTextures(le,st.get(le.texture).__webglTexture,st.get(le.depthTexture).__webglTexture);else if(le.depthBuffer){const on=le.depthTexture;if(Wt.__boundDepthTexture!==on){if(on!==null&&st.has(on)&&(le.width!==on.image.width||le.height!==on.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");ce.setupDepthRenderbuffer(le)}}const gn=le.texture;(gn.isData3DTexture||gn.isDataArrayTexture||gn.isCompressedArrayTexture)&&($t=!0);const dn=st.get(le).__webglFramebuffer;le.isWebGLCubeRenderTarget?(Array.isArray(dn[Ue])?Ve=dn[Ue][at]:Ve=dn[Ue],Rt=!0):le.samples>0&&ce.useMultisampledRTT(le)===!1?Ve=st.get(le).__webglMultisampledFramebuffer:Array.isArray(dn)?Ve=dn[at]:Ve=dn,$.copy(le.viewport),J.copy(le.scissor),W=le.scissorTest}else $.copy(ie).multiplyScalar(ee).floor(),J.copy(he).multiplyScalar(ee).floor(),W=fe;if(at!==0&&(Ve=Or),$e.bindFramebuffer(re.FRAMEBUFFER,Ve)&&Ze&&$e.drawBuffers(le,Ve),$e.viewport($),$e.scissor(J),$e.setScissorTest(W),Rt){const Wt=st.get(le.texture);re.framebufferTexture2D(re.FRAMEBUFFER,re.COLOR_ATTACHMENT0,re.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,Wt.__webglTexture,at)}else if($t){const Wt=st.get(le.texture),gn=Ue;re.framebufferTextureLayer(re.FRAMEBUFFER,re.COLOR_ATTACHMENT0,Wt.__webglTexture,at,gn)}else if(le!==null&&at!==0){const Wt=st.get(le.texture);re.framebufferTexture2D(re.FRAMEBUFFER,re.COLOR_ATTACHMENT0,re.TEXTURE_2D,Wt.__webglTexture,at)}U=-1},this.readRenderTargetPixels=function(le,Ue,at,Ze,Ve,Rt,$t){if(!(le&&le.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let qt=st.get(le).__webglFramebuffer;if(le.isWebGLCubeRenderTarget&&$t!==void 0&&(qt=qt[$t]),qt){$e.bindFramebuffer(re.FRAMEBUFFER,qt);try{const Wt=le.texture,gn=Wt.format,dn=Wt.type;if(!qe.textureFormatReadable(gn)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!qe.textureTypeReadable(dn)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Ue>=0&&Ue<=le.width-Ze&&at>=0&&at<=le.height-Ve&&re.readPixels(Ue,at,Ze,Ve,Ge.convert(gn),Ge.convert(dn),Rt)}finally{const Wt=F!==null?st.get(F).__webglFramebuffer:null;$e.bindFramebuffer(re.FRAMEBUFFER,Wt)}}},this.readRenderTargetPixelsAsync=async function(le,Ue,at,Ze,Ve,Rt,$t){if(!(le&&le.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let qt=st.get(le).__webglFramebuffer;if(le.isWebGLCubeRenderTarget&&$t!==void 0&&(qt=qt[$t]),qt){const Wt=le.texture,gn=Wt.format,dn=Wt.type;if(!qe.textureFormatReadable(gn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!qe.textureTypeReadable(dn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(Ue>=0&&Ue<=le.width-Ze&&at>=0&&at<=le.height-Ve){$e.bindFramebuffer(re.FRAMEBUFFER,qt);const on=re.createBuffer();re.bindBuffer(re.PIXEL_PACK_BUFFER,on),re.bufferData(re.PIXEL_PACK_BUFFER,Rt.byteLength,re.STREAM_READ),re.readPixels(Ue,at,Ze,Ve,Ge.convert(gn),Ge.convert(dn),0);const Gn=F!==null?st.get(F).__webglFramebuffer:null;$e.bindFramebuffer(re.FRAMEBUFFER,Gn);const Vn=re.fenceSync(re.SYNC_GPU_COMMANDS_COMPLETE,0);return re.flush(),await zre(re,Vn,4),re.bindBuffer(re.PIXEL_PACK_BUFFER,on),re.getBufferSubData(re.PIXEL_PACK_BUFFER,0,Rt),re.deleteBuffer(on),re.deleteSync(Vn),Rt}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(le,Ue=null,at=0){le.isTexture!==!0&&(kp("WebGLRenderer: copyFramebufferToTexture function signature has changed."),Ue=arguments[0]||null,le=arguments[1]);const Ze=Math.pow(2,-at),Ve=Math.floor(le.image.width*Ze),Rt=Math.floor(le.image.height*Ze),$t=Ue!==null?Ue.x:0,qt=Ue!==null?Ue.y:0;ce.setTexture2D(le,0),re.copyTexSubImage2D(re.TEXTURE_2D,at,0,0,$t,qt,Ve,Rt),$e.unbindTexture()};const cr=re.createFramebuffer(),_r=re.createFramebuffer();this.copyTextureToTexture=function(le,Ue,at=null,Ze=null,Ve=0,Rt=null){le.isTexture!==!0&&(kp("WebGLRenderer: copyTextureToTexture function signature has changed."),Ze=arguments[0]||null,le=arguments[1],Ue=arguments[2],Rt=arguments[3]||0,at=null),Rt===null&&(Ve!==0?(kp("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Rt=Ve,Ve=0):Rt=0);let $t,qt,Wt,gn,dn,on,Gn,Vn,jn;const In=le.isCompressedTexture?le.mipmaps[Rt]:le.image;if(at!==null)$t=at.max.x-at.min.x,qt=at.max.y-at.min.y,Wt=at.isBox3?at.max.z-at.min.z:1,gn=at.min.x,dn=at.min.y,on=at.isBox3?at.min.z:0;else{const Li=Math.pow(2,-Ve);$t=Math.floor(In.width*Li),qt=Math.floor(In.height*Li),le.isDataArrayTexture?Wt=In.depth:le.isData3DTexture?Wt=Math.floor(In.depth*Li):Wt=1,gn=0,dn=0,on=0}Ze!==null?(Gn=Ze.x,Vn=Ze.y,jn=Ze.z):(Gn=0,Vn=0,jn=0);const bn=Ge.convert(Ue.format),cn=Ge.convert(Ue.type);let Si;Ue.isData3DTexture?(ce.setTexture3D(Ue,0),Si=re.TEXTURE_3D):Ue.isDataArrayTexture||Ue.isCompressedArrayTexture?(ce.setTexture2DArray(Ue,0),Si=re.TEXTURE_2D_ARRAY):(ce.setTexture2D(Ue,0),Si=re.TEXTURE_2D),re.pixelStorei(re.UNPACK_FLIP_Y_WEBGL,Ue.flipY),re.pixelStorei(re.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ue.premultiplyAlpha),re.pixelStorei(re.UNPACK_ALIGNMENT,Ue.unpackAlignment);const Wn=re.getParameter(re.UNPACK_ROW_LENGTH),$n=re.getParameter(re.UNPACK_IMAGE_HEIGHT),Tn=re.getParameter(re.UNPACK_SKIP_PIXELS),Cn=re.getParameter(re.UNPACK_SKIP_ROWS),Zn=re.getParameter(re.UNPACK_SKIP_IMAGES);re.pixelStorei(re.UNPACK_ROW_LENGTH,In.width),re.pixelStorei(re.UNPACK_IMAGE_HEIGHT,In.height),re.pixelStorei(re.UNPACK_SKIP_PIXELS,gn),re.pixelStorei(re.UNPACK_SKIP_ROWS,dn),re.pixelStorei(re.UNPACK_SKIP_IMAGES,on);const An=le.isDataArrayTexture||le.isData3DTexture,xi=Ue.isDataArrayTexture||Ue.isData3DTexture;if(le.isDepthTexture){const Li=st.get(le),$i=st.get(Ue),Ki=st.get(Li.__renderTarget),Ir=st.get($i.__renderTarget);$e.bindFramebuffer(re.READ_FRAMEBUFFER,Ki.__webglFramebuffer),$e.bindFramebuffer(re.DRAW_FRAMEBUFFER,Ir.__webglFramebuffer);for(let Wi=0;Wi<Wt;Wi++)An&&(re.framebufferTextureLayer(re.READ_FRAMEBUFFER,re.COLOR_ATTACHMENT0,st.get(le).__webglTexture,Ve,on+Wi),re.framebufferTextureLayer(re.DRAW_FRAMEBUFFER,re.COLOR_ATTACHMENT0,st.get(Ue).__webglTexture,Rt,jn+Wi)),re.blitFramebuffer(gn,dn,$t,qt,Gn,Vn,$t,qt,re.DEPTH_BUFFER_BIT,re.NEAREST);$e.bindFramebuffer(re.READ_FRAMEBUFFER,null),$e.bindFramebuffer(re.DRAW_FRAMEBUFFER,null)}else if(Ve!==0||le.isRenderTargetTexture||st.has(le)){const Li=st.get(le),$i=st.get(Ue);$e.bindFramebuffer(re.READ_FRAMEBUFFER,cr),$e.bindFramebuffer(re.DRAW_FRAMEBUFFER,_r);for(let Ki=0;Ki<Wt;Ki++)An?re.framebufferTextureLayer(re.READ_FRAMEBUFFER,re.COLOR_ATTACHMENT0,Li.__webglTexture,Ve,on+Ki):re.framebufferTexture2D(re.READ_FRAMEBUFFER,re.COLOR_ATTACHMENT0,re.TEXTURE_2D,Li.__webglTexture,Ve),xi?re.framebufferTextureLayer(re.DRAW_FRAMEBUFFER,re.COLOR_ATTACHMENT0,$i.__webglTexture,Rt,jn+Ki):re.framebufferTexture2D(re.DRAW_FRAMEBUFFER,re.COLOR_ATTACHMENT0,re.TEXTURE_2D,$i.__webglTexture,Rt),Ve!==0?re.blitFramebuffer(gn,dn,$t,qt,Gn,Vn,$t,qt,re.COLOR_BUFFER_BIT,re.NEAREST):xi?re.copyTexSubImage3D(Si,Rt,Gn,Vn,jn+Ki,gn,dn,$t,qt):re.copyTexSubImage2D(Si,Rt,Gn,Vn,gn,dn,$t,qt);$e.bindFramebuffer(re.READ_FRAMEBUFFER,null),$e.bindFramebuffer(re.DRAW_FRAMEBUFFER,null)}else xi?le.isDataTexture||le.isData3DTexture?re.texSubImage3D(Si,Rt,Gn,Vn,jn,$t,qt,Wt,bn,cn,In.data):Ue.isCompressedArrayTexture?re.compressedTexSubImage3D(Si,Rt,Gn,Vn,jn,$t,qt,Wt,bn,In.data):re.texSubImage3D(Si,Rt,Gn,Vn,jn,$t,qt,Wt,bn,cn,In):le.isDataTexture?re.texSubImage2D(re.TEXTURE_2D,Rt,Gn,Vn,$t,qt,bn,cn,In.data):le.isCompressedTexture?re.compressedTexSubImage2D(re.TEXTURE_2D,Rt,Gn,Vn,In.width,In.height,bn,In.data):re.texSubImage2D(re.TEXTURE_2D,Rt,Gn,Vn,$t,qt,bn,cn,In);re.pixelStorei(re.UNPACK_ROW_LENGTH,Wn),re.pixelStorei(re.UNPACK_IMAGE_HEIGHT,$n),re.pixelStorei(re.UNPACK_SKIP_PIXELS,Tn),re.pixelStorei(re.UNPACK_SKIP_ROWS,Cn),re.pixelStorei(re.UNPACK_SKIP_IMAGES,Zn),Rt===0&&Ue.generateMipmaps&&re.generateMipmap(Si),$e.unbindTexture()},this.copyTextureToTexture3D=function(le,Ue,at=null,Ze=null,Ve=0){return le.isTexture!==!0&&(kp("WebGLRenderer: copyTextureToTexture3D function signature has changed."),at=arguments[0]||null,Ze=arguments[1]||null,le=arguments[2],Ue=arguments[3],Ve=arguments[4]||0),kp('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(le,Ue,at,Ze,Ve)},this.initRenderTarget=function(le){st.get(le).__webglFramebuffer===void 0&&ce.setupRenderTarget(le)},this.initTexture=function(le){le.isCubeTexture?ce.setTextureCube(le,0):le.isData3DTexture?ce.setTexture3D(le,0):le.isDataArrayTexture||le.isCompressedArrayTexture?ce.setTexture2DArray(le,0):ce.setTexture2D(le,0),$e.unbindTexture()},this.resetState=function(){B=0,P=0,F=null,$e.reset(),St.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Lc}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorspace=Ii._getDrawingBufferColorSpace(e),t.unpackColorSpace=Ii._getUnpackColorSpace()}}const Xde=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:lI,AddEquation:xh,AddOperation:v8,AdditiveAnimationBlendMode:yI,AdditiveBlending:w2,AgXToneMapping:x8,AlphaFormat:fI,AlwaysCompare:U8,AlwaysDepth:Q1,AlwaysStencilFunc:R2,AmbientLight:w6,AnimationAction:L6,AnimationClip:y0,AnimationLoader:coe,AnimationMixer:Noe,AnimationObjectGroup:Poe,AnimationUtils:aoe,ArcCurve:Z8,ArrayCamera:B6,ArrowHelper:rse,AttachedBindMode:T2,Audio:D6,AudioAnalyser:Eoe,AudioContext:XI,AudioListener:_oe,AudioLoader:yoe,AxesHelper:ase,BackSide:ls,BasicDepthPacking:R8,BasicShadowMap:JH,BatchedMesh:J8,Bone:Jw,BooleanKeyframeTrack:$m,Box2:Voe,Box3:go,Box3Helper:nse,BoxGeometry:km,BoxHelper:tse,BufferAttribute:ki,BufferGeometry:ni,BufferGeometryLoader:O6,ByteType:cI,Cache:rf,Camera:Yw,CameraHelper:ese,CanvasTexture:Rae,CapsuleGeometry:tA,CatmullRomCurve3:e6,CineonToneMapping:S8,CircleGeometry:nA,ClampToEdgeWrapping:el,Clock:YI,Color:en,ColorKeyframeTrack:GI,ColorManagement:Ii,CompressedArrayTexture:Mae,CompressedCubeTexture:Tae,CompressedTexture:Zw,CompressedTextureLoader:uoe,ConeGeometry:iA,ConstantAlphaFactor:p8,ConstantColorFactor:f8,Controls:sse,CubeCamera:W8,CubeReflectionMapping:mf,CubeRefractionMapping:Uh,CubeTexture:FS,CubeTextureLoader:doe,CubeUVReflectionMapping:B0,CubicBezierCurve:BI,CubicBezierCurve3:t6,CubicInterpolant:b6,CullFaceBack:E2,CullFaceFront:KH,CullFaceFrontBack:kie,CullFaceNone:qH,Curve:jc,CurvePath:i6,CustomBlending:QH,CustomToneMapping:_8,CylinderGeometry:P0,Cylindrical:$oe,Data3DTexture:Xw,DataArrayTexture:US,DataTexture:Xu,DataTextureLoader:foe,DataUtils:eae,DecrementStencilOp:Zie,DecrementWrapStencilOp:tre,DefaultLoadingManager:x6,DepthFormat:Sm,DepthStencilFormat:Am,DepthTexture:OI,DetachedBindMode:E8,DirectionalLight:WI,DirectionalLightHelper:Zoe,DiscreteInterpolant:S6,DodecahedronGeometry:rA,DoubleSide:Pc,DstAlphaFactor:s8,DstColorFactor:c8,DynamicCopyUsage:gre,DynamicDrawUsage:ure,DynamicReadUsage:hre,EdgesGeometry:r6,EllipseCurve:eA,EqualCompare:P8,EqualDepth:eE,EqualStencilFunc:are,EquirectangularReflectionMapping:iS,EquirectangularRefractionMapping:rS,Euler:rl,EventDispatcher:ad,ExtrudeGeometry:oA,FileLoader:al,Float16BufferAttribute:sae,Float32BufferAttribute:vn,FloatType:Rs,Fog:Kw,FogExp2:qw,FramebufferTexture:Aae,FrontSide:Zu,Frustum:kS,GLBufferAttribute:koe,GLSL1:yre,GLSL3:O2,GreaterCompare:L8,GreaterDepth:nE,GreaterEqualCompare:z8,GreaterEqualDepth:tE,GreaterEqualStencilFunc:cre,GreaterStencilFunc:sre,GridHelper:Joe,Group:nf,HalfFloatType:D0,HemisphereLight:E6,HemisphereLightHelper:Koe,IcosahedronGeometry:sA,ImageBitmapLoader:I6,ImageLoader:pS,ImageUtils:k8,IncrementStencilOp:Qie,IncrementWrapStencilOp:ere,InstancedBufferAttribute:Mm,InstancedBufferGeometry:R6,InstancedInterleavedBuffer:Goe,InstancedMesh:MI,Int16BufferAttribute:aae,Int32BufferAttribute:oae,Int8BufferAttribute:nae,IntType:Fw,InterleavedBuffer:HS,InterleavedBufferAttribute:Gh,Interpolant:N0,InterpolateDiscrete:h0,InterpolateLinear:p0,InterpolateSmooth:$C,InvertStencilOp:nre,KeepStencilOp:Gp,KeyframeTrack:Wc,LOD:K8,LatheGeometry:$S,Layers:g0,LessCompare:D8,LessDepth:Z1,LessEqualCompare:SI,LessEqualDepth:Em,LessEqualStencilFunc:ore,LessStencilFunc:rre,Light:jh,LightProbe:T6,Line:vf,Line3:joe,LineBasicMaterial:Ho,LineCurve:DI,LineCurve3:n6,LineDashedMaterial:g6,LineLoop:TI,LineSegments:Vc,LinearFilter:ma,LinearInterpolant:HI,LinearMipMapLinearFilter:Wie,LinearMipMapNearestFilter:jie,LinearMipmapLinearFilter:Fl,LinearMipmapNearestFilter:qv,LinearSRGBColorSpace:Hh,LinearToneMapping:y8,LinearTransfer:oS,Loader:Go,LoaderUtils:Dh,LoadingManager:kI,LoopOnce:w8,LoopPingPong:M8,LoopRepeat:A8,LuminanceAlphaFormat:mI,LuminanceFormat:pI,MOUSE:Fp,Material:Pa,MaterialLoader:pA,MathUtils:F8,Matrix2:QI,Matrix3:ti,Matrix4:Pn,MaxEquation:n8,Mesh:ga,MeshBasicMaterial:tl,MeshDepthMaterial:zI,MeshDistanceMaterial:UI,MeshLambertMaterial:p6,MeshMatcapMaterial:m6,MeshNormalMaterial:h6,MeshPhongMaterial:d6,MeshPhysicalMaterial:kl,MeshStandardMaterial:WS,MeshToonMaterial:f6,MinEquation:t8,MirroredRepeatWrapping:d0,MixOperation:g8,MultiplyBlending:M2,MultiplyOperation:NS,NearestFilter:Za,NearestMipMapLinearFilter:Vie,NearestMipMapNearestFilter:$ie,NearestMipmapLinearFilter:dm,NearestMipmapNearestFilter:Uw,NeutralToneMapping:C8,NeverCompare:B8,NeverDepth:J1,NeverStencilFunc:ire,NoBlending:lf,NoColorSpace:ef,NoToneMapping:Wu,NormalAnimationBlendMode:jw,NormalBlending:bm,NotEqualCompare:N8,NotEqualDepth:iE,NotEqualStencilFunc:lre,NumberKeyframeTrack:Rm,Object3D:Di,ObjectLoader:goe,ObjectSpaceNormalMap:I8,OctahedronGeometry:VS,OneFactor:r8,OneMinusConstantAlphaFactor:m8,OneMinusConstantColorFactor:h8,OneMinusDstAlphaFactor:l8,OneMinusDstColorFactor:u8,OneMinusSrcAlphaFactor:K1,OneMinusSrcColorFactor:o8,OrthographicCamera:uf,PCFShadowMap:Nw,PCFSoftShadowMap:Rb,PMREMGenerator:U2,Path:uS,PerspectiveCamera:Xr,Plane:Qd,PlaneGeometry:L0,PlaneHelper:ise,PointLight:jI,PointLightHelper:Yoe,Points:RI,PointsMaterial:Qw,PolarGridHelper:Qoe,PolyhedronGeometry:Vh,PositionalAudio:Coe,PropertyBinding:Fi,PropertyMixer:P6,QuadraticBezierCurve:PI,QuadraticBezierCurve3:LI,Quaternion:eo,QuaternionKeyframeTrack:Om,QuaternionLinearInterpolant:_6,RED_GREEN_RGTC2_Format:TE,RED_RGTC1_Format:vI,REVISION:LS,RGBADepthPacking:O8,RGBAFormat:No,RGBAIntegerFormat:Vw,RGBA_ASTC_10x10_Format:xE,RGBA_ASTC_10x5_Format:bE,RGBA_ASTC_10x6_Format:SE,RGBA_ASTC_10x8_Format:_E,RGBA_ASTC_12x10_Format:CE,RGBA_ASTC_12x12_Format:EE,RGBA_ASTC_4x4_Format:dE,RGBA_ASTC_5x4_Format:fE,RGBA_ASTC_5x5_Format:hE,RGBA_ASTC_6x5_Format:pE,RGBA_ASTC_6x6_Format:mE,RGBA_ASTC_8x5_Format:gE,RGBA_ASTC_8x6_Format:vE,RGBA_ASTC_8x8_Format:yE,RGBA_BPTC_Format:Pb,RGBA_ETC2_EAC_Format:uE,RGBA_PVRTC_2BPPV1_Format:sE,RGBA_PVRTC_4BPPV1_Format:oE,RGBA_S3TC_DXT1_Format:Ib,RGBA_S3TC_DXT3_Format:Bb,RGBA_S3TC_DXT5_Format:Db,RGBDepthPacking:Yie,RGBFormat:hI,RGBIntegerFormat:Xie,RGB_BPTC_SIGNED_Format:wE,RGB_BPTC_UNSIGNED_Format:AE,RGB_ETC1_Format:lE,RGB_ETC2_Format:cE,RGB_PVRTC_2BPPV1_Format:aE,RGB_PVRTC_4BPPV1_Format:rE,RGB_S3TC_DXT1_Format:Ob,RGDepthPacking:qie,RGFormat:gI,RGIntegerFormat:$w,RawShaderMaterial:u6,Ray:Gm,Raycaster:N6,RectAreaLight:A6,RedFormat:kw,RedIntegerFormat:zS,ReinhardToneMapping:b8,RenderTarget:Ww,RenderTarget3D:zoe,RenderTargetArray:Uoe,RepeatWrapping:Fh,ReplaceStencilOp:Jie,ReverseSubtractEquation:e8,RingGeometry:lA,SIGNED_RED_GREEN_RGTC2_Format:RE,SIGNED_RED_RGTC1_Format:ME,SRGBColorSpace:Po,SRGBTransfer:sr,Scene:EI,ShaderChunk:ui,ShaderLib:Ic,ShaderMaterial:Gc,ShadowMaterial:c6,Shape:xm,ShapeGeometry:cA,ShapePath:ose,ShapeUtils:Yu,ShortType:uI,Skeleton:GS,SkeletonHelper:Xoe,SkinnedMesh:AI,Source:Rh,Sphere:vo,SphereGeometry:jS,Spherical:N2,SphericalHarmonics3:M6,SplineCurve:NI,SpotLight:VI,SpotLightHelper:Woe,Sprite:q8,SpriteMaterial:wI,SrcAlphaFactor:q1,SrcAlphaSaturateFactor:d8,SrcColorFactor:a8,StaticCopyUsage:mre,StaticDrawUsage:sS,StaticReadUsage:fre,StereoCamera:boe,StreamCopyUsage:vre,StreamDrawUsage:dre,StreamReadUsage:pre,StringKeyframeTrack:Vm,SubtractEquation:ZH,SubtractiveBlending:A2,TOUCH:Hp,TangentSpaceNormalMap:$h,TetrahedronGeometry:uA,Texture:Lr,TextureLoader:C6,TextureUtils:fse,TimestampQuery:bre,TorusGeometry:dA,TorusKnotGeometry:fA,Triangle:Ts,TriangleFanDrawMode:OE,TriangleStripDrawMode:bI,TrianglesDrawMode:T8,TubeGeometry:hA,UVMapping:zw,Uint16BufferAttribute:xI,Uint32BufferAttribute:CI,Uint8BufferAttribute:iae,Uint8ClampedBufferAttribute:rae,Uniform:JI,UniformsGroup:Hoe,UniformsLib:rn,UniformsUtils:j8,UnsignedByteType:Hc,UnsignedInt248Type:wm,UnsignedInt5999Type:dI,UnsignedIntType:gf,UnsignedShort4444Type:Hw,UnsignedShort5551Type:Gw,UnsignedShortType:f0,VSMShadowMap:Mc,Vector2:Tt,Vector3:be,Vector4:Gi,VectorKeyframeTrack:Im,VideoFrameTexture:wae,VideoTexture:Q8,WebGL3DRenderTarget:Vre,WebGLArrayRenderTarget:$re,WebGLCoordinateSystem:Lc,WebGLCubeRenderTarget:X8,WebGLRenderTarget:ed,WebGLRenderer:V6,WebGLUtils:$6,WebGPUCoordinateSystem:lS,WebXRController:VC,WireframeGeometry:l6,WrapAroundEnding:aS,ZeroCurvatureEnding:fm,ZeroFactor:i8,ZeroSlopeEnding:hm,ZeroStencilOp:Kie,createCanvasElement:G8},Symbol.toStringTag,{value:"Module"}));var LT={exports:{}},Hd={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bN;function Yde(){return bN||(bN=1,Hd.ConcurrentRoot=1,Hd.ContinuousEventPriority=8,Hd.DefaultEventPriority=32,Hd.DiscreteEventPriority=2,Hd.IdleEventPriority=268435456,Hd.LegacyRoot=0,Hd.NoEventPriority=0),Hd}var SN;function qde(){return SN||(SN=1,LT.exports=Yde()),LT.exports}var WC=qde(),NT={exports:{}},zT={},UT={exports:{}},FT={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _N;function Kde(){if(_N)return FT;_N=1;var n=C0();function e(y,_){return y===_&&(y!==0||1/y===1/_)||y!==y&&_!==_}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,a=n.useEffect,o=n.useLayoutEffect,l=n.useDebugValue;function s(y,_){var E=_(),c=r({inst:{value:E,getSnapshot:_}}),p=c[0].inst,g=c[1];return o(function(){p.value=E,p.getSnapshot=_,u(p)&&g({inst:p})},[y,E,_]),a(function(){return u(p)&&g({inst:p}),y(function(){u(p)&&g({inst:p})})},[y]),l(E),E}function u(y){var _=y.getSnapshot;y=y.value;try{var E=_();return!t(y,E)}catch{return!0}}function f(y,_){return _()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:s;return FT.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:m,FT}var xN;function Jde(){return xN||(xN=1,UT.exports=Kde()),UT.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CN;function Qde(){if(CN)return zT;CN=1;var n=C0(),e=Jde();function t(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:t,a=e.useSyncExternalStore,o=n.useRef,l=n.useEffect,s=n.useMemo,u=n.useDebugValue;return zT.useSyncExternalStoreWithSelector=function(f,m,y,_,E){var c=o(null);if(c.current===null){var p={hasValue:!1,value:null};c.current=p}else p=c.current;c=s(function(){function b(B){if(!C){if(C=!0,T=B,B=_(B),E!==void 0&&p.hasValue){var P=p.value;if(E(P,B))return M=P}return M=B}if(P=M,r(T,B))return P;var F=_(B);return E!==void 0&&E(P,F)?(T=B,P):(T=B,M=F)}var C=!1,T,M,O=y===void 0?null:y;return[function(){return b(m())},O===null?void 0:function(){return b(O())}]},[m,y,_,E]);var g=a(f,c[0],c[1]);return l(function(){p.hasValue=!0,p.value=g},[g]),u(g),g},zT}var EN;function Zde(){return EN||(EN=1,NT.exports=Qde()),NT.exports}var efe=Zde();const tfe=Lm(efe),wN=n=>{let e;const t=new Set,r=(f,m)=>{const y=typeof f=="function"?f(e):f;if(!Object.is(y,e)){const _=e;e=m??(typeof y!="object"||y===null)?y:Object.assign({},e,y),t.forEach(E=>E(e,_))}},a=()=>e,s={setState:r,getState:a,getInitialState:()=>u,subscribe:f=>(t.add(f),()=>t.delete(f))},u=e=n(r,a,s);return s},nfe=n=>n?wN(n):wN,{useSyncExternalStoreWithSelector:ife}=tfe,rfe=n=>n;function afe(n,e=rfe,t){const r=ife(n.subscribe,n.getState,n.getInitialState,e,t);return Xe.useDebugValue(r),r}const AN=(n,e)=>{const t=nfe(n),r=(a,o=e)=>afe(t,a,o);return Object.assign(r,t),r},ofe=(n,e)=>n?AN(n,e):AN;var HT={exports:{}},GT={exports:{}};/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MN;function sfe(){return MN||(MN=1,function(n){n.exports=function(e){function t(v,S,R,N){return new r_(v,S,R,N)}function r(){}function a(v){var S="https://react.dev/errors/"+v;if(1<arguments.length){S+="?args[]="+encodeURIComponent(arguments[1]);for(var R=2;R<arguments.length;R++)S+="&args[]="+encodeURIComponent(arguments[R])}return"Minified React error #"+v+"; visit "+S+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(v){return v===null||typeof v!="object"?null:(v=Xi&&v[Xi]||v["@@iterator"],typeof v=="function"?v:null)}function l(v){if(v==null)return null;if(typeof v=="function")return v.$$typeof===ea?null:v.displayName||v.name||null;if(typeof v=="string")return v;switch(v){case uu:return"Fragment";case yl:return"Portal";case du:return"Profiler";case yd:return"StrictMode";case oc:return"Suspense";case up:return"SuspenseList"}if(typeof v=="object")switch(v.$$typeof){case fu:return(v.displayName||"Context")+".Provider";case W0:return(v._context.displayName||"Context")+".Consumer";case sg:var S=v.render;return v=v.displayName,v||(v=S.displayName||S.name||"",v=v!==""?"ForwardRef("+v+")":"ForwardRef"),v;case Lf:return S=v.displayName||null,S!==null?S:l(v.type)||"Memo";case sc:S=v._payload,v=v._init;try{return l(v(S))}catch{}}return null}function s(v){if(hu===void 0)try{throw Error()}catch(R){var S=R.stack.trim().match(/\n( *(at )?)/);hu=S&&S[1]||"",pu=-1<R.stack.indexOf(`
    at`)?" (<anonymous>)":-1<R.stack.indexOf("@")?"@unknown:0:0":""}return`
`+hu+v+pu}function u(v,S){if(!v||Nf)return"";Nf=!0;var R=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var N={DetermineComponentFrameRoot:function(){try{if(S){var nn=function(){throw Error()};if(Object.defineProperty(nn.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nn,[])}catch(qn){var Ht=qn}Reflect.construct(v,[],nn)}else{try{nn.call()}catch(qn){Ht=qn}v.call(nn.prototype)}}else{try{throw Error()}catch(qn){Ht=qn}(nn=v())&&typeof nn.catch=="function"&&nn.catch(function(){})}}catch(qn){if(qn&&Ht&&typeof qn.stack=="string")return[qn.stack,Ht.stack]}return[null,null]}};N.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var k=Object.getOwnPropertyDescriptor(N.DetermineComponentFrameRoot,"name");k&&k.configurable&&Object.defineProperty(N.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var j=N.DetermineComponentFrameRoot(),ve=j[0],Le=j[1];if(ve&&Le){var it=ve.split(`
`),wt=Le.split(`
`);for(k=N=0;N<it.length&&!it[N].includes("DetermineComponentFrameRoot");)N++;for(;k<wt.length&&!wt[k].includes("DetermineComponentFrameRoot");)k++;if(N===it.length||k===wt.length)for(N=it.length-1,k=wt.length-1;1<=N&&0<=k&&it[N]!==wt[k];)k--;for(;1<=N&&0<=k;N--,k--)if(it[N]!==wt[k]){if(N!==1||k!==1)do if(N--,k--,0>k||it[N]!==wt[k]){var Vt=`
`+it[N].replace(" at new "," at ");return v.displayName&&Vt.includes("<anonymous>")&&(Vt=Vt.replace("<anonymous>",v.displayName)),Vt}while(1<=N&&0<=k);break}}}finally{Nf=!1,Error.prepareStackTrace=R}return(R=v?v.displayName||v.name:"")?s(R):""}function f(v){switch(v.tag){case 26:case 27:case 5:return s(v.type);case 16:return s("Lazy");case 13:return s("Suspense");case 19:return s("SuspenseList");case 0:case 15:return v=u(v.type,!1),v;case 11:return v=u(v.type.render,!1),v;case 1:return v=u(v.type,!0),v;default:return""}}function m(v){try{var S="";do S+=f(v),v=v.return;while(v);return S}catch(R){return`
Error generating stack: `+R.message+`
`+R.stack}}function y(v){var S=v,R=v;if(v.alternate)for(;S.return;)S=S.return;else{v=S;do S=v,(S.flags&4098)!==0&&(R=S.return),v=S.return;while(v)}return S.tag===3?R:null}function _(v){if(y(v)!==v)throw Error(a(188))}function E(v){var S=v.alternate;if(!S){if(S=y(v),S===null)throw Error(a(188));return S!==v?null:v}for(var R=v,N=S;;){var k=R.return;if(k===null)break;var j=k.alternate;if(j===null){if(N=k.return,N!==null){R=N;continue}break}if(k.child===j.child){for(j=k.child;j;){if(j===R)return _(k),v;if(j===N)return _(k),S;j=j.sibling}throw Error(a(188))}if(R.return!==N.return)R=k,N=j;else{for(var ve=!1,Le=k.child;Le;){if(Le===R){ve=!0,R=k,N=j;break}if(Le===N){ve=!0,N=k,R=j;break}Le=Le.sibling}if(!ve){for(Le=j.child;Le;){if(Le===R){ve=!0,R=j,N=k;break}if(Le===N){ve=!0,N=j,R=k;break}Le=Le.sibling}if(!ve)throw Error(a(189))}}if(R.alternate!==N)throw Error(a(190))}if(R.tag!==3)throw Error(a(188));return R.stateNode.current===R?v:S}function c(v){var S=v.tag;if(S===5||S===26||S===27||S===6)return v;for(v=v.child;v!==null;){if(S=c(v),S!==null)return S;v=v.sibling}return null}function p(v){var S=v.tag;if(S===5||S===26||S===27||S===6)return v;for(v=v.child;v!==null;){if(v.tag!==4&&(S=p(v),S!==null))return S;v=v.sibling}return null}function g(v){return{current:v}}function b(v){0>yu||(v.current=Sg[yu],Sg[yu]=null,yu--)}function C(v,S){yu++,Sg[yu]=v.current,v.current=S}function T(v){return v>>>=0,v===0?32:31-(gy(v)/OA|0)|0}function M(v){var S=v&42;if(S!==0)return S;switch(v&-v){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return v&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return v&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return v}}function O(v,S){var R=v.pendingLanes;if(R===0)return 0;var N=0,k=v.suspendedLanes,j=v.pingedLanes,ve=v.warmLanes;v=v.finishedLanes!==0;var Le=R&134217727;return Le!==0?(R=Le&~k,R!==0?N=M(R):(j&=Le,j!==0?N=M(j):v||(ve=Le&~ve,ve!==0&&(N=M(ve))))):(Le=R&~k,Le!==0?N=M(Le):j!==0?N=M(j):v||(ve=R&~ve,ve!==0&&(N=M(ve)))),N===0?0:S!==0&&S!==N&&(S&k)===0&&(k=N&-N,ve=S&-S,k>=ve||k===32&&(ve&4194176)!==0)?S:N}function B(v,S){return(v.pendingLanes&~(v.suspendedLanes&~v.pingedLanes)&S)===0}function P(v,S){switch(v){case 1:case 2:case 4:case 8:return S+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return S+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function F(){var v=pp;return pp<<=1,(pp&4194176)===0&&(pp=128),v}function U(){var v=Gf;return Gf<<=1,(Gf&62914560)===0&&(Gf=4194304),v}function z(v){for(var S=[],R=0;31>R;R++)S.push(v);return S}function $(v,S){v.pendingLanes|=S,S!==268435456&&(v.suspendedLanes=0,v.pingedLanes=0,v.warmLanes=0)}function J(v,S,R,N,k,j){var ve=v.pendingLanes;v.pendingLanes=R,v.suspendedLanes=0,v.pingedLanes=0,v.warmLanes=0,v.expiredLanes&=R,v.entangledLanes&=R,v.errorRecoveryDisabledLanes&=R,v.shellSuspendCounter=0;var Le=v.entanglements,it=v.expirationTimes,wt=v.hiddenUpdates;for(R=ve&~R;0<R;){var Vt=31-Gr(R),nn=1<<Vt;Le[Vt]=0,it[Vt]=-1;var Ht=wt[Vt];if(Ht!==null)for(wt[Vt]=null,Vt=0;Vt<Ht.length;Vt++){var qn=Ht[Vt];qn!==null&&(qn.lane&=-536870913)}R&=~nn}N!==0&&W(v,N,0),j!==0&&k===0&&v.tag!==0&&(v.suspendedLanes|=j&~(ve&~S))}function W(v,S,R){v.pendingLanes|=S,v.suspendedLanes&=~S;var N=31-Gr(S);v.entangledLanes|=S,v.entanglements[N]=v.entanglements[N]|1073741824|R&4194218}function Q(v,S){var R=v.entangledLanes|=S;for(v=v.entanglements;R;){var N=31-Gr(R),k=1<<N;k&S|v[N]&S&&(v[N]|=S),R&=~k}}function ae(v){return v&=-v,2<v?8<v?(v&134217727)!==0?32:268435456:8:2}function Y(v){if(ta&&typeof ta.onCommitFiberRoot=="function")try{ta.onCommitFiberRoot($f,v,void 0,(v.current.flags&128)===128)}catch{}}function K(v){if(typeof $a=="function"&&xg(v),ta&&typeof ta.setStrictMode=="function")try{ta.setStrictMode($f,v)}catch{}}function ee(v,S){return v===S&&(v!==0||1/v===1/S)||v!==v&&S!==S}function de(v,S){if(typeof v=="object"&&v!==null){var R=Cg.get(v);return R!==void 0?R:(S={value:v,source:S,stack:m(S)},Cg.set(v,S),S)}return{value:v,source:S,stack:m(S)}}function q(v,S){Jo[Qo++]=Vf,Jo[Qo++]=Su,Su=v,Vf=S}function ie(v,S,R){Ao[Va++]=xl,Ao[Va++]=Cl,Ao[Va++]=Us,Us=v;var N=xl;v=Cl;var k=32-Gr(N)-1;N&=~(1<<k),R+=1;var j=32-Gr(S)+k;if(30<j){var ve=k-k%5;j=(N&(1<<ve)-1).toString(32),N>>=ve,k-=ve,xl=1<<32-Gr(S)+k|R<<k|N,Cl=j+v}else xl=1<<j|R<<k|N,Cl=v}function he(v){v.return!==null&&(q(v,1),ie(v,1,0))}function fe(v){for(;v===Su;)Su=Jo[--Qo],Jo[Qo]=null,Vf=Jo[--Qo],Jo[Qo]=null;for(;v===Us;)Us=Ao[--Va],Ao[Va]=null,Cl=Ao[--Va],Ao[Va]=null,xl=Ao[--Va],Ao[Va]=null}function Z(v,S){C(fc,S),C(ps,v),C(kr,null),v=X0(S),b(kr),C(kr,v)}function pe(){b(kr),b(ps),b(fc)}function _e(v){v.memoizedState!==null&&C(gp,v);var S=kr.current,R=a_(S,v.type);S!==R&&(C(ps,v),C(kr,R))}function Oe(v){ps.current===v&&(b(kr),b(ps)),gp.current===v&&(b(gp),Ls?cc._currentValue=Sd:cc._currentValue2=Sd)}function we(v){var S=Error(a(418,""));throw xe(de(S,v)),vp}function Te(v,S){if(!wo)throw Error(a(175));Cd(v.stateNode,v.type,v.memoizedProps,S,v)||we(v)}function ze(v){for($r=v.return;$r;)switch($r.tag){case 3:case 27:Fs=!0;return;case 5:case 13:Fs=!1;return;default:$r=$r.return}}function yt(v){if(!wo||v!==$r)return!1;if(!Ri)return ze(v),Ri=!0,!1;var S=!1;if(xa?v.tag!==3&&v.tag!==27&&(v.tag!==5||oy(v.type)&&!Oa(v.type,v.memoizedProps))&&(S=!0):v.tag!==3&&(v.tag!==5||oy(v.type)&&!Oa(v.type,v.memoizedProps))&&(S=!0),S&&Qi&&we(v),ze(v),v.tag===13){if(!wo)throw Error(a(316));if(v=v.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(a(317));Qi=z_(v)}else Qi=$r?vu(v.stateNode):null;return!0}function Be(){wo&&(Qi=$r=null,Ri=!1)}function xe(v){ms===null?ms=[v]:ms.push(v)}function re(){for(var v=hc,S=Hs=hc=0;S<v;){var R=Mo[S];Mo[S++]=null;var N=Mo[S];Mo[S++]=null;var k=Mo[S];Mo[S++]=null;var j=Mo[S];if(Mo[S++]=null,N!==null&&k!==null){var ve=N.pending;ve===null?k.next=k:(k.next=ve.next,ve.next=k),N.pending=k}j!==0&&$e(R,k,j)}}function Fe(v,S,R,N){Mo[hc++]=v,Mo[hc++]=S,Mo[hc++]=R,Mo[hc++]=N,Hs|=N,v.lanes|=N,v=v.alternate,v!==null&&(v.lanes|=N)}function Ie(v,S,R,N){return Fe(v,S,R,N),ct(v)}function qe(v,S){return Fe(v,null,null,S),ct(v)}function $e(v,S,R){v.lanes|=R;var N=v.alternate;N!==null&&(N.lanes|=R);for(var k=!1,j=v.return;j!==null;)j.childLanes|=R,N=j.alternate,N!==null&&(N.childLanes|=R),j.tag===22&&(v=j.stateNode,v===null||v._visibility&1||(k=!0)),v=j,j=j.return;k&&S!==null&&v.tag===3&&(j=v.stateNode,k=31-Gr(R),j=j.hiddenUpdates,v=j[k],v===null?j[k]=[S]:v.push(S),S.lane=R|536870912)}function ct(v){if(50<Id)throw Id=0,_y=null,Error(a(185));for(var S=v.return;S!==null;)v=S,S=v.return;return v.tag===3?v.stateNode:null}function st(v){v!==_u&&v.next===null&&(_u===null?pr=_u=v:_u=_u.next=v),Vr=!0,Eg||(Eg=!0,He(oe))}function ce(v,S){if(!wg&&Vr){wg=!0;do for(var R=!1,N=pr;N!==null;){if(v!==0){var k=N.pendingLanes;if(k===0)var j=0;else{var ve=N.suspendedLanes,Le=N.pingedLanes;j=(1<<31-Gr(42|v)+1)-1,j&=k&~(ve&~Le),j=j&201326677?j&201326677|1:j?j|2:0}j!==0&&(R=!0,Ke(N,j))}else j=mi,j=O(N,N===er?j:0),(j&3)===0||B(N,j)||(R=!0,Ke(N,j));N=N.next}while(R);wg=!1}}function oe(){Vr=Eg=!1;var v=0;jf!==0&&(c_()&&(v=jf),jf=0);for(var S=Ko(),R=null,N=pr;N!==null;){var k=N.next,j=Ee(N,S);j===0?(N.next=null,R===null?pr=k:R.next=k,k===null&&(_u=R)):(R=N,(v!==0||(j&3)!==0)&&(Vr=!0)),N=k}ce(v)}function Ee(v,S){for(var R=v.suspendedLanes,N=v.pingedLanes,k=v.expirationTimes,j=v.pendingLanes&-62914561;0<j;){var ve=31-Gr(j),Le=1<<ve,it=k[ve];it===-1?((Le&R)===0||(Le&N)!==0)&&(k[ve]=P(Le,S)):it<=S&&(v.expiredLanes|=Le),j&=~Le}if(S=er,R=mi,R=O(v,v===S?R:0),N=v.callbackNode,R===0||v===S&&Yi===2||v.cancelPendingCommit!==null)return N!==null&&N!==null&&zs(N),v.callbackNode=null,v.callbackPriority=0;if((R&3)===0||B(v,R)){if(S=R&-R,S===v.callbackPriority)return S;switch(N!==null&&zs(N),ae(R)){case 2:case 8:R=mp;break;case 32:R=kf;break;case 268435456:R=wd;break;default:R=kf}return N=De.bind(null,v),R=_l(R,N),v.callbackPriority=S,v.callbackNode=R,S}return N!==null&&N!==null&&zs(N),v.callbackPriority=2,v.callbackNode=null,2}function De(v,S){var R=v.callbackNode;if(ou()&&v.callbackNode!==R)return null;var N=mi;return N=O(v,v===er?N:0),N===0?null:(Xo(v,N,S),Ee(v,Ko()),v.callbackNode!=null&&v.callbackNode===R?De.bind(null,v):null)}function Ke(v,S){if(ou())return null;Xo(v,S,!0)}function He(v){h_?p_(function(){(pi&6)!==0?_l(_g,v):v()}):_l(_g,v)}function gt(){return jf===0&&(jf=F()),jf}function lt(v,S){if(Wf===null){var R=Wf=[];Ag=0,mr=gt(),Ca={status:"pending",value:void 0,then:function(N){R.push(N)}}}return Ag++,S.then(pt,pt),S}function pt(){if(--Ag===0&&Wf!==null){Ca!==null&&(Ca.status="fulfilled");var v=Wf;Wf=null,mr=0,Ca=null;for(var S=0;S<v.length;S++)(0,v[S])()}}function It(v,S){var R=[],N={status:"pending",value:null,reason:null,then:function(k){R.push(k)}};return v.then(function(){N.status="fulfilled",N.value=S;for(var k=0;k<R.length;k++)(0,R[k])(S)},function(k){for(N.status="rejected",N.reason=k,k=0;k<R.length;k++)(0,R[k])(void 0)}),N}function ot(v){v.updateQueue={baseState:v.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _t(v,S){v=v.updateQueue,S.updateQueue===v&&(S.updateQueue={baseState:v.baseState,firstBaseUpdate:v.firstBaseUpdate,lastBaseUpdate:v.lastBaseUpdate,shared:v.shared,callbacks:null})}function Ct(v){return{lane:v,tag:0,payload:null,callback:null,next:null}}function We(v,S,R){var N=v.updateQueue;if(N===null)return null;if(N=N.shared,(pi&2)!==0){var k=N.pending;return k===null?S.next=S:(S.next=k.next,k.next=S),N.pending=S,S=ct(v),$e(v,null,R),S}return Fe(v,N,S,R),ct(v)}function rt(v,S,R){if(S=S.updateQueue,S!==null&&(S=S.shared,(R&4194176)!==0)){var N=S.lanes;N&=v.pendingLanes,R|=N,S.lanes=R,Q(v,R)}}function Se(v,S){var R=v.updateQueue,N=v.alternate;if(N!==null&&(N=N.updateQueue,R===N)){var k=null,j=null;if(R=R.firstBaseUpdate,R!==null){do{var ve={lane:R.lane,tag:R.tag,payload:R.payload,callback:null,next:null};j===null?k=j=ve:j=j.next=ve,R=R.next}while(R!==null);j===null?k=j=S:j=j.next=S}else k=j=S;R={baseState:N.baseState,firstBaseUpdate:k,lastBaseUpdate:j,shared:N.shared,callbacks:N.callbacks},v.updateQueue=R;return}v=R.lastBaseUpdate,v===null?R.firstBaseUpdate=S:v.next=S,R.lastBaseUpdate=S}function Ge(){if(Mg){var v=Ca;if(v!==null)throw v}}function St(v,S,R,N){Mg=!1;var k=v.updateQueue;ja=!1;var j=k.firstBaseUpdate,ve=k.lastBaseUpdate,Le=k.shared.pending;if(Le!==null){k.shared.pending=null;var it=Le,wt=it.next;it.next=null,ve===null?j=wt:ve.next=wt,ve=it;var Vt=v.alternate;Vt!==null&&(Vt=Vt.updateQueue,Le=Vt.lastBaseUpdate,Le!==ve&&(Le===null?Vt.firstBaseUpdate=wt:Le.next=wt,Vt.lastBaseUpdate=it))}if(j!==null){var nn=k.baseState;ve=0,Vt=wt=it=null,Le=j;do{var Ht=Le.lane&-536870913,qn=Ht!==Le.lane;if(qn?(mi&Ht)===Ht:(N&Ht)===Ht){Ht!==0&&Ht===mr&&(Mg=!0),Vt!==null&&(Vt=Vt.next={lane:0,tag:Le.tag,payload:Le.payload,callback:null,next:null});e:{var Cs=v,Qf=Le;Ht=S;var Bd=R;switch(Qf.tag){case 1:if(Cs=Qf.payload,typeof Cs=="function"){nn=Cs.call(Bd,nn,Ht);break e}nn=Cs;break e;case 3:Cs.flags=Cs.flags&-65537|128;case 0:if(Cs=Qf.payload,Ht=typeof Cs=="function"?Cs.call(Bd,nn,Ht):Cs,Ht==null)break e;nn=Fr({},nn,Ht);break e;case 2:ja=!0}}Ht=Le.callback,Ht!==null&&(v.flags|=64,qn&&(v.flags|=8192),qn=k.callbacks,qn===null?k.callbacks=[Ht]:qn.push(Ht))}else qn={lane:Ht,tag:Le.tag,payload:Le.payload,callback:Le.callback,next:null},Vt===null?(wt=Vt=qn,it=nn):Vt=Vt.next=qn,ve|=Ht;if(Le=Le.next,Le===null){if(Le=k.shared.pending,Le===null)break;qn=Le,Le=qn.next,qn.next=null,k.lastBaseUpdate=qn,k.shared.pending=null}}while(!0);Vt===null&&(it=nn),k.baseState=it,k.firstBaseUpdate=wt,k.lastBaseUpdate=Vt,j===null&&(k.shared.lanes=0),_s|=ve,v.lanes=ve,v.memoizedState=nn}}function Ae(v,S){if(typeof v!="function")throw Error(a(191,v));v.call(S)}function xt(v,S){var R=v.callbacks;if(R!==null)for(v.callbacks=null,v=0;v<R.length;v++)Ae(R[v],S)}function et(v,S){if(oo(v,S))return!0;if(typeof v!="object"||v===null||typeof S!="object"||S===null)return!1;var R=Object.keys(v),N=Object.keys(S);if(R.length!==N.length)return!1;for(N=0;N<R.length;N++){var k=R[N];if(!j_.call(S,k)||!oo(v[k],S[k]))return!1}return!0}function mt(v){return v=v.status,v==="fulfilled"||v==="rejected"}function Nt(){}function Bt(v,S,R){switch(R=v[R],R===void 0?v.push(S):R!==S&&(S.then(Nt,Nt),S=R),S.status){case"fulfilled":return S.value;case"rejected":throw v=S.reason,v===yp?Error(a(483)):v;default:if(typeof S.status=="string")S.then(Nt,Nt);else{if(v=er,v!==null&&100<v.shellSuspendCounter)throw Error(a(482));v=S,v.status="pending",v.then(function(N){if(S.status==="pending"){var k=S;k.status="fulfilled",k.value=N}},function(N){if(S.status==="pending"){var k=S;k.status="rejected",k.reason=N}})}switch(S.status){case"fulfilled":return S.value;case"rejected":throw v=S.reason,v===yp?Error(a(483)):v}throw Wa=S,yp}}function Qt(){if(Wa===null)throw Error(a(459));var v=Wa;return Wa=null,v}function sn(v){var S=Xa;return Xa+=1,Ad===null&&(Ad=[]),Bt(Ad,v,S)}function Yt(v,S){S=S.props.ref,v.ref=S!==void 0?S:null}function Lt(v,S){throw S.$$typeof===j0?Error(a(525)):(v=Object.prototype.toString.call(S),Error(a(31,v==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":v)))}function Xt(v){var S=v._init;return S(v._payload)}function yn(v){function S(dt,tt){if(v){var ht=dt.deletions;ht===null?(dt.deletions=[tt],dt.flags|=16):ht.push(tt)}}function R(dt,tt){if(!v)return null;for(;tt!==null;)S(dt,tt),tt=tt.sibling;return null}function N(dt){for(var tt=new Map;dt!==null;)dt.key!==null?tt.set(dt.key,dt):tt.set(dt.index,dt),dt=dt.sibling;return tt}function k(dt,tt){return dt=ic(dt,tt),dt.index=0,dt.sibling=null,dt}function j(dt,tt,ht){return dt.index=ht,v?(ht=dt.alternate,ht!==null?(ht=ht.index,ht<tt?(dt.flags|=33554434,tt):ht):(dt.flags|=33554434,tt)):(dt.flags|=1048576,tt)}function ve(dt){return v&&dt.alternate===null&&(dt.flags|=33554434),dt}function Le(dt,tt,ht,Ft){return tt===null||tt.tag!==6?(tt=cp(ht,dt.mode,Ft),tt.return=dt,tt):(tt=k(tt,ht),tt.return=dt,tt)}function it(dt,tt,ht,Ft){var _n=ht.type;return _n===uu?Vt(dt,tt,ht.props.children,Ft,ht.key):tt!==null&&(tt.elementType===_n||typeof _n=="object"&&_n!==null&&_n.$$typeof===sc&&Xt(_n)===tt.type)?(tt=k(tt,ht.props),Yt(tt,ht),tt.return=dt,tt):(tt=vd(ht.type,ht.key,ht.props,null,dt.mode,Ft),Yt(tt,ht),tt.return=dt,tt)}function wt(dt,tt,ht,Ft){return tt===null||tt.tag!==4||tt.stateNode.containerInfo!==ht.containerInfo||tt.stateNode.implementation!==ht.implementation?(tt=Eo(ht,dt.mode,Ft),tt.return=dt,tt):(tt=k(tt,ht.children||[]),tt.return=dt,tt)}function Vt(dt,tt,ht,Ft,_n){return tt===null||tt.tag!==7?(tt=lu(ht,dt.mode,Ft,_n),tt.return=dt,tt):(tt=k(tt,ht),tt.return=dt,tt)}function nn(dt,tt,ht){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return tt=cp(""+tt,dt.mode,ht),tt.return=dt,tt;if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case cu:return ht=vd(tt.type,tt.key,tt.props,null,dt.mode,ht),Yt(ht,tt),ht.return=dt,ht;case yl:return tt=Eo(tt,dt.mode,ht),tt.return=dt,tt;case sc:var Ft=tt._init;return tt=Ft(tt._payload),nn(dt,tt,ht)}if(mu(tt)||o(tt))return tt=lu(tt,dt.mode,ht,null),tt.return=dt,tt;if(typeof tt.then=="function")return nn(dt,sn(tt),ht);if(tt.$$typeof===fu)return nn(dt,dd(dt,tt),ht);Lt(dt,tt)}return null}function Ht(dt,tt,ht,Ft){var _n=tt!==null?tt.key:null;if(typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint")return _n!==null?null:Le(dt,tt,""+ht,Ft);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case cu:return ht.key===_n?it(dt,tt,ht,Ft):null;case yl:return ht.key===_n?wt(dt,tt,ht,Ft):null;case sc:return _n=ht._init,ht=_n(ht._payload),Ht(dt,tt,ht,Ft)}if(mu(ht)||o(ht))return _n!==null?null:Vt(dt,tt,ht,Ft,null);if(typeof ht.then=="function")return Ht(dt,tt,sn(ht),Ft);if(ht.$$typeof===fu)return Ht(dt,tt,dd(dt,ht),Ft);Lt(dt,ht)}return null}function qn(dt,tt,ht,Ft,_n){if(typeof Ft=="string"&&Ft!==""||typeof Ft=="number"||typeof Ft=="bigint")return dt=dt.get(ht)||null,Le(tt,dt,""+Ft,_n);if(typeof Ft=="object"&&Ft!==null){switch(Ft.$$typeof){case cu:return dt=dt.get(Ft.key===null?ht:Ft.key)||null,it(tt,dt,Ft,_n);case yl:return dt=dt.get(Ft.key===null?ht:Ft.key)||null,wt(tt,dt,Ft,_n);case sc:var tr=Ft._init;return Ft=tr(Ft._payload),qn(dt,tt,ht,Ft,_n)}if(mu(Ft)||o(Ft))return dt=dt.get(ht)||null,Vt(tt,dt,Ft,_n,null);if(typeof Ft.then=="function")return qn(dt,tt,ht,sn(Ft),_n);if(Ft.$$typeof===fu)return qn(dt,tt,ht,dd(tt,Ft),_n);Lt(tt,Ft)}return null}function Cs(dt,tt,ht,Ft){for(var _n=null,tr=null,Nn=tt,fi=tt=0,or=null;Nn!==null&&fi<ht.length;fi++){Nn.index>fi?(or=Nn,Nn=null):or=Nn.sibling;var vi=Ht(dt,Nn,ht[fi],Ft);if(vi===null){Nn===null&&(Nn=or);break}v&&Nn&&vi.alternate===null&&S(dt,Nn),tt=j(vi,tt,fi),tr===null?_n=vi:tr.sibling=vi,tr=vi,Nn=or}if(fi===ht.length)return R(dt,Nn),Ri&&q(dt,fi),_n;if(Nn===null){for(;fi<ht.length;fi++)Nn=nn(dt,ht[fi],Ft),Nn!==null&&(tt=j(Nn,tt,fi),tr===null?_n=Nn:tr.sibling=Nn,tr=Nn);return Ri&&q(dt,fi),_n}for(Nn=N(Nn);fi<ht.length;fi++)or=qn(Nn,dt,fi,ht[fi],Ft),or!==null&&(v&&or.alternate!==null&&Nn.delete(or.key===null?fi:or.key),tt=j(or,tt,fi),tr===null?_n=or:tr.sibling=or,tr=or);return v&&Nn.forEach(function(Ou){return S(dt,Ou)}),Ri&&q(dt,fi),_n}function Qf(dt,tt,ht,Ft){if(ht==null)throw Error(a(151));for(var _n=null,tr=null,Nn=tt,fi=tt=0,or=null,vi=ht.next();Nn!==null&&!vi.done;fi++,vi=ht.next()){Nn.index>fi?(or=Nn,Nn=null):or=Nn.sibling;var Ou=Ht(dt,Nn,vi.value,Ft);if(Ou===null){Nn===null&&(Nn=or);break}v&&Nn&&Ou.alternate===null&&S(dt,Nn),tt=j(Ou,tt,fi),tr===null?_n=Ou:tr.sibling=Ou,tr=Ou,Nn=or}if(vi.done)return R(dt,Nn),Ri&&q(dt,fi),_n;if(Nn===null){for(;!vi.done;fi++,vi=ht.next())vi=nn(dt,vi.value,Ft),vi!==null&&(tt=j(vi,tt,fi),tr===null?_n=vi:tr.sibling=vi,tr=vi);return Ri&&q(dt,fi),_n}for(Nn=N(Nn);!vi.done;fi++,vi=ht.next())vi=qn(Nn,dt,fi,vi.value,Ft),vi!==null&&(v&&vi.alternate!==null&&Nn.delete(vi.key===null?fi:vi.key),tt=j(vi,tt,fi),tr===null?_n=vi:tr.sibling=vi,tr=vi);return v&&Nn.forEach(function(X_){return S(dt,X_)}),Ri&&q(dt,fi),_n}function Bd(dt,tt,ht,Ft){if(typeof ht=="object"&&ht!==null&&ht.type===uu&&ht.key===null&&(ht=ht.props.children),typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case cu:e:{for(var _n=ht.key;tt!==null;){if(tt.key===_n){if(_n=ht.type,_n===uu){if(tt.tag===7){R(dt,tt.sibling),Ft=k(tt,ht.props.children),Ft.return=dt,dt=Ft;break e}}else if(tt.elementType===_n||typeof _n=="object"&&_n!==null&&_n.$$typeof===sc&&Xt(_n)===tt.type){R(dt,tt.sibling),Ft=k(tt,ht.props),Yt(Ft,ht),Ft.return=dt,dt=Ft;break e}R(dt,tt);break}else S(dt,tt);tt=tt.sibling}ht.type===uu?(Ft=lu(ht.props.children,dt.mode,Ft,ht.key),Ft.return=dt,dt=Ft):(Ft=vd(ht.type,ht.key,ht.props,null,dt.mode,Ft),Yt(Ft,ht),Ft.return=dt,dt=Ft)}return ve(dt);case yl:e:{for(_n=ht.key;tt!==null;){if(tt.key===_n)if(tt.tag===4&&tt.stateNode.containerInfo===ht.containerInfo&&tt.stateNode.implementation===ht.implementation){R(dt,tt.sibling),Ft=k(tt,ht.children||[]),Ft.return=dt,dt=Ft;break e}else{R(dt,tt);break}else S(dt,tt);tt=tt.sibling}Ft=Eo(ht,dt.mode,Ft),Ft.return=dt,dt=Ft}return ve(dt);case sc:return _n=ht._init,ht=_n(ht._payload),Bd(dt,tt,ht,Ft)}if(mu(ht))return Cs(dt,tt,ht,Ft);if(o(ht)){if(_n=o(ht),typeof _n!="function")throw Error(a(150));return ht=_n.call(ht),Qf(dt,tt,ht,Ft)}if(typeof ht.then=="function")return Bd(dt,tt,sn(ht),Ft);if(ht.$$typeof===fu)return Bd(dt,tt,dd(dt,ht),Ft);Lt(dt,ht)}return typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint"?(ht=""+ht,tt!==null&&tt.tag===6?(R(dt,tt.sibling),Ft=k(tt,ht),Ft.return=dt,dt=Ft):(R(dt,tt),Ft=cp(ht,dt.mode,Ft),Ft.return=dt,dt=Ft),ve(dt)):R(dt,tt)}return function(dt,tt,ht,Ft){try{Xa=0;var _n=Bd(dt,tt,ht,Ft);return Ad=null,_n}catch(Nn){if(Nn===yp)throw Nn;var tr=t(29,Nn,null,dt.mode);return tr.lanes=Ft,tr.return=dt,tr}finally{}}}function lr(v,S){v=Vs,C(ks,v),C(Gs,S),Vs=v|S.baseLanes}function Jr(){C(ks,Vs),C(Gs,Gs.current)}function zn(){Vs=ks.current,b(Gs),b(ks)}function Ai(v){var S=v.alternate;C(dr,dr.current&1),C(To,v),gs===null&&(S===null||Gs.current!==null||S.memoizedState!==null)&&(gs=v)}function Sr(v){if(v.tag===22){if(C(dr,dr.current),C(To,v),gs===null){var S=v.alternate;S!==null&&S.memoizedState!==null&&(gs=v)}}else wn()}function wn(){C(dr,dr.current),C(To,To.current)}function Mn(v){b(To),gs===v&&(gs=null),b(dr)}function Qn(v){for(var S=v;S!==null;){if(S.tag===13){var R=S.memoizedState;if(R!==null&&(R=R.dehydrated,R===null||_d(R)||hp(R)))return S}else if(S.tag===19&&S.memoizedProps.revealOrder!==void 0){if((S.flags&128)!==0)return S}else if(S.child!==null){S.child.return=S,S=S.child;continue}if(S===v)break;for(;S.sibling===null;){if(S.return===null||S.return===v)return null;S=S.return}S.sibling.return=S.return,S=S.sibling}return null}function un(){throw Error(a(321))}function ii(v,S){if(S===null)return!1;for(var R=0;R<S.length&&R<v.length;R++)if(!oo(v[R],S[R]))return!1;return!0}function ln(v,S,R,N,k,j){return pc=j,Xn=S,S.memoizedState=null,S.updateQueue=null,S.lanes=0,Un.H=v===null||v.memoizedState===null?vc:lo,Cu=!1,j=R(N,k),Cu=!1,Md&&(j=Ur(S,R,N,k)),zr(v),j}function zr(v){Un.H=jr;var S=zi!==null&&zi.next!==null;if(pc=0,Er=zi=Xn=null,mc=!1,Xf=0,gc=null,S)throw Error(a(300));v===null||na||(v=v.dependencies,v!==null&&ud(v)&&(na=!0))}function Ur(v,S,R,N){Xn=v;var k=0;do{if(Md&&(gc=null),Xf=0,Md=!1,25<=k)throw Error(a(301));if(k+=1,Er=zi=null,v.updateQueue!=null){var j=v.updateQueue;j.lastEffect=null,j.events=null,j.stores=null,j.memoCache!=null&&(j.memoCache.index=0)}Un.H=wu,j=S(R,N)}while(Md);return j}function Rr(){var v=Un.H,S=v.useState()[0];return S=typeof S.then=="function"?at(S):S,v=v.useState()[0],(zi!==null?zi.memoizedState:null)!==v&&(Xn.flags|=1024),S}function Or(){var v=Eu!==0;return Eu=0,v}function cr(v,S,R){S.updateQueue=v.updateQueue,S.flags&=-2053,v.lanes&=~R}function _r(v){if(mc){for(v=v.memoizedState;v!==null;){var S=v.queue;S!==null&&(S.pending=null),v=v.next}mc=!1}pc=0,Er=zi=Xn=null,Md=!1,Xf=Eu=0,gc=null}function le(){var v={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Er===null?Xn.memoizedState=Er=v:Er=Er.next=v,Er}function Ue(){if(zi===null){var v=Xn.alternate;v=v!==null?v.memoizedState:null}else v=zi.next;var S=Er===null?Xn.memoizedState:Er.next;if(S!==null)Er=S,zi=v;else{if(v===null)throw Xn.alternate===null?Error(a(467)):Error(a(310));zi=v,v={memoizedState:zi.memoizedState,baseState:zi.baseState,baseQueue:zi.baseQueue,queue:zi.queue,next:null},Er===null?Xn.memoizedState=Er=v:Er=Er.next=v}return Er}function at(v){var S=Xf;return Xf+=1,gc===null&&(gc=[]),v=Bt(gc,v,S),S=Xn,(Er===null?S.memoizedState:Er.next)===null&&(S=S.alternate,Un.H=S===null||S.memoizedState===null?vc:lo),v}function Ze(v){if(v!==null&&typeof v=="object"){if(typeof v.then=="function")return at(v);if(v.$$typeof===fu)return la(v)}throw Error(a(438,String(v)))}function Ve(v){var S=null,R=Xn.updateQueue;if(R!==null&&(S=R.memoCache),S==null){var N=Xn.alternate;N!==null&&(N=N.updateQueue,N!==null&&(N=N.memoCache,N!=null&&(S={data:N.data.map(function(k){return k.slice()}),index:0})))}if(S==null&&(S={data:[],index:0}),R===null&&(R=vy(),Xn.updateQueue=R),R.memoCache=S,R=S.data[S.index],R===void 0)for(R=S.data[S.index]=Array(v),N=0;N<v;N++)R[N]=si;return S.index++,R}function Rt(v,S){return typeof S=="function"?S(v):S}function $t(v){var S=Ue();return qt(S,zi,v)}function qt(v,S,R){var N=v.queue;if(N===null)throw Error(a(311));N.lastRenderedReducer=R;var k=v.baseQueue,j=N.pending;if(j!==null){if(k!==null){var ve=k.next;k.next=j.next,j.next=ve}S.baseQueue=k=j,N.pending=null}if(j=v.baseState,k===null)v.memoizedState=j;else{S=k.next;var Le=ve=null,it=null,wt=S,Vt=!1;do{var nn=wt.lane&-536870913;if(nn!==wt.lane?(mi&nn)===nn:(pc&nn)===nn){var Ht=wt.revertLane;if(Ht===0)it!==null&&(it=it.next={lane:0,revertLane:0,action:wt.action,hasEagerState:wt.hasEagerState,eagerState:wt.eagerState,next:null}),nn===mr&&(Vt=!0);else if((pc&Ht)===Ht){wt=wt.next,Ht===mr&&(Vt=!0);continue}else nn={lane:0,revertLane:wt.revertLane,action:wt.action,hasEagerState:wt.hasEagerState,eagerState:wt.eagerState,next:null},it===null?(Le=it=nn,ve=j):it=it.next=nn,Xn.lanes|=Ht,_s|=Ht;nn=wt.action,Cu&&R(j,nn),j=wt.hasEagerState?wt.eagerState:R(j,nn)}else Ht={lane:nn,revertLane:wt.revertLane,action:wt.action,hasEagerState:wt.hasEagerState,eagerState:wt.eagerState,next:null},it===null?(Le=it=Ht,ve=j):it=it.next=Ht,Xn.lanes|=nn,_s|=nn;wt=wt.next}while(wt!==null&&wt!==S);if(it===null?ve=j:it.next=Le,!oo(j,v.memoizedState)&&(na=!0,Vt&&(R=Ca,R!==null)))throw R;v.memoizedState=j,v.baseState=ve,v.baseQueue=it,N.lastRenderedState=j}return k===null&&(N.lanes=0),[v.memoizedState,N.dispatch]}function Wt(v){var S=Ue(),R=S.queue;if(R===null)throw Error(a(311));R.lastRenderedReducer=v;var N=R.dispatch,k=R.pending,j=S.memoizedState;if(k!==null){R.pending=null;var ve=k=k.next;do j=v(j,ve.action),ve=ve.next;while(ve!==k);oo(j,S.memoizedState)||(na=!0),S.memoizedState=j,S.baseQueue===null&&(S.baseState=j),R.lastRenderedState=j}return[j,N]}function gn(v,S,R){var N=Xn,k=Ue(),j=Ri;if(j){if(R===void 0)throw Error(a(407));R=R()}else R=S();var ve=!oo((zi||k).memoizedState,R);if(ve&&(k.memoizedState=R,na=!0),k=k.queue,Os(Gn.bind(null,N,k,v),[v]),k.getSnapshot!==S||ve||Er!==null&&Er.memoizedState.tag&1){if(N.flags|=2048,Ir(9,on.bind(null,N,k,R,S),{destroy:void 0},null),er===null)throw Error(a(349));j||(pc&60)!==0||dn(N,S,R)}return R}function dn(v,S,R){v.flags|=16384,v={getSnapshot:S,value:R},S=Xn.updateQueue,S===null?(S=vy(),Xn.updateQueue=S,S.stores=[v]):(R=S.stores,R===null?S.stores=[v]:R.push(v))}function on(v,S,R,N){S.value=R,S.getSnapshot=N,Vn(S)&&jn(v)}function Gn(v,S,R){return R(function(){Vn(S)&&jn(v)})}function Vn(v){var S=v.getSnapshot;v=v.value;try{var R=S();return!oo(v,R)}catch{return!0}}function jn(v){var S=qe(v,2);S!==null&&ur(S,v,2)}function In(v){var S=le();if(typeof v=="function"){var R=v;if(v=R(),Cu){K(!0);try{R()}finally{K(!1)}}}return S.memoizedState=S.baseState=v,S.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rt,lastRenderedState:v},S}function bn(v,S,R,N){return v.baseState=R,qt(v,zi,typeof N=="function"?N:Rt)}function cn(v,S,R,N,k){if(Vl(v))throw Error(a(485));if(v=S.action,v!==null){var j={payload:k,action:v,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ve){j.listeners.push(ve)}};Un.T!==null?R(!0):j.isTransition=!1,N(j),R=S.pending,R===null?(j.next=S.pending=j,Si(S,j)):(j.next=R.next,S.pending=R.next=j)}}function Si(v,S){var R=S.action,N=S.payload,k=v.state;if(S.isTransition){var j=Un.T,ve={};Un.T=ve;try{var Le=R(k,N),it=Un.S;it!==null&&it(ve,Le),Wn(v,S,Le)}catch(wt){Tn(v,S,wt)}finally{Un.T=j}}else try{j=R(k,N),Wn(v,S,j)}catch(wt){Tn(v,S,wt)}}function Wn(v,S,R){R!==null&&typeof R=="object"&&typeof R.then=="function"?R.then(function(N){$n(v,S,N)},function(N){return Tn(v,S,N)}):$n(v,S,R)}function $n(v,S,R){S.status="fulfilled",S.value=R,Cn(S),v.state=R,S=v.pending,S!==null&&(R=S.next,R===S?v.pending=null:(R=R.next,S.next=R,Si(v,R)))}function Tn(v,S,R){var N=v.pending;if(v.pending=null,N!==null){N=N.next;do S.status="rejected",S.reason=R,Cn(S),S=S.next;while(S!==N)}v.action=null}function Cn(v){v=v.listeners;for(var S=0;S<v.length;S++)(0,v[S])()}function Zn(v,S){return S}function An(v,S){if(Ri){var R=er.formState;if(R!==null){e:{var N=Xn;if(Ri){if(Qi){var k=D_(Qi,Fs);if(k){Qi=vu(k),N=Sl(k);break e}}we(N)}N=!1}N&&(S=R[0])}}R=le(),R.memoizedState=R.baseState=S,N={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zn,lastRenderedState:S},R.queue=N,R=$o.bind(null,Xn,N),N.dispatch=R,N=In(!1);var j=Vo.bind(null,Xn,!1,N.queue);return N=le(),k={state:S,dispatch:null,action:v,pending:null},N.queue=k,R=cn.bind(null,Xn,k,j,R),k.dispatch=R,N.memoizedState=v,[S,R,!1]}function xi(v){var S=Ue();return Li(S,zi,v)}function Li(v,S,R){S=qt(v,S,Zn)[0],v=$t(Rt)[0],S=typeof S=="object"&&S!==null&&typeof S.then=="function"?at(S):S;var N=Ue(),k=N.queue,j=k.dispatch;return R!==N.memoizedState&&(Xn.flags|=2048,Ir(9,$i.bind(null,k,R),{destroy:void 0},null)),[S,j,v]}function $i(v,S){v.action=S}function Ki(v){var S=Ue(),R=zi;if(R!==null)return Li(S,R,v);Ue(),S=S.memoizedState,R=Ue();var N=R.queue.dispatch;return R.memoizedState=v,[S,N,!1]}function Ir(v,S,R,N){return v={tag:v,create:S,inst:R,deps:N,next:null},S=Xn.updateQueue,S===null&&(S=vy(),Xn.updateQueue=S),R=S.lastEffect,R===null?S.lastEffect=v.next=v:(N=R.next,R.next=v,v.next=N,S.lastEffect=v),v}function Wi(){return Ue().memoizedState}function bo(v,S,R,N){var k=le();Xn.flags|=v,k.memoizedState=Ir(1|S,R,{destroy:void 0},N===void 0?null:N)}function no(v,S,R,N){var k=Ue();N=N===void 0?null:N;var j=k.memoizedState.inst;zi!==null&&N!==null&&ii(N,zi.memoizedState.deps)?k.memoizedState=Ir(S,R,j,N):(Xn.flags|=v,k.memoizedState=Ir(1|S,R,j,N))}function Ma(v,S){bo(8390656,8,v,S)}function Os(v,S){no(2048,8,v,S)}function od(v,S){return no(4,2,v,S)}function Xc(v,S){return no(4,4,v,S)}function xr(v,S){if(typeof S=="function"){v=v();var R=S(v);return function(){typeof R=="function"?R():S(null)}}if(S!=null)return v=v(),S.current=v,function(){S.current=null}}function ko(v,S,R){R=R!=null?R.concat([v]):null,no(4,4,xr.bind(null,S,v),R)}function Ua(){}function va(v,S){var R=Ue();S=S===void 0?null:S;var N=R.memoizedState;return S!==null&&ii(S,N[1])?N[0]:(R.memoizedState=[v,S],v)}function Ta(v,S){var R=Ue();S=S===void 0?null:S;var N=R.memoizedState;if(S!==null&&ii(S,N[1]))return N[0];if(N=v(),Cu){K(!0);try{v()}finally{K(!1)}}return R.memoizedState=[N,S],N}function Is(v,S,R){return R===void 0||(pc&1073741824)!==0?v.memoizedState=S:(v.memoizedState=R,v=np(),Xn.lanes|=v,_s|=v,R)}function So(v,S,R,N){return oo(R,S)?R:Gs.current!==null?(v=Is(v,R,N),oo(v,S)||(na=!0),v):(pc&42)===0?(na=!0,v.memoizedState=R):(v=np(),Xn.lanes|=v,_s|=v,S)}function $l(v,S,R,N,k){var j=gu();ao(j!==0&&8>j?j:8);var ve=Un.T,Le={};Un.T=Le,Vo(v,!1,S,R);try{var it=k(),wt=Un.S;if(wt!==null&&wt(Le,it),it!==null&&typeof it=="object"&&typeof it.then=="function"){var Vt=It(it,N);Fa(v,S,Vt,Ga(v))}else Fa(v,S,N,Ga(v))}catch(nn){Fa(v,S,{then:function(){},status:"rejected",reason:nn},Ga())}finally{ao(j),Un.T=ve}}function tn(v){var S=v.memoizedState;if(S!==null)return S;S={memoizedState:Sd,baseState:Sd,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rt,lastRenderedState:Sd},next:null};var R={};return S.next={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rt,lastRenderedState:R},next:null},v.memoizedState=S,v=v.alternate,v!==null&&(v.memoizedState=S),S}function Sn(){return la(cc)}function Mi(){return Ue().memoizedState}function Ci(){return Ue().memoizedState}function Hi(v){for(var S=v.return;S!==null;){switch(S.tag){case 24:case 3:var R=Ga();v=Ct(R);var N=We(S,v,R);N!==null&&(ur(N,S,R),rt(N,S,R)),S={cache:_o()},v.payload=S;return}S=S.return}}function Bs(v,S,R){var N=Ga();R={lane:N,revertLane:0,action:R,hasEagerState:!1,eagerState:null,next:null},Vl(v)?ya(S,R):(R=Ie(v,S,R,N),R!==null&&(ur(R,v,N),sl(R,S,N)))}function $o(v,S,R){var N=Ga();Fa(v,S,R,N)}function Fa(v,S,R,N){var k={lane:N,revertLane:0,action:R,hasEagerState:!1,eagerState:null,next:null};if(Vl(v))ya(S,k);else{var j=v.alternate;if(v.lanes===0&&(j===null||j.lanes===0)&&(j=S.lastRenderedReducer,j!==null))try{var ve=S.lastRenderedState,Le=j(ve,R);if(k.hasEagerState=!0,k.eagerState=Le,oo(Le,ve))return Fe(v,S,k,0),er===null&&re(),!1}catch{}finally{}if(R=Ie(v,S,k,N),R!==null)return ur(R,v,N),sl(R,S,N),!0}return!1}function Vo(v,S,R,N){if(N={lane:2,revertLane:gt(),action:N,hasEagerState:!1,eagerState:null,next:null},Vl(v)){if(S)throw Error(a(479))}else S=Ie(v,R,N,2),S!==null&&ur(S,v,2)}function Vl(v){var S=v.alternate;return v===Xn||S!==null&&S===Xn}function ya(v,S){Md=mc=!0;var R=v.pending;R===null?S.next=S:(S.next=R.next,R.next=S),v.pending=S}function sl(v,S,R){if((R&4194176)!==0){var N=S.lanes;N&=v.pendingLanes,R|=N,S.lanes=R,Q(v,R)}}function ll(v,S,R,N){S=v.memoizedState,R=R(N,S),R=R==null?S:Fr({},S,R),v.memoizedState=R,v.lanes===0&&(v.updateQueue.baseState=R)}function jl(v,S,R,N,k,j,ve){return v=v.stateNode,typeof v.shouldComponentUpdate=="function"?v.shouldComponentUpdate(N,j,ve):S.prototype&&S.prototype.isPureReactComponent?!et(R,N)||!et(k,j):!0}function Wh(v,S,R,N){v=S.state,typeof S.componentWillReceiveProps=="function"&&S.componentWillReceiveProps(R,N),typeof S.UNSAFE_componentWillReceiveProps=="function"&&S.UNSAFE_componentWillReceiveProps(R,N),S.state!==v&&Yf.enqueueReplaceState(S,S.state,null)}function jo(v,S){var R=S;if("ref"in S){R={};for(var N in S)N!=="ref"&&(R[N]=S[N])}if(v=v.defaultProps){R===S&&(R=Fr({},R));for(var k in v)R[k]===void 0&&(R[k]=v[k])}return R}function Yc(v,S){try{var R=v.onUncaughtError;R(S.value,{componentStack:S.stack})}catch(N){setTimeout(function(){throw N})}}function qc(v,S,R){try{var N=v.onCaughtError;N(R.value,{componentStack:R.stack,errorBoundary:S.tag===1?S.stateNode:null})}catch(k){setTimeout(function(){throw k})}}function io(v,S,R){return R=Ct(R),R.tag=3,R.payload={element:null},R.callback=function(){Yc(v,S)},R}function Xh(v){return v=Ct(v),v.tag=3,v}function Wm(v,S,R,N){var k=R.type.getDerivedStateFromError;if(typeof k=="function"){var j=N.value;v.payload=function(){return k(j)},v.callback=function(){qc(S,R,N)}}var ve=R.stateNode;ve!==null&&typeof ve.componentDidCatch=="function"&&(v.callback=function(){qc(S,R,N),typeof k!="function"&&(Ml===null?Ml=new Set([this]):Ml.add(this));var Le=N.stack;this.componentDidCatch(N.value,{componentStack:Le!==null?Le:""})})}function H0(v,S,R,N,k){if(R.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){if(S=R.alternate,S!==null&&fl(S,R,k,!0),R=To.current,R!==null){switch(R.tag){case 13:return gs===null?hs():R.alternate===null&&wr===0&&(wr=3),R.flags&=-257,R.flags|=65536,R.lanes=k,N===so?R.flags|=16384:(S=R.updateQueue,S===null?R.updateQueue=new Set([N]):S.add(N),su(v,N,k)),!1;case 22:return R.flags|=65536,N===so?R.flags|=16384:(S=R.updateQueue,S===null?(S={transitions:null,markerInstances:null,retryQueue:new Set([N])},R.updateQueue=S):(R=S.retryQueue,R===null?S.retryQueue=new Set([N]):R.add(N)),su(v,N,k)),!1}throw Error(a(435,R.tag))}return su(v,N,k),hs(),!1}if(Ri)return S=To.current,S!==null?((S.flags&65536)===0&&(S.flags|=256),S.flags|=65536,S.lanes=k,N!==vp&&(v=Error(a(422),{cause:N}),xe(de(v,R)))):(N!==vp&&(S=Error(a(423),{cause:N}),xe(de(S,R))),v=v.current.alternate,v.flags|=65536,k&=-k,v.lanes|=k,N=de(N,R),k=io(v.stateNode,N,k),Se(v,k),wr!==4&&(wr=2)),!1;var j=Error(a(520),{cause:N});if(j=de(j,R),Kf===null?Kf=[j]:Kf.push(j),wr!==4&&(wr=2),S===null)return!0;N=de(N,R),R=S;do{switch(R.tag){case 3:return R.flags|=65536,v=k&-k,R.lanes|=v,v=io(R.stateNode,N,v),Se(R,v),!1;case 1:if(S=R.type,j=R.stateNode,(R.flags&128)===0&&(typeof S.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Ml===null||!Ml.has(j))))return R.flags|=65536,k&=-k,R.lanes|=k,k=Xh(k),Wm(k,v,R,N),Se(R,k),!1}R=R.return}while(R!==null);return!1}function Qr(v,S,R,N){S.child=v===null?El(S,null,R,N):xu(S,v.child,R,N)}function sd(v,S,R,N,k){R=R.render;var j=S.ref;if("ref"in N){var ve={};for(var Le in N)Le!=="ref"&&(ve[Le]=N[Le])}else ve=N;return us(S),N=ln(v,S,R,ve,j,k),Le=Or(),v!==null&&!na?(cr(v,S,k),Ds(v,S,k)):(Ri&&Le&&he(S),S.flags|=1,Qr(v,S,N,k),S.child)}function ba(v,S,R,N,k){if(v===null){var j=R.type;return typeof j=="function"&&!nc(j)&&j.defaultProps===void 0&&R.compare===null?(S.tag=15,S.type=j,Xm(v,S,j,N,k)):(v=vd(R.type,null,N,S,S.mode,k),v.ref=S.ref,v.return=S,S.child=v)}if(j=v.child,!Kh(v,k)){var ve=j.memoizedProps;if(R=R.compare,R=R!==null?R:et,R(ve,N)&&v.ref===S.ref)return Ds(v,S,k)}return S.flags|=1,v=ic(j,N),v.ref=S.ref,v.return=S,S.child=v}function Xm(v,S,R,N,k){if(v!==null){var j=v.memoizedProps;if(et(j,N)&&v.ref===S.ref)if(na=!1,S.pendingProps=N=j,Kh(v,k))(v.flags&131072)!==0&&(na=!0);else return S.lanes=v.lanes,Ds(v,S,k)}return xf(v,S,R,N,k)}function Ym(v,S,R){var N=S.pendingProps,k=N.children,j=(S.stateNode._pendingVisibility&2)!==0,ve=v!==null?v.memoizedState:null;if(ld(v,S),N.mode==="hidden"||j){if((S.flags&128)!==0){if(N=ve!==null?ve.baseLanes|R:R,v!==null){for(k=S.child=v.child,j=0;k!==null;)j=j|k.lanes|k.childLanes,k=k.sibling;S.childLanes=j&~N}else S.childLanes=0,S.child=null;return qm(v,S,N,R)}if((R&536870912)!==0)S.memoizedState={baseLanes:0,cachePool:null},v!==null&&Qc(S,ve!==null?ve.cachePool:null),ve!==null?lr(S,ve):Jr(),Sr(S);else return S.lanes=S.childLanes=536870912,qm(v,S,ve!==null?ve.baseLanes|R:R,R)}else ve!==null?(Qc(S,ve.cachePool),lr(S,ve),wn(),S.memoizedState=null):(v!==null&&Qc(S,null),Jr(),wn());return Qr(v,S,k,R),S.child}function qm(v,S,R,N){var k=Af();return k=k===null?null:{parent:Ls?Dr._currentValue:Dr._currentValue2,pool:k},S.memoizedState={baseLanes:R,cachePool:k},v!==null&&Qc(S,null),Jr(),Sr(S),v!==null&&fl(v,S,N,!0),null}function ld(v,S){var R=S.ref;if(R===null)v!==null&&v.ref!==null&&(S.flags|=2097664);else{if(typeof R!="function"&&typeof R!="object")throw Error(a(284));(v===null||v.ref!==R)&&(S.flags|=2097664)}}function xf(v,S,R,N,k){return us(S),R=ln(v,S,R,N,void 0,k),N=Or(),v!==null&&!na?(cr(v,S,k),Ds(v,S,k)):(Ri&&N&&he(S),S.flags|=1,Qr(v,S,R,k),S.child)}function Km(v,S,R,N,k,j){return us(S),S.updateQueue=null,R=Ur(S,N,R,k),zr(v),N=Or(),v!==null&&!na?(cr(v,S,j),Ds(v,S,j)):(Ri&&N&&he(S),S.flags|=1,Qr(v,S,R,j),S.child)}function Jm(v,S,R,N,k){if(us(S),S.stateNode===null){var j=Ed,ve=R.contextType;typeof ve=="object"&&ve!==null&&(j=la(ve)),j=new R(N,j),S.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,j.updater=Yf,S.stateNode=j,j._reactInternals=S,j=S.stateNode,j.props=N,j.state=S.memoizedState,j.refs={},ot(S),ve=R.contextType,j.context=typeof ve=="object"&&ve!==null?la(ve):Ed,j.state=S.memoizedState,ve=R.getDerivedStateFromProps,typeof ve=="function"&&(ll(S,R,ve,N),j.state=S.memoizedState),typeof R.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(ve=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),ve!==j.state&&Yf.enqueueReplaceState(j,j.state,null),St(S,N,j,k),Ge(),j.state=S.memoizedState),typeof j.componentDidMount=="function"&&(S.flags|=4194308),N=!0}else if(v===null){j=S.stateNode;var Le=S.memoizedProps,it=jo(R,Le);j.props=it;var wt=j.context,Vt=R.contextType;ve=Ed,typeof Vt=="object"&&Vt!==null&&(ve=la(Vt));var nn=R.getDerivedStateFromProps;Vt=typeof nn=="function"||typeof j.getSnapshotBeforeUpdate=="function",Le=S.pendingProps!==Le,Vt||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(Le||wt!==ve)&&Wh(S,j,N,ve),ja=!1;var Ht=S.memoizedState;j.state=Ht,St(S,N,j,k),Ge(),wt=S.memoizedState,Le||Ht!==wt||ja?(typeof nn=="function"&&(ll(S,R,nn,N),wt=S.memoizedState),(it=ja||jl(S,R,it,N,Ht,wt,ve))?(Vt||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(S.flags|=4194308)):(typeof j.componentDidMount=="function"&&(S.flags|=4194308),S.memoizedProps=N,S.memoizedState=wt),j.props=N,j.state=wt,j.context=ve,N=it):(typeof j.componentDidMount=="function"&&(S.flags|=4194308),N=!1)}else{j=S.stateNode,_t(v,S),ve=S.memoizedProps,Vt=jo(R,ve),j.props=Vt,nn=S.pendingProps,Ht=j.context,wt=R.contextType,it=Ed,typeof wt=="object"&&wt!==null&&(it=la(wt)),Le=R.getDerivedStateFromProps,(wt=typeof Le=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(ve!==nn||Ht!==it)&&Wh(S,j,N,it),ja=!1,Ht=S.memoizedState,j.state=Ht,St(S,N,j,k),Ge();var qn=S.memoizedState;ve!==nn||Ht!==qn||ja||v!==null&&v.dependencies!==null&&ud(v.dependencies)?(typeof Le=="function"&&(ll(S,R,Le,N),qn=S.memoizedState),(Vt=ja||jl(S,R,Vt,N,Ht,qn,it)||v!==null&&v.dependencies!==null&&ud(v.dependencies))?(wt||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(N,qn,it),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(N,qn,it)),typeof j.componentDidUpdate=="function"&&(S.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(S.flags|=1024)):(typeof j.componentDidUpdate!="function"||ve===v.memoizedProps&&Ht===v.memoizedState||(S.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||ve===v.memoizedProps&&Ht===v.memoizedState||(S.flags|=1024),S.memoizedProps=N,S.memoizedState=qn),j.props=N,j.state=qn,j.context=it,N=Vt):(typeof j.componentDidUpdate!="function"||ve===v.memoizedProps&&Ht===v.memoizedState||(S.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||ve===v.memoizedProps&&Ht===v.memoizedState||(S.flags|=1024),N=!1)}return j=N,ld(v,S),N=(S.flags&128)!==0,j||N?(j=S.stateNode,R=N&&typeof R.getDerivedStateFromError!="function"?null:j.render(),S.flags|=1,v!==null&&N?(S.child=xu(S,v.child,null,k),S.child=xu(S,null,R,k)):Qr(v,S,R,k),S.memoizedState=j.state,v=S.child):v=Ds(v,S,k),v}function Qm(v,S,R,N){return Be(),S.flags|=256,Qr(v,S,R,N),S.child}function Cf(v){return{baseLanes:v,cachePool:Jh()}}function cl(v,S,R){return v=v!==null?v.childLanes&~R:0,S&&(v|=Zo),v}function ul(v,S,R){var N=S.pendingProps,k=!1,j=(S.flags&128)!==0,ve;if((ve=j)||(ve=v!==null&&v.memoizedState===null?!1:(dr.current&2)!==0),ve&&(k=!0,S.flags&=-129),ve=(S.flags&32)!==0,S.flags&=-33,v===null){if(Ri){if(k?Ai(S):wn(),Ri){var Le=Qi,it;(it=Le)&&(Le=L_(Le,Fs),Le!==null?(S.memoizedState={dehydrated:Le,treeContext:Us!==null?{id:xl,overflow:Cl}:null,retryLane:536870912},it=t(18,null,null,0),it.stateNode=Le,it.return=S,S.child=it,$r=S,Qi=null,it=!0):it=!1),it||we(S)}if(Le=S.memoizedState,Le!==null&&(Le=Le.dehydrated,Le!==null))return hp(Le)?S.lanes=16:S.lanes=536870912,null;Mn(S)}return Le=N.children,N=N.fallback,k?(wn(),k=S.mode,Le=Yh({mode:"hidden",children:Le},k),N=lu(N,k,R,null),Le.return=S,N.return=S,Le.sibling=N,S.child=Le,k=S.child,k.memoizedState=Cf(R),k.childLanes=cl(v,ve,R),S.memoizedState=Sp,N):(Ai(S),Kc(S,Le))}if(it=v.memoizedState,it!==null&&(Le=it.dehydrated,Le!==null)){if(j)S.flags&256?(Ai(S),S.flags&=-257,S=cd(v,S,R)):S.memoizedState!==null?(wn(),S.child=v.child,S.flags|=128,S=null):(wn(),k=N.fallback,Le=S.mode,N=Yh({mode:"visible",children:N.children},Le),k=lu(k,Le,R,null),k.flags|=2,N.return=S,k.return=S,N.sibling=k,S.child=N,xu(S,v.child,null,R),N=S.child,N.memoizedState=Cf(R),N.childLanes=cl(v,ve,R),S.memoizedState=Sp,S=k);else if(Ai(S),hp(Le))ve=mg(Le).digest,N=Error(a(419)),N.stack="",N.digest=ve,xe({value:N,source:null,stack:null}),S=cd(v,S,R);else if(na||fl(v,S,R,!1),ve=(R&v.childLanes)!==0,na||ve){if(ve=er,ve!==null){if(N=R&-R,(N&42)!==0)N=1;else switch(N){case 2:N=1;break;case 8:N=4;break;case 32:N=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:N=64;break;case 268435456:N=134217728;break;default:N=0}if(N=(N&(ve.suspendedLanes|R))!==0?0:N,N!==0&&N!==it.retryLane)throw it.retryLane=N,qe(v,N),ur(ve,v,N),yy}_d(Le)||hs(),S=cd(v,S,R)}else _d(Le)?(S.flags|=128,S.child=v.child,S=lp.bind(null,v),B_(Le,S),S=null):(v=it.treeContext,wo&&(Qi=iy(Le),$r=S,Ri=!0,ms=null,Fs=!1,v!==null&&(Ao[Va++]=xl,Ao[Va++]=Cl,Ao[Va++]=Us,xl=v.id,Cl=v.overflow,Us=S)),S=Kc(S,N.children),S.flags|=4096);return S}return k?(wn(),k=N.fallback,Le=S.mode,it=v.child,j=it.sibling,N=ic(it,{mode:"hidden",children:N.children}),N.subtreeFlags=it.subtreeFlags&31457280,j!==null?k=ic(j,k):(k=lu(k,Le,R,null),k.flags|=2),k.return=S,N.return=S,N.sibling=k,S.child=N,N=k,k=S.child,Le=v.child.memoizedState,Le===null?Le=Cf(R):(it=Le.cachePool,it!==null?(j=Ls?Dr._currentValue:Dr._currentValue2,it=it.parent!==j?{parent:j,pool:j}:it):it=Jh(),Le={baseLanes:Le.baseLanes|R,cachePool:it}),k.memoizedState=Le,k.childLanes=cl(v,ve,R),S.memoizedState=Sp,N):(Ai(S),R=v.child,v=R.sibling,R=ic(R,{mode:"visible",children:N.children}),R.return=S,R.sibling=null,v!==null&&(ve=S.deletions,ve===null?(S.deletions=[v],S.flags|=16):ve.push(v)),S.child=R,S.memoizedState=null,R)}function Kc(v,S){return S=Yh({mode:"visible",children:S},v.mode),S.return=v,v.child=S}function Yh(v,S){return og(v,S,0,null)}function cd(v,S,R){return xu(S,v.child,null,R),v=Kc(S,S.pendingProps.children),v.flags|=2,S.memoizedState=null,v}function qh(v,S,R){v.lanes|=S;var N=v.alternate;N!==null&&(N.lanes|=S),Wl(v.return,S,R)}function Ef(v,S,R,N,k){var j=v.memoizedState;j===null?v.memoizedState={isBackwards:S,rendering:null,renderingStartTime:0,last:N,tail:R,tailMode:k}:(j.isBackwards=S,j.rendering=null,j.renderingStartTime=0,j.last=N,j.tail=R,j.tailMode=k)}function Jc(v,S,R){var N=S.pendingProps,k=N.revealOrder,j=N.tail;if(Qr(v,S,N.children,R),N=dr.current,(N&2)!==0)N=N&1|2,S.flags|=128;else{if(v!==null&&(v.flags&128)!==0)e:for(v=S.child;v!==null;){if(v.tag===13)v.memoizedState!==null&&qh(v,R,S);else if(v.tag===19)qh(v,R,S);else if(v.child!==null){v.child.return=v,v=v.child;continue}if(v===S)break e;for(;v.sibling===null;){if(v.return===null||v.return===S)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}N&=1}switch(C(dr,N),k){case"forwards":for(R=S.child,k=null;R!==null;)v=R.alternate,v!==null&&Qn(v)===null&&(k=R),R=R.sibling;R=k,R===null?(k=S.child,S.child=null):(k=R.sibling,R.sibling=null),Ef(S,!1,k,R,j);break;case"backwards":for(R=null,k=S.child,S.child=null;k!==null;){if(v=k.alternate,v!==null&&Qn(v)===null){S.child=k;break}v=k.sibling,k.sibling=R,R=k,k=v}Ef(S,!0,R,null,j);break;case"together":Ef(S,!1,null,null,void 0);break;default:S.memoizedState=null}return S.child}function Ds(v,S,R){if(v!==null&&(S.dependencies=v.dependencies),_s|=S.lanes,(R&S.childLanes)===0)if(v!==null){if(fl(v,S,R,!1),(R&S.childLanes)===0)return null}else return null;if(v!==null&&S.child!==v.child)throw Error(a(153));if(S.child!==null){for(v=S.child,R=ic(v,v.pendingProps),S.child=R,R.return=S;v.sibling!==null;)v=v.sibling,R=R.sibling=ic(v,v.pendingProps),R.return=S;R.sibling=null}return S.child}function Kh(v,S){return(v.lanes&S)!==0?!0:(v=v.dependencies,!!(v!==null&&ud(v)))}function G0(v,S,R){switch(S.tag){case 3:Z(S,S.stateNode.containerInfo),dl(S,Dr,v.memoizedState.cache),Be();break;case 27:case 5:_e(S);break;case 4:Z(S,S.stateNode.containerInfo);break;case 10:dl(S,S.type,S.memoizedProps.value);break;case 13:var N=S.memoizedState;if(N!==null)return N.dehydrated!==null?(Ai(S),S.flags|=128,null):(R&S.child.childLanes)!==0?ul(v,S,R):(Ai(S),v=Ds(v,S,R),v!==null?v.sibling:null);Ai(S);break;case 19:var k=(v.flags&128)!==0;if(N=(R&S.childLanes)!==0,N||(fl(v,S,R,!1),N=(R&S.childLanes)!==0),k){if(N)return Jc(v,S,R);S.flags|=128}if(k=S.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),C(dr,dr.current),N)break;return null;case 22:case 23:return S.lanes=0,Ym(v,S,R);case 24:dl(S,Dr,v.memoizedState.cache)}return Ds(v,S,R)}function Zm(v,S,R){if(v!==null)if(v.memoizedProps!==S.pendingProps)na=!0;else{if(!Kh(v,R)&&(S.flags&128)===0)return na=!1,G0(v,S,R);na=(v.flags&131072)!==0}else na=!1,Ri&&(S.flags&1048576)!==0&&ie(S,Vf,S.index);switch(S.lanes=0,S.tag){case 16:e:{v=S.pendingProps;var N=S.elementType,k=N._init;if(N=k(N._payload),S.type=N,typeof N=="function")nc(N)?(v=jo(N,v),S.tag=1,S=Jm(null,S,N,v,R)):(S.tag=0,S=xf(null,S,N,v,R));else{if(N!=null){if(k=N.$$typeof,k===sg){S.tag=11,S=sd(null,S,N,v,R);break e}else if(k===Lf){S.tag=14,S=ba(null,S,N,v,R);break e}}throw S=l(N)||N,Error(a(306,S,""))}}return S;case 0:return xf(v,S,S.type,S.pendingProps,R);case 1:return N=S.type,k=jo(N,S.pendingProps),Jm(v,S,N,k,R);case 3:e:{if(Z(S,S.stateNode.containerInfo),v===null)throw Error(a(387));var j=S.pendingProps;k=S.memoizedState,N=k.element,_t(v,S),St(S,j,null,R);var ve=S.memoizedState;if(j=ve.cache,dl(S,Dr,j),j!==k.cache&&Xl(S,[Dr],R,!0),Ge(),j=ve.element,wo&&k.isDehydrated)if(k={element:j,isDehydrated:!1,cache:ve.cache},S.updateQueue.baseState=k,S.memoizedState=k,S.flags&256){S=Qm(v,S,j,R);break e}else if(j!==N){N=de(Error(a(424)),S),xe(N),S=Qm(v,S,j,R);break e}else for(wo&&(Qi=xd(S.stateNode.containerInfo),$r=S,Ri=!0,ms=null,Fs=!0),R=El(S,null,j,R),S.child=R;R;)R.flags=R.flags&-3|4096,R=R.sibling;else{if(Be(),j===N){S=Ds(v,S,R);break e}Qr(v,S,j,R)}S=S.child}return S;case 26:if(qo)return ld(v,S),v===null?(R=sy(S.type,null,S.pendingProps,null))?S.memoizedState=R:Ri||(S.stateNode=dy(S.type,S.pendingProps,fc.current,S)):S.memoizedState=sy(S.type,v.memoizedProps,S.pendingProps,v.memoizedState),null;case 27:if(xa)return _e(S),v===null&&xa&&Ri&&(N=S.stateNode=yg(S.type,S.pendingProps,fc.current,kr.current,!1),$r=S,Fs=!0,Qi=uc(N)),N=S.pendingProps.children,v!==null||Ri?Qr(v,S,N,R):S.child=xu(S,null,N,R),ld(v,S),S.child;case 5:return v===null&&Ri&&(H_(S.type,S.pendingProps,kr.current),(k=N=Qi)&&(N=ry(N,S.type,S.pendingProps,Fs),N!==null?(S.stateNode=N,$r=S,Qi=uc(N),Fs=!1,k=!0):k=!1),k||we(S)),_e(S),k=S.type,j=S.pendingProps,ve=v!==null?v.memoizedProps:null,N=j.children,Oa(k,j)?N=null:ve!==null&&Oa(k,ve)&&(S.flags|=32),S.memoizedState!==null&&(k=ln(v,S,Rr,null,null,R),Ls?cc._currentValue=k:cc._currentValue2=k),ld(v,S),Qr(v,S,N,R),S.child;case 6:return v===null&&Ri&&(RA(S.pendingProps,kr.current),(v=R=Qi)&&(R=P_(R,S.pendingProps,Fs),R!==null?(S.stateNode=R,$r=S,Qi=null,v=!0):v=!1),v||we(S)),null;case 13:return ul(v,S,R);case 4:return Z(S,S.stateNode.containerInfo),N=S.pendingProps,v===null?S.child=xu(S,null,N,R):Qr(v,S,N,R),S.child;case 11:return sd(v,S,S.type,S.pendingProps,R);case 7:return Qr(v,S,S.pendingProps,R),S.child;case 8:return Qr(v,S,S.pendingProps.children,R),S.child;case 12:return Qr(v,S,S.pendingProps.children,R),S.child;case 10:return N=S.pendingProps,dl(S,S.type,N.value),Qr(v,S,N.children,R),S.child;case 9:return k=S.type._context,N=S.pendingProps.children,us(S),k=la(k),N=N(k),S.flags|=1,Qr(v,S,N,R),S.child;case 14:return ba(v,S,S.type,S.pendingProps,R);case 15:return Xm(v,S,S.type,S.pendingProps,R);case 19:return Jc(v,S,R);case 22:return Ym(v,S,R);case 24:return us(S),N=la(Dr),v===null?(k=Af(),k===null&&(k=er,j=_o(),k.pooledCache=j,j.refCount++,j!==null&&(k.pooledCacheLanes|=R),k=j),S.memoizedState={parent:N,cache:k},ot(S),dl(S,Dr,k)):((v.lanes&R)!==0&&(_t(v,S),St(S,null,null,R),Ge()),k=v.memoizedState,j=S.memoizedState,k.parent!==N?(k={parent:N,cache:N},S.memoizedState=k,S.lanes===0&&(S.memoizedState=S.updateQueue.baseState=k),dl(S,Dr,N)):(N=j.cache,dl(S,Dr,N),N!==k.cache&&Xl(S,[Dr],R,!0))),Qr(v,S,S.pendingProps.children,R),S.child;case 29:throw S.pendingProps}throw Error(a(156,S.tag))}function dl(v,S,R){Ls?(C(vs,S._currentValue),S._currentValue=R):(C(vs,S._currentValue2),S._currentValue2=R)}function Ps(v){var S=vs.current;Ls?v._currentValue=S:v._currentValue2=S,b(vs)}function Wl(v,S,R){for(;v!==null;){var N=v.alternate;if((v.childLanes&S)!==S?(v.childLanes|=S,N!==null&&(N.childLanes|=S)):N!==null&&(N.childLanes&S)!==S&&(N.childLanes|=S),v===R)break;v=v.return}}function Xl(v,S,R,N){var k=v.child;for(k!==null&&(k.return=v);k!==null;){var j=k.dependencies;if(j!==null){var ve=k.child;j=j.firstContext;e:for(;j!==null;){var Le=j;j=k;for(var it=0;it<S.length;it++)if(Le.context===S[it]){j.lanes|=R,Le=j.alternate,Le!==null&&(Le.lanes|=R),Wl(j.return,R,v),N||(ve=null);break e}j=Le.next}}else if(k.tag===18){if(ve=k.return,ve===null)throw Error(a(341));ve.lanes|=R,j=ve.alternate,j!==null&&(j.lanes|=R),Wl(ve,R,v),ve=null}else ve=k.child;if(ve!==null)ve.return=k;else for(ve=k;ve!==null;){if(ve===v){ve=null;break}if(k=ve.sibling,k!==null){k.return=ve.return,ve=k;break}ve=ve.return}k=ve}}function fl(v,S,R,N){v=null;for(var k=S,j=!1;k!==null;){if(!j){if((k.flags&524288)!==0)j=!0;else if((k.flags&262144)!==0)break}if(k.tag===10){var ve=k.alternate;if(ve===null)throw Error(a(387));if(ve=ve.memoizedProps,ve!==null){var Le=k.type;oo(k.pendingProps.value,ve.value)||(v!==null?v.push(Le):v=[Le])}}else if(k===gp.current){if(ve=k.alternate,ve===null)throw Error(a(387));ve.memoizedState.memoizedState!==k.memoizedState.memoizedState&&(v!==null?v.push(cc):v=[cc])}k=k.return}v!==null&&Xl(S,v,R,N),S.flags|=262144}function ud(v){for(v=v.firstContext;v!==null;){var S=v.context;if(!oo(Ls?S._currentValue:S._currentValue2,v.memoizedValue))return!0;v=v.next}return!1}function us(v){Mu=v,ys=null,v=v.dependencies,v!==null&&(v.firstContext=null)}function la(v){return wf(Mu,v)}function dd(v,S){return Mu===null&&us(v),wf(v,S)}function wf(v,S){var R=Ls?S._currentValue:S._currentValue2;if(S={context:S,memoizedValue:R,next:null},ys===null){if(v===null)throw Error(a(308));ys=S,v.dependencies={lanes:0,firstContext:S},v.flags|=524288}else ys=ys.next=S;return R}function _o(){return{controller:new _p,data:new Map,refCount:0}}function xo(v){v.refCount--,v.refCount===0&&Tr(IA,function(){v.controller.abort()})}function Af(){var v=Td.current;return v!==null?v:er.pooledCache}function Qc(v,S){S===null?C(Td,Td.current):C(Td,S.pool)}function Jh(){var v=Af();return v===null?null:{parent:Ls?Dr._currentValue:Dr._currentValue2,pool:v}}function Ha(v){v.flags|=4}function Zc(v,S){if(v!==null&&v.child===S.child)return!1;if((S.flags&16)!==0)return!0;for(v=S.child;v!==null;){if((v.flags&13878)!==0||(v.subtreeFlags&13878)!==0)return!0;v=v.sibling}return!1}function Yl(v,S,R,N){if(Cr)for(R=S.child;R!==null;){if(R.tag===5||R.tag===6)dp(v,R.stateNode);else if(!(R.tag===4||xa&&R.tag===27)&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===S)break;for(;R.sibling===null;){if(R.return===null||R.return===S)return;R=R.return}R.sibling.return=R.return,R=R.sibling}else if(Ns)for(var k=S.child;k!==null;){if(k.tag===5){var j=k.stateNode;R&&N&&(j=I_(j,k.type,k.memoizedProps)),dp(v,j)}else if(k.tag===6)j=k.stateNode,R&&N&&(j=ny(j,k.memoizedProps)),dp(v,j);else if(k.tag!==4){if(k.tag===22&&k.memoizedState!==null)j=k.child,j!==null&&(j.return=k),Yl(v,k,!0,!0);else if(k.child!==null){k.child.return=k,k=k.child;continue}}if(k===S)break;for(;k.sibling===null;){if(k.return===null||k.return===S)return;k=k.return}k.sibling.return=k.return,k=k.sibling}}function eg(v,S,R,N){if(Ns)for(var k=S.child;k!==null;){if(k.tag===5){var j=k.stateNode;R&&N&&(j=I_(j,k.type,k.memoizedProps)),ty(v,j)}else if(k.tag===6)j=k.stateNode,R&&N&&(j=ny(j,k.memoizedProps)),ty(v,j);else if(k.tag!==4){if(k.tag===22&&k.memoizedState!==null)j=k.child,j!==null&&(j.return=k),eg(v,k,!(k.memoizedProps!==null&&k.memoizedProps.mode==="manual"),!0);else if(k.child!==null){k.child.return=k,k=k.child;continue}}if(k===S)break;for(;k.sibling===null;){if(k.return===null||k.return===S)return;k=k.return}k.sibling.return=k.return,k=k.sibling}}function fd(v,S){if(Ns&&Zc(v,S)){v=S.stateNode;var R=v.containerInfo,N=pg();eg(N,S,!1,!1),v.pendingChildren=N,Ha(S),R_(R,N)}}function Mf(v,S,R,N){if(Cr)v.memoizedProps!==N&&Ha(S);else if(Ns){var k=v.stateNode,j=v.memoizedProps;if((v=Zc(v,S))||j!==N){var ve=kr.current;j=T_(k,R,j,N,!v,null),j===k?S.stateNode=k:(lg(j,R,N,ve)&&Ha(S),S.stateNode=j,v?Yl(j,S,!1,!1):Ha(S))}else S.stateNode=k}}function Tf(v,S,R){if(q0(S,R)){if(v.flags|=16777216,!K0(S,R))if(_a())v.flags|=8192;else throw Wa=so,bp}else v.flags&=-16777217}function Rf(v,S){if($_(S)){if(v.flags|=16777216,!fy(S))if(_a())v.flags|=8192;else throw Wa=so,bp}else v.flags&=-16777217}function eu(v,S){S!==null&&(v.flags|=4),v.flags&16384&&(S=v.tag!==22?U():536870912,v.lanes|=S,ra|=S)}function D(v,S){if(!Ri)switch(v.tailMode){case"hidden":S=v.tail;for(var R=null;S!==null;)S.alternate!==null&&(R=S),S=S.sibling;R===null?v.tail=null:R.sibling=null;break;case"collapsed":R=v.tail;for(var N=null;R!==null;)R.alternate!==null&&(N=R),R=R.sibling;N===null?S||v.tail===null?v.tail=null:v.tail.sibling=null:N.sibling=null}}function I(v){var S=v.alternate!==null&&v.alternate.child===v.child,R=0,N=0;if(S)for(var k=v.child;k!==null;)R|=k.lanes|k.childLanes,N|=k.subtreeFlags&31457280,N|=k.flags&31457280,k.return=v,k=k.sibling;else for(k=v.child;k!==null;)R|=k.lanes|k.childLanes,N|=k.subtreeFlags,N|=k.flags,k.return=v,k=k.sibling;return v.subtreeFlags|=N,v.childLanes=R,S}function H(v,S,R){var N=S.pendingProps;switch(fe(S),S.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return I(S),null;case 1:return I(S),null;case 3:return R=S.stateNode,N=null,v!==null&&(N=v.memoizedState.cache),S.memoizedState.cache!==N&&(S.flags|=2048),Ps(Dr),pe(),R.pendingContext&&(R.context=R.pendingContext,R.pendingContext=null),(v===null||v.child===null)&&(yt(S)?Ha(S):v===null||v.memoizedState.isDehydrated&&(S.flags&256)===0||(S.flags|=1024,ms!==null&&(ec(ms),ms=null))),fd(v,S),I(S),null;case 26:if(qo){R=S.type;var k=S.memoizedState;return v===null?(Ha(S),k!==null?(I(S),Rf(S,k)):(I(S),Tf(S,R,N))):k?k!==v.memoizedState?(Ha(S),I(S),Rf(S,k)):(I(S),S.flags&=-16777217):(Cr?v.memoizedProps!==N&&Ha(S):Mf(v,S,R,N),I(S),Tf(S,R,N)),null}case 27:if(xa){if(Oe(S),R=fc.current,k=S.type,v!==null&&S.stateNode!=null)Cr?v.memoizedProps!==N&&Ha(S):Mf(v,S,k,N);else{if(!N){if(S.stateNode===null)throw Error(a(166));return I(S),null}v=kr.current,yt(S)?Te(S,v):(v=yg(k,N,R,v,!0),S.stateNode=v,Ha(S))}return I(S),null}case 5:if(Oe(S),R=S.type,v!==null&&S.stateNode!=null)Mf(v,S,R,N);else{if(!N){if(S.stateNode===null)throw Error(a(166));return I(S),null}v=kr.current,yt(S)?Te(S,v):(k=Y0(R,N,fc.current,v,S),Yl(k,S,!1,!1),S.stateNode=k,lg(k,R,N,v)&&Ha(S))}return I(S),Tf(S,S.type,S.pendingProps),null;case 6:if(v&&S.stateNode!=null)R=v.memoizedProps,Cr?R!==N&&Ha(S):Ns&&(R!==N?(S.stateNode=Hr(N,fc.current,kr.current,S),Ha(S)):S.stateNode=v.stateNode);else{if(typeof N!="string"&&S.stateNode===null)throw Error(a(166));if(v=fc.current,R=kr.current,yt(S)){if(!wo)throw Error(a(176));if(v=S.stateNode,R=S.memoizedProps,N=null,k=$r,k!==null)switch(k.tag){case 27:case 5:N=k.memoizedProps}gg(v,R,S,N)||we(S)}else S.stateNode=Hr(N,v,R,S)}return I(S),null;case 13:if(N=S.memoizedState,v===null||v.memoizedState!==null&&v.memoizedState.dehydrated!==null){if(k=yt(S),N!==null&&N.dehydrated!==null){if(v===null){if(!k)throw Error(a(318));if(!wo)throw Error(a(344));if(k=S.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(a(317));N_(k,S)}else Be(),(S.flags&128)===0&&(S.memoizedState=null),S.flags|=4;I(S),k=!1}else ms!==null&&(ec(ms),ms=null),k=!0;if(!k)return S.flags&256?(Mn(S),S):(Mn(S),null)}if(Mn(S),(S.flags&128)!==0)return S.lanes=R,S;if(R=N!==null,v=v!==null&&v.memoizedState!==null,R){N=S.child,k=null,N.alternate!==null&&N.alternate.memoizedState!==null&&N.alternate.memoizedState.cachePool!==null&&(k=N.alternate.memoizedState.cachePool.pool);var j=null;N.memoizedState!==null&&N.memoizedState.cachePool!==null&&(j=N.memoizedState.cachePool.pool),j!==k&&(N.flags|=2048)}return R!==v&&R&&(S.child.flags|=8192),eu(S,S.updateQueue),I(S),null;case 4:return pe(),fd(v,S),v===null&&s_(S.stateNode.containerInfo),I(S),null;case 10:return Ps(S.type),I(S),null;case 19:if(b(dr),k=S.memoizedState,k===null)return I(S),null;if(N=(S.flags&128)!==0,j=k.rendering,j===null)if(N)D(k,!1);else{if(wr!==0||v!==null&&(v.flags&128)!==0)for(v=S.child;v!==null;){if(j=Qn(v),j!==null){for(S.flags|=128,D(k,!1),v=j.updateQueue,S.updateQueue=v,eu(S,v),S.subtreeFlags=0,v=R,R=S.child;R!==null;)gd(R,v),R=R.sibling;return C(dr,dr.current&1|2),S.child}v=v.sibling}k.tail!==null&&Ko()>es&&(S.flags|=128,N=!0,D(k,!1),S.lanes=4194304)}else{if(!N)if(v=Qn(j),v!==null){if(S.flags|=128,N=!0,v=v.updateQueue,S.updateQueue=v,eu(S,v),D(k,!0),k.tail===null&&k.tailMode==="hidden"&&!j.alternate&&!Ri)return I(S),null}else 2*Ko()-k.renderingStartTime>es&&R!==536870912&&(S.flags|=128,N=!0,D(k,!1),S.lanes=4194304);k.isBackwards?(j.sibling=S.child,S.child=j):(v=k.last,v!==null?v.sibling=j:S.child=j,k.last=j)}return k.tail!==null?(S=k.tail,k.rendering=S,k.tail=S.sibling,k.renderingStartTime=Ko(),S.sibling=null,v=dr.current,C(dr,N?v&1|2:v&1),S):(I(S),null);case 22:case 23:return Mn(S),zn(),N=S.memoizedState!==null,v!==null?v.memoizedState!==null!==N&&(S.flags|=8192):N&&(S.flags|=8192),N?(R&536870912)!==0&&(S.flags&128)===0&&(I(S),S.subtreeFlags&6&&(S.flags|=8192)):I(S),R=S.updateQueue,R!==null&&eu(S,R.retryQueue),R=null,v!==null&&v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(R=v.memoizedState.cachePool.pool),N=null,S.memoizedState!==null&&S.memoizedState.cachePool!==null&&(N=S.memoizedState.cachePool.pool),N!==R&&(S.flags|=2048),v!==null&&b(Td),null;case 24:return R=null,v!==null&&(R=v.memoizedState.cache),S.memoizedState.cache!==R&&(S.flags|=2048),Ps(Dr),I(S),null;case 25:return null}throw Error(a(156,S.tag))}function V(v,S){switch(fe(S),S.tag){case 1:return v=S.flags,v&65536?(S.flags=v&-65537|128,S):null;case 3:return Ps(Dr),pe(),v=S.flags,(v&65536)!==0&&(v&128)===0?(S.flags=v&-65537|128,S):null;case 26:case 27:case 5:return Oe(S),null;case 13:if(Mn(S),v=S.memoizedState,v!==null&&v.dehydrated!==null){if(S.alternate===null)throw Error(a(340));Be()}return v=S.flags,v&65536?(S.flags=v&-65537|128,S):null;case 19:return b(dr),null;case 4:return pe(),null;case 10:return Ps(S.type),null;case 22:case 23:return Mn(S),zn(),v!==null&&b(Td),v=S.flags,v&65536?(S.flags=v&-65537|128,S):null;case 24:return Ps(Dr),null;case 25:return null;default:return null}}function X(v,S){switch(fe(S),S.tag){case 3:Ps(Dr),pe();break;case 26:case 27:case 5:Oe(S);break;case 4:pe();break;case 13:Mn(S);break;case 19:b(dr);break;case 10:Ps(S.type);break;case 22:case 23:Mn(S),zn(),v!==null&&b(Td);break;case 24:Ps(Dr)}}function te(v,S){try{var R=S.updateQueue,N=R!==null?R.lastEffect:null;if(N!==null){var k=N.next;R=k;do{if((R.tag&v)===v){N=void 0;var j=R.create,ve=R.inst;N=j(),ve.destroy=N}R=R.next}while(R!==k)}}catch(Le){Vi(S,S.return,Le)}}function se(v,S,R){try{var N=S.updateQueue,k=N!==null?N.lastEffect:null;if(k!==null){var j=k.next;N=j;do{if((N.tag&v)===v){var ve=N.inst,Le=ve.destroy;if(Le!==void 0){ve.destroy=void 0,k=S;var it=R;try{Le()}catch(wt){Vi(k,it,wt)}}}N=N.next}while(N!==j)}}catch(wt){Vi(S,S.return,wt)}}function me(v){var S=v.updateQueue;if(S!==null){var R=v.stateNode;try{xt(S,R)}catch(N){Vi(v,v.return,N)}}}function ye(v,S,R){R.props=jo(v.type,v.memoizedProps),R.state=v.memoizedState;try{R.componentWillUnmount()}catch(N){Vi(v,S,N)}}function Pe(v,S){try{var R=v.ref;if(R!==null){var N=v.stateNode;switch(v.tag){case 26:case 27:case 5:var k=bd(N);break;default:k=N}typeof R=="function"?v.refCleanup=R(k):R.current=k}}catch(j){Vi(v,S,j)}}function Ce(v,S){var R=v.ref,N=v.refCleanup;if(R!==null)if(typeof N=="function")try{N()}catch(k){Vi(v,S,k)}finally{v.refCleanup=null,v=v.alternate,v!=null&&(v.refCleanup=null)}else if(typeof R=="function")try{R(null)}catch(k){Vi(v,S,k)}else R.current=null}function Qe(v){var S=v.type,R=v.memoizedProps,N=v.stateNode;try{S_(N,S,R,v)}catch(k){Vi(v,v.return,k)}}function bt(v,S,R){try{__(v.stateNode,v.type,R,S,v)}catch(N){Vi(v,v.return,N)}}function zt(v){return v.tag===5||v.tag===3||(qo?v.tag===26:!1)||(xa?v.tag===27:!1)||v.tag===4}function Dt(v){e:for(;;){for(;v.sibling===null;){if(v.return===null||zt(v.return))return null;v=v.return}for(v.sibling.return=v.return,v=v.sibling;v.tag!==5&&v.tag!==6&&(!xa||v.tag!==27)&&v.tag!==18;){if(v.flags&2||v.child===null||v.tag===4)continue e;v.child.return=v,v=v.child}if(!(v.flags&2))return v.stateNode}}function kt(v,S,R){var N=v.tag;if(N===5||N===6)v=v.stateNode,S?Z0(R,v,S):Q0(R,v);else if(!(N===4||xa&&N===27)&&(v=v.child,v!==null))for(kt(v,S,R),v=v.sibling;v!==null;)kt(v,S,R),v=v.sibling}function an(v,S,R){var N=v.tag;if(N===5||N===6)v=v.stateNode,S?x_(R,v,S):y_(R,v);else if(!(N===4||xa&&N===27)&&(v=v.child,v!==null))for(an(v,S,R),v=v.sibling;v!==null;)an(v,S,R),v=v.sibling}function Zt(v,S,R){v=v.containerInfo;try{O_(v,R)}catch(N){Vi(S,S.return,N)}}function hn(v,S){for(o_(v.containerInfo),On=S;On!==null;)if(v=On,S=v.child,(v.subtreeFlags&1028)!==0&&S!==null)S.return=v,On=S;else for(;On!==null;){v=On;var R=v.alternate;switch(S=v.flags,v.tag){case 0:break;case 11:case 15:break;case 1:if((S&1024)!==0&&R!==null){S=void 0;var N=v,k=R.memoizedProps;R=R.memoizedState;var j=N.stateNode;try{var ve=jo(N.type,k,N.elementType===N.type);S=j.getSnapshotBeforeUpdate(ve,R),j.__reactInternalSnapshotBeforeUpdate=S}catch(Le){Vi(N,N.return,Le)}}break;case 3:(S&1024)!==0&&Cr&&M_(v.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((S&1024)!==0)throw Error(a(163))}if(S=v.sibling,S!==null){S.return=v.return,On=S;break}On=v.return}return ve=ar,ar=!1,ve}function Ln(v,S,R){var N=R.flags;switch(R.tag){case 0:case 11:case 15:Kl(v,R),N&4&&te(5,R);break;case 1:if(Kl(v,R),N&4)if(v=R.stateNode,S===null)try{v.componentDidMount()}catch(Le){Vi(R,R.return,Le)}else{var k=jo(R.type,S.memoizedProps);S=S.memoizedState;try{v.componentDidUpdate(k,S,v.__reactInternalSnapshotBeforeUpdate)}catch(Le){Vi(R,R.return,Le)}}N&64&&me(R),N&512&&Pe(R,R.return);break;case 3:if(Kl(v,R),N&64&&(N=R.updateQueue,N!==null)){if(v=null,R.child!==null)switch(R.child.tag){case 27:case 5:v=bd(R.child.stateNode);break;case 1:v=R.child.stateNode}try{xt(N,v)}catch(Le){Vi(R,R.return,Le)}}break;case 26:if(qo){Kl(v,R),N&512&&Pe(R,R.return);break}case 27:case 5:Kl(v,R),S===null&&N&4&&Qe(R),N&512&&Pe(R,R.return);break;case 12:Kl(v,R);break;case 13:Kl(v,R),N&4&&Mr(v,R);break;case 22:if(k=R.memoizedState!==null||yc,!k){S=S!==null&&S.memoizedState!==null||Yn;var j=yc,ve=Yn;yc=k,(Yn=S)&&!ve?tu(v,R,(R.subtreeFlags&8772)!==0):Kl(v,R),yc=j,Yn=ve}N&512&&(R.memoizedProps.mode==="manual"?Pe(R,R.return):Ce(R,R.return));break;default:Kl(v,R)}}function ei(v){var S=v.alternate;S!==null&&(v.alternate=null,ei(S)),v.child=null,v.deletions=null,v.sibling=null,v.tag===5&&(S=v.stateNode,S!==null&&u_(S)),v.stateNode=null,v.return=null,v.dependencies=null,v.memoizedProps=null,v.memoizedState=null,v.pendingProps=null,v.stateNode=null,v.updateQueue=null}function pn(v,S,R){for(R=R.child;R!==null;)Rn(v,S,R),R=R.sibling}function Rn(v,S,R){if(ta&&typeof ta.onCommitFiberUnmount=="function")try{ta.onCommitFiberUnmount($f,R)}catch{}switch(R.tag){case 26:if(qo){Yn||Ce(R,S),pn(v,S,R),R.memoizedState?cy(R.memoizedState):R.stateNode&&Hf(R.stateNode);break}case 27:if(xa){Yn||Ce(R,S);var N=Ui,k=Wr;Ui=R.stateNode,pn(v,S,R),my(R.stateNode),Ui=N,Wr=k;break}case 5:Yn||Ce(R,S);case 6:if(Cr){if(N=Ui,k=Wr,Ui=null,pn(v,S,R),Ui=N,Wr=k,Ui!==null)if(Wr)try{E_(Ui,R.stateNode)}catch(j){Vi(R,S,j)}else try{C_(Ui,R.stateNode)}catch(j){Vi(R,S,j)}}else pn(v,S,R);break;case 18:Cr&&Ui!==null&&(Wr?ay(Ui,R.stateNode):F_(Ui,R.stateNode));break;case 4:Cr?(N=Ui,k=Wr,Ui=R.stateNode.containerInfo,Wr=!0,pn(v,S,R),Ui=N,Wr=k):(Ns&&Zt(R.stateNode,R,pg()),pn(v,S,R));break;case 0:case 11:case 14:case 15:Yn||se(2,R,S),Yn||se(4,R,S),pn(v,S,R);break;case 1:Yn||(Ce(R,S),N=R.stateNode,typeof N.componentWillUnmount=="function"&&ye(R,S,N)),pn(v,S,R);break;case 21:pn(v,S,R);break;case 22:Yn||Ce(R,S),Yn=(N=Yn)||R.memoizedState!==null,pn(v,S,R),Yn=N;break;default:pn(v,S,R)}}function Mr(v,S){if(wo&&S.memoizedState===null&&(v=S.alternate,v!==null&&(v=v.memoizedState,v!==null&&(v=v.dehydrated,v!==null))))try{vg(v)}catch(R){Vi(S,S.return,R)}}function Ji(v){switch(v.tag){case 13:case 19:var S=v.stateNode;return S===null&&(S=v.stateNode=new di),S;case 22:return v=v.stateNode,S=v._retryCache,S===null&&(S=v._retryCache=new di),S;default:throw Error(a(435,v.tag))}}function Sa(v,S){var R=Ji(v);S.forEach(function(N){var k=ag.bind(null,v,N);R.has(N)||(R.add(N),N.then(k,k))})}function Ni(v,S){var R=S.deletions;if(R!==null)for(var N=0;N<R.length;N++){var k=R[N],j=v,ve=S;if(Cr){var Le=ve;e:for(;Le!==null;){switch(Le.tag){case 27:case 5:Ui=Le.stateNode,Wr=!1;break e;case 3:Ui=Le.stateNode.containerInfo,Wr=!0;break e;case 4:Ui=Le.stateNode.containerInfo,Wr=!0;break e}Le=Le.return}if(Ui===null)throw Error(a(160));Rn(j,ve,k),Ui=null,Wr=!1}else Rn(j,ve,k);j=k.alternate,j!==null&&(j.return=null),k.return=null}if(S.subtreeFlags&13878)for(S=S.child;S!==null;)Wo(S,v),S=S.sibling}function Wo(v,S){var R=v.alternate,N=v.flags;switch(v.tag){case 0:case 11:case 14:case 15:Ni(S,v),ca(v),N&4&&(se(3,v,v.return),te(3,v),se(5,v,v.return));break;case 1:Ni(S,v),ca(v),N&512&&(Yn||R===null||Ce(R,R.return)),N&64&&yc&&(v=v.updateQueue,v!==null&&(N=v.callbacks,N!==null&&(R=v.shared.hiddenCallbacks,v.shared.hiddenCallbacks=R===null?N:R.concat(N))));break;case 26:if(qo){var k=Ya;Ni(S,v),ca(v),N&512&&(Yn||R===null||Ce(R,R.return)),N&4&&(N=R!==null?R.memoizedState:null,S=v.memoizedState,R===null?S===null?v.stateNode===null?v.stateNode=G_(k,v.type,v.memoizedProps,v):uy(k,v.type,v.stateNode):v.stateNode=ly(k,S,v.memoizedProps):N!==S?(N===null?R.stateNode!==null&&Hf(R.stateNode):cy(N),S===null?uy(k,v.type,v.stateNode):ly(k,S,v.memoizedProps)):S===null&&v.stateNode!==null&&bt(v,v.memoizedProps,R.memoizedProps));break}case 27:if(xa&&N&4&&v.alternate===null){k=v.stateNode;var j=v.memoizedProps;try{V_(k),py(v.type,j,k,v)}catch(Vt){Vi(v,v.return,Vt)}}case 5:if(Ni(S,v),ca(v),N&512&&(Yn||R===null||Ce(R,R.return)),Cr){if(v.flags&32){S=v.stateNode;try{hg(S)}catch(Vt){Vi(v,v.return,Vt)}}N&4&&v.stateNode!=null&&(S=v.memoizedProps,bt(v,S,R!==null?R.memoizedProps:S)),N&1024&&(Zi=!0)}break;case 6:if(Ni(S,v),ca(v),N&4&&Cr){if(v.stateNode===null)throw Error(a(162));N=v.memoizedProps,R=R!==null?R.memoizedProps:N,S=v.stateNode;try{b_(S,R,N)}catch(Vt){Vi(v,v.return,Vt)}}break;case 3:if(qo?(k_(),k=Ya,Ya=da(S.containerInfo),Ni(S,v),Ya=k):Ni(S,v),ca(v),N&4){if(Cr&&wo&&R!==null&&R.memoizedState.isDehydrated)try{U_(S.containerInfo)}catch(Vt){Vi(v,v.return,Vt)}if(Ns){N=S.containerInfo,R=S.pendingChildren;try{O_(N,R)}catch(Vt){Vi(v,v.return,Vt)}}}Zi&&(Zi=!1,ql(v));break;case 4:qo?(R=Ya,Ya=da(v.stateNode.containerInfo),Ni(S,v),ca(v),Ya=R):(Ni(S,v),ca(v)),N&4&&Ns&&Zt(v.stateNode,v,v.stateNode.pendingChildren);break;case 12:Ni(S,v),ca(v);break;case 13:Ni(S,v),ca(v),v.child.flags&8192&&v.memoizedState!==null!=(R!==null&&R.memoizedState!==null)&&(Sy=Ko()),N&4&&(N=v.updateQueue,N!==null&&(v.updateQueue=null,Sa(v,N)));break;case 22:N&512&&(Yn||R===null||Ce(R,R.return)),k=v.memoizedState!==null;var ve=R!==null&&R.memoizedState!==null,Le=yc,it=Yn;if(yc=Le||k,Yn=it||ve,Ni(S,v),Yn=it,yc=Le,ca(v),S=v.stateNode,S._current=v,S._visibility&=-3,S._visibility|=S._pendingVisibility&2,N&8192&&(S._visibility=k?S._visibility&-2:S._visibility|1,k&&(S=yc||Yn,R===null||ve||S||Of(v)),Cr&&(v.memoizedProps===null||v.memoizedProps.mode!=="manual"))){e:if(R=null,Cr)for(S=v;;){if(S.tag===5||qo&&S.tag===26||xa&&S.tag===27){if(R===null){ve=R=S;try{j=ve.stateNode,k?w_(j):TA(ve.stateNode,ve.memoizedProps)}catch(Vt){Vi(ve,ve.return,Vt)}}}else if(S.tag===6){if(R===null){ve=S;try{var wt=ve.stateNode;k?A_(wt):ey(wt,ve.memoizedProps)}catch(Vt){Vi(ve,ve.return,Vt)}}}else if((S.tag!==22&&S.tag!==23||S.memoizedState===null||S===v)&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===v)break e;for(;S.sibling===null;){if(S.return===null||S.return===v)break e;R===S&&(R=null),S=S.return}R===S&&(R=null),S.sibling.return=S.return,S=S.sibling}}N&4&&(N=v.updateQueue,N!==null&&(R=N.retryQueue,R!==null&&(N.retryQueue=null,Sa(v,R))));break;case 19:Ni(S,v),ca(v),N&4&&(N=v.updateQueue,N!==null&&(v.updateQueue=null,Sa(v,N)));break;case 21:break;default:Ni(S,v),ca(v)}}function ca(v){var S=v.flags;if(S&2){try{if(Cr&&(!xa||v.tag!==27)){e:{for(var R=v.return;R!==null;){if(zt(R)){var N=R;break e}R=R.return}throw Error(a(160))}switch(N.tag){case 27:if(xa){var k=N.stateNode,j=Dt(v);an(v,j,k);break}case 5:var ve=N.stateNode;N.flags&32&&(hg(ve),N.flags&=-33);var Le=Dt(v);an(v,Le,ve);break;case 3:case 4:var it=N.stateNode.containerInfo,wt=Dt(v);kt(v,wt,it);break;default:throw Error(a(161))}}}catch(Vt){Vi(v,v.return,Vt)}v.flags&=-3}S&4096&&(v.flags&=-4097)}function ql(v){if(v.subtreeFlags&1024)for(v=v.child;v!==null;){var S=v;ql(S),S.tag===5&&S.flags&1024&&f_(S.stateNode),v=v.sibling}}function Kl(v,S){if(S.subtreeFlags&8772)for(S=S.child;S!==null;)Ln(v,S.alternate,S),S=S.sibling}function Of(v){for(v=v.child;v!==null;){var S=v;switch(S.tag){case 0:case 11:case 14:case 15:se(4,S,S.return),Of(S);break;case 1:Ce(S,S.return);var R=S.stateNode;typeof R.componentWillUnmount=="function"&&ye(S,S.return,R),Of(S);break;case 26:case 27:case 5:Ce(S,S.return),Of(S);break;case 22:Ce(S,S.return),S.memoizedState===null&&Of(S);break;default:Of(S)}v=v.sibling}}function tu(v,S,R){for(R=R&&(S.subtreeFlags&8772)!==0,S=S.child;S!==null;){var N=S.alternate,k=v,j=S,ve=j.flags;switch(j.tag){case 0:case 11:case 15:tu(k,j,R),te(4,j);break;case 1:if(tu(k,j,R),N=j,k=N.stateNode,typeof k.componentDidMount=="function")try{k.componentDidMount()}catch(wt){Vi(N,N.return,wt)}if(N=j,k=N.updateQueue,k!==null){var Le=N.stateNode;try{var it=k.shared.hiddenCallbacks;if(it!==null)for(k.shared.hiddenCallbacks=null,k=0;k<it.length;k++)Ae(it[k],Le)}catch(wt){Vi(N,N.return,wt)}}R&&ve&64&&me(j),Pe(j,j.return);break;case 26:case 27:case 5:tu(k,j,R),R&&N===null&&ve&4&&Qe(j),Pe(j,j.return);break;case 12:tu(k,j,R);break;case 13:tu(k,j,R),R&&ve&4&&Mr(k,j);break;case 22:j.memoizedState===null&&tu(k,j,R),Pe(j,j.return);break;default:tu(k,j,R)}S=S.sibling}}function tg(v,S){var R=null;v!==null&&v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(R=v.memoizedState.cachePool.pool),v=null,S.memoizedState!==null&&S.memoizedState.cachePool!==null&&(v=S.memoizedState.cachePool.pool),v!==R&&(v!=null&&v.refCount++,R!=null&&xo(R))}function ng(v,S){v=null,S.alternate!==null&&(v=S.alternate.memoizedState.cache),S=S.memoizedState.cache,S!==v&&(S.refCount++,v!=null&&xo(v))}function Jl(v,S,R,N){if(S.subtreeFlags&10256)for(S=S.child;S!==null;)ds(v,S,R,N),S=S.sibling}function ds(v,S,R,N){var k=S.flags;switch(S.tag){case 0:case 11:case 15:Jl(v,S,R,N),k&2048&&te(9,S);break;case 3:Jl(v,S,R,N),k&2048&&(v=null,S.alternate!==null&&(v=S.alternate.memoizedState.cache),S=S.memoizedState.cache,S!==v&&(S.refCount++,v!=null&&xo(v)));break;case 12:if(k&2048){Jl(v,S,R,N),v=S.stateNode;try{var j=S.memoizedProps,ve=j.id,Le=j.onPostCommit;typeof Le=="function"&&Le(ve,S.alternate===null?"mount":"update",v.passiveEffectDuration,-0)}catch(it){Vi(S,S.return,it)}}else Jl(v,S,R,N);break;case 23:break;case 22:j=S.stateNode,S.memoizedState!==null?j._visibility&4?Jl(v,S,R,N):hl(v,S):j._visibility&4?Jl(v,S,R,N):(j._visibility|=4,Ra(v,S,R,N,(S.subtreeFlags&10256)!==0)),k&2048&&tg(S.alternate,S);break;case 24:Jl(v,S,R,N),k&2048&&ng(S.alternate,S);break;default:Jl(v,S,R,N)}}function Ra(v,S,R,N,k){for(k=k&&(S.subtreeFlags&10256)!==0,S=S.child;S!==null;){var j=v,ve=S,Le=R,it=N,wt=ve.flags;switch(ve.tag){case 0:case 11:case 15:Ra(j,ve,Le,it,k),te(8,ve);break;case 23:break;case 22:var Vt=ve.stateNode;ve.memoizedState!==null?Vt._visibility&4?Ra(j,ve,Le,it,k):hl(j,ve):(Vt._visibility|=4,Ra(j,ve,Le,it,k)),k&&wt&2048&&tg(ve.alternate,ve);break;case 24:Ra(j,ve,Le,it,k),k&&wt&2048&&ng(ve.alternate,ve);break;default:Ra(j,ve,Le,it,k)}S=S.sibling}}function hl(v,S){if(S.subtreeFlags&10256)for(S=S.child;S!==null;){var R=v,N=S,k=N.flags;switch(N.tag){case 22:hl(R,N),k&2048&&tg(N.alternate,N);break;case 24:hl(R,N),k&2048&&ng(N.alternate,N);break;default:hl(R,N)}S=S.sibling}}function Ql(v){if(v.subtreeFlags&Tu)for(v=v.child;v!==null;)Qh(v),v=v.sibling}function Qh(v){switch(v.tag){case 26:Ql(v),v.flags&Tu&&(v.memoizedState!==null?hy(Ya,v.memoizedState,v.memoizedProps):J0(v.type,v.memoizedProps));break;case 5:Ql(v),v.flags&Tu&&J0(v.type,v.memoizedProps);break;case 3:case 4:if(qo){var S=Ya;Ya=da(v.stateNode.containerInfo),Ql(v),Ya=S}else Ql(v);break;case 22:v.memoizedState===null&&(S=v.alternate,S!==null&&S.memoizedState!==null?(S=Tu,Tu=16777216,Ql(v),Tu=S):Ql(v));break;default:Ql(v)}}function Zh(v){var S=v.alternate;if(S!==null&&(v=S.child,v!==null)){S.child=null;do S=v.sibling,v.sibling=null,v=S;while(v!==null)}}function hd(v){var S=v.deletions;if((v.flags&16)!==0){if(S!==null)for(var R=0;R<S.length;R++){var N=S[R];On=N,tp(N,v)}Zh(v)}if(v.subtreeFlags&10256)for(v=v.child;v!==null;)Zl(v),v=v.sibling}function Zl(v){switch(v.tag){case 0:case 11:case 15:hd(v),v.flags&2048&&se(9,v,v.return);break;case 3:hd(v);break;case 12:hd(v);break;case 22:var S=v.stateNode;v.memoizedState!==null&&S._visibility&4&&(v.return===null||v.return.tag!==13)?(S._visibility&=-5,ep(v)):hd(v);break;default:hd(v)}}function ep(v){var S=v.deletions;if((v.flags&16)!==0){if(S!==null)for(var R=0;R<S.length;R++){var N=S[R];On=N,tp(N,v)}Zh(v)}for(v=v.child;v!==null;){switch(S=v,S.tag){case 0:case 11:case 15:se(8,S,S.return),ep(S);break;case 22:R=S.stateNode,R._visibility&4&&(R._visibility&=-5,ep(S));break;default:ep(S)}v=v.sibling}}function tp(v,S){for(;On!==null;){var R=On;switch(R.tag){case 0:case 11:case 15:se(8,R,S);break;case 23:case 22:if(R.memoizedState!==null&&R.memoizedState.cachePool!==null){var N=R.memoizedState.cachePool.pool;N!=null&&N.refCount++}break;case 24:xo(R.memoizedState.cache)}if(N=R.child,N!==null)N.return=R,On=N;else e:for(R=v;On!==null;){N=On;var k=N.sibling,j=N.return;if(ei(N),N===R){On=null;break e}if(k!==null){k.return=j,On=k;break e}On=j}}}function nu(v){var S=ug(v);if(S!=null){if(typeof S.memoizedProps["data-testname"]!="string")throw Error(a(364));return S}if(v=m_(v),v===null)throw Error(a(362));return v.stateNode.current}function ig(v,S){var R=v.tag;switch(S.$$typeof){case gr:if(v.type===S.value)return!0;break;case $s:e:{for(S=S.value,v=[v,0],R=0;R<v.length;){var N=v[R++],k=N.tag,j=v[R++],ve=S[j];if(k!==5&&k!==26&&k!==27||!bl(N)){for(;ve!=null&&ig(N,ve);)j++,ve=S[j];if(j===S.length){S=!0;break e}else for(N=N.child;N!==null;)v.push(N,j),N=N.sibling}}S=!1}return S;case wl:if((R===5||R===26||R===27)&&v_(v.stateNode,S.value))return!0;break;case co:if((R===5||R===6||R===26||R===27)&&(v=g_(v),v!==null&&0<=v.indexOf(S.value)))return!0;break;case qf:if((R===5||R===26||R===27)&&(v=v.memoizedProps["data-testname"],typeof v=="string"&&v.toLowerCase()===S.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function Co(v){switch(v.$$typeof){case gr:return"<"+(l(v.value)||"Unknown")+">";case $s:return":has("+(Co(v)||"")+")";case wl:return'[role="'+v.value+'"]';case co:return'"'+v.value+'"';case qf:return'[data-testname="'+v.value+'"]';default:throw Error(a(365))}}function pd(v,S){var R=[];v=[v,0];for(var N=0;N<v.length;){var k=v[N++],j=k.tag,ve=v[N++],Le=S[ve];if(j!==5&&j!==26&&j!==27||!bl(k)){for(;Le!=null&&ig(k,Le);)ve++,Le=S[ve];if(ve===S.length)R.push(k);else for(k=k.child;k!==null;)v.push(k,ve),k=k.sibling}}return R}function iu(v,S){if(!Ff)throw Error(a(363));v=nu(v),v=pd(v,S),S=[],v=Array.from(v);for(var R=0;R<v.length;){var N=v[R++],k=N.tag;if(k===5||k===26||k===27)bl(N)||S.push(N.stateNode);else for(N=N.child;N!==null;)v.push(N),N=N.sibling}return S}function Ga(){if((pi&2)!==0&&mi!==0)return mi&-mi;if(Un.T!==null){var v=mr;return v!==0?v:gt()}return l_()}function np(){Zo===0&&(Zo=(mi&536870912)===0||Ri?F():536870912);var v=To.current;return v!==null&&(v.flags|=32),Zo}function ur(v,S,R){(v===er&&Yi===2||v.cancelPendingCommit!==null)&&(ru(v,0),ro(v,mi,Zo,!1)),$(v,R),((pi&2)===0||v!==er)&&(v===er&&((pi&2)===0&&(Sc|=R),wr===4&&ro(v,mi,Zo,!1)),st(v))}function Xo(v,S,R){if((pi&6)!==0)throw Error(a(327));var N=!R&&(S&60)===0&&(S&v.expiredLanes)===0||B(v,S),k=N?e_(v,S):rp(v,S,!0),j=N;do{if(k===0){Ss&&!N&&ro(v,S,0,!1);break}else if(k===6)ro(v,S,0,!bs);else{if(R=v.current.alternate,j&&!tc(R)){k=rp(v,S,!1),j=!1;continue}if(k===2){if(j=S,v.errorRecoveryDisabledLanes&j)var ve=0;else ve=v.pendingLanes&-536870913,ve=ve!==0?ve:ve&536870912?536870912:0;if(ve!==0){S=ve;e:{var Le=v;k=Kf;var it=wo&&Le.current.memoizedState.isDehydrated;if(it&&(ru(Le,ve).flags|=256),ve=rp(Le,ve,!1),ve!==2){if(Rd&&!it){Le.errorRecoveryDisabledLanes|=j,Sc|=j,k=4;break e}j=xs,xs=k,j!==null&&ec(j)}k=ve}if(j=!1,k!==2)continue}}if(k===1){ru(v,0),ro(v,S,0,!0);break}e:{switch(N=v,k){case 0:case 1:throw Error(a(345));case 4:if((S&4194176)===S){ro(N,S,Zo,!bs);break e}break;case 2:xs=null;break;case 3:case 5:break;default:throw Error(a(329))}if(N.finishedWork=R,N.finishedLanes=S,(S&62914560)===S&&(j=Sy+300-Ko(),10<j)){if(ro(N,S,Zo,!bs),O(N,0)!==0)break e;N.timeoutHandle=cg(pl.bind(null,N,R,xs,Od,Tg,S,Zo,Sc,ra,bs,2,-0,0),j);break e}pl(N,R,xs,Od,Tg,S,Zo,Sc,ra,bs,0,-0,0)}}break}while(!0);st(v)}function ec(v){xs===null?xs=v:xs.push.apply(xs,v)}function pl(v,S,R,N,k,j,ve,Le,it,wt,Vt,nn,Ht){var qn=S.subtreeFlags;if((qn&8192||(qn&16785408)===16785408)&&(AA(),Qh(S),S=d_(),S!==null)){v.cancelPendingCommit=S(rg.bind(null,v,R,N,k,ve,Le,it,1,nn,Ht)),ro(v,j,ve,!wt);return}rg(v,R,N,k,ve,Le,it,Vt,nn,Ht)}function tc(v){for(var S=v;;){var R=S.tag;if((R===0||R===11||R===15)&&S.flags&16384&&(R=S.updateQueue,R!==null&&(R=R.stores,R!==null)))for(var N=0;N<R.length;N++){var k=R[N],j=k.getSnapshot;k=k.value;try{if(!oo(j(),k))return!1}catch{return!1}}if(R=S.child,S.subtreeFlags&16384&&R!==null)R.return=S,S=R;else{if(S===v)break;for(;S.sibling===null;){if(S.return===null||S.return===v)return!0;S=S.return}S.sibling.return=S.return,S=S.sibling}}return!0}function ro(v,S,R,N){S&=~uo,S&=~Sc,v.suspendedLanes|=S,v.pingedLanes&=~S,N&&(v.warmLanes|=S),N=v.expirationTimes;for(var k=S;0<k;){var j=31-Gr(k),ve=1<<j;N[j]=-1,k&=~ve}R!==0&&W(v,R,S)}function k0(){return(pi&6)===0?(ce(0),!1):!0}function ip(){if(li!==null){if(Yi===0)var v=li.return;else v=li,ys=Mu=null,_r(v),Ad=null,Xa=0,v=li;for(;v!==null;)X(v.alternate,v),v=v.return;li=null}}function ru(v,S){v.finishedWork=null,v.finishedLanes=0;var R=v.timeoutHandle;R!==Uf&&(v.timeoutHandle=Uf,fp(R)),R=v.cancelPendingCommit,R!==null&&(v.cancelPendingCommit=null,R()),ip(),er=v,li=R=ic(v.current,null),mi=S,Yi=0,ia=null,bs=!1,Ss=B(v,S),Rd=!1,ra=Zo=uo=Sc=_s=wr=0,xs=Kf=null,Tg=!1,(S&8)!==0&&(S|=S&32);var N=v.entangledLanes;if(N!==0)for(v=v.entanglements,N&=S;0<N;){var k=31-Gr(N),j=1<<k;S|=v[k],N&=~j}return Vs=S,re(),R}function ka(v,S){Xn=null,Un.H=jr,S===yp?(S=Qt(),Yi=3):S===bp?(S=Qt(),Yi=4):Yi=S===yy?8:S!==null&&typeof S=="object"&&typeof S.then=="function"?6:1,ia=S,li===null&&(wr=1,Yc(v,de(S,v.current)))}function _a(){var v=To.current;return v===null?!0:(mi&4194176)===mi?gs===null:(mi&62914560)===mi||(mi&536870912)!==0?v===gs:!1}function Ti(){var v=Un.H;return Un.H=jr,v===null?jr:v}function fs(){var v=Un.A;return Un.A=bc,v}function hs(){wr=4,bs||(mi&4194176)!==mi&&To.current!==null||(Ss=!0),(_s&134217727)===0&&(Sc&134217727)===0||er===null||ro(er,mi,Zo,!1)}function rp(v,S,R){var N=pi;pi|=2;var k=Ti(),j=fs();(er!==v||mi!==S)&&(Od=null,ru(v,S)),S=!1;var ve=wr;e:do try{if(Yi!==0&&li!==null){var Le=li,it=ia;switch(Yi){case 8:ip(),ve=6;break e;case 3:case 2:case 6:To.current===null&&(S=!0);var wt=Yi;if(Yi=0,ia=null,ml(v,Le,it,wt),R&&Ss){ve=0;break e}break;default:wt=Yi,Yi=0,ia=null,ml(v,Le,it,wt)}}md(),ve=wr;break}catch(Vt){ka(v,Vt)}while(!0);return S&&v.shellSuspendCounter++,ys=Mu=null,pi=N,Un.H=k,Un.A=j,li===null&&(er=null,mi=0,re()),ve}function md(){for(;li!==null;)If(li)}function e_(v,S){var R=pi;pi|=2;var N=Ti(),k=fs();er!==v||mi!==S?(Od=null,es=Ko()+500,ru(v,S)):Ss=B(v,S);e:do try{if(Yi!==0&&li!==null){S=li;var j=ia;t:switch(Yi){case 1:Yi=0,ia=null,ml(v,S,j,1);break;case 2:if(mt(j)){Yi=0,ia=null,Bf(S);break}S=function(){Yi===2&&er===v&&(Yi=7),st(v)},j.then(S,S);break e;case 3:Yi=7;break e;case 4:Yi=5;break e;case 7:mt(j)?(Yi=0,ia=null,Bf(S)):(Yi=0,ia=null,ml(v,S,j,7));break;case 5:var ve=null;switch(li.tag){case 26:ve=li.memoizedState;case 5:case 27:var Le=li,it=Le.type,wt=Le.pendingProps;if(ve?fy(ve):K0(it,wt)){Yi=0,ia=null;var Vt=Le.sibling;if(Vt!==null)li=Vt;else{var nn=Le.return;nn!==null?(li=nn,au(nn)):li=null}break t}}Yi=0,ia=null,ml(v,S,j,5);break;case 6:Yi=0,ia=null,ml(v,S,j,6);break;case 8:ip(),wr=6;break e;default:throw Error(a(462))}}t_();break}catch(Ht){ka(v,Ht)}while(!0);return ys=Mu=null,Un.H=N,Un.A=k,pi=R,li!==null?0:(er=null,mi=0,re(),wr)}function t_(){for(;li!==null&&!bu();)If(li)}function If(v){var S=Zm(v.alternate,v,Vs);v.memoizedProps=v.pendingProps,S===null?au(v):li=S}function Bf(v){var S=v,R=S.alternate;switch(S.tag){case 15:case 0:S=Km(R,S,S.pendingProps,S.type,void 0,mi);break;case 11:S=Km(R,S,S.pendingProps,S.type.render,S.ref,mi);break;case 5:_r(S);default:X(R,S),S=li=gd(S,Vs),S=Zm(R,S,Vs)}v.memoizedProps=v.pendingProps,S===null?au(v):li=S}function ml(v,S,R,N){ys=Mu=null,_r(S),Ad=null,Xa=0;var k=S.return;try{if(H0(v,k,S,R,mi)){wr=1,Yc(v,de(R,v.current)),li=null;return}}catch(j){if(k!==null)throw li=k,j;wr=1,Yc(v,de(R,v.current)),li=null;return}S.flags&32768?(Ri||N===1?v=!0:Ss||(mi&536870912)!==0?v=!1:(bs=v=!0,(N===2||N===3||N===6)&&(N=To.current,N!==null&&N.tag===13&&(N.flags|=16384))),$0(S,v)):au(S)}function au(v){var S=v;do{if((S.flags&32768)!==0){$0(S,bs);return}v=S.return;var R=H(S.alternate,S,Vs);if(R!==null){li=R;return}if(S=S.sibling,S!==null){li=S;return}li=S=v}while(S!==null);wr===0&&(wr=5)}function $0(v,S){do{var R=V(v.alternate,v);if(R!==null){R.flags&=32767,li=R;return}if(R=v.return,R!==null&&(R.flags|=32768,R.subtreeFlags=0,R.deletions=null),!S&&(v=v.sibling,v!==null)){li=v;return}li=v=R}while(v!==null);wr=6,li=null}function rg(v,S,R,N,k,j,ve,Le,it,wt){var Vt=Un.T,nn=gu();try{ao(2),Un.T=null,n_(v,S,R,N,nn,k,j,ve,Le,it,wt)}finally{Un.T=Vt,ao(nn)}}function n_(v,S,R,N,k,j,ve,Le){do ou();while(Ru!==null);if((pi&6)!==0)throw Error(a(327));var it=v.finishedWork;if(N=v.finishedLanes,it===null)return null;if(v.finishedWork=null,v.finishedLanes=0,it===v.current)throw Error(a(177));v.callbackNode=null,v.callbackPriority=0,v.cancelPendingCommit=null;var wt=it.lanes|it.childLanes;if(wt|=Hs,J(v,N,wt,j,ve,Le),v===er&&(li=er=null,mi=0),(it.subtreeFlags&10256)===0&&(it.flags&10256)===0||_c||(_c=!0,Rg=wt,Cp=R,i_(kf,function(){return ou(),null})),R=(it.flags&15990)!==0,(it.subtreeFlags&15990)!==0||R?(R=Un.T,Un.T=null,j=gu(),ao(2),ve=pi,pi|=4,hn(v,it),Wo(it,v),wA(v.containerInfo),v.current=it,Ln(v,it.alternate,it),dc(),pi=ve,ao(j),Un.T=R):v.current=it,_c?(_c=!1,Ru=v,Jf=N):ap(v,wt),wt=v.pendingLanes,wt===0&&(Ml=null),Y(it.stateNode),st(v),S!==null)for(k=v.onRecoverableError,it=0;it<S.length;it++)wt=S[it],k(wt.value,{componentStack:wt.stack});return(Jf&3)!==0&&ou(),wt=v.pendingLanes,(N&4194218)!==0&&(wt&42)!==0?v===_y?Id++:(Id=0,_y=v):Id=0,ce(0),null}function ap(v,S){(v.pooledCacheLanes&=S)===0&&(S=v.pooledCache,S!=null&&(v.pooledCache=null,xo(S)))}function ou(){if(Ru!==null){var v=Ru,S=Rg;Rg=0;var R=ae(Jf),N=32>R?32:R;R=Un.T;var k=gu();try{if(ao(N),Un.T=null,Ru===null)var j=!1;else{N=Cp,Cp=null;var ve=Ru,Le=Jf;if(Ru=null,Jf=0,(pi&6)!==0)throw Error(a(331));var it=pi;if(pi|=4,Zl(ve.current),ds(ve,ve.current,Le,N),pi=it,ce(0,!1),ta&&typeof ta.onPostCommitFiberRoot=="function")try{ta.onPostCommitFiberRoot($f,ve)}catch{}j=!0}return j}finally{ao(k),Un.T=R,ap(v,S)}}return!1}function Df(v,S,R){S=de(R,S),S=io(v.stateNode,S,2),v=We(v,S,2),v!==null&&($(v,2),st(v))}function Vi(v,S,R){if(v.tag===3)Df(v,v,R);else for(;S!==null;){if(S.tag===3){Df(S,v,R);break}else if(S.tag===1){var N=S.stateNode;if(typeof S.type.getDerivedStateFromError=="function"||typeof N.componentDidCatch=="function"&&(Ml===null||!Ml.has(N))){v=de(R,v),R=Xh(2),N=We(S,R,2),N!==null&&(Wm(R,N,S,v),$(N,2),st(N));break}}S=S.return}}function su(v,S,R){var N=v.pingCache;if(N===null){N=v.pingCache=new xp;var k=new Set;N.set(S,k)}else k=N.get(S),k===void 0&&(k=new Set,N.set(S,k));k.has(R)||(Rd=!0,k.add(R),v=op.bind(null,v,S,R),S.then(v,v))}function op(v,S,R){var N=v.pingCache;N!==null&&N.delete(S),v.pingedLanes|=v.suspendedLanes&R,v.warmLanes&=~R,er===v&&(mi&R)===R&&(wr===4||wr===3&&(mi&62914560)===mi&&300>Ko()-Sy?(pi&2)===0&&ru(v,0):uo|=R,ra===mi&&(ra=0)),st(v)}function sp(v,S){S===0&&(S=U()),v=qe(v,S),v!==null&&($(v,S),st(v))}function lp(v){var S=v.memoizedState,R=0;S!==null&&(R=S.retryLane),sp(v,R)}function ag(v,S){var R=0;switch(v.tag){case 13:var N=v.stateNode,k=v.memoizedState;k!==null&&(R=k.retryLane);break;case 19:N=v.stateNode;break;case 22:N=v.stateNode._retryCache;break;default:throw Error(a(314))}N!==null&&N.delete(S),sp(v,R)}function i_(v,S){return _l(v,S)}function r_(v,S,R,N){this.tag=v,this.key=R,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=S,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=N,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nc(v){return v=v.prototype,!(!v||!v.isReactComponent)}function ic(v,S){var R=v.alternate;return R===null?(R=t(v.tag,S,v.key,v.mode),R.elementType=v.elementType,R.type=v.type,R.stateNode=v.stateNode,R.alternate=v,v.alternate=R):(R.pendingProps=S,R.type=v.type,R.flags=0,R.subtreeFlags=0,R.deletions=null),R.flags=v.flags&31457280,R.childLanes=v.childLanes,R.lanes=v.lanes,R.child=v.child,R.memoizedProps=v.memoizedProps,R.memoizedState=v.memoizedState,R.updateQueue=v.updateQueue,S=v.dependencies,R.dependencies=S===null?null:{lanes:S.lanes,firstContext:S.firstContext},R.sibling=v.sibling,R.index=v.index,R.ref=v.ref,R.refCleanup=v.refCleanup,R}function gd(v,S){v.flags&=31457282;var R=v.alternate;return R===null?(v.childLanes=0,v.lanes=S,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=R.childLanes,v.lanes=R.lanes,v.child=R.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=R.memoizedProps,v.memoizedState=R.memoizedState,v.updateQueue=R.updateQueue,v.type=R.type,S=R.dependencies,v.dependencies=S===null?null:{lanes:S.lanes,firstContext:S.firstContext}),v}function vd(v,S,R,N,k,j){var ve=0;if(N=v,typeof v=="function")nc(v)&&(ve=1);else if(typeof v=="string")ve=qo&&xa?ua(v,R,kr.current)?26:bg(v)?27:5:qo?ua(v,R,kr.current)?26:5:xa&&bg(v)?27:5;else e:switch(v){case uu:return lu(R.children,k,j,S);case yd:ve=8,k|=24;break;case du:return v=t(12,R,S,k|2),v.elementType=du,v.lanes=j,v;case oc:return v=t(13,R,S,k),v.elementType=oc,v.lanes=j,v;case up:return v=t(19,R,S,k),v.elementType=up,v.lanes=j,v;case lc:return og(R,k,j,S);default:if(typeof v=="object"&&v!==null)switch(v.$$typeof){case CA:case fu:ve=10;break e;case W0:ve=9;break e;case sg:ve=11;break e;case Lf:ve=14;break e;case sc:ve=16,N=null;break e}ve=29,R=Error(a(130,v===null?"null":typeof v,"")),N=null}return S=t(ve,R,S,k),S.elementType=v,S.type=N,S.lanes=j,S}function lu(v,S,R,N){return v=t(7,v,N,S),v.lanes=R,v}function og(v,S,R,N){v=t(22,v,N,S),v.elementType=lc,v.lanes=R;var k={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var j=k._current;if(j===null)throw Error(a(456));if((k._pendingVisibility&2)===0){var ve=qe(j,2);ve!==null&&(k._pendingVisibility|=2,ur(ve,j,2))}},attach:function(){var j=k._current;if(j===null)throw Error(a(456));if((k._pendingVisibility&2)!==0){var ve=qe(j,2);ve!==null&&(k._pendingVisibility&=-3,ur(ve,j,2))}}};return v.stateNode=k,v}function cp(v,S,R){return v=t(6,v,null,S),v.lanes=R,v}function Eo(v,S,R){return S=t(4,v.children!==null?v.children:[],v.key,S),S.lanes=R,S.stateNode={containerInfo:v.containerInfo,pendingChildren:null,implementation:v.implementation},S}function gl(v,S,R,N,k,j,ve,Le){this.tag=1,this.containerInfo=v,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Uf,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=z(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=z(0),this.hiddenUpdates=z(null),this.identifierPrefix=N,this.onUncaughtError=k,this.onCaughtError=j,this.onRecoverableError=ve,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Le,this.incompleteTransitions=new Map}function rc(v,S,R,N,k,j,ve,Le,it,wt,Vt,nn){return v=new gl(v,S,R,ve,Le,it,wt,nn),S=1,j===!0&&(S|=24),j=t(3,null,null,S),v.current=j,j.stateNode=v,S=_o(),S.refCount++,v.pooledCache=S,S.refCount++,j.memoizedState={element:N,isDehydrated:R,cache:S},ot(j),v}function V0(v){return v?(v=Ed,v):Ed}function ac(v){var S=v._reactInternals;if(S===void 0)throw typeof v.render=="function"?Error(a(188)):(v=Object.keys(v).join(","),Error(a(268,v)));return v=E(S),v=v!==null?c(v):null,v===null?null:bd(v.stateNode)}function vl(v,S,R,N,k,j){k=V0(k),N.context===null?N.context=k:N.pendingContext=k,N=Ct(S),N.payload={element:R},j=j===void 0?null:j,j!==null&&(N.callback=j),R=We(v,N,S),R!==null&&(ur(R,v,S),rt(R,v,S))}function Zr(v,S){if(v=v.memoizedState,v!==null&&v.dehydrated!==null){var R=v.retryLane;v.retryLane=R!==0&&R<S?R:S}}function Pf(v,S){Zr(v,S),(v=v.alternate)&&Zr(v,S)}var hi={},xA=C0(),Yo=hO(),Fr=Object.assign,j0=Symbol.for("react.element"),cu=Symbol.for("react.transitional.element"),yl=Symbol.for("react.portal"),uu=Symbol.for("react.fragment"),yd=Symbol.for("react.strict_mode"),du=Symbol.for("react.profiler"),CA=Symbol.for("react.provider"),W0=Symbol.for("react.consumer"),fu=Symbol.for("react.context"),sg=Symbol.for("react.forward_ref"),oc=Symbol.for("react.suspense"),up=Symbol.for("react.suspense_list"),Lf=Symbol.for("react.memo"),sc=Symbol.for("react.lazy"),lc=Symbol.for("react.offscreen"),si=Symbol.for("react.memo_cache_sentinel"),Xi=Symbol.iterator,ea=Symbol.for("react.client.reference"),Un=xA.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,hu,pu,Nf=!1,mu=Array.isArray,zf=e.rendererVersion,EA=e.rendererPackageName,Br=e.extraDevToolsConfig,bd=e.getPublicInstance,X0=e.getRootHostContext,a_=e.getChildHostContext,o_=e.prepareForCommit,wA=e.resetAfterCommit,Y0=e.createInstance,dp=e.appendInitialChild,lg=e.finalizeInitialChildren,Oa=e.shouldSetTextContent,Hr=e.createTextInstance,cg=e.scheduleTimeout,fp=e.cancelTimeout,Uf=e.noTimeout,Ls=e.isPrimaryRenderer;e.warnsIfNotActing;var Cr=e.supportsMutation,Ns=e.supportsPersistence,wo=e.supportsHydration,ug=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var s_=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var ao=e.setCurrentUpdatePriority,gu=e.getCurrentUpdatePriority,l_=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var c_=e.shouldAttemptEagerTransition,u_=e.detachDeletedInstance;e.requestPostPaintCallback;var q0=e.maySuspendCommit,K0=e.preloadInstance,AA=e.startSuspendingCommit,J0=e.suspendInstance,d_=e.waitForCommitToBeReady,Sd=e.NotPendingTransition,cc=e.HostTransitionContext,f_=e.resetFormInstance;e.bindToConsole;var h_=e.supportsMicrotasks,p_=e.scheduleMicrotask,Ff=e.supportsTestSelectors,m_=e.findFiberRoot,MA=e.getBoundingRect,g_=e.getTextContent,bl=e.isHiddenSubtree,v_=e.matchAccessibilityRole,dg=e.setFocusIfFocusable,fg=e.setupIntersectionObserver,y_=e.appendChild,Q0=e.appendChildToContainer,b_=e.commitTextUpdate,S_=e.commitMount,__=e.commitUpdate,x_=e.insertBefore,Z0=e.insertInContainerBefore,C_=e.removeChild,E_=e.removeChildFromContainer,hg=e.resetTextContent,w_=e.hideInstance,A_=e.hideTextInstance,TA=e.unhideInstance,ey=e.unhideTextInstance,M_=e.clearContainer,T_=e.cloneInstance,pg=e.createContainerChildSet,ty=e.appendChildToContainerChildSet,R_=e.finalizeContainerChildren,O_=e.replaceContainerChildren,I_=e.cloneHiddenInstance,ny=e.cloneHiddenTextInstance,_d=e.isSuspenseInstancePending,hp=e.isSuspenseInstanceFallback,mg=e.getSuspenseInstanceFallbackErrorDetails,B_=e.registerSuspenseInstanceRetry,D_=e.canHydrateFormStateMarker,Sl=e.isFormStateMarkerMatching,vu=e.getNextHydratableSibling,uc=e.getFirstHydratableChild,xd=e.getFirstHydratableChildWithinContainer,iy=e.getFirstHydratableChildWithinSuspenseInstance,ry=e.canHydrateInstance,P_=e.canHydrateTextInstance,L_=e.canHydrateSuspenseInstance,Cd=e.hydrateInstance,gg=e.hydrateTextInstance,N_=e.hydrateSuspenseInstance,z_=e.getNextHydratableInstanceAfterSuspenseInstance,U_=e.commitHydratedContainer,vg=e.commitHydratedSuspenseInstance,F_=e.clearSuspenseBoundary,ay=e.clearSuspenseBoundaryFromContainer,oy=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var H_=e.validateHydratableInstance,RA=e.validateHydratableTextInstance,qo=e.supportsResources,ua=e.isHostHoistableType,da=e.getHoistableRoot,sy=e.getResource,ly=e.acquireResource,cy=e.releaseResource,G_=e.hydrateHoistable,uy=e.mountHoistable,Hf=e.unmountHoistable,dy=e.createHoistableInstance,k_=e.prepareToCommitHoistables,$_=e.mayResourceSuspendCommit,fy=e.preloadResource,hy=e.suspendResource,xa=e.supportsSingletons,yg=e.resolveSingletonInstance,V_=e.clearSingleton,py=e.acquireSingletonInstance,my=e.releaseSingletonInstance,bg=e.isHostSingletonType,Sg=[],yu=-1,Ed={},Gr=Math.clz32?Math.clz32:T,gy=Math.log,OA=Math.LN2,pp=128,Gf=4194304,_l=Yo.unstable_scheduleCallback,zs=Yo.unstable_cancelCallback,bu=Yo.unstable_shouldYield,dc=Yo.unstable_requestPaint,Ko=Yo.unstable_now,_g=Yo.unstable_ImmediatePriority,mp=Yo.unstable_UserBlockingPriority,kf=Yo.unstable_NormalPriority,wd=Yo.unstable_IdlePriority,$a=Yo.log,xg=Yo.unstable_setDisableYieldValue,$f=null,ta=null,oo=typeof Object.is=="function"?Object.is:ee,Cg=new WeakMap,Jo=[],Qo=0,Su=null,Vf=0,Ao=[],Va=0,Us=null,xl=1,Cl="",kr=g(null),ps=g(null),fc=g(null),gp=g(null),$r=null,Qi=null,Ri=!1,ms=null,Fs=!1,vp=Error(a(519)),Mo=[],hc=0,Hs=0,pr=null,_u=null,Eg=!1,Vr=!1,wg=!1,jf=0,Wf=null,Ag=0,mr=0,Ca=null,ja=!1,Mg=!1,j_=Object.prototype.hasOwnProperty,yp=Error(a(460)),bp=Error(a(474)),so={then:function(){}},Wa=null,Ad=null,Xa=0,xu=yn(!0),El=yn(!1),Gs=g(null),ks=g(0),To=g(null),gs=null,dr=g(0),pc=0,Xn=null,zi=null,Er=null,mc=!1,Md=!1,Cu=!1,Eu=0,Xf=0,gc=null,W_=0,vy=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},jr={readContext:la,use:Ze,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useLayoutEffect:un,useInsertionEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useSyncExternalStore:un,useId:un};jr.useCacheRefresh=un,jr.useMemoCache=un,jr.useHostTransitionStatus=un,jr.useFormState=un,jr.useActionState=un,jr.useOptimistic=un;var vc={readContext:la,use:Ze,useCallback:function(v,S){return le().memoizedState=[v,S===void 0?null:S],v},useContext:la,useEffect:Ma,useImperativeHandle:function(v,S,R){R=R!=null?R.concat([v]):null,bo(4194308,4,xr.bind(null,S,v),R)},useLayoutEffect:function(v,S){return bo(4194308,4,v,S)},useInsertionEffect:function(v,S){bo(4,2,v,S)},useMemo:function(v,S){var R=le();S=S===void 0?null:S;var N=v();if(Cu){K(!0);try{v()}finally{K(!1)}}return R.memoizedState=[N,S],N},useReducer:function(v,S,R){var N=le();if(R!==void 0){var k=R(S);if(Cu){K(!0);try{R(S)}finally{K(!1)}}}else k=S;return N.memoizedState=N.baseState=k,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:v,lastRenderedState:k},N.queue=v,v=v.dispatch=Bs.bind(null,Xn,v),[N.memoizedState,v]},useRef:function(v){var S=le();return v={current:v},S.memoizedState=v},useState:function(v){v=In(v);var S=v.queue,R=$o.bind(null,Xn,S);return S.dispatch=R,[v.memoizedState,R]},useDebugValue:Ua,useDeferredValue:function(v,S){var R=le();return Is(R,v,S)},useTransition:function(){var v=In(!1);return v=$l.bind(null,Xn,v.queue,!0,!1),le().memoizedState=v,[!1,v]},useSyncExternalStore:function(v,S,R){var N=Xn,k=le();if(Ri){if(R===void 0)throw Error(a(407));R=R()}else{if(R=S(),er===null)throw Error(a(349));(mi&60)!==0||dn(N,S,R)}k.memoizedState=R;var j={value:R,getSnapshot:S};return k.queue=j,Ma(Gn.bind(null,N,j,v),[v]),N.flags|=2048,Ir(9,on.bind(null,N,j,R,S),{destroy:void 0},null),R},useId:function(){var v=le(),S=er.identifierPrefix;if(Ri){var R=Cl,N=xl;R=(N&~(1<<32-Gr(N)-1)).toString(32)+R,S=":"+S+"R"+R,R=Eu++,0<R&&(S+="H"+R.toString(32)),S+=":"}else R=W_++,S=":"+S+"r"+R.toString(32)+":";return v.memoizedState=S},useCacheRefresh:function(){return le().memoizedState=Hi.bind(null,Xn)}};vc.useMemoCache=Ve,vc.useHostTransitionStatus=Sn,vc.useFormState=An,vc.useActionState=An,vc.useOptimistic=function(v){var S=le();S.memoizedState=S.baseState=v;var R={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return S.queue=R,S=Vo.bind(null,Xn,!0,R),R.dispatch=S,[v,S]};var lo={readContext:la,use:Ze,useCallback:va,useContext:la,useEffect:Os,useImperativeHandle:ko,useInsertionEffect:od,useLayoutEffect:Xc,useMemo:Ta,useReducer:$t,useRef:Wi,useState:function(){return $t(Rt)},useDebugValue:Ua,useDeferredValue:function(v,S){var R=Ue();return So(R,zi.memoizedState,v,S)},useTransition:function(){var v=$t(Rt)[0],S=Ue().memoizedState;return[typeof v=="boolean"?v:at(v),S]},useSyncExternalStore:gn,useId:Mi};lo.useCacheRefresh=Ci,lo.useMemoCache=Ve,lo.useHostTransitionStatus=Sn,lo.useFormState=xi,lo.useActionState=xi,lo.useOptimistic=function(v,S){var R=Ue();return bn(R,zi,v,S)};var wu={readContext:la,use:Ze,useCallback:va,useContext:la,useEffect:Os,useImperativeHandle:ko,useInsertionEffect:od,useLayoutEffect:Xc,useMemo:Ta,useReducer:Wt,useRef:Wi,useState:function(){return Wt(Rt)},useDebugValue:Ua,useDeferredValue:function(v,S){var R=Ue();return zi===null?Is(R,v,S):So(R,zi.memoizedState,v,S)},useTransition:function(){var v=Wt(Rt)[0],S=Ue().memoizedState;return[typeof v=="boolean"?v:at(v),S]},useSyncExternalStore:gn,useId:Mi};wu.useCacheRefresh=Ci,wu.useMemoCache=Ve,wu.useHostTransitionStatus=Sn,wu.useFormState=Ki,wu.useActionState=Ki,wu.useOptimistic=function(v,S){var R=Ue();return zi!==null?bn(R,zi,v,S):(R.baseState=v,[v,R.queue.dispatch])};var Yf={isMounted:function(v){return(v=v._reactInternals)?y(v)===v:!1},enqueueSetState:function(v,S,R){v=v._reactInternals;var N=Ga(),k=Ct(N);k.payload=S,R!=null&&(k.callback=R),S=We(v,k,N),S!==null&&(ur(S,v,N),rt(S,v,N))},enqueueReplaceState:function(v,S,R){v=v._reactInternals;var N=Ga(),k=Ct(N);k.tag=1,k.payload=S,R!=null&&(k.callback=R),S=We(v,k,N),S!==null&&(ur(S,v,N),rt(S,v,N))},enqueueForceUpdate:function(v,S){v=v._reactInternals;var R=Ga(),N=Ct(R);N.tag=2,S!=null&&(N.callback=S),S=We(v,N,R),S!==null&&(ur(S,v,R),rt(S,v,R))}},Au=typeof reportError=="function"?reportError:function(v){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var S=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof v=="object"&&v!==null&&typeof v.message=="string"?String(v.message):String(v),error:v});if(!window.dispatchEvent(S))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",v);return}console.error(v)},yy=Error(a(461)),na=!1,Sp={dehydrated:null,treeContext:null,retryLane:0},vs=g(null),Mu=null,ys=null,_p=typeof AbortController<"u"?AbortController:function(){var v=[],S=this.signal={aborted:!1,addEventListener:function(R,N){v.push(N)}};this.abort=function(){S.aborted=!0,v.forEach(function(R){return R()})}},Tr=Yo.unstable_scheduleCallback,IA=Yo.unstable_NormalPriority,Dr={$$typeof:fu,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},by=Un.S;Un.S=function(v,S){typeof S=="object"&&S!==null&&typeof S.then=="function"&&lt(v,S),by!==null&&by(v,S)};var Td=g(null),yc=!1,Yn=!1,Zi=!1,di=typeof WeakSet=="function"?WeakSet:Set,On=null,ar=!1,Ui=null,Wr=!1,Ya=null,Tu=8192,bc={getCacheForType:function(v){var S=la(Dr),R=S.data.get(v);return R===void 0&&(R=v(),S.data.set(v,R)),R}},gr=0,$s=1,wl=2,qf=3,co=4;if(typeof Symbol=="function"&&Symbol.for){var Al=Symbol.for;gr=Al("selector.component"),$s=Al("selector.has_pseudo_class"),wl=Al("selector.role"),qf=Al("selector.test_id"),co=Al("selector.text")}var xp=typeof WeakMap=="function"?WeakMap:Map,pi=0,er=null,li=null,mi=0,Yi=0,ia=null,bs=!1,Ss=!1,Rd=!1,Vs=0,wr=0,_s=0,Sc=0,uo=0,Zo=0,ra=0,Kf=null,xs=null,Tg=!1,Sy=0,es=1/0,Od=null,Ml=null,_c=!1,Ru=null,Jf=0,Rg=0,Cp=null,Id=0,_y=null;return hi.attemptContinuousHydration=function(v){if(v.tag===13){var S=qe(v,67108864);S!==null&&ur(S,v,67108864),Pf(v,67108864)}},hi.attemptHydrationAtCurrentPriority=function(v){if(v.tag===13){var S=Ga(),R=qe(v,S);R!==null&&ur(R,v,S),Pf(v,S)}},hi.attemptSynchronousHydration=function(v){switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var S=M(v.pendingLanes);if(S!==0){for(v.pendingLanes|=2,v.entangledLanes|=2;S;){var R=1<<31-Gr(S);v.entanglements[1]|=R,S&=~R}st(v),(pi&6)===0&&(es=Ko()+500,ce(0))}}break;case 13:S=qe(v,2),S!==null&&ur(S,v,2),k0(),Pf(v,2)}},hi.batchedUpdates=function(v,S){return v(S)},hi.createComponentSelector=function(v){return{$$typeof:gr,value:v}},hi.createContainer=function(v,S,R,N,k,j,ve,Le,it,wt){return rc(v,S,!1,null,R,N,j,ve,Le,it,wt,null)},hi.createHasPseudoClassSelector=function(v){return{$$typeof:$s,value:v}},hi.createHydrationContainer=function(v,S,R,N,k,j,ve,Le,it,wt,Vt,nn,Ht){return v=rc(R,N,!0,v,k,j,Le,it,wt,Vt,nn,Ht),v.context=V0(null),R=v.current,N=Ga(),k=Ct(N),k.callback=S??null,We(R,k,N),v.current.lanes=N,$(v,N),st(v),v},hi.createPortal=function(v,S,R){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yl,key:N==null?null:""+N,children:v,containerInfo:S,implementation:R}},hi.createRoleSelector=function(v){return{$$typeof:wl,value:v}},hi.createTestNameSelector=function(v){return{$$typeof:qf,value:v}},hi.createTextSelector=function(v){return{$$typeof:co,value:v}},hi.defaultOnCaughtError=function(v){console.error(v)},hi.defaultOnRecoverableError=function(v){Au(v)},hi.defaultOnUncaughtError=function(v){Au(v)},hi.deferredUpdates=function(v){var S=Un.T,R=gu();try{return ao(32),Un.T=null,v()}finally{ao(R),Un.T=S}},hi.discreteUpdates=function(v,S,R,N,k){var j=Un.T,ve=gu();try{return ao(2),Un.T=null,v(S,R,N,k)}finally{ao(ve),Un.T=j,pi===0&&(es=Ko()+500)}},hi.findAllNodes=iu,hi.findBoundingRects=function(v,S){if(!Ff)throw Error(a(363));S=iu(v,S),v=[];for(var R=0;R<S.length;R++)v.push(MA(S[R]));for(S=v.length-1;0<S;S--){R=v[S];for(var N=R.x,k=N+R.width,j=R.y,ve=j+R.height,Le=S-1;0<=Le;Le--)if(S!==Le){var it=v[Le],wt=it.x,Vt=wt+it.width,nn=it.y,Ht=nn+it.height;if(N>=wt&&j>=nn&&k<=Vt&&ve<=Ht){v.splice(S,1);break}else if(N!==wt||R.width!==it.width||Ht<j||nn>ve){if(!(j!==nn||R.height!==it.height||Vt<N||wt>k)){wt>N&&(it.width+=wt-N,it.x=N),Vt<k&&(it.width=k-wt),v.splice(S,1);break}}else{nn>j&&(it.height+=nn-j,it.y=j),Ht<ve&&(it.height=ve-nn),v.splice(S,1);break}}}return v},hi.findHostInstance=ac,hi.findHostInstanceWithNoPortals=function(v){return v=E(v),v=v!==null?p(v):null,v===null?null:bd(v.stateNode)},hi.findHostInstanceWithWarning=function(v){return ac(v)},hi.flushPassiveEffects=ou,hi.flushSyncFromReconciler=function(v){var S=pi;pi|=1;var R=Un.T,N=gu();try{if(ao(2),Un.T=null,v)return v()}finally{ao(N),Un.T=R,pi=S,(pi&6)===0&&ce(0)}},hi.flushSyncWork=k0,hi.focusWithin=function(v,S){if(!Ff)throw Error(a(363));for(v=nu(v),S=pd(v,S),S=Array.from(S),v=0;v<S.length;){var R=S[v++],N=R.tag;if(!bl(R)){if((N===5||N===26||N===27)&&dg(R.stateNode))return!0;for(R=R.child;R!==null;)S.push(R),R=R.sibling}}return!1},hi.getFindAllNodesFailureDescription=function(v,S){if(!Ff)throw Error(a(363));var R=0,N=[];v=[nu(v),0];for(var k=0;k<v.length;){var j=v[k++],ve=j.tag,Le=v[k++],it=S[Le];if((ve!==5&&ve!==26&&ve!==27||!bl(j))&&(ig(j,it)&&(N.push(Co(it)),Le++,Le>R&&(R=Le)),Le<S.length))for(j=j.child;j!==null;)v.push(j,Le),j=j.sibling}if(R<S.length){for(v=[];R<S.length;R++)v.push(Co(S[R]));return`findAllNodes was able to match part of the selector:
  `+(N.join(" > ")+`

No matching component was found for:
  `)+v.join(" > ")}return null},hi.getPublicRootInstance=function(v){if(v=v.current,!v.child)return null;switch(v.child.tag){case 27:case 5:return bd(v.child.stateNode);default:return v.child.stateNode}},hi.injectIntoDevTools=function(){var v={bundleType:0,version:zf,rendererPackageName:EA,currentDispatcherRef:Un,findFiberByHostInstance:ug,reconcilerVersion:"19.0.0"};if(Br!==null&&(v.rendererConfig=Br),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")v=!1;else{var S=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(S.isDisabled||!S.supportsFiber)v=!0;else{try{$f=S.inject(v),ta=S}catch{}v=!!S.checkDCE}}return v},hi.isAlreadyRendering=function(){return!1},hi.observeVisibleRects=function(v,S,R,N){if(!Ff)throw Error(a(363));v=iu(v,S);var k=fg(v,R,N).disconnect;return{disconnect:function(){k()}}},hi.shouldError=function(){return null},hi.shouldSuspend=function(){return!1},hi.startHostTransition=function(v,S,R,N){if(v.tag!==5)throw Error(a(476));var k=tn(v).queue;$l(v,k,S,Sd,R===null?r:function(){var j=tn(v).next.queue;return Fa(v,j,{},Ga()),R(N)})},hi.updateContainer=function(v,S,R,N){var k=S.current,j=Ga();return vl(k,j,v,S,R,N),j},hi.updateContainerSync=function(v,S,R,N){return S.tag===0&&ou(),vl(S.current,2,v,S,R,N),2},hi},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})}(GT)),GT.exports}var TN;function lfe(){return TN||(TN=1,HT.exports=sfe()),HT.exports}var cfe=lfe();const ufe=Lm(cfe);var RN=hO();const dfe=n=>typeof n=="object"&&typeof n.then=="function",mm=[];function j6(n,e,t=(r,a)=>r===a){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let a=0;a<r;a++)if(!t(n[a],e[a]))return!1;return!0}function W6(n,e=null,t=!1,r={}){e===null&&(e=[n]);for(const o of mm)if(j6(e,o.keys,o.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(o,"error"))throw o.error;if(Object.prototype.hasOwnProperty.call(o,"response"))return r.lifespan&&r.lifespan>0&&(o.timeout&&clearTimeout(o.timeout),o.timeout=setTimeout(o.remove,r.lifespan)),o.response;if(!t)throw o.promise}const a={keys:e,equal:r.equal,remove:()=>{const o=mm.indexOf(a);o!==-1&&mm.splice(o,1)},promise:(dfe(n)?n:n(...e)).then(o=>{a.response=o,r.lifespan&&r.lifespan>0&&(a.timeout=setTimeout(a.remove,r.lifespan))}).catch(o=>a.error=o)};if(mm.push(a),!t)throw a.promise}const ffe=(n,e,t)=>W6(n,e,!1,t),hfe=(n,e,t)=>void W6(n,e,!0,t),pfe=n=>{if(n===void 0||n.length===0)mm.splice(0,mm.length);else{const e=mm.find(t=>j6(n,t.keys,t.equal));e&&e.remove()}};function eB(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=e?n.return:n.child;for(;r;){const a=eB(r,e,t);if(a)return a;r=e?null:r.sibling}}function X6(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const tB=X6(w.createContext(null));let Y6=class extends w.Component{render(){return w.createElement(tB.Provider,{value:this._reactInternals},this.props.children)}};function q6(){const n=w.useContext(tB);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=w.useId();return w.useMemo(()=>{for(const t of[n,n==null?void 0:n.alternate]){if(!t)continue;const r=eB(t,!1,a=>{let o=a.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(r)return r}},[n,e])}const mfe=Symbol.for("react.context"),gfe=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===mfe;function vfe(){const n=q6(),[e]=w.useState(()=>new Map);e.clear();let t=n;for(;t;){const r=t.type;gfe(r)&&r!==tB&&!e.has(r)&&e.set(r,w.use(X6(r))),t=t.return}return e}function yfe(){const n=vfe();return w.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>w.createElement(e,null,w.createElement(t.Provider,{...r,value:n.get(t)})),e=>w.createElement(Y6,{...e})),[n])}function K6(n){let e=n.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const J6=n=>n&&n.isOrthographicCamera,bfe=n=>n&&n.hasOwnProperty("current"),Sfe=n=>n!=null&&(typeof n=="string"||typeof n=="number"||n.isColor),XS=((n,e)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?w.useLayoutEffect:w.useEffect;function Q6(n){const e=w.useRef(n);return XS(()=>void(e.current=n),[n]),e}function _fe(){const n=q6(),e=yfe();return w.useMemo(()=>({children:t})=>{const a=!!eB(n,!0,o=>o.type===w.StrictMode)?w.StrictMode:w.Fragment;return ke.jsx(a,{children:ke.jsx(e,{children:t})})},[n,e])}function xfe({set:n}){return XS(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const Cfe=(n=>(n=class extends w.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function Z6(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}function av(n){var e;return(e=n.__r3f)==null?void 0:e.root.getState()}const Pr={obj:n=>n===Object(n)&&!Pr.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,nul:n=>n===null,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:a=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Pr.str(n)||Pr.num(n)||Pr.boo(n))return n===e;const o=Pr.obj(n);if(o&&r==="reference")return n===e;const l=Pr.arr(n);if(l&&t==="reference")return n===e;if((l||o)&&n===e)return!0;let s;for(s in n)if(!(s in e))return!1;if(o&&t==="shallow"&&r==="shallow"){for(s in a?e:n)if(!Pr.equ(n[s],e[s],{strict:a,objects:"reference"}))return!1}else for(s in a?e:n)if(n[s]!==e[s])return!1;if(Pr.und(s)){if(l&&n.length===0&&e.length===0||o&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function Efe(n){const e={nodes:{},materials:{},meshes:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material),t.isMesh&&!e.meshes[t.name]&&(e.meshes[t.name]=t)}),e}function wfe(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const e in n){const t=n[e];(t==null?void 0:t.type)!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const eG=["children","key","ref"];function Afe(n){const e={};for(const t in n)eG.includes(t)||(e[t]=n[t]);return e}function PE(n,e,t,r){const a=n;let o=a==null?void 0:a.__r3f;return o||(o={root:e,type:t,parent:null,children:[],props:Afe(r),object:a,eventCount:0,handlers:{},isHidden:!1},a&&(a.__r3f=o)),o}function mS(n,e){let t=n[e];if(!e.includes("-"))return{root:n,key:e,target:t};t=n;for(const a of e.split("-")){var r;e=a,n=t,t=(r=t)==null?void 0:r[e]}return{root:n,key:e,target:t}}const ON=/-\d+$/;function LE(n,e){if(Pr.str(e.props.attach)){if(ON.test(e.props.attach)){const a=e.props.attach.replace(ON,""),{root:o,key:l}=mS(n.object,a);Array.isArray(o[l])||(o[l]=[])}const{root:t,key:r}=mS(n.object,e.props.attach);e.previousAttach=t[r],t[r]=e.object}else Pr.fun(e.props.attach)&&(e.previousAttach=e.props.attach(n.object,e.object))}function NE(n,e){if(Pr.str(e.props.attach)){const{root:t,key:r}=mS(n.object,e.props.attach),a=e.previousAttach;a===void 0?delete t[r]:t[r]=a}else e.previousAttach==null||e.previousAttach(n.object,e.object);delete e.previousAttach}const H2=[...eG,"args","dispose","attach","object","onUpdate","dispose"],IN=new Map;function Mfe(n){let e=IN.get(n.constructor);try{e||(e=new n.constructor,IN.set(n.constructor,e))}catch{}return e}function Tfe(n,e){const t={};for(const r in e)if(!H2.includes(r)&&!Pr.equ(e[r],n.props[r])){t[r]=e[r];for(const a in e)a.startsWith(`${r}-`)&&(t[a]=e[a])}for(const r in n.props){if(H2.includes(r)||e.hasOwnProperty(r))continue;const{root:a,key:o}=mS(n.object,r);if(a.constructor&&a.constructor.length===0){const l=Mfe(a);Pr.und(l)||(t[o]=l[o])}else t[o]=0}return t}const Rfe=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],Ofe=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function Ch(n,e){var t;const r=n.__r3f,a=r&&K6(r).getState(),o=r==null?void 0:r.eventCount;for(const s in e){let u=e[s];if(H2.includes(s))continue;if(r&&Ofe.test(s)){typeof u=="function"?r.handlers[s]=u:delete r.handlers[s],r.eventCount=Object.keys(r.handlers).length;continue}if(u===void 0)continue;let{root:f,key:m,target:y}=mS(n,s);if(y instanceof g0&&u instanceof g0)y.mask=u.mask;else if(y instanceof en&&Sfe(u))y.set(u);else if(y!==null&&typeof y=="object"&&typeof y.set=="function"&&typeof y.copy=="function"&&u!=null&&u.constructor&&y.constructor===u.constructor)y.copy(u);else if(y!==null&&typeof y=="object"&&typeof y.set=="function"&&Array.isArray(u))typeof y.fromArray=="function"?y.fromArray(u):y.set(...u);else if(y!==null&&typeof y=="object"&&typeof y.set=="function"&&typeof u=="number")typeof y.setScalar=="function"?y.setScalar(u):y.set(u);else{var l;f[m]=u,a&&!a.linear&&Rfe.includes(m)&&(l=f[m])!=null&&l.isTexture&&f[m].format===No&&f[m].type===Hc&&(f[m].colorSpace=Po)}}if(r!=null&&r.parent&&a!=null&&a.internal&&(t=r.object)!=null&&t.isObject3D&&o!==r.eventCount){const s=r.object,u=a.internal.interaction.indexOf(s);u>-1&&a.internal.interaction.splice(u,1),r.eventCount&&s.raycast!==null&&a.internal.interaction.push(s)}return r&&r.props.attach===void 0&&(r.object.isBufferGeometry?r.props.attach="geometry":r.object.isMaterial&&(r.props.attach="material")),r&&U0(r),n}function U0(n){var e;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const t=(e=n.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function Ife(n,e){n.manual||(J6(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix())}const as=n=>n==null?void 0:n.isObject3D;function gC(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function tG(n,e,t,r){const a=t.get(e);a&&(t.delete(e),t.size===0&&(n.delete(r),a.target.releasePointerCapture(r)))}function Bfe(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,a)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(a)}),t.capturedMap.forEach((r,a)=>{tG(t.capturedMap,e,r,a)})}function Dfe(n){function e(u){const{internal:f}=n.getState(),m=u.offsetX-f.initialClick[0],y=u.offsetY-f.initialClick[1];return Math.round(Math.sqrt(m*m+y*y))}function t(u){return u.filter(f=>["Move","Over","Enter","Out","Leave"].some(m=>{var y;return(y=f.__r3f)==null?void 0:y.handlers["onPointer"+m]}))}function r(u,f){const m=n.getState(),y=new Set,_=[],E=f?f(m.internal.interaction):m.internal.interaction;for(let b=0;b<E.length;b++){const C=av(E[b]);C&&(C.raycaster.camera=void 0)}m.previousRoot||m.events.compute==null||m.events.compute(u,m);function c(b){const C=av(b);if(!C||!C.events.enabled||C.raycaster.camera===null)return[];if(C.raycaster.camera===void 0){var T;C.events.compute==null||C.events.compute(u,C,(T=C.previousRoot)==null?void 0:T.getState()),C.raycaster.camera===void 0&&(C.raycaster.camera=null)}return C.raycaster.camera?C.raycaster.intersectObject(b,!0):[]}let p=E.flatMap(c).sort((b,C)=>{const T=av(b.object),M=av(C.object);return!T||!M?b.distance-C.distance:M.events.priority-T.events.priority||b.distance-C.distance}).filter(b=>{const C=gC(b);return y.has(C)?!1:(y.add(C),!0)});m.events.filter&&(p=m.events.filter(p,m));for(const b of p){let C=b.object;for(;C;){var g;(g=C.__r3f)!=null&&g.eventCount&&_.push({...b,eventObject:C}),C=C.parent}}if("pointerId"in u&&m.internal.capturedMap.has(u.pointerId))for(let b of m.internal.capturedMap.get(u.pointerId).values())y.has(gC(b.intersection))||_.push(b.intersection);return _}function a(u,f,m,y){if(u.length){const _={stopped:!1};for(const E of u){let c=av(E.object);if(c||E.object.traverseAncestors(p=>{const g=av(p);if(g)return c=g,!1}),c){const{raycaster:p,pointer:g,camera:b,internal:C}=c,T=new be(g.x,g.y,0).unproject(b),M=U=>{var z,$;return(z=($=C.capturedMap.get(U))==null?void 0:$.has(E.eventObject))!=null?z:!1},O=U=>{const z={intersection:E,target:f.target};C.capturedMap.has(U)?C.capturedMap.get(U).set(E.eventObject,z):C.capturedMap.set(U,new Map([[E.eventObject,z]])),f.target.setPointerCapture(U)},B=U=>{const z=C.capturedMap.get(U);z&&tG(C.capturedMap,E.eventObject,z,U)};let P={};for(let U in f){let z=f[U];typeof z!="function"&&(P[U]=z)}let F={...E,...P,pointer:g,intersections:u,stopped:_.stopped,delta:m,unprojectedPoint:T,ray:p.ray,camera:b,stopPropagation(){const U="pointerId"in f&&C.capturedMap.get(f.pointerId);if((!U||U.has(E.eventObject))&&(F.stopped=_.stopped=!0,C.hovered.size&&Array.from(C.hovered.values()).find(z=>z.eventObject===E.eventObject))){const z=u.slice(0,u.indexOf(E));o([...z,E])}},target:{hasPointerCapture:M,setPointerCapture:O,releasePointerCapture:B},currentTarget:{hasPointerCapture:M,setPointerCapture:O,releasePointerCapture:B},nativeEvent:f};if(y(F),_.stopped===!0)break}}}return u}function o(u){const{internal:f}=n.getState();for(const m of f.hovered.values())if(!u.length||!u.find(y=>y.object===m.object&&y.index===m.index&&y.instanceId===m.instanceId)){const _=m.eventObject.__r3f;if(f.hovered.delete(gC(m)),_!=null&&_.eventCount){const E=_.handlers,c={...m,intersections:u};E.onPointerOut==null||E.onPointerOut(c),E.onPointerLeave==null||E.onPointerLeave(c)}}}function l(u,f){for(let m=0;m<f.length;m++){const y=f[m].__r3f;y==null||y.handlers.onPointerMissed==null||y.handlers.onPointerMissed(u)}}function s(u){switch(u){case"onPointerLeave":case"onPointerCancel":return()=>o([]);case"onLostPointerCapture":return f=>{const{internal:m}=n.getState();"pointerId"in f&&m.capturedMap.has(f.pointerId)&&requestAnimationFrame(()=>{m.capturedMap.has(f.pointerId)&&(m.capturedMap.delete(f.pointerId),o([]))})}}return function(m){const{onPointerMissed:y,internal:_}=n.getState();_.lastEvent.current=m;const E=u==="onPointerMove",c=u==="onClick"||u==="onContextMenu"||u==="onDoubleClick",g=r(m,E?t:void 0),b=c?e(m):0;u==="onPointerDown"&&(_.initialClick=[m.offsetX,m.offsetY],_.initialHits=g.map(T=>T.eventObject)),c&&!g.length&&b<=2&&(l(m,_.interaction),y&&y(m)),E&&o(g);function C(T){const M=T.eventObject,O=M.__r3f;if(!(O!=null&&O.eventCount))return;const B=O.handlers;if(E){if(B.onPointerOver||B.onPointerEnter||B.onPointerOut||B.onPointerLeave){const P=gC(T),F=_.hovered.get(P);F?F.stopped&&T.stopPropagation():(_.hovered.set(P,T),B.onPointerOver==null||B.onPointerOver(T),B.onPointerEnter==null||B.onPointerEnter(T))}B.onPointerMove==null||B.onPointerMove(T)}else{const P=B[u];P?(!c||_.initialHits.includes(M))&&(l(m,_.interaction.filter(F=>!_.initialHits.includes(F))),P(T)):c&&_.initialHits.includes(M)&&l(m,_.interaction.filter(F=>!_.initialHits.includes(F)))}}a(g,m,b,C)}}return{handlePointer:s}}const BN=n=>!!(n!=null&&n.render),nG=w.createContext(null),Pfe=(n,e)=>{const t=ofe((s,u)=>{const f=new be,m=new be,y=new be;function _(b=u().camera,C=m,T=u().size){const{width:M,height:O,top:B,left:P}=T,F=M/O;C.isVector3?y.copy(C):y.set(...C);const U=b.getWorldPosition(f).distanceTo(y);if(J6(b))return{width:M/b.zoom,height:O/b.zoom,top:B,left:P,factor:1,distance:U,aspect:F};{const z=b.fov*Math.PI/180,$=2*Math.tan(z/2)*U,J=$*(M/O);return{width:J,height:$,top:B,left:P,factor:M/J,distance:U,aspect:F}}}let E;const c=b=>s(C=>({performance:{...C.performance,current:b}})),p=new Tt;return{set:s,get:u,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(b=1)=>n(u(),b),advance:(b,C)=>e(b,C,u()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new YI,pointer:p,mouse:p,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const b=u();E&&clearTimeout(E),b.performance.current!==b.performance.min&&c(b.performance.min),E=setTimeout(()=>c(u().performance.max),b.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:_},setEvents:b=>s(C=>({...C,events:{...C.events,...b}})),setSize:(b,C,T=0,M=0)=>{const O=u().camera,B={width:b,height:C,top:T,left:M};s(P=>({size:B,viewport:{...P.viewport,..._(O,m,B)}}))},setDpr:b=>s(C=>{const T=Z6(b);return{viewport:{...C.viewport,dpr:T,initialDpr:C.viewport.initialDpr||T}}}),setFrameloop:(b="always")=>{const C=u().clock;C.stop(),C.elapsedTime=0,b!=="never"&&(C.start(),C.elapsedTime=0),s(()=>({frameloop:b}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:w.createRef(),active:!1,frames:0,priority:0,subscribe:(b,C,T)=>{const M=u().internal;return M.priority=M.priority+(C>0?1:0),M.subscribers.push({ref:b,priority:C,store:T}),M.subscribers=M.subscribers.sort((O,B)=>O.priority-B.priority),()=>{const O=u().internal;O!=null&&O.subscribers&&(O.priority=O.priority-(C>0?1:0),O.subscribers=O.subscribers.filter(B=>B.ref!==b))}}}}}),r=t.getState();let a=r.size,o=r.viewport.dpr,l=r.camera;return t.subscribe(()=>{const{camera:s,size:u,viewport:f,gl:m,set:y}=t.getState();if(u.width!==a.width||u.height!==a.height||f.dpr!==o){a=u,o=f.dpr,Ife(s,u),f.dpr>0&&m.setPixelRatio(f.dpr);const _=typeof HTMLCanvasElement<"u"&&m.domElement instanceof HTMLCanvasElement;m.setSize(u.width,u.height,_)}s!==l&&(l=s,y(_=>({viewport:{..._.viewport,..._.viewport.getCurrentViewport(s)}})))}),t.subscribe(s=>n(s)),t};function iG(){const n=w.useContext(nG);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Gd(n=t=>t,e){return iG()(n,e)}function Lfe(n,e=0){const t=iG(),r=t.getState().internal.subscribe,a=Q6(n);return XS(()=>r(a,e,t),[e,r,t]),null}const DN=new WeakMap,Nfe=n=>{var e;return typeof n=="function"&&(n==null||(e=n.prototype)==null?void 0:e.constructor)===n};function rG(n,e){return function(t,...r){let a;return Nfe(t)?(a=DN.get(t),a||(a=new t,DN.set(t,a))):a=t,n&&n(a),Promise.all(r.map(o=>new Promise((l,s)=>a.load(o,u=>{as(u==null?void 0:u.scene)&&Object.assign(u,Efe(u.scene)),l(u)},e,u=>s(new Error(`Could not load ${o}: ${u==null?void 0:u.message}`))))))}}function YS(n,e,t,r){const a=Array.isArray(e)?e:[e],o=ffe(rG(t,r),[n,...a],{equal:Pr.equ});return Array.isArray(e)?o:o[0]}YS.preload=function(n,e,t){const r=Array.isArray(e)?e:[e];return hfe(rG(t),[n,...r])};YS.clear=function(n,e){const t=Array.isArray(e)?e:[e];return pfe([n,...t])};function zfe(n){const e=ufe(n);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:w.version}),e}const aG=0,b0={},Ufe=/^three(?=[A-Z])/,gA=n=>`${n[0].toUpperCase()}${n.slice(1)}`;let Ffe=0;const Hfe=n=>typeof n=="function";function Gfe(n){if(Hfe(n)){const e=`${Ffe++}`;return b0[e]=n,e}else Object.assign(b0,n)}function oG(n,e){const t=gA(n),r=b0[t];if(n!=="primitive"&&!r)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function kfe(n,e,t){var r;return n=gA(n)in b0?n:n.replace(Ufe,""),oG(n,e),n==="primitive"&&(r=e.object)!=null&&r.__r3f&&delete e.object.__r3f,PE(e.object,t,n,e)}function $fe(n){if(!n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?NE(n.parent,n):as(n.object)&&(n.object.visible=!1),n.isHidden=!0,U0(n)}}function sG(n){if(n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?LE(n.parent,n):as(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,U0(n)}}function nB(n,e,t){const r=e.root.getState();if(!(!n.parent&&n.object!==r.scene)){if(!e.object){var a,o;const l=b0[gA(e.type)];e.object=(a=e.props.object)!=null?a:new l(...(o=e.props.args)!=null?o:[]),e.object.__r3f=e}if(Ch(e.object,e.props),e.props.attach)LE(n,e);else if(as(e.object)&&as(n.object)){const l=n.object.children.indexOf(t==null?void 0:t.object);if(t&&l!==-1){const s=n.object.children.indexOf(e.object);if(s!==-1){n.object.children.splice(s,1);const u=s<l?l-1:l;n.object.children.splice(u,0,e.object)}else e.object.parent=n.object,n.object.children.splice(l,0,e.object),e.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:e.object})}else n.object.add(e.object)}for(const l of e.children)nB(e,l);U0(e)}}function kT(n,e){e&&(e.parent=n,n.children.push(e),nB(n,e))}function PN(n,e,t){if(!e||!t)return;e.parent=n;const r=n.children.indexOf(t);r!==-1?n.children.splice(r,0,e):n.children.push(e),nB(n,e,t)}function lG(n){if(typeof n.dispose=="function"){const e=()=>{try{n.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():RN.unstable_scheduleCallback(RN.unstable_IdlePriority,e)}}function G2(n,e,t){if(!e)return;e.parent=null;const r=n.children.indexOf(e);r!==-1&&n.children.splice(r,1),e.props.attach?NE(n,e):as(e.object)&&as(n.object)&&(n.object.remove(e.object),Bfe(K6(e),e.object));const a=e.props.dispose!==null&&t!==!1;for(let o=e.children.length-1;o>=0;o--){const l=e.children[o];G2(e,l,a)}e.children.length=0,delete e.object.__r3f,a&&e.type!=="primitive"&&e.object.type!=="Scene"&&lG(e.object),t===void 0&&U0(e)}function Vfe(n,e){for(const t of[n,n.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const r=t.ref(e);typeof r=="function"&&(t.refCleanup=r)}else t.ref&&(t.ref.current=e)}const XC=[];function jfe(){for(const[t]of XC){const r=t.parent;if(r){t.props.attach?NE(r,t):as(t.object)&&as(r.object)&&r.object.remove(t.object);for(const a of t.children)a.props.attach?NE(t,a):as(a.object)&&as(t.object)&&t.object.remove(a.object)}t.isHidden&&sG(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&lG(t.object)}for(const[t,r,a]of XC){t.props=r;const o=t.parent;if(o){var n,e;const l=b0[gA(t.type)];t.object=(n=t.props.object)!=null?n:new l(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,Vfe(a,t.object),Ch(t.object,t.props),t.props.attach?LE(o,t):as(t.object)&&as(o.object)&&o.object.add(t.object);for(const s of t.children)s.props.attach?LE(t,s):as(s.object)&&as(t.object)&&t.object.add(s.object);U0(t)}}XC.length=0}const $T=()=>{},LN={};let vC=aG;const Wfe=0,Xfe=4,k2=zfe({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:kfe,removeChild:G2,appendChild:kT,appendInitialChild:kT,insertBefore:PN,appendChildToContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||kT(t,e)},removeChildFromContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||G2(t,e)},insertInContainerBefore(n,e,t){const r=n.getState().scene.__r3f;!e||!t||!r||PN(r,e,t)},getRootHostContext:()=>LN,getChildHostContext:()=>LN,commitUpdate(n,e,t,r,a){var o,l,s;oG(e,r);let u=!1;if((n.type==="primitive"&&t.object!==r.object||((o=r.args)==null?void 0:o.length)!==((l=t.args)==null?void 0:l.length)||(s=r.args)!=null&&s.some((m,y)=>{var _;return m!==((_=t.args)==null?void 0:_[y])}))&&(u=!0),u)XC.push([n,{...r},a]);else{const m=Tfe(n,r);Object.keys(m).length&&(Object.assign(n.props,m),Ch(n.object,m))}(a.sibling===null||(a.flags&Xfe)===Wfe)&&jfe()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n==null?void 0:n.object,prepareForCommit:()=>null,preparePortalMount:n=>PE(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:$fe,unhideInstance:sG,createTextInstance:$T,hideTextInstance:$T,unhideTextInstance:$T,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:w.createContext(null),setCurrentUpdatePriority(n){vC=n},getCurrentUpdatePriority(){return vC},resolveUpdatePriority(){var n;if(vC!==aG)return vC;switch(typeof window<"u"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return WC.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return WC.ContinuousEventPriority;default:return WC.DefaultEventPriority}},resetFormInstance(){}}),Bm=new Map,ov={objects:"shallow",strict:!1};function Yfe(n,e){if(!e&&typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:r,top:a,left:o}=n.parentElement.getBoundingClientRect();return{width:t,height:r,top:a,left:o}}else if(!e&&typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function qfe(n){const e=Bm.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const a=typeof reportError=="function"?reportError:console.error,o=r||Pfe(j2,zN),l=t||k2.createContainer(o,WC.ConcurrentRoot,null,!1,null,"",a,a,a,null);e||Bm.set(n,{fiber:l,store:o});let s,u,f=!1,m=null;return{async configure(y={}){let _;m=new Promise(ie=>_=ie);let{gl:E,size:c,scene:p,events:g,onCreated:b,shadows:C=!1,linear:T=!1,flat:M=!1,legacy:O=!1,orthographic:B=!1,frameloop:P="always",dpr:F=[1,2],performance:U,raycaster:z,camera:$,onPointerMissed:J}=y,W=o.getState(),Q=W.gl;if(!W.gl){const ie={canvas:n,powerPreference:"high-performance",antialias:!0,alpha:!0},he=typeof E=="function"?await E(ie):E;BN(he)?Q=he:Q=new V6({...ie,...E}),W.set({gl:Q})}let ae=W.raycaster;ae||W.set({raycaster:ae=new N6});const{params:Y,...K}=z||{};if(Pr.equ(K,ae,ov)||Ch(ae,{...K}),Pr.equ(Y,ae.params,ov)||Ch(ae,{params:{...ae.params,...Y}}),!W.camera||W.camera===u&&!Pr.equ(u,$,ov)){u=$;const ie=$==null?void 0:$.isCamera,he=ie?$:B?new uf(0,0,0,0,.1,1e3):new Xr(75,0,.1,1e3);ie||(he.position.z=5,$&&(Ch(he,$),he.manual||("aspect"in $||"left"in $||"right"in $||"bottom"in $||"top"in $)&&(he.manual=!0,he.updateProjectionMatrix())),!W.camera&&!($!=null&&$.rotation)&&he.lookAt(0,0,0)),W.set({camera:he}),ae.camera=he}if(!W.scene){let ie;p!=null&&p.isScene?(ie=p,PE(ie,o,"",{})):(ie=new EI,PE(ie,o,"",{}),p&&Ch(ie,p)),W.set({scene:ie})}g&&!W.events.handlers&&W.set({events:g(o)});const ee=Yfe(n,c);if(Pr.equ(ee,W.size,ov)||W.setSize(ee.width,ee.height,ee.top,ee.left),F&&W.viewport.dpr!==Z6(F)&&W.setDpr(F),W.frameloop!==P&&W.setFrameloop(P),W.onPointerMissed||W.set({onPointerMissed:J}),U&&!Pr.equ(U,W.performance,ov)&&W.set(ie=>({performance:{...ie.performance,...U}})),!W.xr){var de;const ie=(Z,pe)=>{const _e=o.getState();_e.frameloop!=="never"&&zN(Z,!0,_e,pe)},he=()=>{const Z=o.getState();Z.gl.xr.enabled=Z.gl.xr.isPresenting,Z.gl.xr.setAnimationLoop(Z.gl.xr.isPresenting?ie:null),Z.gl.xr.isPresenting||j2(Z)},fe={connect(){const Z=o.getState().gl;Z.xr.addEventListener("sessionstart",he),Z.xr.addEventListener("sessionend",he)},disconnect(){const Z=o.getState().gl;Z.xr.removeEventListener("sessionstart",he),Z.xr.removeEventListener("sessionend",he)}};typeof((de=Q.xr)==null?void 0:de.addEventListener)=="function"&&fe.connect(),W.set({xr:fe})}if(Q.shadowMap){const ie=Q.shadowMap.enabled,he=Q.shadowMap.type;if(Q.shadowMap.enabled=!!C,Pr.boo(C))Q.shadowMap.type=Rb;else if(Pr.str(C)){var q;const fe={basic:JH,percentage:Nw,soft:Rb,variance:Mc};Q.shadowMap.type=(q=fe[C])!=null?q:Rb}else Pr.obj(C)&&Object.assign(Q.shadowMap,C);(ie!==Q.shadowMap.enabled||he!==Q.shadowMap.type)&&(Q.shadowMap.needsUpdate=!0)}return Ii.enabled=!O,f||(Q.outputColorSpace=T?Hh:Po,Q.toneMapping=M?Wu:lI),W.legacy!==O&&W.set(()=>({legacy:O})),W.linear!==T&&W.set(()=>({linear:T})),W.flat!==M&&W.set(()=>({flat:M})),E&&!Pr.fun(E)&&!BN(E)&&!Pr.equ(E,Q,ov)&&Ch(Q,E),s=b,f=!0,_(),this},render(y){return!f&&!m&&this.configure(),m.then(()=>{k2.updateContainer(ke.jsx(Kfe,{store:o,children:y,onCreated:s,rootElement:n}),l,null,()=>{})}),o},unmount(){cG(n)}}}function Kfe({store:n,children:e,onCreated:t,rootElement:r}){return XS(()=>{const a=n.getState();a.set(o=>({internal:{...o.internal,active:!0}})),t&&t(a),n.getState().events.connected||a.events.connect==null||a.events.connect(r)},[]),ke.jsx(nG.Provider,{value:n,children:e})}function cG(n,e){const t=Bm.get(n),r=t==null?void 0:t.fiber;if(r){const a=t==null?void 0:t.store.getState();a&&(a.internal.active=!1),k2.updateContainer(null,r,null,()=>{a&&setTimeout(()=>{try{var o,l,s,u;a.events.disconnect==null||a.events.disconnect(),(o=a.gl)==null||(l=o.renderLists)==null||l.dispose==null||l.dispose(),(s=a.gl)==null||s.forceContextLoss==null||s.forceContextLoss(),(u=a.gl)!=null&&u.xr&&a.xr.disconnect(),wfe(a.scene),Bm.delete(n)}catch{}},500)})}}const Jfe=new Set,Qfe=new Set,Zfe=new Set;function VT(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function Ub(n,e){switch(n){case"before":return VT(Jfe,e);case"after":return VT(Qfe,e);case"tail":return VT(Zfe,e)}}let jT,WT;function $2(n,e,t){let r=e.clock.getDelta();e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),jT=e.internal.subscribers;for(let a=0;a<jT.length;a++)WT=jT[a],WT.ref.current(WT.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let zE=!1,V2=!1,XT,NN,sv;function uG(n){NN=requestAnimationFrame(uG),zE=!0,XT=0,Ub("before",n),V2=!0;for(const t of Bm.values()){var e;sv=t.store.getState(),sv.internal.active&&(sv.frameloop==="always"||sv.internal.frames>0)&&!((e=sv.gl.xr)!=null&&e.isPresenting)&&(XT+=$2(n,sv))}if(V2=!1,Ub("after",n),XT===0)return Ub("tail",n),zE=!1,cancelAnimationFrame(NN)}function j2(n,e=1){var t;if(!n)return Bm.forEach(r=>j2(r.store.getState(),e));(t=n.gl.xr)!=null&&t.isPresenting||!n.internal.active||n.frameloop==="never"||(e>1?n.internal.frames=Math.min(60,n.internal.frames+e):V2?n.internal.frames=2:n.internal.frames=1,zE||(zE=!0,requestAnimationFrame(uG)))}function zN(n,e=!0,t,r){if(e&&Ub("before",n),t)$2(n,t,r);else for(const a of Bm.values())$2(n,a.store.getState());e&&Ub("after",n)}const YT={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function ehe(n){const{handlePointer:e}=Dfe(n);return{priority:1,enabled:!0,compute(t,r,a){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(YT).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:a}=n.getState();(t=a.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(a.lastEvent.current)},connect:t=>{const{set:r,events:a}=n.getState();if(a.disconnect==null||a.disconnect(),r(o=>({events:{...o.events,connected:t}})),a.handlers)for(const o in a.handlers){const l=a.handlers[o],[s,u]=YT[o];t.addEventListener(s,l,{passive:u})}},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){if(r.handlers)for(const a in r.handlers){const o=r.handlers[a],[l]=YT[a];r.connected.removeEventListener(l,o)}t(a=>({events:{...a.events,connected:void 0}}))}}}}function UN(n,e){let t;return(...r)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...r),e)}}function the({debounce:n,scroll:e,polyfill:t,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const a=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!a)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,l]=w.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),s=w.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o,orientationHandler:null}),u=n?typeof n=="number"?n:n.scroll:null,f=n?typeof n=="number"?n:n.resize:null,m=w.useRef(!1);w.useEffect(()=>(m.current=!0,()=>void(m.current=!1)));const[y,_,E]=w.useMemo(()=>{const b=()=>{if(!s.current.element)return;const{left:C,top:T,width:M,height:O,bottom:B,right:P,x:F,y:U}=s.current.element.getBoundingClientRect(),z={left:C,top:T,width:M,height:O,bottom:B,right:P,x:F,y:U};s.current.element instanceof HTMLElement&&r&&(z.height=s.current.element.offsetHeight,z.width=s.current.element.offsetWidth),Object.freeze(z),m.current&&!ahe(s.current.lastBounds,z)&&l(s.current.lastBounds=z)};return[b,f?UN(b,f):b,u?UN(b,u):b]},[l,r,u,f]);function c(){s.current.scrollContainers&&(s.current.scrollContainers.forEach(b=>b.removeEventListener("scroll",E,!0)),s.current.scrollContainers=null),s.current.resizeObserver&&(s.current.resizeObserver.disconnect(),s.current.resizeObserver=null),s.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",s.current.orientationHandler))}function p(){s.current.element&&(s.current.resizeObserver=new a(E),s.current.resizeObserver.observe(s.current.element),e&&s.current.scrollContainers&&s.current.scrollContainers.forEach(b=>b.addEventListener("scroll",E,{capture:!0,passive:!0})),s.current.orientationHandler=()=>{E()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",s.current.orientationHandler))}const g=b=>{!b||b===s.current.element||(c(),s.current.element=b,s.current.scrollContainers=dG(b),p())};return ihe(E,!!e),nhe(_),w.useEffect(()=>{c(),p()},[e,E,_]),w.useEffect(()=>c,[]),[g,o,y]}function nhe(n){w.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function ihe(n,e){w.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function dG(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:a}=window.getComputedStyle(n);return[t,r,a].some(o=>o==="auto"||o==="scroll")&&e.push(n),[...e,...dG(n.parentElement)]}const rhe=["x","y","top","bottom","left","right","width","height"],ahe=(n,e)=>rhe.every(t=>n[t]===e[t]);function ohe({ref:n,children:e,fallback:t,resize:r,style:a,gl:o,events:l=ehe,eventSource:s,eventPrefix:u,shadows:f,linear:m,flat:y,legacy:_,orthographic:E,frameloop:c,dpr:p,performance:g,raycaster:b,camera:C,scene:T,onPointerMissed:M,onCreated:O,...B}){w.useMemo(()=>Gfe(Xde),[]);const P=_fe(),[F,U]=the({scroll:!0,debounce:{scroll:50,resize:0},...r}),z=w.useRef(null),$=w.useRef(null);w.useImperativeHandle(n,()=>z.current);const J=Q6(M),[W,Q]=w.useState(!1),[ae,Y]=w.useState(!1);if(W)throw W;if(ae)throw ae;const K=w.useRef(null);XS(()=>{const de=z.current;if(U.width>0&&U.height>0&&de){K.current||(K.current=qfe(de));async function q(){await K.current.configure({gl:o,scene:T,events:l,shadows:f,linear:m,flat:y,legacy:_,orthographic:E,frameloop:c,dpr:p,performance:g,raycaster:b,camera:C,size:U,onPointerMissed:(...ie)=>J.current==null?void 0:J.current(...ie),onCreated:ie=>{ie.events.connect==null||ie.events.connect(s?bfe(s)?s.current:s:$.current),u&&ie.setEvents({compute:(he,fe)=>{const Z=he[u+"X"],pe=he[u+"Y"];fe.pointer.set(Z/fe.size.width*2-1,-(pe/fe.size.height)*2+1),fe.raycaster.setFromCamera(fe.pointer,fe.camera)}}),O==null||O(ie)}}),K.current.render(ke.jsx(P,{children:ke.jsx(Cfe,{set:Y,children:ke.jsx(w.Suspense,{fallback:ke.jsx(xfe,{set:Q}),children:e??null})})}))}q()}}),w.useEffect(()=>{const de=z.current;if(de)return()=>cG(de)},[]);const ee=s?"none":"auto";return ke.jsx("div",{ref:$,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:ee,...a},...B,children:ke.jsx("div",{ref:F,style:{width:"100%",height:"100%"},children:ke.jsx("canvas",{ref:z,style:{display:"block"},children:t})})})}function she(n){return ke.jsx(Y6,{children:ke.jsx(ohe,{...n})})}const lhe=parseInt(LS.replace(/\D+/g,""));function FN(n,e){if(e===T8)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===OE||e===bI){let t=n.getIndex();if(t===null){const l=[],s=n.getAttribute("position");if(s!==void 0){for(let u=0;u<s.count;u++)l.push(u);n.setIndex(l),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const r=t.count-2,a=[];if(t)if(e===OE)for(let l=1;l<=r;l++)a.push(t.getX(0)),a.push(t.getX(l)),a.push(t.getX(l+1));else for(let l=0;l<r;l++)l%2===0?(a.push(t.getX(l)),a.push(t.getX(l+1)),a.push(t.getX(l+2))):(a.push(t.getX(l+2)),a.push(t.getX(l+1)),a.push(t.getX(l)));a.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const o=n.clone();return o.setIndex(a),o.clearGroups(),o}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}var che=Object.defineProperty,uhe=(n,e,t)=>e in n?che(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,dhe=(n,e,t)=>(uhe(n,e+"",t),t);class fhe{constructor(){dhe(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const a=this._listeners[e];if(a!==void 0){const o=a.indexOf(t);o!==-1&&a.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const a=r.slice(0);for(let o=0,l=a.length;o<l;o++)a[o].call(this,e);e.target=null}}}var hhe=Object.defineProperty,phe=(n,e,t)=>e in n?hhe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Bn=(n,e,t)=>(phe(n,typeof e!="symbol"?e+"":e,t),t);const yC=new Gm,HN=new Qd,mhe=Math.cos(70*(Math.PI/180)),GN=(n,e)=>(n%e+e)%e;let ghe=class extends fhe{constructor(e,t){super(),Bn(this,"object"),Bn(this,"domElement"),Bn(this,"enabled",!0),Bn(this,"target",new be),Bn(this,"minDistance",0),Bn(this,"maxDistance",1/0),Bn(this,"minZoom",0),Bn(this,"maxZoom",1/0),Bn(this,"minPolarAngle",0),Bn(this,"maxPolarAngle",Math.PI),Bn(this,"minAzimuthAngle",-1/0),Bn(this,"maxAzimuthAngle",1/0),Bn(this,"enableDamping",!1),Bn(this,"dampingFactor",.05),Bn(this,"enableZoom",!0),Bn(this,"zoomSpeed",1),Bn(this,"enableRotate",!0),Bn(this,"rotateSpeed",1),Bn(this,"enablePan",!0),Bn(this,"panSpeed",1),Bn(this,"screenSpacePanning",!0),Bn(this,"keyPanSpeed",7),Bn(this,"zoomToCursor",!1),Bn(this,"autoRotate",!1),Bn(this,"autoRotateSpeed",2),Bn(this,"reverseOrbit",!1),Bn(this,"reverseHorizontalOrbit",!1),Bn(this,"reverseVerticalOrbit",!1),Bn(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Bn(this,"mouseButtons",{LEFT:Fp.ROTATE,MIDDLE:Fp.DOLLY,RIGHT:Fp.PAN}),Bn(this,"touches",{ONE:Hp.ROTATE,TWO:Hp.DOLLY_PAN}),Bn(this,"target0"),Bn(this,"position0"),Bn(this,"zoom0"),Bn(this,"_domElementKeyEvents",null),Bn(this,"getPolarAngle"),Bn(this,"getAzimuthalAngle"),Bn(this,"setPolarAngle"),Bn(this,"setAzimuthalAngle"),Bn(this,"getDistance"),Bn(this,"getZoomScale"),Bn(this,"listenToKeyEvents"),Bn(this,"stopListenToKeyEvents"),Bn(this,"saveState"),Bn(this,"reset"),Bn(this,"update"),Bn(this,"connect"),Bn(this,"dispose"),Bn(this,"dollyIn"),Bn(this,"dollyOut"),Bn(this,"getScale"),Bn(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>m.phi,this.getAzimuthalAngle=()=>m.theta,this.setPolarAngle=Se=>{let Ge=GN(Se,2*Math.PI),St=m.phi;St<0&&(St+=2*Math.PI),Ge<0&&(Ge+=2*Math.PI);let Ae=Math.abs(Ge-St);2*Math.PI-Ae<Ae&&(Ge<St?Ge+=2*Math.PI:St+=2*Math.PI),y.phi=Ge-St,r.update()},this.setAzimuthalAngle=Se=>{let Ge=GN(Se,2*Math.PI),St=m.theta;St<0&&(St+=2*Math.PI),Ge<0&&(Ge+=2*Math.PI);let Ae=Math.abs(Ge-St);2*Math.PI-Ae<Ae&&(Ge<St?Ge+=2*Math.PI:St+=2*Math.PI),y.theta=Ge-St,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=Se=>{Se.addEventListener("keydown",lt),this._domElementKeyEvents=Se},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",lt),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(a),r.update(),u=s.NONE},this.update=(()=>{const Se=new be,Ge=new be(0,1,0),St=new eo().setFromUnitVectors(e.up,Ge),Ae=St.clone().invert(),xt=new be,et=new eo,mt=2*Math.PI;return function(){const Bt=r.object.position;St.setFromUnitVectors(e.up,Ge),Ae.copy(St).invert(),Se.copy(Bt).sub(r.target),Se.applyQuaternion(St),m.setFromVector3(Se),r.autoRotate&&u===s.NONE&&Q(J()),r.enableDamping?(m.theta+=y.theta*r.dampingFactor,m.phi+=y.phi*r.dampingFactor):(m.theta+=y.theta,m.phi+=y.phi);let Qt=r.minAzimuthAngle,sn=r.maxAzimuthAngle;isFinite(Qt)&&isFinite(sn)&&(Qt<-Math.PI?Qt+=mt:Qt>Math.PI&&(Qt-=mt),sn<-Math.PI?sn+=mt:sn>Math.PI&&(sn-=mt),Qt<=sn?m.theta=Math.max(Qt,Math.min(sn,m.theta)):m.theta=m.theta>(Qt+sn)/2?Math.max(Qt,m.theta):Math.min(sn,m.theta)),m.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,m.phi)),m.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(E,r.dampingFactor):r.target.add(E),r.zoomToCursor&&U||r.object.isOrthographicCamera?m.radius=fe(m.radius):m.radius=fe(m.radius*_),Se.setFromSpherical(m),Se.applyQuaternion(Ae),Bt.copy(r.target).add(Se),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(y.theta*=1-r.dampingFactor,y.phi*=1-r.dampingFactor,E.multiplyScalar(1-r.dampingFactor)):(y.set(0,0,0),E.set(0,0,0));let Yt=!1;if(r.zoomToCursor&&U){let Lt=null;if(r.object instanceof Xr&&r.object.isPerspectiveCamera){const Xt=Se.length();Lt=fe(Xt*_);const yn=Xt-Lt;r.object.position.addScaledVector(P,yn),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const Xt=new be(F.x,F.y,0);Xt.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/_)),r.object.updateProjectionMatrix(),Yt=!0;const yn=new be(F.x,F.y,0);yn.unproject(r.object),r.object.position.sub(yn).add(Xt),r.object.updateMatrixWorld(),Lt=Se.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;Lt!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(Lt).add(r.object.position):(yC.origin.copy(r.object.position),yC.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(yC.direction))<mhe?e.lookAt(r.target):(HN.setFromNormalAndCoplanarPoint(r.object.up,r.target),yC.intersectPlane(HN,r.target))))}else r.object instanceof uf&&r.object.isOrthographicCamera&&(Yt=_!==1,Yt&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/_)),r.object.updateProjectionMatrix()));return _=1,U=!1,Yt||xt.distanceToSquared(r.object.position)>f||8*(1-et.dot(r.object.quaternion))>f?(r.dispatchEvent(a),xt.copy(r.object.position),et.copy(r.object.quaternion),Yt=!1,!0):!1}})(),this.connect=Se=>{r.domElement=Se,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",ot),r.domElement.addEventListener("pointerdown",oe),r.domElement.addEventListener("pointercancel",De),r.domElement.addEventListener("wheel",gt)},this.dispose=()=>{var Se,Ge,St,Ae,xt,et;r.domElement&&(r.domElement.style.touchAction="auto"),(Se=r.domElement)==null||Se.removeEventListener("contextmenu",ot),(Ge=r.domElement)==null||Ge.removeEventListener("pointerdown",oe),(St=r.domElement)==null||St.removeEventListener("pointercancel",De),(Ae=r.domElement)==null||Ae.removeEventListener("wheel",gt),(xt=r.domElement)==null||xt.ownerDocument.removeEventListener("pointermove",Ee),(et=r.domElement)==null||et.ownerDocument.removeEventListener("pointerup",De),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",lt)};const r=this,a={type:"change"},o={type:"start"},l={type:"end"},s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let u=s.NONE;const f=1e-6,m=new N2,y=new N2;let _=1;const E=new be,c=new Tt,p=new Tt,g=new Tt,b=new Tt,C=new Tt,T=new Tt,M=new Tt,O=new Tt,B=new Tt,P=new be,F=new Tt;let U=!1;const z=[],$={};function J(){return 2*Math.PI/60/60*r.autoRotateSpeed}function W(){return Math.pow(.95,r.zoomSpeed)}function Q(Se){r.reverseOrbit||r.reverseHorizontalOrbit?y.theta+=Se:y.theta-=Se}function ae(Se){r.reverseOrbit||r.reverseVerticalOrbit?y.phi+=Se:y.phi-=Se}const Y=(()=>{const Se=new be;return function(St,Ae){Se.setFromMatrixColumn(Ae,0),Se.multiplyScalar(-St),E.add(Se)}})(),K=(()=>{const Se=new be;return function(St,Ae){r.screenSpacePanning===!0?Se.setFromMatrixColumn(Ae,1):(Se.setFromMatrixColumn(Ae,0),Se.crossVectors(r.object.up,Se)),Se.multiplyScalar(St),E.add(Se)}})(),ee=(()=>{const Se=new be;return function(St,Ae){const xt=r.domElement;if(xt&&r.object instanceof Xr&&r.object.isPerspectiveCamera){const et=r.object.position;Se.copy(et).sub(r.target);let mt=Se.length();mt*=Math.tan(r.object.fov/2*Math.PI/180),Y(2*St*mt/xt.clientHeight,r.object.matrix),K(2*Ae*mt/xt.clientHeight,r.object.matrix)}else xt&&r.object instanceof uf&&r.object.isOrthographicCamera?(Y(St*(r.object.right-r.object.left)/r.object.zoom/xt.clientWidth,r.object.matrix),K(Ae*(r.object.top-r.object.bottom)/r.object.zoom/xt.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function de(Se){r.object instanceof Xr&&r.object.isPerspectiveCamera||r.object instanceof uf&&r.object.isOrthographicCamera?_=Se:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function q(Se){de(_/Se)}function ie(Se){de(_*Se)}function he(Se){if(!r.zoomToCursor||!r.domElement)return;U=!0;const Ge=r.domElement.getBoundingClientRect(),St=Se.clientX-Ge.left,Ae=Se.clientY-Ge.top,xt=Ge.width,et=Ge.height;F.x=St/xt*2-1,F.y=-(Ae/et)*2+1,P.set(F.x,F.y,1).unproject(r.object).sub(r.object.position).normalize()}function fe(Se){return Math.max(r.minDistance,Math.min(r.maxDistance,Se))}function Z(Se){c.set(Se.clientX,Se.clientY)}function pe(Se){he(Se),M.set(Se.clientX,Se.clientY)}function _e(Se){b.set(Se.clientX,Se.clientY)}function Oe(Se){p.set(Se.clientX,Se.clientY),g.subVectors(p,c).multiplyScalar(r.rotateSpeed);const Ge=r.domElement;Ge&&(Q(2*Math.PI*g.x/Ge.clientHeight),ae(2*Math.PI*g.y/Ge.clientHeight)),c.copy(p),r.update()}function we(Se){O.set(Se.clientX,Se.clientY),B.subVectors(O,M),B.y>0?q(W()):B.y<0&&ie(W()),M.copy(O),r.update()}function Te(Se){C.set(Se.clientX,Se.clientY),T.subVectors(C,b).multiplyScalar(r.panSpeed),ee(T.x,T.y),b.copy(C),r.update()}function ze(Se){he(Se),Se.deltaY<0?ie(W()):Se.deltaY>0&&q(W()),r.update()}function yt(Se){let Ge=!1;switch(Se.code){case r.keys.UP:ee(0,r.keyPanSpeed),Ge=!0;break;case r.keys.BOTTOM:ee(0,-r.keyPanSpeed),Ge=!0;break;case r.keys.LEFT:ee(r.keyPanSpeed,0),Ge=!0;break;case r.keys.RIGHT:ee(-r.keyPanSpeed,0),Ge=!0;break}Ge&&(Se.preventDefault(),r.update())}function Be(){if(z.length==1)c.set(z[0].pageX,z[0].pageY);else{const Se=.5*(z[0].pageX+z[1].pageX),Ge=.5*(z[0].pageY+z[1].pageY);c.set(Se,Ge)}}function xe(){if(z.length==1)b.set(z[0].pageX,z[0].pageY);else{const Se=.5*(z[0].pageX+z[1].pageX),Ge=.5*(z[0].pageY+z[1].pageY);b.set(Se,Ge)}}function re(){const Se=z[0].pageX-z[1].pageX,Ge=z[0].pageY-z[1].pageY,St=Math.sqrt(Se*Se+Ge*Ge);M.set(0,St)}function Fe(){r.enableZoom&&re(),r.enablePan&&xe()}function Ie(){r.enableZoom&&re(),r.enableRotate&&Be()}function qe(Se){if(z.length==1)p.set(Se.pageX,Se.pageY);else{const St=rt(Se),Ae=.5*(Se.pageX+St.x),xt=.5*(Se.pageY+St.y);p.set(Ae,xt)}g.subVectors(p,c).multiplyScalar(r.rotateSpeed);const Ge=r.domElement;Ge&&(Q(2*Math.PI*g.x/Ge.clientHeight),ae(2*Math.PI*g.y/Ge.clientHeight)),c.copy(p)}function $e(Se){if(z.length==1)C.set(Se.pageX,Se.pageY);else{const Ge=rt(Se),St=.5*(Se.pageX+Ge.x),Ae=.5*(Se.pageY+Ge.y);C.set(St,Ae)}T.subVectors(C,b).multiplyScalar(r.panSpeed),ee(T.x,T.y),b.copy(C)}function ct(Se){const Ge=rt(Se),St=Se.pageX-Ge.x,Ae=Se.pageY-Ge.y,xt=Math.sqrt(St*St+Ae*Ae);O.set(0,xt),B.set(0,Math.pow(O.y/M.y,r.zoomSpeed)),q(B.y),M.copy(O)}function st(Se){r.enableZoom&&ct(Se),r.enablePan&&$e(Se)}function ce(Se){r.enableZoom&&ct(Se),r.enableRotate&&qe(Se)}function oe(Se){var Ge,St;r.enabled!==!1&&(z.length===0&&((Ge=r.domElement)==null||Ge.ownerDocument.addEventListener("pointermove",Ee),(St=r.domElement)==null||St.ownerDocument.addEventListener("pointerup",De)),_t(Se),Se.pointerType==="touch"?pt(Se):Ke(Se))}function Ee(Se){r.enabled!==!1&&(Se.pointerType==="touch"?It(Se):He(Se))}function De(Se){var Ge,St,Ae;Ct(Se),z.length===0&&((Ge=r.domElement)==null||Ge.releasePointerCapture(Se.pointerId),(St=r.domElement)==null||St.ownerDocument.removeEventListener("pointermove",Ee),(Ae=r.domElement)==null||Ae.ownerDocument.removeEventListener("pointerup",De)),r.dispatchEvent(l),u=s.NONE}function Ke(Se){let Ge;switch(Se.button){case 0:Ge=r.mouseButtons.LEFT;break;case 1:Ge=r.mouseButtons.MIDDLE;break;case 2:Ge=r.mouseButtons.RIGHT;break;default:Ge=-1}switch(Ge){case Fp.DOLLY:if(r.enableZoom===!1)return;pe(Se),u=s.DOLLY;break;case Fp.ROTATE:if(Se.ctrlKey||Se.metaKey||Se.shiftKey){if(r.enablePan===!1)return;_e(Se),u=s.PAN}else{if(r.enableRotate===!1)return;Z(Se),u=s.ROTATE}break;case Fp.PAN:if(Se.ctrlKey||Se.metaKey||Se.shiftKey){if(r.enableRotate===!1)return;Z(Se),u=s.ROTATE}else{if(r.enablePan===!1)return;_e(Se),u=s.PAN}break;default:u=s.NONE}u!==s.NONE&&r.dispatchEvent(o)}function He(Se){if(r.enabled!==!1)switch(u){case s.ROTATE:if(r.enableRotate===!1)return;Oe(Se);break;case s.DOLLY:if(r.enableZoom===!1)return;we(Se);break;case s.PAN:if(r.enablePan===!1)return;Te(Se);break}}function gt(Se){r.enabled===!1||r.enableZoom===!1||u!==s.NONE&&u!==s.ROTATE||(Se.preventDefault(),r.dispatchEvent(o),ze(Se),r.dispatchEvent(l))}function lt(Se){r.enabled===!1||r.enablePan===!1||yt(Se)}function pt(Se){switch(We(Se),z.length){case 1:switch(r.touches.ONE){case Hp.ROTATE:if(r.enableRotate===!1)return;Be(),u=s.TOUCH_ROTATE;break;case Hp.PAN:if(r.enablePan===!1)return;xe(),u=s.TOUCH_PAN;break;default:u=s.NONE}break;case 2:switch(r.touches.TWO){case Hp.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Fe(),u=s.TOUCH_DOLLY_PAN;break;case Hp.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Ie(),u=s.TOUCH_DOLLY_ROTATE;break;default:u=s.NONE}break;default:u=s.NONE}u!==s.NONE&&r.dispatchEvent(o)}function It(Se){switch(We(Se),u){case s.TOUCH_ROTATE:if(r.enableRotate===!1)return;qe(Se),r.update();break;case s.TOUCH_PAN:if(r.enablePan===!1)return;$e(Se),r.update();break;case s.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;st(Se),r.update();break;case s.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;ce(Se),r.update();break;default:u=s.NONE}}function ot(Se){r.enabled!==!1&&Se.preventDefault()}function _t(Se){z.push(Se)}function Ct(Se){delete $[Se.pointerId];for(let Ge=0;Ge<z.length;Ge++)if(z[Ge].pointerId==Se.pointerId){z.splice(Ge,1);return}}function We(Se){let Ge=$[Se.pointerId];Ge===void 0&&(Ge=new Tt,$[Se.pointerId]=Ge),Ge.set(Se.pageX,Se.pageY)}function rt(Se){const Ge=Se.pointerId===z[0].pointerId?z[1]:z[0];return $[Ge.pointerId]}this.dollyIn=(Se=W())=>{ie(Se),r.update()},this.dollyOut=(Se=W())=>{q(Se),r.update()},this.getScale=()=>_,this.setScale=Se=>{de(Se),r.update()},this.getZoomScale=()=>W(),t!==void 0&&this.connect(t),this.update()}};function UE(n){if(typeof TextDecoder<"u")return new TextDecoder().decode(n);let e="";for(let t=0,r=n.length;t<r;t++)e+=String.fromCharCode(n[t]);try{return decodeURIComponent(escape(e))}catch{return e}}const gm="srgb",df="srgb-linear",kN=3001,vhe=3e3;class iB extends Go{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new xhe(t)}),this.register(function(t){return new Che(t)}),this.register(function(t){return new Bhe(t)}),this.register(function(t){return new Dhe(t)}),this.register(function(t){return new Phe(t)}),this.register(function(t){return new whe(t)}),this.register(function(t){return new Ahe(t)}),this.register(function(t){return new Mhe(t)}),this.register(function(t){return new The(t)}),this.register(function(t){return new _he(t)}),this.register(function(t){return new Rhe(t)}),this.register(function(t){return new Ehe(t)}),this.register(function(t){return new Ihe(t)}),this.register(function(t){return new Ohe(t)}),this.register(function(t){return new bhe(t)}),this.register(function(t){return new Lhe(t)}),this.register(function(t){return new Nhe(t)})}load(e,t,r,a){const o=this;let l;if(this.resourcePath!=="")l=this.resourcePath;else if(this.path!==""){const f=Dh.extractUrlBase(e);l=Dh.resolveURL(f,this.path)}else l=Dh.extractUrlBase(e);this.manager.itemStart(e);const s=function(f){a?a(f):console.error(f),o.manager.itemError(e),o.manager.itemEnd(e)},u=new al(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(e,function(f){try{o.parse(f,l,function(m){t(m),o.manager.itemEnd(e)},s)}catch(m){s(m)}},r,s)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,a){let o;const l={},s={};if(typeof e=="string")o=JSON.parse(e);else if(e instanceof ArrayBuffer)if(UE(new Uint8Array(e.slice(0,4)))===fG){try{l[_i.KHR_BINARY_GLTF]=new zhe(e)}catch(m){a&&a(m);return}o=JSON.parse(l[_i.KHR_BINARY_GLTF].content)}else o=JSON.parse(UE(new Uint8Array(e)));else o=e;if(o.asset===void 0||o.asset.version[0]<2){a&&a(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const u=new Khe(o,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(let f=0;f<this.pluginCallbacks.length;f++){const m=this.pluginCallbacks[f](u);m.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),s[m.name]=m,l[m.name]=!0}if(o.extensionsUsed)for(let f=0;f<o.extensionsUsed.length;++f){const m=o.extensionsUsed[f],y=o.extensionsRequired||[];switch(m){case _i.KHR_MATERIALS_UNLIT:l[m]=new She;break;case _i.KHR_DRACO_MESH_COMPRESSION:l[m]=new Uhe(o,this.dracoLoader);break;case _i.KHR_TEXTURE_TRANSFORM:l[m]=new Fhe;break;case _i.KHR_MESH_QUANTIZATION:l[m]=new Hhe;break;default:y.indexOf(m)>=0&&s[m]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+m+'".')}}u.setExtensions(l),u.setPlugins(s),u.parse(r,a)}parseAsync(e,t){const r=this;return new Promise(function(a,o){r.parse(e,t,a,o)})}}function yhe(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const _i={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class bhe{constructor(e){this.parser=e,this.name=_i.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,a=t.length;r<a;r++){const o=t[r];o.extensions&&o.extensions[this.name]&&o.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,o.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let a=t.cache.get(r);if(a)return a;const o=t.json,u=((o.extensions&&o.extensions[this.name]||{}).lights||[])[e];let f;const m=new en(16777215);u.color!==void 0&&m.setRGB(u.color[0],u.color[1],u.color[2],df);const y=u.range!==void 0?u.range:0;switch(u.type){case"directional":f=new WI(m),f.target.position.set(0,0,-1),f.add(f.target);break;case"point":f=new jI(m),f.distance=y;break;case"spot":f=new VI(m),f.distance=y,u.spot=u.spot||{},u.spot.innerConeAngle=u.spot.innerConeAngle!==void 0?u.spot.innerConeAngle:0,u.spot.outerConeAngle=u.spot.outerConeAngle!==void 0?u.spot.outerConeAngle:Math.PI/4,f.angle=u.spot.outerConeAngle,f.penumbra=1-u.spot.innerConeAngle/u.spot.outerConeAngle,f.target.position.set(0,0,-1),f.add(f.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+u.type)}return f.position.set(0,0,0),f.decay=2,qd(f,u),u.intensity!==void 0&&(f.intensity=u.intensity),f.name=t.createUniqueName(u.name||"light_"+e),a=Promise.resolve(f),t.cache.add(r,a),a}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,r=this.parser,o=r.json.nodes[e],s=(o.extensions&&o.extensions[this.name]||{}).light;return s===void 0?null:this._loadLight(s).then(function(u){return r._getNodeRef(t.cache,s,u)})}}class She{constructor(){this.name=_i.KHR_MATERIALS_UNLIT}getMaterialType(){return tl}extendParams(e,t,r){const a=[];e.color=new en(1,1,1),e.opacity=1;const o=t.pbrMetallicRoughness;if(o){if(Array.isArray(o.baseColorFactor)){const l=o.baseColorFactor;e.color.setRGB(l[0],l[1],l[2],df),e.opacity=l[3]}o.baseColorTexture!==void 0&&a.push(r.assignTexture(e,"map",o.baseColorTexture,gm))}return Promise.all(a)}}class _he{constructor(e){this.parser=e,this.name=_i.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const a=this.parser.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const o=a.extensions[this.name].emissiveStrength;return o!==void 0&&(t.emissiveIntensity=o),Promise.resolve()}}class xhe{constructor(e){this.parser=e,this.name=_i.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:kl}extendMaterialParams(e,t){const r=this.parser,a=r.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const o=[],l=a.extensions[this.name];if(l.clearcoatFactor!==void 0&&(t.clearcoat=l.clearcoatFactor),l.clearcoatTexture!==void 0&&o.push(r.assignTexture(t,"clearcoatMap",l.clearcoatTexture)),l.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=l.clearcoatRoughnessFactor),l.clearcoatRoughnessTexture!==void 0&&o.push(r.assignTexture(t,"clearcoatRoughnessMap",l.clearcoatRoughnessTexture)),l.clearcoatNormalTexture!==void 0&&(o.push(r.assignTexture(t,"clearcoatNormalMap",l.clearcoatNormalTexture)),l.clearcoatNormalTexture.scale!==void 0)){const s=l.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Tt(s,s)}return Promise.all(o)}}class Che{constructor(e){this.parser=e,this.name=_i.KHR_MATERIALS_DISPERSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:kl}extendMaterialParams(e,t){const a=this.parser.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const o=a.extensions[this.name];return t.dispersion=o.dispersion!==void 0?o.dispersion:0,Promise.resolve()}}class Ehe{constructor(e){this.parser=e,this.name=_i.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:kl}extendMaterialParams(e,t){const r=this.parser,a=r.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const o=[],l=a.extensions[this.name];return l.iridescenceFactor!==void 0&&(t.iridescence=l.iridescenceFactor),l.iridescenceTexture!==void 0&&o.push(r.assignTexture(t,"iridescenceMap",l.iridescenceTexture)),l.iridescenceIor!==void 0&&(t.iridescenceIOR=l.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),l.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=l.iridescenceThicknessMinimum),l.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=l.iridescenceThicknessMaximum),l.iridescenceThicknessTexture!==void 0&&o.push(r.assignTexture(t,"iridescenceThicknessMap",l.iridescenceThicknessTexture)),Promise.all(o)}}class whe{constructor(e){this.parser=e,this.name=_i.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:kl}extendMaterialParams(e,t){const r=this.parser,a=r.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const o=[];t.sheenColor=new en(0,0,0),t.sheenRoughness=0,t.sheen=1;const l=a.extensions[this.name];if(l.sheenColorFactor!==void 0){const s=l.sheenColorFactor;t.sheenColor.setRGB(s[0],s[1],s[2],df)}return l.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=l.sheenRoughnessFactor),l.sheenColorTexture!==void 0&&o.push(r.assignTexture(t,"sheenColorMap",l.sheenColorTexture,gm)),l.sheenRoughnessTexture!==void 0&&o.push(r.assignTexture(t,"sheenRoughnessMap",l.sheenRoughnessTexture)),Promise.all(o)}}class Ahe{constructor(e){this.parser=e,this.name=_i.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:kl}extendMaterialParams(e,t){const r=this.parser,a=r.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const o=[],l=a.extensions[this.name];return l.transmissionFactor!==void 0&&(t.transmission=l.transmissionFactor),l.transmissionTexture!==void 0&&o.push(r.assignTexture(t,"transmissionMap",l.transmissionTexture)),Promise.all(o)}}class Mhe{constructor(e){this.parser=e,this.name=_i.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:kl}extendMaterialParams(e,t){const r=this.parser,a=r.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const o=[],l=a.extensions[this.name];t.thickness=l.thicknessFactor!==void 0?l.thicknessFactor:0,l.thicknessTexture!==void 0&&o.push(r.assignTexture(t,"thicknessMap",l.thicknessTexture)),t.attenuationDistance=l.attenuationDistance||1/0;const s=l.attenuationColor||[1,1,1];return t.attenuationColor=new en().setRGB(s[0],s[1],s[2],df),Promise.all(o)}}class The{constructor(e){this.parser=e,this.name=_i.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:kl}extendMaterialParams(e,t){const a=this.parser.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const o=a.extensions[this.name];return t.ior=o.ior!==void 0?o.ior:1.5,Promise.resolve()}}class Rhe{constructor(e){this.parser=e,this.name=_i.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:kl}extendMaterialParams(e,t){const r=this.parser,a=r.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const o=[],l=a.extensions[this.name];t.specularIntensity=l.specularFactor!==void 0?l.specularFactor:1,l.specularTexture!==void 0&&o.push(r.assignTexture(t,"specularIntensityMap",l.specularTexture));const s=l.specularColorFactor||[1,1,1];return t.specularColor=new en().setRGB(s[0],s[1],s[2],df),l.specularColorTexture!==void 0&&o.push(r.assignTexture(t,"specularColorMap",l.specularColorTexture,gm)),Promise.all(o)}}class Ohe{constructor(e){this.parser=e,this.name=_i.EXT_MATERIALS_BUMP}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:kl}extendMaterialParams(e,t){const r=this.parser,a=r.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const o=[],l=a.extensions[this.name];return t.bumpScale=l.bumpFactor!==void 0?l.bumpFactor:1,l.bumpTexture!==void 0&&o.push(r.assignTexture(t,"bumpMap",l.bumpTexture)),Promise.all(o)}}class Ihe{constructor(e){this.parser=e,this.name=_i.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:kl}extendMaterialParams(e,t){const r=this.parser,a=r.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const o=[],l=a.extensions[this.name];return l.anisotropyStrength!==void 0&&(t.anisotropy=l.anisotropyStrength),l.anisotropyRotation!==void 0&&(t.anisotropyRotation=l.anisotropyRotation),l.anisotropyTexture!==void 0&&o.push(r.assignTexture(t,"anisotropyMap",l.anisotropyTexture)),Promise.all(o)}}class Bhe{constructor(e){this.parser=e,this.name=_i.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,a=r.textures[e];if(!a.extensions||!a.extensions[this.name])return null;const o=a.extensions[this.name],l=t.options.ktx2Loader;if(!l){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,o.source,l)}}class Dhe{constructor(e){this.parser=e,this.name=_i.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,a=r.json,o=a.textures[e];if(!o.extensions||!o.extensions[t])return null;const l=o.extensions[t],s=a.images[l.source];let u=r.textureLoader;if(s.uri){const f=r.options.manager.getHandler(s.uri);f!==null&&(u=f)}return this.detectSupport().then(function(f){if(f)return r.loadTextureImage(e,l.source,u);if(a.extensionsRequired&&a.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Phe{constructor(e){this.parser=e,this.name=_i.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,a=r.json,o=a.textures[e];if(!o.extensions||!o.extensions[t])return null;const l=o.extensions[t],s=a.images[l.source];let u=r.textureLoader;if(s.uri){const f=r.options.manager.getHandler(s.uri);f!==null&&(u=f)}return this.detectSupport().then(function(f){if(f)return r.loadTextureImage(e,l.source,u);if(a.extensionsRequired&&a.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Lhe{constructor(e){this.name=_i.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const a=r.extensions[this.name],o=this.parser.getDependency("buffer",a.buffer),l=this.parser.options.meshoptDecoder;if(!l||!l.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return o.then(function(s){const u=a.byteOffset||0,f=a.byteLength||0,m=a.count,y=a.byteStride,_=new Uint8Array(s,u,f);return l.decodeGltfBufferAsync?l.decodeGltfBufferAsync(m,y,_,a.mode,a.filter).then(function(E){return E.buffer}):l.ready.then(function(){const E=new ArrayBuffer(m*y);return l.decodeGltfBuffer(new Uint8Array(E),m,y,_,a.mode,a.filter),E})})}else return null}}class Nhe{constructor(e){this.name=_i.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,r=t.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const a=t.meshes[r.mesh];for(const f of a.primitives)if(f.mode!==Ll.TRIANGLES&&f.mode!==Ll.TRIANGLE_STRIP&&f.mode!==Ll.TRIANGLE_FAN&&f.mode!==void 0)return null;const l=r.extensions[this.name].attributes,s=[],u={};for(const f in l)s.push(this.parser.getDependency("accessor",l[f]).then(m=>(u[f]=m,u[f])));return s.length<1?null:(s.push(this.parser.createNodeMesh(e)),Promise.all(s).then(f=>{const m=f.pop(),y=m.isGroup?m.children:[m],_=f[0].count,E=[];for(const c of y){const p=new Pn,g=new be,b=new eo,C=new be(1,1,1),T=new MI(c.geometry,c.material,_);for(let M=0;M<_;M++)u.TRANSLATION&&g.fromBufferAttribute(u.TRANSLATION,M),u.ROTATION&&b.fromBufferAttribute(u.ROTATION,M),u.SCALE&&C.fromBufferAttribute(u.SCALE,M),T.setMatrixAt(M,p.compose(g,b,C));for(const M in u)if(M==="_COLOR_0"){const O=u[M];T.instanceColor=new Mm(O.array,O.itemSize,O.normalized)}else M!=="TRANSLATION"&&M!=="ROTATION"&&M!=="SCALE"&&c.geometry.setAttribute(M,u[M]);Di.prototype.copy.call(T,c),this.parser.assignFinalMaterial(T),E.push(T)}return m.isGroup?(m.clear(),m.add(...E),m):E[0]}))}}const fG="glTF",tb=12,$N={JSON:1313821514,BIN:5130562};class zhe{constructor(e){this.name=_i.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,tb);if(this.header={magic:UE(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==fG)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-tb,a=new DataView(e,tb);let o=0;for(;o<r;){const l=a.getUint32(o,!0);o+=4;const s=a.getUint32(o,!0);if(o+=4,s===$N.JSON){const u=new Uint8Array(e,tb+o,l);this.content=UE(u)}else if(s===$N.BIN){const u=tb+o;this.body=e.slice(u,u+l)}o+=l}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Uhe{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=_i.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,a=this.dracoLoader,o=e.extensions[this.name].bufferView,l=e.extensions[this.name].attributes,s={},u={},f={};for(const m in l){const y=W2[m]||m.toLowerCase();s[y]=l[m]}for(const m in e.attributes){const y=W2[m]||m.toLowerCase();if(l[m]!==void 0){const _=r.accessors[e.attributes[m]],E=Jv[_.componentType];f[y]=E.name,u[y]=_.normalized===!0}}return t.getDependency("bufferView",o).then(function(m){return new Promise(function(y,_){a.decodeDracoFile(m,function(E){for(const c in E.attributes){const p=E.attributes[c],g=u[c];g!==void 0&&(p.normalized=g)}y(E)},s,f,df,_)})})}}class Fhe{constructor(){this.name=_i.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class Hhe{constructor(){this.name=_i.KHR_MESH_QUANTIZATION}}class hG extends N0{constructor(e,t,r,a){super(e,t,r,a)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,a=this.valueSize,o=e*a*3+a;for(let l=0;l!==a;l++)t[l]=r[o+l];return t}interpolate_(e,t,r,a){const o=this.resultBuffer,l=this.sampleValues,s=this.valueSize,u=s*2,f=s*3,m=a-t,y=(r-t)/m,_=y*y,E=_*y,c=e*f,p=c-f,g=-2*E+3*_,b=E-_,C=1-g,T=b-_+y;for(let M=0;M!==s;M++){const O=l[p+M+s],B=l[p+M+u]*m,P=l[c+M+s],F=l[c+M]*m;o[M]=C*O+T*B+g*P+b*F}return o}}const Ghe=new eo;class khe extends hG{interpolate_(e,t,r,a){const o=super.interpolate_(e,t,r,a);return Ghe.fromArray(o).normalize().toArray(o),o}}const Ll={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},Jv={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},VN={9728:Za,9729:ma,9984:Uw,9985:qv,9986:dm,9987:Fl},jN={33071:el,33648:d0,10497:Fh},qT={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},W2={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...lhe>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},hh={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},$he={CUBICSPLINE:void 0,LINEAR:p0,STEP:h0},KT={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function Vhe(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new WS({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Zu})),n.DefaultMaterial}function Up(n,e,t){for(const r in t.extensions)n[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=t.extensions[r])}function qd(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function jhe(n,e,t){let r=!1,a=!1,o=!1;for(let f=0,m=e.length;f<m;f++){const y=e[f];if(y.POSITION!==void 0&&(r=!0),y.NORMAL!==void 0&&(a=!0),y.COLOR_0!==void 0&&(o=!0),r&&a&&o)break}if(!r&&!a&&!o)return Promise.resolve(n);const l=[],s=[],u=[];for(let f=0,m=e.length;f<m;f++){const y=e[f];if(r){const _=y.POSITION!==void 0?t.getDependency("accessor",y.POSITION):n.attributes.position;l.push(_)}if(a){const _=y.NORMAL!==void 0?t.getDependency("accessor",y.NORMAL):n.attributes.normal;s.push(_)}if(o){const _=y.COLOR_0!==void 0?t.getDependency("accessor",y.COLOR_0):n.attributes.color;u.push(_)}}return Promise.all([Promise.all(l),Promise.all(s),Promise.all(u)]).then(function(f){const m=f[0],y=f[1],_=f[2];return r&&(n.morphAttributes.position=m),a&&(n.morphAttributes.normal=y),o&&(n.morphAttributes.color=_),n.morphTargetsRelative=!0,n})}function Whe(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,r=e.weights.length;t<r;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let r=0,a=t.length;r<a;r++)n.morphTargetDictionary[t[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Xhe(n){let e;const t=n.extensions&&n.extensions[_i.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+JT(t.attributes):e=n.indices+":"+JT(n.attributes)+":"+n.mode,n.targets!==void 0)for(let r=0,a=n.targets.length;r<a;r++)e+=":"+JT(n.targets[r]);return e}function JT(n){let e="";const t=Object.keys(n).sort();for(let r=0,a=t.length;r<a;r++)e+=t[r]+":"+n[t[r]]+";";return e}function X2(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Yhe(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const qhe=new Pn;class Khe{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new yhe,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,a=!1,o=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,a=navigator.userAgent.indexOf("Firefox")>-1,o=a?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||a&&o<98?this.textureLoader=new C6(this.options.manager):this.textureLoader=new I6(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new al(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,a=this.json,o=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(l){return l._markDefs&&l._markDefs()}),Promise.all(this._invokeAll(function(l){return l.beforeRoot&&l.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(l){const s={scene:l[0][a.scene||0],scenes:l[0],animations:l[1],cameras:l[2],asset:a.asset,parser:r,userData:{}};return Up(o,s,a),qd(s,a),Promise.all(r._invokeAll(function(u){return u.afterRoot&&u.afterRoot(s)})).then(function(){for(const u of s.scenes)u.updateMatrixWorld();e(s)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let a=0,o=t.length;a<o;a++){const l=t[a].joints;for(let s=0,u=l.length;s<u;s++)e[l[s]].isBone=!0}for(let a=0,o=e.length;a<o;a++){const l=e[a];l.mesh!==void 0&&(this._addNodeRef(this.meshCache,l.mesh),l.skin!==void 0&&(r[l.mesh].isSkinnedMesh=!0)),l.camera!==void 0&&this._addNodeRef(this.cameraCache,l.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const a=r.clone(),o=(l,s)=>{const u=this.associations.get(l);u!=null&&this.associations.set(s,u);for(const[f,m]of l.children.entries())o(m,s.children[f])};return o(r,a),a.name+="_instance_"+e.uses[t]++,a}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const a=e(t[r]);if(a)return a}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let a=0;a<t.length;a++){const o=e(t[a]);o&&r.push(o)}return r}getDependency(e,t){const r=e+":"+t;let a=this.cache.get(r);if(!a){switch(e){case"scene":a=this.loadScene(t);break;case"node":a=this._invokeOne(function(o){return o.loadNode&&o.loadNode(t)});break;case"mesh":a=this._invokeOne(function(o){return o.loadMesh&&o.loadMesh(t)});break;case"accessor":a=this.loadAccessor(t);break;case"bufferView":a=this._invokeOne(function(o){return o.loadBufferView&&o.loadBufferView(t)});break;case"buffer":a=this.loadBuffer(t);break;case"material":a=this._invokeOne(function(o){return o.loadMaterial&&o.loadMaterial(t)});break;case"texture":a=this._invokeOne(function(o){return o.loadTexture&&o.loadTexture(t)});break;case"skin":a=this.loadSkin(t);break;case"animation":a=this._invokeOne(function(o){return o.loadAnimation&&o.loadAnimation(t)});break;case"camera":a=this.loadCamera(t);break;default:if(a=this._invokeOne(function(o){return o!=this&&o.getDependency&&o.getDependency(e,t)}),!a)throw new Error("Unknown type: "+e);break}this.cache.add(r,a)}return a}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,a=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(a.map(function(o,l){return r.getDependency(e,l)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[_i.KHR_BINARY_GLTF].body);const a=this.options;return new Promise(function(o,l){r.load(Dh.resolveURL(t.uri,a.path),o,void 0,function(){l(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(r){const a=t.byteLength||0,o=t.byteOffset||0;return r.slice(o,o+a)})}loadAccessor(e){const t=this,r=this.json,a=this.json.accessors[e];if(a.bufferView===void 0&&a.sparse===void 0){const l=qT[a.type],s=Jv[a.componentType],u=a.normalized===!0,f=new s(a.count*l);return Promise.resolve(new ki(f,l,u))}const o=[];return a.bufferView!==void 0?o.push(this.getDependency("bufferView",a.bufferView)):o.push(null),a.sparse!==void 0&&(o.push(this.getDependency("bufferView",a.sparse.indices.bufferView)),o.push(this.getDependency("bufferView",a.sparse.values.bufferView))),Promise.all(o).then(function(l){const s=l[0],u=qT[a.type],f=Jv[a.componentType],m=f.BYTES_PER_ELEMENT,y=m*u,_=a.byteOffset||0,E=a.bufferView!==void 0?r.bufferViews[a.bufferView].byteStride:void 0,c=a.normalized===!0;let p,g;if(E&&E!==y){const b=Math.floor(_/E),C="InterleavedBuffer:"+a.bufferView+":"+a.componentType+":"+b+":"+a.count;let T=t.cache.get(C);T||(p=new f(s,b*E,a.count*E/m),T=new HS(p,E/m),t.cache.add(C,T)),g=new Gh(T,u,_%E/m,c)}else s===null?p=new f(a.count*u):p=new f(s,_,a.count*u),g=new ki(p,u,c);if(a.sparse!==void 0){const b=qT.SCALAR,C=Jv[a.sparse.indices.componentType],T=a.sparse.indices.byteOffset||0,M=a.sparse.values.byteOffset||0,O=new C(l[1],T,a.sparse.count*b),B=new f(l[2],M,a.sparse.count*u);s!==null&&(g=new ki(g.array.slice(),g.itemSize,g.normalized));for(let P=0,F=O.length;P<F;P++){const U=O[P];if(g.setX(U,B[P*u]),u>=2&&g.setY(U,B[P*u+1]),u>=3&&g.setZ(U,B[P*u+2]),u>=4&&g.setW(U,B[P*u+3]),u>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return g})}loadTexture(e){const t=this.json,r=this.options,o=t.textures[e].source,l=t.images[o];let s=this.textureLoader;if(l.uri){const u=r.manager.getHandler(l.uri);u!==null&&(s=u)}return this.loadTextureImage(e,o,s)}loadTextureImage(e,t,r){const a=this,o=this.json,l=o.textures[e],s=o.images[t],u=(s.uri||s.bufferView)+":"+l.sampler;if(this.textureCache[u])return this.textureCache[u];const f=this.loadImageSource(t,r).then(function(m){m.flipY=!1,m.name=l.name||s.name||"",m.name===""&&typeof s.uri=="string"&&s.uri.startsWith("data:image/")===!1&&(m.name=s.uri);const _=(o.samplers||{})[l.sampler]||{};return m.magFilter=VN[_.magFilter]||ma,m.minFilter=VN[_.minFilter]||Fl,m.wrapS=jN[_.wrapS]||Fh,m.wrapT=jN[_.wrapT]||Fh,a.associations.set(m,{textures:e}),m}).catch(function(){return null});return this.textureCache[u]=f,f}loadImageSource(e,t){const r=this,a=this.json,o=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(y=>y.clone());const l=a.images[e],s=self.URL||self.webkitURL;let u=l.uri||"",f=!1;if(l.bufferView!==void 0)u=r.getDependency("bufferView",l.bufferView).then(function(y){f=!0;const _=new Blob([y],{type:l.mimeType});return u=s.createObjectURL(_),u});else if(l.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const m=Promise.resolve(u).then(function(y){return new Promise(function(_,E){let c=_;t.isImageBitmapLoader===!0&&(c=function(p){const g=new Lr(p);g.needsUpdate=!0,_(g)}),t.load(Dh.resolveURL(y,o.path),c,void 0,E)})}).then(function(y){return f===!0&&s.revokeObjectURL(u),qd(y,l),y.userData.mimeType=l.mimeType||Yhe(l.uri),y}).catch(function(y){throw console.error("THREE.GLTFLoader: Couldn't load texture",u),y});return this.sourceCache[e]=m,m}assignTexture(e,t,r,a){const o=this;return this.getDependency("texture",r.index).then(function(l){if(!l)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(l=l.clone(),l.channel=r.texCoord),o.extensions[_i.KHR_TEXTURE_TRANSFORM]){const s=r.extensions!==void 0?r.extensions[_i.KHR_TEXTURE_TRANSFORM]:void 0;if(s){const u=o.associations.get(l);l=o.extensions[_i.KHR_TEXTURE_TRANSFORM].extendTexture(l,s),o.associations.set(l,u)}}return a!==void 0&&(typeof a=="number"&&(a=a===kN?gm:df),"colorSpace"in l?l.colorSpace=a:l.encoding=a===gm?kN:vhe),e[t]=l,l})}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const a=t.attributes.tangent===void 0,o=t.attributes.color!==void 0,l=t.attributes.normal===void 0;if(e.isPoints){const s="PointsMaterial:"+r.uuid;let u=this.cache.get(s);u||(u=new Qw,Pa.prototype.copy.call(u,r),u.color.copy(r.color),u.map=r.map,u.sizeAttenuation=!1,this.cache.add(s,u)),r=u}else if(e.isLine){const s="LineBasicMaterial:"+r.uuid;let u=this.cache.get(s);u||(u=new Ho,Pa.prototype.copy.call(u,r),u.color.copy(r.color),u.map=r.map,this.cache.add(s,u)),r=u}if(a||o||l){let s="ClonedMaterial:"+r.uuid+":";a&&(s+="derivative-tangents:"),o&&(s+="vertex-colors:"),l&&(s+="flat-shading:");let u=this.cache.get(s);u||(u=r.clone(),o&&(u.vertexColors=!0),l&&(u.flatShading=!0),a&&(u.normalScale&&(u.normalScale.y*=-1),u.clearcoatNormalScale&&(u.clearcoatNormalScale.y*=-1)),this.cache.add(s,u),this.associations.set(u,this.associations.get(r))),r=u}e.material=r}getMaterialType(){return WS}loadMaterial(e){const t=this,r=this.json,a=this.extensions,o=r.materials[e];let l;const s={},u=o.extensions||{},f=[];if(u[_i.KHR_MATERIALS_UNLIT]){const y=a[_i.KHR_MATERIALS_UNLIT];l=y.getMaterialType(),f.push(y.extendParams(s,o,t))}else{const y=o.pbrMetallicRoughness||{};if(s.color=new en(1,1,1),s.opacity=1,Array.isArray(y.baseColorFactor)){const _=y.baseColorFactor;s.color.setRGB(_[0],_[1],_[2],df),s.opacity=_[3]}y.baseColorTexture!==void 0&&f.push(t.assignTexture(s,"map",y.baseColorTexture,gm)),s.metalness=y.metallicFactor!==void 0?y.metallicFactor:1,s.roughness=y.roughnessFactor!==void 0?y.roughnessFactor:1,y.metallicRoughnessTexture!==void 0&&(f.push(t.assignTexture(s,"metalnessMap",y.metallicRoughnessTexture)),f.push(t.assignTexture(s,"roughnessMap",y.metallicRoughnessTexture))),l=this._invokeOne(function(_){return _.getMaterialType&&_.getMaterialType(e)}),f.push(Promise.all(this._invokeAll(function(_){return _.extendMaterialParams&&_.extendMaterialParams(e,s)})))}o.doubleSided===!0&&(s.side=Pc);const m=o.alphaMode||KT.OPAQUE;if(m===KT.BLEND?(s.transparent=!0,s.depthWrite=!1):(s.transparent=!1,m===KT.MASK&&(s.alphaTest=o.alphaCutoff!==void 0?o.alphaCutoff:.5)),o.normalTexture!==void 0&&l!==tl&&(f.push(t.assignTexture(s,"normalMap",o.normalTexture)),s.normalScale=new Tt(1,1),o.normalTexture.scale!==void 0)){const y=o.normalTexture.scale;s.normalScale.set(y,y)}if(o.occlusionTexture!==void 0&&l!==tl&&(f.push(t.assignTexture(s,"aoMap",o.occlusionTexture)),o.occlusionTexture.strength!==void 0&&(s.aoMapIntensity=o.occlusionTexture.strength)),o.emissiveFactor!==void 0&&l!==tl){const y=o.emissiveFactor;s.emissive=new en().setRGB(y[0],y[1],y[2],df)}return o.emissiveTexture!==void 0&&l!==tl&&f.push(t.assignTexture(s,"emissiveMap",o.emissiveTexture,gm)),Promise.all(f).then(function(){const y=new l(s);return o.name&&(y.name=o.name),qd(y,o),t.associations.set(y,{materials:e}),o.extensions&&Up(a,y,o),y})}createUniqueName(e){const t=Fi.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,r=this.extensions,a=this.primitiveCache;function o(s){return r[_i.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(s,t).then(function(u){return WN(u,s,t)})}const l=[];for(let s=0,u=e.length;s<u;s++){const f=e[s],m=Xhe(f),y=a[m];if(y)l.push(y.promise);else{let _;f.extensions&&f.extensions[_i.KHR_DRACO_MESH_COMPRESSION]?_=o(f):_=WN(new ni,f,t),a[m]={primitive:f,promise:_},l.push(_)}}return Promise.all(l)}loadMesh(e){const t=this,r=this.json,a=this.extensions,o=r.meshes[e],l=o.primitives,s=[];for(let u=0,f=l.length;u<f;u++){const m=l[u].material===void 0?Vhe(this.cache):this.getDependency("material",l[u].material);s.push(m)}return s.push(t.loadGeometries(l)),Promise.all(s).then(function(u){const f=u.slice(0,u.length-1),m=u[u.length-1],y=[];for(let E=0,c=m.length;E<c;E++){const p=m[E],g=l[E];let b;const C=f[E];if(g.mode===Ll.TRIANGLES||g.mode===Ll.TRIANGLE_STRIP||g.mode===Ll.TRIANGLE_FAN||g.mode===void 0)b=o.isSkinnedMesh===!0?new AI(p,C):new ga(p,C),b.isSkinnedMesh===!0&&b.normalizeSkinWeights(),g.mode===Ll.TRIANGLE_STRIP?b.geometry=FN(b.geometry,bI):g.mode===Ll.TRIANGLE_FAN&&(b.geometry=FN(b.geometry,OE));else if(g.mode===Ll.LINES)b=new Vc(p,C);else if(g.mode===Ll.LINE_STRIP)b=new vf(p,C);else if(g.mode===Ll.LINE_LOOP)b=new TI(p,C);else if(g.mode===Ll.POINTS)b=new RI(p,C);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+g.mode);Object.keys(b.geometry.morphAttributes).length>0&&Whe(b,o),b.name=t.createUniqueName(o.name||"mesh_"+e),qd(b,o),g.extensions&&Up(a,b,g),t.assignFinalMaterial(b),y.push(b)}for(let E=0,c=y.length;E<c;E++)t.associations.set(y[E],{meshes:e,primitives:E});if(y.length===1)return o.extensions&&Up(a,y[0],o),y[0];const _=new nf;o.extensions&&Up(a,_,o),t.associations.set(_,{meshes:e});for(let E=0,c=y.length;E<c;E++)_.add(y[E]);return _})}loadCamera(e){let t;const r=this.json.cameras[e],a=r[r.type];if(!a){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?t=new Xr(F8.radToDeg(a.yfov),a.aspectRatio||1,a.znear||1,a.zfar||2e6):r.type==="orthographic"&&(t=new uf(-a.xmag,a.xmag,a.ymag,-a.ymag,a.znear,a.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),qd(t,r),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],r=[];for(let a=0,o=t.joints.length;a<o;a++)r.push(this._loadNodeShallow(t.joints[a]));return t.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",t.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(a){const o=a.pop(),l=a,s=[],u=[];for(let f=0,m=l.length;f<m;f++){const y=l[f];if(y){s.push(y);const _=new Pn;o!==null&&_.fromArray(o.array,f*16),u.push(_)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[f])}return new GS(s,u)})}loadAnimation(e){const t=this.json,r=this,a=t.animations[e],o=a.name?a.name:"animation_"+e,l=[],s=[],u=[],f=[],m=[];for(let y=0,_=a.channels.length;y<_;y++){const E=a.channels[y],c=a.samplers[E.sampler],p=E.target,g=p.node,b=a.parameters!==void 0?a.parameters[c.input]:c.input,C=a.parameters!==void 0?a.parameters[c.output]:c.output;p.node!==void 0&&(l.push(this.getDependency("node",g)),s.push(this.getDependency("accessor",b)),u.push(this.getDependency("accessor",C)),f.push(c),m.push(p))}return Promise.all([Promise.all(l),Promise.all(s),Promise.all(u),Promise.all(f),Promise.all(m)]).then(function(y){const _=y[0],E=y[1],c=y[2],p=y[3],g=y[4],b=[];for(let C=0,T=_.length;C<T;C++){const M=_[C],O=E[C],B=c[C],P=p[C],F=g[C];if(M===void 0)continue;M.updateMatrix&&M.updateMatrix();const U=r._createAnimationTracks(M,O,B,P,F);if(U)for(let z=0;z<U.length;z++)b.push(U[z])}return new y0(o,void 0,b)})}createNodeMesh(e){const t=this.json,r=this,a=t.nodes[e];return a.mesh===void 0?null:r.getDependency("mesh",a.mesh).then(function(o){const l=r._getNodeRef(r.meshCache,a.mesh,o);return a.weights!==void 0&&l.traverse(function(s){if(s.isMesh)for(let u=0,f=a.weights.length;u<f;u++)s.morphTargetInfluences[u]=a.weights[u]}),l})}loadNode(e){const t=this.json,r=this,a=t.nodes[e],o=r._loadNodeShallow(e),l=[],s=a.children||[];for(let f=0,m=s.length;f<m;f++)l.push(r.getDependency("node",s[f]));const u=a.skin===void 0?Promise.resolve(null):r.getDependency("skin",a.skin);return Promise.all([o,Promise.all(l),u]).then(function(f){const m=f[0],y=f[1],_=f[2];_!==null&&m.traverse(function(E){E.isSkinnedMesh&&E.bind(_,qhe)});for(let E=0,c=y.length;E<c;E++)m.add(y[E]);return m})}_loadNodeShallow(e){const t=this.json,r=this.extensions,a=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const o=t.nodes[e],l=o.name?a.createUniqueName(o.name):"",s=[],u=a._invokeOne(function(f){return f.createNodeMesh&&f.createNodeMesh(e)});return u&&s.push(u),o.camera!==void 0&&s.push(a.getDependency("camera",o.camera).then(function(f){return a._getNodeRef(a.cameraCache,o.camera,f)})),a._invokeAll(function(f){return f.createNodeAttachment&&f.createNodeAttachment(e)}).forEach(function(f){s.push(f)}),this.nodeCache[e]=Promise.all(s).then(function(f){let m;if(o.isBone===!0?m=new Jw:f.length>1?m=new nf:f.length===1?m=f[0]:m=new Di,m!==f[0])for(let y=0,_=f.length;y<_;y++)m.add(f[y]);if(o.name&&(m.userData.name=o.name,m.name=l),qd(m,o),o.extensions&&Up(r,m,o),o.matrix!==void 0){const y=new Pn;y.fromArray(o.matrix),m.applyMatrix4(y)}else o.translation!==void 0&&m.position.fromArray(o.translation),o.rotation!==void 0&&m.quaternion.fromArray(o.rotation),o.scale!==void 0&&m.scale.fromArray(o.scale);return a.associations.has(m)||a.associations.set(m,{}),a.associations.get(m).nodes=e,m}),this.nodeCache[e]}loadScene(e){const t=this.extensions,r=this.json.scenes[e],a=this,o=new nf;r.name&&(o.name=a.createUniqueName(r.name)),qd(o,r),r.extensions&&Up(t,o,r);const l=r.nodes||[],s=[];for(let u=0,f=l.length;u<f;u++)s.push(a.getDependency("node",l[u]));return Promise.all(s).then(function(u){for(let m=0,y=u.length;m<y;m++)o.add(u[m]);const f=m=>{const y=new Map;for(const[_,E]of a.associations)(_ instanceof Pa||_ instanceof Lr)&&y.set(_,E);return m.traverse(_=>{const E=a.associations.get(_);E!=null&&y.set(_,E)}),y};return a.associations=f(o),o})}_createAnimationTracks(e,t,r,a,o){const l=[],s=e.name?e.name:e.uuid,u=[];hh[o.path]===hh.weights?e.traverse(function(_){_.morphTargetInfluences&&u.push(_.name?_.name:_.uuid)}):u.push(s);let f;switch(hh[o.path]){case hh.weights:f=Rm;break;case hh.rotation:f=Om;break;case hh.position:case hh.scale:f=Im;break;default:switch(r.itemSize){case 1:f=Rm;break;case 2:case 3:default:f=Im;break}break}const m=a.interpolation!==void 0?$he[a.interpolation]:p0,y=this._getArrayFromAccessor(r);for(let _=0,E=u.length;_<E;_++){const c=new f(u[_]+"."+hh[o.path],t.array,y,m);a.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(c),l.push(c)}return l}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const r=X2(t.constructor),a=new Float32Array(t.length);for(let o=0,l=t.length;o<l;o++)a[o]=t[o]*r;t=a}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(r){const a=this instanceof Om?khe:hG;return new a(this.times,this.values,this.getValueSize()/3,r)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function Jhe(n,e,t){const r=e.attributes,a=new go;if(r.POSITION!==void 0){const s=t.json.accessors[r.POSITION],u=s.min,f=s.max;if(u!==void 0&&f!==void 0){if(a.set(new be(u[0],u[1],u[2]),new be(f[0],f[1],f[2])),s.normalized){const m=X2(Jv[s.componentType]);a.min.multiplyScalar(m),a.max.multiplyScalar(m)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const o=e.targets;if(o!==void 0){const s=new be,u=new be;for(let f=0,m=o.length;f<m;f++){const y=o[f];if(y.POSITION!==void 0){const _=t.json.accessors[y.POSITION],E=_.min,c=_.max;if(E!==void 0&&c!==void 0){if(u.setX(Math.max(Math.abs(E[0]),Math.abs(c[0]))),u.setY(Math.max(Math.abs(E[1]),Math.abs(c[1]))),u.setZ(Math.max(Math.abs(E[2]),Math.abs(c[2]))),_.normalized){const p=X2(Jv[_.componentType]);u.multiplyScalar(p)}s.max(u)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}a.expandByVector(s)}n.boundingBox=a;const l=new vo;a.getCenter(l.center),l.radius=a.min.distanceTo(a.max)/2,n.boundingSphere=l}function WN(n,e,t){const r=e.attributes,a=[];function o(l,s){return t.getDependency("accessor",l).then(function(u){n.setAttribute(s,u)})}for(const l in r){const s=W2[l]||l.toLowerCase();s in n.attributes||a.push(o(r[l],s))}if(e.indices!==void 0&&!n.index){const l=t.getDependency("accessor",e.indices).then(function(s){n.setIndex(s)});a.push(l)}return qd(n,e),Jhe(n,e,t),Promise.all(a).then(function(){return e.targets!==void 0?jhe(n,e.targets,t):n})}const QT=new WeakMap;class Qhe extends Go{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,a){const o=new al(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,l=>{const s={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(l,s).then(t).catch(a)},r,a)}decodeDracoFile(e,t,r,a){const o={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:a||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,o).then(t)}decodeGeometry(e,t){for(const u in t.attributeTypes){const f=t.attributeTypes[u];f.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[u]=f.name)}const r=JSON.stringify(t);if(QT.has(e)){const u=QT.get(e);if(u.key===r)return u.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let a;const o=this.workerNextTaskID++,l=e.byteLength,s=this._getWorker(o,l).then(u=>(a=u,new Promise((f,m)=>{a._callbacks[o]={resolve:f,reject:m},a.postMessage({type:"decode",id:o,taskConfig:t,buffer:e},[e])}))).then(u=>this._createGeometry(u.geometry));return s.catch(()=>!0).then(()=>{a&&o&&this._releaseTask(a,o)}),QT.set(e,{key:r,promise:s}),s}_createGeometry(e){const t=new ni;e.index&&t.setIndex(new ki(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const a=e.attributes[r],o=a.name,l=a.array,s=a.itemSize;t.setAttribute(o,new ki(l,s))}return t}_loadLibrary(e,t){const r=new al(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((a,o)=>{r.load(e,a,void 0,o)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(r=>{const a=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const o=Zhe.toString(),l=["/* draco decoder */",a,"","/* worker */",o.substring(o.indexOf("{")+1,o.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([l]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const a=new Worker(this.workerSourceURL);a._callbacks={},a._taskCosts={},a._taskLoad=0,a.postMessage({type:"init",decoderConfig:this.decoderConfig}),a.onmessage=function(o){const l=o.data;switch(l.type){case"decode":a._callbacks[l.id].resolve(l);break;case"error":a._callbacks[l.id].reject(l);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+l.type+'"')}},this.workerPool.push(a)}else this.workerPool.sort(function(a,o){return a._taskLoad>o._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function Zhe(){let n,e;onmessage=function(l){const s=l.data;switch(s.type){case"init":n=s.decoderConfig,e=new Promise(function(m){n.onModuleLoaded=function(y){m({draco:y})},DracoDecoderModule(n)});break;case"decode":const u=s.buffer,f=s.taskConfig;e.then(m=>{const y=m.draco,_=new y.Decoder,E=new y.DecoderBuffer;E.Init(new Int8Array(u),u.byteLength);try{const c=t(y,_,E,f),p=c.attributes.map(g=>g.array.buffer);c.index&&p.push(c.index.array.buffer),self.postMessage({type:"decode",id:s.id,geometry:c},p)}catch(c){console.error(c),self.postMessage({type:"error",id:s.id,error:c.message})}finally{y.destroy(E),y.destroy(_)}});break}};function t(l,s,u,f){const m=f.attributeIDs,y=f.attributeTypes;let _,E;const c=s.GetEncodedGeometryType(u);if(c===l.TRIANGULAR_MESH)_=new l.Mesh,E=s.DecodeBufferToMesh(u,_);else if(c===l.POINT_CLOUD)_=new l.PointCloud,E=s.DecodeBufferToPointCloud(u,_);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!E.ok()||_.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+E.error_msg());const p={index:null,attributes:[]};for(const g in m){const b=self[y[g]];let C,T;if(f.useUniqueIDs)T=m[g],C=s.GetAttributeByUniqueId(_,T);else{if(T=s.GetAttributeId(_,l[m[g]]),T===-1)continue;C=s.GetAttribute(_,T)}p.attributes.push(a(l,s,_,g,b,C))}return c===l.TRIANGULAR_MESH&&(p.index=r(l,s,_)),l.destroy(_),p}function r(l,s,u){const m=u.num_faces()*3,y=m*4,_=l._malloc(y);s.GetTrianglesUInt32Array(u,y,_);const E=new Uint32Array(l.HEAPF32.buffer,_,m).slice();return l._free(_),{array:E,itemSize:1}}function a(l,s,u,f,m,y){const _=y.num_components(),c=u.num_points()*_,p=c*m.BYTES_PER_ELEMENT,g=o(l,m),b=l._malloc(p);s.GetAttributeDataArrayForAllPoints(u,y,g,p,b);const C=new m(l.HEAPF32.buffer,b,c).slice();return l._free(b),{name:f,array:C,itemSize:_}}function o(l,s){switch(s){case Float32Array:return l.DT_FLOAT32;case Int8Array:return l.DT_INT8;case Int16Array:return l.DT_INT16;case Int32Array:return l.DT_INT32;case Uint8Array:return l.DT_UINT8;case Uint16Array:return l.DT_UINT16;case Uint32Array:return l.DT_UINT32}}}let bC;const ZT=()=>{if(bC)return bC;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let a=n;WebAssembly.validate(t)&&(a=e);let o;const l=WebAssembly.instantiate(s(a),{}).then(y=>{o=y.instance,o.exports.__wasm_call_ctors()});function s(y){const _=new Uint8Array(y.length);for(let c=0;c<y.length;++c){const p=y.charCodeAt(c);_[c]=p>96?p-71:p>64?p-65:p>47?p+4:p>46?63:62}let E=0;for(let c=0;c<y.length;++c)_[E++]=_[c]<60?r[_[c]]:(_[c]-60)*64+_[++c];return _.buffer.slice(0,E)}function u(y,_,E,c,p,g){const b=o.exports.sbrk,C=E+3&-4,T=b(C*c),M=b(p.length),O=new Uint8Array(o.exports.memory.buffer);O.set(p,M);const B=y(T,E,c,M,p.length);if(B===0&&g&&g(T,C,c),_.set(O.subarray(T,T+E*c)),b(T-b(0)),B!==0)throw new Error(`Malformed buffer data: ${B}`)}const f={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},m={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return bC={ready:l,supported:!0,decodeVertexBuffer(y,_,E,c,p){u(o.exports.meshopt_decodeVertexBuffer,y,_,E,c,o.exports[f[p]])},decodeIndexBuffer(y,_,E,c){u(o.exports.meshopt_decodeIndexBuffer,y,_,E,c)},decodeIndexSequence(y,_,E,c){u(o.exports.meshopt_decodeIndexSequence,y,_,E,c)},decodeGltfBuffer(y,_,E,c,p,g){u(o.exports[m[p]],y,_,E,c,o.exports[f[g]])}},bC};let SC=null,pG="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function mG(n=!0,e=!0,t){return r=>{t&&t(r),n&&(SC||(SC=new Qhe),SC.setDecoderPath(typeof n=="string"?n:pG),r.setDRACOLoader(SC)),e&&r.setMeshoptDecoder(typeof ZT=="function"?ZT():ZT)}}const vA=(n,e,t,r)=>YS(iB,n,mG(e,t,r));vA.preload=(n,e,t,r)=>YS.preload(iB,n,mG(e,t,r));vA.clear=n=>YS.clear(iB,n);vA.setDecoderPath=n=>{pG=n};const epe=w.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:r,enableDamping:a=!0,keyEvents:o=!1,onChange:l,onStart:s,onEnd:u,...f},m)=>{const y=Gd(B=>B.invalidate),_=Gd(B=>B.camera),E=Gd(B=>B.gl),c=Gd(B=>B.events),p=Gd(B=>B.setEvents),g=Gd(B=>B.set),b=Gd(B=>B.get),C=Gd(B=>B.performance),T=e||_,M=r||c.connected||E.domElement,O=w.useMemo(()=>new ghe(T),[T]);return Lfe(()=>{O.enabled&&O.update()},-1),w.useEffect(()=>(o&&O.connect(o===!0?M:o),O.connect(M),()=>void O.dispose()),[o,M,t,O,y]),w.useEffect(()=>{const B=U=>{y(),t&&C.regress(),l&&l(U)},P=U=>{s&&s(U)},F=U=>{u&&u(U)};return O.addEventListener("change",B),O.addEventListener("start",P),O.addEventListener("end",F),()=>{O.removeEventListener("start",P),O.removeEventListener("end",F),O.removeEventListener("change",B)}},[l,s,u,O,y,p]),w.useEffect(()=>{if(n){const B=b().controls;return g({controls:O}),()=>g({controls:B})}},[n,O]),w.createElement("primitive",Pt({ref:m,object:O,enableDamping:a},f))}),tpe="/SyncWorld/assets/model-But4_8fk.glb",npe=()=>{const{scene:n}=vA(tpe),{camera:e}=Gd();return w.useEffect(()=>{if(n&&e instanceof Xr){const t=new go().setFromObject(n),r=t.getCenter(new be);n.position.sub(r);const a=t.getSize(new be),o=Math.max(a.x,a.y,a.z),l=e.fov*(Math.PI/180),s=Math.abs(o/2/Math.tan(l/2));e.position.set(0,0,s*2),e.lookAt(0,0,0);const u=Math.PI/5,f=e.position.x*Math.cos(u)-e.position.z*Math.sin(u),m=e.position.x*Math.sin(u)+e.position.z*Math.cos(u);e.position.set(f,e.position.y,m),e.lookAt(0,0,0)}},[n,e]),n?ke.jsx("primitive",{object:n}):null},XN=n=>{const{position:e,intensity:t=1,showPointLight:r=!1}=n,a=new be(e.x,e.y,e.z),o=w.useRef(null);return w.useEffect(()=>{o.current&&o.current.position.copy(a)},[]),ke.jsxs(ke.Fragment,{children:[r&&ke.jsxs("mesh",{position:a,children:[ke.jsx("sphereGeometry",{args:[1]}),ke.jsx("meshBasicMaterial",{color:"red"})]}),ke.jsx("directionalLight",{ref:o,intensity:t})]})},ipe=()=>ke.jsxs(she,{camera:{position:[0,2,5],fov:75},children:[ke.jsx("color",{attach:"background",args:["#25272c"]}),ke.jsx("ambientLight",{intensity:2}),ke.jsx(XN,{position:new be(2,2,-0)}),ke.jsx(XN,{position:new be(0,0,2),intensity:4}),ke.jsx(npe,{}),ke.jsx(epe,{})]}),rpe="/SyncWorld/assets/cutout-C252wD3k.png",ape="/SyncWorld/assets/mask-Hsm5_ShS.png",ope="/SyncWorld/assets/env1-DLKe21cq.webp",spe="/SyncWorld/assets/env2-G4dkyjcA.webp",lpe="/SyncWorld/assets/env3-B8PKSVLk.webp",cpe="/SyncWorld/assets/env4-BT5ECu7E.webp",upe="/SyncWorld/assets/env5-BQ0aX3QW.webp",dpe="/SyncWorld/assets/env6-9Z5gxGUl.webp",fpe="/SyncWorld/assets/env7-DwTDAoBh.webp",hpe="/SyncWorld/assets/env8-DRiCzIrd.webp",ppe="/SyncWorld/assets/output1-CO21h2Yk.png",mpe="/SyncWorld/assets/output2-C0r_6mN3.png",gpe="/SyncWorld/assets/output3-HH0ftwG3.png",vpe="/SyncWorld/assets/output4-D13zknOE.png",ype="/SyncWorld/assets/output5-B-YprGxj.png",bpe="/SyncWorld/assets/output6-u_vR8aCJ.png",Spe="/SyncWorld/assets/output7-CG1oWXBa.png",_pe="/SyncWorld/assets/output8-DEE2rHza.png",xpe="_imageContainer_fldjf_2",Cpe="_imageItem_fldjf_19",YN={imageContainer:xpe,imageItem:Cpe},Epe=({images:n,onSelect:e})=>{const[t,r]=w.useState(null),a=(o,l)=>{r(o),e(o,l)};return ke.jsx(Vu,{gutter:[16,16],justify:"center",children:n.map((o,l)=>ke.jsx(yr,{xs:6,sm:6,md:6,lg:6,xl:6,children:ke.jsx("div",{onClick:()=>a(o.src,l),className:`${YN.imageContainer} ${t===o.src?"selected":""}`,children:ke.jsx(Yv,{src:o.src,alt:o.alt,width:"100%",height:"auto",preview:!1,className:YN.imageItem})})},l))})},qN="/SyncWorld/assets/arc-left-CPw3yY5v.mp4",eR="/SyncWorld/assets/arc-right-BoU9SHhR.mp4",wpe=()=>{const n=w.useRef(null),[e,t]=w.useState(eR),[r,a]=w.useState(0);w.useEffect(()=>{n.current&&(n.current.currentTime=r)},[r]);const o=u=>{n.current&&a(Math.min(u,n.current.duration))},l=()=>{n.current&&(e===eR?r<1?(t(qN),o(1)):o(r-1):o(r+1))},s=()=>{n.current&&(e===qN?r<1?(t(eR),o(1)):o(r-1):o(r+1))};return ke.jsx(ke.Fragment,{children:ke.jsxs(Vu,{justify:"space-between",align:"middle",children:[ke.jsx(yr,{span:24,children:ke.jsx(pa,{style:{width:"100%",color:"white"},onClick:l,type:"text",icon:ke.jsx(EV,{})})}),ke.jsx(yr,{span:2,children:ke.jsx(pa,{onClick:l,type:"text",icon:ke.jsx(M1,{}),style:{color:"white"}})}),ke.jsx(yr,{span:20,children:ke.jsxs("video",{ref:n,width:328,controls:!1,children:[ke.jsx("source",{src:e,type:"video/mp4"}),"Your browser does not support the video tag."]},e)}),ke.jsx(yr,{span:2,children:ke.jsx(pa,{onClick:s,type:"text",icon:ke.jsx(T1,{}),style:{color:"white"}})}),ke.jsx(yr,{span:24,children:ke.jsx(pa,{style:{width:"100%",color:"white"},onClick:l,type:"text",icon:ke.jsx(b$,{})})})]})})},Ape=[{src:ope,alt:"1"},{src:spe,alt:"2"},{src:lpe,alt:"3"},{src:cpe,alt:"4"},{src:upe,alt:"5"},{src:dpe,alt:"6"},{src:fpe,alt:"7"},{src:hpe,alt:"8"}],Mpe=[{src:ppe,alt:"1"},{src:mpe,alt:"2"},{src:gpe,alt:"3"},{src:vpe,alt:"4"},{src:ype,alt:"5"},{src:bpe,alt:"6"},{src:Spe,alt:"7"},{src:_pe,alt:"8"}],{TextArea:KN}=O0,tR="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAYAAADQvc6UAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAwSDCIMogwMCcmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsis7PPOq3QdDFcvjV3jOD1boQVTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRAQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDrkl1AuO+pmgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAwqADAAQAAAABAAAAwwAAAAD9b/HnAAAHlklEQVR4Ae3dP3PTWBSGcbGzM6GCKqlIBRV0dHRJFarQ0eUT8LH4BnRU0NHR0UEFVdIlFRV7TzRksomPY8uykTk/zewQfKw/9znv4yvJynLv4uLiV2dBoDiBf4qP3/ARuCRABEFAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghgg0Aj8i0JO4OzsrPv69Wv+hi2qPHr0qNvf39+iI97soRIh4f3z58/u7du3SXX7Xt7Z2enevHmzfQe+oSN2apSAPj09TSrb+XKI/f379+08+A0cNRE2ANkupk+ACNPvkSPcAAEibACyXUyfABGm3yNHuAECRNgAZLuYPgEirKlHu7u7XdyytGwHAd8jjNyng4OD7vnz51dbPT8/7z58+NB9+/bt6jU/TI+AGWHEnrx48eJ/EsSmHzx40L18+fLyzxF3ZVMjEyDCiEDjMYZZS5wiPXnyZFbJaxMhQIQRGzHvWR7XCyOCXsOmiDAi1HmPMMQjDpbpEiDCiL358eNHurW/5SnWdIBbXiDCiA38/Pnzrce2YyZ4//59F3ePLNMl4PbpiL2J0L979+7yDtHDhw8vtzzvdGnEXdvUigSIsCLAWavHp/+qM0BcXMd/q25n1vF57TYBp0a3mUzilePj4+7k5KSLb6gt6ydAhPUzXnoPR0dHl79WGTNCfBnn1uvSCJdegQhLI1vvCk+fPu2ePXt2tZOYEV6/fn31dz+shwAR1sP1cqvLntbEN9MxA9xcYjsxS1jWR4AIa2Ibzx0tc44fYX/16lV6NDFLXH+YL32jwiACRBiEbf5KcXoTIsQSpzXx4N28Ja4BQoK7rgXiydbHjx/P25TaQAJEGAguWy0+2Q8PD6/Ki4R8EVl+bzBOnZY95fq9rj9zAkTI2SxdidBHqG9+skdw43borCXO/ZcJdraPWdv22uIEiLA4q7nvvCug8WTqzQveOH26fodo7g6uFe/a17W3+nFBAkRYENRdb1vkkz1CH9cPsVy/jrhr27PqMYvENYNlHAIesRiBYwRy0V+8iXP8+/fvX11Mr7L7ECueb/r48eMqm7FuI2BGWDEG8cm+7G3NEOfmdcTQw4h9/55lhm7DekRYKQPZF2ArbXTAyu4kDYB2YxUzwg0gi/41ztHnfQG26HbGel/crVrm7tNY+/1btkOEAZ2M05r4FB7r9GbAIdxaZYrHdOsgJ/wCEQY0J74TmOKnbxxT9n3FgGGWWsVdowHtjt9Nnvf7yQM2aZU/TIAIAxrw6dOnAWtZZcoEnBpNuTuObWMEiLAx1HY0ZQJEmHJ3HNvGCBBhY6jtaMoEiJB0Z29vL6ls58vxPcO8/zfrdo5qvKO+d3Fx8Wu8zf1dW4p/cPzLly/dtv9Ts/EbcvGAHhHyfBIhZ6NSiIBTo0LNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiEC/wGgKKC4YMA4TAAAAABJRU5ErkJggg==",Tpe=n=>{const{onChange:e}=n,[t,r]=w.useState(!1),[a,o]=w.useState(0),[l,s]=w.useState(""),[u,f]=w.useState(!1),[m,y]=w.useState(!1),[_,E]=w.useState(),[c,p]=w.useState(0),g=()=>{o(1)},b=(M,O)=>{u||(s(M),f(!0),setTimeout(()=>{s(Mpe[O].src),f(!1)},1e3))},C=()=>{y(!m)},T=M=>{E(M),e(M)};return w.useEffect(()=>{if(c===100){setTimeout(()=>{o(2)},300);return}a===1&&setTimeout(()=>{c<100&&p(c+1)},16)},[a,c]),ke.jsxs(ke.Fragment,{children:[ke.jsx("div",{className:Iu.formContent,children:ke.jsxs(Vu,{gutter:[0,12],children:[ke.jsx(Gie,{onChange:g}),a===1&&ke.jsxs(ke.Fragment,{children:[ke.jsx("div",{children:"..."}),ke.jsx(wH,{percent:c})]}),a>=2&&ke.jsxs(ke.Fragment,{children:[ke.jsx(yr,{span:8,children:ke.jsx(UC,{color:"#2b2c3a",children:""})}),ke.jsx(yr,{span:8,children:ke.jsx(UC,{color:"#2b2c3a",children:"Mask"})}),ke.jsx(yr,{span:8,children:ke.jsx(UC,{color:"#2b2c3a",children:"3D"})}),ke.jsxs(Vu,{gutter:4,justify:"space-around",align:"middle",children:[ke.jsx(yr,{span:8,children:ke.jsx(Yv,{src:rpe,fallback:tR,className:Iu.imageSelect,width:"100%"})}),ke.jsx(yr,{span:8,children:ke.jsx(Yv,{src:ape,fallback:tR,className:Iu.imageSelect,width:"100%"})}),ke.jsx(yr,{span:8,children:ke.jsx(ipe,{})})]})]}),a>=2&&ke.jsxs(ke.Fragment,{children:[ke.jsx("label",{children:""}),ke.jsxs(Vu,{gutter:[12,12],children:[ke.jsx(yr,{span:24,children:ke.jsx(Epe,{images:Ape,onSelect:b})}),ke.jsxs(yr,{span:24,children:[ke.jsx(pa,{size:"large",color:"default",variant:"solid",className:Iu.customButton,onClick:()=>r(!0),children:"Custom"}),ke.jsx(Gl,{title:"",centered:!0,open:t,onOk:()=>r(!1),onCancel:()=>r(!1),width:1e3,children:ke.jsx("iframe",{width:"950",height:"600",src:"https://threejs.org/editor/"})})]}),l&&ke.jsx(yr,{children:ke.jsx(Yv,{style:u?{filter:"blur(10px)"}:{},src:l,fallback:tR,className:Iu.imageSelect,width:"100%"})})]})]}),a>=2&&ke.jsxs(ke.Fragment,{children:[ke.jsx(yr,{span:20,children:ke.jsx("label",{children:""})}),ke.jsx(yr,{span:4,children:ke.jsx(MH,{disabled:!l,defaultChecked:!1,onChange:C})}),m&&ke.jsxs(ke.Fragment,{children:[ke.jsx(wpe,{}),ke.jsxs(dH,{children:[ke.jsx("label",{children:""}),ke.jsxs(cm.Group,{value:_,onChange:M=>T(M.target.value),children:[ke.jsx(cm.Button,{value:"moveLeft",children:"Move Left"}),ke.jsx(cm.Button,{value:"moveUp",children:"Move Up"}),ke.jsx(cm.Button,{value:"compress",children:"Compress"})]})]})]})]}),a>=2&&ke.jsxs(Vu,{gutter:[12,12],children:[ke.jsx(yr,{span:24,children:ke.jsx("label",{children:""})}),ke.jsx(yr,{span:24,children:ke.jsx(KN,{className:Iu.textarea,rows:4,placeholder:"Positive Prompt",maxLength:6})}),ke.jsx(yr,{span:24,children:ke.jsx(KN,{className:Iu.textarea,rows:4,placeholder:"Negative Prompt",maxLength:6})})]})]})}),ke.jsx("div",{className:Iu.formFooter,children:ke.jsx(pa,{className:Je(Iu.linearGradientButton,Iu.footerButton),type:"primary",size:"large",onClick:()=>x2.emit(C2.ADD_FAKE_VIDEO),children:"Create"})})]})};var nR={},JN;function Rpe(){return JN||(JN=1,function(n){var e=function(){var c=new Date,p=4,g=3,b=2,C=1,T=p,M={setLogLevel:function(O){O==this.debug?T=C:O==this.info?T=b:O==this.warn?T=g:(O==this.error,T=p)},debug:function(O,B){console.debug===void 0&&(console.debug=console.log),C>=T&&console.debug("["+e.getDurationString(new Date-c,1e3)+"]","["+O+"]",B)},log:function(O,B){this.debug(O.msg)},info:function(O,B){b>=T&&console.info("["+e.getDurationString(new Date-c,1e3)+"]","["+O+"]",B)},warn:function(O,B){g>=T&&console.warn("["+e.getDurationString(new Date-c,1e3)+"]","["+O+"]",B)},error:function(O,B){p>=T&&console.error("["+e.getDurationString(new Date-c,1e3)+"]","["+O+"]",B)}};return M}();e.getDurationString=function(c,p){var g;function b(P,F){for(var U=""+P,z=U.split(".");z[0].length<F;)z[0]="0"+z[0];return z.join(".")}c<0?(g=!0,c=-c):g=!1;var C=p||1,T=c/C,M=Math.floor(T/3600);T-=M*3600;var O=Math.floor(T/60);T-=O*60;var B=T*1e3;return T=Math.floor(T),B-=T*1e3,B=Math.floor(B),(g?"-":"")+M+":"+b(O,2)+":"+b(T,2)+"."+b(B,3)},e.printRanges=function(c){var p=c.length;if(p>0){for(var g="",b=0;b<p;b++)b>0&&(g+=","),g+="["+e.getDurationString(c.start(b))+","+e.getDurationString(c.end(b))+"]";return g}else return"(empty)"},n.Log=e;var t=function(c){if(c instanceof ArrayBuffer)this.buffer=c,this.dataview=new DataView(c);else throw"Needs an array buffer";this.position=0};t.prototype.getPosition=function(){return this.position},t.prototype.getEndPosition=function(){return this.buffer.byteLength},t.prototype.getLength=function(){return this.buffer.byteLength},t.prototype.seek=function(c){var p=Math.max(0,Math.min(this.buffer.byteLength,c));return this.position=isNaN(p)||!isFinite(p)?0:p,!0},t.prototype.isEos=function(){return this.getPosition()>=this.getEndPosition()},t.prototype.readAnyInt=function(c,p){var g=0;if(this.position+c<=this.buffer.byteLength){switch(c){case 1:p?g=this.dataview.getInt8(this.position):g=this.dataview.getUint8(this.position);break;case 2:p?g=this.dataview.getInt16(this.position):g=this.dataview.getUint16(this.position);break;case 3:if(p)throw"No method for reading signed 24 bits values";g=this.dataview.getUint8(this.position)<<16,g|=this.dataview.getUint8(this.position+1)<<8,g|=this.dataview.getUint8(this.position+2);break;case 4:p?g=this.dataview.getInt32(this.position):g=this.dataview.getUint32(this.position);break;case 8:if(p)throw"No method for reading signed 64 bits values";g=this.dataview.getUint32(this.position)<<32,g|=this.dataview.getUint32(this.position+4);break;default:throw"readInt method not implemented for size: "+c}return this.position+=c,g}else throw"Not enough bytes in buffer"},t.prototype.readUint8=function(){return this.readAnyInt(1,!1)},t.prototype.readUint16=function(){return this.readAnyInt(2,!1)},t.prototype.readUint24=function(){return this.readAnyInt(3,!1)},t.prototype.readUint32=function(){return this.readAnyInt(4,!1)},t.prototype.readUint64=function(){return this.readAnyInt(8,!1)},t.prototype.readString=function(c){if(this.position+c<=this.buffer.byteLength){for(var p="",g=0;g<c;g++)p+=String.fromCharCode(this.readUint8());return p}else throw"Not enough bytes in buffer"},t.prototype.readCString=function(){for(var c=[];;){var p=this.readUint8();if(p!==0)c.push(p);else break}return String.fromCharCode.apply(null,c)},t.prototype.readInt8=function(){return this.readAnyInt(1,!0)},t.prototype.readInt16=function(){return this.readAnyInt(2,!0)},t.prototype.readInt32=function(){return this.readAnyInt(4,!0)},t.prototype.readInt64=function(){return this.readAnyInt(8,!1)},t.prototype.readUint8Array=function(c){for(var p=new Uint8Array(c),g=0;g<c;g++)p[g]=this.readUint8();return p},t.prototype.readInt16Array=function(c){for(var p=new Int16Array(c),g=0;g<c;g++)p[g]=this.readInt16();return p},t.prototype.readUint16Array=function(c){for(var p=new Int16Array(c),g=0;g<c;g++)p[g]=this.readUint16();return p},t.prototype.readUint32Array=function(c){for(var p=new Uint32Array(c),g=0;g<c;g++)p[g]=this.readUint32();return p},t.prototype.readInt32Array=function(c){for(var p=new Int32Array(c),g=0;g<c;g++)p[g]=this.readInt32();return p},n.MP4BoxStream=t;var r=function(c,p,g){this._byteOffset=p||0,c instanceof ArrayBuffer?this.buffer=c:typeof c=="object"?(this.dataView=c,p&&(this._byteOffset+=p)):this.buffer=new ArrayBuffer(c||0),this.position=0,this.endianness=g??r.LITTLE_ENDIAN};r.prototype={},r.prototype.getPosition=function(){return this.position},r.prototype._realloc=function(c){if(this._dynamicSize){var p=this._byteOffset+this.position+c,g=this._buffer.byteLength;if(p<=g){p>this._byteLength&&(this._byteLength=p);return}for(g<1&&(g=1);p>g;)g*=2;var b=new ArrayBuffer(g),C=new Uint8Array(this._buffer),T=new Uint8Array(b,0,C.length);T.set(C),this.buffer=b,this._byteLength=p}},r.prototype._trimAlloc=function(){if(this._byteLength!=this._buffer.byteLength){var c=new ArrayBuffer(this._byteLength),p=new Uint8Array(c),g=new Uint8Array(this._buffer,0,p.length);p.set(g),this.buffer=c}},r.BIG_ENDIAN=!1,r.LITTLE_ENDIAN=!0,r.prototype._byteLength=0,Object.defineProperty(r.prototype,"byteLength",{get:function(){return this._byteLength-this._byteOffset}}),Object.defineProperty(r.prototype,"buffer",{get:function(){return this._trimAlloc(),this._buffer},set:function(c){this._buffer=c,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(r.prototype,"byteOffset",{get:function(){return this._byteOffset},set:function(c){this._byteOffset=c,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(r.prototype,"dataView",{get:function(){return this._dataView},set:function(c){this._byteOffset=c.byteOffset,this._buffer=c.buffer,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._byteOffset+c.byteLength}}),r.prototype.seek=function(c){var p=Math.max(0,Math.min(this.byteLength,c));this.position=isNaN(p)||!isFinite(p)?0:p},r.prototype.isEof=function(){return this.position>=this._byteLength},r.prototype.mapUint8Array=function(c){this._realloc(c*1);var p=new Uint8Array(this._buffer,this.byteOffset+this.position,c);return this.position+=c*1,p},r.prototype.readInt32Array=function(c,p){c=c??this.byteLength-this.position/4;var g=new Int32Array(c);return r.memcpy(g.buffer,0,this.buffer,this.byteOffset+this.position,c*g.BYTES_PER_ELEMENT),r.arrayToNative(g,p??this.endianness),this.position+=g.byteLength,g},r.prototype.readInt16Array=function(c,p){c=c??this.byteLength-this.position/2;var g=new Int16Array(c);return r.memcpy(g.buffer,0,this.buffer,this.byteOffset+this.position,c*g.BYTES_PER_ELEMENT),r.arrayToNative(g,p??this.endianness),this.position+=g.byteLength,g},r.prototype.readInt8Array=function(c){c=c??this.byteLength-this.position;var p=new Int8Array(c);return r.memcpy(p.buffer,0,this.buffer,this.byteOffset+this.position,c*p.BYTES_PER_ELEMENT),this.position+=p.byteLength,p},r.prototype.readUint32Array=function(c,p){c=c??this.byteLength-this.position/4;var g=new Uint32Array(c);return r.memcpy(g.buffer,0,this.buffer,this.byteOffset+this.position,c*g.BYTES_PER_ELEMENT),r.arrayToNative(g,p??this.endianness),this.position+=g.byteLength,g},r.prototype.readUint16Array=function(c,p){c=c??this.byteLength-this.position/2;var g=new Uint16Array(c);return r.memcpy(g.buffer,0,this.buffer,this.byteOffset+this.position,c*g.BYTES_PER_ELEMENT),r.arrayToNative(g,p??this.endianness),this.position+=g.byteLength,g},r.prototype.readUint8Array=function(c){c=c??this.byteLength-this.position;var p=new Uint8Array(c);return r.memcpy(p.buffer,0,this.buffer,this.byteOffset+this.position,c*p.BYTES_PER_ELEMENT),this.position+=p.byteLength,p},r.prototype.readFloat64Array=function(c,p){c=c??this.byteLength-this.position/8;var g=new Float64Array(c);return r.memcpy(g.buffer,0,this.buffer,this.byteOffset+this.position,c*g.BYTES_PER_ELEMENT),r.arrayToNative(g,p??this.endianness),this.position+=g.byteLength,g},r.prototype.readFloat32Array=function(c,p){c=c??this.byteLength-this.position/4;var g=new Float32Array(c);return r.memcpy(g.buffer,0,this.buffer,this.byteOffset+this.position,c*g.BYTES_PER_ELEMENT),r.arrayToNative(g,p??this.endianness),this.position+=g.byteLength,g},r.prototype.readInt32=function(c){var p=this._dataView.getInt32(this.position,c??this.endianness);return this.position+=4,p},r.prototype.readInt16=function(c){var p=this._dataView.getInt16(this.position,c??this.endianness);return this.position+=2,p},r.prototype.readInt8=function(){var c=this._dataView.getInt8(this.position);return this.position+=1,c},r.prototype.readUint32=function(c){var p=this._dataView.getUint32(this.position,c??this.endianness);return this.position+=4,p},r.prototype.readUint16=function(c){var p=this._dataView.getUint16(this.position,c??this.endianness);return this.position+=2,p},r.prototype.readUint8=function(){var c=this._dataView.getUint8(this.position);return this.position+=1,c},r.prototype.readFloat32=function(c){var p=this._dataView.getFloat32(this.position,c??this.endianness);return this.position+=4,p},r.prototype.readFloat64=function(c){var p=this._dataView.getFloat64(this.position,c??this.endianness);return this.position+=8,p},r.endianness=new Int8Array(new Int16Array([1]).buffer)[0]>0,r.memcpy=function(c,p,g,b,C){var T=new Uint8Array(c,p,C),M=new Uint8Array(g,b,C);T.set(M)},r.arrayToNative=function(c,p){return p==this.endianness?c:this.flipArrayEndianness(c)},r.nativeToEndian=function(c,p){return this.endianness==p?c:this.flipArrayEndianness(c)},r.flipArrayEndianness=function(c){for(var p=new Uint8Array(c.buffer,c.byteOffset,c.byteLength),g=0;g<c.byteLength;g+=c.BYTES_PER_ELEMENT)for(var b=g+c.BYTES_PER_ELEMENT-1,C=g;b>C;b--,C++){var T=p[C];p[C]=p[b],p[b]=T}return c},r.prototype.failurePosition=0,String.fromCharCodeUint8=function(c){for(var p=[],g=0;g<c.length;g++)p[g]=c[g];return String.fromCharCode.apply(null,p)},r.prototype.readString=function(c,p){return p==null||p=="ASCII"?String.fromCharCodeUint8.apply(null,[this.mapUint8Array(c??this.byteLength-this.position)]):new TextDecoder(p).decode(this.mapUint8Array(c))},r.prototype.readCString=function(c){var p=this.byteLength-this.position,g=new Uint8Array(this._buffer,this._byteOffset+this.position),b=p;c!=null&&(b=Math.min(c,p));for(var C=0;C<b&&g[C]!==0;C++);var T=String.fromCharCodeUint8.apply(null,[this.mapUint8Array(C)]);return c!=null?this.position+=b-C:C!=p&&(this.position+=1),T};var a=Math.pow(2,32);r.prototype.readInt64=function(){return this.readInt32()*a+this.readUint32()},r.prototype.readUint64=function(){return this.readUint32()*a+this.readUint32()},r.prototype.readInt64=function(){return this.readUint32()*a+this.readUint32()},r.prototype.readUint24=function(){return(this.readUint8()<<16)+(this.readUint8()<<8)+this.readUint8()},n.DataStream=r,r.prototype.save=function(c){var p=new Blob([this.buffer]);if(window.URL&&URL.createObjectURL){var g=window.URL.createObjectURL(p),b=document.createElement("a");document.body.appendChild(b),b.setAttribute("href",g),b.setAttribute("download",c),b.setAttribute("target","_self"),b.click(),window.URL.revokeObjectURL(g)}else throw"DataStream.save: Can't create object URL."},r.prototype._dynamicSize=!0,Object.defineProperty(r.prototype,"dynamicSize",{get:function(){return this._dynamicSize},set:function(c){c||this._trimAlloc(),this._dynamicSize=c}}),r.prototype.shift=function(c){var p=new ArrayBuffer(this._byteLength-c),g=new Uint8Array(p),b=new Uint8Array(this._buffer,c,g.length);g.set(b),this.buffer=p,this.position-=c},r.prototype.writeInt32Array=function(c,p){if(this._realloc(c.length*4),c instanceof Int32Array&&this.byteOffset+this.position%c.BYTES_PER_ELEMENT===0)r.memcpy(this._buffer,this.byteOffset+this.position,c.buffer,0,c.byteLength),this.mapInt32Array(c.length,p);else for(var g=0;g<c.length;g++)this.writeInt32(c[g],p)},r.prototype.writeInt16Array=function(c,p){if(this._realloc(c.length*2),c instanceof Int16Array&&this.byteOffset+this.position%c.BYTES_PER_ELEMENT===0)r.memcpy(this._buffer,this.byteOffset+this.position,c.buffer,0,c.byteLength),this.mapInt16Array(c.length,p);else for(var g=0;g<c.length;g++)this.writeInt16(c[g],p)},r.prototype.writeInt8Array=function(c){if(this._realloc(c.length*1),c instanceof Int8Array&&this.byteOffset+this.position%c.BYTES_PER_ELEMENT===0)r.memcpy(this._buffer,this.byteOffset+this.position,c.buffer,0,c.byteLength),this.mapInt8Array(c.length);else for(var p=0;p<c.length;p++)this.writeInt8(c[p])},r.prototype.writeUint32Array=function(c,p){if(this._realloc(c.length*4),c instanceof Uint32Array&&this.byteOffset+this.position%c.BYTES_PER_ELEMENT===0)r.memcpy(this._buffer,this.byteOffset+this.position,c.buffer,0,c.byteLength),this.mapUint32Array(c.length,p);else for(var g=0;g<c.length;g++)this.writeUint32(c[g],p)},r.prototype.writeUint16Array=function(c,p){if(this._realloc(c.length*2),c instanceof Uint16Array&&this.byteOffset+this.position%c.BYTES_PER_ELEMENT===0)r.memcpy(this._buffer,this.byteOffset+this.position,c.buffer,0,c.byteLength),this.mapUint16Array(c.length,p);else for(var g=0;g<c.length;g++)this.writeUint16(c[g],p)},r.prototype.writeUint8Array=function(c){if(this._realloc(c.length*1),c instanceof Uint8Array&&this.byteOffset+this.position%c.BYTES_PER_ELEMENT===0)r.memcpy(this._buffer,this.byteOffset+this.position,c.buffer,0,c.byteLength),this.mapUint8Array(c.length);else for(var p=0;p<c.length;p++)this.writeUint8(c[p])},r.prototype.writeFloat64Array=function(c,p){if(this._realloc(c.length*8),c instanceof Float64Array&&this.byteOffset+this.position%c.BYTES_PER_ELEMENT===0)r.memcpy(this._buffer,this.byteOffset+this.position,c.buffer,0,c.byteLength),this.mapFloat64Array(c.length,p);else for(var g=0;g<c.length;g++)this.writeFloat64(c[g],p)},r.prototype.writeFloat32Array=function(c,p){if(this._realloc(c.length*4),c instanceof Float32Array&&this.byteOffset+this.position%c.BYTES_PER_ELEMENT===0)r.memcpy(this._buffer,this.byteOffset+this.position,c.buffer,0,c.byteLength),this.mapFloat32Array(c.length,p);else for(var g=0;g<c.length;g++)this.writeFloat32(c[g],p)},r.prototype.writeInt32=function(c,p){this._realloc(4),this._dataView.setInt32(this.position,c,p??this.endianness),this.position+=4},r.prototype.writeInt16=function(c,p){this._realloc(2),this._dataView.setInt16(this.position,c,p??this.endianness),this.position+=2},r.prototype.writeInt8=function(c){this._realloc(1),this._dataView.setInt8(this.position,c),this.position+=1},r.prototype.writeUint32=function(c,p){this._realloc(4),this._dataView.setUint32(this.position,c,p??this.endianness),this.position+=4},r.prototype.writeUint16=function(c,p){this._realloc(2),this._dataView.setUint16(this.position,c,p??this.endianness),this.position+=2},r.prototype.writeUint8=function(c){this._realloc(1),this._dataView.setUint8(this.position,c),this.position+=1},r.prototype.writeFloat32=function(c,p){this._realloc(4),this._dataView.setFloat32(this.position,c,p??this.endianness),this.position+=4},r.prototype.writeFloat64=function(c,p){this._realloc(8),this._dataView.setFloat64(this.position,c,p??this.endianness),this.position+=8},r.prototype.writeUCS2String=function(c,p,g){g==null&&(g=c.length);for(var b=0;b<c.length&&b<g;b++)this.writeUint16(c.charCodeAt(b),p);for(;b<g;b++)this.writeUint16(0)},r.prototype.writeString=function(c,p,g){var b=0;if(p==null||p=="ASCII")if(g!=null){var C=Math.min(c.length,g);for(b=0;b<C;b++)this.writeUint8(c.charCodeAt(b));for(;b<g;b++)this.writeUint8(0)}else for(b=0;b<c.length;b++)this.writeUint8(c.charCodeAt(b));else this.writeUint8Array(new TextEncoder(p).encode(c.substring(0,g)))},r.prototype.writeCString=function(c,p){var g=0;if(p!=null){var b=Math.min(c.length,p);for(g=0;g<b;g++)this.writeUint8(c.charCodeAt(g));for(;g<p;g++)this.writeUint8(0)}else{for(g=0;g<c.length;g++)this.writeUint8(c.charCodeAt(g));this.writeUint8(0)}},r.prototype.writeStruct=function(c,p){for(var g=0;g<c.length;g+=2){var b=c[g+1];this.writeType(b,p[c[g]],p)}},r.prototype.writeType=function(c,p,g){var b;if(typeof c=="function")return c(this,p);if(typeof c=="object"&&!(c instanceof Array))return c.set(this,p,g);var C=null,T="ASCII",M=this.position;switch(typeof c=="string"&&/:/.test(c)&&(b=c.split(":"),c=b[0],C=parseInt(b[1])),typeof c=="string"&&/,/.test(c)&&(b=c.split(","),c=b[0],T=parseInt(b[1])),c){case"uint8":this.writeUint8(p);break;case"int8":this.writeInt8(p);break;case"uint16":this.writeUint16(p,this.endianness);break;case"int16":this.writeInt16(p,this.endianness);break;case"uint32":this.writeUint32(p,this.endianness);break;case"int32":this.writeInt32(p,this.endianness);break;case"float32":this.writeFloat32(p,this.endianness);break;case"float64":this.writeFloat64(p,this.endianness);break;case"uint16be":this.writeUint16(p,r.BIG_ENDIAN);break;case"int16be":this.writeInt16(p,r.BIG_ENDIAN);break;case"uint32be":this.writeUint32(p,r.BIG_ENDIAN);break;case"int32be":this.writeInt32(p,r.BIG_ENDIAN);break;case"float32be":this.writeFloat32(p,r.BIG_ENDIAN);break;case"float64be":this.writeFloat64(p,r.BIG_ENDIAN);break;case"uint16le":this.writeUint16(p,r.LITTLE_ENDIAN);break;case"int16le":this.writeInt16(p,r.LITTLE_ENDIAN);break;case"uint32le":this.writeUint32(p,r.LITTLE_ENDIAN);break;case"int32le":this.writeInt32(p,r.LITTLE_ENDIAN);break;case"float32le":this.writeFloat32(p,r.LITTLE_ENDIAN);break;case"float64le":this.writeFloat64(p,r.LITTLE_ENDIAN);break;case"cstring":this.writeCString(p,C);break;case"string":this.writeString(p,T,C);break;case"u16string":this.writeUCS2String(p,this.endianness,C);break;case"u16stringle":this.writeUCS2String(p,r.LITTLE_ENDIAN,C);break;case"u16stringbe":this.writeUCS2String(p,r.BIG_ENDIAN,C);break;default:if(c.length==3){for(var O=c[1],B=0;B<p.length;B++)this.writeType(O,p[B]);break}else{this.writeStruct(c,p);break}}C!=null&&(this.position=M,this._realloc(C),this.position=M+C)},r.prototype.writeUint64=function(c){var p=Math.floor(c/a);this.writeUint32(p),this.writeUint32(c&4294967295)},r.prototype.writeUint24=function(c){this.writeUint8((c&16711680)>>16),this.writeUint8((c&65280)>>8),this.writeUint8(c&255)},r.prototype.adjustUint32=function(c,p){var g=this.position;this.seek(c),this.writeUint32(p),this.seek(g)},r.prototype.mapInt32Array=function(c,p){this._realloc(c*4);var g=new Int32Array(this._buffer,this.byteOffset+this.position,c);return r.arrayToNative(g,p??this.endianness),this.position+=c*4,g},r.prototype.mapInt16Array=function(c,p){this._realloc(c*2);var g=new Int16Array(this._buffer,this.byteOffset+this.position,c);return r.arrayToNative(g,p??this.endianness),this.position+=c*2,g},r.prototype.mapInt8Array=function(c){this._realloc(c*1);var p=new Int8Array(this._buffer,this.byteOffset+this.position,c);return this.position+=c*1,p},r.prototype.mapUint32Array=function(c,p){this._realloc(c*4);var g=new Uint32Array(this._buffer,this.byteOffset+this.position,c);return r.arrayToNative(g,p??this.endianness),this.position+=c*4,g},r.prototype.mapUint16Array=function(c,p){this._realloc(c*2);var g=new Uint16Array(this._buffer,this.byteOffset+this.position,c);return r.arrayToNative(g,p??this.endianness),this.position+=c*2,g},r.prototype.mapFloat64Array=function(c,p){this._realloc(c*8);var g=new Float64Array(this._buffer,this.byteOffset+this.position,c);return r.arrayToNative(g,p??this.endianness),this.position+=c*8,g},r.prototype.mapFloat32Array=function(c,p){this._realloc(c*4);var g=new Float32Array(this._buffer,this.byteOffset+this.position,c);return r.arrayToNative(g,p??this.endianness),this.position+=c*4,g};var o=function(c){this.buffers=[],this.bufferIndex=-1,c&&(this.insertBuffer(c),this.bufferIndex=0)};o.prototype=new r(new ArrayBuffer,0,r.BIG_ENDIAN),o.prototype.initialized=function(){var c;return this.bufferIndex>-1?!0:this.buffers.length>0?(c=this.buffers[0],c.fileStart===0?(this.buffer=c,this.bufferIndex=0,e.debug("MultiBufferStream","Stream ready for parsing"),!0):(e.warn("MultiBufferStream","The first buffer should have a fileStart of 0"),this.logBufferLevel(),!1)):(e.warn("MultiBufferStream","No buffer to start parsing from"),this.logBufferLevel(),!1)},ArrayBuffer.concat=function(c,p){e.debug("ArrayBuffer","Trying to create a new buffer of size: "+(c.byteLength+p.byteLength));var g=new Uint8Array(c.byteLength+p.byteLength);return g.set(new Uint8Array(c),0),g.set(new Uint8Array(p),c.byteLength),g.buffer},o.prototype.reduceBuffer=function(c,p,g){var b;return b=new Uint8Array(g),b.set(new Uint8Array(c,p,g)),b.buffer.fileStart=c.fileStart+p,b.buffer.usedBytes=0,b.buffer},o.prototype.insertBuffer=function(c){for(var p=!0,g=0;g<this.buffers.length;g++){var b=this.buffers[g];if(c.fileStart<=b.fileStart){if(c.fileStart===b.fileStart)if(c.byteLength>b.byteLength){this.buffers.splice(g,1),g--;continue}else e.warn("MultiBufferStream","Buffer (fileStart: "+c.fileStart+" - Length: "+c.byteLength+") already appended, ignoring");else c.fileStart+c.byteLength<=b.fileStart||(c=this.reduceBuffer(c,0,b.fileStart-c.fileStart)),e.debug("MultiBufferStream","Appending new buffer (fileStart: "+c.fileStart+" - Length: "+c.byteLength+")"),this.buffers.splice(g,0,c),g===0&&(this.buffer=c);p=!1;break}else if(c.fileStart<b.fileStart+b.byteLength){var C=b.fileStart+b.byteLength-c.fileStart,T=c.byteLength-C;if(T>0)c=this.reduceBuffer(c,C,T);else{p=!1;break}}}p&&(e.debug("MultiBufferStream","Appending new buffer (fileStart: "+c.fileStart+" - Length: "+c.byteLength+")"),this.buffers.push(c),g===0&&(this.buffer=c))},o.prototype.logBufferLevel=function(c){var p,g,b,C,T=[],M,O="";for(b=0,C=0,p=0;p<this.buffers.length;p++)g=this.buffers[p],p===0?(M={},T.push(M),M.start=g.fileStart,M.end=g.fileStart+g.byteLength,O+="["+M.start+"-"):M.end===g.fileStart?M.end=g.fileStart+g.byteLength:(M={},M.start=g.fileStart,O+=T[T.length-1].end-1+"], ["+M.start+"-",M.end=g.fileStart+g.byteLength,T.push(M)),b+=g.usedBytes,C+=g.byteLength;T.length>0&&(O+=M.end-1+"]");var B=c?e.info:e.debug;this.buffers.length===0?B("MultiBufferStream","No more buffer in memory"):B("MultiBufferStream",""+this.buffers.length+" stored buffer(s) ("+b+"/"+C+" bytes), continuous ranges: "+O)},o.prototype.cleanBuffers=function(){var c,p;for(c=0;c<this.buffers.length;c++)p=this.buffers[c],p.usedBytes===p.byteLength&&(e.debug("MultiBufferStream","Removing buffer #"+c),this.buffers.splice(c,1),c--)},o.prototype.mergeNextBuffer=function(){var c;if(this.bufferIndex+1<this.buffers.length)if(c=this.buffers[this.bufferIndex+1],c.fileStart===this.buffer.fileStart+this.buffer.byteLength){var p=this.buffer.byteLength,g=this.buffer.usedBytes,b=this.buffer.fileStart;return this.buffers[this.bufferIndex]=ArrayBuffer.concat(this.buffer,c),this.buffer=this.buffers[this.bufferIndex],this.buffers.splice(this.bufferIndex+1,1),this.buffer.usedBytes=g,this.buffer.fileStart=b,e.debug("ISOFile","Concatenating buffer for box parsing (length: "+p+"->"+this.buffer.byteLength+")"),!0}else return!1;else return!1},o.prototype.findPosition=function(c,p,g){var b,C=null,T=-1;for(c===!0?b=0:b=this.bufferIndex;b<this.buffers.length&&(C=this.buffers[b],C.fileStart<=p);){T=b,g&&(C.fileStart+C.byteLength<=p?C.usedBytes=C.byteLength:C.usedBytes=p-C.fileStart,this.logBufferLevel());b++}return T!==-1?(C=this.buffers[T],C.fileStart+C.byteLength>=p?(e.debug("MultiBufferStream","Found position in existing buffer #"+T),T):-1):-1},o.prototype.findEndContiguousBuf=function(c){var p,g,b,C=c!==void 0?c:this.bufferIndex;if(g=this.buffers[C],this.buffers.length>C+1)for(p=C+1;p<this.buffers.length&&(b=this.buffers[p],b.fileStart===g.fileStart+g.byteLength);p++)g=b;return g.fileStart+g.byteLength},o.prototype.getEndFilePositionAfter=function(c){var p=this.findPosition(!0,c,!1);return p!==-1?this.findEndContiguousBuf(p):c},o.prototype.addUsedBytes=function(c){this.buffer.usedBytes+=c,this.logBufferLevel()},o.prototype.setAllUsedBytes=function(){this.buffer.usedBytes=this.buffer.byteLength,this.logBufferLevel()},o.prototype.seek=function(c,p,g){var b;return b=this.findPosition(p,c,g),b!==-1?(this.buffer=this.buffers[b],this.bufferIndex=b,this.position=c-this.buffer.fileStart,e.debug("MultiBufferStream","Repositioning parser at buffer position: "+this.position),!0):(e.debug("MultiBufferStream","Position "+c+" not found in buffered data"),!1)},o.prototype.getPosition=function(){if(this.bufferIndex===-1||this.buffers[this.bufferIndex]===null)throw"Error accessing position in the MultiBufferStream";return this.buffers[this.bufferIndex].fileStart+this.position},o.prototype.getLength=function(){return this.byteLength},o.prototype.getEndPosition=function(){if(this.bufferIndex===-1||this.buffers[this.bufferIndex]===null)throw"Error accessing position in the MultiBufferStream";return this.buffers[this.bufferIndex].fileStart+this.byteLength},n.MultiBufferStream=o;var l=function(){var c=3,p=4,g=5,b=6,C=[];C[c]="ES_Descriptor",C[p]="DecoderConfigDescriptor",C[g]="DecoderSpecificInfo",C[b]="SLConfigDescriptor",this.getDescriptorName=function(O){return C[O]};var T=this,M={};return this.parseOneDescriptor=function(O){var B=0,P,F,U;for(P=O.readUint8(),U=O.readUint8();U&128;)B=(U&127)<<7,U=O.readUint8();return B+=U&127,e.debug("MPEG4DescriptorParser","Found "+(C[P]||"Descriptor "+P)+", size "+B+" at position "+O.getPosition()),C[P]?F=new M[C[P]](B):F=new M.Descriptor(B),F.parse(O),F},M.Descriptor=function(O,B){this.tag=O,this.size=B,this.descs=[]},M.Descriptor.prototype.parse=function(O){this.data=O.readUint8Array(this.size)},M.Descriptor.prototype.findDescriptor=function(O){for(var B=0;B<this.descs.length;B++)if(this.descs[B].tag==O)return this.descs[B];return null},M.Descriptor.prototype.parseRemainingDescriptors=function(O){for(var B=O.position;O.position<B+this.size;){var P=T.parseOneDescriptor(O);this.descs.push(P)}},M.ES_Descriptor=function(O){M.Descriptor.call(this,c,O)},M.ES_Descriptor.prototype=new M.Descriptor,M.ES_Descriptor.prototype.parse=function(O){if(this.ES_ID=O.readUint16(),this.flags=O.readUint8(),this.size-=3,this.flags&128?(this.dependsOn_ES_ID=O.readUint16(),this.size-=2):this.dependsOn_ES_ID=0,this.flags&64){var B=O.readUint8();this.URL=O.readString(B),this.size-=B+1}else this.URL="";this.flags&32?(this.OCR_ES_ID=O.readUint16(),this.size-=2):this.OCR_ES_ID=0,this.parseRemainingDescriptors(O)},M.ES_Descriptor.prototype.getOTI=function(O){var B=this.findDescriptor(p);return B?B.oti:0},M.ES_Descriptor.prototype.getAudioConfig=function(O){var B=this.findDescriptor(p);if(!B)return null;var P=B.findDescriptor(g);if(P&&P.data){var F=(P.data[0]&248)>>3;return F===31&&P.data.length>=2&&(F=32+((P.data[0]&7)<<3)+((P.data[1]&224)>>5)),F}else return null},M.DecoderConfigDescriptor=function(O){M.Descriptor.call(this,p,O)},M.DecoderConfigDescriptor.prototype=new M.Descriptor,M.DecoderConfigDescriptor.prototype.parse=function(O){this.oti=O.readUint8(),this.streamType=O.readUint8(),this.upStream=(this.streamType>>1&1)!==0,this.streamType=this.streamType>>>2,this.bufferSize=O.readUint24(),this.maxBitrate=O.readUint32(),this.avgBitrate=O.readUint32(),this.size-=13,this.parseRemainingDescriptors(O)},M.DecoderSpecificInfo=function(O){M.Descriptor.call(this,g,O)},M.DecoderSpecificInfo.prototype=new M.Descriptor,M.SLConfigDescriptor=function(O){M.Descriptor.call(this,b,O)},M.SLConfigDescriptor.prototype=new M.Descriptor,this};n.MPEG4DescriptorParser=l;var s={ERR_INVALID_DATA:-1,ERR_NOT_ENOUGH_DATA:0,OK:1,BASIC_BOXES:["mdat","idat","free","skip","meco","strk"],FULL_BOXES:["hmhd","nmhd","iods","xml ","bxml","ipro","mere"],CONTAINER_BOXES:[["moov",["trak","pssh"]],["trak"],["edts"],["mdia"],["minf"],["dinf"],["stbl",["sgpd","sbgp"]],["mvex",["trex"]],["moof",["traf"]],["traf",["trun","sgpd","sbgp"]],["vttc"],["tref"],["iref"],["mfra",["tfra"]],["meco"],["hnti"],["hinf"],["strk"],["strd"],["sinf"],["rinf"],["schi"],["trgr"],["udta",["kind"]],["iprp",["ipma"]],["ipco"],["grpl"],["j2kH"],["etyp",["tyco"]]],boxCodes:[],fullBoxCodes:[],containerBoxCodes:[],sampleEntryCodes:{},sampleGroupEntryCodes:[],trackGroupTypes:[],UUIDBoxes:{},UUIDs:[],initialize:function(){s.FullBox.prototype=new s.Box,s.ContainerBox.prototype=new s.Box,s.SampleEntry.prototype=new s.Box,s.TrackGroupTypeBox.prototype=new s.FullBox,s.BASIC_BOXES.forEach(function(c){s.createBoxCtor(c)}),s.FULL_BOXES.forEach(function(c){s.createFullBoxCtor(c)}),s.CONTAINER_BOXES.forEach(function(c){s.createContainerBoxCtor(c[0],null,c[1])})},Box:function(c,p,g){this.type=c,this.size=p,this.uuid=g},FullBox:function(c,p,g){s.Box.call(this,c,p,g),this.flags=0,this.version=0},ContainerBox:function(c,p,g){s.Box.call(this,c,p,g),this.boxes=[]},SampleEntry:function(c,p,g,b){s.ContainerBox.call(this,c,p),this.hdr_size=g,this.start=b},SampleGroupEntry:function(c){this.grouping_type=c},TrackGroupTypeBox:function(c,p){s.FullBox.call(this,c,p)},createBoxCtor:function(c,p){s.boxCodes.push(c),s[c+"Box"]=function(g){s.Box.call(this,c,g)},s[c+"Box"].prototype=new s.Box,p&&(s[c+"Box"].prototype.parse=p)},createFullBoxCtor:function(c,p){s[c+"Box"]=function(g){s.FullBox.call(this,c,g)},s[c+"Box"].prototype=new s.FullBox,s[c+"Box"].prototype.parse=function(g){this.parseFullHeader(g),p&&p.call(this,g)}},addSubBoxArrays:function(c){if(c){this.subBoxNames=c;for(var p=c.length,g=0;g<p;g++)this[c[g]+"s"]=[]}},createContainerBoxCtor:function(c,p,g){s[c+"Box"]=function(b){s.ContainerBox.call(this,c,b),s.addSubBoxArrays.call(this,g)},s[c+"Box"].prototype=new s.ContainerBox,p&&(s[c+"Box"].prototype.parse=p)},createMediaSampleEntryCtor:function(c,p,g){s.sampleEntryCodes[c]=[],s[c+"SampleEntry"]=function(b,C){s.SampleEntry.call(this,b,C),s.addSubBoxArrays.call(this,g)},s[c+"SampleEntry"].prototype=new s.SampleEntry,p&&(s[c+"SampleEntry"].prototype.parse=p)},createSampleEntryCtor:function(c,p,g,b){s.sampleEntryCodes[c].push(p),s[p+"SampleEntry"]=function(C){s[c+"SampleEntry"].call(this,p,C),s.addSubBoxArrays.call(this,b)},s[p+"SampleEntry"].prototype=new s[c+"SampleEntry"],g&&(s[p+"SampleEntry"].prototype.parse=g)},createEncryptedSampleEntryCtor:function(c,p,g){s.createSampleEntryCtor.call(this,c,p,g,["sinf"])},createSampleGroupCtor:function(c,p){s[c+"SampleGroupEntry"]=function(g){s.SampleGroupEntry.call(this,c,g)},s[c+"SampleGroupEntry"].prototype=new s.SampleGroupEntry,p&&(s[c+"SampleGroupEntry"].prototype.parse=p)},createTrackGroupCtor:function(c,p){s[c+"TrackGroupTypeBox"]=function(g){s.TrackGroupTypeBox.call(this,c,g)},s[c+"TrackGroupTypeBox"].prototype=new s.TrackGroupTypeBox,p&&(s[c+"TrackGroupTypeBox"].prototype.parse=p)},createUUIDBox:function(c,p,g,b){s.UUIDs.push(c),s.UUIDBoxes[c]=function(C){p?s.FullBox.call(this,"uuid",C,c):g?s.ContainerBox.call(this,"uuid",C,c):s.Box.call(this,"uuid",C,c)},s.UUIDBoxes[c].prototype=p?new s.FullBox:g?new s.ContainerBox:new s.Box,b&&(p?s.UUIDBoxes[c].prototype.parse=function(C){this.parseFullHeader(C),b&&b.call(this,C)}:s.UUIDBoxes[c].prototype.parse=b)}};s.initialize(),s.TKHD_FLAG_ENABLED=1,s.TKHD_FLAG_IN_MOVIE=2,s.TKHD_FLAG_IN_PREVIEW=4,s.TFHD_FLAG_BASE_DATA_OFFSET=1,s.TFHD_FLAG_SAMPLE_DESC=2,s.TFHD_FLAG_SAMPLE_DUR=8,s.TFHD_FLAG_SAMPLE_SIZE=16,s.TFHD_FLAG_SAMPLE_FLAGS=32,s.TFHD_FLAG_DUR_EMPTY=65536,s.TFHD_FLAG_DEFAULT_BASE_IS_MOOF=131072,s.TRUN_FLAGS_DATA_OFFSET=1,s.TRUN_FLAGS_FIRST_FLAG=4,s.TRUN_FLAGS_DURATION=256,s.TRUN_FLAGS_SIZE=512,s.TRUN_FLAGS_FLAGS=1024,s.TRUN_FLAGS_CTS_OFFSET=2048,s.Box.prototype.add=function(c){return this.addBox(new s[c+"Box"])},s.Box.prototype.addBox=function(c){return this.boxes.push(c),this[c.type+"s"]?this[c.type+"s"].push(c):this[c.type]=c,c},s.Box.prototype.set=function(c,p){return this[c]=p,this},s.Box.prototype.addEntry=function(c,p){var g=p||"entries";return this[g]||(this[g]=[]),this[g].push(c),this},n.BoxParser=s,s.parseUUID=function(c){return s.parseHex16(c)},s.parseHex16=function(c){for(var p="",g=0;g<16;g++){var b=c.readUint8().toString(16);p+=b.length===1?"0"+b:b}return p},s.parseOneBox=function(c,p,g){var b,C=c.getPosition(),T=0,M,O;if(c.getEndPosition()-C<8)return e.debug("BoxParser","Not enough data in stream to parse the type and size of the box"),{code:s.ERR_NOT_ENOUGH_DATA};if(g&&g<8)return e.debug("BoxParser","Not enough bytes left in the parent box to parse a new box"),{code:s.ERR_NOT_ENOUGH_DATA};var B=c.readUint32(),P=c.readString(4),F=P;if(e.debug("BoxParser","Found box of type '"+P+"' and size "+B+" at position "+C),T=8,P=="uuid"){if(c.getEndPosition()-c.getPosition()<16||g-T<16)return c.seek(C),e.debug("BoxParser","Not enough bytes left in the parent box to parse a UUID box"),{code:s.ERR_NOT_ENOUGH_DATA};O=s.parseUUID(c),T+=16,F=O}if(B==1){if(c.getEndPosition()-c.getPosition()<8||g&&g-T<8)return c.seek(C),e.warn("BoxParser",'Not enough data in stream to parse the extended size of the "'+P+'" box'),{code:s.ERR_NOT_ENOUGH_DATA};B=c.readUint64(),T+=8}else if(B===0){if(g)B=g;else if(P!=="mdat")return e.error("BoxParser","Unlimited box size not supported for type: '"+P+"'"),b=new s.Box(P,B),{code:s.OK,box:b,size:b.size}}return B!==0&&B<T?(e.error("BoxParser","Box of type "+P+" has an invalid size "+B+" (too small to be a box)"),{code:s.ERR_NOT_ENOUGH_DATA,type:P,size:B,hdr_size:T,start:C}):B!==0&&g&&B>g?(e.error("BoxParser","Box of type '"+P+"' has a size "+B+" greater than its container size "+g),{code:s.ERR_NOT_ENOUGH_DATA,type:P,size:B,hdr_size:T,start:C}):B!==0&&C+B>c.getEndPosition()?(c.seek(C),e.info("BoxParser","Not enough data in stream to parse the entire '"+P+"' box"),{code:s.ERR_NOT_ENOUGH_DATA,type:P,size:B,hdr_size:T,start:C}):p?{code:s.OK,type:P,size:B,hdr_size:T,start:C}:(s[P+"Box"]?b=new s[P+"Box"](B):P!=="uuid"?(e.warn("BoxParser","Unknown box type: '"+P+"'"),b=new s.Box(P,B),b.has_unparsed_data=!0):s.UUIDBoxes[O]?b=new s.UUIDBoxes[O](B):(e.warn("BoxParser","Unknown uuid type: '"+O+"'"),b=new s.Box(P,B),b.uuid=O,b.has_unparsed_data=!0),b.hdr_size=T,b.start=C,b.write===s.Box.prototype.write&&b.type!=="mdat"&&(e.info("BoxParser","'"+F+"' box writing not yet implemented, keeping unparsed data in memory for later write"),b.parseDataAndRewind(c)),b.parse(c),M=c.getPosition()-(b.start+b.size),M<0?(e.warn("BoxParser","Parsing of box '"+F+"' did not read the entire indicated box data size (missing "+-M+" bytes), seeking forward"),c.seek(b.start+b.size)):M>0&&(e.error("BoxParser","Parsing of box '"+F+"' read "+M+" more bytes than the indicated box data size, seeking backwards"),b.size!==0&&c.seek(b.start+b.size)),{code:s.OK,box:b,size:b.size})},s.Box.prototype.parse=function(c){this.type!="mdat"?this.data=c.readUint8Array(this.size-this.hdr_size):this.size===0?c.seek(c.getEndPosition()):c.seek(this.start+this.size)},s.Box.prototype.parseDataAndRewind=function(c){this.data=c.readUint8Array(this.size-this.hdr_size),c.position-=this.size-this.hdr_size},s.FullBox.prototype.parseDataAndRewind=function(c){this.parseFullHeader(c),this.data=c.readUint8Array(this.size-this.hdr_size),this.hdr_size-=4,c.position-=this.size-this.hdr_size},s.FullBox.prototype.parseFullHeader=function(c){this.version=c.readUint8(),this.flags=c.readUint24(),this.hdr_size+=4},s.FullBox.prototype.parse=function(c){this.parseFullHeader(c),this.data=c.readUint8Array(this.size-this.hdr_size)},s.ContainerBox.prototype.parse=function(c){for(var p,g;c.getPosition()<this.start+this.size;)if(p=s.parseOneBox(c,!1,this.size-(c.getPosition()-this.start)),p.code===s.OK)if(g=p.box,this.boxes.push(g),this.subBoxNames&&this.subBoxNames.indexOf(g.type)!=-1)this[this.subBoxNames[this.subBoxNames.indexOf(g.type)]+"s"].push(g);else{var b=g.type!=="uuid"?g.type:g.uuid;this[b]?e.warn("Box of type "+b+" already stored in field of this type"):this[b]=g}else return},s.Box.prototype.parseLanguage=function(c){this.language=c.readUint16();var p=[];p[0]=this.language>>10&31,p[1]=this.language>>5&31,p[2]=this.language&31,this.languageString=String.fromCharCode(p[0]+96,p[1]+96,p[2]+96)},s.SAMPLE_ENTRY_TYPE_VISUAL="Visual",s.SAMPLE_ENTRY_TYPE_AUDIO="Audio",s.SAMPLE_ENTRY_TYPE_HINT="Hint",s.SAMPLE_ENTRY_TYPE_METADATA="Metadata",s.SAMPLE_ENTRY_TYPE_SUBTITLE="Subtitle",s.SAMPLE_ENTRY_TYPE_SYSTEM="System",s.SAMPLE_ENTRY_TYPE_TEXT="Text",s.SampleEntry.prototype.parseHeader=function(c){c.readUint8Array(6),this.data_reference_index=c.readUint16(),this.hdr_size+=8},s.SampleEntry.prototype.parse=function(c){this.parseHeader(c),this.data=c.readUint8Array(this.size-this.hdr_size)},s.SampleEntry.prototype.parseDataAndRewind=function(c){this.parseHeader(c),this.data=c.readUint8Array(this.size-this.hdr_size),this.hdr_size-=8,c.position-=this.size-this.hdr_size},s.SampleEntry.prototype.parseFooter=function(c){s.ContainerBox.prototype.parse.call(this,c)},s.createMediaSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_HINT),s.createMediaSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_METADATA),s.createMediaSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_SUBTITLE),s.createMediaSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_SYSTEM),s.createMediaSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_TEXT),s.createMediaSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,function(c){var p;this.parseHeader(c),c.readUint16(),c.readUint16(),c.readUint32Array(3),this.width=c.readUint16(),this.height=c.readUint16(),this.horizresolution=c.readUint32(),this.vertresolution=c.readUint32(),c.readUint32(),this.frame_count=c.readUint16(),p=Math.min(31,c.readUint8()),this.compressorname=c.readString(p),p<31&&c.readString(31-p),this.depth=c.readUint16(),c.readUint16(),this.parseFooter(c)}),s.createMediaSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_AUDIO,function(c){this.parseHeader(c),c.readUint32Array(2),this.channel_count=c.readUint16(),this.samplesize=c.readUint16(),c.readUint16(),c.readUint16(),this.samplerate=c.readUint32()/65536,this.parseFooter(c)}),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"avc1"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"avc2"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"avc3"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"avc4"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"av01"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"dav1"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"hvc1"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"hev1"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"hvt1"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"lhe1"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"dvh1"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"dvhe"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"vvc1"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"vvi1"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"vvs1"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"vvcN"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"vp08"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"vp09"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"avs3"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"j2ki"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"mjp2"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"mjpg"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"uncv"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_AUDIO,"mp4a"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_AUDIO,"ac-3"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_AUDIO,"ac-4"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_AUDIO,"ec-3"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_AUDIO,"Opus"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_AUDIO,"mha1"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_AUDIO,"mha2"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_AUDIO,"mhm1"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_AUDIO,"mhm2"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_AUDIO,"fLaC"),s.createEncryptedSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"encv"),s.createEncryptedSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_AUDIO,"enca"),s.createEncryptedSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_SUBTITLE,"encu"),s.createEncryptedSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_SYSTEM,"encs"),s.createEncryptedSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_TEXT,"enct"),s.createEncryptedSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_METADATA,"encm"),s.createBoxCtor("a1lx",function(c){var p=c.readUint8()&1,g=((p&1)+1)*16;this.layer_size=[];for(var b=0;b<3;b++)g==16?this.layer_size[b]=c.readUint16():this.layer_size[b]=c.readUint32()}),s.createBoxCtor("a1op",function(c){this.op_index=c.readUint8()}),s.createFullBoxCtor("auxC",function(c){this.aux_type=c.readCString();var p=this.size-this.hdr_size-(this.aux_type.length+1);this.aux_subtype=c.readUint8Array(p)}),s.createBoxCtor("av1C",function(c){var p=c.readUint8();if(p>>7&!1){e.error("av1C marker problem");return}if(this.version=p&127,this.version!==1){e.error("av1C version "+this.version+" not supported");return}if(p=c.readUint8(),this.seq_profile=p>>5&7,this.seq_level_idx_0=p&31,p=c.readUint8(),this.seq_tier_0=p>>7&1,this.high_bitdepth=p>>6&1,this.twelve_bit=p>>5&1,this.monochrome=p>>4&1,this.chroma_subsampling_x=p>>3&1,this.chroma_subsampling_y=p>>2&1,this.chroma_sample_position=p&3,p=c.readUint8(),this.reserved_1=p>>5&7,this.reserved_1!==0){e.error("av1C reserved_1 parsing problem");return}if(this.initial_presentation_delay_present=p>>4&1,this.initial_presentation_delay_present===1)this.initial_presentation_delay_minus_one=p&15;else if(this.reserved_2=p&15,this.reserved_2!==0){e.error("av1C reserved_2 parsing problem");return}var g=this.size-this.hdr_size-4;this.configOBUs=c.readUint8Array(g)}),s.createBoxCtor("avcC",function(c){var p,g;for(this.configurationVersion=c.readUint8(),this.AVCProfileIndication=c.readUint8(),this.profile_compatibility=c.readUint8(),this.AVCLevelIndication=c.readUint8(),this.lengthSizeMinusOne=c.readUint8()&3,this.nb_SPS_nalus=c.readUint8()&31,g=this.size-this.hdr_size-6,this.SPS=[],p=0;p<this.nb_SPS_nalus;p++)this.SPS[p]={},this.SPS[p].length=c.readUint16(),this.SPS[p].nalu=c.readUint8Array(this.SPS[p].length),g-=2+this.SPS[p].length;for(this.nb_PPS_nalus=c.readUint8(),g--,this.PPS=[],p=0;p<this.nb_PPS_nalus;p++)this.PPS[p]={},this.PPS[p].length=c.readUint16(),this.PPS[p].nalu=c.readUint8Array(this.PPS[p].length),g-=2+this.PPS[p].length;g>0&&(this.ext=c.readUint8Array(g))}),s.createBoxCtor("btrt",function(c){this.bufferSizeDB=c.readUint32(),this.maxBitrate=c.readUint32(),this.avgBitrate=c.readUint32()}),s.createFullBoxCtor("ccst",function(c){var p=c.readUint8();this.all_ref_pics_intra=(p&128)==128,this.intra_pred_used=(p&64)==64,this.max_ref_per_pic=(p&63)>>2,c.readUint24()}),s.createBoxCtor("cdef",function(c){var p;for(this.channel_count=c.readUint16(),this.channel_indexes=[],this.channel_types=[],this.channel_associations=[],p=0;p<this.channel_count;p++)this.channel_indexes.push(c.readUint16()),this.channel_types.push(c.readUint16()),this.channel_associations.push(c.readUint16())}),s.createBoxCtor("clap",function(c){this.cleanApertureWidthN=c.readUint32(),this.cleanApertureWidthD=c.readUint32(),this.cleanApertureHeightN=c.readUint32(),this.cleanApertureHeightD=c.readUint32(),this.horizOffN=c.readUint32(),this.horizOffD=c.readUint32(),this.vertOffN=c.readUint32(),this.vertOffD=c.readUint32()}),s.createBoxCtor("clli",function(c){this.max_content_light_level=c.readUint16(),this.max_pic_average_light_level=c.readUint16()}),s.createFullBoxCtor("cmex",function(c){this.flags&1&&(this.pos_x=c.readInt32()),this.flags&2&&(this.pos_y=c.readInt32()),this.flags&4&&(this.pos_z=c.readInt32()),this.flags&8&&(this.version==0?this.flags&16?(this.quat_x=c.readInt32(),this.quat_y=c.readInt32(),this.quat_z=c.readInt32()):(this.quat_x=c.readInt16(),this.quat_y=c.readInt16(),this.quat_z=c.readInt16()):this.version==1),this.flags&32&&(this.id=c.readUint32())}),s.createFullBoxCtor("cmin",function(c){this.focal_length_x=c.readInt32(),this.principal_point_x=c.readInt32(),this.principal_point_y=c.readInt32(),this.flags&1&&(this.focal_length_y=c.readInt32(),this.skew_factor=c.readInt32())}),s.createBoxCtor("cmpd",function(c){for(this.component_count=c.readUint32(),this.component_types=[],this.component_type_urls=[],i=0;i<this.component_count;i++){var p=c.readUint16();this.component_types.push(p),p>=32768&&this.component_type_urls.push(c.readCString())}}),s.createFullBoxCtor("co64",function(c){var p,g;if(p=c.readUint32(),this.chunk_offsets=[],this.version===0)for(g=0;g<p;g++)this.chunk_offsets.push(c.readUint64())}),s.createFullBoxCtor("CoLL",function(c){this.maxCLL=c.readUint16(),this.maxFALL=c.readUint16()}),s.createBoxCtor("colr",function(c){if(this.colour_type=c.readString(4),this.colour_type==="nclx"){this.colour_primaries=c.readUint16(),this.transfer_characteristics=c.readUint16(),this.matrix_coefficients=c.readUint16();var p=c.readUint8();this.full_range_flag=p>>7}else this.colour_type==="rICC"?this.ICC_profile=c.readUint8Array(this.size-4):this.colour_type==="prof"&&(this.ICC_profile=c.readUint8Array(this.size-4))}),s.createFullBoxCtor("cprt",function(c){this.parseLanguage(c),this.notice=c.readCString()}),s.createFullBoxCtor("cslg",function(c){this.version===0&&(this.compositionToDTSShift=c.readInt32(),this.leastDecodeToDisplayDelta=c.readInt32(),this.greatestDecodeToDisplayDelta=c.readInt32(),this.compositionStartTime=c.readInt32(),this.compositionEndTime=c.readInt32())}),s.createFullBoxCtor("ctts",function(c){var p,g;if(p=c.readUint32(),this.sample_counts=[],this.sample_offsets=[],this.version===0)for(g=0;g<p;g++){this.sample_counts.push(c.readUint32());var b=c.readInt32();b<0&&e.warn("BoxParser","ctts box uses negative values without using version 1"),this.sample_offsets.push(b)}else if(this.version==1)for(g=0;g<p;g++)this.sample_counts.push(c.readUint32()),this.sample_offsets.push(c.readInt32())}),s.createBoxCtor("dac3",function(c){var p=c.readUint8(),g=c.readUint8(),b=c.readUint8();this.fscod=p>>6,this.bsid=p>>1&31,this.bsmod=(p&1)<<2|g>>6&3,this.acmod=g>>3&7,this.lfeon=g>>2&1,this.bit_rate_code=g&3|b>>5&7}),s.createBoxCtor("dec3",function(c){var p=c.readUint16();this.data_rate=p>>3,this.num_ind_sub=p&7,this.ind_subs=[];for(var g=0;g<this.num_ind_sub+1;g++){var b={};this.ind_subs.push(b);var C=c.readUint8(),T=c.readUint8(),M=c.readUint8();b.fscod=C>>6,b.bsid=C>>1&31,b.bsmod=(C&1)<<4|T>>4&15,b.acmod=T>>1&7,b.lfeon=T&1,b.num_dep_sub=M>>1&15,b.num_dep_sub>0&&(b.chan_loc=(M&1)<<8|c.readUint8())}}),s.createFullBoxCtor("dfLa",function(c){var p=127,g=128,b=[],C=["STREAMINFO","PADDING","APPLICATION","SEEKTABLE","VORBIS_COMMENT","CUESHEET","PICTURE","RESERVED"];do{var T=c.readUint8(),M=Math.min(T&p,C.length-1);if(M?c.readUint8Array(c.readUint24()):(c.readUint8Array(13),this.samplerate=c.readUint32()>>12,c.readUint8Array(20)),b.push(C[M]),T&g)break}while(!0);this.numMetadataBlocks=b.length+" ("+b.join(", ")+")"}),s.createBoxCtor("dimm",function(c){this.bytessent=c.readUint64()}),s.createBoxCtor("dmax",function(c){this.time=c.readUint32()}),s.createBoxCtor("dmed",function(c){this.bytessent=c.readUint64()}),s.createBoxCtor("dOps",function(c){if(this.Version=c.readUint8(),this.OutputChannelCount=c.readUint8(),this.PreSkip=c.readUint16(),this.InputSampleRate=c.readUint32(),this.OutputGain=c.readInt16(),this.ChannelMappingFamily=c.readUint8(),this.ChannelMappingFamily!==0){this.StreamCount=c.readUint8(),this.CoupledCount=c.readUint8(),this.ChannelMapping=[];for(var p=0;p<this.OutputChannelCount;p++)this.ChannelMapping[p]=c.readUint8()}}),s.createFullBoxCtor("dref",function(c){var p,g;this.entries=[];for(var b=c.readUint32(),C=0;C<b;C++)if(p=s.parseOneBox(c,!1,this.size-(c.getPosition()-this.start)),p.code===s.OK)g=p.box,this.entries.push(g);else return}),s.createBoxCtor("drep",function(c){this.bytessent=c.readUint64()}),s.createFullBoxCtor("elng",function(c){this.extended_language=c.readString(this.size-this.hdr_size)}),s.createFullBoxCtor("elst",function(c){this.entries=[];for(var p=c.readUint32(),g=0;g<p;g++){var b={};this.entries.push(b),this.version===1?(b.segment_duration=c.readUint64(),b.media_time=c.readInt64()):(b.segment_duration=c.readUint32(),b.media_time=c.readInt32()),b.media_rate_integer=c.readInt16(),b.media_rate_fraction=c.readInt16()}}),s.createFullBoxCtor("emsg",function(c){this.version==1?(this.timescale=c.readUint32(),this.presentation_time=c.readUint64(),this.event_duration=c.readUint32(),this.id=c.readUint32(),this.scheme_id_uri=c.readCString(),this.value=c.readCString()):(this.scheme_id_uri=c.readCString(),this.value=c.readCString(),this.timescale=c.readUint32(),this.presentation_time_delta=c.readUint32(),this.event_duration=c.readUint32(),this.id=c.readUint32());var p=this.size-this.hdr_size-(4*4+(this.scheme_id_uri.length+1)+(this.value.length+1));this.version==1&&(p-=4),this.message_data=c.readUint8Array(p)}),s.createEntityToGroupCtor=function(c,p){s[c+"Box"]=function(g){s.FullBox.call(this,c,g)},s[c+"Box"].prototype=new s.FullBox,s[c+"Box"].prototype.parse=function(g){if(this.parseFullHeader(g),p)p.call(this,g);else for(this.group_id=g.readUint32(),this.num_entities_in_group=g.readUint32(),this.entity_ids=[],i=0;i<this.num_entities_in_group;i++){var b=g.readUint32();this.entity_ids.push(b)}}},s.createEntityToGroupCtor("aebr"),s.createEntityToGroupCtor("afbr"),s.createEntityToGroupCtor("albc"),s.createEntityToGroupCtor("altr"),s.createEntityToGroupCtor("brst"),s.createEntityToGroupCtor("dobr"),s.createEntityToGroupCtor("eqiv"),s.createEntityToGroupCtor("favc"),s.createEntityToGroupCtor("fobr"),s.createEntityToGroupCtor("iaug"),s.createEntityToGroupCtor("pano"),s.createEntityToGroupCtor("slid"),s.createEntityToGroupCtor("ster"),s.createEntityToGroupCtor("tsyn"),s.createEntityToGroupCtor("wbbr"),s.createEntityToGroupCtor("prgr"),s.createEntityToGroupCtor("pymd",function(c){this.group_id=c.readUint32(),this.num_entities_in_group=c.readUint32(),this.entity_ids=[];for(var p=0;p<this.num_entities_in_group;p++){var g=c.readUint32();this.entity_ids.push(g)}for(this.tile_size_x=c.readUint16(),this.tile_size_y=c.readUint16(),this.layer_binning=[],this.tiles_in_layer_column_minus1=[],this.tiles_in_layer_row_minus1=[],p=0;p<this.num_entities_in_group;p++)this.layer_binning[p]=c.readUint16(),this.tiles_in_layer_row_minus1[p]=c.readUint16(),this.tiles_in_layer_column_minus1[p]=c.readUint16()}),s.createFullBoxCtor("esds",function(c){var p=c.readUint8Array(this.size-this.hdr_size);if(this.data=p,typeof l<"u"){var g=new l;this.esd=g.parseOneDescriptor(new r(p.buffer,0,r.BIG_ENDIAN))}}),s.createBoxCtor("fiel",function(c){this.fieldCount=c.readUint8(),this.fieldOrdering=c.readUint8()}),s.createBoxCtor("frma",function(c){this.data_format=c.readString(4)}),s.createBoxCtor("ftyp",function(c){var p=this.size-this.hdr_size;this.major_brand=c.readString(4),this.minor_version=c.readUint32(),p-=8,this.compatible_brands=[];for(var g=0;p>=4;)this.compatible_brands[g]=c.readString(4),p-=4,g++}),s.createFullBoxCtor("hdlr",function(c){this.version===0&&(c.readUint32(),this.handler=c.readString(4),c.readUint32Array(3),this.name=c.readString(this.size-this.hdr_size-20),this.name[this.name.length-1]==="\0"&&(this.name=this.name.slice(0,-1)))}),s.createBoxCtor("hvcC",function(c){var p,g,b,C;this.configurationVersion=c.readUint8(),C=c.readUint8(),this.general_profile_space=C>>6,this.general_tier_flag=(C&32)>>5,this.general_profile_idc=C&31,this.general_profile_compatibility=c.readUint32(),this.general_constraint_indicator=c.readUint8Array(6),this.general_level_idc=c.readUint8(),this.min_spatial_segmentation_idc=c.readUint16()&4095,this.parallelismType=c.readUint8()&3,this.chroma_format_idc=c.readUint8()&3,this.bit_depth_luma_minus8=c.readUint8()&7,this.bit_depth_chroma_minus8=c.readUint8()&7,this.avgFrameRate=c.readUint16(),C=c.readUint8(),this.constantFrameRate=C>>6,this.numTemporalLayers=(C&13)>>3,this.temporalIdNested=(C&4)>>2,this.lengthSizeMinusOne=C&3,this.nalu_arrays=[];var T=c.readUint8();for(p=0;p<T;p++){var M=[];this.nalu_arrays.push(M),C=c.readUint8(),M.completeness=(C&128)>>7,M.nalu_type=C&63;var O=c.readUint16();for(g=0;g<O;g++){var B={};M.push(B),b=c.readUint16(),B.data=c.readUint8Array(b)}}}),s.createFullBoxCtor("iinf",function(c){var p;this.version===0?this.entry_count=c.readUint16():this.entry_count=c.readUint32(),this.item_infos=[];for(var g=0;g<this.entry_count;g++)if(p=s.parseOneBox(c,!1,this.size-(c.getPosition()-this.start)),p.code===s.OK)p.box.type!=="infe"&&e.error("BoxParser","Expected 'infe' box, got "+p.box.type),this.item_infos[g]=p.box;else return}),s.createFullBoxCtor("iloc",function(c){var p;p=c.readUint8(),this.offset_size=p>>4&15,this.length_size=p&15,p=c.readUint8(),this.base_offset_size=p>>4&15,this.version===1||this.version===2?this.index_size=p&15:this.index_size=0,this.items=[];var g=0;if(this.version<2)g=c.readUint16();else if(this.version===2)g=c.readUint32();else throw"version of iloc box not supported";for(var b=0;b<g;b++){var C={};if(this.items.push(C),this.version<2)C.item_ID=c.readUint16();else if(this.version===2)C.item_ID=c.readUint32();else throw"version of iloc box not supported";switch(this.version===1||this.version===2?C.construction_method=c.readUint16()&15:C.construction_method=0,C.data_reference_index=c.readUint16(),this.base_offset_size){case 0:C.base_offset=0;break;case 4:C.base_offset=c.readUint32();break;case 8:C.base_offset=c.readUint64();break;default:throw"Error reading base offset size"}var T=c.readUint16();C.extents=[];for(var M=0;M<T;M++){var O={};if(C.extents.push(O),this.version===1||this.version===2)switch(this.index_size){case 0:O.extent_index=0;break;case 4:O.extent_index=c.readUint32();break;case 8:O.extent_index=c.readUint64();break;default:throw"Error reading extent index"}switch(this.offset_size){case 0:O.extent_offset=0;break;case 4:O.extent_offset=c.readUint32();break;case 8:O.extent_offset=c.readUint64();break;default:throw"Error reading extent index"}switch(this.length_size){case 0:O.extent_length=0;break;case 4:O.extent_length=c.readUint32();break;case 8:O.extent_length=c.readUint64();break;default:throw"Error reading extent index"}}}}),s.createBoxCtor("imir",function(c){var p=c.readUint8();this.reserved=p>>7,this.axis=p&1}),s.createFullBoxCtor("infe",function(c){if((this.version===0||this.version===1)&&(this.item_ID=c.readUint16(),this.item_protection_index=c.readUint16(),this.item_name=c.readCString(),this.content_type=c.readCString(),this.content_encoding=c.readCString()),this.version===1){this.extension_type=c.readString(4),e.warn("BoxParser","Cannot parse extension type"),c.seek(this.start+this.size);return}this.version>=2&&(this.version===2?this.item_ID=c.readUint16():this.version===3&&(this.item_ID=c.readUint32()),this.item_protection_index=c.readUint16(),this.item_type=c.readString(4),this.item_name=c.readCString(),this.item_type==="mime"?(this.content_type=c.readCString(),this.content_encoding=c.readCString()):this.item_type==="uri "&&(this.item_uri_type=c.readCString()))}),s.createFullBoxCtor("ipma",function(c){var p,g;for(entry_count=c.readUint32(),this.associations=[],p=0;p<entry_count;p++){var b={};this.associations.push(b),this.version<1?b.id=c.readUint16():b.id=c.readUint32();var C=c.readUint8();for(b.props=[],g=0;g<C;g++){var T=c.readUint8(),M={};b.props.push(M),M.essential=(T&128)>>7===1,this.flags&1?M.property_index=(T&127)<<8|c.readUint8():M.property_index=T&127}}}),s.createFullBoxCtor("iref",function(c){var p,g;for(this.references=[];c.getPosition()<this.start+this.size;)if(p=s.parseOneBox(c,!0,this.size-(c.getPosition()-this.start)),p.code===s.OK)this.version===0?g=new s.SingleItemTypeReferenceBox(p.type,p.size,p.hdr_size,p.start):g=new s.SingleItemTypeReferenceBoxLarge(p.type,p.size,p.hdr_size,p.start),g.write===s.Box.prototype.write&&g.type!=="mdat"&&(e.warn("BoxParser",g.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),g.parseDataAndRewind(c)),g.parse(c),this.references.push(g);else return}),s.createBoxCtor("irot",function(c){this.angle=c.readUint8()&3}),s.createFullBoxCtor("ispe",function(c){this.image_width=c.readUint32(),this.image_height=c.readUint32()}),s.createFullBoxCtor("kind",function(c){this.schemeURI=c.readCString(),this.value=c.readCString()}),s.createFullBoxCtor("leva",function(c){var p=c.readUint8();this.levels=[];for(var g=0;g<p;g++){var b={};this.levels[g]=b,b.track_ID=c.readUint32();var C=c.readUint8();switch(b.padding_flag=C>>7,b.assignment_type=C&127,b.assignment_type){case 0:b.grouping_type=c.readString(4);break;case 1:b.grouping_type=c.readString(4),b.grouping_type_parameter=c.readUint32();break;case 2:break;case 3:break;case 4:b.sub_track_id=c.readUint32();break;default:e.warn("BoxParser","Unknown leva assignement type")}}}),s.createBoxCtor("lhvC",function(c){var p,g,b;this.configurationVersion=c.readUint8(),this.min_spatial_segmentation_idc=c.readUint16()&4095,this.parallelismType=c.readUint8()&3,b=c.readUint8(),this.numTemporalLayers=(b&13)>>3,this.temporalIdNested=(b&4)>>2,this.lengthSizeMinusOne=b&3,this.nalu_arrays=[];var C=c.readUint8();for(p=0;p<C;p++){var T=[];this.nalu_arrays.push(T),b=c.readUint8(),T.completeness=(b&128)>>7,T.nalu_type=b&63;var M=c.readUint16();for(g=0;g<M;g++){var O={};T.push(O);var B=c.readUint16();O.data=c.readUint8Array(B)}}}),s.createBoxCtor("lsel",function(c){this.layer_id=c.readUint16()}),s.createBoxCtor("maxr",function(c){this.period=c.readUint32(),this.bytes=c.readUint32()});function u(c,p){this.x=c,this.y=p}u.prototype.toString=function(){return"("+this.x+","+this.y+")"},s.createBoxCtor("mdcv",function(c){this.display_primaries=[],this.display_primaries[0]=new u(c.readUint16(),c.readUint16()),this.display_primaries[1]=new u(c.readUint16(),c.readUint16()),this.display_primaries[2]=new u(c.readUint16(),c.readUint16()),this.white_point=new u(c.readUint16(),c.readUint16()),this.max_display_mastering_luminance=c.readUint32(),this.min_display_mastering_luminance=c.readUint32()}),s.createFullBoxCtor("mdhd",function(c){this.version==1?(this.creation_time=c.readUint64(),this.modification_time=c.readUint64(),this.timescale=c.readUint32(),this.duration=c.readUint64()):(this.creation_time=c.readUint32(),this.modification_time=c.readUint32(),this.timescale=c.readUint32(),this.duration=c.readUint32()),this.parseLanguage(c),c.readUint16()}),s.createFullBoxCtor("mehd",function(c){this.flags&1&&(e.warn("BoxParser","mehd box incorrectly uses flags set to 1, converting version to 1"),this.version=1),this.version==1?this.fragment_duration=c.readUint64():this.fragment_duration=c.readUint32()}),s.createFullBoxCtor("meta",function(c){this.boxes=[],s.ContainerBox.prototype.parse.call(this,c)}),s.createFullBoxCtor("mfhd",function(c){this.sequence_number=c.readUint32()}),s.createFullBoxCtor("mfro",function(c){this._size=c.readUint32()}),s.createFullBoxCtor("mskC",function(c){this.bits_per_pixel=c.readUint8()}),s.createFullBoxCtor("mvhd",function(c){this.version==1?(this.creation_time=c.readUint64(),this.modification_time=c.readUint64(),this.timescale=c.readUint32(),this.duration=c.readUint64()):(this.creation_time=c.readUint32(),this.modification_time=c.readUint32(),this.timescale=c.readUint32(),this.duration=c.readUint32()),this.rate=c.readUint32(),this.volume=c.readUint16()>>8,c.readUint16(),c.readUint32Array(2),this.matrix=c.readUint32Array(9),c.readUint32Array(6),this.next_track_id=c.readUint32()}),s.createBoxCtor("npck",function(c){this.packetssent=c.readUint32()}),s.createBoxCtor("nump",function(c){this.packetssent=c.readUint64()}),s.createFullBoxCtor("padb",function(c){var p=c.readUint32();this.padbits=[];for(var g=0;g<Math.floor((p+1)/2);g++)this.padbits=c.readUint8()}),s.createBoxCtor("pasp",function(c){this.hSpacing=c.readUint32(),this.vSpacing=c.readUint32()}),s.createBoxCtor("payl",function(c){this.text=c.readString(this.size-this.hdr_size)}),s.createBoxCtor("payt",function(c){this.payloadID=c.readUint32();var p=c.readUint8();this.rtpmap_string=c.readString(p)}),s.createFullBoxCtor("pdin",function(c){var p=(this.size-this.hdr_size)/8;this.rate=[],this.initial_delay=[];for(var g=0;g<p;g++)this.rate[g]=c.readUint32(),this.initial_delay[g]=c.readUint32()}),s.createFullBoxCtor("pitm",function(c){this.version===0?this.item_id=c.readUint16():this.item_id=c.readUint32()}),s.createFullBoxCtor("pixi",function(c){var p;for(this.num_channels=c.readUint8(),this.bits_per_channels=[],p=0;p<this.num_channels;p++)this.bits_per_channels[p]=c.readUint8()}),s.createBoxCtor("pmax",function(c){this.bytes=c.readUint32()}),s.createFullBoxCtor("prdi",function(c){if(this.step_count=c.readUint16(),this.item_count=[],this.flags&2)for(var p=0;p<this.step_count;p++)this.item_count[p]=c.readUint16()}),s.createFullBoxCtor("prft",function(c){this.ref_track_id=c.readUint32(),this.ntp_timestamp=c.readUint64(),this.version===0?this.media_time=c.readUint32():this.media_time=c.readUint64()}),s.createFullBoxCtor("pssh",function(c){if(this.system_id=s.parseHex16(c),this.version>0){var p=c.readUint32();this.kid=[];for(var g=0;g<p;g++)this.kid[g]=s.parseHex16(c)}var b=c.readUint32();b>0&&(this.data=c.readUint8Array(b))}),s.createFullBoxCtor("clef",function(c){this.width=c.readUint32(),this.height=c.readUint32()}),s.createFullBoxCtor("enof",function(c){this.width=c.readUint32(),this.height=c.readUint32()}),s.createFullBoxCtor("prof",function(c){this.width=c.readUint32(),this.height=c.readUint32()}),s.createContainerBoxCtor("tapt",null,["clef","prof","enof"]),s.createBoxCtor("rtp ",function(c){this.descriptionformat=c.readString(4),this.sdptext=c.readString(this.size-this.hdr_size-4)}),s.createFullBoxCtor("saio",function(c){this.flags&1&&(this.aux_info_type=c.readUint32(),this.aux_info_type_parameter=c.readUint32());var p=c.readUint32();this.offset=[];for(var g=0;g<p;g++)this.version===0?this.offset[g]=c.readUint32():this.offset[g]=c.readUint64()}),s.createFullBoxCtor("saiz",function(c){this.flags&1&&(this.aux_info_type=c.readUint32(),this.aux_info_type_parameter=c.readUint32()),this.default_sample_info_size=c.readUint8();var p=c.readUint32();if(this.sample_info_size=[],this.default_sample_info_size===0)for(var g=0;g<p;g++)this.sample_info_size[g]=c.readUint8()}),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_METADATA,"mett",function(c){this.parseHeader(c),this.content_encoding=c.readCString(),this.mime_format=c.readCString(),this.parseFooter(c)}),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_METADATA,"metx",function(c){this.parseHeader(c),this.content_encoding=c.readCString(),this.namespace=c.readCString(),this.schema_location=c.readCString(),this.parseFooter(c)}),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_SUBTITLE,"sbtt",function(c){this.parseHeader(c),this.content_encoding=c.readCString(),this.mime_format=c.readCString(),this.parseFooter(c)}),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_SUBTITLE,"stpp",function(c){this.parseHeader(c),this.namespace=c.readCString(),this.schema_location=c.readCString(),this.auxiliary_mime_types=c.readCString(),this.parseFooter(c)}),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_SUBTITLE,"stxt",function(c){this.parseHeader(c),this.content_encoding=c.readCString(),this.mime_format=c.readCString(),this.parseFooter(c)}),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_SUBTITLE,"tx3g",function(c){this.parseHeader(c),this.displayFlags=c.readUint32(),this.horizontal_justification=c.readInt8(),this.vertical_justification=c.readInt8(),this.bg_color_rgba=c.readUint8Array(4),this.box_record=c.readInt16Array(4),this.style_record=c.readUint8Array(12),this.parseFooter(c)}),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_METADATA,"wvtt",function(c){this.parseHeader(c),this.parseFooter(c)}),s.createSampleGroupCtor("alst",function(c){var p,g=c.readUint16();for(this.first_output_sample=c.readUint16(),this.sample_offset=[],p=0;p<g;p++)this.sample_offset[p]=c.readUint32();var b=this.description_length-4-4*g;for(this.num_output_samples=[],this.num_total_samples=[],p=0;p<b/4;p++)this.num_output_samples[p]=c.readUint16(),this.num_total_samples[p]=c.readUint16()}),s.createSampleGroupCtor("avll",function(c){this.layerNumber=c.readUint8(),this.accurateStatisticsFlag=c.readUint8(),this.avgBitRate=c.readUint16(),this.avgFrameRate=c.readUint16()}),s.createSampleGroupCtor("avss",function(c){this.subSequenceIdentifier=c.readUint16(),this.layerNumber=c.readUint8();var p=c.readUint8();this.durationFlag=p>>7,this.avgRateFlag=p>>6&1,this.durationFlag&&(this.duration=c.readUint32()),this.avgRateFlag&&(this.accurateStatisticsFlag=c.readUint8(),this.avgBitRate=c.readUint16(),this.avgFrameRate=c.readUint16()),this.dependency=[];for(var g=c.readUint8(),b=0;b<g;b++){var C={};this.dependency.push(C),C.subSeqDirectionFlag=c.readUint8(),C.layerNumber=c.readUint8(),C.subSequenceIdentifier=c.readUint16()}}),s.createSampleGroupCtor("dtrt",function(c){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),s.createSampleGroupCtor("mvif",function(c){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),s.createSampleGroupCtor("prol",function(c){this.roll_distance=c.readInt16()}),s.createSampleGroupCtor("rap ",function(c){var p=c.readUint8();this.num_leading_samples_known=p>>7,this.num_leading_samples=p&127}),s.createSampleGroupCtor("rash",function(c){if(this.operation_point_count=c.readUint16(),this.description_length!==2+(this.operation_point_count===1?2:this.operation_point_count*6)+9)e.warn("BoxParser","Mismatch in "+this.grouping_type+" sample group length"),this.data=c.readUint8Array(this.description_length-2);else{if(this.operation_point_count===1)this.target_rate_share=c.readUint16();else{this.target_rate_share=[],this.available_bitrate=[];for(var p=0;p<this.operation_point_count;p++)this.available_bitrate[p]=c.readUint32(),this.target_rate_share[p]=c.readUint16()}this.maximum_bitrate=c.readUint32(),this.minimum_bitrate=c.readUint32(),this.discard_priority=c.readUint8()}}),s.createSampleGroupCtor("roll",function(c){this.roll_distance=c.readInt16()}),s.SampleGroupEntry.prototype.parse=function(c){e.warn("BoxParser","Unknown Sample Group type: "+this.grouping_type),this.data=c.readUint8Array(this.description_length)},s.createSampleGroupCtor("scif",function(c){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),s.createSampleGroupCtor("scnm",function(c){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),s.createSampleGroupCtor("seig",function(c){this.reserved=c.readUint8();var p=c.readUint8();this.crypt_byte_block=p>>4,this.skip_byte_block=p&15,this.isProtected=c.readUint8(),this.Per_Sample_IV_Size=c.readUint8(),this.KID=s.parseHex16(c),this.constant_IV_size=0,this.constant_IV=0,this.isProtected===1&&this.Per_Sample_IV_Size===0&&(this.constant_IV_size=c.readUint8(),this.constant_IV=c.readUint8Array(this.constant_IV_size))}),s.createSampleGroupCtor("stsa",function(c){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),s.createSampleGroupCtor("sync",function(c){var p=c.readUint8();this.NAL_unit_type=p&63}),s.createSampleGroupCtor("tele",function(c){var p=c.readUint8();this.level_independently_decodable=p>>7}),s.createSampleGroupCtor("tsas",function(c){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),s.createSampleGroupCtor("tscl",function(c){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),s.createSampleGroupCtor("vipr",function(c){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),s.createFullBoxCtor("sbgp",function(c){this.grouping_type=c.readString(4),this.version===1?this.grouping_type_parameter=c.readUint32():this.grouping_type_parameter=0,this.entries=[];for(var p=c.readUint32(),g=0;g<p;g++){var b={};this.entries.push(b),b.sample_count=c.readInt32(),b.group_description_index=c.readInt32()}});function f(c,p){this.bad_pixel_row=c,this.bad_pixel_column=p}f.prototype.toString=function(){return"[row: "+this.bad_pixel_row+", column: "+this.bad_pixel_column+"]"},s.createFullBoxCtor("sbpm",function(c){var p;for(this.component_count=c.readUint16(),this.component_index=[],p=0;p<this.component_count;p++)this.component_index.push(c.readUint16());var g=c.readUint8();for(this.correction_applied=(g&128)==128,this.num_bad_rows=c.readUint32(),this.num_bad_cols=c.readUint32(),this.num_bad_pixels=c.readUint32(),this.bad_rows=[],this.bad_columns=[],this.bad_pixels=[],p=0;p<this.num_bad_rows;p++)this.bad_rows.push(c.readUint32());for(p=0;p<this.num_bad_cols;p++)this.bad_columns.push(c.readUint32());for(p=0;p<this.num_bad_pixels;p++){var b=c.readUint32(),C=c.readUint32();this.bad_pixels.push(new f(b,C))}}),s.createFullBoxCtor("schm",function(c){this.scheme_type=c.readString(4),this.scheme_version=c.readUint32(),this.flags&1&&(this.scheme_uri=c.readString(this.size-this.hdr_size-8))}),s.createBoxCtor("sdp ",function(c){this.sdptext=c.readString(this.size-this.hdr_size)}),s.createFullBoxCtor("sdtp",function(c){var p,g=this.size-this.hdr_size;this.is_leading=[],this.sample_depends_on=[],this.sample_is_depended_on=[],this.sample_has_redundancy=[];for(var b=0;b<g;b++)p=c.readUint8(),this.is_leading[b]=p>>6,this.sample_depends_on[b]=p>>4&3,this.sample_is_depended_on[b]=p>>2&3,this.sample_has_redundancy[b]=p&3}),s.createFullBoxCtor("senc"),s.createFullBoxCtor("sgpd",function(c){this.grouping_type=c.readString(4),e.debug("BoxParser","Found Sample Groups of type "+this.grouping_type),this.version===1?this.default_length=c.readUint32():this.default_length=0,this.version>=2&&(this.default_group_description_index=c.readUint32()),this.entries=[];for(var p=c.readUint32(),g=0;g<p;g++){var b;s[this.grouping_type+"SampleGroupEntry"]?b=new s[this.grouping_type+"SampleGroupEntry"](this.grouping_type):b=new s.SampleGroupEntry(this.grouping_type),this.entries.push(b),this.version===1?this.default_length===0?b.description_length=c.readUint32():b.description_length=this.default_length:b.description_length=this.default_length,b.write===s.SampleGroupEntry.prototype.write&&(e.info("BoxParser","SampleGroup for type "+this.grouping_type+" writing not yet implemented, keeping unparsed data in memory for later write"),b.data=c.readUint8Array(b.description_length),c.position-=b.description_length),b.parse(c)}}),s.createFullBoxCtor("sidx",function(c){this.reference_ID=c.readUint32(),this.timescale=c.readUint32(),this.version===0?(this.earliest_presentation_time=c.readUint32(),this.first_offset=c.readUint32()):(this.earliest_presentation_time=c.readUint64(),this.first_offset=c.readUint64()),c.readUint16(),this.references=[];for(var p=c.readUint16(),g=0;g<p;g++){var b={};this.references.push(b);var C=c.readUint32();b.reference_type=C>>31&1,b.referenced_size=C&2147483647,b.subsegment_duration=c.readUint32(),C=c.readUint32(),b.starts_with_SAP=C>>31&1,b.SAP_type=C>>28&7,b.SAP_delta_time=C&268435455}}),s.SingleItemTypeReferenceBox=function(c,p,g,b){s.Box.call(this,c,p),this.hdr_size=g,this.start=b},s.SingleItemTypeReferenceBox.prototype=new s.Box,s.SingleItemTypeReferenceBox.prototype.parse=function(c){this.from_item_ID=c.readUint16();var p=c.readUint16();this.references=[];for(var g=0;g<p;g++)this.references[g]={},this.references[g].to_item_ID=c.readUint16()},s.SingleItemTypeReferenceBoxLarge=function(c,p,g,b){s.Box.call(this,c,p),this.hdr_size=g,this.start=b},s.SingleItemTypeReferenceBoxLarge.prototype=new s.Box,s.SingleItemTypeReferenceBoxLarge.prototype.parse=function(c){this.from_item_ID=c.readUint32();var p=c.readUint16();this.references=[];for(var g=0;g<p;g++)this.references[g]={},this.references[g].to_item_ID=c.readUint32()},s.createFullBoxCtor("SmDm",function(c){this.primaryRChromaticity_x=c.readUint16(),this.primaryRChromaticity_y=c.readUint16(),this.primaryGChromaticity_x=c.readUint16(),this.primaryGChromaticity_y=c.readUint16(),this.primaryBChromaticity_x=c.readUint16(),this.primaryBChromaticity_y=c.readUint16(),this.whitePointChromaticity_x=c.readUint16(),this.whitePointChromaticity_y=c.readUint16(),this.luminanceMax=c.readUint32(),this.luminanceMin=c.readUint32()}),s.createFullBoxCtor("smhd",function(c){this.balance=c.readUint16(),c.readUint16()}),s.createFullBoxCtor("ssix",function(c){this.subsegments=[];for(var p=c.readUint32(),g=0;g<p;g++){var b={};this.subsegments.push(b),b.ranges=[];for(var C=c.readUint32(),T=0;T<C;T++){var M={};b.ranges.push(M),M.level=c.readUint8(),M.range_size=c.readUint24()}}}),s.createFullBoxCtor("stco",function(c){var p;if(p=c.readUint32(),this.chunk_offsets=[],this.version===0)for(var g=0;g<p;g++)this.chunk_offsets.push(c.readUint32())}),s.createFullBoxCtor("stdp",function(c){var p=(this.size-this.hdr_size)/2;this.priority=[];for(var g=0;g<p;g++)this.priority[g]=c.readUint16()}),s.createFullBoxCtor("sthd"),s.createFullBoxCtor("stri",function(c){this.switch_group=c.readUint16(),this.alternate_group=c.readUint16(),this.sub_track_id=c.readUint32();var p=(this.size-this.hdr_size-8)/4;this.attribute_list=[];for(var g=0;g<p;g++)this.attribute_list[g]=c.readUint32()}),s.createFullBoxCtor("stsc",function(c){var p,g;if(p=c.readUint32(),this.first_chunk=[],this.samples_per_chunk=[],this.sample_description_index=[],this.version===0)for(g=0;g<p;g++)this.first_chunk.push(c.readUint32()),this.samples_per_chunk.push(c.readUint32()),this.sample_description_index.push(c.readUint32())}),s.createFullBoxCtor("stsd",function(c){var p,g,b,C;for(this.entries=[],b=c.readUint32(),p=1;p<=b;p++)if(g=s.parseOneBox(c,!0,this.size-(c.getPosition()-this.start)),g.code===s.OK)s[g.type+"SampleEntry"]?(C=new s[g.type+"SampleEntry"](g.size),C.hdr_size=g.hdr_size,C.start=g.start):(e.warn("BoxParser","Unknown sample entry type: "+g.type),C=new s.SampleEntry(g.type,g.size,g.hdr_size,g.start)),C.write===s.SampleEntry.prototype.write&&(e.info("BoxParser","SampleEntry "+C.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),C.parseDataAndRewind(c)),C.parse(c),this.entries.push(C);else return}),s.createFullBoxCtor("stsg",function(c){this.grouping_type=c.readUint32();var p=c.readUint16();this.group_description_index=[];for(var g=0;g<p;g++)this.group_description_index[g]=c.readUint32()}),s.createFullBoxCtor("stsh",function(c){var p,g;if(p=c.readUint32(),this.shadowed_sample_numbers=[],this.sync_sample_numbers=[],this.version===0)for(g=0;g<p;g++)this.shadowed_sample_numbers.push(c.readUint32()),this.sync_sample_numbers.push(c.readUint32())}),s.createFullBoxCtor("stss",function(c){var p,g;if(g=c.readUint32(),this.version===0)for(this.sample_numbers=[],p=0;p<g;p++)this.sample_numbers.push(c.readUint32())}),s.createFullBoxCtor("stsz",function(c){var p;if(this.sample_sizes=[],this.version===0)for(this.sample_size=c.readUint32(),this.sample_count=c.readUint32(),p=0;p<this.sample_count;p++)this.sample_size===0?this.sample_sizes.push(c.readUint32()):this.sample_sizes[p]=this.sample_size}),s.createFullBoxCtor("stts",function(c){var p,g,b;if(p=c.readUint32(),this.sample_counts=[],this.sample_deltas=[],this.version===0)for(g=0;g<p;g++)this.sample_counts.push(c.readUint32()),b=c.readInt32(),b<0&&(e.warn("BoxParser","File uses negative stts sample delta, using value 1 instead, sync may be lost!"),b=1),this.sample_deltas.push(b)}),s.createFullBoxCtor("stvi",function(c){var p=c.readUint32();this.single_view_allowed=p&3,this.stereo_scheme=c.readUint32();var g=c.readUint32();this.stereo_indication_type=c.readString(g);var b,C;for(this.boxes=[];c.getPosition()<this.start+this.size;)if(b=s.parseOneBox(c,!1,this.size-(c.getPosition()-this.start)),b.code===s.OK)C=b.box,this.boxes.push(C),this[C.type]=C;else return}),s.createBoxCtor("styp",function(c){s.ftypBox.prototype.parse.call(this,c)}),s.createFullBoxCtor("stz2",function(c){var p,g;if(this.sample_sizes=[],this.version===0)if(this.reserved=c.readUint24(),this.field_size=c.readUint8(),g=c.readUint32(),this.field_size===4)for(p=0;p<g;p+=2){var b=c.readUint8();this.sample_sizes[p]=b>>4&15,this.sample_sizes[p+1]=b&15}else if(this.field_size===8)for(p=0;p<g;p++)this.sample_sizes[p]=c.readUint8();else if(this.field_size===16)for(p=0;p<g;p++)this.sample_sizes[p]=c.readUint16();else e.error("BoxParser","Error in length field in stz2 box")}),s.createFullBoxCtor("subs",function(c){var p,g,b,C;for(b=c.readUint32(),this.entries=[],p=0;p<b;p++){var T={};if(this.entries[p]=T,T.sample_delta=c.readUint32(),T.subsamples=[],C=c.readUint16(),C>0)for(g=0;g<C;g++){var M={};T.subsamples.push(M),this.version==1?M.size=c.readUint32():M.size=c.readUint16(),M.priority=c.readUint8(),M.discardable=c.readUint8(),M.codec_specific_parameters=c.readUint32()}}}),s.createFullBoxCtor("tenc",function(c){if(c.readUint8(),this.version===0)c.readUint8();else{var p=c.readUint8();this.default_crypt_byte_block=p>>4&15,this.default_skip_byte_block=p&15}this.default_isProtected=c.readUint8(),this.default_Per_Sample_IV_Size=c.readUint8(),this.default_KID=s.parseHex16(c),this.default_isProtected===1&&this.default_Per_Sample_IV_Size===0&&(this.default_constant_IV_size=c.readUint8(),this.default_constant_IV=c.readUint8Array(this.default_constant_IV_size))}),s.createFullBoxCtor("tfdt",function(c){this.version==1?this.baseMediaDecodeTime=c.readUint64():this.baseMediaDecodeTime=c.readUint32()}),s.createFullBoxCtor("tfhd",function(c){var p=0;this.track_id=c.readUint32(),this.size-this.hdr_size>p&&this.flags&s.TFHD_FLAG_BASE_DATA_OFFSET?(this.base_data_offset=c.readUint64(),p+=8):this.base_data_offset=0,this.size-this.hdr_size>p&&this.flags&s.TFHD_FLAG_SAMPLE_DESC?(this.default_sample_description_index=c.readUint32(),p+=4):this.default_sample_description_index=0,this.size-this.hdr_size>p&&this.flags&s.TFHD_FLAG_SAMPLE_DUR?(this.default_sample_duration=c.readUint32(),p+=4):this.default_sample_duration=0,this.size-this.hdr_size>p&&this.flags&s.TFHD_FLAG_SAMPLE_SIZE?(this.default_sample_size=c.readUint32(),p+=4):this.default_sample_size=0,this.size-this.hdr_size>p&&this.flags&s.TFHD_FLAG_SAMPLE_FLAGS?(this.default_sample_flags=c.readUint32(),p+=4):this.default_sample_flags=0}),s.createFullBoxCtor("tfra",function(c){this.track_ID=c.readUint32(),c.readUint24();var p=c.readUint8();this.length_size_of_traf_num=p>>4&3,this.length_size_of_trun_num=p>>2&3,this.length_size_of_sample_num=p&3,this.entries=[];for(var g=c.readUint32(),b=0;b<g;b++)this.version===1?(this.time=c.readUint64(),this.moof_offset=c.readUint64()):(this.time=c.readUint32(),this.moof_offset=c.readUint32()),this.traf_number=c["readUint"+8*(this.length_size_of_traf_num+1)](),this.trun_number=c["readUint"+8*(this.length_size_of_trun_num+1)](),this.sample_number=c["readUint"+8*(this.length_size_of_sample_num+1)]()}),s.createFullBoxCtor("tkhd",function(c){this.version==1?(this.creation_time=c.readUint64(),this.modification_time=c.readUint64(),this.track_id=c.readUint32(),c.readUint32(),this.duration=c.readUint64()):(this.creation_time=c.readUint32(),this.modification_time=c.readUint32(),this.track_id=c.readUint32(),c.readUint32(),this.duration=c.readUint32()),c.readUint32Array(2),this.layer=c.readInt16(),this.alternate_group=c.readInt16(),this.volume=c.readInt16()>>8,c.readUint16(),this.matrix=c.readInt32Array(9),this.width=c.readUint32(),this.height=c.readUint32()}),s.createBoxCtor("tmax",function(c){this.time=c.readUint32()}),s.createBoxCtor("tmin",function(c){this.time=c.readUint32()}),s.createBoxCtor("totl",function(c){this.bytessent=c.readUint32()}),s.createBoxCtor("tpay",function(c){this.bytessent=c.readUint32()}),s.createBoxCtor("tpyl",function(c){this.bytessent=c.readUint64()}),s.TrackGroupTypeBox.prototype.parse=function(c){this.parseFullHeader(c),this.track_group_id=c.readUint32()},s.createTrackGroupCtor("msrc"),s.TrackReferenceTypeBox=function(c,p,g,b){s.Box.call(this,c,p),this.hdr_size=g,this.start=b},s.TrackReferenceTypeBox.prototype=new s.Box,s.TrackReferenceTypeBox.prototype.parse=function(c){this.track_ids=c.readUint32Array((this.size-this.hdr_size)/4)},s.trefBox.prototype.parse=function(c){for(var p,g;c.getPosition()<this.start+this.size;)if(p=s.parseOneBox(c,!0,this.size-(c.getPosition()-this.start)),p.code===s.OK)g=new s.TrackReferenceTypeBox(p.type,p.size,p.hdr_size,p.start),g.write===s.Box.prototype.write&&g.type!=="mdat"&&(e.info("BoxParser","TrackReference "+g.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),g.parseDataAndRewind(c)),g.parse(c),this.boxes.push(g);else return},s.createFullBoxCtor("trep",function(c){for(this.track_ID=c.readUint32(),this.boxes=[];c.getPosition()<this.start+this.size;)if(ret=s.parseOneBox(c,!1,this.size-(c.getPosition()-this.start)),ret.code===s.OK)box=ret.box,this.boxes.push(box);else return}),s.createFullBoxCtor("trex",function(c){this.track_id=c.readUint32(),this.default_sample_description_index=c.readUint32(),this.default_sample_duration=c.readUint32(),this.default_sample_size=c.readUint32(),this.default_sample_flags=c.readUint32()}),s.createBoxCtor("trpy",function(c){this.bytessent=c.readUint64()}),s.createFullBoxCtor("trun",function(c){var p=0;if(this.sample_count=c.readUint32(),p+=4,this.size-this.hdr_size>p&&this.flags&s.TRUN_FLAGS_DATA_OFFSET?(this.data_offset=c.readInt32(),p+=4):this.data_offset=0,this.size-this.hdr_size>p&&this.flags&s.TRUN_FLAGS_FIRST_FLAG?(this.first_sample_flags=c.readUint32(),p+=4):this.first_sample_flags=0,this.sample_duration=[],this.sample_size=[],this.sample_flags=[],this.sample_composition_time_offset=[],this.size-this.hdr_size>p)for(var g=0;g<this.sample_count;g++)this.flags&s.TRUN_FLAGS_DURATION&&(this.sample_duration[g]=c.readUint32()),this.flags&s.TRUN_FLAGS_SIZE&&(this.sample_size[g]=c.readUint32()),this.flags&s.TRUN_FLAGS_FLAGS&&(this.sample_flags[g]=c.readUint32()),this.flags&s.TRUN_FLAGS_CTS_OFFSET&&(this.version===0?this.sample_composition_time_offset[g]=c.readUint32():this.sample_composition_time_offset[g]=c.readInt32())}),s.createFullBoxCtor("tsel",function(c){this.switch_group=c.readUint32();var p=(this.size-this.hdr_size-4)/4;this.attribute_list=[];for(var g=0;g<p;g++)this.attribute_list[g]=c.readUint32()}),s.createFullBoxCtor("txtC",function(c){this.config=c.readCString()}),s.createBoxCtor("tyco",function(c){var p=(this.size-this.hdr_size)/4;this.compatible_brands=[];for(var g=0;g<p;g++)this.compatible_brands[g]=c.readString(4)}),s.createFullBoxCtor("udes",function(c){this.lang=c.readCString(),this.name=c.readCString(),this.description=c.readCString(),this.tags=c.readCString()}),s.createFullBoxCtor("uncC",function(c){var p;if(this.profile=c.readUint32(),this.version!=1){if(this.version==0){for(this.component_count=c.readUint32(),this.component_index=[],this.component_bit_depth_minus_one=[],this.component_format=[],this.component_align_size=[],p=0;p<this.component_count;p++)this.component_index.push(c.readUint16()),this.component_bit_depth_minus_one.push(c.readUint8()),this.component_format.push(c.readUint8()),this.component_align_size.push(c.readUint8());this.sampling_type=c.readUint8(),this.interleave_type=c.readUint8(),this.block_size=c.readUint8();var g=c.readUint8();this.component_little_endian=g>>7&1,this.block_pad_lsb=g>>6&1,this.block_little_endian=g>>5&1,this.block_reversed=g>>4&1,this.pad_unknown=g>>3&1,this.pixel_size=c.readUint32(),this.row_align_size=c.readUint32(),this.tile_align_size=c.readUint32(),this.num_tile_cols_minus_one=c.readUint32(),this.num_tile_rows_minus_one=c.readUint32()}}}),s.createFullBoxCtor("url ",function(c){this.flags!==1&&(this.location=c.readCString())}),s.createFullBoxCtor("urn ",function(c){this.name=c.readCString(),this.size-this.hdr_size-this.name.length-1>0&&(this.location=c.readCString())}),s.createUUIDBox("a5d40b30e81411ddba2f0800200c9a66",!0,!1,function(c){this.LiveServerManifest=c.readString(this.size-this.hdr_size).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}),s.createUUIDBox("d08a4f1810f34a82b6c832d8aba183d3",!0,!1,function(c){this.system_id=s.parseHex16(c);var p=c.readUint32();p>0&&(this.data=c.readUint8Array(p))}),s.createUUIDBox("a2394f525a9b4f14a2446c427c648df4",!0,!1),s.createUUIDBox("8974dbce7be74c5184f97148f9882554",!0,!1,function(c){this.default_AlgorithmID=c.readUint24(),this.default_IV_size=c.readUint8(),this.default_KID=s.parseHex16(c)}),s.createUUIDBox("d4807ef2ca3946958e5426cb9e46a79f",!0,!1,function(c){this.fragment_count=c.readUint8(),this.entries=[];for(var p=0;p<this.fragment_count;p++){var g={},b=0,C=0;this.version===1?(b=c.readUint64(),C=c.readUint64()):(b=c.readUint32(),C=c.readUint32()),g.absolute_time=b,g.absolute_duration=C,this.entries.push(g)}}),s.createUUIDBox("6d1d9b0542d544e680e2141daff757b2",!0,!1,function(c){this.version===1?(this.absolute_time=c.readUint64(),this.duration=c.readUint64()):(this.absolute_time=c.readUint32(),this.duration=c.readUint32())}),s.createFullBoxCtor("vmhd",function(c){this.graphicsmode=c.readUint16(),this.opcolor=c.readUint16Array(3)}),s.createFullBoxCtor("vpcC",function(c){var p;this.version===1?(this.profile=c.readUint8(),this.level=c.readUint8(),p=c.readUint8(),this.bitDepth=p>>4,this.chromaSubsampling=p>>1&7,this.videoFullRangeFlag=p&1,this.colourPrimaries=c.readUint8(),this.transferCharacteristics=c.readUint8(),this.matrixCoefficients=c.readUint8(),this.codecIntializationDataSize=c.readUint16(),this.codecIntializationData=c.readUint8Array(this.codecIntializationDataSize)):(this.profile=c.readUint8(),this.level=c.readUint8(),p=c.readUint8(),this.bitDepth=p>>4&15,this.colorSpace=p&15,p=c.readUint8(),this.chromaSubsampling=p>>4&15,this.transferFunction=p>>1&7,this.videoFullRangeFlag=p&1,this.codecIntializationDataSize=c.readUint16(),this.codecIntializationData=c.readUint8Array(this.codecIntializationDataSize))}),s.createBoxCtor("vttC",function(c){this.text=c.readString(this.size-this.hdr_size)}),s.createFullBoxCtor("vvcC",function(c){var p,g,b={held_bits:void 0,num_held_bits:0,stream_read_1_bytes:function($){this.held_bits=$.readUint8(),this.num_held_bits=8},stream_read_2_bytes:function($){this.held_bits=$.readUint16(),this.num_held_bits=16},extract_bits:function($){var J=this.held_bits>>this.num_held_bits-$&(1<<$)-1;return this.num_held_bits-=$,J}};if(b.stream_read_1_bytes(c),b.extract_bits(5),this.lengthSizeMinusOne=b.extract_bits(2),this.ptl_present_flag=b.extract_bits(1),this.ptl_present_flag){b.stream_read_2_bytes(c),this.ols_idx=b.extract_bits(9),this.num_sublayers=b.extract_bits(3),this.constant_frame_rate=b.extract_bits(2),this.chroma_format_idc=b.extract_bits(2),b.stream_read_1_bytes(c),this.bit_depth_minus8=b.extract_bits(3),b.extract_bits(5);{if(b.stream_read_2_bytes(c),b.extract_bits(2),this.num_bytes_constraint_info=b.extract_bits(6),this.general_profile_idc=b.extract_bits(7),this.general_tier_flag=b.extract_bits(1),this.general_level_idc=c.readUint8(),b.stream_read_1_bytes(c),this.ptl_frame_only_constraint_flag=b.extract_bits(1),this.ptl_multilayer_enabled_flag=b.extract_bits(1),this.general_constraint_info=new Uint8Array(this.num_bytes_constraint_info),this.num_bytes_constraint_info){for(p=0;p<this.num_bytes_constraint_info-1;p++){var C=b.extract_bits(6);b.stream_read_1_bytes(c);var T=b.extract_bits(2);this.general_constraint_info[p]=C<<2|T}this.general_constraint_info[this.num_bytes_constraint_info-1]=b.extract_bits(6)}else b.extract_bits(6);if(this.num_sublayers>1){for(b.stream_read_1_bytes(c),this.ptl_sublayer_present_mask=0,g=this.num_sublayers-2;g>=0;--g){var M=b.extract_bits(1);this.ptl_sublayer_present_mask|=M<<g}for(g=this.num_sublayers;g<=8&&this.num_sublayers>1;++g)b.extract_bits(1);for(this.sublayer_level_idc=[],g=this.num_sublayers-2;g>=0;--g)this.ptl_sublayer_present_mask&1<<g&&(this.sublayer_level_idc[g]=c.readUint8())}if(this.ptl_num_sub_profiles=c.readUint8(),this.general_sub_profile_idc=[],this.ptl_num_sub_profiles)for(p=0;p<this.ptl_num_sub_profiles;p++)this.general_sub_profile_idc.push(c.readUint32())}this.max_picture_width=c.readUint16(),this.max_picture_height=c.readUint16(),this.avg_frame_rate=c.readUint16()}var O=12,B=13;this.nalu_arrays=[];var P=c.readUint8();for(p=0;p<P;p++){var F=[];this.nalu_arrays.push(F),b.stream_read_1_bytes(c),F.completeness=b.extract_bits(1),b.extract_bits(2),F.nalu_type=b.extract_bits(5);var U=1;for(F.nalu_type!=B&&F.nalu_type!=O&&(U=c.readUint16()),g=0;g<U;g++){var z=c.readUint16();F.push({data:c.readUint8Array(z),length:z})}}}),s.createFullBoxCtor("vvnC",function(c){var p=strm.readUint8();this.lengthSizeMinusOne=p&3}),s.SampleEntry.prototype.isVideo=function(){return!1},s.SampleEntry.prototype.isAudio=function(){return!1},s.SampleEntry.prototype.isSubtitle=function(){return!1},s.SampleEntry.prototype.isMetadata=function(){return!1},s.SampleEntry.prototype.isHint=function(){return!1},s.SampleEntry.prototype.getCodec=function(){return this.type.replace(".","")},s.SampleEntry.prototype.getWidth=function(){return""},s.SampleEntry.prototype.getHeight=function(){return""},s.SampleEntry.prototype.getChannelCount=function(){return""},s.SampleEntry.prototype.getSampleRate=function(){return""},s.SampleEntry.prototype.getSampleSize=function(){return""},s.VisualSampleEntry.prototype.isVideo=function(){return!0},s.VisualSampleEntry.prototype.getWidth=function(){return this.width},s.VisualSampleEntry.prototype.getHeight=function(){return this.height},s.AudioSampleEntry.prototype.isAudio=function(){return!0},s.AudioSampleEntry.prototype.getChannelCount=function(){return this.channel_count},s.AudioSampleEntry.prototype.getSampleRate=function(){return this.samplerate},s.AudioSampleEntry.prototype.getSampleSize=function(){return this.samplesize},s.SubtitleSampleEntry.prototype.isSubtitle=function(){return!0},s.MetadataSampleEntry.prototype.isMetadata=function(){return!0},s.decimalToHex=function(c,p){var g=Number(c).toString(16);for(p=typeof p>"u"||p===null?p=2:p;g.length<p;)g="0"+g;return g},s.avc1SampleEntry.prototype.getCodec=s.avc2SampleEntry.prototype.getCodec=s.avc3SampleEntry.prototype.getCodec=s.avc4SampleEntry.prototype.getCodec=function(){var c=s.SampleEntry.prototype.getCodec.call(this);return this.avcC?c+"."+s.decimalToHex(this.avcC.AVCProfileIndication)+s.decimalToHex(this.avcC.profile_compatibility)+s.decimalToHex(this.avcC.AVCLevelIndication):c},s.hev1SampleEntry.prototype.getCodec=s.hvc1SampleEntry.prototype.getCodec=function(){var c,p=s.SampleEntry.prototype.getCodec.call(this);if(this.hvcC){switch(p+=".",this.hvcC.general_profile_space){case 0:p+="";break;case 1:p+="A";break;case 2:p+="B";break;case 3:p+="C";break}p+=this.hvcC.general_profile_idc,p+=".";var g=this.hvcC.general_profile_compatibility,b=0;for(c=0;c<32&&(b|=g&1,c!=31);c++)b<<=1,g>>=1;p+=s.decimalToHex(b,0),p+=".",this.hvcC.general_tier_flag===0?p+="L":p+="H",p+=this.hvcC.general_level_idc;var C=!1,T="";for(c=5;c>=0;c--)(this.hvcC.general_constraint_indicator[c]||C)&&(T="."+s.decimalToHex(this.hvcC.general_constraint_indicator[c],0)+T,C=!0);p+=T}return p},s.vvc1SampleEntry.prototype.getCodec=s.vvi1SampleEntry.prototype.getCodec=function(){var c,p=s.SampleEntry.prototype.getCodec.call(this);if(this.vvcC){p+="."+this.vvcC.general_profile_idc,this.vvcC.general_tier_flag?p+=".H":p+=".L",p+=this.vvcC.general_level_idc;var g="";if(this.vvcC.general_constraint_info){var b=[],C=0;C|=this.vvcC.ptl_frame_only_constraint<<7,C|=this.vvcC.ptl_multilayer_enabled<<6;var T;for(c=0;c<this.vvcC.general_constraint_info.length;++c)C|=this.vvcC.general_constraint_info[c]>>2&63,b.push(C),C&&(T=c),C=this.vvcC.general_constraint_info[c]>>2&3;if(T===void 0)g=".CA";else{g=".C";var M="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",O=0,B=0;for(c=0;c<=T;++c)for(O=O<<8|b[c],B+=8;B>=5;){var P=O>>B-5&31;g+=M[P],B-=5,O&=(1<<B)-1}B&&(O<<=5-B,g+=M[O&31])}}p+=g}return p},s.mp4aSampleEntry.prototype.getCodec=function(){var c=s.SampleEntry.prototype.getCodec.call(this);if(this.esds&&this.esds.esd){var p=this.esds.esd.getOTI(),g=this.esds.esd.getAudioConfig();return c+"."+s.decimalToHex(p)+(g?"."+g:"")}else return c},s.stxtSampleEntry.prototype.getCodec=function(){var c=s.SampleEntry.prototype.getCodec.call(this);return this.mime_format?c+"."+this.mime_format:c},s.vp08SampleEntry.prototype.getCodec=s.vp09SampleEntry.prototype.getCodec=function(){var c=s.SampleEntry.prototype.getCodec.call(this),p=this.vpcC.level;p==0&&(p="00");var g=this.vpcC.bitDepth;return g==8&&(g="08"),c+".0"+this.vpcC.profile+"."+p+"."+g},s.av01SampleEntry.prototype.getCodec=function(){var c=s.SampleEntry.prototype.getCodec.call(this),p=this.av1C.seq_level_idx_0;p<10&&(p="0"+p);var g;return this.av1C.seq_profile===2&&this.av1C.high_bitdepth===1?g=this.av1C.twelve_bit===1?"12":"10":this.av1C.seq_profile<=2&&(g=this.av1C.high_bitdepth===1?"10":"08"),c+"."+this.av1C.seq_profile+"."+p+(this.av1C.seq_tier_0?"H":"M")+"."+g},s.Box.prototype.writeHeader=function(c,p){this.size+=8,this.size>a&&(this.size+=8),this.type==="uuid"&&(this.size+=16),e.debug("BoxWriter","Writing box "+this.type+" of size: "+this.size+" at position "+c.getPosition()+(p||"")),this.size>a?c.writeUint32(1):(this.sizePosition=c.getPosition(),c.writeUint32(this.size)),c.writeString(this.type,null,4),this.type==="uuid"&&c.writeUint8Array(this.uuid),this.size>a&&c.writeUint64(this.size)},s.FullBox.prototype.writeHeader=function(c){this.size+=4,s.Box.prototype.writeHeader.call(this,c," v="+this.version+" f="+this.flags),c.writeUint8(this.version),c.writeUint24(this.flags)},s.Box.prototype.write=function(c){this.type==="mdat"?this.data&&(this.size=this.data.length,this.writeHeader(c),c.writeUint8Array(this.data)):(this.size=this.data?this.data.length:0,this.writeHeader(c),this.data&&c.writeUint8Array(this.data))},s.ContainerBox.prototype.write=function(c){this.size=0,this.writeHeader(c);for(var p=0;p<this.boxes.length;p++)this.boxes[p]&&(this.boxes[p].write(c),this.size+=this.boxes[p].size);e.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),c.adjustUint32(this.sizePosition,this.size)},s.TrackReferenceTypeBox.prototype.write=function(c){this.size=this.track_ids.length*4,this.writeHeader(c),c.writeUint32Array(this.track_ids)},s.avcCBox.prototype.write=function(c){var p;for(this.size=7,p=0;p<this.SPS.length;p++)this.size+=2+this.SPS[p].length;for(p=0;p<this.PPS.length;p++)this.size+=2+this.PPS[p].length;for(this.ext&&(this.size+=this.ext.length),this.writeHeader(c),c.writeUint8(this.configurationVersion),c.writeUint8(this.AVCProfileIndication),c.writeUint8(this.profile_compatibility),c.writeUint8(this.AVCLevelIndication),c.writeUint8(this.lengthSizeMinusOne+252),c.writeUint8(this.SPS.length+224),p=0;p<this.SPS.length;p++)c.writeUint16(this.SPS[p].length),c.writeUint8Array(this.SPS[p].nalu);for(c.writeUint8(this.PPS.length),p=0;p<this.PPS.length;p++)c.writeUint16(this.PPS[p].length),c.writeUint8Array(this.PPS[p].nalu);this.ext&&c.writeUint8Array(this.ext)},s.co64Box.prototype.write=function(c){var p;for(this.version=0,this.flags=0,this.size=4+8*this.chunk_offsets.length,this.writeHeader(c),c.writeUint32(this.chunk_offsets.length),p=0;p<this.chunk_offsets.length;p++)c.writeUint64(this.chunk_offsets[p])},s.cslgBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=4*5,this.writeHeader(c),c.writeInt32(this.compositionToDTSShift),c.writeInt32(this.leastDecodeToDisplayDelta),c.writeInt32(this.greatestDecodeToDisplayDelta),c.writeInt32(this.compositionStartTime),c.writeInt32(this.compositionEndTime)},s.cttsBox.prototype.write=function(c){var p;for(this.version=0,this.flags=0,this.size=4+8*this.sample_counts.length,this.writeHeader(c),c.writeUint32(this.sample_counts.length),p=0;p<this.sample_counts.length;p++)c.writeUint32(this.sample_counts[p]),this.version===1?c.writeInt32(this.sample_offsets[p]):c.writeUint32(this.sample_offsets[p])},s.drefBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=4,this.writeHeader(c),c.writeUint32(this.entries.length);for(var p=0;p<this.entries.length;p++)this.entries[p].write(c),this.size+=this.entries[p].size;e.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),c.adjustUint32(this.sizePosition,this.size)},s.elngBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=this.extended_language.length,this.writeHeader(c),c.writeString(this.extended_language)},s.elstBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=4+12*this.entries.length,this.writeHeader(c),c.writeUint32(this.entries.length);for(var p=0;p<this.entries.length;p++){var g=this.entries[p];c.writeUint32(g.segment_duration),c.writeInt32(g.media_time),c.writeInt16(g.media_rate_integer),c.writeInt16(g.media_rate_fraction)}},s.emsgBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=4*4+this.message_data.length+(this.scheme_id_uri.length+1)+(this.value.length+1),this.writeHeader(c),c.writeCString(this.scheme_id_uri),c.writeCString(this.value),c.writeUint32(this.timescale),c.writeUint32(this.presentation_time_delta),c.writeUint32(this.event_duration),c.writeUint32(this.id),c.writeUint8Array(this.message_data)},s.ftypBox.prototype.write=function(c){this.size=8+4*this.compatible_brands.length,this.writeHeader(c),c.writeString(this.major_brand,null,4),c.writeUint32(this.minor_version);for(var p=0;p<this.compatible_brands.length;p++)c.writeString(this.compatible_brands[p],null,4)},s.hdlrBox.prototype.write=function(c){this.size=5*4+this.name.length+1,this.version=0,this.flags=0,this.writeHeader(c),c.writeUint32(0),c.writeString(this.handler,null,4),c.writeUint32(0),c.writeUint32(0),c.writeUint32(0),c.writeCString(this.name)},s.hvcCBox.prototype.write=function(c){var p,g;for(this.size=23,p=0;p<this.nalu_arrays.length;p++)for(this.size+=3,g=0;g<this.nalu_arrays[p].length;g++)this.size+=2+this.nalu_arrays[p][g].data.length;for(this.writeHeader(c),c.writeUint8(this.configurationVersion),c.writeUint8((this.general_profile_space<<6)+(this.general_tier_flag<<5)+this.general_profile_idc),c.writeUint32(this.general_profile_compatibility),c.writeUint8Array(this.general_constraint_indicator),c.writeUint8(this.general_level_idc),c.writeUint16(this.min_spatial_segmentation_idc+(15<<24)),c.writeUint8(this.parallelismType+252),c.writeUint8(this.chroma_format_idc+252),c.writeUint8(this.bit_depth_luma_minus8+248),c.writeUint8(this.bit_depth_chroma_minus8+248),c.writeUint16(this.avgFrameRate),c.writeUint8((this.constantFrameRate<<6)+(this.numTemporalLayers<<3)+(this.temporalIdNested<<2)+this.lengthSizeMinusOne),c.writeUint8(this.nalu_arrays.length),p=0;p<this.nalu_arrays.length;p++)for(c.writeUint8((this.nalu_arrays[p].completeness<<7)+this.nalu_arrays[p].nalu_type),c.writeUint16(this.nalu_arrays[p].length),g=0;g<this.nalu_arrays[p].length;g++)c.writeUint16(this.nalu_arrays[p][g].data.length),c.writeUint8Array(this.nalu_arrays[p][g].data)},s.kindBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=this.schemeURI.length+1+(this.value.length+1),this.writeHeader(c),c.writeCString(this.schemeURI),c.writeCString(this.value)},s.mdhdBox.prototype.write=function(c){this.size=4*4+2*2,this.flags=0,this.version=0,this.writeHeader(c),c.writeUint32(this.creation_time),c.writeUint32(this.modification_time),c.writeUint32(this.timescale),c.writeUint32(this.duration),c.writeUint16(this.language),c.writeUint16(0)},s.mehdBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=4,this.writeHeader(c),c.writeUint32(this.fragment_duration)},s.mfhdBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=4,this.writeHeader(c),c.writeUint32(this.sequence_number)},s.mvhdBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=23*4+2*2,this.writeHeader(c),c.writeUint32(this.creation_time),c.writeUint32(this.modification_time),c.writeUint32(this.timescale),c.writeUint32(this.duration),c.writeUint32(this.rate),c.writeUint16(this.volume<<8),c.writeUint16(0),c.writeUint32(0),c.writeUint32(0),c.writeUint32Array(this.matrix),c.writeUint32(0),c.writeUint32(0),c.writeUint32(0),c.writeUint32(0),c.writeUint32(0),c.writeUint32(0),c.writeUint32(this.next_track_id)},s.SampleEntry.prototype.writeHeader=function(c){this.size=8,s.Box.prototype.writeHeader.call(this,c),c.writeUint8(0),c.writeUint8(0),c.writeUint8(0),c.writeUint8(0),c.writeUint8(0),c.writeUint8(0),c.writeUint16(this.data_reference_index)},s.SampleEntry.prototype.writeFooter=function(c){for(var p=0;p<this.boxes.length;p++)this.boxes[p].write(c),this.size+=this.boxes[p].size;e.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),c.adjustUint32(this.sizePosition,this.size)},s.SampleEntry.prototype.write=function(c){this.writeHeader(c),c.writeUint8Array(this.data),this.size+=this.data.length,e.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),c.adjustUint32(this.sizePosition,this.size)},s.VisualSampleEntry.prototype.write=function(c){this.writeHeader(c),this.size+=2*7+6*4+32,c.writeUint16(0),c.writeUint16(0),c.writeUint32(0),c.writeUint32(0),c.writeUint32(0),c.writeUint16(this.width),c.writeUint16(this.height),c.writeUint32(this.horizresolution),c.writeUint32(this.vertresolution),c.writeUint32(0),c.writeUint16(this.frame_count),c.writeUint8(Math.min(31,this.compressorname.length)),c.writeString(this.compressorname,null,31),c.writeUint16(this.depth),c.writeInt16(-1),this.writeFooter(c)},s.AudioSampleEntry.prototype.write=function(c){this.writeHeader(c),this.size+=2*4+3*4,c.writeUint32(0),c.writeUint32(0),c.writeUint16(this.channel_count),c.writeUint16(this.samplesize),c.writeUint16(0),c.writeUint16(0),c.writeUint32(this.samplerate<<16),this.writeFooter(c)},s.stppSampleEntry.prototype.write=function(c){this.writeHeader(c),this.size+=this.namespace.length+1+this.schema_location.length+1+this.auxiliary_mime_types.length+1,c.writeCString(this.namespace),c.writeCString(this.schema_location),c.writeCString(this.auxiliary_mime_types),this.writeFooter(c)},s.SampleGroupEntry.prototype.write=function(c){c.writeUint8Array(this.data)},s.sbgpBox.prototype.write=function(c){this.version=1,this.flags=0,this.size=12+8*this.entries.length,this.writeHeader(c),c.writeString(this.grouping_type,null,4),c.writeUint32(this.grouping_type_parameter),c.writeUint32(this.entries.length);for(var p=0;p<this.entries.length;p++){var g=this.entries[p];c.writeInt32(g.sample_count),c.writeInt32(g.group_description_index)}},s.sgpdBox.prototype.write=function(c){var p,g;for(this.flags=0,this.size=12,p=0;p<this.entries.length;p++)g=this.entries[p],this.version===1&&(this.default_length===0&&(this.size+=4),this.size+=g.data.length);for(this.writeHeader(c),c.writeString(this.grouping_type,null,4),this.version===1&&c.writeUint32(this.default_length),this.version>=2&&c.writeUint32(this.default_sample_description_index),c.writeUint32(this.entries.length),p=0;p<this.entries.length;p++)g=this.entries[p],this.version===1&&this.default_length===0&&c.writeUint32(g.description_length),g.write(c)},s.sidxBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=4*4+2+2+12*this.references.length,this.writeHeader(c),c.writeUint32(this.reference_ID),c.writeUint32(this.timescale),c.writeUint32(this.earliest_presentation_time),c.writeUint32(this.first_offset),c.writeUint16(0),c.writeUint16(this.references.length);for(var p=0;p<this.references.length;p++){var g=this.references[p];c.writeUint32(g.reference_type<<31|g.referenced_size),c.writeUint32(g.subsegment_duration),c.writeUint32(g.starts_with_SAP<<31|g.SAP_type<<28|g.SAP_delta_time)}},s.smhdBox.prototype.write=function(c){this.version=0,this.flags=1,this.size=4,this.writeHeader(c),c.writeUint16(this.balance),c.writeUint16(0)},s.stcoBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=4+4*this.chunk_offsets.length,this.writeHeader(c),c.writeUint32(this.chunk_offsets.length),c.writeUint32Array(this.chunk_offsets)},s.stscBox.prototype.write=function(c){var p;for(this.version=0,this.flags=0,this.size=4+12*this.first_chunk.length,this.writeHeader(c),c.writeUint32(this.first_chunk.length),p=0;p<this.first_chunk.length;p++)c.writeUint32(this.first_chunk[p]),c.writeUint32(this.samples_per_chunk[p]),c.writeUint32(this.sample_description_index[p])},s.stsdBox.prototype.write=function(c){var p;for(this.version=0,this.flags=0,this.size=0,this.writeHeader(c),c.writeUint32(this.entries.length),this.size+=4,p=0;p<this.entries.length;p++)this.entries[p].write(c),this.size+=this.entries[p].size;e.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),c.adjustUint32(this.sizePosition,this.size)},s.stshBox.prototype.write=function(c){var p;for(this.version=0,this.flags=0,this.size=4+8*this.shadowed_sample_numbers.length,this.writeHeader(c),c.writeUint32(this.shadowed_sample_numbers.length),p=0;p<this.shadowed_sample_numbers.length;p++)c.writeUint32(this.shadowed_sample_numbers[p]),c.writeUint32(this.sync_sample_numbers[p])},s.stssBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=4+4*this.sample_numbers.length,this.writeHeader(c),c.writeUint32(this.sample_numbers.length),c.writeUint32Array(this.sample_numbers)},s.stszBox.prototype.write=function(c){var p,g=!0;if(this.version=0,this.flags=0,this.sample_sizes.length>0)for(p=0;p+1<this.sample_sizes.length;)if(this.sample_sizes[p+1]!==this.sample_sizes[0]){g=!1;break}else p++;else g=!1;this.size=8,g||(this.size+=4*this.sample_sizes.length),this.writeHeader(c),g?c.writeUint32(this.sample_sizes[0]):c.writeUint32(0),c.writeUint32(this.sample_sizes.length),g||c.writeUint32Array(this.sample_sizes)},s.sttsBox.prototype.write=function(c){var p;for(this.version=0,this.flags=0,this.size=4+8*this.sample_counts.length,this.writeHeader(c),c.writeUint32(this.sample_counts.length),p=0;p<this.sample_counts.length;p++)c.writeUint32(this.sample_counts[p]),c.writeUint32(this.sample_deltas[p])},s.tfdtBox.prototype.write=function(c){var p=Math.pow(2,32)-1;this.version=this.baseMediaDecodeTime>p?1:0,this.flags=0,this.size=4,this.version===1&&(this.size+=4),this.writeHeader(c),this.version===1?c.writeUint64(this.baseMediaDecodeTime):c.writeUint32(this.baseMediaDecodeTime)},s.tfhdBox.prototype.write=function(c){this.version=0,this.size=4,this.flags&s.TFHD_FLAG_BASE_DATA_OFFSET&&(this.size+=8),this.flags&s.TFHD_FLAG_SAMPLE_DESC&&(this.size+=4),this.flags&s.TFHD_FLAG_SAMPLE_DUR&&(this.size+=4),this.flags&s.TFHD_FLAG_SAMPLE_SIZE&&(this.size+=4),this.flags&s.TFHD_FLAG_SAMPLE_FLAGS&&(this.size+=4),this.writeHeader(c),c.writeUint32(this.track_id),this.flags&s.TFHD_FLAG_BASE_DATA_OFFSET&&c.writeUint64(this.base_data_offset),this.flags&s.TFHD_FLAG_SAMPLE_DESC&&c.writeUint32(this.default_sample_description_index),this.flags&s.TFHD_FLAG_SAMPLE_DUR&&c.writeUint32(this.default_sample_duration),this.flags&s.TFHD_FLAG_SAMPLE_SIZE&&c.writeUint32(this.default_sample_size),this.flags&s.TFHD_FLAG_SAMPLE_FLAGS&&c.writeUint32(this.default_sample_flags)},s.tkhdBox.prototype.write=function(c){this.version=0,this.size=4*18+2*4,this.writeHeader(c),c.writeUint32(this.creation_time),c.writeUint32(this.modification_time),c.writeUint32(this.track_id),c.writeUint32(0),c.writeUint32(this.duration),c.writeUint32(0),c.writeUint32(0),c.writeInt16(this.layer),c.writeInt16(this.alternate_group),c.writeInt16(this.volume<<8),c.writeUint16(0),c.writeInt32Array(this.matrix),c.writeUint32(this.width),c.writeUint32(this.height)},s.trexBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=4*5,this.writeHeader(c),c.writeUint32(this.track_id),c.writeUint32(this.default_sample_description_index),c.writeUint32(this.default_sample_duration),c.writeUint32(this.default_sample_size),c.writeUint32(this.default_sample_flags)},s.trunBox.prototype.write=function(c){this.version=0,this.size=4,this.flags&s.TRUN_FLAGS_DATA_OFFSET&&(this.size+=4),this.flags&s.TRUN_FLAGS_FIRST_FLAG&&(this.size+=4),this.flags&s.TRUN_FLAGS_DURATION&&(this.size+=4*this.sample_duration.length),this.flags&s.TRUN_FLAGS_SIZE&&(this.size+=4*this.sample_size.length),this.flags&s.TRUN_FLAGS_FLAGS&&(this.size+=4*this.sample_flags.length),this.flags&s.TRUN_FLAGS_CTS_OFFSET&&(this.size+=4*this.sample_composition_time_offset.length),this.writeHeader(c),c.writeUint32(this.sample_count),this.flags&s.TRUN_FLAGS_DATA_OFFSET&&(this.data_offset_position=c.getPosition(),c.writeInt32(this.data_offset)),this.flags&s.TRUN_FLAGS_FIRST_FLAG&&c.writeUint32(this.first_sample_flags);for(var p=0;p<this.sample_count;p++)this.flags&s.TRUN_FLAGS_DURATION&&c.writeUint32(this.sample_duration[p]),this.flags&s.TRUN_FLAGS_SIZE&&c.writeUint32(this.sample_size[p]),this.flags&s.TRUN_FLAGS_FLAGS&&c.writeUint32(this.sample_flags[p]),this.flags&s.TRUN_FLAGS_CTS_OFFSET&&(this.version===0?c.writeUint32(this.sample_composition_time_offset[p]):c.writeInt32(this.sample_composition_time_offset[p]))},s["url Box"].prototype.write=function(c){this.version=0,this.location?(this.flags=0,this.size=this.location.length+1):(this.flags=1,this.size=0),this.writeHeader(c),this.location&&c.writeCString(this.location)},s["urn Box"].prototype.write=function(c){this.version=0,this.flags=0,this.size=this.name.length+1+(this.location?this.location.length+1:0),this.writeHeader(c),c.writeCString(this.name),this.location&&c.writeCString(this.location)},s.vmhdBox.prototype.write=function(c){this.version=0,this.flags=1,this.size=8,this.writeHeader(c),c.writeUint16(this.graphicsmode),c.writeUint16Array(this.opcolor)},s.cttsBox.prototype.unpack=function(c){var p,g,b;for(b=0,p=0;p<this.sample_counts.length;p++)for(g=0;g<this.sample_counts[p];g++)c[b].pts=c[b].dts+this.sample_offsets[p],b++},s.sttsBox.prototype.unpack=function(c){var p,g,b;for(b=0,p=0;p<this.sample_counts.length;p++)for(g=0;g<this.sample_counts[p];g++)b===0?c[b].dts=0:c[b].dts=c[b-1].dts+this.sample_deltas[p],b++},s.stcoBox.prototype.unpack=function(c){var p;for(p=0;p<this.chunk_offsets.length;p++)c[p].offset=this.chunk_offsets[p]},s.stscBox.prototype.unpack=function(c){var p,g,b,C,T;for(C=0,T=0,p=0;p<this.first_chunk.length;p++)for(g=0;g<(p+1<this.first_chunk.length?this.first_chunk[p+1]:1/0);g++)for(T++,b=0;b<this.samples_per_chunk[p];b++){if(c[C])c[C].description_index=this.sample_description_index[p],c[C].chunk_index=T;else return;C++}},s.stszBox.prototype.unpack=function(c){var p;for(p=0;p<this.sample_sizes.length;p++)c[p].size=this.sample_sizes[p]},s.DIFF_BOXES_PROP_NAMES=["boxes","entries","references","subsamples","items","item_infos","extents","associations","subsegments","ranges","seekLists","seekPoints","esd","levels"],s.DIFF_PRIMITIVE_ARRAY_PROP_NAMES=["compatible_brands","matrix","opcolor","sample_counts","sample_counts","sample_deltas","first_chunk","samples_per_chunk","sample_sizes","chunk_offsets","sample_offsets","sample_description_index","sample_duration"],s.boxEqualFields=function(c,p){if(c&&!p)return!1;var g;for(g in c)if(!(s.DIFF_BOXES_PROP_NAMES.indexOf(g)>-1)){if(c[g]instanceof s.Box||p[g]instanceof s.Box)continue;if(typeof c[g]>"u"||typeof p[g]>"u")continue;if(typeof c[g]=="function"||typeof p[g]=="function")continue;if(c.subBoxNames&&c.subBoxNames.indexOf(g.slice(0,4))>-1||p.subBoxNames&&p.subBoxNames.indexOf(g.slice(0,4))>-1)continue;if(g==="data"||g==="start"||g==="size"||g==="creation_time"||g==="modification_time")continue;if(s.DIFF_PRIMITIVE_ARRAY_PROP_NAMES.indexOf(g)>-1)continue;if(c[g]!==p[g])return!1}return!0},s.boxEqual=function(c,p){if(!s.boxEqualFields(c,p))return!1;for(var g=0;g<s.DIFF_BOXES_PROP_NAMES.length;g++){var b=s.DIFF_BOXES_PROP_NAMES[g];if(c[b]&&p[b]&&!s.boxEqual(c[b],p[b]))return!1}return!0};var m=function(){};m.prototype.parseSample=function(c){var p={},g;p.resources=[];var b=new t(c.data.buffer);if(!c.subsamples||c.subsamples.length===0)p.documentString=b.readString(c.data.length);else if(p.documentString=b.readString(c.subsamples[0].size),c.subsamples.length>1)for(g=1;g<c.subsamples.length;g++)p.resources[g]=b.readUint8Array(c.subsamples[g].size);return typeof DOMParser<"u"&&(p.document=new DOMParser().parseFromString(p.documentString,"application/xml")),p};var y=function(){};y.prototype.parseSample=function(c){var p,g=new t(c.data.buffer);return p=g.readString(c.data.length),p},y.prototype.parseConfig=function(c){var p,g=new t(c.buffer);return g.readUint32(),p=g.readCString(),p},n.XMLSubtitlein4Parser=m,n.Textin4Parser=y;var _=function(c){this.stream=c||new o,this.boxes=[],this.mdats=[],this.moofs=[],this.isProgressive=!1,this.moovStartFound=!1,this.onMoovStart=null,this.moovStartSent=!1,this.onReady=null,this.readySent=!1,this.onSegment=null,this.onSamples=null,this.onError=null,this.sampleListBuilt=!1,this.fragmentedTracks=[],this.extractedTracks=[],this.isFragmentationInitialized=!1,this.sampleProcessingStarted=!1,this.nextMoofNumber=0,this.itemListBuilt=!1,this.onSidx=null,this.sidxSent=!1};_.prototype.setSegmentOptions=function(c,p,g){var b=this.getTrackById(c);if(b){var C={};this.fragmentedTracks.push(C),C.id=c,C.user=p,C.trak=b,b.nextSample=0,C.segmentStream=null,C.nb_samples=1e3,C.rapAlignement=!0,g&&(g.nbSamples&&(C.nb_samples=g.nbSamples),g.rapAlignement&&(C.rapAlignement=g.rapAlignement))}},_.prototype.unsetSegmentOptions=function(c){for(var p=-1,g=0;g<this.fragmentedTracks.length;g++){var b=this.fragmentedTracks[g];b.id==c&&(p=g)}p>-1&&this.fragmentedTracks.splice(p,1)},_.prototype.setExtractionOptions=function(c,p,g){var b=this.getTrackById(c);if(b){var C={};this.extractedTracks.push(C),C.id=c,C.user=p,C.trak=b,b.nextSample=0,C.nb_samples=1e3,C.samples=[],g&&g.nbSamples&&(C.nb_samples=g.nbSamples)}},_.prototype.unsetExtractionOptions=function(c){for(var p=-1,g=0;g<this.extractedTracks.length;g++){var b=this.extractedTracks[g];b.id==c&&(p=g)}p>-1&&this.extractedTracks.splice(p,1)},_.prototype.parse=function(){var c,p,g=!1;if(!(this.restoreParsePosition&&!this.restoreParsePosition()))for(;;)if(this.hasIncompleteMdat&&this.hasIncompleteMdat()){if(this.processIncompleteMdat())continue;return}else if(this.saveParsePosition&&this.saveParsePosition(),c=s.parseOneBox(this.stream,g),c.code===s.ERR_NOT_ENOUGH_DATA)if(this.processIncompleteBox){if(this.processIncompleteBox(c))continue;return}else return;else{var b;switch(p=c.box,b=p.type!=="uuid"?p.type:p.uuid,this.boxes.push(p),b){case"mdat":this.mdats.push(p);break;case"moof":this.moofs.push(p);break;case"moov":this.moovStartFound=!0,this.mdats.length===0&&(this.isProgressive=!0);default:this[b]!==void 0&&e.warn("ISOFile","Duplicate Box of type: "+b+", overriding previous occurrence"),this[b]=p;break}this.updateUsedBytes&&this.updateUsedBytes(p,c)}},_.prototype.checkBuffer=function(c){if(c==null)throw"Buffer must be defined and non empty";if(c.fileStart===void 0)throw"Buffer must have a fileStart property";return c.byteLength===0?(e.warn("ISOFile","Ignoring empty buffer (fileStart: "+c.fileStart+")"),this.stream.logBufferLevel(),!1):(e.info("ISOFile","Processing buffer (fileStart: "+c.fileStart+")"),c.usedBytes=0,this.stream.insertBuffer(c),this.stream.logBufferLevel(),this.stream.initialized()?!0:(e.warn("ISOFile","Not ready to start parsing"),!1))},_.prototype.appendBuffer=function(c,p){var g;if(this.checkBuffer(c))return this.parse(),this.moovStartFound&&!this.moovStartSent&&(this.moovStartSent=!0,this.onMoovStart&&this.onMoovStart()),this.moov?(this.sampleListBuilt||(this.buildSampleLists(),this.sampleListBuilt=!0),this.updateSampleLists(),this.onReady&&!this.readySent&&(this.readySent=!0,this.onReady(this.getInfo())),this.processSamples(p),this.nextSeekPosition?(g=this.nextSeekPosition,this.nextSeekPosition=void 0):g=this.nextParsePosition,this.stream.getEndFilePositionAfter&&(g=this.stream.getEndFilePositionAfter(g))):this.nextParsePosition?g=this.nextParsePosition:g=0,this.sidx&&this.onSidx&&!this.sidxSent&&(this.onSidx(this.sidx),this.sidxSent=!0),this.meta&&(this.flattenItemInfo&&!this.itemListBuilt&&(this.flattenItemInfo(),this.itemListBuilt=!0),this.processItems&&this.processItems(this.onItem)),this.stream.cleanBuffers&&(e.info("ISOFile","Done processing buffer (fileStart: "+c.fileStart+") - next buffer to fetch should have a fileStart position of "+g),this.stream.logBufferLevel(),this.stream.cleanBuffers(),this.stream.logBufferLevel(!0),e.info("ISOFile","Sample data size in memory: "+this.getAllocatedSampleDataSize())),g},_.prototype.getInfo=function(){var c,p,g={},b,C,T,M,O=new Date("1904-01-01T00:00:00Z").getTime();if(this.moov)for(g.hasMoov=!0,g.duration=this.moov.mvhd.duration,g.timescale=this.moov.mvhd.timescale,g.isFragmented=this.moov.mvex!=null,g.isFragmented&&this.moov.mvex.mehd&&(g.fragment_duration=this.moov.mvex.mehd.fragment_duration),g.isProgressive=this.isProgressive,g.hasIOD=this.moov.iods!=null,g.brands=[],g.brands.push(this.ftyp.major_brand),g.brands=g.brands.concat(this.ftyp.compatible_brands),g.created=new Date(O+this.moov.mvhd.creation_time*1e3),g.modified=new Date(O+this.moov.mvhd.modification_time*1e3),g.tracks=[],g.audioTracks=[],g.videoTracks=[],g.subtitleTracks=[],g.metadataTracks=[],g.hintTracks=[],g.otherTracks=[],c=0;c<this.moov.traks.length;c++){if(b=this.moov.traks[c],M=b.mdia.minf.stbl.stsd.entries[0],C={},g.tracks.push(C),C.id=b.tkhd.track_id,C.name=b.mdia.hdlr.name,C.references=[],b.tref)for(p=0;p<b.tref.boxes.length;p++)T={},C.references.push(T),T.type=b.tref.boxes[p].type,T.track_ids=b.tref.boxes[p].track_ids;b.edts&&(C.edits=b.edts.elst.entries),C.created=new Date(O+b.tkhd.creation_time*1e3),C.modified=new Date(O+b.tkhd.modification_time*1e3),C.movie_duration=b.tkhd.duration,C.movie_timescale=g.timescale,C.layer=b.tkhd.layer,C.alternate_group=b.tkhd.alternate_group,C.volume=b.tkhd.volume,C.matrix=b.tkhd.matrix,C.track_width=b.tkhd.width/65536,C.track_height=b.tkhd.height/65536,C.timescale=b.mdia.mdhd.timescale,C.cts_shift=b.mdia.minf.stbl.cslg,C.duration=b.mdia.mdhd.duration,C.samples_duration=b.samples_duration,C.codec=M.getCodec(),C.kind=b.udta&&b.udta.kinds.length?b.udta.kinds[0]:{schemeURI:"",value:""},C.language=b.mdia.elng?b.mdia.elng.extended_language:b.mdia.mdhd.languageString,C.nb_samples=b.samples.length,C.size=b.samples_size,C.bitrate=C.size*8*C.timescale/C.samples_duration,M.isAudio()?(C.type="audio",g.audioTracks.push(C),C.audio={},C.audio.sample_rate=M.getSampleRate(),C.audio.channel_count=M.getChannelCount(),C.audio.sample_size=M.getSampleSize()):M.isVideo()?(C.type="video",g.videoTracks.push(C),C.video={},C.video.width=M.getWidth(),C.video.height=M.getHeight()):M.isSubtitle()?(C.type="subtitles",g.subtitleTracks.push(C)):M.isHint()?(C.type="metadata",g.hintTracks.push(C)):M.isMetadata()?(C.type="metadata",g.metadataTracks.push(C)):(C.type="metadata",g.otherTracks.push(C))}else g.hasMoov=!1;if(g.mime="",g.hasMoov&&g.tracks){for(g.videoTracks&&g.videoTracks.length>0?g.mime+='video/mp4; codecs="':g.audioTracks&&g.audioTracks.length>0?g.mime+='audio/mp4; codecs="':g.mime+='application/mp4; codecs="',c=0;c<g.tracks.length;c++)c!==0&&(g.mime+=","),g.mime+=g.tracks[c].codec;g.mime+='"; profiles="',g.mime+=this.ftyp.compatible_brands.join(),g.mime+='"'}return g},_.prototype.setNextSeekPositionFromSample=function(c){c&&(this.nextSeekPosition?this.nextSeekPosition=Math.min(c.offset+c.alreadyRead,this.nextSeekPosition):this.nextSeekPosition=c.offset+c.alreadyRead)},_.prototype.processSamples=function(c){var p,g;if(this.sampleProcessingStarted){if(this.isFragmentationInitialized&&this.onSegment!==null)for(p=0;p<this.fragmentedTracks.length;p++){var b=this.fragmentedTracks[p];for(g=b.trak;g.nextSample<g.samples.length&&this.sampleProcessingStarted;){e.debug("ISOFile","Creating media fragment on track #"+b.id+" for sample "+g.nextSample);var C=this.createFragment(b.id,g.nextSample,b.segmentStream);if(C)b.segmentStream=C,g.nextSample++;else break;if((g.nextSample%b.nb_samples===0||c||g.nextSample>=g.samples.length)&&(e.info("ISOFile","Sending fragmented data on track #"+b.id+" for samples ["+Math.max(0,g.nextSample-b.nb_samples)+","+(g.nextSample-1)+"]"),e.info("ISOFile","Sample data size in memory: "+this.getAllocatedSampleDataSize()),this.onSegment&&this.onSegment(b.id,b.user,b.segmentStream.buffer,g.nextSample,c||g.nextSample>=g.samples.length),b.segmentStream=null,b!==this.fragmentedTracks[p]))break}}if(this.onSamples!==null)for(p=0;p<this.extractedTracks.length;p++){var T=this.extractedTracks[p];for(g=T.trak;g.nextSample<g.samples.length&&this.sampleProcessingStarted;){e.debug("ISOFile","Exporting on track #"+T.id+" sample #"+g.nextSample);var M=this.getSample(g,g.nextSample);if(M)g.nextSample++,T.samples.push(M);else{this.setNextSeekPositionFromSample(g.samples[g.nextSample]);break}if((g.nextSample%T.nb_samples===0||g.nextSample>=g.samples.length)&&(e.debug("ISOFile","Sending samples on track #"+T.id+" for sample "+g.nextSample),this.onSamples&&this.onSamples(T.id,T.user,T.samples),T.samples=[],T!==this.extractedTracks[p]))break}}}},_.prototype.getBox=function(c){var p=this.getBoxes(c,!0);return p.length?p[0]:null},_.prototype.getBoxes=function(c,p){var g=[];return _._sweep.call(this,c,g,p),g},_._sweep=function(c,p,g){this.type&&this.type==c&&p.push(this);for(var b in this.boxes){if(p.length&&g)return;_._sweep.call(this.boxes[b],c,p,g)}},_.prototype.getTrackSamplesInfo=function(c){var p=this.getTrackById(c);if(p)return p.samples},_.prototype.getTrackSample=function(c,p){var g=this.getTrackById(c),b=this.getSample(g,p);return b},_.prototype.releaseUsedSamples=function(c,p){var g=0,b=this.getTrackById(c);b.lastValidSample||(b.lastValidSample=0);for(var C=b.lastValidSample;C<p;C++)g+=this.releaseSample(b,C);e.info("ISOFile","Track #"+c+" released samples up to "+p+" (released size: "+g+", remaining: "+this.samplesDataSize+")"),b.lastValidSample=p},_.prototype.start=function(){this.sampleProcessingStarted=!0,this.processSamples(!1)},_.prototype.stop=function(){this.sampleProcessingStarted=!1},_.prototype.flush=function(){e.info("ISOFile","Flushing remaining samples"),this.updateSampleLists(),this.processSamples(!0),this.stream.cleanBuffers(),this.stream.logBufferLevel(!0)},_.prototype.seekTrack=function(c,p,g){var b,C,T=1/0,M=0,O=0,B;if(g.samples.length===0)return e.info("ISOFile","No sample in track, cannot seek! Using time "+e.getDurationString(0,1)+" and offset: 0"),{offset:0,time:0};for(b=0;b<g.samples.length;b++){if(C=g.samples[b],b===0)O=0,B=C.timescale;else if(C.cts>c*C.timescale){O=b-1;break}p&&C.is_sync&&(M=b)}for(p&&(O=M),c=g.samples[O].cts,g.nextSample=O;g.samples[O].alreadyRead===g.samples[O].size&&g.samples[O+1];)O++;return T=g.samples[O].offset+g.samples[O].alreadyRead,e.info("ISOFile","Seeking to "+(p?"RAP":"")+" sample #"+g.nextSample+" on track "+g.tkhd.track_id+", time "+e.getDurationString(c,B)+" and offset: "+T),{offset:T,time:c/B}},_.prototype.getTrackDuration=function(c){var p;return c.samples?(p=c.samples[c.samples.length-1],(p.cts+p.duration)/p.timescale):1/0},_.prototype.seek=function(c,p){var g=this.moov,b,C,T,M={offset:1/0,time:1/0};if(this.moov){for(T=0;T<g.traks.length;T++)b=g.traks[T],!(c>this.getTrackDuration(b))&&(C=this.seekTrack(c,p,b),C.offset<M.offset&&(M.offset=C.offset),C.time<M.time&&(M.time=C.time));return e.info("ISOFile","Seeking at time "+e.getDurationString(M.time,1)+" needs a buffer with a fileStart position of "+M.offset),M.offset===1/0?M={offset:this.nextParsePosition,time:0}:M.offset=this.stream.getEndFilePositionAfter(M.offset),e.info("ISOFile","Adjusted seek position (after checking data already in buffer): "+M.offset),M}else throw"Cannot seek: moov not received!"},_.prototype.equal=function(c){for(var p=0;p<this.boxes.length&&p<c.boxes.length;){var g=this.boxes[p],b=c.boxes[p];if(!s.boxEqual(g,b))return!1;p++}return!0},n.ISOFile=_,_.prototype.lastBoxStartPosition=0,_.prototype.parsingMdat=null,_.prototype.nextParsePosition=0,_.prototype.discardMdatData=!1,_.prototype.processIncompleteBox=function(c){var p,g,b;return c.type==="mdat"?(p=new s[c.type+"Box"](c.size),this.parsingMdat=p,this.boxes.push(p),this.mdats.push(p),p.start=c.start,p.hdr_size=c.hdr_size,this.stream.addUsedBytes(p.hdr_size),this.lastBoxStartPosition=p.start+p.size,b=this.stream.seek(p.start+p.size,!1,this.discardMdatData),b?(this.parsingMdat=null,!0):(this.moovStartFound?this.nextParsePosition=this.stream.findEndContiguousBuf():this.nextParsePosition=p.start+p.size,!1)):(c.type==="moov"&&(this.moovStartFound=!0,this.mdats.length===0&&(this.isProgressive=!0)),g=this.stream.mergeNextBuffer?this.stream.mergeNextBuffer():!1,g?(this.nextParsePosition=this.stream.getEndPosition(),!0):(c.type?this.moovStartFound?this.nextParsePosition=this.stream.getEndPosition():this.nextParsePosition=this.stream.getPosition()+c.size:this.nextParsePosition=this.stream.getEndPosition(),!1))},_.prototype.hasIncompleteMdat=function(){return this.parsingMdat!==null},_.prototype.processIncompleteMdat=function(){var c,p;return c=this.parsingMdat,p=this.stream.seek(c.start+c.size,!1,this.discardMdatData),p?(e.debug("ISOFile","Found 'mdat' end in buffered data"),this.parsingMdat=null,!0):(this.nextParsePosition=this.stream.findEndContiguousBuf(),!1)},_.prototype.restoreParsePosition=function(){return this.stream.seek(this.lastBoxStartPosition,!0,this.discardMdatData)},_.prototype.saveParsePosition=function(){this.lastBoxStartPosition=this.stream.getPosition()},_.prototype.updateUsedBytes=function(c,p){this.stream.addUsedBytes&&(c.type==="mdat"?(this.stream.addUsedBytes(c.hdr_size),this.discardMdatData&&this.stream.addUsedBytes(c.size-c.hdr_size)):this.stream.addUsedBytes(c.size))},_.prototype.add=s.Box.prototype.add,_.prototype.addBox=s.Box.prototype.addBox,_.prototype.init=function(c){var p=c||{};this.add("ftyp").set("major_brand",p.brands&&p.brands[0]||"iso4").set("minor_version",0).set("compatible_brands",p.brands||["iso4"]);var g=this.add("moov");return g.add("mvhd").set("timescale",p.timescale||600).set("rate",p.rate||65536).set("creation_time",0).set("modification_time",0).set("duration",p.duration||0).set("volume",p.width?0:256).set("matrix",[65536,0,0,0,65536,0,0,0,1073741824]).set("next_track_id",1),g.add("mvex"),this},_.prototype.addTrack=function(c){this.moov||this.init(c);var p=c||{};p.width=p.width||320,p.height=p.height||320,p.id=p.id||this.moov.mvhd.next_track_id,p.type=p.type||"avc1";var g=this.moov.add("trak");this.moov.mvhd.next_track_id=p.id+1,g.add("tkhd").set("flags",s.TKHD_FLAG_ENABLED|s.TKHD_FLAG_IN_MOVIE|s.TKHD_FLAG_IN_PREVIEW).set("creation_time",0).set("modification_time",0).set("track_id",p.id).set("duration",p.duration||0).set("layer",p.layer||0).set("alternate_group",0).set("volume",1).set("matrix",[65536,0,0,0,65536,0,0,0,1073741824]).set("width",p.width<<16).set("height",p.height<<16);var b=g.add("mdia");b.add("mdhd").set("creation_time",0).set("modification_time",0).set("timescale",p.timescale||1).set("duration",p.media_duration||0).set("language",p.language||"und"),b.add("hdlr").set("handler",p.hdlr||"vide").set("name",p.name||"Track created with MP4Box.js"),b.add("elng").set("extended_language",p.language||"fr-FR");var C=b.add("minf");if(s[p.type+"SampleEntry"]!==void 0){var T=new s[p.type+"SampleEntry"];T.data_reference_index=1;var M="";for(var O in s.sampleEntryCodes)for(var B=s.sampleEntryCodes[O],P=0;P<B.length;P++)if(B.indexOf(p.type)>-1){M=O;break}switch(M){case"Visual":if(C.add("vmhd").set("graphicsmode",0).set("opcolor",[0,0,0]),T.set("width",p.width).set("height",p.height).set("horizresolution",72<<16).set("vertresolution",72<<16).set("frame_count",1).set("compressorname",p.type+" Compressor").set("depth",24),p.avcDecoderConfigRecord){var F=new s.avcCBox;F.parse(new t(p.avcDecoderConfigRecord)),T.addBox(F)}else if(p.hevcDecoderConfigRecord){var U=new s.hvcCBox;U.parse(new t(p.hevcDecoderConfigRecord)),T.addBox(U)}break;case"Audio":C.add("smhd").set("balance",p.balance||0),T.set("channel_count",p.channel_count||2).set("samplesize",p.samplesize||16).set("samplerate",p.samplerate||65536);break;case"Hint":C.add("hmhd");break;case"Subtitle":switch(C.add("sthd"),p.type){case"stpp":T.set("namespace",p.namespace||"nonamespace").set("schema_location",p.schema_location||"").set("auxiliary_mime_types",p.auxiliary_mime_types||"");break}break;case"Metadata":C.add("nmhd");break;case"System":C.add("nmhd");break;default:C.add("nmhd");break}p.description&&T.addBox(p.description),p.description_boxes&&p.description_boxes.forEach(function($){T.addBox($)}),C.add("dinf").add("dref").addEntry(new s["url Box"]().set("flags",1));var z=C.add("stbl");return z.add("stsd").addEntry(T),z.add("stts").set("sample_counts",[]).set("sample_deltas",[]),z.add("stsc").set("first_chunk",[]).set("samples_per_chunk",[]).set("sample_description_index",[]),z.add("stco").set("chunk_offsets",[]),z.add("stsz").set("sample_sizes",[]),this.moov.mvex.add("trex").set("track_id",p.id).set("default_sample_description_index",p.default_sample_description_index||1).set("default_sample_duration",p.default_sample_duration||0).set("default_sample_size",p.default_sample_size||0).set("default_sample_flags",p.default_sample_flags||0),this.buildTrakSampleLists(g),p.id}},s.Box.prototype.computeSize=function(c){var p=c||new r;p.endianness=r.BIG_ENDIAN,this.write(p)},_.prototype.addSample=function(c,p,g){var b=g||{},C={},T=this.getTrackById(c);if(T!==null){C.number=T.samples.length,C.track_id=T.tkhd.track_id,C.timescale=T.mdia.mdhd.timescale,C.description_index=b.sample_description_index?b.sample_description_index-1:0,C.description=T.mdia.minf.stbl.stsd.entries[C.description_index],C.data=p,C.size=p.byteLength,C.alreadyRead=C.size,C.duration=b.duration||1,C.cts=b.cts||0,C.dts=b.dts||0,C.is_sync=b.is_sync||!1,C.is_leading=b.is_leading||0,C.depends_on=b.depends_on||0,C.is_depended_on=b.is_depended_on||0,C.has_redundancy=b.has_redundancy||0,C.degradation_priority=b.degradation_priority||0,C.offset=0,C.subsamples=b.subsamples,T.samples.push(C),T.samples_size+=C.size,T.samples_duration+=C.duration,T.first_dts===void 0&&(T.first_dts=b.dts),this.processSamples();var M=this.createSingleSampleMoof(C);return this.addBox(M),M.computeSize(),M.trafs[0].truns[0].data_offset=M.size+8,this.add("mdat").data=new Uint8Array(p),C}},_.prototype.createSingleSampleMoof=function(c){var p=0;c.is_sync?p=1<<25:p=65536;var g=new s.moofBox;g.add("mfhd").set("sequence_number",this.nextMoofNumber),this.nextMoofNumber++;var b=g.add("traf"),C=this.getTrackById(c.track_id);return b.add("tfhd").set("track_id",c.track_id).set("flags",s.TFHD_FLAG_DEFAULT_BASE_IS_MOOF),b.add("tfdt").set("baseMediaDecodeTime",c.dts-(C.first_dts||0)),b.add("trun").set("flags",s.TRUN_FLAGS_DATA_OFFSET|s.TRUN_FLAGS_DURATION|s.TRUN_FLAGS_SIZE|s.TRUN_FLAGS_FLAGS|s.TRUN_FLAGS_CTS_OFFSET).set("data_offset",0).set("first_sample_flags",0).set("sample_count",1).set("sample_duration",[c.duration]).set("sample_size",[c.size]).set("sample_flags",[p]).set("sample_composition_time_offset",[c.cts-c.dts]),g},_.prototype.lastMoofIndex=0,_.prototype.samplesDataSize=0,_.prototype.resetTables=function(){var c,p,g,b,C,T,M,O;for(this.initial_duration=this.moov.mvhd.duration,this.moov.mvhd.duration=0,c=0;c<this.moov.traks.length;c++){p=this.moov.traks[c],p.tkhd.duration=0,p.mdia.mdhd.duration=0,g=p.mdia.minf.stbl.stco||p.mdia.minf.stbl.co64,g.chunk_offsets=[],b=p.mdia.minf.stbl.stsc,b.first_chunk=[],b.samples_per_chunk=[],b.sample_description_index=[],C=p.mdia.minf.stbl.stsz||p.mdia.minf.stbl.stz2,C.sample_sizes=[],T=p.mdia.minf.stbl.stts,T.sample_counts=[],T.sample_deltas=[],M=p.mdia.minf.stbl.ctts,M&&(M.sample_counts=[],M.sample_offsets=[]),O=p.mdia.minf.stbl.stss;var B=p.mdia.minf.stbl.boxes.indexOf(O);B!=-1&&(p.mdia.minf.stbl.boxes[B]=null)}},_.initSampleGroups=function(c,p,g,b,C){var T,M,O,B;function P(F,U,z){this.grouping_type=F,this.grouping_type_parameter=U,this.sbgp=z,this.last_sample_in_run=-1,this.entry_index=-1}for(p&&(p.sample_groups_info=[]),c.sample_groups_info||(c.sample_groups_info=[]),M=0;M<g.length;M++){for(B=g[M].grouping_type+"/"+g[M].grouping_type_parameter,O=new P(g[M].grouping_type,g[M].grouping_type_parameter,g[M]),p&&(p.sample_groups_info[B]=O),c.sample_groups_info[B]||(c.sample_groups_info[B]=O),T=0;T<b.length;T++)b[T].grouping_type===g[M].grouping_type&&(O.description=b[T],O.description.used=!0);if(C)for(T=0;T<C.length;T++)C[T].grouping_type===g[M].grouping_type&&(O.fragment_description=C[T],O.fragment_description.used=!0,O.is_fragment=!0)}if(p){if(C)for(M=0;M<C.length;M++)!C[M].used&&C[M].version>=2&&(B=C[M].grouping_type+"/0",O=new P(C[M].grouping_type,0),O.is_fragment=!0,p.sample_groups_info[B]||(p.sample_groups_info[B]=O))}else for(M=0;M<b.length;M++)!b[M].used&&b[M].version>=2&&(B=b[M].grouping_type+"/0",O=new P(b[M].grouping_type,0),c.sample_groups_info[B]||(c.sample_groups_info[B]=O))},_.setSampleGroupProperties=function(c,p,g,b){var C,T;p.sample_groups=[];for(C in b)if(p.sample_groups[C]={},p.sample_groups[C].grouping_type=b[C].grouping_type,p.sample_groups[C].grouping_type_parameter=b[C].grouping_type_parameter,g>=b[C].last_sample_in_run&&(b[C].last_sample_in_run<0&&(b[C].last_sample_in_run=0),b[C].entry_index++,b[C].entry_index<=b[C].sbgp.entries.length-1&&(b[C].last_sample_in_run+=b[C].sbgp.entries[b[C].entry_index].sample_count)),b[C].entry_index<=b[C].sbgp.entries.length-1?p.sample_groups[C].group_description_index=b[C].sbgp.entries[b[C].entry_index].group_description_index:p.sample_groups[C].group_description_index=-1,p.sample_groups[C].group_description_index!==0){var M;b[C].fragment_description?M=b[C].fragment_description:M=b[C].description,p.sample_groups[C].group_description_index>0?(p.sample_groups[C].group_description_index>65535?T=(p.sample_groups[C].group_description_index>>16)-1:T=p.sample_groups[C].group_description_index-1,M&&T>=0&&(p.sample_groups[C].description=M.entries[T])):M&&M.version>=2&&M.default_group_description_index>0&&(p.sample_groups[C].description=M.entries[M.default_group_description_index-1])}},_.process_sdtp=function(c,p,g){p&&(c?(p.is_leading=c.is_leading[g],p.depends_on=c.sample_depends_on[g],p.is_depended_on=c.sample_is_depended_on[g],p.has_redundancy=c.sample_has_redundancy[g]):(p.is_leading=0,p.depends_on=0,p.is_depended_on=0,p.has_redundancy=0))},_.prototype.buildSampleLists=function(){var c,p;for(c=0;c<this.moov.traks.length;c++)p=this.moov.traks[c],this.buildTrakSampleLists(p)},_.prototype.buildTrakSampleLists=function(c){var p,g,b,C,T,M,O,B,P,F,U,z,$,J,W,Q,ae,Y,K,ee,de,q,ie,he;if(c.samples=[],c.samples_duration=0,c.samples_size=0,g=c.mdia.minf.stbl.stco||c.mdia.minf.stbl.co64,b=c.mdia.minf.stbl.stsc,C=c.mdia.minf.stbl.stsz||c.mdia.minf.stbl.stz2,T=c.mdia.minf.stbl.stts,M=c.mdia.minf.stbl.ctts,O=c.mdia.minf.stbl.stss,B=c.mdia.minf.stbl.stsd,P=c.mdia.minf.stbl.subs,z=c.mdia.minf.stbl.stdp,F=c.mdia.minf.stbl.sbgps,U=c.mdia.minf.stbl.sgpds,Y=-1,K=-1,ee=-1,de=-1,q=0,ie=0,he=0,_.initSampleGroups(c,null,F,U),!(typeof C>"u")){for(p=0;p<C.sample_sizes.length;p++){var fe={};fe.number=p,fe.track_id=c.tkhd.track_id,fe.timescale=c.mdia.mdhd.timescale,fe.alreadyRead=0,c.samples[p]=fe,fe.size=C.sample_sizes[p],c.samples_size+=fe.size,p===0?(J=1,$=0,fe.chunk_index=J,fe.chunk_run_index=$,ae=b.samples_per_chunk[$],Q=0,$+1<b.first_chunk.length?W=b.first_chunk[$+1]-1:W=1/0):p<ae?(fe.chunk_index=J,fe.chunk_run_index=$):(J++,fe.chunk_index=J,Q=0,J<=W||($++,$+1<b.first_chunk.length?W=b.first_chunk[$+1]-1:W=1/0),fe.chunk_run_index=$,ae+=b.samples_per_chunk[$]),fe.description_index=b.sample_description_index[fe.chunk_run_index]-1,fe.description=B.entries[fe.description_index],fe.offset=g.chunk_offsets[fe.chunk_index-1]+Q,Q+=fe.size,p>Y&&(K++,Y<0&&(Y=0),Y+=T.sample_counts[K]),p>0?(c.samples[p-1].duration=T.sample_deltas[K],c.samples_duration+=c.samples[p-1].duration,fe.dts=c.samples[p-1].dts+c.samples[p-1].duration):fe.dts=0,M?(p>=ee&&(de++,ee<0&&(ee=0),ee+=M.sample_counts[de]),fe.cts=c.samples[p].dts+M.sample_offsets[de]):fe.cts=fe.dts,O?(p==O.sample_numbers[q]-1?(fe.is_sync=!0,q++):(fe.is_sync=!1,fe.degradation_priority=0),P&&P.entries[ie].sample_delta+he==p+1&&(fe.subsamples=P.entries[ie].subsamples,he+=P.entries[ie].sample_delta,ie++)):fe.is_sync=!0,_.process_sdtp(c.mdia.minf.stbl.sdtp,fe,fe.number),z?fe.degradation_priority=z.priority[p]:fe.degradation_priority=0,P&&P.entries[ie].sample_delta+he==p&&(fe.subsamples=P.entries[ie].subsamples,he+=P.entries[ie].sample_delta),(F.length>0||U.length>0)&&_.setSampleGroupProperties(c,fe,p,c.sample_groups_info)}p>0&&(c.samples[p-1].duration=Math.max(c.mdia.mdhd.duration-c.samples[p-1].dts,0),c.samples_duration+=c.samples[p-1].duration)}},_.prototype.updateSampleLists=function(){var c,p,g,b,C,T,M,O,B,P,F,U,z,$,J;if(this.moov!==void 0){for(;this.lastMoofIndex<this.moofs.length;)if(B=this.moofs[this.lastMoofIndex],this.lastMoofIndex++,B.type=="moof")for(P=B,c=0;c<P.trafs.length;c++){for(F=P.trafs[c],U=this.getTrackById(F.tfhd.track_id),U.samples==null&&(U.samples=[]),z=this.getTrexById(F.tfhd.track_id),F.tfhd.flags&s.TFHD_FLAG_SAMPLE_DESC?b=F.tfhd.default_sample_description_index:b=z?z.default_sample_description_index:1,F.tfhd.flags&s.TFHD_FLAG_SAMPLE_DUR?C=F.tfhd.default_sample_duration:C=z?z.default_sample_duration:0,F.tfhd.flags&s.TFHD_FLAG_SAMPLE_SIZE?T=F.tfhd.default_sample_size:T=z?z.default_sample_size:0,F.tfhd.flags&s.TFHD_FLAG_SAMPLE_FLAGS?M=F.tfhd.default_sample_flags:M=z?z.default_sample_flags:0,F.sample_number=0,F.sbgps.length>0&&_.initSampleGroups(U,F,F.sbgps,U.mdia.minf.stbl.sgpds,F.sgpds),p=0;p<F.truns.length;p++){var W=F.truns[p];for(g=0;g<W.sample_count;g++){$={},$.moof_number=this.lastMoofIndex,$.number_in_traf=F.sample_number,F.sample_number++,$.number=U.samples.length,F.first_sample_index=U.samples.length,U.samples.push($),$.track_id=U.tkhd.track_id,$.timescale=U.mdia.mdhd.timescale,$.description_index=b-1,$.description=U.mdia.minf.stbl.stsd.entries[$.description_index],$.size=T,W.flags&s.TRUN_FLAGS_SIZE&&($.size=W.sample_size[g]),U.samples_size+=$.size,$.duration=C,W.flags&s.TRUN_FLAGS_DURATION&&($.duration=W.sample_duration[g]),U.samples_duration+=$.duration,U.first_traf_merged||g>0?$.dts=U.samples[U.samples.length-2].dts+U.samples[U.samples.length-2].duration:(F.tfdt?$.dts=F.tfdt.baseMediaDecodeTime:$.dts=0,U.first_traf_merged=!0),$.cts=$.dts,W.flags&s.TRUN_FLAGS_CTS_OFFSET&&($.cts=$.dts+W.sample_composition_time_offset[g]),J=M,W.flags&s.TRUN_FLAGS_FLAGS?J=W.sample_flags[g]:g===0&&W.flags&s.TRUN_FLAGS_FIRST_FLAG&&(J=W.first_sample_flags),$.is_sync=!(J>>16&1),$.is_leading=J>>26&3,$.depends_on=J>>24&3,$.is_depended_on=J>>22&3,$.has_redundancy=J>>20&3,$.degradation_priority=J&65535;var Q=!!(F.tfhd.flags&s.TFHD_FLAG_BASE_DATA_OFFSET),ae=!!(F.tfhd.flags&s.TFHD_FLAG_DEFAULT_BASE_IS_MOOF),Y=!!(W.flags&s.TRUN_FLAGS_DATA_OFFSET),K=0;Q?K=F.tfhd.base_data_offset:ae||p===0?K=P.start:K=O,p===0&&g===0?Y?$.offset=K+W.data_offset:$.offset=K:$.offset=O,O=$.offset+$.size,(F.sbgps.length>0||F.sgpds.length>0||U.mdia.minf.stbl.sbgps.length>0||U.mdia.minf.stbl.sgpds.length>0)&&_.setSampleGroupProperties(U,$,$.number_in_traf,F.sample_groups_info)}}if(F.subs){U.has_fragment_subsamples=!0;var ee=F.first_sample_index;for(p=0;p<F.subs.entries.length;p++)ee+=F.subs.entries[p].sample_delta,$=U.samples[ee-1],$.subsamples=F.subs.entries[p].subsamples}}}},_.prototype.getSample=function(c,p){var g,b=c.samples[p];if(!this.moov)return null;if(!b.data)b.data=new Uint8Array(b.size),b.alreadyRead=0,this.samplesDataSize+=b.size,e.debug("ISOFile","Allocating sample #"+p+" on track #"+c.tkhd.track_id+" of size "+b.size+" (total: "+this.samplesDataSize+")");else if(b.alreadyRead==b.size)return b;for(;;){var C=this.stream.findPosition(!0,b.offset+b.alreadyRead,!1);if(C>-1){g=this.stream.buffers[C];var T=g.byteLength-(b.offset+b.alreadyRead-g.fileStart);if(b.size-b.alreadyRead<=T)return e.debug("ISOFile","Getting sample #"+p+" data (alreadyRead: "+b.alreadyRead+" offset: "+(b.offset+b.alreadyRead-g.fileStart)+" read size: "+(b.size-b.alreadyRead)+" full size: "+b.size+")"),r.memcpy(b.data.buffer,b.alreadyRead,g,b.offset+b.alreadyRead-g.fileStart,b.size-b.alreadyRead),g.usedBytes+=b.size-b.alreadyRead,this.stream.logBufferLevel(),b.alreadyRead=b.size,b;if(T===0)return null;e.debug("ISOFile","Getting sample #"+p+" partial data (alreadyRead: "+b.alreadyRead+" offset: "+(b.offset+b.alreadyRead-g.fileStart)+" read size: "+T+" full size: "+b.size+")"),r.memcpy(b.data.buffer,b.alreadyRead,g,b.offset+b.alreadyRead-g.fileStart,T),b.alreadyRead+=T,g.usedBytes+=T,this.stream.logBufferLevel()}else return null}},_.prototype.releaseSample=function(c,p){var g=c.samples[p];return g.data?(this.samplesDataSize-=g.size,g.data=null,g.alreadyRead=0,g.size):0},_.prototype.getAllocatedSampleDataSize=function(){return this.samplesDataSize},_.prototype.getCodecs=function(){var c,p="";for(c=0;c<this.moov.traks.length;c++){var g=this.moov.traks[c];c>0&&(p+=","),p+=g.mdia.minf.stbl.stsd.entries[0].getCodec()}return p},_.prototype.getTrexById=function(c){var p;if(!this.moov||!this.moov.mvex)return null;for(p=0;p<this.moov.mvex.trexs.length;p++){var g=this.moov.mvex.trexs[p];if(g.track_id==c)return g}return null},_.prototype.getTrackById=function(c){if(this.moov===void 0)return null;for(var p=0;p<this.moov.traks.length;p++){var g=this.moov.traks[p];if(g.tkhd.track_id==c)return g}return null},_.prototype.items=[],_.prototype.entity_groups=[],_.prototype.itemsDataSize=0,_.prototype.flattenItemInfo=function(){var c=this.items,p=this.entity_groups,g,b,C,T=this.meta;if(T!=null&&T.hdlr!==void 0&&T.iinf!==void 0){for(g=0;g<T.iinf.item_infos.length;g++)C={},C.id=T.iinf.item_infos[g].item_ID,c[C.id]=C,C.ref_to=[],C.name=T.iinf.item_infos[g].item_name,T.iinf.item_infos[g].protection_index>0&&(C.protection=T.ipro.protections[T.iinf.item_infos[g].protection_index-1]),T.iinf.item_infos[g].item_type?C.type=T.iinf.item_infos[g].item_type:C.type="mime",C.content_type=T.iinf.item_infos[g].content_type,C.content_encoding=T.iinf.item_infos[g].content_encoding;if(T.grpl)for(g=0;g<T.grpl.boxes.length;g++)entity_group={},entity_group.id=T.grpl.boxes[g].group_id,entity_group.entity_ids=T.grpl.boxes[g].entity_ids,entity_group.type=T.grpl.boxes[g].type,p[entity_group.id]=entity_group;if(T.iloc)for(g=0;g<T.iloc.items.length;g++){var M=T.iloc.items[g];switch(C=c[M.item_ID],M.data_reference_index!==0&&(e.warn("Item storage with reference to other files: not supported"),C.source=T.dinf.boxes[M.data_reference_index-1]),M.construction_method){case 0:break;case 1:e.warn("Item storage with construction_method : not supported");break;case 2:e.warn("Item storage with construction_method : not supported");break}for(C.extents=[],C.size=0,b=0;b<M.extents.length;b++)C.extents[b]={},C.extents[b].offset=M.extents[b].extent_offset+M.base_offset,C.extents[b].length=M.extents[b].extent_length,C.extents[b].alreadyRead=0,C.size+=C.extents[b].length}if(T.pitm&&(c[T.pitm.item_id].primary=!0),T.iref)for(g=0;g<T.iref.references.length;g++){var O=T.iref.references[g];for(b=0;b<O.references.length;b++)c[O.from_item_ID].ref_to.push({type:O.type,id:O.references[b]})}if(T.iprp)for(var B=0;B<T.iprp.ipmas.length;B++){var P=T.iprp.ipmas[B];for(g=0;g<P.associations.length;g++){var F=P.associations[g];if(C=c[F.id],C||(C=p[F.id]),C)for(C.properties===void 0&&(C.properties={},C.properties.boxes=[]),b=0;b<F.props.length;b++){var U=F.props[b];if(U.property_index>0&&U.property_index-1<T.iprp.ipco.boxes.length){var z=T.iprp.ipco.boxes[U.property_index-1];C.properties[z.type]=z,C.properties.boxes.push(z)}}}}}},_.prototype.getItem=function(c){var p,g;if(!this.meta)return null;if(g=this.items[c],!g.data&&g.size)g.data=new Uint8Array(g.size),g.alreadyRead=0,this.itemsDataSize+=g.size,e.debug("ISOFile","Allocating item #"+c+" of size "+g.size+" (total: "+this.itemsDataSize+")");else if(g.alreadyRead===g.size)return g;for(var b=0;b<g.extents.length;b++){var C=g.extents[b];if(C.alreadyRead!==C.length){var T=this.stream.findPosition(!0,C.offset+C.alreadyRead,!1);if(T>-1){p=this.stream.buffers[T];var M=p.byteLength-(C.offset+C.alreadyRead-p.fileStart);if(C.length-C.alreadyRead<=M)e.debug("ISOFile","Getting item #"+c+" extent #"+b+" data (alreadyRead: "+C.alreadyRead+" offset: "+(C.offset+C.alreadyRead-p.fileStart)+" read size: "+(C.length-C.alreadyRead)+" full extent size: "+C.length+" full item size: "+g.size+")"),r.memcpy(g.data.buffer,g.alreadyRead,p,C.offset+C.alreadyRead-p.fileStart,C.length-C.alreadyRead),p.usedBytes+=C.length-C.alreadyRead,this.stream.logBufferLevel(),g.alreadyRead+=C.length-C.alreadyRead,C.alreadyRead=C.length;else return e.debug("ISOFile","Getting item #"+c+" extent #"+b+" partial data (alreadyRead: "+C.alreadyRead+" offset: "+(C.offset+C.alreadyRead-p.fileStart)+" read size: "+M+" full extent size: "+C.length+" full item size: "+g.size+")"),r.memcpy(g.data.buffer,g.alreadyRead,p,C.offset+C.alreadyRead-p.fileStart,M),C.alreadyRead+=M,g.alreadyRead+=M,p.usedBytes+=M,this.stream.logBufferLevel(),null}else return null}}return g.alreadyRead===g.size?g:null},_.prototype.releaseItem=function(c){var p=this.items[c];if(p.data){this.itemsDataSize-=p.size,p.data=null,p.alreadyRead=0;for(var g=0;g<p.extents.length;g++){var b=p.extents[g];b.alreadyRead=0}return p.size}else return 0},_.prototype.processItems=function(c){for(var p in this.items){var g=this.items[p];this.getItem(g.id),c&&!g.sent&&(c(g),g.sent=!0,g.data=null)}},_.prototype.hasItem=function(c){for(var p in this.items){var g=this.items[p];if(g.name===c)return g.id}return-1},_.prototype.getMetaHandler=function(){return this.meta?this.meta.hdlr.handler:null},_.prototype.getPrimaryItem=function(){return!this.meta||!this.meta.pitm?null:this.getItem(this.meta.pitm.item_id)},_.prototype.itemToFragmentedTrackFile=function(c){var p=c||{},g=null;if(p.itemId?g=this.getItem(p.itemId):g=this.getPrimaryItem(),g==null)return null;var b=new _;b.discardMdatData=!1;var C={type:g.type,description_boxes:g.properties.boxes};g.properties.ispe&&(C.width=g.properties.ispe.image_width,C.height=g.properties.ispe.image_height);var T=b.addTrack(C);return T?(b.addSample(T,g.data),b):null},_.prototype.write=function(c){for(var p=0;p<this.boxes.length;p++)this.boxes[p].write(c)},_.prototype.createFragment=function(c,p,g){var b=this.getTrackById(c),C=this.getSample(b,p);if(C==null)return this.setNextSeekPositionFromSample(b.samples[p]),null;var T=g||new r;T.endianness=r.BIG_ENDIAN;var M=this.createSingleSampleMoof(C);M.write(T),M.trafs[0].truns[0].data_offset=M.size+8,e.debug("MP4Box","Adjusting data_offset with new value "+M.trafs[0].truns[0].data_offset),T.adjustUint32(M.trafs[0].truns[0].data_offset_position,M.trafs[0].truns[0].data_offset);var O=new s.mdatBox;return O.data=C.data,O.write(T),T},_.writeInitializationSegment=function(c,p,g,b){var C;e.debug("ISOFile","Generating initialization segment");var T=new r;T.endianness=r.BIG_ENDIAN,c.write(T);var M=p.add("mvex");for(g&&M.add("mehd").set("fragment_duration",g),C=0;C<p.traks.length;C++)M.add("trex").set("track_id",p.traks[C].tkhd.track_id).set("default_sample_description_index",1).set("default_sample_duration",b).set("default_sample_size",0).set("default_sample_flags",65536);return p.write(T),T.buffer},_.prototype.save=function(c){var p=new r;p.endianness=r.BIG_ENDIAN,this.write(p),p.save(c)},_.prototype.getBuffer=function(){var c=new r;return c.endianness=r.BIG_ENDIAN,this.write(c),c.buffer},_.prototype.initializeSegmentation=function(){var c,p,g,b;for(this.onSegment===null&&e.warn("MP4Box","No segmentation callback set!"),this.isFragmentationInitialized||(this.isFragmentationInitialized=!0,this.nextMoofNumber=0,this.resetTables()),p=[],c=0;c<this.fragmentedTracks.length;c++){var C=new s.moovBox;C.mvhd=this.moov.mvhd,C.boxes.push(C.mvhd),g=this.getTrackById(this.fragmentedTracks[c].id),C.boxes.push(g),C.traks.push(g),b={},b.id=g.tkhd.track_id,b.user=this.fragmentedTracks[c].user,b.buffer=_.writeInitializationSegment(this.ftyp,C,this.moov.mvex&&this.moov.mvex.mehd?this.moov.mvex.mehd.fragment_duration:void 0,this.moov.traks[c].samples.length>0?this.moov.traks[c].samples[0].duration:0),p.push(b)}return p},s.Box.prototype.printHeader=function(c){this.size+=8,this.size>a&&(this.size+=8),this.type==="uuid"&&(this.size+=16),c.log(c.indent+"size:"+this.size),c.log(c.indent+"type:"+this.type)},s.FullBox.prototype.printHeader=function(c){this.size+=4,s.Box.prototype.printHeader.call(this,c),c.log(c.indent+"version:"+this.version),c.log(c.indent+"flags:"+this.flags)},s.Box.prototype.print=function(c){this.printHeader(c)},s.ContainerBox.prototype.print=function(c){this.printHeader(c);for(var p=0;p<this.boxes.length;p++)if(this.boxes[p]){var g=c.indent;c.indent+=" ",this.boxes[p].print(c),c.indent=g}},_.prototype.print=function(c){c.indent="";for(var p=0;p<this.boxes.length;p++)this.boxes[p]&&this.boxes[p].print(c)},s.mvhdBox.prototype.print=function(c){s.FullBox.prototype.printHeader.call(this,c),c.log(c.indent+"creation_time: "+this.creation_time),c.log(c.indent+"modification_time: "+this.modification_time),c.log(c.indent+"timescale: "+this.timescale),c.log(c.indent+"duration: "+this.duration),c.log(c.indent+"rate: "+this.rate),c.log(c.indent+"volume: "+(this.volume>>8)),c.log(c.indent+"matrix: "+this.matrix.join(", ")),c.log(c.indent+"next_track_id: "+this.next_track_id)},s.tkhdBox.prototype.print=function(c){s.FullBox.prototype.printHeader.call(this,c),c.log(c.indent+"creation_time: "+this.creation_time),c.log(c.indent+"modification_time: "+this.modification_time),c.log(c.indent+"track_id: "+this.track_id),c.log(c.indent+"duration: "+this.duration),c.log(c.indent+"volume: "+(this.volume>>8)),c.log(c.indent+"matrix: "+this.matrix.join(", ")),c.log(c.indent+"layer: "+this.layer),c.log(c.indent+"alternate_group: "+this.alternate_group),c.log(c.indent+"width: "+this.width),c.log(c.indent+"height: "+this.height)};var E={};E.createFile=function(c,p){var g=c!==void 0?c:!0,b=new _(p);return b.discardMdatData=!g,b},n.createFile=E.createFile}(nR)),nR}var Ope=Rpe();const ff=Lm(Ope);var Ipe=Object.defineProperty,gG=n=>{throw TypeError(n)},Bpe=(n,e,t)=>e in n?Ipe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,iR=(n,e,t)=>Bpe(n,typeof e!="symbol"?e+"":e,t),Dpe=(n,e,t)=>e.has(n)||gG("Cannot "+t),lv=(n,e,t)=>(Dpe(n,e,"read from private field"),t?t.call(n):e.get(n)),Ppe=(n,e,t)=>e.has(n)?gG("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),vh;let Dm=class{constructor(){Ppe(this,vh,new Map),iR(this,"on",(e,t)=>{const r=lv(this,vh).get(e)??new Set;return r.add(t),lv(this,vh).has(e)||lv(this,vh).set(e,r),()=>{r.delete(t),r.size===0&&lv(this,vh).delete(e)}}),iR(this,"once",(e,t)=>{const r=this.on(e,(...a)=>{r(),t(...a)});return r}),iR(this,"emit",(e,...t)=>{const r=lv(this,vh).get(e);r!=null&&r.forEach(a=>a(...t))})}static forwardEvent(e,t,r){const a=r.map(o=>{const[l,s]=Array.isArray(o)?o:[o,o];return e.on(l,(...u)=>{t.emit(s,...u)})});return()=>{a.forEach(o=>o())}}destroy(){lv(this,vh).clear()}};vh=new WeakMap;const Lpe=()=>{let n,e=16.6;self.onmessage=t=>{t.data.event==="start"&&(self.clearInterval(n),n=self.setInterval(()=>{self.postMessage({})},e)),t.data.event==="stop"&&self.clearInterval(n)}},Npe=()=>{const n=new Blob([`(${Lpe.toString()})()`]),e=URL.createObjectURL(n);return new Worker(e)},hv=new Map;let Y2=1,zv=null;globalThis.Worker!=null&&(zv=Npe(),zv.onmessage=()=>{Y2+=1;for(const[n,e]of hv)if(Y2%n===0)for(const t of e)t()});const rB=(n,e)=>{const t=Math.round(e/16.6),r=hv.get(t)??new Set;return r.add(n),hv.set(t,r),hv.size===1&&r.size===1&&(zv==null||zv.postMessage({event:"start"})),()=>{r.delete(n),r.size===0&&hv.delete(t),hv.size===0&&(Y2=0,zv==null||zv.postMessage({event:"stop"}))}};function zpe(n,e){let t=!1;async function r(){const a=n.getReader();for(;!t;){const{value:o,done:l}=await a.read();if(l){e.onDone();return}await e.onChunk(o)}a.releaseLock(),await n.cancel()}return r().catch(console.error),()=>{t=!0}}function Upe(n,e,t){let r=0,a=0;const o=n.boxes;let l=!1;const s=()=>{var y;if(!l)if(o.find(c=>c.type==="moof")!=null)l=!0;else return null;if(a>=o.length)return null;const _=new ff.DataStream;_.endianness=ff.DataStream.BIG_ENDIAN;let E=a;try{for(;E<o.length;)o[E].write(_),delete o[E],E+=1}catch(c){const p=o[E];throw c instanceof Error&&p!=null?Error(`${c.message} | deltaBuf( boxType: ${p.type}, boxSize: ${p.size}, boxDataLen: ${((y=p.data)==null?void 0:y.length)??-1})`):c}return Fpe(n),a=o.length,new Uint8Array(_.buffer)};let u=!1,f=!1,m=null;return{stream:new ReadableStream({start(y){r=self.setInterval(()=>{const _=s();_!=null&&!f&&y.enqueue(_)},e),m=_=>{if(clearInterval(r),n.flush(),_!=null){y.error(_);return}const E=s();E!=null&&!f&&y.enqueue(E),f||y.close()},u&&m()},cancel(){f=!0,clearInterval(r),t==null||t()}}),stop:y=>{u||(u=!0,m==null||m(y))}}}function Fpe(n){if(n.moov!=null){for(var e=0;e<n.moov.traks.length;e++)n.moov.traks[e].samples=[];n.mdats=[],n.moofs=[]}}const aB=(n,e)=>{const t=new Uint8Array(8);new DataView(t.buffer).setUint32(0,e);for(let r=0;r<4;r++)t[4+r]=n.charCodeAt(r);return t},Hpe=()=>{const n=new TextEncoder,e=n.encode("mdta"),t=n.encode("mp4 handler"),r=32+t.byteLength+1,a=new Uint8Array(r),o=new DataView(a.buffer);return a.set(aB("hdlr",r),0),o.setUint32(8,0),a.set(e,16),a.set(t,32),a},Gpe=n=>{const e=new TextEncoder,t=e.encode("mdta"),r=n.map(u=>{const f=e.encode(u),m=8+f.byteLength,y=new Uint8Array(m);return new DataView(y.buffer).setUint32(0,m),y.set(t,4),y.set(f,4+t.byteLength),y}),a=16+r.reduce((u,f)=>u+f.byteLength,0),o=new Uint8Array(a),l=new DataView(o.buffer);o.set(aB("keys",a),0),l.setUint32(8,0),l.setUint32(12,n.length);let s=16;for(const u of r)o.set(u,s),s+=u.byteLength;return o},kpe=n=>{const e=new TextEncoder,t=e.encode("data"),r=Object.entries(n).map(([s,u],f)=>{const m=f+1,y=e.encode(u),_=24+y.byteLength,E=new Uint8Array(_),c=new DataView(E.buffer);return c.setUint32(0,_),c.setUint32(4,m),c.setUint32(8,16+y.byteLength),E.set(t,12),c.setUint32(16,1),E.set(y,24),E}),a=8+r.reduce((s,u)=>s+u.byteLength,0),o=new Uint8Array(a);o.set(aB("ilst",a),0);let l=8;for(const s of r)o.set(s,l),l+=s.byteLength;return o},$pe=n=>{const e=Hpe(),t=Gpe(Object.keys(n)),r=kpe(n),a=e.length+t.length+r.length,o=new Uint8Array(a);return o.set(e,0),o.set(t,e.length),o.set(r,e.length+t.length),o};function Vpe(n){return n instanceof Error?String(n):typeof n=="object"?JSON.stringify(n,(e,t)=>t instanceof Error?String(t):t):String(n)}function jpe(){const n=new Date;return`${n.getHours()}:${n.getMinutes()}:${n.getSeconds()}.${n.getMilliseconds()}`}let vG=1;const yG=[],QN=["debug","info","warn","error"].reduce((n,e,t)=>Object.assign(n,{[e]:(...r)=>{vG<=t&&(console[e](...r),yG.push({lvName:e,timeStr:jpe(),args:r}))}}),{}),qS=new Map,gi={setLogLevel:n=>{vG=qS.get(n)??1},...QN,create:n=>Object.fromEntries(Object.entries(QN).map(([e,t])=>[e,(...r)=>t(n,...r)])),async dump(){return yG.reduce((n,{lvName:e,timeStr:t,args:r})=>n+`[${e}][${t}]  ${r.map(a=>Vpe(a)).join(" ")}
`,"")}};qS.set(gi.debug,0);qS.set(gi.info,1);qS.set(gi.warn,2);qS.set(gi.error,3);(async function(){await Promise.resolve(),!(globalThis.navigator==null||globalThis.document==null)&&(gi.info(`@webav version: 1.0.19, date: ${new Date().toLocaleDateString()}`),gi.info(globalThis.navigator.userAgent),document.addEventListener("visibilitychange",()=>{gi.info(`visibilitychange: ${document.visibilityState}`)}),"PressureObserver"in globalThis&&new PressureObserver(n=>{gi.info(`cpu state change: ${JSON.stringify(n.map(e=>e.state))}`)}).observe("cpu"))})();function Wpe(n){gi.info("recodemux opts:",n);const e=ff.createFile(),t=new Dm,r=(u,f)=>{const m=u.add("udta").add("meta");m.data=$pe(f),m.size=m.data.byteLength};let a=!1;const o=()=>{e.moov==null||a||(a=!0,n.metaDataTags!=null&&r(e.moov,n.metaDataTags),n.duration!=null&&(e.moov.mvhd.duration=n.duration))};t.once("VideoReady",o),t.once("AudioReady",o);let l=n.video!=null?Xpe(n.video,e,t):null,s=n.audio!=null?qpe(n.audio,e,t):null;return n.video==null&&t.emit("VideoReady"),n.audio==null&&t.emit("AudioReady"),{encodeVideo:(u,f)=>{l==null||l.encode(u,f),u.close()},encodeAudio:u=>{if(s!=null)try{s.encode(u),u.close()}catch(f){const m=`encode audio chunk error: ${f.message}, state: ${JSON.stringify({qSize:s.encodeQueueSize,state:s.state})}`;throw gi.error(m),Error(m)}},getEncodeQueueSize:()=>(l==null?void 0:l.encodeQueueSize)??(s==null?void 0:s.encodeQueueSize)??0,flush:async()=>{await Promise.all([l==null?void 0:l.flush(),(s==null?void 0:s.state)==="configured"?s.flush():null])},close:()=>{t.destroy(),l==null||l.close(),(s==null?void 0:s.state)==="configured"&&s.close()},mp4file:e}}function Xpe(n,e,t){const r={timescale:1e6,width:n.width,height:n.height,brands:["isom","iso2","avc1","mp42","mp41"],avcDecoderConfigRecord:null,name:"Track created with WebAV"};let a=-1,o=!1;t.once("AudioReady",()=>{o=!0});const l={encoder0:[],encoder1:[]},s=(b,C,T)=>{var M;if(a===-1&&T!=null){const O=(M=T.decoderConfig)==null?void 0:M.description;Ype(O),r.avcDecoderConfigRecord=O,a=e.addTrack(r),t.emit("VideoReady"),gi.info("VideoEncoder, video track ready, trackId:",a)}l[b].push(q2(C))};let u="encoder1",f=0;const m=Math.floor(1e3/n.expectFPS*1e3);function y(){if(!o)return;const b=u==="encoder1"?"encoder0":"encoder1",C=l[u],T=l[b];if(C.length===0&&T.length===0)return;let M=C[0];if(M!=null&&(!M.is_sync||M.cts-f<m)){const B=_(C);B>f&&(f=B)}const O=T[0];if(O!=null&&O.is_sync&&O.cts-f<m){u=b,y();return}if(M!=null&&M.is_sync&&O!=null&&O.is_sync)if(M.cts<=O.cts){const B=_(C);B>f&&(f=B)}else{u=b,y();return}}function _(b){let C=-1,T=0;for(;T<b.length;T++){const M=b[T];if(T>0&&M.is_sync)break;e.addSample(a,M.data,M),C=M.cts+M.duration}return b.splice(0,T),C}const E=rB(y,15),c=ZN(n,(b,C)=>s("encoder0",b,C)),p=ZN(n,(b,C)=>s("encoder1",b,C));let g=0;return{get encodeQueueSize(){return c.encodeQueueSize+p.encodeQueueSize},encode:(b,C)=>{try{C.keyFrame&&(g+=1),(g%2===0?c:p).encode(b,C)}catch(T){const M=`encode video frame error: ${T.message}, state: ${JSON.stringify({ts:b.timestamp,keyFrame:C.keyFrame,duration:b.duration,gopId:g})}`;throw gi.error(M),Error(M)}},flush:async()=>{await Promise.all([c.state==="configured"?await c.flush():null,p.state==="configured"?await p.flush():null]),E(),y()},close:()=>{c.state==="configured"&&c.close(),p.state==="configured"&&p.close()}}}function Ype(n){const e=new Uint8Array(n);e[2].toString(2).slice(-2).includes("1")&&(e[2]=0)}function ZN(n,e){const t={codec:n.codec,framerate:n.expectFPS,hardwareAcceleration:n.__unsafe_hardwareAcceleration__,bitrate:n.bitrate,width:n.width,height:n.height,alpha:"discard",avc:{format:"avc"}},r=new VideoEncoder({error:a=>{const o=`VideoEncoder error: ${a.message}, config: ${JSON.stringify(t)}, state: ${JSON.stringify({qSize:r.encodeQueueSize,state:r.state})}`;throw gi.error(o),Error(o)},output:e});return r.configure(t),r}function qpe(n,e,t){const r={timescale:1e6,samplerate:n.sampleRate,channel_count:n.channelCount,hdlr:"soun",type:n.codec==="aac"?"mp4a":"Opus",name:"Track created with WebAV"};let a=-1,o=[],l=!1;t.once("VideoReady",()=>{l=!0,o.forEach(f=>{const m=q2(f);e.addSample(a,m.data,m)}),o=[]});const s={codec:n.codec==="aac"?"mp4a.40.2":"opus",sampleRate:n.sampleRate,numberOfChannels:n.channelCount,bitrate:128e3},u=new AudioEncoder({error:f=>{const m=`AudioEncoder error: ${f.message}, config: ${JSON.stringify(s)}, state: ${JSON.stringify({qSize:u.encodeQueueSize,state:u.state})}`;throw gi.error(m),Error(m)},output:(f,m)=>{var y;if(a===-1){const _=(y=m.decoderConfig)==null?void 0:y.description;a=e.addTrack({...r,description:_==null?void 0:Kpe(_)}),t.emit("AudioReady"),gi.info("AudioEncoder, audio track ready, trackId:",a)}if(l){const _=q2(f);e.addSample(a,_.data,_)}else o.push(f)}});return u.configure(s),u}function Kpe(n){const e=n.byteLength,t=new Uint8Array([0,0,0,0,3,23+e,0,2,0,4,18+e,64,21,0,0,0,0,0,0,0,0,0,0,0,5,e,...new Uint8Array(n instanceof ArrayBuffer?n:n.buffer),6,1,2]),r=new ff.BoxParser.esdsBox(t.byteLength);return r.hdr_size=0,r.parse(new ff.DataStream(t,0,ff.DataStream.BIG_ENDIAN)),r}function q2(n){const e=new ArrayBuffer(n.byteLength);n.copyTo(e);const t=n.timestamp;return{duration:n.duration??0,dts:t,cts:t,is_sync:n.type==="key",data:e}}class Jpe{constructor(e,t,r){this.length_=e,this.scaleFactor_=(e-1)/t,this.interpolate=this.cubic,r.method==="point"?this.interpolate=this.point:r.method==="linear"?this.interpolate=this.linear:r.method==="sinc"&&(this.interpolate=this.sinc),this.tangentFactor_=1-Math.max(0,Math.min(1,r.tension||0)),this.sincFilterSize_=r.sincFilterSize||1,this.kernel_=Zpe(r.sincWindow||Qpe)}point(e,t){return this.getClippedInput_(Math.round(this.scaleFactor_*e),t)}linear(e,t){e=this.scaleFactor_*e;let r=Math.floor(e);return e-=r,(1-e)*this.getClippedInput_(r,t)+e*this.getClippedInput_(r+1,t)}cubic(e,t){e=this.scaleFactor_*e;let r=Math.floor(e),a=[this.getTangent_(r,t),this.getTangent_(r+1,t)],o=[this.getClippedInput_(r,t),this.getClippedInput_(r+1,t)];e-=r;let l=e*e,s=e*l;return(2*s-3*l+1)*o[0]+(s-2*l+e)*a[0]+(-2*s+3*l)*o[1]+(s-l)*a[1]}sinc(e,t){e=this.scaleFactor_*e;let r=Math.floor(e),a=r-this.sincFilterSize_+1,o=r+this.sincFilterSize_,l=0;for(let s=a;s<=o;s++)l+=this.kernel_(e-s)*this.getClippedInput_(s,t);return l}getTangent_(e,t){return this.tangentFactor_*(this.getClippedInput_(e+1,t)-this.getClippedInput_(e-1,t))/2}getClippedInput_(e,t){return 0<=e&&e<this.length_?t[e]:0}}function Qpe(n){return Math.exp(-n/2*n/2)}function Zpe(n){return function(e){return eme(e)*n(e)}}function eme(n){return n===0?1:Math.sin(Math.PI*n)/(Math.PI*n)}class tme{constructor(e,t,r){let a=2*Math.PI*r/t,o=0;this.filters=[];for(let l=0;l<=e;l++)l-e/2===0?this.filters[l]=a:(this.filters[l]=Math.sin(a*(l-e/2))/(l-e/2),this.filters[l]*=.54-.46*Math.cos(2*Math.PI*l/e)),o=o+this.filters[l];for(let l=0;l<=e;l++)this.filters[l]/=o;this.z=this.initZ_()}filter(e){this.z.buf[this.z.pointer]=e;let t=0;for(let r=0,a=this.z.buf.length;r<a;r++)t+=this.filters[r]*this.z.buf[(this.z.pointer+r)%this.z.buf.length];return this.z.pointer=(this.z.pointer+1)%this.z.buf.length,t}reset(){this.z=this.initZ_()}initZ_(){let e=[];for(let t=0;t<this.filters.length-1;t++)e.push(0);return{buf:e,pointer:0}}}class nme{constructor(e,t,r){let a=[];for(let o=0;o<e;o++)a.push(this.getCoeffs_({Fs:t,Fc:r,Q:.5/Math.sin(Math.PI/(e*2)*(o+.5))}));this.stages=[];for(let o=0;o<a.length;o++)this.stages[o]={b0:a[o].b[0],b1:a[o].b[1],b2:a[o].b[2],a1:a[o].a[0],a2:a[o].a[1],k:a[o].k,z:[0,0]}}filter(e){let t=e;for(let r=0,a=this.stages.length;r<a;r++)t=this.runStage_(r,t);return t}getCoeffs_(e){let t={};t.z=[0,0],t.a=[],t.b=[];let r=this.preCalc_(e,t);return t.k=1,t.b.push((1-r.cw)/(2*r.a0)),t.b.push(2*t.b[0]),t.b.push(t.b[0]),t}preCalc_(e,t){let r={},a=2*Math.PI*e.Fc/e.Fs;return r.alpha=Math.sin(a)/(2*e.Q),r.cw=Math.cos(a),r.a0=1+r.alpha,t.a0=r.a0,t.a.push(-2*r.cw/r.a0),t.k=1,t.a.push((1-r.alpha)/r.a0),r}runStage_(e,t){let r=t*this.stages[e].k-this.stages[e].a1*this.stages[e].z[0]-this.stages[e].a2*this.stages[e].z[1],a=this.stages[e].b0*r+this.stages[e].b1*this.stages[e].z[0]+this.stages[e].b2*this.stages[e].z[1];return this.stages[e].z[1]=this.stages[e].z[0],this.stages[e].z[0]=r,a}reset(){for(let e=0;e<this.stages.length;e++)this.stages[e].z=[0,0]}}const ime={point:!1,linear:!1,cubic:!0,sinc:!0},ez={IIR:16,FIR:71},rme={IIR:nme,FIR:tme};function ame(n,e,t,r={}){let a=(t-e)/e+1,o=new Float64Array(n.length*a);r.method=r.method||"cubic";let l=new Jpe(n.length,o.length,{method:r.method,tension:r.tension||0,sincFilterSize:r.sincFilterSize||6,sincWindow:r.sincWindow||void 0});if(r.LPF===void 0&&(r.LPF=ime[r.method]),r.LPF){r.LPFType=r.LPFType||"IIR";const s=rme[r.LPFType];if(t>e){let u=new s(r.LPFOrder||ez[r.LPFType],t,e/2);ome(n,o,l,u)}else{let u=new s(r.LPFOrder||ez[r.LPFType],e,t/2);sme(n,o,l,u)}}else bG(n,o,l);return o}function bG(n,e,t){for(let r=0,a=e.length;r<a;r++)e[r]=t.interpolate(r,n)}function ome(n,e,t,r){for(let a=0,o=e.length;a<o;a++)e[a]=r.filter(t.interpolate(a,n));r.reset();for(let a=e.length-1;a>=0;a--)e[a]=r.filter(e[a])}function sme(n,e,t,r){for(let a=0,o=n.length;a<o;a++)n[a]=r.filter(n[a]);r.reset();for(let a=n.length-1;a>=0;a--)n[a]=r.filter(n[a]);bG(n,e,t)}var SG=n=>{throw TypeError(n)},_G=(n,e,t)=>e.has(n)||SG("Cannot "+t),ir=(n,e,t)=>(_G(n,e,"read from private field"),t?t.call(n):e.get(n)),Tc=(n,e,t)=>e.has(n)?SG("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Nl=(n,e,t,r)=>(_G(n,e,"write to private field"),e.set(n,t),t);const xG="KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHUobil7aWYobj09PSIvIilyZXR1cm57cGFyZW50Om51bGwsbmFtZToiIn07Y29uc3QgZT1uLnNwbGl0KCIvIikuZmlsdGVyKGk9PmkubGVuZ3RoPjApO2lmKGUubGVuZ3RoPT09MCl0aHJvdyBFcnJvcigiSW52YWxpZCBwYXRoIik7Y29uc3QgYT1lW2UubGVuZ3RoLTFdLHI9Ii8iK2Uuc2xpY2UoMCwtMSkuam9pbigiLyIpO3JldHVybntuYW1lOmEscGFyZW50OnJ9fWFzeW5jIGZ1bmN0aW9uIHcobixlKXtjb25zdHtwYXJlbnQ6YSxuYW1lOnJ9PXUobik7aWYoYT09bnVsbClyZXR1cm4gYXdhaXQgbmF2aWdhdG9yLnN0b3JhZ2UuZ2V0RGlyZWN0b3J5KCk7Y29uc3QgaT1hLnNwbGl0KCIvIikuZmlsdGVyKHQ9PnQubGVuZ3RoPjApO3RyeXtsZXQgdD1hd2FpdCBuYXZpZ2F0b3Iuc3RvcmFnZS5nZXREaXJlY3RvcnkoKTtmb3IoY29uc3QgcyBvZiBpKXQ9YXdhaXQgdC5nZXREaXJlY3RvcnlIYW5kbGUocyx7Y3JlYXRlOmUuY3JlYXRlfSk7aWYoZS5pc0ZpbGUpcmV0dXJuIGF3YWl0IHQuZ2V0RmlsZUhhbmRsZShyLHtjcmVhdGU6ZS5jcmVhdGV9KX1jYXRjaCh0KXtpZih0Lm5hbWU9PT0iTm90Rm91bmRFcnJvciIpcmV0dXJuIG51bGw7dGhyb3cgdH19Y29uc3QgZj17fTtzZWxmLm9ubWVzc2FnZT1hc3luYyBuPT57dmFyIGk7Y29uc3R7ZXZ0VHlwZTplLGFyZ3M6YX09bi5kYXRhO2xldCByPWZbYS5maWxlSWRdO3RyeXtsZXQgdDtjb25zdCBzPVtdO2lmKGU9PT0icmVnaXN0ZXIiKXtjb25zdCBsPWF3YWl0IHcoYS5maWxlUGF0aCx7Y3JlYXRlOiEwLGlzRmlsZTohMH0pO2lmKGw9PW51bGwpdGhyb3cgRXJyb3IoYG5vdCBmb3VuZCBmaWxlOiAke2EuZmlsZUlkfWApO3I9YXdhaXQgbC5jcmVhdGVTeW5jQWNjZXNzSGFuZGxlKHttb2RlOmEubW9kZX0pLGZbYS5maWxlSWRdPXJ9ZWxzZSBpZihlPT09ImNsb3NlIilhd2FpdCByLmNsb3NlKCksZGVsZXRlIGZbYS5maWxlSWRdO2Vsc2UgaWYoZT09PSJ0cnVuY2F0ZSIpYXdhaXQgci50cnVuY2F0ZShhLm5ld1NpemUpO2Vsc2UgaWYoZT09PSJ3cml0ZSIpe2NvbnN0e2RhdGE6bCxvcHRzOm99PW4uZGF0YS5hcmdzO3Q9YXdhaXQgci53cml0ZShsLG8pfWVsc2UgaWYoZT09PSJyZWFkIil7Y29uc3R7b2Zmc2V0Omwsc2l6ZTpvfT1uLmRhdGEuYXJncyxnPW5ldyBVaW50OEFycmF5KG8pLGQ9YXdhaXQgci5yZWFkKGcse2F0Omx9KSxjPWcuYnVmZmVyO3Q9ZD09PW8/YzooKGk9Yy50cmFuc2Zlcik9PW51bGw/dm9pZCAwOmkuY2FsbChjLGQpKT8/Yy5zbGljZSgwLGQpLHMucHVzaCh0KX1lbHNlIGU9PT0iZ2V0U2l6ZSI/dD1hd2FpdCByLmdldFNpemUoKTplPT09ImZsdXNoIiYmYXdhaXQgci5mbHVzaCgpO3NlbGYucG9zdE1lc3NhZ2Uoe2V2dFR5cGU6ImNhbGxiYWNrIixjYklkOm4uZGF0YS5jYklkLHJldHVyblZhbDp0fSxzKX1jYXRjaCh0KXtjb25zdCBzPXQ7c2VsZi5wb3N0TWVzc2FnZSh7ZXZ0VHlwZToidGhyb3dFcnJvciIsY2JJZDpuLmRhdGEuY2JJZCxlcnJNc2c6cy5uYW1lKyI6ICIrcy5tZXNzYWdlK2AKYCtKU09OLnN0cmluZ2lmeShuLmRhdGEpfSl9fX0pKCk7Ci8vIyBzb3VyY2VNYXBwaW5nVVJMPW9wZnMtd29ya2VyLUY0UldscWNfLmpzLm1hcAo=",lme=n=>Uint8Array.from(atob(n),e=>e.charCodeAt(0)),tz=typeof self<"u"&&self.Blob&&new Blob([lme(xG)],{type:"text/javascript;charset=utf-8"});function cme(n){let e;try{if(e=tz&&(self.URL||self.webkitURL).createObjectURL(tz),!e)throw"";const t=new Worker(e,{name:n==null?void 0:n.name});return t.addEventListener("error",()=>{(self.URL||self.webkitURL).revokeObjectURL(e)}),t}catch{return new Worker("data:text/javascript;base64,"+xG,{name:n==null?void 0:n.name})}finally{e&&(self.URL||self.webkitURL).revokeObjectURL(e)}}async function ume(n,e,t){const r=dme();return await r("register",{fileId:n,filePath:e,mode:t}),{read:async(a,o)=>await r("read",{fileId:n,offset:a,size:o}),write:async(a,o)=>await r("write",{fileId:n,data:a,opts:o},[ArrayBuffer.isView(a)?a.buffer:a]),close:async()=>await r("close",{fileId:n}),truncate:async a=>await r("truncate",{fileId:n,newSize:a}),getSize:async()=>await r("getSize",{fileId:n}),flush:async()=>await r("flush",{fileId:n})}}const _C=[];let rR=0;function dme(){if(_C.length<3){const e=n();return _C.push(e),e}else{const e=_C[rR];return rR=(rR+1)%_C.length,e}function n(){const e=new cme;let t=0,r={};return e.onmessage=({data:a})=>{var o,l;a.evtType==="callback"?(o=r[a.cbId])==null||o.resolve(a.returnVal):a.evtType==="throwError"&&((l=r[a.cbId])==null||l.reject(Error(a.errMsg))),delete r[a.cbId]},async function(a,o,l=[]){t+=1;const s=new Promise((u,f)=>{r[t]={resolve:u,reject:f}});return e.postMessage({cbId:t,evtType:a,args:o},l),s}}}function yA(n){if(n==="/")return{parent:null,name:""};const e=n.split("/").filter(a=>a.length>0);if(e.length===0)throw Error("Invalid path");const t=e[e.length-1],r="/"+e.slice(0,-1).join("/");return{name:t,parent:r}}async function Oh(n,e){const{parent:t,name:r}=yA(n);if(t==null)return await navigator.storage.getDirectory();const a=t.split("/").filter(o=>o.length>0);try{let o=await navigator.storage.getDirectory();for(const l of a)o=await o.getDirectoryHandle(l,{create:e.create});return e.isFile?await o.getFileHandle(r,{create:e.create}):await o.getDirectoryHandle(r,{create:e.create})}catch(o){if(o.name==="NotFoundError")return null;throw o}}async function CG(n){const{parent:e,name:t}=yA(n);if(e==null){const a=await navigator.storage.getDirectory();for await(const o of a.keys())await a.removeEntry(o,{recursive:!0});return}const r=await Oh(e,{create:!1,isFile:!1});r!=null&&await r.removeEntry(t,{recursive:!0})}function K2(n,e){return`${n}/${e}`.replace("//","/")}function Uv(n){return new wG(n)}var Du,YC,db;const fme=class EG{constructor(e){Tc(this,Du),Tc(this,YC),Tc(this,db),Nl(this,Du,e);const{parent:t,name:r}=yA(e);Nl(this,YC,r),Nl(this,db,t)}get kind(){return"dir"}get name(){return ir(this,YC)}get path(){return ir(this,Du)}get parent(){return ir(this,db)==null?null:Uv(ir(this,db))}async create(){return await Oh(ir(this,Du),{create:!0,isFile:!1}),Uv(ir(this,Du))}async exists(){return await Oh(ir(this,Du),{create:!1,isFile:!1})instanceof FileSystemDirectoryHandle}async remove(){for(const e of await this.children())try{await e.remove()}catch(t){console.warn(t)}try{await CG(ir(this,Du))}catch(e){console.warn(e)}}async children(){const e=await Oh(ir(this,Du),{create:!1,isFile:!1});if(e==null)return[];const t=[];for await(const r of e.values())t.push((r.kind==="file"?KS:Uv)(K2(ir(this,Du),r.name)));return t}async copyTo(e){if(!await this.exists())throw Error(`dir ${this.path} not exists`);if(e instanceof EG){const t=await e.exists()?Uv(K2(e.path,this.name)):e;await t.create(),await Promise.all((await this.children()).map(r=>r.copyTo(t)));return}else if(e instanceof FileSystemDirectoryHandle){await Promise.all((await this.children()).map(async t=>{t.kind==="file"?await t.copyTo(await e.getFileHandle(t.name,{create:!0})):await t.copyTo(await e.getDirectoryHandle(t.name,{create:!0}))}));return}throw Error("Illegal target type")}async moveTo(e){await this.copyTo(e),await this.remove()}};Du=new WeakMap,YC=new WeakMap,db=new WeakMap;let wG=fme;const nz=new Map;function KS(n,e="rw"){if(e==="rw"){const t=nz.get(n)??new FE(n,e);return nz.set(n,t),t}return new FE(n,e)}async function oB(n,e,t={overwrite:!0}){if(e instanceof FE){await oB(n,await e.stream(),t);return}const r=await(n instanceof FE?n:KS(n,"rw")).createWriter();try{if(t.overwrite&&await r.truncate(0),e instanceof ReadableStream){const a=e.getReader();for(;;){const{done:o,value:l}=await a.read();if(o)break;await r.write(l)}}else await r.write(e)}catch(a){throw a}finally{await r.close()}}let hme=0;const pme=()=>++hme;var Pu,fb,qC,hb,KC,yh,JC,pb;const mme=class AG{constructor(e,t){Tc(this,Pu),Tc(this,fb),Tc(this,qC),Tc(this,hb),Tc(this,KC),Tc(this,yh,0),Tc(this,JC,(()=>{let o=null;return()=>(Nl(this,yh,ir(this,yh)+1),o??(o=new Promise(async(l,s)=>{try{const u=await ume(ir(this,KC),ir(this,Pu),ir(this,hb));l([u,async()=>{Nl(this,yh,ir(this,yh)-1),!(ir(this,yh)>0)&&(o=null,await u.close())}])}catch(u){s(u)}})))})()),Tc(this,pb,!1),Nl(this,KC,pme()),Nl(this,Pu,e),Nl(this,hb,{r:"read-only",rw:"readwrite","rw-unsafe":"readwrite-unsafe"}[t]);const{parent:r,name:a}=yA(e);if(r==null)throw Error("Invalid path");Nl(this,qC,a),Nl(this,fb,r)}get kind(){return"file"}get path(){return ir(this,Pu)}get name(){return ir(this,qC)}get parent(){return ir(this,fb)==null?null:Uv(ir(this,fb))}async createWriter(){if(ir(this,hb)==="read-only")throw Error("file is read-only");if(ir(this,pb))throw Error("Other writer have not been closed");Nl(this,pb,!0);const e=new TextEncoder,[t,r]=await ir(this,JC).call(this);let a=await t.getSize(),o=!1;return{write:async(l,s={})=>{if(o)throw Error("Writer is closed");const u=typeof l=="string"?e.encode(l):l,f=s.at??a,m=u.byteLength;return a=f+m,await t.write(u,{at:f})},truncate:async l=>{if(o)throw Error("Writer is closed");await t.truncate(l),a>l&&(a=l)},flush:async()=>{if(o)throw Error("Writer is closed");await t.flush()},close:async()=>{if(o)throw Error("Writer is closed");o=!0,Nl(this,pb,!1),await r()}}}async createReader(){const[e,t]=await ir(this,JC).call(this);let r=!1,a=0;return{read:async(o,l={})=>{if(r)throw Error("Reader is closed");const s=l.at??a,u=await e.read(s,o);return a=s+u.byteLength,u},getSize:async()=>{if(r)throw Error("Reader is closed");return await e.getSize()},close:async()=>{r||(r=!0,await t())}}}async text(){return new TextDecoder().decode(await this.arrayBuffer())}async arrayBuffer(){const e=await Oh(ir(this,Pu),{create:!1,isFile:!0});return e==null?new ArrayBuffer(0):(await e.getFile()).arrayBuffer()}async stream(){const e=await this.getOriginFile();return e==null?new ReadableStream({pull:t=>{t.close()}}):e.stream()}async getOriginFile(){var e;return(e=await Oh(ir(this,Pu),{create:!1,isFile:!0}))==null?void 0:e.getFile()}async getSize(){const e=await Oh(ir(this,Pu),{create:!1,isFile:!0});return e==null?0:(await e.getFile()).size}async exists(){return await Oh(ir(this,Pu),{create:!1,isFile:!0})instanceof FileSystemFileHandle}async remove(){if(ir(this,yh))throw Error("exists unclosed reader/writer");await CG(ir(this,Pu))}async copyTo(e){if(e instanceof AG){if(e.path===this.path)return;await oB(e.path,this);return}else if(e instanceof wG){if(!await this.exists())throw Error(`file ${this.path} not exists`);return await this.copyTo(KS(K2(e.path,this.name)))}else if(e instanceof FileSystemFileHandle){await(await this.stream()).pipeTo(await e.createWritable());return}throw Error("Illegal target type")}async moveTo(e){await this.copyTo(e),await this.remove()}};Pu=new WeakMap,fb=new WeakMap,qC=new WeakMap,hb=new WeakMap,KC=new WeakMap,yh=new WeakMap,JC=new WeakMap,pb=new WeakMap;let FE=mme;const sB="/.opfs-tools-temp-dir";async function MG(n){try{if(n.kind==="file"){if(!await n.exists())return!0;const e=await n.createWriter();await e.truncate(0),await e.close(),await n.remove()}else await n.remove();return!0}catch(e){return console.warn(e),!1}}function gme(){setInterval(async()=>{for(const n of await Uv(sB).children()){const e=/^\d+-(\d+)$/.exec(n.name);(e==null||Date.now()-Number(e[1])>2592e5)&&await MG(n)}},60*1e3)}const J2=[];let iz=!1;async function vme(){if(globalThis.localStorage==null)return;const n="OPFS_TOOLS_EXPIRES_TMP_FILES";iz||(iz=!0,globalThis.addEventListener("unload",()=>{J2.length!==0&&localStorage.setItem(n,`${localStorage.getItem(n)??""},${J2.join(",")}`)}));let e=localStorage.getItem(n)??"";for(const t of e.split(","))t.length!==0&&await MG(KS(`${sB}/${t}`))&&(e=e.replace(t,""));localStorage.setItem(n,e.replace(/,{2,}/g,","))}(async function(){var n;globalThis.__opfs_tools_tmpfile_init__!==!0&&(globalThis.__opfs_tools_tmpfile_init__=!0,!(globalThis.FileSystemDirectoryHandle==null||globalThis.FileSystemFileHandle==null||((n=globalThis.navigator)==null?void 0:n.storage.getDirectory)==null)&&(gme(),await vme()))})();function yme(){const n=`${Math.random().toString().slice(2)}-${Date.now()}`;return J2.push(n),KS(`${sB}/${n}`)}var bme=Object.defineProperty,TG=n=>{throw TypeError(n)},Sme=(n,e,t)=>e in n?bme(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,sa=(n,e,t)=>Sme(n,typeof e!="symbol"?e+"":e,t),lB=(n,e,t)=>e.has(n)||TG("Cannot "+t),Me=(n,e,t)=>(lB(n,e,"read from private field"),t?t.call(n):e.get(n)),Jt=(n,e,t)=>e.has(n)?TG("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),jt=(n,e,t,r)=>(lB(n,e,"write to private field"),e.set(n,t),t),ku=(n,e,t)=>(lB(n,e,"access private method"),t);function _me(n){if(n.format==="f32-planar"){const e=[];for(let t=0;t<n.numberOfChannels;t+=1){const r=n.allocationSize({planeIndex:t}),a=new ArrayBuffer(r);n.copyTo(a,{planeIndex:t}),e.push(new Float32Array(a))}return e}else if(n.format==="f32"){const e=new ArrayBuffer(n.allocationSize({planeIndex:0}));return n.copyTo(e,{planeIndex:0}),Cme(new Float32Array(e),n.numberOfChannels)}else if(n.format==="s16"){const e=new ArrayBuffer(n.allocationSize({planeIndex:0}));return n.copyTo(e,{planeIndex:0}),xme(new Int16Array(e),n.numberOfChannels)}throw Error("Unsupported audio data format")}function xme(n,e){const t=n.length/e,r=Array.from({length:e},()=>new Float32Array(t));for(let a=0;a<t;a++)for(let o=0;o<e;o++){const l=n[a*e+o];r[o][a]=l/32768}return r}function Cme(n,e){const t=n.length/e,r=Array.from({length:e},()=>new Float32Array(t));for(let a=0;a<t;a++)for(let o=0;o<e;o++)r[o][a]=n[a*e+o];return r}function RG(n){return Array(n.numberOfChannels).fill(0).map((e,t)=>n.getChannelData(t))}async function Eme(n,e,t){const r=n.length,a=Array(t.chanCount).fill(0).map(()=>new Float32Array(0));if(r===0)return a;const o=Math.max(...n.map(f=>f.length));if(o===0)return a;if(globalThis.OfflineAudioContext==null)return n.map(f=>new Float32Array(ame(f,e,t.rate,{method:"sinc",LPF:!1})));const l=new globalThis.OfflineAudioContext(t.chanCount,o*t.rate/e,t.rate),s=l.createBufferSource(),u=l.createBuffer(r,o,e);return n.forEach((f,m)=>u.copyToChannel(f,m)),s.buffer=u,s.connect(l.destination),s.start(),RG(await l.startRendering())}function cB(n){return new Promise(e=>{const t=rB(()=>{t(),e()},n)})}function rz(n,e,t){const r=t-e,a=new Float32Array(r);let o=0;for(;o<r;)a[o]=n[(e+o)%n.length],o+=1;return a}function OG(n,e){const t=Math.floor(n.length/e),r=new Float32Array(t);for(let a=0;a<t;a++){const o=a*e,l=Math.floor(o),s=o-l;l+1<n.length?r[a]=n[l]*(1-s)+n[l+1]*s:r[a]=n[l]}return r}const Yr={sampleRate:48e3,channelCount:2,codec:"mp4a.40.2"};function wme(n,e){const t=e.videoTracks[0],r={};if(t!=null){const o=Ame(n.getTrackById(t.id)).buffer,{descKey:l,type:s}=t.codec.startsWith("avc1")?{descKey:"avcDecoderConfigRecord",type:"avc1"}:t.codec.startsWith("hvc1")?{descKey:"hevcDecoderConfigRecord",type:"hvc1"}:{descKey:"",type:""};l!==""&&(r.videoTrackConf={timescale:t.timescale,duration:t.duration,width:t.video.width,height:t.video.height,brands:e.brands,type:s,[l]:o}),r.videoDecoderConf={codec:t.codec,codedHeight:t.video.height,codedWidth:t.video.width,description:o}}const a=e.audioTracks[0];if(a!=null){const o=az(n);r.audioTrackConf={timescale:a.timescale,samplerate:a.audio.sample_rate,channel_count:a.audio.channel_count,hdlr:"soun",type:a.codec.startsWith("mp4a")?"mp4a":a.codec,description:az(n)},r.audioDecoderConf={codec:a.codec.startsWith("mp4a")?Yr.codec:a.codec,numberOfChannels:a.audio.channel_count,sampleRate:a.audio.sample_rate,...o==null?{}:Mme(o)}}return r}function Ame(n){for(const e of n.mdia.minf.stbl.stsd.entries){const t=e.avcC??e.hvcC??e.av1C??e.vpcC;if(t!=null){const r=new ff.DataStream(void 0,0,ff.DataStream.BIG_ENDIAN);return t.write(r),new Uint8Array(r.buffer.slice(8))}}throw Error("avcC, hvcC, av1C or VPX not found")}function az(n,e="mp4a"){var t;const r=(t=n.moov)==null?void 0:t.traks.map(a=>a.mdia.minf.stbl.stsd.entries).flat().find(({type:a})=>a===e);return r==null?void 0:r.esds}function Mme(n){var e;const t=(e=n.esd.descs[0])==null?void 0:e.descs[0];if(t==null)return{};const[r,a]=t.data,o=((r&7)<<1)+(a>>7),l=(a&127)>>3;return{sampleRate:[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350][o],numberOfChannels:l}}async function Tme(n,e,t){const r=ff.createFile(!1);r.onReady=o=>{var l,s;e({mp4boxFile:r,info:o});const u=(l=o.videoTracks[0])==null?void 0:l.id;u!=null&&r.setExtractionOptions(u,"video",{nbSamples:100});const f=(s=o.audioTracks[0])==null?void 0:s.id;f!=null&&r.setExtractionOptions(f,"audio",{nbSamples:100}),r.start()},r.onSamples=t,await a();async function a(){let o=0;const l=30*1024*1024;for(;;){const s=await n.read(l,{at:o});if(s.byteLength===0)break;s.fileStart=o;const u=r.appendBuffer(s);if(u==null)break;o=u}r.stop()}}let uB=0;function aR(n){return n.kind==="file"&&n.createReader instanceof Function}var Q2,QC,ZC,Lu,Ms,kd,e1,Nu,Vp,mb,pv,$d,Ks,gb;const Rme=class mv{constructor(e,t={}){if(Jt(this,Q2,uB++),Jt(this,QC,gi.create(`MP4Clip id:${Me(this,Q2)},`)),sa(this,"ready"),Jt(this,ZC,!1),Jt(this,Lu,{duration:0,width:0,height:0,audioSampleRate:0,audioChanCount:0}),Jt(this,Ms),Jt(this,kd,[]),Jt(this,e1,1),Jt(this,Nu,[]),Jt(this,Vp,[]),Jt(this,mb,null),Jt(this,pv,null),Jt(this,$d,{video:null,audio:null}),Jt(this,Ks,{audio:!0}),sa(this,"tickInterceptor",async(a,o)=>o),Jt(this,gb,new AbortController),!(e instanceof ReadableStream)&&!aR(e)&&!Array.isArray(e.videoSamples))throw Error("Illegal argument");jt(this,Ks,{audio:!0,...t}),jt(this,e1,typeof t.audio=="object"&&"volume"in t.audio?t.audio.volume:1);const r=async a=>(await oB(Me(this,Ms),a),Me(this,Ms));jt(this,Ms,aR(e)?e:"localFile"in e?e.localFile:yme()),this.ready=(e instanceof ReadableStream?r(e).then(a=>oz(a,Me(this,Ks))):aR(e)?oz(e,Me(this,Ks)):Promise.resolve(e)).then(async({videoSamples:a,audioSamples:o,decoderConf:l,headerBoxPos:s})=>{jt(this,Nu,a),jt(this,Vp,o),jt(this,$d,l),jt(this,kd,s);const{videoFrameFinder:u,audioFrameFinder:f}=Ime({video:l.video==null?null:{...l.video,hardwareAcceleration:Me(this,Ks).__unsafe_hardwareAcceleration__},audio:l.audio},await Me(this,Ms).createReader(),a,o,Me(this,Ks).audio!==!1?Me(this,e1):0);return jt(this,mb,u),jt(this,pv,f),jt(this,Lu,Ome(l,a,o)),Me(this,QC).info("MP4Clip meta:",Me(this,Lu)),{...Me(this,Lu)}})}get meta(){return{...Me(this,Lu)}}async getFileHeaderBinData(){await this.ready;const e=await Me(this,Ms).getOriginFile();if(e==null)throw Error("MP4Clip localFile is not origin file");return await new Blob(Me(this,kd).map(({start:t,size:r})=>e.slice(t,t+r))).arrayBuffer()}async tick(e){var t,r,a;if(e>=Me(this,Lu).duration)return await this.tickInterceptor(e,{audio:await((t=Me(this,pv))==null?void 0:t.find(e))??[],state:"done"});const[o,l]=await Promise.all([((r=Me(this,pv))==null?void 0:r.find(e))??[],(a=Me(this,mb))==null?void 0:a.find(e)]);return l==null?await this.tickInterceptor(e,{audio:o,state:"success"}):await this.tickInterceptor(e,{video:l,audio:o,state:"success"})}async thumbnails(e=100,t){Me(this,gb).abort(),jt(this,gb,new AbortController);const r=Me(this,gb).signal;await this.ready;const a="generate thumbnails aborted";if(r.aborted)throw Error(a);const{width:o,height:l}=Me(this,Lu),s=Nme(e,Math.round(l*(e/o)),{quality:.1,type:"image/png"});return new Promise(async(u,f)=>{let m=[];const y=Me(this,$d).video;if(y==null||Me(this,Nu).length===0){_();return}r.addEventListener("abort",()=>{f(Error(a))});async function _(){r.aborted||u(await Promise.all(m.map(async b=>({ts:b.ts,img:await b.img}))))}function E(b){m.push({ts:b.timestamp,img:s(b)})}const{start:c=0,end:p=Me(this,Lu).duration,step:g}=t??{};if(g){let b=c;const C=new IG(await Me(this,Ms).createReader(),Me(this,Nu),{...y,hardwareAcceleration:Me(this,Ks).__unsafe_hardwareAcceleration__});for(;b<=p&&!r.aborted;){const T=await C.find(b);T&&E(T),b+=g}C.destroy(),_()}else await Hme(Me(this,Nu),Me(this,Ms),y,r,{start:c,end:p},(b,C)=>{b!=null&&E(b),C&&_()})})}async split(e){if(await this.ready,e<=0||e>=Me(this,Lu).duration)throw Error('"time" out of bounds');const[t,r]=zme(Me(this,Nu),e),[a,o]=Ume(Me(this,Vp),e),l=new mv({localFile:Me(this,Ms),videoSamples:t??[],audioSamples:a??[],decoderConf:Me(this,$d),headerBoxPos:Me(this,kd)},Me(this,Ks)),s=new mv({localFile:Me(this,Ms),videoSamples:r??[],audioSamples:o??[],decoderConf:Me(this,$d),headerBoxPos:Me(this,kd)},Me(this,Ks));return await Promise.all([l.ready,s.ready]),[l,s]}async clone(){await this.ready;const e=new mv({localFile:Me(this,Ms),videoSamples:[...Me(this,Nu)],audioSamples:[...Me(this,Vp)],decoderConf:Me(this,$d),headerBoxPos:Me(this,kd)},Me(this,Ks));return await e.ready,e.tickInterceptor=this.tickInterceptor,e}async splitTrack(){await this.ready;const e=[];if(Me(this,Nu).length>0){const t=new mv({localFile:Me(this,Ms),videoSamples:[...Me(this,Nu)],audioSamples:[],decoderConf:{video:Me(this,$d).video,audio:null},headerBoxPos:Me(this,kd)},Me(this,Ks));await t.ready,t.tickInterceptor=this.tickInterceptor,e.push(t)}if(Me(this,Vp).length>0){const t=new mv({localFile:Me(this,Ms),videoSamples:[],audioSamples:[...Me(this,Vp)],decoderConf:{audio:Me(this,$d).audio,video:null},headerBoxPos:Me(this,kd)},Me(this,Ks));await t.ready,t.tickInterceptor=this.tickInterceptor,e.push(t)}return e}destroy(){var e,t;Me(this,ZC)||(Me(this,QC).info("MP4Clip destroy"),jt(this,ZC,!0),(e=Me(this,mb))==null||e.destroy(),(t=Me(this,pv))==null||t.destroy())}};Q2=new WeakMap,QC=new WeakMap,ZC=new WeakMap,Lu=new WeakMap,Ms=new WeakMap,kd=new WeakMap,e1=new WeakMap,Nu=new WeakMap,Vp=new WeakMap,mb=new WeakMap,pv=new WeakMap,$d=new WeakMap,Ks=new WeakMap,gb=new WeakMap;let oR=Rme;function Ome(n,e,t){const r={duration:0,width:0,height:0,audioSampleRate:0,audioChanCount:0};n.video!=null&&e.length>0&&(r.width=n.video.codedWidth??0,r.height=n.video.codedHeight??0),n.audio!=null&&t.length>0&&(r.audioSampleRate=Yr.sampleRate,r.audioChanCount=Yr.channelCount);let a=0,o=0;if(e.length>0)for(let l=e.length-1;l>=0;l--){const s=e[l];if(!s.deleted){a=s.cts+s.duration;break}}if(t.length>0){const l=t.at(-1);o=l.cts+l.duration}return r.duration=Math.max(a,o),r}function Ime(n,e,t,r,a){return{audioFrameFinder:a===0||n.audio==null||r.length===0?null:new Dme(e,r,n.audio,{volume:a,targetSampleRate:Yr.sampleRate}),videoFrameFinder:n.video==null||t.length===0?null:new IG(e,t,n.video)}}async function oz(n,e={}){let t=null;const r={video:null,audio:null};let a=[],o=[],l=[],s=-1,u=-1;const f=await n.createReader();await Tme(f,_=>{t=_.info;const E=_.mp4boxFile.ftyp;l.push({start:E.start,size:E.size});const c=_.mp4boxFile.moov;l.push({start:c.start,size:c.size});let{videoDecoderConf:p,audioDecoderConf:g}=wme(_.mp4boxFile,_.info);r.video=p??null,r.audio=g??null,p==null&&g==null&&gi.error("MP4Clip no video and audio track"),gi.info("mp4BoxFile moov ready",{..._.info,tracks:null,videoTracks:null,audioTracks:null},r)},(_,E,c)=>{if(E==="video"){s===-1&&(s=c[0].dts);for(const p of c)a.push(y(p,s,"video"))}else if(E==="audio"&&e.audio){u===-1&&(u=c[0].dts);for(const p of c)o.push(y(p,u,"audio"))}}),await f.close();const m=a.at(-1)??o.at(-1);if(t==null)throw Error("MP4Clip stream is done, but not emit ready");if(m==null)throw Error("MP4Clip stream not contain any sample");return nO(a),gi.info("mp4 stream parsed"),{videoSamples:a,audioSamples:o,decoderConf:r,headerBoxPos:l};function y(_,E=0,c){const p=c==="video"&&_.is_sync?Fme(_.data,_.description.type):-1;let g=_.offset,b=_.size;return p>=0&&(g+=p,b-=p),{..._,is_idr:p>=0,offset:g,size:b,cts:(_.cts-E)/_.timescale*1e6,dts:(_.dts-E)/_.timescale*1e6,duration:_.duration/_.timescale*1e6,timescale:1e6,data:c==="video"?null:_.data}}}var ns,gv,vv,t1,yv,Vd,Dl,bh,jp,bv,n1,vb,Wp,i1,Sv,r1;class IG{constructor(e,t,r){Jt(this,ns,null),Jt(this,gv,0),Jt(this,vv,{abort:!1,st:performance.now()}),sa(this,"find",async a=>{(Me(this,ns)==null||Me(this,ns).state==="closed"||a<=Me(this,gv)||a-Me(this,gv)>3e6)&&Me(this,Sv).call(this,a),Me(this,vv).abort=!0,jt(this,gv,a),jt(this,vv,{abort:!1,st:performance.now()});const o=await Me(this,vb).call(this,a,Me(this,ns),Me(this,vv));return jt(this,bv,0),o}),Jt(this,t1,0),Jt(this,yv,!1),Jt(this,Vd,0),Jt(this,Dl,[]),Jt(this,bh,0),Jt(this,jp,0),Jt(this,bv,0),Jt(this,n1,!1),Jt(this,vb,async(a,o,l)=>{if(o==null||o.state==="closed"||l.abort)return null;if(Me(this,Dl).length>0){const s=Me(this,Dl)[0];return a<s.timestamp?null:(Me(this,Dl).shift(),a>s.timestamp+(s.duration??0)?(s.close(),await Me(this,vb).call(this,a,o,l)):(!Me(this,n1)&&Me(this,Dl).length<10&&Me(this,i1).call(this,o).catch(u=>{throw jt(this,n1,!0),Me(this,Sv).call(this,a),u}),s))}if(Me(this,Wp)||Me(this,bh)<Me(this,jp)&&o.decodeQueueSize>0){if(performance.now()-l.st>6e3)throw Error(`MP4Clip.tick video timeout, ${JSON.stringify(Me(this,r1).call(this))}`);jt(this,bv,Me(this,bv)+1),await cB(15)}else{if(Me(this,Vd)>=this.samples.length)return null;try{await Me(this,i1).call(this,o)}catch(s){throw Me(this,Sv).call(this,a),s}}return await Me(this,vb).call(this,a,o,l)}),Jt(this,Wp,!1),Jt(this,i1,async a=>{var o,l;if(Me(this,Wp)||a.decodeQueueSize>600)return;let s=Me(this,Vd)+1;if(s>this.samples.length)return;jt(this,Wp,!0);let u=!1;for(;s<this.samples.length;s++){const f=this.samples[s];if(!u&&!f.deleted&&(u=!0),f.is_idr)break}if(u){const f=this.samples.slice(Me(this,Vd),s);if(((o=f[0])==null?void 0:o.is_idr)!==!0)gi.warn("First sample not idr frame");else{const m=performance.now(),y=await BG(f,this.localFileReader),_=performance.now()-m;if(_>1e3){const E=f[0],c=f.at(-1),p=c.offset+c.size-E.offset;gi.warn(`Read video samples time cost: ${Math.round(_)}ms, file chunk size: ${p}`)}if(a.state==="closed")return;jt(this,t1,((l=y[0])==null?void 0:l.duration)??0),tO(a,y,{onDecodingError:E=>{if(Me(this,yv))throw E;Me(this,bh)===0&&(jt(this,yv,!0),gi.warn("Downgrade to software decode"),Me(this,Sv).call(this))}}),jt(this,jp,Me(this,jp)+y.length)}}jt(this,Vd,s),jt(this,Wp,!1)}),Jt(this,Sv,a=>{var o,l;if(jt(this,Wp,!1),Me(this,Dl).forEach(u=>u.close()),jt(this,Dl,[]),a==null||a===0)jt(this,Vd,0);else{let u=0;for(let f=0;f<this.samples.length;f++){const m=this.samples[f];if(m.is_idr&&(u=f),!(m.cts<a)){jt(this,Vd,u);break}}}jt(this,jp,0),jt(this,bh,0),((o=Me(this,ns))==null?void 0:o.state)!=="closed"&&((l=Me(this,ns))==null||l.close());const s={...this.conf,...Me(this,yv)?{hardwareAcceleration:"prefer-software"}:{}};jt(this,ns,new VideoDecoder({output:u=>{if(jt(this,bh,Me(this,bh)+1),u.timestamp===-1){u.close();return}let f=u;u.duration==null&&(f=new VideoFrame(u,{duration:Me(this,t1)}),u.close()),Me(this,Dl).push(f)},error:u=>{if(u.message.includes("Codec reclaimed due to inactivity")){jt(this,ns,null),gi.warn(u.message);return}const f=`VideoFinder VideoDecoder err: ${u.message}, config: ${JSON.stringify(s)}, state: ${JSON.stringify(Me(this,r1).call(this))}`;throw gi.error(f),Error(f)}})),Me(this,ns).configure(s)}),Jt(this,r1,()=>{var a,o;return{time:Me(this,gv),decState:(a=Me(this,ns))==null?void 0:a.state,decQSize:(o=Me(this,ns))==null?void 0:o.decodeQueueSize,decCusorIdx:Me(this,Vd),sampleLen:this.samples.length,inputCnt:Me(this,jp),outputCnt:Me(this,bh),cacheFrameLen:Me(this,Dl).length,softDeocde:Me(this,yv),clipIdCnt:uB,sleepCnt:Me(this,bv),memInfo:DG()}}),sa(this,"destroy",()=>{var a,o;((a=Me(this,ns))==null?void 0:a.state)!=="closed"&&((o=Me(this,ns))==null||o.close()),jt(this,ns,null),Me(this,vv).abort=!0,Me(this,Dl).forEach(l=>l.close()),jt(this,Dl,[]),this.localFileReader.close()}),this.localFileReader=e,this.samples=t,this.conf=r}}ns=new WeakMap,gv=new WeakMap,vv=new WeakMap,t1=new WeakMap,yv=new WeakMap,Vd=new WeakMap,Dl=new WeakMap,bh=new WeakMap,jp=new WeakMap,bv=new WeakMap,n1=new WeakMap,vb=new WeakMap,Wp=new WeakMap,i1=new WeakMap,Sv=new WeakMap,r1=new WeakMap;function Bme(n,e){for(let t=0;t<e.length;t++){const r=e[t];if(n>=r.cts&&n<r.cts+r.duration)return t;if(r.cts>n)break}return 0}var a1,o1,zu,_v,jd,Sh,Ac,xv,s1,l1,Z2,eO;class Dme{constructor(e,t,r,a){Jt(this,a1,1),Jt(this,o1),Jt(this,zu,null),Jt(this,_v,{abort:!1,st:performance.now()}),sa(this,"find",async o=>{const l=o<=Me(this,jd)||o-Me(this,jd)>1e5;(Me(this,zu)==null||Me(this,zu).state==="closed"||l)&&Me(this,Z2).call(this),l&&(jt(this,jd,o),jt(this,Sh,Bme(o,this.samples))),Me(this,_v).abort=!0;const s=o-Me(this,jd);jt(this,jd,o),jt(this,_v,{abort:!1,st:performance.now()});const u=await Me(this,s1).call(this,Math.ceil(s*(Me(this,o1)/1e6)),Me(this,zu),Me(this,_v));return jt(this,xv,0),u}),Jt(this,jd,0),Jt(this,Sh,0),Jt(this,Ac,{frameCnt:0,data:[]}),Jt(this,xv,0),Jt(this,s1,async(o,l=null,s)=>{if(l==null||s.abort||l.state==="closed"||o===0)return[];const u=Me(this,Ac).frameCnt-o;if(u>0)return u<Yr.sampleRate/10&&Me(this,l1).call(this,l),sz(Me(this,Ac),o);if(l.decoding){if(performance.now()-s.st>3e3)throw s.abort=!0,Error(`MP4Clip.tick audio timeout, ${JSON.stringify(Me(this,eO).call(this))}`);jt(this,xv,Me(this,xv)+1),await cB(15)}else{if(Me(this,Sh)>=this.samples.length-1)return sz(Me(this,Ac),Me(this,Ac).frameCnt);Me(this,l1).call(this,l)}return Me(this,s1).call(this,o,l,s)}),Jt(this,l1,o=>{if(o.decodeQueueSize>10)return;const l=[];let s=Me(this,Sh);for(;s<this.samples.length;){const u=this.samples[s];if(s+=1,!u.deleted&&(l.push(u),l.length>=10))break}jt(this,Sh,s),o.decode(l.map(u=>new EncodedAudioChunk({type:"key",timestamp:u.cts,duration:u.duration,data:u.data})))}),Jt(this,Z2,()=>{var o;jt(this,jd,0),jt(this,Sh,0),jt(this,Ac,{frameCnt:0,data:[]}),(o=Me(this,zu))==null||o.close(),jt(this,zu,Pme(this.conf,{resampleRate:Yr.sampleRate,volume:Me(this,a1)},l=>{Me(this,Ac).data.push(l),Me(this,Ac).frameCnt+=l[0].length}))}),Jt(this,eO,()=>{var o,l;return{time:Me(this,jd),decState:(o=Me(this,zu))==null?void 0:o.state,decQSize:(l=Me(this,zu))==null?void 0:l.decodeQueueSize,decCusorIdx:Me(this,Sh),sampleLen:this.samples.length,pcmLen:Me(this,Ac).frameCnt,clipIdCnt:uB,sleepCnt:Me(this,xv),memInfo:DG()}}),sa(this,"destroy",()=>{jt(this,zu,null),Me(this,_v).abort=!0,jt(this,Ac,{frameCnt:0,data:[]}),this.localFileReader.close()}),this.localFileReader=e,this.samples=t,this.conf=r,jt(this,a1,a.volume),jt(this,o1,a.targetSampleRate)}}a1=new WeakMap,o1=new WeakMap,zu=new WeakMap,_v=new WeakMap,jd=new WeakMap,Sh=new WeakMap,Ac=new WeakMap,xv=new WeakMap,s1=new WeakMap,l1=new WeakMap,Z2=new WeakMap,eO=new WeakMap;function Pme(n,e,t){let r=0,a=0;const o=m=>{if(a+=1,m.length!==0){if(e.volume!==1)for(const y of m)for(let _=0;_<y.length;_++)y[_]*=e.volume;m.length===1&&(m=[m[0],m[0]]),t(m)}},l=Lme(o),s=e.resampleRate!==n.sampleRate;let u=new AudioDecoder({output:m=>{const y=_me(m);s?l(()=>Eme(y,m.sampleRate,{rate:e.resampleRate,chanCount:m.numberOfChannels})):o(y),m.close()},error:m=>{m.message.includes("Codec reclaimed due to inactivity")||f("MP4Clip AudioDecoder err",m)}});u.configure(n);function f(m,y){const _=`${m}: ${y.message}, state: ${JSON.stringify({qSize:u.decodeQueueSize,state:u.state,inputCnt:r,outputCnt:a})}`;throw gi.error(_),Error(_)}return{decode(m){r+=m.length;try{for(const y of m)u.decode(y)}catch(y){f("decode audio chunk error",y)}},close(){u.state!=="closed"&&u.close()},get decoding(){return r>a&&u.decodeQueueSize>0},get state(){return u.state},get decodeQueueSize(){return u.decodeQueueSize}}}function Lme(n){const e=[];let t=0;function r(l,s){e[s]=l,a()}function a(){const l=e[t];l!=null&&(n(l),t+=1,a())}let o=0;return l=>{const s=o;o+=1,l().then(u=>r(u,s)).catch(u=>r(u,s))}}function sz(n,e){const t=[new Float32Array(e),new Float32Array(e)];let r=0,a=0;for(;a<n.data.length;){const[o,l]=n.data[a];if(r+o.length>e){const s=e-r;t[0].set(o.subarray(0,s),r),t[1].set(l.subarray(0,s),r),n.data[a][0]=o.subarray(s,o.length),n.data[a][1]=l.subarray(s,l.length);break}else t[0].set(o,r),t[1].set(l,r),r+=o.length,a++}return n.data=n.data.slice(a),n.frameCnt-=e,t}async function BG(n,e){const t=n[0],r=n.at(-1);if(r==null)return[];const a=r.offset+r.size-t.offset;if(a<3e7){const o=new Uint8Array(await e.read(a,{at:t.offset}));return n.map(l=>{const s=l.offset-t.offset;return new EncodedVideoChunk({type:l.is_sync?"key":"delta",timestamp:l.cts,duration:l.duration,data:o.subarray(s,s+l.size)})})}return await Promise.all(n.map(async o=>new EncodedVideoChunk({type:o.is_sync?"key":"delta",timestamp:o.cts,duration:o.duration,data:await e.read(o.size,{at:o.offset})})))}function Nme(n,e,t){const r=new OffscreenCanvas(n,e),a=r.getContext("2d");return async o=>(a.drawImage(o,0,0,n,e),o.close(),await r.convertToBlob(t))}function zme(n,e){if(n.length===0)return[];let t=0,r=0,a=-1;for(let u=0;u<n.length;u++){const f=n[u];if(a===-1&&e<f.cts&&(a=u-1),f.is_idr)if(a===-1)t=u;else{r=u;break}}const o=n[a];if(o==null)throw Error("Not found video sample by time");const l=n.slice(0,r===0?n.length:r).map(u=>({...u}));for(let u=t;u<l.length;u++){const f=l[u];e<f.cts&&(f.deleted=!0,f.cts=-1)}nO(l);const s=n.slice(o.is_idr?a:t).map(u=>({...u,cts:u.cts-e}));for(const u of s)u.cts<0&&(u.deleted=!0,u.cts=-1);return nO(s),[l,s]}function Ume(n,e){if(n.length===0)return[];let t=-1;for(let o=0;o<n.length;o++){const l=n[o];if(!(e>l.cts)){t=o;break}}if(t===-1)throw Error("Not found audio sample by time");const r=n.slice(0,t).map(o=>({...o})),a=n.slice(t).map(o=>({...o,cts:o.cts-e}));return[r,a]}function tO(n,e,t){let r=0;if(n.state==="configured"){for(;r<e.length;r++)n.decode(e[r]);n.flush().catch(a=>{if(!(a instanceof Error))throw a;if(a.message.includes("Decoding error")&&t.onDecodingError!=null){t.onDecodingError(a);return}if(!a.message.includes("Aborted due to close"))throw a})}}function Fme(n,e){if(e!=="avc1"&&e!=="hvc1")return 0;const t=new DataView(n.buffer);let r=0;for(;r<n.byteLength-4;){if(e==="avc1"&&(t.getUint8(r+4)&31)===5)return r;if(e==="hvc1"){const a=t.getUint8(r+4)>>1&63;if(a===19||a===20)return r}r+=t.getUint32(r)+4}return-1}async function Hme(n,e,t,r,a,o){const l=await e.createReader(),s=await BG(n.filter(m=>!m.deleted&&m.is_sync&&m.cts>=a.start&&m.cts<=a.end),l);if(s.length===0||r.aborted)return;let u=0;tO(f(),s,{onDecodingError:m=>{gi.warn("thumbnailsByKeyFrame",m),u===0?tO(f(!0),s,{onDecodingError:y=>{l.close(),gi.error("thumbnailsByKeyFrame retry soft deocde",y)}}):(o(null,!0),l.close())}});function f(m=!1){const y={...t,...m?{hardwareAcceleration:"prefer-software"}:{}},_=new VideoDecoder({output:E=>{u+=1;const c=u===s.length;o(E,c),c&&(l.close(),_.state!=="closed"&&_.close())},error:E=>{const c=`thumbnails decoder error: ${E.message}, config: ${JSON.stringify(y)}, state: ${JSON.stringify({qSize:_.decodeQueueSize,state:_.state,outputCnt:u,inputCnt:s.length})}`;throw gi.error(c),Error(c)}});return r.addEventListener("abort",()=>{l.close(),_.state!=="closed"&&_.close()}),_.configure(y),_}}function nO(n){let e=0,t=null;for(const r of n)if(!r.deleted){if(r.is_sync&&(e+=1),e>=2)break;(t==null||r.cts<t.cts)&&(t=r)}t!=null&&t.cts<2e5&&(t.duration+=t.cts,t.cts=0)}function DG(){try{const n=performance.memory;return{jsHeapSizeLimit:n.jsHeapSizeLimit,totalJSHeapSize:n.totalJSHeapSize,usedJSHeapSize:n.usedJSHeapSize,percentUsed:(n.usedJSHeapSize/n.jsHeapSizeLimit).toFixed(3),percentTotal:(n.totalJSHeapSize/n.jsHeapSizeLimit).toFixed(3)}}catch{return{}}}var Fv,Eh,nm,Kd,iO,PG,Xp,Wd;const xC=class c1{constructor(e,t={}){Jt(this,iO),sa(this,"ready"),Jt(this,Fv,{duration:0,width:0,height:0}),Jt(this,Eh,new Float32Array),Jt(this,nm,new Float32Array),Jt(this,Kd),sa(this,"tickInterceptor",async(r,a)=>a),Jt(this,Xp,0),Jt(this,Wd,0),jt(this,Kd,{loop:!1,volume:1,...t}),this.ready=ku(this,iO,PG).call(this,e).then(()=>({width:0,height:0,duration:t.loop?1/0:Me(this,Fv).duration}))}get meta(){return{...Me(this,Fv),sampleRate:Yr.sampleRate,chanCount:2}}getPCMData(){return[Me(this,Eh),Me(this,nm)]}async tick(e){if(!Me(this,Kd).loop&&e>=Me(this,Fv).duration)return await this.tickInterceptor(e,{audio:[],state:"done"});const t=e-Me(this,Xp);if(e<Me(this,Xp)||t>3e6)return jt(this,Xp,e),jt(this,Wd,Math.ceil(Me(this,Xp)/1e6*Yr.sampleRate)),await this.tickInterceptor(e,{audio:[new Float32Array(0),new Float32Array(0)],state:"success"});jt(this,Xp,e);const r=Math.ceil(t/1e6*Yr.sampleRate),a=Me(this,Wd)+r,o=Me(this,Kd).loop?[rz(Me(this,Eh),Me(this,Wd),a),rz(Me(this,nm),Me(this,Wd),a)]:[Me(this,Eh).slice(Me(this,Wd),a),Me(this,nm).slice(Me(this,Wd),a)];return jt(this,Wd,a),await this.tickInterceptor(e,{audio:o,state:"success"})}async split(e){await this.ready;const t=Math.ceil(e/1e6*Yr.sampleRate),r=new c1(this.getPCMData().map(o=>o.slice(0,t)),Me(this,Kd)),a=new c1(this.getPCMData().map(o=>o.slice(t)),Me(this,Kd));return[r,a]}async clone(){await this.ready;const e=new c1(this.getPCMData(),Me(this,Kd));return await e.ready,e}destroy(){jt(this,Eh,new Float32Array(0)),jt(this,nm,new Float32Array(0)),gi.info("---- audioclip destroy ----")}};Fv=new WeakMap,Eh=new WeakMap,nm=new WeakMap,Kd=new WeakMap,iO=new WeakSet,PG=async function(n){xC.ctx==null&&(xC.ctx=new AudioContext({sampleRate:Yr.sampleRate}));const e=performance.now(),t=n instanceof ReadableStream?await Gme(n,xC.ctx):n;gi.info("Audio clip decoded complete:",performance.now()-e);const r=Me(this,Kd).volume;if(r!==1)for(const a of t)for(let o=0;o<a.length;o+=1)a[o]*=r;Me(this,Fv).duration=t[0].length/Yr.sampleRate*1e6,jt(this,Eh,t[0]),jt(this,nm,t[1]??Me(this,Eh)),gi.info("Audio clip convert to AudioData, time:",performance.now()-e)},Xp=new WeakMap,Wd=new WeakMap,sa(xC,"ctx",null);async function Gme(n,e){const t=await new Response(n).arrayBuffer();return RG(await e.decodeAudioData(t))}var Cv,u1,yb,bb;const LG=class NG{constructor(e){sa(this,"ready"),Jt(this,Cv,{duration:0,width:0,height:0}),Jt(this,u1,()=>{}),sa(this,"audioTrack"),Jt(this,yb,null),Jt(this,bb),jt(this,bb,e),this.audioTrack=e.getAudioTracks()[0]??null,Me(this,Cv).duration=1/0;const t=e.getVideoTracks()[0];t!=null?(t.contentHint="motion",this.ready=new Promise(r=>{jt(this,u1,$me(t,a=>{Me(this,Cv).width=a.width,Me(this,Cv).height=a.height,jt(this,yb,a),r(this.meta)}))})):this.ready=Promise.resolve(this.meta)}get meta(){return{...Me(this,Cv)}}async tick(){return{video:Me(this,yb)==null?null:await createImageBitmap(Me(this,yb)),audio:[],state:"success"}}async split(){return[await this.clone(),await this.clone()]}async clone(){return new NG(Me(this,bb).clone())}destroy(){Me(this,bb).getTracks().forEach(e=>e.stop()),Me(this,u1).call(this)}};Cv=new WeakMap,u1=new WeakMap,yb=new WeakMap,bb=new WeakMap,sa(LG,"ctx",null);let kme=LG;function $me(n,e){let t=!1,r;return zpe(new MediaStreamTrackProcessor({track:n}).readable,{onChunk:async a=>{if(!t){const{displayHeight:o,displayWidth:l}=a,s=l??0,u=o??0,f=new OffscreenCanvas(s,u);r=f.getContext("2d"),e(f),t=!0}r.drawImage(a,0,0),a.close()},onDone:async()=>{}})}var HE,GE,kE,$E,VE,jE,Yp,Ev,qp;const Vme=class zG{constructor(e,t,r,a,o){Jt(this,Yp),Jt(this,HE,new Dm),sa(this,"on",Me(this,HE).on),Jt(this,GE,0),Jt(this,kE,0),Jt(this,$E,0),Jt(this,VE,0),Jt(this,jE,0),Jt(this,qp,null),sa(this,"fixedAspectRatio",!1),sa(this,"fixedScaleCenter",!1),this.x=e??0,this.y=t??0,this.w=r??0,this.h=a??0,jt(this,qp,o??null)}get x(){return Me(this,GE)}set x(e){ku(this,Yp,Ev).call(this,"x",e)}get y(){return Me(this,kE)}set y(e){ku(this,Yp,Ev).call(this,"y",e)}get w(){return Me(this,$E)}set w(e){ku(this,Yp,Ev).call(this,"w",e)}get h(){return Me(this,VE)}set h(e){ku(this,Yp,Ev).call(this,"h",e)}get angle(){return Me(this,jE)}set angle(e){ku(this,Yp,Ev).call(this,"angle",e)}get center(){const{x:e,y:t,w:r,h:a}=this;return{x:e+r/2,y:t+a/2}}clone(){const{x:e,y:t,w:r,h:a}=this,o=new zG(e,t,r,a,Me(this,qp));return o.angle=this.angle,o.fixedAspectRatio=this.fixedAspectRatio,o.fixedScaleCenter=this.fixedScaleCenter,o}checkHit(e,t){var r,a;let{angle:o,center:l,x:s,y:u,w:f,h:m}=this;const y=((r=Me(this,qp))==null?void 0:r.center)??l,_=((a=Me(this,qp))==null?void 0:a.angle)??o;Me(this,qp)==null&&(s=s-y.x,u=u-y.y);const E=e-y.x,c=t-y.y;let p=E,g=c;return _!==0&&(p=E*Math.cos(_)+c*Math.sin(_),g=c*Math.cos(_)-E*Math.sin(_)),!(p<s||p>s+f||g<u||g>u+m)}};HE=new WeakMap,GE=new WeakMap,kE=new WeakMap,$E=new WeakMap,VE=new WeakMap,jE=new WeakMap,Yp=new WeakSet,Ev=function(n,e){const t=this[n]!==e;switch(n){case"x":jt(this,GE,e);break;case"y":jt(this,kE,e);break;case"w":jt(this,$E,e);break;case"h":jt(this,VE,e);break;case"angle":jt(this,jE,e);break}t&&Me(this,HE).emit("propsChange",{[n]:e})},qp=new WeakMap;let Uu=Vme;var d1,wv,Sb,Kp,Xd;class UG{constructor(){sa(this,"rect",new Uu),Jt(this,d1,{offset:0,duration:0,playbackRate:1}),Jt(this,wv,new Dm),sa(this,"on",Me(this,wv).on),Jt(this,Sb,0),sa(this,"opacity",1),sa(this,"flip",null),Jt(this,Kp,null),Jt(this,Xd,null),sa(this,"ready",Promise.resolve()),this.rect.on("propsChange",e=>{Me(this,wv).emit("propsChange",{rect:e})})}get time(){return Me(this,d1)}set time(e){Object.assign(Me(this,d1),e)}get zIndex(){return Me(this,Sb)}set zIndex(e){const t=Me(this,Sb)!==e;jt(this,Sb,e),t&&Me(this,wv).emit("propsChange",{zIndex:e})}_render(e){const{rect:{center:t,angle:r}}=this;e.setTransform(this.flip==="horizontal"?-1:1,0,0,this.flip==="vertical"?-1:1,t.x,t.y),e.rotate((this.flip==null?1:-1)*r),e.globalAlpha=this.opacity}setAnimation(e,t){jt(this,Kp,Object.entries(e).map(([r,a])=>{const o={from:0,to:100}[r]??Number(r.slice(0,-1));if(isNaN(o)||o>100||o<0)throw Error("keyFrame must between 0~100");return[o/100,a]})),jt(this,Xd,Object.assign({},Me(this,Xd),{duration:t.duration,delay:t.delay??0,iterCount:t.iterCount??1/0}))}animate(e){if(Me(this,Kp)==null||Me(this,Xd)==null||e<Me(this,Xd).delay)return;const t=jme(e,Me(this,Kp),Me(this,Xd));for(const r in t)switch(r){case"opacity":this.opacity=t[r];break;case"x":case"y":case"w":case"h":case"angle":this.rect[r]=t[r];break}}copyStateTo(e){jt(e,Kp,Me(this,Kp)),jt(e,Xd,Me(this,Xd)),e.zIndex=this.zIndex,e.opacity=this.opacity,e.flip=this.flip,e.rect=this.rect.clone(),e.time={...this.time}}destroy(){Me(this,wv).destroy()}}d1=new WeakMap,wv=new WeakMap,Sb=new WeakMap,Kp=new WeakMap,Xd=new WeakMap;function jme(n,e,t){const r=n-t.delay;if(r/t.duration>=t.iterCount)return{};const a=r%t.duration,o=r===t.duration?1:a/t.duration,l=e.findIndex(E=>E[0]>=o);if(l===-1)return{};const s=e[l-1],u=e[l],f=u[1];if(s==null)return f;const m=s[1],y={},_=(o-s[0])/(u[0]-s[0]);for(const E in f){const c=E;m[c]!=null&&(y[c]=(f[c]-m[c])*_+m[c])}return y}var Av,Jp,f1;const Wme=class FG extends UG{constructor(e){super(),Jt(this,Av),Jt(this,Jp,null),Jt(this,f1,!1),jt(this,Av,e),this.ready=e.ready.then(({width:t,height:r,duration:a})=>{this.rect.w=this.rect.w===0?t:this.rect.w,this.rect.h=this.rect.h===0?r:this.rect.h,this.time.duration=this.time.duration===0?a:this.time.duration})}async offscreenRender(e,t){var r;const a=t*this.time.playbackRate;this.animate(a),super._render(e);const{w:o,h:l}=this.rect,{video:s,audio:u,state:f}=await Me(this,Av).tick(a);let m=u??[];if(u!=null&&this.time.playbackRate!==1&&(m=u.map(_=>OG(_,this.time.playbackRate))),f==="done")return{audio:m,done:!0};const y=s??Me(this,Jp);return y!=null&&e.drawImage(y,-o/2,-l/2,o,l),s!=null&&((r=Me(this,Jp))==null||r.close(),jt(this,Jp,s)),{audio:m,done:!1}}async clone(){const e=new FG(await Me(this,Av).clone());return await e.ready,this.copyStateTo(e),e}destroy(){var e;Me(this,f1)||(jt(this,f1,!0),gi.info("OffscreenSprite destroy"),super.destroy(),(e=Me(this,Jp))==null||e.close(),jt(this,Jp,null),Me(this,Av).destroy())}};Av=new WeakMap,Jp=new WeakMap,f1=new WeakMap;let Xme=Wme;var Hv,vm,Qv,_b,h1,rO,p1,m1;const Yme=class HG extends UG{constructor(e){super(),Jt(this,h1),Jt(this,Hv),sa(this,"visible",!0),Jt(this,vm,null),Jt(this,Qv,[]),Jt(this,_b,!1),Jt(this,p1,-1),Jt(this,m1,!1),jt(this,Hv,e),this.ready=e.ready.then(({width:t,height:r,duration:a})=>{this.rect.w=this.rect.w===0?t:this.rect.w,this.rect.h=this.rect.h===0?r:this.rect.h,this.time.duration=this.time.duration===0?a:this.time.duration})}getClip(){return Me(this,Hv)}preFrame(e){ku(this,h1,rO).call(this,e)}render(e,t){this.animate(t),super._render(e);const{w:r,h:a}=this.rect;Me(this,p1)!==t&&ku(this,h1,rO).call(this,t),jt(this,p1,t);const o=Me(this,Qv);jt(this,Qv,[]);const l=Me(this,vm);return l!=null&&e.drawImage(l,-r/2,-a/2,r,a),{audio:o}}copyStateTo(e){super.copyStateTo(e),e instanceof HG&&(e.visible=this.visible)}destroy(){var e;Me(this,m1)||(jt(this,m1,!0),gi.info("VisibleSprite destroy"),super.destroy(),(e=Me(this,vm))==null||e.close(),jt(this,vm,null),Me(this,Hv).destroy())}};Hv=new WeakMap,vm=new WeakMap,Qv=new WeakMap,_b=new WeakMap,h1=new WeakSet,rO=function(n){Me(this,_b)||(jt(this,_b,!0),Me(this,Hv).tick(n*this.time.playbackRate).then(({video:e,audio:t})=>{var r;e!=null&&((r=Me(this,vm))==null||r.close(),jt(this,vm,e??null)),jt(this,Qv,t??[]),t!=null&&this.time.playbackRate!==1&&jt(this,Qv,t.map(a=>OG(a,this.time.playbackRate)))}).finally(()=>{jt(this,_b,!1)}))},p1=new WeakMap,m1=new WeakMap;let sR=Yme,qme=0;async function GG(n){n()>50&&(await cB(15),await GG(n))}var Jd,g1,Hu,Fb,WE,v1,Gv,Hb,Qp,y1,kG,$G;class Kme{constructor(e={}){Jt(this,y1),Jt(this,Jd,gi.create(`id:${qme++},`)),Jt(this,g1,!1),Jt(this,Hu,[]),Jt(this,Fb),Jt(this,WE),Jt(this,v1,null),Jt(this,Gv),Jt(this,Hb),Jt(this,Qp,new Dm),sa(this,"on",Me(this,Qp).on);const{width:t=0,height:r=0}=e;jt(this,Fb,new OffscreenCanvas(t,r));const a=Me(this,Fb).getContext("2d",{alpha:!1});if(a==null)throw Error("Can not create 2d offscreen context");jt(this,WE,a),jt(this,Gv,Object.assign({bgColor:"#000",width:0,height:0,videoCodec:"avc1.42E032",audio:!0,bitrate:5e6,fps:30,metaDataTags:null},e)),jt(this,Hb,t*r>0)}static async isSupported(e={}){return(self.OffscreenCanvas!=null&&self.VideoEncoder!=null&&self.VideoDecoder!=null&&self.VideoFrame!=null&&self.AudioEncoder!=null&&self.AudioDecoder!=null&&self.AudioData!=null&&((await self.VideoEncoder.isConfigSupported({codec:e.videoCodec??"avc1.42E032",width:e.width??1920,height:e.height??1080,bitrate:e.bitrate??7e6})).supported??!1)&&(await self.AudioEncoder.isConfigSupported({codec:Yr.codec,sampleRate:Yr.sampleRate,numberOfChannels:Yr.channelCount})).supported)??!1}async addSprite(e,t={}){const r={rect:ege(["x","y","w","h"],e.rect),time:{...e.time},zIndex:e.zIndex};Me(this,Jd).info("Combinator add sprite",r);const a=await e.clone();Me(this,Jd).info("Combinator add sprite ready"),Me(this,Hu).push(Object.assign(a,{main:t.main??!1,expired:!1})),Me(this,Hu).sort((o,l)=>o.zIndex-l.zIndex)}output(){if(Me(this,Hu).length===0)throw Error("No sprite added");const e=Me(this,Hu).find(u=>u.main),t=e!=null?e.time.offset+e.time.duration:Math.max(...Me(this,Hu).map(u=>u.time.offset+u.time.duration));if(t===1/0)throw Error("Unable to determine the end time, please specify a main sprite, or limit the duration of ImgClip, AudioCli");t===-1&&Me(this,Jd).warn("Unable to determine the end time, process value don't update"),Me(this,Jd).info(`start combinate video, maxTime:${t}`);const r=ku(this,y1,kG).call(this,t);let a=performance.now();const o=ku(this,y1,$G).call(this,r,t,{onProgress:u=>{Me(this,Jd).debug("OutputProgress:",u),Me(this,Qp).emit("OutputProgress",u)},onEnded:async()=>{await r.flush(),Me(this,Jd).info("===== output ended =====, cost:",performance.now()-a),Me(this,Qp).emit("OutputProgress",1),this.destroy()},onError:u=>{Me(this,Qp).emit("error",u),s(u),this.destroy()}});jt(this,v1,()=>{o(),r.close(),s()});const{stream:l,stop:s}=Upe(r.mp4file,500,this.destroy);return l}destroy(){var e;Me(this,g1)||(jt(this,g1,!0),(e=Me(this,v1))==null||e.call(this),Me(this,Qp).destroy())}}Jd=new WeakMap,g1=new WeakMap,Hu=new WeakMap,Fb=new WeakMap,WE=new WeakMap,v1=new WeakMap,Gv=new WeakMap,Hb=new WeakMap,Qp=new WeakMap,y1=new WeakSet,kG=function(n){const{fps:e,width:t,height:r,videoCodec:a,bitrate:o,audio:l,metaDataTags:s}=Me(this,Gv);return Wpe({video:Me(this,Hb)?{width:t,height:r,expectFPS:e,codec:a,bitrate:o,__unsafe_hardwareAcceleration__:Me(this,Gv).__unsafe_hardwareAcceleration__}:null,audio:l===!1?null:{codec:"aac",sampleRate:Yr.sampleRate,channelCount:Yr.channelCount},duration:n,metaDataTags:s})},$G=function(n,e,{onProgress:t,onEnded:r,onError:a}){let o=0;const l={aborted:!1};let s=null;(async()=>{const{fps:m,bgColor:y,audio:_}=Me(this,Gv),E=Math.round(1e6/m),c=Me(this,WE),p=Jme({ctx:c,bgColor:y,sprites:Me(this,Hu),aborter:l}),g=Qme({remux:n,ctx:c,cvs:Me(this,Fb),outputAudio:_,hasVideoTrack:Me(this,Hb),timeSlice:E,fps:m});let b=0;for(;;){if(s!=null)return;if(l.aborted||e!==-1&&b>e||Me(this,Hu).length===0){f(),await r();return}o=b/e;const{audios:C,mainSprDone:T}=await p(b);if(T){f(),await r();return}if(l.aborted)return;g(b,C),b+=E,await GG(n.getEncodeQueueSize)}})().catch(m=>{s=m,Me(this,Jd).error(m),f(),a(m)});const u=setInterval(()=>{t(o)},500),f=()=>{l.aborted||(l.aborted=!0,clearInterval(u),Me(this,Hu).forEach(m=>m.destroy()))};return f};function Jme(n){const{ctx:e,bgColor:t,sprites:r,aborter:a}=n,{width:o,height:l}=e.canvas;return async s=>{e.fillStyle=t,e.fillRect(0,0,o,l);const u=[];let f=!1;for(const m of r){if(a.aborted)break;if(s<m.time.offset||m.expired)continue;e.save();const{audio:y,done:_}=await m.offscreenRender(e,s-m.time.offset);u.push(y),e.restore(),(m.time.duration>0&&s>m.time.offset+m.time.duration||_)&&(m.main&&(f=!0),m.destroy(),m.expired=!0)}return{audios:u,mainSprDone:f}}}function Qme(n){const{ctx:e,cvs:t,outputAudio:r,remux:a,hasVideoTrack:o,timeSlice:l}=n,{width:s,height:u}=t;let f=0;const m=Math.floor(3*n.fps),y=Zme(1024);return(_,E)=>{if(r!==!1)for(const c of y(_,E))a.encodeAudio(c);if(o){const c=new VideoFrame(t,{duration:l,timestamp:_});a.encodeVideo(c,{keyFrame:f%m===0}),e.resetTransform(),e.clearRect(0,0,s,u),f+=1}}}function Zme(n){const e=n*Yr.channelCount,t=new Float32Array(e*3);let r=0,a=0;const o=n/Yr.sampleRate*1e6,l=new Float32Array(e),s=u=>{let f=0;const m=Math.floor(r/e),y=[];for(let _=0;_<m;_++)y.push(new AudioData({timestamp:a,numberOfChannels:Yr.channelCount,numberOfFrames:n,sampleRate:Yr.sampleRate,format:"f32",data:t.subarray(f,f+e)})),f+=e,a+=o;for(t.set(t.subarray(f,r),0),r-=f;u-a>o;)y.push(new AudioData({timestamp:a,numberOfChannels:Yr.channelCount,numberOfFrames:n,sampleRate:Yr.sampleRate,format:"f32",data:l})),a+=o;return y};return(u,f)=>{var m,y;const _=Math.max(...f.map(E=>{var c;return((c=E[0])==null?void 0:c.length)??0}));for(let E=0;E<_;E++){let c=0,p=0;for(let g=0;g<f.length;g++){const b=((m=f[g][0])==null?void 0:m[E])??0,C=((y=f[g][1])==null?void 0:y[E])??b;c+=b,p+=C}t[r]=c,t[r+1]=p,r+=2}return s(u)}}function ege(n,e){return n.reduce((t,r)=>(t[r]=e[r],t),{})}var tge=Object.defineProperty,VG=n=>{throw TypeError(n)},nge=(n,e,t)=>e in n?tge(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,b1=(n,e,t)=>nge(n,typeof e!="symbol"?e+"":e,t),dB=(n,e,t)=>e.has(n)||VG("Cannot "+t),Gt=(n,e,t)=>(dB(n,e,"read from private field"),t?t.call(n):e.get(n)),Ba=(n,e,t)=>e.has(n)?VG("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Js=(n,e,t,r)=>(dB(n,e,"write to private field"),e.set(n,t),t),im=(n,e,t)=>(dB(n,e,"access private method"),t);const ige=["t","b","l","r","lt","lb","rt","rb","rotate"];function S0(n){return document.createElement(n)}function rge(n){let e=16;const t=new ResizeObserver(a=>{const o=a[0];o!=null&&(e=10/(o.contentRect.width/n.width))});t.observe(n);function r(a){const{w:o,h:l}=a,s=e,u=s/2,f=o/2,m=l/2,y=s*1.5,_=y/2;return{...a.fixedAspectRatio?{}:{t:new Uu(-u,-m-u,s,s,a),b:new Uu(-u,m-u,s,s,a),l:new Uu(-f-u,-u,s,s,a),r:new Uu(f-u,-u,s,s,a)},lt:new Uu(-f-u,-m-u,s,s,a),lb:new Uu(-f-u,m-u,s,s,a),rt:new Uu(f-u,-m-u,s,s,a),rb:new Uu(f-u,m-u,s,s,a),rotate:new Uu(-_,-m-s*2-_,y,y,a)}}return{rectCtrlsGetter:r,destroy:()=>{t.disconnect()}}}var gS=(n=>(n.ActiveSpriteChange="activeSpriteChange",n.AddSprite="addSprite",n))(gS||{}),Pl,Mv,Tv,xb;class age{constructor(){Ba(this,Pl,[]),Ba(this,Mv,null),Ba(this,Tv,new Dm),b1(this,"on",Gt(this,Tv).on),Ba(this,xb,0)}get activeSprite(){return Gt(this,Mv)}set activeSprite(e){e!==Gt(this,Mv)&&(Js(this,Mv,e),Gt(this,Tv).emit("activeSpriteChange",e))}async addSprite(e){await e.ready,Gt(this,Pl).push(e),Js(this,Pl,Gt(this,Pl).sort((t,r)=>t.zIndex-r.zIndex)),e.on("propsChange",t=>{t.zIndex!=null&&Js(this,Pl,Gt(this,Pl).sort((r,a)=>r.zIndex-a.zIndex))}),Gt(this,Tv).emit("addSprite",e)}removeSprite(e){Gt(this,Mv)===e&&(this.activeSprite=null),Js(this,Pl,Gt(this,Pl).filter(t=>t!==e)),e.destroy()}getSprites(e={time:!0}){return Gt(this,Pl).filter(t=>t.visible&&(e.time?Gt(this,xb)>=t.time.offset&&Gt(this,xb)<=t.time.offset+t.time.duration:!0))}updateRenderTime(e){Js(this,xb,e);const t=this.activeSprite;t!=null&&(e<t.time.offset||e>t.time.offset+t.time.duration)&&(this.activeSprite=null)}destroy(){Gt(this,Tv).destroy(),Gt(this,Pl).forEach(e=>e.destroy()),Js(this,Pl,[])}}Pl=new WeakMap,Mv=new WeakMap,Tv=new WeakMap,xb=new WeakMap;function oge(n,e,t,r){const a={w:e.clientWidth/e.width,h:e.clientHeight/e.height},o=new ResizeObserver(()=>{a.w=e.clientWidth/e.width,a.h=e.clientHeight/e.height,t.activeSprite!=null&&lR(t.activeSprite,l,s,a,r)});o.observe(e);const{rectEl:l,ctrlsEl:s}=sge(n),u=t.on(gS.ActiveSpriteChange,E=>{if(E==null){l.style.display="none";return}lR(E,l,s,a,r),l.style.display=""});let f=!1;const m=E=>{E.button===0&&(f=!0)},y=()=>{f=!1},_=()=>{!f||t.activeSprite==null||lR(t.activeSprite,l,s,a,r)};return e.addEventListener("pointerdown",m),window.addEventListener("pointerup",y),window.addEventListener("pointermove",_),()=>{o.disconnect(),u(),l.remove(),e.removeEventListener("pointerdown",m),window.removeEventListener("pointerup",y),window.removeEventListener("pointermove",_)}}function sge(n){const e=S0("div");e.style.cssText=`
    position: absolute;
    pointer-events: none;
    border: 1px solid #eee;
    box-sizing: border-box;
    display: none;
  `;const t=Object.fromEntries(ige.map(r=>{const a=S0("div");return a.style.cssText=`
        display: none;
        position: absolute;
        border: 1px solid #3ee; border-radius: 50%;
        box-sizing: border-box;
        background-color: #fff;
      `,[r,a]}));return Object.values(t).forEach(r=>e.appendChild(r)),n.appendChild(e),{rectEl:e,ctrlsEl:t}}function lR(n,e,t,r,a){const{x:o,y:l,w:s,h:u,angle:f}=n.rect;Object.assign(e.style,{left:`${o*r.w}px`,top:`${l*r.h}px`,width:`${s*r.w}px`,height:`${u*r.h}px`,rotate:`${f}rad`}),Object.entries(a(n.rect)).forEach(([m,{x:y,y:_,w:E,h:c}])=>{Object.assign(t[m].style,{display:"block",left:"50%",top:"50%",width:`${E*r.w}px`,height:`${c*r.h}px`,transform:`translate(${y*r.w}px, ${_*r.h}px)`})})}function lge(n,e,t){const r={w:n.clientWidth/n.width,h:n.clientHeight/n.height},a=new ResizeObserver(()=>{r.w=n.clientWidth/n.width,r.h=n.clientHeight/n.height});a.observe(n);const o=l=>{if(l.button!==0)return;const{offsetX:s,offsetY:u}=l,f=s/r.w,m=u/r.h;if(e.activeSprite!=null){const[y]=Object.entries(t(e.activeSprite.rect)).find(([,_])=>_.checkHit(f,m))??[];if(y!=null)return}e.activeSprite=e.getSprites().reverse().find(y=>y.visible&&y.rect.checkHit(f,m))??null};return n.addEventListener("pointerdown",o),()=>{a.disconnect(),n.removeEventListener("pointerdown",o)}}function cge(n,e,t,r){const a={w:n.clientWidth/n.width,h:n.clientHeight/n.height},o=new ResizeObserver(()=>{a.w=n.clientWidth/n.width,a.h=n.clientHeight/n.height});o.observe(n);let l=0,s=0,u=null;const f=gge(n,t);let m=null;const y=c=>{if(c.button!==0||e.activeSprite==null)return;m=e.activeSprite;const{offsetX:p,offsetY:g,clientX:b,clientY:C}=c;hge({rect:m.rect,offsetX:p,offsetY:g,clientX:b,clientY:C,cvsRatio:a,cvsEl:n,rectCtrlsGetter:r})||(u=m.rect.clone(),f.magneticEffect(m.rect.x,m.rect.y,m.rect),l=b,s=C,window.addEventListener("pointermove",_),window.addEventListener("pointerup",E))},_=c=>{if(m==null||u==null)return;const{clientX:p,clientY:g}=c;let b=u.x+(p-l)/a.w,C=u.y+(g-s)/a.h;jG(m.rect,n,f.magneticEffect(b,C,m.rect))};n.addEventListener("pointerdown",y);const E=()=>{f.hide(),window.removeEventListener("pointermove",_),window.removeEventListener("pointerup",E)};return()=>{o.disconnect(),f.destroy(),E(),n.removeEventListener("pointerdown",y)}}function uge({sprRect:n,startX:e,startY:t,ctrlKey:r,cvsRatio:a,cvsEl:o}){const l=n.clone(),s=f=>{const{clientX:m,clientY:y}=f,_=(m-e)/a.w,E=(y-t)/a.h,c=r.length===1?dge:fge,{x:p,y:g,w:b,h:C}=l,T=Math.atan2(C,b),{incW:M,incH:O,incS:B,rotateAngle:P}=c({deltaX:_,deltaY:E,angle:n.angle,ctrlKey:r,diagonalAngle:T}),F=10;let U=b,z=C,$=l.fixedScaleCenter?M*2:M,J=l.fixedScaleCenter?O*2:O,W=B;const Q=Math.sqrt(C**2+b**2),ae=Math.sqrt((F*(C/b))**2+F**2);switch(r){case"l":U=Math.max(b+$,F),W=Math.min(B,b-F);break;case"r":U=Math.max(b+$,F),W=Math.max(B,F-b);break;case"b":z=Math.max(C+J,F),W=Math.min(B,C-F);break;case"t":z=Math.max(C+J,F),W=Math.max(B,F-C);break;case"lt":case"lb":U=Math.max(b+$,F),z=U===F?C/b*U:C+J,W=Math.min(B,Q-ae);break;case"rt":case"rb":U=Math.max(b+$,F),z=U===F?C/b*U:C+J,W=Math.max(B,ae-Q);break}let Y=p,K=g;if(l.fixedScaleCenter)Y=p+b/2-U/2,K=g+C/2-z/2;else{const ee=W/2*Math.cos(P)+p+b/2,de=W/2*Math.sin(P)+g+C/2;Y=ee-U/2,K=de-z/2}jG(n,o,{x:Y,y:K,w:U,h:z})},u=()=>{window.removeEventListener("pointermove",s),window.removeEventListener("pointerup",u)};window.addEventListener("pointermove",s),window.addEventListener("pointerup",u)}function dge({deltaX:n,deltaY:e,angle:t,ctrlKey:r}){let a=0,o=0,l=0,s=t;return r==="l"||r==="r"?(a=n*Math.cos(t)+e*Math.sin(t),o=a*(r==="l"?-1:1)):(r==="t"||r==="b")&&(s=t-Math.PI/2,a=n*Math.cos(s)+e*Math.sin(s),l=a*(r==="b"?-1:1)),{incW:o,incH:l,incS:a,rotateAngle:s}}function fge({deltaX:n,deltaY:e,angle:t,ctrlKey:r,diagonalAngle:a}){const o=(r==="lt"||r==="rb"?1:-1)*a+t,l=n*Math.cos(o)+e*Math.sin(o),s=r==="lt"||r==="lb"?-1:1,u=l*Math.cos(a)*s,f=l*Math.sin(a)*s;return{incW:u,incH:f,incS:l,rotateAngle:o}}function hge({rect:n,cvsRatio:e,offsetX:t,offsetY:r,clientX:a,clientY:o,cvsEl:l,rectCtrlsGetter:s}){const u=t/e.w,f=r/e.h,[m]=Object.entries(s(n)).find(([,y])=>y.checkHit(u,f))??[];return m==null?!1:(m==="rotate"?pge(n,mge(n.center,e,l)):uge({sprRect:n,ctrlKey:m,startX:a,startY:o,cvsRatio:e,cvsEl:l}),!0)}function pge(n,e){const t=({clientX:a,clientY:o})=>{const l=a-e.x,s=o-e.y,u=Math.atan2(s,l)+Math.PI/2;n.angle=u},r=()=>{window.removeEventListener("pointermove",t),window.removeEventListener("pointerup",r)};window.addEventListener("pointermove",t),window.addEventListener("pointerup",r)}function mge(n,e,t){const r=n.x*e.w,a=n.y*e.h,{left:o,top:l}=t.getBoundingClientRect();return{x:r+o,y:a+l}}function jG(n,e,t){const r={x:n.x,y:n.y,w:n.w,h:n.h,...t},a=e.width*.05,o=e.height*.05;r.x<-r.w+a?r.x=-r.w+a:r.x>e.width-a&&(r.x=e.width-a),r.y<-r.h+o?r.y=-r.h+o:r.y>e.height-o&&(r.y=e.height-o),n.x=r.x,n.y=r.y,n.w=r.w,n.h=r.h}function gge(n,e){const t="display: none; position: absolute;",r={w:0,h:0,x:0,y:0},a={vertMiddle:{...r,h:100,x:50,ref:{prop:"x",val:({w:u})=>(n.width-u)/2}},horMiddle:{...r,w:100,y:50,ref:{prop:"y",val:({h:u})=>(n.height-u)/2}},top:{...r,w:100,ref:{prop:"y",val:()=>0}},bottom:{...r,w:100,y:100,ref:{prop:"y",val:({h:u})=>n.height-u}},left:{...r,h:100,ref:{prop:"x",val:()=>0}},right:{...r,h:100,x:100,ref:{prop:"x",val:({w:u})=>n.width-u}}},o=S0("div");o.style.cssText=`
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    pointer-events: none;
    box-sizing: border-box;
  `;const l=Object.fromEntries(Object.entries(a).map(([u,{w:f,h:m,x:y,y:_}])=>{const E=S0("div");return E.style.cssText=`
        ${t}
        border-${f>0?"top":"left"}: 1px solid #3ee;
        top: ${_}%; left: ${y}%;
        ${y===100?"margin-left: -1px":""};
        ${_===100?"margin-top: -1px":""};
        width: ${f}%; height: ${m}%;
      `,o.appendChild(E),[u,E]}));e.appendChild(o);const s=6/(900/n.width);return{magneticEffect(u,f,m){const y={x:u,y:f};let _,E={x:!1,y:!1};for(_ in a){const{prop:c,val:p}=a[_].ref;if(E[c])continue;const g=p(m);Math.abs(m[c]-g)<=s&&Math.abs(m[c]-(c==="x"?u:f))<=s?(y[c]=g,l[_].style.display="block",E[c]=!0):l[_].style.display="none"}return y},hide(){Object.values(l).forEach(u=>u.style.display="none")},destroy(){o.remove()}}}function vge(n,e,t){const r={w:n.clientWidth/n.width,h:n.clientHeight/n.height},a=new ResizeObserver(()=>{r.w=n.clientWidth/n.width,r.h=n.clientHeight/n.height});a.observe(n);const o=n.style;let l=e.activeSprite;e.on(gS.ActiveSpriteChange,E=>{l=E,E==null&&(o.cursor="")});let s=!1;const u=({offsetX:E,offsetY:c})=>{s=!0;const p=E/r.w,g=c/r.h;(l==null?void 0:l.rect.checkHit(p,g))===!0&&o.cursor===""&&(o.cursor="move")},f=()=>{s=!1},m=["ns-resize","nesw-resize","ew-resize","nwse-resize","ns-resize","nesw-resize","ew-resize","nwse-resize"],y={t:0,rt:1,r:2,rb:3,b:4,lb:5,l:6,lt:7},_=E=>{if(l==null||s)return;const{offsetX:c,offsetY:p}=E,g=c/r.w,b=p/r.h,[C]=Object.entries(t(l.rect)).find(([,T])=>T.checkHit(g,b))??[];if(C!=null){if(C==="rotate"){o.cursor="crosshair";return}const T=l.rect.angle,M=T<0?T+2*Math.PI:T,O=(y[C]+Math.floor((M+Math.PI/8)/(Math.PI/4)))%8;o.cursor=m[O];return}if(l.rect.checkHit(g,b)){o.cursor="move";return}o.cursor=""};return n.addEventListener("pointermove",_),n.addEventListener("pointerdown",u),window.addEventListener("pointerup",f),()=>{a.disconnect(),n.removeEventListener("pointermove",_),n.removeEventListener("pointerdown",u),window.removeEventListener("pointerup",f)}}const yge={sampleRate:48e3};function bge(n){const e=S0("canvas");return e.style.cssText=`
    width: 100%;
    height: 100%;
    display: block;
    touch-action: none;
  `,e.width=n.width,e.height=n.height,e}var ho,Ia,kv,S1,_1,x1,_h,C1,wh,Zd,XE,YE,rs,rm,am,WG,Bc,E1;class Sge{constructor(e,t){Ba(this,Zd),Ba(this,ho),Ba(this,Ia),Ba(this,kv),Ba(this,S1,!1),Ba(this,_1,[]),Ba(this,x1),Ba(this,_h,new Dm),b1(this,"on",Gt(this,_h).on),Ba(this,C1),Ba(this,wh,0),Ba(this,rs,new AudioContext),Ba(this,rm,Gt(this,rs).createMediaStreamDestination()),Ba(this,am,new Set),Ba(this,Bc,{start:0,end:0,step:0,audioPlayAt:0}),Ba(this,E1,new WeakMap),b1(this,"addSprite",async y=>{Gt(this,rs).state==="suspended"&&Gt(this,rs).resume().catch(gi.error);const _=y.getClip();if(_ instanceof kme&&_.audioTrack!=null){const E=Gt(this,rs).createMediaStreamSource(new MediaStream([_.audioTrack]));E.connect(Gt(this,rm)),Gt(this,E1).set(y,E)}await Gt(this,Ia).addSprite(y)}),b1(this,"removeSprite",y=>{var _;(_=Gt(this,E1).get(y))==null||_.disconnect(),Gt(this,Ia).removeSprite(y)}),Js(this,C1,t),Js(this,ho,bge(t));const r=Gt(this,ho).getContext("2d",{alpha:!1});if(r==null)throw Error("canvas context is null");Js(this,kv,r);const a=S0("div");a.style.cssText="width: 100%; height: 100%; position: relative; overflow: hidden;",a.appendChild(Gt(this,ho)),e.appendChild(a),xge(Gt(this,rs)).connect(Gt(this,rm)),Js(this,Ia,new age);const{rectCtrlsGetter:o,destroy:l}=rge(Gt(this,ho));Gt(this,_1).push(l,lge(Gt(this,ho),Gt(this,Ia),o),vge(Gt(this,ho),Gt(this,Ia),o),cge(Gt(this,ho),Gt(this,Ia),a,o),oge(a,Gt(this,ho),Gt(this,Ia),o),Gt(this,Ia).on(gS.AddSprite,y=>{const{rect:_}=y;_.x===0&&_.y===0&&(_.x=(Gt(this,ho).width-_.w)/2,_.y=(Gt(this,ho).height-_.h)/2)}),Dm.forwardEvent(Gt(this,Ia),Gt(this,_h),[gS.ActiveSpriteChange]));let s=Gt(this,wh),u=performance.now(),f=0;const m=1e3/30;Js(this,x1,rB(()=>{(performance.now()-u)/(m*f)<1||(f+=1,Gt(this,kv).fillStyle=t.bgColor,Gt(this,kv).fillRect(0,0,Gt(this,ho).width,Gt(this,ho).height),im(this,Zd,WG).call(this),s!==Gt(this,wh)&&(s=Gt(this,wh),Gt(this,_h).emit("timeupdate",Math.round(s))))},m))}play(e){const t=Gt(this,Ia).getSprites({time:!1}).map(a=>a.time.offset+a.time.duration),r=e.end??(t.length>0?Math.max(...t):1/0);if(e.start>=r||e.start<0)throw Error(`Invalid time parameter, ${JSON.stringify({start:e.start,end:r})}`);im(this,Zd,XE).call(this,e.start),Gt(this,Ia).getSprites({time:!1}).forEach(a=>{const{offset:o,duration:l}=a.time,s=Gt(this,wh)-o;a.preFrame(s>0&&s<l?s:0)}),Gt(this,Bc).start=e.start,Gt(this,Bc).end=r,Gt(this,Bc).step=(e.playbackRate??1)*(1e3/30)*1e3,Gt(this,rs).resume(),Gt(this,Bc).audioPlayAt=0,Gt(this,_h).emit("playing"),gi.info("AVCanvs play by:",Gt(this,Bc))}pause(){im(this,Zd,YE).call(this)}previewFrame(e){im(this,Zd,XE).call(this,e),im(this,Zd,YE).call(this)}captureImage(){return Gt(this,ho).toDataURL()}get activeSprite(){return Gt(this,Ia).activeSprite}set activeSprite(e){Gt(this,Ia).activeSprite=e}destroy(){var e;Gt(this,S1)||(Js(this,S1,!0),Gt(this,rs).close(),Gt(this,rm).disconnect(),Gt(this,_h).destroy(),Gt(this,x1).call(this),(e=Gt(this,ho).parentElement)==null||e.remove(),Gt(this,_1).forEach(t=>t()),Gt(this,am).clear(),Gt(this,Ia).destroy())}captureStream(){Gt(this,rs).state==="suspended"&&Gt(this,rs).resume().catch(gi.error);const e=new MediaStream(Gt(this,ho).captureStream().getTracks().concat(Gt(this,rm).stream.getTracks()));return gi.info("AVCanvas.captureStream, tracks:",e.getTracks().map(t=>t.kind)),e}async createCombinator(e={}){gi.info("AVCanvas.createCombinator, opts:",e);const t=new Kme({...Gt(this,C1),...e}),r=Gt(this,Ia).getSprites({time:!1});if(r.length===0)throw Error("No sprite added");for(const a of r){const o=new Xme(a.getClip());o.time={...a.time},a.copyStateTo(o),await t.addSprite(o)}return t}}ho=new WeakMap,Ia=new WeakMap,kv=new WeakMap,S1=new WeakMap,_1=new WeakMap,x1=new WeakMap,_h=new WeakMap,C1=new WeakMap,wh=new WeakMap,Zd=new WeakSet,XE=function(n){Js(this,wh,n),Gt(this,Ia).updateRenderTime(n)},YE=function(){const n=Gt(this,Bc).step!==0;Gt(this,Bc).step=0,n&&(Gt(this,_h).emit("paused"),Gt(this,rs).suspend());for(const e of Gt(this,am))e.stop(),e.disconnect();Gt(this,am).clear()},rs=new WeakMap,rm=new WeakMap,am=new WeakMap,WG=function(){var n;const e=Gt(this,kv);let t=Gt(this,wh);const{start:r,end:a,step:o,audioPlayAt:l}=Gt(this,Bc);o!==0&&t>=r&&t<a?t+=o:im(this,Zd,YE).call(this),im(this,Zd,XE).call(this,t);const s=[];for(const u of Gt(this,Ia).getSprites()){e.save();const{audio:f}=u.render(e,t-u.time.offset);e.restore(),s.push(f)}if(e.resetTransform(),o!==0){const u=Math.max(Gt(this,rs).currentTime,l),f=_ge(s,Gt(this,rs));let m=0;for(const y of f)y.start(u),y.connect(Gt(this,rs).destination),y.connect(Gt(this,rm)),Gt(this,am).add(y),y.onended=()=>{y.disconnect(),Gt(this,am).delete(y)},m=Math.max(m,((n=y.buffer)==null?void 0:n.duration)??0);Gt(this,Bc).audioPlayAt=u+m}},Bc=new WeakMap,E1=new WeakMap;function _ge(n,e){const t=[];if(n.length===0)return t;for(const[r,a]of n){if(r==null||r.length<=0)continue;const o=e.createBuffer(2,r.length,yge.sampleRate);o.copyToChannel(r,0),o.copyToChannel(a??r,1);const l=e.createBufferSource();l.buffer=o,t.push(l)}return t}function xge(n){const e=n.createOscillator(),t=new Float32Array([0,0]),r=new Float32Array([0,0]),a=n.createPeriodicWave(t,r,{disableNormalization:!0});return e.setPeriodicWave(a),e.start(),e}function XG(){var n=this.constructor.getDerivedStateFromProps(this.props,this.state);n!=null&&this.setState(n)}function YG(n){function e(t){var r=this.constructor.getDerivedStateFromProps(n,t);return r??null}this.setState(e.bind(this))}function qG(n,e){try{var t=this.props,r=this.state;this.props=n,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(t,r)}finally{this.props=t,this.state=r}}XG.__suppressDeprecationWarning=!0;YG.__suppressDeprecationWarning=!0;qG.__suppressDeprecationWarning=!0;function JS(n){var e=n.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof n.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return n;var t=null,r=null,a=null;if(typeof e.componentWillMount=="function"?t="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(t="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?a="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(a="UNSAFE_componentWillUpdate"),t!==null||r!==null||a!==null){var o=n.displayName||n.name,l=typeof n.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+l+" but also contains the following legacy lifecycles:"+(t!==null?`
  `+t:"")+(r!==null?`
  `+r:"")+(a!==null?`
  `+a:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof n.getDerivedStateFromProps=="function"&&(e.componentWillMount=XG,e.componentWillReceiveProps=YG),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=qG;var s=e.componentDidUpdate;e.componentDidUpdate=function(f,m,y){var _=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:y;s.call(this,f,m,_)}}return n}function lz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function cz(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?lz(Object(t),!0).forEach(function(r){ue(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):lz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Cge(n,e,t){return e=Pi(e),Fo(n,KG()?Reflect.construct(e,t||[],Pi(n).constructor):e.apply(n,t))}function KG(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KG=function(){return!!n})()}var JG=function(n){function e(){var t;ai(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=Cge(this,e,[].concat(a)),ue(t,"state",{scrollToColumn:0,scrollToRow:0,instanceProps:{prevScrollToColumn:0,prevScrollToRow:0}}),ue(t,"_columnStartIndex",0),ue(t,"_columnStopIndex",0),ue(t,"_rowStartIndex",0),ue(t,"_rowStopIndex",0),ue(t,"_onKeyDown",function(l){var s=t.props,u=s.columnCount,f=s.disabled,m=s.mode,y=s.rowCount;if(!f){var _=t._getScrollState(),E=_.scrollToColumn,c=_.scrollToRow,p=t._getScrollState(),g=p.scrollToColumn,b=p.scrollToRow;switch(l.key){case"ArrowDown":b=Math.min(m==="cells"?b+1:t._rowStopIndex+1,y-1);break;case"ArrowLeft":g=Math.max(m==="cells"?g-1:t._columnStartIndex-1,0);break;case"ArrowRight":g=Math.min(m==="cells"?g+1:t._columnStopIndex+1,u-1);break;case"ArrowUp":b=Math.max(m==="cells"?b-1:t._rowStartIndex-1,0);break}(g!==E||b!==c)&&(l.preventDefault(),t._updateScrollState({scrollToColumn:g,scrollToRow:b}))}}),ue(t,"_onSectionRendered",function(l){var s=l.columnStartIndex,u=l.columnStopIndex,f=l.rowStartIndex,m=l.rowStopIndex;t._columnStartIndex=s,t._columnStopIndex=u,t._rowStartIndex=f,t._rowStopIndex=m}),t}return Ar(e,n),oi(e,[{key:"setScrollIndexes",value:function(r){var a=r.scrollToColumn,o=r.scrollToRow;this.setState({scrollToRow:o,scrollToColumn:a})}},{key:"render",value:function(){var r=this.props,a=r.className,o=r.children,l=this._getScrollState(),s=l.scrollToColumn,u=l.scrollToRow;return w.createElement("div",{className:a,onKeyDown:this._onKeyDown},o({onSectionRendered:this._onSectionRendered,scrollToColumn:s,scrollToRow:u}))}},{key:"_getScrollState",value:function(){return this.props.isControlled?this.props:this.state}},{key:"_updateScrollState",value:function(r){var a=r.scrollToColumn,o=r.scrollToRow,l=this.props,s=l.isControlled,u=l.onScrollToChange;typeof u=="function"&&u({scrollToColumn:a,scrollToRow:o}),s||this.setState({scrollToColumn:a,scrollToRow:o})}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.isControlled?{}:r.scrollToColumn!==a.instanceProps.prevScrollToColumn||r.scrollToRow!==a.instanceProps.prevScrollToRow?cz(cz({},a),{},{scrollToColumn:r.scrollToColumn,scrollToRow:r.scrollToRow,instanceProps:{prevScrollToColumn:r.scrollToColumn,prevScrollToRow:r.scrollToRow}}):{}}}])}(w.PureComponent);ue(JG,"defaultProps",{disabled:!1,isControlled:!1,mode:"edges",scrollToColumn:0,scrollToRow:0});JS(JG);function QG(n,e){var t;typeof e<"u"?t=e:typeof window<"u"?t=window:typeof self<"u"?t=self:t=global;var r=typeof t.document<"u"&&t.document.attachEvent;if(!r){var a=function(){var P=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||function(F){return t.setTimeout(F,20)};return function(F){return P(F)}}(),o=function(){var P=t.cancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelAnimationFrame||t.clearTimeout;return function(F){return P(F)}}(),l=function(F){var U=F.__resizeTriggers__,z=U.firstElementChild,$=U.lastElementChild,J=z.firstElementChild;$.scrollLeft=$.scrollWidth,$.scrollTop=$.scrollHeight,J.style.width=z.offsetWidth+1+"px",J.style.height=z.offsetHeight+1+"px",z.scrollLeft=z.scrollWidth,z.scrollTop=z.scrollHeight},s=function(F){return F.offsetWidth!=F.__resizeLast__.width||F.offsetHeight!=F.__resizeLast__.height},u=function(F){if(!(F.target.className&&typeof F.target.className.indexOf=="function"&&F.target.className.indexOf("contract-trigger")<0&&F.target.className.indexOf("expand-trigger")<0)){var U=this;l(this),this.__resizeRAF__&&o(this.__resizeRAF__),this.__resizeRAF__=a(function(){s(U)&&(U.__resizeLast__.width=U.offsetWidth,U.__resizeLast__.height=U.offsetHeight,U.__resizeListeners__.forEach(function(z){z.call(U,F)}))})}},f=!1,m="",y="animationstart",_="Webkit Moz O ms".split(" "),E="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),c="";{var p=t.document.createElement("fakeelement");if(p.style.animationName!==void 0&&(f=!0),f===!1){for(var g=0;g<_.length;g++)if(p.style[_[g]+"AnimationName"]!==void 0){c=_[g],m="-"+c.toLowerCase()+"-",y=E[g],f=!0;break}}}var b="resizeanim",C="@"+m+"keyframes "+b+" { from { opacity: 0; } to { opacity: 0; } } ",T=m+"animation: 1ms "+b+"; "}var M=function(F){if(!F.getElementById("detectElementResize")){var U=(C||"")+".resize-triggers { "+(T||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',z=F.head||F.getElementsByTagName("head")[0],$=F.createElement("style");$.id="detectElementResize",$.type="text/css",n!=null&&$.setAttribute("nonce",n),$.styleSheet?$.styleSheet.cssText=U:$.appendChild(F.createTextNode(U)),z.appendChild($)}},O=function(F,U){if(r)F.attachEvent("onresize",U);else{if(!F.__resizeTriggers__){var z=F.ownerDocument,$=t.getComputedStyle(F);$&&$.position=="static"&&(F.style.position="relative"),M(z),F.__resizeLast__={},F.__resizeListeners__=[],(F.__resizeTriggers__=z.createElement("div")).className="resize-triggers";var J=z.createElement("div");J.className="expand-trigger",J.appendChild(z.createElement("div"));var W=z.createElement("div");W.className="contract-trigger",F.__resizeTriggers__.appendChild(J),F.__resizeTriggers__.appendChild(W),F.appendChild(F.__resizeTriggers__),l(F),F.addEventListener("scroll",u,!0),y&&(F.__resizeTriggers__.__animationListener__=function(ae){ae.animationName==b&&l(F)},F.__resizeTriggers__.addEventListener(y,F.__resizeTriggers__.__animationListener__))}F.__resizeListeners__.push(U)}},B=function(F,U){if(r)F.detachEvent("onresize",U);else if(F.__resizeListeners__.splice(F.__resizeListeners__.indexOf(U),1),!F.__resizeListeners__.length){F.removeEventListener("scroll",u,!0),F.__resizeTriggers__.__animationListener__&&(F.__resizeTriggers__.removeEventListener(y,F.__resizeTriggers__.__animationListener__),F.__resizeTriggers__.__animationListener__=null);try{F.__resizeTriggers__=!F.removeChild(F.__resizeTriggers__)}catch{}}};return{addResizeListener:O,removeResizeListener:B}}function uz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function dz(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?uz(Object(t),!0).forEach(function(r){ue(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):uz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Ege(n,e,t){return e=Pi(e),Fo(n,ZG()?Reflect.construct(e,t||[],Pi(n).constructor):e.apply(n,t))}function ZG(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZG=function(){return!!n})()}var fB=function(n){function e(){var t;ai(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=Ege(this,e,[].concat(a)),ue(t,"state",{height:t.props.defaultHeight||0,width:t.props.defaultWidth||0}),ue(t,"_parentNode",void 0),ue(t,"_autoSizer",void 0),ue(t,"_window",void 0),ue(t,"_detectElementResize",void 0),ue(t,"_onResize",function(){var l=t.props,s=l.disableHeight,u=l.disableWidth,f=l.onResize;if(t._parentNode){var m=t._parentNode.offsetHeight||0,y=t._parentNode.offsetWidth||0,_=t._window||window,E=_.getComputedStyle(t._parentNode)||{},c=parseInt(E.paddingLeft,10)||0,p=parseInt(E.paddingRight,10)||0,g=parseInt(E.paddingTop,10)||0,b=parseInt(E.paddingBottom,10)||0,C=m-g-b,T=y-c-p;(!s&&t.state.height!==C||!u&&t.state.width!==T)&&(t.setState({height:m-g-b,width:y-c-p}),f({height:m,width:y}))}}),ue(t,"_setRef",function(l){t._autoSizer=l}),t}return Ar(e,n),oi(e,[{key:"componentDidMount",value:function(){var r=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._window=this._autoSizer.parentNode.ownerDocument.defaultView,this._detectElementResize=QG(r,this._window),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var r=this.props,a=r.children,o=r.className,l=r.disableHeight,s=r.disableWidth,u=r.style,f=this.state,m=f.height,y=f.width,_={overflow:"visible"},E={};return l||(_.height=0,E.height=m),s||(_.width=0,E.width=y),w.createElement("div",{className:o,ref:this._setRef,style:dz(dz({},_),u)},a(E))}}])}(w.Component);ue(fB,"defaultProps",{onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}});function wge(n,e,t){return e=Pi(e),Fo(n,ek()?Reflect.construct(e,t||[],Pi(n).constructor):e.apply(n,t))}function ek(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ek=function(){return!!n})()}var Age=function(n){function e(){var t;ai(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=wge(this,e,[].concat(a)),ue(t,"_child",w.createRef()),ue(t,"_measure",function(){var l=t.props,s=l.cache,u=l.columnIndex,f=u===void 0?0:u,m=l.parent,y=l.rowIndex,_=y===void 0?t.props.index||0:y,E=t._getCellMeasurements(),c=E.height,p=E.width;(c!==s.getHeight(_,f)||p!==s.getWidth(_,f))&&(s.set(_,f,p,c),m&&typeof m.recomputeGridSize=="function"&&m.recomputeGridSize({columnIndex:f,rowIndex:_}))}),ue(t,"_registerChild",function(l){l&&!(l instanceof Element)&&console.warn("CellMeasurer registerChild expects to be passed Element or null"),t._child.current=l,l&&t._maybeMeasureCell()}),t}return Ar(e,n),oi(e,[{key:"componentDidMount",value:function(){this._maybeMeasureCell()}},{key:"componentDidUpdate",value:function(){this._maybeMeasureCell()}},{key:"render",value:function(){var r=this,a=this.props.children,o=typeof a=="function"?a({measure:this._measure,registerChild:this._registerChild}):a;return o===null?o:w.cloneElement(o,{ref:function(s){typeof o.ref=="function"?o.ref(s):o.ref&&(o.ref.current=s),r._child.current=s}})}},{key:"_getCellMeasurements",value:function(){var r=this.props.cache,a=this._child.current;if(a&&a.ownerDocument&&a.ownerDocument.defaultView&&a instanceof a.ownerDocument.defaultView.HTMLElement){var o=a.style.width,l=a.style.height;r.hasFixedWidth()||(a.style.width="auto"),r.hasFixedHeight()||(a.style.height="auto");var s=Math.ceil(a.offsetHeight),u=Math.ceil(a.offsetWidth);return o&&(a.style.width=o),l&&(a.style.height=l),{height:s,width:u}}else return{height:0,width:0}}},{key:"_maybeMeasureCell",value:function(){var r=this.props,a=r.cache,o=r.columnIndex,l=o===void 0?0:o,s=r.parent,u=r.rowIndex,f=u===void 0?this.props.index||0:u;if(!a.has(f,l)){var m=this._getCellMeasurements(),y=m.height,_=m.width;a.set(f,l,_,y),s&&typeof s.invalidateCellSizeAfterRender=="function"&&s.invalidateCellSizeAfterRender({columnIndex:l,rowIndex:f})}}}])}(w.PureComponent);ue(Age,"__internalCellMeasurerFlag",!1);function tk(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=tk(n[e]))&&(r&&(r+=" "),r+=t);else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function Dc(){for(var n,e,t=0,r="";t<arguments.length;)(n=arguments[t++])&&(e=tk(n))&&(r&&(r+=" "),r+=e);return r}function _0(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e={};return function(t){var r=t.callback,a=t.indices,o=Object.keys(a),l=!n||o.every(function(u){var f=a[u];return Array.isArray(f)?f.length>0:f>=0}),s=o.length!==Object.keys(e).length||o.some(function(u){var f=e[u],m=a[u];return Array.isArray(m)?f.join(",")!==m.join(","):f!==m});e=a,l&&s&&r(a)}}const Mge=!!(typeof window<"u"&&window.document&&window.document.createElement);var CC;function aO(n){if((!CC&&CC!==0||n)&&Mge){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),CC=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return CC}function fz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function hz(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fz(Object(t),!0).forEach(function(r){ue(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):fz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Tge(n,e,t){return e=Pi(e),Fo(n,nk()?Reflect.construct(e,t||[],Pi(n).constructor):e.apply(n,t))}function nk(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nk=function(){return!!n})()}var Rge=150,cv={OBSERVED:"observed",REQUESTED:"requested"},bA=function(n){function e(){var t;ai(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=Tge(this,e,[].concat(a)),ue(t,"state",{isScrolling:!1,scrollLeft:0,scrollTop:0}),ue(t,"_calculateSizeAndPositionDataOnNextUpdate",!1),ue(t,"_onSectionRenderedMemoizer",_0()),ue(t,"_onScrollMemoizer",_0(!1)),ue(t,"_invokeOnSectionRenderedHelper",function(){var l=t.props,s=l.cellLayoutManager,u=l.onSectionRendered;t._onSectionRenderedMemoizer({callback:u,indices:{indices:s.getLastRenderedIndices()}})}),ue(t,"_setScrollingContainerRef",function(l){t._scrollingContainer=l}),ue(t,"_updateScrollPositionForScrollToCell",function(){var l=t.props,s=l.cellLayoutManager,u=l.height,f=l.scrollToAlignment,m=l.scrollToCell,y=l.width,_=t.state,E=_.scrollLeft,c=_.scrollTop;if(m>=0){var p=s.getScrollPositionForCell({align:f,cellIndex:m,height:u,scrollLeft:E,scrollTop:c,width:y});(p.scrollLeft!==E||p.scrollTop!==c)&&t._setScrollPosition(p)}}),ue(t,"_onScroll",function(l){if(l.target===t._scrollingContainer){t._enablePointerEventsAfterDelay();var s=t.props,u=s.cellLayoutManager,f=s.height,m=s.isScrollingChange,y=s.width,_=t._scrollbarSize,E=u.getTotalSize(),c=E.height,p=E.width,g=Math.max(0,Math.min(p-y+_,l.target.scrollLeft)),b=Math.max(0,Math.min(c-f+_,l.target.scrollTop));if(t.state.scrollLeft!==g||t.state.scrollTop!==b){var C=l.cancelable?cv.OBSERVED:cv.REQUESTED;t.state.isScrolling||m(!0),t.setState({isScrolling:!0,scrollLeft:g,scrollPositionChangeReason:C,scrollTop:b})}t._invokeOnScrollMemoizer({scrollLeft:g,scrollTop:b,totalWidth:p,totalHeight:c})}}),t._scrollbarSize=aO(),t._scrollbarSize===void 0?(t._scrollbarSizeMeasured=!1,t._scrollbarSize=0):t._scrollbarSizeMeasured=!0,t}return Ar(e,n),oi(e,[{key:"recomputeCellSizesAndPositions",value:function(){this._calculateSizeAndPositionDataOnNextUpdate=!0,this.forceUpdate()}},{key:"componentDidMount",value:function(){var r=this.props,a=r.cellLayoutManager,o=r.scrollLeft,l=r.scrollToCell,s=r.scrollTop;this._scrollbarSizeMeasured||(this._scrollbarSize=aO(),this._scrollbarSizeMeasured=!0,this.setState({})),l>=0?this._updateScrollPositionForScrollToCell():(o>=0||s>=0)&&this._setScrollPosition({scrollLeft:o,scrollTop:s}),this._invokeOnSectionRenderedHelper();var u=a.getTotalSize(),f=u.height,m=u.width;this._invokeOnScrollMemoizer({scrollLeft:o||0,scrollTop:s||0,totalHeight:f,totalWidth:m})}},{key:"componentDidUpdate",value:function(r,a){var o=this.props,l=o.height,s=o.scrollToAlignment,u=o.scrollToCell,f=o.width,m=this.state,y=m.scrollLeft,_=m.scrollPositionChangeReason,E=m.scrollTop;_===cv.REQUESTED&&(y>=0&&y!==a.scrollLeft&&y!==this._scrollingContainer.scrollLeft&&(this._scrollingContainer.scrollLeft=y),E>=0&&E!==a.scrollTop&&E!==this._scrollingContainer.scrollTop&&(this._scrollingContainer.scrollTop=E)),(l!==r.height||s!==r.scrollToAlignment||u!==r.scrollToCell||f!==r.width)&&this._updateScrollPositionForScrollToCell(),this._invokeOnSectionRenderedHelper()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var r=this.props,a=r.autoHeight,o=r.cellCount,l=r.cellLayoutManager,s=r.className,u=r.height,f=r.horizontalOverscanSize,m=r.id,y=r.noContentRenderer,_=r.style,E=r.verticalOverscanSize,c=r.width,p=this.state,g=p.isScrolling,b=p.scrollLeft,C=p.scrollTop;(this._lastRenderedCellCount!==o||this._lastRenderedCellLayoutManager!==l||this._calculateSizeAndPositionDataOnNextUpdate)&&(this._lastRenderedCellCount=o,this._lastRenderedCellLayoutManager=l,this._calculateSizeAndPositionDataOnNextUpdate=!1,l.calculateSizeAndPositionData());var T=l.getTotalSize(),M=T.height,O=T.width,B=Math.max(0,b-f),P=Math.max(0,C-E),F=Math.min(O,b+c+f),U=Math.min(M,C+u+E),z=u>0&&c>0?l.cellRenderers({height:U-P,isScrolling:g,width:F-B,x:B,y:P}):[],$={boxSizing:"border-box",direction:"ltr",height:a?"auto":u,position:"relative",WebkitOverflowScrolling:"touch",width:c,willChange:"transform"},J=M>u?this._scrollbarSize:0,W=O>c?this._scrollbarSize:0;return $.overflowX=O+J<=c?"hidden":"auto",$.overflowY=M+W<=u?"hidden":"auto",w.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:Dc("ReactVirtualized__Collection",s),id:m,onScroll:this._onScroll,role:"grid",style:hz(hz({},$),_),tabIndex:0},o>0&&w.createElement("div",{className:"ReactVirtualized__Collection__innerScrollContainer",style:{height:M,maxHeight:M,maxWidth:O,overflow:"hidden",pointerEvents:g?"none":"",width:O}},z),o===0&&y())}},{key:"_enablePointerEventsAfterDelay",value:function(){var r=this;this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=setTimeout(function(){var a=r.props.isScrollingChange;a(!1),r._disablePointerEventsTimeoutId=null,r.setState({isScrolling:!1})},Rge)}},{key:"_invokeOnScrollMemoizer",value:function(r){var a=this,o=r.scrollLeft,l=r.scrollTop,s=r.totalHeight,u=r.totalWidth;this._onScrollMemoizer({callback:function(m){var y=m.scrollLeft,_=m.scrollTop,E=a.props,c=E.height,p=E.onScroll,g=E.width;p({clientHeight:c,clientWidth:g,scrollHeight:s,scrollLeft:y,scrollTop:_,scrollWidth:u})},indices:{scrollLeft:o,scrollTop:l}})}},{key:"_setScrollPosition",value:function(r){var a=r.scrollLeft,o=r.scrollTop,l={scrollPositionChangeReason:cv.REQUESTED};a>=0&&(l.scrollLeft=a),o>=0&&(l.scrollTop=o),(a>=0&&a!==this.state.scrollLeft||o>=0&&o!==this.state.scrollTop)&&this.setState(l)}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.cellCount===0&&(a.scrollLeft!==0||a.scrollTop!==0)?{scrollLeft:0,scrollTop:0,scrollPositionChangeReason:cv.REQUESTED}:r.scrollLeft!==a.scrollLeft||r.scrollTop!==a.scrollTop?{scrollLeft:r.scrollLeft!=null?r.scrollLeft:a.scrollLeft,scrollTop:r.scrollTop!=null?r.scrollTop:a.scrollTop,scrollPositionChangeReason:cv.REQUESTED}:null}}])}(w.PureComponent);ue(bA,"defaultProps",{"aria-label":"grid",horizontalOverscanSize:0,noContentRenderer:function(){return null},onScroll:function(){return null},onSectionRendered:function(){return null},scrollToAlignment:"auto",scrollToCell:-1,style:{},verticalOverscanSize:0});bA.propTypes={};JS(bA);var Oge=function(){function n(e){var t=e.height,r=e.width,a=e.x,o=e.y;ai(this,n),this.height=t,this.width=r,this.x=a,this.y=o,this._indexMap={},this._indices=[]}return oi(n,[{key:"addCellIndex",value:function(t){var r=t.index;this._indexMap[r]||(this._indexMap[r]=!0,this._indices.push(r))}},{key:"getCellIndices",value:function(){return this._indices}},{key:"toString",value:function(){return"".concat(this.x,",").concat(this.y," ").concat(this.width,"x").concat(this.height)}}])}(),Ige=100,Bge=function(){function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ige;ai(this,n),this._sectionSize=e,this._cellMetadata=[],this._sections={}}return oi(n,[{key:"getCellIndices",value:function(t){var r=t.height,a=t.width,o=t.x,l=t.y,s={};return this.getSections({height:r,width:a,x:o,y:l}).forEach(function(u){return u.getCellIndices().forEach(function(f){s[f]=f})}),Object.keys(s).map(function(u){return s[u]})}},{key:"getCellMetadata",value:function(t){var r=t.index;return this._cellMetadata[r]}},{key:"getSections",value:function(t){for(var r=t.height,a=t.width,o=t.x,l=t.y,s=Math.floor(o/this._sectionSize),u=Math.floor((o+a-1)/this._sectionSize),f=Math.floor(l/this._sectionSize),m=Math.floor((l+r-1)/this._sectionSize),y=[],_=s;_<=u;_++)for(var E=f;E<=m;E++){var c="".concat(_,".").concat(E);this._sections[c]||(this._sections[c]=new Oge({height:this._sectionSize,width:this._sectionSize,x:_*this._sectionSize,y:E*this._sectionSize})),y.push(this._sections[c])}return y}},{key:"getTotalSectionCount",value:function(){return Object.keys(this._sections).length}},{key:"toString",value:function(){var t=this;return Object.keys(this._sections).map(function(r){return t._sections[r].toString()})}},{key:"registerCell",value:function(t){var r=t.cellMetadatum,a=t.index;this._cellMetadata[a]=r,this.getSections(r).forEach(function(o){return o.addCellIndex({index:a})})}}])}();function Dge(n){for(var e=n.cellCount,t=n.cellSizeAndPositionGetter,r=n.sectionSize,a=[],o=new Bge(r),l=0,s=0,u=0;u<e;u++){var f=t({index:u});if(f.height==null||isNaN(f.height)||f.width==null||isNaN(f.width)||f.x==null||isNaN(f.x)||f.y==null||isNaN(f.y))throw Error("Invalid metadata returned for cell ".concat(u,`:
        x:`).concat(f.x,", y:").concat(f.y,", width:").concat(f.width,", height:").concat(f.height));l=Math.max(l,f.y+f.height),s=Math.max(s,f.x+f.width),a[u]=f,o.registerCell({cellMetadatum:f,index:u})}return{cellMetadata:a,height:l,sectionManager:o,width:s}}function pz(n){var e=n.align,t=e===void 0?"auto":e,r=n.cellOffset,a=n.cellSize,o=n.containerSize,l=n.currentOffset,s=r,u=s-o+a;switch(t){case"start":return s;case"end":return u;case"center":return s-(o-a)/2;default:return Math.max(u,Math.min(s,l))}}function Pge(n,e,t){return e=Pi(e),Fo(n,ik()?Reflect.construct(e,t||[],Pi(n).constructor):e.apply(n,t))}function ik(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ik=function(){return!!n})()}var rk=function(n){function e(t,r){var a;return ai(this,e),a=Pge(this,e,[t,r]),a._cellMetadata=[],a._lastRenderedCellIndices=[],a._cellCache=[],a._isScrollingChange=a._isScrollingChange.bind(a),a._setCollectionViewRef=a._setCollectionViewRef.bind(a),a}return Ar(e,n),oi(e,[{key:"forceUpdate",value:function(){this._collectionView!==void 0&&this._collectionView.forceUpdate()}},{key:"recomputeCellSizesAndPositions",value:function(){this._cellCache=[],this._collectionView.recomputeCellSizesAndPositions()}},{key:"render",value:function(){var r=Pt({},(bte(this.props),this.props));return w.createElement(bA,Pt({cellLayoutManager:this,isScrollingChange:this._isScrollingChange,ref:this._setCollectionViewRef},r))}},{key:"calculateSizeAndPositionData",value:function(){var r=this.props,a=r.cellCount,o=r.cellSizeAndPositionGetter,l=r.sectionSize,s=Dge({cellCount:a,cellSizeAndPositionGetter:o,sectionSize:l});this._cellMetadata=s.cellMetadata,this._sectionManager=s.sectionManager,this._height=s.height,this._width=s.width}},{key:"getLastRenderedIndices",value:function(){return this._lastRenderedCellIndices}},{key:"getScrollPositionForCell",value:function(r){var a=r.align,o=r.cellIndex,l=r.height,s=r.scrollLeft,u=r.scrollTop,f=r.width,m=this.props.cellCount;if(o>=0&&o<m){var y=this._cellMetadata[o];s=pz({align:a,cellOffset:y.x,cellSize:y.width,containerSize:f,currentOffset:s}),u=pz({align:a,cellOffset:y.y,cellSize:y.height,containerSize:l,currentOffset:u})}return{scrollLeft:s,scrollTop:u}}},{key:"getTotalSize",value:function(){return{height:this._height,width:this._width}}},{key:"cellRenderers",value:function(r){var a=this,o=r.height,l=r.isScrolling,s=r.width,u=r.x,f=r.y,m=this.props,y=m.cellGroupRenderer,_=m.cellRenderer;return this._lastRenderedCellIndices=this._sectionManager.getCellIndices({height:o,width:s,x:u,y:f}),y({cellCache:this._cellCache,cellRenderer:_,cellSizeAndPositionGetter:function(c){var p=c.index;return a._sectionManager.getCellMetadata({index:p})},indices:this._lastRenderedCellIndices,isScrolling:l})}},{key:"_isScrollingChange",value:function(r){r||(this._cellCache=[])}},{key:"_setCollectionViewRef",value:function(r){this._collectionView=r}}])}(w.PureComponent);ue(rk,"defaultProps",{"aria-label":"grid",cellGroupRenderer:Lge});rk.propTypes={};function Lge(n){var e=n.cellCache,t=n.cellRenderer,r=n.cellSizeAndPositionGetter,a=n.indices,o=n.isScrolling;return a.map(function(l){var s=r({index:l}),u={index:l,isScrolling:o,key:l,style:{height:s.height,left:s.x,position:"absolute",top:s.y,width:s.width}};return o?(l in e||(e[l]=t(u)),e[l]):t(u)}).filter(function(l){return!!l})}function Nge(n,e,t){return e=Pi(e),Fo(n,ak()?Reflect.construct(e,t||[],Pi(n).constructor):e.apply(n,t))}function ak(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ak=function(){return!!n})()}var zge=function(n){function e(t,r){var a;return ai(this,e),a=Nge(this,e,[t,r]),a._registerChild=a._registerChild.bind(a),a}return Ar(e,n),oi(e,[{key:"componentDidUpdate",value:function(r){var a=this.props,o=a.columnMaxWidth,l=a.columnMinWidth,s=a.columnCount,u=a.width;(o!==r.columnMaxWidth||l!==r.columnMinWidth||s!==r.columnCount||u!==r.width)&&this._registeredChild&&this._registeredChild.recomputeGridSize()}},{key:"render",value:function(){var r=this.props,a=r.children,o=r.columnMaxWidth,l=r.columnMinWidth,s=r.columnCount,u=r.width,f=l||1,m=o?Math.min(o,u):u,y=u/s;y=Math.max(f,y),y=Math.min(m,y),y=Math.floor(y);var _=Math.min(u,y*s);return a({adjustedWidth:_,columnWidth:y,getColumnWidth:function(){return y},registerChild:this._registerChild})}},{key:"_registerChild",value:function(r){if(r&&typeof r.recomputeGridSize!="function")throw Error("Unexpected child type registered; only Grid/MultiGrid children are supported.");this._registeredChild=r,this._registeredChild&&this._registeredChild.recomputeGridSize()}}])}(w.PureComponent);zge.propTypes={};function mz(n){var e=n.cellCount,t=n.cellSize,r=n.computeMetadataCallback,a=n.computeMetadataCallbackProps,o=n.nextCellsCount,l=n.nextCellSize,s=n.nextScrollToIndex,u=n.scrollToIndex,f=n.updateScrollOffsetForScrollToIndex;(e!==o||(typeof t=="number"||typeof l=="number")&&t!==l)&&(r(a),u>=0&&u===s&&f())}var Uge=function(){function n(e){var t=e.cellCount,r=e.cellSizeGetter,a=e.estimatedCellSize;ai(this,n),ue(this,"_cellSizeAndPositionData",{}),ue(this,"_lastMeasuredIndex",-1),ue(this,"_lastBatchedIndex",-1),ue(this,"_cellCount",void 0),ue(this,"_cellSizeGetter",void 0),ue(this,"_estimatedCellSize",void 0),this._cellSizeGetter=r,this._cellCount=t,this._estimatedCellSize=a}return oi(n,[{key:"areOffsetsAdjusted",value:function(){return!1}},{key:"configure",value:function(t){var r=t.cellCount,a=t.estimatedCellSize,o=t.cellSizeGetter;this._cellCount=r,this._estimatedCellSize=a,this._cellSizeGetter=o}},{key:"getCellCount",value:function(){return this._cellCount}},{key:"getEstimatedCellSize",value:function(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function(){return this._lastMeasuredIndex}},{key:"getOffsetAdjustment",value:function(){return 0}},{key:"getSizeAndPositionOfCell",value:function(t){if(t<0||t>=this._cellCount)throw Error("Requested index ".concat(t," is outside of range 0..").concat(this._cellCount));if(t>this._lastMeasuredIndex)for(var r=this.getSizeAndPositionOfLastMeasuredCell(),a=r.offset+r.size,o=this._lastMeasuredIndex+1;o<=t;o++){var l=this._cellSizeGetter({index:o});if(l===void 0||isNaN(l))throw Error("Invalid size returned for cell ".concat(o," of value ").concat(l));l===null?(this._cellSizeAndPositionData[o]={offset:a,size:0},this._lastBatchedIndex=t):(this._cellSizeAndPositionData[o]={offset:a,size:l},a+=l,this._lastMeasuredIndex=t)}return this._cellSizeAndPositionData[t]}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._lastMeasuredIndex>=0?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}}},{key:"getTotalSize",value:function(){var t=this.getSizeAndPositionOfLastMeasuredCell(),r=t.offset+t.size,a=this._cellCount-this._lastMeasuredIndex-1,o=a*this._estimatedCellSize;return r+o}},{key:"getUpdatedOffsetForIndex",value:function(t){var r=t.align,a=r===void 0?"auto":r,o=t.containerSize,l=t.currentOffset,s=t.targetIndex;if(o<=0)return 0;var u=this.getSizeAndPositionOfCell(s),f=u.offset,m=f-o+u.size,y;switch(a){case"start":y=f;break;case"end":y=m;break;case"center":y=f-(o-u.size)/2;break;default:y=Math.max(m,Math.min(f,l));break}var _=this.getTotalSize();return Math.max(0,Math.min(_-o,y))}},{key:"getVisibleCellRange",value:function(t){var r=t.containerSize,a=t.offset,o=this.getTotalSize();if(o===0)return{};var l=a+r,s=this._findNearestCell(a),u=this.getSizeAndPositionOfCell(s);a=u.offset+u.size;for(var f=s;a<l&&f<this._cellCount-1;)f++,a+=this.getSizeAndPositionOfCell(f).size;return{start:s,stop:f}}},{key:"resetCell",value:function(t){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,t-1)}},{key:"_binarySearch",value:function(t,r,a){for(;r<=t;){var o=r+Math.floor((t-r)/2),l=this.getSizeAndPositionOfCell(o).offset;if(l===a)return o;l<a?r=o+1:l>a&&(t=o-1)}return r>0?r-1:0}},{key:"_exponentialSearch",value:function(t,r){for(var a=1;t<this._cellCount&&this.getSizeAndPositionOfCell(t).offset<r;)t+=a,a*=2;return this._binarySearch(Math.min(t,this._cellCount-1),Math.floor(t/2),r)}},{key:"_findNearestCell",value:function(t){if(isNaN(t))throw Error("Invalid offset ".concat(t," specified"));t=Math.max(0,t);var r=this.getSizeAndPositionOfLastMeasuredCell(),a=Math.max(0,this._lastMeasuredIndex);return r.offset>=t?this._binarySearch(a,0,t):this._exponentialSearch(a,t)}}])}(),Fge=15e5,Hge=16777100,Gge=function(){return typeof window<"u"},kge=function(){return!!window.chrome},$ge=function(){return Gge()&&kge()?Hge:Fge},Vge=["maxScrollSize"],gz=function(){function n(e){var t=e.maxScrollSize,r=t===void 0?$ge():t,a=kn(e,Vge);ai(this,n),ue(this,"_cellSizeAndPositionManager",void 0),ue(this,"_maxScrollSize",void 0),this._cellSizeAndPositionManager=new Uge(a),this._maxScrollSize=r}return oi(n,[{key:"areOffsetsAdjusted",value:function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:"configure",value:function(t){this._cellSizeAndPositionManager.configure(t)}},{key:"getCellCount",value:function(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function(t){var r=t.containerSize,a=t.offset,o=this._cellSizeAndPositionManager.getTotalSize(),l=this.getTotalSize(),s=this._getOffsetPercentage({containerSize:r,offset:a,totalSize:l});return Math.round(s*(l-o))}},{key:"getSizeAndPositionOfCell",value:function(t){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(t)}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function(t){var r=t.align,a=r===void 0?"auto":r,o=t.containerSize,l=t.currentOffset,s=t.targetIndex;l=this._safeOffsetToOffset({containerSize:o,offset:l});var u=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:a,containerSize:o,currentOffset:l,targetIndex:s});return this._offsetToSafeOffset({containerSize:o,offset:u})}},{key:"getVisibleCellRange",value:function(t){var r=t.containerSize,a=t.offset;return a=this._safeOffsetToOffset({containerSize:r,offset:a}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:r,offset:a})}},{key:"resetCell",value:function(t){this._cellSizeAndPositionManager.resetCell(t)}},{key:"_getOffsetPercentage",value:function(t){var r=t.containerSize,a=t.offset,o=t.totalSize;return o<=r?0:a/(o-r)}},{key:"_offsetToSafeOffset",value:function(t){var r=t.containerSize,a=t.offset,o=this._cellSizeAndPositionManager.getTotalSize(),l=this.getTotalSize();if(o===l)return a;var s=this._getOffsetPercentage({containerSize:r,offset:a,totalSize:o});return Math.round(s*(l-r))}},{key:"_safeOffsetToOffset",value:function(t){var r=t.containerSize,a=t.offset,o=this._cellSizeAndPositionManager.getTotalSize(),l=this.getTotalSize();if(o===l)return a;var s=this._getOffsetPercentage({containerSize:r,offset:a,totalSize:l});return Math.round(s*(o-r))}}])}(),EC=-1,Yd=1;function jge(n){var e=n.cellCount,t=n.overscanCellsCount,r=n.scrollDirection,a=n.startIndex,o=n.stopIndex;return r===Yd?{overscanStartIndex:Math.max(0,a),overscanStopIndex:Math.min(e-1,o+t)}:{overscanStartIndex:Math.max(0,a-t),overscanStopIndex:Math.min(e-1,o)}}function vz(n){var e=n.cellSize,t=n.cellSizeAndPositionManager,r=n.previousCellsCount,a=n.previousCellSize,o=n.previousScrollToAlignment,l=n.previousScrollToIndex,s=n.previousSize,u=n.scrollOffset,f=n.scrollToAlignment,m=n.scrollToIndex,y=n.size,_=n.sizeJustIncreasedFromZero,E=n.updateScrollIndexCallback,c=t.getCellCount(),p=m>=0&&m<c,g=y!==s||_||!a||typeof e=="number"&&e!==a;p&&(g||f!==o||m!==l)?E(m):!p&&c>0&&(y<s||c<r)&&u>t.getTotalSize()-y&&E(c-1)}function Wge(n){for(var e=n.cellCache,t=n.cellRenderer,r=n.columnSizeAndPositionManager,a=n.columnStartIndex,o=n.columnStopIndex,l=n.deferredMeasurementCache,s=n.horizontalOffsetAdjustment,u=n.isScrolling,f=n.isScrollingOptOut,m=n.parent,y=n.rowSizeAndPositionManager,_=n.rowStartIndex,E=n.rowStopIndex,c=n.styleCache,p=n.verticalOffsetAdjustment,g=n.visibleColumnIndices,b=n.visibleRowIndices,C=[],T=r.areOffsetsAdjusted()||y.areOffsetsAdjusted(),M=!u&&!T,O=_;O<=E;O++)for(var B=y.getSizeAndPositionOfCell(O),P=a;P<=o;P++){var F=r.getSizeAndPositionOfCell(P),U=P>=g.start&&P<=g.stop&&O>=b.start&&O<=b.stop,z="".concat(O,"-").concat(P),$=void 0;M&&c[z]?$=c[z]:l&&!l.has(O,P)?$={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:($={height:B.size,left:F.offset+s,position:"absolute",top:B.offset+p,width:F.size},c[z]=$);var J={columnIndex:P,isScrolling:u,isVisible:U,key:z,parent:m,rowIndex:O,style:$},W=void 0;(f||u)&&!s&&!p?(e[z]||(e[z]=t(J)),W=e[z]):W=t(J),!(W==null||W===!1)&&(W.props.role||(W=Xe.cloneElement(W,{role:"gridcell"})),C.push(W))}return C}var os;typeof window<"u"?os=window:typeof self<"u"?os=self:os={};var Xge=os.requestAnimationFrame||os.webkitRequestAnimationFrame||os.mozRequestAnimationFrame||os.oRequestAnimationFrame||os.msRequestAnimationFrame||function(n){return os.setTimeout(n,1e3/60)},Yge=os.cancelAnimationFrame||os.webkitCancelAnimationFrame||os.mozCancelAnimationFrame||os.oCancelAnimationFrame||os.msCancelAnimationFrame||function(n){os.clearTimeout(n)},yz=Xge,qge=Yge,x0=function(e){return qge(e.id)},hB=function(e,t){var r;Promise.resolve().then(function(){r=Date.now()});var a=function(){Date.now()-r>=t?e.call():o.id=yz(a)},o={id:yz(a)};return o};function bz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function ws(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bz(Object(t),!0).forEach(function(r){ue(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):bz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Kge(n,e,t){return e=Pi(e),Fo(n,ok()?Reflect.construct(e,t||[],Pi(n).constructor):e.apply(n,t))}function ok(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ok=function(){return!!n})()}var Jge=150,cR={OBSERVED:"observed",REQUESTED:"requested"},Qge=function(){return null},ju=function(n){function e(t){var r;ai(this,e),r=Kge(this,e,[t]),ue(r,"_onGridRenderedMemoizer",_0()),ue(r,"_onScrollMemoizer",_0(!1)),ue(r,"_deferredInvalidateColumnIndex",null),ue(r,"_deferredInvalidateRowIndex",null),ue(r,"_recomputeScrollLeftFlag",!1),ue(r,"_recomputeScrollTopFlag",!1),ue(r,"_horizontalScrollBarSize",0),ue(r,"_verticalScrollBarSize",0),ue(r,"_scrollbarPresenceChanged",!1),ue(r,"_scrollingContainer",void 0),ue(r,"_childrenToDisplay",void 0),ue(r,"_columnStartIndex",void 0),ue(r,"_columnStopIndex",void 0),ue(r,"_rowStartIndex",void 0),ue(r,"_rowStopIndex",void 0),ue(r,"_renderedColumnStartIndex",0),ue(r,"_renderedColumnStopIndex",0),ue(r,"_renderedRowStartIndex",0),ue(r,"_renderedRowStopIndex",0),ue(r,"_initialScrollTop",void 0),ue(r,"_initialScrollLeft",void 0),ue(r,"_disablePointerEventsTimeoutId",void 0),ue(r,"_styleCache",{}),ue(r,"_cellCache",{}),ue(r,"_debounceScrollEndedCallback",function(){r._disablePointerEventsTimeoutId=null,r.setState({isScrolling:!1,needToResetStyleCache:!1})}),ue(r,"_invokeOnGridRenderedHelper",function(){var l=r.props.onSectionRendered;r._onGridRenderedMemoizer({callback:l,indices:{columnOverscanStartIndex:r._columnStartIndex,columnOverscanStopIndex:r._columnStopIndex,columnStartIndex:r._renderedColumnStartIndex,columnStopIndex:r._renderedColumnStopIndex,rowOverscanStartIndex:r._rowStartIndex,rowOverscanStopIndex:r._rowStopIndex,rowStartIndex:r._renderedRowStartIndex,rowStopIndex:r._renderedRowStopIndex}})}),ue(r,"_setScrollingContainerRef",function(l){r._scrollingContainer=l,typeof r.props.elementRef=="function"?r.props.elementRef(l):mn(r.props.elementRef)==="object"&&(r.props.elementRef.current=l)}),ue(r,"_onScroll",function(l){l.target===r._scrollingContainer&&r.handleScrollEvent(l.target)});var a=new gz({cellCount:t.columnCount,cellSizeGetter:function(s){return e._wrapSizeGetter(t.columnWidth)(s)},estimatedCellSize:e._getEstimatedColumnSize(t)}),o=new gz({cellCount:t.rowCount,cellSizeGetter:function(s){return e._wrapSizeGetter(t.rowHeight)(s)},estimatedCellSize:e._getEstimatedRowSize(t)});return r.state={instanceProps:{columnSizeAndPositionManager:a,rowSizeAndPositionManager:o,prevColumnWidth:t.columnWidth,prevRowHeight:t.rowHeight,prevColumnCount:t.columnCount,prevRowCount:t.rowCount,prevIsScrolling:t.isScrolling===!0,prevScrollToColumn:t.scrollToColumn,prevScrollToRow:t.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:Yd,scrollDirectionVertical:Yd,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1},t.scrollToRow>0&&(r._initialScrollTop=r._getCalculatedScrollTop(t,r.state)),t.scrollToColumn>0&&(r._initialScrollLeft=r._getCalculatedScrollLeft(t,r.state)),r}return Ar(e,n),oi(e,[{key:"getOffsetForCell",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=r.alignment,o=a===void 0?this.props.scrollToAlignment:a,l=r.columnIndex,s=l===void 0?this.props.scrollToColumn:l,u=r.rowIndex,f=u===void 0?this.props.scrollToRow:u,m=ws(ws({},this.props),{},{scrollToAlignment:o,scrollToColumn:s,scrollToRow:f});return{scrollLeft:this._getCalculatedScrollLeft(m),scrollTop:this._getCalculatedScrollTop(m)}}},{key:"getTotalRowsHeight",value:function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()}},{key:"getTotalColumnsWidth",value:function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()}},{key:"handleScrollEvent",value:function(r){var a=r.scrollLeft,o=a===void 0?0:a,l=r.scrollTop,s=l===void 0?0:l;if(!(s<0)){this._debounceScrollEnded();var u=this.props,f=u.autoHeight,m=u.autoWidth,y=u.height,_=u.width,E=this.state.instanceProps,c=E.scrollbarSize,p=E.rowSizeAndPositionManager.getTotalSize(),g=E.columnSizeAndPositionManager.getTotalSize(),b=Math.min(Math.max(0,g-_+c),o),C=Math.min(Math.max(0,p-y+c),s);if(this.state.scrollLeft!==b||this.state.scrollTop!==C){var T=b!==this.state.scrollLeft?b>this.state.scrollLeft?Yd:EC:this.state.scrollDirectionHorizontal,M=C!==this.state.scrollTop?C>this.state.scrollTop?Yd:EC:this.state.scrollDirectionVertical,O={isScrolling:!0,scrollDirectionHorizontal:T,scrollDirectionVertical:M,scrollPositionChangeReason:cR.OBSERVED};f||(O.scrollTop=C),m||(O.scrollLeft=b),O.needToResetStyleCache=!1,this.setState(O)}this._invokeOnScrollMemoizer({scrollLeft:b,scrollTop:C,totalColumnsWidth:g,totalRowsHeight:p})}}},{key:"invalidateCellSizeAfterRender",value:function(r){var a=r.columnIndex,o=r.rowIndex;this._deferredInvalidateColumnIndex=typeof this._deferredInvalidateColumnIndex=="number"?Math.min(this._deferredInvalidateColumnIndex,a):a,this._deferredInvalidateRowIndex=typeof this._deferredInvalidateRowIndex=="number"?Math.min(this._deferredInvalidateRowIndex,o):o}},{key:"measureAllCells",value:function(){var r=this.props,a=r.columnCount,o=r.rowCount,l=this.state.instanceProps;l.columnSizeAndPositionManager.getSizeAndPositionOfCell(a-1),l.rowSizeAndPositionManager.getSizeAndPositionOfCell(o-1)}},{key:"recomputeGridSize",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=r.columnIndex,o=a===void 0?0:a,l=r.rowIndex,s=l===void 0?0:l,u=this.props,f=u.scrollToColumn,m=u.scrollToRow,y=this.state.instanceProps;y.columnSizeAndPositionManager.resetCell(o),y.rowSizeAndPositionManager.resetCell(s),this._recomputeScrollLeftFlag=f>=0&&(this.state.scrollDirectionHorizontal===Yd?o<=f:o>=f),this._recomputeScrollTopFlag=m>=0&&(this.state.scrollDirectionVertical===Yd?s<=m:s>=m),this._styleCache={},this._cellCache={},this.forceUpdate()}},{key:"scrollToCell",value:function(r){var a=r.columnIndex,o=r.rowIndex,l=this.props.columnCount,s=this.props;l>1&&a!==void 0&&this._updateScrollLeftForScrollToColumn(ws(ws({},s),{},{scrollToColumn:a})),o!==void 0&&this._updateScrollTopForScrollToRow(ws(ws({},s),{},{scrollToRow:o}))}},{key:"componentDidMount",value:function(){var r=this.props,a=r.getScrollbarSize,o=r.height,l=r.scrollLeft,s=r.scrollToColumn,u=r.scrollTop,f=r.scrollToRow,m=r.width,y=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),y.scrollbarSizeMeasured||this.setState(function(c){var p=ws(ws({},c),{},{needToResetStyleCache:!1});return p.instanceProps.scrollbarSize=a(),p.instanceProps.scrollbarSizeMeasured=!0,p}),typeof l=="number"&&l>=0||typeof u=="number"&&u>=0){var _=e._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:l,scrollTop:u});_&&(_.needToResetStyleCache=!1,this.setState(_))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var E=o>0&&m>0;s>=0&&E&&this._updateScrollLeftForScrollToColumn(),f>=0&&E&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:l||0,scrollTop:u||0,totalColumnsWidth:y.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:y.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()}},{key:"componentDidUpdate",value:function(r,a){var o=this,l=this.props,s=l.autoHeight,u=l.autoWidth,f=l.columnCount,m=l.height,y=l.rowCount,_=l.scrollToAlignment,E=l.scrollToColumn,c=l.scrollToRow,p=l.width,g=this.state,b=g.scrollLeft,C=g.scrollPositionChangeReason,T=g.scrollTop,M=g.instanceProps;this._handleInvalidatedGridSize();var O=f>0&&r.columnCount===0||y>0&&r.rowCount===0;C===cR.REQUESTED&&(!u&&b>=0&&(b!==this._scrollingContainer.scrollLeft||O)&&(this._scrollingContainer.scrollLeft=b),!s&&T>=0&&(T!==this._scrollingContainer.scrollTop||O)&&(this._scrollingContainer.scrollTop=T));var B=(r.width===0||r.height===0)&&m>0&&p>0;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):vz({cellSizeAndPositionManager:M.columnSizeAndPositionManager,previousCellsCount:r.columnCount,previousCellSize:r.columnWidth,previousScrollToAlignment:r.scrollToAlignment,previousScrollToIndex:r.scrollToColumn,previousSize:r.width,scrollOffset:b,scrollToAlignment:_,scrollToIndex:E,size:p,sizeJustIncreasedFromZero:B,updateScrollIndexCallback:function(){return o._updateScrollLeftForScrollToColumn(o.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):vz({cellSizeAndPositionManager:M.rowSizeAndPositionManager,previousCellsCount:r.rowCount,previousCellSize:r.rowHeight,previousScrollToAlignment:r.scrollToAlignment,previousScrollToIndex:r.scrollToRow,previousSize:r.height,scrollOffset:T,scrollToAlignment:_,scrollToIndex:c,size:m,sizeJustIncreasedFromZero:B,updateScrollIndexCallback:function(){return o._updateScrollTopForScrollToRow(o.props)}}),this._invokeOnGridRenderedHelper(),b!==a.scrollLeft||T!==a.scrollTop){var P=M.rowSizeAndPositionManager.getTotalSize(),F=M.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:b,scrollTop:T,totalColumnsWidth:F,totalRowsHeight:P})}this._maybeCallOnScrollbarPresenceChange()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&x0(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var r=this.props,a=r.autoContainerWidth,o=r.autoHeight,l=r.autoWidth,s=r.className,u=r.containerProps,f=r.containerRole,m=r.containerStyle,y=r.height,_=r.id,E=r.noContentRenderer,c=r.role,p=r.style,g=r.tabIndex,b=r.width,C=this.state,T=C.instanceProps,M=C.needToResetStyleCache,O=this._isScrolling(),B={boxSizing:"border-box",direction:"ltr",height:o?"auto":y,position:"relative",width:l?"auto":b,WebkitOverflowScrolling:"touch",willChange:"transform"};M&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var P=T.columnSizeAndPositionManager.getTotalSize(),F=T.rowSizeAndPositionManager.getTotalSize(),U=F>y?T.scrollbarSize:0,z=P>b?T.scrollbarSize:0;(z!==this._horizontalScrollBarSize||U!==this._verticalScrollBarSize)&&(this._horizontalScrollBarSize=z,this._verticalScrollBarSize=U,this._scrollbarPresenceChanged=!0),B.overflowX=P+U<=b?"hidden":"auto",B.overflowY=F+z<=y?"hidden":"auto";var $=this._childrenToDisplay,J=$.length===0&&y>0&&b>0;return w.createElement("div",Pt({ref:this._setScrollingContainerRef},u,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:Dc("ReactVirtualized__Grid",s),id:_,onScroll:this._onScroll,role:c,style:ws(ws({},B),p),tabIndex:g}),$.length>0&&w.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:f,style:ws({width:a?"auto":P,height:F,maxWidth:P,maxHeight:F,overflow:"hidden",pointerEvents:O?"none":"",position:"relative"},m)},$),J&&E())}},{key:"_calculateChildrenToRender",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,o=r.cellRenderer,l=r.cellRangeRenderer,s=r.columnCount,u=r.deferredMeasurementCache,f=r.height,m=r.overscanColumnCount,y=r.overscanIndicesGetter,_=r.overscanRowCount,E=r.rowCount,c=r.width,p=r.isScrollingOptOut,g=a.scrollDirectionHorizontal,b=a.scrollDirectionVertical,C=a.instanceProps,T=this._initialScrollTop>0?this._initialScrollTop:a.scrollTop,M=this._initialScrollLeft>0?this._initialScrollLeft:a.scrollLeft,O=this._isScrolling(r,a);if(this._childrenToDisplay=[],f>0&&c>0){var B=C.columnSizeAndPositionManager.getVisibleCellRange({containerSize:c,offset:M}),P=C.rowSizeAndPositionManager.getVisibleCellRange({containerSize:f,offset:T}),F=C.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:c,offset:M}),U=C.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:f,offset:T});this._renderedColumnStartIndex=B.start,this._renderedColumnStopIndex=B.stop,this._renderedRowStartIndex=P.start,this._renderedRowStopIndex=P.stop;var z=y({direction:"horizontal",cellCount:s,overscanCellsCount:m,scrollDirection:g,startIndex:typeof B.start=="number"?B.start:0,stopIndex:typeof B.stop=="number"?B.stop:-1}),$=y({direction:"vertical",cellCount:E,overscanCellsCount:_,scrollDirection:b,startIndex:typeof P.start=="number"?P.start:0,stopIndex:typeof P.stop=="number"?P.stop:-1}),J=z.overscanStartIndex,W=z.overscanStopIndex,Q=$.overscanStartIndex,ae=$.overscanStopIndex;if(u){if(!u.hasFixedHeight()){for(var Y=Q;Y<=ae;Y++)if(!u.has(Y,0)){J=0,W=s-1;break}}if(!u.hasFixedWidth()){for(var K=J;K<=W;K++)if(!u.has(0,K)){Q=0,ae=E-1;break}}}this._childrenToDisplay=l({cellCache:this._cellCache,cellRenderer:o,columnSizeAndPositionManager:C.columnSizeAndPositionManager,columnStartIndex:J,columnStopIndex:W,deferredMeasurementCache:u,horizontalOffsetAdjustment:F,isScrolling:O,isScrollingOptOut:p,parent:this,rowSizeAndPositionManager:C.rowSizeAndPositionManager,rowStartIndex:Q,rowStopIndex:ae,scrollLeft:M,scrollTop:T,styleCache:this._styleCache,verticalOffsetAdjustment:U,visibleColumnIndices:B,visibleRowIndices:P}),this._columnStartIndex=J,this._columnStopIndex=W,this._rowStartIndex=Q,this._rowStopIndex=ae}}},{key:"_debounceScrollEnded",value:function(){var r=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&x0(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=hB(this._debounceScrollEndedCallback,r)}},{key:"_handleInvalidatedGridSize",value:function(){if(typeof this._deferredInvalidateColumnIndex=="number"&&typeof this._deferredInvalidateRowIndex=="number"){var r=this._deferredInvalidateColumnIndex,a=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:r,rowIndex:a})}}},{key:"_invokeOnScrollMemoizer",value:function(r){var a=this,o=r.scrollLeft,l=r.scrollTop,s=r.totalColumnsWidth,u=r.totalRowsHeight;this._onScrollMemoizer({callback:function(m){var y=m.scrollLeft,_=m.scrollTop,E=a.props,c=E.height,p=E.onScroll,g=E.width;p({clientHeight:c,clientWidth:g,scrollHeight:u,scrollLeft:y,scrollTop:_,scrollWidth:s})},indices:{scrollLeft:o,scrollTop:l}})}},{key:"_isScrolling",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return Object.hasOwnProperty.call(r,"isScrolling")?!!r.isScrolling:!!a.isScrolling}},{key:"_maybeCallOnScrollbarPresenceChange",value:function(){if(this._scrollbarPresenceChanged){var r=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,r({horizontal:this._horizontalScrollBarSize>0,size:this.state.instanceProps.scrollbarSize,vertical:this._verticalScrollBarSize>0})}}},{key:"scrollToPosition",value:function(r){var a=r.scrollLeft,o=r.scrollTop,l=e._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:a,scrollTop:o});l&&(l.needToResetStyleCache=!1,this.setState(l))}},{key:"_getCalculatedScrollLeft",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return e._getCalculatedScrollLeft(r,a)}},{key:"_updateScrollLeftForScrollToColumn",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,o=e._getScrollLeftForScrollToColumnStateUpdate(r,a);o&&(o.needToResetStyleCache=!1,this.setState(o))}},{key:"_getCalculatedScrollTop",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return e._getCalculatedScrollTop(r,a)}},{key:"_resetStyleCache",value:function(){var r=this._styleCache,a=this._cellCache,o=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var l=this._rowStartIndex;l<=this._rowStopIndex;l++)for(var s=this._columnStartIndex;s<=this._columnStopIndex;s++){var u="".concat(l,"-").concat(s);this._styleCache[u]=r[u],o&&(this._cellCache[u]=a[u])}}},{key:"_updateScrollTopForScrollToRow",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,o=e._getScrollTopForScrollToRowStateUpdate(r,a);o&&(o.needToResetStyleCache=!1,this.setState(o))}}],[{key:"getDerivedStateFromProps",value:function(r,a){var o={};r.columnCount===0&&a.scrollLeft!==0||r.rowCount===0&&a.scrollTop!==0?(o.scrollLeft=0,o.scrollTop=0):(r.scrollLeft!==a.scrollLeft&&r.scrollToColumn<0||r.scrollTop!==a.scrollTop&&r.scrollToRow<0)&&Object.assign(o,e._getScrollToPositionStateUpdate({prevState:a,scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}));var l=a.instanceProps;o.needToResetStyleCache=!1,(r.columnWidth!==l.prevColumnWidth||r.rowHeight!==l.prevRowHeight)&&(o.needToResetStyleCache=!0),l.columnSizeAndPositionManager.configure({cellCount:r.columnCount,estimatedCellSize:e._getEstimatedColumnSize(r),cellSizeGetter:e._wrapSizeGetter(r.columnWidth)}),l.rowSizeAndPositionManager.configure({cellCount:r.rowCount,estimatedCellSize:e._getEstimatedRowSize(r),cellSizeGetter:e._wrapSizeGetter(r.rowHeight)}),(l.prevColumnCount===0||l.prevRowCount===0)&&(l.prevColumnCount=0,l.prevRowCount=0),r.autoHeight&&r.isScrolling===!1&&l.prevIsScrolling===!0&&Object.assign(o,{isScrolling:!1});var s,u;return mz({cellCount:l.prevColumnCount,cellSize:typeof l.prevColumnWidth=="number"?l.prevColumnWidth:null,computeMetadataCallback:function(){return l.columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:r,nextCellsCount:r.columnCount,nextCellSize:typeof r.columnWidth=="number"?r.columnWidth:null,nextScrollToIndex:r.scrollToColumn,scrollToIndex:l.prevScrollToColumn,updateScrollOffsetForScrollToIndex:function(){s=e._getScrollLeftForScrollToColumnStateUpdate(r,a)}}),mz({cellCount:l.prevRowCount,cellSize:typeof l.prevRowHeight=="number"?l.prevRowHeight:null,computeMetadataCallback:function(){return l.rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:r,nextCellsCount:r.rowCount,nextCellSize:typeof r.rowHeight=="number"?r.rowHeight:null,nextScrollToIndex:r.scrollToRow,scrollToIndex:l.prevScrollToRow,updateScrollOffsetForScrollToIndex:function(){u=e._getScrollTopForScrollToRowStateUpdate(r,a)}}),l.prevColumnCount=r.columnCount,l.prevColumnWidth=r.columnWidth,l.prevIsScrolling=r.isScrolling===!0,l.prevRowCount=r.rowCount,l.prevRowHeight=r.rowHeight,l.prevScrollToColumn=r.scrollToColumn,l.prevScrollToRow=r.scrollToRow,l.scrollbarSize=r.getScrollbarSize(),l.scrollbarSize===void 0?(l.scrollbarSizeMeasured=!1,l.scrollbarSize=0):l.scrollbarSizeMeasured=!0,o.instanceProps=l,ws(ws(ws({},o),s),u)}},{key:"_getEstimatedColumnSize",value:function(r){return typeof r.columnWidth=="number"?r.columnWidth:r.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function(r){return typeof r.rowHeight=="number"?r.rowHeight:r.estimatedRowSize}},{key:"_getScrollToPositionStateUpdate",value:function(r){var a=r.prevState,o=r.scrollLeft,l=r.scrollTop,s={scrollPositionChangeReason:cR.REQUESTED};return typeof o=="number"&&o>=0&&(s.scrollDirectionHorizontal=o>a.scrollLeft?Yd:EC,s.scrollLeft=o),typeof l=="number"&&l>=0&&(s.scrollDirectionVertical=l>a.scrollTop?Yd:EC,s.scrollTop=l),typeof o=="number"&&o>=0&&o!==a.scrollLeft||typeof l=="number"&&l>=0&&l!==a.scrollTop?s:{}}},{key:"_wrapSizeGetter",value:function(r){return typeof r=="function"?r:function(){return r}}},{key:"_getCalculatedScrollLeft",value:function(r,a){var o=r.columnCount,l=r.height,s=r.scrollToAlignment,u=r.scrollToColumn,f=r.width,m=a.scrollLeft,y=a.instanceProps;if(o>0){var _=o-1,E=u<0?_:Math.min(_,u),c=y.rowSizeAndPositionManager.getTotalSize(),p=y.scrollbarSizeMeasured&&c>l?y.scrollbarSize:0;return y.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:s,containerSize:f-p,currentOffset:m,targetIndex:E})}return 0}},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:function(r,a){var o=a.scrollLeft,l=e._getCalculatedScrollLeft(r,a);return typeof l=="number"&&l>=0&&o!==l?e._getScrollToPositionStateUpdate({prevState:a,scrollLeft:l,scrollTop:-1}):{}}},{key:"_getCalculatedScrollTop",value:function(r,a){var o=r.height,l=r.rowCount,s=r.scrollToAlignment,u=r.scrollToRow,f=r.width,m=a.scrollTop,y=a.instanceProps;if(l>0){var _=l-1,E=u<0?_:Math.min(_,u),c=y.columnSizeAndPositionManager.getTotalSize(),p=y.scrollbarSizeMeasured&&c>f?y.scrollbarSize:0;return y.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:s,containerSize:o-p,currentOffset:m,targetIndex:E})}return 0}},{key:"_getScrollTopForScrollToRowStateUpdate",value:function(r,a){var o=a.scrollTop,l=e._getCalculatedScrollTop(r,a);return typeof l=="number"&&l>=0&&o!==l?e._getScrollToPositionStateUpdate({prevState:a,scrollLeft:-1,scrollTop:l}):{}}}])}(w.PureComponent);ue(ju,"defaultProps",{"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:Wge,containerRole:"row",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:aO,noContentRenderer:Qge,onScroll:function(){},onScrollbarPresenceChange:function(){},onSectionRendered:function(){},overscanColumnCount:0,overscanIndicesGetter:jge,overscanRowCount:10,role:"grid",scrollingResetTimeInterval:Jge,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1});JS(ju);var Zge=1;function sk(n){var e=n.cellCount,t=n.overscanCellsCount,r=n.scrollDirection,a=n.startIndex,o=n.stopIndex;return t=Math.max(1,t),r===Zge?{overscanStartIndex:Math.max(0,a-1),overscanStopIndex:Math.min(e-1,o+t)}:{overscanStartIndex:Math.max(0,a-t),overscanStopIndex:Math.min(e-1,o+1)}}function eve(n,e,t){return e=Pi(e),Fo(n,lk()?Reflect.construct(e,t||[],Pi(n).constructor):e.apply(n,t))}function lk(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lk=function(){return!!n})()}var ck=function(n){function e(t,r){var a;return ai(this,e),a=eve(this,e,[t,r]),a._loadMoreRowsMemoizer=_0(),a._onRowsRendered=a._onRowsRendered.bind(a),a._registerChild=a._registerChild.bind(a),a}return Ar(e,n),oi(e,[{key:"resetLoadMoreRowsCache",value:function(r){this._loadMoreRowsMemoizer=_0(),r&&this._doStuff(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"render",value:function(){var r=this.props.children;return r({onRowsRendered:this._onRowsRendered,registerChild:this._registerChild})}},{key:"_loadUnloadedRanges",value:function(r){var a=this,o=this.props.loadMoreRows;r.forEach(function(l){var s=o(l);s&&s.then(function(){tve({lastRenderedStartIndex:a._lastRenderedStartIndex,lastRenderedStopIndex:a._lastRenderedStopIndex,startIndex:l.startIndex,stopIndex:l.stopIndex})&&a._registeredChild&&ive(a._registeredChild,a._lastRenderedStartIndex)})})}},{key:"_onRowsRendered",value:function(r){var a=r.startIndex,o=r.stopIndex;this._lastRenderedStartIndex=a,this._lastRenderedStopIndex=o,this._doStuff(a,o)}},{key:"_doStuff",value:function(r,a){var o,l=this,s=this.props,u=s.isRowLoaded,f=s.minimumBatchSize,m=s.rowCount,y=s.threshold,_=nve({isRowLoaded:u,minimumBatchSize:f,rowCount:m,startIndex:Math.max(0,r-y),stopIndex:Math.min(m-1,a+y)}),E=(o=[]).concat.apply(o,Kt(_.map(function(c){var p=c.startIndex,g=c.stopIndex;return[p,g]})));this._loadMoreRowsMemoizer({callback:function(){l._loadUnloadedRanges(_)},indices:{squashedUnloadedRanges:E}})}},{key:"_registerChild",value:function(r){this._registeredChild=r}}])}(w.PureComponent);ue(ck,"defaultProps",{minimumBatchSize:10,rowCount:0,threshold:15});ck.propTypes={};function tve(n){var e=n.lastRenderedStartIndex,t=n.lastRenderedStopIndex,r=n.startIndex,a=n.stopIndex;return!(r>t||a<e)}function nve(n){for(var e=n.isRowLoaded,t=n.minimumBatchSize,r=n.rowCount,a=n.startIndex,o=n.stopIndex,l=[],s=null,u=null,f=a;f<=o;f++){var m=e({index:f});m?u!==null&&(l.push({startIndex:s,stopIndex:u}),s=u=null):(u=f,s===null&&(s=f))}if(u!==null){for(var y=Math.min(Math.max(u,s+t-1),r-1),_=u+1;_<=y&&!e({index:_});_++)u=_;l.push({startIndex:s,stopIndex:u})}if(l.length)for(var E=l[0];E.stopIndex-E.startIndex+1<t&&E.startIndex>0;){var c=E.startIndex-1;if(!e({index:c}))E.startIndex=c;else break}return l}function ive(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=typeof n.recomputeGridSize=="function"?n.recomputeGridSize:n.recomputeRowHeights;t?t.call(n,e):n.forceUpdate()}function rve(n,e,t){return e=Pi(e),Fo(n,uk()?Reflect.construct(e,t||[],Pi(n).constructor):e.apply(n,t))}function uk(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uk=function(){return!!n})()}var ave=function(n){function e(){var t;ai(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=rve(this,e,[].concat(a)),ue(t,"Grid",void 0),ue(t,"_cellRenderer",function(l){var s=l.parent,u=l.rowIndex,f=l.style,m=l.isScrolling,y=l.isVisible,_=l.key,E=t.props.rowRenderer,c=Object.getOwnPropertyDescriptor(f,"width");return c&&c.writable&&(f.width="100%"),E({index:u,style:f,isScrolling:m,isVisible:y,key:_,parent:s})}),ue(t,"_setRef",function(l){t.Grid=l}),ue(t,"_onScroll",function(l){var s=l.clientHeight,u=l.scrollHeight,f=l.scrollTop,m=t.props.onScroll;m({clientHeight:s,scrollHeight:u,scrollTop:f})}),ue(t,"_onSectionRendered",function(l){var s=l.rowOverscanStartIndex,u=l.rowOverscanStopIndex,f=l.rowStartIndex,m=l.rowStopIndex,y=t.props.onRowsRendered;y({overscanStartIndex:s,overscanStopIndex:u,startIndex:f,stopIndex:m})}),t}return Ar(e,n),oi(e,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(r){var a=r.alignment,o=r.index;if(this.Grid){var l=this.Grid.getOffsetForCell({alignment:a,rowIndex:o,columnIndex:0}),s=l.scrollTop;return s}return 0}},{key:"invalidateCellSizeAfterRender",value:function(r){var a=r.columnIndex,o=r.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:o,columnIndex:a})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=r.columnIndex,o=a===void 0?0:a,l=r.rowIndex,s=l===void 0?0:l;this.Grid&&this.Grid.recomputeGridSize({rowIndex:s,columnIndex:o})}},{key:"recomputeRowHeights",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:r,columnIndex:0})}},{key:"scrollToPosition",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:r})}},{key:"scrollToRow",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:r})}},{key:"render",value:function(){var r=this.props,a=r.className,o=r.noRowsRenderer,l=r.scrollToIndex,s=r.width,u=Dc("ReactVirtualized__List",a);return w.createElement(ju,Pt({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:u,columnWidth:s,columnCount:1,noContentRenderer:o,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:l}))}}])}(w.PureComponent);ue(ave,"defaultProps",{autoHeight:!1,estimatedRowSize:30,onScroll:function(){},noRowsRenderer:function(){return null},onRowsRendered:function(){},overscanIndicesGetter:sk,overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,style:{}});function ove(n,e,t,r){for(var a=t+1;e<=t;){var o=e+t>>>1,l=n[o];l>=r?(a=o,t=o-1):e=o+1}return a}function sve(n,e,t,r,a){for(var o=t+1;e<=t;){var l=e+t>>>1,s=n[l];a(s,r)>=0?(o=l,t=l-1):e=l+1}return o}function lve(n,e,t,r,a){return typeof t=="function"?sve(n,r===void 0?0:r|0,a===void 0?n.length-1:a|0,e,t):ove(n,t===void 0?0:t|0,r===void 0?n.length-1:r|0,e)}function cve(n,e,t,r){for(var a=t+1;e<=t;){var o=e+t>>>1,l=n[o];l>r?(a=o,t=o-1):e=o+1}return a}function uve(n,e,t,r,a){for(var o=t+1;e<=t;){var l=e+t>>>1,s=n[l];a(s,r)>0?(o=l,t=l-1):e=l+1}return o}function dve(n,e,t,r,a){return typeof t=="function"?uve(n,r===void 0?0:r|0,a===void 0?n.length-1:a|0,e,t):cve(n,t===void 0?0:t|0,r===void 0?n.length-1:r|0,e)}function fve(n,e,t,r){for(var a=e-1;e<=t;){var o=e+t>>>1,l=n[o];l<r?(a=o,e=o+1):t=o-1}return a}function hve(n,e,t,r,a){for(var o=e-1;e<=t;){var l=e+t>>>1,s=n[l];a(s,r)<0?(o=l,e=l+1):t=l-1}return o}function pve(n,e,t,r,a){return typeof t=="function"?hve(n,r===void 0?0:r|0,a===void 0?n.length-1:a|0,e,t):fve(n,t===void 0?0:t|0,r===void 0?n.length-1:r|0,e)}function mve(n,e,t,r){for(var a=e-1;e<=t;){var o=e+t>>>1,l=n[o];l<=r?(a=o,e=o+1):t=o-1}return a}function gve(n,e,t,r,a){for(var o=e-1;e<=t;){var l=e+t>>>1,s=n[l];a(s,r)<=0?(o=l,e=l+1):t=l-1}return o}function vve(n,e,t,r,a){return typeof t=="function"?gve(n,r===void 0?0:r|0,a===void 0?n.length-1:a|0,e,t):mve(n,t===void 0?0:t|0,r===void 0?n.length-1:r|0,e)}function yve(n,e,t,r){for(;e<=t;){var a=e+t>>>1,o=n[a];if(o===r)return a;o<=r?e=a+1:t=a-1}return-1}function bve(n,e,t,r,a){for(;e<=t;){var o=e+t>>>1,l=n[o],s=a(l,r);if(s===0)return o;s<=0?e=o+1:t=o-1}return-1}function Sve(n,e,t,r,a){return typeof t=="function"?bve(n,r===void 0?0:r|0,a===void 0?n.length-1:a|0,e,t):yve(n,t===void 0?0:t|0,r===void 0?n.length-1:r|0,e)}const qE={ge:lve,gt:dve,lt:pve,le:vve,eq:Sve};var $v=0,Zp=1,w1=2;function pB(n,e,t,r,a){this.mid=n,this.left=e,this.right=t,this.leftPoints=r,this.rightPoints=a,this.count=(e?e.count:0)+(t?t.count:0)+r.length}var QS=pB.prototype;function uR(n,e){n.mid=e.mid,n.left=e.left,n.right=e.right,n.leftPoints=e.leftPoints,n.rightPoints=e.rightPoints,n.count=e.count}function dk(n,e){var t=vS(e);n.mid=t.mid,n.left=t.left,n.right=t.right,n.leftPoints=t.leftPoints,n.rightPoints=t.rightPoints,n.count=t.count}function Sz(n,e){var t=n.intervals([]);t.push(e),dk(n,t)}function _z(n,e){var t=n.intervals([]),r=t.indexOf(e);return r<0?$v:(t.splice(r,1),dk(n,t),Zp)}QS.intervals=function(n){return n.push.apply(n,this.leftPoints),this.left&&this.left.intervals(n),this.right&&this.right.intervals(n),n};QS.insert=function(n){var e=this.count-this.leftPoints.length;if(this.count+=1,n[1]<this.mid)this.left?4*(this.left.count+1)>3*(e+1)?Sz(this,n):this.left.insert(n):this.left=vS([n]);else if(n[0]>this.mid)this.right?4*(this.right.count+1)>3*(e+1)?Sz(this,n):this.right.insert(n):this.right=vS([n]);else{var t=qE.ge(this.leftPoints,n,mB),r=qE.ge(this.rightPoints,n,gB);this.leftPoints.splice(t,0,n),this.rightPoints.splice(r,0,n)}};QS.remove=function(n){var e=this.count-this.leftPoints;if(n[1]<this.mid){if(!this.left)return $v;var t=this.right?this.right.count:0;if(4*t>3*(e-1))return _z(this,n);var r=this.left.remove(n);return r===w1?(this.left=null,this.count-=1,Zp):(r===Zp&&(this.count-=1),r)}else if(n[0]>this.mid){if(!this.right)return $v;var a=this.left?this.left.count:0;if(4*a>3*(e-1))return _z(this,n);var r=this.right.remove(n);return r===w1?(this.right=null,this.count-=1,Zp):(r===Zp&&(this.count-=1),r)}else{if(this.count===1)return this.leftPoints[0]===n?w1:$v;if(this.leftPoints.length===1&&this.leftPoints[0]===n){if(this.left&&this.right){for(var o=this,l=this.left;l.right;)o=l,l=l.right;if(o===this)l.right=this.right;else{var s=this.left,r=this.right;o.count-=l.count,o.right=l.left,l.left=s,l.right=r}uR(this,l),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?uR(this,this.left):uR(this,this.right);return Zp}for(var s=qE.ge(this.leftPoints,n,mB);s<this.leftPoints.length&&this.leftPoints[s][0]===n[0];++s)if(this.leftPoints[s]===n){this.count-=1,this.leftPoints.splice(s,1);for(var r=qE.ge(this.rightPoints,n,gB);r<this.rightPoints.length&&this.rightPoints[r][1]===n[1];++r)if(this.rightPoints[r]===n)return this.rightPoints.splice(r,1),Zp}return $v}};function fk(n,e,t){for(var r=0;r<n.length&&n[r][0]<=e;++r){var a=t(n[r]);if(a)return a}}function hk(n,e,t){for(var r=n.length-1;r>=0&&n[r][1]>=e;--r){var a=t(n[r]);if(a)return a}}function pk(n,e){for(var t=0;t<n.length;++t){var r=e(n[t]);if(r)return r}}QS.queryPoint=function(n,e){if(n<this.mid){if(this.left){var t=this.left.queryPoint(n,e);if(t)return t}return fk(this.leftPoints,n,e)}else if(n>this.mid){if(this.right){var t=this.right.queryPoint(n,e);if(t)return t}return hk(this.rightPoints,n,e)}else return pk(this.leftPoints,e)};QS.queryInterval=function(n,e,t){if(n<this.mid&&this.left){var r=this.left.queryInterval(n,e,t);if(r)return r}if(e>this.mid&&this.right){var r=this.right.queryInterval(n,e,t);if(r)return r}return e<this.mid?fk(this.leftPoints,e,t):n>this.mid?hk(this.rightPoints,n,t):pk(this.leftPoints,t)};function _ve(n,e){return n-e}function mB(n,e){var t=n[0]-e[0];return t||n[1]-e[1]}function gB(n,e){var t=n[1]-e[1];return t||n[0]-e[0]}function vS(n){if(n.length===0)return null;for(var e=[],t=0;t<n.length;++t)e.push(n[t][0],n[t][1]);e.sort(_ve);for(var r=e[e.length>>1],a=[],o=[],l=[],t=0;t<n.length;++t){var s=n[t];s[1]<r?a.push(s):r<s[0]?o.push(s):l.push(s)}var u=l,f=l.slice();return u.sort(mB),f.sort(gB),new pB(r,vS(a),vS(o),u,f)}function mk(n){this.root=n}var F0=mk.prototype;F0.insert=function(n){this.root?this.root.insert(n):this.root=new pB(n[0],null,null,[n],[n])};F0.remove=function(n){if(this.root){var e=this.root.remove(n);return e===w1&&(this.root=null),e!==$v}return!1};F0.queryPoint=function(n,e){if(this.root)return this.root.queryPoint(n,e)};F0.queryInterval=function(n,e,t){if(n<=e&&this.root)return this.root.queryInterval(n,e,t)};Object.defineProperty(F0,"count",{get:function(){return this.root?this.root.count:0}});Object.defineProperty(F0,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function xve(n){return new mk(null)}var dR=function(){function n(){ai(this,n),ue(this,"_columnSizeMap",{}),ue(this,"_intervalTree",xve()),ue(this,"_leftMap",{})}return oi(n,[{key:"estimateTotalHeight",value:function(t,r,a){var o=t-this.count;return this.tallestColumnSize+Math.ceil(o/r)*a}},{key:"range",value:function(t,r,a){var o=this;this._intervalTree.queryInterval(t,t+r,function(l){var s=vt(l,3),u=s[0];s[1];var f=s[2];return a(f,o._leftMap[f],u)})}},{key:"setPosition",value:function(t,r,a,o){this._intervalTree.insert([a,a+o,t]),this._leftMap[t]=r;var l=this._columnSizeMap,s=l[r];s===void 0?l[r]=a+o:l[r]=Math.max(s,a+o)}},{key:"count",get:function(){return this._intervalTree.count}},{key:"shortestColumnSize",get:function(){var t=this._columnSizeMap,r=0;for(var a in t){var o=t[a];r=r===0?o:Math.min(r,o)}return r}},{key:"tallestColumnSize",get:function(){var t=this._columnSizeMap,r=0;for(var a in t){var o=t[a];r=Math.max(r,o)}return r}}])}();function xz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function Cve(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?xz(Object(t),!0).forEach(function(r){ue(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):xz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Eve(n,e,t){return e=Pi(e),Fo(n,gk()?Reflect.construct(e,t||[],Pi(n).constructor):e.apply(n,t))}function gk(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gk=function(){return!!n})()}var wve={},Ave=150,vk=function(n){function e(){var t;ai(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=Eve(this,e,[].concat(a)),ue(t,"state",{isScrolling:!1,scrollTop:0}),ue(t,"_debounceResetIsScrollingId",void 0),ue(t,"_invalidateOnUpdateStartIndex",null),ue(t,"_invalidateOnUpdateStopIndex",null),ue(t,"_positionCache",new dR),ue(t,"_startIndex",null),ue(t,"_startIndexMemoized",null),ue(t,"_stopIndex",null),ue(t,"_stopIndexMemoized",null),ue(t,"_debounceResetIsScrollingCallback",function(){t.setState({isScrolling:!1})}),ue(t,"_setScrollingContainerRef",function(l){t._scrollingContainer=l}),ue(t,"_onScroll",function(l){var s=t.props.height,u=l.currentTarget.scrollTop,f=Math.min(Math.max(0,t._getEstimatedTotalHeight()-s),u);u===f&&(t._debounceResetIsScrolling(),t.state.scrollTop!==f&&t.setState({isScrolling:!0,scrollTop:f}))}),t}return Ar(e,n),oi(e,[{key:"clearCellPositions",value:function(){this._positionCache=new dR,this.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(r){var a=r.rowIndex;this._invalidateOnUpdateStartIndex===null?(this._invalidateOnUpdateStartIndex=a,this._invalidateOnUpdateStopIndex=a):(this._invalidateOnUpdateStartIndex=Math.min(this._invalidateOnUpdateStartIndex,a),this._invalidateOnUpdateStopIndex=Math.max(this._invalidateOnUpdateStopIndex,a))}},{key:"recomputeCellPositions",value:function(){var r=this._positionCache.count-1;this._positionCache=new dR,this._populatePositionCache(0,r),this.forceUpdate()}},{key:"componentDidMount",value:function(){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback()}},{key:"componentDidUpdate",value:function(r,a){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback(),this.props.scrollTop!==r.scrollTop&&this._debounceResetIsScrolling()}},{key:"componentWillUnmount",value:function(){this._debounceResetIsScrollingId&&x0(this._debounceResetIsScrollingId)}},{key:"render",value:function(){var r=this,a=this.props,o=a.autoHeight,l=a.cellCount,s=a.cellMeasurerCache,u=a.cellRenderer,f=a.className,m=a.height,y=a.id,_=a.keyMapper,E=a.overscanByPixels,c=a.role,p=a.style,g=a.tabIndex,b=a.width,C=a.rowDirection,T=this.state,M=T.isScrolling,O=T.scrollTop,B=[],P=this._getEstimatedTotalHeight(),F=this._positionCache.shortestColumnSize,U=this._positionCache.count,z=0,$;if(this._positionCache.range(Math.max(0,O-E),m+E*2,function(Q,ae,Y){typeof $>"u"?(z=Q,$=Q):(z=Math.min(z,Q),$=Math.max($,Q)),B.push(u({index:Q,isScrolling:M,key:_(Q),parent:r,style:ue(ue(ue(ue({height:s.getHeight(Q)},C==="ltr"?"left":"right",ae),"position","absolute"),"top",Y),"width",s.getWidth(Q))}))}),F<O+m+E&&U<l)for(var J=Math.min(l-U,Math.ceil((O+m+E-F)/s.defaultHeight*b/s.defaultWidth)),W=U;W<U+J;W++)$=W,B.push(u({index:W,isScrolling:M,key:_(W),parent:this,style:{width:s.getWidth(W)}}));return this._startIndex=z,this._stopIndex=$,w.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:Dc("ReactVirtualized__Masonry",f),id:y,onScroll:this._onScroll,role:c,style:Cve({boxSizing:"border-box",direction:"ltr",height:o?"auto":m,overflowX:"hidden",overflowY:P<m?"hidden":"auto",position:"relative",width:b,WebkitOverflowScrolling:"touch",willChange:"transform"},p),tabIndex:g},w.createElement("div",{className:"ReactVirtualized__Masonry__innerScrollContainer",style:{width:"100%",height:P,maxWidth:"100%",maxHeight:P,overflow:"hidden",pointerEvents:M?"none":"",position:"relative"}},B))}},{key:"_checkInvalidateOnUpdate",value:function(){if(typeof this._invalidateOnUpdateStartIndex=="number"){var r=this._invalidateOnUpdateStartIndex,a=this._invalidateOnUpdateStopIndex;this._invalidateOnUpdateStartIndex=null,this._invalidateOnUpdateStopIndex=null,this._populatePositionCache(r,a),this.forceUpdate()}}},{key:"_debounceResetIsScrolling",value:function(){var r=this.props.scrollingResetTimeInterval;this._debounceResetIsScrollingId&&x0(this._debounceResetIsScrollingId),this._debounceResetIsScrollingId=hB(this._debounceResetIsScrollingCallback,r)}},{key:"_getEstimatedTotalHeight",value:function(){var r=this.props,a=r.cellCount,o=r.cellMeasurerCache,l=r.width,s=Math.max(1,Math.floor(l/o.defaultWidth));return this._positionCache.estimateTotalHeight(a,s,o.defaultHeight)}},{key:"_invokeOnScrollCallback",value:function(){var r=this.props,a=r.height,o=r.onScroll,l=this.state.scrollTop;this._onScrollMemoized!==l&&(o({clientHeight:a,scrollHeight:this._getEstimatedTotalHeight(),scrollTop:l}),this._onScrollMemoized=l)}},{key:"_invokeOnCellsRenderedCallback",value:function(){if(this._startIndexMemoized!==this._startIndex||this._stopIndexMemoized!==this._stopIndex){var r=this.props.onCellsRendered;r({startIndex:this._startIndex,stopIndex:this._stopIndex}),this._startIndexMemoized=this._startIndex,this._stopIndexMemoized=this._stopIndex}}},{key:"_populatePositionCache",value:function(r,a){for(var o=this.props,l=o.cellMeasurerCache,s=o.cellPositioner,u=r;u<=a;u++){var f=s(u),m=f.left,y=f.top;this._positionCache.setPosition(u,m,y,l.getHeight(u))}}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.scrollTop!==void 0&&a.scrollTop!==r.scrollTop?{isScrolling:!0,scrollTop:r.scrollTop}:null}}])}(w.PureComponent);ue(vk,"defaultProps",{autoHeight:!1,keyMapper:Mve,onCellsRendered:Cz,onScroll:Cz,overscanByPixels:20,role:"grid",scrollingResetTimeInterval:Ave,style:wve,tabIndex:0,rowDirection:"ltr"});function Mve(n){return n}function Cz(){}JS(vk);var fR=function(){function n(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ai(this,n),ue(this,"_cellMeasurerCache",void 0),ue(this,"_columnIndexOffset",void 0),ue(this,"_rowIndexOffset",void 0),ue(this,"columnWidth",function(u){var f=u.index;e._cellMeasurerCache.columnWidth({index:f+e._columnIndexOffset})}),ue(this,"rowHeight",function(u){var f=u.index;e._cellMeasurerCache.rowHeight({index:f+e._rowIndexOffset})});var r=t.cellMeasurerCache,a=t.columnIndexOffset,o=a===void 0?0:a,l=t.rowIndexOffset,s=l===void 0?0:l;this._cellMeasurerCache=r,this._columnIndexOffset=o,this._rowIndexOffset=s}return oi(n,[{key:"clear",value:function(t,r){this._cellMeasurerCache.clear(t+this._rowIndexOffset,r+this._columnIndexOffset)}},{key:"clearAll",value:function(){this._cellMeasurerCache.clearAll()}},{key:"defaultHeight",get:function(){return this._cellMeasurerCache.defaultHeight}},{key:"defaultWidth",get:function(){return this._cellMeasurerCache.defaultWidth}},{key:"hasFixedHeight",value:function(){return this._cellMeasurerCache.hasFixedHeight()}},{key:"hasFixedWidth",value:function(){return this._cellMeasurerCache.hasFixedWidth()}},{key:"getHeight",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.getHeight(t+this._rowIndexOffset,r+this._columnIndexOffset)}},{key:"getWidth",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.getWidth(t+this._rowIndexOffset,r+this._columnIndexOffset)}},{key:"has",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.has(t+this._rowIndexOffset,r+this._columnIndexOffset)}},{key:"set",value:function(t,r,a,o){this._cellMeasurerCache.set(t+this._rowIndexOffset,r+this._columnIndexOffset,a,o)}}])}(),Tve=["rowIndex"],Rve=["columnIndex","rowIndex"],Ove=["columnIndex"],Ive=["onScroll","onSectionRendered","onScrollbarPresenceChange","scrollLeft","scrollToColumn","scrollTop","scrollToRow"];function Ez(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function vr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ez(Object(t),!0).forEach(function(r){ue(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Ez(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Bve(n,e,t){return e=Pi(e),Fo(n,yk()?Reflect.construct(e,t||[],Pi(n).constructor):e.apply(n,t))}function yk(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yk=function(){return!!n})()}var wz=20,vB=function(n){function e(t,r){var a;ai(this,e),a=Bve(this,e,[t,r]),ue(a,"state",{scrollLeft:0,scrollTop:0,scrollbarSize:0,showHorizontalScrollbar:!1,showVerticalScrollbar:!1}),ue(a,"_deferredInvalidateColumnIndex",null),ue(a,"_deferredInvalidateRowIndex",null),ue(a,"_bottomLeftGridRef",function(u){a._bottomLeftGrid=u}),ue(a,"_bottomRightGridRef",function(u){a._bottomRightGrid=u}),ue(a,"_cellRendererBottomLeftGrid",function(u){var f=u.rowIndex,m=kn(u,Tve),y=a.props,_=y.cellRenderer,E=y.fixedRowCount,c=y.rowCount;return f===c-E?w.createElement("div",{key:m.key,style:vr(vr({},m.style),{},{height:wz})}):_(vr(vr({},m),{},{parent:a,rowIndex:f+E}))}),ue(a,"_cellRendererBottomRightGrid",function(u){var f=u.columnIndex,m=u.rowIndex,y=kn(u,Rve),_=a.props,E=_.cellRenderer,c=_.fixedColumnCount,p=_.fixedRowCount;return E(vr(vr({},y),{},{columnIndex:f+c,parent:a,rowIndex:m+p}))}),ue(a,"_cellRendererTopRightGrid",function(u){var f=u.columnIndex,m=kn(u,Ove),y=a.props,_=y.cellRenderer,E=y.columnCount,c=y.fixedColumnCount;return f===E-c?w.createElement("div",{key:m.key,style:vr(vr({},m.style),{},{width:wz})}):_(vr(vr({},m),{},{columnIndex:f+c,parent:a}))}),ue(a,"_columnWidthRightGrid",function(u){var f=u.index,m=a.props,y=m.columnCount,_=m.fixedColumnCount,E=m.columnWidth,c=a.state,p=c.scrollbarSize,g=c.showHorizontalScrollbar;return g&&f===y-_?p:typeof E=="function"?E({index:f+_}):E}),ue(a,"_onScroll",function(u){var f=u.scrollLeft,m=u.scrollTop;a.setState({scrollLeft:f,scrollTop:m});var y=a.props.onScroll;y&&y(u)}),ue(a,"_onScrollbarPresenceChange",function(u){var f=u.horizontal,m=u.size,y=u.vertical,_=a.state,E=_.showHorizontalScrollbar,c=_.showVerticalScrollbar;if(f!==E||y!==c){a.setState({scrollbarSize:m,showHorizontalScrollbar:f,showVerticalScrollbar:y});var p=a.props.onScrollbarPresenceChange;typeof p=="function"&&p({horizontal:f,size:m,vertical:y})}}),ue(a,"_onScrollLeft",function(u){var f=u.scrollLeft;a._onScroll({scrollLeft:f,scrollTop:a.state.scrollTop})}),ue(a,"_onScrollTop",function(u){var f=u.scrollTop;a._onScroll({scrollTop:f,scrollLeft:a.state.scrollLeft})}),ue(a,"_rowHeightBottomGrid",function(u){var f=u.index,m=a.props,y=m.fixedRowCount,_=m.rowCount,E=m.rowHeight,c=a.state,p=c.scrollbarSize,g=c.showVerticalScrollbar;return g&&f===_-y?p:typeof E=="function"?E({index:f+y}):E}),ue(a,"_topLeftGridRef",function(u){a._topLeftGrid=u}),ue(a,"_topRightGridRef",function(u){a._topRightGrid=u});var o=t.deferredMeasurementCache,l=t.fixedColumnCount,s=t.fixedRowCount;return a._maybeCalculateCachedStyles(!0),o&&(a._deferredMeasurementCacheBottomLeftGrid=s>0?new fR({cellMeasurerCache:o,columnIndexOffset:0,rowIndexOffset:s}):o,a._deferredMeasurementCacheBottomRightGrid=l>0||s>0?new fR({cellMeasurerCache:o,columnIndexOffset:l,rowIndexOffset:s}):o,a._deferredMeasurementCacheTopRightGrid=l>0?new fR({cellMeasurerCache:o,columnIndexOffset:l,rowIndexOffset:0}):o),a}return Ar(e,n),oi(e,[{key:"forceUpdateGrids",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.forceUpdate(),this._bottomRightGrid&&this._bottomRightGrid.forceUpdate(),this._topLeftGrid&&this._topLeftGrid.forceUpdate(),this._topRightGrid&&this._topRightGrid.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=r.columnIndex,o=a===void 0?0:a,l=r.rowIndex,s=l===void 0?0:l;this._deferredInvalidateColumnIndex=typeof this._deferredInvalidateColumnIndex=="number"?Math.min(this._deferredInvalidateColumnIndex,o):o,this._deferredInvalidateRowIndex=typeof this._deferredInvalidateRowIndex=="number"?Math.min(this._deferredInvalidateRowIndex,s):s}},{key:"measureAllCells",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.measureAllCells(),this._bottomRightGrid&&this._bottomRightGrid.measureAllCells(),this._topLeftGrid&&this._topLeftGrid.measureAllCells(),this._topRightGrid&&this._topRightGrid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=r.columnIndex,o=a===void 0?0:a,l=r.rowIndex,s=l===void 0?0:l,u=this.props,f=u.fixedColumnCount,m=u.fixedRowCount,y=Math.max(0,o-f),_=Math.max(0,s-m);this._bottomLeftGrid&&this._bottomLeftGrid.recomputeGridSize({columnIndex:o,rowIndex:_}),this._bottomRightGrid&&this._bottomRightGrid.recomputeGridSize({columnIndex:y,rowIndex:_}),this._topLeftGrid&&this._topLeftGrid.recomputeGridSize({columnIndex:o,rowIndex:s}),this._topRightGrid&&this._topRightGrid.recomputeGridSize({columnIndex:y,rowIndex:s}),this._leftGridWidth=null,this._topGridHeight=null,this._maybeCalculateCachedStyles(!0)}},{key:"componentDidMount",value:function(){var r=this.props,a=r.scrollLeft,o=r.scrollTop;if(a>0||o>0){var l={};a>0&&(l.scrollLeft=a),o>0&&(l.scrollTop=o),this.setState(l)}this._handleInvalidatedGridSize()}},{key:"componentDidUpdate",value:function(){this._handleInvalidatedGridSize()}},{key:"render",value:function(){var r=this.props,a=r.onScroll,o=r.onSectionRendered;r.onScrollbarPresenceChange,r.scrollLeft;var l=r.scrollToColumn;r.scrollTop;var s=r.scrollToRow,u=kn(r,Ive);if(this._prepareForRender(),this.props.width===0||this.props.height===0)return null;var f=this.state,m=f.scrollLeft,y=f.scrollTop;return w.createElement("div",{style:this._containerOuterStyle},w.createElement("div",{style:this._containerTopStyle},this._renderTopLeftGrid(u),this._renderTopRightGrid(vr(vr({},u),{},{onScroll:a,scrollLeft:m}))),w.createElement("div",{style:this._containerBottomStyle},this._renderBottomLeftGrid(vr(vr({},u),{},{onScroll:a,scrollTop:y})),this._renderBottomRightGrid(vr(vr({},u),{},{onScroll:a,onSectionRendered:o,scrollLeft:m,scrollToColumn:l,scrollToRow:s,scrollTop:y}))))}},{key:"_getBottomGridHeight",value:function(r){var a=r.height,o=this._getTopGridHeight(r);return a-o}},{key:"_getLeftGridWidth",value:function(r){var a=r.fixedColumnCount,o=r.columnWidth;if(this._leftGridWidth==null)if(typeof o=="function"){for(var l=0,s=0;s<a;s++)l+=o({index:s});this._leftGridWidth=l}else this._leftGridWidth=o*a;return this._leftGridWidth}},{key:"_getRightGridWidth",value:function(r){var a=r.width,o=this._getLeftGridWidth(r);return a-o}},{key:"_getTopGridHeight",value:function(r){var a=r.fixedRowCount,o=r.rowHeight;if(this._topGridHeight==null)if(typeof o=="function"){for(var l=0,s=0;s<a;s++)l+=o({index:s});this._topGridHeight=l}else this._topGridHeight=o*a;return this._topGridHeight}},{key:"_handleInvalidatedGridSize",value:function(){if(typeof this._deferredInvalidateColumnIndex=="number"){var r=this._deferredInvalidateColumnIndex,a=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:r,rowIndex:a}),this.forceUpdate()}}},{key:"_maybeCalculateCachedStyles",value:function(r){var a=this.props,o=a.columnWidth,l=a.enableFixedColumnScroll,s=a.enableFixedRowScroll,u=a.height,f=a.fixedColumnCount,m=a.fixedRowCount,y=a.rowHeight,_=a.style,E=a.styleBottomLeftGrid,c=a.styleBottomRightGrid,p=a.styleTopLeftGrid,g=a.styleTopRightGrid,b=a.width,C=r||u!==this._lastRenderedHeight||b!==this._lastRenderedWidth,T=r||o!==this._lastRenderedColumnWidth||f!==this._lastRenderedFixedColumnCount,M=r||m!==this._lastRenderedFixedRowCount||y!==this._lastRenderedRowHeight;(r||C||_!==this._lastRenderedStyle)&&(this._containerOuterStyle=vr({height:u,overflow:"visible",width:b},_)),(r||C||M)&&(this._containerTopStyle={height:this._getTopGridHeight(this.props),position:"relative",width:b},this._containerBottomStyle={height:u-this._getTopGridHeight(this.props),overflow:"visible",position:"relative",width:b}),(r||E!==this._lastRenderedStyleBottomLeftGrid)&&(this._bottomLeftGridStyle=vr({left:0,overflowX:"hidden",overflowY:l?"auto":"hidden",position:"absolute"},E)),(r||T||c!==this._lastRenderedStyleBottomRightGrid)&&(this._bottomRightGridStyle=vr({left:this._getLeftGridWidth(this.props),position:"absolute"},c)),(r||p!==this._lastRenderedStyleTopLeftGrid)&&(this._topLeftGridStyle=vr({left:0,overflowX:"hidden",overflowY:"hidden",position:"absolute",top:0},p)),(r||T||g!==this._lastRenderedStyleTopRightGrid)&&(this._topRightGridStyle=vr({left:this._getLeftGridWidth(this.props),overflowX:s?"auto":"hidden",overflowY:"hidden",position:"absolute",top:0},g)),this._lastRenderedColumnWidth=o,this._lastRenderedFixedColumnCount=f,this._lastRenderedFixedRowCount=m,this._lastRenderedHeight=u,this._lastRenderedRowHeight=y,this._lastRenderedStyle=_,this._lastRenderedStyleBottomLeftGrid=E,this._lastRenderedStyleBottomRightGrid=c,this._lastRenderedStyleTopLeftGrid=p,this._lastRenderedStyleTopRightGrid=g,this._lastRenderedWidth=b}},{key:"_prepareForRender",value:function(){(this._lastRenderedColumnWidth!==this.props.columnWidth||this._lastRenderedFixedColumnCount!==this.props.fixedColumnCount)&&(this._leftGridWidth=null),(this._lastRenderedFixedRowCount!==this.props.fixedRowCount||this._lastRenderedRowHeight!==this.props.rowHeight)&&(this._topGridHeight=null),this._maybeCalculateCachedStyles(),this._lastRenderedColumnWidth=this.props.columnWidth,this._lastRenderedFixedColumnCount=this.props.fixedColumnCount,this._lastRenderedFixedRowCount=this.props.fixedRowCount,this._lastRenderedRowHeight=this.props.rowHeight}},{key:"_renderBottomLeftGrid",value:function(r){var a=r.enableFixedColumnScroll,o=r.fixedColumnCount,l=r.fixedRowCount,s=r.rowCount,u=r.hideBottomLeftGridScrollbar,f=this.state.showVerticalScrollbar;if(!o)return null;var m=f?1:0,y=this._getBottomGridHeight(r),_=this._getLeftGridWidth(r),E=this.state.showVerticalScrollbar?this.state.scrollbarSize:0,c=u?_+E:_,p=w.createElement(ju,Pt({},r,{cellRenderer:this._cellRendererBottomLeftGrid,className:this.props.classNameBottomLeftGrid,columnCount:o,deferredMeasurementCache:this._deferredMeasurementCacheBottomLeftGrid,height:y,onScroll:a?this._onScrollTop:void 0,ref:this._bottomLeftGridRef,rowCount:Math.max(0,s-l)+m,rowHeight:this._rowHeightBottomGrid,style:this._bottomLeftGridStyle,tabIndex:null,width:c}));return u?w.createElement("div",{className:"BottomLeftGrid_ScrollWrapper",style:vr(vr({},this._bottomLeftGridStyle),{},{height:y,width:_,overflowY:"hidden"})},p):p}},{key:"_renderBottomRightGrid",value:function(r){var a=r.columnCount,o=r.fixedColumnCount,l=r.fixedRowCount,s=r.rowCount,u=r.scrollToColumn,f=r.scrollToRow;return w.createElement(ju,Pt({},r,{cellRenderer:this._cellRendererBottomRightGrid,className:this.props.classNameBottomRightGrid,columnCount:Math.max(0,a-o),columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheBottomRightGrid,height:this._getBottomGridHeight(r),onScroll:this._onScroll,onScrollbarPresenceChange:this._onScrollbarPresenceChange,ref:this._bottomRightGridRef,rowCount:Math.max(0,s-l),rowHeight:this._rowHeightBottomGrid,scrollToColumn:u-o,scrollToRow:f-l,style:this._bottomRightGridStyle,width:this._getRightGridWidth(r)}))}},{key:"_renderTopLeftGrid",value:function(r){var a=r.fixedColumnCount,o=r.fixedRowCount;return!a||!o?null:w.createElement(ju,Pt({},r,{className:this.props.classNameTopLeftGrid,columnCount:a,height:this._getTopGridHeight(r),ref:this._topLeftGridRef,rowCount:o,style:this._topLeftGridStyle,tabIndex:null,width:this._getLeftGridWidth(r)}))}},{key:"_renderTopRightGrid",value:function(r){var a=r.columnCount,o=r.enableFixedRowScroll,l=r.fixedColumnCount,s=r.fixedRowCount,u=r.scrollLeft,f=r.hideTopRightGridScrollbar,m=this.state,y=m.showHorizontalScrollbar,_=m.scrollbarSize;if(!s)return null;var E=y?1:0,c=this._getTopGridHeight(r),p=this._getRightGridWidth(r),g=y?_:0,b=c,C=this._topRightGridStyle;f&&(b=c+g,C=vr(vr({},this._topRightGridStyle),{},{left:0}));var T=w.createElement(ju,Pt({},r,{cellRenderer:this._cellRendererTopRightGrid,className:this.props.classNameTopRightGrid,columnCount:Math.max(0,a-l)+E,columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheTopRightGrid,height:b,onScroll:o?this._onScrollLeft:void 0,ref:this._topRightGridRef,rowCount:s,scrollLeft:u,style:C,tabIndex:null,width:p}));return f?w.createElement("div",{className:"TopRightGrid_ScrollWrapper",style:vr(vr({},this._topRightGridStyle),{},{height:c,width:p,overflowX:"hidden"})},T):T}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.scrollLeft!==a.scrollLeft||r.scrollTop!==a.scrollTop?{scrollLeft:r.scrollLeft!=null&&r.scrollLeft>=0?r.scrollLeft:a.scrollLeft,scrollTop:r.scrollTop!=null&&r.scrollTop>=0?r.scrollTop:a.scrollTop}:null}}])}(w.PureComponent);ue(vB,"defaultProps",{classNameBottomLeftGrid:"",classNameBottomRightGrid:"",classNameTopLeftGrid:"",classNameTopRightGrid:"",enableFixedColumnScroll:!1,enableFixedRowScroll:!1,fixedColumnCount:0,fixedRowCount:0,scrollToColumn:-1,scrollToRow:-1,style:{},styleBottomLeftGrid:{},styleBottomRightGrid:{},styleTopLeftGrid:{},styleTopRightGrid:{},hideTopRightGridScrollbar:!1,hideBottomLeftGridScrollbar:!1});vB.propTypes={};JS(vB);function Dve(n,e,t){return e=Pi(e),Fo(n,bk()?Reflect.construct(e,t||[],Pi(n).constructor):e.apply(n,t))}function bk(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bk=function(){return!!n})()}var Sk=function(n){function e(t,r){var a;return ai(this,e),a=Dve(this,e,[t,r]),a.state={clientHeight:0,clientWidth:0,scrollHeight:0,scrollLeft:0,scrollTop:0,scrollWidth:0},a._onScroll=a._onScroll.bind(a),a}return Ar(e,n),oi(e,[{key:"render",value:function(){var r=this.props.children,a=this.state,o=a.clientHeight,l=a.clientWidth,s=a.scrollHeight,u=a.scrollLeft,f=a.scrollTop,m=a.scrollWidth;return r({clientHeight:o,clientWidth:l,onScroll:this._onScroll,scrollHeight:s,scrollLeft:u,scrollTop:f,scrollWidth:m})}},{key:"_onScroll",value:function(r){var a=r.clientHeight,o=r.clientWidth,l=r.scrollHeight,s=r.scrollLeft,u=r.scrollTop,f=r.scrollWidth;this.setState({clientHeight:a,clientWidth:o,scrollHeight:l,scrollLeft:s,scrollTop:u,scrollWidth:f})}}])}(w.PureComponent);Sk.propTypes={};function Pve(n){var e=n.dataKey,t=n.rowData;return typeof t.get=="function"?t.get(e):t[e]}function Lve(n){var e=n.cellData;return e==null?"":String(e)}function Nve(n){var e=n.className,t=n.columns,r=n.style;return w.createElement("div",{className:e,role:"row",style:r},t)}var Ih={ASC:"ASC",DESC:"DESC"};function _k(n){var e=n.sortDirection,t=Dc("ReactVirtualized__Table__sortableHeaderIcon",{"ReactVirtualized__Table__sortableHeaderIcon--ASC":e===Ih.ASC,"ReactVirtualized__Table__sortableHeaderIcon--DESC":e===Ih.DESC});return w.createElement("svg",{className:t,width:18,height:18,viewBox:"0 0 24 24"},e===Ih.ASC?w.createElement("path",{d:"M7 14l5-5 5 5z"}):w.createElement("path",{d:"M7 10l5 5 5-5z"}),w.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}_k.propTypes={};function zve(n){var e=n.dataKey,t=n.label,r=n.sortBy,a=n.sortDirection,o=r===e,l=[w.createElement("span",{className:"ReactVirtualized__Table__headerTruncatedText",key:"label",title:typeof t=="string"?t:null},t)];return o&&l.push(w.createElement(_k,{key:"SortIndicator",sortDirection:a})),l}function Uve(n){var e=n.className,t=n.columns,r=n.index,a=n.key,o=n.onRowClick,l=n.onRowDoubleClick,s=n.onRowMouseOut,u=n.onRowMouseOver,f=n.onRowRightClick,m=n.rowData,y=n.style,_={"aria-rowindex":r+1};return(o||l||s||u||f)&&(_["aria-label"]="row",_.tabIndex=0,o&&(_.onClick=function(E){return o({event:E,index:r,rowData:m})}),l&&(_.onDoubleClick=function(E){return l({event:E,index:r,rowData:m})}),s&&(_.onMouseOut=function(E){return s({event:E,index:r,rowData:m})}),u&&(_.onMouseOver=function(E){return u({event:E,index:r,rowData:m})}),f&&(_.onContextMenu=function(E){return f({event:E,index:r,rowData:m})})),w.createElement("div",Pt({},_,{className:e,key:a,role:"row",style:y}),t)}function Fve(n,e,t){return e=Pi(e),Fo(n,xk()?Reflect.construct(e,t||[],Pi(n).constructor):e.apply(n,t))}function xk(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xk=function(){return!!n})()}var yB=function(n){function e(){return ai(this,e),Fve(this,e,arguments)}return Ar(e,n),oi(e)}(w.Component);ue(yB,"defaultProps",{cellDataGetter:Pve,cellRenderer:Lve,defaultSortDirection:Ih.ASC,flexGrow:0,flexShrink:1,headerRenderer:zve,style:{}});yB.propTypes={};function Az(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function Bu(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Az(Object(t),!0).forEach(function(r){ue(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Az(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Hve(n,e,t){return e=Pi(e),Fo(n,Ck()?Reflect.construct(e,t||[],Pi(n).constructor):e.apply(n,t))}function Ck(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ck=function(){return!!n})()}var Ek=function(n){function e(t){var r;return ai(this,e),r=Hve(this,e,[t]),r.state={scrollbarWidth:0},r._createColumn=r._createColumn.bind(r),r._createRow=r._createRow.bind(r),r._onScroll=r._onScroll.bind(r),r._onSectionRendered=r._onSectionRendered.bind(r),r._setRef=r._setRef.bind(r),r._setGridElementRef=r._setGridElementRef.bind(r),r}return Ar(e,n),oi(e,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(r){var a=r.alignment,o=r.index;if(this.Grid){var l=this.Grid.getOffsetForCell({alignment:a,rowIndex:o}),s=l.scrollTop;return s}return 0}},{key:"invalidateCellSizeAfterRender",value:function(r){var a=r.columnIndex,o=r.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:o,columnIndex:a})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=r.columnIndex,o=a===void 0?0:a,l=r.rowIndex,s=l===void 0?0:l;this.Grid&&this.Grid.recomputeGridSize({rowIndex:s,columnIndex:o})}},{key:"recomputeRowHeights",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:r})}},{key:"scrollToPosition",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:r})}},{key:"scrollToRow",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:r})}},{key:"getScrollbarWidth",value:function(){if(this.GridElement){var r=this.GridElement,a=r.clientWidth||0,o=r.offsetWidth||0;return o-a}return 0}},{key:"componentDidMount",value:function(){this._setScrollbarWidth()}},{key:"componentDidUpdate",value:function(){this._setScrollbarWidth()}},{key:"render",value:function(){var r=this,a=this.props,o=a.children,l=a.className,s=a.disableHeader,u=a.gridClassName,f=a.gridStyle,m=a.headerHeight,y=a.headerRowRenderer,_=a.height,E=a.id,c=a.noRowsRenderer,p=a.rowClassName,g=a.rowStyle,b=a.scrollToIndex,C=a.style,T=a.width,M=this.state.scrollbarWidth,O=s?_:_-m,B=typeof p=="function"?p({index:-1}):p,P=typeof g=="function"?g({index:-1}):g;return this._cachedColumnStyles=[],w.Children.toArray(o).forEach(function(F,U){var z=r._getFlexStyleForColumn(F,F.props.style||yB.defaultProps.style);r._cachedColumnStyles[U]=Bu({overflow:"hidden"},z)}),w.createElement("div",{"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-colcount":w.Children.toArray(o).length,"aria-rowcount":this.props.rowCount,className:Dc("ReactVirtualized__Table",l),id:E,role:"grid",style:C},!s&&y({className:Dc("ReactVirtualized__Table__headerRow",B),columns:this._getHeaderColumns(),style:Bu({height:m,overflow:"hidden",paddingRight:M,width:T},P)}),w.createElement(ju,Pt({},this.props,{elementRef:this._setGridElementRef,"aria-readonly":null,autoContainerWidth:!0,className:Dc("ReactVirtualized__Table__Grid",u),cellRenderer:this._createRow,columnWidth:T,columnCount:1,height:O,id:void 0,noContentRenderer:c,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,role:"rowgroup",scrollbarWidth:M,scrollToRow:b,style:Bu(Bu({},f),{},{overflowX:"hidden"})})))}},{key:"_createColumn",value:function(r){var a=r.column,o=r.columnIndex,l=r.isScrolling,s=r.parent,u=r.rowData,f=r.rowIndex,m=this.props.onColumnClick,y=a.props,_=y.cellDataGetter,E=y.cellRenderer,c=y.className,p=y.columnData,g=y.dataKey,b=y.id,C=_({columnData:p,dataKey:g,rowData:u}),T=E({cellData:C,columnData:p,columnIndex:o,dataKey:g,isScrolling:l,parent:s,rowData:u,rowIndex:f}),M=function(F){m&&m({columnData:p,dataKey:g,event:F})},O=this._cachedColumnStyles[o],B=typeof T=="string"?T:null;return w.createElement("div",{"aria-colindex":o+1,"aria-describedby":b,className:Dc("ReactVirtualized__Table__rowColumn",c),key:"Row"+f+"-Col"+o,onClick:M,role:"gridcell",style:O,title:B},T)}},{key:"_createHeader",value:function(r){var a=r.column,o=r.index,l=this.props,s=l.headerClassName,u=l.headerStyle,f=l.onHeaderClick,m=l.sort,y=l.sortBy,_=l.sortDirection,E=a.props,c=E.columnData,p=E.dataKey,g=E.defaultSortDirection,b=E.disableSort,C=E.headerRenderer,T=E.id,M=E.label,O=!b&&m,B=Dc("ReactVirtualized__Table__headerColumn",s,a.props.headerClassName,{ReactVirtualized__Table__sortableHeaderColumn:O}),P=this._getFlexStyleForColumn(a,Bu(Bu({},u),a.props.headerStyle)),F=C({columnData:c,dataKey:p,disableSort:b,label:M,sortBy:y,sortDirection:_}),U,z,$,J,W;if(O||f){var Q=y!==p,ae=Q?g:_===Ih.DESC?Ih.ASC:Ih.DESC,Y=function(de){O&&m({defaultSortDirection:g,event:de,sortBy:p,sortDirection:ae}),f&&f({columnData:c,dataKey:p,event:de})},K=function(de){(de.key==="Enter"||de.key===" ")&&Y(de)};W=a.props["aria-label"]||M||p,J="none",$=0,U=Y,z=K}return y===p&&(J=_===Ih.ASC?"ascending":"descending"),w.createElement("div",{"aria-label":W,"aria-sort":J,className:B,id:T,key:"Header-Col"+o,onClick:U,onKeyDown:z,role:"columnheader",style:P,tabIndex:$},F)}},{key:"_createRow",value:function(r){var a=this,o=r.rowIndex,l=r.isScrolling,s=r.key,u=r.parent,f=r.style,m=this.props,y=m.children,_=m.onRowClick,E=m.onRowDoubleClick,c=m.onRowRightClick,p=m.onRowMouseOver,g=m.onRowMouseOut,b=m.rowClassName,C=m.rowGetter,T=m.rowRenderer,M=m.rowStyle,O=this.state.scrollbarWidth,B=typeof b=="function"?b({index:o}):b,P=typeof M=="function"?M({index:o}):M,F=C({index:o}),U=w.Children.toArray(y).map(function(J,W){return a._createColumn({column:J,columnIndex:W,isScrolling:l,parent:u,rowData:F,rowIndex:o,scrollbarWidth:O})}),z=Dc("ReactVirtualized__Table__row",B),$=Bu(Bu({},f),{},{height:this._getRowHeight(o),overflow:"hidden",paddingRight:O},P);return T({className:z,columns:U,index:o,isScrolling:l,key:s,onRowClick:_,onRowDoubleClick:E,onRowRightClick:c,onRowMouseOver:p,onRowMouseOut:g,rowData:F,style:$})}},{key:"_getFlexStyleForColumn",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o="".concat(r.props.flexGrow," ").concat(r.props.flexShrink," ").concat(r.props.width,"px"),l=Bu(Bu({},a),{},{flex:o,msFlex:o,WebkitFlex:o});return r.props.maxWidth&&(l.maxWidth=r.props.maxWidth),r.props.minWidth&&(l.minWidth=r.props.minWidth),l}},{key:"_getHeaderColumns",value:function(){var r=this,a=this.props,o=a.children,l=a.disableHeader,s=l?[]:w.Children.toArray(o);return s.map(function(u,f){return r._createHeader({column:u,index:f})})}},{key:"_getRowHeight",value:function(r){var a=this.props.rowHeight;return typeof a=="function"?a({index:r}):a}},{key:"_onScroll",value:function(r){var a=r.clientHeight,o=r.scrollHeight,l=r.scrollTop,s=this.props.onScroll;s({clientHeight:a,scrollHeight:o,scrollTop:l})}},{key:"_onSectionRendered",value:function(r){var a=r.rowOverscanStartIndex,o=r.rowOverscanStopIndex,l=r.rowStartIndex,s=r.rowStopIndex,u=this.props.onRowsRendered;u({overscanStartIndex:a,overscanStopIndex:o,startIndex:l,stopIndex:s})}},{key:"_setRef",value:function(r){this.Grid=r}},{key:"_setGridElementRef",value:function(r){this.GridElement=r}},{key:"_setScrollbarWidth",value:function(){var r=this.getScrollbarWidth();this.setState({scrollbarWidth:r})}}])}(w.PureComponent);ue(Ek,"defaultProps",{disableHeader:!1,estimatedRowSize:30,headerHeight:0,headerStyle:{},noRowsRenderer:function(){return null},onRowsRendered:function(){return null},onScroll:function(){return null},overscanIndicesGetter:sk,overscanRowCount:10,rowRenderer:Uve,headerRowRenderer:Nve,rowStyle:{},scrollToAlignment:"auto",scrollToIndex:-1,style:{}});Ek.propTypes={};var Ph=[],Gb=null,Cm=null;function wk(){Cm&&(Cm=null,document.body&&Gb!=null&&(document.body.style.pointerEvents=Gb),Gb=null)}function Gve(){wk(),Ph.forEach(function(n){return n.__resetIsScrolling()})}function kve(){Cm&&x0(Cm);var n=0;Ph.forEach(function(e){n=Math.max(n,e.props.scrollingResetTimeInterval)}),Cm=hB(Gve,n)}function Ak(n){n.currentTarget===window&&Gb==null&&document.body&&(Gb=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),kve(),Ph.forEach(function(e){e.props.scrollElement===n.currentTarget&&e.__handleWindowScrollEvent()})}function Mz(n,e){Ph.some(function(t){return t.props.scrollElement===e})||e.addEventListener("scroll",Ak),Ph.push(n)}function Tz(n,e){Ph=Ph.filter(function(t){return t!==n}),Ph.length||(e.removeEventListener("scroll",Ak),Cm&&(x0(Cm),wk()))}var bB=function(e){return e===window},Cb=function(e){return e.getBoundingClientRect()};function Rz(n,e){if(n)if(bB(n)){var t=window,r=t.innerHeight,a=t.innerWidth;return{height:typeof r=="number"?r:0,width:typeof a=="number"?a:0}}else return Cb(n);else return{height:e.serverHeight,width:e.serverWidth}}function $ve(n,e){if(bB(e)&&document.documentElement){var t=document.documentElement,r=Cb(n),a=Cb(t);return{top:r.top-a.top,left:r.left-a.left}}else{var o=Mk(e),l=Cb(n),s=Cb(e);return{top:l.top+o.top-s.top,left:l.left+o.left-s.left}}}function Mk(n){return bB(n)&&document.documentElement?{top:"scrollY"in window?window.scrollY:document.documentElement.scrollTop,left:"scrollX"in window?window.scrollX:document.documentElement.scrollLeft}:{top:n.scrollTop,left:n.scrollLeft}}function Oz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function Iz(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Oz(Object(t),!0).forEach(function(r){ue(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Oz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Vve(n,e,t){return e=Pi(e),Fo(n,Tk()?Reflect.construct(e,t||[],Pi(n).constructor):e.apply(n,t))}function Tk(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Tk=function(){return!!n})()}var jve=150,Rk=function(){return typeof window<"u"?window:void 0},Wve=function(n){function e(){var t;ai(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=Vve(this,e,[].concat(a)),ue(t,"_window",Rk()),ue(t,"_isMounted",!1),ue(t,"_positionFromTop",0),ue(t,"_positionFromLeft",0),ue(t,"_detectElementResize",void 0),ue(t,"_child",void 0),ue(t,"_windowScrollerRef",w.createRef()),ue(t,"state",Iz(Iz({},Rz(t.props.scrollElement,t.props)),{},{isScrolling:!1,scrollLeft:0,scrollTop:0})),ue(t,"_registerChild",function(l){l&&!(l instanceof Element)&&console.warn("WindowScroller registerChild expects to be passed Element or null"),t._child=l,t.updatePosition()}),ue(t,"_onChildScroll",function(l){var s=l.scrollTop;if(t.state.scrollTop!==s){var u=t.props.scrollElement;u&&(typeof u.scrollTo=="function"?u.scrollTo(0,s+t._positionFromTop):u.scrollTop=s+t._positionFromTop)}}),ue(t,"_registerResizeListener",function(l){l===window?window.addEventListener("resize",t._onResize,!1):t._detectElementResize.addResizeListener(l,t._onResize)}),ue(t,"_unregisterResizeListener",function(l){l===window?window.removeEventListener("resize",t._onResize,!1):l&&t._detectElementResize.removeResizeListener(l,t._onResize)}),ue(t,"_onResize",function(){t.updatePosition()}),ue(t,"__handleWindowScrollEvent",function(){if(t._isMounted){var l=t.props.onScroll,s=t.props.scrollElement;if(s){var u=Mk(s),f=Math.max(0,u.left-t._positionFromLeft),m=Math.max(0,u.top-t._positionFromTop);t.setState({isScrolling:!0,scrollLeft:f,scrollTop:m}),l({scrollLeft:f,scrollTop:m})}}}),ue(t,"__resetIsScrolling",function(){t.setState({isScrolling:!1})}),t}return Ar(e,n),oi(e,[{key:"updatePosition",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollElement,a=this.props.onResize,o=this.state,l=o.height,s=o.width,u=this._child||this._windowScrollerRef.current;if(u instanceof Element&&r){var f=$ve(u,r);this._positionFromTop=f.top,this._positionFromLeft=f.left}var m=Rz(r,this.props);(l!==m.height||s!==m.width)&&(this.setState({height:m.height,width:m.width}),a({height:m.height,width:m.width})),this.props.updateScrollTopOnUpdatePosition===!0&&(this.__handleWindowScrollEvent(),this.__resetIsScrolling())}},{key:"componentDidMount",value:function(){var r=this.props.scrollElement;this._detectElementResize=QG(),this.updatePosition(r),r&&(Mz(this,r),this._registerResizeListener(r)),this._isMounted=!0}},{key:"componentDidUpdate",value:function(r,a){var o=this.props.scrollElement,l=r.scrollElement;l!==o&&l!=null&&o!=null&&(this.updatePosition(o),Tz(this,l),Mz(this,o),this._unregisterResizeListener(l),this._registerResizeListener(o))}},{key:"componentWillUnmount",value:function(){var r=this.props.scrollElement;r&&(Tz(this,r),this._unregisterResizeListener(r)),this._isMounted=!1}},{key:"render",value:function(){var r=this.props.children,a=this.state,o=a.isScrolling,l=a.scrollTop,s=a.scrollLeft,u=a.height,f=a.width;return w.createElement("div",{ref:this._windowScrollerRef},r({onChildScroll:this._onChildScroll,registerChild:this._registerChild,height:u,isScrolling:o,scrollLeft:s,scrollTop:l,width:f}))}}])}(w.PureComponent);ue(Wve,"defaultProps",{onResize:function(){},onScroll:function(){},scrollingResetTimeInterval:jve,scrollElement:Rk(),serverHeight:0,serverWidth:0});function Xve(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.map(function(r){return r.split(" ").map(function(a){return a?""+n+a:""}).join(" ")}).join(" ")}var Eb={exports:{}},Yve=Eb.exports,Bz;function qve(){return Bz||(Bz=1,function(n,e){(function(t,r){n.exports=r()})(Yve,function(){function t(D,I){var H=Object.keys(D);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(D);I&&(V=V.filter(function(X){return Object.getOwnPropertyDescriptor(D,X).enumerable})),H.push.apply(H,V)}return H}function r(D){for(var I=1;I<arguments.length;I++){var H=arguments[I]!=null?arguments[I]:{};I%2?t(Object(H),!0).forEach(function(V){u(D,V,H[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(H)):t(Object(H)).forEach(function(V){Object.defineProperty(D,V,Object.getOwnPropertyDescriptor(H,V))})}return D}function a(D){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},a(D)}function o(D,I){if(!(D instanceof I))throw new TypeError("Cannot call a class as a function")}function l(D,I){for(var H=0;H<I.length;H++){var V=I[H];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(D,p(V.key),V)}}function s(D,I,H){return I&&l(D.prototype,I),Object.defineProperty(D,"prototype",{writable:!1}),D}function u(D,I,H){return(I=p(I))in D?Object.defineProperty(D,I,{value:H,enumerable:!0,configurable:!0,writable:!0}):D[I]=H,D}function f(D,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function");D.prototype=Object.create(I&&I.prototype,{constructor:{value:D,writable:!0,configurable:!0}}),Object.defineProperty(D,"prototype",{writable:!1}),I&&y(D,I)}function m(D){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)},m(D)}function y(D,I){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(H,V){return H.__proto__=V,H},y(D,I)}function _(D){if(D===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D}function E(D){var I=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var H,V=m(D);if(I){var X=m(this).constructor;H=Reflect.construct(V,arguments,X)}else H=V.apply(this,arguments);return function(te,se){if(se&&(typeof se=="object"||typeof se=="function"))return se;if(se!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _(te)}(this,H)}}function c(){return c=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(D,I,H){var V=function(te,se){for(;!Object.prototype.hasOwnProperty.call(te,se)&&(te=m(te))!==null;);return te}(D,I);if(V){var X=Object.getOwnPropertyDescriptor(V,I);return X.get?X.get.call(arguments.length<3?D:H):X.value}},c.apply(this,arguments)}function p(D){var I=function(H,V){if(typeof H!="object"||H===null)return H;var X=H[Symbol.toPrimitive];if(X!==void 0){var te=X.call(H,V);if(typeof te!="object")return te;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(H)}(D,"string");return typeof I=="symbol"?I:I+""}var g=function(D){return!(!D||!D.Window)&&D instanceof D.Window},b=void 0,C=void 0;function T(D){b=D;var I=D.document.createTextNode("");I.ownerDocument!==D.document&&typeof D.wrap=="function"&&D.wrap(I)===I&&(D=D.wrap(D)),C=D}function M(D){return g(D)?D:(D.ownerDocument||D).defaultView||C.window}typeof window<"u"&&window&&T(window);var O=function(D){return!!D&&a(D)==="object"},B=function(D){return typeof D=="function"},P={window:function(D){return D===C||g(D)},docFrag:function(D){return O(D)&&D.nodeType===11},object:O,func:B,number:function(D){return typeof D=="number"},bool:function(D){return typeof D=="boolean"},string:function(D){return typeof D=="string"},element:function(D){if(!D||a(D)!=="object")return!1;var I=M(D)||C;return/object|function/.test(typeof Element>"u"?"undefined":a(Element))?D instanceof Element||D instanceof I.Element:D.nodeType===1&&typeof D.nodeName=="string"},plainObject:function(D){return O(D)&&!!D.constructor&&/function Object\b/.test(D.constructor.toString())},array:function(D){return O(D)&&D.length!==void 0&&B(D.splice)}};function F(D){var I=D.interaction;if(I.prepared.name==="drag"){var H=I.prepared.axis;H==="x"?(I.coords.cur.page.y=I.coords.start.page.y,I.coords.cur.client.y=I.coords.start.client.y,I.coords.velocity.client.y=0,I.coords.velocity.page.y=0):H==="y"&&(I.coords.cur.page.x=I.coords.start.page.x,I.coords.cur.client.x=I.coords.start.client.x,I.coords.velocity.client.x=0,I.coords.velocity.page.x=0)}}function U(D){var I=D.iEvent,H=D.interaction;if(H.prepared.name==="drag"){var V=H.prepared.axis;if(V==="x"||V==="y"){var X=V==="x"?"y":"x";I.page[X]=H.coords.start.page[X],I.client[X]=H.coords.start.client[X],I.delta[X]=0}}}var z={id:"actions/drag",install:function(D){var I=D.actions,H=D.Interactable,V=D.defaults;H.prototype.draggable=z.draggable,I.map.drag=z,I.methodDict.drag="draggable",V.actions.drag=z.defaults},listeners:{"interactions:before-action-move":F,"interactions:action-resume":F,"interactions:action-move":U,"auto-start:check":function(D){var I=D.interaction,H=D.interactable,V=D.buttons,X=H.options.drag;if(X&&X.enabled&&(!I.pointerIsDown||!/mouse|pointer/.test(I.pointerType)||(V&H.options.drag.mouseButtons)!=0))return D.action={name:"drag",axis:X.lockAxis==="start"?X.startAxis:X.lockAxis},!1}},draggable:function(D){return P.object(D)?(this.options.drag.enabled=D.enabled!==!1,this.setPerAction("drag",D),this.setOnEvents("drag",D),/^(xy|x|y|start)$/.test(D.lockAxis)&&(this.options.drag.lockAxis=D.lockAxis),/^(xy|x|y)$/.test(D.startAxis)&&(this.options.drag.startAxis=D.startAxis),this):P.bool(D)?(this.options.drag.enabled=D,this):this.options.drag},beforeMove:F,move:U,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"},filterEventType:function(D){return D.search("drag")===0}},$=z,J={init:function(D){var I=D;J.document=I.document,J.DocumentFragment=I.DocumentFragment||W,J.SVGElement=I.SVGElement||W,J.SVGSVGElement=I.SVGSVGElement||W,J.SVGElementInstance=I.SVGElementInstance||W,J.Element=I.Element||W,J.HTMLElement=I.HTMLElement||J.Element,J.Event=I.Event,J.Touch=I.Touch||W,J.PointerEvent=I.PointerEvent||I.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function W(){}var Q=J,ae={init:function(D){var I=Q.Element,H=D.navigator||{};ae.supportsTouch="ontouchstart"in D||P.func(D.DocumentTouch)&&Q.document instanceof D.DocumentTouch,ae.supportsPointerEvent=H.pointerEnabled!==!1&&!!Q.PointerEvent,ae.isIOS=/iP(hone|od|ad)/.test(H.platform),ae.isIOS7=/iP(hone|od|ad)/.test(H.platform)&&/OS 7[^\d]/.test(H.appVersion),ae.isIe9=/MSIE 9/.test(H.userAgent),ae.isOperaMobile=H.appName==="Opera"&&ae.supportsTouch&&/Presto/.test(H.userAgent),ae.prefixedMatchesSelector="matches"in I.prototype?"matches":"webkitMatchesSelector"in I.prototype?"webkitMatchesSelector":"mozMatchesSelector"in I.prototype?"mozMatchesSelector":"oMatchesSelector"in I.prototype?"oMatchesSelector":"msMatchesSelector",ae.pEventTypes=ae.supportsPointerEvent?Q.PointerEvent===D.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,ae.wheelEvent=Q.document&&"onmousewheel"in Q.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},Y=ae;function K(D,I){if(D.contains)return D.contains(I);for(;I;){if(I===D)return!0;I=I.parentNode}return!1}function ee(D,I){for(;P.element(D);){if(q(D,I))return D;D=de(D)}return null}function de(D){var I=D.parentNode;if(P.docFrag(I)){for(;(I=I.host)&&P.docFrag(I););return I}return I}function q(D,I){return C!==b&&(I=I.replace(/\/deep\//g," ")),D[Y.prefixedMatchesSelector](I)}var ie=function(D){return D.parentNode||D.host};function he(D,I){for(var H,V=[],X=D;(H=ie(X))&&X!==I&&H!==X.ownerDocument;)V.unshift(X),X=H;return V}function fe(D,I,H){for(;P.element(D);){if(q(D,I))return!0;if((D=de(D))===H)return q(D,I)}return!1}function Z(D){return D.correspondingUseElement||D}function pe(D){var I=D instanceof Q.SVGElement?D.getBoundingClientRect():D.getClientRects()[0];return I&&{left:I.left,right:I.right,top:I.top,bottom:I.bottom,width:I.width||I.right-I.left,height:I.height||I.bottom-I.top}}function _e(D){var I,H=pe(D);if(!Y.isIOS7&&H){var V={x:(I=(I=M(D))||C).scrollX||I.document.documentElement.scrollLeft,y:I.scrollY||I.document.documentElement.scrollTop};H.left+=V.x,H.right+=V.x,H.top+=V.y,H.bottom+=V.y}return H}function Oe(D){for(var I=[];D;)I.push(D),D=de(D);return I}function we(D){return!!P.string(D)&&(Q.document.querySelector(D),!0)}function Te(D,I){for(var H in I)D[H]=I[H];return D}function ze(D,I,H){return D==="parent"?de(H):D==="self"?I.getRect(H):ee(H,D)}function yt(D,I,H,V){var X=D;return P.string(X)?X=ze(X,I,H):P.func(X)&&(X=X.apply(void 0,V)),P.element(X)&&(X=_e(X)),X}function Be(D){return D&&{x:"x"in D?D.x:D.left,y:"y"in D?D.y:D.top}}function xe(D){return!D||"x"in D&&"y"in D||((D=Te({},D)).x=D.left||0,D.y=D.top||0,D.width=D.width||(D.right||0)-D.x,D.height=D.height||(D.bottom||0)-D.y),D}function re(D,I,H){D.left&&(I.left+=H.x),D.right&&(I.right+=H.x),D.top&&(I.top+=H.y),D.bottom&&(I.bottom+=H.y),I.width=I.right-I.left,I.height=I.bottom-I.top}function Fe(D,I,H){var V=H&&D.options[H];return Be(yt(V&&V.origin||D.options.origin,D,I,[D&&I]))||{x:0,y:0}}function Ie(D,I){var H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(ye){return!0},V=arguments.length>3?arguments[3]:void 0;if(V=V||{},P.string(D)&&D.search(" ")!==-1&&(D=qe(D)),P.array(D))return D.forEach(function(ye){return Ie(ye,I,H,V)}),V;if(P.object(D)&&(I=D,D=""),P.func(I)&&H(D))V[D]=V[D]||[],V[D].push(I);else if(P.array(I))for(var X=0,te=I;X<te.length;X++){var se=te[X];Ie(D,se,H,V)}else if(P.object(I))for(var me in I)Ie(qe(me).map(function(ye){return"".concat(D).concat(ye)}),I[me],H,V);return V}function qe(D){return D.trim().split(/ +/)}var $e=function(D,I){return Math.sqrt(D*D+I*I)},ct=["webkit","moz"];function st(D,I){D.__set||(D.__set={});var H=function(X){if(ct.some(function(te){return X.indexOf(te)===0}))return 1;typeof D[X]!="function"&&X!=="__set"&&Object.defineProperty(D,X,{get:function(){return X in D.__set?D.__set[X]:D.__set[X]=I[X]},set:function(te){D.__set[X]=te},configurable:!0})};for(var V in I)H(V);return D}function ce(D,I){D.page=D.page||{},D.page.x=I.page.x,D.page.y=I.page.y,D.client=D.client||{},D.client.x=I.client.x,D.client.y=I.client.y,D.timeStamp=I.timeStamp}function oe(D){D.page.x=0,D.page.y=0,D.client.x=0,D.client.y=0}function Ee(D){return D instanceof Q.Event||D instanceof Q.Touch}function De(D,I,H){return D=D||"page",(H=H||{}).x=I[D+"X"],H.y=I[D+"Y"],H}function Ke(D,I){return I=I||{x:0,y:0},Y.isOperaMobile&&Ee(D)?(De("screen",D,I),I.x+=window.scrollX,I.y+=window.scrollY):De("page",D,I),I}function He(D){return P.number(D.pointerId)?D.pointerId:D.identifier}function gt(D,I,H){var V=I.length>1?pt(I):I[0];Ke(V,D.page),function(X,te){te=te||{},Y.isOperaMobile&&Ee(X)?De("screen",X,te):De("client",X,te)}(V,D.client),D.timeStamp=H}function lt(D){var I=[];return P.array(D)?(I[0]=D[0],I[1]=D[1]):D.type==="touchend"?D.touches.length===1?(I[0]=D.touches[0],I[1]=D.changedTouches[0]):D.touches.length===0&&(I[0]=D.changedTouches[0],I[1]=D.changedTouches[1]):(I[0]=D.touches[0],I[1]=D.touches[1]),I}function pt(D){for(var I={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},H=0;H<D.length;H++){var V=D[H];for(var X in I)I[X]+=V[X]}for(var te in I)I[te]/=D.length;return I}function It(D){if(!D.length)return null;var I=lt(D),H=Math.min(I[0].pageX,I[1].pageX),V=Math.min(I[0].pageY,I[1].pageY),X=Math.max(I[0].pageX,I[1].pageX),te=Math.max(I[0].pageY,I[1].pageY);return{x:H,y:V,left:H,top:V,right:X,bottom:te,width:X-H,height:te-V}}function ot(D,I){var H=I+"X",V=I+"Y",X=lt(D),te=X[0][H]-X[1][H],se=X[0][V]-X[1][V];return $e(te,se)}function _t(D,I){var H=I+"X",V=I+"Y",X=lt(D),te=X[1][H]-X[0][H],se=X[1][V]-X[0][V];return 180*Math.atan2(se,te)/Math.PI}function Ct(D){return P.string(D.pointerType)?D.pointerType:P.number(D.pointerType)?[void 0,void 0,"touch","pen","mouse"][D.pointerType]:/touch/.test(D.type||"")||D instanceof Q.Touch?"touch":"mouse"}function We(D){var I=P.func(D.composedPath)?D.composedPath():D.path;return[Z(I?I[0]:D.target),Z(D.currentTarget)]}var rt=function(){function D(I){o(this,D),this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=I}return s(D,[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),D}();Object.defineProperty(rt.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var Se=function(D,I){for(var H=0;H<I.length;H++){var V=I[H];D.push(V)}return D},Ge=function(D){return Se([],D)},St=function(D,I){for(var H=0;H<D.length;H++)if(I(D[H],H,D))return H;return-1},Ae=function(D,I){return D[St(D,I)]},xt=function(D){f(H,D);var I=E(H);function H(V,X,te){var se;o(this,H),(se=I.call(this,X._interaction)).dropzone=void 0,se.dragEvent=void 0,se.relatedTarget=void 0,se.draggable=void 0,se.propagationStopped=!1,se.immediatePropagationStopped=!1;var me=te==="dragleave"?V.prev:V.cur,ye=me.element,Pe=me.dropzone;return se.type=te,se.target=ye,se.currentTarget=ye,se.dropzone=Pe,se.dragEvent=X,se.relatedTarget=X.target,se.draggable=X.interactable,se.timeStamp=X.timeStamp,se}return s(H,[{key:"reject",value:function(){var V=this,X=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&X.cur.dropzone===this.dropzone&&X.cur.element===this.target)if(X.prev.dropzone=this.dropzone,X.prev.element=this.target,X.rejected=!0,X.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var te=X.activeDrops,se=St(te,function(ye){var Pe=ye.dropzone,Ce=ye.element;return Pe===V.dropzone&&Ce===V.target});X.activeDrops.splice(se,1);var me=new H(X,this.dragEvent,"dropdeactivate");me.dropzone=this.dropzone,me.target=this.target,this.dropzone.fire(me)}else this.dropzone.fire(new H(X,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),H}(rt);function et(D,I){for(var H=0,V=D.slice();H<V.length;H++){var X=V[H],te=X.dropzone,se=X.element;I.dropzone=te,I.target=se,te.fire(I),I.propagationStopped=I.immediatePropagationStopped=!1}}function mt(D,I){for(var H=function(te,se){for(var me=[],ye=0,Pe=te.interactables.list;ye<Pe.length;ye++){var Ce=Pe[ye];if(Ce.options.drop.enabled){var Qe=Ce.options.drop.accept;if(!(P.element(Qe)&&Qe!==se||P.string(Qe)&&!q(se,Qe)||P.func(Qe)&&!Qe({dropzone:Ce,draggableElement:se})))for(var bt=0,zt=Ce.getAllElements();bt<zt.length;bt++){var Dt=zt[bt];Dt!==se&&me.push({dropzone:Ce,element:Dt,rect:Ce.getRect(Dt)})}}}return me}(D,I),V=0;V<H.length;V++){var X=H[V];X.rect=X.dropzone.getRect(X.element)}return H}function Nt(D,I,H){for(var V=D.dropState,X=D.interactable,te=D.element,se=[],me=0,ye=V.activeDrops;me<ye.length;me++){var Pe=ye[me],Ce=Pe.dropzone,Qe=Pe.element,bt=Pe.rect,zt=Ce.dropCheck(I,H,X,te,Qe,bt);se.push(zt?Qe:null)}var Dt=function(kt){for(var an,Zt,hn,Ln=[],ei=0;ei<kt.length;ei++){var pn=kt[ei],Rn=kt[an];if(pn&&ei!==an)if(Rn){var Mr=ie(pn),Ji=ie(Rn);if(Mr!==pn.ownerDocument)if(Ji!==pn.ownerDocument)if(Mr!==Ji){Ln=Ln.length?Ln:he(Rn);var Sa=void 0;if(Rn instanceof Q.HTMLElement&&pn instanceof Q.SVGElement&&!(pn instanceof Q.SVGSVGElement)){if(pn===Ji)continue;Sa=pn.ownerSVGElement}else Sa=pn;for(var Ni=he(Sa,Rn.ownerDocument),Wo=0;Ni[Wo]&&Ni[Wo]===Ln[Wo];)Wo++;var ca=[Ni[Wo-1],Ni[Wo],Ln[Wo]];if(ca[0])for(var ql=ca[0].lastChild;ql;){if(ql===ca[1]){an=ei,Ln=Ni;break}if(ql===ca[2])break;ql=ql.previousSibling}}else hn=Rn,(parseInt(M(Zt=pn).getComputedStyle(Zt).zIndex,10)||0)>=(parseInt(M(hn).getComputedStyle(hn).zIndex,10)||0)&&(an=ei);else an=ei}else an=ei}return an}(se);return V.activeDrops[Dt]||null}function Bt(D,I,H){var V=D.dropState,X={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return H.type==="dragstart"&&(X.activate=new xt(V,H,"dropactivate"),X.activate.target=null,X.activate.dropzone=null),H.type==="dragend"&&(X.deactivate=new xt(V,H,"dropdeactivate"),X.deactivate.target=null,X.deactivate.dropzone=null),V.rejected||(V.cur.element!==V.prev.element&&(V.prev.dropzone&&(X.leave=new xt(V,H,"dragleave"),H.dragLeave=X.leave.target=V.prev.element,H.prevDropzone=X.leave.dropzone=V.prev.dropzone),V.cur.dropzone&&(X.enter=new xt(V,H,"dragenter"),H.dragEnter=V.cur.element,H.dropzone=V.cur.dropzone)),H.type==="dragend"&&V.cur.dropzone&&(X.drop=new xt(V,H,"drop"),H.dropzone=V.cur.dropzone,H.relatedTarget=V.cur.element),H.type==="dragmove"&&V.cur.dropzone&&(X.move=new xt(V,H,"dropmove"),H.dropzone=V.cur.dropzone)),X}function Qt(D,I){var H=D.dropState,V=H.activeDrops,X=H.cur,te=H.prev;I.leave&&te.dropzone.fire(I.leave),I.enter&&X.dropzone.fire(I.enter),I.move&&X.dropzone.fire(I.move),I.drop&&X.dropzone.fire(I.drop),I.deactivate&&et(V,I.deactivate),H.prev.dropzone=X.dropzone,H.prev.element=X.element}function sn(D,I){var H=D.interaction,V=D.iEvent,X=D.event;if(V.type==="dragmove"||V.type==="dragend"){var te=H.dropState;I.dynamicDrop&&(te.activeDrops=mt(I,H.element));var se=V,me=Nt(H,se,X);te.rejected=te.rejected&&!!me&&me.dropzone===te.cur.dropzone&&me.element===te.cur.element,te.cur.dropzone=me&&me.dropzone,te.cur.element=me&&me.element,te.events=Bt(H,0,se)}}var Yt={id:"actions/drop",install:function(D){var I=D.actions,H=D.interactStatic,V=D.Interactable,X=D.defaults;D.usePlugin($),V.prototype.dropzone=function(te){return function(se,me){if(P.object(me)){if(se.options.drop.enabled=me.enabled!==!1,me.listeners){var ye=Ie(me.listeners),Pe=Object.keys(ye).reduce(function(Qe,bt){return Qe[/^(enter|leave)/.test(bt)?"drag".concat(bt):/^(activate|deactivate|move)/.test(bt)?"drop".concat(bt):bt]=ye[bt],Qe},{}),Ce=se.options.drop.listeners;Ce&&se.off(Ce),se.on(Pe),se.options.drop.listeners=Pe}return P.func(me.ondrop)&&se.on("drop",me.ondrop),P.func(me.ondropactivate)&&se.on("dropactivate",me.ondropactivate),P.func(me.ondropdeactivate)&&se.on("dropdeactivate",me.ondropdeactivate),P.func(me.ondragenter)&&se.on("dragenter",me.ondragenter),P.func(me.ondragleave)&&se.on("dragleave",me.ondragleave),P.func(me.ondropmove)&&se.on("dropmove",me.ondropmove),/^(pointer|center)$/.test(me.overlap)?se.options.drop.overlap=me.overlap:P.number(me.overlap)&&(se.options.drop.overlap=Math.max(Math.min(1,me.overlap),0)),"accept"in me&&(se.options.drop.accept=me.accept),"checker"in me&&(se.options.drop.checker=me.checker),se}return P.bool(me)?(se.options.drop.enabled=me,se):se.options.drop}(this,te)},V.prototype.dropCheck=function(te,se,me,ye,Pe,Ce){return function(Qe,bt,zt,Dt,kt,an,Zt){var hn=!1;if(!(Zt=Zt||Qe.getRect(an)))return!!Qe.options.drop.checker&&Qe.options.drop.checker(bt,zt,hn,Qe,an,Dt,kt);var Ln=Qe.options.drop.overlap;if(Ln==="pointer"){var ei=Fe(Dt,kt,"drag"),pn=Ke(bt);pn.x+=ei.x,pn.y+=ei.y;var Rn=pn.x>Zt.left&&pn.x<Zt.right,Mr=pn.y>Zt.top&&pn.y<Zt.bottom;hn=Rn&&Mr}var Ji=Dt.getRect(kt);if(Ji&&Ln==="center"){var Sa=Ji.left+Ji.width/2,Ni=Ji.top+Ji.height/2;hn=Sa>=Zt.left&&Sa<=Zt.right&&Ni>=Zt.top&&Ni<=Zt.bottom}return Ji&&P.number(Ln)&&(hn=Math.max(0,Math.min(Zt.right,Ji.right)-Math.max(Zt.left,Ji.left))*Math.max(0,Math.min(Zt.bottom,Ji.bottom)-Math.max(Zt.top,Ji.top))/(Ji.width*Ji.height)>=Ln),Qe.options.drop.checker&&(hn=Qe.options.drop.checker(bt,zt,hn,Qe,an,Dt,kt)),hn}(this,te,se,me,ye,Pe,Ce)},H.dynamicDrop=function(te){return P.bool(te)?(D.dynamicDrop=te,H):D.dynamicDrop},Te(I.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),I.methodDict.drop="dropzone",D.dynamicDrop=!1,X.actions.drop=Yt.defaults},listeners:{"interactions:before-action-start":function(D){var I=D.interaction;I.prepared.name==="drag"&&(I.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(D,I){var H=D.interaction,V=(D.event,D.iEvent);if(H.prepared.name==="drag"){var X=H.dropState;X.activeDrops=[],X.events={},X.activeDrops=mt(I,H.element),X.events=Bt(H,0,V),X.events.activate&&(et(X.activeDrops,X.events.activate),I.fire("actions/drop:start",{interaction:H,dragEvent:V}))}},"interactions:action-move":sn,"interactions:after-action-move":function(D,I){var H=D.interaction,V=D.iEvent;if(H.prepared.name==="drag"){var X=H.dropState;Qt(H,X.events),I.fire("actions/drop:move",{interaction:H,dragEvent:V}),X.events={}}},"interactions:action-end":function(D,I){if(D.interaction.prepared.name==="drag"){var H=D.interaction,V=D.iEvent;sn(D,I),Qt(H,H.dropState.events),I.fire("actions/drop:end",{interaction:H,dragEvent:V})}},"interactions:stop":function(D){var I=D.interaction;if(I.prepared.name==="drag"){var H=I.dropState;H&&(H.activeDrops=null,H.events=null,H.cur.dropzone=null,H.cur.element=null,H.prev.dropzone=null,H.prev.element=null,H.rejected=!1)}}},getActiveDrops:mt,getDrop:Nt,getDropEvents:Bt,fireDropEvents:Qt,filterEventType:function(D){return D.search("drag")===0||D.search("drop")===0},defaults:{enabled:!1,accept:null,overlap:"pointer"}},Lt=Yt;function Xt(D){var I=D.interaction,H=D.iEvent,V=D.phase;if(I.prepared.name==="gesture"){var X=I.pointers.map(function(Pe){return Pe.pointer}),te=V==="start",se=V==="end",me=I.interactable.options.deltaSource;if(H.touches=[X[0],X[1]],te)H.distance=ot(X,me),H.box=It(X),H.scale=1,H.ds=0,H.angle=_t(X,me),H.da=0,I.gesture.startDistance=H.distance,I.gesture.startAngle=H.angle;else if(se||I.pointers.length<2){var ye=I.prevEvent;H.distance=ye.distance,H.box=ye.box,H.scale=ye.scale,H.ds=0,H.angle=ye.angle,H.da=0}else H.distance=ot(X,me),H.box=It(X),H.scale=H.distance/I.gesture.startDistance,H.angle=_t(X,me),H.ds=H.scale-I.gesture.scale,H.da=H.angle-I.gesture.angle;I.gesture.distance=H.distance,I.gesture.angle=H.angle,P.number(H.scale)&&H.scale!==1/0&&!isNaN(H.scale)&&(I.gesture.scale=H.scale)}}var yn={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(D){var I=D.actions,H=D.Interactable,V=D.defaults;H.prototype.gesturable=function(X){return P.object(X)?(this.options.gesture.enabled=X.enabled!==!1,this.setPerAction("gesture",X),this.setOnEvents("gesture",X),this):P.bool(X)?(this.options.gesture.enabled=X,this):this.options.gesture},I.map.gesture=yn,I.methodDict.gesture="gesturable",V.actions.gesture=yn.defaults},listeners:{"interactions:action-start":Xt,"interactions:action-move":Xt,"interactions:action-end":Xt,"interactions:new":function(D){D.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(D){if(!(D.interaction.pointers.length<2)){var I=D.interactable.options.gesture;if(I&&I.enabled)return D.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""},filterEventType:function(D){return D.search("gesture")===0}},lr=yn;function Jr(D,I,H,V,X,te,se){if(!I)return!1;if(I===!0){var me=P.number(te.width)?te.width:te.right-te.left,ye=P.number(te.height)?te.height:te.bottom-te.top;if(se=Math.min(se,Math.abs((D==="left"||D==="right"?me:ye)/2)),me<0&&(D==="left"?D="right":D==="right"&&(D="left")),ye<0&&(D==="top"?D="bottom":D==="bottom"&&(D="top")),D==="left"){var Pe=me>=0?te.left:te.right;return H.x<Pe+se}if(D==="top"){var Ce=ye>=0?te.top:te.bottom;return H.y<Ce+se}if(D==="right")return H.x>(me>=0?te.right:te.left)-se;if(D==="bottom")return H.y>(ye>=0?te.bottom:te.top)-se}return!!P.element(V)&&(P.element(I)?I===V:fe(V,I,X))}function zn(D){var I=D.iEvent,H=D.interaction;if(H.prepared.name==="resize"&&H.resizeAxes){var V=I;H.interactable.options.resize.square?(H.resizeAxes==="y"?V.delta.x=V.delta.y:V.delta.y=V.delta.x,V.axes="xy"):(V.axes=H.resizeAxes,H.resizeAxes==="x"?V.delta.y=0:H.resizeAxes==="y"&&(V.delta.x=0))}}var Ai,Sr,wn={id:"actions/resize",before:["actions/drag"],install:function(D){var I=D.actions,H=D.browser,V=D.Interactable,X=D.defaults;wn.cursors=function(te){return te.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(H),wn.defaultMargin=H.supportsTouch||H.supportsPointerEvent?20:10,V.prototype.resizable=function(te){return function(se,me,ye){return P.object(me)?(se.options.resize.enabled=me.enabled!==!1,se.setPerAction("resize",me),se.setOnEvents("resize",me),P.string(me.axis)&&/^x$|^y$|^xy$/.test(me.axis)?se.options.resize.axis=me.axis:me.axis===null&&(se.options.resize.axis=ye.defaults.actions.resize.axis),P.bool(me.preserveAspectRatio)?se.options.resize.preserveAspectRatio=me.preserveAspectRatio:P.bool(me.square)&&(se.options.resize.square=me.square),se):P.bool(me)?(se.options.resize.enabled=me,se):se.options.resize}(this,te,D)},I.map.resize=wn,I.methodDict.resize="resizable",X.actions.resize=wn.defaults},listeners:{"interactions:new":function(D){D.interaction.resizeAxes="xy"},"interactions:action-start":function(D){(function(I){var H=I.iEvent,V=I.interaction;if(V.prepared.name==="resize"&&V.prepared.edges){var X=H,te=V.rect;V._rects={start:Te({},te),corrected:Te({},te),previous:Te({},te),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},X.edges=V.prepared.edges,X.rect=V._rects.corrected,X.deltaRect=V._rects.delta}})(D),zn(D)},"interactions:action-move":function(D){(function(I){var H=I.iEvent,V=I.interaction;if(V.prepared.name==="resize"&&V.prepared.edges){var X=H,te=V.interactable.options.resize.invert,se=te==="reposition"||te==="negate",me=V.rect,ye=V._rects,Pe=ye.start,Ce=ye.corrected,Qe=ye.delta,bt=ye.previous;if(Te(bt,Ce),se){if(Te(Ce,me),te==="reposition"){if(Ce.top>Ce.bottom){var zt=Ce.top;Ce.top=Ce.bottom,Ce.bottom=zt}if(Ce.left>Ce.right){var Dt=Ce.left;Ce.left=Ce.right,Ce.right=Dt}}}else Ce.top=Math.min(me.top,Pe.bottom),Ce.bottom=Math.max(me.bottom,Pe.top),Ce.left=Math.min(me.left,Pe.right),Ce.right=Math.max(me.right,Pe.left);for(var kt in Ce.width=Ce.right-Ce.left,Ce.height=Ce.bottom-Ce.top,Ce)Qe[kt]=Ce[kt]-bt[kt];X.edges=V.prepared.edges,X.rect=Ce,X.deltaRect=Qe}})(D),zn(D)},"interactions:action-end":function(D){var I=D.iEvent,H=D.interaction;if(H.prepared.name==="resize"&&H.prepared.edges){var V=I;V.edges=H.prepared.edges,V.rect=H._rects.corrected,V.deltaRect=H._rects.delta}},"auto-start:check":function(D){var I=D.interaction,H=D.interactable,V=D.element,X=D.rect,te=D.buttons;if(X){var se=Te({},I.coords.cur.page),me=H.options.resize;if(me&&me.enabled&&(!I.pointerIsDown||!/mouse|pointer/.test(I.pointerType)||(te&me.mouseButtons)!=0)){if(P.object(me.edges)){var ye={left:!1,right:!1,top:!1,bottom:!1};for(var Pe in ye)ye[Pe]=Jr(Pe,me.edges[Pe],se,I._latestPointer.eventTarget,V,X,me.margin||wn.defaultMargin);ye.left=ye.left&&!ye.right,ye.top=ye.top&&!ye.bottom,(ye.left||ye.right||ye.top||ye.bottom)&&(D.action={name:"resize",edges:ye})}else{var Ce=me.axis!=="y"&&se.x>X.right-wn.defaultMargin,Qe=me.axis!=="x"&&se.y>X.bottom-wn.defaultMargin;(Ce||Qe)&&(D.action={name:"resize",axes:(Ce?"x":"")+(Qe?"y":"")})}return!D.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(D){var I=D.edges,H=D.axis,V=D.name,X=wn.cursors,te=null;if(H)te=X[V+H];else if(I){for(var se="",me=0,ye=["top","bottom","left","right"];me<ye.length;me++){var Pe=ye[me];I[Pe]&&(se+=Pe)}te=X[se]}return te},filterEventType:function(D){return D.search("resize")===0},defaultMargin:null},Mn=wn,Qn={id:"actions",install:function(D){D.usePlugin(lr),D.usePlugin(Mn),D.usePlugin($),D.usePlugin(Lt)}},un=0,ii={request:function(D){return Ai(D)},cancel:function(D){return Sr(D)},init:function(D){if(Ai=D.requestAnimationFrame,Sr=D.cancelAnimationFrame,!Ai)for(var I=["ms","moz","webkit","o"],H=0;H<I.length;H++){var V=I[H];Ai=D["".concat(V,"RequestAnimationFrame")],Sr=D["".concat(V,"CancelAnimationFrame")]||D["".concat(V,"CancelRequestAnimationFrame")]}Ai=Ai&&Ai.bind(D),Sr=Sr&&Sr.bind(D),Ai||(Ai=function(X){var te=Date.now(),se=Math.max(0,16-(te-un)),me=D.setTimeout(function(){X(te+se)},se);return un=te+se,me},Sr=function(X){return clearTimeout(X)})}},ln={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(D){ln.isScrolling=!0,ii.cancel(ln.i),D.autoScroll=ln,ln.interaction=D,ln.prevTime=ln.now(),ln.i=ii.request(ln.scroll)},stop:function(){ln.isScrolling=!1,ln.interaction&&(ln.interaction.autoScroll=null),ii.cancel(ln.i)},scroll:function(){var D=ln.interaction,I=D.interactable,H=D.element,V=D.prepared.name,X=I.options[V].autoScroll,te=zr(X.container,I,H),se=ln.now(),me=(se-ln.prevTime)/1e3,ye=X.speed*me;if(ye>=1){var Pe={x:ln.x*ye,y:ln.y*ye};if(Pe.x||Pe.y){var Ce=Ur(te);P.window(te)?te.scrollBy(Pe.x,Pe.y):te&&(te.scrollLeft+=Pe.x,te.scrollTop+=Pe.y);var Qe=Ur(te),bt={x:Qe.x-Ce.x,y:Qe.y-Ce.y};(bt.x||bt.y)&&I.fire({type:"autoscroll",target:H,interactable:I,delta:bt,interaction:D,container:te})}ln.prevTime=se}ln.isScrolling&&(ii.cancel(ln.i),ln.i=ii.request(ln.scroll))},check:function(D,I){var H;return(H=D.options[I].autoScroll)==null?void 0:H.enabled},onInteractionMove:function(D){var I=D.interaction,H=D.pointer;if(I.interacting()&&ln.check(I.interactable,I.prepared.name))if(I.simulation)ln.x=ln.y=0;else{var V,X,te,se,me=I.interactable,ye=I.element,Pe=I.prepared.name,Ce=me.options[Pe].autoScroll,Qe=zr(Ce.container,me,ye);if(P.window(Qe))se=H.clientX<ln.margin,V=H.clientY<ln.margin,X=H.clientX>Qe.innerWidth-ln.margin,te=H.clientY>Qe.innerHeight-ln.margin;else{var bt=pe(Qe);se=H.clientX<bt.left+ln.margin,V=H.clientY<bt.top+ln.margin,X=H.clientX>bt.right-ln.margin,te=H.clientY>bt.bottom-ln.margin}ln.x=X?1:se?-1:0,ln.y=te?1:V?-1:0,ln.isScrolling||(ln.margin=Ce.margin,ln.speed=Ce.speed,ln.start(I))}}};function zr(D,I,H){return(P.string(D)?ze(D,I,H):D)||M(H)}function Ur(D){return P.window(D)&&(D=window.document.body),{x:D.scrollLeft,y:D.scrollTop}}var Rr={id:"auto-scroll",install:function(D){var I=D.defaults,H=D.actions;D.autoScroll=ln,ln.now=function(){return D.now()},H.phaselessTypes.autoscroll=!0,I.perAction.autoScroll=ln.defaults},listeners:{"interactions:new":function(D){D.interaction.autoScroll=null},"interactions:destroy":function(D){D.interaction.autoScroll=null,ln.stop(),ln.interaction&&(ln.interaction=null)},"interactions:stop":ln.stop,"interactions:action-move":function(D){return ln.onInteractionMove(D)}}},Or=Rr;function cr(D,I){var H=!1;return function(){return H||(C.console.warn(I),H=!0),D.apply(this,arguments)}}function _r(D,I){return D.name=I.name,D.axis=I.axis,D.edges=I.edges,D}function le(D){return P.bool(D)?(this.options.styleCursor=D,this):D===null?(delete this.options.styleCursor,this):this.options.styleCursor}function Ue(D){return P.func(D)?(this.options.actionChecker=D,this):D===null?(delete this.options.actionChecker,this):this.options.actionChecker}var at={id:"auto-start/interactableMethods",install:function(D){var I=D.Interactable;I.prototype.getAction=function(H,V,X,te){var se=function(me,ye,Pe,Ce,Qe){var bt=me.getRect(Ce),zt=ye.buttons||{0:1,1:4,3:8,4:16}[ye.button],Dt={action:null,interactable:me,interaction:Pe,element:Ce,rect:bt,buttons:zt};return Qe.fire("auto-start:check",Dt),Dt.action}(this,V,X,te,D);return this.options.actionChecker?this.options.actionChecker(H,V,se,this,te,X):se},I.prototype.ignoreFrom=cr(function(H){return this._backCompatOption("ignoreFrom",H)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),I.prototype.allowFrom=cr(function(H){return this._backCompatOption("allowFrom",H)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),I.prototype.actionChecker=Ue,I.prototype.styleCursor=le}};function Ze(D,I,H,V,X){return I.testIgnoreAllow(I.options[D.name],H,V)&&I.options[D.name].enabled&&qt(I,H,D,X)?D:null}function Ve(D,I,H,V,X,te,se){for(var me=0,ye=V.length;me<ye;me++){var Pe=V[me],Ce=X[me],Qe=Pe.getAction(I,H,D,Ce);if(Qe){var bt=Ze(Qe,Pe,Ce,te,se);if(bt)return{action:bt,interactable:Pe,element:Ce}}}return{action:null,interactable:null,element:null}}function Rt(D,I,H,V,X){var te=[],se=[],me=V;function ye(Ce){te.push(Ce),se.push(me)}for(;P.element(me);){te=[],se=[],X.interactables.forEachMatch(me,ye);var Pe=Ve(D,I,H,te,se,V,X);if(Pe.action&&!Pe.interactable.options[Pe.action.name].manualStart)return Pe;me=de(me)}return{action:null,interactable:null,element:null}}function $t(D,I,H){var V=I.action,X=I.interactable,te=I.element;V=V||{name:null},D.interactable=X,D.element=te,_r(D.prepared,V),D.rect=X&&V.name?X.getRect(te):null,dn(D,H),H.fire("autoStart:prepared",{interaction:D})}function qt(D,I,H,V){var X=D.options,te=X[H.name].max,se=X[H.name].maxPerElement,me=V.autoStart.maxInteractions,ye=0,Pe=0,Ce=0;if(!(te&&se&&me))return!1;for(var Qe=0,bt=V.interactions.list;Qe<bt.length;Qe++){var zt=bt[Qe],Dt=zt.prepared.name;if(zt.interacting()&&(++ye>=me||zt.interactable===D&&((Pe+=Dt===H.name?1:0)>=te||zt.element===I&&(Ce++,Dt===H.name&&Ce>=se))))return!1}return me>0}function Wt(D,I){return P.number(D)?(I.autoStart.maxInteractions=D,this):I.autoStart.maxInteractions}function gn(D,I,H){var V=H.autoStart.cursorElement;V&&V!==D&&(V.style.cursor=""),D.ownerDocument.documentElement.style.cursor=I,D.style.cursor=I,H.autoStart.cursorElement=I?D:null}function dn(D,I){var H=D.interactable,V=D.element,X=D.prepared;if(D.pointerType==="mouse"&&H&&H.options.styleCursor){var te="";if(X.name){var se=H.options[X.name].cursorChecker;te=P.func(se)?se(X,H,V,D._interacting):I.actions.map[X.name].getCursor(X)}gn(D.element,te||"",I)}else I.autoStart.cursorElement&&gn(I.autoStart.cursorElement,"",I)}var on={id:"auto-start/base",before:["actions"],install:function(D){var I=D.interactStatic,H=D.defaults;D.usePlugin(at),H.base.actionChecker=null,H.base.styleCursor=!0,Te(H.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),I.maxInteractions=function(V){return Wt(V,D)},D.autoStart={maxInteractions:1/0,withinInteractionLimit:qt,cursorElement:null}},listeners:{"interactions:down":function(D,I){var H=D.interaction,V=D.pointer,X=D.event,te=D.eventTarget;H.interacting()||$t(H,Rt(H,V,X,te,I),I)},"interactions:move":function(D,I){(function(H,V){var X=H.interaction,te=H.pointer,se=H.event,me=H.eventTarget;X.pointerType!=="mouse"||X.pointerIsDown||X.interacting()||$t(X,Rt(X,te,se,me,V),V)})(D,I),function(H,V){var X=H.interaction;if(X.pointerIsDown&&!X.interacting()&&X.pointerWasMoved&&X.prepared.name){V.fire("autoStart:before-start",H);var te=X.interactable,se=X.prepared.name;se&&te&&(te.options[se].manualStart||!qt(te,X.element,X.prepared,V)?X.stop():(X.start(X.prepared,te,X.element),dn(X,V)))}}(D,I)},"interactions:stop":function(D,I){var H=D.interaction,V=H.interactable;V&&V.options.styleCursor&&gn(H.element,"",I)}},maxInteractions:Wt,withinInteractionLimit:qt,validateAction:Ze},Gn=on,Vn={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(D,I){var H=D.interaction,V=D.eventTarget,X=D.dx,te=D.dy;if(H.prepared.name==="drag"){var se=Math.abs(X),me=Math.abs(te),ye=H.interactable.options.drag,Pe=ye.startAxis,Ce=se>me?"x":se<me?"y":"xy";if(H.prepared.axis=ye.lockAxis==="start"?Ce[0]:ye.lockAxis,Ce!=="xy"&&Pe!=="xy"&&Pe!==Ce){H.prepared.name=null;for(var Qe=V,bt=function(Dt){if(Dt!==H.interactable){var kt=H.interactable.options.drag;if(!kt.manualStart&&Dt.testIgnoreAllow(kt,Qe,V)){var an=Dt.getAction(H.downPointer,H.downEvent,H,Qe);if(an&&an.name==="drag"&&function(Zt,hn){if(!hn)return!1;var Ln=hn.options.drag.startAxis;return Zt==="xy"||Ln==="xy"||Ln===Zt}(Ce,Dt)&&Gn.validateAction(an,Dt,Qe,V,I))return Dt}}};P.element(Qe);){var zt=I.interactables.forEachMatch(Qe,bt);if(zt){H.prepared.name="drag",H.interactable=zt,H.element=Qe;break}Qe=de(Qe)}}}}}};function jn(D){var I=D.prepared&&D.prepared.name;if(!I)return null;var H=D.interactable.options;return H[I].hold||H[I].delay}var In={id:"auto-start/hold",install:function(D){var I=D.defaults;D.usePlugin(Gn),I.perAction.hold=0,I.perAction.delay=0},listeners:{"interactions:new":function(D){D.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(D){var I=D.interaction,H=jn(I);H>0&&(I.autoStartHoldTimer=setTimeout(function(){I.start(I.prepared,I.interactable,I.element)},H))},"interactions:move":function(D){var I=D.interaction,H=D.duplicate;I.autoStartHoldTimer&&I.pointerWasMoved&&!H&&(clearTimeout(I.autoStartHoldTimer),I.autoStartHoldTimer=null)},"autoStart:before-start":function(D){var I=D.interaction;jn(I)>0&&(I.prepared.name=null)}},getHoldDuration:jn},bn=In,cn={id:"auto-start",install:function(D){D.usePlugin(Gn),D.usePlugin(bn),D.usePlugin(Vn)}},Si=function(D){return/^(always|never|auto)$/.test(D)?(this.options.preventDefault=D,this):P.bool(D)?(this.options.preventDefault=D?"always":"never",this):this.options.preventDefault};function Wn(D){var I=D.interaction,H=D.event;I.interactable&&I.interactable.checkAndPreventDefault(H)}var $n={id:"core/interactablePreventDefault",install:function(D){var I=D.Interactable;I.prototype.preventDefault=Si,I.prototype.checkAndPreventDefault=function(H){return function(V,X,te){var se=V.options.preventDefault;if(se!=="never")if(se!=="always"){if(X.events.supportsPassive&&/^touch(start|move)$/.test(te.type)){var me=M(te.target).document,ye=X.getDocOptions(me);if(!ye||!ye.events||ye.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(te.type)||P.element(te.target)&&q(te.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||te.preventDefault()}else te.preventDefault()}(this,D,H)},D.interactions.docEvents.push({type:"dragstart",listener:function(H){for(var V=0,X=D.interactions.list;V<X.length;V++){var te=X[V];if(te.element&&(te.element===H.target||K(te.element,H.target)))return void te.interactable.checkAndPreventDefault(H)}}})},listeners:["down","move","up","cancel"].reduce(function(D,I){return D["interactions:".concat(I)]=Wn,D},{})};function Tn(D,I){if(I.phaselessTypes[D])return!0;for(var H in I.map)if(D.indexOf(H)===0&&D.substr(H.length)in I.phases)return!0;return!1}function Cn(D){var I={};for(var H in D){var V=D[H];P.plainObject(V)?I[H]=Cn(V):P.array(V)?I[H]=Ge(V):I[H]=V}return I}var Zn=function(){function D(I){o(this,D),this.states=[],this.startOffset={left:0,right:0,top:0,bottom:0},this.startDelta=void 0,this.result=void 0,this.endResult=void 0,this.startEdges=void 0,this.edges=void 0,this.interaction=void 0,this.interaction=I,this.result=An(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}return s(D,[{key:"start",value:function(I,H){var V,X,te=I.phase,se=this.interaction,me=function(Pe){var Ce=Pe.interactable.options[Pe.prepared.name],Qe=Ce.modifiers;return Qe&&Qe.length?Qe:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(bt){var zt=Ce[bt];return zt&&zt.enabled&&{options:zt,methods:zt._methods}}).filter(function(bt){return!!bt})}(se);this.prepareStates(me),this.startEdges=Te({},se.edges),this.edges=Te({},this.startEdges),this.startOffset=(V=se.rect,X=H,V?{left:X.x-V.left,top:X.y-V.top,right:V.right-X.x,bottom:V.bottom-X.y}:{left:0,top:0,right:0,bottom:0}),this.startDelta={x:0,y:0};var ye=this.fillArg({phase:te,pageCoords:H,preEnd:!1});return this.result=An(),this.startAll(ye),this.result=this.setAll(ye)}},{key:"fillArg",value:function(I){var H=this.interaction;return I.interaction=H,I.interactable=H.interactable,I.element=H.element,I.rect||(I.rect=H.rect),I.edges||(I.edges=this.startEdges),I.startOffset=this.startOffset,I}},{key:"startAll",value:function(I){for(var H=0,V=this.states;H<V.length;H++){var X=V[H];X.methods.start&&(I.state=X,X.methods.start(I))}}},{key:"setAll",value:function(I){var H=I.phase,V=I.preEnd,X=I.skipModifiers,te=I.rect,se=I.edges;I.coords=Te({},I.pageCoords),I.rect=Te({},te),I.edges=Te({},se);for(var me=X?this.states.slice(X):this.states,ye=An(I.coords,I.rect),Pe=0;Pe<me.length;Pe++){var Ce,Qe=me[Pe],bt=Qe.options,zt=Te({},I.coords),Dt=null;(Ce=Qe.methods)!=null&&Ce.set&&this.shouldDo(bt,V,H)&&(I.state=Qe,Dt=Qe.methods.set(I),re(I.edges,I.rect,{x:I.coords.x-zt.x,y:I.coords.y-zt.y})),ye.eventProps.push(Dt)}Te(this.edges,I.edges),ye.delta.x=I.coords.x-I.pageCoords.x,ye.delta.y=I.coords.y-I.pageCoords.y,ye.rectDelta.left=I.rect.left-te.left,ye.rectDelta.right=I.rect.right-te.right,ye.rectDelta.top=I.rect.top-te.top,ye.rectDelta.bottom=I.rect.bottom-te.bottom;var kt=this.result.coords,an=this.result.rect;if(kt&&an){var Zt=ye.rect.left!==an.left||ye.rect.right!==an.right||ye.rect.top!==an.top||ye.rect.bottom!==an.bottom;ye.changed=Zt||kt.x!==ye.coords.x||kt.y!==ye.coords.y}return ye}},{key:"applyToInteraction",value:function(I){var H=this.interaction,V=I.phase,X=H.coords.cur,te=H.coords.start,se=this.result,me=this.startDelta,ye=se.delta;V==="start"&&Te(this.startDelta,se.delta);for(var Pe=0,Ce=[[te,me],[X,ye]];Pe<Ce.length;Pe++){var Qe=Ce[Pe],bt=Qe[0],zt=Qe[1];bt.page.x+=zt.x,bt.page.y+=zt.y,bt.client.x+=zt.x,bt.client.y+=zt.y}var Dt=this.result.rectDelta,kt=I.rect||H.rect;kt.left+=Dt.left,kt.right+=Dt.right,kt.top+=Dt.top,kt.bottom+=Dt.bottom,kt.width=kt.right-kt.left,kt.height=kt.bottom-kt.top}},{key:"setAndApply",value:function(I){var H=this.interaction,V=I.phase,X=I.preEnd,te=I.skipModifiers,se=this.setAll(this.fillArg({preEnd:X,phase:V,pageCoords:I.modifiedCoords||H.coords.cur.page}));if(this.result=se,!se.changed&&(!te||te<this.states.length)&&H.interacting())return!1;if(I.modifiedCoords){var me=H.coords.cur.page,ye={x:I.modifiedCoords.x-me.x,y:I.modifiedCoords.y-me.y};se.coords.x+=ye.x,se.coords.y+=ye.y,se.delta.x+=ye.x,se.delta.y+=ye.y}this.applyToInteraction(I)}},{key:"beforeEnd",value:function(I){var H=I.interaction,V=I.event,X=this.states;if(X&&X.length){for(var te=!1,se=0;se<X.length;se++){var me=X[se];I.state=me;var ye=me.options,Pe=me.methods,Ce=Pe.beforeEnd&&Pe.beforeEnd(I);if(Ce)return this.endResult=Ce,!1;te=te||!te&&this.shouldDo(ye,!0,I.phase,!0)}te&&H.move({event:V,preEnd:!0})}}},{key:"stop",value:function(I){var H=I.interaction;if(this.states&&this.states.length){var V=Te({states:this.states,interactable:H.interactable,element:H.element,rect:null},I);this.fillArg(V);for(var X=0,te=this.states;X<te.length;X++){var se=te[X];V.state=se,se.methods.stop&&se.methods.stop(V)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(I){this.states=[];for(var H=0;H<I.length;H++){var V=I[H],X=V.options,te=V.methods,se=V.name;this.states.push({options:X,methods:te,index:H,name:se})}return this.states}},{key:"restoreInteractionCoords",value:function(I){var H=I.interaction,V=H.coords,X=H.rect,te=H.modification;if(te.result){for(var se=te.startDelta,me=te.result,ye=me.delta,Pe=me.rectDelta,Ce=0,Qe=[[V.start,se],[V.cur,ye]];Ce<Qe.length;Ce++){var bt=Qe[Ce],zt=bt[0],Dt=bt[1];zt.page.x-=Dt.x,zt.page.y-=Dt.y,zt.client.x-=Dt.x,zt.client.y-=Dt.y}X.left-=Pe.left,X.right-=Pe.right,X.top-=Pe.top,X.bottom-=Pe.bottom}}},{key:"shouldDo",value:function(I,H,V,X){return!(!I||I.enabled===!1||X&&!I.endOnly||I.endOnly&&!H||V==="start"&&!I.setStart)}},{key:"copyFrom",value:function(I){this.startOffset=I.startOffset,this.startDelta=I.startDelta,this.startEdges=I.startEdges,this.edges=I.edges,this.states=I.states.map(function(H){return Cn(H)}),this.result=An(Te({},I.result.coords),Te({},I.result.rect))}},{key:"destroy",value:function(){for(var I in this)this[I]=null}}]),D}();function An(D,I){return{rect:I,coords:D,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function xi(D,I){var H=D.defaults,V={start:D.start,set:D.set,beforeEnd:D.beforeEnd,stop:D.stop},X=function(te){var se=te||{};for(var me in se.enabled=se.enabled!==!1,H)me in se||(se[me]=H[me]);var ye={options:se,methods:V,name:I,enable:function(){return se.enabled=!0,ye},disable:function(){return se.enabled=!1,ye}};return ye};return I&&typeof I=="string"&&(X._defaults=H,X._methods=V),X}function Li(D){var I=D.iEvent,H=D.interaction.modification.result;H&&(I.modifiers=H.eventProps)}var $i={id:"modifiers/base",before:["actions"],install:function(D){D.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(D){var I=D.interaction;I.modification=new Zn(I)},"interactions:before-action-start":function(D){var I=D.interaction,H=D.interaction.modification;H.start(D,I.coords.start.page),I.edges=H.edges,H.applyToInteraction(D)},"interactions:before-action-move":function(D){var I=D.interaction,H=I.modification,V=H.setAndApply(D);return I.edges=H.edges,V},"interactions:before-action-end":function(D){var I=D.interaction,H=I.modification,V=H.beforeEnd(D);return I.edges=H.startEdges,V},"interactions:action-start":Li,"interactions:action-move":Li,"interactions:action-end":Li,"interactions:after-action-start":function(D){return D.interaction.modification.restoreInteractionCoords(D)},"interactions:after-action-move":function(D){return D.interaction.modification.restoreInteractionCoords(D)},"interactions:stop":function(D){return D.interaction.modification.stop(D)}}},Ki=$i,Ir={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}},Wi=function(D){f(H,D);var I=E(H);function H(V,X,te,se,me,ye,Pe){var Ce;o(this,H),(Ce=I.call(this,V)).relatedTarget=null,Ce.screenX=void 0,Ce.screenY=void 0,Ce.button=void 0,Ce.buttons=void 0,Ce.ctrlKey=void 0,Ce.shiftKey=void 0,Ce.altKey=void 0,Ce.metaKey=void 0,Ce.page=void 0,Ce.client=void 0,Ce.delta=void 0,Ce.rect=void 0,Ce.x0=void 0,Ce.y0=void 0,Ce.t0=void 0,Ce.dt=void 0,Ce.duration=void 0,Ce.clientX0=void 0,Ce.clientY0=void 0,Ce.velocity=void 0,Ce.speed=void 0,Ce.swipe=void 0,Ce.axes=void 0,Ce.preEnd=void 0,me=me||V.element;var Qe=V.interactable,bt=(Qe&&Qe.options||Ir).deltaSource,zt=Fe(Qe,me,te),Dt=se==="start",kt=se==="end",an=Dt?_(Ce):V.prevEvent,Zt=Dt?V.coords.start:kt?{page:an.page,client:an.client,timeStamp:V.coords.cur.timeStamp}:V.coords.cur;return Ce.page=Te({},Zt.page),Ce.client=Te({},Zt.client),Ce.rect=Te({},V.rect),Ce.timeStamp=Zt.timeStamp,kt||(Ce.page.x-=zt.x,Ce.page.y-=zt.y,Ce.client.x-=zt.x,Ce.client.y-=zt.y),Ce.ctrlKey=X.ctrlKey,Ce.altKey=X.altKey,Ce.shiftKey=X.shiftKey,Ce.metaKey=X.metaKey,Ce.button=X.button,Ce.buttons=X.buttons,Ce.target=me,Ce.currentTarget=me,Ce.preEnd=ye,Ce.type=Pe||te+(se||""),Ce.interactable=Qe,Ce.t0=Dt?V.pointers[V.pointers.length-1].downTime:an.t0,Ce.x0=V.coords.start.page.x-zt.x,Ce.y0=V.coords.start.page.y-zt.y,Ce.clientX0=V.coords.start.client.x-zt.x,Ce.clientY0=V.coords.start.client.y-zt.y,Ce.delta=Dt||kt?{x:0,y:0}:{x:Ce[bt].x-an[bt].x,y:Ce[bt].y-an[bt].y},Ce.dt=V.coords.delta.timeStamp,Ce.duration=Ce.timeStamp-Ce.t0,Ce.velocity=Te({},V.coords.velocity[bt]),Ce.speed=$e(Ce.velocity.x,Ce.velocity.y),Ce.swipe=kt||se==="inertiastart"?Ce.getSwipe():null,Ce}return s(H,[{key:"getSwipe",value:function(){var V=this._interaction;if(V.prevEvent.speed<600||this.timeStamp-V.prevEvent.timeStamp>150)return null;var X=180*Math.atan2(V.prevEvent.velocityY,V.prevEvent.velocityX)/Math.PI;X<0&&(X+=360);var te=112.5<=X&&X<247.5,se=202.5<=X&&X<337.5;return{up:se,down:!se&&22.5<=X&&X<157.5,left:te,right:!te&&(292.5<=X||X<67.5),angle:X,speed:V.prevEvent.speed,velocity:{x:V.prevEvent.velocityX,y:V.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}]),H}(rt);Object.defineProperties(Wi.prototype,{pageX:{get:function(){return this.page.x},set:function(D){this.page.x=D}},pageY:{get:function(){return this.page.y},set:function(D){this.page.y=D}},clientX:{get:function(){return this.client.x},set:function(D){this.client.x=D}},clientY:{get:function(){return this.client.y},set:function(D){this.client.y=D}},dx:{get:function(){return this.delta.x},set:function(D){this.delta.x=D}},dy:{get:function(){return this.delta.y},set:function(D){this.delta.y=D}},velocityX:{get:function(){return this.velocity.x},set:function(D){this.velocity.x=D}},velocityY:{get:function(){return this.velocity.y},set:function(D){this.velocity.y=D}}});var bo=s(function D(I,H,V,X,te){o(this,D),this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=I,this.pointer=H,this.event=V,this.downTime=X,this.downTarget=te}),no=function(D){return D.interactable="",D.element="",D.prepared="",D.pointerIsDown="",D.pointerWasMoved="",D._proxy="",D}({}),Ma=function(D){return D.start="",D.move="",D.end="",D.stop="",D.interacting="",D}({}),Os=0,od=function(){function D(I){var H=this,V=I.pointerType,X=I.scopeFire;o(this,D),this.interactable=null,this.element=null,this.rect=null,this._rects=void 0,this.edges=null,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=void 0,this.simulation=null,this.doMove=cr(function(Ce){this.move(Ce)},"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},prev:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},cur:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},delta:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},velocity:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},this._id=Os++,this._scopeFire=X,this.pointerType=V;var te=this;this._proxy={};var se=function(Ce){Object.defineProperty(H._proxy,Ce,{get:function(){return te[Ce]}})};for(var me in no)se(me);var ye=function(Ce){Object.defineProperty(H._proxy,Ce,{value:function(){return te[Ce].apply(te,arguments)}})};for(var Pe in Ma)ye(Pe);this._scopeFire("interactions:new",{interaction:this})}return s(D,[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(I,H,V){var X=this.updatePointer(I,H,V,!0),te=this.pointers[X];this._scopeFire("interactions:down",{pointer:I,event:H,eventTarget:V,pointerIndex:X,pointerInfo:te,type:"down",interaction:this})}},{key:"start",value:function(I,H,V){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(I.name==="gesture"?2:1)||!H.options[I.name].enabled)&&(_r(this.prepared,I),this.interactable=H,this.element=V,this.rect=H.getRect(V),this.edges=this.prepared.edges?Te({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(I,H,V){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(I,H,V,!1);var X,te,se=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(X=this.coords.cur.client.x-this.coords.start.client.x,te=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=$e(X,te)>this.pointerMoveTolerance);var me,ye,Pe,Ce=this.getPointerIndex(I),Qe={pointer:I,pointerIndex:Ce,pointerInfo:this.pointers[Ce],event:H,type:"move",eventTarget:V,dx:X,dy:te,duplicate:se,interaction:this};se||(me=this.coords.velocity,ye=this.coords.delta,Pe=Math.max(ye.timeStamp/1e3,.001),me.page.x=ye.page.x/Pe,me.page.y=ye.page.y/Pe,me.client.x=ye.client.x/Pe,me.client.y=ye.client.y/Pe,me.timeStamp=Pe),this._scopeFire("interactions:move",Qe),se||this.simulation||(this.interacting()&&(Qe.type=null,this.move(Qe)),this.pointerWasMoved&&ce(this.coords.prev,this.coords.cur))}},{key:"move",value:function(I){I&&I.event||oe(this.coords.delta),(I=Te({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},I||{})).phase="move",this._doPhase(I)}},{key:"pointerUp",value:function(I,H,V,X){var te=this.getPointerIndex(I);te===-1&&(te=this.updatePointer(I,H,V,!1));var se=/cancel$/i.test(H.type)?"cancel":"up";this._scopeFire("interactions:".concat(se),{pointer:I,pointerIndex:te,pointerInfo:this.pointers[te],event:H,eventTarget:V,type:se,curEventTarget:X,interaction:this}),this.simulation||this.end(H),this.removePointer(I,H)}},{key:"documentBlur",value:function(I){this.end(I),this._scopeFire("interactions:blur",{event:I,type:"blur",interaction:this})}},{key:"end",value:function(I){var H;this._ending=!0,I=I||this._latestPointer.event,this.interacting()&&(H=this._doPhase({event:I,interaction:this,phase:"end"})),this._ending=!1,H===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(I){var H=He(I);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:St(this.pointers,function(V){return V.id===H})}},{key:"getPointerInfo",value:function(I){return this.pointers[this.getPointerIndex(I)]}},{key:"updatePointer",value:function(I,H,V,X){var te,se,me,ye=He(I),Pe=this.getPointerIndex(I),Ce=this.pointers[Pe];return X=X!==!1&&(X||/(down|start)$/i.test(H.type)),Ce?Ce.pointer=I:(Ce=new bo(ye,I,H,null,null),Pe=this.pointers.length,this.pointers.push(Ce)),gt(this.coords.cur,this.pointers.map(function(Qe){return Qe.pointer}),this._now()),te=this.coords.delta,se=this.coords.prev,me=this.coords.cur,te.page.x=me.page.x-se.page.x,te.page.y=me.page.y-se.page.y,te.client.x=me.client.x-se.client.x,te.client.y=me.client.y-se.client.y,te.timeStamp=me.timeStamp-se.timeStamp,X&&(this.pointerIsDown=!0,Ce.downTime=this.coords.cur.timeStamp,Ce.downTarget=V,st(this.downPointer,I),this.interacting()||(ce(this.coords.start,this.coords.cur),ce(this.coords.prev,this.coords.cur),this.downEvent=H,this.pointerWasMoved=!1)),this._updateLatestPointer(I,H,V),this._scopeFire("interactions:update-pointer",{pointer:I,event:H,eventTarget:V,down:X,pointerInfo:Ce,pointerIndex:Pe,interaction:this}),Pe}},{key:"removePointer",value:function(I,H){var V=this.getPointerIndex(I);if(V!==-1){var X=this.pointers[V];this._scopeFire("interactions:remove-pointer",{pointer:I,event:H,eventTarget:null,pointerIndex:V,pointerInfo:X,interaction:this}),this.pointers.splice(V,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(I,H,V){this._latestPointer.pointer=I,this._latestPointer.event=H,this._latestPointer.eventTarget=V}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(I,H,V,X){return new Wi(this,I,this.prepared.name,H,this.element,V,X)}},{key:"_fireEvent",value:function(I){var H;(H=this.interactable)==null||H.fire(I),(!this.prevEvent||I.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=I)}},{key:"_doPhase",value:function(I){var H=I.event,V=I.phase,X=I.preEnd,te=I.type,se=this.rect;if(se&&V==="move"&&(re(this.edges,se,this.coords.delta[this.interactable.options.deltaSource]),se.width=se.right-se.left,se.height=se.bottom-se.top),this._scopeFire("interactions:before-action-".concat(V),I)===!1)return!1;var me=I.iEvent=this._createPreparedEvent(H,V,X,te);return this._scopeFire("interactions:action-".concat(V),I),V==="start"&&(this.prevEvent=me),this._fireEvent(me),this._scopeFire("interactions:after-action-".concat(V),I),!0}},{key:"_now",value:function(){return Date.now()}}]),D}();function Xc(D){xr(D.interaction)}function xr(D){if(!function(H){return!(!H.offset.pending.x&&!H.offset.pending.y)}(D))return!1;var I=D.offset.pending;return Ua(D.coords.cur,I),Ua(D.coords.delta,I),re(D.edges,D.rect,I),I.x=0,I.y=0,!0}function ko(D){var I=D.x,H=D.y;this.offset.pending.x+=I,this.offset.pending.y+=H,this.offset.total.x+=I,this.offset.total.y+=H}function Ua(D,I){var H=D.page,V=D.client,X=I.x,te=I.y;H.x+=X,H.y+=te,V.x+=X,V.y+=te}Ma.offsetBy="";var va={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(D){D.Interaction.prototype.offsetBy=ko},listeners:{"interactions:new":function(D){D.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(D){return function(I){I.pointerIsDown&&(Ua(I.coords.cur,I.offset.total),I.offset.pending.x=0,I.offset.pending.y=0)}(D.interaction)},"interactions:before-action-start":Xc,"interactions:before-action-move":Xc,"interactions:before-action-end":function(D){var I=D.interaction;if(xr(I))return I.move({offset:!0}),I.end(),!1},"interactions:stop":function(D){var I=D.interaction;I.offset.total.x=0,I.offset.total.y=0,I.offset.pending.x=0,I.offset.pending.y=0}}},Ta=va,Is=function(){function D(I){o(this,D),this.active=!1,this.isModified=!1,this.smoothEnd=!1,this.allowResume=!1,this.modification=void 0,this.modifierCount=0,this.modifierArg=void 0,this.startCoords=void 0,this.t0=0,this.v0=0,this.te=0,this.targetOffset=void 0,this.modifiedOffset=void 0,this.currentOffset=void 0,this.lambda_v0=0,this.one_ve_v0=0,this.timeout=void 0,this.interaction=void 0,this.interaction=I}return s(D,[{key:"start",value:function(I){var H=this.interaction,V=So(H);if(!V||!V.enabled)return!1;var X=H.coords.velocity.client,te=$e(X.x,X.y),se=this.modification||(this.modification=new Zn(H));if(se.copyFrom(H.modification),this.t0=H._now(),this.allowResume=V.allowResume,this.v0=te,this.currentOffset={x:0,y:0},this.startCoords=H.coords.cur.page,this.modifierArg=se.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-H.coords.cur.timeStamp<50&&te>V.minSpeed&&te>V.endSpeed)this.startInertia();else{if(se.result=se.setAll(this.modifierArg),!se.result.changed)return!1;this.startSmoothEnd()}return H.modification.result.rect=null,H.offsetBy(this.targetOffset),H._doPhase({interaction:H,event:I,phase:"inertiastart"}),H.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),H.modification.result.rect=null,this.active=!0,H.simulation=this,!0}},{key:"startInertia",value:function(){var I=this,H=this.interaction.coords.velocity.client,V=So(this.interaction),X=V.resistance,te=-Math.log(V.endSpeed/this.v0)/X;this.targetOffset={x:(H.x-te)/X,y:(H.y-te)/X},this.te=te,this.lambda_v0=X/this.v0,this.one_ve_v0=1-V.endSpeed/this.v0;var se=this.modification,me=this.modifierArg;me.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},se.result=se.setAll(me),se.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+se.result.delta.x,y:this.targetOffset.y+se.result.delta.y}),this.onNextFrame(function(){return I.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var I=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return I.smoothEndTick()})}},{key:"onNextFrame",value:function(I){var H=this;this.timeout=ii.request(function(){H.active&&I()})}},{key:"inertiaTick",value:function(){var I,H,V,X,te,se,me,ye=this,Pe=this.interaction,Ce=So(Pe).resistance,Qe=(Pe._now()-this.t0)/1e3;if(Qe<this.te){var bt,zt=1-(Math.exp(-Ce*Qe)-this.lambda_v0)/this.one_ve_v0;this.isModified?(I=0,H=0,V=this.targetOffset.x,X=this.targetOffset.y,te=this.modifiedOffset.x,se=this.modifiedOffset.y,bt={x:tn(me=zt,I,V,te),y:tn(me,H,X,se)}):bt={x:this.targetOffset.x*zt,y:this.targetOffset.y*zt};var Dt={x:bt.x-this.currentOffset.x,y:bt.y-this.currentOffset.y};this.currentOffset.x+=Dt.x,this.currentOffset.y+=Dt.y,Pe.offsetBy(Dt),Pe.move(),this.onNextFrame(function(){return ye.inertiaTick()})}else Pe.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var I=this,H=this.interaction,V=H._now()-this.t0,X=So(H).smoothEndDuration;if(V<X){var te={x:Sn(V,0,this.targetOffset.x,X),y:Sn(V,0,this.targetOffset.y,X)},se={x:te.x-this.currentOffset.x,y:te.y-this.currentOffset.y};this.currentOffset.x+=se.x,this.currentOffset.y+=se.y,H.offsetBy(se),H.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return I.smoothEndTick()})}else H.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(I){var H=I.pointer,V=I.event,X=I.eventTarget,te=this.interaction;te.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),te.updatePointer(H,V,X,!0),te._doPhase({interaction:te,event:V,phase:"resume"}),ce(te.coords.prev,te.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,ii.cancel(this.timeout)}}]),D}();function So(D){var I=D.interactable,H=D.prepared;return I&&I.options&&H.name&&I.options[H.name].inertia}var $l={id:"inertia",before:["modifiers","actions"],install:function(D){var I=D.defaults;D.usePlugin(Ta),D.usePlugin(Ki),D.actions.phases.inertiastart=!0,D.actions.phases.resume=!0,I.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(D){var I=D.interaction;I.inertia=new Is(I)},"interactions:before-action-end":function(D){var I=D.interaction,H=D.event;return(!I._interacting||I.simulation||!I.inertia.start(H))&&null},"interactions:down":function(D){var I=D.interaction,H=D.eventTarget,V=I.inertia;if(V.active)for(var X=H;P.element(X);){if(X===I.element){V.resume(D);break}X=de(X)}},"interactions:stop":function(D){var I=D.interaction.inertia;I.active&&I.stop()},"interactions:before-action-resume":function(D){var I=D.interaction.modification;I.stop(D),I.start(D,D.interaction.coords.cur.page),I.applyToInteraction(D)},"interactions:before-action-inertiastart":function(D){return D.interaction.modification.setAndApply(D)},"interactions:action-resume":Li,"interactions:action-inertiastart":Li,"interactions:after-action-inertiastart":function(D){return D.interaction.modification.restoreInteractionCoords(D)},"interactions:after-action-resume":function(D){return D.interaction.modification.restoreInteractionCoords(D)}}};function tn(D,I,H,V){var X=1-D;return X*X*I+2*X*D*H+D*D*V}function Sn(D,I,H,V){return-H*(D/=V)*(D-2)+I}var Mi=$l;function Ci(D,I){for(var H=0;H<I.length;H++){var V=I[H];if(D.immediatePropagationStopped)break;V(D)}}var Hi=function(){function D(I){o(this,D),this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=Te({},I||{})}return s(D,[{key:"fire",value:function(I){var H,V=this.global;(H=this.types[I.type])&&Ci(I,H),!I.propagationStopped&&V&&(H=V[I.type])&&Ci(I,H)}},{key:"on",value:function(I,H){var V=Ie(I,H);for(I in V)this.types[I]=Se(this.types[I]||[],V[I])}},{key:"off",value:function(I,H){var V=Ie(I,H);for(I in V){var X=this.types[I];if(X&&X.length)for(var te=0,se=V[I];te<se.length;te++){var me=se[te],ye=X.indexOf(me);ye!==-1&&X.splice(ye,1)}}}},{key:"getRect",value:function(I){return null}}]),D}(),Bs=function(){function D(I){o(this,D),this.currentTarget=void 0,this.originalEvent=void 0,this.type=void 0,this.originalEvent=I,st(this,I)}return s(D,[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}]),D}();function $o(D){return P.object(D)?{capture:!!D.capture,passive:!!D.passive}:{capture:!!D,passive:!1}}function Fa(D,I){return D===I||(typeof D=="boolean"?!!I.capture===D&&!I.passive:!!D.capture==!!I.capture&&!!D.passive==!!I.passive)}var Vo={id:"events",install:function(D){var I,H=[],V={},X=[],te={add:se,remove:me,addDelegate:function(Ce,Qe,bt,zt,Dt){var kt=$o(Dt);if(!V[bt]){V[bt]=[];for(var an=0;an<X.length;an++){var Zt=X[an];se(Zt,bt,ye),se(Zt,bt,Pe,!0)}}var hn=V[bt],Ln=Ae(hn,function(ei){return ei.selector===Ce&&ei.context===Qe});Ln||(Ln={selector:Ce,context:Qe,listeners:[]},hn.push(Ln)),Ln.listeners.push({func:zt,options:kt})},removeDelegate:function(Ce,Qe,bt,zt,Dt){var kt,an=$o(Dt),Zt=V[bt],hn=!1;if(Zt)for(kt=Zt.length-1;kt>=0;kt--){var Ln=Zt[kt];if(Ln.selector===Ce&&Ln.context===Qe){for(var ei=Ln.listeners,pn=ei.length-1;pn>=0;pn--){var Rn=ei[pn];if(Rn.func===zt&&Fa(Rn.options,an)){ei.splice(pn,1),ei.length||(Zt.splice(kt,1),me(Qe,bt,ye),me(Qe,bt,Pe,!0)),hn=!0;break}}if(hn)break}}},delegateListener:ye,delegateUseCapture:Pe,delegatedEvents:V,documents:X,targets:H,supportsOptions:!1,supportsPassive:!1};function se(Ce,Qe,bt,zt){if(Ce.addEventListener){var Dt=$o(zt),kt=Ae(H,function(an){return an.eventTarget===Ce});kt||(kt={eventTarget:Ce,events:{}},H.push(kt)),kt.events[Qe]||(kt.events[Qe]=[]),Ae(kt.events[Qe],function(an){return an.func===bt&&Fa(an.options,Dt)})||(Ce.addEventListener(Qe,bt,te.supportsOptions?Dt:Dt.capture),kt.events[Qe].push({func:bt,options:Dt}))}}function me(Ce,Qe,bt,zt){if(Ce.addEventListener&&Ce.removeEventListener){var Dt=St(H,function(Mr){return Mr.eventTarget===Ce}),kt=H[Dt];if(kt&&kt.events)if(Qe!=="all"){var an=!1,Zt=kt.events[Qe];if(Zt){if(bt==="all"){for(var hn=Zt.length-1;hn>=0;hn--){var Ln=Zt[hn];me(Ce,Qe,Ln.func,Ln.options)}return}for(var ei=$o(zt),pn=0;pn<Zt.length;pn++){var Rn=Zt[pn];if(Rn.func===bt&&Fa(Rn.options,ei)){Ce.removeEventListener(Qe,bt,te.supportsOptions?ei:ei.capture),Zt.splice(pn,1),Zt.length===0&&(delete kt.events[Qe],an=!0);break}}}an&&!Object.keys(kt.events).length&&H.splice(Dt,1)}else for(Qe in kt.events)kt.events.hasOwnProperty(Qe)&&me(Ce,Qe,"all")}}function ye(Ce,Qe){for(var bt=$o(Qe),zt=new Bs(Ce),Dt=V[Ce.type],kt=We(Ce)[0],an=kt;P.element(an);){for(var Zt=0;Zt<Dt.length;Zt++){var hn=Dt[Zt],Ln=hn.selector,ei=hn.context;if(q(an,Ln)&&K(ei,kt)&&K(ei,an)){var pn=hn.listeners;zt.currentTarget=an;for(var Rn=0;Rn<pn.length;Rn++){var Mr=pn[Rn];Fa(Mr.options,bt)&&Mr.func(zt)}}}an=de(an)}}function Pe(Ce){return ye(Ce,!0)}return(I=D.document)==null||I.createElement("div").addEventListener("test",null,{get capture(){return te.supportsOptions=!0},get passive(){return te.supportsPassive=!0}}),D.events=te,te}},Vl={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(D){for(var I=0,H=Vl.methodOrder;I<H.length;I++){var V=H[I],X=Vl[V](D);if(X)return X}return null},simulationResume:function(D){var I=D.pointerType,H=D.eventType,V=D.eventTarget,X=D.scope;if(!/down|start/i.test(H))return null;for(var te=0,se=X.interactions.list;te<se.length;te++){var me=se[te],ye=V;if(me.simulation&&me.simulation.allowResume&&me.pointerType===I)for(;ye;){if(ye===me.element)return me;ye=de(ye)}}return null},mouseOrPen:function(D){var I,H=D.pointerId,V=D.pointerType,X=D.eventType,te=D.scope;if(V!=="mouse"&&V!=="pen")return null;for(var se=0,me=te.interactions.list;se<me.length;se++){var ye=me[se];if(ye.pointerType===V){if(ye.simulation&&!ya(ye,H))continue;if(ye.interacting())return ye;I||(I=ye)}}if(I)return I;for(var Pe=0,Ce=te.interactions.list;Pe<Ce.length;Pe++){var Qe=Ce[Pe];if(!(Qe.pointerType!==V||/down/i.test(X)&&Qe.simulation))return Qe}return null},hasPointer:function(D){for(var I=D.pointerId,H=0,V=D.scope.interactions.list;H<V.length;H++){var X=V[H];if(ya(X,I))return X}return null},idle:function(D){for(var I=D.pointerType,H=0,V=D.scope.interactions.list;H<V.length;H++){var X=V[H];if(X.pointers.length===1){var te=X.interactable;if(te&&(!te.options.gesture||!te.options.gesture.enabled))continue}else if(X.pointers.length>=2)continue;if(!X.interacting()&&I===X.pointerType)return X}return null}};function ya(D,I){return D.pointers.some(function(H){return H.id===I})}var sl=Vl,ll=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function jl(D,I){return function(H){var V=I.interactions.list,X=Ct(H),te=We(H),se=te[0],me=te[1],ye=[];if(/^touch/.test(H.type)){I.prevTouchTime=I.now();for(var Pe=0,Ce=H.changedTouches;Pe<Ce.length;Pe++){var Qe=Ce[Pe],bt={pointer:Qe,pointerId:He(Qe),pointerType:X,eventType:H.type,eventTarget:se,curEventTarget:me,scope:I},zt=Wh(bt);ye.push([bt.pointer,bt.eventTarget,bt.curEventTarget,zt])}}else{var Dt=!1;if(!Y.supportsPointerEvent&&/mouse/.test(H.type)){for(var kt=0;kt<V.length&&!Dt;kt++)Dt=V[kt].pointerType!=="mouse"&&V[kt].pointerIsDown;Dt=Dt||I.now()-I.prevTouchTime<500||H.timeStamp===0}if(!Dt){var an={pointer:H,pointerId:He(H),pointerType:X,eventType:H.type,curEventTarget:me,eventTarget:se,scope:I},Zt=Wh(an);ye.push([an.pointer,an.eventTarget,an.curEventTarget,Zt])}}for(var hn=0;hn<ye.length;hn++){var Ln=ye[hn],ei=Ln[0],pn=Ln[1],Rn=Ln[2];Ln[3][D](ei,H,pn,Rn)}}}function Wh(D){var I=D.pointerType,H=D.scope,V={interaction:sl.search(D),searchDetails:D};return H.fire("interactions:find",V),V.interaction||H.interactions.new({pointerType:I})}function jo(D,I){var H=D.doc,V=D.scope,X=D.options,te=V.interactions.docEvents,se=V.events,me=se[I];for(var ye in V.browser.isIOS&&!X.events&&(X.events={passive:!1}),se.delegatedEvents)me(H,ye,se.delegateListener),me(H,ye,se.delegateUseCapture,!0);for(var Pe=X&&X.events,Ce=0;Ce<te.length;Ce++){var Qe=te[Ce];me(H,Qe.type,Qe.listener,Pe)}}var Yc={id:"core/interactions",install:function(D){for(var I={},H=0;H<ll.length;H++){var V=ll[H];I[V]=jl(V,D)}var X,te=Y.pEventTypes;function se(){for(var me=0,ye=D.interactions.list;me<ye.length;me++){var Pe=ye[me];if(Pe.pointerIsDown&&Pe.pointerType==="touch"&&!Pe._interacting)for(var Ce=function(){var zt=bt[Qe];D.documents.some(function(Dt){return K(Dt.doc,zt.downTarget)})||Pe.removePointer(zt.pointer,zt.event)},Qe=0,bt=Pe.pointers;Qe<bt.length;Qe++)Ce()}}(X=Q.PointerEvent?[{type:te.down,listener:se},{type:te.down,listener:I.pointerDown},{type:te.move,listener:I.pointerMove},{type:te.up,listener:I.pointerUp},{type:te.cancel,listener:I.pointerUp}]:[{type:"mousedown",listener:I.pointerDown},{type:"mousemove",listener:I.pointerMove},{type:"mouseup",listener:I.pointerUp},{type:"touchstart",listener:se},{type:"touchstart",listener:I.pointerDown},{type:"touchmove",listener:I.pointerMove},{type:"touchend",listener:I.pointerUp},{type:"touchcancel",listener:I.pointerUp}]).push({type:"blur",listener:function(me){for(var ye=0,Pe=D.interactions.list;ye<Pe.length;ye++)Pe[ye].documentBlur(me)}}),D.prevTouchTime=0,D.Interaction=function(me){f(Pe,me);var ye=E(Pe);function Pe(){return o(this,Pe),ye.apply(this,arguments)}return s(Pe,[{key:"pointerMoveTolerance",get:function(){return D.interactions.pointerMoveTolerance},set:function(Ce){D.interactions.pointerMoveTolerance=Ce}},{key:"_now",value:function(){return D.now()}}]),Pe}(od),D.interactions={list:[],new:function(me){me.scopeFire=function(Pe,Ce){return D.fire(Pe,Ce)};var ye=new D.Interaction(me);return D.interactions.list.push(ye),ye},listeners:I,docEvents:X,pointerMoveTolerance:1},D.usePlugin($n)},listeners:{"scope:add-document":function(D){return jo(D,"add")},"scope:remove-document":function(D){return jo(D,"remove")},"interactable:unset":function(D,I){for(var H=D.interactable,V=I.interactions.list.length-1;V>=0;V--){var X=I.interactions.list[V];X.interactable===H&&(X.stop(),I.fire("interactions:destroy",{interaction:X}),X.destroy(),I.interactions.list.length>2&&I.interactions.list.splice(V,1))}}},onDocSignal:jo,doOnInteractions:jl,methodNames:ll},qc=Yc,io=function(D){return D[D.On=0]="On",D[D.Off=1]="Off",D}(io||{}),Xh=function(){function D(I,H,V,X){o(this,D),this.target=void 0,this.options=void 0,this._actions=void 0,this.events=new Hi,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._actions=H.actions,this.target=I,this._context=H.context||V,this._win=M(we(I)?this._context:I),this._doc=this._win.document,this._scopeEvents=X,this.set(H)}return s(D,[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(I,H){return P.func(H.onstart)&&this.on("".concat(I,"start"),H.onstart),P.func(H.onmove)&&this.on("".concat(I,"move"),H.onmove),P.func(H.onend)&&this.on("".concat(I,"end"),H.onend),P.func(H.oninertiastart)&&this.on("".concat(I,"inertiastart"),H.oninertiastart),this}},{key:"updatePerActionListeners",value:function(I,H,V){var X,te=this,se=(X=this._actions.map[I])==null?void 0:X.filterEventType,me=function(ye){return(se==null||se(ye))&&Tn(ye,te._actions)};(P.array(H)||P.object(H))&&this._onOff(io.Off,I,H,void 0,me),(P.array(V)||P.object(V))&&this._onOff(io.On,I,V,void 0,me)}},{key:"setPerAction",value:function(I,H){var V=this._defaults;for(var X in H){var te=X,se=this.options[I],me=H[te];te==="listeners"&&this.updatePerActionListeners(I,se.listeners,me),P.array(me)?se[te]=Ge(me):P.plainObject(me)?(se[te]=Te(se[te]||{},Cn(me)),P.object(V.perAction[te])&&"enabled"in V.perAction[te]&&(se[te].enabled=me.enabled!==!1)):P.bool(me)&&P.object(V.perAction[te])?se[te].enabled=me:se[te]=me}}},{key:"getRect",value:function(I){return I=I||(P.element(this.target)?this.target:null),P.string(this.target)&&(I=I||this._context.querySelector(this.target)),_e(I)}},{key:"rectChecker",value:function(I){var H=this;return P.func(I)?(this.getRect=function(V){var X=Te({},I.apply(H,V));return"width"in X||(X.width=X.right-X.left,X.height=X.bottom-X.top),X},this):I===null?(delete this.getRect,this):this.getRect}},{key:"_backCompatOption",value:function(I,H){if(we(H)||P.object(H)){for(var V in this.options[I]=H,this._actions.map)this.options[V][I]=H;return this}return this.options[I]}},{key:"origin",value:function(I){return this._backCompatOption("origin",I)}},{key:"deltaSource",value:function(I){return I==="page"||I==="client"?(this.options.deltaSource=I,this):this.options.deltaSource}},{key:"getAllElements",value:function(){var I=this.target;return P.string(I)?Array.from(this._context.querySelectorAll(I)):P.func(I)&&I.getAllElements?I.getAllElements():P.element(I)?[I]:[]}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(I){return this._context===I.ownerDocument||K(this._context,I)}},{key:"testIgnoreAllow",value:function(I,H,V){return!this.testIgnore(I.ignoreFrom,H,V)&&this.testAllow(I.allowFrom,H,V)}},{key:"testAllow",value:function(I,H,V){return!I||!!P.element(V)&&(P.string(I)?fe(V,I,H):!!P.element(I)&&K(I,V))}},{key:"testIgnore",value:function(I,H,V){return!(!I||!P.element(V))&&(P.string(I)?fe(V,I,H):!!P.element(I)&&K(I,V))}},{key:"fire",value:function(I){return this.events.fire(I),this}},{key:"_onOff",value:function(I,H,V,X,te){P.object(H)&&!P.array(H)&&(X=V,V=null);var se=Ie(H,V,te);for(var me in se){me==="wheel"&&(me=Y.wheelEvent);for(var ye=0,Pe=se[me];ye<Pe.length;ye++){var Ce=Pe[ye];Tn(me,this._actions)?this.events[I===io.On?"on":"off"](me,Ce):P.string(this.target)?this._scopeEvents[I===io.On?"addDelegate":"removeDelegate"](this.target,this._context,me,Ce,X):this._scopeEvents[I===io.On?"add":"remove"](this.target,me,Ce,X)}}return this}},{key:"on",value:function(I,H,V){return this._onOff(io.On,I,H,V)}},{key:"off",value:function(I,H,V){return this._onOff(io.Off,I,H,V)}},{key:"set",value:function(I){var H=this._defaults;for(var V in P.object(I)||(I={}),this.options=Cn(H.base),this._actions.methodDict){var X=V,te=this._actions.methodDict[X];this.options[X]={},this.setPerAction(X,Te(Te({},H.perAction),H.actions[X])),this[te](I[X])}for(var se in I)se!=="getRect"?P.func(this[se])&&this[se](I[se]):this.rectChecker(I.getRect);return this}},{key:"unset",value:function(){if(P.string(this.target))for(var I in this._scopeEvents.delegatedEvents)for(var H=this._scopeEvents.delegatedEvents[I],V=H.length-1;V>=0;V--){var X=H[V],te=X.selector,se=X.context,me=X.listeners;te===this.target&&se===this._context&&H.splice(V,1);for(var ye=me.length-1;ye>=0;ye--)this._scopeEvents.removeDelegate(this.target,this._context,I,me[ye][0],me[ye][1])}else this._scopeEvents.remove(this.target,"all")}}]),D}(),Wm=function(){function D(I){var H=this;o(this,D),this.list=[],this.selectorMap={},this.scope=void 0,this.scope=I,I.addListeners({"interactable:unset":function(V){var X=V.interactable,te=X.target,se=P.string(te)?H.selectorMap[te]:te[H.scope.id],me=St(se,function(ye){return ye===X});se.splice(me,1)}})}return s(D,[{key:"new",value:function(I,H){H=Te(H||{},{actions:this.scope.actions});var V=new this.scope.Interactable(I,H,this.scope.document,this.scope.events);return this.scope.addDocument(V._doc),this.list.push(V),P.string(I)?(this.selectorMap[I]||(this.selectorMap[I]=[]),this.selectorMap[I].push(V)):(V.target[this.scope.id]||Object.defineProperty(I,this.scope.id,{value:[],configurable:!0}),I[this.scope.id].push(V)),this.scope.fire("interactable:new",{target:I,options:H,interactable:V,win:this.scope._win}),V}},{key:"getExisting",value:function(I,H){var V=H&&H.context||this.scope.document,X=P.string(I),te=X?this.selectorMap[I]:I[this.scope.id];if(te)return Ae(te,function(se){return se._context===V&&(X||se.inContext(I))})}},{key:"forEachMatch",value:function(I,H){for(var V=0,X=this.list;V<X.length;V++){var te=X[V],se=void 0;if((P.string(te.target)?P.element(I)&&q(I,te.target):I===te.target)&&te.inContext(I)&&(se=H(te)),se!==void 0)return se}}}]),D}(),H0=function(){function D(){var I=this;o(this,D),this.id="__interact_scope_".concat(Math.floor(100*Math.random())),this.isInitialized=!1,this.listenerMaps=[],this.browser=Y,this.defaults=Cn(Ir),this.Eventable=Hi,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=function(V){var X=function te(se,me){var ye=V.interactables.getExisting(se,me);return ye||((ye=V.interactables.new(se,me)).events.global=te.globalEvents),ye};return X.getPointerAverage=pt,X.getTouchBBox=It,X.getTouchDistance=ot,X.getTouchAngle=_t,X.getElementRect=_e,X.getElementClientRect=pe,X.matchesSelector=q,X.closest=ee,X.globalEvents={},X.version="1.10.27",X.scope=V,X.use=function(te,se){return this.scope.usePlugin(te,se),this},X.isSet=function(te,se){return!!this.scope.interactables.get(te,se&&se.context)},X.on=cr(function(te,se,me){if(P.string(te)&&te.search(" ")!==-1&&(te=te.trim().split(/ +/)),P.array(te)){for(var ye=0,Pe=te;ye<Pe.length;ye++){var Ce=Pe[ye];this.on(Ce,se,me)}return this}if(P.object(te)){for(var Qe in te)this.on(Qe,te[Qe],se);return this}return Tn(te,this.scope.actions)?this.globalEvents[te]?this.globalEvents[te].push(se):this.globalEvents[te]=[se]:this.scope.events.add(this.scope.document,te,se,{options:me}),this},"The interact.on() method is being deprecated"),X.off=cr(function(te,se,me){if(P.string(te)&&te.search(" ")!==-1&&(te=te.trim().split(/ +/)),P.array(te)){for(var ye=0,Pe=te;ye<Pe.length;ye++){var Ce=Pe[ye];this.off(Ce,se,me)}return this}if(P.object(te)){for(var Qe in te)this.off(Qe,te[Qe],se);return this}var bt;return Tn(te,this.scope.actions)?te in this.globalEvents&&(bt=this.globalEvents[te].indexOf(se))!==-1&&this.globalEvents[te].splice(bt,1):this.scope.events.remove(this.scope.document,te,se,me),this},"The interact.off() method is being deprecated"),X.debug=function(){return this.scope},X.supportsTouch=function(){return Y.supportsTouch},X.supportsPointerEvent=function(){return Y.supportsPointerEvent},X.stop=function(){for(var te=0,se=this.scope.interactions.list;te<se.length;te++)se[te].stop();return this},X.pointerMoveTolerance=function(te){return P.number(te)?(this.scope.interactions.pointerMoveTolerance=te,this):this.scope.interactions.pointerMoveTolerance},X.addDocument=function(te,se){this.scope.addDocument(te,se)},X.removeDocument=function(te){this.scope.removeDocument(te)},X}(this),this.InteractEvent=Wi,this.Interactable=void 0,this.interactables=new Wm(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=function(V){return I.removeDocument(V.target)};var H=this;this.Interactable=function(V){f(te,V);var X=E(te);function te(){return o(this,te),X.apply(this,arguments)}return s(te,[{key:"_defaults",get:function(){return H.defaults}},{key:"set",value:function(se){return c(m(te.prototype),"set",this).call(this,se),H.fire("interactable:set",{options:se,interactable:this}),this}},{key:"unset",value:function(){c(m(te.prototype),"unset",this).call(this);var se=H.interactables.list.indexOf(this);se<0||(H.interactables.list.splice(se,1),H.fire("interactable:unset",{interactable:this}))}}]),te}(Xh)}return s(D,[{key:"addListeners",value:function(I,H){this.listenerMaps.push({id:H,map:I})}},{key:"fire",value:function(I,H){for(var V=0,X=this.listenerMaps;V<X.length;V++){var te=X[V].map[I];if(te&&te(H,this,I)===!1)return!1}}},{key:"init",value:function(I){return this.isInitialized?this:function(H,V){return H.isInitialized=!0,P.window(V)&&T(V),Q.init(V),Y.init(V),ii.init(V),H.window=V,H.document=V.document,H.usePlugin(qc),H.usePlugin(Vo),H}(this,I)}},{key:"pluginIsInstalled",value:function(I){var H=I.id;return H?!!this._plugins.map[H]:this._plugins.list.indexOf(I)!==-1}},{key:"usePlugin",value:function(I,H){if(!this.isInitialized)return this;if(this.pluginIsInstalled(I))return this;if(I.id&&(this._plugins.map[I.id]=I),this._plugins.list.push(I),I.install&&I.install(this,H),I.listeners&&I.before){for(var V=0,X=this.listenerMaps.length,te=I.before.reduce(function(me,ye){return me[ye]=!0,me[Qr(ye)]=!0,me},{});V<X;V++){var se=this.listenerMaps[V].id;if(se&&(te[se]||te[Qr(se)]))break}this.listenerMaps.splice(V,0,{id:I.id,map:I.listeners})}else I.listeners&&this.listenerMaps.push({id:I.id,map:I.listeners});return this}},{key:"addDocument",value:function(I,H){if(this.getDocIndex(I)!==-1)return!1;var V=M(I);H=H?Te({},H):{},this.documents.push({doc:I,options:H}),this.events.documents.push(I),I!==this.document&&this.events.add(V,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:I,window:V,scope:this,options:H})}},{key:"removeDocument",value:function(I){var H=this.getDocIndex(I),V=M(I),X=this.documents[H].options;this.events.remove(V,"unload",this.onWindowUnload),this.documents.splice(H,1),this.events.documents.splice(H,1),this.fire("scope:remove-document",{doc:I,window:V,scope:this,options:X})}},{key:"getDocIndex",value:function(I){for(var H=0;H<this.documents.length;H++)if(this.documents[H].doc===I)return H;return-1}},{key:"getDocOptions",value:function(I){var H=this.getDocIndex(I);return H===-1?null:this.documents[H].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),D}();function Qr(D){return D&&D.replace(/\/.*$/,"")}var sd=new H0,ba=sd.interactStatic,Xm=typeof globalThis<"u"?globalThis:window;sd.init(Xm);var Ym=Object.freeze({__proto__:null,edgeTarget:function(){},elements:function(){},grid:function(D){var I=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(V){var X=V[0],te=V[1];return X in D||te in D}),H=function(V,X){for(var te=D.range,se=D.limits,me=se===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:se,ye=D.offset,Pe=ye===void 0?{x:0,y:0}:ye,Ce={range:te,grid:D,x:null,y:null},Qe=0;Qe<I.length;Qe++){var bt=I[Qe],zt=bt[0],Dt=bt[1],kt=Math.round((V-Pe.x)/D[zt]),an=Math.round((X-Pe.y)/D[Dt]);Ce[zt]=Math.max(me.left,Math.min(me.right,kt*D[zt]+Pe.x)),Ce[Dt]=Math.max(me.top,Math.min(me.bottom,an*D[Dt]+Pe.y))}return Ce};return H.grid=D,H.coordFields=I,H}}),qm={id:"snappers",install:function(D){var I=D.interactStatic;I.snappers=Te(I.snappers||{},Ym),I.createSnapGrid=I.snappers.grid}},ld=qm,xf={start:function(D){var I=D.state,H=D.rect,V=D.edges,X=D.pageCoords,te=I.options,se=te.ratio,me=te.enabled,ye=I.options,Pe=ye.equalDelta,Ce=ye.modifiers;se==="preserve"&&(se=H.width/H.height),I.startCoords=Te({},X),I.startRect=Te({},H),I.ratio=se,I.equalDelta=Pe;var Qe=I.linkedEdges={top:V.top||V.left&&!V.bottom,left:V.left||V.top&&!V.right,bottom:V.bottom||V.right&&!V.top,right:V.right||V.bottom&&!V.left};if(I.xIsPrimaryAxis=!(!V.left&&!V.right),I.equalDelta){var bt=(Qe.left?1:-1)*(Qe.top?1:-1);I.edgeSign={x:bt,y:bt}}else I.edgeSign={x:Qe.left?-1:1,y:Qe.top?-1:1};if(me!==!1&&Te(V,Qe),Ce!=null&&Ce.length){var zt=new Zn(D.interaction);zt.copyFrom(D.interaction.modification),zt.prepareStates(Ce),I.subModification=zt,zt.startAll(r({},D))}},set:function(D){var I=D.state,H=D.rect,V=D.coords,X=I.linkedEdges,te=Te({},V),se=I.equalDelta?Km:Jm;if(Te(D.edges,X),se(I,I.xIsPrimaryAxis,V,H),!I.subModification)return null;var me=Te({},H);re(X,me,{x:V.x-te.x,y:V.y-te.y});var ye=I.subModification.setAll(r(r({},D),{},{rect:me,edges:X,pageCoords:V,prevCoords:V,prevRect:me})),Pe=ye.delta;return ye.changed&&(se(I,Math.abs(Pe.x)>Math.abs(Pe.y),ye.coords,ye.rect),Te(V,ye.coords)),ye.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function Km(D,I,H){var V=D.startCoords,X=D.edgeSign;I?H.y=V.y+(H.x-V.x)*X.y:H.x=V.x+(H.y-V.y)*X.x}function Jm(D,I,H,V){var X=D.startRect,te=D.startCoords,se=D.ratio,me=D.edgeSign;if(I){var ye=V.width/se;H.y=te.y+(ye-X.height)*me.y}else{var Pe=V.height*se;H.x=te.x+(Pe-X.width)*me.x}}var Qm=xi(xf,"aspectRatio"),Cf=function(){};Cf._defaults={};var cl=Cf;function ul(D,I,H){return P.func(D)?yt(D,I.interactable,I.element,[H.x,H.y,I]):yt(D,I.interactable,I.element)}var Kc={start:function(D){var I=D.rect,H=D.startOffset,V=D.state,X=D.interaction,te=D.pageCoords,se=V.options,me=se.elementRect,ye=Te({left:0,top:0,right:0,bottom:0},se.offset||{});if(I&&me){var Pe=ul(se.restriction,X,te);if(Pe){var Ce=Pe.right-Pe.left-I.width,Qe=Pe.bottom-Pe.top-I.height;Ce<0&&(ye.left+=Ce,ye.right+=Ce),Qe<0&&(ye.top+=Qe,ye.bottom+=Qe)}ye.left+=H.left-I.width*me.left,ye.top+=H.top-I.height*me.top,ye.right+=H.right-I.width*(1-me.right),ye.bottom+=H.bottom-I.height*(1-me.bottom)}V.offset=ye},set:function(D){var I=D.coords,H=D.interaction,V=D.state,X=V.options,te=V.offset,se=ul(X.restriction,H,I);if(se){var me=function(ye){return!ye||"left"in ye&&"top"in ye||((ye=Te({},ye)).left=ye.x||0,ye.top=ye.y||0,ye.right=ye.right||ye.left+ye.width,ye.bottom=ye.bottom||ye.top+ye.height),ye}(se);I.x=Math.max(Math.min(me.right-te.right,I.x),me.left+te.left),I.y=Math.max(Math.min(me.bottom-te.bottom,I.y),me.top+te.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}},Yh=xi(Kc,"restrict"),cd={top:1/0,left:1/0,bottom:-1/0,right:-1/0},qh={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function Ef(D,I){for(var H=0,V=["top","left","bottom","right"];H<V.length;H++){var X=V[H];X in D||(D[X]=I[X])}return D}var Jc={noInner:cd,noOuter:qh,start:function(D){var I,H=D.interaction,V=D.startOffset,X=D.state,te=X.options;te&&(I=Be(ul(te.offset,H,H.coords.start.page))),I=I||{x:0,y:0},X.offset={top:I.y+V.top,left:I.x+V.left,bottom:I.y-V.bottom,right:I.x-V.right}},set:function(D){var I=D.coords,H=D.edges,V=D.interaction,X=D.state,te=X.offset,se=X.options;if(H){var me=Te({},I),ye=ul(se.inner,V,me)||{},Pe=ul(se.outer,V,me)||{};Ef(ye,cd),Ef(Pe,qh),H.top?I.y=Math.min(Math.max(Pe.top+te.top,me.y),ye.top+te.top):H.bottom&&(I.y=Math.max(Math.min(Pe.bottom+te.bottom,me.y),ye.bottom+te.bottom)),H.left?I.x=Math.min(Math.max(Pe.left+te.left,me.x),ye.left+te.left):H.right&&(I.x=Math.max(Math.min(Pe.right+te.right,me.x),ye.right+te.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}},Ds=xi(Jc,"restrictEdges"),Kh=Te({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(D){}},Kc.defaults),G0=xi({start:Kc.start,set:Kc.set,defaults:Kh},"restrictRect"),Zm={width:-1/0,height:-1/0},dl={width:1/0,height:1/0},Ps=xi({start:function(D){return Jc.start(D)},set:function(D){var I=D.interaction,H=D.state,V=D.rect,X=D.edges,te=H.options;if(X){var se=xe(ul(te.min,I,D.coords))||Zm,me=xe(ul(te.max,I,D.coords))||dl;H.options={endOnly:te.endOnly,inner:Te({},Jc.noInner),outer:Te({},Jc.noOuter)},X.top?(H.options.inner.top=V.bottom-se.height,H.options.outer.top=V.bottom-me.height):X.bottom&&(H.options.inner.bottom=V.top+se.height,H.options.outer.bottom=V.top+me.height),X.left?(H.options.inner.left=V.right-se.width,H.options.outer.left=V.right-me.width):X.right&&(H.options.inner.right=V.left+se.width,H.options.outer.right=V.left+me.width),Jc.set(D),H.options=te}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}},"restrictSize"),Wl={start:function(D){var I,H=D.interaction,V=D.interactable,X=D.element,te=D.rect,se=D.state,me=D.startOffset,ye=se.options,Pe=ye.offsetWithOrigin?function(bt){var zt=bt.interaction.element,Dt=Be(yt(bt.state.options.origin,null,null,[zt])),kt=Dt||Fe(bt.interactable,zt,bt.interaction.prepared.name);return kt}(D):{x:0,y:0};if(ye.offset==="startCoords")I={x:H.coords.start.page.x,y:H.coords.start.page.y};else{var Ce=yt(ye.offset,V,X,[H]);(I=Be(Ce)||{x:0,y:0}).x+=Pe.x,I.y+=Pe.y}var Qe=ye.relativePoints;se.offsets=te&&Qe&&Qe.length?Qe.map(function(bt,zt){return{index:zt,relativePoint:bt,x:me.left-te.width*bt.x+I.x,y:me.top-te.height*bt.y+I.y}}):[{index:0,relativePoint:null,x:I.x,y:I.y}]},set:function(D){var I=D.interaction,H=D.coords,V=D.state,X=V.options,te=V.offsets,se=Fe(I.interactable,I.element,I.prepared.name),me=Te({},H),ye=[];X.offsetWithOrigin||(me.x-=se.x,me.y-=se.y);for(var Pe=0,Ce=te;Pe<Ce.length;Pe++)for(var Qe=Ce[Pe],bt=me.x-Qe.x,zt=me.y-Qe.y,Dt=0,kt=X.targets.length;Dt<kt;Dt++){var an=X.targets[Dt],Zt=void 0;(Zt=P.func(an)?an(bt,zt,I._proxy,Qe,Dt):an)&&ye.push({x:(P.number(Zt.x)?Zt.x:bt)+Qe.x,y:(P.number(Zt.y)?Zt.y:zt)+Qe.y,range:P.number(Zt.range)?Zt.range:X.range,source:an,index:Dt,offset:Qe})}for(var hn={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},Ln=0;Ln<ye.length;Ln++){var ei=ye[Ln],pn=ei.range,Rn=ei.x-me.x,Mr=ei.y-me.y,Ji=$e(Rn,Mr),Sa=Ji<=pn;pn===1/0&&hn.inRange&&hn.range!==1/0&&(Sa=!1),hn.target&&!(Sa?hn.inRange&&pn!==1/0?Ji/pn<hn.distance/hn.range:pn===1/0&&hn.range!==1/0||Ji<hn.distance:!hn.inRange&&Ji<hn.distance)||(hn.target=ei,hn.distance=Ji,hn.range=pn,hn.inRange=Sa,hn.delta.x=Rn,hn.delta.y=Mr)}return hn.inRange&&(H.x=hn.target.x,H.y=hn.target.y),V.closest=hn,hn},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}},Xl=xi(Wl,"snap"),fl={start:function(D){var I=D.state,H=D.edges,V=I.options;if(!H)return null;D.state={options:{targets:null,relativePoints:[{x:H.left?0:1,y:H.top?0:1}],offset:V.offset||"self",origin:{x:0,y:0},range:V.range}},I.targetFields=I.targetFields||[["width","height"],["x","y"]],Wl.start(D),I.offsets=D.state.offsets,D.state=I},set:function(D){var I=D.interaction,H=D.state,V=D.coords,X=H.options,te=H.offsets,se={x:V.x-te[0].x,y:V.y-te[0].y};H.options=Te({},X),H.options.targets=[];for(var me=0,ye=X.targets||[];me<ye.length;me++){var Pe=ye[me],Ce=void 0;if(Ce=P.func(Pe)?Pe(se.x,se.y,I):Pe){for(var Qe=0,bt=H.targetFields;Qe<bt.length;Qe++){var zt=bt[Qe],Dt=zt[0],kt=zt[1];if(Dt in Ce||kt in Ce){Ce.x=Ce[Dt],Ce.y=Ce[kt];break}}H.options.targets.push(Ce)}}var an=Wl.set(D);return H.options=X,an},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}},ud=xi(fl,"snapSize"),us={aspectRatio:Qm,restrictEdges:Ds,restrict:Yh,restrictRect:G0,restrictSize:Ps,snapEdges:xi({start:function(D){var I=D.edges;return I?(D.state.targetFields=D.state.targetFields||[[I.left?"left":"right",I.top?"top":"bottom"]],fl.start(D)):null},set:fl.set,defaults:Te(Cn(fl.defaults),{targets:void 0,range:void 0,offset:{x:0,y:0}})},"snapEdges"),snap:Xl,snapSize:ud,spring:cl,avoid:cl,transform:cl,rubberband:cl},la={id:"modifiers",install:function(D){var I=D.interactStatic;for(var H in D.usePlugin(Ki),D.usePlugin(ld),I.modifiers=us,us){var V=us[H],X=V._defaults,te=V._methods;X._methods=te,D.defaults.perAction[H]=X}}},dd=la,wf=function(D){f(H,D);var I=E(H);function H(V,X,te,se,me,ye){var Pe;if(o(this,H),st(_(Pe=I.call(this,me)),te),te!==X&&st(_(Pe),X),Pe.timeStamp=ye,Pe.originalEvent=te,Pe.type=V,Pe.pointerId=He(X),Pe.pointerType=Ct(X),Pe.target=se,Pe.currentTarget=null,V==="tap"){var Ce=me.getPointerIndex(X);Pe.dt=Pe.timeStamp-me.pointers[Ce].downTime;var Qe=Pe.timeStamp-me.tapTime;Pe.double=!!me.prevTap&&me.prevTap.type!=="doubletap"&&me.prevTap.target===Pe.target&&Qe<500}else V==="doubletap"&&(Pe.dt=X.timeStamp-me.tapTime,Pe.double=!0);return Pe}return s(H,[{key:"_subtractOrigin",value:function(V){var X=V.x,te=V.y;return this.pageX-=X,this.pageY-=te,this.clientX-=X,this.clientY-=te,this}},{key:"_addOrigin",value:function(V){var X=V.x,te=V.y;return this.pageX+=X,this.pageY+=te,this.clientX+=X,this.clientY+=te,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}]),H}(rt),_o={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(D){D.pointerEvents=_o,D.defaults.actions.pointerEvents=_o.defaults,Te(D.actions.phaselessTypes,_o.types)},listeners:{"interactions:new":function(D){var I=D.interaction;I.prevTap=null,I.tapTime=0},"interactions:update-pointer":function(D){var I=D.down,H=D.pointerInfo;!I&&H.hold||(H.hold={duration:1/0,timeout:null})},"interactions:move":function(D,I){var H=D.interaction,V=D.pointer,X=D.event,te=D.eventTarget;D.duplicate||H.pointerIsDown&&!H.pointerWasMoved||(H.pointerIsDown&&Qc(D),xo({interaction:H,pointer:V,event:X,eventTarget:te,type:"move"},I))},"interactions:down":function(D,I){(function(H,V){for(var X=H.interaction,te=H.pointer,se=H.event,me=H.eventTarget,ye=H.pointerIndex,Pe=X.pointers[ye].hold,Ce=Oe(me),Qe={interaction:X,pointer:te,event:se,eventTarget:me,type:"hold",targets:[],path:Ce,node:null},bt=0;bt<Ce.length;bt++){var zt=Ce[bt];Qe.node=zt,V.fire("pointerEvents:collect-targets",Qe)}if(Qe.targets.length){for(var Dt=1/0,kt=0,an=Qe.targets;kt<an.length;kt++){var Zt=an[kt].eventable.options.holdDuration;Zt<Dt&&(Dt=Zt)}Pe.duration=Dt,Pe.timeout=setTimeout(function(){xo({interaction:X,eventTarget:me,pointer:te,event:se,type:"hold"},V)},Dt)}})(D,I),xo(D,I)},"interactions:up":function(D,I){Qc(D),xo(D,I),function(H,V){var X=H.interaction,te=H.pointer,se=H.event,me=H.eventTarget;X.pointerWasMoved||xo({interaction:X,eventTarget:me,pointer:te,event:se,type:"tap"},V)}(D,I)},"interactions:cancel":function(D,I){Qc(D),xo(D,I)}},PointerEvent:wf,fire:xo,collectEventTargets:Af,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function xo(D,I){var H=D.interaction,V=D.pointer,X=D.event,te=D.eventTarget,se=D.type,me=D.targets,ye=me===void 0?Af(D,I):me,Pe=new wf(se,V,X,te,H,I.now());I.fire("pointerEvents:new",{pointerEvent:Pe});for(var Ce={interaction:H,pointer:V,event:X,eventTarget:te,targets:ye,type:se,pointerEvent:Pe},Qe=0;Qe<ye.length;Qe++){var bt=ye[Qe];for(var zt in bt.props||{})Pe[zt]=bt.props[zt];var Dt=Fe(bt.eventable,bt.node);if(Pe._subtractOrigin(Dt),Pe.eventable=bt.eventable,Pe.currentTarget=bt.node,bt.eventable.fire(Pe),Pe._addOrigin(Dt),Pe.immediatePropagationStopped||Pe.propagationStopped&&Qe+1<ye.length&&ye[Qe+1].node!==Pe.currentTarget)break}if(I.fire("pointerEvents:fired",Ce),se==="tap"){var kt=Pe.double?xo({interaction:H,pointer:V,event:X,eventTarget:te,type:"doubletap"},I):Pe;H.prevTap=kt,H.tapTime=kt.timeStamp}return Pe}function Af(D,I){var H=D.interaction,V=D.pointer,X=D.event,te=D.eventTarget,se=D.type,me=H.getPointerIndex(V),ye=H.pointers[me];if(se==="tap"&&(H.pointerWasMoved||!ye||ye.downTarget!==te))return[];for(var Pe=Oe(te),Ce={interaction:H,pointer:V,event:X,eventTarget:te,type:se,path:Pe,targets:[],node:null},Qe=0;Qe<Pe.length;Qe++){var bt=Pe[Qe];Ce.node=bt,I.fire("pointerEvents:collect-targets",Ce)}return se==="hold"&&(Ce.targets=Ce.targets.filter(function(zt){var Dt,kt;return zt.eventable.options.holdDuration===((Dt=H.pointers[me])==null||(kt=Dt.hold)==null?void 0:kt.duration)})),Ce.targets}function Qc(D){var I=D.interaction,H=D.pointerIndex,V=I.pointers[H].hold;V&&V.timeout&&(clearTimeout(V.timeout),V.timeout=null)}var Jh=Object.freeze({__proto__:null,default:_o});function Ha(D){var I=D.interaction;I.holdIntervalHandle&&(clearInterval(I.holdIntervalHandle),I.holdIntervalHandle=null)}var Zc={id:"pointer-events/holdRepeat",install:function(D){D.usePlugin(_o);var I=D.pointerEvents;I.defaults.holdRepeatInterval=0,I.types.holdrepeat=D.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(D,I){return D["pointerEvents:".concat(I)]=Ha,D},{"pointerEvents:new":function(D){var I=D.pointerEvent;I.type==="hold"&&(I.count=(I.count||0)+1)},"pointerEvents:fired":function(D,I){var H=D.interaction,V=D.pointerEvent,X=D.eventTarget,te=D.targets;if(V.type==="hold"&&te.length){var se=te[0].eventable.options.holdRepeatInterval;se<=0||(H.holdIntervalHandle=setTimeout(function(){I.pointerEvents.fire({interaction:H,eventTarget:X,type:"hold",pointer:V,event:V},I)},se))}}})},Yl=Zc,eg={id:"pointer-events/interactableTargets",install:function(D){var I=D.Interactable;I.prototype.pointerEvents=function(V){return Te(this.events.options,V),this};var H=I.prototype._backCompatOption;I.prototype._backCompatOption=function(V,X){var te=H.call(this,V,X);return te===this&&(this.events.options[V]=X),te}},listeners:{"pointerEvents:collect-targets":function(D,I){var H=D.targets,V=D.node,X=D.type,te=D.eventTarget;I.interactables.forEachMatch(V,function(se){var me=se.events,ye=me.options;me.types[X]&&me.types[X].length&&se.testIgnoreAllow(ye,V,te)&&H.push({node:V,eventable:me,props:{interactable:se}})})},"interactable:new":function(D){var I=D.interactable;I.events.getRect=function(H){return I.getRect(H)}},"interactable:set":function(D,I){var H=D.interactable,V=D.options;Te(H.events.options,I.pointerEvents.defaults),Te(H.events.options,V.pointerEvents||{})}}},fd=eg,Mf={id:"pointer-events",install:function(D){D.usePlugin(Jh),D.usePlugin(Yl),D.usePlugin(fd)}},Tf=Mf,Rf={id:"reflow",install:function(D){var I=D.Interactable;D.actions.phases.reflow=!0,I.prototype.reflow=function(H){return function(V,X,te){for(var se=V.getAllElements(),me=te.window.Promise,ye=me?[]:null,Pe=function(){var Qe=se[Ce],bt=V.getRect(Qe);if(!bt)return 1;var zt,Dt=Ae(te.interactions.list,function(Zt){return Zt.interacting()&&Zt.interactable===V&&Zt.element===Qe&&Zt.prepared.name===X.name});if(Dt)Dt.move(),ye&&(zt=Dt._reflowPromise||new me(function(Zt){Dt._reflowResolve=Zt}));else{var kt=xe(bt),an=function(Zt){return{coords:Zt,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}}({page:{x:kt.x,y:kt.y},client:{x:kt.x,y:kt.y},timeStamp:te.now()});zt=function(Zt,hn,Ln,ei,pn){var Rn=Zt.interactions.new({pointerType:"reflow"}),Mr={interaction:Rn,event:pn,pointer:pn,eventTarget:Ln,phase:"reflow"};Rn.interactable=hn,Rn.element=Ln,Rn.prevEvent=pn,Rn.updatePointer(pn,pn,Ln,!0),oe(Rn.coords.delta),_r(Rn.prepared,ei),Rn._doPhase(Mr);var Ji=Zt.window,Sa=Ji.Promise,Ni=Sa?new Sa(function(Wo){Rn._reflowResolve=Wo}):void 0;return Rn._reflowPromise=Ni,Rn.start(ei,hn,Ln),Rn._interacting?(Rn.move(Mr),Rn.end(pn)):(Rn.stop(),Rn._reflowResolve()),Rn.removePointer(pn,pn),Ni}(te,V,Qe,X,an)}ye&&ye.push(zt)},Ce=0;Ce<se.length&&!Pe();Ce++);return ye&&me.all(ye).then(function(){return V})}(this,H,D)}},listeners:{"interactions:stop":function(D,I){var H=D.interaction;H.pointerType==="reflow"&&(H._reflowResolve&&H._reflowResolve(),function(V,X){V.splice(V.indexOf(X),1)}(I.interactions.list,H))}}},eu=Rf;if(ba.use($n),ba.use(Ta),ba.use(Tf),ba.use(Mi),ba.use(dd),ba.use(cn),ba.use(Qn),ba.use(Or),ba.use(eu),ba.default=ba,a(n)==="object"&&n)try{n.exports=ba}catch{}return ba.default=ba,ba})}(Eb,Eb.exports)),Eb.exports}var Kve=qve();const Jve=Lm(Kve);function Dz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function Ei(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Dz(Object(t),!0).forEach(function(r){Qve(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Dz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function SA(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Pz(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function _A(n,e,t){return e&&Pz(n.prototype,e),t&&Pz(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Qve(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Zve(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&oO(n,e)}function KE(n){return KE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},KE(n)}function oO(n,e){return oO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},oO(n,e)}function e0e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function t0e(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function n0e(n,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t0e(n)}function i0e(n){var e=e0e();return function(){var r=KE(n),a;if(e){var o=KE(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return n0e(this,a)}}function om(n,e){return a0e(n)||s0e(n,e)||Ok(n,e)||c0e()}function SB(n){return r0e(n)||o0e(n)||Ok(n)||l0e()}function r0e(n){if(Array.isArray(n))return sO(n)}function a0e(n){if(Array.isArray(n))return n}function o0e(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function s0e(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],a=!0,o=!1,l,s;try{for(t=t.call(n);!(a=(l=t.next()).done)&&(r.push(l.value),!(e&&r.length===e));a=!0);}catch(u){o=!0,s=u}finally{try{!a&&t.return!=null&&t.return()}finally{if(o)throw s}}return r}}function Ok(n,e){if(n){if(typeof n=="string")return sO(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return sO(n,e)}}function sO(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function l0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u0e=function(){function n(e){SA(this,n),this.events={},this.events=e.handlers}return _A(n,[{key:"on",value:function(t,r){var a=this,o=t instanceof Array?t:t.split(" ");return o.forEach(function(l){if(!a.events[l])throw new Error("The event ".concat(l," does not exist"));a.events[l].push(r)}),this}},{key:"trigger",value:function(t,r){if(!(t in this.events))throw new Error("The event ".concat(String(t)," cannot be triggered"));return this.events[t].reduce(function(a,o){return o(r)!==!1&&a},!0)}},{key:"bind",value:function(t){if(this.events[t])throw new Error("The event ".concat(t," is already bound"));this.events[t]=[]}},{key:"exist",value:function(t){return Array.isArray(this.events[t])}},{key:"off",value:function(t,r){if(this.events[t]){var a=this.events[t];if(!r)this.events[t]=[];else{var o=a.indexOf(r);o!==-1&&a.splice(o,1)}}}},{key:"offAll",value:function(){this.events=Object.fromEntries(Object.keys(this.events).map(function(t){return[t,[]]}))}}]),n}(),d0e=_A(function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};SA(this,n),this.handlers={},this.handlers=Ei({beforeSetTime:[],afterSetTime:[],setTimeByTick:[],beforeSetPlayRate:[],afterSetPlayRate:[],setActiveActionIds:[],play:[],paused:[],ended:[]},e)}),f0e="playing",h0e="paused",p0e=function(n){Zve(t,n);var e=i0e(t);function t(){var r;return SA(this,t),r=e.call(this,new d0e),r._timerId=void 0,r._playRate=1,r._currentTime=0,r._playState="paused",r._prev=void 0,r._effectMap={},r._actionMap={},r._actionSortIds=[],r._next=0,r._activeActionIds=[],r}return _A(t,[{key:"isPlaying",get:function(){return this._playState==="playing"}},{key:"isPaused",get:function(){return this._playState==="paused"}},{key:"effects",set:function(a){this._effectMap=a}},{key:"data",set:function(a){this.isPlaying&&this.pause(),this._dealData(a),this._dealClear(),this._dealEnter(this._currentTime)}},{key:"setPlayRate",value:function(a){if(a<=0){console.error("Error: rate cannot be less than 0!");return}var o=this.trigger("beforeSetPlayRate",{rate:a,engine:this});return o?(this._playRate=a,this.trigger("afterSetPlayRate",{rate:a,engine:this}),!0):!1}},{key:"getPlayRate",value:function(){return this._playRate}},{key:"reRender",value:function(){this.isPlaying||this._tickAction(this._currentTime)}},{key:"setTime",value:function(a,o){var l=o||this.trigger("beforeSetTime",{time:a,engine:this});return l?(this._currentTime=a,this._next=0,this._dealLeave(a),this._dealEnter(a),o?this.trigger("setTimeByTick",{time:a,engine:this}):this.trigger("afterSetTime",{time:a,engine:this}),!0):!1}},{key:"getTime",value:function(){return this._currentTime}},{key:"play",value:function(a){var o=this,l=a.toTime,s=a.autoEnd,u=this.getTime();return this.isPlaying||l&&l<=u?!1:(this._playState=f0e,this._startOrStop("start"),this.trigger("play",{engine:this}),this._timerId=requestAnimationFrame(function(f){o._prev=f,o._tick({now:f,autoEnd:s,to:l})}),!0)}},{key:"pause",value:function(){this.isPlaying&&(this._playState=h0e,this._startOrStop("stop"),this.trigger("paused",{engine:this})),cancelAnimationFrame(this._timerId)}},{key:"_end",value:function(){this.pause(),this.trigger("ended",{engine:this})}},{key:"_startOrStop",value:function(a){for(var o=0;o<this._activeActionIds.length;o++){var l=this._activeActionIds[o],s=this._actionMap[l],u=this._effectMap[s==null?void 0:s.effectId];if(a==="start"){var f;!(u==null||(f=u.source)===null||f===void 0)&&f.start&&u.source.start({action:s,effect:u,engine:this,isPlaying:this.isPlaying,time:this.getTime()})}else if(a==="stop"){var m;!(u==null||(m=u.source)===null||m===void 0)&&m.stop&&u.source.stop({action:s,effect:u,engine:this,isPlaying:this.isPlaying,time:this.getTime()})}}}},{key:"_tick",value:function(a){var o=this;if(!this.isPaused){var l=a.now,s=a.autoEnd,u=a.to,f=this.getTime()+Math.min(1e3,l-this._prev)/1e3*this._playRate;if(this._prev=l,u&&u<=f&&(f=u),this.setTime(f,!0),this._tickAction(f),!u&&s&&this._next>=this._actionSortIds.length&&this._activeActionIds.length===0){this._end();return}u&&u<=f&&this._end(),!this.isPaused&&(this._timerId=requestAnimationFrame(function(m){o._tick({now:m,autoEnd:s,to:u})}))}}},{key:"_tickAction",value:function(a){this._dealEnter(a),this._dealLeave(a);for(var o=this._activeActionIds.length,l=0;l<o;l++){var s,u=this._activeActionIds[l],f=this._actionMap[u],m=this._effectMap[f.effectId];m&&(!((s=m.source)===null||s===void 0)&&s.update)&&m.source.update({time:a,action:f,isPlaying:this.isPlaying,effect:m,engine:this})}}},{key:"_dealClear",value:function(){for(;this._activeActionIds.length;){var a,o=this._activeActionIds.shift(),l=this._actionMap[o],s=this._effectMap[l==null?void 0:l.effectId];!(s==null||(a=s.source)===null||a===void 0)&&a.leave&&s.source.leave({action:l,effect:s,engine:this,isPlaying:this.isPlaying,time:this.getTime()})}this._next=0}},{key:"_dealEnter",value:function(a){for(;this._actionSortIds[this._next];){var o=this._actionSortIds[this._next],l=this._actionMap[o];if(!l.disable){if(l.start>a)break;if(l.end>a&&!this._activeActionIds.includes(o)){var s,u=this._effectMap[l.effectId];u&&(!((s=u.source)===null||s===void 0)&&s.enter)&&u.source.enter({action:l,effect:u,isPlaying:this.isPlaying,time:a,engine:this}),this._activeActionIds.push(o)}}this._next++}}},{key:"_dealLeave",value:function(a){for(var o=0;this._activeActionIds[o];){var l=this._activeActionIds[o],s=this._actionMap[l];if(s.start>a||s.end<a){var u,f=this._effectMap[s.effectId];f&&(!((u=f.source)===null||u===void 0)&&u.leave)&&f.source.leave({action:s,effect:f,isPlaying:this.isPlaying,time:a,engine:this}),this._activeActionIds.splice(o,1);continue}o++}}},{key:"_dealData",value:function(a){var o=[];a.map(function(f){o.push.apply(o,SB(f.actions))});var l=o.sort(function(f,m){return f.start-m.start}),s={},u=[];l.forEach(function(f){u.push(f.id),s[f.id]=Ei({},f)}),this._actionMap=s,this._actionSortIds=u}}]),t}(u0e),lO="timeline-editor",m0e=0,Lz=1,g0e=10,Nz=160,Ik=20,cO=1,uO=8,zz=32,dO=20,Bk=5,po;(function(n){n[n.VERBOSE=0]="VERBOSE",n[n.LOG=1]="LOG",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.FATAL=5]="FATAL",n[n.SILENT=1/0]="SILENT"})(po||(po={}));var Dk={VERBOSE:po.VERBOSE,LOG:po.LOG,INFO:po.INFO,WARN:po.WARN,ERROR:po.ERROR,SILENT:po.SILENT};function uv(n,e){return"color:".concat(n,";font-size:").concat(e,"px;")}var ZS=function(){function n(e){SA(this,n),this.Levels=Dk,this.level=po.LOG,this.prefix="",this.enabled=!0,this.debugColor=uv("#cccccc",12),this.logColor=uv("#bbbbbb",12),this.infoColor=uv("#2196f3",12),this.warnColor=uv("#ff00ff",12),this.errorColor=uv("#e91e63",12),this.fatalColor=uv("#9a0101",13),this.setPrefix(e),this.level=n.level,n.instances.push(this)}return _A(n,[{key:"setPrefix",value:function(t){this.prefix=t}},{key:"enable",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.level;this.level=t,this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1}},{key:"setLevel",value:function(t){this.level=t}},{key:"trace",value:function(t){if(!(!this.enabled||this.level>po.VERBOSE)){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];if(n.noColor){var l;(l=console).trace.apply(l,["[".concat(this.prefix,"] ").concat(t)].concat(a))}else{var s;(s=console).trace.apply(s,["%c[".concat(this.prefix,"] ").concat(t),this.debugColor].concat(a))}}}},{key:"debug",value:function(t){if(!(!this.enabled||this.level>po.VERBOSE)){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];if(n.noColor){var l;(l=console).debug.apply(l,["[".concat(this.prefix,"] ").concat(t)].concat(a))}else{var s;(s=console).debug.apply(s,["%c[".concat(this.prefix,"] ").concat(t),this.debugColor].concat(a))}}}},{key:"log",value:function(t){if(!(!this.enabled||this.level>po.LOG)){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];if(n.noColor){var l;(l=console).log.apply(l,["[".concat(this.prefix,"] ").concat(t)].concat(a))}else{var s;(s=console).log.apply(s,["%c[".concat(this.prefix,"] ").concat(t),this.logColor].concat(a))}}}},{key:"info",value:function(t){if(!(!this.enabled||this.level>po.INFO)){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];if(n.noColor){var l;(l=console).info.apply(l,["[".concat(this.prefix,"] ").concat(t)].concat(a))}else{var s;(s=console).info.apply(s,["%c[".concat(this.prefix,"] ").concat(t),this.infoColor].concat(a))}}}},{key:"warn",value:function(t){if(!(!this.enabled||this.level>po.WARN)){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];if(n.noColor){var l;(l=console).warn.apply(l,["[".concat(this.prefix,"] ").concat(t)].concat(a))}else{var s;(s=console).warn.apply(s,["%c[".concat(this.prefix,"] ").concat(t),this.warnColor].concat(a))}}}},{key:"error",value:function(t){if(!(!this.enabled||this.level>po.ERROR)){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];if(n.noColor){var l;(l=console).error.apply(l,["[".concat(this.prefix,"] ").concat(t)].concat(a))}else{var s;(s=console).error.apply(s,["%c[".concat(this.prefix,"] ").concat(t),this.errorColor].concat(a))}}}},{key:"fatal",value:function(t){if(!(!this.enabled||this.level>po.FATAL)){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];if(n.noColor){var l;(l=console).error.apply(l,["[".concat(this.prefix,"] ").concat(t)].concat(a))}else{var s;(s=console).error.apply(s,["%c[".concat(this.prefix,"] ").concat(t),this.fatalColor].concat(a))}}}},{key:"group",value:function(){if(console.group){var t;(t=console).group.apply(t,arguments)}}},{key:"groupEnd",value:function(){console.groupEnd&&console.groupEnd()}},{key:"groupCollapsed",value:function(){if(console.groupCollapsed){var t;(t=console).groupCollapsed.apply(t,arguments)}}}],[{key:"setLevel",value:function(t){this.level=t,this.instances.forEach(function(r){return r.setLevel(t)})}},{key:"enable",value:function(t){t&&(this.level=t),this.instances.forEach(function(r){return r.enable()})}},{key:"disable",value:function(){this.instances.forEach(function(t){return t.disable()})}}]),n}();ZS.instances=[];ZS.level=po.LOG;ZS.Levels=Dk;ZS.noColor=!1;var ph=new ZS("timeline");function v0e(n){var e=n.editorData,t=e===void 0?[]:e,r=n.effects,a=r===void 0?{}:r,o=n.scrollTop,l=o===void 0?0:o,s=n.scale,u=s===void 0?Lz:s,f=n.scaleSplitCount,m=f===void 0?g0e:f,y=n.scaleWidth,_=y===void 0?Nz:y,E=n.startLeft,c=E===void 0?Ik:E,p=n.minScaleCount,g=p===void 0?dO:p,b=n.maxScaleCount,C=b===void 0?1/0:b,T=n.rowHeight,M=T===void 0?zz:T;u<=0&&(ph.error("Error: scale must be greater than 0!"),u=Lz),l<0&&(ph.warn("Warning: scrollTop cannot be less than 0!"),l=0),m<=0&&(ph.warn("Warning: scaleSplitCount cannot be less than 1!"),m=1),_<=0&&(ph.warn("Warning: scaleWidth must be greater than 0!"),_=Nz),c<0&&(ph.warn("Warning: startLeft cannot be less than 0!"),c=0),g<1&&(ph.warn("Warning: minScaleCount must be greater than 1!"),g=dO),g=parseInt(g+""),C<g&&(ph.warn("Warning: maxScaleCount cannot be less than minScaleCount!"),C=g),C=C===1/0?1/0:parseInt(C+""),M<=0&&(ph.warn("Warning: rowHeight must be greater than 0!"),M=zz);var O=Ei({},n);return delete O.style,Ei(Ei({},O),{},{editorData:t,effects:a,scrollTop:l,scale:u,scaleSplitCount:m,scaleWidth:_,startLeft:c,minScaleCount:g,maxScaleCount:C,rowHeight:M})}function td(n,e){var t=e.startLeft,r=e.scale,a=e.scaleWidth;return t+n/r*a}function Pm(n,e){var t=e.startLeft,r=e.scale,a=e.scaleWidth;return(n-t)/a*r}function nb(n,e){var t=n.left,r=n.width,a=Pm(t,e),o=Pm(t+r,e);return{start:a,end:o}}function fO(n,e){var t=n.start,r=n.end,a=td(t,e),o=td(r,e)-a;return{left:a,width:o}}function y0e(n,e){var t=0;n.forEach(function(a){a.actions.forEach(function(o){t=Math.max(t,o.end)})});var r=Math.ceil(t/e.scale);return r+Bk}function b0e(n,e){var t=e.startLeft,r=e.scaleWidth,a=Math.ceil((n-t)/r);return Math.max(a+Bk,e.scaleCount)}function S0e(n,e){var t=[];return n.forEach(function(r){t.push(td(r.start,e)),t.push(td(r.end,e))}),t}function Lo(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return Xve.apply(void 0,["".concat(lO,"-")].concat(e))}var wC=1,Uz=3,Fz=10;function _0e(n){var e=w.useRef(Number.MIN_SAFE_INTEGER),t=w.useRef(Number.MAX_SAFE_INTEGER),r=w.useRef(wC),a=w.useRef(),o=function(){if(n!=null&&n.current){var m=n.current.getBoundingClientRect(),y=m.left,_=m.width;e.current=y,t.current=y+_}},l=function(m,y){if(m.clientX>=t.current||m.clientX<=e.current){cancelAnimationFrame(a.current);var _=Math.abs(m.clientX>=t.current?m.clientX-t.current:m.clientX-e.current);r.current=Math.min(Number((_/Fz).toFixed(0))*wC,Uz);var E=m.clientX>=t.current?1:-1,c=E*r.current,p=function g(){y&&y(c),a.current=requestAnimationFrame(g)};return a.current=requestAnimationFrame(p),!1}else cancelAnimationFrame(a.current);return!0},s=function(m,y,_){if(m.clientX>=t.current||m.clientX<e.current){cancelAnimationFrame(a.current);var E=Math.abs(m.clientX>=t.current?m.clientX-t.current:m.clientX-e.current);r.current=Math.min(Number((E/Fz).toFixed(0))*wC,Uz);var c=m.clientX>=t.current?1:-1,p=c*r.current,g=function b(){_&&_(p),a.current=requestAnimationFrame(b)};return a.current=requestAnimationFrame(g),!1}else cancelAnimationFrame(a.current);return!0},u=function(){e.current=Number.MIN_SAFE_INTEGER,t.current=Number.MAX_SAFE_INTEGER,r.current=wC,cancelAnimationFrame(a.current)};return{initAutoScroll:o,dealDragAutoScroll:l,dealResizeAutoScroll:s,stopAutoScroll:u}}var x0e=function(e){var t=e.children,r=e.interactRef,a=e.draggable,o=e.resizable,l=e.draggableOptions,s=e.resizableOptions,u=w.useRef(),f=w.useRef(),m=w.useRef(),y=w.useRef();w.useEffect(function(){m.current=Ei({},l),y.current=Ei({},s)},[l,s]),w.useEffect(function(){f.current&&f.current.unset(),f.current=Jve(u.current),r.current=f.current,_()},[a,o]);var _=function(){a&&f.current.draggable(Ei(Ei({},m.current),{},{onstart:function(p){return m.current.onstart&&m.current.onstart(p)},onmove:function(p){return m.current.onmove&&m.current.onmove(p)},onend:function(p){return m.current.onend&&m.current.onend(p)}})),o&&f.current.resizable(Ei(Ei({},y.current),{},{onstart:function(p){return y.current.onstart&&y.current.onstart(p)},onmove:function(p){return y.current.onmove&&y.current.onmove(p)},onend:function(p){return y.current.onend&&y.current.onend(p)}}))};return w.cloneElement(t,{ref:u,draggable:!1})},Pk=Xe.forwardRef(function(n,e){var t=n.children,r=n.edges,a=n.left,o=n.width,l=n.start,s=l===void 0?Ik:l,u=n.grid,f=u===void 0?cO:u,m=n.bounds,y=m===void 0?{left:Number.MIN_SAFE_INTEGER,right:Number.MAX_SAFE_INTEGER}:m,_=n.enableResizing,E=_===void 0?!0:_,c=n.enableDragging,p=c===void 0?!0:c,g=n.adsorptionDistance,b=g===void 0?uO:g,C=n.adsorptionPositions,T=C===void 0?[]:C,M=n.onResizeStart,O=n.onResize,B=n.onResizeEnd,P=n.onDragStart,F=n.onDragEnd,U=n.onDrag,z=n.parentRef,$=n.deltaScrollLeft,J=w.useRef(),W=w.useRef(0),Q=w.useRef(!1),ae=_0e(z),Y=ae.initAutoScroll,K=ae.dealDragAutoScroll,ee=ae.dealResizeAutoScroll,de=ae.stopAutoScroll;w.useEffect(function(){return function(){J.current&&J.current.unset()}},[]),w.useImperativeHandle(e,function(){return{updateLeft:function(xe){return q(xe||0,!1)},updateWidth:function(xe){return ie(xe,!1)},getLeft:he,getWidth:fe}}),w.useEffect(function(){var Be=J.current.target;ie(typeof o>"u"?Be.offsetWidth:o,!1)},[o]),w.useEffect(function(){q(a||0,!1)},[a]);var q=function(xe){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!J.current||!J.current.target)){re&&(W.current=0);var Fe=J.current.target;Fe.style.left="".concat(xe,"px"),Object.assign(Fe.dataset,{left:xe})}},ie=function(xe){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!J.current||!J.current.target)){re&&(W.current=0);var Fe=J.current.target;Fe.style.width="".concat(xe,"px"),Object.assign(Fe.dataset,{width:xe})}},he=function(){var xe,re=J.current.target;return parseFloat((re==null||(xe=re.dataset)===null||xe===void 0?void 0:xe.left)||"0")},fe=function(){var xe,re=J.current.target;return parseFloat((re==null||(xe=re.dataset)===null||xe===void 0?void 0:xe.width)||"0")},Z=function(xe){W.current=0,Q.current=!1,Y(),P&&P()},pe=function(xe){var re=xe.preLeft,Fe=xe.preWidth,Ie=xe.scrollDelta,qe=Q.current?b:f;if(Math.abs(W.current)>=qe){var $e=parseInt(W.current/qe+""),ct=re+$e*qe,st=ct,ce=Number.MAX_SAFE_INTEGER;if(T.forEach(function(Ee){var De=Math.abs(Ee-ct);De<b&&De<ce&&(st=Ee);var Ke=Math.abs(Ee-(ct+Fe));Ke<b&&Ke<ce&&(st=Ee-Fe)}),st!==ct?(Q.current=!0,ct=st):((ct-s)%f!==0&&(ct=s+f*Math.round((ct-s)/f)),Q.current=!1),W.current=W.current%qe,ct<y.left?ct=y.left:ct+Fe>y.right&&(ct=y.right-Fe),U){var oe=U({lastLeft:re,left:ct,lastWidth:Fe,width:Fe},Ie);if(oe===!1)return}q(ct,!1)}},_e=function(xe){var re=xe.target;if($&&(z!=null&&z.current)){var Fe=K(xe,function(ce){$(ce);var oe=re.dataset,Ee=oe.left,De=oe.width,Ke=parseFloat(Ee),He=parseFloat(De);W.current+=ce,pe({preLeft:Ke,preWidth:He,scrollDelta:ce})});if(!Fe)return}var Ie=re.dataset,qe=Ie.left,$e=Ie.width,ct=parseFloat(qe),st=parseFloat($e);W.current+=xe.dx,pe({preLeft:ct,preWidth:st})},Oe=function(xe){W.current=0,Q.current=!1,de();var re=xe.target,Fe=re.dataset,Ie=Fe.left,qe=Fe.width;F&&F({left:parseFloat(Ie),width:parseFloat(qe)})},we=function(xe){var re;W.current=0,Q.current=!1,Y();var Fe=!((re=xe.edges)===null||re===void 0)&&re.right?"right":"left";M&&M(Fe)},Te=function(xe){var re=xe.dir,Fe=xe.preWidth,Ie=xe.preLeft,qe=Q.current?b:f;if(re==="left"){if(Math.abs(W.current)>=qe){var $e=parseInt(W.current/qe+""),ct=Ie+$e*qe,st=ct,ce=Number.MAX_SAFE_INTEGER;T.forEach(function(ot){var _t=Math.abs(ot-ct);_t<b&&_t<ce&&(st=ot)}),st!==ct?(Q.current=!0,ct=st):((ct-s)%f!==0&&(ct=s+f*Math.round((ct-s)/f)),Q.current=!1),W.current=W.current%qe;var oe=Ie+Fe;ct<y.left&&(ct=y.left);var Ee=oe-ct;if(O){var De=O("left",{lastLeft:Ie,lastWidth:Fe,left:ct,width:Ee});if(De===!1)return}q(ct,!1),ie(Ee,!1)}}else if(re==="right"&&Math.abs(W.current)>=qe){var Ke=parseInt(W.current/f+""),He=Fe+Ke*f,gt=Ie+He,lt=Number.MAX_SAFE_INTEGER;if(T.forEach(function(ot){var _t=Math.abs(ot-(Ie+He));_t<b&&_t<lt&&(gt=ot)}),gt!==Ie+He)Q.current=!0,He=gt-Ie;else{var pt=Ie+He;(pt-s)%f!==0&&(pt=s+f*Math.round((pt-s)/f),He=pt-Ie),Q.current=!1}if(W.current=W.current%qe,Ie+He>y.right&&(He=y.right-Ie),O){var It=O("right",{lastLeft:Ie,lastWidth:Fe,left:Ie,width:He});if(It===!1)return}ie(He,!1)}},ze=function(xe){var re,Fe=xe.target,Ie=!((re=xe.edges)===null||re===void 0)&&re.left?"left":"right";if($&&(z!=null&&z.current)){var qe=ee(xe,Ie,function(Ee){$(Ee);var De=Fe.dataset,Ke=De.left,He=De.width,gt=parseFloat(Ke),lt=parseFloat(He);W.current+=Ee,Te({preLeft:gt,preWidth:lt,dir:Ie})});if(!qe)return}var $e=Fe.dataset,ct=$e.left,st=$e.width,ce=parseFloat(ct),oe=parseFloat(st);W.current+=Ie==="left"?xe.deltaRect.left:xe.deltaRect.right,Te({preLeft:ce,preWidth:oe,dir:Ie})},yt=function(xe){var re;W.current=0,Q.current=!1,de();var Fe=xe.target,Ie=Fe.dataset,qe=Ie.left,$e=Ie.width,ct=!((re=xe.edges)===null||re===void 0)&&re.right?"right":"left";B&&B(ct,{left:parseFloat(qe),width:parseFloat($e)})};return Xe.createElement(x0e,{interactRef:J,draggable:p,resizable:E,draggableOptions:{lockAxis:"x",onmove:_e,onstart:Z,onend:Oe,cursorChecker:function(){return null}},resizableOptions:{axis:"x",invert:"none",edges:Ei({left:!0,right:!0,top:!1,bottom:!1},r||{}),onmove:ze,onstart:we,onend:yt}},Xe.cloneElement(t,{style:Ei(Ei({},t.props.style||{}),{},{left:a,width:o})}))});function jm(n,e){e===void 0&&(e={});var t=e.insertAt;if(!(!n||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",t==="top"&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=n:a.appendChild(document.createTextNode(n))}}var C0e=`.timeline-editor-cursor {
  cursor: ew-resize;
  position: absolute;
  top: 32px;
  height: calc(100% - 32px);
  box-sizing: border-box;
  border-left: 1px solid #5297FF;
  border-right: 1px solid #5297FF;
  transform: translateX(-25%) scaleX(0.5);
}
.timeline-editor-cursor-top {
  position: absolute;
  top: 0;
  left: 50%;
  transform: translate(-50%, 0) scaleX(2);
  margin: auto;
}
.timeline-editor-cursor-area {
  width: 16px;
  height: 100%;
  cursor: ew-resize;
  position: absolute;
  top: 0;
  left: 50%;
  transform: translateX(-50%);
}
`;jm(C0e);var E0e=function(e){var t=e.disableDrag,r=e.cursorTime,a=e.setCursor,o=e.startLeft,l=e.timelineWidth,s=e.scaleWidth,u=e.scale,f=e.scrollLeft,m=e.scrollSync,y=e.areaRef,_=e.maxScaleCount,E=e.deltaScrollLeft,c=e.onCursorDragStart,p=e.onCursorDrag,g=e.onCursorDragEnd,b=w.useRef(),C=w.useRef();return w.useEffect(function(){typeof C.current>"u"&&b.current.updateLeft(td(r,{startLeft:o,scaleWidth:s,scale:u})-f)},[r,o,s,u,f]),Xe.createElement(Pk,{start:o,ref:b,parentRef:y,bounds:{left:0,right:Math.min(l,_*s+o-f)},deltaScrollLeft:E,enableDragging:!t,enableResizing:!1,onDragStart:function(){c&&c(r),C.current=td(r,{startLeft:o,scaleWidth:s,scale:u})-f,b.current.updateLeft(C.current)},onDragEnd:function(){var M=Pm(C.current+f,{startLeft:o,scale:u,scaleWidth:s});a({time:M}),g&&g(M),C.current=void 0},onDrag:function(M){var O=M.left,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,P=m.current.state.scrollLeft;!B||P===0?O<o-P?C.current=o-P:C.current=O:C.current<o-P-B&&(C.current=o-P-B),b.current.updateLeft(C.current);var F=Pm(C.current+P,{startLeft:o,scale:u,scaleWidth:s});return a({time:F}),p&&p(F),!1}},Xe.createElement("div",{className:Lo("cursor")},Xe.createElement("svg",{className:Lo("cursor-top"),width:"8",height:"12",viewBox:"0 0 8 12",fill:"none"},Xe.createElement("path",{d:"M0 1C0 0.447715 0.447715 0 1 0H7C7.55228 0 8 0.447715 8 1V9.38197C8 9.76074 7.786 10.107 7.44721 10.2764L4.44721 11.7764C4.16569 11.9172 3.83431 11.9172 3.55279 11.7764L0.552786 10.2764C0.214002 10.107 0 9.76074 0 9.38197V1Z",fill:"#5297FF"})),Xe.createElement("div",{className:Lo("cursor-area")})))},w0e=`.timeline-editor-drag-line-container {
  position: absolute;
  height: 100%;
  top: 0;
  left: 0;
}
.timeline-editor-drag-line {
  width: 0;
  position: absolute;
  top: 0;
  height: 99%;
  border-left: 1px dashed rgba(82, 151, 255, 0.6);
}
`;jm(w0e);var A0e=function(e){var t=e.isMoving,r=e.movePositions,a=r===void 0?[]:r,o=e.assistPositions,l=o===void 0?[]:o,s=e.scrollLeft;return Xe.createElement("div",{className:Lo("drag-line-container")},t&&a.filter(function(u){return l.includes(u)}).map(function(u,f){return Xe.createElement("div",{key:f,className:Lo("drag-line"),style:{left:u-s}})}))},M0e=`.timeline-editor:hover .timeline-editor-edit-area .ReactVirtualized__Grid::-webkit-scrollbar {
  height: 4px;
}
.timeline-editor-edit-area {
  flex: 1 1 auto;
  margin-top: 10px;
  overflow: hidden;
  position: relative;
}
.timeline-editor-edit-area .ReactVirtualized__Grid {
  outline: none !important;
  overflow: overlay !important;
}
.timeline-editor-edit-area .ReactVirtualized__Grid::-webkit-scrollbar {
  width: 0;
  height: 0;
}
.timeline-editor-edit-area .ReactVirtualized__Grid::-webkit-scrollbar-track {
  background-color: transparent !important;
}
.timeline-editor-edit-area .ReactVirtualized__Grid::-webkit-scrollbar-thumb {
  background: #313132;
  border-radius: 16px;
}
`;jm(M0e);var T0e=`.timeline-editor-action {
  position: absolute;
  left: 0;
  top: 0;
  background-color: #2f3134;
}
.timeline-editor-action .timeline-editor-action-left-stretch,
.timeline-editor-action .timeline-editor-action-right-stretch {
  position: absolute;
  top: 0;
  width: 10px;
  border-radius: 4px;
  height: 100%;
  overflow: hidden;
}
.timeline-editor-action .timeline-editor-action-left-stretch::after,
.timeline-editor-action .timeline-editor-action-right-stretch::after {
  position: absolute;
  top: 0;
  bottom: 0;
  margin: auto;
  border-radius: 4px;
  border-top: 28px solid transparent;
  border-bottom: 28px solid transparent;
}
.timeline-editor-action .timeline-editor-action-left-stretch {
  left: 0;
}
.timeline-editor-action .timeline-editor-action-left-stretch::after {
  left: 0;
  content: "";
  border-left: 7px solid rgba(255, 255, 255, 0.1);
  border-right: 7px solid transparent;
}
.timeline-editor-action .timeline-editor-action-right-stretch {
  right: 0;
}
.timeline-editor-action .timeline-editor-action-right-stretch::after {
  right: 0;
  content: "";
  border-right: 7px solid rgba(255, 255, 255, 0.1);
  border-left: 7px solid transparent;
}
`;jm(T0e);var R0e=function(e){var t=e.editorData,r=e.row,a=e.action,o=e.effects,l=e.rowHeight,s=e.scale,u=e.scaleWidth,f=e.scaleSplitCount,m=e.startLeft,y=e.gridSnap,_=e.disableDrag,E=e.scaleCount,c=e.maxScaleCount,p=e.setScaleCount,g=e.onActionMoveStart,b=e.onActionMoving,C=e.onActionMoveEnd,T=e.onActionResizeStart,M=e.onActionResizeEnd,O=e.onActionResizing,B=e.dragLineData,P=e.setEditorData,F=e.onClickAction,U=e.onClickActionOnly,z=e.onDoubleClickAction,$=e.onContextMenuAction,J=e.getActionRender,W=e.handleTime,Q=e.areaRef,ae=e.deltaScrollLeft,Y=w.useRef(),K=w.useRef(!1),ee=a.id,de=a.maxEnd,q=a.minStart,ie=a.end,he=a.start,fe=a.selected,Z=a.flexible,pe=Z===void 0?!0:Z,_e=a.movable,Oe=_e===void 0?!0:_e,we=a.effectId,Te=td(q||0,{startLeft:m,scale:s,scaleWidth:u}),ze=Math.min(c*u+m,td(de||Number.MAX_VALUE,{startLeft:m,scale:s,scaleWidth:u})),yt=w.useState(function(){return fO({start:he,end:ie},{startLeft:m,scale:s,scaleWidth:u})}),Be=om(yt,2),xe=Be[0],re=Be[1];w.useLayoutEffect(function(){re(fO({start:he,end:ie},{startLeft:m,scale:s,scaleWidth:u}))},[ie,he,m,u,s]);var Fe=u/f,Ie=["action"];Oe&&Ie.push("action-movable"),fe&&Ie.push("action-selected"),pe&&Ie.push("action-flexible"),o[we]&&Ie.push("action-effect-".concat(we));var qe=function(gt,lt){var pt=b0e(gt+lt,{startLeft:m,scaleCount:E,scaleWidth:u});pt!==E&&p(pt)},$e=function(){g&&g({action:a,row:r})},ct=function(gt){var lt=gt.left,pt=gt.width;if(K.current=!0,b){var It=nb({left:lt,width:pt},{scaleWidth:u,scale:s,startLeft:m}),ot=It.start,_t=It.end,Ct=b({action:a,row:r,start:ot,end:_t});if(Ct===!1)return!1}re({left:lt,width:pt}),qe(lt,pt)},st=function(gt){var lt=gt.left,pt=gt.width,It=nb({left:lt,width:pt},{scaleWidth:u,scale:s,startLeft:m}),ot=It.start,_t=It.end,Ct=t.find(function(rt){return rt.id===r.id}),We=Ct.actions.find(function(rt){return rt.id===ee});We.start=ot,We.end=_t,P(t),C&&C({action:We,row:r,start:ot,end:_t})},ce=function(gt){T&&T({action:a,row:r,dir:gt})},oe=function(gt,lt){var pt=lt.left,It=lt.width;if(K.current=!0,O){var ot=nb({left:pt,width:It},{scaleWidth:u,scale:s,startLeft:m}),_t=ot.start,Ct=ot.end,We=O({action:a,row:r,start:_t,end:Ct,dir:gt});if(We===!1)return!1}re({left:pt,width:It}),qe(pt,It)},Ee=function(gt,lt){var pt=lt.left,It=lt.width,ot=nb({left:pt,width:It},{scaleWidth:u,scale:s,startLeft:m}),_t=ot.start,Ct=ot.end,We=t.find(function(Se){return Se.id===r.id}),rt=We.actions.find(function(Se){return Se.id===ee});rt.start=_t,rt.end=Ct,P(t),M&&M({action:rt,row:r,start:_t,end:Ct,dir:gt})},De=Ei(Ei({},a),nb({left:xe.left,width:xe.width},{startLeft:m,scaleWidth:u,scale:s})),Ke=Ei(Ei({},r),{},{actions:SB(r.actions)});return r.actions.includes(a)&&(Ke.actions[r.actions.indexOf(a)]=De),Xe.createElement(Pk,{ref:Y,parentRef:Q,start:m,left:xe.left,width:xe.width,grid:y&&Fe||cO,adsorptionDistance:y?Math.max((Fe||cO)/2,uO):uO,adsorptionPositions:B.assistPositions,bounds:{left:Te,right:ze},edges:{left:!_&&pe&&".".concat(Lo("action-left-stretch")),right:!_&&pe&&".".concat(Lo("action-right-stretch"))},enableDragging:!_&&Oe,enableResizing:!_&&pe,onDragStart:$e,onDrag:ct,onDragEnd:st,onResizeStart:ce,onResize:oe,onResizeEnd:Ee,deltaScrollLeft:ae},Xe.createElement("div",{onMouseDown:function(){K.current=!1},onClick:function(gt){var lt;F&&(lt=W(gt),F(gt,{row:r,action:a,time:lt})),!K.current&&U&&(lt||(lt=W(gt)),U(gt,{row:r,action:a,time:lt}))},onDoubleClick:function(gt){if(z){var lt=W(gt);z(gt,{row:r,action:a,time:lt})}},onContextMenu:function(gt){if($){var lt=W(gt);$(gt,{row:r,action:a,time:lt})}},className:Lo((Ie||[]).join(" ")),style:{height:l}},J&&J(De,Ke),pe&&Xe.createElement("div",{className:Lo("action-left-stretch")}),pe&&Xe.createElement("div",{className:Lo("action-right-stretch")})))},O0e=`.timeline-editor-edit-row {
  background-repeat: no-repeat, repeat;
  background-image: linear-gradient(#191b1d, #191b1d), linear-gradient(90deg, rgba(255, 255, 255, 0.08) 1px, transparent 0);
  display: flex;
  flex-direction: row;
  box-sizing: border-box;
}
`;jm(O0e);var I0e=function(e){var t=e.rowData,r=e.style,a=r===void 0?{}:r,o=e.onClickRow,l=e.onDoubleClickRow,s=e.onContextMenuRow,u=e.areaRef,f=e.scrollLeft,m=e.startLeft,y=e.scale,_=e.scaleWidth,E=["edit-row"];t!=null&&t.selected&&E.push("edit-row-selected");var c=function(g){if(u.current){var b=u.current.getBoundingClientRect(),C=g.clientX-b.x,T=C+f,M=Pm(T,{startLeft:m,scale:y,scaleWidth:_});return M}};return Xe.createElement("div",{className:"".concat(Lo.apply(void 0,E)," ").concat(((t==null?void 0:t.classNames)||[]).join(" ")),style:a,onClick:function(g){if(t&&o){var b=c(g);o(g,{row:t,time:b})}},onDoubleClick:function(g){if(t&&l){var b=c(g);l(g,{row:t,time:b})}},onContextMenu:function(g){if(t&&s){var b=c(g);s(g,{row:t,time:b})}}},((t==null?void 0:t.actions)||[]).map(function(p){return Xe.createElement(R0e,Ei(Ei({key:p.id},e),{},{handleTime:c,row:t,action:p}))}))};function B0e(){var n=w.useState({isMoving:!1,movePositions:[],assistPositions:[]}),e=om(n,2),t=e[0],r=e[1],a=function(m){var y=m.editorData,_=m.assistActionIds,E=m.action,c=m.row,p=m.scale,g=m.scaleWidth,b=m.startLeft,C=m.cursorLeft,T=m.hideCursor,M=[];_?y.forEach(function(B){B.actions.forEach(function(P){_.includes(P.id)&&M.push(P)})}):y.forEach(function(B){B.id!==c.id?M.push.apply(M,SB(B.actions)):B.actions.forEach(function(P){P.id!==E.id&&M.push(P)})});var O=S0e(M,{startLeft:b,scale:p,scaleWidth:g});return T||O.push(C),O},o=function(m){var y=m.start,_=m.end,E=m.dir,c=m.scale,p=m.scaleWidth,g=m.startLeft,b=fO({start:y,end:_},{startLeft:g,scaleWidth:p,scale:c}),C=b.left,T=b.width;return E?E==="right"?[C+T]:[C]:[C,C+T]},l=function(m){var y=m.movePositions,_=m.assistPositions;r({isMoving:!0,movePositions:y||[],assistPositions:_||[]})},s=function(m){var y=m.movePositions,_=m.assistPositions;r(function(E){return Ei(Ei({},E),{},{movePositions:y||E.movePositions,assistPositions:_||E.assistPositions})})},u=function(){r({isMoving:!1,movePositions:[],assistPositions:[]})};return{initDragLine:l,updateDragLine:s,disposeDragLine:u,dragLineData:t,defaultGetAssistPosition:a,defaultGetMovePosition:o}}var D0e=Xe.forwardRef(function(n,e){var t=n.editorData,r=n.rowHeight,a=n.scaleWidth,o=n.scaleCount,l=n.startLeft,s=n.scrollLeft,u=n.scrollTop,f=n.scale,m=n.hideCursor,y=n.cursorTime,_=n.onScroll,E=n.dragLine,c=n.getAssistDragLineActionIds,p=n.onActionMoveEnd,g=n.onActionMoveStart,b=n.onActionMoving,C=n.onActionResizeEnd,T=n.onActionResizeStart,M=n.onActionResizing,O=B0e(),B=O.dragLineData,P=O.initDragLine,F=O.updateDragLine,U=O.disposeDragLine,z=O.defaultGetAssistPosition,$=O.defaultGetMovePosition,J=w.useRef(),W=w.useRef(),Q=w.useRef(-1);w.useImperativeHandle(e,function(){return{get domRef(){return J}}});var ae=function(de){if(E){var q=c&&c({action:de.action,row:de.row,editorData:t}),ie=td(y,{scaleWidth:a,scale:f,startLeft:l}),he=z({editorData:t,assistActionIds:q,action:de.action,row:de.row,scale:f,scaleWidth:a,startLeft:l,hideCursor:m,cursorLeft:ie});P({assistPositions:he})}},Y=function(de){if(E){var q=$(Ei(Ei({},de),{},{startLeft:l,scaleWidth:a,scale:f}));F({movePositions:q})}},K=function(de){var q=de.rowIndex,ie=de.key,he=de.style,fe=t[q];return Xe.createElement(I0e,Ei(Ei({},n),{},{style:Ei(Ei({},he),{},{backgroundPositionX:"0, ".concat(l,"px"),backgroundSize:"".concat(l,"px, ").concat(a,"px")}),areaRef:J,key:ie,rowHeight:(fe==null?void 0:fe.rowHeight)||r,rowData:fe,dragLineData:B,onActionMoveStart:function(pe){return ae(pe),g&&g(pe)},onActionResizeStart:function(pe){return ae(pe),T&&T(pe)},onActionMoving:function(pe){return Y(pe),b&&b(pe)},onActionResizing:function(pe){return Y(pe),M&&M(pe)},onActionResizeEnd:function(pe){return U(),C&&C(pe)},onActionMoveEnd:function(pe){return U(),p&&p(pe)}}))};return w.useLayoutEffect(function(){var ee;(ee=W.current)===null||ee===void 0||ee.scrollToPosition({scrollTop:u,scrollLeft:s})},[u,s]),w.useEffect(function(){W.current.recomputeGridSize()},[t]),Xe.createElement("div",{ref:J,className:Lo("edit-area")},Xe.createElement(fB,null,function(ee){var de=ee.width,q=ee.height,ie=0,he=t.map(function(fe){var Z=fe.rowHeight||r;return ie+=Z,Z});return ie<q&&(he.push(q-ie),Q.current!==q&&Q.current>=0&&setTimeout(function(){var fe;return(fe=W.current)===null||fe===void 0?void 0:fe.recomputeGridSize({rowIndex:he.length-1})})),Q.current=q,Xe.createElement(ju,{columnCount:1,rowCount:he.length,ref:W,cellRenderer:K,columnWidth:Math.max(o*a+l,de),width:de,height:q,rowHeight:function(Z){var pe=Z.index;return he[pe]||r},overscanRowCount:10,overscanColumnCount:0,onScroll:function(Z){_(Z)}})}),E&&Xe.createElement(A0e,Ei({scrollLeft:s},B)))}),P0e=`.timeline-editor {
  height: 600px;
  width: 600px;
  min-height: 32px;
  position: relative;
  font-size: 12px;
  font-family: "PingFang SC";
  background-color: #191b1d;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}
`;jm(P0e);var L0e=`.timeline-editor-time-area {
  position: relative;
  height: 32px;
  flex: 0 0 auto;
}
.timeline-editor-time-area .ReactVirtualized__Grid {
  outline: none;
}
.timeline-editor-time-area .ReactVirtualized__Grid::-webkit-scrollbar {
  display: none;
}
.timeline-editor-time-area-interact {
  position: absolute;
  cursor: pointer;
  left: 0;
  top: 0;
}
.timeline-editor-time-unit {
  border-right: 1px solid rgba(255, 255, 255, 0.2);
  position: relative;
  box-sizing: content-box;
  height: 4px !important;
  bottom: 0 !important;
  top: auto !important;
}
.timeline-editor-time-unit-big {
  height: 8px !important;
}
.timeline-editor-time-unit-scale {
  color: rgba(255, 255, 255, 0.6);
  position: absolute;
  right: 0;
  top: 0;
  transform: translate(50%, -100%);
}
`;jm(L0e);var N0e=function(e){var t=e.setCursor,r=e.maxScaleCount,a=e.hideCursor,o=e.scale,l=e.scaleWidth,s=e.scaleCount,u=e.scaleSplitCount,f=e.startLeft,m=e.scrollLeft,y=e.onClickTimeArea,_=e.getScaleRender,E=w.useRef(),c=u>0,p=function(C){var T=C.columnIndex,M=C.key,O=C.style,B=c?T%u===0:!0,P=["time-unit"];B&&P.push("time-unit-big");var F=(c?T/u:T)*o;return Xe.createElement("div",{key:M,style:O,className:Lo.apply(void 0,P)},B&&Xe.createElement("div",{className:Lo("time-unit-scale")},_?_(F):F))};w.useEffect(function(){var b;(b=E.current)===null||b===void 0||b.recomputeGridSize()},[l,f]);var g=function(C){switch(C.index){case 0:return f;default:return c?l/u:l}};return Xe.createElement("div",{className:Lo("time-area")},Xe.createElement(fB,null,function(b){var C=b.width,T=b.height;return Xe.createElement(Xe.Fragment,null,Xe.createElement(ju,{ref:E,columnCount:c?s*u+1:s,columnWidth:g,rowCount:1,rowHeight:T,width:C,height:T,overscanRowCount:0,overscanColumnCount:10,cellRenderer:p,scrollLeft:m}),Xe.createElement("div",{style:{width:C,height:T},onClick:function(O){if(!a){var B=O.currentTarget.getBoundingClientRect(),P=O.clientX-B.x,F=Math.max(P+m,f);if(!(F>r*l+f-m)){var U=Pm(F,{startLeft:f,scale:o,scaleWidth:l}),z=y&&y(U,O);z!==!1&&t({time:U})}}},className:Lo("time-area-interact")}))}))},z0e=Xe.forwardRef(function(n,e){var t=v0e(n),r=n.style,a=t.effects,o=t.editorData,l=t.scrollTop,s=t.autoScroll,u=t.hideCursor,f=t.disableDrag,m=t.scale,y=t.scaleWidth,_=t.startLeft,E=t.minScaleCount,c=t.maxScaleCount,p=t.onChange,g=t.engine,b=t.autoReRender,C=b===void 0?!0:b,T=t.onScroll,M=w.useRef(g||new p0e),O=w.useRef(),B=w.useRef(),P=w.useRef(),F=w.useState(o),U=om(F,2),z=U[0],$=U[1],J=w.useState(dO),W=om(J,2),Q=W[0],ae=W[1],Y=w.useState(m0e),K=om(Y,2),ee=K[0],de=K[1],q=w.useState(!1),ie=om(q,2),he=ie[0],fe=ie[1],Z=w.useState(Number.MAX_SAFE_INTEGER),pe=om(Z,2),_e=pe[0],Oe=pe[1];w.useLayoutEffect(function(){we(y0e(o,{scale:m})),$(o)},[o,E,c,m]),w.useEffect(function(){M.current.effects=a},[a]),w.useEffect(function(){M.current.data=z},[z]),w.useEffect(function(){C&&M.current.reRender()},[z]),w.useEffect(function(){P.current&&P.current.setState({scrollTop:l})},[l]);var we=function(xe){var re=Math.min(c,Math.max(E,xe));ae(re)},Te=function(xe){var re=p(xe);re!==!1&&(M.current.data=xe,C&&M.current.reRender())},ze=function(xe){var re=xe.left,Fe=xe.time,Ie=xe.updateTime,qe=Ie===void 0?!0:Ie;if(!(typeof re>"u"&&typeof Fe>"u")){typeof Fe>"u"&&(typeof re>"u"&&(re=td(Fe,{startLeft:_,scale:m,scaleWidth:y})),Fe=Pm(re,{startLeft:_,scale:m,scaleWidth:y}));var $e=!0;return qe&&($e=M.current.setTime(Fe),C&&M.current.reRender()),$e&&de(Fe),$e}},yt=function(xe){var re=P.current.state.scrollLeft+xe;re>Q*(y-1)+_-_e||P.current&&P.current.setState({scrollLeft:Math.max(P.current.state.scrollLeft+xe,0)})};return w.useEffect(function(){var Be=function(Ie){var qe=Ie.time;ze({time:qe,updateTime:!1})},xe=function(){return fe(!0)},re=function(){return fe(!1)};M.current.on("setTimeByTick",Be),M.current.on("play",xe),M.current.on("paused",re)},[]),w.useImperativeHandle(e,function(){return{get target(){return O.current},get listener(){return M.current},get isPlaying(){return M.current.isPlaying},get isPaused(){return M.current.isPaused},setPlayRate:M.current.setPlayRate.bind(M.current),getPlayRate:M.current.getPlayRate.bind(M.current),setTime:function(xe){return ze({time:xe})},getTime:M.current.getTime.bind(M.current),reRender:M.current.reRender.bind(M.current),play:function(xe){return M.current.play(Ei({},xe))},pause:M.current.pause.bind(M.current),setScrollLeft:function(xe){P.current&&P.current.setState({scrollLeft:Math.max(xe,0)})},setScrollTop:function(xe){P.current&&P.current.setState({scrollTop:Math.max(xe,0)})}}}),w.useEffect(function(){if(B.current){var Be=new ResizeObserver(function(){B.current&&Oe(B.current.getBoundingClientRect().width)});return Be.observe(B.current),function(){Be&&Be.disconnect()}}},[]),Xe.createElement("div",{ref:O,style:r,className:"".concat(lO," ").concat(f?lO+"-disable":"")},Xe.createElement(Sk,{ref:P},function(Be){var xe=Be.scrollLeft,re=Be.scrollTop,Fe=Be.onScroll;return Xe.createElement(Xe.Fragment,null,Xe.createElement(N0e,Ei(Ei({},t),{},{timelineWidth:_e,disableDrag:f||he,setCursor:ze,cursorTime:ee,editorData:z,scaleCount:Q,setScaleCount:we,onScroll:Fe,scrollLeft:xe})),Xe.createElement(D0e,Ei(Ei({},t),{},{timelineWidth:_e,ref:function(qe){return B.current=qe==null?void 0:qe.domRef.current},disableDrag:f||he,editorData:z,cursorTime:ee,scaleCount:Q,setScaleCount:we,scrollTop:re,scrollLeft:xe,setEditorData:Te,deltaScrollLeft:s&&yt,onScroll:function(qe){Fe(qe),T&&T(qe)}})),!u&&Xe.createElement(E0e,Ei(Ei({},t),{},{timelineWidth:_e,disableDrag:he,scrollLeft:xe,scaleCount:Q,setScaleCount:we,setCursor:ze,cursorTime:ee,editorData:z,areaRef:B,scrollSync:P,deltaScrollLeft:s&&yt})))}))});const U0e="_canvasWrap_125g3_1",F0e="_videoIcon_125g3_5",H0e="_loadingVideo_125g3_8",Gu={canvasWrap:U0e,videoIcon:F0e,loadingVideo:H0e},G0e=({timelineData:n,onPreviewTime:e,onOffsetChange:t,onDurationChange:r,onDeleteAction:a,timelineState:o,onSplitAction:l})=>{const[s,u]=w.useState(10),[f,m]=w.useState(null);return ke.jsxs(ke.Fragment,{children:[ke.jsx(Ul,{title:"",children:ke.jsx(pa,{type:"text",icon:ke.jsx(uU,{className:Gu.videoIcon}),onClick:()=>u(s+1)})}),ke.jsx(Ul,{title:"",children:ke.jsx(pa,{type:"text",icon:ke.jsx(cU,{className:Gu.videoIcon}),onClick:()=>u(s-1>1?s-1:1)})}),ke.jsx(Ul,{title:"",children:ke.jsx(pa,{type:"text",icon:ke.jsx(aU,{className:Gu.videoIcon}),disabled:f==null,onClick:()=>{f!=null&&a(f)}})}),ke.jsx(Ul,{title:"",children:ke.jsx(pa,{type:"text",icon:ke.jsx(bV,{className:Gu.videoIcon}),disabled:f==null,onClick:()=>{f!=null&&l(f)}})}),ke.jsx(z0e,{ref:y=>{y!=null&&(o.current=y)},onChange:()=>{},style:{width:"100%",height:"200px"},scale:s,editorData:n,effects:{},scaleSplitCount:5,onClickTimeArea:y=>(e(y),!0),onCursorDragEnd:y=>{e(y)},onActionResizing:({dir:y,action:_,start:E,end:c})=>y==="left"?!1:r({action:_,start:E,end:c}),onActionMoveEnd:({action:y})=>{t(y)},onClickAction:(y,{action:_})=>{m(_)},getActionRender:y=>{const _=y.thumbnails?y.thumbnails.map(E=>ke.jsx("img",{src:URL.createObjectURL(E.img)},E.ts)):y.name;return y.id===(f==null?void 0:f.id)?ke.jsx("div",{className:"active-action",children:_}):_},autoScroll:!0})]})};async function k0e(n="mp4"){return(await window.showSaveFilePicker({suggestedName:`WebAV-export-${Date.now()}.${n}`})).createWritable()}const Hz=new URLSearchParams(location.search).get("UHA"),hR=["no-preference","prefer-hardware","prefer-software"].includes(Hz)?Hz:void 0,dv=new WeakMap;function $0e({src:n}){const e=w.useRef(null),t=w.useRef(void 0),[r,a]=w.useState(!1),[o,l]=w.useState(!1),[s,u]=w.useState(null),[f,m]=w.useState(null),[y,_]=w.useState([{id:"1-video",actions:[]},{id:"2-audio",actions:[]},{id:"3-img",actions:[]},{id:"4-text",actions:[]}]),E=()=>{var O;if(!f)return;(O=e.current)==null||O.destroy();const b=s==null?void 0:s.parentElement;if(!b)return;const{width:C,height:T}=b.getBoundingClientRect(),M=new Sge(f,{bgColor:"#1A1B1E",width:C-24,height:T-270});M.on("timeupdate",B=>{var P;return(P=t.current)==null?void 0:P.setTime(B/1e6)}),M.on("playing",()=>a(!0)),M.on("paused",()=>a(!1)),e.current=M};w.useEffect(()=>(E(),window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)),[f]),w.useEffect(()=>{if(!e.current)return;const b=async()=>{l(!0),setTimeout(async()=>{var M;const C=(await fetch(n)).body,T=new sR(new oR(C,{__unsafe_hardwareAcceleration__:hR}));await((M=e.current)==null?void 0:M.addSprite(T)),c("1-video",T,""),l(!1)},1e3)};return x2.on(C2.ADD_FAKE_VIDEO,b),()=>{x2.off(C2.ADD_FAKE_VIDEO,b)}},[e,n]);const c=async(b,C,T="")=>{const M=y.find(({id:F})=>F===b);if(!M)return null;C.time.offset=C.time.offset||Math.max(...M.actions.map(F=>F.end),0)*1e6,C.time.duration===1/0&&(C.time.duration=1e7);let O=[];const B=C.getClip();B instanceof oR&&(O=await B.thumbnails());const P={id:Math.random().toString(),start:C.time.offset/1e6,end:(C.time.offset+C.time.duration)/1e6,effectId:"",name:T,thumbnails:O};return dv.set(P,C),_([...y.filter(F=>F!==M),{...M,actions:[...M.actions,P]}]),P},p=()=>{var b,C;!e.current||!t.current||(r?(b=e.current)==null||b.pause():(C=e.current)==null||C.play({start:t.current.getTime()*1e6}))},g=async()=>{e.current&&(await e.current.createCombinator({__unsafe_hardwareAcceleration__:hR})).output().pipeTo(await k0e())};return ke.jsxs("div",{className:Gu.canvasWrap,ref:u,children:[ke.jsx("div",{ref:m}),ke.jsx(Ul,{title:"",children:ke.jsx(pa,{type:"text",icon:ke.jsx(MV,{className:Gu.videoIcon}),onClick:async()=>{var T;const b=(await V0e({"video/*":[".mp4",".mov"]})).stream(),C=new sR(new oR(b,{__unsafe_hardwareAcceleration__:hR}));await((T=e.current)==null?void 0:T.addSprite(C)),c("1-video",C,"")}})}),ke.jsx(Ul,{title:"",children:ke.jsx(pa,{type:"text",icon:r?ke.jsx(K$,{className:Gu.videoIcon}):ke.jsx(nV,{className:Gu.videoIcon}),onClick:p})}),ke.jsx(Ul,{title:"",children:ke.jsx(pa,{type:"text",icon:ke.jsx(O$,{className:Gu.videoIcon}),onClick:g})}),ke.jsx(G0e,{onSplitAction:b=>{var T;const C=dv.get(b);if(C){const M=new sR(C.getClip());return(T=e.current)==null||T.addSprite(M),c("1-video",M,b.name)}return null},timelineData:y,timelineState:t,onPreviewTime:b=>{var C;return(C=e.current)==null||C.previewFrame(b*1e6),!0},onOffsetChange:b=>{const C=dv.get(b);C&&(C.time.offset=b.start*1e6)},onDurationChange:({action:b,start:C,end:T})=>{const M=dv.get(b);return M&&(T-C)*1e6<=M.getClip().meta.duration?(M.time.duration=(T-C)*1e6,!0):!1},onDeleteAction:b=>{var T;const C=dv.get(b);C&&((T=e.current)==null||T.removeSprite(C)),dv.delete(b),_([...y])}}),o&&ke.jsx("div",{className:Gu.loadingVideo,children:ke.jsx(eI,{indicator:ke.jsx(e0,{spin:!0}),size:"large"})})]})}async function V0e(n){const[e]=await window.showOpenFilePicker({types:[{accept:n}]});return await e.getFile()}const j0e="/SyncWorld/assets/move-left-D1lRqUFJ.mp4",W0e="/SyncWorld/assets/move-up-DHlBu4lp.mp4",X0e="/SyncWorld/assets/compress-DARJ5-2i.mp4",Gz={moveLeft:j0e,moveUp:W0e,compress:X0e},Y0e=()=>{const[n,e]=w.useState(Gz.moveLeft),t=r=>{e(Gz[r])};return ke.jsxs(Vu,{style:{height:"100%"},children:[ke.jsx(yr,{flex:"436px",className:HL.formPanel,children:ke.jsx(Tpe,{onChange:t})}),ke.jsx(yr,{flex:"auto",className:HL.videoWrapper,children:ke.jsx($0e,{src:n})})]})};function q0e(n,e){if(n==null)return{};var t=K0e(n,e),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(a=0;a<o.length;a++)r=o[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function K0e(n,e){if(n==null)return{};var t={},r=Object.keys(n),a,o;for(o=0;o<r.length;o++)a=r[o],!(e.indexOf(a)>=0)&&(t[a]=n[a]);return t}function JE(){return JE=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},JE.apply(this,arguments)}function kz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function ib(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?kz(Object(t),!0).forEach(function(r){J0e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):kz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function J0e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const Q0e={breakpointCols:void 0,className:void 0,columnClassName:void 0,children:void 0,columnAttrs:void 0,column:void 0},pR=2;class Lk extends Xe.Component{constructor(e){super(e),this.reCalculateColumnCount=this.reCalculateColumnCount.bind(this),this.reCalculateColumnCountDebounce=this.reCalculateColumnCountDebounce.bind(this);let t;this.props.breakpointCols&&this.props.breakpointCols.default?t=this.props.breakpointCols.default:t=parseInt(this.props.breakpointCols)||pR,this.state={columnCount:t}}componentDidMount(){this.reCalculateColumnCount(),window&&window.addEventListener("resize",this.reCalculateColumnCountDebounce)}componentDidUpdate(){this.reCalculateColumnCount()}componentWillUnmount(){window&&window.removeEventListener("resize",this.reCalculateColumnCountDebounce)}reCalculateColumnCountDebounce(){if(!window||!window.requestAnimationFrame){this.reCalculateColumnCount();return}window.cancelAnimationFrame&&window.cancelAnimationFrame(this._lastRecalculateAnimationFrame),this._lastRecalculateAnimationFrame=window.requestAnimationFrame(()=>{this.reCalculateColumnCount()})}reCalculateColumnCount(){const e=window&&window.innerWidth||1/0;let t=this.props.breakpointCols;typeof t!="object"&&(t={default:parseInt(t)||pR});let r=1/0,a=t.default||pR;for(let o in t){const l=parseInt(o);l>0&&e<=l&&l<r&&(r=l,a=t[o])}a=Math.max(1,parseInt(a)||1),this.state.columnCount!==a&&this.setState({columnCount:a})}itemsInColumns(){const e=this.state.columnCount,t=new Array(e),r=Xe.Children.toArray(this.props.children);for(let a=0;a<r.length;a++){const o=a%e;t[o]||(t[o]=[]),t[o].push(r[a])}return t}renderColumns(){const{column:e,columnAttrs:t={},columnClassName:r}=this.props,a=this.itemsInColumns(),o=`${100/a.length}%`;let l=r;l&&typeof l!="string"&&(this.logDeprecated('The property "columnClassName" requires a string'),typeof l>"u"&&(l="my-masonry-grid_column"));const s=ib(ib(ib({},e),t),{},{style:ib(ib({},t.style),{},{width:o}),className:l});return a.map((u,f)=>Xe.createElement("div",JE({},s,{key:f}),u))}logDeprecated(e){console.error("[Masonry]",e)}render(){const e=this.props,{children:t,breakpointCols:r,columnClassName:a,columnAttrs:o,column:l,className:s}=e,u=q0e(e,["children","breakpointCols","columnClassName","columnAttrs","column","className"]);let f=s;return typeof s!="string"&&(this.logDeprecated('The property "className" requires a string'),typeof s>"u"&&(f="my-masonry-grid")),Xe.createElement("div",JE({},u,{className:f}),this.renderColumns())}}Lk.defaultProps=Q0e;const Z0e="_masonryGrid_ejt6d_2",eye="_masonryColumn_ejt6d_10",tye="_masonryItem_ejt6d_14",nye="_skeleton_ejt6d_17",iye="_loadingTrigger_ejt6d_26",fv={masonryGrid:Z0e,masonryColumn:eye,masonryItem:tye,skeleton:nye,loadingTrigger:iye},$z=()=>{const n=Math.floor(Math.random()*300+200);return{width:300,height:n,src:`https://picsum.photos/300/${n}`,loaded:!1}},rye=()=>{const[n,e]=w.useState(Array.from({length:10},$z)),[t,r]=w.useState(!1),a=w.useRef(null),o=w.useCallback(()=>{t||(r(!0),setTimeout(()=>{e(s=>[...s,...Array.from({length:10},$z)]),r(!1)},1500))},[t]);w.useEffect(()=>{const s=new IntersectionObserver(u=>{u[0].isIntersecting&&o()},{rootMargin:"100px"});return a.current&&s.observe(a.current),()=>s.disconnect()},[o]);const l=s=>{e(u=>u.map((f,m)=>m===s?{...f,loaded:!0}:f))};return ke.jsxs("div",{className:fv.waterfallContainer,children:[ke.jsx(Lk,{breakpointCols:{default:4,1100:3,768:2,500:1},className:fv.masonryGrid,columnClassName:fv.masonryColumn,children:n.map((s,u)=>ke.jsxs("div",{className:fv.masonryItem,children:[!s.loaded&&ke.jsx(Um.Image,{className:fv.skeleton}),ke.jsx(Yv,{src:s.src,width:"100%",style:{display:s.loaded?"block":"none"},onLoad:()=>l(u)})]},u))}),ke.jsx("div",{ref:a,className:fv.loadingTrigger,children:t&&ke.jsx(eI,{size:"large"})})]})},aye="_userContainer_138vs_1",oye={userContainer:aye},sye=()=>ke.jsxs("div",{className:oye.userContainer,children:[ke.jsx(Vu,{children:ke.jsx(M4,{size:100,icon:ke.jsx(lU,{}),style:{margin:"0 auto"}})}),ke.jsx(Vu,{children:ke.jsxs(yr,{span:24,children:[ke.jsx("p",{children:": "}),ke.jsx("p",{children:": "})]})}),ke.jsxs(Vu,{gutter:16,style:{marginTop:20},children:[ke.jsx(yr,{span:12,children:ke.jsx("p",{children:": 1200"})}),ke.jsx(yr,{span:12,children:ke.jsx("p",{children:": 800"})}),ke.jsx(yr,{span:12,children:ke.jsx("p",{children:": 50 "})}),ke.jsx(yr,{span:12,children:ke.jsx("p",{children:": 500 "})})]})]}),lye="/SyncWorld/assets/logo-bKxNxiH-.png",{Header:cye,Content:uye,Sider:dye}=Fm,fye=[{key:"/preview",icon:ke.jsx(a$,{}),label:""},{key:"/video",icon:ke.jsx(BV,{}),label:""},{key:"/user",icon:ke.jsx(lU,{}),label:""}],hye=()=>{const n=kh(),e=HH();return ke.jsx(OS,{className:FC.sideMenu,mode:"inline",selectedKeys:[n.pathname],onClick:t=>e(t.key),items:fye})},pye=()=>ke.jsxs(yie,{children:[ke.jsx(cye,{className:FC.navBar,style:{display:"flex",alignItems:"center"},children:ke.jsx("img",{src:lye,alt:"logo",style:{width:"40px",height:"40px"}})}),ke.jsxs(Fm,{children:[ke.jsx(dye,{width:200,style:{borderTop:"1px"},className:FC.sideBar,children:ke.jsx(hye,{})}),ke.jsx(uye,{className:FC.content,children:ke.jsxs(qne,{children:[ke.jsx(HC,{path:"/preview",element:ke.jsx(rye,{})}),ke.jsx(HC,{path:"/video",element:ke.jsx(Y0e,{})}),ke.jsx(HC,{path:"/user",element:ke.jsx(sye,{})})]})})]})]});A5.createRoot(document.getElementById("root")).render(ke.jsx(w.StrictMode,{children:ke.jsx(pye,{})}));
