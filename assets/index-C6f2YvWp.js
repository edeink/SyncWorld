function qz(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in n)){const o=Object.getOwnPropertyDescriptor(r,a);o&&Object.defineProperty(n,a,o.get?o:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();function Fm(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var rM={exports:{}},Ny={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aD;function w5(){if(aD)return Ny;aD=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,o){var l=null;if(o!==void 0&&(l=""+o),a.key!==void 0&&(l=""+a.key),"key"in a){o={};for(var s in a)s!=="key"&&(o[s]=a[s])}else o=a;return a=o.ref,{$$typeof:n,type:r,key:l,ref:a!==void 0?a:null,props:o}}return Ny.Fragment=e,Ny.jsx=t,Ny.jsxs=t,Ny}var oD;function A5(){return oD||(oD=1,rM.exports=w5()),rM.exports}var ke=A5(),aM={exports:{}},ci={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sD;function M5(){if(sD)return ci;sD=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),b=Symbol.iterator;function _(q){return q===null||typeof q!="object"?null:(q=b&&q[b]||q["@@iterator"],typeof q=="function"?q:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},c=Object.assign,p={};function g(q,ie,he){this.props=q,this.context=ie,this.refs=p,this.updater=he||E}g.prototype.isReactComponent={},g.prototype.setState=function(q,ie){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,ie,"setState")},g.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function y(){}y.prototype=g.prototype;function C(q,ie,he){this.props=q,this.context=ie,this.refs=p,this.updater=he||E}var T=C.prototype=new y;T.constructor=C,c(T,g.prototype),T.isPureReactComponent=!0;var M=Array.isArray,O={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function D(q,ie,he,fe,Z,pe){return he=pe.ref,{$$typeof:n,type:q,key:ie,ref:he!==void 0?he:null,props:pe}}function F(q,ie){return D(q.type,ie,void 0,void 0,void 0,q.props)}function z(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function U(q){var ie={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(he){return ie[he]})}var $=/\/+/g;function J(q,ie){return typeof q=="object"&&q!==null&&q.key!=null?U(""+q.key):ie.toString(36)}function W(){}function Q(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(W,W):(q.status="pending",q.then(function(ie){q.status==="pending"&&(q.status="fulfilled",q.value=ie)},function(ie){q.status==="pending"&&(q.status="rejected",q.reason=ie)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function ae(q,ie,he,fe,Z){var pe=typeof q;(pe==="undefined"||pe==="boolean")&&(q=null);var xe=!1;if(q===null)xe=!0;else switch(pe){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(q.$$typeof){case n:case e:xe=!0;break;case m:return xe=q._init,ae(xe(q._payload),ie,he,fe,Z)}}if(xe)return Z=Z(q),xe=fe===""?"."+J(q,0):fe,M(Z)?(he="",xe!=null&&(he=xe.replace($,"$&/")+"/"),ae(Z,ie,he,"",function(Te){return Te})):Z!=null&&(z(Z)&&(Z=F(Z,he+(Z.key==null||q&&q.key===Z.key?"":(""+Z.key).replace($,"$&/")+"/")+xe)),ie.push(Z)),1;xe=0;var Oe=fe===""?".":fe+":";if(M(q))for(var Ae=0;Ae<q.length;Ae++)fe=q[Ae],pe=Oe+J(fe,Ae),xe+=ae(fe,ie,he,pe,Z);else if(Ae=_(q),typeof Ae=="function")for(q=Ae.call(q),Ae=0;!(fe=q.next()).done;)fe=fe.value,pe=Oe+J(fe,Ae++),xe+=ae(fe,ie,he,pe,Z);else if(pe==="object"){if(typeof q.then=="function")return ae(Q(q),ie,he,fe,Z);throw ie=String(q),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return xe}function Y(q,ie,he){if(q==null)return q;var fe=[],Z=0;return ae(q,fe,"","",function(pe){return ie.call(he,pe,Z++)}),fe}function K(q){if(q._status===-1){var ie=q._result;ie=ie(),ie.then(function(he){(q._status===0||q._status===-1)&&(q._status=1,q._result=he)},function(he){(q._status===0||q._status===-1)&&(q._status=2,q._result=he)}),q._status===-1&&(q._status=0,q._result=ie)}if(q._status===1)return q._result.default;throw q._result}var ee=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)};function de(){}return ci.Children={map:Y,forEach:function(q,ie,he){Y(q,function(){ie.apply(this,arguments)},he)},count:function(q){var ie=0;return Y(q,function(){ie++}),ie},toArray:function(q){return Y(q,function(ie){return ie})||[]},only:function(q){if(!z(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},ci.Component=g,ci.Fragment=t,ci.Profiler=a,ci.PureComponent=C,ci.StrictMode=r,ci.Suspense=u,ci.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,ci.act=function(){throw Error("act(...) is not supported in production builds of React.")},ci.cache=function(q){return function(){return q.apply(null,arguments)}},ci.cloneElement=function(q,ie,he){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var fe=c({},q.props),Z=q.key,pe=void 0;if(ie!=null)for(xe in ie.ref!==void 0&&(pe=void 0),ie.key!==void 0&&(Z=""+ie.key),ie)!B.call(ie,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&ie.ref===void 0||(fe[xe]=ie[xe]);var xe=arguments.length-2;if(xe===1)fe.children=he;else if(1<xe){for(var Oe=Array(xe),Ae=0;Ae<xe;Ae++)Oe[Ae]=arguments[Ae+2];fe.children=Oe}return D(q.type,Z,void 0,void 0,pe,fe)},ci.createContext=function(q){return q={$$typeof:l,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:o,_context:q},q},ci.createElement=function(q,ie,he){var fe,Z={},pe=null;if(ie!=null)for(fe in ie.key!==void 0&&(pe=""+ie.key),ie)B.call(ie,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Z[fe]=ie[fe]);var xe=arguments.length-2;if(xe===1)Z.children=he;else if(1<xe){for(var Oe=Array(xe),Ae=0;Ae<xe;Ae++)Oe[Ae]=arguments[Ae+2];Z.children=Oe}if(q&&q.defaultProps)for(fe in xe=q.defaultProps,xe)Z[fe]===void 0&&(Z[fe]=xe[fe]);return D(q,pe,void 0,void 0,null,Z)},ci.createRef=function(){return{current:null}},ci.forwardRef=function(q){return{$$typeof:s,render:q}},ci.isValidElement=z,ci.lazy=function(q){return{$$typeof:m,_payload:{_status:-1,_result:q},_init:K}},ci.memo=function(q,ie){return{$$typeof:f,type:q,compare:ie===void 0?null:ie}},ci.startTransition=function(q){var ie=O.T,he={};O.T=he;try{var fe=q(),Z=O.S;Z!==null&&Z(he,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(de,ee)}catch(pe){ee(pe)}finally{O.T=ie}},ci.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},ci.use=function(q){return O.H.use(q)},ci.useActionState=function(q,ie,he){return O.H.useActionState(q,ie,he)},ci.useCallback=function(q,ie){return O.H.useCallback(q,ie)},ci.useContext=function(q){return O.H.useContext(q)},ci.useDebugValue=function(){},ci.useDeferredValue=function(q,ie){return O.H.useDeferredValue(q,ie)},ci.useEffect=function(q,ie){return O.H.useEffect(q,ie)},ci.useId=function(){return O.H.useId()},ci.useImperativeHandle=function(q,ie,he){return O.H.useImperativeHandle(q,ie,he)},ci.useInsertionEffect=function(q,ie){return O.H.useInsertionEffect(q,ie)},ci.useLayoutEffect=function(q,ie){return O.H.useLayoutEffect(q,ie)},ci.useMemo=function(q,ie){return O.H.useMemo(q,ie)},ci.useOptimistic=function(q,ie){return O.H.useOptimistic(q,ie)},ci.useReducer=function(q,ie,he){return O.H.useReducer(q,ie,he)},ci.useRef=function(q){return O.H.useRef(q)},ci.useState=function(q){return O.H.useState(q)},ci.useSyncExternalStore=function(q,ie,he){return O.H.useSyncExternalStore(q,ie,he)},ci.useTransition=function(){return O.H.useTransition()},ci.version="19.0.0",ci}var lD;function M0(){return lD||(lD=1,aM.exports=M5()),aM.exports}var w=M0();const Xe=Fm(w),nw=qz({__proto__:null,default:Xe},[w]);var oM={exports:{}},zy={},sM={exports:{}},lM={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cD;function T5(){return cD||(cD=1,function(n){function e(Y,K){var ee=Y.length;Y.push(K);e:for(;0<ee;){var de=ee-1>>>1,q=Y[de];if(0<a(q,K))Y[de]=K,Y[ee]=q,ee=de;else break e}}function t(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var K=Y[0],ee=Y.pop();if(ee!==K){Y[0]=ee;e:for(var de=0,q=Y.length,ie=q>>>1;de<ie;){var he=2*(de+1)-1,fe=Y[he],Z=he+1,pe=Y[Z];if(0>a(fe,ee))Z<q&&0>a(pe,fe)?(Y[de]=pe,Y[Z]=ee,de=Z):(Y[de]=fe,Y[he]=ee,de=he);else if(Z<q&&0>a(pe,ee))Y[de]=pe,Y[Z]=ee,de=Z;else break e}}return K}function a(Y,K){var ee=Y.sortIndex-K.sortIndex;return ee!==0?ee:Y.id-K.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,s=l.now();n.unstable_now=function(){return l.now()-s}}var u=[],f=[],m=1,b=null,_=3,E=!1,c=!1,p=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function T(Y){for(var K=t(f);K!==null;){if(K.callback===null)r(f);else if(K.startTime<=Y)r(f),K.sortIndex=K.expirationTime,e(u,K);else break;K=t(f)}}function M(Y){if(p=!1,T(Y),!c)if(t(u)!==null)c=!0,Q();else{var K=t(f);K!==null&&ae(M,K.startTime-Y)}}var O=!1,B=-1,D=5,F=-1;function z(){return!(n.unstable_now()-F<D)}function U(){if(O){var Y=n.unstable_now();F=Y;var K=!0;try{e:{c=!1,p&&(p=!1,y(B),B=-1),E=!0;var ee=_;try{t:{for(T(Y),b=t(u);b!==null&&!(b.expirationTime>Y&&z());){var de=b.callback;if(typeof de=="function"){b.callback=null,_=b.priorityLevel;var q=de(b.expirationTime<=Y);if(Y=n.unstable_now(),typeof q=="function"){b.callback=q,T(Y),K=!0;break t}b===t(u)&&r(u),T(Y)}else r(u);b=t(u)}if(b!==null)K=!0;else{var ie=t(f);ie!==null&&ae(M,ie.startTime-Y),K=!1}}break e}finally{b=null,_=ee,E=!1}K=void 0}}finally{K?$():O=!1}}}var $;if(typeof C=="function")$=function(){C(U)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,W=J.port2;J.port1.onmessage=U,$=function(){W.postMessage(null)}}else $=function(){g(U,0)};function Q(){O||(O=!0,$())}function ae(Y,K){B=g(function(){Y(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_continueExecution=function(){c||E||(c=!0,Q())},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(Y){switch(_){case 1:case 2:case 3:var K=3;break;default:K=_}var ee=_;_=K;try{return Y()}finally{_=ee}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Y,K){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ee=_;_=Y;try{return K()}finally{_=ee}},n.unstable_scheduleCallback=function(Y,K,ee){var de=n.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?de+ee:de):ee=de,Y){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=ee+q,Y={id:m++,callback:K,priorityLevel:Y,startTime:ee,expirationTime:q,sortIndex:-1},ee>de?(Y.sortIndex=ee,e(f,Y),t(u)===null&&Y===t(f)&&(p?(y(B),B=-1):p=!0,ae(M,ee-de))):(Y.sortIndex=q,e(u,Y),c||E||(c=!0,Q())),Y},n.unstable_shouldYield=z,n.unstable_wrapCallback=function(Y){var K=_;return function(){var ee=_;_=K;try{return Y.apply(this,arguments)}finally{_=ee}}}}(lM)),lM}var uD;function vO(){return uD||(uD=1,sM.exports=T5()),sM.exports}var cM={exports:{}},Ro={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dD;function R5(){if(dD)return Ro;dD=1;var n=M0();function e(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(u,f,m){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:u,containerInfo:f,implementation:m}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function s(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Ro.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ro.createPortal=function(u,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(u,f,null,m)},Ro.flushSync=function(u){var f=l.T,m=r.p;try{if(l.T=null,r.p=2,u)return u()}finally{l.T=f,r.p=m,r.d.f()}},Ro.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(u,f))},Ro.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Ro.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var m=f.as,b=s(m,f.crossOrigin),_=typeof f.integrity=="string"?f.integrity:void 0,E=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?r.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:b,integrity:_,fetchPriority:E}):m==="script"&&r.d.X(u,{crossOrigin:b,integrity:_,fetchPriority:E,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Ro.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=s(f.as,f.crossOrigin);r.d.M(u,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(u)},Ro.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,b=s(m,f.crossOrigin);r.d.L(u,m,{crossOrigin:b,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Ro.preloadModule=function(u,f){if(typeof u=="string")if(f){var m=s(f.as,f.crossOrigin);r.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(u)},Ro.requestFormReset=function(u){r.d.r(u)},Ro.unstable_batchedUpdates=function(u,f){return u(f)},Ro.useFormState=function(u,f,m){return l.H.useFormState(u,f,m)},Ro.useFormStatus=function(){return l.H.useHostTransitionStatus()},Ro.version="19.0.0",Ro}var fD;function Kz(){if(fD)return cM.exports;fD=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),cM.exports=R5(),cM.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hD;function O5(){if(hD)return zy;hD=1;var n=vO(),e=M0(),t=Kz();function r(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)h+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}var o=Symbol.for("react.element"),l=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),_=Symbol.for("react.consumer"),E=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),T=Symbol.for("react.offscreen"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function B(d){return d===null||typeof d!="object"?null:(d=O&&d[O]||d["@@iterator"],typeof d=="function"?d:null)}var D=Symbol.for("react.client.reference");function F(d){if(d==null)return null;if(typeof d=="function")return d.$$typeof===D?null:d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case u:return"Fragment";case s:return"Portal";case m:return"Profiler";case f:return"StrictMode";case p:return"Suspense";case g:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case E:return(d.displayName||"Context")+".Provider";case _:return(d._context.displayName||"Context")+".Consumer";case c:var h=d.render;return d=d.displayName,d||(d=h.displayName||h.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case y:return h=d.displayName||null,h!==null?h:F(d.type)||"Memo";case C:h=d._payload,d=d._init;try{return F(d(h))}catch{}}return null}var z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=Object.assign,$,J;function W(d){if($===void 0)try{throw Error()}catch(x){var h=x.stack.trim().match(/\n( *(at )?)/);$=h&&h[1]||"",J=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$+d+J}var Q=!1;function ae(d,h){if(!d||Q)return"";Q=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var A={DetermineComponentFrameRoot:function(){try{if(h){var Ut=function(){throw Error()};if(Object.defineProperty(Ut.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ut,[])}catch(Et){var ft=Et}Reflect.construct(d,[],Ut)}else{try{Ut.call()}catch(Et){ft=Et}d.call(Ut.prototype)}}else{try{throw Error()}catch(Et){ft=Et}(Ut=d())&&typeof Ut.catch=="function"&&Ut.catch(function(){})}}catch(Et){if(Et&&ft&&typeof Et.stack=="string")return[Et.stack,ft.stack]}return[null,null]}};A.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var L=Object.getOwnPropertyDescriptor(A.DetermineComponentFrameRoot,"name");L&&L.configurable&&Object.defineProperty(A.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var G=A.DetermineComponentFrameRoot(),ne=G[0],ge=G[1];if(ne&&ge){var Re=ne.split(`
`),Ye=ge.split(`
`);for(L=A=0;A<Re.length&&!Re[A].includes("DetermineComponentFrameRoot");)A++;for(;L<Ye.length&&!Ye[L].includes("DetermineComponentFrameRoot");)L++;if(A===Re.length||L===Ye.length)for(A=Re.length-1,L=Ye.length-1;1<=A&&0<=L&&Re[A]!==Ye[L];)L--;for(;1<=A&&0<=L;A--,L--)if(Re[A]!==Ye[L]){if(A!==1||L!==1)do if(A--,L--,0>L||Re[A]!==Ye[L]){var At=`
`+Re[A].replace(" at new "," at ");return d.displayName&&At.includes("<anonymous>")&&(At=At.replace("<anonymous>",d.displayName)),At}while(1<=A&&0<=L);break}}}finally{Q=!1,Error.prepareStackTrace=x}return(x=d?d.displayName||d.name:"")?W(x):""}function Y(d){switch(d.tag){case 26:case 27:case 5:return W(d.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 15:return d=ae(d.type,!1),d;case 11:return d=ae(d.type.render,!1),d;case 1:return d=ae(d.type,!0),d;default:return""}}function K(d){try{var h="";do h+=Y(d),d=d.return;while(d);return h}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}function ee(d){var h=d,x=d;if(d.alternate)for(;h.return;)h=h.return;else{d=h;do h=d,(h.flags&4098)!==0&&(x=h.return),d=h.return;while(d)}return h.tag===3?x:null}function de(d){if(d.tag===13){var h=d.memoizedState;if(h===null&&(d=d.alternate,d!==null&&(h=d.memoizedState)),h!==null)return h.dehydrated}return null}function q(d){if(ee(d)!==d)throw Error(r(188))}function ie(d){var h=d.alternate;if(!h){if(h=ee(d),h===null)throw Error(r(188));return h!==d?null:d}for(var x=d,A=h;;){var L=x.return;if(L===null)break;var G=L.alternate;if(G===null){if(A=L.return,A!==null){x=A;continue}break}if(L.child===G.child){for(G=L.child;G;){if(G===x)return q(L),d;if(G===A)return q(L),h;G=G.sibling}throw Error(r(188))}if(x.return!==A.return)x=L,A=G;else{for(var ne=!1,ge=L.child;ge;){if(ge===x){ne=!0,x=L,A=G;break}if(ge===A){ne=!0,A=L,x=G;break}ge=ge.sibling}if(!ne){for(ge=G.child;ge;){if(ge===x){ne=!0,x=G,A=L;break}if(ge===A){ne=!0,A=G,x=L;break}ge=ge.sibling}if(!ne)throw Error(r(189))}}if(x.alternate!==A)throw Error(r(190))}if(x.tag!==3)throw Error(r(188));return x.stateNode.current===x?d:h}function he(d){var h=d.tag;if(h===5||h===26||h===27||h===6)return d;for(d=d.child;d!==null;){if(h=he(d),h!==null)return h;d=d.sibling}return null}var fe=Array.isArray,Z=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},xe=[],Oe=-1;function Ae(d){return{current:d}}function Te(d){0>Oe||(d.current=xe[Oe],xe[Oe]=null,Oe--)}function ze(d,h){Oe++,xe[Oe]=d.current,d.current=h}var yt=Ae(null),Be=Ae(null),Ce=Ae(null),re=Ae(null);function Fe(d,h){switch(ze(Ce,h),ze(Be,d),ze(yt,null),d=h.nodeType,d){case 9:case 11:h=(h=h.documentElement)&&(h=h.namespaceURI)?PB(h):0;break;default:if(d=d===8?h.parentNode:h,h=d.tagName,d=d.namespaceURI)d=PB(d),h=LB(d,h);else switch(h){case"svg":h=1;break;case"math":h=2;break;default:h=0}}Te(yt),ze(yt,h)}function Ie(){Te(yt),Te(Be),Te(Ce)}function qe(d){d.memoizedState!==null&&ze(re,d);var h=yt.current,x=LB(h,d.type);h!==x&&(ze(Be,d),ze(yt,x))}function $e(d){Be.current===d&&(Te(yt),Te(Be)),re.current===d&&(Te(re),Iy._currentValue=pe)}var ct=Object.prototype.hasOwnProperty,st=n.unstable_scheduleCallback,ce=n.unstable_cancelCallback,oe=n.unstable_shouldYield,we=n.unstable_requestPaint,De=n.unstable_now,Ke=n.unstable_getCurrentPriorityLevel,He=n.unstable_ImmediatePriority,gt=n.unstable_UserBlockingPriority,lt=n.unstable_NormalPriority,pt=n.unstable_LowPriority,It=n.unstable_IdlePriority,ot=n.log,_t=n.unstable_setDisableYieldValue,Ct=null,We=null;function rt(d){if(We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(Ct,d,void 0,(d.current.flags&128)===128)}catch{}}function Se(d){if(typeof ot=="function"&&_t(d),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(Ct,d)}catch{}}var Ge=Math.clz32?Math.clz32:xt,St=Math.log,Me=Math.LN2;function xt(d){return d>>>=0,d===0?32:31-(St(d)/Me|0)|0}var et=128,mt=4194304;function Nt(d){var h=d&42;if(h!==0)return h;switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return d&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return d}}function Bt(d,h){var x=d.pendingLanes;if(x===0)return 0;var A=0,L=d.suspendedLanes,G=d.pingedLanes,ne=d.warmLanes;d=d.finishedLanes!==0;var ge=x&134217727;return ge!==0?(x=ge&~L,x!==0?A=Nt(x):(G&=ge,G!==0?A=Nt(G):d||(ne=ge&~ne,ne!==0&&(A=Nt(ne))))):(ge=x&~L,ge!==0?A=Nt(ge):G!==0?A=Nt(G):d||(ne=x&~ne,ne!==0&&(A=Nt(ne)))),A===0?0:h!==0&&h!==A&&(h&L)===0&&(L=A&-A,ne=h&-h,L>=ne||L===32&&(ne&4194176)!==0)?h:A}function Qt(d,h){return(d.pendingLanes&~(d.suspendedLanes&~d.pingedLanes)&h)===0}function sn(d,h){switch(d){case 1:case 2:case 4:case 8:return h+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qt(){var d=et;return et<<=1,(et&4194176)===0&&(et=128),d}function Lt(){var d=mt;return mt<<=1,(mt&62914560)===0&&(mt=4194304),d}function Yt(d){for(var h=[],x=0;31>x;x++)h.push(d);return h}function yn(d,h){d.pendingLanes|=h,h!==268435456&&(d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0)}function lr(d,h,x,A,L,G){var ne=d.pendingLanes;d.pendingLanes=x,d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0,d.expiredLanes&=x,d.entangledLanes&=x,d.errorRecoveryDisabledLanes&=x,d.shellSuspendCounter=0;var ge=d.entanglements,Re=d.expirationTimes,Ye=d.hiddenUpdates;for(x=ne&~x;0<x;){var At=31-Ge(x),Ut=1<<At;ge[At]=0,Re[At]=-1;var ft=Ye[At];if(ft!==null)for(Ye[At]=null,At=0;At<ft.length;At++){var Et=ft[At];Et!==null&&(Et.lane&=-536870913)}x&=~Ut}A!==0&&Qr(d,A,0),G!==0&&L===0&&d.tag!==0&&(d.suspendedLanes|=G&~(ne&~h))}function Qr(d,h,x){d.pendingLanes|=h,d.suspendedLanes&=~h;var A=31-Ge(h);d.entangledLanes|=h,d.entanglements[A]=d.entanglements[A]|1073741824|x&4194218}function zn(d,h){var x=d.entangledLanes|=h;for(d=d.entanglements;x;){var A=31-Ge(x),L=1<<A;L&h|d[A]&h&&(d[A]|=h),x&=~L}}function Ai(d){return d&=-d,2<d?8<d?(d&134217727)!==0?32:268435456:8:2}function Sr(){var d=Z.p;return d!==0?d:(d=window.event,d===void 0?32:ZB(d.type))}function wn(d,h){var x=Z.p;try{return Z.p=d,h()}finally{Z.p=x}}var Mn=Math.random().toString(36).slice(2),Qn="__reactFiber$"+Mn,un="__reactProps$"+Mn,ii="__reactContainer$"+Mn,ln="__reactEvents$"+Mn,zr="__reactListeners$"+Mn,Ur="__reactHandles$"+Mn,Rr="__reactResources$"+Mn,Or="__reactMarker$"+Mn;function cr(d){delete d[Qn],delete d[un],delete d[ln],delete d[zr],delete d[Ur]}function _r(d){var h=d[Qn];if(h)return h;for(var x=d.parentNode;x;){if(h=x[ii]||x[Qn]){if(x=h.alternate,h.child!==null||x!==null&&x.child!==null)for(d=UB(d);d!==null;){if(x=d[Qn])return x;d=UB(d)}return h}d=x,x=d.parentNode}return null}function le(d){if(d=d[Qn]||d[ii]){var h=d.tag;if(h===5||h===6||h===13||h===26||h===27||h===3)return d}return null}function Ue(d){var h=d.tag;if(h===5||h===26||h===27||h===6)return d.stateNode;throw Error(r(33))}function at(d){var h=d[Rr];return h||(h=d[Rr]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function Ze(d){d[Or]=!0}var Ve=new Set,Rt={};function Vt(d,h){Kt(d,h),Kt(d+"Capture",h)}function Kt(d,h){for(Rt[d]=h,d=0;d<h.length;d++)Ve.add(h[d])}var Wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),dn={},on={};function Gn(d){return ct.call(on,d)?!0:ct.call(dn,d)?!1:gn.test(d)?on[d]=!0:(dn[d]=!0,!1)}function Vn(d,h,x){if(Gn(h))if(x===null)d.removeAttribute(h);else{switch(typeof x){case"undefined":case"function":case"symbol":d.removeAttribute(h);return;case"boolean":var A=h.toLowerCase().slice(0,5);if(A!=="data-"&&A!=="aria-"){d.removeAttribute(h);return}}d.setAttribute(h,""+x)}}function jn(d,h,x){if(x===null)d.removeAttribute(h);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(h);return}d.setAttribute(h,""+x)}}function In(d,h,x,A){if(A===null)d.removeAttribute(x);else{switch(typeof A){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(x);return}d.setAttributeNS(h,x,""+A)}}function bn(d){switch(typeof d){case"bigint":case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function cn(d){var h=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function Si(d){var h=cn(d)?"checked":"value",x=Object.getOwnPropertyDescriptor(d.constructor.prototype,h),A=""+d[h];if(!d.hasOwnProperty(h)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var L=x.get,G=x.set;return Object.defineProperty(d,h,{configurable:!0,get:function(){return L.call(this)},set:function(ne){A=""+ne,G.call(this,ne)}}),Object.defineProperty(d,h,{enumerable:x.enumerable}),{getValue:function(){return A},setValue:function(ne){A=""+ne},stopTracking:function(){d._valueTracker=null,delete d[h]}}}}function Wn(d){d._valueTracker||(d._valueTracker=Si(d))}function $n(d){if(!d)return!1;var h=d._valueTracker;if(!h)return!0;var x=h.getValue(),A="";return d&&(A=cn(d)?d.checked?"true":"false":d.value),d=A,d!==x?(h.setValue(d),!0):!1}function Tn(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}var Cn=/[\n"\\]/g;function Zn(d){return d.replace(Cn,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function An(d,h,x,A,L,G,ne,ge){d.name="",ne!=null&&typeof ne!="function"&&typeof ne!="symbol"&&typeof ne!="boolean"?d.type=ne:d.removeAttribute("type"),h!=null?ne==="number"?(h===0&&d.value===""||d.value!=h)&&(d.value=""+bn(h)):d.value!==""+bn(h)&&(d.value=""+bn(h)):ne!=="submit"&&ne!=="reset"||d.removeAttribute("value"),h!=null?Li(d,ne,bn(h)):x!=null?Li(d,ne,bn(x)):A!=null&&d.removeAttribute("value"),L==null&&G!=null&&(d.defaultChecked=!!G),L!=null&&(d.checked=L&&typeof L!="function"&&typeof L!="symbol"),ge!=null&&typeof ge!="function"&&typeof ge!="symbol"&&typeof ge!="boolean"?d.name=""+bn(ge):d.removeAttribute("name")}function xi(d,h,x,A,L,G,ne,ge){if(G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"&&(d.type=G),h!=null||x!=null){if(!(G!=="submit"&&G!=="reset"||h!=null))return;x=x!=null?""+bn(x):"",h=h!=null?""+bn(h):x,ge||h===d.value||(d.value=h),d.defaultValue=h}A=A??L,A=typeof A!="function"&&typeof A!="symbol"&&!!A,d.checked=ge?d.checked:!!A,d.defaultChecked=!!A,ne!=null&&typeof ne!="function"&&typeof ne!="symbol"&&typeof ne!="boolean"&&(d.name=ne)}function Li(d,h,x){h==="number"&&Tn(d.ownerDocument)===d||d.defaultValue===""+x||(d.defaultValue=""+x)}function $i(d,h,x,A){if(d=d.options,h){h={};for(var L=0;L<x.length;L++)h["$"+x[L]]=!0;for(x=0;x<d.length;x++)L=h.hasOwnProperty("$"+d[x].value),d[x].selected!==L&&(d[x].selected=L),L&&A&&(d[x].defaultSelected=!0)}else{for(x=""+bn(x),h=null,L=0;L<d.length;L++){if(d[L].value===x){d[L].selected=!0,A&&(d[L].defaultSelected=!0);return}h!==null||d[L].disabled||(h=d[L])}h!==null&&(h.selected=!0)}}function Ki(d,h,x){if(h!=null&&(h=""+bn(h),h!==d.value&&(d.value=h),x==null)){d.defaultValue!==h&&(d.defaultValue=h);return}d.defaultValue=x!=null?""+bn(x):""}function Ir(d,h,x,A){if(h==null){if(A!=null){if(x!=null)throw Error(r(92));if(fe(A)){if(1<A.length)throw Error(r(93));A=A[0]}x=A}x==null&&(x=""),h=x}x=bn(h),d.defaultValue=x,A=d.textContent,A===x&&A!==""&&A!==null&&(d.value=A)}function Wi(d,h){if(h){var x=d.firstChild;if(x&&x===d.lastChild&&x.nodeType===3){x.nodeValue=h;return}}d.textContent=h}var bo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function no(d,h,x){var A=h.indexOf("--")===0;x==null||typeof x=="boolean"||x===""?A?d.setProperty(h,""):h==="float"?d.cssFloat="":d[h]="":A?d.setProperty(h,x):typeof x!="number"||x===0||bo.has(h)?h==="float"?d.cssFloat=x:d[h]=(""+x).trim():d[h]=x+"px"}function Ma(d,h,x){if(h!=null&&typeof h!="object")throw Error(r(62));if(d=d.style,x!=null){for(var A in x)!x.hasOwnProperty(A)||h!=null&&h.hasOwnProperty(A)||(A.indexOf("--")===0?d.setProperty(A,""):A==="float"?d.cssFloat="":d[A]="");for(var L in h)A=h[L],h.hasOwnProperty(L)&&x[L]!==A&&no(d,L,A)}else for(var G in h)h.hasOwnProperty(G)&&no(d,G,h[G])}function Bs(d){if(d.indexOf("-")===-1)return!1;switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Jc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xr(d){return Jc.test(""+d)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":d}var $o=null;function Ua(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var va=null,Ta=null;function Ds(d){var h=le(d);if(h&&(d=h.stateNode)){var x=d[un]||null;e:switch(d=h.stateNode,h.type){case"input":if(An(d,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name),h=x.name,x.type==="radio"&&h!=null){for(x=d;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll('input[name="'+Zn(""+h)+'"][type="radio"]'),h=0;h<x.length;h++){var A=x[h];if(A!==d&&A.form===d.form){var L=A[un]||null;if(!L)throw Error(r(90));An(A,L.value,L.defaultValue,L.defaultValue,L.checked,L.defaultChecked,L.type,L.name)}}for(h=0;h<x.length;h++)A=x[h],A.form===d.form&&$n(A)}break e;case"textarea":Ki(d,x.value,x.defaultValue);break e;case"select":h=x.value,h!=null&&$i(d,!!x.multiple,h,!1)}}}var So=!1;function jl(d,h,x){if(So)return d(h,x);So=!0;try{var A=d(h);return A}finally{if(So=!1,(va!==null||Ta!==null)&&(Dd(),va&&(h=va,d=Ta,Ta=va=null,Ds(h),d)))for(h=0;h<d.length;h++)Ds(d[h])}}function tn(d,h){var x=d.stateNode;if(x===null)return null;var A=x[un]||null;if(A===null)return null;x=A[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(A=!A.disabled)||(d=d.type,A=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!A;break e;default:d=!1}if(d)return null;if(x&&typeof x!="function")throw Error(r(231,h,typeof x));return x}var Sn=!1;if(Wt)try{var Mi={};Object.defineProperty(Mi,"passive",{get:function(){Sn=!0}}),window.addEventListener("test",Mi,Mi),window.removeEventListener("test",Mi,Mi)}catch{Sn=!1}var Ci=null,Hi=null,Ps=null;function Vo(){if(Ps)return Ps;var d,h=Hi,x=h.length,A,L="value"in Ci?Ci.value:Ci.textContent,G=L.length;for(d=0;d<x&&h[d]===L[d];d++);var ne=x-d;for(A=1;A<=ne&&h[x-A]===L[G-A];A++);return Ps=L.slice(d,1<A?1-A:void 0)}function Fa(d){var h=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&h===13&&(d=13)):d=h,d===10&&(d=13),32<=d||d===13?d:0}function jo(){return!0}function Wl(){return!1}function ya(d){function h(x,A,L,G,ne){this._reactName=x,this._targetInst=L,this.type=A,this.nativeEvent=G,this.target=ne,this.currentTarget=null;for(var ge in d)d.hasOwnProperty(ge)&&(x=d[ge],this[ge]=x?x(G):G[ge]);return this.isDefaultPrevented=(G.defaultPrevented!=null?G.defaultPrevented:G.returnValue===!1)?jo:Wl,this.isPropagationStopped=Wl,this}return U(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=jo)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=jo)},persist:function(){},isPersistent:jo}),h}var cl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ul=ya(cl),Xl=U({},cl,{view:0,detail:0}),qh=ya(Xl),Wo,Qc,Zc,io=U({},Xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dl,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==Zc&&(Zc&&d.type==="mousemove"?(Wo=d.screenX-Zc.screenX,Qc=d.screenY-Zc.screenY):Qc=Wo=0,Zc=d),Wo)},movementY:function(d){return"movementY"in d?d.movementY:Qc}}),Kh=ya(io),Km=U({},io,{dataTransfer:0}),V0=ya(Km),Zr=U({},Xl,{relatedTarget:0}),ud=ya(Zr),ba=U({},cl,{animationName:0,elapsedTime:0,pseudoElement:0}),Jm=ya(ba),Qm=U({},cl,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),Zm=ya(Qm),dd=U({},cl,{data:0}),wf=ya(dd),eg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ng={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Af(d){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(d):(d=ng[d])?!!h[d]:!1}function dl(){return Af}var fl=U({},Xl,{key:function(d){if(d.key){var h=eg[d.key]||d.key;if(h!=="Unidentified")return h}return d.type==="keypress"?(d=Fa(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?tg[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dl,charCode:function(d){return d.type==="keypress"?Fa(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?Fa(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),eu=ya(fl),Jh=U({},io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fd=ya(Jh),Qh=U({},Xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dl}),Mf=ya(Qh),tu=U({},cl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ls=ya(tu),Zh=U({},io,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),j0=ya(Zh),ig=U({},cl,{newState:0,oldState:0}),hl=ya(ig),Ns=[9,13,27,32],Yl=Wt&&"CompositionEvent"in window,ql=null;Wt&&"documentMode"in document&&(ql=document.documentMode);var pl=Wt&&"TextEvent"in window&&!ql,hd=Wt&&(!Yl||ql&&8<ql&&11>=ql),ds=" ",la=!1;function pd(d,h){switch(d){case"keyup":return Ns.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tf(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var _o=!1;function xo(d,h){switch(d){case"compositionend":return Tf(h);case"keypress":return h.which!==32?null:(la=!0,ds);case"textInput":return d=h.data,d===ds&&la?null:d;default:return null}}function Rf(d,h){if(_o)return d==="compositionend"||!Yl&&pd(d,h)?(d=Vo(),Ps=Hi=Ci=null,_o=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return hd&&h.locale!=="ko"?null:h.data;default:return null}}var nu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ep(d){var h=d&&d.nodeName&&d.nodeName.toLowerCase();return h==="input"?!!nu[d.type]:h==="textarea"}function Ha(d,h,x,A){va?Ta?Ta.push(A):Ta=[A]:va=A,h=Z_(h,"onChange"),0<h.length&&(x=new ul("onChange","change",null,x,A),d.push({event:x,listeners:h}))}var iu=null,Kl=null;function rg(d){RB(d,0)}function md(d){var h=Ue(d);if($n(h))return d}function Of(d,h){if(d==="change")return h}var If=!1;if(Wt){var Bf;if(Wt){var ru="oninput"in document;if(!ru){var P=document.createElement("div");P.setAttribute("oninput","return;"),ru=typeof P.oninput=="function"}Bf=ru}else Bf=!1;If=Bf&&(!document.documentMode||9<document.documentMode)}function I(){iu&&(iu.detachEvent("onpropertychange",H),Kl=iu=null)}function H(d){if(d.propertyName==="value"&&md(Kl)){var h=[];Ha(h,Kl,d,Ua(d)),jl(rg,h)}}function V(d,h,x){d==="focusin"?(I(),iu=h,Kl=x,iu.attachEvent("onpropertychange",H)):d==="focusout"&&I()}function X(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return md(Kl)}function te(d,h){if(d==="click")return md(h)}function se(d,h){if(d==="input"||d==="change")return md(h)}function me(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var ye=typeof Object.is=="function"?Object.is:me;function Pe(d,h){if(ye(d,h))return!0;if(typeof d!="object"||d===null||typeof h!="object"||h===null)return!1;var x=Object.keys(d),A=Object.keys(h);if(x.length!==A.length)return!1;for(A=0;A<x.length;A++){var L=x[A];if(!ct.call(h,L)||!ye(d[L],h[L]))return!1}return!0}function Ee(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function Qe(d,h){var x=Ee(d);d=0;for(var A;x;){if(x.nodeType===3){if(A=d+x.textContent.length,d<=h&&A>=h)return{node:x,offset:h-d};d=A}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=Ee(x)}}function bt(d,h){return d&&h?d===h?!0:d&&d.nodeType===3?!1:h&&h.nodeType===3?bt(d,h.parentNode):"contains"in d?d.contains(h):d.compareDocumentPosition?!!(d.compareDocumentPosition(h)&16):!1:!1}function zt(d){d=d!=null&&d.ownerDocument!=null&&d.ownerDocument.defaultView!=null?d.ownerDocument.defaultView:window;for(var h=Tn(d.document);h instanceof d.HTMLIFrameElement;){try{var x=typeof h.contentWindow.location.href=="string"}catch{x=!1}if(x)d=h.contentWindow;else break;h=Tn(d.document)}return h}function Dt(d){var h=d&&d.nodeName&&d.nodeName.toLowerCase();return h&&(h==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||h==="textarea"||d.contentEditable==="true")}function kt(d,h){var x=zt(h);h=d.focusedElem;var A=d.selectionRange;if(x!==h&&h&&h.ownerDocument&&bt(h.ownerDocument.documentElement,h)){if(A!==null&&Dt(h)){if(d=A.start,x=A.end,x===void 0&&(x=d),"selectionStart"in h)h.selectionStart=d,h.selectionEnd=Math.min(x,h.value.length);else if(x=(d=h.ownerDocument||document)&&d.defaultView||window,x.getSelection){x=x.getSelection();var L=h.textContent.length,G=Math.min(A.start,L);A=A.end===void 0?G:Math.min(A.end,L),!x.extend&&G>A&&(L=A,A=G,G=L),L=Qe(h,G);var ne=Qe(h,A);L&&ne&&(x.rangeCount!==1||x.anchorNode!==L.node||x.anchorOffset!==L.offset||x.focusNode!==ne.node||x.focusOffset!==ne.offset)&&(d=d.createRange(),d.setStart(L.node,L.offset),x.removeAllRanges(),G>A?(x.addRange(d),x.extend(ne.node,ne.offset)):(d.setEnd(ne.node,ne.offset),x.addRange(d)))}}for(d=[],x=h;x=x.parentNode;)x.nodeType===1&&d.push({element:x,left:x.scrollLeft,top:x.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<d.length;h++)x=d[h],x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}var an=Wt&&"documentMode"in document&&11>=document.documentMode,Zt=null,hn=null,Ln=null,ei=!1;function pn(d,h,x){var A=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;ei||Zt==null||Zt!==Tn(A)||(A=Zt,"selectionStart"in A&&Dt(A)?A={start:A.selectionStart,end:A.selectionEnd}:(A=(A.ownerDocument&&A.ownerDocument.defaultView||window).getSelection(),A={anchorNode:A.anchorNode,anchorOffset:A.anchorOffset,focusNode:A.focusNode,focusOffset:A.focusOffset}),Ln&&Pe(Ln,A)||(Ln=A,A=Z_(hn,"onSelect"),0<A.length&&(h=new ul("onSelect","select",null,h,x),d.push({event:h,listeners:A}),h.target=Zt)))}function Rn(d,h){var x={};return x[d.toLowerCase()]=h.toLowerCase(),x["Webkit"+d]="webkit"+h,x["Moz"+d]="moz"+h,x}var Mr={animationend:Rn("Animation","AnimationEnd"),animationiteration:Rn("Animation","AnimationIteration"),animationstart:Rn("Animation","AnimationStart"),transitionrun:Rn("Transition","TransitionRun"),transitionstart:Rn("Transition","TransitionStart"),transitioncancel:Rn("Transition","TransitionCancel"),transitionend:Rn("Transition","TransitionEnd")},Ji={},Sa={};Wt&&(Sa=document.createElement("div").style,"AnimationEvent"in window||(delete Mr.animationend.animation,delete Mr.animationiteration.animation,delete Mr.animationstart.animation),"TransitionEvent"in window||delete Mr.transitionend.transition);function Ni(d){if(Ji[d])return Ji[d];if(!Mr[d])return d;var h=Mr[d],x;for(x in h)if(h.hasOwnProperty(x)&&x in Sa)return Ji[d]=h[x];return d}var Xo=Ni("animationend"),ca=Ni("animationiteration"),Jl=Ni("animationstart"),Ql=Ni("transitionrun"),Df=Ni("transitionstart"),au=Ni("transitioncancel"),ag=Ni("transitionend"),og=new Map,Zl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function fs(d,h){og.set(d,h),Vt(h,[d])}var Ra=[],ml=0,ec=0;function tp(){for(var d=ml,h=ec=ml=0;h<d;){var x=Ra[h];Ra[h++]=null;var A=Ra[h];Ra[h++]=null;var L=Ra[h];Ra[h++]=null;var G=Ra[h];if(Ra[h++]=null,A!==null&&L!==null){var ne=A.pending;ne===null?L.next=L:(L.next=ne.next,ne.next=L),A.pending=L}G!==0&&ip(x,L,G)}}function np(d,h,x,A){Ra[ml++]=d,Ra[ml++]=h,Ra[ml++]=x,Ra[ml++]=A,ec|=A,d.lanes|=A,d=d.alternate,d!==null&&(d.lanes|=A)}function gd(d,h,x,A){return np(d,h,x,A),rp(d)}function tc(d,h){return np(d,null,null,h),rp(d)}function ip(d,h,x){d.lanes|=x;var A=d.alternate;A!==null&&(A.lanes|=x);for(var L=!1,G=d.return;G!==null;)G.childLanes|=x,A=G.alternate,A!==null&&(A.childLanes|=x),G.tag===22&&(d=G.stateNode,d===null||d._visibility&1||(L=!0)),d=G,G=G.return;L&&h!==null&&d.tag===3&&(G=d.stateNode,L=31-Ge(x),G=G.hiddenUpdates,d=G[L],d===null?G[L]=[h]:d.push(h),h.lane=x|536870912)}function rp(d){if(50<xs)throw xs=0,xc=null,Error(r(185));for(var h=d.return;h!==null;)d=h,h=d.return;return d.tag===3?d.stateNode:null}var ou={},sg=new WeakMap;function Co(d,h){if(typeof d=="object"&&d!==null){var x=sg.get(d);return x!==void 0?x:(h={value:d,source:h,stack:K(h)},sg.set(d,h),h)}return{value:d,source:h,stack:K(h)}}var vd=[],su=0,Ga=null,ap=0,ur=[],Yo=0,nc=null,gl=1,ic="";function ro(d,h){vd[su++]=ap,vd[su++]=Ga,Ga=d,ap=h}function W0(d,h,x){ur[Yo++]=gl,ur[Yo++]=ic,ur[Yo++]=nc,nc=d;var A=gl;d=ic;var L=32-Ge(A)-1;A&=~(1<<L),x+=1;var G=32-Ge(h)+L;if(30<G){var ne=L-L%5;G=(A&(1<<ne)-1).toString(32),A>>=ne,L-=ne,gl=1<<32-Ge(h)+L|x<<L|A,ic=G+d}else gl=1<<G|x<<L|A,ic=d}function op(d){d.return!==null&&(ro(d,1),W0(d,1,0))}function lu(d){for(;d===Ga;)Ga=vd[--su],vd[su]=null,ap=vd[--su],vd[su]=null;for(;d===nc;)nc=ur[--Yo],ur[Yo]=null,ic=ur[--Yo],ur[Yo]=null,gl=ur[--Yo],ur[Yo]=null}var ka=null,_a=null,Ti=!1,hs=null,ps=!1,sp=Error(r(519));function yd(d){var h=Error(r(418,""));throw vl(Co(h,d)),sp}function r_(d){var h=d.stateNode,x=d.type,A=d.memoizedProps;switch(h[Qn]=d,h[un]=A,x){case"dialog":Oi("cancel",h),Oi("close",h);break;case"iframe":case"object":case"embed":Oi("load",h);break;case"video":case"audio":for(x=0;x<Ay.length;x++)Oi(Ay[x],h);break;case"source":Oi("error",h);break;case"img":case"image":case"link":Oi("error",h),Oi("load",h);break;case"details":Oi("toggle",h);break;case"input":Oi("invalid",h),xi(h,A.value,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name,!0),Wn(h);break;case"select":Oi("invalid",h);break;case"textarea":Oi("invalid",h),Ir(h,A.value,A.defaultValue,A.children),Wn(h)}x=A.children,typeof x!="string"&&typeof x!="number"&&typeof x!="bigint"||h.textContent===""+x||A.suppressHydrationWarning===!0||DB(h.textContent,x)?(A.popover!=null&&(Oi("beforetoggle",h),Oi("toggle",h)),A.onScroll!=null&&Oi("scroll",h),A.onScrollEnd!=null&&Oi("scrollend",h),A.onClick!=null&&(h.onclick=ex),h=!0):h=!1,h||yd(d)}function a_(d){for(ka=d.return;ka;)switch(ka.tag){case 3:case 27:ps=!0;return;case 5:case 13:ps=!1;return;default:ka=ka.return}}function Pf(d){if(d!==ka)return!1;if(!Ti)return a_(d),Ti=!0,!1;var h=!1,x;if((x=d.tag!==3&&d.tag!==27)&&((x=d.tag===5)&&(x=d.type,x=!(x!=="form"&&x!=="button")||jA(d.type,d.memoizedProps)),x=!x),x&&(h=!0),h&&_a&&yd(d),a_(d),d.tag===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));e:{for(d=d.nextSibling,h=0;d;){if(d.nodeType===8)if(x=d.data,x==="/$"){if(h===0){_a=Ec(d.nextSibling);break e}h--}else x!=="$"&&x!=="$!"&&x!=="$?"||h++;d=d.nextSibling}_a=null}}else _a=ka?Ec(d.stateNode.nextSibling):null;return!0}function Lf(){_a=ka=null,Ti=!1}function vl(d){hs===null?hs=[d]:hs.push(d)}var cu=Error(r(460)),X0=Error(r(474)),lg={then:function(){}};function o_(d){return d=d.status,d==="fulfilled"||d==="rejected"}function lp(){}function uu(d,h,x){switch(x=d[x],x===void 0?d.push(h):x!==h&&(h.then(lp,lp),h=x),h.status){case"fulfilled":return h.value;case"rejected":throw d=h.reason,d===cu?Error(r(483)):d;default:if(typeof h.status=="string")h.then(lp,lp);else{if(d=Zi,d!==null&&100<d.shellSuspendCounter)throw Error(r(482));d=h,d.status="pending",d.then(function(A){if(h.status==="pending"){var L=h;L.status="fulfilled",L.value=A}},function(A){if(h.status==="pending"){var L=h;L.status="rejected",L.reason=A}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw d=h.reason,d===cu?Error(r(483)):d}throw Nf=h,cu}}var Nf=null;function Vi(){if(Nf===null)throw Error(r(459));var d=Nf;return Nf=null,d}var du=null,cp=0;function up(d){var h=cp;return cp+=1,du===null&&(du=[]),uu(du,d,h)}function dp(d,h){h=h.props.ref,d.ref=h!==void 0?h:null}function cg(d,h){throw h.$$typeof===o?Error(r(525)):(d=Object.prototype.toString.call(h),Error(r(31,d==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":d)))}function s_(d){var h=d._init;return h(d._payload)}function l_(d){function h(nt,je){if(d){var ut=nt.deletions;ut===null?(nt.deletions=[je],nt.flags|=16):ut.push(je)}}function x(nt,je){if(!d)return null;for(;je!==null;)h(nt,je),je=je.sibling;return null}function A(nt){for(var je=new Map;nt!==null;)nt.key!==null?je.set(nt.key,nt):je.set(nt.index,nt),nt=nt.sibling;return je}function L(nt,je){return nt=lo(nt,je),nt.index=0,nt.sibling=null,nt}function G(nt,je,ut){return nt.index=ut,d?(ut=nt.alternate,ut!==null?(ut=ut.index,ut<je?(nt.flags|=33554434,je):ut):(nt.flags|=33554434,je)):(nt.flags|=1048576,je)}function ne(nt){return d&&nt.alternate===null&&(nt.flags|=33554434),nt}function ge(nt,je,ut,Ot){return je===null||je.tag!==6?(je=ia(ut,nt.mode,Ot),je.return=nt,je):(je=L(je,ut),je.return=nt,je)}function Re(nt,je,ut,Ot){var fn=ut.type;return fn===u?At(nt,je,ut.props.children,Ot,ut.key):je!==null&&(je.elementType===fn||typeof fn=="object"&&fn!==null&&fn.$$typeof===C&&s_(fn)===je.type)?(je=L(je,ut.props),dp(je,ut),je.return=nt,je):(je=Jf(ut.type,ut.key,ut.props,null,nt.mode,Ot),dp(je,ut),je.return=nt,je)}function Ye(nt,je,ut,Ot){return je===null||je.tag!==4||je.stateNode.containerInfo!==ut.containerInfo||je.stateNode.implementation!==ut.implementation?(je=Cp(ut,nt.mode,Ot),je.return=nt,je):(je=L(je,ut.children||[]),je.return=nt,je)}function At(nt,je,ut,Ot,fn){return je===null||je.tag!==7?(je=Ou(ut,nt.mode,Ot,fn),je.return=nt,je):(je=L(je,ut),je.return=nt,je)}function Ut(nt,je,ut){if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return je=ia(""+je,nt.mode,ut),je.return=nt,je;if(typeof je=="object"&&je!==null){switch(je.$$typeof){case l:return ut=Jf(je.type,je.key,je.props,null,nt.mode,ut),dp(ut,je),ut.return=nt,ut;case s:return je=Cp(je,nt.mode,ut),je.return=nt,je;case C:var Ot=je._init;return je=Ot(je._payload),Ut(nt,je,ut)}if(fe(je)||B(je))return je=Ou(je,nt.mode,ut,null),je.return=nt,je;if(typeof je.then=="function")return Ut(nt,up(je),ut);if(je.$$typeof===E)return Ut(nt,Ag(nt,je),ut);cg(nt,je)}return null}function ft(nt,je,ut,Ot){var fn=je!==null?je.key:null;if(typeof ut=="string"&&ut!==""||typeof ut=="number"||typeof ut=="bigint")return fn!==null?null:ge(nt,je,""+ut,Ot);if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case l:return ut.key===fn?Re(nt,je,ut,Ot):null;case s:return ut.key===fn?Ye(nt,je,ut,Ot):null;case C:return fn=ut._init,ut=fn(ut._payload),ft(nt,je,ut,Ot)}if(fe(ut)||B(ut))return fn!==null?null:At(nt,je,ut,Ot,null);if(typeof ut.then=="function")return ft(nt,je,up(ut),Ot);if(ut.$$typeof===E)return ft(nt,je,Ag(nt,ut),Ot);cg(nt,ut)}return null}function Et(nt,je,ut,Ot,fn){if(typeof Ot=="string"&&Ot!==""||typeof Ot=="number"||typeof Ot=="bigint")return nt=nt.get(ut)||null,ge(je,nt,""+Ot,fn);if(typeof Ot=="object"&&Ot!==null){switch(Ot.$$typeof){case l:return nt=nt.get(Ot.key===null?ut:Ot.key)||null,Re(je,nt,Ot,fn);case s:return nt=nt.get(Ot.key===null?ut:Ot.key)||null,Ye(je,nt,Ot,fn);case C:var yi=Ot._init;return Ot=yi(Ot._payload),Et(nt,je,ut,Ot,fn)}if(fe(Ot)||B(Ot))return nt=nt.get(ut)||null,At(je,nt,Ot,fn,null);if(typeof Ot.then=="function")return Et(nt,je,ut,up(Ot),fn);if(Ot.$$typeof===E)return Et(nt,je,ut,Ag(je,Ot),fn);cg(je,Ot)}return null}function xn(nt,je,ut,Ot){for(var fn=null,yi=null,En=je,Fn=je=0,qa=null;En!==null&&Fn<ut.length;Fn++){En.index>Fn?(qa=En,En=null):qa=En.sibling;var ji=ft(nt,En,ut[Fn],Ot);if(ji===null){En===null&&(En=qa);break}d&&En&&ji.alternate===null&&h(nt,En),je=G(ji,je,Fn),yi===null?fn=ji:yi.sibling=ji,yi=ji,En=qa}if(Fn===ut.length)return x(nt,En),Ti&&ro(nt,Fn),fn;if(En===null){for(;Fn<ut.length;Fn++)En=Ut(nt,ut[Fn],Ot),En!==null&&(je=G(En,je,Fn),yi===null?fn=En:yi.sibling=En,yi=En);return Ti&&ro(nt,Fn),fn}for(En=A(En);Fn<ut.length;Fn++)qa=Et(En,nt,Fn,ut[Fn],Ot),qa!==null&&(d&&qa.alternate!==null&&En.delete(qa.key===null?Fn:qa.key),je=G(qa,je,Fn),yi===null?fn=qa:yi.sibling=qa,yi=qa);return d&&En.forEach(function(oh){return h(nt,oh)}),Ti&&ro(nt,Fn),fn}function Kn(nt,je,ut,Ot){if(ut==null)throw Error(r(151));for(var fn=null,yi=null,En=je,Fn=je=0,qa=null,ji=ut.next();En!==null&&!ji.done;Fn++,ji=ut.next()){En.index>Fn?(qa=En,En=null):qa=En.sibling;var oh=ft(nt,En,ji.value,Ot);if(oh===null){En===null&&(En=qa);break}d&&En&&oh.alternate===null&&h(nt,En),je=G(oh,je,Fn),yi===null?fn=oh:yi.sibling=oh,yi=oh,En=qa}if(ji.done)return x(nt,En),Ti&&ro(nt,Fn),fn;if(En===null){for(;!ji.done;Fn++,ji=ut.next())ji=Ut(nt,ji.value,Ot),ji!==null&&(je=G(ji,je,Fn),yi===null?fn=ji:yi.sibling=ji,yi=ji);return Ti&&ro(nt,Fn),fn}for(En=A(En);!ji.done;Fn++,ji=ut.next())ji=Et(En,nt,Fn,ji.value,Ot),ji!==null&&(d&&ji.alternate!==null&&En.delete(ji.key===null?Fn:ji.key),je=G(ji,je,Fn),yi===null?fn=ji:yi.sibling=ji,yi=ji);return d&&En.forEach(function(E5){return h(nt,E5)}),Ti&&ro(nt,Fn),fn}function oa(nt,je,ut,Ot){if(typeof ut=="object"&&ut!==null&&ut.type===u&&ut.key===null&&(ut=ut.props.children),typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case l:e:{for(var fn=ut.key;je!==null;){if(je.key===fn){if(fn=ut.type,fn===u){if(je.tag===7){x(nt,je.sibling),Ot=L(je,ut.props.children),Ot.return=nt,nt=Ot;break e}}else if(je.elementType===fn||typeof fn=="object"&&fn!==null&&fn.$$typeof===C&&s_(fn)===je.type){x(nt,je.sibling),Ot=L(je,ut.props),dp(Ot,ut),Ot.return=nt,nt=Ot;break e}x(nt,je);break}else h(nt,je);je=je.sibling}ut.type===u?(Ot=Ou(ut.props.children,nt.mode,Ot,ut.key),Ot.return=nt,nt=Ot):(Ot=Jf(ut.type,ut.key,ut.props,null,nt.mode,Ot),dp(Ot,ut),Ot.return=nt,nt=Ot)}return ne(nt);case s:e:{for(fn=ut.key;je!==null;){if(je.key===fn)if(je.tag===4&&je.stateNode.containerInfo===ut.containerInfo&&je.stateNode.implementation===ut.implementation){x(nt,je.sibling),Ot=L(je,ut.children||[]),Ot.return=nt,nt=Ot;break e}else{x(nt,je);break}else h(nt,je);je=je.sibling}Ot=Cp(ut,nt.mode,Ot),Ot.return=nt,nt=Ot}return ne(nt);case C:return fn=ut._init,ut=fn(ut._payload),oa(nt,je,ut,Ot)}if(fe(ut))return xn(nt,je,ut,Ot);if(B(ut)){if(fn=B(ut),typeof fn!="function")throw Error(r(150));return ut=fn.call(ut),Kn(nt,je,ut,Ot)}if(typeof ut.then=="function")return oa(nt,je,up(ut),Ot);if(ut.$$typeof===E)return oa(nt,je,Ag(nt,ut),Ot);cg(nt,ut)}return typeof ut=="string"&&ut!==""||typeof ut=="number"||typeof ut=="bigint"?(ut=""+ut,je!==null&&je.tag===6?(x(nt,je.sibling),Ot=L(je,ut),Ot.return=nt,nt=Ot):(x(nt,je),Ot=ia(ut,nt.mode,Ot),Ot.return=nt,nt=Ot),ne(nt)):x(nt,je)}return function(nt,je,ut,Ot){try{cp=0;var fn=oa(nt,je,ut,Ot);return du=null,fn}catch(En){if(En===cu)throw En;var yi=jr(29,En,null,nt.mode);return yi.lanes=Ot,yi.return=nt,yi}finally{}}}var rc=l_(!0),ac=l_(!1),bd=Ae(null),Sd=Ae(0);function fu(d,h){d=_c,ze(Sd,d),ze(bd,h),_c=d|h.baseLanes}function ug(){ze(Sd,_c),ze(bd,bd.current)}function fp(){_c=Sd.current,Te(bd),Te(Sd)}var Eo=Ae(null),yl=null;function oc(d){var h=d.alternate;ze(ea,ea.current&1),ze(Eo,d),yl===null&&(h===null||bd.current!==null||h.memoizedState!==null)&&(yl=d)}function Y0(d){if(d.tag===22){if(ze(ea,ea.current),ze(Eo,d),yl===null){var h=d.alternate;h!==null&&h.memoizedState!==null&&(yl=d)}}else sc()}function sc(){ze(ea,ea.current),ze(Eo,Eo.current)}function bl(d){Te(Eo),yl===d&&(yl=null),Te(ea)}var ea=Ae(0);function zf(d){for(var h=d;h!==null;){if(h.tag===13){var x=h.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||x.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var pi=typeof AbortController<"u"?AbortController:function(){var d=[],h=this.signal={aborted:!1,addEventListener:function(x,A){d.push(A)}};this.abort=function(){h.aborted=!0,d.forEach(function(x){return x()})}},AA=n.unstable_scheduleCallback,qo=n.unstable_NormalPriority,Fr={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function q0(){return{controller:new pi,data:new Map,refCount:0}}function hu(d){d.refCount--,d.refCount===0&&AA(qo,function(){d.controller.abort()})}var Sl=null,pu=0,_d=0,mu=null;function MA(d,h){if(Sl===null){var x=Sl=[];pu=0,_d=NA(),mu={status:"pending",value:void 0,then:function(A){x.push(A)}}}return pu++,h.then(K0,K0),h}function K0(){if(--pu===0&&Sl!==null){mu!==null&&(mu.status="fulfilled");var d=Sl;Sl=null,_d=0,mu=null;for(var h=0;h<d.length;h++)(0,d[h])()}}function gu(d,h){var x=[],A={status:"pending",value:null,reason:null,then:function(L){x.push(L)}};return d.then(function(){A.status="fulfilled",A.value=h;for(var L=0;L<x.length;L++)(0,x[L])(h)},function(L){for(A.status="rejected",A.reason=L,L=0;L<x.length;L++)(0,x[L])(void 0)}),A}var dg=z.S;z.S=function(d,h){typeof h=="object"&&h!==null&&typeof h.then=="function"&&MA(d,h),dg!==null&&dg(d,h)};var lc=Ae(null);function hp(){var d=lc.current;return d!==null?d:Zi.pooledCache}function Uf(d,h){h===null?ze(lc,lc.current):ze(lc,h.pool)}function cc(){var d=hp();return d===null?null:{parent:Fr._currentValue,pool:d}}var uc=0,si=null,Xi=null,ta=null,Un=!1,vu=!1,yu=!1,Ff=0,bu=0,Hf=null,TA=0;function Br(){throw Error(r(321))}function xd(d,h){if(h===null)return!1;for(var x=0;x<h.length&&x<d.length;x++)if(!ye(d[x],h[x]))return!1;return!0}function J0(d,h,x,A,L,G){return uc=G,si=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,z.H=d===null||d.memoizedState===null?_u:fc,yu=!1,G=x(A,L),yu=!1,vu&&(G=u_(h,x,A,L)),c_(d),G}function c_(d){z.H=xl;var h=Xi!==null&&Xi.next!==null;if(uc=0,ta=Xi=si=null,Un=!1,bu=0,Hf=null,h)throw Error(r(300));d===null||ua||(d=d.dependencies,d!==null&&jf(d)&&(ua=!0))}function u_(d,h,x,A){si=d;var L=0;do{if(vu&&(Hf=null),bu=0,vu=!1,25<=L)throw Error(r(301));if(L+=1,ta=Xi=null,d.updateQueue!=null){var G=d.updateQueue;G.lastEffect=null,G.events=null,G.stores=null,G.memoCache!=null&&(G.memoCache.index=0)}z.H=wd,G=h(x,A)}while(vu);return G}function RA(){var d=z.H,h=d.useState()[0];return h=typeof h.then=="function"?mp(h):h,d=d.useState()[0],(Xi!==null?Xi.memoizedState:null)!==d&&(si.flags|=1024),h}function Q0(){var d=Ff!==0;return Ff=0,d}function pp(d,h,x){h.updateQueue=d.updateQueue,h.flags&=-2053,d.lanes&=~x}function fg(d){if(Un){for(d=d.memoizedState;d!==null;){var h=d.queue;h!==null&&(h.pending=null),d=d.next}Un=!1}uc=0,ta=Xi=si=null,vu=!1,bu=Ff=0,Hf=null}function Oa(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ta===null?si.memoizedState=ta=d:ta=ta.next=d,ta}function Hr(){if(Xi===null){var d=si.alternate;d=d!==null?d.memoizedState:null}else d=Xi.next;var h=ta===null?si.memoizedState:ta.next;if(h!==null)ta=h,Xi=d;else{if(d===null)throw si.alternate===null?Error(r(467)):Error(r(310));Xi=d,d={memoizedState:Xi.memoizedState,baseState:Xi.baseState,baseQueue:Xi.baseQueue,queue:Xi.queue,next:null},ta===null?si.memoizedState=ta=d:ta=ta.next=d}return ta}var hg;hg=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function mp(d){var h=bu;return bu+=1,Hf===null&&(Hf=[]),d=uu(Hf,d,h),h=si,(ta===null?h.memoizedState:ta.next)===null&&(h=h.alternate,z.H=h===null||h.memoizedState===null?_u:fc),d}function Gf(d){if(d!==null&&typeof d=="object"){if(typeof d.then=="function")return mp(d);if(d.$$typeof===E)return $a(d)}throw Error(r(438,String(d)))}function zs(d){var h=null,x=si.updateQueue;if(x!==null&&(h=x.memoCache),h==null){var A=si.alternate;A!==null&&(A=A.updateQueue,A!==null&&(A=A.memoCache,A!=null&&(h={data:A.data.map(function(L){return L.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),x===null&&(x=hg(),si.updateQueue=x),x.memoCache=h,x=h.data[h.index],x===void 0)for(x=h.data[h.index]=Array(d),A=0;A<d;A++)x[A]=M;return h.index++,x}function Cr(d,h){return typeof h=="function"?h(d):h}function Us(d){var h=Hr();return wo(h,Xi,d)}function wo(d,h,x){var A=d.queue;if(A===null)throw Error(r(311));A.lastRenderedReducer=x;var L=d.baseQueue,G=A.pending;if(G!==null){if(L!==null){var ne=L.next;L.next=G.next,G.next=ne}h.baseQueue=L=G,A.pending=null}if(G=d.baseState,L===null)d.memoizedState=G;else{h=L.next;var ge=ne=null,Re=null,Ye=h,At=!1;do{var Ut=Ye.lane&-536870913;if(Ut!==Ye.lane?(On&Ut)===Ut:(uc&Ut)===Ut){var ft=Ye.revertLane;if(ft===0)Re!==null&&(Re=Re.next={lane:0,revertLane:0,action:Ye.action,hasEagerState:Ye.hasEagerState,eagerState:Ye.eagerState,next:null}),Ut===_d&&(At=!0);else if((uc&ft)===ft){Ye=Ye.next,ft===_d&&(At=!0);continue}else Ut={lane:0,revertLane:Ye.revertLane,action:Ye.action,hasEagerState:Ye.hasEagerState,eagerState:Ye.eagerState,next:null},Re===null?(ge=Re=Ut,ne=G):Re=Re.next=Ut,si.lanes|=ft,js|=ft;Ut=Ye.action,yu&&x(G,Ut),G=Ye.hasEagerState?Ye.eagerState:x(G,Ut)}else ft={lane:Ut,revertLane:Ye.revertLane,action:Ye.action,hasEagerState:Ye.hasEagerState,eagerState:Ye.eagerState,next:null},Re===null?(ge=Re=ft,ne=G):Re=Re.next=ft,si.lanes|=Ut,js|=Ut;Ye=Ye.next}while(Ye!==null&&Ye!==h);if(Re===null?ne=G:Re.next=ge,!ye(G,d.memoizedState)&&(ua=!0,At&&(x=mu,x!==null)))throw x;d.memoizedState=G,d.baseState=ne,d.baseQueue=Re,A.lastRenderedState=G}return L===null&&(A.lanes=0),[d.memoizedState,A.dispatch]}function pg(d){var h=Hr(),x=h.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=d;var A=x.dispatch,L=x.pending,G=h.memoizedState;if(L!==null){x.pending=null;var ne=L=L.next;do G=d(G,ne.action),ne=ne.next;while(ne!==L);ye(G,h.memoizedState)||(ua=!0),h.memoizedState=G,h.baseQueue===null&&(h.baseState=G),x.lastRenderedState=G}return[G,A]}function d_(d,h,x){var A=si,L=Hr(),G=Ti;if(G){if(x===void 0)throw Error(r(407));x=x()}else x=h();var ne=!ye((Xi||L).memoizedState,x);if(ne&&(L.memoizedState=x,ua=!0),L=L.queue,ny(f_.bind(null,A,L,d),[d]),L.getSnapshot!==h||ne||ta!==null&&ta.memoizedState.tag&1){if(A.flags|=2048,_l(9,Su.bind(null,A,L,x,h),{destroy:void 0},null),Zi===null)throw Error(r(349));G||(uc&60)!==0||ao(A,h,x)}return x}function ao(d,h,x){d.flags|=16384,d={getSnapshot:h,value:x},h=si.updateQueue,h===null?(h=hg(),si.updateQueue=h,h.stores=[d]):(x=h.stores,x===null?h.stores=[d]:x.push(d))}function Su(d,h,x,A){h.value=x,h.getSnapshot=A,h_(h)&&p_(d)}function f_(d,h,x){return x(function(){h_(h)&&p_(d)})}function h_(d){var h=d.getSnapshot;d=d.value;try{var x=h();return!ye(d,x)}catch{return!0}}function p_(d){var h=tc(d,2);h!==null&&aa(h,d,2)}function Z0(d){var h=Oa();if(typeof d=="function"){var x=d;if(d=x(),yu){Se(!0);try{x()}finally{Se(!1)}}}return h.memoizedState=h.baseState=d,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cr,lastRenderedState:d},h}function ey(d,h,x,A){return d.baseState=x,wo(d,Xi,typeof A=="function"?A:Cr)}function OA(d,h,x,A,L){if(bg(d))throw Error(r(485));if(d=h.action,d!==null){var G={payload:L,action:d,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ne){G.listeners.push(ne)}};z.T!==null?x(!0):G.isTransition=!1,A(G),x=h.pending,x===null?(G.next=h.pending=G,ty(h,G)):(G.next=x.next,h.pending=x.next=G)}}function ty(d,h){var x=h.action,A=h.payload,L=d.state;if(h.isTransition){var G=z.T,ne={};z.T=ne;try{var ge=x(L,A),Re=z.S;Re!==null&&Re(ne,ge),m_(d,h,ge)}catch(Ye){dc(d,h,Ye)}finally{z.T=G}}else try{G=x(L,A),m_(d,h,G)}catch(Ye){dc(d,h,Ye)}}function m_(d,h,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(A){Cd(d,h,A)},function(A){return dc(d,h,A)}):Cd(d,h,x)}function Cd(d,h,x){h.status="fulfilled",h.value=x,g_(h),d.state=x,h=d.pending,h!==null&&(x=h.next,x===h?d.pending=null:(x=x.next,h.next=x,ty(d,x)))}function dc(d,h,x){var A=d.pending;if(d.pending=null,A!==null){A=A.next;do h.status="rejected",h.reason=x,g_(h),h=h.next;while(h!==A)}d.action=null}function g_(d){d=d.listeners;for(var h=0;h<d.length;h++)(0,d[h])()}function v_(d,h){return h}function y_(d,h){if(Ti){var x=Zi.formState;if(x!==null){e:{var A=si;if(Ti){if(_a){t:{for(var L=_a,G=ps;L.nodeType!==8;){if(!G){L=null;break t}if(L=Ec(L.nextSibling),L===null){L=null;break t}}G=L.data,L=G==="F!"||G==="F"?L:null}if(L){_a=Ec(L.nextSibling),A=L.data==="F!";break e}}yd(A)}A=!1}A&&(h=x[0])}}return x=Oa(),x.memoizedState=x.baseState=h,A={pending:null,lanes:0,dispatch:null,lastRenderedReducer:v_,lastRenderedState:h},x.queue=A,x=oy.bind(null,si,A),A.dispatch=x,A=Z0(!1),G=gp.bind(null,si,!1,A.queue),A=Oa(),L={state:h,dispatch:null,action:d,pending:null},A.queue=L,x=OA.bind(null,si,L,G,x),L.dispatch=x,A.memoizedState=d,[h,x,!1]}function kf(d){var h=Hr();return b_(h,Xi,d)}function b_(d,h,x){h=wo(d,h,v_)[0],d=Us(Cr)[0],h=typeof h=="object"&&h!==null&&typeof h.then=="function"?mp(h):h;var A=Hr(),L=A.queue,G=L.dispatch;return x!==A.memoizedState&&(si.flags|=2048,_l(9,IA.bind(null,L,x),{destroy:void 0},null)),[h,G,d]}function IA(d,h){d.action=h}function S_(d){var h=Hr(),x=Xi;if(x!==null)return b_(h,x,d);Hr(),h=h.memoizedState,x=Hr();var A=x.queue.dispatch;return x.memoizedState=d,[h,A,!1]}function _l(d,h,x,A){return d={tag:d,create:h,inst:x,deps:A,next:null},h=si.updateQueue,h===null&&(h=hg(),si.updateQueue=h),x=h.lastEffect,x===null?h.lastEffect=d.next=d:(A=x.next,x.next=d,d.next=A,h.lastEffect=d),d}function __(){return Hr().memoizedState}function mg(d,h,x,A){var L=Oa();si.flags|=d,L.memoizedState=_l(1|h,x,{destroy:void 0},A===void 0?null:A)}function gg(d,h,x,A){var L=Hr();A=A===void 0?null:A;var G=L.memoizedState.inst;Xi!==null&&A!==null&&xd(A,Xi.memoizedState.deps)?L.memoizedState=_l(h,x,G,A):(si.flags|=d,L.memoizedState=_l(1|h,x,G,A))}function x_(d,h){mg(8390656,8,d,h)}function ny(d,h){gg(2048,8,d,h)}function C_(d,h){return gg(4,2,d,h)}function E_(d,h){return gg(4,4,d,h)}function w_(d,h){if(typeof h=="function"){d=d();var x=h(d);return function(){typeof x=="function"?x():h(null)}}if(h!=null)return d=d(),h.current=d,function(){h.current=null}}function A_(d,h,x){x=x!=null?x.concat([d]):null,gg(4,4,w_.bind(null,h,d),x)}function iy(){}function M_(d,h){var x=Hr();h=h===void 0?null:h;var A=x.memoizedState;return h!==null&&xd(h,A[1])?A[0]:(x.memoizedState=[d,h],d)}function T_(d,h){var x=Hr();h=h===void 0?null:h;var A=x.memoizedState;if(h!==null&&xd(h,A[1]))return A[0];if(A=d(),yu){Se(!0);try{d()}finally{Se(!1)}}return x.memoizedState=[A,h],A}function vg(d,h,x){return x===void 0||(uc&1073741824)!==0?d.memoizedState=h:(d.memoizedState=x,d=es(),si.lanes|=d,js|=d,x)}function R_(d,h,x,A){return ye(x,h)?x:bd.current!==null?(d=vg(d,x,A),ye(d,h)||(ua=!0),d):(uc&42)===0?(ua=!0,d.memoizedState=x):(d=es(),si.lanes|=d,js|=d,h)}function O_(d,h,x,A,L){var G=Z.p;Z.p=G!==0&&8>G?G:8;var ne=z.T,ge={};z.T=ge,gp(d,!1,h,x);try{var Re=L(),Ye=z.S;if(Ye!==null&&Ye(ge,Re),Re!==null&&typeof Re=="object"&&typeof Re.then=="function"){var At=gu(Re,A);Ed(d,h,At,uo(d))}else Ed(d,h,A,uo(d))}catch(Ut){Ed(d,h,{then:function(){},status:"rejected",reason:Ut},uo())}finally{Z.p=G,z.T=ne}}function BA(){}function ry(d,h,x,A){if(d.tag!==5)throw Error(r(476));var L=I_(d).queue;O_(d,L,h,pe,x===null?BA:function(){return B_(d),x(A)})}function I_(d){var h=d.memoizedState;if(h!==null)return h;h={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cr,lastRenderedState:pe},next:null};var x={};return h.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cr,lastRenderedState:x},next:null},d.memoizedState=h,d=d.alternate,d!==null&&(d.memoizedState=h),h}function B_(d){var h=I_(d).next.queue;Ed(d,h,{},uo())}function yg(){return $a(Iy)}function ay(){return Hr().memoizedState}function D_(){return Hr().memoizedState}function P_(d){for(var h=d.return;h!==null;){switch(h.tag){case 24:case 3:var x=uo();d=Qo(x);var A=Zo(h,d,x);A!==null&&(aa(A,h,x),Eu(A,h,x)),h={cache:q0()},d.payload=h;return}h=h.return}}function L_(d,h,x){var A=uo();x={lane:A,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null},bg(d)?N_(h,x):(x=gd(d,h,x,A),x!==null&&(aa(x,d,A),z_(x,h,A)))}function oy(d,h,x){var A=uo();Ed(d,h,x,A)}function Ed(d,h,x,A){var L={lane:A,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null};if(bg(d))N_(h,L);else{var G=d.alternate;if(d.lanes===0&&(G===null||G.lanes===0)&&(G=h.lastRenderedReducer,G!==null))try{var ne=h.lastRenderedState,ge=G(ne,x);if(L.hasEagerState=!0,L.eagerState=ge,ye(ge,ne))return np(d,h,L,0),Zi===null&&tp(),!1}catch{}finally{}if(x=gd(d,h,L,A),x!==null)return aa(x,d,A),z_(x,h,A),!0}return!1}function gp(d,h,x,A){if(A={lane:2,revertLane:NA(),action:A,hasEagerState:!1,eagerState:null,next:null},bg(d)){if(h)throw Error(r(479))}else h=gd(d,x,A,2),h!==null&&aa(h,d,2)}function bg(d){var h=d.alternate;return d===si||h!==null&&h===si}function N_(d,h){vu=Un=!0;var x=d.pending;x===null?h.next=h:(h.next=x.next,x.next=h),d.pending=h}function z_(d,h,x){if((x&4194176)!==0){var A=h.lanes;A&=d.pendingLanes,x|=A,h.lanes=x,zn(d,x)}}var xl={readContext:$a,use:Gf,useCallback:Br,useContext:Br,useEffect:Br,useImperativeHandle:Br,useLayoutEffect:Br,useInsertionEffect:Br,useMemo:Br,useReducer:Br,useRef:Br,useState:Br,useDebugValue:Br,useDeferredValue:Br,useTransition:Br,useSyncExternalStore:Br,useId:Br};xl.useCacheRefresh=Br,xl.useMemoCache=Br,xl.useHostTransitionStatus=Br,xl.useFormState=Br,xl.useActionState=Br,xl.useOptimistic=Br;var _u={readContext:$a,use:Gf,useCallback:function(d,h){return Oa().memoizedState=[d,h===void 0?null:h],d},useContext:$a,useEffect:x_,useImperativeHandle:function(d,h,x){x=x!=null?x.concat([d]):null,mg(4194308,4,w_.bind(null,h,d),x)},useLayoutEffect:function(d,h){return mg(4194308,4,d,h)},useInsertionEffect:function(d,h){mg(4,2,d,h)},useMemo:function(d,h){var x=Oa();h=h===void 0?null:h;var A=d();if(yu){Se(!0);try{d()}finally{Se(!1)}}return x.memoizedState=[A,h],A},useReducer:function(d,h,x){var A=Oa();if(x!==void 0){var L=x(h);if(yu){Se(!0);try{x(h)}finally{Se(!1)}}}else L=h;return A.memoizedState=A.baseState=L,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:L},A.queue=d,d=d.dispatch=L_.bind(null,si,d),[A.memoizedState,d]},useRef:function(d){var h=Oa();return d={current:d},h.memoizedState=d},useState:function(d){d=Z0(d);var h=d.queue,x=oy.bind(null,si,h);return h.dispatch=x,[d.memoizedState,x]},useDebugValue:iy,useDeferredValue:function(d,h){var x=Oa();return vg(x,d,h)},useTransition:function(){var d=Z0(!1);return d=O_.bind(null,si,d.queue,!0,!1),Oa().memoizedState=d,[!1,d]},useSyncExternalStore:function(d,h,x){var A=si,L=Oa();if(Ti){if(x===void 0)throw Error(r(407));x=x()}else{if(x=h(),Zi===null)throw Error(r(349));(On&60)!==0||ao(A,h,x)}L.memoizedState=x;var G={value:x,getSnapshot:h};return L.queue=G,x_(f_.bind(null,A,G,d),[d]),A.flags|=2048,_l(9,Su.bind(null,A,G,x,h),{destroy:void 0},null),x},useId:function(){var d=Oa(),h=Zi.identifierPrefix;if(Ti){var x=ic,A=gl;x=(A&~(1<<32-Ge(A)-1)).toString(32)+x,h=":"+h+"R"+x,x=Ff++,0<x&&(h+="H"+x.toString(32)),h+=":"}else x=TA++,h=":"+h+"r"+x.toString(32)+":";return d.memoizedState=h},useCacheRefresh:function(){return Oa().memoizedState=P_.bind(null,si)}};_u.useMemoCache=zs,_u.useHostTransitionStatus=yg,_u.useFormState=y_,_u.useActionState=y_,_u.useOptimistic=function(d){var h=Oa();h.memoizedState=h.baseState=d;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=x,h=gp.bind(null,si,!0,x),x.dispatch=h,[d,h]};var fc={readContext:$a,use:Gf,useCallback:M_,useContext:$a,useEffect:ny,useImperativeHandle:A_,useInsertionEffect:C_,useLayoutEffect:E_,useMemo:T_,useReducer:Us,useRef:__,useState:function(){return Us(Cr)},useDebugValue:iy,useDeferredValue:function(d,h){var x=Hr();return R_(x,Xi.memoizedState,d,h)},useTransition:function(){var d=Us(Cr)[0],h=Hr().memoizedState;return[typeof d=="boolean"?d:mp(d),h]},useSyncExternalStore:d_,useId:ay};fc.useCacheRefresh=D_,fc.useMemoCache=zs,fc.useHostTransitionStatus=yg,fc.useFormState=kf,fc.useActionState=kf,fc.useOptimistic=function(d,h){var x=Hr();return ey(x,Xi,d,h)};var wd={readContext:$a,use:Gf,useCallback:M_,useContext:$a,useEffect:ny,useImperativeHandle:A_,useInsertionEffect:C_,useLayoutEffect:E_,useMemo:T_,useReducer:pg,useRef:__,useState:function(){return pg(Cr)},useDebugValue:iy,useDeferredValue:function(d,h){var x=Hr();return Xi===null?vg(x,d,h):R_(x,Xi.memoizedState,d,h)},useTransition:function(){var d=pg(Cr)[0],h=Hr().memoizedState;return[typeof d=="boolean"?d:mp(d),h]},useSyncExternalStore:d_,useId:ay};wd.useCacheRefresh=D_,wd.useMemoCache=zs,wd.useHostTransitionStatus=yg,wd.useFormState=S_,wd.useActionState=S_,wd.useOptimistic=function(d,h){var x=Hr();return Xi!==null?ey(x,Xi,d,h):(x.baseState=d,[d,x.queue.dispatch])};function sy(d,h,x,A){h=d.memoizedState,x=x(A,h),x=x==null?h:U({},h,x),d.memoizedState=x,d.lanes===0&&(d.updateQueue.baseState=x)}var ly={isMounted:function(d){return(d=d._reactInternals)?ee(d)===d:!1},enqueueSetState:function(d,h,x){d=d._reactInternals;var A=uo(),L=Qo(A);L.payload=h,x!=null&&(L.callback=x),h=Zo(d,L,A),h!==null&&(aa(h,d,A),Eu(h,d,A))},enqueueReplaceState:function(d,h,x){d=d._reactInternals;var A=uo(),L=Qo(A);L.tag=1,L.payload=h,x!=null&&(L.callback=x),h=Zo(d,L,A),h!==null&&(aa(h,d,A),Eu(h,d,A))},enqueueForceUpdate:function(d,h){d=d._reactInternals;var x=uo(),A=Qo(x);A.tag=2,h!=null&&(A.callback=h),h=Zo(d,A,x),h!==null&&(aa(h,d,x),Eu(h,d,x))}};function U_(d,h,x,A,L,G,ne){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(A,G,ne):h.prototype&&h.prototype.isPureReactComponent?!Pe(x,A)||!Pe(L,G):!0}function F_(d,h,x,A){d=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(x,A),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(x,A),h.state!==d&&ly.enqueueReplaceState(h,h.state,null)}function Ad(d,h){var x=h;if("ref"in h){x={};for(var A in h)A!=="ref"&&(x[A]=h[A])}if(d=d.defaultProps){x===h&&(x=U({},x));for(var L in d)x[L]===void 0&&(x[L]=d[L])}return x}var Sg=typeof reportError=="function"?reportError:function(d){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof d=="object"&&d!==null&&typeof d.message=="string"?String(d.message):String(d),error:d});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",d);return}console.error(d)};function H_(d){Sg(d)}function G_(d){console.error(d)}function k_(d){Sg(d)}function _g(d,h){try{var x=d.onUncaughtError;x(h.value,{componentStack:h.stack})}catch(A){setTimeout(function(){throw A})}}function $_(d,h,x){try{var A=d.onCaughtError;A(x.value,{componentStack:x.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(L){setTimeout(function(){throw L})}}function cy(d,h,x){return x=Qo(x),x.tag=3,x.payload={element:null},x.callback=function(){_g(d,h)},x}function uy(d){return d=Qo(d),d.tag=3,d}function V_(d,h,x,A){var L=x.type.getDerivedStateFromError;if(typeof L=="function"){var G=A.value;d.payload=function(){return L(G)},d.callback=function(){$_(h,x,A)}}var ne=x.stateNode;ne!==null&&typeof ne.componentDidCatch=="function"&&(d.callback=function(){$_(h,x,A),typeof L!="function"&&(ra===null?ra=new Set([this]):ra.add(this));var ge=A.stack;this.componentDidCatch(A.value,{componentStack:ge!==null?ge:""})})}function DA(d,h,x,A,L){if(x.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){if(h=x.alternate,h!==null&&yp(h,x,L,!0),x=Eo.current,x!==null){switch(x.tag){case 13:return yl===null?Ap():x.alternate===null&&gr===0&&(gr=3),x.flags&=-257,x.flags|=65536,x.lanes=L,A===lg?x.flags|=16384:(h=x.updateQueue,h===null?x.updateQueue=new Set([A]):h.add(A),qn(d,A,L)),!1;case 22:return x.flags|=65536,A===lg?x.flags|=16384:(h=x.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([A])},x.updateQueue=h):(x=h.retryQueue,x===null?h.retryQueue=new Set([A]):x.add(A)),qn(d,A,L)),!1}throw Error(r(435,x.tag))}return qn(d,A,L),Ap(),!1}if(Ti)return h=Eo.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=L,A!==sp&&(d=Error(r(422),{cause:A}),vl(Co(d,x)))):(A!==sp&&(h=Error(r(423),{cause:A}),vl(Co(h,x))),d=d.current.alternate,d.flags|=65536,L&=-L,d.lanes|=L,A=Co(A,x),L=cy(d.stateNode,A,L),Xf(d,L),gr!==4&&(gr=2)),!1;var G=Error(r(520),{cause:A});if(G=Co(G,x),wp===null?wp=[G]:wp.push(G),gr!==4&&(gr=2),h===null)return!0;A=Co(A,x),x=h;do{switch(x.tag){case 3:return x.flags|=65536,d=L&-L,x.lanes|=d,d=cy(x.stateNode,A,d),Xf(x,d),!1;case 1:if(h=x.type,G=x.stateNode,(x.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(ra===null||!ra.has(G))))return x.flags|=65536,L&=-L,x.lanes|=L,L=uy(L),V_(L,d,x,A),Xf(x,L),!1}x=x.return}while(x!==null);return!1}var Ko=Error(r(461)),ua=!1;function da(d,h,x,A){h.child=d===null?ac(h,null,x,A):rc(h,d.child,x,A)}function dy(d,h,x,A,L){x=x.render;var G=h.ref;if("ref"in A){var ne={};for(var ge in A)ge!=="ref"&&(ne[ge]=A[ge])}else ne=A;return Td(h),A=J0(d,h,x,ne,G,L),ge=Q0(),d!==null&&!ua?(pp(d,h,L),Gr(d,h,L)):(Ti&&ge&&op(h),h.flags|=1,da(d,h,A,L),h.child)}function fy(d,h,x,A,L){if(d===null){var G=x.type;return typeof G=="function"&&!bc(G)&&G.defaultProps===void 0&&x.compare===null?(h.tag=15,h.type=G,hy(d,h,G,A,L)):(d=Jf(x.type,null,A,h,h.mode,L),d.ref=h.ref,d.return=h,h.child=d)}if(G=d.child,!Sy(d,L)){var ne=G.memoizedProps;if(x=x.compare,x=x!==null?x:Pe,x(ne,A)&&d.ref===h.ref)return Gr(d,h,L)}return h.flags|=1,d=lo(G,A),d.ref=h.ref,d.return=h,h.child=d}function hy(d,h,x,A,L){if(d!==null){var G=d.memoizedProps;if(Pe(G,A)&&d.ref===h.ref)if(ua=!1,h.pendingProps=A=G,Sy(d,L))(d.flags&131072)!==0&&(ua=!0);else return h.lanes=d.lanes,Gr(d,h,L)}return my(d,h,x,A,L)}function j_(d,h,x){var A=h.pendingProps,L=A.children,G=(h.stateNode._pendingVisibility&2)!==0,ne=d!==null?d.memoizedState:null;if($f(d,h),A.mode==="hidden"||G){if((h.flags&128)!==0){if(A=ne!==null?ne.baseLanes|x:x,d!==null){for(L=h.child=d.child,G=0;L!==null;)G=G|L.lanes|L.childLanes,L=L.sibling;h.childLanes=G&~A}else h.childLanes=0,h.child=null;return py(d,h,A,x)}if((x&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},d!==null&&Uf(h,ne!==null?ne.cachePool:null),ne!==null?fu(h,ne):ug(),Y0(h);else return h.lanes=h.childLanes=536870912,py(d,h,ne!==null?ne.baseLanes|x:x,x)}else ne!==null?(Uf(h,ne.cachePool),fu(h,ne),sc(),h.memoizedState=null):(d!==null&&Uf(h,null),ug(),sc());return da(d,h,L,x),h.child}function py(d,h,x,A){var L=hp();return L=L===null?null:{parent:Fr._currentValue,pool:L},h.memoizedState={baseLanes:x,cachePool:L},d!==null&&Uf(h,null),ug(),Y0(h),d!==null&&yp(d,h,A,!0),null}function $f(d,h){var x=h.ref;if(x===null)d!==null&&d.ref!==null&&(h.flags|=2097664);else{if(typeof x!="function"&&typeof x!="object")throw Error(r(284));(d===null||d.ref!==x)&&(h.flags|=2097664)}}function my(d,h,x,A,L){return Td(h),x=J0(d,h,x,A,void 0,L),A=Q0(),d!==null&&!ua?(pp(d,h,L),Gr(d,h,L)):(Ti&&A&&op(h),h.flags|=1,da(d,h,x,L),h.child)}function W_(d,h,x,A,L,G){return Td(h),h.updateQueue=null,x=u_(h,A,x,L),c_(d),A=Q0(),d!==null&&!ua?(pp(d,h,G),Gr(d,h,G)):(Ti&&A&&op(h),h.flags|=1,da(d,h,x,G),h.child)}function X_(d,h,x,A,L){if(Td(h),h.stateNode===null){var G=ou,ne=x.contextType;typeof ne=="object"&&ne!==null&&(G=$a(ne)),G=new x(A,G),h.memoizedState=G.state!==null&&G.state!==void 0?G.state:null,G.updater=ly,h.stateNode=G,G._reactInternals=h,G=h.stateNode,G.props=A,G.state=h.memoizedState,G.refs={},oo(h),ne=x.contextType,G.context=typeof ne=="object"&&ne!==null?$a(ne):ou,G.state=h.memoizedState,ne=x.getDerivedStateFromProps,typeof ne=="function"&&(sy(h,x,ne,A),G.state=h.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof G.getSnapshotBeforeUpdate=="function"||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(ne=G.state,typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount(),ne!==G.state&&ly.enqueueReplaceState(G,G.state,null),Hs(h,A,G,L),Va(),G.state=h.memoizedState),typeof G.componentDidMount=="function"&&(h.flags|=4194308),A=!0}else if(d===null){G=h.stateNode;var ge=h.memoizedProps,Re=Ad(x,ge);G.props=Re;var Ye=G.context,At=x.contextType;ne=ou,typeof At=="object"&&At!==null&&(ne=$a(At));var Ut=x.getDerivedStateFromProps;At=typeof Ut=="function"||typeof G.getSnapshotBeforeUpdate=="function",ge=h.pendingProps!==ge,At||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(ge||Ye!==ne)&&F_(h,G,A,ne),na=!1;var ft=h.memoizedState;G.state=ft,Hs(h,A,G,L),Va(),Ye=h.memoizedState,ge||ft!==Ye||na?(typeof Ut=="function"&&(sy(h,x,Ut,A),Ye=h.memoizedState),(Re=na||U_(h,x,Re,A,ft,Ye,ne))?(At||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(h.flags|=4194308)):(typeof G.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=A,h.memoizedState=Ye),G.props=A,G.state=Ye,G.context=ne,A=Re):(typeof G.componentDidMount=="function"&&(h.flags|=4194308),A=!1)}else{G=h.stateNode,Mg(d,h),ne=h.memoizedProps,At=Ad(x,ne),G.props=At,Ut=h.pendingProps,ft=G.context,Ye=x.contextType,Re=ou,typeof Ye=="object"&&Ye!==null&&(Re=$a(Ye)),ge=x.getDerivedStateFromProps,(Ye=typeof ge=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(ne!==Ut||ft!==Re)&&F_(h,G,A,Re),na=!1,ft=h.memoizedState,G.state=ft,Hs(h,A,G,L),Va();var Et=h.memoizedState;ne!==Ut||ft!==Et||na||d!==null&&d.dependencies!==null&&jf(d.dependencies)?(typeof ge=="function"&&(sy(h,x,ge,A),Et=h.memoizedState),(At=na||U_(h,x,At,A,ft,Et,Re)||d!==null&&d.dependencies!==null&&jf(d.dependencies))?(Ye||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(A,Et,Re),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(A,Et,Re)),typeof G.componentDidUpdate=="function"&&(h.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof G.componentDidUpdate!="function"||ne===d.memoizedProps&&ft===d.memoizedState||(h.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||ne===d.memoizedProps&&ft===d.memoizedState||(h.flags|=1024),h.memoizedProps=A,h.memoizedState=Et),G.props=A,G.state=Et,G.context=Re,A=At):(typeof G.componentDidUpdate!="function"||ne===d.memoizedProps&&ft===d.memoizedState||(h.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||ne===d.memoizedProps&&ft===d.memoizedState||(h.flags|=1024),A=!1)}return G=A,$f(d,h),A=(h.flags&128)!==0,G||A?(G=h.stateNode,x=A&&typeof x.getDerivedStateFromError!="function"?null:G.render(),h.flags|=1,d!==null&&A?(h.child=rc(h,d.child,null,L),h.child=rc(h,null,x,L)):da(d,h,x,L),h.memoizedState=G.state,d=h.child):d=Gr(d,h,L),d}function gy(d,h,x,A){return Lf(),h.flags|=256,da(d,h,x,A),h.child}var vy={dehydrated:null,treeContext:null,retryLane:0};function xa(d){return{baseLanes:d,cachePool:cc()}}function xg(d,h,x){return d=d!==null?d.childLanes&~x:0,h&&(d|=co),d}function Y_(d,h,x){var A=h.pendingProps,L=!1,G=(h.flags&128)!==0,ne;if((ne=G)||(ne=d!==null&&d.memoizedState===null?!1:(ea.current&2)!==0),ne&&(L=!0,h.flags&=-129),ne=(h.flags&32)!==0,h.flags&=-33,d===null){if(Ti){if(L?oc(h):sc(),Ti){var ge=_a,Re;if(Re=ge){e:{for(Re=ge,ge=ps;Re.nodeType!==8;){if(!ge){ge=null;break e}if(Re=Ec(Re.nextSibling),Re===null){ge=null;break e}}ge=Re}ge!==null?(h.memoizedState={dehydrated:ge,treeContext:nc!==null?{id:gl,overflow:ic}:null,retryLane:536870912},Re=jr(18,null,null,0),Re.stateNode=ge,Re.return=h,h.child=Re,ka=h,_a=null,Re=!0):Re=!1}Re||yd(h)}if(ge=h.memoizedState,ge!==null&&(ge=ge.dehydrated,ge!==null))return ge.data==="$!"?h.lanes=16:h.lanes=536870912,null;bl(h)}return ge=A.children,A=A.fallback,L?(sc(),L=h.mode,ge=by({mode:"hidden",children:ge},L),A=Ou(A,L,x,null),ge.return=h,A.return=h,ge.sibling=A,h.child=ge,L=h.child,L.memoizedState=xa(x),L.childLanes=xg(d,ne,x),h.memoizedState=vy,A):(oc(h),yy(h,ge))}if(Re=d.memoizedState,Re!==null&&(ge=Re.dehydrated,ge!==null)){if(G)h.flags&256?(oc(h),h.flags&=-257,h=Cg(d,h,x)):h.memoizedState!==null?(sc(),h.child=d.child,h.flags|=128,h=null):(sc(),L=A.fallback,ge=h.mode,A=by({mode:"visible",children:A.children},ge),L=Ou(L,ge,x,null),L.flags|=2,A.return=h,L.return=h,A.sibling=L,h.child=A,rc(h,d.child,null,x),A=h.child,A.memoizedState=xa(x),A.childLanes=xg(d,ne,x),h.memoizedState=vy,h=L);else if(oc(h),ge.data==="$!"){if(ne=ge.nextSibling&&ge.nextSibling.dataset,ne)var Ye=ne.dgst;ne=Ye,A=Error(r(419)),A.stack="",A.digest=ne,vl({value:A,source:null,stack:null}),h=Cg(d,h,x)}else if(ua||yp(d,h,x,!1),ne=(x&d.childLanes)!==0,ua||ne){if(ne=Zi,ne!==null){if(A=x&-x,(A&42)!==0)A=1;else switch(A){case 2:A=1;break;case 8:A=4;break;case 32:A=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:A=64;break;case 268435456:A=134217728;break;default:A=0}if(A=(A&(ne.suspendedLanes|x))!==0?0:A,A!==0&&A!==Re.retryLane)throw Re.retryLane=A,tc(d,A),aa(ne,d,A),Ko}ge.data==="$?"||Ap(),h=Cg(d,h,x)}else ge.data==="$?"?(h.flags|=128,h.child=d.child,h=Ld.bind(null,d),ge._reactRetry=h,h=null):(d=Re.treeContext,_a=Ec(ge.nextSibling),ka=h,Ti=!0,hs=null,ps=!1,d!==null&&(ur[Yo++]=gl,ur[Yo++]=ic,ur[Yo++]=nc,gl=d.id,ic=d.overflow,nc=h),h=yy(h,A.children),h.flags|=4096);return h}return L?(sc(),L=A.fallback,ge=h.mode,Re=d.child,Ye=Re.sibling,A=lo(Re,{mode:"hidden",children:A.children}),A.subtreeFlags=Re.subtreeFlags&31457280,Ye!==null?L=lo(Ye,L):(L=Ou(L,ge,x,null),L.flags|=2),L.return=h,A.return=h,A.sibling=L,h.child=A,A=L,L=h.child,ge=d.child.memoizedState,ge===null?ge=xa(x):(Re=ge.cachePool,Re!==null?(Ye=Fr._currentValue,Re=Re.parent!==Ye?{parent:Ye,pool:Ye}:Re):Re=cc(),ge={baseLanes:ge.baseLanes|x,cachePool:Re}),L.memoizedState=ge,L.childLanes=xg(d,ne,x),h.memoizedState=vy,A):(oc(h),x=d.child,d=x.sibling,x=lo(x,{mode:"visible",children:A.children}),x.return=h,x.sibling=null,d!==null&&(ne=h.deletions,ne===null?(h.deletions=[d],h.flags|=16):ne.push(d)),h.child=x,h.memoizedState=null,x)}function yy(d,h){return h=by({mode:"visible",children:h},d.mode),h.return=d,d.child=h}function by(d,h){return xy(d,h,0,null)}function Cg(d,h,x){return rc(h,d.child,null,x),d=yy(h,h.pendingProps.children),d.flags|=2,h.memoizedState=null,d}function Eg(d,h,x){d.lanes|=h;var A=d.alternate;A!==null&&(A.lanes|=h),Jo(d.return,h,x)}function xu(d,h,x,A,L){var G=d.memoizedState;G===null?d.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:A,tail:x,tailMode:L}:(G.isBackwards=h,G.rendering=null,G.renderingStartTime=0,G.last=A,G.tail=x,G.tailMode=L)}function Md(d,h,x){var A=h.pendingProps,L=A.revealOrder,G=A.tail;if(da(d,h,A.children,x),A=ea.current,(A&2)!==0)A=A&1|2,h.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=h.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&Eg(d,x,h);else if(d.tag===19)Eg(d,x,h);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break e;for(;d.sibling===null;){if(d.return===null||d.return===h)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}A&=1}switch(ze(ea,A),L){case"forwards":for(x=h.child,L=null;x!==null;)d=x.alternate,d!==null&&zf(d)===null&&(L=x),x=x.sibling;x=L,x===null?(L=h.child,h.child=null):(L=x.sibling,x.sibling=null),xu(h,!1,L,x,G);break;case"backwards":for(x=null,L=h.child,h.child=null;L!==null;){if(d=L.alternate,d!==null&&zf(d)===null){h.child=L;break}d=L.sibling,L.sibling=x,x=L,L=d}xu(h,!0,x,null,G);break;case"together":xu(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Gr(d,h,x){if(d!==null&&(h.dependencies=d.dependencies),js|=h.lanes,(x&h.childLanes)===0)if(d!==null){if(yp(d,h,x,!1),(x&h.childLanes)===0)return null}else return null;if(d!==null&&h.child!==d.child)throw Error(r(153));if(h.child!==null){for(d=h.child,x=lo(d,d.pendingProps),h.child=x,x.return=h;d.sibling!==null;)d=d.sibling,x=x.sibling=lo(d,d.pendingProps),x.return=h;x.sibling=null}return h.child}function Sy(d,h){return(d.lanes&h)!==0?!0:(d=d.dependencies,!!(d!==null&&jf(d)))}function PA(d,h,x){switch(h.tag){case 3:Fe(h,h.stateNode.containerInfo),Cu(h,Fr,d.memoizedState.cache),Lf();break;case 27:case 5:qe(h);break;case 4:Fe(h,h.stateNode.containerInfo);break;case 10:Cu(h,h.type,h.memoizedProps.value);break;case 13:var A=h.memoizedState;if(A!==null)return A.dehydrated!==null?(oc(h),h.flags|=128,null):(x&h.child.childLanes)!==0?Y_(d,h,x):(oc(h),d=Gr(d,h,x),d!==null?d.sibling:null);oc(h);break;case 19:var L=(d.flags&128)!==0;if(A=(x&h.childLanes)!==0,A||(yp(d,h,x,!1),A=(x&h.childLanes)!==0),L){if(A)return Md(d,h,x);h.flags|=128}if(L=h.memoizedState,L!==null&&(L.rendering=null,L.tail=null,L.lastEffect=null),ze(ea,ea.current),A)break;return null;case 22:case 23:return h.lanes=0,j_(d,h,x);case 24:Cu(h,Fr,d.memoizedState.cache)}return Gr(d,h,x)}function vp(d,h,x){if(d!==null)if(d.memoizedProps!==h.pendingProps)ua=!0;else{if(!Sy(d,x)&&(h.flags&128)===0)return ua=!1,PA(d,h,x);ua=(d.flags&131072)!==0}else ua=!1,Ti&&(h.flags&1048576)!==0&&W0(h,ap,h.index);switch(h.lanes=0,h.tag){case 16:e:{d=h.pendingProps;var A=h.elementType,L=A._init;if(A=L(A._payload),h.type=A,typeof A=="function")bc(A)?(d=Ad(A,d),h.tag=1,h=X_(null,h,A,d,x)):(h.tag=0,h=my(null,h,A,d,x));else{if(A!=null){if(L=A.$$typeof,L===c){h.tag=11,h=dy(null,h,A,d,x);break e}else if(L===y){h.tag=14,h=fy(null,h,A,d,x);break e}}throw h=F(A)||A,Error(r(306,h,""))}}return h;case 0:return my(d,h,h.type,h.pendingProps,x);case 1:return A=h.type,L=Ad(A,h.pendingProps),X_(d,h,A,L,x);case 3:e:{if(Fe(h,h.stateNode.containerInfo),d===null)throw Error(r(387));var G=h.pendingProps;L=h.memoizedState,A=L.element,Mg(d,h),Hs(h,G,null,x);var ne=h.memoizedState;if(G=ne.cache,Cu(h,Fr,G),G!==L.cache&&wg(h,[Fr],x,!0),Va(),G=ne.element,L.isDehydrated)if(L={element:G,isDehydrated:!1,cache:ne.cache},h.updateQueue.baseState=L,h.memoizedState=L,h.flags&256){h=gy(d,h,G,x);break e}else if(G!==A){A=Co(Error(r(424)),h),vl(A),h=gy(d,h,G,x);break e}else for(_a=Ec(h.stateNode.containerInfo.firstChild),ka=h,Ti=!0,hs=null,ps=!0,x=ac(h,null,G,x),h.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(Lf(),G===A){h=Gr(d,h,x);break e}da(d,h,G,x)}h=h.child}return h;case 26:return $f(d,h),d===null?(x=kB(h.type,null,h.pendingProps,null))?h.memoizedState=x:Ti||(x=h.type,d=h.pendingProps,A=tx(Ce.current).createElement(x),A[Qn]=h,A[un]=d,fo(A,x,d),Ze(A),h.stateNode=A):h.memoizedState=kB(h.type,d.memoizedProps,h.pendingProps,d.memoizedState),null;case 27:return qe(h),d===null&&Ti&&(A=h.stateNode=FB(h.type,h.pendingProps,Ce.current),ka=h,ps=!0,_a=Ec(A.firstChild)),A=h.pendingProps.children,d!==null||Ti?da(d,h,A,x):h.child=rc(h,null,A,x),$f(d,h),h.child;case 5:return d===null&&Ti&&((L=A=_a)&&(A=e5(A,h.type,h.pendingProps,ps),A!==null?(h.stateNode=A,ka=h,_a=Ec(A.firstChild),ps=!1,L=!0):L=!1),L||yd(h)),qe(h),L=h.type,G=h.pendingProps,ne=d!==null?d.memoizedProps:null,A=G.children,jA(L,G)?A=null:ne!==null&&jA(L,ne)&&(h.flags|=32),h.memoizedState!==null&&(L=J0(d,h,RA,null,null,x),Iy._currentValue=L),$f(d,h),da(d,h,A,x),h.child;case 6:return d===null&&Ti&&((d=x=_a)&&(x=t5(x,h.pendingProps,ps),x!==null?(h.stateNode=x,ka=h,_a=null,d=!0):d=!1),d||yd(h)),null;case 13:return Y_(d,h,x);case 4:return Fe(h,h.stateNode.containerInfo),A=h.pendingProps,d===null?h.child=rc(h,null,A,x):da(d,h,A,x),h.child;case 11:return dy(d,h,h.type,h.pendingProps,x);case 7:return da(d,h,h.pendingProps,x),h.child;case 8:return da(d,h,h.pendingProps.children,x),h.child;case 12:return da(d,h,h.pendingProps.children,x),h.child;case 10:return A=h.pendingProps,Cu(h,h.type,A.value),da(d,h,A.children,x),h.child;case 9:return L=h.type._context,A=h.pendingProps.children,Td(h),L=$a(L),A=A(L),h.flags|=1,da(d,h,A,x),h.child;case 14:return fy(d,h,h.type,h.pendingProps,x);case 15:return hy(d,h,h.type,h.pendingProps,x);case 19:return Md(d,h,x);case 22:return j_(d,h,x);case 24:return Td(h),A=$a(Fr),d===null?(L=hp(),L===null&&(L=Zi,G=q0(),L.pooledCache=G,G.refCount++,G!==null&&(L.pooledCacheLanes|=x),L=G),h.memoizedState={parent:A,cache:L},oo(h),Cu(h,Fr,L)):((d.lanes&x)!==0&&(Mg(d,h),Hs(h,null,null,x),Va()),L=d.memoizedState,G=h.memoizedState,L.parent!==A?(L={parent:A,cache:A},h.memoizedState=L,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=L),Cu(h,Fr,A)):(A=G.cache,Cu(h,Fr,A),A!==L.cache&&wg(h,[Fr],x,!0))),da(d,h,h.pendingProps.children,x),h.child;case 29:throw h.pendingProps}throw Error(r(156,h.tag))}var Vf=Ae(null),Cl=null,Fs=null;function Cu(d,h,x){ze(Vf,h._currentValue),h._currentValue=x}function hc(d){d._currentValue=Vf.current,Te(Vf)}function Jo(d,h,x){for(;d!==null;){var A=d.alternate;if((d.childLanes&h)!==h?(d.childLanes|=h,A!==null&&(A.childLanes|=h)):A!==null&&(A.childLanes&h)!==h&&(A.childLanes|=h),d===x)break;d=d.return}}function wg(d,h,x,A){var L=d.child;for(L!==null&&(L.return=d);L!==null;){var G=L.dependencies;if(G!==null){var ne=L.child;G=G.firstContext;e:for(;G!==null;){var ge=G;G=L;for(var Re=0;Re<h.length;Re++)if(ge.context===h[Re]){G.lanes|=x,ge=G.alternate,ge!==null&&(ge.lanes|=x),Jo(G.return,x,d),A||(ne=null);break e}G=ge.next}}else if(L.tag===18){if(ne=L.return,ne===null)throw Error(r(341));ne.lanes|=x,G=ne.alternate,G!==null&&(G.lanes|=x),Jo(ne,x,d),ne=null}else ne=L.child;if(ne!==null)ne.return=L;else for(ne=L;ne!==null;){if(ne===d){ne=null;break}if(L=ne.sibling,L!==null){L.return=ne.return,ne=L;break}ne=ne.return}L=ne}}function yp(d,h,x,A){d=null;for(var L=h,G=!1;L!==null;){if(!G){if((L.flags&524288)!==0)G=!0;else if((L.flags&262144)!==0)break}if(L.tag===10){var ne=L.alternate;if(ne===null)throw Error(r(387));if(ne=ne.memoizedProps,ne!==null){var ge=L.type;ye(L.pendingProps.value,ne.value)||(d!==null?d.push(ge):d=[ge])}}else if(L===re.current){if(ne=L.alternate,ne===null)throw Error(r(387));ne.memoizedState.memoizedState!==L.memoizedState.memoizedState&&(d!==null?d.push(Iy):d=[Iy])}L=L.return}d!==null&&wg(h,d,x,A),h.flags|=262144}function jf(d){for(d=d.firstContext;d!==null;){if(!ye(d.context._currentValue,d.memoizedValue))return!0;d=d.next}return!1}function Td(d){Cl=d,Fs=null,d=d.dependencies,d!==null&&(d.firstContext=null)}function $a(d){return Wf(Cl,d)}function Ag(d,h){return Cl===null&&Td(d),Wf(d,h)}function Wf(d,h){var x=h._currentValue;if(h={context:h,memoizedValue:x,next:null},Fs===null){if(d===null)throw Error(r(308));Fs=h,d.dependencies={lanes:0,firstContext:h},d.flags|=524288}else Fs=Fs.next=h;return x}var na=!1;function oo(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mg(d,h){d=d.updateQueue,h.updateQueue===d&&(h.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,callbacks:null})}function Qo(d){return{lane:d,tag:0,payload:null,callback:null,next:null}}function Zo(d,h,x){var A=d.updateQueue;if(A===null)return null;if(A=A.shared,(Yn&2)!==0){var L=A.pending;return L===null?h.next=h:(h.next=L.next,L.next=h),A.pending=h,h=rp(d),ip(d,null,x),h}return np(d,A,h,x),rp(d)}function Eu(d,h,x){if(h=h.updateQueue,h!==null&&(h=h.shared,(x&4194176)!==0)){var A=h.lanes;A&=d.pendingLanes,x|=A,h.lanes=x,zn(d,x)}}function Xf(d,h){var x=d.updateQueue,A=d.alternate;if(A!==null&&(A=A.updateQueue,x===A)){var L=null,G=null;if(x=x.firstBaseUpdate,x!==null){do{var ne={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};G===null?L=G=ne:G=G.next=ne,x=x.next}while(x!==null);G===null?L=G=h:G=G.next=h}else L=G=h;x={baseState:A.baseState,firstBaseUpdate:L,lastBaseUpdate:G,shared:A.shared,callbacks:A.callbacks},d.updateQueue=x;return}d=x.lastBaseUpdate,d===null?x.firstBaseUpdate=h:d.next=h,x.lastBaseUpdate=h}var Ao=!1;function Va(){if(Ao){var d=mu;if(d!==null)throw d}}function Hs(d,h,x,A){Ao=!1;var L=d.updateQueue;na=!1;var G=L.firstBaseUpdate,ne=L.lastBaseUpdate,ge=L.shared.pending;if(ge!==null){L.shared.pending=null;var Re=ge,Ye=Re.next;Re.next=null,ne===null?G=Ye:ne.next=Ye,ne=Re;var At=d.alternate;At!==null&&(At=At.updateQueue,ge=At.lastBaseUpdate,ge!==ne&&(ge===null?At.firstBaseUpdate=Ye:ge.next=Ye,At.lastBaseUpdate=Re))}if(G!==null){var Ut=L.baseState;ne=0,At=Ye=Re=null,ge=G;do{var ft=ge.lane&-536870913,Et=ft!==ge.lane;if(Et?(On&ft)===ft:(A&ft)===ft){ft!==0&&ft===_d&&(Ao=!0),At!==null&&(At=At.next={lane:0,tag:ge.tag,payload:ge.payload,callback:null,next:null});e:{var xn=d,Kn=ge;ft=h;var oa=x;switch(Kn.tag){case 1:if(xn=Kn.payload,typeof xn=="function"){Ut=xn.call(oa,Ut,ft);break e}Ut=xn;break e;case 3:xn.flags=xn.flags&-65537|128;case 0:if(xn=Kn.payload,ft=typeof xn=="function"?xn.call(oa,Ut,ft):xn,ft==null)break e;Ut=U({},Ut,ft);break e;case 2:na=!0}}ft=ge.callback,ft!==null&&(d.flags|=64,Et&&(d.flags|=8192),Et=L.callbacks,Et===null?L.callbacks=[ft]:Et.push(ft))}else Et={lane:ft,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null},At===null?(Ye=At=Et,Re=Ut):At=At.next=Et,ne|=ft;if(ge=ge.next,ge===null){if(ge=L.shared.pending,ge===null)break;Et=ge,ge=Et.next,Et.next=null,L.lastBaseUpdate=Et,L.shared.pending=null}}while(!0);At===null&&(Re=Ut),L.baseState=Re,L.firstBaseUpdate=Ye,L.lastBaseUpdate=At,G===null&&(L.shared.lanes=0),js|=ne,d.lanes=ne,d.memoizedState=Ut}}function El(d,h){if(typeof d!="function")throw Error(r(191,d));d.call(h)}function wl(d,h){var x=d.callbacks;if(x!==null)for(d.callbacks=null,d=0;d<x.length;d++)El(x[d],h)}function kr(d,h){try{var x=h.updateQueue,A=x!==null?x.lastEffect:null;if(A!==null){var L=A.next;x=L;do{if((x.tag&d)===d){A=void 0;var G=x.create,ne=x.inst;A=G(),ne.destroy=A}x=x.next}while(x!==L)}}catch(ge){Ht(h,h.return,ge)}}function ms(d,h,x){try{var A=h.updateQueue,L=A!==null?A.lastEffect:null;if(L!==null){var G=L.next;A=G;do{if((A.tag&d)===d){var ne=A.inst,ge=ne.destroy;if(ge!==void 0){ne.destroy=void 0,L=h;var Re=x;try{ge()}catch(Ye){Ht(L,Re,Ye)}}}A=A.next}while(A!==G)}}catch(Ye){Ht(h,h.return,Ye)}}function pc(d){var h=d.updateQueue;if(h!==null){var x=d.stateNode;try{wl(h,x)}catch(A){Ht(d,d.return,A)}}}function bp(d,h,x){x.props=Ad(d.type,d.memoizedProps),x.state=d.memoizedState;try{x.componentWillUnmount()}catch(A){Ht(d,h,A)}}function $r(d,h){try{var x=d.ref;if(x!==null){var A=d.stateNode;switch(d.tag){case 26:case 27:case 5:var L=A;break;default:L=A}typeof x=="function"?d.refCleanup=x(L):x.current=L}}catch(G){Ht(d,h,G)}}function Qi(d,h){var x=d.ref,A=d.refCleanup;if(x!==null)if(typeof A=="function")try{A()}catch(L){Ht(d,h,L)}finally{d.refCleanup=null,d=d.alternate,d!=null&&(d.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(L){Ht(d,h,L)}else x.current=null}function Ri(d){var h=d.type,x=d.memoizedProps,A=d.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":x.autoFocus&&A.focus();break e;case"img":x.src?A.src=x.src:x.srcSet&&(A.srcset=x.srcSet)}}catch(L){Ht(d,d.return,L)}}function gs(d,h,x){try{var A=d.stateNode;qk(A,d.type,x,h),A[un]=h}catch(L){Ht(d,d.return,L)}}function Gs(d){return d.tag===5||d.tag===3||d.tag===26||d.tag===27||d.tag===4}function Sp(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||Gs(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==27&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function Mo(d,h,x){var A=d.tag;if(A===5||A===6)d=d.stateNode,h?x.nodeType===8?x.parentNode.insertBefore(d,h):x.insertBefore(d,h):(x.nodeType===8?(h=x.parentNode,h.insertBefore(d,x)):(h=x,h.appendChild(d)),x=x._reactRootContainer,x!=null||h.onclick!==null||(h.onclick=ex));else if(A!==4&&A!==27&&(d=d.child,d!==null))for(Mo(d,h,x),d=d.sibling;d!==null;)Mo(d,h,x),d=d.sibling}function mc(d,h,x){var A=d.tag;if(A===5||A===6)d=d.stateNode,h?x.insertBefore(d,h):x.appendChild(d);else if(A!==4&&A!==27&&(d=d.child,d!==null))for(mc(d,h,x),d=d.sibling;d!==null;)mc(d,h,x),d=d.sibling}var ks=!1,pr=!1,wu=!1,Tg=typeof WeakSet=="function"?WeakSet:Set,Vr=null,Rg=!1;function Yf(d,h){if(d=d.containerInfo,$A=sx,d=zt(d),Dt(d)){if("selectionStart"in d)var x={start:d.selectionStart,end:d.selectionEnd};else e:{x=(x=d.ownerDocument)&&x.defaultView||window;var A=x.getSelection&&x.getSelection();if(A&&A.rangeCount!==0){x=A.anchorNode;var L=A.anchorOffset,G=A.focusNode;A=A.focusOffset;try{x.nodeType,G.nodeType}catch{x=null;break e}var ne=0,ge=-1,Re=-1,Ye=0,At=0,Ut=d,ft=null;t:for(;;){for(var Et;Ut!==x||L!==0&&Ut.nodeType!==3||(ge=ne+L),Ut!==G||A!==0&&Ut.nodeType!==3||(Re=ne+A),Ut.nodeType===3&&(ne+=Ut.nodeValue.length),(Et=Ut.firstChild)!==null;)ft=Ut,Ut=Et;for(;;){if(Ut===d)break t;if(ft===x&&++Ye===L&&(ge=ne),ft===G&&++At===A&&(Re=ne),(Et=Ut.nextSibling)!==null)break;Ut=ft,ft=Ut.parentNode}Ut=Et}x=ge===-1||Re===-1?null:{start:ge,end:Re}}else x=null}x=x||{start:0,end:0}}else x=null;for(VA={focusedElem:d,selectionRange:x},sx=!1,Vr=h;Vr!==null;)if(h=Vr,d=h.child,(h.subtreeFlags&1028)!==0&&d!==null)d.return=h,Vr=d;else for(;Vr!==null;){switch(h=Vr,G=h.alternate,d=h.flags,h.tag){case 0:break;case 11:case 15:break;case 1:if((d&1024)!==0&&G!==null){d=void 0,x=h,L=G.memoizedProps,G=G.memoizedState,A=x.stateNode;try{var xn=Ad(x.type,L,x.elementType===x.type);d=A.getSnapshotBeforeUpdate(xn,G),A.__reactInternalSnapshotBeforeUpdate=d}catch(Kn){Ht(x,x.return,Kn)}}break;case 3:if((d&1024)!==0){if(d=h.stateNode.containerInfo,x=d.nodeType,x===9)YA(d);else if(x===1)switch(d.nodeName){case"HEAD":case"HTML":case"BODY":YA(d);break;default:d.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((d&1024)!==0)throw Error(r(163))}if(d=h.sibling,d!==null){d.return=h.return,Vr=d;break}Vr=h.return}return xn=Rg,Rg=!1,xn}function qf(d,h,x){var A=x.flags;switch(x.tag){case 0:case 11:case 15:Al(d,x),A&4&&kr(5,x);break;case 1:if(Al(d,x),A&4)if(d=x.stateNode,h===null)try{d.componentDidMount()}catch(ge){Ht(x,x.return,ge)}else{var L=Ad(x.type,h.memoizedProps);h=h.memoizedState;try{d.componentDidUpdate(L,h,d.__reactInternalSnapshotBeforeUpdate)}catch(ge){Ht(x,x.return,ge)}}A&64&&pc(x),A&512&&$r(x,x.return);break;case 3:if(Al(d,x),A&64&&(A=x.updateQueue,A!==null)){if(d=null,x.child!==null)switch(x.child.tag){case 27:case 5:d=x.child.stateNode;break;case 1:d=x.child.stateNode}try{wl(A,d)}catch(ge){Ht(x,x.return,ge)}}break;case 26:Al(d,x),A&512&&$r(x,x.return);break;case 27:case 5:Al(d,x),h===null&&A&4&&Ri(x),A&512&&$r(x,x.return);break;case 12:Al(d,x);break;case 13:Al(d,x),A&4&&q_(d,x);break;case 22:if(L=x.memoizedState!==null||ks,!L){h=h!==null&&h.memoizedState!==null||pr;var G=ks,ne=pr;ks=L,(pr=h)&&!ne?Vs(d,x,(x.subtreeFlags&8772)!==0):Al(d,x),ks=G,pr=ne}A&512&&(x.memoizedProps.mode==="manual"?$r(x,x.return):Qi(x,x.return));break;default:Al(d,x)}}function Og(d){var h=d.alternate;h!==null&&(d.alternate=null,Og(h)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(h=d.stateNode,h!==null&&cr(h)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}var mr=null,Ca=!1;function ja(d,h,x){for(x=x.child;x!==null;)Ig(d,h,x),x=x.sibling}function Ig(d,h,x){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(Ct,x)}catch{}switch(x.tag){case 26:pr||Qi(x,h),ja(d,h,x),x.memoizedState?x.memoizedState.count--:x.stateNode&&(x=x.stateNode,x.parentNode.removeChild(x));break;case 27:pr||Qi(x,h);var A=mr,L=Ca;for(mr=x.stateNode,ja(d,h,x),x=x.stateNode,h=x.attributes;h.length;)x.removeAttributeNode(h[0]);cr(x),mr=A,Ca=L;break;case 5:pr||Qi(x,h);case 6:L=mr;var G=Ca;if(mr=null,ja(d,h,x),mr=L,Ca=G,mr!==null)if(Ca)try{d=mr,A=x.stateNode,d.nodeType===8?d.parentNode.removeChild(A):d.removeChild(A)}catch(ne){Ht(x,h,ne)}else try{mr.removeChild(x.stateNode)}catch(ne){Ht(x,h,ne)}break;case 18:mr!==null&&(Ca?(h=mr,x=x.stateNode,h.nodeType===8?XA(h.parentNode,x):h.nodeType===1&&XA(h,x),Ly(h)):XA(mr,x.stateNode));break;case 4:A=mr,L=Ca,mr=x.stateNode.containerInfo,Ca=!0,ja(d,h,x),mr=A,Ca=L;break;case 0:case 11:case 14:case 15:pr||ms(2,x,h),pr||ms(4,x,h),ja(d,h,x);break;case 1:pr||(Qi(x,h),A=x.stateNode,typeof A.componentWillUnmount=="function"&&bp(x,h,A)),ja(d,h,x);break;case 21:ja(d,h,x);break;case 22:pr||Qi(x,h),pr=(A=pr)||x.memoizedState!==null,ja(d,h,x),pr=A;break;default:ja(d,h,x)}}function q_(d,h){if(h.memoizedState===null&&(d=h.alternate,d!==null&&(d=d.memoizedState,d!==null&&(d=d.dehydrated,d!==null))))try{Ly(d)}catch(x){Ht(h,h.return,x)}}function _p(d){switch(d.tag){case 13:case 19:var h=d.stateNode;return h===null&&(h=d.stateNode=new Tg),h;case 22:return d=d.stateNode,h=d._retryCache,h===null&&(h=d._retryCache=new Tg),h;default:throw Error(r(435,d.tag))}}function xp(d,h){var x=_p(d);h.forEach(function(A){var L=dt.bind(null,d,A);x.has(A)||(x.add(A),A.then(L,L))})}function so(d,h){var x=h.deletions;if(x!==null)for(var A=0;A<x.length;A++){var L=x[A],G=d,ne=h,ge=ne;e:for(;ge!==null;){switch(ge.tag){case 27:case 5:mr=ge.stateNode,Ca=!1;break e;case 3:mr=ge.stateNode.containerInfo,Ca=!0;break e;case 4:mr=ge.stateNode.containerInfo,Ca=!0;break e}ge=ge.return}if(mr===null)throw Error(r(160));Ig(G,ne,L),mr=null,Ca=!1,G=L.alternate,G!==null&&(G.return=null),L.return=null}if(h.subtreeFlags&13878)for(h=h.child;h!==null;)Rd(h,d),h=h.sibling}var Wa=null;function Rd(d,h){var x=d.alternate,A=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:so(h,d),Xa(d),A&4&&(ms(3,d,d.return),kr(3,d),ms(5,d,d.return));break;case 1:so(h,d),Xa(d),A&512&&(pr||x===null||Qi(x,x.return)),A&64&&ks&&(d=d.updateQueue,d!==null&&(A=d.callbacks,A!==null&&(x=d.shared.hiddenCallbacks,d.shared.hiddenCallbacks=x===null?A:x.concat(A))));break;case 26:var L=Wa;if(so(h,d),Xa(d),A&512&&(pr||x===null||Qi(x,x.return)),A&4){var G=x!==null?x.memoizedState:null;if(A=d.memoizedState,x===null)if(A===null)if(d.stateNode===null){e:{A=d.type,x=d.memoizedProps,L=L.ownerDocument||L;t:switch(A){case"title":G=L.getElementsByTagName("title")[0],(!G||G[Or]||G[Qn]||G.namespaceURI==="http://www.w3.org/2000/svg"||G.hasAttribute("itemprop"))&&(G=L.createElement(A),L.head.insertBefore(G,L.querySelector("head > title"))),fo(G,A,x),G[Qn]=d,Ze(G),A=G;break e;case"link":var ne=jB("link","href",L).get(A+(x.href||""));if(ne){for(var ge=0;ge<ne.length;ge++)if(G=ne[ge],G.getAttribute("href")===(x.href==null?null:x.href)&&G.getAttribute("rel")===(x.rel==null?null:x.rel)&&G.getAttribute("title")===(x.title==null?null:x.title)&&G.getAttribute("crossorigin")===(x.crossOrigin==null?null:x.crossOrigin)){ne.splice(ge,1);break t}}G=L.createElement(A),fo(G,A,x),L.head.appendChild(G);break;case"meta":if(ne=jB("meta","content",L).get(A+(x.content||""))){for(ge=0;ge<ne.length;ge++)if(G=ne[ge],G.getAttribute("content")===(x.content==null?null:""+x.content)&&G.getAttribute("name")===(x.name==null?null:x.name)&&G.getAttribute("property")===(x.property==null?null:x.property)&&G.getAttribute("http-equiv")===(x.httpEquiv==null?null:x.httpEquiv)&&G.getAttribute("charset")===(x.charSet==null?null:x.charSet)){ne.splice(ge,1);break t}}G=L.createElement(A),fo(G,A,x),L.head.appendChild(G);break;default:throw Error(r(468,A))}G[Qn]=d,Ze(G),A=G}d.stateNode=A}else WB(L,d.type,d.stateNode);else d.stateNode=VB(L,A,d.memoizedProps);else G!==A?(G===null?x.stateNode!==null&&(x=x.stateNode,x.parentNode.removeChild(x)):G.count--,A===null?WB(L,d.type,d.stateNode):VB(L,A,d.memoizedProps)):A===null&&d.stateNode!==null&&gs(d,d.memoizedProps,x.memoizedProps)}break;case 27:if(A&4&&d.alternate===null){L=d.stateNode,G=d.memoizedProps;try{for(var Re=L.firstChild;Re;){var Ye=Re.nextSibling,At=Re.nodeName;Re[Or]||At==="HEAD"||At==="BODY"||At==="SCRIPT"||At==="STYLE"||At==="LINK"&&Re.rel.toLowerCase()==="stylesheet"||L.removeChild(Re),Re=Ye}for(var Ut=d.type,ft=L.attributes;ft.length;)L.removeAttributeNode(ft[0]);fo(L,Ut,G),L[Qn]=d,L[un]=G}catch(xn){Ht(d,d.return,xn)}}case 5:if(so(h,d),Xa(d),A&512&&(pr||x===null||Qi(x,x.return)),d.flags&32){L=d.stateNode;try{Wi(L,"")}catch(xn){Ht(d,d.return,xn)}}A&4&&d.stateNode!=null&&(L=d.memoizedProps,gs(d,L,x!==null?x.memoizedProps:L)),A&1024&&(wu=!0);break;case 6:if(so(h,d),Xa(d),A&4){if(d.stateNode===null)throw Error(r(162));A=d.memoizedProps,x=d.stateNode;try{x.nodeValue=A}catch(xn){Ht(d,d.return,xn)}}break;case 3:if(rx=null,L=Wa,Wa=nx(h.containerInfo),so(h,d),Wa=L,Xa(d),A&4&&x!==null&&x.memoizedState.isDehydrated)try{Ly(h.containerInfo)}catch(xn){Ht(d,d.return,xn)}wu&&(wu=!1,Au(d));break;case 4:A=Wa,Wa=nx(d.stateNode.containerInfo),so(h,d),Xa(d),Wa=A;break;case 12:so(h,d),Xa(d);break;case 13:so(h,d),Xa(d),d.child.flags&8192&&d.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(li=De()),A&4&&(A=d.updateQueue,A!==null&&(d.updateQueue=null,xp(d,A)));break;case 22:if(A&512&&(pr||x===null||Qi(x,x.return)),Re=d.memoizedState!==null,Ye=x!==null&&x.memoizedState!==null,At=ks,Ut=pr,ks=At||Re,pr=Ut||Ye,so(h,d),pr=Ut,ks=At,Xa(d),h=d.stateNode,h._current=d,h._visibility&=-3,h._visibility|=h._pendingVisibility&2,A&8192&&(h._visibility=Re?h._visibility&-2:h._visibility|1,Re&&(h=ks||pr,x===null||Ye||h||$s(d)),d.memoizedProps===null||d.memoizedProps.mode!=="manual"))e:for(x=null,h=d;;){if(h.tag===5||h.tag===26||h.tag===27){if(x===null){Ye=x=h;try{if(L=Ye.stateNode,Re)G=L.style,typeof G.setProperty=="function"?G.setProperty("display","none","important"):G.display="none";else{ne=Ye.stateNode,ge=Ye.memoizedProps.style;var Et=ge!=null&&ge.hasOwnProperty("display")?ge.display:null;ne.style.display=Et==null||typeof Et=="boolean"?"":(""+Et).trim()}}catch(xn){Ht(Ye,Ye.return,xn)}}}else if(h.tag===6){if(x===null){Ye=h;try{Ye.stateNode.nodeValue=Re?"":Ye.memoizedProps}catch(xn){Ht(Ye,Ye.return,xn)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===d)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break e;for(;h.sibling===null;){if(h.return===null||h.return===d)break e;x===h&&(x=null),h=h.return}x===h&&(x=null),h.sibling.return=h.return,h=h.sibling}A&4&&(A=d.updateQueue,A!==null&&(x=A.retryQueue,x!==null&&(A.retryQueue=null,xp(d,x))));break;case 19:so(h,d),Xa(d),A&4&&(A=d.updateQueue,A!==null&&(d.updateQueue=null,xp(d,A)));break;case 21:break;default:so(h,d),Xa(d)}}function Xa(d){var h=d.flags;if(h&2){try{if(d.tag!==27){e:{for(var x=d.return;x!==null;){if(Gs(x)){var A=x;break e}x=x.return}throw Error(r(160))}switch(A.tag){case 27:var L=A.stateNode,G=Sp(d);mc(d,G,L);break;case 5:var ne=A.stateNode;A.flags&32&&(Wi(ne,""),A.flags&=-33);var ge=Sp(d);mc(d,ge,ne);break;case 3:case 4:var Re=A.stateNode.containerInfo,Ye=Sp(d);Mo(d,Ye,Re);break;default:throw Error(r(161))}}}catch(At){Ht(d,d.return,At)}d.flags&=-3}h&4096&&(d.flags&=-4097)}function Au(d){if(d.subtreeFlags&1024)for(d=d.child;d!==null;){var h=d;Au(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),d=d.sibling}}function Al(d,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)qf(d,h.alternate,h),h=h.sibling}function $s(d){for(d=d.child;d!==null;){var h=d;switch(h.tag){case 0:case 11:case 14:case 15:ms(4,h,h.return),$s(h);break;case 1:Qi(h,h.return);var x=h.stateNode;typeof x.componentWillUnmount=="function"&&bp(h,h.return,x),$s(h);break;case 26:case 27:case 5:Qi(h,h.return),$s(h);break;case 22:Qi(h,h.return),h.memoizedState===null&&$s(h);break;default:$s(h)}d=d.sibling}}function Vs(d,h,x){for(x=x&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var A=h.alternate,L=d,G=h,ne=G.flags;switch(G.tag){case 0:case 11:case 15:Vs(L,G,x),kr(4,G);break;case 1:if(Vs(L,G,x),A=G,L=A.stateNode,typeof L.componentDidMount=="function")try{L.componentDidMount()}catch(Ye){Ht(A,A.return,Ye)}if(A=G,L=A.updateQueue,L!==null){var ge=A.stateNode;try{var Re=L.shared.hiddenCallbacks;if(Re!==null)for(L.shared.hiddenCallbacks=null,L=0;L<Re.length;L++)El(Re[L],ge)}catch(Ye){Ht(A,A.return,Ye)}}x&&ne&64&&pc(G),$r(G,G.return);break;case 26:case 27:case 5:Vs(L,G,x),x&&A===null&&ne&4&&Ri(G),$r(G,G.return);break;case 12:Vs(L,G,x);break;case 13:Vs(L,G,x),x&&ne&4&&q_(L,G);break;case 22:G.memoizedState===null&&Vs(L,G,x),$r(G,G.return);break;default:Vs(L,G,x)}h=h.sibling}}function To(d,h){var x=null;d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),d=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(d=h.memoizedState.cachePool.pool),d!==x&&(d!=null&&d.refCount++,x!=null&&hu(x))}function vs(d,h){d=null,h.alternate!==null&&(d=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==d&&(h.refCount++,d!=null&&hu(d))}function dr(d,h,x,A){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)gc(d,h,x,A),h=h.sibling}function gc(d,h,x,A){var L=h.flags;switch(h.tag){case 0:case 11:case 15:dr(d,h,x,A),L&2048&&kr(9,h);break;case 3:dr(d,h,x,A),L&2048&&(d=null,h.alternate!==null&&(d=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==d&&(h.refCount++,d!=null&&hu(d)));break;case 12:if(L&2048){dr(d,h,x,A),d=h.stateNode;try{var G=h.memoizedProps,ne=G.id,ge=G.onPostCommit;typeof ge=="function"&&ge(ne,h.alternate===null?"mount":"update",d.passiveEffectDuration,-0)}catch(Re){Ht(h,h.return,Re)}}else dr(d,h,x,A);break;case 23:break;case 22:G=h.stateNode,h.memoizedState!==null?G._visibility&4?dr(d,h,x,A):zi(d,h):G._visibility&4?dr(d,h,x,A):(G._visibility|=4,Xn(d,h,x,A,(h.subtreeFlags&10256)!==0)),L&2048&&To(h.alternate,h);break;case 24:dr(d,h,x,A),L&2048&&vs(h.alternate,h);break;default:dr(d,h,x,A)}}function Xn(d,h,x,A,L){for(L=L&&(h.subtreeFlags&10256)!==0,h=h.child;h!==null;){var G=d,ne=h,ge=x,Re=A,Ye=ne.flags;switch(ne.tag){case 0:case 11:case 15:Xn(G,ne,ge,Re,L),kr(8,ne);break;case 23:break;case 22:var At=ne.stateNode;ne.memoizedState!==null?At._visibility&4?Xn(G,ne,ge,Re,L):zi(G,ne):(At._visibility|=4,Xn(G,ne,ge,Re,L)),L&&Ye&2048&&To(ne.alternate,ne);break;case 24:Xn(G,ne,ge,Re,L),L&&Ye&2048&&vs(ne.alternate,ne);break;default:Xn(G,ne,ge,Re,L)}h=h.sibling}}function zi(d,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var x=d,A=h,L=A.flags;switch(A.tag){case 22:zi(x,A),L&2048&&To(A.alternate,A);break;case 24:zi(x,A),L&2048&&vs(A.alternate,A);break;default:zi(x,A)}h=h.sibling}}var Er=8192;function vc(d){if(d.subtreeFlags&Er)for(d=d.child;d!==null;)Od(d),d=d.sibling}function Od(d){switch(d.tag){case 26:vc(d),d.flags&Er&&d.memoizedState!==null&&p5(Wa,d.memoizedState,d.memoizedProps);break;case 5:vc(d);break;case 3:case 4:var h=Wa;Wa=nx(d.stateNode.containerInfo),vc(d),Wa=h;break;case 22:d.memoizedState===null&&(h=d.alternate,h!==null&&h.memoizedState!==null?(h=Er,Er=16777216,vc(d),Er=h):vc(d));break;default:vc(d)}}function Mu(d){var h=d.alternate;if(h!==null&&(d=h.child,d!==null)){h.child=null;do h=d.sibling,d.sibling=null,d=h;while(d!==null)}}function Tu(d){var h=d.deletions;if((d.flags&16)!==0){if(h!==null)for(var x=0;x<h.length;x++){var A=h[x];Vr=A,K_(A,d)}Mu(d)}if(d.subtreeFlags&10256)for(d=d.child;d!==null;)Kf(d),d=d.sibling}function Kf(d){switch(d.tag){case 0:case 11:case 15:Tu(d),d.flags&2048&&ms(9,d,d.return);break;case 3:Tu(d);break;case 12:Tu(d);break;case 22:var h=d.stateNode;d.memoizedState!==null&&h._visibility&4&&(d.return===null||d.return.tag!==13)?(h._visibility&=-5,yc(d)):Tu(d);break;default:Tu(d)}}function yc(d){var h=d.deletions;if((d.flags&16)!==0){if(h!==null)for(var x=0;x<h.length;x++){var A=h[x];Vr=A,K_(A,d)}Mu(d)}for(d=d.child;d!==null;){switch(h=d,h.tag){case 0:case 11:case 15:ms(8,h,h.return),yc(h);break;case 22:x=h.stateNode,x._visibility&4&&(x._visibility&=-5,yc(h));break;default:yc(h)}d=d.sibling}}function K_(d,h){for(;Vr!==null;){var x=Vr;switch(x.tag){case 0:case 11:case 15:ms(8,x,h);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var A=x.memoizedState.cachePool.pool;A!=null&&A.refCount++}break;case 24:hu(x.memoizedState.cache)}if(A=x.child,A!==null)A.return=x,Vr=A;else e:for(x=d;Vr!==null;){A=Vr;var L=A.sibling,G=A.return;if(Og(A),A===x){Vr=null;break e}if(L!==null){L.return=G,Vr=L;break e}Vr=G}}}function _y(d,h,x,A){this.tag=d,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jr(d,h,x,A){return new _y(d,h,x,A)}function bc(d){return d=d.prototype,!(!d||!d.isReactComponent)}function lo(d,h){var x=d.alternate;return x===null?(x=jr(d.tag,h,d.key,d.mode),x.elementType=d.elementType,x.type=d.type,x.stateNode=d.stateNode,x.alternate=d,d.alternate=x):(x.pendingProps=h,x.type=d.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=d.flags&31457280,x.childLanes=d.childLanes,x.lanes=d.lanes,x.child=d.child,x.memoizedProps=d.memoizedProps,x.memoizedState=d.memoizedState,x.updateQueue=d.updateQueue,h=d.dependencies,x.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},x.sibling=d.sibling,x.index=d.index,x.ref=d.ref,x.refCleanup=d.refCleanup,x}function Ru(d,h){d.flags&=31457282;var x=d.alternate;return x===null?(d.childLanes=0,d.lanes=h,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=x.childLanes,d.lanes=x.lanes,d.child=x.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=x.memoizedProps,d.memoizedState=x.memoizedState,d.updateQueue=x.updateQueue,d.type=x.type,h=x.dependencies,d.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),d}function Jf(d,h,x,A,L,G){var ne=0;if(A=d,typeof d=="function")bc(d)&&(ne=1);else if(typeof d=="string")ne=f5(d,x,yt.current)?26:d==="html"||d==="head"||d==="body"?27:5;else e:switch(d){case u:return Ou(x.children,L,G,h);case f:ne=8,L|=24;break;case m:return d=jr(12,x,h,L|2),d.elementType=m,d.lanes=G,d;case p:return d=jr(13,x,h,L),d.elementType=p,d.lanes=G,d;case g:return d=jr(19,x,h,L),d.elementType=g,d.lanes=G,d;case T:return xy(x,L,G,h);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case b:case E:ne=10;break e;case _:ne=9;break e;case c:ne=11;break e;case y:ne=14;break e;case C:ne=16,A=null;break e}ne=29,x=Error(r(130,d===null?"null":typeof d,"")),A=null}return h=jr(ne,x,h,L),h.elementType=d,h.type=A,h.lanes=G,h}function Ou(d,h,x,A){return d=jr(7,d,A,h),d.lanes=x,d}function xy(d,h,x,A){d=jr(22,d,A,h),d.elementType=T,d.lanes=x;var L={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var G=L._current;if(G===null)throw Error(r(456));if((L._pendingVisibility&2)===0){var ne=tc(G,2);ne!==null&&(L._pendingVisibility|=2,aa(ne,G,2))}},attach:function(){var G=L._current;if(G===null)throw Error(r(456));if((L._pendingVisibility&2)!==0){var ne=tc(G,2);ne!==null&&(L._pendingVisibility&=-3,aa(ne,G,2))}}};return d.stateNode=L,d}function ia(d,h,x){return d=jr(6,d,null,h),d.lanes=x,d}function Cp(d,h,x){return h=jr(4,d.children!==null?d.children:[],d.key,h),h.lanes=x,h.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},h}function ys(d){d.flags|=4}function Iu(d,h){if(h.type!=="stylesheet"||(h.state.loading&4)!==0)d.flags&=-16777217;else if(d.flags|=16777216,!XB(h)){if(h=Eo.current,h!==null&&((On&4194176)===On?yl!==null:(On&62914560)!==On&&(On&536870912)===0||h!==yl))throw Nf=lg,X0;d.flags|=8192}}function bs(d,h){h!==null&&(d.flags|=4),d.flags&16384&&(h=d.tag!==22?Lt():536870912,d.lanes|=h,Tl|=h)}function Ep(d,h){if(!Ti)switch(d.tailMode){case"hidden":h=d.tail;for(var x=null;h!==null;)h.alternate!==null&&(x=h),h=h.sibling;x===null?d.tail=null:x.sibling=null;break;case"collapsed":x=d.tail;for(var A=null;x!==null;)x.alternate!==null&&(A=x),x=x.sibling;A===null?h||d.tail===null?d.tail=null:d.tail.sibling=null:A.sibling=null}}function Tr(d){var h=d.alternate!==null&&d.alternate.child===d.child,x=0,A=0;if(h)for(var L=d.child;L!==null;)x|=L.lanes|L.childLanes,A|=L.subtreeFlags&31457280,A|=L.flags&31457280,L.return=d,L=L.sibling;else for(L=d.child;L!==null;)x|=L.lanes|L.childLanes,A|=L.subtreeFlags,A|=L.flags,L.return=d,L=L.sibling;return d.subtreeFlags|=A,d.childLanes=x,h}function LA(d,h,x){var A=h.pendingProps;switch(lu(h),h.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tr(h),null;case 1:return Tr(h),null;case 3:return x=h.stateNode,A=null,d!==null&&(A=d.memoizedState.cache),h.memoizedState.cache!==A&&(h.flags|=2048),hc(Fr),Ie(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(d===null||d.child===null)&&(Pf(h)?ys(h):d===null||d.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,hs!==null&&(Cs(hs),hs=null))),Tr(h),null;case 26:return x=h.memoizedState,d===null?(ys(h),x!==null?(Tr(h),Iu(h,x)):(Tr(h),h.flags&=-16777217)):x?x!==d.memoizedState?(ys(h),Tr(h),Iu(h,x)):(Tr(h),h.flags&=-16777217):(d.memoizedProps!==A&&ys(h),Tr(h),h.flags&=-16777217),null;case 27:$e(h),x=Ce.current;var L=h.type;if(d!==null&&h.stateNode!=null)d.memoizedProps!==A&&ys(h);else{if(!A){if(h.stateNode===null)throw Error(r(166));return Tr(h),null}d=yt.current,Pf(h)?r_(h):(d=FB(L,A,x),h.stateNode=d,ys(h))}return Tr(h),null;case 5:if($e(h),x=h.type,d!==null&&h.stateNode!=null)d.memoizedProps!==A&&ys(h);else{if(!A){if(h.stateNode===null)throw Error(r(166));return Tr(h),null}if(d=yt.current,Pf(h))r_(h);else{switch(L=tx(Ce.current),d){case 1:d=L.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:d=L.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":d=L.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":d=L.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":d=L.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof A.is=="string"?L.createElement("select",{is:A.is}):L.createElement("select"),A.multiple?d.multiple=!0:A.size&&(d.size=A.size);break;default:d=typeof A.is=="string"?L.createElement(x,{is:A.is}):L.createElement(x)}}d[Qn]=h,d[un]=A;e:for(L=h.child;L!==null;){if(L.tag===5||L.tag===6)d.appendChild(L.stateNode);else if(L.tag!==4&&L.tag!==27&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===h)break e;for(;L.sibling===null;){if(L.return===null||L.return===h)break e;L=L.return}L.sibling.return=L.return,L=L.sibling}h.stateNode=d;e:switch(fo(d,x,A),x){case"button":case"input":case"select":case"textarea":d=!!A.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&ys(h)}}return Tr(h),h.flags&=-16777217,null;case 6:if(d&&h.stateNode!=null)d.memoizedProps!==A&&ys(h);else{if(typeof A!="string"&&h.stateNode===null)throw Error(r(166));if(d=Ce.current,Pf(h)){if(d=h.stateNode,x=h.memoizedProps,A=null,L=ka,L!==null)switch(L.tag){case 27:case 5:A=L.memoizedProps}d[Qn]=h,d=!!(d.nodeValue===x||A!==null&&A.suppressHydrationWarning===!0||DB(d.nodeValue,x)),d||yd(h)}else d=tx(d).createTextNode(A),d[Qn]=h,h.stateNode=d}return Tr(h),null;case 13:if(A=h.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(L=Pf(h),A!==null&&A.dehydrated!==null){if(d===null){if(!L)throw Error(r(318));if(L=h.memoizedState,L=L!==null?L.dehydrated:null,!L)throw Error(r(317));L[Qn]=h}else Lf(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Tr(h),L=!1}else hs!==null&&(Cs(hs),hs=null),L=!0;if(!L)return h.flags&256?(bl(h),h):(bl(h),null)}if(bl(h),(h.flags&128)!==0)return h.lanes=x,h;if(x=A!==null,d=d!==null&&d.memoizedState!==null,x){A=h.child,L=null,A.alternate!==null&&A.alternate.memoizedState!==null&&A.alternate.memoizedState.cachePool!==null&&(L=A.alternate.memoizedState.cachePool.pool);var G=null;A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(G=A.memoizedState.cachePool.pool),G!==L&&(A.flags|=2048)}return x!==d&&x&&(h.child.flags|=8192),bs(h,h.updateQueue),Tr(h),null;case 4:return Ie(),d===null&&HA(h.stateNode.containerInfo),Tr(h),null;case 10:return hc(h.type),Tr(h),null;case 19:if(Te(ea),L=h.memoizedState,L===null)return Tr(h),null;if(A=(h.flags&128)!==0,G=L.rendering,G===null)if(A)Ep(L,!1);else{if(gr!==0||d!==null&&(d.flags&128)!==0)for(d=h.child;d!==null;){if(G=zf(d),G!==null){for(h.flags|=128,Ep(L,!1),d=G.updateQueue,h.updateQueue=d,bs(h,d),h.subtreeFlags=0,d=x,x=h.child;x!==null;)Ru(x,d),x=x.sibling;return ze(ea,ea.current&1|2),h.child}d=d.sibling}L.tail!==null&&De()>gi&&(h.flags|=128,A=!0,Ep(L,!1),h.lanes=4194304)}else{if(!A)if(d=zf(G),d!==null){if(h.flags|=128,A=!0,d=d.updateQueue,h.updateQueue=d,bs(h,d),Ep(L,!0),L.tail===null&&L.tailMode==="hidden"&&!G.alternate&&!Ti)return Tr(h),null}else 2*De()-L.renderingStartTime>gi&&x!==536870912&&(h.flags|=128,A=!0,Ep(L,!1),h.lanes=4194304);L.isBackwards?(G.sibling=h.child,h.child=G):(d=L.last,d!==null?d.sibling=G:h.child=G,L.last=G)}return L.tail!==null?(h=L.tail,L.rendering=h,L.tail=h.sibling,L.renderingStartTime=De(),h.sibling=null,d=ea.current,ze(ea,A?d&1|2:d&1),h):(Tr(h),null);case 22:case 23:return bl(h),fp(),A=h.memoizedState!==null,d!==null?d.memoizedState!==null!==A&&(h.flags|=8192):A&&(h.flags|=8192),A?(x&536870912)!==0&&(h.flags&128)===0&&(Tr(h),h.subtreeFlags&6&&(h.flags|=8192)):Tr(h),x=h.updateQueue,x!==null&&bs(h,x.retryQueue),x=null,d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),A=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(A=h.memoizedState.cachePool.pool),A!==x&&(h.flags|=2048),d!==null&&Te(lc),null;case 24:return x=null,d!==null&&(x=d.memoizedState.cache),h.memoizedState.cache!==x&&(h.flags|=2048),hc(Fr),Tr(h),null;case 25:return null}throw Error(r(156,h.tag))}function Dr(d,h){switch(lu(h),h.tag){case 1:return d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 3:return hc(Fr),Ie(),d=h.flags,(d&65536)!==0&&(d&128)===0?(h.flags=d&-65537|128,h):null;case 26:case 27:case 5:return $e(h),null;case 13:if(bl(h),d=h.memoizedState,d!==null&&d.dehydrated!==null){if(h.alternate===null)throw Error(r(340));Lf()}return d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 19:return Te(ea),null;case 4:return Ie(),null;case 10:return hc(h.type),null;case 22:case 23:return bl(h),fp(),d!==null&&Te(lc),d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 24:return hc(Fr),null;case 25:return null;default:return null}}function Cy(d,h){switch(lu(h),h.tag){case 3:hc(Fr),Ie();break;case 26:case 27:case 5:$e(h);break;case 4:Ie();break;case 13:bl(h);break;case 19:Te(ea);break;case 10:hc(h.type);break;case 22:case 23:bl(h),fp(),d!==null&&Te(lc);break;case 24:hc(Fr)}}var Id={getCacheForType:function(d){var h=$a(Fr),x=h.data.get(d);return x===void 0&&(x=d(),h.data.set(d,x)),x}},Sc=typeof WeakMap=="function"?WeakMap:Map,Yn=0,Zi=null,fi=null,On=0,ar=0,Ui=null,Wr=!1,Ya=!1,Bu=!1,_c=0,gr=0,js=0,Ml=0,Qf=0,co=0,Tl=0,wp=null,mi=null,er=!1,li=0,gi=1/0,Yi=null,ra=null,Ss=!1,_s=null,Bd=0,Ws=0,wr=null,xs=0,xc=null;function uo(){if((Yn&2)!==0&&On!==0)return On&-On;if(z.T!==null){var d=_d;return d!==0?d:NA()}return Sr()}function es(){co===0&&(co=(On&536870912)===0||Ti?qt():536870912);var d=Eo.current;return d!==null&&(d.flags|=32),co}function aa(d,h,x){(d===Zi&&ar===2||d.cancelPendingCommit!==null)&&(Cc(d,0),ts(d,On,co,!1)),yn(d,x),((Yn&2)===0||d!==Zi)&&(d===Zi&&((Yn&2)===0&&(Ml|=x),gr===4&&ts(d,On,co,!1)),or(d))}function Zf(d,h,x){if((Yn&6)!==0)throw Error(r(327));var A=!x&&(h&60)===0&&(h&d.expiredLanes)===0||Qt(d,h),L=A?v(d,h):Pd(d,h,!0),G=A;do{if(L===0){Ya&&!A&&ts(d,h,0,!1);break}else if(L===6)ts(d,h,0,!Wr);else{if(x=d.current.alternate,G&&!Ey(x)){L=Pd(d,h,!1),G=!1;continue}if(L===2){if(G=h,d.errorRecoveryDisabledLanes&G)var ne=0;else ne=d.pendingLanes&-536870913,ne=ne!==0?ne:ne&536870912?536870912:0;if(ne!==0){h=ne;e:{var ge=d;L=wp;var Re=ge.current.memoizedState.isDehydrated;if(Re&&(Cc(ge,ne).flags|=256),ne=Pd(ge,ne,!1),ne!==2){if(Bu&&!Re){ge.errorRecoveryDisabledLanes|=G,Ml|=G,L=4;break e}G=mi,mi=L,G!==null&&Cs(G)}L=ne}if(G=!1,L!==2)continue}}if(L===1){Cc(d,0),ts(d,h,0,!0);break}e:{switch(A=d,L){case 0:case 1:throw Error(r(345));case 4:if((h&4194176)===h){ts(A,h,co,!Wr);break e}break;case 2:mi=null;break;case 3:case 5:break;default:throw Error(r(329))}if(A.finishedWork=x,A.finishedLanes=h,(h&62914560)===h&&(G=li+300-De(),10<G)){if(ts(A,h,co,!Wr),Bt(A,0)!==0)break e;A.timeoutHandle=NB(Bg.bind(null,A,x,mi,Yi,er,h,co,Ml,Tl,Wr,2,-0,0),G);break e}Bg(A,x,mi,Yi,er,h,co,Ml,Tl,Wr,0,-0,0)}}break}while(!0);or(d)}function Cs(d){mi===null?mi=d:mi.push.apply(mi,d)}function Bg(d,h,x,A,L,G,ne,ge,Re,Ye,At,Ut,ft){var Et=h.subtreeFlags;if((Et&8192||(Et&16785408)===16785408)&&(Oy={stylesheets:null,count:0,unsuspend:h5},Od(h),h=m5(),h!==null)){d.cancelPendingCommit=h(Le.bind(null,d,x,A,L,ne,ge,Re,1,Ut,ft)),ts(d,G,ne,!Ye);return}Le(d,x,A,L,ne,ge,Re,At,Ut,ft)}function Ey(d){for(var h=d;;){var x=h.tag;if((x===0||x===11||x===15)&&h.flags&16384&&(x=h.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var A=0;A<x.length;A++){var L=x[A],G=L.getSnapshot;L=L.value;try{if(!ye(G(),L))return!1}catch{return!1}}if(x=h.child,h.subtreeFlags&16384&&x!==null)x.return=h,h=x;else{if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function ts(d,h,x,A){h&=~Qf,h&=~Ml,d.suspendedLanes|=h,d.pingedLanes&=~h,A&&(d.warmLanes|=h),A=d.expirationTimes;for(var L=h;0<L;){var G=31-Ge(L),ne=1<<G;A[G]=-1,L&=~ne}x!==0&&Qr(d,x,h)}function Dd(){return(Yn&6)===0?(vi(0),!1):!0}function Rl(){if(fi!==null){if(ar===0)var d=fi.return;else d=fi,Fs=Cl=null,fg(d),du=null,cp=0,d=fi;for(;d!==null;)Cy(d.alternate,d),d=d.return;fi=null}}function Cc(d,h){d.finishedWork=null,d.finishedLanes=0;var x=d.timeoutHandle;x!==-1&&(d.timeoutHandle=-1,Jk(x)),x=d.cancelPendingCommit,x!==null&&(d.cancelPendingCommit=null,x()),Rl(),Zi=d,fi=x=lo(d.current,null),On=h,ar=0,Ui=null,Wr=!1,Ya=Qt(d,h),Bu=!1,Tl=co=Qf=Ml=js=gr=0,mi=wp=null,er=!1,(h&8)!==0&&(h|=h&32);var A=d.entangledLanes;if(A!==0)for(d=d.entanglements,A&=h;0<A;){var L=31-Ge(A),G=1<<L;h|=d[L],A&=~G}return _c=h,tp(),x}function Du(d,h){si=null,z.H=xl,h===cu?(h=Vi(),ar=3):h===X0?(h=Vi(),ar=4):ar=h===Ko?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,Ui=h,fi===null&&(gr=1,_g(d,Co(h,d.current)))}function eh(){var d=z.H;return z.H=xl,d===null?xl:d}function Dg(){var d=z.A;return z.A=Id,d}function Ap(){gr=4,Wr||(On&4194176)!==On&&Eo.current!==null||(Ya=!0),(js&134217727)===0&&(Ml&134217727)===0||Zi===null||ts(Zi,On,co,!1)}function Pd(d,h,x){var A=Yn;Yn|=2;var L=eh(),G=Dg();(Zi!==d||On!==h)&&(Yi=null,Cc(d,h)),h=!1;var ne=gr;e:do try{if(ar!==0&&fi!==null){var ge=fi,Re=Ui;switch(ar){case 8:Rl(),ne=6;break e;case 3:case 2:case 6:Eo.current===null&&(h=!0);var Ye=ar;if(ar=0,Ui=null,k(d,ge,Re,Ye),x&&Ya){ne=0;break e}break;default:Ye=ar,ar=0,Ui=null,k(d,ge,Re,Ye)}}wy(),ne=gr;break}catch(At){Du(d,At)}while(!0);return h&&d.shellSuspendCounter++,Fs=Cl=null,Yn=A,z.H=L,z.A=G,fi===null&&(Zi=null,On=0,tp()),ne}function wy(){for(;fi!==null;)R(fi)}function v(d,h){var x=Yn;Yn|=2;var A=eh(),L=Dg();Zi!==d||On!==h?(Yi=null,gi=De()+500,Cc(d,h)):Ya=Qt(d,h);e:do try{if(ar!==0&&fi!==null){h=fi;var G=Ui;t:switch(ar){case 1:ar=0,Ui=null,k(d,h,G,1);break;case 2:if(o_(G)){ar=0,Ui=null,N(h);break}h=function(){ar===2&&Zi===d&&(ar=7),or(d)},G.then(h,h);break e;case 3:ar=7;break e;case 4:ar=5;break e;case 7:o_(G)?(ar=0,Ui=null,N(h)):(ar=0,Ui=null,k(d,h,G,7));break;case 5:var ne=null;switch(fi.tag){case 26:ne=fi.memoizedState;case 5:case 27:var ge=fi;if(!ne||XB(ne)){ar=0,Ui=null;var Re=ge.sibling;if(Re!==null)fi=Re;else{var Ye=ge.return;Ye!==null?(fi=Ye,j(Ye)):fi=null}break t}}ar=0,Ui=null,k(d,h,G,5);break;case 6:ar=0,Ui=null,k(d,h,G,6);break;case 8:Rl(),gr=6;break e;default:throw Error(r(462))}}S();break}catch(At){Du(d,At)}while(!0);return Fs=Cl=null,z.H=A,z.A=L,Yn=x,fi!==null?0:(Zi=null,On=0,tp(),gr)}function S(){for(;fi!==null&&!oe();)R(fi)}function R(d){var h=vp(d.alternate,d,_c);d.memoizedProps=d.pendingProps,h===null?j(d):fi=h}function N(d){var h=d,x=h.alternate;switch(h.tag){case 15:case 0:h=W_(x,h,h.pendingProps,h.type,void 0,On);break;case 11:h=W_(x,h,h.pendingProps,h.type.render,h.ref,On);break;case 5:fg(h);default:Cy(x,h),h=fi=Ru(h,_c),h=vp(x,h,_c)}d.memoizedProps=d.pendingProps,h===null?j(d):fi=h}function k(d,h,x,A){Fs=Cl=null,fg(h),du=null,cp=0;var L=h.return;try{if(DA(d,L,h,x,On)){gr=1,_g(d,Co(x,d.current)),fi=null;return}}catch(G){if(L!==null)throw fi=L,G;gr=1,_g(d,Co(x,d.current)),fi=null;return}h.flags&32768?(Ti||A===1?d=!0:Ya||(On&536870912)!==0?d=!1:(Wr=d=!0,(A===2||A===3||A===6)&&(A=Eo.current,A!==null&&A.tag===13&&(A.flags|=16384))),ve(h,d)):j(h)}function j(d){var h=d;do{if((h.flags&32768)!==0){ve(h,Wr);return}d=h.return;var x=LA(h.alternate,h,_c);if(x!==null){fi=x;return}if(h=h.sibling,h!==null){fi=h;return}fi=h=d}while(h!==null);gr===0&&(gr=5)}function ve(d,h){do{var x=Dr(d.alternate,d);if(x!==null){x.flags&=32767,fi=x;return}if(x=d.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!h&&(d=d.sibling,d!==null)){fi=d;return}fi=d=x}while(d!==null);gr=6,fi=null}function Le(d,h,x,A,L,G,ne,ge,Re,Ye){var At=z.T,Ut=Z.p;try{Z.p=2,z.T=null,it(d,h,x,A,Ut,L,G,ne,ge,Re,Ye)}finally{z.T=At,Z.p=Ut}}function it(d,h,x,A,L,G,ne,ge){do jt();while(_s!==null);if((Yn&6)!==0)throw Error(r(327));var Re=d.finishedWork;if(A=d.finishedLanes,Re===null)return null;if(d.finishedWork=null,d.finishedLanes=0,Re===d.current)throw Error(r(177));d.callbackNode=null,d.callbackPriority=0,d.cancelPendingCommit=null;var Ye=Re.lanes|Re.childLanes;if(Ye|=ec,lr(d,A,Ye,G,ne,ge),d===Zi&&(fi=Zi=null,On=0),(Re.subtreeFlags&10256)===0&&(Re.flags&10256)===0||Ss||(Ss=!0,Ws=Ye,wr=x,tt(lt,function(){return jt(),null})),x=(Re.flags&15990)!==0,(Re.subtreeFlags&15990)!==0||x?(x=z.T,z.T=null,G=Z.p,Z.p=2,ne=Yn,Yn|=4,Yf(d,Re),Rd(Re,d),kt(VA,d.containerInfo),sx=!!$A,VA=$A=null,d.current=Re,qf(d,Re.alternate,Re),we(),Yn=ne,Z.p=G,z.T=x):d.current=Re,Ss?(Ss=!1,_s=d,Bd=A):wt(d,Ye),Ye=d.pendingLanes,Ye===0&&(ra=null),rt(Re.stateNode),or(d),h!==null)for(L=d.onRecoverableError,Re=0;Re<h.length;Re++)Ye=h[Re],L(Ye.value,{componentStack:Ye.stack});return(Bd&3)!==0&&jt(),Ye=d.pendingLanes,(A&4194218)!==0&&(Ye&42)!==0?d===xc?xs++:(xs=0,xc=d):xs=0,vi(0),null}function wt(d,h){(d.pooledCacheLanes&=h)===0&&(h=d.pooledCache,h!=null&&(d.pooledCache=null,hu(h)))}function jt(){if(_s!==null){var d=_s,h=Ws;Ws=0;var x=Ai(Bd),A=z.T,L=Z.p;try{if(Z.p=32>x?32:x,z.T=null,_s===null)var G=!1;else{x=wr,wr=null;var ne=_s,ge=Bd;if(_s=null,Bd=0,(Yn&6)!==0)throw Error(r(331));var Re=Yn;if(Yn|=4,Kf(ne.current),gc(ne,ne.current,ge,x),Yn=Re,vi(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(Ct,ne)}catch{}G=!0}return G}finally{Z.p=L,z.T=A,wt(d,h)}}return!1}function nn(d,h,x){h=Co(x,h),h=cy(d.stateNode,h,2),d=Zo(d,h,2),d!==null&&(yn(d,2),or(d))}function Ht(d,h,x){if(d.tag===3)nn(d,d,x);else for(;h!==null;){if(h.tag===3){nn(h,d,x);break}else if(h.tag===1){var A=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(ra===null||!ra.has(A))){d=Co(x,d),x=uy(2),A=Zo(h,x,2),A!==null&&(V_(x,A,h,d),yn(A,2),or(A));break}}h=h.return}}function qn(d,h,x){var A=d.pingCache;if(A===null){A=d.pingCache=new Sc;var L=new Set;A.set(h,L)}else L=A.get(h),L===void 0&&(L=new Set,A.set(h,L));L.has(x)||(Bu=!0,L.add(x),d=Es.bind(null,d,h,x),h.then(d,d))}function Es(d,h,x){var A=d.pingCache;A!==null&&A.delete(h),d.pingedLanes|=d.suspendedLanes&x,d.warmLanes&=~x,Zi===d&&(On&x)===x&&(gr===4||gr===3&&(On&62914560)===On&&300>De()-li?(Yn&2)===0&&Cc(d,0):Qf|=x,Tl===On&&(Tl=0)),or(d)}function th(d,h){h===0&&(h=Lt()),d=tc(d,h),d!==null&&(yn(d,h),or(d))}function Ld(d){var h=d.memoizedState,x=0;h!==null&&(x=h.retryLane),th(d,x)}function dt(d,h){var x=0;switch(d.tag){case 13:var A=d.stateNode,L=d.memoizedState;L!==null&&(x=L.retryLane);break;case 19:A=d.stateNode;break;case 22:A=d.stateNode._retryCache;break;default:throw Error(r(314))}A!==null&&A.delete(h),th(d,x)}function tt(d,h){return st(d,h)}var ht=null,Ft=null,_n=!1,tr=!1,Nn=!1,hi=0;function or(d){d!==Ft&&d.next===null&&(Ft===null?ht=Ft=d:Ft=Ft.next=d),tr=!0,_n||(_n=!0,kk(Pu))}function vi(d,h){if(!Nn&&tr){Nn=!0;do for(var x=!1,A=ht;A!==null;){if(d!==0){var L=A.pendingLanes;if(L===0)var G=0;else{var ne=A.suspendedLanes,ge=A.pingedLanes;G=(1<<31-Ge(42|d)+1)-1,G&=L&~(ne&~ge),G=G&201326677?G&201326677|1:G?G|2:0}G!==0&&(x=!0,AB(A,G))}else G=On,G=Bt(A,A===Zi?G:0),(G&3)===0||Qt(A,G)||(x=!0,AB(A,G));A=A.next}while(x);Nn=!1}}function Pu(){tr=_n=!1;var d=0;hi!==0&&(Kk()&&(d=hi),hi=0);for(var h=De(),x=null,A=ht;A!==null;){var L=A.next,G=J_(A,h);G===0?(A.next=null,x===null?ht=L:x.next=L,L===null&&(Ft=x)):(x=A,(d!==0||(G&3)!==0)&&(tr=!0)),A=L}vi(d)}function J_(d,h){for(var x=d.suspendedLanes,A=d.pingedLanes,L=d.expirationTimes,G=d.pendingLanes&-62914561;0<G;){var ne=31-Ge(G),ge=1<<ne,Re=L[ne];Re===-1?((ge&x)===0||(ge&A)!==0)&&(L[ne]=sn(ge,h)):Re<=h&&(d.expiredLanes|=ge),G&=~ge}if(h=Zi,x=On,x=Bt(d,d===h?x:0),A=d.callbackNode,x===0||d===h&&ar===2||d.cancelPendingCommit!==null)return A!==null&&A!==null&&ce(A),d.callbackNode=null,d.callbackPriority=0;if((x&3)===0||Qt(d,x)){if(h=x&-x,h===d.callbackPriority)return h;switch(A!==null&&ce(A),Ai(x)){case 2:case 8:x=gt;break;case 32:x=lt;break;case 268435456:x=It;break;default:x=lt}return A=wB.bind(null,d),x=st(x,A),d.callbackPriority=h,d.callbackNode=x,h}return A!==null&&A!==null&&ce(A),d.callbackPriority=2,d.callbackNode=null,2}function wB(d,h){var x=d.callbackNode;if(jt()&&d.callbackNode!==x)return null;var A=On;return A=Bt(d,d===Zi?A:0),A===0?null:(Zf(d,A,h),J_(d,De()),d.callbackNode!=null&&d.callbackNode===x?wB.bind(null,d):null)}function AB(d,h){if(jt())return null;Zf(d,h,!0)}function kk(d){Qk(function(){(Yn&6)!==0?st(He,d):d()})}function NA(){return hi===0&&(hi=qt()),hi}function MB(d){return d==null||typeof d=="symbol"||typeof d=="boolean"?null:typeof d=="function"?d:xr(""+d)}function TB(d,h){var x=h.ownerDocument.createElement("input");return x.name=h.name,x.value=h.value,d.id&&x.setAttribute("form",d.id),h.parentNode.insertBefore(x,h),d=new FormData(d),x.parentNode.removeChild(x),d}function $k(d,h,x,A,L){if(h==="submit"&&x&&x.stateNode===L){var G=MB((L[un]||null).action),ne=A.submitter;ne&&(h=(h=ne[un]||null)?MB(h.formAction):ne.getAttribute("formAction"),h!==null&&(G=h,ne=null));var ge=new ul("action","action",null,A,L);d.push({event:ge,listeners:[{instance:null,listener:function(){if(A.defaultPrevented){if(hi!==0){var Re=ne?TB(L,ne):new FormData(L);ry(x,{pending:!0,data:Re,method:L.method,action:G},null,Re)}}else typeof G=="function"&&(ge.preventDefault(),Re=ne?TB(L,ne):new FormData(L),ry(x,{pending:!0,data:Re,method:L.method,action:G},G,Re))},currentTarget:L}]})}}for(var zA=0;zA<Zl.length;zA++){var UA=Zl[zA],Vk=UA.toLowerCase(),jk=UA[0].toUpperCase()+UA.slice(1);fs(Vk,"on"+jk)}fs(Xo,"onAnimationEnd"),fs(ca,"onAnimationIteration"),fs(Jl,"onAnimationStart"),fs("dblclick","onDoubleClick"),fs("focusin","onFocus"),fs("focusout","onBlur"),fs(Ql,"onTransitionRun"),fs(Df,"onTransitionStart"),fs(au,"onTransitionCancel"),fs(ag,"onTransitionEnd"),Kt("onMouseEnter",["mouseout","mouseover"]),Kt("onMouseLeave",["mouseout","mouseover"]),Kt("onPointerEnter",["pointerout","pointerover"]),Kt("onPointerLeave",["pointerout","pointerover"]),Vt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ay="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ay));function RB(d,h){h=(h&4)!==0;for(var x=0;x<d.length;x++){var A=d[x],L=A.event;A=A.listeners;e:{var G=void 0;if(h)for(var ne=A.length-1;0<=ne;ne--){var ge=A[ne],Re=ge.instance,Ye=ge.currentTarget;if(ge=ge.listener,Re!==G&&L.isPropagationStopped())break e;G=ge,L.currentTarget=Ye;try{G(L)}catch(At){Sg(At)}L.currentTarget=null,G=Re}else for(ne=0;ne<A.length;ne++){if(ge=A[ne],Re=ge.instance,Ye=ge.currentTarget,ge=ge.listener,Re!==G&&L.isPropagationStopped())break e;G=ge,L.currentTarget=Ye;try{G(L)}catch(At){Sg(At)}L.currentTarget=null,G=Re}}}}function Oi(d,h){var x=h[ln];x===void 0&&(x=h[ln]=new Set);var A=d+"__bubble";x.has(A)||(OB(h,d,2,!1),x.add(A))}function FA(d,h,x){var A=0;h&&(A|=4),OB(x,d,A,h)}var Q_="_reactListening"+Math.random().toString(36).slice(2);function HA(d){if(!d[Q_]){d[Q_]=!0,Ve.forEach(function(x){x!=="selectionchange"&&(Wk.has(x)||FA(x,!1,d),FA(x,!0,d))});var h=d.nodeType===9?d:d.ownerDocument;h===null||h[Q_]||(h[Q_]=!0,FA("selectionchange",!1,h))}}function OB(d,h,x,A){switch(ZB(h)){case 2:var L=y5;break;case 8:L=b5;break;default:L=ZA}x=L.bind(null,h,x,d),L=void 0,!Sn||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(L=!0),A?L!==void 0?d.addEventListener(h,x,{capture:!0,passive:L}):d.addEventListener(h,x,!0):L!==void 0?d.addEventListener(h,x,{passive:L}):d.addEventListener(h,x,!1)}function GA(d,h,x,A,L){var G=A;if((h&1)===0&&(h&2)===0&&A!==null)e:for(;;){if(A===null)return;var ne=A.tag;if(ne===3||ne===4){var ge=A.stateNode.containerInfo;if(ge===L||ge.nodeType===8&&ge.parentNode===L)break;if(ne===4)for(ne=A.return;ne!==null;){var Re=ne.tag;if((Re===3||Re===4)&&(Re=ne.stateNode.containerInfo,Re===L||Re.nodeType===8&&Re.parentNode===L))return;ne=ne.return}for(;ge!==null;){if(ne=_r(ge),ne===null)return;if(Re=ne.tag,Re===5||Re===6||Re===26||Re===27){A=G=ne;continue e}ge=ge.parentNode}}A=A.return}jl(function(){var Ye=G,At=Ua(x),Ut=[];e:{var ft=og.get(d);if(ft!==void 0){var Et=ul,xn=d;switch(d){case"keypress":if(Fa(x)===0)break e;case"keydown":case"keyup":Et=eu;break;case"focusin":xn="focus",Et=ud;break;case"focusout":xn="blur",Et=ud;break;case"beforeblur":case"afterblur":Et=ud;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Et=Kh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Et=V0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Et=Mf;break;case Xo:case ca:case Jl:Et=Jm;break;case ag:Et=Ls;break;case"scroll":case"scrollend":Et=qh;break;case"wheel":Et=j0;break;case"copy":case"cut":case"paste":Et=Zm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Et=fd;break;case"toggle":case"beforetoggle":Et=hl}var Kn=(h&4)!==0,oa=!Kn&&(d==="scroll"||d==="scrollend"),nt=Kn?ft!==null?ft+"Capture":null:ft;Kn=[];for(var je=Ye,ut;je!==null;){var Ot=je;if(ut=Ot.stateNode,Ot=Ot.tag,Ot!==5&&Ot!==26&&Ot!==27||ut===null||nt===null||(Ot=tn(je,nt),Ot!=null&&Kn.push(My(je,Ot,ut))),oa)break;je=je.return}0<Kn.length&&(ft=new Et(ft,xn,null,x,At),Ut.push({event:ft,listeners:Kn}))}}if((h&7)===0){e:{if(ft=d==="mouseover"||d==="pointerover",Et=d==="mouseout"||d==="pointerout",ft&&x!==$o&&(xn=x.relatedTarget||x.fromElement)&&(_r(xn)||xn[ii]))break e;if((Et||ft)&&(ft=At.window===At?At:(ft=At.ownerDocument)?ft.defaultView||ft.parentWindow:window,Et?(xn=x.relatedTarget||x.toElement,Et=Ye,xn=xn?_r(xn):null,xn!==null&&(oa=ee(xn),Kn=xn.tag,xn!==oa||Kn!==5&&Kn!==27&&Kn!==6)&&(xn=null)):(Et=null,xn=Ye),Et!==xn)){if(Kn=Kh,Ot="onMouseLeave",nt="onMouseEnter",je="mouse",(d==="pointerout"||d==="pointerover")&&(Kn=fd,Ot="onPointerLeave",nt="onPointerEnter",je="pointer"),oa=Et==null?ft:Ue(Et),ut=xn==null?ft:Ue(xn),ft=new Kn(Ot,je+"leave",Et,x,At),ft.target=oa,ft.relatedTarget=ut,Ot=null,_r(At)===Ye&&(Kn=new Kn(nt,je+"enter",xn,x,At),Kn.target=ut,Kn.relatedTarget=oa,Ot=Kn),oa=Ot,Et&&xn)t:{for(Kn=Et,nt=xn,je=0,ut=Kn;ut;ut=Pg(ut))je++;for(ut=0,Ot=nt;Ot;Ot=Pg(Ot))ut++;for(;0<je-ut;)Kn=Pg(Kn),je--;for(;0<ut-je;)nt=Pg(nt),ut--;for(;je--;){if(Kn===nt||nt!==null&&Kn===nt.alternate)break t;Kn=Pg(Kn),nt=Pg(nt)}Kn=null}else Kn=null;Et!==null&&IB(Ut,ft,Et,Kn,!1),xn!==null&&oa!==null&&IB(Ut,oa,xn,Kn,!0)}}e:{if(ft=Ye?Ue(Ye):window,Et=ft.nodeName&&ft.nodeName.toLowerCase(),Et==="select"||Et==="input"&&ft.type==="file")var fn=Of;else if(ep(ft))if(If)fn=se;else{fn=X;var yi=V}else Et=ft.nodeName,!Et||Et.toLowerCase()!=="input"||ft.type!=="checkbox"&&ft.type!=="radio"?Ye&&Bs(Ye.elementType)&&(fn=Of):fn=te;if(fn&&(fn=fn(d,Ye))){Ha(Ut,fn,x,At);break e}yi&&yi(d,ft,Ye),d==="focusout"&&Ye&&ft.type==="number"&&Ye.memoizedProps.value!=null&&Li(ft,"number",ft.value)}switch(yi=Ye?Ue(Ye):window,d){case"focusin":(ep(yi)||yi.contentEditable==="true")&&(Zt=yi,hn=Ye,Ln=null);break;case"focusout":Ln=hn=Zt=null;break;case"mousedown":ei=!0;break;case"contextmenu":case"mouseup":case"dragend":ei=!1,pn(Ut,x,At);break;case"selectionchange":if(an)break;case"keydown":case"keyup":pn(Ut,x,At)}var En;if(Yl)e:{switch(d){case"compositionstart":var Fn="onCompositionStart";break e;case"compositionend":Fn="onCompositionEnd";break e;case"compositionupdate":Fn="onCompositionUpdate";break e}Fn=void 0}else _o?pd(d,x)&&(Fn="onCompositionEnd"):d==="keydown"&&x.keyCode===229&&(Fn="onCompositionStart");Fn&&(hd&&x.locale!=="ko"&&(_o||Fn!=="onCompositionStart"?Fn==="onCompositionEnd"&&_o&&(En=Vo()):(Ci=At,Hi="value"in Ci?Ci.value:Ci.textContent,_o=!0)),yi=Z_(Ye,Fn),0<yi.length&&(Fn=new wf(Fn,d,null,x,At),Ut.push({event:Fn,listeners:yi}),En?Fn.data=En:(En=Tf(x),En!==null&&(Fn.data=En)))),(En=pl?xo(d,x):Rf(d,x))&&(Fn=Z_(Ye,"onBeforeInput"),0<Fn.length&&(yi=new wf("onBeforeInput","beforeinput",null,x,At),Ut.push({event:yi,listeners:Fn}),yi.data=En)),$k(Ut,d,Ye,x,At)}RB(Ut,h)})}function My(d,h,x){return{instance:d,listener:h,currentTarget:x}}function Z_(d,h){for(var x=h+"Capture",A=[];d!==null;){var L=d,G=L.stateNode;L=L.tag,L!==5&&L!==26&&L!==27||G===null||(L=tn(d,x),L!=null&&A.unshift(My(d,L,G)),L=tn(d,h),L!=null&&A.push(My(d,L,G))),d=d.return}return A}function Pg(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5&&d.tag!==27);return d||null}function IB(d,h,x,A,L){for(var G=h._reactName,ne=[];x!==null&&x!==A;){var ge=x,Re=ge.alternate,Ye=ge.stateNode;if(ge=ge.tag,Re!==null&&Re===A)break;ge!==5&&ge!==26&&ge!==27||Ye===null||(Re=Ye,L?(Ye=tn(x,G),Ye!=null&&ne.unshift(My(x,Ye,Re))):L||(Ye=tn(x,G),Ye!=null&&ne.push(My(x,Ye,Re)))),x=x.return}ne.length!==0&&d.push({event:h,listeners:ne})}var Xk=/\r\n?/g,Yk=/\u0000|\uFFFD/g;function BB(d){return(typeof d=="string"?d:""+d).replace(Xk,`
`).replace(Yk,"")}function DB(d,h){return h=BB(h),BB(d)===h}function ex(){}function fr(d,h,x,A,L,G){switch(x){case"children":typeof A=="string"?h==="body"||h==="textarea"&&A===""||Wi(d,A):(typeof A=="number"||typeof A=="bigint")&&h!=="body"&&Wi(d,""+A);break;case"className":jn(d,"class",A);break;case"tabIndex":jn(d,"tabindex",A);break;case"dir":case"role":case"viewBox":case"width":case"height":jn(d,x,A);break;case"style":Ma(d,A,G);break;case"data":if(h!=="object"){jn(d,"data",A);break}case"src":case"href":if(A===""&&(h!=="a"||x!=="href")){d.removeAttribute(x);break}if(A==null||typeof A=="function"||typeof A=="symbol"||typeof A=="boolean"){d.removeAttribute(x);break}A=xr(""+A),d.setAttribute(x,A);break;case"action":case"formAction":if(typeof A=="function"){d.setAttribute(x,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof G=="function"&&(x==="formAction"?(h!=="input"&&fr(d,h,"name",L.name,L,null),fr(d,h,"formEncType",L.formEncType,L,null),fr(d,h,"formMethod",L.formMethod,L,null),fr(d,h,"formTarget",L.formTarget,L,null)):(fr(d,h,"encType",L.encType,L,null),fr(d,h,"method",L.method,L,null),fr(d,h,"target",L.target,L,null)));if(A==null||typeof A=="symbol"||typeof A=="boolean"){d.removeAttribute(x);break}A=xr(""+A),d.setAttribute(x,A);break;case"onClick":A!=null&&(d.onclick=ex);break;case"onScroll":A!=null&&Oi("scroll",d);break;case"onScrollEnd":A!=null&&Oi("scrollend",d);break;case"dangerouslySetInnerHTML":if(A!=null){if(typeof A!="object"||!("__html"in A))throw Error(r(61));if(x=A.__html,x!=null){if(L.children!=null)throw Error(r(60));d.innerHTML=x}}break;case"multiple":d.multiple=A&&typeof A!="function"&&typeof A!="symbol";break;case"muted":d.muted=A&&typeof A!="function"&&typeof A!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(A==null||typeof A=="function"||typeof A=="boolean"||typeof A=="symbol"){d.removeAttribute("xlink:href");break}x=xr(""+A),d.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",x);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":A!=null&&typeof A!="function"&&typeof A!="symbol"?d.setAttribute(x,""+A):d.removeAttribute(x);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":A&&typeof A!="function"&&typeof A!="symbol"?d.setAttribute(x,""):d.removeAttribute(x);break;case"capture":case"download":A===!0?d.setAttribute(x,""):A!==!1&&A!=null&&typeof A!="function"&&typeof A!="symbol"?d.setAttribute(x,A):d.removeAttribute(x);break;case"cols":case"rows":case"size":case"span":A!=null&&typeof A!="function"&&typeof A!="symbol"&&!isNaN(A)&&1<=A?d.setAttribute(x,A):d.removeAttribute(x);break;case"rowSpan":case"start":A==null||typeof A=="function"||typeof A=="symbol"||isNaN(A)?d.removeAttribute(x):d.setAttribute(x,A);break;case"popover":Oi("beforetoggle",d),Oi("toggle",d),Vn(d,"popover",A);break;case"xlinkActuate":In(d,"http://www.w3.org/1999/xlink","xlink:actuate",A);break;case"xlinkArcrole":In(d,"http://www.w3.org/1999/xlink","xlink:arcrole",A);break;case"xlinkRole":In(d,"http://www.w3.org/1999/xlink","xlink:role",A);break;case"xlinkShow":In(d,"http://www.w3.org/1999/xlink","xlink:show",A);break;case"xlinkTitle":In(d,"http://www.w3.org/1999/xlink","xlink:title",A);break;case"xlinkType":In(d,"http://www.w3.org/1999/xlink","xlink:type",A);break;case"xmlBase":In(d,"http://www.w3.org/XML/1998/namespace","xml:base",A);break;case"xmlLang":In(d,"http://www.w3.org/XML/1998/namespace","xml:lang",A);break;case"xmlSpace":In(d,"http://www.w3.org/XML/1998/namespace","xml:space",A);break;case"is":Vn(d,"is",A);break;case"innerText":case"textContent":break;default:(!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(x=cd.get(x)||x,Vn(d,x,A))}}function kA(d,h,x,A,L,G){switch(x){case"style":Ma(d,A,G);break;case"dangerouslySetInnerHTML":if(A!=null){if(typeof A!="object"||!("__html"in A))throw Error(r(61));if(x=A.__html,x!=null){if(L.children!=null)throw Error(r(60));d.innerHTML=x}}break;case"children":typeof A=="string"?Wi(d,A):(typeof A=="number"||typeof A=="bigint")&&Wi(d,""+A);break;case"onScroll":A!=null&&Oi("scroll",d);break;case"onScrollEnd":A!=null&&Oi("scrollend",d);break;case"onClick":A!=null&&(d.onclick=ex);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rt.hasOwnProperty(x))e:{if(x[0]==="o"&&x[1]==="n"&&(L=x.endsWith("Capture"),h=x.slice(2,L?x.length-7:void 0),G=d[un]||null,G=G!=null?G[x]:null,typeof G=="function"&&d.removeEventListener(h,G,L),typeof A=="function")){typeof G!="function"&&G!==null&&(x in d?d[x]=null:d.hasAttribute(x)&&d.removeAttribute(x)),d.addEventListener(h,A,L);break e}x in d?d[x]=A:A===!0?d.setAttribute(x,""):Vn(d,x,A)}}}function fo(d,h,x){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oi("error",d),Oi("load",d);var A=!1,L=!1,G;for(G in x)if(x.hasOwnProperty(G)){var ne=x[G];if(ne!=null)switch(G){case"src":A=!0;break;case"srcSet":L=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,h));default:fr(d,h,G,ne,x,null)}}L&&fr(d,h,"srcSet",x.srcSet,x,null),A&&fr(d,h,"src",x.src,x,null);return;case"input":Oi("invalid",d);var ge=G=ne=L=null,Re=null,Ye=null;for(A in x)if(x.hasOwnProperty(A)){var At=x[A];if(At!=null)switch(A){case"name":L=At;break;case"type":ne=At;break;case"checked":Re=At;break;case"defaultChecked":Ye=At;break;case"value":G=At;break;case"defaultValue":ge=At;break;case"children":case"dangerouslySetInnerHTML":if(At!=null)throw Error(r(137,h));break;default:fr(d,h,A,At,x,null)}}xi(d,G,ge,Re,Ye,ne,L,!1),Wn(d);return;case"select":Oi("invalid",d),A=ne=G=null;for(L in x)if(x.hasOwnProperty(L)&&(ge=x[L],ge!=null))switch(L){case"value":G=ge;break;case"defaultValue":ne=ge;break;case"multiple":A=ge;default:fr(d,h,L,ge,x,null)}h=G,x=ne,d.multiple=!!A,h!=null?$i(d,!!A,h,!1):x!=null&&$i(d,!!A,x,!0);return;case"textarea":Oi("invalid",d),G=L=A=null;for(ne in x)if(x.hasOwnProperty(ne)&&(ge=x[ne],ge!=null))switch(ne){case"value":A=ge;break;case"defaultValue":L=ge;break;case"children":G=ge;break;case"dangerouslySetInnerHTML":if(ge!=null)throw Error(r(91));break;default:fr(d,h,ne,ge,x,null)}Ir(d,A,L,G),Wn(d);return;case"option":for(Re in x)if(x.hasOwnProperty(Re)&&(A=x[Re],A!=null))switch(Re){case"selected":d.selected=A&&typeof A!="function"&&typeof A!="symbol";break;default:fr(d,h,Re,A,x,null)}return;case"dialog":Oi("cancel",d),Oi("close",d);break;case"iframe":case"object":Oi("load",d);break;case"video":case"audio":for(A=0;A<Ay.length;A++)Oi(Ay[A],d);break;case"image":Oi("error",d),Oi("load",d);break;case"details":Oi("toggle",d);break;case"embed":case"source":case"link":Oi("error",d),Oi("load",d);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ye in x)if(x.hasOwnProperty(Ye)&&(A=x[Ye],A!=null))switch(Ye){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,h));default:fr(d,h,Ye,A,x,null)}return;default:if(Bs(h)){for(At in x)x.hasOwnProperty(At)&&(A=x[At],A!==void 0&&kA(d,h,At,A,x,void 0));return}}for(ge in x)x.hasOwnProperty(ge)&&(A=x[ge],A!=null&&fr(d,h,ge,A,x,null))}function qk(d,h,x,A){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var L=null,G=null,ne=null,ge=null,Re=null,Ye=null,At=null;for(Et in x){var Ut=x[Et];if(x.hasOwnProperty(Et)&&Ut!=null)switch(Et){case"checked":break;case"value":break;case"defaultValue":Re=Ut;default:A.hasOwnProperty(Et)||fr(d,h,Et,null,A,Ut)}}for(var ft in A){var Et=A[ft];if(Ut=x[ft],A.hasOwnProperty(ft)&&(Et!=null||Ut!=null))switch(ft){case"type":G=Et;break;case"name":L=Et;break;case"checked":Ye=Et;break;case"defaultChecked":At=Et;break;case"value":ne=Et;break;case"defaultValue":ge=Et;break;case"children":case"dangerouslySetInnerHTML":if(Et!=null)throw Error(r(137,h));break;default:Et!==Ut&&fr(d,h,ft,Et,A,Ut)}}An(d,ne,ge,Re,Ye,At,G,L);return;case"select":Et=ne=ge=ft=null;for(G in x)if(Re=x[G],x.hasOwnProperty(G)&&Re!=null)switch(G){case"value":break;case"multiple":Et=Re;default:A.hasOwnProperty(G)||fr(d,h,G,null,A,Re)}for(L in A)if(G=A[L],Re=x[L],A.hasOwnProperty(L)&&(G!=null||Re!=null))switch(L){case"value":ft=G;break;case"defaultValue":ge=G;break;case"multiple":ne=G;default:G!==Re&&fr(d,h,L,G,A,Re)}h=ge,x=ne,A=Et,ft!=null?$i(d,!!x,ft,!1):!!A!=!!x&&(h!=null?$i(d,!!x,h,!0):$i(d,!!x,x?[]:"",!1));return;case"textarea":Et=ft=null;for(ge in x)if(L=x[ge],x.hasOwnProperty(ge)&&L!=null&&!A.hasOwnProperty(ge))switch(ge){case"value":break;case"children":break;default:fr(d,h,ge,null,A,L)}for(ne in A)if(L=A[ne],G=x[ne],A.hasOwnProperty(ne)&&(L!=null||G!=null))switch(ne){case"value":ft=L;break;case"defaultValue":Et=L;break;case"children":break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(91));break;default:L!==G&&fr(d,h,ne,L,A,G)}Ki(d,ft,Et);return;case"option":for(var xn in x)if(ft=x[xn],x.hasOwnProperty(xn)&&ft!=null&&!A.hasOwnProperty(xn))switch(xn){case"selected":d.selected=!1;break;default:fr(d,h,xn,null,A,ft)}for(Re in A)if(ft=A[Re],Et=x[Re],A.hasOwnProperty(Re)&&ft!==Et&&(ft!=null||Et!=null))switch(Re){case"selected":d.selected=ft&&typeof ft!="function"&&typeof ft!="symbol";break;default:fr(d,h,Re,ft,A,Et)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Kn in x)ft=x[Kn],x.hasOwnProperty(Kn)&&ft!=null&&!A.hasOwnProperty(Kn)&&fr(d,h,Kn,null,A,ft);for(Ye in A)if(ft=A[Ye],Et=x[Ye],A.hasOwnProperty(Ye)&&ft!==Et&&(ft!=null||Et!=null))switch(Ye){case"children":case"dangerouslySetInnerHTML":if(ft!=null)throw Error(r(137,h));break;default:fr(d,h,Ye,ft,A,Et)}return;default:if(Bs(h)){for(var oa in x)ft=x[oa],x.hasOwnProperty(oa)&&ft!==void 0&&!A.hasOwnProperty(oa)&&kA(d,h,oa,void 0,A,ft);for(At in A)ft=A[At],Et=x[At],!A.hasOwnProperty(At)||ft===Et||ft===void 0&&Et===void 0||kA(d,h,At,ft,A,Et);return}}for(var nt in x)ft=x[nt],x.hasOwnProperty(nt)&&ft!=null&&!A.hasOwnProperty(nt)&&fr(d,h,nt,null,A,ft);for(Ut in A)ft=A[Ut],Et=x[Ut],!A.hasOwnProperty(Ut)||ft===Et||ft==null&&Et==null||fr(d,h,Ut,ft,A,Et)}var $A=null,VA=null;function tx(d){return d.nodeType===9?d:d.ownerDocument}function PB(d){switch(d){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function LB(d,h){if(d===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return d===1&&h==="foreignObject"?0:d}function jA(d,h){return d==="textarea"||d==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var WA=null;function Kk(){var d=window.event;return d&&d.type==="popstate"?d===WA?!1:(WA=d,!0):(WA=null,!1)}var NB=typeof setTimeout=="function"?setTimeout:void 0,Jk=typeof clearTimeout=="function"?clearTimeout:void 0,zB=typeof Promise=="function"?Promise:void 0,Qk=typeof queueMicrotask=="function"?queueMicrotask:typeof zB<"u"?function(d){return zB.resolve(null).then(d).catch(Zk)}:NB;function Zk(d){setTimeout(function(){throw d})}function XA(d,h){var x=h,A=0;do{var L=x.nextSibling;if(d.removeChild(x),L&&L.nodeType===8)if(x=L.data,x==="/$"){if(A===0){d.removeChild(L),Ly(h);return}A--}else x!=="$"&&x!=="$?"&&x!=="$!"||A++;x=L}while(x);Ly(h)}function YA(d){var h=d.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var x=h;switch(h=h.nextSibling,x.nodeName){case"HTML":case"HEAD":case"BODY":YA(x),cr(x);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(x.rel.toLowerCase()==="stylesheet")continue}d.removeChild(x)}}function e5(d,h,x,A){for(;d.nodeType===1;){var L=x;if(d.nodeName.toLowerCase()!==h.toLowerCase()){if(!A&&(d.nodeName!=="INPUT"||d.type!=="hidden"))break}else if(A){if(!d[Or])switch(h){case"meta":if(!d.hasAttribute("itemprop"))break;return d;case"link":if(G=d.getAttribute("rel"),G==="stylesheet"&&d.hasAttribute("data-precedence"))break;if(G!==L.rel||d.getAttribute("href")!==(L.href==null?null:L.href)||d.getAttribute("crossorigin")!==(L.crossOrigin==null?null:L.crossOrigin)||d.getAttribute("title")!==(L.title==null?null:L.title))break;return d;case"style":if(d.hasAttribute("data-precedence"))break;return d;case"script":if(G=d.getAttribute("src"),(G!==(L.src==null?null:L.src)||d.getAttribute("type")!==(L.type==null?null:L.type)||d.getAttribute("crossorigin")!==(L.crossOrigin==null?null:L.crossOrigin))&&G&&d.hasAttribute("async")&&!d.hasAttribute("itemprop"))break;return d;default:return d}}else if(h==="input"&&d.type==="hidden"){var G=L.name==null?null:""+L.name;if(L.type==="hidden"&&d.getAttribute("name")===G)return d}else return d;if(d=Ec(d.nextSibling),d===null)break}return null}function t5(d,h,x){if(h==="")return null;for(;d.nodeType!==3;)if((d.nodeType!==1||d.nodeName!=="INPUT"||d.type!=="hidden")&&!x||(d=Ec(d.nextSibling),d===null))return null;return d}function Ec(d){for(;d!=null;d=d.nextSibling){var h=d.nodeType;if(h===1||h===3)break;if(h===8){if(h=d.data,h==="$"||h==="$!"||h==="$?"||h==="F!"||h==="F")break;if(h==="/$")return null}}return d}function UB(d){d=d.previousSibling;for(var h=0;d;){if(d.nodeType===8){var x=d.data;if(x==="$"||x==="$!"||x==="$?"){if(h===0)return d;h--}else x==="/$"&&h++}d=d.previousSibling}return null}function FB(d,h,x){switch(h=tx(x),d){case"html":if(d=h.documentElement,!d)throw Error(r(452));return d;case"head":if(d=h.head,!d)throw Error(r(453));return d;case"body":if(d=h.body,!d)throw Error(r(454));return d;default:throw Error(r(451))}}var Ol=new Map,HB=new Set;function nx(d){return typeof d.getRootNode=="function"?d.getRootNode():d.ownerDocument}var Nd=Z.d;Z.d={f:n5,r:i5,D:r5,C:a5,L:o5,m:s5,X:c5,S:l5,M:u5};function n5(){var d=Nd.f(),h=Dd();return d||h}function i5(d){var h=le(d);h!==null&&h.tag===5&&h.type==="form"?B_(h):Nd.r(d)}var Lg=typeof document>"u"?null:document;function GB(d,h,x){var A=Lg;if(A&&typeof h=="string"&&h){var L=Zn(h);L='link[rel="'+d+'"][href="'+L+'"]',typeof x=="string"&&(L+='[crossorigin="'+x+'"]'),HB.has(L)||(HB.add(L),d={rel:d,crossOrigin:x,href:h},A.querySelector(L)===null&&(h=A.createElement("link"),fo(h,"link",d),Ze(h),A.head.appendChild(h)))}}function r5(d){Nd.D(d),GB("dns-prefetch",d,null)}function a5(d,h){Nd.C(d,h),GB("preconnect",d,h)}function o5(d,h,x){Nd.L(d,h,x);var A=Lg;if(A&&d&&h){var L='link[rel="preload"][as="'+Zn(h)+'"]';h==="image"&&x&&x.imageSrcSet?(L+='[imagesrcset="'+Zn(x.imageSrcSet)+'"]',typeof x.imageSizes=="string"&&(L+='[imagesizes="'+Zn(x.imageSizes)+'"]')):L+='[href="'+Zn(d)+'"]';var G=L;switch(h){case"style":G=Ng(d);break;case"script":G=zg(d)}Ol.has(G)||(d=U({rel:"preload",href:h==="image"&&x&&x.imageSrcSet?void 0:d,as:h},x),Ol.set(G,d),A.querySelector(L)!==null||h==="style"&&A.querySelector(Ty(G))||h==="script"&&A.querySelector(Ry(G))||(h=A.createElement("link"),fo(h,"link",d),Ze(h),A.head.appendChild(h)))}}function s5(d,h){Nd.m(d,h);var x=Lg;if(x&&d){var A=h&&typeof h.as=="string"?h.as:"script",L='link[rel="modulepreload"][as="'+Zn(A)+'"][href="'+Zn(d)+'"]',G=L;switch(A){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":G=zg(d)}if(!Ol.has(G)&&(d=U({rel:"modulepreload",href:d},h),Ol.set(G,d),x.querySelector(L)===null)){switch(A){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(x.querySelector(Ry(G)))return}A=x.createElement("link"),fo(A,"link",d),Ze(A),x.head.appendChild(A)}}}function l5(d,h,x){Nd.S(d,h,x);var A=Lg;if(A&&d){var L=at(A).hoistableStyles,G=Ng(d);h=h||"default";var ne=L.get(G);if(!ne){var ge={loading:0,preload:null};if(ne=A.querySelector(Ty(G)))ge.loading=5;else{d=U({rel:"stylesheet",href:d,"data-precedence":h},x),(x=Ol.get(G))&&qA(d,x);var Re=ne=A.createElement("link");Ze(Re),fo(Re,"link",d),Re._p=new Promise(function(Ye,At){Re.onload=Ye,Re.onerror=At}),Re.addEventListener("load",function(){ge.loading|=1}),Re.addEventListener("error",function(){ge.loading|=2}),ge.loading|=4,ix(ne,h,A)}ne={type:"stylesheet",instance:ne,count:1,state:ge},L.set(G,ne)}}}function c5(d,h){Nd.X(d,h);var x=Lg;if(x&&d){var A=at(x).hoistableScripts,L=zg(d),G=A.get(L);G||(G=x.querySelector(Ry(L)),G||(d=U({src:d,async:!0},h),(h=Ol.get(L))&&KA(d,h),G=x.createElement("script"),Ze(G),fo(G,"link",d),x.head.appendChild(G)),G={type:"script",instance:G,count:1,state:null},A.set(L,G))}}function u5(d,h){Nd.M(d,h);var x=Lg;if(x&&d){var A=at(x).hoistableScripts,L=zg(d),G=A.get(L);G||(G=x.querySelector(Ry(L)),G||(d=U({src:d,async:!0,type:"module"},h),(h=Ol.get(L))&&KA(d,h),G=x.createElement("script"),Ze(G),fo(G,"link",d),x.head.appendChild(G)),G={type:"script",instance:G,count:1,state:null},A.set(L,G))}}function kB(d,h,x,A){var L=(L=Ce.current)?nx(L):null;if(!L)throw Error(r(446));switch(d){case"meta":case"title":return null;case"style":return typeof x.precedence=="string"&&typeof x.href=="string"?(h=Ng(x.href),x=at(L).hoistableStyles,A=x.get(h),A||(A={type:"style",instance:null,count:0,state:null},x.set(h,A)),A):{type:"void",instance:null,count:0,state:null};case"link":if(x.rel==="stylesheet"&&typeof x.href=="string"&&typeof x.precedence=="string"){d=Ng(x.href);var G=at(L).hoistableStyles,ne=G.get(d);if(ne||(L=L.ownerDocument||L,ne={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},G.set(d,ne),(G=L.querySelector(Ty(d)))&&!G._p&&(ne.instance=G,ne.state.loading=5),Ol.has(d)||(x={rel:"preload",as:"style",href:x.href,crossOrigin:x.crossOrigin,integrity:x.integrity,media:x.media,hrefLang:x.hrefLang,referrerPolicy:x.referrerPolicy},Ol.set(d,x),G||d5(L,d,x,ne.state))),h&&A===null)throw Error(r(528,""));return ne}if(h&&A!==null)throw Error(r(529,""));return null;case"script":return h=x.async,x=x.src,typeof x=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=zg(x),x=at(L).hoistableScripts,A=x.get(h),A||(A={type:"script",instance:null,count:0,state:null},x.set(h,A)),A):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,d))}}function Ng(d){return'href="'+Zn(d)+'"'}function Ty(d){return'link[rel="stylesheet"]['+d+"]"}function $B(d){return U({},d,{"data-precedence":d.precedence,precedence:null})}function d5(d,h,x,A){d.querySelector('link[rel="preload"][as="style"]['+h+"]")?A.loading=1:(h=d.createElement("link"),A.preload=h,h.addEventListener("load",function(){return A.loading|=1}),h.addEventListener("error",function(){return A.loading|=2}),fo(h,"link",x),Ze(h),d.head.appendChild(h))}function zg(d){return'[src="'+Zn(d)+'"]'}function Ry(d){return"script[async]"+d}function VB(d,h,x){if(h.count++,h.instance===null)switch(h.type){case"style":var A=d.querySelector('style[data-href~="'+Zn(x.href)+'"]');if(A)return h.instance=A,Ze(A),A;var L=U({},x,{"data-href":x.href,"data-precedence":x.precedence,href:null,precedence:null});return A=(d.ownerDocument||d).createElement("style"),Ze(A),fo(A,"style",L),ix(A,x.precedence,d),h.instance=A;case"stylesheet":L=Ng(x.href);var G=d.querySelector(Ty(L));if(G)return h.state.loading|=4,h.instance=G,Ze(G),G;A=$B(x),(L=Ol.get(L))&&qA(A,L),G=(d.ownerDocument||d).createElement("link"),Ze(G);var ne=G;return ne._p=new Promise(function(ge,Re){ne.onload=ge,ne.onerror=Re}),fo(G,"link",A),h.state.loading|=4,ix(G,x.precedence,d),h.instance=G;case"script":return G=zg(x.src),(L=d.querySelector(Ry(G)))?(h.instance=L,Ze(L),L):(A=x,(L=Ol.get(G))&&(A=U({},x),KA(A,L)),d=d.ownerDocument||d,L=d.createElement("script"),Ze(L),fo(L,"link",A),d.head.appendChild(L),h.instance=L);case"void":return null;default:throw Error(r(443,h.type))}else h.type==="stylesheet"&&(h.state.loading&4)===0&&(A=h.instance,h.state.loading|=4,ix(A,x.precedence,d));return h.instance}function ix(d,h,x){for(var A=x.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),L=A.length?A[A.length-1]:null,G=L,ne=0;ne<A.length;ne++){var ge=A[ne];if(ge.dataset.precedence===h)G=ge;else if(G!==L)break}G?G.parentNode.insertBefore(d,G.nextSibling):(h=x.nodeType===9?x.head:x,h.insertBefore(d,h.firstChild))}function qA(d,h){d.crossOrigin==null&&(d.crossOrigin=h.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=h.referrerPolicy),d.title==null&&(d.title=h.title)}function KA(d,h){d.crossOrigin==null&&(d.crossOrigin=h.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=h.referrerPolicy),d.integrity==null&&(d.integrity=h.integrity)}var rx=null;function jB(d,h,x){if(rx===null){var A=new Map,L=rx=new Map;L.set(x,A)}else L=rx,A=L.get(x),A||(A=new Map,L.set(x,A));if(A.has(d))return A;for(A.set(d,null),x=x.getElementsByTagName(d),L=0;L<x.length;L++){var G=x[L];if(!(G[Or]||G[Qn]||d==="link"&&G.getAttribute("rel")==="stylesheet")&&G.namespaceURI!=="http://www.w3.org/2000/svg"){var ne=G.getAttribute(h)||"";ne=d+ne;var ge=A.get(ne);ge?ge.push(G):A.set(ne,[G])}}return A}function WB(d,h,x){d=d.ownerDocument||d,d.head.insertBefore(x,h==="title"?d.querySelector("head > title"):null)}function f5(d,h,x){if(x===1||h.itemProp!=null)return!1;switch(d){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;switch(h.rel){case"stylesheet":return d=h.disabled,typeof h.precedence=="string"&&d==null;default:return!0}case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function XB(d){return!(d.type==="stylesheet"&&(d.state.loading&3)===0)}var Oy=null;function h5(){}function p5(d,h,x){if(Oy===null)throw Error(r(475));var A=Oy;if(h.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var L=Ng(x.href),G=d.querySelector(Ty(L));if(G){d=G._p,d!==null&&typeof d=="object"&&typeof d.then=="function"&&(A.count++,A=ax.bind(A),d.then(A,A)),h.state.loading|=4,h.instance=G,Ze(G);return}G=d.ownerDocument||d,x=$B(x),(L=Ol.get(L))&&qA(x,L),G=G.createElement("link"),Ze(G);var ne=G;ne._p=new Promise(function(ge,Re){ne.onload=ge,ne.onerror=Re}),fo(G,"link",x),h.instance=G}A.stylesheets===null&&(A.stylesheets=new Map),A.stylesheets.set(h,d),(d=h.state.preload)&&(h.state.loading&3)===0&&(A.count++,h=ax.bind(A),d.addEventListener("load",h),d.addEventListener("error",h))}}function m5(){if(Oy===null)throw Error(r(475));var d=Oy;return d.stylesheets&&d.count===0&&JA(d,d.stylesheets),0<d.count?function(h){var x=setTimeout(function(){if(d.stylesheets&&JA(d,d.stylesheets),d.unsuspend){var A=d.unsuspend;d.unsuspend=null,A()}},6e4);return d.unsuspend=h,function(){d.unsuspend=null,clearTimeout(x)}}:null}function ax(){if(this.count--,this.count===0){if(this.stylesheets)JA(this,this.stylesheets);else if(this.unsuspend){var d=this.unsuspend;this.unsuspend=null,d()}}}var ox=null;function JA(d,h){d.stylesheets=null,d.unsuspend!==null&&(d.count++,ox=new Map,h.forEach(g5,d),ox=null,ax.call(d))}function g5(d,h){if(!(h.state.loading&4)){var x=ox.get(d);if(x)var A=x.get(null);else{x=new Map,ox.set(d,x);for(var L=d.querySelectorAll("link[data-precedence],style[data-precedence]"),G=0;G<L.length;G++){var ne=L[G];(ne.nodeName==="LINK"||ne.getAttribute("media")!=="not all")&&(x.set(ne.dataset.precedence,ne),A=ne)}A&&x.set(null,A)}L=h.instance,ne=L.getAttribute("data-precedence"),G=x.get(ne)||A,G===A&&x.set(null,L),x.set(ne,L),this.count++,A=ax.bind(this),L.addEventListener("load",A),L.addEventListener("error",A),G?G.parentNode.insertBefore(L,G.nextSibling):(d=d.nodeType===9?d.head:d,d.insertBefore(L,d.firstChild)),h.state.loading|=4}}var Iy={$$typeof:E,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function v5(d,h,x,A,L,G,ne,ge){this.tag=1,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yt(0),this.hiddenUpdates=Yt(null),this.identifierPrefix=A,this.onUncaughtError=L,this.onCaughtError=G,this.onRecoverableError=ne,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ge,this.incompleteTransitions=new Map}function YB(d,h,x,A,L,G,ne,ge,Re,Ye,At,Ut){return d=new v5(d,h,x,ne,ge,Re,Ye,Ut),h=1,G===!0&&(h|=24),G=jr(3,null,null,h),d.current=G,G.stateNode=d,h=q0(),h.refCount++,d.pooledCache=h,h.refCount++,G.memoizedState={element:A,isDehydrated:x,cache:h},oo(G),d}function qB(d){return d?(d=ou,d):ou}function KB(d,h,x,A,L,G){L=qB(L),A.context===null?A.context=L:A.pendingContext=L,A=Qo(h),A.payload={element:x},G=G===void 0?null:G,G!==null&&(A.callback=G),x=Zo(d,A,h),x!==null&&(aa(x,d,h),Eu(x,d,h))}function JB(d,h){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var x=d.retryLane;d.retryLane=x!==0&&x<h?x:h}}function QA(d,h){JB(d,h),(d=d.alternate)&&JB(d,h)}function QB(d){if(d.tag===13){var h=tc(d,67108864);h!==null&&aa(h,d,67108864),QA(d,67108864)}}var sx=!0;function y5(d,h,x,A){var L=z.T;z.T=null;var G=Z.p;try{Z.p=2,ZA(d,h,x,A)}finally{Z.p=G,z.T=L}}function b5(d,h,x,A){var L=z.T;z.T=null;var G=Z.p;try{Z.p=8,ZA(d,h,x,A)}finally{Z.p=G,z.T=L}}function ZA(d,h,x,A){if(sx){var L=eM(A);if(L===null)GA(d,h,A,lx,x),eD(d,A);else if(_5(L,d,h,x,A))A.stopPropagation();else if(eD(d,A),h&4&&-1<S5.indexOf(d)){for(;L!==null;){var G=le(L);if(G!==null)switch(G.tag){case 3:if(G=G.stateNode,G.current.memoizedState.isDehydrated){var ne=Nt(G.pendingLanes);if(ne!==0){var ge=G;for(ge.pendingLanes|=2,ge.entangledLanes|=2;ne;){var Re=1<<31-Ge(ne);ge.entanglements[1]|=Re,ne&=~Re}or(G),(Yn&6)===0&&(gi=De()+500,vi(0))}}break;case 13:ge=tc(G,2),ge!==null&&aa(ge,G,2),Dd(),QA(G,2)}if(G=eM(A),G===null&&GA(d,h,A,lx,x),G===L)break;L=G}L!==null&&A.stopPropagation()}else GA(d,h,A,null,x)}}function eM(d){return d=Ua(d),tM(d)}var lx=null;function tM(d){if(lx=null,d=_r(d),d!==null){var h=ee(d);if(h===null)d=null;else{var x=h.tag;if(x===13){if(d=de(h),d!==null)return d;d=null}else if(x===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;d=null}else h!==d&&(d=null)}}return lx=d,null}function ZB(d){switch(d){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ke()){case He:return 2;case gt:return 8;case lt:case pt:return 32;case It:return 268435456;default:return 32}default:return 32}}var nM=!1,nh=null,ih=null,rh=null,By=new Map,Dy=new Map,ah=[],S5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function eD(d,h){switch(d){case"focusin":case"focusout":nh=null;break;case"dragenter":case"dragleave":ih=null;break;case"mouseover":case"mouseout":rh=null;break;case"pointerover":case"pointerout":By.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dy.delete(h.pointerId)}}function Py(d,h,x,A,L,G){return d===null||d.nativeEvent!==G?(d={blockedOn:h,domEventName:x,eventSystemFlags:A,nativeEvent:G,targetContainers:[L]},h!==null&&(h=le(h),h!==null&&QB(h)),d):(d.eventSystemFlags|=A,h=d.targetContainers,L!==null&&h.indexOf(L)===-1&&h.push(L),d)}function _5(d,h,x,A,L){switch(h){case"focusin":return nh=Py(nh,d,h,x,A,L),!0;case"dragenter":return ih=Py(ih,d,h,x,A,L),!0;case"mouseover":return rh=Py(rh,d,h,x,A,L),!0;case"pointerover":var G=L.pointerId;return By.set(G,Py(By.get(G)||null,d,h,x,A,L)),!0;case"gotpointercapture":return G=L.pointerId,Dy.set(G,Py(Dy.get(G)||null,d,h,x,A,L)),!0}return!1}function tD(d){var h=_r(d.target);if(h!==null){var x=ee(h);if(x!==null){if(h=x.tag,h===13){if(h=de(x),h!==null){d.blockedOn=h,wn(d.priority,function(){if(x.tag===13){var A=uo(),L=tc(x,A);L!==null&&aa(L,x,A),QA(x,A)}});return}}else if(h===3&&x.stateNode.current.memoizedState.isDehydrated){d.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}d.blockedOn=null}function cx(d){if(d.blockedOn!==null)return!1;for(var h=d.targetContainers;0<h.length;){var x=eM(d.nativeEvent);if(x===null){x=d.nativeEvent;var A=new x.constructor(x.type,x);$o=A,x.target.dispatchEvent(A),$o=null}else return h=le(x),h!==null&&QB(h),d.blockedOn=x,!1;h.shift()}return!0}function nD(d,h,x){cx(d)&&x.delete(h)}function x5(){nM=!1,nh!==null&&cx(nh)&&(nh=null),ih!==null&&cx(ih)&&(ih=null),rh!==null&&cx(rh)&&(rh=null),By.forEach(nD),Dy.forEach(nD)}function ux(d,h){d.blockedOn===h&&(d.blockedOn=null,nM||(nM=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,x5)))}var dx=null;function iD(d){dx!==d&&(dx=d,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){dx===d&&(dx=null);for(var h=0;h<d.length;h+=3){var x=d[h],A=d[h+1],L=d[h+2];if(typeof A!="function"){if(tM(A||x)===null)continue;break}var G=le(x);G!==null&&(d.splice(h,3),h-=3,ry(G,{pending:!0,data:L,method:x.method,action:A},A,L))}}))}function Ly(d){function h(Re){return ux(Re,d)}nh!==null&&ux(nh,d),ih!==null&&ux(ih,d),rh!==null&&ux(rh,d),By.forEach(h),Dy.forEach(h);for(var x=0;x<ah.length;x++){var A=ah[x];A.blockedOn===d&&(A.blockedOn=null)}for(;0<ah.length&&(x=ah[0],x.blockedOn===null);)tD(x),x.blockedOn===null&&ah.shift();if(x=(d.ownerDocument||d).$$reactFormReplay,x!=null)for(A=0;A<x.length;A+=3){var L=x[A],G=x[A+1],ne=L[un]||null;if(typeof G=="function")ne||iD(x);else if(ne){var ge=null;if(G&&G.hasAttribute("formAction")){if(L=G,ne=G[un]||null)ge=ne.formAction;else if(tM(L)!==null)continue}else ge=ne.action;typeof ge=="function"?x[A+1]=ge:(x.splice(A,3),A-=3),iD(x)}}}function iM(d){this._internalRoot=d}fx.prototype.render=iM.prototype.render=function(d){var h=this._internalRoot;if(h===null)throw Error(r(409));var x=h.current,A=uo();KB(x,A,d,h,null,null)},fx.prototype.unmount=iM.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var h=d.containerInfo;d.tag===0&&jt(),KB(d.current,2,null,d,null,null),Dd(),h[ii]=null}};function fx(d){this._internalRoot=d}fx.prototype.unstable_scheduleHydration=function(d){if(d){var h=Sr();d={blockedOn:null,target:d,priority:h};for(var x=0;x<ah.length&&h!==0&&h<ah[x].priority;x++);ah.splice(x,0,d),x===0&&tD(d)}};var rD=e.version;if(rD!=="19.0.0")throw Error(r(527,rD,"19.0.0"));Z.findDOMNode=function(d){var h=d._reactInternals;if(h===void 0)throw typeof d.render=="function"?Error(r(188)):(d=Object.keys(d).join(","),Error(r(268,d)));return d=ie(h),d=d!==null?he(d):null,d=d===null?null:d.stateNode,d};var C5={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:z,findFiberByHostInstance:_r,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hx.isDisabled&&hx.supportsFiber)try{Ct=hx.inject(C5),We=hx}catch{}}return zy.createRoot=function(d,h){if(!a(d))throw Error(r(299));var x=!1,A="",L=H_,G=G_,ne=k_,ge=null;return h!=null&&(h.unstable_strictMode===!0&&(x=!0),h.identifierPrefix!==void 0&&(A=h.identifierPrefix),h.onUncaughtError!==void 0&&(L=h.onUncaughtError),h.onCaughtError!==void 0&&(G=h.onCaughtError),h.onRecoverableError!==void 0&&(ne=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(ge=h.unstable_transitionCallbacks)),h=YB(d,1,!1,null,null,x,A,L,G,ne,ge,null),d[ii]=h.current,HA(d.nodeType===8?d.parentNode:d),new iM(h)},zy.hydrateRoot=function(d,h,x){if(!a(d))throw Error(r(299));var A=!1,L="",G=H_,ne=G_,ge=k_,Re=null,Ye=null;return x!=null&&(x.unstable_strictMode===!0&&(A=!0),x.identifierPrefix!==void 0&&(L=x.identifierPrefix),x.onUncaughtError!==void 0&&(G=x.onUncaughtError),x.onCaughtError!==void 0&&(ne=x.onCaughtError),x.onRecoverableError!==void 0&&(ge=x.onRecoverableError),x.unstable_transitionCallbacks!==void 0&&(Re=x.unstable_transitionCallbacks),x.formState!==void 0&&(Ye=x.formState)),h=YB(d,1,!0,h,x??null,A,L,G,ne,ge,Re,Ye),h.context=qB(null),x=h.current,A=uo(),L=Qo(A),L.callback=null,Zo(x,L,A),h.current.lanes=A,yn(h,A),or(h),d[ii]=h.current,HA(d),new fx(h)},zy.version="19.0.0",zy}var pD;function I5(){if(pD)return oM.exports;pD=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),oM.exports=O5(),oM.exports}var B5=I5(),yO=w.createContext({});function Pt(){return Pt=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Pt.apply(null,arguments)}function Jz(n){if(Array.isArray(n))return n}function D5(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,a,o,l,s=[],u=!0,f=!1;try{if(o=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(m){f=!0,a=m}finally{try{if(!u&&t.return!=null&&(l=t.return(),Object(l)!==l))return}finally{if(f)throw a}}return s}}function yR(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function bO(n,e){if(n){if(typeof n=="string")return yR(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?yR(n,e):void 0}}function Qz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vt(n,e){return Jz(n)||D5(n,e)||bO(n,e)||Qz()}function mn(n){"@babel/helpers - typeof";return mn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mn(n)}function P5(n,e){if(mn(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(mn(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Zz(n){var e=P5(n,"string");return mn(e)=="symbol"?e:e+""}function ue(n,e,t){return(e=Zz(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function L5(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function kn(n,e){if(n==null)return{};var t,r,a=L5(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(a[t]=n[t])}return a}var uM={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var mD;function N5(){return mD||(mD=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var o="",l=0;l<arguments.length;l++){var s=arguments[l];s&&(o=a(o,r(s)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var l="";for(var s in o)e.call(o,s)&&o[s]&&(l=a(l,s));return l}function a(o,l){return l?o?o+" "+l:o+l:o}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(uM)),uM.exports}var z5=N5();const Je=Fm(z5),Ka=Math.round;function dM(n,e){const t=n.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],r=t.map(a=>parseFloat(a));for(let a=0;a<3;a+=1)r[a]=e(r[a]||0,t[a]||"",a);return t[3]?r[3]=t[3].includes("%")?r[3]/100:r[3]:r[3]=1,r}const gD=(n,e,t)=>t===0?n:n/100;function Uy(n,e){const t=e||255;return n>t?t:n<0?0:n}class Bi{constructor(e){ue(this,"isValid",!0),ue(this,"r",0),ue(this,"g",0),ue(this,"b",0),ue(this,"a",1),ue(this,"_h",void 0),ue(this,"_s",void 0),ue(this,"_l",void 0),ue(this,"_v",void 0),ue(this,"_max",void 0),ue(this,"_min",void 0),ue(this,"_brightness",void 0);function t(a){return a[0]in e&&a[1]in e&&a[2]in e}if(e)if(typeof e=="string"){let o=function(l){return a.startsWith(l)};var r=o;const a=e.trim();/^#?[A-F\d]{3,8}$/i.test(a)?this.fromHexString(a):o("rgb")?this.fromRgbString(a):o("hsl")?this.fromHslString(a):(o("hsv")||o("hsb"))&&this.fromHsvString(a)}else if(e instanceof Bi)this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this._h=e._h,this._s=e._s,this._l=e._l,this._v=e._v;else if(t("rgb"))this.r=Uy(e.r),this.g=Uy(e.g),this.b=Uy(e.b),this.a=typeof e.a=="number"?Uy(e.a,1):1;else if(t("hsl"))this.fromHsl(e);else if(t("hsv"))this.fromHsv(e);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(e))}setR(e){return this._sc("r",e)}setG(e){return this._sc("g",e)}setB(e){return this._sc("b",e)}setA(e){return this._sc("a",e,1)}setHue(e){const t=this.toHsv();return t.h=e,this._c(t)}getLuminance(){function e(o){const l=o/255;return l<=.03928?l/12.92:Math.pow((l+.055)/1.055,2.4)}const t=e(this.r),r=e(this.g),a=e(this.b);return .2126*t+.7152*r+.0722*a}getHue(){if(typeof this._h>"u"){const e=this.getMax()-this.getMin();e===0?this._h=0:this._h=Ka(60*(this.r===this.getMax()?(this.g-this.b)/e+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/e+2:(this.r-this.g)/e+4))}return this._h}getSaturation(){if(typeof this._s>"u"){const e=this.getMax()-this.getMin();e===0?this._s=0:this._s=e/this.getMax()}return this._s}getLightness(){return typeof this._l>"u"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v>"u"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness>"u"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(e=10){const t=this.getHue(),r=this.getSaturation();let a=this.getLightness()-e/100;return a<0&&(a=0),this._c({h:t,s:r,l:a,a:this.a})}lighten(e=10){const t=this.getHue(),r=this.getSaturation();let a=this.getLightness()+e/100;return a>1&&(a=1),this._c({h:t,s:r,l:a,a:this.a})}mix(e,t=50){const r=this._c(e),a=t/100,o=s=>(r[s]-this[s])*a+this[s],l={r:Ka(o("r")),g:Ka(o("g")),b:Ka(o("b")),a:Ka(o("a")*100)/100};return this._c(l)}tint(e=10){return this.mix({r:255,g:255,b:255,a:1},e)}shade(e=10){return this.mix({r:0,g:0,b:0,a:1},e)}onBackground(e){const t=this._c(e),r=this.a+t.a*(1-this.a),a=o=>Ka((this[o]*this.a+t[o]*t.a*(1-this.a))/r);return this._c({r:a("r"),g:a("g"),b:a("b"),a:r})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}clone(){return this._c(this)}toHexString(){let e="#";const t=(this.r||0).toString(16);e+=t.length===2?t:"0"+t;const r=(this.g||0).toString(16);e+=r.length===2?r:"0"+r;const a=(this.b||0).toString(16);if(e+=a.length===2?a:"0"+a,typeof this.a=="number"&&this.a>=0&&this.a<1){const o=Ka(this.a*255).toString(16);e+=o.length===2?o:"0"+o}return e}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const e=this.getHue(),t=Ka(this.getSaturation()*100),r=Ka(this.getLightness()*100);return this.a!==1?`hsla(${e},${t}%,${r}%,${this.a})`:`hsl(${e},${t}%,${r}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(e,t,r){const a=this.clone();return a[e]=Uy(t,r),a}_c(e){return new this.constructor(e)}getMax(){return typeof this._max>"u"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min>"u"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(e){const t=e.replace("#","");function r(a,o){return parseInt(t[a]+t[o||a],16)}t.length<6?(this.r=r(0),this.g=r(1),this.b=r(2),this.a=t[3]?r(3)/255:1):(this.r=r(0,1),this.g=r(2,3),this.b=r(4,5),this.a=t[6]?r(6,7)/255:1)}fromHsl({h:e,s:t,l:r,a}){if(this._h=e%360,this._s=t,this._l=r,this.a=typeof a=="number"?a:1,t<=0){const _=Ka(r*255);this.r=_,this.g=_,this.b=_}let o=0,l=0,s=0;const u=e/60,f=(1-Math.abs(2*r-1))*t,m=f*(1-Math.abs(u%2-1));u>=0&&u<1?(o=f,l=m):u>=1&&u<2?(o=m,l=f):u>=2&&u<3?(l=f,s=m):u>=3&&u<4?(l=m,s=f):u>=4&&u<5?(o=m,s=f):u>=5&&u<6&&(o=f,s=m);const b=r-f/2;this.r=Ka((o+b)*255),this.g=Ka((l+b)*255),this.b=Ka((s+b)*255)}fromHsv({h:e,s:t,v:r,a}){this._h=e%360,this._s=t,this._v=r,this.a=typeof a=="number"?a:1;const o=Ka(r*255);if(this.r=o,this.g=o,this.b=o,t<=0)return;const l=e/60,s=Math.floor(l),u=l-s,f=Ka(r*(1-t)*255),m=Ka(r*(1-t*u)*255),b=Ka(r*(1-t*(1-u))*255);switch(s){case 0:this.g=b,this.b=f;break;case 1:this.r=m,this.b=f;break;case 2:this.r=f,this.b=b;break;case 3:this.r=f,this.g=m;break;case 4:this.r=b,this.g=f;break;case 5:default:this.g=f,this.b=m;break}}fromHsvString(e){const t=dM(e,gD);this.fromHsv({h:t[0],s:t[1],v:t[2],a:t[3]})}fromHslString(e){const t=dM(e,gD);this.fromHsl({h:t[0],s:t[1],l:t[2],a:t[3]})}fromRgbString(e){const t=dM(e,(r,a)=>a.includes("%")?Ka(r/100*255):r);this.r=t[0],this.g=t[1],this.b=t[2],this.a=t[3]}}var px=2,vD=.16,U5=.05,F5=.05,H5=.15,eU=5,tU=4,G5=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function yD(n,e,t){var r;return Math.round(n.h)>=60&&Math.round(n.h)<=240?r=t?Math.round(n.h)-px*e:Math.round(n.h)+px*e:r=t?Math.round(n.h)+px*e:Math.round(n.h)-px*e,r<0?r+=360:r>=360&&(r-=360),r}function bD(n,e,t){if(n.h===0&&n.s===0)return n.s;var r;return t?r=n.s-vD*e:e===tU?r=n.s+vD:r=n.s+U5*e,r>1&&(r=1),t&&e===eU&&r>.1&&(r=.1),r<.06&&(r=.06),Math.round(r*100)/100}function SD(n,e,t){var r;return t?r=n.v+F5*e:r=n.v-H5*e,r=Math.max(0,Math.min(1,r)),Math.round(r*100)/100}function Wb(n){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[],r=new Bi(n),a=r.toHsv(),o=eU;o>0;o-=1){var l=new Bi({h:yD(a,o,!0),s:bD(a,o,!0),v:SD(a,o,!0)});t.push(l)}t.push(r);for(var s=1;s<=tU;s+=1){var u=new Bi({h:yD(a,s),s:bD(a,s),v:SD(a,s)});t.push(u)}return e.theme==="dark"?G5.map(function(f){var m=f.index,b=f.amount;return new Bi(e.backgroundColor||"#141414").mix(t[m],b).toHexString()}):t.map(function(f){return f.toHexString()})}var Yv={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},bR=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];bR.primary=bR[5];var SR=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];SR.primary=SR[5];var _R=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];_R.primary=_R[5];var xR=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];xR.primary=xR[5];var CR=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];CR.primary=CR[5];var ER=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];ER.primary=ER[5];var wR=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];wR.primary=wR[5];var AR=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];AR.primary=AR[5];var i0=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];i0.primary=i0[5];var MR=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];MR.primary=MR[5];var TR=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];TR.primary=TR[5];var RR=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];RR.primary=RR[5];var OR=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];OR.primary=OR[5];var fM={red:bR,volcano:SR,orange:_R,gold:xR,yellow:CR,lime:ER,green:wR,cyan:AR,blue:i0,geekblue:MR,purple:TR,magenta:RR,grey:OR};function _D(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function Ne(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_D(Object(t),!0).forEach(function(r){ue(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):_D(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function us(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function IR(n,e){if(!n)return!1;if(n.contains)return n.contains(e);for(var t=e;t;){if(t===n)return!0;t=t.parentNode}return!1}var xD="data-rc-order",CD="data-rc-priority",k5="rc-util-key",BR=new Map;function nU(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.mark;return e?e.startsWith("data-")?e:"data-".concat(e):k5}function iw(n){if(n.attachTo)return n.attachTo;var e=document.querySelector("head");return e||document.body}function $5(n){return n==="queue"?"prependQueue":n?"prepend":"append"}function SO(n){return Array.from((BR.get(n)||n).children).filter(function(e){return e.tagName==="STYLE"})}function iU(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!us())return null;var t=e.csp,r=e.prepend,a=e.priority,o=a===void 0?0:a,l=$5(r),s=l==="prependQueue",u=document.createElement("style");u.setAttribute(xD,l),s&&o&&u.setAttribute(CD,"".concat(o)),t!=null&&t.nonce&&(u.nonce=t==null?void 0:t.nonce),u.innerHTML=n;var f=iw(e),m=f.firstChild;if(r){if(s){var b=(e.styles||SO(f)).filter(function(_){if(!["prepend","prependQueue"].includes(_.getAttribute(xD)))return!1;var E=Number(_.getAttribute(CD)||0);return o>=E});if(b.length)return f.insertBefore(u,b[b.length-1].nextSibling),u}f.insertBefore(u,m)}else f.appendChild(u);return u}function rU(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=iw(e);return(e.styles||SO(t)).find(function(r){return r.getAttribute(nU(e))===n})}function Xb(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=rU(n,e);if(t){var r=iw(e);r.removeChild(t)}}function V5(n,e){var t=BR.get(n);if(!t||!IR(document,t)){var r=iU("",e),a=r.parentNode;BR.set(n,a),n.removeChild(r)}}function lf(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=iw(t),a=SO(r),o=Ne(Ne({},t),{},{styles:a});V5(r,o);var l=rU(e,o);if(l){var s,u;if((s=o.csp)!==null&&s!==void 0&&s.nonce&&l.nonce!==((u=o.csp)===null||u===void 0?void 0:u.nonce)){var f;l.nonce=(f=o.csp)===null||f===void 0?void 0:f.nonce}return l.innerHTML!==n&&(l.innerHTML=n),l}var m=iU(n,o);return m.setAttribute(nU(o),e),m}function aU(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}function j5(n){return aU(n)instanceof ShadowRoot}function O1(n){return j5(n)?aU(n):null}var DR={},W5=function(e){};function X5(n,e){}function Y5(n,e){}function q5(){DR={}}function oU(n,e,t){!e&&!DR[t]&&(n(!1,t),DR[t]=!0)}function Uo(n,e){oU(X5,n,e)}function K5(n,e){oU(Y5,n,e)}Uo.preMessage=W5;Uo.resetWarned=q5;Uo.noteOnce=K5;function J5(n){return n.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}function Q5(n,e){Uo(n,"[@ant-design/icons] ".concat(e))}function ED(n){return mn(n)==="object"&&typeof n.name=="string"&&typeof n.theme=="string"&&(mn(n.icon)==="object"||typeof n.icon=="function")}function wD(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(n).reduce(function(e,t){var r=n[t];switch(t){case"class":e.className=r,delete e.class;break;default:delete e[t],e[J5(t)]=r}return e},{})}function PR(n,e,t){return t?Xe.createElement(n.tag,Ne(Ne({key:e},wD(n.attrs)),t),(n.children||[]).map(function(r,a){return PR(r,"".concat(e,"-").concat(n.tag,"-").concat(a))})):Xe.createElement(n.tag,Ne({key:e},wD(n.attrs)),(n.children||[]).map(function(r,a){return PR(r,"".concat(e,"-").concat(n.tag,"-").concat(a))}))}function sU(n){return Wb(n)[0]}function lU(n){return n?Array.isArray(n)?n:[n]:[]}var Z5=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,e$=function(e){var t=w.useContext(yO),r=t.csp,a=t.prefixCls,o=t.layer,l=Z5;a&&(l=l.replace(/anticon/g,a)),o&&(l="@layer ".concat(o,` {
`).concat(l,`
}`)),w.useEffect(function(){var s=e.current,u=O1(s);lf(l,"@ant-design-icons",{prepend:!o,csp:r,attachTo:u})},[])},t$=["icon","className","onClick","style","primaryColor","secondaryColor"],Rb={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function n$(n){var e=n.primaryColor,t=n.secondaryColor;Rb.primaryColor=e,Rb.secondaryColor=t||sU(e),Rb.calculated=!!t}function i$(){return Ne({},Rb)}var T0=function(e){var t=e.icon,r=e.className,a=e.onClick,o=e.style,l=e.primaryColor,s=e.secondaryColor,u=kn(e,t$),f=w.useRef(),m=Rb;if(l&&(m={primaryColor:l,secondaryColor:s||sU(l)}),e$(f),Q5(ED(t),"icon should be icon definiton, but got ".concat(t)),!ED(t))return null;var b=t;return b&&typeof b.icon=="function"&&(b=Ne(Ne({},b),{},{icon:b.icon(m.primaryColor,m.secondaryColor)})),PR(b.icon,"svg-".concat(b.name),Ne(Ne({className:r,onClick:a,style:o,"data-icon":b.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},u),{},{ref:f}))};T0.displayName="IconReact";T0.getTwoToneColors=i$;T0.setTwoToneColors=n$;function cU(n){var e=lU(n),t=vt(e,2),r=t[0],a=t[1];return T0.setTwoToneColors({primaryColor:r,secondaryColor:a})}function r$(){var n=T0.getTwoToneColors();return n.calculated?[n.primaryColor,n.secondaryColor]:n.primaryColor}var a$=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];cU(i0.primary);var bi=w.forwardRef(function(n,e){var t=n.className,r=n.icon,a=n.spin,o=n.rotate,l=n.tabIndex,s=n.onClick,u=n.twoToneColor,f=kn(n,a$),m=w.useContext(yO),b=m.prefixCls,_=b===void 0?"anticon":b,E=m.rootClassName,c=Je(E,_,ue(ue({},"".concat(_,"-").concat(r.name),!!r.name),"".concat(_,"-spin"),!!a||r.name==="loading"),t),p=l;p===void 0&&s&&(p=-1);var g=o?{msTransform:"rotate(".concat(o,"deg)"),transform:"rotate(".concat(o,"deg)")}:void 0,y=lU(u),C=vt(y,2),T=C[0],M=C[1];return w.createElement("span",Pt({role:"img","aria-label":r.name},f,{ref:e,tabIndex:p,onClick:s,className:c}),w.createElement(T0,{icon:r,primaryColor:T,secondaryColor:M,style:g}))});bi.displayName="AntdIcon";bi.getTwoToneColor=r$;bi.setTwoToneColor=cU;var o$={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"bars",theme:"outlined"},s$=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:o$}))},l$=w.forwardRef(s$),c$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M632 888H392c-4.4 0-8 3.6-8 8v32c0 17.7 14.3 32 32 32h192c17.7 0 32-14.3 32-32v-32c0-4.4-3.6-8-8-8zM512 64c-181.1 0-328 146.9-328 328 0 121.4 66 227.4 164 284.1V792c0 17.7 14.3 32 32 32h264c17.7 0 32-14.3 32-32V676.1c98-56.7 164-162.7 164-284.1 0-181.1-146.9-328-328-328zm127.9 549.8L604 634.6V752H420V634.6l-35.9-20.8C305.4 568.3 256 484.5 256 392c0-141.4 114.6-256 256-256s256 114.6 256 256c0 92.5-49.4 176.3-128.1 221.8z"}}]},name:"bulb",theme:"outlined"},u$=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:c$}))},d$=w.forwardRef(u$),f$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},h$=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:f$}))},_O=w.forwardRef(h$),p$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},m$=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:p$}))},g$=w.forwardRef(m$),v$={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"},y$=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:v$}))},rw=w.forwardRef(y$),b$={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"},S$=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:b$}))},R0=w.forwardRef(S$),_$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},x$=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:_$}))},uU=w.forwardRef(x$),C$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},E$=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:C$}))},w$=w.forwardRef(E$),A$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},M$=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:A$}))},T$=w.forwardRef(M$),R$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"},O$=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:R$}))},I$=w.forwardRef(O$),B$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},D$=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:B$}))},dU=w.forwardRef(D$),P$={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM770.87 199.13l-52.2-52.2a8.01 8.01 0 014.7-13.6l179.4-21c5.1-.6 9.5 3.7 8.9 8.9l-21 179.4c-.8 6.6-8.9 9.4-13.6 4.7l-52.4-52.4-256.2 256.2a8.03 8.03 0 01-11.3 0l-42.4-42.4a8.03 8.03 0 010-11.3l256.1-256.3z"}}]},name:"export",theme:"outlined"},L$=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:P$}))},N$=w.forwardRef(L$),z$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},U$=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:z$}))},F$=w.forwardRef(U$),H$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},G$=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:H$}))},xO=w.forwardRef(G$),k$={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z",fill:t}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:e}}]}},name:"file",theme:"twotone"},$$=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:k$}))},V$=w.forwardRef($$),j$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},W$=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:j$}))},fU=w.forwardRef(W$),X$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},Y$=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:X$}))},I1=w.forwardRef(Y$),q$={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},K$=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:q$}))},r0=w.forwardRef(K$),J$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"},Q$=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:J$}))},Z$=w.forwardRef(Q$),eV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm-88-532h-48c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8zm224 0h-48c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8z"}}]},name:"pause-circle",theme:"outlined"},tV=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:eV}))},nV=w.forwardRef(tV),iV={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z",fill:e}},{tag:"path",attrs:{d:"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z",fill:t}},{tag:"path",attrs:{d:"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z",fill:t}},{tag:"path",attrs:{d:"M276 368a28 28 0 1056 0 28 28 0 10-56 0z",fill:t}},{tag:"path",attrs:{d:"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z",fill:e}}]}},name:"picture",theme:"twotone"},rV=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:iV}))},aV=w.forwardRef(rV),oV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M719.4 499.1l-296.1-215A15.9 15.9 0 00398 297v430c0 13.1 14.8 20.5 25.3 12.9l296.1-215a15.9 15.9 0 000-25.8zm-257.6 134V390.9L628.5 512 461.8 633.1z"}}]},name:"play-circle",theme:"outlined"},sV=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:oV}))},lV=w.forwardRef(sV),cV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},uV=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:cV}))},dV=w.forwardRef(uV),fV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"},hV=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:fV}))},B1=w.forwardRef(hV),pV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"},mV=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:pV}))},gV=w.forwardRef(mV),vV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"},yV=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:vV}))},bV=w.forwardRef(yV),SV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},_V=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:SV}))},xV=w.forwardRef(_V),CV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M938.2 508.4L787.3 389c-3-2.4-7.3-.2-7.3 3.6V478H636V184h204v128c0 2.2 1.8 4 4 4h60c2.2 0 4-1.8 4-4V144c0-15.5-12.5-28-28-28H596c-15.5 0-28 12.5-28 28v736c0 15.5 12.5 28 28 28h284c15.5 0 28-12.5 28-28V712c0-2.2-1.8-4-4-4h-60c-2.2 0-4 1.8-4 4v128H636V546h144v85.4c0 3.8 4.4 6 7.3 3.6l150.9-119.4a4.5 4.5 0 000-7.2zM428 116H144c-15.5 0-28 12.5-28 28v168c0 2.2 1.8 4 4 4h60c2.2 0 4-1.8 4-4V184h204v294H244v-85.4c0-3.8-4.3-6-7.3-3.6l-151 119.4a4.52 4.52 0 000 7.1l151 119.5c2.9 2.3 7.3.2 7.3-3.6V546h144v294H184V712c0-2.2-1.8-4-4-4h-60c-2.2 0-4 1.8-4 4v168c0 15.5 12.5 28 28 28h284c15.5 0 28-12.5 28-28V144c0-15.5-12.5-28-28-28z"}}]},name:"split-cells",theme:"outlined"},EV=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:CV}))},wV=w.forwardRef(EV),AV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"swap",theme:"outlined"},MV=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:AV}))},AD=w.forwardRef(MV),TV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"},RV=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:TV}))},OV=w.forwardRef(RV),IV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},BV=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:IV}))},DV=w.forwardRef(BV),PV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"},LV=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:PV}))},hU=w.forwardRef(LV),NV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 302.3L784 376V224c0-35.3-28.7-64-64-64H128c-35.3 0-64 28.7-64 64v576c0 35.3 28.7 64 64 64h592c35.3 0 64-28.7 64-64V648l128 73.7c21.3 12.3 48-3.1 48-27.6V330c0-24.6-26.7-40-48-27.7zM712 792H136V232h576v560zm176-167l-104-59.8V458.9L888 399v226zM208 360h112c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H208c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}}]},name:"video-camera",theme:"outlined"},zV=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:NV}))},UV=w.forwardRef(zV),FV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"},HV=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:FV}))},pU=w.forwardRef(HV),GV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"},kV=function(e,t){return w.createElement(bi,Pt({},e,{ref:t,icon:GV}))},mU=w.forwardRef(kV),hM={exports:{}},nr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MD;function $V(){if(MD)return nr;MD=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),s=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),c;c=Symbol.for("react.module.reference");function p(g){if(typeof g=="object"&&g!==null){var y=g.$$typeof;switch(y){case n:switch(g=g.type,g){case t:case a:case r:case f:case m:return g;default:switch(g=g&&g.$$typeof,g){case s:case l:case u:case _:case b:case o:return g;default:return y}}case e:return y}}}return nr.ContextConsumer=l,nr.ContextProvider=o,nr.Element=n,nr.ForwardRef=u,nr.Fragment=t,nr.Lazy=_,nr.Memo=b,nr.Portal=e,nr.Profiler=a,nr.StrictMode=r,nr.Suspense=f,nr.SuspenseList=m,nr.isAsyncMode=function(){return!1},nr.isConcurrentMode=function(){return!1},nr.isContextConsumer=function(g){return p(g)===l},nr.isContextProvider=function(g){return p(g)===o},nr.isElement=function(g){return typeof g=="object"&&g!==null&&g.$$typeof===n},nr.isForwardRef=function(g){return p(g)===u},nr.isFragment=function(g){return p(g)===t},nr.isLazy=function(g){return p(g)===_},nr.isMemo=function(g){return p(g)===b},nr.isPortal=function(g){return p(g)===e},nr.isProfiler=function(g){return p(g)===a},nr.isStrictMode=function(g){return p(g)===r},nr.isSuspense=function(g){return p(g)===f},nr.isSuspenseList=function(g){return p(g)===m},nr.isValidElementType=function(g){return typeof g=="string"||typeof g=="function"||g===t||g===a||g===r||g===f||g===m||g===E||typeof g=="object"&&g!==null&&(g.$$typeof===_||g.$$typeof===b||g.$$typeof===o||g.$$typeof===l||g.$$typeof===u||g.$$typeof===c||g.getModuleId!==void 0)},nr.typeOf=p,nr}var TD;function VV(){return TD||(TD=1,hM.exports=$V()),hM.exports}var pM=VV();function aw(n,e,t){var r=w.useRef({});return(!("value"in r.current)||t(r.current.condition,e))&&(r.current.value=n(),r.current.condition=e),r.current.value}var jV=Symbol.for("react.element"),WV=Symbol.for("react.transitional.element"),XV=Symbol.for("react.fragment");function gU(n){return n&&mn(n)==="object"&&(n.$$typeof===jV||n.$$typeof===WV)&&n.type===XV}var YV=Number(w.version.split(".")[0]),CO=function(e,t){typeof e=="function"?e(t):mn(e)==="object"&&e&&"current"in e&&(e.current=t)},_f=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var a=t.filter(Boolean);return a.length<=1?a[0]:function(o){t.forEach(function(l){CO(l,o)})}},O0=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return aw(function(){return _f.apply(void 0,t)},t,function(a,o){return a.length!==o.length||a.every(function(l,s){return l!==o[s]})})},xS=function(e){var t,r;if(!e)return!1;if(vU(e)&&YV>=19)return!0;var a=pM.isMemo(e)?e.type.type:e.type;return!(typeof a=="function"&&!((t=a.prototype)!==null&&t!==void 0&&t.render)&&a.$$typeof!==pM.ForwardRef||typeof e=="function"&&!((r=e.prototype)!==null&&r!==void 0&&r.render)&&e.$$typeof!==pM.ForwardRef)};function vU(n){return w.isValidElement(n)&&!gU(n)}var ow=function(e){if(e&&vU(e)){var t=e;return t.props.propertyIsEnumerable("ref")?t.props.ref:t.ref}return null};function Qu(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[];return Xe.Children.forEach(n,function(r){r==null&&!e.keepEmpty||(Array.isArray(r)?t=t.concat(Qu(r)):gU(r)&&r.props?t=t.concat(Qu(r.props.children,e)):t.push(r))}),t}var Uh=Kz();const Yb=Fm(Uh),qV=qz({__proto__:null,default:Yb},[Uh]);function qb(n){return n instanceof HTMLElement||n instanceof SVGElement}function KV(n){return n&&mn(n)==="object"&&qb(n.nativeElement)?n.nativeElement:qb(n)?n:null}function OC(n){var e=KV(n);if(e)return e;if(n instanceof Xe.Component){var t;return(t=Yb.findDOMNode)===null||t===void 0?void 0:t.call(Yb,n)}return null}var LR=w.createContext(null);function JV(n){var e=n.children,t=n.onBatchResize,r=w.useRef(0),a=w.useRef([]),o=w.useContext(LR),l=w.useCallback(function(s,u,f){r.current+=1;var m=r.current;a.current.push({size:s,element:u,data:f}),Promise.resolve().then(function(){m===r.current&&(t==null||t(a.current),a.current=[])}),o==null||o(s,u,f)},[t,o]);return w.createElement(LR.Provider,{value:l},e)}var yU=function(){if(typeof Map<"u")return Map;function n(e,t){var r=-1;return e.some(function(a,o){return a[0]===t?(r=o,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var r=n(this.__entries__,t),a=this.__entries__[r];return a&&a[1]},e.prototype.set=function(t,r){var a=n(this.__entries__,t);~a?this.__entries__[a][1]=r:this.__entries__.push([t,r])},e.prototype.delete=function(t){var r=this.__entries__,a=n(r,t);~a&&r.splice(a,1)},e.prototype.has=function(t){return!!~n(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,r){r===void 0&&(r=null);for(var a=0,o=this.__entries__;a<o.length;a++){var l=o[a];t.call(r,l[1],l[0])}},e}()}(),NR=typeof window<"u"&&typeof document<"u"&&window.document===document,D1=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),QV=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(D1):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)}}(),ZV=2;function e9(n,e){var t=!1,r=!1,a=0;function o(){t&&(t=!1,n()),r&&s()}function l(){QV(o)}function s(){var u=Date.now();if(t){if(u-a<ZV)return;r=!0}else t=!0,r=!1,setTimeout(l,e);a=u}return s}var t9=20,n9=["top","right","bottom","left","width","height","size","weight"],i9=typeof MutationObserver<"u",r9=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=e9(this.refresh.bind(this),t9)}return n.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},n.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},n.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},n.prototype.connect_=function(){!NR||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),i9?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){!NR||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=t===void 0?"":t,a=n9.some(function(o){return!!~r.indexOf(o)});a&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),bU=function(n,e){for(var t=0,r=Object.keys(e);t<r.length;t++){var a=r[t];Object.defineProperty(n,a,{value:e[a],enumerable:!1,writable:!1,configurable:!0})}return n},a0=function(n){var e=n&&n.ownerDocument&&n.ownerDocument.defaultView;return e||D1},SU=sw(0,0,0,0);function P1(n){return parseFloat(n)||0}function RD(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(r,a){var o=n["border-"+a+"-width"];return r+P1(o)},0)}function a9(n){for(var e=["top","right","bottom","left"],t={},r=0,a=e;r<a.length;r++){var o=a[r],l=n["padding-"+o];t[o]=P1(l)}return t}function o9(n){var e=n.getBBox();return sw(0,0,e.width,e.height)}function s9(n){var e=n.clientWidth,t=n.clientHeight;if(!e&&!t)return SU;var r=a0(n).getComputedStyle(n),a=a9(r),o=a.left+a.right,l=a.top+a.bottom,s=P1(r.width),u=P1(r.height);if(r.boxSizing==="border-box"&&(Math.round(s+o)!==e&&(s-=RD(r,"left","right")+o),Math.round(u+l)!==t&&(u-=RD(r,"top","bottom")+l)),!c9(n)){var f=Math.round(s+o)-e,m=Math.round(u+l)-t;Math.abs(f)!==1&&(s-=f),Math.abs(m)!==1&&(u-=m)}return sw(a.left,a.top,s,u)}var l9=function(){return typeof SVGGraphicsElement<"u"?function(n){return n instanceof a0(n).SVGGraphicsElement}:function(n){return n instanceof a0(n).SVGElement&&typeof n.getBBox=="function"}}();function c9(n){return n===a0(n).document.documentElement}function u9(n){return NR?l9(n)?o9(n):s9(n):SU}function d9(n){var e=n.x,t=n.y,r=n.width,a=n.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,l=Object.create(o.prototype);return bU(l,{x:e,y:t,width:r,height:a,top:t,right:e+r,bottom:a+t,left:e}),l}function sw(n,e,t,r){return{x:n,y:e,width:t,height:r}}var f9=function(){function n(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=sw(0,0,0,0),this.target=e}return n.prototype.isActive=function(){var e=u9(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},n}(),h9=function(){function n(e,t){var r=d9(t);bU(this,{target:e,contentRect:r})}return n}(),p9=function(){function n(e,t,r){if(this.activeObservations_=[],this.observations_=new yU,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return n.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof a0(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new f9(e)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof a0(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(r){return new h9(r.target,r.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),_U=typeof WeakMap<"u"?new WeakMap:new yU,xU=function(){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=r9.getInstance(),r=new p9(e,t,this);_U.set(this,r)}return n}();["observe","unobserve","disconnect"].forEach(function(n){xU.prototype[n]=function(){var e;return(e=_U.get(this))[n].apply(e,arguments)}});var m9=function(){return typeof D1.ResizeObserver<"u"?D1.ResizeObserver:xU}(),Rh=new Map;function g9(n){n.forEach(function(e){var t,r=e.target;(t=Rh.get(r))===null||t===void 0||t.forEach(function(a){return a(r)})})}var CU=new m9(g9);function v9(n,e){Rh.has(n)||(Rh.set(n,new Set),CU.observe(n)),Rh.get(n).add(e)}function y9(n,e){Rh.has(n)&&(Rh.get(n).delete(e),Rh.get(n).size||(CU.unobserve(n),Rh.delete(n)))}function ai(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function OD(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Zz(r.key),r)}}function oi(n,e,t){return e&&OD(n.prototype,e),t&&OD(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Kb(n,e){return Kb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},Kb(n,e)}function Ar(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Kb(n,e)}function Pi(n){return Pi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Pi(n)}function EO(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EO=function(){return!!n})()}function Dn(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Ho(n,e){if(e&&(mn(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dn(n)}function Wc(n){var e=EO();return function(){var t,r=Pi(n);if(e){var a=Pi(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return Ho(this,t)}}var b9=function(n){Ar(t,n);var e=Wc(t);function t(){return ai(this,t),e.apply(this,arguments)}return oi(t,[{key:"render",value:function(){return this.props.children}}]),t}(w.Component);function S9(n,e){var t=n.children,r=n.disabled,a=w.useRef(null),o=w.useRef(null),l=w.useContext(LR),s=typeof t=="function",u=s?t(a):t,f=w.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),m=!s&&w.isValidElement(u)&&xS(u),b=m?ow(u):null,_=O0(b,a),E=function(){var y;return OC(a.current)||(a.current&&mn(a.current)==="object"?OC((y=a.current)===null||y===void 0?void 0:y.nativeElement):null)||OC(o.current)};w.useImperativeHandle(e,function(){return E()});var c=w.useRef(n);c.current=n;var p=w.useCallback(function(g){var y=c.current,C=y.onResize,T=y.data,M=g.getBoundingClientRect(),O=M.width,B=M.height,D=g.offsetWidth,F=g.offsetHeight,z=Math.floor(O),U=Math.floor(B);if(f.current.width!==z||f.current.height!==U||f.current.offsetWidth!==D||f.current.offsetHeight!==F){var $={width:z,height:U,offsetWidth:D,offsetHeight:F};f.current=$;var J=D===Math.round(O)?O:D,W=F===Math.round(B)?B:F,Q=Ne(Ne({},$),{},{offsetWidth:J,offsetHeight:W});l==null||l(Q,g,T),C&&Promise.resolve().then(function(){C(Q,g)})}},[]);return w.useEffect(function(){var g=E();return g&&!r&&v9(g,p),function(){return y9(g,p)}},[a.current,r]),w.createElement(b9,{ref:o},m?w.cloneElement(u,{ref:_}):u)}var _9=w.forwardRef(S9),x9="rc-observer-key";function C9(n,e){var t=n.children,r=typeof t=="function"?[t]:Qu(t);return r.map(function(a,o){var l=(a==null?void 0:a.key)||"".concat(x9,"-").concat(o);return w.createElement(_9,Pt({},n,{key:l,ref:o===0?e:void 0}),a)})}var Hm=w.forwardRef(C9);Hm.Collection=JV;function E9(n){if(Array.isArray(n))return yR(n)}function EU(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function w9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jt(n){return E9(n)||EU(n)||bO(n)||w9()}var wU=function(e){return+setTimeout(e,16)},AU=function(e){return clearTimeout(e)};typeof window<"u"&&"requestAnimationFrame"in window&&(wU=function(e){return window.requestAnimationFrame(e)},AU=function(e){return window.cancelAnimationFrame(e)});var ID=0,wO=new Map;function MU(n){wO.delete(n)}var Da=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;ID+=1;var r=ID;function a(o){if(o===0)MU(r),e();else{var l=wU(function(){a(o-1)});wO.set(r,l)}}return a(t),r};Da.cancel=function(n){var e=wO.get(n);return MU(n),AU(e)};function Jb(n){for(var e=0,t,r=0,a=n.length;a>=4;++r,a-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(a){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}function o0(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=new Set;function a(o,l){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,u=r.has(o);if(Uo(!u,"Warning: There may be circular references"),u)return!1;if(o===l)return!0;if(t&&s>1)return!1;r.add(o);var f=s+1;if(Array.isArray(o)){if(!Array.isArray(l)||o.length!==l.length)return!1;for(var m=0;m<o.length;m++)if(!a(o[m],l[m],f))return!1;return!0}if(o&&l&&mn(o)==="object"&&mn(l)==="object"){var b=Object.keys(o);return b.length!==Object.keys(l).length?!1:b.every(function(_){return a(o[_],l[_],f)})}return!1}return a(n,e)}var A9="%";function zR(n){return n.join(A9)}var M9=function(){function n(e){ai(this,n),ue(this,"instanceId",void 0),ue(this,"cache",new Map),this.instanceId=e}return oi(n,[{key:"get",value:function(t){return this.opGet(zR(t))}},{key:"opGet",value:function(t){return this.cache.get(t)||null}},{key:"update",value:function(t,r){return this.opUpdate(zR(t),r)}},{key:"opUpdate",value:function(t,r){var a=this.cache.get(t),o=r(a);o===null?this.cache.delete(t):this.cache.set(t,o)}}]),n}(),s0="data-token-hash",Hc="data-css-hash",Oh="__cssinjs_instance__";function T9(){var n=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){var e=document.body.querySelectorAll("style[".concat(Hc,"]"))||[],t=document.head.firstChild;Array.from(e).forEach(function(a){a[Oh]=a[Oh]||n,a[Oh]===n&&document.head.insertBefore(a,t)});var r={};Array.from(document.querySelectorAll("style[".concat(Hc,"]"))).forEach(function(a){var o=a.getAttribute(Hc);if(r[o]){if(a[Oh]===n){var l;(l=a.parentNode)===null||l===void 0||l.removeChild(a)}}else r[o]=!0})}return new M9(n)}var CS=w.createContext({hashPriority:"low",cache:T9(),defaultCache:!0});function R9(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}var AO=function(){function n(){ai(this,n),ue(this,"cache",void 0),ue(this,"keys",void 0),ue(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return oi(n,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(t){var r,a,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l={map:this.cache};return t.forEach(function(s){if(!l)l=void 0;else{var u;l=(u=l)===null||u===void 0||(u=u.map)===null||u===void 0?void 0:u.get(s)}}),(r=l)!==null&&r!==void 0&&r.value&&o&&(l.value[1]=this.cacheCallTimes++),(a=l)===null||a===void 0?void 0:a.value}},{key:"get",value:function(t){var r;return(r=this.internalGet(t,!0))===null||r===void 0?void 0:r[0]}},{key:"has",value:function(t){return!!this.internalGet(t)}},{key:"set",value:function(t,r){var a=this;if(!this.has(t)){if(this.size()+1>n.MAX_CACHE_SIZE+n.MAX_CACHE_OFFSET){var o=this.keys.reduce(function(f,m){var b=vt(f,2),_=b[1];return a.internalGet(m)[1]<_?[m,a.internalGet(m)[1]]:f},[this.keys[0],this.cacheCallTimes]),l=vt(o,1),s=l[0];this.delete(s)}this.keys.push(t)}var u=this.cache;t.forEach(function(f,m){if(m===t.length-1)u.set(f,{value:[r,a.cacheCallTimes++]});else{var b=u.get(f);b?b.map||(b.map=new Map):u.set(f,{map:new Map}),u=u.get(f).map}})}},{key:"deleteByPath",value:function(t,r){var a=t.get(r[0]);if(r.length===1){var o;return a.map?t.set(r[0],{map:a.map}):t.delete(r[0]),(o=a.value)===null||o===void 0?void 0:o[0]}var l=this.deleteByPath(a.map,r.slice(1));return(!a.map||a.map.size===0)&&!a.value&&t.delete(r[0]),l}},{key:"delete",value:function(t){if(this.has(t))return this.keys=this.keys.filter(function(r){return!R9(r,t)}),this.deleteByPath(this.cache,t)}}]),n}();ue(AO,"MAX_CACHE_SIZE",20);ue(AO,"MAX_CACHE_OFFSET",5);var BD=0,TU=function(){function n(e){ai(this,n),ue(this,"derivatives",void 0),ue(this,"id",void 0),this.derivatives=Array.isArray(e)?e:[e],this.id=BD,e.length===0&&(e.length>0,void 0),BD+=1}return oi(n,[{key:"getDerivativeToken",value:function(t){return this.derivatives.reduce(function(r,a){return a(t,r)},void 0)}}]),n}(),mM=new AO;function UR(n){var e=Array.isArray(n)?n:[n];return mM.has(e)||mM.set(e,new TU(e)),mM.get(e)}var O9=new WeakMap,gM={};function I9(n,e){for(var t=O9,r=0;r<e.length;r+=1){var a=e[r];t.has(a)||t.set(a,new WeakMap),t=t.get(a)}return t.has(gM)||t.set(gM,n()),t.get(gM)}var DD=new WeakMap;function Ob(n){var e=DD.get(n)||"";return e||(Object.keys(n).forEach(function(t){var r=n[t];e+=t,r instanceof TU?e+=r.id:r&&mn(r)==="object"?e+=Ob(r):e+=r}),e=Jb(e),DD.set(n,e)),e}function PD(n,e){return Jb("".concat(e,"_").concat(Ob(n)))}var FR=us();function Mt(n){return typeof n=="number"?"".concat(n,"px"):n}function L1(n,e,t){var r,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(o)return n;var l=Ne(Ne({},a),{},(r={},ue(r,s0,e),ue(r,Hc,t),r)),s=Object.keys(l).map(function(u){var f=l[u];return f?"".concat(u,'="').concat(f,'"'):null}).filter(function(u){return u}).join(" ");return"<style ".concat(s,">").concat(n,"</style>")}var IC=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(t?"".concat(t,"-"):"").concat(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},B9=function(e,t,r){return Object.keys(e).length?".".concat(t).concat(r!=null&&r.scope?".".concat(r.scope):"","{").concat(Object.entries(e).map(function(a){var o=vt(a,2),l=o[0],s=o[1];return"".concat(l,":").concat(s,";")}).join(""),"}"):""},RU=function(e,t,r){var a={},o={};return Object.entries(e).forEach(function(l){var s,u,f=vt(l,2),m=f[0],b=f[1];if(r!=null&&(s=r.preserve)!==null&&s!==void 0&&s[m])o[m]=b;else if((typeof b=="string"||typeof b=="number")&&!(r!=null&&(u=r.ignore)!==null&&u!==void 0&&u[m])){var _,E=IC(m,r==null?void 0:r.prefix);a[E]=typeof b=="number"&&!(r!=null&&(_=r.unitless)!==null&&_!==void 0&&_[m])?"".concat(b,"px"):String(b),o[m]="var(".concat(E,")")}}),[o,B9(a,t,{scope:r==null?void 0:r.scope})]},LD=us()?w.useLayoutEffect:w.useEffect,wa=function(e,t){var r=w.useRef(!0);LD(function(){return e(r.current)},t),LD(function(){return r.current=!1,function(){r.current=!0}},[])},ND=function(e,t){wa(function(r){if(!r)return e()},t)},D9=Ne({},nw),zD=D9.useInsertionEffect,P9=function(e,t,r){w.useMemo(e,r),wa(function(){return t(!0)},r)},L9=zD?function(n,e,t){return zD(function(){return n(),e()},t)}:P9,N9=Ne({},nw),z9=N9.useInsertionEffect,U9=function(e){var t=[],r=!1;function a(o){r||t.push(o)}return w.useEffect(function(){return r=!1,function(){r=!0,t.length&&t.forEach(function(o){return o()})}},e),a},F9=function(){return function(e){e()}},H9=typeof z9<"u"?U9:F9;function MO(n,e,t,r,a){var o=w.useContext(CS),l=o.cache,s=[n].concat(Jt(e)),u=zR(s),f=H9([u]),m=function(c){l.opUpdate(u,function(p){var g=p||[void 0,void 0],y=vt(g,2),C=y[0],T=C===void 0?0:C,M=y[1],O=M,B=O||t(),D=[T,B];return c?c(D):D})};w.useMemo(function(){m()},[u]);var b=l.opGet(u),_=b[1];return L9(function(){a==null||a(_)},function(E){return m(function(c){var p=vt(c,2),g=p[0],y=p[1];return E&&g===0&&(a==null||a(_)),[g+1,y]}),function(){l.opUpdate(u,function(c){var p=c||[],g=vt(p,2),y=g[0],C=y===void 0?0:y,T=g[1],M=C-1;return M===0?(f(function(){(E||!l.opGet(u))&&(r==null||r(T,!1))}),null):[C-1,T]})}},[u]),_}var G9={},k9="css",rm=new Map;function $9(n){rm.set(n,(rm.get(n)||0)+1)}function V9(n,e){if(typeof document<"u"){var t=document.querySelectorAll("style[".concat(s0,'="').concat(n,'"]'));t.forEach(function(r){if(r[Oh]===e){var a;(a=r.parentNode)===null||a===void 0||a.removeChild(r)}})}}var j9=0;function W9(n,e){rm.set(n,(rm.get(n)||0)-1);var t=Array.from(rm.keys()),r=t.filter(function(a){var o=rm.get(a)||0;return o<=0});t.length-r.length>j9&&r.forEach(function(a){V9(a,e),rm.delete(a)})}var X9=function(e,t,r,a){var o=r.getDerivativeToken(e),l=Ne(Ne({},o),t);return a&&(l=a(l)),l},OU="token";function Y9(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=w.useContext(CS),a=r.cache.instanceId,o=r.container,l=t.salt,s=l===void 0?"":l,u=t.override,f=u===void 0?G9:u,m=t.formatToken,b=t.getComputedToken,_=t.cssVar,E=I9(function(){return Object.assign.apply(Object,[{}].concat(Jt(e)))},e),c=Ob(E),p=Ob(f),g=_?Ob(_):"",y=MO(OU,[s,n.id,c,p,g],function(){var C,T=b?b(E,f,n):X9(E,f,n,m),M=Ne({},T),O="";if(_){var B=RU(T,_.key,{prefix:_.prefix,ignore:_.ignore,unitless:_.unitless,preserve:_.preserve}),D=vt(B,2);T=D[0],O=D[1]}var F=PD(T,s);T._tokenKey=F,M._tokenKey=PD(M,s);var z=(C=_==null?void 0:_.key)!==null&&C!==void 0?C:F;T._themeKey=z,$9(z);var U="".concat(k9,"-").concat(Jb(F));return T._hashId=U,[T,U,M,O,(_==null?void 0:_.key)||""]},function(C){W9(C[0]._themeKey,a)},function(C){var T=vt(C,4),M=T[0],O=T[3];if(_&&O){var B=lf(O,Jb("css-variables-".concat(M._themeKey)),{mark:Hc,prepend:"queue",attachTo:o,priority:-999});B[Oh]=a,B.setAttribute(s0,M._themeKey)}});return y}var q9=function(e,t,r){var a=vt(e,5),o=a[2],l=a[3],s=a[4],u=r||{},f=u.plain;if(!l)return null;var m=o._tokenKey,b=-999,_={"data-rc-order":"prependQueue","data-rc-priority":"".concat(b)},E=L1(l,s,m,_,f);return[b,m,E]},K9={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},IU="comm",BU="rule",DU="decl",J9="@import",Q9="@namespace",Z9="@keyframes",ej="@layer",PU=Math.abs,TO=String.fromCharCode;function LU(n){return n.trim()}function BC(n,e,t){return n.replace(e,t)}function tj(n,e,t){return n.indexOf(e,t)}function qv(n,e){return n.charCodeAt(e)|0}function l0(n,e,t){return n.slice(e,t)}function $u(n){return n.length}function nj(n){return n.length}function mx(n,e){return e.push(n),n}var lw=1,c0=1,NU=0,kl=0,Aa=0,I0="";function RO(n,e,t,r,a,o,l,s){return{value:n,root:e,parent:t,type:r,props:a,children:o,line:lw,column:c0,length:l,return:"",siblings:s}}function ij(){return Aa}function rj(){return Aa=kl>0?qv(I0,--kl):0,c0--,Aa===10&&(c0=1,lw--),Aa}function Gc(){return Aa=kl<NU?qv(I0,kl++):0,c0++,Aa===10&&(c0=1,lw++),Aa}function Ih(){return qv(I0,kl)}function DC(){return kl}function cw(n,e){return l0(I0,n,e)}function Qb(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function aj(n){return lw=c0=1,NU=$u(I0=n),kl=0,[]}function oj(n){return I0="",n}function vM(n){return LU(cw(kl-1,HR(n===91?n+2:n===40?n+1:n)))}function sj(n){for(;(Aa=Ih())&&Aa<33;)Gc();return Qb(n)>2||Qb(Aa)>3?"":" "}function lj(n,e){for(;--e&&Gc()&&!(Aa<48||Aa>102||Aa>57&&Aa<65||Aa>70&&Aa<97););return cw(n,DC()+(e<6&&Ih()==32&&Gc()==32))}function HR(n){for(;Gc();)switch(Aa){case n:return kl;case 34:case 39:n!==34&&n!==39&&HR(Aa);break;case 40:n===41&&HR(n);break;case 92:Gc();break}return kl}function cj(n,e){for(;Gc()&&n+Aa!==57;)if(n+Aa===84&&Ih()===47)break;return"/*"+cw(e,kl-1)+"*"+TO(n===47?n:Gc())}function uj(n){for(;!Qb(Ih());)Gc();return cw(n,kl)}function dj(n){return oj(PC("",null,null,null,[""],n=aj(n),0,[0],n))}function PC(n,e,t,r,a,o,l,s,u){for(var f=0,m=0,b=l,_=0,E=0,c=0,p=1,g=1,y=1,C=0,T="",M=a,O=o,B=r,D=T;g;)switch(c=C,C=Gc()){case 40:if(c!=108&&qv(D,b-1)==58){tj(D+=BC(vM(C),"&","&\f"),"&\f",PU(f?s[f-1]:0))!=-1&&(y=-1);break}case 34:case 39:case 91:D+=vM(C);break;case 9:case 10:case 13:case 32:D+=sj(c);break;case 92:D+=lj(DC()-1,7);continue;case 47:switch(Ih()){case 42:case 47:mx(fj(cj(Gc(),DC()),e,t,u),u),(Qb(c||1)==5||Qb(Ih()||1)==5)&&$u(D)&&l0(D,-1,void 0)!==" "&&(D+=" ");break;default:D+="/"}break;case 123*p:s[f++]=$u(D)*y;case 125*p:case 59:case 0:switch(C){case 0:case 125:g=0;case 59+m:y==-1&&(D=BC(D,/\f/g,"")),E>0&&($u(D)-b||p===0&&c===47)&&mx(E>32?FD(D+";",r,t,b-1,u):FD(BC(D," ","")+";",r,t,b-2,u),u);break;case 59:D+=";";default:if(mx(B=UD(D,e,t,f,m,a,s,T,M=[],O=[],b,o),o),C===123)if(m===0)PC(D,e,B,B,M,o,b,s,O);else{switch(_){case 99:if(qv(D,3)===110)break;case 108:if(qv(D,2)===97)break;default:m=0;case 100:case 109:case 115:}m?PC(n,B,B,r&&mx(UD(n,B,B,0,0,a,s,T,a,M=[],b,O),O),a,O,b,s,r?M:O):PC(D,B,B,B,[""],O,0,s,O)}}f=m=E=0,p=y=1,T=D="",b=l;break;case 58:b=1+$u(D),E=c;default:if(p<1){if(C==123)--p;else if(C==125&&p++==0&&rj()==125)continue}switch(D+=TO(C),C*p){case 38:y=m>0?1:(D+="\f",-1);break;case 44:s[f++]=($u(D)-1)*y,y=1;break;case 64:Ih()===45&&(D+=vM(Gc())),_=Ih(),m=b=$u(T=D+=uj(DC())),C++;break;case 45:c===45&&$u(D)==2&&(p=0)}}return o}function UD(n,e,t,r,a,o,l,s,u,f,m,b){for(var _=a-1,E=a===0?o:[""],c=nj(E),p=0,g=0,y=0;p<r;++p)for(var C=0,T=l0(n,_+1,_=PU(g=l[p])),M=n;C<c;++C)(M=LU(g>0?E[C]+" "+T:BC(T,/&\f/g,E[C])))&&(u[y++]=M);return RO(n,e,t,a===0?BU:s,u,f,m,b)}function fj(n,e,t,r){return RO(n,e,t,IU,TO(ij()),l0(n,2,-2),0,r)}function FD(n,e,t,r,a){return RO(n,e,t,DU,l0(n,0,r),l0(n,r+1,-1),r,a)}function GR(n,e){for(var t="",r=0;r<n.length;r++)t+=e(n[r],r,n,e)||"";return t}function hj(n,e,t,r){switch(n.type){case ej:if(n.children.length)break;case J9:case Q9:case DU:return n.return=n.return||n.value;case IU:return"";case Z9:return n.return=n.value+"{"+GR(n.children,r)+"}";case BU:if(!$u(n.value=n.props.join(",")))return""}return $u(t=GR(n.children,r))?n.return=n.value+"{"+t+"}":""}var HD="data-ant-cssinjs-cache-path",zU="_FILE_STYLE__",xm,UU=!0;function pj(){if(!xm&&(xm={},us())){var n=document.createElement("div");n.className=HD,n.style.position="fixed",n.style.visibility="hidden",n.style.top="-9999px",document.body.appendChild(n);var e=getComputedStyle(n).content||"";e=e.replace(/^"/,"").replace(/"$/,""),e.split(";").forEach(function(a){var o=a.split(":"),l=vt(o,2),s=l[0],u=l[1];xm[s]=u});var t=document.querySelector("style[".concat(HD,"]"));if(t){var r;UU=!1,(r=t.parentNode)===null||r===void 0||r.removeChild(t)}document.body.removeChild(n)}}function mj(n){return pj(),!!xm[n]}function gj(n){var e=xm[n],t=null;if(e&&us())if(UU)t=zU;else{var r=document.querySelector("style[".concat(Hc,'="').concat(xm[n],'"]'));r?t=r.innerHTML:delete xm[n]}return[t,e]}var vj="_skip_check_",FU="_multi_value_";function LC(n){var e=GR(dj(n),hj);return e.replace(/\{%%%\:[^;];}/g,";")}function yj(n){return mn(n)==="object"&&n&&(vj in n||FU in n)}function GD(n,e,t){if(!e)return n;var r=".".concat(e),a=t==="low"?":where(".concat(r,")"):r,o=n.split(",").map(function(l){var s,u=l.trim().split(/\s+/),f=u[0]||"",m=((s=f.match(/^\w+/))===null||s===void 0?void 0:s[0])||"";return f="".concat(m).concat(a).concat(f.slice(m.length)),[f].concat(Jt(u.slice(1))).join(" ")});return o.join(",")}var bj=function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},a=r.root,o=r.injectHash,l=r.parentSelectors,s=t.hashId,u=t.layer;t.path;var f=t.hashPriority,m=t.transformers,b=m===void 0?[]:m;t.linters;var _="",E={};function c(y){var C=y.getName(s);if(!E[C]){var T=n(y.style,t,{root:!1,parentSelectors:l}),M=vt(T,1),O=M[0];E[C]="@keyframes ".concat(y.getName(s)).concat(O)}}function p(y){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return y.forEach(function(T){Array.isArray(T)?p(T,C):T&&C.push(T)}),C}var g=p(Array.isArray(e)?e:[e]);return g.forEach(function(y){var C=typeof y=="string"&&!a?{}:y;if(typeof C=="string")_+="".concat(C,`
`);else if(C._keyframe)c(C);else{var T=b.reduce(function(M,O){var B;return(O==null||(B=O.visit)===null||B===void 0?void 0:B.call(O,M))||M},C);Object.keys(T).forEach(function(M){var O=T[M];if(mn(O)==="object"&&O&&(M!=="animationName"||!O._keyframe)&&!yj(O)){var B=!1,D=M.trim(),F=!1;(a||o)&&s?D.startsWith("@")?B=!0:D==="&"?D=GD("",s,f):D=GD(M,s,f):a&&!s&&(D==="&"||D==="")&&(D="",F=!0);var z=n(O,t,{root:F,injectHash:B,parentSelectors:[].concat(Jt(l),[D])}),U=vt(z,2),$=U[0],J=U[1];E=Ne(Ne({},E),J),_+="".concat(D).concat($)}else{let ae=function(Y,K){var ee=Y.replace(/[A-Z]/g,function(q){return"-".concat(q.toLowerCase())}),de=K;!K9[Y]&&typeof de=="number"&&de!==0&&(de="".concat(de,"px")),Y==="animationName"&&K!==null&&K!==void 0&&K._keyframe&&(c(K),de=K.getName(s)),_+="".concat(ee,":").concat(de,";")};var W,Q=(W=O==null?void 0:O.value)!==null&&W!==void 0?W:O;mn(O)==="object"&&O!==null&&O!==void 0&&O[FU]&&Array.isArray(Q)?Q.forEach(function(Y){ae(M,Y)}):ae(M,Q)}})}}),a?u&&(_&&(_="@layer ".concat(u.name," {").concat(_,"}")),u.dependencies&&(E["@layer ".concat(u.name)]=u.dependencies.map(function(y){return"@layer ".concat(y,", ").concat(u.name,";")}).join(`
`))):_="{".concat(_,"}"),[_,E]};function HU(n,e){return Jb("".concat(n.join("%")).concat(e))}function Sj(){return null}var GU="style";function kR(n,e){var t=n.token,r=n.path,a=n.hashId,o=n.layer,l=n.nonce,s=n.clientOnly,u=n.order,f=u===void 0?0:u,m=w.useContext(CS),b=m.autoClear;m.mock;var _=m.defaultCache,E=m.hashPriority,c=m.container,p=m.ssrInline,g=m.transformers,y=m.linters,C=m.cache,T=m.layer,M=t._tokenKey,O=[M];T&&O.push("layer"),O.push.apply(O,Jt(r));var B=FR,D=MO(GU,O,function(){var J=O.join("|");if(mj(J)){var W=gj(J),Q=vt(W,2),ae=Q[0],Y=Q[1];if(ae)return[ae,M,Y,{},s,f]}var K=e(),ee=bj(K,{hashId:a,hashPriority:E,layer:T?o:void 0,path:r.join("-"),transformers:g,linters:y}),de=vt(ee,2),q=de[0],ie=de[1],he=LC(q),fe=HU(O,he);return[he,M,fe,ie,s,f]},function(J,W){var Q=vt(J,3),ae=Q[2];(W||b)&&FR&&Xb(ae,{mark:Hc})},function(J){var W=vt(J,4),Q=W[0];W[1];var ae=W[2],Y=W[3];if(B&&Q!==zU){var K={mark:Hc,prepend:T?!1:"queue",attachTo:c,priority:f},ee=typeof l=="function"?l():l;ee&&(K.csp={nonce:ee});var de=[],q=[];Object.keys(Y).forEach(function(he){he.startsWith("@layer")?de.push(he):q.push(he)}),de.forEach(function(he){lf(LC(Y[he]),"_layer-".concat(he),Ne(Ne({},K),{},{prepend:!0}))});var ie=lf(Q,ae,K);ie[Oh]=C.instanceId,ie.setAttribute(s0,M),q.forEach(function(he){lf(LC(Y[he]),"_effect-".concat(he),K)})}}),F=vt(D,3),z=F[0],U=F[1],$=F[2];return function(J){var W;if(!p||B||!_)W=w.createElement(Sj,null);else{var Q;W=w.createElement("style",Pt({},(Q={},ue(Q,s0,U),ue(Q,Hc,$),Q),{dangerouslySetInnerHTML:{__html:z}}))}return w.createElement(w.Fragment,null,W,J)}}var _j=function(e,t,r){var a=vt(e,6),o=a[0],l=a[1],s=a[2],u=a[3],f=a[4],m=a[5],b=r||{},_=b.plain;if(f)return null;var E=o,c={"data-rc-order":"prependQueue","data-rc-priority":"".concat(m)};return E=L1(o,l,s,c,_),u&&Object.keys(u).forEach(function(p){if(!t[p]){t[p]=!0;var g=LC(u[p]),y=L1(g,l,"_effect-".concat(p),c,_);p.startsWith("@layer")?E=y+E:E+=y}}),[m,s,E]},kU="cssVar",xj=function(e,t){var r=e.key,a=e.prefix,o=e.unitless,l=e.ignore,s=e.token,u=e.scope,f=u===void 0?"":u,m=w.useContext(CS),b=m.cache.instanceId,_=m.container,E=s._tokenKey,c=[].concat(Jt(e.path),[r,f,E]),p=MO(kU,c,function(){var g=t(),y=RU(g,r,{prefix:a,unitless:o,ignore:l,scope:f}),C=vt(y,2),T=C[0],M=C[1],O=HU(c,M);return[T,M,O,r]},function(g){var y=vt(g,3),C=y[2];FR&&Xb(C,{mark:Hc})},function(g){var y=vt(g,3),C=y[1],T=y[2];if(C){var M=lf(C,T,{mark:Hc,prepend:"queue",attachTo:_,priority:-999});M[Oh]=b,M.setAttribute(s0,r)}});return p},Cj=function(e,t,r){var a=vt(e,4),o=a[1],l=a[2],s=a[3],u=r||{},f=u.plain;if(!o)return null;var m=-999,b={"data-rc-order":"prependQueue","data-rc-priority":"".concat(m)},_=L1(o,s,l,b,f);return[m,l,_]},Fy;Fy={},ue(Fy,GU,_j),ue(Fy,OU,q9),ue(Fy,kU,Cj);var rr=function(){function n(e,t){ai(this,n),ue(this,"name",void 0),ue(this,"style",void 0),ue(this,"_keyframe",!0),this.name=e,this.style=t}return oi(n,[{key:"getName",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return t?"".concat(t,"-").concat(this.name):this.name}}]),n}();function Ug(n){return n.notSplit=!0,n}Ug(["borderTop","borderBottom"]),Ug(["borderTop"]),Ug(["borderBottom"]),Ug(["borderLeft","borderRight"]),Ug(["borderLeft"]),Ug(["borderRight"]);function Ej(n){return Jz(n)||EU(n)||bO(n)||Qz()}function Wu(n,e){for(var t=n,r=0;r<e.length;r+=1){if(t==null)return;t=t[e[r]]}return t}function $U(n,e,t,r){if(!e.length)return t;var a=Ej(e),o=a[0],l=a.slice(1),s;return!n&&typeof o=="number"?s=[]:Array.isArray(n)?s=Jt(n):s=Ne({},n),r&&t===void 0&&l.length===1?delete s[o][l[0]]:s[o]=$U(s[o],l,t,r),s}function Bc(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.length&&r&&t===void 0&&!Wu(n,e.slice(0,-1))?n:$U(n,e,t,r)}function wj(n){return mn(n)==="object"&&n!==null&&Object.getPrototypeOf(n)===Object.prototype}function kD(n){return Array.isArray(n)?[]:{}}var Aj=typeof Reflect>"u"?Object.keys:Reflect.ownKeys;function Dv(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var r=kD(e[0]);return e.forEach(function(a){function o(l,s){var u=new Set(s),f=Wu(a,l),m=Array.isArray(f);if(m||wj(f)){if(!u.has(f)){u.add(f);var b=Wu(r,l);m?r=Bc(r,l,[]):(!b||mn(b)!=="object")&&(r=Bc(r,l,kD(f))),Aj(f).forEach(function(_){o([].concat(Jt(l),[_]),u)})}}else r=Bc(r,l,f)}o([])}),r}function Mj(){}const Tj=w.createContext({}),OO=()=>{const n=()=>{};return n.deprecated=Mj,n},Rj=w.createContext(void 0);var Oj={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},Ij={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0},Bj=Ne(Ne({},Ij),{},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",week:"Week",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",dateFormat:"M/D/YYYY",dateTimeFormat:"M/D/YYYY HH:mm:ss",previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"});const VU={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},$D={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},Bj),timePickerLocale:Object.assign({},VU)},Xs="${label} is not a valid ${type}",Fh={locale:"en",Pagination:Oj,DatePicker:$D,TimePicker:VU,Calendar:$D,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckAll:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Xs,method:Xs,array:Xs,object:Xs,number:Xs,date:Xs,boolean:Xs,integer:Xs,float:Xs,regexp:Xs,email:Xs,url:Xs,hex:Xs},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty",transparent:"Transparent",singleColor:"Single",gradientColor:"Gradient"}};let NC=Object.assign({},Fh.Modal),zC=[];const VD=()=>zC.reduce((n,e)=>Object.assign(Object.assign({},n),e),Fh.Modal);function Dj(n){if(n){const e=Object.assign({},n);return zC.push(e),NC=VD(),()=>{zC=zC.filter(t=>t!==e),NC=VD()}}NC=Object.assign({},Fh.Modal)}function jU(){return NC}const IO=w.createContext(void 0),ES=(n,e)=>{const t=w.useContext(IO),r=w.useMemo(()=>{var o;const l=e||Fh[n],s=(o=t==null?void 0:t[n])!==null&&o!==void 0?o:{};return Object.assign(Object.assign({},typeof l=="function"?l():l),s||{})},[n,e,t]),a=w.useMemo(()=>{const o=t==null?void 0:t.locale;return t!=null&&t.exist&&!o?Fh.locale:o},[t]);return[r,a]},Pj="internalMark",Lj=n=>{const{locale:e={},children:t,_ANT_MARK__:r}=n;w.useEffect(()=>Dj(e==null?void 0:e.Modal),[e]);const a=w.useMemo(()=>Object.assign(Object.assign({},e),{exist:!0}),[e]);return w.createElement(IO.Provider,{value:a},t)},WU={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},Zb=Object.assign(Object.assign({},WU),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0});function Nj(n,e){let{generateColorPalettes:t,generateNeutralColorPalettes:r}=e;const{colorSuccess:a,colorWarning:o,colorError:l,colorInfo:s,colorPrimary:u,colorBgBase:f,colorTextBase:m}=n,b=t(u),_=t(a),E=t(o),c=t(l),p=t(s),g=r(f,m),y=n.colorLink||n.colorInfo,C=t(y),T=new Bi(c[1]).mix(new Bi(c[3]),50).toHexString();return Object.assign(Object.assign({},g),{colorPrimaryBg:b[1],colorPrimaryBgHover:b[2],colorPrimaryBorder:b[3],colorPrimaryBorderHover:b[4],colorPrimaryHover:b[5],colorPrimary:b[6],colorPrimaryActive:b[7],colorPrimaryTextHover:b[8],colorPrimaryText:b[9],colorPrimaryTextActive:b[10],colorSuccessBg:_[1],colorSuccessBgHover:_[2],colorSuccessBorder:_[3],colorSuccessBorderHover:_[4],colorSuccessHover:_[4],colorSuccess:_[6],colorSuccessActive:_[7],colorSuccessTextHover:_[8],colorSuccessText:_[9],colorSuccessTextActive:_[10],colorErrorBg:c[1],colorErrorBgHover:c[2],colorErrorBgFilledHover:T,colorErrorBgActive:c[3],colorErrorBorder:c[3],colorErrorBorderHover:c[4],colorErrorHover:c[5],colorError:c[6],colorErrorActive:c[7],colorErrorTextHover:c[8],colorErrorText:c[9],colorErrorTextActive:c[10],colorWarningBg:E[1],colorWarningBgHover:E[2],colorWarningBorder:E[3],colorWarningBorderHover:E[4],colorWarningHover:E[4],colorWarning:E[6],colorWarningActive:E[7],colorWarningTextHover:E[8],colorWarningText:E[9],colorWarningTextActive:E[10],colorInfoBg:p[1],colorInfoBgHover:p[2],colorInfoBorder:p[3],colorInfoBorderHover:p[4],colorInfoHover:p[4],colorInfo:p[6],colorInfoActive:p[7],colorInfoTextHover:p[8],colorInfoText:p[9],colorInfoTextActive:p[10],colorLinkHover:C[4],colorLink:C[6],colorLinkActive:C[7],colorBgMask:new Bi("#000").setA(.45).toRgbString(),colorWhite:"#fff"})}const zj=n=>{let e=n,t=n,r=n,a=n;return n<6&&n>=5?e=n+1:n<16&&n>=6?e=n+2:n>=16&&(e=16),n<7&&n>=5?t=4:n<8&&n>=7?t=5:n<14&&n>=8?t=6:n<16&&n>=14?t=7:n>=16&&(t=8),n<6&&n>=2?r=1:n>=6&&(r=2),n>4&&n<8?a=4:n>=8&&(a=6),{borderRadius:n,borderRadiusXS:r,borderRadiusSM:t,borderRadiusLG:e,borderRadiusOuter:a}};function Uj(n){const{motionUnit:e,motionBase:t,borderRadius:r,lineWidth:a}=n;return Object.assign({motionDurationFast:`${(t+e).toFixed(1)}s`,motionDurationMid:`${(t+e*2).toFixed(1)}s`,motionDurationSlow:`${(t+e*3).toFixed(1)}s`,lineWidthBold:a+1},zj(r))}const Fj=n=>{const{controlHeight:e}=n;return{controlHeightSM:e*.75,controlHeightXS:e*.5,controlHeightLG:e*1.25}};function UC(n){return(n+8)/n}function Hj(n){const e=Array.from({length:10}).map((t,r)=>{const a=r-1,o=n*Math.pow(Math.E,a/5),l=r>1?Math.floor(o):Math.ceil(o);return Math.floor(l/2)*2});return e[1]=n,e.map(t=>({size:t,lineHeight:UC(t)}))}const Gj=n=>{const e=Hj(n),t=e.map(m=>m.size),r=e.map(m=>m.lineHeight),a=t[1],o=t[0],l=t[2],s=r[1],u=r[0],f=r[2];return{fontSizeSM:o,fontSize:a,fontSizeLG:l,fontSizeXL:t[3],fontSizeHeading1:t[6],fontSizeHeading2:t[5],fontSizeHeading3:t[4],fontSizeHeading4:t[3],fontSizeHeading5:t[2],lineHeight:s,lineHeightLG:f,lineHeightSM:u,fontHeight:Math.round(s*a),fontHeightLG:Math.round(f*l),fontHeightSM:Math.round(u*o),lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}};function kj(n){const{sizeUnit:e,sizeStep:t}=n;return{sizeXXL:e*(t+8),sizeXL:e*(t+4),sizeLG:e*(t+2),sizeMD:e*(t+1),sizeMS:e*t,size:e*t,sizeSM:e*(t-1),sizeXS:e*(t-2),sizeXXS:e*(t-3)}}const Il=(n,e)=>new Bi(n).setA(e).toRgbString(),Hy=(n,e)=>new Bi(n).darken(e).toHexString(),$j=n=>{const e=Wb(n);return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[4],6:e[5],7:e[6],8:e[4],9:e[5],10:e[6]}},Vj=(n,e)=>{const t=n||"#fff",r=e||"#000";return{colorBgBase:t,colorTextBase:r,colorText:Il(r,.88),colorTextSecondary:Il(r,.65),colorTextTertiary:Il(r,.45),colorTextQuaternary:Il(r,.25),colorFill:Il(r,.15),colorFillSecondary:Il(r,.06),colorFillTertiary:Il(r,.04),colorFillQuaternary:Il(r,.02),colorBgSolid:Il(r,1),colorBgSolidHover:Il(r,.75),colorBgSolidActive:Il(r,.95),colorBgLayout:Hy(t,4),colorBgContainer:Hy(t,0),colorBgElevated:Hy(t,0),colorBgSpotlight:Il(r,.85),colorBgBlur:"transparent",colorBorder:Hy(t,15),colorBorderSecondary:Hy(t,6)}};function jj(n){Yv.pink=Yv.magenta,fM.pink=fM.magenta;const e=Object.keys(WU).map(t=>{const r=n[t]===Yv[t]?fM[t]:Wb(n[t]);return Array.from({length:10},()=>1).reduce((a,o,l)=>(a[`${t}-${l+1}`]=r[l],a[`${t}${l+1}`]=r[l],a),{})}).reduce((t,r)=>(t=Object.assign(Object.assign({},t),r),t),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n),e),Nj(n,{generateColorPalettes:$j,generateNeutralColorPalettes:Vj})),Gj(n.fontSize)),kj(n)),Fj(n)),Uj(n))}const XU=UR(jj),$R={token:Zb,override:{override:Zb},hashed:!0},YU=Xe.createContext($R),eS="ant",uw="anticon",Wj=["outlined","borderless","filled","underlined"],Xj=(n,e)=>e||(n?`${eS}-${n}`:eS),Hn=w.createContext({getPrefixCls:Xj,iconPrefixCls:uw}),{Consumer:Eye}=Hn,jD={};function ad(n){const e=w.useContext(Hn),{getPrefixCls:t,direction:r,getPopupContainer:a}=e,o=e[n];return Object.assign(Object.assign({classNames:jD,styles:jD},o),{getPrefixCls:t,direction:r,getPopupContainer:a})}const Yj=`-ant-${Date.now()}-${Math.random()}`;function qj(n,e){const t={},r=(l,s)=>{let u=l.clone();return u=(s==null?void 0:s(u))||u,u.toRgbString()},a=(l,s)=>{const u=new Bi(l),f=Wb(u.toRgbString());t[`${s}-color`]=r(u),t[`${s}-color-disabled`]=f[1],t[`${s}-color-hover`]=f[4],t[`${s}-color-active`]=f[6],t[`${s}-color-outline`]=u.clone().setA(.2).toRgbString(),t[`${s}-color-deprecated-bg`]=f[0],t[`${s}-color-deprecated-border`]=f[2]};if(e.primaryColor){a(e.primaryColor,"primary");const l=new Bi(e.primaryColor),s=Wb(l.toRgbString());s.forEach((f,m)=>{t[`primary-${m+1}`]=f}),t["primary-color-deprecated-l-35"]=r(l,f=>f.lighten(35)),t["primary-color-deprecated-l-20"]=r(l,f=>f.lighten(20)),t["primary-color-deprecated-t-20"]=r(l,f=>f.tint(20)),t["primary-color-deprecated-t-50"]=r(l,f=>f.tint(50)),t["primary-color-deprecated-f-12"]=r(l,f=>f.setA(f.a*.12));const u=new Bi(s[0]);t["primary-color-active-deprecated-f-30"]=r(u,f=>f.setA(f.a*.3)),t["primary-color-active-deprecated-d-02"]=r(u,f=>f.darken(2))}return e.successColor&&a(e.successColor,"success"),e.warningColor&&a(e.warningColor,"warning"),e.errorColor&&a(e.errorColor,"error"),e.infoColor&&a(e.infoColor,"info"),`
  :root {
    ${Object.keys(t).map(l=>`--${n}-${l}: ${t[l]};`).join(`
`)}
  }
  `.trim()}function Kj(n,e){const t=qj(n,e);us()&&lf(t,`${Yj}-dynamic-theme`)}const Zu=w.createContext(!1),qU=n=>{let{children:e,disabled:t}=n;const r=w.useContext(Zu);return w.createElement(Zu.Provider,{value:t??r},e)},u0=w.createContext(void 0),Jj=n=>{let{children:e,size:t}=n;const r=w.useContext(u0);return w.createElement(u0.Provider,{value:t||r},e)};function Qj(){const n=w.useContext(Zu),e=w.useContext(u0);return{componentDisabled:n,componentSize:e}}var KU=oi(function n(){ai(this,n)}),JU="CALC_UNIT",Zj=new RegExp(JU,"g");function yM(n){return typeof n=="number"?"".concat(n).concat(JU):n}var e7=function(n){Ar(t,n);var e=Wc(t);function t(r,a){var o;ai(this,t),o=e.call(this),ue(Dn(o),"result",""),ue(Dn(o),"unitlessCssVar",void 0),ue(Dn(o),"lowPriority",void 0);var l=mn(r);return o.unitlessCssVar=a,r instanceof t?o.result="(".concat(r.result,")"):l==="number"?o.result=yM(r):l==="string"&&(o.result=r),o}return oi(t,[{key:"add",value:function(a){return a instanceof t?this.result="".concat(this.result," + ").concat(a.getResult()):(typeof a=="number"||typeof a=="string")&&(this.result="".concat(this.result," + ").concat(yM(a))),this.lowPriority=!0,this}},{key:"sub",value:function(a){return a instanceof t?this.result="".concat(this.result," - ").concat(a.getResult()):(typeof a=="number"||typeof a=="string")&&(this.result="".concat(this.result," - ").concat(yM(a))),this.lowPriority=!0,this}},{key:"mul",value:function(a){return this.lowPriority&&(this.result="(".concat(this.result,")")),a instanceof t?this.result="".concat(this.result," * ").concat(a.getResult(!0)):(typeof a=="number"||typeof a=="string")&&(this.result="".concat(this.result," * ").concat(a)),this.lowPriority=!1,this}},{key:"div",value:function(a){return this.lowPriority&&(this.result="(".concat(this.result,")")),a instanceof t?this.result="".concat(this.result," / ").concat(a.getResult(!0)):(typeof a=="number"||typeof a=="string")&&(this.result="".concat(this.result," / ").concat(a)),this.lowPriority=!1,this}},{key:"getResult",value:function(a){return this.lowPriority||a?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(a){var o=this,l=a||{},s=l.unit,u=!0;return typeof s=="boolean"?u=s:Array.from(this.unitlessCssVar).some(function(f){return o.result.includes(f)})&&(u=!1),this.result=this.result.replace(Zj,u?"px":""),typeof this.lowPriority<"u"?"calc(".concat(this.result,")"):this.result}}]),t}(KU),t7=function(n){Ar(t,n);var e=Wc(t);function t(r){var a;return ai(this,t),a=e.call(this),ue(Dn(a),"result",0),r instanceof t?a.result=r.result:typeof r=="number"&&(a.result=r),a}return oi(t,[{key:"add",value:function(a){return a instanceof t?this.result+=a.result:typeof a=="number"&&(this.result+=a),this}},{key:"sub",value:function(a){return a instanceof t?this.result-=a.result:typeof a=="number"&&(this.result-=a),this}},{key:"mul",value:function(a){return a instanceof t?this.result*=a.result:typeof a=="number"&&(this.result*=a),this}},{key:"div",value:function(a){return a instanceof t?this.result/=a.result:typeof a=="number"&&(this.result/=a),this}},{key:"equal",value:function(){return this.result}}]),t}(KU),n7=function(e,t){var r=e==="css"?e7:t7;return function(a){return new r(a,t)}},WD=function(e,t){return"".concat([t,e.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))};function Qa(n){var e=w.useRef();e.current=n;var t=w.useCallback(function(){for(var r,a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(r=e.current)===null||r===void 0?void 0:r.call.apply(r,[e].concat(o))},[]);return t}function d0(n){var e=w.useRef(!1),t=w.useState(n),r=vt(t,2),a=r[0],o=r[1];w.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]);function l(s,u){u&&e.current||o(s)}return[a,l]}function bM(n){return n!==void 0}function mo(n,e){var t=e||{},r=t.defaultValue,a=t.value,o=t.onChange,l=t.postState,s=d0(function(){return bM(a)?a:bM(r)?typeof r=="function"?r():r:typeof n=="function"?n():n}),u=vt(s,2),f=u[0],m=u[1],b=a!==void 0?a:f,_=l?l(b):b,E=Qa(o),c=d0([b]),p=vt(c,2),g=p[0],y=p[1];ND(function(){var T=g[0];f!==T&&E(f,T)},[g]),ND(function(){bM(a)||m(a)},[a]);var C=Qa(function(T,M){m(T,M),y([b],M)});return[_,C]}function XD(n,e,t,r){var a=Ne({},e[n]);if(r!=null&&r.deprecatedTokens){var o=r.deprecatedTokens;o.forEach(function(s){var u=vt(s,2),f=u[0],m=u[1];if(a!=null&&a[f]||a!=null&&a[m]){var b;(b=a[m])!==null&&b!==void 0||(a[m]=a==null?void 0:a[f])}})}var l=Ne(Ne({},t),a);return Object.keys(l).forEach(function(s){l[s]===e[s]&&delete l[s]}),l}var QU=typeof CSSINJS_STATISTIC<"u",VR=!0;function qi(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];if(!QU)return Object.assign.apply(Object,[{}].concat(e));VR=!1;var r={};return e.forEach(function(a){if(mn(a)==="object"){var o=Object.keys(a);o.forEach(function(l){Object.defineProperty(r,l,{configurable:!0,enumerable:!0,get:function(){return a[l]}})})}}),VR=!0,r}var YD={};function i7(){}var r7=function(e){var t,r=e,a=i7;return QU&&typeof Proxy<"u"&&(t=new Set,r=new Proxy(e,{get:function(l,s){if(VR){var u;(u=t)===null||u===void 0||u.add(s)}return l[s]}}),a=function(l,s){var u;YD[l]={global:Array.from(t),component:Ne(Ne({},(u=YD[l])===null||u===void 0?void 0:u.component),s)}}),{token:r,keys:t,flush:a}};function qD(n,e,t){if(typeof t=="function"){var r;return t(qi(e,(r=e[n])!==null&&r!==void 0?r:{}))}return t??{}}function a7(n){return n==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return"max(".concat(r.map(function(o){return Mt(o)}).join(","),")")},min:function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return"min(".concat(r.map(function(o){return Mt(o)}).join(","),")")}}}var o7=1e3*60*10,s7=function(){function n(){ai(this,n),ue(this,"map",new Map),ue(this,"objectIDMap",new WeakMap),ue(this,"nextID",0),ue(this,"lastAccessBeat",new Map),ue(this,"accessBeat",0)}return oi(n,[{key:"set",value:function(t,r){this.clear();var a=this.getCompositeKey(t);this.map.set(a,r),this.lastAccessBeat.set(a,Date.now())}},{key:"get",value:function(t){var r=this.getCompositeKey(t),a=this.map.get(r);return this.lastAccessBeat.set(r,Date.now()),this.accessBeat+=1,a}},{key:"getCompositeKey",value:function(t){var r=this,a=t.map(function(o){return o&&mn(o)==="object"?"obj_".concat(r.getObjectID(o)):"".concat(mn(o),"_").concat(o)});return a.join("|")}},{key:"getObjectID",value:function(t){if(this.objectIDMap.has(t))return this.objectIDMap.get(t);var r=this.nextID;return this.objectIDMap.set(t,r),this.nextID+=1,r}},{key:"clear",value:function(){var t=this;if(this.accessBeat>1e4){var r=Date.now();this.lastAccessBeat.forEach(function(a,o){r-a>o7&&(t.map.delete(o),t.lastAccessBeat.delete(o))}),this.accessBeat=0}}}]),n}(),KD=new s7;function l7(n,e){return Xe.useMemo(function(){var t=KD.get(e);if(t)return t;var r=n();return KD.set(e,r),r},e)}var c7=function(){return{}};function u7(n){var e=n.useCSP,t=e===void 0?c7:e,r=n.useToken,a=n.usePrefix,o=n.getResetStyles,l=n.getCommonStyle,s=n.getCompUnitless;function u(_,E,c,p){var g=Array.isArray(_)?_[0]:_;function y(F){return"".concat(String(g)).concat(F.slice(0,1).toUpperCase()).concat(F.slice(1))}var C=(p==null?void 0:p.unitless)||{},T=typeof s=="function"?s(_):{},M=Ne(Ne({},T),{},ue({},y("zIndexPopup"),!0));Object.keys(C).forEach(function(F){M[y(F)]=C[F]});var O=Ne(Ne({},p),{},{unitless:M,prefixToken:y}),B=m(_,E,c,O),D=f(g,c,O);return function(F){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:F,U=B(F,z),$=vt(U,2),J=$[1],W=D(z),Q=vt(W,2),ae=Q[0],Y=Q[1];return[ae,J,Y]}}function f(_,E,c){var p=c.unitless,g=c.injectStyle,y=g===void 0?!0:g,C=c.prefixToken,T=c.ignore,M=function(D){var F=D.rootCls,z=D.cssVar,U=z===void 0?{}:z,$=r(),J=$.realToken;return xj({path:[_],prefix:U.prefix,key:U.key,unitless:p,ignore:T,token:J,scope:F},function(){var W=qD(_,J,E),Q=XD(_,J,W,{deprecatedTokens:c==null?void 0:c.deprecatedTokens});return Object.keys(W).forEach(function(ae){Q[C(ae)]=Q[ae],delete Q[ae]}),Q}),null},O=function(D){var F=r(),z=F.cssVar;return[function(U){return y&&z?Xe.createElement(Xe.Fragment,null,Xe.createElement(M,{rootCls:D,cssVar:z,component:_}),U):U},z==null?void 0:z.key]};return O}function m(_,E,c){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},g=Array.isArray(_)?_:[_,_],y=vt(g,1),C=y[0],T=g.join("-"),M=n.layer||{name:"antd"};return function(O){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:O,D=r(),F=D.theme,z=D.realToken,U=D.hashId,$=D.token,J=D.cssVar,W=a(),Q=W.rootPrefixCls,ae=W.iconPrefixCls,Y=t(),K=J?"css":"js",ee=l7(function(){var Z=new Set;return J&&Object.keys(p.unitless||{}).forEach(function(pe){Z.add(IC(pe,J.prefix)),Z.add(IC(pe,WD(C,J.prefix)))}),n7(K,Z)},[K,C,J==null?void 0:J.prefix]),de=a7(K),q=de.max,ie=de.min,he={theme:F,token:$,hashId:U,nonce:function(){return Y.nonce},clientOnly:p.clientOnly,layer:M,order:p.order||-999};typeof o=="function"&&kR(Ne(Ne({},he),{},{clientOnly:!1,path:["Shared",Q]}),function(){return o($,{prefix:{rootPrefixCls:Q,iconPrefixCls:ae},csp:Y})});var fe=kR(Ne(Ne({},he),{},{path:[T,O,ae]}),function(){if(p.injectStyle===!1)return[];var Z=r7($),pe=Z.token,xe=Z.flush,Oe=qD(C,z,c),Ae=".".concat(O),Te=XD(C,z,Oe,{deprecatedTokens:p.deprecatedTokens});J&&Oe&&mn(Oe)==="object"&&Object.keys(Oe).forEach(function(Ce){Oe[Ce]="var(".concat(IC(Ce,WD(C,J.prefix)),")")});var ze=qi(pe,{componentCls:Ae,prefixCls:O,iconCls:".".concat(ae),antCls:".".concat(Q),calc:ee,max:q,min:ie},J?Oe:Te),yt=E(ze,{hashId:U,prefixCls:O,rootPrefixCls:Q,iconPrefixCls:ae});xe(C,Te);var Be=typeof l=="function"?l(ze,O,B,p.resetFont):null;return[p.resetStyle===!1?null:Be,yt]});return[fe,U]}}function b(_,E,c){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},g=m(_,E,c,Ne({resetStyle:!1,order:-998},p)),y=function(T){var M=T.prefixCls,O=T.rootCls,B=O===void 0?M:O;return g(M,B),null};return y}return{genStyleHooks:u,genSubStyleComponent:b,genComponentStyleHook:m}}const Hh=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"],d7="5.24.3";function SM(n){return n>=0&&n<=255}function lb(n,e){const{r:t,g:r,b:a,a:o}=new Bi(n).toRgb();if(o<1)return n;const{r:l,g:s,b:u}=new Bi(e).toRgb();for(let f=.01;f<=1;f+=.01){const m=Math.round((t-l*(1-f))/f),b=Math.round((r-s*(1-f))/f),_=Math.round((a-u*(1-f))/f);if(SM(m)&&SM(b)&&SM(_))return new Bi({r:m,g:b,b:_,a:Math.round(f*100)/100}).toRgbString()}return new Bi({r:t,g:r,b:a,a:1}).toRgbString()}var f7=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};function ZU(n){const{override:e}=n,t=f7(n,["override"]),r=Object.assign({},e);Object.keys(Zb).forEach(_=>{delete r[_]});const a=Object.assign(Object.assign({},t),r),o=480,l=576,s=768,u=992,f=1200,m=1600;if(a.motion===!1){const _="0s";a.motionDurationFast=_,a.motionDurationMid=_,a.motionDurationSlow=_}return Object.assign(Object.assign(Object.assign({},a),{colorFillContent:a.colorFillSecondary,colorFillContentHover:a.colorFill,colorFillAlter:a.colorFillQuaternary,colorBgContainerDisabled:a.colorFillTertiary,colorBorderBg:a.colorBgContainer,colorSplit:lb(a.colorBorderSecondary,a.colorBgContainer),colorTextPlaceholder:a.colorTextQuaternary,colorTextDisabled:a.colorTextQuaternary,colorTextHeading:a.colorText,colorTextLabel:a.colorTextSecondary,colorTextDescription:a.colorTextTertiary,colorTextLightSolid:a.colorWhite,colorHighlight:a.colorError,colorBgTextHover:a.colorFillSecondary,colorBgTextActive:a.colorFill,colorIcon:a.colorTextTertiary,colorIconHover:a.colorText,colorErrorOutline:lb(a.colorErrorBg,a.colorBgContainer),colorWarningOutline:lb(a.colorWarningBg,a.colorBgContainer),fontSizeIcon:a.fontSizeSM,lineWidthFocus:a.lineWidth*3,lineWidth:a.lineWidth,controlOutlineWidth:a.lineWidth*2,controlInteractiveSize:a.controlHeight/2,controlItemBgHover:a.colorFillTertiary,controlItemBgActive:a.colorPrimaryBg,controlItemBgActiveHover:a.colorPrimaryBgHover,controlItemBgActiveDisabled:a.colorFill,controlTmpOutline:a.colorFillQuaternary,controlOutline:lb(a.colorPrimaryBg,a.colorBgContainer),lineType:a.lineType,borderRadius:a.borderRadius,borderRadiusXS:a.borderRadiusXS,borderRadiusSM:a.borderRadiusSM,borderRadiusLG:a.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:a.sizeXXS,paddingXS:a.sizeXS,paddingSM:a.sizeSM,padding:a.size,paddingMD:a.sizeMD,paddingLG:a.sizeLG,paddingXL:a.sizeXL,paddingContentHorizontalLG:a.sizeLG,paddingContentVerticalLG:a.sizeMS,paddingContentHorizontal:a.sizeMS,paddingContentVertical:a.sizeSM,paddingContentHorizontalSM:a.size,paddingContentVerticalSM:a.sizeXS,marginXXS:a.sizeXXS,marginXS:a.sizeXS,marginSM:a.sizeSM,margin:a.size,marginMD:a.sizeMD,marginLG:a.sizeLG,marginXL:a.sizeXL,marginXXL:a.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:o,screenXSMin:o,screenXSMax:l-1,screenSM:l,screenSMMin:l,screenSMMax:s-1,screenMD:s,screenMDMin:s,screenMDMax:u-1,screenLG:u,screenLGMin:u,screenLGMax:f-1,screenXL:f,screenXLMin:f,screenXLMax:m-1,screenXXL:m,screenXXLMin:m,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new Bi("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new Bi("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new Bi("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}var JD=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const eF={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},h7={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},p7={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},tF=(n,e,t)=>{const r=t.getDerivativeToken(n),{override:a}=e,o=JD(e,["override"]);let l=Object.assign(Object.assign({},r),{override:a});return l=ZU(l),o&&Object.entries(o).forEach(s=>{let[u,f]=s;const{theme:m}=f,b=JD(f,["theme"]);let _=b;m&&(_=tF(Object.assign(Object.assign({},l),b),{override:b},m)),l[u]=_}),l};function od(){const{token:n,hashed:e,theme:t,override:r,cssVar:a}=Xe.useContext(YU),o=`${d7}-${e||""}`,l=t||XU,[s,u,f]=Y9(l,[Zb,n],{salt:o,override:r,getComputedToken:tF,formatToken:ZU,cssVar:a&&{prefix:a.prefix,key:a.key,unitless:eF,ignore:h7,preserve:p7}});return[l,f,e?u:"",s,a]}const dw={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},Fo=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{boxSizing:"border-box",margin:0,padding:0,color:n.colorText,fontSize:n.fontSize,lineHeight:n.lineHeight,listStyle:"none",fontFamily:e?"inherit":n.fontFamily}},BO=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),f0=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),m7=n=>({a:{color:n.colorLink,textDecoration:n.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${n.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:n.colorLinkHover},"&:active":{color:n.colorLinkActive},"&:active, &:hover":{textDecoration:n.linkHoverDecoration,outline:0},"&:focus":{textDecoration:n.linkFocusDecoration,outline:0},"&[disabled]":{color:n.colorTextDisabled,cursor:"not-allowed"}}}),g7=(n,e,t,r)=>{const a=`[class^="${e}"], [class*=" ${e}"]`,o=t?`.${t}`:a,l={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let s={};return r!==!1&&(s={fontFamily:n.fontFamily,fontSize:n.fontSize}),{[o]:Object.assign(Object.assign(Object.assign({},s),l),{[a]:l})}},fw=(n,e)=>({outline:`${Mt(n.lineWidthFocus)} solid ${n.colorPrimaryBorder}`,outlineOffset:e??1,transition:"outline-offset 0s, outline 0s"}),DO=(n,e)=>({"&:focus-visible":Object.assign({},fw(n,e))}),nF=n=>({[`.${n}`]:Object.assign(Object.assign({},BO()),{[`.${n} .${n}-icon`]:{display:"block"}})}),{genStyleHooks:Nr,genComponentStyleHook:v7,genSubStyleComponent:hw}=u7({usePrefix:()=>{const{getPrefixCls:n,iconPrefixCls:e}=w.useContext(Hn);return{rootPrefixCls:n(),iconPrefixCls:e}},useToken:()=>{const[n,e,t,r,a]=od();return{theme:n,realToken:e,hashId:t,token:r,cssVar:a}},useCSP:()=>{const{csp:n}=w.useContext(Hn);return n??{}},getResetStyles:(n,e)=>{var t;const r=m7(n);return[r,{"&":r},nF((t=e==null?void 0:e.prefix.iconPrefixCls)!==null&&t!==void 0?t:uw)]},getCommonStyle:g7,getCompUnitless:()=>eF});function iF(n,e){return Hh.reduce((t,r)=>{const a=n[`${r}1`],o=n[`${r}3`],l=n[`${r}6`],s=n[`${r}7`];return Object.assign(Object.assign({},t),e(r,{lightColor:a,lightBorderColor:o,darkColor:l,textColor:s}))},{})}const y7=(n,e)=>{const[t,r]=od();return kR({token:r,hashId:"",path:["ant-design-icons",n],nonce:()=>e==null?void 0:e.nonce,layer:{name:"antd"}},()=>[nF(n)])},b7=Object.assign({},nw),{useId:QD}=b7,S7=()=>"",_7=typeof QD>"u"?S7:QD;function x7(n,e,t){var r;OO();const a=n||{},o=a.inherit===!1||!e?Object.assign(Object.assign({},$R),{hashed:(r=e==null?void 0:e.hashed)!==null&&r!==void 0?r:$R.hashed,cssVar:e==null?void 0:e.cssVar}):e,l=_7();return aw(()=>{var s,u;if(!n)return e;const f=Object.assign({},o.components);Object.keys(n.components||{}).forEach(_=>{f[_]=Object.assign(Object.assign({},f[_]),n.components[_])});const m=`css-var-${l.replace(/:/g,"")}`,b=((s=a.cssVar)!==null&&s!==void 0?s:o.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:t==null?void 0:t.prefixCls},typeof o.cssVar=="object"?o.cssVar:{}),typeof a.cssVar=="object"?a.cssVar:{}),{key:typeof a.cssVar=="object"&&((u=a.cssVar)===null||u===void 0?void 0:u.key)||m});return Object.assign(Object.assign(Object.assign({},o),a),{token:Object.assign(Object.assign({},o.token),a.token),components:f,cssVar:b})},[a,o],(s,u)=>s.some((f,m)=>{const b=u[m];return!o0(f,b,!0)}))}var C7=["children"],rF=w.createContext({});function E7(n){var e=n.children,t=kn(n,C7);return w.createElement(rF.Provider,{value:t},e)}var w7=function(n){Ar(t,n);var e=Wc(t);function t(){return ai(this,t),e.apply(this,arguments)}return oi(t,[{key:"render",value:function(){return this.props.children}}]),t}(w.Component);function A7(n){var e=w.useReducer(function(s){return s+1},0),t=vt(e,2),r=t[1],a=w.useRef(n),o=Qa(function(){return a.current}),l=Qa(function(s){a.current=typeof s=="function"?s(a.current):s,r()});return[o,l]}var yh="none",gx="appear",vx="enter",yx="leave",ZD="none",Dc="prepare",Pv="start",Lv="active",PO="end",aF="prepared";function eP(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit".concat(n)]="webkit".concat(e),t["Moz".concat(n)]="moz".concat(e),t["ms".concat(n)]="MS".concat(e),t["O".concat(n)]="o".concat(e.toLowerCase()),t}function M7(n,e){var t={animationend:eP("Animation","AnimationEnd"),transitionend:eP("Transition","TransitionEnd")};return n&&("AnimationEvent"in e||delete t.animationend.animation,"TransitionEvent"in e||delete t.transitionend.transition),t}var T7=M7(us(),typeof window<"u"?window:{}),oF={};if(us()){var R7=document.createElement("div");oF=R7.style}var bx={};function sF(n){if(bx[n])return bx[n];var e=T7[n];if(e)for(var t=Object.keys(e),r=t.length,a=0;a<r;a+=1){var o=t[a];if(Object.prototype.hasOwnProperty.call(e,o)&&o in oF)return bx[n]=e[o],bx[n]}return""}var lF=sF("animationend"),cF=sF("transitionend"),uF=!!(lF&&cF),tP=lF||"animationend",nP=cF||"transitionend";function iP(n,e){if(!n)return null;if(mn(n)==="object"){var t=e.replace(/-\w/g,function(r){return r[1].toUpperCase()});return n[t]}return"".concat(n,"-").concat(e)}const O7=function(n){var e=w.useRef();function t(a){a&&(a.removeEventListener(nP,n),a.removeEventListener(tP,n))}function r(a){e.current&&e.current!==a&&t(e.current),a&&a!==e.current&&(a.addEventListener(nP,n),a.addEventListener(tP,n),e.current=a)}return w.useEffect(function(){return function(){t(e.current)}},[]),[r,t]};var dF=us()?w.useLayoutEffect:w.useEffect;const I7=function(){var n=w.useRef(null);function e(){Da.cancel(n.current)}function t(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;e();var o=Da(function(){a<=1?r({isCanceled:function(){return o!==n.current}}):t(r,a-1)});n.current=o}return w.useEffect(function(){return function(){e()}},[]),[t,e]};var B7=[Dc,Pv,Lv,PO],D7=[Dc,aF],fF=!1,P7=!0;function hF(n){return n===Lv||n===PO}const L7=function(n,e,t){var r=d0(ZD),a=vt(r,2),o=a[0],l=a[1],s=I7(),u=vt(s,2),f=u[0],m=u[1];function b(){l(Dc,!0)}var _=e?D7:B7;return dF(function(){if(o!==ZD&&o!==PO){var E=_.indexOf(o),c=_[E+1],p=t(o);p===fF?l(c,!0):c&&f(function(g){function y(){g.isCanceled()||l(c,!0)}p===!0?y():Promise.resolve(p).then(y)})}},[n,o]),w.useEffect(function(){return function(){m()}},[]),[b,o]};function N7(n,e,t,r){var a=r.motionEnter,o=a===void 0?!0:a,l=r.motionAppear,s=l===void 0?!0:l,u=r.motionLeave,f=u===void 0?!0:u,m=r.motionDeadline,b=r.motionLeaveImmediately,_=r.onAppearPrepare,E=r.onEnterPrepare,c=r.onLeavePrepare,p=r.onAppearStart,g=r.onEnterStart,y=r.onLeaveStart,C=r.onAppearActive,T=r.onEnterActive,M=r.onLeaveActive,O=r.onAppearEnd,B=r.onEnterEnd,D=r.onLeaveEnd,F=r.onVisibleChanged,z=d0(),U=vt(z,2),$=U[0],J=U[1],W=A7(yh),Q=vt(W,2),ae=Q[0],Y=Q[1],K=d0(null),ee=vt(K,2),de=ee[0],q=ee[1],ie=ae(),he=w.useRef(!1),fe=w.useRef(null);function Z(){return t()}var pe=w.useRef(!1);function xe(){Y(yh),q(null,!0)}var Oe=Qa(function(ce){var oe=ae();if(oe!==yh){var we=Z();if(!(ce&&!ce.deadline&&ce.target!==we)){var De=pe.current,Ke;oe===gx&&De?Ke=O==null?void 0:O(we,ce):oe===vx&&De?Ke=B==null?void 0:B(we,ce):oe===yx&&De&&(Ke=D==null?void 0:D(we,ce)),De&&Ke!==!1&&xe()}}}),Ae=O7(Oe),Te=vt(Ae,1),ze=Te[0],yt=function(oe){switch(oe){case gx:return ue(ue(ue({},Dc,_),Pv,p),Lv,C);case vx:return ue(ue(ue({},Dc,E),Pv,g),Lv,T);case yx:return ue(ue(ue({},Dc,c),Pv,y),Lv,M);default:return{}}},Be=w.useMemo(function(){return yt(ie)},[ie]),Ce=L7(ie,!n,function(ce){if(ce===Dc){var oe=Be[Dc];return oe?oe(Z()):fF}if(Ie in Be){var we;q(((we=Be[Ie])===null||we===void 0?void 0:we.call(Be,Z(),null))||null)}return Ie===Lv&&ie!==yh&&(ze(Z()),m>0&&(clearTimeout(fe.current),fe.current=setTimeout(function(){Oe({deadline:!0})},m))),Ie===aF&&xe(),P7}),re=vt(Ce,2),Fe=re[0],Ie=re[1],qe=hF(Ie);pe.current=qe;var $e=w.useRef(null);dF(function(){if(!(he.current&&$e.current===e)){J(e);var ce=he.current;he.current=!0;var oe;!ce&&e&&s&&(oe=gx),ce&&e&&o&&(oe=vx),(ce&&!e&&f||!ce&&b&&!e&&f)&&(oe=yx);var we=yt(oe);oe&&(n||we[Dc])?(Y(oe),Fe()):Y(yh),$e.current=e}},[e]),w.useEffect(function(){(ie===gx&&!s||ie===vx&&!o||ie===yx&&!f)&&Y(yh)},[s,o,f]),w.useEffect(function(){return function(){he.current=!1,clearTimeout(fe.current)}},[]);var ct=w.useRef(!1);w.useEffect(function(){$&&(ct.current=!0),$!==void 0&&ie===yh&&((ct.current||$)&&(F==null||F($)),ct.current=!0)},[$,ie]);var st=de;return Be[Dc]&&Ie===Pv&&(st=Ne({transition:"none"},st)),[ie,Ie,st,$??e]}function z7(n){var e=n;mn(n)==="object"&&(e=n.transitionSupport);function t(a,o){return!!(a.motionName&&e&&o!==!1)}var r=w.forwardRef(function(a,o){var l=a.visible,s=l===void 0?!0:l,u=a.removeOnLeave,f=u===void 0?!0:u,m=a.forceRender,b=a.children,_=a.motionName,E=a.leavedClassName,c=a.eventProps,p=w.useContext(rF),g=p.motion,y=t(a,g),C=w.useRef(),T=w.useRef();function M(){try{return C.current instanceof HTMLElement?C.current:OC(T.current)}catch{return null}}var O=N7(y,s,M,a),B=vt(O,4),D=B[0],F=B[1],z=B[2],U=B[3],$=w.useRef(U);U&&($.current=!0);var J=w.useCallback(function(ee){C.current=ee,CO(o,ee)},[o]),W,Q=Ne(Ne({},c),{},{visible:s});if(!b)W=null;else if(D===yh)U?W=b(Ne({},Q),J):!f&&$.current&&E?W=b(Ne(Ne({},Q),{},{className:E}),J):m||!f&&!E?W=b(Ne(Ne({},Q),{},{style:{display:"none"}}),J):W=null;else{var ae;F===Dc?ae="prepare":hF(F)?ae="active":F===Pv&&(ae="start");var Y=iP(_,"".concat(D,"-").concat(ae));W=b(Ne(Ne({},Q),{},{className:Je(iP(_,D),ue(ue({},Y,Y&&ae),_,typeof _=="string")),style:z}),J)}if(w.isValidElement(W)&&xS(W)){var K=ow(W);K||(W=w.cloneElement(W,{ref:J}))}return w.createElement(w7,{ref:T},W)});return r.displayName="CSSMotion",r}const Xc=z7(uF);var jR="add",WR="keep",XR="remove",_M="removed";function U7(n){var e;return n&&mn(n)==="object"&&"key"in n?e=n:e={key:n},Ne(Ne({},e),{},{key:String(e.key)})}function YR(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return n.map(U7)}function F7(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=[],r=0,a=e.length,o=YR(n),l=YR(e);o.forEach(function(f){for(var m=!1,b=r;b<a;b+=1){var _=l[b];if(_.key===f.key){r<b&&(t=t.concat(l.slice(r,b).map(function(E){return Ne(Ne({},E),{},{status:jR})})),r=b),t.push(Ne(Ne({},_),{},{status:WR})),r+=1,m=!0;break}}m||t.push(Ne(Ne({},f),{},{status:XR}))}),r<a&&(t=t.concat(l.slice(r).map(function(f){return Ne(Ne({},f),{},{status:jR})})));var s={};t.forEach(function(f){var m=f.key;s[m]=(s[m]||0)+1});var u=Object.keys(s).filter(function(f){return s[f]>1});return u.forEach(function(f){t=t.filter(function(m){var b=m.key,_=m.status;return b!==f||_!==XR}),t.forEach(function(m){m.key===f&&(m.status=WR)})}),t}var H7=["component","children","onVisibleChanged","onAllRemoved"],G7=["status"],k7=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function $7(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Xc,t=function(r){Ar(o,r);var a=Wc(o);function o(){var l;ai(this,o);for(var s=arguments.length,u=new Array(s),f=0;f<s;f++)u[f]=arguments[f];return l=a.call.apply(a,[this].concat(u)),ue(Dn(l),"state",{keyEntities:[]}),ue(Dn(l),"removeKey",function(m){l.setState(function(b){var _=b.keyEntities.map(function(E){return E.key!==m?E:Ne(Ne({},E),{},{status:_M})});return{keyEntities:_}},function(){var b=l.state.keyEntities,_=b.filter(function(E){var c=E.status;return c!==_M}).length;_===0&&l.props.onAllRemoved&&l.props.onAllRemoved()})}),l}return oi(o,[{key:"render",value:function(){var s=this,u=this.state.keyEntities,f=this.props,m=f.component,b=f.children,_=f.onVisibleChanged;f.onAllRemoved;var E=kn(f,H7),c=m||w.Fragment,p={};return k7.forEach(function(g){p[g]=E[g],delete E[g]}),delete E.keys,w.createElement(c,E,u.map(function(g,y){var C=g.status,T=kn(g,G7),M=C===jR||C===WR;return w.createElement(e,Pt({},p,{key:T.key,visible:M,eventProps:T,onVisibleChanged:function(B){_==null||_(B,{key:T.key}),B||s.removeKey(T.key)}}),function(O,B){return b(Ne(Ne({},O),{},{index:y}),B)})}))}}],[{key:"getDerivedStateFromProps",value:function(s,u){var f=s.keys,m=u.keyEntities,b=YR(f),_=F7(m,b);return{keyEntities:_.filter(function(E){var c=m.find(function(p){var g=p.key;return E.key===g});return!(c&&c.status===_M&&E.status===XR)})}}}]),o}(w.Component);return ue(t,"defaultProps",{component:"div"}),t}const pF=$7(uF);function V7(n){const{children:e}=n,[,t]=od(),{motion:r}=t,a=w.useRef(!1);return a.current=a.current||r===!1,a.current?w.createElement(E7,{motion:r},e):e}const j7=()=>null;var W7=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const X7=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"];let N1,mF,gF,vF;function FC(){return N1||eS}function Y7(){return mF||uw}function q7(n){return Object.keys(n).some(e=>e.endsWith("Color"))}const K7=n=>{const{prefixCls:e,iconPrefixCls:t,theme:r,holderRender:a}=n;e!==void 0&&(N1=e),t!==void 0&&(mF=t),"holderRender"in n&&(vF=a),r&&(q7(r)?Kj(FC(),r):gF=r)},yF=()=>({getPrefixCls:(n,e)=>e||(n?`${FC()}-${n}`:FC()),getIconPrefixCls:Y7,getRootPrefixCls:()=>N1||FC(),getTheme:()=>gF,holderRender:vF}),J7=n=>{const{children:e,csp:t,autoInsertSpaceInButton:r,alert:a,anchor:o,form:l,locale:s,componentSize:u,direction:f,space:m,splitter:b,virtual:_,dropdownMatchSelectWidth:E,popupMatchSelectWidth:c,popupOverflow:p,legacyLocale:g,parentContext:y,iconPrefixCls:C,theme:T,componentDisabled:M,segmented:O,statistic:B,spin:D,calendar:F,carousel:z,cascader:U,collapse:$,typography:J,checkbox:W,descriptions:Q,divider:ae,drawer:Y,skeleton:K,steps:ee,image:de,layout:q,list:ie,mentions:he,modal:fe,progress:Z,result:pe,slider:xe,breadcrumb:Oe,menu:Ae,pagination:Te,input:ze,textArea:yt,empty:Be,badge:Ce,radio:re,rate:Fe,switch:Ie,transfer:qe,avatar:$e,message:ct,tag:st,table:ce,card:oe,tabs:we,timeline:De,timePicker:Ke,upload:He,notification:gt,tree:lt,colorPicker:pt,datePicker:It,rangePicker:ot,flex:_t,wave:Ct,dropdown:We,warning:rt,tour:Se,tooltip:Ge,popover:St,popconfirm:Me,floatButtonGroup:xt,variant:et,inputNumber:mt,treeSelect:Nt}=n,Bt=w.useCallback((wn,Mn)=>{const{prefixCls:Qn}=n;if(Mn)return Mn;const un=Qn||y.getPrefixCls("");return wn?`${un}-${wn}`:un},[y.getPrefixCls,n.prefixCls]),Qt=C||y.iconPrefixCls||uw,sn=t||y.csp;y7(Qt,sn);const qt=x7(T,y.theme,{prefixCls:Bt("")}),Lt={csp:sn,autoInsertSpaceInButton:r,alert:a,anchor:o,locale:s||g,direction:f,space:m,splitter:b,virtual:_,popupMatchSelectWidth:c??E,popupOverflow:p,getPrefixCls:Bt,iconPrefixCls:Qt,theme:qt,segmented:O,statistic:B,spin:D,calendar:F,carousel:z,cascader:U,collapse:$,typography:J,checkbox:W,descriptions:Q,divider:ae,drawer:Y,skeleton:K,steps:ee,image:de,input:ze,textArea:yt,layout:q,list:ie,mentions:he,modal:fe,progress:Z,result:pe,slider:xe,breadcrumb:Oe,menu:Ae,pagination:Te,empty:Be,badge:Ce,radio:re,rate:Fe,switch:Ie,transfer:qe,avatar:$e,message:ct,tag:st,table:ce,card:oe,tabs:we,timeline:De,timePicker:Ke,upload:He,notification:gt,tree:lt,colorPicker:pt,datePicker:It,rangePicker:ot,flex:_t,wave:Ct,dropdown:We,warning:rt,tour:Se,tooltip:Ge,popover:St,popconfirm:Me,floatButtonGroup:xt,variant:et,inputNumber:mt,treeSelect:Nt},Yt=Object.assign({},y);Object.keys(Lt).forEach(wn=>{Lt[wn]!==void 0&&(Yt[wn]=Lt[wn])}),X7.forEach(wn=>{const Mn=n[wn];Mn&&(Yt[wn]=Mn)}),typeof r<"u"&&(Yt.button=Object.assign({autoInsertSpace:r},Yt.button));const yn=aw(()=>Yt,Yt,(wn,Mn)=>{const Qn=Object.keys(wn),un=Object.keys(Mn);return Qn.length!==un.length||Qn.some(ii=>wn[ii]!==Mn[ii])}),{layer:lr}=w.useContext(CS),Qr=w.useMemo(()=>({prefixCls:Qt,csp:sn,layer:lr?"antd":void 0}),[Qt,sn,lr]);let zn=w.createElement(w.Fragment,null,w.createElement(j7,{dropdownMatchSelectWidth:E}),e);const Ai=w.useMemo(()=>{var wn,Mn,Qn,un;return Dv(((wn=Fh.Form)===null||wn===void 0?void 0:wn.defaultValidateMessages)||{},((Qn=(Mn=yn.locale)===null||Mn===void 0?void 0:Mn.Form)===null||Qn===void 0?void 0:Qn.defaultValidateMessages)||{},((un=yn.form)===null||un===void 0?void 0:un.validateMessages)||{},(l==null?void 0:l.validateMessages)||{})},[yn,l==null?void 0:l.validateMessages]);Object.keys(Ai).length>0&&(zn=w.createElement(Rj.Provider,{value:Ai},zn)),s&&(zn=w.createElement(Lj,{locale:s,_ANT_MARK__:Pj},zn)),zn=w.createElement(yO.Provider,{value:Qr},zn),u&&(zn=w.createElement(Jj,{size:u},zn)),zn=w.createElement(V7,null,zn);const Sr=w.useMemo(()=>{const wn=qt||{},{algorithm:Mn,token:Qn,components:un,cssVar:ii}=wn,ln=W7(wn,["algorithm","token","components","cssVar"]),zr=Mn&&(!Array.isArray(Mn)||Mn.length>0)?UR(Mn):XU,Ur={};Object.entries(un||{}).forEach(Or=>{let[cr,_r]=Or;const le=Object.assign({},_r);"algorithm"in le&&(le.algorithm===!0?le.theme=zr:(Array.isArray(le.algorithm)||typeof le.algorithm=="function")&&(le.theme=UR(le.algorithm)),delete le.algorithm),Ur[cr]=le});const Rr=Object.assign(Object.assign({},Zb),Qn);return Object.assign(Object.assign({},ln),{theme:zr,token:Rr,components:Ur,override:Object.assign({override:Rr},Ur),cssVar:ii})},[qt]);return T&&(zn=w.createElement(YU.Provider,{value:Sr},zn)),yn.warning&&(zn=w.createElement(Tj.Provider,{value:yn.warning},zn)),M!==void 0&&(zn=w.createElement(qU,{disabled:M},zn)),w.createElement(Hn.Provider,{value:yn},zn)},xf=n=>{const e=w.useContext(Hn),t=w.useContext(IO);return w.createElement(J7,Object.assign({parentContext:e,legacyLocale:t},n))};xf.ConfigContext=Hn;xf.SizeContext=u0;xf.config=K7;xf.useConfig=Qj;Object.defineProperty(xf,"SizeContext",{get:()=>u0});var Q7=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,Z7=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,eW="".concat(Q7," ").concat(Z7).split(/[\s\n]+/),tW="aria-",nW="data-";function rP(n,e){return n.indexOf(e)===0}function Gm(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t;e===!1?t={aria:!0,data:!0,attr:!0}:e===!0?t={aria:!0}:t=Ne({},e);var r={};return Object.keys(n).forEach(function(a){(t.aria&&(a==="role"||rP(a,tW))||t.data&&rP(a,nW)||t.attr&&eW.includes(a))&&(r[a]=n[a])}),r}function bF(n){return n&&Xe.isValidElement(n)&&n.type===Xe.Fragment}const SF=(n,e,t)=>Xe.isValidElement(n)?Xe.cloneElement(n,typeof t=="function"?t(n.props||{}):t):e;function al(n,e){return SF(n,n,e)}const ll=n=>{const[,,,,e]=od();return e?`${n}-css-var`:""};var to={TAB:9,ENTER:13,ESC:27,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40},_F=w.forwardRef(function(n,e){var t=n.prefixCls,r=n.style,a=n.className,o=n.duration,l=o===void 0?4.5:o,s=n.showProgress,u=n.pauseOnHover,f=u===void 0?!0:u,m=n.eventKey,b=n.content,_=n.closable,E=n.closeIcon,c=E===void 0?"x":E,p=n.props,g=n.onClick,y=n.onNoticeClose,C=n.times,T=n.hovering,M=w.useState(!1),O=vt(M,2),B=O[0],D=O[1],F=w.useState(0),z=vt(F,2),U=z[0],$=z[1],J=w.useState(0),W=vt(J,2),Q=W[0],ae=W[1],Y=T||B,K=l>0&&s,ee=function(){y(m)},de=function(pe){(pe.key==="Enter"||pe.code==="Enter"||pe.keyCode===to.ENTER)&&ee()};w.useEffect(function(){if(!Y&&l>0){var Z=Date.now()-Q,pe=setTimeout(function(){ee()},l*1e3-Q);return function(){f&&clearTimeout(pe),ae(Date.now()-Z)}}},[l,Y,C]),w.useEffect(function(){if(!Y&&K&&(f||Q===0)){var Z=performance.now(),pe,xe=function Oe(){cancelAnimationFrame(pe),pe=requestAnimationFrame(function(Ae){var Te=Ae+Q-Z,ze=Math.min(Te/(l*1e3),1);$(ze*100),ze<1&&Oe()})};return xe(),function(){f&&cancelAnimationFrame(pe)}}},[l,Q,Y,K,C]);var q=w.useMemo(function(){return mn(_)==="object"&&_!==null?_:_?{closeIcon:c}:{}},[_,c]),ie=Gm(q,!0),he=100-(!U||U<0?0:U>100?100:U),fe="".concat(t,"-notice");return w.createElement("div",Pt({},p,{ref:e,className:Je(fe,a,ue({},"".concat(fe,"-closable"),_)),style:r,onMouseEnter:function(pe){var xe;D(!0),p==null||(xe=p.onMouseEnter)===null||xe===void 0||xe.call(p,pe)},onMouseLeave:function(pe){var xe;D(!1),p==null||(xe=p.onMouseLeave)===null||xe===void 0||xe.call(p,pe)},onClick:g}),w.createElement("div",{className:"".concat(fe,"-content")},b),_&&w.createElement("a",Pt({tabIndex:0,className:"".concat(fe,"-close"),onKeyDown:de,"aria-label":"Close"},ie,{onClick:function(pe){pe.preventDefault(),pe.stopPropagation(),ee()}}),q.closeIcon),K&&w.createElement("progress",{className:"".concat(fe,"-progress"),max:"100",value:he},he+"%"))}),xF=Xe.createContext({}),iW=function(e){var t=e.children,r=e.classNames;return Xe.createElement(xF.Provider,{value:{classNames:r}},t)},aP=8,oP=3,sP=16,rW=function(e){var t={offset:aP,threshold:oP,gap:sP};if(e&&mn(e)==="object"){var r,a,o;t.offset=(r=e.offset)!==null&&r!==void 0?r:aP,t.threshold=(a=e.threshold)!==null&&a!==void 0?a:oP,t.gap=(o=e.gap)!==null&&o!==void 0?o:sP}return[!!e,t]},aW=["className","style","classNames","styles"],oW=function(e){var t=e.configList,r=e.placement,a=e.prefixCls,o=e.className,l=e.style,s=e.motion,u=e.onAllNoticeRemoved,f=e.onNoticeClose,m=e.stack,b=w.useContext(xF),_=b.classNames,E=w.useRef({}),c=w.useState(null),p=vt(c,2),g=p[0],y=p[1],C=w.useState([]),T=vt(C,2),M=T[0],O=T[1],B=t.map(function(Y){return{config:Y,key:String(Y.key)}}),D=rW(m),F=vt(D,2),z=F[0],U=F[1],$=U.offset,J=U.threshold,W=U.gap,Q=z&&(M.length>0||B.length<=J),ae=typeof s=="function"?s(r):s;return w.useEffect(function(){z&&M.length>1&&O(function(Y){return Y.filter(function(K){return B.some(function(ee){var de=ee.key;return K===de})})})},[M,B,z]),w.useEffect(function(){var Y;if(z&&E.current[(Y=B[B.length-1])===null||Y===void 0?void 0:Y.key]){var K;y(E.current[(K=B[B.length-1])===null||K===void 0?void 0:K.key])}},[B,z]),Xe.createElement(pF,Pt({key:r,className:Je(a,"".concat(a,"-").concat(r),_==null?void 0:_.list,o,ue(ue({},"".concat(a,"-stack"),!!z),"".concat(a,"-stack-expanded"),Q)),style:l,keys:B,motionAppear:!0},ae,{onAllRemoved:function(){u(r)}}),function(Y,K){var ee=Y.config,de=Y.className,q=Y.style,ie=Y.index,he=ee,fe=he.key,Z=he.times,pe=String(fe),xe=ee,Oe=xe.className,Ae=xe.style,Te=xe.classNames,ze=xe.styles,yt=kn(xe,aW),Be=B.findIndex(function(De){return De.key===pe}),Ce={};if(z){var re=B.length-1-(Be>-1?Be:ie-1),Fe=r==="top"||r==="bottom"?"-50%":"0";if(re>0){var Ie,qe,$e;Ce.height=Q?(Ie=E.current[pe])===null||Ie===void 0?void 0:Ie.offsetHeight:g==null?void 0:g.offsetHeight;for(var ct=0,st=0;st<re;st++){var ce;ct+=((ce=E.current[B[B.length-1-st].key])===null||ce===void 0?void 0:ce.offsetHeight)+W}var oe=(Q?ct:re*$)*(r.startsWith("top")?1:-1),we=!Q&&g!==null&&g!==void 0&&g.offsetWidth&&(qe=E.current[pe])!==null&&qe!==void 0&&qe.offsetWidth?((g==null?void 0:g.offsetWidth)-$*2*(re<3?re:3))/(($e=E.current[pe])===null||$e===void 0?void 0:$e.offsetWidth):1;Ce.transform="translate3d(".concat(Fe,", ").concat(oe,"px, 0) scaleX(").concat(we,")")}else Ce.transform="translate3d(".concat(Fe,", 0, 0)")}return Xe.createElement("div",{ref:K,className:Je("".concat(a,"-notice-wrapper"),de,Te==null?void 0:Te.wrapper),style:Ne(Ne(Ne({},q),Ce),ze==null?void 0:ze.wrapper),onMouseEnter:function(){return O(function(Ke){return Ke.includes(pe)?Ke:[].concat(Jt(Ke),[pe])})},onMouseLeave:function(){return O(function(Ke){return Ke.filter(function(He){return He!==pe})})}},Xe.createElement(_F,Pt({},yt,{ref:function(Ke){Be>-1?E.current[pe]=Ke:delete E.current[pe]},prefixCls:a,classNames:Te,styles:ze,className:Je(Oe,_==null?void 0:_.notice),style:Ae,times:Z,key:fe,eventKey:fe,onNoticeClose:f,hovering:z&&M.length>0})))})},sW=w.forwardRef(function(n,e){var t=n.prefixCls,r=t===void 0?"rc-notification":t,a=n.container,o=n.motion,l=n.maxCount,s=n.className,u=n.style,f=n.onAllRemoved,m=n.stack,b=n.renderNotifications,_=w.useState([]),E=vt(_,2),c=E[0],p=E[1],g=function(z){var U,$=c.find(function(J){return J.key===z});$==null||(U=$.onClose)===null||U===void 0||U.call($),p(function(J){return J.filter(function(W){return W.key!==z})})};w.useImperativeHandle(e,function(){return{open:function(z){p(function(U){var $=Jt(U),J=$.findIndex(function(ae){return ae.key===z.key}),W=Ne({},z);if(J>=0){var Q;W.times=(((Q=U[J])===null||Q===void 0?void 0:Q.times)||0)+1,$[J]=W}else W.times=0,$.push(W);return l>0&&$.length>l&&($=$.slice(-l)),$})},close:function(z){g(z)},destroy:function(){p([])}}});var y=w.useState({}),C=vt(y,2),T=C[0],M=C[1];w.useEffect(function(){var F={};c.forEach(function(z){var U=z.placement,$=U===void 0?"topRight":U;$&&(F[$]=F[$]||[],F[$].push(z))}),Object.keys(T).forEach(function(z){F[z]=F[z]||[]}),M(F)},[c]);var O=function(z){M(function(U){var $=Ne({},U),J=$[z]||[];return J.length||delete $[z],$})},B=w.useRef(!1);if(w.useEffect(function(){Object.keys(T).length>0?B.current=!0:B.current&&(f==null||f(),B.current=!1)},[T]),!a)return null;var D=Object.keys(T);return Uh.createPortal(w.createElement(w.Fragment,null,D.map(function(F){var z=T[F],U=w.createElement(oW,{key:F,configList:z,placement:F,prefixCls:r,className:s==null?void 0:s(F),style:u==null?void 0:u(F),motion:o,onNoticeClose:g,onAllNoticeRemoved:O,stack:m});return b?b(U,{prefixCls:r,key:F}):U})),a)}),lW=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],cW=function(){return document.body},lP=0;function uW(){for(var n={},e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.forEach(function(a){a&&Object.keys(a).forEach(function(o){var l=a[o];l!==void 0&&(n[o]=l)})}),n}function dW(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.getContainer,t=e===void 0?cW:e,r=n.motion,a=n.prefixCls,o=n.maxCount,l=n.className,s=n.style,u=n.onAllRemoved,f=n.stack,m=n.renderNotifications,b=kn(n,lW),_=w.useState(),E=vt(_,2),c=E[0],p=E[1],g=w.useRef(),y=w.createElement(sW,{container:c,ref:g,prefixCls:a,motion:r,maxCount:o,className:l,style:s,onAllRemoved:u,stack:f,renderNotifications:m}),C=w.useState([]),T=vt(C,2),M=T[0],O=T[1],B=w.useMemo(function(){return{open:function(F){var z=uW(b,F);(z.key===null||z.key===void 0)&&(z.key="rc-notification-".concat(lP),lP+=1),O(function(U){return[].concat(Jt(U),[{type:"open",config:z}])})},close:function(F){O(function(z){return[].concat(Jt(z),[{type:"close",key:F}])})},destroy:function(){O(function(F){return[].concat(Jt(F),[{type:"destroy"}])})}}},[]);return w.useEffect(function(){p(t())}),w.useEffect(function(){if(g.current&&M.length){M.forEach(function(z){switch(z.type){case"open":g.current.open(z.config);break;case"close":g.current.close(z.key);break;case"destroy":g.current.destroy();break}});var D,F;O(function(z){return(D!==z||!F)&&(D=z,F=z.filter(function(U){return!M.includes(U)})),F})}},[M]),[B,y]}const LO=Xe.createContext(void 0),bh=100,fW=10,CF=bh*fW,EF={Modal:bh,Drawer:bh,Popover:bh,Popconfirm:bh,Tooltip:bh,Tour:bh,FloatButton:bh},hW={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function pW(n){return n in EF}const wS=(n,e)=>{const[,t]=od(),r=Xe.useContext(LO),a=pW(n);let o;if(e!==void 0)o=[e,e];else{let l=r??0;a?l+=(r?0:t.zIndexPopupBase)+EF[n]:l+=hW[n],o=[r===void 0?e:l,l]}return o},mW=n=>{const{componentCls:e,iconCls:t,boxShadow:r,colorText:a,colorSuccess:o,colorError:l,colorWarning:s,colorInfo:u,fontSizeLG:f,motionEaseInOutCirc:m,motionDurationSlow:b,marginXS:_,paddingXS:E,borderRadiusLG:c,zIndexPopup:p,contentPadding:g,contentBg:y}=n,C=`${e}-notice`,T=new rr("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:E,transform:"translateY(0)",opacity:1}}),M=new rr("MessageMoveOut",{"0%":{maxHeight:n.height,padding:E,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),O={padding:E,textAlign:"center",[`${e}-custom-content`]:{display:"flex",alignItems:"center"},[`${e}-custom-content > ${t}`]:{marginInlineEnd:_,fontSize:f},[`${C}-content`]:{display:"inline-block",padding:g,background:y,borderRadius:c,boxShadow:r,pointerEvents:"all"},[`${e}-success > ${t}`]:{color:o},[`${e}-error > ${t}`]:{color:l},[`${e}-warning > ${t}`]:{color:s},[`${e}-info > ${t},
      ${e}-loading > ${t}`]:{color:u}};return[{[e]:Object.assign(Object.assign({},Fo(n)),{color:a,position:"fixed",top:_,width:"100%",pointerEvents:"none",zIndex:p,[`${e}-move-up`]:{animationFillMode:"forwards"},[`
        ${e}-move-up-appear,
        ${e}-move-up-enter
      `]:{animationName:T,animationDuration:b,animationPlayState:"paused",animationTimingFunction:m},[`
        ${e}-move-up-appear${e}-move-up-appear-active,
        ${e}-move-up-enter${e}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${e}-move-up-leave`]:{animationName:M,animationDuration:b,animationPlayState:"paused",animationTimingFunction:m},[`${e}-move-up-leave${e}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[e]:{[`${C}-wrapper`]:Object.assign({},O)}},{[`${e}-notice-pure-panel`]:Object.assign(Object.assign({},O),{padding:0,textAlign:"start"})}]},gW=n=>({zIndexPopup:n.zIndexPopupBase+CF+10,contentBg:n.colorBgElevated,contentPadding:`${(n.controlHeightLG-n.fontSize*n.lineHeight)/2}px ${n.paddingSM}px`}),wF=Nr("Message",n=>{const e=qi(n,{height:150});return[mW(e)]},gW);var vW=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const yW={info:w.createElement(fU,null),success:w.createElement(_O,null),error:w.createElement(rw,null),warning:w.createElement(dU,null),loading:w.createElement(r0,null)},AF=n=>{let{prefixCls:e,type:t,icon:r,children:a}=n;return w.createElement("div",{className:Je(`${e}-custom-content`,`${e}-${t}`)},r||yW[t],w.createElement("span",null,a))},bW=n=>{const{prefixCls:e,className:t,type:r,icon:a,content:o}=n,l=vW(n,["prefixCls","className","type","icon","content"]),{getPrefixCls:s}=w.useContext(Hn),u=e||s("message"),f=ll(u),[m,b,_]=wF(u,f);return m(w.createElement(_F,Object.assign({},l,{prefixCls:u,className:Je(t,b,`${u}-notice-pure-panel`,_,f),eventKey:"pure",duration:null,content:w.createElement(AF,{prefixCls:u,type:r,icon:a},o)})))};function SW(n,e){return{motionName:e??`${n}-move-up`}}function NO(n){let e;const t=new Promise(a=>{e=n(()=>{a(!0)})}),r=()=>{e==null||e()};return r.then=(a,o)=>t.then(a,o),r.promise=t,r}var _W=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const xW=8,CW=3,EW=n=>{let{children:e,prefixCls:t}=n;const r=ll(t),[a,o,l]=wF(t,r);return a(w.createElement(iW,{classNames:{list:Je(o,l,r)}},e))},wW=(n,e)=>{let{prefixCls:t,key:r}=e;return w.createElement(EW,{prefixCls:t,key:r},n)},AW=w.forwardRef((n,e)=>{const{top:t,prefixCls:r,getContainer:a,maxCount:o,duration:l=CW,rtl:s,transitionName:u,onAllRemoved:f}=n,{getPrefixCls:m,getPopupContainer:b,message:_,direction:E}=w.useContext(Hn),c=r||m("message"),p=()=>({left:"50%",transform:"translateX(-50%)",top:t??xW}),g=()=>Je({[`${c}-rtl`]:s??E==="rtl"}),y=()=>SW(c,u),C=w.createElement("span",{className:`${c}-close-x`},w.createElement(R0,{className:`${c}-close-icon`})),[T,M]=dW({prefixCls:c,style:p,className:g,motion:y,closable:!1,closeIcon:C,duration:l,getContainer:()=>(a==null?void 0:a())||(b==null?void 0:b())||document.body,maxCount:o,onAllRemoved:f,renderNotifications:wW});return w.useImperativeHandle(e,()=>Object.assign(Object.assign({},T),{prefixCls:c,message:_})),M});let cP=0;function MF(n){const e=w.useRef(null);return OO(),[w.useMemo(()=>{const r=u=>{var f;(f=e.current)===null||f===void 0||f.close(u)},a=u=>{if(!e.current){const B=()=>{};return B.then=()=>{},B}const{open:f,prefixCls:m,message:b}=e.current,_=`${m}-notice`,{content:E,icon:c,type:p,key:g,className:y,style:C,onClose:T}=u,M=_W(u,["content","icon","type","key","className","style","onClose"]);let O=g;return O==null&&(cP+=1,O=`antd-message-${cP}`),NO(B=>(f(Object.assign(Object.assign({},M),{key:O,content:w.createElement(AF,{prefixCls:m,type:p,icon:c},E),placement:"top",className:Je(p&&`${_}-${p}`,y,b==null?void 0:b.className),style:Object.assign(Object.assign({},b==null?void 0:b.style),C),onClose:()=>{T==null||T(),B()}})),()=>{r(O)}))},l={open:a,destroy:u=>{var f;u!==void 0?r(u):(f=e.current)===null||f===void 0||f.destroy()}};return["info","success","warning","error","loading"].forEach(u=>{const f=(m,b,_)=>{let E;m&&typeof m=="object"&&"content"in m?E=m:E={content:m};let c,p;typeof b=="function"?p=b:(c=b,p=_);const g=Object.assign(Object.assign({onClose:p,duration:c},E),{type:u});return a(g)};l[u]=f}),l},[]),w.createElement(AW,Object.assign({key:"message-holder"},n,{ref:e}))]}function MW(n){return MF(n)}function TW(){const[n,e]=w.useState([]),t=w.useCallback(r=>(e(a=>[].concat(Jt(a),[r])),()=>{e(a=>a.filter(o=>o!==r))}),[]);return[n,t]}function br(){br=function(){return e};var n,e={},t=Object.prototype,r=t.hasOwnProperty,a=Object.defineProperty||function(Y,K,ee){Y[K]=ee.value},o=typeof Symbol=="function"?Symbol:{},l=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function f(Y,K,ee){return Object.defineProperty(Y,K,{value:ee,enumerable:!0,configurable:!0,writable:!0}),Y[K]}try{f({},"")}catch{f=function(ee,de,q){return ee[de]=q}}function m(Y,K,ee,de){var q=K&&K.prototype instanceof y?K:y,ie=Object.create(q.prototype),he=new Q(de||[]);return a(ie,"_invoke",{value:U(Y,ee,he)}),ie}function b(Y,K,ee){try{return{type:"normal",arg:Y.call(K,ee)}}catch(de){return{type:"throw",arg:de}}}e.wrap=m;var _="suspendedStart",E="suspendedYield",c="executing",p="completed",g={};function y(){}function C(){}function T(){}var M={};f(M,l,function(){return this});var O=Object.getPrototypeOf,B=O&&O(O(ae([])));B&&B!==t&&r.call(B,l)&&(M=B);var D=T.prototype=y.prototype=Object.create(M);function F(Y){["next","throw","return"].forEach(function(K){f(Y,K,function(ee){return this._invoke(K,ee)})})}function z(Y,K){function ee(q,ie,he,fe){var Z=b(Y[q],Y,ie);if(Z.type!=="throw"){var pe=Z.arg,xe=pe.value;return xe&&mn(xe)=="object"&&r.call(xe,"__await")?K.resolve(xe.__await).then(function(Oe){ee("next",Oe,he,fe)},function(Oe){ee("throw",Oe,he,fe)}):K.resolve(xe).then(function(Oe){pe.value=Oe,he(pe)},function(Oe){return ee("throw",Oe,he,fe)})}fe(Z.arg)}var de;a(this,"_invoke",{value:function(ie,he){function fe(){return new K(function(Z,pe){ee(ie,he,Z,pe)})}return de=de?de.then(fe,fe):fe()}})}function U(Y,K,ee){var de=_;return function(q,ie){if(de===c)throw Error("Generator is already running");if(de===p){if(q==="throw")throw ie;return{value:n,done:!0}}for(ee.method=q,ee.arg=ie;;){var he=ee.delegate;if(he){var fe=$(he,ee);if(fe){if(fe===g)continue;return fe}}if(ee.method==="next")ee.sent=ee._sent=ee.arg;else if(ee.method==="throw"){if(de===_)throw de=p,ee.arg;ee.dispatchException(ee.arg)}else ee.method==="return"&&ee.abrupt("return",ee.arg);de=c;var Z=b(Y,K,ee);if(Z.type==="normal"){if(de=ee.done?p:E,Z.arg===g)continue;return{value:Z.arg,done:ee.done}}Z.type==="throw"&&(de=p,ee.method="throw",ee.arg=Z.arg)}}}function $(Y,K){var ee=K.method,de=Y.iterator[ee];if(de===n)return K.delegate=null,ee==="throw"&&Y.iterator.return&&(K.method="return",K.arg=n,$(Y,K),K.method==="throw")||ee!=="return"&&(K.method="throw",K.arg=new TypeError("The iterator does not provide a '"+ee+"' method")),g;var q=b(de,Y.iterator,K.arg);if(q.type==="throw")return K.method="throw",K.arg=q.arg,K.delegate=null,g;var ie=q.arg;return ie?ie.done?(K[Y.resultName]=ie.value,K.next=Y.nextLoc,K.method!=="return"&&(K.method="next",K.arg=n),K.delegate=null,g):ie:(K.method="throw",K.arg=new TypeError("iterator result is not an object"),K.delegate=null,g)}function J(Y){var K={tryLoc:Y[0]};1 in Y&&(K.catchLoc=Y[1]),2 in Y&&(K.finallyLoc=Y[2],K.afterLoc=Y[3]),this.tryEntries.push(K)}function W(Y){var K=Y.completion||{};K.type="normal",delete K.arg,Y.completion=K}function Q(Y){this.tryEntries=[{tryLoc:"root"}],Y.forEach(J,this),this.reset(!0)}function ae(Y){if(Y||Y===""){var K=Y[l];if(K)return K.call(Y);if(typeof Y.next=="function")return Y;if(!isNaN(Y.length)){var ee=-1,de=function q(){for(;++ee<Y.length;)if(r.call(Y,ee))return q.value=Y[ee],q.done=!1,q;return q.value=n,q.done=!0,q};return de.next=de}}throw new TypeError(mn(Y)+" is not iterable")}return C.prototype=T,a(D,"constructor",{value:T,configurable:!0}),a(T,"constructor",{value:C,configurable:!0}),C.displayName=f(T,u,"GeneratorFunction"),e.isGeneratorFunction=function(Y){var K=typeof Y=="function"&&Y.constructor;return!!K&&(K===C||(K.displayName||K.name)==="GeneratorFunction")},e.mark=function(Y){return Object.setPrototypeOf?Object.setPrototypeOf(Y,T):(Y.__proto__=T,f(Y,u,"GeneratorFunction")),Y.prototype=Object.create(D),Y},e.awrap=function(Y){return{__await:Y}},F(z.prototype),f(z.prototype,s,function(){return this}),e.AsyncIterator=z,e.async=function(Y,K,ee,de,q){q===void 0&&(q=Promise);var ie=new z(m(Y,K,ee,de),q);return e.isGeneratorFunction(K)?ie:ie.next().then(function(he){return he.done?he.value:ie.next()})},F(D),f(D,u,"Generator"),f(D,l,function(){return this}),f(D,"toString",function(){return"[object Generator]"}),e.keys=function(Y){var K=Object(Y),ee=[];for(var de in K)ee.push(de);return ee.reverse(),function q(){for(;ee.length;){var ie=ee.pop();if(ie in K)return q.value=ie,q.done=!1,q}return q.done=!0,q}},e.values=ae,Q.prototype={constructor:Q,reset:function(K){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(W),!K)for(var ee in this)ee.charAt(0)==="t"&&r.call(this,ee)&&!isNaN(+ee.slice(1))&&(this[ee]=n)},stop:function(){this.done=!0;var K=this.tryEntries[0].completion;if(K.type==="throw")throw K.arg;return this.rval},dispatchException:function(K){if(this.done)throw K;var ee=this;function de(pe,xe){return he.type="throw",he.arg=K,ee.next=pe,xe&&(ee.method="next",ee.arg=n),!!xe}for(var q=this.tryEntries.length-1;q>=0;--q){var ie=this.tryEntries[q],he=ie.completion;if(ie.tryLoc==="root")return de("end");if(ie.tryLoc<=this.prev){var fe=r.call(ie,"catchLoc"),Z=r.call(ie,"finallyLoc");if(fe&&Z){if(this.prev<ie.catchLoc)return de(ie.catchLoc,!0);if(this.prev<ie.finallyLoc)return de(ie.finallyLoc)}else if(fe){if(this.prev<ie.catchLoc)return de(ie.catchLoc,!0)}else{if(!Z)throw Error("try statement without catch or finally");if(this.prev<ie.finallyLoc)return de(ie.finallyLoc)}}}},abrupt:function(K,ee){for(var de=this.tryEntries.length-1;de>=0;--de){var q=this.tryEntries[de];if(q.tryLoc<=this.prev&&r.call(q,"finallyLoc")&&this.prev<q.finallyLoc){var ie=q;break}}ie&&(K==="break"||K==="continue")&&ie.tryLoc<=ee&&ee<=ie.finallyLoc&&(ie=null);var he=ie?ie.completion:{};return he.type=K,he.arg=ee,ie?(this.method="next",this.next=ie.finallyLoc,g):this.complete(he)},complete:function(K,ee){if(K.type==="throw")throw K.arg;return K.type==="break"||K.type==="continue"?this.next=K.arg:K.type==="return"?(this.rval=this.arg=K.arg,this.method="return",this.next="end"):K.type==="normal"&&ee&&(this.next=ee),g},finish:function(K){for(var ee=this.tryEntries.length-1;ee>=0;--ee){var de=this.tryEntries[ee];if(de.finallyLoc===K)return this.complete(de.completion,de.afterLoc),W(de),g}},catch:function(K){for(var ee=this.tryEntries.length-1;ee>=0;--ee){var de=this.tryEntries[ee];if(de.tryLoc===K){var q=de.completion;if(q.type==="throw"){var ie=q.arg;W(de)}return ie}}throw Error("illegal catch attempt")},delegateYield:function(K,ee,de){return this.delegate={iterator:ae(K),resultName:ee,nextLoc:de},this.method==="next"&&(this.arg=n),g}},e}function uP(n,e,t,r,a,o,l){try{var s=n[o](l),u=s.value}catch(f){return void t(f)}s.done?e(u):Promise.resolve(u).then(r,a)}function el(n){return function(){var e=this,t=arguments;return new Promise(function(r,a){var o=n.apply(e,t);function l(u){uP(o,r,a,l,s,"next",u)}function s(u){uP(o,r,a,l,s,"throw",u)}l(void 0)})}}var AS=Ne({},qV),RW=AS.version,xM=AS.render,OW=AS.unmountComponentAtNode,pw;try{var IW=Number((RW||"").split(".")[0]);IW>=18&&(pw=AS.createRoot)}catch{}function dP(n){var e=AS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e&&mn(e)==="object"&&(e.usingClientEntryPoint=n)}var z1="__rc_react_root__";function BW(n,e){dP(!0);var t=e[z1]||pw(e);dP(!1),t.render(n),e[z1]=t}function DW(n,e){xM==null||xM(n,e)}function PW(n,e){if(pw){BW(n,e);return}DW(n,e)}function LW(n){return qR.apply(this,arguments)}function qR(){return qR=el(br().mark(function n(e){return br().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.resolve().then(function(){var a;(a=e[z1])===null||a===void 0||a.unmount(),delete e[z1]}));case 1:case"end":return r.stop()}},n)})),qR.apply(this,arguments)}function NW(n){OW(n)}function zW(n){return KR.apply(this,arguments)}function KR(){return KR=el(br().mark(function n(e){return br().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(pw===void 0){r.next=2;break}return r.abrupt("return",LW(e));case 2:NW(e);case 3:case"end":return r.stop()}},n)})),KR.apply(this,arguments)}const UW=(n,e)=>(PW(n,e),()=>zW(e));let FW=UW;function zO(){return FW}const CM=()=>({height:0,opacity:0}),fP=n=>{const{scrollHeight:e}=n;return{height:e,opacity:1}},HW=n=>({height:n?n.offsetHeight:0}),EM=(n,e)=>(e==null?void 0:e.deadline)===!0||e.propertyName==="height",TF=function(){return{motionName:`${arguments.length>0&&arguments[0]!==void 0?arguments[0]:eS}-motion-collapse`,onAppearStart:CM,onEnterStart:CM,onAppearActive:fP,onEnterActive:fP,onLeaveStart:HW,onLeaveActive:CM,onAppearEnd:EM,onEnterEnd:EM,onLeaveEnd:EM,motionDeadline:500}},ed=(n,e,t)=>t!==void 0?t:`${n}-${e}`;function yo(n,e){var t=Object.assign({},n);return Array.isArray(e)&&e.forEach(function(r){delete t[r]}),t}const UO=function(n){if(!n)return!1;if(n instanceof Element){if(n.offsetParent)return!0;if(n.getBBox){var e=n.getBBox(),t=e.width,r=e.height;if(t||r)return!0}if(n.getBoundingClientRect){var a=n.getBoundingClientRect(),o=a.width,l=a.height;if(o||l)return!0}}return!1},GW=n=>{const{componentCls:e,colorPrimary:t}=n;return{[e]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${t})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${n.motionEaseOutCirc}`,`opacity 2s ${n.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow ${n.motionDurationSlow} ${n.motionEaseInOut}`,`opacity ${n.motionDurationSlow} ${n.motionEaseInOut}`].join(",")}}}}},kW=v7("Wave",n=>[GW(n)]),FO=`${eS}-wave-target`;function wM(n){return n&&n!=="#fff"&&n!=="#ffffff"&&n!=="rgb(255, 255, 255)"&&n!=="rgba(255, 255, 255, 1)"&&!/rgba\((?:\d*, ){3}0\)/.test(n)&&n!=="transparent"}function $W(n){const{borderTopColor:e,borderColor:t,backgroundColor:r}=getComputedStyle(n);return wM(e)?e:wM(t)?t:wM(r)?r:null}function AM(n){return Number.isNaN(n)?0:n}const VW=n=>{const{className:e,target:t,component:r,registerUnmount:a}=n,o=w.useRef(null),l=w.useRef(null);w.useEffect(()=>{l.current=a()},[]);const[s,u]=w.useState(null),[f,m]=w.useState([]),[b,_]=w.useState(0),[E,c]=w.useState(0),[p,g]=w.useState(0),[y,C]=w.useState(0),[T,M]=w.useState(!1),O={left:b,top:E,width:p,height:y,borderRadius:f.map(F=>`${F}px`).join(" ")};s&&(O["--wave-color"]=s);function B(){const F=getComputedStyle(t);u($W(t));const z=F.position==="static",{borderLeftWidth:U,borderTopWidth:$}=F;_(z?t.offsetLeft:AM(-parseFloat(U))),c(z?t.offsetTop:AM(-parseFloat($))),g(t.offsetWidth),C(t.offsetHeight);const{borderTopLeftRadius:J,borderTopRightRadius:W,borderBottomLeftRadius:Q,borderBottomRightRadius:ae}=F;m([J,W,ae,Q].map(Y=>AM(parseFloat(Y))))}if(w.useEffect(()=>{if(t){const F=Da(()=>{B(),M(!0)});let z;return typeof ResizeObserver<"u"&&(z=new ResizeObserver(B),z.observe(t)),()=>{Da.cancel(F),z==null||z.disconnect()}}},[]),!T)return null;const D=(r==="Checkbox"||r==="Radio")&&(t==null?void 0:t.classList.contains(FO));return w.createElement(Xc,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(F,z)=>{var U,$;if(z.deadline||z.propertyName==="opacity"){const J=(U=o.current)===null||U===void 0?void 0:U.parentElement;($=l.current)===null||$===void 0||$.call(l).then(()=>{J==null||J.remove()})}return!1}},(F,z)=>{let{className:U}=F;return w.createElement("div",{ref:_f(o,z),className:Je(e,U,{"wave-quick":D}),style:O})})},jW=(n,e)=>{var t;const{component:r}=e;if(r==="Checkbox"&&!(!((t=n.querySelector("input"))===null||t===void 0)&&t.checked))return;const a=document.createElement("div");a.style.position="absolute",a.style.left="0px",a.style.top="0px",n==null||n.insertBefore(a,n==null?void 0:n.firstChild);const o=zO();let l=null;function s(){return l}l=o(w.createElement(VW,Object.assign({},e,{target:n,registerUnmount:s})),a)},WW=(n,e,t)=>{const{wave:r}=w.useContext(Hn),[,a,o]=od(),l=Qa(f=>{const m=n.current;if(r!=null&&r.disabled||!m)return;const b=m.querySelector(`.${FO}`)||m,{showEffect:_}=r||{};(_||jW)(b,{className:e,token:a,component:t,event:f,hashId:o})}),s=w.useRef(null);return f=>{Da.cancel(s.current),s.current=Da(()=>{l(f)})}},mw=n=>{const{children:e,disabled:t,component:r}=n,{getPrefixCls:a}=w.useContext(Hn),o=w.useRef(null),l=a("wave"),[,s]=kW(l),u=WW(o,Je(l,s),r);if(Xe.useEffect(()=>{const m=o.current;if(!m||m.nodeType!==1||t)return;const b=_=>{!UO(_.target)||!m.getAttribute||m.getAttribute("disabled")||m.disabled||m.className.includes("disabled")||m.className.includes("-leave")||u(_)};return m.addEventListener("click",b,!0),()=>{m.removeEventListener("click",b,!0)}},[t]),!Xe.isValidElement(e))return e??null;const f=xS(e)?_f(ow(e),o):o;return al(e,{ref:f})},Cf=n=>{const e=Xe.useContext(u0);return Xe.useMemo(()=>n?typeof n=="string"?n??e:n instanceof Function?n(e):e:e,[n,e])},XW=n=>{const{componentCls:e}=n;return{[e]:{"&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}}}},YW=n=>{const{componentCls:e,antCls:t}=n;return{[e]:{display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}},[`${e}-item:empty`]:{display:"none"},[`${e}-item > ${t}-badge-not-a-wrapper:only-child`]:{display:"block"}}}},qW=n=>{const{componentCls:e}=n;return{[e]:{"&-gap-row-small":{rowGap:n.spaceGapSmallSize},"&-gap-row-middle":{rowGap:n.spaceGapMiddleSize},"&-gap-row-large":{rowGap:n.spaceGapLargeSize},"&-gap-col-small":{columnGap:n.spaceGapSmallSize},"&-gap-col-middle":{columnGap:n.spaceGapMiddleSize},"&-gap-col-large":{columnGap:n.spaceGapLargeSize}}}},RF=Nr("Space",n=>{const e=qi(n,{spaceGapSmallSize:n.paddingXS,spaceGapMiddleSize:n.padding,spaceGapLargeSize:n.paddingLG});return[YW(e),qW(e),XW(e)]},()=>({}),{resetStyle:!1});var OF=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const gw=w.createContext(null),vw=(n,e)=>{const t=w.useContext(gw),r=w.useMemo(()=>{if(!t)return"";const{compactDirection:a,isFirstItem:o,isLastItem:l}=t,s=a==="vertical"?"-vertical-":"-";return Je(`${n}-compact${s}item`,{[`${n}-compact${s}first-item`]:o,[`${n}-compact${s}last-item`]:l,[`${n}-compact${s}item-rtl`]:e==="rtl"})},[n,e,t]);return{compactSize:t==null?void 0:t.compactSize,compactDirection:t==null?void 0:t.compactDirection,compactItemClassnames:r}},KW=n=>{const{children:e}=n;return w.createElement(gw.Provider,{value:null},e)},JW=n=>{const{children:e}=n,t=OF(n,["children"]);return w.createElement(gw.Provider,{value:w.useMemo(()=>t,[t])},e)},QW=n=>{const{getPrefixCls:e,direction:t}=w.useContext(Hn),{size:r,direction:a,block:o,prefixCls:l,className:s,rootClassName:u,children:f}=n,m=OF(n,["size","direction","block","prefixCls","className","rootClassName","children"]),b=Cf(T=>r??T),_=e("space-compact",l),[E,c]=RF(_),p=Je(_,c,{[`${_}-rtl`]:t==="rtl",[`${_}-block`]:o,[`${_}-vertical`]:a==="vertical"},s,u),g=w.useContext(gw),y=Qu(f),C=w.useMemo(()=>y.map((T,M)=>{const O=(T==null?void 0:T.key)||`${_}-item-${M}`;return w.createElement(JW,{key:O,compactSize:b,compactDirection:a,isFirstItem:M===0&&(!g||(g==null?void 0:g.isFirstItem)),isLastItem:M===y.length-1&&(!g||(g==null?void 0:g.isLastItem))},T)}),[r,y,g]);return y.length===0?null:E(w.createElement("div",Object.assign({className:p},m),C))};var ZW=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const IF=w.createContext(void 0),eX=n=>{const{getPrefixCls:e,direction:t}=w.useContext(Hn),{prefixCls:r,size:a,className:o}=n,l=ZW(n,["prefixCls","size","className"]),s=e("btn-group",r),[,,u]=od(),f=w.useMemo(()=>{switch(a){case"large":return"lg";case"small":return"sm";default:return""}},[a]),m=Je(s,{[`${s}-${f}`]:f,[`${s}-rtl`]:t==="rtl"},o,u);return w.createElement(IF.Provider,{value:a},w.createElement("div",Object.assign({},l,{className:m})))},hP=/^[\u4E00-\u9FA5]{2}$/,JR=hP.test.bind(hP);function BF(n){return n==="danger"?{danger:!0}:{type:n}}function pP(n){return typeof n=="string"}function MM(n){return n==="text"||n==="link"}function tX(n,e){if(n==null)return;const t=e?" ":"";return typeof n!="string"&&typeof n!="number"&&pP(n.type)&&JR(n.props.children)?al(n,{children:n.props.children.split("").join(t)}):pP(n)?JR(n)?Xe.createElement("span",null,n.split("").join(t)):Xe.createElement("span",null,n):bF(n)?Xe.createElement("span",null,n):n}function nX(n,e){let t=!1;const r=[];return Xe.Children.forEach(n,a=>{const o=typeof a,l=o==="string"||o==="number";if(t&&l){const s=r.length-1,u=r[s];r[s]=`${u}${a}`}else r.push(a);t=l}),Xe.Children.map(r,a=>tX(a,e))}["default","primary","danger"].concat(Jt(Hh));const QR=w.forwardRef((n,e)=>{const{className:t,style:r,children:a,prefixCls:o}=n,l=Je(`${o}-icon`,t);return Xe.createElement("span",{ref:e,className:l,style:r},a)}),mP=w.forwardRef((n,e)=>{const{prefixCls:t,className:r,style:a,iconClassName:o}=n,l=Je(`${t}-loading-icon`,r);return Xe.createElement(QR,{prefixCls:t,className:l,style:a,ref:e},Xe.createElement(r0,{className:o}))}),TM=()=>({width:0,opacity:0,transform:"scale(0)"}),RM=n=>({width:n.scrollWidth,opacity:1,transform:"scale(1)"}),iX=n=>{const{prefixCls:e,loading:t,existIcon:r,className:a,style:o,mount:l}=n,s=!!t;return r?Xe.createElement(mP,{prefixCls:e,className:a,style:o}):Xe.createElement(Xc,{visible:s,motionName:`${e}-loading-icon-motion`,motionAppear:!l,motionEnter:!l,motionLeave:!l,removeOnLeave:!0,onAppearStart:TM,onAppearActive:RM,onEnterStart:TM,onEnterActive:RM,onLeaveStart:RM,onLeaveActive:TM},(u,f)=>{let{className:m,style:b}=u;const _=Object.assign(Object.assign({},o),b);return Xe.createElement(mP,{prefixCls:e,className:Je(a,m),style:_,ref:f})})},gP=(n,e)=>({[`> span, > ${n}`]:{"&:not(:last-child)":{[`&, & > ${n}`]:{"&:not(:disabled)":{borderInlineEndColor:e}}},"&:not(:first-child)":{[`&, & > ${n}`]:{"&:not(:disabled)":{borderInlineStartColor:e}}}}}),rX=n=>{const{componentCls:e,fontSize:t,lineWidth:r,groupBorderColor:a,colorErrorHover:o}=n;return{[`${e}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:n.calc(r).mul(-1).equal(),[`&, & > ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[e]:{position:"relative",zIndex:1,"&:hover, &:focus, &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${e}-icon-only`]:{fontSize:t}},gP(`${e}-primary`,a),gP(`${e}-danger`,o)]}};var aX=["b"],oX=["v"],OM=function(e){return Math.round(Number(e||0))},sX=function(e){if(e instanceof Bi)return e;if(e&&mn(e)==="object"&&"h"in e&&"b"in e){var t=e,r=t.b,a=kn(t,aX);return Ne(Ne({},a),{},{v:r})}return typeof e=="string"&&/hsb/.test(e)?e.replace(/hsb/,"hsv"):e},tS=function(n){Ar(t,n);var e=Wc(t);function t(r){return ai(this,t),e.call(this,sX(r))}return oi(t,[{key:"toHsbString",value:function(){var a=this.toHsb(),o=OM(a.s*100),l=OM(a.b*100),s=OM(a.h),u=a.a,f="hsb(".concat(s,", ").concat(o,"%, ").concat(l,"%)"),m="hsba(".concat(s,", ").concat(o,"%, ").concat(l,"%, ").concat(u.toFixed(u===0?0:2),")");return u===1?f:m}},{key:"toHsb",value:function(){var a=this.toHsv(),o=a.v,l=kn(a,oX);return Ne(Ne({},l),{},{b:o,a:this.a})}}]),t}(Bi),lX=function(e){return e instanceof tS?e:new tS(e)};lX("#1677ff");const cX=(n,e)=>(n==null?void 0:n.replace(/[^\w/]/g,"").slice(0,e?8:6))||"",uX=(n,e)=>n?cX(n,e):"";let dX=function(){function n(e){ai(this,n);var t;if(this.cleared=!1,e instanceof n){this.metaColor=e.metaColor.clone(),this.colors=(t=e.colors)===null||t===void 0?void 0:t.map(a=>({color:new n(a.color),percent:a.percent})),this.cleared=e.cleared;return}const r=Array.isArray(e);r&&e.length?(this.colors=e.map(a=>{let{color:o,percent:l}=a;return{color:new n(o),percent:l}}),this.metaColor=new tS(this.colors[0].color.metaColor)):this.metaColor=new tS(r?"":e),(!e||r&&!this.colors)&&(this.metaColor=this.metaColor.setA(0),this.cleared=!0)}return oi(n,[{key:"toHsb",value:function(){return this.metaColor.toHsb()}},{key:"toHsbString",value:function(){return this.metaColor.toHsbString()}},{key:"toHex",value:function(){return uX(this.toHexString(),this.metaColor.a<1)}},{key:"toHexString",value:function(){return this.metaColor.toHexString()}},{key:"toRgb",value:function(){return this.metaColor.toRgb()}},{key:"toRgbString",value:function(){return this.metaColor.toRgbString()}},{key:"isGradient",value:function(){return!!this.colors&&!this.cleared}},{key:"getColors",value:function(){return this.colors||[{color:this,percent:0}]}},{key:"toCssString",value:function(){const{colors:t}=this;return t?`linear-gradient(90deg, ${t.map(a=>`${a.color.toRgbString()} ${a.percent}%`).join(", ")})`:this.metaColor.toRgbString()}},{key:"equals",value:function(t){return!t||this.isGradient()!==t.isGradient()?!1:this.isGradient()?this.colors.length===t.colors.length&&this.colors.every((r,a)=>{const o=t.colors[a];return r.percent===o.percent&&r.color.equals(o.color)}):this.toHexString()===t.toHexString()}}])}();const DF=n=>({[n.componentCls]:{[`${n.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${n.motionDurationMid} ${n.motionEaseInOut},
        opacity ${n.motionDurationMid} ${n.motionEaseInOut} !important`}},[`${n.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${n.motionDurationMid} ${n.motionEaseInOut},
        opacity ${n.motionDurationMid} ${n.motionEaseInOut} !important`}}}),fX=n=>({animationDuration:n,animationFillMode:"both"}),hX=n=>({animationDuration:n,animationFillMode:"both"}),HO=function(n,e,t,r){const o=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${o}${n}-enter,
      ${o}${n}-appear
    `]:Object.assign(Object.assign({},fX(r)),{animationPlayState:"paused"}),[`${o}${n}-leave`]:Object.assign(Object.assign({},hX(r)),{animationPlayState:"paused"}),[`
      ${o}${n}-enter${n}-enter-active,
      ${o}${n}-appear${n}-appear-active
    `]:{animationName:e,animationPlayState:"running"},[`${o}${n}-leave${n}-leave-active`]:{animationName:t,animationPlayState:"running",pointerEvents:"none"}}},pX=new rr("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),mX=new rr("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),GO=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{antCls:t}=n,r=`${t}-fade`,a=e?"&":"";return[HO(r,pX,mX,n.motionDurationMid,e),{[`
        ${a}${r}-enter,
        ${a}${r}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${a}${r}-leave`]:{animationTimingFunction:"linear"}}]},gX=new rr("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),vX=new rr("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),yX=new rr("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),bX=new rr("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),SX=new rr("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),_X=new rr("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),xX=new rr("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),CX=new rr("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),EX={"slide-up":{inKeyframes:gX,outKeyframes:vX},"slide-down":{inKeyframes:yX,outKeyframes:bX},"slide-left":{inKeyframes:SX,outKeyframes:_X},"slide-right":{inKeyframes:xX,outKeyframes:CX}},vP=(n,e)=>{const{antCls:t}=n,r=`${t}-${e}`,{inKeyframes:a,outKeyframes:o}=EX[e];return[HO(r,a,o,n.motionDurationMid),{[`
      ${r}-enter,
      ${r}-appear
    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:n.motionEaseOutQuint,"&-prepare":{transform:"scale(1)"}},[`${r}-leave`]:{animationTimingFunction:n.motionEaseInQuint}}]},wX=new rr("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),AX=new rr("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),yP=new rr("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),bP=new rr("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),MX=new rr("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),TX=new rr("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),RX=new rr("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),OX=new rr("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),IX=new rr("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),BX=new rr("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),DX=new rr("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),PX=new rr("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),LX={zoom:{inKeyframes:wX,outKeyframes:AX},"zoom-big":{inKeyframes:yP,outKeyframes:bP},"zoom-big-fast":{inKeyframes:yP,outKeyframes:bP},"zoom-left":{inKeyframes:RX,outKeyframes:OX},"zoom-right":{inKeyframes:IX,outKeyframes:BX},"zoom-up":{inKeyframes:MX,outKeyframes:TX},"zoom-down":{inKeyframes:DX,outKeyframes:PX}},MS=(n,e)=>{const{antCls:t}=n,r=`${t}-${e}`,{inKeyframes:a,outKeyframes:o}=LX[e];return[HO(r,a,o,e==="zoom-big-fast"?n.motionDurationFast:n.motionDurationMid),{[`
        ${r}-enter,
        ${r}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:n.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${r}-leave`]:{animationTimingFunction:n.motionEaseInOutCirc}}]},NX=(n,e)=>{const{r:t,g:r,b:a,a:o}=n.toRgb(),l=new tS(n.toRgbString()).onBackground(e).toHsv();return o<=.5?l.v>.5:t*.299+r*.587+a*.114>192},PF=n=>{const{paddingInline:e,onlyIconSize:t}=n;return qi(n,{buttonPaddingHorizontal:e,buttonPaddingVertical:0,buttonIconOnlyFontSize:t})},LF=n=>{var e,t,r,a,o,l;const s=(e=n.contentFontSize)!==null&&e!==void 0?e:n.fontSize,u=(t=n.contentFontSizeSM)!==null&&t!==void 0?t:n.fontSize,f=(r=n.contentFontSizeLG)!==null&&r!==void 0?r:n.fontSizeLG,m=(a=n.contentLineHeight)!==null&&a!==void 0?a:UC(s),b=(o=n.contentLineHeightSM)!==null&&o!==void 0?o:UC(u),_=(l=n.contentLineHeightLG)!==null&&l!==void 0?l:UC(f),E=NX(new dX(n.colorBgSolid),"#fff")?"#000":"#fff",c=Hh.reduce((p,g)=>Object.assign(Object.assign({},p),{[`${g}ShadowColor`]:`0 ${Mt(n.controlOutlineWidth)} 0 ${lb(n[`${g}1`],n.colorBgContainer)}`}),{});return Object.assign(Object.assign({},c),{fontWeight:400,defaultShadow:`0 ${n.controlOutlineWidth}px 0 ${n.controlTmpOutline}`,primaryShadow:`0 ${n.controlOutlineWidth}px 0 ${n.controlOutline}`,dangerShadow:`0 ${n.controlOutlineWidth}px 0 ${n.colorErrorOutline}`,primaryColor:n.colorTextLightSolid,dangerColor:n.colorTextLightSolid,borderColorDisabled:n.colorBorder,defaultGhostColor:n.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:n.colorBgContainer,paddingInline:n.paddingContentHorizontal-n.lineWidth,paddingInlineLG:n.paddingContentHorizontal-n.lineWidth,paddingInlineSM:8-n.lineWidth,onlyIconSize:"inherit",onlyIconSizeSM:"inherit",onlyIconSizeLG:"inherit",groupBorderColor:n.colorPrimaryHover,linkHoverBg:"transparent",textTextColor:n.colorText,textTextHoverColor:n.colorText,textTextActiveColor:n.colorText,textHoverBg:n.colorFillTertiary,defaultColor:n.colorText,defaultBg:n.colorBgContainer,defaultBorderColor:n.colorBorder,defaultBorderColorDisabled:n.colorBorder,defaultHoverBg:n.colorBgContainer,defaultHoverColor:n.colorPrimaryHover,defaultHoverBorderColor:n.colorPrimaryHover,defaultActiveBg:n.colorBgContainer,defaultActiveColor:n.colorPrimaryActive,defaultActiveBorderColor:n.colorPrimaryActive,solidTextColor:E,contentFontSize:s,contentFontSizeSM:u,contentFontSizeLG:f,contentLineHeight:m,contentLineHeightSM:b,contentLineHeightLG:_,paddingBlock:Math.max((n.controlHeight-s*m)/2-n.lineWidth,0),paddingBlockSM:Math.max((n.controlHeightSM-u*b)/2-n.lineWidth,0),paddingBlockLG:Math.max((n.controlHeightLG-f*_)/2-n.lineWidth,0)})},zX=n=>{const{componentCls:e,iconCls:t,fontWeight:r,opacityLoading:a,motionDurationSlow:o,motionEaseInOut:l,marginXS:s,calc:u}=n;return{[e]:{outline:"none",position:"relative",display:"inline-flex",gap:n.marginXS,alignItems:"center",justifyContent:"center",fontWeight:r,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",background:"transparent",border:`${Mt(n.lineWidth)} ${n.lineType} transparent`,cursor:"pointer",transition:`all ${n.motionDurationMid} ${n.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",color:n.colorText,"&:disabled > *":{pointerEvents:"none"},[`${e}-icon > svg`]:BO(),"> a":{color:"currentColor"},"&:not(:disabled)":DO(n),[`&${e}-two-chinese-chars::first-letter`]:{letterSpacing:"0.34em"},[`&${e}-two-chinese-chars > *:not(${t})`]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},[`&${e}-icon-only`]:{paddingInline:0,[`&${e}-compact-item`]:{flex:"none"},[`&${e}-round`]:{width:"auto"}},[`&${e}-loading`]:{opacity:a,cursor:"default"},[`${e}-loading-icon`]:{transition:["width","opacity","margin"].map(f=>`${f} ${o} ${l}`).join(",")},[`&:not(${e}-icon-end)`]:{[`${e}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineEnd:u(s).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineEnd:0},"&-leave-start":{marginInlineEnd:0},"&-leave-active":{marginInlineEnd:u(s).mul(-1).equal()}}},"&-icon-end":{flexDirection:"row-reverse",[`${e}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineStart:u(s).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineStart:0},"&-leave-start":{marginInlineStart:0},"&-leave-active":{marginInlineStart:u(s).mul(-1).equal()}}}}}},NF=(n,e,t)=>({[`&:not(:disabled):not(${n}-disabled)`]:{"&:hover":e,"&:active":t}}),UX=n=>({minWidth:n.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),FX=n=>({borderRadius:n.controlHeight,paddingInlineStart:n.calc(n.controlHeight).div(2).equal(),paddingInlineEnd:n.calc(n.controlHeight).div(2).equal()}),HX=n=>({cursor:"not-allowed",borderColor:n.borderColorDisabled,color:n.colorTextDisabled,background:n.colorBgContainerDisabled,boxShadow:"none"}),yw=(n,e,t,r,a,o,l,s)=>({[`&${n}-background-ghost`]:Object.assign(Object.assign({color:t||void 0,background:e,borderColor:r||void 0,boxShadow:"none"},NF(n,Object.assign({background:e},l),Object.assign({background:e},s))),{"&:disabled":{cursor:"not-allowed",color:a||void 0,borderColor:o||void 0}})}),GX=n=>({[`&:disabled, &${n.componentCls}-disabled`]:Object.assign({},HX(n))}),kX=n=>({[`&:disabled, &${n.componentCls}-disabled`]:{cursor:"not-allowed",color:n.colorTextDisabled}}),bw=(n,e,t,r)=>{const o=r&&["link","text"].includes(r)?kX:GX;return Object.assign(Object.assign({},o(n)),NF(n.componentCls,e,t))},Sw=(n,e,t,r,a)=>({[`&${n.componentCls}-variant-solid`]:Object.assign({color:e,background:t},bw(n,r,a))}),_w=(n,e,t,r,a)=>({[`&${n.componentCls}-variant-outlined, &${n.componentCls}-variant-dashed`]:Object.assign({borderColor:e,background:t},bw(n,r,a))}),xw=n=>({[`&${n.componentCls}-variant-dashed`]:{borderStyle:"dashed"}}),Cw=(n,e,t,r)=>({[`&${n.componentCls}-variant-filled`]:Object.assign({boxShadow:"none",background:e},bw(n,t,r))}),td=(n,e,t,r,a)=>({[`&${n.componentCls}-variant-${t}`]:Object.assign({color:e,boxShadow:"none"},bw(n,r,a,t))}),$X=n=>{const{componentCls:e}=n;return Hh.reduce((t,r)=>{const a=n[`${r}6`],o=n[`${r}1`],l=n[`${r}5`],s=n[`${r}2`],u=n[`${r}3`],f=n[`${r}7`];return Object.assign(Object.assign({},t),{[`&${e}-color-${r}`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:a,boxShadow:n[`${r}ShadowColor`]},Sw(n,n.colorTextLightSolid,a,{background:l},{background:f})),_w(n,a,n.colorBgContainer,{color:l,borderColor:l,background:n.colorBgContainer},{color:f,borderColor:f,background:n.colorBgContainer})),xw(n)),Cw(n,o,{background:s},{background:u})),td(n,a,"link",{color:l},{color:f})),td(n,a,"text",{color:l,background:o},{color:f,background:u}))})},{})},VX=n=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:n.defaultColor,boxShadow:n.defaultShadow},Sw(n,n.solidTextColor,n.colorBgSolid,{color:n.solidTextColor,background:n.colorBgSolidHover},{color:n.solidTextColor,background:n.colorBgSolidActive})),xw(n)),Cw(n,n.colorFillTertiary,{background:n.colorFillSecondary},{background:n.colorFill})),yw(n.componentCls,n.ghostBg,n.defaultGhostColor,n.defaultGhostBorderColor,n.colorTextDisabled,n.colorBorder)),td(n,n.textTextColor,"link",{color:n.colorLinkHover,background:n.linkHoverBg},{color:n.colorLinkActive})),jX=n=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:n.colorPrimary,boxShadow:n.primaryShadow},_w(n,n.colorPrimary,n.colorBgContainer,{color:n.colorPrimaryTextHover,borderColor:n.colorPrimaryHover,background:n.colorBgContainer},{color:n.colorPrimaryTextActive,borderColor:n.colorPrimaryActive,background:n.colorBgContainer})),xw(n)),Cw(n,n.colorPrimaryBg,{background:n.colorPrimaryBgHover},{background:n.colorPrimaryBorder})),td(n,n.colorPrimaryText,"text",{color:n.colorPrimaryTextHover,background:n.colorPrimaryBg},{color:n.colorPrimaryTextActive,background:n.colorPrimaryBorder})),td(n,n.colorPrimaryText,"link",{color:n.colorPrimaryTextHover,background:n.linkHoverBg},{color:n.colorPrimaryTextActive})),yw(n.componentCls,n.ghostBg,n.colorPrimary,n.colorPrimary,n.colorTextDisabled,n.colorBorder,{color:n.colorPrimaryHover,borderColor:n.colorPrimaryHover},{color:n.colorPrimaryActive,borderColor:n.colorPrimaryActive})),WX=n=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:n.colorError,boxShadow:n.dangerShadow},Sw(n,n.dangerColor,n.colorError,{background:n.colorErrorHover},{background:n.colorErrorActive})),_w(n,n.colorError,n.colorBgContainer,{color:n.colorErrorHover,borderColor:n.colorErrorBorderHover},{color:n.colorErrorActive,borderColor:n.colorErrorActive})),xw(n)),Cw(n,n.colorErrorBg,{background:n.colorErrorBgFilledHover},{background:n.colorErrorBgActive})),td(n,n.colorError,"text",{color:n.colorErrorHover,background:n.colorErrorBg},{color:n.colorErrorHover,background:n.colorErrorBgActive})),td(n,n.colorError,"link",{color:n.colorErrorHover},{color:n.colorErrorActive})),yw(n.componentCls,n.ghostBg,n.colorError,n.colorError,n.colorTextDisabled,n.colorBorder,{color:n.colorErrorHover,borderColor:n.colorErrorHover},{color:n.colorErrorActive,borderColor:n.colorErrorActive})),XX=n=>Object.assign(Object.assign({},td(n,n.colorLink,"link",{color:n.colorLinkHover},{color:n.colorLinkActive})),yw(n.componentCls,n.ghostBg,n.colorInfo,n.colorInfo,n.colorTextDisabled,n.colorBorder,{color:n.colorInfoHover,borderColor:n.colorInfoHover},{color:n.colorInfoActive,borderColor:n.colorInfoActive})),YX=n=>{const{componentCls:e}=n;return Object.assign({[`${e}-color-default`]:VX(n),[`${e}-color-primary`]:jX(n),[`${e}-color-dangerous`]:WX(n),[`${e}-color-link`]:XX(n)},$X(n))},qX=n=>Object.assign(Object.assign(Object.assign(Object.assign({},_w(n,n.defaultBorderColor,n.defaultBg,{color:n.defaultHoverColor,borderColor:n.defaultHoverBorderColor,background:n.defaultHoverBg},{color:n.defaultActiveColor,borderColor:n.defaultActiveBorderColor,background:n.defaultActiveBg})),td(n,n.textTextColor,"text",{color:n.textTextHoverColor,background:n.textHoverBg},{color:n.textTextActiveColor,background:n.colorBgTextActive})),Sw(n,n.primaryColor,n.colorPrimary,{background:n.colorPrimaryHover,color:n.primaryColor},{background:n.colorPrimaryActive,color:n.primaryColor})),td(n,n.colorLink,"link",{color:n.colorLinkHover,background:n.linkHoverBg},{color:n.colorLinkActive})),kO=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const{componentCls:t,controlHeight:r,fontSize:a,borderRadius:o,buttonPaddingHorizontal:l,iconCls:s,buttonPaddingVertical:u,buttonIconOnlyFontSize:f}=n;return[{[e]:{fontSize:a,height:r,padding:`${Mt(u)} ${Mt(l)}`,borderRadius:o,[`&${t}-icon-only`]:{width:r,[s]:{fontSize:f}}}},{[`${t}${t}-circle${e}`]:UX(n)},{[`${t}${t}-round${e}`]:FX(n)}]},KX=n=>{const e=qi(n,{fontSize:n.contentFontSize});return kO(e,n.componentCls)},JX=n=>{const e=qi(n,{controlHeight:n.controlHeightSM,fontSize:n.contentFontSizeSM,padding:n.paddingXS,buttonPaddingHorizontal:n.paddingInlineSM,buttonPaddingVertical:0,borderRadius:n.borderRadiusSM,buttonIconOnlyFontSize:n.onlyIconSizeSM});return kO(e,`${n.componentCls}-sm`)},QX=n=>{const e=qi(n,{controlHeight:n.controlHeightLG,fontSize:n.contentFontSizeLG,buttonPaddingHorizontal:n.paddingInlineLG,buttonPaddingVertical:0,borderRadius:n.borderRadiusLG,buttonIconOnlyFontSize:n.onlyIconSizeLG});return kO(e,`${n.componentCls}-lg`)},ZX=n=>{const{componentCls:e}=n;return{[e]:{[`&${e}-block`]:{width:"100%"}}}},eY=Nr("Button",n=>{const e=PF(n);return[zX(e),KX(e),JX(e),QX(e),ZX(e),YX(e),qX(e),rX(e)]},LF,{unitless:{fontWeight:!0,contentLineHeight:!0,contentLineHeightSM:!0,contentLineHeightLG:!0}});function tY(n,e,t){const{focusElCls:r,focus:a,borderElCls:o}=t,l=o?"> *":"",s=["hover",a?"focus":null,"active"].filter(Boolean).map(u=>`&:${u} ${l}`).join(",");return{[`&-item:not(${e}-last-item)`]:{marginInlineEnd:n.calc(n.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[s]:{zIndex:2}},r?{[`&${r}`]:{zIndex:2}}:{}),{[`&[disabled] ${l}`]:{zIndex:0}})}}function nY(n,e,t){const{borderElCls:r}=t,a=r?`> ${r}`:"";return{[`&-item:not(${e}-first-item):not(${e}-last-item) ${a}`]:{borderRadius:0},[`&-item:not(${e}-last-item)${e}-first-item`]:{[`& ${a}, &${n}-sm ${a}, &${n}-lg ${a}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${e}-first-item)${e}-last-item`]:{[`& ${a}, &${n}-sm ${a}, &${n}-lg ${a}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function zF(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:t}=n,r=`${t}-compact`;return{[r]:Object.assign(Object.assign({},tY(n,r,e)),nY(t,r,e))}}function iY(n,e){return{[`&-item:not(${e}-last-item)`]:{marginBottom:n.calc(n.lineWidth).mul(-1).equal()},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function rY(n,e){return{[`&-item:not(${e}-first-item):not(${e}-last-item)`]:{borderRadius:0},[`&-item${e}-first-item:not(${e}-last-item)`]:{[`&, &${n}-sm, &${n}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${e}-last-item:not(${e}-first-item)`]:{[`&, &${n}-sm, &${n}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function aY(n){const e=`${n.componentCls}-compact-vertical`;return{[e]:Object.assign(Object.assign({},iY(n,e)),rY(n.componentCls,e))}}const oY=n=>{const{componentCls:e,colorPrimaryHover:t,lineWidth:r,calc:a}=n,o=a(r).mul(-1).equal(),l=s=>{const u=`${e}-compact${s?"-vertical":""}-item${e}-primary:not([disabled])`;return{[`${u} + ${u}::before`]:{position:"absolute",top:s?o:0,insetInlineStart:s?0:o,backgroundColor:t,content:'""',width:s?"100%":r,height:s?r:"100%"}}};return Object.assign(Object.assign({},l()),l(!0))},sY=hw(["Button","compact"],n=>{const e=PF(n);return[zF(e),aY(e),oY(e)]},LF);var lY=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};function cY(n){if(typeof n=="object"&&n){let e=n==null?void 0:n.delay;return e=!Number.isNaN(e)&&typeof e=="number"?e:0,{loading:e<=0,delay:e}}return{loading:!!n,delay:0}}const uY={default:["default","outlined"],primary:["primary","solid"],dashed:["default","dashed"],link:["link","link"],text:["default","text"]},dY=Xe.forwardRef((n,e)=>{var t,r;const{loading:a=!1,prefixCls:o,color:l,variant:s,type:u,danger:f=!1,shape:m="default",size:b,styles:_,disabled:E,className:c,rootClassName:p,children:g,icon:y,iconPosition:C="start",ghost:T=!1,block:M=!1,htmlType:O="button",classNames:B,style:D={},autoInsertSpace:F,autoFocus:z}=n,U=lY(n,["loading","prefixCls","color","variant","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","iconPosition","ghost","block","htmlType","classNames","style","autoInsertSpace","autoFocus"]),$=u||"default",[J,W]=w.useMemo(()=>{if(l&&s)return[l,s];const rt=uY[$]||[];return f?["danger",rt[1]]:rt},[u,l,s,f]),ae=J==="danger"?"dangerous":J,{getPrefixCls:Y,direction:K,autoInsertSpace:ee,className:de,style:q,classNames:ie,styles:he}=ad("button"),fe=(t=F??ee)!==null&&t!==void 0?t:!0,Z=Y("btn",o),[pe,xe,Oe]=eY(Z),Ae=w.useContext(Zu),Te=E??Ae,ze=w.useContext(IF),yt=w.useMemo(()=>cY(a),[a]),[Be,Ce]=w.useState(yt.loading),[re,Fe]=w.useState(!1),Ie=w.useRef(null),qe=O0(e,Ie),$e=w.Children.count(g)===1&&!y&&!MM(W),ct=w.useRef(!0);Xe.useEffect(()=>(ct.current=!1,()=>{ct.current=!0}),[]),w.useEffect(()=>{let rt=null;yt.delay>0?rt=setTimeout(()=>{rt=null,Ce(!0)},yt.delay):Ce(yt.loading);function Se(){rt&&(clearTimeout(rt),rt=null)}return Se},[yt]),w.useEffect(()=>{if(!Ie.current||!fe)return;const rt=Ie.current.textContent||"";$e&&JR(rt)?re||Fe(!0):re&&Fe(!1)}),w.useEffect(()=>{z&&Ie.current&&Ie.current.focus()},[]);const st=Xe.useCallback(rt=>{var Se;if(Be||Te){rt.preventDefault();return}(Se=n.onClick)===null||Se===void 0||Se.call(n,("href"in n,rt))},[n.onClick,Be,Te]),{compactSize:ce,compactItemClassnames:oe}=vw(Z,K),we={large:"lg",small:"sm",middle:void 0},De=Cf(rt=>{var Se,Ge;return(Ge=(Se=b??ce)!==null&&Se!==void 0?Se:ze)!==null&&Ge!==void 0?Ge:rt}),Ke=De&&(r=we[De])!==null&&r!==void 0?r:"",He=Be?"loading":y,gt=yo(U,["navigate"]),lt=Je(Z,xe,Oe,{[`${Z}-${m}`]:m!=="default"&&m,[`${Z}-${$}`]:$,[`${Z}-dangerous`]:f,[`${Z}-color-${ae}`]:ae,[`${Z}-variant-${W}`]:W,[`${Z}-${Ke}`]:Ke,[`${Z}-icon-only`]:!g&&g!==0&&!!He,[`${Z}-background-ghost`]:T&&!MM(W),[`${Z}-loading`]:Be,[`${Z}-two-chinese-chars`]:re&&fe&&!Be,[`${Z}-block`]:M,[`${Z}-rtl`]:K==="rtl",[`${Z}-icon-end`]:C==="end"},oe,c,p,de),pt=Object.assign(Object.assign({},q),D),It=Je(B==null?void 0:B.icon,ie.icon),ot=Object.assign(Object.assign({},(_==null?void 0:_.icon)||{}),he.icon||{}),_t=y&&!Be?Xe.createElement(QR,{prefixCls:Z,className:It,style:ot},y):a&&typeof a=="object"&&a.icon?Xe.createElement(QR,{prefixCls:Z,className:It,style:ot},a.icon):Xe.createElement(iX,{existIcon:!!y,prefixCls:Z,loading:Be,mount:ct.current}),Ct=g||g===0?nX(g,$e&&fe):null;if(gt.href!==void 0)return pe(Xe.createElement("a",Object.assign({},gt,{className:Je(lt,{[`${Z}-disabled`]:Te}),href:Te?void 0:gt.href,style:pt,onClick:st,ref:qe,tabIndex:Te?-1:0}),_t,Ct));let We=Xe.createElement("button",Object.assign({},U,{type:O,className:lt,style:pt,onClick:st,disabled:Te,ref:qe}),_t,Ct,oe&&Xe.createElement(sY,{prefixCls:Z}));return MM(W)||(We=Xe.createElement(mw,{component:"Button",disabled:Be},We)),pe(We)}),pa=dY;pa.Group=eX;pa.__ANT_BUTTON=!0;function IM(n){return!!(n!=null&&n.then)}const UF=n=>{const{type:e,children:t,prefixCls:r,buttonProps:a,close:o,autoFocus:l,emitEvent:s,isSilent:u,quitOnNullishReturnValue:f,actionFn:m}=n,b=w.useRef(!1),_=w.useRef(null),[E,c]=d0(!1),p=function(){o==null||o.apply(void 0,arguments)};w.useEffect(()=>{let C=null;return l&&(C=setTimeout(()=>{var T;(T=_.current)===null||T===void 0||T.focus({preventScroll:!0})})),()=>{C&&clearTimeout(C)}},[]);const g=C=>{IM(C)&&(c(!0),C.then(function(){c(!1,!0),p.apply(void 0,arguments),b.current=!1},T=>{if(c(!1,!0),b.current=!1,!(u!=null&&u()))return Promise.reject(T)}))},y=C=>{if(b.current)return;if(b.current=!0,!m){p();return}let T;if(s){if(T=m(C),f&&!IM(T)){b.current=!1,p(C);return}}else if(m.length)T=m(o),b.current=!1;else if(T=m(),!IM(T)){p();return}g(T)};return w.createElement(pa,Object.assign({},BF(e),{onClick:y,loading:E,prefixCls:r},a,{ref:_}),t)},TS=Xe.createContext({}),{Provider:FF}=TS,SP=()=>{const{autoFocusButton:n,cancelButtonProps:e,cancelTextLocale:t,isSilent:r,mergedOkCancel:a,rootPrefixCls:o,close:l,onCancel:s,onConfirm:u}=w.useContext(TS);return a?Xe.createElement(UF,{isSilent:r,actionFn:s,close:function(){l==null||l.apply(void 0,arguments),u==null||u(!1)},autoFocus:n==="cancel",buttonProps:e,prefixCls:`${o}-btn`},t):null},_P=()=>{const{autoFocusButton:n,close:e,isSilent:t,okButtonProps:r,rootPrefixCls:a,okTextLocale:o,okType:l,onConfirm:s,onOk:u}=w.useContext(TS);return Xe.createElement(UF,{isSilent:t,type:l||"primary",actionFn:u,close:function(){e==null||e.apply(void 0,arguments),s==null||s(!0)},autoFocus:n==="ok",buttonProps:r,prefixCls:`${a}-btn`},o)};var HF=w.createContext(null),xP=[];function fY(n,e){var t=w.useState(function(){if(!us())return null;var c=document.createElement("div");return c}),r=vt(t,1),a=r[0],o=w.useRef(!1),l=w.useContext(HF),s=w.useState(xP),u=vt(s,2),f=u[0],m=u[1],b=l||(o.current?void 0:function(c){m(function(p){var g=[c].concat(Jt(p));return g})});function _(){a.parentElement||document.body.appendChild(a),o.current=!0}function E(){var c;(c=a.parentElement)===null||c===void 0||c.removeChild(a),o.current=!1}return wa(function(){return n?l?l(_):_():E(),E},[n]),wa(function(){f.length&&(f.forEach(function(c){return c()}),m(xP))},[f]),[a,b]}function hY(n){var e="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),t=document.createElement("div");t.id=e;var r=t.style;r.position="absolute",r.left="0",r.top="0",r.width="100px",r.height="100px",r.overflow="scroll";var a,o;if(n){var l=getComputedStyle(n);r.scrollbarColor=l.scrollbarColor,r.scrollbarWidth=l.scrollbarWidth;var s=getComputedStyle(n,"::-webkit-scrollbar"),u=parseInt(s.width,10),f=parseInt(s.height,10);try{var m=u?"width: ".concat(s.width,";"):"",b=f?"height: ".concat(s.height,";"):"";lf(`
#`.concat(e,`::-webkit-scrollbar {
`).concat(m,`
`).concat(b,`
}`),e)}catch(c){console.error(c),a=u,o=f}}document.body.appendChild(t);var _=n&&a&&!isNaN(a)?a:t.offsetWidth-t.clientWidth,E=n&&o&&!isNaN(o)?o:t.offsetHeight-t.clientHeight;return document.body.removeChild(t),Xb(e),{width:_,height:E}}function pY(n){return typeof document>"u"||!n||!(n instanceof Element)?{width:0,height:0}:hY(n)}function mY(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var gY="rc-util-locker-".concat(Date.now()),CP=0;function vY(n){var e=!!n,t=w.useState(function(){return CP+=1,"".concat(gY,"_").concat(CP)}),r=vt(t,1),a=r[0];wa(function(){if(e){var o=pY(document.body).width,l=mY();lf(`
html body {
  overflow-y: hidden;
  `.concat(l?"width: calc(100% - ".concat(o,"px);"):"",`
}`),a)}else Xb(a);return function(){Xb(a)}},[e,a])}var yY=!1;function bY(n){return yY}var EP=function(e){return e===!1?!1:!us()||!e?null:typeof e=="string"?document.querySelector(e):typeof e=="function"?e():e},Ew=w.forwardRef(function(n,e){var t=n.open,r=n.autoLock,a=n.getContainer;n.debug;var o=n.autoDestroy,l=o===void 0?!0:o,s=n.children,u=w.useState(t),f=vt(u,2),m=f[0],b=f[1],_=m||t;w.useEffect(function(){(l||t)&&b(t)},[t,l]);var E=w.useState(function(){return EP(a)}),c=vt(E,2),p=c[0],g=c[1];w.useEffect(function(){var $=EP(a);g($??null)});var y=fY(_&&!p),C=vt(y,2),T=C[0],M=C[1],O=p??T;vY(r&&t&&us()&&(O===T||O===document.body));var B=null;if(s&&xS(s)&&e){var D=s;B=D.ref}var F=O0(B,e);if(!_||!us()||p===void 0)return null;var z=O===!1||bY(),U=s;return e&&(U=w.cloneElement(s,{ref:F})),w.createElement(HF.Provider,{value:M},z?U:Uh.createPortal(U,O))}),GF=w.createContext({});function SY(){var n=Ne({},nw);return n.useId}var wP=0,AP=SY();const ww=AP?function(e){var t=AP();return e||t}:function(e){var t=w.useState("ssr-id"),r=vt(t,2),a=r[0],o=r[1];return w.useEffect(function(){var l=wP;wP+=1,o("rc_unique_".concat(l))},[]),e||a};function MP(n,e,t){var r=e;return!r&&t&&(r="".concat(n,"-").concat(t)),r}function TP(n,e){var t=n["page".concat(e?"Y":"X","Offset")],r="scroll".concat(e?"Top":"Left");if(typeof t!="number"){var a=n.document;t=a.documentElement[r],typeof t!="number"&&(t=a.body[r])}return t}function _Y(n){var e=n.getBoundingClientRect(),t={left:e.left,top:e.top},r=n.ownerDocument,a=r.defaultView||r.parentWindow;return t.left+=TP(a),t.top+=TP(a,!0),t}const xY=w.memo(function(n){var e=n.children;return e},function(n,e){var t=e.shouldUpdate;return!t});var CY={width:0,height:0,overflow:"hidden",outline:"none"},EY={outline:"none"},kF=Xe.forwardRef(function(n,e){var t=n.prefixCls,r=n.className,a=n.style,o=n.title,l=n.ariaId,s=n.footer,u=n.closable,f=n.closeIcon,m=n.onClose,b=n.children,_=n.bodyStyle,E=n.bodyProps,c=n.modalRender,p=n.onMouseDown,g=n.onMouseUp,y=n.holderRef,C=n.visible,T=n.forceRender,M=n.width,O=n.height,B=n.classNames,D=n.styles,F=Xe.useContext(GF),z=F.panel,U=O0(y,z),$=w.useRef(),J=w.useRef();Xe.useImperativeHandle(e,function(){return{focus:function(){var he;(he=$.current)===null||he===void 0||he.focus({preventScroll:!0})},changeActive:function(he){var fe=document,Z=fe.activeElement;he&&Z===J.current?$.current.focus({preventScroll:!0}):!he&&Z===$.current&&J.current.focus({preventScroll:!0})}}});var W={};M!==void 0&&(W.width=M),O!==void 0&&(W.height=O);var Q=s?Xe.createElement("div",{className:Je("".concat(t,"-footer"),B==null?void 0:B.footer),style:Ne({},D==null?void 0:D.footer)},s):null,ae=o?Xe.createElement("div",{className:Je("".concat(t,"-header"),B==null?void 0:B.header),style:Ne({},D==null?void 0:D.header)},Xe.createElement("div",{className:"".concat(t,"-title"),id:l},o)):null,Y=w.useMemo(function(){return mn(u)==="object"&&u!==null?u:u?{closeIcon:f??Xe.createElement("span",{className:"".concat(t,"-close-x")})}:{}},[u,f,t]),K=Gm(Y,!0),ee=mn(u)==="object"&&u.disabled,de=u?Xe.createElement("button",Pt({type:"button",onClick:m,"aria-label":"Close"},K,{className:"".concat(t,"-close"),disabled:ee}),Y.closeIcon):null,q=Xe.createElement("div",{className:Je("".concat(t,"-content"),B==null?void 0:B.content),style:D==null?void 0:D.content},de,ae,Xe.createElement("div",Pt({className:Je("".concat(t,"-body"),B==null?void 0:B.body),style:Ne(Ne({},_),D==null?void 0:D.body)},E),b),Q);return Xe.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":o?l:null,"aria-modal":"true",ref:U,style:Ne(Ne({},a),W),className:Je(t,r),onMouseDown:p,onMouseUp:g},Xe.createElement("div",{ref:$,tabIndex:0,style:EY},Xe.createElement(xY,{shouldUpdate:C||T},c?c(q):q)),Xe.createElement("div",{tabIndex:0,ref:J,style:CY}))}),$F=w.forwardRef(function(n,e){var t=n.prefixCls,r=n.title,a=n.style,o=n.className,l=n.visible,s=n.forceRender,u=n.destroyOnClose,f=n.motionName,m=n.ariaId,b=n.onVisibleChanged,_=n.mousePosition,E=w.useRef(),c=w.useState(),p=vt(c,2),g=p[0],y=p[1],C={};g&&(C.transformOrigin=g);function T(){var M=_Y(E.current);y(_&&(_.x||_.y)?"".concat(_.x-M.left,"px ").concat(_.y-M.top,"px"):"")}return w.createElement(Xc,{visible:l,onVisibleChanged:b,onAppearPrepare:T,onEnterPrepare:T,forceRender:s,motionName:f,removeOnLeave:u,ref:E},function(M,O){var B=M.className,D=M.style;return w.createElement(kF,Pt({},n,{ref:e,title:r,ariaId:m,prefixCls:t,holderRef:O,style:Ne(Ne(Ne({},D),a),C),className:Je(o,B)}))})});$F.displayName="Content";var wY=function(e){var t=e.prefixCls,r=e.style,a=e.visible,o=e.maskProps,l=e.motionName,s=e.className;return w.createElement(Xc,{key:"mask",visible:a,motionName:l,leavedClassName:"".concat(t,"-mask-hidden")},function(u,f){var m=u.className,b=u.style;return w.createElement("div",Pt({ref:f,style:Ne(Ne({},b),r),className:Je("".concat(t,"-mask"),m,s)},o))})},AY=function(e){var t=e.prefixCls,r=t===void 0?"rc-dialog":t,a=e.zIndex,o=e.visible,l=o===void 0?!1:o,s=e.keyboard,u=s===void 0?!0:s,f=e.focusTriggerAfterClose,m=f===void 0?!0:f,b=e.wrapStyle,_=e.wrapClassName,E=e.wrapProps,c=e.onClose,p=e.afterOpenChange,g=e.afterClose,y=e.transitionName,C=e.animation,T=e.closable,M=T===void 0?!0:T,O=e.mask,B=O===void 0?!0:O,D=e.maskTransitionName,F=e.maskAnimation,z=e.maskClosable,U=z===void 0?!0:z,$=e.maskStyle,J=e.maskProps,W=e.rootClassName,Q=e.classNames,ae=e.styles,Y=w.useRef(),K=w.useRef(),ee=w.useRef(),de=w.useState(l),q=vt(de,2),ie=q[0],he=q[1],fe=ww();function Z(){IR(K.current,document.activeElement)||(Y.current=document.activeElement)}function pe(){if(!IR(K.current,document.activeElement)){var Fe;(Fe=ee.current)===null||Fe===void 0||Fe.focus()}}function xe(Fe){if(Fe)pe();else{if(he(!1),B&&Y.current&&m){try{Y.current.focus({preventScroll:!0})}catch{}Y.current=null}ie&&(g==null||g())}p==null||p(Fe)}function Oe(Fe){c==null||c(Fe)}var Ae=w.useRef(!1),Te=w.useRef(),ze=function(){clearTimeout(Te.current),Ae.current=!0},yt=function(){Te.current=setTimeout(function(){Ae.current=!1})},Be=null;U&&(Be=function(Ie){Ae.current?Ae.current=!1:K.current===Ie.target&&Oe(Ie)});function Ce(Fe){if(u&&Fe.keyCode===to.ESC){Fe.stopPropagation(),Oe(Fe);return}l&&Fe.keyCode===to.TAB&&ee.current.changeActive(!Fe.shiftKey)}w.useEffect(function(){l&&(he(!0),Z())},[l]),w.useEffect(function(){return function(){clearTimeout(Te.current)}},[]);var re=Ne(Ne(Ne({zIndex:a},b),ae==null?void 0:ae.wrapper),{},{display:ie?null:"none"});return w.createElement("div",Pt({className:Je("".concat(r,"-root"),W)},Gm(e,{data:!0})),w.createElement(wY,{prefixCls:r,visible:B&&l,motionName:MP(r,D,F),style:Ne(Ne({zIndex:a},$),ae==null?void 0:ae.mask),maskProps:J,className:Q==null?void 0:Q.mask}),w.createElement("div",Pt({tabIndex:-1,onKeyDown:Ce,className:Je("".concat(r,"-wrap"),_,Q==null?void 0:Q.wrapper),ref:K,onClick:Be,style:re},E),w.createElement($F,Pt({},e,{onMouseDown:ze,onMouseUp:yt,ref:ee,closable:M,ariaId:fe,prefixCls:r,visible:l&&ie,onClose:Oe,onVisibleChanged:xe,motionName:MP(r,y,C)}))))},$O=function(e){var t=e.visible,r=e.getContainer,a=e.forceRender,o=e.destroyOnClose,l=o===void 0?!1:o,s=e.afterClose,u=e.panelRef,f=w.useState(t),m=vt(f,2),b=m[0],_=m[1],E=w.useMemo(function(){return{panel:u}},[u]);return w.useEffect(function(){t&&_(!0)},[t]),!a&&l&&!b?null:w.createElement(GF.Provider,{value:E},w.createElement(Ew,{open:t||a||b,autoDestroy:!1,getContainer:r,autoLock:t||b},w.createElement(AY,Pt({},e,{destroyOnClose:l,afterClose:function(){s==null||s(),_(!1)}}))))};$O.displayName="Dialog";var dm="RC_FORM_INTERNAL_HOOKS",hr=function(){Uo(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},h0=w.createContext({getFieldValue:hr,getFieldsValue:hr,getFieldError:hr,getFieldWarning:hr,getFieldsError:hr,isFieldsTouched:hr,isFieldTouched:hr,isFieldValidating:hr,isFieldsValidating:hr,resetFields:hr,setFields:hr,setFieldValue:hr,setFieldsValue:hr,validateFields:hr,submit:hr,getInternalHooks:function(){return hr(),{dispatch:hr,initEntityValue:hr,registerField:hr,useSubscribe:hr,setInitialValues:hr,destroyForm:hr,setCallbacks:hr,registerWatch:hr,getFields:hr,setValidateMessages:hr,setPreserve:hr,getInitialValue:hr}}}),U1=w.createContext(null);function ZR(n){return n==null?[]:Array.isArray(n)?n:[n]}function MY(n){return n&&!!n._init}function e2(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var t2=e2();function TY(n){try{return Function.toString.call(n).indexOf("[native code]")!==-1}catch{return typeof n=="function"}}function RY(n,e,t){if(EO())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var a=new(n.bind.apply(n,r));return t&&Kb(a,t.prototype),a}function n2(n){var e=typeof Map=="function"?new Map:void 0;return n2=function(r){if(r===null||!TY(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(r))return e.get(r);e.set(r,a)}function a(){return RY(r,arguments,Pi(this).constructor)}return a.prototype=Object.create(r.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),Kb(a,r)},n2(n)}var OY=/%[sdj%]/g,IY=function(){};function i2(n){if(!n||!n.length)return null;var e={};return n.forEach(function(t){var r=t.field;e[r]=e[r]||[],e[r].push(t)}),e}function tl(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var a=0,o=t.length;if(typeof n=="function")return n.apply(null,t);if(typeof n=="string"){var l=n.replace(OY,function(s){if(s==="%%")return"%";if(a>=o)return s;switch(s){case"%s":return String(t[a++]);case"%d":return Number(t[a++]);case"%j":try{return JSON.stringify(t[a++])}catch{return"[Circular]"}break;default:return s}});return l}return n}function BY(n){return n==="string"||n==="url"||n==="hex"||n==="email"||n==="date"||n==="pattern"}function La(n,e){return!!(n==null||e==="array"&&Array.isArray(n)&&!n.length||BY(e)&&typeof n=="string"&&!n)}function DY(n,e,t){var r=[],a=0,o=n.length;function l(s){r.push.apply(r,Jt(s||[])),a++,a===o&&t(r)}n.forEach(function(s){e(s,l)})}function RP(n,e,t){var r=0,a=n.length;function o(l){if(l&&l.length){t(l);return}var s=r;r=r+1,s<a?e(n[s],o):t([])}o([])}function PY(n){var e=[];return Object.keys(n).forEach(function(t){e.push.apply(e,Jt(n[t]||[]))}),e}var OP=function(n){Ar(t,n);var e=Wc(t);function t(r,a){var o;return ai(this,t),o=e.call(this,"Async Validation Error"),ue(Dn(o),"errors",void 0),ue(Dn(o),"fields",void 0),o.errors=r,o.fields=a,o}return oi(t)}(n2(Error));function LY(n,e,t,r,a){if(e.first){var o=new Promise(function(_,E){var c=function(y){return r(y),y.length?E(new OP(y,i2(y))):_(a)},p=PY(n);RP(p,t,c)});return o.catch(function(_){return _}),o}var l=e.firstFields===!0?Object.keys(n):e.firstFields||[],s=Object.keys(n),u=s.length,f=0,m=[],b=new Promise(function(_,E){var c=function(g){if(m.push.apply(m,g),f++,f===u)return r(m),m.length?E(new OP(m,i2(m))):_(a)};s.length||(r(m),_(a)),s.forEach(function(p){var g=n[p];l.indexOf(p)!==-1?RP(g,t,c):DY(g,t,c)})});return b.catch(function(_){return _}),b}function NY(n){return!!(n&&n.message!==void 0)}function zY(n,e){for(var t=n,r=0;r<e.length;r++){if(t==null)return t;t=t[e[r]]}return t}function IP(n,e){return function(t){var r;return n.fullFields?r=zY(e,n.fullFields):r=e[t.field||n.fullField],NY(t)?(t.field=t.field||n.fullField,t.fieldValue=r,t):{message:typeof t=="function"?t():t,fieldValue:r,field:t.field||n.fullField}}}function BP(n,e){if(e){for(var t in e)if(e.hasOwnProperty(t)){var r=e[t];mn(r)==="object"&&mn(n[t])==="object"?n[t]=Ne(Ne({},n[t]),r):n[t]=r}}return n}var Fg="enum",UY=function(e,t,r,a,o){e[Fg]=Array.isArray(e[Fg])?e[Fg]:[],e[Fg].indexOf(t)===-1&&a.push(tl(o.messages[Fg],e.fullField,e[Fg].join(", ")))},FY=function(e,t,r,a,o){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||a.push(tl(o.messages.pattern.mismatch,e.fullField,t,e.pattern));else if(typeof e.pattern=="string"){var l=new RegExp(e.pattern);l.test(t)||a.push(tl(o.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},HY=function(e,t,r,a,o){var l=typeof e.len=="number",s=typeof e.min=="number",u=typeof e.max=="number",f=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,m=t,b=null,_=typeof t=="number",E=typeof t=="string",c=Array.isArray(t);if(_?b="number":E?b="string":c&&(b="array"),!b)return!1;c&&(m=t.length),E&&(m=t.replace(f,"_").length),l?m!==e.len&&a.push(tl(o.messages[b].len,e.fullField,e.len)):s&&!u&&m<e.min?a.push(tl(o.messages[b].min,e.fullField,e.min)):u&&!s&&m>e.max?a.push(tl(o.messages[b].max,e.fullField,e.max)):s&&u&&(m<e.min||m>e.max)&&a.push(tl(o.messages[b].range,e.fullField,e.min,e.max))},VF=function(e,t,r,a,o,l){e.required&&(!r.hasOwnProperty(e.field)||La(t,l||e.type))&&a.push(tl(o.messages.required,e.fullField))},Sx;const GY=function(){if(Sx)return Sx;var n="[a-fA-F\\d:]",e=function(B){return B&&B.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(n,")|(?<=").concat(n,")(?=\\s|$))"):""},t="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",a=["(?:".concat(r,":){7}(?:").concat(r,"|:)"),"(?:".concat(r,":){6}(?:").concat(t,"|:").concat(r,"|:)"),"(?:".concat(r,":){5}(?::").concat(t,"|(?::").concat(r,"){1,2}|:)"),"(?:".concat(r,":){4}(?:(?::").concat(r,"){0,1}:").concat(t,"|(?::").concat(r,"){1,3}|:)"),"(?:".concat(r,":){3}(?:(?::").concat(r,"){0,2}:").concat(t,"|(?::").concat(r,"){1,4}|:)"),"(?:".concat(r,":){2}(?:(?::").concat(r,"){0,3}:").concat(t,"|(?::").concat(r,"){1,5}|:)"),"(?:".concat(r,":){1}(?:(?::").concat(r,"){0,4}:").concat(t,"|(?::").concat(r,"){1,6}|:)"),"(?::(?:(?::".concat(r,"){0,5}:").concat(t,"|(?::").concat(r,"){1,7}|:))")],o="(?:%[0-9a-zA-Z]{1,})?",l="(?:".concat(a.join("|"),")").concat(o),s=new RegExp("(?:^".concat(t,"$)|(?:^").concat(l,"$)")),u=new RegExp("^".concat(t,"$")),f=new RegExp("^".concat(l,"$")),m=function(B){return B&&B.exact?s:new RegExp("(?:".concat(e(B)).concat(t).concat(e(B),")|(?:").concat(e(B)).concat(l).concat(e(B),")"),"g")};m.v4=function(O){return O&&O.exact?u:new RegExp("".concat(e(O)).concat(t).concat(e(O)),"g")},m.v6=function(O){return O&&O.exact?f:new RegExp("".concat(e(O)).concat(l).concat(e(O)),"g")};var b="(?:(?:[a-z]+:)?//)",_="(?:\\S+(?::\\S*)?@)?",E=m.v4().source,c=m.v6().source,p="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",g="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",y="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",C="(?::\\d{2,5})?",T='(?:[/?#][^\\s"]*)?',M="(?:".concat(b,"|www\\.)").concat(_,"(?:localhost|").concat(E,"|").concat(c,"|").concat(p).concat(g).concat(y,")").concat(C).concat(T);return Sx=new RegExp("(?:^".concat(M,"$)"),"i"),Sx};var DP={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},cb={integer:function(e){return cb.number(e)&&parseInt(e,10)===e},float:function(e){return cb.number(e)&&!cb.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return mn(e)==="object"&&!cb.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(DP.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(GY())},hex:function(e){return typeof e=="string"&&!!e.match(DP.hex)}},kY=function(e,t,r,a,o){if(e.required&&t===void 0){VF(e,t,r,a,o);return}var l=["integer","float","array","regexp","object","method","email","number","date","url","hex"],s=e.type;l.indexOf(s)>-1?cb[s](t)||a.push(tl(o.messages.types[s],e.fullField,e.type)):s&&mn(t)!==e.type&&a.push(tl(o.messages.types[s],e.fullField,e.type))},$Y=function(e,t,r,a,o){(/^\s+$/.test(t)||t==="")&&a.push(tl(o.messages.whitespace,e.fullField))};const wi={required:VF,whitespace:$Y,type:kY,range:HY,enum:UY,pattern:FY};var VY=function(e,t,r,a,o){var l=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(La(t)&&!e.required)return r();wi.required(e,t,a,l,o)}r(l)},jY=function(e,t,r,a,o){var l=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(t==null&&!e.required)return r();wi.required(e,t,a,l,o,"array"),t!=null&&(wi.type(e,t,a,l,o),wi.range(e,t,a,l,o))}r(l)},WY=function(e,t,r,a,o){var l=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(La(t)&&!e.required)return r();wi.required(e,t,a,l,o),t!==void 0&&wi.type(e,t,a,l,o)}r(l)},XY=function(e,t,r,a,o){var l=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(La(t,"date")&&!e.required)return r();if(wi.required(e,t,a,l,o),!La(t,"date")){var u;t instanceof Date?u=t:u=new Date(t),wi.type(e,u,a,l,o),u&&wi.range(e,u.getTime(),a,l,o)}}r(l)},YY="enum",qY=function(e,t,r,a,o){var l=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(La(t)&&!e.required)return r();wi.required(e,t,a,l,o),t!==void 0&&wi[YY](e,t,a,l,o)}r(l)},KY=function(e,t,r,a,o){var l=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(La(t)&&!e.required)return r();wi.required(e,t,a,l,o),t!==void 0&&(wi.type(e,t,a,l,o),wi.range(e,t,a,l,o))}r(l)},JY=function(e,t,r,a,o){var l=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(La(t)&&!e.required)return r();wi.required(e,t,a,l,o),t!==void 0&&(wi.type(e,t,a,l,o),wi.range(e,t,a,l,o))}r(l)},QY=function(e,t,r,a,o){var l=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(La(t)&&!e.required)return r();wi.required(e,t,a,l,o),t!==void 0&&wi.type(e,t,a,l,o)}r(l)},ZY=function(e,t,r,a,o){var l=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(t===""&&(t=void 0),La(t)&&!e.required)return r();wi.required(e,t,a,l,o),t!==void 0&&(wi.type(e,t,a,l,o),wi.range(e,t,a,l,o))}r(l)},eq=function(e,t,r,a,o){var l=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(La(t)&&!e.required)return r();wi.required(e,t,a,l,o),t!==void 0&&wi.type(e,t,a,l,o)}r(l)},tq=function(e,t,r,a,o){var l=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(La(t,"string")&&!e.required)return r();wi.required(e,t,a,l,o),La(t,"string")||wi.pattern(e,t,a,l,o)}r(l)},nq=function(e,t,r,a,o){var l=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(La(t)&&!e.required)return r();wi.required(e,t,a,l,o),La(t)||wi.type(e,t,a,l,o)}r(l)},iq=function(e,t,r,a,o){var l=[],s=Array.isArray(t)?"array":mn(t);wi.required(e,t,a,l,o,s),r(l)},rq=function(e,t,r,a,o){var l=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(La(t,"string")&&!e.required)return r();wi.required(e,t,a,l,o,"string"),La(t,"string")||(wi.type(e,t,a,l,o),wi.range(e,t,a,l,o),wi.pattern(e,t,a,l,o),e.whitespace===!0&&wi.whitespace(e,t,a,l,o))}r(l)},BM=function(e,t,r,a,o){var l=e.type,s=[],u=e.required||!e.required&&a.hasOwnProperty(e.field);if(u){if(La(t,l)&&!e.required)return r();wi.required(e,t,a,s,o,l),La(t,l)||wi.type(e,t,a,s,o)}r(s)};const Ib={string:rq,method:QY,number:ZY,boolean:WY,regexp:nq,integer:JY,float:KY,array:jY,object:eq,enum:qY,pattern:tq,date:XY,url:BM,hex:BM,email:BM,required:iq,any:VY};var RS=function(){function n(e){ai(this,n),ue(this,"rules",null),ue(this,"_messages",t2),this.define(e)}return oi(n,[{key:"define",value:function(t){var r=this;if(!t)throw new Error("Cannot configure a schema with no rules");if(mn(t)!=="object"||Array.isArray(t))throw new Error("Rules must be an object");this.rules={},Object.keys(t).forEach(function(a){var o=t[a];r.rules[a]=Array.isArray(o)?o:[o]})}},{key:"messages",value:function(t){return t&&(this._messages=BP(e2(),t)),this._messages}},{key:"validate",value:function(t){var r=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},l=t,s=a,u=o;if(typeof s=="function"&&(u=s,s={}),!this.rules||Object.keys(this.rules).length===0)return u&&u(null,l),Promise.resolve(l);function f(c){var p=[],g={};function y(T){if(Array.isArray(T)){var M;p=(M=p).concat.apply(M,Jt(T))}else p.push(T)}for(var C=0;C<c.length;C++)y(c[C]);p.length?(g=i2(p),u(p,g)):u(null,l)}if(s.messages){var m=this.messages();m===t2&&(m=e2()),BP(m,s.messages),s.messages=m}else s.messages=this.messages();var b={},_=s.keys||Object.keys(this.rules);_.forEach(function(c){var p=r.rules[c],g=l[c];p.forEach(function(y){var C=y;typeof C.transform=="function"&&(l===t&&(l=Ne({},l)),g=l[c]=C.transform(g),g!=null&&(C.type=C.type||(Array.isArray(g)?"array":mn(g)))),typeof C=="function"?C={validator:C}:C=Ne({},C),C.validator=r.getValidationMethod(C),C.validator&&(C.field=c,C.fullField=C.fullField||c,C.type=r.getType(C),b[c]=b[c]||[],b[c].push({rule:C,value:g,source:l,field:c}))})});var E={};return LY(b,s,function(c,p){var g=c.rule,y=(g.type==="object"||g.type==="array")&&(mn(g.fields)==="object"||mn(g.defaultField)==="object");y=y&&(g.required||!g.required&&c.value),g.field=c.field;function C(D,F){return Ne(Ne({},F),{},{fullField:"".concat(g.fullField,".").concat(D),fullFields:g.fullFields?[].concat(Jt(g.fullFields),[D]):[D]})}function T(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],F=Array.isArray(D)?D:[D];!s.suppressWarning&&F.length&&n.warning("async-validator:",F),F.length&&g.message!==void 0&&(F=[].concat(g.message));var z=F.map(IP(g,l));if(s.first&&z.length)return E[g.field]=1,p(z);if(!y)p(z);else{if(g.required&&!c.value)return g.message!==void 0?z=[].concat(g.message).map(IP(g,l)):s.error&&(z=[s.error(g,tl(s.messages.required,g.field))]),p(z);var U={};g.defaultField&&Object.keys(c.value).map(function(W){U[W]=g.defaultField}),U=Ne(Ne({},U),c.rule.fields);var $={};Object.keys(U).forEach(function(W){var Q=U[W],ae=Array.isArray(Q)?Q:[Q];$[W]=ae.map(C.bind(null,W))});var J=new n($);J.messages(s.messages),c.rule.options&&(c.rule.options.messages=s.messages,c.rule.options.error=s.error),J.validate(c.value,c.rule.options||s,function(W){var Q=[];z&&z.length&&Q.push.apply(Q,Jt(z)),W&&W.length&&Q.push.apply(Q,Jt(W)),p(Q.length?Q:null)})}}var M;if(g.asyncValidator)M=g.asyncValidator(g,c.value,T,c.source,s);else if(g.validator){try{M=g.validator(g,c.value,T,c.source,s)}catch(D){var O,B;(O=(B=console).error)===null||O===void 0||O.call(B,D),s.suppressValidatorError||setTimeout(function(){throw D},0),T(D.message)}M===!0?T():M===!1?T(typeof g.message=="function"?g.message(g.fullField||g.field):g.message||"".concat(g.fullField||g.field," fails")):M instanceof Array?T(M):M instanceof Error&&T(M.message)}M&&M.then&&M.then(function(){return T()},function(D){return T(D)})},function(c){f(c)},l)}},{key:"getType",value:function(t){if(t.type===void 0&&t.pattern instanceof RegExp&&(t.type="pattern"),typeof t.validator!="function"&&t.type&&!Ib.hasOwnProperty(t.type))throw new Error(tl("Unknown rule type %s",t.type));return t.type||"string"}},{key:"getValidationMethod",value:function(t){if(typeof t.validator=="function")return t.validator;var r=Object.keys(t),a=r.indexOf("message");return a!==-1&&r.splice(a,1),r.length===1&&r[0]==="required"?Ib.required:Ib[this.getType(t)]||void 0}}]),n}();ue(RS,"register",function(e,t){if(typeof t!="function")throw new Error("Cannot register a validator by type, validator is not a function");Ib[e]=t});ue(RS,"warning",IY);ue(RS,"messages",t2);ue(RS,"validators",Ib);var Ys="'${name}' is not a valid ${type}",jF={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:Ys,method:Ys,array:Ys,object:Ys,number:Ys,date:Ys,boolean:Ys,integer:Ys,float:Ys,regexp:Ys,email:Ys,url:Ys,hex:Ys},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},PP=RS;function aq(n,e){return n.replace(/\\?\$\{\w+\}/g,function(t){if(t.startsWith("\\"))return t.slice(1);var r=t.slice(2,-1);return e[r]})}var LP="CODE_LOGIC_ERROR";function r2(n,e,t,r,a){return a2.apply(this,arguments)}function a2(){return a2=el(br().mark(function n(e,t,r,a,o){var l,s,u,f,m,b,_,E,c;return br().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return l=Ne({},r),delete l.ruleIndex,PP.warning=function(){},l.validator&&(s=l.validator,l.validator=function(){try{return s.apply(void 0,arguments)}catch(y){return console.error(y),Promise.reject(LP)}}),u=null,l&&l.type==="array"&&l.defaultField&&(u=l.defaultField,delete l.defaultField),f=new PP(ue({},e,[l])),m=Dv(jF,a.validateMessages),f.messages(m),b=[],g.prev=10,g.next=13,Promise.resolve(f.validate(ue({},e,t),Ne({},a)));case 13:g.next=18;break;case 15:g.prev=15,g.t0=g.catch(10),g.t0.errors&&(b=g.t0.errors.map(function(y,C){var T=y.message,M=T===LP?m.default:T;return w.isValidElement(M)?w.cloneElement(M,{key:"error_".concat(C)}):M}));case 18:if(!(!b.length&&u)){g.next=23;break}return g.next=21,Promise.all(t.map(function(y,C){return r2("".concat(e,".").concat(C),y,u,a,o)}));case 21:return _=g.sent,g.abrupt("return",_.reduce(function(y,C){return[].concat(Jt(y),Jt(C))},[]));case 23:return E=Ne(Ne({},r),{},{name:e,enum:(r.enum||[]).join(", ")},o),c=b.map(function(y){return typeof y=="string"?aq(y,E):y}),g.abrupt("return",c);case 26:case"end":return g.stop()}},n,null,[[10,15]])})),a2.apply(this,arguments)}function oq(n,e,t,r,a,o){var l=n.join("."),s=t.map(function(m,b){var _=m.validator,E=Ne(Ne({},m),{},{ruleIndex:b});return _&&(E.validator=function(c,p,g){var y=!1,C=function(){for(var O=arguments.length,B=new Array(O),D=0;D<O;D++)B[D]=arguments[D];Promise.resolve().then(function(){Uo(!y,"Your validator function has already return a promise. `callback` will be ignored."),y||g.apply(void 0,B)})},T=_(c,p,C);y=T&&typeof T.then=="function"&&typeof T.catch=="function",Uo(y,"`callback` is deprecated. Please return a promise instead."),y&&T.then(function(){g()}).catch(function(M){g(M||" ")})}),E}).sort(function(m,b){var _=m.warningOnly,E=m.ruleIndex,c=b.warningOnly,p=b.ruleIndex;return!!_==!!c?E-p:_?1:-1}),u;if(a===!0)u=new Promise(function(){var m=el(br().mark(function b(_,E){var c,p,g;return br().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:c=0;case 1:if(!(c<s.length)){C.next=12;break}return p=s[c],C.next=5,r2(l,e,p,r,o);case 5:if(g=C.sent,!g.length){C.next=9;break}return E([{errors:g,rule:p}]),C.abrupt("return");case 9:c+=1,C.next=1;break;case 12:_([]);case 13:case"end":return C.stop()}},b)}));return function(b,_){return m.apply(this,arguments)}}());else{var f=s.map(function(m){return r2(l,e,m,r,o).then(function(b){return{errors:b,rule:m}})});u=(a?lq(f):sq(f)).then(function(m){return Promise.reject(m)})}return u.catch(function(m){return m}),u}function sq(n){return o2.apply(this,arguments)}function o2(){return o2=el(br().mark(function n(e){return br().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.all(e).then(function(a){var o,l=(o=[]).concat.apply(o,Jt(a));return l}));case 1:case"end":return r.stop()}},n)})),o2.apply(this,arguments)}function lq(n){return s2.apply(this,arguments)}function s2(){return s2=el(br().mark(function n(e){var t;return br().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=0,a.abrupt("return",new Promise(function(o){e.forEach(function(l){l.then(function(s){s.errors.length&&o([s]),t+=1,t===e.length&&o([])})})}));case 2:case"end":return a.stop()}},n)})),s2.apply(this,arguments)}function ha(n){return ZR(n)}function NP(n,e){var t={};return e.forEach(function(r){var a=Wu(n,r);t=Bc(t,r,a)}),t}function Kv(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return n&&n.some(function(r){return WF(e,r,t)})}function WF(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!n||!e||!t&&n.length!==e.length?!1:e.every(function(r,a){return n[a]===r})}function cq(n,e){if(n===e)return!0;if(!n&&e||n&&!e||!n||!e||mn(n)!=="object"||mn(e)!=="object")return!1;var t=Object.keys(n),r=Object.keys(e),a=new Set([].concat(t,r));return Jt(a).every(function(o){var l=n[o],s=e[o];return typeof l=="function"&&typeof s=="function"?!0:l===s})}function uq(n){var e=arguments.length<=1?void 0:arguments[1];return e&&e.target&&mn(e.target)==="object"&&n in e.target?e.target[n]:e}function zP(n,e,t){var r=n.length;if(e<0||e>=r||t<0||t>=r)return n;var a=n[e],o=e-t;return o>0?[].concat(Jt(n.slice(0,t)),[a],Jt(n.slice(t,e)),Jt(n.slice(e+1,r))):o<0?[].concat(Jt(n.slice(0,e)),Jt(n.slice(e+1,t+1)),[a],Jt(n.slice(t+1,r))):n}var dq=["name"],Bl=[];function DM(n,e,t,r,a,o){return typeof n=="function"?n(e,t,"source"in o?{source:o.source}:{}):r!==a}var VO=function(n){Ar(t,n);var e=Wc(t);function t(r){var a;if(ai(this,t),a=e.call(this,r),ue(Dn(a),"state",{resetCount:0}),ue(Dn(a),"cancelRegisterFunc",null),ue(Dn(a),"mounted",!1),ue(Dn(a),"touched",!1),ue(Dn(a),"dirty",!1),ue(Dn(a),"validatePromise",void 0),ue(Dn(a),"prevValidating",void 0),ue(Dn(a),"errors",Bl),ue(Dn(a),"warnings",Bl),ue(Dn(a),"cancelRegister",function(){var u=a.props,f=u.preserve,m=u.isListField,b=u.name;a.cancelRegisterFunc&&a.cancelRegisterFunc(m,f,ha(b)),a.cancelRegisterFunc=null}),ue(Dn(a),"getNamePath",function(){var u=a.props,f=u.name,m=u.fieldContext,b=m.prefixName,_=b===void 0?[]:b;return f!==void 0?[].concat(Jt(_),Jt(f)):[]}),ue(Dn(a),"getRules",function(){var u=a.props,f=u.rules,m=f===void 0?[]:f,b=u.fieldContext;return m.map(function(_){return typeof _=="function"?_(b):_})}),ue(Dn(a),"refresh",function(){a.mounted&&a.setState(function(u){var f=u.resetCount;return{resetCount:f+1}})}),ue(Dn(a),"metaCache",null),ue(Dn(a),"triggerMetaEvent",function(u){var f=a.props.onMetaChange;if(f){var m=Ne(Ne({},a.getMeta()),{},{destroy:u});o0(a.metaCache,m)||f(m),a.metaCache=m}else a.metaCache=null}),ue(Dn(a),"onStoreChange",function(u,f,m){var b=a.props,_=b.shouldUpdate,E=b.dependencies,c=E===void 0?[]:E,p=b.onReset,g=m.store,y=a.getNamePath(),C=a.getValue(u),T=a.getValue(g),M=f&&Kv(f,y);switch(m.type==="valueUpdate"&&m.source==="external"&&!o0(C,T)&&(a.touched=!0,a.dirty=!0,a.validatePromise=null,a.errors=Bl,a.warnings=Bl,a.triggerMetaEvent()),m.type){case"reset":if(!f||M){a.touched=!1,a.dirty=!1,a.validatePromise=void 0,a.errors=Bl,a.warnings=Bl,a.triggerMetaEvent(),p==null||p(),a.refresh();return}break;case"remove":{if(_&&DM(_,u,g,C,T,m)){a.reRender();return}break}case"setField":{var O=m.data;if(M){"touched"in O&&(a.touched=O.touched),"validating"in O&&!("originRCField"in O)&&(a.validatePromise=O.validating?Promise.resolve([]):null),"errors"in O&&(a.errors=O.errors||Bl),"warnings"in O&&(a.warnings=O.warnings||Bl),a.dirty=!0,a.triggerMetaEvent(),a.reRender();return}else if("value"in O&&Kv(f,y,!0)){a.reRender();return}if(_&&!y.length&&DM(_,u,g,C,T,m)){a.reRender();return}break}case"dependenciesUpdate":{var B=c.map(ha);if(B.some(function(D){return Kv(m.relatedFields,D)})){a.reRender();return}break}default:if(M||(!c.length||y.length||_)&&DM(_,u,g,C,T,m)){a.reRender();return}break}_===!0&&a.reRender()}),ue(Dn(a),"validateRules",function(u){var f=a.getNamePath(),m=a.getValue(),b=u||{},_=b.triggerName,E=b.validateOnly,c=E===void 0?!1:E,p=Promise.resolve().then(el(br().mark(function g(){var y,C,T,M,O,B,D;return br().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(a.mounted){z.next=2;break}return z.abrupt("return",[]);case 2:if(y=a.props,C=y.validateFirst,T=C===void 0?!1:C,M=y.messageVariables,O=y.validateDebounce,B=a.getRules(),_&&(B=B.filter(function(U){return U}).filter(function(U){var $=U.validateTrigger;if(!$)return!0;var J=ZR($);return J.includes(_)})),!(O&&_)){z.next=10;break}return z.next=8,new Promise(function(U){setTimeout(U,O)});case 8:if(a.validatePromise===p){z.next=10;break}return z.abrupt("return",[]);case 10:return D=oq(f,m,B,u,T,M),D.catch(function(U){return U}).then(function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Bl;if(a.validatePromise===p){var $;a.validatePromise=null;var J=[],W=[];($=U.forEach)===null||$===void 0||$.call(U,function(Q){var ae=Q.rule.warningOnly,Y=Q.errors,K=Y===void 0?Bl:Y;ae?W.push.apply(W,Jt(K)):J.push.apply(J,Jt(K))}),a.errors=J,a.warnings=W,a.triggerMetaEvent(),a.reRender()}}),z.abrupt("return",D);case 13:case"end":return z.stop()}},g)})));return c||(a.validatePromise=p,a.dirty=!0,a.errors=Bl,a.warnings=Bl,a.triggerMetaEvent(),a.reRender()),p}),ue(Dn(a),"isFieldValidating",function(){return!!a.validatePromise}),ue(Dn(a),"isFieldTouched",function(){return a.touched}),ue(Dn(a),"isFieldDirty",function(){if(a.dirty||a.props.initialValue!==void 0)return!0;var u=a.props.fieldContext,f=u.getInternalHooks(dm),m=f.getInitialValue;return m(a.getNamePath())!==void 0}),ue(Dn(a),"getErrors",function(){return a.errors}),ue(Dn(a),"getWarnings",function(){return a.warnings}),ue(Dn(a),"isListField",function(){return a.props.isListField}),ue(Dn(a),"isList",function(){return a.props.isList}),ue(Dn(a),"isPreserve",function(){return a.props.preserve}),ue(Dn(a),"getMeta",function(){a.prevValidating=a.isFieldValidating();var u={touched:a.isFieldTouched(),validating:a.prevValidating,errors:a.errors,warnings:a.warnings,name:a.getNamePath(),validated:a.validatePromise===null};return u}),ue(Dn(a),"getOnlyChild",function(u){if(typeof u=="function"){var f=a.getMeta();return Ne(Ne({},a.getOnlyChild(u(a.getControlled(),f,a.props.fieldContext))),{},{isFunction:!0})}var m=Qu(u);return m.length!==1||!w.isValidElement(m[0])?{child:m,isFunction:!1}:{child:m[0],isFunction:!1}}),ue(Dn(a),"getValue",function(u){var f=a.props.fieldContext.getFieldsValue,m=a.getNamePath();return Wu(u||f(!0),m)}),ue(Dn(a),"getControlled",function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=a.props,m=f.name,b=f.trigger,_=f.validateTrigger,E=f.getValueFromEvent,c=f.normalize,p=f.valuePropName,g=f.getValueProps,y=f.fieldContext,C=_!==void 0?_:y.validateTrigger,T=a.getNamePath(),M=y.getInternalHooks,O=y.getFieldsValue,B=M(dm),D=B.dispatch,F=a.getValue(),z=g||function(Q){return ue({},p,Q)},U=u[b],$=m!==void 0?z(F):{},J=Ne(Ne({},u),$);J[b]=function(){a.touched=!0,a.dirty=!0,a.triggerMetaEvent();for(var Q,ae=arguments.length,Y=new Array(ae),K=0;K<ae;K++)Y[K]=arguments[K];E?Q=E.apply(void 0,Y):Q=uq.apply(void 0,[p].concat(Y)),c&&(Q=c(Q,F,O(!0))),Q!==F&&D({type:"updateValue",namePath:T,value:Q}),U&&U.apply(void 0,Y)};var W=ZR(C||[]);return W.forEach(function(Q){var ae=J[Q];J[Q]=function(){ae&&ae.apply(void 0,arguments);var Y=a.props.rules;Y&&Y.length&&D({type:"validateField",namePath:T,triggerName:Q})}}),J}),r.fieldContext){var o=r.fieldContext.getInternalHooks,l=o(dm),s=l.initEntityValue;s(Dn(a))}return a}return oi(t,[{key:"componentDidMount",value:function(){var a=this.props,o=a.shouldUpdate,l=a.fieldContext;if(this.mounted=!0,l){var s=l.getInternalHooks,u=s(dm),f=u.registerField;this.cancelRegisterFunc=f(this)}o===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var a=this.state.resetCount,o=this.props.children,l=this.getOnlyChild(o),s=l.child,u=l.isFunction,f;return u?f=s:w.isValidElement(s)?f=w.cloneElement(s,this.getControlled(s.props)):(Uo(!s,"`children` of Field is not validate ReactElement."),f=s),w.createElement(w.Fragment,{key:a},f)}}]),t}(w.Component);ue(VO,"contextType",h0);ue(VO,"defaultProps",{trigger:"onChange",valuePropName:"value"});function XF(n){var e,t=n.name,r=kn(n,dq),a=w.useContext(h0),o=w.useContext(U1),l=t!==void 0?ha(t):void 0,s=(e=r.isListField)!==null&&e!==void 0?e:!!o,u="keep";return s||(u="_".concat((l||[]).join("_"))),w.createElement(VO,Pt({key:u,name:l,isListField:s},r,{fieldContext:a}))}function fq(n){var e=n.name,t=n.initialValue,r=n.children,a=n.rules,o=n.validateTrigger,l=n.isListField,s=w.useContext(h0),u=w.useContext(U1),f=w.useRef({keys:[],id:0}),m=f.current,b=w.useMemo(function(){var p=ha(s.prefixName)||[];return[].concat(Jt(p),Jt(ha(e)))},[s.prefixName,e]),_=w.useMemo(function(){return Ne(Ne({},s),{},{prefixName:b})},[s,b]),E=w.useMemo(function(){return{getKey:function(g){var y=b.length,C=g[y];return[m.keys[C],g.slice(y+1)]}}},[b]);if(typeof r!="function")return Uo(!1,"Form.List only accepts function as children."),null;var c=function(g,y,C){var T=C.source;return T==="internal"?!1:g!==y};return w.createElement(U1.Provider,{value:E},w.createElement(h0.Provider,{value:_},w.createElement(XF,{name:[],shouldUpdate:c,rules:a,validateTrigger:o,initialValue:t,isList:!0,isListField:l??!!u},function(p,g){var y=p.value,C=y===void 0?[]:y,T=p.onChange,M=s.getFieldValue,O=function(){var z=M(b||[]);return z||[]},B={add:function(z,U){var $=O();U>=0&&U<=$.length?(m.keys=[].concat(Jt(m.keys.slice(0,U)),[m.id],Jt(m.keys.slice(U))),T([].concat(Jt($.slice(0,U)),[z],Jt($.slice(U))))):(m.keys=[].concat(Jt(m.keys),[m.id]),T([].concat(Jt($),[z]))),m.id+=1},remove:function(z){var U=O(),$=new Set(Array.isArray(z)?z:[z]);$.size<=0||(m.keys=m.keys.filter(function(J,W){return!$.has(W)}),T(U.filter(function(J,W){return!$.has(W)})))},move:function(z,U){if(z!==U){var $=O();z<0||z>=$.length||U<0||U>=$.length||(m.keys=zP(m.keys,z,U),T(zP($,z,U)))}}},D=C||[];return Array.isArray(D)||(D=[]),r(D.map(function(F,z){var U=m.keys[z];return U===void 0&&(m.keys[z]=m.id,U=m.keys[z],m.id+=1),{name:z,key:U,isListField:!0}}),B,g)})))}function hq(n){var e=!1,t=n.length,r=[];return n.length?new Promise(function(a,o){n.forEach(function(l,s){l.catch(function(u){return e=!0,u}).then(function(u){t-=1,r[s]=u,!(t>0)&&(e&&o(r),a(r))})})}):Promise.resolve([])}var YF="__@field_split__";function PM(n){return n.map(function(e){return"".concat(mn(e),":").concat(e)}).join(YF)}var Hg=function(){function n(){ai(this,n),ue(this,"kvs",new Map)}return oi(n,[{key:"set",value:function(t,r){this.kvs.set(PM(t),r)}},{key:"get",value:function(t){return this.kvs.get(PM(t))}},{key:"update",value:function(t,r){var a=this.get(t),o=r(a);o?this.set(t,o):this.delete(t)}},{key:"delete",value:function(t){this.kvs.delete(PM(t))}},{key:"map",value:function(t){return Jt(this.kvs.entries()).map(function(r){var a=vt(r,2),o=a[0],l=a[1],s=o.split(YF);return t({key:s.map(function(u){var f=u.match(/^([^:]*):(.*)$/),m=vt(f,3),b=m[1],_=m[2];return b==="number"?Number(_):_}),value:l})})}},{key:"toJSON",value:function(){var t={};return this.map(function(r){var a=r.key,o=r.value;return t[a.join(".")]=o,null}),t}}]),n}(),pq=["name"],mq=oi(function n(e){var t=this;ai(this,n),ue(this,"formHooked",!1),ue(this,"forceRootUpdate",void 0),ue(this,"subscribable",!0),ue(this,"store",{}),ue(this,"fieldEntities",[]),ue(this,"initialValues",{}),ue(this,"callbacks",{}),ue(this,"validateMessages",null),ue(this,"preserve",null),ue(this,"lastValidatePromise",null),ue(this,"getForm",function(){return{getFieldValue:t.getFieldValue,getFieldsValue:t.getFieldsValue,getFieldError:t.getFieldError,getFieldWarning:t.getFieldWarning,getFieldsError:t.getFieldsError,isFieldsTouched:t.isFieldsTouched,isFieldTouched:t.isFieldTouched,isFieldValidating:t.isFieldValidating,isFieldsValidating:t.isFieldsValidating,resetFields:t.resetFields,setFields:t.setFields,setFieldValue:t.setFieldValue,setFieldsValue:t.setFieldsValue,validateFields:t.validateFields,submit:t.submit,_init:!0,getInternalHooks:t.getInternalHooks}}),ue(this,"getInternalHooks",function(r){return r===dm?(t.formHooked=!0,{dispatch:t.dispatch,initEntityValue:t.initEntityValue,registerField:t.registerField,useSubscribe:t.useSubscribe,setInitialValues:t.setInitialValues,destroyForm:t.destroyForm,setCallbacks:t.setCallbacks,setValidateMessages:t.setValidateMessages,getFields:t.getFields,setPreserve:t.setPreserve,getInitialValue:t.getInitialValue,registerWatch:t.registerWatch}):(Uo(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),ue(this,"useSubscribe",function(r){t.subscribable=r}),ue(this,"prevWithoutPreserves",null),ue(this,"setInitialValues",function(r,a){if(t.initialValues=r||{},a){var o,l=Dv(r,t.store);(o=t.prevWithoutPreserves)===null||o===void 0||o.map(function(s){var u=s.key;l=Bc(l,u,Wu(r,u))}),t.prevWithoutPreserves=null,t.updateStore(l)}}),ue(this,"destroyForm",function(r){if(r)t.updateStore({});else{var a=new Hg;t.getFieldEntities(!0).forEach(function(o){t.isMergedPreserve(o.isPreserve())||a.set(o.getNamePath(),!0)}),t.prevWithoutPreserves=a}}),ue(this,"getInitialValue",function(r){var a=Wu(t.initialValues,r);return r.length?Dv(a):a}),ue(this,"setCallbacks",function(r){t.callbacks=r}),ue(this,"setValidateMessages",function(r){t.validateMessages=r}),ue(this,"setPreserve",function(r){t.preserve=r}),ue(this,"watchList",[]),ue(this,"registerWatch",function(r){return t.watchList.push(r),function(){t.watchList=t.watchList.filter(function(a){return a!==r})}}),ue(this,"notifyWatch",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(t.watchList.length){var a=t.getFieldsValue(),o=t.getFieldsValue(!0);t.watchList.forEach(function(l){l(a,o,r)})}}),ue(this,"timeoutId",null),ue(this,"warningUnhooked",function(){}),ue(this,"updateStore",function(r){t.store=r}),ue(this,"getFieldEntities",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return r?t.fieldEntities.filter(function(a){return a.getNamePath().length}):t.fieldEntities}),ue(this,"getFieldsMap",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,a=new Hg;return t.getFieldEntities(r).forEach(function(o){var l=o.getNamePath();a.set(l,o)}),a}),ue(this,"getFieldEntitiesForNamePathList",function(r){if(!r)return t.getFieldEntities(!0);var a=t.getFieldsMap(!0);return r.map(function(o){var l=ha(o);return a.get(l)||{INVALIDATE_NAME_PATH:ha(o)}})}),ue(this,"getFieldsValue",function(r,a){t.warningUnhooked();var o,l,s;if(r===!0||Array.isArray(r)?(o=r,l=a):r&&mn(r)==="object"&&(s=r.strict,l=r.filter),o===!0&&!l)return t.store;var u=t.getFieldEntitiesForNamePathList(Array.isArray(o)?o:null),f=[];return u.forEach(function(m){var b,_,E="INVALIDATE_NAME_PATH"in m?m.INVALIDATE_NAME_PATH:m.getNamePath();if(s){var c,p;if((c=(p=m).isList)!==null&&c!==void 0&&c.call(p))return}else if(!o&&(b=(_=m).isListField)!==null&&b!==void 0&&b.call(_))return;if(!l)f.push(E);else{var g="getMeta"in m?m.getMeta():null;l(g)&&f.push(E)}}),NP(t.store,f.map(ha))}),ue(this,"getFieldValue",function(r){t.warningUnhooked();var a=ha(r);return Wu(t.store,a)}),ue(this,"getFieldsError",function(r){t.warningUnhooked();var a=t.getFieldEntitiesForNamePathList(r);return a.map(function(o,l){return o&&!("INVALIDATE_NAME_PATH"in o)?{name:o.getNamePath(),errors:o.getErrors(),warnings:o.getWarnings()}:{name:ha(r[l]),errors:[],warnings:[]}})}),ue(this,"getFieldError",function(r){t.warningUnhooked();var a=ha(r),o=t.getFieldsError([a])[0];return o.errors}),ue(this,"getFieldWarning",function(r){t.warningUnhooked();var a=ha(r),o=t.getFieldsError([a])[0];return o.warnings}),ue(this,"isFieldsTouched",function(){t.warningUnhooked();for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];var l=a[0],s=a[1],u,f=!1;a.length===0?u=null:a.length===1?Array.isArray(l)?(u=l.map(ha),f=!1):(u=null,f=l):(u=l.map(ha),f=s);var m=t.getFieldEntities(!0),b=function(g){return g.isFieldTouched()};if(!u)return f?m.every(function(p){return b(p)||p.isList()}):m.some(b);var _=new Hg;u.forEach(function(p){_.set(p,[])}),m.forEach(function(p){var g=p.getNamePath();u.forEach(function(y){y.every(function(C,T){return g[T]===C})&&_.update(y,function(C){return[].concat(Jt(C),[p])})})});var E=function(g){return g.some(b)},c=_.map(function(p){var g=p.value;return g});return f?c.every(E):c.some(E)}),ue(this,"isFieldTouched",function(r){return t.warningUnhooked(),t.isFieldsTouched([r])}),ue(this,"isFieldsValidating",function(r){t.warningUnhooked();var a=t.getFieldEntities();if(!r)return a.some(function(l){return l.isFieldValidating()});var o=r.map(ha);return a.some(function(l){var s=l.getNamePath();return Kv(o,s)&&l.isFieldValidating()})}),ue(this,"isFieldValidating",function(r){return t.warningUnhooked(),t.isFieldsValidating([r])}),ue(this,"resetWithFieldInitialValue",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=new Hg,o=t.getFieldEntities(!0);o.forEach(function(u){var f=u.props.initialValue,m=u.getNamePath();if(f!==void 0){var b=a.get(m)||new Set;b.add({entity:u,value:f}),a.set(m,b)}});var l=function(f){f.forEach(function(m){var b=m.props.initialValue;if(b!==void 0){var _=m.getNamePath(),E=t.getInitialValue(_);if(E!==void 0)Uo(!1,"Form already set 'initialValues' with path '".concat(_.join("."),"'. Field can not overwrite it."));else{var c=a.get(_);if(c&&c.size>1)Uo(!1,"Multiple Field with path '".concat(_.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(c){var p=t.getFieldValue(_),g=m.isListField();!g&&(!r.skipExist||p===void 0)&&t.updateStore(Bc(t.store,_,Jt(c)[0].value))}}}})},s;r.entities?s=r.entities:r.namePathList?(s=[],r.namePathList.forEach(function(u){var f=a.get(u);if(f){var m;(m=s).push.apply(m,Jt(Jt(f).map(function(b){return b.entity})))}})):s=o,l(s)}),ue(this,"resetFields",function(r){t.warningUnhooked();var a=t.store;if(!r){t.updateStore(Dv(t.initialValues)),t.resetWithFieldInitialValue(),t.notifyObservers(a,null,{type:"reset"}),t.notifyWatch();return}var o=r.map(ha);o.forEach(function(l){var s=t.getInitialValue(l);t.updateStore(Bc(t.store,l,s))}),t.resetWithFieldInitialValue({namePathList:o}),t.notifyObservers(a,o,{type:"reset"}),t.notifyWatch(o)}),ue(this,"setFields",function(r){t.warningUnhooked();var a=t.store,o=[];r.forEach(function(l){var s=l.name,u=kn(l,pq),f=ha(s);o.push(f),"value"in u&&t.updateStore(Bc(t.store,f,u.value)),t.notifyObservers(a,[f],{type:"setField",data:l})}),t.notifyWatch(o)}),ue(this,"getFields",function(){var r=t.getFieldEntities(!0),a=r.map(function(o){var l=o.getNamePath(),s=o.getMeta(),u=Ne(Ne({},s),{},{name:l,value:t.getFieldValue(l)});return Object.defineProperty(u,"originRCField",{value:!0}),u});return a}),ue(this,"initEntityValue",function(r){var a=r.props.initialValue;if(a!==void 0){var o=r.getNamePath(),l=Wu(t.store,o);l===void 0&&t.updateStore(Bc(t.store,o,a))}}),ue(this,"isMergedPreserve",function(r){var a=r!==void 0?r:t.preserve;return a??!0}),ue(this,"registerField",function(r){t.fieldEntities.push(r);var a=r.getNamePath();if(t.notifyWatch([a]),r.props.initialValue!==void 0){var o=t.store;t.resetWithFieldInitialValue({entities:[r],skipExist:!0}),t.notifyObservers(o,[r.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(l,s){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(t.fieldEntities=t.fieldEntities.filter(function(b){return b!==r}),!t.isMergedPreserve(s)&&(!l||u.length>1)){var f=l?void 0:t.getInitialValue(a);if(a.length&&t.getFieldValue(a)!==f&&t.fieldEntities.every(function(b){return!WF(b.getNamePath(),a)})){var m=t.store;t.updateStore(Bc(m,a,f,!0)),t.notifyObservers(m,[a],{type:"remove"}),t.triggerDependenciesUpdate(m,a)}}t.notifyWatch([a])}}),ue(this,"dispatch",function(r){switch(r.type){case"updateValue":{var a=r.namePath,o=r.value;t.updateValue(a,o);break}case"validateField":{var l=r.namePath,s=r.triggerName;t.validateFields([l],{triggerName:s});break}}}),ue(this,"notifyObservers",function(r,a,o){if(t.subscribable){var l=Ne(Ne({},o),{},{store:t.getFieldsValue(!0)});t.getFieldEntities().forEach(function(s){var u=s.onStoreChange;u(r,a,l)})}else t.forceRootUpdate()}),ue(this,"triggerDependenciesUpdate",function(r,a){var o=t.getDependencyChildrenFields(a);return o.length&&t.validateFields(o),t.notifyObservers(r,o,{type:"dependenciesUpdate",relatedFields:[a].concat(Jt(o))}),o}),ue(this,"updateValue",function(r,a){var o=ha(r),l=t.store;t.updateStore(Bc(t.store,o,a)),t.notifyObservers(l,[o],{type:"valueUpdate",source:"internal"}),t.notifyWatch([o]);var s=t.triggerDependenciesUpdate(l,o),u=t.callbacks.onValuesChange;if(u){var f=NP(t.store,[o]);u(f,t.getFieldsValue())}t.triggerOnFieldsChange([o].concat(Jt(s)))}),ue(this,"setFieldsValue",function(r){t.warningUnhooked();var a=t.store;if(r){var o=Dv(t.store,r);t.updateStore(o)}t.notifyObservers(a,null,{type:"valueUpdate",source:"external"}),t.notifyWatch()}),ue(this,"setFieldValue",function(r,a){t.setFields([{name:r,value:a,errors:[],warnings:[]}])}),ue(this,"getDependencyChildrenFields",function(r){var a=new Set,o=[],l=new Hg;t.getFieldEntities().forEach(function(u){var f=u.props.dependencies;(f||[]).forEach(function(m){var b=ha(m);l.update(b,function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return _.add(u),_})})});var s=function u(f){var m=l.get(f)||new Set;m.forEach(function(b){if(!a.has(b)){a.add(b);var _=b.getNamePath();b.isFieldDirty()&&_.length&&(o.push(_),u(_))}})};return s(r),o}),ue(this,"triggerOnFieldsChange",function(r,a){var o=t.callbacks.onFieldsChange;if(o){var l=t.getFields();if(a){var s=new Hg;a.forEach(function(f){var m=f.name,b=f.errors;s.set(m,b)}),l.forEach(function(f){f.errors=s.get(f.name)||f.errors})}var u=l.filter(function(f){var m=f.name;return Kv(r,m)});u.length&&o(u,l)}}),ue(this,"validateFields",function(r,a){t.warningUnhooked();var o,l;Array.isArray(r)||typeof r=="string"||typeof a=="string"?(o=r,l=a):l=r;var s=!!o,u=s?o.map(ha):[],f=[],m=String(Date.now()),b=new Set,_=l||{},E=_.recursive,c=_.dirty;t.getFieldEntities(!0).forEach(function(C){if(s||u.push(C.getNamePath()),!(!C.props.rules||!C.props.rules.length)&&!(c&&!C.isFieldDirty())){var T=C.getNamePath();if(b.add(T.join(m)),!s||Kv(u,T,E)){var M=C.validateRules(Ne({validateMessages:Ne(Ne({},jF),t.validateMessages)},l));f.push(M.then(function(){return{name:T,errors:[],warnings:[]}}).catch(function(O){var B,D=[],F=[];return(B=O.forEach)===null||B===void 0||B.call(O,function(z){var U=z.rule.warningOnly,$=z.errors;U?F.push.apply(F,Jt($)):D.push.apply(D,Jt($))}),D.length?Promise.reject({name:T,errors:D,warnings:F}):{name:T,errors:D,warnings:F}}))}}});var p=hq(f);t.lastValidatePromise=p,p.catch(function(C){return C}).then(function(C){var T=C.map(function(M){var O=M.name;return O});t.notifyObservers(t.store,T,{type:"validateFinish"}),t.triggerOnFieldsChange(T,C)});var g=p.then(function(){return t.lastValidatePromise===p?Promise.resolve(t.getFieldsValue(u)):Promise.reject([])}).catch(function(C){var T=C.filter(function(M){return M&&M.errors.length});return Promise.reject({values:t.getFieldsValue(u),errorFields:T,outOfDate:t.lastValidatePromise!==p})});g.catch(function(C){return C});var y=u.filter(function(C){return b.has(C.join(m))});return t.triggerOnFieldsChange(y),g}),ue(this,"submit",function(){t.warningUnhooked(),t.validateFields().then(function(r){var a=t.callbacks.onFinish;if(a)try{a(r)}catch(o){console.error(o)}}).catch(function(r){var a=t.callbacks.onFinishFailed;a&&a(r)})}),this.forceRootUpdate=e});function qF(n){var e=w.useRef(),t=w.useState({}),r=vt(t,2),a=r[1];if(!e.current)if(n)e.current=n;else{var o=function(){a({})},l=new mq(o);e.current=l.getForm()}return[e.current]}var l2=w.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),gq=function(e){var t=e.validateMessages,r=e.onFormChange,a=e.onFormFinish,o=e.children,l=w.useContext(l2),s=w.useRef({});return w.createElement(l2.Provider,{value:Ne(Ne({},l),{},{validateMessages:Ne(Ne({},l.validateMessages),t),triggerFormChange:function(f,m){r&&r(f,{changedFields:m,forms:s.current}),l.triggerFormChange(f,m)},triggerFormFinish:function(f,m){a&&a(f,{values:m,forms:s.current}),l.triggerFormFinish(f,m)},registerForm:function(f,m){f&&(s.current=Ne(Ne({},s.current),{},ue({},f,m))),l.registerForm(f,m)},unregisterForm:function(f){var m=Ne({},s.current);delete m[f],s.current=m,l.unregisterForm(f)}})},o)},vq=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"],yq=function(e,t){var r=e.name,a=e.initialValues,o=e.fields,l=e.form,s=e.preserve,u=e.children,f=e.component,m=f===void 0?"form":f,b=e.validateMessages,_=e.validateTrigger,E=_===void 0?"onChange":_,c=e.onValuesChange,p=e.onFieldsChange,g=e.onFinish,y=e.onFinishFailed,C=e.clearOnDestroy,T=kn(e,vq),M=w.useRef(null),O=w.useContext(l2),B=qF(l),D=vt(B,1),F=D[0],z=F.getInternalHooks(dm),U=z.useSubscribe,$=z.setInitialValues,J=z.setCallbacks,W=z.setValidateMessages,Q=z.setPreserve,ae=z.destroyForm;w.useImperativeHandle(t,function(){return Ne(Ne({},F),{},{nativeElement:M.current})}),w.useEffect(function(){return O.registerForm(r,F),function(){O.unregisterForm(r)}},[O,F,r]),W(Ne(Ne({},O.validateMessages),b)),J({onValuesChange:c,onFieldsChange:function(Z){if(O.triggerFormChange(r,Z),p){for(var pe=arguments.length,xe=new Array(pe>1?pe-1:0),Oe=1;Oe<pe;Oe++)xe[Oe-1]=arguments[Oe];p.apply(void 0,[Z].concat(xe))}},onFinish:function(Z){O.triggerFormFinish(r,Z),g&&g(Z)},onFinishFailed:y}),Q(s);var Y=w.useRef(null);$(a,!Y.current),Y.current||(Y.current=!0),w.useEffect(function(){return function(){return ae(C)}},[]);var K,ee=typeof u=="function";if(ee){var de=F.getFieldsValue(!0);K=u(de,F)}else K=u;U(!ee);var q=w.useRef();w.useEffect(function(){cq(q.current||[],o||[])||F.setFields(o||[]),q.current=o},[o,F]);var ie=w.useMemo(function(){return Ne(Ne({},F),{},{validateTrigger:E})},[F,E]),he=w.createElement(U1.Provider,{value:null},w.createElement(h0.Provider,{value:ie},K));return m===!1?he:w.createElement(m,Pt({},T,{ref:M,onSubmit:function(Z){Z.preventDefault(),Z.stopPropagation(),F.submit()},onReset:function(Z){var pe;Z.preventDefault(),F.resetFields(),(pe=T.onReset)===null||pe===void 0||pe.call(T,Z)}}),he)};function UP(n){try{return JSON.stringify(n)}catch{return Math.random()}}function bq(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var r=e[0],a=e[1],o=a===void 0?{}:a,l=MY(o)?{form:o}:o,s=l.form,u=w.useState(),f=vt(u,2),m=f[0],b=f[1],_=w.useMemo(function(){return UP(m)},[m]),E=w.useRef(_);E.current=_;var c=w.useContext(h0),p=s||c,g=p&&p._init,y=ha(r),C=w.useRef(y);return C.current=y,w.useEffect(function(){if(g){var T=p.getFieldsValue,M=p.getInternalHooks,O=M(dm),B=O.registerWatch,D=function($,J){var W=l.preserve?J:$;return typeof r=="function"?r(W):Wu(W,C.current)},F=B(function(U,$){var J=D(U,$),W=UP(J);E.current!==W&&(E.current=W,b(J))}),z=D(T(),T(!0));return m!==z&&b(z),F}},[g]),m}var Sq=w.forwardRef(yq),OS=Sq;OS.FormProvider=gq;OS.Field=XF;OS.List=fq;OS.useForm=qF;OS.useWatch=bq;const gf=w.createContext({}),_q=n=>{let{children:e,status:t,override:r}=n;const a=w.useContext(gf),o=w.useMemo(()=>{const l=Object.assign({},a);return r&&delete l.isFormItemInput,t&&(delete l.status,delete l.hasFeedback,delete l.feedbackIcon),l},[t,r,a]);return w.createElement(gf.Provider,{value:o},e)},xq=w.createContext(void 0),F1=n=>{const{space:e,form:t,children:r}=n;if(r==null)return null;let a=r;return t&&(a=Xe.createElement(_q,{override:!0,status:!0},a)),e&&(a=Xe.createElement(KW,null,a)),a};function H1(n){if(n)return{closable:n.closable,closeIcon:n.closeIcon}}function FP(n){const{closable:e,closeIcon:t}=n||{};return Xe.useMemo(()=>{if(!e&&(e===!1||t===!1||t===null))return!1;if(e===void 0&&t===void 0)return null;let r={closeIcon:typeof t!="boolean"&&t!==null?t:void 0};return e&&typeof e=="object"&&(r=Object.assign(Object.assign({},r),e)),r},[e,t])}function HP(){const n={};for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.forEach(a=>{a&&Object.keys(a).forEach(o=>{a[o]!==void 0&&(n[o]=a[o])})}),n}const Cq={};function KF(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Cq;const r=FP(n),a=FP(e),o=typeof r!="boolean"?!!(r!=null&&r.disabled):!1,l=Xe.useMemo(()=>Object.assign({closeIcon:Xe.createElement(R0,null)},t),[t]),s=Xe.useMemo(()=>r===!1?!1:r?HP(l,a,r):a===!1?!1:a?HP(l,a):l.closable?l:!1,[r,a,l]);return Xe.useMemo(()=>{if(s===!1)return[!1,null,o];const{closeIconRender:u}=l,{closeIcon:f}=s;let m=f;if(m!=null){u&&(m=u(f));const b=Gm(s,!0);Object.keys(b).length&&(m=Xe.isValidElement(m)?Xe.cloneElement(m,b):Xe.createElement("span",Object.assign({},b),m))}return[!0,m,o]},[s,l])}const Eq=()=>us()&&window.document.documentElement,Aw=n=>{const{prefixCls:e,className:t,style:r,size:a,shape:o}=n,l=Je({[`${e}-lg`]:a==="large",[`${e}-sm`]:a==="small"}),s=Je({[`${e}-circle`]:o==="circle",[`${e}-square`]:o==="square",[`${e}-round`]:o==="round"}),u=w.useMemo(()=>typeof a=="number"?{width:a,height:a,lineHeight:`${a}px`}:{},[a]);return w.createElement("span",{className:Je(e,l,s,t),style:Object.assign(Object.assign({},u),r)})},wq=new rr("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),Mw=n=>({height:n,lineHeight:Mt(n)}),Jv=n=>Object.assign({width:n},Mw(n)),Aq=n=>({background:n.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:wq,animationDuration:n.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}),LM=(n,e)=>Object.assign({width:e(n).mul(5).equal(),minWidth:e(n).mul(5).equal()},Mw(n)),Mq=n=>{const{skeletonAvatarCls:e,gradientFromColor:t,controlHeight:r,controlHeightLG:a,controlHeightSM:o}=n;return{[e]:Object.assign({display:"inline-block",verticalAlign:"top",background:t},Jv(r)),[`${e}${e}-circle`]:{borderRadius:"50%"},[`${e}${e}-lg`]:Object.assign({},Jv(a)),[`${e}${e}-sm`]:Object.assign({},Jv(o))}},Tq=n=>{const{controlHeight:e,borderRadiusSM:t,skeletonInputCls:r,controlHeightLG:a,controlHeightSM:o,gradientFromColor:l,calc:s}=n;return{[r]:Object.assign({display:"inline-block",verticalAlign:"top",background:l,borderRadius:t},LM(e,s)),[`${r}-lg`]:Object.assign({},LM(a,s)),[`${r}-sm`]:Object.assign({},LM(o,s))}},GP=n=>Object.assign({width:n},Mw(n)),Rq=n=>{const{skeletonImageCls:e,imageSizeBase:t,gradientFromColor:r,borderRadiusSM:a,calc:o}=n;return{[e]:Object.assign(Object.assign({display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"middle",background:r,borderRadius:a},GP(o(t).mul(2).equal())),{[`${e}-path`]:{fill:"#bfbfbf"},[`${e}-svg`]:Object.assign(Object.assign({},GP(t)),{maxWidth:o(t).mul(4).equal(),maxHeight:o(t).mul(4).equal()}),[`${e}-svg${e}-svg-circle`]:{borderRadius:"50%"}}),[`${e}${e}-circle`]:{borderRadius:"50%"}}},NM=(n,e,t)=>{const{skeletonButtonCls:r}=n;return{[`${t}${r}-circle`]:{width:e,minWidth:e,borderRadius:"50%"},[`${t}${r}-round`]:{borderRadius:e}}},zM=(n,e)=>Object.assign({width:e(n).mul(2).equal(),minWidth:e(n).mul(2).equal()},Mw(n)),Oq=n=>{const{borderRadiusSM:e,skeletonButtonCls:t,controlHeight:r,controlHeightLG:a,controlHeightSM:o,gradientFromColor:l,calc:s}=n;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[t]:Object.assign({display:"inline-block",verticalAlign:"top",background:l,borderRadius:e,width:s(r).mul(2).equal(),minWidth:s(r).mul(2).equal()},zM(r,s))},NM(n,r,t)),{[`${t}-lg`]:Object.assign({},zM(a,s))}),NM(n,a,`${t}-lg`)),{[`${t}-sm`]:Object.assign({},zM(o,s))}),NM(n,o,`${t}-sm`))},Iq=n=>{const{componentCls:e,skeletonAvatarCls:t,skeletonTitleCls:r,skeletonParagraphCls:a,skeletonButtonCls:o,skeletonInputCls:l,skeletonImageCls:s,controlHeight:u,controlHeightLG:f,controlHeightSM:m,gradientFromColor:b,padding:_,marginSM:E,borderRadius:c,titleHeight:p,blockRadius:g,paragraphLiHeight:y,controlHeightXS:C,paragraphMarginTop:T}=n;return{[e]:{display:"table",width:"100%",[`${e}-header`]:{display:"table-cell",paddingInlineEnd:_,verticalAlign:"top",[t]:Object.assign({display:"inline-block",verticalAlign:"top",background:b},Jv(u)),[`${t}-circle`]:{borderRadius:"50%"},[`${t}-lg`]:Object.assign({},Jv(f)),[`${t}-sm`]:Object.assign({},Jv(m))},[`${e}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[r]:{width:"100%",height:p,background:b,borderRadius:g,[`+ ${a}`]:{marginBlockStart:m}},[a]:{padding:0,"> li":{width:"100%",height:y,listStyle:"none",background:b,borderRadius:g,"+ li":{marginBlockStart:C}}},[`${a}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${e}-content`]:{[`${r}, ${a} > li`]:{borderRadius:c}}},[`${e}-with-avatar ${e}-content`]:{[r]:{marginBlockStart:E,[`+ ${a}`]:{marginBlockStart:T}}},[`${e}${e}-element`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},Oq(n)),Mq(n)),Tq(n)),Rq(n)),[`${e}${e}-block`]:{width:"100%",[o]:{width:"100%"},[l]:{width:"100%"}},[`${e}${e}-active`]:{[`
        ${r},
        ${a} > li,
        ${t},
        ${o},
        ${l},
        ${s}
      `]:Object.assign({},Aq(n))}}},Bq=n=>{const{colorFillContent:e,colorFill:t}=n,r=e,a=t;return{color:r,colorGradientEnd:a,gradientFromColor:r,gradientToColor:a,titleHeight:n.controlHeight/2,blockRadius:n.borderRadiusSM,paragraphMarginTop:n.marginLG+n.marginXXS,paragraphLiHeight:n.controlHeight/2}},B0=Nr("Skeleton",n=>{const{componentCls:e,calc:t}=n,r=qi(n,{skeletonAvatarCls:`${e}-avatar`,skeletonTitleCls:`${e}-title`,skeletonParagraphCls:`${e}-paragraph`,skeletonButtonCls:`${e}-button`,skeletonInputCls:`${e}-input`,skeletonImageCls:`${e}-image`,imageSizeBase:t(n.controlHeight).mul(1.5).equal(),borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${n.gradientFromColor} 25%, ${n.gradientToColor} 37%, ${n.gradientFromColor} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return[Iq(r)]},Bq,{deprecatedTokens:[["color","gradientFromColor"],["colorGradientEnd","gradientToColor"]]}),Dq=n=>{const{prefixCls:e,className:t,rootClassName:r,active:a,shape:o="circle",size:l="default"}=n,{getPrefixCls:s}=w.useContext(Hn),u=s("skeleton",e),[f,m,b]=B0(u),_=yo(n,["prefixCls","className"]),E=Je(u,`${u}-element`,{[`${u}-active`]:a},t,r,m,b);return f(w.createElement("div",{className:E},w.createElement(Aw,Object.assign({prefixCls:`${u}-avatar`,shape:o,size:l},_))))},Pq=n=>{const{prefixCls:e,className:t,rootClassName:r,active:a,block:o=!1,size:l="default"}=n,{getPrefixCls:s}=w.useContext(Hn),u=s("skeleton",e),[f,m,b]=B0(u),_=yo(n,["prefixCls"]),E=Je(u,`${u}-element`,{[`${u}-active`]:a,[`${u}-block`]:o},t,r,m,b);return f(w.createElement("div",{className:E},w.createElement(Aw,Object.assign({prefixCls:`${u}-button`,size:l},_))))},Lq="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",Nq=n=>{const{prefixCls:e,className:t,rootClassName:r,style:a,active:o}=n,{getPrefixCls:l}=w.useContext(Hn),s=l("skeleton",e),[u,f,m]=B0(s),b=Je(s,`${s}-element`,{[`${s}-active`]:o},t,r,f,m);return u(w.createElement("div",{className:b},w.createElement("div",{className:Je(`${s}-image`,t),style:a},w.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:`${s}-image-svg`},w.createElement("title",null,"Image placeholder"),w.createElement("path",{d:Lq,className:`${s}-image-path`})))))},zq=n=>{const{prefixCls:e,className:t,rootClassName:r,active:a,block:o,size:l="default"}=n,{getPrefixCls:s}=w.useContext(Hn),u=s("skeleton",e),[f,m,b]=B0(u),_=yo(n,["prefixCls"]),E=Je(u,`${u}-element`,{[`${u}-active`]:a,[`${u}-block`]:o},t,r,m,b);return f(w.createElement("div",{className:E},w.createElement(Aw,Object.assign({prefixCls:`${u}-input`,size:l},_))))},Uq=n=>{const{prefixCls:e,className:t,rootClassName:r,style:a,active:o,children:l}=n,{getPrefixCls:s}=w.useContext(Hn),u=s("skeleton",e),[f,m,b]=B0(u),_=Je(u,`${u}-element`,{[`${u}-active`]:o},m,t,r,b);return f(w.createElement("div",{className:_},w.createElement("div",{className:Je(`${u}-image`,t),style:a},l)))},Fq=(n,e)=>{const{width:t,rows:r=2}=e;if(Array.isArray(t))return t[n];if(r-1===n)return t},Hq=n=>{const{prefixCls:e,className:t,style:r,rows:a=0}=n,o=Array.from({length:a}).map((l,s)=>w.createElement("li",{key:s,style:{width:Fq(s,n)}}));return w.createElement("ul",{className:Je(e,t),style:r},o)},Gq=n=>{let{prefixCls:e,className:t,width:r,style:a}=n;return w.createElement("h3",{className:Je(e,t),style:Object.assign({width:r},a)})};function UM(n){return n&&typeof n=="object"?n:{}}function kq(n,e){return n&&!e?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function $q(n,e){return!n&&e?{width:"38%"}:n&&e?{width:"50%"}:{}}function Vq(n,e){const t={};return(!n||!e)&&(t.width="61%"),!n&&e?t.rows=3:t.rows=2,t}const km=n=>{const{prefixCls:e,loading:t,className:r,rootClassName:a,style:o,children:l,avatar:s=!1,title:u=!0,paragraph:f=!0,active:m,round:b}=n,{getPrefixCls:_,direction:E,className:c,style:p}=ad("skeleton"),g=_("skeleton",e),[y,C,T]=B0(g);if(t||!("loading"in n)){const M=!!s,O=!!u,B=!!f;let D;if(M){const U=Object.assign(Object.assign({prefixCls:`${g}-avatar`},kq(O,B)),UM(s));D=w.createElement("div",{className:`${g}-header`},w.createElement(Aw,Object.assign({},U)))}let F;if(O||B){let U;if(O){const J=Object.assign(Object.assign({prefixCls:`${g}-title`},$q(M,B)),UM(u));U=w.createElement(Gq,Object.assign({},J))}let $;if(B){const J=Object.assign(Object.assign({prefixCls:`${g}-paragraph`},Vq(M,O)),UM(f));$=w.createElement(Hq,Object.assign({},J))}F=w.createElement("div",{className:`${g}-content`},U,$)}const z=Je(g,{[`${g}-with-avatar`]:M,[`${g}-active`]:m,[`${g}-rtl`]:E==="rtl",[`${g}-round`]:b},c,r,a,C,T);return y(w.createElement("div",{className:z,style:Object.assign(Object.assign({},p),o)},D,F))}return l??null};km.Button=Pq;km.Avatar=Dq;km.Input=zq;km.Image=Nq;km.Node=Uq;function kP(){}const jq=w.createContext({add:kP,remove:kP});function Wq(n){const e=w.useContext(jq),t=w.useRef(null);return Qa(a=>{if(a){const o=n?a.querySelector(n):a;e.add(o),t.current=o}else e.remove(t.current)})}const $P=()=>{const{cancelButtonProps:n,cancelTextLocale:e,onCancel:t}=w.useContext(TS);return Xe.createElement(pa,Object.assign({onClick:t},n),e)},VP=()=>{const{confirmLoading:n,okButtonProps:e,okType:t,okTextLocale:r,onOk:a}=w.useContext(TS);return Xe.createElement(pa,Object.assign({},BF(t),{loading:n,onClick:a},e),r)};function JF(n,e){return Xe.createElement("span",{className:`${n}-close-x`},e||Xe.createElement(R0,{className:`${n}-close-icon`}))}const QF=n=>{const{okText:e,okType:t="primary",cancelText:r,confirmLoading:a,onOk:o,onCancel:l,okButtonProps:s,cancelButtonProps:u,footer:f}=n,[m]=ES("Modal",jU()),b=e||(m==null?void 0:m.okText),_=r||(m==null?void 0:m.cancelText),E={confirmLoading:a,okButtonProps:s,cancelButtonProps:u,okTextLocale:b,cancelTextLocale:_,okType:t,onOk:o,onCancel:l},c=Xe.useMemo(()=>E,Jt(Object.values(E)));let p;return typeof f=="function"||typeof f>"u"?(p=Xe.createElement(Xe.Fragment,null,Xe.createElement($P,null),Xe.createElement(VP,null)),typeof f=="function"&&(p=f(p,{OkBtn:VP,CancelBtn:$P})),p=Xe.createElement(FF,{value:c},p)):p=f,Xe.createElement(qU,{disabled:!1},p)},Xq=n=>{const{componentCls:e}=n;return{[e]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},Yq=n=>{const{componentCls:e}=n;return{[e]:{position:"relative",maxWidth:"100%",minHeight:1}}},qq=(n,e)=>{const{prefixCls:t,componentCls:r,gridColumns:a}=n,o={};for(let l=a;l>=0;l--)l===0?(o[`${r}${e}-${l}`]={display:"none"},o[`${r}-push-${l}`]={insetInlineStart:"auto"},o[`${r}-pull-${l}`]={insetInlineEnd:"auto"},o[`${r}${e}-push-${l}`]={insetInlineStart:"auto"},o[`${r}${e}-pull-${l}`]={insetInlineEnd:"auto"},o[`${r}${e}-offset-${l}`]={marginInlineStart:0},o[`${r}${e}-order-${l}`]={order:0}):(o[`${r}${e}-${l}`]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:`0 0 ${l/a*100}%`,maxWidth:`${l/a*100}%`}],o[`${r}${e}-push-${l}`]={insetInlineStart:`${l/a*100}%`},o[`${r}${e}-pull-${l}`]={insetInlineEnd:`${l/a*100}%`},o[`${r}${e}-offset-${l}`]={marginInlineStart:`${l/a*100}%`},o[`${r}${e}-order-${l}`]={order:l});return o[`${r}${e}-flex`]={flex:`var(--${t}${e}-flex)`},o},c2=(n,e)=>qq(n,e),Kq=(n,e,t)=>({[`@media (min-width: ${Mt(e)})`]:Object.assign({},c2(n,t))}),Jq=()=>({}),Qq=()=>({}),Zq=Nr("Grid",Xq,Jq),ZF=n=>({xs:n.screenXSMin,sm:n.screenSMMin,md:n.screenMDMin,lg:n.screenLGMin,xl:n.screenXLMin,xxl:n.screenXXLMin}),eK=Nr("Grid",n=>{const e=qi(n,{gridColumns:24}),t=ZF(e);return delete t.xs,[Yq(e),c2(e,""),c2(e,"-xs"),Object.keys(t).map(r=>Kq(e,t[r],`-${r}`)).reduce((r,a)=>Object.assign(Object.assign({},r),a),{})]},Qq);function jP(n){return{position:n,inset:0}}const e4=n=>{const{componentCls:e,antCls:t}=n;return[{[`${e}-root`]:{[`${e}${t}-zoom-enter, ${e}${t}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:n.motionDurationSlow,userSelect:"none"},[`${e}${t}-zoom-leave ${e}-content`]:{pointerEvents:"none"},[`${e}-mask`]:Object.assign(Object.assign({},jP("fixed")),{zIndex:n.zIndexPopupBase,height:"100%",backgroundColor:n.colorBgMask,pointerEvents:"none",[`${e}-hidden`]:{display:"none"}}),[`${e}-wrap`]:Object.assign(Object.assign({},jP("fixed")),{zIndex:n.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{[`${e}-root`]:GO(n)}]},tK=n=>{const{componentCls:e}=n;return[{[`${e}-root`]:{[`${e}-wrap-rtl`]:{direction:"rtl"},[`${e}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[e]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${n.screenSMMax}px)`]:{[e]:{maxWidth:"calc(100vw - 16px)",margin:`${Mt(n.marginXS)} auto`},[`${e}-centered`]:{[e]:{flex:1}}}}},{[e]:Object.assign(Object.assign({},Fo(n)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${Mt(n.calc(n.margin).mul(2).equal())})`,margin:"0 auto",paddingBottom:n.paddingLG,[`${e}-title`]:{margin:0,color:n.titleColor,fontWeight:n.fontWeightStrong,fontSize:n.titleFontSize,lineHeight:n.titleLineHeight,wordWrap:"break-word"},[`${e}-content`]:{position:"relative",backgroundColor:n.contentBg,backgroundClip:"padding-box",border:0,borderRadius:n.borderRadiusLG,boxShadow:n.boxShadow,pointerEvents:"auto",padding:n.contentPadding},[`${e}-close`]:Object.assign({position:"absolute",top:n.calc(n.modalHeaderHeight).sub(n.modalCloseBtnSize).div(2).equal(),insetInlineEnd:n.calc(n.modalHeaderHeight).sub(n.modalCloseBtnSize).div(2).equal(),zIndex:n.calc(n.zIndexPopupBase).add(10).equal(),padding:0,color:n.modalCloseIconColor,fontWeight:n.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:n.borderRadiusSM,width:n.modalCloseBtnSize,height:n.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${n.motionDurationMid}, background-color ${n.motionDurationMid}`,"&-x":{display:"flex",fontSize:n.fontSizeLG,fontStyle:"normal",lineHeight:Mt(n.modalCloseBtnSize),justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:disabled":{pointerEvents:"none"},"&:hover":{color:n.modalCloseIconHoverColor,backgroundColor:n.colorBgTextHover,textDecoration:"none"},"&:active":{backgroundColor:n.colorBgTextActive}},DO(n)),[`${e}-header`]:{color:n.colorText,background:n.headerBg,borderRadius:`${Mt(n.borderRadiusLG)} ${Mt(n.borderRadiusLG)} 0 0`,marginBottom:n.headerMarginBottom,padding:n.headerPadding,borderBottom:n.headerBorderBottom},[`${e}-body`]:{fontSize:n.fontSize,lineHeight:n.lineHeight,wordWrap:"break-word",padding:n.bodyPadding,[`${e}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:`${Mt(n.margin)} auto`}},[`${e}-footer`]:{textAlign:"end",background:n.footerBg,marginTop:n.footerMarginTop,padding:n.footerPadding,borderTop:n.footerBorderTop,borderRadius:n.footerBorderRadius,[`> ${n.antCls}-btn + ${n.antCls}-btn`]:{marginInlineStart:n.marginXS}},[`${e}-open`]:{overflow:"hidden"}})},{[`${e}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${e}-content,
          ${e}-body,
          ${e}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${e}-confirm-body`]:{marginBottom:"auto"}}}]},nK=n=>{const{componentCls:e}=n;return{[`${e}-root`]:{[`${e}-wrap-rtl`]:{direction:"rtl",[`${e}-confirm-body`]:{direction:"rtl"}}}}},iK=n=>{const{componentCls:e}=n,t=ZF(n);delete t.xs;const r=Object.keys(t).map(a=>({[`@media (min-width: ${Mt(t[a])})`]:{width:`var(--${e.replace(".","")}-${a}-width)`}}));return{[`${e}-root`]:{[e]:[{width:`var(--${e.replace(".","")}-xs-width)`}].concat(Jt(r))}}},t4=n=>{const e=n.padding,t=n.fontSizeHeading5,r=n.lineHeightHeading5;return qi(n,{modalHeaderHeight:n.calc(n.calc(r).mul(t).equal()).add(n.calc(e).mul(2).equal()).equal(),modalFooterBorderColorSplit:n.colorSplit,modalFooterBorderStyle:n.lineType,modalFooterBorderWidth:n.lineWidth,modalCloseIconColor:n.colorIcon,modalCloseIconHoverColor:n.colorIconHover,modalCloseBtnSize:n.controlHeight,modalConfirmIconSize:n.fontHeight,modalTitleHeight:n.calc(n.titleFontSize).mul(n.titleLineHeight).equal()})},n4=n=>({footerBg:"transparent",headerBg:n.colorBgElevated,titleLineHeight:n.lineHeightHeading5,titleFontSize:n.fontSizeHeading5,contentBg:n.colorBgElevated,titleColor:n.colorTextHeading,contentPadding:n.wireframe?0:`${Mt(n.paddingMD)} ${Mt(n.paddingContentHorizontalLG)}`,headerPadding:n.wireframe?`${Mt(n.padding)} ${Mt(n.paddingLG)}`:0,headerBorderBottom:n.wireframe?`${Mt(n.lineWidth)} ${n.lineType} ${n.colorSplit}`:"none",headerMarginBottom:n.wireframe?0:n.marginXS,bodyPadding:n.wireframe?n.paddingLG:0,footerPadding:n.wireframe?`${Mt(n.paddingXS)} ${Mt(n.padding)}`:0,footerBorderTop:n.wireframe?`${Mt(n.lineWidth)} ${n.lineType} ${n.colorSplit}`:"none",footerBorderRadius:n.wireframe?`0 0 ${Mt(n.borderRadiusLG)} ${Mt(n.borderRadiusLG)}`:0,footerMarginTop:n.wireframe?0:n.marginSM,confirmBodyPadding:n.wireframe?`${Mt(n.padding*2)} ${Mt(n.padding*2)} ${Mt(n.paddingLG)}`:0,confirmIconMarginInlineEnd:n.wireframe?n.margin:n.marginSM,confirmBtnsMarginTop:n.wireframe?n.marginLG:n.marginSM}),i4=Nr("Modal",n=>{const e=t4(n);return[tK(e),nK(e),e4(e),MS(e,"zoom"),iK(e)]},n4,{unitless:{titleLineHeight:!0}});var rK=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};let u2;const aK=n=>{u2={x:n.pageX,y:n.pageY},setTimeout(()=>{u2=null},100)};Eq()&&document.documentElement.addEventListener("click",aK,!0);const r4=n=>{var e;const{getPopupContainer:t,getPrefixCls:r,direction:a,modal:o}=w.useContext(Hn),l=xe=>{const{onCancel:Oe}=n;Oe==null||Oe(xe)},s=xe=>{const{onOk:Oe}=n;Oe==null||Oe(xe)},{prefixCls:u,className:f,rootClassName:m,open:b,wrapClassName:_,centered:E,getContainer:c,focusTriggerAfterClose:p=!0,style:g,visible:y,width:C=520,footer:T,classNames:M,styles:O,children:B,loading:D}=n,F=rK(n,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading"]),z=r("modal",u),U=r(),$=ll(z),[J,W,Q]=i4(z,$),ae=Je(_,{[`${z}-centered`]:E??(o==null?void 0:o.centered),[`${z}-wrap-rtl`]:a==="rtl"}),Y=T!==null&&!D?w.createElement(QF,Object.assign({},n,{onOk:s,onCancel:l})):null,[K,ee,de]=KF(H1(n),H1(o),{closable:!0,closeIcon:w.createElement(R0,{className:`${z}-close-icon`}),closeIconRender:xe=>JF(z,xe)}),q=Wq(`.${z}-content`),[ie,he]=wS("Modal",F.zIndex),[fe,Z]=w.useMemo(()=>C&&typeof C=="object"?[void 0,C]:[C,void 0],[C]),pe=w.useMemo(()=>{const xe={};return Z&&Object.keys(Z).forEach(Oe=>{const Ae=Z[Oe];Ae!==void 0&&(xe[`--${z}-${Oe}-width`]=typeof Ae=="number"?`${Ae}px`:Ae)}),xe},[Z]);return J(w.createElement(F1,{form:!0,space:!0},w.createElement(LO.Provider,{value:he},w.createElement($O,Object.assign({width:fe},F,{zIndex:ie,getContainer:c===void 0?t:c,prefixCls:z,rootClassName:Je(W,m,Q,$),footer:Y,visible:b??y,mousePosition:(e=F.mousePosition)!==null&&e!==void 0?e:u2,onClose:l,closable:K&&{disabled:de,closeIcon:ee},closeIcon:ee,focusTriggerAfterClose:p,transitionName:ed(U,"zoom",n.transitionName),maskTransitionName:ed(U,"fade",n.maskTransitionName),className:Je(W,f,o==null?void 0:o.className),style:Object.assign(Object.assign(Object.assign({},o==null?void 0:o.style),g),pe),classNames:Object.assign(Object.assign(Object.assign({},o==null?void 0:o.classNames),M),{wrapper:Je(ae,M==null?void 0:M.wrapper)}),styles:Object.assign(Object.assign({},o==null?void 0:o.styles),O),panelRef:q}),D?w.createElement(km,{active:!0,title:!1,paragraph:{rows:4},className:`${z}-body-skeleton`}):B))))},oK=n=>{const{componentCls:e,titleFontSize:t,titleLineHeight:r,modalConfirmIconSize:a,fontSize:o,lineHeight:l,modalTitleHeight:s,fontHeight:u,confirmBodyPadding:f}=n,m=`${e}-confirm`;return{[m]:{"&-rtl":{direction:"rtl"},[`${n.antCls}-modal-header`]:{display:"none"},[`${m}-body-wrapper`]:Object.assign({},f0()),[`&${e} ${e}-body`]:{padding:f},[`${m}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${n.iconCls}`]:{flex:"none",fontSize:a,marginInlineEnd:n.confirmIconMarginInlineEnd,marginTop:n.calc(n.calc(u).sub(a).equal()).div(2).equal()},[`&-has-title > ${n.iconCls}`]:{marginTop:n.calc(n.calc(s).sub(a).equal()).div(2).equal()}},[`${m}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:n.marginXS,maxWidth:`calc(100% - ${Mt(n.marginSM)})`},[`${n.iconCls} + ${m}-paragraph`]:{maxWidth:`calc(100% - ${Mt(n.calc(n.modalConfirmIconSize).add(n.marginSM).equal())})`},[`${m}-title`]:{color:n.colorTextHeading,fontWeight:n.fontWeightStrong,fontSize:t,lineHeight:r},[`${m}-content`]:{color:n.colorText,fontSize:o,lineHeight:l},[`${m}-btns`]:{textAlign:"end",marginTop:n.confirmBtnsMarginTop,[`${n.antCls}-btn + ${n.antCls}-btn`]:{marginBottom:0,marginInlineStart:n.marginXS}}},[`${m}-error ${m}-body > ${n.iconCls}`]:{color:n.colorError},[`${m}-warning ${m}-body > ${n.iconCls},
        ${m}-confirm ${m}-body > ${n.iconCls}`]:{color:n.colorWarning},[`${m}-info ${m}-body > ${n.iconCls}`]:{color:n.colorInfo},[`${m}-success ${m}-body > ${n.iconCls}`]:{color:n.colorSuccess}}},sK=hw(["Modal","confirm"],n=>{const e=t4(n);return[oK(e)]},n4,{order:-1e3});var lK=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};function a4(n){const{prefixCls:e,icon:t,okText:r,cancelText:a,confirmPrefixCls:o,type:l,okCancel:s,footer:u,locale:f}=n,m=lK(n,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let b=t;if(!t&&t!==null)switch(l){case"info":b=w.createElement(fU,null);break;case"success":b=w.createElement(_O,null);break;case"error":b=w.createElement(rw,null);break;default:b=w.createElement(dU,null)}const _=s??l==="confirm",E=n.autoFocusButton===null?!1:n.autoFocusButton||"ok",[c]=ES("Modal"),p=f||c,g=r||(_?p==null?void 0:p.okText:p==null?void 0:p.justOkText),y=a||(p==null?void 0:p.cancelText),C=Object.assign({autoFocusButton:E,cancelTextLocale:y,okTextLocale:g,mergedOkCancel:_},m),T=w.useMemo(()=>C,Jt(Object.values(C))),M=w.createElement(w.Fragment,null,w.createElement(SP,null),w.createElement(_P,null)),O=n.title!==void 0&&n.title!==null,B=`${o}-body`;return w.createElement("div",{className:`${o}-body-wrapper`},w.createElement("div",{className:Je(B,{[`${B}-has-title`]:O})},b,w.createElement("div",{className:`${o}-paragraph`},O&&w.createElement("span",{className:`${o}-title`},n.title),w.createElement("div",{className:`${o}-content`},n.content))),u===void 0||typeof u=="function"?w.createElement(FF,{value:T},w.createElement("div",{className:`${o}-btns`},typeof u=="function"?u(M,{OkBtn:_P,CancelBtn:SP}):M)):u,w.createElement(sK,{prefixCls:e}))}const cK=n=>{const{close:e,zIndex:t,maskStyle:r,direction:a,prefixCls:o,wrapClassName:l,rootPrefixCls:s,bodyStyle:u,closable:f=!1,onConfirm:m,styles:b}=n,_=`${o}-confirm`,E=n.width||416,c=n.style||{},p=n.mask===void 0?!0:n.mask,g=n.maskClosable===void 0?!1:n.maskClosable,y=Je(_,`${_}-${n.type}`,{[`${_}-rtl`]:a==="rtl"},n.className),[,C]=od(),T=w.useMemo(()=>t!==void 0?t:C.zIndexPopupBase+CF,[t,C]);return w.createElement(r4,Object.assign({},n,{className:y,wrapClassName:Je({[`${_}-centered`]:!!n.centered},l),onCancel:()=>{e==null||e({triggerCancel:!0}),m==null||m(!1)},title:"",footer:null,transitionName:ed(s||"","zoom",n.transitionName),maskTransitionName:ed(s||"","fade",n.maskTransitionName),mask:p,maskClosable:g,style:c,styles:Object.assign({body:u,mask:r},b),width:E,zIndex:T,closable:f}),w.createElement(a4,Object.assign({},n,{confirmPrefixCls:_})))},o4=n=>{const{rootPrefixCls:e,iconPrefixCls:t,direction:r,theme:a}=n;return w.createElement(xf,{prefixCls:e,iconPrefixCls:t,direction:r,theme:a},w.createElement(cK,Object.assign({},n)))},fm=[];let s4="";function l4(){return s4}const uK=n=>{var e,t;const{prefixCls:r,getContainer:a,direction:o}=n,l=jU(),s=w.useContext(Hn),u=l4()||s.getPrefixCls(),f=r||`${u}-modal`;let m=a;return m===!1&&(m=void 0),Xe.createElement(o4,Object.assign({},n,{rootPrefixCls:u,prefixCls:f,iconPrefixCls:s.iconPrefixCls,theme:s.theme,direction:o??s.direction,locale:(t=(e=s.locale)===null||e===void 0?void 0:e.Modal)!==null&&t!==void 0?t:l,getContainer:m}))};function IS(n){const e=yF(),t=document.createDocumentFragment();let r=Object.assign(Object.assign({},n),{close:u,open:!0}),a,o;function l(){for(var m,b=arguments.length,_=new Array(b),E=0;E<b;E++)_[E]=arguments[E];if(_.some(g=>g==null?void 0:g.triggerCancel)){var p;(m=n.onCancel)===null||m===void 0||(p=m).call.apply(p,[n,()=>{}].concat(Jt(_.slice(1))))}for(let g=0;g<fm.length;g++)if(fm[g]===u){fm.splice(g,1);break}o()}function s(m){clearTimeout(a),a=setTimeout(()=>{const b=e.getPrefixCls(void 0,l4()),_=e.getIconPrefixCls(),E=e.getTheme(),c=Xe.createElement(uK,Object.assign({},m));o=zO()(Xe.createElement(xf,{prefixCls:b,iconPrefixCls:_,theme:E},e.holderRender?e.holderRender(c):c),t)})}function u(){for(var m=arguments.length,b=new Array(m),_=0;_<m;_++)b[_]=arguments[_];r=Object.assign(Object.assign({},r),{open:!1,afterClose:()=>{typeof n.afterClose=="function"&&n.afterClose(),l.apply(this,b)}}),r.visible&&delete r.visible,s(r)}function f(m){typeof m=="function"?r=m(r):r=Object.assign(Object.assign({},r),m),s(r)}return s(r),fm.push(u),{destroy:u,update:f}}function c4(n){return Object.assign(Object.assign({},n),{type:"warning"})}function u4(n){return Object.assign(Object.assign({},n),{type:"info"})}function d4(n){return Object.assign(Object.assign({},n),{type:"success"})}function f4(n){return Object.assign(Object.assign({},n),{type:"error"})}function h4(n){return Object.assign(Object.assign({},n),{type:"confirm"})}function dK(n){let{rootPrefixCls:e}=n;s4=e}var fK=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const hK=(n,e)=>{var t,{afterClose:r,config:a}=n,o=fK(n,["afterClose","config"]);const[l,s]=w.useState(!0),[u,f]=w.useState(a),{direction:m,getPrefixCls:b}=w.useContext(Hn),_=b("modal"),E=b(),c=()=>{var C;r(),(C=u.afterClose)===null||C===void 0||C.call(u)},p=function(){var C;s(!1);for(var T=arguments.length,M=new Array(T),O=0;O<T;O++)M[O]=arguments[O];if(M.some(F=>F==null?void 0:F.triggerCancel)){var D;(C=u.onCancel)===null||C===void 0||(D=C).call.apply(D,[u,()=>{}].concat(Jt(M.slice(1))))}};w.useImperativeHandle(e,()=>({destroy:p,update:C=>{f(T=>Object.assign(Object.assign({},T),C))}}));const g=(t=u.okCancel)!==null&&t!==void 0?t:u.type==="confirm",[y]=ES("Modal",Fh.Modal);return w.createElement(o4,Object.assign({prefixCls:_,rootPrefixCls:E},u,{close:p,open:l,afterClose:c,okText:u.okText||(g?y==null?void 0:y.okText:y==null?void 0:y.justOkText),direction:u.direction||m,cancelText:u.cancelText||(y==null?void 0:y.cancelText)},o))},pK=w.forwardRef(hK);let WP=0;const mK=w.memo(w.forwardRef((n,e)=>{const[t,r]=TW();return w.useImperativeHandle(e,()=>({patchElement:r}),[]),w.createElement(w.Fragment,null,t)}));function gK(){const n=w.useRef(null),[e,t]=w.useState([]);w.useEffect(()=>{e.length&&(Jt(e).forEach(l=>{l()}),t([]))},[e]);const r=w.useCallback(o=>function(s){var u;WP+=1;const f=w.createRef();let m;const b=new Promise(g=>{m=g});let _=!1,E;const c=w.createElement(pK,{key:`modal-${WP}`,config:o(s),ref:f,afterClose:()=>{E==null||E()},isSilent:()=>_,onConfirm:g=>{m(g)}});return E=(u=n.current)===null||u===void 0?void 0:u.patchElement(c),E&&fm.push(E),{destroy:()=>{function g(){var y;(y=f.current)===null||y===void 0||y.destroy()}f.current?g():t(y=>[].concat(Jt(y),[g]))},update:g=>{function y(){var C;(C=f.current)===null||C===void 0||C.update(g)}f.current?y():t(C=>[].concat(Jt(C),[y]))},then:g=>(_=!0,b.then(g))}},[]);return[w.useMemo(()=>({info:r(u4),success:r(d4),error:r(f4),warning:r(c4),confirm:r(h4)}),[]),w.createElement(mK,{key:"modal-holder",ref:n})]}const vK=Xe.createContext({});function yK(n){return e=>w.createElement(xf,{theme:{token:{motion:!1,zIndexPopupBase:0}}},w.createElement(n,Object.assign({},e)))}const bK=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var n=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(n)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(n==null?void 0:n.substr(0,4))};var SK=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],Gg=void 0;function _K(n,e){var t=n.prefixCls,r=n.invalidate,a=n.item,o=n.renderItem,l=n.responsive,s=n.responsiveDisabled,u=n.registerSize,f=n.itemKey,m=n.className,b=n.style,_=n.children,E=n.display,c=n.order,p=n.component,g=p===void 0?"div":p,y=kn(n,SK),C=l&&!E;function T(F){u(f,F)}w.useEffect(function(){return function(){T(null)}},[]);var M=o&&a!==Gg?o(a,{index:c}):_,O;r||(O={opacity:C?0:1,height:C?0:Gg,overflowY:C?"hidden":Gg,order:l?c:Gg,pointerEvents:C?"none":Gg,position:C?"absolute":Gg});var B={};C&&(B["aria-hidden"]=!0);var D=w.createElement(g,Pt({className:Je(!r&&t,m),style:Ne(Ne({},O),b)},B,y,{ref:e}),M);return l&&(D=w.createElement(Hm,{onResize:function(z){var U=z.offsetWidth;T(U)},disabled:s},D)),D}var Bb=w.forwardRef(_K);Bb.displayName="Item";function xK(n){if(typeof MessageChannel>"u")Da(n);else{var e=new MessageChannel;e.port1.onmessage=function(){return n()},e.port2.postMessage(void 0)}}function CK(){var n=w.useRef(null),e=function(r){n.current||(n.current=[],xK(function(){Uh.unstable_batchedUpdates(function(){n.current.forEach(function(a){a()}),n.current=null})})),n.current.push(r)};return e}function Gy(n,e){var t=w.useState(e),r=vt(t,2),a=r[0],o=r[1],l=Qa(function(s){n(function(){o(s)})});return[a,l]}var G1=Xe.createContext(null),EK=["component"],wK=["className"],AK=["className"],MK=function(e,t){var r=w.useContext(G1);if(!r){var a=e.component,o=a===void 0?"div":a,l=kn(e,EK);return w.createElement(o,Pt({},l,{ref:t}))}var s=r.className,u=kn(r,wK),f=e.className,m=kn(e,AK);return w.createElement(G1.Provider,{value:null},w.createElement(Bb,Pt({ref:t,className:Je(s,f)},u,m)))},p4=w.forwardRef(MK);p4.displayName="RawItem";var TK=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],m4="responsive",g4="invalidate";function RK(n){return"+ ".concat(n.length," ...")}function OK(n,e){var t=n.prefixCls,r=t===void 0?"rc-overflow":t,a=n.data,o=a===void 0?[]:a,l=n.renderItem,s=n.renderRawItem,u=n.itemKey,f=n.itemWidth,m=f===void 0?10:f,b=n.ssr,_=n.style,E=n.className,c=n.maxCount,p=n.renderRest,g=n.renderRawRest,y=n.suffix,C=n.component,T=C===void 0?"div":C,M=n.itemComponent,O=n.onVisibleChange,B=kn(n,TK),D=b==="full",F=CK(),z=Gy(F,null),U=vt(z,2),$=U[0],J=U[1],W=$||0,Q=Gy(F,new Map),ae=vt(Q,2),Y=ae[0],K=ae[1],ee=Gy(F,0),de=vt(ee,2),q=de[0],ie=de[1],he=Gy(F,0),fe=vt(he,2),Z=fe[0],pe=fe[1],xe=Gy(F,0),Oe=vt(xe,2),Ae=Oe[0],Te=Oe[1],ze=w.useState(null),yt=vt(ze,2),Be=yt[0],Ce=yt[1],re=w.useState(null),Fe=vt(re,2),Ie=Fe[0],qe=Fe[1],$e=w.useMemo(function(){return Ie===null&&D?Number.MAX_SAFE_INTEGER:Ie||0},[Ie,$]),ct=w.useState(!1),st=vt(ct,2),ce=st[0],oe=st[1],we="".concat(r,"-item"),De=Math.max(q,Z),Ke=c===m4,He=o.length&&Ke,gt=c===g4,lt=He||typeof c=="number"&&o.length>c,pt=w.useMemo(function(){var qt=o;return He?$===null&&D?qt=o:qt=o.slice(0,Math.min(o.length,W/m)):typeof c=="number"&&(qt=o.slice(0,c)),qt},[o,m,$,c,He]),It=w.useMemo(function(){return He?o.slice($e+1):o.slice(pt.length)},[o,pt,He,$e]),ot=w.useCallback(function(qt,Lt){var Yt;return typeof u=="function"?u(qt):(Yt=u&&(qt==null?void 0:qt[u]))!==null&&Yt!==void 0?Yt:Lt},[u]),_t=w.useCallback(l||function(qt){return qt},[l]);function Ct(qt,Lt,Yt){Ie===qt&&(Lt===void 0||Lt===Be)||(qe(qt),Yt||(oe(qt<o.length-1),O==null||O(qt)),Lt!==void 0&&Ce(Lt))}function We(qt,Lt){J(Lt.clientWidth)}function rt(qt,Lt){K(function(Yt){var yn=new Map(Yt);return Lt===null?yn.delete(qt):yn.set(qt,Lt),yn})}function Se(qt,Lt){pe(Lt),ie(Z)}function Ge(qt,Lt){Te(Lt)}function St(qt){return Y.get(ot(pt[qt],qt))}wa(function(){if(W&&typeof De=="number"&&pt){var qt=Ae,Lt=pt.length,Yt=Lt-1;if(!Lt){Ct(0,null);return}for(var yn=0;yn<Lt;yn+=1){var lr=St(yn);if(D&&(lr=lr||0),lr===void 0){Ct(yn-1,void 0,!0);break}if(qt+=lr,Yt===0&&qt<=W||yn===Yt-1&&qt+St(Yt)<=W){Ct(Yt,null);break}else if(qt+De>W){Ct(yn-1,qt-lr-Ae+Z);break}}y&&St(0)+Ae>W&&Ce(null)}},[W,Y,Z,Ae,ot,pt]);var Me=ce&&!!It.length,xt={};Be!==null&&He&&(xt={position:"absolute",left:Be,top:0});var et={prefixCls:we,responsive:He,component:M,invalidate:gt},mt=s?function(qt,Lt){var Yt=ot(qt,Lt);return w.createElement(G1.Provider,{key:Yt,value:Ne(Ne({},et),{},{order:Lt,item:qt,itemKey:Yt,registerSize:rt,display:Lt<=$e})},s(qt,Lt))}:function(qt,Lt){var Yt=ot(qt,Lt);return w.createElement(Bb,Pt({},et,{order:Lt,key:Yt,item:qt,renderItem:_t,itemKey:Yt,registerSize:rt,display:Lt<=$e}))},Nt={order:Me?$e:Number.MAX_SAFE_INTEGER,className:"".concat(we,"-rest"),registerSize:Se,display:Me},Bt=p||RK,Qt=g?w.createElement(G1.Provider,{value:Ne(Ne({},et),Nt)},g(It)):w.createElement(Bb,Pt({},et,Nt),typeof Bt=="function"?Bt(It):Bt),sn=w.createElement(T,Pt({className:Je(!gt&&r,E),style:_,ref:e},B),pt.map(mt),lt?Qt:null,y&&w.createElement(Bb,Pt({},et,{responsive:Ke,responsiveDisabled:!He,order:$e,className:"".concat(we,"-suffix"),registerSize:Ge,display:!0,style:xt}),y));return Ke?w.createElement(Hm,{onResize:We,disabled:!He},sn):sn}var cf=w.forwardRef(OK);cf.displayName="Overflow";cf.Item=p4;cf.RESPONSIVE=m4;cf.INVALIDATE=g4;function IK(n){var e=n.prefixCls,t=n.align,r=n.arrow,a=n.arrowPos,o=r||{},l=o.className,s=o.content,u=a.x,f=u===void 0?0:u,m=a.y,b=m===void 0?0:m,_=w.useRef();if(!t||!t.points)return null;var E={position:"absolute"};if(t.autoArrow!==!1){var c=t.points[0],p=t.points[1],g=c[0],y=c[1],C=p[0],T=p[1];g===C||!["t","b"].includes(g)?E.top=b:g==="t"?E.top=0:E.bottom=0,y===T||!["l","r"].includes(y)?E.left=f:y==="l"?E.left=0:E.right=0}return w.createElement("div",{ref:_,className:Je("".concat(e,"-arrow"),l),style:E},s)}function BK(n){var e=n.prefixCls,t=n.open,r=n.zIndex,a=n.mask,o=n.motion;return a?w.createElement(Xc,Pt({},o,{motionAppear:!0,visible:t,removeOnLeave:!0}),function(l){var s=l.className;return w.createElement("div",{style:{zIndex:r},className:Je("".concat(e,"-mask"),s)})}):null}var DK=w.memo(function(n){var e=n.children;return e},function(n,e){return e.cache}),PK=w.forwardRef(function(n,e){var t=n.popup,r=n.className,a=n.prefixCls,o=n.style,l=n.target,s=n.onVisibleChanged,u=n.open,f=n.keepDom,m=n.fresh,b=n.onClick,_=n.mask,E=n.arrow,c=n.arrowPos,p=n.align,g=n.motion,y=n.maskMotion,C=n.forceRender,T=n.getPopupContainer,M=n.autoDestroy,O=n.portal,B=n.zIndex,D=n.onMouseEnter,F=n.onMouseLeave,z=n.onPointerEnter,U=n.onPointerDownCapture,$=n.ready,J=n.offsetX,W=n.offsetY,Q=n.offsetR,ae=n.offsetB,Y=n.onAlign,K=n.onPrepare,ee=n.stretch,de=n.targetWidth,q=n.targetHeight,ie=typeof t=="function"?t():t,he=u||f,fe=(T==null?void 0:T.length)>0,Z=w.useState(!T||!fe),pe=vt(Z,2),xe=pe[0],Oe=pe[1];if(wa(function(){!xe&&fe&&l&&Oe(!0)},[xe,fe,l]),!xe)return null;var Ae="auto",Te={left:"-1000vw",top:"-1000vh",right:Ae,bottom:Ae};if($||!u){var ze,yt=p.points,Be=p.dynamicInset||((ze=p._experimental)===null||ze===void 0?void 0:ze.dynamicInset),Ce=Be&&yt[0][1]==="r",re=Be&&yt[0][0]==="b";Ce?(Te.right=Q,Te.left=Ae):(Te.left=J,Te.right=Ae),re?(Te.bottom=ae,Te.top=Ae):(Te.top=W,Te.bottom=Ae)}var Fe={};return ee&&(ee.includes("height")&&q?Fe.height=q:ee.includes("minHeight")&&q&&(Fe.minHeight=q),ee.includes("width")&&de?Fe.width=de:ee.includes("minWidth")&&de&&(Fe.minWidth=de)),u||(Fe.pointerEvents="none"),w.createElement(O,{open:C||he,getContainer:T&&function(){return T(l)},autoDestroy:M},w.createElement(BK,{prefixCls:a,open:u,zIndex:B,mask:_,motion:y}),w.createElement(Hm,{onResize:Y,disabled:!u},function(Ie){return w.createElement(Xc,Pt({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:C,leavedClassName:"".concat(a,"-hidden")},g,{onAppearPrepare:K,onEnterPrepare:K,visible:u,onVisibleChanged:function($e){var ct;g==null||(ct=g.onVisibleChanged)===null||ct===void 0||ct.call(g,$e),s($e)}}),function(qe,$e){var ct=qe.className,st=qe.style,ce=Je(a,ct,r);return w.createElement("div",{ref:_f(Ie,e,$e),className:ce,style:Ne(Ne(Ne(Ne({"--arrow-x":"".concat(c.x||0,"px"),"--arrow-y":"".concat(c.y||0,"px")},Te),Fe),st),{},{boxSizing:"border-box",zIndex:B},o),onMouseEnter:D,onMouseLeave:F,onPointerEnter:z,onClick:b,onPointerDownCapture:U},E&&w.createElement(IK,{prefixCls:a,arrow:E,arrowPos:c,align:p}),w.createElement(DK,{cache:!u&&!m},ie))})}))}),LK=w.forwardRef(function(n,e){var t=n.children,r=n.getTriggerDOMNode,a=xS(t),o=w.useCallback(function(s){CO(e,r?r(s):s)},[r]),l=O0(o,ow(t));return a?w.cloneElement(t,{ref:l}):t}),XP=w.createContext(null);function YP(n){return n?Array.isArray(n)?n:[n]:[]}function NK(n,e,t,r){return w.useMemo(function(){var a=YP(t??e),o=YP(r??e),l=new Set(a),s=new Set(o);return n&&(l.has("hover")&&(l.delete("hover"),l.add("click")),s.has("hover")&&(s.delete("hover"),s.add("click"))),[l,s]},[n,e,t,r])}function zK(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=arguments.length>2?arguments[2]:void 0;return t?n[0]===e[0]:n[0]===e[0]&&n[1]===e[1]}function UK(n,e,t,r){for(var a=t.points,o=Object.keys(n),l=0;l<o.length;l+=1){var s,u=o[l];if(zK((s=n[u])===null||s===void 0?void 0:s.points,a,r))return"".concat(e,"-placement-").concat(u)}return""}function qP(n,e,t,r){return e||(t?{motionName:"".concat(n,"-").concat(t)}:r?{motionName:r}:null)}function BS(n){return n.ownerDocument.defaultView}function d2(n){for(var e=[],t=n==null?void 0:n.parentElement,r=["hidden","scroll","clip","auto"];t;){var a=BS(t).getComputedStyle(t),o=a.overflowX,l=a.overflowY,s=a.overflow;[o,l,s].some(function(u){return r.includes(u)})&&e.push(t),t=t.parentElement}return e}function nS(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(n)?e:n}function ky(n){return nS(parseFloat(n),0)}function KP(n,e){var t=Ne({},n);return(e||[]).forEach(function(r){if(!(r instanceof HTMLBodyElement||r instanceof HTMLHtmlElement)){var a=BS(r).getComputedStyle(r),o=a.overflow,l=a.overflowClipMargin,s=a.borderTopWidth,u=a.borderBottomWidth,f=a.borderLeftWidth,m=a.borderRightWidth,b=r.getBoundingClientRect(),_=r.offsetHeight,E=r.clientHeight,c=r.offsetWidth,p=r.clientWidth,g=ky(s),y=ky(u),C=ky(f),T=ky(m),M=nS(Math.round(b.width/c*1e3)/1e3),O=nS(Math.round(b.height/_*1e3)/1e3),B=(c-p-C-T)*M,D=(_-E-g-y)*O,F=g*O,z=y*O,U=C*M,$=T*M,J=0,W=0;if(o==="clip"){var Q=ky(l);J=Q*M,W=Q*O}var ae=b.x+U-J,Y=b.y+F-W,K=ae+b.width+2*J-U-$-B,ee=Y+b.height+2*W-F-z-D;t.left=Math.max(t.left,ae),t.top=Math.max(t.top,Y),t.right=Math.min(t.right,K),t.bottom=Math.min(t.bottom,ee)}}),t}function JP(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t="".concat(e),r=t.match(/^(.*)\%$/);return r?n*(parseFloat(r[1])/100):parseFloat(t)}function QP(n,e){var t=e||[],r=vt(t,2),a=r[0],o=r[1];return[JP(n.width,a),JP(n.height,o)]}function ZP(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[n[0],n[1]]}function kg(n,e){var t=e[0],r=e[1],a,o;return t==="t"?o=n.y:t==="b"?o=n.y+n.height:o=n.y+n.height/2,r==="l"?a=n.x:r==="r"?a=n.x+n.width:a=n.x+n.width/2,{x:a,y:o}}function sh(n,e){var t={t:"b",b:"t",l:"r",r:"l"};return n.map(function(r,a){return a===e?t[r]||"c":r}).join("")}function FK(n,e,t,r,a,o,l){var s=w.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:a[r]||{}}),u=vt(s,2),f=u[0],m=u[1],b=w.useRef(0),_=w.useMemo(function(){return e?d2(e):[]},[e]),E=w.useRef({}),c=function(){E.current={}};n||c();var p=Qa(function(){if(e&&t&&n){let xr=function(Ua,va){var Ta=arguments.length>2&&arguments[2]!==void 0?arguments[2]:De,Ds=Z.x+Ua,So=Z.y+va,jl=Ds+Ce,tn=So+Be,Sn=Math.max(Ds,Ta.left),Mi=Math.max(So,Ta.top),Ci=Math.min(jl,Ta.right),Hi=Math.min(tn,Ta.bottom);return Math.max(0,(Ci-Sn)*(Hi-Mi))},$o=function(){zr=Z.y+Yt,Ur=zr+Be,Rr=Z.x+Lt,Or=Rr+Ce};var cd=xr,Jc=$o,C,T,M,O,B=e,D=B.ownerDocument,F=BS(B),z=F.getComputedStyle(B),U=z.width,$=z.height,J=z.position,W=B.style.left,Q=B.style.top,ae=B.style.right,Y=B.style.bottom,K=B.style.overflow,ee=Ne(Ne({},a[r]),o),de=D.createElement("div");(C=B.parentElement)===null||C===void 0||C.appendChild(de),de.style.left="".concat(B.offsetLeft,"px"),de.style.top="".concat(B.offsetTop,"px"),de.style.position=J,de.style.height="".concat(B.offsetHeight,"px"),de.style.width="".concat(B.offsetWidth,"px"),B.style.left="0",B.style.top="0",B.style.right="auto",B.style.bottom="auto",B.style.overflow="hidden";var q;if(Array.isArray(t))q={x:t[0],y:t[1],width:0,height:0};else{var ie,he,fe=t.getBoundingClientRect();fe.x=(ie=fe.x)!==null&&ie!==void 0?ie:fe.left,fe.y=(he=fe.y)!==null&&he!==void 0?he:fe.top,q={x:fe.x,y:fe.y,width:fe.width,height:fe.height}}var Z=B.getBoundingClientRect();Z.x=(T=Z.x)!==null&&T!==void 0?T:Z.left,Z.y=(M=Z.y)!==null&&M!==void 0?M:Z.top;var pe=D.documentElement,xe=pe.clientWidth,Oe=pe.clientHeight,Ae=pe.scrollWidth,Te=pe.scrollHeight,ze=pe.scrollTop,yt=pe.scrollLeft,Be=Z.height,Ce=Z.width,re=q.height,Fe=q.width,Ie={left:0,top:0,right:xe,bottom:Oe},qe={left:-yt,top:-ze,right:Ae-yt,bottom:Te-ze},$e=ee.htmlRegion,ct="visible",st="visibleFirst";$e!=="scroll"&&$e!==st&&($e=ct);var ce=$e===st,oe=KP(qe,_),we=KP(Ie,_),De=$e===ct?we:oe,Ke=ce?we:De;B.style.left="auto",B.style.top="auto",B.style.right="0",B.style.bottom="0";var He=B.getBoundingClientRect();B.style.left=W,B.style.top=Q,B.style.right=ae,B.style.bottom=Y,B.style.overflow=K,(O=B.parentElement)===null||O===void 0||O.removeChild(de);var gt=nS(Math.round(Ce/parseFloat(U)*1e3)/1e3),lt=nS(Math.round(Be/parseFloat($)*1e3)/1e3);if(gt===0||lt===0||qb(t)&&!UO(t))return;var pt=ee.offset,It=ee.targetOffset,ot=QP(Z,pt),_t=vt(ot,2),Ct=_t[0],We=_t[1],rt=QP(q,It),Se=vt(rt,2),Ge=Se[0],St=Se[1];q.x-=Ge,q.y-=St;var Me=ee.points||[],xt=vt(Me,2),et=xt[0],mt=xt[1],Nt=ZP(mt),Bt=ZP(et),Qt=kg(q,Nt),sn=kg(Z,Bt),qt=Ne({},ee),Lt=Qt.x-sn.x+Ct,Yt=Qt.y-sn.y+We,yn=xr(Lt,Yt),lr=xr(Lt,Yt,we),Qr=kg(q,["t","l"]),zn=kg(Z,["t","l"]),Ai=kg(q,["b","r"]),Sr=kg(Z,["b","r"]),wn=ee.overflow||{},Mn=wn.adjustX,Qn=wn.adjustY,un=wn.shiftX,ii=wn.shiftY,ln=function(va){return typeof va=="boolean"?va:va>=0},zr,Ur,Rr,Or;$o();var cr=ln(Qn),_r=Bt[0]===Nt[0];if(cr&&Bt[0]==="t"&&(Ur>Ke.bottom||E.current.bt)){var le=Yt;_r?le-=Be-re:le=Qr.y-Sr.y-We;var Ue=xr(Lt,le),at=xr(Lt,le,we);Ue>yn||Ue===yn&&(!ce||at>=lr)?(E.current.bt=!0,Yt=le,We=-We,qt.points=[sh(Bt,0),sh(Nt,0)]):E.current.bt=!1}if(cr&&Bt[0]==="b"&&(zr<Ke.top||E.current.tb)){var Ze=Yt;_r?Ze+=Be-re:Ze=Ai.y-zn.y-We;var Ve=xr(Lt,Ze),Rt=xr(Lt,Ze,we);Ve>yn||Ve===yn&&(!ce||Rt>=lr)?(E.current.tb=!0,Yt=Ze,We=-We,qt.points=[sh(Bt,0),sh(Nt,0)]):E.current.tb=!1}var Vt=ln(Mn),Kt=Bt[1]===Nt[1];if(Vt&&Bt[1]==="l"&&(Or>Ke.right||E.current.rl)){var Wt=Lt;Kt?Wt-=Ce-Fe:Wt=Qr.x-Sr.x-Ct;var gn=xr(Wt,Yt),dn=xr(Wt,Yt,we);gn>yn||gn===yn&&(!ce||dn>=lr)?(E.current.rl=!0,Lt=Wt,Ct=-Ct,qt.points=[sh(Bt,1),sh(Nt,1)]):E.current.rl=!1}if(Vt&&Bt[1]==="r"&&(Rr<Ke.left||E.current.lr)){var on=Lt;Kt?on+=Ce-Fe:on=Ai.x-zn.x-Ct;var Gn=xr(on,Yt),Vn=xr(on,Yt,we);Gn>yn||Gn===yn&&(!ce||Vn>=lr)?(E.current.lr=!0,Lt=on,Ct=-Ct,qt.points=[sh(Bt,1),sh(Nt,1)]):E.current.lr=!1}$o();var jn=un===!0?0:un;typeof jn=="number"&&(Rr<we.left&&(Lt-=Rr-we.left-Ct,q.x+Fe<we.left+jn&&(Lt+=q.x-we.left+Fe-jn)),Or>we.right&&(Lt-=Or-we.right-Ct,q.x>we.right-jn&&(Lt+=q.x-we.right+jn)));var In=ii===!0?0:ii;typeof In=="number"&&(zr<we.top&&(Yt-=zr-we.top-We,q.y+re<we.top+In&&(Yt+=q.y-we.top+re-In)),Ur>we.bottom&&(Yt-=Ur-we.bottom-We,q.y>we.bottom-In&&(Yt+=q.y-we.bottom+In)));var bn=Z.x+Lt,cn=bn+Ce,Si=Z.y+Yt,Wn=Si+Be,$n=q.x,Tn=$n+Fe,Cn=q.y,Zn=Cn+re,An=Math.max(bn,$n),xi=Math.min(cn,Tn),Li=(An+xi)/2,$i=Li-bn,Ki=Math.max(Si,Cn),Ir=Math.min(Wn,Zn),Wi=(Ki+Ir)/2,bo=Wi-Si;l==null||l(e,qt);var no=He.right-Z.x-(Lt+Z.width),Ma=He.bottom-Z.y-(Yt+Z.height);gt===1&&(Lt=Math.round(Lt),no=Math.round(no)),lt===1&&(Yt=Math.round(Yt),Ma=Math.round(Ma));var Bs={ready:!0,offsetX:Lt/gt,offsetY:Yt/lt,offsetR:no/gt,offsetB:Ma/lt,arrowX:$i/gt,arrowY:bo/lt,scaleX:gt,scaleY:lt,align:qt};m(Bs)}}),g=function(){b.current+=1;var T=b.current;Promise.resolve().then(function(){b.current===T&&p()})},y=function(){m(function(T){return Ne(Ne({},T),{},{ready:!1})})};return wa(y,[r]),wa(function(){n||y()},[n]),[f.ready,f.offsetX,f.offsetY,f.offsetR,f.offsetB,f.arrowX,f.arrowY,f.scaleX,f.scaleY,f.align,g]}function HK(n,e,t,r,a){wa(function(){if(n&&e&&t){let _=function(){r(),a()};var b=_,o=e,l=t,s=d2(o),u=d2(l),f=BS(l),m=new Set([f].concat(Jt(s),Jt(u)));return m.forEach(function(E){E.addEventListener("scroll",_,{passive:!0})}),f.addEventListener("resize",_,{passive:!0}),r(),function(){m.forEach(function(E){E.removeEventListener("scroll",_),f.removeEventListener("resize",_)})}}},[n,e,t])}function GK(n,e,t,r,a,o,l,s){var u=w.useRef(n);u.current=n;var f=w.useRef(!1);w.useEffect(function(){if(e&&r&&(!a||o)){var b=function(){f.current=!1},_=function(g){var y;u.current&&!l(((y=g.composedPath)===null||y===void 0||(y=y.call(g))===null||y===void 0?void 0:y[0])||g.target)&&!f.current&&s(!1)},E=BS(r);E.addEventListener("pointerdown",b,!0),E.addEventListener("mousedown",_,!0),E.addEventListener("contextmenu",_,!0);var c=O1(t);return c&&(c.addEventListener("mousedown",_,!0),c.addEventListener("contextmenu",_,!0)),function(){E.removeEventListener("pointerdown",b,!0),E.removeEventListener("mousedown",_,!0),E.removeEventListener("contextmenu",_,!0),c&&(c.removeEventListener("mousedown",_,!0),c.removeEventListener("contextmenu",_,!0))}}},[e,t,r,a,o]);function m(){f.current=!0}return m}var kK=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function $K(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ew,e=w.forwardRef(function(t,r){var a=t.prefixCls,o=a===void 0?"rc-trigger-popup":a,l=t.children,s=t.action,u=s===void 0?"hover":s,f=t.showAction,m=t.hideAction,b=t.popupVisible,_=t.defaultPopupVisible,E=t.onPopupVisibleChange,c=t.afterPopupVisibleChange,p=t.mouseEnterDelay,g=t.mouseLeaveDelay,y=g===void 0?.1:g,C=t.focusDelay,T=t.blurDelay,M=t.mask,O=t.maskClosable,B=O===void 0?!0:O,D=t.getPopupContainer,F=t.forceRender,z=t.autoDestroy,U=t.destroyPopupOnHide,$=t.popup,J=t.popupClassName,W=t.popupStyle,Q=t.popupPlacement,ae=t.builtinPlacements,Y=ae===void 0?{}:ae,K=t.popupAlign,ee=t.zIndex,de=t.stretch,q=t.getPopupClassNameFromAlign,ie=t.fresh,he=t.alignPoint,fe=t.onPopupClick,Z=t.onPopupAlign,pe=t.arrow,xe=t.popupMotion,Oe=t.maskMotion,Ae=t.popupTransitionName,Te=t.popupAnimation,ze=t.maskTransitionName,yt=t.maskAnimation,Be=t.className,Ce=t.getTriggerDOMNode,re=kn(t,kK),Fe=z||U||!1,Ie=w.useState(!1),qe=vt(Ie,2),$e=qe[0],ct=qe[1];wa(function(){ct(bK())},[]);var st=w.useRef({}),ce=w.useContext(XP),oe=w.useMemo(function(){return{registerSubPopup:function(Sn,Mi){st.current[Sn]=Mi,ce==null||ce.registerSubPopup(Sn,Mi)}}},[ce]),we=ww(),De=w.useState(null),Ke=vt(De,2),He=Ke[0],gt=Ke[1],lt=w.useRef(null),pt=Qa(function(tn){lt.current=tn,qb(tn)&&He!==tn&&gt(tn),ce==null||ce.registerSubPopup(we,tn)}),It=w.useState(null),ot=vt(It,2),_t=ot[0],Ct=ot[1],We=w.useRef(null),rt=Qa(function(tn){qb(tn)&&_t!==tn&&(Ct(tn),We.current=tn)}),Se=w.Children.only(l),Ge=(Se==null?void 0:Se.props)||{},St={},Me=Qa(function(tn){var Sn,Mi,Ci=_t;return(Ci==null?void 0:Ci.contains(tn))||((Sn=O1(Ci))===null||Sn===void 0?void 0:Sn.host)===tn||tn===Ci||(He==null?void 0:He.contains(tn))||((Mi=O1(He))===null||Mi===void 0?void 0:Mi.host)===tn||tn===He||Object.values(st.current).some(function(Hi){return(Hi==null?void 0:Hi.contains(tn))||tn===Hi})}),xt=qP(o,xe,Te,Ae),et=qP(o,Oe,yt,ze),mt=w.useState(_||!1),Nt=vt(mt,2),Bt=Nt[0],Qt=Nt[1],sn=b??Bt,qt=Qa(function(tn){b===void 0&&Qt(tn)});wa(function(){Qt(b||!1)},[b]);var Lt=w.useRef(sn);Lt.current=sn;var Yt=w.useRef([]);Yt.current=[];var yn=Qa(function(tn){var Sn;qt(tn),((Sn=Yt.current[Yt.current.length-1])!==null&&Sn!==void 0?Sn:sn)!==tn&&(Yt.current.push(tn),E==null||E(tn))}),lr=w.useRef(),Qr=function(){clearTimeout(lr.current)},zn=function(Sn){var Mi=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Qr(),Mi===0?yn(Sn):lr.current=setTimeout(function(){yn(Sn)},Mi*1e3)};w.useEffect(function(){return Qr},[]);var Ai=w.useState(!1),Sr=vt(Ai,2),wn=Sr[0],Mn=Sr[1];wa(function(tn){(!tn||sn)&&Mn(!0)},[sn]);var Qn=w.useState(null),un=vt(Qn,2),ii=un[0],ln=un[1],zr=w.useState(null),Ur=vt(zr,2),Rr=Ur[0],Or=Ur[1],cr=function(Sn){Or([Sn.clientX,Sn.clientY])},_r=FK(sn,He,he&&Rr!==null?Rr:_t,Q,Y,K,Z),le=vt(_r,11),Ue=le[0],at=le[1],Ze=le[2],Ve=le[3],Rt=le[4],Vt=le[5],Kt=le[6],Wt=le[7],gn=le[8],dn=le[9],on=le[10],Gn=NK($e,u,f,m),Vn=vt(Gn,2),jn=Vn[0],In=Vn[1],bn=jn.has("click"),cn=In.has("click")||In.has("contextMenu"),Si=Qa(function(){wn||on()}),Wn=function(){Lt.current&&he&&cn&&zn(!1)};HK(sn,_t,He,Si,Wn),wa(function(){Si()},[Rr,Q]),wa(function(){sn&&!(Y!=null&&Y[Q])&&Si()},[JSON.stringify(K)]);var $n=w.useMemo(function(){var tn=UK(Y,o,dn,he);return Je(tn,q==null?void 0:q(dn))},[dn,q,Y,o,he]);w.useImperativeHandle(r,function(){return{nativeElement:We.current,popupElement:lt.current,forceAlign:Si}});var Tn=w.useState(0),Cn=vt(Tn,2),Zn=Cn[0],An=Cn[1],xi=w.useState(0),Li=vt(xi,2),$i=Li[0],Ki=Li[1],Ir=function(){if(de&&_t){var Sn=_t.getBoundingClientRect();An(Sn.width),Ki(Sn.height)}},Wi=function(){Ir(),Si()},bo=function(Sn){Mn(!1),on(),c==null||c(Sn)},no=function(){return new Promise(function(Sn){Ir(),ln(function(){return Sn})})};wa(function(){ii&&(on(),ii(),ln(null))},[ii]);function Ma(tn,Sn,Mi,Ci){St[tn]=function(Hi){var Ps;Ci==null||Ci(Hi),zn(Sn,Mi);for(var Vo=arguments.length,Fa=new Array(Vo>1?Vo-1:0),jo=1;jo<Vo;jo++)Fa[jo-1]=arguments[jo];(Ps=Ge[tn])===null||Ps===void 0||Ps.call.apply(Ps,[Ge,Hi].concat(Fa))}}(bn||cn)&&(St.onClick=function(tn){var Sn;Lt.current&&cn?zn(!1):!Lt.current&&bn&&(cr(tn),zn(!0));for(var Mi=arguments.length,Ci=new Array(Mi>1?Mi-1:0),Hi=1;Hi<Mi;Hi++)Ci[Hi-1]=arguments[Hi];(Sn=Ge.onClick)===null||Sn===void 0||Sn.call.apply(Sn,[Ge,tn].concat(Ci))});var Bs=GK(sn,cn,_t,He,M,B,Me,zn),cd=jn.has("hover"),Jc=In.has("hover"),xr,$o;cd&&(Ma("onMouseEnter",!0,p,function(tn){cr(tn)}),Ma("onPointerEnter",!0,p,function(tn){cr(tn)}),xr=function(Sn){(sn||wn)&&He!==null&&He!==void 0&&He.contains(Sn.target)&&zn(!0,p)},he&&(St.onMouseMove=function(tn){var Sn;(Sn=Ge.onMouseMove)===null||Sn===void 0||Sn.call(Ge,tn)})),Jc&&(Ma("onMouseLeave",!1,y),Ma("onPointerLeave",!1,y),$o=function(){zn(!1,y)}),jn.has("focus")&&Ma("onFocus",!0,C),In.has("focus")&&Ma("onBlur",!1,T),jn.has("contextMenu")&&(St.onContextMenu=function(tn){var Sn;Lt.current&&In.has("contextMenu")?zn(!1):(cr(tn),zn(!0)),tn.preventDefault();for(var Mi=arguments.length,Ci=new Array(Mi>1?Mi-1:0),Hi=1;Hi<Mi;Hi++)Ci[Hi-1]=arguments[Hi];(Sn=Ge.onContextMenu)===null||Sn===void 0||Sn.call.apply(Sn,[Ge,tn].concat(Ci))}),Be&&(St.className=Je(Ge.className,Be));var Ua=Ne(Ne({},Ge),St),va={},Ta=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];Ta.forEach(function(tn){re[tn]&&(va[tn]=function(){for(var Sn,Mi=arguments.length,Ci=new Array(Mi),Hi=0;Hi<Mi;Hi++)Ci[Hi]=arguments[Hi];(Sn=Ua[tn])===null||Sn===void 0||Sn.call.apply(Sn,[Ua].concat(Ci)),re[tn].apply(re,Ci)})});var Ds=w.cloneElement(Se,Ne(Ne({},Ua),va)),So={x:Vt,y:Kt},jl=pe?Ne({},pe!==!0?pe:{}):null;return w.createElement(w.Fragment,null,w.createElement(Hm,{disabled:!sn,ref:rt,onResize:Wi},w.createElement(LK,{getTriggerDOMNode:Ce},Ds)),w.createElement(XP.Provider,{value:oe},w.createElement(PK,{portal:n,ref:pt,prefixCls:o,popup:$,className:Je(J,$n),style:W,target:_t,onMouseEnter:xr,onMouseLeave:$o,onPointerEnter:xr,zIndex:ee,open:sn,keepDom:wn,fresh:ie,onClick:fe,onPointerDownCapture:Bs,mask:M,motion:xt,maskMotion:et,onVisibleChanged:bo,onPrepare:no,forceRender:F,autoDestroy:Fe,getPopupContainer:D,align:dn,arrow:jl,arrowPos:So,ready:Ue,offsetX:at,offsetY:Ze,offsetR:Ve,offsetB:Rt,onAlign:Si,stretch:de,targetWidth:Zn/Wt,targetHeight:$i/gn})))});return e}const v4=$K(Ew);function f2(n,e,t){return Je({[`${n}-status-success`]:e==="success",[`${n}-status-warning`]:e==="warning",[`${n}-status-error`]:e==="error",[`${n}-status-validating`]:e==="validating",[`${n}-has-feedback`]:t})}const jO=(n,e)=>e||n,y4=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;var r,a;const{variant:o,[n]:l}=w.useContext(Hn),s=w.useContext(xq),u=l==null?void 0:l.variant;let f;typeof e<"u"?f=e:t===!1?f="borderless":f=(a=(r=s??u)!==null&&r!==void 0?r:o)!==null&&a!==void 0?a:"outlined";const m=Wj.includes(f);return[f,m]},p0=["xxl","xl","lg","md","sm","xs"],VK=n=>({xs:`(max-width: ${n.screenXSMax}px)`,sm:`(min-width: ${n.screenSM}px)`,md:`(min-width: ${n.screenMD}px)`,lg:`(min-width: ${n.screenLG}px)`,xl:`(min-width: ${n.screenXL}px)`,xxl:`(min-width: ${n.screenXXL}px)`}),jK=n=>{const e=n,t=[].concat(p0).reverse();return t.forEach((r,a)=>{const o=r.toUpperCase(),l=`screen${o}Min`,s=`screen${o}`;if(!(e[l]<=e[s]))throw new Error(`${l}<=${s} fails : !(${e[l]}<=${e[s]})`);if(a<t.length-1){const u=`screen${o}Max`;if(!(e[s]<=e[u]))throw new Error(`${s}<=${u} fails : !(${e[s]}<=${e[u]})`);const m=`screen${t[a+1].toUpperCase()}Min`;if(!(e[u]<=e[m]))throw new Error(`${u}<=${m} fails : !(${e[u]}<=${e[m]})`)}}),n};function WK(){const[,n]=od(),e=VK(jK(n));return Xe.useMemo(()=>{const t=new Map;let r=-1,a={};return{matchHandlers:{},dispatch(o){return a=o,t.forEach(l=>l(a)),t.size>=1},subscribe(o){return t.size||this.register(),r+=1,t.set(r,o),o(a),r},unsubscribe(o){t.delete(o),t.size||this.unregister()},unregister(){Object.keys(e).forEach(o=>{const l=e[o],s=this.matchHandlers[l];s==null||s.mql.removeListener(s==null?void 0:s.listener)}),t.clear()},register(){Object.keys(e).forEach(o=>{const l=e[o],s=f=>{let{matches:m}=f;this.dispatch(Object.assign(Object.assign({},a),{[o]:m}))},u=window.matchMedia(l);u.addListener(s),this.matchHandlers[l]={mql:u,listener:s},s(u)})},responsiveMap:e}},[n])}function b4(){const[,n]=w.useReducer(e=>e+1,0);return n}function S4(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const t=w.useRef(e),r=b4(),a=WK();return wa(()=>{const o=a.subscribe(l=>{t.current=l,n&&r()});return()=>a.unsubscribe(o)},[]),t.current}const h2=w.createContext({}),XK=n=>{const{antCls:e,componentCls:t,iconCls:r,avatarBg:a,avatarColor:o,containerSize:l,containerSizeLG:s,containerSizeSM:u,textFontSize:f,textFontSizeLG:m,textFontSizeSM:b,borderRadius:_,borderRadiusLG:E,borderRadiusSM:c,lineWidth:p,lineType:g}=n,y=(C,T,M)=>({width:C,height:C,borderRadius:"50%",[`&${t}-square`]:{borderRadius:M},[`&${t}-icon`]:{fontSize:T,[`> ${r}`]:{margin:0}}});return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},Fo(n)),{position:"relative",display:"inline-flex",justifyContent:"center",alignItems:"center",overflow:"hidden",color:o,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:a,border:`${Mt(p)} ${g} transparent`,"&-image":{background:"transparent"},[`${e}-image-img`]:{display:"block"}}),y(l,f,_)),{"&-lg":Object.assign({},y(s,m,E)),"&-sm":Object.assign({},y(u,b,c)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},YK=n=>{const{componentCls:e,groupBorderColor:t,groupOverlapping:r,groupSpace:a}=n;return{[`${e}-group`]:{display:"inline-flex",[e]:{borderColor:t},"> *:not(:first-child)":{marginInlineStart:r}},[`${e}-group-popover`]:{[`${e} + ${e}`]:{marginInlineStart:a}}}},qK=n=>{const{controlHeight:e,controlHeightLG:t,controlHeightSM:r,fontSize:a,fontSizeLG:o,fontSizeXL:l,fontSizeHeading3:s,marginXS:u,marginXXS:f,colorBorderBg:m}=n;return{containerSize:e,containerSizeLG:t,containerSizeSM:r,textFontSize:Math.round((o+l)/2),textFontSizeLG:s,textFontSizeSM:a,groupSpace:f,groupOverlapping:-u,groupBorderColor:m}},_4=Nr("Avatar",n=>{const{colorTextLightSolid:e,colorTextPlaceholder:t}=n,r=qi(n,{avatarBg:t,avatarColor:e});return[XK(r),YK(r)]},qK);var KK=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const JK=(n,e)=>{const[t,r]=w.useState(1),[a,o]=w.useState(!1),[l,s]=w.useState(!0),u=w.useRef(null),f=w.useRef(null),m=_f(e,u),{getPrefixCls:b,avatar:_}=w.useContext(Hn),E=w.useContext(h2),c=()=>{if(!f.current||!u.current)return;const Ae=f.current.offsetWidth,Te=u.current.offsetWidth;if(Ae!==0&&Te!==0){const{gap:ze=4}=n;ze*2<Te&&r(Te-ze*2<Ae?(Te-ze*2)/Ae:1)}};w.useEffect(()=>{o(!0)},[]),w.useEffect(()=>{s(!0),r(1)},[n.src]),w.useEffect(c,[n.gap]);const p=()=>{const{onError:Ae}=n;(Ae==null?void 0:Ae())!==!1&&s(!1)},{prefixCls:g,shape:y,size:C,src:T,srcSet:M,icon:O,className:B,rootClassName:D,alt:F,draggable:z,children:U,crossOrigin:$}=n,J=KK(n,["prefixCls","shape","size","src","srcSet","icon","className","rootClassName","alt","draggable","children","crossOrigin"]),W=Cf(Ae=>{var Te,ze;return(ze=(Te=C??(E==null?void 0:E.size))!==null&&Te!==void 0?Te:Ae)!==null&&ze!==void 0?ze:"default"}),Q=Object.keys(typeof W=="object"?W||{}:{}).some(Ae=>["xs","sm","md","lg","xl","xxl"].includes(Ae)),ae=S4(Q),Y=w.useMemo(()=>{if(typeof W!="object")return{};const Ae=p0.find(ze=>ae[ze]),Te=W[Ae];return Te?{width:Te,height:Te,fontSize:Te&&(O||U)?Te/2:18}:{}},[ae,W]),K=b("avatar",g),ee=ll(K),[de,q,ie]=_4(K,ee),he=Je({[`${K}-lg`]:W==="large",[`${K}-sm`]:W==="small"}),fe=w.isValidElement(T),Z=y||(E==null?void 0:E.shape)||"circle",pe=Je(K,he,_==null?void 0:_.className,`${K}-${Z}`,{[`${K}-image`]:fe||T&&l,[`${K}-icon`]:!!O},ie,ee,B,D,q),xe=typeof W=="number"?{width:W,height:W,fontSize:O?W/2:18}:{};let Oe;if(typeof T=="string"&&l)Oe=w.createElement("img",{src:T,draggable:z,srcSet:M,onError:p,alt:F,crossOrigin:$});else if(fe)Oe=T;else if(O)Oe=O;else if(a||t!==1){const Ae=`scale(${t})`,Te={msTransform:Ae,WebkitTransform:Ae,transform:Ae};Oe=w.createElement(Hm,{onResize:c},w.createElement("span",{className:`${K}-string`,ref:f,style:Object.assign({},Te)},U))}else Oe=w.createElement("span",{className:`${K}-string`,style:{opacity:0},ref:f},U);return delete J.onError,delete J.gap,de(w.createElement("span",Object.assign({},J,{style:Object.assign(Object.assign(Object.assign(Object.assign({},xe),Y),_==null?void 0:_.style),J.style),className:pe,ref:m}),Oe))},x4=w.forwardRef(JK),k1=n=>n?typeof n=="function"?n():n:null;function WO(n){var e=n.children,t=n.prefixCls,r=n.id,a=n.overlayInnerStyle,o=n.bodyClassName,l=n.className,s=n.style;return w.createElement("div",{className:Je("".concat(t,"-content"),l),style:s},w.createElement("div",{className:Je("".concat(t,"-inner"),o),id:r,role:"tooltip",style:a},typeof e=="function"?e():e))}var $g={shiftX:64,adjustY:1},Vg={adjustX:1,shiftY:!0},Dl=[0,0],QK={left:{points:["cr","cl"],overflow:Vg,offset:[-4,0],targetOffset:Dl},right:{points:["cl","cr"],overflow:Vg,offset:[4,0],targetOffset:Dl},top:{points:["bc","tc"],overflow:$g,offset:[0,-4],targetOffset:Dl},bottom:{points:["tc","bc"],overflow:$g,offset:[0,4],targetOffset:Dl},topLeft:{points:["bl","tl"],overflow:$g,offset:[0,-4],targetOffset:Dl},leftTop:{points:["tr","tl"],overflow:Vg,offset:[-4,0],targetOffset:Dl},topRight:{points:["br","tr"],overflow:$g,offset:[0,-4],targetOffset:Dl},rightTop:{points:["tl","tr"],overflow:Vg,offset:[4,0],targetOffset:Dl},bottomRight:{points:["tr","br"],overflow:$g,offset:[0,4],targetOffset:Dl},rightBottom:{points:["bl","br"],overflow:Vg,offset:[4,0],targetOffset:Dl},bottomLeft:{points:["tl","bl"],overflow:$g,offset:[0,4],targetOffset:Dl},leftBottom:{points:["br","bl"],overflow:Vg,offset:[-4,0],targetOffset:Dl}},ZK=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow","classNames","styles"],eJ=function(e,t){var r=e.overlayClassName,a=e.trigger,o=a===void 0?["hover"]:a,l=e.mouseEnterDelay,s=l===void 0?0:l,u=e.mouseLeaveDelay,f=u===void 0?.1:u,m=e.overlayStyle,b=e.prefixCls,_=b===void 0?"rc-tooltip":b,E=e.children,c=e.onVisibleChange,p=e.afterVisibleChange,g=e.transitionName,y=e.animation,C=e.motion,T=e.placement,M=T===void 0?"right":T,O=e.align,B=O===void 0?{}:O,D=e.destroyTooltipOnHide,F=D===void 0?!1:D,z=e.defaultVisible,U=e.getTooltipContainer,$=e.overlayInnerStyle;e.arrowContent;var J=e.overlay,W=e.id,Q=e.showArrow,ae=Q===void 0?!0:Q,Y=e.classNames,K=e.styles,ee=kn(e,ZK),de=ww(W),q=w.useRef(null);w.useImperativeHandle(t,function(){return q.current});var ie=Ne({},ee);"visible"in e&&(ie.popupVisible=e.visible);var he=function(){return w.createElement(WO,{key:"content",prefixCls:_,id:de,bodyClassName:Y==null?void 0:Y.body,overlayInnerStyle:Ne(Ne({},$),K==null?void 0:K.body)},J)},fe=function(){var pe=w.Children.only(E),xe=(pe==null?void 0:pe.props)||{},Oe=Ne(Ne({},xe),{},{"aria-describedby":J?de:null});return w.cloneElement(E,Oe)};return w.createElement(v4,Pt({popupClassName:Je(r,Y==null?void 0:Y.root),prefixCls:_,popup:he,action:o,builtinPlacements:QK,popupPlacement:M,ref:q,popupAlign:B,getPopupContainer:U,onPopupVisibleChange:c,afterPopupVisibleChange:p,popupTransitionName:g,popupAnimation:y,popupMotion:C,defaultPopupVisible:z,autoDestroy:F,mouseLeaveDelay:f,popupStyle:Ne(Ne({},m),K==null?void 0:K.root),mouseEnterDelay:s,arrow:ae},ie),fe())};const tJ=w.forwardRef(eJ);function C4(n){const{sizePopupArrow:e,borderRadiusXS:t,borderRadiusOuter:r}=n,a=e/2,o=0,l=a,s=r*1/Math.sqrt(2),u=a-r*(1-1/Math.sqrt(2)),f=a-t*(1/Math.sqrt(2)),m=r*(Math.sqrt(2)-1)+t*(1/Math.sqrt(2)),b=2*a-f,_=m,E=2*a-s,c=u,p=2*a-o,g=l,y=a*Math.sqrt(2)+r*(Math.sqrt(2)-2),C=r*(Math.sqrt(2)-1),T=`polygon(${C}px 100%, 50% ${C}px, ${2*a-C}px 100%, ${C}px 100%)`,M=`path('M ${o} ${l} A ${r} ${r} 0 0 0 ${s} ${u} L ${f} ${m} A ${t} ${t} 0 0 1 ${b} ${_} L ${E} ${c} A ${r} ${r} 0 0 0 ${p} ${g} Z')`;return{arrowShadowWidth:y,arrowPath:M,arrowPolygon:T}}const nJ=(n,e,t)=>{const{sizePopupArrow:r,arrowPolygon:a,arrowPath:o,arrowShadowWidth:l,borderRadiusXS:s,calc:u}=n;return{pointerEvents:"none",width:r,height:r,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:r,height:u(r).div(2).equal(),background:e,clipPath:{_multi_value_:!0,value:[a,o]},content:'""'},"&::after":{content:'""',position:"absolute",width:l,height:l,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${Mt(s)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:t,zIndex:0,background:"transparent"}}},E4=8;function XO(n){const{contentRadius:e,limitVerticalRadius:t}=n,r=e>12?e+2:12;return{arrowOffsetHorizontal:r,arrowOffsetVertical:t?E4:r}}function _x(n,e){return n?e:{}}function w4(n,e,t){const{componentCls:r,boxShadowPopoverArrow:a,arrowOffsetVertical:o,arrowOffsetHorizontal:l}=n,{arrowDistance:s=0,arrowPlacement:u={left:!0,right:!0,top:!0,bottom:!0}}={};return{[r]:Object.assign(Object.assign(Object.assign(Object.assign({[`${r}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},nJ(n,e,a)),{"&:before":{background:e}})]},_x(!!u.top,{[[`&-placement-top > ${r}-arrow`,`&-placement-topLeft > ${r}-arrow`,`&-placement-topRight > ${r}-arrow`].join(",")]:{bottom:s,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},"&-placement-topLeft":{"--arrow-offset-horizontal":l,[`> ${r}-arrow`]:{left:{_skip_check_:!0,value:l}}},"&-placement-topRight":{"--arrow-offset-horizontal":`calc(100% - ${Mt(l)})`,[`> ${r}-arrow`]:{right:{_skip_check_:!0,value:l}}}})),_x(!!u.bottom,{[[`&-placement-bottom > ${r}-arrow`,`&-placement-bottomLeft > ${r}-arrow`,`&-placement-bottomRight > ${r}-arrow`].join(",")]:{top:s,transform:"translateY(-100%)"},[`&-placement-bottom > ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},"&-placement-bottomLeft":{"--arrow-offset-horizontal":l,[`> ${r}-arrow`]:{left:{_skip_check_:!0,value:l}}},"&-placement-bottomRight":{"--arrow-offset-horizontal":`calc(100% - ${Mt(l)})`,[`> ${r}-arrow`]:{right:{_skip_check_:!0,value:l}}}})),_x(!!u.left,{[[`&-placement-left > ${r}-arrow`,`&-placement-leftTop > ${r}-arrow`,`&-placement-leftBottom > ${r}-arrow`].join(",")]:{right:{_skip_check_:!0,value:s},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left > ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop > ${r}-arrow`]:{top:o},[`&-placement-leftBottom > ${r}-arrow`]:{bottom:o}})),_x(!!u.right,{[[`&-placement-right > ${r}-arrow`,`&-placement-rightTop > ${r}-arrow`,`&-placement-rightBottom > ${r}-arrow`].join(",")]:{left:{_skip_check_:!0,value:s},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right > ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop > ${r}-arrow`]:{top:o},[`&-placement-rightBottom > ${r}-arrow`]:{bottom:o}}))}}function iJ(n,e,t,r){if(r===!1)return{adjustX:!1,adjustY:!1};const a=r&&typeof r=="object"?r:{},o={};switch(n){case"top":case"bottom":o.shiftX=e.arrowOffsetHorizontal*2+t,o.shiftY=!0,o.adjustY=!0;break;case"left":case"right":o.shiftY=e.arrowOffsetVertical*2+t,o.shiftX=!0,o.adjustX=!0;break}const l=Object.assign(Object.assign({},o),a);return l.shiftX||(l.adjustX=!0),l.shiftY||(l.adjustY=!0),l}const eL={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},rJ={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},aJ=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function oJ(n){const{arrowWidth:e,autoAdjustOverflow:t,arrowPointAtCenter:r,offset:a,borderRadius:o}=n,l=e/2,s={};return Object.keys(eL).forEach(u=>{const f=r&&rJ[u]||eL[u],m=Object.assign(Object.assign({},f),{offset:[0,0],dynamicInset:!0});switch(s[u]=m,aJ.has(u)&&(m.autoArrow=!1),u){case"top":case"topLeft":case"topRight":m.offset[1]=-l-a;break;case"bottom":case"bottomLeft":case"bottomRight":m.offset[1]=l+a;break;case"left":case"leftTop":case"leftBottom":m.offset[0]=-l-a;break;case"right":case"rightTop":case"rightBottom":m.offset[0]=l+a;break}const b=XO({contentRadius:o,limitVerticalRadius:!0});if(r)switch(u){case"topLeft":case"bottomLeft":m.offset[0]=-b.arrowOffsetHorizontal-l;break;case"topRight":case"bottomRight":m.offset[0]=b.arrowOffsetHorizontal+l;break;case"leftTop":case"rightTop":m.offset[1]=-b.arrowOffsetHorizontal*2+l;break;case"leftBottom":case"rightBottom":m.offset[1]=b.arrowOffsetHorizontal*2-l;break}m.overflow=iJ(u,b,e,t),m.htmlRegion="visibleFirst"}),s}const sJ=n=>{const{calc:e,componentCls:t,tooltipMaxWidth:r,tooltipColor:a,tooltipBg:o,tooltipBorderRadius:l,zIndexPopup:s,controlHeight:u,boxShadowSecondary:f,paddingSM:m,paddingXS:b,arrowOffsetHorizontal:_,sizePopupArrow:E}=n,c=e(l).add(E).add(_).equal(),p=e(l).mul(2).add(E).equal();return[{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},Fo(n)),{position:"absolute",zIndex:s,display:"block",width:"max-content",maxWidth:r,visibility:"visible","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"&-hidden":{display:"none"},"--antd-arrow-background-color":o,[`${t}-inner`]:{minWidth:p,minHeight:u,padding:`${Mt(n.calc(m).div(2).equal())} ${Mt(b)}`,color:a,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:o,borderRadius:l,boxShadow:f,boxSizing:"border-box"},[["&-placement-topLeft","&-placement-topRight","&-placement-bottomLeft","&-placement-bottomRight"].join(",")]:{minWidth:c},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${t}-inner`]:{borderRadius:n.min(l,E4)}},[`${t}-content`]:{position:"relative"}}),iF(n,(g,y)=>{let{darkColor:C}=y;return{[`&${t}-${g}`]:{[`${t}-inner`]:{backgroundColor:C},[`${t}-arrow`]:{"--antd-arrow-background-color":C}}}})),{"&-rtl":{direction:"rtl"}})},w4(n,"var(--antd-arrow-background-color)"),{[`${t}-pure`]:{position:"relative",maxWidth:"none",margin:n.sizePopupArrow}}]},lJ=n=>Object.assign(Object.assign({zIndexPopup:n.zIndexPopupBase+70},XO({contentRadius:n.borderRadius,limitVerticalRadius:!0})),C4(qi(n,{borderRadiusOuter:Math.min(n.borderRadiusOuter,4)}))),A4=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Nr("Tooltip",r=>{const{borderRadius:a,colorTextLightSolid:o,colorBgSpotlight:l}=r,s=qi(r,{tooltipMaxWidth:250,tooltipColor:o,tooltipBorderRadius:a,tooltipBg:l});return[sJ(s),MS(r,"zoom-big-fast")]},lJ,{resetStyle:!1,injectStyle:e})(n)},cJ=Hh.map(n=>`${n}-inverse`),uJ=["success","processing","error","default","warning"];function M4(n){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?[].concat(Jt(cJ),Jt(Hh)).includes(n):Hh.includes(n)}function dJ(n){return uJ.includes(n)}function T4(n,e){const t=M4(e),r=Je({[`${n}-${e}`]:e&&t}),a={},o={};return e&&!t&&(a.background=e,o["--antd-arrow-background-color"]=e),{className:r,overlayStyle:a,arrowStyle:o}}const fJ=n=>{const{prefixCls:e,className:t,placement:r="top",title:a,color:o,overlayInnerStyle:l}=n,{getPrefixCls:s}=w.useContext(Hn),u=s("tooltip",e),[f,m,b]=A4(u),_=T4(u,o),E=_.arrowStyle,c=Object.assign(Object.assign({},l),_.overlayStyle),p=Je(m,b,u,`${u}-pure`,`${u}-placement-${r}`,t,_.className);return f(w.createElement("div",{className:p,style:E},w.createElement("div",{className:`${u}-arrow`}),w.createElement(WO,Object.assign({},n,{className:m,prefixCls:u,overlayInnerStyle:c}),a)))};var hJ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const pJ=w.forwardRef((n,e)=>{var t,r;const{prefixCls:a,openClassName:o,getTooltipContainer:l,color:s,overlayInnerStyle:u,children:f,afterOpenChange:m,afterVisibleChange:b,destroyTooltipOnHide:_,arrow:E=!0,title:c,overlay:p,builtinPlacements:g,arrowPointAtCenter:y=!1,autoAdjustOverflow:C=!0,motion:T,getPopupContainer:M,placement:O="top",mouseEnterDelay:B=.1,mouseLeaveDelay:D=.1,overlayStyle:F,rootClassName:z,overlayClassName:U,styles:$,classNames:J}=n,W=hJ(n,["prefixCls","openClassName","getTooltipContainer","color","overlayInnerStyle","children","afterOpenChange","afterVisibleChange","destroyTooltipOnHide","arrow","title","overlay","builtinPlacements","arrowPointAtCenter","autoAdjustOverflow","motion","getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName","overlayClassName","styles","classNames"]),Q=!!E,[,ae]=od(),{getPopupContainer:Y,getPrefixCls:K,direction:ee,className:de,style:q,classNames:ie,styles:he}=ad("tooltip"),fe=OO(),Z=w.useRef(null),pe=()=>{var It;(It=Z.current)===null||It===void 0||It.forceAlign()};w.useImperativeHandle(e,()=>{var It,ot;return{forceAlign:pe,forcePopupAlign:()=>{fe.deprecated(!1,"forcePopupAlign","forceAlign"),pe()},nativeElement:(It=Z.current)===null||It===void 0?void 0:It.nativeElement,popupElement:(ot=Z.current)===null||ot===void 0?void 0:ot.popupElement}});const[xe,Oe]=mo(!1,{value:(t=n.open)!==null&&t!==void 0?t:n.visible,defaultValue:(r=n.defaultOpen)!==null&&r!==void 0?r:n.defaultVisible}),Ae=!c&&!p&&c!==0,Te=It=>{var ot,_t;Oe(Ae?!1:It),Ae||((ot=n.onOpenChange)===null||ot===void 0||ot.call(n,It),(_t=n.onVisibleChange)===null||_t===void 0||_t.call(n,It))},ze=w.useMemo(()=>{var It,ot;let _t=y;return typeof E=="object"&&(_t=(ot=(It=E.pointAtCenter)!==null&&It!==void 0?It:E.arrowPointAtCenter)!==null&&ot!==void 0?ot:y),g||oJ({arrowPointAtCenter:_t,autoAdjustOverflow:C,arrowWidth:Q?ae.sizePopupArrow:0,borderRadius:ae.borderRadius,offset:ae.marginXXS})},[y,E,g,ae]),yt=w.useMemo(()=>c===0?c:p||c||"",[p,c]),Be=w.createElement(F1,{space:!0},typeof yt=="function"?yt():yt),Ce=K("tooltip",a),re=K(),Fe=n["data-popover-inject"];let Ie=xe;!("open"in n)&&!("visible"in n)&&Ae&&(Ie=!1);const qe=w.isValidElement(f)&&!bF(f)?f:w.createElement("span",null,f),$e=qe.props,ct=!$e.className||typeof $e.className=="string"?Je($e.className,o||`${Ce}-open`):$e.className,[st,ce,oe]=A4(Ce,!Fe),we=T4(Ce,s),De=we.arrowStyle,Ke=Je(U,{[`${Ce}-rtl`]:ee==="rtl"},we.className,z,ce,oe,de,ie.root,J==null?void 0:J.root),He=Je(ie.body,J==null?void 0:J.body),[gt,lt]=wS("Tooltip",W.zIndex),pt=w.createElement(tJ,Object.assign({},W,{zIndex:gt,showArrow:Q,placement:O,mouseEnterDelay:B,mouseLeaveDelay:D,prefixCls:Ce,classNames:{root:Ke,body:He},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},De),he.root),q),F),$==null?void 0:$.root),body:Object.assign(Object.assign(Object.assign(Object.assign({},he.body),u),$==null?void 0:$.body),we.overlayStyle)},getTooltipContainer:M||l||Y,ref:Z,builtinPlacements:ze,overlay:Be,visible:Ie,onVisibleChange:Te,afterVisibleChange:m??b,arrowContent:w.createElement("span",{className:`${Ce}-arrow-content`}),motion:{motionName:ed(re,"zoom-big-fast",n.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!_}),Ie?al(qe,{className:ct}):qe);return st(w.createElement(LO.Provider,{value:lt},pt))}),Hl=pJ;Hl._InternalPanelDoNotUseOrYouWillBeFired=fJ;const mJ=n=>{const{componentCls:e,popoverColor:t,titleMinWidth:r,fontWeightStrong:a,innerPadding:o,boxShadowSecondary:l,colorTextHeading:s,borderRadiusLG:u,zIndexPopup:f,titleMarginBottom:m,colorBgElevated:b,popoverBg:_,titleBorderBottom:E,innerContentPadding:c,titlePadding:p}=n;return[{[e]:Object.assign(Object.assign({},Fo(n)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:f,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"--antd-arrow-background-color":b,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${e}-content`]:{position:"relative"},[`${e}-inner`]:{backgroundColor:_,backgroundClip:"padding-box",borderRadius:u,boxShadow:l,padding:o},[`${e}-title`]:{minWidth:r,marginBottom:m,color:s,fontWeight:a,borderBottom:E,padding:p},[`${e}-inner-content`]:{color:t,padding:c}})},w4(n,"var(--antd-arrow-background-color)"),{[`${e}-pure`]:{position:"relative",maxWidth:"none",margin:n.sizePopupArrow,display:"inline-block",[`${e}-content`]:{display:"inline-block"}}}]},gJ=n=>{const{componentCls:e}=n;return{[e]:Hh.map(t=>{const r=n[`${t}6`];return{[`&${e}-${t}`]:{"--antd-arrow-background-color":r,[`${e}-inner`]:{backgroundColor:r},[`${e}-arrow`]:{background:"transparent"}}}})}},vJ=n=>{const{lineWidth:e,controlHeight:t,fontHeight:r,padding:a,wireframe:o,zIndexPopupBase:l,borderRadiusLG:s,marginXS:u,lineType:f,colorSplit:m,paddingSM:b}=n,_=t-r,E=_/2,c=_/2-e,p=a;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:l+30},C4(n)),XO({contentRadius:s,limitVerticalRadius:!0})),{innerPadding:o?0:12,titleMarginBottom:o?0:u,titlePadding:o?`${E}px ${p}px ${c}px`:0,titleBorderBottom:o?`${e}px ${f} ${m}`:"none",innerContentPadding:o?`${b}px ${p}px`:0})},R4=Nr("Popover",n=>{const{colorBgElevated:e,colorText:t}=n,r=qi(n,{popoverBg:e,popoverColor:t});return[mJ(r),gJ(r),MS(r,"zoom-big")]},vJ,{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]});var yJ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const O4=n=>{let{title:e,content:t,prefixCls:r}=n;return!e&&!t?null:w.createElement(w.Fragment,null,e&&w.createElement("div",{className:`${r}-title`},e),t&&w.createElement("div",{className:`${r}-inner-content`},t))},bJ=n=>{const{hashId:e,prefixCls:t,className:r,style:a,placement:o="top",title:l,content:s,children:u}=n,f=k1(l),m=k1(s),b=Je(e,t,`${t}-pure`,`${t}-placement-${o}`,r);return w.createElement("div",{className:b,style:a},w.createElement("div",{className:`${t}-arrow`}),w.createElement(WO,Object.assign({},n,{className:e,prefixCls:t}),u||w.createElement(O4,{prefixCls:t,title:f,content:m})))},SJ=n=>{const{prefixCls:e,className:t}=n,r=yJ(n,["prefixCls","className"]),{getPrefixCls:a}=w.useContext(Hn),o=a("popover",e),[l,s,u]=R4(o);return l(w.createElement(bJ,Object.assign({},r,{prefixCls:o,hashId:s,className:Je(t,u)})))};var _J=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const xJ=w.forwardRef((n,e)=>{var t,r;const{prefixCls:a,title:o,content:l,overlayClassName:s,placement:u="top",trigger:f="hover",children:m,mouseEnterDelay:b=.1,mouseLeaveDelay:_=.1,onOpenChange:E,overlayStyle:c={},styles:p,classNames:g}=n,y=_J(n,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle","styles","classNames"]),{getPrefixCls:C,className:T,style:M,classNames:O,styles:B}=ad("popover"),D=C("popover",a),[F,z,U]=R4(D),$=C(),J=Je(s,z,U,T,O.root,g==null?void 0:g.root),W=Je(O.body,g==null?void 0:g.body),[Q,ae]=mo(!1,{value:(t=n.open)!==null&&t!==void 0?t:n.visible,defaultValue:(r=n.defaultOpen)!==null&&r!==void 0?r:n.defaultVisible}),Y=(ie,he)=>{ae(ie,!0),E==null||E(ie,he)},K=ie=>{ie.keyCode===to.ESC&&Y(!1,ie)},ee=ie=>{Y(ie)},de=k1(o),q=k1(l);return F(w.createElement(Hl,Object.assign({placement:u,trigger:f,mouseEnterDelay:b,mouseLeaveDelay:_},y,{prefixCls:D,classNames:{root:J,body:W},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign({},B.root),M),c),p==null?void 0:p.root),body:Object.assign(Object.assign({},B.body),p==null?void 0:p.body)},ref:e,open:Q,onOpenChange:ee,overlay:de||q?w.createElement(O4,{prefixCls:D,title:de,content:q}):null,transitionName:ed($,"zoom-big",y.transitionName),"data-popover-inject":!0}),al(m,{onKeyDown:ie=>{var he,fe;w.isValidElement(m)&&((fe=m==null?void 0:(he=m.props).onKeyDown)===null||fe===void 0||fe.call(he,ie)),K(ie)}})))}),I4=xJ;I4._InternalPanelDoNotUseOrYouWillBeFired=SJ;const tL=n=>{const{size:e,shape:t}=w.useContext(h2),r=w.useMemo(()=>({size:n.size||e,shape:n.shape||t}),[n.size,n.shape,e,t]);return w.createElement(h2.Provider,{value:r},n.children)},CJ=n=>{var e,t,r,a;const{getPrefixCls:o,direction:l}=w.useContext(Hn),{prefixCls:s,className:u,rootClassName:f,style:m,maxCount:b,maxStyle:_,size:E,shape:c,maxPopoverPlacement:p,maxPopoverTrigger:g,children:y,max:C}=n,T=o("avatar",s),M=`${T}-group`,O=ll(T),[B,D,F]=_4(T,O),z=Je(M,{[`${M}-rtl`]:l==="rtl"},F,O,u,f,D),U=Qu(y).map((W,Q)=>al(W,{key:`avatar-key-${Q}`})),$=(C==null?void 0:C.count)||b,J=U.length;if($&&$<J){const W=U.slice(0,$),Q=U.slice($,J),ae=(C==null?void 0:C.style)||_,Y=((e=C==null?void 0:C.popover)===null||e===void 0?void 0:e.trigger)||g||"hover",K=((t=C==null?void 0:C.popover)===null||t===void 0?void 0:t.placement)||p||"top",ee=Object.assign(Object.assign({content:Q},C==null?void 0:C.popover),{classNames:{root:Je(`${M}-popover`,(a=(r=C==null?void 0:C.popover)===null||r===void 0?void 0:r.classNames)===null||a===void 0?void 0:a.root)},placement:K,trigger:Y});return W.push(w.createElement(I4,Object.assign({key:"avatar-popover-key",destroyTooltipOnHide:!0},ee),w.createElement(x4,{style:ae},`+${J-$}`))),B(w.createElement(tL,{shape:c,size:E},w.createElement("div",{className:z,style:m},W)))}return B(w.createElement(tL,{shape:c,size:E},w.createElement("div",{className:z,style:m},U)))},B4=x4;B4.Group=CJ;var D4=w.createContext(null);function P4(n,e){return n===void 0?null:"".concat(n,"-").concat(e)}function L4(n){var e=w.useContext(D4);return P4(e,n)}var EJ=["children","locked"],kc=w.createContext(null);function wJ(n,e){var t=Ne({},n);return Object.keys(e).forEach(function(r){var a=e[r];a!==void 0&&(t[r]=a)}),t}function iS(n){var e=n.children,t=n.locked,r=kn(n,EJ),a=w.useContext(kc),o=aw(function(){return wJ(a,r)},[a,r],function(l,s){return!t&&(l[0]!==s[0]||!o0(l[1],s[1],!0))});return w.createElement(kc.Provider,{value:o},e)}var AJ=[],N4=w.createContext(null);function Tw(){return w.useContext(N4)}var z4=w.createContext(AJ);function D0(n){var e=w.useContext(z4);return w.useMemo(function(){return n!==void 0?[].concat(Jt(e),[n]):e},[e,n])}var U4=w.createContext(null),YO=w.createContext({});function nL(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(UO(n)){var t=n.nodeName.toLowerCase(),r=["input","select","textarea","button"].includes(t)||n.isContentEditable||t==="a"&&!!n.getAttribute("href"),a=n.getAttribute("tabindex"),o=Number(a),l=null;return a&&!Number.isNaN(o)?l=o:r&&l===null&&(l=0),r&&n.disabled&&(l=null),l!==null&&(l>=0||e&&l<0)}return!1}function MJ(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=Jt(n.querySelectorAll("*")).filter(function(r){return nL(r,e)});return nL(n,e)&&t.unshift(n),t}var p2=to.LEFT,m2=to.RIGHT,g2=to.UP,HC=to.DOWN,GC=to.ENTER,F4=to.ESC,$y=to.HOME,Vy=to.END,iL=[g2,HC,p2,m2];function TJ(n,e,t,r){var a,o="prev",l="next",s="children",u="parent";if(n==="inline"&&r===GC)return{inlineTrigger:!0};var f=ue(ue({},g2,o),HC,l),m=ue(ue(ue(ue({},p2,t?l:o),m2,t?o:l),HC,s),GC,s),b=ue(ue(ue(ue(ue(ue({},g2,o),HC,l),GC,s),F4,u),p2,t?s:u),m2,t?u:s),_={inline:f,horizontal:m,vertical:b,inlineSub:f,horizontalSub:b,verticalSub:b},E=(a=_["".concat(n).concat(e?"":"Sub")])===null||a===void 0?void 0:a[r];switch(E){case o:return{offset:-1,sibling:!0};case l:return{offset:1,sibling:!0};case u:return{offset:-1,sibling:!1};case s:return{offset:1,sibling:!1};default:return null}}function RJ(n){for(var e=n;e;){if(e.getAttribute("data-menu-list"))return e;e=e.parentElement}return null}function OJ(n,e){for(var t=n||document.activeElement;t;){if(e.has(t))return t;t=t.parentElement}return null}function qO(n,e){var t=MJ(n,!0);return t.filter(function(r){return e.has(r)})}function rL(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;if(!n)return null;var a=qO(n,e),o=a.length,l=a.findIndex(function(s){return t===s});return r<0?l===-1?l=o-1:l-=1:r>0&&(l+=1),l=(l+o)%o,a[l]}var v2=function(e,t){var r=new Set,a=new Map,o=new Map;return e.forEach(function(l){var s=document.querySelector("[data-menu-id='".concat(P4(t,l),"']"));s&&(r.add(s),o.set(s,l),a.set(l,s))}),{elements:r,key2element:a,element2key:o}};function IJ(n,e,t,r,a,o,l,s,u,f){var m=w.useRef(),b=w.useRef();b.current=e;var _=function(){Da.cancel(m.current)};return w.useEffect(function(){return function(){_()}},[]),function(E){var c=E.which;if([].concat(iL,[GC,F4,$y,Vy]).includes(c)){var p=o(),g=v2(p,r),y=g,C=y.elements,T=y.key2element,M=y.element2key,O=T.get(e),B=OJ(O,C),D=M.get(B),F=TJ(n,l(D,!0).length===1,t,c);if(!F&&c!==$y&&c!==Vy)return;(iL.includes(c)||[$y,Vy].includes(c))&&E.preventDefault();var z=function(K){if(K){var ee=K,de=K.querySelector("a");de!=null&&de.getAttribute("href")&&(ee=de);var q=M.get(K);s(q),_(),m.current=Da(function(){b.current===q&&ee.focus()})}};if([$y,Vy].includes(c)||F.sibling||!B){var U;!B||n==="inline"?U=a.current:U=RJ(B);var $,J=qO(U,C);c===$y?$=J[0]:c===Vy?$=J[J.length-1]:$=rL(U,C,B,F.offset),z($)}else if(F.inlineTrigger)u(D);else if(F.offset>0)u(D,!0),_(),m.current=Da(function(){g=v2(p,r);var Y=B.getAttribute("aria-controls"),K=document.getElementById(Y),ee=rL(K,g.elements);z(ee)},5);else if(F.offset<0){var W=l(D,!0),Q=W[W.length-2],ae=T.get(Q);u(Q,!1),z(ae)}}f==null||f(E)}}function BJ(n){Promise.resolve().then(n)}var KO="__RC_UTIL_PATH_SPLIT__",aL=function(e){return e.join(KO)},DJ=function(e){return e.split(KO)},y2="rc-menu-more";function PJ(){var n=w.useState({}),e=vt(n,2),t=e[1],r=w.useRef(new Map),a=w.useRef(new Map),o=w.useState([]),l=vt(o,2),s=l[0],u=l[1],f=w.useRef(0),m=w.useRef(!1),b=function(){m.current||t({})},_=w.useCallback(function(T,M){var O=aL(M);a.current.set(O,T),r.current.set(T,O),f.current+=1;var B=f.current;BJ(function(){B===f.current&&b()})},[]),E=w.useCallback(function(T,M){var O=aL(M);a.current.delete(O),r.current.delete(T)},[]),c=w.useCallback(function(T){u(T)},[]),p=w.useCallback(function(T,M){var O=r.current.get(T)||"",B=DJ(O);return M&&s.includes(B[0])&&B.unshift(y2),B},[s]),g=w.useCallback(function(T,M){return T.filter(function(O){return O!==void 0}).some(function(O){var B=p(O,!0);return B.includes(M)})},[p]),y=function(){var M=Jt(r.current.keys());return s.length&&M.push(y2),M},C=w.useCallback(function(T){var M="".concat(r.current.get(T)).concat(KO),O=new Set;return Jt(a.current.keys()).forEach(function(B){B.startsWith(M)&&O.add(a.current.get(B))}),O},[]);return w.useEffect(function(){return function(){m.current=!0}},[]),{registerPath:_,unregisterPath:E,refreshOverflowKeys:c,isSubPathKey:g,getKeyPath:p,getKeys:y,getSubPathKeys:C}}function ub(n){var e=w.useRef(n);e.current=n;var t=w.useCallback(function(){for(var r,a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(r=e.current)===null||r===void 0?void 0:r.call.apply(r,[e].concat(o))},[]);return n?t:void 0}var LJ=Math.random().toFixed(5).toString().slice(2),oL=0;function NJ(n){var e=mo(n,{value:n}),t=vt(e,2),r=t[0],a=t[1];return w.useEffect(function(){oL+=1;var o="".concat(LJ,"-").concat(oL);a("rc-menu-uuid-".concat(o))},[]),r}function H4(n,e,t,r){var a=w.useContext(kc),o=a.activeKey,l=a.onActive,s=a.onInactive,u={active:o===n};return e||(u.onMouseEnter=function(f){t==null||t({key:n,domEvent:f}),l(n)},u.onMouseLeave=function(f){r==null||r({key:n,domEvent:f}),s(n)}),u}function G4(n){var e=w.useContext(kc),t=e.mode,r=e.rtl,a=e.inlineIndent;if(t!=="inline")return null;var o=n;return r?{paddingRight:o*a}:{paddingLeft:o*a}}function k4(n){var e=n.icon,t=n.props,r=n.children,a;return e===null||e===!1?null:(typeof e=="function"?a=w.createElement(e,Ne({},t)):typeof e!="boolean"&&(a=e),a||r||null)}var zJ=["item"];function $1(n){var e=n.item,t=kn(n,zJ);return Object.defineProperty(t,"item",{get:function(){return Uo(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),e}}),t}var UJ=["title","attribute","elementRef"],FJ=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],HJ=["active"],GJ=function(n){Ar(t,n);var e=Wc(t);function t(){return ai(this,t),e.apply(this,arguments)}return oi(t,[{key:"render",value:function(){var a=this.props,o=a.title,l=a.attribute,s=a.elementRef,u=kn(a,UJ),f=yo(u,["eventKey","popupClassName","popupOffset","onTitleClick"]);return Uo(!l,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),w.createElement(cf.Item,Pt({},l,{title:typeof o=="string"?o:void 0},f,{ref:s}))}}]),t}(w.Component),kJ=w.forwardRef(function(n,e){var t=n.style,r=n.className,a=n.eventKey;n.warnKey;var o=n.disabled,l=n.itemIcon,s=n.children,u=n.role,f=n.onMouseEnter,m=n.onMouseLeave,b=n.onClick,_=n.onKeyDown,E=n.onFocus,c=kn(n,FJ),p=L4(a),g=w.useContext(kc),y=g.prefixCls,C=g.onItemClick,T=g.disabled,M=g.overflowDisabled,O=g.itemIcon,B=g.selectedKeys,D=g.onActive,F=w.useContext(YO),z=F._internalRenderMenuItem,U="".concat(y,"-item"),$=w.useRef(),J=w.useRef(),W=T||o,Q=O0(e,J),ae=D0(a),Y=function(Te){return{key:a,keyPath:Jt(ae).reverse(),item:$.current,domEvent:Te}},K=l||O,ee=H4(a,W,f,m),de=ee.active,q=kn(ee,HJ),ie=B.includes(a),he=G4(ae.length),fe=function(Te){if(!W){var ze=Y(Te);b==null||b($1(ze)),C(ze)}},Z=function(Te){if(_==null||_(Te),Te.which===to.ENTER){var ze=Y(Te);b==null||b($1(ze)),C(ze)}},pe=function(Te){D(a),E==null||E(Te)},xe={};n.role==="option"&&(xe["aria-selected"]=ie);var Oe=w.createElement(GJ,Pt({ref:$,elementRef:Q,role:u===null?"none":u||"menuitem",tabIndex:o?null:-1,"data-menu-id":M&&p?null:p},yo(c,["extra"]),q,xe,{component:"li","aria-disabled":o,style:Ne(Ne({},he),t),className:Je(U,ue(ue(ue({},"".concat(U,"-active"),de),"".concat(U,"-selected"),ie),"".concat(U,"-disabled"),W),r),onClick:fe,onKeyDown:Z,onFocus:pe}),s,w.createElement(k4,{props:Ne(Ne({},n),{},{isSelected:ie}),icon:K}));return z&&(Oe=z(Oe,n,{selected:ie})),Oe});function $J(n,e){var t=n.eventKey,r=Tw(),a=D0(t);return w.useEffect(function(){if(r)return r.registerPath(t,a),function(){r.unregisterPath(t,a)}},[a]),r?null:w.createElement(kJ,Pt({},n,{ref:e}))}const Rw=w.forwardRef($J);var VJ=["className","children"],jJ=function(e,t){var r=e.className,a=e.children,o=kn(e,VJ),l=w.useContext(kc),s=l.prefixCls,u=l.mode,f=l.rtl;return w.createElement("ul",Pt({className:Je(s,f&&"".concat(s,"-rtl"),"".concat(s,"-sub"),"".concat(s,"-").concat(u==="inline"?"inline":"vertical"),r),role:"menu"},o,{"data-menu-list":!0,ref:t}),a)},JO=w.forwardRef(jJ);JO.displayName="SubMenuList";function QO(n,e){return Qu(n).map(function(t,r){if(w.isValidElement(t)){var a,o,l=t.key,s=(a=(o=t.props)===null||o===void 0?void 0:o.eventKey)!==null&&a!==void 0?a:l,u=s==null;u&&(s="tmp_key-".concat([].concat(Jt(e),[r]).join("-")));var f={key:s,eventKey:s};return w.cloneElement(t,f)}return t})}var Po={adjustX:1,adjustY:1},WJ={topLeft:{points:["bl","tl"],overflow:Po},topRight:{points:["br","tr"],overflow:Po},bottomLeft:{points:["tl","bl"],overflow:Po},bottomRight:{points:["tr","br"],overflow:Po},leftTop:{points:["tr","tl"],overflow:Po},leftBottom:{points:["br","bl"],overflow:Po},rightTop:{points:["tl","tr"],overflow:Po},rightBottom:{points:["bl","br"],overflow:Po}},XJ={topLeft:{points:["bl","tl"],overflow:Po},topRight:{points:["br","tr"],overflow:Po},bottomLeft:{points:["tl","bl"],overflow:Po},bottomRight:{points:["tr","br"],overflow:Po},rightTop:{points:["tr","tl"],overflow:Po},rightBottom:{points:["br","bl"],overflow:Po},leftTop:{points:["tl","tr"],overflow:Po},leftBottom:{points:["bl","br"],overflow:Po}};function $4(n,e,t){if(e)return e;if(t)return t[n]||t.other}var YJ={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function qJ(n){var e=n.prefixCls,t=n.visible,r=n.children,a=n.popup,o=n.popupStyle,l=n.popupClassName,s=n.popupOffset,u=n.disabled,f=n.mode,m=n.onVisibleChange,b=w.useContext(kc),_=b.getPopupContainer,E=b.rtl,c=b.subMenuOpenDelay,p=b.subMenuCloseDelay,g=b.builtinPlacements,y=b.triggerSubMenuAction,C=b.forceSubMenuRender,T=b.rootClassName,M=b.motion,O=b.defaultMotions,B=w.useState(!1),D=vt(B,2),F=D[0],z=D[1],U=Ne(E?Ne({},XJ):Ne({},WJ),g),$=YJ[f],J=$4(f,M,O),W=w.useRef(J);f!=="inline"&&(W.current=J);var Q=Ne(Ne({},W.current),{},{leavedClassName:"".concat(e,"-hidden"),removeOnLeave:!1,motionAppear:!0}),ae=w.useRef();return w.useEffect(function(){return ae.current=Da(function(){z(t)}),function(){Da.cancel(ae.current)}},[t]),w.createElement(v4,{prefixCls:e,popupClassName:Je("".concat(e,"-popup"),ue({},"".concat(e,"-rtl"),E),l,T),stretch:f==="horizontal"?"minWidth":null,getPopupContainer:_,builtinPlacements:U,popupPlacement:$,popupVisible:F,popup:a,popupStyle:o,popupAlign:s&&{offset:s},action:u?[]:[y],mouseEnterDelay:c,mouseLeaveDelay:p,onPopupVisibleChange:m,forceRender:C,popupMotion:Q,fresh:!0},r)}function KJ(n){var e=n.id,t=n.open,r=n.keyPath,a=n.children,o="inline",l=w.useContext(kc),s=l.prefixCls,u=l.forceSubMenuRender,f=l.motion,m=l.defaultMotions,b=l.mode,_=w.useRef(!1);_.current=b===o;var E=w.useState(!_.current),c=vt(E,2),p=c[0],g=c[1],y=_.current?t:!1;w.useEffect(function(){_.current&&g(!1)},[b]);var C=Ne({},$4(o,f,m));r.length>1&&(C.motionAppear=!1);var T=C.onVisibleChanged;return C.onVisibleChanged=function(M){return!_.current&&!M&&g(!0),T==null?void 0:T(M)},p?null:w.createElement(iS,{mode:o,locked:!_.current},w.createElement(Xc,Pt({visible:y},C,{forceRender:u,removeOnLeave:!1,leavedClassName:"".concat(s,"-hidden")}),function(M){var O=M.className,B=M.style;return w.createElement(JO,{id:e,className:O,style:B},a)}))}var JJ=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","popupStyle","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],QJ=["active"],ZJ=w.forwardRef(function(n,e){var t=n.style,r=n.className,a=n.title,o=n.eventKey;n.warnKey;var l=n.disabled,s=n.internalPopupClose,u=n.children,f=n.itemIcon,m=n.expandIcon,b=n.popupClassName,_=n.popupOffset,E=n.popupStyle,c=n.onClick,p=n.onMouseEnter,g=n.onMouseLeave,y=n.onTitleClick,C=n.onTitleMouseEnter,T=n.onTitleMouseLeave,M=kn(n,JJ),O=L4(o),B=w.useContext(kc),D=B.prefixCls,F=B.mode,z=B.openKeys,U=B.disabled,$=B.overflowDisabled,J=B.activeKey,W=B.selectedKeys,Q=B.itemIcon,ae=B.expandIcon,Y=B.onItemClick,K=B.onOpenChange,ee=B.onActive,de=w.useContext(YO),q=de._internalRenderSubMenuItem,ie=w.useContext(U4),he=ie.isSubPathKey,fe=D0(),Z="".concat(D,"-submenu"),pe=U||l,xe=w.useRef(),Oe=w.useRef(),Ae=f??Q,Te=m??ae,ze=z.includes(o),yt=!$&&ze,Be=he(W,o),Ce=H4(o,pe,C,T),re=Ce.active,Fe=kn(Ce,QJ),Ie=w.useState(!1),qe=vt(Ie,2),$e=qe[0],ct=qe[1],st=function(Se){pe||ct(Se)},ce=function(Se){st(!0),p==null||p({key:o,domEvent:Se})},oe=function(Se){st(!1),g==null||g({key:o,domEvent:Se})},we=w.useMemo(function(){return re||(F!=="inline"?$e||he([J],o):!1)},[F,re,J,$e,o,he]),De=G4(fe.length),Ke=function(Se){pe||(y==null||y({key:o,domEvent:Se}),F==="inline"&&K(o,!ze))},He=ub(function(rt){c==null||c($1(rt)),Y(rt)}),gt=function(Se){F!=="inline"&&K(o,Se)},lt=function(){ee(o)},pt=O&&"".concat(O,"-popup"),It=w.useMemo(function(){return w.createElement(k4,{icon:F!=="horizontal"?Te:void 0,props:Ne(Ne({},n),{},{isOpen:yt,isSubMenu:!0})},w.createElement("i",{className:"".concat(Z,"-arrow")}))},[F,Te,n,yt,Z]),ot=w.createElement("div",Pt({role:"menuitem",style:De,className:"".concat(Z,"-title"),tabIndex:pe?null:-1,ref:xe,title:typeof a=="string"?a:null,"data-menu-id":$&&O?null:O,"aria-expanded":yt,"aria-haspopup":!0,"aria-controls":pt,"aria-disabled":pe,onClick:Ke,onFocus:lt},Fe),a,It),_t=w.useRef(F);if(F!=="inline"&&fe.length>1?_t.current="vertical":_t.current=F,!$){var Ct=_t.current;ot=w.createElement(qJ,{mode:Ct,prefixCls:Z,visible:!s&&yt&&F!=="inline",popupClassName:b,popupOffset:_,popupStyle:E,popup:w.createElement(iS,{mode:Ct==="horizontal"?"vertical":Ct},w.createElement(JO,{id:pt,ref:Oe},u)),disabled:pe,onVisibleChange:gt},ot)}var We=w.createElement(cf.Item,Pt({ref:e,role:"none"},M,{component:"li",style:t,className:Je(Z,"".concat(Z,"-").concat(F),r,ue(ue(ue(ue({},"".concat(Z,"-open"),yt),"".concat(Z,"-active"),we),"".concat(Z,"-selected"),Be),"".concat(Z,"-disabled"),pe)),onMouseEnter:ce,onMouseLeave:oe}),ot,!$&&w.createElement(KJ,{id:pt,open:yt,keyPath:fe},u));return q&&(We=q(We,n,{selected:Be,active:we,open:yt,disabled:pe})),w.createElement(iS,{onItemClick:He,mode:F==="horizontal"?"vertical":F,itemIcon:Ae,expandIcon:Te},We)}),Ow=w.forwardRef(function(n,e){var t=n.eventKey,r=n.children,a=D0(t),o=QO(r,a),l=Tw();w.useEffect(function(){if(l)return l.registerPath(t,a),function(){l.unregisterPath(t,a)}},[a]);var s;return l?s=o:s=w.createElement(ZJ,Pt({ref:e},n),o),w.createElement(z4.Provider,{value:a},s)});function ZO(n){var e=n.className,t=n.style,r=w.useContext(kc),a=r.prefixCls,o=Tw();return o?null:w.createElement("li",{role:"separator",className:Je("".concat(a,"-item-divider"),e),style:t})}var eQ=["className","title","eventKey","children"],tQ=w.forwardRef(function(n,e){var t=n.className,r=n.title;n.eventKey;var a=n.children,o=kn(n,eQ),l=w.useContext(kc),s=l.prefixCls,u="".concat(s,"-item-group");return w.createElement("li",Pt({ref:e,role:"presentation"},o,{onClick:function(m){return m.stopPropagation()},className:Je(u,t)}),w.createElement("div",{role:"presentation",className:"".concat(u,"-title"),title:typeof r=="string"?r:void 0},r),w.createElement("ul",{role:"group",className:"".concat(u,"-list")},a))}),eI=w.forwardRef(function(n,e){var t=n.eventKey,r=n.children,a=D0(t),o=QO(r,a),l=Tw();return l?o:w.createElement(tQ,Pt({ref:e},yo(n,["warnKey"])),o)}),nQ=["label","children","key","type","extra"];function b2(n,e,t){var r=e.item,a=e.group,o=e.submenu,l=e.divider;return(n||[]).map(function(s,u){if(s&&mn(s)==="object"){var f=s,m=f.label,b=f.children,_=f.key,E=f.type,c=f.extra,p=kn(f,nQ),g=_??"tmp-".concat(u);return b||E==="group"?E==="group"?w.createElement(a,Pt({key:g},p,{title:m}),b2(b,e,t)):w.createElement(o,Pt({key:g},p,{title:m}),b2(b,e,t)):E==="divider"?w.createElement(l,Pt({key:g},p)):w.createElement(r,Pt({key:g},p,{extra:c}),m,(!!c||c===0)&&w.createElement("span",{className:"".concat(t,"-item-extra")},c))}return null}).filter(function(s){return s})}function sL(n,e,t,r,a){var o=n,l=Ne({divider:ZO,item:Rw,group:eI,submenu:Ow},r);return e&&(o=b2(e,l,a)),QO(o,t)}var iQ=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem","_internalComponents"],Mp=[],rQ=w.forwardRef(function(n,e){var t,r=n,a=r.prefixCls,o=a===void 0?"rc-menu":a,l=r.rootClassName,s=r.style,u=r.className,f=r.tabIndex,m=f===void 0?0:f,b=r.items,_=r.children,E=r.direction,c=r.id,p=r.mode,g=p===void 0?"vertical":p,y=r.inlineCollapsed,C=r.disabled,T=r.disabledOverflow,M=r.subMenuOpenDelay,O=M===void 0?.1:M,B=r.subMenuCloseDelay,D=B===void 0?.1:B,F=r.forceSubMenuRender,z=r.defaultOpenKeys,U=r.openKeys,$=r.activeKey,J=r.defaultActiveFirst,W=r.selectable,Q=W===void 0?!0:W,ae=r.multiple,Y=ae===void 0?!1:ae,K=r.defaultSelectedKeys,ee=r.selectedKeys,de=r.onSelect,q=r.onDeselect,ie=r.inlineIndent,he=ie===void 0?24:ie,fe=r.motion,Z=r.defaultMotions,pe=r.triggerSubMenuAction,xe=pe===void 0?"hover":pe,Oe=r.builtinPlacements,Ae=r.itemIcon,Te=r.expandIcon,ze=r.overflowedIndicator,yt=ze===void 0?"...":ze,Be=r.overflowedIndicatorPopupClassName,Ce=r.getPopupContainer,re=r.onClick,Fe=r.onOpenChange,Ie=r.onKeyDown;r.openAnimation,r.openTransitionName;var qe=r._internalRenderMenuItem,$e=r._internalRenderSubMenuItem,ct=r._internalComponents,st=kn(r,iQ),ce=w.useMemo(function(){return[sL(_,b,Mp,ct,o),sL(_,b,Mp,{},o)]},[_,b,ct]),oe=vt(ce,2),we=oe[0],De=oe[1],Ke=w.useState(!1),He=vt(Ke,2),gt=He[0],lt=He[1],pt=w.useRef(),It=NJ(c),ot=E==="rtl",_t=mo(z,{value:U,postState:function(Tn){return Tn||Mp}}),Ct=vt(_t,2),We=Ct[0],rt=Ct[1],Se=function(Tn){var Cn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;function Zn(){rt(Tn),Fe==null||Fe(Tn)}Cn?Uh.flushSync(Zn):Zn()},Ge=w.useState(We),St=vt(Ge,2),Me=St[0],xt=St[1],et=w.useRef(!1),mt=w.useMemo(function(){return(g==="inline"||g==="vertical")&&y?["vertical",y]:[g,!1]},[g,y]),Nt=vt(mt,2),Bt=Nt[0],Qt=Nt[1],sn=Bt==="inline",qt=w.useState(Bt),Lt=vt(qt,2),Yt=Lt[0],yn=Lt[1],lr=w.useState(Qt),Qr=vt(lr,2),zn=Qr[0],Ai=Qr[1];w.useEffect(function(){yn(Bt),Ai(Qt),et.current&&(sn?rt(Me):Se(Mp))},[Bt,Qt]);var Sr=w.useState(0),wn=vt(Sr,2),Mn=wn[0],Qn=wn[1],un=Mn>=we.length-1||Yt!=="horizontal"||T;w.useEffect(function(){sn&&xt(We)},[We]),w.useEffect(function(){return et.current=!0,function(){et.current=!1}},[]);var ii=PJ(),ln=ii.registerPath,zr=ii.unregisterPath,Ur=ii.refreshOverflowKeys,Rr=ii.isSubPathKey,Or=ii.getKeyPath,cr=ii.getKeys,_r=ii.getSubPathKeys,le=w.useMemo(function(){return{registerPath:ln,unregisterPath:zr}},[ln,zr]),Ue=w.useMemo(function(){return{isSubPathKey:Rr}},[Rr]);w.useEffect(function(){Ur(un?Mp:we.slice(Mn+1).map(function($n){return $n.key}))},[Mn,un]);var at=mo($||J&&((t=we[0])===null||t===void 0?void 0:t.key),{value:$}),Ze=vt(at,2),Ve=Ze[0],Rt=Ze[1],Vt=ub(function($n){Rt($n)}),Kt=ub(function(){Rt(void 0)});w.useImperativeHandle(e,function(){return{list:pt.current,focus:function(Tn){var Cn,Zn=cr(),An=v2(Zn,It),xi=An.elements,Li=An.key2element,$i=An.element2key,Ki=qO(pt.current,xi),Ir=Ve??(Ki[0]?$i.get(Ki[0]):(Cn=we.find(function(no){return!no.props.disabled}))===null||Cn===void 0?void 0:Cn.key),Wi=Li.get(Ir);if(Ir&&Wi){var bo;Wi==null||(bo=Wi.focus)===null||bo===void 0||bo.call(Wi,Tn)}}}});var Wt=mo(K||[],{value:ee,postState:function(Tn){return Array.isArray(Tn)?Tn:Tn==null?Mp:[Tn]}}),gn=vt(Wt,2),dn=gn[0],on=gn[1],Gn=function(Tn){if(Q){var Cn=Tn.key,Zn=dn.includes(Cn),An;Y?Zn?An=dn.filter(function(Li){return Li!==Cn}):An=[].concat(Jt(dn),[Cn]):An=[Cn],on(An);var xi=Ne(Ne({},Tn),{},{selectedKeys:An});Zn?q==null||q(xi):de==null||de(xi)}!Y&&We.length&&Yt!=="inline"&&Se(Mp)},Vn=ub(function($n){re==null||re($1($n)),Gn($n)}),jn=ub(function($n,Tn){var Cn=We.filter(function(An){return An!==$n});if(Tn)Cn.push($n);else if(Yt!=="inline"){var Zn=_r($n);Cn=Cn.filter(function(An){return!Zn.has(An)})}o0(We,Cn,!0)||Se(Cn,!0)}),In=function(Tn,Cn){var Zn=Cn??!We.includes(Tn);jn(Tn,Zn)},bn=IJ(Yt,Ve,ot,It,pt,cr,Or,Rt,In,Ie);w.useEffect(function(){lt(!0)},[]);var cn=w.useMemo(function(){return{_internalRenderMenuItem:qe,_internalRenderSubMenuItem:$e}},[qe,$e]),Si=Yt!=="horizontal"||T?we:we.map(function($n,Tn){return w.createElement(iS,{key:$n.key,overflowDisabled:Tn>Mn},$n)}),Wn=w.createElement(cf,Pt({id:c,ref:pt,prefixCls:"".concat(o,"-overflow"),component:"ul",itemComponent:Rw,className:Je(o,"".concat(o,"-root"),"".concat(o,"-").concat(Yt),u,ue(ue({},"".concat(o,"-inline-collapsed"),zn),"".concat(o,"-rtl"),ot),l),dir:E,style:s,role:"menu",tabIndex:m,data:Si,renderRawItem:function(Tn){return Tn},renderRawRest:function(Tn){var Cn=Tn.length,Zn=Cn?we.slice(-Cn):null;return w.createElement(Ow,{eventKey:y2,title:yt,disabled:un,internalPopupClose:Cn===0,popupClassName:Be},Zn)},maxCount:Yt!=="horizontal"||T?cf.INVALIDATE:cf.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(Tn){Qn(Tn)},onKeyDown:bn},st));return w.createElement(YO.Provider,{value:cn},w.createElement(D4.Provider,{value:It},w.createElement(iS,{prefixCls:o,rootClassName:l,mode:Yt,openKeys:We,rtl:ot,disabled:C,motion:gt?fe:null,defaultMotions:gt?Z:null,activeKey:Ve,onActive:Vt,onInactive:Kt,selectedKeys:dn,inlineIndent:he,subMenuOpenDelay:O,subMenuCloseDelay:D,forceSubMenuRender:F,builtinPlacements:Oe,triggerSubMenuAction:xe,getPopupContainer:Ce,itemIcon:Ae,expandIcon:Te,onItemClick:Vn,onOpenChange:jn},w.createElement(U4.Provider,{value:Ue},Wn),w.createElement("div",{style:{display:"none"},"aria-hidden":!0},w.createElement(N4.Provider,{value:le},De)))))}),DS=rQ;DS.Item=Rw;DS.SubMenu=Ow;DS.ItemGroup=eI;DS.Divider=ZO;const V4=w.createContext({siderHook:{addSider:()=>null,removeSider:()=>null}}),aQ=n=>{const{antCls:e,componentCls:t,colorText:r,footerBg:a,headerHeight:o,headerPadding:l,headerColor:s,footerPadding:u,fontSize:f,bodyBg:m,headerBg:b}=n;return{[t]:{display:"flex",flex:"auto",flexDirection:"column",minHeight:0,background:m,"&, *":{boxSizing:"border-box"},[`&${t}-has-sider`]:{flexDirection:"row",[`> ${t}, > ${t}-content`]:{width:0}},[`${t}-header, &${t}-footer`]:{flex:"0 0 auto"},"&-rtl":{direction:"rtl"}},[`${t}-header`]:{height:o,padding:l,color:s,lineHeight:Mt(o),background:b,[`${e}-menu`]:{lineHeight:"inherit"}},[`${t}-footer`]:{padding:u,color:r,fontSize:f,background:a},[`${t}-content`]:{flex:"auto",color:r,minHeight:0}}},j4=n=>{const{colorBgLayout:e,controlHeight:t,controlHeightLG:r,colorText:a,controlHeightSM:o,marginXXS:l,colorTextLightSolid:s,colorBgContainer:u}=n,f=r*1.25;return{colorBgHeader:"#001529",colorBgBody:e,colorBgTrigger:"#002140",bodyBg:e,headerBg:"#001529",headerHeight:t*2,headerPadding:`0 ${f}px`,headerColor:a,footerPadding:`${o}px ${f}px`,footerBg:e,siderBg:"#001529",triggerHeight:r+l*2,triggerBg:"#002140",triggerColor:s,zeroTriggerWidth:r,zeroTriggerHeight:r,lightSiderBg:u,lightTriggerBg:u,lightTriggerColor:a}},W4=[["colorBgBody","bodyBg"],["colorBgHeader","headerBg"],["colorBgTrigger","triggerBg"]],X4=Nr("Layout",n=>[aQ(n)],j4,{deprecatedTokens:W4}),oQ=n=>{const{componentCls:e,siderBg:t,motionDurationMid:r,motionDurationSlow:a,antCls:o,triggerHeight:l,triggerColor:s,triggerBg:u,headerHeight:f,zeroTriggerWidth:m,zeroTriggerHeight:b,borderRadiusLG:_,lightSiderBg:E,lightTriggerColor:c,lightTriggerBg:p,bodyBg:g}=n;return{[e]:{position:"relative",minWidth:0,background:t,transition:`all ${r}, background 0s`,"&-has-trigger":{paddingBottom:l},"&-right":{order:1},[`${e}-children`]:{height:"100%",marginTop:-.1,paddingTop:.1,[`${o}-menu${o}-menu-inline-collapsed`]:{width:"auto"}},[`&-zero-width ${e}-children`]:{overflow:"hidden"},[`${e}-trigger`]:{position:"fixed",bottom:0,zIndex:1,height:l,color:s,lineHeight:Mt(l),textAlign:"center",background:u,cursor:"pointer",transition:`all ${r}`},[`${e}-zero-width-trigger`]:{position:"absolute",top:f,insetInlineEnd:n.calc(m).mul(-1).equal(),zIndex:1,width:m,height:b,color:s,fontSize:n.fontSizeXL,display:"flex",alignItems:"center",justifyContent:"center",background:t,borderRadius:`0 ${Mt(_)} ${Mt(_)} 0`,cursor:"pointer",transition:`background ${a} ease`,"&::after":{position:"absolute",inset:0,background:"transparent",transition:`all ${a}`,content:'""'},"&:hover::after":{background:"rgba(255, 255, 255, 0.2)"},"&-right":{insetInlineStart:n.calc(m).mul(-1).equal(),borderRadius:`${Mt(_)} 0 0 ${Mt(_)}`}},"&-light":{background:E,[`${e}-trigger`]:{color:c,background:p},[`${e}-zero-width-trigger`]:{color:c,background:p,border:`1px solid ${g}`,borderInlineStart:0}}}}},sQ=Nr(["Layout","Sider"],n=>[oQ(n)],j4,{deprecatedTokens:W4});var lQ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const lL={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px"},cQ=n=>!Number.isNaN(Number.parseFloat(n))&&isFinite(n),Iw=w.createContext({}),uQ=(()=>{let n=0;return function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return n+=1,`${e}${n}`}})(),Y4=w.forwardRef((n,e)=>{const{prefixCls:t,className:r,trigger:a,children:o,defaultCollapsed:l=!1,theme:s="dark",style:u={},collapsible:f=!1,reverseArrow:m=!1,width:b=200,collapsedWidth:_=80,zeroWidthTriggerStyle:E,breakpoint:c,onCollapse:p,onBreakpoint:g}=n,y=lQ(n,["prefixCls","className","trigger","children","defaultCollapsed","theme","style","collapsible","reverseArrow","width","collapsedWidth","zeroWidthTriggerStyle","breakpoint","onCollapse","onBreakpoint"]),{siderHook:C}=w.useContext(V4),[T,M]=w.useState("collapsed"in n?n.collapsed:l),[O,B]=w.useState(!1);w.useEffect(()=>{"collapsed"in n&&M(n.collapsed)},[n.collapsed]);const D=(Ae,Te)=>{"collapsed"in n||M(Ae),p==null||p(Ae,Te)},{getPrefixCls:F,direction:z}=w.useContext(Hn),U=F("layout-sider",t),[$,J,W]=sQ(U),Q=w.useRef(null);Q.current=Ae=>{B(Ae.matches),g==null||g(Ae.matches),T!==Ae.matches&&D(Ae.matches,"responsive")},w.useEffect(()=>{function Ae(ze){return Q.current(ze)}let Te;if(typeof window<"u"){const{matchMedia:ze}=window;if(ze&&c&&c in lL){Te=ze(`screen and (max-width: ${lL[c]})`);try{Te.addEventListener("change",Ae)}catch{Te.addListener(Ae)}Ae(Te)}}return()=>{try{Te==null||Te.removeEventListener("change",Ae)}catch{Te==null||Te.removeListener(Ae)}}},[c]),w.useEffect(()=>{const Ae=uQ("ant-sider-");return C.addSider(Ae),()=>C.removeSider(Ae)},[]);const ae=()=>{D(!T,"clickTrigger")},Y=yo(y,["collapsed"]),K=T?_:b,ee=cQ(K)?`${K}px`:String(K),de=parseFloat(String(_||0))===0?w.createElement("span",{onClick:ae,className:Je(`${U}-zero-width-trigger`,`${U}-zero-width-trigger-${m?"right":"left"}`),style:E},a||w.createElement(l$,null)):null,q=z==="rtl"==!m,fe={expanded:q?w.createElement(B1,null):w.createElement(I1,null),collapsed:q?w.createElement(I1,null):w.createElement(B1,null)}[T?"collapsed":"expanded"],Z=a!==null?de||w.createElement("div",{className:`${U}-trigger`,onClick:ae,style:{width:ee}},a||fe):null,pe=Object.assign(Object.assign({},u),{flex:`0 0 ${ee}`,maxWidth:ee,minWidth:ee,width:ee}),xe=Je(U,`${U}-${s}`,{[`${U}-collapsed`]:!!T,[`${U}-has-trigger`]:f&&a!==null&&!de,[`${U}-below`]:!!O,[`${U}-zero-width`]:parseFloat(ee)===0},r,J,W),Oe=w.useMemo(()=>({siderCollapsed:T}),[T]);return $(w.createElement(Iw.Provider,{value:Oe},w.createElement("aside",Object.assign({className:xe},Y,{style:pe,ref:e}),w.createElement("div",{className:`${U}-children`},o),f||O&&de?Z:null)))}),V1=w.createContext({prefixCls:"",firstLevel:!0,inlineCollapsed:!1});var dQ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const q4=n=>{const{prefixCls:e,className:t,dashed:r}=n,a=dQ(n,["prefixCls","className","dashed"]),{getPrefixCls:o}=w.useContext(Hn),l=o("menu",e),s=Je({[`${l}-item-divider-dashed`]:!!r},t);return w.createElement(ZO,Object.assign({className:s},a))},K4=n=>{var e;const{className:t,children:r,icon:a,title:o,danger:l,extra:s}=n,{prefixCls:u,firstLevel:f,direction:m,disableMenuItemTitleTooltip:b,inlineCollapsed:_}=w.useContext(V1),E=T=>{const M=r==null?void 0:r[0],O=w.createElement("span",{className:Je(`${u}-title-content`,{[`${u}-title-content-with-extra`]:!!s||s===0})},r);return(!a||w.isValidElement(r)&&r.type==="span")&&r&&T&&f&&typeof M=="string"?w.createElement("div",{className:`${u}-inline-collapsed-noicon`},M.charAt(0)):O},{siderCollapsed:c}=w.useContext(Iw);let p=o;typeof o>"u"?p=f?r:"":o===!1&&(p="");const g={title:p};!c&&!_&&(g.title=null,g.open=!1);const y=Qu(r).length;let C=w.createElement(Rw,Object.assign({},yo(n,["title","icon","danger"]),{className:Je({[`${u}-item-danger`]:l,[`${u}-item-only-child`]:(a?y+1:y)===1},t),title:typeof o=="string"?o:void 0}),al(a,{className:Je(w.isValidElement(a)?(e=a.props)===null||e===void 0?void 0:e.className:"",`${u}-item-icon`)}),E(_));return b||(C=w.createElement(Hl,Object.assign({},g,{placement:m==="rtl"?"left":"right",classNames:{root:`${u}-inline-collapsed-tooltip`}}),C)),C},cL=w.createContext(null),fQ=n=>{const{componentCls:e,motionDurationSlow:t,horizontalLineHeight:r,colorSplit:a,lineWidth:o,lineType:l,itemPaddingInline:s}=n;return{[`${e}-horizontal`]:{lineHeight:r,border:0,borderBottom:`${Mt(o)} ${l} ${a}`,boxShadow:"none","&::after":{display:"block",clear:"both",height:0,content:'"\\20"'},[`${e}-item, ${e}-submenu`]:{position:"relative",display:"inline-block",verticalAlign:"bottom",paddingInline:s},[`> ${e}-item:hover,
        > ${e}-item-active,
        > ${e}-submenu ${e}-submenu-title:hover`]:{backgroundColor:"transparent"},[`${e}-item, ${e}-submenu-title`]:{transition:[`border-color ${t}`,`background ${t}`].join(",")},[`${e}-submenu-arrow`]:{display:"none"}}}},hQ=n=>{let{componentCls:e,menuArrowOffset:t,calc:r}=n;return{[`${e}-rtl`]:{direction:"rtl"},[`${e}-submenu-rtl`]:{transformOrigin:"100% 0"},[`${e}-rtl${e}-vertical,
    ${e}-submenu-rtl ${e}-vertical`]:{[`${e}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateY(${Mt(r(t).mul(-1).equal())})`},"&::after":{transform:`rotate(45deg) translateY(${Mt(t)})`}}}}},uL=n=>Object.assign({},fw(n)),dL=(n,e)=>{const{componentCls:t,itemColor:r,itemSelectedColor:a,subMenuItemSelectedColor:o,groupTitleColor:l,itemBg:s,subMenuItemBg:u,itemSelectedBg:f,activeBarHeight:m,activeBarWidth:b,activeBarBorderWidth:_,motionDurationSlow:E,motionEaseInOut:c,motionEaseOut:p,itemPaddingInline:g,motionDurationMid:y,itemHoverColor:C,lineType:T,colorSplit:M,itemDisabledColor:O,dangerItemColor:B,dangerItemHoverColor:D,dangerItemSelectedColor:F,dangerItemActiveBg:z,dangerItemSelectedBg:U,popupBg:$,itemHoverBg:J,itemActiveBg:W,menuSubMenuBg:Q,horizontalItemSelectedColor:ae,horizontalItemSelectedBg:Y,horizontalItemBorderRadius:K,horizontalItemHoverBg:ee}=n;return{[`${t}-${e}, ${t}-${e} > ${t}`]:{color:r,background:s,[`&${t}-root:focus-visible`]:Object.assign({},uL(n)),[`${t}-item`]:{"&-group-title, &-extra":{color:l}},[`${t}-submenu-selected > ${t}-submenu-title`]:{color:o},[`${t}-item, ${t}-submenu-title`]:{color:r,[`&:not(${t}-item-disabled):focus-visible`]:Object.assign({},uL(n))},[`${t}-item-disabled, ${t}-submenu-disabled`]:{color:`${O} !important`},[`${t}-item:not(${t}-item-selected):not(${t}-submenu-selected)`]:{[`&:hover, > ${t}-submenu-title:hover`]:{color:C}},[`&:not(${t}-horizontal)`]:{[`${t}-item:not(${t}-item-selected)`]:{"&:hover":{backgroundColor:J},"&:active":{backgroundColor:W}},[`${t}-submenu-title`]:{"&:hover":{backgroundColor:J},"&:active":{backgroundColor:W}}},[`${t}-item-danger`]:{color:B,[`&${t}-item:hover`]:{[`&:not(${t}-item-selected):not(${t}-submenu-selected)`]:{color:D}},[`&${t}-item:active`]:{background:z}},[`${t}-item a`]:{"&, &:hover":{color:"inherit"}},[`${t}-item-selected`]:{color:a,[`&${t}-item-danger`]:{color:F},"a, a:hover":{color:"inherit"}},[`& ${t}-item-selected`]:{backgroundColor:f,[`&${t}-item-danger`]:{backgroundColor:U}},[`&${t}-submenu > ${t}`]:{backgroundColor:Q},[`&${t}-popup > ${t}`]:{backgroundColor:$},[`&${t}-submenu-popup > ${t}`]:{backgroundColor:$},[`&${t}-horizontal`]:Object.assign(Object.assign({},e==="dark"?{borderBottom:0}:{}),{[`> ${t}-item, > ${t}-submenu`]:{top:_,marginTop:n.calc(_).mul(-1).equal(),marginBottom:0,borderRadius:K,"&::after":{position:"absolute",insetInline:g,bottom:0,borderBottom:`${Mt(m)} solid transparent`,transition:`border-color ${E} ${c}`,content:'""'},"&:hover, &-active, &-open":{background:ee,"&::after":{borderBottomWidth:m,borderBottomColor:ae}},"&-selected":{color:ae,backgroundColor:Y,"&:hover":{backgroundColor:Y},"&::after":{borderBottomWidth:m,borderBottomColor:ae}}}}),[`&${t}-root`]:{[`&${t}-inline, &${t}-vertical`]:{borderInlineEnd:`${Mt(_)} ${T} ${M}`}},[`&${t}-inline`]:{[`${t}-sub${t}-inline`]:{background:u},[`${t}-item`]:{position:"relative","&::after":{position:"absolute",insetBlock:0,insetInlineEnd:0,borderInlineEnd:`${Mt(b)} solid ${a}`,transform:"scaleY(0.0001)",opacity:0,transition:[`transform ${y} ${p}`,`opacity ${y} ${p}`].join(","),content:'""'},[`&${t}-item-danger`]:{"&::after":{borderInlineEndColor:F}}},[`${t}-selected, ${t}-item-selected`]:{"&::after":{transform:"scaleY(1)",opacity:1,transition:[`transform ${y} ${c}`,`opacity ${y} ${c}`].join(",")}}}}}},fL=n=>{const{componentCls:e,itemHeight:t,itemMarginInline:r,padding:a,menuArrowSize:o,marginXS:l,itemMarginBlock:s,itemWidth:u,itemPaddingInline:f}=n,m=n.calc(o).add(a).add(l).equal();return{[`${e}-item`]:{position:"relative",overflow:"hidden"},[`${e}-item, ${e}-submenu-title`]:{height:t,lineHeight:Mt(t),paddingInline:f,overflow:"hidden",textOverflow:"ellipsis",marginInline:r,marginBlock:s,width:u},[`> ${e}-item,
            > ${e}-submenu > ${e}-submenu-title`]:{height:t,lineHeight:Mt(t)},[`${e}-item-group-list ${e}-submenu-title,
            ${e}-submenu-title`]:{paddingInlineEnd:m}}},pQ=n=>{const{componentCls:e,iconCls:t,itemHeight:r,colorTextLightSolid:a,dropdownWidth:o,controlHeightLG:l,motionEaseOut:s,paddingXL:u,itemMarginInline:f,fontSizeLG:m,motionDurationFast:b,motionDurationSlow:_,paddingXS:E,boxShadowSecondary:c,collapsedWidth:p,collapsedIconSize:g}=n,y={height:r,lineHeight:Mt(r),listStylePosition:"inside",listStyleType:"disc"};return[{[e]:{"&-inline, &-vertical":Object.assign({[`&${e}-root`]:{boxShadow:"none"}},fL(n))},[`${e}-submenu-popup`]:{[`${e}-vertical`]:Object.assign(Object.assign({},fL(n)),{boxShadow:c})}},{[`${e}-submenu-popup ${e}-vertical${e}-sub`]:{minWidth:o,maxHeight:`calc(100vh - ${Mt(n.calc(l).mul(2.5).equal())})`,padding:"0",overflow:"hidden",borderInlineEnd:0,"&:not([class*='-active'])":{overflowX:"hidden",overflowY:"auto"}}},{[`${e}-inline`]:{width:"100%",[`&${e}-root`]:{[`${e}-item, ${e}-submenu-title`]:{display:"flex",alignItems:"center",transition:[`border-color ${_}`,`background ${_}`,`padding ${b} ${s}`].join(","),[`> ${e}-title-content`]:{flex:"auto",minWidth:0,overflow:"hidden",textOverflow:"ellipsis"},"> *":{flex:"none"}}},[`${e}-sub${e}-inline`]:{padding:0,border:0,borderRadius:0,boxShadow:"none",[`& > ${e}-submenu > ${e}-submenu-title`]:y,[`& ${e}-item-group-title`]:{paddingInlineStart:u}},[`${e}-item`]:y}},{[`${e}-inline-collapsed`]:{width:p,[`&${e}-root`]:{[`${e}-item, ${e}-submenu ${e}-submenu-title`]:{[`> ${e}-inline-collapsed-noicon`]:{fontSize:m,textAlign:"center"}}},[`> ${e}-item,
          > ${e}-item-group > ${e}-item-group-list > ${e}-item,
          > ${e}-item-group > ${e}-item-group-list > ${e}-submenu > ${e}-submenu-title,
          > ${e}-submenu > ${e}-submenu-title`]:{insetInlineStart:0,paddingInline:`calc(50% - ${Mt(n.calc(g).div(2).equal())} - ${Mt(f)})`,textOverflow:"clip",[`
            ${e}-submenu-arrow,
            ${e}-submenu-expand-icon
          `]:{opacity:0},[`${e}-item-icon, ${t}`]:{margin:0,fontSize:g,lineHeight:Mt(r),"+ span":{display:"inline-block",opacity:0}}},[`${e}-item-icon, ${t}`]:{display:"inline-block"},"&-tooltip":{pointerEvents:"none",[`${e}-item-icon, ${t}`]:{display:"none"},"a, a:hover":{color:a}},[`${e}-item-group-title`]:Object.assign(Object.assign({},dw),{paddingInline:E})}}]},hL=n=>{const{componentCls:e,motionDurationSlow:t,motionDurationMid:r,motionEaseInOut:a,motionEaseOut:o,iconCls:l,iconSize:s,iconMarginInlineEnd:u}=n;return{[`${e}-item, ${e}-submenu-title`]:{position:"relative",display:"block",margin:0,whiteSpace:"nowrap",cursor:"pointer",transition:[`border-color ${t}`,`background ${t}`,`padding calc(${t} + 0.1s) ${a}`].join(","),[`${e}-item-icon, ${l}`]:{minWidth:s,fontSize:s,transition:[`font-size ${r} ${o}`,`margin ${t} ${a}`,`color ${t}`].join(","),"+ span":{marginInlineStart:u,opacity:1,transition:[`opacity ${t} ${a}`,`margin ${t}`,`color ${t}`].join(",")}},[`${e}-item-icon`]:Object.assign({},BO()),[`&${e}-item-only-child`]:{[`> ${l}, > ${e}-item-icon`]:{marginInlineEnd:0}}},[`${e}-item-disabled, ${e}-submenu-disabled`]:{background:"none !important",cursor:"not-allowed","&::after":{borderColor:"transparent !important"},a:{color:"inherit !important",cursor:"not-allowed",pointerEvents:"none"},[`> ${e}-submenu-title`]:{color:"inherit !important",cursor:"not-allowed"}}}},pL=n=>{const{componentCls:e,motionDurationSlow:t,motionEaseInOut:r,borderRadius:a,menuArrowSize:o,menuArrowOffset:l}=n;return{[`${e}-submenu`]:{"&-expand-icon, &-arrow":{position:"absolute",top:"50%",insetInlineEnd:n.margin,width:o,color:"currentcolor",transform:"translateY(-50%)",transition:`transform ${t} ${r}, opacity ${t}`},"&-arrow":{"&::before, &::after":{position:"absolute",width:n.calc(o).mul(.6).equal(),height:n.calc(o).mul(.15).equal(),backgroundColor:"currentcolor",borderRadius:a,transition:[`background ${t} ${r}`,`transform ${t} ${r}`,`top ${t} ${r}`,`color ${t} ${r}`].join(","),content:'""'},"&::before":{transform:`rotate(45deg) translateY(${Mt(n.calc(l).mul(-1).equal())})`},"&::after":{transform:`rotate(-45deg) translateY(${Mt(l)})`}}}}},mQ=n=>{const{antCls:e,componentCls:t,fontSize:r,motionDurationSlow:a,motionDurationMid:o,motionEaseInOut:l,paddingXS:s,padding:u,colorSplit:f,lineWidth:m,zIndexPopup:b,borderRadiusLG:_,subMenuItemBorderRadius:E,menuArrowSize:c,menuArrowOffset:p,lineType:g,groupTitleLineHeight:y,groupTitleFontSize:C}=n;return[{"":{[t]:Object.assign(Object.assign({},f0()),{"&-hidden":{display:"none"}})},[`${t}-submenu-hidden`]:{display:"none"}},{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Fo(n)),f0()),{marginBottom:0,paddingInlineStart:0,fontSize:r,lineHeight:0,listStyle:"none",outline:"none",transition:`width ${a} cubic-bezier(0.2, 0, 0, 1) 0s`,"ul, ol":{margin:0,padding:0,listStyle:"none"},"&-overflow":{display:"flex",[`${t}-item`]:{flex:"none"}},[`${t}-item, ${t}-submenu, ${t}-submenu-title`]:{borderRadius:n.itemBorderRadius},[`${t}-item-group-title`]:{padding:`${Mt(s)} ${Mt(u)}`,fontSize:C,lineHeight:y,transition:`all ${a}`},[`&-horizontal ${t}-submenu`]:{transition:[`border-color ${a} ${l}`,`background ${a} ${l}`].join(",")},[`${t}-submenu, ${t}-submenu-inline`]:{transition:[`border-color ${a} ${l}`,`background ${a} ${l}`,`padding ${o} ${l}`].join(",")},[`${t}-submenu ${t}-sub`]:{cursor:"initial",transition:[`background ${a} ${l}`,`padding ${a} ${l}`].join(",")},[`${t}-title-content`]:{transition:`color ${a}`,"&-with-extra":{display:"inline-flex",alignItems:"center",width:"100%"},[`> ${e}-typography-ellipsis-single-line`]:{display:"inline",verticalAlign:"unset"},[`${t}-item-extra`]:{marginInlineStart:"auto",paddingInlineStart:n.padding}},[`${t}-item a`]:{"&::before":{position:"absolute",inset:0,backgroundColor:"transparent",content:'""'}},[`${t}-item-divider`]:{overflow:"hidden",lineHeight:0,borderColor:f,borderStyle:g,borderWidth:0,borderTopWidth:m,marginBlock:m,padding:0,"&-dashed":{borderStyle:"dashed"}}}),hL(n)),{[`${t}-item-group`]:{[`${t}-item-group-list`]:{margin:0,padding:0,[`${t}-item, ${t}-submenu-title`]:{paddingInline:`${Mt(n.calc(r).mul(2).equal())} ${Mt(u)}`}}},"&-submenu":{"&-popup":{position:"absolute",zIndex:b,borderRadius:_,boxShadow:"none",transformOrigin:"0 0",[`&${t}-submenu`]:{background:"transparent"},"&::before":{position:"absolute",inset:0,zIndex:-1,width:"100%",height:"100%",opacity:0,content:'""'},[`> ${t}`]:Object.assign(Object.assign(Object.assign({borderRadius:_},hL(n)),pL(n)),{[`${t}-item, ${t}-submenu > ${t}-submenu-title`]:{borderRadius:E},[`${t}-submenu-title::after`]:{transition:`transform ${a} ${l}`}})},"\n          &-placement-leftTop,\n          &-placement-bottomRight,\n          ":{transformOrigin:"100% 0"},"\n          &-placement-leftBottom,\n          &-placement-topRight,\n          ":{transformOrigin:"100% 100%"},"\n          &-placement-rightBottom,\n          &-placement-topLeft,\n          ":{transformOrigin:"0 100%"},"\n          &-placement-bottomLeft,\n          &-placement-rightTop,\n          ":{transformOrigin:"0 0"},"\n          &-placement-leftTop,\n          &-placement-leftBottom\n          ":{paddingInlineEnd:n.paddingXS},"\n          &-placement-rightTop,\n          &-placement-rightBottom\n          ":{paddingInlineStart:n.paddingXS},"\n          &-placement-topRight,\n          &-placement-topLeft\n          ":{paddingBottom:n.paddingXS},"\n          &-placement-bottomRight,\n          &-placement-bottomLeft\n          ":{paddingTop:n.paddingXS}}}),pL(n)),{[`&-inline-collapsed ${t}-submenu-arrow,
        &-inline ${t}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateX(${Mt(p)})`},"&::after":{transform:`rotate(45deg) translateX(${Mt(n.calc(p).mul(-1).equal())})`}},[`${t}-submenu-open${t}-submenu-inline > ${t}-submenu-title > ${t}-submenu-arrow`]:{transform:`translateY(${Mt(n.calc(c).mul(.2).mul(-1).equal())})`,"&::after":{transform:`rotate(-45deg) translateX(${Mt(n.calc(p).mul(-1).equal())})`},"&::before":{transform:`rotate(45deg) translateX(${Mt(p)})`}}})},{[`${e}-layout-header`]:{[t]:{lineHeight:"inherit"}}}]},gQ=n=>{var e,t,r;const{colorPrimary:a,colorError:o,colorTextDisabled:l,colorErrorBg:s,colorText:u,colorTextDescription:f,colorBgContainer:m,colorFillAlter:b,colorFillContent:_,lineWidth:E,lineWidthBold:c,controlItemBgActive:p,colorBgTextHover:g,controlHeightLG:y,lineHeight:C,colorBgElevated:T,marginXXS:M,padding:O,fontSize:B,controlHeightSM:D,fontSizeLG:F,colorTextLightSolid:z,colorErrorHover:U}=n,$=(e=n.activeBarWidth)!==null&&e!==void 0?e:0,J=(t=n.activeBarBorderWidth)!==null&&t!==void 0?t:E,W=(r=n.itemMarginInline)!==null&&r!==void 0?r:n.marginXXS,Q=new Bi(z).setA(.65).toRgbString();return{dropdownWidth:160,zIndexPopup:n.zIndexPopupBase+50,radiusItem:n.borderRadiusLG,itemBorderRadius:n.borderRadiusLG,radiusSubMenuItem:n.borderRadiusSM,subMenuItemBorderRadius:n.borderRadiusSM,colorItemText:u,itemColor:u,colorItemTextHover:u,itemHoverColor:u,colorItemTextHoverHorizontal:a,horizontalItemHoverColor:a,colorGroupTitle:f,groupTitleColor:f,colorItemTextSelected:a,itemSelectedColor:a,subMenuItemSelectedColor:a,colorItemTextSelectedHorizontal:a,horizontalItemSelectedColor:a,colorItemBg:m,itemBg:m,colorItemBgHover:g,itemHoverBg:g,colorItemBgActive:_,itemActiveBg:p,colorSubItemBg:b,subMenuItemBg:b,colorItemBgSelected:p,itemSelectedBg:p,colorItemBgSelectedHorizontal:"transparent",horizontalItemSelectedBg:"transparent",colorActiveBarWidth:0,activeBarWidth:$,colorActiveBarHeight:c,activeBarHeight:c,colorActiveBarBorderSize:E,activeBarBorderWidth:J,colorItemTextDisabled:l,itemDisabledColor:l,colorDangerItemText:o,dangerItemColor:o,colorDangerItemTextHover:o,dangerItemHoverColor:o,colorDangerItemTextSelected:o,dangerItemSelectedColor:o,colorDangerItemBgActive:s,dangerItemActiveBg:s,colorDangerItemBgSelected:s,dangerItemSelectedBg:s,itemMarginInline:W,horizontalItemBorderRadius:0,horizontalItemHoverBg:"transparent",itemHeight:y,groupTitleLineHeight:C,collapsedWidth:y*2,popupBg:T,itemMarginBlock:M,itemPaddingInline:O,horizontalLineHeight:`${y*1.15}px`,iconSize:B,iconMarginInlineEnd:D-B,collapsedIconSize:F,groupTitleFontSize:B,darkItemDisabledColor:new Bi(z).setA(.25).toRgbString(),darkItemColor:Q,darkDangerItemColor:o,darkItemBg:"#001529",darkPopupBg:"#001529",darkSubMenuItemBg:"#000c17",darkItemSelectedColor:z,darkItemSelectedBg:a,darkDangerItemSelectedBg:o,darkItemHoverBg:"transparent",darkGroupTitleColor:Q,darkItemHoverColor:z,darkDangerItemHoverColor:U,darkDangerItemSelectedColor:z,darkDangerItemActiveBg:o,itemWidth:$?`calc(100% + ${J}px)`:`calc(100% - ${W*2}px)`}},vQ=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return Nr("Menu",a=>{const{colorBgElevated:o,controlHeightLG:l,fontSize:s,darkItemColor:u,darkDangerItemColor:f,darkItemBg:m,darkSubMenuItemBg:b,darkItemSelectedColor:_,darkItemSelectedBg:E,darkDangerItemSelectedBg:c,darkItemHoverBg:p,darkGroupTitleColor:g,darkItemHoverColor:y,darkItemDisabledColor:C,darkDangerItemHoverColor:T,darkDangerItemSelectedColor:M,darkDangerItemActiveBg:O,popupBg:B,darkPopupBg:D}=a,F=a.calc(s).div(7).mul(5).equal(),z=qi(a,{menuArrowSize:F,menuHorizontalHeight:a.calc(l).mul(1.15).equal(),menuArrowOffset:a.calc(F).mul(.25).equal(),menuSubMenuBg:o,calc:a.calc,popupBg:B}),U=qi(z,{itemColor:u,itemHoverColor:y,groupTitleColor:g,itemSelectedColor:_,subMenuItemSelectedColor:_,itemBg:m,popupBg:D,subMenuItemBg:b,itemActiveBg:"transparent",itemSelectedBg:E,activeBarHeight:0,activeBarBorderWidth:0,itemHoverBg:p,itemDisabledColor:C,dangerItemColor:f,dangerItemHoverColor:T,dangerItemSelectedColor:M,dangerItemActiveBg:O,dangerItemSelectedBg:c,menuSubMenuBg:b,horizontalItemSelectedColor:_,horizontalItemSelectedBg:E});return[mQ(z),fQ(z),pQ(z),dL(z,"light"),dL(U,"dark"),hQ(z),DF(z),vP(z,"slide-up"),vP(z,"slide-down"),MS(z,"zoom-big")]},gQ,{deprecatedTokens:[["colorGroupTitle","groupTitleColor"],["radiusItem","itemBorderRadius"],["radiusSubMenuItem","subMenuItemBorderRadius"],["colorItemText","itemColor"],["colorItemTextHover","itemHoverColor"],["colorItemTextHoverHorizontal","horizontalItemHoverColor"],["colorItemTextSelected","itemSelectedColor"],["colorItemTextSelectedHorizontal","horizontalItemSelectedColor"],["colorItemTextDisabled","itemDisabledColor"],["colorDangerItemText","dangerItemColor"],["colorDangerItemTextHover","dangerItemHoverColor"],["colorDangerItemTextSelected","dangerItemSelectedColor"],["colorDangerItemBgActive","dangerItemActiveBg"],["colorDangerItemBgSelected","dangerItemSelectedBg"],["colorItemBg","itemBg"],["colorItemBgHover","itemHoverBg"],["colorSubItemBg","subMenuItemBg"],["colorItemBgActive","itemActiveBg"],["colorItemBgSelectedHorizontal","horizontalItemSelectedBg"],["colorActiveBarWidth","activeBarWidth"],["colorActiveBarHeight","activeBarHeight"],["colorActiveBarBorderSize","activeBarBorderWidth"],["colorItemBgSelected","itemSelectedBg"]],injectStyle:t,unitless:{groupTitleLineHeight:!0}})(n,e)},J4=n=>{var e;const{popupClassName:t,icon:r,title:a,theme:o}=n,l=w.useContext(V1),{prefixCls:s,inlineCollapsed:u,theme:f}=l,m=D0();let b;if(!r)b=u&&!m.length&&a&&typeof a=="string"?w.createElement("div",{className:`${s}-inline-collapsed-noicon`},a.charAt(0)):w.createElement("span",{className:`${s}-title-content`},a);else{const c=w.isValidElement(a)&&a.type==="span";b=w.createElement(w.Fragment,null,al(r,{className:Je(w.isValidElement(r)?(e=r.props)===null||e===void 0?void 0:e.className:"",`${s}-item-icon`)}),c?a:w.createElement("span",{className:`${s}-title-content`},a))}const _=w.useMemo(()=>Object.assign(Object.assign({},l),{firstLevel:!1}),[l]),[E]=wS("Menu");return w.createElement(V1.Provider,{value:_},w.createElement(Ow,Object.assign({},yo(n,["icon"]),{title:b,popupClassName:Je(s,t,`${s}-${o||f}`),popupStyle:Object.assign({zIndex:E},n.popupStyle)})))};var yQ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};function FM(n){return n===null||n===!1}const bQ={item:K4,submenu:J4,divider:q4},SQ=w.forwardRef((n,e)=>{var t;const r=w.useContext(cL),a=r||{},{getPrefixCls:o,getPopupContainer:l,direction:s,menu:u}=w.useContext(Hn),f=o(),{prefixCls:m,className:b,style:_,theme:E="light",expandIcon:c,_internalDisableMenuItemTitleTooltip:p,inlineCollapsed:g,siderCollapsed:y,rootClassName:C,mode:T,selectable:M,onClick:O,overflowedIndicatorPopupClassName:B}=n,D=yQ(n,["prefixCls","className","style","theme","expandIcon","_internalDisableMenuItemTitleTooltip","inlineCollapsed","siderCollapsed","rootClassName","mode","selectable","onClick","overflowedIndicatorPopupClassName"]),F=yo(D,["collapsedWidth"]);(t=a.validator)===null||t===void 0||t.call(a,{mode:T});const z=Qa(function(){var he;O==null||O.apply(void 0,arguments),(he=a.onClick)===null||he===void 0||he.call(a)}),U=a.mode||T,$=M??a.selectable,J=g??y,W={horizontal:{motionName:`${f}-slide-up`},inline:TF(f),other:{motionName:`${f}-zoom-big`}},Q=o("menu",m||a.prefixCls),ae=ll(Q),[Y,K,ee]=vQ(Q,ae,!r),de=Je(`${Q}-${E}`,u==null?void 0:u.className,b),q=w.useMemo(()=>{var he,fe;if(typeof c=="function"||FM(c))return c||null;if(typeof a.expandIcon=="function"||FM(a.expandIcon))return a.expandIcon||null;if(typeof(u==null?void 0:u.expandIcon)=="function"||FM(u==null?void 0:u.expandIcon))return(u==null?void 0:u.expandIcon)||null;const Z=(he=c??(a==null?void 0:a.expandIcon))!==null&&he!==void 0?he:u==null?void 0:u.expandIcon;return al(Z,{className:Je(`${Q}-submenu-expand-icon`,w.isValidElement(Z)?(fe=Z.props)===null||fe===void 0?void 0:fe.className:void 0)})},[c,a==null?void 0:a.expandIcon,u==null?void 0:u.expandIcon,Q]),ie=w.useMemo(()=>({prefixCls:Q,inlineCollapsed:J||!1,direction:s,firstLevel:!0,theme:E,mode:U,disableMenuItemTitleTooltip:p}),[Q,J,s,p,E]);return Y(w.createElement(cL.Provider,{value:null},w.createElement(V1.Provider,{value:ie},w.createElement(DS,Object.assign({getPopupContainer:l,overflowedIndicator:w.createElement(I$,null),overflowedIndicatorPopupClassName:Je(Q,`${Q}-${E}`,B),mode:U,selectable:$,onClick:z},F,{inlineCollapsed:J,style:Object.assign(Object.assign({},u==null?void 0:u.style),_),className:de,prefixCls:Q,direction:s,defaultMotions:W,expandIcon:q,ref:e,rootClassName:Je(C,K,a.rootClassName,ee,ae),_internalComponents:bQ})))))}),PS=w.forwardRef((n,e)=>{const t=w.useRef(null),r=w.useContext(Iw);return w.useImperativeHandle(e,()=>({menu:t.current,focus:a=>{var o;(o=t.current)===null||o===void 0||o.focus(a)}})),w.createElement(SQ,Object.assign({ref:t},n,r))});PS.Item=K4;PS.SubMenu=J4;PS.Divider=q4;PS.ItemGroup=eI;const Q4=w.createContext(null),_Q=Q4.Provider,Z4=w.createContext(null),xQ=Z4.Provider;var CQ=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],EQ=w.forwardRef(function(n,e){var t=n.prefixCls,r=t===void 0?"rc-checkbox":t,a=n.className,o=n.style,l=n.checked,s=n.disabled,u=n.defaultChecked,f=u===void 0?!1:u,m=n.type,b=m===void 0?"checkbox":m,_=n.title,E=n.onChange,c=kn(n,CQ),p=w.useRef(null),g=w.useRef(null),y=mo(f,{value:l}),C=vt(y,2),T=C[0],M=C[1];w.useImperativeHandle(e,function(){return{focus:function(F){var z;(z=p.current)===null||z===void 0||z.focus(F)},blur:function(){var F;(F=p.current)===null||F===void 0||F.blur()},input:p.current,nativeElement:g.current}});var O=Je(r,a,ue(ue({},"".concat(r,"-checked"),T),"".concat(r,"-disabled"),s)),B=function(F){s||("checked"in n||M(F.target.checked),E==null||E({target:Ne(Ne({},n),{},{type:b,checked:F.target.checked}),stopPropagation:function(){F.stopPropagation()},preventDefault:function(){F.preventDefault()},nativeEvent:F.nativeEvent}))};return w.createElement("span",{className:O,title:_,style:o,ref:g},w.createElement("input",Pt({},c,{className:"".concat(r,"-input"),ref:p,onChange:B,disabled:s,checked:!!T,type:b})),w.createElement("span",{className:"".concat(r,"-inner")}))});function wQ(n){const e=Xe.useRef(null),t=()=>{Da.cancel(e.current),e.current=null};return[()=>{t(),e.current=Da(()=>{e.current=null})},o=>{e.current&&(o.stopPropagation(),t()),n==null||n(o)}]}const AQ=n=>{const{componentCls:e,antCls:t}=n,r=`${e}-group`;return{[r]:Object.assign(Object.assign({},Fo(n)),{display:"inline-block",fontSize:0,[`&${r}-rtl`]:{direction:"rtl"},[`&${r}-block`]:{display:"flex"},[`${t}-badge ${t}-badge-count`]:{zIndex:1},[`> ${t}-badge:not(:first-child) > ${t}-button-wrapper`]:{borderInlineStart:"none"}})}},MQ=n=>{const{componentCls:e,wrapperMarginInlineEnd:t,colorPrimary:r,radioSize:a,motionDurationSlow:o,motionDurationMid:l,motionEaseInOutCirc:s,colorBgContainer:u,colorBorder:f,lineWidth:m,colorBgContainerDisabled:b,colorTextDisabled:_,paddingXS:E,dotColorDisabled:c,lineType:p,radioColor:g,radioBgColor:y,calc:C}=n,T=`${e}-inner`,O=C(a).sub(C(4).mul(2)),B=C(1).mul(a).equal({unit:!0});return{[`${e}-wrapper`]:Object.assign(Object.assign({},Fo(n)),{display:"inline-flex",alignItems:"baseline",marginInlineStart:0,marginInlineEnd:t,cursor:"pointer","&:last-child":{marginInlineEnd:0},[`&${e}-wrapper-rtl`]:{direction:"rtl"},"&-disabled":{cursor:"not-allowed",color:n.colorTextDisabled},"&::after":{display:"inline-block",width:0,overflow:"hidden",content:'"\\a0"'},"&-block":{flex:1,justifyContent:"center"},[`${e}-checked::after`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:"100%",height:"100%",border:`${Mt(m)} ${p} ${r}`,borderRadius:"50%",visibility:"hidden",opacity:0,content:'""'},[e]:Object.assign(Object.assign({},Fo(n)),{position:"relative",display:"inline-block",outline:"none",cursor:"pointer",alignSelf:"center",borderRadius:"50%"}),[`${e}-wrapper:hover &,
        &:hover ${T}`]:{borderColor:r},[`${e}-input:focus-visible + ${T}`]:Object.assign({},fw(n)),[`${e}:hover::after, ${e}-wrapper:hover &::after`]:{visibility:"visible"},[`${e}-inner`]:{"&::after":{boxSizing:"border-box",position:"absolute",insetBlockStart:"50%",insetInlineStart:"50%",display:"block",width:B,height:B,marginBlockStart:C(1).mul(a).div(-2).equal({unit:!0}),marginInlineStart:C(1).mul(a).div(-2).equal({unit:!0}),backgroundColor:g,borderBlockStart:0,borderInlineStart:0,borderRadius:B,transform:"scale(0)",opacity:0,transition:`all ${o} ${s}`,content:'""'},boxSizing:"border-box",position:"relative",insetBlockStart:0,insetInlineStart:0,display:"block",width:B,height:B,backgroundColor:u,borderColor:f,borderStyle:"solid",borderWidth:m,borderRadius:"50%",transition:`all ${l}`},[`${e}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0},[`${e}-checked`]:{[T]:{borderColor:r,backgroundColor:y,"&::after":{transform:`scale(${n.calc(n.dotSize).div(a).equal()})`,opacity:1,transition:`all ${o} ${s}`}}},[`${e}-disabled`]:{cursor:"not-allowed",[T]:{backgroundColor:b,borderColor:f,cursor:"not-allowed","&::after":{backgroundColor:c}},[`${e}-input`]:{cursor:"not-allowed"},[`${e}-disabled + span`]:{color:_,cursor:"not-allowed"},[`&${e}-checked`]:{[T]:{"&::after":{transform:`scale(${C(O).div(a).equal()})`}}}},[`span${e} + *`]:{paddingInlineStart:E,paddingInlineEnd:E}})}},TQ=n=>{const{buttonColor:e,controlHeight:t,componentCls:r,lineWidth:a,lineType:o,colorBorder:l,motionDurationSlow:s,motionDurationMid:u,buttonPaddingInline:f,fontSize:m,buttonBg:b,fontSizeLG:_,controlHeightLG:E,controlHeightSM:c,paddingXS:p,borderRadius:g,borderRadiusSM:y,borderRadiusLG:C,buttonCheckedBg:T,buttonSolidCheckedColor:M,colorTextDisabled:O,colorBgContainerDisabled:B,buttonCheckedBgDisabled:D,buttonCheckedColorDisabled:F,colorPrimary:z,colorPrimaryHover:U,colorPrimaryActive:$,buttonSolidCheckedBg:J,buttonSolidCheckedHoverBg:W,buttonSolidCheckedActiveBg:Q,calc:ae}=n;return{[`${r}-button-wrapper`]:{position:"relative",display:"inline-block",height:t,margin:0,paddingInline:f,paddingBlock:0,color:e,fontSize:m,lineHeight:Mt(ae(t).sub(ae(a).mul(2)).equal()),background:b,border:`${Mt(a)} ${o} ${l}`,borderBlockStartWidth:ae(a).add(.02).equal(),borderInlineStartWidth:0,borderInlineEndWidth:a,cursor:"pointer",transition:[`color ${u}`,`background ${u}`,`box-shadow ${u}`].join(","),a:{color:e},[`> ${r}-button`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:-1,width:"100%",height:"100%"},"&:not(:first-child)":{"&::before":{position:"absolute",insetBlockStart:ae(a).mul(-1).equal(),insetInlineStart:ae(a).mul(-1).equal(),display:"block",boxSizing:"content-box",width:1,height:"100%",paddingBlock:a,paddingInline:0,backgroundColor:l,transition:`background-color ${s}`,content:'""'}},"&:first-child":{borderInlineStart:`${Mt(a)} ${o} ${l}`,borderStartStartRadius:g,borderEndStartRadius:g},"&:last-child":{borderStartEndRadius:g,borderEndEndRadius:g},"&:first-child:last-child":{borderRadius:g},[`${r}-group-large &`]:{height:E,fontSize:_,lineHeight:Mt(ae(E).sub(ae(a).mul(2)).equal()),"&:first-child":{borderStartStartRadius:C,borderEndStartRadius:C},"&:last-child":{borderStartEndRadius:C,borderEndEndRadius:C}},[`${r}-group-small &`]:{height:c,paddingInline:ae(p).sub(a).equal(),paddingBlock:0,lineHeight:Mt(ae(c).sub(ae(a).mul(2)).equal()),"&:first-child":{borderStartStartRadius:y,borderEndStartRadius:y},"&:last-child":{borderStartEndRadius:y,borderEndEndRadius:y}},"&:hover":{position:"relative",color:z},"&:has(:focus-visible)":Object.assign({},fw(n)),[`${r}-inner, input[type='checkbox'], input[type='radio']`]:{width:0,height:0,opacity:0,pointerEvents:"none"},[`&-checked:not(${r}-button-wrapper-disabled)`]:{zIndex:1,color:z,background:T,borderColor:z,"&::before":{backgroundColor:z},"&:first-child":{borderColor:z},"&:hover":{color:U,borderColor:U,"&::before":{backgroundColor:U}},"&:active":{color:$,borderColor:$,"&::before":{backgroundColor:$}}},[`${r}-group-solid &-checked:not(${r}-button-wrapper-disabled)`]:{color:M,background:J,borderColor:J,"&:hover":{color:M,background:W,borderColor:W},"&:active":{color:M,background:Q,borderColor:Q}},"&-disabled":{color:O,backgroundColor:B,borderColor:l,cursor:"not-allowed","&:first-child, &:hover":{color:O,backgroundColor:B,borderColor:l}},[`&-disabled${r}-button-wrapper-checked`]:{color:F,backgroundColor:D,borderColor:l,boxShadow:"none"},"&-block":{flex:1,textAlign:"center"}}}},RQ=n=>{const{wireframe:e,padding:t,marginXS:r,lineWidth:a,fontSizeLG:o,colorText:l,colorBgContainer:s,colorTextDisabled:u,controlItemBgActiveDisabled:f,colorTextLightSolid:m,colorPrimary:b,colorPrimaryHover:_,colorPrimaryActive:E,colorWhite:c}=n,p=4,g=o,y=e?g-p*2:g-(p+a)*2;return{radioSize:g,dotSize:y,dotColorDisabled:u,buttonSolidCheckedColor:m,buttonSolidCheckedBg:b,buttonSolidCheckedHoverBg:_,buttonSolidCheckedActiveBg:E,buttonBg:s,buttonCheckedBg:s,buttonColor:l,buttonCheckedBgDisabled:f,buttonCheckedColorDisabled:u,buttonPaddingInline:t-a,wrapperMarginInlineEnd:r,radioColor:e?b:c,radioBgColor:e?s:b}},eH=Nr("Radio",n=>{const{controlOutline:e,controlOutlineWidth:t}=n,r=`0 0 0 ${Mt(t)} ${e}`,o=qi(n,{radioFocusShadow:r,radioButtonFocusShadow:r});return[AQ(o),MQ(o),TQ(o)]},RQ,{unitless:{radioSize:!0,dotSize:!0}});var OQ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const IQ=(n,e)=>{var t,r;const a=w.useContext(Q4),o=w.useContext(Z4),{getPrefixCls:l,direction:s,radio:u}=w.useContext(Hn),f=w.useRef(null),m=_f(e,f),{isFormItemInput:b}=w.useContext(gf),_=Y=>{var K,ee;(K=n.onChange)===null||K===void 0||K.call(n,Y),(ee=a==null?void 0:a.onChange)===null||ee===void 0||ee.call(a,Y)},{prefixCls:E,className:c,rootClassName:p,children:g,style:y,title:C}=n,T=OQ(n,["prefixCls","className","rootClassName","children","style","title"]),M=l("radio",E),O=((a==null?void 0:a.optionType)||o)==="button",B=O?`${M}-button`:M,D=ll(M),[F,z,U]=eH(M,D),$=Object.assign({},T),J=w.useContext(Zu);a&&($.name=a.name,$.onChange=_,$.checked=n.value===a.value,$.disabled=(t=$.disabled)!==null&&t!==void 0?t:a.disabled),$.disabled=(r=$.disabled)!==null&&r!==void 0?r:J;const W=Je(`${B}-wrapper`,{[`${B}-wrapper-checked`]:$.checked,[`${B}-wrapper-disabled`]:$.disabled,[`${B}-wrapper-rtl`]:s==="rtl",[`${B}-wrapper-in-form-item`]:b,[`${B}-wrapper-block`]:!!(a!=null&&a.block)},u==null?void 0:u.className,c,p,z,U,D),[Q,ae]=wQ($.onClick);return F(w.createElement(mw,{component:"Radio",disabled:$.disabled},w.createElement("label",{className:W,style:Object.assign(Object.assign({},u==null?void 0:u.style),y),onMouseEnter:n.onMouseEnter,onMouseLeave:n.onMouseLeave,title:C,onClick:Q},w.createElement(EQ,Object.assign({},$,{className:Je($.className,{[FO]:!O}),type:"radio",prefixCls:B,ref:m,onClick:ae})),g!==void 0?w.createElement("span",{className:`${B}-label`},g):null)))},j1=w.forwardRef(IQ),BQ=w.forwardRef((n,e)=>{const{getPrefixCls:t,direction:r}=w.useContext(Hn),a=ww(),{prefixCls:o,className:l,rootClassName:s,options:u,buttonStyle:f="outline",disabled:m,children:b,size:_,style:E,id:c,optionType:p,name:g=a,defaultValue:y,value:C,block:T=!1,onChange:M,onMouseEnter:O,onMouseLeave:B,onFocus:D,onBlur:F}=n,[z,U]=mo(y,{value:C}),$=w.useCallback(he=>{const fe=z,Z=he.target.value;"value"in n||U(Z),Z!==fe&&(M==null||M(he))},[z,U,M]),J=t("radio",o),W=`${J}-group`,Q=ll(J),[ae,Y,K]=eH(J,Q);let ee=b;u&&u.length>0&&(ee=u.map(he=>typeof he=="string"||typeof he=="number"?w.createElement(j1,{key:he.toString(),prefixCls:J,disabled:m,value:he,checked:z===he},he):w.createElement(j1,{key:`radio-group-value-options-${he.value}`,prefixCls:J,disabled:he.disabled||m,value:he.value,checked:z===he.value,title:he.title,style:he.style,id:he.id,required:he.required},he.label)));const de=Cf(_),q=Je(W,`${W}-${f}`,{[`${W}-${de}`]:de,[`${W}-rtl`]:r==="rtl",[`${W}-block`]:T},l,s,Y,K,Q),ie=w.useMemo(()=>({onChange:$,value:z,disabled:m,name:g,optionType:p,block:T}),[$,z,m,g,p,T]);return ae(w.createElement("div",Object.assign({},Gm(n,{aria:!0,data:!0}),{className:q,style:E,onMouseEnter:O,onMouseLeave:B,onFocus:D,onBlur:F,id:c,ref:e}),w.createElement(_Q,{value:ie},ee)))}),DQ=w.memo(BQ);var PQ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const LQ=(n,e)=>{const{getPrefixCls:t}=w.useContext(Hn),{prefixCls:r}=n,a=PQ(n,["prefixCls"]),o=t("radio",r);return w.createElement(xQ,{value:"button"},w.createElement(j1,Object.assign({prefixCls:o},a,{type:"radio",ref:e})))},NQ=w.forwardRef(LQ),hm=j1;hm.Button=NQ;hm.Group=DQ;hm.__ANT_RADIO=!0;function Bw(n){return qi(n,{inputAffixPadding:n.paddingXXS})}const Dw=n=>{const{controlHeight:e,fontSize:t,lineHeight:r,lineWidth:a,controlHeightSM:o,controlHeightLG:l,fontSizeLG:s,lineHeightLG:u,paddingSM:f,controlPaddingHorizontalSM:m,controlPaddingHorizontal:b,colorFillAlter:_,colorPrimaryHover:E,colorPrimary:c,controlOutlineWidth:p,controlOutline:g,colorErrorOutline:y,colorWarningOutline:C,colorBgContainer:T,inputFontSize:M,inputFontSizeLG:O,inputFontSizeSM:B}=n,D=M||t,F=B||D,z=O||s,U=Math.round((e-D*r)/2*10)/10-a,$=Math.round((o-F*r)/2*10)/10-a,J=Math.ceil((l-z*u)/2*10)/10-a;return{paddingBlock:Math.max(U,0),paddingBlockSM:Math.max($,0),paddingBlockLG:Math.max(J,0),paddingInline:f-a,paddingInlineSM:m-a,paddingInlineLG:b-a,addonBg:_,activeBorderColor:c,hoverBorderColor:E,activeShadow:`0 0 0 ${p}px ${g}`,errorActiveShadow:`0 0 0 ${p}px ${y}`,warningActiveShadow:`0 0 0 ${p}px ${C}`,hoverBg:T,activeBg:T,inputFontSize:D,inputFontSizeLG:z,inputFontSizeSM:F}},zQ=n=>({borderColor:n.hoverBorderColor,backgroundColor:n.hoverBg}),tI=n=>({color:n.colorTextDisabled,backgroundColor:n.colorBgContainerDisabled,borderColor:n.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"input[disabled], textarea[disabled]":{cursor:"not-allowed"},"&:hover:not([disabled])":Object.assign({},zQ(qi(n,{hoverBorderColor:n.colorBorder,hoverBg:n.colorBgContainerDisabled})))}),tH=(n,e)=>({background:n.colorBgContainer,borderWidth:n.lineWidth,borderStyle:n.lineType,borderColor:e.borderColor,"&:hover":{borderColor:e.hoverBorderColor,backgroundColor:n.hoverBg},"&:focus, &:focus-within":{borderColor:e.activeBorderColor,boxShadow:e.activeShadow,outline:0,backgroundColor:n.activeBg}}),mL=(n,e)=>({[`&${n.componentCls}-status-${e.status}:not(${n.componentCls}-disabled)`]:Object.assign(Object.assign({},tH(n,e)),{[`${n.componentCls}-prefix, ${n.componentCls}-suffix`]:{color:e.affixColor}}),[`&${n.componentCls}-status-${e.status}${n.componentCls}-disabled`]:{borderColor:e.borderColor}}),UQ=(n,e)=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},tH(n,{borderColor:n.colorBorder,hoverBorderColor:n.hoverBorderColor,activeBorderColor:n.activeBorderColor,activeShadow:n.activeShadow})),{[`&${n.componentCls}-disabled, &[disabled]`]:Object.assign({},tI(n))}),mL(n,{status:"error",borderColor:n.colorError,hoverBorderColor:n.colorErrorBorderHover,activeBorderColor:n.colorError,activeShadow:n.errorActiveShadow,affixColor:n.colorError})),mL(n,{status:"warning",borderColor:n.colorWarning,hoverBorderColor:n.colorWarningBorderHover,activeBorderColor:n.colorWarning,activeShadow:n.warningActiveShadow,affixColor:n.colorWarning})),e)}),gL=(n,e)=>({[`&${n.componentCls}-group-wrapper-status-${e.status}`]:{[`${n.componentCls}-group-addon`]:{borderColor:e.addonBorderColor,color:e.addonColor}}}),FQ=n=>({"&-outlined":Object.assign(Object.assign(Object.assign({[`${n.componentCls}-group`]:{"&-addon":{background:n.addonBg,border:`${Mt(n.lineWidth)} ${n.lineType} ${n.colorBorder}`},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}}},gL(n,{status:"error",addonBorderColor:n.colorError,addonColor:n.colorErrorText})),gL(n,{status:"warning",addonBorderColor:n.colorWarning,addonColor:n.colorWarningText})),{[`&${n.componentCls}-group-wrapper-disabled`]:{[`${n.componentCls}-group-addon`]:Object.assign({},tI(n))}})}),HQ=(n,e)=>{const{componentCls:t}=n;return{"&-borderless":Object.assign({background:"transparent",border:"none","&:focus, &:focus-within":{outline:"none"},[`&${t}-disabled, &[disabled]`]:{color:n.colorTextDisabled,cursor:"not-allowed"},[`&${t}-status-error`]:{"&, & input, & textarea":{color:n.colorError}},[`&${t}-status-warning`]:{"&, & input, & textarea":{color:n.colorWarning}}},e)}},nH=(n,e)=>({background:e.bg,borderWidth:n.lineWidth,borderStyle:n.lineType,borderColor:"transparent","input&, & input, textarea&, & textarea":{color:e==null?void 0:e.inputColor},"&:hover":{background:e.hoverBg},"&:focus, &:focus-within":{outline:0,borderColor:e.activeBorderColor,backgroundColor:n.activeBg}}),vL=(n,e)=>({[`&${n.componentCls}-status-${e.status}:not(${n.componentCls}-disabled)`]:Object.assign(Object.assign({},nH(n,e)),{[`${n.componentCls}-prefix, ${n.componentCls}-suffix`]:{color:e.affixColor}})}),GQ=(n,e)=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},nH(n,{bg:n.colorFillTertiary,hoverBg:n.colorFillSecondary,activeBorderColor:n.activeBorderColor})),{[`&${n.componentCls}-disabled, &[disabled]`]:Object.assign({},tI(n))}),vL(n,{status:"error",bg:n.colorErrorBg,hoverBg:n.colorErrorBgHover,activeBorderColor:n.colorError,inputColor:n.colorErrorText,affixColor:n.colorError})),vL(n,{status:"warning",bg:n.colorWarningBg,hoverBg:n.colorWarningBgHover,activeBorderColor:n.colorWarning,inputColor:n.colorWarningText,affixColor:n.colorWarning})),e)}),yL=(n,e)=>({[`&${n.componentCls}-group-wrapper-status-${e.status}`]:{[`${n.componentCls}-group-addon`]:{background:e.addonBg,color:e.addonColor}}}),kQ=n=>({"&-filled":Object.assign(Object.assign(Object.assign({[`${n.componentCls}-group`]:{"&-addon":{background:n.colorFillTertiary},[`${n.componentCls}-filled:not(:focus):not(:focus-within)`]:{"&:not(:first-child)":{borderInlineStart:`${Mt(n.lineWidth)} ${n.lineType} ${n.colorSplit}`},"&:not(:last-child)":{borderInlineEnd:`${Mt(n.lineWidth)} ${n.lineType} ${n.colorSplit}`}}}},yL(n,{status:"error",addonBg:n.colorErrorBg,addonColor:n.colorErrorText})),yL(n,{status:"warning",addonBg:n.colorWarningBg,addonColor:n.colorWarningText})),{[`&${n.componentCls}-group-wrapper-disabled`]:{[`${n.componentCls}-group`]:{"&-addon":{background:n.colorFillTertiary,color:n.colorTextDisabled},"&-addon:first-child":{borderInlineStart:`${Mt(n.lineWidth)} ${n.lineType} ${n.colorBorder}`,borderTop:`${Mt(n.lineWidth)} ${n.lineType} ${n.colorBorder}`,borderBottom:`${Mt(n.lineWidth)} ${n.lineType} ${n.colorBorder}`},"&-addon:last-child":{borderInlineEnd:`${Mt(n.lineWidth)} ${n.lineType} ${n.colorBorder}`,borderTop:`${Mt(n.lineWidth)} ${n.lineType} ${n.colorBorder}`,borderBottom:`${Mt(n.lineWidth)} ${n.lineType} ${n.colorBorder}`}}}})}),iH=(n,e)=>({background:n.colorBgContainer,borderWidth:`${Mt(n.lineWidth)} 0`,borderStyle:`${n.lineType} none`,borderColor:`transparent transparent ${e.borderColor} transparent`,borderRadius:0,"&:hover":{borderColor:`transparent transparent ${e.borderColor} transparent`,backgroundColor:n.hoverBg},"&:focus, &:focus-within":{borderColor:`transparent transparent ${e.borderColor} transparent`,outline:0,backgroundColor:n.activeBg}}),bL=(n,e)=>({[`&${n.componentCls}-status-${e.status}:not(${n.componentCls}-disabled)`]:Object.assign(Object.assign({},iH(n,e)),{[`${n.componentCls}-prefix, ${n.componentCls}-suffix`]:{color:e.affixColor}}),[`&${n.componentCls}-status-${e.status}${n.componentCls}-disabled`]:{borderColor:`transparent transparent ${e.borderColor} transparent`}}),$Q=(n,e)=>({"&-underlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},iH(n,{borderColor:n.colorBorder,hoverBorderColor:n.hoverBorderColor,activeBorderColor:n.activeBorderColor,activeShadow:n.activeShadow})),{[`&${n.componentCls}-disabled, &[disabled]`]:{color:n.colorTextDisabled,boxShadow:"none",cursor:"not-allowed","&:hover":{borderColor:`transparent transparent ${n.colorBorder} transparent`}},"input[disabled], textarea[disabled]":{cursor:"not-allowed"}}),bL(n,{status:"error",borderColor:n.colorError,hoverBorderColor:n.colorErrorBorderHover,activeBorderColor:n.colorError,activeShadow:n.errorActiveShadow,affixColor:n.colorError})),bL(n,{status:"warning",borderColor:n.colorWarning,hoverBorderColor:n.colorWarningBorderHover,activeBorderColor:n.colorWarning,activeShadow:n.warningActiveShadow,affixColor:n.colorWarning})),e)}),VQ=n=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:n,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),rH=n=>{const{paddingBlockLG:e,lineHeightLG:t,borderRadiusLG:r,paddingInlineLG:a}=n;return{padding:`${Mt(e)} ${Mt(a)}`,fontSize:n.inputFontSizeLG,lineHeight:t,borderRadius:r}},aH=n=>({padding:`${Mt(n.paddingBlockSM)} ${Mt(n.paddingInlineSM)}`,fontSize:n.inputFontSizeSM,borderRadius:n.borderRadiusSM}),oH=n=>Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${Mt(n.paddingBlock)} ${Mt(n.paddingInline)}`,color:n.colorText,fontSize:n.inputFontSize,lineHeight:n.lineHeight,borderRadius:n.borderRadius,transition:`all ${n.motionDurationMid}`},VQ(n.colorTextPlaceholder)),{"textarea&":{maxWidth:"100%",height:"auto",minHeight:n.controlHeight,lineHeight:n.lineHeight,verticalAlign:"bottom",transition:`all ${n.motionDurationSlow}, height 0s`,resize:"vertical"},"&-lg":Object.assign({},rH(n)),"&-sm":Object.assign({},aH(n)),"&-rtl, &-textarea-rtl":{direction:"rtl"}}),jQ=n=>{const{componentCls:e,antCls:t}=n;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:n.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${e}, &-lg > ${e}-group-addon`]:Object.assign({},rH(n)),[`&-sm ${e}, &-sm > ${e}-group-addon`]:Object.assign({},aH(n)),[`&-lg ${t}-select-single ${t}-select-selector`]:{height:n.controlHeightLG},[`&-sm ${t}-select-single ${t}-select-selector`]:{height:n.controlHeightSM},[`> ${e}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${e}-group`]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${Mt(n.paddingInline)}`,color:n.colorText,fontWeight:"normal",fontSize:n.inputFontSize,textAlign:"center",borderRadius:n.borderRadius,transition:`all ${n.motionDurationSlow}`,lineHeight:1,[`${t}-select`]:{margin:`${Mt(n.calc(n.paddingBlock).add(1).mul(-1).equal())} ${Mt(n.calc(n.paddingInline).mul(-1).equal())}`,[`&${t}-select-single:not(${t}-select-customize-input):not(${t}-pagination-size-changer)`]:{[`${t}-select-selector`]:{backgroundColor:"inherit",border:`${Mt(n.lineWidth)} ${n.lineType} transparent`,boxShadow:"none"}}},[`${t}-cascader-picker`]:{margin:`-9px ${Mt(n.calc(n.paddingInline).mul(-1).equal())}`,backgroundColor:"transparent",[`${t}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}}},[e]:{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,[`${e}-search-with-button &`]:{zIndex:0}}},[`> ${e}:first-child, ${e}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${t}-select ${t}-select-selector`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${e}-affix-wrapper`]:{[`&:not(:first-child) ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${e}:last-child, ${e}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${t}-select ${t}-select-selector`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${e}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,[`${e}-search &`]:{borderStartStartRadius:n.borderRadius,borderEndStartRadius:n.borderRadius}},[`&:not(:first-child), ${e}-search &:not(:first-child)`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&${e}-group-compact`]:Object.assign(Object.assign({display:"block"},f0()),{[`${e}-group-addon, ${e}-group-wrap, > ${e}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:n.lineWidth,"&:hover, &:focus":{zIndex:1}}},"& > *":{display:"inline-flex",float:"none",verticalAlign:"top",borderRadius:0},[`
        & > ${e}-affix-wrapper,
        & > ${e}-number-affix-wrapper,
        & > ${t}-picker-range
      `]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:n.calc(n.lineWidth).mul(-1).equal(),borderInlineEndWidth:n.lineWidth},[e]:{float:"none"},[`& > ${t}-select > ${t}-select-selector,
      & > ${t}-select-auto-complete ${e},
      & > ${t}-cascader-picker ${e},
      & > ${e}-group-wrapper ${e}`]:{borderInlineEndWidth:n.lineWidth,borderRadius:0,"&:hover, &:focus":{zIndex:1}},[`& > ${t}-select-focused`]:{zIndex:1},[`& > ${t}-select > ${t}-select-arrow`]:{zIndex:1},[`& > *:first-child,
      & > ${t}-select:first-child > ${t}-select-selector,
      & > ${t}-select-auto-complete:first-child ${e},
      & > ${t}-cascader-picker:first-child ${e}`]:{borderStartStartRadius:n.borderRadius,borderEndStartRadius:n.borderRadius},[`& > *:last-child,
      & > ${t}-select:last-child > ${t}-select-selector,
      & > ${t}-cascader-picker:last-child ${e},
      & > ${t}-cascader-picker-focused:last-child ${e}`]:{borderInlineEndWidth:n.lineWidth,borderStartEndRadius:n.borderRadius,borderEndEndRadius:n.borderRadius},[`& > ${t}-select-auto-complete ${e}`]:{verticalAlign:"top"},[`${e}-group-wrapper + ${e}-group-wrapper`]:{marginInlineStart:n.calc(n.lineWidth).mul(-1).equal(),[`${e}-affix-wrapper`]:{borderRadius:0}},[`${e}-group-wrapper:not(:last-child)`]:{[`&${e}-search > ${e}-group`]:{[`& > ${e}-group-addon > ${e}-search-button`]:{borderRadius:0},[`& > ${e}`]:{borderStartStartRadius:n.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:n.borderRadius}}}})}},WQ=n=>{const{componentCls:e,controlHeightSM:t,lineWidth:r,calc:a}=n,l=a(t).sub(a(r).mul(2)).sub(16).div(2).equal();return{[e]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Fo(n)),oH(n)),UQ(n)),GQ(n)),HQ(n)),$Q(n)),{'&[type="color"]':{height:n.controlHeight,[`&${e}-lg`]:{height:n.controlHeightLG},[`&${e}-sm`]:{height:t,paddingTop:l,paddingBottom:l}},'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{"-webkit-appearance":"none"}})}},XQ=n=>{const{componentCls:e}=n;return{[`${e}-clear-icon`]:{margin:0,padding:0,lineHeight:0,color:n.colorTextQuaternary,fontSize:n.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${n.motionDurationSlow}`,border:"none",outline:"none",backgroundColor:"transparent","&:hover":{color:n.colorTextTertiary},"&:active":{color:n.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${Mt(n.inputAffixPadding)}`}}}},YQ=n=>{const{componentCls:e,inputAffixPadding:t,colorTextDescription:r,motionDurationSlow:a,colorIcon:o,colorIconHover:l,iconCls:s}=n,u=`${e}-affix-wrapper`,f=`${e}-affix-wrapper-disabled`;return{[u]:Object.assign(Object.assign(Object.assign(Object.assign({},oH(n)),{display:"inline-flex",[`&:not(${e}-disabled):hover`]:{zIndex:1,[`${e}-search-with-button &`]:{zIndex:0}},"&-focused, &:focus":{zIndex:1},[`> input${e}`]:{padding:0},[`> input${e}, > textarea${e}`]:{fontSize:"inherit",border:"none",borderRadius:0,outline:"none",background:"transparent",color:"inherit","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[e]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:n.paddingXS}},"&-show-count-suffix":{color:r},"&-show-count-has-suffix":{marginInlineEnd:n.paddingXXS},"&-prefix":{marginInlineEnd:t},"&-suffix":{marginInlineStart:t}}}),XQ(n)),{[`${s}${e}-password-icon`]:{color:o,cursor:"pointer",transition:`all ${a}`,"&:hover":{color:l}}}),[`${e}-underlined`]:{borderRadius:0},[f]:{[`${s}${e}-password-icon`]:{color:o,cursor:"not-allowed","&:hover":{color:o}}}}},qQ=n=>{const{componentCls:e,borderRadiusLG:t,borderRadiusSM:r}=n;return{[`${e}-group`]:Object.assign(Object.assign(Object.assign({},Fo(n)),jQ(n)),{"&-rtl":{direction:"rtl"},"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${e}-group-addon`]:{borderRadius:t,fontSize:n.inputFontSizeLG}},"&-sm":{[`${e}-group-addon`]:{borderRadius:r}}},FQ(n)),kQ(n)),{[`&:not(${e}-compact-first-item):not(${e}-compact-last-item)${e}-compact-item`]:{[`${e}, ${e}-group-addon`]:{borderRadius:0}},[`&:not(${e}-compact-last-item)${e}-compact-first-item`]:{[`${e}, ${e}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${e}-compact-first-item)${e}-compact-last-item`]:{[`${e}, ${e}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&:not(${e}-compact-last-item)${e}-compact-item`]:{[`${e}-affix-wrapper`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${e}-compact-first-item)${e}-compact-item`]:{[`${e}-affix-wrapper`]:{borderStartStartRadius:0,borderEndStartRadius:0}}})})}},KQ=n=>{const{componentCls:e,antCls:t}=n,r=`${e}-search`;return{[r]:{[e]:{"&:hover, &:focus":{[`+ ${e}-group-addon ${r}-button:not(${t}-btn-primary)`]:{borderInlineStartColor:n.colorPrimaryHover}}},[`${e}-affix-wrapper`]:{height:n.controlHeight,borderRadius:0},[`${e}-lg`]:{lineHeight:n.calc(n.lineHeightLG).sub(2e-4).equal()},[`> ${e}-group`]:{[`> ${e}-group-addon:last-child`]:{insetInlineStart:-1,padding:0,border:0,[`${r}-button`]:{marginInlineEnd:-1,borderStartStartRadius:0,borderEndStartRadius:0,boxShadow:"none"},[`${r}-button:not(${t}-btn-primary)`]:{color:n.colorTextDescription,"&:hover":{color:n.colorPrimaryHover},"&:active":{color:n.colorPrimaryActive},[`&${t}-btn-loading::before`]:{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0}}}},[`${r}-button`]:{height:n.controlHeight,"&:hover, &:focus":{zIndex:1}},"&-large":{[`${e}-affix-wrapper, ${r}-button`]:{height:n.controlHeightLG}},"&-small":{[`${e}-affix-wrapper, ${r}-button`]:{height:n.controlHeightSM}},"&-rtl":{direction:"rtl"},[`&${e}-compact-item`]:{[`&:not(${e}-compact-last-item)`]:{[`${e}-group-addon`]:{[`${e}-search-button`]:{marginInlineEnd:n.calc(n.lineWidth).mul(-1).equal(),borderRadius:0}}},[`&:not(${e}-compact-first-item)`]:{[`${e},${e}-affix-wrapper`]:{borderRadius:0}},[`> ${e}-group-addon ${e}-search-button,
        > ${e},
        ${e}-affix-wrapper`]:{"&:hover, &:focus, &:active":{zIndex:2}},[`> ${e}-affix-wrapper-focused`]:{zIndex:2}}}}},JQ=n=>{const{componentCls:e}=n;return{[`${e}-out-of-range`]:{[`&, & input, & textarea, ${e}-show-count-suffix, ${e}-data-count`]:{color:n.colorError}}}},sH=Nr(["Input","Shared"],n=>{const e=qi(n,Bw(n));return[WQ(e),YQ(e)]},Dw,{resetFont:!1}),lH=Nr(["Input","Component"],n=>{const e=qi(n,Bw(n));return[qQ(e),KQ(e),JQ(e),zF(e)]},Dw,{resetFont:!1});function QQ(n,e,t){var r=t||{},a=r.noTrailing,o=a===void 0?!1:a,l=r.noLeading,s=l===void 0?!1:l,u=r.debounceMode,f=u===void 0?void 0:u,m,b=!1,_=0;function E(){m&&clearTimeout(m)}function c(g){var y=g||{},C=y.upcomingOnly,T=C===void 0?!1:C;E(),b=!T}function p(){for(var g=arguments.length,y=new Array(g),C=0;C<g;C++)y[C]=arguments[C];var T=this,M=Date.now()-_;if(b)return;function O(){_=Date.now(),e.apply(T,y)}function B(){m=void 0}!s&&f&&!m&&O(),E(),f===void 0&&M>n?s?(_=Date.now(),o||(m=setTimeout(f?B:O,n))):O():o!==!0&&(m=setTimeout(f?B:O,f===void 0?n-M:n))}return p.cancel=c,p}function ZQ(n,e,t){var r={},a=r.atBegin,o=a===void 0?!1:a;return QQ(n,e,{debounceMode:o!==!1})}const cH=w.createContext({});var eZ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};function SL(n){return typeof n=="number"?`${n} ${n} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(n)?`0 0 ${n}`:n}const tZ=["xs","sm","md","lg","xl","xxl"],yr=w.forwardRef((n,e)=>{const{getPrefixCls:t,direction:r}=w.useContext(Hn),{gutter:a,wrap:o}=w.useContext(cH),{prefixCls:l,span:s,order:u,offset:f,push:m,pull:b,className:_,children:E,flex:c,style:p}=n,g=eZ(n,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),y=t("col",l),[C,T,M]=eK(y),O={};let B={};tZ.forEach(z=>{let U={};const $=n[z];typeof $=="number"?U.span=$:typeof $=="object"&&(U=$||{}),delete g[z],B=Object.assign(Object.assign({},B),{[`${y}-${z}-${U.span}`]:U.span!==void 0,[`${y}-${z}-order-${U.order}`]:U.order||U.order===0,[`${y}-${z}-offset-${U.offset}`]:U.offset||U.offset===0,[`${y}-${z}-push-${U.push}`]:U.push||U.push===0,[`${y}-${z}-pull-${U.pull}`]:U.pull||U.pull===0,[`${y}-rtl`]:r==="rtl"}),U.flex&&(B[`${y}-${z}-flex`]=!0,O[`--${y}-${z}-flex`]=SL(U.flex))});const D=Je(y,{[`${y}-${s}`]:s!==void 0,[`${y}-order-${u}`]:u,[`${y}-offset-${f}`]:f,[`${y}-push-${m}`]:m,[`${y}-pull-${b}`]:b},_,B,T,M),F={};if(a&&a[0]>0){const z=a[0]/2;F.paddingLeft=z,F.paddingRight=z}return c&&(F.flex=SL(c),o===!1&&!F.minWidth&&(F.minWidth=0)),C(w.createElement("div",Object.assign({},g,{style:Object.assign(Object.assign(Object.assign({},F),p),O),className:D,ref:e}),E))});function nZ(n,e){const t=[void 0,void 0],r=Array.isArray(n)?n:[n,void 0],a=e||{xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0};return r.forEach((o,l)=>{if(typeof o=="object"&&o!==null)for(let s=0;s<p0.length;s++){const u=p0[s];if(a[u]&&o[u]!==void 0){t[l]=o[u];break}}else t[l]=o}),t}var iZ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};function _L(n,e){const[t,r]=w.useState(typeof n=="string"?n:""),a=()=>{if(typeof n=="string"&&r(n),typeof n=="object")for(let o=0;o<p0.length;o++){const l=p0[o];if(!e||!e[l])continue;const s=n[l];if(s!==void 0){r(s);return}}};return w.useEffect(()=>{a()},[JSON.stringify(n),e]),t}const Xu=w.forwardRef((n,e)=>{const{prefixCls:t,justify:r,align:a,className:o,style:l,children:s,gutter:u=0,wrap:f}=n,m=iZ(n,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:b,direction:_}=w.useContext(Hn),E=S4(!0,null),c=_L(a,E),p=_L(r,E),g=b("row",t),[y,C,T]=Zq(g),M=nZ(u,E),O=Je(g,{[`${g}-no-wrap`]:f===!1,[`${g}-${p}`]:p,[`${g}-${c}`]:c,[`${g}-rtl`]:_==="rtl"},o,C,T),B={},D=M[0]!=null&&M[0]>0?M[0]/-2:void 0;D&&(B.marginLeft=D,B.marginRight=D);const[F,z]=M;B.rowGap=z;const U=w.useMemo(()=>({gutter:[F,z],wrap:f}),[F,z,f]);return y(w.createElement(cH.Provider,{value:U},w.createElement("div",Object.assign({},m,{className:O,style:Object.assign(Object.assign({},B),l),ref:e}),s)))});function rZ(n){return!!(n.addonBefore||n.addonAfter)}function aZ(n){return!!(n.prefix||n.suffix||n.allowClear)}function xL(n,e,t){var r=e.cloneNode(!0),a=Object.create(n,{target:{value:r},currentTarget:{value:r}});return r.value=t,typeof e.selectionStart=="number"&&typeof e.selectionEnd=="number"&&(r.selectionStart=e.selectionStart,r.selectionEnd=e.selectionEnd),r.setSelectionRange=function(){e.setSelectionRange.apply(e,arguments)},a}function W1(n,e,t,r){if(t){var a=e;if(e.type==="click"){a=xL(e,n,""),t(a);return}if(n.type!=="file"&&r!==void 0){a=xL(e,n,r),t(a);return}t(a)}}function uH(n,e){if(n){n.focus(e);var t=e||{},r=t.cursor;if(r){var a=n.value.length;switch(r){case"start":n.setSelectionRange(0,0);break;case"end":n.setSelectionRange(a,a);break;default:n.setSelectionRange(0,a)}}}}var dH=Xe.forwardRef(function(n,e){var t,r,a,o=n.inputElement,l=n.children,s=n.prefixCls,u=n.prefix,f=n.suffix,m=n.addonBefore,b=n.addonAfter,_=n.className,E=n.style,c=n.disabled,p=n.readOnly,g=n.focused,y=n.triggerFocus,C=n.allowClear,T=n.value,M=n.handleReset,O=n.hidden,B=n.classes,D=n.classNames,F=n.dataAttrs,z=n.styles,U=n.components,$=n.onClear,J=l??o,W=(U==null?void 0:U.affixWrapper)||"span",Q=(U==null?void 0:U.groupWrapper)||"span",ae=(U==null?void 0:U.wrapper)||"span",Y=(U==null?void 0:U.groupAddon)||"span",K=w.useRef(null),ee=function(Fe){var Ie;(Ie=K.current)!==null&&Ie!==void 0&&Ie.contains(Fe.target)&&(y==null||y())},de=aZ(n),q=w.cloneElement(J,{value:T,className:Je((t=J.props)===null||t===void 0?void 0:t.className,!de&&(D==null?void 0:D.variant))||null}),ie=w.useRef(null);if(Xe.useImperativeHandle(e,function(){return{nativeElement:ie.current||K.current}}),de){var he=null;if(C){var fe=!c&&!p&&T,Z="".concat(s,"-clear-icon"),pe=mn(C)==="object"&&C!==null&&C!==void 0&&C.clearIcon?C.clearIcon:"";he=Xe.createElement("button",{type:"button",tabIndex:-1,onClick:function(Fe){M==null||M(Fe),$==null||$()},onMouseDown:function(Fe){return Fe.preventDefault()},className:Je(Z,ue(ue({},"".concat(Z,"-hidden"),!fe),"".concat(Z,"-has-suffix"),!!f))},pe)}var xe="".concat(s,"-affix-wrapper"),Oe=Je(xe,ue(ue(ue(ue(ue({},"".concat(s,"-disabled"),c),"".concat(xe,"-disabled"),c),"".concat(xe,"-focused"),g),"".concat(xe,"-readonly"),p),"".concat(xe,"-input-with-clear-btn"),f&&C&&T),B==null?void 0:B.affixWrapper,D==null?void 0:D.affixWrapper,D==null?void 0:D.variant),Ae=(f||C)&&Xe.createElement("span",{className:Je("".concat(s,"-suffix"),D==null?void 0:D.suffix),style:z==null?void 0:z.suffix},he,f);q=Xe.createElement(W,Pt({className:Oe,style:z==null?void 0:z.affixWrapper,onClick:ee},F==null?void 0:F.affixWrapper,{ref:K}),u&&Xe.createElement("span",{className:Je("".concat(s,"-prefix"),D==null?void 0:D.prefix),style:z==null?void 0:z.prefix},u),q,Ae)}if(rZ(n)){var Te="".concat(s,"-group"),ze="".concat(Te,"-addon"),yt="".concat(Te,"-wrapper"),Be=Je("".concat(s,"-wrapper"),Te,B==null?void 0:B.wrapper,D==null?void 0:D.wrapper),Ce=Je(yt,ue({},"".concat(yt,"-disabled"),c),B==null?void 0:B.group,D==null?void 0:D.groupWrapper);q=Xe.createElement(Q,{className:Ce,ref:ie},Xe.createElement(ae,{className:Be},m&&Xe.createElement(Y,{className:ze},m),q,b&&Xe.createElement(Y,{className:ze},b)))}return Xe.cloneElement(q,{className:Je((r=q.props)===null||r===void 0?void 0:r.className,_)||null,style:Ne(Ne({},(a=q.props)===null||a===void 0?void 0:a.style),E),hidden:O})}),oZ=["show"];function fH(n,e){return w.useMemo(function(){var t={};e&&(t.show=mn(e)==="object"&&e.formatter?e.formatter:!!e),t=Ne(Ne({},t),n);var r=t,a=r.show,o=kn(r,oZ);return Ne(Ne({},o),{},{show:!!a,showFormatter:typeof a=="function"?a:void 0,strategy:o.strategy||function(l){return l.length}})},[n,e])}var sZ=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","onKeyUp","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"],lZ=w.forwardRef(function(n,e){var t=n.autoComplete,r=n.onChange,a=n.onFocus,o=n.onBlur,l=n.onPressEnter,s=n.onKeyDown,u=n.onKeyUp,f=n.prefixCls,m=f===void 0?"rc-input":f,b=n.disabled,_=n.htmlSize,E=n.className,c=n.maxLength,p=n.suffix,g=n.showCount,y=n.count,C=n.type,T=C===void 0?"text":C,M=n.classes,O=n.classNames,B=n.styles,D=n.onCompositionStart,F=n.onCompositionEnd,z=kn(n,sZ),U=w.useState(!1),$=vt(U,2),J=$[0],W=$[1],Q=w.useRef(!1),ae=w.useRef(!1),Y=w.useRef(null),K=w.useRef(null),ee=function(De){Y.current&&uH(Y.current,De)},de=mo(n.defaultValue,{value:n.value}),q=vt(de,2),ie=q[0],he=q[1],fe=ie==null?"":String(ie),Z=w.useState(null),pe=vt(Z,2),xe=pe[0],Oe=pe[1],Ae=fH(y,g),Te=Ae.max||c,ze=Ae.strategy(fe),yt=!!Te&&ze>Te;w.useImperativeHandle(e,function(){var we;return{focus:ee,blur:function(){var Ke;(Ke=Y.current)===null||Ke===void 0||Ke.blur()},setSelectionRange:function(Ke,He,gt){var lt;(lt=Y.current)===null||lt===void 0||lt.setSelectionRange(Ke,He,gt)},select:function(){var Ke;(Ke=Y.current)===null||Ke===void 0||Ke.select()},input:Y.current,nativeElement:((we=K.current)===null||we===void 0?void 0:we.nativeElement)||Y.current}}),w.useEffect(function(){ae.current&&(ae.current=!1),W(function(we){return we&&b?!1:we})},[b]);var Be=function(De,Ke,He){var gt=Ke;if(!Q.current&&Ae.exceedFormatter&&Ae.max&&Ae.strategy(Ke)>Ae.max){if(gt=Ae.exceedFormatter(Ke,{max:Ae.max}),Ke!==gt){var lt,pt;Oe([((lt=Y.current)===null||lt===void 0?void 0:lt.selectionStart)||0,((pt=Y.current)===null||pt===void 0?void 0:pt.selectionEnd)||0])}}else if(He.source==="compositionEnd")return;he(gt),Y.current&&W1(Y.current,De,r,gt)};w.useEffect(function(){if(xe){var we;(we=Y.current)===null||we===void 0||we.setSelectionRange.apply(we,Jt(xe))}},[xe]);var Ce=function(De){Be(De,De.target.value,{source:"change"})},re=function(De){Q.current=!1,Be(De,De.currentTarget.value,{source:"compositionEnd"}),F==null||F(De)},Fe=function(De){l&&De.key==="Enter"&&!ae.current&&(ae.current=!0,l(De)),s==null||s(De)},Ie=function(De){De.key==="Enter"&&(ae.current=!1),u==null||u(De)},qe=function(De){W(!0),a==null||a(De)},$e=function(De){ae.current&&(ae.current=!1),W(!1),o==null||o(De)},ct=function(De){he(""),ee(),Y.current&&W1(Y.current,De,r)},st=yt&&"".concat(m,"-out-of-range"),ce=function(){var De=yo(n,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames","onClear"]);return Xe.createElement("input",Pt({autoComplete:t},De,{onChange:Ce,onFocus:qe,onBlur:$e,onKeyDown:Fe,onKeyUp:Ie,className:Je(m,ue({},"".concat(m,"-disabled"),b),O==null?void 0:O.input),style:B==null?void 0:B.input,ref:Y,size:_,type:T,onCompositionStart:function(He){Q.current=!0,D==null||D(He)},onCompositionEnd:re}))},oe=function(){var De=Number(Te)>0;if(p||Ae.show){var Ke=Ae.showFormatter?Ae.showFormatter({value:fe,count:ze,maxLength:Te}):"".concat(ze).concat(De?" / ".concat(Te):"");return Xe.createElement(Xe.Fragment,null,Ae.show&&Xe.createElement("span",{className:Je("".concat(m,"-show-count-suffix"),ue({},"".concat(m,"-show-count-has-suffix"),!!p),O==null?void 0:O.count),style:Ne({},B==null?void 0:B.count)},Ke),p)}return null};return Xe.createElement(dH,Pt({},z,{prefixCls:m,className:Je(E,st),handleReset:ct,value:fe,focused:J,triggerFocus:ee,suffix:oe(),disabled:b,classes:M,classNames:O,styles:B}),ce())});const hH=n=>{let e;return typeof n=="object"&&(n!=null&&n.clearIcon)?e=n:n&&(e={clearIcon:Xe.createElement(rw,null)}),e};function pH(n,e){const t=w.useRef([]),r=()=>{t.current.push(setTimeout(()=>{var a,o,l,s;!((a=n.current)===null||a===void 0)&&a.input&&((o=n.current)===null||o===void 0?void 0:o.input.getAttribute("type"))==="password"&&(!((l=n.current)===null||l===void 0)&&l.input.hasAttribute("value"))&&((s=n.current)===null||s===void 0||s.input.removeAttribute("value"))}))};return w.useEffect(()=>(e&&r(),()=>t.current.forEach(a=>{a&&clearTimeout(a)})),[]),r}function cZ(n){return!!(n.prefix||n.suffix||n.allowClear||n.showCount)}var uZ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const Pw=w.forwardRef((n,e)=>{const{prefixCls:t,bordered:r=!0,status:a,size:o,disabled:l,onBlur:s,onFocus:u,suffix:f,allowClear:m,addonAfter:b,addonBefore:_,className:E,style:c,styles:p,rootClassName:g,onChange:y,classNames:C,variant:T}=n,M=uZ(n,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames","variant"]),{getPrefixCls:O,direction:B,allowClear:D,autoComplete:F,className:z,style:U,classNames:$,styles:J}=ad("input"),W=O("input",t),Q=w.useRef(null),ae=ll(W),[Y,K,ee]=sH(W,g),[de]=lH(W,ae),{compactSize:q,compactItemClassnames:ie}=vw(W,B),he=Cf($e=>{var ct;return(ct=o??q)!==null&&ct!==void 0?ct:$e}),fe=Xe.useContext(Zu),Z=l??fe,{status:pe,hasFeedback:xe,feedbackIcon:Oe}=w.useContext(gf),Ae=jO(pe,a),Te=cZ(n)||!!xe;w.useRef(Te);const ze=pH(Q,!0),yt=$e=>{ze(),s==null||s($e)},Be=$e=>{ze(),u==null||u($e)},Ce=$e=>{ze(),y==null||y($e)},re=(xe||f)&&Xe.createElement(Xe.Fragment,null,f,xe&&Oe),Fe=hH(m??D),[Ie,qe]=y4("input",T,r);return Y(de(Xe.createElement(lZ,Object.assign({ref:_f(e,Q),prefixCls:W,autoComplete:F},M,{disabled:Z,onBlur:yt,onFocus:Be,style:Object.assign(Object.assign({},U),c),styles:Object.assign(Object.assign({},J),p),suffix:re,allowClear:Fe,className:Je(E,g,ee,ae,ie,z),onChange:Ce,addonBefore:_&&Xe.createElement(F1,{form:!0,space:!0},_),addonAfter:b&&Xe.createElement(F1,{form:!0,space:!0},b),classNames:Object.assign(Object.assign(Object.assign({},C),$),{input:Je({[`${W}-sm`]:he==="small",[`${W}-lg`]:he==="large",[`${W}-rtl`]:B==="rtl"},C==null?void 0:C.input,$.input,K),variant:Je({[`${W}-${Ie}`]:qe},f2(W,Ae)),affixWrapper:Je({[`${W}-affix-wrapper-sm`]:he==="small",[`${W}-affix-wrapper-lg`]:he==="large",[`${W}-affix-wrapper-rtl`]:B==="rtl"},K),wrapper:Je({[`${W}-group-rtl`]:B==="rtl"},K),groupWrapper:Je({[`${W}-group-wrapper-sm`]:he==="small",[`${W}-group-wrapper-lg`]:he==="large",[`${W}-group-wrapper-rtl`]:B==="rtl",[`${W}-group-wrapper-${Ie}`]:qe},f2(`${W}-group-wrapper`,Ae,xe),K)})}))))});function CL(n){return["small","middle","large"].includes(n)}function EL(n){return n?typeof n=="number"&&!Number.isNaN(n):!1}const mH=Xe.createContext({latestIndex:0}),dZ=mH.Provider,fZ=n=>{let{className:e,index:t,children:r,split:a,style:o}=n;const{latestIndex:l}=w.useContext(mH);return r==null?null:w.createElement(w.Fragment,null,w.createElement("div",{className:e,style:o},r),t<l&&a&&w.createElement("span",{className:`${e}-split`},a))};var hZ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const pZ=w.forwardRef((n,e)=>{var t;const{getPrefixCls:r,direction:a,size:o,className:l,style:s,classNames:u,styles:f}=ad("space"),{size:m=o??"small",align:b,className:_,rootClassName:E,children:c,direction:p="horizontal",prefixCls:g,split:y,style:C,wrap:T=!1,classNames:M,styles:O}=n,B=hZ(n,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[D,F]=Array.isArray(m)?m:[m,m],z=CL(F),U=CL(D),$=EL(F),J=EL(D),W=Qu(c,{keepEmpty:!0}),Q=b===void 0&&p==="horizontal"?"center":b,ae=r("space",g),[Y,K,ee]=RF(ae),de=Je(ae,l,K,`${ae}-${p}`,{[`${ae}-rtl`]:a==="rtl",[`${ae}-align-${Q}`]:Q,[`${ae}-gap-row-${F}`]:z,[`${ae}-gap-col-${D}`]:U},_,E,ee),q=Je(`${ae}-item`,(t=M==null?void 0:M.item)!==null&&t!==void 0?t:u.item);let ie=0;const he=W.map((pe,xe)=>{var Oe;pe!=null&&(ie=xe);const Ae=(pe==null?void 0:pe.key)||`${q}-${xe}`;return w.createElement(fZ,{className:q,key:Ae,index:xe,split:y,style:(Oe=O==null?void 0:O.item)!==null&&Oe!==void 0?Oe:f.item},pe)}),fe=w.useMemo(()=>({latestIndex:ie}),[ie]);if(W.length===0)return null;const Z={};return T&&(Z.flexWrap="wrap"),!U&&J&&(Z.columnGap=D),!z&&$&&(Z.rowGap=F),Y(w.createElement("div",Object.assign({ref:e,className:de,style:Object.assign(Object.assign(Object.assign({},Z),s),C)},B),w.createElement(dZ,{value:fe},he)))}),gH=pZ;gH.Compact=QW;function vH(){var n=document.documentElement.clientWidth,e=window.innerHeight||document.documentElement.clientHeight;return{width:n,height:e}}function mZ(n){var e=n.getBoundingClientRect(),t=document.documentElement;return{left:e.left+(window.pageXOffset||t.scrollLeft)-(t.clientLeft||document.body.clientLeft||0),top:e.top+(window.pageYOffset||t.scrollTop)-(t.clientTop||document.body.clientTop||0)}}function Nv(n,e,t,r){var a=Yb.unstable_batchedUpdates?function(l){Yb.unstable_batchedUpdates(t,l)}:t;return n!=null&&n.addEventListener&&n.addEventListener(e,a,r),{remove:function(){n!=null&&n.removeEventListener&&n.removeEventListener(e,a,r)}}}var LS=w.createContext(null),gZ=function(e){var t=e.visible,r=e.maskTransitionName,a=e.getContainer,o=e.prefixCls,l=e.rootClassName,s=e.icons,u=e.countRender,f=e.showSwitch,m=e.showProgress,b=e.current,_=e.transform,E=e.count,c=e.scale,p=e.minScale,g=e.maxScale,y=e.closeIcon,C=e.onActive,T=e.onClose,M=e.onZoomIn,O=e.onZoomOut,B=e.onRotateRight,D=e.onRotateLeft,F=e.onFlipX,z=e.onFlipY,U=e.onReset,$=e.toolbarRender,J=e.zIndex,W=e.image,Q=w.useContext(LS),ae=s.rotateLeft,Y=s.rotateRight,K=s.zoomIn,ee=s.zoomOut,de=s.close,q=s.left,ie=s.right,he=s.flipX,fe=s.flipY,Z="".concat(o,"-operations-operation");w.useEffect(function(){var Ie=function($e){$e.keyCode===to.ESC&&T()};return t&&window.addEventListener("keydown",Ie),function(){window.removeEventListener("keydown",Ie)}},[t]);var pe=function(qe,$e){qe.preventDefault(),qe.stopPropagation(),C($e)},xe=w.useCallback(function(Ie){var qe=Ie.type,$e=Ie.disabled,ct=Ie.onClick,st=Ie.icon;return w.createElement("div",{key:qe,className:Je(Z,"".concat(o,"-operations-operation-").concat(qe),ue({},"".concat(o,"-operations-operation-disabled"),!!$e)),onClick:ct},st)},[Z,o]),Oe=f?xe({icon:q,onClick:function(qe){return pe(qe,-1)},type:"prev",disabled:b===0}):void 0,Ae=f?xe({icon:ie,onClick:function(qe){return pe(qe,1)},type:"next",disabled:b===E-1}):void 0,Te=xe({icon:fe,onClick:z,type:"flipY"}),ze=xe({icon:he,onClick:F,type:"flipX"}),yt=xe({icon:ae,onClick:D,type:"rotateLeft"}),Be=xe({icon:Y,onClick:B,type:"rotateRight"}),Ce=xe({icon:ee,onClick:O,type:"zoomOut",disabled:c<=p}),re=xe({icon:K,onClick:M,type:"zoomIn",disabled:c===g}),Fe=w.createElement("div",{className:"".concat(o,"-operations")},Te,ze,yt,Be,Ce,re);return w.createElement(Xc,{visible:t,motionName:r},function(Ie){var qe=Ie.className,$e=Ie.style;return w.createElement(Ew,{open:!0,getContainer:a??document.body},w.createElement("div",{className:Je("".concat(o,"-operations-wrapper"),qe,l),style:Ne(Ne({},$e),{},{zIndex:J})},y===null?null:w.createElement("button",{className:"".concat(o,"-close"),onClick:T},y||de),f&&w.createElement(w.Fragment,null,w.createElement("div",{className:Je("".concat(o,"-switch-left"),ue({},"".concat(o,"-switch-left-disabled"),b===0)),onClick:function(st){return pe(st,-1)}},q),w.createElement("div",{className:Je("".concat(o,"-switch-right"),ue({},"".concat(o,"-switch-right-disabled"),b===E-1)),onClick:function(st){return pe(st,1)}},ie)),w.createElement("div",{className:"".concat(o,"-footer")},m&&w.createElement("div",{className:"".concat(o,"-progress")},u?u(b+1,E):"".concat(b+1," / ").concat(E)),$?$(Fe,Ne(Ne({icons:{prevIcon:Oe,nextIcon:Ae,flipYIcon:Te,flipXIcon:ze,rotateLeftIcon:yt,rotateRightIcon:Be,zoomOutIcon:Ce,zoomInIcon:re},actions:{onActive:C,onFlipY:z,onFlipX:F,onRotateLeft:D,onRotateRight:B,onZoomOut:O,onZoomIn:M,onReset:U,onClose:T},transform:_},Q?{current:b,total:E}:{}),{},{image:W})):Fe)))})},xx={x:0,y:0,rotate:0,scale:1,flipX:!1,flipY:!1};function vZ(n,e,t,r){var a=w.useRef(null),o=w.useRef([]),l=w.useState(xx),s=vt(l,2),u=s[0],f=s[1],m=function(c){f(xx),o0(xx,u)||r==null||r({transform:xx,action:c})},b=function(c,p){a.current===null&&(o.current=[],a.current=Da(function(){f(function(g){var y=g;return o.current.forEach(function(C){y=Ne(Ne({},y),C)}),a.current=null,r==null||r({transform:y,action:p}),y})})),o.current.push(Ne(Ne({},u),c))},_=function(c,p,g,y,C){var T=n.current,M=T.width,O=T.height,B=T.offsetWidth,D=T.offsetHeight,F=T.offsetLeft,z=T.offsetTop,U=c,$=u.scale*c;$>t?($=t,U=t/u.scale):$<e&&($=C?$:e,U=$/u.scale);var J=g??innerWidth/2,W=y??innerHeight/2,Q=U-1,ae=Q*M*.5,Y=Q*O*.5,K=Q*(J-u.x-F),ee=Q*(W-u.y-z),de=u.x-(K-ae),q=u.y-(ee-Y);if(c<1&&$===1){var ie=B*$,he=D*$,fe=vH(),Z=fe.width,pe=fe.height;ie<=Z&&he<=pe&&(de=0,q=0)}b({x:de,y:q,scale:$},p)};return{transform:u,resetTransform:m,updateTransform:b,dispatchZoomChange:_}}function wL(n,e,t,r){var a=e+t,o=(t-r)/2;if(t>r){if(e>0)return ue({},n,o);if(e<0&&a<r)return ue({},n,-o)}else if(e<0||a>r)return ue({},n,e<0?o:-o);return{}}function yH(n,e,t,r){var a=vH(),o=a.width,l=a.height,s=null;return n<=o&&e<=l?s={x:0,y:0}:(n>o||e>l)&&(s=Ne(Ne({},wL("x",t,n,o)),wL("y",r,e,l))),s}var zv=1,yZ=1;function bZ(n,e,t,r,a,o,l){var s=a.rotate,u=a.scale,f=a.x,m=a.y,b=w.useState(!1),_=vt(b,2),E=_[0],c=_[1],p=w.useRef({diffX:0,diffY:0,transformX:0,transformY:0}),g=function(O){!e||O.button!==0||(O.preventDefault(),O.stopPropagation(),p.current={diffX:O.pageX-f,diffY:O.pageY-m,transformX:f,transformY:m},c(!0))},y=function(O){t&&E&&o({x:O.pageX-p.current.diffX,y:O.pageY-p.current.diffY},"move")},C=function(){if(t&&E){c(!1);var O=p.current,B=O.transformX,D=O.transformY,F=f!==B&&m!==D;if(!F)return;var z=n.current.offsetWidth*u,U=n.current.offsetHeight*u,$=n.current.getBoundingClientRect(),J=$.left,W=$.top,Q=s%180!==0,ae=yH(Q?U:z,Q?z:U,J,W);ae&&o(Ne({},ae),"dragRebound")}},T=function(O){if(!(!t||O.deltaY==0)){var B=Math.abs(O.deltaY/100),D=Math.min(B,yZ),F=zv+D*r;O.deltaY>0&&(F=zv/F),l(F,"wheel",O.clientX,O.clientY)}};return w.useEffect(function(){var M,O,B,D;if(e){B=Nv(window,"mouseup",C,!1),D=Nv(window,"mousemove",y,!1);try{window.top!==window.self&&(M=Nv(window.top,"mouseup",C,!1),O=Nv(window.top,"mousemove",y,!1))}catch{}}return function(){var F,z,U,$;(F=B)===null||F===void 0||F.remove(),(z=D)===null||z===void 0||z.remove(),(U=M)===null||U===void 0||U.remove(),($=O)===null||$===void 0||$.remove()}},[t,E,f,m,s,e]),{isMoving:E,onMouseDown:g,onMouseMove:y,onMouseUp:C,onWheel:T}}function SZ(n){return new Promise(function(e){var t=document.createElement("img");t.onerror=function(){return e(!1)},t.onload=function(){return e(!0)},t.src=n})}function bH(n){var e=n.src,t=n.isCustomPlaceholder,r=n.fallback,a=w.useState(t?"loading":"normal"),o=vt(a,2),l=o[0],s=o[1],u=w.useRef(!1),f=l==="error";w.useEffect(function(){var E=!0;return SZ(e).then(function(c){!c&&E&&s("error")}),function(){E=!1}},[e]),w.useEffect(function(){t&&!u.current?s("loading"):f&&s("normal")},[e]);var m=function(){s("normal")},b=function(c){u.current=!1,l==="loading"&&c!==null&&c!==void 0&&c.complete&&(c.naturalWidth||c.naturalHeight)&&(u.current=!0,m())},_=f&&r?{src:r}:{onLoad:m,src:e};return[b,_,l]}function X1(n,e){var t=n.x-e.x,r=n.y-e.y;return Math.hypot(t,r)}function _Z(n,e,t,r){var a=X1(n,t),o=X1(e,r);if(a===0&&o===0)return[n.x,n.y];var l=a/(a+o),s=n.x+l*(e.x-n.x),u=n.y+l*(e.y-n.y);return[s,u]}function xZ(n,e,t,r,a,o,l){var s=a.rotate,u=a.scale,f=a.x,m=a.y,b=w.useState(!1),_=vt(b,2),E=_[0],c=_[1],p=w.useRef({point1:{x:0,y:0},point2:{x:0,y:0},eventType:"none"}),g=function(O){p.current=Ne(Ne({},p.current),O)},y=function(O){if(e){O.stopPropagation(),c(!0);var B=O.touches,D=B===void 0?[]:B;D.length>1?g({point1:{x:D[0].clientX,y:D[0].clientY},point2:{x:D[1].clientX,y:D[1].clientY},eventType:"touchZoom"}):g({point1:{x:D[0].clientX-f,y:D[0].clientY-m},eventType:"move"})}},C=function(O){var B=O.touches,D=B===void 0?[]:B,F=p.current,z=F.point1,U=F.point2,$=F.eventType;if(D.length>1&&$==="touchZoom"){var J={x:D[0].clientX,y:D[0].clientY},W={x:D[1].clientX,y:D[1].clientY},Q=_Z(z,U,J,W),ae=vt(Q,2),Y=ae[0],K=ae[1],ee=X1(J,W)/X1(z,U);l(ee,"touchZoom",Y,K,!0),g({point1:J,point2:W,eventType:"touchZoom"})}else $==="move"&&(o({x:D[0].clientX-z.x,y:D[0].clientY-z.y},"move"),g({eventType:"move"}))},T=function(){if(t){if(E&&c(!1),g({eventType:"none"}),r>u)return o({x:0,y:0,scale:r},"touchZoom");var O=n.current.offsetWidth*u,B=n.current.offsetHeight*u,D=n.current.getBoundingClientRect(),F=D.left,z=D.top,U=s%180!==0,$=yH(U?B:O,U?O:B,F,z);$&&o(Ne({},$),"dragRebound")}};return w.useEffect(function(){var M;return t&&e&&(M=Nv(window,"touchmove",function(O){return O.preventDefault()},{passive:!1})),function(){var O;(O=M)===null||O===void 0||O.remove()}},[t,e]),{isTouching:E,onTouchStart:y,onTouchMove:C,onTouchEnd:T}}var CZ=["fallback","src","imgRef"],EZ=["prefixCls","src","alt","imageInfo","fallback","movable","onClose","visible","icons","rootClassName","closeIcon","getContainer","current","count","countRender","scaleStep","minScale","maxScale","transitionName","maskTransitionName","imageRender","imgCommonProps","toolbarRender","onTransform","onChange"],wZ=function(e){var t=e.fallback,r=e.src,a=e.imgRef,o=kn(e,CZ),l=bH({src:r,fallback:t}),s=vt(l,2),u=s[0],f=s[1];return Xe.createElement("img",Pt({ref:function(b){a.current=b,u(b)}},o,f))},SH=function(e){var t=e.prefixCls,r=e.src,a=e.alt,o=e.imageInfo,l=e.fallback,s=e.movable,u=s===void 0?!0:s,f=e.onClose,m=e.visible,b=e.icons,_=b===void 0?{}:b,E=e.rootClassName,c=e.closeIcon,p=e.getContainer,g=e.current,y=g===void 0?0:g,C=e.count,T=C===void 0?1:C,M=e.countRender,O=e.scaleStep,B=O===void 0?.5:O,D=e.minScale,F=D===void 0?1:D,z=e.maxScale,U=z===void 0?50:z,$=e.transitionName,J=$===void 0?"zoom":$,W=e.maskTransitionName,Q=W===void 0?"fade":W,ae=e.imageRender,Y=e.imgCommonProps,K=e.toolbarRender,ee=e.onTransform,de=e.onChange,q=kn(e,EZ),ie=w.useRef(),he=w.useContext(LS),fe=he&&T>1,Z=he&&T>=1,pe=w.useState(!0),xe=vt(pe,2),Oe=xe[0],Ae=xe[1],Te=vZ(ie,F,U,ee),ze=Te.transform,yt=Te.resetTransform,Be=Te.updateTransform,Ce=Te.dispatchZoomChange,re=bZ(ie,u,m,B,ze,Be,Ce),Fe=re.isMoving,Ie=re.onMouseDown,qe=re.onWheel,$e=xZ(ie,u,m,F,ze,Be,Ce),ct=$e.isTouching,st=$e.onTouchStart,ce=$e.onTouchMove,oe=$e.onTouchEnd,we=ze.rotate,De=ze.scale,Ke=Je(ue({},"".concat(t,"-moving"),Fe));w.useEffect(function(){Oe||Ae(!0)},[Oe]);var He=function(){yt("close")},gt=function(){Ce(zv+B,"zoomIn")},lt=function(){Ce(zv/(zv+B),"zoomOut")},pt=function(){Be({rotate:we+90},"rotateRight")},It=function(){Be({rotate:we-90},"rotateLeft")},ot=function(){Be({flipX:!ze.flipX},"flipX")},_t=function(){Be({flipY:!ze.flipY},"flipY")},Ct=function(){yt("reset")},We=function(xt){var et=y+xt;!Number.isInteger(et)||et<0||et>T-1||(Ae(!1),yt(xt<0?"prev":"next"),de==null||de(et,y))},rt=function(xt){!m||!fe||(xt.keyCode===to.LEFT?We(-1):xt.keyCode===to.RIGHT&&We(1))},Se=function(xt){m&&(De!==1?Be({x:0,y:0,scale:1},"doubleClick"):Ce(zv+B,"doubleClick",xt.clientX,xt.clientY))};w.useEffect(function(){var Me=Nv(window,"keydown",rt,!1);return function(){Me.remove()}},[m,fe,y]);var Ge=Xe.createElement(wZ,Pt({},Y,{width:e.width,height:e.height,imgRef:ie,className:"".concat(t,"-img"),alt:a,style:{transform:"translate3d(".concat(ze.x,"px, ").concat(ze.y,"px, 0) scale3d(").concat(ze.flipX?"-":"").concat(De,", ").concat(ze.flipY?"-":"").concat(De,", 1) rotate(").concat(we,"deg)"),transitionDuration:(!Oe||ct)&&"0s"},fallback:l,src:r,onWheel:qe,onMouseDown:Ie,onDoubleClick:Se,onTouchStart:st,onTouchMove:ce,onTouchEnd:oe,onTouchCancel:oe})),St=Ne({url:r,alt:a},o);return Xe.createElement(Xe.Fragment,null,Xe.createElement($O,Pt({transitionName:J,maskTransitionName:Q,closable:!1,keyboard:!0,prefixCls:t,onClose:f,visible:m,classNames:{wrapper:Ke},rootClassName:E,getContainer:p},q,{afterClose:He}),Xe.createElement("div",{className:"".concat(t,"-img-wrapper")},ae?ae(Ge,Ne({transform:ze,image:St},he?{current:y}:{})):Ge)),Xe.createElement(gZ,{visible:m,transform:ze,maskTransitionName:Q,closeIcon:c,getContainer:p,prefixCls:t,rootClassName:E,icons:_,countRender:M,showSwitch:fe,showProgress:Z,current:y,count:T,scale:De,minScale:F,maxScale:U,toolbarRender:K,onActive:We,onZoomIn:gt,onZoomOut:lt,onRotateRight:pt,onRotateLeft:It,onFlipX:ot,onFlipY:_t,onClose:f,onReset:Ct,zIndex:q.zIndex!==void 0?q.zIndex+1:void 0,image:St}))},S2=["crossOrigin","decoding","draggable","loading","referrerPolicy","sizes","srcSet","useMap","alt"];function AZ(n){var e=w.useState({}),t=vt(e,2),r=t[0],a=t[1],o=w.useCallback(function(s,u){return a(function(f){return Ne(Ne({},f),{},ue({},s,u))}),function(){a(function(f){var m=Ne({},f);return delete m[s],m})}},[]),l=w.useMemo(function(){return n?n.map(function(s){if(typeof s=="string")return{data:{src:s}};var u={};return Object.keys(s).forEach(function(f){["src"].concat(Jt(S2)).includes(f)&&(u[f]=s[f])}),{data:u}}):Object.keys(r).reduce(function(s,u){var f=r[u],m=f.canPreview,b=f.data;return m&&s.push({data:b,id:u}),s},[])},[n,r]);return[l,o,!!n]}var MZ=["visible","onVisibleChange","getContainer","current","movable","minScale","maxScale","countRender","closeIcon","onChange","onTransform","toolbarRender","imageRender"],TZ=["src"],RZ=function(e){var t,r=e.previewPrefixCls,a=r===void 0?"rc-image-preview":r,o=e.children,l=e.icons,s=l===void 0?{}:l,u=e.items,f=e.preview,m=e.fallback,b=mn(f)==="object"?f:{},_=b.visible,E=b.onVisibleChange,c=b.getContainer,p=b.current,g=b.movable,y=b.minScale,C=b.maxScale,T=b.countRender,M=b.closeIcon,O=b.onChange,B=b.onTransform,D=b.toolbarRender,F=b.imageRender,z=kn(b,MZ),U=AZ(u),$=vt(U,3),J=$[0],W=$[1],Q=$[2],ae=mo(0,{value:p}),Y=vt(ae,2),K=Y[0],ee=Y[1],de=w.useState(!1),q=vt(de,2),ie=q[0],he=q[1],fe=((t=J[K])===null||t===void 0?void 0:t.data)||{},Z=fe.src,pe=kn(fe,TZ),xe=mo(!!_,{value:_,onChange:function(ct,st){E==null||E(ct,st,K)}}),Oe=vt(xe,2),Ae=Oe[0],Te=Oe[1],ze=w.useState(null),yt=vt(ze,2),Be=yt[0],Ce=yt[1],re=w.useCallback(function($e,ct,st,ce){var oe=Q?J.findIndex(function(we){return we.data.src===ct}):J.findIndex(function(we){return we.id===$e});ee(oe<0?0:oe),Te(!0),Ce({x:st,y:ce}),he(!0)},[J,Q]);w.useEffect(function(){Ae?ie||ee(0):he(!1)},[Ae]);var Fe=function(ct,st){ee(ct),O==null||O(ct,st)},Ie=function(){Te(!1),Ce(null)},qe=w.useMemo(function(){return{register:W,onPreview:re}},[W,re]);return w.createElement(LS.Provider,{value:qe},o,w.createElement(SH,Pt({"aria-hidden":!Ae,movable:g,visible:Ae,prefixCls:a,closeIcon:M,onClose:Ie,mousePosition:Be,imgCommonProps:pe,src:Z,fallback:m,icons:s,minScale:y,maxScale:C,getContainer:c,current:K,count:J.length,countRender:T,onTransform:B,toolbarRender:D,imageRender:F,onChange:Fe},z)))},AL=0;function OZ(n,e){var t=w.useState(function(){return AL+=1,String(AL)}),r=vt(t,1),a=r[0],o=w.useContext(LS),l={data:e,canPreview:n};return w.useEffect(function(){if(o)return o.register(a,l)},[]),w.useEffect(function(){o&&o.register(a,l)},[n,e]),a}var IZ=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","rootClassName"],BZ=["src","visible","onVisibleChange","getContainer","mask","maskClassName","movable","icons","scaleStep","minScale","maxScale","imageRender","toolbarRender"],nI=function(e){var t=e.src,r=e.alt,a=e.onPreviewClose,o=e.prefixCls,l=o===void 0?"rc-image":o,s=e.previewPrefixCls,u=s===void 0?"".concat(l,"-preview"):s,f=e.placeholder,m=e.fallback,b=e.width,_=e.height,E=e.style,c=e.preview,p=c===void 0?!0:c,g=e.className,y=e.onClick,C=e.onError,T=e.wrapperClassName,M=e.wrapperStyle,O=e.rootClassName,B=kn(e,IZ),D=f&&f!==!0,F=mn(p)==="object"?p:{},z=F.src,U=F.visible,$=U===void 0?void 0:U,J=F.onVisibleChange,W=J===void 0?a:J,Q=F.getContainer,ae=Q===void 0?void 0:Q,Y=F.mask,K=F.maskClassName,ee=F.movable,de=F.icons,q=F.scaleStep,ie=F.minScale,he=F.maxScale,fe=F.imageRender,Z=F.toolbarRender,pe=kn(F,BZ),xe=z??t,Oe=mo(!!$,{value:$,onChange:W}),Ae=vt(Oe,2),Te=Ae[0],ze=Ae[1],yt=bH({src:t,isCustomPlaceholder:D,fallback:m}),Be=vt(yt,3),Ce=Be[0],re=Be[1],Fe=Be[2],Ie=w.useState(null),qe=vt(Ie,2),$e=qe[0],ct=qe[1],st=w.useContext(LS),ce=!!p,oe=function(){ze(!1),ct(null)},we=Je(l,T,O,ue({},"".concat(l,"-error"),Fe==="error")),De=w.useMemo(function(){var lt={};return S2.forEach(function(pt){e[pt]!==void 0&&(lt[pt]=e[pt])}),lt},S2.map(function(lt){return e[lt]})),Ke=w.useMemo(function(){return Ne(Ne({},De),{},{src:xe})},[xe,De]),He=OZ(ce,Ke),gt=function(pt){var It=mZ(pt.target),ot=It.left,_t=It.top;st?st.onPreview(He,xe,ot,_t):(ct({x:ot,y:_t}),ze(!0)),y==null||y(pt)};return w.createElement(w.Fragment,null,w.createElement("div",Pt({},B,{className:we,onClick:ce?gt:y,style:Ne({width:b,height:_},M)}),w.createElement("img",Pt({},De,{className:Je("".concat(l,"-img"),ue({},"".concat(l,"-img-placeholder"),f===!0),g),style:Ne({height:_},E),ref:Ce},re,{width:b,height:_,onError:C})),Fe==="loading"&&w.createElement("div",{"aria-hidden":"true",className:"".concat(l,"-placeholder")},f),Y&&ce&&w.createElement("div",{className:Je("".concat(l,"-mask"),K),style:{display:(E==null?void 0:E.display)==="none"?"none":void 0}},Y)),!st&&ce&&w.createElement(SH,Pt({"aria-hidden":!Te,visible:Te,prefixCls:u,onClose:oe,mousePosition:$e,src:xe,alt:r,imageInfo:{width:b,height:_},fallback:m,getContainer:ae,icons:de,movable:ee,scaleStep:q,minScale:ie,maxScale:he,rootClassName:O,imageRender:fe,imgCommonProps:De,toolbarRender:Z},pe)))};nI.PreviewGroup=RZ;const _2=n=>({position:n||"absolute",inset:0}),DZ=n=>{const{iconCls:e,motionDurationSlow:t,paddingXXS:r,marginXXS:a,prefixCls:o,colorTextLightSolid:l}=n;return{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:l,background:new Bi("#000").setA(.5).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${t}`,[`.${o}-mask-info`]:Object.assign(Object.assign({},dw),{padding:`0 ${Mt(r)}`,[e]:{marginInlineEnd:a,svg:{verticalAlign:"baseline"}}})}},PZ=n=>{const{previewCls:e,modalMaskBg:t,paddingSM:r,marginXL:a,margin:o,paddingLG:l,previewOperationColorDisabled:s,previewOperationHoverColor:u,motionDurationSlow:f,iconCls:m,colorTextLightSolid:b}=n,_=new Bi(t).setA(.1),E=_.clone().setA(.2);return{[`${e}-footer`]:{position:"fixed",bottom:a,left:{_skip_check_:!0,value:"50%"},display:"flex",flexDirection:"column",alignItems:"center",color:n.previewOperationColor,transform:"translateX(-50%)"},[`${e}-progress`]:{marginBottom:o},[`${e}-close`]:{position:"fixed",top:a,right:{_skip_check_:!0,value:a},display:"flex",color:b,backgroundColor:_.toRgbString(),borderRadius:"50%",padding:r,outline:0,border:0,cursor:"pointer",transition:`all ${f}`,"&:hover":{backgroundColor:E.toRgbString()},[`& > ${m}`]:{fontSize:n.previewOperationSize}},[`${e}-operations`]:{display:"flex",alignItems:"center",padding:`0 ${Mt(l)}`,backgroundColor:_.toRgbString(),borderRadius:100,"&-operation":{marginInlineStart:r,padding:r,cursor:"pointer",transition:`all ${f}`,userSelect:"none",[`&:not(${e}-operations-operation-disabled):hover > ${m}`]:{color:u},"&-disabled":{color:s,cursor:"not-allowed"},"&:first-of-type":{marginInlineStart:0},[`& > ${m}`]:{fontSize:n.previewOperationSize}}}}},LZ=n=>{const{modalMaskBg:e,iconCls:t,previewOperationColorDisabled:r,previewCls:a,zIndexPopup:o,motionDurationSlow:l}=n,s=new Bi(e).setA(.1),u=s.clone().setA(.2);return{[`${a}-switch-left, ${a}-switch-right`]:{position:"fixed",insetBlockStart:"50%",zIndex:n.calc(o).add(1).equal(),display:"flex",alignItems:"center",justifyContent:"center",width:n.imagePreviewSwitchSize,height:n.imagePreviewSwitchSize,marginTop:n.calc(n.imagePreviewSwitchSize).mul(-1).div(2).equal(),color:n.previewOperationColor,background:s.toRgbString(),borderRadius:"50%",transform:"translateY(-50%)",cursor:"pointer",transition:`all ${l}`,userSelect:"none","&:hover":{background:u.toRgbString()},"&-disabled":{"&, &:hover":{color:r,background:"transparent",cursor:"not-allowed",[`> ${t}`]:{cursor:"not-allowed"}}},[`> ${t}`]:{fontSize:n.previewOperationSize}},[`${a}-switch-left`]:{insetInlineStart:n.marginSM},[`${a}-switch-right`]:{insetInlineEnd:n.marginSM}}},NZ=n=>{const{motionEaseOut:e,previewCls:t,motionDurationSlow:r,componentCls:a}=n;return[{[`${a}-preview-root`]:{[t]:{height:"100%",textAlign:"center",pointerEvents:"none"},[`${t}-body`]:Object.assign(Object.assign({},_2()),{overflow:"hidden"}),[`${t}-img`]:{maxWidth:"100%",maxHeight:"70%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${r} ${e} 0s`,userSelect:"none","&-wrapper":Object.assign(Object.assign({},_2()),{transition:`transform ${r} ${e} 0s`,display:"flex",justifyContent:"center",alignItems:"center","& > *":{pointerEvents:"auto"},"&::before":{display:"inline-block",width:1,height:"50%",marginInlineEnd:-1,content:'""'}})},[`${t}-moving`]:{[`${t}-preview-img`]:{cursor:"grabbing","&-wrapper":{transitionDuration:"0s"}}}}},{[`${a}-preview-root`]:{[`${t}-wrap`]:{zIndex:n.zIndexPopup}}},{[`${a}-preview-operations-wrapper`]:{position:"fixed",zIndex:n.calc(n.zIndexPopup).add(1).equal()},"&":[PZ(n),LZ(n)]}]},zZ=n=>{const{componentCls:e}=n;return{[e]:{position:"relative",display:"inline-block",[`${e}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${e}-img-placeholder`]:{backgroundColor:n.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${e}-mask`]:Object.assign({},DZ(n)),[`${e}-mask:hover`]:{opacity:1},[`${e}-placeholder`]:Object.assign({},_2())}}},UZ=n=>{const{previewCls:e}=n;return{[`${e}-root`]:MS(n,"zoom"),"&":GO(n,!0)}},FZ=n=>({zIndexPopup:n.zIndexPopupBase+80,previewOperationColor:new Bi(n.colorTextLightSolid).setA(.65).toRgbString(),previewOperationHoverColor:new Bi(n.colorTextLightSolid).setA(.85).toRgbString(),previewOperationColorDisabled:new Bi(n.colorTextLightSolid).setA(.25).toRgbString(),previewOperationSize:n.fontSizeIcon*1.5}),_H=Nr("Image",n=>{const e=`${n.componentCls}-preview`,t=qi(n,{previewCls:e,modalMaskBg:new Bi("#000").setA(.45).toRgbString(),imagePreviewSwitchSize:n.controlHeightLG});return[zZ(t),NZ(t),e4(qi(t,{componentCls:e})),UZ(t)]},FZ);var HZ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const xH={rotateLeft:w.createElement(gV,null),rotateRight:w.createElement(bV,null),zoomIn:w.createElement(pU,null),zoomOut:w.createElement(mU,null),close:w.createElement(R0,null),left:w.createElement(I1,null),right:w.createElement(B1,null),flipX:w.createElement(AD,null),flipY:w.createElement(AD,{rotate:90})},GZ=n=>{var{previewPrefixCls:e,preview:t}=n,r=HZ(n,["previewPrefixCls","preview"]);const{getPrefixCls:a}=w.useContext(Hn),o=a("image",e),l=`${o}-preview`,s=a(),u=ll(o),[f,m,b]=_H(o,u),[_]=wS("ImagePreview",typeof t=="object"?t.zIndex:void 0),E=w.useMemo(()=>{var c;if(t===!1)return t;const p=typeof t=="object"?t:{},g=Je(m,b,u,(c=p.rootClassName)!==null&&c!==void 0?c:"");return Object.assign(Object.assign({},p),{transitionName:ed(s,"zoom",p.transitionName),maskTransitionName:ed(s,"fade",p.maskTransitionName),rootClassName:g,zIndex:_})},[t]);return f(w.createElement(nI.PreviewGroup,Object.assign({preview:E,previewPrefixCls:l,icons:xH},r)))};var ML=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const Qv=n=>{const{prefixCls:e,preview:t,className:r,rootClassName:a,style:o}=n,l=ML(n,["prefixCls","preview","className","rootClassName","style"]),{getPrefixCls:s,getPopupContainer:u,className:f,style:m,preview:b}=ad("image"),[_]=ES("Image"),E=s("image",e),c=s(),p=ll(E),[g,y,C]=_H(E,p),T=Je(a,y,C,p),M=Je(r,y,f),[O]=wS("ImagePreview",typeof t=="object"?t.zIndex:void 0),B=w.useMemo(()=>{if(t===!1)return t;const F=typeof t=="object"?t:{},{getContainer:z,closeIcon:U,rootClassName:$}=F,J=ML(F,["getContainer","closeIcon","rootClassName"]);return Object.assign(Object.assign({mask:w.createElement("div",{className:`${E}-mask-info`},w.createElement(xO,null),_==null?void 0:_.preview),icons:xH},J),{rootClassName:Je(T,$),getContainer:z??u,transitionName:ed(c,"zoom",F.transitionName),maskTransitionName:ed(c,"fade",F.maskTransitionName),zIndex:O,closeIcon:U??(b==null?void 0:b.closeIcon)})},[t,_,b==null?void 0:b.closeIcon]),D=Object.assign(Object.assign({},m),o);return g(w.createElement(nI,Object.assign({prefixCls:E,preview:B,rootClassName:T,className:M,style:D},l)))};Qv.PreviewGroup=GZ;const kZ=n=>{const{getPrefixCls:e,direction:t}=w.useContext(Hn),{prefixCls:r,className:a}=n,o=e("input-group",r),l=e("input"),[s,u,f]=lH(l),m=Je(o,f,{[`${o}-lg`]:n.size==="large",[`${o}-sm`]:n.size==="small",[`${o}-compact`]:n.compact,[`${o}-rtl`]:t==="rtl"},u,a),b=w.useContext(gf),_=w.useMemo(()=>Object.assign(Object.assign({},b),{isFormItemInput:!1}),[b]);return s(w.createElement("span",{className:m,style:n.style,onMouseEnter:n.onMouseEnter,onMouseLeave:n.onMouseLeave,onFocus:n.onFocus,onBlur:n.onBlur},w.createElement(gf.Provider,{value:_},n.children)))},$Z=n=>{const{componentCls:e,paddingXS:t}=n;return{[e]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:t,"&-rtl":{direction:"rtl"},[`${e}-input`]:{textAlign:"center",paddingInline:n.paddingXXS},[`&${e}-sm ${e}-input`]:{paddingInline:n.calc(n.paddingXXS).div(2).equal()},[`&${e}-lg ${e}-input`]:{paddingInline:n.paddingXS}}}},VZ=Nr(["Input","OTP"],n=>{const e=qi(n,Bw(n));return[$Z(e)]},Dw);var jZ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const WZ=w.forwardRef((n,e)=>{const{value:t,onChange:r,onActiveChange:a,index:o,mask:l}=n,s=jZ(n,["value","onChange","onActiveChange","index","mask"]),u=t&&typeof l=="string"?l:t,f=c=>{r(o,c.target.value)},m=w.useRef(null);w.useImperativeHandle(e,()=>m.current);const b=()=>{Da(()=>{var c;const p=(c=m.current)===null||c===void 0?void 0:c.input;document.activeElement===p&&p&&p.select()})},_=c=>{const{key:p,ctrlKey:g,metaKey:y}=c;p==="ArrowLeft"?a(o-1):p==="ArrowRight"?a(o+1):p==="z"&&(g||y)&&c.preventDefault(),b()},E=c=>{c.key==="Backspace"&&!t&&a(o-1),b()};return w.createElement(Pw,Object.assign({type:l===!0?"password":"text"},s,{ref:m,value:u,onInput:f,onFocus:b,onKeyDown:_,onKeyUp:E,onMouseDown:b,onMouseUp:b}))});var XZ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};function Cx(n){return(n||"").split("")}const YZ=n=>{const{index:e,prefixCls:t,separator:r}=n,a=typeof r=="function"?r(e):r;return a?w.createElement("span",{className:`${t}-separator`},a):null},qZ=w.forwardRef((n,e)=>{const{prefixCls:t,length:r=6,size:a,defaultValue:o,value:l,onChange:s,formatter:u,separator:f,variant:m,disabled:b,status:_,autoFocus:E,mask:c,type:p,onInput:g,inputMode:y}=n,C=XZ(n,["prefixCls","length","size","defaultValue","value","onChange","formatter","separator","variant","disabled","status","autoFocus","mask","type","onInput","inputMode"]),{getPrefixCls:T,direction:M}=w.useContext(Hn),O=T("otp",t),B=Gm(C,{aria:!0,data:!0,attr:!0}),[D,F,z]=VZ(O),U=Cf(Z=>a??Z),$=w.useContext(gf),J=jO($.status,_),W=w.useMemo(()=>Object.assign(Object.assign({},$),{status:J,hasFeedback:!1,feedbackIcon:null}),[$,J]),Q=w.useRef(null),ae=w.useRef({});w.useImperativeHandle(e,()=>({focus:()=>{var Z;(Z=ae.current[0])===null||Z===void 0||Z.focus()},blur:()=>{var Z;for(let pe=0;pe<r;pe+=1)(Z=ae.current[pe])===null||Z===void 0||Z.blur()},nativeElement:Q.current}));const Y=Z=>u?u(Z):Z,[K,ee]=w.useState(()=>Cx(Y(o||"")));w.useEffect(()=>{l!==void 0&&ee(Cx(l))},[l]);const de=Qa(Z=>{ee(Z),g&&g(Z),s&&Z.length===r&&Z.every(pe=>pe)&&Z.some((pe,xe)=>K[xe]!==pe)&&s(Z.join(""))}),q=Qa((Z,pe)=>{let xe=Jt(K);for(let Ae=0;Ae<Z;Ae+=1)xe[Ae]||(xe[Ae]="");pe.length<=1?xe[Z]=pe:xe=xe.slice(0,Z).concat(Cx(pe)),xe=xe.slice(0,r);for(let Ae=xe.length-1;Ae>=0&&!xe[Ae];Ae-=1)xe.pop();const Oe=Y(xe.map(Ae=>Ae||" ").join(""));return xe=Cx(Oe).map((Ae,Te)=>Ae===" "&&!xe[Te]?xe[Te]:Ae),xe}),ie=(Z,pe)=>{var xe;const Oe=q(Z,pe),Ae=Math.min(Z+pe.length,r-1);Ae!==Z&&Oe[Z]!==void 0&&((xe=ae.current[Ae])===null||xe===void 0||xe.focus()),de(Oe)},he=Z=>{var pe;(pe=ae.current[Z])===null||pe===void 0||pe.focus()},fe={variant:m,disabled:b,status:J,mask:c,type:p,inputMode:y};return D(w.createElement("div",Object.assign({},B,{ref:Q,className:Je(O,{[`${O}-sm`]:U==="small",[`${O}-lg`]:U==="large",[`${O}-rtl`]:M==="rtl"},z,F)}),w.createElement(gf.Provider,{value:W},Array.from({length:r}).map((Z,pe)=>{const xe=`otp-${pe}`,Oe=K[pe]||"";return w.createElement(w.Fragment,{key:xe},w.createElement(WZ,Object.assign({ref:Ae=>{ae.current[pe]=Ae},index:pe,size:U,htmlSize:1,className:`${O}-input`,onChange:ie,value:Oe,onActiveChange:he,autoFocus:pe===0&&E},fe)),pe<r-1&&w.createElement(YZ,{separator:f,index:pe,prefixCls:O}))}))))});var KZ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const JZ=n=>n?w.createElement(xO,null):w.createElement(F$,null),QZ={click:"onClick",hover:"onMouseOver"},ZZ=w.forwardRef((n,e)=>{const{disabled:t,action:r="click",visibilityToggle:a=!0,iconRender:o=JZ}=n,l=w.useContext(Zu),s=t??l,u=typeof a=="object"&&a.visible!==void 0,[f,m]=w.useState(()=>u?a.visible:!1),b=w.useRef(null);w.useEffect(()=>{u&&m(a.visible)},[u,a]);const _=pH(b),E=()=>{var U;if(s)return;f&&_();const $=!f;m($),typeof a=="object"&&((U=a.onVisibleChange)===null||U===void 0||U.call(a,$))},c=U=>{const $=QZ[r]||"",J=o(f),W={[$]:E,className:`${U}-icon`,key:"passwordIcon",onMouseDown:Q=>{Q.preventDefault()},onMouseUp:Q=>{Q.preventDefault()}};return w.cloneElement(w.isValidElement(J)?J:w.createElement("span",null,J),W)},{className:p,prefixCls:g,inputPrefixCls:y,size:C}=n,T=KZ(n,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:M}=w.useContext(Hn),O=M("input",y),B=M("input-password",g),D=a&&c(B),F=Je(B,p,{[`${B}-${C}`]:!!C}),z=Object.assign(Object.assign({},yo(T,["suffix","iconRender","visibilityToggle"])),{type:f?"text":"password",className:F,prefixCls:O,suffix:D});return C&&(z.size=C),w.createElement(Pw,Object.assign({ref:_f(e,b)},z))});var eee=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const tee=w.forwardRef((n,e)=>{const{prefixCls:t,inputPrefixCls:r,className:a,size:o,suffix:l,enterButton:s=!1,addonAfter:u,loading:f,disabled:m,onSearch:b,onChange:_,onCompositionStart:E,onCompositionEnd:c}=n,p=eee(n,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:g,direction:y}=w.useContext(Hn),C=w.useRef(!1),T=g("input-search",t),M=g("input",r),{compactSize:O}=vw(T,y),B=Cf(ie=>{var he;return(he=o??O)!==null&&he!==void 0?he:ie}),D=w.useRef(null),F=ie=>{ie!=null&&ie.target&&ie.type==="click"&&b&&b(ie.target.value,ie,{source:"clear"}),_==null||_(ie)},z=ie=>{var he;document.activeElement===((he=D.current)===null||he===void 0?void 0:he.input)&&ie.preventDefault()},U=ie=>{var he,fe;b&&b((fe=(he=D.current)===null||he===void 0?void 0:he.input)===null||fe===void 0?void 0:fe.value,ie,{source:"input"})},$=ie=>{C.current||f||U(ie)},J=typeof s=="boolean"?w.createElement(xV,null):null,W=`${T}-button`;let Q;const ae=s||{},Y=ae.type&&ae.type.__ANT_BUTTON===!0;Y||ae.type==="button"?Q=al(ae,Object.assign({onMouseDown:z,onClick:ie=>{var he,fe;(fe=(he=ae==null?void 0:ae.props)===null||he===void 0?void 0:he.onClick)===null||fe===void 0||fe.call(he,ie),U(ie)},key:"enterButton"},Y?{className:W,size:B}:{})):Q=w.createElement(pa,{className:W,type:s?"primary":void 0,size:B,disabled:m,key:"enterButton",onMouseDown:z,onClick:U,loading:f,icon:J},s),u&&(Q=[Q,al(u,{key:"addonAfter"})]);const K=Je(T,{[`${T}-rtl`]:y==="rtl",[`${T}-${B}`]:!!B,[`${T}-with-button`]:!!s},a),ee=Object.assign(Object.assign({},p),{className:K,prefixCls:M,type:"search"}),de=ie=>{C.current=!0,E==null||E(ie)},q=ie=>{C.current=!1,c==null||c(ie)};return w.createElement(Pw,Object.assign({ref:_f(D,e),onPressEnter:$},ee,{size:B,onCompositionStart:de,onCompositionEnd:q,addonAfter:Q,suffix:l,onChange:F,disabled:m}))});var nee=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,iee=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],HM={},qs;function ree(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=n.getAttribute("id")||n.getAttribute("data-reactid")||n.getAttribute("name");if(e&&HM[t])return HM[t];var r=window.getComputedStyle(n),a=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),o=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),l=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),s=iee.map(function(f){return"".concat(f,":").concat(r.getPropertyValue(f))}).join(";"),u={sizingStyle:s,paddingSize:o,borderSize:l,boxSizing:a};return e&&t&&(HM[t]=u),u}function aee(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;qs||(qs=document.createElement("textarea"),qs.setAttribute("tab-index","-1"),qs.setAttribute("aria-hidden","true"),qs.setAttribute("name","hiddenTextarea"),document.body.appendChild(qs)),n.getAttribute("wrap")?qs.setAttribute("wrap",n.getAttribute("wrap")):qs.removeAttribute("wrap");var a=ree(n,e),o=a.paddingSize,l=a.borderSize,s=a.boxSizing,u=a.sizingStyle;qs.setAttribute("style","".concat(u,";").concat(nee)),qs.value=n.value||n.placeholder||"";var f=void 0,m=void 0,b,_=qs.scrollHeight;if(s==="border-box"?_+=l:s==="content-box"&&(_-=o),t!==null||r!==null){qs.value=" ";var E=qs.scrollHeight-o;t!==null&&(f=E*t,s==="border-box"&&(f=f+o+l),_=Math.max(f,_)),r!==null&&(m=E*r,s==="border-box"&&(m=m+o+l),b=_>m?"":"hidden",_=Math.min(m,_))}var c={height:_,overflowY:b,resize:"none"};return f&&(c.minHeight=f),m&&(c.maxHeight=m),c}var oee=["prefixCls","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],GM=0,kM=1,$M=2,see=w.forwardRef(function(n,e){var t=n,r=t.prefixCls,a=t.defaultValue,o=t.value,l=t.autoSize,s=t.onResize,u=t.className,f=t.style,m=t.disabled,b=t.onChange;t.onInternalAutoSize;var _=kn(t,oee),E=mo(a,{value:o,postState:function(Z){return Z??""}}),c=vt(E,2),p=c[0],g=c[1],y=function(Z){g(Z.target.value),b==null||b(Z)},C=w.useRef();w.useImperativeHandle(e,function(){return{textArea:C.current}});var T=w.useMemo(function(){return l&&mn(l)==="object"?[l.minRows,l.maxRows]:[]},[l]),M=vt(T,2),O=M[0],B=M[1],D=!!l,F=function(){try{if(document.activeElement===C.current){var Z=C.current,pe=Z.selectionStart,xe=Z.selectionEnd,Oe=Z.scrollTop;C.current.setSelectionRange(pe,xe),C.current.scrollTop=Oe}}catch{}},z=w.useState($M),U=vt(z,2),$=U[0],J=U[1],W=w.useState(),Q=vt(W,2),ae=Q[0],Y=Q[1],K=function(){J(GM)};wa(function(){D&&K()},[o,O,B,D]),wa(function(){if($===GM)J(kM);else if($===kM){var fe=aee(C.current,!1,O,B);J($M),Y(fe)}else F()},[$]);var ee=w.useRef(),de=function(){Da.cancel(ee.current)},q=function(Z){$===$M&&(s==null||s(Z),l&&(de(),ee.current=Da(function(){K()})))};w.useEffect(function(){return de},[]);var ie=D?ae:null,he=Ne(Ne({},f),ie);return($===GM||$===kM)&&(he.overflowY="hidden",he.overflowX="hidden"),w.createElement(Hm,{onResize:q,disabled:!(l||s)},w.createElement("textarea",Pt({},_,{ref:C,style:he,className:Je(r,u,ue({},"".concat(r,"-disabled"),m)),disabled:m,value:p,onChange:y})))}),lee=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","showCount","count","className","style","disabled","hidden","classNames","styles","onResize","onClear","onPressEnter","readOnly","autoSize","onKeyDown"],cee=Xe.forwardRef(function(n,e){var t,r=n.defaultValue,a=n.value,o=n.onFocus,l=n.onBlur,s=n.onChange,u=n.allowClear,f=n.maxLength,m=n.onCompositionStart,b=n.onCompositionEnd,_=n.suffix,E=n.prefixCls,c=E===void 0?"rc-textarea":E,p=n.showCount,g=n.count,y=n.className,C=n.style,T=n.disabled,M=n.hidden,O=n.classNames,B=n.styles,D=n.onResize,F=n.onClear,z=n.onPressEnter,U=n.readOnly,$=n.autoSize,J=n.onKeyDown,W=kn(n,lee),Q=mo(r,{value:a,defaultValue:r}),ae=vt(Q,2),Y=ae[0],K=ae[1],ee=Y==null?"":String(Y),de=Xe.useState(!1),q=vt(de,2),ie=q[0],he=q[1],fe=Xe.useRef(!1),Z=Xe.useState(null),pe=vt(Z,2),xe=pe[0],Oe=pe[1],Ae=w.useRef(null),Te=w.useRef(null),ze=function(){var We;return(We=Te.current)===null||We===void 0?void 0:We.textArea},yt=function(){ze().focus()};w.useImperativeHandle(e,function(){var Ct;return{resizableTextArea:Te.current,focus:yt,blur:function(){ze().blur()},nativeElement:((Ct=Ae.current)===null||Ct===void 0?void 0:Ct.nativeElement)||ze()}}),w.useEffect(function(){he(function(Ct){return!T&&Ct})},[T]);var Be=Xe.useState(null),Ce=vt(Be,2),re=Ce[0],Fe=Ce[1];Xe.useEffect(function(){if(re){var Ct;(Ct=ze()).setSelectionRange.apply(Ct,Jt(re))}},[re]);var Ie=fH(g,p),qe=(t=Ie.max)!==null&&t!==void 0?t:f,$e=Number(qe)>0,ct=Ie.strategy(ee),st=!!qe&&ct>qe,ce=function(We,rt){var Se=rt;!fe.current&&Ie.exceedFormatter&&Ie.max&&Ie.strategy(rt)>Ie.max&&(Se=Ie.exceedFormatter(rt,{max:Ie.max}),rt!==Se&&Fe([ze().selectionStart||0,ze().selectionEnd||0])),K(Se),W1(We.currentTarget,We,s,Se)},oe=function(We){fe.current=!0,m==null||m(We)},we=function(We){fe.current=!1,ce(We,We.currentTarget.value),b==null||b(We)},De=function(We){ce(We,We.target.value)},Ke=function(We){We.key==="Enter"&&z&&z(We),J==null||J(We)},He=function(We){he(!0),o==null||o(We)},gt=function(We){he(!1),l==null||l(We)},lt=function(We){K(""),yt(),W1(ze(),We,s)},pt=_,It;Ie.show&&(Ie.showFormatter?It=Ie.showFormatter({value:ee,count:ct,maxLength:qe}):It="".concat(ct).concat($e?" / ".concat(qe):""),pt=Xe.createElement(Xe.Fragment,null,pt,Xe.createElement("span",{className:Je("".concat(c,"-data-count"),O==null?void 0:O.count),style:B==null?void 0:B.count},It)));var ot=function(We){var rt;D==null||D(We),(rt=ze())!==null&&rt!==void 0&&rt.style.height&&Oe(!0)},_t=!$&&!p&&!u;return Xe.createElement(dH,{ref:Ae,value:ee,allowClear:u,handleReset:lt,suffix:pt,prefixCls:c,classNames:Ne(Ne({},O),{},{affixWrapper:Je(O==null?void 0:O.affixWrapper,ue(ue({},"".concat(c,"-show-count"),p),"".concat(c,"-textarea-allow-clear"),u))}),disabled:T,focused:ie,className:Je(y,st&&"".concat(c,"-out-of-range")),style:Ne(Ne({},C),xe&&!_t?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":typeof It=="string"?It:void 0}},hidden:M,readOnly:U,onClear:F},Xe.createElement(see,Pt({},W,{autoSize:$,maxLength:f,onKeyDown:Ke,onChange:De,onFocus:He,onBlur:gt,onCompositionStart:oe,onCompositionEnd:we,className:Je(O==null?void 0:O.textarea),style:Ne(Ne({},B==null?void 0:B.textarea),{},{resize:C==null?void 0:C.resize}),disabled:T,prefixCls:c,onResize:ot,ref:Te,readOnly:U})))});const uee=n=>{const{componentCls:e,paddingLG:t}=n,r=`${e}-textarea`;return{[r]:{position:"relative","&-show-count":{[`> ${e}`]:{height:"100%"},[`${e}-data-count`]:{position:"absolute",bottom:n.calc(n.fontSize).mul(n.lineHeight).mul(-1).equal(),insetInlineEnd:0,color:n.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},[`
        &-allow-clear > ${e},
        &-affix-wrapper${r}-has-feedback ${e}
      `]:{paddingInlineEnd:t},[`&-affix-wrapper${e}-affix-wrapper`]:{padding:0,[`> textarea${e}`]:{fontSize:"inherit",border:"none",outline:"none",background:"transparent",minHeight:n.calc(n.controlHeight).sub(n.calc(n.lineWidth).mul(2)).equal(),"&:focus":{boxShadow:"none !important"}},[`${e}-suffix`]:{margin:0,"> *:not(:last-child)":{marginInline:0},[`${e}-clear-icon`]:{position:"absolute",insetInlineEnd:n.paddingInline,insetBlockStart:n.paddingXS},[`${r}-suffix`]:{position:"absolute",top:0,insetInlineEnd:n.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}},[`&-affix-wrapper${e}-affix-wrapper-sm`]:{[`${e}-suffix`]:{[`${e}-clear-icon`]:{insetInlineEnd:n.paddingInlineSM}}}}}},dee=Nr(["Input","TextArea"],n=>{const e=qi(n,Bw(n));return[uee(e)]},Dw,{resetFont:!1});var fee=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const hee=w.forwardRef((n,e)=>{var t;const{prefixCls:r,bordered:a=!0,size:o,disabled:l,status:s,allowClear:u,classNames:f,rootClassName:m,className:b,style:_,styles:E,variant:c}=n,p=fee(n,["prefixCls","bordered","size","disabled","status","allowClear","classNames","rootClassName","className","style","styles","variant"]),{getPrefixCls:g,direction:y,allowClear:C,autoComplete:T,className:M,style:O,classNames:B,styles:D}=ad("textArea"),F=w.useContext(Zu),z=l??F,{status:U,hasFeedback:$,feedbackIcon:J}=w.useContext(gf),W=jO(U,s),Q=w.useRef(null);w.useImperativeHandle(e,()=>{var Oe;return{resizableTextArea:(Oe=Q.current)===null||Oe===void 0?void 0:Oe.resizableTextArea,focus:Ae=>{var Te,ze;uH((ze=(Te=Q.current)===null||Te===void 0?void 0:Te.resizableTextArea)===null||ze===void 0?void 0:ze.textArea,Ae)},blur:()=>{var Ae;return(Ae=Q.current)===null||Ae===void 0?void 0:Ae.blur()}}});const ae=g("input",r),Y=ll(ae),[K,ee,de]=sH(ae,m),[q]=dee(ae,Y),{compactSize:ie,compactItemClassnames:he}=vw(ae,y),fe=Cf(Oe=>{var Ae;return(Ae=o??ie)!==null&&Ae!==void 0?Ae:Oe}),[Z,pe]=y4("textArea",c,a),xe=hH(u??C);return K(q(w.createElement(cee,Object.assign({autoComplete:T},p,{style:Object.assign(Object.assign({},O),_),styles:Object.assign(Object.assign({},D),E),disabled:z,allowClear:xe,className:Je(de,Y,b,m,he,M),classNames:Object.assign(Object.assign(Object.assign({},f),B),{textarea:Je({[`${ae}-sm`]:fe==="small",[`${ae}-lg`]:fe==="large"},ee,f==null?void 0:f.textarea,B.textarea),variant:Je({[`${ae}-${Z}`]:pe},f2(ae,W)),affixWrapper:Je(`${ae}-textarea-affix-wrapper`,{[`${ae}-affix-wrapper-rtl`]:y==="rtl",[`${ae}-affix-wrapper-sm`]:fe==="small",[`${ae}-affix-wrapper-lg`]:fe==="large",[`${ae}-textarea-show-count`]:n.showCount||((t=n.count)===null||t===void 0?void 0:t.show)},ee)}),prefixCls:ae,suffix:$&&w.createElement("span",{className:`${ae}-textarea-suffix`},J),ref:Q}))))}),P0=Pw;P0.Group=kZ;P0.Search=tee;P0.TextArea=hee;P0.Password=ZZ;P0.OTP=qZ;function pee(n,e,t){return typeof t=="boolean"?t:n.length?!0:Qu(e).some(a=>a.type===Y4)}var CH=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};function Lw(n){let{suffixCls:e,tagName:t,displayName:r}=n;return a=>w.forwardRef((l,s)=>w.createElement(a,Object.assign({ref:s,suffixCls:e,tagName:t},l)))}const iI=w.forwardRef((n,e)=>{const{prefixCls:t,suffixCls:r,className:a,tagName:o}=n,l=CH(n,["prefixCls","suffixCls","className","tagName"]),{getPrefixCls:s}=w.useContext(Hn),u=s("layout",t),[f,m,b]=X4(u),_=r?`${u}-${r}`:u;return f(w.createElement(o,Object.assign({className:Je(t||_,a,m,b),ref:e},l)))}),mee=w.forwardRef((n,e)=>{const{direction:t}=w.useContext(Hn),[r,a]=w.useState([]),{prefixCls:o,className:l,rootClassName:s,children:u,hasSider:f,tagName:m,style:b}=n,_=CH(n,["prefixCls","className","rootClassName","children","hasSider","tagName","style"]),E=yo(_,["suffixCls"]),{getPrefixCls:c,className:p,style:g}=ad("layout"),y=c("layout",o),C=pee(r,u,f),[T,M,O]=X4(y),B=Je(y,{[`${y}-has-sider`]:C,[`${y}-rtl`]:t==="rtl"},p,l,s,M,O),D=w.useMemo(()=>({siderHook:{addSider:F=>{a(z=>[].concat(Jt(z),[F]))},removeSider:F=>{a(z=>z.filter(U=>U!==F))}}}),[]);return T(w.createElement(V4.Provider,{value:D},w.createElement(m,Object.assign({ref:e,className:B,style:Object.assign(Object.assign({},g),b)},E),u)))}),gee=Lw({tagName:"div",displayName:"Layout"})(mee),vee=Lw({suffixCls:"header",tagName:"header",displayName:"Header"})(iI),yee=Lw({suffixCls:"footer",tagName:"footer",displayName:"Footer"})(iI),bee=Lw({suffixCls:"content",tagName:"main",displayName:"Content"})(iI),$m=gee;$m.Header=vee;$m.Footer=yee;$m.Content=bee;$m.Sider=Y4;$m._InternalSiderContext=Iw;const Y1=100,EH=Y1/5,wH=Y1/2-EH/2,VM=wH*2*Math.PI,TL=50,RL=n=>{const{dotClassName:e,style:t,hasCircleCls:r}=n;return w.createElement("circle",{className:Je(`${e}-circle`,{[`${e}-circle-bg`]:r}),r:wH,cx:TL,cy:TL,strokeWidth:EH,style:t})},See=n=>{let{percent:e,prefixCls:t}=n;const r=`${t}-dot`,a=`${r}-holder`,o=`${a}-hidden`,[l,s]=w.useState(!1);wa(()=>{e!==0&&s(!0)},[e!==0]);const u=Math.max(Math.min(e,100),0);if(!l)return null;const f={strokeDashoffset:`${VM/4}`,strokeDasharray:`${VM*u/100} ${VM*(100-u)/100}`};return w.createElement("span",{className:Je(a,`${r}-progress`,u<=0&&o)},w.createElement("svg",{viewBox:`0 0 ${Y1} ${Y1}`,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":u},w.createElement(RL,{dotClassName:r,hasCircleCls:!0}),w.createElement(RL,{dotClassName:r,style:f})))};function _ee(n){const{prefixCls:e,percent:t=0}=n,r=`${e}-dot`,a=`${r}-holder`,o=`${a}-hidden`;return w.createElement(w.Fragment,null,w.createElement("span",{className:Je(a,t>0&&o)},w.createElement("span",{className:Je(r,`${e}-dot-spin`)},[1,2,3,4].map(l=>w.createElement("i",{className:`${e}-dot-item`,key:l})))),w.createElement(See,{prefixCls:e,percent:t}))}function xee(n){const{prefixCls:e,indicator:t,percent:r}=n,a=`${e}-dot`;return t&&w.isValidElement(t)?al(t,{className:Je(t.props.className,a),percent:r}):w.createElement(_ee,{prefixCls:e,percent:r})}const Cee=new rr("antSpinMove",{to:{opacity:1}}),Eee=new rr("antRotate",{to:{transform:"rotate(405deg)"}}),wee=n=>{const{componentCls:e,calc:t}=n;return{[e]:Object.assign(Object.assign({},Fo(n)),{position:"absolute",display:"none",color:n.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${n.motionDurationSlow} ${n.motionEaseInOutCirc}`,"&-spinning":{position:"relative",display:"inline-block",opacity:1},[`${e}-text`]:{fontSize:n.fontSize,paddingTop:t(t(n.dotSize).sub(n.fontSize)).div(2).add(2).equal()},"&-fullscreen":{position:"fixed",width:"100vw",height:"100vh",backgroundColor:n.colorBgMask,zIndex:n.zIndexPopupBase,inset:0,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",opacity:0,visibility:"hidden",transition:`all ${n.motionDurationMid}`,"&-show":{opacity:1,visibility:"visible"},[e]:{[`${e}-dot-holder`]:{color:n.colorWhite},[`${e}-text`]:{color:n.colorTextLightSolid}}},"&-nested-loading":{position:"relative",[`> div > ${e}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:n.contentHeight,[`${e}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:t(n.dotSize).mul(-1).div(2).equal()},[`${e}-text`]:{position:"absolute",top:"50%",width:"100%",textShadow:`0 1px 2px ${n.colorBgContainer}`},[`&${e}-show-text ${e}-dot`]:{marginTop:t(n.dotSize).div(2).mul(-1).sub(10).equal()},"&-sm":{[`${e}-dot`]:{margin:t(n.dotSizeSM).mul(-1).div(2).equal()},[`${e}-text`]:{paddingTop:t(t(n.dotSizeSM).sub(n.fontSize)).div(2).add(2).equal()},[`&${e}-show-text ${e}-dot`]:{marginTop:t(n.dotSizeSM).div(2).mul(-1).sub(10).equal()}},"&-lg":{[`${e}-dot`]:{margin:t(n.dotSizeLG).mul(-1).div(2).equal()},[`${e}-text`]:{paddingTop:t(t(n.dotSizeLG).sub(n.fontSize)).div(2).add(2).equal()},[`&${e}-show-text ${e}-dot`]:{marginTop:t(n.dotSizeLG).div(2).mul(-1).sub(10).equal()}}},[`${e}-container`]:{position:"relative",transition:`opacity ${n.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:n.colorBgContainer,opacity:0,transition:`all ${n.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${e}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:n.spinDotDefault},[`${e}-dot-holder`]:{width:"1em",height:"1em",fontSize:n.dotSize,display:"inline-block",transition:`transform ${n.motionDurationSlow} ease, opacity ${n.motionDurationSlow} ease`,transformOrigin:"50% 50%",lineHeight:1,color:n.colorPrimary,"&-hidden":{transform:"scale(0.3)",opacity:0}},[`${e}-dot-progress`]:{position:"absolute",inset:0},[`${e}-dot`]:{position:"relative",display:"inline-block",fontSize:n.dotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:t(n.dotSize).sub(t(n.marginXXS).div(2)).div(2).equal(),height:t(n.dotSize).sub(t(n.marginXXS).div(2)).div(2).equal(),background:"currentColor",borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:Cee,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0,animationDelay:"0s"},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:Eee,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"},"&-circle":{strokeLinecap:"round",transition:["stroke-dashoffset","stroke-dasharray","stroke","stroke-width","opacity"].map(r=>`${r} ${n.motionDurationSlow} ease`).join(","),fillOpacity:0,stroke:"currentcolor"},"&-circle-bg":{stroke:n.colorFillSecondary}},[`&-sm ${e}-dot`]:{"&, &-holder":{fontSize:n.dotSizeSM}},[`&-sm ${e}-dot-holder`]:{i:{width:t(t(n.dotSizeSM).sub(t(n.marginXXS).div(2))).div(2).equal(),height:t(t(n.dotSizeSM).sub(t(n.marginXXS).div(2))).div(2).equal()}},[`&-lg ${e}-dot`]:{"&, &-holder":{fontSize:n.dotSizeLG}},[`&-lg ${e}-dot-holder`]:{i:{width:t(t(n.dotSizeLG).sub(n.marginXXS)).div(2).equal(),height:t(t(n.dotSizeLG).sub(n.marginXXS)).div(2).equal()}},[`&${e}-show-text ${e}-text`]:{display:"block"}})}},Aee=n=>{const{controlHeightLG:e,controlHeight:t}=n;return{contentHeight:400,dotSize:e/2,dotSizeSM:e*.35,dotSizeLG:t}},Mee=Nr("Spin",n=>{const e=qi(n,{spinDotDefault:n.colorTextDescription});return[wee(e)]},Aee),Tee=200,OL=[[30,.05],[70,.03],[96,.01]];function Ree(n,e){const[t,r]=w.useState(0),a=w.useRef(null),o=e==="auto";return w.useEffect(()=>(o&&n&&(r(0),a.current=setInterval(()=>{r(l=>{const s=100-l;for(let u=0;u<OL.length;u+=1){const[f,m]=OL[u];if(l<=f)return l+s*m}return l})},Tee)),()=>{clearInterval(a.current)}),[o,n]),o?t:e}var Oee=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};let AH;function Iee(n,e){return!!n&&!!e&&!Number.isNaN(Number(e))}const rI=n=>{var e;const{prefixCls:t,spinning:r=!0,delay:a=0,className:o,rootClassName:l,size:s="default",tip:u,wrapperClassName:f,style:m,children:b,fullscreen:_=!1,indicator:E,percent:c}=n,p=Oee(n,["prefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","fullscreen","indicator","percent"]),{getPrefixCls:g,direction:y,className:C,style:T,indicator:M}=ad("spin"),O=g("spin",t),[B,D,F]=Mee(O),[z,U]=w.useState(()=>r&&!Iee(r,a)),$=Ree(z,c);w.useEffect(()=>{if(r){const ee=ZQ(a,()=>{U(!0)});return ee(),()=>{var de;(de=ee==null?void 0:ee.cancel)===null||de===void 0||de.call(ee)}}U(!1)},[a,r]);const J=w.useMemo(()=>typeof b<"u"&&!_,[b,_]),W=Je(O,C,{[`${O}-sm`]:s==="small",[`${O}-lg`]:s==="large",[`${O}-spinning`]:z,[`${O}-show-text`]:!!u,[`${O}-rtl`]:y==="rtl"},o,!_&&l,D,F),Q=Je(`${O}-container`,{[`${O}-blur`]:z}),ae=(e=E??M)!==null&&e!==void 0?e:AH,Y=Object.assign(Object.assign({},T),m),K=w.createElement("div",Object.assign({},p,{style:Y,className:W,"aria-live":"polite","aria-busy":z}),w.createElement(xee,{prefixCls:O,indicator:ae,percent:$}),u&&(J||_)?w.createElement("div",{className:`${O}-text`},u):null);return B(J?w.createElement("div",Object.assign({},p,{className:Je(`${O}-nested-loading`,f,D,F)}),z&&w.createElement("div",{key:"loading"},K),w.createElement("div",{className:Q,key:"container"},b)):_?w.createElement("div",{className:Je(`${O}-fullscreen`,{[`${O}-fullscreen-show`]:z},l,D,F)},K):K)};rI.setDefaultIndicator=n=>{AH=n};let Fl=null,pm=n=>n(),rS=[],aS={};function IL(){const{getContainer:n,duration:e,rtl:t,maxCount:r,top:a}=aS,o=(n==null?void 0:n())||document.body;return{getContainer:()=>o,duration:e,rtl:t,maxCount:r,top:a}}const Bee=Xe.forwardRef((n,e)=>{const{messageConfig:t,sync:r}=n,{getPrefixCls:a}=w.useContext(Hn),o=aS.prefixCls||a("message"),l=w.useContext(vK),[s,u]=MF(Object.assign(Object.assign(Object.assign({},t),{prefixCls:o}),l.message));return Xe.useImperativeHandle(e,()=>{const f=Object.assign({},s);return Object.keys(f).forEach(m=>{f[m]=function(){return r(),s[m].apply(s,arguments)}}),{instance:f,sync:r}}),u}),Dee=Xe.forwardRef((n,e)=>{const[t,r]=Xe.useState(IL),a=()=>{r(IL)};Xe.useEffect(a,[]);const o=yF(),l=o.getRootPrefixCls(),s=o.getIconPrefixCls(),u=o.getTheme(),f=Xe.createElement(Bee,{ref:e,sync:a,messageConfig:t});return Xe.createElement(xf,{prefixCls:l,iconPrefixCls:s,theme:u},o.holderRender?o.holderRender(f):f)});function Nw(){if(!Fl){const n=document.createDocumentFragment(),e={fragment:n};Fl=e,pm(()=>{zO()(Xe.createElement(Dee,{ref:r=>{const{instance:a,sync:o}=r||{};Promise.resolve().then(()=>{!e.instance&&a&&(e.instance=a,e.sync=o,Nw())})}}),n)});return}Fl.instance&&(rS.forEach(n=>{const{type:e,skipped:t}=n;if(!t)switch(e){case"open":{pm(()=>{const r=Fl.instance.open(Object.assign(Object.assign({},aS),n.config));r==null||r.then(n.resolve),n.setCloseFn(r)});break}case"destroy":pm(()=>{Fl==null||Fl.instance.destroy(n.key)});break;default:pm(()=>{var r;const a=(r=Fl.instance)[e].apply(r,Jt(n.args));a==null||a.then(n.resolve),n.setCloseFn(a)})}}),rS=[])}function Pee(n){aS=Object.assign(Object.assign({},aS),n),pm(()=>{var e;(e=Fl==null?void 0:Fl.sync)===null||e===void 0||e.call(Fl)})}function Lee(n){const e=NO(t=>{let r;const a={type:"open",config:n,resolve:t,setCloseFn:o=>{r=o}};return rS.push(a),()=>{r?pm(()=>{r()}):a.skipped=!0}});return Nw(),e}function Nee(n,e){const t=NO(r=>{let a;const o={type:n,args:e,resolve:r,setCloseFn:l=>{a=l}};return rS.push(o),()=>{a?pm(()=>{a()}):o.skipped=!0}});return Nw(),t}const zee=n=>{rS.push({type:"destroy",key:n}),Nw()},Uee=["success","info","warning","error","loading"],Fee={open:Lee,destroy:zee,config:Pee,useMessage:MW,_InternalPanelDoNotUseOrYouWillBeFired:bW},MH=Fee;Uee.forEach(n=>{MH[n]=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Nee(n,t)}});var Hee=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const Gee=n=>{const{prefixCls:e,className:t,closeIcon:r,closable:a,type:o,title:l,children:s,footer:u}=n,f=Hee(n,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:m}=w.useContext(Hn),b=m(),_=e||m("modal"),E=ll(b),[c,p,g]=i4(_,E),y=`${_}-confirm`;let C={};return o?C={closable:a??!1,title:"",footer:"",children:w.createElement(a4,Object.assign({},n,{prefixCls:_,confirmPrefixCls:y,rootPrefixCls:b,content:s}))}:C={closable:a??!0,title:l,footer:u!==null&&w.createElement(QF,Object.assign({},n)),children:s},c(w.createElement(kF,Object.assign({prefixCls:_,className:Je(p,`${_}-pure-panel`,o&&y,o&&`${y}-${o}`,t,g,E)},f,{closeIcon:JF(_,r),closable:a},C)))},kee=yK(Gee);function TH(n){return IS(c4(n))}const $l=r4;$l.useModal=gK;$l.info=function(e){return IS(u4(e))};$l.success=function(e){return IS(d4(e))};$l.error=function(e){return IS(f4(e))};$l.warning=TH;$l.warn=TH;$l.confirm=function(e){return IS(h4(e))};$l.destroyAll=function(){for(;fm.length;){const e=fm.pop();e&&e()}};$l.config=dK;$l._InternalPanelDoNotUseOrYouWillBeFired=kee;var $ee={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},Vee=function(){var e=w.useRef([]),t=w.useRef(null);return w.useEffect(function(){var r=Date.now(),a=!1;e.current.forEach(function(o){if(o){a=!0;var l=o.style;l.transitionDuration=".3s, .3s, .3s, .06s",t.current&&r-t.current<100&&(l.transitionDuration="0s, 0s")}}),a&&(t.current=Date.now())}),e.current},BL=0,jee=us();function Wee(){var n;return jee?(n=BL,BL+=1):n="TEST_OR_SSR",n}const Xee=function(n){var e=w.useState(),t=vt(e,2),r=t[0],a=t[1];return w.useEffect(function(){a("rc_progress_".concat(Wee()))},[]),n||r};var DL=function(e){var t=e.bg,r=e.children;return w.createElement("div",{style:{width:"100%",height:"100%",background:t}},r)};function PL(n,e){return Object.keys(n).map(function(t){var r=parseFloat(t),a="".concat(Math.floor(r*e),"%");return"".concat(n[t]," ").concat(a)})}var Yee=w.forwardRef(function(n,e){var t=n.prefixCls,r=n.color,a=n.gradientId,o=n.radius,l=n.style,s=n.ptg,u=n.strokeLinecap,f=n.strokeWidth,m=n.size,b=n.gapDegree,_=r&&mn(r)==="object",E=_?"#FFF":void 0,c=m/2,p=w.createElement("circle",{className:"".concat(t,"-circle-path"),r:o,cx:c,cy:c,stroke:E,strokeLinecap:u,strokeWidth:f,opacity:s===0?0:1,style:l,ref:e});if(!_)return p;var g="".concat(a,"-conic"),y=b?"".concat(180+b/2,"deg"):"0deg",C=PL(r,(360-b)/360),T=PL(r,1),M="conic-gradient(from ".concat(y,", ").concat(C.join(", "),")"),O="linear-gradient(to ".concat(b?"bottom":"top",", ").concat(T.join(", "),")");return w.createElement(w.Fragment,null,w.createElement("mask",{id:g},p),w.createElement("foreignObject",{x:0,y:0,width:m,height:m,mask:"url(#".concat(g,")")},w.createElement(DL,{bg:O},w.createElement(DL,{bg:M}))))}),db=100,jM=function(e,t,r,a,o,l,s,u,f,m){var b=arguments.length>10&&arguments[10]!==void 0?arguments[10]:0,_=r/100*360*((360-l)/360),E=l===0?0:{bottom:0,top:180,left:90,right:-90}[s],c=(100-a)/100*t;f==="round"&&a!==100&&(c+=m/2,c>=t&&(c=t-.01));var p=db/2;return{stroke:typeof u=="string"?u:void 0,strokeDasharray:"".concat(t,"px ").concat(e),strokeDashoffset:c+b,transform:"rotate(".concat(o+_+E,"deg)"),transformOrigin:"".concat(p,"px ").concat(p,"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},qee=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function LL(n){var e=n??[];return Array.isArray(e)?e:[e]}var Kee=function(e){var t=Ne(Ne({},$ee),e),r=t.id,a=t.prefixCls,o=t.steps,l=t.strokeWidth,s=t.trailWidth,u=t.gapDegree,f=u===void 0?0:u,m=t.gapPosition,b=t.trailColor,_=t.strokeLinecap,E=t.style,c=t.className,p=t.strokeColor,g=t.percent,y=kn(t,qee),C=db/2,T=Xee(r),M="".concat(T,"-gradient"),O=C-l/2,B=Math.PI*2*O,D=f>0?90+f/2:-90,F=B*((360-f)/360),z=mn(o)==="object"?o:{count:o,gap:2},U=z.count,$=z.gap,J=LL(g),W=LL(p),Q=W.find(function(ie){return ie&&mn(ie)==="object"}),ae=Q&&mn(Q)==="object",Y=ae?"butt":_,K=jM(B,F,0,100,D,f,m,b,Y,l),ee=Vee(),de=function(){var he=0;return J.map(function(fe,Z){var pe=W[Z]||W[W.length-1],xe=jM(B,F,he,fe,D,f,m,pe,Y,l);return he+=fe,w.createElement(Yee,{key:Z,color:pe,ptg:fe,radius:O,prefixCls:a,gradientId:M,style:xe,strokeLinecap:Y,strokeWidth:l,gapDegree:f,ref:function(Ae){ee[Z]=Ae},size:db})}).reverse()},q=function(){var he=Math.round(U*(J[0]/100)),fe=100/U,Z=0;return new Array(U).fill(null).map(function(pe,xe){var Oe=xe<=he-1?W[0]:b,Ae=Oe&&mn(Oe)==="object"?"url(#".concat(M,")"):void 0,Te=jM(B,F,Z,fe,D,f,m,Oe,"butt",l,$);return Z+=(F-Te.strokeDashoffset+$)*100/F,w.createElement("circle",{key:xe,className:"".concat(a,"-circle-path"),r:O,cx:C,cy:C,stroke:Ae,strokeWidth:l,opacity:1,style:Te,ref:function(yt){ee[xe]=yt}})})};return w.createElement("svg",Pt({className:Je("".concat(a,"-circle"),c),viewBox:"0 0 ".concat(db," ").concat(db),style:E,id:r,role:"presentation"},y),!U&&w.createElement("circle",{className:"".concat(a,"-circle-trail"),r:O,cx:C,cy:C,stroke:b,strokeLinecap:Y,strokeWidth:s||l,style:K}),U?q():de())};function Lh(n){return!n||n<0?0:n>100?100:n}function q1(n){let{success:e,successPercent:t}=n,r=t;return e&&"progress"in e&&(r=e.progress),e&&"percent"in e&&(r=e.percent),r}const Jee=n=>{let{percent:e,success:t,successPercent:r}=n;const a=Lh(q1({success:t,successPercent:r}));return[a,Lh(Lh(e)-a)]},Qee=n=>{let{success:e={},strokeColor:t}=n;const{strokeColor:r}=e;return[r||Yv.green,t||null]},zw=(n,e,t)=>{var r,a,o,l;let s=-1,u=-1;if(e==="step"){const f=t.steps,m=t.strokeWidth;typeof n=="string"||typeof n>"u"?(s=n==="small"?2:14,u=m??8):typeof n=="number"?[s,u]=[n,n]:[s=14,u=8]=Array.isArray(n)?n:[n.width,n.height],s*=f}else if(e==="line"){const f=t==null?void 0:t.strokeWidth;typeof n=="string"||typeof n>"u"?u=f||(n==="small"?6:8):typeof n=="number"?[s,u]=[n,n]:[s=-1,u=8]=Array.isArray(n)?n:[n.width,n.height]}else(e==="circle"||e==="dashboard")&&(typeof n=="string"||typeof n>"u"?[s,u]=n==="small"?[60,60]:[120,120]:typeof n=="number"?[s,u]=[n,n]:Array.isArray(n)&&(s=(a=(r=n[0])!==null&&r!==void 0?r:n[1])!==null&&a!==void 0?a:120,u=(l=(o=n[0])!==null&&o!==void 0?o:n[1])!==null&&l!==void 0?l:120));return[s,u]},Zee=3,ete=n=>Zee/n*100,tte=n=>{const{prefixCls:e,trailColor:t=null,strokeLinecap:r="round",gapPosition:a,gapDegree:o,width:l=120,type:s,children:u,success:f,size:m=l,steps:b}=n,[_,E]=zw(m,"circle");let{strokeWidth:c}=n;c===void 0&&(c=Math.max(ete(_),6));const p={width:_,height:E,fontSize:_*.15+6},g=w.useMemo(()=>{if(o||o===0)return o;if(s==="dashboard")return 75},[o,s]),y=Jee(n),C=a||s==="dashboard"&&"bottom"||void 0,T=Object.prototype.toString.call(n.strokeColor)==="[object Object]",M=Qee({success:f,strokeColor:n.strokeColor}),O=Je(`${e}-inner`,{[`${e}-circle-gradient`]:T}),B=w.createElement(Kee,{steps:b,percent:b?y[1]:y,strokeWidth:c,trailWidth:c,strokeColor:b?M[1]:M,strokeLinecap:r,trailColor:t,prefixCls:e,gapDegree:g,gapPosition:C}),D=_<=20,F=w.createElement("div",{className:O,style:p},B,!D&&u);return D?w.createElement(Hl,{title:u},F):F},K1="--progress-line-stroke-color",RH="--progress-percent",NL=n=>{const e=n?"100%":"-100%";return new rr(`antProgress${n?"RTL":"LTR"}Active`,{"0%":{transform:`translateX(${e}) scaleX(0)`,opacity:.1},"20%":{transform:`translateX(${e}) scaleX(0)`,opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}})},nte=n=>{const{componentCls:e,iconCls:t}=n;return{[e]:Object.assign(Object.assign({},Fo(n)),{display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:n.fontSize},[`${e}-outer`]:{display:"inline-flex",alignItems:"center",width:"100%"},[`${e}-inner`]:{position:"relative",display:"inline-block",width:"100%",flex:1,overflow:"hidden",verticalAlign:"middle",backgroundColor:n.remainingColor,borderRadius:n.lineBorderRadius},[`${e}-inner:not(${e}-circle-gradient)`]:{[`${e}-circle-path`]:{stroke:n.defaultColor}},[`${e}-success-bg, ${e}-bg`]:{position:"relative",background:n.defaultColor,borderRadius:n.lineBorderRadius,transition:`all ${n.motionDurationSlow} ${n.motionEaseInOutCirc}`},[`${e}-layout-bottom`]:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",[`${e}-text`]:{width:"max-content",marginInlineStart:0,marginTop:n.marginXXS}},[`${e}-bg`]:{overflow:"hidden","&::after":{content:'""',background:{_multi_value_:!0,value:["inherit",`var(${K1})`]},height:"100%",width:`calc(1 / var(${RH}) * 100%)`,display:"block"},[`&${e}-bg-inner`]:{minWidth:"max-content","&::after":{content:"none"},[`${e}-text-inner`]:{color:n.colorWhite,[`&${e}-text-bright`]:{color:"rgba(0, 0, 0, 0.45)"}}}},[`${e}-success-bg`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:n.colorSuccess},[`${e}-text`]:{display:"inline-block",marginInlineStart:n.marginXS,color:n.colorText,lineHeight:1,width:"2em",whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal",[t]:{fontSize:n.fontSize},[`&${e}-text-outer`]:{width:"max-content"},[`&${e}-text-outer${e}-text-start`]:{width:"max-content",marginInlineStart:0,marginInlineEnd:n.marginXS}},[`${e}-text-inner`]:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",marginInlineStart:0,padding:`0 ${Mt(n.paddingXXS)}`,[`&${e}-text-start`]:{justifyContent:"start"},[`&${e}-text-end`]:{justifyContent:"end"}},[`&${e}-status-active`]:{[`${e}-bg::before`]:{position:"absolute",inset:0,backgroundColor:n.colorBgContainer,borderRadius:n.lineBorderRadius,opacity:0,animationName:NL(),animationDuration:n.progressActiveMotionDuration,animationTimingFunction:n.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'}},[`&${e}-rtl${e}-status-active`]:{[`${e}-bg::before`]:{animationName:NL(!0)}},[`&${e}-status-exception`]:{[`${e}-bg`]:{backgroundColor:n.colorError},[`${e}-text`]:{color:n.colorError}},[`&${e}-status-exception ${e}-inner:not(${e}-circle-gradient)`]:{[`${e}-circle-path`]:{stroke:n.colorError}},[`&${e}-status-success`]:{[`${e}-bg`]:{backgroundColor:n.colorSuccess},[`${e}-text`]:{color:n.colorSuccess}},[`&${e}-status-success ${e}-inner:not(${e}-circle-gradient)`]:{[`${e}-circle-path`]:{stroke:n.colorSuccess}}})}},ite=n=>{const{componentCls:e,iconCls:t}=n;return{[e]:{[`${e}-circle-trail`]:{stroke:n.remainingColor},[`&${e}-circle ${e}-inner`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`&${e}-circle ${e}-text`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:n.circleTextColor,fontSize:n.circleTextFontSize,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[t]:{fontSize:n.circleIconFontSize}},[`${e}-circle&-status-exception`]:{[`${e}-text`]:{color:n.colorError}},[`${e}-circle&-status-success`]:{[`${e}-text`]:{color:n.colorSuccess}}},[`${e}-inline-circle`]:{lineHeight:1,[`${e}-inner`]:{verticalAlign:"bottom"}}}},rte=n=>{const{componentCls:e}=n;return{[e]:{[`${e}-steps`]:{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:n.progressStepMinWidth,marginInlineEnd:n.progressStepMarginInlineEnd,backgroundColor:n.remainingColor,transition:`all ${n.motionDurationSlow}`,"&-active":{backgroundColor:n.defaultColor}}}}}},ate=n=>{const{componentCls:e,iconCls:t}=n;return{[e]:{[`${e}-small&-line, ${e}-small&-line ${e}-text ${t}`]:{fontSize:n.fontSizeSM}}}},ote=n=>({circleTextColor:n.colorText,defaultColor:n.colorInfo,remainingColor:n.colorFillSecondary,lineBorderRadius:100,circleTextFontSize:"1em",circleIconFontSize:`${n.fontSize/n.fontSizeSM}em`}),ste=Nr("Progress",n=>{const e=n.calc(n.marginXXS).div(2).equal(),t=qi(n,{progressStepMarginInlineEnd:e,progressStepMinWidth:e,progressActiveMotionDuration:"2.4s"});return[nte(t),ite(t),rte(t),ate(t)]},ote);var lte=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const cte=n=>{let e=[];return Object.keys(n).forEach(t=>{const r=parseFloat(t.replace(/%/g,""));Number.isNaN(r)||e.push({key:r,value:n[t]})}),e=e.sort((t,r)=>t.key-r.key),e.map(t=>{let{key:r,value:a}=t;return`${a} ${r}%`}).join(", ")},ute=(n,e)=>{const{from:t=Yv.blue,to:r=Yv.blue,direction:a=e==="rtl"?"to left":"to right"}=n,o=lte(n,["from","to","direction"]);if(Object.keys(o).length!==0){const s=cte(o),u=`linear-gradient(${a}, ${s})`;return{background:u,[K1]:u}}const l=`linear-gradient(${a}, ${t}, ${r})`;return{background:l,[K1]:l}},dte=n=>{const{prefixCls:e,direction:t,percent:r,size:a,strokeWidth:o,strokeColor:l,strokeLinecap:s="round",children:u,trailColor:f=null,percentPosition:m,success:b}=n,{align:_,type:E}=m,c=l&&typeof l!="string"?ute(l,t):{[K1]:l,background:l},p=s==="square"||s==="butt"?0:void 0,g=a??[-1,o||(a==="small"?6:8)],[y,C]=zw(g,"line",{strokeWidth:o}),T={backgroundColor:f||void 0,borderRadius:p},M=Object.assign(Object.assign({width:`${Lh(r)}%`,height:C,borderRadius:p},c),{[RH]:Lh(r)/100}),O=q1(n),B={width:`${Lh(O)}%`,height:C,borderRadius:p,backgroundColor:b==null?void 0:b.strokeColor},D={width:y<0?"100%":y},F=w.createElement("div",{className:`${e}-inner`,style:T},w.createElement("div",{className:Je(`${e}-bg`,`${e}-bg-${E}`),style:M},E==="inner"&&u),O!==void 0&&w.createElement("div",{className:`${e}-success-bg`,style:B})),z=E==="outer"&&_==="start",U=E==="outer"&&_==="end";return E==="outer"&&_==="center"?w.createElement("div",{className:`${e}-layout-bottom`},F,u):w.createElement("div",{className:`${e}-outer`,style:D},z&&u,F,U&&u)},fte=n=>{const{size:e,steps:t,rounding:r=Math.round,percent:a=0,strokeWidth:o=8,strokeColor:l,trailColor:s=null,prefixCls:u,children:f}=n,m=r(t*(a/100)),_=e??[e==="small"?2:14,o],[E,c]=zw(_,"step",{steps:t,strokeWidth:o}),p=E/t,g=Array.from({length:t});for(let y=0;y<t;y++){const C=Array.isArray(l)?l[y]:l;g[y]=w.createElement("div",{key:y,className:Je(`${u}-steps-item`,{[`${u}-steps-item-active`]:y<=m-1}),style:{backgroundColor:y<=m-1?C:s,width:p,height:c}})}return w.createElement("div",{className:`${u}-steps-outer`},g,f)};var hte=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const pte=["normal","exception","active","success"],OH=w.forwardRef((n,e)=>{const{prefixCls:t,className:r,rootClassName:a,steps:o,strokeColor:l,percent:s=0,size:u="default",showInfo:f=!0,type:m="line",status:b,format:_,style:E,percentPosition:c={}}=n,p=hte(n,["prefixCls","className","rootClassName","steps","strokeColor","percent","size","showInfo","type","status","format","style","percentPosition"]),{align:g="end",type:y="outer"}=c,C=Array.isArray(l)?l[0]:l,T=typeof l=="string"||Array.isArray(l)?l:void 0,M=w.useMemo(()=>{if(C){const de=typeof C=="string"?C:Object.values(C)[0];return new Bi(de).isLight()}return!1},[l]),O=w.useMemo(()=>{var de,q;const ie=q1(n);return parseInt(ie!==void 0?(de=ie??0)===null||de===void 0?void 0:de.toString():(q=s??0)===null||q===void 0?void 0:q.toString(),10)},[s,n.success,n.successPercent]),B=w.useMemo(()=>!pte.includes(b)&&O>=100?"success":b||"normal",[b,O]),{getPrefixCls:D,direction:F,progress:z}=w.useContext(Hn),U=D("progress",t),[$,J,W]=ste(U),Q=m==="line",ae=Q&&!o,Y=w.useMemo(()=>{if(!f)return null;const de=q1(n);let q;const ie=_||(fe=>`${fe}%`),he=Q&&M&&y==="inner";return y==="inner"||_||B!=="exception"&&B!=="success"?q=ie(Lh(s),Lh(de)):B==="exception"?q=Q?w.createElement(rw,null):w.createElement(R0,null):B==="success"&&(q=Q?w.createElement(_O,null):w.createElement(g$,null)),w.createElement("span",{className:Je(`${U}-text`,{[`${U}-text-bright`]:he,[`${U}-text-${g}`]:ae,[`${U}-text-${y}`]:ae}),title:typeof q=="string"?q:void 0},q)},[f,s,O,B,m,U,_]);let K;m==="line"?K=o?w.createElement(fte,Object.assign({},n,{strokeColor:T,prefixCls:U,steps:typeof o=="object"?o.count:o}),Y):w.createElement(dte,Object.assign({},n,{strokeColor:C,prefixCls:U,direction:F,percentPosition:{align:g,type:y}}),Y):(m==="circle"||m==="dashboard")&&(K=w.createElement(tte,Object.assign({},n,{strokeColor:C,prefixCls:U,progressStatus:B}),Y));const ee=Je(U,`${U}-status-${B}`,{[`${U}-${m==="dashboard"&&"circle"||m}`]:m!=="line",[`${U}-inline-circle`]:m==="circle"&&zw(u,"circle")[0]<=20,[`${U}-line`]:ae,[`${U}-line-align-${g}`]:ae,[`${U}-line-position-${y}`]:ae,[`${U}-steps`]:o,[`${U}-show-info`]:f,[`${U}-${u}`]:typeof u=="string",[`${U}-rtl`]:F==="rtl"},z==null?void 0:z.className,r,a,J,W);return $(w.createElement("div",Object.assign({ref:e,style:Object.assign(Object.assign({},z==null?void 0:z.style),E),className:ee,role:"progressbar","aria-valuenow":O,"aria-valuemin":0,"aria-valuemax":100},yo(p,["trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"])),K))});var mte=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],IH=w.forwardRef(function(n,e){var t,r=n.prefixCls,a=r===void 0?"rc-switch":r,o=n.className,l=n.checked,s=n.defaultChecked,u=n.disabled,f=n.loadingIcon,m=n.checkedChildren,b=n.unCheckedChildren,_=n.onClick,E=n.onChange,c=n.onKeyDown,p=kn(n,mte),g=mo(!1,{value:l,defaultValue:s}),y=vt(g,2),C=y[0],T=y[1];function M(F,z){var U=C;return u||(U=F,T(U),E==null||E(U,z)),U}function O(F){F.which===to.LEFT?M(!1,F):F.which===to.RIGHT&&M(!0,F),c==null||c(F)}function B(F){var z=M(!C,F);_==null||_(z,F)}var D=Je(a,o,(t={},ue(t,"".concat(a,"-checked"),C),ue(t,"".concat(a,"-disabled"),u),t));return w.createElement("button",Pt({},p,{type:"button",role:"switch","aria-checked":C,disabled:u,className:D,ref:e,onKeyDown:O,onClick:B}),f,w.createElement("span",{className:"".concat(a,"-inner")},w.createElement("span",{className:"".concat(a,"-inner-checked")},m),w.createElement("span",{className:"".concat(a,"-inner-unchecked")},b)))});IH.displayName="Switch";const gte=n=>{const{componentCls:e,trackHeightSM:t,trackPadding:r,trackMinWidthSM:a,innerMinMarginSM:o,innerMaxMarginSM:l,handleSizeSM:s,calc:u}=n,f=`${e}-inner`,m=Mt(u(s).add(u(r).mul(2)).equal()),b=Mt(u(l).mul(2).equal());return{[e]:{[`&${e}-small`]:{minWidth:a,height:t,lineHeight:Mt(t),[`${e}-inner`]:{paddingInlineStart:l,paddingInlineEnd:o,[`${f}-checked, ${f}-unchecked`]:{minHeight:t},[`${f}-checked`]:{marginInlineStart:`calc(-100% + ${m} - ${b})`,marginInlineEnd:`calc(100% - ${m} + ${b})`},[`${f}-unchecked`]:{marginTop:u(t).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`${e}-handle`]:{width:s,height:s},[`${e}-loading-icon`]:{top:u(u(s).sub(n.switchLoadingIconSize)).div(2).equal(),fontSize:n.switchLoadingIconSize},[`&${e}-checked`]:{[`${e}-inner`]:{paddingInlineStart:o,paddingInlineEnd:l,[`${f}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${f}-unchecked`]:{marginInlineStart:`calc(100% - ${m} + ${b})`,marginInlineEnd:`calc(-100% + ${m} - ${b})`}},[`${e}-handle`]:{insetInlineStart:`calc(100% - ${Mt(u(s).add(r).equal())})`}},[`&:not(${e}-disabled):active`]:{[`&:not(${e}-checked) ${f}`]:{[`${f}-unchecked`]:{marginInlineStart:u(n.marginXXS).div(2).equal(),marginInlineEnd:u(n.marginXXS).mul(-1).div(2).equal()}},[`&${e}-checked ${f}`]:{[`${f}-checked`]:{marginInlineStart:u(n.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:u(n.marginXXS).div(2).equal()}}}}}}},vte=n=>{const{componentCls:e,handleSize:t,calc:r}=n;return{[e]:{[`${e}-loading-icon${n.iconCls}`]:{position:"relative",top:r(r(t).sub(n.fontSize)).div(2).equal(),color:n.switchLoadingIconColor,verticalAlign:"top"},[`&${e}-checked ${e}-loading-icon`]:{color:n.switchColor}}}},yte=n=>{const{componentCls:e,trackPadding:t,handleBg:r,handleShadow:a,handleSize:o,calc:l}=n,s=`${e}-handle`;return{[e]:{[s]:{position:"absolute",top:t,insetInlineStart:t,width:o,height:o,transition:`all ${n.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:r,borderRadius:l(o).div(2).equal(),boxShadow:a,transition:`all ${n.switchDuration} ease-in-out`,content:'""'}},[`&${e}-checked ${s}`]:{insetInlineStart:`calc(100% - ${Mt(l(o).add(t).equal())})`},[`&:not(${e}-disabled):active`]:{[`${s}::before`]:{insetInlineEnd:n.switchHandleActiveInset,insetInlineStart:0},[`&${e}-checked ${s}::before`]:{insetInlineEnd:0,insetInlineStart:n.switchHandleActiveInset}}}}},bte=n=>{const{componentCls:e,trackHeight:t,trackPadding:r,innerMinMargin:a,innerMaxMargin:o,handleSize:l,calc:s}=n,u=`${e}-inner`,f=Mt(s(l).add(s(r).mul(2)).equal()),m=Mt(s(o).mul(2).equal());return{[e]:{[u]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:o,paddingInlineEnd:a,transition:`padding-inline-start ${n.switchDuration} ease-in-out, padding-inline-end ${n.switchDuration} ease-in-out`,[`${u}-checked, ${u}-unchecked`]:{display:"block",color:n.colorTextLightSolid,fontSize:n.fontSizeSM,transition:`margin-inline-start ${n.switchDuration} ease-in-out, margin-inline-end ${n.switchDuration} ease-in-out`,pointerEvents:"none",minHeight:t},[`${u}-checked`]:{marginInlineStart:`calc(-100% + ${f} - ${m})`,marginInlineEnd:`calc(100% - ${f} + ${m})`},[`${u}-unchecked`]:{marginTop:s(t).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`&${e}-checked ${u}`]:{paddingInlineStart:a,paddingInlineEnd:o,[`${u}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${u}-unchecked`]:{marginInlineStart:`calc(100% - ${f} + ${m})`,marginInlineEnd:`calc(-100% + ${f} - ${m})`}},[`&:not(${e}-disabled):active`]:{[`&:not(${e}-checked) ${u}`]:{[`${u}-unchecked`]:{marginInlineStart:s(r).mul(2).equal(),marginInlineEnd:s(r).mul(-1).mul(2).equal()}},[`&${e}-checked ${u}`]:{[`${u}-checked`]:{marginInlineStart:s(r).mul(-1).mul(2).equal(),marginInlineEnd:s(r).mul(2).equal()}}}}}},Ste=n=>{const{componentCls:e,trackHeight:t,trackMinWidth:r}=n;return{[e]:Object.assign(Object.assign(Object.assign(Object.assign({},Fo(n)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:r,height:t,lineHeight:Mt(t),verticalAlign:"middle",background:n.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${n.motionDurationMid}`,userSelect:"none",[`&:hover:not(${e}-disabled)`]:{background:n.colorTextTertiary}}),DO(n)),{[`&${e}-checked`]:{background:n.switchColor,[`&:hover:not(${e}-disabled)`]:{background:n.colorPrimaryHover}},[`&${e}-loading, &${e}-disabled`]:{cursor:"not-allowed",opacity:n.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${e}-rtl`]:{direction:"rtl"}})}},_te=n=>{const{fontSize:e,lineHeight:t,controlHeight:r,colorWhite:a}=n,o=e*t,l=r/2,s=2,u=o-s*2,f=l-s*2;return{trackHeight:o,trackHeightSM:l,trackMinWidth:u*2+s*4,trackMinWidthSM:f*2+s*2,trackPadding:s,handleBg:a,handleSize:u,handleSizeSM:f,handleShadow:`0 2px 4px 0 ${new Bi("#00230b").setA(.2).toRgbString()}`,innerMinMargin:u/2,innerMaxMargin:u+s+s*2,innerMinMarginSM:f/2,innerMaxMarginSM:f+s+s*2}},xte=Nr("Switch",n=>{const e=qi(n,{switchDuration:n.motionDurationMid,switchColor:n.colorPrimary,switchDisabledOpacity:n.opacityLoading,switchLoadingIconSize:n.calc(n.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:`rgba(0, 0, 0, ${n.opacityLoading})`,switchHandleActiveInset:"-30%"});return[Ste(e),bte(e),yte(e),vte(e),gte(e)]},_te);var Cte=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const Ete=w.forwardRef((n,e)=>{const{prefixCls:t,size:r,disabled:a,loading:o,className:l,rootClassName:s,style:u,checked:f,value:m,defaultChecked:b,defaultValue:_,onChange:E}=n,c=Cte(n,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[p,g]=mo(!1,{value:f??m,defaultValue:b??_}),{getPrefixCls:y,direction:C,switch:T}=w.useContext(Hn),M=w.useContext(Zu),O=(a??M)||o,B=y("switch",t),D=w.createElement("div",{className:`${B}-handle`},o&&w.createElement(r0,{className:`${B}-loading-icon`})),[F,z,U]=xte(B),$=Cf(r),J=Je(T==null?void 0:T.className,{[`${B}-small`]:$==="small",[`${B}-loading`]:o,[`${B}-rtl`]:C==="rtl"},l,s,z,U),W=Object.assign(Object.assign({},T==null?void 0:T.style),u),Q=function(){g(arguments.length<=0?void 0:arguments[0]),E==null||E.apply(void 0,arguments)};return F(w.createElement(mw,{component:"Switch"},w.createElement(IH,Object.assign({},c,{checked:p,onChange:Q,prefixCls:B,className:J,style:W,disabled:O,ref:e,loadingIcon:D}))))}),BH=Ete;BH.__ANT_SWITCH=!0;function wte(n){if(n==null)throw new TypeError("Cannot destructure "+n)}const Ate=n=>{const{paddingXXS:e,lineWidth:t,tagPaddingHorizontal:r,componentCls:a,calc:o}=n,l=o(r).sub(t).equal(),s=o(e).sub(t).equal();return{[a]:Object.assign(Object.assign({},Fo(n)),{display:"inline-block",height:"auto",marginInlineEnd:n.marginXS,paddingInline:l,fontSize:n.tagFontSize,lineHeight:n.tagLineHeight,whiteSpace:"nowrap",background:n.defaultBg,border:`${Mt(n.lineWidth)} ${n.lineType} ${n.colorBorder}`,borderRadius:n.borderRadiusSM,opacity:1,transition:`all ${n.motionDurationMid}`,textAlign:"start",position:"relative",[`&${a}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:n.defaultColor},[`${a}-close-icon`]:{marginInlineStart:s,fontSize:n.tagIconSize,color:n.colorTextDescription,cursor:"pointer",transition:`all ${n.motionDurationMid}`,"&:hover":{color:n.colorTextHeading}},[`&${a}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${n.iconCls}-close, ${n.iconCls}-close:hover`]:{color:n.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${a}-checkable-checked):hover`]:{color:n.colorPrimary,backgroundColor:n.colorFillSecondary},"&:active, &-checked":{color:n.colorTextLightSolid},"&-checked":{backgroundColor:n.colorPrimary,"&:hover":{backgroundColor:n.colorPrimaryHover}},"&:active":{backgroundColor:n.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${n.iconCls} + span, > span + ${n.iconCls}`]:{marginInlineStart:l}}),[`${a}-borderless`]:{borderColor:"transparent",background:n.tagBorderlessBg}}},aI=n=>{const{lineWidth:e,fontSizeIcon:t,calc:r}=n,a=n.fontSizeSM;return qi(n,{tagFontSize:a,tagLineHeight:Mt(r(n.lineHeightSM).mul(a).equal()),tagIconSize:r(t).sub(r(e).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:n.defaultBg})},oI=n=>({defaultBg:new Bi(n.colorFillQuaternary).onBackground(n.colorBgContainer).toHexString(),defaultColor:n.colorText}),DH=Nr("Tag",n=>{const e=aI(n);return Ate(e)},oI);var Mte=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const Tte=w.forwardRef((n,e)=>{const{prefixCls:t,style:r,className:a,checked:o,onChange:l,onClick:s}=n,u=Mte(n,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:f,tag:m}=w.useContext(Hn),b=y=>{l==null||l(!o),s==null||s(y)},_=f("tag",t),[E,c,p]=DH(_),g=Je(_,`${_}-checkable`,{[`${_}-checkable-checked`]:o},m==null?void 0:m.className,a,c,p);return E(w.createElement("span",Object.assign({},u,{ref:e,style:Object.assign(Object.assign({},r),m==null?void 0:m.style),className:g,onClick:b})))}),Rte=n=>iF(n,(e,t)=>{let{textColor:r,lightBorderColor:a,lightColor:o,darkColor:l}=t;return{[`${n.componentCls}${n.componentCls}-${e}`]:{color:r,background:o,borderColor:a,"&-inverse":{color:n.colorTextLightSolid,background:l,borderColor:l},[`&${n.componentCls}-borderless`]:{borderColor:"transparent"}}}}),Ote=hw(["Tag","preset"],n=>{const e=aI(n);return Rte(e)},oI);function Ite(n){return typeof n!="string"?n:n.charAt(0).toUpperCase()+n.slice(1)}const Ex=(n,e,t)=>{const r=Ite(t);return{[`${n.componentCls}${n.componentCls}-${e}`]:{color:n[`color${t}`],background:n[`color${r}Bg`],borderColor:n[`color${r}Border`],[`&${n.componentCls}-borderless`]:{borderColor:"transparent"}}}},Bte=hw(["Tag","status"],n=>{const e=aI(n);return[Ex(e,"success","Success"),Ex(e,"processing","Info"),Ex(e,"error","Error"),Ex(e,"warning","Warning")]},oI);var Dte=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const Pte=w.forwardRef((n,e)=>{const{prefixCls:t,className:r,rootClassName:a,style:o,children:l,icon:s,color:u,onClose:f,bordered:m=!0,visible:b}=n,_=Dte(n,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:E,direction:c,tag:p}=w.useContext(Hn),[g,y]=w.useState(!0),C=yo(_,["closeIcon","closable"]);w.useEffect(()=>{b!==void 0&&y(b)},[b]);const T=M4(u),M=dJ(u),O=T||M,B=Object.assign(Object.assign({backgroundColor:u&&!O?u:void 0},p==null?void 0:p.style),o),D=E("tag",t),[F,z,U]=DH(D),$=Je(D,p==null?void 0:p.className,{[`${D}-${u}`]:O,[`${D}-has-color`]:u&&!O,[`${D}-hidden`]:!g,[`${D}-rtl`]:c==="rtl",[`${D}-borderless`]:!m},r,a,z,U),J=ee=>{ee.stopPropagation(),f==null||f(ee),!ee.defaultPrevented&&y(!1)},[,W]=KF(H1(n),H1(p),{closable:!1,closeIconRender:ee=>{const de=w.createElement("span",{className:`${D}-close-icon`,onClick:J},ee);return SF(ee,de,q=>({onClick:ie=>{var he;(he=q==null?void 0:q.onClick)===null||he===void 0||he.call(q,ie),J(ie)},className:Je(q==null?void 0:q.className,`${D}-close-icon`)}))}}),Q=typeof _.onClick=="function"||l&&l.type==="a",ae=s||null,Y=ae?w.createElement(w.Fragment,null,ae,l&&w.createElement("span",null,l)):l,K=w.createElement("span",Object.assign({},C,{ref:e,className:$,style:B}),Y,W,T&&w.createElement(Ote,{key:"preset",prefixCls:D}),M&&w.createElement(Bte,{key:"status",prefixCls:D}));return F(Q?w.createElement(mw,{component:"Tag"},K):K)}),kC=Pte;kC.CheckableTag=Tte;const WM=function(n,e){if(n&&e){var t=Array.isArray(e)?e:e.split(","),r=n.name||"",a=n.type||"",o=a.replace(/\/.*$/,"");return t.some(function(l){var s=l.trim();if(/^\*(\/\*)?$/.test(l))return!0;if(s.charAt(0)==="."){var u=r.toLowerCase(),f=s.toLowerCase(),m=[f];return(f===".jpg"||f===".jpeg")&&(m=[".jpg",".jpeg"]),m.some(function(b){return u.endsWith(b)})}return/\/\*$/.test(s)?o===s.replace(/\/.*$/,""):a===s?!0:/^\w+$/.test(s)?(Uo(!1,"Upload takes an invalidate 'accept' type '".concat(s,"'.Skip for check.")),!0):!1})}return!0};function Lte(n,e){var t="cannot ".concat(n.method," ").concat(n.action," ").concat(e.status,"'"),r=new Error(t);return r.status=e.status,r.method=n.method,r.url=n.action,r}function zL(n){var e=n.responseText||n.response;if(!e)return e;try{return JSON.parse(e)}catch{return e}}function Nte(n){var e=new XMLHttpRequest;n.onProgress&&e.upload&&(e.upload.onprogress=function(o){o.total>0&&(o.percent=o.loaded/o.total*100),n.onProgress(o)});var t=new FormData;n.data&&Object.keys(n.data).forEach(function(a){var o=n.data[a];if(Array.isArray(o)){o.forEach(function(l){t.append("".concat(a,"[]"),l)});return}t.append(a,o)}),n.file instanceof Blob?t.append(n.filename,n.file,n.file.name):t.append(n.filename,n.file),e.onerror=function(o){n.onError(o)},e.onload=function(){return e.status<200||e.status>=300?n.onError(Lte(n,e),zL(e)):n.onSuccess(zL(e),e)},e.open(n.method,n.action,!0),n.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);var r=n.headers||{};return r["X-Requested-With"]!==null&&e.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(r).forEach(function(a){r[a]!==null&&e.setRequestHeader(a,r[a])}),e.send(t),{abort:function(){e.abort()}}}var zte=function(){var n=el(br().mark(function e(t,r){var a,o,l,s,u,f,m,b;return br().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:f=function(){return f=el(br().mark(function p(g){return br().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",new Promise(function(T){g.file(function(M){r(M)?(g.fullPath&&!M.webkitRelativePath&&(Object.defineProperties(M,{webkitRelativePath:{writable:!0}}),M.webkitRelativePath=g.fullPath.replace(/^\//,""),Object.defineProperties(M,{webkitRelativePath:{writable:!1}})),T(M)):T(null)})}));case 1:case"end":return C.stop()}},p)})),f.apply(this,arguments)},u=function(p){return f.apply(this,arguments)},s=function(){return s=el(br().mark(function p(g){var y,C,T,M,O;return br().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:y=g.createReader(),C=[];case 2:return D.next=5,new Promise(function(F){y.readEntries(F,function(){return F([])})});case 5:if(T=D.sent,M=T.length,M){D.next=9;break}return D.abrupt("break",12);case 9:for(O=0;O<M;O++)C.push(T[O]);D.next=2;break;case 12:return D.abrupt("return",C);case 13:case"end":return D.stop()}},p)})),s.apply(this,arguments)},l=function(p){return s.apply(this,arguments)},a=[],o=[],t.forEach(function(c){return o.push(c.webkitGetAsEntry())}),m=function(){var c=el(br().mark(function p(g,y){var C,T;return br().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(g){O.next=2;break}return O.abrupt("return");case 2:if(g.path=y||"",!g.isFile){O.next=10;break}return O.next=6,u(g);case 6:C=O.sent,C&&a.push(C),O.next=15;break;case 10:if(!g.isDirectory){O.next=15;break}return O.next=13,l(g);case 13:T=O.sent,o.push.apply(o,Jt(T));case 15:case"end":return O.stop()}},p)}));return function(g,y){return c.apply(this,arguments)}}(),b=0;case 9:if(!(b<o.length)){E.next=15;break}return E.next=12,m(o[b]);case 12:b++,E.next=9;break;case 15:return E.abrupt("return",a);case 16:case"end":return E.stop()}},e)}));return function(t,r){return n.apply(this,arguments)}}(),Ute=+new Date,Fte=0;function XM(){return"rc-upload-".concat(Ute,"-").concat(++Fte)}var Hte=["component","prefixCls","className","classNames","disabled","id","name","style","styles","multiple","accept","capture","children","directory","openFileDialogOnClick","onMouseEnter","onMouseLeave","hasControlInside"],Gte=function(n){Ar(t,n);var e=Wc(t);function t(){var r;ai(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o)),ue(Dn(r),"state",{uid:XM()}),ue(Dn(r),"reqs",{}),ue(Dn(r),"fileInput",void 0),ue(Dn(r),"_isMounted",void 0),ue(Dn(r),"onChange",function(s){var u=r.props,f=u.accept,m=u.directory,b=s.target.files,_=Jt(b).filter(function(E){return!m||WM(E,f)});r.uploadFiles(_),r.reset()}),ue(Dn(r),"onClick",function(s){var u=r.fileInput;if(u){var f=s.target,m=r.props.onClick;if(f&&f.tagName==="BUTTON"){var b=u.parentNode;b.focus(),f.blur()}u.click(),m&&m(s)}}),ue(Dn(r),"onKeyDown",function(s){s.key==="Enter"&&r.onClick(s)}),ue(Dn(r),"onFileDrop",function(){var s=el(br().mark(function u(f){var m,b,_;return br().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(m=r.props.multiple,f.preventDefault(),f.type!=="dragover"){c.next=4;break}return c.abrupt("return");case 4:if(!r.props.directory){c.next=11;break}return c.next=7,zte(Array.prototype.slice.call(f.dataTransfer.items),function(p){return WM(p,r.props.accept)});case 7:b=c.sent,r.uploadFiles(b),c.next=14;break;case 11:_=Jt(f.dataTransfer.files).filter(function(p){return WM(p,r.props.accept)}),m===!1&&(_=_.slice(0,1)),r.uploadFiles(_);case 14:case"end":return c.stop()}},u)}));return function(u){return s.apply(this,arguments)}}()),ue(Dn(r),"uploadFiles",function(s){var u=Jt(s),f=u.map(function(m){return m.uid=XM(),r.processFile(m,u)});Promise.all(f).then(function(m){var b=r.props.onBatchStart;b==null||b(m.map(function(_){var E=_.origin,c=_.parsedFile;return{file:E,parsedFile:c}})),m.filter(function(_){return _.parsedFile!==null}).forEach(function(_){r.post(_)})})}),ue(Dn(r),"processFile",function(){var s=el(br().mark(function u(f,m){var b,_,E,c,p,g,y,C,T;return br().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(b=r.props.beforeUpload,_=f,!b){O.next=14;break}return O.prev=3,O.next=6,b(f,m);case 6:_=O.sent,O.next=12;break;case 9:O.prev=9,O.t0=O.catch(3),_=!1;case 12:if(_!==!1){O.next=14;break}return O.abrupt("return",{origin:f,parsedFile:null,action:null,data:null});case 14:if(E=r.props.action,typeof E!="function"){O.next=21;break}return O.next=18,E(f);case 18:c=O.sent,O.next=22;break;case 21:c=E;case 22:if(p=r.props.data,typeof p!="function"){O.next=29;break}return O.next=26,p(f);case 26:g=O.sent,O.next=30;break;case 29:g=p;case 30:return y=(mn(_)==="object"||typeof _=="string")&&_?_:f,y instanceof File?C=y:C=new File([y],f.name,{type:f.type}),T=C,T.uid=f.uid,O.abrupt("return",{origin:f,data:g,parsedFile:T,action:c});case 35:case"end":return O.stop()}},u,null,[[3,9]])}));return function(u,f){return s.apply(this,arguments)}}()),ue(Dn(r),"saveFileInput",function(s){r.fileInput=s}),r}return oi(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.abort()}},{key:"post",value:function(a){var o=this,l=a.data,s=a.origin,u=a.action,f=a.parsedFile;if(this._isMounted){var m=this.props,b=m.onStart,_=m.customRequest,E=m.name,c=m.headers,p=m.withCredentials,g=m.method,y=s.uid,C=_||Nte,T={action:u,filename:E,data:l,file:f,headers:c,withCredentials:p,method:g||"post",onProgress:function(O){var B=o.props.onProgress;B==null||B(O,f)},onSuccess:function(O,B){var D=o.props.onSuccess;D==null||D(O,f,B),delete o.reqs[y]},onError:function(O,B){var D=o.props.onError;D==null||D(O,B,f),delete o.reqs[y]}};b(s),this.reqs[y]=C(T)}}},{key:"reset",value:function(){this.setState({uid:XM()})}},{key:"abort",value:function(a){var o=this.reqs;if(a){var l=a.uid?a.uid:a;o[l]&&o[l].abort&&o[l].abort(),delete o[l]}else Object.keys(o).forEach(function(s){o[s]&&o[s].abort&&o[s].abort(),delete o[s]})}},{key:"render",value:function(){var a=this.props,o=a.component,l=a.prefixCls,s=a.className,u=a.classNames,f=u===void 0?{}:u,m=a.disabled,b=a.id,_=a.name,E=a.style,c=a.styles,p=c===void 0?{}:c,g=a.multiple,y=a.accept,C=a.capture,T=a.children,M=a.directory,O=a.openFileDialogOnClick,B=a.onMouseEnter,D=a.onMouseLeave,F=a.hasControlInside,z=kn(a,Hte),U=Je(ue(ue(ue({},l,!0),"".concat(l,"-disabled"),m),s,s)),$=M?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},J=m?{}:{onClick:O?this.onClick:function(){},onKeyDown:O?this.onKeyDown:function(){},onMouseEnter:B,onMouseLeave:D,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,tabIndex:F?void 0:"0"};return Xe.createElement(o,Pt({},J,{className:U,role:F?void 0:"button",style:E}),Xe.createElement("input",Pt({},Gm(z,{aria:!0,data:!0}),{id:b,name:_,disabled:m,type:"file",ref:this.saveFileInput,onClick:function(Q){return Q.stopPropagation()},key:this.state.uid,style:Ne({display:"none"},p.input),className:f.input,accept:y},$,{multiple:g,onChange:this.onChange},C!=null?{capture:C}:{})),T)}}]),t}(w.Component);function YM(){}var x2=function(n){Ar(t,n);var e=Wc(t);function t(){var r;ai(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o)),ue(Dn(r),"uploader",void 0),ue(Dn(r),"saveUploader",function(s){r.uploader=s}),r}return oi(t,[{key:"abort",value:function(a){this.uploader.abort(a)}},{key:"render",value:function(){return Xe.createElement(Gte,Pt({},this.props,{ref:this.saveUploader}))}}]),t}(w.Component);ue(x2,"defaultProps",{component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:YM,onError:YM,onSuccess:YM,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0,hasControlInside:!1});const kte=n=>{const{componentCls:e,iconCls:t}=n;return{[`${e}-wrapper`]:{[`${e}-drag`]:{position:"relative",width:"100%",height:"100%",textAlign:"center",background:n.colorFillAlter,border:`${Mt(n.lineWidth)} dashed ${n.colorBorder}`,borderRadius:n.borderRadiusLG,cursor:"pointer",transition:`border-color ${n.motionDurationSlow}`,[e]:{padding:n.padding},[`${e}-btn`]:{display:"table",width:"100%",height:"100%",outline:"none",borderRadius:n.borderRadiusLG,"&:focus-visible":{outline:`${Mt(n.lineWidthFocus)} solid ${n.colorPrimaryBorder}`}},[`${e}-drag-container`]:{display:"table-cell",verticalAlign:"middle"},[`
          &:not(${e}-disabled):hover,
          &-hover:not(${e}-disabled)
        `]:{borderColor:n.colorPrimaryHover},[`p${e}-drag-icon`]:{marginBottom:n.margin,[t]:{color:n.colorPrimary,fontSize:n.uploadThumbnailSize}},[`p${e}-text`]:{margin:`0 0 ${Mt(n.marginXXS)}`,color:n.colorTextHeading,fontSize:n.fontSizeLG},[`p${e}-hint`]:{color:n.colorTextDescription,fontSize:n.fontSize},[`&${e}-disabled`]:{[`p${e}-drag-icon ${t},
            p${e}-text,
            p${e}-hint
          `]:{color:n.colorTextDisabled}}}}}},$te=n=>{const{componentCls:e,iconCls:t,fontSize:r,lineHeight:a,calc:o}=n,l=`${e}-list-item`,s=`${l}-actions`,u=`${l}-action`;return{[`${e}-wrapper`]:{[`${e}-list`]:Object.assign(Object.assign({},f0()),{lineHeight:n.lineHeight,[l]:{position:"relative",height:o(n.lineHeight).mul(r).equal(),marginTop:n.marginXS,fontSize:r,display:"flex",alignItems:"center",transition:`background-color ${n.motionDurationSlow}`,borderRadius:n.borderRadiusSM,"&:hover":{backgroundColor:n.controlItemBgHover},[`${l}-name`]:Object.assign(Object.assign({},dw),{padding:`0 ${Mt(n.paddingXS)}`,lineHeight:a,flex:"auto",transition:`all ${n.motionDurationSlow}`}),[s]:{whiteSpace:"nowrap",[u]:{opacity:0},[t]:{color:n.actionsColor,transition:`all ${n.motionDurationSlow}`},[`
              ${u}:focus-visible,
              &.picture ${u}
            `]:{opacity:1}},[`${e}-icon ${t}`]:{color:n.colorTextDescription,fontSize:r},[`${l}-progress`]:{position:"absolute",bottom:n.calc(n.uploadProgressOffset).mul(-1).equal(),width:"100%",paddingInlineStart:o(r).add(n.paddingXS).equal(),fontSize:r,lineHeight:0,pointerEvents:"none","> div":{margin:0}}},[`${l}:hover ${u}`]:{opacity:1},[`${l}-error`]:{color:n.colorError,[`${l}-name, ${e}-icon ${t}`]:{color:n.colorError},[s]:{[`${t}, ${t}:hover`]:{color:n.colorError},[u]:{opacity:1}}},[`${e}-list-item-container`]:{transition:`opacity ${n.motionDurationSlow}, height ${n.motionDurationSlow}`,"&::before":{display:"table",width:0,height:0,content:'""'}}})}}},Vte=n=>{const{componentCls:e}=n,t=new rr("uploadAnimateInlineIn",{from:{width:0,height:0,padding:0,opacity:0,margin:n.calc(n.marginXS).div(-2).equal()}}),r=new rr("uploadAnimateInlineOut",{to:{width:0,height:0,padding:0,opacity:0,margin:n.calc(n.marginXS).div(-2).equal()}}),a=`${e}-animate-inline`;return[{[`${e}-wrapper`]:{[`${a}-appear, ${a}-enter, ${a}-leave`]:{animationDuration:n.motionDurationSlow,animationTimingFunction:n.motionEaseInOutCirc,animationFillMode:"forwards"},[`${a}-appear, ${a}-enter`]:{animationName:t},[`${a}-leave`]:{animationName:r}}},{[`${e}-wrapper`]:GO(n)},t,r]},jte=n=>{const{componentCls:e,iconCls:t,uploadThumbnailSize:r,uploadProgressOffset:a,calc:o}=n,l=`${e}-list`,s=`${l}-item`;return{[`${e}-wrapper`]:{[`
        ${l}${l}-picture,
        ${l}${l}-picture-card,
        ${l}${l}-picture-circle
      `]:{[s]:{position:"relative",height:o(r).add(o(n.lineWidth).mul(2)).add(o(n.paddingXS).mul(2)).equal(),padding:n.paddingXS,border:`${Mt(n.lineWidth)} ${n.lineType} ${n.colorBorder}`,borderRadius:n.borderRadiusLG,"&:hover":{background:"transparent"},[`${s}-thumbnail`]:Object.assign(Object.assign({},dw),{width:r,height:r,lineHeight:Mt(o(r).add(n.paddingSM).equal()),textAlign:"center",flex:"none",[t]:{fontSize:n.fontSizeHeading2,color:n.colorPrimary},img:{display:"block",width:"100%",height:"100%",overflow:"hidden"}}),[`${s}-progress`]:{bottom:a,width:`calc(100% - ${Mt(o(n.paddingSM).mul(2).equal())})`,marginTop:0,paddingInlineStart:o(r).add(n.paddingXS).equal()}},[`${s}-error`]:{borderColor:n.colorError,[`${s}-thumbnail ${t}`]:{[`svg path[fill='${i0[0]}']`]:{fill:n.colorErrorBg},[`svg path[fill='${i0.primary}']`]:{fill:n.colorError}}},[`${s}-uploading`]:{borderStyle:"dashed",[`${s}-name`]:{marginBottom:a}}},[`${l}${l}-picture-circle ${s}`]:{[`&, &::before, ${s}-thumbnail`]:{borderRadius:"50%"}}}}},Wte=n=>{const{componentCls:e,iconCls:t,fontSizeLG:r,colorTextLightSolid:a,calc:o}=n,l=`${e}-list`,s=`${l}-item`,u=n.uploadPicCardSize;return{[`
      ${e}-wrapper${e}-picture-card-wrapper,
      ${e}-wrapper${e}-picture-circle-wrapper
    `]:Object.assign(Object.assign({},f0()),{display:"block",[`${e}${e}-select`]:{width:u,height:u,textAlign:"center",verticalAlign:"top",backgroundColor:n.colorFillAlter,border:`${Mt(n.lineWidth)} dashed ${n.colorBorder}`,borderRadius:n.borderRadiusLG,cursor:"pointer",transition:`border-color ${n.motionDurationSlow}`,[`> ${e}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center"},[`&:not(${e}-disabled):hover`]:{borderColor:n.colorPrimary}},[`${l}${l}-picture-card, ${l}${l}-picture-circle`]:{display:"flex",flexWrap:"wrap","@supports not (gap: 1px)":{"& > *":{marginBlockEnd:n.marginXS,marginInlineEnd:n.marginXS}},"@supports (gap: 1px)":{gap:n.marginXS},[`${l}-item-container`]:{display:"inline-block",width:u,height:u,verticalAlign:"top"},"&::after":{display:"none"},"&::before":{display:"none"},[s]:{height:"100%",margin:0,"&::before":{position:"absolute",zIndex:1,width:`calc(100% - ${Mt(o(n.paddingXS).mul(2).equal())})`,height:`calc(100% - ${Mt(o(n.paddingXS).mul(2).equal())})`,backgroundColor:n.colorBgMask,opacity:0,transition:`all ${n.motionDurationSlow}`,content:'" "'}},[`${s}:hover`]:{[`&::before, ${s}-actions`]:{opacity:1}},[`${s}-actions`]:{position:"absolute",insetInlineStart:0,zIndex:10,width:"100%",whiteSpace:"nowrap",textAlign:"center",opacity:0,transition:`all ${n.motionDurationSlow}`,[`
            ${t}-eye,
            ${t}-download,
            ${t}-delete
          `]:{zIndex:10,width:r,margin:`0 ${Mt(n.marginXXS)}`,fontSize:r,cursor:"pointer",transition:`all ${n.motionDurationSlow}`,color:a,"&:hover":{color:a},svg:{verticalAlign:"baseline"}}},[`${s}-thumbnail, ${s}-thumbnail img`]:{position:"static",display:"block",width:"100%",height:"100%",objectFit:"contain"},[`${s}-name`]:{display:"none",textAlign:"center"},[`${s}-file + ${s}-name`]:{position:"absolute",bottom:n.margin,display:"block",width:`calc(100% - ${Mt(o(n.paddingXS).mul(2).equal())})`},[`${s}-uploading`]:{[`&${s}`]:{backgroundColor:n.colorFillAlter},[`&::before, ${t}-eye, ${t}-download, ${t}-delete`]:{display:"none"}},[`${s}-progress`]:{bottom:n.marginXL,width:`calc(100% - ${Mt(o(n.paddingXS).mul(2).equal())})`,paddingInlineStart:0}}}),[`${e}-wrapper${e}-picture-circle-wrapper`]:{[`${e}${e}-select`]:{borderRadius:"50%"}}}},Xte=n=>{const{componentCls:e}=n;return{[`${e}-rtl`]:{direction:"rtl"}}},Yte=n=>{const{componentCls:e,colorTextDisabled:t}=n;return{[`${e}-wrapper`]:Object.assign(Object.assign({},Fo(n)),{[e]:{outline:0,"input[type='file']":{cursor:"pointer"}},[`${e}-select`]:{display:"inline-block"},[`${e}-hidden`]:{display:"none"},[`${e}-disabled`]:{color:t,cursor:"not-allowed"}})}},qte=n=>({actionsColor:n.colorTextDescription}),Kte=Nr("Upload",n=>{const{fontSizeHeading3:e,fontHeight:t,lineWidth:r,controlHeightLG:a,calc:o}=n,l=qi(n,{uploadThumbnailSize:o(e).mul(2).equal(),uploadProgressOffset:o(o(t).div(2)).add(r).equal(),uploadPicCardSize:o(a).mul(2.55).equal()});return[Yte(l),kte(l),jte(l),Wte(l),$te(l),Vte(l),Xte(l),DF(l)]},qte);function wx(n){return Object.assign(Object.assign({},n),{lastModified:n.lastModified,lastModifiedDate:n.lastModifiedDate,name:n.name,size:n.size,type:n.type,uid:n.uid,percent:0,originFileObj:n})}function Ax(n,e){const t=Jt(e),r=t.findIndex(a=>{let{uid:o}=a;return o===n.uid});return r===-1?t.push(n):t[r]=n,t}function qM(n,e){const t=n.uid!==void 0?"uid":"name";return e.filter(r=>r[t]===n[t])[0]}function Jte(n,e){const t=n.uid!==void 0?"uid":"name",r=e.filter(a=>a[t]!==n[t]);return r.length===e.length?null:r}const Qte=function(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").split("/"),r=e[e.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(r)||[""])[0]},PH=n=>n.indexOf("image/")===0,Zte=n=>{if(n.type&&!n.thumbUrl)return PH(n.type);const e=n.thumbUrl||n.url||"",t=Qte(e);return/^data:image\//.test(e)||/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(t)?!0:!(/^data:/.test(e)||t)},lh=200;function ene(n){return new Promise(e=>{if(!n.type||!PH(n.type)){e("");return}const t=document.createElement("canvas");t.width=lh,t.height=lh,t.style.cssText=`position: fixed; left: 0; top: 0; width: ${lh}px; height: ${lh}px; z-index: 9999; display: none;`,document.body.appendChild(t);const r=t.getContext("2d"),a=new Image;if(a.onload=()=>{const{width:o,height:l}=a;let s=lh,u=lh,f=0,m=0;o>l?(u=l*(lh/o),m=-(u-s)/2):(s=o*(lh/l),f=-(s-u)/2),r.drawImage(a,f,m,s,u);const b=t.toDataURL();document.body.removeChild(t),window.URL.revokeObjectURL(a.src),e(b)},a.crossOrigin="anonymous",n.type.startsWith("image/svg+xml")){const o=new FileReader;o.onload=()=>{o.result&&typeof o.result=="string"&&(a.src=o.result)},o.readAsDataURL(n)}else if(n.type.startsWith("image/gif")){const o=new FileReader;o.onload=()=>{o.result&&e(o.result)},o.readAsDataURL(n)}else a.src=window.URL.createObjectURL(n)})}const tne=w.forwardRef((n,e)=>{let{prefixCls:t,className:r,style:a,locale:o,listType:l,file:s,items:u,progress:f,iconRender:m,actionIconRender:b,itemRender:_,isImgUrl:E,showPreviewIcon:c,showRemoveIcon:p,showDownloadIcon:g,previewIcon:y,removeIcon:C,downloadIcon:T,extra:M,onPreview:O,onDownload:B,onClose:D}=n;var F,z;const{status:U}=s,[$,J]=w.useState(U);w.useEffect(()=>{U!=="removed"&&J(U)},[U]);const[W,Q]=w.useState(!1);w.useEffect(()=>{const Ce=setTimeout(()=>{Q(!0)},300);return()=>{clearTimeout(Ce)}},[]);const ae=m(s);let Y=w.createElement("div",{className:`${t}-icon`},ae);if(l==="picture"||l==="picture-card"||l==="picture-circle")if($==="uploading"||!s.thumbUrl&&!s.url){const Ce=Je(`${t}-list-item-thumbnail`,{[`${t}-list-item-file`]:$!=="uploading"});Y=w.createElement("div",{className:Ce},ae)}else{const Ce=E!=null&&E(s)?w.createElement("img",{src:s.thumbUrl||s.url,alt:s.name,className:`${t}-list-item-image`,crossOrigin:s.crossOrigin}):ae,re=Je(`${t}-list-item-thumbnail`,{[`${t}-list-item-file`]:E&&!E(s)});Y=w.createElement("a",{className:re,onClick:Fe=>O(s,Fe),href:s.url||s.thumbUrl,target:"_blank",rel:"noopener noreferrer"},Ce)}const K=Je(`${t}-list-item`,`${t}-list-item-${$}`),ee=typeof s.linkProps=="string"?JSON.parse(s.linkProps):s.linkProps,de=(typeof p=="function"?p(s):p)?b((typeof C=="function"?C(s):C)||w.createElement(uU,null),()=>D(s),t,o.removeFile,!0):null,q=(typeof g=="function"?g(s):g)&&$==="done"?b((typeof T=="function"?T(s):T)||w.createElement(T$,null),()=>B(s),t,o.downloadFile):null,ie=l!=="picture-card"&&l!=="picture-circle"&&w.createElement("span",{key:"download-delete",className:Je(`${t}-list-item-actions`,{picture:l==="picture"})},q,de),he=typeof M=="function"?M(s):M,fe=he&&w.createElement("span",{className:`${t}-list-item-extra`},he),Z=Je(`${t}-list-item-name`),pe=s.url?w.createElement("a",Object.assign({key:"view",target:"_blank",rel:"noopener noreferrer",className:Z,title:s.name},ee,{href:s.url,onClick:Ce=>O(s,Ce)}),s.name,fe):w.createElement("span",{key:"view",className:Z,onClick:Ce=>O(s,Ce),title:s.name},s.name,fe),xe=(typeof c=="function"?c(s):c)&&(s.url||s.thumbUrl)?w.createElement("a",{href:s.url||s.thumbUrl,target:"_blank",rel:"noopener noreferrer",onClick:Ce=>O(s,Ce),title:o.previewFile},typeof y=="function"?y(s):y||w.createElement(xO,null)):null,Oe=(l==="picture-card"||l==="picture-circle")&&$!=="uploading"&&w.createElement("span",{className:`${t}-list-item-actions`},xe,$==="done"&&q,de),{getPrefixCls:Ae}=w.useContext(Hn),Te=Ae(),ze=w.createElement("div",{className:K},Y,pe,ie,Oe,W&&w.createElement(Xc,{motionName:`${Te}-fade`,visible:$==="uploading",motionDeadline:2e3},Ce=>{let{className:re}=Ce;const Fe="percent"in s?w.createElement(OH,Object.assign({},f,{type:"line",percent:s.percent,"aria-label":s["aria-label"],"aria-labelledby":s["aria-labelledby"]})):null;return w.createElement("div",{className:Je(`${t}-list-item-progress`,re)},Fe)})),yt=s.response&&typeof s.response=="string"?s.response:((F=s.error)===null||F===void 0?void 0:F.statusText)||((z=s.error)===null||z===void 0?void 0:z.message)||o.uploadError,Be=$==="error"?w.createElement(Hl,{title:yt,getPopupContainer:Ce=>Ce.parentNode},ze):ze;return w.createElement("div",{className:Je(`${t}-list-item-container`,r),style:a,ref:e},_?_(Be,s,u,{download:B.bind(null,s),preview:O.bind(null,s),remove:D.bind(null,s)}):Be)}),nne=(n,e)=>{const{listType:t="text",previewFile:r=ene,onPreview:a,onDownload:o,onRemove:l,locale:s,iconRender:u,isImageUrl:f=Zte,prefixCls:m,items:b=[],showPreviewIcon:_=!0,showRemoveIcon:E=!0,showDownloadIcon:c=!1,removeIcon:p,previewIcon:g,downloadIcon:y,extra:C,progress:T={size:[-1,2],showInfo:!1},appendAction:M,appendActionVisible:O=!0,itemRender:B,disabled:D}=n,F=b4(),[z,U]=w.useState(!1),$=["picture-card","picture-circle"].includes(t);w.useEffect(()=>{t.startsWith("picture")&&(b||[]).forEach(fe=>{!(fe.originFileObj instanceof File||fe.originFileObj instanceof Blob)||fe.thumbUrl!==void 0||(fe.thumbUrl="",r==null||r(fe.originFileObj).then(Z=>{fe.thumbUrl=Z||"",F()}))})},[t,b,r]),w.useEffect(()=>{U(!0)},[]);const J=(fe,Z)=>{if(a)return Z==null||Z.preventDefault(),a(fe)},W=fe=>{typeof o=="function"?o(fe):fe.url&&window.open(fe.url)},Q=fe=>{l==null||l(fe)},ae=fe=>{if(u)return u(fe,t);const Z=fe.status==="uploading";if(t.startsWith("picture")){const pe=t==="picture"?w.createElement(r0,null):s.uploading,xe=f!=null&&f(fe)?w.createElement(aV,null):w.createElement(V$,null);return Z?pe:xe}return Z?w.createElement(r0,null):w.createElement(Z$,null)},Y=(fe,Z,pe,xe,Oe)=>{const Ae={type:"text",size:"small",title:xe,onClick:Te=>{var ze,yt;Z(),w.isValidElement(fe)&&((yt=(ze=fe.props).onClick)===null||yt===void 0||yt.call(ze,Te))},className:`${pe}-list-item-action`};return Oe&&(Ae.disabled=D),w.isValidElement(fe)?w.createElement(pa,Object.assign({},Ae,{icon:al(fe,Object.assign(Object.assign({},fe.props),{onClick:()=>{}}))})):w.createElement(pa,Object.assign({},Ae),w.createElement("span",null,fe))};w.useImperativeHandle(e,()=>({handlePreview:J,handleDownload:W}));const{getPrefixCls:K}=w.useContext(Hn),ee=K("upload",m),de=K(),q=Je(`${ee}-list`,`${ee}-list-${t}`),ie=w.useMemo(()=>yo(TF(de),["onAppearEnd","onEnterEnd","onLeaveEnd"]),[de]),he=Object.assign(Object.assign({},$?{}:ie),{motionDeadline:2e3,motionName:`${ee}-${$?"animate-inline":"animate"}`,keys:Jt(b.map(fe=>({key:fe.uid,file:fe}))),motionAppear:z});return w.createElement("div",{className:q},w.createElement(pF,Object.assign({},he,{component:!1}),fe=>{let{key:Z,file:pe,className:xe,style:Oe}=fe;return w.createElement(tne,{key:Z,locale:s,prefixCls:ee,className:xe,style:Oe,file:pe,items:b,progress:T,listType:t,isImgUrl:f,showPreviewIcon:_,showRemoveIcon:E,showDownloadIcon:c,removeIcon:p,previewIcon:g,downloadIcon:y,extra:C,iconRender:ae,actionIconRender:Y,itemRender:B,onPreview:J,onDownload:W,onClose:Q})}),M&&w.createElement(Xc,Object.assign({},he,{visible:O,forceRender:!0}),fe=>{let{className:Z,style:pe}=fe;return al(M,xe=>({className:Je(xe.className,Z),style:Object.assign(Object.assign(Object.assign({},pe),{pointerEvents:Z?"none":void 0}),xe.style)}))}))},ine=w.forwardRef(nne);var rne=function(n,e,t,r){function a(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function s(m){try{f(r.next(m))}catch(b){l(b)}}function u(m){try{f(r.throw(m))}catch(b){l(b)}}function f(m){m.done?o(m.value):a(m.value).then(s,u)}f((r=r.apply(n,[])).next())})};const fb=`__LIST_IGNORE_${Date.now()}__`,ane=(n,e)=>{const{fileList:t,defaultFileList:r,onRemove:a,showUploadList:o=!0,listType:l="text",onPreview:s,onDownload:u,onChange:f,onDrop:m,previewFile:b,disabled:_,locale:E,iconRender:c,isImageUrl:p,progress:g,prefixCls:y,className:C,type:T="select",children:M,style:O,itemRender:B,maxCount:D,data:F={},multiple:z=!1,hasControlInside:U=!0,action:$="",accept:J="",supportServerRender:W=!0,rootClassName:Q}=n,ae=w.useContext(Zu),Y=_??ae,[K,ee]=mo(r||[],{value:t,postState:We=>We??[]}),[de,q]=w.useState("drop"),ie=w.useRef(null),he=w.useRef(null);w.useMemo(()=>{const We=Date.now();(t||[]).forEach((rt,Se)=>{!rt.uid&&!Object.isFrozen(rt)&&(rt.uid=`__AUTO__${We}_${Se}__`)})},[t]);const fe=(We,rt,Se)=>{let Ge=Jt(rt),St=!1;D===1?Ge=Ge.slice(-1):D&&(St=Ge.length>D,Ge=Ge.slice(0,D)),Uh.flushSync(()=>{ee(Ge)});const Me={file:We,fileList:Ge};Se&&(Me.event=Se),(!St||We.status==="removed"||Ge.some(xt=>xt.uid===We.uid))&&Uh.flushSync(()=>{f==null||f(Me)})},Z=(We,rt)=>rne(void 0,void 0,void 0,function*(){const{beforeUpload:Se,transformFile:Ge}=n;let St=We;if(Se){const Me=yield Se(We,rt);if(Me===!1)return!1;if(delete We[fb],Me===fb)return Object.defineProperty(We,fb,{value:!0,configurable:!0}),!1;typeof Me=="object"&&Me&&(St=Me)}return Ge&&(St=yield Ge(St)),St}),pe=We=>{const rt=We.filter(St=>!St.file[fb]);if(!rt.length)return;const Se=rt.map(St=>wx(St.file));let Ge=Jt(K);Se.forEach(St=>{Ge=Ax(St,Ge)}),Se.forEach((St,Me)=>{let xt=St;if(rt[Me].parsedFile)St.status="uploading";else{const{originFileObj:et}=St;let mt;try{mt=new File([et],et.name,{type:et.type})}catch{mt=new Blob([et],{type:et.type}),mt.name=et.name,mt.lastModifiedDate=new Date,mt.lastModified=new Date().getTime()}mt.uid=St.uid,xt=mt}fe(xt,Ge)})},xe=(We,rt,Se)=>{try{typeof We=="string"&&(We=JSON.parse(We))}catch{}if(!qM(rt,K))return;const Ge=wx(rt);Ge.status="done",Ge.percent=100,Ge.response=We,Ge.xhr=Se;const St=Ax(Ge,K);fe(Ge,St)},Oe=(We,rt)=>{if(!qM(rt,K))return;const Se=wx(rt);Se.status="uploading",Se.percent=We.percent;const Ge=Ax(Se,K);fe(Se,Ge,We)},Ae=(We,rt,Se)=>{if(!qM(Se,K))return;const Ge=wx(Se);Ge.error=We,Ge.response=rt,Ge.status="error";const St=Ax(Ge,K);fe(Ge,St)},Te=We=>{let rt;Promise.resolve(typeof a=="function"?a(We):a).then(Se=>{var Ge;if(Se===!1)return;const St=Jte(We,K);St&&(rt=Object.assign(Object.assign({},We),{status:"removed"}),K==null||K.forEach(Me=>{const xt=rt.uid!==void 0?"uid":"name";Me[xt]===rt[xt]&&!Object.isFrozen(Me)&&(Me.status="removed")}),(Ge=ie.current)===null||Ge===void 0||Ge.abort(rt),fe(rt,St))})},ze=We=>{q(We.type),We.type==="drop"&&(m==null||m(We))};w.useImperativeHandle(e,()=>({onBatchStart:pe,onSuccess:xe,onProgress:Oe,onError:Ae,fileList:K,upload:ie.current,nativeElement:he.current}));const{getPrefixCls:yt,direction:Be,upload:Ce}=w.useContext(Hn),re=yt("upload",y),Fe=Object.assign(Object.assign({onBatchStart:pe,onError:Ae,onProgress:Oe,onSuccess:xe},n),{data:F,multiple:z,action:$,accept:J,supportServerRender:W,prefixCls:re,disabled:Y,beforeUpload:Z,onChange:void 0,hasControlInside:U});delete Fe.className,delete Fe.style,(!M||Y)&&delete Fe.id;const Ie=`${re}-wrapper`,[qe,$e,ct]=Kte(re,Ie),[st]=ES("Upload",Fh.Upload),{showRemoveIcon:ce,showPreviewIcon:oe,showDownloadIcon:we,removeIcon:De,previewIcon:Ke,downloadIcon:He,extra:gt}=typeof o=="boolean"?{}:o,lt=typeof ce>"u"?!Y:ce,pt=(We,rt)=>o?w.createElement(ine,{prefixCls:re,listType:l,items:K,previewFile:b,onPreview:s,onDownload:u,onRemove:Te,showRemoveIcon:lt,showPreviewIcon:oe,showDownloadIcon:we,removeIcon:De,previewIcon:Ke,downloadIcon:He,iconRender:c,extra:gt,locale:Object.assign(Object.assign({},st),E),isImageUrl:p,progress:g,appendAction:We,appendActionVisible:rt,itemRender:B,disabled:Y}):We,It=Je(Ie,C,Q,$e,ct,Ce==null?void 0:Ce.className,{[`${re}-rtl`]:Be==="rtl",[`${re}-picture-card-wrapper`]:l==="picture-card",[`${re}-picture-circle-wrapper`]:l==="picture-circle"}),ot=Object.assign(Object.assign({},Ce==null?void 0:Ce.style),O);if(T==="drag"){const We=Je($e,re,`${re}-drag`,{[`${re}-drag-uploading`]:K.some(rt=>rt.status==="uploading"),[`${re}-drag-hover`]:de==="dragover",[`${re}-disabled`]:Y,[`${re}-rtl`]:Be==="rtl"});return qe(w.createElement("span",{className:It,ref:he},w.createElement("div",{className:We,style:ot,onDrop:ze,onDragOver:ze,onDragLeave:ze},w.createElement(x2,Object.assign({},Fe,{ref:ie,className:`${re}-btn`}),w.createElement("div",{className:`${re}-drag-container`},M))),pt()))}const _t=Je(re,`${re}-select`,{[`${re}-disabled`]:Y,[`${re}-hidden`]:!M}),Ct=w.createElement("div",{className:_t},w.createElement(x2,Object.assign({},Fe,{ref:ie})));return qe(l==="picture-card"||l==="picture-circle"?w.createElement("span",{className:It,ref:he},pt(Ct,!!M)):w.createElement("span",{className:It,ref:he},Ct,pt()))},LH=w.forwardRef(ane);var one=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const sne=w.forwardRef((n,e)=>{var{style:t,height:r,hasControlInside:a=!1}=n,o=one(n,["style","height","hasControlInside"]);return w.createElement(LH,Object.assign({ref:e,hasControlInside:a},o,{type:"drag",style:Object.assign(Object.assign({},t),{height:r})}))}),J1=LH;J1.Dragger=sne;J1.LIST_IGNORE=fb;const lne="_navBar_1481f_1",cne="_sideBar_1481f_5",une="_sideMenu_1481f_9",dne="_content_1481f_23",$C={navBar:lne,sideBar:cne,sideMenu:une,content:dne};var jy={},UL;function fne(){if(UL)return jy;UL=1,Object.defineProperty(jy,"__esModule",{value:!0}),jy.parse=l,jy.serialize=f;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function l(_,E){const c=new o,p=_.length;if(p<2)return c;const g=(E==null?void 0:E.decode)||m;let y=0;do{const C=_.indexOf("=",y);if(C===-1)break;const T=_.indexOf(";",y),M=T===-1?p:T;if(C>M){y=_.lastIndexOf(";",C-1)+1;continue}const O=s(_,y,C),B=u(_,C,O),D=_.slice(O,B);if(c[D]===void 0){let F=s(_,C+1,M),z=u(_,M,F);const U=g(_.slice(F,z));c[D]=U}y=M+1}while(y<p);return c}function s(_,E,c){do{const p=_.charCodeAt(E);if(p!==32&&p!==9)return E}while(++E<c);return c}function u(_,E,c){for(;E>c;){const p=_.charCodeAt(--E);if(p!==32&&p!==9)return E+1}return c}function f(_,E,c){const p=(c==null?void 0:c.encode)||encodeURIComponent;if(!n.test(_))throw new TypeError(`argument name is invalid: ${_}`);const g=p(E);if(!e.test(g))throw new TypeError(`argument val is invalid: ${E}`);let y=_+"="+g;if(!c)return y;if(c.maxAge!==void 0){if(!Number.isInteger(c.maxAge))throw new TypeError(`option maxAge is invalid: ${c.maxAge}`);y+="; Max-Age="+c.maxAge}if(c.domain){if(!t.test(c.domain))throw new TypeError(`option domain is invalid: ${c.domain}`);y+="; Domain="+c.domain}if(c.path){if(!r.test(c.path))throw new TypeError(`option path is invalid: ${c.path}`);y+="; Path="+c.path}if(c.expires){if(!b(c.expires)||!Number.isFinite(c.expires.valueOf()))throw new TypeError(`option expires is invalid: ${c.expires}`);y+="; Expires="+c.expires.toUTCString()}if(c.httpOnly&&(y+="; HttpOnly"),c.secure&&(y+="; Secure"),c.partitioned&&(y+="; Partitioned"),c.priority)switch(typeof c.priority=="string"?c.priority.toLowerCase():void 0){case"low":y+="; Priority=Low";break;case"medium":y+="; Priority=Medium";break;case"high":y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${c.priority}`)}if(c.sameSite)switch(typeof c.sameSite=="string"?c.sameSite.toLowerCase():c.sameSite){case!0:case"strict":y+="; SameSite=Strict";break;case"lax":y+="; SameSite=Lax";break;case"none":y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${c.sameSite}`)}return y}function m(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function b(_){return a.call(_)==="[object Date]"}return jy}fne();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var FL="popstate";function hne(n={}){function e(a,o){let{pathname:l="/",search:s="",hash:u=""}=Vm(a.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),C2("",{pathname:l,search:s,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(a,o){let l=a.document.querySelector("base"),s="";if(l&&l.getAttribute("href")){let u=a.location.href,f=u.indexOf("#");s=f===-1?u:u.slice(0,f)}return s+"#"+(typeof o=="string"?o:oS(o))}function r(a,o){$c(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return mne(e,t,r,n)}function Jr(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function $c(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pne(){return Math.random().toString(36).substring(2,10)}function HL(n,e){return{usr:n.state,key:n.key,idx:e}}function C2(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Vm(e):e,state:t,key:e&&e.key||r||pne()}}function oS({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Vm(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function mne(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,l=a.history,s="POP",u=null,f=m();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function m(){return(l.state||{idx:null}).idx}function b(){s="POP";let g=m(),y=g==null?null:g-f;f=g,u&&u({action:s,location:p.location,delta:y})}function _(g,y){s="PUSH";let C=C2(p.location,g,y);t&&t(C,g),f=m()+1;let T=HL(C,f),M=p.createHref(C);try{l.pushState(T,"",M)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;a.location.assign(M)}o&&u&&u({action:s,location:p.location,delta:1})}function E(g,y){s="REPLACE";let C=C2(p.location,g,y);t&&t(C,g),f=m();let T=HL(C,f),M=p.createHref(C);l.replaceState(T,"",M),o&&u&&u({action:s,location:p.location,delta:0})}function c(g){let y=a.location.origin!=="null"?a.location.origin:a.location.href,C=typeof g=="string"?g:oS(g);return C=C.replace(/ $/,"%20"),Jr(y,`No window.location.(origin|href) available to create URL for href: ${C}`),new URL(C,y)}let p={get action(){return s},get location(){return n(a,l)},listen(g){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(FL,b),u=g,()=>{a.removeEventListener(FL,b),u=null}},createHref(g){return e(a,g)},createURL:c,encodeLocation(g){let y=c(g);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:_,replace:E,go(g){return l.go(g)}};return p}function NH(n,e,t="/"){return gne(n,e,t,!1)}function gne(n,e,t,r){let a=typeof e=="string"?Vm(e):e,o=vf(a.pathname||"/",t);if(o==null)return null;let l=zH(n);vne(l);let s=null;for(let u=0;s==null&&u<l.length;++u){let f=Tne(o);s=Ane(l[u],f,r)}return s}function zH(n,e=[],t=[],r=""){let a=(o,l,s)=>{let u={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};u.relativePath.startsWith("/")&&(Jr(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length));let f=uf([r,u.relativePath]),m=t.concat(u);o.children&&o.children.length>0&&(Jr(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),zH(o.children,e,m,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:Ene(f,o.index),routesMeta:m})};return n.forEach((o,l)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))a(o,l);else for(let u of UH(o.path))a(o,l,u)}),e}function UH(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let l=UH(r.join("/")),s=[];return s.push(...l.map(u=>u===""?o:[o,u].join("/"))),a&&s.push(...l),s.map(u=>n.startsWith("/")&&u===""?"/":u)}function vne(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:wne(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var yne=/^:[\w-]+$/,bne=3,Sne=2,_ne=1,xne=10,Cne=-2,GL=n=>n==="*";function Ene(n,e){let t=n.split("/"),r=t.length;return t.some(GL)&&(r+=Cne),e&&(r+=Sne),t.filter(a=>!GL(a)).reduce((a,o)=>a+(yne.test(o)?bne:o===""?_ne:xne),r)}function wne(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function Ane(n,e,t=!1){let{routesMeta:r}=n,a={},o="/",l=[];for(let s=0;s<r.length;++s){let u=r[s],f=s===r.length-1,m=o==="/"?e:e.slice(o.length)||"/",b=Q1({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},m),_=u.route;if(!b&&f&&t&&!r[r.length-1].route.index&&(b=Q1({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},m)),!b)return null;Object.assign(a,b.params),l.push({params:a,pathname:uf([o,b.pathname]),pathnameBase:Bne(uf([o,b.pathnameBase])),route:_}),b.pathnameBase!=="/"&&(o=uf([o,b.pathnameBase]))}return l}function Q1(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=Mne(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let o=a[0],l=o.replace(/(.)\/+$/,"$1"),s=a.slice(1);return{params:r.reduce((f,{paramName:m,isOptional:b},_)=>{if(m==="*"){let c=s[_]||"";l=o.slice(0,o.length-c.length).replace(/(.)\/+$/,"$1")}const E=s[_];return b&&!E?f[m]=void 0:f[m]=(E||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:n}}function Mne(n,e=!1,t=!0){$c(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,s,u)=>(r.push({paramName:s,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function Tne(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $c(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function vf(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function Rne(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?Vm(n):n;return{pathname:t?t.startsWith("/")?t:One(t,e):e,search:Dne(r),hash:Pne(a)}}function One(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function KM(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ine(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function FH(n){let e=Ine(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function HH(n,e,t,r=!1){let a;typeof n=="string"?a=Vm(n):(a={...n},Jr(!a.pathname||!a.pathname.includes("?"),KM("?","pathname","search",a)),Jr(!a.pathname||!a.pathname.includes("#"),KM("#","pathname","hash",a)),Jr(!a.search||!a.search.includes("#"),KM("#","search","hash",a)));let o=n===""||a.pathname==="",l=o?"/":a.pathname,s;if(l==null)s=t;else{let b=e.length-1;if(!r&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),b-=1;a.pathname=_.join("/")}s=b>=0?e[b]:"/"}let u=Rne(a,s),f=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(f||m)&&(u.pathname+="/"),u}var uf=n=>n.join("/").replace(/\/\/+/g,"/"),Bne=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Dne=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Pne=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Lne(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var GH=["POST","PUT","PATCH","DELETE"];new Set(GH);var Nne=["GET",...GH];new Set(Nne);var L0=w.createContext(null);L0.displayName="DataRouter";var Uw=w.createContext(null);Uw.displayName="DataRouterState";var kH=w.createContext({isTransitioning:!1});kH.displayName="ViewTransition";var zne=w.createContext(new Map);zne.displayName="Fetchers";var Une=w.createContext(null);Une.displayName="Await";var sd=w.createContext(null);sd.displayName="Navigation";var NS=w.createContext(null);NS.displayName="Location";var Ef=w.createContext({outlet:null,matches:[],isDataRoute:!1});Ef.displayName="Route";var sI=w.createContext(null);sI.displayName="RouteError";function Fne(n,{relative:e}={}){Jr(zS(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=w.useContext(sd),{hash:a,pathname:o,search:l}=US(n,{relative:e}),s=o;return t!=="/"&&(s=o==="/"?t:uf([t,o])),r.createHref({pathname:s,search:l,hash:a})}function zS(){return w.useContext(NS)!=null}function jh(){return Jr(zS(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(NS).location}var $H="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function VH(n){w.useContext(sd).static||w.useLayoutEffect(n)}function jH(){let{isDataRoute:n}=w.useContext(Ef);return n?Qne():Hne()}function Hne(){Jr(zS(),"useNavigate() may be used only in the context of a <Router> component.");let n=w.useContext(L0),{basename:e,navigator:t}=w.useContext(sd),{matches:r}=w.useContext(Ef),{pathname:a}=jh(),o=JSON.stringify(FH(r)),l=w.useRef(!1);return VH(()=>{l.current=!0}),w.useCallback((u,f={})=>{if($c(l.current,$H),!l.current)return;if(typeof u=="number"){t.go(u);return}let m=HH(u,JSON.parse(o),a,f.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:uf([e,m.pathname])),(f.replace?t.replace:t.push)(m,f.state,f)},[e,t,o,a,n])}w.createContext(null);function US(n,{relative:e}={}){let{matches:t}=w.useContext(Ef),{pathname:r}=jh(),a=JSON.stringify(FH(t));return w.useMemo(()=>HH(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function Gne(n,e){return WH(n,e)}function WH(n,e,t,r){var C;Jr(zS(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:o}=w.useContext(sd),{matches:l}=w.useContext(Ef),s=l[l.length-1],u=s?s.params:{},f=s?s.pathname:"/",m=s?s.pathnameBase:"/",b=s&&s.route;{let T=b&&b.path||"";XH(f,!b||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let _=jh(),E;if(e){let T=typeof e=="string"?Vm(e):e;Jr(m==="/"||((C=T.pathname)==null?void 0:C.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${T.pathname}" was given in the \`location\` prop.`),E=T}else E=_;let c=E.pathname||"/",p=c;if(m!=="/"){let T=m.replace(/^\//,"").split("/");p="/"+c.replace(/^\//,"").split("/").slice(T.length).join("/")}let g=!o&&t&&t.matches&&t.matches.length>0?t.matches:NH(n,{pathname:p});$c(b||g!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),$c(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=Wne(g&&g.map(T=>Object.assign({},T,{params:Object.assign({},u,T.params),pathname:uf([m,a.encodeLocation?a.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?m:uf([m,a.encodeLocation?a.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),l,t,r);return e&&y?w.createElement(NS.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},y):y}function kne(){let n=Jne(),e=Lne(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:o},"ErrorBoundary")," or"," ",w.createElement("code",{style:o},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),t?w.createElement("pre",{style:a},t):null,l)}var $ne=w.createElement(kne,null),Vne=class extends w.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?w.createElement(Ef.Provider,{value:this.props.routeContext},w.createElement(sI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function jne({routeContext:n,match:e,children:t}){let r=w.useContext(L0);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(Ef.Provider,{value:n},t)}function Wne(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=t==null?void 0:t.errors;if(o!=null){let u=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);Jr(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,u+1))}let l=!1,s=-1;if(t)for(let u=0;u<a.length;u++){let f=a[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(s=u),f.route.id){let{loaderData:m,errors:b}=t,_=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!b||b[f.route.id]===void 0);if(f.route.lazy||_){l=!0,s>=0?a=a.slice(0,s+1):a=[a[0]];break}}}return a.reduceRight((u,f,m)=>{let b,_=!1,E=null,c=null;t&&(b=o&&f.route.id?o[f.route.id]:void 0,E=f.route.errorElement||$ne,l&&(s<0&&m===0?(XH("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,c=null):s===m&&(_=!0,c=f.route.hydrateFallbackElement||null)));let p=e.concat(a.slice(0,m+1)),g=()=>{let y;return b?y=E:_?y=c:f.route.Component?y=w.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=u,w.createElement(jne,{match:f,routeContext:{outlet:u,matches:p,isDataRoute:t!=null},children:y})};return t&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?w.createElement(Vne,{location:t.location,revalidation:t.revalidation,component:E,error:b,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()},null)}function lI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Xne(n){let e=w.useContext(L0);return Jr(e,lI(n)),e}function Yne(n){let e=w.useContext(Uw);return Jr(e,lI(n)),e}function qne(n){let e=w.useContext(Ef);return Jr(e,lI(n)),e}function cI(n){let e=qne(n),t=e.matches[e.matches.length-1];return Jr(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function Kne(){return cI("useRouteId")}function Jne(){var r;let n=w.useContext(sI),e=Yne("useRouteError"),t=cI("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function Qne(){let{router:n}=Xne("useNavigate"),e=cI("useNavigate"),t=w.useRef(!1);return VH(()=>{t.current=!0}),w.useCallback(async(a,o={})=>{$c(t.current,$H),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...o}))},[n,e])}var kL={};function XH(n,e,t){!e&&!kL[n]&&(kL[n]=!0,$c(!1,t))}w.memo(Zne);function Zne({routes:n,future:e,state:t}){return WH(n,void 0,t,e)}function VC(n){Jr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function eie({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:o=!1}){Jr(!zS(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),s=w.useMemo(()=>({basename:l,navigator:a,static:o,future:{}}),[l,a,o]);typeof t=="string"&&(t=Vm(t));let{pathname:u="/",search:f="",hash:m="",state:b=null,key:_="default"}=t,E=w.useMemo(()=>{let c=vf(u,l);return c==null?null:{location:{pathname:c,search:f,hash:m,state:b,key:_},navigationType:r}},[l,u,f,m,b,_,r]);return $c(E!=null,`<Router basename="${l}"> is not able to match the URL "${u}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:w.createElement(sd.Provider,{value:s},w.createElement(NS.Provider,{children:e,value:E}))}function tie({children:n,location:e}){return Gne(E2(n),e)}function E2(n,e=[]){let t=[];return w.Children.forEach(n,(r,a)=>{if(!w.isValidElement(r))return;let o=[...e,a];if(r.type===w.Fragment){t.push.apply(t,E2(r.props.children,o));return}Jr(r.type===VC,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Jr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=E2(r.props.children,o)),t.push(l)}),t}var jC="get",WC="application/x-www-form-urlencoded";function Fw(n){return n!=null&&typeof n.tagName=="string"}function nie(n){return Fw(n)&&n.tagName.toLowerCase()==="button"}function iie(n){return Fw(n)&&n.tagName.toLowerCase()==="form"}function rie(n){return Fw(n)&&n.tagName.toLowerCase()==="input"}function aie(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function oie(n,e){return n.button===0&&(!e||e==="_self")&&!aie(n)}var Mx=null;function sie(){if(Mx===null)try{new FormData(document.createElement("form"),0),Mx=!1}catch{Mx=!0}return Mx}var lie=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function JM(n){return n!=null&&!lie.has(n)?($c(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${WC}"`),null):n}function cie(n,e){let t,r,a,o,l;if(iie(n)){let s=n.getAttribute("action");r=s?vf(s,e):null,t=n.getAttribute("method")||jC,a=JM(n.getAttribute("enctype"))||WC,o=new FormData(n)}else if(nie(n)||rie(n)&&(n.type==="submit"||n.type==="image")){let s=n.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=n.getAttribute("formaction")||s.getAttribute("action");if(r=u?vf(u,e):null,t=n.getAttribute("formmethod")||s.getAttribute("method")||jC,a=JM(n.getAttribute("formenctype"))||JM(s.getAttribute("enctype"))||WC,o=new FormData(s,n),!sie()){let{name:f,type:m,value:b}=n;if(m==="image"){let _=f?`${f}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else f&&o.append(f,b)}}else{if(Fw(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=jC,r=null,a=WC,l=n}return o&&a==="text/plain"&&(l=o,o=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:o,body:l}}function uI(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function uie(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function die(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function fie(n,e,t){let r=await Promise.all(n.map(async a=>{let o=e.routes[a.route.id];if(o){let l=await uie(o,t);return l.links?l.links():[]}return[]}));return gie(r.flat(1).filter(die).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function $L(n,e,t,r,a,o){let l=(u,f)=>t[f]?u.route.id!==t[f].route.id:!0,s=(u,f)=>{var m;return t[f].pathname!==u.pathname||((m=t[f].route.path)==null?void 0:m.endsWith("*"))&&t[f].params["*"]!==u.params["*"]};return o==="assets"?e.filter((u,f)=>l(u,f)||s(u,f)):o==="data"?e.filter((u,f)=>{var b;let m=r.routes[u.route.id];if(!m||!m.hasLoader)return!1;if(l(u,f)||s(u,f))return!0;if(u.route.shouldRevalidate){let _=u.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(n,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function hie(n,e,{includeHydrateFallback:t}={}){return pie(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function pie(n){return[...new Set(n)]}function mie(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function gie(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let o=JSON.stringify(mie(a));return t.has(o)||(t.add(o),r.push({key:o,link:a})),r},[])}function vie(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&vf(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function YH(){let n=w.useContext(L0);return uI(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function yie(){let n=w.useContext(Uw);return uI(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var dI=w.createContext(void 0);dI.displayName="FrameworkContext";function qH(){let n=w.useContext(dI);return uI(n,"You must render this element inside a <HydratedRouter> element"),n}function bie(n,e){let t=w.useContext(dI),[r,a]=w.useState(!1),[o,l]=w.useState(!1),{onFocus:s,onBlur:u,onMouseEnter:f,onMouseLeave:m,onTouchStart:b}=e,_=w.useRef(null);w.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let p=y=>{y.forEach(C=>{l(C.isIntersecting)})},g=new IntersectionObserver(p,{threshold:.5});return _.current&&g.observe(_.current),()=>{g.disconnect()}}},[n]),w.useEffect(()=>{if(r){let p=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(p)}}},[r]);let E=()=>{a(!0)},c=()=>{a(!1),l(!1)};return t?n!=="intent"?[o,_,{}]:[o,_,{onFocus:Wy(s,E),onBlur:Wy(u,c),onMouseEnter:Wy(f,E),onMouseLeave:Wy(m,c),onTouchStart:Wy(b,E)}]:[!1,_,{}]}function Wy(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function Sie({page:n,...e}){let{router:t}=YH(),r=w.useMemo(()=>NH(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?w.createElement(xie,{page:n,matches:r,...e}):null}function _ie(n){let{manifest:e,routeModules:t}=qH(),[r,a]=w.useState([]);return w.useEffect(()=>{let o=!1;return fie(n,e,t).then(l=>{o||a(l)}),()=>{o=!0}},[n,e,t]),r}function xie({page:n,matches:e,...t}){let r=jh(),{manifest:a,routeModules:o}=qH(),{basename:l}=YH(),{loaderData:s,matches:u}=yie(),f=w.useMemo(()=>$L(n,e,u,a,r,"data"),[n,e,u,a,r]),m=w.useMemo(()=>$L(n,e,u,a,r,"assets"),[n,e,u,a,r]),b=w.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let c=new Set,p=!1;if(e.forEach(y=>{var T;let C=a.routes[y.route.id];!C||!C.hasLoader||(!f.some(M=>M.route.id===y.route.id)&&y.route.id in s&&((T=o[y.route.id])!=null&&T.shouldRevalidate)||C.hasClientLoader?p=!0:c.add(y.route.id))}),c.size===0)return[];let g=vie(n,l);return p&&c.size>0&&g.searchParams.set("_routes",e.filter(y=>c.has(y.route.id)).map(y=>y.route.id).join(",")),[g.pathname+g.search]},[l,s,r,a,f,e,n,o]),_=w.useMemo(()=>hie(m,a),[m,a]),E=_ie(m);return w.createElement(w.Fragment,null,b.map(c=>w.createElement("link",{key:c,rel:"prefetch",as:"fetch",href:c,...t})),_.map(c=>w.createElement("link",{key:c,rel:"modulepreload",href:c,...t})),E.map(({key:c,link:p})=>w.createElement("link",{key:c,...p})))}function Cie(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var KH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{KH&&(window.__reactRouterVersion="7.3.0")}catch{}function Eie({basename:n,children:e,window:t}){let r=w.useRef();r.current==null&&(r.current=hne({window:t,v5Compat:!0}));let a=r.current,[o,l]=w.useState({action:a.action,location:a.location}),s=w.useCallback(u=>{w.startTransition(()=>l(u))},[l]);return w.useLayoutEffect(()=>a.listen(s),[a,s]),w.createElement(eie,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:a})}var JH=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,QH=w.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:o,replace:l,state:s,target:u,to:f,preventScrollReset:m,viewTransition:b,..._},E){let{basename:c}=w.useContext(sd),p=typeof f=="string"&&JH.test(f),g,y=!1;if(typeof f=="string"&&p&&(g=f,KH))try{let z=new URL(window.location.href),U=f.startsWith("//")?new URL(z.protocol+f):new URL(f),$=vf(U.pathname,c);U.origin===z.origin&&$!=null?f=$+U.search+U.hash:y=!0}catch{$c(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=Fne(f,{relative:a}),[T,M,O]=bie(r,_),B=Tie(f,{replace:l,state:s,target:u,preventScrollReset:m,relative:a,viewTransition:b});function D(z){e&&e(z),z.defaultPrevented||B(z)}let F=w.createElement("a",{..._,...O,href:g||C,onClick:y||o?e:D,ref:Cie(E,M),target:u,"data-discover":!p&&t==="render"?"true":void 0});return T&&!p?w.createElement(w.Fragment,null,F,w.createElement(Sie,{page:C})):F});QH.displayName="Link";var wie=w.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:o,to:l,viewTransition:s,children:u,...f},m){let b=US(l,{relative:f.relative}),_=jh(),E=w.useContext(Uw),{navigator:c,basename:p}=w.useContext(sd),g=E!=null&&Die(b)&&s===!0,y=c.encodeLocation?c.encodeLocation(b).pathname:b.pathname,C=_.pathname,T=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;t||(C=C.toLowerCase(),T=T?T.toLowerCase():null,y=y.toLowerCase()),T&&p&&(T=vf(T,p)||T);const M=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let O=C===y||!a&&C.startsWith(y)&&C.charAt(M)==="/",B=T!=null&&(T===y||!a&&T.startsWith(y)&&T.charAt(y.length)==="/"),D={isActive:O,isPending:B,isTransitioning:g},F=O?e:void 0,z;typeof r=="function"?z=r(D):z=[r,O?"active":null,B?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let U=typeof o=="function"?o(D):o;return w.createElement(QH,{...f,"aria-current":F,className:z,ref:m,style:U,to:l,viewTransition:s},typeof u=="function"?u(D):u)});wie.displayName="NavLink";var Aie=w.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:o,method:l=jC,action:s,onSubmit:u,relative:f,preventScrollReset:m,viewTransition:b,..._},E)=>{let c=Iie(),p=Bie(s,{relative:f}),g=l.toLowerCase()==="get"?"get":"post",y=typeof s=="string"&&JH.test(s),C=T=>{if(u&&u(T),T.defaultPrevented)return;T.preventDefault();let M=T.nativeEvent.submitter,O=(M==null?void 0:M.getAttribute("formmethod"))||l;c(M||T.currentTarget,{fetcherKey:e,method:O,navigate:t,replace:a,state:o,relative:f,preventScrollReset:m,viewTransition:b})};return w.createElement("form",{ref:E,method:g,action:p,onSubmit:r?u:C,..._,"data-discover":!y&&n==="render"?"true":void 0})});Aie.displayName="Form";function Mie(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZH(n){let e=w.useContext(L0);return Jr(e,Mie(n)),e}function Tie(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:o,viewTransition:l}={}){let s=jH(),u=jh(),f=US(n,{relative:o});return w.useCallback(m=>{if(oie(m,e)){m.preventDefault();let b=t!==void 0?t:oS(u)===oS(f);s(n,{replace:b,state:r,preventScrollReset:a,relative:o,viewTransition:l})}},[u,s,f,t,r,e,n,a,o,l])}var Rie=0,Oie=()=>`__${String(++Rie)}__`;function Iie(){let{router:n}=ZH("useSubmit"),{basename:e}=w.useContext(sd),t=Kne();return w.useCallback(async(r,a={})=>{let{action:o,method:l,encType:s,formData:u,body:f}=cie(r,e);if(a.navigate===!1){let m=a.fetcherKey||Oie();await n.fetch(m,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:u,body:f,formMethod:a.method||l,formEncType:a.encType||s,flushSync:a.flushSync})}else await n.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:u,body:f,formMethod:a.method||l,formEncType:a.encType||s,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function Bie(n,{relative:e}={}){let{basename:t}=w.useContext(sd),r=w.useContext(Ef);Jr(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...US(n||".",{relative:e})},l=jh();if(n==null){o.search=l.search;let s=new URLSearchParams(o.search),u=s.getAll("index");if(u.some(m=>m==="")){s.delete("index"),u.filter(b=>b).forEach(b=>s.append("index",b));let m=s.toString();o.search=m?`?${m}`:""}}return(!n||n===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:uf([t,o.pathname])),oS(o)}function Die(n,e={}){let t=w.useContext(kH);Jr(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ZH("useViewTransitionState"),a=US(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=vf(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=vf(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Q1(a.pathname,l)!=null||Q1(a.pathname,o)!=null}new TextEncoder;const Pie="_videoWrapper_9iz5a_1",Lie="_formPanel_9iz5a_6",VL={videoWrapper:Pie,formPanel:Lie},Nie="_linearGradientButton_ygfyk_1",zie="_formContent_ygfyk_16",Uie="_imageSelect_ygfyk_23",Fie="_customButton_ygfyk_27",Hie="_textarea_ygfyk_30",Gie="_formFooter_ygfyk_38",kie="_footerButton_ygfyk_44",Lu={linearGradientButton:Nie,formContent:zie,imageSelect:Uie,customButton:Fie,textarea:Hie,formFooter:Gie,footerButton:kie};var Tx={exports:{}},jL;function $ie(){if(jL)return Tx.exports;jL=1;var n=typeof Reflect=="object"?Reflect:null,e=n&&typeof n.apply=="function"?n.apply:function(O,B,D){return Function.prototype.apply.call(O,B,D)},t;n&&typeof n.ownKeys=="function"?t=n.ownKeys:Object.getOwnPropertySymbols?t=function(O){return Object.getOwnPropertyNames(O).concat(Object.getOwnPropertySymbols(O))}:t=function(O){return Object.getOwnPropertyNames(O)};function r(M){console&&console.warn&&console.warn(M)}var a=Number.isNaN||function(O){return O!==O};function o(){o.init.call(this)}Tx.exports=o,Tx.exports.once=y,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var l=10;function s(M){if(typeof M!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof M)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(M){if(typeof M!="number"||M<0||a(M))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+M+".");l=M}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(O){if(typeof O!="number"||O<0||a(O))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+O+".");return this._maxListeners=O,this};function u(M){return M._maxListeners===void 0?o.defaultMaxListeners:M._maxListeners}o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(O){for(var B=[],D=1;D<arguments.length;D++)B.push(arguments[D]);var F=O==="error",z=this._events;if(z!==void 0)F=F&&z.error===void 0;else if(!F)return!1;if(F){var U;if(B.length>0&&(U=B[0]),U instanceof Error)throw U;var $=new Error("Unhandled error."+(U?" ("+U.message+")":""));throw $.context=U,$}var J=z[O];if(J===void 0)return!1;if(typeof J=="function")e(J,this,B);else for(var W=J.length,Q=c(J,W),D=0;D<W;++D)e(Q[D],this,B);return!0};function f(M,O,B,D){var F,z,U;if(s(B),z=M._events,z===void 0?(z=M._events=Object.create(null),M._eventsCount=0):(z.newListener!==void 0&&(M.emit("newListener",O,B.listener?B.listener:B),z=M._events),U=z[O]),U===void 0)U=z[O]=B,++M._eventsCount;else if(typeof U=="function"?U=z[O]=D?[B,U]:[U,B]:D?U.unshift(B):U.push(B),F=u(M),F>0&&U.length>F&&!U.warned){U.warned=!0;var $=new Error("Possible EventEmitter memory leak detected. "+U.length+" "+String(O)+" listeners added. Use emitter.setMaxListeners() to increase limit");$.name="MaxListenersExceededWarning",$.emitter=M,$.type=O,$.count=U.length,r($)}return M}o.prototype.addListener=function(O,B){return f(this,O,B,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(O,B){return f(this,O,B,!0)};function m(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function b(M,O,B){var D={fired:!1,wrapFn:void 0,target:M,type:O,listener:B},F=m.bind(D);return F.listener=B,D.wrapFn=F,F}o.prototype.once=function(O,B){return s(B),this.on(O,b(this,O,B)),this},o.prototype.prependOnceListener=function(O,B){return s(B),this.prependListener(O,b(this,O,B)),this},o.prototype.removeListener=function(O,B){var D,F,z,U,$;if(s(B),F=this._events,F===void 0)return this;if(D=F[O],D===void 0)return this;if(D===B||D.listener===B)--this._eventsCount===0?this._events=Object.create(null):(delete F[O],F.removeListener&&this.emit("removeListener",O,D.listener||B));else if(typeof D!="function"){for(z=-1,U=D.length-1;U>=0;U--)if(D[U]===B||D[U].listener===B){$=D[U].listener,z=U;break}if(z<0)return this;z===0?D.shift():p(D,z),D.length===1&&(F[O]=D[0]),F.removeListener!==void 0&&this.emit("removeListener",O,$||B)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(O){var B,D,F;if(D=this._events,D===void 0)return this;if(D.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):D[O]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete D[O]),this;if(arguments.length===0){var z=Object.keys(D),U;for(F=0;F<z.length;++F)U=z[F],U!=="removeListener"&&this.removeAllListeners(U);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(B=D[O],typeof B=="function")this.removeListener(O,B);else if(B!==void 0)for(F=B.length-1;F>=0;F--)this.removeListener(O,B[F]);return this};function _(M,O,B){var D=M._events;if(D===void 0)return[];var F=D[O];return F===void 0?[]:typeof F=="function"?B?[F.listener||F]:[F]:B?g(F):c(F,F.length)}o.prototype.listeners=function(O){return _(this,O,!0)},o.prototype.rawListeners=function(O){return _(this,O,!1)},o.listenerCount=function(M,O){return typeof M.listenerCount=="function"?M.listenerCount(O):E.call(M,O)},o.prototype.listenerCount=E;function E(M){var O=this._events;if(O!==void 0){var B=O[M];if(typeof B=="function")return 1;if(B!==void 0)return B.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]};function c(M,O){for(var B=new Array(O),D=0;D<O;++D)B[D]=M[D];return B}function p(M,O){for(;O+1<M.length;O++)M[O]=M[O+1];M.pop()}function g(M){for(var O=new Array(M.length),B=0;B<O.length;++B)O[B]=M[B].listener||M[B];return O}function y(M,O){return new Promise(function(B,D){function F(U){M.removeListener(O,z),D(U)}function z(){typeof M.removeListener=="function"&&M.removeListener("error",F),B([].slice.call(arguments))}T(M,O,z,{once:!0}),O!=="error"&&C(M,F,{once:!0})})}function C(M,O,B){typeof M.on=="function"&&T(M,"error",O,B)}function T(M,O,B,D){if(typeof M.on=="function")D.once?M.once(O,B):M.on(O,B);else if(typeof M.addEventListener=="function")M.addEventListener(O,function F(z){D.once&&M.removeEventListener(O,F),B(z)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof M)}return Tx.exports}var Vie=$ie();const w2=new Vie.EventEmitter,A2={ADD_FAKE_VIDEO:"add-fake-video"},jie="_imageUpload_19an3_1",Wie={imageUpload:jie},Xie=({multiple:n=!1,onChange:e})=>{const[t,r]=w.useState([]),[a,o]=w.useState(!1),[l,s]=w.useState(""),[u,f]=w.useState(""),m=async E=>{!E.url&&!E.preview&&(E.preview=await new Promise(c=>{const p=new FileReader;p.onload=g=>{var y;return c((y=g.target)==null?void 0:y.result)},p.readAsDataURL(E.originFileObj)})),s(E.url||E.preview),f(E.name||""),o(!0)},b=({fileList:E})=>{r(E),e()},_=E=>["image/jpeg","image/png","image/webp"].includes(E.type)?!1:(MH.error(" JPEG, PNG, WEBP "),J1.LIST_IGNORE);return ke.jsxs(ke.Fragment,{children:[ke.jsx(J1,{className:Wie.imageUpload,accept:"image/jpeg,image/png,image/webp",listType:n?"picture":"picture-card",fileList:t,onPreview:m,onChange:b,beforeUpload:_,multiple:n,showUploadList:!0,children:!n&&t.length>0?null:ke.jsxs("div",{children:[ke.jsx(dV,{}),ke.jsx("div",{style:{marginTop:8},children:"JPEGPNGWEBP"})]})}),ke.jsx($l,{open:a,footer:null,onCancel:()=>o(!1),title:u,children:ke.jsx("img",{alt:"preview",style:{width:"100%"},src:l})})]})};/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const FS="174",$p={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Vp={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},e8=0,M2=1,t8=2,Yie=3,n8=0,Hw=1,Db=2,Oc=3,nd=0,cs=1,zc=2,df=0,Cm=1,T2=2,R2=3,O2=4,i8=5,wh=100,r8=101,a8=102,o8=103,s8=104,l8=200,c8=201,u8=202,d8=203,Z1=204,eE=205,f8=206,h8=207,p8=208,m8=209,g8=210,v8=211,y8=212,b8=213,S8=214,tE=0,nE=1,iE=2,Tm=3,rE=4,aE=5,oE=6,sE=7,HS=0,_8=1,x8=2,qu=0,C8=1,E8=2,w8=3,fI=4,A8=5,M8=6,T8=7,I2="attached",R8="detached",Gw=300,yf=301,Gh=302,sS=303,lS=304,N0=306,kh=1e3,nl=1001,m0=1002,Za=1003,kw=1004,qie=1004,mm=1005,Kie=1005,ma=1006,Zv=1007,Jie=1007,Gl=1008,Qie=1008,Vc=1009,hI=1010,pI=1011,g0=1012,$w=1013,bf=1014,Is=1015,z0=1016,Vw=1017,jw=1018,Rm=1020,mI=35902,gI=1021,vI=1022,zo=1023,yI=1024,bI=1025,Em=1026,Om=1027,Ww=1028,GS=1029,SI=1030,Xw=1031,Zie=1032,Yw=1033,Pb=33776,Lb=33777,Nb=33778,zb=33779,lE=35840,cE=35841,uE=35842,dE=35843,fE=36196,hE=37492,pE=37496,mE=37808,gE=37809,vE=37810,yE=37811,bE=37812,SE=37813,_E=37814,xE=37815,CE=37816,EE=37817,wE=37818,AE=37819,ME=37820,TE=37821,Ub=36492,RE=36494,OE=36495,_I=36283,IE=36284,BE=36285,DE=36286,O8=2200,I8=2201,B8=2202,v0=2300,y0=2301,XC=2302,gm=2400,vm=2401,cS=2402,qw=2500,xI=2501,D8=0,CI=1,PE=2,P8=3200,L8=3201,ere=3202,tre=3203,Wh=0,N8=1,rf="",Lo="srgb",$h="srgb-linear",uS="linear",sr="srgb",nre=0,jp=7680,ire=7681,rre=7682,are=7683,ore=34055,sre=34056,lre=5386,cre=512,ure=513,dre=514,fre=515,hre=516,pre=517,mre=518,B2=519,z8=512,U8=513,F8=514,EI=515,H8=516,G8=517,k8=518,$8=519,dS=35044,gre=35048,vre=35040,yre=35045,bre=35049,Sre=35041,_re=35046,xre=35050,Cre=35042,Ere="100",D2="300 es",Fc=2e3,fS=2001,wre={COMPUTE:"compute",RENDER:"render"};let ld=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){const r=this._listeners;return r===void 0?!1:r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){const r=this._listeners;if(r===void 0)return;const a=r[e];if(a!==void 0){const o=a.indexOf(t);o!==-1&&a.splice(o,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const r=t[e.type];if(r!==void 0){e.target=this;const a=r.slice(0);for(let o=0,l=a.length;o<l;o++)a[o].call(this,e);e.target=null}}};const Oo=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let WL=1234567;const wm=Math.PI/180,b0=180/Math.PI;function rl(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Oo[n&255]+Oo[n>>8&255]+Oo[n>>16&255]+Oo[n>>24&255]+"-"+Oo[e&255]+Oo[e>>8&255]+"-"+Oo[e>>16&15|64]+Oo[e>>24&255]+"-"+Oo[t&63|128]+Oo[t>>8&255]+"-"+Oo[t>>16&255]+Oo[t>>24&255]+Oo[r&255]+Oo[r>>8&255]+Oo[r>>16&255]+Oo[r>>24&255]).toLowerCase()}function Jn(n,e,t){return Math.max(e,Math.min(t,n))}function wI(n,e){return(n%e+e)%e}function Are(n,e,t,r,a){return r+(n-e)*(a-r)/(t-e)}function Mre(n,e,t){return n!==e?(t-n)/(e-n):0}function Fb(n,e,t){return(1-t)*n+t*e}function Tre(n,e,t,r){return Fb(n,e,1-Math.exp(-t*r))}function Rre(n,e=1){return e-Math.abs(wI(n,e*2)-e)}function Ore(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function Ire(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function Bre(n,e){return n+Math.floor(Math.random()*(e-n+1))}function Dre(n,e){return n+Math.random()*(e-n)}function Pre(n){return n*(.5-Math.random())}function Lre(n){n!==void 0&&(WL=n);let e=WL+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Nre(n){return n*wm}function zre(n){return n*b0}function Ure(n){return(n&n-1)===0&&n!==0}function Fre(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function Hre(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function Gre(n,e,t,r,a){const o=Math.cos,l=Math.sin,s=o(t/2),u=l(t/2),f=o((e+r)/2),m=l((e+r)/2),b=o((e-r)/2),_=l((e-r)/2),E=o((r-e)/2),c=l((r-e)/2);switch(a){case"XYX":n.set(s*m,u*b,u*_,s*f);break;case"YZY":n.set(u*_,s*m,u*b,s*f);break;case"ZXZ":n.set(u*b,u*_,s*m,s*f);break;case"XZX":n.set(s*m,u*c,u*E,s*f);break;case"YXY":n.set(u*E,s*m,u*c,s*f);break;case"ZYZ":n.set(u*c,u*E,s*m,s*f);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+a)}}function ls(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function ri(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const V8={DEG2RAD:wm,RAD2DEG:b0,generateUUID:rl,clamp:Jn,euclideanModulo:wI,mapLinear:Are,inverseLerp:Mre,lerp:Fb,damp:Tre,pingpong:Rre,smoothstep:Ore,smootherstep:Ire,randInt:Bre,randFloat:Dre,randFloatSpread:Pre,seededRandom:Lre,degToRad:Nre,radToDeg:zre,isPowerOfTwo:Ure,ceilPowerOfTwo:Fre,floorPowerOfTwo:Hre,setQuaternionFromProperEuler:Gre,normalize:ri,denormalize:ls};class Tt{constructor(e=0,t=0){Tt.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,a=e.elements;return this.x=a[0]*t+a[3]*r+a[6],this.y=a[1]*t+a[4]*r+a[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Jn(this.x,e.x,t.x),this.y=Jn(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Jn(this.x,e,t),this.y=Jn(this.y,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Jn(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Jn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),a=Math.sin(t),o=this.x-e.x,l=this.y-e.y;return this.x=o*r-l*a+e.x,this.y=o*a+l*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class ti{constructor(e,t,r,a,o,l,s,u,f){ti.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,r,a,o,l,s,u,f)}set(e,t,r,a,o,l,s,u,f){const m=this.elements;return m[0]=e,m[1]=a,m[2]=s,m[3]=t,m[4]=o,m[5]=u,m[6]=r,m[7]=l,m[8]=f,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,a=t.elements,o=this.elements,l=r[0],s=r[3],u=r[6],f=r[1],m=r[4],b=r[7],_=r[2],E=r[5],c=r[8],p=a[0],g=a[3],y=a[6],C=a[1],T=a[4],M=a[7],O=a[2],B=a[5],D=a[8];return o[0]=l*p+s*C+u*O,o[3]=l*g+s*T+u*B,o[6]=l*y+s*M+u*D,o[1]=f*p+m*C+b*O,o[4]=f*g+m*T+b*B,o[7]=f*y+m*M+b*D,o[2]=_*p+E*C+c*O,o[5]=_*g+E*T+c*B,o[8]=_*y+E*M+c*D,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],a=e[2],o=e[3],l=e[4],s=e[5],u=e[6],f=e[7],m=e[8];return t*l*m-t*s*f-r*o*m+r*s*u+a*o*f-a*l*u}invert(){const e=this.elements,t=e[0],r=e[1],a=e[2],o=e[3],l=e[4],s=e[5],u=e[6],f=e[7],m=e[8],b=m*l-s*f,_=s*u-m*o,E=f*o-l*u,c=t*b+r*_+a*E;if(c===0)return this.set(0,0,0,0,0,0,0,0,0);const p=1/c;return e[0]=b*p,e[1]=(a*f-m*r)*p,e[2]=(s*r-a*l)*p,e[3]=_*p,e[4]=(m*t-a*u)*p,e[5]=(a*o-s*t)*p,e[6]=E*p,e[7]=(r*u-f*t)*p,e[8]=(l*t-r*o)*p,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,a,o,l,s){const u=Math.cos(o),f=Math.sin(o);return this.set(r*u,r*f,-r*(u*l+f*s)+l+e,-a*f,a*u,-a*(-f*l+u*s)+s+t,0,0,1),this}scale(e,t){return this.premultiply(QM.makeScale(e,t)),this}rotate(e){return this.premultiply(QM.makeRotation(-e)),this}translate(e,t){return this.premultiply(QM.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let a=0;a<9;a++)if(t[a]!==r[a])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const QM=new ti;function j8(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const kre={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Uv(n,e){return new kre[n](e)}function hS(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function W8(){const n=hS("canvas");return n.style.display="block",n}const XL={};function Wp(n){n in XL||(XL[n]=!0,console.warn(n))}function $re(n,e,t){return new Promise(function(r,a){function o(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:a();break;case n.TIMEOUT_EXPIRED:setTimeout(o,t);break;default:r()}}setTimeout(o,t)})}function Vre(n){const e=n.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function jre(n){const e=n.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const YL=new ti().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),qL=new ti().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function Wre(){const n={enabled:!0,workingColorSpace:$h,spaces:{},convert:function(a,o,l){return this.enabled===!1||o===l||!o||!l||(this.spaces[o].transfer===sr&&(a.r=ff(a.r),a.g=ff(a.g),a.b=ff(a.b)),this.spaces[o].primaries!==this.spaces[l].primaries&&(a.applyMatrix3(this.spaces[o].toXYZ),a.applyMatrix3(this.spaces[l].fromXYZ)),this.spaces[l].transfer===sr&&(a.r=e0(a.r),a.g=e0(a.g),a.b=e0(a.b))),a},fromWorkingColorSpace:function(a,o){return this.convert(a,this.workingColorSpace,o)},toWorkingColorSpace:function(a,o){return this.convert(a,o,this.workingColorSpace)},getPrimaries:function(a){return this.spaces[a].primaries},getTransfer:function(a){return a===rf?uS:this.spaces[a].transfer},getLuminanceCoefficients:function(a,o=this.workingColorSpace){return a.fromArray(this.spaces[o].luminanceCoefficients)},define:function(a){Object.assign(this.spaces,a)},_getMatrix:function(a,o,l){return a.copy(this.spaces[o].toXYZ).multiply(this.spaces[l].fromXYZ)},_getDrawingBufferColorSpace:function(a){return this.spaces[a].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(a=this.workingColorSpace){return this.spaces[a].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],r=[.3127,.329];return n.define({[$h]:{primaries:e,whitePoint:r,transfer:uS,toXYZ:YL,fromXYZ:qL,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:Lo},outputColorSpaceConfig:{drawingBufferColorSpace:Lo}},[Lo]:{primaries:e,whitePoint:r,transfer:sr,toXYZ:YL,fromXYZ:qL,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:Lo}}}),n}const Ii=Wre();function ff(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function e0(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let jg;class X8{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{jg===void 0&&(jg=hS("canvas")),jg.width=e.width,jg.height=e.height;const r=jg.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=jg}return t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=hS("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const a=r.getImageData(0,0,e.width,e.height),o=a.data;for(let l=0;l<o.length;l++)o[l]=ff(o[l]/255)*255;return r.putImageData(a,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(ff(t[r]/255)*255):t[r]=ff(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Xre=0;class Bh{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Xre++}),this.uuid=rl(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},a=this.data;if(a!==null){let o;if(Array.isArray(a)){o=[];for(let l=0,s=a.length;l<s;l++)a[l].isDataTexture?o.push(ZM(a[l].image)):o.push(ZM(a[l]))}else o=ZM(a);r.url=o}return t||(e.images[this.uuid]=r),r}}function ZM(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?X8.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Yre=0;class Lr extends ld{constructor(e=Lr.DEFAULT_IMAGE,t=Lr.DEFAULT_MAPPING,r=nl,a=nl,o=ma,l=Gl,s=zo,u=Vc,f=Lr.DEFAULT_ANISOTROPY,m=rf){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Yre++}),this.uuid=rl(),this.name="",this.source=new Bh(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=r,this.wrapT=a,this.magFilter=o,this.minFilter=l,this.anisotropy=f,this.format=s,this.internalFormat=null,this.type=u,this.offset=new Tt(0,0),this.repeat=new Tt(1,1),this.center=new Tt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ti,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=m,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Gw)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case kh:e.x=e.x-Math.floor(e.x);break;case nl:e.x=e.x<0?0:1;break;case m0:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case kh:e.y=e.y-Math.floor(e.y);break;case nl:e.y=e.y<0?0:1;break;case m0:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Lr.DEFAULT_IMAGE=null;Lr.DEFAULT_MAPPING=Gw;Lr.DEFAULT_ANISOTROPY=1;class Gi{constructor(e=0,t=0,r=0,a=1){Gi.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=a}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,a){return this.x=e,this.y=t,this.z=r,this.w=a,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,a=this.z,o=this.w,l=e.elements;return this.x=l[0]*t+l[4]*r+l[8]*a+l[12]*o,this.y=l[1]*t+l[5]*r+l[9]*a+l[13]*o,this.z=l[2]*t+l[6]*r+l[10]*a+l[14]*o,this.w=l[3]*t+l[7]*r+l[11]*a+l[15]*o,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,a,o;const u=e.elements,f=u[0],m=u[4],b=u[8],_=u[1],E=u[5],c=u[9],p=u[2],g=u[6],y=u[10];if(Math.abs(m-_)<.01&&Math.abs(b-p)<.01&&Math.abs(c-g)<.01){if(Math.abs(m+_)<.1&&Math.abs(b+p)<.1&&Math.abs(c+g)<.1&&Math.abs(f+E+y-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const T=(f+1)/2,M=(E+1)/2,O=(y+1)/2,B=(m+_)/4,D=(b+p)/4,F=(c+g)/4;return T>M&&T>O?T<.01?(r=0,a=.707106781,o=.707106781):(r=Math.sqrt(T),a=B/r,o=D/r):M>O?M<.01?(r=.707106781,a=0,o=.707106781):(a=Math.sqrt(M),r=B/a,o=F/a):O<.01?(r=.707106781,a=.707106781,o=0):(o=Math.sqrt(O),r=D/o,a=F/o),this.set(r,a,o,t),this}let C=Math.sqrt((g-c)*(g-c)+(b-p)*(b-p)+(_-m)*(_-m));return Math.abs(C)<.001&&(C=1),this.x=(g-c)/C,this.y=(b-p)/C,this.z=(_-m)/C,this.w=Math.acos((f+E+y-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Jn(this.x,e.x,t.x),this.y=Jn(this.y,e.y,t.y),this.z=Jn(this.z,e.z,t.z),this.w=Jn(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Jn(this.x,e,t),this.y=Jn(this.y,e,t),this.z=Jn(this.z,e,t),this.w=Jn(this.w,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Jn(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Kw extends ld{constructor(e=1,t=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Gi(0,0,e,t),this.scissorTest=!1,this.viewport=new Gi(0,0,e,t);const a={width:e,height:t,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:ma,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},r);const o=new Lr(a,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);o.flipY=!1,o.generateMipmaps=r.generateMipmaps,o.internalFormat=r.internalFormat,this.textures=[];const l=r.count;for(let s=0;s<l;s++)this.textures[s]=o.clone(),this.textures[s].isRenderTargetTexture=!0,this.textures[s].renderTarget=this;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let a=0,o=this.textures.length;a<o;a++)this.textures[a].image.width=e,this.textures[a].image.height=t,this.textures[a].image.depth=r;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,r=e.textures.length;t<r;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const a=Object.assign({},e.textures[t].image);this.textures[t].source=new Bh(a)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class id extends Kw{constructor(e=1,t=1,r={}){super(e,t,r),this.isWebGLRenderTarget=!0}}class kS extends Lr{constructor(e=null,t=1,r=1,a=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:a},this.magFilter=Za,this.minFilter=Za,this.wrapR=nl,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class qre extends id{constructor(e=1,t=1,r=1,a={}){super(e,t,a),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new kS(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class Jw extends Lr{constructor(e=null,t=1,r=1,a=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:a},this.magFilter=Za,this.minFilter=Za,this.wrapR=nl,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Kre extends id{constructor(e=1,t=1,r=1,a={}){super(e,t,a),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new Jw(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class eo{constructor(e=0,t=0,r=0,a=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=a}static slerpFlat(e,t,r,a,o,l,s){let u=r[a+0],f=r[a+1],m=r[a+2],b=r[a+3];const _=o[l+0],E=o[l+1],c=o[l+2],p=o[l+3];if(s===0){e[t+0]=u,e[t+1]=f,e[t+2]=m,e[t+3]=b;return}if(s===1){e[t+0]=_,e[t+1]=E,e[t+2]=c,e[t+3]=p;return}if(b!==p||u!==_||f!==E||m!==c){let g=1-s;const y=u*_+f*E+m*c+b*p,C=y>=0?1:-1,T=1-y*y;if(T>Number.EPSILON){const O=Math.sqrt(T),B=Math.atan2(O,y*C);g=Math.sin(g*B)/O,s=Math.sin(s*B)/O}const M=s*C;if(u=u*g+_*M,f=f*g+E*M,m=m*g+c*M,b=b*g+p*M,g===1-s){const O=1/Math.sqrt(u*u+f*f+m*m+b*b);u*=O,f*=O,m*=O,b*=O}}e[t]=u,e[t+1]=f,e[t+2]=m,e[t+3]=b}static multiplyQuaternionsFlat(e,t,r,a,o,l){const s=r[a],u=r[a+1],f=r[a+2],m=r[a+3],b=o[l],_=o[l+1],E=o[l+2],c=o[l+3];return e[t]=s*c+m*b+u*E-f*_,e[t+1]=u*c+m*_+f*b-s*E,e[t+2]=f*c+m*E+s*_-u*b,e[t+3]=m*c-s*b-u*_-f*E,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,a){return this._x=e,this._y=t,this._z=r,this._w=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const r=e._x,a=e._y,o=e._z,l=e._order,s=Math.cos,u=Math.sin,f=s(r/2),m=s(a/2),b=s(o/2),_=u(r/2),E=u(a/2),c=u(o/2);switch(l){case"XYZ":this._x=_*m*b+f*E*c,this._y=f*E*b-_*m*c,this._z=f*m*c+_*E*b,this._w=f*m*b-_*E*c;break;case"YXZ":this._x=_*m*b+f*E*c,this._y=f*E*b-_*m*c,this._z=f*m*c-_*E*b,this._w=f*m*b+_*E*c;break;case"ZXY":this._x=_*m*b-f*E*c,this._y=f*E*b+_*m*c,this._z=f*m*c+_*E*b,this._w=f*m*b-_*E*c;break;case"ZYX":this._x=_*m*b-f*E*c,this._y=f*E*b+_*m*c,this._z=f*m*c-_*E*b,this._w=f*m*b+_*E*c;break;case"YZX":this._x=_*m*b+f*E*c,this._y=f*E*b+_*m*c,this._z=f*m*c-_*E*b,this._w=f*m*b-_*E*c;break;case"XZY":this._x=_*m*b-f*E*c,this._y=f*E*b-_*m*c,this._z=f*m*c+_*E*b,this._w=f*m*b+_*E*c;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+l)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,a=Math.sin(r);return this._x=e.x*a,this._y=e.y*a,this._z=e.z*a,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],a=t[4],o=t[8],l=t[1],s=t[5],u=t[9],f=t[2],m=t[6],b=t[10],_=r+s+b;if(_>0){const E=.5/Math.sqrt(_+1);this._w=.25/E,this._x=(m-u)*E,this._y=(o-f)*E,this._z=(l-a)*E}else if(r>s&&r>b){const E=2*Math.sqrt(1+r-s-b);this._w=(m-u)/E,this._x=.25*E,this._y=(a+l)/E,this._z=(o+f)/E}else if(s>b){const E=2*Math.sqrt(1+s-r-b);this._w=(o-f)/E,this._x=(a+l)/E,this._y=.25*E,this._z=(u+m)/E}else{const E=2*Math.sqrt(1+b-r-s);this._w=(l-a)/E,this._x=(o+f)/E,this._y=(u+m)/E,this._z=.25*E}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Jn(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const a=Math.min(1,t/r);return this.slerp(e,a),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,a=e._y,o=e._z,l=e._w,s=t._x,u=t._y,f=t._z,m=t._w;return this._x=r*m+l*s+a*f-o*u,this._y=a*m+l*u+o*s-r*f,this._z=o*m+l*f+r*u-a*s,this._w=l*m-r*s-a*u-o*f,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,a=this._y,o=this._z,l=this._w;let s=l*e._w+r*e._x+a*e._y+o*e._z;if(s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),s>=1)return this._w=l,this._x=r,this._y=a,this._z=o,this;const u=1-s*s;if(u<=Number.EPSILON){const E=1-t;return this._w=E*l+t*this._w,this._x=E*r+t*this._x,this._y=E*a+t*this._y,this._z=E*o+t*this._z,this.normalize(),this}const f=Math.sqrt(u),m=Math.atan2(f,s),b=Math.sin((1-t)*m)/f,_=Math.sin(t*m)/f;return this._w=l*b+this._w*_,this._x=r*b+this._x*_,this._y=a*b+this._y*_,this._z=o*b+this._z*_,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),r=Math.random(),a=Math.sqrt(1-r),o=Math.sqrt(r);return this.set(a*Math.sin(e),a*Math.cos(e),o*Math.sin(t),o*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class be{constructor(e=0,t=0,r=0){be.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(KL.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(KL.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,a=this.z,o=e.elements;return this.x=o[0]*t+o[3]*r+o[6]*a,this.y=o[1]*t+o[4]*r+o[7]*a,this.z=o[2]*t+o[5]*r+o[8]*a,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,a=this.z,o=e.elements,l=1/(o[3]*t+o[7]*r+o[11]*a+o[15]);return this.x=(o[0]*t+o[4]*r+o[8]*a+o[12])*l,this.y=(o[1]*t+o[5]*r+o[9]*a+o[13])*l,this.z=(o[2]*t+o[6]*r+o[10]*a+o[14])*l,this}applyQuaternion(e){const t=this.x,r=this.y,a=this.z,o=e.x,l=e.y,s=e.z,u=e.w,f=2*(l*a-s*r),m=2*(s*t-o*a),b=2*(o*r-l*t);return this.x=t+u*f+l*b-s*m,this.y=r+u*m+s*f-o*b,this.z=a+u*b+o*m-l*f,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,a=this.z,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*a,this.y=o[1]*t+o[5]*r+o[9]*a,this.z=o[2]*t+o[6]*r+o[10]*a,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Jn(this.x,e.x,t.x),this.y=Jn(this.y,e.y,t.y),this.z=Jn(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Jn(this.x,e,t),this.y=Jn(this.y,e,t),this.z=Jn(this.z,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Jn(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,a=e.y,o=e.z,l=t.x,s=t.y,u=t.z;return this.x=a*u-o*s,this.y=o*l-r*u,this.z=r*s-a*l,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return eT.copy(this).projectOnVector(e),this.sub(eT)}reflect(e){return this.sub(eT.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Jn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,a=this.z-e.z;return t*t+r*r+a*a}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const a=Math.sin(t)*e;return this.x=a*Math.sin(r),this.y=Math.cos(t)*e,this.z=a*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),a=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=a,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,r=Math.sqrt(1-t*t);return this.x=r*Math.cos(e),this.y=t,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const eT=new be,KL=new eo;class go{constructor(e=new be(1/0,1/0,1/0),t=new be(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(wc.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(wc.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=wc.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const o=r.getAttribute("position");if(t===!0&&o!==void 0&&e.isInstancedMesh!==!0)for(let l=0,s=o.count;l<s;l++)e.isMesh===!0?e.getVertexPosition(l,wc):wc.fromBufferAttribute(o,l),wc.applyMatrix4(e.matrixWorld),this.expandByPoint(wc);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Rx.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),Rx.copy(r.boundingBox)),Rx.applyMatrix4(e.matrixWorld),this.union(Rx)}const a=e.children;for(let o=0,l=a.length;o<l;o++)this.expandByObject(a[o],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,wc),wc.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Xy),Ox.subVectors(this.max,Xy),Wg.subVectors(e.a,Xy),Xg.subVectors(e.b,Xy),Yg.subVectors(e.c,Xy),ch.subVectors(Xg,Wg),uh.subVectors(Yg,Xg),Tp.subVectors(Wg,Yg);let t=[0,-ch.z,ch.y,0,-uh.z,uh.y,0,-Tp.z,Tp.y,ch.z,0,-ch.x,uh.z,0,-uh.x,Tp.z,0,-Tp.x,-ch.y,ch.x,0,-uh.y,uh.x,0,-Tp.y,Tp.x,0];return!tT(t,Wg,Xg,Yg,Ox)||(t=[1,0,0,0,1,0,0,0,1],!tT(t,Wg,Xg,Yg,Ox))?!1:(Ix.crossVectors(ch,uh),t=[Ix.x,Ix.y,Ix.z],tT(t,Wg,Xg,Yg,Ox))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,wc).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(wc).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(zd[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),zd[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),zd[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),zd[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),zd[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),zd[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),zd[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),zd[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(zd),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const zd=[new be,new be,new be,new be,new be,new be,new be,new be],wc=new be,Rx=new go,Wg=new be,Xg=new be,Yg=new be,ch=new be,uh=new be,Tp=new be,Xy=new be,Ox=new be,Ix=new be,Rp=new be;function tT(n,e,t,r,a){for(let o=0,l=n.length-3;o<=l;o+=3){Rp.fromArray(n,o);const s=a.x*Math.abs(Rp.x)+a.y*Math.abs(Rp.y)+a.z*Math.abs(Rp.z),u=e.dot(Rp),f=t.dot(Rp),m=r.dot(Rp);if(Math.max(-Math.max(u,f,m),Math.min(u,f,m))>s)return!1}return!0}const Jre=new go,Yy=new be,nT=new be;class vo{constructor(e=new be,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):Jre.setFromPoints(e).getCenter(r);let a=0;for(let o=0,l=e.length;o<l;o++)a=Math.max(a,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(a),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Yy.subVectors(e,this.center);const t=Yy.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),a=(r-this.radius)*.5;this.center.addScaledVector(Yy,a/r),this.radius+=a}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(nT.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Yy.copy(e.center).add(nT)),this.expandByPoint(Yy.copy(e.center).sub(nT))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Ud=new be,iT=new be,Bx=new be,dh=new be,rT=new be,Dx=new be,aT=new be;class jm{constructor(e=new be,t=new be(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ud)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Ud.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Ud.copy(this.origin).addScaledVector(this.direction,t),Ud.distanceToSquared(e))}distanceSqToSegment(e,t,r,a){iT.copy(e).add(t).multiplyScalar(.5),Bx.copy(t).sub(e).normalize(),dh.copy(this.origin).sub(iT);const o=e.distanceTo(t)*.5,l=-this.direction.dot(Bx),s=dh.dot(this.direction),u=-dh.dot(Bx),f=dh.lengthSq(),m=Math.abs(1-l*l);let b,_,E,c;if(m>0)if(b=l*u-s,_=l*s-u,c=o*m,b>=0)if(_>=-c)if(_<=c){const p=1/m;b*=p,_*=p,E=b*(b+l*_+2*s)+_*(l*b+_+2*u)+f}else _=o,b=Math.max(0,-(l*_+s)),E=-b*b+_*(_+2*u)+f;else _=-o,b=Math.max(0,-(l*_+s)),E=-b*b+_*(_+2*u)+f;else _<=-c?(b=Math.max(0,-(-l*o+s)),_=b>0?-o:Math.min(Math.max(-o,-u),o),E=-b*b+_*(_+2*u)+f):_<=c?(b=0,_=Math.min(Math.max(-o,-u),o),E=_*(_+2*u)+f):(b=Math.max(0,-(l*o+s)),_=b>0?o:Math.min(Math.max(-o,-u),o),E=-b*b+_*(_+2*u)+f);else _=l>0?-o:o,b=Math.max(0,-(l*_+s)),E=-b*b+_*(_+2*u)+f;return r&&r.copy(this.origin).addScaledVector(this.direction,b),a&&a.copy(iT).addScaledVector(Bx,_),E}intersectSphere(e,t){Ud.subVectors(e.center,this.origin);const r=Ud.dot(this.direction),a=Ud.dot(Ud)-r*r,o=e.radius*e.radius;if(a>o)return null;const l=Math.sqrt(o-a),s=r-l,u=r+l;return u<0?null:s<0?this.at(u,t):this.at(s,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,a,o,l,s,u;const f=1/this.direction.x,m=1/this.direction.y,b=1/this.direction.z,_=this.origin;return f>=0?(r=(e.min.x-_.x)*f,a=(e.max.x-_.x)*f):(r=(e.max.x-_.x)*f,a=(e.min.x-_.x)*f),m>=0?(o=(e.min.y-_.y)*m,l=(e.max.y-_.y)*m):(o=(e.max.y-_.y)*m,l=(e.min.y-_.y)*m),r>l||o>a||((o>r||isNaN(r))&&(r=o),(l<a||isNaN(a))&&(a=l),b>=0?(s=(e.min.z-_.z)*b,u=(e.max.z-_.z)*b):(s=(e.max.z-_.z)*b,u=(e.min.z-_.z)*b),r>u||s>a)||((s>r||r!==r)&&(r=s),(u<a||a!==a)&&(a=u),a<0)?null:this.at(r>=0?r:a,t)}intersectsBox(e){return this.intersectBox(e,Ud)!==null}intersectTriangle(e,t,r,a,o){rT.subVectors(t,e),Dx.subVectors(r,e),aT.crossVectors(rT,Dx);let l=this.direction.dot(aT),s;if(l>0){if(a)return null;s=1}else if(l<0)s=-1,l=-l;else return null;dh.subVectors(this.origin,e);const u=s*this.direction.dot(Dx.crossVectors(dh,Dx));if(u<0)return null;const f=s*this.direction.dot(rT.cross(dh));if(f<0||u+f>l)return null;const m=-s*dh.dot(aT);return m<0?null:this.at(m/l,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Pn{constructor(e,t,r,a,o,l,s,u,f,m,b,_,E,c,p,g){Pn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,r,a,o,l,s,u,f,m,b,_,E,c,p,g)}set(e,t,r,a,o,l,s,u,f,m,b,_,E,c,p,g){const y=this.elements;return y[0]=e,y[4]=t,y[8]=r,y[12]=a,y[1]=o,y[5]=l,y[9]=s,y[13]=u,y[2]=f,y[6]=m,y[10]=b,y[14]=_,y[3]=E,y[7]=c,y[11]=p,y[15]=g,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Pn().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,a=1/qg.setFromMatrixColumn(e,0).length(),o=1/qg.setFromMatrixColumn(e,1).length(),l=1/qg.setFromMatrixColumn(e,2).length();return t[0]=r[0]*a,t[1]=r[1]*a,t[2]=r[2]*a,t[3]=0,t[4]=r[4]*o,t[5]=r[5]*o,t[6]=r[6]*o,t[7]=0,t[8]=r[8]*l,t[9]=r[9]*l,t[10]=r[10]*l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,a=e.y,o=e.z,l=Math.cos(r),s=Math.sin(r),u=Math.cos(a),f=Math.sin(a),m=Math.cos(o),b=Math.sin(o);if(e.order==="XYZ"){const _=l*m,E=l*b,c=s*m,p=s*b;t[0]=u*m,t[4]=-u*b,t[8]=f,t[1]=E+c*f,t[5]=_-p*f,t[9]=-s*u,t[2]=p-_*f,t[6]=c+E*f,t[10]=l*u}else if(e.order==="YXZ"){const _=u*m,E=u*b,c=f*m,p=f*b;t[0]=_+p*s,t[4]=c*s-E,t[8]=l*f,t[1]=l*b,t[5]=l*m,t[9]=-s,t[2]=E*s-c,t[6]=p+_*s,t[10]=l*u}else if(e.order==="ZXY"){const _=u*m,E=u*b,c=f*m,p=f*b;t[0]=_-p*s,t[4]=-l*b,t[8]=c+E*s,t[1]=E+c*s,t[5]=l*m,t[9]=p-_*s,t[2]=-l*f,t[6]=s,t[10]=l*u}else if(e.order==="ZYX"){const _=l*m,E=l*b,c=s*m,p=s*b;t[0]=u*m,t[4]=c*f-E,t[8]=_*f+p,t[1]=u*b,t[5]=p*f+_,t[9]=E*f-c,t[2]=-f,t[6]=s*u,t[10]=l*u}else if(e.order==="YZX"){const _=l*u,E=l*f,c=s*u,p=s*f;t[0]=u*m,t[4]=p-_*b,t[8]=c*b+E,t[1]=b,t[5]=l*m,t[9]=-s*m,t[2]=-f*m,t[6]=E*b+c,t[10]=_-p*b}else if(e.order==="XZY"){const _=l*u,E=l*f,c=s*u,p=s*f;t[0]=u*m,t[4]=-b,t[8]=f*m,t[1]=_*b+p,t[5]=l*m,t[9]=E*b-c,t[2]=c*b-E,t[6]=s*m,t[10]=p*b+_}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Qre,e,Zre)}lookAt(e,t,r){const a=this.elements;return Ks.subVectors(e,t),Ks.lengthSq()===0&&(Ks.z=1),Ks.normalize(),fh.crossVectors(r,Ks),fh.lengthSq()===0&&(Math.abs(r.z)===1?Ks.x+=1e-4:Ks.z+=1e-4,Ks.normalize(),fh.crossVectors(r,Ks)),fh.normalize(),Px.crossVectors(Ks,fh),a[0]=fh.x,a[4]=Px.x,a[8]=Ks.x,a[1]=fh.y,a[5]=Px.y,a[9]=Ks.y,a[2]=fh.z,a[6]=Px.z,a[10]=Ks.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,a=t.elements,o=this.elements,l=r[0],s=r[4],u=r[8],f=r[12],m=r[1],b=r[5],_=r[9],E=r[13],c=r[2],p=r[6],g=r[10],y=r[14],C=r[3],T=r[7],M=r[11],O=r[15],B=a[0],D=a[4],F=a[8],z=a[12],U=a[1],$=a[5],J=a[9],W=a[13],Q=a[2],ae=a[6],Y=a[10],K=a[14],ee=a[3],de=a[7],q=a[11],ie=a[15];return o[0]=l*B+s*U+u*Q+f*ee,o[4]=l*D+s*$+u*ae+f*de,o[8]=l*F+s*J+u*Y+f*q,o[12]=l*z+s*W+u*K+f*ie,o[1]=m*B+b*U+_*Q+E*ee,o[5]=m*D+b*$+_*ae+E*de,o[9]=m*F+b*J+_*Y+E*q,o[13]=m*z+b*W+_*K+E*ie,o[2]=c*B+p*U+g*Q+y*ee,o[6]=c*D+p*$+g*ae+y*de,o[10]=c*F+p*J+g*Y+y*q,o[14]=c*z+p*W+g*K+y*ie,o[3]=C*B+T*U+M*Q+O*ee,o[7]=C*D+T*$+M*ae+O*de,o[11]=C*F+T*J+M*Y+O*q,o[15]=C*z+T*W+M*K+O*ie,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],a=e[8],o=e[12],l=e[1],s=e[5],u=e[9],f=e[13],m=e[2],b=e[6],_=e[10],E=e[14],c=e[3],p=e[7],g=e[11],y=e[15];return c*(+o*u*b-a*f*b-o*s*_+r*f*_+a*s*E-r*u*E)+p*(+t*u*E-t*f*_+o*l*_-a*l*E+a*f*m-o*u*m)+g*(+t*f*b-t*s*E-o*l*b+r*l*E+o*s*m-r*f*m)+y*(-a*s*m-t*u*b+t*s*_+a*l*b-r*l*_+r*u*m)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const a=this.elements;return e.isVector3?(a[12]=e.x,a[13]=e.y,a[14]=e.z):(a[12]=e,a[13]=t,a[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],a=e[2],o=e[3],l=e[4],s=e[5],u=e[6],f=e[7],m=e[8],b=e[9],_=e[10],E=e[11],c=e[12],p=e[13],g=e[14],y=e[15],C=b*g*f-p*_*f+p*u*E-s*g*E-b*u*y+s*_*y,T=c*_*f-m*g*f-c*u*E+l*g*E+m*u*y-l*_*y,M=m*p*f-c*b*f+c*s*E-l*p*E-m*s*y+l*b*y,O=c*b*u-m*p*u-c*s*_+l*p*_+m*s*g-l*b*g,B=t*C+r*T+a*M+o*O;if(B===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const D=1/B;return e[0]=C*D,e[1]=(p*_*o-b*g*o-p*a*E+r*g*E+b*a*y-r*_*y)*D,e[2]=(s*g*o-p*u*o+p*a*f-r*g*f-s*a*y+r*u*y)*D,e[3]=(b*u*o-s*_*o-b*a*f+r*_*f+s*a*E-r*u*E)*D,e[4]=T*D,e[5]=(m*g*o-c*_*o+c*a*E-t*g*E-m*a*y+t*_*y)*D,e[6]=(c*u*o-l*g*o-c*a*f+t*g*f+l*a*y-t*u*y)*D,e[7]=(l*_*o-m*u*o+m*a*f-t*_*f-l*a*E+t*u*E)*D,e[8]=M*D,e[9]=(c*b*o-m*p*o-c*r*E+t*p*E+m*r*y-t*b*y)*D,e[10]=(l*p*o-c*s*o+c*r*f-t*p*f-l*r*y+t*s*y)*D,e[11]=(m*s*o-l*b*o-m*r*f+t*b*f+l*r*E-t*s*E)*D,e[12]=O*D,e[13]=(m*p*a-c*b*a+c*r*_-t*p*_-m*r*g+t*b*g)*D,e[14]=(c*s*a-l*p*a-c*r*u+t*p*u+l*r*g-t*s*g)*D,e[15]=(l*b*a-m*s*a+m*r*u-t*b*u-l*r*_+t*s*_)*D,this}scale(e){const t=this.elements,r=e.x,a=e.y,o=e.z;return t[0]*=r,t[4]*=a,t[8]*=o,t[1]*=r,t[5]*=a,t[9]*=o,t[2]*=r,t[6]*=a,t[10]*=o,t[3]*=r,t[7]*=a,t[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],a=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,a))}makeTranslation(e,t,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),a=Math.sin(t),o=1-r,l=e.x,s=e.y,u=e.z,f=o*l,m=o*s;return this.set(f*l+r,f*s-a*u,f*u+a*s,0,f*s+a*u,m*s+r,m*u-a*l,0,f*u-a*s,m*u+a*l,o*u*u+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,a,o,l){return this.set(1,r,o,0,e,1,l,0,t,a,1,0,0,0,0,1),this}compose(e,t,r){const a=this.elements,o=t._x,l=t._y,s=t._z,u=t._w,f=o+o,m=l+l,b=s+s,_=o*f,E=o*m,c=o*b,p=l*m,g=l*b,y=s*b,C=u*f,T=u*m,M=u*b,O=r.x,B=r.y,D=r.z;return a[0]=(1-(p+y))*O,a[1]=(E+M)*O,a[2]=(c-T)*O,a[3]=0,a[4]=(E-M)*B,a[5]=(1-(_+y))*B,a[6]=(g+C)*B,a[7]=0,a[8]=(c+T)*D,a[9]=(g-C)*D,a[10]=(1-(_+p))*D,a[11]=0,a[12]=e.x,a[13]=e.y,a[14]=e.z,a[15]=1,this}decompose(e,t,r){const a=this.elements;let o=qg.set(a[0],a[1],a[2]).length();const l=qg.set(a[4],a[5],a[6]).length(),s=qg.set(a[8],a[9],a[10]).length();this.determinant()<0&&(o=-o),e.x=a[12],e.y=a[13],e.z=a[14],Ac.copy(this);const f=1/o,m=1/l,b=1/s;return Ac.elements[0]*=f,Ac.elements[1]*=f,Ac.elements[2]*=f,Ac.elements[4]*=m,Ac.elements[5]*=m,Ac.elements[6]*=m,Ac.elements[8]*=b,Ac.elements[9]*=b,Ac.elements[10]*=b,t.setFromRotationMatrix(Ac),r.x=o,r.y=l,r.z=s,this}makePerspective(e,t,r,a,o,l,s=Fc){const u=this.elements,f=2*o/(t-e),m=2*o/(r-a),b=(t+e)/(t-e),_=(r+a)/(r-a);let E,c;if(s===Fc)E=-(l+o)/(l-o),c=-2*l*o/(l-o);else if(s===fS)E=-l/(l-o),c=-l*o/(l-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+s);return u[0]=f,u[4]=0,u[8]=b,u[12]=0,u[1]=0,u[5]=m,u[9]=_,u[13]=0,u[2]=0,u[6]=0,u[10]=E,u[14]=c,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(e,t,r,a,o,l,s=Fc){const u=this.elements,f=1/(t-e),m=1/(r-a),b=1/(l-o),_=(t+e)*f,E=(r+a)*m;let c,p;if(s===Fc)c=(l+o)*b,p=-2*b;else if(s===fS)c=o*b,p=-1*b;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+s);return u[0]=2*f,u[4]=0,u[8]=0,u[12]=-_,u[1]=0,u[5]=2*m,u[9]=0,u[13]=-E,u[2]=0,u[6]=0,u[10]=p,u[14]=-c,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let a=0;a<16;a++)if(t[a]!==r[a])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const qg=new be,Ac=new Pn,Qre=new be(0,0,0),Zre=new be(1,1,1),fh=new be,Px=new be,Ks=new be,JL=new Pn,QL=new eo;class ol{constructor(e=0,t=0,r=0,a=ol.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=a}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,a=this._order){return this._x=e,this._y=t,this._z=r,this._order=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const a=e.elements,o=a[0],l=a[4],s=a[8],u=a[1],f=a[5],m=a[9],b=a[2],_=a[6],E=a[10];switch(t){case"XYZ":this._y=Math.asin(Jn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-m,E),this._z=Math.atan2(-l,o)):(this._x=Math.atan2(_,f),this._z=0);break;case"YXZ":this._x=Math.asin(-Jn(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(s,E),this._z=Math.atan2(u,f)):(this._y=Math.atan2(-b,o),this._z=0);break;case"ZXY":this._x=Math.asin(Jn(_,-1,1)),Math.abs(_)<.9999999?(this._y=Math.atan2(-b,E),this._z=Math.atan2(-l,f)):(this._y=0,this._z=Math.atan2(u,o));break;case"ZYX":this._y=Math.asin(-Jn(b,-1,1)),Math.abs(b)<.9999999?(this._x=Math.atan2(_,E),this._z=Math.atan2(u,o)):(this._x=0,this._z=Math.atan2(-l,f));break;case"YZX":this._z=Math.asin(Jn(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-m,f),this._y=Math.atan2(-b,o)):(this._x=0,this._y=Math.atan2(s,E));break;case"XZY":this._z=Math.asin(-Jn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(_,f),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-m,E),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return JL.makeRotationFromQuaternion(e),this.setFromRotationMatrix(JL,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return QL.setFromEuler(this),this.setFromQuaternion(QL,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ol.DEFAULT_ORDER="XYZ";class S0{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let eae=0;const ZL=new be,Kg=new eo,Fd=new Pn,Lx=new be,qy=new be,tae=new be,nae=new eo,e3=new be(1,0,0),t3=new be(0,1,0),n3=new be(0,0,1),i3={type:"added"},iae={type:"removed"},Jg={type:"childadded",child:null},oT={type:"childremoved",child:null};class Di extends ld{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:eae++}),this.uuid=rl(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Di.DEFAULT_UP.clone();const e=new be,t=new ol,r=new eo,a=new be(1,1,1);function o(){r.setFromEuler(t,!1)}function l(){t.setFromQuaternion(r,void 0,!1)}t._onChange(o),r._onChange(l),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:a},modelViewMatrix:{value:new Pn},normalMatrix:{value:new ti}}),this.matrix=new Pn,this.matrixWorld=new Pn,this.matrixAutoUpdate=Di.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Di.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new S0,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Kg.setFromAxisAngle(e,t),this.quaternion.multiply(Kg),this}rotateOnWorldAxis(e,t){return Kg.setFromAxisAngle(e,t),this.quaternion.premultiply(Kg),this}rotateX(e){return this.rotateOnAxis(e3,e)}rotateY(e){return this.rotateOnAxis(t3,e)}rotateZ(e){return this.rotateOnAxis(n3,e)}translateOnAxis(e,t){return ZL.copy(e).applyQuaternion(this.quaternion),this.position.add(ZL.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(e3,e)}translateY(e){return this.translateOnAxis(t3,e)}translateZ(e){return this.translateOnAxis(n3,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Fd.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?Lx.copy(e):Lx.set(e,t,r);const a=this.parent;this.updateWorldMatrix(!0,!1),qy.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Fd.lookAt(qy,Lx,this.up):Fd.lookAt(Lx,qy,this.up),this.quaternion.setFromRotationMatrix(Fd),a&&(Fd.extractRotation(a.matrixWorld),Kg.setFromRotationMatrix(Fd),this.quaternion.premultiply(Kg.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(i3),Jg.child=e,this.dispatchEvent(Jg),Jg.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(iae),oT.child=e,this.dispatchEvent(oT),oT.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Fd.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Fd.multiply(e.parent.matrixWorld)),e.applyMatrix4(Fd),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(i3),Jg.child=e,this.dispatchEvent(Jg),Jg.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,a=this.children.length;r<a;r++){const l=this.children[r].getObjectByProperty(e,t);if(l!==void 0)return l}}getObjectsByProperty(e,t,r=[]){this[e]===t&&r.push(this);const a=this.children;for(let o=0,l=a.length;o<l;o++)a[o].getObjectsByProperty(e,t,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(qy,e,tae),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(qy,nae,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,a=t.length;r<a;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,a=t.length;r<a;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,a=t.length;r<a;r++)t[r].updateMatrixWorld(e)}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const a=this.children;for(let o=0,l=a.length;o<l;o++)a[o].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const a={};a.uuid=this.uuid,a.type=this.type,this.name!==""&&(a.name=this.name),this.castShadow===!0&&(a.castShadow=!0),this.receiveShadow===!0&&(a.receiveShadow=!0),this.visible===!1&&(a.visible=!1),this.frustumCulled===!1&&(a.frustumCulled=!1),this.renderOrder!==0&&(a.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(a.userData=this.userData),a.layers=this.layers.mask,a.matrix=this.matrix.toArray(),a.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(a.matrixAutoUpdate=!1),this.isInstancedMesh&&(a.type="InstancedMesh",a.count=this.count,a.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(a.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(a.type="BatchedMesh",a.perObjectFrustumCulled=this.perObjectFrustumCulled,a.sortObjects=this.sortObjects,a.drawRanges=this._drawRanges,a.reservedRanges=this._reservedRanges,a.visibility=this._visibility,a.active=this._active,a.bounds=this._bounds.map(s=>({boxInitialized:s.boxInitialized,boxMin:s.box.min.toArray(),boxMax:s.box.max.toArray(),sphereInitialized:s.sphereInitialized,sphereRadius:s.sphere.radius,sphereCenter:s.sphere.center.toArray()})),a.maxInstanceCount=this._maxInstanceCount,a.maxVertexCount=this._maxVertexCount,a.maxIndexCount=this._maxIndexCount,a.geometryInitialized=this._geometryInitialized,a.geometryCount=this._geometryCount,a.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(a.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(a.boundingSphere={center:a.boundingSphere.center.toArray(),radius:a.boundingSphere.radius}),this.boundingBox!==null&&(a.boundingBox={min:a.boundingBox.min.toArray(),max:a.boundingBox.max.toArray()}));function o(s,u){return s[u.uuid]===void 0&&(s[u.uuid]=u.toJSON(e)),u.uuid}if(this.isScene)this.background&&(this.background.isColor?a.background=this.background.toJSON():this.background.isTexture&&(a.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(a.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){a.geometry=o(e.geometries,this.geometry);const s=this.geometry.parameters;if(s!==void 0&&s.shapes!==void 0){const u=s.shapes;if(Array.isArray(u))for(let f=0,m=u.length;f<m;f++){const b=u[f];o(e.shapes,b)}else o(e.shapes,u)}}if(this.isSkinnedMesh&&(a.bindMode=this.bindMode,a.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),a.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const s=[];for(let u=0,f=this.material.length;u<f;u++)s.push(o(e.materials,this.material[u]));a.material=s}else a.material=o(e.materials,this.material);if(this.children.length>0){a.children=[];for(let s=0;s<this.children.length;s++)a.children.push(this.children[s].toJSON(e).object)}if(this.animations.length>0){a.animations=[];for(let s=0;s<this.animations.length;s++){const u=this.animations[s];a.animations.push(o(e.animations,u))}}if(t){const s=l(e.geometries),u=l(e.materials),f=l(e.textures),m=l(e.images),b=l(e.shapes),_=l(e.skeletons),E=l(e.animations),c=l(e.nodes);s.length>0&&(r.geometries=s),u.length>0&&(r.materials=u),f.length>0&&(r.textures=f),m.length>0&&(r.images=m),b.length>0&&(r.shapes=b),_.length>0&&(r.skeletons=_),E.length>0&&(r.animations=E),c.length>0&&(r.nodes=c)}return r.object=a,r;function l(s){const u=[];for(const f in s){const m=s[f];delete m.metadata,u.push(m)}return u}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const a=e.children[r];this.add(a.clone())}return this}}Di.DEFAULT_UP=new be(0,1,0);Di.DEFAULT_MATRIX_AUTO_UPDATE=!0;Di.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Mc=new be,Hd=new be,sT=new be,Gd=new be,Qg=new be,Zg=new be,r3=new be,lT=new be,cT=new be,uT=new be,dT=new Gi,fT=new Gi,hT=new Gi;class Os{constructor(e=new be,t=new be,r=new be){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,a){a.subVectors(r,t),Mc.subVectors(e,t),a.cross(Mc);const o=a.lengthSq();return o>0?a.multiplyScalar(1/Math.sqrt(o)):a.set(0,0,0)}static getBarycoord(e,t,r,a,o){Mc.subVectors(a,t),Hd.subVectors(r,t),sT.subVectors(e,t);const l=Mc.dot(Mc),s=Mc.dot(Hd),u=Mc.dot(sT),f=Hd.dot(Hd),m=Hd.dot(sT),b=l*f-s*s;if(b===0)return o.set(0,0,0),null;const _=1/b,E=(f*u-s*m)*_,c=(l*m-s*u)*_;return o.set(1-E-c,c,E)}static containsPoint(e,t,r,a){return this.getBarycoord(e,t,r,a,Gd)===null?!1:Gd.x>=0&&Gd.y>=0&&Gd.x+Gd.y<=1}static getInterpolation(e,t,r,a,o,l,s,u){return this.getBarycoord(e,t,r,a,Gd)===null?(u.x=0,u.y=0,"z"in u&&(u.z=0),"w"in u&&(u.w=0),null):(u.setScalar(0),u.addScaledVector(o,Gd.x),u.addScaledVector(l,Gd.y),u.addScaledVector(s,Gd.z),u)}static getInterpolatedAttribute(e,t,r,a,o,l){return dT.setScalar(0),fT.setScalar(0),hT.setScalar(0),dT.fromBufferAttribute(e,t),fT.fromBufferAttribute(e,r),hT.fromBufferAttribute(e,a),l.setScalar(0),l.addScaledVector(dT,o.x),l.addScaledVector(fT,o.y),l.addScaledVector(hT,o.z),l}static isFrontFacing(e,t,r,a){return Mc.subVectors(r,t),Hd.subVectors(e,t),Mc.cross(Hd).dot(a)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,a){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[a]),this}setFromAttributeAndIndices(e,t,r,a){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,a),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Mc.subVectors(this.c,this.b),Hd.subVectors(this.a,this.b),Mc.cross(Hd).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Os.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Os.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,r,a,o){return Os.getInterpolation(e,this.a,this.b,this.c,t,r,a,o)}containsPoint(e){return Os.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Os.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,a=this.b,o=this.c;let l,s;Qg.subVectors(a,r),Zg.subVectors(o,r),lT.subVectors(e,r);const u=Qg.dot(lT),f=Zg.dot(lT);if(u<=0&&f<=0)return t.copy(r);cT.subVectors(e,a);const m=Qg.dot(cT),b=Zg.dot(cT);if(m>=0&&b<=m)return t.copy(a);const _=u*b-m*f;if(_<=0&&u>=0&&m<=0)return l=u/(u-m),t.copy(r).addScaledVector(Qg,l);uT.subVectors(e,o);const E=Qg.dot(uT),c=Zg.dot(uT);if(c>=0&&E<=c)return t.copy(o);const p=E*f-u*c;if(p<=0&&f>=0&&c<=0)return s=f/(f-c),t.copy(r).addScaledVector(Zg,s);const g=m*c-E*b;if(g<=0&&b-m>=0&&E-c>=0)return r3.subVectors(o,a),s=(b-m)/(b-m+(E-c)),t.copy(a).addScaledVector(r3,s);const y=1/(g+p+_);return l=p*y,s=_*y,t.copy(r).addScaledVector(Qg,l).addScaledVector(Zg,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const Y8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},hh={h:0,s:0,l:0},Nx={h:0,s:0,l:0};function pT(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class en{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,r)}set(e,t,r){if(t===void 0&&r===void 0){const a=e;a&&a.isColor?this.copy(a):typeof a=="number"?this.setHex(a):typeof a=="string"&&this.setStyle(a)}else this.setRGB(e,t,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Lo){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Ii.toWorkingColorSpace(this,t),this}setRGB(e,t,r,a=Ii.workingColorSpace){return this.r=e,this.g=t,this.b=r,Ii.toWorkingColorSpace(this,a),this}setHSL(e,t,r,a=Ii.workingColorSpace){if(e=wI(e,1),t=Jn(t,0,1),r=Jn(r,0,1),t===0)this.r=this.g=this.b=r;else{const o=r<=.5?r*(1+t):r+t-r*t,l=2*r-o;this.r=pT(l,o,e+1/3),this.g=pT(l,o,e),this.b=pT(l,o,e-1/3)}return Ii.toWorkingColorSpace(this,a),this}setStyle(e,t=Lo){function r(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let a;if(a=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const l=a[1],s=a[2];switch(l){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,t);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,t);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(a=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=a[1],l=o.length;if(l===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,t);if(l===6)return this.setHex(parseInt(o,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Lo){const r=Y8[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=ff(e.r),this.g=ff(e.g),this.b=ff(e.b),this}copyLinearToSRGB(e){return this.r=e0(e.r),this.g=e0(e.g),this.b=e0(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Lo){return Ii.fromWorkingColorSpace(Io.copy(this),e),Math.round(Jn(Io.r*255,0,255))*65536+Math.round(Jn(Io.g*255,0,255))*256+Math.round(Jn(Io.b*255,0,255))}getHexString(e=Lo){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Ii.workingColorSpace){Ii.fromWorkingColorSpace(Io.copy(this),t);const r=Io.r,a=Io.g,o=Io.b,l=Math.max(r,a,o),s=Math.min(r,a,o);let u,f;const m=(s+l)/2;if(s===l)u=0,f=0;else{const b=l-s;switch(f=m<=.5?b/(l+s):b/(2-l-s),l){case r:u=(a-o)/b+(a<o?6:0);break;case a:u=(o-r)/b+2;break;case o:u=(r-a)/b+4;break}u/=6}return e.h=u,e.s=f,e.l=m,e}getRGB(e,t=Ii.workingColorSpace){return Ii.fromWorkingColorSpace(Io.copy(this),t),e.r=Io.r,e.g=Io.g,e.b=Io.b,e}getStyle(e=Lo){Ii.fromWorkingColorSpace(Io.copy(this),e);const t=Io.r,r=Io.g,a=Io.b;return e!==Lo?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${a.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(r*255)},${Math.round(a*255)})`}offsetHSL(e,t,r){return this.getHSL(hh),this.setHSL(hh.h+e,hh.s+t,hh.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(hh),e.getHSL(Nx);const r=Fb(hh.h,Nx.h,t),a=Fb(hh.s,Nx.s,t),o=Fb(hh.l,Nx.l,t);return this.setHSL(r,a,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,a=this.b,o=e.elements;return this.r=o[0]*t+o[3]*r+o[6]*a,this.g=o[1]*t+o[4]*r+o[7]*a,this.b=o[2]*t+o[5]*r+o[8]*a,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Io=new en;en.NAMES=Y8;let rae=0;class Pa extends ld{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:rae++}),this.uuid=rl(),this.name="",this.type="Material",this.blending=Cm,this.side=nd,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Z1,this.blendDst=eE,this.blendEquation=wh,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new en(0,0,0),this.blendAlpha=0,this.depthFunc=Tm,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=B2,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=jp,this.stencilZFail=jp,this.stencilZPass=jp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const a=this[t];if(a===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}a&&a.isColor?a.set(r):a&&a.isVector3&&r&&r.isVector3?a.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Cm&&(r.blending=this.blending),this.side!==nd&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==Z1&&(r.blendSrc=this.blendSrc),this.blendDst!==eE&&(r.blendDst=this.blendDst),this.blendEquation!==wh&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==Tm&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==B2&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==jp&&(r.stencilFail=this.stencilFail),this.stencilZFail!==jp&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==jp&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function a(o){const l=[];for(const s in o){const u=o[s];delete u.metadata,l.push(u)}return l}if(t){const o=a(e.textures),l=a(e.images);o.length>0&&(r.textures=o),l.length>0&&(r.images=l)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const a=t.length;r=new Array(a);for(let o=0;o!==a;++o)r[o]=t[o].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class il extends Pa{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new en(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ol,this.combine=HS,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const af=aae();function aae(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),a=new Uint32Array(512);for(let u=0;u<256;++u){const f=u-127;f<-27?(r[u]=0,r[u|256]=32768,a[u]=24,a[u|256]=24):f<-14?(r[u]=1024>>-f-14,r[u|256]=1024>>-f-14|32768,a[u]=-f-1,a[u|256]=-f-1):f<=15?(r[u]=f+15<<10,r[u|256]=f+15<<10|32768,a[u]=13,a[u|256]=13):f<128?(r[u]=31744,r[u|256]=64512,a[u]=24,a[u|256]=24):(r[u]=31744,r[u|256]=64512,a[u]=13,a[u|256]=13)}const o=new Uint32Array(2048),l=new Uint32Array(64),s=new Uint32Array(64);for(let u=1;u<1024;++u){let f=u<<13,m=0;for(;(f&8388608)===0;)f<<=1,m-=8388608;f&=-8388609,m+=947912704,o[u]=f|m}for(let u=1024;u<2048;++u)o[u]=939524096+(u-1024<<13);for(let u=1;u<31;++u)l[u]=u<<23;l[31]=1199570944,l[32]=2147483648;for(let u=33;u<63;++u)l[u]=2147483648+(u-32<<23);l[63]=3347054592;for(let u=1;u<64;++u)u!==32&&(s[u]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:a,mantissaTable:o,exponentTable:l,offsetTable:s}}function Ms(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Jn(n,-65504,65504),af.floatView[0]=n;const e=af.uint32View[0],t=e>>23&511;return af.baseTable[t]+((e&8388607)>>af.shiftTable[t])}function hb(n){const e=n>>10;return af.uint32View[0]=af.mantissaTable[af.offsetTable[e]+(n&1023)]+af.exponentTable[e],af.floatView[0]}class oae{static toHalfFloat(e){return Ms(e)}static fromHalfFloat(e){return hb(e)}}const Ea=new be,zx=new Tt;let sae=0;class ki{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:sae++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=dS,this.updateRanges=[],this.gpuType=Is,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let a=0,o=this.itemSize;a<o;a++)this.array[e+a]=t.array[r+a];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)zx.fromBufferAttribute(this,t),zx.applyMatrix3(e),this.setXY(t,zx.x,zx.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)Ea.fromBufferAttribute(this,t),Ea.applyMatrix3(e),this.setXYZ(t,Ea.x,Ea.y,Ea.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)Ea.fromBufferAttribute(this,t),Ea.applyMatrix4(e),this.setXYZ(t,Ea.x,Ea.y,Ea.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Ea.fromBufferAttribute(this,t),Ea.applyNormalMatrix(e),this.setXYZ(t,Ea.x,Ea.y,Ea.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Ea.fromBufferAttribute(this,t),Ea.transformDirection(e),this.setXYZ(t,Ea.x,Ea.y,Ea.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let r=this.array[e*this.itemSize+t];return this.normalized&&(r=ls(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=ri(r,this.array)),this.array[e*this.itemSize+t]=r,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=ls(t,this.array)),t}setX(e,t){return this.normalized&&(t=ri(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=ls(t,this.array)),t}setY(e,t){return this.normalized&&(t=ri(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=ls(t,this.array)),t}setZ(e,t){return this.normalized&&(t=ri(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=ls(t,this.array)),t}setW(e,t){return this.normalized&&(t=ri(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=ri(t,this.array),r=ri(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,a){return e*=this.itemSize,this.normalized&&(t=ri(t,this.array),r=ri(r,this.array),a=ri(a,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=a,this}setXYZW(e,t,r,a,o){return e*=this.itemSize,this.normalized&&(t=ri(t,this.array),r=ri(r,this.array),a=ri(a,this.array),o=ri(o,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=a,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==dS&&(e.usage=this.usage),e}}class lae extends ki{constructor(e,t,r){super(new Int8Array(e),t,r)}}class cae extends ki{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class uae extends ki{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class dae extends ki{constructor(e,t,r){super(new Int16Array(e),t,r)}}class AI extends ki{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class fae extends ki{constructor(e,t,r){super(new Int32Array(e),t,r)}}class MI extends ki{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class hae extends ki{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}getX(e){let t=hb(this.array[e*this.itemSize]);return this.normalized&&(t=ls(t,this.array)),t}setX(e,t){return this.normalized&&(t=ri(t,this.array)),this.array[e*this.itemSize]=Ms(t),this}getY(e){let t=hb(this.array[e*this.itemSize+1]);return this.normalized&&(t=ls(t,this.array)),t}setY(e,t){return this.normalized&&(t=ri(t,this.array)),this.array[e*this.itemSize+1]=Ms(t),this}getZ(e){let t=hb(this.array[e*this.itemSize+2]);return this.normalized&&(t=ls(t,this.array)),t}setZ(e,t){return this.normalized&&(t=ri(t,this.array)),this.array[e*this.itemSize+2]=Ms(t),this}getW(e){let t=hb(this.array[e*this.itemSize+3]);return this.normalized&&(t=ls(t,this.array)),t}setW(e,t){return this.normalized&&(t=ri(t,this.array)),this.array[e*this.itemSize+3]=Ms(t),this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=ri(t,this.array),r=ri(r,this.array)),this.array[e+0]=Ms(t),this.array[e+1]=Ms(r),this}setXYZ(e,t,r,a){return e*=this.itemSize,this.normalized&&(t=ri(t,this.array),r=ri(r,this.array),a=ri(a,this.array)),this.array[e+0]=Ms(t),this.array[e+1]=Ms(r),this.array[e+2]=Ms(a),this}setXYZW(e,t,r,a,o){return e*=this.itemSize,this.normalized&&(t=ri(t,this.array),r=ri(r,this.array),a=ri(a,this.array),o=ri(o,this.array)),this.array[e+0]=Ms(t),this.array[e+1]=Ms(r),this.array[e+2]=Ms(a),this.array[e+3]=Ms(o),this}}class vn extends ki{constructor(e,t,r){super(new Float32Array(e),t,r)}}let pae=0;const Pl=new Pn,mT=new Di,ev=new be,Js=new go,Ky=new go,Ja=new be;class ni extends ld{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:pae++}),this.uuid=rl(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(j8(e)?MI:AI)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const o=new ti().getNormalMatrix(e);r.applyNormalMatrix(o),r.needsUpdate=!0}const a=this.attributes.tangent;return a!==void 0&&(a.transformDirection(e),a.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Pl.makeRotationFromQuaternion(e),this.applyMatrix4(Pl),this}rotateX(e){return Pl.makeRotationX(e),this.applyMatrix4(Pl),this}rotateY(e){return Pl.makeRotationY(e),this.applyMatrix4(Pl),this}rotateZ(e){return Pl.makeRotationZ(e),this.applyMatrix4(Pl),this}translate(e,t,r){return Pl.makeTranslation(e,t,r),this.applyMatrix4(Pl),this}scale(e,t,r){return Pl.makeScale(e,t,r),this.applyMatrix4(Pl),this}lookAt(e){return mT.lookAt(e),mT.updateMatrix(),this.applyMatrix4(mT.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(ev).negate(),this.translate(ev.x,ev.y,ev.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const r=[];for(let a=0,o=e.length;a<o;a++){const l=e[a];r.push(l.x,l.y,l.z||0)}this.setAttribute("position",new vn(r,3))}else{const r=Math.min(e.length,t.count);for(let a=0;a<r;a++){const o=e[a];t.setXYZ(a,o.x,o.y,o.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new go);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new be(-1/0,-1/0,-1/0),new be(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,a=t.length;r<a;r++){const o=t[r];Js.setFromBufferAttribute(o),this.morphTargetsRelative?(Ja.addVectors(this.boundingBox.min,Js.min),this.boundingBox.expandByPoint(Ja),Ja.addVectors(this.boundingBox.max,Js.max),this.boundingBox.expandByPoint(Ja)):(this.boundingBox.expandByPoint(Js.min),this.boundingBox.expandByPoint(Js.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new vo);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new be,1/0);return}if(e){const r=this.boundingSphere.center;if(Js.setFromBufferAttribute(e),t)for(let o=0,l=t.length;o<l;o++){const s=t[o];Ky.setFromBufferAttribute(s),this.morphTargetsRelative?(Ja.addVectors(Js.min,Ky.min),Js.expandByPoint(Ja),Ja.addVectors(Js.max,Ky.max),Js.expandByPoint(Ja)):(Js.expandByPoint(Ky.min),Js.expandByPoint(Ky.max))}Js.getCenter(r);let a=0;for(let o=0,l=e.count;o<l;o++)Ja.fromBufferAttribute(e,o),a=Math.max(a,r.distanceToSquared(Ja));if(t)for(let o=0,l=t.length;o<l;o++){const s=t[o],u=this.morphTargetsRelative;for(let f=0,m=s.count;f<m;f++)Ja.fromBufferAttribute(s,f),u&&(ev.fromBufferAttribute(e,f),Ja.add(ev)),a=Math.max(a,r.distanceToSquared(Ja))}this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=t.position,a=t.normal,o=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new ki(new Float32Array(4*r.count),4));const l=this.getAttribute("tangent"),s=[],u=[];for(let F=0;F<r.count;F++)s[F]=new be,u[F]=new be;const f=new be,m=new be,b=new be,_=new Tt,E=new Tt,c=new Tt,p=new be,g=new be;function y(F,z,U){f.fromBufferAttribute(r,F),m.fromBufferAttribute(r,z),b.fromBufferAttribute(r,U),_.fromBufferAttribute(o,F),E.fromBufferAttribute(o,z),c.fromBufferAttribute(o,U),m.sub(f),b.sub(f),E.sub(_),c.sub(_);const $=1/(E.x*c.y-c.x*E.y);isFinite($)&&(p.copy(m).multiplyScalar(c.y).addScaledVector(b,-E.y).multiplyScalar($),g.copy(b).multiplyScalar(E.x).addScaledVector(m,-c.x).multiplyScalar($),s[F].add(p),s[z].add(p),s[U].add(p),u[F].add(g),u[z].add(g),u[U].add(g))}let C=this.groups;C.length===0&&(C=[{start:0,count:e.count}]);for(let F=0,z=C.length;F<z;++F){const U=C[F],$=U.start,J=U.count;for(let W=$,Q=$+J;W<Q;W+=3)y(e.getX(W+0),e.getX(W+1),e.getX(W+2))}const T=new be,M=new be,O=new be,B=new be;function D(F){O.fromBufferAttribute(a,F),B.copy(O);const z=s[F];T.copy(z),T.sub(O.multiplyScalar(O.dot(z))).normalize(),M.crossVectors(B,z);const $=M.dot(u[F])<0?-1:1;l.setXYZW(F,T.x,T.y,T.z,$)}for(let F=0,z=C.length;F<z;++F){const U=C[F],$=U.start,J=U.count;for(let W=$,Q=$+J;W<Q;W+=3)D(e.getX(W+0)),D(e.getX(W+1)),D(e.getX(W+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new ki(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let _=0,E=r.count;_<E;_++)r.setXYZ(_,0,0,0);const a=new be,o=new be,l=new be,s=new be,u=new be,f=new be,m=new be,b=new be;if(e)for(let _=0,E=e.count;_<E;_+=3){const c=e.getX(_+0),p=e.getX(_+1),g=e.getX(_+2);a.fromBufferAttribute(t,c),o.fromBufferAttribute(t,p),l.fromBufferAttribute(t,g),m.subVectors(l,o),b.subVectors(a,o),m.cross(b),s.fromBufferAttribute(r,c),u.fromBufferAttribute(r,p),f.fromBufferAttribute(r,g),s.add(m),u.add(m),f.add(m),r.setXYZ(c,s.x,s.y,s.z),r.setXYZ(p,u.x,u.y,u.z),r.setXYZ(g,f.x,f.y,f.z)}else for(let _=0,E=t.count;_<E;_+=3)a.fromBufferAttribute(t,_+0),o.fromBufferAttribute(t,_+1),l.fromBufferAttribute(t,_+2),m.subVectors(l,o),b.subVectors(a,o),m.cross(b),r.setXYZ(_+0,m.x,m.y,m.z),r.setXYZ(_+1,m.x,m.y,m.z),r.setXYZ(_+2,m.x,m.y,m.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)Ja.fromBufferAttribute(e,t),Ja.normalize(),e.setXYZ(t,Ja.x,Ja.y,Ja.z)}toNonIndexed(){function e(s,u){const f=s.array,m=s.itemSize,b=s.normalized,_=new f.constructor(u.length*m);let E=0,c=0;for(let p=0,g=u.length;p<g;p++){s.isInterleavedBufferAttribute?E=u[p]*s.data.stride+s.offset:E=u[p]*m;for(let y=0;y<m;y++)_[c++]=f[E++]}return new ki(_,m,b)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new ni,r=this.index.array,a=this.attributes;for(const s in a){const u=a[s],f=e(u,r);t.setAttribute(s,f)}const o=this.morphAttributes;for(const s in o){const u=[],f=o[s];for(let m=0,b=f.length;m<b;m++){const _=f[m],E=e(_,r);u.push(E)}t.morphAttributes[s]=u}t.morphTargetsRelative=this.morphTargetsRelative;const l=this.groups;for(let s=0,u=l.length;s<u;s++){const f=l[s];t.addGroup(f.start,f.count,f.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const u=this.parameters;for(const f in u)u[f]!==void 0&&(e[f]=u[f]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const u in r){const f=r[u];e.data.attributes[u]=f.toJSON(e.data)}const a={};let o=!1;for(const u in this.morphAttributes){const f=this.morphAttributes[u],m=[];for(let b=0,_=f.length;b<_;b++){const E=f[b];m.push(E.toJSON(e.data))}m.length>0&&(a[u]=m,o=!0)}o&&(e.data.morphAttributes=a,e.data.morphTargetsRelative=this.morphTargetsRelative);const l=this.groups;l.length>0&&(e.data.groups=JSON.parse(JSON.stringify(l)));const s=this.boundingSphere;return s!==null&&(e.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const a=e.attributes;for(const f in a){const m=a[f];this.setAttribute(f,m.clone(t))}const o=e.morphAttributes;for(const f in o){const m=[],b=o[f];for(let _=0,E=b.length;_<E;_++)m.push(b[_].clone(t));this.morphAttributes[f]=m}this.morphTargetsRelative=e.morphTargetsRelative;const l=e.groups;for(let f=0,m=l.length;f<m;f++){const b=l[f];this.addGroup(b.start,b.count,b.materialIndex)}const s=e.boundingBox;s!==null&&(this.boundingBox=s.clone());const u=e.boundingSphere;return u!==null&&(this.boundingSphere=u.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const a3=new Pn,Op=new jm,Ux=new vo,o3=new be,Fx=new be,Hx=new be,Gx=new be,gT=new be,kx=new be,s3=new be,$x=new be;class ga extends Di{constructor(e=new ni,t=new il){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const a=t[r[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,l=a.length;o<l;o++){const s=a[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}getVertexPosition(e,t){const r=this.geometry,a=r.attributes.position,o=r.morphAttributes.position,l=r.morphTargetsRelative;t.fromBufferAttribute(a,e);const s=this.morphTargetInfluences;if(o&&s){kx.set(0,0,0);for(let u=0,f=o.length;u<f;u++){const m=s[u],b=o[u];m!==0&&(gT.fromBufferAttribute(b,e),l?kx.addScaledVector(gT,m):kx.addScaledVector(gT.sub(t),m))}t.add(kx)}return t}raycast(e,t){const r=this.geometry,a=this.material,o=this.matrixWorld;a!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),Ux.copy(r.boundingSphere),Ux.applyMatrix4(o),Op.copy(e.ray).recast(e.near),!(Ux.containsPoint(Op.origin)===!1&&(Op.intersectSphere(Ux,o3)===null||Op.origin.distanceToSquared(o3)>(e.far-e.near)**2))&&(a3.copy(o).invert(),Op.copy(e.ray).applyMatrix4(a3),!(r.boundingBox!==null&&Op.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,t,Op)))}_computeIntersections(e,t,r){let a;const o=this.geometry,l=this.material,s=o.index,u=o.attributes.position,f=o.attributes.uv,m=o.attributes.uv1,b=o.attributes.normal,_=o.groups,E=o.drawRange;if(s!==null)if(Array.isArray(l))for(let c=0,p=_.length;c<p;c++){const g=_[c],y=l[g.materialIndex],C=Math.max(g.start,E.start),T=Math.min(s.count,Math.min(g.start+g.count,E.start+E.count));for(let M=C,O=T;M<O;M+=3){const B=s.getX(M),D=s.getX(M+1),F=s.getX(M+2);a=Vx(this,y,e,r,f,m,b,B,D,F),a&&(a.faceIndex=Math.floor(M/3),a.face.materialIndex=g.materialIndex,t.push(a))}}else{const c=Math.max(0,E.start),p=Math.min(s.count,E.start+E.count);for(let g=c,y=p;g<y;g+=3){const C=s.getX(g),T=s.getX(g+1),M=s.getX(g+2);a=Vx(this,l,e,r,f,m,b,C,T,M),a&&(a.faceIndex=Math.floor(g/3),t.push(a))}}else if(u!==void 0)if(Array.isArray(l))for(let c=0,p=_.length;c<p;c++){const g=_[c],y=l[g.materialIndex],C=Math.max(g.start,E.start),T=Math.min(u.count,Math.min(g.start+g.count,E.start+E.count));for(let M=C,O=T;M<O;M+=3){const B=M,D=M+1,F=M+2;a=Vx(this,y,e,r,f,m,b,B,D,F),a&&(a.faceIndex=Math.floor(M/3),a.face.materialIndex=g.materialIndex,t.push(a))}}else{const c=Math.max(0,E.start),p=Math.min(u.count,E.start+E.count);for(let g=c,y=p;g<y;g+=3){const C=g,T=g+1,M=g+2;a=Vx(this,l,e,r,f,m,b,C,T,M),a&&(a.faceIndex=Math.floor(g/3),t.push(a))}}}}function mae(n,e,t,r,a,o,l,s){let u;if(e.side===cs?u=r.intersectTriangle(l,o,a,!0,s):u=r.intersectTriangle(a,o,l,e.side===nd,s),u===null)return null;$x.copy(s),$x.applyMatrix4(n.matrixWorld);const f=t.ray.origin.distanceTo($x);return f<t.near||f>t.far?null:{distance:f,point:$x.clone(),object:n}}function Vx(n,e,t,r,a,o,l,s,u,f){n.getVertexPosition(s,Fx),n.getVertexPosition(u,Hx),n.getVertexPosition(f,Gx);const m=mae(n,e,t,r,Fx,Hx,Gx,s3);if(m){const b=new be;Os.getBarycoord(s3,Fx,Hx,Gx,b),a&&(m.uv=Os.getInterpolatedAttribute(a,s,u,f,b,new Tt)),o&&(m.uv1=Os.getInterpolatedAttribute(o,s,u,f,b,new Tt)),l&&(m.normal=Os.getInterpolatedAttribute(l,s,u,f,b,new be),m.normal.dot(r.direction)>0&&m.normal.multiplyScalar(-1));const _={a:s,b:u,c:f,normal:new be,materialIndex:0};Os.getNormal(Fx,Hx,Gx,_.normal),m.face=_,m.barycoord=b}return m}class Wm extends ni{constructor(e=1,t=1,r=1,a=1,o=1,l=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:a,heightSegments:o,depthSegments:l};const s=this;a=Math.floor(a),o=Math.floor(o),l=Math.floor(l);const u=[],f=[],m=[],b=[];let _=0,E=0;c("z","y","x",-1,-1,r,t,e,l,o,0),c("z","y","x",1,-1,r,t,-e,l,o,1),c("x","z","y",1,1,e,r,t,a,l,2),c("x","z","y",1,-1,e,r,-t,a,l,3),c("x","y","z",1,-1,e,t,r,a,o,4),c("x","y","z",-1,-1,e,t,-r,a,o,5),this.setIndex(u),this.setAttribute("position",new vn(f,3)),this.setAttribute("normal",new vn(m,3)),this.setAttribute("uv",new vn(b,2));function c(p,g,y,C,T,M,O,B,D,F,z){const U=M/D,$=O/F,J=M/2,W=O/2,Q=B/2,ae=D+1,Y=F+1;let K=0,ee=0;const de=new be;for(let q=0;q<Y;q++){const ie=q*$-W;for(let he=0;he<ae;he++){const fe=he*U-J;de[p]=fe*C,de[g]=ie*T,de[y]=Q,f.push(de.x,de.y,de.z),de[p]=0,de[g]=0,de[y]=B>0?1:-1,m.push(de.x,de.y,de.z),b.push(he/D),b.push(1-q/F),K+=1}}for(let q=0;q<F;q++)for(let ie=0;ie<D;ie++){const he=_+ie+ae*q,fe=_+ie+ae*(q+1),Z=_+(ie+1)+ae*(q+1),pe=_+(ie+1)+ae*q;u.push(he,fe,pe),u.push(fe,Z,pe),ee+=6}s.addGroup(E,ee,z),E+=ee,_+=K}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Wm(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function _0(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const a=n[t][r];a&&(a.isColor||a.isMatrix3||a.isMatrix4||a.isVector2||a.isVector3||a.isVector4||a.isTexture||a.isQuaternion)?a.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][r]=null):e[t][r]=a.clone():Array.isArray(a)?e[t][r]=a.slice():e[t][r]=a}}return e}function rs(n){const e={};for(let t=0;t<n.length;t++){const r=_0(n[t]);for(const a in r)e[a]=r[a]}return e}function gae(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function q8(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Ii.workingColorSpace}const K8={clone:_0,merge:rs};var vae=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,yae=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class jc extends Pa{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=vae,this.fragmentShader=yae,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=_0(e.uniforms),this.uniformsGroups=gae(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const a in this.uniforms){const l=this.uniforms[a].value;l&&l.isTexture?t.uniforms[a]={type:"t",value:l.toJSON(e).uuid}:l&&l.isColor?t.uniforms[a]={type:"c",value:l.getHex()}:l&&l.isVector2?t.uniforms[a]={type:"v2",value:l.toArray()}:l&&l.isVector3?t.uniforms[a]={type:"v3",value:l.toArray()}:l&&l.isVector4?t.uniforms[a]={type:"v4",value:l.toArray()}:l&&l.isMatrix3?t.uniforms[a]={type:"m3",value:l.toArray()}:l&&l.isMatrix4?t.uniforms[a]={type:"m4",value:l.toArray()}:t.uniforms[a]={value:l}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const r={};for(const a in this.extensions)this.extensions[a]===!0&&(r[a]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class Qw extends Di{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Pn,this.projectionMatrix=new Pn,this.projectionMatrixInverse=new Pn,this.coordinateSystem=Fc}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const ph=new be,l3=new Tt,c3=new Tt;class Xr extends Qw{constructor(e=50,t=1,r=.1,a=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=a,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=b0*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(wm*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return b0*2*Math.atan(Math.tan(wm*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,r){ph.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(ph.x,ph.y).multiplyScalar(-e/ph.z),ph.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(ph.x,ph.y).multiplyScalar(-e/ph.z)}getViewSize(e,t){return this.getViewBounds(e,l3,c3),t.subVectors(c3,l3)}setViewOffset(e,t,r,a,o,l){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=a,this.view.width=o,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(wm*.5*this.fov)/this.zoom,r=2*t,a=this.aspect*r,o=-.5*a;const l=this.view;if(this.view!==null&&this.view.enabled){const u=l.fullWidth,f=l.fullHeight;o+=l.offsetX*a/u,t-=l.offsetY*r/f,a*=l.width/u,r*=l.height/f}const s=this.filmOffset;s!==0&&(o+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+a,t,t-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const tv=-90,nv=1;class J8 extends Di{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const a=new Xr(tv,nv,e,t);a.layers=this.layers,this.add(a);const o=new Xr(tv,nv,e,t);o.layers=this.layers,this.add(o);const l=new Xr(tv,nv,e,t);l.layers=this.layers,this.add(l);const s=new Xr(tv,nv,e,t);s.layers=this.layers,this.add(s);const u=new Xr(tv,nv,e,t);u.layers=this.layers,this.add(u);const f=new Xr(tv,nv,e,t);f.layers=this.layers,this.add(f)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[r,a,o,l,s,u]=t;for(const f of t)this.remove(f);if(e===Fc)r.up.set(0,1,0),r.lookAt(1,0,0),a.up.set(0,1,0),a.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),l.up.set(0,0,1),l.lookAt(0,-1,0),s.up.set(0,1,0),s.lookAt(0,0,1),u.up.set(0,1,0),u.lookAt(0,0,-1);else if(e===fS)r.up.set(0,-1,0),r.lookAt(-1,0,0),a.up.set(0,-1,0),a.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),l.up.set(0,0,-1),l.lookAt(0,-1,0),s.up.set(0,-1,0),s.lookAt(0,0,1),u.up.set(0,-1,0),u.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const f of t)this.add(f),f.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:a}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[o,l,s,u,f,m]=this.children,b=e.getRenderTarget(),_=e.getActiveCubeFace(),E=e.getActiveMipmapLevel(),c=e.xr.enabled;e.xr.enabled=!1;const p=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,a),e.render(t,o),e.setRenderTarget(r,1,a),e.render(t,l),e.setRenderTarget(r,2,a),e.render(t,s),e.setRenderTarget(r,3,a),e.render(t,u),e.setRenderTarget(r,4,a),e.render(t,f),r.texture.generateMipmaps=p,e.setRenderTarget(r,5,a),e.render(t,m),e.setRenderTarget(b,_,E),e.xr.enabled=c,r.texture.needsPMREMUpdate=!0}}class $S extends Lr{constructor(e,t,r,a,o,l,s,u,f,m){e=e!==void 0?e:[],t=t!==void 0?t:yf,super(e,t,r,a,o,l,s,u,f,m),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Q8 extends id{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},a=[r,r,r,r,r,r];this.texture=new $S(a,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:ma}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},a=new Wm(5,5,5),o=new jc({name:"CubemapFromEquirect",uniforms:_0(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:cs,blending:df});o.uniforms.tEquirect.value=t;const l=new ga(a,o),s=t.minFilter;return t.minFilter===Gl&&(t.minFilter=ma),new J8(1,10,this).update(e,l),t.minFilter=s,l.geometry.dispose(),l.material.dispose(),this}clear(e,t,r,a){const o=e.getRenderTarget();for(let l=0;l<6;l++)e.setRenderTarget(this,l),e.clear(t,r,a);e.setRenderTarget(o)}}class of extends Di{constructor(){super(),this.isGroup=!0,this.type="Group"}}const bae={type:"move"};class YC{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new of,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new of,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new be,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new be),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new of,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new be,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new be),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let a=null,o=null,l=null;const s=this._targetRay,u=this._grip,f=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(f&&e.hand){l=!0;for(const p of e.hand.values()){const g=t.getJointPose(p,r),y=this._getHandJoint(f,p);g!==null&&(y.matrix.fromArray(g.transform.matrix),y.matrix.decompose(y.position,y.rotation,y.scale),y.matrixWorldNeedsUpdate=!0,y.jointRadius=g.radius),y.visible=g!==null}const m=f.joints["index-finger-tip"],b=f.joints["thumb-tip"],_=m.position.distanceTo(b.position),E=.02,c=.005;f.inputState.pinching&&_>E+c?(f.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!f.inputState.pinching&&_<=E-c&&(f.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else u!==null&&e.gripSpace&&(o=t.getPose(e.gripSpace,r),o!==null&&(u.matrix.fromArray(o.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,o.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(o.linearVelocity)):u.hasLinearVelocity=!1,o.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(o.angularVelocity)):u.hasAngularVelocity=!1));s!==null&&(a=t.getPose(e.targetRaySpace,r),a===null&&o!==null&&(a=o),a!==null&&(s.matrix.fromArray(a.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,a.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(a.linearVelocity)):s.hasLinearVelocity=!1,a.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(a.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(bae)))}return s!==null&&(s.visible=a!==null),u!==null&&(u.visible=o!==null),f!==null&&(f.visible=l!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new of;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}class Zw{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new en(e),this.density=t}clone(){return new Zw(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class eA{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new en(e),this.near=t,this.far=r}clone(){return new eA(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class TI extends Di{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new ol,this.environmentIntensity=1,this.environmentRotation=new ol,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class VS{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=dS,this.updateRanges=[],this.version=0,this.uuid=rl()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let a=0,o=this.stride;a<o;a++)this.array[e+a]=t.array[r+a];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=rl()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=rl()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const ns=new be;class Vh{constructor(e,t,r,a=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=a}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)ns.fromBufferAttribute(this,t),ns.applyMatrix4(e),this.setXYZ(t,ns.x,ns.y,ns.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)ns.fromBufferAttribute(this,t),ns.applyNormalMatrix(e),this.setXYZ(t,ns.x,ns.y,ns.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)ns.fromBufferAttribute(this,t),ns.transformDirection(e),this.setXYZ(t,ns.x,ns.y,ns.z);return this}getComponent(e,t){let r=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(r=ls(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=ri(r,this.array)),this.data.array[e*this.data.stride+this.offset+t]=r,this}setX(e,t){return this.normalized&&(t=ri(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=ri(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=ri(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=ri(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=ls(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=ls(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=ls(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=ls(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=ri(t,this.array),r=ri(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,a){return e=e*this.data.stride+this.offset,this.normalized&&(t=ri(t,this.array),r=ri(r,this.array),a=ri(a,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=a,this}setXYZW(e,t,r,a,o){return e=e*this.data.stride+this.offset,this.normalized&&(t=ri(t,this.array),r=ri(r,this.array),a=ri(a,this.array),o=ri(o,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=a,this.data.array[e+3]=o,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const a=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[a+o])}return new ki(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Vh(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const a=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[a+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class RI extends Pa{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new en(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let iv;const Jy=new be,rv=new be,av=new be,ov=new Tt,Qy=new Tt,Z8=new Pn,jx=new be,Zy=new be,Wx=new be,u3=new Tt,vT=new Tt,d3=new Tt;class e6 extends Di{constructor(e=new RI){if(super(),this.isSprite=!0,this.type="Sprite",iv===void 0){iv=new ni;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new VS(t,5);iv.setIndex([0,1,2,0,2,3]),iv.setAttribute("position",new Vh(r,3,0,!1)),iv.setAttribute("uv",new Vh(r,2,3,!1))}this.geometry=iv,this.material=e,this.center=new Tt(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),rv.setFromMatrixScale(this.matrixWorld),Z8.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),av.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&rv.multiplyScalar(-av.z);const r=this.material.rotation;let a,o;r!==0&&(o=Math.cos(r),a=Math.sin(r));const l=this.center;Xx(jx.set(-.5,-.5,0),av,l,rv,a,o),Xx(Zy.set(.5,-.5,0),av,l,rv,a,o),Xx(Wx.set(.5,.5,0),av,l,rv,a,o),u3.set(0,0),vT.set(1,0),d3.set(1,1);let s=e.ray.intersectTriangle(jx,Zy,Wx,!1,Jy);if(s===null&&(Xx(Zy.set(-.5,.5,0),av,l,rv,a,o),vT.set(0,1),s=e.ray.intersectTriangle(jx,Wx,Zy,!1,Jy),s===null))return;const u=e.ray.origin.distanceTo(Jy);u<e.near||u>e.far||t.push({distance:u,point:Jy.clone(),uv:Os.getInterpolation(Jy,jx,Zy,Wx,u3,vT,d3,new Tt),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Xx(n,e,t,r,a,o){ov.subVectors(n,t).addScalar(.5).multiply(r),a!==void 0?(Qy.x=o*ov.x-a*ov.y,Qy.y=a*ov.x+o*ov.y):Qy.copy(ov),n.copy(e),n.x+=Qy.x,n.y+=Qy.y,n.applyMatrix4(Z8)}const Yx=new be,f3=new be;class t6 extends Di{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,a=t.length;r<a;r++){const o=t[r];this.addLevel(o.object.clone(),o.distance,o.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,r=0){t=Math.abs(t);const a=this.levels;let o;for(o=0;o<a.length&&!(t<a[o].distance);o++);return a.splice(o,0,{distance:t,hysteresis:r,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let r=0;r<t.length;r++)if(t[r].distance===e){const a=t.splice(r,1);return this.remove(a[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,a;for(r=1,a=t.length;r<a;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),e<o)break}return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){Yx.setFromMatrixPosition(this.matrixWorld);const a=e.ray.origin.distanceTo(Yx);this.getObjectForDistance(a).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Yx.setFromMatrixPosition(e.matrixWorld),f3.setFromMatrixPosition(this.matrixWorld);const r=Yx.distanceTo(f3)/e.zoom;t[0].object.visible=!0;let a,o;for(a=1,o=t.length;a<o;a++){let l=t[a].distance;if(t[a].object.visible&&(l-=l*t[a].hysteresis),r>=l)t[a-1].object.visible=!1,t[a].object.visible=!0;else break}for(this._currentLevel=a-1;a<o;a++)t[a].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let a=0,o=r.length;a<o;a++){const l=r[a];t.object.levels.push({object:l.object.uuid,distance:l.distance,hysteresis:l.hysteresis})}return t}}const h3=new be,p3=new Gi,m3=new Gi,Sae=new be,g3=new Pn,qx=new be,yT=new vo,v3=new Pn,bT=new jm;class OI extends ga{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=I2,this.bindMatrix=new Pn,this.bindMatrixInverse=new Pn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new go),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,qx),this.boundingBox.expandByPoint(qx)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new vo),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,qx),this.boundingSphere.expandByPoint(qx)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const r=this.material,a=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),yT.copy(this.boundingSphere),yT.applyMatrix4(a),e.ray.intersectsSphere(yT)!==!1&&(v3.copy(a).invert(),bT.copy(e.ray).applyMatrix4(v3),!(this.boundingBox!==null&&bT.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,bT)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Gi,t=this.geometry.attributes.skinWeight;for(let r=0,a=t.count;r<a;r++){e.fromBufferAttribute(t,r);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===I2?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===R8?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const r=this.skeleton,a=this.geometry;p3.fromBufferAttribute(a.attributes.skinIndex,e),m3.fromBufferAttribute(a.attributes.skinWeight,e),h3.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let o=0;o<4;o++){const l=m3.getComponent(o);if(l!==0){const s=p3.getComponent(o);g3.multiplyMatrices(r.bones[s].matrixWorld,r.boneInverses[s]),t.addScaledVector(Sae.copy(h3).applyMatrix4(g3),l)}}return t.applyMatrix4(this.bindMatrixInverse)}}class tA extends Di{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Ku extends Lr{constructor(e=null,t=1,r=1,a,o,l,s,u,f=Za,m=Za,b,_){super(null,l,s,u,f,m,a,o,b,_),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const y3=new Pn,_ae=new Pn;class jS{constructor(e=[],t=[]){this.uuid=rl(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,a=this.bones.length;r<a;r++)this.boneInverses.push(new Pn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new Pn;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,a=this.boneTexture;for(let o=0,l=e.length;o<l;o++){const s=e[o]?e[o].matrixWorld:_ae;y3.multiplyMatrices(s,t[o]),y3.toArray(r,o*16)}a!==null&&(a.needsUpdate=!0)}clone(){return new jS(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new Ku(t,e,e,zo,Is);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const a=this.bones[t];if(a.name===e)return a}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,a=e.bones.length;r<a;r++){const o=e.bones[r];let l=t[o];l===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),l=new tA),this.bones.push(l),this.boneInverses.push(new Pn().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let a=0,o=t.length;a<o;a++){const l=t[a];e.bones.push(l.uuid);const s=r[a];e.boneInverses.push(s.toArray())}return e}}class Im extends ki{constructor(e,t,r,a=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=a}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const sv=new Pn,b3=new Pn,Kx=[],S3=new go,xae=new Pn,eb=new ga,tb=new vo;class II extends ga{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Im(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let a=0;a<r;a++)this.setMatrixAt(a,xae)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new go),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,sv),S3.copy(e.boundingBox).applyMatrix4(sv),this.boundingBox.union(S3)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new vo),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,sv),tb.copy(e.boundingSphere).applyMatrix4(sv),this.boundingSphere.union(tb)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const r=t.morphTargetInfluences,a=this.morphTexture.source.data.data,o=r.length+1,l=e*o+1;for(let s=0;s<r.length;s++)r[s]=a[l+s]}raycast(e,t){const r=this.matrixWorld,a=this.count;if(eb.geometry=this.geometry,eb.material=this.material,eb.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),tb.copy(this.boundingSphere),tb.applyMatrix4(r),e.ray.intersectsSphere(tb)!==!1))for(let o=0;o<a;o++){this.getMatrixAt(o,sv),b3.multiplyMatrices(r,sv),eb.matrixWorld=b3,eb.raycast(e,Kx);for(let l=0,s=Kx.length;l<s;l++){const u=Kx[l];u.instanceId=o,u.object=this,t.push(u)}Kx.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Im(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const r=t.morphTargetInfluences,a=r.length+1;this.morphTexture===null&&(this.morphTexture=new Ku(new Float32Array(a*this.count),a,this.count,Ww,Is));const o=this.morphTexture.source.data.data;let l=0;for(let f=0;f<r.length;f++)l+=r[f];const s=this.geometry.morphTargetsRelative?1:1-l,u=a*e;o[u]=s,o.set(r,u+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const ST=new be,Cae=new be,Eae=new ti;class tf{constructor(e=new be(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,a){return this.normal.set(e,t,r),this.constant=a,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const a=ST.subVectors(r,t).cross(Cae.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(a,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(ST),a=this.normal.dot(r);if(a===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/a;return o<0||o>1?null:t.copy(e.start).addScaledVector(r,o)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||Eae.getNormalMatrix(e),a=this.coplanarPoint(ST).applyMatrix4(e),o=this.normal.applyMatrix3(r).normalize();return this.constant=-a.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Ip=new vo,Jx=new be;class WS{constructor(e=new tf,t=new tf,r=new tf,a=new tf,o=new tf,l=new tf){this.planes=[e,t,r,a,o,l]}set(e,t,r,a,o,l){const s=this.planes;return s[0].copy(e),s[1].copy(t),s[2].copy(r),s[3].copy(a),s[4].copy(o),s[5].copy(l),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,t=Fc){const r=this.planes,a=e.elements,o=a[0],l=a[1],s=a[2],u=a[3],f=a[4],m=a[5],b=a[6],_=a[7],E=a[8],c=a[9],p=a[10],g=a[11],y=a[12],C=a[13],T=a[14],M=a[15];if(r[0].setComponents(u-o,_-f,g-E,M-y).normalize(),r[1].setComponents(u+o,_+f,g+E,M+y).normalize(),r[2].setComponents(u+l,_+m,g+c,M+C).normalize(),r[3].setComponents(u-l,_-m,g-c,M-C).normalize(),r[4].setComponents(u-s,_-b,g-p,M-T).normalize(),t===Fc)r[5].setComponents(u+s,_+b,g+p,M+T).normalize();else if(t===fS)r[5].setComponents(s,b,p,T).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Ip.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Ip.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Ip)}intersectsSprite(e){return Ip.center.set(0,0,0),Ip.radius=.7071067811865476,Ip.applyMatrix4(e.matrixWorld),this.intersectsSphere(Ip)}intersectsSphere(e){const t=this.planes,r=e.center,a=-e.radius;for(let o=0;o<6;o++)if(t[o].distanceToPoint(r)<a)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const a=t[r];if(Jx.x=a.normal.x>0?e.max.x:e.min.x,Jx.y=a.normal.y>0?e.max.y:e.min.y,Jx.z=a.normal.z>0?e.max.z:e.min.z,a.distanceToPoint(Jx)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function _T(n,e){return n-e}function wae(n,e){return n.z-e.z}function Aae(n,e){return e.z-n.z}class Mae{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,r,a){const o=this.pool,l=this.list;this.index>=o.length&&o.push({start:-1,count:-1,z:-1,index:-1});const s=o[this.index];l.push(s),this.index++,s.start=e,s.count=t,s.z=r,s.index=a}reset(){this.list.length=0,this.index=0}}const ws=new Pn,Tae=new en(1,1,1),xT=new WS,Qx=new go,Bp=new vo,nb=new be,_3=new be,Rae=new be,CT=new Mae,Bo=new ga,Zx=[];function Oae(n,e,t=0){const r=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const a=n.count;for(let o=0;o<a;o++)for(let l=0;l<r;l++)e.setComponent(o+t,l,n.getComponent(o,l))}else e.array.set(n.array,t*r);e.needsUpdate=!0}function Dp(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++)e[r]=n[r]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class n6 extends ga{constructor(e,t,r=t*2,a){super(new ni,a),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=r,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),r=new Ku(t,e,e,zo,Is);this._matricesTexture=r}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),r=new Ku(t,e,e,GS,bf);this._indirectTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),r=new Ku(t,e,e,zo,Is);r.colorSpace=Ii.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const t=this.geometry,r=this._maxVertexCount,a=this._maxIndexCount;if(this._geometryInitialized===!1){for(const o in e.attributes){const l=e.getAttribute(o),{array:s,itemSize:u,normalized:f}=l,m=new s.constructor(r*u),b=new ki(m,u,f);t.setAttribute(o,b)}if(e.getIndex()!==null){const o=r>65535?new Uint32Array(a):new Uint16Array(a);t.setIndex(new ki(o,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const r in t.attributes){if(!e.hasAttribute(r))throw new Error(`THREE.BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const a=e.getAttribute(r),o=t.getAttribute(r);if(a.itemSize!==o.itemSize||a.normalized!==o.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new go);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let r=0,a=t.length;r<a;r++){if(t[r].active===!1)continue;const o=t[r].geometryIndex;this.getMatrixAt(r,ws),this.getBoundingBoxAt(o,Qx).applyMatrix4(ws),e.union(Qx)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new vo);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let r=0,a=t.length;r<a;r++){if(t[r].active===!1)continue;const o=t[r].geometryIndex;this.getMatrixAt(r,ws),this.getBoundingSphereAt(o,Bp).applyMatrix4(ws),e.union(Bp)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const r={visible:!0,active:!0,geometryIndex:e};let a=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(_T),a=this._availableInstanceIds.shift(),this._instanceInfo[a]=r):(a=this._instanceInfo.length,this._instanceInfo.push(r));const o=this._matricesTexture;ws.identity().toArray(o.image.data,a*16),o.needsUpdate=!0;const l=this._colorsTexture;return l&&(Tae.toArray(l.image.data,a*4),l.needsUpdate=!0),this._visibilityChanged=!0,a}addGeometry(e,t=-1,r=-1){this._initializeGeometry(e),this._validateGeometry(e);const a={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},o=this._geometryInfo;a.vertexStart=this._nextVertexStart,a.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const l=e.getIndex();if(l!==null&&(a.indexStart=this._nextIndexStart,a.reservedIndexCount=r===-1?l.count:r),a.indexStart!==-1&&a.indexStart+a.reservedIndexCount>this._maxIndexCount||a.vertexStart+a.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let u;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(_T),u=this._availableGeometryIds.shift(),o[u]=a):(u=this._geometryCount,this._geometryCount++,o.push(a)),this.setGeometryAt(u,e),this._nextIndexStart=a.indexStart+a.reservedIndexCount,this._nextVertexStart=a.vertexStart+a.reservedVertexCount,u}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const r=this.geometry,a=r.getIndex()!==null,o=r.getIndex(),l=t.getIndex(),s=this._geometryInfo[e];if(a&&l.count>s.reservedIndexCount||t.attributes.position.count>s.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const u=s.vertexStart,f=s.reservedVertexCount;s.vertexCount=t.getAttribute("position").count;for(const m in r.attributes){const b=t.getAttribute(m),_=r.getAttribute(m);Oae(b,_,u);const E=b.itemSize;for(let c=b.count,p=f;c<p;c++){const g=u+c;for(let y=0;y<E;y++)_.setComponent(g,y,0)}_.needsUpdate=!0,_.addUpdateRange(u*E,f*E)}if(a){const m=s.indexStart,b=s.reservedIndexCount;s.indexCount=t.getIndex().count;for(let _=0;_<l.count;_++)o.setX(m+_,u+l.getX(_));for(let _=l.count,E=b;_<E;_++)o.setX(m+_,u);o.needsUpdate=!0,o.addUpdateRange(m,s.reservedIndexCount)}return s.start=a?s.indexStart:s.vertexStart,s.count=a?s.indexCount:s.vertexCount,s.boundingBox=null,t.boundingBox!==null&&(s.boundingBox=t.boundingBox.clone()),s.boundingSphere=null,t.boundingSphere!==null&&(s.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const r=this._instanceInfo;for(let a=0,o=r.length;a<o;a++)r[a].active&&r[a].geometryIndex===e&&this.deleteInstance(a);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const r=this._geometryInfo,a=r.map((l,s)=>s).sort((l,s)=>r[l].vertexStart-r[s].vertexStart),o=this.geometry;for(let l=0,s=r.length;l<s;l++){const u=a[l],f=r[u];if(f.active!==!1){if(o.index!==null){if(f.indexStart!==t){const{indexStart:m,vertexStart:b,reservedIndexCount:_}=f,E=o.index,c=E.array,p=e-b;for(let g=m;g<m+_;g++)c[g]=c[g]+p;E.array.copyWithin(t,m,m+_),E.addUpdateRange(t,_),f.indexStart=t}t+=f.reservedIndexCount}if(f.vertexStart!==e){const{vertexStart:m,reservedVertexCount:b}=f,_=o.attributes;for(const E in _){const c=_[E],{array:p,itemSize:g}=c;p.copyWithin(e*g,m*g,(m+b)*g),c.addUpdateRange(e*g,b*g)}f.vertexStart=e}e+=f.reservedVertexCount,f.start=o.index?f.indexStart:f.vertexStart,this._nextIndexStart=o.index?f.indexStart+f.reservedIndexCount:0,this._nextVertexStart=f.vertexStart+f.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const r=this.geometry,a=this._geometryInfo[e];if(a.boundingBox===null){const o=new go,l=r.index,s=r.attributes.position;for(let u=a.start,f=a.start+a.count;u<f;u++){let m=u;l&&(m=l.getX(m)),o.expandByPoint(nb.fromBufferAttribute(s,m))}a.boundingBox=o}return t.copy(a.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const r=this.geometry,a=this._geometryInfo[e];if(a.boundingSphere===null){const o=new vo;this.getBoundingBoxAt(e,Qx),Qx.getCenter(o.center);const l=r.index,s=r.attributes.position;let u=0;for(let f=a.start,m=a.start+a.count;f<m;f++){let b=f;l&&(b=l.getX(b)),nb.fromBufferAttribute(s,b),u=Math.max(u,o.center.distanceToSquared(nb))}o.radius=Math.sqrt(u),a.boundingSphere=o}return t.copy(a.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const r=this._matricesTexture,a=this._matricesTexture.image.data;return t.toArray(a,e*16),r.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const r=this._geometryInfo[e];return t.vertexStart=r.vertexStart,t.vertexCount=r.vertexCount,t.reservedVertexCount=r.reservedVertexCount,t.indexStart=r.indexStart,t.indexCount=r.indexCount,t.reservedIndexCount=r.reservedIndexCount,t.start=r.start,t.count=r.count,t}setInstanceCount(e){const t=this._availableInstanceIds,r=this._instanceInfo;for(t.sort(_T);t[t.length-1]===r.length;)r.pop(),t.pop();if(e<r.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const a=new Int32Array(e),o=new Int32Array(e);Dp(this._multiDrawCounts,a),Dp(this._multiDrawStarts,o),this._multiDrawCounts=a,this._multiDrawStarts=o,this._maxInstanceCount=e;const l=this._indirectTexture,s=this._matricesTexture,u=this._colorsTexture;l.dispose(),this._initIndirectTexture(),Dp(l.image.data,this._indirectTexture.image.data),s.dispose(),this._initMatricesTexture(),Dp(s.image.data,this._matricesTexture.image.data),u&&(u.dispose(),this._initColorsTexture(),Dp(u.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const r=[...this._geometryInfo].filter(s=>s.active);if(Math.max(...r.map(s=>s.vertexStart+s.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...r.map(u=>u.indexStart+u.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const o=this.geometry;o.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new ni,this._initializeGeometry(o));const l=this.geometry;o.index&&Dp(o.index.array,l.index.array);for(const s in o.attributes)Dp(o.attributes[s].array,l.attributes[s].array)}raycast(e,t){const r=this._instanceInfo,a=this._geometryInfo,o=this.matrixWorld,l=this.geometry;Bo.material=this.material,Bo.geometry.index=l.index,Bo.geometry.attributes=l.attributes,Bo.geometry.boundingBox===null&&(Bo.geometry.boundingBox=new go),Bo.geometry.boundingSphere===null&&(Bo.geometry.boundingSphere=new vo);for(let s=0,u=r.length;s<u;s++){if(!r[s].visible||!r[s].active)continue;const f=r[s].geometryIndex,m=a[f];Bo.geometry.setDrawRange(m.start,m.count),this.getMatrixAt(s,Bo.matrixWorld).premultiply(o),this.getBoundingBoxAt(f,Bo.geometry.boundingBox),this.getBoundingSphereAt(f,Bo.geometry.boundingSphere),Bo.raycast(e,Zx);for(let b=0,_=Zx.length;b<_;b++){const E=Zx[b];E.object=this,E.batchId=s,t.push(E)}Zx.length=0}Bo.material=null,Bo.geometry.index=null,Bo.geometry.attributes={},Bo.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,r,a,o){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const l=a.getIndex(),s=l===null?1:l.array.BYTES_PER_ELEMENT,u=this._instanceInfo,f=this._multiDrawStarts,m=this._multiDrawCounts,b=this._geometryInfo,_=this.perObjectFrustumCulled,E=this._indirectTexture,c=E.image.data;_&&(ws.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),xT.setFromProjectionMatrix(ws,e.coordinateSystem));let p=0;if(this.sortObjects){ws.copy(this.matrixWorld).invert(),nb.setFromMatrixPosition(r.matrixWorld).applyMatrix4(ws),_3.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(ws);for(let C=0,T=u.length;C<T;C++)if(u[C].visible&&u[C].active){const M=u[C].geometryIndex;this.getMatrixAt(C,ws),this.getBoundingSphereAt(M,Bp).applyMatrix4(ws);let O=!1;if(_&&(O=!xT.intersectsSphere(Bp)),!O){const B=b[M],D=Rae.subVectors(Bp.center,nb).dot(_3);CT.push(B.start,B.count,D,C)}}const g=CT.list,y=this.customSort;y===null?g.sort(o.transparent?Aae:wae):y.call(this,g,r);for(let C=0,T=g.length;C<T;C++){const M=g[C];f[p]=M.start*s,m[p]=M.count,c[p]=M.index,p++}CT.reset()}else for(let g=0,y=u.length;g<y;g++)if(u[g].visible&&u[g].active){const C=u[g].geometryIndex;let T=!1;if(_&&(this.getMatrixAt(g,ws),this.getBoundingSphereAt(C,Bp).applyMatrix4(ws),T=!xT.intersectsSphere(Bp)),!T){const M=b[C];f[p]=M.start*s,m[p]=M.count,c[p]=g,p++}}E.needsUpdate=!0,this._multiDrawCount=p,this._visibilityChanged=!1}onBeforeShadow(e,t,r,a,o,l){this.onBeforeRender(e,null,a,o,l)}}class Go extends Pa{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new en(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const LE=new be,NE=new be,x3=new Pn,ib=new jm,eC=new vo,ET=new be,C3=new be;class Sf extends Di{constructor(e=new ni,t=new Go){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let a=1,o=t.count;a<o;a++)LE.fromBufferAttribute(t,a-1),NE.fromBufferAttribute(t,a),r[a]=r[a-1],r[a]+=LE.distanceTo(NE);e.setAttribute("lineDistance",new vn(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,a=this.matrixWorld,o=e.params.Line.threshold,l=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),eC.copy(r.boundingSphere),eC.applyMatrix4(a),eC.radius+=o,e.ray.intersectsSphere(eC)===!1)return;x3.copy(a).invert(),ib.copy(e.ray).applyMatrix4(x3);const s=o/((this.scale.x+this.scale.y+this.scale.z)/3),u=s*s,f=this.isLineSegments?2:1,m=r.index,_=r.attributes.position;if(m!==null){const E=Math.max(0,l.start),c=Math.min(m.count,l.start+l.count);for(let p=E,g=c-1;p<g;p+=f){const y=m.getX(p),C=m.getX(p+1),T=tC(this,e,ib,u,y,C,p);T&&t.push(T)}if(this.isLineLoop){const p=m.getX(c-1),g=m.getX(E),y=tC(this,e,ib,u,p,g,c-1);y&&t.push(y)}}else{const E=Math.max(0,l.start),c=Math.min(_.count,l.start+l.count);for(let p=E,g=c-1;p<g;p+=f){const y=tC(this,e,ib,u,p,p+1,p);y&&t.push(y)}if(this.isLineLoop){const p=tC(this,e,ib,u,c-1,E,c-1);p&&t.push(p)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const a=t[r[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,l=a.length;o<l;o++){const s=a[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}}function tC(n,e,t,r,a,o,l){const s=n.geometry.attributes.position;if(LE.fromBufferAttribute(s,a),NE.fromBufferAttribute(s,o),t.distanceSqToSegment(LE,NE,ET,C3)>r)return;ET.applyMatrix4(n.matrixWorld);const f=e.ray.origin.distanceTo(ET);if(!(f<e.near||f>e.far))return{distance:f,point:C3.clone().applyMatrix4(n.matrixWorld),index:l,face:null,faceIndex:null,barycoord:null,object:n}}const E3=new be,w3=new be;class Yc extends Sf{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let a=0,o=t.count;a<o;a+=2)E3.fromBufferAttribute(t,a),w3.fromBufferAttribute(t,a+1),r[a]=a===0?0:r[a-1],r[a+1]=r[a]+E3.distanceTo(w3);e.setAttribute("lineDistance",new vn(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class BI extends Sf{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class nA extends Pa{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new en(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const A3=new Pn,P2=new jm,nC=new vo,iC=new be;class DI extends Di{constructor(e=new ni,t=new nA){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,a=this.matrixWorld,o=e.params.Points.threshold,l=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),nC.copy(r.boundingSphere),nC.applyMatrix4(a),nC.radius+=o,e.ray.intersectsSphere(nC)===!1)return;A3.copy(a).invert(),P2.copy(e.ray).applyMatrix4(A3);const s=o/((this.scale.x+this.scale.y+this.scale.z)/3),u=s*s,f=r.index,b=r.attributes.position;if(f!==null){const _=Math.max(0,l.start),E=Math.min(f.count,l.start+l.count);for(let c=_,p=E;c<p;c++){const g=f.getX(c);iC.fromBufferAttribute(b,g),M3(iC,g,u,a,e,t,this)}}else{const _=Math.max(0,l.start),E=Math.min(b.count,l.start+l.count);for(let c=_,p=E;c<p;c++)iC.fromBufferAttribute(b,c),M3(iC,c,u,a,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const a=t[r[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,l=a.length;o<l;o++){const s=a[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}}function M3(n,e,t,r,a,o,l){const s=P2.distanceSqToPoint(n);if(s<t){const u=new be;P2.closestPointToPoint(n,u),u.applyMatrix4(r);const f=a.ray.origin.distanceTo(u);if(f<a.near||f>a.far)return;o.push({distance:f,distanceToRay:Math.sqrt(s),point:u,index:e,face:null,faceIndex:null,barycoord:null,object:l})}}class i6 extends Lr{constructor(e,t,r,a,o,l,s,u,f){super(e,t,r,a,o,l,s,u,f),this.isVideoTexture=!0,this.minFilter=l!==void 0?l:ma,this.magFilter=o!==void 0?o:ma,this.generateMipmaps=!1;const m=this;function b(){m.needsUpdate=!0,e.requestVideoFrameCallback(b)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(b)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Iae extends i6{constructor(e,t,r,a,o,l,s,u){super({},e,t,r,a,o,l,s,u),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class Bae extends Lr{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Za,this.minFilter=Za,this.generateMipmaps=!1,this.needsUpdate=!0}}class iA extends Lr{constructor(e,t,r,a,o,l,s,u,f,m,b,_){super(null,l,s,u,f,m,a,o,b,_),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Dae extends iA{constructor(e,t,r,a,o,l){super(e,t,r,o,l),this.isCompressedArrayTexture=!0,this.image.depth=a,this.wrapR=nl,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Pae extends iA{constructor(e,t,r){super(void 0,e[0].width,e[0].height,t,r,yf),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class Lae extends Lr{constructor(e,t,r,a,o,l,s,u,f){super(e,t,r,a,o,l,s,u,f),this.isCanvasTexture=!0,this.needsUpdate=!0}}class PI extends Lr{constructor(e,t,r,a,o,l,s,u,f,m=Em){if(m!==Em&&m!==Om)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&m===Em&&(r=bf),r===void 0&&m===Om&&(r=Rm),super(null,a,o,l,s,u,m,r,f),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=s!==void 0?s:Za,this.minFilter=u!==void 0?u:Za,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Bh(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class qc{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,a=this.getPoint(0),o=0;t.push(0);for(let l=1;l<=e;l++)r=this.getPoint(l/e),o+=r.distanceTo(a),t.push(o),a=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const r=this.getLengths();let a=0;const o=r.length;let l;t?l=t:l=e*r[o-1];let s=0,u=o-1,f;for(;s<=u;)if(a=Math.floor(s+(u-s)/2),f=r[a]-l,f<0)s=a+1;else if(f>0)u=a-1;else{u=a;break}if(a=u,r[a]===l)return a/(o-1);const m=r[a],_=r[a+1]-m,E=(l-m)/_;return(a+E)/(o-1)}getTangent(e,t){let a=e-1e-4,o=e+1e-4;a<0&&(a=0),o>1&&(o=1);const l=this.getPoint(a),s=this.getPoint(o),u=t||(l.isVector2?new Tt:new be);return u.copy(s).sub(l).normalize(),u}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t=!1){const r=new be,a=[],o=[],l=[],s=new be,u=new Pn;for(let E=0;E<=e;E++){const c=E/e;a[E]=this.getTangentAt(c,new be)}o[0]=new be,l[0]=new be;let f=Number.MAX_VALUE;const m=Math.abs(a[0].x),b=Math.abs(a[0].y),_=Math.abs(a[0].z);m<=f&&(f=m,r.set(1,0,0)),b<=f&&(f=b,r.set(0,1,0)),_<=f&&r.set(0,0,1),s.crossVectors(a[0],r).normalize(),o[0].crossVectors(a[0],s),l[0].crossVectors(a[0],o[0]);for(let E=1;E<=e;E++){if(o[E]=o[E-1].clone(),l[E]=l[E-1].clone(),s.crossVectors(a[E-1],a[E]),s.length()>Number.EPSILON){s.normalize();const c=Math.acos(Jn(a[E-1].dot(a[E]),-1,1));o[E].applyMatrix4(u.makeRotationAxis(s,c))}l[E].crossVectors(a[E],o[E])}if(t===!0){let E=Math.acos(Jn(o[0].dot(o[e]),-1,1));E/=e,a[0].dot(s.crossVectors(o[0],o[e]))>0&&(E=-E);for(let c=1;c<=e;c++)o[c].applyMatrix4(u.makeRotationAxis(a[c],E*c)),l[c].crossVectors(a[c],o[c])}return{tangents:a,normals:o,binormals:l}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class rA extends qc{constructor(e=0,t=0,r=1,a=1,o=0,l=Math.PI*2,s=!1,u=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=a,this.aStartAngle=o,this.aEndAngle=l,this.aClockwise=s,this.aRotation=u}getPoint(e,t=new Tt){const r=t,a=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const l=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=a;for(;o>a;)o-=a;o<Number.EPSILON&&(l?o=0:o=a),this.aClockwise===!0&&!l&&(o===a?o=-a:o=o-a);const s=this.aStartAngle+e*o;let u=this.aX+this.xRadius*Math.cos(s),f=this.aY+this.yRadius*Math.sin(s);if(this.aRotation!==0){const m=Math.cos(this.aRotation),b=Math.sin(this.aRotation),_=u-this.aX,E=f-this.aY;u=_*m-E*b+this.aX,f=_*b+E*m+this.aY}return r.set(u,f)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class r6 extends rA{constructor(e,t,r,a,o,l){super(e,t,r,r,a,o,l),this.isArcCurve=!0,this.type="ArcCurve"}}function LI(){let n=0,e=0,t=0,r=0;function a(o,l,s,u){n=o,e=s,t=-3*o+3*l-2*s-u,r=2*o-2*l+s+u}return{initCatmullRom:function(o,l,s,u,f){a(l,s,f*(s-o),f*(u-l))},initNonuniformCatmullRom:function(o,l,s,u,f,m,b){let _=(l-o)/f-(s-o)/(f+m)+(s-l)/m,E=(s-l)/m-(u-l)/(m+b)+(u-s)/b;_*=m,E*=m,a(l,s,_,E)},calc:function(o){const l=o*o,s=l*o;return n+e*o+t*l+r*s}}}const rC=new be,wT=new LI,AT=new LI,MT=new LI;class a6 extends qc{constructor(e=[],t=!1,r="centripetal",a=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=a}getPoint(e,t=new be){const r=t,a=this.points,o=a.length,l=(o-(this.closed?0:1))*e;let s=Math.floor(l),u=l-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/o)+1)*o:u===0&&s===o-1&&(s=o-2,u=1);let f,m;this.closed||s>0?f=a[(s-1)%o]:(rC.subVectors(a[0],a[1]).add(a[0]),f=rC);const b=a[s%o],_=a[(s+1)%o];if(this.closed||s+2<o?m=a[(s+2)%o]:(rC.subVectors(a[o-1],a[o-2]).add(a[o-1]),m=rC),this.curveType==="centripetal"||this.curveType==="chordal"){const E=this.curveType==="chordal"?.5:.25;let c=Math.pow(f.distanceToSquared(b),E),p=Math.pow(b.distanceToSquared(_),E),g=Math.pow(_.distanceToSquared(m),E);p<1e-4&&(p=1),c<1e-4&&(c=p),g<1e-4&&(g=p),wT.initNonuniformCatmullRom(f.x,b.x,_.x,m.x,c,p,g),AT.initNonuniformCatmullRom(f.y,b.y,_.y,m.y,c,p,g),MT.initNonuniformCatmullRom(f.z,b.z,_.z,m.z,c,p,g)}else this.curveType==="catmullrom"&&(wT.initCatmullRom(f.x,b.x,_.x,m.x,this.tension),AT.initCatmullRom(f.y,b.y,_.y,m.y,this.tension),MT.initCatmullRom(f.z,b.z,_.z,m.z,this.tension));return r.set(wT.calc(u),AT.calc(u),MT.calc(u)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const a=e.points[t];this.points.push(a.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const a=this.points[t];e.points.push(a.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const a=e.points[t];this.points.push(new be().fromArray(a))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function T3(n,e,t,r,a){const o=(r-e)*.5,l=(a-t)*.5,s=n*n,u=n*s;return(2*t-2*r+o+l)*u+(-3*t+3*r-2*o-l)*s+o*n+t}function Nae(n,e){const t=1-n;return t*t*e}function zae(n,e){return 2*(1-n)*n*e}function Uae(n,e){return n*n*e}function Hb(n,e,t,r){return Nae(n,e)+zae(n,t)+Uae(n,r)}function Fae(n,e){const t=1-n;return t*t*t*e}function Hae(n,e){const t=1-n;return 3*t*t*n*e}function Gae(n,e){return 3*(1-n)*n*n*e}function kae(n,e){return n*n*n*e}function Gb(n,e,t,r,a){return Fae(n,e)+Hae(n,t)+Gae(n,r)+kae(n,a)}class NI extends qc{constructor(e=new Tt,t=new Tt,r=new Tt,a=new Tt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=a}getPoint(e,t=new Tt){const r=t,a=this.v0,o=this.v1,l=this.v2,s=this.v3;return r.set(Gb(e,a.x,o.x,l.x,s.x),Gb(e,a.y,o.y,l.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class o6 extends qc{constructor(e=new be,t=new be,r=new be,a=new be){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=a}getPoint(e,t=new be){const r=t,a=this.v0,o=this.v1,l=this.v2,s=this.v3;return r.set(Gb(e,a.x,o.x,l.x,s.x),Gb(e,a.y,o.y,l.y,s.y),Gb(e,a.z,o.z,l.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class zI extends qc{constructor(e=new Tt,t=new Tt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Tt){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Tt){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class s6 extends qc{constructor(e=new be,t=new be){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new be){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new be){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class UI extends qc{constructor(e=new Tt,t=new Tt,r=new Tt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Tt){const r=t,a=this.v0,o=this.v1,l=this.v2;return r.set(Hb(e,a.x,o.x,l.x),Hb(e,a.y,o.y,l.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class FI extends qc{constructor(e=new be,t=new be,r=new be){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new be){const r=t,a=this.v0,o=this.v1,l=this.v2;return r.set(Hb(e,a.x,o.x,l.x),Hb(e,a.y,o.y,l.y),Hb(e,a.z,o.z,l.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class HI extends qc{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Tt){const r=t,a=this.points,o=(a.length-1)*e,l=Math.floor(o),s=o-l,u=a[l===0?l:l-1],f=a[l],m=a[l>a.length-2?a.length-1:l+1],b=a[l>a.length-3?a.length-1:l+2];return r.set(T3(s,u.x,f.x,m.x,b.x),T3(s,u.y,f.y,m.y,b.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const a=e.points[t];this.points.push(a.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const a=this.points[t];e.points.push(a.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const a=e.points[t];this.points.push(new Tt().fromArray(a))}return this}}var zE=Object.freeze({__proto__:null,ArcCurve:r6,CatmullRomCurve3:a6,CubicBezierCurve:NI,CubicBezierCurve3:o6,EllipseCurve:rA,LineCurve:zI,LineCurve3:s6,QuadraticBezierCurve:UI,QuadraticBezierCurve3:FI,SplineCurve:HI});class l6 extends qc{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new zE[r](t,e))}return this}getPoint(e,t){const r=e*this.getLength(),a=this.getCurveLengths();let o=0;for(;o<a.length;){if(a[o]>=r){const l=a[o]-r,s=this.curves[o],u=s.getLength(),f=u===0?0:1-l/u;return s.getPointAt(f,t)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,a=this.curves.length;r<a;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let a=0,o=this.curves;a<o.length;a++){const l=o[a],s=l.isEllipseCurve?e*2:l.isLineCurve||l.isLineCurve3?1:l.isSplineCurve?e*l.points.length:e,u=l.getPoints(s);for(let f=0;f<u.length;f++){const m=u[f];r&&r.equals(m)||(t.push(m),r=m)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const a=e.curves[t];this.curves.push(a.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const a=this.curves[t];e.curves.push(a.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const a=e.curves[t];this.curves.push(new zE[a.type]().fromJSON(a))}return this}}class pS extends l6{constructor(e){super(),this.type="Path",this.currentPoint=new Tt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new zI(this.currentPoint.clone(),new Tt(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,a){const o=new UI(this.currentPoint.clone(),new Tt(e,t),new Tt(r,a));return this.curves.push(o),this.currentPoint.set(r,a),this}bezierCurveTo(e,t,r,a,o,l){const s=new NI(this.currentPoint.clone(),new Tt(e,t),new Tt(r,a),new Tt(o,l));return this.curves.push(s),this.currentPoint.set(o,l),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new HI(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,a,o,l){const s=this.currentPoint.x,u=this.currentPoint.y;return this.absarc(e+s,t+u,r,a,o,l),this}absarc(e,t,r,a,o,l){return this.absellipse(e,t,r,r,a,o,l),this}ellipse(e,t,r,a,o,l,s,u){const f=this.currentPoint.x,m=this.currentPoint.y;return this.absellipse(e+f,t+m,r,a,o,l,s,u),this}absellipse(e,t,r,a,o,l,s,u){const f=new rA(e,t,r,a,o,l,s,u);if(this.curves.length>0){const b=f.getPoint(0);b.equals(this.currentPoint)||this.lineTo(b.x,b.y)}this.curves.push(f);const m=f.getPoint(1);return this.currentPoint.copy(m),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class XS extends ni{constructor(e=[new Tt(0,-.5),new Tt(.5,0),new Tt(0,.5)],t=12,r=0,a=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:a},t=Math.floor(t),a=Jn(a,0,Math.PI*2);const o=[],l=[],s=[],u=[],f=[],m=1/t,b=new be,_=new Tt,E=new be,c=new be,p=new be;let g=0,y=0;for(let C=0;C<=e.length-1;C++)switch(C){case 0:g=e[C+1].x-e[C].x,y=e[C+1].y-e[C].y,E.x=y*1,E.y=-g,E.z=y*0,p.copy(E),E.normalize(),u.push(E.x,E.y,E.z);break;case e.length-1:u.push(p.x,p.y,p.z);break;default:g=e[C+1].x-e[C].x,y=e[C+1].y-e[C].y,E.x=y*1,E.y=-g,E.z=y*0,c.copy(E),E.x+=p.x,E.y+=p.y,E.z+=p.z,E.normalize(),u.push(E.x,E.y,E.z),p.copy(c)}for(let C=0;C<=t;C++){const T=r+C*m*a,M=Math.sin(T),O=Math.cos(T);for(let B=0;B<=e.length-1;B++){b.x=e[B].x*M,b.y=e[B].y,b.z=e[B].x*O,l.push(b.x,b.y,b.z),_.x=C/t,_.y=B/(e.length-1),s.push(_.x,_.y);const D=u[3*B+0]*M,F=u[3*B+1],z=u[3*B+0]*O;f.push(D,F,z)}}for(let C=0;C<t;C++)for(let T=0;T<e.length-1;T++){const M=T+C*e.length,O=M,B=M+e.length,D=M+e.length+1,F=M+1;o.push(O,B,F),o.push(D,F,B)}this.setIndex(o),this.setAttribute("position",new vn(l,3)),this.setAttribute("uv",new vn(s,2)),this.setAttribute("normal",new vn(f,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new XS(e.points,e.segments,e.phiStart,e.phiLength)}}class aA extends XS{constructor(e=1,t=1,r=4,a=8){const o=new pS;o.absarc(0,-t/2,e,Math.PI*1.5,0),o.absarc(0,t/2,e,0,Math.PI*.5),super(o.getPoints(r),a),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:r,radialSegments:a}}static fromJSON(e){return new aA(e.radius,e.length,e.capSegments,e.radialSegments)}}class oA extends ni{constructor(e=1,t=32,r=0,a=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:a},t=Math.max(3,t);const o=[],l=[],s=[],u=[],f=new be,m=new Tt;l.push(0,0,0),s.push(0,0,1),u.push(.5,.5);for(let b=0,_=3;b<=t;b++,_+=3){const E=r+b/t*a;f.x=e*Math.cos(E),f.y=e*Math.sin(E),l.push(f.x,f.y,f.z),s.push(0,0,1),m.x=(l[_]/e+1)/2,m.y=(l[_+1]/e+1)/2,u.push(m.x,m.y)}for(let b=1;b<=t;b++)o.push(b,b+1,0);this.setIndex(o),this.setAttribute("position",new vn(l,3)),this.setAttribute("normal",new vn(s,3)),this.setAttribute("uv",new vn(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new oA(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class U0 extends ni{constructor(e=1,t=1,r=1,a=32,o=1,l=!1,s=0,u=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:a,heightSegments:o,openEnded:l,thetaStart:s,thetaLength:u};const f=this;a=Math.floor(a),o=Math.floor(o);const m=[],b=[],_=[],E=[];let c=0;const p=[],g=r/2;let y=0;C(),l===!1&&(e>0&&T(!0),t>0&&T(!1)),this.setIndex(m),this.setAttribute("position",new vn(b,3)),this.setAttribute("normal",new vn(_,3)),this.setAttribute("uv",new vn(E,2));function C(){const M=new be,O=new be;let B=0;const D=(t-e)/r;for(let F=0;F<=o;F++){const z=[],U=F/o,$=U*(t-e)+e;for(let J=0;J<=a;J++){const W=J/a,Q=W*u+s,ae=Math.sin(Q),Y=Math.cos(Q);O.x=$*ae,O.y=-U*r+g,O.z=$*Y,b.push(O.x,O.y,O.z),M.set(ae,D,Y).normalize(),_.push(M.x,M.y,M.z),E.push(W,1-U),z.push(c++)}p.push(z)}for(let F=0;F<a;F++)for(let z=0;z<o;z++){const U=p[z][F],$=p[z+1][F],J=p[z+1][F+1],W=p[z][F+1];(e>0||z!==0)&&(m.push(U,$,W),B+=3),(t>0||z!==o-1)&&(m.push($,J,W),B+=3)}f.addGroup(y,B,0),y+=B}function T(M){const O=c,B=new Tt,D=new be;let F=0;const z=M===!0?e:t,U=M===!0?1:-1;for(let J=1;J<=a;J++)b.push(0,g*U,0),_.push(0,U,0),E.push(.5,.5),c++;const $=c;for(let J=0;J<=a;J++){const Q=J/a*u+s,ae=Math.cos(Q),Y=Math.sin(Q);D.x=z*Y,D.y=g*U,D.z=z*ae,b.push(D.x,D.y,D.z),_.push(0,U,0),B.x=ae*.5+.5,B.y=Y*.5*U+.5,E.push(B.x,B.y),c++}for(let J=0;J<a;J++){const W=O+J,Q=$+J;M===!0?m.push(Q,Q+1,W):m.push(Q+1,Q,W),F+=3}f.addGroup(y,F,M===!0?1:2),y+=F}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new U0(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class sA extends U0{constructor(e=1,t=1,r=32,a=1,o=!1,l=0,s=Math.PI*2){super(0,e,t,r,a,o,l,s),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:a,openEnded:o,thetaStart:l,thetaLength:s}}static fromJSON(e){return new sA(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Xh extends ni{constructor(e=[],t=[],r=1,a=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:a};const o=[],l=[];s(a),f(r),m(),this.setAttribute("position",new vn(o,3)),this.setAttribute("normal",new vn(o.slice(),3)),this.setAttribute("uv",new vn(l,2)),a===0?this.computeVertexNormals():this.normalizeNormals();function s(C){const T=new be,M=new be,O=new be;for(let B=0;B<t.length;B+=3)E(t[B+0],T),E(t[B+1],M),E(t[B+2],O),u(T,M,O,C)}function u(C,T,M,O){const B=O+1,D=[];for(let F=0;F<=B;F++){D[F]=[];const z=C.clone().lerp(M,F/B),U=T.clone().lerp(M,F/B),$=B-F;for(let J=0;J<=$;J++)J===0&&F===B?D[F][J]=z:D[F][J]=z.clone().lerp(U,J/$)}for(let F=0;F<B;F++)for(let z=0;z<2*(B-F)-1;z++){const U=Math.floor(z/2);z%2===0?(_(D[F][U+1]),_(D[F+1][U]),_(D[F][U])):(_(D[F][U+1]),_(D[F+1][U+1]),_(D[F+1][U]))}}function f(C){const T=new be;for(let M=0;M<o.length;M+=3)T.x=o[M+0],T.y=o[M+1],T.z=o[M+2],T.normalize().multiplyScalar(C),o[M+0]=T.x,o[M+1]=T.y,o[M+2]=T.z}function m(){const C=new be;for(let T=0;T<o.length;T+=3){C.x=o[T+0],C.y=o[T+1],C.z=o[T+2];const M=g(C)/2/Math.PI+.5,O=y(C)/Math.PI+.5;l.push(M,1-O)}c(),b()}function b(){for(let C=0;C<l.length;C+=6){const T=l[C+0],M=l[C+2],O=l[C+4],B=Math.max(T,M,O),D=Math.min(T,M,O);B>.9&&D<.1&&(T<.2&&(l[C+0]+=1),M<.2&&(l[C+2]+=1),O<.2&&(l[C+4]+=1))}}function _(C){o.push(C.x,C.y,C.z)}function E(C,T){const M=C*3;T.x=e[M+0],T.y=e[M+1],T.z=e[M+2]}function c(){const C=new be,T=new be,M=new be,O=new be,B=new Tt,D=new Tt,F=new Tt;for(let z=0,U=0;z<o.length;z+=9,U+=6){C.set(o[z+0],o[z+1],o[z+2]),T.set(o[z+3],o[z+4],o[z+5]),M.set(o[z+6],o[z+7],o[z+8]),B.set(l[U+0],l[U+1]),D.set(l[U+2],l[U+3]),F.set(l[U+4],l[U+5]),O.copy(C).add(T).add(M).divideScalar(3);const $=g(O);p(B,U+0,C,$),p(D,U+2,T,$),p(F,U+4,M,$)}}function p(C,T,M,O){O<0&&C.x===1&&(l[T]=C.x-1),M.x===0&&M.z===0&&(l[T]=O/2/Math.PI+.5)}function g(C){return Math.atan2(C.z,-C.x)}function y(C){return Math.atan2(-C.y,Math.sqrt(C.x*C.x+C.z*C.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Xh(e.vertices,e.indices,e.radius,e.details)}}class lA extends Xh{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,a=1/r,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-a,-r,0,-a,r,0,a,-r,0,a,r,-a,-r,0,-a,r,0,a,-r,0,a,r,0,-r,0,-a,r,0,-a,-r,0,a,r,0,a],l=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,l,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new lA(e.radius,e.detail)}}const aC=new be,oC=new be,TT=new be,sC=new Os;class c6 extends ni{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const a=Math.pow(10,4),o=Math.cos(wm*t),l=e.getIndex(),s=e.getAttribute("position"),u=l?l.count:s.count,f=[0,0,0],m=["a","b","c"],b=new Array(3),_={},E=[];for(let c=0;c<u;c+=3){l?(f[0]=l.getX(c),f[1]=l.getX(c+1),f[2]=l.getX(c+2)):(f[0]=c,f[1]=c+1,f[2]=c+2);const{a:p,b:g,c:y}=sC;if(p.fromBufferAttribute(s,f[0]),g.fromBufferAttribute(s,f[1]),y.fromBufferAttribute(s,f[2]),sC.getNormal(TT),b[0]=`${Math.round(p.x*a)},${Math.round(p.y*a)},${Math.round(p.z*a)}`,b[1]=`${Math.round(g.x*a)},${Math.round(g.y*a)},${Math.round(g.z*a)}`,b[2]=`${Math.round(y.x*a)},${Math.round(y.y*a)},${Math.round(y.z*a)}`,!(b[0]===b[1]||b[1]===b[2]||b[2]===b[0]))for(let C=0;C<3;C++){const T=(C+1)%3,M=b[C],O=b[T],B=sC[m[C]],D=sC[m[T]],F=`${M}_${O}`,z=`${O}_${M}`;z in _&&_[z]?(TT.dot(_[z].normal)<=o&&(E.push(B.x,B.y,B.z),E.push(D.x,D.y,D.z)),_[z]=null):F in _||(_[F]={index0:f[C],index1:f[T],normal:TT.clone()})}}for(const c in _)if(_[c]){const{index0:p,index1:g}=_[c];aC.fromBufferAttribute(s,p),oC.fromBufferAttribute(s,g),E.push(aC.x,aC.y,aC.z),E.push(oC.x,oC.y,oC.z)}this.setAttribute("position",new vn(E,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Am extends pS{constructor(e){super(e),this.uuid=rl(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,a=this.holes.length;r<a;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const a=e.holes[t];this.holes.push(a.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const a=this.holes[t];e.holes.push(a.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const a=e.holes[t];this.holes.push(new pS().fromJSON(a))}return this}}class $ae{static triangulate(e,t,r=2){const a=t&&t.length,o=a?t[0]*r:e.length;let l=u6(e,0,o,r,!0);const s=[];if(!l||l.next===l.prev)return s;let u,f,m,b,_,E,c;if(a&&(l=Yae(e,t,l,r)),e.length>80*r){u=m=e[0],f=b=e[1];for(let p=r;p<o;p+=r)_=e[p],E=e[p+1],_<u&&(u=_),E<f&&(f=E),_>m&&(m=_),E>b&&(b=E);c=Math.max(m-u,b-f),c=c!==0?32767/c:0}return mS(l,s,r,u,f,c,0),s}}function u6(n,e,t,r,a){let o,l;if(a===aoe(n,e,t,r)>0)for(o=e;o<t;o+=r)l=R3(o,n[o],n[o+1],l);else for(o=t-r;o>=e;o-=r)l=R3(o,n[o],n[o+1],l);return l&&cA(l,l.next)&&(vS(l),l=l.next),l}function Bm(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(cA(t,t.next)||qr(t.prev,t,t.next)===0)){if(vS(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function mS(n,e,t,r,a,o,l){if(!n)return;!l&&o&&Zae(n,r,a,o);let s=n,u,f;for(;n.prev!==n.next;){if(u=n.prev,f=n.next,o?jae(n,r,a,o):Vae(n)){e.push(u.i/t|0),e.push(n.i/t|0),e.push(f.i/t|0),vS(n),n=f.next,s=f.next;continue}if(n=f,n===s){l?l===1?(n=Wae(Bm(n),e,t),mS(n,e,t,r,a,o,2)):l===2&&Xae(n,e,t,r,a,o):mS(Bm(n),e,t,r,a,o,1);break}}}function Vae(n){const e=n.prev,t=n,r=n.next;if(qr(e,t,r)>=0)return!1;const a=e.x,o=t.x,l=r.x,s=e.y,u=t.y,f=r.y,m=a<o?a<l?a:l:o<l?o:l,b=s<u?s<f?s:f:u<f?u:f,_=a>o?a>l?a:l:o>l?o:l,E=s>u?s>f?s:f:u>f?u:f;let c=r.next;for(;c!==e;){if(c.x>=m&&c.x<=_&&c.y>=b&&c.y<=E&&Fv(a,s,o,u,l,f,c.x,c.y)&&qr(c.prev,c,c.next)>=0)return!1;c=c.next}return!0}function jae(n,e,t,r){const a=n.prev,o=n,l=n.next;if(qr(a,o,l)>=0)return!1;const s=a.x,u=o.x,f=l.x,m=a.y,b=o.y,_=l.y,E=s<u?s<f?s:f:u<f?u:f,c=m<b?m<_?m:_:b<_?b:_,p=s>u?s>f?s:f:u>f?u:f,g=m>b?m>_?m:_:b>_?b:_,y=L2(E,c,e,t,r),C=L2(p,g,e,t,r);let T=n.prevZ,M=n.nextZ;for(;T&&T.z>=y&&M&&M.z<=C;){if(T.x>=E&&T.x<=p&&T.y>=c&&T.y<=g&&T!==a&&T!==l&&Fv(s,m,u,b,f,_,T.x,T.y)&&qr(T.prev,T,T.next)>=0||(T=T.prevZ,M.x>=E&&M.x<=p&&M.y>=c&&M.y<=g&&M!==a&&M!==l&&Fv(s,m,u,b,f,_,M.x,M.y)&&qr(M.prev,M,M.next)>=0))return!1;M=M.nextZ}for(;T&&T.z>=y;){if(T.x>=E&&T.x<=p&&T.y>=c&&T.y<=g&&T!==a&&T!==l&&Fv(s,m,u,b,f,_,T.x,T.y)&&qr(T.prev,T,T.next)>=0)return!1;T=T.prevZ}for(;M&&M.z<=C;){if(M.x>=E&&M.x<=p&&M.y>=c&&M.y<=g&&M!==a&&M!==l&&Fv(s,m,u,b,f,_,M.x,M.y)&&qr(M.prev,M,M.next)>=0)return!1;M=M.nextZ}return!0}function Wae(n,e,t){let r=n;do{const a=r.prev,o=r.next.next;!cA(a,o)&&d6(a,r,r.next,o)&&gS(a,o)&&gS(o,a)&&(e.push(a.i/t|0),e.push(r.i/t|0),e.push(o.i/t|0),vS(r),vS(r.next),r=n=o),r=r.next}while(r!==n);return Bm(r)}function Xae(n,e,t,r,a,o){let l=n;do{let s=l.next.next;for(;s!==l.prev;){if(l.i!==s.i&&noe(l,s)){let u=f6(l,s);l=Bm(l,l.next),u=Bm(u,u.next),mS(l,e,t,r,a,o,0),mS(u,e,t,r,a,o,0);return}s=s.next}l=l.next}while(l!==n)}function Yae(n,e,t,r){const a=[];let o,l,s,u,f;for(o=0,l=e.length;o<l;o++)s=e[o]*r,u=o<l-1?e[o+1]*r:n.length,f=u6(n,s,u,r,!1),f===f.next&&(f.steiner=!0),a.push(toe(f));for(a.sort(qae),o=0;o<a.length;o++)t=Kae(a[o],t);return t}function qae(n,e){return n.x-e.x}function Kae(n,e){const t=Jae(n,e);if(!t)return e;const r=f6(t,n);return Bm(r,r.next),Bm(t,t.next)}function Jae(n,e){let t=e,r=-1/0,a;const o=n.x,l=n.y;do{if(l<=t.y&&l>=t.next.y&&t.next.y!==t.y){const _=t.x+(l-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(_<=o&&_>r&&(r=_,a=t.x<t.next.x?t:t.next,_===o))return a}t=t.next}while(t!==e);if(!a)return null;const s=a,u=a.x,f=a.y;let m=1/0,b;t=a;do o>=t.x&&t.x>=u&&o!==t.x&&Fv(l<f?o:r,l,u,f,l<f?r:o,l,t.x,t.y)&&(b=Math.abs(l-t.y)/(o-t.x),gS(t,n)&&(b<m||b===m&&(t.x>a.x||t.x===a.x&&Qae(a,t)))&&(a=t,m=b)),t=t.next;while(t!==s);return a}function Qae(n,e){return qr(n.prev,n,e.prev)<0&&qr(e.next,n,n.next)<0}function Zae(n,e,t,r){let a=n;do a.z===0&&(a.z=L2(a.x,a.y,e,t,r)),a.prevZ=a.prev,a.nextZ=a.next,a=a.next;while(a!==n);a.prevZ.nextZ=null,a.prevZ=null,eoe(a)}function eoe(n){let e,t,r,a,o,l,s,u,f=1;do{for(t=n,n=null,o=null,l=0;t;){for(l++,r=t,s=0,e=0;e<f&&(s++,r=r.nextZ,!!r);e++);for(u=f;s>0||u>0&&r;)s!==0&&(u===0||!r||t.z<=r.z)?(a=t,t=t.nextZ,s--):(a=r,r=r.nextZ,u--),o?o.nextZ=a:n=a,a.prevZ=o,o=a;t=r}o.nextZ=null,f*=2}while(l>1);return n}function L2(n,e,t,r,a){return n=(n-t)*a|0,e=(e-r)*a|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function toe(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Fv(n,e,t,r,a,o,l,s){return(a-l)*(e-s)>=(n-l)*(o-s)&&(n-l)*(r-s)>=(t-l)*(e-s)&&(t-l)*(o-s)>=(a-l)*(r-s)}function noe(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!ioe(n,e)&&(gS(n,e)&&gS(e,n)&&roe(n,e)&&(qr(n.prev,n,e.prev)||qr(n,e.prev,e))||cA(n,e)&&qr(n.prev,n,n.next)>0&&qr(e.prev,e,e.next)>0)}function qr(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function cA(n,e){return n.x===e.x&&n.y===e.y}function d6(n,e,t,r){const a=cC(qr(n,e,t)),o=cC(qr(n,e,r)),l=cC(qr(t,r,n)),s=cC(qr(t,r,e));return!!(a!==o&&l!==s||a===0&&lC(n,t,e)||o===0&&lC(n,r,e)||l===0&&lC(t,n,r)||s===0&&lC(t,e,r))}function lC(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function cC(n){return n>0?1:n<0?-1:0}function ioe(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&d6(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function gS(n,e){return qr(n.prev,n,n.next)<0?qr(n,e,n.next)>=0&&qr(n,n.prev,e)>=0:qr(n,e,n.prev)<0||qr(n,n.next,e)<0}function roe(n,e){let t=n,r=!1;const a=(n.x+e.x)/2,o=(n.y+e.y)/2;do t.y>o!=t.next.y>o&&t.next.y!==t.y&&a<(t.next.x-t.x)*(o-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function f6(n,e){const t=new N2(n.i,n.x,n.y),r=new N2(e.i,e.x,e.y),a=n.next,o=e.prev;return n.next=e,e.prev=n,t.next=a,a.prev=t,r.next=t,t.prev=r,o.next=r,r.prev=o,r}function R3(n,e,t,r){const a=new N2(n,e,t);return r?(a.next=r.next,a.prev=r,r.next.prev=a,r.next=a):(a.prev=a,a.next=a),a}function vS(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function N2(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function aoe(n,e,t,r){let a=0;for(let o=e,l=t-r;o<t;o+=r)a+=(n[l]-n[o])*(n[o+1]+n[l+1]),l=o;return a}class Ju{static area(e){const t=e.length;let r=0;for(let a=t-1,o=0;o<t;a=o++)r+=e[a].x*e[o].y-e[o].x*e[a].y;return r*.5}static isClockWise(e){return Ju.area(e)<0}static triangulateShape(e,t){const r=[],a=[],o=[];O3(e),I3(r,e);let l=e.length;t.forEach(O3);for(let u=0;u<t.length;u++)a.push(l),l+=t[u].length,I3(r,t[u]);const s=$ae.triangulate(r,a);for(let u=0;u<s.length;u+=3)o.push(s.slice(u,u+3));return o}}function O3(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function I3(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class uA extends ni{constructor(e=new Am([new Tt(.5,.5),new Tt(-.5,.5),new Tt(-.5,-.5),new Tt(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,a=[],o=[];for(let s=0,u=e.length;s<u;s++){const f=e[s];l(f)}this.setAttribute("position",new vn(a,3)),this.setAttribute("uv",new vn(o,2)),this.computeVertexNormals();function l(s){const u=[],f=t.curveSegments!==void 0?t.curveSegments:12,m=t.steps!==void 0?t.steps:1,b=t.depth!==void 0?t.depth:1;let _=t.bevelEnabled!==void 0?t.bevelEnabled:!0,E=t.bevelThickness!==void 0?t.bevelThickness:.2,c=t.bevelSize!==void 0?t.bevelSize:E-.1,p=t.bevelOffset!==void 0?t.bevelOffset:0,g=t.bevelSegments!==void 0?t.bevelSegments:3;const y=t.extrudePath,C=t.UVGenerator!==void 0?t.UVGenerator:ooe;let T,M=!1,O,B,D,F;y&&(T=y.getSpacedPoints(m),M=!0,_=!1,O=y.computeFrenetFrames(m,!1),B=new be,D=new be,F=new be),_||(g=0,E=0,c=0,p=0);const z=s.extractPoints(f);let U=z.shape;const $=z.holes;if(!Ju.isClockWise(U)){U=U.reverse();for(let Be=0,Ce=$.length;Be<Ce;Be++){const re=$[Be];Ju.isClockWise(re)&&($[Be]=re.reverse())}}const W=Ju.triangulateShape(U,$),Q=U;for(let Be=0,Ce=$.length;Be<Ce;Be++){const re=$[Be];U=U.concat(re)}function ae(Be,Ce,re){return Ce||console.error("THREE.ExtrudeGeometry: vec does not exist"),Be.clone().addScaledVector(Ce,re)}const Y=U.length,K=W.length;function ee(Be,Ce,re){let Fe,Ie,qe;const $e=Be.x-Ce.x,ct=Be.y-Ce.y,st=re.x-Be.x,ce=re.y-Be.y,oe=$e*$e+ct*ct,we=$e*ce-ct*st;if(Math.abs(we)>Number.EPSILON){const De=Math.sqrt(oe),Ke=Math.sqrt(st*st+ce*ce),He=Ce.x-ct/De,gt=Ce.y+$e/De,lt=re.x-ce/Ke,pt=re.y+st/Ke,It=((lt-He)*ce-(pt-gt)*st)/($e*ce-ct*st);Fe=He+$e*It-Be.x,Ie=gt+ct*It-Be.y;const ot=Fe*Fe+Ie*Ie;if(ot<=2)return new Tt(Fe,Ie);qe=Math.sqrt(ot/2)}else{let De=!1;$e>Number.EPSILON?st>Number.EPSILON&&(De=!0):$e<-Number.EPSILON?st<-Number.EPSILON&&(De=!0):Math.sign(ct)===Math.sign(ce)&&(De=!0),De?(Fe=-ct,Ie=$e,qe=Math.sqrt(oe)):(Fe=$e,Ie=ct,qe=Math.sqrt(oe/2))}return new Tt(Fe/qe,Ie/qe)}const de=[];for(let Be=0,Ce=Q.length,re=Ce-1,Fe=Be+1;Be<Ce;Be++,re++,Fe++)re===Ce&&(re=0),Fe===Ce&&(Fe=0),de[Be]=ee(Q[Be],Q[re],Q[Fe]);const q=[];let ie,he=de.concat();for(let Be=0,Ce=$.length;Be<Ce;Be++){const re=$[Be];ie=[];for(let Fe=0,Ie=re.length,qe=Ie-1,$e=Fe+1;Fe<Ie;Fe++,qe++,$e++)qe===Ie&&(qe=0),$e===Ie&&($e=0),ie[Fe]=ee(re[Fe],re[qe],re[$e]);q.push(ie),he=he.concat(ie)}for(let Be=0;Be<g;Be++){const Ce=Be/g,re=E*Math.cos(Ce*Math.PI/2),Fe=c*Math.sin(Ce*Math.PI/2)+p;for(let Ie=0,qe=Q.length;Ie<qe;Ie++){const $e=ae(Q[Ie],de[Ie],Fe);Oe($e.x,$e.y,-re)}for(let Ie=0,qe=$.length;Ie<qe;Ie++){const $e=$[Ie];ie=q[Ie];for(let ct=0,st=$e.length;ct<st;ct++){const ce=ae($e[ct],ie[ct],Fe);Oe(ce.x,ce.y,-re)}}}const fe=c+p;for(let Be=0;Be<Y;Be++){const Ce=_?ae(U[Be],he[Be],fe):U[Be];M?(D.copy(O.normals[0]).multiplyScalar(Ce.x),B.copy(O.binormals[0]).multiplyScalar(Ce.y),F.copy(T[0]).add(D).add(B),Oe(F.x,F.y,F.z)):Oe(Ce.x,Ce.y,0)}for(let Be=1;Be<=m;Be++)for(let Ce=0;Ce<Y;Ce++){const re=_?ae(U[Ce],he[Ce],fe):U[Ce];M?(D.copy(O.normals[Be]).multiplyScalar(re.x),B.copy(O.binormals[Be]).multiplyScalar(re.y),F.copy(T[Be]).add(D).add(B),Oe(F.x,F.y,F.z)):Oe(re.x,re.y,b/m*Be)}for(let Be=g-1;Be>=0;Be--){const Ce=Be/g,re=E*Math.cos(Ce*Math.PI/2),Fe=c*Math.sin(Ce*Math.PI/2)+p;for(let Ie=0,qe=Q.length;Ie<qe;Ie++){const $e=ae(Q[Ie],de[Ie],Fe);Oe($e.x,$e.y,b+re)}for(let Ie=0,qe=$.length;Ie<qe;Ie++){const $e=$[Ie];ie=q[Ie];for(let ct=0,st=$e.length;ct<st;ct++){const ce=ae($e[ct],ie[ct],Fe);M?Oe(ce.x,ce.y+T[m-1].y,T[m-1].x+re):Oe(ce.x,ce.y,b+re)}}}Z(),pe();function Z(){const Be=a.length/3;if(_){let Ce=0,re=Y*Ce;for(let Fe=0;Fe<K;Fe++){const Ie=W[Fe];Ae(Ie[2]+re,Ie[1]+re,Ie[0]+re)}Ce=m+g*2,re=Y*Ce;for(let Fe=0;Fe<K;Fe++){const Ie=W[Fe];Ae(Ie[0]+re,Ie[1]+re,Ie[2]+re)}}else{for(let Ce=0;Ce<K;Ce++){const re=W[Ce];Ae(re[2],re[1],re[0])}for(let Ce=0;Ce<K;Ce++){const re=W[Ce];Ae(re[0]+Y*m,re[1]+Y*m,re[2]+Y*m)}}r.addGroup(Be,a.length/3-Be,0)}function pe(){const Be=a.length/3;let Ce=0;xe(Q,Ce),Ce+=Q.length;for(let re=0,Fe=$.length;re<Fe;re++){const Ie=$[re];xe(Ie,Ce),Ce+=Ie.length}r.addGroup(Be,a.length/3-Be,1)}function xe(Be,Ce){let re=Be.length;for(;--re>=0;){const Fe=re;let Ie=re-1;Ie<0&&(Ie=Be.length-1);for(let qe=0,$e=m+g*2;qe<$e;qe++){const ct=Y*qe,st=Y*(qe+1),ce=Ce+Fe+ct,oe=Ce+Ie+ct,we=Ce+Ie+st,De=Ce+Fe+st;Te(ce,oe,we,De)}}}function Oe(Be,Ce,re){u.push(Be),u.push(Ce),u.push(re)}function Ae(Be,Ce,re){ze(Be),ze(Ce),ze(re);const Fe=a.length/3,Ie=C.generateTopUV(r,a,Fe-3,Fe-2,Fe-1);yt(Ie[0]),yt(Ie[1]),yt(Ie[2])}function Te(Be,Ce,re,Fe){ze(Be),ze(Ce),ze(Fe),ze(Ce),ze(re),ze(Fe);const Ie=a.length/3,qe=C.generateSideWallUV(r,a,Ie-6,Ie-3,Ie-2,Ie-1);yt(qe[0]),yt(qe[1]),yt(qe[3]),yt(qe[1]),yt(qe[2]),yt(qe[3])}function ze(Be){a.push(u[Be*3+0]),a.push(u[Be*3+1]),a.push(u[Be*3+2])}function yt(Be){o.push(Be.x),o.push(Be.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return soe(t,r,e)}static fromJSON(e,t){const r=[];for(let o=0,l=e.shapes.length;o<l;o++){const s=t[e.shapes[o]];r.push(s)}const a=e.options.extrudePath;return a!==void 0&&(e.options.extrudePath=new zE[a.type]().fromJSON(a)),new uA(r,e.options)}}const ooe={generateTopUV:function(n,e,t,r,a){const o=e[t*3],l=e[t*3+1],s=e[r*3],u=e[r*3+1],f=e[a*3],m=e[a*3+1];return[new Tt(o,l),new Tt(s,u),new Tt(f,m)]},generateSideWallUV:function(n,e,t,r,a,o){const l=e[t*3],s=e[t*3+1],u=e[t*3+2],f=e[r*3],m=e[r*3+1],b=e[r*3+2],_=e[a*3],E=e[a*3+1],c=e[a*3+2],p=e[o*3],g=e[o*3+1],y=e[o*3+2];return Math.abs(s-m)<Math.abs(l-f)?[new Tt(l,1-u),new Tt(f,1-b),new Tt(_,1-c),new Tt(p,1-y)]:[new Tt(s,1-u),new Tt(m,1-b),new Tt(E,1-c),new Tt(g,1-y)]}};function soe(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,a=n.length;r<a;r++){const o=n[r];t.shapes.push(o.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class dA extends Xh{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,a=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(a,o,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new dA(e.radius,e.detail)}}class YS extends Xh{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],a=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,a,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new YS(e.radius,e.detail)}}class F0 extends ni{constructor(e=1,t=1,r=1,a=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:a};const o=e/2,l=t/2,s=Math.floor(r),u=Math.floor(a),f=s+1,m=u+1,b=e/s,_=t/u,E=[],c=[],p=[],g=[];for(let y=0;y<m;y++){const C=y*_-l;for(let T=0;T<f;T++){const M=T*b-o;c.push(M,-C,0),p.push(0,0,1),g.push(T/s),g.push(1-y/u)}}for(let y=0;y<u;y++)for(let C=0;C<s;C++){const T=C+f*y,M=C+f*(y+1),O=C+1+f*(y+1),B=C+1+f*y;E.push(T,M,B),E.push(M,O,B)}this.setIndex(E),this.setAttribute("position",new vn(c,3)),this.setAttribute("normal",new vn(p,3)),this.setAttribute("uv",new vn(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new F0(e.width,e.height,e.widthSegments,e.heightSegments)}}class fA extends ni{constructor(e=.5,t=1,r=32,a=1,o=0,l=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:a,thetaStart:o,thetaLength:l},r=Math.max(3,r),a=Math.max(1,a);const s=[],u=[],f=[],m=[];let b=e;const _=(t-e)/a,E=new be,c=new Tt;for(let p=0;p<=a;p++){for(let g=0;g<=r;g++){const y=o+g/r*l;E.x=b*Math.cos(y),E.y=b*Math.sin(y),u.push(E.x,E.y,E.z),f.push(0,0,1),c.x=(E.x/t+1)/2,c.y=(E.y/t+1)/2,m.push(c.x,c.y)}b+=_}for(let p=0;p<a;p++){const g=p*(r+1);for(let y=0;y<r;y++){const C=y+g,T=C,M=C+r+1,O=C+r+2,B=C+1;s.push(T,M,B),s.push(M,O,B)}}this.setIndex(s),this.setAttribute("position",new vn(u,3)),this.setAttribute("normal",new vn(f,3)),this.setAttribute("uv",new vn(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new fA(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class hA extends ni{constructor(e=new Am([new Tt(0,.5),new Tt(-.5,-.5),new Tt(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],a=[],o=[],l=[];let s=0,u=0;if(Array.isArray(e)===!1)f(e);else for(let m=0;m<e.length;m++)f(e[m]),this.addGroup(s,u,m),s+=u,u=0;this.setIndex(r),this.setAttribute("position",new vn(a,3)),this.setAttribute("normal",new vn(o,3)),this.setAttribute("uv",new vn(l,2));function f(m){const b=a.length/3,_=m.extractPoints(t);let E=_.shape;const c=_.holes;Ju.isClockWise(E)===!1&&(E=E.reverse());for(let g=0,y=c.length;g<y;g++){const C=c[g];Ju.isClockWise(C)===!0&&(c[g]=C.reverse())}const p=Ju.triangulateShape(E,c);for(let g=0,y=c.length;g<y;g++){const C=c[g];E=E.concat(C)}for(let g=0,y=E.length;g<y;g++){const C=E[g];a.push(C.x,C.y,0),o.push(0,0,1),l.push(C.x,C.y)}for(let g=0,y=p.length;g<y;g++){const C=p[g],T=C[0]+b,M=C[1]+b,O=C[2]+b;r.push(T,M,O),u+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return loe(t,e)}static fromJSON(e,t){const r=[];for(let a=0,o=e.shapes.length;a<o;a++){const l=t[e.shapes[a]];r.push(l)}return new hA(r,e.curveSegments)}}function loe(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const a=n[t];e.shapes.push(a.uuid)}else e.shapes.push(n.uuid);return e}class qS extends ni{constructor(e=1,t=32,r=16,a=0,o=Math.PI*2,l=0,s=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:a,phiLength:o,thetaStart:l,thetaLength:s},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const u=Math.min(l+s,Math.PI);let f=0;const m=[],b=new be,_=new be,E=[],c=[],p=[],g=[];for(let y=0;y<=r;y++){const C=[],T=y/r;let M=0;y===0&&l===0?M=.5/t:y===r&&u===Math.PI&&(M=-.5/t);for(let O=0;O<=t;O++){const B=O/t;b.x=-e*Math.cos(a+B*o)*Math.sin(l+T*s),b.y=e*Math.cos(l+T*s),b.z=e*Math.sin(a+B*o)*Math.sin(l+T*s),c.push(b.x,b.y,b.z),_.copy(b).normalize(),p.push(_.x,_.y,_.z),g.push(B+M,1-T),C.push(f++)}m.push(C)}for(let y=0;y<r;y++)for(let C=0;C<t;C++){const T=m[y][C+1],M=m[y][C],O=m[y+1][C],B=m[y+1][C+1];(y!==0||l>0)&&E.push(T,M,B),(y!==r-1||u<Math.PI)&&E.push(M,O,B)}this.setIndex(E),this.setAttribute("position",new vn(c,3)),this.setAttribute("normal",new vn(p,3)),this.setAttribute("uv",new vn(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new qS(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class pA extends Xh{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],a=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,a,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new pA(e.radius,e.detail)}}class mA extends ni{constructor(e=1,t=.4,r=12,a=48,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:a,arc:o},r=Math.floor(r),a=Math.floor(a);const l=[],s=[],u=[],f=[],m=new be,b=new be,_=new be;for(let E=0;E<=r;E++)for(let c=0;c<=a;c++){const p=c/a*o,g=E/r*Math.PI*2;b.x=(e+t*Math.cos(g))*Math.cos(p),b.y=(e+t*Math.cos(g))*Math.sin(p),b.z=t*Math.sin(g),s.push(b.x,b.y,b.z),m.x=e*Math.cos(p),m.y=e*Math.sin(p),_.subVectors(b,m).normalize(),u.push(_.x,_.y,_.z),f.push(c/a),f.push(E/r)}for(let E=1;E<=r;E++)for(let c=1;c<=a;c++){const p=(a+1)*E+c-1,g=(a+1)*(E-1)+c-1,y=(a+1)*(E-1)+c,C=(a+1)*E+c;l.push(p,g,C),l.push(g,y,C)}this.setIndex(l),this.setAttribute("position",new vn(s,3)),this.setAttribute("normal",new vn(u,3)),this.setAttribute("uv",new vn(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new mA(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class gA extends ni{constructor(e=1,t=.4,r=64,a=8,o=2,l=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:a,p:o,q:l},r=Math.floor(r),a=Math.floor(a);const s=[],u=[],f=[],m=[],b=new be,_=new be,E=new be,c=new be,p=new be,g=new be,y=new be;for(let T=0;T<=r;++T){const M=T/r*o*Math.PI*2;C(M,o,l,e,E),C(M+.01,o,l,e,c),g.subVectors(c,E),y.addVectors(c,E),p.crossVectors(g,y),y.crossVectors(p,g),p.normalize(),y.normalize();for(let O=0;O<=a;++O){const B=O/a*Math.PI*2,D=-t*Math.cos(B),F=t*Math.sin(B);b.x=E.x+(D*y.x+F*p.x),b.y=E.y+(D*y.y+F*p.y),b.z=E.z+(D*y.z+F*p.z),u.push(b.x,b.y,b.z),_.subVectors(b,E).normalize(),f.push(_.x,_.y,_.z),m.push(T/r),m.push(O/a)}}for(let T=1;T<=r;T++)for(let M=1;M<=a;M++){const O=(a+1)*(T-1)+(M-1),B=(a+1)*T+(M-1),D=(a+1)*T+M,F=(a+1)*(T-1)+M;s.push(O,B,F),s.push(B,D,F)}this.setIndex(s),this.setAttribute("position",new vn(u,3)),this.setAttribute("normal",new vn(f,3)),this.setAttribute("uv",new vn(m,2));function C(T,M,O,B,D){const F=Math.cos(T),z=Math.sin(T),U=O/M*T,$=Math.cos(U);D.x=B*(2+$)*.5*F,D.y=B*(2+$)*z*.5,D.z=B*Math.sin(U)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gA(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class vA extends ni{constructor(e=new FI(new be(-1,-1,0),new be(-1,1,0),new be(1,1,0)),t=64,r=1,a=8,o=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:a,closed:o};const l=e.computeFrenetFrames(t,o);this.tangents=l.tangents,this.normals=l.normals,this.binormals=l.binormals;const s=new be,u=new be,f=new Tt;let m=new be;const b=[],_=[],E=[],c=[];p(),this.setIndex(c),this.setAttribute("position",new vn(b,3)),this.setAttribute("normal",new vn(_,3)),this.setAttribute("uv",new vn(E,2));function p(){for(let T=0;T<t;T++)g(T);g(o===!1?t:0),C(),y()}function g(T){m=e.getPointAt(T/t,m);const M=l.normals[T],O=l.binormals[T];for(let B=0;B<=a;B++){const D=B/a*Math.PI*2,F=Math.sin(D),z=-Math.cos(D);u.x=z*M.x+F*O.x,u.y=z*M.y+F*O.y,u.z=z*M.z+F*O.z,u.normalize(),_.push(u.x,u.y,u.z),s.x=m.x+r*u.x,s.y=m.y+r*u.y,s.z=m.z+r*u.z,b.push(s.x,s.y,s.z)}}function y(){for(let T=1;T<=t;T++)for(let M=1;M<=a;M++){const O=(a+1)*(T-1)+(M-1),B=(a+1)*T+(M-1),D=(a+1)*T+M,F=(a+1)*(T-1)+M;c.push(O,B,F),c.push(B,D,F)}}function C(){for(let T=0;T<=t;T++)for(let M=0;M<=a;M++)f.x=T/t,f.y=M/a,E.push(f.x,f.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new vA(new zE[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class h6 extends ni{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,a=new be,o=new be;if(e.index!==null){const l=e.attributes.position,s=e.index;let u=e.groups;u.length===0&&(u=[{start:0,count:s.count,materialIndex:0}]);for(let f=0,m=u.length;f<m;++f){const b=u[f],_=b.start,E=b.count;for(let c=_,p=_+E;c<p;c+=3)for(let g=0;g<3;g++){const y=s.getX(c+g),C=s.getX(c+(g+1)%3);a.fromBufferAttribute(l,y),o.fromBufferAttribute(l,C),B3(a,o,r)===!0&&(t.push(a.x,a.y,a.z),t.push(o.x,o.y,o.z))}}}else{const l=e.attributes.position;for(let s=0,u=l.count/3;s<u;s++)for(let f=0;f<3;f++){const m=3*s+f,b=3*s+(f+1)%3;a.fromBufferAttribute(l,m),o.fromBufferAttribute(l,b),B3(a,o,r)===!0&&(t.push(a.x,a.y,a.z),t.push(o.x,o.y,o.z))}}this.setAttribute("position",new vn(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function B3(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,a=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(a)===!0?!1:(t.add(r),t.add(a),!0)}var D3=Object.freeze({__proto__:null,BoxGeometry:Wm,CapsuleGeometry:aA,CircleGeometry:oA,ConeGeometry:sA,CylinderGeometry:U0,DodecahedronGeometry:lA,EdgesGeometry:c6,ExtrudeGeometry:uA,IcosahedronGeometry:dA,LatheGeometry:XS,OctahedronGeometry:YS,PlaneGeometry:F0,PolyhedronGeometry:Xh,RingGeometry:fA,ShapeGeometry:hA,SphereGeometry:qS,TetrahedronGeometry:pA,TorusGeometry:mA,TorusKnotGeometry:gA,TubeGeometry:vA,WireframeGeometry:h6});class p6 extends Pa{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new en(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class m6 extends jc{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class KS extends Pa{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new en(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new en(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Wh,this.normalScale=new Tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ol,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Vl extends KS{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Tt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Jn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new en(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new en(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new en(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class g6 extends Pa{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new en(16777215),this.specular=new en(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new en(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Wh,this.normalScale=new Tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ol,this.combine=HS,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class v6 extends Pa{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new en(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new en(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Wh,this.normalScale=new Tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class y6 extends Pa{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Wh,this.normalScale=new Tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class b6 extends Pa{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new en(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new en(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Wh,this.normalScale=new Tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ol,this.combine=HS,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class GI extends Pa{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=P8,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class kI extends Pa{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class S6 extends Pa{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new en(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Wh,this.normalScale=new Tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class _6 extends Go{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function ym(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function x6(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function C6(n){function e(a,o){return n[a]-n[o]}const t=n.length,r=new Array(t);for(let a=0;a!==t;++a)r[a]=a;return r.sort(e),r}function z2(n,e,t){const r=n.length,a=new n.constructor(r);for(let o=0,l=0;l!==r;++o){const s=t[o]*e;for(let u=0;u!==e;++u)a[l++]=n[s+u]}return a}function $I(n,e,t,r){let a=1,o=n[0];for(;o!==void 0&&o[r]===void 0;)o=n[a++];if(o===void 0)return;let l=o[r];if(l!==void 0)if(Array.isArray(l))do l=o[r],l!==void 0&&(e.push(o.time),t.push(...l)),o=n[a++];while(o!==void 0);else if(l.toArray!==void 0)do l=o[r],l!==void 0&&(e.push(o.time),l.toArray(t,t.length)),o=n[a++];while(o!==void 0);else do l=o[r],l!==void 0&&(e.push(o.time),t.push(l)),o=n[a++];while(o!==void 0)}function coe(n,e,t,r,a=30){const o=n.clone();o.name=e;const l=[];for(let u=0;u<o.tracks.length;++u){const f=o.tracks[u],m=f.getValueSize(),b=[],_=[];for(let E=0;E<f.times.length;++E){const c=f.times[E]*a;if(!(c<t||c>=r)){b.push(f.times[E]);for(let p=0;p<m;++p)_.push(f.values[E*m+p])}}b.length!==0&&(f.times=ym(b,f.times.constructor),f.values=ym(_,f.values.constructor),l.push(f))}o.tracks=l;let s=1/0;for(let u=0;u<o.tracks.length;++u)s>o.tracks[u].times[0]&&(s=o.tracks[u].times[0]);for(let u=0;u<o.tracks.length;++u)o.tracks[u].shift(-1*s);return o.resetDuration(),o}function uoe(n,e=0,t=n,r=30){r<=0&&(r=30);const a=t.tracks.length,o=e/r;for(let l=0;l<a;++l){const s=t.tracks[l],u=s.ValueTypeName;if(u==="bool"||u==="string")continue;const f=n.tracks.find(function(y){return y.name===s.name&&y.ValueTypeName===u});if(f===void 0)continue;let m=0;const b=s.getValueSize();s.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=b/3);let _=0;const E=f.getValueSize();f.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(_=E/3);const c=s.times.length-1;let p;if(o<=s.times[0]){const y=m,C=b-m;p=s.values.slice(y,C)}else if(o>=s.times[c]){const y=c*b+m,C=y+b-m;p=s.values.slice(y,C)}else{const y=s.createInterpolant(),C=m,T=b-m;y.evaluate(o),p=y.resultBuffer.slice(C,T)}u==="quaternion"&&new eo().fromArray(p).normalize().conjugate().toArray(p);const g=f.times.length;for(let y=0;y<g;++y){const C=y*E+_;if(u==="quaternion")eo.multiplyQuaternionsFlat(f.values,C,p,0,f.values,C);else{const T=E-_*2;for(let M=0;M<T;++M)f.values[C+M]-=p[M]}}}return n.blendMode=xI,n}const doe={convertArray:ym,isTypedArray:x6,getKeyframeOrder:C6,sortedArray:z2,flattenJSON:$I,subclip:coe,makeClipAdditive:uoe};class H0{constructor(e,t,r,a){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=a!==void 0?a:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,a=t[r],o=t[r-1];e:{t:{let l;n:{i:if(!(e<a)){for(let s=r+2;;){if(a===void 0){if(e<o)break i;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===s)break;if(o=a,a=t[++r],e<a)break t}l=t.length;break n}if(!(e>=o)){const s=t[1];e<s&&(r=2,o=s);for(let u=r-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===u)break;if(a=o,o=t[--r-1],e>=o)break t}l=r,r=0;break n}break e}for(;r<l;){const s=r+l>>>1;e<t[s]?l=s:r=s+1}if(a=t[r],o=t[r-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(a===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,o,a)}return this.interpolate_(r,o,e,a)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,a=this.valueSize,o=e*a;for(let l=0;l!==a;++l)t[l]=r[o+l];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class E6 extends H0{constructor(e,t,r,a){super(e,t,r,a),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:gm,endingEnd:gm}}intervalChanged_(e,t,r){const a=this.parameterPositions;let o=e-2,l=e+1,s=a[o],u=a[l];if(s===void 0)switch(this.getSettings_().endingStart){case vm:o=e,s=2*t-r;break;case cS:o=a.length-2,s=t+a[o]-a[o+1];break;default:o=e,s=r}if(u===void 0)switch(this.getSettings_().endingEnd){case vm:l=e,u=2*r-t;break;case cS:l=1,u=r+a[1]-a[0];break;default:l=e-1,u=t}const f=(r-t)*.5,m=this.valueSize;this._weightPrev=f/(t-s),this._weightNext=f/(u-r),this._offsetPrev=o*m,this._offsetNext=l*m}interpolate_(e,t,r,a){const o=this.resultBuffer,l=this.sampleValues,s=this.valueSize,u=e*s,f=u-s,m=this._offsetPrev,b=this._offsetNext,_=this._weightPrev,E=this._weightNext,c=(r-t)/(a-t),p=c*c,g=p*c,y=-_*g+2*_*p-_*c,C=(1+_)*g+(-1.5-2*_)*p+(-.5+_)*c+1,T=(-1-E)*g+(1.5+E)*p+.5*c,M=E*g-E*p;for(let O=0;O!==s;++O)o[O]=y*l[m+O]+C*l[f+O]+T*l[u+O]+M*l[b+O];return o}}class VI extends H0{constructor(e,t,r,a){super(e,t,r,a)}interpolate_(e,t,r,a){const o=this.resultBuffer,l=this.sampleValues,s=this.valueSize,u=e*s,f=u-s,m=(r-t)/(a-t),b=1-m;for(let _=0;_!==s;++_)o[_]=l[f+_]*b+l[u+_]*m;return o}}class w6 extends H0{constructor(e,t,r,a){super(e,t,r,a)}interpolate_(e){return this.copySampleValue_(e-1)}}class Kc{constructor(e,t,r,a){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=ym(t,this.TimeBufferType),this.values=ym(r,this.ValueBufferType),this.setInterpolation(a||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:ym(e.times,Array),values:ym(e.values,Array)};const a=e.getInterpolation();a!==e.DefaultInterpolation&&(r.interpolation=a)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new w6(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new VI(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new E6(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case v0:t=this.InterpolantFactoryMethodDiscrete;break;case y0:t=this.InterpolantFactoryMethodLinear;break;case XC:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return v0;case this.InterpolantFactoryMethodLinear:return y0;case this.InterpolantFactoryMethodSmooth:return XC}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,a=t.length;r!==a;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,a=t.length;r!==a;++r)t[r]*=e}return this}trim(e,t){const r=this.times,a=r.length;let o=0,l=a-1;for(;o!==a&&r[o]<e;)++o;for(;l!==-1&&r[l]>t;)--l;if(++l,o!==0||l!==a){o>=l&&(l=Math.max(l,1),o=l-1);const s=this.getValueSize();this.times=r.slice(o,l),this.values=this.values.slice(o*s,l*s)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,a=this.values,o=r.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let l=null;for(let s=0;s!==o;s++){const u=r[s];if(typeof u=="number"&&isNaN(u)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,s,u),e=!1;break}if(l!==null&&l>u){console.error("THREE.KeyframeTrack: Out of order keys.",this,s,u,l),e=!1;break}l=u}if(a!==void 0&&x6(a))for(let s=0,u=a.length;s!==u;++s){const f=a[s];if(isNaN(f)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,f),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),r=this.getValueSize(),a=this.getInterpolation()===XC,o=e.length-1;let l=1;for(let s=1;s<o;++s){let u=!1;const f=e[s],m=e[s+1];if(f!==m&&(s!==1||f!==e[0]))if(a)u=!0;else{const b=s*r,_=b-r,E=b+r;for(let c=0;c!==r;++c){const p=t[b+c];if(p!==t[_+c]||p!==t[E+c]){u=!0;break}}}if(u){if(s!==l){e[l]=e[s];const b=s*r,_=l*r;for(let E=0;E!==r;++E)t[_+E]=t[b+E]}++l}}if(o>0){e[l]=e[o];for(let s=o*r,u=l*r,f=0;f!==r;++f)t[u+f]=t[s+f];++l}return l!==e.length?(this.times=e.slice(0,l),this.values=t.slice(0,l*r)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),r=this.constructor,a=new r(this.name,e,t);return a.createInterpolant=this.createInterpolant,a}}Kc.prototype.TimeBufferType=Float32Array;Kc.prototype.ValueBufferType=Float32Array;Kc.prototype.DefaultInterpolation=y0;class Xm extends Kc{constructor(e,t,r){super(e,t,r)}}Xm.prototype.ValueTypeName="bool";Xm.prototype.ValueBufferType=Array;Xm.prototype.DefaultInterpolation=v0;Xm.prototype.InterpolantFactoryMethodLinear=void 0;Xm.prototype.InterpolantFactoryMethodSmooth=void 0;class jI extends Kc{}jI.prototype.ValueTypeName="color";class Dm extends Kc{}Dm.prototype.ValueTypeName="number";class A6 extends H0{constructor(e,t,r,a){super(e,t,r,a)}interpolate_(e,t,r,a){const o=this.resultBuffer,l=this.sampleValues,s=this.valueSize,u=(r-t)/(a-t);let f=e*s;for(let m=f+s;f!==m;f+=4)eo.slerpFlat(o,0,l,f-s,l,f,u);return o}}class Pm extends Kc{InterpolantFactoryMethodLinear(e){return new A6(this.times,this.values,this.getValueSize(),e)}}Pm.prototype.ValueTypeName="quaternion";Pm.prototype.InterpolantFactoryMethodSmooth=void 0;class Ym extends Kc{constructor(e,t,r){super(e,t,r)}}Ym.prototype.ValueTypeName="string";Ym.prototype.ValueBufferType=Array;Ym.prototype.DefaultInterpolation=v0;Ym.prototype.InterpolantFactoryMethodLinear=void 0;Ym.prototype.InterpolantFactoryMethodSmooth=void 0;class Lm extends Kc{}Lm.prototype.ValueTypeName="vector";class x0{constructor(e="",t=-1,r=[],a=qw){this.name=e,this.tracks=r,this.duration=t,this.blendMode=a,this.uuid=rl(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,a=1/(e.fps||1);for(let l=0,s=r.length;l!==s;++l)t.push(hoe(r[l]).scale(a));const o=new this(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){const t=[],r=e.tracks,a={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,l=r.length;o!==l;++o)t.push(Kc.toJSON(r[o]));return a}static CreateFromMorphTargetSequence(e,t,r,a){const o=t.length,l=[];for(let s=0;s<o;s++){let u=[],f=[];u.push((s+o-1)%o,s,(s+1)%o),f.push(0,1,0);const m=C6(u);u=z2(u,1,m),f=z2(f,1,m),!a&&u[0]===0&&(u.push(o),f.push(f[0])),l.push(new Dm(".morphTargetInfluences["+t[s].name+"]",u,f).scale(1/r))}return new this(e,-1,l)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const a=e;r=a.geometry&&a.geometry.animations||a.animations}for(let a=0;a<r.length;a++)if(r[a].name===t)return r[a];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const a={},o=/^([\w-]*?)([\d]+)$/;for(let s=0,u=e.length;s<u;s++){const f=e[s],m=f.name.match(o);if(m&&m.length>1){const b=m[1];let _=a[b];_||(a[b]=_=[]),_.push(f)}}const l=[];for(const s in a)l.push(this.CreateFromMorphTargetSequence(s,a[s],t,r));return l}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(b,_,E,c,p){if(E.length!==0){const g=[],y=[];$I(E,g,y,c),g.length!==0&&p.push(new b(_,g,y))}},a=[],o=e.name||"default",l=e.fps||30,s=e.blendMode;let u=e.length||-1;const f=e.hierarchy||[];for(let b=0;b<f.length;b++){const _=f[b].keys;if(!(!_||_.length===0))if(_[0].morphTargets){const E={};let c;for(c=0;c<_.length;c++)if(_[c].morphTargets)for(let p=0;p<_[c].morphTargets.length;p++)E[_[c].morphTargets[p]]=-1;for(const p in E){const g=[],y=[];for(let C=0;C!==_[c].morphTargets.length;++C){const T=_[c];g.push(T.time),y.push(T.morphTarget===p?1:0)}a.push(new Dm(".morphTargetInfluence["+p+"]",g,y))}u=E.length*l}else{const E=".bones["+t[b].name+"]";r(Lm,E+".position",_,"pos",a),r(Pm,E+".quaternion",_,"rot",a),r(Lm,E+".scale",_,"scl",a)}}return a.length===0?null:new this(o,u,a,s)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,a=e.length;r!==a;++r){const o=this.tracks[r];t=Math.max(t,o.times[o.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function foe(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Dm;case"vector":case"vector2":case"vector3":case"vector4":return Lm;case"color":return jI;case"quaternion":return Pm;case"bool":case"boolean":return Xm;case"string":return Ym}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function hoe(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=foe(n.type);if(n.times===void 0){const t=[],r=[];$I(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const sf={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class WI{constructor(e,t,r){const a=this;let o=!1,l=0,s=0,u;const f=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(m){s++,o===!1&&a.onStart!==void 0&&a.onStart(m,l,s),o=!0},this.itemEnd=function(m){l++,a.onProgress!==void 0&&a.onProgress(m,l,s),l===s&&(o=!1,a.onLoad!==void 0&&a.onLoad())},this.itemError=function(m){a.onError!==void 0&&a.onError(m)},this.resolveURL=function(m){return u?u(m):m},this.setURLModifier=function(m){return u=m,this},this.addHandler=function(m,b){return f.push(m,b),this},this.removeHandler=function(m){const b=f.indexOf(m);return b!==-1&&f.splice(b,2),this},this.getHandler=function(m){for(let b=0,_=f.length;b<_;b+=2){const E=f[b],c=f[b+1];if(E.global&&(E.lastIndex=0),E.test(m))return c}return null}}}const M6=new WI;class ko{constructor(e){this.manager=e!==void 0?e:M6,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(a,o){r.load(e,a,t,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}ko.DEFAULT_MATERIAL_NAME="__DEFAULT";const kd={};class poe extends Error{constructor(e,t){super(e),this.response=t}}class sl extends ko{constructor(e){super(e)}load(e,t,r,a){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=sf.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(o),this.manager.itemEnd(e)},0),o;if(kd[e]!==void 0){kd[e].push({onLoad:t,onProgress:r,onError:a});return}kd[e]=[],kd[e].push({onLoad:t,onProgress:r,onError:a});const l=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,u=this.responseType;fetch(l).then(f=>{if(f.status===200||f.status===0){if(f.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||f.body===void 0||f.body.getReader===void 0)return f;const m=kd[e],b=f.body.getReader(),_=f.headers.get("X-File-Size")||f.headers.get("Content-Length"),E=_?parseInt(_):0,c=E!==0;let p=0;const g=new ReadableStream({start(y){C();function C(){b.read().then(({done:T,value:M})=>{if(T)y.close();else{p+=M.byteLength;const O=new ProgressEvent("progress",{lengthComputable:c,loaded:p,total:E});for(let B=0,D=m.length;B<D;B++){const F=m[B];F.onProgress&&F.onProgress(O)}y.enqueue(M),C()}},T=>{y.error(T)})}}});return new Response(g)}else throw new poe(`fetch for "${f.url}" responded with ${f.status}: ${f.statusText}`,f)}).then(f=>{switch(u){case"arraybuffer":return f.arrayBuffer();case"blob":return f.blob();case"document":return f.text().then(m=>new DOMParser().parseFromString(m,s));case"json":return f.json();default:if(s===void 0)return f.text();{const b=/charset="?([^;"\s]*)"?/i.exec(s),_=b&&b[1]?b[1].toLowerCase():void 0,E=new TextDecoder(_);return f.arrayBuffer().then(c=>E.decode(c))}}}).then(f=>{sf.add(e,f);const m=kd[e];delete kd[e];for(let b=0,_=m.length;b<_;b++){const E=m[b];E.onLoad&&E.onLoad(f)}}).catch(f=>{const m=kd[e];if(m===void 0)throw this.manager.itemError(e),f;delete kd[e];for(let b=0,_=m.length;b<_;b++){const E=m[b];E.onError&&E.onError(f)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class moe extends ko{constructor(e){super(e)}load(e,t,r,a){const o=this,l=new sl(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(s){try{t(o.parse(JSON.parse(s)))}catch(u){a?a(u):console.error(u),o.manager.itemError(e)}},r,a)}parse(e){const t=[];for(let r=0;r<e.length;r++){const a=x0.parse(e[r]);t.push(a)}return t}}class goe extends ko{constructor(e){super(e)}load(e,t,r,a){const o=this,l=[],s=new iA,u=new sl(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(o.withCredentials);let f=0;function m(b){u.load(e[b],function(_){const E=o.parse(_,!0);l[b]={width:E.width,height:E.height,format:E.format,mipmaps:E.mipmaps},f+=1,f===6&&(E.mipmapCount===1&&(s.minFilter=ma),s.image=l,s.format=E.format,s.needsUpdate=!0,t&&t(s))},r,a)}if(Array.isArray(e))for(let b=0,_=e.length;b<_;++b)m(b);else u.load(e,function(b){const _=o.parse(b,!0);if(_.isCubemap){const E=_.mipmaps.length/_.mipmapCount;for(let c=0;c<E;c++){l[c]={mipmaps:[]};for(let p=0;p<_.mipmapCount;p++)l[c].mipmaps.push(_.mipmaps[c*_.mipmapCount+p]),l[c].format=_.format,l[c].width=_.width,l[c].height=_.height}s.image=l}else s.image.width=_.width,s.image.height=_.height,s.mipmaps=_.mipmaps;_.mipmapCount===1&&(s.minFilter=ma),s.format=_.format,s.needsUpdate=!0,t&&t(s)},r,a);return s}}class yS extends ko{constructor(e){super(e)}load(e,t,r,a){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,l=sf.get(e);if(l!==void 0)return o.manager.itemStart(e),setTimeout(function(){t&&t(l),o.manager.itemEnd(e)},0),l;const s=hS("img");function u(){m(),sf.add(e,this),t&&t(this),o.manager.itemEnd(e)}function f(b){m(),a&&a(b),o.manager.itemError(e),o.manager.itemEnd(e)}function m(){s.removeEventListener("load",u,!1),s.removeEventListener("error",f,!1)}return s.addEventListener("load",u,!1),s.addEventListener("error",f,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(s.crossOrigin=this.crossOrigin),o.manager.itemStart(e),s.src=e,s}}class voe extends ko{constructor(e){super(e)}load(e,t,r,a){const o=new $S;o.colorSpace=Lo;const l=new yS(this.manager);l.setCrossOrigin(this.crossOrigin),l.setPath(this.path);let s=0;function u(f){l.load(e[f],function(m){o.images[f]=m,s++,s===6&&(o.needsUpdate=!0,t&&t(o))},void 0,a)}for(let f=0;f<e.length;++f)u(f);return o}}class yoe extends ko{constructor(e){super(e)}load(e,t,r,a){const o=this,l=new Ku,s=new sl(this.manager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(o.withCredentials),s.load(e,function(u){let f;try{f=o.parse(u)}catch(m){if(a!==void 0)a(m);else{console.error(m);return}}f.image!==void 0?l.image=f.image:f.data!==void 0&&(l.image.width=f.width,l.image.height=f.height,l.image.data=f.data),l.wrapS=f.wrapS!==void 0?f.wrapS:nl,l.wrapT=f.wrapT!==void 0?f.wrapT:nl,l.magFilter=f.magFilter!==void 0?f.magFilter:ma,l.minFilter=f.minFilter!==void 0?f.minFilter:ma,l.anisotropy=f.anisotropy!==void 0?f.anisotropy:1,f.colorSpace!==void 0&&(l.colorSpace=f.colorSpace),f.flipY!==void 0&&(l.flipY=f.flipY),f.format!==void 0&&(l.format=f.format),f.type!==void 0&&(l.type=f.type),f.mipmaps!==void 0&&(l.mipmaps=f.mipmaps,l.minFilter=Gl),f.mipmapCount===1&&(l.minFilter=ma),f.generateMipmaps!==void 0&&(l.generateMipmaps=f.generateMipmaps),l.needsUpdate=!0,t&&t(l,f)},r,a),l}}class T6 extends ko{constructor(e){super(e)}load(e,t,r,a){const o=new Lr,l=new yS(this.manager);return l.setCrossOrigin(this.crossOrigin),l.setPath(this.path),l.load(e,function(s){o.image=s,o.needsUpdate=!0,t!==void 0&&t(o)},r,a),o}}class Yh extends Di{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new en(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class R6 extends Yh{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Di.DEFAULT_UP),this.updateMatrix(),this.groundColor=new en(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const RT=new Pn,P3=new be,L3=new be;class XI{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Tt(512,512),this.map=null,this.mapPass=null,this.matrix=new Pn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new WS,this._frameExtents=new Tt(1,1),this._viewportCount=1,this._viewports=[new Gi(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;P3.setFromMatrixPosition(e.matrixWorld),t.position.copy(P3),L3.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(L3),t.updateMatrixWorld(),RT.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(RT),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(RT)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class boe extends XI{constructor(){super(new Xr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=b0*2*e.angle*this.focus,a=this.mapSize.width/this.mapSize.height,o=e.distance||t.far;(r!==t.fov||a!==t.aspect||o!==t.far)&&(t.fov=r,t.aspect=a,t.far=o,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class YI extends Yh{constructor(e,t,r=0,a=Math.PI/3,o=0,l=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Di.DEFAULT_UP),this.updateMatrix(),this.target=new Di,this.distance=r,this.angle=a,this.penumbra=o,this.decay=l,this.map=null,this.shadow=new boe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const N3=new Pn,rb=new be,OT=new be;class Soe extends XI{constructor(){super(new Xr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Tt(4,2),this._viewportCount=6,this._viewports=[new Gi(2,1,1,1),new Gi(0,1,1,1),new Gi(3,1,1,1),new Gi(1,1,1,1),new Gi(3,0,1,1),new Gi(1,0,1,1)],this._cubeDirections=[new be(1,0,0),new be(-1,0,0),new be(0,0,1),new be(0,0,-1),new be(0,1,0),new be(0,-1,0)],this._cubeUps=[new be(0,1,0),new be(0,1,0),new be(0,1,0),new be(0,1,0),new be(0,0,1),new be(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,a=this.matrix,o=e.distance||r.far;o!==r.far&&(r.far=o,r.updateProjectionMatrix()),rb.setFromMatrixPosition(e.matrixWorld),r.position.copy(rb),OT.copy(r.position),OT.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(OT),r.updateMatrixWorld(),a.makeTranslation(-rb.x,-rb.y,-rb.z),N3.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(N3)}}class qI extends Yh{constructor(e,t,r=0,a=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=a,this.shadow=new Soe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class hf extends Qw{constructor(e=-1,t=1,r=1,a=-1,o=.1,l=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=a,this.near=o,this.far=l,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,a,o,l){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=a,this.view.width=o,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,a=(this.top+this.bottom)/2;let o=r-e,l=r+e,s=a+t,u=a-t;if(this.view!==null&&this.view.enabled){const f=(this.right-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=f*this.view.offsetX,l=o+f*this.view.width,s-=m*this.view.offsetY,u=s-m*this.view.height}this.projectionMatrix.makeOrthographic(o,l,s,u,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class _oe extends XI{constructor(){super(new hf(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class KI extends Yh{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Di.DEFAULT_UP),this.updateMatrix(),this.target=new Di,this.shadow=new _oe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class O6 extends Yh{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class I6 extends Yh{constructor(e,t,r=10,a=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=a}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class B6{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new be)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,a=e.y,o=e.z,l=this.coefficients;return t.copy(l[0]).multiplyScalar(.282095),t.addScaledVector(l[1],.488603*a),t.addScaledVector(l[2],.488603*o),t.addScaledVector(l[3],.488603*r),t.addScaledVector(l[4],1.092548*(r*a)),t.addScaledVector(l[5],1.092548*(a*o)),t.addScaledVector(l[6],.315392*(3*o*o-1)),t.addScaledVector(l[7],1.092548*(r*o)),t.addScaledVector(l[8],.546274*(r*r-a*a)),t}getIrradianceAt(e,t){const r=e.x,a=e.y,o=e.z,l=this.coefficients;return t.copy(l[0]).multiplyScalar(.886227),t.addScaledVector(l[1],2*.511664*a),t.addScaledVector(l[2],2*.511664*o),t.addScaledVector(l[3],2*.511664*r),t.addScaledVector(l[4],2*.429043*r*a),t.addScaledVector(l[5],2*.429043*a*o),t.addScaledVector(l[6],.743125*o*o-.247708),t.addScaledVector(l[7],2*.429043*r*o),t.addScaledVector(l[8],.429043*(r*r-a*a)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let a=0;a<9;a++)r[a].fromArray(e,t+a*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let a=0;a<9;a++)r[a].toArray(e,t+a*3);return e}static getBasisAt(e,t){const r=e.x,a=e.y,o=e.z;t[0]=.282095,t[1]=.488603*a,t[2]=.488603*o,t[3]=.488603*r,t[4]=1.092548*r*a,t[5]=1.092548*a*o,t[6]=.315392*(3*o*o-1),t[7]=1.092548*r*o,t[8]=.546274*(r*r-a*a)}}class D6 extends Yh{constructor(e=new B6,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class yA extends ko{constructor(e){super(e),this.textures={}}load(e,t,r,a){const o=this,l=new sl(o.manager);l.setPath(o.path),l.setRequestHeader(o.requestHeader),l.setWithCredentials(o.withCredentials),l.load(e,function(s){try{t(o.parse(JSON.parse(s)))}catch(u){a?a(u):console.error(u),o.manager.itemError(e)}},r,a)}parse(e){const t=this.textures;function r(o){return t[o]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",o),t[o]}const a=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(a.uuid=e.uuid),e.name!==void 0&&(a.name=e.name),e.color!==void 0&&a.color!==void 0&&a.color.setHex(e.color),e.roughness!==void 0&&(a.roughness=e.roughness),e.metalness!==void 0&&(a.metalness=e.metalness),e.sheen!==void 0&&(a.sheen=e.sheen),e.sheenColor!==void 0&&(a.sheenColor=new en().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(a.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&a.emissive!==void 0&&a.emissive.setHex(e.emissive),e.specular!==void 0&&a.specular!==void 0&&a.specular.setHex(e.specular),e.specularIntensity!==void 0&&(a.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&a.specularColor!==void 0&&a.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(a.shininess=e.shininess),e.clearcoat!==void 0&&(a.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(a.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(a.dispersion=e.dispersion),e.iridescence!==void 0&&(a.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(a.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(a.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(a.transmission=e.transmission),e.thickness!==void 0&&(a.thickness=e.thickness),e.attenuationDistance!==void 0&&(a.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&a.attenuationColor!==void 0&&a.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(a.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(a.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(a.fog=e.fog),e.flatShading!==void 0&&(a.flatShading=e.flatShading),e.blending!==void 0&&(a.blending=e.blending),e.combine!==void 0&&(a.combine=e.combine),e.side!==void 0&&(a.side=e.side),e.shadowSide!==void 0&&(a.shadowSide=e.shadowSide),e.opacity!==void 0&&(a.opacity=e.opacity),e.transparent!==void 0&&(a.transparent=e.transparent),e.alphaTest!==void 0&&(a.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(a.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(a.depthFunc=e.depthFunc),e.depthTest!==void 0&&(a.depthTest=e.depthTest),e.depthWrite!==void 0&&(a.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(a.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(a.blendSrc=e.blendSrc),e.blendDst!==void 0&&(a.blendDst=e.blendDst),e.blendEquation!==void 0&&(a.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(a.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(a.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(a.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&a.blendColor!==void 0&&a.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(a.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(a.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(a.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(a.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(a.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(a.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(a.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(a.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(a.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(a.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(a.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(a.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(a.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(a.rotation=e.rotation),e.linewidth!==void 0&&(a.linewidth=e.linewidth),e.dashSize!==void 0&&(a.dashSize=e.dashSize),e.gapSize!==void 0&&(a.gapSize=e.gapSize),e.scale!==void 0&&(a.scale=e.scale),e.polygonOffset!==void 0&&(a.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(a.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(a.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(a.dithering=e.dithering),e.alphaToCoverage!==void 0&&(a.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(a.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(a.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(a.visible=e.visible),e.toneMapped!==void 0&&(a.toneMapped=e.toneMapped),e.userData!==void 0&&(a.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?a.vertexColors=e.vertexColors>0:a.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const o in e.uniforms){const l=e.uniforms[o];switch(a.uniforms[o]={},l.type){case"t":a.uniforms[o].value=r(l.value);break;case"c":a.uniforms[o].value=new en().setHex(l.value);break;case"v2":a.uniforms[o].value=new Tt().fromArray(l.value);break;case"v3":a.uniforms[o].value=new be().fromArray(l.value);break;case"v4":a.uniforms[o].value=new Gi().fromArray(l.value);break;case"m3":a.uniforms[o].value=new ti().fromArray(l.value);break;case"m4":a.uniforms[o].value=new Pn().fromArray(l.value);break;default:a.uniforms[o].value=l.value}}if(e.defines!==void 0&&(a.defines=e.defines),e.vertexShader!==void 0&&(a.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(a.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(a.glslVersion=e.glslVersion),e.extensions!==void 0)for(const o in e.extensions)a.extensions[o]=e.extensions[o];if(e.lights!==void 0&&(a.lights=e.lights),e.clipping!==void 0&&(a.clipping=e.clipping),e.size!==void 0&&(a.size=e.size),e.sizeAttenuation!==void 0&&(a.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(a.map=r(e.map)),e.matcap!==void 0&&(a.matcap=r(e.matcap)),e.alphaMap!==void 0&&(a.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(a.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(a.bumpScale=e.bumpScale),e.normalMap!==void 0&&(a.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(a.normalMapType=e.normalMapType),e.normalScale!==void 0){let o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),a.normalScale=new Tt().fromArray(o)}return e.displacementMap!==void 0&&(a.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(a.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(a.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(a.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(a.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(a.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(a.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(a.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(a.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(a.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(a.envMap=r(e.envMap)),e.envMapRotation!==void 0&&a.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(a.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(a.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(a.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(a.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(a.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(a.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(a.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(a.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(a.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(a.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(a.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(a.clearcoatNormalScale=new Tt().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(a.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(a.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(a.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(a.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(a.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(a.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(a.sheenRoughnessMap=r(e.sheenRoughnessMap)),a}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return yA.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:p6,SpriteMaterial:RI,RawShaderMaterial:m6,ShaderMaterial:jc,PointsMaterial:nA,MeshPhysicalMaterial:Vl,MeshStandardMaterial:KS,MeshPhongMaterial:g6,MeshToonMaterial:v6,MeshNormalMaterial:y6,MeshLambertMaterial:b6,MeshDepthMaterial:GI,MeshDistanceMaterial:kI,MeshBasicMaterial:il,MeshMatcapMaterial:S6,LineDashedMaterial:_6,LineBasicMaterial:Go,Material:Pa};return new t[e]}}class Nh{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,a=e.length;r<a;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class P6 extends ni{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class L6 extends ko{constructor(e){super(e)}load(e,t,r,a){const o=this,l=new sl(o.manager);l.setPath(o.path),l.setRequestHeader(o.requestHeader),l.setWithCredentials(o.withCredentials),l.load(e,function(s){try{t(o.parse(JSON.parse(s)))}catch(u){a?a(u):console.error(u),o.manager.itemError(e)}},r,a)}parse(e){const t={},r={};function a(E,c){if(t[c]!==void 0)return t[c];const g=E.interleavedBuffers[c],y=o(E,g.buffer),C=Uv(g.type,y),T=new VS(C,g.stride);return T.uuid=g.uuid,t[c]=T,T}function o(E,c){if(r[c]!==void 0)return r[c];const g=E.arrayBuffers[c],y=new Uint32Array(g).buffer;return r[c]=y,y}const l=e.isInstancedBufferGeometry?new P6:new ni,s=e.data.index;if(s!==void 0){const E=Uv(s.type,s.array);l.setIndex(new ki(E,1))}const u=e.data.attributes;for(const E in u){const c=u[E];let p;if(c.isInterleavedBufferAttribute){const g=a(e.data,c.data);p=new Vh(g,c.itemSize,c.offset,c.normalized)}else{const g=Uv(c.type,c.array),y=c.isInstancedBufferAttribute?Im:ki;p=new y(g,c.itemSize,c.normalized)}c.name!==void 0&&(p.name=c.name),c.usage!==void 0&&p.setUsage(c.usage),l.setAttribute(E,p)}const f=e.data.morphAttributes;if(f)for(const E in f){const c=f[E],p=[];for(let g=0,y=c.length;g<y;g++){const C=c[g];let T;if(C.isInterleavedBufferAttribute){const M=a(e.data,C.data);T=new Vh(M,C.itemSize,C.offset,C.normalized)}else{const M=Uv(C.type,C.array);T=new ki(M,C.itemSize,C.normalized)}C.name!==void 0&&(T.name=C.name),p.push(T)}l.morphAttributes[E]=p}e.data.morphTargetsRelative&&(l.morphTargetsRelative=!0);const b=e.data.groups||e.data.drawcalls||e.data.offsets;if(b!==void 0)for(let E=0,c=b.length;E!==c;++E){const p=b[E];l.addGroup(p.start,p.count,p.materialIndex)}const _=e.data.boundingSphere;if(_!==void 0){const E=new be;_.center!==void 0&&E.fromArray(_.center),l.boundingSphere=new vo(E,_.radius)}return e.name&&(l.name=e.name),e.userData&&(l.userData=e.userData),l}}class xoe extends ko{constructor(e){super(e)}load(e,t,r,a){const o=this,l=this.path===""?Nh.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||l;const s=new sl(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(u){let f=null;try{f=JSON.parse(u)}catch(b){a!==void 0&&a(b),console.error("THREE:ObjectLoader: Can't parse "+e+".",b.message);return}const m=f.metadata;if(m===void 0||m.type===void 0||m.type.toLowerCase()==="geometry"){a!==void 0&&a(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}o.parse(f,t)},r,a)}async loadAsync(e,t){const r=this,a=this.path===""?Nh.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const o=new sl(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);const l=await o.loadAsync(e,t),s=JSON.parse(l),u=s.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(s)}parse(e,t){const r=this.parseAnimations(e.animations),a=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,a),l=this.parseImages(e.images,function(){t!==void 0&&t(f)}),s=this.parseTextures(e.textures,l),u=this.parseMaterials(e.materials,s),f=this.parseObject(e.object,o,u,s,r),m=this.parseSkeletons(e.skeletons,f);if(this.bindSkeletons(f,m),this.bindLightTargets(f),t!==void 0){let b=!1;for(const _ in l)if(l[_].data instanceof HTMLImageElement){b=!0;break}b===!1&&t(f)}return f}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,r),o=await this.parseImagesAsync(e.images),l=this.parseTextures(e.textures,o),s=this.parseMaterials(e.materials,l),u=this.parseObject(e.object,a,s,l,t),f=this.parseSkeletons(e.skeletons,u);return this.bindSkeletons(u,f),this.bindLightTargets(u),u}parseShapes(e){const t={};if(e!==void 0)for(let r=0,a=e.length;r<a;r++){const o=new Am().fromJSON(e[r]);t[o.uuid]=o}return t}parseSkeletons(e,t){const r={},a={};if(t.traverse(function(o){o.isBone&&(a[o.uuid]=o)}),e!==void 0)for(let o=0,l=e.length;o<l;o++){const s=new jS().fromJSON(e[o],a);r[s.uuid]=s}return r}parseGeometries(e,t){const r={};if(e!==void 0){const a=new L6;for(let o=0,l=e.length;o<l;o++){let s;const u=e[o];switch(u.type){case"BufferGeometry":case"InstancedBufferGeometry":s=a.parse(u);break;default:u.type in D3?s=D3[u.type].fromJSON(u,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${u.type}"`)}s.uuid=u.uuid,u.name!==void 0&&(s.name=u.name),u.userData!==void 0&&(s.userData=u.userData),r[u.uuid]=s}}return r}parseMaterials(e,t){const r={},a={};if(e!==void 0){const o=new yA;o.setTextures(t);for(let l=0,s=e.length;l<s;l++){const u=e[l];r[u.uuid]===void 0&&(r[u.uuid]=o.parse(u)),a[u.uuid]=r[u.uuid]}}return a}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const a=e[r],o=x0.parse(a);t[o.uuid]=o}return t}parseImages(e,t){const r=this,a={};let o;function l(u){return r.manager.itemStart(u),o.load(u,function(){r.manager.itemEnd(u)},void 0,function(){r.manager.itemError(u),r.manager.itemEnd(u)})}function s(u){if(typeof u=="string"){const f=u,m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(f)?f:r.resourcePath+f;return l(m)}else return u.data?{data:Uv(u.type,u.data),width:u.width,height:u.height}:null}if(e!==void 0&&e.length>0){const u=new WI(t);o=new yS(u),o.setCrossOrigin(this.crossOrigin);for(let f=0,m=e.length;f<m;f++){const b=e[f],_=b.url;if(Array.isArray(_)){const E=[];for(let c=0,p=_.length;c<p;c++){const g=_[c],y=s(g);y!==null&&(y instanceof HTMLImageElement?E.push(y):E.push(new Ku(y.data,y.width,y.height)))}a[b.uuid]=new Bh(E)}else{const E=s(b.url);a[b.uuid]=new Bh(E)}}}return a}async parseImagesAsync(e){const t=this,r={};let a;async function o(l){if(typeof l=="string"){const s=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(s)?s:t.resourcePath+s;return await a.loadAsync(u)}else return l.data?{data:Uv(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){a=new yS(this.manager),a.setCrossOrigin(this.crossOrigin);for(let l=0,s=e.length;l<s;l++){const u=e[l],f=u.url;if(Array.isArray(f)){const m=[];for(let b=0,_=f.length;b<_;b++){const E=f[b],c=await o(E);c!==null&&(c instanceof HTMLImageElement?m.push(c):m.push(new Ku(c.data,c.width,c.height)))}r[u.uuid]=new Bh(m)}else{const m=await o(u.url);r[u.uuid]=new Bh(m)}}}return r}parseTextures(e,t){function r(o,l){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),l[o])}const a={};if(e!==void 0)for(let o=0,l=e.length;o<l;o++){const s=e[o];s.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),t[s.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",s.image);const u=t[s.image],f=u.data;let m;Array.isArray(f)?(m=new $S,f.length===6&&(m.needsUpdate=!0)):(f&&f.data?m=new Ku:m=new Lr,f&&(m.needsUpdate=!0)),m.source=u,m.uuid=s.uuid,s.name!==void 0&&(m.name=s.name),s.mapping!==void 0&&(m.mapping=r(s.mapping,Coe)),s.channel!==void 0&&(m.channel=s.channel),s.offset!==void 0&&m.offset.fromArray(s.offset),s.repeat!==void 0&&m.repeat.fromArray(s.repeat),s.center!==void 0&&m.center.fromArray(s.center),s.rotation!==void 0&&(m.rotation=s.rotation),s.wrap!==void 0&&(m.wrapS=r(s.wrap[0],z3),m.wrapT=r(s.wrap[1],z3)),s.format!==void 0&&(m.format=s.format),s.internalFormat!==void 0&&(m.internalFormat=s.internalFormat),s.type!==void 0&&(m.type=s.type),s.colorSpace!==void 0&&(m.colorSpace=s.colorSpace),s.minFilter!==void 0&&(m.minFilter=r(s.minFilter,U3)),s.magFilter!==void 0&&(m.magFilter=r(s.magFilter,U3)),s.anisotropy!==void 0&&(m.anisotropy=s.anisotropy),s.flipY!==void 0&&(m.flipY=s.flipY),s.generateMipmaps!==void 0&&(m.generateMipmaps=s.generateMipmaps),s.premultiplyAlpha!==void 0&&(m.premultiplyAlpha=s.premultiplyAlpha),s.unpackAlignment!==void 0&&(m.unpackAlignment=s.unpackAlignment),s.compareFunction!==void 0&&(m.compareFunction=s.compareFunction),s.userData!==void 0&&(m.userData=s.userData),a[s.uuid]=m}return a}parseObject(e,t,r,a,o){let l;function s(_){return t[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",_),t[_]}function u(_){if(_!==void 0){if(Array.isArray(_)){const E=[];for(let c=0,p=_.length;c<p;c++){const g=_[c];r[g]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",g),E.push(r[g])}return E}return r[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_),r[_]}}function f(_){return a[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",_),a[_]}let m,b;switch(e.type){case"Scene":l=new TI,e.background!==void 0&&(Number.isInteger(e.background)?l.background=new en(e.background):l.background=f(e.background)),e.environment!==void 0&&(l.environment=f(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?l.fog=new eA(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(l.fog=new Zw(e.fog.color,e.fog.density)),e.fog.name!==""&&(l.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(l.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(l.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&l.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(l.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&l.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":l=new Xr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(l.focus=e.focus),e.zoom!==void 0&&(l.zoom=e.zoom),e.filmGauge!==void 0&&(l.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(l.filmOffset=e.filmOffset),e.view!==void 0&&(l.view=Object.assign({},e.view));break;case"OrthographicCamera":l=new hf(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(l.zoom=e.zoom),e.view!==void 0&&(l.view=Object.assign({},e.view));break;case"AmbientLight":l=new O6(e.color,e.intensity);break;case"DirectionalLight":l=new KI(e.color,e.intensity),l.target=e.target||"";break;case"PointLight":l=new qI(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":l=new I6(e.color,e.intensity,e.width,e.height);break;case"SpotLight":l=new YI(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),l.target=e.target||"";break;case"HemisphereLight":l=new R6(e.color,e.groundColor,e.intensity);break;case"LightProbe":l=new D6().fromJSON(e);break;case"SkinnedMesh":m=s(e.geometry),b=u(e.material),l=new OI(m,b),e.bindMode!==void 0&&(l.bindMode=e.bindMode),e.bindMatrix!==void 0&&l.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(l.skeleton=e.skeleton);break;case"Mesh":m=s(e.geometry),b=u(e.material),l=new ga(m,b);break;case"InstancedMesh":m=s(e.geometry),b=u(e.material);const _=e.count,E=e.instanceMatrix,c=e.instanceColor;l=new II(m,b,_),l.instanceMatrix=new Im(new Float32Array(E.array),16),c!==void 0&&(l.instanceColor=new Im(new Float32Array(c.array),c.itemSize));break;case"BatchedMesh":m=s(e.geometry),b=u(e.material),l=new n6(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,b),l.geometry=m,l.perObjectFrustumCulled=e.perObjectFrustumCulled,l.sortObjects=e.sortObjects,l._drawRanges=e.drawRanges,l._reservedRanges=e.reservedRanges,l._visibility=e.visibility,l._active=e.active,l._bounds=e.bounds.map(p=>{const g=new go;g.min.fromArray(p.boxMin),g.max.fromArray(p.boxMax);const y=new vo;return y.radius=p.sphereRadius,y.center.fromArray(p.sphereCenter),{boxInitialized:p.boxInitialized,box:g,sphereInitialized:p.sphereInitialized,sphere:y}}),l._maxInstanceCount=e.maxInstanceCount,l._maxVertexCount=e.maxVertexCount,l._maxIndexCount=e.maxIndexCount,l._geometryInitialized=e.geometryInitialized,l._geometryCount=e.geometryCount,l._matricesTexture=f(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(l._colorsTexture=f(e.colorsTexture.uuid));break;case"LOD":l=new t6;break;case"Line":l=new Sf(s(e.geometry),u(e.material));break;case"LineLoop":l=new BI(s(e.geometry),u(e.material));break;case"LineSegments":l=new Yc(s(e.geometry),u(e.material));break;case"PointCloud":case"Points":l=new DI(s(e.geometry),u(e.material));break;case"Sprite":l=new e6(u(e.material));break;case"Group":l=new of;break;case"Bone":l=new tA;break;default:l=new Di}if(l.uuid=e.uuid,e.name!==void 0&&(l.name=e.name),e.matrix!==void 0?(l.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(l.matrixAutoUpdate=e.matrixAutoUpdate),l.matrixAutoUpdate&&l.matrix.decompose(l.position,l.quaternion,l.scale)):(e.position!==void 0&&l.position.fromArray(e.position),e.rotation!==void 0&&l.rotation.fromArray(e.rotation),e.quaternion!==void 0&&l.quaternion.fromArray(e.quaternion),e.scale!==void 0&&l.scale.fromArray(e.scale)),e.up!==void 0&&l.up.fromArray(e.up),e.castShadow!==void 0&&(l.castShadow=e.castShadow),e.receiveShadow!==void 0&&(l.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(l.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(l.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(l.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(l.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&l.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(l.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(l.visible=e.visible),e.frustumCulled!==void 0&&(l.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(l.renderOrder=e.renderOrder),e.userData!==void 0&&(l.userData=e.userData),e.layers!==void 0&&(l.layers.mask=e.layers),e.children!==void 0){const _=e.children;for(let E=0;E<_.length;E++)l.add(this.parseObject(_[E],t,r,a,o))}if(e.animations!==void 0){const _=e.animations;for(let E=0;E<_.length;E++){const c=_[E];l.animations.push(o[c])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(l.autoUpdate=e.autoUpdate);const _=e.levels;for(let E=0;E<_.length;E++){const c=_[E],p=l.getObjectByProperty("uuid",c.object);p!==void 0&&l.addLevel(p,c.distance,c.hysteresis)}}return l}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const a=t[r.skeleton];a===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(a,r.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const r=t.target,a=e.getObjectByProperty("uuid",r);a!==void 0?t.target=a:t.target=new Di}})}}const Coe={UVMapping:Gw,CubeReflectionMapping:yf,CubeRefractionMapping:Gh,EquirectangularReflectionMapping:sS,EquirectangularRefractionMapping:lS,CubeUVReflectionMapping:N0},z3={RepeatWrapping:kh,ClampToEdgeWrapping:nl,MirroredRepeatWrapping:m0},U3={NearestFilter:Za,NearestMipmapNearestFilter:kw,NearestMipmapLinearFilter:mm,LinearFilter:ma,LinearMipmapNearestFilter:Zv,LinearMipmapLinearFilter:Gl};class N6 extends ko{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,a){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,l=sf.get(e);if(l!==void 0){if(o.manager.itemStart(e),l.then){l.then(f=>{t&&t(f),o.manager.itemEnd(e)}).catch(f=>{a&&a(f)});return}return setTimeout(function(){t&&t(l),o.manager.itemEnd(e)},0),l}const s={};s.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",s.headers=this.requestHeader;const u=fetch(e,s).then(function(f){return f.blob()}).then(function(f){return createImageBitmap(f,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(f){return sf.add(e,f),t&&t(f),o.manager.itemEnd(e),f}).catch(function(f){a&&a(f),sf.remove(e),o.manager.itemError(e),o.manager.itemEnd(e)});sf.add(e,u),o.manager.itemStart(e)}}let uC,JI=class{static getContext(){return uC===void 0&&(uC=new(window.AudioContext||window.webkitAudioContext)),uC}static setContext(e){uC=e}};class Eoe extends ko{constructor(e){super(e)}load(e,t,r,a){const o=this,l=new sl(this.manager);l.setResponseType("arraybuffer"),l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{const f=u.slice(0);JI.getContext().decodeAudioData(f,function(b){t(b)}).catch(s)}catch(f){s(f)}},r,a);function s(u){a?a(u):console.error(u),o.manager.itemError(e)}}}const F3=new Pn,H3=new Pn,Pp=new Pn;class woe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Xr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Xr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Pp.copy(e.projectionMatrix);const a=t.eyeSep/2,o=a*t.near/t.focus,l=t.near*Math.tan(wm*t.fov*.5)/t.zoom;let s,u;H3.elements[12]=-a,F3.elements[12]=a,s=-l*t.aspect+o,u=l*t.aspect+o,Pp.elements[0]=2*t.near/(u-s),Pp.elements[8]=(u+s)/(u-s),this.cameraL.projectionMatrix.copy(Pp),s=-l*t.aspect-o,u=l*t.aspect-o,Pp.elements[0]=2*t.near/(u-s),Pp.elements[8]=(u+s)/(u-s),this.cameraR.projectionMatrix.copy(Pp)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(H3),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(F3)}}class z6 extends Xr{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e,this.index=0}}class QI{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=G3(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=G3();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function G3(){return performance.now()}const Lp=new be,k3=new eo,Aoe=new be,Np=new be;class Moe extends Di{constructor(){super(),this.type="AudioListener",this.context=JI.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new QI}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Lp,k3,Aoe),Np.set(0,0,-1).applyQuaternion(k3),t.positionX){const a=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Lp.x,a),t.positionY.linearRampToValueAtTime(Lp.y,a),t.positionZ.linearRampToValueAtTime(Lp.z,a),t.forwardX.linearRampToValueAtTime(Np.x,a),t.forwardY.linearRampToValueAtTime(Np.y,a),t.forwardZ.linearRampToValueAtTime(Np.z,a),t.upX.linearRampToValueAtTime(r.x,a),t.upY.linearRampToValueAtTime(r.y,a),t.upZ.linearRampToValueAtTime(r.z,a)}else t.setPosition(Lp.x,Lp.y,Lp.z),t.setOrientation(Np.x,Np.y,Np.z,r.x,r.y,r.z)}}class U6 extends Di{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const zp=new be,$3=new eo,Toe=new be,Up=new be;class Roe extends U6{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(zp,$3,Toe),Up.set(0,0,1).applyQuaternion($3);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(zp.x,r),t.positionY.linearRampToValueAtTime(zp.y,r),t.positionZ.linearRampToValueAtTime(zp.z,r),t.orientationX.linearRampToValueAtTime(Up.x,r),t.orientationY.linearRampToValueAtTime(Up.y,r),t.orientationZ.linearRampToValueAtTime(Up.z,r)}else t.setPosition(zp.x,zp.y,zp.z),t.setOrientation(Up.x,Up.y,Up.z)}}class Ooe{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class F6{constructor(e,t,r){this.binding=e,this.valueSize=r;let a,o,l;switch(t){case"quaternion":a=this._slerp,o=this._slerpAdditive,l=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":a=this._select,o=this._select,l=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:a=this._lerp,o=this._lerpAdditive,l=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=a,this._mixBufferRegionAdditive=o,this._setIdentity=l,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,a=this.valueSize,o=e*a+a;let l=this.cumulativeWeight;if(l===0){for(let s=0;s!==a;++s)r[o+s]=r[s];l=t}else{l+=t;const s=t/l;this._mixBufferRegion(r,o,0,s,a)}this.cumulativeWeight=l}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,a=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,a,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,a=e*t+t,o=this.cumulativeWeight,l=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const u=t*this._origIndex;this._mixBufferRegion(r,a,u,1-o,t)}l>0&&this._mixBufferRegionAdditive(r,a,this._addIndex*t,1,t);for(let u=t,f=t+t;u!==f;++u)if(r[u]!==r[u+t]){s.setValue(r,a);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,a=r*this._origIndex;e.getValue(t,a);for(let o=r,l=a;o!==l;++o)t[o]=t[a+o%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,a,o){if(a>=.5)for(let l=0;l!==o;++l)e[t+l]=e[r+l]}_slerp(e,t,r,a){eo.slerpFlat(e,t,e,t,e,r,a)}_slerpAdditive(e,t,r,a,o){const l=this._workIndex*o;eo.multiplyQuaternionsFlat(e,l,e,t,e,r),eo.slerpFlat(e,t,e,t,e,l,a)}_lerp(e,t,r,a,o){const l=1-a;for(let s=0;s!==o;++s){const u=t+s;e[u]=e[u]*l+e[r+s]*a}}_lerpAdditive(e,t,r,a,o){for(let l=0;l!==o;++l){const s=t+l;e[s]=e[s]+e[r+l]*a}}}const ZI="\\[\\]\\.:\\/",Ioe=new RegExp("["+ZI+"]","g"),eB="[^"+ZI+"]",Boe="[^"+ZI.replace("\\.","")+"]",Doe=/((?:WC+[\/:])*)/.source.replace("WC",eB),Poe=/(WCOD+)?/.source.replace("WCOD",Boe),Loe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",eB),Noe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",eB),zoe=new RegExp("^"+Doe+Poe+Loe+Noe+"$"),Uoe=["material","materials","bones","map"];class Foe{constructor(e,t,r){const a=r||Fi.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,a)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,a=this._bindings[r];a!==void 0&&a.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let a=this._targetGroup.nCachedObjects_,o=r.length;a!==o;++a)r[a].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class Fi{constructor(e,t,r){this.path=t,this.parsedPath=r||Fi.parseTrackName(t),this.node=Fi.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new Fi.Composite(e,t,r):new Fi(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Ioe,"")}static parseTrackName(e){const t=zoe.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},a=r.nodeName&&r.nodeName.lastIndexOf(".");if(a!==void 0&&a!==-1){const o=r.nodeName.substring(a+1);Uoe.indexOf(o)!==-1&&(r.nodeName=r.nodeName.substring(0,a),r.objectName=o)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(o){for(let l=0;l<o.length;l++){const s=o[l];if(s.name===t||s.uuid===t)return s;const u=r(s.children);if(u)return u}return null},a=r(e.children);if(a)return a}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let a=0,o=r.length;a!==o;++a)e[t++]=r[a]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let a=0,o=r.length;a!==o;++a)r[a]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let a=0,o=r.length;a!==o;++a)r[a]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let a=0,o=r.length;a!==o;++a)r[a]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,a=t.propertyName;let o=t.propertyIndex;if(e||(e=Fi.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let f=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let m=0;m<e.length;m++)if(e[m].name===f){f=m;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(f!==void 0){if(e[f]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[f]}}const l=e[a];if(l===void 0){const f=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+f+"."+a+" but it wasn't found.",e);return}let s=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?s=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(s=this.Versioning.MatrixWorldNeedsUpdate);let u=this.BindingType.Direct;if(o!==void 0){if(a==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}u=this.BindingType.ArrayElement,this.resolvedProperty=l,this.propertyIndex=o}else l.fromArray!==void 0&&l.toArray!==void 0?(u=this.BindingType.HasFromToArray,this.resolvedProperty=l):Array.isArray(l)?(u=this.BindingType.EntireArray,this.resolvedProperty=l):this.propertyName=a;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Fi.Composite=Foe;Fi.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Fi.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Fi.prototype.GetterByBindingType=[Fi.prototype._getValue_direct,Fi.prototype._getValue_array,Fi.prototype._getValue_arrayElement,Fi.prototype._getValue_toArray];Fi.prototype.SetterByBindingTypeAndVersioning=[[Fi.prototype._setValue_direct,Fi.prototype._setValue_direct_setNeedsUpdate,Fi.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Fi.prototype._setValue_array,Fi.prototype._setValue_array_setNeedsUpdate,Fi.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Fi.prototype._setValue_arrayElement,Fi.prototype._setValue_arrayElement_setNeedsUpdate,Fi.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Fi.prototype._setValue_fromArray,Fi.prototype._setValue_fromArray_setNeedsUpdate,Fi.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Hoe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=rl(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,a=arguments.length;r!==a;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,a=this._parsedPaths,o=this._bindings,l=o.length;let s,u=e.length,f=this.nCachedObjects_;for(let m=0,b=arguments.length;m!==b;++m){const _=arguments[m],E=_.uuid;let c=t[E];if(c===void 0){c=u++,t[E]=c,e.push(_);for(let p=0,g=l;p!==g;++p)o[p].push(new Fi(_,r[p],a[p]))}else if(c<f){s=e[c];const p=--f,g=e[p];t[g.uuid]=c,e[c]=g,t[E]=p,e[p]=_;for(let y=0,C=l;y!==C;++y){const T=o[y],M=T[p];let O=T[c];T[c]=M,O===void 0&&(O=new Fi(_,r[y],a[y])),T[p]=O}}else e[c]!==s&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=f}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,a=r.length;let o=this.nCachedObjects_;for(let l=0,s=arguments.length;l!==s;++l){const u=arguments[l],f=u.uuid,m=t[f];if(m!==void 0&&m>=o){const b=o++,_=e[b];t[_.uuid]=m,e[m]=_,t[f]=b,e[b]=u;for(let E=0,c=a;E!==c;++E){const p=r[E],g=p[b],y=p[m];p[m]=g,p[b]=y}}}this.nCachedObjects_=o}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,a=r.length;let o=this.nCachedObjects_,l=e.length;for(let s=0,u=arguments.length;s!==u;++s){const f=arguments[s],m=f.uuid,b=t[m];if(b!==void 0)if(delete t[m],b<o){const _=--o,E=e[_],c=--l,p=e[c];t[E.uuid]=b,e[b]=E,t[p.uuid]=_,e[_]=p,e.pop();for(let g=0,y=a;g!==y;++g){const C=r[g],T=C[_],M=C[c];C[b]=T,C[_]=M,C.pop()}}else{const _=--l,E=e[_];_>0&&(t[E.uuid]=b),e[b]=E,e.pop();for(let c=0,p=a;c!==p;++c){const g=r[c];g[b]=g[_],g.pop()}}}this.nCachedObjects_=o}subscribe_(e,t){const r=this._bindingsIndicesByPath;let a=r[e];const o=this._bindings;if(a!==void 0)return o[a];const l=this._paths,s=this._parsedPaths,u=this._objects,f=u.length,m=this.nCachedObjects_,b=new Array(f);a=o.length,r[e]=a,l.push(e),s.push(t),o.push(b);for(let _=m,E=u.length;_!==E;++_){const c=u[_];b[_]=new Fi(c,e,t)}return b}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const a=this._paths,o=this._parsedPaths,l=this._bindings,s=l.length-1,u=l[s],f=e[s];t[f]=r,l[r]=u,l.pop(),o[r]=o[s],o.pop(),a[r]=a[s],a.pop()}}}class H6{constructor(e,t,r=null,a=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=a;const o=t.tracks,l=o.length,s=new Array(l),u={endingStart:gm,endingEnd:gm};for(let f=0;f!==l;++f){const m=o[f].createInterpolant(null);s[f]=m,m.settings=u}this._interpolantSettings=u,this._interpolants=s,this._propertyBindings=new Array(l),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=I8,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const a=this._clip.duration,o=e._clip.duration,l=o/a,s=a/o;e.warp(1,l,t),this.warp(s,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const a=this._mixer,o=a.time,l=this.timeScale;let s=this._timeScaleInterpolant;s===null&&(s=a._lendControlInterpolant(),this._timeScaleInterpolant=s);const u=s.parameterPositions,f=s.sampleValues;return u[0]=o,u[1]=o+r,f[0]=e/l,f[1]=t/l,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,a){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const u=(e-o)*r;u<0||r===0?t=0:(this._startTime=null,t=r*u)}t*=this._updateTimeScale(e);const l=this._updateTime(t),s=this._updateWeight(e);if(s>0){const u=this._interpolants,f=this._propertyBindings;switch(this.blendMode){case xI:for(let m=0,b=u.length;m!==b;++m)u[m].evaluate(l),f[m].accumulateAdditive(s);break;case qw:default:for(let m=0,b=u.length;m!==b;++m)u[m].evaluate(l),f[m].accumulate(a,s)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const a=r.evaluate(e)[0];t*=a,e>r.parameterPositions[1]&&(this.stopFading(),a===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const a=r.evaluate(e)[0];t*=a,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let a=this.time+e,o=this._loopCount;const l=r===B8;if(e===0)return o===-1?a:l&&(o&1)===1?t-a:a;if(r===O8){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(a>=t)a=t;else if(a<0)a=0;else{this.time=a;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=a,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,l)):this._setEndings(this.repetitions===0,!0,l)),a>=t||a<0){const s=Math.floor(a/t);a-=t*s,o+=Math.abs(s);const u=this.repetitions-o;if(u<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,a=e>0?t:0,this.time=a,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(u===1){const f=e<0;this._setEndings(f,!f,l)}else this._setEndings(!1,!1,l);this._loopCount=o,this.time=a,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:s})}}else this.time=a;if(l&&(o&1)===1)return t-a}return a}_setEndings(e,t,r){const a=this._interpolantSettings;r?(a.endingStart=vm,a.endingEnd=vm):(e?a.endingStart=this.zeroSlopeAtStart?vm:gm:a.endingStart=cS,t?a.endingEnd=this.zeroSlopeAtEnd?vm:gm:a.endingEnd=cS)}_scheduleFading(e,t,r){const a=this._mixer,o=a.time;let l=this._weightInterpolant;l===null&&(l=a._lendControlInterpolant(),this._weightInterpolant=l);const s=l.parameterPositions,u=l.sampleValues;return s[0]=o,u[0]=t,s[1]=o+e,u[1]=r,this}}const Goe=new Float32Array(1);class koe extends ld{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,a=e._clip.tracks,o=a.length,l=e._propertyBindings,s=e._interpolants,u=r.uuid,f=this._bindingsByRootAndName;let m=f[u];m===void 0&&(m={},f[u]=m);for(let b=0;b!==o;++b){const _=a[b],E=_.name;let c=m[E];if(c!==void 0)++c.referenceCount,l[b]=c;else{if(c=l[b],c!==void 0){c._cacheIndex===null&&(++c.referenceCount,this._addInactiveBinding(c,u,E));continue}const p=t&&t._propertyBindings[b].binding.parsedPath;c=new F6(Fi.create(r,E,p),_.ValueTypeName,_.getValueSize()),++c.referenceCount,this._addInactiveBinding(c,u,E),l[b]=c}s[b].resultBuffer=c.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,a=e._clip.uuid,o=this._actionsByClip[a];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,a,r)}const t=e._propertyBindings;for(let r=0,a=t.length;r!==a;++r){const o=t[r];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,a=t.length;r!==a;++r){const o=t[r];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const a=this._actions,o=this._actionsByClip;let l=o[t];if(l===void 0)l={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[t]=l;else{const s=l.knownActions;e._byClipCacheIndex=s.length,s.push(e)}e._cacheIndex=a.length,a.push(e),l.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],a=e._cacheIndex;r._cacheIndex=a,t[a]=r,t.pop(),e._cacheIndex=null;const o=e._clip.uuid,l=this._actionsByClip,s=l[o],u=s.knownActions,f=u[u.length-1],m=e._byClipCacheIndex;f._byClipCacheIndex=m,u[m]=f,u.pop(),e._byClipCacheIndex=null;const b=s.actionByRoot,_=(e._localRoot||this._root).uuid;delete b[_],u.length===0&&delete l[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,a=t.length;r!==a;++r){const o=t[r];--o.referenceCount===0&&this._removeInactiveBinding(o)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,a=this._nActiveActions++,o=t[a];e._cacheIndex=a,t[a]=e,o._cacheIndex=r,t[r]=o}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,a=--this._nActiveActions,o=t[a];e._cacheIndex=a,t[a]=e,o._cacheIndex=r,t[r]=o}_addInactiveBinding(e,t,r){const a=this._bindingsByRootAndName,o=this._bindings;let l=a[t];l===void 0&&(l={},a[t]=l),l[r]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,a=r.rootNode.uuid,o=r.path,l=this._bindingsByRootAndName,s=l[a],u=t[t.length-1],f=e._cacheIndex;u._cacheIndex=f,t[f]=u,t.pop(),delete s[o],Object.keys(s).length===0&&delete l[a]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,a=this._nActiveBindings++,o=t[a];e._cacheIndex=a,t[a]=e,o._cacheIndex=r,t[r]=o}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,a=--this._nActiveBindings,o=t[a];e._cacheIndex=a,t[a]=e,o._cacheIndex=r,t[r]=o}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new VI(new Float32Array(2),new Float32Array(2),1,Goe),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,a=--this._nActiveControlInterpolants,o=t[a];e.__cacheIndex=a,t[a]=e,o.__cacheIndex=r,t[r]=o}clipAction(e,t,r){const a=t||this._root,o=a.uuid;let l=typeof e=="string"?x0.findByName(a,e):e;const s=l!==null?l.uuid:e,u=this._actionsByClip[s];let f=null;if(r===void 0&&(l!==null?r=l.blendMode:r=qw),u!==void 0){const b=u.actionByRoot[o];if(b!==void 0&&b.blendMode===r)return b;f=u.knownActions[0],l===null&&(l=f._clip)}if(l===null)return null;const m=new H6(this,l,t,r);return this._bindAction(m,f),this._addInactiveAction(m,s,o),m}existingAction(e,t){const r=t||this._root,a=r.uuid,o=typeof e=="string"?x0.findByName(r,e):e,l=o?o.uuid:e,s=this._actionsByClip[l];return s!==void 0&&s.actionByRoot[a]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,a=this.time+=e,o=Math.sign(e),l=this._accuIndex^=1;for(let f=0;f!==r;++f)t[f]._update(a,e,o,l);const s=this._bindings,u=this._nActiveBindings;for(let f=0;f!==u;++f)s[f].apply(l);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,a=this._actionsByClip,o=a[r];if(o!==void 0){const l=o.knownActions;for(let s=0,u=l.length;s!==u;++s){const f=l[s];this._deactivateAction(f);const m=f._cacheIndex,b=t[t.length-1];f._cacheIndex=null,f._byClipCacheIndex=null,b._cacheIndex=m,t[m]=b,t.pop(),this._removeInactiveBindingsForAction(f)}delete a[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const l in r){const s=r[l].actionByRoot,u=s[t];u!==void 0&&(this._deactivateAction(u),this._removeInactiveAction(u))}const a=this._bindingsByRootAndName,o=a[t];if(o!==void 0)for(const l in o){const s=o[l];s.restoreOriginalState(),this._removeInactiveBinding(s)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class $oe extends Kw{constructor(e=1,t=1,r=1,a={}){super(e,t,a),this.isRenderTarget3D=!0,this.depth=r,this.texture=new Jw(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class Voe extends Kw{constructor(e=1,t=1,r=1,a={}){super(e,t,a),this.isRenderTargetArray=!0,this.depth=r,this.texture=new kS(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class tB{constructor(e){this.value=e}clone(){return new tB(this.value.clone===void 0?this.value:this.value.clone())}}let joe=0;class Woe extends ld{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:joe++}),this.name="",this.usage=dS,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,a=t.length;r<a;r++){const o=Array.isArray(t[r])?t[r]:[t[r]];for(let l=0;l<o.length;l++)this.uniforms.push(o[l].clone())}return this}clone(){return new this.constructor().copy(this)}}class Xoe extends VS{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class Yoe{constructor(e,t,r,a,o){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=a,this.count=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const V3=new Pn;class G6{constructor(e,t,r=0,a=1/0){this.ray=new jm(e,t),this.near=r,this.far=a,this.camera=null,this.layers=new S0,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return V3.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(V3),this}intersectObject(e,t=!0,r=[]){return U2(e,this,r,t),r.sort(j3),r}intersectObjects(e,t=!0,r=[]){for(let a=0,o=e.length;a<o;a++)U2(e[a],this,r,t);return r.sort(j3),r}}function j3(n,e){return n.distance-e.distance}function U2(n,e,t,r){let a=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(a=!1),a===!0&&r===!0){const o=n.children;for(let l=0,s=o.length;l<s;l++)U2(o[l],e,t,!0)}}class F2{constructor(e=1,t=0,r=0){this.radius=e,this.phi=t,this.theta=r}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Jn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Jn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class qoe{constructor(e=1,t=0,r=0){this.radius=e,this.theta=t,this.y=r}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}class nB{constructor(e,t,r,a){nB.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,r,a)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let r=0;r<4;r++)this.elements[r]=e[r+t];return this}set(e,t,r,a){const o=this.elements;return o[0]=e,o[2]=t,o[1]=r,o[3]=a,this}}const W3=new Tt;class Koe{constructor(e=new Tt(1/0,1/0),t=new Tt(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=W3.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,W3).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const X3=new be,dC=new be;class Joe{constructor(e=new be,t=new be){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){X3.subVectors(e,this.start),dC.subVectors(this.end,this.start);const r=dC.dot(dC);let o=dC.dot(X3)/r;return t&&(o=Jn(o,0,1)),o}closestPointToPoint(e,t,r){const a=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(a).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const Y3=new be;class Qoe extends Di{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const r=new ni,a=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let l=0,s=1,u=32;l<u;l++,s++){const f=l/u*Math.PI*2,m=s/u*Math.PI*2;a.push(Math.cos(f),Math.sin(f),1,Math.cos(m),Math.sin(m),1)}r.setAttribute("position",new vn(a,3));const o=new Go({fog:!1,toneMapped:!1});this.cone=new Yc(r,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),Y3.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Y3),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const mh=new be,fC=new Pn,IT=new Pn;class Zoe extends Yc{constructor(e){const t=k6(e),r=new ni,a=[],o=[],l=new en(0,0,1),s=new en(0,1,0);for(let f=0;f<t.length;f++){const m=t[f];m.parent&&m.parent.isBone&&(a.push(0,0,0),a.push(0,0,0),o.push(l.r,l.g,l.b),o.push(s.r,s.g,s.b))}r.setAttribute("position",new vn(a,3)),r.setAttribute("color",new vn(o,3));const u=new Go({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,u),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,a=r.getAttribute("position");IT.copy(this.root.matrixWorld).invert();for(let o=0,l=0;o<t.length;o++){const s=t[o];s.parent&&s.parent.isBone&&(fC.multiplyMatrices(IT,s.matrixWorld),mh.setFromMatrixPosition(fC),a.setXYZ(l,mh.x,mh.y,mh.z),fC.multiplyMatrices(IT,s.parent.matrixWorld),mh.setFromMatrixPosition(fC),a.setXYZ(l+1,mh.x,mh.y,mh.z),l+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function k6(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push(...k6(n.children[t]));return e}class ese extends ga{constructor(e,t,r){const a=new qS(t,4,2),o=new il({wireframe:!0,fog:!1,toneMapped:!1});super(a,o),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const tse=new be,q3=new en,K3=new en;class nse extends Di{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const a=new YS(t);a.rotateY(Math.PI*.5),this.material=new il({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=a.getAttribute("position"),l=new Float32Array(o.count*3);a.setAttribute("color",new ki(l,3)),this.add(new ga(a,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");q3.copy(this.light.color),K3.copy(this.light.groundColor);for(let r=0,a=t.count;r<a;r++){const o=r<a/2?q3:K3;t.setXYZ(r,o.r,o.g,o.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(tse.setFromMatrixPosition(this.light.matrixWorld).negate())}}class ise extends Yc{constructor(e=10,t=10,r=4473924,a=8947848){r=new en(r),a=new en(a);const o=t/2,l=e/t,s=e/2,u=[],f=[];for(let _=0,E=0,c=-s;_<=t;_++,c+=l){u.push(-s,0,c,s,0,c),u.push(c,0,-s,c,0,s);const p=_===o?r:a;p.toArray(f,E),E+=3,p.toArray(f,E),E+=3,p.toArray(f,E),E+=3,p.toArray(f,E),E+=3}const m=new ni;m.setAttribute("position",new vn(u,3)),m.setAttribute("color",new vn(f,3));const b=new Go({vertexColors:!0,toneMapped:!1});super(m,b),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class rse extends Yc{constructor(e=10,t=16,r=8,a=64,o=4473924,l=8947848){o=new en(o),l=new en(l);const s=[],u=[];if(t>1)for(let b=0;b<t;b++){const _=b/t*(Math.PI*2),E=Math.sin(_)*e,c=Math.cos(_)*e;s.push(0,0,0),s.push(E,0,c);const p=b&1?o:l;u.push(p.r,p.g,p.b),u.push(p.r,p.g,p.b)}for(let b=0;b<r;b++){const _=b&1?o:l,E=e-e/r*b;for(let c=0;c<a;c++){let p=c/a*(Math.PI*2),g=Math.sin(p)*E,y=Math.cos(p)*E;s.push(g,0,y),u.push(_.r,_.g,_.b),p=(c+1)/a*(Math.PI*2),g=Math.sin(p)*E,y=Math.cos(p)*E,s.push(g,0,y),u.push(_.r,_.g,_.b)}}const f=new ni;f.setAttribute("position",new vn(s,3)),f.setAttribute("color",new vn(u,3));const m=new Go({vertexColors:!0,toneMapped:!1});super(f,m),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const J3=new be,hC=new be,Q3=new be;class ase extends Di{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",t===void 0&&(t=1);let a=new ni;a.setAttribute("position",new vn([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const o=new Go({fog:!1,toneMapped:!1});this.lightPlane=new Sf(a,o),this.add(this.lightPlane),a=new ni,a.setAttribute("position",new vn([0,0,0,0,0,1],3)),this.targetLine=new Sf(a,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),J3.setFromMatrixPosition(this.light.matrixWorld),hC.setFromMatrixPosition(this.light.target.matrixWorld),Q3.subVectors(hC,J3),this.lightPlane.lookAt(hC),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(hC),this.targetLine.scale.z=Q3.length()}}const pC=new be,sa=new Qw;class ose extends Yc{constructor(e){const t=new ni,r=new Go({color:16777215,vertexColors:!0,toneMapped:!1}),a=[],o=[],l={};s("n1","n2"),s("n2","n4"),s("n4","n3"),s("n3","n1"),s("f1","f2"),s("f2","f4"),s("f4","f3"),s("f3","f1"),s("n1","f1"),s("n2","f2"),s("n3","f3"),s("n4","f4"),s("p","n1"),s("p","n2"),s("p","n3"),s("p","n4"),s("u1","u2"),s("u2","u3"),s("u3","u1"),s("c","t"),s("p","c"),s("cn1","cn2"),s("cn3","cn4"),s("cf1","cf2"),s("cf3","cf4");function s(c,p){u(c),u(p)}function u(c){a.push(0,0,0),o.push(0,0,0),l[c]===void 0&&(l[c]=[]),l[c].push(a.length/3-1)}t.setAttribute("position",new vn(a,3)),t.setAttribute("color",new vn(o,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=l,this.update();const f=new en(16755200),m=new en(16711680),b=new en(43775),_=new en(16777215),E=new en(3355443);this.setColors(f,m,b,_,E)}setColors(e,t,r,a,o){const s=this.geometry.getAttribute("color");s.setXYZ(0,e.r,e.g,e.b),s.setXYZ(1,e.r,e.g,e.b),s.setXYZ(2,e.r,e.g,e.b),s.setXYZ(3,e.r,e.g,e.b),s.setXYZ(4,e.r,e.g,e.b),s.setXYZ(5,e.r,e.g,e.b),s.setXYZ(6,e.r,e.g,e.b),s.setXYZ(7,e.r,e.g,e.b),s.setXYZ(8,e.r,e.g,e.b),s.setXYZ(9,e.r,e.g,e.b),s.setXYZ(10,e.r,e.g,e.b),s.setXYZ(11,e.r,e.g,e.b),s.setXYZ(12,e.r,e.g,e.b),s.setXYZ(13,e.r,e.g,e.b),s.setXYZ(14,e.r,e.g,e.b),s.setXYZ(15,e.r,e.g,e.b),s.setXYZ(16,e.r,e.g,e.b),s.setXYZ(17,e.r,e.g,e.b),s.setXYZ(18,e.r,e.g,e.b),s.setXYZ(19,e.r,e.g,e.b),s.setXYZ(20,e.r,e.g,e.b),s.setXYZ(21,e.r,e.g,e.b),s.setXYZ(22,e.r,e.g,e.b),s.setXYZ(23,e.r,e.g,e.b),s.setXYZ(24,t.r,t.g,t.b),s.setXYZ(25,t.r,t.g,t.b),s.setXYZ(26,t.r,t.g,t.b),s.setXYZ(27,t.r,t.g,t.b),s.setXYZ(28,t.r,t.g,t.b),s.setXYZ(29,t.r,t.g,t.b),s.setXYZ(30,t.r,t.g,t.b),s.setXYZ(31,t.r,t.g,t.b),s.setXYZ(32,r.r,r.g,r.b),s.setXYZ(33,r.r,r.g,r.b),s.setXYZ(34,r.r,r.g,r.b),s.setXYZ(35,r.r,r.g,r.b),s.setXYZ(36,r.r,r.g,r.b),s.setXYZ(37,r.r,r.g,r.b),s.setXYZ(38,a.r,a.g,a.b),s.setXYZ(39,a.r,a.g,a.b),s.setXYZ(40,o.r,o.g,o.b),s.setXYZ(41,o.r,o.g,o.b),s.setXYZ(42,o.r,o.g,o.b),s.setXYZ(43,o.r,o.g,o.b),s.setXYZ(44,o.r,o.g,o.b),s.setXYZ(45,o.r,o.g,o.b),s.setXYZ(46,o.r,o.g,o.b),s.setXYZ(47,o.r,o.g,o.b),s.setXYZ(48,o.r,o.g,o.b),s.setXYZ(49,o.r,o.g,o.b),s.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,r=1,a=1;sa.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const o=this.camera.coordinateSystem===Fc?-1:0;fa("c",t,e,sa,0,0,o),fa("t",t,e,sa,0,0,1),fa("n1",t,e,sa,-1,-1,o),fa("n2",t,e,sa,r,-1,o),fa("n3",t,e,sa,-1,a,o),fa("n4",t,e,sa,r,a,o),fa("f1",t,e,sa,-1,-1,1),fa("f2",t,e,sa,r,-1,1),fa("f3",t,e,sa,-1,a,1),fa("f4",t,e,sa,r,a,1),fa("u1",t,e,sa,r*.7,a*1.1,o),fa("u2",t,e,sa,-1*.7,a*1.1,o),fa("u3",t,e,sa,0,a*2,o),fa("cf1",t,e,sa,-1,0,1),fa("cf2",t,e,sa,r,0,1),fa("cf3",t,e,sa,0,-1,1),fa("cf4",t,e,sa,0,a,1),fa("cn1",t,e,sa,-1,0,o),fa("cn2",t,e,sa,r,0,o),fa("cn3",t,e,sa,0,-1,o),fa("cn4",t,e,sa,0,a,o),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function fa(n,e,t,r,a,o,l){pC.set(a,o,l).unproject(r);const s=e[n];if(s!==void 0){const u=t.getAttribute("position");for(let f=0,m=s.length;f<m;f++)u.setXYZ(s[f],pC.x,pC.y,pC.z)}}const mC=new go;class sse extends Yc{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),a=new Float32Array(8*3),o=new ni;o.setIndex(new ki(r,1)),o.setAttribute("position",new ki(a,3)),super(o,new Go({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&mC.setFromObject(this.object),mC.isEmpty())return;const e=mC.min,t=mC.max,r=this.geometry.attributes.position,a=r.array;a[0]=t.x,a[1]=t.y,a[2]=t.z,a[3]=e.x,a[4]=t.y,a[5]=t.z,a[6]=e.x,a[7]=e.y,a[8]=t.z,a[9]=t.x,a[10]=e.y,a[11]=t.z,a[12]=t.x,a[13]=t.y,a[14]=e.z,a[15]=e.x,a[16]=t.y,a[17]=e.z,a[18]=e.x,a[19]=e.y,a[20]=e.z,a[21]=t.x,a[22]=e.y,a[23]=e.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class lse extends Yc{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),a=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new ni;o.setIndex(new ki(r,1)),o.setAttribute("position",new vn(a,3)),super(o,new Go({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class cse extends Sf{constructor(e,t=1,r=16776960){const a=r,o=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],l=new ni;l.setAttribute("position",new vn(o,3)),l.computeBoundingSphere(),super(l,new Go({color:a,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const s=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],u=new ni;u.setAttribute("position",new vn(s,3)),u.computeBoundingSphere(),this.add(new ga(u,new il({color:a,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const Z3=new be;let gC,BT;class use extends Di{constructor(e=new be(0,0,1),t=new be(0,0,0),r=1,a=16776960,o=r*.2,l=o*.2){super(),this.type="ArrowHelper",gC===void 0&&(gC=new ni,gC.setAttribute("position",new vn([0,0,0,0,1,0],3)),BT=new U0(0,.5,1,5,1),BT.translate(0,-.5,0)),this.position.copy(t),this.line=new Sf(gC,new Go({color:a,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ga(BT,new il({color:a,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,o,l)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{Z3.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(Z3,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class dse extends Yc{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],a=new ni;a.setAttribute("position",new vn(t,3)),a.setAttribute("color",new vn(r,3));const o=new Go({vertexColors:!0,toneMapped:!1});super(a,o),this.type="AxesHelper"}setColors(e,t,r){const a=new en,o=this.geometry.attributes.color.array;return a.set(e),a.toArray(o,0),a.toArray(o,3),a.set(t),a.toArray(o,6),a.toArray(o,9),a.set(r),a.toArray(o,12),a.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class fse{constructor(){this.type="ShapePath",this.color=new en,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new pS,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,a){return this.currentPath.quadraticCurveTo(e,t,r,a),this}bezierCurveTo(e,t,r,a,o,l){return this.currentPath.bezierCurveTo(e,t,r,a,o,l),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(y){const C=[];for(let T=0,M=y.length;T<M;T++){const O=y[T],B=new Am;B.curves=O.curves,C.push(B)}return C}function r(y,C){const T=C.length;let M=!1;for(let O=T-1,B=0;B<T;O=B++){let D=C[O],F=C[B],z=F.x-D.x,U=F.y-D.y;if(Math.abs(U)>Number.EPSILON){if(U<0&&(D=C[B],z=-z,F=C[O],U=-U),y.y<D.y||y.y>F.y)continue;if(y.y===D.y){if(y.x===D.x)return!0}else{const $=U*(y.x-D.x)-z*(y.y-D.y);if($===0)return!0;if($<0)continue;M=!M}}else{if(y.y!==D.y)continue;if(F.x<=y.x&&y.x<=D.x||D.x<=y.x&&y.x<=F.x)return!0}}return M}const a=Ju.isClockWise,o=this.subPaths;if(o.length===0)return[];let l,s,u;const f=[];if(o.length===1)return s=o[0],u=new Am,u.curves=s.curves,f.push(u),f;let m=!a(o[0].getPoints());m=e?!m:m;const b=[],_=[];let E=[],c=0,p;_[c]=void 0,E[c]=[];for(let y=0,C=o.length;y<C;y++)s=o[y],p=s.getPoints(),l=a(p),l=e?!l:l,l?(!m&&_[c]&&c++,_[c]={s:new Am,p},_[c].s.curves=s.curves,m&&c++,E[c]=[]):E[c].push({h:s,p:p[0]});if(!_[0])return t(o);if(_.length>1){let y=!1,C=0;for(let T=0,M=_.length;T<M;T++)b[T]=[];for(let T=0,M=_.length;T<M;T++){const O=E[T];for(let B=0;B<O.length;B++){const D=O[B];let F=!0;for(let z=0;z<_.length;z++)r(D.p,_[z].p)&&(T!==z&&C++,F?(F=!1,b[z].push(D)):y=!0);F&&b[T].push(D)}}C>0&&y===!1&&(E=b)}let g;for(let y=0,C=_.length;y<C;y++){u=_[y].s,f.push(u),g=E[y];for(let T=0,M=g.length;T<M;T++)u.holes.push(g[T].h)}return f}}class hse extends ld{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}function pse(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function mse(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function gse(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function H2(n,e,t,r){const a=vse(r);switch(t){case gI:return n*e;case yI:return n*e;case bI:return n*e*2;case Ww:return n*e/a.components*a.byteLength;case GS:return n*e/a.components*a.byteLength;case SI:return n*e*2/a.components*a.byteLength;case Xw:return n*e*2/a.components*a.byteLength;case vI:return n*e*3/a.components*a.byteLength;case zo:return n*e*4/a.components*a.byteLength;case Yw:return n*e*4/a.components*a.byteLength;case Pb:case Lb:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case Nb:case zb:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case cE:case dE:return Math.max(n,16)*Math.max(e,8)/4;case lE:case uE:return Math.max(n,8)*Math.max(e,8)/2;case fE:case hE:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case pE:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case mE:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case gE:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case vE:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case yE:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case bE:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case SE:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case _E:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case xE:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case CE:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case EE:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case wE:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case AE:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case ME:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case TE:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case Ub:case RE:case OE:return Math.ceil(n/4)*Math.ceil(e/4)*16;case _I:case IE:return Math.ceil(n/4)*Math.ceil(e/4)*8;case BE:case DE:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function vse(n){switch(n){case Vc:case hI:return{byteLength:1,components:1};case g0:case pI:case z0:return{byteLength:2,components:1};case Vw:case jw:return{byteLength:2,components:4};case bf:case $w:case Is:return{byteLength:4,components:1};case mI:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class yse{static contain(e,t){return pse(e,t)}static cover(e,t){return mse(e,t)}static fill(e){return gse(e)}static getByteLength(e,t,r,a){return H2(e,t,r,a)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:FS}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=FS);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function $6(){let n=null,e=!1,t=null,r=null;function a(o,l){t(o,l),r=n.requestAnimationFrame(a)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(a),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(o){t=o},setContext:function(o){n=o}}}function bse(n){const e=new WeakMap;function t(s,u){const f=s.array,m=s.usage,b=f.byteLength,_=n.createBuffer();n.bindBuffer(u,_),n.bufferData(u,f,m),s.onUploadCallback();let E;if(f instanceof Float32Array)E=n.FLOAT;else if(f instanceof Uint16Array)s.isFloat16BufferAttribute?E=n.HALF_FLOAT:E=n.UNSIGNED_SHORT;else if(f instanceof Int16Array)E=n.SHORT;else if(f instanceof Uint32Array)E=n.UNSIGNED_INT;else if(f instanceof Int32Array)E=n.INT;else if(f instanceof Int8Array)E=n.BYTE;else if(f instanceof Uint8Array)E=n.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)E=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:_,type:E,bytesPerElement:f.BYTES_PER_ELEMENT,version:s.version,size:b}}function r(s,u,f){const m=u.array,b=u.updateRanges;if(n.bindBuffer(f,s),b.length===0)n.bufferSubData(f,0,m);else{b.sort((E,c)=>E.start-c.start);let _=0;for(let E=1;E<b.length;E++){const c=b[_],p=b[E];p.start<=c.start+c.count+1?c.count=Math.max(c.count,p.start+p.count-c.start):(++_,b[_]=p)}b.length=_+1;for(let E=0,c=b.length;E<c;E++){const p=b[E];n.bufferSubData(f,p.start*m.BYTES_PER_ELEMENT,m,p.start,p.count)}u.clearUpdateRanges()}u.onUploadCallback()}function a(s){return s.isInterleavedBufferAttribute&&(s=s.data),e.get(s)}function o(s){s.isInterleavedBufferAttribute&&(s=s.data);const u=e.get(s);u&&(n.deleteBuffer(u.buffer),e.delete(s))}function l(s,u){if(s.isInterleavedBufferAttribute&&(s=s.data),s.isGLBufferAttribute){const m=e.get(s);(!m||m.version<s.version)&&e.set(s,{buffer:s.buffer,type:s.type,bytesPerElement:s.elementSize,version:s.version});return}const f=e.get(s);if(f===void 0)e.set(s,t(s,u));else if(f.version<s.version){if(f.size!==s.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(f.buffer,s,u),f.version=s.version}}return{get:a,remove:o,update:l}}var Sse=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,_se=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,xse=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Cse=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Ese=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,wse=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Ase=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Mse=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Tse=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,Rse=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,Ose=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,Ise=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Bse=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Dse=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Pse=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Lse=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Nse=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,zse=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Use=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Fse=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Hse=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Gse=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,kse=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,$se=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Vse=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,jse=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Wse=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Xse=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Yse=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,qse=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Kse="gl_FragColor = linearToOutputTexel( gl_FragColor );",Jse=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Qse=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Zse=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,ele=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,tle=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,nle=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,ile=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,rle=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,ale=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,ole=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,sle=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,lle=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,cle=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,ule=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,dle=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,fle=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,hle=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,ple=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,mle=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,gle=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,vle=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,yle=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,ble=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Sle=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,_le=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,xle=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Cle=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Ele=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,wle=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,Ale=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Mle=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Tle=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Rle=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Ole=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Ile=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Ble=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Dle=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Ple=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Lle=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,Nle=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,zle=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Ule=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Fle=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Hle=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Gle=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,kle=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,$le=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,Vle=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,jle=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Wle=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Xle=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Yle=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,qle=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Kle=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Jle=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Qle=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Zle=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,ece=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,tce=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,nce=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,ice=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,rce=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,ace=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,oce=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,sce=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,lce=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,cce=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,uce=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,dce=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,fce=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,hce=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,pce=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,mce=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,gce=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,vce=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,yce=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const bce=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Sce=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,_ce=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,xce=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Cce=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Ece=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,wce=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Ace=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,Mce=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Tce=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Rce=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Oce=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Ice=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Bce=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Dce=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Pce=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Lce=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Nce=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,zce=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Uce=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Fce=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Hce=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Gce=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,kce=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,$ce=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Vce=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,jce=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Wce=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Xce=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Yce=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,qce=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Kce=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Jce=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Qce=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ui={alphahash_fragment:Sse,alphahash_pars_fragment:_se,alphamap_fragment:xse,alphamap_pars_fragment:Cse,alphatest_fragment:Ese,alphatest_pars_fragment:wse,aomap_fragment:Ase,aomap_pars_fragment:Mse,batching_pars_vertex:Tse,batching_vertex:Rse,begin_vertex:Ose,beginnormal_vertex:Ise,bsdfs:Bse,iridescence_fragment:Dse,bumpmap_pars_fragment:Pse,clipping_planes_fragment:Lse,clipping_planes_pars_fragment:Nse,clipping_planes_pars_vertex:zse,clipping_planes_vertex:Use,color_fragment:Fse,color_pars_fragment:Hse,color_pars_vertex:Gse,color_vertex:kse,common:$se,cube_uv_reflection_fragment:Vse,defaultnormal_vertex:jse,displacementmap_pars_vertex:Wse,displacementmap_vertex:Xse,emissivemap_fragment:Yse,emissivemap_pars_fragment:qse,colorspace_fragment:Kse,colorspace_pars_fragment:Jse,envmap_fragment:Qse,envmap_common_pars_fragment:Zse,envmap_pars_fragment:ele,envmap_pars_vertex:tle,envmap_physical_pars_fragment:fle,envmap_vertex:nle,fog_vertex:ile,fog_pars_vertex:rle,fog_fragment:ale,fog_pars_fragment:ole,gradientmap_pars_fragment:sle,lightmap_pars_fragment:lle,lights_lambert_fragment:cle,lights_lambert_pars_fragment:ule,lights_pars_begin:dle,lights_toon_fragment:hle,lights_toon_pars_fragment:ple,lights_phong_fragment:mle,lights_phong_pars_fragment:gle,lights_physical_fragment:vle,lights_physical_pars_fragment:yle,lights_fragment_begin:ble,lights_fragment_maps:Sle,lights_fragment_end:_le,logdepthbuf_fragment:xle,logdepthbuf_pars_fragment:Cle,logdepthbuf_pars_vertex:Ele,logdepthbuf_vertex:wle,map_fragment:Ale,map_pars_fragment:Mle,map_particle_fragment:Tle,map_particle_pars_fragment:Rle,metalnessmap_fragment:Ole,metalnessmap_pars_fragment:Ile,morphinstance_vertex:Ble,morphcolor_vertex:Dle,morphnormal_vertex:Ple,morphtarget_pars_vertex:Lle,morphtarget_vertex:Nle,normal_fragment_begin:zle,normal_fragment_maps:Ule,normal_pars_fragment:Fle,normal_pars_vertex:Hle,normal_vertex:Gle,normalmap_pars_fragment:kle,clearcoat_normal_fragment_begin:$le,clearcoat_normal_fragment_maps:Vle,clearcoat_pars_fragment:jle,iridescence_pars_fragment:Wle,opaque_fragment:Xle,packing:Yle,premultiplied_alpha_fragment:qle,project_vertex:Kle,dithering_fragment:Jle,dithering_pars_fragment:Qle,roughnessmap_fragment:Zle,roughnessmap_pars_fragment:ece,shadowmap_pars_fragment:tce,shadowmap_pars_vertex:nce,shadowmap_vertex:ice,shadowmask_pars_fragment:rce,skinbase_vertex:ace,skinning_pars_vertex:oce,skinning_vertex:sce,skinnormal_vertex:lce,specularmap_fragment:cce,specularmap_pars_fragment:uce,tonemapping_fragment:dce,tonemapping_pars_fragment:fce,transmission_fragment:hce,transmission_pars_fragment:pce,uv_pars_fragment:mce,uv_pars_vertex:gce,uv_vertex:vce,worldpos_vertex:yce,background_vert:bce,background_frag:Sce,backgroundCube_vert:_ce,backgroundCube_frag:xce,cube_vert:Cce,cube_frag:Ece,depth_vert:wce,depth_frag:Ace,distanceRGBA_vert:Mce,distanceRGBA_frag:Tce,equirect_vert:Rce,equirect_frag:Oce,linedashed_vert:Ice,linedashed_frag:Bce,meshbasic_vert:Dce,meshbasic_frag:Pce,meshlambert_vert:Lce,meshlambert_frag:Nce,meshmatcap_vert:zce,meshmatcap_frag:Uce,meshnormal_vert:Fce,meshnormal_frag:Hce,meshphong_vert:Gce,meshphong_frag:kce,meshphysical_vert:$ce,meshphysical_frag:Vce,meshtoon_vert:jce,meshtoon_frag:Wce,points_vert:Xce,points_frag:Yce,shadow_vert:qce,shadow_frag:Kce,sprite_vert:Jce,sprite_frag:Qce},rn={common:{diffuse:{value:new en(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new ti},alphaMap:{value:null},alphaMapTransform:{value:new ti},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new ti}},envmap:{envMap:{value:null},envMapRotation:{value:new ti},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new ti}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new ti}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new ti},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new ti},normalScale:{value:new Tt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new ti},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new ti}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new ti}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new ti}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new en(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new en(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new ti},alphaTest:{value:0},uvTransform:{value:new ti}},sprite:{diffuse:{value:new en(16777215)},opacity:{value:1},center:{value:new Tt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new ti},alphaMap:{value:null},alphaMapTransform:{value:new ti},alphaTest:{value:0}}},Pc={basic:{uniforms:rs([rn.common,rn.specularmap,rn.envmap,rn.aomap,rn.lightmap,rn.fog]),vertexShader:ui.meshbasic_vert,fragmentShader:ui.meshbasic_frag},lambert:{uniforms:rs([rn.common,rn.specularmap,rn.envmap,rn.aomap,rn.lightmap,rn.emissivemap,rn.bumpmap,rn.normalmap,rn.displacementmap,rn.fog,rn.lights,{emissive:{value:new en(0)}}]),vertexShader:ui.meshlambert_vert,fragmentShader:ui.meshlambert_frag},phong:{uniforms:rs([rn.common,rn.specularmap,rn.envmap,rn.aomap,rn.lightmap,rn.emissivemap,rn.bumpmap,rn.normalmap,rn.displacementmap,rn.fog,rn.lights,{emissive:{value:new en(0)},specular:{value:new en(1118481)},shininess:{value:30}}]),vertexShader:ui.meshphong_vert,fragmentShader:ui.meshphong_frag},standard:{uniforms:rs([rn.common,rn.envmap,rn.aomap,rn.lightmap,rn.emissivemap,rn.bumpmap,rn.normalmap,rn.displacementmap,rn.roughnessmap,rn.metalnessmap,rn.fog,rn.lights,{emissive:{value:new en(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ui.meshphysical_vert,fragmentShader:ui.meshphysical_frag},toon:{uniforms:rs([rn.common,rn.aomap,rn.lightmap,rn.emissivemap,rn.bumpmap,rn.normalmap,rn.displacementmap,rn.gradientmap,rn.fog,rn.lights,{emissive:{value:new en(0)}}]),vertexShader:ui.meshtoon_vert,fragmentShader:ui.meshtoon_frag},matcap:{uniforms:rs([rn.common,rn.bumpmap,rn.normalmap,rn.displacementmap,rn.fog,{matcap:{value:null}}]),vertexShader:ui.meshmatcap_vert,fragmentShader:ui.meshmatcap_frag},points:{uniforms:rs([rn.points,rn.fog]),vertexShader:ui.points_vert,fragmentShader:ui.points_frag},dashed:{uniforms:rs([rn.common,rn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ui.linedashed_vert,fragmentShader:ui.linedashed_frag},depth:{uniforms:rs([rn.common,rn.displacementmap]),vertexShader:ui.depth_vert,fragmentShader:ui.depth_frag},normal:{uniforms:rs([rn.common,rn.bumpmap,rn.normalmap,rn.displacementmap,{opacity:{value:1}}]),vertexShader:ui.meshnormal_vert,fragmentShader:ui.meshnormal_frag},sprite:{uniforms:rs([rn.sprite,rn.fog]),vertexShader:ui.sprite_vert,fragmentShader:ui.sprite_frag},background:{uniforms:{uvTransform:{value:new ti},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ui.background_vert,fragmentShader:ui.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new ti}},vertexShader:ui.backgroundCube_vert,fragmentShader:ui.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ui.cube_vert,fragmentShader:ui.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ui.equirect_vert,fragmentShader:ui.equirect_frag},distanceRGBA:{uniforms:rs([rn.common,rn.displacementmap,{referencePosition:{value:new be},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ui.distanceRGBA_vert,fragmentShader:ui.distanceRGBA_frag},shadow:{uniforms:rs([rn.lights,rn.fog,{color:{value:new en(0)},opacity:{value:1}}]),vertexShader:ui.shadow_vert,fragmentShader:ui.shadow_frag}};Pc.physical={uniforms:rs([Pc.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new ti},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new ti},clearcoatNormalScale:{value:new Tt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new ti},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new ti},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new ti},sheen:{value:0},sheenColor:{value:new en(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new ti},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new ti},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new ti},transmissionSamplerSize:{value:new Tt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new ti},attenuationDistance:{value:0},attenuationColor:{value:new en(0)},specularColor:{value:new en(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new ti},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new ti},anisotropyVector:{value:new Tt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new ti}}]),vertexShader:ui.meshphysical_vert,fragmentShader:ui.meshphysical_frag};const vC={r:0,b:0,g:0},Fp=new ol,Zce=new Pn;function eue(n,e,t,r,a,o,l){const s=new en(0);let u=o===!0?0:1,f,m,b=null,_=0,E=null;function c(T){let M=T.isScene===!0?T.background:null;return M&&M.isTexture&&(M=(T.backgroundBlurriness>0?t:e).get(M)),M}function p(T){let M=!1;const O=c(T);O===null?y(s,u):O&&O.isColor&&(y(O,1),M=!0);const B=n.xr.getEnvironmentBlendMode();B==="additive"?r.buffers.color.setClear(0,0,0,1,l):B==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,l),(n.autoClear||M)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function g(T,M){const O=c(M);O&&(O.isCubeTexture||O.mapping===N0)?(m===void 0&&(m=new ga(new Wm(1,1,1),new jc({name:"BackgroundCubeMaterial",uniforms:_0(Pc.backgroundCube.uniforms),vertexShader:Pc.backgroundCube.vertexShader,fragmentShader:Pc.backgroundCube.fragmentShader,side:cs,depthTest:!1,depthWrite:!1,fog:!1})),m.geometry.deleteAttribute("normal"),m.geometry.deleteAttribute("uv"),m.onBeforeRender=function(B,D,F){this.matrixWorld.copyPosition(F.matrixWorld)},Object.defineProperty(m.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),a.update(m)),Fp.copy(M.backgroundRotation),Fp.x*=-1,Fp.y*=-1,Fp.z*=-1,O.isCubeTexture&&O.isRenderTargetTexture===!1&&(Fp.y*=-1,Fp.z*=-1),m.material.uniforms.envMap.value=O,m.material.uniforms.flipEnvMap.value=O.isCubeTexture&&O.isRenderTargetTexture===!1?-1:1,m.material.uniforms.backgroundBlurriness.value=M.backgroundBlurriness,m.material.uniforms.backgroundIntensity.value=M.backgroundIntensity,m.material.uniforms.backgroundRotation.value.setFromMatrix4(Zce.makeRotationFromEuler(Fp)),m.material.toneMapped=Ii.getTransfer(O.colorSpace)!==sr,(b!==O||_!==O.version||E!==n.toneMapping)&&(m.material.needsUpdate=!0,b=O,_=O.version,E=n.toneMapping),m.layers.enableAll(),T.unshift(m,m.geometry,m.material,0,0,null)):O&&O.isTexture&&(f===void 0&&(f=new ga(new F0(2,2),new jc({name:"BackgroundMaterial",uniforms:_0(Pc.background.uniforms),vertexShader:Pc.background.vertexShader,fragmentShader:Pc.background.fragmentShader,side:nd,depthTest:!1,depthWrite:!1,fog:!1})),f.geometry.deleteAttribute("normal"),Object.defineProperty(f.material,"map",{get:function(){return this.uniforms.t2D.value}}),a.update(f)),f.material.uniforms.t2D.value=O,f.material.uniforms.backgroundIntensity.value=M.backgroundIntensity,f.material.toneMapped=Ii.getTransfer(O.colorSpace)!==sr,O.matrixAutoUpdate===!0&&O.updateMatrix(),f.material.uniforms.uvTransform.value.copy(O.matrix),(b!==O||_!==O.version||E!==n.toneMapping)&&(f.material.needsUpdate=!0,b=O,_=O.version,E=n.toneMapping),f.layers.enableAll(),T.unshift(f,f.geometry,f.material,0,0,null))}function y(T,M){T.getRGB(vC,q8(n)),r.buffers.color.setClear(vC.r,vC.g,vC.b,M,l)}function C(){m!==void 0&&(m.geometry.dispose(),m.material.dispose(),m=void 0),f!==void 0&&(f.geometry.dispose(),f.material.dispose(),f=void 0)}return{getClearColor:function(){return s},setClearColor:function(T,M=1){s.set(T),u=M,y(s,u)},getClearAlpha:function(){return u},setClearAlpha:function(T){u=T,y(s,u)},render:p,addToRenderList:g,dispose:C}}function tue(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),r={},a=_(null);let o=a,l=!1;function s(U,$,J,W,Q){let ae=!1;const Y=b(W,J,$);o!==Y&&(o=Y,f(o.object)),ae=E(U,W,J,Q),ae&&c(U,W,J,Q),Q!==null&&e.update(Q,n.ELEMENT_ARRAY_BUFFER),(ae||l)&&(l=!1,M(U,$,J,W),Q!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(Q).buffer))}function u(){return n.createVertexArray()}function f(U){return n.bindVertexArray(U)}function m(U){return n.deleteVertexArray(U)}function b(U,$,J){const W=J.wireframe===!0;let Q=r[U.id];Q===void 0&&(Q={},r[U.id]=Q);let ae=Q[$.id];ae===void 0&&(ae={},Q[$.id]=ae);let Y=ae[W];return Y===void 0&&(Y=_(u()),ae[W]=Y),Y}function _(U){const $=[],J=[],W=[];for(let Q=0;Q<t;Q++)$[Q]=0,J[Q]=0,W[Q]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:$,enabledAttributes:J,attributeDivisors:W,object:U,attributes:{},index:null}}function E(U,$,J,W){const Q=o.attributes,ae=$.attributes;let Y=0;const K=J.getAttributes();for(const ee in K)if(K[ee].location>=0){const q=Q[ee];let ie=ae[ee];if(ie===void 0&&(ee==="instanceMatrix"&&U.instanceMatrix&&(ie=U.instanceMatrix),ee==="instanceColor"&&U.instanceColor&&(ie=U.instanceColor)),q===void 0||q.attribute!==ie||ie&&q.data!==ie.data)return!0;Y++}return o.attributesNum!==Y||o.index!==W}function c(U,$,J,W){const Q={},ae=$.attributes;let Y=0;const K=J.getAttributes();for(const ee in K)if(K[ee].location>=0){let q=ae[ee];q===void 0&&(ee==="instanceMatrix"&&U.instanceMatrix&&(q=U.instanceMatrix),ee==="instanceColor"&&U.instanceColor&&(q=U.instanceColor));const ie={};ie.attribute=q,q&&q.data&&(ie.data=q.data),Q[ee]=ie,Y++}o.attributes=Q,o.attributesNum=Y,o.index=W}function p(){const U=o.newAttributes;for(let $=0,J=U.length;$<J;$++)U[$]=0}function g(U){y(U,0)}function y(U,$){const J=o.newAttributes,W=o.enabledAttributes,Q=o.attributeDivisors;J[U]=1,W[U]===0&&(n.enableVertexAttribArray(U),W[U]=1),Q[U]!==$&&(n.vertexAttribDivisor(U,$),Q[U]=$)}function C(){const U=o.newAttributes,$=o.enabledAttributes;for(let J=0,W=$.length;J<W;J++)$[J]!==U[J]&&(n.disableVertexAttribArray(J),$[J]=0)}function T(U,$,J,W,Q,ae,Y){Y===!0?n.vertexAttribIPointer(U,$,J,Q,ae):n.vertexAttribPointer(U,$,J,W,Q,ae)}function M(U,$,J,W){p();const Q=W.attributes,ae=J.getAttributes(),Y=$.defaultAttributeValues;for(const K in ae){const ee=ae[K];if(ee.location>=0){let de=Q[K];if(de===void 0&&(K==="instanceMatrix"&&U.instanceMatrix&&(de=U.instanceMatrix),K==="instanceColor"&&U.instanceColor&&(de=U.instanceColor)),de!==void 0){const q=de.normalized,ie=de.itemSize,he=e.get(de);if(he===void 0)continue;const fe=he.buffer,Z=he.type,pe=he.bytesPerElement,xe=Z===n.INT||Z===n.UNSIGNED_INT||de.gpuType===$w;if(de.isInterleavedBufferAttribute){const Oe=de.data,Ae=Oe.stride,Te=de.offset;if(Oe.isInstancedInterleavedBuffer){for(let ze=0;ze<ee.locationSize;ze++)y(ee.location+ze,Oe.meshPerAttribute);U.isInstancedMesh!==!0&&W._maxInstanceCount===void 0&&(W._maxInstanceCount=Oe.meshPerAttribute*Oe.count)}else for(let ze=0;ze<ee.locationSize;ze++)g(ee.location+ze);n.bindBuffer(n.ARRAY_BUFFER,fe);for(let ze=0;ze<ee.locationSize;ze++)T(ee.location+ze,ie/ee.locationSize,Z,q,Ae*pe,(Te+ie/ee.locationSize*ze)*pe,xe)}else{if(de.isInstancedBufferAttribute){for(let Oe=0;Oe<ee.locationSize;Oe++)y(ee.location+Oe,de.meshPerAttribute);U.isInstancedMesh!==!0&&W._maxInstanceCount===void 0&&(W._maxInstanceCount=de.meshPerAttribute*de.count)}else for(let Oe=0;Oe<ee.locationSize;Oe++)g(ee.location+Oe);n.bindBuffer(n.ARRAY_BUFFER,fe);for(let Oe=0;Oe<ee.locationSize;Oe++)T(ee.location+Oe,ie/ee.locationSize,Z,q,ie*pe,ie/ee.locationSize*Oe*pe,xe)}}else if(Y!==void 0){const q=Y[K];if(q!==void 0)switch(q.length){case 2:n.vertexAttrib2fv(ee.location,q);break;case 3:n.vertexAttrib3fv(ee.location,q);break;case 4:n.vertexAttrib4fv(ee.location,q);break;default:n.vertexAttrib1fv(ee.location,q)}}}}C()}function O(){F();for(const U in r){const $=r[U];for(const J in $){const W=$[J];for(const Q in W)m(W[Q].object),delete W[Q];delete $[J]}delete r[U]}}function B(U){if(r[U.id]===void 0)return;const $=r[U.id];for(const J in $){const W=$[J];for(const Q in W)m(W[Q].object),delete W[Q];delete $[J]}delete r[U.id]}function D(U){for(const $ in r){const J=r[$];if(J[U.id]===void 0)continue;const W=J[U.id];for(const Q in W)m(W[Q].object),delete W[Q];delete J[U.id]}}function F(){z(),l=!0,o!==a&&(o=a,f(o.object))}function z(){a.geometry=null,a.program=null,a.wireframe=!1}return{setup:s,reset:F,resetDefaultState:z,dispose:O,releaseStatesOfGeometry:B,releaseStatesOfProgram:D,initAttributes:p,enableAttribute:g,disableUnusedAttributes:C}}function nue(n,e,t){let r;function a(f){r=f}function o(f,m){n.drawArrays(r,f,m),t.update(m,r,1)}function l(f,m,b){b!==0&&(n.drawArraysInstanced(r,f,m,b),t.update(m,r,b))}function s(f,m,b){if(b===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,f,0,m,0,b);let E=0;for(let c=0;c<b;c++)E+=m[c];t.update(E,r,1)}function u(f,m,b,_){if(b===0)return;const E=e.get("WEBGL_multi_draw");if(E===null)for(let c=0;c<f.length;c++)l(f[c],m[c],_[c]);else{E.multiDrawArraysInstancedWEBGL(r,f,0,m,0,_,0,b);let c=0;for(let p=0;p<b;p++)c+=m[p]*_[p];t.update(c,r,1)}}this.setMode=a,this.render=o,this.renderInstances=l,this.renderMultiDraw=s,this.renderMultiDrawInstances=u}function iue(n,e,t,r){let a;function o(){if(a!==void 0)return a;if(e.has("EXT_texture_filter_anisotropic")===!0){const D=e.get("EXT_texture_filter_anisotropic");a=n.getParameter(D.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else a=0;return a}function l(D){return!(D!==zo&&r.convert(D)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function s(D){const F=D===z0&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(D!==Vc&&r.convert(D)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&D!==Is&&!F)}function u(D){if(D==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";D="mediump"}return D==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let f=t.precision!==void 0?t.precision:"highp";const m=u(f);m!==f&&(console.warn("THREE.WebGLRenderer:",f,"not supported, using",m,"instead."),f=m);const b=t.logarithmicDepthBuffer===!0,_=t.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),E=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),c=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),p=n.getParameter(n.MAX_TEXTURE_SIZE),g=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),y=n.getParameter(n.MAX_VERTEX_ATTRIBS),C=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),T=n.getParameter(n.MAX_VARYING_VECTORS),M=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),O=c>0,B=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:o,getMaxPrecision:u,textureFormatReadable:l,textureTypeReadable:s,precision:f,logarithmicDepthBuffer:b,reverseDepthBuffer:_,maxTextures:E,maxVertexTextures:c,maxTextureSize:p,maxCubemapSize:g,maxAttributes:y,maxVertexUniforms:C,maxVaryings:T,maxFragmentUniforms:M,vertexTextures:O,maxSamples:B}}function rue(n){const e=this;let t=null,r=0,a=!1,o=!1;const l=new tf,s=new ti,u={value:null,needsUpdate:!1};this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(b,_){const E=b.length!==0||_||r!==0||a;return a=_,r=b.length,E},this.beginShadows=function(){o=!0,m(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(b,_){t=m(b,_,0)},this.setState=function(b,_,E){const c=b.clippingPlanes,p=b.clipIntersection,g=b.clipShadows,y=n.get(b);if(!a||c===null||c.length===0||o&&!g)o?m(null):f();else{const C=o?0:r,T=C*4;let M=y.clippingState||null;u.value=M,M=m(c,_,T,E);for(let O=0;O!==T;++O)M[O]=t[O];y.clippingState=M,this.numIntersection=p?this.numPlanes:0,this.numPlanes+=C}};function f(){u.value!==t&&(u.value=t,u.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function m(b,_,E,c){const p=b!==null?b.length:0;let g=null;if(p!==0){if(g=u.value,c!==!0||g===null){const y=E+p*4,C=_.matrixWorldInverse;s.getNormalMatrix(C),(g===null||g.length<y)&&(g=new Float32Array(y));for(let T=0,M=E;T!==p;++T,M+=4)l.copy(b[T]).applyMatrix4(C,s),l.normal.toArray(g,M),g[M+3]=l.constant}u.value=g,u.needsUpdate=!0}return e.numPlanes=p,e.numIntersection=0,g}}function aue(n){let e=new WeakMap;function t(l,s){return s===sS?l.mapping=yf:s===lS&&(l.mapping=Gh),l}function r(l){if(l&&l.isTexture){const s=l.mapping;if(s===sS||s===lS)if(e.has(l)){const u=e.get(l).texture;return t(u,l.mapping)}else{const u=l.image;if(u&&u.height>0){const f=new Q8(u.height);return f.fromEquirectangularTexture(n,l),e.set(l,f),l.addEventListener("dispose",a),t(f.texture,l.mapping)}else return null}}return l}function a(l){const s=l.target;s.removeEventListener("dispose",a);const u=e.get(s);u!==void 0&&(e.delete(s),u.dispose())}function o(){e=new WeakMap}return{get:r,dispose:o}}const Hv=4,eN=[.125,.215,.35,.446,.526,.582],am=20,DT=new hf,tN=new en;let PT=null,LT=0,NT=0,zT=!1;const Xp=(1+Math.sqrt(5))/2,lv=1/Xp,nN=[new be(-Xp,lv,0),new be(Xp,lv,0),new be(-lv,0,Xp),new be(lv,0,Xp),new be(0,Xp,-lv),new be(0,Xp,lv),new be(-1,1,-1),new be(1,1,-1),new be(-1,1,1),new be(1,1,1)],oue=new be;class G2{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,a=100,o={}){const{size:l=256,position:s=oue}=o;PT=this._renderer.getRenderTarget(),LT=this._renderer.getActiveCubeFace(),NT=this._renderer.getActiveMipmapLevel(),zT=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(l);const u=this._allocateTargets();return u.depthBuffer=!0,this._sceneToCubeUV(e,r,a,u,s),t>0&&this._blur(u,0,0,t),this._applyPMREM(u),this._cleanup(u),u}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=aN(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=rN(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(PT,LT,NT),this._renderer.xr.enabled=zT,e.scissorTest=!1,yC(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===yf||e.mapping===Gh?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),PT=this._renderer.getRenderTarget(),LT=this._renderer.getActiveCubeFace(),NT=this._renderer.getActiveMipmapLevel(),zT=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:ma,minFilter:ma,generateMipmaps:!1,type:z0,format:zo,colorSpace:$h,depthBuffer:!1},a=iN(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=iN(e,t,r);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=sue(o)),this._blurMaterial=lue(o,e,t)}return a}_compileMaterial(e){const t=new ga(this._lodPlanes[0],e);this._renderer.compile(t,DT)}_sceneToCubeUV(e,t,r,a,o){const u=new Xr(90,1,t,r),f=[1,-1,1,1,1,1],m=[1,1,1,-1,-1,-1],b=this._renderer,_=b.autoClear,E=b.toneMapping;b.getClearColor(tN),b.toneMapping=qu,b.autoClear=!1;const c=new il({name:"PMREM.Background",side:cs,depthWrite:!1,depthTest:!1}),p=new ga(new Wm,c);let g=!1;const y=e.background;y?y.isColor&&(c.color.copy(y),e.background=null,g=!0):(c.color.copy(tN),g=!0);for(let C=0;C<6;C++){const T=C%3;T===0?(u.up.set(0,f[C],0),u.position.set(o.x,o.y,o.z),u.lookAt(o.x+m[C],o.y,o.z)):T===1?(u.up.set(0,0,f[C]),u.position.set(o.x,o.y,o.z),u.lookAt(o.x,o.y+m[C],o.z)):(u.up.set(0,f[C],0),u.position.set(o.x,o.y,o.z),u.lookAt(o.x,o.y,o.z+m[C]));const M=this._cubeSize;yC(a,T*M,C>2?M:0,M,M),b.setRenderTarget(a),g&&b.render(p,u),b.render(e,u)}p.geometry.dispose(),p.material.dispose(),b.toneMapping=E,b.autoClear=_,e.background=y}_textureToCubeUV(e,t){const r=this._renderer,a=e.mapping===yf||e.mapping===Gh;a?(this._cubemapMaterial===null&&(this._cubemapMaterial=aN()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=rN());const o=a?this._cubemapMaterial:this._equirectMaterial,l=new ga(this._lodPlanes[0],o),s=o.uniforms;s.envMap.value=e;const u=this._cubeSize;yC(t,0,0,3*u,2*u),r.setRenderTarget(t),r.render(l,DT)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;const a=this._lodPlanes.length;for(let o=1;o<a;o++){const l=Math.sqrt(this._sigmas[o]*this._sigmas[o]-this._sigmas[o-1]*this._sigmas[o-1]),s=nN[(a-o-1)%nN.length];this._blur(e,o-1,o,l,s)}t.autoClear=r}_blur(e,t,r,a,o){const l=this._pingPongRenderTarget;this._halfBlur(e,l,t,r,a,"latitudinal",o),this._halfBlur(l,e,r,r,a,"longitudinal",o)}_halfBlur(e,t,r,a,o,l,s){const u=this._renderer,f=this._blurMaterial;l!=="latitudinal"&&l!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const m=3,b=new ga(this._lodPlanes[a],f),_=f.uniforms,E=this._sizeLods[r]-1,c=isFinite(o)?Math.PI/(2*E):2*Math.PI/(2*am-1),p=o/c,g=isFinite(o)?1+Math.floor(m*p):am;g>am&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${g} samples when the maximum is set to ${am}`);const y=[];let C=0;for(let D=0;D<am;++D){const F=D/p,z=Math.exp(-F*F/2);y.push(z),D===0?C+=z:D<g&&(C+=2*z)}for(let D=0;D<y.length;D++)y[D]=y[D]/C;_.envMap.value=e.texture,_.samples.value=g,_.weights.value=y,_.latitudinal.value=l==="latitudinal",s&&(_.poleAxis.value=s);const{_lodMax:T}=this;_.dTheta.value=c,_.mipInt.value=T-r;const M=this._sizeLods[a],O=3*M*(a>T-Hv?a-T+Hv:0),B=4*(this._cubeSize-M);yC(t,O,B,3*M,2*M),u.setRenderTarget(t),u.render(b,DT)}}function sue(n){const e=[],t=[],r=[];let a=n;const o=n-Hv+1+eN.length;for(let l=0;l<o;l++){const s=Math.pow(2,a);t.push(s);let u=1/s;l>n-Hv?u=eN[l-n+Hv-1]:l===0&&(u=0),r.push(u);const f=1/(s-2),m=-f,b=1+f,_=[m,m,b,m,b,b,m,m,b,b,m,b],E=6,c=6,p=3,g=2,y=1,C=new Float32Array(p*c*E),T=new Float32Array(g*c*E),M=new Float32Array(y*c*E);for(let B=0;B<E;B++){const D=B%3*2/3-1,F=B>2?0:-1,z=[D,F,0,D+2/3,F,0,D+2/3,F+1,0,D,F,0,D+2/3,F+1,0,D,F+1,0];C.set(z,p*c*B),T.set(_,g*c*B);const U=[B,B,B,B,B,B];M.set(U,y*c*B)}const O=new ni;O.setAttribute("position",new ki(C,p)),O.setAttribute("uv",new ki(T,g)),O.setAttribute("faceIndex",new ki(M,y)),e.push(O),a>Hv&&a--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function iN(n,e,t){const r=new id(n,e,t);return r.texture.mapping=N0,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function yC(n,e,t,r,a){n.viewport.set(e,t,r,a),n.scissor.set(e,t,r,a)}function lue(n,e,t){const r=new Float32Array(am),a=new be(0,1,0);return new jc({name:"SphericalGaussianBlur",defines:{n:am,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:a}},vertexShader:iB(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:df,depthTest:!1,depthWrite:!1})}function rN(){return new jc({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:iB(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:df,depthTest:!1,depthWrite:!1})}function aN(){return new jc({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:iB(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:df,depthTest:!1,depthWrite:!1})}function iB(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function cue(n){let e=new WeakMap,t=null;function r(s){if(s&&s.isTexture){const u=s.mapping,f=u===sS||u===lS,m=u===yf||u===Gh;if(f||m){let b=e.get(s);const _=b!==void 0?b.texture.pmremVersion:0;if(s.isRenderTargetTexture&&s.pmremVersion!==_)return t===null&&(t=new G2(n)),b=f?t.fromEquirectangular(s,b):t.fromCubemap(s,b),b.texture.pmremVersion=s.pmremVersion,e.set(s,b),b.texture;if(b!==void 0)return b.texture;{const E=s.image;return f&&E&&E.height>0||m&&E&&a(E)?(t===null&&(t=new G2(n)),b=f?t.fromEquirectangular(s):t.fromCubemap(s),b.texture.pmremVersion=s.pmremVersion,e.set(s,b),s.addEventListener("dispose",o),b.texture):null}}}return s}function a(s){let u=0;const f=6;for(let m=0;m<f;m++)s[m]!==void 0&&u++;return u===f}function o(s){const u=s.target;u.removeEventListener("dispose",o);const f=e.get(u);f!==void 0&&(e.delete(u),f.dispose())}function l(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:l}}function uue(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let a;switch(r){case"WEBGL_depth_texture":a=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":a=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":a=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":a=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:a=n.getExtension(r)}return e[r]=a,a}return{has:function(r){return t(r)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(r){const a=t(r);return a===null&&Wp("THREE.WebGLRenderer: "+r+" extension not supported."),a}}}function due(n,e,t,r){const a={},o=new WeakMap;function l(b){const _=b.target;_.index!==null&&e.remove(_.index);for(const c in _.attributes)e.remove(_.attributes[c]);_.removeEventListener("dispose",l),delete a[_.id];const E=o.get(_);E&&(e.remove(E),o.delete(_)),r.releaseStatesOfGeometry(_),_.isInstancedBufferGeometry===!0&&delete _._maxInstanceCount,t.memory.geometries--}function s(b,_){return a[_.id]===!0||(_.addEventListener("dispose",l),a[_.id]=!0,t.memory.geometries++),_}function u(b){const _=b.attributes;for(const E in _)e.update(_[E],n.ARRAY_BUFFER)}function f(b){const _=[],E=b.index,c=b.attributes.position;let p=0;if(E!==null){const C=E.array;p=E.version;for(let T=0,M=C.length;T<M;T+=3){const O=C[T+0],B=C[T+1],D=C[T+2];_.push(O,B,B,D,D,O)}}else if(c!==void 0){const C=c.array;p=c.version;for(let T=0,M=C.length/3-1;T<M;T+=3){const O=T+0,B=T+1,D=T+2;_.push(O,B,B,D,D,O)}}else return;const g=new(j8(_)?MI:AI)(_,1);g.version=p;const y=o.get(b);y&&e.remove(y),o.set(b,g)}function m(b){const _=o.get(b);if(_){const E=b.index;E!==null&&_.version<E.version&&f(b)}else f(b);return o.get(b)}return{get:s,update:u,getWireframeAttribute:m}}function fue(n,e,t){let r;function a(_){r=_}let o,l;function s(_){o=_.type,l=_.bytesPerElement}function u(_,E){n.drawElements(r,E,o,_*l),t.update(E,r,1)}function f(_,E,c){c!==0&&(n.drawElementsInstanced(r,E,o,_*l,c),t.update(E,r,c))}function m(_,E,c){if(c===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,E,0,o,_,0,c);let g=0;for(let y=0;y<c;y++)g+=E[y];t.update(g,r,1)}function b(_,E,c,p){if(c===0)return;const g=e.get("WEBGL_multi_draw");if(g===null)for(let y=0;y<_.length;y++)f(_[y]/l,E[y],p[y]);else{g.multiDrawElementsInstancedWEBGL(r,E,0,o,_,0,p,0,c);let y=0;for(let C=0;C<c;C++)y+=E[C]*p[C];t.update(y,r,1)}}this.setMode=a,this.setIndex=s,this.render=u,this.renderInstances=f,this.renderMultiDraw=m,this.renderMultiDrawInstances=b}function hue(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(o,l,s){switch(t.calls++,l){case n.TRIANGLES:t.triangles+=s*(o/3);break;case n.LINES:t.lines+=s*(o/2);break;case n.LINE_STRIP:t.lines+=s*(o-1);break;case n.LINE_LOOP:t.lines+=s*o;break;case n.POINTS:t.points+=s*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",l);break}}function a(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:a,update:r}}function pue(n,e,t){const r=new WeakMap,a=new Gi;function o(l,s,u){const f=l.morphTargetInfluences,m=s.morphAttributes.position||s.morphAttributes.normal||s.morphAttributes.color,b=m!==void 0?m.length:0;let _=r.get(s);if(_===void 0||_.count!==b){let U=function(){F.dispose(),r.delete(s),s.removeEventListener("dispose",U)};var E=U;_!==void 0&&_.texture.dispose();const c=s.morphAttributes.position!==void 0,p=s.morphAttributes.normal!==void 0,g=s.morphAttributes.color!==void 0,y=s.morphAttributes.position||[],C=s.morphAttributes.normal||[],T=s.morphAttributes.color||[];let M=0;c===!0&&(M=1),p===!0&&(M=2),g===!0&&(M=3);let O=s.attributes.position.count*M,B=1;O>e.maxTextureSize&&(B=Math.ceil(O/e.maxTextureSize),O=e.maxTextureSize);const D=new Float32Array(O*B*4*b),F=new kS(D,O,B,b);F.type=Is,F.needsUpdate=!0;const z=M*4;for(let $=0;$<b;$++){const J=y[$],W=C[$],Q=T[$],ae=O*B*4*$;for(let Y=0;Y<J.count;Y++){const K=Y*z;c===!0&&(a.fromBufferAttribute(J,Y),D[ae+K+0]=a.x,D[ae+K+1]=a.y,D[ae+K+2]=a.z,D[ae+K+3]=0),p===!0&&(a.fromBufferAttribute(W,Y),D[ae+K+4]=a.x,D[ae+K+5]=a.y,D[ae+K+6]=a.z,D[ae+K+7]=0),g===!0&&(a.fromBufferAttribute(Q,Y),D[ae+K+8]=a.x,D[ae+K+9]=a.y,D[ae+K+10]=a.z,D[ae+K+11]=Q.itemSize===4?a.w:1)}}_={count:b,texture:F,size:new Tt(O,B)},r.set(s,_),s.addEventListener("dispose",U)}if(l.isInstancedMesh===!0&&l.morphTexture!==null)u.getUniforms().setValue(n,"morphTexture",l.morphTexture,t);else{let c=0;for(let g=0;g<f.length;g++)c+=f[g];const p=s.morphTargetsRelative?1:1-c;u.getUniforms().setValue(n,"morphTargetBaseInfluence",p),u.getUniforms().setValue(n,"morphTargetInfluences",f)}u.getUniforms().setValue(n,"morphTargetsTexture",_.texture,t),u.getUniforms().setValue(n,"morphTargetsTextureSize",_.size)}return{update:o}}function mue(n,e,t,r){let a=new WeakMap;function o(u){const f=r.render.frame,m=u.geometry,b=e.get(u,m);if(a.get(b)!==f&&(e.update(b),a.set(b,f)),u.isInstancedMesh&&(u.hasEventListener("dispose",s)===!1&&u.addEventListener("dispose",s),a.get(u)!==f&&(t.update(u.instanceMatrix,n.ARRAY_BUFFER),u.instanceColor!==null&&t.update(u.instanceColor,n.ARRAY_BUFFER),a.set(u,f))),u.isSkinnedMesh){const _=u.skeleton;a.get(_)!==f&&(_.update(),a.set(_,f))}return b}function l(){a=new WeakMap}function s(u){const f=u.target;f.removeEventListener("dispose",s),t.remove(f.instanceMatrix),f.instanceColor!==null&&t.remove(f.instanceColor)}return{update:o,dispose:l}}const V6=new Lr,oN=new PI(1,1),j6=new kS,W6=new Jw,X6=new $S,sN=[],lN=[],cN=new Float32Array(16),uN=new Float32Array(9),dN=new Float32Array(4);function G0(n,e,t){const r=n[0];if(r<=0||r>0)return n;const a=e*t;let o=sN[a];if(o===void 0&&(o=new Float32Array(a),sN[a]=o),e!==0){r.toArray(o,0);for(let l=1,s=0;l!==e;++l)s+=t,n[l].toArray(o,s)}return o}function Na(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function za(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function bA(n,e){let t=lN[e];t===void 0&&(t=new Int32Array(e),lN[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function gue(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function vue(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Na(t,e))return;n.uniform2fv(this.addr,e),za(t,e)}}function yue(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Na(t,e))return;n.uniform3fv(this.addr,e),za(t,e)}}function bue(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Na(t,e))return;n.uniform4fv(this.addr,e),za(t,e)}}function Sue(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Na(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),za(t,e)}else{if(Na(t,r))return;dN.set(r),n.uniformMatrix2fv(this.addr,!1,dN),za(t,r)}}function _ue(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Na(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),za(t,e)}else{if(Na(t,r))return;uN.set(r),n.uniformMatrix3fv(this.addr,!1,uN),za(t,r)}}function xue(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Na(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),za(t,e)}else{if(Na(t,r))return;cN.set(r),n.uniformMatrix4fv(this.addr,!1,cN),za(t,r)}}function Cue(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function Eue(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Na(t,e))return;n.uniform2iv(this.addr,e),za(t,e)}}function wue(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Na(t,e))return;n.uniform3iv(this.addr,e),za(t,e)}}function Aue(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Na(t,e))return;n.uniform4iv(this.addr,e),za(t,e)}}function Mue(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function Tue(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Na(t,e))return;n.uniform2uiv(this.addr,e),za(t,e)}}function Rue(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Na(t,e))return;n.uniform3uiv(this.addr,e),za(t,e)}}function Oue(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Na(t,e))return;n.uniform4uiv(this.addr,e),za(t,e)}}function Iue(n,e,t){const r=this.cache,a=t.allocateTextureUnit();r[0]!==a&&(n.uniform1i(this.addr,a),r[0]=a);let o;this.type===n.SAMPLER_2D_SHADOW?(oN.compareFunction=EI,o=oN):o=V6,t.setTexture2D(e||o,a)}function Bue(n,e,t){const r=this.cache,a=t.allocateTextureUnit();r[0]!==a&&(n.uniform1i(this.addr,a),r[0]=a),t.setTexture3D(e||W6,a)}function Due(n,e,t){const r=this.cache,a=t.allocateTextureUnit();r[0]!==a&&(n.uniform1i(this.addr,a),r[0]=a),t.setTextureCube(e||X6,a)}function Pue(n,e,t){const r=this.cache,a=t.allocateTextureUnit();r[0]!==a&&(n.uniform1i(this.addr,a),r[0]=a),t.setTexture2DArray(e||j6,a)}function Lue(n){switch(n){case 5126:return gue;case 35664:return vue;case 35665:return yue;case 35666:return bue;case 35674:return Sue;case 35675:return _ue;case 35676:return xue;case 5124:case 35670:return Cue;case 35667:case 35671:return Eue;case 35668:case 35672:return wue;case 35669:case 35673:return Aue;case 5125:return Mue;case 36294:return Tue;case 36295:return Rue;case 36296:return Oue;case 35678:case 36198:case 36298:case 36306:case 35682:return Iue;case 35679:case 36299:case 36307:return Bue;case 35680:case 36300:case 36308:case 36293:return Due;case 36289:case 36303:case 36311:case 36292:return Pue}}function Nue(n,e){n.uniform1fv(this.addr,e)}function zue(n,e){const t=G0(e,this.size,2);n.uniform2fv(this.addr,t)}function Uue(n,e){const t=G0(e,this.size,3);n.uniform3fv(this.addr,t)}function Fue(n,e){const t=G0(e,this.size,4);n.uniform4fv(this.addr,t)}function Hue(n,e){const t=G0(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function Gue(n,e){const t=G0(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function kue(n,e){const t=G0(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function $ue(n,e){n.uniform1iv(this.addr,e)}function Vue(n,e){n.uniform2iv(this.addr,e)}function jue(n,e){n.uniform3iv(this.addr,e)}function Wue(n,e){n.uniform4iv(this.addr,e)}function Xue(n,e){n.uniform1uiv(this.addr,e)}function Yue(n,e){n.uniform2uiv(this.addr,e)}function que(n,e){n.uniform3uiv(this.addr,e)}function Kue(n,e){n.uniform4uiv(this.addr,e)}function Jue(n,e,t){const r=this.cache,a=e.length,o=bA(t,a);Na(r,o)||(n.uniform1iv(this.addr,o),za(r,o));for(let l=0;l!==a;++l)t.setTexture2D(e[l]||V6,o[l])}function Que(n,e,t){const r=this.cache,a=e.length,o=bA(t,a);Na(r,o)||(n.uniform1iv(this.addr,o),za(r,o));for(let l=0;l!==a;++l)t.setTexture3D(e[l]||W6,o[l])}function Zue(n,e,t){const r=this.cache,a=e.length,o=bA(t,a);Na(r,o)||(n.uniform1iv(this.addr,o),za(r,o));for(let l=0;l!==a;++l)t.setTextureCube(e[l]||X6,o[l])}function ede(n,e,t){const r=this.cache,a=e.length,o=bA(t,a);Na(r,o)||(n.uniform1iv(this.addr,o),za(r,o));for(let l=0;l!==a;++l)t.setTexture2DArray(e[l]||j6,o[l])}function tde(n){switch(n){case 5126:return Nue;case 35664:return zue;case 35665:return Uue;case 35666:return Fue;case 35674:return Hue;case 35675:return Gue;case 35676:return kue;case 5124:case 35670:return $ue;case 35667:case 35671:return Vue;case 35668:case 35672:return jue;case 35669:case 35673:return Wue;case 5125:return Xue;case 36294:return Yue;case 36295:return que;case 36296:return Kue;case 35678:case 36198:case 36298:case 36306:case 35682:return Jue;case 35679:case 36299:case 36307:return Que;case 35680:case 36300:case 36308:case 36293:return Zue;case 36289:case 36303:case 36311:case 36292:return ede}}class nde{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.setValue=Lue(t.type)}}class ide{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=tde(t.type)}}class rde{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const a=this.seq;for(let o=0,l=a.length;o!==l;++o){const s=a[o];s.setValue(e,t[s.id],r)}}}const UT=/(\w+)(\])?(\[|\.)?/g;function fN(n,e){n.seq.push(e),n.map[e.id]=e}function ade(n,e,t){const r=n.name,a=r.length;for(UT.lastIndex=0;;){const o=UT.exec(r),l=UT.lastIndex;let s=o[1];const u=o[2]==="]",f=o[3];if(u&&(s=s|0),f===void 0||f==="["&&l+2===a){fN(t,f===void 0?new nde(s,n,e):new ide(s,n,e));break}else{let b=t.map[s];b===void 0&&(b=new rde(s),fN(t,b)),t=b}}}class qC{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let a=0;a<r;++a){const o=e.getActiveUniform(t,a),l=e.getUniformLocation(t,o.name);ade(o,l,this)}}setValue(e,t,r,a){const o=this.map[t];o!==void 0&&o.setValue(e,r,a)}setOptional(e,t,r){const a=t[r];a!==void 0&&this.setValue(e,r,a)}static upload(e,t,r,a){for(let o=0,l=t.length;o!==l;++o){const s=t[o],u=r[s.id];u.needsUpdate!==!1&&s.setValue(e,u.value,a)}}static seqWithValue(e,t){const r=[];for(let a=0,o=e.length;a!==o;++a){const l=e[a];l.id in t&&r.push(l)}return r}}function hN(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}const ode=37297;let sde=0;function lde(n,e){const t=n.split(`
`),r=[],a=Math.max(e-6,0),o=Math.min(e+6,t.length);for(let l=a;l<o;l++){const s=l+1;r.push(`${s===e?">":" "} ${s}: ${t[l]}`)}return r.join(`
`)}const pN=new ti;function cde(n){Ii._getMatrix(pN,Ii.workingColorSpace,n);const e=`mat3( ${pN.elements.map(t=>t.toFixed(4))} )`;switch(Ii.getTransfer(n)){case uS:return[e,"LinearTransferOETF"];case sr:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function mN(n,e,t){const r=n.getShaderParameter(e,n.COMPILE_STATUS),a=n.getShaderInfoLog(e).trim();if(r&&a==="")return"";const o=/ERROR: 0:(\d+)/.exec(a);if(o){const l=parseInt(o[1]);return t.toUpperCase()+`

`+a+`

`+lde(n.getShaderSource(e),l)}else return a}function ude(n,e){const t=cde(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function dde(n,e){let t;switch(e){case C8:t="Linear";break;case E8:t="Reinhard";break;case w8:t="Cineon";break;case fI:t="ACESFilmic";break;case M8:t="AgX";break;case T8:t="Neutral";break;case A8:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const bC=new be;function fde(){Ii.getLuminanceCoefficients(bC);const n=bC.x.toFixed(4),e=bC.y.toFixed(4),t=bC.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function hde(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(pb).join(`
`)}function pde(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function mde(n,e){const t={},r=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let a=0;a<r;a++){const o=n.getActiveAttrib(e,a),l=o.name;let s=1;o.type===n.FLOAT_MAT2&&(s=2),o.type===n.FLOAT_MAT3&&(s=3),o.type===n.FLOAT_MAT4&&(s=4),t[l]={type:o.type,location:n.getAttribLocation(e,l),locationSize:s}}return t}function pb(n){return n!==""}function gN(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function vN(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const gde=/^[ \t]*#include +<([\w\d./]+)>/gm;function k2(n){return n.replace(gde,yde)}const vde=new Map;function yde(n,e){let t=ui[e];if(t===void 0){const r=vde.get(e);if(r!==void 0)t=ui[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return k2(t)}const bde=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function yN(n){return n.replace(bde,Sde)}function Sde(n,e,t,r){let a="";for(let o=parseInt(e);o<parseInt(t);o++)a+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return a}function bN(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function _de(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===Hw?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===Db?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Oc&&(e="SHADOWMAP_TYPE_VSM"),e}function xde(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case yf:case Gh:e="ENVMAP_TYPE_CUBE";break;case N0:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Cde(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Gh:e="ENVMAP_MODE_REFRACTION";break}return e}function Ede(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case HS:e="ENVMAP_BLENDING_MULTIPLY";break;case _8:e="ENVMAP_BLENDING_MIX";break;case x8:e="ENVMAP_BLENDING_ADD";break}return e}function wde(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function Ade(n,e,t,r){const a=n.getContext(),o=t.defines;let l=t.vertexShader,s=t.fragmentShader;const u=_de(t),f=xde(t),m=Cde(t),b=Ede(t),_=wde(t),E=hde(t),c=pde(o),p=a.createProgram();let g,y,C=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(g=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,c].filter(pb).join(`
`),g.length>0&&(g+=`
`),y=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,c].filter(pb).join(`
`),y.length>0&&(y+=`
`)):(g=[bN(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,c,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+m:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(pb).join(`
`),y=[bN(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,c,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+f:"",t.envMap?"#define "+m:"",t.envMap?"#define "+b:"",_?"#define CUBEUV_TEXEL_WIDTH "+_.texelWidth:"",_?"#define CUBEUV_TEXEL_HEIGHT "+_.texelHeight:"",_?"#define CUBEUV_MAX_MIP "+_.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==qu?"#define TONE_MAPPING":"",t.toneMapping!==qu?ui.tonemapping_pars_fragment:"",t.toneMapping!==qu?dde("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",ui.colorspace_pars_fragment,ude("linearToOutputTexel",t.outputColorSpace),fde(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(pb).join(`
`)),l=k2(l),l=gN(l,t),l=vN(l,t),s=k2(s),s=gN(s,t),s=vN(s,t),l=yN(l),s=yN(s),t.isRawShaderMaterial!==!0&&(C=`#version 300 es
`,g=[E,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+g,y=["#define varying in",t.glslVersion===D2?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===D2?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+y);const T=C+g+l,M=C+y+s,O=hN(a,a.VERTEX_SHADER,T),B=hN(a,a.FRAGMENT_SHADER,M);a.attachShader(p,O),a.attachShader(p,B),t.index0AttributeName!==void 0?a.bindAttribLocation(p,0,t.index0AttributeName):t.morphTargets===!0&&a.bindAttribLocation(p,0,"position"),a.linkProgram(p);function D($){if(n.debug.checkShaderErrors){const J=a.getProgramInfoLog(p).trim(),W=a.getShaderInfoLog(O).trim(),Q=a.getShaderInfoLog(B).trim();let ae=!0,Y=!0;if(a.getProgramParameter(p,a.LINK_STATUS)===!1)if(ae=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(a,p,O,B);else{const K=mN(a,O,"vertex"),ee=mN(a,B,"fragment");console.error("THREE.WebGLProgram: Shader Error "+a.getError()+" - VALIDATE_STATUS "+a.getProgramParameter(p,a.VALIDATE_STATUS)+`

Material Name: `+$.name+`
Material Type: `+$.type+`

Program Info Log: `+J+`
`+K+`
`+ee)}else J!==""?console.warn("THREE.WebGLProgram: Program Info Log:",J):(W===""||Q==="")&&(Y=!1);Y&&($.diagnostics={runnable:ae,programLog:J,vertexShader:{log:W,prefix:g},fragmentShader:{log:Q,prefix:y}})}a.deleteShader(O),a.deleteShader(B),F=new qC(a,p),z=mde(a,p)}let F;this.getUniforms=function(){return F===void 0&&D(this),F};let z;this.getAttributes=function(){return z===void 0&&D(this),z};let U=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return U===!1&&(U=a.getProgramParameter(p,ode)),U},this.destroy=function(){r.releaseStatesOfProgram(this),a.deleteProgram(p),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=sde++,this.cacheKey=e,this.usedTimes=1,this.program=p,this.vertexShader=O,this.fragmentShader=B,this}let Mde=0;class Tde{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,a=this._getShaderStage(t),o=this._getShaderStage(r),l=this._getShaderCacheForMaterial(e);return l.has(a)===!1&&(l.add(a),a.usedTimes++),l.has(o)===!1&&(l.add(o),o.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new Rde(e),t.set(e,r)),r}}class Rde{constructor(e){this.id=Mde++,this.code=e,this.usedTimes=0}}function Ode(n,e,t,r,a,o,l){const s=new S0,u=new Tde,f=new Set,m=[],b=a.logarithmicDepthBuffer,_=a.vertexTextures;let E=a.precision;const c={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function p(z){return f.add(z),z===0?"uv":`uv${z}`}function g(z,U,$,J,W){const Q=J.fog,ae=W.geometry,Y=z.isMeshStandardMaterial?J.environment:null,K=(z.isMeshStandardMaterial?t:e).get(z.envMap||Y),ee=K&&K.mapping===N0?K.image.height:null,de=c[z.type];z.precision!==null&&(E=a.getMaxPrecision(z.precision),E!==z.precision&&console.warn("THREE.WebGLProgram.getParameters:",z.precision,"not supported, using",E,"instead."));const q=ae.morphAttributes.position||ae.morphAttributes.normal||ae.morphAttributes.color,ie=q!==void 0?q.length:0;let he=0;ae.morphAttributes.position!==void 0&&(he=1),ae.morphAttributes.normal!==void 0&&(he=2),ae.morphAttributes.color!==void 0&&(he=3);let fe,Z,pe,xe;if(de){const Lt=Pc[de];fe=Lt.vertexShader,Z=Lt.fragmentShader}else fe=z.vertexShader,Z=z.fragmentShader,u.update(z),pe=u.getVertexShaderID(z),xe=u.getFragmentShaderID(z);const Oe=n.getRenderTarget(),Ae=n.state.buffers.depth.getReversed(),Te=W.isInstancedMesh===!0,ze=W.isBatchedMesh===!0,yt=!!z.map,Be=!!z.matcap,Ce=!!K,re=!!z.aoMap,Fe=!!z.lightMap,Ie=!!z.bumpMap,qe=!!z.normalMap,$e=!!z.displacementMap,ct=!!z.emissiveMap,st=!!z.metalnessMap,ce=!!z.roughnessMap,oe=z.anisotropy>0,we=z.clearcoat>0,De=z.dispersion>0,Ke=z.iridescence>0,He=z.sheen>0,gt=z.transmission>0,lt=oe&&!!z.anisotropyMap,pt=we&&!!z.clearcoatMap,It=we&&!!z.clearcoatNormalMap,ot=we&&!!z.clearcoatRoughnessMap,_t=Ke&&!!z.iridescenceMap,Ct=Ke&&!!z.iridescenceThicknessMap,We=He&&!!z.sheenColorMap,rt=He&&!!z.sheenRoughnessMap,Se=!!z.specularMap,Ge=!!z.specularColorMap,St=!!z.specularIntensityMap,Me=gt&&!!z.transmissionMap,xt=gt&&!!z.thicknessMap,et=!!z.gradientMap,mt=!!z.alphaMap,Nt=z.alphaTest>0,Bt=!!z.alphaHash,Qt=!!z.extensions;let sn=qu;z.toneMapped&&(Oe===null||Oe.isXRRenderTarget===!0)&&(sn=n.toneMapping);const qt={shaderID:de,shaderType:z.type,shaderName:z.name,vertexShader:fe,fragmentShader:Z,defines:z.defines,customVertexShaderID:pe,customFragmentShaderID:xe,isRawShaderMaterial:z.isRawShaderMaterial===!0,glslVersion:z.glslVersion,precision:E,batching:ze,batchingColor:ze&&W._colorsTexture!==null,instancing:Te,instancingColor:Te&&W.instanceColor!==null,instancingMorph:Te&&W.morphTexture!==null,supportsVertexTextures:_,outputColorSpace:Oe===null?n.outputColorSpace:Oe.isXRRenderTarget===!0?Oe.texture.colorSpace:$h,alphaToCoverage:!!z.alphaToCoverage,map:yt,matcap:Be,envMap:Ce,envMapMode:Ce&&K.mapping,envMapCubeUVHeight:ee,aoMap:re,lightMap:Fe,bumpMap:Ie,normalMap:qe,displacementMap:_&&$e,emissiveMap:ct,normalMapObjectSpace:qe&&z.normalMapType===N8,normalMapTangentSpace:qe&&z.normalMapType===Wh,metalnessMap:st,roughnessMap:ce,anisotropy:oe,anisotropyMap:lt,clearcoat:we,clearcoatMap:pt,clearcoatNormalMap:It,clearcoatRoughnessMap:ot,dispersion:De,iridescence:Ke,iridescenceMap:_t,iridescenceThicknessMap:Ct,sheen:He,sheenColorMap:We,sheenRoughnessMap:rt,specularMap:Se,specularColorMap:Ge,specularIntensityMap:St,transmission:gt,transmissionMap:Me,thicknessMap:xt,gradientMap:et,opaque:z.transparent===!1&&z.blending===Cm&&z.alphaToCoverage===!1,alphaMap:mt,alphaTest:Nt,alphaHash:Bt,combine:z.combine,mapUv:yt&&p(z.map.channel),aoMapUv:re&&p(z.aoMap.channel),lightMapUv:Fe&&p(z.lightMap.channel),bumpMapUv:Ie&&p(z.bumpMap.channel),normalMapUv:qe&&p(z.normalMap.channel),displacementMapUv:$e&&p(z.displacementMap.channel),emissiveMapUv:ct&&p(z.emissiveMap.channel),metalnessMapUv:st&&p(z.metalnessMap.channel),roughnessMapUv:ce&&p(z.roughnessMap.channel),anisotropyMapUv:lt&&p(z.anisotropyMap.channel),clearcoatMapUv:pt&&p(z.clearcoatMap.channel),clearcoatNormalMapUv:It&&p(z.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ot&&p(z.clearcoatRoughnessMap.channel),iridescenceMapUv:_t&&p(z.iridescenceMap.channel),iridescenceThicknessMapUv:Ct&&p(z.iridescenceThicknessMap.channel),sheenColorMapUv:We&&p(z.sheenColorMap.channel),sheenRoughnessMapUv:rt&&p(z.sheenRoughnessMap.channel),specularMapUv:Se&&p(z.specularMap.channel),specularColorMapUv:Ge&&p(z.specularColorMap.channel),specularIntensityMapUv:St&&p(z.specularIntensityMap.channel),transmissionMapUv:Me&&p(z.transmissionMap.channel),thicknessMapUv:xt&&p(z.thicknessMap.channel),alphaMapUv:mt&&p(z.alphaMap.channel),vertexTangents:!!ae.attributes.tangent&&(qe||oe),vertexColors:z.vertexColors,vertexAlphas:z.vertexColors===!0&&!!ae.attributes.color&&ae.attributes.color.itemSize===4,pointsUvs:W.isPoints===!0&&!!ae.attributes.uv&&(yt||mt),fog:!!Q,useFog:z.fog===!0,fogExp2:!!Q&&Q.isFogExp2,flatShading:z.flatShading===!0,sizeAttenuation:z.sizeAttenuation===!0,logarithmicDepthBuffer:b,reverseDepthBuffer:Ae,skinning:W.isSkinnedMesh===!0,morphTargets:ae.morphAttributes.position!==void 0,morphNormals:ae.morphAttributes.normal!==void 0,morphColors:ae.morphAttributes.color!==void 0,morphTargetsCount:ie,morphTextureStride:he,numDirLights:U.directional.length,numPointLights:U.point.length,numSpotLights:U.spot.length,numSpotLightMaps:U.spotLightMap.length,numRectAreaLights:U.rectArea.length,numHemiLights:U.hemi.length,numDirLightShadows:U.directionalShadowMap.length,numPointLightShadows:U.pointShadowMap.length,numSpotLightShadows:U.spotShadowMap.length,numSpotLightShadowsWithMaps:U.numSpotLightShadowsWithMaps,numLightProbes:U.numLightProbes,numClippingPlanes:l.numPlanes,numClipIntersection:l.numIntersection,dithering:z.dithering,shadowMapEnabled:n.shadowMap.enabled&&$.length>0,shadowMapType:n.shadowMap.type,toneMapping:sn,decodeVideoTexture:yt&&z.map.isVideoTexture===!0&&Ii.getTransfer(z.map.colorSpace)===sr,decodeVideoTextureEmissive:ct&&z.emissiveMap.isVideoTexture===!0&&Ii.getTransfer(z.emissiveMap.colorSpace)===sr,premultipliedAlpha:z.premultipliedAlpha,doubleSided:z.side===zc,flipSided:z.side===cs,useDepthPacking:z.depthPacking>=0,depthPacking:z.depthPacking||0,index0AttributeName:z.index0AttributeName,extensionClipCullDistance:Qt&&z.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Qt&&z.extensions.multiDraw===!0||ze)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:z.customProgramCacheKey()};return qt.vertexUv1s=f.has(1),qt.vertexUv2s=f.has(2),qt.vertexUv3s=f.has(3),f.clear(),qt}function y(z){const U=[];if(z.shaderID?U.push(z.shaderID):(U.push(z.customVertexShaderID),U.push(z.customFragmentShaderID)),z.defines!==void 0)for(const $ in z.defines)U.push($),U.push(z.defines[$]);return z.isRawShaderMaterial===!1&&(C(U,z),T(U,z),U.push(n.outputColorSpace)),U.push(z.customProgramCacheKey),U.join()}function C(z,U){z.push(U.precision),z.push(U.outputColorSpace),z.push(U.envMapMode),z.push(U.envMapCubeUVHeight),z.push(U.mapUv),z.push(U.alphaMapUv),z.push(U.lightMapUv),z.push(U.aoMapUv),z.push(U.bumpMapUv),z.push(U.normalMapUv),z.push(U.displacementMapUv),z.push(U.emissiveMapUv),z.push(U.metalnessMapUv),z.push(U.roughnessMapUv),z.push(U.anisotropyMapUv),z.push(U.clearcoatMapUv),z.push(U.clearcoatNormalMapUv),z.push(U.clearcoatRoughnessMapUv),z.push(U.iridescenceMapUv),z.push(U.iridescenceThicknessMapUv),z.push(U.sheenColorMapUv),z.push(U.sheenRoughnessMapUv),z.push(U.specularMapUv),z.push(U.specularColorMapUv),z.push(U.specularIntensityMapUv),z.push(U.transmissionMapUv),z.push(U.thicknessMapUv),z.push(U.combine),z.push(U.fogExp2),z.push(U.sizeAttenuation),z.push(U.morphTargetsCount),z.push(U.morphAttributeCount),z.push(U.numDirLights),z.push(U.numPointLights),z.push(U.numSpotLights),z.push(U.numSpotLightMaps),z.push(U.numHemiLights),z.push(U.numRectAreaLights),z.push(U.numDirLightShadows),z.push(U.numPointLightShadows),z.push(U.numSpotLightShadows),z.push(U.numSpotLightShadowsWithMaps),z.push(U.numLightProbes),z.push(U.shadowMapType),z.push(U.toneMapping),z.push(U.numClippingPlanes),z.push(U.numClipIntersection),z.push(U.depthPacking)}function T(z,U){s.disableAll(),U.supportsVertexTextures&&s.enable(0),U.instancing&&s.enable(1),U.instancingColor&&s.enable(2),U.instancingMorph&&s.enable(3),U.matcap&&s.enable(4),U.envMap&&s.enable(5),U.normalMapObjectSpace&&s.enable(6),U.normalMapTangentSpace&&s.enable(7),U.clearcoat&&s.enable(8),U.iridescence&&s.enable(9),U.alphaTest&&s.enable(10),U.vertexColors&&s.enable(11),U.vertexAlphas&&s.enable(12),U.vertexUv1s&&s.enable(13),U.vertexUv2s&&s.enable(14),U.vertexUv3s&&s.enable(15),U.vertexTangents&&s.enable(16),U.anisotropy&&s.enable(17),U.alphaHash&&s.enable(18),U.batching&&s.enable(19),U.dispersion&&s.enable(20),U.batchingColor&&s.enable(21),z.push(s.mask),s.disableAll(),U.fog&&s.enable(0),U.useFog&&s.enable(1),U.flatShading&&s.enable(2),U.logarithmicDepthBuffer&&s.enable(3),U.reverseDepthBuffer&&s.enable(4),U.skinning&&s.enable(5),U.morphTargets&&s.enable(6),U.morphNormals&&s.enable(7),U.morphColors&&s.enable(8),U.premultipliedAlpha&&s.enable(9),U.shadowMapEnabled&&s.enable(10),U.doubleSided&&s.enable(11),U.flipSided&&s.enable(12),U.useDepthPacking&&s.enable(13),U.dithering&&s.enable(14),U.transmission&&s.enable(15),U.sheen&&s.enable(16),U.opaque&&s.enable(17),U.pointsUvs&&s.enable(18),U.decodeVideoTexture&&s.enable(19),U.decodeVideoTextureEmissive&&s.enable(20),U.alphaToCoverage&&s.enable(21),z.push(s.mask)}function M(z){const U=c[z.type];let $;if(U){const J=Pc[U];$=K8.clone(J.uniforms)}else $=z.uniforms;return $}function O(z,U){let $;for(let J=0,W=m.length;J<W;J++){const Q=m[J];if(Q.cacheKey===U){$=Q,++$.usedTimes;break}}return $===void 0&&($=new Ade(n,U,z,o),m.push($)),$}function B(z){if(--z.usedTimes===0){const U=m.indexOf(z);m[U]=m[m.length-1],m.pop(),z.destroy()}}function D(z){u.remove(z)}function F(){u.dispose()}return{getParameters:g,getProgramCacheKey:y,getUniforms:M,acquireProgram:O,releaseProgram:B,releaseShaderCache:D,programs:m,dispose:F}}function Ide(){let n=new WeakMap;function e(l){return n.has(l)}function t(l){let s=n.get(l);return s===void 0&&(s={},n.set(l,s)),s}function r(l){n.delete(l)}function a(l,s,u){n.get(l)[s]=u}function o(){n=new WeakMap}return{has:e,get:t,remove:r,update:a,dispose:o}}function Bde(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function SN(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function _N(){const n=[];let e=0;const t=[],r=[],a=[];function o(){e=0,t.length=0,r.length=0,a.length=0}function l(b,_,E,c,p,g){let y=n[e];return y===void 0?(y={id:b.id,object:b,geometry:_,material:E,groupOrder:c,renderOrder:b.renderOrder,z:p,group:g},n[e]=y):(y.id=b.id,y.object=b,y.geometry=_,y.material=E,y.groupOrder=c,y.renderOrder=b.renderOrder,y.z=p,y.group=g),e++,y}function s(b,_,E,c,p,g){const y=l(b,_,E,c,p,g);E.transmission>0?r.push(y):E.transparent===!0?a.push(y):t.push(y)}function u(b,_,E,c,p,g){const y=l(b,_,E,c,p,g);E.transmission>0?r.unshift(y):E.transparent===!0?a.unshift(y):t.unshift(y)}function f(b,_){t.length>1&&t.sort(b||Bde),r.length>1&&r.sort(_||SN),a.length>1&&a.sort(_||SN)}function m(){for(let b=e,_=n.length;b<_;b++){const E=n[b];if(E.id===null)break;E.id=null,E.object=null,E.geometry=null,E.material=null,E.group=null}}return{opaque:t,transmissive:r,transparent:a,init:o,push:s,unshift:u,finish:m,sort:f}}function Dde(){let n=new WeakMap;function e(r,a){const o=n.get(r);let l;return o===void 0?(l=new _N,n.set(r,[l])):a>=o.length?(l=new _N,o.push(l)):l=o[a],l}function t(){n=new WeakMap}return{get:e,dispose:t}}function Pde(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new be,color:new en};break;case"SpotLight":t={position:new be,direction:new be,color:new en,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new be,color:new en,distance:0,decay:0};break;case"HemisphereLight":t={direction:new be,skyColor:new en,groundColor:new en};break;case"RectAreaLight":t={color:new en,position:new be,halfWidth:new be,halfHeight:new be};break}return n[e.id]=t,t}}}function Lde(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Tt};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Tt};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Tt,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let Nde=0;function zde(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function Ude(n){const e=new Pde,t=Lde(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let f=0;f<9;f++)r.probe.push(new be);const a=new be,o=new Pn,l=new Pn;function s(f){let m=0,b=0,_=0;for(let z=0;z<9;z++)r.probe[z].set(0,0,0);let E=0,c=0,p=0,g=0,y=0,C=0,T=0,M=0,O=0,B=0,D=0;f.sort(zde);for(let z=0,U=f.length;z<U;z++){const $=f[z],J=$.color,W=$.intensity,Q=$.distance,ae=$.shadow&&$.shadow.map?$.shadow.map.texture:null;if($.isAmbientLight)m+=J.r*W,b+=J.g*W,_+=J.b*W;else if($.isLightProbe){for(let Y=0;Y<9;Y++)r.probe[Y].addScaledVector($.sh.coefficients[Y],W);D++}else if($.isDirectionalLight){const Y=e.get($);if(Y.color.copy($.color).multiplyScalar($.intensity),$.castShadow){const K=$.shadow,ee=t.get($);ee.shadowIntensity=K.intensity,ee.shadowBias=K.bias,ee.shadowNormalBias=K.normalBias,ee.shadowRadius=K.radius,ee.shadowMapSize=K.mapSize,r.directionalShadow[E]=ee,r.directionalShadowMap[E]=ae,r.directionalShadowMatrix[E]=$.shadow.matrix,C++}r.directional[E]=Y,E++}else if($.isSpotLight){const Y=e.get($);Y.position.setFromMatrixPosition($.matrixWorld),Y.color.copy(J).multiplyScalar(W),Y.distance=Q,Y.coneCos=Math.cos($.angle),Y.penumbraCos=Math.cos($.angle*(1-$.penumbra)),Y.decay=$.decay,r.spot[p]=Y;const K=$.shadow;if($.map&&(r.spotLightMap[O]=$.map,O++,K.updateMatrices($),$.castShadow&&B++),r.spotLightMatrix[p]=K.matrix,$.castShadow){const ee=t.get($);ee.shadowIntensity=K.intensity,ee.shadowBias=K.bias,ee.shadowNormalBias=K.normalBias,ee.shadowRadius=K.radius,ee.shadowMapSize=K.mapSize,r.spotShadow[p]=ee,r.spotShadowMap[p]=ae,M++}p++}else if($.isRectAreaLight){const Y=e.get($);Y.color.copy(J).multiplyScalar(W),Y.halfWidth.set($.width*.5,0,0),Y.halfHeight.set(0,$.height*.5,0),r.rectArea[g]=Y,g++}else if($.isPointLight){const Y=e.get($);if(Y.color.copy($.color).multiplyScalar($.intensity),Y.distance=$.distance,Y.decay=$.decay,$.castShadow){const K=$.shadow,ee=t.get($);ee.shadowIntensity=K.intensity,ee.shadowBias=K.bias,ee.shadowNormalBias=K.normalBias,ee.shadowRadius=K.radius,ee.shadowMapSize=K.mapSize,ee.shadowCameraNear=K.camera.near,ee.shadowCameraFar=K.camera.far,r.pointShadow[c]=ee,r.pointShadowMap[c]=ae,r.pointShadowMatrix[c]=$.shadow.matrix,T++}r.point[c]=Y,c++}else if($.isHemisphereLight){const Y=e.get($);Y.skyColor.copy($.color).multiplyScalar(W),Y.groundColor.copy($.groundColor).multiplyScalar(W),r.hemi[y]=Y,y++}}g>0&&(n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=rn.LTC_FLOAT_1,r.rectAreaLTC2=rn.LTC_FLOAT_2):(r.rectAreaLTC1=rn.LTC_HALF_1,r.rectAreaLTC2=rn.LTC_HALF_2)),r.ambient[0]=m,r.ambient[1]=b,r.ambient[2]=_;const F=r.hash;(F.directionalLength!==E||F.pointLength!==c||F.spotLength!==p||F.rectAreaLength!==g||F.hemiLength!==y||F.numDirectionalShadows!==C||F.numPointShadows!==T||F.numSpotShadows!==M||F.numSpotMaps!==O||F.numLightProbes!==D)&&(r.directional.length=E,r.spot.length=p,r.rectArea.length=g,r.point.length=c,r.hemi.length=y,r.directionalShadow.length=C,r.directionalShadowMap.length=C,r.pointShadow.length=T,r.pointShadowMap.length=T,r.spotShadow.length=M,r.spotShadowMap.length=M,r.directionalShadowMatrix.length=C,r.pointShadowMatrix.length=T,r.spotLightMatrix.length=M+O-B,r.spotLightMap.length=O,r.numSpotLightShadowsWithMaps=B,r.numLightProbes=D,F.directionalLength=E,F.pointLength=c,F.spotLength=p,F.rectAreaLength=g,F.hemiLength=y,F.numDirectionalShadows=C,F.numPointShadows=T,F.numSpotShadows=M,F.numSpotMaps=O,F.numLightProbes=D,r.version=Nde++)}function u(f,m){let b=0,_=0,E=0,c=0,p=0;const g=m.matrixWorldInverse;for(let y=0,C=f.length;y<C;y++){const T=f[y];if(T.isDirectionalLight){const M=r.directional[b];M.direction.setFromMatrixPosition(T.matrixWorld),a.setFromMatrixPosition(T.target.matrixWorld),M.direction.sub(a),M.direction.transformDirection(g),b++}else if(T.isSpotLight){const M=r.spot[E];M.position.setFromMatrixPosition(T.matrixWorld),M.position.applyMatrix4(g),M.direction.setFromMatrixPosition(T.matrixWorld),a.setFromMatrixPosition(T.target.matrixWorld),M.direction.sub(a),M.direction.transformDirection(g),E++}else if(T.isRectAreaLight){const M=r.rectArea[c];M.position.setFromMatrixPosition(T.matrixWorld),M.position.applyMatrix4(g),l.identity(),o.copy(T.matrixWorld),o.premultiply(g),l.extractRotation(o),M.halfWidth.set(T.width*.5,0,0),M.halfHeight.set(0,T.height*.5,0),M.halfWidth.applyMatrix4(l),M.halfHeight.applyMatrix4(l),c++}else if(T.isPointLight){const M=r.point[_];M.position.setFromMatrixPosition(T.matrixWorld),M.position.applyMatrix4(g),_++}else if(T.isHemisphereLight){const M=r.hemi[p];M.direction.setFromMatrixPosition(T.matrixWorld),M.direction.transformDirection(g),p++}}}return{setup:s,setupView:u,state:r}}function xN(n){const e=new Ude(n),t=[],r=[];function a(m){f.camera=m,t.length=0,r.length=0}function o(m){t.push(m)}function l(m){r.push(m)}function s(){e.setup(t)}function u(m){e.setupView(t,m)}const f={lightsArray:t,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:a,state:f,setupLights:s,setupLightsView:u,pushLight:o,pushShadow:l}}function Fde(n){let e=new WeakMap;function t(a,o=0){const l=e.get(a);let s;return l===void 0?(s=new xN(n),e.set(a,[s])):o>=l.length?(s=new xN(n),l.push(s)):s=l[o],s}function r(){e=new WeakMap}return{get:t,dispose:r}}const Hde=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Gde=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function kde(n,e,t){let r=new WS;const a=new Tt,o=new Tt,l=new Gi,s=new GI({depthPacking:L8}),u=new kI,f={},m=t.maxTextureSize,b={[nd]:cs,[cs]:nd,[zc]:zc},_=new jc({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Tt},radius:{value:4}},vertexShader:Hde,fragmentShader:Gde}),E=_.clone();E.defines.HORIZONTAL_PASS=1;const c=new ni;c.setAttribute("position",new ki(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const p=new ga(c,_),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Hw;let y=this.type;this.render=function(B,D,F){if(g.enabled===!1||g.autoUpdate===!1&&g.needsUpdate===!1||B.length===0)return;const z=n.getRenderTarget(),U=n.getActiveCubeFace(),$=n.getActiveMipmapLevel(),J=n.state;J.setBlending(df),J.buffers.color.setClear(1,1,1,1),J.buffers.depth.setTest(!0),J.setScissorTest(!1);const W=y!==Oc&&this.type===Oc,Q=y===Oc&&this.type!==Oc;for(let ae=0,Y=B.length;ae<Y;ae++){const K=B[ae],ee=K.shadow;if(ee===void 0){console.warn("THREE.WebGLShadowMap:",K,"has no shadow.");continue}if(ee.autoUpdate===!1&&ee.needsUpdate===!1)continue;a.copy(ee.mapSize);const de=ee.getFrameExtents();if(a.multiply(de),o.copy(ee.mapSize),(a.x>m||a.y>m)&&(a.x>m&&(o.x=Math.floor(m/de.x),a.x=o.x*de.x,ee.mapSize.x=o.x),a.y>m&&(o.y=Math.floor(m/de.y),a.y=o.y*de.y,ee.mapSize.y=o.y)),ee.map===null||W===!0||Q===!0){const ie=this.type!==Oc?{minFilter:Za,magFilter:Za}:{};ee.map!==null&&ee.map.dispose(),ee.map=new id(a.x,a.y,ie),ee.map.texture.name=K.name+".shadowMap",ee.camera.updateProjectionMatrix()}n.setRenderTarget(ee.map),n.clear();const q=ee.getViewportCount();for(let ie=0;ie<q;ie++){const he=ee.getViewport(ie);l.set(o.x*he.x,o.y*he.y,o.x*he.z,o.y*he.w),J.viewport(l),ee.updateMatrices(K,ie),r=ee.getFrustum(),M(D,F,ee.camera,K,this.type)}ee.isPointLightShadow!==!0&&this.type===Oc&&C(ee,F),ee.needsUpdate=!1}y=this.type,g.needsUpdate=!1,n.setRenderTarget(z,U,$)};function C(B,D){const F=e.update(p);_.defines.VSM_SAMPLES!==B.blurSamples&&(_.defines.VSM_SAMPLES=B.blurSamples,E.defines.VSM_SAMPLES=B.blurSamples,_.needsUpdate=!0,E.needsUpdate=!0),B.mapPass===null&&(B.mapPass=new id(a.x,a.y)),_.uniforms.shadow_pass.value=B.map.texture,_.uniforms.resolution.value=B.mapSize,_.uniforms.radius.value=B.radius,n.setRenderTarget(B.mapPass),n.clear(),n.renderBufferDirect(D,null,F,_,p,null),E.uniforms.shadow_pass.value=B.mapPass.texture,E.uniforms.resolution.value=B.mapSize,E.uniforms.radius.value=B.radius,n.setRenderTarget(B.map),n.clear(),n.renderBufferDirect(D,null,F,E,p,null)}function T(B,D,F,z){let U=null;const $=F.isPointLight===!0?B.customDistanceMaterial:B.customDepthMaterial;if($!==void 0)U=$;else if(U=F.isPointLight===!0?u:s,n.localClippingEnabled&&D.clipShadows===!0&&Array.isArray(D.clippingPlanes)&&D.clippingPlanes.length!==0||D.displacementMap&&D.displacementScale!==0||D.alphaMap&&D.alphaTest>0||D.map&&D.alphaTest>0){const J=U.uuid,W=D.uuid;let Q=f[J];Q===void 0&&(Q={},f[J]=Q);let ae=Q[W];ae===void 0&&(ae=U.clone(),Q[W]=ae,D.addEventListener("dispose",O)),U=ae}if(U.visible=D.visible,U.wireframe=D.wireframe,z===Oc?U.side=D.shadowSide!==null?D.shadowSide:D.side:U.side=D.shadowSide!==null?D.shadowSide:b[D.side],U.alphaMap=D.alphaMap,U.alphaTest=D.alphaTest,U.map=D.map,U.clipShadows=D.clipShadows,U.clippingPlanes=D.clippingPlanes,U.clipIntersection=D.clipIntersection,U.displacementMap=D.displacementMap,U.displacementScale=D.displacementScale,U.displacementBias=D.displacementBias,U.wireframeLinewidth=D.wireframeLinewidth,U.linewidth=D.linewidth,F.isPointLight===!0&&U.isMeshDistanceMaterial===!0){const J=n.properties.get(U);J.light=F}return U}function M(B,D,F,z,U){if(B.visible===!1)return;if(B.layers.test(D.layers)&&(B.isMesh||B.isLine||B.isPoints)&&(B.castShadow||B.receiveShadow&&U===Oc)&&(!B.frustumCulled||r.intersectsObject(B))){B.modelViewMatrix.multiplyMatrices(F.matrixWorldInverse,B.matrixWorld);const W=e.update(B),Q=B.material;if(Array.isArray(Q)){const ae=W.groups;for(let Y=0,K=ae.length;Y<K;Y++){const ee=ae[Y],de=Q[ee.materialIndex];if(de&&de.visible){const q=T(B,de,z,U);B.onBeforeShadow(n,B,D,F,W,q,ee),n.renderBufferDirect(F,null,W,q,B,ee),B.onAfterShadow(n,B,D,F,W,q,ee)}}}else if(Q.visible){const ae=T(B,Q,z,U);B.onBeforeShadow(n,B,D,F,W,ae,null),n.renderBufferDirect(F,null,W,ae,B,null),B.onAfterShadow(n,B,D,F,W,ae,null)}}const J=B.children;for(let W=0,Q=J.length;W<Q;W++)M(J[W],D,F,z,U)}function O(B){B.target.removeEventListener("dispose",O);for(const F in f){const z=f[F],U=B.target.uuid;U in z&&(z[U].dispose(),delete z[U])}}}const $de={[tE]:nE,[iE]:oE,[rE]:sE,[Tm]:aE,[nE]:tE,[oE]:iE,[sE]:rE,[aE]:Tm};function Vde(n,e){function t(){let Me=!1;const xt=new Gi;let et=null;const mt=new Gi(0,0,0,0);return{setMask:function(Nt){et!==Nt&&!Me&&(n.colorMask(Nt,Nt,Nt,Nt),et=Nt)},setLocked:function(Nt){Me=Nt},setClear:function(Nt,Bt,Qt,sn,qt){qt===!0&&(Nt*=sn,Bt*=sn,Qt*=sn),xt.set(Nt,Bt,Qt,sn),mt.equals(xt)===!1&&(n.clearColor(Nt,Bt,Qt,sn),mt.copy(xt))},reset:function(){Me=!1,et=null,mt.set(-1,0,0,0)}}}function r(){let Me=!1,xt=!1,et=null,mt=null,Nt=null;return{setReversed:function(Bt){if(xt!==Bt){const Qt=e.get("EXT_clip_control");xt?Qt.clipControlEXT(Qt.LOWER_LEFT_EXT,Qt.ZERO_TO_ONE_EXT):Qt.clipControlEXT(Qt.LOWER_LEFT_EXT,Qt.NEGATIVE_ONE_TO_ONE_EXT);const sn=Nt;Nt=null,this.setClear(sn)}xt=Bt},getReversed:function(){return xt},setTest:function(Bt){Bt?Oe(n.DEPTH_TEST):Ae(n.DEPTH_TEST)},setMask:function(Bt){et!==Bt&&!Me&&(n.depthMask(Bt),et=Bt)},setFunc:function(Bt){if(xt&&(Bt=$de[Bt]),mt!==Bt){switch(Bt){case tE:n.depthFunc(n.NEVER);break;case nE:n.depthFunc(n.ALWAYS);break;case iE:n.depthFunc(n.LESS);break;case Tm:n.depthFunc(n.LEQUAL);break;case rE:n.depthFunc(n.EQUAL);break;case aE:n.depthFunc(n.GEQUAL);break;case oE:n.depthFunc(n.GREATER);break;case sE:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}mt=Bt}},setLocked:function(Bt){Me=Bt},setClear:function(Bt){Nt!==Bt&&(xt&&(Bt=1-Bt),n.clearDepth(Bt),Nt=Bt)},reset:function(){Me=!1,et=null,mt=null,Nt=null,xt=!1}}}function a(){let Me=!1,xt=null,et=null,mt=null,Nt=null,Bt=null,Qt=null,sn=null,qt=null;return{setTest:function(Lt){Me||(Lt?Oe(n.STENCIL_TEST):Ae(n.STENCIL_TEST))},setMask:function(Lt){xt!==Lt&&!Me&&(n.stencilMask(Lt),xt=Lt)},setFunc:function(Lt,Yt,yn){(et!==Lt||mt!==Yt||Nt!==yn)&&(n.stencilFunc(Lt,Yt,yn),et=Lt,mt=Yt,Nt=yn)},setOp:function(Lt,Yt,yn){(Bt!==Lt||Qt!==Yt||sn!==yn)&&(n.stencilOp(Lt,Yt,yn),Bt=Lt,Qt=Yt,sn=yn)},setLocked:function(Lt){Me=Lt},setClear:function(Lt){qt!==Lt&&(n.clearStencil(Lt),qt=Lt)},reset:function(){Me=!1,xt=null,et=null,mt=null,Nt=null,Bt=null,Qt=null,sn=null,qt=null}}}const o=new t,l=new r,s=new a,u=new WeakMap,f=new WeakMap;let m={},b={},_=new WeakMap,E=[],c=null,p=!1,g=null,y=null,C=null,T=null,M=null,O=null,B=null,D=new en(0,0,0),F=0,z=!1,U=null,$=null,J=null,W=null,Q=null;const ae=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let Y=!1,K=0;const ee=n.getParameter(n.VERSION);ee.indexOf("WebGL")!==-1?(K=parseFloat(/^WebGL (\d)/.exec(ee)[1]),Y=K>=1):ee.indexOf("OpenGL ES")!==-1&&(K=parseFloat(/^OpenGL ES (\d)/.exec(ee)[1]),Y=K>=2);let de=null,q={};const ie=n.getParameter(n.SCISSOR_BOX),he=n.getParameter(n.VIEWPORT),fe=new Gi().fromArray(ie),Z=new Gi().fromArray(he);function pe(Me,xt,et,mt){const Nt=new Uint8Array(4),Bt=n.createTexture();n.bindTexture(Me,Bt),n.texParameteri(Me,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(Me,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Qt=0;Qt<et;Qt++)Me===n.TEXTURE_3D||Me===n.TEXTURE_2D_ARRAY?n.texImage3D(xt,0,n.RGBA,1,1,mt,0,n.RGBA,n.UNSIGNED_BYTE,Nt):n.texImage2D(xt+Qt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Nt);return Bt}const xe={};xe[n.TEXTURE_2D]=pe(n.TEXTURE_2D,n.TEXTURE_2D,1),xe[n.TEXTURE_CUBE_MAP]=pe(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),xe[n.TEXTURE_2D_ARRAY]=pe(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),xe[n.TEXTURE_3D]=pe(n.TEXTURE_3D,n.TEXTURE_3D,1,1),o.setClear(0,0,0,1),l.setClear(1),s.setClear(0),Oe(n.DEPTH_TEST),l.setFunc(Tm),Ie(!1),qe(M2),Oe(n.CULL_FACE),re(df);function Oe(Me){m[Me]!==!0&&(n.enable(Me),m[Me]=!0)}function Ae(Me){m[Me]!==!1&&(n.disable(Me),m[Me]=!1)}function Te(Me,xt){return b[Me]!==xt?(n.bindFramebuffer(Me,xt),b[Me]=xt,Me===n.DRAW_FRAMEBUFFER&&(b[n.FRAMEBUFFER]=xt),Me===n.FRAMEBUFFER&&(b[n.DRAW_FRAMEBUFFER]=xt),!0):!1}function ze(Me,xt){let et=E,mt=!1;if(Me){et=_.get(xt),et===void 0&&(et=[],_.set(xt,et));const Nt=Me.textures;if(et.length!==Nt.length||et[0]!==n.COLOR_ATTACHMENT0){for(let Bt=0,Qt=Nt.length;Bt<Qt;Bt++)et[Bt]=n.COLOR_ATTACHMENT0+Bt;et.length=Nt.length,mt=!0}}else et[0]!==n.BACK&&(et[0]=n.BACK,mt=!0);mt&&n.drawBuffers(et)}function yt(Me){return c!==Me?(n.useProgram(Me),c=Me,!0):!1}const Be={[wh]:n.FUNC_ADD,[r8]:n.FUNC_SUBTRACT,[a8]:n.FUNC_REVERSE_SUBTRACT};Be[o8]=n.MIN,Be[s8]=n.MAX;const Ce={[l8]:n.ZERO,[c8]:n.ONE,[u8]:n.SRC_COLOR,[Z1]:n.SRC_ALPHA,[g8]:n.SRC_ALPHA_SATURATE,[p8]:n.DST_COLOR,[f8]:n.DST_ALPHA,[d8]:n.ONE_MINUS_SRC_COLOR,[eE]:n.ONE_MINUS_SRC_ALPHA,[m8]:n.ONE_MINUS_DST_COLOR,[h8]:n.ONE_MINUS_DST_ALPHA,[v8]:n.CONSTANT_COLOR,[y8]:n.ONE_MINUS_CONSTANT_COLOR,[b8]:n.CONSTANT_ALPHA,[S8]:n.ONE_MINUS_CONSTANT_ALPHA};function re(Me,xt,et,mt,Nt,Bt,Qt,sn,qt,Lt){if(Me===df){p===!0&&(Ae(n.BLEND),p=!1);return}if(p===!1&&(Oe(n.BLEND),p=!0),Me!==i8){if(Me!==g||Lt!==z){if((y!==wh||M!==wh)&&(n.blendEquation(n.FUNC_ADD),y=wh,M=wh),Lt)switch(Me){case Cm:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case T2:n.blendFunc(n.ONE,n.ONE);break;case R2:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case O2:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Me);break}else switch(Me){case Cm:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case T2:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case R2:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case O2:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Me);break}C=null,T=null,O=null,B=null,D.set(0,0,0),F=0,g=Me,z=Lt}return}Nt=Nt||xt,Bt=Bt||et,Qt=Qt||mt,(xt!==y||Nt!==M)&&(n.blendEquationSeparate(Be[xt],Be[Nt]),y=xt,M=Nt),(et!==C||mt!==T||Bt!==O||Qt!==B)&&(n.blendFuncSeparate(Ce[et],Ce[mt],Ce[Bt],Ce[Qt]),C=et,T=mt,O=Bt,B=Qt),(sn.equals(D)===!1||qt!==F)&&(n.blendColor(sn.r,sn.g,sn.b,qt),D.copy(sn),F=qt),g=Me,z=!1}function Fe(Me,xt){Me.side===zc?Ae(n.CULL_FACE):Oe(n.CULL_FACE);let et=Me.side===cs;xt&&(et=!et),Ie(et),Me.blending===Cm&&Me.transparent===!1?re(df):re(Me.blending,Me.blendEquation,Me.blendSrc,Me.blendDst,Me.blendEquationAlpha,Me.blendSrcAlpha,Me.blendDstAlpha,Me.blendColor,Me.blendAlpha,Me.premultipliedAlpha),l.setFunc(Me.depthFunc),l.setTest(Me.depthTest),l.setMask(Me.depthWrite),o.setMask(Me.colorWrite);const mt=Me.stencilWrite;s.setTest(mt),mt&&(s.setMask(Me.stencilWriteMask),s.setFunc(Me.stencilFunc,Me.stencilRef,Me.stencilFuncMask),s.setOp(Me.stencilFail,Me.stencilZFail,Me.stencilZPass)),ct(Me.polygonOffset,Me.polygonOffsetFactor,Me.polygonOffsetUnits),Me.alphaToCoverage===!0?Oe(n.SAMPLE_ALPHA_TO_COVERAGE):Ae(n.SAMPLE_ALPHA_TO_COVERAGE)}function Ie(Me){U!==Me&&(Me?n.frontFace(n.CW):n.frontFace(n.CCW),U=Me)}function qe(Me){Me!==e8?(Oe(n.CULL_FACE),Me!==$&&(Me===M2?n.cullFace(n.BACK):Me===t8?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Ae(n.CULL_FACE),$=Me}function $e(Me){Me!==J&&(Y&&n.lineWidth(Me),J=Me)}function ct(Me,xt,et){Me?(Oe(n.POLYGON_OFFSET_FILL),(W!==xt||Q!==et)&&(n.polygonOffset(xt,et),W=xt,Q=et)):Ae(n.POLYGON_OFFSET_FILL)}function st(Me){Me?Oe(n.SCISSOR_TEST):Ae(n.SCISSOR_TEST)}function ce(Me){Me===void 0&&(Me=n.TEXTURE0+ae-1),de!==Me&&(n.activeTexture(Me),de=Me)}function oe(Me,xt,et){et===void 0&&(de===null?et=n.TEXTURE0+ae-1:et=de);let mt=q[et];mt===void 0&&(mt={type:void 0,texture:void 0},q[et]=mt),(mt.type!==Me||mt.texture!==xt)&&(de!==et&&(n.activeTexture(et),de=et),n.bindTexture(Me,xt||xe[Me]),mt.type=Me,mt.texture=xt)}function we(){const Me=q[de];Me!==void 0&&Me.type!==void 0&&(n.bindTexture(Me.type,null),Me.type=void 0,Me.texture=void 0)}function De(){try{n.compressedTexImage2D(...arguments)}catch(Me){console.error("THREE.WebGLState:",Me)}}function Ke(){try{n.compressedTexImage3D(...arguments)}catch(Me){console.error("THREE.WebGLState:",Me)}}function He(){try{n.texSubImage2D(...arguments)}catch(Me){console.error("THREE.WebGLState:",Me)}}function gt(){try{n.texSubImage3D(...arguments)}catch(Me){console.error("THREE.WebGLState:",Me)}}function lt(){try{n.compressedTexSubImage2D(...arguments)}catch(Me){console.error("THREE.WebGLState:",Me)}}function pt(){try{n.compressedTexSubImage3D(...arguments)}catch(Me){console.error("THREE.WebGLState:",Me)}}function It(){try{n.texStorage2D(...arguments)}catch(Me){console.error("THREE.WebGLState:",Me)}}function ot(){try{n.texStorage3D(...arguments)}catch(Me){console.error("THREE.WebGLState:",Me)}}function _t(){try{n.texImage2D(...arguments)}catch(Me){console.error("THREE.WebGLState:",Me)}}function Ct(){try{n.texImage3D(...arguments)}catch(Me){console.error("THREE.WebGLState:",Me)}}function We(Me){fe.equals(Me)===!1&&(n.scissor(Me.x,Me.y,Me.z,Me.w),fe.copy(Me))}function rt(Me){Z.equals(Me)===!1&&(n.viewport(Me.x,Me.y,Me.z,Me.w),Z.copy(Me))}function Se(Me,xt){let et=f.get(xt);et===void 0&&(et=new WeakMap,f.set(xt,et));let mt=et.get(Me);mt===void 0&&(mt=n.getUniformBlockIndex(xt,Me.name),et.set(Me,mt))}function Ge(Me,xt){const mt=f.get(xt).get(Me);u.get(xt)!==mt&&(n.uniformBlockBinding(xt,mt,Me.__bindingPointIndex),u.set(xt,mt))}function St(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),l.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),m={},de=null,q={},b={},_=new WeakMap,E=[],c=null,p=!1,g=null,y=null,C=null,T=null,M=null,O=null,B=null,D=new en(0,0,0),F=0,z=!1,U=null,$=null,J=null,W=null,Q=null,fe.set(0,0,n.canvas.width,n.canvas.height),Z.set(0,0,n.canvas.width,n.canvas.height),o.reset(),l.reset(),s.reset()}return{buffers:{color:o,depth:l,stencil:s},enable:Oe,disable:Ae,bindFramebuffer:Te,drawBuffers:ze,useProgram:yt,setBlending:re,setMaterial:Fe,setFlipSided:Ie,setCullFace:qe,setLineWidth:$e,setPolygonOffset:ct,setScissorTest:st,activeTexture:ce,bindTexture:oe,unbindTexture:we,compressedTexImage2D:De,compressedTexImage3D:Ke,texImage2D:_t,texImage3D:Ct,updateUBOMapping:Se,uniformBlockBinding:Ge,texStorage2D:It,texStorage3D:ot,texSubImage2D:He,texSubImage3D:gt,compressedTexSubImage2D:lt,compressedTexSubImage3D:pt,scissor:We,viewport:rt,reset:St}}function jde(n,e,t,r,a,o,l){const s=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,u=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),f=new Tt,m=new WeakMap;let b;const _=new WeakMap;let E=!1;try{E=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function c(ce,oe){return E?new OffscreenCanvas(ce,oe):hS("canvas")}function p(ce,oe,we){let De=1;const Ke=st(ce);if((Ke.width>we||Ke.height>we)&&(De=we/Math.max(Ke.width,Ke.height)),De<1)if(typeof HTMLImageElement<"u"&&ce instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ce instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ce instanceof ImageBitmap||typeof VideoFrame<"u"&&ce instanceof VideoFrame){const He=Math.floor(De*Ke.width),gt=Math.floor(De*Ke.height);b===void 0&&(b=c(He,gt));const lt=oe?c(He,gt):b;return lt.width=He,lt.height=gt,lt.getContext("2d").drawImage(ce,0,0,He,gt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ke.width+"x"+Ke.height+") to ("+He+"x"+gt+")."),lt}else return"data"in ce&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ke.width+"x"+Ke.height+")."),ce;return ce}function g(ce){return ce.generateMipmaps}function y(ce){n.generateMipmap(ce)}function C(ce){return ce.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:ce.isWebGL3DRenderTarget?n.TEXTURE_3D:ce.isWebGLArrayRenderTarget||ce.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function T(ce,oe,we,De,Ke=!1){if(ce!==null){if(n[ce]!==void 0)return n[ce];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ce+"'")}let He=oe;if(oe===n.RED&&(we===n.FLOAT&&(He=n.R32F),we===n.HALF_FLOAT&&(He=n.R16F),we===n.UNSIGNED_BYTE&&(He=n.R8)),oe===n.RED_INTEGER&&(we===n.UNSIGNED_BYTE&&(He=n.R8UI),we===n.UNSIGNED_SHORT&&(He=n.R16UI),we===n.UNSIGNED_INT&&(He=n.R32UI),we===n.BYTE&&(He=n.R8I),we===n.SHORT&&(He=n.R16I),we===n.INT&&(He=n.R32I)),oe===n.RG&&(we===n.FLOAT&&(He=n.RG32F),we===n.HALF_FLOAT&&(He=n.RG16F),we===n.UNSIGNED_BYTE&&(He=n.RG8)),oe===n.RG_INTEGER&&(we===n.UNSIGNED_BYTE&&(He=n.RG8UI),we===n.UNSIGNED_SHORT&&(He=n.RG16UI),we===n.UNSIGNED_INT&&(He=n.RG32UI),we===n.BYTE&&(He=n.RG8I),we===n.SHORT&&(He=n.RG16I),we===n.INT&&(He=n.RG32I)),oe===n.RGB_INTEGER&&(we===n.UNSIGNED_BYTE&&(He=n.RGB8UI),we===n.UNSIGNED_SHORT&&(He=n.RGB16UI),we===n.UNSIGNED_INT&&(He=n.RGB32UI),we===n.BYTE&&(He=n.RGB8I),we===n.SHORT&&(He=n.RGB16I),we===n.INT&&(He=n.RGB32I)),oe===n.RGBA_INTEGER&&(we===n.UNSIGNED_BYTE&&(He=n.RGBA8UI),we===n.UNSIGNED_SHORT&&(He=n.RGBA16UI),we===n.UNSIGNED_INT&&(He=n.RGBA32UI),we===n.BYTE&&(He=n.RGBA8I),we===n.SHORT&&(He=n.RGBA16I),we===n.INT&&(He=n.RGBA32I)),oe===n.RGB&&we===n.UNSIGNED_INT_5_9_9_9_REV&&(He=n.RGB9_E5),oe===n.RGBA){const gt=Ke?uS:Ii.getTransfer(De);we===n.FLOAT&&(He=n.RGBA32F),we===n.HALF_FLOAT&&(He=n.RGBA16F),we===n.UNSIGNED_BYTE&&(He=gt===sr?n.SRGB8_ALPHA8:n.RGBA8),we===n.UNSIGNED_SHORT_4_4_4_4&&(He=n.RGBA4),we===n.UNSIGNED_SHORT_5_5_5_1&&(He=n.RGB5_A1)}return(He===n.R16F||He===n.R32F||He===n.RG16F||He===n.RG32F||He===n.RGBA16F||He===n.RGBA32F)&&e.get("EXT_color_buffer_float"),He}function M(ce,oe){let we;return ce?oe===null||oe===bf||oe===Rm?we=n.DEPTH24_STENCIL8:oe===Is?we=n.DEPTH32F_STENCIL8:oe===g0&&(we=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):oe===null||oe===bf||oe===Rm?we=n.DEPTH_COMPONENT24:oe===Is?we=n.DEPTH_COMPONENT32F:oe===g0&&(we=n.DEPTH_COMPONENT16),we}function O(ce,oe){return g(ce)===!0||ce.isFramebufferTexture&&ce.minFilter!==Za&&ce.minFilter!==ma?Math.log2(Math.max(oe.width,oe.height))+1:ce.mipmaps!==void 0&&ce.mipmaps.length>0?ce.mipmaps.length:ce.isCompressedTexture&&Array.isArray(ce.image)?oe.mipmaps.length:1}function B(ce){const oe=ce.target;oe.removeEventListener("dispose",B),F(oe),oe.isVideoTexture&&m.delete(oe)}function D(ce){const oe=ce.target;oe.removeEventListener("dispose",D),U(oe)}function F(ce){const oe=r.get(ce);if(oe.__webglInit===void 0)return;const we=ce.source,De=_.get(we);if(De){const Ke=De[oe.__cacheKey];Ke.usedTimes--,Ke.usedTimes===0&&z(ce),Object.keys(De).length===0&&_.delete(we)}r.remove(ce)}function z(ce){const oe=r.get(ce);n.deleteTexture(oe.__webglTexture);const we=ce.source,De=_.get(we);delete De[oe.__cacheKey],l.memory.textures--}function U(ce){const oe=r.get(ce);if(ce.depthTexture&&(ce.depthTexture.dispose(),r.remove(ce.depthTexture)),ce.isWebGLCubeRenderTarget)for(let De=0;De<6;De++){if(Array.isArray(oe.__webglFramebuffer[De]))for(let Ke=0;Ke<oe.__webglFramebuffer[De].length;Ke++)n.deleteFramebuffer(oe.__webglFramebuffer[De][Ke]);else n.deleteFramebuffer(oe.__webglFramebuffer[De]);oe.__webglDepthbuffer&&n.deleteRenderbuffer(oe.__webglDepthbuffer[De])}else{if(Array.isArray(oe.__webglFramebuffer))for(let De=0;De<oe.__webglFramebuffer.length;De++)n.deleteFramebuffer(oe.__webglFramebuffer[De]);else n.deleteFramebuffer(oe.__webglFramebuffer);if(oe.__webglDepthbuffer&&n.deleteRenderbuffer(oe.__webglDepthbuffer),oe.__webglMultisampledFramebuffer&&n.deleteFramebuffer(oe.__webglMultisampledFramebuffer),oe.__webglColorRenderbuffer)for(let De=0;De<oe.__webglColorRenderbuffer.length;De++)oe.__webglColorRenderbuffer[De]&&n.deleteRenderbuffer(oe.__webglColorRenderbuffer[De]);oe.__webglDepthRenderbuffer&&n.deleteRenderbuffer(oe.__webglDepthRenderbuffer)}const we=ce.textures;for(let De=0,Ke=we.length;De<Ke;De++){const He=r.get(we[De]);He.__webglTexture&&(n.deleteTexture(He.__webglTexture),l.memory.textures--),r.remove(we[De])}r.remove(ce)}let $=0;function J(){$=0}function W(){const ce=$;return ce>=a.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+ce+" texture units while this GPU supports only "+a.maxTextures),$+=1,ce}function Q(ce){const oe=[];return oe.push(ce.wrapS),oe.push(ce.wrapT),oe.push(ce.wrapR||0),oe.push(ce.magFilter),oe.push(ce.minFilter),oe.push(ce.anisotropy),oe.push(ce.internalFormat),oe.push(ce.format),oe.push(ce.type),oe.push(ce.generateMipmaps),oe.push(ce.premultiplyAlpha),oe.push(ce.flipY),oe.push(ce.unpackAlignment),oe.push(ce.colorSpace),oe.join()}function ae(ce,oe){const we=r.get(ce);if(ce.isVideoTexture&&$e(ce),ce.isRenderTargetTexture===!1&&ce.version>0&&we.__version!==ce.version){const De=ce.image;if(De===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(De.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Z(we,ce,oe);return}}t.bindTexture(n.TEXTURE_2D,we.__webglTexture,n.TEXTURE0+oe)}function Y(ce,oe){const we=r.get(ce);if(ce.version>0&&we.__version!==ce.version){Z(we,ce,oe);return}t.bindTexture(n.TEXTURE_2D_ARRAY,we.__webglTexture,n.TEXTURE0+oe)}function K(ce,oe){const we=r.get(ce);if(ce.version>0&&we.__version!==ce.version){Z(we,ce,oe);return}t.bindTexture(n.TEXTURE_3D,we.__webglTexture,n.TEXTURE0+oe)}function ee(ce,oe){const we=r.get(ce);if(ce.version>0&&we.__version!==ce.version){pe(we,ce,oe);return}t.bindTexture(n.TEXTURE_CUBE_MAP,we.__webglTexture,n.TEXTURE0+oe)}const de={[kh]:n.REPEAT,[nl]:n.CLAMP_TO_EDGE,[m0]:n.MIRRORED_REPEAT},q={[Za]:n.NEAREST,[kw]:n.NEAREST_MIPMAP_NEAREST,[mm]:n.NEAREST_MIPMAP_LINEAR,[ma]:n.LINEAR,[Zv]:n.LINEAR_MIPMAP_NEAREST,[Gl]:n.LINEAR_MIPMAP_LINEAR},ie={[z8]:n.NEVER,[$8]:n.ALWAYS,[U8]:n.LESS,[EI]:n.LEQUAL,[F8]:n.EQUAL,[k8]:n.GEQUAL,[H8]:n.GREATER,[G8]:n.NOTEQUAL};function he(ce,oe){if(oe.type===Is&&e.has("OES_texture_float_linear")===!1&&(oe.magFilter===ma||oe.magFilter===Zv||oe.magFilter===mm||oe.magFilter===Gl||oe.minFilter===ma||oe.minFilter===Zv||oe.minFilter===mm||oe.minFilter===Gl)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(ce,n.TEXTURE_WRAP_S,de[oe.wrapS]),n.texParameteri(ce,n.TEXTURE_WRAP_T,de[oe.wrapT]),(ce===n.TEXTURE_3D||ce===n.TEXTURE_2D_ARRAY)&&n.texParameteri(ce,n.TEXTURE_WRAP_R,de[oe.wrapR]),n.texParameteri(ce,n.TEXTURE_MAG_FILTER,q[oe.magFilter]),n.texParameteri(ce,n.TEXTURE_MIN_FILTER,q[oe.minFilter]),oe.compareFunction&&(n.texParameteri(ce,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(ce,n.TEXTURE_COMPARE_FUNC,ie[oe.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(oe.magFilter===Za||oe.minFilter!==mm&&oe.minFilter!==Gl||oe.type===Is&&e.has("OES_texture_float_linear")===!1)return;if(oe.anisotropy>1||r.get(oe).__currentAnisotropy){const we=e.get("EXT_texture_filter_anisotropic");n.texParameterf(ce,we.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(oe.anisotropy,a.getMaxAnisotropy())),r.get(oe).__currentAnisotropy=oe.anisotropy}}}function fe(ce,oe){let we=!1;ce.__webglInit===void 0&&(ce.__webglInit=!0,oe.addEventListener("dispose",B));const De=oe.source;let Ke=_.get(De);Ke===void 0&&(Ke={},_.set(De,Ke));const He=Q(oe);if(He!==ce.__cacheKey){Ke[He]===void 0&&(Ke[He]={texture:n.createTexture(),usedTimes:0},l.memory.textures++,we=!0),Ke[He].usedTimes++;const gt=Ke[ce.__cacheKey];gt!==void 0&&(Ke[ce.__cacheKey].usedTimes--,gt.usedTimes===0&&z(oe)),ce.__cacheKey=He,ce.__webglTexture=Ke[He].texture}return we}function Z(ce,oe,we){let De=n.TEXTURE_2D;(oe.isDataArrayTexture||oe.isCompressedArrayTexture)&&(De=n.TEXTURE_2D_ARRAY),oe.isData3DTexture&&(De=n.TEXTURE_3D);const Ke=fe(ce,oe),He=oe.source;t.bindTexture(De,ce.__webglTexture,n.TEXTURE0+we);const gt=r.get(He);if(He.version!==gt.__version||Ke===!0){t.activeTexture(n.TEXTURE0+we);const lt=Ii.getPrimaries(Ii.workingColorSpace),pt=oe.colorSpace===rf?null:Ii.getPrimaries(oe.colorSpace),It=oe.colorSpace===rf||lt===pt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,oe.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,oe.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,oe.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,It);let ot=p(oe.image,!1,a.maxTextureSize);ot=ct(oe,ot);const _t=o.convert(oe.format,oe.colorSpace),Ct=o.convert(oe.type);let We=T(oe.internalFormat,_t,Ct,oe.colorSpace,oe.isVideoTexture);he(De,oe);let rt;const Se=oe.mipmaps,Ge=oe.isVideoTexture!==!0,St=gt.__version===void 0||Ke===!0,Me=He.dataReady,xt=O(oe,ot);if(oe.isDepthTexture)We=M(oe.format===Om,oe.type),St&&(Ge?t.texStorage2D(n.TEXTURE_2D,1,We,ot.width,ot.height):t.texImage2D(n.TEXTURE_2D,0,We,ot.width,ot.height,0,_t,Ct,null));else if(oe.isDataTexture)if(Se.length>0){Ge&&St&&t.texStorage2D(n.TEXTURE_2D,xt,We,Se[0].width,Se[0].height);for(let et=0,mt=Se.length;et<mt;et++)rt=Se[et],Ge?Me&&t.texSubImage2D(n.TEXTURE_2D,et,0,0,rt.width,rt.height,_t,Ct,rt.data):t.texImage2D(n.TEXTURE_2D,et,We,rt.width,rt.height,0,_t,Ct,rt.data);oe.generateMipmaps=!1}else Ge?(St&&t.texStorage2D(n.TEXTURE_2D,xt,We,ot.width,ot.height),Me&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,ot.width,ot.height,_t,Ct,ot.data)):t.texImage2D(n.TEXTURE_2D,0,We,ot.width,ot.height,0,_t,Ct,ot.data);else if(oe.isCompressedTexture)if(oe.isCompressedArrayTexture){Ge&&St&&t.texStorage3D(n.TEXTURE_2D_ARRAY,xt,We,Se[0].width,Se[0].height,ot.depth);for(let et=0,mt=Se.length;et<mt;et++)if(rt=Se[et],oe.format!==zo)if(_t!==null)if(Ge){if(Me)if(oe.layerUpdates.size>0){const Nt=H2(rt.width,rt.height,oe.format,oe.type);for(const Bt of oe.layerUpdates){const Qt=rt.data.subarray(Bt*Nt/rt.data.BYTES_PER_ELEMENT,(Bt+1)*Nt/rt.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,et,0,0,Bt,rt.width,rt.height,1,_t,Qt)}oe.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,et,0,0,0,rt.width,rt.height,ot.depth,_t,rt.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,et,We,rt.width,rt.height,ot.depth,0,rt.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Ge?Me&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,et,0,0,0,rt.width,rt.height,ot.depth,_t,Ct,rt.data):t.texImage3D(n.TEXTURE_2D_ARRAY,et,We,rt.width,rt.height,ot.depth,0,_t,Ct,rt.data)}else{Ge&&St&&t.texStorage2D(n.TEXTURE_2D,xt,We,Se[0].width,Se[0].height);for(let et=0,mt=Se.length;et<mt;et++)rt=Se[et],oe.format!==zo?_t!==null?Ge?Me&&t.compressedTexSubImage2D(n.TEXTURE_2D,et,0,0,rt.width,rt.height,_t,rt.data):t.compressedTexImage2D(n.TEXTURE_2D,et,We,rt.width,rt.height,0,rt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ge?Me&&t.texSubImage2D(n.TEXTURE_2D,et,0,0,rt.width,rt.height,_t,Ct,rt.data):t.texImage2D(n.TEXTURE_2D,et,We,rt.width,rt.height,0,_t,Ct,rt.data)}else if(oe.isDataArrayTexture)if(Ge){if(St&&t.texStorage3D(n.TEXTURE_2D_ARRAY,xt,We,ot.width,ot.height,ot.depth),Me)if(oe.layerUpdates.size>0){const et=H2(ot.width,ot.height,oe.format,oe.type);for(const mt of oe.layerUpdates){const Nt=ot.data.subarray(mt*et/ot.data.BYTES_PER_ELEMENT,(mt+1)*et/ot.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,mt,ot.width,ot.height,1,_t,Ct,Nt)}oe.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,ot.width,ot.height,ot.depth,_t,Ct,ot.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,We,ot.width,ot.height,ot.depth,0,_t,Ct,ot.data);else if(oe.isData3DTexture)Ge?(St&&t.texStorage3D(n.TEXTURE_3D,xt,We,ot.width,ot.height,ot.depth),Me&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,ot.width,ot.height,ot.depth,_t,Ct,ot.data)):t.texImage3D(n.TEXTURE_3D,0,We,ot.width,ot.height,ot.depth,0,_t,Ct,ot.data);else if(oe.isFramebufferTexture){if(St)if(Ge)t.texStorage2D(n.TEXTURE_2D,xt,We,ot.width,ot.height);else{let et=ot.width,mt=ot.height;for(let Nt=0;Nt<xt;Nt++)t.texImage2D(n.TEXTURE_2D,Nt,We,et,mt,0,_t,Ct,null),et>>=1,mt>>=1}}else if(Se.length>0){if(Ge&&St){const et=st(Se[0]);t.texStorage2D(n.TEXTURE_2D,xt,We,et.width,et.height)}for(let et=0,mt=Se.length;et<mt;et++)rt=Se[et],Ge?Me&&t.texSubImage2D(n.TEXTURE_2D,et,0,0,_t,Ct,rt):t.texImage2D(n.TEXTURE_2D,et,We,_t,Ct,rt);oe.generateMipmaps=!1}else if(Ge){if(St){const et=st(ot);t.texStorage2D(n.TEXTURE_2D,xt,We,et.width,et.height)}Me&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,_t,Ct,ot)}else t.texImage2D(n.TEXTURE_2D,0,We,_t,Ct,ot);g(oe)&&y(De),gt.__version=He.version,oe.onUpdate&&oe.onUpdate(oe)}ce.__version=oe.version}function pe(ce,oe,we){if(oe.image.length!==6)return;const De=fe(ce,oe),Ke=oe.source;t.bindTexture(n.TEXTURE_CUBE_MAP,ce.__webglTexture,n.TEXTURE0+we);const He=r.get(Ke);if(Ke.version!==He.__version||De===!0){t.activeTexture(n.TEXTURE0+we);const gt=Ii.getPrimaries(Ii.workingColorSpace),lt=oe.colorSpace===rf?null:Ii.getPrimaries(oe.colorSpace),pt=oe.colorSpace===rf||gt===lt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,oe.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,oe.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,oe.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,pt);const It=oe.isCompressedTexture||oe.image[0].isCompressedTexture,ot=oe.image[0]&&oe.image[0].isDataTexture,_t=[];for(let mt=0;mt<6;mt++)!It&&!ot?_t[mt]=p(oe.image[mt],!0,a.maxCubemapSize):_t[mt]=ot?oe.image[mt].image:oe.image[mt],_t[mt]=ct(oe,_t[mt]);const Ct=_t[0],We=o.convert(oe.format,oe.colorSpace),rt=o.convert(oe.type),Se=T(oe.internalFormat,We,rt,oe.colorSpace),Ge=oe.isVideoTexture!==!0,St=He.__version===void 0||De===!0,Me=Ke.dataReady;let xt=O(oe,Ct);he(n.TEXTURE_CUBE_MAP,oe);let et;if(It){Ge&&St&&t.texStorage2D(n.TEXTURE_CUBE_MAP,xt,Se,Ct.width,Ct.height);for(let mt=0;mt<6;mt++){et=_t[mt].mipmaps;for(let Nt=0;Nt<et.length;Nt++){const Bt=et[Nt];oe.format!==zo?We!==null?Ge?Me&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+mt,Nt,0,0,Bt.width,Bt.height,We,Bt.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+mt,Nt,Se,Bt.width,Bt.height,0,Bt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ge?Me&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+mt,Nt,0,0,Bt.width,Bt.height,We,rt,Bt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+mt,Nt,Se,Bt.width,Bt.height,0,We,rt,Bt.data)}}}else{if(et=oe.mipmaps,Ge&&St){et.length>0&&xt++;const mt=st(_t[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,xt,Se,mt.width,mt.height)}for(let mt=0;mt<6;mt++)if(ot){Ge?Me&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+mt,0,0,0,_t[mt].width,_t[mt].height,We,rt,_t[mt].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+mt,0,Se,_t[mt].width,_t[mt].height,0,We,rt,_t[mt].data);for(let Nt=0;Nt<et.length;Nt++){const Qt=et[Nt].image[mt].image;Ge?Me&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+mt,Nt+1,0,0,Qt.width,Qt.height,We,rt,Qt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+mt,Nt+1,Se,Qt.width,Qt.height,0,We,rt,Qt.data)}}else{Ge?Me&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+mt,0,0,0,We,rt,_t[mt]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+mt,0,Se,We,rt,_t[mt]);for(let Nt=0;Nt<et.length;Nt++){const Bt=et[Nt];Ge?Me&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+mt,Nt+1,0,0,We,rt,Bt.image[mt]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+mt,Nt+1,Se,We,rt,Bt.image[mt])}}}g(oe)&&y(n.TEXTURE_CUBE_MAP),He.__version=Ke.version,oe.onUpdate&&oe.onUpdate(oe)}ce.__version=oe.version}function xe(ce,oe,we,De,Ke,He){const gt=o.convert(we.format,we.colorSpace),lt=o.convert(we.type),pt=T(we.internalFormat,gt,lt,we.colorSpace),It=r.get(oe),ot=r.get(we);if(ot.__renderTarget=oe,!It.__hasExternalTextures){const _t=Math.max(1,oe.width>>He),Ct=Math.max(1,oe.height>>He);Ke===n.TEXTURE_3D||Ke===n.TEXTURE_2D_ARRAY?t.texImage3D(Ke,He,pt,_t,Ct,oe.depth,0,gt,lt,null):t.texImage2D(Ke,He,pt,_t,Ct,0,gt,lt,null)}t.bindFramebuffer(n.FRAMEBUFFER,ce),qe(oe)?s.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,De,Ke,ot.__webglTexture,0,Ie(oe)):(Ke===n.TEXTURE_2D||Ke>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Ke<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,De,Ke,ot.__webglTexture,He),t.bindFramebuffer(n.FRAMEBUFFER,null)}function Oe(ce,oe,we){if(n.bindRenderbuffer(n.RENDERBUFFER,ce),oe.depthBuffer){const De=oe.depthTexture,Ke=De&&De.isDepthTexture?De.type:null,He=M(oe.stencilBuffer,Ke),gt=oe.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,lt=Ie(oe);qe(oe)?s.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,lt,He,oe.width,oe.height):we?n.renderbufferStorageMultisample(n.RENDERBUFFER,lt,He,oe.width,oe.height):n.renderbufferStorage(n.RENDERBUFFER,He,oe.width,oe.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,gt,n.RENDERBUFFER,ce)}else{const De=oe.textures;for(let Ke=0;Ke<De.length;Ke++){const He=De[Ke],gt=o.convert(He.format,He.colorSpace),lt=o.convert(He.type),pt=T(He.internalFormat,gt,lt,He.colorSpace),It=Ie(oe);we&&qe(oe)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,It,pt,oe.width,oe.height):qe(oe)?s.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,It,pt,oe.width,oe.height):n.renderbufferStorage(n.RENDERBUFFER,pt,oe.width,oe.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function Ae(ce,oe){if(oe&&oe.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,ce),!(oe.depthTexture&&oe.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const De=r.get(oe.depthTexture);De.__renderTarget=oe,(!De.__webglTexture||oe.depthTexture.image.width!==oe.width||oe.depthTexture.image.height!==oe.height)&&(oe.depthTexture.image.width=oe.width,oe.depthTexture.image.height=oe.height,oe.depthTexture.needsUpdate=!0),ae(oe.depthTexture,0);const Ke=De.__webglTexture,He=Ie(oe);if(oe.depthTexture.format===Em)qe(oe)?s.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ke,0,He):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ke,0);else if(oe.depthTexture.format===Om)qe(oe)?s.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ke,0,He):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ke,0);else throw new Error("Unknown depthTexture format")}function Te(ce){const oe=r.get(ce),we=ce.isWebGLCubeRenderTarget===!0;if(oe.__boundDepthTexture!==ce.depthTexture){const De=ce.depthTexture;if(oe.__depthDisposeCallback&&oe.__depthDisposeCallback(),De){const Ke=()=>{delete oe.__boundDepthTexture,delete oe.__depthDisposeCallback,De.removeEventListener("dispose",Ke)};De.addEventListener("dispose",Ke),oe.__depthDisposeCallback=Ke}oe.__boundDepthTexture=De}if(ce.depthTexture&&!oe.__autoAllocateDepthBuffer){if(we)throw new Error("target.depthTexture not supported in Cube render targets");Ae(oe.__webglFramebuffer,ce)}else if(we){oe.__webglDepthbuffer=[];for(let De=0;De<6;De++)if(t.bindFramebuffer(n.FRAMEBUFFER,oe.__webglFramebuffer[De]),oe.__webglDepthbuffer[De]===void 0)oe.__webglDepthbuffer[De]=n.createRenderbuffer(),Oe(oe.__webglDepthbuffer[De],ce,!1);else{const Ke=ce.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,He=oe.__webglDepthbuffer[De];n.bindRenderbuffer(n.RENDERBUFFER,He),n.framebufferRenderbuffer(n.FRAMEBUFFER,Ke,n.RENDERBUFFER,He)}}else if(t.bindFramebuffer(n.FRAMEBUFFER,oe.__webglFramebuffer),oe.__webglDepthbuffer===void 0)oe.__webglDepthbuffer=n.createRenderbuffer(),Oe(oe.__webglDepthbuffer,ce,!1);else{const De=ce.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ke=oe.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,Ke),n.framebufferRenderbuffer(n.FRAMEBUFFER,De,n.RENDERBUFFER,Ke)}t.bindFramebuffer(n.FRAMEBUFFER,null)}function ze(ce,oe,we){const De=r.get(ce);oe!==void 0&&xe(De.__webglFramebuffer,ce,ce.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),we!==void 0&&Te(ce)}function yt(ce){const oe=ce.texture,we=r.get(ce),De=r.get(oe);ce.addEventListener("dispose",D);const Ke=ce.textures,He=ce.isWebGLCubeRenderTarget===!0,gt=Ke.length>1;if(gt||(De.__webglTexture===void 0&&(De.__webglTexture=n.createTexture()),De.__version=oe.version,l.memory.textures++),He){we.__webglFramebuffer=[];for(let lt=0;lt<6;lt++)if(oe.mipmaps&&oe.mipmaps.length>0){we.__webglFramebuffer[lt]=[];for(let pt=0;pt<oe.mipmaps.length;pt++)we.__webglFramebuffer[lt][pt]=n.createFramebuffer()}else we.__webglFramebuffer[lt]=n.createFramebuffer()}else{if(oe.mipmaps&&oe.mipmaps.length>0){we.__webglFramebuffer=[];for(let lt=0;lt<oe.mipmaps.length;lt++)we.__webglFramebuffer[lt]=n.createFramebuffer()}else we.__webglFramebuffer=n.createFramebuffer();if(gt)for(let lt=0,pt=Ke.length;lt<pt;lt++){const It=r.get(Ke[lt]);It.__webglTexture===void 0&&(It.__webglTexture=n.createTexture(),l.memory.textures++)}if(ce.samples>0&&qe(ce)===!1){we.__webglMultisampledFramebuffer=n.createFramebuffer(),we.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,we.__webglMultisampledFramebuffer);for(let lt=0;lt<Ke.length;lt++){const pt=Ke[lt];we.__webglColorRenderbuffer[lt]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,we.__webglColorRenderbuffer[lt]);const It=o.convert(pt.format,pt.colorSpace),ot=o.convert(pt.type),_t=T(pt.internalFormat,It,ot,pt.colorSpace,ce.isXRRenderTarget===!0),Ct=Ie(ce);n.renderbufferStorageMultisample(n.RENDERBUFFER,Ct,_t,ce.width,ce.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+lt,n.RENDERBUFFER,we.__webglColorRenderbuffer[lt])}n.bindRenderbuffer(n.RENDERBUFFER,null),ce.depthBuffer&&(we.__webglDepthRenderbuffer=n.createRenderbuffer(),Oe(we.__webglDepthRenderbuffer,ce,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(He){t.bindTexture(n.TEXTURE_CUBE_MAP,De.__webglTexture),he(n.TEXTURE_CUBE_MAP,oe);for(let lt=0;lt<6;lt++)if(oe.mipmaps&&oe.mipmaps.length>0)for(let pt=0;pt<oe.mipmaps.length;pt++)xe(we.__webglFramebuffer[lt][pt],ce,oe,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+lt,pt);else xe(we.__webglFramebuffer[lt],ce,oe,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+lt,0);g(oe)&&y(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(gt){for(let lt=0,pt=Ke.length;lt<pt;lt++){const It=Ke[lt],ot=r.get(It);t.bindTexture(n.TEXTURE_2D,ot.__webglTexture),he(n.TEXTURE_2D,It),xe(we.__webglFramebuffer,ce,It,n.COLOR_ATTACHMENT0+lt,n.TEXTURE_2D,0),g(It)&&y(n.TEXTURE_2D)}t.unbindTexture()}else{let lt=n.TEXTURE_2D;if((ce.isWebGL3DRenderTarget||ce.isWebGLArrayRenderTarget)&&(lt=ce.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(lt,De.__webglTexture),he(lt,oe),oe.mipmaps&&oe.mipmaps.length>0)for(let pt=0;pt<oe.mipmaps.length;pt++)xe(we.__webglFramebuffer[pt],ce,oe,n.COLOR_ATTACHMENT0,lt,pt);else xe(we.__webglFramebuffer,ce,oe,n.COLOR_ATTACHMENT0,lt,0);g(oe)&&y(lt),t.unbindTexture()}ce.depthBuffer&&Te(ce)}function Be(ce){const oe=ce.textures;for(let we=0,De=oe.length;we<De;we++){const Ke=oe[we];if(g(Ke)){const He=C(ce),gt=r.get(Ke).__webglTexture;t.bindTexture(He,gt),y(He),t.unbindTexture()}}}const Ce=[],re=[];function Fe(ce){if(ce.samples>0){if(qe(ce)===!1){const oe=ce.textures,we=ce.width,De=ce.height;let Ke=n.COLOR_BUFFER_BIT;const He=ce.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,gt=r.get(ce),lt=oe.length>1;if(lt)for(let pt=0;pt<oe.length;pt++)t.bindFramebuffer(n.FRAMEBUFFER,gt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+pt,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,gt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+pt,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,gt.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,gt.__webglFramebuffer);for(let pt=0;pt<oe.length;pt++){if(ce.resolveDepthBuffer&&(ce.depthBuffer&&(Ke|=n.DEPTH_BUFFER_BIT),ce.stencilBuffer&&ce.resolveStencilBuffer&&(Ke|=n.STENCIL_BUFFER_BIT)),lt){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,gt.__webglColorRenderbuffer[pt]);const It=r.get(oe[pt]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,It,0)}n.blitFramebuffer(0,0,we,De,0,0,we,De,Ke,n.NEAREST),u===!0&&(Ce.length=0,re.length=0,Ce.push(n.COLOR_ATTACHMENT0+pt),ce.depthBuffer&&ce.resolveDepthBuffer===!1&&(Ce.push(He),re.push(He),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,re)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Ce))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),lt)for(let pt=0;pt<oe.length;pt++){t.bindFramebuffer(n.FRAMEBUFFER,gt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+pt,n.RENDERBUFFER,gt.__webglColorRenderbuffer[pt]);const It=r.get(oe[pt]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,gt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+pt,n.TEXTURE_2D,It,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,gt.__webglMultisampledFramebuffer)}else if(ce.depthBuffer&&ce.resolveDepthBuffer===!1&&u){const oe=ce.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[oe])}}}function Ie(ce){return Math.min(a.maxSamples,ce.samples)}function qe(ce){const oe=r.get(ce);return ce.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&oe.__useRenderToTexture!==!1}function $e(ce){const oe=l.render.frame;m.get(ce)!==oe&&(m.set(ce,oe),ce.update())}function ct(ce,oe){const we=ce.colorSpace,De=ce.format,Ke=ce.type;return ce.isCompressedTexture===!0||ce.isVideoTexture===!0||we!==$h&&we!==rf&&(Ii.getTransfer(we)===sr?(De!==zo||Ke!==Vc)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",we)),oe}function st(ce){return typeof HTMLImageElement<"u"&&ce instanceof HTMLImageElement?(f.width=ce.naturalWidth||ce.width,f.height=ce.naturalHeight||ce.height):typeof VideoFrame<"u"&&ce instanceof VideoFrame?(f.width=ce.displayWidth,f.height=ce.displayHeight):(f.width=ce.width,f.height=ce.height),f}this.allocateTextureUnit=W,this.resetTextureUnits=J,this.setTexture2D=ae,this.setTexture2DArray=Y,this.setTexture3D=K,this.setTextureCube=ee,this.rebindTextures=ze,this.setupRenderTarget=yt,this.updateRenderTargetMipmap=Be,this.updateMultisampleRenderTarget=Fe,this.setupDepthRenderbuffer=Te,this.setupFrameBufferTexture=xe,this.useMultisampledRTT=qe}function Y6(n,e){function t(r,a=rf){let o;const l=Ii.getTransfer(a);if(r===Vc)return n.UNSIGNED_BYTE;if(r===Vw)return n.UNSIGNED_SHORT_4_4_4_4;if(r===jw)return n.UNSIGNED_SHORT_5_5_5_1;if(r===mI)return n.UNSIGNED_INT_5_9_9_9_REV;if(r===hI)return n.BYTE;if(r===pI)return n.SHORT;if(r===g0)return n.UNSIGNED_SHORT;if(r===$w)return n.INT;if(r===bf)return n.UNSIGNED_INT;if(r===Is)return n.FLOAT;if(r===z0)return n.HALF_FLOAT;if(r===gI)return n.ALPHA;if(r===vI)return n.RGB;if(r===zo)return n.RGBA;if(r===yI)return n.LUMINANCE;if(r===bI)return n.LUMINANCE_ALPHA;if(r===Em)return n.DEPTH_COMPONENT;if(r===Om)return n.DEPTH_STENCIL;if(r===Ww)return n.RED;if(r===GS)return n.RED_INTEGER;if(r===SI)return n.RG;if(r===Xw)return n.RG_INTEGER;if(r===Yw)return n.RGBA_INTEGER;if(r===Pb||r===Lb||r===Nb||r===zb)if(l===sr)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(r===Pb)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===Lb)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===Nb)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===zb)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(r===Pb)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===Lb)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===Nb)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===zb)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===lE||r===cE||r===uE||r===dE)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(r===lE)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===cE)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===uE)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===dE)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===fE||r===hE||r===pE)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(r===fE||r===hE)return l===sr?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(r===pE)return l===sr?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===mE||r===gE||r===vE||r===yE||r===bE||r===SE||r===_E||r===xE||r===CE||r===EE||r===wE||r===AE||r===ME||r===TE)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(r===mE)return l===sr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===gE)return l===sr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===vE)return l===sr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===yE)return l===sr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===bE)return l===sr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===SE)return l===sr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===_E)return l===sr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===xE)return l===sr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===CE)return l===sr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===EE)return l===sr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===wE)return l===sr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===AE)return l===sr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===ME)return l===sr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===TE)return l===sr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===Ub||r===RE||r===OE)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(r===Ub)return l===sr?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===RE)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===OE)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===_I||r===IE||r===BE||r===DE)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(r===Ub)return o.COMPRESSED_RED_RGTC1_EXT;if(r===IE)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===BE)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===DE)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===Rm?n.UNSIGNED_INT_24_8:n[r]!==void 0?n[r]:null}return{convert:t}}const Wde=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Xde=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class Yde{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,r){if(this.texture===null){const a=new Lr,o=e.properties.get(a);o.__webglTexture=t.texture,(t.depthNear!==r.depthNear||t.depthFar!==r.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=a}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,r=new jc({vertexShader:Wde,fragmentShader:Xde,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new ga(new F0(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class qde extends ld{constructor(e,t){super();const r=this;let a=null,o=1,l=null,s="local-floor",u=1,f=null,m=null,b=null,_=null,E=null,c=null;const p=new Yde,g=t.getContextAttributes();let y=null,C=null;const T=[],M=[],O=new Tt;let B=null;const D=new Xr;D.viewport=new Gi;const F=new Xr;F.viewport=new Gi;const z=[D,F],U=new z6;let $=null,J=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Z){let pe=T[Z];return pe===void 0&&(pe=new YC,T[Z]=pe),pe.getTargetRaySpace()},this.getControllerGrip=function(Z){let pe=T[Z];return pe===void 0&&(pe=new YC,T[Z]=pe),pe.getGripSpace()},this.getHand=function(Z){let pe=T[Z];return pe===void 0&&(pe=new YC,T[Z]=pe),pe.getHandSpace()};function W(Z){const pe=M.indexOf(Z.inputSource);if(pe===-1)return;const xe=T[pe];xe!==void 0&&(xe.update(Z.inputSource,Z.frame,f||l),xe.dispatchEvent({type:Z.type,data:Z.inputSource}))}function Q(){a.removeEventListener("select",W),a.removeEventListener("selectstart",W),a.removeEventListener("selectend",W),a.removeEventListener("squeeze",W),a.removeEventListener("squeezestart",W),a.removeEventListener("squeezeend",W),a.removeEventListener("end",Q),a.removeEventListener("inputsourceschange",ae);for(let Z=0;Z<T.length;Z++){const pe=M[Z];pe!==null&&(M[Z]=null,T[Z].disconnect(pe))}$=null,J=null,p.reset(),e.setRenderTarget(y),E=null,_=null,b=null,a=null,C=null,fe.stop(),r.isPresenting=!1,e.setPixelRatio(B),e.setSize(O.width,O.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Z){o=Z,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Z){s=Z,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return f||l},this.setReferenceSpace=function(Z){f=Z},this.getBaseLayer=function(){return _!==null?_:E},this.getBinding=function(){return b},this.getFrame=function(){return c},this.getSession=function(){return a},this.setSession=async function(Z){if(a=Z,a!==null){if(y=e.getRenderTarget(),a.addEventListener("select",W),a.addEventListener("selectstart",W),a.addEventListener("selectend",W),a.addEventListener("squeeze",W),a.addEventListener("squeezestart",W),a.addEventListener("squeezeend",W),a.addEventListener("end",Q),a.addEventListener("inputsourceschange",ae),g.xrCompatible!==!0&&await t.makeXRCompatible(),B=e.getPixelRatio(),e.getSize(O),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let xe=null,Oe=null,Ae=null;g.depth&&(Ae=g.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,xe=g.stencil?Om:Em,Oe=g.stencil?Rm:bf);const Te={colorFormat:t.RGBA8,depthFormat:Ae,scaleFactor:o};b=new XRWebGLBinding(a,t),_=b.createProjectionLayer(Te),a.updateRenderState({layers:[_]}),e.setPixelRatio(1),e.setSize(_.textureWidth,_.textureHeight,!1),C=new id(_.textureWidth,_.textureHeight,{format:zo,type:Vc,depthTexture:new PI(_.textureWidth,_.textureHeight,Oe,void 0,void 0,void 0,void 0,void 0,void 0,xe),stencilBuffer:g.stencil,colorSpace:e.outputColorSpace,samples:g.antialias?4:0,resolveDepthBuffer:_.ignoreDepthValues===!1,resolveStencilBuffer:_.ignoreDepthValues===!1})}else{const xe={antialias:g.antialias,alpha:!0,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:o};E=new XRWebGLLayer(a,t,xe),a.updateRenderState({baseLayer:E}),e.setPixelRatio(1),e.setSize(E.framebufferWidth,E.framebufferHeight,!1),C=new id(E.framebufferWidth,E.framebufferHeight,{format:zo,type:Vc,colorSpace:e.outputColorSpace,stencilBuffer:g.stencil,resolveDepthBuffer:E.ignoreDepthValues===!1,resolveStencilBuffer:E.ignoreDepthValues===!1})}C.isXRRenderTarget=!0,this.setFoveation(u),f=null,l=await a.requestReferenceSpace(s),fe.setContext(a),fe.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(a!==null)return a.environmentBlendMode},this.getDepthTexture=function(){return p.getDepthTexture()};function ae(Z){for(let pe=0;pe<Z.removed.length;pe++){const xe=Z.removed[pe],Oe=M.indexOf(xe);Oe>=0&&(M[Oe]=null,T[Oe].disconnect(xe))}for(let pe=0;pe<Z.added.length;pe++){const xe=Z.added[pe];let Oe=M.indexOf(xe);if(Oe===-1){for(let Te=0;Te<T.length;Te++)if(Te>=M.length){M.push(xe),Oe=Te;break}else if(M[Te]===null){M[Te]=xe,Oe=Te;break}if(Oe===-1)break}const Ae=T[Oe];Ae&&Ae.connect(xe)}}const Y=new be,K=new be;function ee(Z,pe,xe){Y.setFromMatrixPosition(pe.matrixWorld),K.setFromMatrixPosition(xe.matrixWorld);const Oe=Y.distanceTo(K),Ae=pe.projectionMatrix.elements,Te=xe.projectionMatrix.elements,ze=Ae[14]/(Ae[10]-1),yt=Ae[14]/(Ae[10]+1),Be=(Ae[9]+1)/Ae[5],Ce=(Ae[9]-1)/Ae[5],re=(Ae[8]-1)/Ae[0],Fe=(Te[8]+1)/Te[0],Ie=ze*re,qe=ze*Fe,$e=Oe/(-re+Fe),ct=$e*-re;if(pe.matrixWorld.decompose(Z.position,Z.quaternion,Z.scale),Z.translateX(ct),Z.translateZ($e),Z.matrixWorld.compose(Z.position,Z.quaternion,Z.scale),Z.matrixWorldInverse.copy(Z.matrixWorld).invert(),Ae[10]===-1)Z.projectionMatrix.copy(pe.projectionMatrix),Z.projectionMatrixInverse.copy(pe.projectionMatrixInverse);else{const st=ze+$e,ce=yt+$e,oe=Ie-ct,we=qe+(Oe-ct),De=Be*yt/ce*st,Ke=Ce*yt/ce*st;Z.projectionMatrix.makePerspective(oe,we,De,Ke,st,ce),Z.projectionMatrixInverse.copy(Z.projectionMatrix).invert()}}function de(Z,pe){pe===null?Z.matrixWorld.copy(Z.matrix):Z.matrixWorld.multiplyMatrices(pe.matrixWorld,Z.matrix),Z.matrixWorldInverse.copy(Z.matrixWorld).invert()}this.updateCamera=function(Z){if(a===null)return;let pe=Z.near,xe=Z.far;p.texture!==null&&(p.depthNear>0&&(pe=p.depthNear),p.depthFar>0&&(xe=p.depthFar)),U.near=F.near=D.near=pe,U.far=F.far=D.far=xe,($!==U.near||J!==U.far)&&(a.updateRenderState({depthNear:U.near,depthFar:U.far}),$=U.near,J=U.far),D.layers.mask=Z.layers.mask|2,F.layers.mask=Z.layers.mask|4,U.layers.mask=D.layers.mask|F.layers.mask;const Oe=Z.parent,Ae=U.cameras;de(U,Oe);for(let Te=0;Te<Ae.length;Te++)de(Ae[Te],Oe);Ae.length===2?ee(U,D,F):U.projectionMatrix.copy(D.projectionMatrix),q(Z,U,Oe)};function q(Z,pe,xe){xe===null?Z.matrix.copy(pe.matrixWorld):(Z.matrix.copy(xe.matrixWorld),Z.matrix.invert(),Z.matrix.multiply(pe.matrixWorld)),Z.matrix.decompose(Z.position,Z.quaternion,Z.scale),Z.updateMatrixWorld(!0),Z.projectionMatrix.copy(pe.projectionMatrix),Z.projectionMatrixInverse.copy(pe.projectionMatrixInverse),Z.isPerspectiveCamera&&(Z.fov=b0*2*Math.atan(1/Z.projectionMatrix.elements[5]),Z.zoom=1)}this.getCamera=function(){return U},this.getFoveation=function(){if(!(_===null&&E===null))return u},this.setFoveation=function(Z){u=Z,_!==null&&(_.fixedFoveation=Z),E!==null&&E.fixedFoveation!==void 0&&(E.fixedFoveation=Z)},this.hasDepthSensing=function(){return p.texture!==null},this.getDepthSensingMesh=function(){return p.getMesh(U)};let ie=null;function he(Z,pe){if(m=pe.getViewerPose(f||l),c=pe,m!==null){const xe=m.views;E!==null&&(e.setRenderTargetFramebuffer(C,E.framebuffer),e.setRenderTarget(C));let Oe=!1;xe.length!==U.cameras.length&&(U.cameras.length=0,Oe=!0);for(let ze=0;ze<xe.length;ze++){const yt=xe[ze];let Be=null;if(E!==null)Be=E.getViewport(yt);else{const re=b.getViewSubImage(_,yt);Be=re.viewport,ze===0&&(e.setRenderTargetTextures(C,re.colorTexture,_.ignoreDepthValues?void 0:re.depthStencilTexture),e.setRenderTarget(C))}let Ce=z[ze];Ce===void 0&&(Ce=new Xr,Ce.layers.enable(ze),Ce.viewport=new Gi,z[ze]=Ce),Ce.matrix.fromArray(yt.transform.matrix),Ce.matrix.decompose(Ce.position,Ce.quaternion,Ce.scale),Ce.projectionMatrix.fromArray(yt.projectionMatrix),Ce.projectionMatrixInverse.copy(Ce.projectionMatrix).invert(),Ce.viewport.set(Be.x,Be.y,Be.width,Be.height),ze===0&&(U.matrix.copy(Ce.matrix),U.matrix.decompose(U.position,U.quaternion,U.scale)),Oe===!0&&U.cameras.push(Ce)}const Ae=a.enabledFeatures;if(Ae&&Ae.includes("depth-sensing")&&a.depthUsage=="gpu-optimized"&&b){const ze=b.getDepthInformation(xe[0]);ze&&ze.isValid&&ze.texture&&p.init(e,ze,a.renderState)}}for(let xe=0;xe<T.length;xe++){const Oe=M[xe],Ae=T[xe];Oe!==null&&Ae!==void 0&&Ae.update(Oe,pe,f||l)}ie&&ie(Z,pe),pe.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:pe}),c=null}const fe=new $6;fe.setAnimationLoop(he),this.setAnimationLoop=function(Z){ie=Z},this.dispose=function(){}}}const Hp=new ol,Kde=new Pn;function Jde(n,e){function t(g,y){g.matrixAutoUpdate===!0&&g.updateMatrix(),y.value.copy(g.matrix)}function r(g,y){y.color.getRGB(g.fogColor.value,q8(n)),y.isFog?(g.fogNear.value=y.near,g.fogFar.value=y.far):y.isFogExp2&&(g.fogDensity.value=y.density)}function a(g,y,C,T,M){y.isMeshBasicMaterial||y.isMeshLambertMaterial?o(g,y):y.isMeshToonMaterial?(o(g,y),b(g,y)):y.isMeshPhongMaterial?(o(g,y),m(g,y)):y.isMeshStandardMaterial?(o(g,y),_(g,y),y.isMeshPhysicalMaterial&&E(g,y,M)):y.isMeshMatcapMaterial?(o(g,y),c(g,y)):y.isMeshDepthMaterial?o(g,y):y.isMeshDistanceMaterial?(o(g,y),p(g,y)):y.isMeshNormalMaterial?o(g,y):y.isLineBasicMaterial?(l(g,y),y.isLineDashedMaterial&&s(g,y)):y.isPointsMaterial?u(g,y,C,T):y.isSpriteMaterial?f(g,y):y.isShadowMaterial?(g.color.value.copy(y.color),g.opacity.value=y.opacity):y.isShaderMaterial&&(y.uniformsNeedUpdate=!1)}function o(g,y){g.opacity.value=y.opacity,y.color&&g.diffuse.value.copy(y.color),y.emissive&&g.emissive.value.copy(y.emissive).multiplyScalar(y.emissiveIntensity),y.map&&(g.map.value=y.map,t(y.map,g.mapTransform)),y.alphaMap&&(g.alphaMap.value=y.alphaMap,t(y.alphaMap,g.alphaMapTransform)),y.bumpMap&&(g.bumpMap.value=y.bumpMap,t(y.bumpMap,g.bumpMapTransform),g.bumpScale.value=y.bumpScale,y.side===cs&&(g.bumpScale.value*=-1)),y.normalMap&&(g.normalMap.value=y.normalMap,t(y.normalMap,g.normalMapTransform),g.normalScale.value.copy(y.normalScale),y.side===cs&&g.normalScale.value.negate()),y.displacementMap&&(g.displacementMap.value=y.displacementMap,t(y.displacementMap,g.displacementMapTransform),g.displacementScale.value=y.displacementScale,g.displacementBias.value=y.displacementBias),y.emissiveMap&&(g.emissiveMap.value=y.emissiveMap,t(y.emissiveMap,g.emissiveMapTransform)),y.specularMap&&(g.specularMap.value=y.specularMap,t(y.specularMap,g.specularMapTransform)),y.alphaTest>0&&(g.alphaTest.value=y.alphaTest);const C=e.get(y),T=C.envMap,M=C.envMapRotation;T&&(g.envMap.value=T,Hp.copy(M),Hp.x*=-1,Hp.y*=-1,Hp.z*=-1,T.isCubeTexture&&T.isRenderTargetTexture===!1&&(Hp.y*=-1,Hp.z*=-1),g.envMapRotation.value.setFromMatrix4(Kde.makeRotationFromEuler(Hp)),g.flipEnvMap.value=T.isCubeTexture&&T.isRenderTargetTexture===!1?-1:1,g.reflectivity.value=y.reflectivity,g.ior.value=y.ior,g.refractionRatio.value=y.refractionRatio),y.lightMap&&(g.lightMap.value=y.lightMap,g.lightMapIntensity.value=y.lightMapIntensity,t(y.lightMap,g.lightMapTransform)),y.aoMap&&(g.aoMap.value=y.aoMap,g.aoMapIntensity.value=y.aoMapIntensity,t(y.aoMap,g.aoMapTransform))}function l(g,y){g.diffuse.value.copy(y.color),g.opacity.value=y.opacity,y.map&&(g.map.value=y.map,t(y.map,g.mapTransform))}function s(g,y){g.dashSize.value=y.dashSize,g.totalSize.value=y.dashSize+y.gapSize,g.scale.value=y.scale}function u(g,y,C,T){g.diffuse.value.copy(y.color),g.opacity.value=y.opacity,g.size.value=y.size*C,g.scale.value=T*.5,y.map&&(g.map.value=y.map,t(y.map,g.uvTransform)),y.alphaMap&&(g.alphaMap.value=y.alphaMap,t(y.alphaMap,g.alphaMapTransform)),y.alphaTest>0&&(g.alphaTest.value=y.alphaTest)}function f(g,y){g.diffuse.value.copy(y.color),g.opacity.value=y.opacity,g.rotation.value=y.rotation,y.map&&(g.map.value=y.map,t(y.map,g.mapTransform)),y.alphaMap&&(g.alphaMap.value=y.alphaMap,t(y.alphaMap,g.alphaMapTransform)),y.alphaTest>0&&(g.alphaTest.value=y.alphaTest)}function m(g,y){g.specular.value.copy(y.specular),g.shininess.value=Math.max(y.shininess,1e-4)}function b(g,y){y.gradientMap&&(g.gradientMap.value=y.gradientMap)}function _(g,y){g.metalness.value=y.metalness,y.metalnessMap&&(g.metalnessMap.value=y.metalnessMap,t(y.metalnessMap,g.metalnessMapTransform)),g.roughness.value=y.roughness,y.roughnessMap&&(g.roughnessMap.value=y.roughnessMap,t(y.roughnessMap,g.roughnessMapTransform)),y.envMap&&(g.envMapIntensity.value=y.envMapIntensity)}function E(g,y,C){g.ior.value=y.ior,y.sheen>0&&(g.sheenColor.value.copy(y.sheenColor).multiplyScalar(y.sheen),g.sheenRoughness.value=y.sheenRoughness,y.sheenColorMap&&(g.sheenColorMap.value=y.sheenColorMap,t(y.sheenColorMap,g.sheenColorMapTransform)),y.sheenRoughnessMap&&(g.sheenRoughnessMap.value=y.sheenRoughnessMap,t(y.sheenRoughnessMap,g.sheenRoughnessMapTransform))),y.clearcoat>0&&(g.clearcoat.value=y.clearcoat,g.clearcoatRoughness.value=y.clearcoatRoughness,y.clearcoatMap&&(g.clearcoatMap.value=y.clearcoatMap,t(y.clearcoatMap,g.clearcoatMapTransform)),y.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=y.clearcoatRoughnessMap,t(y.clearcoatRoughnessMap,g.clearcoatRoughnessMapTransform)),y.clearcoatNormalMap&&(g.clearcoatNormalMap.value=y.clearcoatNormalMap,t(y.clearcoatNormalMap,g.clearcoatNormalMapTransform),g.clearcoatNormalScale.value.copy(y.clearcoatNormalScale),y.side===cs&&g.clearcoatNormalScale.value.negate())),y.dispersion>0&&(g.dispersion.value=y.dispersion),y.iridescence>0&&(g.iridescence.value=y.iridescence,g.iridescenceIOR.value=y.iridescenceIOR,g.iridescenceThicknessMinimum.value=y.iridescenceThicknessRange[0],g.iridescenceThicknessMaximum.value=y.iridescenceThicknessRange[1],y.iridescenceMap&&(g.iridescenceMap.value=y.iridescenceMap,t(y.iridescenceMap,g.iridescenceMapTransform)),y.iridescenceThicknessMap&&(g.iridescenceThicknessMap.value=y.iridescenceThicknessMap,t(y.iridescenceThicknessMap,g.iridescenceThicknessMapTransform))),y.transmission>0&&(g.transmission.value=y.transmission,g.transmissionSamplerMap.value=C.texture,g.transmissionSamplerSize.value.set(C.width,C.height),y.transmissionMap&&(g.transmissionMap.value=y.transmissionMap,t(y.transmissionMap,g.transmissionMapTransform)),g.thickness.value=y.thickness,y.thicknessMap&&(g.thicknessMap.value=y.thicknessMap,t(y.thicknessMap,g.thicknessMapTransform)),g.attenuationDistance.value=y.attenuationDistance,g.attenuationColor.value.copy(y.attenuationColor)),y.anisotropy>0&&(g.anisotropyVector.value.set(y.anisotropy*Math.cos(y.anisotropyRotation),y.anisotropy*Math.sin(y.anisotropyRotation)),y.anisotropyMap&&(g.anisotropyMap.value=y.anisotropyMap,t(y.anisotropyMap,g.anisotropyMapTransform))),g.specularIntensity.value=y.specularIntensity,g.specularColor.value.copy(y.specularColor),y.specularColorMap&&(g.specularColorMap.value=y.specularColorMap,t(y.specularColorMap,g.specularColorMapTransform)),y.specularIntensityMap&&(g.specularIntensityMap.value=y.specularIntensityMap,t(y.specularIntensityMap,g.specularIntensityMapTransform))}function c(g,y){y.matcap&&(g.matcap.value=y.matcap)}function p(g,y){const C=e.get(y).light;g.referencePosition.value.setFromMatrixPosition(C.matrixWorld),g.nearDistance.value=C.shadow.camera.near,g.farDistance.value=C.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:a}}function Qde(n,e,t,r){let a={},o={},l=[];const s=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function u(C,T){const M=T.program;r.uniformBlockBinding(C,M)}function f(C,T){let M=a[C.id];M===void 0&&(c(C),M=m(C),a[C.id]=M,C.addEventListener("dispose",g));const O=T.program;r.updateUBOMapping(C,O);const B=e.render.frame;o[C.id]!==B&&(_(C),o[C.id]=B)}function m(C){const T=b();C.__bindingPointIndex=T;const M=n.createBuffer(),O=C.__size,B=C.usage;return n.bindBuffer(n.UNIFORM_BUFFER,M),n.bufferData(n.UNIFORM_BUFFER,O,B),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,T,M),M}function b(){for(let C=0;C<s;C++)if(l.indexOf(C)===-1)return l.push(C),C;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function _(C){const T=a[C.id],M=C.uniforms,O=C.__cache;n.bindBuffer(n.UNIFORM_BUFFER,T);for(let B=0,D=M.length;B<D;B++){const F=Array.isArray(M[B])?M[B]:[M[B]];for(let z=0,U=F.length;z<U;z++){const $=F[z];if(E($,B,z,O)===!0){const J=$.__offset,W=Array.isArray($.value)?$.value:[$.value];let Q=0;for(let ae=0;ae<W.length;ae++){const Y=W[ae],K=p(Y);typeof Y=="number"||typeof Y=="boolean"?($.__data[0]=Y,n.bufferSubData(n.UNIFORM_BUFFER,J+Q,$.__data)):Y.isMatrix3?($.__data[0]=Y.elements[0],$.__data[1]=Y.elements[1],$.__data[2]=Y.elements[2],$.__data[3]=0,$.__data[4]=Y.elements[3],$.__data[5]=Y.elements[4],$.__data[6]=Y.elements[5],$.__data[7]=0,$.__data[8]=Y.elements[6],$.__data[9]=Y.elements[7],$.__data[10]=Y.elements[8],$.__data[11]=0):(Y.toArray($.__data,Q),Q+=K.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,J,$.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function E(C,T,M,O){const B=C.value,D=T+"_"+M;if(O[D]===void 0)return typeof B=="number"||typeof B=="boolean"?O[D]=B:O[D]=B.clone(),!0;{const F=O[D];if(typeof B=="number"||typeof B=="boolean"){if(F!==B)return O[D]=B,!0}else if(F.equals(B)===!1)return F.copy(B),!0}return!1}function c(C){const T=C.uniforms;let M=0;const O=16;for(let D=0,F=T.length;D<F;D++){const z=Array.isArray(T[D])?T[D]:[T[D]];for(let U=0,$=z.length;U<$;U++){const J=z[U],W=Array.isArray(J.value)?J.value:[J.value];for(let Q=0,ae=W.length;Q<ae;Q++){const Y=W[Q],K=p(Y),ee=M%O,de=ee%K.boundary,q=ee+de;M+=de,q!==0&&O-q<K.storage&&(M+=O-q),J.__data=new Float32Array(K.storage/Float32Array.BYTES_PER_ELEMENT),J.__offset=M,M+=K.storage}}}const B=M%O;return B>0&&(M+=O-B),C.__size=M,C.__cache={},this}function p(C){const T={boundary:0,storage:0};return typeof C=="number"||typeof C=="boolean"?(T.boundary=4,T.storage=4):C.isVector2?(T.boundary=8,T.storage=8):C.isVector3||C.isColor?(T.boundary=16,T.storage=12):C.isVector4?(T.boundary=16,T.storage=16):C.isMatrix3?(T.boundary=48,T.storage=48):C.isMatrix4?(T.boundary=64,T.storage=64):C.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",C),T}function g(C){const T=C.target;T.removeEventListener("dispose",g);const M=l.indexOf(T.__bindingPointIndex);l.splice(M,1),n.deleteBuffer(a[T.id]),delete a[T.id],delete o[T.id]}function y(){for(const C in a)n.deleteBuffer(a[C]);l=[],a={},o={}}return{bind:u,update:f,dispose:y}}class q6{constructor(e={}){const{canvas:t=W8(),context:r=null,depth:a=!0,stencil:o=!1,alpha:l=!1,antialias:s=!1,premultipliedAlpha:u=!0,preserveDrawingBuffer:f=!1,powerPreference:m="default",failIfMajorPerformanceCaveat:b=!1,reverseDepthBuffer:_=!1}=e;this.isWebGLRenderer=!0;let E;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");E=r.getContextAttributes().alpha}else E=l;const c=new Uint32Array(4),p=new Int32Array(4);let g=null,y=null;const C=[],T=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Lo,this.toneMapping=qu,this.toneMappingExposure=1;const M=this;let O=!1,B=0,D=0,F=null,z=-1,U=null;const $=new Gi,J=new Gi;let W=null;const Q=new en(0);let ae=0,Y=t.width,K=t.height,ee=1,de=null,q=null;const ie=new Gi(0,0,Y,K),he=new Gi(0,0,Y,K);let fe=!1;const Z=new WS;let pe=!1,xe=!1;this.transmissionResolutionScale=1;const Oe=new Pn,Ae=new Pn,Te=new be,ze=new Gi,yt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Be=!1;function Ce(){return F===null?ee:1}let re=r;function Fe(le,Ue){return t.getContext(le,Ue)}try{const le={alpha:!0,depth:a,stencil:o,antialias:s,premultipliedAlpha:u,preserveDrawingBuffer:f,powerPreference:m,failIfMajorPerformanceCaveat:b};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${FS}`),t.addEventListener("webglcontextlost",mt,!1),t.addEventListener("webglcontextrestored",Nt,!1),t.addEventListener("webglcontextcreationerror",Bt,!1),re===null){const Ue="webgl2";if(re=Fe(Ue,le),re===null)throw Fe(Ue)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(le){throw console.error("THREE.WebGLRenderer: "+le.message),le}let Ie,qe,$e,ct,st,ce,oe,we,De,Ke,He,gt,lt,pt,It,ot,_t,Ct,We,rt,Se,Ge,St,Me;function xt(){Ie=new uue(re),Ie.init(),Ge=new Y6(re,Ie),qe=new iue(re,Ie,e,Ge),$e=new Vde(re,Ie),qe.reverseDepthBuffer&&_&&$e.buffers.depth.setReversed(!0),ct=new hue(re),st=new Ide,ce=new jde(re,Ie,$e,st,qe,Ge,ct),oe=new aue(M),we=new cue(M),De=new bse(re),St=new tue(re,De),Ke=new due(re,De,ct,St),He=new mue(re,Ke,De,ct),We=new pue(re,qe,ce),ot=new rue(st),gt=new Ode(M,oe,we,Ie,qe,St,ot),lt=new Jde(M,st),pt=new Dde,It=new Fde(Ie),Ct=new eue(M,oe,we,$e,He,E,u),_t=new kde(M,He,qe),Me=new Qde(re,ct,qe,$e),rt=new nue(re,Ie,ct),Se=new fue(re,Ie,ct),ct.programs=gt.programs,M.capabilities=qe,M.extensions=Ie,M.properties=st,M.renderLists=pt,M.shadowMap=_t,M.state=$e,M.info=ct}xt();const et=new qde(M,re);this.xr=et,this.getContext=function(){return re},this.getContextAttributes=function(){return re.getContextAttributes()},this.forceContextLoss=function(){const le=Ie.get("WEBGL_lose_context");le&&le.loseContext()},this.forceContextRestore=function(){const le=Ie.get("WEBGL_lose_context");le&&le.restoreContext()},this.getPixelRatio=function(){return ee},this.setPixelRatio=function(le){le!==void 0&&(ee=le,this.setSize(Y,K,!1))},this.getSize=function(le){return le.set(Y,K)},this.setSize=function(le,Ue,at=!0){if(et.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}Y=le,K=Ue,t.width=Math.floor(le*ee),t.height=Math.floor(Ue*ee),at===!0&&(t.style.width=le+"px",t.style.height=Ue+"px"),this.setViewport(0,0,le,Ue)},this.getDrawingBufferSize=function(le){return le.set(Y*ee,K*ee).floor()},this.setDrawingBufferSize=function(le,Ue,at){Y=le,K=Ue,ee=at,t.width=Math.floor(le*at),t.height=Math.floor(Ue*at),this.setViewport(0,0,le,Ue)},this.getCurrentViewport=function(le){return le.copy($)},this.getViewport=function(le){return le.copy(ie)},this.setViewport=function(le,Ue,at,Ze){le.isVector4?ie.set(le.x,le.y,le.z,le.w):ie.set(le,Ue,at,Ze),$e.viewport($.copy(ie).multiplyScalar(ee).round())},this.getScissor=function(le){return le.copy(he)},this.setScissor=function(le,Ue,at,Ze){le.isVector4?he.set(le.x,le.y,le.z,le.w):he.set(le,Ue,at,Ze),$e.scissor(J.copy(he).multiplyScalar(ee).round())},this.getScissorTest=function(){return fe},this.setScissorTest=function(le){$e.setScissorTest(fe=le)},this.setOpaqueSort=function(le){de=le},this.setTransparentSort=function(le){q=le},this.getClearColor=function(le){return le.copy(Ct.getClearColor())},this.setClearColor=function(){Ct.setClearColor(...arguments)},this.getClearAlpha=function(){return Ct.getClearAlpha()},this.setClearAlpha=function(){Ct.setClearAlpha(...arguments)},this.clear=function(le=!0,Ue=!0,at=!0){let Ze=0;if(le){let Ve=!1;if(F!==null){const Rt=F.texture.format;Ve=Rt===Yw||Rt===Xw||Rt===GS}if(Ve){const Rt=F.texture.type,Vt=Rt===Vc||Rt===bf||Rt===g0||Rt===Rm||Rt===Vw||Rt===jw,Kt=Ct.getClearColor(),Wt=Ct.getClearAlpha(),gn=Kt.r,dn=Kt.g,on=Kt.b;Vt?(c[0]=gn,c[1]=dn,c[2]=on,c[3]=Wt,re.clearBufferuiv(re.COLOR,0,c)):(p[0]=gn,p[1]=dn,p[2]=on,p[3]=Wt,re.clearBufferiv(re.COLOR,0,p))}else Ze|=re.COLOR_BUFFER_BIT}Ue&&(Ze|=re.DEPTH_BUFFER_BIT),at&&(Ze|=re.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),re.clear(Ze)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",mt,!1),t.removeEventListener("webglcontextrestored",Nt,!1),t.removeEventListener("webglcontextcreationerror",Bt,!1),Ct.dispose(),pt.dispose(),It.dispose(),st.dispose(),oe.dispose(),we.dispose(),He.dispose(),St.dispose(),Me.dispose(),gt.dispose(),et.dispose(),et.removeEventListener("sessionstart",lr),et.removeEventListener("sessionend",Qr),zn.stop()};function mt(le){le.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),O=!0}function Nt(){console.log("THREE.WebGLRenderer: Context Restored."),O=!1;const le=ct.autoReset,Ue=_t.enabled,at=_t.autoUpdate,Ze=_t.needsUpdate,Ve=_t.type;xt(),ct.autoReset=le,_t.enabled=Ue,_t.autoUpdate=at,_t.needsUpdate=Ze,_t.type=Ve}function Bt(le){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",le.statusMessage)}function Qt(le){const Ue=le.target;Ue.removeEventListener("dispose",Qt),sn(Ue)}function sn(le){qt(le),st.remove(le)}function qt(le){const Ue=st.get(le).programs;Ue!==void 0&&(Ue.forEach(function(at){gt.releaseProgram(at)}),le.isShaderMaterial&&gt.releaseShaderCache(le))}this.renderBufferDirect=function(le,Ue,at,Ze,Ve,Rt){Ue===null&&(Ue=yt);const Vt=Ve.isMesh&&Ve.matrixWorld.determinant()<0,Kt=zr(le,Ue,at,Ze,Ve);$e.setMaterial(Ze,Vt);let Wt=at.index,gn=1;if(Ze.wireframe===!0){if(Wt=Ke.getWireframeAttribute(at),Wt===void 0)return;gn=2}const dn=at.drawRange,on=at.attributes.position;let Gn=dn.start*gn,Vn=(dn.start+dn.count)*gn;Rt!==null&&(Gn=Math.max(Gn,Rt.start*gn),Vn=Math.min(Vn,(Rt.start+Rt.count)*gn)),Wt!==null?(Gn=Math.max(Gn,0),Vn=Math.min(Vn,Wt.count)):on!=null&&(Gn=Math.max(Gn,0),Vn=Math.min(Vn,on.count));const jn=Vn-Gn;if(jn<0||jn===1/0)return;St.setup(Ve,Ze,Kt,at,Wt);let In,bn=rt;if(Wt!==null&&(In=De.get(Wt),bn=Se,bn.setIndex(In)),Ve.isMesh)Ze.wireframe===!0?($e.setLineWidth(Ze.wireframeLinewidth*Ce()),bn.setMode(re.LINES)):bn.setMode(re.TRIANGLES);else if(Ve.isLine){let cn=Ze.linewidth;cn===void 0&&(cn=1),$e.setLineWidth(cn*Ce()),Ve.isLineSegments?bn.setMode(re.LINES):Ve.isLineLoop?bn.setMode(re.LINE_LOOP):bn.setMode(re.LINE_STRIP)}else Ve.isPoints?bn.setMode(re.POINTS):Ve.isSprite&&bn.setMode(re.TRIANGLES);if(Ve.isBatchedMesh)if(Ve._multiDrawInstances!==null)Wp("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),bn.renderMultiDrawInstances(Ve._multiDrawStarts,Ve._multiDrawCounts,Ve._multiDrawCount,Ve._multiDrawInstances);else if(Ie.get("WEBGL_multi_draw"))bn.renderMultiDraw(Ve._multiDrawStarts,Ve._multiDrawCounts,Ve._multiDrawCount);else{const cn=Ve._multiDrawStarts,Si=Ve._multiDrawCounts,Wn=Ve._multiDrawCount,$n=Wt?De.get(Wt).bytesPerElement:1,Tn=st.get(Ze).currentProgram.getUniforms();for(let Cn=0;Cn<Wn;Cn++)Tn.setValue(re,"_gl_DrawID",Cn),bn.render(cn[Cn]/$n,Si[Cn])}else if(Ve.isInstancedMesh)bn.renderInstances(Gn,jn,Ve.count);else if(at.isInstancedBufferGeometry){const cn=at._maxInstanceCount!==void 0?at._maxInstanceCount:1/0,Si=Math.min(at.instanceCount,cn);bn.renderInstances(Gn,jn,Si)}else bn.render(Gn,jn)};function Lt(le,Ue,at){le.transparent===!0&&le.side===zc&&le.forceSinglePass===!1?(le.side=cs,le.needsUpdate=!0,un(le,Ue,at),le.side=nd,le.needsUpdate=!0,un(le,Ue,at),le.side=zc):un(le,Ue,at)}this.compile=function(le,Ue,at=null){at===null&&(at=le),y=It.get(at),y.init(Ue),T.push(y),at.traverseVisible(function(Ve){Ve.isLight&&Ve.layers.test(Ue.layers)&&(y.pushLight(Ve),Ve.castShadow&&y.pushShadow(Ve))}),le!==at&&le.traverseVisible(function(Ve){Ve.isLight&&Ve.layers.test(Ue.layers)&&(y.pushLight(Ve),Ve.castShadow&&y.pushShadow(Ve))}),y.setupLights();const Ze=new Set;return le.traverse(function(Ve){if(!(Ve.isMesh||Ve.isPoints||Ve.isLine||Ve.isSprite))return;const Rt=Ve.material;if(Rt)if(Array.isArray(Rt))for(let Vt=0;Vt<Rt.length;Vt++){const Kt=Rt[Vt];Lt(Kt,at,Ve),Ze.add(Kt)}else Lt(Rt,at,Ve),Ze.add(Rt)}),y=T.pop(),Ze},this.compileAsync=function(le,Ue,at=null){const Ze=this.compile(le,Ue,at);return new Promise(Ve=>{function Rt(){if(Ze.forEach(function(Vt){st.get(Vt).currentProgram.isReady()&&Ze.delete(Vt)}),Ze.size===0){Ve(le);return}setTimeout(Rt,10)}Ie.get("KHR_parallel_shader_compile")!==null?Rt():setTimeout(Rt,10)})};let Yt=null;function yn(le){Yt&&Yt(le)}function lr(){zn.stop()}function Qr(){zn.start()}const zn=new $6;zn.setAnimationLoop(yn),typeof self<"u"&&zn.setContext(self),this.setAnimationLoop=function(le){Yt=le,et.setAnimationLoop(le),le===null?zn.stop():zn.start()},et.addEventListener("sessionstart",lr),et.addEventListener("sessionend",Qr),this.render=function(le,Ue){if(Ue!==void 0&&Ue.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(O===!0)return;if(le.matrixWorldAutoUpdate===!0&&le.updateMatrixWorld(),Ue.parent===null&&Ue.matrixWorldAutoUpdate===!0&&Ue.updateMatrixWorld(),et.enabled===!0&&et.isPresenting===!0&&(et.cameraAutoUpdate===!0&&et.updateCamera(Ue),Ue=et.getCamera()),le.isScene===!0&&le.onBeforeRender(M,le,Ue,F),y=It.get(le,T.length),y.init(Ue),T.push(y),Ae.multiplyMatrices(Ue.projectionMatrix,Ue.matrixWorldInverse),Z.setFromProjectionMatrix(Ae),xe=this.localClippingEnabled,pe=ot.init(this.clippingPlanes,xe),g=pt.get(le,C.length),g.init(),C.push(g),et.enabled===!0&&et.isPresenting===!0){const Rt=M.xr.getDepthSensingMesh();Rt!==null&&Ai(Rt,Ue,-1/0,M.sortObjects)}Ai(le,Ue,0,M.sortObjects),g.finish(),M.sortObjects===!0&&g.sort(de,q),Be=et.enabled===!1||et.isPresenting===!1||et.hasDepthSensing()===!1,Be&&Ct.addToRenderList(g,le),this.info.render.frame++,pe===!0&&ot.beginShadows();const at=y.state.shadowsArray;_t.render(at,le,Ue),pe===!0&&ot.endShadows(),this.info.autoReset===!0&&this.info.reset();const Ze=g.opaque,Ve=g.transmissive;if(y.setupLights(),Ue.isArrayCamera){const Rt=Ue.cameras;if(Ve.length>0)for(let Vt=0,Kt=Rt.length;Vt<Kt;Vt++){const Wt=Rt[Vt];wn(Ze,Ve,le,Wt)}Be&&Ct.render(le);for(let Vt=0,Kt=Rt.length;Vt<Kt;Vt++){const Wt=Rt[Vt];Sr(g,le,Wt,Wt.viewport)}}else Ve.length>0&&wn(Ze,Ve,le,Ue),Be&&Ct.render(le),Sr(g,le,Ue);F!==null&&D===0&&(ce.updateMultisampleRenderTarget(F),ce.updateRenderTargetMipmap(F)),le.isScene===!0&&le.onAfterRender(M,le,Ue),St.resetDefaultState(),z=-1,U=null,T.pop(),T.length>0?(y=T[T.length-1],pe===!0&&ot.setGlobalState(M.clippingPlanes,y.state.camera)):y=null,C.pop(),C.length>0?g=C[C.length-1]:g=null};function Ai(le,Ue,at,Ze){if(le.visible===!1)return;if(le.layers.test(Ue.layers)){if(le.isGroup)at=le.renderOrder;else if(le.isLOD)le.autoUpdate===!0&&le.update(Ue);else if(le.isLight)y.pushLight(le),le.castShadow&&y.pushShadow(le);else if(le.isSprite){if(!le.frustumCulled||Z.intersectsSprite(le)){Ze&&ze.setFromMatrixPosition(le.matrixWorld).applyMatrix4(Ae);const Vt=He.update(le),Kt=le.material;Kt.visible&&g.push(le,Vt,Kt,at,ze.z,null)}}else if((le.isMesh||le.isLine||le.isPoints)&&(!le.frustumCulled||Z.intersectsObject(le))){const Vt=He.update(le),Kt=le.material;if(Ze&&(le.boundingSphere!==void 0?(le.boundingSphere===null&&le.computeBoundingSphere(),ze.copy(le.boundingSphere.center)):(Vt.boundingSphere===null&&Vt.computeBoundingSphere(),ze.copy(Vt.boundingSphere.center)),ze.applyMatrix4(le.matrixWorld).applyMatrix4(Ae)),Array.isArray(Kt)){const Wt=Vt.groups;for(let gn=0,dn=Wt.length;gn<dn;gn++){const on=Wt[gn],Gn=Kt[on.materialIndex];Gn&&Gn.visible&&g.push(le,Vt,Gn,at,ze.z,on)}}else Kt.visible&&g.push(le,Vt,Kt,at,ze.z,null)}}const Rt=le.children;for(let Vt=0,Kt=Rt.length;Vt<Kt;Vt++)Ai(Rt[Vt],Ue,at,Ze)}function Sr(le,Ue,at,Ze){const Ve=le.opaque,Rt=le.transmissive,Vt=le.transparent;y.setupLightsView(at),pe===!0&&ot.setGlobalState(M.clippingPlanes,at),Ze&&$e.viewport($.copy(Ze)),Ve.length>0&&Mn(Ve,Ue,at),Rt.length>0&&Mn(Rt,Ue,at),Vt.length>0&&Mn(Vt,Ue,at),$e.buffers.depth.setTest(!0),$e.buffers.depth.setMask(!0),$e.buffers.color.setMask(!0),$e.setPolygonOffset(!1)}function wn(le,Ue,at,Ze){if((at.isScene===!0?at.overrideMaterial:null)!==null)return;y.state.transmissionRenderTarget[Ze.id]===void 0&&(y.state.transmissionRenderTarget[Ze.id]=new id(1,1,{generateMipmaps:!0,type:Ie.has("EXT_color_buffer_half_float")||Ie.has("EXT_color_buffer_float")?z0:Vc,minFilter:Gl,samples:4,stencilBuffer:o,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Ii.workingColorSpace}));const Rt=y.state.transmissionRenderTarget[Ze.id],Vt=Ze.viewport||$;Rt.setSize(Vt.z*M.transmissionResolutionScale,Vt.w*M.transmissionResolutionScale);const Kt=M.getRenderTarget();M.setRenderTarget(Rt),M.getClearColor(Q),ae=M.getClearAlpha(),ae<1&&M.setClearColor(16777215,.5),M.clear(),Be&&Ct.render(at);const Wt=M.toneMapping;M.toneMapping=qu;const gn=Ze.viewport;if(Ze.viewport!==void 0&&(Ze.viewport=void 0),y.setupLightsView(Ze),pe===!0&&ot.setGlobalState(M.clippingPlanes,Ze),Mn(le,at,Ze),ce.updateMultisampleRenderTarget(Rt),ce.updateRenderTargetMipmap(Rt),Ie.has("WEBGL_multisampled_render_to_texture")===!1){let dn=!1;for(let on=0,Gn=Ue.length;on<Gn;on++){const Vn=Ue[on],jn=Vn.object,In=Vn.geometry,bn=Vn.material,cn=Vn.group;if(bn.side===zc&&jn.layers.test(Ze.layers)){const Si=bn.side;bn.side=cs,bn.needsUpdate=!0,Qn(jn,at,Ze,In,bn,cn),bn.side=Si,bn.needsUpdate=!0,dn=!0}}dn===!0&&(ce.updateMultisampleRenderTarget(Rt),ce.updateRenderTargetMipmap(Rt))}M.setRenderTarget(Kt),M.setClearColor(Q,ae),gn!==void 0&&(Ze.viewport=gn),M.toneMapping=Wt}function Mn(le,Ue,at){const Ze=Ue.isScene===!0?Ue.overrideMaterial:null;for(let Ve=0,Rt=le.length;Ve<Rt;Ve++){const Vt=le[Ve],Kt=Vt.object,Wt=Vt.geometry,gn=Ze===null?Vt.material:Ze,dn=Vt.group;Kt.layers.test(at.layers)&&Qn(Kt,Ue,at,Wt,gn,dn)}}function Qn(le,Ue,at,Ze,Ve,Rt){le.onBeforeRender(M,Ue,at,Ze,Ve,Rt),le.modelViewMatrix.multiplyMatrices(at.matrixWorldInverse,le.matrixWorld),le.normalMatrix.getNormalMatrix(le.modelViewMatrix),Ve.onBeforeRender(M,Ue,at,Ze,le,Rt),Ve.transparent===!0&&Ve.side===zc&&Ve.forceSinglePass===!1?(Ve.side=cs,Ve.needsUpdate=!0,M.renderBufferDirect(at,Ue,Ze,Ve,le,Rt),Ve.side=nd,Ve.needsUpdate=!0,M.renderBufferDirect(at,Ue,Ze,Ve,le,Rt),Ve.side=zc):M.renderBufferDirect(at,Ue,Ze,Ve,le,Rt),le.onAfterRender(M,Ue,at,Ze,Ve,Rt)}function un(le,Ue,at){Ue.isScene!==!0&&(Ue=yt);const Ze=st.get(le),Ve=y.state.lights,Rt=y.state.shadowsArray,Vt=Ve.state.version,Kt=gt.getParameters(le,Ve.state,Rt,Ue,at),Wt=gt.getProgramCacheKey(Kt);let gn=Ze.programs;Ze.environment=le.isMeshStandardMaterial?Ue.environment:null,Ze.fog=Ue.fog,Ze.envMap=(le.isMeshStandardMaterial?we:oe).get(le.envMap||Ze.environment),Ze.envMapRotation=Ze.environment!==null&&le.envMap===null?Ue.environmentRotation:le.envMapRotation,gn===void 0&&(le.addEventListener("dispose",Qt),gn=new Map,Ze.programs=gn);let dn=gn.get(Wt);if(dn!==void 0){if(Ze.currentProgram===dn&&Ze.lightsStateVersion===Vt)return ln(le,Kt),dn}else Kt.uniforms=gt.getUniforms(le),le.onBeforeCompile(Kt,M),dn=gt.acquireProgram(Kt,Wt),gn.set(Wt,dn),Ze.uniforms=Kt.uniforms;const on=Ze.uniforms;return(!le.isShaderMaterial&&!le.isRawShaderMaterial||le.clipping===!0)&&(on.clippingPlanes=ot.uniform),ln(le,Kt),Ze.needsLights=Rr(le),Ze.lightsStateVersion=Vt,Ze.needsLights&&(on.ambientLightColor.value=Ve.state.ambient,on.lightProbe.value=Ve.state.probe,on.directionalLights.value=Ve.state.directional,on.directionalLightShadows.value=Ve.state.directionalShadow,on.spotLights.value=Ve.state.spot,on.spotLightShadows.value=Ve.state.spotShadow,on.rectAreaLights.value=Ve.state.rectArea,on.ltc_1.value=Ve.state.rectAreaLTC1,on.ltc_2.value=Ve.state.rectAreaLTC2,on.pointLights.value=Ve.state.point,on.pointLightShadows.value=Ve.state.pointShadow,on.hemisphereLights.value=Ve.state.hemi,on.directionalShadowMap.value=Ve.state.directionalShadowMap,on.directionalShadowMatrix.value=Ve.state.directionalShadowMatrix,on.spotShadowMap.value=Ve.state.spotShadowMap,on.spotLightMatrix.value=Ve.state.spotLightMatrix,on.spotLightMap.value=Ve.state.spotLightMap,on.pointShadowMap.value=Ve.state.pointShadowMap,on.pointShadowMatrix.value=Ve.state.pointShadowMatrix),Ze.currentProgram=dn,Ze.uniformsList=null,dn}function ii(le){if(le.uniformsList===null){const Ue=le.currentProgram.getUniforms();le.uniformsList=qC.seqWithValue(Ue.seq,le.uniforms)}return le.uniformsList}function ln(le,Ue){const at=st.get(le);at.outputColorSpace=Ue.outputColorSpace,at.batching=Ue.batching,at.batchingColor=Ue.batchingColor,at.instancing=Ue.instancing,at.instancingColor=Ue.instancingColor,at.instancingMorph=Ue.instancingMorph,at.skinning=Ue.skinning,at.morphTargets=Ue.morphTargets,at.morphNormals=Ue.morphNormals,at.morphColors=Ue.morphColors,at.morphTargetsCount=Ue.morphTargetsCount,at.numClippingPlanes=Ue.numClippingPlanes,at.numIntersection=Ue.numClipIntersection,at.vertexAlphas=Ue.vertexAlphas,at.vertexTangents=Ue.vertexTangents,at.toneMapping=Ue.toneMapping}function zr(le,Ue,at,Ze,Ve){Ue.isScene!==!0&&(Ue=yt),ce.resetTextureUnits();const Rt=Ue.fog,Vt=Ze.isMeshStandardMaterial?Ue.environment:null,Kt=F===null?M.outputColorSpace:F.isXRRenderTarget===!0?F.texture.colorSpace:$h,Wt=(Ze.isMeshStandardMaterial?we:oe).get(Ze.envMap||Vt),gn=Ze.vertexColors===!0&&!!at.attributes.color&&at.attributes.color.itemSize===4,dn=!!at.attributes.tangent&&(!!Ze.normalMap||Ze.anisotropy>0),on=!!at.morphAttributes.position,Gn=!!at.morphAttributes.normal,Vn=!!at.morphAttributes.color;let jn=qu;Ze.toneMapped&&(F===null||F.isXRRenderTarget===!0)&&(jn=M.toneMapping);const In=at.morphAttributes.position||at.morphAttributes.normal||at.morphAttributes.color,bn=In!==void 0?In.length:0,cn=st.get(Ze),Si=y.state.lights;if(pe===!0&&(xe===!0||le!==U)){const $i=le===U&&Ze.id===z;ot.setState(Ze,le,$i)}let Wn=!1;Ze.version===cn.__version?(cn.needsLights&&cn.lightsStateVersion!==Si.state.version||cn.outputColorSpace!==Kt||Ve.isBatchedMesh&&cn.batching===!1||!Ve.isBatchedMesh&&cn.batching===!0||Ve.isBatchedMesh&&cn.batchingColor===!0&&Ve.colorTexture===null||Ve.isBatchedMesh&&cn.batchingColor===!1&&Ve.colorTexture!==null||Ve.isInstancedMesh&&cn.instancing===!1||!Ve.isInstancedMesh&&cn.instancing===!0||Ve.isSkinnedMesh&&cn.skinning===!1||!Ve.isSkinnedMesh&&cn.skinning===!0||Ve.isInstancedMesh&&cn.instancingColor===!0&&Ve.instanceColor===null||Ve.isInstancedMesh&&cn.instancingColor===!1&&Ve.instanceColor!==null||Ve.isInstancedMesh&&cn.instancingMorph===!0&&Ve.morphTexture===null||Ve.isInstancedMesh&&cn.instancingMorph===!1&&Ve.morphTexture!==null||cn.envMap!==Wt||Ze.fog===!0&&cn.fog!==Rt||cn.numClippingPlanes!==void 0&&(cn.numClippingPlanes!==ot.numPlanes||cn.numIntersection!==ot.numIntersection)||cn.vertexAlphas!==gn||cn.vertexTangents!==dn||cn.morphTargets!==on||cn.morphNormals!==Gn||cn.morphColors!==Vn||cn.toneMapping!==jn||cn.morphTargetsCount!==bn)&&(Wn=!0):(Wn=!0,cn.__version=Ze.version);let $n=cn.currentProgram;Wn===!0&&($n=un(Ze,Ue,Ve));let Tn=!1,Cn=!1,Zn=!1;const An=$n.getUniforms(),xi=cn.uniforms;if($e.useProgram($n.program)&&(Tn=!0,Cn=!0,Zn=!0),Ze.id!==z&&(z=Ze.id,Cn=!0),Tn||U!==le){$e.buffers.depth.getReversed()?(Oe.copy(le.projectionMatrix),Vre(Oe),jre(Oe),An.setValue(re,"projectionMatrix",Oe)):An.setValue(re,"projectionMatrix",le.projectionMatrix),An.setValue(re,"viewMatrix",le.matrixWorldInverse);const Ki=An.map.cameraPosition;Ki!==void 0&&Ki.setValue(re,Te.setFromMatrixPosition(le.matrixWorld)),qe.logarithmicDepthBuffer&&An.setValue(re,"logDepthBufFC",2/(Math.log(le.far+1)/Math.LN2)),(Ze.isMeshPhongMaterial||Ze.isMeshToonMaterial||Ze.isMeshLambertMaterial||Ze.isMeshBasicMaterial||Ze.isMeshStandardMaterial||Ze.isShaderMaterial)&&An.setValue(re,"isOrthographic",le.isOrthographicCamera===!0),U!==le&&(U=le,Cn=!0,Zn=!0)}if(Ve.isSkinnedMesh){An.setOptional(re,Ve,"bindMatrix"),An.setOptional(re,Ve,"bindMatrixInverse");const $i=Ve.skeleton;$i&&($i.boneTexture===null&&$i.computeBoneTexture(),An.setValue(re,"boneTexture",$i.boneTexture,ce))}Ve.isBatchedMesh&&(An.setOptional(re,Ve,"batchingTexture"),An.setValue(re,"batchingTexture",Ve._matricesTexture,ce),An.setOptional(re,Ve,"batchingIdTexture"),An.setValue(re,"batchingIdTexture",Ve._indirectTexture,ce),An.setOptional(re,Ve,"batchingColorTexture"),Ve._colorsTexture!==null&&An.setValue(re,"batchingColorTexture",Ve._colorsTexture,ce));const Li=at.morphAttributes;if((Li.position!==void 0||Li.normal!==void 0||Li.color!==void 0)&&We.update(Ve,at,$n),(Cn||cn.receiveShadow!==Ve.receiveShadow)&&(cn.receiveShadow=Ve.receiveShadow,An.setValue(re,"receiveShadow",Ve.receiveShadow)),Ze.isMeshGouraudMaterial&&Ze.envMap!==null&&(xi.envMap.value=Wt,xi.flipEnvMap.value=Wt.isCubeTexture&&Wt.isRenderTargetTexture===!1?-1:1),Ze.isMeshStandardMaterial&&Ze.envMap===null&&Ue.environment!==null&&(xi.envMapIntensity.value=Ue.environmentIntensity),Cn&&(An.setValue(re,"toneMappingExposure",M.toneMappingExposure),cn.needsLights&&Ur(xi,Zn),Rt&&Ze.fog===!0&&lt.refreshFogUniforms(xi,Rt),lt.refreshMaterialUniforms(xi,Ze,ee,K,y.state.transmissionRenderTarget[le.id]),qC.upload(re,ii(cn),xi,ce)),Ze.isShaderMaterial&&Ze.uniformsNeedUpdate===!0&&(qC.upload(re,ii(cn),xi,ce),Ze.uniformsNeedUpdate=!1),Ze.isSpriteMaterial&&An.setValue(re,"center",Ve.center),An.setValue(re,"modelViewMatrix",Ve.modelViewMatrix),An.setValue(re,"normalMatrix",Ve.normalMatrix),An.setValue(re,"modelMatrix",Ve.matrixWorld),Ze.isShaderMaterial||Ze.isRawShaderMaterial){const $i=Ze.uniformsGroups;for(let Ki=0,Ir=$i.length;Ki<Ir;Ki++){const Wi=$i[Ki];Me.update(Wi,$n),Me.bind(Wi,$n)}}return $n}function Ur(le,Ue){le.ambientLightColor.needsUpdate=Ue,le.lightProbe.needsUpdate=Ue,le.directionalLights.needsUpdate=Ue,le.directionalLightShadows.needsUpdate=Ue,le.pointLights.needsUpdate=Ue,le.pointLightShadows.needsUpdate=Ue,le.spotLights.needsUpdate=Ue,le.spotLightShadows.needsUpdate=Ue,le.rectAreaLights.needsUpdate=Ue,le.hemisphereLights.needsUpdate=Ue}function Rr(le){return le.isMeshLambertMaterial||le.isMeshToonMaterial||le.isMeshPhongMaterial||le.isMeshStandardMaterial||le.isShadowMaterial||le.isShaderMaterial&&le.lights===!0}this.getActiveCubeFace=function(){return B},this.getActiveMipmapLevel=function(){return D},this.getRenderTarget=function(){return F},this.setRenderTargetTextures=function(le,Ue,at){st.get(le.texture).__webglTexture=Ue,st.get(le.depthTexture).__webglTexture=at;const Ze=st.get(le);Ze.__hasExternalTextures=!0,Ze.__autoAllocateDepthBuffer=at===void 0,Ze.__autoAllocateDepthBuffer||Ie.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Ze.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(le,Ue){const at=st.get(le);at.__webglFramebuffer=Ue,at.__useDefaultFramebuffer=Ue===void 0};const Or=re.createFramebuffer();this.setRenderTarget=function(le,Ue=0,at=0){F=le,B=Ue,D=at;let Ze=!0,Ve=null,Rt=!1,Vt=!1;if(le){const Wt=st.get(le);if(Wt.__useDefaultFramebuffer!==void 0)$e.bindFramebuffer(re.FRAMEBUFFER,null),Ze=!1;else if(Wt.__webglFramebuffer===void 0)ce.setupRenderTarget(le);else if(Wt.__hasExternalTextures)ce.rebindTextures(le,st.get(le.texture).__webglTexture,st.get(le.depthTexture).__webglTexture);else if(le.depthBuffer){const on=le.depthTexture;if(Wt.__boundDepthTexture!==on){if(on!==null&&st.has(on)&&(le.width!==on.image.width||le.height!==on.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");ce.setupDepthRenderbuffer(le)}}const gn=le.texture;(gn.isData3DTexture||gn.isDataArrayTexture||gn.isCompressedArrayTexture)&&(Vt=!0);const dn=st.get(le).__webglFramebuffer;le.isWebGLCubeRenderTarget?(Array.isArray(dn[Ue])?Ve=dn[Ue][at]:Ve=dn[Ue],Rt=!0):le.samples>0&&ce.useMultisampledRTT(le)===!1?Ve=st.get(le).__webglMultisampledFramebuffer:Array.isArray(dn)?Ve=dn[at]:Ve=dn,$.copy(le.viewport),J.copy(le.scissor),W=le.scissorTest}else $.copy(ie).multiplyScalar(ee).floor(),J.copy(he).multiplyScalar(ee).floor(),W=fe;if(at!==0&&(Ve=Or),$e.bindFramebuffer(re.FRAMEBUFFER,Ve)&&Ze&&$e.drawBuffers(le,Ve),$e.viewport($),$e.scissor(J),$e.setScissorTest(W),Rt){const Wt=st.get(le.texture);re.framebufferTexture2D(re.FRAMEBUFFER,re.COLOR_ATTACHMENT0,re.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,Wt.__webglTexture,at)}else if(Vt){const Wt=st.get(le.texture),gn=Ue;re.framebufferTextureLayer(re.FRAMEBUFFER,re.COLOR_ATTACHMENT0,Wt.__webglTexture,at,gn)}else if(le!==null&&at!==0){const Wt=st.get(le.texture);re.framebufferTexture2D(re.FRAMEBUFFER,re.COLOR_ATTACHMENT0,re.TEXTURE_2D,Wt.__webglTexture,at)}z=-1},this.readRenderTargetPixels=function(le,Ue,at,Ze,Ve,Rt,Vt){if(!(le&&le.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Kt=st.get(le).__webglFramebuffer;if(le.isWebGLCubeRenderTarget&&Vt!==void 0&&(Kt=Kt[Vt]),Kt){$e.bindFramebuffer(re.FRAMEBUFFER,Kt);try{const Wt=le.texture,gn=Wt.format,dn=Wt.type;if(!qe.textureFormatReadable(gn)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!qe.textureTypeReadable(dn)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Ue>=0&&Ue<=le.width-Ze&&at>=0&&at<=le.height-Ve&&re.readPixels(Ue,at,Ze,Ve,Ge.convert(gn),Ge.convert(dn),Rt)}finally{const Wt=F!==null?st.get(F).__webglFramebuffer:null;$e.bindFramebuffer(re.FRAMEBUFFER,Wt)}}},this.readRenderTargetPixelsAsync=async function(le,Ue,at,Ze,Ve,Rt,Vt){if(!(le&&le.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Kt=st.get(le).__webglFramebuffer;if(le.isWebGLCubeRenderTarget&&Vt!==void 0&&(Kt=Kt[Vt]),Kt){const Wt=le.texture,gn=Wt.format,dn=Wt.type;if(!qe.textureFormatReadable(gn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!qe.textureTypeReadable(dn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(Ue>=0&&Ue<=le.width-Ze&&at>=0&&at<=le.height-Ve){$e.bindFramebuffer(re.FRAMEBUFFER,Kt);const on=re.createBuffer();re.bindBuffer(re.PIXEL_PACK_BUFFER,on),re.bufferData(re.PIXEL_PACK_BUFFER,Rt.byteLength,re.STREAM_READ),re.readPixels(Ue,at,Ze,Ve,Ge.convert(gn),Ge.convert(dn),0);const Gn=F!==null?st.get(F).__webglFramebuffer:null;$e.bindFramebuffer(re.FRAMEBUFFER,Gn);const Vn=re.fenceSync(re.SYNC_GPU_COMMANDS_COMPLETE,0);return re.flush(),await $re(re,Vn,4),re.bindBuffer(re.PIXEL_PACK_BUFFER,on),re.getBufferSubData(re.PIXEL_PACK_BUFFER,0,Rt),re.deleteBuffer(on),re.deleteSync(Vn),Rt}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(le,Ue=null,at=0){le.isTexture!==!0&&(Wp("WebGLRenderer: copyFramebufferToTexture function signature has changed."),Ue=arguments[0]||null,le=arguments[1]);const Ze=Math.pow(2,-at),Ve=Math.floor(le.image.width*Ze),Rt=Math.floor(le.image.height*Ze),Vt=Ue!==null?Ue.x:0,Kt=Ue!==null?Ue.y:0;ce.setTexture2D(le,0),re.copyTexSubImage2D(re.TEXTURE_2D,at,0,0,Vt,Kt,Ve,Rt),$e.unbindTexture()};const cr=re.createFramebuffer(),_r=re.createFramebuffer();this.copyTextureToTexture=function(le,Ue,at=null,Ze=null,Ve=0,Rt=null){le.isTexture!==!0&&(Wp("WebGLRenderer: copyTextureToTexture function signature has changed."),Ze=arguments[0]||null,le=arguments[1],Ue=arguments[2],Rt=arguments[3]||0,at=null),Rt===null&&(Ve!==0?(Wp("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Rt=Ve,Ve=0):Rt=0);let Vt,Kt,Wt,gn,dn,on,Gn,Vn,jn;const In=le.isCompressedTexture?le.mipmaps[Rt]:le.image;if(at!==null)Vt=at.max.x-at.min.x,Kt=at.max.y-at.min.y,Wt=at.isBox3?at.max.z-at.min.z:1,gn=at.min.x,dn=at.min.y,on=at.isBox3?at.min.z:0;else{const Li=Math.pow(2,-Ve);Vt=Math.floor(In.width*Li),Kt=Math.floor(In.height*Li),le.isDataArrayTexture?Wt=In.depth:le.isData3DTexture?Wt=Math.floor(In.depth*Li):Wt=1,gn=0,dn=0,on=0}Ze!==null?(Gn=Ze.x,Vn=Ze.y,jn=Ze.z):(Gn=0,Vn=0,jn=0);const bn=Ge.convert(Ue.format),cn=Ge.convert(Ue.type);let Si;Ue.isData3DTexture?(ce.setTexture3D(Ue,0),Si=re.TEXTURE_3D):Ue.isDataArrayTexture||Ue.isCompressedArrayTexture?(ce.setTexture2DArray(Ue,0),Si=re.TEXTURE_2D_ARRAY):(ce.setTexture2D(Ue,0),Si=re.TEXTURE_2D),re.pixelStorei(re.UNPACK_FLIP_Y_WEBGL,Ue.flipY),re.pixelStorei(re.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ue.premultiplyAlpha),re.pixelStorei(re.UNPACK_ALIGNMENT,Ue.unpackAlignment);const Wn=re.getParameter(re.UNPACK_ROW_LENGTH),$n=re.getParameter(re.UNPACK_IMAGE_HEIGHT),Tn=re.getParameter(re.UNPACK_SKIP_PIXELS),Cn=re.getParameter(re.UNPACK_SKIP_ROWS),Zn=re.getParameter(re.UNPACK_SKIP_IMAGES);re.pixelStorei(re.UNPACK_ROW_LENGTH,In.width),re.pixelStorei(re.UNPACK_IMAGE_HEIGHT,In.height),re.pixelStorei(re.UNPACK_SKIP_PIXELS,gn),re.pixelStorei(re.UNPACK_SKIP_ROWS,dn),re.pixelStorei(re.UNPACK_SKIP_IMAGES,on);const An=le.isDataArrayTexture||le.isData3DTexture,xi=Ue.isDataArrayTexture||Ue.isData3DTexture;if(le.isDepthTexture){const Li=st.get(le),$i=st.get(Ue),Ki=st.get(Li.__renderTarget),Ir=st.get($i.__renderTarget);$e.bindFramebuffer(re.READ_FRAMEBUFFER,Ki.__webglFramebuffer),$e.bindFramebuffer(re.DRAW_FRAMEBUFFER,Ir.__webglFramebuffer);for(let Wi=0;Wi<Wt;Wi++)An&&(re.framebufferTextureLayer(re.READ_FRAMEBUFFER,re.COLOR_ATTACHMENT0,st.get(le).__webglTexture,Ve,on+Wi),re.framebufferTextureLayer(re.DRAW_FRAMEBUFFER,re.COLOR_ATTACHMENT0,st.get(Ue).__webglTexture,Rt,jn+Wi)),re.blitFramebuffer(gn,dn,Vt,Kt,Gn,Vn,Vt,Kt,re.DEPTH_BUFFER_BIT,re.NEAREST);$e.bindFramebuffer(re.READ_FRAMEBUFFER,null),$e.bindFramebuffer(re.DRAW_FRAMEBUFFER,null)}else if(Ve!==0||le.isRenderTargetTexture||st.has(le)){const Li=st.get(le),$i=st.get(Ue);$e.bindFramebuffer(re.READ_FRAMEBUFFER,cr),$e.bindFramebuffer(re.DRAW_FRAMEBUFFER,_r);for(let Ki=0;Ki<Wt;Ki++)An?re.framebufferTextureLayer(re.READ_FRAMEBUFFER,re.COLOR_ATTACHMENT0,Li.__webglTexture,Ve,on+Ki):re.framebufferTexture2D(re.READ_FRAMEBUFFER,re.COLOR_ATTACHMENT0,re.TEXTURE_2D,Li.__webglTexture,Ve),xi?re.framebufferTextureLayer(re.DRAW_FRAMEBUFFER,re.COLOR_ATTACHMENT0,$i.__webglTexture,Rt,jn+Ki):re.framebufferTexture2D(re.DRAW_FRAMEBUFFER,re.COLOR_ATTACHMENT0,re.TEXTURE_2D,$i.__webglTexture,Rt),Ve!==0?re.blitFramebuffer(gn,dn,Vt,Kt,Gn,Vn,Vt,Kt,re.COLOR_BUFFER_BIT,re.NEAREST):xi?re.copyTexSubImage3D(Si,Rt,Gn,Vn,jn+Ki,gn,dn,Vt,Kt):re.copyTexSubImage2D(Si,Rt,Gn,Vn,gn,dn,Vt,Kt);$e.bindFramebuffer(re.READ_FRAMEBUFFER,null),$e.bindFramebuffer(re.DRAW_FRAMEBUFFER,null)}else xi?le.isDataTexture||le.isData3DTexture?re.texSubImage3D(Si,Rt,Gn,Vn,jn,Vt,Kt,Wt,bn,cn,In.data):Ue.isCompressedArrayTexture?re.compressedTexSubImage3D(Si,Rt,Gn,Vn,jn,Vt,Kt,Wt,bn,In.data):re.texSubImage3D(Si,Rt,Gn,Vn,jn,Vt,Kt,Wt,bn,cn,In):le.isDataTexture?re.texSubImage2D(re.TEXTURE_2D,Rt,Gn,Vn,Vt,Kt,bn,cn,In.data):le.isCompressedTexture?re.compressedTexSubImage2D(re.TEXTURE_2D,Rt,Gn,Vn,In.width,In.height,bn,In.data):re.texSubImage2D(re.TEXTURE_2D,Rt,Gn,Vn,Vt,Kt,bn,cn,In);re.pixelStorei(re.UNPACK_ROW_LENGTH,Wn),re.pixelStorei(re.UNPACK_IMAGE_HEIGHT,$n),re.pixelStorei(re.UNPACK_SKIP_PIXELS,Tn),re.pixelStorei(re.UNPACK_SKIP_ROWS,Cn),re.pixelStorei(re.UNPACK_SKIP_IMAGES,Zn),Rt===0&&Ue.generateMipmaps&&re.generateMipmap(Si),$e.unbindTexture()},this.copyTextureToTexture3D=function(le,Ue,at=null,Ze=null,Ve=0){return le.isTexture!==!0&&(Wp("WebGLRenderer: copyTextureToTexture3D function signature has changed."),at=arguments[0]||null,Ze=arguments[1]||null,le=arguments[2],Ue=arguments[3],Ve=arguments[4]||0),Wp('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(le,Ue,at,Ze,Ve)},this.initRenderTarget=function(le){st.get(le).__webglFramebuffer===void 0&&ce.setupRenderTarget(le)},this.initTexture=function(le){le.isCubeTexture?ce.setTextureCube(le,0):le.isData3DTexture?ce.setTexture3D(le,0):le.isDataArrayTexture||le.isCompressedArrayTexture?ce.setTexture2DArray(le,0):ce.setTexture2D(le,0),$e.unbindTexture()},this.resetState=function(){B=0,D=0,F=null,$e.reset(),St.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Fc}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorspace=Ii._getDrawingBufferColorSpace(e),t.unpackColorSpace=Ii._getUnpackColorSpace()}}const Zde=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:fI,AddEquation:wh,AddOperation:x8,AdditiveAnimationBlendMode:xI,AdditiveBlending:T2,AgXToneMapping:M8,AlphaFormat:gI,AlwaysCompare:$8,AlwaysDepth:nE,AlwaysStencilFunc:B2,AmbientLight:O6,AnimationAction:H6,AnimationClip:x0,AnimationLoader:moe,AnimationMixer:koe,AnimationObjectGroup:Hoe,AnimationUtils:doe,ArcCurve:r6,ArrayCamera:z6,ArrowHelper:use,AttachedBindMode:I2,Audio:U6,AudioAnalyser:Ooe,AudioContext:JI,AudioListener:Moe,AudioLoader:Eoe,AxesHelper:dse,BackSide:cs,BasicDepthPacking:P8,BasicShadowMap:n8,BatchedMesh:n6,Bone:tA,BooleanKeyframeTrack:Xm,Box2:Koe,Box3:go,Box3Helper:lse,BoxGeometry:Wm,BoxHelper:sse,BufferAttribute:ki,BufferGeometry:ni,BufferGeometryLoader:L6,ByteType:hI,Cache:sf,Camera:Qw,CameraHelper:ose,CanvasTexture:Lae,CapsuleGeometry:aA,CatmullRomCurve3:a6,CineonToneMapping:w8,CircleGeometry:oA,ClampToEdgeWrapping:nl,Clock:QI,Color:en,ColorKeyframeTrack:jI,ColorManagement:Ii,CompressedArrayTexture:Dae,CompressedCubeTexture:Pae,CompressedTexture:iA,CompressedTextureLoader:goe,ConeGeometry:sA,ConstantAlphaFactor:b8,ConstantColorFactor:v8,Controls:hse,CubeCamera:J8,CubeReflectionMapping:yf,CubeRefractionMapping:Gh,CubeTexture:$S,CubeTextureLoader:voe,CubeUVReflectionMapping:N0,CubicBezierCurve:NI,CubicBezierCurve3:o6,CubicInterpolant:E6,CullFaceBack:M2,CullFaceFront:t8,CullFaceFrontBack:Yie,CullFaceNone:e8,Curve:qc,CurvePath:l6,CustomBlending:i8,CustomToneMapping:A8,CylinderGeometry:U0,Cylindrical:qoe,Data3DTexture:Jw,DataArrayTexture:kS,DataTexture:Ku,DataTextureLoader:yoe,DataUtils:oae,DecrementStencilOp:are,DecrementWrapStencilOp:sre,DefaultLoadingManager:M6,DepthFormat:Em,DepthStencilFormat:Om,DepthTexture:PI,DetachedBindMode:R8,DirectionalLight:KI,DirectionalLightHelper:ase,DiscreteInterpolant:w6,DodecahedronGeometry:lA,DoubleSide:zc,DstAlphaFactor:f8,DstColorFactor:p8,DynamicCopyUsage:xre,DynamicDrawUsage:gre,DynamicReadUsage:bre,EdgesGeometry:c6,EllipseCurve:rA,EqualCompare:F8,EqualDepth:rE,EqualStencilFunc:dre,EquirectangularReflectionMapping:sS,EquirectangularRefractionMapping:lS,Euler:ol,EventDispatcher:ld,ExtrudeGeometry:uA,FileLoader:sl,Float16BufferAttribute:hae,Float32BufferAttribute:vn,FloatType:Is,Fog:eA,FogExp2:Zw,FramebufferTexture:Bae,FrontSide:nd,Frustum:WS,GLBufferAttribute:Yoe,GLSL1:Ere,GLSL3:D2,GreaterCompare:H8,GreaterDepth:oE,GreaterEqualCompare:k8,GreaterEqualDepth:aE,GreaterEqualStencilFunc:mre,GreaterStencilFunc:hre,GridHelper:ise,Group:of,HalfFloatType:z0,HemisphereLight:R6,HemisphereLightHelper:nse,IcosahedronGeometry:dA,ImageBitmapLoader:N6,ImageLoader:yS,ImageUtils:X8,IncrementStencilOp:rre,IncrementWrapStencilOp:ore,InstancedBufferAttribute:Im,InstancedBufferGeometry:P6,InstancedInterleavedBuffer:Xoe,InstancedMesh:II,Int16BufferAttribute:dae,Int32BufferAttribute:fae,Int8BufferAttribute:lae,IntType:$w,InterleavedBuffer:VS,InterleavedBufferAttribute:Vh,Interpolant:H0,InterpolateDiscrete:v0,InterpolateLinear:y0,InterpolateSmooth:XC,InvertStencilOp:lre,KeepStencilOp:jp,KeyframeTrack:Kc,LOD:t6,LatheGeometry:XS,Layers:S0,LessCompare:U8,LessDepth:iE,LessEqualCompare:EI,LessEqualDepth:Tm,LessEqualStencilFunc:fre,LessStencilFunc:ure,Light:Yh,LightProbe:D6,Line:Sf,Line3:Joe,LineBasicMaterial:Go,LineCurve:zI,LineCurve3:s6,LineDashedMaterial:_6,LineLoop:BI,LineSegments:Yc,LinearFilter:ma,LinearInterpolant:VI,LinearMipMapLinearFilter:Qie,LinearMipMapNearestFilter:Jie,LinearMipmapLinearFilter:Gl,LinearMipmapNearestFilter:Zv,LinearSRGBColorSpace:$h,LinearToneMapping:C8,LinearTransfer:uS,Loader:ko,LoaderUtils:Nh,LoadingManager:WI,LoopOnce:O8,LoopPingPong:B8,LoopRepeat:I8,LuminanceAlphaFormat:bI,LuminanceFormat:yI,MOUSE:$p,Material:Pa,MaterialLoader:yA,MathUtils:V8,Matrix2:nB,Matrix3:ti,Matrix4:Pn,MaxEquation:s8,Mesh:ga,MeshBasicMaterial:il,MeshDepthMaterial:GI,MeshDistanceMaterial:kI,MeshLambertMaterial:b6,MeshMatcapMaterial:S6,MeshNormalMaterial:y6,MeshPhongMaterial:g6,MeshPhysicalMaterial:Vl,MeshStandardMaterial:KS,MeshToonMaterial:v6,MinEquation:o8,MirroredRepeatWrapping:m0,MixOperation:_8,MultiplyBlending:O2,MultiplyOperation:HS,NearestFilter:Za,NearestMipMapLinearFilter:Kie,NearestMipMapNearestFilter:qie,NearestMipmapLinearFilter:mm,NearestMipmapNearestFilter:kw,NeutralToneMapping:T8,NeverCompare:z8,NeverDepth:tE,NeverStencilFunc:cre,NoBlending:df,NoColorSpace:rf,NoToneMapping:qu,NormalAnimationBlendMode:qw,NormalBlending:Cm,NotEqualCompare:G8,NotEqualDepth:sE,NotEqualStencilFunc:pre,NumberKeyframeTrack:Dm,Object3D:Di,ObjectLoader:xoe,ObjectSpaceNormalMap:N8,OctahedronGeometry:YS,OneFactor:c8,OneMinusConstantAlphaFactor:S8,OneMinusConstantColorFactor:y8,OneMinusDstAlphaFactor:h8,OneMinusDstColorFactor:m8,OneMinusSrcAlphaFactor:eE,OneMinusSrcColorFactor:d8,OrthographicCamera:hf,PCFShadowMap:Hw,PCFSoftShadowMap:Db,PMREMGenerator:G2,Path:pS,PerspectiveCamera:Xr,Plane:tf,PlaneGeometry:F0,PlaneHelper:cse,PointLight:qI,PointLightHelper:ese,Points:DI,PointsMaterial:nA,PolarGridHelper:rse,PolyhedronGeometry:Xh,PositionalAudio:Roe,PropertyBinding:Fi,PropertyMixer:F6,QuadraticBezierCurve:UI,QuadraticBezierCurve3:FI,Quaternion:eo,QuaternionKeyframeTrack:Pm,QuaternionLinearInterpolant:A6,RED_GREEN_RGTC2_Format:BE,RED_RGTC1_Format:_I,REVISION:FS,RGBADepthPacking:L8,RGBAFormat:zo,RGBAIntegerFormat:Yw,RGBA_ASTC_10x10_Format:AE,RGBA_ASTC_10x5_Format:CE,RGBA_ASTC_10x6_Format:EE,RGBA_ASTC_10x8_Format:wE,RGBA_ASTC_12x10_Format:ME,RGBA_ASTC_12x12_Format:TE,RGBA_ASTC_4x4_Format:mE,RGBA_ASTC_5x4_Format:gE,RGBA_ASTC_5x5_Format:vE,RGBA_ASTC_6x5_Format:yE,RGBA_ASTC_6x6_Format:bE,RGBA_ASTC_8x5_Format:SE,RGBA_ASTC_8x6_Format:_E,RGBA_ASTC_8x8_Format:xE,RGBA_BPTC_Format:Ub,RGBA_ETC2_EAC_Format:pE,RGBA_PVRTC_2BPPV1_Format:dE,RGBA_PVRTC_4BPPV1_Format:uE,RGBA_S3TC_DXT1_Format:Lb,RGBA_S3TC_DXT3_Format:Nb,RGBA_S3TC_DXT5_Format:zb,RGBDepthPacking:ere,RGBFormat:vI,RGBIntegerFormat:Zie,RGB_BPTC_SIGNED_Format:RE,RGB_BPTC_UNSIGNED_Format:OE,RGB_ETC1_Format:fE,RGB_ETC2_Format:hE,RGB_PVRTC_2BPPV1_Format:cE,RGB_PVRTC_4BPPV1_Format:lE,RGB_S3TC_DXT1_Format:Pb,RGDepthPacking:tre,RGFormat:SI,RGIntegerFormat:Xw,RawShaderMaterial:m6,Ray:jm,Raycaster:G6,RectAreaLight:I6,RedFormat:Ww,RedIntegerFormat:GS,ReinhardToneMapping:E8,RenderTarget:Kw,RenderTarget3D:$oe,RenderTargetArray:Voe,RepeatWrapping:kh,ReplaceStencilOp:ire,ReverseSubtractEquation:a8,RingGeometry:fA,SIGNED_RED_GREEN_RGTC2_Format:DE,SIGNED_RED_RGTC1_Format:IE,SRGBColorSpace:Lo,SRGBTransfer:sr,Scene:TI,ShaderChunk:ui,ShaderLib:Pc,ShaderMaterial:jc,ShadowMaterial:p6,Shape:Am,ShapeGeometry:hA,ShapePath:fse,ShapeUtils:Ju,ShortType:pI,Skeleton:jS,SkeletonHelper:Zoe,SkinnedMesh:OI,Source:Bh,Sphere:vo,SphereGeometry:qS,Spherical:F2,SphericalHarmonics3:B6,SplineCurve:HI,SpotLight:YI,SpotLightHelper:Qoe,Sprite:e6,SpriteMaterial:RI,SrcAlphaFactor:Z1,SrcAlphaSaturateFactor:g8,SrcColorFactor:u8,StaticCopyUsage:_re,StaticDrawUsage:dS,StaticReadUsage:yre,StereoCamera:woe,StreamCopyUsage:Cre,StreamDrawUsage:vre,StreamReadUsage:Sre,StringKeyframeTrack:Ym,SubtractEquation:r8,SubtractiveBlending:R2,TOUCH:Vp,TangentSpaceNormalMap:Wh,TetrahedronGeometry:pA,Texture:Lr,TextureLoader:T6,TextureUtils:yse,TimestampQuery:wre,TorusGeometry:mA,TorusKnotGeometry:gA,Triangle:Os,TriangleFanDrawMode:PE,TriangleStripDrawMode:CI,TrianglesDrawMode:D8,TubeGeometry:vA,UVMapping:Gw,Uint16BufferAttribute:AI,Uint32BufferAttribute:MI,Uint8BufferAttribute:cae,Uint8ClampedBufferAttribute:uae,Uniform:tB,UniformsGroup:Woe,UniformsLib:rn,UniformsUtils:K8,UnsignedByteType:Vc,UnsignedInt248Type:Rm,UnsignedInt5999Type:mI,UnsignedIntType:bf,UnsignedShort4444Type:Vw,UnsignedShort5551Type:jw,UnsignedShortType:g0,VSMShadowMap:Oc,Vector2:Tt,Vector3:be,Vector4:Gi,VectorKeyframeTrack:Lm,VideoFrameTexture:Iae,VideoTexture:i6,WebGL3DRenderTarget:Kre,WebGLArrayRenderTarget:qre,WebGLCoordinateSystem:Fc,WebGLCubeRenderTarget:Q8,WebGLRenderTarget:id,WebGLRenderer:q6,WebGLUtils:Y6,WebGPUCoordinateSystem:fS,WebXRController:YC,WireframeGeometry:h6,WrapAroundEnding:cS,ZeroCurvatureEnding:gm,ZeroFactor:l8,ZeroSlopeEnding:vm,ZeroStencilOp:nre,createCanvasElement:W8},Symbol.toStringTag,{value:"Module"}));var FT={exports:{}},$d={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CN;function efe(){return CN||(CN=1,$d.ConcurrentRoot=1,$d.ContinuousEventPriority=8,$d.DefaultEventPriority=32,$d.DiscreteEventPriority=2,$d.IdleEventPriority=268435456,$d.LegacyRoot=0,$d.NoEventPriority=0),$d}var EN;function tfe(){return EN||(EN=1,FT.exports=efe()),FT.exports}var KC=tfe(),HT={exports:{}},GT={},kT={exports:{}},$T={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wN;function nfe(){if(wN)return $T;wN=1;var n=M0();function e(b,_){return b===_&&(b!==0||1/b===1/_)||b!==b&&_!==_}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,a=n.useEffect,o=n.useLayoutEffect,l=n.useDebugValue;function s(b,_){var E=_(),c=r({inst:{value:E,getSnapshot:_}}),p=c[0].inst,g=c[1];return o(function(){p.value=E,p.getSnapshot=_,u(p)&&g({inst:p})},[b,E,_]),a(function(){return u(p)&&g({inst:p}),b(function(){u(p)&&g({inst:p})})},[b]),l(E),E}function u(b){var _=b.getSnapshot;b=b.value;try{var E=_();return!t(b,E)}catch{return!0}}function f(b,_){return _()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:s;return $T.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:m,$T}var AN;function ife(){return AN||(AN=1,kT.exports=nfe()),kT.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MN;function rfe(){if(MN)return GT;MN=1;var n=M0(),e=ife();function t(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:t,a=e.useSyncExternalStore,o=n.useRef,l=n.useEffect,s=n.useMemo,u=n.useDebugValue;return GT.useSyncExternalStoreWithSelector=function(f,m,b,_,E){var c=o(null);if(c.current===null){var p={hasValue:!1,value:null};c.current=p}else p=c.current;c=s(function(){function y(B){if(!C){if(C=!0,T=B,B=_(B),E!==void 0&&p.hasValue){var D=p.value;if(E(D,B))return M=D}return M=B}if(D=M,r(T,B))return D;var F=_(B);return E!==void 0&&E(D,F)?(T=B,D):(T=B,M=F)}var C=!1,T,M,O=b===void 0?null:b;return[function(){return y(m())},O===null?void 0:function(){return y(O())}]},[m,b,_,E]);var g=a(f,c[0],c[1]);return l(function(){p.hasValue=!0,p.value=g},[g]),u(g),g},GT}var TN;function afe(){return TN||(TN=1,HT.exports=rfe()),HT.exports}var ofe=afe();const sfe=Fm(ofe),RN=n=>{let e;const t=new Set,r=(f,m)=>{const b=typeof f=="function"?f(e):f;if(!Object.is(b,e)){const _=e;e=m??(typeof b!="object"||b===null)?b:Object.assign({},e,b),t.forEach(E=>E(e,_))}},a=()=>e,s={setState:r,getState:a,getInitialState:()=>u,subscribe:f=>(t.add(f),()=>t.delete(f))},u=e=n(r,a,s);return s},lfe=n=>n?RN(n):RN,{useSyncExternalStoreWithSelector:cfe}=sfe,ufe=n=>n;function dfe(n,e=ufe,t){const r=cfe(n.subscribe,n.getState,n.getInitialState,e,t);return Xe.useDebugValue(r),r}const ON=(n,e)=>{const t=lfe(n),r=(a,o=e)=>dfe(t,a,o);return Object.assign(r,t),r},ffe=(n,e)=>n?ON(n,e):ON;var VT={exports:{}},jT={exports:{}};/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IN;function hfe(){return IN||(IN=1,function(n){n.exports=function(e){function t(v,S,R,N){return new l_(v,S,R,N)}function r(){}function a(v){var S="https://react.dev/errors/"+v;if(1<arguments.length){S+="?args[]="+encodeURIComponent(arguments[1]);for(var R=2;R<arguments.length;R++)S+="&args[]="+encodeURIComponent(arguments[R])}return"Minified React error #"+v+"; visit "+S+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(v){return v===null||typeof v!="object"?null:(v=Xi&&v[Xi]||v["@@iterator"],typeof v=="function"?v:null)}function l(v){if(v==null)return null;if(typeof v=="function")return v.$$typeof===ta?null:v.displayName||v.name||null;if(typeof v=="string")return v;switch(v){case pu:return"Fragment";case Sl:return"Portal";case mu:return"Profiler";case _d:return"StrictMode";case lc:return"Suspense";case hp:return"SuspenseList"}if(typeof v=="object")switch(v.$$typeof){case gu:return(v.displayName||"Context")+".Provider";case K0:return(v._context.displayName||"Context")+".Consumer";case dg:var S=v.render;return v=v.displayName,v||(v=S.displayName||S.name||"",v=v!==""?"ForwardRef("+v+")":"ForwardRef"),v;case Uf:return S=v.displayName||null,S!==null?S:l(v.type)||"Memo";case cc:S=v._payload,v=v._init;try{return l(v(S))}catch{}}return null}function s(v){if(vu===void 0)try{throw Error()}catch(R){var S=R.stack.trim().match(/\n( *(at )?)/);vu=S&&S[1]||"",yu=-1<R.stack.indexOf(`
    at`)?" (<anonymous>)":-1<R.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vu+v+yu}function u(v,S){if(!v||Ff)return"";Ff=!0;var R=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var N={DetermineComponentFrameRoot:function(){try{if(S){var nn=function(){throw Error()};if(Object.defineProperty(nn.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nn,[])}catch(qn){var Ht=qn}Reflect.construct(v,[],nn)}else{try{nn.call()}catch(qn){Ht=qn}v.call(nn.prototype)}}else{try{throw Error()}catch(qn){Ht=qn}(nn=v())&&typeof nn.catch=="function"&&nn.catch(function(){})}}catch(qn){if(qn&&Ht&&typeof qn.stack=="string")return[qn.stack,Ht.stack]}return[null,null]}};N.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var k=Object.getOwnPropertyDescriptor(N.DetermineComponentFrameRoot,"name");k&&k.configurable&&Object.defineProperty(N.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var j=N.DetermineComponentFrameRoot(),ve=j[0],Le=j[1];if(ve&&Le){var it=ve.split(`
`),wt=Le.split(`
`);for(k=N=0;N<it.length&&!it[N].includes("DetermineComponentFrameRoot");)N++;for(;k<wt.length&&!wt[k].includes("DetermineComponentFrameRoot");)k++;if(N===it.length||k===wt.length)for(N=it.length-1,k=wt.length-1;1<=N&&0<=k&&it[N]!==wt[k];)k--;for(;1<=N&&0<=k;N--,k--)if(it[N]!==wt[k]){if(N!==1||k!==1)do if(N--,k--,0>k||it[N]!==wt[k]){var jt=`
`+it[N].replace(" at new "," at ");return v.displayName&&jt.includes("<anonymous>")&&(jt=jt.replace("<anonymous>",v.displayName)),jt}while(1<=N&&0<=k);break}}}finally{Ff=!1,Error.prepareStackTrace=R}return(R=v?v.displayName||v.name:"")?s(R):""}function f(v){switch(v.tag){case 26:case 27:case 5:return s(v.type);case 16:return s("Lazy");case 13:return s("Suspense");case 19:return s("SuspenseList");case 0:case 15:return v=u(v.type,!1),v;case 11:return v=u(v.type.render,!1),v;case 1:return v=u(v.type,!0),v;default:return""}}function m(v){try{var S="";do S+=f(v),v=v.return;while(v);return S}catch(R){return`
Error generating stack: `+R.message+`
`+R.stack}}function b(v){var S=v,R=v;if(v.alternate)for(;S.return;)S=S.return;else{v=S;do S=v,(S.flags&4098)!==0&&(R=S.return),v=S.return;while(v)}return S.tag===3?R:null}function _(v){if(b(v)!==v)throw Error(a(188))}function E(v){var S=v.alternate;if(!S){if(S=b(v),S===null)throw Error(a(188));return S!==v?null:v}for(var R=v,N=S;;){var k=R.return;if(k===null)break;var j=k.alternate;if(j===null){if(N=k.return,N!==null){R=N;continue}break}if(k.child===j.child){for(j=k.child;j;){if(j===R)return _(k),v;if(j===N)return _(k),S;j=j.sibling}throw Error(a(188))}if(R.return!==N.return)R=k,N=j;else{for(var ve=!1,Le=k.child;Le;){if(Le===R){ve=!0,R=k,N=j;break}if(Le===N){ve=!0,N=k,R=j;break}Le=Le.sibling}if(!ve){for(Le=j.child;Le;){if(Le===R){ve=!0,R=j,N=k;break}if(Le===N){ve=!0,N=j,R=k;break}Le=Le.sibling}if(!ve)throw Error(a(189))}}if(R.alternate!==N)throw Error(a(190))}if(R.tag!==3)throw Error(a(188));return R.stateNode.current===R?v:S}function c(v){var S=v.tag;if(S===5||S===26||S===27||S===6)return v;for(v=v.child;v!==null;){if(S=c(v),S!==null)return S;v=v.sibling}return null}function p(v){var S=v.tag;if(S===5||S===26||S===27||S===6)return v;for(v=v.child;v!==null;){if(v.tag!==4&&(S=p(v),S!==null))return S;v=v.sibling}return null}function g(v){return{current:v}}function y(v){0>xu||(v.current=Eg[xu],Eg[xu]=null,xu--)}function C(v,S){xu++,Eg[xu]=v.current,v.current=S}function T(v){return v>>>=0,v===0?32:31-(Sy(v)/PA|0)|0}function M(v){var S=v&42;if(S!==0)return S;switch(v&-v){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return v&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return v&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return v}}function O(v,S){var R=v.pendingLanes;if(R===0)return 0;var N=0,k=v.suspendedLanes,j=v.pingedLanes,ve=v.warmLanes;v=v.finishedLanes!==0;var Le=R&134217727;return Le!==0?(R=Le&~k,R!==0?N=M(R):(j&=Le,j!==0?N=M(j):v||(ve=Le&~ve,ve!==0&&(N=M(ve))))):(Le=R&~k,Le!==0?N=M(Le):j!==0?N=M(j):v||(ve=R&~ve,ve!==0&&(N=M(ve)))),N===0?0:S!==0&&S!==N&&(S&k)===0&&(k=N&-N,ve=S&-S,k>=ve||k===32&&(ve&4194176)!==0)?S:N}function B(v,S){return(v.pendingLanes&~(v.suspendedLanes&~v.pingedLanes)&S)===0}function D(v,S){switch(v){case 1:case 2:case 4:case 8:return S+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return S+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function F(){var v=vp;return vp<<=1,(vp&4194176)===0&&(vp=128),v}function z(){var v=Vf;return Vf<<=1,(Vf&62914560)===0&&(Vf=4194304),v}function U(v){for(var S=[],R=0;31>R;R++)S.push(v);return S}function $(v,S){v.pendingLanes|=S,S!==268435456&&(v.suspendedLanes=0,v.pingedLanes=0,v.warmLanes=0)}function J(v,S,R,N,k,j){var ve=v.pendingLanes;v.pendingLanes=R,v.suspendedLanes=0,v.pingedLanes=0,v.warmLanes=0,v.expiredLanes&=R,v.entangledLanes&=R,v.errorRecoveryDisabledLanes&=R,v.shellSuspendCounter=0;var Le=v.entanglements,it=v.expirationTimes,wt=v.hiddenUpdates;for(R=ve&~R;0<R;){var jt=31-Gr(R),nn=1<<jt;Le[jt]=0,it[jt]=-1;var Ht=wt[jt];if(Ht!==null)for(wt[jt]=null,jt=0;jt<Ht.length;jt++){var qn=Ht[jt];qn!==null&&(qn.lane&=-536870913)}R&=~nn}N!==0&&W(v,N,0),j!==0&&k===0&&v.tag!==0&&(v.suspendedLanes|=j&~(ve&~S))}function W(v,S,R){v.pendingLanes|=S,v.suspendedLanes&=~S;var N=31-Gr(S);v.entangledLanes|=S,v.entanglements[N]=v.entanglements[N]|1073741824|R&4194218}function Q(v,S){var R=v.entangledLanes|=S;for(v=v.entanglements;R;){var N=31-Gr(R),k=1<<N;k&S|v[N]&S&&(v[N]|=S),R&=~k}}function ae(v){return v&=-v,2<v?8<v?(v&134217727)!==0?32:268435456:8:2}function Y(v){if(na&&typeof na.onCommitFiberRoot=="function")try{na.onCommitFiberRoot(Wf,v,void 0,(v.current.flags&128)===128)}catch{}}function K(v){if(typeof $a=="function"&&Ag(v),na&&typeof na.setStrictMode=="function")try{na.setStrictMode(Wf,v)}catch{}}function ee(v,S){return v===S&&(v!==0||1/v===1/S)||v!==v&&S!==S}function de(v,S){if(typeof v=="object"&&v!==null){var R=Mg.get(v);return R!==void 0?R:(S={value:v,source:S,stack:m(S)},Mg.set(v,S),S)}return{value:v,source:S,stack:m(S)}}function q(v,S){Qo[Zo++]=Xf,Qo[Zo++]=Eu,Eu=v,Xf=S}function ie(v,S,R){Ao[Va++]=El,Ao[Va++]=wl,Ao[Va++]=Hs,Hs=v;var N=El;v=wl;var k=32-Gr(N)-1;N&=~(1<<k),R+=1;var j=32-Gr(S)+k;if(30<j){var ve=k-k%5;j=(N&(1<<ve)-1).toString(32),N>>=ve,k-=ve,El=1<<32-Gr(S)+k|R<<k|N,wl=j+v}else El=1<<j|R<<k|N,wl=v}function he(v){v.return!==null&&(q(v,1),ie(v,1,0))}function fe(v){for(;v===Eu;)Eu=Qo[--Zo],Qo[Zo]=null,Xf=Qo[--Zo],Qo[Zo]=null;for(;v===Hs;)Hs=Ao[--Va],Ao[Va]=null,wl=Ao[--Va],Ao[Va]=null,El=Ao[--Va],Ao[Va]=null}function Z(v,S){C(pc,S),C(ms,v),C(kr,null),v=J0(S),y(kr),C(kr,v)}function pe(){y(kr),y(ms),y(pc)}function xe(v){v.memoizedState!==null&&C(bp,v);var S=kr.current,R=c_(S,v.type);S!==R&&(C(ms,v),C(kr,R))}function Oe(v){ms.current===v&&(y(kr),y(ms)),bp.current===v&&(y(bp),zs?dc._currentValue=Cd:dc._currentValue2=Cd)}function Ae(v){var S=Error(a(418,""));throw Ce(de(S,v)),Sp}function Te(v,S){if(!wo)throw Error(a(175));Ad(v.stateNode,v.type,v.memoizedProps,S,v)||Ae(v)}function ze(v){for($r=v.return;$r;)switch($r.tag){case 3:case 27:Gs=!0;return;case 5:case 13:Gs=!1;return;default:$r=$r.return}}function yt(v){if(!wo||v!==$r)return!1;if(!Ri)return ze(v),Ri=!0,!1;var S=!1;if(xa?v.tag!==3&&v.tag!==27&&(v.tag!==5||uy(v.type)&&!Oa(v.type,v.memoizedProps))&&(S=!0):v.tag!==3&&(v.tag!==5||uy(v.type)&&!Oa(v.type,v.memoizedProps))&&(S=!0),S&&Qi&&Ae(v),ze(v),v.tag===13){if(!wo)throw Error(a(316));if(v=v.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(a(317));Qi=G_(v)}else Qi=$r?_u(v.stateNode):null;return!0}function Be(){wo&&(Qi=$r=null,Ri=!1)}function Ce(v){gs===null?gs=[v]:gs.push(v)}function re(){for(var v=mc,S=ks=mc=0;S<v;){var R=Mo[S];Mo[S++]=null;var N=Mo[S];Mo[S++]=null;var k=Mo[S];Mo[S++]=null;var j=Mo[S];if(Mo[S++]=null,N!==null&&k!==null){var ve=N.pending;ve===null?k.next=k:(k.next=ve.next,ve.next=k),N.pending=k}j!==0&&$e(R,k,j)}}function Fe(v,S,R,N){Mo[mc++]=v,Mo[mc++]=S,Mo[mc++]=R,Mo[mc++]=N,ks|=N,v.lanes|=N,v=v.alternate,v!==null&&(v.lanes|=N)}function Ie(v,S,R,N){return Fe(v,S,R,N),ct(v)}function qe(v,S){return Fe(v,null,null,S),ct(v)}function $e(v,S,R){v.lanes|=R;var N=v.alternate;N!==null&&(N.lanes|=R);for(var k=!1,j=v.return;j!==null;)j.childLanes|=R,N=j.alternate,N!==null&&(N.childLanes|=R),j.tag===22&&(v=j.stateNode,v===null||v._visibility&1||(k=!0)),v=j,j=j.return;k&&S!==null&&v.tag===3&&(j=v.stateNode,k=31-Gr(R),j=j.hiddenUpdates,v=j[k],v===null?j[k]=[S]:v.push(S),S.lane=R|536870912)}function ct(v){if(50<Pd)throw Pd=0,wy=null,Error(a(185));for(var S=v.return;S!==null;)v=S,S=v.return;return v.tag===3?v.stateNode:null}function st(v){v!==wu&&v.next===null&&(wu===null?pr=wu=v:wu=wu.next=v),Vr=!0,Tg||(Tg=!0,He(oe))}function ce(v,S){if(!Rg&&Vr){Rg=!0;do for(var R=!1,N=pr;N!==null;){if(v!==0){var k=N.pendingLanes;if(k===0)var j=0;else{var ve=N.suspendedLanes,Le=N.pingedLanes;j=(1<<31-Gr(42|v)+1)-1,j&=k&~(ve&~Le),j=j&201326677?j&201326677|1:j?j|2:0}j!==0&&(R=!0,Ke(N,j))}else j=gi,j=O(N,N===er?j:0),(j&3)===0||B(N,j)||(R=!0,Ke(N,j));N=N.next}while(R);Rg=!1}}function oe(){Vr=Tg=!1;var v=0;Yf!==0&&(h_()&&(v=Yf),Yf=0);for(var S=Jo(),R=null,N=pr;N!==null;){var k=N.next,j=we(N,S);j===0?(N.next=null,R===null?pr=k:R.next=k,k===null&&(wu=R)):(R=N,(v!==0||(j&3)!==0)&&(Vr=!0)),N=k}ce(v)}function we(v,S){for(var R=v.suspendedLanes,N=v.pingedLanes,k=v.expirationTimes,j=v.pendingLanes&-62914561;0<j;){var ve=31-Gr(j),Le=1<<ve,it=k[ve];it===-1?((Le&R)===0||(Le&N)!==0)&&(k[ve]=D(Le,S)):it<=S&&(v.expiredLanes|=Le),j&=~Le}if(S=er,R=gi,R=O(v,v===S?R:0),N=v.callbackNode,R===0||v===S&&Yi===2||v.cancelPendingCommit!==null)return N!==null&&N!==null&&Fs(N),v.callbackNode=null,v.callbackPriority=0;if((R&3)===0||B(v,R)){if(S=R&-R,S===v.callbackPriority)return S;switch(N!==null&&Fs(N),ae(R)){case 2:case 8:R=yp;break;case 32:R=jf;break;case 268435456:R=Td;break;default:R=jf}return N=De.bind(null,v),R=Cl(R,N),v.callbackPriority=S,v.callbackNode=R,S}return N!==null&&N!==null&&Fs(N),v.callbackPriority=2,v.callbackNode=null,2}function De(v,S){var R=v.callbackNode;if(uu()&&v.callbackNode!==R)return null;var N=gi;return N=O(v,v===er?N:0),N===0?null:(Yo(v,N,S),we(v,Jo()),v.callbackNode!=null&&v.callbackNode===R?De.bind(null,v):null)}function Ke(v,S){if(uu())return null;Yo(v,S,!0)}function He(v){v_?y_(function(){(mi&6)!==0?Cl(wg,v):v()}):Cl(wg,v)}function gt(){return Yf===0&&(Yf=F()),Yf}function lt(v,S){if(qf===null){var R=qf=[];Og=0,mr=gt(),Ca={status:"pending",value:void 0,then:function(N){R.push(N)}}}return Og++,S.then(pt,pt),S}function pt(){if(--Og===0&&qf!==null){Ca!==null&&(Ca.status="fulfilled");var v=qf;qf=null,mr=0,Ca=null;for(var S=0;S<v.length;S++)(0,v[S])()}}function It(v,S){var R=[],N={status:"pending",value:null,reason:null,then:function(k){R.push(k)}};return v.then(function(){N.status="fulfilled",N.value=S;for(var k=0;k<R.length;k++)(0,R[k])(S)},function(k){for(N.status="rejected",N.reason=k,k=0;k<R.length;k++)(0,R[k])(void 0)}),N}function ot(v){v.updateQueue={baseState:v.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _t(v,S){v=v.updateQueue,S.updateQueue===v&&(S.updateQueue={baseState:v.baseState,firstBaseUpdate:v.firstBaseUpdate,lastBaseUpdate:v.lastBaseUpdate,shared:v.shared,callbacks:null})}function Ct(v){return{lane:v,tag:0,payload:null,callback:null,next:null}}function We(v,S,R){var N=v.updateQueue;if(N===null)return null;if(N=N.shared,(mi&2)!==0){var k=N.pending;return k===null?S.next=S:(S.next=k.next,k.next=S),N.pending=S,S=ct(v),$e(v,null,R),S}return Fe(v,N,S,R),ct(v)}function rt(v,S,R){if(S=S.updateQueue,S!==null&&(S=S.shared,(R&4194176)!==0)){var N=S.lanes;N&=v.pendingLanes,R|=N,S.lanes=R,Q(v,R)}}function Se(v,S){var R=v.updateQueue,N=v.alternate;if(N!==null&&(N=N.updateQueue,R===N)){var k=null,j=null;if(R=R.firstBaseUpdate,R!==null){do{var ve={lane:R.lane,tag:R.tag,payload:R.payload,callback:null,next:null};j===null?k=j=ve:j=j.next=ve,R=R.next}while(R!==null);j===null?k=j=S:j=j.next=S}else k=j=S;R={baseState:N.baseState,firstBaseUpdate:k,lastBaseUpdate:j,shared:N.shared,callbacks:N.callbacks},v.updateQueue=R;return}v=R.lastBaseUpdate,v===null?R.firstBaseUpdate=S:v.next=S,R.lastBaseUpdate=S}function Ge(){if(Ig){var v=Ca;if(v!==null)throw v}}function St(v,S,R,N){Ig=!1;var k=v.updateQueue;ja=!1;var j=k.firstBaseUpdate,ve=k.lastBaseUpdate,Le=k.shared.pending;if(Le!==null){k.shared.pending=null;var it=Le,wt=it.next;it.next=null,ve===null?j=wt:ve.next=wt,ve=it;var jt=v.alternate;jt!==null&&(jt=jt.updateQueue,Le=jt.lastBaseUpdate,Le!==ve&&(Le===null?jt.firstBaseUpdate=wt:Le.next=wt,jt.lastBaseUpdate=it))}if(j!==null){var nn=k.baseState;ve=0,jt=wt=it=null,Le=j;do{var Ht=Le.lane&-536870913,qn=Ht!==Le.lane;if(qn?(gi&Ht)===Ht:(N&Ht)===Ht){Ht!==0&&Ht===mr&&(Ig=!0),jt!==null&&(jt=jt.next={lane:0,tag:Le.tag,payload:Le.payload,callback:null,next:null});e:{var Es=v,th=Le;Ht=S;var Ld=R;switch(th.tag){case 1:if(Es=th.payload,typeof Es=="function"){nn=Es.call(Ld,nn,Ht);break e}nn=Es;break e;case 3:Es.flags=Es.flags&-65537|128;case 0:if(Es=th.payload,Ht=typeof Es=="function"?Es.call(Ld,nn,Ht):Es,Ht==null)break e;nn=Fr({},nn,Ht);break e;case 2:ja=!0}}Ht=Le.callback,Ht!==null&&(v.flags|=64,qn&&(v.flags|=8192),qn=k.callbacks,qn===null?k.callbacks=[Ht]:qn.push(Ht))}else qn={lane:Ht,tag:Le.tag,payload:Le.payload,callback:Le.callback,next:null},jt===null?(wt=jt=qn,it=nn):jt=jt.next=qn,ve|=Ht;if(Le=Le.next,Le===null){if(Le=k.shared.pending,Le===null)break;qn=Le,Le=qn.next,qn.next=null,k.lastBaseUpdate=qn,k.shared.pending=null}}while(!0);jt===null&&(it=nn),k.baseState=it,k.firstBaseUpdate=wt,k.lastBaseUpdate=jt,j===null&&(k.shared.lanes=0),xs|=ve,v.lanes=ve,v.memoizedState=nn}}function Me(v,S){if(typeof v!="function")throw Error(a(191,v));v.call(S)}function xt(v,S){var R=v.callbacks;if(R!==null)for(v.callbacks=null,v=0;v<R.length;v++)Me(R[v],S)}function et(v,S){if(oo(v,S))return!0;if(typeof v!="object"||v===null||typeof S!="object"||S===null)return!1;var R=Object.keys(v),N=Object.keys(S);if(R.length!==N.length)return!1;for(N=0;N<R.length;N++){var k=R[N];if(!q_.call(S,k)||!oo(v[k],S[k]))return!1}return!0}function mt(v){return v=v.status,v==="fulfilled"||v==="rejected"}function Nt(){}function Bt(v,S,R){switch(R=v[R],R===void 0?v.push(S):R!==S&&(S.then(Nt,Nt),S=R),S.status){case"fulfilled":return S.value;case"rejected":throw v=S.reason,v===_p?Error(a(483)):v;default:if(typeof S.status=="string")S.then(Nt,Nt);else{if(v=er,v!==null&&100<v.shellSuspendCounter)throw Error(a(482));v=S,v.status="pending",v.then(function(N){if(S.status==="pending"){var k=S;k.status="fulfilled",k.value=N}},function(N){if(S.status==="pending"){var k=S;k.status="rejected",k.reason=N}})}switch(S.status){case"fulfilled":return S.value;case"rejected":throw v=S.reason,v===_p?Error(a(483)):v}throw Wa=S,_p}}function Qt(){if(Wa===null)throw Error(a(459));var v=Wa;return Wa=null,v}function sn(v){var S=Xa;return Xa+=1,Rd===null&&(Rd=[]),Bt(Rd,v,S)}function qt(v,S){S=S.props.ref,v.ref=S!==void 0?S:null}function Lt(v,S){throw S.$$typeof===q0?Error(a(525)):(v=Object.prototype.toString.call(S),Error(a(31,v==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":v)))}function Yt(v){var S=v._init;return S(v._payload)}function yn(v){function S(dt,tt){if(v){var ht=dt.deletions;ht===null?(dt.deletions=[tt],dt.flags|=16):ht.push(tt)}}function R(dt,tt){if(!v)return null;for(;tt!==null;)S(dt,tt),tt=tt.sibling;return null}function N(dt){for(var tt=new Map;dt!==null;)dt.key!==null?tt.set(dt.key,dt):tt.set(dt.index,dt),dt=dt.sibling;return tt}function k(dt,tt){return dt=ac(dt,tt),dt.index=0,dt.sibling=null,dt}function j(dt,tt,ht){return dt.index=ht,v?(ht=dt.alternate,ht!==null?(ht=ht.index,ht<tt?(dt.flags|=33554434,tt):ht):(dt.flags|=33554434,tt)):(dt.flags|=1048576,tt)}function ve(dt){return v&&dt.alternate===null&&(dt.flags|=33554434),dt}function Le(dt,tt,ht,Ft){return tt===null||tt.tag!==6?(tt=fp(ht,dt.mode,Ft),tt.return=dt,tt):(tt=k(tt,ht),tt.return=dt,tt)}function it(dt,tt,ht,Ft){var _n=ht.type;return _n===pu?jt(dt,tt,ht.props.children,Ft,ht.key):tt!==null&&(tt.elementType===_n||typeof _n=="object"&&_n!==null&&_n.$$typeof===cc&&Yt(_n)===tt.type)?(tt=k(tt,ht.props),qt(tt,ht),tt.return=dt,tt):(tt=Sd(ht.type,ht.key,ht.props,null,dt.mode,Ft),qt(tt,ht),tt.return=dt,tt)}function wt(dt,tt,ht,Ft){return tt===null||tt.tag!==4||tt.stateNode.containerInfo!==ht.containerInfo||tt.stateNode.implementation!==ht.implementation?(tt=Eo(ht,dt.mode,Ft),tt.return=dt,tt):(tt=k(tt,ht.children||[]),tt.return=dt,tt)}function jt(dt,tt,ht,Ft,_n){return tt===null||tt.tag!==7?(tt=fu(ht,dt.mode,Ft,_n),tt.return=dt,tt):(tt=k(tt,ht),tt.return=dt,tt)}function nn(dt,tt,ht){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return tt=fp(""+tt,dt.mode,ht),tt.return=dt,tt;if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case hu:return ht=Sd(tt.type,tt.key,tt.props,null,dt.mode,ht),qt(ht,tt),ht.return=dt,ht;case Sl:return tt=Eo(tt,dt.mode,ht),tt.return=dt,tt;case cc:var Ft=tt._init;return tt=Ft(tt._payload),nn(dt,tt,ht)}if(bu(tt)||o(tt))return tt=fu(tt,dt.mode,ht,null),tt.return=dt,tt;if(typeof tt.then=="function")return nn(dt,sn(tt),ht);if(tt.$$typeof===gu)return nn(dt,pd(dt,tt),ht);Lt(dt,tt)}return null}function Ht(dt,tt,ht,Ft){var _n=tt!==null?tt.key:null;if(typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint")return _n!==null?null:Le(dt,tt,""+ht,Ft);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case hu:return ht.key===_n?it(dt,tt,ht,Ft):null;case Sl:return ht.key===_n?wt(dt,tt,ht,Ft):null;case cc:return _n=ht._init,ht=_n(ht._payload),Ht(dt,tt,ht,Ft)}if(bu(ht)||o(ht))return _n!==null?null:jt(dt,tt,ht,Ft,null);if(typeof ht.then=="function")return Ht(dt,tt,sn(ht),Ft);if(ht.$$typeof===gu)return Ht(dt,tt,pd(dt,ht),Ft);Lt(dt,ht)}return null}function qn(dt,tt,ht,Ft,_n){if(typeof Ft=="string"&&Ft!==""||typeof Ft=="number"||typeof Ft=="bigint")return dt=dt.get(ht)||null,Le(tt,dt,""+Ft,_n);if(typeof Ft=="object"&&Ft!==null){switch(Ft.$$typeof){case hu:return dt=dt.get(Ft.key===null?ht:Ft.key)||null,it(tt,dt,Ft,_n);case Sl:return dt=dt.get(Ft.key===null?ht:Ft.key)||null,wt(tt,dt,Ft,_n);case cc:var tr=Ft._init;return Ft=tr(Ft._payload),qn(dt,tt,ht,Ft,_n)}if(bu(Ft)||o(Ft))return dt=dt.get(ht)||null,jt(tt,dt,Ft,_n,null);if(typeof Ft.then=="function")return qn(dt,tt,ht,sn(Ft),_n);if(Ft.$$typeof===gu)return qn(dt,tt,ht,pd(tt,Ft),_n);Lt(tt,Ft)}return null}function Es(dt,tt,ht,Ft){for(var _n=null,tr=null,Nn=tt,hi=tt=0,or=null;Nn!==null&&hi<ht.length;hi++){Nn.index>hi?(or=Nn,Nn=null):or=Nn.sibling;var vi=Ht(dt,Nn,ht[hi],Ft);if(vi===null){Nn===null&&(Nn=or);break}v&&Nn&&vi.alternate===null&&S(dt,Nn),tt=j(vi,tt,hi),tr===null?_n=vi:tr.sibling=vi,tr=vi,Nn=or}if(hi===ht.length)return R(dt,Nn),Ri&&q(dt,hi),_n;if(Nn===null){for(;hi<ht.length;hi++)Nn=nn(dt,ht[hi],Ft),Nn!==null&&(tt=j(Nn,tt,hi),tr===null?_n=Nn:tr.sibling=Nn,tr=Nn);return Ri&&q(dt,hi),_n}for(Nn=N(Nn);hi<ht.length;hi++)or=qn(Nn,dt,hi,ht[hi],Ft),or!==null&&(v&&or.alternate!==null&&Nn.delete(or.key===null?hi:or.key),tt=j(or,tt,hi),tr===null?_n=or:tr.sibling=or,tr=or);return v&&Nn.forEach(function(Pu){return S(dt,Pu)}),Ri&&q(dt,hi),_n}function th(dt,tt,ht,Ft){if(ht==null)throw Error(a(151));for(var _n=null,tr=null,Nn=tt,hi=tt=0,or=null,vi=ht.next();Nn!==null&&!vi.done;hi++,vi=ht.next()){Nn.index>hi?(or=Nn,Nn=null):or=Nn.sibling;var Pu=Ht(dt,Nn,vi.value,Ft);if(Pu===null){Nn===null&&(Nn=or);break}v&&Nn&&Pu.alternate===null&&S(dt,Nn),tt=j(Pu,tt,hi),tr===null?_n=Pu:tr.sibling=Pu,tr=Pu,Nn=or}if(vi.done)return R(dt,Nn),Ri&&q(dt,hi),_n;if(Nn===null){for(;!vi.done;hi++,vi=ht.next())vi=nn(dt,vi.value,Ft),vi!==null&&(tt=j(vi,tt,hi),tr===null?_n=vi:tr.sibling=vi,tr=vi);return Ri&&q(dt,hi),_n}for(Nn=N(Nn);!vi.done;hi++,vi=ht.next())vi=qn(Nn,dt,hi,vi.value,Ft),vi!==null&&(v&&vi.alternate!==null&&Nn.delete(vi.key===null?hi:vi.key),tt=j(vi,tt,hi),tr===null?_n=vi:tr.sibling=vi,tr=vi);return v&&Nn.forEach(function(J_){return S(dt,J_)}),Ri&&q(dt,hi),_n}function Ld(dt,tt,ht,Ft){if(typeof ht=="object"&&ht!==null&&ht.type===pu&&ht.key===null&&(ht=ht.props.children),typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case hu:e:{for(var _n=ht.key;tt!==null;){if(tt.key===_n){if(_n=ht.type,_n===pu){if(tt.tag===7){R(dt,tt.sibling),Ft=k(tt,ht.props.children),Ft.return=dt,dt=Ft;break e}}else if(tt.elementType===_n||typeof _n=="object"&&_n!==null&&_n.$$typeof===cc&&Yt(_n)===tt.type){R(dt,tt.sibling),Ft=k(tt,ht.props),qt(Ft,ht),Ft.return=dt,dt=Ft;break e}R(dt,tt);break}else S(dt,tt);tt=tt.sibling}ht.type===pu?(Ft=fu(ht.props.children,dt.mode,Ft,ht.key),Ft.return=dt,dt=Ft):(Ft=Sd(ht.type,ht.key,ht.props,null,dt.mode,Ft),qt(Ft,ht),Ft.return=dt,dt=Ft)}return ve(dt);case Sl:e:{for(_n=ht.key;tt!==null;){if(tt.key===_n)if(tt.tag===4&&tt.stateNode.containerInfo===ht.containerInfo&&tt.stateNode.implementation===ht.implementation){R(dt,tt.sibling),Ft=k(tt,ht.children||[]),Ft.return=dt,dt=Ft;break e}else{R(dt,tt);break}else S(dt,tt);tt=tt.sibling}Ft=Eo(ht,dt.mode,Ft),Ft.return=dt,dt=Ft}return ve(dt);case cc:return _n=ht._init,ht=_n(ht._payload),Ld(dt,tt,ht,Ft)}if(bu(ht))return Es(dt,tt,ht,Ft);if(o(ht)){if(_n=o(ht),typeof _n!="function")throw Error(a(150));return ht=_n.call(ht),th(dt,tt,ht,Ft)}if(typeof ht.then=="function")return Ld(dt,tt,sn(ht),Ft);if(ht.$$typeof===gu)return Ld(dt,tt,pd(dt,ht),Ft);Lt(dt,ht)}return typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint"?(ht=""+ht,tt!==null&&tt.tag===6?(R(dt,tt.sibling),Ft=k(tt,ht),Ft.return=dt,dt=Ft):(R(dt,tt),Ft=fp(ht,dt.mode,Ft),Ft.return=dt,dt=Ft),ve(dt)):R(dt,tt)}return function(dt,tt,ht,Ft){try{Xa=0;var _n=Ld(dt,tt,ht,Ft);return Rd=null,_n}catch(Nn){if(Nn===_p)throw Nn;var tr=t(29,Nn,null,dt.mode);return tr.lanes=Ft,tr.return=dt,tr}finally{}}}function lr(v,S){v=Ws,C(Vs,v),C($s,S),Ws=v|S.baseLanes}function Qr(){C(Vs,Ws),C($s,$s.current)}function zn(){Ws=Vs.current,y($s),y(Vs)}function Ai(v){var S=v.alternate;C(dr,dr.current&1),C(To,v),vs===null&&(S===null||$s.current!==null||S.memoizedState!==null)&&(vs=v)}function Sr(v){if(v.tag===22){if(C(dr,dr.current),C(To,v),vs===null){var S=v.alternate;S!==null&&S.memoizedState!==null&&(vs=v)}}else wn()}function wn(){C(dr,dr.current),C(To,To.current)}function Mn(v){y(To),vs===v&&(vs=null),y(dr)}function Qn(v){for(var S=v;S!==null;){if(S.tag===13){var R=S.memoizedState;if(R!==null&&(R=R.dehydrated,R===null||Ed(R)||gp(R)))return S}else if(S.tag===19&&S.memoizedProps.revealOrder!==void 0){if((S.flags&128)!==0)return S}else if(S.child!==null){S.child.return=S,S=S.child;continue}if(S===v)break;for(;S.sibling===null;){if(S.return===null||S.return===v)return null;S=S.return}S.sibling.return=S.return,S=S.sibling}return null}function un(){throw Error(a(321))}function ii(v,S){if(S===null)return!1;for(var R=0;R<S.length&&R<v.length;R++)if(!oo(v[R],S[R]))return!1;return!0}function ln(v,S,R,N,k,j){return gc=j,Xn=S,S.memoizedState=null,S.updateQueue=null,S.lanes=0,Un.H=v===null||v.memoizedState===null?bc:lo,Mu=!1,j=R(N,k),Mu=!1,Od&&(j=Ur(S,R,N,k)),zr(v),j}function zr(v){Un.H=jr;var S=zi!==null&&zi.next!==null;if(gc=0,Er=zi=Xn=null,vc=!1,Kf=0,yc=null,S)throw Error(a(300));v===null||ia||(v=v.dependencies,v!==null&&hd(v)&&(ia=!0))}function Ur(v,S,R,N){Xn=v;var k=0;do{if(Od&&(yc=null),Kf=0,Od=!1,25<=k)throw Error(a(301));if(k+=1,Er=zi=null,v.updateQueue!=null){var j=v.updateQueue;j.lastEffect=null,j.events=null,j.stores=null,j.memoCache!=null&&(j.memoCache.index=0)}Un.H=Ru,j=S(R,N)}while(Od);return j}function Rr(){var v=Un.H,S=v.useState()[0];return S=typeof S.then=="function"?at(S):S,v=v.useState()[0],(zi!==null?zi.memoizedState:null)!==v&&(Xn.flags|=1024),S}function Or(){var v=Tu!==0;return Tu=0,v}function cr(v,S,R){S.updateQueue=v.updateQueue,S.flags&=-2053,v.lanes&=~R}function _r(v){if(vc){for(v=v.memoizedState;v!==null;){var S=v.queue;S!==null&&(S.pending=null),v=v.next}vc=!1}gc=0,Er=zi=Xn=null,Od=!1,Kf=Tu=0,yc=null}function le(){var v={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Er===null?Xn.memoizedState=Er=v:Er=Er.next=v,Er}function Ue(){if(zi===null){var v=Xn.alternate;v=v!==null?v.memoizedState:null}else v=zi.next;var S=Er===null?Xn.memoizedState:Er.next;if(S!==null)Er=S,zi=v;else{if(v===null)throw Xn.alternate===null?Error(a(467)):Error(a(310));zi=v,v={memoizedState:zi.memoizedState,baseState:zi.baseState,baseQueue:zi.baseQueue,queue:zi.queue,next:null},Er===null?Xn.memoizedState=Er=v:Er=Er.next=v}return Er}function at(v){var S=Kf;return Kf+=1,yc===null&&(yc=[]),v=Bt(yc,v,S),S=Xn,(Er===null?S.memoizedState:Er.next)===null&&(S=S.alternate,Un.H=S===null||S.memoizedState===null?bc:lo),v}function Ze(v){if(v!==null&&typeof v=="object"){if(typeof v.then=="function")return at(v);if(v.$$typeof===gu)return la(v)}throw Error(a(438,String(v)))}function Ve(v){var S=null,R=Xn.updateQueue;if(R!==null&&(S=R.memoCache),S==null){var N=Xn.alternate;N!==null&&(N=N.updateQueue,N!==null&&(N=N.memoCache,N!=null&&(S={data:N.data.map(function(k){return k.slice()}),index:0})))}if(S==null&&(S={data:[],index:0}),R===null&&(R=_y(),Xn.updateQueue=R),R.memoCache=S,R=S.data[S.index],R===void 0)for(R=S.data[S.index]=Array(v),N=0;N<v;N++)R[N]=si;return S.index++,R}function Rt(v,S){return typeof S=="function"?S(v):S}function Vt(v){var S=Ue();return Kt(S,zi,v)}function Kt(v,S,R){var N=v.queue;if(N===null)throw Error(a(311));N.lastRenderedReducer=R;var k=v.baseQueue,j=N.pending;if(j!==null){if(k!==null){var ve=k.next;k.next=j.next,j.next=ve}S.baseQueue=k=j,N.pending=null}if(j=v.baseState,k===null)v.memoizedState=j;else{S=k.next;var Le=ve=null,it=null,wt=S,jt=!1;do{var nn=wt.lane&-536870913;if(nn!==wt.lane?(gi&nn)===nn:(gc&nn)===nn){var Ht=wt.revertLane;if(Ht===0)it!==null&&(it=it.next={lane:0,revertLane:0,action:wt.action,hasEagerState:wt.hasEagerState,eagerState:wt.eagerState,next:null}),nn===mr&&(jt=!0);else if((gc&Ht)===Ht){wt=wt.next,Ht===mr&&(jt=!0);continue}else nn={lane:0,revertLane:wt.revertLane,action:wt.action,hasEagerState:wt.hasEagerState,eagerState:wt.eagerState,next:null},it===null?(Le=it=nn,ve=j):it=it.next=nn,Xn.lanes|=Ht,xs|=Ht;nn=wt.action,Mu&&R(j,nn),j=wt.hasEagerState?wt.eagerState:R(j,nn)}else Ht={lane:nn,revertLane:wt.revertLane,action:wt.action,hasEagerState:wt.hasEagerState,eagerState:wt.eagerState,next:null},it===null?(Le=it=Ht,ve=j):it=it.next=Ht,Xn.lanes|=nn,xs|=nn;wt=wt.next}while(wt!==null&&wt!==S);if(it===null?ve=j:it.next=Le,!oo(j,v.memoizedState)&&(ia=!0,jt&&(R=Ca,R!==null)))throw R;v.memoizedState=j,v.baseState=ve,v.baseQueue=it,N.lastRenderedState=j}return k===null&&(N.lanes=0),[v.memoizedState,N.dispatch]}function Wt(v){var S=Ue(),R=S.queue;if(R===null)throw Error(a(311));R.lastRenderedReducer=v;var N=R.dispatch,k=R.pending,j=S.memoizedState;if(k!==null){R.pending=null;var ve=k=k.next;do j=v(j,ve.action),ve=ve.next;while(ve!==k);oo(j,S.memoizedState)||(ia=!0),S.memoizedState=j,S.baseQueue===null&&(S.baseState=j),R.lastRenderedState=j}return[j,N]}function gn(v,S,R){var N=Xn,k=Ue(),j=Ri;if(j){if(R===void 0)throw Error(a(407));R=R()}else R=S();var ve=!oo((zi||k).memoizedState,R);if(ve&&(k.memoizedState=R,ia=!0),k=k.queue,Bs(Gn.bind(null,N,k,v),[v]),k.getSnapshot!==S||ve||Er!==null&&Er.memoizedState.tag&1){if(N.flags|=2048,Ir(9,on.bind(null,N,k,R,S),{destroy:void 0},null),er===null)throw Error(a(349));j||(gc&60)!==0||dn(N,S,R)}return R}function dn(v,S,R){v.flags|=16384,v={getSnapshot:S,value:R},S=Xn.updateQueue,S===null?(S=_y(),Xn.updateQueue=S,S.stores=[v]):(R=S.stores,R===null?S.stores=[v]:R.push(v))}function on(v,S,R,N){S.value=R,S.getSnapshot=N,Vn(S)&&jn(v)}function Gn(v,S,R){return R(function(){Vn(S)&&jn(v)})}function Vn(v){var S=v.getSnapshot;v=v.value;try{var R=S();return!oo(v,R)}catch{return!0}}function jn(v){var S=qe(v,2);S!==null&&ur(S,v,2)}function In(v){var S=le();if(typeof v=="function"){var R=v;if(v=R(),Mu){K(!0);try{R()}finally{K(!1)}}}return S.memoizedState=S.baseState=v,S.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rt,lastRenderedState:v},S}function bn(v,S,R,N){return v.baseState=R,Kt(v,zi,typeof N=="function"?N:Rt)}function cn(v,S,R,N,k){if(Wl(v))throw Error(a(485));if(v=S.action,v!==null){var j={payload:k,action:v,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ve){j.listeners.push(ve)}};Un.T!==null?R(!0):j.isTransition=!1,N(j),R=S.pending,R===null?(j.next=S.pending=j,Si(S,j)):(j.next=R.next,S.pending=R.next=j)}}function Si(v,S){var R=S.action,N=S.payload,k=v.state;if(S.isTransition){var j=Un.T,ve={};Un.T=ve;try{var Le=R(k,N),it=Un.S;it!==null&&it(ve,Le),Wn(v,S,Le)}catch(wt){Tn(v,S,wt)}finally{Un.T=j}}else try{j=R(k,N),Wn(v,S,j)}catch(wt){Tn(v,S,wt)}}function Wn(v,S,R){R!==null&&typeof R=="object"&&typeof R.then=="function"?R.then(function(N){$n(v,S,N)},function(N){return Tn(v,S,N)}):$n(v,S,R)}function $n(v,S,R){S.status="fulfilled",S.value=R,Cn(S),v.state=R,S=v.pending,S!==null&&(R=S.next,R===S?v.pending=null:(R=R.next,S.next=R,Si(v,R)))}function Tn(v,S,R){var N=v.pending;if(v.pending=null,N!==null){N=N.next;do S.status="rejected",S.reason=R,Cn(S),S=S.next;while(S!==N)}v.action=null}function Cn(v){v=v.listeners;for(var S=0;S<v.length;S++)(0,v[S])()}function Zn(v,S){return S}function An(v,S){if(Ri){var R=er.formState;if(R!==null){e:{var N=Xn;if(Ri){if(Qi){var k=z_(Qi,Gs);if(k){Qi=_u(k),N=xl(k);break e}}Ae(N)}N=!1}N&&(S=R[0])}}R=le(),R.memoizedState=R.baseState=S,N={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zn,lastRenderedState:S},R.queue=N,R=Vo.bind(null,Xn,N),N.dispatch=R,N=In(!1);var j=jo.bind(null,Xn,!1,N.queue);return N=le(),k={state:S,dispatch:null,action:v,pending:null},N.queue=k,R=cn.bind(null,Xn,k,j,R),k.dispatch=R,N.memoizedState=v,[S,R,!1]}function xi(v){var S=Ue();return Li(S,zi,v)}function Li(v,S,R){S=Kt(v,S,Zn)[0],v=Vt(Rt)[0],S=typeof S=="object"&&S!==null&&typeof S.then=="function"?at(S):S;var N=Ue(),k=N.queue,j=k.dispatch;return R!==N.memoizedState&&(Xn.flags|=2048,Ir(9,$i.bind(null,k,R),{destroy:void 0},null)),[S,j,v]}function $i(v,S){v.action=S}function Ki(v){var S=Ue(),R=zi;if(R!==null)return Li(S,R,v);Ue(),S=S.memoizedState,R=Ue();var N=R.queue.dispatch;return R.memoizedState=v,[S,N,!1]}function Ir(v,S,R,N){return v={tag:v,create:S,inst:R,deps:N,next:null},S=Xn.updateQueue,S===null&&(S=_y(),Xn.updateQueue=S),R=S.lastEffect,R===null?S.lastEffect=v.next=v:(N=R.next,R.next=v,v.next=N,S.lastEffect=v),v}function Wi(){return Ue().memoizedState}function bo(v,S,R,N){var k=le();Xn.flags|=v,k.memoizedState=Ir(1|S,R,{destroy:void 0},N===void 0?null:N)}function no(v,S,R,N){var k=Ue();N=N===void 0?null:N;var j=k.memoizedState.inst;zi!==null&&N!==null&&ii(N,zi.memoizedState.deps)?k.memoizedState=Ir(S,R,j,N):(Xn.flags|=v,k.memoizedState=Ir(1|S,R,j,N))}function Ma(v,S){bo(8390656,8,v,S)}function Bs(v,S){no(2048,8,v,S)}function cd(v,S){return no(4,2,v,S)}function Jc(v,S){return no(4,4,v,S)}function xr(v,S){if(typeof S=="function"){v=v();var R=S(v);return function(){typeof R=="function"?R():S(null)}}if(S!=null)return v=v(),S.current=v,function(){S.current=null}}function $o(v,S,R){R=R!=null?R.concat([v]):null,no(4,4,xr.bind(null,S,v),R)}function Ua(){}function va(v,S){var R=Ue();S=S===void 0?null:S;var N=R.memoizedState;return S!==null&&ii(S,N[1])?N[0]:(R.memoizedState=[v,S],v)}function Ta(v,S){var R=Ue();S=S===void 0?null:S;var N=R.memoizedState;if(S!==null&&ii(S,N[1]))return N[0];if(N=v(),Mu){K(!0);try{v()}finally{K(!1)}}return R.memoizedState=[N,S],N}function Ds(v,S,R){return R===void 0||(gc&1073741824)!==0?v.memoizedState=S:(v.memoizedState=R,v=ap(),Xn.lanes|=v,xs|=v,R)}function So(v,S,R,N){return oo(R,S)?R:$s.current!==null?(v=Ds(v,R,N),oo(v,S)||(ia=!0),v):(gc&42)===0?(ia=!0,v.memoizedState=R):(v=ap(),Xn.lanes|=v,xs|=v,S)}function jl(v,S,R,N,k){var j=Su();ao(j!==0&&8>j?j:8);var ve=Un.T,Le={};Un.T=Le,jo(v,!1,S,R);try{var it=k(),wt=Un.S;if(wt!==null&&wt(Le,it),it!==null&&typeof it=="object"&&typeof it.then=="function"){var jt=It(it,N);Fa(v,S,jt,Ga(v))}else Fa(v,S,N,Ga(v))}catch(nn){Fa(v,S,{then:function(){},status:"rejected",reason:nn},Ga())}finally{ao(j),Un.T=ve}}function tn(v){var S=v.memoizedState;if(S!==null)return S;S={memoizedState:Cd,baseState:Cd,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rt,lastRenderedState:Cd},next:null};var R={};return S.next={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rt,lastRenderedState:R},next:null},v.memoizedState=S,v=v.alternate,v!==null&&(v.memoizedState=S),S}function Sn(){return la(dc)}function Mi(){return Ue().memoizedState}function Ci(){return Ue().memoizedState}function Hi(v){for(var S=v.return;S!==null;){switch(S.tag){case 24:case 3:var R=Ga();v=Ct(R);var N=We(S,v,R);N!==null&&(ur(N,S,R),rt(N,S,R)),S={cache:_o()},v.payload=S;return}S=S.return}}function Ps(v,S,R){var N=Ga();R={lane:N,revertLane:0,action:R,hasEagerState:!1,eagerState:null,next:null},Wl(v)?ya(S,R):(R=Ie(v,S,R,N),R!==null&&(ur(R,v,N),cl(R,S,N)))}function Vo(v,S,R){var N=Ga();Fa(v,S,R,N)}function Fa(v,S,R,N){var k={lane:N,revertLane:0,action:R,hasEagerState:!1,eagerState:null,next:null};if(Wl(v))ya(S,k);else{var j=v.alternate;if(v.lanes===0&&(j===null||j.lanes===0)&&(j=S.lastRenderedReducer,j!==null))try{var ve=S.lastRenderedState,Le=j(ve,R);if(k.hasEagerState=!0,k.eagerState=Le,oo(Le,ve))return Fe(v,S,k,0),er===null&&re(),!1}catch{}finally{}if(R=Ie(v,S,k,N),R!==null)return ur(R,v,N),cl(R,S,N),!0}return!1}function jo(v,S,R,N){if(N={lane:2,revertLane:gt(),action:N,hasEagerState:!1,eagerState:null,next:null},Wl(v)){if(S)throw Error(a(479))}else S=Ie(v,R,N,2),S!==null&&ur(S,v,2)}function Wl(v){var S=v.alternate;return v===Xn||S!==null&&S===Xn}function ya(v,S){Od=vc=!0;var R=v.pending;R===null?S.next=S:(S.next=R.next,R.next=S),v.pending=S}function cl(v,S,R){if((R&4194176)!==0){var N=S.lanes;N&=v.pendingLanes,R|=N,S.lanes=R,Q(v,R)}}function ul(v,S,R,N){S=v.memoizedState,R=R(N,S),R=R==null?S:Fr({},S,R),v.memoizedState=R,v.lanes===0&&(v.updateQueue.baseState=R)}function Xl(v,S,R,N,k,j,ve){return v=v.stateNode,typeof v.shouldComponentUpdate=="function"?v.shouldComponentUpdate(N,j,ve):S.prototype&&S.prototype.isPureReactComponent?!et(R,N)||!et(k,j):!0}function qh(v,S,R,N){v=S.state,typeof S.componentWillReceiveProps=="function"&&S.componentWillReceiveProps(R,N),typeof S.UNSAFE_componentWillReceiveProps=="function"&&S.UNSAFE_componentWillReceiveProps(R,N),S.state!==v&&Jf.enqueueReplaceState(S,S.state,null)}function Wo(v,S){var R=S;if("ref"in S){R={};for(var N in S)N!=="ref"&&(R[N]=S[N])}if(v=v.defaultProps){R===S&&(R=Fr({},R));for(var k in v)R[k]===void 0&&(R[k]=v[k])}return R}function Qc(v,S){try{var R=v.onUncaughtError;R(S.value,{componentStack:S.stack})}catch(N){setTimeout(function(){throw N})}}function Zc(v,S,R){try{var N=v.onCaughtError;N(R.value,{componentStack:R.stack,errorBoundary:S.tag===1?S.stateNode:null})}catch(k){setTimeout(function(){throw k})}}function io(v,S,R){return R=Ct(R),R.tag=3,R.payload={element:null},R.callback=function(){Qc(v,S)},R}function Kh(v){return v=Ct(v),v.tag=3,v}function Km(v,S,R,N){var k=R.type.getDerivedStateFromError;if(typeof k=="function"){var j=N.value;v.payload=function(){return k(j)},v.callback=function(){Zc(S,R,N)}}var ve=R.stateNode;ve!==null&&typeof ve.componentDidCatch=="function"&&(v.callback=function(){Zc(S,R,N),typeof k!="function"&&(Rl===null?Rl=new Set([this]):Rl.add(this));var Le=N.stack;this.componentDidCatch(N.value,{componentStack:Le!==null?Le:""})})}function V0(v,S,R,N,k){if(R.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){if(S=R.alternate,S!==null&&pl(S,R,k,!0),R=To.current,R!==null){switch(R.tag){case 13:return vs===null?ps():R.alternate===null&&wr===0&&(wr=3),R.flags&=-257,R.flags|=65536,R.lanes=k,N===so?R.flags|=16384:(S=R.updateQueue,S===null?R.updateQueue=new Set([N]):S.add(N),du(v,N,k)),!1;case 22:return R.flags|=65536,N===so?R.flags|=16384:(S=R.updateQueue,S===null?(S={transitions:null,markerInstances:null,retryQueue:new Set([N])},R.updateQueue=S):(R=S.retryQueue,R===null?S.retryQueue=new Set([N]):R.add(N)),du(v,N,k)),!1}throw Error(a(435,R.tag))}return du(v,N,k),ps(),!1}if(Ri)return S=To.current,S!==null?((S.flags&65536)===0&&(S.flags|=256),S.flags|=65536,S.lanes=k,N!==Sp&&(v=Error(a(422),{cause:N}),Ce(de(v,R)))):(N!==Sp&&(S=Error(a(423),{cause:N}),Ce(de(S,R))),v=v.current.alternate,v.flags|=65536,k&=-k,v.lanes|=k,N=de(N,R),k=io(v.stateNode,N,k),Se(v,k),wr!==4&&(wr=2)),!1;var j=Error(a(520),{cause:N});if(j=de(j,R),Zf===null?Zf=[j]:Zf.push(j),wr!==4&&(wr=2),S===null)return!0;N=de(N,R),R=S;do{switch(R.tag){case 3:return R.flags|=65536,v=k&-k,R.lanes|=v,v=io(R.stateNode,N,v),Se(R,v),!1;case 1:if(S=R.type,j=R.stateNode,(R.flags&128)===0&&(typeof S.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Rl===null||!Rl.has(j))))return R.flags|=65536,k&=-k,R.lanes|=k,k=Kh(k),Km(k,v,R,N),Se(R,k),!1}R=R.return}while(R!==null);return!1}function Zr(v,S,R,N){S.child=v===null?Al(S,null,R,N):Au(S,v.child,R,N)}function ud(v,S,R,N,k){R=R.render;var j=S.ref;if("ref"in N){var ve={};for(var Le in N)Le!=="ref"&&(ve[Le]=N[Le])}else ve=N;return ds(S),N=ln(v,S,R,ve,j,k),Le=Or(),v!==null&&!ia?(cr(v,S,k),Ls(v,S,k)):(Ri&&Le&&he(S),S.flags|=1,Zr(v,S,N,k),S.child)}function ba(v,S,R,N,k){if(v===null){var j=R.type;return typeof j=="function"&&!rc(j)&&j.defaultProps===void 0&&R.compare===null?(S.tag=15,S.type=j,Jm(v,S,j,N,k)):(v=Sd(R.type,null,N,S,S.mode,k),v.ref=S.ref,v.return=S,S.child=v)}if(j=v.child,!Zh(v,k)){var ve=j.memoizedProps;if(R=R.compare,R=R!==null?R:et,R(ve,N)&&v.ref===S.ref)return Ls(v,S,k)}return S.flags|=1,v=ac(j,N),v.ref=S.ref,v.return=S,S.child=v}function Jm(v,S,R,N,k){if(v!==null){var j=v.memoizedProps;if(et(j,N)&&v.ref===S.ref)if(ia=!1,S.pendingProps=N=j,Zh(v,k))(v.flags&131072)!==0&&(ia=!0);else return S.lanes=v.lanes,Ls(v,S,k)}return wf(v,S,R,N,k)}function Qm(v,S,R){var N=S.pendingProps,k=N.children,j=(S.stateNode._pendingVisibility&2)!==0,ve=v!==null?v.memoizedState:null;if(dd(v,S),N.mode==="hidden"||j){if((S.flags&128)!==0){if(N=ve!==null?ve.baseLanes|R:R,v!==null){for(k=S.child=v.child,j=0;k!==null;)j=j|k.lanes|k.childLanes,k=k.sibling;S.childLanes=j&~N}else S.childLanes=0,S.child=null;return Zm(v,S,N,R)}if((R&536870912)!==0)S.memoizedState={baseLanes:0,cachePool:null},v!==null&&nu(S,ve!==null?ve.cachePool:null),ve!==null?lr(S,ve):Qr(),Sr(S);else return S.lanes=S.childLanes=536870912,Zm(v,S,ve!==null?ve.baseLanes|R:R,R)}else ve!==null?(nu(S,ve.cachePool),lr(S,ve),wn(),S.memoizedState=null):(v!==null&&nu(S,null),Qr(),wn());return Zr(v,S,k,R),S.child}function Zm(v,S,R,N){var k=Rf();return k=k===null?null:{parent:zs?Dr._currentValue:Dr._currentValue2,pool:k},S.memoizedState={baseLanes:R,cachePool:k},v!==null&&nu(S,null),Qr(),Sr(S),v!==null&&pl(v,S,N,!0),null}function dd(v,S){var R=S.ref;if(R===null)v!==null&&v.ref!==null&&(S.flags|=2097664);else{if(typeof R!="function"&&typeof R!="object")throw Error(a(284));(v===null||v.ref!==R)&&(S.flags|=2097664)}}function wf(v,S,R,N,k){return ds(S),R=ln(v,S,R,N,void 0,k),N=Or(),v!==null&&!ia?(cr(v,S,k),Ls(v,S,k)):(Ri&&N&&he(S),S.flags|=1,Zr(v,S,R,k),S.child)}function eg(v,S,R,N,k,j){return ds(S),S.updateQueue=null,R=Ur(S,N,R,k),zr(v),N=Or(),v!==null&&!ia?(cr(v,S,j),Ls(v,S,j)):(Ri&&N&&he(S),S.flags|=1,Zr(v,S,R,j),S.child)}function tg(v,S,R,N,k){if(ds(S),S.stateNode===null){var j=Md,ve=R.contextType;typeof ve=="object"&&ve!==null&&(j=la(ve)),j=new R(N,j),S.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,j.updater=Jf,S.stateNode=j,j._reactInternals=S,j=S.stateNode,j.props=N,j.state=S.memoizedState,j.refs={},ot(S),ve=R.contextType,j.context=typeof ve=="object"&&ve!==null?la(ve):Md,j.state=S.memoizedState,ve=R.getDerivedStateFromProps,typeof ve=="function"&&(ul(S,R,ve,N),j.state=S.memoizedState),typeof R.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(ve=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),ve!==j.state&&Jf.enqueueReplaceState(j,j.state,null),St(S,N,j,k),Ge(),j.state=S.memoizedState),typeof j.componentDidMount=="function"&&(S.flags|=4194308),N=!0}else if(v===null){j=S.stateNode;var Le=S.memoizedProps,it=Wo(R,Le);j.props=it;var wt=j.context,jt=R.contextType;ve=Md,typeof jt=="object"&&jt!==null&&(ve=la(jt));var nn=R.getDerivedStateFromProps;jt=typeof nn=="function"||typeof j.getSnapshotBeforeUpdate=="function",Le=S.pendingProps!==Le,jt||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(Le||wt!==ve)&&qh(S,j,N,ve),ja=!1;var Ht=S.memoizedState;j.state=Ht,St(S,N,j,k),Ge(),wt=S.memoizedState,Le||Ht!==wt||ja?(typeof nn=="function"&&(ul(S,R,nn,N),wt=S.memoizedState),(it=ja||Xl(S,R,it,N,Ht,wt,ve))?(jt||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(S.flags|=4194308)):(typeof j.componentDidMount=="function"&&(S.flags|=4194308),S.memoizedProps=N,S.memoizedState=wt),j.props=N,j.state=wt,j.context=ve,N=it):(typeof j.componentDidMount=="function"&&(S.flags|=4194308),N=!1)}else{j=S.stateNode,_t(v,S),ve=S.memoizedProps,jt=Wo(R,ve),j.props=jt,nn=S.pendingProps,Ht=j.context,wt=R.contextType,it=Md,typeof wt=="object"&&wt!==null&&(it=la(wt)),Le=R.getDerivedStateFromProps,(wt=typeof Le=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(ve!==nn||Ht!==it)&&qh(S,j,N,it),ja=!1,Ht=S.memoizedState,j.state=Ht,St(S,N,j,k),Ge();var qn=S.memoizedState;ve!==nn||Ht!==qn||ja||v!==null&&v.dependencies!==null&&hd(v.dependencies)?(typeof Le=="function"&&(ul(S,R,Le,N),qn=S.memoizedState),(jt=ja||Xl(S,R,jt,N,Ht,qn,it)||v!==null&&v.dependencies!==null&&hd(v.dependencies))?(wt||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(N,qn,it),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(N,qn,it)),typeof j.componentDidUpdate=="function"&&(S.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(S.flags|=1024)):(typeof j.componentDidUpdate!="function"||ve===v.memoizedProps&&Ht===v.memoizedState||(S.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||ve===v.memoizedProps&&Ht===v.memoizedState||(S.flags|=1024),S.memoizedProps=N,S.memoizedState=qn),j.props=N,j.state=qn,j.context=it,N=jt):(typeof j.componentDidUpdate!="function"||ve===v.memoizedProps&&Ht===v.memoizedState||(S.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||ve===v.memoizedProps&&Ht===v.memoizedState||(S.flags|=1024),N=!1)}return j=N,dd(v,S),N=(S.flags&128)!==0,j||N?(j=S.stateNode,R=N&&typeof R.getDerivedStateFromError!="function"?null:j.render(),S.flags|=1,v!==null&&N?(S.child=Au(S,v.child,null,k),S.child=Au(S,null,R,k)):Zr(v,S,R,k),S.memoizedState=j.state,v=S.child):v=Ls(v,S,k),v}function ng(v,S,R,N){return Be(),S.flags|=256,Zr(v,S,R,N),S.child}function Af(v){return{baseLanes:v,cachePool:ep()}}function dl(v,S,R){return v=v!==null?v.childLanes&~R:0,S&&(v|=es),v}function fl(v,S,R){var N=S.pendingProps,k=!1,j=(S.flags&128)!==0,ve;if((ve=j)||(ve=v!==null&&v.memoizedState===null?!1:(dr.current&2)!==0),ve&&(k=!0,S.flags&=-129),ve=(S.flags&32)!==0,S.flags&=-33,v===null){if(Ri){if(k?Ai(S):wn(),Ri){var Le=Qi,it;(it=Le)&&(Le=F_(Le,Gs),Le!==null?(S.memoizedState={dehydrated:Le,treeContext:Hs!==null?{id:El,overflow:wl}:null,retryLane:536870912},it=t(18,null,null,0),it.stateNode=Le,it.return=S,S.child=it,$r=S,Qi=null,it=!0):it=!1),it||Ae(S)}if(Le=S.memoizedState,Le!==null&&(Le=Le.dehydrated,Le!==null))return gp(Le)?S.lanes=16:S.lanes=536870912,null;Mn(S)}return Le=N.children,N=N.fallback,k?(wn(),k=S.mode,Le=Jh({mode:"hidden",children:Le},k),N=fu(N,k,R,null),Le.return=S,N.return=S,Le.sibling=N,S.child=Le,k=S.child,k.memoizedState=Af(R),k.childLanes=dl(v,ve,R),S.memoizedState=Cp,N):(Ai(S),eu(S,Le))}if(it=v.memoizedState,it!==null&&(Le=it.dehydrated,Le!==null)){if(j)S.flags&256?(Ai(S),S.flags&=-257,S=fd(v,S,R)):S.memoizedState!==null?(wn(),S.child=v.child,S.flags|=128,S=null):(wn(),k=N.fallback,Le=S.mode,N=Jh({mode:"visible",children:N.children},Le),k=fu(k,Le,R,null),k.flags|=2,N.return=S,k.return=S,N.sibling=k,S.child=N,Au(S,v.child,null,R),N=S.child,N.memoizedState=Af(R),N.childLanes=dl(v,ve,R),S.memoizedState=Cp,S=k);else if(Ai(S),gp(Le))ve=bg(Le).digest,N=Error(a(419)),N.stack="",N.digest=ve,Ce({value:N,source:null,stack:null}),S=fd(v,S,R);else if(ia||pl(v,S,R,!1),ve=(R&v.childLanes)!==0,ia||ve){if(ve=er,ve!==null){if(N=R&-R,(N&42)!==0)N=1;else switch(N){case 2:N=1;break;case 8:N=4;break;case 32:N=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:N=64;break;case 268435456:N=134217728;break;default:N=0}if(N=(N&(ve.suspendedLanes|R))!==0?0:N,N!==0&&N!==it.retryLane)throw it.retryLane=N,qe(v,N),ur(ve,v,N),xy}Ed(Le)||ps(),S=fd(v,S,R)}else Ed(Le)?(S.flags|=128,S.child=v.child,S=dp.bind(null,v),N_(Le,S),S=null):(v=it.treeContext,wo&&(Qi=sy(Le),$r=S,Ri=!0,gs=null,Gs=!1,v!==null&&(Ao[Va++]=El,Ao[Va++]=wl,Ao[Va++]=Hs,El=v.id,wl=v.overflow,Hs=S)),S=eu(S,N.children),S.flags|=4096);return S}return k?(wn(),k=N.fallback,Le=S.mode,it=v.child,j=it.sibling,N=ac(it,{mode:"hidden",children:N.children}),N.subtreeFlags=it.subtreeFlags&31457280,j!==null?k=ac(j,k):(k=fu(k,Le,R,null),k.flags|=2),k.return=S,N.return=S,N.sibling=k,S.child=N,N=k,k=S.child,Le=v.child.memoizedState,Le===null?Le=Af(R):(it=Le.cachePool,it!==null?(j=zs?Dr._currentValue:Dr._currentValue2,it=it.parent!==j?{parent:j,pool:j}:it):it=ep(),Le={baseLanes:Le.baseLanes|R,cachePool:it}),k.memoizedState=Le,k.childLanes=dl(v,ve,R),S.memoizedState=Cp,N):(Ai(S),R=v.child,v=R.sibling,R=ac(R,{mode:"visible",children:N.children}),R.return=S,R.sibling=null,v!==null&&(ve=S.deletions,ve===null?(S.deletions=[v],S.flags|=16):ve.push(v)),S.child=R,S.memoizedState=null,R)}function eu(v,S){return S=Jh({mode:"visible",children:S},v.mode),S.return=v,v.child=S}function Jh(v,S){return ug(v,S,0,null)}function fd(v,S,R){return Au(S,v.child,null,R),v=eu(S,S.pendingProps.children),v.flags|=2,S.memoizedState=null,v}function Qh(v,S,R){v.lanes|=S;var N=v.alternate;N!==null&&(N.lanes|=S),Yl(v.return,S,R)}function Mf(v,S,R,N,k){var j=v.memoizedState;j===null?v.memoizedState={isBackwards:S,rendering:null,renderingStartTime:0,last:N,tail:R,tailMode:k}:(j.isBackwards=S,j.rendering=null,j.renderingStartTime=0,j.last=N,j.tail=R,j.tailMode=k)}function tu(v,S,R){var N=S.pendingProps,k=N.revealOrder,j=N.tail;if(Zr(v,S,N.children,R),N=dr.current,(N&2)!==0)N=N&1|2,S.flags|=128;else{if(v!==null&&(v.flags&128)!==0)e:for(v=S.child;v!==null;){if(v.tag===13)v.memoizedState!==null&&Qh(v,R,S);else if(v.tag===19)Qh(v,R,S);else if(v.child!==null){v.child.return=v,v=v.child;continue}if(v===S)break e;for(;v.sibling===null;){if(v.return===null||v.return===S)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}N&=1}switch(C(dr,N),k){case"forwards":for(R=S.child,k=null;R!==null;)v=R.alternate,v!==null&&Qn(v)===null&&(k=R),R=R.sibling;R=k,R===null?(k=S.child,S.child=null):(k=R.sibling,R.sibling=null),Mf(S,!1,k,R,j);break;case"backwards":for(R=null,k=S.child,S.child=null;k!==null;){if(v=k.alternate,v!==null&&Qn(v)===null){S.child=k;break}v=k.sibling,k.sibling=R,R=k,k=v}Mf(S,!0,R,null,j);break;case"together":Mf(S,!1,null,null,void 0);break;default:S.memoizedState=null}return S.child}function Ls(v,S,R){if(v!==null&&(S.dependencies=v.dependencies),xs|=S.lanes,(R&S.childLanes)===0)if(v!==null){if(pl(v,S,R,!1),(R&S.childLanes)===0)return null}else return null;if(v!==null&&S.child!==v.child)throw Error(a(153));if(S.child!==null){for(v=S.child,R=ac(v,v.pendingProps),S.child=R,R.return=S;v.sibling!==null;)v=v.sibling,R=R.sibling=ac(v,v.pendingProps),R.return=S;R.sibling=null}return S.child}function Zh(v,S){return(v.lanes&S)!==0?!0:(v=v.dependencies,!!(v!==null&&hd(v)))}function j0(v,S,R){switch(S.tag){case 3:Z(S,S.stateNode.containerInfo),hl(S,Dr,v.memoizedState.cache),Be();break;case 27:case 5:xe(S);break;case 4:Z(S,S.stateNode.containerInfo);break;case 10:hl(S,S.type,S.memoizedProps.value);break;case 13:var N=S.memoizedState;if(N!==null)return N.dehydrated!==null?(Ai(S),S.flags|=128,null):(R&S.child.childLanes)!==0?fl(v,S,R):(Ai(S),v=Ls(v,S,R),v!==null?v.sibling:null);Ai(S);break;case 19:var k=(v.flags&128)!==0;if(N=(R&S.childLanes)!==0,N||(pl(v,S,R,!1),N=(R&S.childLanes)!==0),k){if(N)return tu(v,S,R);S.flags|=128}if(k=S.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),C(dr,dr.current),N)break;return null;case 22:case 23:return S.lanes=0,Qm(v,S,R);case 24:hl(S,Dr,v.memoizedState.cache)}return Ls(v,S,R)}function ig(v,S,R){if(v!==null)if(v.memoizedProps!==S.pendingProps)ia=!0;else{if(!Zh(v,R)&&(S.flags&128)===0)return ia=!1,j0(v,S,R);ia=(v.flags&131072)!==0}else ia=!1,Ri&&(S.flags&1048576)!==0&&ie(S,Xf,S.index);switch(S.lanes=0,S.tag){case 16:e:{v=S.pendingProps;var N=S.elementType,k=N._init;if(N=k(N._payload),S.type=N,typeof N=="function")rc(N)?(v=Wo(N,v),S.tag=1,S=tg(null,S,N,v,R)):(S.tag=0,S=wf(null,S,N,v,R));else{if(N!=null){if(k=N.$$typeof,k===dg){S.tag=11,S=ud(null,S,N,v,R);break e}else if(k===Uf){S.tag=14,S=ba(null,S,N,v,R);break e}}throw S=l(N)||N,Error(a(306,S,""))}}return S;case 0:return wf(v,S,S.type,S.pendingProps,R);case 1:return N=S.type,k=Wo(N,S.pendingProps),tg(v,S,N,k,R);case 3:e:{if(Z(S,S.stateNode.containerInfo),v===null)throw Error(a(387));var j=S.pendingProps;k=S.memoizedState,N=k.element,_t(v,S),St(S,j,null,R);var ve=S.memoizedState;if(j=ve.cache,hl(S,Dr,j),j!==k.cache&&ql(S,[Dr],R,!0),Ge(),j=ve.element,wo&&k.isDehydrated)if(k={element:j,isDehydrated:!1,cache:ve.cache},S.updateQueue.baseState=k,S.memoizedState=k,S.flags&256){S=ng(v,S,j,R);break e}else if(j!==N){N=de(Error(a(424)),S),Ce(N),S=ng(v,S,j,R);break e}else for(wo&&(Qi=wd(S.stateNode.containerInfo),$r=S,Ri=!0,gs=null,Gs=!0),R=Al(S,null,j,R),S.child=R;R;)R.flags=R.flags&-3|4096,R=R.sibling;else{if(Be(),j===N){S=Ls(v,S,R);break e}Zr(v,S,j,R)}S=S.child}return S;case 26:if(Ko)return dd(v,S),v===null?(R=dy(S.type,null,S.pendingProps,null))?S.memoizedState=R:Ri||(S.stateNode=my(S.type,S.pendingProps,pc.current,S)):S.memoizedState=dy(S.type,v.memoizedProps,S.pendingProps,v.memoizedState),null;case 27:if(xa)return xe(S),v===null&&xa&&Ri&&(N=S.stateNode=xg(S.type,S.pendingProps,pc.current,kr.current,!1),$r=S,Gs=!0,Qi=fc(N)),N=S.pendingProps.children,v!==null||Ri?Zr(v,S,N,R):S.child=Au(S,null,N,R),dd(v,S),S.child;case 5:return v===null&&Ri&&(V_(S.type,S.pendingProps,kr.current),(k=N=Qi)&&(N=ly(N,S.type,S.pendingProps,Gs),N!==null?(S.stateNode=N,$r=S,Qi=fc(N),Gs=!1,k=!0):k=!1),k||Ae(S)),xe(S),k=S.type,j=S.pendingProps,ve=v!==null?v.memoizedProps:null,N=j.children,Oa(k,j)?N=null:ve!==null&&Oa(k,ve)&&(S.flags|=32),S.memoizedState!==null&&(k=ln(v,S,Rr,null,null,R),zs?dc._currentValue=k:dc._currentValue2=k),dd(v,S),Zr(v,S,N,R),S.child;case 6:return v===null&&Ri&&(DA(S.pendingProps,kr.current),(v=R=Qi)&&(R=U_(R,S.pendingProps,Gs),R!==null?(S.stateNode=R,$r=S,Qi=null,v=!0):v=!1),v||Ae(S)),null;case 13:return fl(v,S,R);case 4:return Z(S,S.stateNode.containerInfo),N=S.pendingProps,v===null?S.child=Au(S,null,N,R):Zr(v,S,N,R),S.child;case 11:return ud(v,S,S.type,S.pendingProps,R);case 7:return Zr(v,S,S.pendingProps,R),S.child;case 8:return Zr(v,S,S.pendingProps.children,R),S.child;case 12:return Zr(v,S,S.pendingProps.children,R),S.child;case 10:return N=S.pendingProps,hl(S,S.type,N.value),Zr(v,S,N.children,R),S.child;case 9:return k=S.type._context,N=S.pendingProps.children,ds(S),k=la(k),N=N(k),S.flags|=1,Zr(v,S,N,R),S.child;case 14:return ba(v,S,S.type,S.pendingProps,R);case 15:return Jm(v,S,S.type,S.pendingProps,R);case 19:return tu(v,S,R);case 22:return Qm(v,S,R);case 24:return ds(S),N=la(Dr),v===null?(k=Rf(),k===null&&(k=er,j=_o(),k.pooledCache=j,j.refCount++,j!==null&&(k.pooledCacheLanes|=R),k=j),S.memoizedState={parent:N,cache:k},ot(S),hl(S,Dr,k)):((v.lanes&R)!==0&&(_t(v,S),St(S,null,null,R),Ge()),k=v.memoizedState,j=S.memoizedState,k.parent!==N?(k={parent:N,cache:N},S.memoizedState=k,S.lanes===0&&(S.memoizedState=S.updateQueue.baseState=k),hl(S,Dr,N)):(N=j.cache,hl(S,Dr,N),N!==k.cache&&ql(S,[Dr],R,!0))),Zr(v,S,S.pendingProps.children,R),S.child;case 29:throw S.pendingProps}throw Error(a(156,S.tag))}function hl(v,S,R){zs?(C(ys,S._currentValue),S._currentValue=R):(C(ys,S._currentValue2),S._currentValue2=R)}function Ns(v){var S=ys.current;zs?v._currentValue=S:v._currentValue2=S,y(ys)}function Yl(v,S,R){for(;v!==null;){var N=v.alternate;if((v.childLanes&S)!==S?(v.childLanes|=S,N!==null&&(N.childLanes|=S)):N!==null&&(N.childLanes&S)!==S&&(N.childLanes|=S),v===R)break;v=v.return}}function ql(v,S,R,N){var k=v.child;for(k!==null&&(k.return=v);k!==null;){var j=k.dependencies;if(j!==null){var ve=k.child;j=j.firstContext;e:for(;j!==null;){var Le=j;j=k;for(var it=0;it<S.length;it++)if(Le.context===S[it]){j.lanes|=R,Le=j.alternate,Le!==null&&(Le.lanes|=R),Yl(j.return,R,v),N||(ve=null);break e}j=Le.next}}else if(k.tag===18){if(ve=k.return,ve===null)throw Error(a(341));ve.lanes|=R,j=ve.alternate,j!==null&&(j.lanes|=R),Yl(ve,R,v),ve=null}else ve=k.child;if(ve!==null)ve.return=k;else for(ve=k;ve!==null;){if(ve===v){ve=null;break}if(k=ve.sibling,k!==null){k.return=ve.return,ve=k;break}ve=ve.return}k=ve}}function pl(v,S,R,N){v=null;for(var k=S,j=!1;k!==null;){if(!j){if((k.flags&524288)!==0)j=!0;else if((k.flags&262144)!==0)break}if(k.tag===10){var ve=k.alternate;if(ve===null)throw Error(a(387));if(ve=ve.memoizedProps,ve!==null){var Le=k.type;oo(k.pendingProps.value,ve.value)||(v!==null?v.push(Le):v=[Le])}}else if(k===bp.current){if(ve=k.alternate,ve===null)throw Error(a(387));ve.memoizedState.memoizedState!==k.memoizedState.memoizedState&&(v!==null?v.push(dc):v=[dc])}k=k.return}v!==null&&ql(S,v,R,N),S.flags|=262144}function hd(v){for(v=v.firstContext;v!==null;){var S=v.context;if(!oo(zs?S._currentValue:S._currentValue2,v.memoizedValue))return!0;v=v.next}return!1}function ds(v){Iu=v,bs=null,v=v.dependencies,v!==null&&(v.firstContext=null)}function la(v){return Tf(Iu,v)}function pd(v,S){return Iu===null&&ds(v),Tf(v,S)}function Tf(v,S){var R=zs?S._currentValue:S._currentValue2;if(S={context:S,memoizedValue:R,next:null},bs===null){if(v===null)throw Error(a(308));bs=S,v.dependencies={lanes:0,firstContext:S},v.flags|=524288}else bs=bs.next=S;return R}function _o(){return{controller:new Ep,data:new Map,refCount:0}}function xo(v){v.refCount--,v.refCount===0&&Tr(LA,function(){v.controller.abort()})}function Rf(){var v=Id.current;return v!==null?v:er.pooledCache}function nu(v,S){S===null?C(Id,Id.current):C(Id,S.pool)}function ep(){var v=Rf();return v===null?null:{parent:zs?Dr._currentValue:Dr._currentValue2,pool:v}}function Ha(v){v.flags|=4}function iu(v,S){if(v!==null&&v.child===S.child)return!1;if((S.flags&16)!==0)return!0;for(v=S.child;v!==null;){if((v.flags&13878)!==0||(v.subtreeFlags&13878)!==0)return!0;v=v.sibling}return!1}function Kl(v,S,R,N){if(Cr)for(R=S.child;R!==null;){if(R.tag===5||R.tag===6)pp(v,R.stateNode);else if(!(R.tag===4||xa&&R.tag===27)&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===S)break;for(;R.sibling===null;){if(R.return===null||R.return===S)return;R=R.return}R.sibling.return=R.return,R=R.sibling}else if(Us)for(var k=S.child;k!==null;){if(k.tag===5){var j=k.stateNode;R&&N&&(j=L_(j,k.type,k.memoizedProps)),pp(v,j)}else if(k.tag===6)j=k.stateNode,R&&N&&(j=oy(j,k.memoizedProps)),pp(v,j);else if(k.tag!==4){if(k.tag===22&&k.memoizedState!==null)j=k.child,j!==null&&(j.return=k),Kl(v,k,!0,!0);else if(k.child!==null){k.child.return=k,k=k.child;continue}}if(k===S)break;for(;k.sibling===null;){if(k.return===null||k.return===S)return;k=k.return}k.sibling.return=k.return,k=k.sibling}}function rg(v,S,R,N){if(Us)for(var k=S.child;k!==null;){if(k.tag===5){var j=k.stateNode;R&&N&&(j=L_(j,k.type,k.memoizedProps)),ay(v,j)}else if(k.tag===6)j=k.stateNode,R&&N&&(j=oy(j,k.memoizedProps)),ay(v,j);else if(k.tag!==4){if(k.tag===22&&k.memoizedState!==null)j=k.child,j!==null&&(j.return=k),rg(v,k,!(k.memoizedProps!==null&&k.memoizedProps.mode==="manual"),!0);else if(k.child!==null){k.child.return=k,k=k.child;continue}}if(k===S)break;for(;k.sibling===null;){if(k.return===null||k.return===S)return;k=k.return}k.sibling.return=k.return,k=k.sibling}}function md(v,S){if(Us&&iu(v,S)){v=S.stateNode;var R=v.containerInfo,N=yg();rg(N,S,!1,!1),v.pendingChildren=N,Ha(S),D_(R,N)}}function Of(v,S,R,N){if(Cr)v.memoizedProps!==N&&Ha(S);else if(Us){var k=v.stateNode,j=v.memoizedProps;if((v=iu(v,S))||j!==N){var ve=kr.current;j=B_(k,R,j,N,!v,null),j===k?S.stateNode=k:(fg(j,R,N,ve)&&Ha(S),S.stateNode=j,v?Kl(j,S,!1,!1):Ha(S))}else S.stateNode=k}}function If(v,S,R){if(Z0(S,R)){if(v.flags|=16777216,!ey(S,R))if(_a())v.flags|=8192;else throw Wa=so,xp}else v.flags&=-16777217}function Bf(v,S){if(X_(S)){if(v.flags|=16777216,!gy(S))if(_a())v.flags|=8192;else throw Wa=so,xp}else v.flags&=-16777217}function ru(v,S){S!==null&&(v.flags|=4),v.flags&16384&&(S=v.tag!==22?z():536870912,v.lanes|=S,aa|=S)}function P(v,S){if(!Ri)switch(v.tailMode){case"hidden":S=v.tail;for(var R=null;S!==null;)S.alternate!==null&&(R=S),S=S.sibling;R===null?v.tail=null:R.sibling=null;break;case"collapsed":R=v.tail;for(var N=null;R!==null;)R.alternate!==null&&(N=R),R=R.sibling;N===null?S||v.tail===null?v.tail=null:v.tail.sibling=null:N.sibling=null}}function I(v){var S=v.alternate!==null&&v.alternate.child===v.child,R=0,N=0;if(S)for(var k=v.child;k!==null;)R|=k.lanes|k.childLanes,N|=k.subtreeFlags&31457280,N|=k.flags&31457280,k.return=v,k=k.sibling;else for(k=v.child;k!==null;)R|=k.lanes|k.childLanes,N|=k.subtreeFlags,N|=k.flags,k.return=v,k=k.sibling;return v.subtreeFlags|=N,v.childLanes=R,S}function H(v,S,R){var N=S.pendingProps;switch(fe(S),S.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return I(S),null;case 1:return I(S),null;case 3:return R=S.stateNode,N=null,v!==null&&(N=v.memoizedState.cache),S.memoizedState.cache!==N&&(S.flags|=2048),Ns(Dr),pe(),R.pendingContext&&(R.context=R.pendingContext,R.pendingContext=null),(v===null||v.child===null)&&(yt(S)?Ha(S):v===null||v.memoizedState.isDehydrated&&(S.flags&256)===0||(S.flags|=1024,gs!==null&&(nc(gs),gs=null))),md(v,S),I(S),null;case 26:if(Ko){R=S.type;var k=S.memoizedState;return v===null?(Ha(S),k!==null?(I(S),Bf(S,k)):(I(S),If(S,R,N))):k?k!==v.memoizedState?(Ha(S),I(S),Bf(S,k)):(I(S),S.flags&=-16777217):(Cr?v.memoizedProps!==N&&Ha(S):Of(v,S,R,N),I(S),If(S,R,N)),null}case 27:if(xa){if(Oe(S),R=pc.current,k=S.type,v!==null&&S.stateNode!=null)Cr?v.memoizedProps!==N&&Ha(S):Of(v,S,k,N);else{if(!N){if(S.stateNode===null)throw Error(a(166));return I(S),null}v=kr.current,yt(S)?Te(S,v):(v=xg(k,N,R,v,!0),S.stateNode=v,Ha(S))}return I(S),null}case 5:if(Oe(S),R=S.type,v!==null&&S.stateNode!=null)Of(v,S,R,N);else{if(!N){if(S.stateNode===null)throw Error(a(166));return I(S),null}v=kr.current,yt(S)?Te(S,v):(k=Q0(R,N,pc.current,v,S),Kl(k,S,!1,!1),S.stateNode=k,fg(k,R,N,v)&&Ha(S))}return I(S),If(S,S.type,S.pendingProps),null;case 6:if(v&&S.stateNode!=null)R=v.memoizedProps,Cr?R!==N&&Ha(S):Us&&(R!==N?(S.stateNode=Hr(N,pc.current,kr.current,S),Ha(S)):S.stateNode=v.stateNode);else{if(typeof N!="string"&&S.stateNode===null)throw Error(a(166));if(v=pc.current,R=kr.current,yt(S)){if(!wo)throw Error(a(176));if(v=S.stateNode,R=S.memoizedProps,N=null,k=$r,k!==null)switch(k.tag){case 27:case 5:N=k.memoizedProps}Sg(v,R,S,N)||Ae(S)}else S.stateNode=Hr(N,v,R,S)}return I(S),null;case 13:if(N=S.memoizedState,v===null||v.memoizedState!==null&&v.memoizedState.dehydrated!==null){if(k=yt(S),N!==null&&N.dehydrated!==null){if(v===null){if(!k)throw Error(a(318));if(!wo)throw Error(a(344));if(k=S.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(a(317));H_(k,S)}else Be(),(S.flags&128)===0&&(S.memoizedState=null),S.flags|=4;I(S),k=!1}else gs!==null&&(nc(gs),gs=null),k=!0;if(!k)return S.flags&256?(Mn(S),S):(Mn(S),null)}if(Mn(S),(S.flags&128)!==0)return S.lanes=R,S;if(R=N!==null,v=v!==null&&v.memoizedState!==null,R){N=S.child,k=null,N.alternate!==null&&N.alternate.memoizedState!==null&&N.alternate.memoizedState.cachePool!==null&&(k=N.alternate.memoizedState.cachePool.pool);var j=null;N.memoizedState!==null&&N.memoizedState.cachePool!==null&&(j=N.memoizedState.cachePool.pool),j!==k&&(N.flags|=2048)}return R!==v&&R&&(S.child.flags|=8192),ru(S,S.updateQueue),I(S),null;case 4:return pe(),md(v,S),v===null&&d_(S.stateNode.containerInfo),I(S),null;case 10:return Ns(S.type),I(S),null;case 19:if(y(dr),k=S.memoizedState,k===null)return I(S),null;if(N=(S.flags&128)!==0,j=k.rendering,j===null)if(N)P(k,!1);else{if(wr!==0||v!==null&&(v.flags&128)!==0)for(v=S.child;v!==null;){if(j=Qn(v),j!==null){for(S.flags|=128,P(k,!1),v=j.updateQueue,S.updateQueue=v,ru(S,v),S.subtreeFlags=0,v=R,R=S.child;R!==null;)bd(R,v),R=R.sibling;return C(dr,dr.current&1|2),S.child}v=v.sibling}k.tail!==null&&Jo()>ts&&(S.flags|=128,N=!0,P(k,!1),S.lanes=4194304)}else{if(!N)if(v=Qn(j),v!==null){if(S.flags|=128,N=!0,v=v.updateQueue,S.updateQueue=v,ru(S,v),P(k,!0),k.tail===null&&k.tailMode==="hidden"&&!j.alternate&&!Ri)return I(S),null}else 2*Jo()-k.renderingStartTime>ts&&R!==536870912&&(S.flags|=128,N=!0,P(k,!1),S.lanes=4194304);k.isBackwards?(j.sibling=S.child,S.child=j):(v=k.last,v!==null?v.sibling=j:S.child=j,k.last=j)}return k.tail!==null?(S=k.tail,k.rendering=S,k.tail=S.sibling,k.renderingStartTime=Jo(),S.sibling=null,v=dr.current,C(dr,N?v&1|2:v&1),S):(I(S),null);case 22:case 23:return Mn(S),zn(),N=S.memoizedState!==null,v!==null?v.memoizedState!==null!==N&&(S.flags|=8192):N&&(S.flags|=8192),N?(R&536870912)!==0&&(S.flags&128)===0&&(I(S),S.subtreeFlags&6&&(S.flags|=8192)):I(S),R=S.updateQueue,R!==null&&ru(S,R.retryQueue),R=null,v!==null&&v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(R=v.memoizedState.cachePool.pool),N=null,S.memoizedState!==null&&S.memoizedState.cachePool!==null&&(N=S.memoizedState.cachePool.pool),N!==R&&(S.flags|=2048),v!==null&&y(Id),null;case 24:return R=null,v!==null&&(R=v.memoizedState.cache),S.memoizedState.cache!==R&&(S.flags|=2048),Ns(Dr),I(S),null;case 25:return null}throw Error(a(156,S.tag))}function V(v,S){switch(fe(S),S.tag){case 1:return v=S.flags,v&65536?(S.flags=v&-65537|128,S):null;case 3:return Ns(Dr),pe(),v=S.flags,(v&65536)!==0&&(v&128)===0?(S.flags=v&-65537|128,S):null;case 26:case 27:case 5:return Oe(S),null;case 13:if(Mn(S),v=S.memoizedState,v!==null&&v.dehydrated!==null){if(S.alternate===null)throw Error(a(340));Be()}return v=S.flags,v&65536?(S.flags=v&-65537|128,S):null;case 19:return y(dr),null;case 4:return pe(),null;case 10:return Ns(S.type),null;case 22:case 23:return Mn(S),zn(),v!==null&&y(Id),v=S.flags,v&65536?(S.flags=v&-65537|128,S):null;case 24:return Ns(Dr),null;case 25:return null;default:return null}}function X(v,S){switch(fe(S),S.tag){case 3:Ns(Dr),pe();break;case 26:case 27:case 5:Oe(S);break;case 4:pe();break;case 13:Mn(S);break;case 19:y(dr);break;case 10:Ns(S.type);break;case 22:case 23:Mn(S),zn(),v!==null&&y(Id);break;case 24:Ns(Dr)}}function te(v,S){try{var R=S.updateQueue,N=R!==null?R.lastEffect:null;if(N!==null){var k=N.next;R=k;do{if((R.tag&v)===v){N=void 0;var j=R.create,ve=R.inst;N=j(),ve.destroy=N}R=R.next}while(R!==k)}}catch(Le){Vi(S,S.return,Le)}}function se(v,S,R){try{var N=S.updateQueue,k=N!==null?N.lastEffect:null;if(k!==null){var j=k.next;N=j;do{if((N.tag&v)===v){var ve=N.inst,Le=ve.destroy;if(Le!==void 0){ve.destroy=void 0,k=S;var it=R;try{Le()}catch(wt){Vi(k,it,wt)}}}N=N.next}while(N!==j)}}catch(wt){Vi(S,S.return,wt)}}function me(v){var S=v.updateQueue;if(S!==null){var R=v.stateNode;try{xt(S,R)}catch(N){Vi(v,v.return,N)}}}function ye(v,S,R){R.props=Wo(v.type,v.memoizedProps),R.state=v.memoizedState;try{R.componentWillUnmount()}catch(N){Vi(v,S,N)}}function Pe(v,S){try{var R=v.ref;if(R!==null){var N=v.stateNode;switch(v.tag){case 26:case 27:case 5:var k=xd(N);break;default:k=N}typeof R=="function"?v.refCleanup=R(k):R.current=k}}catch(j){Vi(v,S,j)}}function Ee(v,S){var R=v.ref,N=v.refCleanup;if(R!==null)if(typeof N=="function")try{N()}catch(k){Vi(v,S,k)}finally{v.refCleanup=null,v=v.alternate,v!=null&&(v.refCleanup=null)}else if(typeof R=="function")try{R(null)}catch(k){Vi(v,S,k)}else R.current=null}function Qe(v){var S=v.type,R=v.memoizedProps,N=v.stateNode;try{E_(N,S,R,v)}catch(k){Vi(v,v.return,k)}}function bt(v,S,R){try{w_(v.stateNode,v.type,R,S,v)}catch(N){Vi(v,v.return,N)}}function zt(v){return v.tag===5||v.tag===3||(Ko?v.tag===26:!1)||(xa?v.tag===27:!1)||v.tag===4}function Dt(v){e:for(;;){for(;v.sibling===null;){if(v.return===null||zt(v.return))return null;v=v.return}for(v.sibling.return=v.return,v=v.sibling;v.tag!==5&&v.tag!==6&&(!xa||v.tag!==27)&&v.tag!==18;){if(v.flags&2||v.child===null||v.tag===4)continue e;v.child.return=v,v=v.child}if(!(v.flags&2))return v.stateNode}}function kt(v,S,R){var N=v.tag;if(N===5||N===6)v=v.stateNode,S?iy(R,v,S):ny(R,v);else if(!(N===4||xa&&N===27)&&(v=v.child,v!==null))for(kt(v,S,R),v=v.sibling;v!==null;)kt(v,S,R),v=v.sibling}function an(v,S,R){var N=v.tag;if(N===5||N===6)v=v.stateNode,S?A_(R,v,S):x_(R,v);else if(!(N===4||xa&&N===27)&&(v=v.child,v!==null))for(an(v,S,R),v=v.sibling;v!==null;)an(v,S,R),v=v.sibling}function Zt(v,S,R){v=v.containerInfo;try{P_(v,R)}catch(N){Vi(S,S.return,N)}}function hn(v,S){for(u_(v.containerInfo),On=S;On!==null;)if(v=On,S=v.child,(v.subtreeFlags&1028)!==0&&S!==null)S.return=v,On=S;else for(;On!==null;){v=On;var R=v.alternate;switch(S=v.flags,v.tag){case 0:break;case 11:case 15:break;case 1:if((S&1024)!==0&&R!==null){S=void 0;var N=v,k=R.memoizedProps;R=R.memoizedState;var j=N.stateNode;try{var ve=Wo(N.type,k,N.elementType===N.type);S=j.getSnapshotBeforeUpdate(ve,R),j.__reactInternalSnapshotBeforeUpdate=S}catch(Le){Vi(N,N.return,Le)}}break;case 3:(S&1024)!==0&&Cr&&I_(v.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((S&1024)!==0)throw Error(a(163))}if(S=v.sibling,S!==null){S.return=v.return,On=S;break}On=v.return}return ve=ar,ar=!1,ve}function Ln(v,S,R){var N=R.flags;switch(R.tag){case 0:case 11:case 15:Ql(v,R),N&4&&te(5,R);break;case 1:if(Ql(v,R),N&4)if(v=R.stateNode,S===null)try{v.componentDidMount()}catch(Le){Vi(R,R.return,Le)}else{var k=Wo(R.type,S.memoizedProps);S=S.memoizedState;try{v.componentDidUpdate(k,S,v.__reactInternalSnapshotBeforeUpdate)}catch(Le){Vi(R,R.return,Le)}}N&64&&me(R),N&512&&Pe(R,R.return);break;case 3:if(Ql(v,R),N&64&&(N=R.updateQueue,N!==null)){if(v=null,R.child!==null)switch(R.child.tag){case 27:case 5:v=xd(R.child.stateNode);break;case 1:v=R.child.stateNode}try{xt(N,v)}catch(Le){Vi(R,R.return,Le)}}break;case 26:if(Ko){Ql(v,R),N&512&&Pe(R,R.return);break}case 27:case 5:Ql(v,R),S===null&&N&4&&Qe(R),N&512&&Pe(R,R.return);break;case 12:Ql(v,R);break;case 13:Ql(v,R),N&4&&Mr(v,R);break;case 22:if(k=R.memoizedState!==null||Sc,!k){S=S!==null&&S.memoizedState!==null||Yn;var j=Sc,ve=Yn;Sc=k,(Yn=S)&&!ve?au(v,R,(R.subtreeFlags&8772)!==0):Ql(v,R),Sc=j,Yn=ve}N&512&&(R.memoizedProps.mode==="manual"?Pe(R,R.return):Ee(R,R.return));break;default:Ql(v,R)}}function ei(v){var S=v.alternate;S!==null&&(v.alternate=null,ei(S)),v.child=null,v.deletions=null,v.sibling=null,v.tag===5&&(S=v.stateNode,S!==null&&p_(S)),v.stateNode=null,v.return=null,v.dependencies=null,v.memoizedProps=null,v.memoizedState=null,v.pendingProps=null,v.stateNode=null,v.updateQueue=null}function pn(v,S,R){for(R=R.child;R!==null;)Rn(v,S,R),R=R.sibling}function Rn(v,S,R){if(na&&typeof na.onCommitFiberUnmount=="function")try{na.onCommitFiberUnmount(Wf,R)}catch{}switch(R.tag){case 26:if(Ko){Yn||Ee(R,S),pn(v,S,R),R.memoizedState?hy(R.memoizedState):R.stateNode&&$f(R.stateNode);break}case 27:if(xa){Yn||Ee(R,S);var N=Ui,k=Wr;Ui=R.stateNode,pn(v,S,R),by(R.stateNode),Ui=N,Wr=k;break}case 5:Yn||Ee(R,S);case 6:if(Cr){if(N=Ui,k=Wr,Ui=null,pn(v,S,R),Ui=N,Wr=k,Ui!==null)if(Wr)try{T_(Ui,R.stateNode)}catch(j){Vi(R,S,j)}else try{M_(Ui,R.stateNode)}catch(j){Vi(R,S,j)}}else pn(v,S,R);break;case 18:Cr&&Ui!==null&&(Wr?cy(Ui,R.stateNode):$_(Ui,R.stateNode));break;case 4:Cr?(N=Ui,k=Wr,Ui=R.stateNode.containerInfo,Wr=!0,pn(v,S,R),Ui=N,Wr=k):(Us&&Zt(R.stateNode,R,yg()),pn(v,S,R));break;case 0:case 11:case 14:case 15:Yn||se(2,R,S),Yn||se(4,R,S),pn(v,S,R);break;case 1:Yn||(Ee(R,S),N=R.stateNode,typeof N.componentWillUnmount=="function"&&ye(R,S,N)),pn(v,S,R);break;case 21:pn(v,S,R);break;case 22:Yn||Ee(R,S),Yn=(N=Yn)||R.memoizedState!==null,pn(v,S,R),Yn=N;break;default:pn(v,S,R)}}function Mr(v,S){if(wo&&S.memoizedState===null&&(v=S.alternate,v!==null&&(v=v.memoizedState,v!==null&&(v=v.dehydrated,v!==null))))try{_g(v)}catch(R){Vi(S,S.return,R)}}function Ji(v){switch(v.tag){case 13:case 19:var S=v.stateNode;return S===null&&(S=v.stateNode=new fi),S;case 22:return v=v.stateNode,S=v._retryCache,S===null&&(S=v._retryCache=new fi),S;default:throw Error(a(435,v.tag))}}function Sa(v,S){var R=Ji(v);S.forEach(function(N){var k=cg.bind(null,v,N);R.has(N)||(R.add(N),N.then(k,k))})}function Ni(v,S){var R=S.deletions;if(R!==null)for(var N=0;N<R.length;N++){var k=R[N],j=v,ve=S;if(Cr){var Le=ve;e:for(;Le!==null;){switch(Le.tag){case 27:case 5:Ui=Le.stateNode,Wr=!1;break e;case 3:Ui=Le.stateNode.containerInfo,Wr=!0;break e;case 4:Ui=Le.stateNode.containerInfo,Wr=!0;break e}Le=Le.return}if(Ui===null)throw Error(a(160));Rn(j,ve,k),Ui=null,Wr=!1}else Rn(j,ve,k);j=k.alternate,j!==null&&(j.return=null),k.return=null}if(S.subtreeFlags&13878)for(S=S.child;S!==null;)Xo(S,v),S=S.sibling}function Xo(v,S){var R=v.alternate,N=v.flags;switch(v.tag){case 0:case 11:case 14:case 15:Ni(S,v),ca(v),N&4&&(se(3,v,v.return),te(3,v),se(5,v,v.return));break;case 1:Ni(S,v),ca(v),N&512&&(Yn||R===null||Ee(R,R.return)),N&64&&Sc&&(v=v.updateQueue,v!==null&&(N=v.callbacks,N!==null&&(R=v.shared.hiddenCallbacks,v.shared.hiddenCallbacks=R===null?N:R.concat(N))));break;case 26:if(Ko){var k=Ya;Ni(S,v),ca(v),N&512&&(Yn||R===null||Ee(R,R.return)),N&4&&(N=R!==null?R.memoizedState:null,S=v.memoizedState,R===null?S===null?v.stateNode===null?v.stateNode=j_(k,v.type,v.memoizedProps,v):py(k,v.type,v.stateNode):v.stateNode=fy(k,S,v.memoizedProps):N!==S?(N===null?R.stateNode!==null&&$f(R.stateNode):hy(N),S===null?py(k,v.type,v.stateNode):fy(k,S,v.memoizedProps)):S===null&&v.stateNode!==null&&bt(v,v.memoizedProps,R.memoizedProps));break}case 27:if(xa&&N&4&&v.alternate===null){k=v.stateNode;var j=v.memoizedProps;try{Y_(k),yy(v.type,j,k,v)}catch(jt){Vi(v,v.return,jt)}}case 5:if(Ni(S,v),ca(v),N&512&&(Yn||R===null||Ee(R,R.return)),Cr){if(v.flags&32){S=v.stateNode;try{vg(S)}catch(jt){Vi(v,v.return,jt)}}N&4&&v.stateNode!=null&&(S=v.memoizedProps,bt(v,S,R!==null?R.memoizedProps:S)),N&1024&&(Zi=!0)}break;case 6:if(Ni(S,v),ca(v),N&4&&Cr){if(v.stateNode===null)throw Error(a(162));N=v.memoizedProps,R=R!==null?R.memoizedProps:N,S=v.stateNode;try{C_(S,R,N)}catch(jt){Vi(v,v.return,jt)}}break;case 3:if(Ko?(W_(),k=Ya,Ya=da(S.containerInfo),Ni(S,v),Ya=k):Ni(S,v),ca(v),N&4){if(Cr&&wo&&R!==null&&R.memoizedState.isDehydrated)try{k_(S.containerInfo)}catch(jt){Vi(v,v.return,jt)}if(Us){N=S.containerInfo,R=S.pendingChildren;try{P_(N,R)}catch(jt){Vi(v,v.return,jt)}}}Zi&&(Zi=!1,Jl(v));break;case 4:Ko?(R=Ya,Ya=da(v.stateNode.containerInfo),Ni(S,v),ca(v),Ya=R):(Ni(S,v),ca(v)),N&4&&Us&&Zt(v.stateNode,v,v.stateNode.pendingChildren);break;case 12:Ni(S,v),ca(v);break;case 13:Ni(S,v),ca(v),v.child.flags&8192&&v.memoizedState!==null!=(R!==null&&R.memoizedState!==null)&&(Ey=Jo()),N&4&&(N=v.updateQueue,N!==null&&(v.updateQueue=null,Sa(v,N)));break;case 22:N&512&&(Yn||R===null||Ee(R,R.return)),k=v.memoizedState!==null;var ve=R!==null&&R.memoizedState!==null,Le=Sc,it=Yn;if(Sc=Le||k,Yn=it||ve,Ni(S,v),Yn=it,Sc=Le,ca(v),S=v.stateNode,S._current=v,S._visibility&=-3,S._visibility|=S._pendingVisibility&2,N&8192&&(S._visibility=k?S._visibility&-2:S._visibility|1,k&&(S=Sc||Yn,R===null||ve||S||Df(v)),Cr&&(v.memoizedProps===null||v.memoizedProps.mode!=="manual"))){e:if(R=null,Cr)for(S=v;;){if(S.tag===5||Ko&&S.tag===26||xa&&S.tag===27){if(R===null){ve=R=S;try{j=ve.stateNode,k?R_(j):BA(ve.stateNode,ve.memoizedProps)}catch(jt){Vi(ve,ve.return,jt)}}}else if(S.tag===6){if(R===null){ve=S;try{var wt=ve.stateNode;k?O_(wt):ry(wt,ve.memoizedProps)}catch(jt){Vi(ve,ve.return,jt)}}}else if((S.tag!==22&&S.tag!==23||S.memoizedState===null||S===v)&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===v)break e;for(;S.sibling===null;){if(S.return===null||S.return===v)break e;R===S&&(R=null),S=S.return}R===S&&(R=null),S.sibling.return=S.return,S=S.sibling}}N&4&&(N=v.updateQueue,N!==null&&(R=N.retryQueue,R!==null&&(N.retryQueue=null,Sa(v,R))));break;case 19:Ni(S,v),ca(v),N&4&&(N=v.updateQueue,N!==null&&(v.updateQueue=null,Sa(v,N)));break;case 21:break;default:Ni(S,v),ca(v)}}function ca(v){var S=v.flags;if(S&2){try{if(Cr&&(!xa||v.tag!==27)){e:{for(var R=v.return;R!==null;){if(zt(R)){var N=R;break e}R=R.return}throw Error(a(160))}switch(N.tag){case 27:if(xa){var k=N.stateNode,j=Dt(v);an(v,j,k);break}case 5:var ve=N.stateNode;N.flags&32&&(vg(ve),N.flags&=-33);var Le=Dt(v);an(v,Le,ve);break;case 3:case 4:var it=N.stateNode.containerInfo,wt=Dt(v);kt(v,wt,it);break;default:throw Error(a(161))}}}catch(jt){Vi(v,v.return,jt)}v.flags&=-3}S&4096&&(v.flags&=-4097)}function Jl(v){if(v.subtreeFlags&1024)for(v=v.child;v!==null;){var S=v;Jl(S),S.tag===5&&S.flags&1024&&g_(S.stateNode),v=v.sibling}}function Ql(v,S){if(S.subtreeFlags&8772)for(S=S.child;S!==null;)Ln(v,S.alternate,S),S=S.sibling}function Df(v){for(v=v.child;v!==null;){var S=v;switch(S.tag){case 0:case 11:case 14:case 15:se(4,S,S.return),Df(S);break;case 1:Ee(S,S.return);var R=S.stateNode;typeof R.componentWillUnmount=="function"&&ye(S,S.return,R),Df(S);break;case 26:case 27:case 5:Ee(S,S.return),Df(S);break;case 22:Ee(S,S.return),S.memoizedState===null&&Df(S);break;default:Df(S)}v=v.sibling}}function au(v,S,R){for(R=R&&(S.subtreeFlags&8772)!==0,S=S.child;S!==null;){var N=S.alternate,k=v,j=S,ve=j.flags;switch(j.tag){case 0:case 11:case 15:au(k,j,R),te(4,j);break;case 1:if(au(k,j,R),N=j,k=N.stateNode,typeof k.componentDidMount=="function")try{k.componentDidMount()}catch(wt){Vi(N,N.return,wt)}if(N=j,k=N.updateQueue,k!==null){var Le=N.stateNode;try{var it=k.shared.hiddenCallbacks;if(it!==null)for(k.shared.hiddenCallbacks=null,k=0;k<it.length;k++)Me(it[k],Le)}catch(wt){Vi(N,N.return,wt)}}R&&ve&64&&me(j),Pe(j,j.return);break;case 26:case 27:case 5:au(k,j,R),R&&N===null&&ve&4&&Qe(j),Pe(j,j.return);break;case 12:au(k,j,R);break;case 13:au(k,j,R),R&&ve&4&&Mr(k,j);break;case 22:j.memoizedState===null&&au(k,j,R),Pe(j,j.return);break;default:au(k,j,R)}S=S.sibling}}function ag(v,S){var R=null;v!==null&&v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(R=v.memoizedState.cachePool.pool),v=null,S.memoizedState!==null&&S.memoizedState.cachePool!==null&&(v=S.memoizedState.cachePool.pool),v!==R&&(v!=null&&v.refCount++,R!=null&&xo(R))}function og(v,S){v=null,S.alternate!==null&&(v=S.alternate.memoizedState.cache),S=S.memoizedState.cache,S!==v&&(S.refCount++,v!=null&&xo(v))}function Zl(v,S,R,N){if(S.subtreeFlags&10256)for(S=S.child;S!==null;)fs(v,S,R,N),S=S.sibling}function fs(v,S,R,N){var k=S.flags;switch(S.tag){case 0:case 11:case 15:Zl(v,S,R,N),k&2048&&te(9,S);break;case 3:Zl(v,S,R,N),k&2048&&(v=null,S.alternate!==null&&(v=S.alternate.memoizedState.cache),S=S.memoizedState.cache,S!==v&&(S.refCount++,v!=null&&xo(v)));break;case 12:if(k&2048){Zl(v,S,R,N),v=S.stateNode;try{var j=S.memoizedProps,ve=j.id,Le=j.onPostCommit;typeof Le=="function"&&Le(ve,S.alternate===null?"mount":"update",v.passiveEffectDuration,-0)}catch(it){Vi(S,S.return,it)}}else Zl(v,S,R,N);break;case 23:break;case 22:j=S.stateNode,S.memoizedState!==null?j._visibility&4?Zl(v,S,R,N):ml(v,S):j._visibility&4?Zl(v,S,R,N):(j._visibility|=4,Ra(v,S,R,N,(S.subtreeFlags&10256)!==0)),k&2048&&ag(S.alternate,S);break;case 24:Zl(v,S,R,N),k&2048&&og(S.alternate,S);break;default:Zl(v,S,R,N)}}function Ra(v,S,R,N,k){for(k=k&&(S.subtreeFlags&10256)!==0,S=S.child;S!==null;){var j=v,ve=S,Le=R,it=N,wt=ve.flags;switch(ve.tag){case 0:case 11:case 15:Ra(j,ve,Le,it,k),te(8,ve);break;case 23:break;case 22:var jt=ve.stateNode;ve.memoizedState!==null?jt._visibility&4?Ra(j,ve,Le,it,k):ml(j,ve):(jt._visibility|=4,Ra(j,ve,Le,it,k)),k&&wt&2048&&ag(ve.alternate,ve);break;case 24:Ra(j,ve,Le,it,k),k&&wt&2048&&og(ve.alternate,ve);break;default:Ra(j,ve,Le,it,k)}S=S.sibling}}function ml(v,S){if(S.subtreeFlags&10256)for(S=S.child;S!==null;){var R=v,N=S,k=N.flags;switch(N.tag){case 22:ml(R,N),k&2048&&ag(N.alternate,N);break;case 24:ml(R,N),k&2048&&og(N.alternate,N);break;default:ml(R,N)}S=S.sibling}}function ec(v){if(v.subtreeFlags&Bu)for(v=v.child;v!==null;)tp(v),v=v.sibling}function tp(v){switch(v.tag){case 26:ec(v),v.flags&Bu&&(v.memoizedState!==null?vy(Ya,v.memoizedState,v.memoizedProps):ty(v.type,v.memoizedProps));break;case 5:ec(v),v.flags&Bu&&ty(v.type,v.memoizedProps);break;case 3:case 4:if(Ko){var S=Ya;Ya=da(v.stateNode.containerInfo),ec(v),Ya=S}else ec(v);break;case 22:v.memoizedState===null&&(S=v.alternate,S!==null&&S.memoizedState!==null?(S=Bu,Bu=16777216,ec(v),Bu=S):ec(v));break;default:ec(v)}}function np(v){var S=v.alternate;if(S!==null&&(v=S.child,v!==null)){S.child=null;do S=v.sibling,v.sibling=null,v=S;while(v!==null)}}function gd(v){var S=v.deletions;if((v.flags&16)!==0){if(S!==null)for(var R=0;R<S.length;R++){var N=S[R];On=N,rp(N,v)}np(v)}if(v.subtreeFlags&10256)for(v=v.child;v!==null;)tc(v),v=v.sibling}function tc(v){switch(v.tag){case 0:case 11:case 15:gd(v),v.flags&2048&&se(9,v,v.return);break;case 3:gd(v);break;case 12:gd(v);break;case 22:var S=v.stateNode;v.memoizedState!==null&&S._visibility&4&&(v.return===null||v.return.tag!==13)?(S._visibility&=-5,ip(v)):gd(v);break;default:gd(v)}}function ip(v){var S=v.deletions;if((v.flags&16)!==0){if(S!==null)for(var R=0;R<S.length;R++){var N=S[R];On=N,rp(N,v)}np(v)}for(v=v.child;v!==null;){switch(S=v,S.tag){case 0:case 11:case 15:se(8,S,S.return),ip(S);break;case 22:R=S.stateNode,R._visibility&4&&(R._visibility&=-5,ip(S));break;default:ip(S)}v=v.sibling}}function rp(v,S){for(;On!==null;){var R=On;switch(R.tag){case 0:case 11:case 15:se(8,R,S);break;case 23:case 22:if(R.memoizedState!==null&&R.memoizedState.cachePool!==null){var N=R.memoizedState.cachePool.pool;N!=null&&N.refCount++}break;case 24:xo(R.memoizedState.cache)}if(N=R.child,N!==null)N.return=R,On=N;else e:for(R=v;On!==null;){N=On;var k=N.sibling,j=N.return;if(ei(N),N===R){On=null;break e}if(k!==null){k.return=j,On=k;break e}On=j}}}function ou(v){var S=pg(v);if(S!=null){if(typeof S.memoizedProps["data-testname"]!="string")throw Error(a(364));return S}if(v=b_(v),v===null)throw Error(a(362));return v.stateNode.current}function sg(v,S){var R=v.tag;switch(S.$$typeof){case gr:if(v.type===S.value)return!0;break;case js:e:{for(S=S.value,v=[v,0],R=0;R<v.length;){var N=v[R++],k=N.tag,j=v[R++],ve=S[j];if(k!==5&&k!==26&&k!==27||!_l(N)){for(;ve!=null&&sg(N,ve);)j++,ve=S[j];if(j===S.length){S=!0;break e}else for(N=N.child;N!==null;)v.push(N,j),N=N.sibling}}S=!1}return S;case Ml:if((R===5||R===26||R===27)&&__(v.stateNode,S.value))return!0;break;case co:if((R===5||R===6||R===26||R===27)&&(v=S_(v),v!==null&&0<=v.indexOf(S.value)))return!0;break;case Qf:if((R===5||R===26||R===27)&&(v=v.memoizedProps["data-testname"],typeof v=="string"&&v.toLowerCase()===S.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function Co(v){switch(v.$$typeof){case gr:return"<"+(l(v.value)||"Unknown")+">";case js:return":has("+(Co(v)||"")+")";case Ml:return'[role="'+v.value+'"]';case co:return'"'+v.value+'"';case Qf:return'[data-testname="'+v.value+'"]';default:throw Error(a(365))}}function vd(v,S){var R=[];v=[v,0];for(var N=0;N<v.length;){var k=v[N++],j=k.tag,ve=v[N++],Le=S[ve];if(j!==5&&j!==26&&j!==27||!_l(k)){for(;Le!=null&&sg(k,Le);)ve++,Le=S[ve];if(ve===S.length)R.push(k);else for(k=k.child;k!==null;)v.push(k,ve),k=k.sibling}}return R}function su(v,S){if(!kf)throw Error(a(363));v=ou(v),v=vd(v,S),S=[],v=Array.from(v);for(var R=0;R<v.length;){var N=v[R++],k=N.tag;if(k===5||k===26||k===27)_l(N)||S.push(N.stateNode);else for(N=N.child;N!==null;)v.push(N),N=N.sibling}return S}function Ga(){if((mi&2)!==0&&gi!==0)return gi&-gi;if(Un.T!==null){var v=mr;return v!==0?v:gt()}return f_()}function ap(){es===0&&(es=(gi&536870912)===0||Ri?F():536870912);var v=To.current;return v!==null&&(v.flags|=32),es}function ur(v,S,R){(v===er&&Yi===2||v.cancelPendingCommit!==null)&&(lu(v,0),ro(v,gi,es,!1)),$(v,R),((mi&2)===0||v!==er)&&(v===er&&((mi&2)===0&&(xc|=R),wr===4&&ro(v,gi,es,!1)),st(v))}function Yo(v,S,R){if((mi&6)!==0)throw Error(a(327));var N=!R&&(S&60)===0&&(S&v.expiredLanes)===0||B(v,S),k=N?r_(v,S):sp(v,S,!0),j=N;do{if(k===0){_s&&!N&&ro(v,S,0,!1);break}else if(k===6)ro(v,S,0,!Ss);else{if(R=v.current.alternate,j&&!ic(R)){k=sp(v,S,!1),j=!1;continue}if(k===2){if(j=S,v.errorRecoveryDisabledLanes&j)var ve=0;else ve=v.pendingLanes&-536870913,ve=ve!==0?ve:ve&536870912?536870912:0;if(ve!==0){S=ve;e:{var Le=v;k=Zf;var it=wo&&Le.current.memoizedState.isDehydrated;if(it&&(lu(Le,ve).flags|=256),ve=sp(Le,ve,!1),ve!==2){if(Bd&&!it){Le.errorRecoveryDisabledLanes|=j,xc|=j,k=4;break e}j=Cs,Cs=k,j!==null&&nc(j)}k=ve}if(j=!1,k!==2)continue}}if(k===1){lu(v,0),ro(v,S,0,!0);break}e:{switch(N=v,k){case 0:case 1:throw Error(a(345));case 4:if((S&4194176)===S){ro(N,S,es,!Ss);break e}break;case 2:Cs=null;break;case 3:case 5:break;default:throw Error(a(329))}if(N.finishedWork=R,N.finishedLanes=S,(S&62914560)===S&&(j=Ey+300-Jo(),10<j)){if(ro(N,S,es,!Ss),O(N,0)!==0)break e;N.timeoutHandle=hg(gl.bind(null,N,R,Cs,Dd,Bg,S,es,xc,aa,Ss,2,-0,0),j);break e}gl(N,R,Cs,Dd,Bg,S,es,xc,aa,Ss,0,-0,0)}}break}while(!0);st(v)}function nc(v){Cs===null?Cs=v:Cs.push.apply(Cs,v)}function gl(v,S,R,N,k,j,ve,Le,it,wt,jt,nn,Ht){var qn=S.subtreeFlags;if((qn&8192||(qn&16785408)===16785408)&&(OA(),tp(S),S=m_(),S!==null)){v.cancelPendingCommit=S(lg.bind(null,v,R,N,k,ve,Le,it,1,nn,Ht)),ro(v,j,ve,!wt);return}lg(v,R,N,k,ve,Le,it,jt,nn,Ht)}function ic(v){for(var S=v;;){var R=S.tag;if((R===0||R===11||R===15)&&S.flags&16384&&(R=S.updateQueue,R!==null&&(R=R.stores,R!==null)))for(var N=0;N<R.length;N++){var k=R[N],j=k.getSnapshot;k=k.value;try{if(!oo(j(),k))return!1}catch{return!1}}if(R=S.child,S.subtreeFlags&16384&&R!==null)R.return=S,S=R;else{if(S===v)break;for(;S.sibling===null;){if(S.return===null||S.return===v)return!0;S=S.return}S.sibling.return=S.return,S=S.sibling}}return!0}function ro(v,S,R,N){S&=~uo,S&=~xc,v.suspendedLanes|=S,v.pingedLanes&=~S,N&&(v.warmLanes|=S),N=v.expirationTimes;for(var k=S;0<k;){var j=31-Gr(k),ve=1<<j;N[j]=-1,k&=~ve}R!==0&&W(v,R,S)}function W0(){return(mi&6)===0?(ce(0),!1):!0}function op(){if(li!==null){if(Yi===0)var v=li.return;else v=li,bs=Iu=null,_r(v),Rd=null,Xa=0,v=li;for(;v!==null;)X(v.alternate,v),v=v.return;li=null}}function lu(v,S){v.finishedWork=null,v.finishedLanes=0;var R=v.timeoutHandle;R!==Gf&&(v.timeoutHandle=Gf,mp(R)),R=v.cancelPendingCommit,R!==null&&(v.cancelPendingCommit=null,R()),op(),er=v,li=R=ac(v.current,null),gi=S,Yi=0,ra=null,Ss=!1,_s=B(v,S),Bd=!1,aa=es=uo=xc=xs=wr=0,Cs=Zf=null,Bg=!1,(S&8)!==0&&(S|=S&32);var N=v.entangledLanes;if(N!==0)for(v=v.entanglements,N&=S;0<N;){var k=31-Gr(N),j=1<<k;S|=v[k],N&=~j}return Ws=S,re(),R}function ka(v,S){Xn=null,Un.H=jr,S===_p?(S=Qt(),Yi=3):S===xp?(S=Qt(),Yi=4):Yi=S===xy?8:S!==null&&typeof S=="object"&&typeof S.then=="function"?6:1,ra=S,li===null&&(wr=1,Qc(v,de(S,v.current)))}function _a(){var v=To.current;return v===null?!0:(gi&4194176)===gi?vs===null:(gi&62914560)===gi||(gi&536870912)!==0?v===vs:!1}function Ti(){var v=Un.H;return Un.H=jr,v===null?jr:v}function hs(){var v=Un.A;return Un.A=_c,v}function ps(){wr=4,Ss||(gi&4194176)!==gi&&To.current!==null||(_s=!0),(xs&134217727)===0&&(xc&134217727)===0||er===null||ro(er,gi,es,!1)}function sp(v,S,R){var N=mi;mi|=2;var k=Ti(),j=hs();(er!==v||gi!==S)&&(Dd=null,lu(v,S)),S=!1;var ve=wr;e:do try{if(Yi!==0&&li!==null){var Le=li,it=ra;switch(Yi){case 8:op(),ve=6;break e;case 3:case 2:case 6:To.current===null&&(S=!0);var wt=Yi;if(Yi=0,ra=null,vl(v,Le,it,wt),R&&_s){ve=0;break e}break;default:wt=Yi,Yi=0,ra=null,vl(v,Le,it,wt)}}yd(),ve=wr;break}catch(jt){ka(v,jt)}while(!0);return S&&v.shellSuspendCounter++,bs=Iu=null,mi=N,Un.H=k,Un.A=j,li===null&&(er=null,gi=0,re()),ve}function yd(){for(;li!==null;)Pf(li)}function r_(v,S){var R=mi;mi|=2;var N=Ti(),k=hs();er!==v||gi!==S?(Dd=null,ts=Jo()+500,lu(v,S)):_s=B(v,S);e:do try{if(Yi!==0&&li!==null){S=li;var j=ra;t:switch(Yi){case 1:Yi=0,ra=null,vl(v,S,j,1);break;case 2:if(mt(j)){Yi=0,ra=null,Lf(S);break}S=function(){Yi===2&&er===v&&(Yi=7),st(v)},j.then(S,S);break e;case 3:Yi=7;break e;case 4:Yi=5;break e;case 7:mt(j)?(Yi=0,ra=null,Lf(S)):(Yi=0,ra=null,vl(v,S,j,7));break;case 5:var ve=null;switch(li.tag){case 26:ve=li.memoizedState;case 5:case 27:var Le=li,it=Le.type,wt=Le.pendingProps;if(ve?gy(ve):ey(it,wt)){Yi=0,ra=null;var jt=Le.sibling;if(jt!==null)li=jt;else{var nn=Le.return;nn!==null?(li=nn,cu(nn)):li=null}break t}}Yi=0,ra=null,vl(v,S,j,5);break;case 6:Yi=0,ra=null,vl(v,S,j,6);break;case 8:op(),wr=6;break e;default:throw Error(a(462))}}a_();break}catch(Ht){ka(v,Ht)}while(!0);return bs=Iu=null,Un.H=N,Un.A=k,mi=R,li!==null?0:(er=null,gi=0,re(),wr)}function a_(){for(;li!==null&&!Cu();)Pf(li)}function Pf(v){var S=ig(v.alternate,v,Ws);v.memoizedProps=v.pendingProps,S===null?cu(v):li=S}function Lf(v){var S=v,R=S.alternate;switch(S.tag){case 15:case 0:S=eg(R,S,S.pendingProps,S.type,void 0,gi);break;case 11:S=eg(R,S,S.pendingProps,S.type.render,S.ref,gi);break;case 5:_r(S);default:X(R,S),S=li=bd(S,Ws),S=ig(R,S,Ws)}v.memoizedProps=v.pendingProps,S===null?cu(v):li=S}function vl(v,S,R,N){bs=Iu=null,_r(S),Rd=null,Xa=0;var k=S.return;try{if(V0(v,k,S,R,gi)){wr=1,Qc(v,de(R,v.current)),li=null;return}}catch(j){if(k!==null)throw li=k,j;wr=1,Qc(v,de(R,v.current)),li=null;return}S.flags&32768?(Ri||N===1?v=!0:_s||(gi&536870912)!==0?v=!1:(Ss=v=!0,(N===2||N===3||N===6)&&(N=To.current,N!==null&&N.tag===13&&(N.flags|=16384))),X0(S,v)):cu(S)}function cu(v){var S=v;do{if((S.flags&32768)!==0){X0(S,Ss);return}v=S.return;var R=H(S.alternate,S,Ws);if(R!==null){li=R;return}if(S=S.sibling,S!==null){li=S;return}li=S=v}while(S!==null);wr===0&&(wr=5)}function X0(v,S){do{var R=V(v.alternate,v);if(R!==null){R.flags&=32767,li=R;return}if(R=v.return,R!==null&&(R.flags|=32768,R.subtreeFlags=0,R.deletions=null),!S&&(v=v.sibling,v!==null)){li=v;return}li=v=R}while(v!==null);wr=6,li=null}function lg(v,S,R,N,k,j,ve,Le,it,wt){var jt=Un.T,nn=Su();try{ao(2),Un.T=null,o_(v,S,R,N,nn,k,j,ve,Le,it,wt)}finally{Un.T=jt,ao(nn)}}function o_(v,S,R,N,k,j,ve,Le){do uu();while(Du!==null);if((mi&6)!==0)throw Error(a(327));var it=v.finishedWork;if(N=v.finishedLanes,it===null)return null;if(v.finishedWork=null,v.finishedLanes=0,it===v.current)throw Error(a(177));v.callbackNode=null,v.callbackPriority=0,v.cancelPendingCommit=null;var wt=it.lanes|it.childLanes;if(wt|=ks,J(v,N,wt,j,ve,Le),v===er&&(li=er=null,gi=0),(it.subtreeFlags&10256)===0&&(it.flags&10256)===0||Cc||(Cc=!0,Dg=wt,Ap=R,s_(jf,function(){return uu(),null})),R=(it.flags&15990)!==0,(it.subtreeFlags&15990)!==0||R?(R=Un.T,Un.T=null,j=Su(),ao(2),ve=mi,mi|=4,hn(v,it),Xo(it,v),RA(v.containerInfo),v.current=it,Ln(v,it.alternate,it),hc(),mi=ve,ao(j),Un.T=R):v.current=it,Cc?(Cc=!1,Du=v,eh=N):lp(v,wt),wt=v.pendingLanes,wt===0&&(Rl=null),Y(it.stateNode),st(v),S!==null)for(k=v.onRecoverableError,it=0;it<S.length;it++)wt=S[it],k(wt.value,{componentStack:wt.stack});return(eh&3)!==0&&uu(),wt=v.pendingLanes,(N&4194218)!==0&&(wt&42)!==0?v===wy?Pd++:(Pd=0,wy=v):Pd=0,ce(0),null}function lp(v,S){(v.pooledCacheLanes&=S)===0&&(S=v.pooledCache,S!=null&&(v.pooledCache=null,xo(S)))}function uu(){if(Du!==null){var v=Du,S=Dg;Dg=0;var R=ae(eh),N=32>R?32:R;R=Un.T;var k=Su();try{if(ao(N),Un.T=null,Du===null)var j=!1;else{N=Ap,Ap=null;var ve=Du,Le=eh;if(Du=null,eh=0,(mi&6)!==0)throw Error(a(331));var it=mi;if(mi|=4,tc(ve.current),fs(ve,ve.current,Le,N),mi=it,ce(0,!1),na&&typeof na.onPostCommitFiberRoot=="function")try{na.onPostCommitFiberRoot(Wf,ve)}catch{}j=!0}return j}finally{ao(k),Un.T=R,lp(v,S)}}return!1}function Nf(v,S,R){S=de(R,S),S=io(v.stateNode,S,2),v=We(v,S,2),v!==null&&($(v,2),st(v))}function Vi(v,S,R){if(v.tag===3)Nf(v,v,R);else for(;S!==null;){if(S.tag===3){Nf(S,v,R);break}else if(S.tag===1){var N=S.stateNode;if(typeof S.type.getDerivedStateFromError=="function"||typeof N.componentDidCatch=="function"&&(Rl===null||!Rl.has(N))){v=de(R,v),R=Kh(2),N=We(S,R,2),N!==null&&(Km(R,N,S,v),$(N,2),st(N));break}}S=S.return}}function du(v,S,R){var N=v.pingCache;if(N===null){N=v.pingCache=new wp;var k=new Set;N.set(S,k)}else k=N.get(S),k===void 0&&(k=new Set,N.set(S,k));k.has(R)||(Bd=!0,k.add(R),v=cp.bind(null,v,S,R),S.then(v,v))}function cp(v,S,R){var N=v.pingCache;N!==null&&N.delete(S),v.pingedLanes|=v.suspendedLanes&R,v.warmLanes&=~R,er===v&&(gi&R)===R&&(wr===4||wr===3&&(gi&62914560)===gi&&300>Jo()-Ey?(mi&2)===0&&lu(v,0):uo|=R,aa===gi&&(aa=0)),st(v)}function up(v,S){S===0&&(S=z()),v=qe(v,S),v!==null&&($(v,S),st(v))}function dp(v){var S=v.memoizedState,R=0;S!==null&&(R=S.retryLane),up(v,R)}function cg(v,S){var R=0;switch(v.tag){case 13:var N=v.stateNode,k=v.memoizedState;k!==null&&(R=k.retryLane);break;case 19:N=v.stateNode;break;case 22:N=v.stateNode._retryCache;break;default:throw Error(a(314))}N!==null&&N.delete(S),up(v,R)}function s_(v,S){return Cl(v,S)}function l_(v,S,R,N){this.tag=v,this.key=R,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=S,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=N,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rc(v){return v=v.prototype,!(!v||!v.isReactComponent)}function ac(v,S){var R=v.alternate;return R===null?(R=t(v.tag,S,v.key,v.mode),R.elementType=v.elementType,R.type=v.type,R.stateNode=v.stateNode,R.alternate=v,v.alternate=R):(R.pendingProps=S,R.type=v.type,R.flags=0,R.subtreeFlags=0,R.deletions=null),R.flags=v.flags&31457280,R.childLanes=v.childLanes,R.lanes=v.lanes,R.child=v.child,R.memoizedProps=v.memoizedProps,R.memoizedState=v.memoizedState,R.updateQueue=v.updateQueue,S=v.dependencies,R.dependencies=S===null?null:{lanes:S.lanes,firstContext:S.firstContext},R.sibling=v.sibling,R.index=v.index,R.ref=v.ref,R.refCleanup=v.refCleanup,R}function bd(v,S){v.flags&=31457282;var R=v.alternate;return R===null?(v.childLanes=0,v.lanes=S,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=R.childLanes,v.lanes=R.lanes,v.child=R.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=R.memoizedProps,v.memoizedState=R.memoizedState,v.updateQueue=R.updateQueue,v.type=R.type,S=R.dependencies,v.dependencies=S===null?null:{lanes:S.lanes,firstContext:S.firstContext}),v}function Sd(v,S,R,N,k,j){var ve=0;if(N=v,typeof v=="function")rc(v)&&(ve=1);else if(typeof v=="string")ve=Ko&&xa?ua(v,R,kr.current)?26:Cg(v)?27:5:Ko?ua(v,R,kr.current)?26:5:xa&&Cg(v)?27:5;else e:switch(v){case pu:return fu(R.children,k,j,S);case _d:ve=8,k|=24;break;case mu:return v=t(12,R,S,k|2),v.elementType=mu,v.lanes=j,v;case lc:return v=t(13,R,S,k),v.elementType=lc,v.lanes=j,v;case hp:return v=t(19,R,S,k),v.elementType=hp,v.lanes=j,v;case uc:return ug(R,k,j,S);default:if(typeof v=="object"&&v!==null)switch(v.$$typeof){case MA:case gu:ve=10;break e;case K0:ve=9;break e;case dg:ve=11;break e;case Uf:ve=14;break e;case cc:ve=16,N=null;break e}ve=29,R=Error(a(130,v===null?"null":typeof v,"")),N=null}return S=t(ve,R,S,k),S.elementType=v,S.type=N,S.lanes=j,S}function fu(v,S,R,N){return v=t(7,v,N,S),v.lanes=R,v}function ug(v,S,R,N){v=t(22,v,N,S),v.elementType=uc,v.lanes=R;var k={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var j=k._current;if(j===null)throw Error(a(456));if((k._pendingVisibility&2)===0){var ve=qe(j,2);ve!==null&&(k._pendingVisibility|=2,ur(ve,j,2))}},attach:function(){var j=k._current;if(j===null)throw Error(a(456));if((k._pendingVisibility&2)!==0){var ve=qe(j,2);ve!==null&&(k._pendingVisibility&=-3,ur(ve,j,2))}}};return v.stateNode=k,v}function fp(v,S,R){return v=t(6,v,null,S),v.lanes=R,v}function Eo(v,S,R){return S=t(4,v.children!==null?v.children:[],v.key,S),S.lanes=R,S.stateNode={containerInfo:v.containerInfo,pendingChildren:null,implementation:v.implementation},S}function yl(v,S,R,N,k,j,ve,Le){this.tag=1,this.containerInfo=v,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Gf,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=U(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=U(0),this.hiddenUpdates=U(null),this.identifierPrefix=N,this.onUncaughtError=k,this.onCaughtError=j,this.onRecoverableError=ve,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Le,this.incompleteTransitions=new Map}function oc(v,S,R,N,k,j,ve,Le,it,wt,jt,nn){return v=new yl(v,S,R,ve,Le,it,wt,nn),S=1,j===!0&&(S|=24),j=t(3,null,null,S),v.current=j,j.stateNode=v,S=_o(),S.refCount++,v.pooledCache=S,S.refCount++,j.memoizedState={element:N,isDehydrated:R,cache:S},ot(j),v}function Y0(v){return v?(v=Md,v):Md}function sc(v){var S=v._reactInternals;if(S===void 0)throw typeof v.render=="function"?Error(a(188)):(v=Object.keys(v).join(","),Error(a(268,v)));return v=E(S),v=v!==null?c(v):null,v===null?null:xd(v.stateNode)}function bl(v,S,R,N,k,j){k=Y0(k),N.context===null?N.context=k:N.pendingContext=k,N=Ct(S),N.payload={element:R},j=j===void 0?null:j,j!==null&&(N.callback=j),R=We(v,N,S),R!==null&&(ur(R,v,S),rt(R,v,S))}function ea(v,S){if(v=v.memoizedState,v!==null&&v.dehydrated!==null){var R=v.retryLane;v.retryLane=R!==0&&R<S?R:S}}function zf(v,S){ea(v,S),(v=v.alternate)&&ea(v,S)}var pi={},AA=M0(),qo=vO(),Fr=Object.assign,q0=Symbol.for("react.element"),hu=Symbol.for("react.transitional.element"),Sl=Symbol.for("react.portal"),pu=Symbol.for("react.fragment"),_d=Symbol.for("react.strict_mode"),mu=Symbol.for("react.profiler"),MA=Symbol.for("react.provider"),K0=Symbol.for("react.consumer"),gu=Symbol.for("react.context"),dg=Symbol.for("react.forward_ref"),lc=Symbol.for("react.suspense"),hp=Symbol.for("react.suspense_list"),Uf=Symbol.for("react.memo"),cc=Symbol.for("react.lazy"),uc=Symbol.for("react.offscreen"),si=Symbol.for("react.memo_cache_sentinel"),Xi=Symbol.iterator,ta=Symbol.for("react.client.reference"),Un=AA.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,vu,yu,Ff=!1,bu=Array.isArray,Hf=e.rendererVersion,TA=e.rendererPackageName,Br=e.extraDevToolsConfig,xd=e.getPublicInstance,J0=e.getRootHostContext,c_=e.getChildHostContext,u_=e.prepareForCommit,RA=e.resetAfterCommit,Q0=e.createInstance,pp=e.appendInitialChild,fg=e.finalizeInitialChildren,Oa=e.shouldSetTextContent,Hr=e.createTextInstance,hg=e.scheduleTimeout,mp=e.cancelTimeout,Gf=e.noTimeout,zs=e.isPrimaryRenderer;e.warnsIfNotActing;var Cr=e.supportsMutation,Us=e.supportsPersistence,wo=e.supportsHydration,pg=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var d_=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var ao=e.setCurrentUpdatePriority,Su=e.getCurrentUpdatePriority,f_=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var h_=e.shouldAttemptEagerTransition,p_=e.detachDeletedInstance;e.requestPostPaintCallback;var Z0=e.maySuspendCommit,ey=e.preloadInstance,OA=e.startSuspendingCommit,ty=e.suspendInstance,m_=e.waitForCommitToBeReady,Cd=e.NotPendingTransition,dc=e.HostTransitionContext,g_=e.resetFormInstance;e.bindToConsole;var v_=e.supportsMicrotasks,y_=e.scheduleMicrotask,kf=e.supportsTestSelectors,b_=e.findFiberRoot,IA=e.getBoundingRect,S_=e.getTextContent,_l=e.isHiddenSubtree,__=e.matchAccessibilityRole,mg=e.setFocusIfFocusable,gg=e.setupIntersectionObserver,x_=e.appendChild,ny=e.appendChildToContainer,C_=e.commitTextUpdate,E_=e.commitMount,w_=e.commitUpdate,A_=e.insertBefore,iy=e.insertInContainerBefore,M_=e.removeChild,T_=e.removeChildFromContainer,vg=e.resetTextContent,R_=e.hideInstance,O_=e.hideTextInstance,BA=e.unhideInstance,ry=e.unhideTextInstance,I_=e.clearContainer,B_=e.cloneInstance,yg=e.createContainerChildSet,ay=e.appendChildToContainerChildSet,D_=e.finalizeContainerChildren,P_=e.replaceContainerChildren,L_=e.cloneHiddenInstance,oy=e.cloneHiddenTextInstance,Ed=e.isSuspenseInstancePending,gp=e.isSuspenseInstanceFallback,bg=e.getSuspenseInstanceFallbackErrorDetails,N_=e.registerSuspenseInstanceRetry,z_=e.canHydrateFormStateMarker,xl=e.isFormStateMarkerMatching,_u=e.getNextHydratableSibling,fc=e.getFirstHydratableChild,wd=e.getFirstHydratableChildWithinContainer,sy=e.getFirstHydratableChildWithinSuspenseInstance,ly=e.canHydrateInstance,U_=e.canHydrateTextInstance,F_=e.canHydrateSuspenseInstance,Ad=e.hydrateInstance,Sg=e.hydrateTextInstance,H_=e.hydrateSuspenseInstance,G_=e.getNextHydratableInstanceAfterSuspenseInstance,k_=e.commitHydratedContainer,_g=e.commitHydratedSuspenseInstance,$_=e.clearSuspenseBoundary,cy=e.clearSuspenseBoundaryFromContainer,uy=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var V_=e.validateHydratableInstance,DA=e.validateHydratableTextInstance,Ko=e.supportsResources,ua=e.isHostHoistableType,da=e.getHoistableRoot,dy=e.getResource,fy=e.acquireResource,hy=e.releaseResource,j_=e.hydrateHoistable,py=e.mountHoistable,$f=e.unmountHoistable,my=e.createHoistableInstance,W_=e.prepareToCommitHoistables,X_=e.mayResourceSuspendCommit,gy=e.preloadResource,vy=e.suspendResource,xa=e.supportsSingletons,xg=e.resolveSingletonInstance,Y_=e.clearSingleton,yy=e.acquireSingletonInstance,by=e.releaseSingletonInstance,Cg=e.isHostSingletonType,Eg=[],xu=-1,Md={},Gr=Math.clz32?Math.clz32:T,Sy=Math.log,PA=Math.LN2,vp=128,Vf=4194304,Cl=qo.unstable_scheduleCallback,Fs=qo.unstable_cancelCallback,Cu=qo.unstable_shouldYield,hc=qo.unstable_requestPaint,Jo=qo.unstable_now,wg=qo.unstable_ImmediatePriority,yp=qo.unstable_UserBlockingPriority,jf=qo.unstable_NormalPriority,Td=qo.unstable_IdlePriority,$a=qo.log,Ag=qo.unstable_setDisableYieldValue,Wf=null,na=null,oo=typeof Object.is=="function"?Object.is:ee,Mg=new WeakMap,Qo=[],Zo=0,Eu=null,Xf=0,Ao=[],Va=0,Hs=null,El=1,wl="",kr=g(null),ms=g(null),pc=g(null),bp=g(null),$r=null,Qi=null,Ri=!1,gs=null,Gs=!1,Sp=Error(a(519)),Mo=[],mc=0,ks=0,pr=null,wu=null,Tg=!1,Vr=!1,Rg=!1,Yf=0,qf=null,Og=0,mr=0,Ca=null,ja=!1,Ig=!1,q_=Object.prototype.hasOwnProperty,_p=Error(a(460)),xp=Error(a(474)),so={then:function(){}},Wa=null,Rd=null,Xa=0,Au=yn(!0),Al=yn(!1),$s=g(null),Vs=g(0),To=g(null),vs=null,dr=g(0),gc=0,Xn=null,zi=null,Er=null,vc=!1,Od=!1,Mu=!1,Tu=0,Kf=0,yc=null,K_=0,_y=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},jr={readContext:la,use:Ze,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useLayoutEffect:un,useInsertionEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useSyncExternalStore:un,useId:un};jr.useCacheRefresh=un,jr.useMemoCache=un,jr.useHostTransitionStatus=un,jr.useFormState=un,jr.useActionState=un,jr.useOptimistic=un;var bc={readContext:la,use:Ze,useCallback:function(v,S){return le().memoizedState=[v,S===void 0?null:S],v},useContext:la,useEffect:Ma,useImperativeHandle:function(v,S,R){R=R!=null?R.concat([v]):null,bo(4194308,4,xr.bind(null,S,v),R)},useLayoutEffect:function(v,S){return bo(4194308,4,v,S)},useInsertionEffect:function(v,S){bo(4,2,v,S)},useMemo:function(v,S){var R=le();S=S===void 0?null:S;var N=v();if(Mu){K(!0);try{v()}finally{K(!1)}}return R.memoizedState=[N,S],N},useReducer:function(v,S,R){var N=le();if(R!==void 0){var k=R(S);if(Mu){K(!0);try{R(S)}finally{K(!1)}}}else k=S;return N.memoizedState=N.baseState=k,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:v,lastRenderedState:k},N.queue=v,v=v.dispatch=Ps.bind(null,Xn,v),[N.memoizedState,v]},useRef:function(v){var S=le();return v={current:v},S.memoizedState=v},useState:function(v){v=In(v);var S=v.queue,R=Vo.bind(null,Xn,S);return S.dispatch=R,[v.memoizedState,R]},useDebugValue:Ua,useDeferredValue:function(v,S){var R=le();return Ds(R,v,S)},useTransition:function(){var v=In(!1);return v=jl.bind(null,Xn,v.queue,!0,!1),le().memoizedState=v,[!1,v]},useSyncExternalStore:function(v,S,R){var N=Xn,k=le();if(Ri){if(R===void 0)throw Error(a(407));R=R()}else{if(R=S(),er===null)throw Error(a(349));(gi&60)!==0||dn(N,S,R)}k.memoizedState=R;var j={value:R,getSnapshot:S};return k.queue=j,Ma(Gn.bind(null,N,j,v),[v]),N.flags|=2048,Ir(9,on.bind(null,N,j,R,S),{destroy:void 0},null),R},useId:function(){var v=le(),S=er.identifierPrefix;if(Ri){var R=wl,N=El;R=(N&~(1<<32-Gr(N)-1)).toString(32)+R,S=":"+S+"R"+R,R=Tu++,0<R&&(S+="H"+R.toString(32)),S+=":"}else R=K_++,S=":"+S+"r"+R.toString(32)+":";return v.memoizedState=S},useCacheRefresh:function(){return le().memoizedState=Hi.bind(null,Xn)}};bc.useMemoCache=Ve,bc.useHostTransitionStatus=Sn,bc.useFormState=An,bc.useActionState=An,bc.useOptimistic=function(v){var S=le();S.memoizedState=S.baseState=v;var R={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return S.queue=R,S=jo.bind(null,Xn,!0,R),R.dispatch=S,[v,S]};var lo={readContext:la,use:Ze,useCallback:va,useContext:la,useEffect:Bs,useImperativeHandle:$o,useInsertionEffect:cd,useLayoutEffect:Jc,useMemo:Ta,useReducer:Vt,useRef:Wi,useState:function(){return Vt(Rt)},useDebugValue:Ua,useDeferredValue:function(v,S){var R=Ue();return So(R,zi.memoizedState,v,S)},useTransition:function(){var v=Vt(Rt)[0],S=Ue().memoizedState;return[typeof v=="boolean"?v:at(v),S]},useSyncExternalStore:gn,useId:Mi};lo.useCacheRefresh=Ci,lo.useMemoCache=Ve,lo.useHostTransitionStatus=Sn,lo.useFormState=xi,lo.useActionState=xi,lo.useOptimistic=function(v,S){var R=Ue();return bn(R,zi,v,S)};var Ru={readContext:la,use:Ze,useCallback:va,useContext:la,useEffect:Bs,useImperativeHandle:$o,useInsertionEffect:cd,useLayoutEffect:Jc,useMemo:Ta,useReducer:Wt,useRef:Wi,useState:function(){return Wt(Rt)},useDebugValue:Ua,useDeferredValue:function(v,S){var R=Ue();return zi===null?Ds(R,v,S):So(R,zi.memoizedState,v,S)},useTransition:function(){var v=Wt(Rt)[0],S=Ue().memoizedState;return[typeof v=="boolean"?v:at(v),S]},useSyncExternalStore:gn,useId:Mi};Ru.useCacheRefresh=Ci,Ru.useMemoCache=Ve,Ru.useHostTransitionStatus=Sn,Ru.useFormState=Ki,Ru.useActionState=Ki,Ru.useOptimistic=function(v,S){var R=Ue();return zi!==null?bn(R,zi,v,S):(R.baseState=v,[v,R.queue.dispatch])};var Jf={isMounted:function(v){return(v=v._reactInternals)?b(v)===v:!1},enqueueSetState:function(v,S,R){v=v._reactInternals;var N=Ga(),k=Ct(N);k.payload=S,R!=null&&(k.callback=R),S=We(v,k,N),S!==null&&(ur(S,v,N),rt(S,v,N))},enqueueReplaceState:function(v,S,R){v=v._reactInternals;var N=Ga(),k=Ct(N);k.tag=1,k.payload=S,R!=null&&(k.callback=R),S=We(v,k,N),S!==null&&(ur(S,v,N),rt(S,v,N))},enqueueForceUpdate:function(v,S){v=v._reactInternals;var R=Ga(),N=Ct(R);N.tag=2,S!=null&&(N.callback=S),S=We(v,N,R),S!==null&&(ur(S,v,R),rt(S,v,R))}},Ou=typeof reportError=="function"?reportError:function(v){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var S=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof v=="object"&&v!==null&&typeof v.message=="string"?String(v.message):String(v),error:v});if(!window.dispatchEvent(S))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",v);return}console.error(v)},xy=Error(a(461)),ia=!1,Cp={dehydrated:null,treeContext:null,retryLane:0},ys=g(null),Iu=null,bs=null,Ep=typeof AbortController<"u"?AbortController:function(){var v=[],S=this.signal={aborted:!1,addEventListener:function(R,N){v.push(N)}};this.abort=function(){S.aborted=!0,v.forEach(function(R){return R()})}},Tr=qo.unstable_scheduleCallback,LA=qo.unstable_NormalPriority,Dr={$$typeof:gu,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Cy=Un.S;Un.S=function(v,S){typeof S=="object"&&S!==null&&typeof S.then=="function"&&lt(v,S),Cy!==null&&Cy(v,S)};var Id=g(null),Sc=!1,Yn=!1,Zi=!1,fi=typeof WeakSet=="function"?WeakSet:Set,On=null,ar=!1,Ui=null,Wr=!1,Ya=null,Bu=8192,_c={getCacheForType:function(v){var S=la(Dr),R=S.data.get(v);return R===void 0&&(R=v(),S.data.set(v,R)),R}},gr=0,js=1,Ml=2,Qf=3,co=4;if(typeof Symbol=="function"&&Symbol.for){var Tl=Symbol.for;gr=Tl("selector.component"),js=Tl("selector.has_pseudo_class"),Ml=Tl("selector.role"),Qf=Tl("selector.test_id"),co=Tl("selector.text")}var wp=typeof WeakMap=="function"?WeakMap:Map,mi=0,er=null,li=null,gi=0,Yi=0,ra=null,Ss=!1,_s=!1,Bd=!1,Ws=0,wr=0,xs=0,xc=0,uo=0,es=0,aa=0,Zf=null,Cs=null,Bg=!1,Ey=0,ts=1/0,Dd=null,Rl=null,Cc=!1,Du=null,eh=0,Dg=0,Ap=null,Pd=0,wy=null;return pi.attemptContinuousHydration=function(v){if(v.tag===13){var S=qe(v,67108864);S!==null&&ur(S,v,67108864),zf(v,67108864)}},pi.attemptHydrationAtCurrentPriority=function(v){if(v.tag===13){var S=Ga(),R=qe(v,S);R!==null&&ur(R,v,S),zf(v,S)}},pi.attemptSynchronousHydration=function(v){switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var S=M(v.pendingLanes);if(S!==0){for(v.pendingLanes|=2,v.entangledLanes|=2;S;){var R=1<<31-Gr(S);v.entanglements[1]|=R,S&=~R}st(v),(mi&6)===0&&(ts=Jo()+500,ce(0))}}break;case 13:S=qe(v,2),S!==null&&ur(S,v,2),W0(),zf(v,2)}},pi.batchedUpdates=function(v,S){return v(S)},pi.createComponentSelector=function(v){return{$$typeof:gr,value:v}},pi.createContainer=function(v,S,R,N,k,j,ve,Le,it,wt){return oc(v,S,!1,null,R,N,j,ve,Le,it,wt,null)},pi.createHasPseudoClassSelector=function(v){return{$$typeof:js,value:v}},pi.createHydrationContainer=function(v,S,R,N,k,j,ve,Le,it,wt,jt,nn,Ht){return v=oc(R,N,!0,v,k,j,Le,it,wt,jt,nn,Ht),v.context=Y0(null),R=v.current,N=Ga(),k=Ct(N),k.callback=S??null,We(R,k,N),v.current.lanes=N,$(v,N),st(v),v},pi.createPortal=function(v,S,R){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Sl,key:N==null?null:""+N,children:v,containerInfo:S,implementation:R}},pi.createRoleSelector=function(v){return{$$typeof:Ml,value:v}},pi.createTestNameSelector=function(v){return{$$typeof:Qf,value:v}},pi.createTextSelector=function(v){return{$$typeof:co,value:v}},pi.defaultOnCaughtError=function(v){console.error(v)},pi.defaultOnRecoverableError=function(v){Ou(v)},pi.defaultOnUncaughtError=function(v){Ou(v)},pi.deferredUpdates=function(v){var S=Un.T,R=Su();try{return ao(32),Un.T=null,v()}finally{ao(R),Un.T=S}},pi.discreteUpdates=function(v,S,R,N,k){var j=Un.T,ve=Su();try{return ao(2),Un.T=null,v(S,R,N,k)}finally{ao(ve),Un.T=j,mi===0&&(ts=Jo()+500)}},pi.findAllNodes=su,pi.findBoundingRects=function(v,S){if(!kf)throw Error(a(363));S=su(v,S),v=[];for(var R=0;R<S.length;R++)v.push(IA(S[R]));for(S=v.length-1;0<S;S--){R=v[S];for(var N=R.x,k=N+R.width,j=R.y,ve=j+R.height,Le=S-1;0<=Le;Le--)if(S!==Le){var it=v[Le],wt=it.x,jt=wt+it.width,nn=it.y,Ht=nn+it.height;if(N>=wt&&j>=nn&&k<=jt&&ve<=Ht){v.splice(S,1);break}else if(N!==wt||R.width!==it.width||Ht<j||nn>ve){if(!(j!==nn||R.height!==it.height||jt<N||wt>k)){wt>N&&(it.width+=wt-N,it.x=N),jt<k&&(it.width=k-wt),v.splice(S,1);break}}else{nn>j&&(it.height+=nn-j,it.y=j),Ht<ve&&(it.height=ve-nn),v.splice(S,1);break}}}return v},pi.findHostInstance=sc,pi.findHostInstanceWithNoPortals=function(v){return v=E(v),v=v!==null?p(v):null,v===null?null:xd(v.stateNode)},pi.findHostInstanceWithWarning=function(v){return sc(v)},pi.flushPassiveEffects=uu,pi.flushSyncFromReconciler=function(v){var S=mi;mi|=1;var R=Un.T,N=Su();try{if(ao(2),Un.T=null,v)return v()}finally{ao(N),Un.T=R,mi=S,(mi&6)===0&&ce(0)}},pi.flushSyncWork=W0,pi.focusWithin=function(v,S){if(!kf)throw Error(a(363));for(v=ou(v),S=vd(v,S),S=Array.from(S),v=0;v<S.length;){var R=S[v++],N=R.tag;if(!_l(R)){if((N===5||N===26||N===27)&&mg(R.stateNode))return!0;for(R=R.child;R!==null;)S.push(R),R=R.sibling}}return!1},pi.getFindAllNodesFailureDescription=function(v,S){if(!kf)throw Error(a(363));var R=0,N=[];v=[ou(v),0];for(var k=0;k<v.length;){var j=v[k++],ve=j.tag,Le=v[k++],it=S[Le];if((ve!==5&&ve!==26&&ve!==27||!_l(j))&&(sg(j,it)&&(N.push(Co(it)),Le++,Le>R&&(R=Le)),Le<S.length))for(j=j.child;j!==null;)v.push(j,Le),j=j.sibling}if(R<S.length){for(v=[];R<S.length;R++)v.push(Co(S[R]));return`findAllNodes was able to match part of the selector:
  `+(N.join(" > ")+`

No matching component was found for:
  `)+v.join(" > ")}return null},pi.getPublicRootInstance=function(v){if(v=v.current,!v.child)return null;switch(v.child.tag){case 27:case 5:return xd(v.child.stateNode);default:return v.child.stateNode}},pi.injectIntoDevTools=function(){var v={bundleType:0,version:Hf,rendererPackageName:TA,currentDispatcherRef:Un,findFiberByHostInstance:pg,reconcilerVersion:"19.0.0"};if(Br!==null&&(v.rendererConfig=Br),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")v=!1;else{var S=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(S.isDisabled||!S.supportsFiber)v=!0;else{try{Wf=S.inject(v),na=S}catch{}v=!!S.checkDCE}}return v},pi.isAlreadyRendering=function(){return!1},pi.observeVisibleRects=function(v,S,R,N){if(!kf)throw Error(a(363));v=su(v,S);var k=gg(v,R,N).disconnect;return{disconnect:function(){k()}}},pi.shouldError=function(){return null},pi.shouldSuspend=function(){return!1},pi.startHostTransition=function(v,S,R,N){if(v.tag!==5)throw Error(a(476));var k=tn(v).queue;jl(v,k,S,Cd,R===null?r:function(){var j=tn(v).next.queue;return Fa(v,j,{},Ga()),R(N)})},pi.updateContainer=function(v,S,R,N){var k=S.current,j=Ga();return bl(k,j,v,S,R,N),j},pi.updateContainerSync=function(v,S,R,N){return S.tag===0&&uu(),bl(S.current,2,v,S,R,N),2},pi},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})}(jT)),jT.exports}var BN;function pfe(){return BN||(BN=1,VT.exports=hfe()),VT.exports}var mfe=pfe();const gfe=Fm(mfe);var DN=vO();const vfe=n=>typeof n=="object"&&typeof n.then=="function",bm=[];function K6(n,e,t=(r,a)=>r===a){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let a=0;a<r;a++)if(!t(n[a],e[a]))return!1;return!0}function J6(n,e=null,t=!1,r={}){e===null&&(e=[n]);for(const o of bm)if(K6(e,o.keys,o.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(o,"error"))throw o.error;if(Object.prototype.hasOwnProperty.call(o,"response"))return r.lifespan&&r.lifespan>0&&(o.timeout&&clearTimeout(o.timeout),o.timeout=setTimeout(o.remove,r.lifespan)),o.response;if(!t)throw o.promise}const a={keys:e,equal:r.equal,remove:()=>{const o=bm.indexOf(a);o!==-1&&bm.splice(o,1)},promise:(vfe(n)?n:n(...e)).then(o=>{a.response=o,r.lifespan&&r.lifespan>0&&(a.timeout=setTimeout(a.remove,r.lifespan))}).catch(o=>a.error=o)};if(bm.push(a),!t)throw a.promise}const yfe=(n,e,t)=>J6(n,e,!1,t),bfe=(n,e,t)=>void J6(n,e,!0,t),Sfe=n=>{if(n===void 0||n.length===0)bm.splice(0,bm.length);else{const e=bm.find(t=>K6(n,t.keys,t.equal));e&&e.remove()}};function rB(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=e?n.return:n.child;for(;r;){const a=rB(r,e,t);if(a)return a;r=e?null:r.sibling}}function Q6(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const aB=Q6(w.createContext(null));let Z6=class extends w.Component{render(){return w.createElement(aB.Provider,{value:this._reactInternals},this.props.children)}};function eG(){const n=w.useContext(aB);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=w.useId();return w.useMemo(()=>{for(const t of[n,n==null?void 0:n.alternate]){if(!t)continue;const r=rB(t,!1,a=>{let o=a.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(r)return r}},[n,e])}const _fe=Symbol.for("react.context"),xfe=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===_fe;function Cfe(){const n=eG(),[e]=w.useState(()=>new Map);e.clear();let t=n;for(;t;){const r=t.type;xfe(r)&&r!==aB&&!e.has(r)&&e.set(r,w.use(Q6(r))),t=t.return}return e}function Efe(){const n=Cfe();return w.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>w.createElement(e,null,w.createElement(t.Provider,{...r,value:n.get(t)})),e=>w.createElement(Z6,{...e})),[n])}function tG(n){let e=n.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const nG=n=>n&&n.isOrthographicCamera,wfe=n=>n&&n.hasOwnProperty("current"),Afe=n=>n!=null&&(typeof n=="string"||typeof n=="number"||n.isColor),JS=((n,e)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?w.useLayoutEffect:w.useEffect;function iG(n){const e=w.useRef(n);return JS(()=>void(e.current=n),[n]),e}function Mfe(){const n=eG(),e=Efe();return w.useMemo(()=>({children:t})=>{const a=!!rB(n,!0,o=>o.type===w.StrictMode)?w.StrictMode:w.Fragment;return ke.jsx(a,{children:ke.jsx(e,{children:t})})},[n,e])}function Tfe({set:n}){return JS(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const Rfe=(n=>(n=class extends w.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function rG(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}function cv(n){var e;return(e=n.__r3f)==null?void 0:e.root.getState()}const Pr={obj:n=>n===Object(n)&&!Pr.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,nul:n=>n===null,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:a=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Pr.str(n)||Pr.num(n)||Pr.boo(n))return n===e;const o=Pr.obj(n);if(o&&r==="reference")return n===e;const l=Pr.arr(n);if(l&&t==="reference")return n===e;if((l||o)&&n===e)return!0;let s;for(s in n)if(!(s in e))return!1;if(o&&t==="shallow"&&r==="shallow"){for(s in a?e:n)if(!Pr.equ(n[s],e[s],{strict:a,objects:"reference"}))return!1}else for(s in a?e:n)if(n[s]!==e[s])return!1;if(Pr.und(s)){if(l&&n.length===0&&e.length===0||o&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function Ofe(n){const e={nodes:{},materials:{},meshes:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material),t.isMesh&&!e.meshes[t.name]&&(e.meshes[t.name]=t)}),e}function Ife(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const e in n){const t=n[e];(t==null?void 0:t.type)!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const aG=["children","key","ref"];function Bfe(n){const e={};for(const t in n)aG.includes(t)||(e[t]=n[t]);return e}function UE(n,e,t,r){const a=n;let o=a==null?void 0:a.__r3f;return o||(o={root:e,type:t,parent:null,children:[],props:Bfe(r),object:a,eventCount:0,handlers:{},isHidden:!1},a&&(a.__r3f=o)),o}function bS(n,e){let t=n[e];if(!e.includes("-"))return{root:n,key:e,target:t};t=n;for(const a of e.split("-")){var r;e=a,n=t,t=(r=t)==null?void 0:r[e]}return{root:n,key:e,target:t}}const PN=/-\d+$/;function FE(n,e){if(Pr.str(e.props.attach)){if(PN.test(e.props.attach)){const a=e.props.attach.replace(PN,""),{root:o,key:l}=bS(n.object,a);Array.isArray(o[l])||(o[l]=[])}const{root:t,key:r}=bS(n.object,e.props.attach);e.previousAttach=t[r],t[r]=e.object}else Pr.fun(e.props.attach)&&(e.previousAttach=e.props.attach(n.object,e.object))}function HE(n,e){if(Pr.str(e.props.attach)){const{root:t,key:r}=bS(n.object,e.props.attach),a=e.previousAttach;a===void 0?delete t[r]:t[r]=a}else e.previousAttach==null||e.previousAttach(n.object,e.object);delete e.previousAttach}const $2=[...aG,"args","dispose","attach","object","onUpdate","dispose"],LN=new Map;function Dfe(n){let e=LN.get(n.constructor);try{e||(e=new n.constructor,LN.set(n.constructor,e))}catch{}return e}function Pfe(n,e){const t={};for(const r in e)if(!$2.includes(r)&&!Pr.equ(e[r],n.props[r])){t[r]=e[r];for(const a in e)a.startsWith(`${r}-`)&&(t[a]=e[a])}for(const r in n.props){if($2.includes(r)||e.hasOwnProperty(r))continue;const{root:a,key:o}=bS(n.object,r);if(a.constructor&&a.constructor.length===0){const l=Dfe(a);Pr.und(l)||(t[o]=l[o])}else t[o]=0}return t}const Lfe=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],Nfe=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function Ah(n,e){var t;const r=n.__r3f,a=r&&tG(r).getState(),o=r==null?void 0:r.eventCount;for(const s in e){let u=e[s];if($2.includes(s))continue;if(r&&Nfe.test(s)){typeof u=="function"?r.handlers[s]=u:delete r.handlers[s],r.eventCount=Object.keys(r.handlers).length;continue}if(u===void 0)continue;let{root:f,key:m,target:b}=bS(n,s);if(b instanceof S0&&u instanceof S0)b.mask=u.mask;else if(b instanceof en&&Afe(u))b.set(u);else if(b!==null&&typeof b=="object"&&typeof b.set=="function"&&typeof b.copy=="function"&&u!=null&&u.constructor&&b.constructor===u.constructor)b.copy(u);else if(b!==null&&typeof b=="object"&&typeof b.set=="function"&&Array.isArray(u))typeof b.fromArray=="function"?b.fromArray(u):b.set(...u);else if(b!==null&&typeof b=="object"&&typeof b.set=="function"&&typeof u=="number")typeof b.setScalar=="function"?b.setScalar(u):b.set(u);else{var l;f[m]=u,a&&!a.linear&&Lfe.includes(m)&&(l=f[m])!=null&&l.isTexture&&f[m].format===zo&&f[m].type===Vc&&(f[m].colorSpace=Lo)}}if(r!=null&&r.parent&&a!=null&&a.internal&&(t=r.object)!=null&&t.isObject3D&&o!==r.eventCount){const s=r.object,u=a.internal.interaction.indexOf(s);u>-1&&a.internal.interaction.splice(u,1),r.eventCount&&s.raycast!==null&&a.internal.interaction.push(s)}return r&&r.props.attach===void 0&&(r.object.isBufferGeometry?r.props.attach="geometry":r.object.isMaterial&&(r.props.attach="material")),r&&k0(r),n}function k0(n){var e;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const t=(e=n.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function zfe(n,e){n.manual||(nG(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix())}const os=n=>n==null?void 0:n.isObject3D;function SC(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function oG(n,e,t,r){const a=t.get(e);a&&(t.delete(e),t.size===0&&(n.delete(r),a.target.releasePointerCapture(r)))}function Ufe(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,a)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(a)}),t.capturedMap.forEach((r,a)=>{oG(t.capturedMap,e,r,a)})}function Ffe(n){function e(u){const{internal:f}=n.getState(),m=u.offsetX-f.initialClick[0],b=u.offsetY-f.initialClick[1];return Math.round(Math.sqrt(m*m+b*b))}function t(u){return u.filter(f=>["Move","Over","Enter","Out","Leave"].some(m=>{var b;return(b=f.__r3f)==null?void 0:b.handlers["onPointer"+m]}))}function r(u,f){const m=n.getState(),b=new Set,_=[],E=f?f(m.internal.interaction):m.internal.interaction;for(let y=0;y<E.length;y++){const C=cv(E[y]);C&&(C.raycaster.camera=void 0)}m.previousRoot||m.events.compute==null||m.events.compute(u,m);function c(y){const C=cv(y);if(!C||!C.events.enabled||C.raycaster.camera===null)return[];if(C.raycaster.camera===void 0){var T;C.events.compute==null||C.events.compute(u,C,(T=C.previousRoot)==null?void 0:T.getState()),C.raycaster.camera===void 0&&(C.raycaster.camera=null)}return C.raycaster.camera?C.raycaster.intersectObject(y,!0):[]}let p=E.flatMap(c).sort((y,C)=>{const T=cv(y.object),M=cv(C.object);return!T||!M?y.distance-C.distance:M.events.priority-T.events.priority||y.distance-C.distance}).filter(y=>{const C=SC(y);return b.has(C)?!1:(b.add(C),!0)});m.events.filter&&(p=m.events.filter(p,m));for(const y of p){let C=y.object;for(;C;){var g;(g=C.__r3f)!=null&&g.eventCount&&_.push({...y,eventObject:C}),C=C.parent}}if("pointerId"in u&&m.internal.capturedMap.has(u.pointerId))for(let y of m.internal.capturedMap.get(u.pointerId).values())b.has(SC(y.intersection))||_.push(y.intersection);return _}function a(u,f,m,b){if(u.length){const _={stopped:!1};for(const E of u){let c=cv(E.object);if(c||E.object.traverseAncestors(p=>{const g=cv(p);if(g)return c=g,!1}),c){const{raycaster:p,pointer:g,camera:y,internal:C}=c,T=new be(g.x,g.y,0).unproject(y),M=z=>{var U,$;return(U=($=C.capturedMap.get(z))==null?void 0:$.has(E.eventObject))!=null?U:!1},O=z=>{const U={intersection:E,target:f.target};C.capturedMap.has(z)?C.capturedMap.get(z).set(E.eventObject,U):C.capturedMap.set(z,new Map([[E.eventObject,U]])),f.target.setPointerCapture(z)},B=z=>{const U=C.capturedMap.get(z);U&&oG(C.capturedMap,E.eventObject,U,z)};let D={};for(let z in f){let U=f[z];typeof U!="function"&&(D[z]=U)}let F={...E,...D,pointer:g,intersections:u,stopped:_.stopped,delta:m,unprojectedPoint:T,ray:p.ray,camera:y,stopPropagation(){const z="pointerId"in f&&C.capturedMap.get(f.pointerId);if((!z||z.has(E.eventObject))&&(F.stopped=_.stopped=!0,C.hovered.size&&Array.from(C.hovered.values()).find(U=>U.eventObject===E.eventObject))){const U=u.slice(0,u.indexOf(E));o([...U,E])}},target:{hasPointerCapture:M,setPointerCapture:O,releasePointerCapture:B},currentTarget:{hasPointerCapture:M,setPointerCapture:O,releasePointerCapture:B},nativeEvent:f};if(b(F),_.stopped===!0)break}}}return u}function o(u){const{internal:f}=n.getState();for(const m of f.hovered.values())if(!u.length||!u.find(b=>b.object===m.object&&b.index===m.index&&b.instanceId===m.instanceId)){const _=m.eventObject.__r3f;if(f.hovered.delete(SC(m)),_!=null&&_.eventCount){const E=_.handlers,c={...m,intersections:u};E.onPointerOut==null||E.onPointerOut(c),E.onPointerLeave==null||E.onPointerLeave(c)}}}function l(u,f){for(let m=0;m<f.length;m++){const b=f[m].__r3f;b==null||b.handlers.onPointerMissed==null||b.handlers.onPointerMissed(u)}}function s(u){switch(u){case"onPointerLeave":case"onPointerCancel":return()=>o([]);case"onLostPointerCapture":return f=>{const{internal:m}=n.getState();"pointerId"in f&&m.capturedMap.has(f.pointerId)&&requestAnimationFrame(()=>{m.capturedMap.has(f.pointerId)&&(m.capturedMap.delete(f.pointerId),o([]))})}}return function(m){const{onPointerMissed:b,internal:_}=n.getState();_.lastEvent.current=m;const E=u==="onPointerMove",c=u==="onClick"||u==="onContextMenu"||u==="onDoubleClick",g=r(m,E?t:void 0),y=c?e(m):0;u==="onPointerDown"&&(_.initialClick=[m.offsetX,m.offsetY],_.initialHits=g.map(T=>T.eventObject)),c&&!g.length&&y<=2&&(l(m,_.interaction),b&&b(m)),E&&o(g);function C(T){const M=T.eventObject,O=M.__r3f;if(!(O!=null&&O.eventCount))return;const B=O.handlers;if(E){if(B.onPointerOver||B.onPointerEnter||B.onPointerOut||B.onPointerLeave){const D=SC(T),F=_.hovered.get(D);F?F.stopped&&T.stopPropagation():(_.hovered.set(D,T),B.onPointerOver==null||B.onPointerOver(T),B.onPointerEnter==null||B.onPointerEnter(T))}B.onPointerMove==null||B.onPointerMove(T)}else{const D=B[u];D?(!c||_.initialHits.includes(M))&&(l(m,_.interaction.filter(F=>!_.initialHits.includes(F))),D(T)):c&&_.initialHits.includes(M)&&l(m,_.interaction.filter(F=>!_.initialHits.includes(F)))}}a(g,m,y,C)}}return{handlePointer:s}}const NN=n=>!!(n!=null&&n.render),sG=w.createContext(null),Hfe=(n,e)=>{const t=ffe((s,u)=>{const f=new be,m=new be,b=new be;function _(y=u().camera,C=m,T=u().size){const{width:M,height:O,top:B,left:D}=T,F=M/O;C.isVector3?b.copy(C):b.set(...C);const z=y.getWorldPosition(f).distanceTo(b);if(nG(y))return{width:M/y.zoom,height:O/y.zoom,top:B,left:D,factor:1,distance:z,aspect:F};{const U=y.fov*Math.PI/180,$=2*Math.tan(U/2)*z,J=$*(M/O);return{width:J,height:$,top:B,left:D,factor:M/J,distance:z,aspect:F}}}let E;const c=y=>s(C=>({performance:{...C.performance,current:y}})),p=new Tt;return{set:s,get:u,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(y=1)=>n(u(),y),advance:(y,C)=>e(y,C,u()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new QI,pointer:p,mouse:p,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const y=u();E&&clearTimeout(E),y.performance.current!==y.performance.min&&c(y.performance.min),E=setTimeout(()=>c(u().performance.max),y.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:_},setEvents:y=>s(C=>({...C,events:{...C.events,...y}})),setSize:(y,C,T=0,M=0)=>{const O=u().camera,B={width:y,height:C,top:T,left:M};s(D=>({size:B,viewport:{...D.viewport,..._(O,m,B)}}))},setDpr:y=>s(C=>{const T=rG(y);return{viewport:{...C.viewport,dpr:T,initialDpr:C.viewport.initialDpr||T}}}),setFrameloop:(y="always")=>{const C=u().clock;C.stop(),C.elapsedTime=0,y!=="never"&&(C.start(),C.elapsedTime=0),s(()=>({frameloop:y}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:w.createRef(),active:!1,frames:0,priority:0,subscribe:(y,C,T)=>{const M=u().internal;return M.priority=M.priority+(C>0?1:0),M.subscribers.push({ref:y,priority:C,store:T}),M.subscribers=M.subscribers.sort((O,B)=>O.priority-B.priority),()=>{const O=u().internal;O!=null&&O.subscribers&&(O.priority=O.priority-(C>0?1:0),O.subscribers=O.subscribers.filter(B=>B.ref!==y))}}}}}),r=t.getState();let a=r.size,o=r.viewport.dpr,l=r.camera;return t.subscribe(()=>{const{camera:s,size:u,viewport:f,gl:m,set:b}=t.getState();if(u.width!==a.width||u.height!==a.height||f.dpr!==o){a=u,o=f.dpr,zfe(s,u),f.dpr>0&&m.setPixelRatio(f.dpr);const _=typeof HTMLCanvasElement<"u"&&m.domElement instanceof HTMLCanvasElement;m.setSize(u.width,u.height,_)}s!==l&&(l=s,b(_=>({viewport:{..._.viewport,..._.viewport.getCurrentViewport(s)}})))}),t.subscribe(s=>n(s)),t};function lG(){const n=w.useContext(sG);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Vd(n=t=>t,e){return lG()(n,e)}function Gfe(n,e=0){const t=lG(),r=t.getState().internal.subscribe,a=iG(n);return JS(()=>r(a,e,t),[e,r,t]),null}const zN=new WeakMap,kfe=n=>{var e;return typeof n=="function"&&(n==null||(e=n.prototype)==null?void 0:e.constructor)===n};function cG(n,e){return function(t,...r){let a;return kfe(t)?(a=zN.get(t),a||(a=new t,zN.set(t,a))):a=t,n&&n(a),Promise.all(r.map(o=>new Promise((l,s)=>a.load(o,u=>{os(u==null?void 0:u.scene)&&Object.assign(u,Ofe(u.scene)),l(u)},e,u=>s(new Error(`Could not load ${o}: ${u==null?void 0:u.message}`))))))}}function QS(n,e,t,r){const a=Array.isArray(e)?e:[e],o=yfe(cG(t,r),[n,...a],{equal:Pr.equ});return Array.isArray(e)?o:o[0]}QS.preload=function(n,e,t){const r=Array.isArray(e)?e:[e];return bfe(cG(t),[n,...r])};QS.clear=function(n,e){const t=Array.isArray(e)?e:[e];return Sfe([n,...t])};function $fe(n){const e=gfe(n);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:w.version}),e}const uG=0,C0={},Vfe=/^three(?=[A-Z])/,SA=n=>`${n[0].toUpperCase()}${n.slice(1)}`;let jfe=0;const Wfe=n=>typeof n=="function";function Xfe(n){if(Wfe(n)){const e=`${jfe++}`;return C0[e]=n,e}else Object.assign(C0,n)}function dG(n,e){const t=SA(n),r=C0[t];if(n!=="primitive"&&!r)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function Yfe(n,e,t){var r;return n=SA(n)in C0?n:n.replace(Vfe,""),dG(n,e),n==="primitive"&&(r=e.object)!=null&&r.__r3f&&delete e.object.__r3f,UE(e.object,t,n,e)}function qfe(n){if(!n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?HE(n.parent,n):os(n.object)&&(n.object.visible=!1),n.isHidden=!0,k0(n)}}function fG(n){if(n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?FE(n.parent,n):os(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,k0(n)}}function oB(n,e,t){const r=e.root.getState();if(!(!n.parent&&n.object!==r.scene)){if(!e.object){var a,o;const l=C0[SA(e.type)];e.object=(a=e.props.object)!=null?a:new l(...(o=e.props.args)!=null?o:[]),e.object.__r3f=e}if(Ah(e.object,e.props),e.props.attach)FE(n,e);else if(os(e.object)&&os(n.object)){const l=n.object.children.indexOf(t==null?void 0:t.object);if(t&&l!==-1){const s=n.object.children.indexOf(e.object);if(s!==-1){n.object.children.splice(s,1);const u=s<l?l-1:l;n.object.children.splice(u,0,e.object)}else e.object.parent=n.object,n.object.children.splice(l,0,e.object),e.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:e.object})}else n.object.add(e.object)}for(const l of e.children)oB(e,l);k0(e)}}function WT(n,e){e&&(e.parent=n,n.children.push(e),oB(n,e))}function UN(n,e,t){if(!e||!t)return;e.parent=n;const r=n.children.indexOf(t);r!==-1?n.children.splice(r,0,e):n.children.push(e),oB(n,e,t)}function hG(n){if(typeof n.dispose=="function"){const e=()=>{try{n.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():DN.unstable_scheduleCallback(DN.unstable_IdlePriority,e)}}function V2(n,e,t){if(!e)return;e.parent=null;const r=n.children.indexOf(e);r!==-1&&n.children.splice(r,1),e.props.attach?HE(n,e):os(e.object)&&os(n.object)&&(n.object.remove(e.object),Ufe(tG(e),e.object));const a=e.props.dispose!==null&&t!==!1;for(let o=e.children.length-1;o>=0;o--){const l=e.children[o];V2(e,l,a)}e.children.length=0,delete e.object.__r3f,a&&e.type!=="primitive"&&e.object.type!=="Scene"&&hG(e.object),t===void 0&&k0(e)}function Kfe(n,e){for(const t of[n,n.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const r=t.ref(e);typeof r=="function"&&(t.refCleanup=r)}else t.ref&&(t.ref.current=e)}const JC=[];function Jfe(){for(const[t]of JC){const r=t.parent;if(r){t.props.attach?HE(r,t):os(t.object)&&os(r.object)&&r.object.remove(t.object);for(const a of t.children)a.props.attach?HE(t,a):os(a.object)&&os(t.object)&&t.object.remove(a.object)}t.isHidden&&fG(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&hG(t.object)}for(const[t,r,a]of JC){t.props=r;const o=t.parent;if(o){var n,e;const l=C0[SA(t.type)];t.object=(n=t.props.object)!=null?n:new l(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,Kfe(a,t.object),Ah(t.object,t.props),t.props.attach?FE(o,t):os(t.object)&&os(o.object)&&o.object.add(t.object);for(const s of t.children)s.props.attach?FE(t,s):os(s.object)&&os(t.object)&&t.object.add(s.object);k0(t)}}JC.length=0}const XT=()=>{},FN={};let _C=uG;const Qfe=0,Zfe=4,j2=$fe({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:Yfe,removeChild:V2,appendChild:WT,appendInitialChild:WT,insertBefore:UN,appendChildToContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||WT(t,e)},removeChildFromContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||V2(t,e)},insertInContainerBefore(n,e,t){const r=n.getState().scene.__r3f;!e||!t||!r||UN(r,e,t)},getRootHostContext:()=>FN,getChildHostContext:()=>FN,commitUpdate(n,e,t,r,a){var o,l,s;dG(e,r);let u=!1;if((n.type==="primitive"&&t.object!==r.object||((o=r.args)==null?void 0:o.length)!==((l=t.args)==null?void 0:l.length)||(s=r.args)!=null&&s.some((m,b)=>{var _;return m!==((_=t.args)==null?void 0:_[b])}))&&(u=!0),u)JC.push([n,{...r},a]);else{const m=Pfe(n,r);Object.keys(m).length&&(Object.assign(n.props,m),Ah(n.object,m))}(a.sibling===null||(a.flags&Zfe)===Qfe)&&Jfe()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n==null?void 0:n.object,prepareForCommit:()=>null,preparePortalMount:n=>UE(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:qfe,unhideInstance:fG,createTextInstance:XT,hideTextInstance:XT,unhideTextInstance:XT,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:w.createContext(null),setCurrentUpdatePriority(n){_C=n},getCurrentUpdatePriority(){return _C},resolveUpdatePriority(){var n;if(_C!==uG)return _C;switch(typeof window<"u"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return KC.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return KC.ContinuousEventPriority;default:return KC.DefaultEventPriority}},resetFormInstance(){}}),Nm=new Map,uv={objects:"shallow",strict:!1};function ehe(n,e){if(!e&&typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:r,top:a,left:o}=n.parentElement.getBoundingClientRect();return{width:t,height:r,top:a,left:o}}else if(!e&&typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function the(n){const e=Nm.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const a=typeof reportError=="function"?reportError:console.error,o=r||Hfe(Y2,GN),l=t||j2.createContainer(o,KC.ConcurrentRoot,null,!1,null,"",a,a,a,null);e||Nm.set(n,{fiber:l,store:o});let s,u,f=!1,m=null;return{async configure(b={}){let _;m=new Promise(ie=>_=ie);let{gl:E,size:c,scene:p,events:g,onCreated:y,shadows:C=!1,linear:T=!1,flat:M=!1,legacy:O=!1,orthographic:B=!1,frameloop:D="always",dpr:F=[1,2],performance:z,raycaster:U,camera:$,onPointerMissed:J}=b,W=o.getState(),Q=W.gl;if(!W.gl){const ie={canvas:n,powerPreference:"high-performance",antialias:!0,alpha:!0},he=typeof E=="function"?await E(ie):E;NN(he)?Q=he:Q=new q6({...ie,...E}),W.set({gl:Q})}let ae=W.raycaster;ae||W.set({raycaster:ae=new G6});const{params:Y,...K}=U||{};if(Pr.equ(K,ae,uv)||Ah(ae,{...K}),Pr.equ(Y,ae.params,uv)||Ah(ae,{params:{...ae.params,...Y}}),!W.camera||W.camera===u&&!Pr.equ(u,$,uv)){u=$;const ie=$==null?void 0:$.isCamera,he=ie?$:B?new hf(0,0,0,0,.1,1e3):new Xr(75,0,.1,1e3);ie||(he.position.z=5,$&&(Ah(he,$),he.manual||("aspect"in $||"left"in $||"right"in $||"bottom"in $||"top"in $)&&(he.manual=!0,he.updateProjectionMatrix())),!W.camera&&!($!=null&&$.rotation)&&he.lookAt(0,0,0)),W.set({camera:he}),ae.camera=he}if(!W.scene){let ie;p!=null&&p.isScene?(ie=p,UE(ie,o,"",{})):(ie=new TI,UE(ie,o,"",{}),p&&Ah(ie,p)),W.set({scene:ie})}g&&!W.events.handlers&&W.set({events:g(o)});const ee=ehe(n,c);if(Pr.equ(ee,W.size,uv)||W.setSize(ee.width,ee.height,ee.top,ee.left),F&&W.viewport.dpr!==rG(F)&&W.setDpr(F),W.frameloop!==D&&W.setFrameloop(D),W.onPointerMissed||W.set({onPointerMissed:J}),z&&!Pr.equ(z,W.performance,uv)&&W.set(ie=>({performance:{...ie.performance,...z}})),!W.xr){var de;const ie=(Z,pe)=>{const xe=o.getState();xe.frameloop!=="never"&&GN(Z,!0,xe,pe)},he=()=>{const Z=o.getState();Z.gl.xr.enabled=Z.gl.xr.isPresenting,Z.gl.xr.setAnimationLoop(Z.gl.xr.isPresenting?ie:null),Z.gl.xr.isPresenting||Y2(Z)},fe={connect(){const Z=o.getState().gl;Z.xr.addEventListener("sessionstart",he),Z.xr.addEventListener("sessionend",he)},disconnect(){const Z=o.getState().gl;Z.xr.removeEventListener("sessionstart",he),Z.xr.removeEventListener("sessionend",he)}};typeof((de=Q.xr)==null?void 0:de.addEventListener)=="function"&&fe.connect(),W.set({xr:fe})}if(Q.shadowMap){const ie=Q.shadowMap.enabled,he=Q.shadowMap.type;if(Q.shadowMap.enabled=!!C,Pr.boo(C))Q.shadowMap.type=Db;else if(Pr.str(C)){var q;const fe={basic:n8,percentage:Hw,soft:Db,variance:Oc};Q.shadowMap.type=(q=fe[C])!=null?q:Db}else Pr.obj(C)&&Object.assign(Q.shadowMap,C);(ie!==Q.shadowMap.enabled||he!==Q.shadowMap.type)&&(Q.shadowMap.needsUpdate=!0)}return Ii.enabled=!O,f||(Q.outputColorSpace=T?$h:Lo,Q.toneMapping=M?qu:fI),W.legacy!==O&&W.set(()=>({legacy:O})),W.linear!==T&&W.set(()=>({linear:T})),W.flat!==M&&W.set(()=>({flat:M})),E&&!Pr.fun(E)&&!NN(E)&&!Pr.equ(E,Q,uv)&&Ah(Q,E),s=y,f=!0,_(),this},render(b){return!f&&!m&&this.configure(),m.then(()=>{j2.updateContainer(ke.jsx(nhe,{store:o,children:b,onCreated:s,rootElement:n}),l,null,()=>{})}),o},unmount(){pG(n)}}}function nhe({store:n,children:e,onCreated:t,rootElement:r}){return JS(()=>{const a=n.getState();a.set(o=>({internal:{...o.internal,active:!0}})),t&&t(a),n.getState().events.connected||a.events.connect==null||a.events.connect(r)},[]),ke.jsx(sG.Provider,{value:n,children:e})}function pG(n,e){const t=Nm.get(n),r=t==null?void 0:t.fiber;if(r){const a=t==null?void 0:t.store.getState();a&&(a.internal.active=!1),j2.updateContainer(null,r,null,()=>{a&&setTimeout(()=>{try{var o,l,s,u;a.events.disconnect==null||a.events.disconnect(),(o=a.gl)==null||(l=o.renderLists)==null||l.dispose==null||l.dispose(),(s=a.gl)==null||s.forceContextLoss==null||s.forceContextLoss(),(u=a.gl)!=null&&u.xr&&a.xr.disconnect(),Ife(a.scene),Nm.delete(n)}catch{}},500)})}}const ihe=new Set,rhe=new Set,ahe=new Set;function YT(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function kb(n,e){switch(n){case"before":return YT(ihe,e);case"after":return YT(rhe,e);case"tail":return YT(ahe,e)}}let qT,KT;function W2(n,e,t){let r=e.clock.getDelta();e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),qT=e.internal.subscribers;for(let a=0;a<qT.length;a++)KT=qT[a],KT.ref.current(KT.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let GE=!1,X2=!1,JT,HN,dv;function mG(n){HN=requestAnimationFrame(mG),GE=!0,JT=0,kb("before",n),X2=!0;for(const t of Nm.values()){var e;dv=t.store.getState(),dv.internal.active&&(dv.frameloop==="always"||dv.internal.frames>0)&&!((e=dv.gl.xr)!=null&&e.isPresenting)&&(JT+=W2(n,dv))}if(X2=!1,kb("after",n),JT===0)return kb("tail",n),GE=!1,cancelAnimationFrame(HN)}function Y2(n,e=1){var t;if(!n)return Nm.forEach(r=>Y2(r.store.getState(),e));(t=n.gl.xr)!=null&&t.isPresenting||!n.internal.active||n.frameloop==="never"||(e>1?n.internal.frames=Math.min(60,n.internal.frames+e):X2?n.internal.frames=2:n.internal.frames=1,GE||(GE=!0,requestAnimationFrame(mG)))}function GN(n,e=!0,t,r){if(e&&kb("before",n),t)W2(n,t,r);else for(const a of Nm.values())W2(n,a.store.getState());e&&kb("after",n)}const QT={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function ohe(n){const{handlePointer:e}=Ffe(n);return{priority:1,enabled:!0,compute(t,r,a){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(QT).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:a}=n.getState();(t=a.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(a.lastEvent.current)},connect:t=>{const{set:r,events:a}=n.getState();if(a.disconnect==null||a.disconnect(),r(o=>({events:{...o.events,connected:t}})),a.handlers)for(const o in a.handlers){const l=a.handlers[o],[s,u]=QT[o];t.addEventListener(s,l,{passive:u})}},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){if(r.handlers)for(const a in r.handlers){const o=r.handlers[a],[l]=QT[a];r.connected.removeEventListener(l,o)}t(a=>({events:{...a.events,connected:void 0}}))}}}}function kN(n,e){let t;return(...r)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...r),e)}}function she({debounce:n,scroll:e,polyfill:t,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const a=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!a)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,l]=w.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),s=w.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o,orientationHandler:null}),u=n?typeof n=="number"?n:n.scroll:null,f=n?typeof n=="number"?n:n.resize:null,m=w.useRef(!1);w.useEffect(()=>(m.current=!0,()=>void(m.current=!1)));const[b,_,E]=w.useMemo(()=>{const y=()=>{if(!s.current.element)return;const{left:C,top:T,width:M,height:O,bottom:B,right:D,x:F,y:z}=s.current.element.getBoundingClientRect(),U={left:C,top:T,width:M,height:O,bottom:B,right:D,x:F,y:z};s.current.element instanceof HTMLElement&&r&&(U.height=s.current.element.offsetHeight,U.width=s.current.element.offsetWidth),Object.freeze(U),m.current&&!dhe(s.current.lastBounds,U)&&l(s.current.lastBounds=U)};return[y,f?kN(y,f):y,u?kN(y,u):y]},[l,r,u,f]);function c(){s.current.scrollContainers&&(s.current.scrollContainers.forEach(y=>y.removeEventListener("scroll",E,!0)),s.current.scrollContainers=null),s.current.resizeObserver&&(s.current.resizeObserver.disconnect(),s.current.resizeObserver=null),s.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",s.current.orientationHandler))}function p(){s.current.element&&(s.current.resizeObserver=new a(E),s.current.resizeObserver.observe(s.current.element),e&&s.current.scrollContainers&&s.current.scrollContainers.forEach(y=>y.addEventListener("scroll",E,{capture:!0,passive:!0})),s.current.orientationHandler=()=>{E()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",s.current.orientationHandler))}const g=y=>{!y||y===s.current.element||(c(),s.current.element=y,s.current.scrollContainers=gG(y),p())};return che(E,!!e),lhe(_),w.useEffect(()=>{c(),p()},[e,E,_]),w.useEffect(()=>c,[]),[g,o,b]}function lhe(n){w.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function che(n,e){w.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function gG(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:a}=window.getComputedStyle(n);return[t,r,a].some(o=>o==="auto"||o==="scroll")&&e.push(n),[...e,...gG(n.parentElement)]}const uhe=["x","y","top","bottom","left","right","width","height"],dhe=(n,e)=>uhe.every(t=>n[t]===e[t]);function fhe({ref:n,children:e,fallback:t,resize:r,style:a,gl:o,events:l=ohe,eventSource:s,eventPrefix:u,shadows:f,linear:m,flat:b,legacy:_,orthographic:E,frameloop:c,dpr:p,performance:g,raycaster:y,camera:C,scene:T,onPointerMissed:M,onCreated:O,...B}){w.useMemo(()=>Xfe(Zde),[]);const D=Mfe(),[F,z]=she({scroll:!0,debounce:{scroll:50,resize:0},...r}),U=w.useRef(null),$=w.useRef(null);w.useImperativeHandle(n,()=>U.current);const J=iG(M),[W,Q]=w.useState(!1),[ae,Y]=w.useState(!1);if(W)throw W;if(ae)throw ae;const K=w.useRef(null);JS(()=>{const de=U.current;if(z.width>0&&z.height>0&&de){K.current||(K.current=the(de));async function q(){await K.current.configure({gl:o,scene:T,events:l,shadows:f,linear:m,flat:b,legacy:_,orthographic:E,frameloop:c,dpr:p,performance:g,raycaster:y,camera:C,size:z,onPointerMissed:(...ie)=>J.current==null?void 0:J.current(...ie),onCreated:ie=>{ie.events.connect==null||ie.events.connect(s?wfe(s)?s.current:s:$.current),u&&ie.setEvents({compute:(he,fe)=>{const Z=he[u+"X"],pe=he[u+"Y"];fe.pointer.set(Z/fe.size.width*2-1,-(pe/fe.size.height)*2+1),fe.raycaster.setFromCamera(fe.pointer,fe.camera)}}),O==null||O(ie)}}),K.current.render(ke.jsx(D,{children:ke.jsx(Rfe,{set:Y,children:ke.jsx(w.Suspense,{fallback:ke.jsx(Tfe,{set:Q}),children:e??null})})}))}q()}}),w.useEffect(()=>{const de=U.current;if(de)return()=>pG(de)},[]);const ee=s?"none":"auto";return ke.jsx("div",{ref:$,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:ee,...a},...B,children:ke.jsx("div",{ref:F,style:{width:"100%",height:"100%"},children:ke.jsx("canvas",{ref:U,style:{display:"block"},children:t})})})}function hhe(n){return ke.jsx(Z6,{children:ke.jsx(fhe,{...n})})}const phe=parseInt(FS.replace(/\D+/g,""));function $N(n,e){if(e===D8)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===PE||e===CI){let t=n.getIndex();if(t===null){const l=[],s=n.getAttribute("position");if(s!==void 0){for(let u=0;u<s.count;u++)l.push(u);n.setIndex(l),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const r=t.count-2,a=[];if(t)if(e===PE)for(let l=1;l<=r;l++)a.push(t.getX(0)),a.push(t.getX(l)),a.push(t.getX(l+1));else for(let l=0;l<r;l++)l%2===0?(a.push(t.getX(l)),a.push(t.getX(l+1)),a.push(t.getX(l+2))):(a.push(t.getX(l+2)),a.push(t.getX(l+1)),a.push(t.getX(l)));a.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const o=n.clone();return o.setIndex(a),o.clearGroups(),o}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}var mhe=Object.defineProperty,ghe=(n,e,t)=>e in n?mhe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,vhe=(n,e,t)=>(ghe(n,e+"",t),t);class yhe{constructor(){vhe(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const a=this._listeners[e];if(a!==void 0){const o=a.indexOf(t);o!==-1&&a.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const a=r.slice(0);for(let o=0,l=a.length;o<l;o++)a[o].call(this,e);e.target=null}}}var bhe=Object.defineProperty,She=(n,e,t)=>e in n?bhe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Bn=(n,e,t)=>(She(n,typeof e!="symbol"?e+"":e,t),t);const xC=new jm,VN=new tf,_he=Math.cos(70*(Math.PI/180)),jN=(n,e)=>(n%e+e)%e;let xhe=class extends yhe{constructor(e,t){super(),Bn(this,"object"),Bn(this,"domElement"),Bn(this,"enabled",!0),Bn(this,"target",new be),Bn(this,"minDistance",0),Bn(this,"maxDistance",1/0),Bn(this,"minZoom",0),Bn(this,"maxZoom",1/0),Bn(this,"minPolarAngle",0),Bn(this,"maxPolarAngle",Math.PI),Bn(this,"minAzimuthAngle",-1/0),Bn(this,"maxAzimuthAngle",1/0),Bn(this,"enableDamping",!1),Bn(this,"dampingFactor",.05),Bn(this,"enableZoom",!0),Bn(this,"zoomSpeed",1),Bn(this,"enableRotate",!0),Bn(this,"rotateSpeed",1),Bn(this,"enablePan",!0),Bn(this,"panSpeed",1),Bn(this,"screenSpacePanning",!0),Bn(this,"keyPanSpeed",7),Bn(this,"zoomToCursor",!1),Bn(this,"autoRotate",!1),Bn(this,"autoRotateSpeed",2),Bn(this,"reverseOrbit",!1),Bn(this,"reverseHorizontalOrbit",!1),Bn(this,"reverseVerticalOrbit",!1),Bn(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Bn(this,"mouseButtons",{LEFT:$p.ROTATE,MIDDLE:$p.DOLLY,RIGHT:$p.PAN}),Bn(this,"touches",{ONE:Vp.ROTATE,TWO:Vp.DOLLY_PAN}),Bn(this,"target0"),Bn(this,"position0"),Bn(this,"zoom0"),Bn(this,"_domElementKeyEvents",null),Bn(this,"getPolarAngle"),Bn(this,"getAzimuthalAngle"),Bn(this,"setPolarAngle"),Bn(this,"setAzimuthalAngle"),Bn(this,"getDistance"),Bn(this,"getZoomScale"),Bn(this,"listenToKeyEvents"),Bn(this,"stopListenToKeyEvents"),Bn(this,"saveState"),Bn(this,"reset"),Bn(this,"update"),Bn(this,"connect"),Bn(this,"dispose"),Bn(this,"dollyIn"),Bn(this,"dollyOut"),Bn(this,"getScale"),Bn(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>m.phi,this.getAzimuthalAngle=()=>m.theta,this.setPolarAngle=Se=>{let Ge=jN(Se,2*Math.PI),St=m.phi;St<0&&(St+=2*Math.PI),Ge<0&&(Ge+=2*Math.PI);let Me=Math.abs(Ge-St);2*Math.PI-Me<Me&&(Ge<St?Ge+=2*Math.PI:St+=2*Math.PI),b.phi=Ge-St,r.update()},this.setAzimuthalAngle=Se=>{let Ge=jN(Se,2*Math.PI),St=m.theta;St<0&&(St+=2*Math.PI),Ge<0&&(Ge+=2*Math.PI);let Me=Math.abs(Ge-St);2*Math.PI-Me<Me&&(Ge<St?Ge+=2*Math.PI:St+=2*Math.PI),b.theta=Ge-St,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=Se=>{Se.addEventListener("keydown",lt),this._domElementKeyEvents=Se},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",lt),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(a),r.update(),u=s.NONE},this.update=(()=>{const Se=new be,Ge=new be(0,1,0),St=new eo().setFromUnitVectors(e.up,Ge),Me=St.clone().invert(),xt=new be,et=new eo,mt=2*Math.PI;return function(){const Bt=r.object.position;St.setFromUnitVectors(e.up,Ge),Me.copy(St).invert(),Se.copy(Bt).sub(r.target),Se.applyQuaternion(St),m.setFromVector3(Se),r.autoRotate&&u===s.NONE&&Q(J()),r.enableDamping?(m.theta+=b.theta*r.dampingFactor,m.phi+=b.phi*r.dampingFactor):(m.theta+=b.theta,m.phi+=b.phi);let Qt=r.minAzimuthAngle,sn=r.maxAzimuthAngle;isFinite(Qt)&&isFinite(sn)&&(Qt<-Math.PI?Qt+=mt:Qt>Math.PI&&(Qt-=mt),sn<-Math.PI?sn+=mt:sn>Math.PI&&(sn-=mt),Qt<=sn?m.theta=Math.max(Qt,Math.min(sn,m.theta)):m.theta=m.theta>(Qt+sn)/2?Math.max(Qt,m.theta):Math.min(sn,m.theta)),m.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,m.phi)),m.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(E,r.dampingFactor):r.target.add(E),r.zoomToCursor&&z||r.object.isOrthographicCamera?m.radius=fe(m.radius):m.radius=fe(m.radius*_),Se.setFromSpherical(m),Se.applyQuaternion(Me),Bt.copy(r.target).add(Se),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(b.theta*=1-r.dampingFactor,b.phi*=1-r.dampingFactor,E.multiplyScalar(1-r.dampingFactor)):(b.set(0,0,0),E.set(0,0,0));let qt=!1;if(r.zoomToCursor&&z){let Lt=null;if(r.object instanceof Xr&&r.object.isPerspectiveCamera){const Yt=Se.length();Lt=fe(Yt*_);const yn=Yt-Lt;r.object.position.addScaledVector(D,yn),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const Yt=new be(F.x,F.y,0);Yt.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/_)),r.object.updateProjectionMatrix(),qt=!0;const yn=new be(F.x,F.y,0);yn.unproject(r.object),r.object.position.sub(yn).add(Yt),r.object.updateMatrixWorld(),Lt=Se.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;Lt!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(Lt).add(r.object.position):(xC.origin.copy(r.object.position),xC.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(xC.direction))<_he?e.lookAt(r.target):(VN.setFromNormalAndCoplanarPoint(r.object.up,r.target),xC.intersectPlane(VN,r.target))))}else r.object instanceof hf&&r.object.isOrthographicCamera&&(qt=_!==1,qt&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/_)),r.object.updateProjectionMatrix()));return _=1,z=!1,qt||xt.distanceToSquared(r.object.position)>f||8*(1-et.dot(r.object.quaternion))>f?(r.dispatchEvent(a),xt.copy(r.object.position),et.copy(r.object.quaternion),qt=!1,!0):!1}})(),this.connect=Se=>{r.domElement=Se,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",ot),r.domElement.addEventListener("pointerdown",oe),r.domElement.addEventListener("pointercancel",De),r.domElement.addEventListener("wheel",gt)},this.dispose=()=>{var Se,Ge,St,Me,xt,et;r.domElement&&(r.domElement.style.touchAction="auto"),(Se=r.domElement)==null||Se.removeEventListener("contextmenu",ot),(Ge=r.domElement)==null||Ge.removeEventListener("pointerdown",oe),(St=r.domElement)==null||St.removeEventListener("pointercancel",De),(Me=r.domElement)==null||Me.removeEventListener("wheel",gt),(xt=r.domElement)==null||xt.ownerDocument.removeEventListener("pointermove",we),(et=r.domElement)==null||et.ownerDocument.removeEventListener("pointerup",De),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",lt)};const r=this,a={type:"change"},o={type:"start"},l={type:"end"},s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let u=s.NONE;const f=1e-6,m=new F2,b=new F2;let _=1;const E=new be,c=new Tt,p=new Tt,g=new Tt,y=new Tt,C=new Tt,T=new Tt,M=new Tt,O=new Tt,B=new Tt,D=new be,F=new Tt;let z=!1;const U=[],$={};function J(){return 2*Math.PI/60/60*r.autoRotateSpeed}function W(){return Math.pow(.95,r.zoomSpeed)}function Q(Se){r.reverseOrbit||r.reverseHorizontalOrbit?b.theta+=Se:b.theta-=Se}function ae(Se){r.reverseOrbit||r.reverseVerticalOrbit?b.phi+=Se:b.phi-=Se}const Y=(()=>{const Se=new be;return function(St,Me){Se.setFromMatrixColumn(Me,0),Se.multiplyScalar(-St),E.add(Se)}})(),K=(()=>{const Se=new be;return function(St,Me){r.screenSpacePanning===!0?Se.setFromMatrixColumn(Me,1):(Se.setFromMatrixColumn(Me,0),Se.crossVectors(r.object.up,Se)),Se.multiplyScalar(St),E.add(Se)}})(),ee=(()=>{const Se=new be;return function(St,Me){const xt=r.domElement;if(xt&&r.object instanceof Xr&&r.object.isPerspectiveCamera){const et=r.object.position;Se.copy(et).sub(r.target);let mt=Se.length();mt*=Math.tan(r.object.fov/2*Math.PI/180),Y(2*St*mt/xt.clientHeight,r.object.matrix),K(2*Me*mt/xt.clientHeight,r.object.matrix)}else xt&&r.object instanceof hf&&r.object.isOrthographicCamera?(Y(St*(r.object.right-r.object.left)/r.object.zoom/xt.clientWidth,r.object.matrix),K(Me*(r.object.top-r.object.bottom)/r.object.zoom/xt.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function de(Se){r.object instanceof Xr&&r.object.isPerspectiveCamera||r.object instanceof hf&&r.object.isOrthographicCamera?_=Se:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function q(Se){de(_/Se)}function ie(Se){de(_*Se)}function he(Se){if(!r.zoomToCursor||!r.domElement)return;z=!0;const Ge=r.domElement.getBoundingClientRect(),St=Se.clientX-Ge.left,Me=Se.clientY-Ge.top,xt=Ge.width,et=Ge.height;F.x=St/xt*2-1,F.y=-(Me/et)*2+1,D.set(F.x,F.y,1).unproject(r.object).sub(r.object.position).normalize()}function fe(Se){return Math.max(r.minDistance,Math.min(r.maxDistance,Se))}function Z(Se){c.set(Se.clientX,Se.clientY)}function pe(Se){he(Se),M.set(Se.clientX,Se.clientY)}function xe(Se){y.set(Se.clientX,Se.clientY)}function Oe(Se){p.set(Se.clientX,Se.clientY),g.subVectors(p,c).multiplyScalar(r.rotateSpeed);const Ge=r.domElement;Ge&&(Q(2*Math.PI*g.x/Ge.clientHeight),ae(2*Math.PI*g.y/Ge.clientHeight)),c.copy(p),r.update()}function Ae(Se){O.set(Se.clientX,Se.clientY),B.subVectors(O,M),B.y>0?q(W()):B.y<0&&ie(W()),M.copy(O),r.update()}function Te(Se){C.set(Se.clientX,Se.clientY),T.subVectors(C,y).multiplyScalar(r.panSpeed),ee(T.x,T.y),y.copy(C),r.update()}function ze(Se){he(Se),Se.deltaY<0?ie(W()):Se.deltaY>0&&q(W()),r.update()}function yt(Se){let Ge=!1;switch(Se.code){case r.keys.UP:ee(0,r.keyPanSpeed),Ge=!0;break;case r.keys.BOTTOM:ee(0,-r.keyPanSpeed),Ge=!0;break;case r.keys.LEFT:ee(r.keyPanSpeed,0),Ge=!0;break;case r.keys.RIGHT:ee(-r.keyPanSpeed,0),Ge=!0;break}Ge&&(Se.preventDefault(),r.update())}function Be(){if(U.length==1)c.set(U[0].pageX,U[0].pageY);else{const Se=.5*(U[0].pageX+U[1].pageX),Ge=.5*(U[0].pageY+U[1].pageY);c.set(Se,Ge)}}function Ce(){if(U.length==1)y.set(U[0].pageX,U[0].pageY);else{const Se=.5*(U[0].pageX+U[1].pageX),Ge=.5*(U[0].pageY+U[1].pageY);y.set(Se,Ge)}}function re(){const Se=U[0].pageX-U[1].pageX,Ge=U[0].pageY-U[1].pageY,St=Math.sqrt(Se*Se+Ge*Ge);M.set(0,St)}function Fe(){r.enableZoom&&re(),r.enablePan&&Ce()}function Ie(){r.enableZoom&&re(),r.enableRotate&&Be()}function qe(Se){if(U.length==1)p.set(Se.pageX,Se.pageY);else{const St=rt(Se),Me=.5*(Se.pageX+St.x),xt=.5*(Se.pageY+St.y);p.set(Me,xt)}g.subVectors(p,c).multiplyScalar(r.rotateSpeed);const Ge=r.domElement;Ge&&(Q(2*Math.PI*g.x/Ge.clientHeight),ae(2*Math.PI*g.y/Ge.clientHeight)),c.copy(p)}function $e(Se){if(U.length==1)C.set(Se.pageX,Se.pageY);else{const Ge=rt(Se),St=.5*(Se.pageX+Ge.x),Me=.5*(Se.pageY+Ge.y);C.set(St,Me)}T.subVectors(C,y).multiplyScalar(r.panSpeed),ee(T.x,T.y),y.copy(C)}function ct(Se){const Ge=rt(Se),St=Se.pageX-Ge.x,Me=Se.pageY-Ge.y,xt=Math.sqrt(St*St+Me*Me);O.set(0,xt),B.set(0,Math.pow(O.y/M.y,r.zoomSpeed)),q(B.y),M.copy(O)}function st(Se){r.enableZoom&&ct(Se),r.enablePan&&$e(Se)}function ce(Se){r.enableZoom&&ct(Se),r.enableRotate&&qe(Se)}function oe(Se){var Ge,St;r.enabled!==!1&&(U.length===0&&((Ge=r.domElement)==null||Ge.ownerDocument.addEventListener("pointermove",we),(St=r.domElement)==null||St.ownerDocument.addEventListener("pointerup",De)),_t(Se),Se.pointerType==="touch"?pt(Se):Ke(Se))}function we(Se){r.enabled!==!1&&(Se.pointerType==="touch"?It(Se):He(Se))}function De(Se){var Ge,St,Me;Ct(Se),U.length===0&&((Ge=r.domElement)==null||Ge.releasePointerCapture(Se.pointerId),(St=r.domElement)==null||St.ownerDocument.removeEventListener("pointermove",we),(Me=r.domElement)==null||Me.ownerDocument.removeEventListener("pointerup",De)),r.dispatchEvent(l),u=s.NONE}function Ke(Se){let Ge;switch(Se.button){case 0:Ge=r.mouseButtons.LEFT;break;case 1:Ge=r.mouseButtons.MIDDLE;break;case 2:Ge=r.mouseButtons.RIGHT;break;default:Ge=-1}switch(Ge){case $p.DOLLY:if(r.enableZoom===!1)return;pe(Se),u=s.DOLLY;break;case $p.ROTATE:if(Se.ctrlKey||Se.metaKey||Se.shiftKey){if(r.enablePan===!1)return;xe(Se),u=s.PAN}else{if(r.enableRotate===!1)return;Z(Se),u=s.ROTATE}break;case $p.PAN:if(Se.ctrlKey||Se.metaKey||Se.shiftKey){if(r.enableRotate===!1)return;Z(Se),u=s.ROTATE}else{if(r.enablePan===!1)return;xe(Se),u=s.PAN}break;default:u=s.NONE}u!==s.NONE&&r.dispatchEvent(o)}function He(Se){if(r.enabled!==!1)switch(u){case s.ROTATE:if(r.enableRotate===!1)return;Oe(Se);break;case s.DOLLY:if(r.enableZoom===!1)return;Ae(Se);break;case s.PAN:if(r.enablePan===!1)return;Te(Se);break}}function gt(Se){r.enabled===!1||r.enableZoom===!1||u!==s.NONE&&u!==s.ROTATE||(Se.preventDefault(),r.dispatchEvent(o),ze(Se),r.dispatchEvent(l))}function lt(Se){r.enabled===!1||r.enablePan===!1||yt(Se)}function pt(Se){switch(We(Se),U.length){case 1:switch(r.touches.ONE){case Vp.ROTATE:if(r.enableRotate===!1)return;Be(),u=s.TOUCH_ROTATE;break;case Vp.PAN:if(r.enablePan===!1)return;Ce(),u=s.TOUCH_PAN;break;default:u=s.NONE}break;case 2:switch(r.touches.TWO){case Vp.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Fe(),u=s.TOUCH_DOLLY_PAN;break;case Vp.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Ie(),u=s.TOUCH_DOLLY_ROTATE;break;default:u=s.NONE}break;default:u=s.NONE}u!==s.NONE&&r.dispatchEvent(o)}function It(Se){switch(We(Se),u){case s.TOUCH_ROTATE:if(r.enableRotate===!1)return;qe(Se),r.update();break;case s.TOUCH_PAN:if(r.enablePan===!1)return;$e(Se),r.update();break;case s.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;st(Se),r.update();break;case s.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;ce(Se),r.update();break;default:u=s.NONE}}function ot(Se){r.enabled!==!1&&Se.preventDefault()}function _t(Se){U.push(Se)}function Ct(Se){delete $[Se.pointerId];for(let Ge=0;Ge<U.length;Ge++)if(U[Ge].pointerId==Se.pointerId){U.splice(Ge,1);return}}function We(Se){let Ge=$[Se.pointerId];Ge===void 0&&(Ge=new Tt,$[Se.pointerId]=Ge),Ge.set(Se.pageX,Se.pageY)}function rt(Se){const Ge=Se.pointerId===U[0].pointerId?U[1]:U[0];return $[Ge.pointerId]}this.dollyIn=(Se=W())=>{ie(Se),r.update()},this.dollyOut=(Se=W())=>{q(Se),r.update()},this.getScale=()=>_,this.setScale=Se=>{de(Se),r.update()},this.getZoomScale=()=>W(),t!==void 0&&this.connect(t),this.update()}};function kE(n){if(typeof TextDecoder<"u")return new TextDecoder().decode(n);let e="";for(let t=0,r=n.length;t<r;t++)e+=String.fromCharCode(n[t]);try{return decodeURIComponent(escape(e))}catch{return e}}const Sm="srgb",pf="srgb-linear",WN=3001,Che=3e3;class sB extends ko{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new The(t)}),this.register(function(t){return new Rhe(t)}),this.register(function(t){return new Uhe(t)}),this.register(function(t){return new Fhe(t)}),this.register(function(t){return new Hhe(t)}),this.register(function(t){return new Ihe(t)}),this.register(function(t){return new Bhe(t)}),this.register(function(t){return new Dhe(t)}),this.register(function(t){return new Phe(t)}),this.register(function(t){return new Mhe(t)}),this.register(function(t){return new Lhe(t)}),this.register(function(t){return new Ohe(t)}),this.register(function(t){return new zhe(t)}),this.register(function(t){return new Nhe(t)}),this.register(function(t){return new whe(t)}),this.register(function(t){return new Ghe(t)}),this.register(function(t){return new khe(t)})}load(e,t,r,a){const o=this;let l;if(this.resourcePath!=="")l=this.resourcePath;else if(this.path!==""){const f=Nh.extractUrlBase(e);l=Nh.resolveURL(f,this.path)}else l=Nh.extractUrlBase(e);this.manager.itemStart(e);const s=function(f){a?a(f):console.error(f),o.manager.itemError(e),o.manager.itemEnd(e)},u=new sl(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(e,function(f){try{o.parse(f,l,function(m){t(m),o.manager.itemEnd(e)},s)}catch(m){s(m)}},r,s)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,a){let o;const l={},s={};if(typeof e=="string")o=JSON.parse(e);else if(e instanceof ArrayBuffer)if(kE(new Uint8Array(e.slice(0,4)))===vG){try{l[_i.KHR_BINARY_GLTF]=new $he(e)}catch(m){a&&a(m);return}o=JSON.parse(l[_i.KHR_BINARY_GLTF].content)}else o=JSON.parse(kE(new Uint8Array(e)));else o=e;if(o.asset===void 0||o.asset.version[0]<2){a&&a(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const u=new npe(o,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(let f=0;f<this.pluginCallbacks.length;f++){const m=this.pluginCallbacks[f](u);m.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),s[m.name]=m,l[m.name]=!0}if(o.extensionsUsed)for(let f=0;f<o.extensionsUsed.length;++f){const m=o.extensionsUsed[f],b=o.extensionsRequired||[];switch(m){case _i.KHR_MATERIALS_UNLIT:l[m]=new Ahe;break;case _i.KHR_DRACO_MESH_COMPRESSION:l[m]=new Vhe(o,this.dracoLoader);break;case _i.KHR_TEXTURE_TRANSFORM:l[m]=new jhe;break;case _i.KHR_MESH_QUANTIZATION:l[m]=new Whe;break;default:b.indexOf(m)>=0&&s[m]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+m+'".')}}u.setExtensions(l),u.setPlugins(s),u.parse(r,a)}parseAsync(e,t){const r=this;return new Promise(function(a,o){r.parse(e,t,a,o)})}}function Ehe(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const _i={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class whe{constructor(e){this.parser=e,this.name=_i.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,a=t.length;r<a;r++){const o=t[r];o.extensions&&o.extensions[this.name]&&o.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,o.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let a=t.cache.get(r);if(a)return a;const o=t.json,u=((o.extensions&&o.extensions[this.name]||{}).lights||[])[e];let f;const m=new en(16777215);u.color!==void 0&&m.setRGB(u.color[0],u.color[1],u.color[2],pf);const b=u.range!==void 0?u.range:0;switch(u.type){case"directional":f=new KI(m),f.target.position.set(0,0,-1),f.add(f.target);break;case"point":f=new qI(m),f.distance=b;break;case"spot":f=new YI(m),f.distance=b,u.spot=u.spot||{},u.spot.innerConeAngle=u.spot.innerConeAngle!==void 0?u.spot.innerConeAngle:0,u.spot.outerConeAngle=u.spot.outerConeAngle!==void 0?u.spot.outerConeAngle:Math.PI/4,f.angle=u.spot.outerConeAngle,f.penumbra=1-u.spot.innerConeAngle/u.spot.outerConeAngle,f.target.position.set(0,0,-1),f.add(f.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+u.type)}return f.position.set(0,0,0),f.decay=2,Qd(f,u),u.intensity!==void 0&&(f.intensity=u.intensity),f.name=t.createUniqueName(u.name||"light_"+e),a=Promise.resolve(f),t.cache.add(r,a),a}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,r=this.parser,o=r.json.nodes[e],s=(o.extensions&&o.extensions[this.name]||{}).light;return s===void 0?null:this._loadLight(s).then(function(u){return r._getNodeRef(t.cache,s,u)})}}class Ahe{constructor(){this.name=_i.KHR_MATERIALS_UNLIT}getMaterialType(){return il}extendParams(e,t,r){const a=[];e.color=new en(1,1,1),e.opacity=1;const o=t.pbrMetallicRoughness;if(o){if(Array.isArray(o.baseColorFactor)){const l=o.baseColorFactor;e.color.setRGB(l[0],l[1],l[2],pf),e.opacity=l[3]}o.baseColorTexture!==void 0&&a.push(r.assignTexture(e,"map",o.baseColorTexture,Sm))}return Promise.all(a)}}class Mhe{constructor(e){this.parser=e,this.name=_i.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const a=this.parser.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const o=a.extensions[this.name].emissiveStrength;return o!==void 0&&(t.emissiveIntensity=o),Promise.resolve()}}class The{constructor(e){this.parser=e,this.name=_i.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Vl}extendMaterialParams(e,t){const r=this.parser,a=r.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const o=[],l=a.extensions[this.name];if(l.clearcoatFactor!==void 0&&(t.clearcoat=l.clearcoatFactor),l.clearcoatTexture!==void 0&&o.push(r.assignTexture(t,"clearcoatMap",l.clearcoatTexture)),l.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=l.clearcoatRoughnessFactor),l.clearcoatRoughnessTexture!==void 0&&o.push(r.assignTexture(t,"clearcoatRoughnessMap",l.clearcoatRoughnessTexture)),l.clearcoatNormalTexture!==void 0&&(o.push(r.assignTexture(t,"clearcoatNormalMap",l.clearcoatNormalTexture)),l.clearcoatNormalTexture.scale!==void 0)){const s=l.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Tt(s,s)}return Promise.all(o)}}class Rhe{constructor(e){this.parser=e,this.name=_i.KHR_MATERIALS_DISPERSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Vl}extendMaterialParams(e,t){const a=this.parser.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const o=a.extensions[this.name];return t.dispersion=o.dispersion!==void 0?o.dispersion:0,Promise.resolve()}}class Ohe{constructor(e){this.parser=e,this.name=_i.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Vl}extendMaterialParams(e,t){const r=this.parser,a=r.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const o=[],l=a.extensions[this.name];return l.iridescenceFactor!==void 0&&(t.iridescence=l.iridescenceFactor),l.iridescenceTexture!==void 0&&o.push(r.assignTexture(t,"iridescenceMap",l.iridescenceTexture)),l.iridescenceIor!==void 0&&(t.iridescenceIOR=l.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),l.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=l.iridescenceThicknessMinimum),l.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=l.iridescenceThicknessMaximum),l.iridescenceThicknessTexture!==void 0&&o.push(r.assignTexture(t,"iridescenceThicknessMap",l.iridescenceThicknessTexture)),Promise.all(o)}}class Ihe{constructor(e){this.parser=e,this.name=_i.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Vl}extendMaterialParams(e,t){const r=this.parser,a=r.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const o=[];t.sheenColor=new en(0,0,0),t.sheenRoughness=0,t.sheen=1;const l=a.extensions[this.name];if(l.sheenColorFactor!==void 0){const s=l.sheenColorFactor;t.sheenColor.setRGB(s[0],s[1],s[2],pf)}return l.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=l.sheenRoughnessFactor),l.sheenColorTexture!==void 0&&o.push(r.assignTexture(t,"sheenColorMap",l.sheenColorTexture,Sm)),l.sheenRoughnessTexture!==void 0&&o.push(r.assignTexture(t,"sheenRoughnessMap",l.sheenRoughnessTexture)),Promise.all(o)}}class Bhe{constructor(e){this.parser=e,this.name=_i.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Vl}extendMaterialParams(e,t){const r=this.parser,a=r.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const o=[],l=a.extensions[this.name];return l.transmissionFactor!==void 0&&(t.transmission=l.transmissionFactor),l.transmissionTexture!==void 0&&o.push(r.assignTexture(t,"transmissionMap",l.transmissionTexture)),Promise.all(o)}}class Dhe{constructor(e){this.parser=e,this.name=_i.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Vl}extendMaterialParams(e,t){const r=this.parser,a=r.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const o=[],l=a.extensions[this.name];t.thickness=l.thicknessFactor!==void 0?l.thicknessFactor:0,l.thicknessTexture!==void 0&&o.push(r.assignTexture(t,"thicknessMap",l.thicknessTexture)),t.attenuationDistance=l.attenuationDistance||1/0;const s=l.attenuationColor||[1,1,1];return t.attenuationColor=new en().setRGB(s[0],s[1],s[2],pf),Promise.all(o)}}class Phe{constructor(e){this.parser=e,this.name=_i.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Vl}extendMaterialParams(e,t){const a=this.parser.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const o=a.extensions[this.name];return t.ior=o.ior!==void 0?o.ior:1.5,Promise.resolve()}}class Lhe{constructor(e){this.parser=e,this.name=_i.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Vl}extendMaterialParams(e,t){const r=this.parser,a=r.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const o=[],l=a.extensions[this.name];t.specularIntensity=l.specularFactor!==void 0?l.specularFactor:1,l.specularTexture!==void 0&&o.push(r.assignTexture(t,"specularIntensityMap",l.specularTexture));const s=l.specularColorFactor||[1,1,1];return t.specularColor=new en().setRGB(s[0],s[1],s[2],pf),l.specularColorTexture!==void 0&&o.push(r.assignTexture(t,"specularColorMap",l.specularColorTexture,Sm)),Promise.all(o)}}class Nhe{constructor(e){this.parser=e,this.name=_i.EXT_MATERIALS_BUMP}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Vl}extendMaterialParams(e,t){const r=this.parser,a=r.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const o=[],l=a.extensions[this.name];return t.bumpScale=l.bumpFactor!==void 0?l.bumpFactor:1,l.bumpTexture!==void 0&&o.push(r.assignTexture(t,"bumpMap",l.bumpTexture)),Promise.all(o)}}class zhe{constructor(e){this.parser=e,this.name=_i.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Vl}extendMaterialParams(e,t){const r=this.parser,a=r.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const o=[],l=a.extensions[this.name];return l.anisotropyStrength!==void 0&&(t.anisotropy=l.anisotropyStrength),l.anisotropyRotation!==void 0&&(t.anisotropyRotation=l.anisotropyRotation),l.anisotropyTexture!==void 0&&o.push(r.assignTexture(t,"anisotropyMap",l.anisotropyTexture)),Promise.all(o)}}class Uhe{constructor(e){this.parser=e,this.name=_i.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,a=r.textures[e];if(!a.extensions||!a.extensions[this.name])return null;const o=a.extensions[this.name],l=t.options.ktx2Loader;if(!l){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,o.source,l)}}class Fhe{constructor(e){this.parser=e,this.name=_i.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,a=r.json,o=a.textures[e];if(!o.extensions||!o.extensions[t])return null;const l=o.extensions[t],s=a.images[l.source];let u=r.textureLoader;if(s.uri){const f=r.options.manager.getHandler(s.uri);f!==null&&(u=f)}return this.detectSupport().then(function(f){if(f)return r.loadTextureImage(e,l.source,u);if(a.extensionsRequired&&a.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Hhe{constructor(e){this.parser=e,this.name=_i.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,a=r.json,o=a.textures[e];if(!o.extensions||!o.extensions[t])return null;const l=o.extensions[t],s=a.images[l.source];let u=r.textureLoader;if(s.uri){const f=r.options.manager.getHandler(s.uri);f!==null&&(u=f)}return this.detectSupport().then(function(f){if(f)return r.loadTextureImage(e,l.source,u);if(a.extensionsRequired&&a.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Ghe{constructor(e){this.name=_i.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const a=r.extensions[this.name],o=this.parser.getDependency("buffer",a.buffer),l=this.parser.options.meshoptDecoder;if(!l||!l.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return o.then(function(s){const u=a.byteOffset||0,f=a.byteLength||0,m=a.count,b=a.byteStride,_=new Uint8Array(s,u,f);return l.decodeGltfBufferAsync?l.decodeGltfBufferAsync(m,b,_,a.mode,a.filter).then(function(E){return E.buffer}):l.ready.then(function(){const E=new ArrayBuffer(m*b);return l.decodeGltfBuffer(new Uint8Array(E),m,b,_,a.mode,a.filter),E})})}else return null}}class khe{constructor(e){this.name=_i.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,r=t.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const a=t.meshes[r.mesh];for(const f of a.primitives)if(f.mode!==zl.TRIANGLES&&f.mode!==zl.TRIANGLE_STRIP&&f.mode!==zl.TRIANGLE_FAN&&f.mode!==void 0)return null;const l=r.extensions[this.name].attributes,s=[],u={};for(const f in l)s.push(this.parser.getDependency("accessor",l[f]).then(m=>(u[f]=m,u[f])));return s.length<1?null:(s.push(this.parser.createNodeMesh(e)),Promise.all(s).then(f=>{const m=f.pop(),b=m.isGroup?m.children:[m],_=f[0].count,E=[];for(const c of b){const p=new Pn,g=new be,y=new eo,C=new be(1,1,1),T=new II(c.geometry,c.material,_);for(let M=0;M<_;M++)u.TRANSLATION&&g.fromBufferAttribute(u.TRANSLATION,M),u.ROTATION&&y.fromBufferAttribute(u.ROTATION,M),u.SCALE&&C.fromBufferAttribute(u.SCALE,M),T.setMatrixAt(M,p.compose(g,y,C));for(const M in u)if(M==="_COLOR_0"){const O=u[M];T.instanceColor=new Im(O.array,O.itemSize,O.normalized)}else M!=="TRANSLATION"&&M!=="ROTATION"&&M!=="SCALE"&&c.geometry.setAttribute(M,u[M]);Di.prototype.copy.call(T,c),this.parser.assignFinalMaterial(T),E.push(T)}return m.isGroup?(m.clear(),m.add(...E),m):E[0]}))}}const vG="glTF",ab=12,XN={JSON:1313821514,BIN:5130562};class $he{constructor(e){this.name=_i.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,ab);if(this.header={magic:kE(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==vG)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-ab,a=new DataView(e,ab);let o=0;for(;o<r;){const l=a.getUint32(o,!0);o+=4;const s=a.getUint32(o,!0);if(o+=4,s===XN.JSON){const u=new Uint8Array(e,ab+o,l);this.content=kE(u)}else if(s===XN.BIN){const u=ab+o;this.body=e.slice(u,u+l)}o+=l}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Vhe{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=_i.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,a=this.dracoLoader,o=e.extensions[this.name].bufferView,l=e.extensions[this.name].attributes,s={},u={},f={};for(const m in l){const b=q2[m]||m.toLowerCase();s[b]=l[m]}for(const m in e.attributes){const b=q2[m]||m.toLowerCase();if(l[m]!==void 0){const _=r.accessors[e.attributes[m]],E=t0[_.componentType];f[b]=E.name,u[b]=_.normalized===!0}}return t.getDependency("bufferView",o).then(function(m){return new Promise(function(b,_){a.decodeDracoFile(m,function(E){for(const c in E.attributes){const p=E.attributes[c],g=u[c];g!==void 0&&(p.normalized=g)}b(E)},s,f,pf,_)})})}}class jhe{constructor(){this.name=_i.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class Whe{constructor(){this.name=_i.KHR_MESH_QUANTIZATION}}class yG extends H0{constructor(e,t,r,a){super(e,t,r,a)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,a=this.valueSize,o=e*a*3+a;for(let l=0;l!==a;l++)t[l]=r[o+l];return t}interpolate_(e,t,r,a){const o=this.resultBuffer,l=this.sampleValues,s=this.valueSize,u=s*2,f=s*3,m=a-t,b=(r-t)/m,_=b*b,E=_*b,c=e*f,p=c-f,g=-2*E+3*_,y=E-_,C=1-g,T=y-_+b;for(let M=0;M!==s;M++){const O=l[p+M+s],B=l[p+M+u]*m,D=l[c+M+s],F=l[c+M]*m;o[M]=C*O+T*B+g*D+y*F}return o}}const Xhe=new eo;class Yhe extends yG{interpolate_(e,t,r,a){const o=super.interpolate_(e,t,r,a);return Xhe.fromArray(o).normalize().toArray(o),o}}const zl={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},t0={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},YN={9728:Za,9729:ma,9984:kw,9985:Zv,9986:mm,9987:Gl},qN={33071:nl,33648:m0,10497:kh},ZT={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},q2={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...phe>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},gh={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},qhe={CUBICSPLINE:void 0,LINEAR:y0,STEP:v0},eR={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function Khe(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new KS({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:nd})),n.DefaultMaterial}function Gp(n,e,t){for(const r in t.extensions)n[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=t.extensions[r])}function Qd(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function Jhe(n,e,t){let r=!1,a=!1,o=!1;for(let f=0,m=e.length;f<m;f++){const b=e[f];if(b.POSITION!==void 0&&(r=!0),b.NORMAL!==void 0&&(a=!0),b.COLOR_0!==void 0&&(o=!0),r&&a&&o)break}if(!r&&!a&&!o)return Promise.resolve(n);const l=[],s=[],u=[];for(let f=0,m=e.length;f<m;f++){const b=e[f];if(r){const _=b.POSITION!==void 0?t.getDependency("accessor",b.POSITION):n.attributes.position;l.push(_)}if(a){const _=b.NORMAL!==void 0?t.getDependency("accessor",b.NORMAL):n.attributes.normal;s.push(_)}if(o){const _=b.COLOR_0!==void 0?t.getDependency("accessor",b.COLOR_0):n.attributes.color;u.push(_)}}return Promise.all([Promise.all(l),Promise.all(s),Promise.all(u)]).then(function(f){const m=f[0],b=f[1],_=f[2];return r&&(n.morphAttributes.position=m),a&&(n.morphAttributes.normal=b),o&&(n.morphAttributes.color=_),n.morphTargetsRelative=!0,n})}function Qhe(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,r=e.weights.length;t<r;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let r=0,a=t.length;r<a;r++)n.morphTargetDictionary[t[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Zhe(n){let e;const t=n.extensions&&n.extensions[_i.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+tR(t.attributes):e=n.indices+":"+tR(n.attributes)+":"+n.mode,n.targets!==void 0)for(let r=0,a=n.targets.length;r<a;r++)e+=":"+tR(n.targets[r]);return e}function tR(n){let e="";const t=Object.keys(n).sort();for(let r=0,a=t.length;r<a;r++)e+=t[r]+":"+n[t[r]]+";";return e}function K2(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function epe(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const tpe=new Pn;class npe{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new Ehe,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,a=!1,o=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,a=navigator.userAgent.indexOf("Firefox")>-1,o=a?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||a&&o<98?this.textureLoader=new T6(this.options.manager):this.textureLoader=new N6(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new sl(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,a=this.json,o=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(l){return l._markDefs&&l._markDefs()}),Promise.all(this._invokeAll(function(l){return l.beforeRoot&&l.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(l){const s={scene:l[0][a.scene||0],scenes:l[0],animations:l[1],cameras:l[2],asset:a.asset,parser:r,userData:{}};return Gp(o,s,a),Qd(s,a),Promise.all(r._invokeAll(function(u){return u.afterRoot&&u.afterRoot(s)})).then(function(){for(const u of s.scenes)u.updateMatrixWorld();e(s)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let a=0,o=t.length;a<o;a++){const l=t[a].joints;for(let s=0,u=l.length;s<u;s++)e[l[s]].isBone=!0}for(let a=0,o=e.length;a<o;a++){const l=e[a];l.mesh!==void 0&&(this._addNodeRef(this.meshCache,l.mesh),l.skin!==void 0&&(r[l.mesh].isSkinnedMesh=!0)),l.camera!==void 0&&this._addNodeRef(this.cameraCache,l.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const a=r.clone(),o=(l,s)=>{const u=this.associations.get(l);u!=null&&this.associations.set(s,u);for(const[f,m]of l.children.entries())o(m,s.children[f])};return o(r,a),a.name+="_instance_"+e.uses[t]++,a}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const a=e(t[r]);if(a)return a}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let a=0;a<t.length;a++){const o=e(t[a]);o&&r.push(o)}return r}getDependency(e,t){const r=e+":"+t;let a=this.cache.get(r);if(!a){switch(e){case"scene":a=this.loadScene(t);break;case"node":a=this._invokeOne(function(o){return o.loadNode&&o.loadNode(t)});break;case"mesh":a=this._invokeOne(function(o){return o.loadMesh&&o.loadMesh(t)});break;case"accessor":a=this.loadAccessor(t);break;case"bufferView":a=this._invokeOne(function(o){return o.loadBufferView&&o.loadBufferView(t)});break;case"buffer":a=this.loadBuffer(t);break;case"material":a=this._invokeOne(function(o){return o.loadMaterial&&o.loadMaterial(t)});break;case"texture":a=this._invokeOne(function(o){return o.loadTexture&&o.loadTexture(t)});break;case"skin":a=this.loadSkin(t);break;case"animation":a=this._invokeOne(function(o){return o.loadAnimation&&o.loadAnimation(t)});break;case"camera":a=this.loadCamera(t);break;default:if(a=this._invokeOne(function(o){return o!=this&&o.getDependency&&o.getDependency(e,t)}),!a)throw new Error("Unknown type: "+e);break}this.cache.add(r,a)}return a}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,a=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(a.map(function(o,l){return r.getDependency(e,l)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[_i.KHR_BINARY_GLTF].body);const a=this.options;return new Promise(function(o,l){r.load(Nh.resolveURL(t.uri,a.path),o,void 0,function(){l(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(r){const a=t.byteLength||0,o=t.byteOffset||0;return r.slice(o,o+a)})}loadAccessor(e){const t=this,r=this.json,a=this.json.accessors[e];if(a.bufferView===void 0&&a.sparse===void 0){const l=ZT[a.type],s=t0[a.componentType],u=a.normalized===!0,f=new s(a.count*l);return Promise.resolve(new ki(f,l,u))}const o=[];return a.bufferView!==void 0?o.push(this.getDependency("bufferView",a.bufferView)):o.push(null),a.sparse!==void 0&&(o.push(this.getDependency("bufferView",a.sparse.indices.bufferView)),o.push(this.getDependency("bufferView",a.sparse.values.bufferView))),Promise.all(o).then(function(l){const s=l[0],u=ZT[a.type],f=t0[a.componentType],m=f.BYTES_PER_ELEMENT,b=m*u,_=a.byteOffset||0,E=a.bufferView!==void 0?r.bufferViews[a.bufferView].byteStride:void 0,c=a.normalized===!0;let p,g;if(E&&E!==b){const y=Math.floor(_/E),C="InterleavedBuffer:"+a.bufferView+":"+a.componentType+":"+y+":"+a.count;let T=t.cache.get(C);T||(p=new f(s,y*E,a.count*E/m),T=new VS(p,E/m),t.cache.add(C,T)),g=new Vh(T,u,_%E/m,c)}else s===null?p=new f(a.count*u):p=new f(s,_,a.count*u),g=new ki(p,u,c);if(a.sparse!==void 0){const y=ZT.SCALAR,C=t0[a.sparse.indices.componentType],T=a.sparse.indices.byteOffset||0,M=a.sparse.values.byteOffset||0,O=new C(l[1],T,a.sparse.count*y),B=new f(l[2],M,a.sparse.count*u);s!==null&&(g=new ki(g.array.slice(),g.itemSize,g.normalized));for(let D=0,F=O.length;D<F;D++){const z=O[D];if(g.setX(z,B[D*u]),u>=2&&g.setY(z,B[D*u+1]),u>=3&&g.setZ(z,B[D*u+2]),u>=4&&g.setW(z,B[D*u+3]),u>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return g})}loadTexture(e){const t=this.json,r=this.options,o=t.textures[e].source,l=t.images[o];let s=this.textureLoader;if(l.uri){const u=r.manager.getHandler(l.uri);u!==null&&(s=u)}return this.loadTextureImage(e,o,s)}loadTextureImage(e,t,r){const a=this,o=this.json,l=o.textures[e],s=o.images[t],u=(s.uri||s.bufferView)+":"+l.sampler;if(this.textureCache[u])return this.textureCache[u];const f=this.loadImageSource(t,r).then(function(m){m.flipY=!1,m.name=l.name||s.name||"",m.name===""&&typeof s.uri=="string"&&s.uri.startsWith("data:image/")===!1&&(m.name=s.uri);const _=(o.samplers||{})[l.sampler]||{};return m.magFilter=YN[_.magFilter]||ma,m.minFilter=YN[_.minFilter]||Gl,m.wrapS=qN[_.wrapS]||kh,m.wrapT=qN[_.wrapT]||kh,a.associations.set(m,{textures:e}),m}).catch(function(){return null});return this.textureCache[u]=f,f}loadImageSource(e,t){const r=this,a=this.json,o=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(b=>b.clone());const l=a.images[e],s=self.URL||self.webkitURL;let u=l.uri||"",f=!1;if(l.bufferView!==void 0)u=r.getDependency("bufferView",l.bufferView).then(function(b){f=!0;const _=new Blob([b],{type:l.mimeType});return u=s.createObjectURL(_),u});else if(l.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const m=Promise.resolve(u).then(function(b){return new Promise(function(_,E){let c=_;t.isImageBitmapLoader===!0&&(c=function(p){const g=new Lr(p);g.needsUpdate=!0,_(g)}),t.load(Nh.resolveURL(b,o.path),c,void 0,E)})}).then(function(b){return f===!0&&s.revokeObjectURL(u),Qd(b,l),b.userData.mimeType=l.mimeType||epe(l.uri),b}).catch(function(b){throw console.error("THREE.GLTFLoader: Couldn't load texture",u),b});return this.sourceCache[e]=m,m}assignTexture(e,t,r,a){const o=this;return this.getDependency("texture",r.index).then(function(l){if(!l)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(l=l.clone(),l.channel=r.texCoord),o.extensions[_i.KHR_TEXTURE_TRANSFORM]){const s=r.extensions!==void 0?r.extensions[_i.KHR_TEXTURE_TRANSFORM]:void 0;if(s){const u=o.associations.get(l);l=o.extensions[_i.KHR_TEXTURE_TRANSFORM].extendTexture(l,s),o.associations.set(l,u)}}return a!==void 0&&(typeof a=="number"&&(a=a===WN?Sm:pf),"colorSpace"in l?l.colorSpace=a:l.encoding=a===Sm?WN:Che),e[t]=l,l})}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const a=t.attributes.tangent===void 0,o=t.attributes.color!==void 0,l=t.attributes.normal===void 0;if(e.isPoints){const s="PointsMaterial:"+r.uuid;let u=this.cache.get(s);u||(u=new nA,Pa.prototype.copy.call(u,r),u.color.copy(r.color),u.map=r.map,u.sizeAttenuation=!1,this.cache.add(s,u)),r=u}else if(e.isLine){const s="LineBasicMaterial:"+r.uuid;let u=this.cache.get(s);u||(u=new Go,Pa.prototype.copy.call(u,r),u.color.copy(r.color),u.map=r.map,this.cache.add(s,u)),r=u}if(a||o||l){let s="ClonedMaterial:"+r.uuid+":";a&&(s+="derivative-tangents:"),o&&(s+="vertex-colors:"),l&&(s+="flat-shading:");let u=this.cache.get(s);u||(u=r.clone(),o&&(u.vertexColors=!0),l&&(u.flatShading=!0),a&&(u.normalScale&&(u.normalScale.y*=-1),u.clearcoatNormalScale&&(u.clearcoatNormalScale.y*=-1)),this.cache.add(s,u),this.associations.set(u,this.associations.get(r))),r=u}e.material=r}getMaterialType(){return KS}loadMaterial(e){const t=this,r=this.json,a=this.extensions,o=r.materials[e];let l;const s={},u=o.extensions||{},f=[];if(u[_i.KHR_MATERIALS_UNLIT]){const b=a[_i.KHR_MATERIALS_UNLIT];l=b.getMaterialType(),f.push(b.extendParams(s,o,t))}else{const b=o.pbrMetallicRoughness||{};if(s.color=new en(1,1,1),s.opacity=1,Array.isArray(b.baseColorFactor)){const _=b.baseColorFactor;s.color.setRGB(_[0],_[1],_[2],pf),s.opacity=_[3]}b.baseColorTexture!==void 0&&f.push(t.assignTexture(s,"map",b.baseColorTexture,Sm)),s.metalness=b.metallicFactor!==void 0?b.metallicFactor:1,s.roughness=b.roughnessFactor!==void 0?b.roughnessFactor:1,b.metallicRoughnessTexture!==void 0&&(f.push(t.assignTexture(s,"metalnessMap",b.metallicRoughnessTexture)),f.push(t.assignTexture(s,"roughnessMap",b.metallicRoughnessTexture))),l=this._invokeOne(function(_){return _.getMaterialType&&_.getMaterialType(e)}),f.push(Promise.all(this._invokeAll(function(_){return _.extendMaterialParams&&_.extendMaterialParams(e,s)})))}o.doubleSided===!0&&(s.side=zc);const m=o.alphaMode||eR.OPAQUE;if(m===eR.BLEND?(s.transparent=!0,s.depthWrite=!1):(s.transparent=!1,m===eR.MASK&&(s.alphaTest=o.alphaCutoff!==void 0?o.alphaCutoff:.5)),o.normalTexture!==void 0&&l!==il&&(f.push(t.assignTexture(s,"normalMap",o.normalTexture)),s.normalScale=new Tt(1,1),o.normalTexture.scale!==void 0)){const b=o.normalTexture.scale;s.normalScale.set(b,b)}if(o.occlusionTexture!==void 0&&l!==il&&(f.push(t.assignTexture(s,"aoMap",o.occlusionTexture)),o.occlusionTexture.strength!==void 0&&(s.aoMapIntensity=o.occlusionTexture.strength)),o.emissiveFactor!==void 0&&l!==il){const b=o.emissiveFactor;s.emissive=new en().setRGB(b[0],b[1],b[2],pf)}return o.emissiveTexture!==void 0&&l!==il&&f.push(t.assignTexture(s,"emissiveMap",o.emissiveTexture,Sm)),Promise.all(f).then(function(){const b=new l(s);return o.name&&(b.name=o.name),Qd(b,o),t.associations.set(b,{materials:e}),o.extensions&&Gp(a,b,o),b})}createUniqueName(e){const t=Fi.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,r=this.extensions,a=this.primitiveCache;function o(s){return r[_i.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(s,t).then(function(u){return KN(u,s,t)})}const l=[];for(let s=0,u=e.length;s<u;s++){const f=e[s],m=Zhe(f),b=a[m];if(b)l.push(b.promise);else{let _;f.extensions&&f.extensions[_i.KHR_DRACO_MESH_COMPRESSION]?_=o(f):_=KN(new ni,f,t),a[m]={primitive:f,promise:_},l.push(_)}}return Promise.all(l)}loadMesh(e){const t=this,r=this.json,a=this.extensions,o=r.meshes[e],l=o.primitives,s=[];for(let u=0,f=l.length;u<f;u++){const m=l[u].material===void 0?Khe(this.cache):this.getDependency("material",l[u].material);s.push(m)}return s.push(t.loadGeometries(l)),Promise.all(s).then(function(u){const f=u.slice(0,u.length-1),m=u[u.length-1],b=[];for(let E=0,c=m.length;E<c;E++){const p=m[E],g=l[E];let y;const C=f[E];if(g.mode===zl.TRIANGLES||g.mode===zl.TRIANGLE_STRIP||g.mode===zl.TRIANGLE_FAN||g.mode===void 0)y=o.isSkinnedMesh===!0?new OI(p,C):new ga(p,C),y.isSkinnedMesh===!0&&y.normalizeSkinWeights(),g.mode===zl.TRIANGLE_STRIP?y.geometry=$N(y.geometry,CI):g.mode===zl.TRIANGLE_FAN&&(y.geometry=$N(y.geometry,PE));else if(g.mode===zl.LINES)y=new Yc(p,C);else if(g.mode===zl.LINE_STRIP)y=new Sf(p,C);else if(g.mode===zl.LINE_LOOP)y=new BI(p,C);else if(g.mode===zl.POINTS)y=new DI(p,C);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+g.mode);Object.keys(y.geometry.morphAttributes).length>0&&Qhe(y,o),y.name=t.createUniqueName(o.name||"mesh_"+e),Qd(y,o),g.extensions&&Gp(a,y,g),t.assignFinalMaterial(y),b.push(y)}for(let E=0,c=b.length;E<c;E++)t.associations.set(b[E],{meshes:e,primitives:E});if(b.length===1)return o.extensions&&Gp(a,b[0],o),b[0];const _=new of;o.extensions&&Gp(a,_,o),t.associations.set(_,{meshes:e});for(let E=0,c=b.length;E<c;E++)_.add(b[E]);return _})}loadCamera(e){let t;const r=this.json.cameras[e],a=r[r.type];if(!a){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?t=new Xr(V8.radToDeg(a.yfov),a.aspectRatio||1,a.znear||1,a.zfar||2e6):r.type==="orthographic"&&(t=new hf(-a.xmag,a.xmag,a.ymag,-a.ymag,a.znear,a.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),Qd(t,r),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],r=[];for(let a=0,o=t.joints.length;a<o;a++)r.push(this._loadNodeShallow(t.joints[a]));return t.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",t.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(a){const o=a.pop(),l=a,s=[],u=[];for(let f=0,m=l.length;f<m;f++){const b=l[f];if(b){s.push(b);const _=new Pn;o!==null&&_.fromArray(o.array,f*16),u.push(_)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[f])}return new jS(s,u)})}loadAnimation(e){const t=this.json,r=this,a=t.animations[e],o=a.name?a.name:"animation_"+e,l=[],s=[],u=[],f=[],m=[];for(let b=0,_=a.channels.length;b<_;b++){const E=a.channels[b],c=a.samplers[E.sampler],p=E.target,g=p.node,y=a.parameters!==void 0?a.parameters[c.input]:c.input,C=a.parameters!==void 0?a.parameters[c.output]:c.output;p.node!==void 0&&(l.push(this.getDependency("node",g)),s.push(this.getDependency("accessor",y)),u.push(this.getDependency("accessor",C)),f.push(c),m.push(p))}return Promise.all([Promise.all(l),Promise.all(s),Promise.all(u),Promise.all(f),Promise.all(m)]).then(function(b){const _=b[0],E=b[1],c=b[2],p=b[3],g=b[4],y=[];for(let C=0,T=_.length;C<T;C++){const M=_[C],O=E[C],B=c[C],D=p[C],F=g[C];if(M===void 0)continue;M.updateMatrix&&M.updateMatrix();const z=r._createAnimationTracks(M,O,B,D,F);if(z)for(let U=0;U<z.length;U++)y.push(z[U])}return new x0(o,void 0,y)})}createNodeMesh(e){const t=this.json,r=this,a=t.nodes[e];return a.mesh===void 0?null:r.getDependency("mesh",a.mesh).then(function(o){const l=r._getNodeRef(r.meshCache,a.mesh,o);return a.weights!==void 0&&l.traverse(function(s){if(s.isMesh)for(let u=0,f=a.weights.length;u<f;u++)s.morphTargetInfluences[u]=a.weights[u]}),l})}loadNode(e){const t=this.json,r=this,a=t.nodes[e],o=r._loadNodeShallow(e),l=[],s=a.children||[];for(let f=0,m=s.length;f<m;f++)l.push(r.getDependency("node",s[f]));const u=a.skin===void 0?Promise.resolve(null):r.getDependency("skin",a.skin);return Promise.all([o,Promise.all(l),u]).then(function(f){const m=f[0],b=f[1],_=f[2];_!==null&&m.traverse(function(E){E.isSkinnedMesh&&E.bind(_,tpe)});for(let E=0,c=b.length;E<c;E++)m.add(b[E]);return m})}_loadNodeShallow(e){const t=this.json,r=this.extensions,a=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const o=t.nodes[e],l=o.name?a.createUniqueName(o.name):"",s=[],u=a._invokeOne(function(f){return f.createNodeMesh&&f.createNodeMesh(e)});return u&&s.push(u),o.camera!==void 0&&s.push(a.getDependency("camera",o.camera).then(function(f){return a._getNodeRef(a.cameraCache,o.camera,f)})),a._invokeAll(function(f){return f.createNodeAttachment&&f.createNodeAttachment(e)}).forEach(function(f){s.push(f)}),this.nodeCache[e]=Promise.all(s).then(function(f){let m;if(o.isBone===!0?m=new tA:f.length>1?m=new of:f.length===1?m=f[0]:m=new Di,m!==f[0])for(let b=0,_=f.length;b<_;b++)m.add(f[b]);if(o.name&&(m.userData.name=o.name,m.name=l),Qd(m,o),o.extensions&&Gp(r,m,o),o.matrix!==void 0){const b=new Pn;b.fromArray(o.matrix),m.applyMatrix4(b)}else o.translation!==void 0&&m.position.fromArray(o.translation),o.rotation!==void 0&&m.quaternion.fromArray(o.rotation),o.scale!==void 0&&m.scale.fromArray(o.scale);return a.associations.has(m)||a.associations.set(m,{}),a.associations.get(m).nodes=e,m}),this.nodeCache[e]}loadScene(e){const t=this.extensions,r=this.json.scenes[e],a=this,o=new of;r.name&&(o.name=a.createUniqueName(r.name)),Qd(o,r),r.extensions&&Gp(t,o,r);const l=r.nodes||[],s=[];for(let u=0,f=l.length;u<f;u++)s.push(a.getDependency("node",l[u]));return Promise.all(s).then(function(u){for(let m=0,b=u.length;m<b;m++)o.add(u[m]);const f=m=>{const b=new Map;for(const[_,E]of a.associations)(_ instanceof Pa||_ instanceof Lr)&&b.set(_,E);return m.traverse(_=>{const E=a.associations.get(_);E!=null&&b.set(_,E)}),b};return a.associations=f(o),o})}_createAnimationTracks(e,t,r,a,o){const l=[],s=e.name?e.name:e.uuid,u=[];gh[o.path]===gh.weights?e.traverse(function(_){_.morphTargetInfluences&&u.push(_.name?_.name:_.uuid)}):u.push(s);let f;switch(gh[o.path]){case gh.weights:f=Dm;break;case gh.rotation:f=Pm;break;case gh.position:case gh.scale:f=Lm;break;default:switch(r.itemSize){case 1:f=Dm;break;case 2:case 3:default:f=Lm;break}break}const m=a.interpolation!==void 0?qhe[a.interpolation]:y0,b=this._getArrayFromAccessor(r);for(let _=0,E=u.length;_<E;_++){const c=new f(u[_]+"."+gh[o.path],t.array,b,m);a.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(c),l.push(c)}return l}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const r=K2(t.constructor),a=new Float32Array(t.length);for(let o=0,l=t.length;o<l;o++)a[o]=t[o]*r;t=a}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(r){const a=this instanceof Pm?Yhe:yG;return new a(this.times,this.values,this.getValueSize()/3,r)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function ipe(n,e,t){const r=e.attributes,a=new go;if(r.POSITION!==void 0){const s=t.json.accessors[r.POSITION],u=s.min,f=s.max;if(u!==void 0&&f!==void 0){if(a.set(new be(u[0],u[1],u[2]),new be(f[0],f[1],f[2])),s.normalized){const m=K2(t0[s.componentType]);a.min.multiplyScalar(m),a.max.multiplyScalar(m)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const o=e.targets;if(o!==void 0){const s=new be,u=new be;for(let f=0,m=o.length;f<m;f++){const b=o[f];if(b.POSITION!==void 0){const _=t.json.accessors[b.POSITION],E=_.min,c=_.max;if(E!==void 0&&c!==void 0){if(u.setX(Math.max(Math.abs(E[0]),Math.abs(c[0]))),u.setY(Math.max(Math.abs(E[1]),Math.abs(c[1]))),u.setZ(Math.max(Math.abs(E[2]),Math.abs(c[2]))),_.normalized){const p=K2(t0[_.componentType]);u.multiplyScalar(p)}s.max(u)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}a.expandByVector(s)}n.boundingBox=a;const l=new vo;a.getCenter(l.center),l.radius=a.min.distanceTo(a.max)/2,n.boundingSphere=l}function KN(n,e,t){const r=e.attributes,a=[];function o(l,s){return t.getDependency("accessor",l).then(function(u){n.setAttribute(s,u)})}for(const l in r){const s=q2[l]||l.toLowerCase();s in n.attributes||a.push(o(r[l],s))}if(e.indices!==void 0&&!n.index){const l=t.getDependency("accessor",e.indices).then(function(s){n.setIndex(s)});a.push(l)}return Qd(n,e),ipe(n,e,t),Promise.all(a).then(function(){return e.targets!==void 0?Jhe(n,e.targets,t):n})}const nR=new WeakMap;class rpe extends ko{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,a){const o=new sl(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,l=>{const s={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(l,s).then(t).catch(a)},r,a)}decodeDracoFile(e,t,r,a){const o={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:a||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,o).then(t)}decodeGeometry(e,t){for(const u in t.attributeTypes){const f=t.attributeTypes[u];f.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[u]=f.name)}const r=JSON.stringify(t);if(nR.has(e)){const u=nR.get(e);if(u.key===r)return u.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let a;const o=this.workerNextTaskID++,l=e.byteLength,s=this._getWorker(o,l).then(u=>(a=u,new Promise((f,m)=>{a._callbacks[o]={resolve:f,reject:m},a.postMessage({type:"decode",id:o,taskConfig:t,buffer:e},[e])}))).then(u=>this._createGeometry(u.geometry));return s.catch(()=>!0).then(()=>{a&&o&&this._releaseTask(a,o)}),nR.set(e,{key:r,promise:s}),s}_createGeometry(e){const t=new ni;e.index&&t.setIndex(new ki(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const a=e.attributes[r],o=a.name,l=a.array,s=a.itemSize;t.setAttribute(o,new ki(l,s))}return t}_loadLibrary(e,t){const r=new sl(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((a,o)=>{r.load(e,a,void 0,o)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(r=>{const a=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const o=ape.toString(),l=["/* draco decoder */",a,"","/* worker */",o.substring(o.indexOf("{")+1,o.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([l]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const a=new Worker(this.workerSourceURL);a._callbacks={},a._taskCosts={},a._taskLoad=0,a.postMessage({type:"init",decoderConfig:this.decoderConfig}),a.onmessage=function(o){const l=o.data;switch(l.type){case"decode":a._callbacks[l.id].resolve(l);break;case"error":a._callbacks[l.id].reject(l);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+l.type+'"')}},this.workerPool.push(a)}else this.workerPool.sort(function(a,o){return a._taskLoad>o._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function ape(){let n,e;onmessage=function(l){const s=l.data;switch(s.type){case"init":n=s.decoderConfig,e=new Promise(function(m){n.onModuleLoaded=function(b){m({draco:b})},DracoDecoderModule(n)});break;case"decode":const u=s.buffer,f=s.taskConfig;e.then(m=>{const b=m.draco,_=new b.Decoder,E=new b.DecoderBuffer;E.Init(new Int8Array(u),u.byteLength);try{const c=t(b,_,E,f),p=c.attributes.map(g=>g.array.buffer);c.index&&p.push(c.index.array.buffer),self.postMessage({type:"decode",id:s.id,geometry:c},p)}catch(c){console.error(c),self.postMessage({type:"error",id:s.id,error:c.message})}finally{b.destroy(E),b.destroy(_)}});break}};function t(l,s,u,f){const m=f.attributeIDs,b=f.attributeTypes;let _,E;const c=s.GetEncodedGeometryType(u);if(c===l.TRIANGULAR_MESH)_=new l.Mesh,E=s.DecodeBufferToMesh(u,_);else if(c===l.POINT_CLOUD)_=new l.PointCloud,E=s.DecodeBufferToPointCloud(u,_);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!E.ok()||_.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+E.error_msg());const p={index:null,attributes:[]};for(const g in m){const y=self[b[g]];let C,T;if(f.useUniqueIDs)T=m[g],C=s.GetAttributeByUniqueId(_,T);else{if(T=s.GetAttributeId(_,l[m[g]]),T===-1)continue;C=s.GetAttribute(_,T)}p.attributes.push(a(l,s,_,g,y,C))}return c===l.TRIANGULAR_MESH&&(p.index=r(l,s,_)),l.destroy(_),p}function r(l,s,u){const m=u.num_faces()*3,b=m*4,_=l._malloc(b);s.GetTrianglesUInt32Array(u,b,_);const E=new Uint32Array(l.HEAPF32.buffer,_,m).slice();return l._free(_),{array:E,itemSize:1}}function a(l,s,u,f,m,b){const _=b.num_components(),c=u.num_points()*_,p=c*m.BYTES_PER_ELEMENT,g=o(l,m),y=l._malloc(p);s.GetAttributeDataArrayForAllPoints(u,b,g,p,y);const C=new m(l.HEAPF32.buffer,y,c).slice();return l._free(y),{name:f,array:C,itemSize:_}}function o(l,s){switch(s){case Float32Array:return l.DT_FLOAT32;case Int8Array:return l.DT_INT8;case Int16Array:return l.DT_INT16;case Int32Array:return l.DT_INT32;case Uint8Array:return l.DT_UINT8;case Uint16Array:return l.DT_UINT16;case Uint32Array:return l.DT_UINT32}}}let CC;const iR=()=>{if(CC)return CC;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let a=n;WebAssembly.validate(t)&&(a=e);let o;const l=WebAssembly.instantiate(s(a),{}).then(b=>{o=b.instance,o.exports.__wasm_call_ctors()});function s(b){const _=new Uint8Array(b.length);for(let c=0;c<b.length;++c){const p=b.charCodeAt(c);_[c]=p>96?p-71:p>64?p-65:p>47?p+4:p>46?63:62}let E=0;for(let c=0;c<b.length;++c)_[E++]=_[c]<60?r[_[c]]:(_[c]-60)*64+_[++c];return _.buffer.slice(0,E)}function u(b,_,E,c,p,g){const y=o.exports.sbrk,C=E+3&-4,T=y(C*c),M=y(p.length),O=new Uint8Array(o.exports.memory.buffer);O.set(p,M);const B=b(T,E,c,M,p.length);if(B===0&&g&&g(T,C,c),_.set(O.subarray(T,T+E*c)),y(T-y(0)),B!==0)throw new Error(`Malformed buffer data: ${B}`)}const f={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},m={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return CC={ready:l,supported:!0,decodeVertexBuffer(b,_,E,c,p){u(o.exports.meshopt_decodeVertexBuffer,b,_,E,c,o.exports[f[p]])},decodeIndexBuffer(b,_,E,c){u(o.exports.meshopt_decodeIndexBuffer,b,_,E,c)},decodeIndexSequence(b,_,E,c){u(o.exports.meshopt_decodeIndexSequence,b,_,E,c)},decodeGltfBuffer(b,_,E,c,p,g){u(o.exports[m[p]],b,_,E,c,o.exports[f[g]])}},CC};let EC=null,bG="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function SG(n=!0,e=!0,t){return r=>{t&&t(r),n&&(EC||(EC=new rpe),EC.setDecoderPath(typeof n=="string"?n:bG),r.setDRACOLoader(EC)),e&&r.setMeshoptDecoder(typeof iR=="function"?iR():iR)}}const _A=(n,e,t,r)=>QS(sB,n,SG(e,t,r));_A.preload=(n,e,t,r)=>QS.preload(sB,n,SG(e,t,r));_A.clear=n=>QS.clear(sB,n);_A.setDecoderPath=n=>{bG=n};const ope=w.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:r,enableDamping:a=!0,keyEvents:o=!1,onChange:l,onStart:s,onEnd:u,...f},m)=>{const b=Vd(B=>B.invalidate),_=Vd(B=>B.camera),E=Vd(B=>B.gl),c=Vd(B=>B.events),p=Vd(B=>B.setEvents),g=Vd(B=>B.set),y=Vd(B=>B.get),C=Vd(B=>B.performance),T=e||_,M=r||c.connected||E.domElement,O=w.useMemo(()=>new xhe(T),[T]);return Gfe(()=>{O.enabled&&O.update()},-1),w.useEffect(()=>(o&&O.connect(o===!0?M:o),O.connect(M),()=>void O.dispose()),[o,M,t,O,b]),w.useEffect(()=>{const B=z=>{b(),t&&C.regress(),l&&l(z)},D=z=>{s&&s(z)},F=z=>{u&&u(z)};return O.addEventListener("change",B),O.addEventListener("start",D),O.addEventListener("end",F),()=>{O.removeEventListener("start",D),O.removeEventListener("end",F),O.removeEventListener("change",B)}},[l,s,u,O,b,p]),w.useEffect(()=>{if(n){const B=y().controls;return g({controls:O}),()=>g({controls:B})}},[n,O]),w.createElement("primitive",Pt({ref:m,object:O,enableDamping:a},f))}),spe="/SyncWorld/assets/model-But4_8fk.glb",lpe=()=>{const{scene:n}=_A(spe),{camera:e}=Vd();return w.useEffect(()=>{if(n&&e instanceof Xr){const t=new go().setFromObject(n),r=t.getCenter(new be);n.position.sub(r);const a=t.getSize(new be),o=Math.max(a.x,a.y,a.z),l=e.fov*(Math.PI/180),s=Math.abs(o/2/Math.tan(l/2));e.position.set(0,0,s*2),e.lookAt(0,0,0);const u=Math.PI/5,f=e.position.x*Math.cos(u)-e.position.z*Math.sin(u),m=e.position.x*Math.sin(u)+e.position.z*Math.cos(u);e.position.set(f,e.position.y,m),e.lookAt(0,0,0)}},[n,e]),n?ke.jsx("primitive",{object:n}):null},JN=n=>{const{position:e,intensity:t=1,showPointLight:r=!1}=n,a=new be(e.x,e.y,e.z),o=w.useRef(null);return w.useEffect(()=>{o.current&&o.current.position.copy(a)},[]),ke.jsxs(ke.Fragment,{children:[r&&ke.jsxs("mesh",{position:a,children:[ke.jsx("sphereGeometry",{args:[1]}),ke.jsx("meshBasicMaterial",{color:"red"})]}),ke.jsx("directionalLight",{ref:o,intensity:t})]})},cpe=()=>ke.jsxs(hhe,{camera:{position:[0,2,5],fov:75},children:[ke.jsx("color",{attach:"background",args:["#25272c"]}),ke.jsx("ambientLight",{intensity:2}),ke.jsx(JN,{position:new be(2,2,-0)}),ke.jsx(JN,{position:new be(0,0,2),intensity:4}),ke.jsx(lpe,{}),ke.jsx(ope,{})]}),upe="/SyncWorld/assets/cutout-C252wD3k.png",dpe="/SyncWorld/assets/mask-Hsm5_ShS.png",fpe="/SyncWorld/assets/env1-DLKe21cq.webp",hpe="/SyncWorld/assets/env2-G4dkyjcA.webp",ppe="/SyncWorld/assets/env3-B8PKSVLk.webp",mpe="/SyncWorld/assets/env4-BT5ECu7E.webp",gpe="/SyncWorld/assets/env5-BQ0aX3QW.webp",vpe="/SyncWorld/assets/env6-9Z5gxGUl.webp",ype="/SyncWorld/assets/env7-DwTDAoBh.webp",bpe="/SyncWorld/assets/env8-DRiCzIrd.webp",Spe="/SyncWorld/assets/output1-CO21h2Yk.png",_pe="/SyncWorld/assets/output2-C0r_6mN3.png",xpe="/SyncWorld/assets/output3-HH0ftwG3.png",Cpe="/SyncWorld/assets/output4-D13zknOE.png",Epe="/SyncWorld/assets/output5-B-YprGxj.png",wpe="/SyncWorld/assets/output6-u_vR8aCJ.png",Ape="/SyncWorld/assets/output7-CG1oWXBa.png",Mpe="/SyncWorld/assets/output8-DEE2rHza.png",Tpe="_imageContainer_fldjf_2",Rpe="_imageItem_fldjf_19",QN={imageContainer:Tpe,imageItem:Rpe},Ope=({images:n,onSelect:e})=>{const[t,r]=w.useState(null),a=(o,l)=>{r(o),e(o,l)};return ke.jsx(Xu,{gutter:[16,16],justify:"center",children:n.map((o,l)=>ke.jsx(yr,{xs:6,sm:6,md:6,lg:6,xl:6,children:ke.jsx("div",{onClick:()=>a(o.src,l),className:`${QN.imageContainer} ${t===o.src?"selected":""}`,children:ke.jsx(Qv,{src:o.src,alt:o.alt,width:"100%",height:"auto",preview:!1,className:QN.imageItem})})},l))})},ZN="/SyncWorld/assets/arc-left-CPw3yY5v.mp4",rR="/SyncWorld/assets/arc-right-BoU9SHhR.mp4",Ipe=()=>{const n=w.useRef(null),[e,t]=w.useState(rR),[r,a]=w.useState(0);w.useEffect(()=>{n.current&&(n.current.currentTime=r)},[r]);const o=u=>{n.current&&a(Math.min(u,n.current.duration))},l=()=>{n.current&&(e===rR?r<1?(t(ZN),o(1)):o(r-1):o(r+1))},s=()=>{n.current&&(e===ZN?r<1?(t(rR),o(1)):o(r-1):o(r+1))};return ke.jsx(ke.Fragment,{children:ke.jsxs(Xu,{justify:"space-between",align:"middle",children:[ke.jsx(yr,{span:24,children:ke.jsx(pa,{style:{width:"100%",color:"white"},onClick:l,type:"text",icon:ke.jsx(OV,{})})}),ke.jsx(yr,{span:2,children:ke.jsx(pa,{onClick:l,type:"text",icon:ke.jsx(I1,{}),style:{color:"white"}})}),ke.jsx(yr,{span:20,children:ke.jsxs("video",{ref:n,width:328,controls:!1,children:[ke.jsx("source",{src:e,type:"video/mp4"}),"Your browser does not support the video tag."]},e)}),ke.jsx(yr,{span:2,children:ke.jsx(pa,{onClick:s,type:"text",icon:ke.jsx(B1,{}),style:{color:"white"}})}),ke.jsx(yr,{span:24,children:ke.jsx(pa,{style:{width:"100%",color:"white"},onClick:l,type:"text",icon:ke.jsx(w$,{})})})]})})},Bpe=[{src:fpe,alt:"1"},{src:hpe,alt:"2"},{src:ppe,alt:"3"},{src:mpe,alt:"4"},{src:gpe,alt:"5"},{src:vpe,alt:"6"},{src:ype,alt:"7"},{src:bpe,alt:"8"}],Dpe=[{src:Spe,alt:"1"},{src:_pe,alt:"2"},{src:xpe,alt:"3"},{src:Cpe,alt:"4"},{src:Epe,alt:"5"},{src:wpe,alt:"6"},{src:Ape,alt:"7"},{src:Mpe,alt:"8"}],{TextArea:ez}=P0,aR="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAYAAADQvc6UAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAwSDCIMogwMCcmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsis7PPOq3QdDFcvjV3jOD1boQVTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRAQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDrkl1AuO+pmgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAwqADAAQAAAABAAAAwwAAAAD9b/HnAAAHlklEQVR4Ae3dP3PTWBSGcbGzM6GCKqlIBRV0dHRJFarQ0eUT8LH4BnRU0NHR0UEFVdIlFRV7TzRksomPY8uykTk/zewQfKw/9znv4yvJynLv4uLiV2dBoDiBf4qP3/ARuCRABEFAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghgg0Aj8i0JO4OzsrPv69Wv+hi2qPHr0qNvf39+iI97soRIh4f3z58/u7du3SXX7Xt7Z2enevHmzfQe+oSN2apSAPj09TSrb+XKI/f379+08+A0cNRE2ANkupk+ACNPvkSPcAAEibACyXUyfABGm3yNHuAECRNgAZLuYPgEirKlHu7u7XdyytGwHAd8jjNyng4OD7vnz51dbPT8/7z58+NB9+/bt6jU/TI+AGWHEnrx48eJ/EsSmHzx40L18+fLyzxF3ZVMjEyDCiEDjMYZZS5wiPXnyZFbJaxMhQIQRGzHvWR7XCyOCXsOmiDAi1HmPMMQjDpbpEiDCiL358eNHurW/5SnWdIBbXiDCiA38/Pnzrce2YyZ4//59F3ePLNMl4PbpiL2J0L979+7yDtHDhw8vtzzvdGnEXdvUigSIsCLAWavHp/+qM0BcXMd/q25n1vF57TYBp0a3mUzilePj4+7k5KSLb6gt6ydAhPUzXnoPR0dHl79WGTNCfBnn1uvSCJdegQhLI1vvCk+fPu2ePXt2tZOYEV6/fn31dz+shwAR1sP1cqvLntbEN9MxA9xcYjsxS1jWR4AIa2Ibzx0tc44fYX/16lV6NDFLXH+YL32jwiACRBiEbf5KcXoTIsQSpzXx4N28Ja4BQoK7rgXiydbHjx/P25TaQAJEGAguWy0+2Q8PD6/Ki4R8EVl+bzBOnZY95fq9rj9zAkTI2SxdidBHqG9+skdw43borCXO/ZcJdraPWdv22uIEiLA4q7nvvCug8WTqzQveOH26fodo7g6uFe/a17W3+nFBAkRYENRdb1vkkz1CH9cPsVy/jrhr27PqMYvENYNlHAIesRiBYwRy0V+8iXP8+/fvX11Mr7L7ECueb/r48eMqm7FuI2BGWDEG8cm+7G3NEOfmdcTQw4h9/55lhm7DekRYKQPZF2ArbXTAyu4kDYB2YxUzwg0gi/41ztHnfQG26HbGel/crVrm7tNY+/1btkOEAZ2M05r4FB7r9GbAIdxaZYrHdOsgJ/wCEQY0J74TmOKnbxxT9n3FgGGWWsVdowHtjt9Nnvf7yQM2aZU/TIAIAxrw6dOnAWtZZcoEnBpNuTuObWMEiLAx1HY0ZQJEmHJ3HNvGCBBhY6jtaMoEiJB0Z29vL6ls58vxPcO8/zfrdo5qvKO+d3Fx8Wu8zf1dW4p/cPzLly/dtv9Ts/EbcvGAHhHyfBIhZ6NSiIBTo0LNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiEC/wGgKKC4YMA4TAAAAABJRU5ErkJggg==",Ppe=n=>{const{onChange:e}=n,[t,r]=w.useState(!1),[a,o]=w.useState(0),[l,s]=w.useState(""),[u,f]=w.useState(!1),[m,b]=w.useState(!1),[_,E]=w.useState(),[c,p]=w.useState(0),g=()=>{o(1)},y=(M,O)=>{u||(s(M),f(!0),setTimeout(()=>{s(Dpe[O].src),f(!1)},1e3))},C=()=>{b(!m)},T=M=>{E(M),e(M)};return w.useEffect(()=>{if(c===100){setTimeout(()=>{o(2)},300);return}a===1&&setTimeout(()=>{c<100&&p(c+1)},16)},[a,c]),ke.jsxs(ke.Fragment,{children:[ke.jsx("div",{className:Lu.formContent,children:ke.jsxs(Xu,{gutter:[0,12],children:[ke.jsx(Xie,{onChange:g}),a===1&&ke.jsxs(ke.Fragment,{children:[ke.jsx("div",{children:"..."}),ke.jsx(OH,{percent:c})]}),a>=2&&ke.jsxs(ke.Fragment,{children:[ke.jsx(yr,{span:8,children:ke.jsx(kC,{color:"#2b2c3a",children:""})}),ke.jsx(yr,{span:8,children:ke.jsx(kC,{color:"#2b2c3a",children:"Mask"})}),ke.jsx(yr,{span:8,children:ke.jsx(kC,{color:"#2b2c3a",children:"3D"})}),ke.jsxs(Xu,{gutter:4,justify:"space-around",align:"middle",children:[ke.jsx(yr,{span:8,children:ke.jsx(Qv,{src:upe,fallback:aR,className:Lu.imageSelect,width:"100%"})}),ke.jsx(yr,{span:8,children:ke.jsx(Qv,{src:dpe,fallback:aR,className:Lu.imageSelect,width:"100%"})}),ke.jsx(yr,{span:8,children:ke.jsx(cpe,{})})]})]}),a>=2&&ke.jsxs(ke.Fragment,{children:[ke.jsx("label",{children:""}),ke.jsxs(Xu,{gutter:[12,12],children:[ke.jsx(yr,{span:24,children:ke.jsx(Ope,{images:Bpe,onSelect:y})}),ke.jsxs(yr,{span:24,children:[ke.jsx(pa,{size:"large",color:"default",variant:"solid",className:Lu.customButton,onClick:()=>r(!0),children:"Custom"}),ke.jsx($l,{title:"",centered:!0,open:t,onOk:()=>r(!1),onCancel:()=>r(!1),width:1e3,children:ke.jsx("iframe",{width:"950",height:"600",src:"https://threejs.org/editor/"})})]}),l&&ke.jsx(yr,{children:ke.jsx(Qv,{style:u?{filter:"blur(10px)"}:{},src:l,fallback:aR,className:Lu.imageSelect,width:"100%"})})]})]}),a>=2&&ke.jsxs(ke.Fragment,{children:[ke.jsx(yr,{span:20,children:ke.jsx("label",{children:""})}),ke.jsx(yr,{span:4,children:ke.jsx(BH,{disabled:!l,defaultChecked:!1,onChange:C})}),m&&ke.jsxs(ke.Fragment,{children:[ke.jsx(Ipe,{}),ke.jsxs(gH,{children:[ke.jsx("label",{children:""}),ke.jsxs(hm.Group,{value:_,onChange:M=>T(M.target.value),children:[ke.jsx(hm.Button,{value:"moveLeft",children:"Move Left"}),ke.jsx(hm.Button,{value:"moveUp",children:"Move Up"}),ke.jsx(hm.Button,{value:"compress",children:"Compress"})]})]})]})]}),a>=2&&ke.jsxs(Xu,{gutter:[12,12],children:[ke.jsx(yr,{span:24,children:ke.jsx("label",{children:""})}),ke.jsx(yr,{span:24,children:ke.jsx(ez,{className:Lu.textarea,rows:4,placeholder:"Positive Prompt",maxLength:6})}),ke.jsx(yr,{span:24,children:ke.jsx(ez,{className:Lu.textarea,rows:4,placeholder:"Negative Prompt",maxLength:6})})]})]})}),ke.jsx("div",{className:Lu.formFooter,children:ke.jsx(pa,{className:Je(Lu.linearGradientButton,Lu.footerButton),type:"primary",size:"large",onClick:()=>w2.emit(A2.ADD_FAKE_VIDEO),children:"Create"})})]})};var oR={},tz;function Lpe(){return tz||(tz=1,function(n){var e=function(){var c=new Date,p=4,g=3,y=2,C=1,T=p,M={setLogLevel:function(O){O==this.debug?T=C:O==this.info?T=y:O==this.warn?T=g:(O==this.error,T=p)},debug:function(O,B){console.debug===void 0&&(console.debug=console.log),C>=T&&console.debug("["+e.getDurationString(new Date-c,1e3)+"]","["+O+"]",B)},log:function(O,B){this.debug(O.msg)},info:function(O,B){y>=T&&console.info("["+e.getDurationString(new Date-c,1e3)+"]","["+O+"]",B)},warn:function(O,B){g>=T&&console.warn("["+e.getDurationString(new Date-c,1e3)+"]","["+O+"]",B)},error:function(O,B){p>=T&&console.error("["+e.getDurationString(new Date-c,1e3)+"]","["+O+"]",B)}};return M}();e.getDurationString=function(c,p){var g;function y(D,F){for(var z=""+D,U=z.split(".");U[0].length<F;)U[0]="0"+U[0];return U.join(".")}c<0?(g=!0,c=-c):g=!1;var C=p||1,T=c/C,M=Math.floor(T/3600);T-=M*3600;var O=Math.floor(T/60);T-=O*60;var B=T*1e3;return T=Math.floor(T),B-=T*1e3,B=Math.floor(B),(g?"-":"")+M+":"+y(O,2)+":"+y(T,2)+"."+y(B,3)},e.printRanges=function(c){var p=c.length;if(p>0){for(var g="",y=0;y<p;y++)y>0&&(g+=","),g+="["+e.getDurationString(c.start(y))+","+e.getDurationString(c.end(y))+"]";return g}else return"(empty)"},n.Log=e;var t=function(c){if(c instanceof ArrayBuffer)this.buffer=c,this.dataview=new DataView(c);else throw"Needs an array buffer";this.position=0};t.prototype.getPosition=function(){return this.position},t.prototype.getEndPosition=function(){return this.buffer.byteLength},t.prototype.getLength=function(){return this.buffer.byteLength},t.prototype.seek=function(c){var p=Math.max(0,Math.min(this.buffer.byteLength,c));return this.position=isNaN(p)||!isFinite(p)?0:p,!0},t.prototype.isEos=function(){return this.getPosition()>=this.getEndPosition()},t.prototype.readAnyInt=function(c,p){var g=0;if(this.position+c<=this.buffer.byteLength){switch(c){case 1:p?g=this.dataview.getInt8(this.position):g=this.dataview.getUint8(this.position);break;case 2:p?g=this.dataview.getInt16(this.position):g=this.dataview.getUint16(this.position);break;case 3:if(p)throw"No method for reading signed 24 bits values";g=this.dataview.getUint8(this.position)<<16,g|=this.dataview.getUint8(this.position+1)<<8,g|=this.dataview.getUint8(this.position+2);break;case 4:p?g=this.dataview.getInt32(this.position):g=this.dataview.getUint32(this.position);break;case 8:if(p)throw"No method for reading signed 64 bits values";g=this.dataview.getUint32(this.position)<<32,g|=this.dataview.getUint32(this.position+4);break;default:throw"readInt method not implemented for size: "+c}return this.position+=c,g}else throw"Not enough bytes in buffer"},t.prototype.readUint8=function(){return this.readAnyInt(1,!1)},t.prototype.readUint16=function(){return this.readAnyInt(2,!1)},t.prototype.readUint24=function(){return this.readAnyInt(3,!1)},t.prototype.readUint32=function(){return this.readAnyInt(4,!1)},t.prototype.readUint64=function(){return this.readAnyInt(8,!1)},t.prototype.readString=function(c){if(this.position+c<=this.buffer.byteLength){for(var p="",g=0;g<c;g++)p+=String.fromCharCode(this.readUint8());return p}else throw"Not enough bytes in buffer"},t.prototype.readCString=function(){for(var c=[];;){var p=this.readUint8();if(p!==0)c.push(p);else break}return String.fromCharCode.apply(null,c)},t.prototype.readInt8=function(){return this.readAnyInt(1,!0)},t.prototype.readInt16=function(){return this.readAnyInt(2,!0)},t.prototype.readInt32=function(){return this.readAnyInt(4,!0)},t.prototype.readInt64=function(){return this.readAnyInt(8,!1)},t.prototype.readUint8Array=function(c){for(var p=new Uint8Array(c),g=0;g<c;g++)p[g]=this.readUint8();return p},t.prototype.readInt16Array=function(c){for(var p=new Int16Array(c),g=0;g<c;g++)p[g]=this.readInt16();return p},t.prototype.readUint16Array=function(c){for(var p=new Int16Array(c),g=0;g<c;g++)p[g]=this.readUint16();return p},t.prototype.readUint32Array=function(c){for(var p=new Uint32Array(c),g=0;g<c;g++)p[g]=this.readUint32();return p},t.prototype.readInt32Array=function(c){for(var p=new Int32Array(c),g=0;g<c;g++)p[g]=this.readInt32();return p},n.MP4BoxStream=t;var r=function(c,p,g){this._byteOffset=p||0,c instanceof ArrayBuffer?this.buffer=c:typeof c=="object"?(this.dataView=c,p&&(this._byteOffset+=p)):this.buffer=new ArrayBuffer(c||0),this.position=0,this.endianness=g??r.LITTLE_ENDIAN};r.prototype={},r.prototype.getPosition=function(){return this.position},r.prototype._realloc=function(c){if(this._dynamicSize){var p=this._byteOffset+this.position+c,g=this._buffer.byteLength;if(p<=g){p>this._byteLength&&(this._byteLength=p);return}for(g<1&&(g=1);p>g;)g*=2;var y=new ArrayBuffer(g),C=new Uint8Array(this._buffer),T=new Uint8Array(y,0,C.length);T.set(C),this.buffer=y,this._byteLength=p}},r.prototype._trimAlloc=function(){if(this._byteLength!=this._buffer.byteLength){var c=new ArrayBuffer(this._byteLength),p=new Uint8Array(c),g=new Uint8Array(this._buffer,0,p.length);p.set(g),this.buffer=c}},r.BIG_ENDIAN=!1,r.LITTLE_ENDIAN=!0,r.prototype._byteLength=0,Object.defineProperty(r.prototype,"byteLength",{get:function(){return this._byteLength-this._byteOffset}}),Object.defineProperty(r.prototype,"buffer",{get:function(){return this._trimAlloc(),this._buffer},set:function(c){this._buffer=c,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(r.prototype,"byteOffset",{get:function(){return this._byteOffset},set:function(c){this._byteOffset=c,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(r.prototype,"dataView",{get:function(){return this._dataView},set:function(c){this._byteOffset=c.byteOffset,this._buffer=c.buffer,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._byteOffset+c.byteLength}}),r.prototype.seek=function(c){var p=Math.max(0,Math.min(this.byteLength,c));this.position=isNaN(p)||!isFinite(p)?0:p},r.prototype.isEof=function(){return this.position>=this._byteLength},r.prototype.mapUint8Array=function(c){this._realloc(c*1);var p=new Uint8Array(this._buffer,this.byteOffset+this.position,c);return this.position+=c*1,p},r.prototype.readInt32Array=function(c,p){c=c??this.byteLength-this.position/4;var g=new Int32Array(c);return r.memcpy(g.buffer,0,this.buffer,this.byteOffset+this.position,c*g.BYTES_PER_ELEMENT),r.arrayToNative(g,p??this.endianness),this.position+=g.byteLength,g},r.prototype.readInt16Array=function(c,p){c=c??this.byteLength-this.position/2;var g=new Int16Array(c);return r.memcpy(g.buffer,0,this.buffer,this.byteOffset+this.position,c*g.BYTES_PER_ELEMENT),r.arrayToNative(g,p??this.endianness),this.position+=g.byteLength,g},r.prototype.readInt8Array=function(c){c=c??this.byteLength-this.position;var p=new Int8Array(c);return r.memcpy(p.buffer,0,this.buffer,this.byteOffset+this.position,c*p.BYTES_PER_ELEMENT),this.position+=p.byteLength,p},r.prototype.readUint32Array=function(c,p){c=c??this.byteLength-this.position/4;var g=new Uint32Array(c);return r.memcpy(g.buffer,0,this.buffer,this.byteOffset+this.position,c*g.BYTES_PER_ELEMENT),r.arrayToNative(g,p??this.endianness),this.position+=g.byteLength,g},r.prototype.readUint16Array=function(c,p){c=c??this.byteLength-this.position/2;var g=new Uint16Array(c);return r.memcpy(g.buffer,0,this.buffer,this.byteOffset+this.position,c*g.BYTES_PER_ELEMENT),r.arrayToNative(g,p??this.endianness),this.position+=g.byteLength,g},r.prototype.readUint8Array=function(c){c=c??this.byteLength-this.position;var p=new Uint8Array(c);return r.memcpy(p.buffer,0,this.buffer,this.byteOffset+this.position,c*p.BYTES_PER_ELEMENT),this.position+=p.byteLength,p},r.prototype.readFloat64Array=function(c,p){c=c??this.byteLength-this.position/8;var g=new Float64Array(c);return r.memcpy(g.buffer,0,this.buffer,this.byteOffset+this.position,c*g.BYTES_PER_ELEMENT),r.arrayToNative(g,p??this.endianness),this.position+=g.byteLength,g},r.prototype.readFloat32Array=function(c,p){c=c??this.byteLength-this.position/4;var g=new Float32Array(c);return r.memcpy(g.buffer,0,this.buffer,this.byteOffset+this.position,c*g.BYTES_PER_ELEMENT),r.arrayToNative(g,p??this.endianness),this.position+=g.byteLength,g},r.prototype.readInt32=function(c){var p=this._dataView.getInt32(this.position,c??this.endianness);return this.position+=4,p},r.prototype.readInt16=function(c){var p=this._dataView.getInt16(this.position,c??this.endianness);return this.position+=2,p},r.prototype.readInt8=function(){var c=this._dataView.getInt8(this.position);return this.position+=1,c},r.prototype.readUint32=function(c){var p=this._dataView.getUint32(this.position,c??this.endianness);return this.position+=4,p},r.prototype.readUint16=function(c){var p=this._dataView.getUint16(this.position,c??this.endianness);return this.position+=2,p},r.prototype.readUint8=function(){var c=this._dataView.getUint8(this.position);return this.position+=1,c},r.prototype.readFloat32=function(c){var p=this._dataView.getFloat32(this.position,c??this.endianness);return this.position+=4,p},r.prototype.readFloat64=function(c){var p=this._dataView.getFloat64(this.position,c??this.endianness);return this.position+=8,p},r.endianness=new Int8Array(new Int16Array([1]).buffer)[0]>0,r.memcpy=function(c,p,g,y,C){var T=new Uint8Array(c,p,C),M=new Uint8Array(g,y,C);T.set(M)},r.arrayToNative=function(c,p){return p==this.endianness?c:this.flipArrayEndianness(c)},r.nativeToEndian=function(c,p){return this.endianness==p?c:this.flipArrayEndianness(c)},r.flipArrayEndianness=function(c){for(var p=new Uint8Array(c.buffer,c.byteOffset,c.byteLength),g=0;g<c.byteLength;g+=c.BYTES_PER_ELEMENT)for(var y=g+c.BYTES_PER_ELEMENT-1,C=g;y>C;y--,C++){var T=p[C];p[C]=p[y],p[y]=T}return c},r.prototype.failurePosition=0,String.fromCharCodeUint8=function(c){for(var p=[],g=0;g<c.length;g++)p[g]=c[g];return String.fromCharCode.apply(null,p)},r.prototype.readString=function(c,p){return p==null||p=="ASCII"?String.fromCharCodeUint8.apply(null,[this.mapUint8Array(c??this.byteLength-this.position)]):new TextDecoder(p).decode(this.mapUint8Array(c))},r.prototype.readCString=function(c){var p=this.byteLength-this.position,g=new Uint8Array(this._buffer,this._byteOffset+this.position),y=p;c!=null&&(y=Math.min(c,p));for(var C=0;C<y&&g[C]!==0;C++);var T=String.fromCharCodeUint8.apply(null,[this.mapUint8Array(C)]);return c!=null?this.position+=y-C:C!=p&&(this.position+=1),T};var a=Math.pow(2,32);r.prototype.readInt64=function(){return this.readInt32()*a+this.readUint32()},r.prototype.readUint64=function(){return this.readUint32()*a+this.readUint32()},r.prototype.readInt64=function(){return this.readUint32()*a+this.readUint32()},r.prototype.readUint24=function(){return(this.readUint8()<<16)+(this.readUint8()<<8)+this.readUint8()},n.DataStream=r,r.prototype.save=function(c){var p=new Blob([this.buffer]);if(window.URL&&URL.createObjectURL){var g=window.URL.createObjectURL(p),y=document.createElement("a");document.body.appendChild(y),y.setAttribute("href",g),y.setAttribute("download",c),y.setAttribute("target","_self"),y.click(),window.URL.revokeObjectURL(g)}else throw"DataStream.save: Can't create object URL."},r.prototype._dynamicSize=!0,Object.defineProperty(r.prototype,"dynamicSize",{get:function(){return this._dynamicSize},set:function(c){c||this._trimAlloc(),this._dynamicSize=c}}),r.prototype.shift=function(c){var p=new ArrayBuffer(this._byteLength-c),g=new Uint8Array(p),y=new Uint8Array(this._buffer,c,g.length);g.set(y),this.buffer=p,this.position-=c},r.prototype.writeInt32Array=function(c,p){if(this._realloc(c.length*4),c instanceof Int32Array&&this.byteOffset+this.position%c.BYTES_PER_ELEMENT===0)r.memcpy(this._buffer,this.byteOffset+this.position,c.buffer,0,c.byteLength),this.mapInt32Array(c.length,p);else for(var g=0;g<c.length;g++)this.writeInt32(c[g],p)},r.prototype.writeInt16Array=function(c,p){if(this._realloc(c.length*2),c instanceof Int16Array&&this.byteOffset+this.position%c.BYTES_PER_ELEMENT===0)r.memcpy(this._buffer,this.byteOffset+this.position,c.buffer,0,c.byteLength),this.mapInt16Array(c.length,p);else for(var g=0;g<c.length;g++)this.writeInt16(c[g],p)},r.prototype.writeInt8Array=function(c){if(this._realloc(c.length*1),c instanceof Int8Array&&this.byteOffset+this.position%c.BYTES_PER_ELEMENT===0)r.memcpy(this._buffer,this.byteOffset+this.position,c.buffer,0,c.byteLength),this.mapInt8Array(c.length);else for(var p=0;p<c.length;p++)this.writeInt8(c[p])},r.prototype.writeUint32Array=function(c,p){if(this._realloc(c.length*4),c instanceof Uint32Array&&this.byteOffset+this.position%c.BYTES_PER_ELEMENT===0)r.memcpy(this._buffer,this.byteOffset+this.position,c.buffer,0,c.byteLength),this.mapUint32Array(c.length,p);else for(var g=0;g<c.length;g++)this.writeUint32(c[g],p)},r.prototype.writeUint16Array=function(c,p){if(this._realloc(c.length*2),c instanceof Uint16Array&&this.byteOffset+this.position%c.BYTES_PER_ELEMENT===0)r.memcpy(this._buffer,this.byteOffset+this.position,c.buffer,0,c.byteLength),this.mapUint16Array(c.length,p);else for(var g=0;g<c.length;g++)this.writeUint16(c[g],p)},r.prototype.writeUint8Array=function(c){if(this._realloc(c.length*1),c instanceof Uint8Array&&this.byteOffset+this.position%c.BYTES_PER_ELEMENT===0)r.memcpy(this._buffer,this.byteOffset+this.position,c.buffer,0,c.byteLength),this.mapUint8Array(c.length);else for(var p=0;p<c.length;p++)this.writeUint8(c[p])},r.prototype.writeFloat64Array=function(c,p){if(this._realloc(c.length*8),c instanceof Float64Array&&this.byteOffset+this.position%c.BYTES_PER_ELEMENT===0)r.memcpy(this._buffer,this.byteOffset+this.position,c.buffer,0,c.byteLength),this.mapFloat64Array(c.length,p);else for(var g=0;g<c.length;g++)this.writeFloat64(c[g],p)},r.prototype.writeFloat32Array=function(c,p){if(this._realloc(c.length*4),c instanceof Float32Array&&this.byteOffset+this.position%c.BYTES_PER_ELEMENT===0)r.memcpy(this._buffer,this.byteOffset+this.position,c.buffer,0,c.byteLength),this.mapFloat32Array(c.length,p);else for(var g=0;g<c.length;g++)this.writeFloat32(c[g],p)},r.prototype.writeInt32=function(c,p){this._realloc(4),this._dataView.setInt32(this.position,c,p??this.endianness),this.position+=4},r.prototype.writeInt16=function(c,p){this._realloc(2),this._dataView.setInt16(this.position,c,p??this.endianness),this.position+=2},r.prototype.writeInt8=function(c){this._realloc(1),this._dataView.setInt8(this.position,c),this.position+=1},r.prototype.writeUint32=function(c,p){this._realloc(4),this._dataView.setUint32(this.position,c,p??this.endianness),this.position+=4},r.prototype.writeUint16=function(c,p){this._realloc(2),this._dataView.setUint16(this.position,c,p??this.endianness),this.position+=2},r.prototype.writeUint8=function(c){this._realloc(1),this._dataView.setUint8(this.position,c),this.position+=1},r.prototype.writeFloat32=function(c,p){this._realloc(4),this._dataView.setFloat32(this.position,c,p??this.endianness),this.position+=4},r.prototype.writeFloat64=function(c,p){this._realloc(8),this._dataView.setFloat64(this.position,c,p??this.endianness),this.position+=8},r.prototype.writeUCS2String=function(c,p,g){g==null&&(g=c.length);for(var y=0;y<c.length&&y<g;y++)this.writeUint16(c.charCodeAt(y),p);for(;y<g;y++)this.writeUint16(0)},r.prototype.writeString=function(c,p,g){var y=0;if(p==null||p=="ASCII")if(g!=null){var C=Math.min(c.length,g);for(y=0;y<C;y++)this.writeUint8(c.charCodeAt(y));for(;y<g;y++)this.writeUint8(0)}else for(y=0;y<c.length;y++)this.writeUint8(c.charCodeAt(y));else this.writeUint8Array(new TextEncoder(p).encode(c.substring(0,g)))},r.prototype.writeCString=function(c,p){var g=0;if(p!=null){var y=Math.min(c.length,p);for(g=0;g<y;g++)this.writeUint8(c.charCodeAt(g));for(;g<p;g++)this.writeUint8(0)}else{for(g=0;g<c.length;g++)this.writeUint8(c.charCodeAt(g));this.writeUint8(0)}},r.prototype.writeStruct=function(c,p){for(var g=0;g<c.length;g+=2){var y=c[g+1];this.writeType(y,p[c[g]],p)}},r.prototype.writeType=function(c,p,g){var y;if(typeof c=="function")return c(this,p);if(typeof c=="object"&&!(c instanceof Array))return c.set(this,p,g);var C=null,T="ASCII",M=this.position;switch(typeof c=="string"&&/:/.test(c)&&(y=c.split(":"),c=y[0],C=parseInt(y[1])),typeof c=="string"&&/,/.test(c)&&(y=c.split(","),c=y[0],T=parseInt(y[1])),c){case"uint8":this.writeUint8(p);break;case"int8":this.writeInt8(p);break;case"uint16":this.writeUint16(p,this.endianness);break;case"int16":this.writeInt16(p,this.endianness);break;case"uint32":this.writeUint32(p,this.endianness);break;case"int32":this.writeInt32(p,this.endianness);break;case"float32":this.writeFloat32(p,this.endianness);break;case"float64":this.writeFloat64(p,this.endianness);break;case"uint16be":this.writeUint16(p,r.BIG_ENDIAN);break;case"int16be":this.writeInt16(p,r.BIG_ENDIAN);break;case"uint32be":this.writeUint32(p,r.BIG_ENDIAN);break;case"int32be":this.writeInt32(p,r.BIG_ENDIAN);break;case"float32be":this.writeFloat32(p,r.BIG_ENDIAN);break;case"float64be":this.writeFloat64(p,r.BIG_ENDIAN);break;case"uint16le":this.writeUint16(p,r.LITTLE_ENDIAN);break;case"int16le":this.writeInt16(p,r.LITTLE_ENDIAN);break;case"uint32le":this.writeUint32(p,r.LITTLE_ENDIAN);break;case"int32le":this.writeInt32(p,r.LITTLE_ENDIAN);break;case"float32le":this.writeFloat32(p,r.LITTLE_ENDIAN);break;case"float64le":this.writeFloat64(p,r.LITTLE_ENDIAN);break;case"cstring":this.writeCString(p,C);break;case"string":this.writeString(p,T,C);break;case"u16string":this.writeUCS2String(p,this.endianness,C);break;case"u16stringle":this.writeUCS2String(p,r.LITTLE_ENDIAN,C);break;case"u16stringbe":this.writeUCS2String(p,r.BIG_ENDIAN,C);break;default:if(c.length==3){for(var O=c[1],B=0;B<p.length;B++)this.writeType(O,p[B]);break}else{this.writeStruct(c,p);break}}C!=null&&(this.position=M,this._realloc(C),this.position=M+C)},r.prototype.writeUint64=function(c){var p=Math.floor(c/a);this.writeUint32(p),this.writeUint32(c&4294967295)},r.prototype.writeUint24=function(c){this.writeUint8((c&16711680)>>16),this.writeUint8((c&65280)>>8),this.writeUint8(c&255)},r.prototype.adjustUint32=function(c,p){var g=this.position;this.seek(c),this.writeUint32(p),this.seek(g)},r.prototype.mapInt32Array=function(c,p){this._realloc(c*4);var g=new Int32Array(this._buffer,this.byteOffset+this.position,c);return r.arrayToNative(g,p??this.endianness),this.position+=c*4,g},r.prototype.mapInt16Array=function(c,p){this._realloc(c*2);var g=new Int16Array(this._buffer,this.byteOffset+this.position,c);return r.arrayToNative(g,p??this.endianness),this.position+=c*2,g},r.prototype.mapInt8Array=function(c){this._realloc(c*1);var p=new Int8Array(this._buffer,this.byteOffset+this.position,c);return this.position+=c*1,p},r.prototype.mapUint32Array=function(c,p){this._realloc(c*4);var g=new Uint32Array(this._buffer,this.byteOffset+this.position,c);return r.arrayToNative(g,p??this.endianness),this.position+=c*4,g},r.prototype.mapUint16Array=function(c,p){this._realloc(c*2);var g=new Uint16Array(this._buffer,this.byteOffset+this.position,c);return r.arrayToNative(g,p??this.endianness),this.position+=c*2,g},r.prototype.mapFloat64Array=function(c,p){this._realloc(c*8);var g=new Float64Array(this._buffer,this.byteOffset+this.position,c);return r.arrayToNative(g,p??this.endianness),this.position+=c*8,g},r.prototype.mapFloat32Array=function(c,p){this._realloc(c*4);var g=new Float32Array(this._buffer,this.byteOffset+this.position,c);return r.arrayToNative(g,p??this.endianness),this.position+=c*4,g};var o=function(c){this.buffers=[],this.bufferIndex=-1,c&&(this.insertBuffer(c),this.bufferIndex=0)};o.prototype=new r(new ArrayBuffer,0,r.BIG_ENDIAN),o.prototype.initialized=function(){var c;return this.bufferIndex>-1?!0:this.buffers.length>0?(c=this.buffers[0],c.fileStart===0?(this.buffer=c,this.bufferIndex=0,e.debug("MultiBufferStream","Stream ready for parsing"),!0):(e.warn("MultiBufferStream","The first buffer should have a fileStart of 0"),this.logBufferLevel(),!1)):(e.warn("MultiBufferStream","No buffer to start parsing from"),this.logBufferLevel(),!1)},ArrayBuffer.concat=function(c,p){e.debug("ArrayBuffer","Trying to create a new buffer of size: "+(c.byteLength+p.byteLength));var g=new Uint8Array(c.byteLength+p.byteLength);return g.set(new Uint8Array(c),0),g.set(new Uint8Array(p),c.byteLength),g.buffer},o.prototype.reduceBuffer=function(c,p,g){var y;return y=new Uint8Array(g),y.set(new Uint8Array(c,p,g)),y.buffer.fileStart=c.fileStart+p,y.buffer.usedBytes=0,y.buffer},o.prototype.insertBuffer=function(c){for(var p=!0,g=0;g<this.buffers.length;g++){var y=this.buffers[g];if(c.fileStart<=y.fileStart){if(c.fileStart===y.fileStart)if(c.byteLength>y.byteLength){this.buffers.splice(g,1),g--;continue}else e.warn("MultiBufferStream","Buffer (fileStart: "+c.fileStart+" - Length: "+c.byteLength+") already appended, ignoring");else c.fileStart+c.byteLength<=y.fileStart||(c=this.reduceBuffer(c,0,y.fileStart-c.fileStart)),e.debug("MultiBufferStream","Appending new buffer (fileStart: "+c.fileStart+" - Length: "+c.byteLength+")"),this.buffers.splice(g,0,c),g===0&&(this.buffer=c);p=!1;break}else if(c.fileStart<y.fileStart+y.byteLength){var C=y.fileStart+y.byteLength-c.fileStart,T=c.byteLength-C;if(T>0)c=this.reduceBuffer(c,C,T);else{p=!1;break}}}p&&(e.debug("MultiBufferStream","Appending new buffer (fileStart: "+c.fileStart+" - Length: "+c.byteLength+")"),this.buffers.push(c),g===0&&(this.buffer=c))},o.prototype.logBufferLevel=function(c){var p,g,y,C,T=[],M,O="";for(y=0,C=0,p=0;p<this.buffers.length;p++)g=this.buffers[p],p===0?(M={},T.push(M),M.start=g.fileStart,M.end=g.fileStart+g.byteLength,O+="["+M.start+"-"):M.end===g.fileStart?M.end=g.fileStart+g.byteLength:(M={},M.start=g.fileStart,O+=T[T.length-1].end-1+"], ["+M.start+"-",M.end=g.fileStart+g.byteLength,T.push(M)),y+=g.usedBytes,C+=g.byteLength;T.length>0&&(O+=M.end-1+"]");var B=c?e.info:e.debug;this.buffers.length===0?B("MultiBufferStream","No more buffer in memory"):B("MultiBufferStream",""+this.buffers.length+" stored buffer(s) ("+y+"/"+C+" bytes), continuous ranges: "+O)},o.prototype.cleanBuffers=function(){var c,p;for(c=0;c<this.buffers.length;c++)p=this.buffers[c],p.usedBytes===p.byteLength&&(e.debug("MultiBufferStream","Removing buffer #"+c),this.buffers.splice(c,1),c--)},o.prototype.mergeNextBuffer=function(){var c;if(this.bufferIndex+1<this.buffers.length)if(c=this.buffers[this.bufferIndex+1],c.fileStart===this.buffer.fileStart+this.buffer.byteLength){var p=this.buffer.byteLength,g=this.buffer.usedBytes,y=this.buffer.fileStart;return this.buffers[this.bufferIndex]=ArrayBuffer.concat(this.buffer,c),this.buffer=this.buffers[this.bufferIndex],this.buffers.splice(this.bufferIndex+1,1),this.buffer.usedBytes=g,this.buffer.fileStart=y,e.debug("ISOFile","Concatenating buffer for box parsing (length: "+p+"->"+this.buffer.byteLength+")"),!0}else return!1;else return!1},o.prototype.findPosition=function(c,p,g){var y,C=null,T=-1;for(c===!0?y=0:y=this.bufferIndex;y<this.buffers.length&&(C=this.buffers[y],C.fileStart<=p);){T=y,g&&(C.fileStart+C.byteLength<=p?C.usedBytes=C.byteLength:C.usedBytes=p-C.fileStart,this.logBufferLevel());y++}return T!==-1?(C=this.buffers[T],C.fileStart+C.byteLength>=p?(e.debug("MultiBufferStream","Found position in existing buffer #"+T),T):-1):-1},o.prototype.findEndContiguousBuf=function(c){var p,g,y,C=c!==void 0?c:this.bufferIndex;if(g=this.buffers[C],this.buffers.length>C+1)for(p=C+1;p<this.buffers.length&&(y=this.buffers[p],y.fileStart===g.fileStart+g.byteLength);p++)g=y;return g.fileStart+g.byteLength},o.prototype.getEndFilePositionAfter=function(c){var p=this.findPosition(!0,c,!1);return p!==-1?this.findEndContiguousBuf(p):c},o.prototype.addUsedBytes=function(c){this.buffer.usedBytes+=c,this.logBufferLevel()},o.prototype.setAllUsedBytes=function(){this.buffer.usedBytes=this.buffer.byteLength,this.logBufferLevel()},o.prototype.seek=function(c,p,g){var y;return y=this.findPosition(p,c,g),y!==-1?(this.buffer=this.buffers[y],this.bufferIndex=y,this.position=c-this.buffer.fileStart,e.debug("MultiBufferStream","Repositioning parser at buffer position: "+this.position),!0):(e.debug("MultiBufferStream","Position "+c+" not found in buffered data"),!1)},o.prototype.getPosition=function(){if(this.bufferIndex===-1||this.buffers[this.bufferIndex]===null)throw"Error accessing position in the MultiBufferStream";return this.buffers[this.bufferIndex].fileStart+this.position},o.prototype.getLength=function(){return this.byteLength},o.prototype.getEndPosition=function(){if(this.bufferIndex===-1||this.buffers[this.bufferIndex]===null)throw"Error accessing position in the MultiBufferStream";return this.buffers[this.bufferIndex].fileStart+this.byteLength},n.MultiBufferStream=o;var l=function(){var c=3,p=4,g=5,y=6,C=[];C[c]="ES_Descriptor",C[p]="DecoderConfigDescriptor",C[g]="DecoderSpecificInfo",C[y]="SLConfigDescriptor",this.getDescriptorName=function(O){return C[O]};var T=this,M={};return this.parseOneDescriptor=function(O){var B=0,D,F,z;for(D=O.readUint8(),z=O.readUint8();z&128;)B=(z&127)<<7,z=O.readUint8();return B+=z&127,e.debug("MPEG4DescriptorParser","Found "+(C[D]||"Descriptor "+D)+", size "+B+" at position "+O.getPosition()),C[D]?F=new M[C[D]](B):F=new M.Descriptor(B),F.parse(O),F},M.Descriptor=function(O,B){this.tag=O,this.size=B,this.descs=[]},M.Descriptor.prototype.parse=function(O){this.data=O.readUint8Array(this.size)},M.Descriptor.prototype.findDescriptor=function(O){for(var B=0;B<this.descs.length;B++)if(this.descs[B].tag==O)return this.descs[B];return null},M.Descriptor.prototype.parseRemainingDescriptors=function(O){for(var B=O.position;O.position<B+this.size;){var D=T.parseOneDescriptor(O);this.descs.push(D)}},M.ES_Descriptor=function(O){M.Descriptor.call(this,c,O)},M.ES_Descriptor.prototype=new M.Descriptor,M.ES_Descriptor.prototype.parse=function(O){if(this.ES_ID=O.readUint16(),this.flags=O.readUint8(),this.size-=3,this.flags&128?(this.dependsOn_ES_ID=O.readUint16(),this.size-=2):this.dependsOn_ES_ID=0,this.flags&64){var B=O.readUint8();this.URL=O.readString(B),this.size-=B+1}else this.URL="";this.flags&32?(this.OCR_ES_ID=O.readUint16(),this.size-=2):this.OCR_ES_ID=0,this.parseRemainingDescriptors(O)},M.ES_Descriptor.prototype.getOTI=function(O){var B=this.findDescriptor(p);return B?B.oti:0},M.ES_Descriptor.prototype.getAudioConfig=function(O){var B=this.findDescriptor(p);if(!B)return null;var D=B.findDescriptor(g);if(D&&D.data){var F=(D.data[0]&248)>>3;return F===31&&D.data.length>=2&&(F=32+((D.data[0]&7)<<3)+((D.data[1]&224)>>5)),F}else return null},M.DecoderConfigDescriptor=function(O){M.Descriptor.call(this,p,O)},M.DecoderConfigDescriptor.prototype=new M.Descriptor,M.DecoderConfigDescriptor.prototype.parse=function(O){this.oti=O.readUint8(),this.streamType=O.readUint8(),this.upStream=(this.streamType>>1&1)!==0,this.streamType=this.streamType>>>2,this.bufferSize=O.readUint24(),this.maxBitrate=O.readUint32(),this.avgBitrate=O.readUint32(),this.size-=13,this.parseRemainingDescriptors(O)},M.DecoderSpecificInfo=function(O){M.Descriptor.call(this,g,O)},M.DecoderSpecificInfo.prototype=new M.Descriptor,M.SLConfigDescriptor=function(O){M.Descriptor.call(this,y,O)},M.SLConfigDescriptor.prototype=new M.Descriptor,this};n.MPEG4DescriptorParser=l;var s={ERR_INVALID_DATA:-1,ERR_NOT_ENOUGH_DATA:0,OK:1,BASIC_BOXES:["mdat","idat","free","skip","meco","strk"],FULL_BOXES:["hmhd","nmhd","iods","xml ","bxml","ipro","mere"],CONTAINER_BOXES:[["moov",["trak","pssh"]],["trak"],["edts"],["mdia"],["minf"],["dinf"],["stbl",["sgpd","sbgp"]],["mvex",["trex"]],["moof",["traf"]],["traf",["trun","sgpd","sbgp"]],["vttc"],["tref"],["iref"],["mfra",["tfra"]],["meco"],["hnti"],["hinf"],["strk"],["strd"],["sinf"],["rinf"],["schi"],["trgr"],["udta",["kind"]],["iprp",["ipma"]],["ipco"],["grpl"],["j2kH"],["etyp",["tyco"]]],boxCodes:[],fullBoxCodes:[],containerBoxCodes:[],sampleEntryCodes:{},sampleGroupEntryCodes:[],trackGroupTypes:[],UUIDBoxes:{},UUIDs:[],initialize:function(){s.FullBox.prototype=new s.Box,s.ContainerBox.prototype=new s.Box,s.SampleEntry.prototype=new s.Box,s.TrackGroupTypeBox.prototype=new s.FullBox,s.BASIC_BOXES.forEach(function(c){s.createBoxCtor(c)}),s.FULL_BOXES.forEach(function(c){s.createFullBoxCtor(c)}),s.CONTAINER_BOXES.forEach(function(c){s.createContainerBoxCtor(c[0],null,c[1])})},Box:function(c,p,g){this.type=c,this.size=p,this.uuid=g},FullBox:function(c,p,g){s.Box.call(this,c,p,g),this.flags=0,this.version=0},ContainerBox:function(c,p,g){s.Box.call(this,c,p,g),this.boxes=[]},SampleEntry:function(c,p,g,y){s.ContainerBox.call(this,c,p),this.hdr_size=g,this.start=y},SampleGroupEntry:function(c){this.grouping_type=c},TrackGroupTypeBox:function(c,p){s.FullBox.call(this,c,p)},createBoxCtor:function(c,p){s.boxCodes.push(c),s[c+"Box"]=function(g){s.Box.call(this,c,g)},s[c+"Box"].prototype=new s.Box,p&&(s[c+"Box"].prototype.parse=p)},createFullBoxCtor:function(c,p){s[c+"Box"]=function(g){s.FullBox.call(this,c,g)},s[c+"Box"].prototype=new s.FullBox,s[c+"Box"].prototype.parse=function(g){this.parseFullHeader(g),p&&p.call(this,g)}},addSubBoxArrays:function(c){if(c){this.subBoxNames=c;for(var p=c.length,g=0;g<p;g++)this[c[g]+"s"]=[]}},createContainerBoxCtor:function(c,p,g){s[c+"Box"]=function(y){s.ContainerBox.call(this,c,y),s.addSubBoxArrays.call(this,g)},s[c+"Box"].prototype=new s.ContainerBox,p&&(s[c+"Box"].prototype.parse=p)},createMediaSampleEntryCtor:function(c,p,g){s.sampleEntryCodes[c]=[],s[c+"SampleEntry"]=function(y,C){s.SampleEntry.call(this,y,C),s.addSubBoxArrays.call(this,g)},s[c+"SampleEntry"].prototype=new s.SampleEntry,p&&(s[c+"SampleEntry"].prototype.parse=p)},createSampleEntryCtor:function(c,p,g,y){s.sampleEntryCodes[c].push(p),s[p+"SampleEntry"]=function(C){s[c+"SampleEntry"].call(this,p,C),s.addSubBoxArrays.call(this,y)},s[p+"SampleEntry"].prototype=new s[c+"SampleEntry"],g&&(s[p+"SampleEntry"].prototype.parse=g)},createEncryptedSampleEntryCtor:function(c,p,g){s.createSampleEntryCtor.call(this,c,p,g,["sinf"])},createSampleGroupCtor:function(c,p){s[c+"SampleGroupEntry"]=function(g){s.SampleGroupEntry.call(this,c,g)},s[c+"SampleGroupEntry"].prototype=new s.SampleGroupEntry,p&&(s[c+"SampleGroupEntry"].prototype.parse=p)},createTrackGroupCtor:function(c,p){s[c+"TrackGroupTypeBox"]=function(g){s.TrackGroupTypeBox.call(this,c,g)},s[c+"TrackGroupTypeBox"].prototype=new s.TrackGroupTypeBox,p&&(s[c+"TrackGroupTypeBox"].prototype.parse=p)},createUUIDBox:function(c,p,g,y){s.UUIDs.push(c),s.UUIDBoxes[c]=function(C){p?s.FullBox.call(this,"uuid",C,c):g?s.ContainerBox.call(this,"uuid",C,c):s.Box.call(this,"uuid",C,c)},s.UUIDBoxes[c].prototype=p?new s.FullBox:g?new s.ContainerBox:new s.Box,y&&(p?s.UUIDBoxes[c].prototype.parse=function(C){this.parseFullHeader(C),y&&y.call(this,C)}:s.UUIDBoxes[c].prototype.parse=y)}};s.initialize(),s.TKHD_FLAG_ENABLED=1,s.TKHD_FLAG_IN_MOVIE=2,s.TKHD_FLAG_IN_PREVIEW=4,s.TFHD_FLAG_BASE_DATA_OFFSET=1,s.TFHD_FLAG_SAMPLE_DESC=2,s.TFHD_FLAG_SAMPLE_DUR=8,s.TFHD_FLAG_SAMPLE_SIZE=16,s.TFHD_FLAG_SAMPLE_FLAGS=32,s.TFHD_FLAG_DUR_EMPTY=65536,s.TFHD_FLAG_DEFAULT_BASE_IS_MOOF=131072,s.TRUN_FLAGS_DATA_OFFSET=1,s.TRUN_FLAGS_FIRST_FLAG=4,s.TRUN_FLAGS_DURATION=256,s.TRUN_FLAGS_SIZE=512,s.TRUN_FLAGS_FLAGS=1024,s.TRUN_FLAGS_CTS_OFFSET=2048,s.Box.prototype.add=function(c){return this.addBox(new s[c+"Box"])},s.Box.prototype.addBox=function(c){return this.boxes.push(c),this[c.type+"s"]?this[c.type+"s"].push(c):this[c.type]=c,c},s.Box.prototype.set=function(c,p){return this[c]=p,this},s.Box.prototype.addEntry=function(c,p){var g=p||"entries";return this[g]||(this[g]=[]),this[g].push(c),this},n.BoxParser=s,s.parseUUID=function(c){return s.parseHex16(c)},s.parseHex16=function(c){for(var p="",g=0;g<16;g++){var y=c.readUint8().toString(16);p+=y.length===1?"0"+y:y}return p},s.parseOneBox=function(c,p,g){var y,C=c.getPosition(),T=0,M,O;if(c.getEndPosition()-C<8)return e.debug("BoxParser","Not enough data in stream to parse the type and size of the box"),{code:s.ERR_NOT_ENOUGH_DATA};if(g&&g<8)return e.debug("BoxParser","Not enough bytes left in the parent box to parse a new box"),{code:s.ERR_NOT_ENOUGH_DATA};var B=c.readUint32(),D=c.readString(4),F=D;if(e.debug("BoxParser","Found box of type '"+D+"' and size "+B+" at position "+C),T=8,D=="uuid"){if(c.getEndPosition()-c.getPosition()<16||g-T<16)return c.seek(C),e.debug("BoxParser","Not enough bytes left in the parent box to parse a UUID box"),{code:s.ERR_NOT_ENOUGH_DATA};O=s.parseUUID(c),T+=16,F=O}if(B==1){if(c.getEndPosition()-c.getPosition()<8||g&&g-T<8)return c.seek(C),e.warn("BoxParser",'Not enough data in stream to parse the extended size of the "'+D+'" box'),{code:s.ERR_NOT_ENOUGH_DATA};B=c.readUint64(),T+=8}else if(B===0){if(g)B=g;else if(D!=="mdat")return e.error("BoxParser","Unlimited box size not supported for type: '"+D+"'"),y=new s.Box(D,B),{code:s.OK,box:y,size:y.size}}return B!==0&&B<T?(e.error("BoxParser","Box of type "+D+" has an invalid size "+B+" (too small to be a box)"),{code:s.ERR_NOT_ENOUGH_DATA,type:D,size:B,hdr_size:T,start:C}):B!==0&&g&&B>g?(e.error("BoxParser","Box of type '"+D+"' has a size "+B+" greater than its container size "+g),{code:s.ERR_NOT_ENOUGH_DATA,type:D,size:B,hdr_size:T,start:C}):B!==0&&C+B>c.getEndPosition()?(c.seek(C),e.info("BoxParser","Not enough data in stream to parse the entire '"+D+"' box"),{code:s.ERR_NOT_ENOUGH_DATA,type:D,size:B,hdr_size:T,start:C}):p?{code:s.OK,type:D,size:B,hdr_size:T,start:C}:(s[D+"Box"]?y=new s[D+"Box"](B):D!=="uuid"?(e.warn("BoxParser","Unknown box type: '"+D+"'"),y=new s.Box(D,B),y.has_unparsed_data=!0):s.UUIDBoxes[O]?y=new s.UUIDBoxes[O](B):(e.warn("BoxParser","Unknown uuid type: '"+O+"'"),y=new s.Box(D,B),y.uuid=O,y.has_unparsed_data=!0),y.hdr_size=T,y.start=C,y.write===s.Box.prototype.write&&y.type!=="mdat"&&(e.info("BoxParser","'"+F+"' box writing not yet implemented, keeping unparsed data in memory for later write"),y.parseDataAndRewind(c)),y.parse(c),M=c.getPosition()-(y.start+y.size),M<0?(e.warn("BoxParser","Parsing of box '"+F+"' did not read the entire indicated box data size (missing "+-M+" bytes), seeking forward"),c.seek(y.start+y.size)):M>0&&(e.error("BoxParser","Parsing of box '"+F+"' read "+M+" more bytes than the indicated box data size, seeking backwards"),y.size!==0&&c.seek(y.start+y.size)),{code:s.OK,box:y,size:y.size})},s.Box.prototype.parse=function(c){this.type!="mdat"?this.data=c.readUint8Array(this.size-this.hdr_size):this.size===0?c.seek(c.getEndPosition()):c.seek(this.start+this.size)},s.Box.prototype.parseDataAndRewind=function(c){this.data=c.readUint8Array(this.size-this.hdr_size),c.position-=this.size-this.hdr_size},s.FullBox.prototype.parseDataAndRewind=function(c){this.parseFullHeader(c),this.data=c.readUint8Array(this.size-this.hdr_size),this.hdr_size-=4,c.position-=this.size-this.hdr_size},s.FullBox.prototype.parseFullHeader=function(c){this.version=c.readUint8(),this.flags=c.readUint24(),this.hdr_size+=4},s.FullBox.prototype.parse=function(c){this.parseFullHeader(c),this.data=c.readUint8Array(this.size-this.hdr_size)},s.ContainerBox.prototype.parse=function(c){for(var p,g;c.getPosition()<this.start+this.size;)if(p=s.parseOneBox(c,!1,this.size-(c.getPosition()-this.start)),p.code===s.OK)if(g=p.box,this.boxes.push(g),this.subBoxNames&&this.subBoxNames.indexOf(g.type)!=-1)this[this.subBoxNames[this.subBoxNames.indexOf(g.type)]+"s"].push(g);else{var y=g.type!=="uuid"?g.type:g.uuid;this[y]?e.warn("Box of type "+y+" already stored in field of this type"):this[y]=g}else return},s.Box.prototype.parseLanguage=function(c){this.language=c.readUint16();var p=[];p[0]=this.language>>10&31,p[1]=this.language>>5&31,p[2]=this.language&31,this.languageString=String.fromCharCode(p[0]+96,p[1]+96,p[2]+96)},s.SAMPLE_ENTRY_TYPE_VISUAL="Visual",s.SAMPLE_ENTRY_TYPE_AUDIO="Audio",s.SAMPLE_ENTRY_TYPE_HINT="Hint",s.SAMPLE_ENTRY_TYPE_METADATA="Metadata",s.SAMPLE_ENTRY_TYPE_SUBTITLE="Subtitle",s.SAMPLE_ENTRY_TYPE_SYSTEM="System",s.SAMPLE_ENTRY_TYPE_TEXT="Text",s.SampleEntry.prototype.parseHeader=function(c){c.readUint8Array(6),this.data_reference_index=c.readUint16(),this.hdr_size+=8},s.SampleEntry.prototype.parse=function(c){this.parseHeader(c),this.data=c.readUint8Array(this.size-this.hdr_size)},s.SampleEntry.prototype.parseDataAndRewind=function(c){this.parseHeader(c),this.data=c.readUint8Array(this.size-this.hdr_size),this.hdr_size-=8,c.position-=this.size-this.hdr_size},s.SampleEntry.prototype.parseFooter=function(c){s.ContainerBox.prototype.parse.call(this,c)},s.createMediaSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_HINT),s.createMediaSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_METADATA),s.createMediaSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_SUBTITLE),s.createMediaSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_SYSTEM),s.createMediaSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_TEXT),s.createMediaSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,function(c){var p;this.parseHeader(c),c.readUint16(),c.readUint16(),c.readUint32Array(3),this.width=c.readUint16(),this.height=c.readUint16(),this.horizresolution=c.readUint32(),this.vertresolution=c.readUint32(),c.readUint32(),this.frame_count=c.readUint16(),p=Math.min(31,c.readUint8()),this.compressorname=c.readString(p),p<31&&c.readString(31-p),this.depth=c.readUint16(),c.readUint16(),this.parseFooter(c)}),s.createMediaSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_AUDIO,function(c){this.parseHeader(c),c.readUint32Array(2),this.channel_count=c.readUint16(),this.samplesize=c.readUint16(),c.readUint16(),c.readUint16(),this.samplerate=c.readUint32()/65536,this.parseFooter(c)}),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"avc1"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"avc2"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"avc3"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"avc4"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"av01"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"dav1"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"hvc1"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"hev1"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"hvt1"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"lhe1"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"dvh1"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"dvhe"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"vvc1"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"vvi1"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"vvs1"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"vvcN"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"vp08"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"vp09"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"avs3"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"j2ki"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"mjp2"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"mjpg"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"uncv"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_AUDIO,"mp4a"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_AUDIO,"ac-3"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_AUDIO,"ac-4"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_AUDIO,"ec-3"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_AUDIO,"Opus"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_AUDIO,"mha1"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_AUDIO,"mha2"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_AUDIO,"mhm1"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_AUDIO,"mhm2"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_AUDIO,"fLaC"),s.createEncryptedSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"encv"),s.createEncryptedSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_AUDIO,"enca"),s.createEncryptedSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_SUBTITLE,"encu"),s.createEncryptedSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_SYSTEM,"encs"),s.createEncryptedSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_TEXT,"enct"),s.createEncryptedSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_METADATA,"encm"),s.createBoxCtor("a1lx",function(c){var p=c.readUint8()&1,g=((p&1)+1)*16;this.layer_size=[];for(var y=0;y<3;y++)g==16?this.layer_size[y]=c.readUint16():this.layer_size[y]=c.readUint32()}),s.createBoxCtor("a1op",function(c){this.op_index=c.readUint8()}),s.createFullBoxCtor("auxC",function(c){this.aux_type=c.readCString();var p=this.size-this.hdr_size-(this.aux_type.length+1);this.aux_subtype=c.readUint8Array(p)}),s.createBoxCtor("av1C",function(c){var p=c.readUint8();if(p>>7&!1){e.error("av1C marker problem");return}if(this.version=p&127,this.version!==1){e.error("av1C version "+this.version+" not supported");return}if(p=c.readUint8(),this.seq_profile=p>>5&7,this.seq_level_idx_0=p&31,p=c.readUint8(),this.seq_tier_0=p>>7&1,this.high_bitdepth=p>>6&1,this.twelve_bit=p>>5&1,this.monochrome=p>>4&1,this.chroma_subsampling_x=p>>3&1,this.chroma_subsampling_y=p>>2&1,this.chroma_sample_position=p&3,p=c.readUint8(),this.reserved_1=p>>5&7,this.reserved_1!==0){e.error("av1C reserved_1 parsing problem");return}if(this.initial_presentation_delay_present=p>>4&1,this.initial_presentation_delay_present===1)this.initial_presentation_delay_minus_one=p&15;else if(this.reserved_2=p&15,this.reserved_2!==0){e.error("av1C reserved_2 parsing problem");return}var g=this.size-this.hdr_size-4;this.configOBUs=c.readUint8Array(g)}),s.createBoxCtor("avcC",function(c){var p,g;for(this.configurationVersion=c.readUint8(),this.AVCProfileIndication=c.readUint8(),this.profile_compatibility=c.readUint8(),this.AVCLevelIndication=c.readUint8(),this.lengthSizeMinusOne=c.readUint8()&3,this.nb_SPS_nalus=c.readUint8()&31,g=this.size-this.hdr_size-6,this.SPS=[],p=0;p<this.nb_SPS_nalus;p++)this.SPS[p]={},this.SPS[p].length=c.readUint16(),this.SPS[p].nalu=c.readUint8Array(this.SPS[p].length),g-=2+this.SPS[p].length;for(this.nb_PPS_nalus=c.readUint8(),g--,this.PPS=[],p=0;p<this.nb_PPS_nalus;p++)this.PPS[p]={},this.PPS[p].length=c.readUint16(),this.PPS[p].nalu=c.readUint8Array(this.PPS[p].length),g-=2+this.PPS[p].length;g>0&&(this.ext=c.readUint8Array(g))}),s.createBoxCtor("btrt",function(c){this.bufferSizeDB=c.readUint32(),this.maxBitrate=c.readUint32(),this.avgBitrate=c.readUint32()}),s.createFullBoxCtor("ccst",function(c){var p=c.readUint8();this.all_ref_pics_intra=(p&128)==128,this.intra_pred_used=(p&64)==64,this.max_ref_per_pic=(p&63)>>2,c.readUint24()}),s.createBoxCtor("cdef",function(c){var p;for(this.channel_count=c.readUint16(),this.channel_indexes=[],this.channel_types=[],this.channel_associations=[],p=0;p<this.channel_count;p++)this.channel_indexes.push(c.readUint16()),this.channel_types.push(c.readUint16()),this.channel_associations.push(c.readUint16())}),s.createBoxCtor("clap",function(c){this.cleanApertureWidthN=c.readUint32(),this.cleanApertureWidthD=c.readUint32(),this.cleanApertureHeightN=c.readUint32(),this.cleanApertureHeightD=c.readUint32(),this.horizOffN=c.readUint32(),this.horizOffD=c.readUint32(),this.vertOffN=c.readUint32(),this.vertOffD=c.readUint32()}),s.createBoxCtor("clli",function(c){this.max_content_light_level=c.readUint16(),this.max_pic_average_light_level=c.readUint16()}),s.createFullBoxCtor("cmex",function(c){this.flags&1&&(this.pos_x=c.readInt32()),this.flags&2&&(this.pos_y=c.readInt32()),this.flags&4&&(this.pos_z=c.readInt32()),this.flags&8&&(this.version==0?this.flags&16?(this.quat_x=c.readInt32(),this.quat_y=c.readInt32(),this.quat_z=c.readInt32()):(this.quat_x=c.readInt16(),this.quat_y=c.readInt16(),this.quat_z=c.readInt16()):this.version==1),this.flags&32&&(this.id=c.readUint32())}),s.createFullBoxCtor("cmin",function(c){this.focal_length_x=c.readInt32(),this.principal_point_x=c.readInt32(),this.principal_point_y=c.readInt32(),this.flags&1&&(this.focal_length_y=c.readInt32(),this.skew_factor=c.readInt32())}),s.createBoxCtor("cmpd",function(c){for(this.component_count=c.readUint32(),this.component_types=[],this.component_type_urls=[],i=0;i<this.component_count;i++){var p=c.readUint16();this.component_types.push(p),p>=32768&&this.component_type_urls.push(c.readCString())}}),s.createFullBoxCtor("co64",function(c){var p,g;if(p=c.readUint32(),this.chunk_offsets=[],this.version===0)for(g=0;g<p;g++)this.chunk_offsets.push(c.readUint64())}),s.createFullBoxCtor("CoLL",function(c){this.maxCLL=c.readUint16(),this.maxFALL=c.readUint16()}),s.createBoxCtor("colr",function(c){if(this.colour_type=c.readString(4),this.colour_type==="nclx"){this.colour_primaries=c.readUint16(),this.transfer_characteristics=c.readUint16(),this.matrix_coefficients=c.readUint16();var p=c.readUint8();this.full_range_flag=p>>7}else this.colour_type==="rICC"?this.ICC_profile=c.readUint8Array(this.size-4):this.colour_type==="prof"&&(this.ICC_profile=c.readUint8Array(this.size-4))}),s.createFullBoxCtor("cprt",function(c){this.parseLanguage(c),this.notice=c.readCString()}),s.createFullBoxCtor("cslg",function(c){this.version===0&&(this.compositionToDTSShift=c.readInt32(),this.leastDecodeToDisplayDelta=c.readInt32(),this.greatestDecodeToDisplayDelta=c.readInt32(),this.compositionStartTime=c.readInt32(),this.compositionEndTime=c.readInt32())}),s.createFullBoxCtor("ctts",function(c){var p,g;if(p=c.readUint32(),this.sample_counts=[],this.sample_offsets=[],this.version===0)for(g=0;g<p;g++){this.sample_counts.push(c.readUint32());var y=c.readInt32();y<0&&e.warn("BoxParser","ctts box uses negative values without using version 1"),this.sample_offsets.push(y)}else if(this.version==1)for(g=0;g<p;g++)this.sample_counts.push(c.readUint32()),this.sample_offsets.push(c.readInt32())}),s.createBoxCtor("dac3",function(c){var p=c.readUint8(),g=c.readUint8(),y=c.readUint8();this.fscod=p>>6,this.bsid=p>>1&31,this.bsmod=(p&1)<<2|g>>6&3,this.acmod=g>>3&7,this.lfeon=g>>2&1,this.bit_rate_code=g&3|y>>5&7}),s.createBoxCtor("dec3",function(c){var p=c.readUint16();this.data_rate=p>>3,this.num_ind_sub=p&7,this.ind_subs=[];for(var g=0;g<this.num_ind_sub+1;g++){var y={};this.ind_subs.push(y);var C=c.readUint8(),T=c.readUint8(),M=c.readUint8();y.fscod=C>>6,y.bsid=C>>1&31,y.bsmod=(C&1)<<4|T>>4&15,y.acmod=T>>1&7,y.lfeon=T&1,y.num_dep_sub=M>>1&15,y.num_dep_sub>0&&(y.chan_loc=(M&1)<<8|c.readUint8())}}),s.createFullBoxCtor("dfLa",function(c){var p=127,g=128,y=[],C=["STREAMINFO","PADDING","APPLICATION","SEEKTABLE","VORBIS_COMMENT","CUESHEET","PICTURE","RESERVED"];do{var T=c.readUint8(),M=Math.min(T&p,C.length-1);if(M?c.readUint8Array(c.readUint24()):(c.readUint8Array(13),this.samplerate=c.readUint32()>>12,c.readUint8Array(20)),y.push(C[M]),T&g)break}while(!0);this.numMetadataBlocks=y.length+" ("+y.join(", ")+")"}),s.createBoxCtor("dimm",function(c){this.bytessent=c.readUint64()}),s.createBoxCtor("dmax",function(c){this.time=c.readUint32()}),s.createBoxCtor("dmed",function(c){this.bytessent=c.readUint64()}),s.createBoxCtor("dOps",function(c){if(this.Version=c.readUint8(),this.OutputChannelCount=c.readUint8(),this.PreSkip=c.readUint16(),this.InputSampleRate=c.readUint32(),this.OutputGain=c.readInt16(),this.ChannelMappingFamily=c.readUint8(),this.ChannelMappingFamily!==0){this.StreamCount=c.readUint8(),this.CoupledCount=c.readUint8(),this.ChannelMapping=[];for(var p=0;p<this.OutputChannelCount;p++)this.ChannelMapping[p]=c.readUint8()}}),s.createFullBoxCtor("dref",function(c){var p,g;this.entries=[];for(var y=c.readUint32(),C=0;C<y;C++)if(p=s.parseOneBox(c,!1,this.size-(c.getPosition()-this.start)),p.code===s.OK)g=p.box,this.entries.push(g);else return}),s.createBoxCtor("drep",function(c){this.bytessent=c.readUint64()}),s.createFullBoxCtor("elng",function(c){this.extended_language=c.readString(this.size-this.hdr_size)}),s.createFullBoxCtor("elst",function(c){this.entries=[];for(var p=c.readUint32(),g=0;g<p;g++){var y={};this.entries.push(y),this.version===1?(y.segment_duration=c.readUint64(),y.media_time=c.readInt64()):(y.segment_duration=c.readUint32(),y.media_time=c.readInt32()),y.media_rate_integer=c.readInt16(),y.media_rate_fraction=c.readInt16()}}),s.createFullBoxCtor("emsg",function(c){this.version==1?(this.timescale=c.readUint32(),this.presentation_time=c.readUint64(),this.event_duration=c.readUint32(),this.id=c.readUint32(),this.scheme_id_uri=c.readCString(),this.value=c.readCString()):(this.scheme_id_uri=c.readCString(),this.value=c.readCString(),this.timescale=c.readUint32(),this.presentation_time_delta=c.readUint32(),this.event_duration=c.readUint32(),this.id=c.readUint32());var p=this.size-this.hdr_size-(4*4+(this.scheme_id_uri.length+1)+(this.value.length+1));this.version==1&&(p-=4),this.message_data=c.readUint8Array(p)}),s.createEntityToGroupCtor=function(c,p){s[c+"Box"]=function(g){s.FullBox.call(this,c,g)},s[c+"Box"].prototype=new s.FullBox,s[c+"Box"].prototype.parse=function(g){if(this.parseFullHeader(g),p)p.call(this,g);else for(this.group_id=g.readUint32(),this.num_entities_in_group=g.readUint32(),this.entity_ids=[],i=0;i<this.num_entities_in_group;i++){var y=g.readUint32();this.entity_ids.push(y)}}},s.createEntityToGroupCtor("aebr"),s.createEntityToGroupCtor("afbr"),s.createEntityToGroupCtor("albc"),s.createEntityToGroupCtor("altr"),s.createEntityToGroupCtor("brst"),s.createEntityToGroupCtor("dobr"),s.createEntityToGroupCtor("eqiv"),s.createEntityToGroupCtor("favc"),s.createEntityToGroupCtor("fobr"),s.createEntityToGroupCtor("iaug"),s.createEntityToGroupCtor("pano"),s.createEntityToGroupCtor("slid"),s.createEntityToGroupCtor("ster"),s.createEntityToGroupCtor("tsyn"),s.createEntityToGroupCtor("wbbr"),s.createEntityToGroupCtor("prgr"),s.createEntityToGroupCtor("pymd",function(c){this.group_id=c.readUint32(),this.num_entities_in_group=c.readUint32(),this.entity_ids=[];for(var p=0;p<this.num_entities_in_group;p++){var g=c.readUint32();this.entity_ids.push(g)}for(this.tile_size_x=c.readUint16(),this.tile_size_y=c.readUint16(),this.layer_binning=[],this.tiles_in_layer_column_minus1=[],this.tiles_in_layer_row_minus1=[],p=0;p<this.num_entities_in_group;p++)this.layer_binning[p]=c.readUint16(),this.tiles_in_layer_row_minus1[p]=c.readUint16(),this.tiles_in_layer_column_minus1[p]=c.readUint16()}),s.createFullBoxCtor("esds",function(c){var p=c.readUint8Array(this.size-this.hdr_size);if(this.data=p,typeof l<"u"){var g=new l;this.esd=g.parseOneDescriptor(new r(p.buffer,0,r.BIG_ENDIAN))}}),s.createBoxCtor("fiel",function(c){this.fieldCount=c.readUint8(),this.fieldOrdering=c.readUint8()}),s.createBoxCtor("frma",function(c){this.data_format=c.readString(4)}),s.createBoxCtor("ftyp",function(c){var p=this.size-this.hdr_size;this.major_brand=c.readString(4),this.minor_version=c.readUint32(),p-=8,this.compatible_brands=[];for(var g=0;p>=4;)this.compatible_brands[g]=c.readString(4),p-=4,g++}),s.createFullBoxCtor("hdlr",function(c){this.version===0&&(c.readUint32(),this.handler=c.readString(4),c.readUint32Array(3),this.name=c.readString(this.size-this.hdr_size-20),this.name[this.name.length-1]==="\0"&&(this.name=this.name.slice(0,-1)))}),s.createBoxCtor("hvcC",function(c){var p,g,y,C;this.configurationVersion=c.readUint8(),C=c.readUint8(),this.general_profile_space=C>>6,this.general_tier_flag=(C&32)>>5,this.general_profile_idc=C&31,this.general_profile_compatibility=c.readUint32(),this.general_constraint_indicator=c.readUint8Array(6),this.general_level_idc=c.readUint8(),this.min_spatial_segmentation_idc=c.readUint16()&4095,this.parallelismType=c.readUint8()&3,this.chroma_format_idc=c.readUint8()&3,this.bit_depth_luma_minus8=c.readUint8()&7,this.bit_depth_chroma_minus8=c.readUint8()&7,this.avgFrameRate=c.readUint16(),C=c.readUint8(),this.constantFrameRate=C>>6,this.numTemporalLayers=(C&13)>>3,this.temporalIdNested=(C&4)>>2,this.lengthSizeMinusOne=C&3,this.nalu_arrays=[];var T=c.readUint8();for(p=0;p<T;p++){var M=[];this.nalu_arrays.push(M),C=c.readUint8(),M.completeness=(C&128)>>7,M.nalu_type=C&63;var O=c.readUint16();for(g=0;g<O;g++){var B={};M.push(B),y=c.readUint16(),B.data=c.readUint8Array(y)}}}),s.createFullBoxCtor("iinf",function(c){var p;this.version===0?this.entry_count=c.readUint16():this.entry_count=c.readUint32(),this.item_infos=[];for(var g=0;g<this.entry_count;g++)if(p=s.parseOneBox(c,!1,this.size-(c.getPosition()-this.start)),p.code===s.OK)p.box.type!=="infe"&&e.error("BoxParser","Expected 'infe' box, got "+p.box.type),this.item_infos[g]=p.box;else return}),s.createFullBoxCtor("iloc",function(c){var p;p=c.readUint8(),this.offset_size=p>>4&15,this.length_size=p&15,p=c.readUint8(),this.base_offset_size=p>>4&15,this.version===1||this.version===2?this.index_size=p&15:this.index_size=0,this.items=[];var g=0;if(this.version<2)g=c.readUint16();else if(this.version===2)g=c.readUint32();else throw"version of iloc box not supported";for(var y=0;y<g;y++){var C={};if(this.items.push(C),this.version<2)C.item_ID=c.readUint16();else if(this.version===2)C.item_ID=c.readUint32();else throw"version of iloc box not supported";switch(this.version===1||this.version===2?C.construction_method=c.readUint16()&15:C.construction_method=0,C.data_reference_index=c.readUint16(),this.base_offset_size){case 0:C.base_offset=0;break;case 4:C.base_offset=c.readUint32();break;case 8:C.base_offset=c.readUint64();break;default:throw"Error reading base offset size"}var T=c.readUint16();C.extents=[];for(var M=0;M<T;M++){var O={};if(C.extents.push(O),this.version===1||this.version===2)switch(this.index_size){case 0:O.extent_index=0;break;case 4:O.extent_index=c.readUint32();break;case 8:O.extent_index=c.readUint64();break;default:throw"Error reading extent index"}switch(this.offset_size){case 0:O.extent_offset=0;break;case 4:O.extent_offset=c.readUint32();break;case 8:O.extent_offset=c.readUint64();break;default:throw"Error reading extent index"}switch(this.length_size){case 0:O.extent_length=0;break;case 4:O.extent_length=c.readUint32();break;case 8:O.extent_length=c.readUint64();break;default:throw"Error reading extent index"}}}}),s.createBoxCtor("imir",function(c){var p=c.readUint8();this.reserved=p>>7,this.axis=p&1}),s.createFullBoxCtor("infe",function(c){if((this.version===0||this.version===1)&&(this.item_ID=c.readUint16(),this.item_protection_index=c.readUint16(),this.item_name=c.readCString(),this.content_type=c.readCString(),this.content_encoding=c.readCString()),this.version===1){this.extension_type=c.readString(4),e.warn("BoxParser","Cannot parse extension type"),c.seek(this.start+this.size);return}this.version>=2&&(this.version===2?this.item_ID=c.readUint16():this.version===3&&(this.item_ID=c.readUint32()),this.item_protection_index=c.readUint16(),this.item_type=c.readString(4),this.item_name=c.readCString(),this.item_type==="mime"?(this.content_type=c.readCString(),this.content_encoding=c.readCString()):this.item_type==="uri "&&(this.item_uri_type=c.readCString()))}),s.createFullBoxCtor("ipma",function(c){var p,g;for(entry_count=c.readUint32(),this.associations=[],p=0;p<entry_count;p++){var y={};this.associations.push(y),this.version<1?y.id=c.readUint16():y.id=c.readUint32();var C=c.readUint8();for(y.props=[],g=0;g<C;g++){var T=c.readUint8(),M={};y.props.push(M),M.essential=(T&128)>>7===1,this.flags&1?M.property_index=(T&127)<<8|c.readUint8():M.property_index=T&127}}}),s.createFullBoxCtor("iref",function(c){var p,g;for(this.references=[];c.getPosition()<this.start+this.size;)if(p=s.parseOneBox(c,!0,this.size-(c.getPosition()-this.start)),p.code===s.OK)this.version===0?g=new s.SingleItemTypeReferenceBox(p.type,p.size,p.hdr_size,p.start):g=new s.SingleItemTypeReferenceBoxLarge(p.type,p.size,p.hdr_size,p.start),g.write===s.Box.prototype.write&&g.type!=="mdat"&&(e.warn("BoxParser",g.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),g.parseDataAndRewind(c)),g.parse(c),this.references.push(g);else return}),s.createBoxCtor("irot",function(c){this.angle=c.readUint8()&3}),s.createFullBoxCtor("ispe",function(c){this.image_width=c.readUint32(),this.image_height=c.readUint32()}),s.createFullBoxCtor("kind",function(c){this.schemeURI=c.readCString(),this.value=c.readCString()}),s.createFullBoxCtor("leva",function(c){var p=c.readUint8();this.levels=[];for(var g=0;g<p;g++){var y={};this.levels[g]=y,y.track_ID=c.readUint32();var C=c.readUint8();switch(y.padding_flag=C>>7,y.assignment_type=C&127,y.assignment_type){case 0:y.grouping_type=c.readString(4);break;case 1:y.grouping_type=c.readString(4),y.grouping_type_parameter=c.readUint32();break;case 2:break;case 3:break;case 4:y.sub_track_id=c.readUint32();break;default:e.warn("BoxParser","Unknown leva assignement type")}}}),s.createBoxCtor("lhvC",function(c){var p,g,y;this.configurationVersion=c.readUint8(),this.min_spatial_segmentation_idc=c.readUint16()&4095,this.parallelismType=c.readUint8()&3,y=c.readUint8(),this.numTemporalLayers=(y&13)>>3,this.temporalIdNested=(y&4)>>2,this.lengthSizeMinusOne=y&3,this.nalu_arrays=[];var C=c.readUint8();for(p=0;p<C;p++){var T=[];this.nalu_arrays.push(T),y=c.readUint8(),T.completeness=(y&128)>>7,T.nalu_type=y&63;var M=c.readUint16();for(g=0;g<M;g++){var O={};T.push(O);var B=c.readUint16();O.data=c.readUint8Array(B)}}}),s.createBoxCtor("lsel",function(c){this.layer_id=c.readUint16()}),s.createBoxCtor("maxr",function(c){this.period=c.readUint32(),this.bytes=c.readUint32()});function u(c,p){this.x=c,this.y=p}u.prototype.toString=function(){return"("+this.x+","+this.y+")"},s.createBoxCtor("mdcv",function(c){this.display_primaries=[],this.display_primaries[0]=new u(c.readUint16(),c.readUint16()),this.display_primaries[1]=new u(c.readUint16(),c.readUint16()),this.display_primaries[2]=new u(c.readUint16(),c.readUint16()),this.white_point=new u(c.readUint16(),c.readUint16()),this.max_display_mastering_luminance=c.readUint32(),this.min_display_mastering_luminance=c.readUint32()}),s.createFullBoxCtor("mdhd",function(c){this.version==1?(this.creation_time=c.readUint64(),this.modification_time=c.readUint64(),this.timescale=c.readUint32(),this.duration=c.readUint64()):(this.creation_time=c.readUint32(),this.modification_time=c.readUint32(),this.timescale=c.readUint32(),this.duration=c.readUint32()),this.parseLanguage(c),c.readUint16()}),s.createFullBoxCtor("mehd",function(c){this.flags&1&&(e.warn("BoxParser","mehd box incorrectly uses flags set to 1, converting version to 1"),this.version=1),this.version==1?this.fragment_duration=c.readUint64():this.fragment_duration=c.readUint32()}),s.createFullBoxCtor("meta",function(c){this.boxes=[],s.ContainerBox.prototype.parse.call(this,c)}),s.createFullBoxCtor("mfhd",function(c){this.sequence_number=c.readUint32()}),s.createFullBoxCtor("mfro",function(c){this._size=c.readUint32()}),s.createFullBoxCtor("mskC",function(c){this.bits_per_pixel=c.readUint8()}),s.createFullBoxCtor("mvhd",function(c){this.version==1?(this.creation_time=c.readUint64(),this.modification_time=c.readUint64(),this.timescale=c.readUint32(),this.duration=c.readUint64()):(this.creation_time=c.readUint32(),this.modification_time=c.readUint32(),this.timescale=c.readUint32(),this.duration=c.readUint32()),this.rate=c.readUint32(),this.volume=c.readUint16()>>8,c.readUint16(),c.readUint32Array(2),this.matrix=c.readUint32Array(9),c.readUint32Array(6),this.next_track_id=c.readUint32()}),s.createBoxCtor("npck",function(c){this.packetssent=c.readUint32()}),s.createBoxCtor("nump",function(c){this.packetssent=c.readUint64()}),s.createFullBoxCtor("padb",function(c){var p=c.readUint32();this.padbits=[];for(var g=0;g<Math.floor((p+1)/2);g++)this.padbits=c.readUint8()}),s.createBoxCtor("pasp",function(c){this.hSpacing=c.readUint32(),this.vSpacing=c.readUint32()}),s.createBoxCtor("payl",function(c){this.text=c.readString(this.size-this.hdr_size)}),s.createBoxCtor("payt",function(c){this.payloadID=c.readUint32();var p=c.readUint8();this.rtpmap_string=c.readString(p)}),s.createFullBoxCtor("pdin",function(c){var p=(this.size-this.hdr_size)/8;this.rate=[],this.initial_delay=[];for(var g=0;g<p;g++)this.rate[g]=c.readUint32(),this.initial_delay[g]=c.readUint32()}),s.createFullBoxCtor("pitm",function(c){this.version===0?this.item_id=c.readUint16():this.item_id=c.readUint32()}),s.createFullBoxCtor("pixi",function(c){var p;for(this.num_channels=c.readUint8(),this.bits_per_channels=[],p=0;p<this.num_channels;p++)this.bits_per_channels[p]=c.readUint8()}),s.createBoxCtor("pmax",function(c){this.bytes=c.readUint32()}),s.createFullBoxCtor("prdi",function(c){if(this.step_count=c.readUint16(),this.item_count=[],this.flags&2)for(var p=0;p<this.step_count;p++)this.item_count[p]=c.readUint16()}),s.createFullBoxCtor("prft",function(c){this.ref_track_id=c.readUint32(),this.ntp_timestamp=c.readUint64(),this.version===0?this.media_time=c.readUint32():this.media_time=c.readUint64()}),s.createFullBoxCtor("pssh",function(c){if(this.system_id=s.parseHex16(c),this.version>0){var p=c.readUint32();this.kid=[];for(var g=0;g<p;g++)this.kid[g]=s.parseHex16(c)}var y=c.readUint32();y>0&&(this.data=c.readUint8Array(y))}),s.createFullBoxCtor("clef",function(c){this.width=c.readUint32(),this.height=c.readUint32()}),s.createFullBoxCtor("enof",function(c){this.width=c.readUint32(),this.height=c.readUint32()}),s.createFullBoxCtor("prof",function(c){this.width=c.readUint32(),this.height=c.readUint32()}),s.createContainerBoxCtor("tapt",null,["clef","prof","enof"]),s.createBoxCtor("rtp ",function(c){this.descriptionformat=c.readString(4),this.sdptext=c.readString(this.size-this.hdr_size-4)}),s.createFullBoxCtor("saio",function(c){this.flags&1&&(this.aux_info_type=c.readUint32(),this.aux_info_type_parameter=c.readUint32());var p=c.readUint32();this.offset=[];for(var g=0;g<p;g++)this.version===0?this.offset[g]=c.readUint32():this.offset[g]=c.readUint64()}),s.createFullBoxCtor("saiz",function(c){this.flags&1&&(this.aux_info_type=c.readUint32(),this.aux_info_type_parameter=c.readUint32()),this.default_sample_info_size=c.readUint8();var p=c.readUint32();if(this.sample_info_size=[],this.default_sample_info_size===0)for(var g=0;g<p;g++)this.sample_info_size[g]=c.readUint8()}),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_METADATA,"mett",function(c){this.parseHeader(c),this.content_encoding=c.readCString(),this.mime_format=c.readCString(),this.parseFooter(c)}),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_METADATA,"metx",function(c){this.parseHeader(c),this.content_encoding=c.readCString(),this.namespace=c.readCString(),this.schema_location=c.readCString(),this.parseFooter(c)}),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_SUBTITLE,"sbtt",function(c){this.parseHeader(c),this.content_encoding=c.readCString(),this.mime_format=c.readCString(),this.parseFooter(c)}),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_SUBTITLE,"stpp",function(c){this.parseHeader(c),this.namespace=c.readCString(),this.schema_location=c.readCString(),this.auxiliary_mime_types=c.readCString(),this.parseFooter(c)}),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_SUBTITLE,"stxt",function(c){this.parseHeader(c),this.content_encoding=c.readCString(),this.mime_format=c.readCString(),this.parseFooter(c)}),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_SUBTITLE,"tx3g",function(c){this.parseHeader(c),this.displayFlags=c.readUint32(),this.horizontal_justification=c.readInt8(),this.vertical_justification=c.readInt8(),this.bg_color_rgba=c.readUint8Array(4),this.box_record=c.readInt16Array(4),this.style_record=c.readUint8Array(12),this.parseFooter(c)}),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_METADATA,"wvtt",function(c){this.parseHeader(c),this.parseFooter(c)}),s.createSampleGroupCtor("alst",function(c){var p,g=c.readUint16();for(this.first_output_sample=c.readUint16(),this.sample_offset=[],p=0;p<g;p++)this.sample_offset[p]=c.readUint32();var y=this.description_length-4-4*g;for(this.num_output_samples=[],this.num_total_samples=[],p=0;p<y/4;p++)this.num_output_samples[p]=c.readUint16(),this.num_total_samples[p]=c.readUint16()}),s.createSampleGroupCtor("avll",function(c){this.layerNumber=c.readUint8(),this.accurateStatisticsFlag=c.readUint8(),this.avgBitRate=c.readUint16(),this.avgFrameRate=c.readUint16()}),s.createSampleGroupCtor("avss",function(c){this.subSequenceIdentifier=c.readUint16(),this.layerNumber=c.readUint8();var p=c.readUint8();this.durationFlag=p>>7,this.avgRateFlag=p>>6&1,this.durationFlag&&(this.duration=c.readUint32()),this.avgRateFlag&&(this.accurateStatisticsFlag=c.readUint8(),this.avgBitRate=c.readUint16(),this.avgFrameRate=c.readUint16()),this.dependency=[];for(var g=c.readUint8(),y=0;y<g;y++){var C={};this.dependency.push(C),C.subSeqDirectionFlag=c.readUint8(),C.layerNumber=c.readUint8(),C.subSequenceIdentifier=c.readUint16()}}),s.createSampleGroupCtor("dtrt",function(c){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),s.createSampleGroupCtor("mvif",function(c){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),s.createSampleGroupCtor("prol",function(c){this.roll_distance=c.readInt16()}),s.createSampleGroupCtor("rap ",function(c){var p=c.readUint8();this.num_leading_samples_known=p>>7,this.num_leading_samples=p&127}),s.createSampleGroupCtor("rash",function(c){if(this.operation_point_count=c.readUint16(),this.description_length!==2+(this.operation_point_count===1?2:this.operation_point_count*6)+9)e.warn("BoxParser","Mismatch in "+this.grouping_type+" sample group length"),this.data=c.readUint8Array(this.description_length-2);else{if(this.operation_point_count===1)this.target_rate_share=c.readUint16();else{this.target_rate_share=[],this.available_bitrate=[];for(var p=0;p<this.operation_point_count;p++)this.available_bitrate[p]=c.readUint32(),this.target_rate_share[p]=c.readUint16()}this.maximum_bitrate=c.readUint32(),this.minimum_bitrate=c.readUint32(),this.discard_priority=c.readUint8()}}),s.createSampleGroupCtor("roll",function(c){this.roll_distance=c.readInt16()}),s.SampleGroupEntry.prototype.parse=function(c){e.warn("BoxParser","Unknown Sample Group type: "+this.grouping_type),this.data=c.readUint8Array(this.description_length)},s.createSampleGroupCtor("scif",function(c){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),s.createSampleGroupCtor("scnm",function(c){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),s.createSampleGroupCtor("seig",function(c){this.reserved=c.readUint8();var p=c.readUint8();this.crypt_byte_block=p>>4,this.skip_byte_block=p&15,this.isProtected=c.readUint8(),this.Per_Sample_IV_Size=c.readUint8(),this.KID=s.parseHex16(c),this.constant_IV_size=0,this.constant_IV=0,this.isProtected===1&&this.Per_Sample_IV_Size===0&&(this.constant_IV_size=c.readUint8(),this.constant_IV=c.readUint8Array(this.constant_IV_size))}),s.createSampleGroupCtor("stsa",function(c){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),s.createSampleGroupCtor("sync",function(c){var p=c.readUint8();this.NAL_unit_type=p&63}),s.createSampleGroupCtor("tele",function(c){var p=c.readUint8();this.level_independently_decodable=p>>7}),s.createSampleGroupCtor("tsas",function(c){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),s.createSampleGroupCtor("tscl",function(c){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),s.createSampleGroupCtor("vipr",function(c){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),s.createFullBoxCtor("sbgp",function(c){this.grouping_type=c.readString(4),this.version===1?this.grouping_type_parameter=c.readUint32():this.grouping_type_parameter=0,this.entries=[];for(var p=c.readUint32(),g=0;g<p;g++){var y={};this.entries.push(y),y.sample_count=c.readInt32(),y.group_description_index=c.readInt32()}});function f(c,p){this.bad_pixel_row=c,this.bad_pixel_column=p}f.prototype.toString=function(){return"[row: "+this.bad_pixel_row+", column: "+this.bad_pixel_column+"]"},s.createFullBoxCtor("sbpm",function(c){var p;for(this.component_count=c.readUint16(),this.component_index=[],p=0;p<this.component_count;p++)this.component_index.push(c.readUint16());var g=c.readUint8();for(this.correction_applied=(g&128)==128,this.num_bad_rows=c.readUint32(),this.num_bad_cols=c.readUint32(),this.num_bad_pixels=c.readUint32(),this.bad_rows=[],this.bad_columns=[],this.bad_pixels=[],p=0;p<this.num_bad_rows;p++)this.bad_rows.push(c.readUint32());for(p=0;p<this.num_bad_cols;p++)this.bad_columns.push(c.readUint32());for(p=0;p<this.num_bad_pixels;p++){var y=c.readUint32(),C=c.readUint32();this.bad_pixels.push(new f(y,C))}}),s.createFullBoxCtor("schm",function(c){this.scheme_type=c.readString(4),this.scheme_version=c.readUint32(),this.flags&1&&(this.scheme_uri=c.readString(this.size-this.hdr_size-8))}),s.createBoxCtor("sdp ",function(c){this.sdptext=c.readString(this.size-this.hdr_size)}),s.createFullBoxCtor("sdtp",function(c){var p,g=this.size-this.hdr_size;this.is_leading=[],this.sample_depends_on=[],this.sample_is_depended_on=[],this.sample_has_redundancy=[];for(var y=0;y<g;y++)p=c.readUint8(),this.is_leading[y]=p>>6,this.sample_depends_on[y]=p>>4&3,this.sample_is_depended_on[y]=p>>2&3,this.sample_has_redundancy[y]=p&3}),s.createFullBoxCtor("senc"),s.createFullBoxCtor("sgpd",function(c){this.grouping_type=c.readString(4),e.debug("BoxParser","Found Sample Groups of type "+this.grouping_type),this.version===1?this.default_length=c.readUint32():this.default_length=0,this.version>=2&&(this.default_group_description_index=c.readUint32()),this.entries=[];for(var p=c.readUint32(),g=0;g<p;g++){var y;s[this.grouping_type+"SampleGroupEntry"]?y=new s[this.grouping_type+"SampleGroupEntry"](this.grouping_type):y=new s.SampleGroupEntry(this.grouping_type),this.entries.push(y),this.version===1?this.default_length===0?y.description_length=c.readUint32():y.description_length=this.default_length:y.description_length=this.default_length,y.write===s.SampleGroupEntry.prototype.write&&(e.info("BoxParser","SampleGroup for type "+this.grouping_type+" writing not yet implemented, keeping unparsed data in memory for later write"),y.data=c.readUint8Array(y.description_length),c.position-=y.description_length),y.parse(c)}}),s.createFullBoxCtor("sidx",function(c){this.reference_ID=c.readUint32(),this.timescale=c.readUint32(),this.version===0?(this.earliest_presentation_time=c.readUint32(),this.first_offset=c.readUint32()):(this.earliest_presentation_time=c.readUint64(),this.first_offset=c.readUint64()),c.readUint16(),this.references=[];for(var p=c.readUint16(),g=0;g<p;g++){var y={};this.references.push(y);var C=c.readUint32();y.reference_type=C>>31&1,y.referenced_size=C&2147483647,y.subsegment_duration=c.readUint32(),C=c.readUint32(),y.starts_with_SAP=C>>31&1,y.SAP_type=C>>28&7,y.SAP_delta_time=C&268435455}}),s.SingleItemTypeReferenceBox=function(c,p,g,y){s.Box.call(this,c,p),this.hdr_size=g,this.start=y},s.SingleItemTypeReferenceBox.prototype=new s.Box,s.SingleItemTypeReferenceBox.prototype.parse=function(c){this.from_item_ID=c.readUint16();var p=c.readUint16();this.references=[];for(var g=0;g<p;g++)this.references[g]={},this.references[g].to_item_ID=c.readUint16()},s.SingleItemTypeReferenceBoxLarge=function(c,p,g,y){s.Box.call(this,c,p),this.hdr_size=g,this.start=y},s.SingleItemTypeReferenceBoxLarge.prototype=new s.Box,s.SingleItemTypeReferenceBoxLarge.prototype.parse=function(c){this.from_item_ID=c.readUint32();var p=c.readUint16();this.references=[];for(var g=0;g<p;g++)this.references[g]={},this.references[g].to_item_ID=c.readUint32()},s.createFullBoxCtor("SmDm",function(c){this.primaryRChromaticity_x=c.readUint16(),this.primaryRChromaticity_y=c.readUint16(),this.primaryGChromaticity_x=c.readUint16(),this.primaryGChromaticity_y=c.readUint16(),this.primaryBChromaticity_x=c.readUint16(),this.primaryBChromaticity_y=c.readUint16(),this.whitePointChromaticity_x=c.readUint16(),this.whitePointChromaticity_y=c.readUint16(),this.luminanceMax=c.readUint32(),this.luminanceMin=c.readUint32()}),s.createFullBoxCtor("smhd",function(c){this.balance=c.readUint16(),c.readUint16()}),s.createFullBoxCtor("ssix",function(c){this.subsegments=[];for(var p=c.readUint32(),g=0;g<p;g++){var y={};this.subsegments.push(y),y.ranges=[];for(var C=c.readUint32(),T=0;T<C;T++){var M={};y.ranges.push(M),M.level=c.readUint8(),M.range_size=c.readUint24()}}}),s.createFullBoxCtor("stco",function(c){var p;if(p=c.readUint32(),this.chunk_offsets=[],this.version===0)for(var g=0;g<p;g++)this.chunk_offsets.push(c.readUint32())}),s.createFullBoxCtor("stdp",function(c){var p=(this.size-this.hdr_size)/2;this.priority=[];for(var g=0;g<p;g++)this.priority[g]=c.readUint16()}),s.createFullBoxCtor("sthd"),s.createFullBoxCtor("stri",function(c){this.switch_group=c.readUint16(),this.alternate_group=c.readUint16(),this.sub_track_id=c.readUint32();var p=(this.size-this.hdr_size-8)/4;this.attribute_list=[];for(var g=0;g<p;g++)this.attribute_list[g]=c.readUint32()}),s.createFullBoxCtor("stsc",function(c){var p,g;if(p=c.readUint32(),this.first_chunk=[],this.samples_per_chunk=[],this.sample_description_index=[],this.version===0)for(g=0;g<p;g++)this.first_chunk.push(c.readUint32()),this.samples_per_chunk.push(c.readUint32()),this.sample_description_index.push(c.readUint32())}),s.createFullBoxCtor("stsd",function(c){var p,g,y,C;for(this.entries=[],y=c.readUint32(),p=1;p<=y;p++)if(g=s.parseOneBox(c,!0,this.size-(c.getPosition()-this.start)),g.code===s.OK)s[g.type+"SampleEntry"]?(C=new s[g.type+"SampleEntry"](g.size),C.hdr_size=g.hdr_size,C.start=g.start):(e.warn("BoxParser","Unknown sample entry type: "+g.type),C=new s.SampleEntry(g.type,g.size,g.hdr_size,g.start)),C.write===s.SampleEntry.prototype.write&&(e.info("BoxParser","SampleEntry "+C.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),C.parseDataAndRewind(c)),C.parse(c),this.entries.push(C);else return}),s.createFullBoxCtor("stsg",function(c){this.grouping_type=c.readUint32();var p=c.readUint16();this.group_description_index=[];for(var g=0;g<p;g++)this.group_description_index[g]=c.readUint32()}),s.createFullBoxCtor("stsh",function(c){var p,g;if(p=c.readUint32(),this.shadowed_sample_numbers=[],this.sync_sample_numbers=[],this.version===0)for(g=0;g<p;g++)this.shadowed_sample_numbers.push(c.readUint32()),this.sync_sample_numbers.push(c.readUint32())}),s.createFullBoxCtor("stss",function(c){var p,g;if(g=c.readUint32(),this.version===0)for(this.sample_numbers=[],p=0;p<g;p++)this.sample_numbers.push(c.readUint32())}),s.createFullBoxCtor("stsz",function(c){var p;if(this.sample_sizes=[],this.version===0)for(this.sample_size=c.readUint32(),this.sample_count=c.readUint32(),p=0;p<this.sample_count;p++)this.sample_size===0?this.sample_sizes.push(c.readUint32()):this.sample_sizes[p]=this.sample_size}),s.createFullBoxCtor("stts",function(c){var p,g,y;if(p=c.readUint32(),this.sample_counts=[],this.sample_deltas=[],this.version===0)for(g=0;g<p;g++)this.sample_counts.push(c.readUint32()),y=c.readInt32(),y<0&&(e.warn("BoxParser","File uses negative stts sample delta, using value 1 instead, sync may be lost!"),y=1),this.sample_deltas.push(y)}),s.createFullBoxCtor("stvi",function(c){var p=c.readUint32();this.single_view_allowed=p&3,this.stereo_scheme=c.readUint32();var g=c.readUint32();this.stereo_indication_type=c.readString(g);var y,C;for(this.boxes=[];c.getPosition()<this.start+this.size;)if(y=s.parseOneBox(c,!1,this.size-(c.getPosition()-this.start)),y.code===s.OK)C=y.box,this.boxes.push(C),this[C.type]=C;else return}),s.createBoxCtor("styp",function(c){s.ftypBox.prototype.parse.call(this,c)}),s.createFullBoxCtor("stz2",function(c){var p,g;if(this.sample_sizes=[],this.version===0)if(this.reserved=c.readUint24(),this.field_size=c.readUint8(),g=c.readUint32(),this.field_size===4)for(p=0;p<g;p+=2){var y=c.readUint8();this.sample_sizes[p]=y>>4&15,this.sample_sizes[p+1]=y&15}else if(this.field_size===8)for(p=0;p<g;p++)this.sample_sizes[p]=c.readUint8();else if(this.field_size===16)for(p=0;p<g;p++)this.sample_sizes[p]=c.readUint16();else e.error("BoxParser","Error in length field in stz2 box")}),s.createFullBoxCtor("subs",function(c){var p,g,y,C;for(y=c.readUint32(),this.entries=[],p=0;p<y;p++){var T={};if(this.entries[p]=T,T.sample_delta=c.readUint32(),T.subsamples=[],C=c.readUint16(),C>0)for(g=0;g<C;g++){var M={};T.subsamples.push(M),this.version==1?M.size=c.readUint32():M.size=c.readUint16(),M.priority=c.readUint8(),M.discardable=c.readUint8(),M.codec_specific_parameters=c.readUint32()}}}),s.createFullBoxCtor("tenc",function(c){if(c.readUint8(),this.version===0)c.readUint8();else{var p=c.readUint8();this.default_crypt_byte_block=p>>4&15,this.default_skip_byte_block=p&15}this.default_isProtected=c.readUint8(),this.default_Per_Sample_IV_Size=c.readUint8(),this.default_KID=s.parseHex16(c),this.default_isProtected===1&&this.default_Per_Sample_IV_Size===0&&(this.default_constant_IV_size=c.readUint8(),this.default_constant_IV=c.readUint8Array(this.default_constant_IV_size))}),s.createFullBoxCtor("tfdt",function(c){this.version==1?this.baseMediaDecodeTime=c.readUint64():this.baseMediaDecodeTime=c.readUint32()}),s.createFullBoxCtor("tfhd",function(c){var p=0;this.track_id=c.readUint32(),this.size-this.hdr_size>p&&this.flags&s.TFHD_FLAG_BASE_DATA_OFFSET?(this.base_data_offset=c.readUint64(),p+=8):this.base_data_offset=0,this.size-this.hdr_size>p&&this.flags&s.TFHD_FLAG_SAMPLE_DESC?(this.default_sample_description_index=c.readUint32(),p+=4):this.default_sample_description_index=0,this.size-this.hdr_size>p&&this.flags&s.TFHD_FLAG_SAMPLE_DUR?(this.default_sample_duration=c.readUint32(),p+=4):this.default_sample_duration=0,this.size-this.hdr_size>p&&this.flags&s.TFHD_FLAG_SAMPLE_SIZE?(this.default_sample_size=c.readUint32(),p+=4):this.default_sample_size=0,this.size-this.hdr_size>p&&this.flags&s.TFHD_FLAG_SAMPLE_FLAGS?(this.default_sample_flags=c.readUint32(),p+=4):this.default_sample_flags=0}),s.createFullBoxCtor("tfra",function(c){this.track_ID=c.readUint32(),c.readUint24();var p=c.readUint8();this.length_size_of_traf_num=p>>4&3,this.length_size_of_trun_num=p>>2&3,this.length_size_of_sample_num=p&3,this.entries=[];for(var g=c.readUint32(),y=0;y<g;y++)this.version===1?(this.time=c.readUint64(),this.moof_offset=c.readUint64()):(this.time=c.readUint32(),this.moof_offset=c.readUint32()),this.traf_number=c["readUint"+8*(this.length_size_of_traf_num+1)](),this.trun_number=c["readUint"+8*(this.length_size_of_trun_num+1)](),this.sample_number=c["readUint"+8*(this.length_size_of_sample_num+1)]()}),s.createFullBoxCtor("tkhd",function(c){this.version==1?(this.creation_time=c.readUint64(),this.modification_time=c.readUint64(),this.track_id=c.readUint32(),c.readUint32(),this.duration=c.readUint64()):(this.creation_time=c.readUint32(),this.modification_time=c.readUint32(),this.track_id=c.readUint32(),c.readUint32(),this.duration=c.readUint32()),c.readUint32Array(2),this.layer=c.readInt16(),this.alternate_group=c.readInt16(),this.volume=c.readInt16()>>8,c.readUint16(),this.matrix=c.readInt32Array(9),this.width=c.readUint32(),this.height=c.readUint32()}),s.createBoxCtor("tmax",function(c){this.time=c.readUint32()}),s.createBoxCtor("tmin",function(c){this.time=c.readUint32()}),s.createBoxCtor("totl",function(c){this.bytessent=c.readUint32()}),s.createBoxCtor("tpay",function(c){this.bytessent=c.readUint32()}),s.createBoxCtor("tpyl",function(c){this.bytessent=c.readUint64()}),s.TrackGroupTypeBox.prototype.parse=function(c){this.parseFullHeader(c),this.track_group_id=c.readUint32()},s.createTrackGroupCtor("msrc"),s.TrackReferenceTypeBox=function(c,p,g,y){s.Box.call(this,c,p),this.hdr_size=g,this.start=y},s.TrackReferenceTypeBox.prototype=new s.Box,s.TrackReferenceTypeBox.prototype.parse=function(c){this.track_ids=c.readUint32Array((this.size-this.hdr_size)/4)},s.trefBox.prototype.parse=function(c){for(var p,g;c.getPosition()<this.start+this.size;)if(p=s.parseOneBox(c,!0,this.size-(c.getPosition()-this.start)),p.code===s.OK)g=new s.TrackReferenceTypeBox(p.type,p.size,p.hdr_size,p.start),g.write===s.Box.prototype.write&&g.type!=="mdat"&&(e.info("BoxParser","TrackReference "+g.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),g.parseDataAndRewind(c)),g.parse(c),this.boxes.push(g);else return},s.createFullBoxCtor("trep",function(c){for(this.track_ID=c.readUint32(),this.boxes=[];c.getPosition()<this.start+this.size;)if(ret=s.parseOneBox(c,!1,this.size-(c.getPosition()-this.start)),ret.code===s.OK)box=ret.box,this.boxes.push(box);else return}),s.createFullBoxCtor("trex",function(c){this.track_id=c.readUint32(),this.default_sample_description_index=c.readUint32(),this.default_sample_duration=c.readUint32(),this.default_sample_size=c.readUint32(),this.default_sample_flags=c.readUint32()}),s.createBoxCtor("trpy",function(c){this.bytessent=c.readUint64()}),s.createFullBoxCtor("trun",function(c){var p=0;if(this.sample_count=c.readUint32(),p+=4,this.size-this.hdr_size>p&&this.flags&s.TRUN_FLAGS_DATA_OFFSET?(this.data_offset=c.readInt32(),p+=4):this.data_offset=0,this.size-this.hdr_size>p&&this.flags&s.TRUN_FLAGS_FIRST_FLAG?(this.first_sample_flags=c.readUint32(),p+=4):this.first_sample_flags=0,this.sample_duration=[],this.sample_size=[],this.sample_flags=[],this.sample_composition_time_offset=[],this.size-this.hdr_size>p)for(var g=0;g<this.sample_count;g++)this.flags&s.TRUN_FLAGS_DURATION&&(this.sample_duration[g]=c.readUint32()),this.flags&s.TRUN_FLAGS_SIZE&&(this.sample_size[g]=c.readUint32()),this.flags&s.TRUN_FLAGS_FLAGS&&(this.sample_flags[g]=c.readUint32()),this.flags&s.TRUN_FLAGS_CTS_OFFSET&&(this.version===0?this.sample_composition_time_offset[g]=c.readUint32():this.sample_composition_time_offset[g]=c.readInt32())}),s.createFullBoxCtor("tsel",function(c){this.switch_group=c.readUint32();var p=(this.size-this.hdr_size-4)/4;this.attribute_list=[];for(var g=0;g<p;g++)this.attribute_list[g]=c.readUint32()}),s.createFullBoxCtor("txtC",function(c){this.config=c.readCString()}),s.createBoxCtor("tyco",function(c){var p=(this.size-this.hdr_size)/4;this.compatible_brands=[];for(var g=0;g<p;g++)this.compatible_brands[g]=c.readString(4)}),s.createFullBoxCtor("udes",function(c){this.lang=c.readCString(),this.name=c.readCString(),this.description=c.readCString(),this.tags=c.readCString()}),s.createFullBoxCtor("uncC",function(c){var p;if(this.profile=c.readUint32(),this.version!=1){if(this.version==0){for(this.component_count=c.readUint32(),this.component_index=[],this.component_bit_depth_minus_one=[],this.component_format=[],this.component_align_size=[],p=0;p<this.component_count;p++)this.component_index.push(c.readUint16()),this.component_bit_depth_minus_one.push(c.readUint8()),this.component_format.push(c.readUint8()),this.component_align_size.push(c.readUint8());this.sampling_type=c.readUint8(),this.interleave_type=c.readUint8(),this.block_size=c.readUint8();var g=c.readUint8();this.component_little_endian=g>>7&1,this.block_pad_lsb=g>>6&1,this.block_little_endian=g>>5&1,this.block_reversed=g>>4&1,this.pad_unknown=g>>3&1,this.pixel_size=c.readUint32(),this.row_align_size=c.readUint32(),this.tile_align_size=c.readUint32(),this.num_tile_cols_minus_one=c.readUint32(),this.num_tile_rows_minus_one=c.readUint32()}}}),s.createFullBoxCtor("url ",function(c){this.flags!==1&&(this.location=c.readCString())}),s.createFullBoxCtor("urn ",function(c){this.name=c.readCString(),this.size-this.hdr_size-this.name.length-1>0&&(this.location=c.readCString())}),s.createUUIDBox("a5d40b30e81411ddba2f0800200c9a66",!0,!1,function(c){this.LiveServerManifest=c.readString(this.size-this.hdr_size).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}),s.createUUIDBox("d08a4f1810f34a82b6c832d8aba183d3",!0,!1,function(c){this.system_id=s.parseHex16(c);var p=c.readUint32();p>0&&(this.data=c.readUint8Array(p))}),s.createUUIDBox("a2394f525a9b4f14a2446c427c648df4",!0,!1),s.createUUIDBox("8974dbce7be74c5184f97148f9882554",!0,!1,function(c){this.default_AlgorithmID=c.readUint24(),this.default_IV_size=c.readUint8(),this.default_KID=s.parseHex16(c)}),s.createUUIDBox("d4807ef2ca3946958e5426cb9e46a79f",!0,!1,function(c){this.fragment_count=c.readUint8(),this.entries=[];for(var p=0;p<this.fragment_count;p++){var g={},y=0,C=0;this.version===1?(y=c.readUint64(),C=c.readUint64()):(y=c.readUint32(),C=c.readUint32()),g.absolute_time=y,g.absolute_duration=C,this.entries.push(g)}}),s.createUUIDBox("6d1d9b0542d544e680e2141daff757b2",!0,!1,function(c){this.version===1?(this.absolute_time=c.readUint64(),this.duration=c.readUint64()):(this.absolute_time=c.readUint32(),this.duration=c.readUint32())}),s.createFullBoxCtor("vmhd",function(c){this.graphicsmode=c.readUint16(),this.opcolor=c.readUint16Array(3)}),s.createFullBoxCtor("vpcC",function(c){var p;this.version===1?(this.profile=c.readUint8(),this.level=c.readUint8(),p=c.readUint8(),this.bitDepth=p>>4,this.chromaSubsampling=p>>1&7,this.videoFullRangeFlag=p&1,this.colourPrimaries=c.readUint8(),this.transferCharacteristics=c.readUint8(),this.matrixCoefficients=c.readUint8(),this.codecIntializationDataSize=c.readUint16(),this.codecIntializationData=c.readUint8Array(this.codecIntializationDataSize)):(this.profile=c.readUint8(),this.level=c.readUint8(),p=c.readUint8(),this.bitDepth=p>>4&15,this.colorSpace=p&15,p=c.readUint8(),this.chromaSubsampling=p>>4&15,this.transferFunction=p>>1&7,this.videoFullRangeFlag=p&1,this.codecIntializationDataSize=c.readUint16(),this.codecIntializationData=c.readUint8Array(this.codecIntializationDataSize))}),s.createBoxCtor("vttC",function(c){this.text=c.readString(this.size-this.hdr_size)}),s.createFullBoxCtor("vvcC",function(c){var p,g,y={held_bits:void 0,num_held_bits:0,stream_read_1_bytes:function($){this.held_bits=$.readUint8(),this.num_held_bits=8},stream_read_2_bytes:function($){this.held_bits=$.readUint16(),this.num_held_bits=16},extract_bits:function($){var J=this.held_bits>>this.num_held_bits-$&(1<<$)-1;return this.num_held_bits-=$,J}};if(y.stream_read_1_bytes(c),y.extract_bits(5),this.lengthSizeMinusOne=y.extract_bits(2),this.ptl_present_flag=y.extract_bits(1),this.ptl_present_flag){y.stream_read_2_bytes(c),this.ols_idx=y.extract_bits(9),this.num_sublayers=y.extract_bits(3),this.constant_frame_rate=y.extract_bits(2),this.chroma_format_idc=y.extract_bits(2),y.stream_read_1_bytes(c),this.bit_depth_minus8=y.extract_bits(3),y.extract_bits(5);{if(y.stream_read_2_bytes(c),y.extract_bits(2),this.num_bytes_constraint_info=y.extract_bits(6),this.general_profile_idc=y.extract_bits(7),this.general_tier_flag=y.extract_bits(1),this.general_level_idc=c.readUint8(),y.stream_read_1_bytes(c),this.ptl_frame_only_constraint_flag=y.extract_bits(1),this.ptl_multilayer_enabled_flag=y.extract_bits(1),this.general_constraint_info=new Uint8Array(this.num_bytes_constraint_info),this.num_bytes_constraint_info){for(p=0;p<this.num_bytes_constraint_info-1;p++){var C=y.extract_bits(6);y.stream_read_1_bytes(c);var T=y.extract_bits(2);this.general_constraint_info[p]=C<<2|T}this.general_constraint_info[this.num_bytes_constraint_info-1]=y.extract_bits(6)}else y.extract_bits(6);if(this.num_sublayers>1){for(y.stream_read_1_bytes(c),this.ptl_sublayer_present_mask=0,g=this.num_sublayers-2;g>=0;--g){var M=y.extract_bits(1);this.ptl_sublayer_present_mask|=M<<g}for(g=this.num_sublayers;g<=8&&this.num_sublayers>1;++g)y.extract_bits(1);for(this.sublayer_level_idc=[],g=this.num_sublayers-2;g>=0;--g)this.ptl_sublayer_present_mask&1<<g&&(this.sublayer_level_idc[g]=c.readUint8())}if(this.ptl_num_sub_profiles=c.readUint8(),this.general_sub_profile_idc=[],this.ptl_num_sub_profiles)for(p=0;p<this.ptl_num_sub_profiles;p++)this.general_sub_profile_idc.push(c.readUint32())}this.max_picture_width=c.readUint16(),this.max_picture_height=c.readUint16(),this.avg_frame_rate=c.readUint16()}var O=12,B=13;this.nalu_arrays=[];var D=c.readUint8();for(p=0;p<D;p++){var F=[];this.nalu_arrays.push(F),y.stream_read_1_bytes(c),F.completeness=y.extract_bits(1),y.extract_bits(2),F.nalu_type=y.extract_bits(5);var z=1;for(F.nalu_type!=B&&F.nalu_type!=O&&(z=c.readUint16()),g=0;g<z;g++){var U=c.readUint16();F.push({data:c.readUint8Array(U),length:U})}}}),s.createFullBoxCtor("vvnC",function(c){var p=strm.readUint8();this.lengthSizeMinusOne=p&3}),s.SampleEntry.prototype.isVideo=function(){return!1},s.SampleEntry.prototype.isAudio=function(){return!1},s.SampleEntry.prototype.isSubtitle=function(){return!1},s.SampleEntry.prototype.isMetadata=function(){return!1},s.SampleEntry.prototype.isHint=function(){return!1},s.SampleEntry.prototype.getCodec=function(){return this.type.replace(".","")},s.SampleEntry.prototype.getWidth=function(){return""},s.SampleEntry.prototype.getHeight=function(){return""},s.SampleEntry.prototype.getChannelCount=function(){return""},s.SampleEntry.prototype.getSampleRate=function(){return""},s.SampleEntry.prototype.getSampleSize=function(){return""},s.VisualSampleEntry.prototype.isVideo=function(){return!0},s.VisualSampleEntry.prototype.getWidth=function(){return this.width},s.VisualSampleEntry.prototype.getHeight=function(){return this.height},s.AudioSampleEntry.prototype.isAudio=function(){return!0},s.AudioSampleEntry.prototype.getChannelCount=function(){return this.channel_count},s.AudioSampleEntry.prototype.getSampleRate=function(){return this.samplerate},s.AudioSampleEntry.prototype.getSampleSize=function(){return this.samplesize},s.SubtitleSampleEntry.prototype.isSubtitle=function(){return!0},s.MetadataSampleEntry.prototype.isMetadata=function(){return!0},s.decimalToHex=function(c,p){var g=Number(c).toString(16);for(p=typeof p>"u"||p===null?p=2:p;g.length<p;)g="0"+g;return g},s.avc1SampleEntry.prototype.getCodec=s.avc2SampleEntry.prototype.getCodec=s.avc3SampleEntry.prototype.getCodec=s.avc4SampleEntry.prototype.getCodec=function(){var c=s.SampleEntry.prototype.getCodec.call(this);return this.avcC?c+"."+s.decimalToHex(this.avcC.AVCProfileIndication)+s.decimalToHex(this.avcC.profile_compatibility)+s.decimalToHex(this.avcC.AVCLevelIndication):c},s.hev1SampleEntry.prototype.getCodec=s.hvc1SampleEntry.prototype.getCodec=function(){var c,p=s.SampleEntry.prototype.getCodec.call(this);if(this.hvcC){switch(p+=".",this.hvcC.general_profile_space){case 0:p+="";break;case 1:p+="A";break;case 2:p+="B";break;case 3:p+="C";break}p+=this.hvcC.general_profile_idc,p+=".";var g=this.hvcC.general_profile_compatibility,y=0;for(c=0;c<32&&(y|=g&1,c!=31);c++)y<<=1,g>>=1;p+=s.decimalToHex(y,0),p+=".",this.hvcC.general_tier_flag===0?p+="L":p+="H",p+=this.hvcC.general_level_idc;var C=!1,T="";for(c=5;c>=0;c--)(this.hvcC.general_constraint_indicator[c]||C)&&(T="."+s.decimalToHex(this.hvcC.general_constraint_indicator[c],0)+T,C=!0);p+=T}return p},s.vvc1SampleEntry.prototype.getCodec=s.vvi1SampleEntry.prototype.getCodec=function(){var c,p=s.SampleEntry.prototype.getCodec.call(this);if(this.vvcC){p+="."+this.vvcC.general_profile_idc,this.vvcC.general_tier_flag?p+=".H":p+=".L",p+=this.vvcC.general_level_idc;var g="";if(this.vvcC.general_constraint_info){var y=[],C=0;C|=this.vvcC.ptl_frame_only_constraint<<7,C|=this.vvcC.ptl_multilayer_enabled<<6;var T;for(c=0;c<this.vvcC.general_constraint_info.length;++c)C|=this.vvcC.general_constraint_info[c]>>2&63,y.push(C),C&&(T=c),C=this.vvcC.general_constraint_info[c]>>2&3;if(T===void 0)g=".CA";else{g=".C";var M="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",O=0,B=0;for(c=0;c<=T;++c)for(O=O<<8|y[c],B+=8;B>=5;){var D=O>>B-5&31;g+=M[D],B-=5,O&=(1<<B)-1}B&&(O<<=5-B,g+=M[O&31])}}p+=g}return p},s.mp4aSampleEntry.prototype.getCodec=function(){var c=s.SampleEntry.prototype.getCodec.call(this);if(this.esds&&this.esds.esd){var p=this.esds.esd.getOTI(),g=this.esds.esd.getAudioConfig();return c+"."+s.decimalToHex(p)+(g?"."+g:"")}else return c},s.stxtSampleEntry.prototype.getCodec=function(){var c=s.SampleEntry.prototype.getCodec.call(this);return this.mime_format?c+"."+this.mime_format:c},s.vp08SampleEntry.prototype.getCodec=s.vp09SampleEntry.prototype.getCodec=function(){var c=s.SampleEntry.prototype.getCodec.call(this),p=this.vpcC.level;p==0&&(p="00");var g=this.vpcC.bitDepth;return g==8&&(g="08"),c+".0"+this.vpcC.profile+"."+p+"."+g},s.av01SampleEntry.prototype.getCodec=function(){var c=s.SampleEntry.prototype.getCodec.call(this),p=this.av1C.seq_level_idx_0;p<10&&(p="0"+p);var g;return this.av1C.seq_profile===2&&this.av1C.high_bitdepth===1?g=this.av1C.twelve_bit===1?"12":"10":this.av1C.seq_profile<=2&&(g=this.av1C.high_bitdepth===1?"10":"08"),c+"."+this.av1C.seq_profile+"."+p+(this.av1C.seq_tier_0?"H":"M")+"."+g},s.Box.prototype.writeHeader=function(c,p){this.size+=8,this.size>a&&(this.size+=8),this.type==="uuid"&&(this.size+=16),e.debug("BoxWriter","Writing box "+this.type+" of size: "+this.size+" at position "+c.getPosition()+(p||"")),this.size>a?c.writeUint32(1):(this.sizePosition=c.getPosition(),c.writeUint32(this.size)),c.writeString(this.type,null,4),this.type==="uuid"&&c.writeUint8Array(this.uuid),this.size>a&&c.writeUint64(this.size)},s.FullBox.prototype.writeHeader=function(c){this.size+=4,s.Box.prototype.writeHeader.call(this,c," v="+this.version+" f="+this.flags),c.writeUint8(this.version),c.writeUint24(this.flags)},s.Box.prototype.write=function(c){this.type==="mdat"?this.data&&(this.size=this.data.length,this.writeHeader(c),c.writeUint8Array(this.data)):(this.size=this.data?this.data.length:0,this.writeHeader(c),this.data&&c.writeUint8Array(this.data))},s.ContainerBox.prototype.write=function(c){this.size=0,this.writeHeader(c);for(var p=0;p<this.boxes.length;p++)this.boxes[p]&&(this.boxes[p].write(c),this.size+=this.boxes[p].size);e.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),c.adjustUint32(this.sizePosition,this.size)},s.TrackReferenceTypeBox.prototype.write=function(c){this.size=this.track_ids.length*4,this.writeHeader(c),c.writeUint32Array(this.track_ids)},s.avcCBox.prototype.write=function(c){var p;for(this.size=7,p=0;p<this.SPS.length;p++)this.size+=2+this.SPS[p].length;for(p=0;p<this.PPS.length;p++)this.size+=2+this.PPS[p].length;for(this.ext&&(this.size+=this.ext.length),this.writeHeader(c),c.writeUint8(this.configurationVersion),c.writeUint8(this.AVCProfileIndication),c.writeUint8(this.profile_compatibility),c.writeUint8(this.AVCLevelIndication),c.writeUint8(this.lengthSizeMinusOne+252),c.writeUint8(this.SPS.length+224),p=0;p<this.SPS.length;p++)c.writeUint16(this.SPS[p].length),c.writeUint8Array(this.SPS[p].nalu);for(c.writeUint8(this.PPS.length),p=0;p<this.PPS.length;p++)c.writeUint16(this.PPS[p].length),c.writeUint8Array(this.PPS[p].nalu);this.ext&&c.writeUint8Array(this.ext)},s.co64Box.prototype.write=function(c){var p;for(this.version=0,this.flags=0,this.size=4+8*this.chunk_offsets.length,this.writeHeader(c),c.writeUint32(this.chunk_offsets.length),p=0;p<this.chunk_offsets.length;p++)c.writeUint64(this.chunk_offsets[p])},s.cslgBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=4*5,this.writeHeader(c),c.writeInt32(this.compositionToDTSShift),c.writeInt32(this.leastDecodeToDisplayDelta),c.writeInt32(this.greatestDecodeToDisplayDelta),c.writeInt32(this.compositionStartTime),c.writeInt32(this.compositionEndTime)},s.cttsBox.prototype.write=function(c){var p;for(this.version=0,this.flags=0,this.size=4+8*this.sample_counts.length,this.writeHeader(c),c.writeUint32(this.sample_counts.length),p=0;p<this.sample_counts.length;p++)c.writeUint32(this.sample_counts[p]),this.version===1?c.writeInt32(this.sample_offsets[p]):c.writeUint32(this.sample_offsets[p])},s.drefBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=4,this.writeHeader(c),c.writeUint32(this.entries.length);for(var p=0;p<this.entries.length;p++)this.entries[p].write(c),this.size+=this.entries[p].size;e.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),c.adjustUint32(this.sizePosition,this.size)},s.elngBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=this.extended_language.length,this.writeHeader(c),c.writeString(this.extended_language)},s.elstBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=4+12*this.entries.length,this.writeHeader(c),c.writeUint32(this.entries.length);for(var p=0;p<this.entries.length;p++){var g=this.entries[p];c.writeUint32(g.segment_duration),c.writeInt32(g.media_time),c.writeInt16(g.media_rate_integer),c.writeInt16(g.media_rate_fraction)}},s.emsgBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=4*4+this.message_data.length+(this.scheme_id_uri.length+1)+(this.value.length+1),this.writeHeader(c),c.writeCString(this.scheme_id_uri),c.writeCString(this.value),c.writeUint32(this.timescale),c.writeUint32(this.presentation_time_delta),c.writeUint32(this.event_duration),c.writeUint32(this.id),c.writeUint8Array(this.message_data)},s.ftypBox.prototype.write=function(c){this.size=8+4*this.compatible_brands.length,this.writeHeader(c),c.writeString(this.major_brand,null,4),c.writeUint32(this.minor_version);for(var p=0;p<this.compatible_brands.length;p++)c.writeString(this.compatible_brands[p],null,4)},s.hdlrBox.prototype.write=function(c){this.size=5*4+this.name.length+1,this.version=0,this.flags=0,this.writeHeader(c),c.writeUint32(0),c.writeString(this.handler,null,4),c.writeUint32(0),c.writeUint32(0),c.writeUint32(0),c.writeCString(this.name)},s.hvcCBox.prototype.write=function(c){var p,g;for(this.size=23,p=0;p<this.nalu_arrays.length;p++)for(this.size+=3,g=0;g<this.nalu_arrays[p].length;g++)this.size+=2+this.nalu_arrays[p][g].data.length;for(this.writeHeader(c),c.writeUint8(this.configurationVersion),c.writeUint8((this.general_profile_space<<6)+(this.general_tier_flag<<5)+this.general_profile_idc),c.writeUint32(this.general_profile_compatibility),c.writeUint8Array(this.general_constraint_indicator),c.writeUint8(this.general_level_idc),c.writeUint16(this.min_spatial_segmentation_idc+(15<<24)),c.writeUint8(this.parallelismType+252),c.writeUint8(this.chroma_format_idc+252),c.writeUint8(this.bit_depth_luma_minus8+248),c.writeUint8(this.bit_depth_chroma_minus8+248),c.writeUint16(this.avgFrameRate),c.writeUint8((this.constantFrameRate<<6)+(this.numTemporalLayers<<3)+(this.temporalIdNested<<2)+this.lengthSizeMinusOne),c.writeUint8(this.nalu_arrays.length),p=0;p<this.nalu_arrays.length;p++)for(c.writeUint8((this.nalu_arrays[p].completeness<<7)+this.nalu_arrays[p].nalu_type),c.writeUint16(this.nalu_arrays[p].length),g=0;g<this.nalu_arrays[p].length;g++)c.writeUint16(this.nalu_arrays[p][g].data.length),c.writeUint8Array(this.nalu_arrays[p][g].data)},s.kindBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=this.schemeURI.length+1+(this.value.length+1),this.writeHeader(c),c.writeCString(this.schemeURI),c.writeCString(this.value)},s.mdhdBox.prototype.write=function(c){this.size=4*4+2*2,this.flags=0,this.version=0,this.writeHeader(c),c.writeUint32(this.creation_time),c.writeUint32(this.modification_time),c.writeUint32(this.timescale),c.writeUint32(this.duration),c.writeUint16(this.language),c.writeUint16(0)},s.mehdBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=4,this.writeHeader(c),c.writeUint32(this.fragment_duration)},s.mfhdBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=4,this.writeHeader(c),c.writeUint32(this.sequence_number)},s.mvhdBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=23*4+2*2,this.writeHeader(c),c.writeUint32(this.creation_time),c.writeUint32(this.modification_time),c.writeUint32(this.timescale),c.writeUint32(this.duration),c.writeUint32(this.rate),c.writeUint16(this.volume<<8),c.writeUint16(0),c.writeUint32(0),c.writeUint32(0),c.writeUint32Array(this.matrix),c.writeUint32(0),c.writeUint32(0),c.writeUint32(0),c.writeUint32(0),c.writeUint32(0),c.writeUint32(0),c.writeUint32(this.next_track_id)},s.SampleEntry.prototype.writeHeader=function(c){this.size=8,s.Box.prototype.writeHeader.call(this,c),c.writeUint8(0),c.writeUint8(0),c.writeUint8(0),c.writeUint8(0),c.writeUint8(0),c.writeUint8(0),c.writeUint16(this.data_reference_index)},s.SampleEntry.prototype.writeFooter=function(c){for(var p=0;p<this.boxes.length;p++)this.boxes[p].write(c),this.size+=this.boxes[p].size;e.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),c.adjustUint32(this.sizePosition,this.size)},s.SampleEntry.prototype.write=function(c){this.writeHeader(c),c.writeUint8Array(this.data),this.size+=this.data.length,e.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),c.adjustUint32(this.sizePosition,this.size)},s.VisualSampleEntry.prototype.write=function(c){this.writeHeader(c),this.size+=2*7+6*4+32,c.writeUint16(0),c.writeUint16(0),c.writeUint32(0),c.writeUint32(0),c.writeUint32(0),c.writeUint16(this.width),c.writeUint16(this.height),c.writeUint32(this.horizresolution),c.writeUint32(this.vertresolution),c.writeUint32(0),c.writeUint16(this.frame_count),c.writeUint8(Math.min(31,this.compressorname.length)),c.writeString(this.compressorname,null,31),c.writeUint16(this.depth),c.writeInt16(-1),this.writeFooter(c)},s.AudioSampleEntry.prototype.write=function(c){this.writeHeader(c),this.size+=2*4+3*4,c.writeUint32(0),c.writeUint32(0),c.writeUint16(this.channel_count),c.writeUint16(this.samplesize),c.writeUint16(0),c.writeUint16(0),c.writeUint32(this.samplerate<<16),this.writeFooter(c)},s.stppSampleEntry.prototype.write=function(c){this.writeHeader(c),this.size+=this.namespace.length+1+this.schema_location.length+1+this.auxiliary_mime_types.length+1,c.writeCString(this.namespace),c.writeCString(this.schema_location),c.writeCString(this.auxiliary_mime_types),this.writeFooter(c)},s.SampleGroupEntry.prototype.write=function(c){c.writeUint8Array(this.data)},s.sbgpBox.prototype.write=function(c){this.version=1,this.flags=0,this.size=12+8*this.entries.length,this.writeHeader(c),c.writeString(this.grouping_type,null,4),c.writeUint32(this.grouping_type_parameter),c.writeUint32(this.entries.length);for(var p=0;p<this.entries.length;p++){var g=this.entries[p];c.writeInt32(g.sample_count),c.writeInt32(g.group_description_index)}},s.sgpdBox.prototype.write=function(c){var p,g;for(this.flags=0,this.size=12,p=0;p<this.entries.length;p++)g=this.entries[p],this.version===1&&(this.default_length===0&&(this.size+=4),this.size+=g.data.length);for(this.writeHeader(c),c.writeString(this.grouping_type,null,4),this.version===1&&c.writeUint32(this.default_length),this.version>=2&&c.writeUint32(this.default_sample_description_index),c.writeUint32(this.entries.length),p=0;p<this.entries.length;p++)g=this.entries[p],this.version===1&&this.default_length===0&&c.writeUint32(g.description_length),g.write(c)},s.sidxBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=4*4+2+2+12*this.references.length,this.writeHeader(c),c.writeUint32(this.reference_ID),c.writeUint32(this.timescale),c.writeUint32(this.earliest_presentation_time),c.writeUint32(this.first_offset),c.writeUint16(0),c.writeUint16(this.references.length);for(var p=0;p<this.references.length;p++){var g=this.references[p];c.writeUint32(g.reference_type<<31|g.referenced_size),c.writeUint32(g.subsegment_duration),c.writeUint32(g.starts_with_SAP<<31|g.SAP_type<<28|g.SAP_delta_time)}},s.smhdBox.prototype.write=function(c){this.version=0,this.flags=1,this.size=4,this.writeHeader(c),c.writeUint16(this.balance),c.writeUint16(0)},s.stcoBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=4+4*this.chunk_offsets.length,this.writeHeader(c),c.writeUint32(this.chunk_offsets.length),c.writeUint32Array(this.chunk_offsets)},s.stscBox.prototype.write=function(c){var p;for(this.version=0,this.flags=0,this.size=4+12*this.first_chunk.length,this.writeHeader(c),c.writeUint32(this.first_chunk.length),p=0;p<this.first_chunk.length;p++)c.writeUint32(this.first_chunk[p]),c.writeUint32(this.samples_per_chunk[p]),c.writeUint32(this.sample_description_index[p])},s.stsdBox.prototype.write=function(c){var p;for(this.version=0,this.flags=0,this.size=0,this.writeHeader(c),c.writeUint32(this.entries.length),this.size+=4,p=0;p<this.entries.length;p++)this.entries[p].write(c),this.size+=this.entries[p].size;e.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),c.adjustUint32(this.sizePosition,this.size)},s.stshBox.prototype.write=function(c){var p;for(this.version=0,this.flags=0,this.size=4+8*this.shadowed_sample_numbers.length,this.writeHeader(c),c.writeUint32(this.shadowed_sample_numbers.length),p=0;p<this.shadowed_sample_numbers.length;p++)c.writeUint32(this.shadowed_sample_numbers[p]),c.writeUint32(this.sync_sample_numbers[p])},s.stssBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=4+4*this.sample_numbers.length,this.writeHeader(c),c.writeUint32(this.sample_numbers.length),c.writeUint32Array(this.sample_numbers)},s.stszBox.prototype.write=function(c){var p,g=!0;if(this.version=0,this.flags=0,this.sample_sizes.length>0)for(p=0;p+1<this.sample_sizes.length;)if(this.sample_sizes[p+1]!==this.sample_sizes[0]){g=!1;break}else p++;else g=!1;this.size=8,g||(this.size+=4*this.sample_sizes.length),this.writeHeader(c),g?c.writeUint32(this.sample_sizes[0]):c.writeUint32(0),c.writeUint32(this.sample_sizes.length),g||c.writeUint32Array(this.sample_sizes)},s.sttsBox.prototype.write=function(c){var p;for(this.version=0,this.flags=0,this.size=4+8*this.sample_counts.length,this.writeHeader(c),c.writeUint32(this.sample_counts.length),p=0;p<this.sample_counts.length;p++)c.writeUint32(this.sample_counts[p]),c.writeUint32(this.sample_deltas[p])},s.tfdtBox.prototype.write=function(c){var p=Math.pow(2,32)-1;this.version=this.baseMediaDecodeTime>p?1:0,this.flags=0,this.size=4,this.version===1&&(this.size+=4),this.writeHeader(c),this.version===1?c.writeUint64(this.baseMediaDecodeTime):c.writeUint32(this.baseMediaDecodeTime)},s.tfhdBox.prototype.write=function(c){this.version=0,this.size=4,this.flags&s.TFHD_FLAG_BASE_DATA_OFFSET&&(this.size+=8),this.flags&s.TFHD_FLAG_SAMPLE_DESC&&(this.size+=4),this.flags&s.TFHD_FLAG_SAMPLE_DUR&&(this.size+=4),this.flags&s.TFHD_FLAG_SAMPLE_SIZE&&(this.size+=4),this.flags&s.TFHD_FLAG_SAMPLE_FLAGS&&(this.size+=4),this.writeHeader(c),c.writeUint32(this.track_id),this.flags&s.TFHD_FLAG_BASE_DATA_OFFSET&&c.writeUint64(this.base_data_offset),this.flags&s.TFHD_FLAG_SAMPLE_DESC&&c.writeUint32(this.default_sample_description_index),this.flags&s.TFHD_FLAG_SAMPLE_DUR&&c.writeUint32(this.default_sample_duration),this.flags&s.TFHD_FLAG_SAMPLE_SIZE&&c.writeUint32(this.default_sample_size),this.flags&s.TFHD_FLAG_SAMPLE_FLAGS&&c.writeUint32(this.default_sample_flags)},s.tkhdBox.prototype.write=function(c){this.version=0,this.size=4*18+2*4,this.writeHeader(c),c.writeUint32(this.creation_time),c.writeUint32(this.modification_time),c.writeUint32(this.track_id),c.writeUint32(0),c.writeUint32(this.duration),c.writeUint32(0),c.writeUint32(0),c.writeInt16(this.layer),c.writeInt16(this.alternate_group),c.writeInt16(this.volume<<8),c.writeUint16(0),c.writeInt32Array(this.matrix),c.writeUint32(this.width),c.writeUint32(this.height)},s.trexBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=4*5,this.writeHeader(c),c.writeUint32(this.track_id),c.writeUint32(this.default_sample_description_index),c.writeUint32(this.default_sample_duration),c.writeUint32(this.default_sample_size),c.writeUint32(this.default_sample_flags)},s.trunBox.prototype.write=function(c){this.version=0,this.size=4,this.flags&s.TRUN_FLAGS_DATA_OFFSET&&(this.size+=4),this.flags&s.TRUN_FLAGS_FIRST_FLAG&&(this.size+=4),this.flags&s.TRUN_FLAGS_DURATION&&(this.size+=4*this.sample_duration.length),this.flags&s.TRUN_FLAGS_SIZE&&(this.size+=4*this.sample_size.length),this.flags&s.TRUN_FLAGS_FLAGS&&(this.size+=4*this.sample_flags.length),this.flags&s.TRUN_FLAGS_CTS_OFFSET&&(this.size+=4*this.sample_composition_time_offset.length),this.writeHeader(c),c.writeUint32(this.sample_count),this.flags&s.TRUN_FLAGS_DATA_OFFSET&&(this.data_offset_position=c.getPosition(),c.writeInt32(this.data_offset)),this.flags&s.TRUN_FLAGS_FIRST_FLAG&&c.writeUint32(this.first_sample_flags);for(var p=0;p<this.sample_count;p++)this.flags&s.TRUN_FLAGS_DURATION&&c.writeUint32(this.sample_duration[p]),this.flags&s.TRUN_FLAGS_SIZE&&c.writeUint32(this.sample_size[p]),this.flags&s.TRUN_FLAGS_FLAGS&&c.writeUint32(this.sample_flags[p]),this.flags&s.TRUN_FLAGS_CTS_OFFSET&&(this.version===0?c.writeUint32(this.sample_composition_time_offset[p]):c.writeInt32(this.sample_composition_time_offset[p]))},s["url Box"].prototype.write=function(c){this.version=0,this.location?(this.flags=0,this.size=this.location.length+1):(this.flags=1,this.size=0),this.writeHeader(c),this.location&&c.writeCString(this.location)},s["urn Box"].prototype.write=function(c){this.version=0,this.flags=0,this.size=this.name.length+1+(this.location?this.location.length+1:0),this.writeHeader(c),c.writeCString(this.name),this.location&&c.writeCString(this.location)},s.vmhdBox.prototype.write=function(c){this.version=0,this.flags=1,this.size=8,this.writeHeader(c),c.writeUint16(this.graphicsmode),c.writeUint16Array(this.opcolor)},s.cttsBox.prototype.unpack=function(c){var p,g,y;for(y=0,p=0;p<this.sample_counts.length;p++)for(g=0;g<this.sample_counts[p];g++)c[y].pts=c[y].dts+this.sample_offsets[p],y++},s.sttsBox.prototype.unpack=function(c){var p,g,y;for(y=0,p=0;p<this.sample_counts.length;p++)for(g=0;g<this.sample_counts[p];g++)y===0?c[y].dts=0:c[y].dts=c[y-1].dts+this.sample_deltas[p],y++},s.stcoBox.prototype.unpack=function(c){var p;for(p=0;p<this.chunk_offsets.length;p++)c[p].offset=this.chunk_offsets[p]},s.stscBox.prototype.unpack=function(c){var p,g,y,C,T;for(C=0,T=0,p=0;p<this.first_chunk.length;p++)for(g=0;g<(p+1<this.first_chunk.length?this.first_chunk[p+1]:1/0);g++)for(T++,y=0;y<this.samples_per_chunk[p];y++){if(c[C])c[C].description_index=this.sample_description_index[p],c[C].chunk_index=T;else return;C++}},s.stszBox.prototype.unpack=function(c){var p;for(p=0;p<this.sample_sizes.length;p++)c[p].size=this.sample_sizes[p]},s.DIFF_BOXES_PROP_NAMES=["boxes","entries","references","subsamples","items","item_infos","extents","associations","subsegments","ranges","seekLists","seekPoints","esd","levels"],s.DIFF_PRIMITIVE_ARRAY_PROP_NAMES=["compatible_brands","matrix","opcolor","sample_counts","sample_counts","sample_deltas","first_chunk","samples_per_chunk","sample_sizes","chunk_offsets","sample_offsets","sample_description_index","sample_duration"],s.boxEqualFields=function(c,p){if(c&&!p)return!1;var g;for(g in c)if(!(s.DIFF_BOXES_PROP_NAMES.indexOf(g)>-1)){if(c[g]instanceof s.Box||p[g]instanceof s.Box)continue;if(typeof c[g]>"u"||typeof p[g]>"u")continue;if(typeof c[g]=="function"||typeof p[g]=="function")continue;if(c.subBoxNames&&c.subBoxNames.indexOf(g.slice(0,4))>-1||p.subBoxNames&&p.subBoxNames.indexOf(g.slice(0,4))>-1)continue;if(g==="data"||g==="start"||g==="size"||g==="creation_time"||g==="modification_time")continue;if(s.DIFF_PRIMITIVE_ARRAY_PROP_NAMES.indexOf(g)>-1)continue;if(c[g]!==p[g])return!1}return!0},s.boxEqual=function(c,p){if(!s.boxEqualFields(c,p))return!1;for(var g=0;g<s.DIFF_BOXES_PROP_NAMES.length;g++){var y=s.DIFF_BOXES_PROP_NAMES[g];if(c[y]&&p[y]&&!s.boxEqual(c[y],p[y]))return!1}return!0};var m=function(){};m.prototype.parseSample=function(c){var p={},g;p.resources=[];var y=new t(c.data.buffer);if(!c.subsamples||c.subsamples.length===0)p.documentString=y.readString(c.data.length);else if(p.documentString=y.readString(c.subsamples[0].size),c.subsamples.length>1)for(g=1;g<c.subsamples.length;g++)p.resources[g]=y.readUint8Array(c.subsamples[g].size);return typeof DOMParser<"u"&&(p.document=new DOMParser().parseFromString(p.documentString,"application/xml")),p};var b=function(){};b.prototype.parseSample=function(c){var p,g=new t(c.data.buffer);return p=g.readString(c.data.length),p},b.prototype.parseConfig=function(c){var p,g=new t(c.buffer);return g.readUint32(),p=g.readCString(),p},n.XMLSubtitlein4Parser=m,n.Textin4Parser=b;var _=function(c){this.stream=c||new o,this.boxes=[],this.mdats=[],this.moofs=[],this.isProgressive=!1,this.moovStartFound=!1,this.onMoovStart=null,this.moovStartSent=!1,this.onReady=null,this.readySent=!1,this.onSegment=null,this.onSamples=null,this.onError=null,this.sampleListBuilt=!1,this.fragmentedTracks=[],this.extractedTracks=[],this.isFragmentationInitialized=!1,this.sampleProcessingStarted=!1,this.nextMoofNumber=0,this.itemListBuilt=!1,this.onSidx=null,this.sidxSent=!1};_.prototype.setSegmentOptions=function(c,p,g){var y=this.getTrackById(c);if(y){var C={};this.fragmentedTracks.push(C),C.id=c,C.user=p,C.trak=y,y.nextSample=0,C.segmentStream=null,C.nb_samples=1e3,C.rapAlignement=!0,g&&(g.nbSamples&&(C.nb_samples=g.nbSamples),g.rapAlignement&&(C.rapAlignement=g.rapAlignement))}},_.prototype.unsetSegmentOptions=function(c){for(var p=-1,g=0;g<this.fragmentedTracks.length;g++){var y=this.fragmentedTracks[g];y.id==c&&(p=g)}p>-1&&this.fragmentedTracks.splice(p,1)},_.prototype.setExtractionOptions=function(c,p,g){var y=this.getTrackById(c);if(y){var C={};this.extractedTracks.push(C),C.id=c,C.user=p,C.trak=y,y.nextSample=0,C.nb_samples=1e3,C.samples=[],g&&g.nbSamples&&(C.nb_samples=g.nbSamples)}},_.prototype.unsetExtractionOptions=function(c){for(var p=-1,g=0;g<this.extractedTracks.length;g++){var y=this.extractedTracks[g];y.id==c&&(p=g)}p>-1&&this.extractedTracks.splice(p,1)},_.prototype.parse=function(){var c,p,g=!1;if(!(this.restoreParsePosition&&!this.restoreParsePosition()))for(;;)if(this.hasIncompleteMdat&&this.hasIncompleteMdat()){if(this.processIncompleteMdat())continue;return}else if(this.saveParsePosition&&this.saveParsePosition(),c=s.parseOneBox(this.stream,g),c.code===s.ERR_NOT_ENOUGH_DATA)if(this.processIncompleteBox){if(this.processIncompleteBox(c))continue;return}else return;else{var y;switch(p=c.box,y=p.type!=="uuid"?p.type:p.uuid,this.boxes.push(p),y){case"mdat":this.mdats.push(p);break;case"moof":this.moofs.push(p);break;case"moov":this.moovStartFound=!0,this.mdats.length===0&&(this.isProgressive=!0);default:this[y]!==void 0&&e.warn("ISOFile","Duplicate Box of type: "+y+", overriding previous occurrence"),this[y]=p;break}this.updateUsedBytes&&this.updateUsedBytes(p,c)}},_.prototype.checkBuffer=function(c){if(c==null)throw"Buffer must be defined and non empty";if(c.fileStart===void 0)throw"Buffer must have a fileStart property";return c.byteLength===0?(e.warn("ISOFile","Ignoring empty buffer (fileStart: "+c.fileStart+")"),this.stream.logBufferLevel(),!1):(e.info("ISOFile","Processing buffer (fileStart: "+c.fileStart+")"),c.usedBytes=0,this.stream.insertBuffer(c),this.stream.logBufferLevel(),this.stream.initialized()?!0:(e.warn("ISOFile","Not ready to start parsing"),!1))},_.prototype.appendBuffer=function(c,p){var g;if(this.checkBuffer(c))return this.parse(),this.moovStartFound&&!this.moovStartSent&&(this.moovStartSent=!0,this.onMoovStart&&this.onMoovStart()),this.moov?(this.sampleListBuilt||(this.buildSampleLists(),this.sampleListBuilt=!0),this.updateSampleLists(),this.onReady&&!this.readySent&&(this.readySent=!0,this.onReady(this.getInfo())),this.processSamples(p),this.nextSeekPosition?(g=this.nextSeekPosition,this.nextSeekPosition=void 0):g=this.nextParsePosition,this.stream.getEndFilePositionAfter&&(g=this.stream.getEndFilePositionAfter(g))):this.nextParsePosition?g=this.nextParsePosition:g=0,this.sidx&&this.onSidx&&!this.sidxSent&&(this.onSidx(this.sidx),this.sidxSent=!0),this.meta&&(this.flattenItemInfo&&!this.itemListBuilt&&(this.flattenItemInfo(),this.itemListBuilt=!0),this.processItems&&this.processItems(this.onItem)),this.stream.cleanBuffers&&(e.info("ISOFile","Done processing buffer (fileStart: "+c.fileStart+") - next buffer to fetch should have a fileStart position of "+g),this.stream.logBufferLevel(),this.stream.cleanBuffers(),this.stream.logBufferLevel(!0),e.info("ISOFile","Sample data size in memory: "+this.getAllocatedSampleDataSize())),g},_.prototype.getInfo=function(){var c,p,g={},y,C,T,M,O=new Date("1904-01-01T00:00:00Z").getTime();if(this.moov)for(g.hasMoov=!0,g.duration=this.moov.mvhd.duration,g.timescale=this.moov.mvhd.timescale,g.isFragmented=this.moov.mvex!=null,g.isFragmented&&this.moov.mvex.mehd&&(g.fragment_duration=this.moov.mvex.mehd.fragment_duration),g.isProgressive=this.isProgressive,g.hasIOD=this.moov.iods!=null,g.brands=[],g.brands.push(this.ftyp.major_brand),g.brands=g.brands.concat(this.ftyp.compatible_brands),g.created=new Date(O+this.moov.mvhd.creation_time*1e3),g.modified=new Date(O+this.moov.mvhd.modification_time*1e3),g.tracks=[],g.audioTracks=[],g.videoTracks=[],g.subtitleTracks=[],g.metadataTracks=[],g.hintTracks=[],g.otherTracks=[],c=0;c<this.moov.traks.length;c++){if(y=this.moov.traks[c],M=y.mdia.minf.stbl.stsd.entries[0],C={},g.tracks.push(C),C.id=y.tkhd.track_id,C.name=y.mdia.hdlr.name,C.references=[],y.tref)for(p=0;p<y.tref.boxes.length;p++)T={},C.references.push(T),T.type=y.tref.boxes[p].type,T.track_ids=y.tref.boxes[p].track_ids;y.edts&&(C.edits=y.edts.elst.entries),C.created=new Date(O+y.tkhd.creation_time*1e3),C.modified=new Date(O+y.tkhd.modification_time*1e3),C.movie_duration=y.tkhd.duration,C.movie_timescale=g.timescale,C.layer=y.tkhd.layer,C.alternate_group=y.tkhd.alternate_group,C.volume=y.tkhd.volume,C.matrix=y.tkhd.matrix,C.track_width=y.tkhd.width/65536,C.track_height=y.tkhd.height/65536,C.timescale=y.mdia.mdhd.timescale,C.cts_shift=y.mdia.minf.stbl.cslg,C.duration=y.mdia.mdhd.duration,C.samples_duration=y.samples_duration,C.codec=M.getCodec(),C.kind=y.udta&&y.udta.kinds.length?y.udta.kinds[0]:{schemeURI:"",value:""},C.language=y.mdia.elng?y.mdia.elng.extended_language:y.mdia.mdhd.languageString,C.nb_samples=y.samples.length,C.size=y.samples_size,C.bitrate=C.size*8*C.timescale/C.samples_duration,M.isAudio()?(C.type="audio",g.audioTracks.push(C),C.audio={},C.audio.sample_rate=M.getSampleRate(),C.audio.channel_count=M.getChannelCount(),C.audio.sample_size=M.getSampleSize()):M.isVideo()?(C.type="video",g.videoTracks.push(C),C.video={},C.video.width=M.getWidth(),C.video.height=M.getHeight()):M.isSubtitle()?(C.type="subtitles",g.subtitleTracks.push(C)):M.isHint()?(C.type="metadata",g.hintTracks.push(C)):M.isMetadata()?(C.type="metadata",g.metadataTracks.push(C)):(C.type="metadata",g.otherTracks.push(C))}else g.hasMoov=!1;if(g.mime="",g.hasMoov&&g.tracks){for(g.videoTracks&&g.videoTracks.length>0?g.mime+='video/mp4; codecs="':g.audioTracks&&g.audioTracks.length>0?g.mime+='audio/mp4; codecs="':g.mime+='application/mp4; codecs="',c=0;c<g.tracks.length;c++)c!==0&&(g.mime+=","),g.mime+=g.tracks[c].codec;g.mime+='"; profiles="',g.mime+=this.ftyp.compatible_brands.join(),g.mime+='"'}return g},_.prototype.setNextSeekPositionFromSample=function(c){c&&(this.nextSeekPosition?this.nextSeekPosition=Math.min(c.offset+c.alreadyRead,this.nextSeekPosition):this.nextSeekPosition=c.offset+c.alreadyRead)},_.prototype.processSamples=function(c){var p,g;if(this.sampleProcessingStarted){if(this.isFragmentationInitialized&&this.onSegment!==null)for(p=0;p<this.fragmentedTracks.length;p++){var y=this.fragmentedTracks[p];for(g=y.trak;g.nextSample<g.samples.length&&this.sampleProcessingStarted;){e.debug("ISOFile","Creating media fragment on track #"+y.id+" for sample "+g.nextSample);var C=this.createFragment(y.id,g.nextSample,y.segmentStream);if(C)y.segmentStream=C,g.nextSample++;else break;if((g.nextSample%y.nb_samples===0||c||g.nextSample>=g.samples.length)&&(e.info("ISOFile","Sending fragmented data on track #"+y.id+" for samples ["+Math.max(0,g.nextSample-y.nb_samples)+","+(g.nextSample-1)+"]"),e.info("ISOFile","Sample data size in memory: "+this.getAllocatedSampleDataSize()),this.onSegment&&this.onSegment(y.id,y.user,y.segmentStream.buffer,g.nextSample,c||g.nextSample>=g.samples.length),y.segmentStream=null,y!==this.fragmentedTracks[p]))break}}if(this.onSamples!==null)for(p=0;p<this.extractedTracks.length;p++){var T=this.extractedTracks[p];for(g=T.trak;g.nextSample<g.samples.length&&this.sampleProcessingStarted;){e.debug("ISOFile","Exporting on track #"+T.id+" sample #"+g.nextSample);var M=this.getSample(g,g.nextSample);if(M)g.nextSample++,T.samples.push(M);else{this.setNextSeekPositionFromSample(g.samples[g.nextSample]);break}if((g.nextSample%T.nb_samples===0||g.nextSample>=g.samples.length)&&(e.debug("ISOFile","Sending samples on track #"+T.id+" for sample "+g.nextSample),this.onSamples&&this.onSamples(T.id,T.user,T.samples),T.samples=[],T!==this.extractedTracks[p]))break}}}},_.prototype.getBox=function(c){var p=this.getBoxes(c,!0);return p.length?p[0]:null},_.prototype.getBoxes=function(c,p){var g=[];return _._sweep.call(this,c,g,p),g},_._sweep=function(c,p,g){this.type&&this.type==c&&p.push(this);for(var y in this.boxes){if(p.length&&g)return;_._sweep.call(this.boxes[y],c,p,g)}},_.prototype.getTrackSamplesInfo=function(c){var p=this.getTrackById(c);if(p)return p.samples},_.prototype.getTrackSample=function(c,p){var g=this.getTrackById(c),y=this.getSample(g,p);return y},_.prototype.releaseUsedSamples=function(c,p){var g=0,y=this.getTrackById(c);y.lastValidSample||(y.lastValidSample=0);for(var C=y.lastValidSample;C<p;C++)g+=this.releaseSample(y,C);e.info("ISOFile","Track #"+c+" released samples up to "+p+" (released size: "+g+", remaining: "+this.samplesDataSize+")"),y.lastValidSample=p},_.prototype.start=function(){this.sampleProcessingStarted=!0,this.processSamples(!1)},_.prototype.stop=function(){this.sampleProcessingStarted=!1},_.prototype.flush=function(){e.info("ISOFile","Flushing remaining samples"),this.updateSampleLists(),this.processSamples(!0),this.stream.cleanBuffers(),this.stream.logBufferLevel(!0)},_.prototype.seekTrack=function(c,p,g){var y,C,T=1/0,M=0,O=0,B;if(g.samples.length===0)return e.info("ISOFile","No sample in track, cannot seek! Using time "+e.getDurationString(0,1)+" and offset: 0"),{offset:0,time:0};for(y=0;y<g.samples.length;y++){if(C=g.samples[y],y===0)O=0,B=C.timescale;else if(C.cts>c*C.timescale){O=y-1;break}p&&C.is_sync&&(M=y)}for(p&&(O=M),c=g.samples[O].cts,g.nextSample=O;g.samples[O].alreadyRead===g.samples[O].size&&g.samples[O+1];)O++;return T=g.samples[O].offset+g.samples[O].alreadyRead,e.info("ISOFile","Seeking to "+(p?"RAP":"")+" sample #"+g.nextSample+" on track "+g.tkhd.track_id+", time "+e.getDurationString(c,B)+" and offset: "+T),{offset:T,time:c/B}},_.prototype.getTrackDuration=function(c){var p;return c.samples?(p=c.samples[c.samples.length-1],(p.cts+p.duration)/p.timescale):1/0},_.prototype.seek=function(c,p){var g=this.moov,y,C,T,M={offset:1/0,time:1/0};if(this.moov){for(T=0;T<g.traks.length;T++)y=g.traks[T],!(c>this.getTrackDuration(y))&&(C=this.seekTrack(c,p,y),C.offset<M.offset&&(M.offset=C.offset),C.time<M.time&&(M.time=C.time));return e.info("ISOFile","Seeking at time "+e.getDurationString(M.time,1)+" needs a buffer with a fileStart position of "+M.offset),M.offset===1/0?M={offset:this.nextParsePosition,time:0}:M.offset=this.stream.getEndFilePositionAfter(M.offset),e.info("ISOFile","Adjusted seek position (after checking data already in buffer): "+M.offset),M}else throw"Cannot seek: moov not received!"},_.prototype.equal=function(c){for(var p=0;p<this.boxes.length&&p<c.boxes.length;){var g=this.boxes[p],y=c.boxes[p];if(!s.boxEqual(g,y))return!1;p++}return!0},n.ISOFile=_,_.prototype.lastBoxStartPosition=0,_.prototype.parsingMdat=null,_.prototype.nextParsePosition=0,_.prototype.discardMdatData=!1,_.prototype.processIncompleteBox=function(c){var p,g,y;return c.type==="mdat"?(p=new s[c.type+"Box"](c.size),this.parsingMdat=p,this.boxes.push(p),this.mdats.push(p),p.start=c.start,p.hdr_size=c.hdr_size,this.stream.addUsedBytes(p.hdr_size),this.lastBoxStartPosition=p.start+p.size,y=this.stream.seek(p.start+p.size,!1,this.discardMdatData),y?(this.parsingMdat=null,!0):(this.moovStartFound?this.nextParsePosition=this.stream.findEndContiguousBuf():this.nextParsePosition=p.start+p.size,!1)):(c.type==="moov"&&(this.moovStartFound=!0,this.mdats.length===0&&(this.isProgressive=!0)),g=this.stream.mergeNextBuffer?this.stream.mergeNextBuffer():!1,g?(this.nextParsePosition=this.stream.getEndPosition(),!0):(c.type?this.moovStartFound?this.nextParsePosition=this.stream.getEndPosition():this.nextParsePosition=this.stream.getPosition()+c.size:this.nextParsePosition=this.stream.getEndPosition(),!1))},_.prototype.hasIncompleteMdat=function(){return this.parsingMdat!==null},_.prototype.processIncompleteMdat=function(){var c,p;return c=this.parsingMdat,p=this.stream.seek(c.start+c.size,!1,this.discardMdatData),p?(e.debug("ISOFile","Found 'mdat' end in buffered data"),this.parsingMdat=null,!0):(this.nextParsePosition=this.stream.findEndContiguousBuf(),!1)},_.prototype.restoreParsePosition=function(){return this.stream.seek(this.lastBoxStartPosition,!0,this.discardMdatData)},_.prototype.saveParsePosition=function(){this.lastBoxStartPosition=this.stream.getPosition()},_.prototype.updateUsedBytes=function(c,p){this.stream.addUsedBytes&&(c.type==="mdat"?(this.stream.addUsedBytes(c.hdr_size),this.discardMdatData&&this.stream.addUsedBytes(c.size-c.hdr_size)):this.stream.addUsedBytes(c.size))},_.prototype.add=s.Box.prototype.add,_.prototype.addBox=s.Box.prototype.addBox,_.prototype.init=function(c){var p=c||{};this.add("ftyp").set("major_brand",p.brands&&p.brands[0]||"iso4").set("minor_version",0).set("compatible_brands",p.brands||["iso4"]);var g=this.add("moov");return g.add("mvhd").set("timescale",p.timescale||600).set("rate",p.rate||65536).set("creation_time",0).set("modification_time",0).set("duration",p.duration||0).set("volume",p.width?0:256).set("matrix",[65536,0,0,0,65536,0,0,0,1073741824]).set("next_track_id",1),g.add("mvex"),this},_.prototype.addTrack=function(c){this.moov||this.init(c);var p=c||{};p.width=p.width||320,p.height=p.height||320,p.id=p.id||this.moov.mvhd.next_track_id,p.type=p.type||"avc1";var g=this.moov.add("trak");this.moov.mvhd.next_track_id=p.id+1,g.add("tkhd").set("flags",s.TKHD_FLAG_ENABLED|s.TKHD_FLAG_IN_MOVIE|s.TKHD_FLAG_IN_PREVIEW).set("creation_time",0).set("modification_time",0).set("track_id",p.id).set("duration",p.duration||0).set("layer",p.layer||0).set("alternate_group",0).set("volume",1).set("matrix",[65536,0,0,0,65536,0,0,0,1073741824]).set("width",p.width<<16).set("height",p.height<<16);var y=g.add("mdia");y.add("mdhd").set("creation_time",0).set("modification_time",0).set("timescale",p.timescale||1).set("duration",p.media_duration||0).set("language",p.language||"und"),y.add("hdlr").set("handler",p.hdlr||"vide").set("name",p.name||"Track created with MP4Box.js"),y.add("elng").set("extended_language",p.language||"fr-FR");var C=y.add("minf");if(s[p.type+"SampleEntry"]!==void 0){var T=new s[p.type+"SampleEntry"];T.data_reference_index=1;var M="";for(var O in s.sampleEntryCodes)for(var B=s.sampleEntryCodes[O],D=0;D<B.length;D++)if(B.indexOf(p.type)>-1){M=O;break}switch(M){case"Visual":if(C.add("vmhd").set("graphicsmode",0).set("opcolor",[0,0,0]),T.set("width",p.width).set("height",p.height).set("horizresolution",72<<16).set("vertresolution",72<<16).set("frame_count",1).set("compressorname",p.type+" Compressor").set("depth",24),p.avcDecoderConfigRecord){var F=new s.avcCBox;F.parse(new t(p.avcDecoderConfigRecord)),T.addBox(F)}else if(p.hevcDecoderConfigRecord){var z=new s.hvcCBox;z.parse(new t(p.hevcDecoderConfigRecord)),T.addBox(z)}break;case"Audio":C.add("smhd").set("balance",p.balance||0),T.set("channel_count",p.channel_count||2).set("samplesize",p.samplesize||16).set("samplerate",p.samplerate||65536);break;case"Hint":C.add("hmhd");break;case"Subtitle":switch(C.add("sthd"),p.type){case"stpp":T.set("namespace",p.namespace||"nonamespace").set("schema_location",p.schema_location||"").set("auxiliary_mime_types",p.auxiliary_mime_types||"");break}break;case"Metadata":C.add("nmhd");break;case"System":C.add("nmhd");break;default:C.add("nmhd");break}p.description&&T.addBox(p.description),p.description_boxes&&p.description_boxes.forEach(function($){T.addBox($)}),C.add("dinf").add("dref").addEntry(new s["url Box"]().set("flags",1));var U=C.add("stbl");return U.add("stsd").addEntry(T),U.add("stts").set("sample_counts",[]).set("sample_deltas",[]),U.add("stsc").set("first_chunk",[]).set("samples_per_chunk",[]).set("sample_description_index",[]),U.add("stco").set("chunk_offsets",[]),U.add("stsz").set("sample_sizes",[]),this.moov.mvex.add("trex").set("track_id",p.id).set("default_sample_description_index",p.default_sample_description_index||1).set("default_sample_duration",p.default_sample_duration||0).set("default_sample_size",p.default_sample_size||0).set("default_sample_flags",p.default_sample_flags||0),this.buildTrakSampleLists(g),p.id}},s.Box.prototype.computeSize=function(c){var p=c||new r;p.endianness=r.BIG_ENDIAN,this.write(p)},_.prototype.addSample=function(c,p,g){var y=g||{},C={},T=this.getTrackById(c);if(T!==null){C.number=T.samples.length,C.track_id=T.tkhd.track_id,C.timescale=T.mdia.mdhd.timescale,C.description_index=y.sample_description_index?y.sample_description_index-1:0,C.description=T.mdia.minf.stbl.stsd.entries[C.description_index],C.data=p,C.size=p.byteLength,C.alreadyRead=C.size,C.duration=y.duration||1,C.cts=y.cts||0,C.dts=y.dts||0,C.is_sync=y.is_sync||!1,C.is_leading=y.is_leading||0,C.depends_on=y.depends_on||0,C.is_depended_on=y.is_depended_on||0,C.has_redundancy=y.has_redundancy||0,C.degradation_priority=y.degradation_priority||0,C.offset=0,C.subsamples=y.subsamples,T.samples.push(C),T.samples_size+=C.size,T.samples_duration+=C.duration,T.first_dts===void 0&&(T.first_dts=y.dts),this.processSamples();var M=this.createSingleSampleMoof(C);return this.addBox(M),M.computeSize(),M.trafs[0].truns[0].data_offset=M.size+8,this.add("mdat").data=new Uint8Array(p),C}},_.prototype.createSingleSampleMoof=function(c){var p=0;c.is_sync?p=1<<25:p=65536;var g=new s.moofBox;g.add("mfhd").set("sequence_number",this.nextMoofNumber),this.nextMoofNumber++;var y=g.add("traf"),C=this.getTrackById(c.track_id);return y.add("tfhd").set("track_id",c.track_id).set("flags",s.TFHD_FLAG_DEFAULT_BASE_IS_MOOF),y.add("tfdt").set("baseMediaDecodeTime",c.dts-(C.first_dts||0)),y.add("trun").set("flags",s.TRUN_FLAGS_DATA_OFFSET|s.TRUN_FLAGS_DURATION|s.TRUN_FLAGS_SIZE|s.TRUN_FLAGS_FLAGS|s.TRUN_FLAGS_CTS_OFFSET).set("data_offset",0).set("first_sample_flags",0).set("sample_count",1).set("sample_duration",[c.duration]).set("sample_size",[c.size]).set("sample_flags",[p]).set("sample_composition_time_offset",[c.cts-c.dts]),g},_.prototype.lastMoofIndex=0,_.prototype.samplesDataSize=0,_.prototype.resetTables=function(){var c,p,g,y,C,T,M,O;for(this.initial_duration=this.moov.mvhd.duration,this.moov.mvhd.duration=0,c=0;c<this.moov.traks.length;c++){p=this.moov.traks[c],p.tkhd.duration=0,p.mdia.mdhd.duration=0,g=p.mdia.minf.stbl.stco||p.mdia.minf.stbl.co64,g.chunk_offsets=[],y=p.mdia.minf.stbl.stsc,y.first_chunk=[],y.samples_per_chunk=[],y.sample_description_index=[],C=p.mdia.minf.stbl.stsz||p.mdia.minf.stbl.stz2,C.sample_sizes=[],T=p.mdia.minf.stbl.stts,T.sample_counts=[],T.sample_deltas=[],M=p.mdia.minf.stbl.ctts,M&&(M.sample_counts=[],M.sample_offsets=[]),O=p.mdia.minf.stbl.stss;var B=p.mdia.minf.stbl.boxes.indexOf(O);B!=-1&&(p.mdia.minf.stbl.boxes[B]=null)}},_.initSampleGroups=function(c,p,g,y,C){var T,M,O,B;function D(F,z,U){this.grouping_type=F,this.grouping_type_parameter=z,this.sbgp=U,this.last_sample_in_run=-1,this.entry_index=-1}for(p&&(p.sample_groups_info=[]),c.sample_groups_info||(c.sample_groups_info=[]),M=0;M<g.length;M++){for(B=g[M].grouping_type+"/"+g[M].grouping_type_parameter,O=new D(g[M].grouping_type,g[M].grouping_type_parameter,g[M]),p&&(p.sample_groups_info[B]=O),c.sample_groups_info[B]||(c.sample_groups_info[B]=O),T=0;T<y.length;T++)y[T].grouping_type===g[M].grouping_type&&(O.description=y[T],O.description.used=!0);if(C)for(T=0;T<C.length;T++)C[T].grouping_type===g[M].grouping_type&&(O.fragment_description=C[T],O.fragment_description.used=!0,O.is_fragment=!0)}if(p){if(C)for(M=0;M<C.length;M++)!C[M].used&&C[M].version>=2&&(B=C[M].grouping_type+"/0",O=new D(C[M].grouping_type,0),O.is_fragment=!0,p.sample_groups_info[B]||(p.sample_groups_info[B]=O))}else for(M=0;M<y.length;M++)!y[M].used&&y[M].version>=2&&(B=y[M].grouping_type+"/0",O=new D(y[M].grouping_type,0),c.sample_groups_info[B]||(c.sample_groups_info[B]=O))},_.setSampleGroupProperties=function(c,p,g,y){var C,T;p.sample_groups=[];for(C in y)if(p.sample_groups[C]={},p.sample_groups[C].grouping_type=y[C].grouping_type,p.sample_groups[C].grouping_type_parameter=y[C].grouping_type_parameter,g>=y[C].last_sample_in_run&&(y[C].last_sample_in_run<0&&(y[C].last_sample_in_run=0),y[C].entry_index++,y[C].entry_index<=y[C].sbgp.entries.length-1&&(y[C].last_sample_in_run+=y[C].sbgp.entries[y[C].entry_index].sample_count)),y[C].entry_index<=y[C].sbgp.entries.length-1?p.sample_groups[C].group_description_index=y[C].sbgp.entries[y[C].entry_index].group_description_index:p.sample_groups[C].group_description_index=-1,p.sample_groups[C].group_description_index!==0){var M;y[C].fragment_description?M=y[C].fragment_description:M=y[C].description,p.sample_groups[C].group_description_index>0?(p.sample_groups[C].group_description_index>65535?T=(p.sample_groups[C].group_description_index>>16)-1:T=p.sample_groups[C].group_description_index-1,M&&T>=0&&(p.sample_groups[C].description=M.entries[T])):M&&M.version>=2&&M.default_group_description_index>0&&(p.sample_groups[C].description=M.entries[M.default_group_description_index-1])}},_.process_sdtp=function(c,p,g){p&&(c?(p.is_leading=c.is_leading[g],p.depends_on=c.sample_depends_on[g],p.is_depended_on=c.sample_is_depended_on[g],p.has_redundancy=c.sample_has_redundancy[g]):(p.is_leading=0,p.depends_on=0,p.is_depended_on=0,p.has_redundancy=0))},_.prototype.buildSampleLists=function(){var c,p;for(c=0;c<this.moov.traks.length;c++)p=this.moov.traks[c],this.buildTrakSampleLists(p)},_.prototype.buildTrakSampleLists=function(c){var p,g,y,C,T,M,O,B,D,F,z,U,$,J,W,Q,ae,Y,K,ee,de,q,ie,he;if(c.samples=[],c.samples_duration=0,c.samples_size=0,g=c.mdia.minf.stbl.stco||c.mdia.minf.stbl.co64,y=c.mdia.minf.stbl.stsc,C=c.mdia.minf.stbl.stsz||c.mdia.minf.stbl.stz2,T=c.mdia.minf.stbl.stts,M=c.mdia.minf.stbl.ctts,O=c.mdia.minf.stbl.stss,B=c.mdia.minf.stbl.stsd,D=c.mdia.minf.stbl.subs,U=c.mdia.minf.stbl.stdp,F=c.mdia.minf.stbl.sbgps,z=c.mdia.minf.stbl.sgpds,Y=-1,K=-1,ee=-1,de=-1,q=0,ie=0,he=0,_.initSampleGroups(c,null,F,z),!(typeof C>"u")){for(p=0;p<C.sample_sizes.length;p++){var fe={};fe.number=p,fe.track_id=c.tkhd.track_id,fe.timescale=c.mdia.mdhd.timescale,fe.alreadyRead=0,c.samples[p]=fe,fe.size=C.sample_sizes[p],c.samples_size+=fe.size,p===0?(J=1,$=0,fe.chunk_index=J,fe.chunk_run_index=$,ae=y.samples_per_chunk[$],Q=0,$+1<y.first_chunk.length?W=y.first_chunk[$+1]-1:W=1/0):p<ae?(fe.chunk_index=J,fe.chunk_run_index=$):(J++,fe.chunk_index=J,Q=0,J<=W||($++,$+1<y.first_chunk.length?W=y.first_chunk[$+1]-1:W=1/0),fe.chunk_run_index=$,ae+=y.samples_per_chunk[$]),fe.description_index=y.sample_description_index[fe.chunk_run_index]-1,fe.description=B.entries[fe.description_index],fe.offset=g.chunk_offsets[fe.chunk_index-1]+Q,Q+=fe.size,p>Y&&(K++,Y<0&&(Y=0),Y+=T.sample_counts[K]),p>0?(c.samples[p-1].duration=T.sample_deltas[K],c.samples_duration+=c.samples[p-1].duration,fe.dts=c.samples[p-1].dts+c.samples[p-1].duration):fe.dts=0,M?(p>=ee&&(de++,ee<0&&(ee=0),ee+=M.sample_counts[de]),fe.cts=c.samples[p].dts+M.sample_offsets[de]):fe.cts=fe.dts,O?(p==O.sample_numbers[q]-1?(fe.is_sync=!0,q++):(fe.is_sync=!1,fe.degradation_priority=0),D&&D.entries[ie].sample_delta+he==p+1&&(fe.subsamples=D.entries[ie].subsamples,he+=D.entries[ie].sample_delta,ie++)):fe.is_sync=!0,_.process_sdtp(c.mdia.minf.stbl.sdtp,fe,fe.number),U?fe.degradation_priority=U.priority[p]:fe.degradation_priority=0,D&&D.entries[ie].sample_delta+he==p&&(fe.subsamples=D.entries[ie].subsamples,he+=D.entries[ie].sample_delta),(F.length>0||z.length>0)&&_.setSampleGroupProperties(c,fe,p,c.sample_groups_info)}p>0&&(c.samples[p-1].duration=Math.max(c.mdia.mdhd.duration-c.samples[p-1].dts,0),c.samples_duration+=c.samples[p-1].duration)}},_.prototype.updateSampleLists=function(){var c,p,g,y,C,T,M,O,B,D,F,z,U,$,J;if(this.moov!==void 0){for(;this.lastMoofIndex<this.moofs.length;)if(B=this.moofs[this.lastMoofIndex],this.lastMoofIndex++,B.type=="moof")for(D=B,c=0;c<D.trafs.length;c++){for(F=D.trafs[c],z=this.getTrackById(F.tfhd.track_id),z.samples==null&&(z.samples=[]),U=this.getTrexById(F.tfhd.track_id),F.tfhd.flags&s.TFHD_FLAG_SAMPLE_DESC?y=F.tfhd.default_sample_description_index:y=U?U.default_sample_description_index:1,F.tfhd.flags&s.TFHD_FLAG_SAMPLE_DUR?C=F.tfhd.default_sample_duration:C=U?U.default_sample_duration:0,F.tfhd.flags&s.TFHD_FLAG_SAMPLE_SIZE?T=F.tfhd.default_sample_size:T=U?U.default_sample_size:0,F.tfhd.flags&s.TFHD_FLAG_SAMPLE_FLAGS?M=F.tfhd.default_sample_flags:M=U?U.default_sample_flags:0,F.sample_number=0,F.sbgps.length>0&&_.initSampleGroups(z,F,F.sbgps,z.mdia.minf.stbl.sgpds,F.sgpds),p=0;p<F.truns.length;p++){var W=F.truns[p];for(g=0;g<W.sample_count;g++){$={},$.moof_number=this.lastMoofIndex,$.number_in_traf=F.sample_number,F.sample_number++,$.number=z.samples.length,F.first_sample_index=z.samples.length,z.samples.push($),$.track_id=z.tkhd.track_id,$.timescale=z.mdia.mdhd.timescale,$.description_index=y-1,$.description=z.mdia.minf.stbl.stsd.entries[$.description_index],$.size=T,W.flags&s.TRUN_FLAGS_SIZE&&($.size=W.sample_size[g]),z.samples_size+=$.size,$.duration=C,W.flags&s.TRUN_FLAGS_DURATION&&($.duration=W.sample_duration[g]),z.samples_duration+=$.duration,z.first_traf_merged||g>0?$.dts=z.samples[z.samples.length-2].dts+z.samples[z.samples.length-2].duration:(F.tfdt?$.dts=F.tfdt.baseMediaDecodeTime:$.dts=0,z.first_traf_merged=!0),$.cts=$.dts,W.flags&s.TRUN_FLAGS_CTS_OFFSET&&($.cts=$.dts+W.sample_composition_time_offset[g]),J=M,W.flags&s.TRUN_FLAGS_FLAGS?J=W.sample_flags[g]:g===0&&W.flags&s.TRUN_FLAGS_FIRST_FLAG&&(J=W.first_sample_flags),$.is_sync=!(J>>16&1),$.is_leading=J>>26&3,$.depends_on=J>>24&3,$.is_depended_on=J>>22&3,$.has_redundancy=J>>20&3,$.degradation_priority=J&65535;var Q=!!(F.tfhd.flags&s.TFHD_FLAG_BASE_DATA_OFFSET),ae=!!(F.tfhd.flags&s.TFHD_FLAG_DEFAULT_BASE_IS_MOOF),Y=!!(W.flags&s.TRUN_FLAGS_DATA_OFFSET),K=0;Q?K=F.tfhd.base_data_offset:ae||p===0?K=D.start:K=O,p===0&&g===0?Y?$.offset=K+W.data_offset:$.offset=K:$.offset=O,O=$.offset+$.size,(F.sbgps.length>0||F.sgpds.length>0||z.mdia.minf.stbl.sbgps.length>0||z.mdia.minf.stbl.sgpds.length>0)&&_.setSampleGroupProperties(z,$,$.number_in_traf,F.sample_groups_info)}}if(F.subs){z.has_fragment_subsamples=!0;var ee=F.first_sample_index;for(p=0;p<F.subs.entries.length;p++)ee+=F.subs.entries[p].sample_delta,$=z.samples[ee-1],$.subsamples=F.subs.entries[p].subsamples}}}},_.prototype.getSample=function(c,p){var g,y=c.samples[p];if(!this.moov)return null;if(!y.data)y.data=new Uint8Array(y.size),y.alreadyRead=0,this.samplesDataSize+=y.size,e.debug("ISOFile","Allocating sample #"+p+" on track #"+c.tkhd.track_id+" of size "+y.size+" (total: "+this.samplesDataSize+")");else if(y.alreadyRead==y.size)return y;for(;;){var C=this.stream.findPosition(!0,y.offset+y.alreadyRead,!1);if(C>-1){g=this.stream.buffers[C];var T=g.byteLength-(y.offset+y.alreadyRead-g.fileStart);if(y.size-y.alreadyRead<=T)return e.debug("ISOFile","Getting sample #"+p+" data (alreadyRead: "+y.alreadyRead+" offset: "+(y.offset+y.alreadyRead-g.fileStart)+" read size: "+(y.size-y.alreadyRead)+" full size: "+y.size+")"),r.memcpy(y.data.buffer,y.alreadyRead,g,y.offset+y.alreadyRead-g.fileStart,y.size-y.alreadyRead),g.usedBytes+=y.size-y.alreadyRead,this.stream.logBufferLevel(),y.alreadyRead=y.size,y;if(T===0)return null;e.debug("ISOFile","Getting sample #"+p+" partial data (alreadyRead: "+y.alreadyRead+" offset: "+(y.offset+y.alreadyRead-g.fileStart)+" read size: "+T+" full size: "+y.size+")"),r.memcpy(y.data.buffer,y.alreadyRead,g,y.offset+y.alreadyRead-g.fileStart,T),y.alreadyRead+=T,g.usedBytes+=T,this.stream.logBufferLevel()}else return null}},_.prototype.releaseSample=function(c,p){var g=c.samples[p];return g.data?(this.samplesDataSize-=g.size,g.data=null,g.alreadyRead=0,g.size):0},_.prototype.getAllocatedSampleDataSize=function(){return this.samplesDataSize},_.prototype.getCodecs=function(){var c,p="";for(c=0;c<this.moov.traks.length;c++){var g=this.moov.traks[c];c>0&&(p+=","),p+=g.mdia.minf.stbl.stsd.entries[0].getCodec()}return p},_.prototype.getTrexById=function(c){var p;if(!this.moov||!this.moov.mvex)return null;for(p=0;p<this.moov.mvex.trexs.length;p++){var g=this.moov.mvex.trexs[p];if(g.track_id==c)return g}return null},_.prototype.getTrackById=function(c){if(this.moov===void 0)return null;for(var p=0;p<this.moov.traks.length;p++){var g=this.moov.traks[p];if(g.tkhd.track_id==c)return g}return null},_.prototype.items=[],_.prototype.entity_groups=[],_.prototype.itemsDataSize=0,_.prototype.flattenItemInfo=function(){var c=this.items,p=this.entity_groups,g,y,C,T=this.meta;if(T!=null&&T.hdlr!==void 0&&T.iinf!==void 0){for(g=0;g<T.iinf.item_infos.length;g++)C={},C.id=T.iinf.item_infos[g].item_ID,c[C.id]=C,C.ref_to=[],C.name=T.iinf.item_infos[g].item_name,T.iinf.item_infos[g].protection_index>0&&(C.protection=T.ipro.protections[T.iinf.item_infos[g].protection_index-1]),T.iinf.item_infos[g].item_type?C.type=T.iinf.item_infos[g].item_type:C.type="mime",C.content_type=T.iinf.item_infos[g].content_type,C.content_encoding=T.iinf.item_infos[g].content_encoding;if(T.grpl)for(g=0;g<T.grpl.boxes.length;g++)entity_group={},entity_group.id=T.grpl.boxes[g].group_id,entity_group.entity_ids=T.grpl.boxes[g].entity_ids,entity_group.type=T.grpl.boxes[g].type,p[entity_group.id]=entity_group;if(T.iloc)for(g=0;g<T.iloc.items.length;g++){var M=T.iloc.items[g];switch(C=c[M.item_ID],M.data_reference_index!==0&&(e.warn("Item storage with reference to other files: not supported"),C.source=T.dinf.boxes[M.data_reference_index-1]),M.construction_method){case 0:break;case 1:e.warn("Item storage with construction_method : not supported");break;case 2:e.warn("Item storage with construction_method : not supported");break}for(C.extents=[],C.size=0,y=0;y<M.extents.length;y++)C.extents[y]={},C.extents[y].offset=M.extents[y].extent_offset+M.base_offset,C.extents[y].length=M.extents[y].extent_length,C.extents[y].alreadyRead=0,C.size+=C.extents[y].length}if(T.pitm&&(c[T.pitm.item_id].primary=!0),T.iref)for(g=0;g<T.iref.references.length;g++){var O=T.iref.references[g];for(y=0;y<O.references.length;y++)c[O.from_item_ID].ref_to.push({type:O.type,id:O.references[y]})}if(T.iprp)for(var B=0;B<T.iprp.ipmas.length;B++){var D=T.iprp.ipmas[B];for(g=0;g<D.associations.length;g++){var F=D.associations[g];if(C=c[F.id],C||(C=p[F.id]),C)for(C.properties===void 0&&(C.properties={},C.properties.boxes=[]),y=0;y<F.props.length;y++){var z=F.props[y];if(z.property_index>0&&z.property_index-1<T.iprp.ipco.boxes.length){var U=T.iprp.ipco.boxes[z.property_index-1];C.properties[U.type]=U,C.properties.boxes.push(U)}}}}}},_.prototype.getItem=function(c){var p,g;if(!this.meta)return null;if(g=this.items[c],!g.data&&g.size)g.data=new Uint8Array(g.size),g.alreadyRead=0,this.itemsDataSize+=g.size,e.debug("ISOFile","Allocating item #"+c+" of size "+g.size+" (total: "+this.itemsDataSize+")");else if(g.alreadyRead===g.size)return g;for(var y=0;y<g.extents.length;y++){var C=g.extents[y];if(C.alreadyRead!==C.length){var T=this.stream.findPosition(!0,C.offset+C.alreadyRead,!1);if(T>-1){p=this.stream.buffers[T];var M=p.byteLength-(C.offset+C.alreadyRead-p.fileStart);if(C.length-C.alreadyRead<=M)e.debug("ISOFile","Getting item #"+c+" extent #"+y+" data (alreadyRead: "+C.alreadyRead+" offset: "+(C.offset+C.alreadyRead-p.fileStart)+" read size: "+(C.length-C.alreadyRead)+" full extent size: "+C.length+" full item size: "+g.size+")"),r.memcpy(g.data.buffer,g.alreadyRead,p,C.offset+C.alreadyRead-p.fileStart,C.length-C.alreadyRead),p.usedBytes+=C.length-C.alreadyRead,this.stream.logBufferLevel(),g.alreadyRead+=C.length-C.alreadyRead,C.alreadyRead=C.length;else return e.debug("ISOFile","Getting item #"+c+" extent #"+y+" partial data (alreadyRead: "+C.alreadyRead+" offset: "+(C.offset+C.alreadyRead-p.fileStart)+" read size: "+M+" full extent size: "+C.length+" full item size: "+g.size+")"),r.memcpy(g.data.buffer,g.alreadyRead,p,C.offset+C.alreadyRead-p.fileStart,M),C.alreadyRead+=M,g.alreadyRead+=M,p.usedBytes+=M,this.stream.logBufferLevel(),null}else return null}}return g.alreadyRead===g.size?g:null},_.prototype.releaseItem=function(c){var p=this.items[c];if(p.data){this.itemsDataSize-=p.size,p.data=null,p.alreadyRead=0;for(var g=0;g<p.extents.length;g++){var y=p.extents[g];y.alreadyRead=0}return p.size}else return 0},_.prototype.processItems=function(c){for(var p in this.items){var g=this.items[p];this.getItem(g.id),c&&!g.sent&&(c(g),g.sent=!0,g.data=null)}},_.prototype.hasItem=function(c){for(var p in this.items){var g=this.items[p];if(g.name===c)return g.id}return-1},_.prototype.getMetaHandler=function(){return this.meta?this.meta.hdlr.handler:null},_.prototype.getPrimaryItem=function(){return!this.meta||!this.meta.pitm?null:this.getItem(this.meta.pitm.item_id)},_.prototype.itemToFragmentedTrackFile=function(c){var p=c||{},g=null;if(p.itemId?g=this.getItem(p.itemId):g=this.getPrimaryItem(),g==null)return null;var y=new _;y.discardMdatData=!1;var C={type:g.type,description_boxes:g.properties.boxes};g.properties.ispe&&(C.width=g.properties.ispe.image_width,C.height=g.properties.ispe.image_height);var T=y.addTrack(C);return T?(y.addSample(T,g.data),y):null},_.prototype.write=function(c){for(var p=0;p<this.boxes.length;p++)this.boxes[p].write(c)},_.prototype.createFragment=function(c,p,g){var y=this.getTrackById(c),C=this.getSample(y,p);if(C==null)return this.setNextSeekPositionFromSample(y.samples[p]),null;var T=g||new r;T.endianness=r.BIG_ENDIAN;var M=this.createSingleSampleMoof(C);M.write(T),M.trafs[0].truns[0].data_offset=M.size+8,e.debug("MP4Box","Adjusting data_offset with new value "+M.trafs[0].truns[0].data_offset),T.adjustUint32(M.trafs[0].truns[0].data_offset_position,M.trafs[0].truns[0].data_offset);var O=new s.mdatBox;return O.data=C.data,O.write(T),T},_.writeInitializationSegment=function(c,p,g,y){var C;e.debug("ISOFile","Generating initialization segment");var T=new r;T.endianness=r.BIG_ENDIAN,c.write(T);var M=p.add("mvex");for(g&&M.add("mehd").set("fragment_duration",g),C=0;C<p.traks.length;C++)M.add("trex").set("track_id",p.traks[C].tkhd.track_id).set("default_sample_description_index",1).set("default_sample_duration",y).set("default_sample_size",0).set("default_sample_flags",65536);return p.write(T),T.buffer},_.prototype.save=function(c){var p=new r;p.endianness=r.BIG_ENDIAN,this.write(p),p.save(c)},_.prototype.getBuffer=function(){var c=new r;return c.endianness=r.BIG_ENDIAN,this.write(c),c.buffer},_.prototype.initializeSegmentation=function(){var c,p,g,y;for(this.onSegment===null&&e.warn("MP4Box","No segmentation callback set!"),this.isFragmentationInitialized||(this.isFragmentationInitialized=!0,this.nextMoofNumber=0,this.resetTables()),p=[],c=0;c<this.fragmentedTracks.length;c++){var C=new s.moovBox;C.mvhd=this.moov.mvhd,C.boxes.push(C.mvhd),g=this.getTrackById(this.fragmentedTracks[c].id),C.boxes.push(g),C.traks.push(g),y={},y.id=g.tkhd.track_id,y.user=this.fragmentedTracks[c].user,y.buffer=_.writeInitializationSegment(this.ftyp,C,this.moov.mvex&&this.moov.mvex.mehd?this.moov.mvex.mehd.fragment_duration:void 0,this.moov.traks[c].samples.length>0?this.moov.traks[c].samples[0].duration:0),p.push(y)}return p},s.Box.prototype.printHeader=function(c){this.size+=8,this.size>a&&(this.size+=8),this.type==="uuid"&&(this.size+=16),c.log(c.indent+"size:"+this.size),c.log(c.indent+"type:"+this.type)},s.FullBox.prototype.printHeader=function(c){this.size+=4,s.Box.prototype.printHeader.call(this,c),c.log(c.indent+"version:"+this.version),c.log(c.indent+"flags:"+this.flags)},s.Box.prototype.print=function(c){this.printHeader(c)},s.ContainerBox.prototype.print=function(c){this.printHeader(c);for(var p=0;p<this.boxes.length;p++)if(this.boxes[p]){var g=c.indent;c.indent+=" ",this.boxes[p].print(c),c.indent=g}},_.prototype.print=function(c){c.indent="";for(var p=0;p<this.boxes.length;p++)this.boxes[p]&&this.boxes[p].print(c)},s.mvhdBox.prototype.print=function(c){s.FullBox.prototype.printHeader.call(this,c),c.log(c.indent+"creation_time: "+this.creation_time),c.log(c.indent+"modification_time: "+this.modification_time),c.log(c.indent+"timescale: "+this.timescale),c.log(c.indent+"duration: "+this.duration),c.log(c.indent+"rate: "+this.rate),c.log(c.indent+"volume: "+(this.volume>>8)),c.log(c.indent+"matrix: "+this.matrix.join(", ")),c.log(c.indent+"next_track_id: "+this.next_track_id)},s.tkhdBox.prototype.print=function(c){s.FullBox.prototype.printHeader.call(this,c),c.log(c.indent+"creation_time: "+this.creation_time),c.log(c.indent+"modification_time: "+this.modification_time),c.log(c.indent+"track_id: "+this.track_id),c.log(c.indent+"duration: "+this.duration),c.log(c.indent+"volume: "+(this.volume>>8)),c.log(c.indent+"matrix: "+this.matrix.join(", ")),c.log(c.indent+"layer: "+this.layer),c.log(c.indent+"alternate_group: "+this.alternate_group),c.log(c.indent+"width: "+this.width),c.log(c.indent+"height: "+this.height)};var E={};E.createFile=function(c,p){var g=c!==void 0?c:!0,y=new _(p);return y.discardMdatData=!g,y},n.createFile=E.createFile}(oR)),oR}var Npe=Lpe();const mf=Fm(Npe);var zpe=Object.defineProperty,_G=n=>{throw TypeError(n)},Upe=(n,e,t)=>e in n?zpe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,sR=(n,e,t)=>Upe(n,typeof e!="symbol"?e+"":e,t),Fpe=(n,e,t)=>e.has(n)||_G("Cannot "+t),fv=(n,e,t)=>(Fpe(n,e,"read from private field"),t?t.call(n):e.get(n)),Hpe=(n,e,t)=>e.has(n)?_G("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Sh;let zm=class{constructor(){Hpe(this,Sh,new Map),sR(this,"on",(e,t)=>{const r=fv(this,Sh).get(e)??new Set;return r.add(t),fv(this,Sh).has(e)||fv(this,Sh).set(e,r),()=>{r.delete(t),r.size===0&&fv(this,Sh).delete(e)}}),sR(this,"once",(e,t)=>{const r=this.on(e,(...a)=>{r(),t(...a)});return r}),sR(this,"emit",(e,...t)=>{const r=fv(this,Sh).get(e);r!=null&&r.forEach(a=>a(...t))})}static forwardEvent(e,t,r){const a=r.map(o=>{const[l,s]=Array.isArray(o)?o:[o,o];return e.on(l,(...u)=>{t.emit(s,...u)})});return()=>{a.forEach(o=>o())}}destroy(){fv(this,Sh).clear()}};Sh=new WeakMap;const Gpe=()=>{let n,e=16.6;self.onmessage=t=>{t.data.event==="start"&&(self.clearInterval(n),n=self.setInterval(()=>{self.postMessage({})},e)),t.data.event==="stop"&&self.clearInterval(n)}},kpe=()=>{const n=new Blob([`(${Gpe.toString()})()`]),e=URL.createObjectURL(n);return new Worker(e)},gv=new Map;let J2=1,Gv=null;globalThis.Worker!=null&&(Gv=kpe(),Gv.onmessage=()=>{J2+=1;for(const[n,e]of gv)if(J2%n===0)for(const t of e)t()});const lB=(n,e)=>{const t=Math.round(e/16.6),r=gv.get(t)??new Set;return r.add(n),gv.set(t,r),gv.size===1&&r.size===1&&(Gv==null||Gv.postMessage({event:"start"})),()=>{r.delete(n),r.size===0&&gv.delete(t),gv.size===0&&(J2=0,Gv==null||Gv.postMessage({event:"stop"}))}};function $pe(n,e){let t=!1;async function r(){const a=n.getReader();for(;!t;){const{value:o,done:l}=await a.read();if(l){e.onDone();return}await e.onChunk(o)}a.releaseLock(),await n.cancel()}return r().catch(console.error),()=>{t=!0}}function Vpe(n,e,t){let r=0,a=0;const o=n.boxes;let l=!1;const s=()=>{var b;if(!l)if(o.find(c=>c.type==="moof")!=null)l=!0;else return null;if(a>=o.length)return null;const _=new mf.DataStream;_.endianness=mf.DataStream.BIG_ENDIAN;let E=a;try{for(;E<o.length;)o[E].write(_),delete o[E],E+=1}catch(c){const p=o[E];throw c instanceof Error&&p!=null?Error(`${c.message} | deltaBuf( boxType: ${p.type}, boxSize: ${p.size}, boxDataLen: ${((b=p.data)==null?void 0:b.length)??-1})`):c}return jpe(n),a=o.length,new Uint8Array(_.buffer)};let u=!1,f=!1,m=null;return{stream:new ReadableStream({start(b){r=self.setInterval(()=>{const _=s();_!=null&&!f&&b.enqueue(_)},e),m=_=>{if(clearInterval(r),n.flush(),_!=null){b.error(_);return}const E=s();E!=null&&!f&&b.enqueue(E),f||b.close()},u&&m()},cancel(){f=!0,clearInterval(r),t==null||t()}}),stop:b=>{u||(u=!0,m==null||m(b))}}}function jpe(n){if(n.moov!=null){for(var e=0;e<n.moov.traks.length;e++)n.moov.traks[e].samples=[];n.mdats=[],n.moofs=[]}}const cB=(n,e)=>{const t=new Uint8Array(8);new DataView(t.buffer).setUint32(0,e);for(let r=0;r<4;r++)t[4+r]=n.charCodeAt(r);return t},Wpe=()=>{const n=new TextEncoder,e=n.encode("mdta"),t=n.encode("mp4 handler"),r=32+t.byteLength+1,a=new Uint8Array(r),o=new DataView(a.buffer);return a.set(cB("hdlr",r),0),o.setUint32(8,0),a.set(e,16),a.set(t,32),a},Xpe=n=>{const e=new TextEncoder,t=e.encode("mdta"),r=n.map(u=>{const f=e.encode(u),m=8+f.byteLength,b=new Uint8Array(m);return new DataView(b.buffer).setUint32(0,m),b.set(t,4),b.set(f,4+t.byteLength),b}),a=16+r.reduce((u,f)=>u+f.byteLength,0),o=new Uint8Array(a),l=new DataView(o.buffer);o.set(cB("keys",a),0),l.setUint32(8,0),l.setUint32(12,n.length);let s=16;for(const u of r)o.set(u,s),s+=u.byteLength;return o},Ype=n=>{const e=new TextEncoder,t=e.encode("data"),r=Object.entries(n).map(([s,u],f)=>{const m=f+1,b=e.encode(u),_=24+b.byteLength,E=new Uint8Array(_),c=new DataView(E.buffer);return c.setUint32(0,_),c.setUint32(4,m),c.setUint32(8,16+b.byteLength),E.set(t,12),c.setUint32(16,1),E.set(b,24),E}),a=8+r.reduce((s,u)=>s+u.byteLength,0),o=new Uint8Array(a);o.set(cB("ilst",a),0);let l=8;for(const s of r)o.set(s,l),l+=s.byteLength;return o},qpe=n=>{const e=Wpe(),t=Xpe(Object.keys(n)),r=Ype(n),a=e.length+t.length+r.length,o=new Uint8Array(a);return o.set(e,0),o.set(t,e.length),o.set(r,e.length+t.length),o};function Kpe(n){return n instanceof Error?String(n):typeof n=="object"?JSON.stringify(n,(e,t)=>t instanceof Error?String(t):t):String(n)}function Jpe(){const n=new Date;return`${n.getHours()}:${n.getMinutes()}:${n.getSeconds()}.${n.getMilliseconds()}`}let xG=1;const CG=[],nz=["debug","info","warn","error"].reduce((n,e,t)=>Object.assign(n,{[e]:(...r)=>{xG<=t&&(console[e](...r),CG.push({lvName:e,timeStr:Jpe(),args:r}))}}),{}),ZS=new Map,di={setLogLevel:n=>{xG=ZS.get(n)??1},...nz,create:n=>Object.fromEntries(Object.entries(nz).map(([e,t])=>[e,(...r)=>t(n,...r)])),async dump(){return CG.reduce((n,{lvName:e,timeStr:t,args:r})=>n+`[${e}][${t}]  ${r.map(a=>Kpe(a)).join(" ")}
`,"")}};ZS.set(di.debug,0);ZS.set(di.info,1);ZS.set(di.warn,2);ZS.set(di.error,3);(async function(){await Promise.resolve(),!(globalThis.navigator==null||globalThis.document==null)&&(di.info(`@webav version: 1.0.19, date: ${new Date().toLocaleDateString()}`),di.info(globalThis.navigator.userAgent),document.addEventListener("visibilitychange",()=>{di.info(`visibilitychange: ${document.visibilityState}`)}),"PressureObserver"in globalThis&&new PressureObserver(n=>{di.info(`cpu state change: ${JSON.stringify(n.map(e=>e.state))}`)}).observe("cpu"))})();function Qpe(n){di.info("recodemux opts:",n);const e=mf.createFile(),t=new zm,r=(u,f)=>{const m=u.add("udta").add("meta");m.data=qpe(f),m.size=m.data.byteLength};let a=!1;const o=()=>{e.moov==null||a||(a=!0,n.metaDataTags!=null&&r(e.moov,n.metaDataTags),n.duration!=null&&(e.moov.mvhd.duration=n.duration))};t.once("VideoReady",o),t.once("AudioReady",o);let l=n.video!=null?Zpe(n.video,e,t):null,s=n.audio!=null?tme(n.audio,e,t):null;return n.video==null&&t.emit("VideoReady"),n.audio==null&&t.emit("AudioReady"),{encodeVideo:(u,f)=>{l==null||l.encode(u,f),u.close()},encodeAudio:u=>{if(s!=null)try{s.encode(u),u.close()}catch(f){const m=`encode audio chunk error: ${f.message}, state: ${JSON.stringify({qSize:s.encodeQueueSize,state:s.state})}`;throw di.error(m),Error(m)}},getEncodeQueueSize:()=>(l==null?void 0:l.encodeQueueSize)??(s==null?void 0:s.encodeQueueSize)??0,flush:async()=>{await Promise.all([l==null?void 0:l.flush(),(s==null?void 0:s.state)==="configured"?s.flush():null])},close:()=>{t.destroy(),l==null||l.close(),(s==null?void 0:s.state)==="configured"&&s.close()},mp4file:e}}function Zpe(n,e,t){const r={timescale:1e6,width:n.width,height:n.height,brands:["isom","iso2","avc1","mp42","mp41"],avcDecoderConfigRecord:null,name:"Track created with WebAV"};let a=-1,o=!1;t.once("AudioReady",()=>{o=!0});const l={encoder0:[],encoder1:[]},s=(y,C,T)=>{var M;if(a===-1&&T!=null){const O=(M=T.decoderConfig)==null?void 0:M.description;eme(O),r.avcDecoderConfigRecord=O,a=e.addTrack(r),t.emit("VideoReady"),di.info("VideoEncoder, video track ready, trackId:",a)}l[y].push(Q2(C))};let u="encoder1",f=0;const m=Math.floor(1e3/n.expectFPS*1e3);function b(){if(!o)return;const y=u==="encoder1"?"encoder0":"encoder1",C=l[u],T=l[y];if(C.length===0&&T.length===0)return;let M=C[0];if(M!=null&&(!M.is_sync||M.cts-f<m)){const B=_(C);B>f&&(f=B)}const O=T[0];if(O!=null&&O.is_sync&&O.cts-f<m){u=y,b();return}if(M!=null&&M.is_sync&&O!=null&&O.is_sync)if(M.cts<=O.cts){const B=_(C);B>f&&(f=B)}else{u=y,b();return}}function _(y){let C=-1,T=0;for(;T<y.length;T++){const M=y[T];if(T>0&&M.is_sync)break;e.addSample(a,M.data,M),C=M.cts+M.duration}return y.splice(0,T),C}const E=lB(b,15),c=iz(n,(y,C)=>s("encoder0",y,C)),p=iz(n,(y,C)=>s("encoder1",y,C));let g=0;return{get encodeQueueSize(){return c.encodeQueueSize+p.encodeQueueSize},encode:(y,C)=>{try{C.keyFrame&&(g+=1),(g%2===0?c:p).encode(y,C)}catch(T){const M=`encode video frame error: ${T.message}, state: ${JSON.stringify({ts:y.timestamp,keyFrame:C.keyFrame,duration:y.duration,gopId:g})}`;throw di.error(M),Error(M)}},flush:async()=>{await Promise.all([c.state==="configured"?await c.flush():null,p.state==="configured"?await p.flush():null]),E(),b()},close:()=>{c.state==="configured"&&c.close(),p.state==="configured"&&p.close()}}}function eme(n){const e=new Uint8Array(n);e[2].toString(2).slice(-2).includes("1")&&(e[2]=0)}function iz(n,e){const t={codec:n.codec,framerate:n.expectFPS,hardwareAcceleration:n.__unsafe_hardwareAcceleration__,bitrate:n.bitrate,width:n.width,height:n.height,alpha:"discard",avc:{format:"avc"}},r=new VideoEncoder({error:a=>{const o=`VideoEncoder error: ${a.message}, config: ${JSON.stringify(t)}, state: ${JSON.stringify({qSize:r.encodeQueueSize,state:r.state})}`;throw di.error(o),Error(o)},output:e});return r.configure(t),r}function tme(n,e,t){const r={timescale:1e6,samplerate:n.sampleRate,channel_count:n.channelCount,hdlr:"soun",type:n.codec==="aac"?"mp4a":"Opus",name:"Track created with WebAV"};let a=-1,o=[],l=!1;t.once("VideoReady",()=>{l=!0,o.forEach(f=>{const m=Q2(f);e.addSample(a,m.data,m)}),o=[]});const s={codec:n.codec==="aac"?"mp4a.40.2":"opus",sampleRate:n.sampleRate,numberOfChannels:n.channelCount,bitrate:128e3},u=new AudioEncoder({error:f=>{const m=`AudioEncoder error: ${f.message}, config: ${JSON.stringify(s)}, state: ${JSON.stringify({qSize:u.encodeQueueSize,state:u.state})}`;throw di.error(m),Error(m)},output:(f,m)=>{var b;if(a===-1){const _=(b=m.decoderConfig)==null?void 0:b.description;a=e.addTrack({...r,description:_==null?void 0:nme(_)}),t.emit("AudioReady"),di.info("AudioEncoder, audio track ready, trackId:",a)}if(l){const _=Q2(f);e.addSample(a,_.data,_)}else o.push(f)}});return u.configure(s),u}function nme(n){const e=n.byteLength,t=new Uint8Array([0,0,0,0,3,23+e,0,2,0,4,18+e,64,21,0,0,0,0,0,0,0,0,0,0,0,5,e,...new Uint8Array(n instanceof ArrayBuffer?n:n.buffer),6,1,2]),r=new mf.BoxParser.esdsBox(t.byteLength);return r.hdr_size=0,r.parse(new mf.DataStream(t,0,mf.DataStream.BIG_ENDIAN)),r}function Q2(n){const e=new ArrayBuffer(n.byteLength);n.copyTo(e);const t=n.timestamp;return{duration:n.duration??0,dts:t,cts:t,is_sync:n.type==="key",data:e}}class ime{constructor(e,t,r){this.length_=e,this.scaleFactor_=(e-1)/t,this.interpolate=this.cubic,r.method==="point"?this.interpolate=this.point:r.method==="linear"?this.interpolate=this.linear:r.method==="sinc"&&(this.interpolate=this.sinc),this.tangentFactor_=1-Math.max(0,Math.min(1,r.tension||0)),this.sincFilterSize_=r.sincFilterSize||1,this.kernel_=ame(r.sincWindow||rme)}point(e,t){return this.getClippedInput_(Math.round(this.scaleFactor_*e),t)}linear(e,t){e=this.scaleFactor_*e;let r=Math.floor(e);return e-=r,(1-e)*this.getClippedInput_(r,t)+e*this.getClippedInput_(r+1,t)}cubic(e,t){e=this.scaleFactor_*e;let r=Math.floor(e),a=[this.getTangent_(r,t),this.getTangent_(r+1,t)],o=[this.getClippedInput_(r,t),this.getClippedInput_(r+1,t)];e-=r;let l=e*e,s=e*l;return(2*s-3*l+1)*o[0]+(s-2*l+e)*a[0]+(-2*s+3*l)*o[1]+(s-l)*a[1]}sinc(e,t){e=this.scaleFactor_*e;let r=Math.floor(e),a=r-this.sincFilterSize_+1,o=r+this.sincFilterSize_,l=0;for(let s=a;s<=o;s++)l+=this.kernel_(e-s)*this.getClippedInput_(s,t);return l}getTangent_(e,t){return this.tangentFactor_*(this.getClippedInput_(e+1,t)-this.getClippedInput_(e-1,t))/2}getClippedInput_(e,t){return 0<=e&&e<this.length_?t[e]:0}}function rme(n){return Math.exp(-n/2*n/2)}function ame(n){return function(e){return ome(e)*n(e)}}function ome(n){return n===0?1:Math.sin(Math.PI*n)/(Math.PI*n)}class sme{constructor(e,t,r){let a=2*Math.PI*r/t,o=0;this.filters=[];for(let l=0;l<=e;l++)l-e/2===0?this.filters[l]=a:(this.filters[l]=Math.sin(a*(l-e/2))/(l-e/2),this.filters[l]*=.54-.46*Math.cos(2*Math.PI*l/e)),o=o+this.filters[l];for(let l=0;l<=e;l++)this.filters[l]/=o;this.z=this.initZ_()}filter(e){this.z.buf[this.z.pointer]=e;let t=0;for(let r=0,a=this.z.buf.length;r<a;r++)t+=this.filters[r]*this.z.buf[(this.z.pointer+r)%this.z.buf.length];return this.z.pointer=(this.z.pointer+1)%this.z.buf.length,t}reset(){this.z=this.initZ_()}initZ_(){let e=[];for(let t=0;t<this.filters.length-1;t++)e.push(0);return{buf:e,pointer:0}}}class lme{constructor(e,t,r){let a=[];for(let o=0;o<e;o++)a.push(this.getCoeffs_({Fs:t,Fc:r,Q:.5/Math.sin(Math.PI/(e*2)*(o+.5))}));this.stages=[];for(let o=0;o<a.length;o++)this.stages[o]={b0:a[o].b[0],b1:a[o].b[1],b2:a[o].b[2],a1:a[o].a[0],a2:a[o].a[1],k:a[o].k,z:[0,0]}}filter(e){let t=e;for(let r=0,a=this.stages.length;r<a;r++)t=this.runStage_(r,t);return t}getCoeffs_(e){let t={};t.z=[0,0],t.a=[],t.b=[];let r=this.preCalc_(e,t);return t.k=1,t.b.push((1-r.cw)/(2*r.a0)),t.b.push(2*t.b[0]),t.b.push(t.b[0]),t}preCalc_(e,t){let r={},a=2*Math.PI*e.Fc/e.Fs;return r.alpha=Math.sin(a)/(2*e.Q),r.cw=Math.cos(a),r.a0=1+r.alpha,t.a0=r.a0,t.a.push(-2*r.cw/r.a0),t.k=1,t.a.push((1-r.alpha)/r.a0),r}runStage_(e,t){let r=t*this.stages[e].k-this.stages[e].a1*this.stages[e].z[0]-this.stages[e].a2*this.stages[e].z[1],a=this.stages[e].b0*r+this.stages[e].b1*this.stages[e].z[0]+this.stages[e].b2*this.stages[e].z[1];return this.stages[e].z[1]=this.stages[e].z[0],this.stages[e].z[0]=r,a}reset(){for(let e=0;e<this.stages.length;e++)this.stages[e].z=[0,0]}}const cme={point:!1,linear:!1,cubic:!0,sinc:!0},rz={IIR:16,FIR:71},ume={IIR:lme,FIR:sme};function dme(n,e,t,r={}){let a=(t-e)/e+1,o=new Float64Array(n.length*a);r.method=r.method||"cubic";let l=new ime(n.length,o.length,{method:r.method,tension:r.tension||0,sincFilterSize:r.sincFilterSize||6,sincWindow:r.sincWindow||void 0});if(r.LPF===void 0&&(r.LPF=cme[r.method]),r.LPF){r.LPFType=r.LPFType||"IIR";const s=ume[r.LPFType];if(t>e){let u=new s(r.LPFOrder||rz[r.LPFType],t,e/2);fme(n,o,l,u)}else{let u=new s(r.LPFOrder||rz[r.LPFType],e,t/2);hme(n,o,l,u)}}else EG(n,o,l);return o}function EG(n,e,t){for(let r=0,a=e.length;r<a;r++)e[r]=t.interpolate(r,n)}function fme(n,e,t,r){for(let a=0,o=e.length;a<o;a++)e[a]=r.filter(t.interpolate(a,n));r.reset();for(let a=e.length-1;a>=0;a--)e[a]=r.filter(e[a])}function hme(n,e,t,r){for(let a=0,o=n.length;a<o;a++)n[a]=r.filter(n[a]);r.reset();for(let a=n.length-1;a>=0;a--)n[a]=r.filter(n[a]);EG(n,e,t)}var wG=n=>{throw TypeError(n)},AG=(n,e,t)=>e.has(n)||wG("Cannot "+t),ir=(n,e,t)=>(AG(n,e,"read from private field"),t?t.call(n):e.get(n)),Ic=(n,e,t)=>e.has(n)?wG("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Ul=(n,e,t,r)=>(AG(n,e,"write to private field"),e.set(n,t),t);const MG="KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHUobil7aWYobj09PSIvIilyZXR1cm57cGFyZW50Om51bGwsbmFtZToiIn07Y29uc3QgZT1uLnNwbGl0KCIvIikuZmlsdGVyKGk9PmkubGVuZ3RoPjApO2lmKGUubGVuZ3RoPT09MCl0aHJvdyBFcnJvcigiSW52YWxpZCBwYXRoIik7Y29uc3QgYT1lW2UubGVuZ3RoLTFdLHI9Ii8iK2Uuc2xpY2UoMCwtMSkuam9pbigiLyIpO3JldHVybntuYW1lOmEscGFyZW50OnJ9fWFzeW5jIGZ1bmN0aW9uIHcobixlKXtjb25zdHtwYXJlbnQ6YSxuYW1lOnJ9PXUobik7aWYoYT09bnVsbClyZXR1cm4gYXdhaXQgbmF2aWdhdG9yLnN0b3JhZ2UuZ2V0RGlyZWN0b3J5KCk7Y29uc3QgaT1hLnNwbGl0KCIvIikuZmlsdGVyKHQ9PnQubGVuZ3RoPjApO3RyeXtsZXQgdD1hd2FpdCBuYXZpZ2F0b3Iuc3RvcmFnZS5nZXREaXJlY3RvcnkoKTtmb3IoY29uc3QgcyBvZiBpKXQ9YXdhaXQgdC5nZXREaXJlY3RvcnlIYW5kbGUocyx7Y3JlYXRlOmUuY3JlYXRlfSk7aWYoZS5pc0ZpbGUpcmV0dXJuIGF3YWl0IHQuZ2V0RmlsZUhhbmRsZShyLHtjcmVhdGU6ZS5jcmVhdGV9KX1jYXRjaCh0KXtpZih0Lm5hbWU9PT0iTm90Rm91bmRFcnJvciIpcmV0dXJuIG51bGw7dGhyb3cgdH19Y29uc3QgZj17fTtzZWxmLm9ubWVzc2FnZT1hc3luYyBuPT57dmFyIGk7Y29uc3R7ZXZ0VHlwZTplLGFyZ3M6YX09bi5kYXRhO2xldCByPWZbYS5maWxlSWRdO3RyeXtsZXQgdDtjb25zdCBzPVtdO2lmKGU9PT0icmVnaXN0ZXIiKXtjb25zdCBsPWF3YWl0IHcoYS5maWxlUGF0aCx7Y3JlYXRlOiEwLGlzRmlsZTohMH0pO2lmKGw9PW51bGwpdGhyb3cgRXJyb3IoYG5vdCBmb3VuZCBmaWxlOiAke2EuZmlsZUlkfWApO3I9YXdhaXQgbC5jcmVhdGVTeW5jQWNjZXNzSGFuZGxlKHttb2RlOmEubW9kZX0pLGZbYS5maWxlSWRdPXJ9ZWxzZSBpZihlPT09ImNsb3NlIilhd2FpdCByLmNsb3NlKCksZGVsZXRlIGZbYS5maWxlSWRdO2Vsc2UgaWYoZT09PSJ0cnVuY2F0ZSIpYXdhaXQgci50cnVuY2F0ZShhLm5ld1NpemUpO2Vsc2UgaWYoZT09PSJ3cml0ZSIpe2NvbnN0e2RhdGE6bCxvcHRzOm99PW4uZGF0YS5hcmdzO3Q9YXdhaXQgci53cml0ZShsLG8pfWVsc2UgaWYoZT09PSJyZWFkIil7Y29uc3R7b2Zmc2V0Omwsc2l6ZTpvfT1uLmRhdGEuYXJncyxnPW5ldyBVaW50OEFycmF5KG8pLGQ9YXdhaXQgci5yZWFkKGcse2F0Omx9KSxjPWcuYnVmZmVyO3Q9ZD09PW8/YzooKGk9Yy50cmFuc2Zlcik9PW51bGw/dm9pZCAwOmkuY2FsbChjLGQpKT8/Yy5zbGljZSgwLGQpLHMucHVzaCh0KX1lbHNlIGU9PT0iZ2V0U2l6ZSI/dD1hd2FpdCByLmdldFNpemUoKTplPT09ImZsdXNoIiYmYXdhaXQgci5mbHVzaCgpO3NlbGYucG9zdE1lc3NhZ2Uoe2V2dFR5cGU6ImNhbGxiYWNrIixjYklkOm4uZGF0YS5jYklkLHJldHVyblZhbDp0fSxzKX1jYXRjaCh0KXtjb25zdCBzPXQ7c2VsZi5wb3N0TWVzc2FnZSh7ZXZ0VHlwZToidGhyb3dFcnJvciIsY2JJZDpuLmRhdGEuY2JJZCxlcnJNc2c6cy5uYW1lKyI6ICIrcy5tZXNzYWdlK2AKYCtKU09OLnN0cmluZ2lmeShuLmRhdGEpfSl9fX0pKCk7Ci8vIyBzb3VyY2VNYXBwaW5nVVJMPW9wZnMtd29ya2VyLUY0UldscWNfLmpzLm1hcAo=",pme=n=>Uint8Array.from(atob(n),e=>e.charCodeAt(0)),az=typeof self<"u"&&self.Blob&&new Blob([pme(MG)],{type:"text/javascript;charset=utf-8"});function mme(n){let e;try{if(e=az&&(self.URL||self.webkitURL).createObjectURL(az),!e)throw"";const t=new Worker(e,{name:n==null?void 0:n.name});return t.addEventListener("error",()=>{(self.URL||self.webkitURL).revokeObjectURL(e)}),t}catch{return new Worker("data:text/javascript;base64,"+MG,{name:n==null?void 0:n.name})}finally{e&&(self.URL||self.webkitURL).revokeObjectURL(e)}}async function gme(n,e,t){const r=vme();return await r("register",{fileId:n,filePath:e,mode:t}),{read:async(a,o)=>await r("read",{fileId:n,offset:a,size:o}),write:async(a,o)=>await r("write",{fileId:n,data:a,opts:o},[ArrayBuffer.isView(a)?a.buffer:a]),close:async()=>await r("close",{fileId:n}),truncate:async a=>await r("truncate",{fileId:n,newSize:a}),getSize:async()=>await r("getSize",{fileId:n}),flush:async()=>await r("flush",{fileId:n})}}const wC=[];let lR=0;function vme(){if(wC.length<3){const e=n();return wC.push(e),e}else{const e=wC[lR];return lR=(lR+1)%wC.length,e}function n(){const e=new mme;let t=0,r={};return e.onmessage=({data:a})=>{var o,l;a.evtType==="callback"?(o=r[a.cbId])==null||o.resolve(a.returnVal):a.evtType==="throwError"&&((l=r[a.cbId])==null||l.reject(Error(a.errMsg))),delete r[a.cbId]},async function(a,o,l=[]){t+=1;const s=new Promise((u,f)=>{r[t]={resolve:u,reject:f}});return e.postMessage({cbId:t,evtType:a,args:o},l),s}}}function xA(n){if(n==="/")return{parent:null,name:""};const e=n.split("/").filter(a=>a.length>0);if(e.length===0)throw Error("Invalid path");const t=e[e.length-1],r="/"+e.slice(0,-1).join("/");return{name:t,parent:r}}async function Dh(n,e){const{parent:t,name:r}=xA(n);if(t==null)return await navigator.storage.getDirectory();const a=t.split("/").filter(o=>o.length>0);try{let o=await navigator.storage.getDirectory();for(const l of a)o=await o.getDirectoryHandle(l,{create:e.create});return e.isFile?await o.getFileHandle(r,{create:e.create}):await o.getDirectoryHandle(r,{create:e.create})}catch(o){if(o.name==="NotFoundError")return null;throw o}}async function TG(n){const{parent:e,name:t}=xA(n);if(e==null){const a=await navigator.storage.getDirectory();for await(const o of a.keys())await a.removeEntry(o,{recursive:!0});return}const r=await Dh(e,{create:!1,isFile:!1});r!=null&&await r.removeEntry(t,{recursive:!0})}function Z2(n,e){return`${n}/${e}`.replace("//","/")}function kv(n){return new OG(n)}var zu,QC,mb;const yme=class RG{constructor(e){Ic(this,zu),Ic(this,QC),Ic(this,mb),Ul(this,zu,e);const{parent:t,name:r}=xA(e);Ul(this,QC,r),Ul(this,mb,t)}get kind(){return"dir"}get name(){return ir(this,QC)}get path(){return ir(this,zu)}get parent(){return ir(this,mb)==null?null:kv(ir(this,mb))}async create(){return await Dh(ir(this,zu),{create:!0,isFile:!1}),kv(ir(this,zu))}async exists(){return await Dh(ir(this,zu),{create:!1,isFile:!1})instanceof FileSystemDirectoryHandle}async remove(){for(const e of await this.children())try{await e.remove()}catch(t){console.warn(t)}try{await TG(ir(this,zu))}catch(e){console.warn(e)}}async children(){const e=await Dh(ir(this,zu),{create:!1,isFile:!1});if(e==null)return[];const t=[];for await(const r of e.values())t.push((r.kind==="file"?e_:kv)(Z2(ir(this,zu),r.name)));return t}async copyTo(e){if(!await this.exists())throw Error(`dir ${this.path} not exists`);if(e instanceof RG){const t=await e.exists()?kv(Z2(e.path,this.name)):e;await t.create(),await Promise.all((await this.children()).map(r=>r.copyTo(t)));return}else if(e instanceof FileSystemDirectoryHandle){await Promise.all((await this.children()).map(async t=>{t.kind==="file"?await t.copyTo(await e.getFileHandle(t.name,{create:!0})):await t.copyTo(await e.getDirectoryHandle(t.name,{create:!0}))}));return}throw Error("Illegal target type")}async moveTo(e){await this.copyTo(e),await this.remove()}};zu=new WeakMap,QC=new WeakMap,mb=new WeakMap;let OG=yme;const oz=new Map;function e_(n,e="rw"){if(e==="rw"){const t=oz.get(n)??new $E(n,e);return oz.set(n,t),t}return new $E(n,e)}async function uB(n,e,t={overwrite:!0}){if(e instanceof $E){await uB(n,await e.stream(),t);return}const r=await(n instanceof $E?n:e_(n,"rw")).createWriter();try{if(t.overwrite&&await r.truncate(0),e instanceof ReadableStream){const a=e.getReader();for(;;){const{done:o,value:l}=await a.read();if(o)break;await r.write(l)}}else await r.write(e)}catch(a){throw a}finally{await r.close()}}let bme=0;const Sme=()=>++bme;var Uu,gb,ZC,vb,e1,_h,t1,yb;const _me=class IG{constructor(e,t){Ic(this,Uu),Ic(this,gb),Ic(this,ZC),Ic(this,vb),Ic(this,e1),Ic(this,_h,0),Ic(this,t1,(()=>{let o=null;return()=>(Ul(this,_h,ir(this,_h)+1),o??(o=new Promise(async(l,s)=>{try{const u=await gme(ir(this,e1),ir(this,Uu),ir(this,vb));l([u,async()=>{Ul(this,_h,ir(this,_h)-1),!(ir(this,_h)>0)&&(o=null,await u.close())}])}catch(u){s(u)}})))})()),Ic(this,yb,!1),Ul(this,e1,Sme()),Ul(this,Uu,e),Ul(this,vb,{r:"read-only",rw:"readwrite","rw-unsafe":"readwrite-unsafe"}[t]);const{parent:r,name:a}=xA(e);if(r==null)throw Error("Invalid path");Ul(this,ZC,a),Ul(this,gb,r)}get kind(){return"file"}get path(){return ir(this,Uu)}get name(){return ir(this,ZC)}get parent(){return ir(this,gb)==null?null:kv(ir(this,gb))}async createWriter(){if(ir(this,vb)==="read-only")throw Error("file is read-only");if(ir(this,yb))throw Error("Other writer have not been closed");Ul(this,yb,!0);const e=new TextEncoder,[t,r]=await ir(this,t1).call(this);let a=await t.getSize(),o=!1;return{write:async(l,s={})=>{if(o)throw Error("Writer is closed");const u=typeof l=="string"?e.encode(l):l,f=s.at??a,m=u.byteLength;return a=f+m,await t.write(u,{at:f})},truncate:async l=>{if(o)throw Error("Writer is closed");await t.truncate(l),a>l&&(a=l)},flush:async()=>{if(o)throw Error("Writer is closed");await t.flush()},close:async()=>{if(o)throw Error("Writer is closed");o=!0,Ul(this,yb,!1),await r()}}}async createReader(){const[e,t]=await ir(this,t1).call(this);let r=!1,a=0;return{read:async(o,l={})=>{if(r)throw Error("Reader is closed");const s=l.at??a,u=await e.read(s,o);return a=s+u.byteLength,u},getSize:async()=>{if(r)throw Error("Reader is closed");return await e.getSize()},close:async()=>{r||(r=!0,await t())}}}async text(){return new TextDecoder().decode(await this.arrayBuffer())}async arrayBuffer(){const e=await Dh(ir(this,Uu),{create:!1,isFile:!0});return e==null?new ArrayBuffer(0):(await e.getFile()).arrayBuffer()}async stream(){const e=await this.getOriginFile();return e==null?new ReadableStream({pull:t=>{t.close()}}):e.stream()}async getOriginFile(){var e;return(e=await Dh(ir(this,Uu),{create:!1,isFile:!0}))==null?void 0:e.getFile()}async getSize(){const e=await Dh(ir(this,Uu),{create:!1,isFile:!0});return e==null?0:(await e.getFile()).size}async exists(){return await Dh(ir(this,Uu),{create:!1,isFile:!0})instanceof FileSystemFileHandle}async remove(){if(ir(this,_h))throw Error("exists unclosed reader/writer");await TG(ir(this,Uu))}async copyTo(e){if(e instanceof IG){if(e.path===this.path)return;await uB(e.path,this);return}else if(e instanceof OG){if(!await this.exists())throw Error(`file ${this.path} not exists`);return await this.copyTo(e_(Z2(e.path,this.name)))}else if(e instanceof FileSystemFileHandle){await(await this.stream()).pipeTo(await e.createWritable());return}throw Error("Illegal target type")}async moveTo(e){await this.copyTo(e),await this.remove()}};Uu=new WeakMap,gb=new WeakMap,ZC=new WeakMap,vb=new WeakMap,e1=new WeakMap,_h=new WeakMap,t1=new WeakMap,yb=new WeakMap;let $E=_me;const dB="/.opfs-tools-temp-dir";async function BG(n){try{if(n.kind==="file"){if(!await n.exists())return!0;const e=await n.createWriter();await e.truncate(0),await e.close(),await n.remove()}else await n.remove();return!0}catch(e){return console.warn(e),!1}}function xme(){setInterval(async()=>{for(const n of await kv(dB).children()){const e=/^\d+-(\d+)$/.exec(n.name);(e==null||Date.now()-Number(e[1])>2592e5)&&await BG(n)}},60*1e3)}const eO=[];let sz=!1;async function Cme(){if(globalThis.localStorage==null)return;const n="OPFS_TOOLS_EXPIRES_TMP_FILES";sz||(sz=!0,globalThis.addEventListener("unload",()=>{eO.length!==0&&localStorage.setItem(n,`${localStorage.getItem(n)??""},${eO.join(",")}`)}));let e=localStorage.getItem(n)??"";for(const t of e.split(","))t.length!==0&&await BG(e_(`${dB}/${t}`))&&(e=e.replace(t,""));localStorage.setItem(n,e.replace(/,{2,}/g,","))}(async function(){var n;globalThis.__opfs_tools_tmpfile_init__!==!0&&(globalThis.__opfs_tools_tmpfile_init__=!0,!(globalThis.FileSystemDirectoryHandle==null||globalThis.FileSystemFileHandle==null||((n=globalThis.navigator)==null?void 0:n.storage.getDirectory)==null)&&(xme(),await Cme()))})();function Eme(){const n=`${Math.random().toString().slice(2)}-${Date.now()}`;return eO.push(n),e_(`${dB}/${n}`)}var wme=Object.defineProperty,DG=n=>{throw TypeError(n)},Ame=(n,e,t)=>e in n?wme(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Kr=(n,e,t)=>Ame(n,typeof e!="symbol"?e+"":e,t),fB=(n,e,t)=>e.has(n)||DG("Cannot "+t),_e=(n,e,t)=>(fB(n,e,"read from private field"),t?t.call(n):e.get(n)),Xt=(n,e,t)=>e.has(n)?DG("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),$t=(n,e,t,r)=>(fB(n,e,"write to private field"),e.set(n,t),t),Uc=(n,e,t)=>(fB(n,e,"access private method"),t);function Mme(n){if(n.format==="f32-planar"){const e=[];for(let t=0;t<n.numberOfChannels;t+=1){const r=n.allocationSize({planeIndex:t}),a=new ArrayBuffer(r);n.copyTo(a,{planeIndex:t}),e.push(new Float32Array(a))}return e}else if(n.format==="f32"){const e=new ArrayBuffer(n.allocationSize({planeIndex:0}));return n.copyTo(e,{planeIndex:0}),Rme(new Float32Array(e),n.numberOfChannels)}else if(n.format==="s16"){const e=new ArrayBuffer(n.allocationSize({planeIndex:0}));return n.copyTo(e,{planeIndex:0}),Tme(new Int16Array(e),n.numberOfChannels)}throw Error("Unsupported audio data format")}function Tme(n,e){const t=n.length/e,r=Array.from({length:e},()=>new Float32Array(t));for(let a=0;a<t;a++)for(let o=0;o<e;o++){const l=n[a*e+o];r[o][a]=l/32768}return r}function Rme(n,e){const t=n.length/e,r=Array.from({length:e},()=>new Float32Array(t));for(let a=0;a<t;a++)for(let o=0;o<e;o++)r[o][a]=n[a*e+o];return r}function PG(n){return Array(n.numberOfChannels).fill(0).map((e,t)=>n.getChannelData(t))}async function Ome(n,e){var t;const r={type:e,data:n},a=new ImageDecoder(r);await Promise.all([a.completed,a.tracks.ready]);let o=((t=a.tracks.selectedTrack)==null?void 0:t.frameCount)??1;const l=[];for(let s=0;s<o;s+=1)l.push((await a.decode({frameIndex:s})).image);return l}async function Ime(n,e,t){const r=n.length,a=Array(t.chanCount).fill(0).map(()=>new Float32Array(0));if(r===0)return a;const o=Math.max(...n.map(f=>f.length));if(o===0)return a;if(globalThis.OfflineAudioContext==null)return n.map(f=>new Float32Array(dme(f,e,t.rate,{method:"sinc",LPF:!1})));const l=new globalThis.OfflineAudioContext(t.chanCount,o*t.rate/e,t.rate),s=l.createBufferSource(),u=l.createBuffer(r,o,e);return n.forEach((f,m)=>u.copyToChannel(f,m)),s.buffer=u,s.connect(l.destination),s.start(),PG(await l.startRendering())}function hB(n){return new Promise(e=>{const t=lB(()=>{t(),e()},n)})}function lz(n,e,t){const r=t-e,a=new Float32Array(r);let o=0;for(;o<r;)a[o]=n[(e+o)%n.length],o+=1;return a}function LG(n,e){const t=Math.floor(n.length/e),r=new Float32Array(t);for(let a=0;a<t;a++){const o=a*e,l=Math.floor(o),s=o-l;l+1<n.length?r[a]=n[l]*(1-s)+n[l+1]*s:r[a]=n[l]}return r}const Yr={sampleRate:48e3,channelCount:2,codec:"mp4a.40.2"};function Bme(n,e){const t=e.videoTracks[0],r={};if(t!=null){const o=Dme(n.getTrackById(t.id)).buffer,{descKey:l,type:s}=t.codec.startsWith("avc1")?{descKey:"avcDecoderConfigRecord",type:"avc1"}:t.codec.startsWith("hvc1")?{descKey:"hevcDecoderConfigRecord",type:"hvc1"}:{descKey:"",type:""};l!==""&&(r.videoTrackConf={timescale:t.timescale,duration:t.duration,width:t.video.width,height:t.video.height,brands:e.brands,type:s,[l]:o}),r.videoDecoderConf={codec:t.codec,codedHeight:t.video.height,codedWidth:t.video.width,description:o}}const a=e.audioTracks[0];if(a!=null){const o=cz(n);r.audioTrackConf={timescale:a.timescale,samplerate:a.audio.sample_rate,channel_count:a.audio.channel_count,hdlr:"soun",type:a.codec.startsWith("mp4a")?"mp4a":a.codec,description:cz(n)},r.audioDecoderConf={codec:a.codec.startsWith("mp4a")?Yr.codec:a.codec,numberOfChannels:a.audio.channel_count,sampleRate:a.audio.sample_rate,...o==null?{}:Pme(o)}}return r}function Dme(n){for(const e of n.mdia.minf.stbl.stsd.entries){const t=e.avcC??e.hvcC??e.av1C??e.vpcC;if(t!=null){const r=new mf.DataStream(void 0,0,mf.DataStream.BIG_ENDIAN);return t.write(r),new Uint8Array(r.buffer.slice(8))}}throw Error("avcC, hvcC, av1C or VPX not found")}function cz(n,e="mp4a"){var t;const r=(t=n.moov)==null?void 0:t.traks.map(a=>a.mdia.minf.stbl.stsd.entries).flat().find(({type:a})=>a===e);return r==null?void 0:r.esds}function Pme(n){var e;const t=(e=n.esd.descs[0])==null?void 0:e.descs[0];if(t==null)return{};const[r,a]=t.data,o=((r&7)<<1)+(a>>7),l=(a&127)>>3;return{sampleRate:[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350][o],numberOfChannels:l}}async function Lme(n,e,t){const r=mf.createFile(!1);r.onReady=o=>{var l,s;e({mp4boxFile:r,info:o});const u=(l=o.videoTracks[0])==null?void 0:l.id;u!=null&&r.setExtractionOptions(u,"video",{nbSamples:100});const f=(s=o.audioTracks[0])==null?void 0:s.id;f!=null&&r.setExtractionOptions(f,"audio",{nbSamples:100}),r.start()},r.onSamples=t,await a();async function a(){let o=0;const l=30*1024*1024;for(;;){const s=await n.read(l,{at:o});if(s.byteLength===0)break;s.fileStart=o;const u=r.appendBuffer(s);if(u==null)break;o=u}r.stop()}}let pB=0;function cR(n){return n.kind==="file"&&n.createReader instanceof Function}var tO,n1,i1,Fu,Ts,jd,r1,Hu,Yp,bb,vv,Wd,Qs,Sb;const Nme=class yv{constructor(e,t={}){if(Xt(this,tO,pB++),Xt(this,n1,di.create(`MP4Clip id:${_e(this,tO)},`)),Kr(this,"ready"),Xt(this,i1,!1),Xt(this,Fu,{duration:0,width:0,height:0,audioSampleRate:0,audioChanCount:0}),Xt(this,Ts),Xt(this,jd,[]),Xt(this,r1,1),Xt(this,Hu,[]),Xt(this,Yp,[]),Xt(this,bb,null),Xt(this,vv,null),Xt(this,Wd,{video:null,audio:null}),Xt(this,Qs,{audio:!0}),Kr(this,"tickInterceptor",async(a,o)=>o),Xt(this,Sb,new AbortController),!(e instanceof ReadableStream)&&!cR(e)&&!Array.isArray(e.videoSamples))throw Error("Illegal argument");$t(this,Qs,{audio:!0,...t}),$t(this,r1,typeof t.audio=="object"&&"volume"in t.audio?t.audio.volume:1);const r=async a=>(await uB(_e(this,Ts),a),_e(this,Ts));$t(this,Ts,cR(e)?e:"localFile"in e?e.localFile:Eme()),this.ready=(e instanceof ReadableStream?r(e).then(a=>dz(a,_e(this,Qs))):cR(e)?dz(e,_e(this,Qs)):Promise.resolve(e)).then(async({videoSamples:a,audioSamples:o,decoderConf:l,headerBoxPos:s})=>{$t(this,Hu,a),$t(this,Yp,o),$t(this,Wd,l),$t(this,jd,s);const{videoFrameFinder:u,audioFrameFinder:f}=Ume({video:l.video==null?null:{...l.video,hardwareAcceleration:_e(this,Qs).__unsafe_hardwareAcceleration__},audio:l.audio},await _e(this,Ts).createReader(),a,o,_e(this,Qs).audio!==!1?_e(this,r1):0);return $t(this,bb,u),$t(this,vv,f),$t(this,Fu,zme(l,a,o)),_e(this,n1).info("MP4Clip meta:",_e(this,Fu)),{..._e(this,Fu)}})}get meta(){return{..._e(this,Fu)}}async getFileHeaderBinData(){await this.ready;const e=await _e(this,Ts).getOriginFile();if(e==null)throw Error("MP4Clip localFile is not origin file");return await new Blob(_e(this,jd).map(({start:t,size:r})=>e.slice(t,t+r))).arrayBuffer()}async tick(e){var t,r,a;if(e>=_e(this,Fu).duration)return await this.tickInterceptor(e,{audio:await((t=_e(this,vv))==null?void 0:t.find(e))??[],state:"done"});const[o,l]=await Promise.all([((r=_e(this,vv))==null?void 0:r.find(e))??[],(a=_e(this,bb))==null?void 0:a.find(e)]);return l==null?await this.tickInterceptor(e,{audio:o,state:"success"}):await this.tickInterceptor(e,{video:l,audio:o,state:"success"})}async thumbnails(e=100,t){_e(this,Sb).abort(),$t(this,Sb,new AbortController);const r=_e(this,Sb).signal;await this.ready;const a="generate thumbnails aborted";if(r.aborted)throw Error(a);const{width:o,height:l}=_e(this,Fu),s=$me(e,Math.round(l*(e/o)),{quality:.1,type:"image/png"});return new Promise(async(u,f)=>{let m=[];const b=_e(this,Wd).video;if(b==null||_e(this,Hu).length===0){_();return}r.addEventListener("abort",()=>{f(Error(a))});async function _(){r.aborted||u(await Promise.all(m.map(async y=>({ts:y.ts,img:await y.img}))))}function E(y){m.push({ts:y.timestamp,img:s(y)})}const{start:c=0,end:p=_e(this,Fu).duration,step:g}=t??{};if(g){let y=c;const C=new NG(await _e(this,Ts).createReader(),_e(this,Hu),{...b,hardwareAcceleration:_e(this,Qs).__unsafe_hardwareAcceleration__});for(;y<=p&&!r.aborted;){const T=await C.find(y);T&&E(T),y+=g}C.destroy(),_()}else await Xme(_e(this,Hu),_e(this,Ts),b,r,{start:c,end:p},(y,C)=>{y!=null&&E(y),C&&_()})})}async split(e){if(await this.ready,e<=0||e>=_e(this,Fu).duration)throw Error('"time" out of bounds');const[t,r]=Vme(_e(this,Hu),e),[a,o]=jme(_e(this,Yp),e),l=new yv({localFile:_e(this,Ts),videoSamples:t??[],audioSamples:a??[],decoderConf:_e(this,Wd),headerBoxPos:_e(this,jd)},_e(this,Qs)),s=new yv({localFile:_e(this,Ts),videoSamples:r??[],audioSamples:o??[],decoderConf:_e(this,Wd),headerBoxPos:_e(this,jd)},_e(this,Qs));return await Promise.all([l.ready,s.ready]),[l,s]}async clone(){await this.ready;const e=new yv({localFile:_e(this,Ts),videoSamples:[..._e(this,Hu)],audioSamples:[..._e(this,Yp)],decoderConf:_e(this,Wd),headerBoxPos:_e(this,jd)},_e(this,Qs));return await e.ready,e.tickInterceptor=this.tickInterceptor,e}async splitTrack(){await this.ready;const e=[];if(_e(this,Hu).length>0){const t=new yv({localFile:_e(this,Ts),videoSamples:[..._e(this,Hu)],audioSamples:[],decoderConf:{video:_e(this,Wd).video,audio:null},headerBoxPos:_e(this,jd)},_e(this,Qs));await t.ready,t.tickInterceptor=this.tickInterceptor,e.push(t)}if(_e(this,Yp).length>0){const t=new yv({localFile:_e(this,Ts),videoSamples:[],audioSamples:[..._e(this,Yp)],decoderConf:{audio:_e(this,Wd).audio,video:null},headerBoxPos:_e(this,jd)},_e(this,Qs));await t.ready,t.tickInterceptor=this.tickInterceptor,e.push(t)}return e}destroy(){var e,t;_e(this,i1)||(_e(this,n1).info("MP4Clip destroy"),$t(this,i1,!0),(e=_e(this,bb))==null||e.destroy(),(t=_e(this,vv))==null||t.destroy())}};tO=new WeakMap,n1=new WeakMap,i1=new WeakMap,Fu=new WeakMap,Ts=new WeakMap,jd=new WeakMap,r1=new WeakMap,Hu=new WeakMap,Yp=new WeakMap,bb=new WeakMap,vv=new WeakMap,Wd=new WeakMap,Qs=new WeakMap,Sb=new WeakMap;let uz=Nme;function zme(n,e,t){const r={duration:0,width:0,height:0,audioSampleRate:0,audioChanCount:0};n.video!=null&&e.length>0&&(r.width=n.video.codedWidth??0,r.height=n.video.codedHeight??0),n.audio!=null&&t.length>0&&(r.audioSampleRate=Yr.sampleRate,r.audioChanCount=Yr.channelCount);let a=0,o=0;if(e.length>0)for(let l=e.length-1;l>=0;l--){const s=e[l];if(!s.deleted){a=s.cts+s.duration;break}}if(t.length>0){const l=t.at(-1);o=l.cts+l.duration}return r.duration=Math.max(a,o),r}function Ume(n,e,t,r,a){return{audioFrameFinder:a===0||n.audio==null||r.length===0?null:new Hme(e,r,n.audio,{volume:a,targetSampleRate:Yr.sampleRate}),videoFrameFinder:n.video==null||t.length===0?null:new NG(e,t,n.video)}}async function dz(n,e={}){let t=null;const r={video:null,audio:null};let a=[],o=[],l=[],s=-1,u=-1;const f=await n.createReader();await Lme(f,_=>{t=_.info;const E=_.mp4boxFile.ftyp;l.push({start:E.start,size:E.size});const c=_.mp4boxFile.moov;l.push({start:c.start,size:c.size});let{videoDecoderConf:p,audioDecoderConf:g}=Bme(_.mp4boxFile,_.info);r.video=p??null,r.audio=g??null,p==null&&g==null&&di.error("MP4Clip no video and audio track"),di.info("mp4BoxFile moov ready",{..._.info,tracks:null,videoTracks:null,audioTracks:null},r)},(_,E,c)=>{if(E==="video"){s===-1&&(s=c[0].dts);for(const p of c)a.push(b(p,s,"video"))}else if(E==="audio"&&e.audio){u===-1&&(u=c[0].dts);for(const p of c)o.push(b(p,u,"audio"))}}),await f.close();const m=a.at(-1)??o.at(-1);if(t==null)throw Error("MP4Clip stream is done, but not emit ready");if(m==null)throw Error("MP4Clip stream not contain any sample");return aO(a),di.info("mp4 stream parsed"),{videoSamples:a,audioSamples:o,decoderConf:r,headerBoxPos:l};function b(_,E=0,c){const p=c==="video"&&_.is_sync?Wme(_.data,_.description.type):-1;let g=_.offset,y=_.size;return p>=0&&(g+=p,y-=p),{..._,is_idr:p>=0,offset:g,size:y,cts:(_.cts-E)/_.timescale*1e6,dts:(_.dts-E)/_.timescale*1e6,duration:_.duration/_.timescale*1e6,timescale:1e6,data:c==="video"?null:_.data}}}var is,bv,Sv,a1,_v,Xd,Ll,xh,qp,xv,o1,_b,Kp,s1,Cv,l1;class NG{constructor(e,t,r){Xt(this,is,null),Xt(this,bv,0),Xt(this,Sv,{abort:!1,st:performance.now()}),Kr(this,"find",async a=>{(_e(this,is)==null||_e(this,is).state==="closed"||a<=_e(this,bv)||a-_e(this,bv)>3e6)&&_e(this,Cv).call(this,a),_e(this,Sv).abort=!0,$t(this,bv,a),$t(this,Sv,{abort:!1,st:performance.now()});const o=await _e(this,_b).call(this,a,_e(this,is),_e(this,Sv));return $t(this,xv,0),o}),Xt(this,a1,0),Xt(this,_v,!1),Xt(this,Xd,0),Xt(this,Ll,[]),Xt(this,xh,0),Xt(this,qp,0),Xt(this,xv,0),Xt(this,o1,!1),Xt(this,_b,async(a,o,l)=>{if(o==null||o.state==="closed"||l.abort)return null;if(_e(this,Ll).length>0){const s=_e(this,Ll)[0];return a<s.timestamp?null:(_e(this,Ll).shift(),a>s.timestamp+(s.duration??0)?(s.close(),await _e(this,_b).call(this,a,o,l)):(!_e(this,o1)&&_e(this,Ll).length<10&&_e(this,s1).call(this,o).catch(u=>{throw $t(this,o1,!0),_e(this,Cv).call(this,a),u}),s))}if(_e(this,Kp)||_e(this,xh)<_e(this,qp)&&o.decodeQueueSize>0){if(performance.now()-l.st>6e3)throw Error(`MP4Clip.tick video timeout, ${JSON.stringify(_e(this,l1).call(this))}`);$t(this,xv,_e(this,xv)+1),await hB(15)}else{if(_e(this,Xd)>=this.samples.length)return null;try{await _e(this,s1).call(this,o)}catch(s){throw _e(this,Cv).call(this,a),s}}return await _e(this,_b).call(this,a,o,l)}),Xt(this,Kp,!1),Xt(this,s1,async a=>{var o,l;if(_e(this,Kp)||a.decodeQueueSize>600)return;let s=_e(this,Xd)+1;if(s>this.samples.length)return;$t(this,Kp,!0);let u=!1;for(;s<this.samples.length;s++){const f=this.samples[s];if(!u&&!f.deleted&&(u=!0),f.is_idr)break}if(u){const f=this.samples.slice(_e(this,Xd),s);if(((o=f[0])==null?void 0:o.is_idr)!==!0)di.warn("First sample not idr frame");else{const m=performance.now(),b=await zG(f,this.localFileReader),_=performance.now()-m;if(_>1e3){const E=f[0],c=f.at(-1),p=c.offset+c.size-E.offset;di.warn(`Read video samples time cost: ${Math.round(_)}ms, file chunk size: ${p}`)}if(a.state==="closed")return;$t(this,a1,((l=b[0])==null?void 0:l.duration)??0),rO(a,b,{onDecodingError:E=>{if(_e(this,_v))throw E;_e(this,xh)===0&&($t(this,_v,!0),di.warn("Downgrade to software decode"),_e(this,Cv).call(this))}}),$t(this,qp,_e(this,qp)+b.length)}}$t(this,Xd,s),$t(this,Kp,!1)}),Xt(this,Cv,a=>{var o,l;if($t(this,Kp,!1),_e(this,Ll).forEach(u=>u.close()),$t(this,Ll,[]),a==null||a===0)$t(this,Xd,0);else{let u=0;for(let f=0;f<this.samples.length;f++){const m=this.samples[f];if(m.is_idr&&(u=f),!(m.cts<a)){$t(this,Xd,u);break}}}$t(this,qp,0),$t(this,xh,0),((o=_e(this,is))==null?void 0:o.state)!=="closed"&&((l=_e(this,is))==null||l.close());const s={...this.conf,..._e(this,_v)?{hardwareAcceleration:"prefer-software"}:{}};$t(this,is,new VideoDecoder({output:u=>{if($t(this,xh,_e(this,xh)+1),u.timestamp===-1){u.close();return}let f=u;u.duration==null&&(f=new VideoFrame(u,{duration:_e(this,a1)}),u.close()),_e(this,Ll).push(f)},error:u=>{if(u.message.includes("Codec reclaimed due to inactivity")){$t(this,is,null),di.warn(u.message);return}const f=`VideoFinder VideoDecoder err: ${u.message}, config: ${JSON.stringify(s)}, state: ${JSON.stringify(_e(this,l1).call(this))}`;throw di.error(f),Error(f)}})),_e(this,is).configure(s)}),Xt(this,l1,()=>{var a,o;return{time:_e(this,bv),decState:(a=_e(this,is))==null?void 0:a.state,decQSize:(o=_e(this,is))==null?void 0:o.decodeQueueSize,decCusorIdx:_e(this,Xd),sampleLen:this.samples.length,inputCnt:_e(this,qp),outputCnt:_e(this,xh),cacheFrameLen:_e(this,Ll).length,softDeocde:_e(this,_v),clipIdCnt:pB,sleepCnt:_e(this,xv),memInfo:UG()}}),Kr(this,"destroy",()=>{var a,o;((a=_e(this,is))==null?void 0:a.state)!=="closed"&&((o=_e(this,is))==null||o.close()),$t(this,is,null),_e(this,Sv).abort=!0,_e(this,Ll).forEach(l=>l.close()),$t(this,Ll,[]),this.localFileReader.close()}),this.localFileReader=e,this.samples=t,this.conf=r}}is=new WeakMap,bv=new WeakMap,Sv=new WeakMap,a1=new WeakMap,_v=new WeakMap,Xd=new WeakMap,Ll=new WeakMap,xh=new WeakMap,qp=new WeakMap,xv=new WeakMap,o1=new WeakMap,_b=new WeakMap,Kp=new WeakMap,s1=new WeakMap,Cv=new WeakMap,l1=new WeakMap;function Fme(n,e){for(let t=0;t<e.length;t++){const r=e[t];if(n>=r.cts&&n<r.cts+r.duration)return t;if(r.cts>n)break}return 0}var c1,u1,Gu,Ev,Yd,Ch,Tc,wv,d1,f1,nO,iO;class Hme{constructor(e,t,r,a){Xt(this,c1,1),Xt(this,u1),Xt(this,Gu,null),Xt(this,Ev,{abort:!1,st:performance.now()}),Kr(this,"find",async o=>{const l=o<=_e(this,Yd)||o-_e(this,Yd)>1e5;(_e(this,Gu)==null||_e(this,Gu).state==="closed"||l)&&_e(this,nO).call(this),l&&($t(this,Yd,o),$t(this,Ch,Fme(o,this.samples))),_e(this,Ev).abort=!0;const s=o-_e(this,Yd);$t(this,Yd,o),$t(this,Ev,{abort:!1,st:performance.now()});const u=await _e(this,d1).call(this,Math.ceil(s*(_e(this,u1)/1e6)),_e(this,Gu),_e(this,Ev));return $t(this,wv,0),u}),Xt(this,Yd,0),Xt(this,Ch,0),Xt(this,Tc,{frameCnt:0,data:[]}),Xt(this,wv,0),Xt(this,d1,async(o,l=null,s)=>{if(l==null||s.abort||l.state==="closed"||o===0)return[];const u=_e(this,Tc).frameCnt-o;if(u>0)return u<Yr.sampleRate/10&&_e(this,f1).call(this,l),fz(_e(this,Tc),o);if(l.decoding){if(performance.now()-s.st>3e3)throw s.abort=!0,Error(`MP4Clip.tick audio timeout, ${JSON.stringify(_e(this,iO).call(this))}`);$t(this,wv,_e(this,wv)+1),await hB(15)}else{if(_e(this,Ch)>=this.samples.length-1)return fz(_e(this,Tc),_e(this,Tc).frameCnt);_e(this,f1).call(this,l)}return _e(this,d1).call(this,o,l,s)}),Xt(this,f1,o=>{if(o.decodeQueueSize>10)return;const l=[];let s=_e(this,Ch);for(;s<this.samples.length;){const u=this.samples[s];if(s+=1,!u.deleted&&(l.push(u),l.length>=10))break}$t(this,Ch,s),o.decode(l.map(u=>new EncodedAudioChunk({type:"key",timestamp:u.cts,duration:u.duration,data:u.data})))}),Xt(this,nO,()=>{var o;$t(this,Yd,0),$t(this,Ch,0),$t(this,Tc,{frameCnt:0,data:[]}),(o=_e(this,Gu))==null||o.close(),$t(this,Gu,Gme(this.conf,{resampleRate:Yr.sampleRate,volume:_e(this,c1)},l=>{_e(this,Tc).data.push(l),_e(this,Tc).frameCnt+=l[0].length}))}),Xt(this,iO,()=>{var o,l;return{time:_e(this,Yd),decState:(o=_e(this,Gu))==null?void 0:o.state,decQSize:(l=_e(this,Gu))==null?void 0:l.decodeQueueSize,decCusorIdx:_e(this,Ch),sampleLen:this.samples.length,pcmLen:_e(this,Tc).frameCnt,clipIdCnt:pB,sleepCnt:_e(this,wv),memInfo:UG()}}),Kr(this,"destroy",()=>{$t(this,Gu,null),_e(this,Ev).abort=!0,$t(this,Tc,{frameCnt:0,data:[]}),this.localFileReader.close()}),this.localFileReader=e,this.samples=t,this.conf=r,$t(this,c1,a.volume),$t(this,u1,a.targetSampleRate)}}c1=new WeakMap,u1=new WeakMap,Gu=new WeakMap,Ev=new WeakMap,Yd=new WeakMap,Ch=new WeakMap,Tc=new WeakMap,wv=new WeakMap,d1=new WeakMap,f1=new WeakMap,nO=new WeakMap,iO=new WeakMap;function Gme(n,e,t){let r=0,a=0;const o=m=>{if(a+=1,m.length!==0){if(e.volume!==1)for(const b of m)for(let _=0;_<b.length;_++)b[_]*=e.volume;m.length===1&&(m=[m[0],m[0]]),t(m)}},l=kme(o),s=e.resampleRate!==n.sampleRate;let u=new AudioDecoder({output:m=>{const b=Mme(m);s?l(()=>Ime(b,m.sampleRate,{rate:e.resampleRate,chanCount:m.numberOfChannels})):o(b),m.close()},error:m=>{m.message.includes("Codec reclaimed due to inactivity")||f("MP4Clip AudioDecoder err",m)}});u.configure(n);function f(m,b){const _=`${m}: ${b.message}, state: ${JSON.stringify({qSize:u.decodeQueueSize,state:u.state,inputCnt:r,outputCnt:a})}`;throw di.error(_),Error(_)}return{decode(m){r+=m.length;try{for(const b of m)u.decode(b)}catch(b){f("decode audio chunk error",b)}},close(){u.state!=="closed"&&u.close()},get decoding(){return r>a&&u.decodeQueueSize>0},get state(){return u.state},get decodeQueueSize(){return u.decodeQueueSize}}}function kme(n){const e=[];let t=0;function r(l,s){e[s]=l,a()}function a(){const l=e[t];l!=null&&(n(l),t+=1,a())}let o=0;return l=>{const s=o;o+=1,l().then(u=>r(u,s)).catch(u=>r(u,s))}}function fz(n,e){const t=[new Float32Array(e),new Float32Array(e)];let r=0,a=0;for(;a<n.data.length;){const[o,l]=n.data[a];if(r+o.length>e){const s=e-r;t[0].set(o.subarray(0,s),r),t[1].set(l.subarray(0,s),r),n.data[a][0]=o.subarray(s,o.length),n.data[a][1]=l.subarray(s,l.length);break}else t[0].set(o,r),t[1].set(l,r),r+=o.length,a++}return n.data=n.data.slice(a),n.frameCnt-=e,t}async function zG(n,e){const t=n[0],r=n.at(-1);if(r==null)return[];const a=r.offset+r.size-t.offset;if(a<3e7){const o=new Uint8Array(await e.read(a,{at:t.offset}));return n.map(l=>{const s=l.offset-t.offset;return new EncodedVideoChunk({type:l.is_sync?"key":"delta",timestamp:l.cts,duration:l.duration,data:o.subarray(s,s+l.size)})})}return await Promise.all(n.map(async o=>new EncodedVideoChunk({type:o.is_sync?"key":"delta",timestamp:o.cts,duration:o.duration,data:await e.read(o.size,{at:o.offset})})))}function $me(n,e,t){const r=new OffscreenCanvas(n,e),a=r.getContext("2d");return async o=>(a.drawImage(o,0,0,n,e),o.close(),await r.convertToBlob(t))}function Vme(n,e){if(n.length===0)return[];let t=0,r=0,a=-1;for(let u=0;u<n.length;u++){const f=n[u];if(a===-1&&e<f.cts&&(a=u-1),f.is_idr)if(a===-1)t=u;else{r=u;break}}const o=n[a];if(o==null)throw Error("Not found video sample by time");const l=n.slice(0,r===0?n.length:r).map(u=>({...u}));for(let u=t;u<l.length;u++){const f=l[u];e<f.cts&&(f.deleted=!0,f.cts=-1)}aO(l);const s=n.slice(o.is_idr?a:t).map(u=>({...u,cts:u.cts-e}));for(const u of s)u.cts<0&&(u.deleted=!0,u.cts=-1);return aO(s),[l,s]}function jme(n,e){if(n.length===0)return[];let t=-1;for(let o=0;o<n.length;o++){const l=n[o];if(!(e>l.cts)){t=o;break}}if(t===-1)throw Error("Not found audio sample by time");const r=n.slice(0,t).map(o=>({...o})),a=n.slice(t).map(o=>({...o,cts:o.cts-e}));return[r,a]}function rO(n,e,t){let r=0;if(n.state==="configured"){for(;r<e.length;r++)n.decode(e[r]);n.flush().catch(a=>{if(!(a instanceof Error))throw a;if(a.message.includes("Decoding error")&&t.onDecodingError!=null){t.onDecodingError(a);return}if(!a.message.includes("Aborted due to close"))throw a})}}function Wme(n,e){if(e!=="avc1"&&e!=="hvc1")return 0;const t=new DataView(n.buffer);let r=0;for(;r<n.byteLength-4;){if(e==="avc1"&&(t.getUint8(r+4)&31)===5)return r;if(e==="hvc1"){const a=t.getUint8(r+4)>>1&63;if(a===19||a===20)return r}r+=t.getUint32(r)+4}return-1}async function Xme(n,e,t,r,a,o){const l=await e.createReader(),s=await zG(n.filter(m=>!m.deleted&&m.is_sync&&m.cts>=a.start&&m.cts<=a.end),l);if(s.length===0||r.aborted)return;let u=0;rO(f(),s,{onDecodingError:m=>{di.warn("thumbnailsByKeyFrame",m),u===0?rO(f(!0),s,{onDecodingError:b=>{l.close(),di.error("thumbnailsByKeyFrame retry soft deocde",b)}}):(o(null,!0),l.close())}});function f(m=!1){const b={...t,...m?{hardwareAcceleration:"prefer-software"}:{}},_=new VideoDecoder({output:E=>{u+=1;const c=u===s.length;o(E,c),c&&(l.close(),_.state!=="closed"&&_.close())},error:E=>{const c=`thumbnails decoder error: ${E.message}, config: ${JSON.stringify(b)}, state: ${JSON.stringify({qSize:_.decodeQueueSize,state:_.state,outputCnt:u,inputCnt:s.length})}`;throw di.error(c),Error(c)}});return r.addEventListener("abort",()=>{l.close(),_.state!=="closed"&&_.close()}),_.configure(b),_}}function aO(n){let e=0,t=null;for(const r of n)if(!r.deleted){if(r.is_sync&&(e+=1),e>=2)break;(t==null||r.cts<t.cts)&&(t=r)}t!=null&&t.cts<2e5&&(t.duration+=t.cts,t.cts=0)}function UG(){try{const n=performance.memory;return{jsHeapSizeLimit:n.jsHeapSizeLimit,totalJSHeapSize:n.totalJSHeapSize,usedJSHeapSize:n.usedJSHeapSize,percentUsed:(n.usedJSHeapSize/n.jsHeapSizeLimit).toFixed(3),percentTotal:(n.totalJSHeapSize/n.jsHeapSizeLimit).toFixed(3)}}catch{return{}}}var Rs,Rc,Do,oO,FG;const Yme=class Av{constructor(e){Xt(this,oO),Kr(this,"ready"),Xt(this,Rs,{duration:0,width:0,height:0}),Xt(this,Rc,null),Xt(this,Do,[]);const t=r=>($t(this,Rc,r),_e(this,Rs).width=r.width,_e(this,Rs).height=r.height,_e(this,Rs).duration=1/0,{..._e(this,Rs)});if(e instanceof ReadableStream)this.ready=new Response(e).blob().then(r=>createImageBitmap(r)).then(t);else if(e instanceof ImageBitmap)this.ready=Promise.resolve(t(e));else if(Array.isArray(e)&&e.every(r=>r instanceof VideoFrame)){$t(this,Do,e);const r=_e(this,Do)[0];if(r==null)throw Error("The frame count must be greater than 0");$t(this,Rs,{width:r.displayWidth,height:r.displayHeight,duration:_e(this,Do).reduce((a,o)=>a+(o.duration??0),0)}),this.ready=Promise.resolve({..._e(this,Rs),duration:1/0})}else if("type"in e)this.ready=Uc(this,oO,FG).call(this,e.stream,e.type).then(()=>({width:_e(this,Rs).width,height:_e(this,Rs).height,duration:1/0}));else throw Error("Illegal arguments")}get meta(){return{..._e(this,Rs)}}async tick(e){if(_e(this,Rc)!=null)return{video:await createImageBitmap(_e(this,Rc)),state:"success"};const t=e%_e(this,Rs).duration;return{video:(_e(this,Do).find(r=>t>=r.timestamp&&t<=r.timestamp+(r.duration??0))??_e(this,Do)[0]).clone(),state:"success"}}async split(e){if(await this.ready,_e(this,Rc)!=null)return[new Av(await createImageBitmap(_e(this,Rc))),new Av(await createImageBitmap(_e(this,Rc)))];let t=-1;for(let o=0;o<_e(this,Do).length;o++){const l=_e(this,Do)[o];if(!(e>l.timestamp)){t=o;break}}if(t===-1)throw Error("Not found frame by time");const r=_e(this,Do).slice(0,t).map(o=>new VideoFrame(o)),a=_e(this,Do).slice(t).map(o=>new VideoFrame(o,{timestamp:o.timestamp-e}));return[new Av(r),new Av(a)]}async clone(){await this.ready;const e=_e(this,Rc)==null?_e(this,Do).map(t=>t.clone()):await createImageBitmap(_e(this,Rc));return new Av(e)}destroy(){var e;di.info("ImgClip destroy"),(e=_e(this,Rc))==null||e.close(),_e(this,Do).forEach(t=>t.close())}};Rs=new WeakMap,Rc=new WeakMap,Do=new WeakMap,oO=new WeakSet,FG=async function(n,e){$t(this,Do,await Ome(n,e));const t=_e(this,Do)[0];if(t==null)throw Error("No frame available in gif");$t(this,Rs,{duration:_e(this,Do).reduce((r,a)=>r+(a.duration??0),0),width:t.codedWidth,height:t.codedHeight}),di.info("ImgClip ready:",_e(this,Rs))};let qme=Yme;var $v,Mh,om,Zd,sO,HG,Jp,qd;const AC=class h1{constructor(e,t={}){Xt(this,sO),Kr(this,"ready"),Xt(this,$v,{duration:0,width:0,height:0}),Xt(this,Mh,new Float32Array),Xt(this,om,new Float32Array),Xt(this,Zd),Kr(this,"tickInterceptor",async(r,a)=>a),Xt(this,Jp,0),Xt(this,qd,0),$t(this,Zd,{loop:!1,volume:1,...t}),this.ready=Uc(this,sO,HG).call(this,e).then(()=>({width:0,height:0,duration:t.loop?1/0:_e(this,$v).duration}))}get meta(){return{..._e(this,$v),sampleRate:Yr.sampleRate,chanCount:2}}getPCMData(){return[_e(this,Mh),_e(this,om)]}async tick(e){if(!_e(this,Zd).loop&&e>=_e(this,$v).duration)return await this.tickInterceptor(e,{audio:[],state:"done"});const t=e-_e(this,Jp);if(e<_e(this,Jp)||t>3e6)return $t(this,Jp,e),$t(this,qd,Math.ceil(_e(this,Jp)/1e6*Yr.sampleRate)),await this.tickInterceptor(e,{audio:[new Float32Array(0),new Float32Array(0)],state:"success"});$t(this,Jp,e);const r=Math.ceil(t/1e6*Yr.sampleRate),a=_e(this,qd)+r,o=_e(this,Zd).loop?[lz(_e(this,Mh),_e(this,qd),a),lz(_e(this,om),_e(this,qd),a)]:[_e(this,Mh).slice(_e(this,qd),a),_e(this,om).slice(_e(this,qd),a)];return $t(this,qd,a),await this.tickInterceptor(e,{audio:o,state:"success"})}async split(e){await this.ready;const t=Math.ceil(e/1e6*Yr.sampleRate),r=new h1(this.getPCMData().map(o=>o.slice(0,t)),_e(this,Zd)),a=new h1(this.getPCMData().map(o=>o.slice(t)),_e(this,Zd));return[r,a]}async clone(){await this.ready;const e=new h1(this.getPCMData(),_e(this,Zd));return await e.ready,e}destroy(){$t(this,Mh,new Float32Array(0)),$t(this,om,new Float32Array(0)),di.info("---- audioclip destroy ----")}};$v=new WeakMap,Mh=new WeakMap,om=new WeakMap,Zd=new WeakMap,sO=new WeakSet,HG=async function(n){AC.ctx==null&&(AC.ctx=new AudioContext({sampleRate:Yr.sampleRate}));const e=performance.now(),t=n instanceof ReadableStream?await Kme(n,AC.ctx):n;di.info("Audio clip decoded complete:",performance.now()-e);const r=_e(this,Zd).volume;if(r!==1)for(const a of t)for(let o=0;o<a.length;o+=1)a[o]*=r;_e(this,$v).duration=t[0].length/Yr.sampleRate*1e6,$t(this,Mh,t[0]),$t(this,om,t[1]??_e(this,Mh)),di.info("Audio clip convert to AudioData, time:",performance.now()-e)},Jp=new WeakMap,qd=new WeakMap,Kr(AC,"ctx",null);async function Kme(n,e){const t=await new Response(n).arrayBuffer();return PG(await e.decodeAudioData(t))}var Mv,p1,xb,Cb;const GG=class kG{constructor(e){Kr(this,"ready"),Xt(this,Mv,{duration:0,width:0,height:0}),Xt(this,p1,()=>{}),Kr(this,"audioTrack"),Xt(this,xb,null),Xt(this,Cb),$t(this,Cb,e),this.audioTrack=e.getAudioTracks()[0]??null,_e(this,Mv).duration=1/0;const t=e.getVideoTracks()[0];t!=null?(t.contentHint="motion",this.ready=new Promise(r=>{$t(this,p1,Qme(t,a=>{_e(this,Mv).width=a.width,_e(this,Mv).height=a.height,$t(this,xb,a),r(this.meta)}))})):this.ready=Promise.resolve(this.meta)}get meta(){return{..._e(this,Mv)}}async tick(){return{video:_e(this,xb)==null?null:await createImageBitmap(_e(this,xb)),audio:[],state:"success"}}async split(){return[await this.clone(),await this.clone()]}async clone(){return new kG(_e(this,Cb).clone())}destroy(){_e(this,Cb).getTracks().forEach(e=>e.stop()),_e(this,p1).call(this)}};Mv=new WeakMap,p1=new WeakMap,xb=new WeakMap,Cb=new WeakMap,Kr(GG,"ctx",null);let Jme=GG;function Qme(n,e){let t=!1,r;return $pe(new MediaStreamTrackProcessor({track:n}).readable,{onChunk:async a=>{if(!t){const{displayHeight:o,displayWidth:l}=a,s=l??0,u=o??0,f=new OffscreenCanvas(s,u);r=f.getContext("2d"),e(f),t=!0}r.drawImage(a,0,0),a.close()},onDone:async()=>{}})}var VE,jE,WE,XE,YE,qE,Qp,Tv,Zp;const Zme=class $G{constructor(e,t,r,a,o){Xt(this,Qp),Xt(this,VE,new zm),Kr(this,"on",_e(this,VE).on),Xt(this,jE,0),Xt(this,WE,0),Xt(this,XE,0),Xt(this,YE,0),Xt(this,qE,0),Xt(this,Zp,null),Kr(this,"fixedAspectRatio",!1),Kr(this,"fixedScaleCenter",!1),this.x=e??0,this.y=t??0,this.w=r??0,this.h=a??0,$t(this,Zp,o??null)}get x(){return _e(this,jE)}set x(e){Uc(this,Qp,Tv).call(this,"x",e)}get y(){return _e(this,WE)}set y(e){Uc(this,Qp,Tv).call(this,"y",e)}get w(){return _e(this,XE)}set w(e){Uc(this,Qp,Tv).call(this,"w",e)}get h(){return _e(this,YE)}set h(e){Uc(this,Qp,Tv).call(this,"h",e)}get angle(){return _e(this,qE)}set angle(e){Uc(this,Qp,Tv).call(this,"angle",e)}get center(){const{x:e,y:t,w:r,h:a}=this;return{x:e+r/2,y:t+a/2}}clone(){const{x:e,y:t,w:r,h:a}=this,o=new $G(e,t,r,a,_e(this,Zp));return o.angle=this.angle,o.fixedAspectRatio=this.fixedAspectRatio,o.fixedScaleCenter=this.fixedScaleCenter,o}checkHit(e,t){var r,a;let{angle:o,center:l,x:s,y:u,w:f,h:m}=this;const b=((r=_e(this,Zp))==null?void 0:r.center)??l,_=((a=_e(this,Zp))==null?void 0:a.angle)??o;_e(this,Zp)==null&&(s=s-b.x,u=u-b.y);const E=e-b.x,c=t-b.y;let p=E,g=c;return _!==0&&(p=E*Math.cos(_)+c*Math.sin(_),g=c*Math.cos(_)-E*Math.sin(_)),!(p<s||p>s+f||g<u||g>u+m)}};VE=new WeakMap,jE=new WeakMap,WE=new WeakMap,XE=new WeakMap,YE=new WeakMap,qE=new WeakMap,Qp=new WeakSet,Tv=function(n,e){const t=this[n]!==e;switch(n){case"x":$t(this,jE,e);break;case"y":$t(this,WE,e);break;case"w":$t(this,XE,e);break;case"h":$t(this,YE,e);break;case"angle":$t(this,qE,e);break}t&&_e(this,VE).emit("propsChange",{[n]:e})},Zp=new WeakMap;let ku=Zme;var m1,Rv,Eb,em,Kd;class VG{constructor(){Kr(this,"rect",new ku),Xt(this,m1,{offset:0,duration:0,playbackRate:1}),Xt(this,Rv,new zm),Kr(this,"on",_e(this,Rv).on),Xt(this,Eb,0),Kr(this,"opacity",1),Kr(this,"flip",null),Xt(this,em,null),Xt(this,Kd,null),Kr(this,"ready",Promise.resolve()),this.rect.on("propsChange",e=>{_e(this,Rv).emit("propsChange",{rect:e})})}get time(){return _e(this,m1)}set time(e){Object.assign(_e(this,m1),e)}get zIndex(){return _e(this,Eb)}set zIndex(e){const t=_e(this,Eb)!==e;$t(this,Eb,e),t&&_e(this,Rv).emit("propsChange",{zIndex:e})}_render(e){const{rect:{center:t,angle:r}}=this;e.setTransform(this.flip==="horizontal"?-1:1,0,0,this.flip==="vertical"?-1:1,t.x,t.y),e.rotate((this.flip==null?1:-1)*r),e.globalAlpha=this.opacity}setAnimation(e,t){$t(this,em,Object.entries(e).map(([r,a])=>{const o={from:0,to:100}[r]??Number(r.slice(0,-1));if(isNaN(o)||o>100||o<0)throw Error("keyFrame must between 0~100");return[o/100,a]})),$t(this,Kd,Object.assign({},_e(this,Kd),{duration:t.duration,delay:t.delay??0,iterCount:t.iterCount??1/0}))}animate(e){if(_e(this,em)==null||_e(this,Kd)==null||e<_e(this,Kd).delay)return;const t=ege(e,_e(this,em),_e(this,Kd));for(const r in t)switch(r){case"opacity":this.opacity=t[r];break;case"x":case"y":case"w":case"h":case"angle":this.rect[r]=t[r];break}}copyStateTo(e){$t(e,em,_e(this,em)),$t(e,Kd,_e(this,Kd)),e.zIndex=this.zIndex,e.opacity=this.opacity,e.flip=this.flip,e.rect=this.rect.clone(),e.time={...this.time}}destroy(){_e(this,Rv).destroy()}}m1=new WeakMap,Rv=new WeakMap,Eb=new WeakMap,em=new WeakMap,Kd=new WeakMap;function ege(n,e,t){const r=n-t.delay;if(r/t.duration>=t.iterCount)return{};const a=r%t.duration,o=r===t.duration?1:a/t.duration,l=e.findIndex(E=>E[0]>=o);if(l===-1)return{};const s=e[l-1],u=e[l],f=u[1];if(s==null)return f;const m=s[1],b={},_=(o-s[0])/(u[0]-s[0]);for(const E in f){const c=E;m[c]!=null&&(b[c]=(f[c]-m[c])*_+m[c])}return b}var Ov,tm,g1;const tge=class jG extends VG{constructor(e){super(),Xt(this,Ov),Xt(this,tm,null),Xt(this,g1,!1),$t(this,Ov,e),this.ready=e.ready.then(({width:t,height:r,duration:a})=>{this.rect.w=this.rect.w===0?t:this.rect.w,this.rect.h=this.rect.h===0?r:this.rect.h,this.time.duration=this.time.duration===0?a:this.time.duration})}async offscreenRender(e,t){var r;const a=t*this.time.playbackRate;this.animate(a),super._render(e);const{w:o,h:l}=this.rect,{video:s,audio:u,state:f}=await _e(this,Ov).tick(a);let m=u??[];if(u!=null&&this.time.playbackRate!==1&&(m=u.map(_=>LG(_,this.time.playbackRate))),f==="done")return{audio:m,done:!0};const b=s??_e(this,tm);return b!=null&&e.drawImage(b,-o/2,-l/2,o,l),s!=null&&((r=_e(this,tm))==null||r.close(),$t(this,tm,s)),{audio:m,done:!1}}async clone(){const e=new jG(await _e(this,Ov).clone());return await e.ready,this.copyStateTo(e),e}destroy(){var e;_e(this,g1)||($t(this,g1,!0),di.info("OffscreenSprite destroy"),super.destroy(),(e=_e(this,tm))==null||e.close(),$t(this,tm,null),_e(this,Ov).destroy())}};Ov=new WeakMap,tm=new WeakMap,g1=new WeakMap;let nge=tge;var Vv,_m,n0,wb,v1,lO,y1,b1;const ige=class WG extends VG{constructor(e){super(),Xt(this,v1),Xt(this,Vv),Kr(this,"visible",!0),Xt(this,_m,null),Xt(this,n0,[]),Xt(this,wb,!1),Xt(this,y1,-1),Xt(this,b1,!1),$t(this,Vv,e),this.ready=e.ready.then(({width:t,height:r,duration:a})=>{this.rect.w=this.rect.w===0?t:this.rect.w,this.rect.h=this.rect.h===0?r:this.rect.h,this.time.duration=this.time.duration===0?a:this.time.duration})}getClip(){return _e(this,Vv)}preFrame(e){Uc(this,v1,lO).call(this,e)}render(e,t){this.animate(t),super._render(e);const{w:r,h:a}=this.rect;_e(this,y1)!==t&&Uc(this,v1,lO).call(this,t),$t(this,y1,t);const o=_e(this,n0);$t(this,n0,[]);const l=_e(this,_m);return l!=null&&e.drawImage(l,-r/2,-a/2,r,a),{audio:o}}copyStateTo(e){super.copyStateTo(e),e instanceof WG&&(e.visible=this.visible)}destroy(){var e;_e(this,b1)||($t(this,b1,!0),di.info("VisibleSprite destroy"),super.destroy(),(e=_e(this,_m))==null||e.close(),$t(this,_m,null),_e(this,Vv).destroy())}};Vv=new WeakMap,_m=new WeakMap,n0=new WeakMap,wb=new WeakMap,v1=new WeakSet,lO=function(n){_e(this,wb)||($t(this,wb,!0),_e(this,Vv).tick(n*this.time.playbackRate).then(({video:e,audio:t})=>{var r;e!=null&&((r=_e(this,_m))==null||r.close(),$t(this,_m,e??null)),$t(this,n0,t??[]),t!=null&&this.time.playbackRate!==1&&$t(this,n0,t.map(a=>LG(a,this.time.playbackRate)))}).finally(()=>{$t(this,wb,!1)}))},y1=new WeakMap,b1=new WeakMap;let uR=ige,rge=0;async function XG(n){n()>50&&(await hB(15),await XG(n))}var ef,S1,Vu,$b,KE,_1,jv,Vb,nm,x1,YG,qG;class age{constructor(e={}){Xt(this,x1),Xt(this,ef,di.create(`id:${rge++},`)),Xt(this,S1,!1),Xt(this,Vu,[]),Xt(this,$b),Xt(this,KE),Xt(this,_1,null),Xt(this,jv),Xt(this,Vb),Xt(this,nm,new zm),Kr(this,"on",_e(this,nm).on);const{width:t=0,height:r=0}=e;$t(this,$b,new OffscreenCanvas(t,r));const a=_e(this,$b).getContext("2d",{alpha:!1});if(a==null)throw Error("Can not create 2d offscreen context");$t(this,KE,a),$t(this,jv,Object.assign({bgColor:"#000",width:0,height:0,videoCodec:"avc1.42E032",audio:!0,bitrate:5e6,fps:30,metaDataTags:null},e)),$t(this,Vb,t*r>0)}static async isSupported(e={}){return(self.OffscreenCanvas!=null&&self.VideoEncoder!=null&&self.VideoDecoder!=null&&self.VideoFrame!=null&&self.AudioEncoder!=null&&self.AudioDecoder!=null&&self.AudioData!=null&&((await self.VideoEncoder.isConfigSupported({codec:e.videoCodec??"avc1.42E032",width:e.width??1920,height:e.height??1080,bitrate:e.bitrate??7e6})).supported??!1)&&(await self.AudioEncoder.isConfigSupported({codec:Yr.codec,sampleRate:Yr.sampleRate,numberOfChannels:Yr.channelCount})).supported)??!1}async addSprite(e,t={}){const r={rect:cge(["x","y","w","h"],e.rect),time:{...e.time},zIndex:e.zIndex};_e(this,ef).info("Combinator add sprite",r);const a=await e.clone();_e(this,ef).info("Combinator add sprite ready"),_e(this,Vu).push(Object.assign(a,{main:t.main??!1,expired:!1})),_e(this,Vu).sort((o,l)=>o.zIndex-l.zIndex)}output(){if(_e(this,Vu).length===0)throw Error("No sprite added");const e=_e(this,Vu).find(u=>u.main),t=e!=null?e.time.offset+e.time.duration:Math.max(..._e(this,Vu).map(u=>u.time.offset+u.time.duration));if(t===1/0)throw Error("Unable to determine the end time, please specify a main sprite, or limit the duration of ImgClip, AudioCli");t===-1&&_e(this,ef).warn("Unable to determine the end time, process value don't update"),_e(this,ef).info(`start combinate video, maxTime:${t}`);const r=Uc(this,x1,YG).call(this,t);let a=performance.now();const o=Uc(this,x1,qG).call(this,r,t,{onProgress:u=>{_e(this,ef).debug("OutputProgress:",u),_e(this,nm).emit("OutputProgress",u)},onEnded:async()=>{await r.flush(),_e(this,ef).info("===== output ended =====, cost:",performance.now()-a),_e(this,nm).emit("OutputProgress",1),this.destroy()},onError:u=>{_e(this,nm).emit("error",u),s(u),this.destroy()}});$t(this,_1,()=>{o(),r.close(),s()});const{stream:l,stop:s}=Vpe(r.mp4file,500,this.destroy);return l}destroy(){var e;_e(this,S1)||($t(this,S1,!0),(e=_e(this,_1))==null||e.call(this),_e(this,nm).destroy())}}ef=new WeakMap,S1=new WeakMap,Vu=new WeakMap,$b=new WeakMap,KE=new WeakMap,_1=new WeakMap,jv=new WeakMap,Vb=new WeakMap,nm=new WeakMap,x1=new WeakSet,YG=function(n){const{fps:e,width:t,height:r,videoCodec:a,bitrate:o,audio:l,metaDataTags:s}=_e(this,jv);return Qpe({video:_e(this,Vb)?{width:t,height:r,expectFPS:e,codec:a,bitrate:o,__unsafe_hardwareAcceleration__:_e(this,jv).__unsafe_hardwareAcceleration__}:null,audio:l===!1?null:{codec:"aac",sampleRate:Yr.sampleRate,channelCount:Yr.channelCount},duration:n,metaDataTags:s})},qG=function(n,e,{onProgress:t,onEnded:r,onError:a}){let o=0;const l={aborted:!1};let s=null;(async()=>{const{fps:m,bgColor:b,audio:_}=_e(this,jv),E=Math.round(1e6/m),c=_e(this,KE),p=oge({ctx:c,bgColor:b,sprites:_e(this,Vu),aborter:l}),g=sge({remux:n,ctx:c,cvs:_e(this,$b),outputAudio:_,hasVideoTrack:_e(this,Vb),timeSlice:E,fps:m});let y=0;for(;;){if(s!=null)return;if(l.aborted||e!==-1&&y>e||_e(this,Vu).length===0){f(),await r();return}o=y/e;const{audios:C,mainSprDone:T}=await p(y);if(T){f(),await r();return}if(l.aborted)return;g(y,C),y+=E,await XG(n.getEncodeQueueSize)}})().catch(m=>{s=m,_e(this,ef).error(m),f(),a(m)});const u=setInterval(()=>{t(o)},500),f=()=>{l.aborted||(l.aborted=!0,clearInterval(u),_e(this,Vu).forEach(m=>m.destroy()))};return f};function oge(n){const{ctx:e,bgColor:t,sprites:r,aborter:a}=n,{width:o,height:l}=e.canvas;return async s=>{e.fillStyle=t,e.fillRect(0,0,o,l);const u=[];let f=!1;for(const m of r){if(a.aborted)break;if(s<m.time.offset||m.expired)continue;e.save();const{audio:b,done:_}=await m.offscreenRender(e,s-m.time.offset);u.push(b),e.restore(),(m.time.duration>0&&s>m.time.offset+m.time.duration||_)&&(m.main&&(f=!0),m.destroy(),m.expired=!0)}return{audios:u,mainSprDone:f}}}function sge(n){const{ctx:e,cvs:t,outputAudio:r,remux:a,hasVideoTrack:o,timeSlice:l}=n,{width:s,height:u}=t;let f=0;const m=Math.floor(3*n.fps),b=lge(1024);return(_,E)=>{if(r!==!1)for(const c of b(_,E))a.encodeAudio(c);if(o){const c=new VideoFrame(t,{duration:l,timestamp:_});a.encodeVideo(c,{keyFrame:f%m===0}),e.resetTransform(),e.clearRect(0,0,s,u),f+=1}}}function lge(n){const e=n*Yr.channelCount,t=new Float32Array(e*3);let r=0,a=0;const o=n/Yr.sampleRate*1e6,l=new Float32Array(e),s=u=>{let f=0;const m=Math.floor(r/e),b=[];for(let _=0;_<m;_++)b.push(new AudioData({timestamp:a,numberOfChannels:Yr.channelCount,numberOfFrames:n,sampleRate:Yr.sampleRate,format:"f32",data:t.subarray(f,f+e)})),f+=e,a+=o;for(t.set(t.subarray(f,r),0),r-=f;u-a>o;)b.push(new AudioData({timestamp:a,numberOfChannels:Yr.channelCount,numberOfFrames:n,sampleRate:Yr.sampleRate,format:"f32",data:l})),a+=o;return b};return(u,f)=>{var m,b;const _=Math.max(...f.map(E=>{var c;return((c=E[0])==null?void 0:c.length)??0}));for(let E=0;E<_;E++){let c=0,p=0;for(let g=0;g<f.length;g++){const y=((m=f[g][0])==null?void 0:m[E])??0,C=((b=f[g][1])==null?void 0:b[E])??y;c+=y,p+=C}t[r]=c,t[r+1]=p,r+=2}return s(u)}}function cge(n,e){return n.reduce((t,r)=>(t[r]=e[r],t),{})}var uge=Object.defineProperty,KG=n=>{throw TypeError(n)},dge=(n,e,t)=>e in n?uge(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,C1=(n,e,t)=>dge(n,typeof e!="symbol"?e+"":e,t),mB=(n,e,t)=>e.has(n)||KG("Cannot "+t),Gt=(n,e,t)=>(mB(n,e,"read from private field"),t?t.call(n):e.get(n)),Ba=(n,e,t)=>e.has(n)?KG("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Zs=(n,e,t,r)=>(mB(n,e,"write to private field"),e.set(n,t),t),sm=(n,e,t)=>(mB(n,e,"access private method"),t);const fge=["t","b","l","r","lt","lb","rt","rb","rotate"];function E0(n){return document.createElement(n)}function hge(n){let e=16;const t=new ResizeObserver(a=>{const o=a[0];o!=null&&(e=10/(o.contentRect.width/n.width))});t.observe(n);function r(a){const{w:o,h:l}=a,s=e,u=s/2,f=o/2,m=l/2,b=s*1.5,_=b/2;return{...a.fixedAspectRatio?{}:{t:new ku(-u,-m-u,s,s,a),b:new ku(-u,m-u,s,s,a),l:new ku(-f-u,-u,s,s,a),r:new ku(f-u,-u,s,s,a)},lt:new ku(-f-u,-m-u,s,s,a),lb:new ku(-f-u,m-u,s,s,a),rt:new ku(f-u,-m-u,s,s,a),rb:new ku(f-u,m-u,s,s,a),rotate:new ku(-_,-m-s*2-_,b,b,a)}}return{rectCtrlsGetter:r,destroy:()=>{t.disconnect()}}}var SS=(n=>(n.ActiveSpriteChange="activeSpriteChange",n.AddSprite="addSprite",n))(SS||{}),Nl,Iv,Bv,Ab;class pge{constructor(){Ba(this,Nl,[]),Ba(this,Iv,null),Ba(this,Bv,new zm),C1(this,"on",Gt(this,Bv).on),Ba(this,Ab,0)}get activeSprite(){return Gt(this,Iv)}set activeSprite(e){e!==Gt(this,Iv)&&(Zs(this,Iv,e),Gt(this,Bv).emit("activeSpriteChange",e))}async addSprite(e){await e.ready,Gt(this,Nl).push(e),Zs(this,Nl,Gt(this,Nl).sort((t,r)=>t.zIndex-r.zIndex)),e.on("propsChange",t=>{t.zIndex!=null&&Zs(this,Nl,Gt(this,Nl).sort((r,a)=>r.zIndex-a.zIndex))}),Gt(this,Bv).emit("addSprite",e)}removeSprite(e){Gt(this,Iv)===e&&(this.activeSprite=null),Zs(this,Nl,Gt(this,Nl).filter(t=>t!==e)),e.destroy()}getSprites(e={time:!0}){return Gt(this,Nl).filter(t=>t.visible&&(e.time?Gt(this,Ab)>=t.time.offset&&Gt(this,Ab)<=t.time.offset+t.time.duration:!0))}updateRenderTime(e){Zs(this,Ab,e);const t=this.activeSprite;t!=null&&(e<t.time.offset||e>t.time.offset+t.time.duration)&&(this.activeSprite=null)}destroy(){Gt(this,Bv).destroy(),Gt(this,Nl).forEach(e=>e.destroy()),Zs(this,Nl,[])}}Nl=new WeakMap,Iv=new WeakMap,Bv=new WeakMap,Ab=new WeakMap;function mge(n,e,t,r){const a={w:e.clientWidth/e.width,h:e.clientHeight/e.height},o=new ResizeObserver(()=>{a.w=e.clientWidth/e.width,a.h=e.clientHeight/e.height,t.activeSprite!=null&&dR(t.activeSprite,l,s,a,r)});o.observe(e);const{rectEl:l,ctrlsEl:s}=gge(n),u=t.on(SS.ActiveSpriteChange,E=>{if(E==null){l.style.display="none";return}dR(E,l,s,a,r),l.style.display=""});let f=!1;const m=E=>{E.button===0&&(f=!0)},b=()=>{f=!1},_=()=>{!f||t.activeSprite==null||dR(t.activeSprite,l,s,a,r)};return e.addEventListener("pointerdown",m),window.addEventListener("pointerup",b),window.addEventListener("pointermove",_),()=>{o.disconnect(),u(),l.remove(),e.removeEventListener("pointerdown",m),window.removeEventListener("pointerup",b),window.removeEventListener("pointermove",_)}}function gge(n){const e=E0("div");e.style.cssText=`
    position: absolute;
    pointer-events: none;
    border: 1px solid #eee;
    box-sizing: border-box;
    display: none;
  `;const t=Object.fromEntries(fge.map(r=>{const a=E0("div");return a.style.cssText=`
        display: none;
        position: absolute;
        border: 1px solid #3ee; border-radius: 50%;
        box-sizing: border-box;
        background-color: #fff;
      `,[r,a]}));return Object.values(t).forEach(r=>e.appendChild(r)),n.appendChild(e),{rectEl:e,ctrlsEl:t}}function dR(n,e,t,r,a){const{x:o,y:l,w:s,h:u,angle:f}=n.rect;Object.assign(e.style,{left:`${o*r.w}px`,top:`${l*r.h}px`,width:`${s*r.w}px`,height:`${u*r.h}px`,rotate:`${f}rad`}),Object.entries(a(n.rect)).forEach(([m,{x:b,y:_,w:E,h:c}])=>{Object.assign(t[m].style,{display:"block",left:"50%",top:"50%",width:`${E*r.w}px`,height:`${c*r.h}px`,transform:`translate(${b*r.w}px, ${_*r.h}px)`})})}function vge(n,e,t){const r={w:n.clientWidth/n.width,h:n.clientHeight/n.height},a=new ResizeObserver(()=>{r.w=n.clientWidth/n.width,r.h=n.clientHeight/n.height});a.observe(n);const o=l=>{if(l.button!==0)return;const{offsetX:s,offsetY:u}=l,f=s/r.w,m=u/r.h;if(e.activeSprite!=null){const[b]=Object.entries(t(e.activeSprite.rect)).find(([,_])=>_.checkHit(f,m))??[];if(b!=null)return}e.activeSprite=e.getSprites().reverse().find(b=>b.visible&&b.rect.checkHit(f,m))??null};return n.addEventListener("pointerdown",o),()=>{a.disconnect(),n.removeEventListener("pointerdown",o)}}function yge(n,e,t,r){const a={w:n.clientWidth/n.width,h:n.clientHeight/n.height},o=new ResizeObserver(()=>{a.w=n.clientWidth/n.width,a.h=n.clientHeight/n.height});o.observe(n);let l=0,s=0,u=null;const f=wge(n,t);let m=null;const b=c=>{if(c.button!==0||e.activeSprite==null)return;m=e.activeSprite;const{offsetX:p,offsetY:g,clientX:y,clientY:C}=c;xge({rect:m.rect,offsetX:p,offsetY:g,clientX:y,clientY:C,cvsRatio:a,cvsEl:n,rectCtrlsGetter:r})||(u=m.rect.clone(),f.magneticEffect(m.rect.x,m.rect.y,m.rect),l=y,s=C,window.addEventListener("pointermove",_),window.addEventListener("pointerup",E))},_=c=>{if(m==null||u==null)return;const{clientX:p,clientY:g}=c;let y=u.x+(p-l)/a.w,C=u.y+(g-s)/a.h;JG(m.rect,n,f.magneticEffect(y,C,m.rect))};n.addEventListener("pointerdown",b);const E=()=>{f.hide(),window.removeEventListener("pointermove",_),window.removeEventListener("pointerup",E)};return()=>{o.disconnect(),f.destroy(),E(),n.removeEventListener("pointerdown",b)}}function bge({sprRect:n,startX:e,startY:t,ctrlKey:r,cvsRatio:a,cvsEl:o}){const l=n.clone(),s=f=>{const{clientX:m,clientY:b}=f,_=(m-e)/a.w,E=(b-t)/a.h,c=r.length===1?Sge:_ge,{x:p,y:g,w:y,h:C}=l,T=Math.atan2(C,y),{incW:M,incH:O,incS:B,rotateAngle:D}=c({deltaX:_,deltaY:E,angle:n.angle,ctrlKey:r,diagonalAngle:T}),F=10;let z=y,U=C,$=l.fixedScaleCenter?M*2:M,J=l.fixedScaleCenter?O*2:O,W=B;const Q=Math.sqrt(C**2+y**2),ae=Math.sqrt((F*(C/y))**2+F**2);switch(r){case"l":z=Math.max(y+$,F),W=Math.min(B,y-F);break;case"r":z=Math.max(y+$,F),W=Math.max(B,F-y);break;case"b":U=Math.max(C+J,F),W=Math.min(B,C-F);break;case"t":U=Math.max(C+J,F),W=Math.max(B,F-C);break;case"lt":case"lb":z=Math.max(y+$,F),U=z===F?C/y*z:C+J,W=Math.min(B,Q-ae);break;case"rt":case"rb":z=Math.max(y+$,F),U=z===F?C/y*z:C+J,W=Math.max(B,ae-Q);break}let Y=p,K=g;if(l.fixedScaleCenter)Y=p+y/2-z/2,K=g+C/2-U/2;else{const ee=W/2*Math.cos(D)+p+y/2,de=W/2*Math.sin(D)+g+C/2;Y=ee-z/2,K=de-U/2}JG(n,o,{x:Y,y:K,w:z,h:U})},u=()=>{window.removeEventListener("pointermove",s),window.removeEventListener("pointerup",u)};window.addEventListener("pointermove",s),window.addEventListener("pointerup",u)}function Sge({deltaX:n,deltaY:e,angle:t,ctrlKey:r}){let a=0,o=0,l=0,s=t;return r==="l"||r==="r"?(a=n*Math.cos(t)+e*Math.sin(t),o=a*(r==="l"?-1:1)):(r==="t"||r==="b")&&(s=t-Math.PI/2,a=n*Math.cos(s)+e*Math.sin(s),l=a*(r==="b"?-1:1)),{incW:o,incH:l,incS:a,rotateAngle:s}}function _ge({deltaX:n,deltaY:e,angle:t,ctrlKey:r,diagonalAngle:a}){const o=(r==="lt"||r==="rb"?1:-1)*a+t,l=n*Math.cos(o)+e*Math.sin(o),s=r==="lt"||r==="lb"?-1:1,u=l*Math.cos(a)*s,f=l*Math.sin(a)*s;return{incW:u,incH:f,incS:l,rotateAngle:o}}function xge({rect:n,cvsRatio:e,offsetX:t,offsetY:r,clientX:a,clientY:o,cvsEl:l,rectCtrlsGetter:s}){const u=t/e.w,f=r/e.h,[m]=Object.entries(s(n)).find(([,b])=>b.checkHit(u,f))??[];return m==null?!1:(m==="rotate"?Cge(n,Ege(n.center,e,l)):bge({sprRect:n,ctrlKey:m,startX:a,startY:o,cvsRatio:e,cvsEl:l}),!0)}function Cge(n,e){const t=({clientX:a,clientY:o})=>{const l=a-e.x,s=o-e.y,u=Math.atan2(s,l)+Math.PI/2;n.angle=u},r=()=>{window.removeEventListener("pointermove",t),window.removeEventListener("pointerup",r)};window.addEventListener("pointermove",t),window.addEventListener("pointerup",r)}function Ege(n,e,t){const r=n.x*e.w,a=n.y*e.h,{left:o,top:l}=t.getBoundingClientRect();return{x:r+o,y:a+l}}function JG(n,e,t){const r={x:n.x,y:n.y,w:n.w,h:n.h,...t},a=e.width*.05,o=e.height*.05;r.x<-r.w+a?r.x=-r.w+a:r.x>e.width-a&&(r.x=e.width-a),r.y<-r.h+o?r.y=-r.h+o:r.y>e.height-o&&(r.y=e.height-o),n.x=r.x,n.y=r.y,n.w=r.w,n.h=r.h}function wge(n,e){const t="display: none; position: absolute;",r={w:0,h:0,x:0,y:0},a={vertMiddle:{...r,h:100,x:50,ref:{prop:"x",val:({w:u})=>(n.width-u)/2}},horMiddle:{...r,w:100,y:50,ref:{prop:"y",val:({h:u})=>(n.height-u)/2}},top:{...r,w:100,ref:{prop:"y",val:()=>0}},bottom:{...r,w:100,y:100,ref:{prop:"y",val:({h:u})=>n.height-u}},left:{...r,h:100,ref:{prop:"x",val:()=>0}},right:{...r,h:100,x:100,ref:{prop:"x",val:({w:u})=>n.width-u}}},o=E0("div");o.style.cssText=`
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    pointer-events: none;
    box-sizing: border-box;
  `;const l=Object.fromEntries(Object.entries(a).map(([u,{w:f,h:m,x:b,y:_}])=>{const E=E0("div");return E.style.cssText=`
        ${t}
        border-${f>0?"top":"left"}: 1px solid #3ee;
        top: ${_}%; left: ${b}%;
        ${b===100?"margin-left: -1px":""};
        ${_===100?"margin-top: -1px":""};
        width: ${f}%; height: ${m}%;
      `,o.appendChild(E),[u,E]}));e.appendChild(o);const s=6/(900/n.width);return{magneticEffect(u,f,m){const b={x:u,y:f};let _,E={x:!1,y:!1};for(_ in a){const{prop:c,val:p}=a[_].ref;if(E[c])continue;const g=p(m);Math.abs(m[c]-g)<=s&&Math.abs(m[c]-(c==="x"?u:f))<=s?(b[c]=g,l[_].style.display="block",E[c]=!0):l[_].style.display="none"}return b},hide(){Object.values(l).forEach(u=>u.style.display="none")},destroy(){o.remove()}}}function Age(n,e,t){const r={w:n.clientWidth/n.width,h:n.clientHeight/n.height},a=new ResizeObserver(()=>{r.w=n.clientWidth/n.width,r.h=n.clientHeight/n.height});a.observe(n);const o=n.style;let l=e.activeSprite;e.on(SS.ActiveSpriteChange,E=>{l=E,E==null&&(o.cursor="")});let s=!1;const u=({offsetX:E,offsetY:c})=>{s=!0;const p=E/r.w,g=c/r.h;(l==null?void 0:l.rect.checkHit(p,g))===!0&&o.cursor===""&&(o.cursor="move")},f=()=>{s=!1},m=["ns-resize","nesw-resize","ew-resize","nwse-resize","ns-resize","nesw-resize","ew-resize","nwse-resize"],b={t:0,rt:1,r:2,rb:3,b:4,lb:5,l:6,lt:7},_=E=>{if(l==null||s)return;const{offsetX:c,offsetY:p}=E,g=c/r.w,y=p/r.h,[C]=Object.entries(t(l.rect)).find(([,T])=>T.checkHit(g,y))??[];if(C!=null){if(C==="rotate"){o.cursor="crosshair";return}const T=l.rect.angle,M=T<0?T+2*Math.PI:T,O=(b[C]+Math.floor((M+Math.PI/8)/(Math.PI/4)))%8;o.cursor=m[O];return}if(l.rect.checkHit(g,y)){o.cursor="move";return}o.cursor=""};return n.addEventListener("pointermove",_),n.addEventListener("pointerdown",u),window.addEventListener("pointerup",f),()=>{a.disconnect(),n.removeEventListener("pointermove",_),n.removeEventListener("pointerdown",u),window.removeEventListener("pointerup",f)}}const Mge={sampleRate:48e3};function Tge(n){const e=E0("canvas");return e.style.cssText=`
    width: 100%;
    height: 100%;
    display: block;
    touch-action: none;
  `,e.width=n.width,e.height=n.height,e}var ho,Ia,Wv,E1,w1,A1,Eh,M1,Th,nf,JE,QE,as,lm,cm,QG,Lc,T1;class Rge{constructor(e,t){Ba(this,nf),Ba(this,ho),Ba(this,Ia),Ba(this,Wv),Ba(this,E1,!1),Ba(this,w1,[]),Ba(this,A1),Ba(this,Eh,new zm),C1(this,"on",Gt(this,Eh).on),Ba(this,M1),Ba(this,Th,0),Ba(this,as,new AudioContext),Ba(this,lm,Gt(this,as).createMediaStreamDestination()),Ba(this,cm,new Set),Ba(this,Lc,{start:0,end:0,step:0,audioPlayAt:0}),Ba(this,T1,new WeakMap),C1(this,"addSprite",async b=>{Gt(this,as).state==="suspended"&&Gt(this,as).resume().catch(di.error);const _=b.getClip();if(_ instanceof Jme&&_.audioTrack!=null){const E=Gt(this,as).createMediaStreamSource(new MediaStream([_.audioTrack]));E.connect(Gt(this,lm)),Gt(this,T1).set(b,E)}await Gt(this,Ia).addSprite(b)}),C1(this,"removeSprite",b=>{var _;(_=Gt(this,T1).get(b))==null||_.disconnect(),Gt(this,Ia).removeSprite(b)}),Zs(this,M1,t),Zs(this,ho,Tge(t));const r=Gt(this,ho).getContext("2d",{alpha:!1});if(r==null)throw Error("canvas context is null");Zs(this,Wv,r);const a=E0("div");a.style.cssText="width: 100%; height: 100%; position: relative; overflow: hidden;",a.appendChild(Gt(this,ho)),e.appendChild(a),Ige(Gt(this,as)).connect(Gt(this,lm)),Zs(this,Ia,new pge);const{rectCtrlsGetter:o,destroy:l}=hge(Gt(this,ho));Gt(this,w1).push(l,vge(Gt(this,ho),Gt(this,Ia),o),Age(Gt(this,ho),Gt(this,Ia),o),yge(Gt(this,ho),Gt(this,Ia),a,o),mge(a,Gt(this,ho),Gt(this,Ia),o),Gt(this,Ia).on(SS.AddSprite,b=>{const{rect:_}=b;_.x===0&&_.y===0&&(_.x=(Gt(this,ho).width-_.w)/2,_.y=(Gt(this,ho).height-_.h)/2)}),zm.forwardEvent(Gt(this,Ia),Gt(this,Eh),[SS.ActiveSpriteChange]));let s=Gt(this,Th),u=performance.now(),f=0;const m=1e3/30;Zs(this,A1,lB(()=>{(performance.now()-u)/(m*f)<1||(f+=1,Gt(this,Wv).fillStyle=t.bgColor,Gt(this,Wv).fillRect(0,0,Gt(this,ho).width,Gt(this,ho).height),sm(this,nf,QG).call(this),s!==Gt(this,Th)&&(s=Gt(this,Th),Gt(this,Eh).emit("timeupdate",Math.round(s))))},m))}play(e){const t=Gt(this,Ia).getSprites({time:!1}).map(a=>a.time.offset+a.time.duration),r=e.end??(t.length>0?Math.max(...t):1/0);if(e.start>=r||e.start<0)throw Error(`Invalid time parameter, ${JSON.stringify({start:e.start,end:r})}`);sm(this,nf,JE).call(this,e.start),Gt(this,Ia).getSprites({time:!1}).forEach(a=>{const{offset:o,duration:l}=a.time,s=Gt(this,Th)-o;a.preFrame(s>0&&s<l?s:0)}),Gt(this,Lc).start=e.start,Gt(this,Lc).end=r,Gt(this,Lc).step=(e.playbackRate??1)*(1e3/30)*1e3,Gt(this,as).resume(),Gt(this,Lc).audioPlayAt=0,Gt(this,Eh).emit("playing"),di.info("AVCanvs play by:",Gt(this,Lc))}pause(){sm(this,nf,QE).call(this)}previewFrame(e){sm(this,nf,JE).call(this,e),sm(this,nf,QE).call(this)}captureImage(){return Gt(this,ho).toDataURL()}get activeSprite(){return Gt(this,Ia).activeSprite}set activeSprite(e){Gt(this,Ia).activeSprite=e}destroy(){var e;Gt(this,E1)||(Zs(this,E1,!0),Gt(this,as).close(),Gt(this,lm).disconnect(),Gt(this,Eh).destroy(),Gt(this,A1).call(this),(e=Gt(this,ho).parentElement)==null||e.remove(),Gt(this,w1).forEach(t=>t()),Gt(this,cm).clear(),Gt(this,Ia).destroy())}captureStream(){Gt(this,as).state==="suspended"&&Gt(this,as).resume().catch(di.error);const e=new MediaStream(Gt(this,ho).captureStream().getTracks().concat(Gt(this,lm).stream.getTracks()));return di.info("AVCanvas.captureStream, tracks:",e.getTracks().map(t=>t.kind)),e}async createCombinator(e={}){di.info("AVCanvas.createCombinator, opts:",e);const t=new age({...Gt(this,M1),...e}),r=Gt(this,Ia).getSprites({time:!1});if(r.length===0)throw Error("No sprite added");for(const a of r){const o=new nge(a.getClip());o.time={...a.time},a.copyStateTo(o),await t.addSprite(o)}return t}}ho=new WeakMap,Ia=new WeakMap,Wv=new WeakMap,E1=new WeakMap,w1=new WeakMap,A1=new WeakMap,Eh=new WeakMap,M1=new WeakMap,Th=new WeakMap,nf=new WeakSet,JE=function(n){Zs(this,Th,n),Gt(this,Ia).updateRenderTime(n)},QE=function(){const n=Gt(this,Lc).step!==0;Gt(this,Lc).step=0,n&&(Gt(this,Eh).emit("paused"),Gt(this,as).suspend());for(const e of Gt(this,cm))e.stop(),e.disconnect();Gt(this,cm).clear()},as=new WeakMap,lm=new WeakMap,cm=new WeakMap,QG=function(){var n;const e=Gt(this,Wv);let t=Gt(this,Th);const{start:r,end:a,step:o,audioPlayAt:l}=Gt(this,Lc);o!==0&&t>=r&&t<a?t+=o:sm(this,nf,QE).call(this),sm(this,nf,JE).call(this,t);const s=[];for(const u of Gt(this,Ia).getSprites()){e.save();const{audio:f}=u.render(e,t-u.time.offset);e.restore(),s.push(f)}if(e.resetTransform(),o!==0){const u=Math.max(Gt(this,as).currentTime,l),f=Oge(s,Gt(this,as));let m=0;for(const b of f)b.start(u),b.connect(Gt(this,as).destination),b.connect(Gt(this,lm)),Gt(this,cm).add(b),b.onended=()=>{b.disconnect(),Gt(this,cm).delete(b)},m=Math.max(m,((n=b.buffer)==null?void 0:n.duration)??0);Gt(this,Lc).audioPlayAt=u+m}},Lc=new WeakMap,T1=new WeakMap;function Oge(n,e){const t=[];if(n.length===0)return t;for(const[r,a]of n){if(r==null||r.length<=0)continue;const o=e.createBuffer(2,r.length,Mge.sampleRate);o.copyToChannel(r,0),o.copyToChannel(a??r,1);const l=e.createBufferSource();l.buffer=o,t.push(l)}return t}function Ige(n){const e=n.createOscillator(),t=new Float32Array([0,0]),r=new Float32Array([0,0]),a=n.createPeriodicWave(t,r,{disableNormalization:!0});return e.setPeriodicWave(a),e.start(),e}function ZG(){var n=this.constructor.getDerivedStateFromProps(this.props,this.state);n!=null&&this.setState(n)}function ek(n){function e(t){var r=this.constructor.getDerivedStateFromProps(n,t);return r??null}this.setState(e.bind(this))}function tk(n,e){try{var t=this.props,r=this.state;this.props=n,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(t,r)}finally{this.props=t,this.state=r}}ZG.__suppressDeprecationWarning=!0;ek.__suppressDeprecationWarning=!0;tk.__suppressDeprecationWarning=!0;function t_(n){var e=n.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof n.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return n;var t=null,r=null,a=null;if(typeof e.componentWillMount=="function"?t="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(t="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?a="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(a="UNSAFE_componentWillUpdate"),t!==null||r!==null||a!==null){var o=n.displayName||n.name,l=typeof n.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+l+" but also contains the following legacy lifecycles:"+(t!==null?`
  `+t:"")+(r!==null?`
  `+r:"")+(a!==null?`
  `+a:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof n.getDerivedStateFromProps=="function"&&(e.componentWillMount=ZG,e.componentWillReceiveProps=ek),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=tk;var s=e.componentDidUpdate;e.componentDidUpdate=function(f,m,b){var _=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:b;s.call(this,f,m,_)}}return n}function hz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function pz(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?hz(Object(t),!0).forEach(function(r){ue(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):hz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Bge(n,e,t){return e=Pi(e),Ho(n,nk()?Reflect.construct(e,t||[],Pi(n).constructor):e.apply(n,t))}function nk(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nk=function(){return!!n})()}var ik=function(n){function e(){var t;ai(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=Bge(this,e,[].concat(a)),ue(t,"state",{scrollToColumn:0,scrollToRow:0,instanceProps:{prevScrollToColumn:0,prevScrollToRow:0}}),ue(t,"_columnStartIndex",0),ue(t,"_columnStopIndex",0),ue(t,"_rowStartIndex",0),ue(t,"_rowStopIndex",0),ue(t,"_onKeyDown",function(l){var s=t.props,u=s.columnCount,f=s.disabled,m=s.mode,b=s.rowCount;if(!f){var _=t._getScrollState(),E=_.scrollToColumn,c=_.scrollToRow,p=t._getScrollState(),g=p.scrollToColumn,y=p.scrollToRow;switch(l.key){case"ArrowDown":y=Math.min(m==="cells"?y+1:t._rowStopIndex+1,b-1);break;case"ArrowLeft":g=Math.max(m==="cells"?g-1:t._columnStartIndex-1,0);break;case"ArrowRight":g=Math.min(m==="cells"?g+1:t._columnStopIndex+1,u-1);break;case"ArrowUp":y=Math.max(m==="cells"?y-1:t._rowStartIndex-1,0);break}(g!==E||y!==c)&&(l.preventDefault(),t._updateScrollState({scrollToColumn:g,scrollToRow:y}))}}),ue(t,"_onSectionRendered",function(l){var s=l.columnStartIndex,u=l.columnStopIndex,f=l.rowStartIndex,m=l.rowStopIndex;t._columnStartIndex=s,t._columnStopIndex=u,t._rowStartIndex=f,t._rowStopIndex=m}),t}return Ar(e,n),oi(e,[{key:"setScrollIndexes",value:function(r){var a=r.scrollToColumn,o=r.scrollToRow;this.setState({scrollToRow:o,scrollToColumn:a})}},{key:"render",value:function(){var r=this.props,a=r.className,o=r.children,l=this._getScrollState(),s=l.scrollToColumn,u=l.scrollToRow;return w.createElement("div",{className:a,onKeyDown:this._onKeyDown},o({onSectionRendered:this._onSectionRendered,scrollToColumn:s,scrollToRow:u}))}},{key:"_getScrollState",value:function(){return this.props.isControlled?this.props:this.state}},{key:"_updateScrollState",value:function(r){var a=r.scrollToColumn,o=r.scrollToRow,l=this.props,s=l.isControlled,u=l.onScrollToChange;typeof u=="function"&&u({scrollToColumn:a,scrollToRow:o}),s||this.setState({scrollToColumn:a,scrollToRow:o})}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.isControlled?{}:r.scrollToColumn!==a.instanceProps.prevScrollToColumn||r.scrollToRow!==a.instanceProps.prevScrollToRow?pz(pz({},a),{},{scrollToColumn:r.scrollToColumn,scrollToRow:r.scrollToRow,instanceProps:{prevScrollToColumn:r.scrollToColumn,prevScrollToRow:r.scrollToRow}}):{}}}])}(w.PureComponent);ue(ik,"defaultProps",{disabled:!1,isControlled:!1,mode:"edges",scrollToColumn:0,scrollToRow:0});t_(ik);function rk(n,e){var t;typeof e<"u"?t=e:typeof window<"u"?t=window:typeof self<"u"?t=self:t=global;var r=typeof t.document<"u"&&t.document.attachEvent;if(!r){var a=function(){var D=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||function(F){return t.setTimeout(F,20)};return function(F){return D(F)}}(),o=function(){var D=t.cancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelAnimationFrame||t.clearTimeout;return function(F){return D(F)}}(),l=function(F){var z=F.__resizeTriggers__,U=z.firstElementChild,$=z.lastElementChild,J=U.firstElementChild;$.scrollLeft=$.scrollWidth,$.scrollTop=$.scrollHeight,J.style.width=U.offsetWidth+1+"px",J.style.height=U.offsetHeight+1+"px",U.scrollLeft=U.scrollWidth,U.scrollTop=U.scrollHeight},s=function(F){return F.offsetWidth!=F.__resizeLast__.width||F.offsetHeight!=F.__resizeLast__.height},u=function(F){if(!(F.target.className&&typeof F.target.className.indexOf=="function"&&F.target.className.indexOf("contract-trigger")<0&&F.target.className.indexOf("expand-trigger")<0)){var z=this;l(this),this.__resizeRAF__&&o(this.__resizeRAF__),this.__resizeRAF__=a(function(){s(z)&&(z.__resizeLast__.width=z.offsetWidth,z.__resizeLast__.height=z.offsetHeight,z.__resizeListeners__.forEach(function(U){U.call(z,F)}))})}},f=!1,m="",b="animationstart",_="Webkit Moz O ms".split(" "),E="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),c="";{var p=t.document.createElement("fakeelement");if(p.style.animationName!==void 0&&(f=!0),f===!1){for(var g=0;g<_.length;g++)if(p.style[_[g]+"AnimationName"]!==void 0){c=_[g],m="-"+c.toLowerCase()+"-",b=E[g],f=!0;break}}}var y="resizeanim",C="@"+m+"keyframes "+y+" { from { opacity: 0; } to { opacity: 0; } } ",T=m+"animation: 1ms "+y+"; "}var M=function(F){if(!F.getElementById("detectElementResize")){var z=(C||"")+".resize-triggers { "+(T||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',U=F.head||F.getElementsByTagName("head")[0],$=F.createElement("style");$.id="detectElementResize",$.type="text/css",n!=null&&$.setAttribute("nonce",n),$.styleSheet?$.styleSheet.cssText=z:$.appendChild(F.createTextNode(z)),U.appendChild($)}},O=function(F,z){if(r)F.attachEvent("onresize",z);else{if(!F.__resizeTriggers__){var U=F.ownerDocument,$=t.getComputedStyle(F);$&&$.position=="static"&&(F.style.position="relative"),M(U),F.__resizeLast__={},F.__resizeListeners__=[],(F.__resizeTriggers__=U.createElement("div")).className="resize-triggers";var J=U.createElement("div");J.className="expand-trigger",J.appendChild(U.createElement("div"));var W=U.createElement("div");W.className="contract-trigger",F.__resizeTriggers__.appendChild(J),F.__resizeTriggers__.appendChild(W),F.appendChild(F.__resizeTriggers__),l(F),F.addEventListener("scroll",u,!0),b&&(F.__resizeTriggers__.__animationListener__=function(ae){ae.animationName==y&&l(F)},F.__resizeTriggers__.addEventListener(b,F.__resizeTriggers__.__animationListener__))}F.__resizeListeners__.push(z)}},B=function(F,z){if(r)F.detachEvent("onresize",z);else if(F.__resizeListeners__.splice(F.__resizeListeners__.indexOf(z),1),!F.__resizeListeners__.length){F.removeEventListener("scroll",u,!0),F.__resizeTriggers__.__animationListener__&&(F.__resizeTriggers__.removeEventListener(b,F.__resizeTriggers__.__animationListener__),F.__resizeTriggers__.__animationListener__=null);try{F.__resizeTriggers__=!F.removeChild(F.__resizeTriggers__)}catch{}}};return{addResizeListener:O,removeResizeListener:B}}function mz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function gz(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?mz(Object(t),!0).forEach(function(r){ue(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):mz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Dge(n,e,t){return e=Pi(e),Ho(n,ak()?Reflect.construct(e,t||[],Pi(n).constructor):e.apply(n,t))}function ak(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ak=function(){return!!n})()}var gB=function(n){function e(){var t;ai(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=Dge(this,e,[].concat(a)),ue(t,"state",{height:t.props.defaultHeight||0,width:t.props.defaultWidth||0}),ue(t,"_parentNode",void 0),ue(t,"_autoSizer",void 0),ue(t,"_window",void 0),ue(t,"_detectElementResize",void 0),ue(t,"_onResize",function(){var l=t.props,s=l.disableHeight,u=l.disableWidth,f=l.onResize;if(t._parentNode){var m=t._parentNode.offsetHeight||0,b=t._parentNode.offsetWidth||0,_=t._window||window,E=_.getComputedStyle(t._parentNode)||{},c=parseInt(E.paddingLeft,10)||0,p=parseInt(E.paddingRight,10)||0,g=parseInt(E.paddingTop,10)||0,y=parseInt(E.paddingBottom,10)||0,C=m-g-y,T=b-c-p;(!s&&t.state.height!==C||!u&&t.state.width!==T)&&(t.setState({height:m-g-y,width:b-c-p}),f({height:m,width:b}))}}),ue(t,"_setRef",function(l){t._autoSizer=l}),t}return Ar(e,n),oi(e,[{key:"componentDidMount",value:function(){var r=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._window=this._autoSizer.parentNode.ownerDocument.defaultView,this._detectElementResize=rk(r,this._window),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var r=this.props,a=r.children,o=r.className,l=r.disableHeight,s=r.disableWidth,u=r.style,f=this.state,m=f.height,b=f.width,_={overflow:"visible"},E={};return l||(_.height=0,E.height=m),s||(_.width=0,E.width=b),w.createElement("div",{className:o,ref:this._setRef,style:gz(gz({},_),u)},a(E))}}])}(w.Component);ue(gB,"defaultProps",{onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}});function Pge(n,e,t){return e=Pi(e),Ho(n,ok()?Reflect.construct(e,t||[],Pi(n).constructor):e.apply(n,t))}function ok(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ok=function(){return!!n})()}var Lge=function(n){function e(){var t;ai(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=Pge(this,e,[].concat(a)),ue(t,"_child",w.createRef()),ue(t,"_measure",function(){var l=t.props,s=l.cache,u=l.columnIndex,f=u===void 0?0:u,m=l.parent,b=l.rowIndex,_=b===void 0?t.props.index||0:b,E=t._getCellMeasurements(),c=E.height,p=E.width;(c!==s.getHeight(_,f)||p!==s.getWidth(_,f))&&(s.set(_,f,p,c),m&&typeof m.recomputeGridSize=="function"&&m.recomputeGridSize({columnIndex:f,rowIndex:_}))}),ue(t,"_registerChild",function(l){l&&!(l instanceof Element)&&console.warn("CellMeasurer registerChild expects to be passed Element or null"),t._child.current=l,l&&t._maybeMeasureCell()}),t}return Ar(e,n),oi(e,[{key:"componentDidMount",value:function(){this._maybeMeasureCell()}},{key:"componentDidUpdate",value:function(){this._maybeMeasureCell()}},{key:"render",value:function(){var r=this,a=this.props.children,o=typeof a=="function"?a({measure:this._measure,registerChild:this._registerChild}):a;return o===null?o:w.cloneElement(o,{ref:function(s){typeof o.ref=="function"?o.ref(s):o.ref&&(o.ref.current=s),r._child.current=s}})}},{key:"_getCellMeasurements",value:function(){var r=this.props.cache,a=this._child.current;if(a&&a.ownerDocument&&a.ownerDocument.defaultView&&a instanceof a.ownerDocument.defaultView.HTMLElement){var o=a.style.width,l=a.style.height;r.hasFixedWidth()||(a.style.width="auto"),r.hasFixedHeight()||(a.style.height="auto");var s=Math.ceil(a.offsetHeight),u=Math.ceil(a.offsetWidth);return o&&(a.style.width=o),l&&(a.style.height=l),{height:s,width:u}}else return{height:0,width:0}}},{key:"_maybeMeasureCell",value:function(){var r=this.props,a=r.cache,o=r.columnIndex,l=o===void 0?0:o,s=r.parent,u=r.rowIndex,f=u===void 0?this.props.index||0:u;if(!a.has(f,l)){var m=this._getCellMeasurements(),b=m.height,_=m.width;a.set(f,l,_,b),s&&typeof s.invalidateCellSizeAfterRender=="function"&&s.invalidateCellSizeAfterRender({columnIndex:l,rowIndex:f})}}}])}(w.PureComponent);ue(Lge,"__internalCellMeasurerFlag",!1);function sk(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=sk(n[e]))&&(r&&(r+=" "),r+=t);else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function Nc(){for(var n,e,t=0,r="";t<arguments.length;)(n=arguments[t++])&&(e=sk(n))&&(r&&(r+=" "),r+=e);return r}function w0(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e={};return function(t){var r=t.callback,a=t.indices,o=Object.keys(a),l=!n||o.every(function(u){var f=a[u];return Array.isArray(f)?f.length>0:f>=0}),s=o.length!==Object.keys(e).length||o.some(function(u){var f=e[u],m=a[u];return Array.isArray(m)?f.join(",")!==m.join(","):f!==m});e=a,l&&s&&r(a)}}const Nge=!!(typeof window<"u"&&window.document&&window.document.createElement);var MC;function cO(n){if((!MC&&MC!==0||n)&&Nge){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),MC=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return MC}function vz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function yz(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?vz(Object(t),!0).forEach(function(r){ue(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):vz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function zge(n,e,t){return e=Pi(e),Ho(n,lk()?Reflect.construct(e,t||[],Pi(n).constructor):e.apply(n,t))}function lk(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lk=function(){return!!n})()}var Uge=150,hv={OBSERVED:"observed",REQUESTED:"requested"},CA=function(n){function e(){var t;ai(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=zge(this,e,[].concat(a)),ue(t,"state",{isScrolling:!1,scrollLeft:0,scrollTop:0}),ue(t,"_calculateSizeAndPositionDataOnNextUpdate",!1),ue(t,"_onSectionRenderedMemoizer",w0()),ue(t,"_onScrollMemoizer",w0(!1)),ue(t,"_invokeOnSectionRenderedHelper",function(){var l=t.props,s=l.cellLayoutManager,u=l.onSectionRendered;t._onSectionRenderedMemoizer({callback:u,indices:{indices:s.getLastRenderedIndices()}})}),ue(t,"_setScrollingContainerRef",function(l){t._scrollingContainer=l}),ue(t,"_updateScrollPositionForScrollToCell",function(){var l=t.props,s=l.cellLayoutManager,u=l.height,f=l.scrollToAlignment,m=l.scrollToCell,b=l.width,_=t.state,E=_.scrollLeft,c=_.scrollTop;if(m>=0){var p=s.getScrollPositionForCell({align:f,cellIndex:m,height:u,scrollLeft:E,scrollTop:c,width:b});(p.scrollLeft!==E||p.scrollTop!==c)&&t._setScrollPosition(p)}}),ue(t,"_onScroll",function(l){if(l.target===t._scrollingContainer){t._enablePointerEventsAfterDelay();var s=t.props,u=s.cellLayoutManager,f=s.height,m=s.isScrollingChange,b=s.width,_=t._scrollbarSize,E=u.getTotalSize(),c=E.height,p=E.width,g=Math.max(0,Math.min(p-b+_,l.target.scrollLeft)),y=Math.max(0,Math.min(c-f+_,l.target.scrollTop));if(t.state.scrollLeft!==g||t.state.scrollTop!==y){var C=l.cancelable?hv.OBSERVED:hv.REQUESTED;t.state.isScrolling||m(!0),t.setState({isScrolling:!0,scrollLeft:g,scrollPositionChangeReason:C,scrollTop:y})}t._invokeOnScrollMemoizer({scrollLeft:g,scrollTop:y,totalWidth:p,totalHeight:c})}}),t._scrollbarSize=cO(),t._scrollbarSize===void 0?(t._scrollbarSizeMeasured=!1,t._scrollbarSize=0):t._scrollbarSizeMeasured=!0,t}return Ar(e,n),oi(e,[{key:"recomputeCellSizesAndPositions",value:function(){this._calculateSizeAndPositionDataOnNextUpdate=!0,this.forceUpdate()}},{key:"componentDidMount",value:function(){var r=this.props,a=r.cellLayoutManager,o=r.scrollLeft,l=r.scrollToCell,s=r.scrollTop;this._scrollbarSizeMeasured||(this._scrollbarSize=cO(),this._scrollbarSizeMeasured=!0,this.setState({})),l>=0?this._updateScrollPositionForScrollToCell():(o>=0||s>=0)&&this._setScrollPosition({scrollLeft:o,scrollTop:s}),this._invokeOnSectionRenderedHelper();var u=a.getTotalSize(),f=u.height,m=u.width;this._invokeOnScrollMemoizer({scrollLeft:o||0,scrollTop:s||0,totalHeight:f,totalWidth:m})}},{key:"componentDidUpdate",value:function(r,a){var o=this.props,l=o.height,s=o.scrollToAlignment,u=o.scrollToCell,f=o.width,m=this.state,b=m.scrollLeft,_=m.scrollPositionChangeReason,E=m.scrollTop;_===hv.REQUESTED&&(b>=0&&b!==a.scrollLeft&&b!==this._scrollingContainer.scrollLeft&&(this._scrollingContainer.scrollLeft=b),E>=0&&E!==a.scrollTop&&E!==this._scrollingContainer.scrollTop&&(this._scrollingContainer.scrollTop=E)),(l!==r.height||s!==r.scrollToAlignment||u!==r.scrollToCell||f!==r.width)&&this._updateScrollPositionForScrollToCell(),this._invokeOnSectionRenderedHelper()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var r=this.props,a=r.autoHeight,o=r.cellCount,l=r.cellLayoutManager,s=r.className,u=r.height,f=r.horizontalOverscanSize,m=r.id,b=r.noContentRenderer,_=r.style,E=r.verticalOverscanSize,c=r.width,p=this.state,g=p.isScrolling,y=p.scrollLeft,C=p.scrollTop;(this._lastRenderedCellCount!==o||this._lastRenderedCellLayoutManager!==l||this._calculateSizeAndPositionDataOnNextUpdate)&&(this._lastRenderedCellCount=o,this._lastRenderedCellLayoutManager=l,this._calculateSizeAndPositionDataOnNextUpdate=!1,l.calculateSizeAndPositionData());var T=l.getTotalSize(),M=T.height,O=T.width,B=Math.max(0,y-f),D=Math.max(0,C-E),F=Math.min(O,y+c+f),z=Math.min(M,C+u+E),U=u>0&&c>0?l.cellRenderers({height:z-D,isScrolling:g,width:F-B,x:B,y:D}):[],$={boxSizing:"border-box",direction:"ltr",height:a?"auto":u,position:"relative",WebkitOverflowScrolling:"touch",width:c,willChange:"transform"},J=M>u?this._scrollbarSize:0,W=O>c?this._scrollbarSize:0;return $.overflowX=O+J<=c?"hidden":"auto",$.overflowY=M+W<=u?"hidden":"auto",w.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:Nc("ReactVirtualized__Collection",s),id:m,onScroll:this._onScroll,role:"grid",style:yz(yz({},$),_),tabIndex:0},o>0&&w.createElement("div",{className:"ReactVirtualized__Collection__innerScrollContainer",style:{height:M,maxHeight:M,maxWidth:O,overflow:"hidden",pointerEvents:g?"none":"",width:O}},U),o===0&&b())}},{key:"_enablePointerEventsAfterDelay",value:function(){var r=this;this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=setTimeout(function(){var a=r.props.isScrollingChange;a(!1),r._disablePointerEventsTimeoutId=null,r.setState({isScrolling:!1})},Uge)}},{key:"_invokeOnScrollMemoizer",value:function(r){var a=this,o=r.scrollLeft,l=r.scrollTop,s=r.totalHeight,u=r.totalWidth;this._onScrollMemoizer({callback:function(m){var b=m.scrollLeft,_=m.scrollTop,E=a.props,c=E.height,p=E.onScroll,g=E.width;p({clientHeight:c,clientWidth:g,scrollHeight:s,scrollLeft:b,scrollTop:_,scrollWidth:u})},indices:{scrollLeft:o,scrollTop:l}})}},{key:"_setScrollPosition",value:function(r){var a=r.scrollLeft,o=r.scrollTop,l={scrollPositionChangeReason:hv.REQUESTED};a>=0&&(l.scrollLeft=a),o>=0&&(l.scrollTop=o),(a>=0&&a!==this.state.scrollLeft||o>=0&&o!==this.state.scrollTop)&&this.setState(l)}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.cellCount===0&&(a.scrollLeft!==0||a.scrollTop!==0)?{scrollLeft:0,scrollTop:0,scrollPositionChangeReason:hv.REQUESTED}:r.scrollLeft!==a.scrollLeft||r.scrollTop!==a.scrollTop?{scrollLeft:r.scrollLeft!=null?r.scrollLeft:a.scrollLeft,scrollTop:r.scrollTop!=null?r.scrollTop:a.scrollTop,scrollPositionChangeReason:hv.REQUESTED}:null}}])}(w.PureComponent);ue(CA,"defaultProps",{"aria-label":"grid",horizontalOverscanSize:0,noContentRenderer:function(){return null},onScroll:function(){return null},onSectionRendered:function(){return null},scrollToAlignment:"auto",scrollToCell:-1,style:{},verticalOverscanSize:0});CA.propTypes={};t_(CA);var Fge=function(){function n(e){var t=e.height,r=e.width,a=e.x,o=e.y;ai(this,n),this.height=t,this.width=r,this.x=a,this.y=o,this._indexMap={},this._indices=[]}return oi(n,[{key:"addCellIndex",value:function(t){var r=t.index;this._indexMap[r]||(this._indexMap[r]=!0,this._indices.push(r))}},{key:"getCellIndices",value:function(){return this._indices}},{key:"toString",value:function(){return"".concat(this.x,",").concat(this.y," ").concat(this.width,"x").concat(this.height)}}])}(),Hge=100,Gge=function(){function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Hge;ai(this,n),this._sectionSize=e,this._cellMetadata=[],this._sections={}}return oi(n,[{key:"getCellIndices",value:function(t){var r=t.height,a=t.width,o=t.x,l=t.y,s={};return this.getSections({height:r,width:a,x:o,y:l}).forEach(function(u){return u.getCellIndices().forEach(function(f){s[f]=f})}),Object.keys(s).map(function(u){return s[u]})}},{key:"getCellMetadata",value:function(t){var r=t.index;return this._cellMetadata[r]}},{key:"getSections",value:function(t){for(var r=t.height,a=t.width,o=t.x,l=t.y,s=Math.floor(o/this._sectionSize),u=Math.floor((o+a-1)/this._sectionSize),f=Math.floor(l/this._sectionSize),m=Math.floor((l+r-1)/this._sectionSize),b=[],_=s;_<=u;_++)for(var E=f;E<=m;E++){var c="".concat(_,".").concat(E);this._sections[c]||(this._sections[c]=new Fge({height:this._sectionSize,width:this._sectionSize,x:_*this._sectionSize,y:E*this._sectionSize})),b.push(this._sections[c])}return b}},{key:"getTotalSectionCount",value:function(){return Object.keys(this._sections).length}},{key:"toString",value:function(){var t=this;return Object.keys(this._sections).map(function(r){return t._sections[r].toString()})}},{key:"registerCell",value:function(t){var r=t.cellMetadatum,a=t.index;this._cellMetadata[a]=r,this.getSections(r).forEach(function(o){return o.addCellIndex({index:a})})}}])}();function kge(n){for(var e=n.cellCount,t=n.cellSizeAndPositionGetter,r=n.sectionSize,a=[],o=new Gge(r),l=0,s=0,u=0;u<e;u++){var f=t({index:u});if(f.height==null||isNaN(f.height)||f.width==null||isNaN(f.width)||f.x==null||isNaN(f.x)||f.y==null||isNaN(f.y))throw Error("Invalid metadata returned for cell ".concat(u,`:
        x:`).concat(f.x,", y:").concat(f.y,", width:").concat(f.width,", height:").concat(f.height));l=Math.max(l,f.y+f.height),s=Math.max(s,f.x+f.width),a[u]=f,o.registerCell({cellMetadatum:f,index:u})}return{cellMetadata:a,height:l,sectionManager:o,width:s}}function bz(n){var e=n.align,t=e===void 0?"auto":e,r=n.cellOffset,a=n.cellSize,o=n.containerSize,l=n.currentOffset,s=r,u=s-o+a;switch(t){case"start":return s;case"end":return u;case"center":return s-(o-a)/2;default:return Math.max(u,Math.min(s,l))}}function $ge(n,e,t){return e=Pi(e),Ho(n,ck()?Reflect.construct(e,t||[],Pi(n).constructor):e.apply(n,t))}function ck(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ck=function(){return!!n})()}var uk=function(n){function e(t,r){var a;return ai(this,e),a=$ge(this,e,[t,r]),a._cellMetadata=[],a._lastRenderedCellIndices=[],a._cellCache=[],a._isScrollingChange=a._isScrollingChange.bind(a),a._setCollectionViewRef=a._setCollectionViewRef.bind(a),a}return Ar(e,n),oi(e,[{key:"forceUpdate",value:function(){this._collectionView!==void 0&&this._collectionView.forceUpdate()}},{key:"recomputeCellSizesAndPositions",value:function(){this._cellCache=[],this._collectionView.recomputeCellSizesAndPositions()}},{key:"render",value:function(){var r=Pt({},(wte(this.props),this.props));return w.createElement(CA,Pt({cellLayoutManager:this,isScrollingChange:this._isScrollingChange,ref:this._setCollectionViewRef},r))}},{key:"calculateSizeAndPositionData",value:function(){var r=this.props,a=r.cellCount,o=r.cellSizeAndPositionGetter,l=r.sectionSize,s=kge({cellCount:a,cellSizeAndPositionGetter:o,sectionSize:l});this._cellMetadata=s.cellMetadata,this._sectionManager=s.sectionManager,this._height=s.height,this._width=s.width}},{key:"getLastRenderedIndices",value:function(){return this._lastRenderedCellIndices}},{key:"getScrollPositionForCell",value:function(r){var a=r.align,o=r.cellIndex,l=r.height,s=r.scrollLeft,u=r.scrollTop,f=r.width,m=this.props.cellCount;if(o>=0&&o<m){var b=this._cellMetadata[o];s=bz({align:a,cellOffset:b.x,cellSize:b.width,containerSize:f,currentOffset:s}),u=bz({align:a,cellOffset:b.y,cellSize:b.height,containerSize:l,currentOffset:u})}return{scrollLeft:s,scrollTop:u}}},{key:"getTotalSize",value:function(){return{height:this._height,width:this._width}}},{key:"cellRenderers",value:function(r){var a=this,o=r.height,l=r.isScrolling,s=r.width,u=r.x,f=r.y,m=this.props,b=m.cellGroupRenderer,_=m.cellRenderer;return this._lastRenderedCellIndices=this._sectionManager.getCellIndices({height:o,width:s,x:u,y:f}),b({cellCache:this._cellCache,cellRenderer:_,cellSizeAndPositionGetter:function(c){var p=c.index;return a._sectionManager.getCellMetadata({index:p})},indices:this._lastRenderedCellIndices,isScrolling:l})}},{key:"_isScrollingChange",value:function(r){r||(this._cellCache=[])}},{key:"_setCollectionViewRef",value:function(r){this._collectionView=r}}])}(w.PureComponent);ue(uk,"defaultProps",{"aria-label":"grid",cellGroupRenderer:Vge});uk.propTypes={};function Vge(n){var e=n.cellCache,t=n.cellRenderer,r=n.cellSizeAndPositionGetter,a=n.indices,o=n.isScrolling;return a.map(function(l){var s=r({index:l}),u={index:l,isScrolling:o,key:l,style:{height:s.height,left:s.x,position:"absolute",top:s.y,width:s.width}};return o?(l in e||(e[l]=t(u)),e[l]):t(u)}).filter(function(l){return!!l})}function jge(n,e,t){return e=Pi(e),Ho(n,dk()?Reflect.construct(e,t||[],Pi(n).constructor):e.apply(n,t))}function dk(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dk=function(){return!!n})()}var Wge=function(n){function e(t,r){var a;return ai(this,e),a=jge(this,e,[t,r]),a._registerChild=a._registerChild.bind(a),a}return Ar(e,n),oi(e,[{key:"componentDidUpdate",value:function(r){var a=this.props,o=a.columnMaxWidth,l=a.columnMinWidth,s=a.columnCount,u=a.width;(o!==r.columnMaxWidth||l!==r.columnMinWidth||s!==r.columnCount||u!==r.width)&&this._registeredChild&&this._registeredChild.recomputeGridSize()}},{key:"render",value:function(){var r=this.props,a=r.children,o=r.columnMaxWidth,l=r.columnMinWidth,s=r.columnCount,u=r.width,f=l||1,m=o?Math.min(o,u):u,b=u/s;b=Math.max(f,b),b=Math.min(m,b),b=Math.floor(b);var _=Math.min(u,b*s);return a({adjustedWidth:_,columnWidth:b,getColumnWidth:function(){return b},registerChild:this._registerChild})}},{key:"_registerChild",value:function(r){if(r&&typeof r.recomputeGridSize!="function")throw Error("Unexpected child type registered; only Grid/MultiGrid children are supported.");this._registeredChild=r,this._registeredChild&&this._registeredChild.recomputeGridSize()}}])}(w.PureComponent);Wge.propTypes={};function Sz(n){var e=n.cellCount,t=n.cellSize,r=n.computeMetadataCallback,a=n.computeMetadataCallbackProps,o=n.nextCellsCount,l=n.nextCellSize,s=n.nextScrollToIndex,u=n.scrollToIndex,f=n.updateScrollOffsetForScrollToIndex;(e!==o||(typeof t=="number"||typeof l=="number")&&t!==l)&&(r(a),u>=0&&u===s&&f())}var Xge=function(){function n(e){var t=e.cellCount,r=e.cellSizeGetter,a=e.estimatedCellSize;ai(this,n),ue(this,"_cellSizeAndPositionData",{}),ue(this,"_lastMeasuredIndex",-1),ue(this,"_lastBatchedIndex",-1),ue(this,"_cellCount",void 0),ue(this,"_cellSizeGetter",void 0),ue(this,"_estimatedCellSize",void 0),this._cellSizeGetter=r,this._cellCount=t,this._estimatedCellSize=a}return oi(n,[{key:"areOffsetsAdjusted",value:function(){return!1}},{key:"configure",value:function(t){var r=t.cellCount,a=t.estimatedCellSize,o=t.cellSizeGetter;this._cellCount=r,this._estimatedCellSize=a,this._cellSizeGetter=o}},{key:"getCellCount",value:function(){return this._cellCount}},{key:"getEstimatedCellSize",value:function(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function(){return this._lastMeasuredIndex}},{key:"getOffsetAdjustment",value:function(){return 0}},{key:"getSizeAndPositionOfCell",value:function(t){if(t<0||t>=this._cellCount)throw Error("Requested index ".concat(t," is outside of range 0..").concat(this._cellCount));if(t>this._lastMeasuredIndex)for(var r=this.getSizeAndPositionOfLastMeasuredCell(),a=r.offset+r.size,o=this._lastMeasuredIndex+1;o<=t;o++){var l=this._cellSizeGetter({index:o});if(l===void 0||isNaN(l))throw Error("Invalid size returned for cell ".concat(o," of value ").concat(l));l===null?(this._cellSizeAndPositionData[o]={offset:a,size:0},this._lastBatchedIndex=t):(this._cellSizeAndPositionData[o]={offset:a,size:l},a+=l,this._lastMeasuredIndex=t)}return this._cellSizeAndPositionData[t]}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._lastMeasuredIndex>=0?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}}},{key:"getTotalSize",value:function(){var t=this.getSizeAndPositionOfLastMeasuredCell(),r=t.offset+t.size,a=this._cellCount-this._lastMeasuredIndex-1,o=a*this._estimatedCellSize;return r+o}},{key:"getUpdatedOffsetForIndex",value:function(t){var r=t.align,a=r===void 0?"auto":r,o=t.containerSize,l=t.currentOffset,s=t.targetIndex;if(o<=0)return 0;var u=this.getSizeAndPositionOfCell(s),f=u.offset,m=f-o+u.size,b;switch(a){case"start":b=f;break;case"end":b=m;break;case"center":b=f-(o-u.size)/2;break;default:b=Math.max(m,Math.min(f,l));break}var _=this.getTotalSize();return Math.max(0,Math.min(_-o,b))}},{key:"getVisibleCellRange",value:function(t){var r=t.containerSize,a=t.offset,o=this.getTotalSize();if(o===0)return{};var l=a+r,s=this._findNearestCell(a),u=this.getSizeAndPositionOfCell(s);a=u.offset+u.size;for(var f=s;a<l&&f<this._cellCount-1;)f++,a+=this.getSizeAndPositionOfCell(f).size;return{start:s,stop:f}}},{key:"resetCell",value:function(t){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,t-1)}},{key:"_binarySearch",value:function(t,r,a){for(;r<=t;){var o=r+Math.floor((t-r)/2),l=this.getSizeAndPositionOfCell(o).offset;if(l===a)return o;l<a?r=o+1:l>a&&(t=o-1)}return r>0?r-1:0}},{key:"_exponentialSearch",value:function(t,r){for(var a=1;t<this._cellCount&&this.getSizeAndPositionOfCell(t).offset<r;)t+=a,a*=2;return this._binarySearch(Math.min(t,this._cellCount-1),Math.floor(t/2),r)}},{key:"_findNearestCell",value:function(t){if(isNaN(t))throw Error("Invalid offset ".concat(t," specified"));t=Math.max(0,t);var r=this.getSizeAndPositionOfLastMeasuredCell(),a=Math.max(0,this._lastMeasuredIndex);return r.offset>=t?this._binarySearch(a,0,t):this._exponentialSearch(a,t)}}])}(),Yge=15e5,qge=16777100,Kge=function(){return typeof window<"u"},Jge=function(){return!!window.chrome},Qge=function(){return Kge()&&Jge()?qge:Yge},Zge=["maxScrollSize"],_z=function(){function n(e){var t=e.maxScrollSize,r=t===void 0?Qge():t,a=kn(e,Zge);ai(this,n),ue(this,"_cellSizeAndPositionManager",void 0),ue(this,"_maxScrollSize",void 0),this._cellSizeAndPositionManager=new Xge(a),this._maxScrollSize=r}return oi(n,[{key:"areOffsetsAdjusted",value:function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:"configure",value:function(t){this._cellSizeAndPositionManager.configure(t)}},{key:"getCellCount",value:function(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function(t){var r=t.containerSize,a=t.offset,o=this._cellSizeAndPositionManager.getTotalSize(),l=this.getTotalSize(),s=this._getOffsetPercentage({containerSize:r,offset:a,totalSize:l});return Math.round(s*(l-o))}},{key:"getSizeAndPositionOfCell",value:function(t){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(t)}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function(t){var r=t.align,a=r===void 0?"auto":r,o=t.containerSize,l=t.currentOffset,s=t.targetIndex;l=this._safeOffsetToOffset({containerSize:o,offset:l});var u=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:a,containerSize:o,currentOffset:l,targetIndex:s});return this._offsetToSafeOffset({containerSize:o,offset:u})}},{key:"getVisibleCellRange",value:function(t){var r=t.containerSize,a=t.offset;return a=this._safeOffsetToOffset({containerSize:r,offset:a}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:r,offset:a})}},{key:"resetCell",value:function(t){this._cellSizeAndPositionManager.resetCell(t)}},{key:"_getOffsetPercentage",value:function(t){var r=t.containerSize,a=t.offset,o=t.totalSize;return o<=r?0:a/(o-r)}},{key:"_offsetToSafeOffset",value:function(t){var r=t.containerSize,a=t.offset,o=this._cellSizeAndPositionManager.getTotalSize(),l=this.getTotalSize();if(o===l)return a;var s=this._getOffsetPercentage({containerSize:r,offset:a,totalSize:o});return Math.round(s*(l-r))}},{key:"_safeOffsetToOffset",value:function(t){var r=t.containerSize,a=t.offset,o=this._cellSizeAndPositionManager.getTotalSize(),l=this.getTotalSize();if(o===l)return a;var s=this._getOffsetPercentage({containerSize:r,offset:a,totalSize:l});return Math.round(s*(o-r))}}])}(),TC=-1,Jd=1;function eve(n){var e=n.cellCount,t=n.overscanCellsCount,r=n.scrollDirection,a=n.startIndex,o=n.stopIndex;return r===Jd?{overscanStartIndex:Math.max(0,a),overscanStopIndex:Math.min(e-1,o+t)}:{overscanStartIndex:Math.max(0,a-t),overscanStopIndex:Math.min(e-1,o)}}function xz(n){var e=n.cellSize,t=n.cellSizeAndPositionManager,r=n.previousCellsCount,a=n.previousCellSize,o=n.previousScrollToAlignment,l=n.previousScrollToIndex,s=n.previousSize,u=n.scrollOffset,f=n.scrollToAlignment,m=n.scrollToIndex,b=n.size,_=n.sizeJustIncreasedFromZero,E=n.updateScrollIndexCallback,c=t.getCellCount(),p=m>=0&&m<c,g=b!==s||_||!a||typeof e=="number"&&e!==a;p&&(g||f!==o||m!==l)?E(m):!p&&c>0&&(b<s||c<r)&&u>t.getTotalSize()-b&&E(c-1)}function tve(n){for(var e=n.cellCache,t=n.cellRenderer,r=n.columnSizeAndPositionManager,a=n.columnStartIndex,o=n.columnStopIndex,l=n.deferredMeasurementCache,s=n.horizontalOffsetAdjustment,u=n.isScrolling,f=n.isScrollingOptOut,m=n.parent,b=n.rowSizeAndPositionManager,_=n.rowStartIndex,E=n.rowStopIndex,c=n.styleCache,p=n.verticalOffsetAdjustment,g=n.visibleColumnIndices,y=n.visibleRowIndices,C=[],T=r.areOffsetsAdjusted()||b.areOffsetsAdjusted(),M=!u&&!T,O=_;O<=E;O++)for(var B=b.getSizeAndPositionOfCell(O),D=a;D<=o;D++){var F=r.getSizeAndPositionOfCell(D),z=D>=g.start&&D<=g.stop&&O>=y.start&&O<=y.stop,U="".concat(O,"-").concat(D),$=void 0;M&&c[U]?$=c[U]:l&&!l.has(O,D)?$={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:($={height:B.size,left:F.offset+s,position:"absolute",top:B.offset+p,width:F.size},c[U]=$);var J={columnIndex:D,isScrolling:u,isVisible:z,key:U,parent:m,rowIndex:O,style:$},W=void 0;(f||u)&&!s&&!p?(e[U]||(e[U]=t(J)),W=e[U]):W=t(J),!(W==null||W===!1)&&(W.props.role||(W=Xe.cloneElement(W,{role:"gridcell"})),C.push(W))}return C}var ss;typeof window<"u"?ss=window:typeof self<"u"?ss=self:ss={};var nve=ss.requestAnimationFrame||ss.webkitRequestAnimationFrame||ss.mozRequestAnimationFrame||ss.oRequestAnimationFrame||ss.msRequestAnimationFrame||function(n){return ss.setTimeout(n,1e3/60)},ive=ss.cancelAnimationFrame||ss.webkitCancelAnimationFrame||ss.mozCancelAnimationFrame||ss.oCancelAnimationFrame||ss.msCancelAnimationFrame||function(n){ss.clearTimeout(n)},Cz=nve,rve=ive,A0=function(e){return rve(e.id)},vB=function(e,t){var r;Promise.resolve().then(function(){r=Date.now()});var a=function(){Date.now()-r>=t?e.call():o.id=Cz(a)},o={id:Cz(a)};return o};function Ez(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function As(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ez(Object(t),!0).forEach(function(r){ue(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Ez(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function ave(n,e,t){return e=Pi(e),Ho(n,fk()?Reflect.construct(e,t||[],Pi(n).constructor):e.apply(n,t))}function fk(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fk=function(){return!!n})()}var ove=150,fR={OBSERVED:"observed",REQUESTED:"requested"},sve=function(){return null},Yu=function(n){function e(t){var r;ai(this,e),r=ave(this,e,[t]),ue(r,"_onGridRenderedMemoizer",w0()),ue(r,"_onScrollMemoizer",w0(!1)),ue(r,"_deferredInvalidateColumnIndex",null),ue(r,"_deferredInvalidateRowIndex",null),ue(r,"_recomputeScrollLeftFlag",!1),ue(r,"_recomputeScrollTopFlag",!1),ue(r,"_horizontalScrollBarSize",0),ue(r,"_verticalScrollBarSize",0),ue(r,"_scrollbarPresenceChanged",!1),ue(r,"_scrollingContainer",void 0),ue(r,"_childrenToDisplay",void 0),ue(r,"_columnStartIndex",void 0),ue(r,"_columnStopIndex",void 0),ue(r,"_rowStartIndex",void 0),ue(r,"_rowStopIndex",void 0),ue(r,"_renderedColumnStartIndex",0),ue(r,"_renderedColumnStopIndex",0),ue(r,"_renderedRowStartIndex",0),ue(r,"_renderedRowStopIndex",0),ue(r,"_initialScrollTop",void 0),ue(r,"_initialScrollLeft",void 0),ue(r,"_disablePointerEventsTimeoutId",void 0),ue(r,"_styleCache",{}),ue(r,"_cellCache",{}),ue(r,"_debounceScrollEndedCallback",function(){r._disablePointerEventsTimeoutId=null,r.setState({isScrolling:!1,needToResetStyleCache:!1})}),ue(r,"_invokeOnGridRenderedHelper",function(){var l=r.props.onSectionRendered;r._onGridRenderedMemoizer({callback:l,indices:{columnOverscanStartIndex:r._columnStartIndex,columnOverscanStopIndex:r._columnStopIndex,columnStartIndex:r._renderedColumnStartIndex,columnStopIndex:r._renderedColumnStopIndex,rowOverscanStartIndex:r._rowStartIndex,rowOverscanStopIndex:r._rowStopIndex,rowStartIndex:r._renderedRowStartIndex,rowStopIndex:r._renderedRowStopIndex}})}),ue(r,"_setScrollingContainerRef",function(l){r._scrollingContainer=l,typeof r.props.elementRef=="function"?r.props.elementRef(l):mn(r.props.elementRef)==="object"&&(r.props.elementRef.current=l)}),ue(r,"_onScroll",function(l){l.target===r._scrollingContainer&&r.handleScrollEvent(l.target)});var a=new _z({cellCount:t.columnCount,cellSizeGetter:function(s){return e._wrapSizeGetter(t.columnWidth)(s)},estimatedCellSize:e._getEstimatedColumnSize(t)}),o=new _z({cellCount:t.rowCount,cellSizeGetter:function(s){return e._wrapSizeGetter(t.rowHeight)(s)},estimatedCellSize:e._getEstimatedRowSize(t)});return r.state={instanceProps:{columnSizeAndPositionManager:a,rowSizeAndPositionManager:o,prevColumnWidth:t.columnWidth,prevRowHeight:t.rowHeight,prevColumnCount:t.columnCount,prevRowCount:t.rowCount,prevIsScrolling:t.isScrolling===!0,prevScrollToColumn:t.scrollToColumn,prevScrollToRow:t.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:Jd,scrollDirectionVertical:Jd,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1},t.scrollToRow>0&&(r._initialScrollTop=r._getCalculatedScrollTop(t,r.state)),t.scrollToColumn>0&&(r._initialScrollLeft=r._getCalculatedScrollLeft(t,r.state)),r}return Ar(e,n),oi(e,[{key:"getOffsetForCell",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=r.alignment,o=a===void 0?this.props.scrollToAlignment:a,l=r.columnIndex,s=l===void 0?this.props.scrollToColumn:l,u=r.rowIndex,f=u===void 0?this.props.scrollToRow:u,m=As(As({},this.props),{},{scrollToAlignment:o,scrollToColumn:s,scrollToRow:f});return{scrollLeft:this._getCalculatedScrollLeft(m),scrollTop:this._getCalculatedScrollTop(m)}}},{key:"getTotalRowsHeight",value:function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()}},{key:"getTotalColumnsWidth",value:function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()}},{key:"handleScrollEvent",value:function(r){var a=r.scrollLeft,o=a===void 0?0:a,l=r.scrollTop,s=l===void 0?0:l;if(!(s<0)){this._debounceScrollEnded();var u=this.props,f=u.autoHeight,m=u.autoWidth,b=u.height,_=u.width,E=this.state.instanceProps,c=E.scrollbarSize,p=E.rowSizeAndPositionManager.getTotalSize(),g=E.columnSizeAndPositionManager.getTotalSize(),y=Math.min(Math.max(0,g-_+c),o),C=Math.min(Math.max(0,p-b+c),s);if(this.state.scrollLeft!==y||this.state.scrollTop!==C){var T=y!==this.state.scrollLeft?y>this.state.scrollLeft?Jd:TC:this.state.scrollDirectionHorizontal,M=C!==this.state.scrollTop?C>this.state.scrollTop?Jd:TC:this.state.scrollDirectionVertical,O={isScrolling:!0,scrollDirectionHorizontal:T,scrollDirectionVertical:M,scrollPositionChangeReason:fR.OBSERVED};f||(O.scrollTop=C),m||(O.scrollLeft=y),O.needToResetStyleCache=!1,this.setState(O)}this._invokeOnScrollMemoizer({scrollLeft:y,scrollTop:C,totalColumnsWidth:g,totalRowsHeight:p})}}},{key:"invalidateCellSizeAfterRender",value:function(r){var a=r.columnIndex,o=r.rowIndex;this._deferredInvalidateColumnIndex=typeof this._deferredInvalidateColumnIndex=="number"?Math.min(this._deferredInvalidateColumnIndex,a):a,this._deferredInvalidateRowIndex=typeof this._deferredInvalidateRowIndex=="number"?Math.min(this._deferredInvalidateRowIndex,o):o}},{key:"measureAllCells",value:function(){var r=this.props,a=r.columnCount,o=r.rowCount,l=this.state.instanceProps;l.columnSizeAndPositionManager.getSizeAndPositionOfCell(a-1),l.rowSizeAndPositionManager.getSizeAndPositionOfCell(o-1)}},{key:"recomputeGridSize",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=r.columnIndex,o=a===void 0?0:a,l=r.rowIndex,s=l===void 0?0:l,u=this.props,f=u.scrollToColumn,m=u.scrollToRow,b=this.state.instanceProps;b.columnSizeAndPositionManager.resetCell(o),b.rowSizeAndPositionManager.resetCell(s),this._recomputeScrollLeftFlag=f>=0&&(this.state.scrollDirectionHorizontal===Jd?o<=f:o>=f),this._recomputeScrollTopFlag=m>=0&&(this.state.scrollDirectionVertical===Jd?s<=m:s>=m),this._styleCache={},this._cellCache={},this.forceUpdate()}},{key:"scrollToCell",value:function(r){var a=r.columnIndex,o=r.rowIndex,l=this.props.columnCount,s=this.props;l>1&&a!==void 0&&this._updateScrollLeftForScrollToColumn(As(As({},s),{},{scrollToColumn:a})),o!==void 0&&this._updateScrollTopForScrollToRow(As(As({},s),{},{scrollToRow:o}))}},{key:"componentDidMount",value:function(){var r=this.props,a=r.getScrollbarSize,o=r.height,l=r.scrollLeft,s=r.scrollToColumn,u=r.scrollTop,f=r.scrollToRow,m=r.width,b=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),b.scrollbarSizeMeasured||this.setState(function(c){var p=As(As({},c),{},{needToResetStyleCache:!1});return p.instanceProps.scrollbarSize=a(),p.instanceProps.scrollbarSizeMeasured=!0,p}),typeof l=="number"&&l>=0||typeof u=="number"&&u>=0){var _=e._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:l,scrollTop:u});_&&(_.needToResetStyleCache=!1,this.setState(_))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var E=o>0&&m>0;s>=0&&E&&this._updateScrollLeftForScrollToColumn(),f>=0&&E&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:l||0,scrollTop:u||0,totalColumnsWidth:b.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:b.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()}},{key:"componentDidUpdate",value:function(r,a){var o=this,l=this.props,s=l.autoHeight,u=l.autoWidth,f=l.columnCount,m=l.height,b=l.rowCount,_=l.scrollToAlignment,E=l.scrollToColumn,c=l.scrollToRow,p=l.width,g=this.state,y=g.scrollLeft,C=g.scrollPositionChangeReason,T=g.scrollTop,M=g.instanceProps;this._handleInvalidatedGridSize();var O=f>0&&r.columnCount===0||b>0&&r.rowCount===0;C===fR.REQUESTED&&(!u&&y>=0&&(y!==this._scrollingContainer.scrollLeft||O)&&(this._scrollingContainer.scrollLeft=y),!s&&T>=0&&(T!==this._scrollingContainer.scrollTop||O)&&(this._scrollingContainer.scrollTop=T));var B=(r.width===0||r.height===0)&&m>0&&p>0;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):xz({cellSizeAndPositionManager:M.columnSizeAndPositionManager,previousCellsCount:r.columnCount,previousCellSize:r.columnWidth,previousScrollToAlignment:r.scrollToAlignment,previousScrollToIndex:r.scrollToColumn,previousSize:r.width,scrollOffset:y,scrollToAlignment:_,scrollToIndex:E,size:p,sizeJustIncreasedFromZero:B,updateScrollIndexCallback:function(){return o._updateScrollLeftForScrollToColumn(o.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):xz({cellSizeAndPositionManager:M.rowSizeAndPositionManager,previousCellsCount:r.rowCount,previousCellSize:r.rowHeight,previousScrollToAlignment:r.scrollToAlignment,previousScrollToIndex:r.scrollToRow,previousSize:r.height,scrollOffset:T,scrollToAlignment:_,scrollToIndex:c,size:m,sizeJustIncreasedFromZero:B,updateScrollIndexCallback:function(){return o._updateScrollTopForScrollToRow(o.props)}}),this._invokeOnGridRenderedHelper(),y!==a.scrollLeft||T!==a.scrollTop){var D=M.rowSizeAndPositionManager.getTotalSize(),F=M.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:y,scrollTop:T,totalColumnsWidth:F,totalRowsHeight:D})}this._maybeCallOnScrollbarPresenceChange()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&A0(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var r=this.props,a=r.autoContainerWidth,o=r.autoHeight,l=r.autoWidth,s=r.className,u=r.containerProps,f=r.containerRole,m=r.containerStyle,b=r.height,_=r.id,E=r.noContentRenderer,c=r.role,p=r.style,g=r.tabIndex,y=r.width,C=this.state,T=C.instanceProps,M=C.needToResetStyleCache,O=this._isScrolling(),B={boxSizing:"border-box",direction:"ltr",height:o?"auto":b,position:"relative",width:l?"auto":y,WebkitOverflowScrolling:"touch",willChange:"transform"};M&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var D=T.columnSizeAndPositionManager.getTotalSize(),F=T.rowSizeAndPositionManager.getTotalSize(),z=F>b?T.scrollbarSize:0,U=D>y?T.scrollbarSize:0;(U!==this._horizontalScrollBarSize||z!==this._verticalScrollBarSize)&&(this._horizontalScrollBarSize=U,this._verticalScrollBarSize=z,this._scrollbarPresenceChanged=!0),B.overflowX=D+z<=y?"hidden":"auto",B.overflowY=F+U<=b?"hidden":"auto";var $=this._childrenToDisplay,J=$.length===0&&b>0&&y>0;return w.createElement("div",Pt({ref:this._setScrollingContainerRef},u,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:Nc("ReactVirtualized__Grid",s),id:_,onScroll:this._onScroll,role:c,style:As(As({},B),p),tabIndex:g}),$.length>0&&w.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:f,style:As({width:a?"auto":D,height:F,maxWidth:D,maxHeight:F,overflow:"hidden",pointerEvents:O?"none":"",position:"relative"},m)},$),J&&E())}},{key:"_calculateChildrenToRender",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,o=r.cellRenderer,l=r.cellRangeRenderer,s=r.columnCount,u=r.deferredMeasurementCache,f=r.height,m=r.overscanColumnCount,b=r.overscanIndicesGetter,_=r.overscanRowCount,E=r.rowCount,c=r.width,p=r.isScrollingOptOut,g=a.scrollDirectionHorizontal,y=a.scrollDirectionVertical,C=a.instanceProps,T=this._initialScrollTop>0?this._initialScrollTop:a.scrollTop,M=this._initialScrollLeft>0?this._initialScrollLeft:a.scrollLeft,O=this._isScrolling(r,a);if(this._childrenToDisplay=[],f>0&&c>0){var B=C.columnSizeAndPositionManager.getVisibleCellRange({containerSize:c,offset:M}),D=C.rowSizeAndPositionManager.getVisibleCellRange({containerSize:f,offset:T}),F=C.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:c,offset:M}),z=C.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:f,offset:T});this._renderedColumnStartIndex=B.start,this._renderedColumnStopIndex=B.stop,this._renderedRowStartIndex=D.start,this._renderedRowStopIndex=D.stop;var U=b({direction:"horizontal",cellCount:s,overscanCellsCount:m,scrollDirection:g,startIndex:typeof B.start=="number"?B.start:0,stopIndex:typeof B.stop=="number"?B.stop:-1}),$=b({direction:"vertical",cellCount:E,overscanCellsCount:_,scrollDirection:y,startIndex:typeof D.start=="number"?D.start:0,stopIndex:typeof D.stop=="number"?D.stop:-1}),J=U.overscanStartIndex,W=U.overscanStopIndex,Q=$.overscanStartIndex,ae=$.overscanStopIndex;if(u){if(!u.hasFixedHeight()){for(var Y=Q;Y<=ae;Y++)if(!u.has(Y,0)){J=0,W=s-1;break}}if(!u.hasFixedWidth()){for(var K=J;K<=W;K++)if(!u.has(0,K)){Q=0,ae=E-1;break}}}this._childrenToDisplay=l({cellCache:this._cellCache,cellRenderer:o,columnSizeAndPositionManager:C.columnSizeAndPositionManager,columnStartIndex:J,columnStopIndex:W,deferredMeasurementCache:u,horizontalOffsetAdjustment:F,isScrolling:O,isScrollingOptOut:p,parent:this,rowSizeAndPositionManager:C.rowSizeAndPositionManager,rowStartIndex:Q,rowStopIndex:ae,scrollLeft:M,scrollTop:T,styleCache:this._styleCache,verticalOffsetAdjustment:z,visibleColumnIndices:B,visibleRowIndices:D}),this._columnStartIndex=J,this._columnStopIndex=W,this._rowStartIndex=Q,this._rowStopIndex=ae}}},{key:"_debounceScrollEnded",value:function(){var r=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&A0(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=vB(this._debounceScrollEndedCallback,r)}},{key:"_handleInvalidatedGridSize",value:function(){if(typeof this._deferredInvalidateColumnIndex=="number"&&typeof this._deferredInvalidateRowIndex=="number"){var r=this._deferredInvalidateColumnIndex,a=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:r,rowIndex:a})}}},{key:"_invokeOnScrollMemoizer",value:function(r){var a=this,o=r.scrollLeft,l=r.scrollTop,s=r.totalColumnsWidth,u=r.totalRowsHeight;this._onScrollMemoizer({callback:function(m){var b=m.scrollLeft,_=m.scrollTop,E=a.props,c=E.height,p=E.onScroll,g=E.width;p({clientHeight:c,clientWidth:g,scrollHeight:u,scrollLeft:b,scrollTop:_,scrollWidth:s})},indices:{scrollLeft:o,scrollTop:l}})}},{key:"_isScrolling",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return Object.hasOwnProperty.call(r,"isScrolling")?!!r.isScrolling:!!a.isScrolling}},{key:"_maybeCallOnScrollbarPresenceChange",value:function(){if(this._scrollbarPresenceChanged){var r=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,r({horizontal:this._horizontalScrollBarSize>0,size:this.state.instanceProps.scrollbarSize,vertical:this._verticalScrollBarSize>0})}}},{key:"scrollToPosition",value:function(r){var a=r.scrollLeft,o=r.scrollTop,l=e._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:a,scrollTop:o});l&&(l.needToResetStyleCache=!1,this.setState(l))}},{key:"_getCalculatedScrollLeft",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return e._getCalculatedScrollLeft(r,a)}},{key:"_updateScrollLeftForScrollToColumn",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,o=e._getScrollLeftForScrollToColumnStateUpdate(r,a);o&&(o.needToResetStyleCache=!1,this.setState(o))}},{key:"_getCalculatedScrollTop",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return e._getCalculatedScrollTop(r,a)}},{key:"_resetStyleCache",value:function(){var r=this._styleCache,a=this._cellCache,o=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var l=this._rowStartIndex;l<=this._rowStopIndex;l++)for(var s=this._columnStartIndex;s<=this._columnStopIndex;s++){var u="".concat(l,"-").concat(s);this._styleCache[u]=r[u],o&&(this._cellCache[u]=a[u])}}},{key:"_updateScrollTopForScrollToRow",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,o=e._getScrollTopForScrollToRowStateUpdate(r,a);o&&(o.needToResetStyleCache=!1,this.setState(o))}}],[{key:"getDerivedStateFromProps",value:function(r,a){var o={};r.columnCount===0&&a.scrollLeft!==0||r.rowCount===0&&a.scrollTop!==0?(o.scrollLeft=0,o.scrollTop=0):(r.scrollLeft!==a.scrollLeft&&r.scrollToColumn<0||r.scrollTop!==a.scrollTop&&r.scrollToRow<0)&&Object.assign(o,e._getScrollToPositionStateUpdate({prevState:a,scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}));var l=a.instanceProps;o.needToResetStyleCache=!1,(r.columnWidth!==l.prevColumnWidth||r.rowHeight!==l.prevRowHeight)&&(o.needToResetStyleCache=!0),l.columnSizeAndPositionManager.configure({cellCount:r.columnCount,estimatedCellSize:e._getEstimatedColumnSize(r),cellSizeGetter:e._wrapSizeGetter(r.columnWidth)}),l.rowSizeAndPositionManager.configure({cellCount:r.rowCount,estimatedCellSize:e._getEstimatedRowSize(r),cellSizeGetter:e._wrapSizeGetter(r.rowHeight)}),(l.prevColumnCount===0||l.prevRowCount===0)&&(l.prevColumnCount=0,l.prevRowCount=0),r.autoHeight&&r.isScrolling===!1&&l.prevIsScrolling===!0&&Object.assign(o,{isScrolling:!1});var s,u;return Sz({cellCount:l.prevColumnCount,cellSize:typeof l.prevColumnWidth=="number"?l.prevColumnWidth:null,computeMetadataCallback:function(){return l.columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:r,nextCellsCount:r.columnCount,nextCellSize:typeof r.columnWidth=="number"?r.columnWidth:null,nextScrollToIndex:r.scrollToColumn,scrollToIndex:l.prevScrollToColumn,updateScrollOffsetForScrollToIndex:function(){s=e._getScrollLeftForScrollToColumnStateUpdate(r,a)}}),Sz({cellCount:l.prevRowCount,cellSize:typeof l.prevRowHeight=="number"?l.prevRowHeight:null,computeMetadataCallback:function(){return l.rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:r,nextCellsCount:r.rowCount,nextCellSize:typeof r.rowHeight=="number"?r.rowHeight:null,nextScrollToIndex:r.scrollToRow,scrollToIndex:l.prevScrollToRow,updateScrollOffsetForScrollToIndex:function(){u=e._getScrollTopForScrollToRowStateUpdate(r,a)}}),l.prevColumnCount=r.columnCount,l.prevColumnWidth=r.columnWidth,l.prevIsScrolling=r.isScrolling===!0,l.prevRowCount=r.rowCount,l.prevRowHeight=r.rowHeight,l.prevScrollToColumn=r.scrollToColumn,l.prevScrollToRow=r.scrollToRow,l.scrollbarSize=r.getScrollbarSize(),l.scrollbarSize===void 0?(l.scrollbarSizeMeasured=!1,l.scrollbarSize=0):l.scrollbarSizeMeasured=!0,o.instanceProps=l,As(As(As({},o),s),u)}},{key:"_getEstimatedColumnSize",value:function(r){return typeof r.columnWidth=="number"?r.columnWidth:r.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function(r){return typeof r.rowHeight=="number"?r.rowHeight:r.estimatedRowSize}},{key:"_getScrollToPositionStateUpdate",value:function(r){var a=r.prevState,o=r.scrollLeft,l=r.scrollTop,s={scrollPositionChangeReason:fR.REQUESTED};return typeof o=="number"&&o>=0&&(s.scrollDirectionHorizontal=o>a.scrollLeft?Jd:TC,s.scrollLeft=o),typeof l=="number"&&l>=0&&(s.scrollDirectionVertical=l>a.scrollTop?Jd:TC,s.scrollTop=l),typeof o=="number"&&o>=0&&o!==a.scrollLeft||typeof l=="number"&&l>=0&&l!==a.scrollTop?s:{}}},{key:"_wrapSizeGetter",value:function(r){return typeof r=="function"?r:function(){return r}}},{key:"_getCalculatedScrollLeft",value:function(r,a){var o=r.columnCount,l=r.height,s=r.scrollToAlignment,u=r.scrollToColumn,f=r.width,m=a.scrollLeft,b=a.instanceProps;if(o>0){var _=o-1,E=u<0?_:Math.min(_,u),c=b.rowSizeAndPositionManager.getTotalSize(),p=b.scrollbarSizeMeasured&&c>l?b.scrollbarSize:0;return b.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:s,containerSize:f-p,currentOffset:m,targetIndex:E})}return 0}},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:function(r,a){var o=a.scrollLeft,l=e._getCalculatedScrollLeft(r,a);return typeof l=="number"&&l>=0&&o!==l?e._getScrollToPositionStateUpdate({prevState:a,scrollLeft:l,scrollTop:-1}):{}}},{key:"_getCalculatedScrollTop",value:function(r,a){var o=r.height,l=r.rowCount,s=r.scrollToAlignment,u=r.scrollToRow,f=r.width,m=a.scrollTop,b=a.instanceProps;if(l>0){var _=l-1,E=u<0?_:Math.min(_,u),c=b.columnSizeAndPositionManager.getTotalSize(),p=b.scrollbarSizeMeasured&&c>f?b.scrollbarSize:0;return b.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:s,containerSize:o-p,currentOffset:m,targetIndex:E})}return 0}},{key:"_getScrollTopForScrollToRowStateUpdate",value:function(r,a){var o=a.scrollTop,l=e._getCalculatedScrollTop(r,a);return typeof l=="number"&&l>=0&&o!==l?e._getScrollToPositionStateUpdate({prevState:a,scrollLeft:-1,scrollTop:l}):{}}}])}(w.PureComponent);ue(Yu,"defaultProps",{"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:tve,containerRole:"row",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:cO,noContentRenderer:sve,onScroll:function(){},onScrollbarPresenceChange:function(){},onSectionRendered:function(){},overscanColumnCount:0,overscanIndicesGetter:eve,overscanRowCount:10,role:"grid",scrollingResetTimeInterval:ove,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1});t_(Yu);var lve=1;function hk(n){var e=n.cellCount,t=n.overscanCellsCount,r=n.scrollDirection,a=n.startIndex,o=n.stopIndex;return t=Math.max(1,t),r===lve?{overscanStartIndex:Math.max(0,a-1),overscanStopIndex:Math.min(e-1,o+t)}:{overscanStartIndex:Math.max(0,a-t),overscanStopIndex:Math.min(e-1,o+1)}}function cve(n,e,t){return e=Pi(e),Ho(n,pk()?Reflect.construct(e,t||[],Pi(n).constructor):e.apply(n,t))}function pk(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pk=function(){return!!n})()}var mk=function(n){function e(t,r){var a;return ai(this,e),a=cve(this,e,[t,r]),a._loadMoreRowsMemoizer=w0(),a._onRowsRendered=a._onRowsRendered.bind(a),a._registerChild=a._registerChild.bind(a),a}return Ar(e,n),oi(e,[{key:"resetLoadMoreRowsCache",value:function(r){this._loadMoreRowsMemoizer=w0(),r&&this._doStuff(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"render",value:function(){var r=this.props.children;return r({onRowsRendered:this._onRowsRendered,registerChild:this._registerChild})}},{key:"_loadUnloadedRanges",value:function(r){var a=this,o=this.props.loadMoreRows;r.forEach(function(l){var s=o(l);s&&s.then(function(){uve({lastRenderedStartIndex:a._lastRenderedStartIndex,lastRenderedStopIndex:a._lastRenderedStopIndex,startIndex:l.startIndex,stopIndex:l.stopIndex})&&a._registeredChild&&fve(a._registeredChild,a._lastRenderedStartIndex)})})}},{key:"_onRowsRendered",value:function(r){var a=r.startIndex,o=r.stopIndex;this._lastRenderedStartIndex=a,this._lastRenderedStopIndex=o,this._doStuff(a,o)}},{key:"_doStuff",value:function(r,a){var o,l=this,s=this.props,u=s.isRowLoaded,f=s.minimumBatchSize,m=s.rowCount,b=s.threshold,_=dve({isRowLoaded:u,minimumBatchSize:f,rowCount:m,startIndex:Math.max(0,r-b),stopIndex:Math.min(m-1,a+b)}),E=(o=[]).concat.apply(o,Jt(_.map(function(c){var p=c.startIndex,g=c.stopIndex;return[p,g]})));this._loadMoreRowsMemoizer({callback:function(){l._loadUnloadedRanges(_)},indices:{squashedUnloadedRanges:E}})}},{key:"_registerChild",value:function(r){this._registeredChild=r}}])}(w.PureComponent);ue(mk,"defaultProps",{minimumBatchSize:10,rowCount:0,threshold:15});mk.propTypes={};function uve(n){var e=n.lastRenderedStartIndex,t=n.lastRenderedStopIndex,r=n.startIndex,a=n.stopIndex;return!(r>t||a<e)}function dve(n){for(var e=n.isRowLoaded,t=n.minimumBatchSize,r=n.rowCount,a=n.startIndex,o=n.stopIndex,l=[],s=null,u=null,f=a;f<=o;f++){var m=e({index:f});m?u!==null&&(l.push({startIndex:s,stopIndex:u}),s=u=null):(u=f,s===null&&(s=f))}if(u!==null){for(var b=Math.min(Math.max(u,s+t-1),r-1),_=u+1;_<=b&&!e({index:_});_++)u=_;l.push({startIndex:s,stopIndex:u})}if(l.length)for(var E=l[0];E.stopIndex-E.startIndex+1<t&&E.startIndex>0;){var c=E.startIndex-1;if(!e({index:c}))E.startIndex=c;else break}return l}function fve(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=typeof n.recomputeGridSize=="function"?n.recomputeGridSize:n.recomputeRowHeights;t?t.call(n,e):n.forceUpdate()}function hve(n,e,t){return e=Pi(e),Ho(n,gk()?Reflect.construct(e,t||[],Pi(n).constructor):e.apply(n,t))}function gk(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gk=function(){return!!n})()}var pve=function(n){function e(){var t;ai(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=hve(this,e,[].concat(a)),ue(t,"Grid",void 0),ue(t,"_cellRenderer",function(l){var s=l.parent,u=l.rowIndex,f=l.style,m=l.isScrolling,b=l.isVisible,_=l.key,E=t.props.rowRenderer,c=Object.getOwnPropertyDescriptor(f,"width");return c&&c.writable&&(f.width="100%"),E({index:u,style:f,isScrolling:m,isVisible:b,key:_,parent:s})}),ue(t,"_setRef",function(l){t.Grid=l}),ue(t,"_onScroll",function(l){var s=l.clientHeight,u=l.scrollHeight,f=l.scrollTop,m=t.props.onScroll;m({clientHeight:s,scrollHeight:u,scrollTop:f})}),ue(t,"_onSectionRendered",function(l){var s=l.rowOverscanStartIndex,u=l.rowOverscanStopIndex,f=l.rowStartIndex,m=l.rowStopIndex,b=t.props.onRowsRendered;b({overscanStartIndex:s,overscanStopIndex:u,startIndex:f,stopIndex:m})}),t}return Ar(e,n),oi(e,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(r){var a=r.alignment,o=r.index;if(this.Grid){var l=this.Grid.getOffsetForCell({alignment:a,rowIndex:o,columnIndex:0}),s=l.scrollTop;return s}return 0}},{key:"invalidateCellSizeAfterRender",value:function(r){var a=r.columnIndex,o=r.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:o,columnIndex:a})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=r.columnIndex,o=a===void 0?0:a,l=r.rowIndex,s=l===void 0?0:l;this.Grid&&this.Grid.recomputeGridSize({rowIndex:s,columnIndex:o})}},{key:"recomputeRowHeights",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:r,columnIndex:0})}},{key:"scrollToPosition",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:r})}},{key:"scrollToRow",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:r})}},{key:"render",value:function(){var r=this.props,a=r.className,o=r.noRowsRenderer,l=r.scrollToIndex,s=r.width,u=Nc("ReactVirtualized__List",a);return w.createElement(Yu,Pt({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:u,columnWidth:s,columnCount:1,noContentRenderer:o,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:l}))}}])}(w.PureComponent);ue(pve,"defaultProps",{autoHeight:!1,estimatedRowSize:30,onScroll:function(){},noRowsRenderer:function(){return null},onRowsRendered:function(){},overscanIndicesGetter:hk,overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,style:{}});function mve(n,e,t,r){for(var a=t+1;e<=t;){var o=e+t>>>1,l=n[o];l>=r?(a=o,t=o-1):e=o+1}return a}function gve(n,e,t,r,a){for(var o=t+1;e<=t;){var l=e+t>>>1,s=n[l];a(s,r)>=0?(o=l,t=l-1):e=l+1}return o}function vve(n,e,t,r,a){return typeof t=="function"?gve(n,r===void 0?0:r|0,a===void 0?n.length-1:a|0,e,t):mve(n,t===void 0?0:t|0,r===void 0?n.length-1:r|0,e)}function yve(n,e,t,r){for(var a=t+1;e<=t;){var o=e+t>>>1,l=n[o];l>r?(a=o,t=o-1):e=o+1}return a}function bve(n,e,t,r,a){for(var o=t+1;e<=t;){var l=e+t>>>1,s=n[l];a(s,r)>0?(o=l,t=l-1):e=l+1}return o}function Sve(n,e,t,r,a){return typeof t=="function"?bve(n,r===void 0?0:r|0,a===void 0?n.length-1:a|0,e,t):yve(n,t===void 0?0:t|0,r===void 0?n.length-1:r|0,e)}function _ve(n,e,t,r){for(var a=e-1;e<=t;){var o=e+t>>>1,l=n[o];l<r?(a=o,e=o+1):t=o-1}return a}function xve(n,e,t,r,a){for(var o=e-1;e<=t;){var l=e+t>>>1,s=n[l];a(s,r)<0?(o=l,e=l+1):t=l-1}return o}function Cve(n,e,t,r,a){return typeof t=="function"?xve(n,r===void 0?0:r|0,a===void 0?n.length-1:a|0,e,t):_ve(n,t===void 0?0:t|0,r===void 0?n.length-1:r|0,e)}function Eve(n,e,t,r){for(var a=e-1;e<=t;){var o=e+t>>>1,l=n[o];l<=r?(a=o,e=o+1):t=o-1}return a}function wve(n,e,t,r,a){for(var o=e-1;e<=t;){var l=e+t>>>1,s=n[l];a(s,r)<=0?(o=l,e=l+1):t=l-1}return o}function Ave(n,e,t,r,a){return typeof t=="function"?wve(n,r===void 0?0:r|0,a===void 0?n.length-1:a|0,e,t):Eve(n,t===void 0?0:t|0,r===void 0?n.length-1:r|0,e)}function Mve(n,e,t,r){for(;e<=t;){var a=e+t>>>1,o=n[a];if(o===r)return a;o<=r?e=a+1:t=a-1}return-1}function Tve(n,e,t,r,a){for(;e<=t;){var o=e+t>>>1,l=n[o],s=a(l,r);if(s===0)return o;s<=0?e=o+1:t=o-1}return-1}function Rve(n,e,t,r,a){return typeof t=="function"?Tve(n,r===void 0?0:r|0,a===void 0?n.length-1:a|0,e,t):Mve(n,t===void 0?0:t|0,r===void 0?n.length-1:r|0,e)}const ZE={ge:vve,gt:Sve,lt:Cve,le:Ave,eq:Rve};var Xv=0,im=1,R1=2;function yB(n,e,t,r,a){this.mid=n,this.left=e,this.right=t,this.leftPoints=r,this.rightPoints=a,this.count=(e?e.count:0)+(t?t.count:0)+r.length}var n_=yB.prototype;function hR(n,e){n.mid=e.mid,n.left=e.left,n.right=e.right,n.leftPoints=e.leftPoints,n.rightPoints=e.rightPoints,n.count=e.count}function vk(n,e){var t=_S(e);n.mid=t.mid,n.left=t.left,n.right=t.right,n.leftPoints=t.leftPoints,n.rightPoints=t.rightPoints,n.count=t.count}function wz(n,e){var t=n.intervals([]);t.push(e),vk(n,t)}function Az(n,e){var t=n.intervals([]),r=t.indexOf(e);return r<0?Xv:(t.splice(r,1),vk(n,t),im)}n_.intervals=function(n){return n.push.apply(n,this.leftPoints),this.left&&this.left.intervals(n),this.right&&this.right.intervals(n),n};n_.insert=function(n){var e=this.count-this.leftPoints.length;if(this.count+=1,n[1]<this.mid)this.left?4*(this.left.count+1)>3*(e+1)?wz(this,n):this.left.insert(n):this.left=_S([n]);else if(n[0]>this.mid)this.right?4*(this.right.count+1)>3*(e+1)?wz(this,n):this.right.insert(n):this.right=_S([n]);else{var t=ZE.ge(this.leftPoints,n,bB),r=ZE.ge(this.rightPoints,n,SB);this.leftPoints.splice(t,0,n),this.rightPoints.splice(r,0,n)}};n_.remove=function(n){var e=this.count-this.leftPoints;if(n[1]<this.mid){if(!this.left)return Xv;var t=this.right?this.right.count:0;if(4*t>3*(e-1))return Az(this,n);var r=this.left.remove(n);return r===R1?(this.left=null,this.count-=1,im):(r===im&&(this.count-=1),r)}else if(n[0]>this.mid){if(!this.right)return Xv;var a=this.left?this.left.count:0;if(4*a>3*(e-1))return Az(this,n);var r=this.right.remove(n);return r===R1?(this.right=null,this.count-=1,im):(r===im&&(this.count-=1),r)}else{if(this.count===1)return this.leftPoints[0]===n?R1:Xv;if(this.leftPoints.length===1&&this.leftPoints[0]===n){if(this.left&&this.right){for(var o=this,l=this.left;l.right;)o=l,l=l.right;if(o===this)l.right=this.right;else{var s=this.left,r=this.right;o.count-=l.count,o.right=l.left,l.left=s,l.right=r}hR(this,l),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?hR(this,this.left):hR(this,this.right);return im}for(var s=ZE.ge(this.leftPoints,n,bB);s<this.leftPoints.length&&this.leftPoints[s][0]===n[0];++s)if(this.leftPoints[s]===n){this.count-=1,this.leftPoints.splice(s,1);for(var r=ZE.ge(this.rightPoints,n,SB);r<this.rightPoints.length&&this.rightPoints[r][1]===n[1];++r)if(this.rightPoints[r]===n)return this.rightPoints.splice(r,1),im}return Xv}};function yk(n,e,t){for(var r=0;r<n.length&&n[r][0]<=e;++r){var a=t(n[r]);if(a)return a}}function bk(n,e,t){for(var r=n.length-1;r>=0&&n[r][1]>=e;--r){var a=t(n[r]);if(a)return a}}function Sk(n,e){for(var t=0;t<n.length;++t){var r=e(n[t]);if(r)return r}}n_.queryPoint=function(n,e){if(n<this.mid){if(this.left){var t=this.left.queryPoint(n,e);if(t)return t}return yk(this.leftPoints,n,e)}else if(n>this.mid){if(this.right){var t=this.right.queryPoint(n,e);if(t)return t}return bk(this.rightPoints,n,e)}else return Sk(this.leftPoints,e)};n_.queryInterval=function(n,e,t){if(n<this.mid&&this.left){var r=this.left.queryInterval(n,e,t);if(r)return r}if(e>this.mid&&this.right){var r=this.right.queryInterval(n,e,t);if(r)return r}return e<this.mid?yk(this.leftPoints,e,t):n>this.mid?bk(this.rightPoints,n,t):Sk(this.leftPoints,t)};function Ove(n,e){return n-e}function bB(n,e){var t=n[0]-e[0];return t||n[1]-e[1]}function SB(n,e){var t=n[1]-e[1];return t||n[0]-e[0]}function _S(n){if(n.length===0)return null;for(var e=[],t=0;t<n.length;++t)e.push(n[t][0],n[t][1]);e.sort(Ove);for(var r=e[e.length>>1],a=[],o=[],l=[],t=0;t<n.length;++t){var s=n[t];s[1]<r?a.push(s):r<s[0]?o.push(s):l.push(s)}var u=l,f=l.slice();return u.sort(bB),f.sort(SB),new yB(r,_S(a),_S(o),u,f)}function _k(n){this.root=n}var $0=_k.prototype;$0.insert=function(n){this.root?this.root.insert(n):this.root=new yB(n[0],null,null,[n],[n])};$0.remove=function(n){if(this.root){var e=this.root.remove(n);return e===R1&&(this.root=null),e!==Xv}return!1};$0.queryPoint=function(n,e){if(this.root)return this.root.queryPoint(n,e)};$0.queryInterval=function(n,e,t){if(n<=e&&this.root)return this.root.queryInterval(n,e,t)};Object.defineProperty($0,"count",{get:function(){return this.root?this.root.count:0}});Object.defineProperty($0,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function Ive(n){return new _k(null)}var pR=function(){function n(){ai(this,n),ue(this,"_columnSizeMap",{}),ue(this,"_intervalTree",Ive()),ue(this,"_leftMap",{})}return oi(n,[{key:"estimateTotalHeight",value:function(t,r,a){var o=t-this.count;return this.tallestColumnSize+Math.ceil(o/r)*a}},{key:"range",value:function(t,r,a){var o=this;this._intervalTree.queryInterval(t,t+r,function(l){var s=vt(l,3),u=s[0];s[1];var f=s[2];return a(f,o._leftMap[f],u)})}},{key:"setPosition",value:function(t,r,a,o){this._intervalTree.insert([a,a+o,t]),this._leftMap[t]=r;var l=this._columnSizeMap,s=l[r];s===void 0?l[r]=a+o:l[r]=Math.max(s,a+o)}},{key:"count",get:function(){return this._intervalTree.count}},{key:"shortestColumnSize",get:function(){var t=this._columnSizeMap,r=0;for(var a in t){var o=t[a];r=r===0?o:Math.min(r,o)}return r}},{key:"tallestColumnSize",get:function(){var t=this._columnSizeMap,r=0;for(var a in t){var o=t[a];r=Math.max(r,o)}return r}}])}();function Mz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function Bve(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Mz(Object(t),!0).forEach(function(r){ue(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Mz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Dve(n,e,t){return e=Pi(e),Ho(n,xk()?Reflect.construct(e,t||[],Pi(n).constructor):e.apply(n,t))}function xk(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xk=function(){return!!n})()}var Pve={},Lve=150,Ck=function(n){function e(){var t;ai(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=Dve(this,e,[].concat(a)),ue(t,"state",{isScrolling:!1,scrollTop:0}),ue(t,"_debounceResetIsScrollingId",void 0),ue(t,"_invalidateOnUpdateStartIndex",null),ue(t,"_invalidateOnUpdateStopIndex",null),ue(t,"_positionCache",new pR),ue(t,"_startIndex",null),ue(t,"_startIndexMemoized",null),ue(t,"_stopIndex",null),ue(t,"_stopIndexMemoized",null),ue(t,"_debounceResetIsScrollingCallback",function(){t.setState({isScrolling:!1})}),ue(t,"_setScrollingContainerRef",function(l){t._scrollingContainer=l}),ue(t,"_onScroll",function(l){var s=t.props.height,u=l.currentTarget.scrollTop,f=Math.min(Math.max(0,t._getEstimatedTotalHeight()-s),u);u===f&&(t._debounceResetIsScrolling(),t.state.scrollTop!==f&&t.setState({isScrolling:!0,scrollTop:f}))}),t}return Ar(e,n),oi(e,[{key:"clearCellPositions",value:function(){this._positionCache=new pR,this.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(r){var a=r.rowIndex;this._invalidateOnUpdateStartIndex===null?(this._invalidateOnUpdateStartIndex=a,this._invalidateOnUpdateStopIndex=a):(this._invalidateOnUpdateStartIndex=Math.min(this._invalidateOnUpdateStartIndex,a),this._invalidateOnUpdateStopIndex=Math.max(this._invalidateOnUpdateStopIndex,a))}},{key:"recomputeCellPositions",value:function(){var r=this._positionCache.count-1;this._positionCache=new pR,this._populatePositionCache(0,r),this.forceUpdate()}},{key:"componentDidMount",value:function(){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback()}},{key:"componentDidUpdate",value:function(r,a){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback(),this.props.scrollTop!==r.scrollTop&&this._debounceResetIsScrolling()}},{key:"componentWillUnmount",value:function(){this._debounceResetIsScrollingId&&A0(this._debounceResetIsScrollingId)}},{key:"render",value:function(){var r=this,a=this.props,o=a.autoHeight,l=a.cellCount,s=a.cellMeasurerCache,u=a.cellRenderer,f=a.className,m=a.height,b=a.id,_=a.keyMapper,E=a.overscanByPixels,c=a.role,p=a.style,g=a.tabIndex,y=a.width,C=a.rowDirection,T=this.state,M=T.isScrolling,O=T.scrollTop,B=[],D=this._getEstimatedTotalHeight(),F=this._positionCache.shortestColumnSize,z=this._positionCache.count,U=0,$;if(this._positionCache.range(Math.max(0,O-E),m+E*2,function(Q,ae,Y){typeof $>"u"?(U=Q,$=Q):(U=Math.min(U,Q),$=Math.max($,Q)),B.push(u({index:Q,isScrolling:M,key:_(Q),parent:r,style:ue(ue(ue(ue({height:s.getHeight(Q)},C==="ltr"?"left":"right",ae),"position","absolute"),"top",Y),"width",s.getWidth(Q))}))}),F<O+m+E&&z<l)for(var J=Math.min(l-z,Math.ceil((O+m+E-F)/s.defaultHeight*y/s.defaultWidth)),W=z;W<z+J;W++)$=W,B.push(u({index:W,isScrolling:M,key:_(W),parent:this,style:{width:s.getWidth(W)}}));return this._startIndex=U,this._stopIndex=$,w.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:Nc("ReactVirtualized__Masonry",f),id:b,onScroll:this._onScroll,role:c,style:Bve({boxSizing:"border-box",direction:"ltr",height:o?"auto":m,overflowX:"hidden",overflowY:D<m?"hidden":"auto",position:"relative",width:y,WebkitOverflowScrolling:"touch",willChange:"transform"},p),tabIndex:g},w.createElement("div",{className:"ReactVirtualized__Masonry__innerScrollContainer",style:{width:"100%",height:D,maxWidth:"100%",maxHeight:D,overflow:"hidden",pointerEvents:M?"none":"",position:"relative"}},B))}},{key:"_checkInvalidateOnUpdate",value:function(){if(typeof this._invalidateOnUpdateStartIndex=="number"){var r=this._invalidateOnUpdateStartIndex,a=this._invalidateOnUpdateStopIndex;this._invalidateOnUpdateStartIndex=null,this._invalidateOnUpdateStopIndex=null,this._populatePositionCache(r,a),this.forceUpdate()}}},{key:"_debounceResetIsScrolling",value:function(){var r=this.props.scrollingResetTimeInterval;this._debounceResetIsScrollingId&&A0(this._debounceResetIsScrollingId),this._debounceResetIsScrollingId=vB(this._debounceResetIsScrollingCallback,r)}},{key:"_getEstimatedTotalHeight",value:function(){var r=this.props,a=r.cellCount,o=r.cellMeasurerCache,l=r.width,s=Math.max(1,Math.floor(l/o.defaultWidth));return this._positionCache.estimateTotalHeight(a,s,o.defaultHeight)}},{key:"_invokeOnScrollCallback",value:function(){var r=this.props,a=r.height,o=r.onScroll,l=this.state.scrollTop;this._onScrollMemoized!==l&&(o({clientHeight:a,scrollHeight:this._getEstimatedTotalHeight(),scrollTop:l}),this._onScrollMemoized=l)}},{key:"_invokeOnCellsRenderedCallback",value:function(){if(this._startIndexMemoized!==this._startIndex||this._stopIndexMemoized!==this._stopIndex){var r=this.props.onCellsRendered;r({startIndex:this._startIndex,stopIndex:this._stopIndex}),this._startIndexMemoized=this._startIndex,this._stopIndexMemoized=this._stopIndex}}},{key:"_populatePositionCache",value:function(r,a){for(var o=this.props,l=o.cellMeasurerCache,s=o.cellPositioner,u=r;u<=a;u++){var f=s(u),m=f.left,b=f.top;this._positionCache.setPosition(u,m,b,l.getHeight(u))}}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.scrollTop!==void 0&&a.scrollTop!==r.scrollTop?{isScrolling:!0,scrollTop:r.scrollTop}:null}}])}(w.PureComponent);ue(Ck,"defaultProps",{autoHeight:!1,keyMapper:Nve,onCellsRendered:Tz,onScroll:Tz,overscanByPixels:20,role:"grid",scrollingResetTimeInterval:Lve,style:Pve,tabIndex:0,rowDirection:"ltr"});function Nve(n){return n}function Tz(){}t_(Ck);var mR=function(){function n(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ai(this,n),ue(this,"_cellMeasurerCache",void 0),ue(this,"_columnIndexOffset",void 0),ue(this,"_rowIndexOffset",void 0),ue(this,"columnWidth",function(u){var f=u.index;e._cellMeasurerCache.columnWidth({index:f+e._columnIndexOffset})}),ue(this,"rowHeight",function(u){var f=u.index;e._cellMeasurerCache.rowHeight({index:f+e._rowIndexOffset})});var r=t.cellMeasurerCache,a=t.columnIndexOffset,o=a===void 0?0:a,l=t.rowIndexOffset,s=l===void 0?0:l;this._cellMeasurerCache=r,this._columnIndexOffset=o,this._rowIndexOffset=s}return oi(n,[{key:"clear",value:function(t,r){this._cellMeasurerCache.clear(t+this._rowIndexOffset,r+this._columnIndexOffset)}},{key:"clearAll",value:function(){this._cellMeasurerCache.clearAll()}},{key:"defaultHeight",get:function(){return this._cellMeasurerCache.defaultHeight}},{key:"defaultWidth",get:function(){return this._cellMeasurerCache.defaultWidth}},{key:"hasFixedHeight",value:function(){return this._cellMeasurerCache.hasFixedHeight()}},{key:"hasFixedWidth",value:function(){return this._cellMeasurerCache.hasFixedWidth()}},{key:"getHeight",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.getHeight(t+this._rowIndexOffset,r+this._columnIndexOffset)}},{key:"getWidth",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.getWidth(t+this._rowIndexOffset,r+this._columnIndexOffset)}},{key:"has",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.has(t+this._rowIndexOffset,r+this._columnIndexOffset)}},{key:"set",value:function(t,r,a,o){this._cellMeasurerCache.set(t+this._rowIndexOffset,r+this._columnIndexOffset,a,o)}}])}(),zve=["rowIndex"],Uve=["columnIndex","rowIndex"],Fve=["columnIndex"],Hve=["onScroll","onSectionRendered","onScrollbarPresenceChange","scrollLeft","scrollToColumn","scrollTop","scrollToRow"];function Rz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function vr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Rz(Object(t),!0).forEach(function(r){ue(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Rz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Gve(n,e,t){return e=Pi(e),Ho(n,Ek()?Reflect.construct(e,t||[],Pi(n).constructor):e.apply(n,t))}function Ek(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ek=function(){return!!n})()}var Oz=20,_B=function(n){function e(t,r){var a;ai(this,e),a=Gve(this,e,[t,r]),ue(a,"state",{scrollLeft:0,scrollTop:0,scrollbarSize:0,showHorizontalScrollbar:!1,showVerticalScrollbar:!1}),ue(a,"_deferredInvalidateColumnIndex",null),ue(a,"_deferredInvalidateRowIndex",null),ue(a,"_bottomLeftGridRef",function(u){a._bottomLeftGrid=u}),ue(a,"_bottomRightGridRef",function(u){a._bottomRightGrid=u}),ue(a,"_cellRendererBottomLeftGrid",function(u){var f=u.rowIndex,m=kn(u,zve),b=a.props,_=b.cellRenderer,E=b.fixedRowCount,c=b.rowCount;return f===c-E?w.createElement("div",{key:m.key,style:vr(vr({},m.style),{},{height:Oz})}):_(vr(vr({},m),{},{parent:a,rowIndex:f+E}))}),ue(a,"_cellRendererBottomRightGrid",function(u){var f=u.columnIndex,m=u.rowIndex,b=kn(u,Uve),_=a.props,E=_.cellRenderer,c=_.fixedColumnCount,p=_.fixedRowCount;return E(vr(vr({},b),{},{columnIndex:f+c,parent:a,rowIndex:m+p}))}),ue(a,"_cellRendererTopRightGrid",function(u){var f=u.columnIndex,m=kn(u,Fve),b=a.props,_=b.cellRenderer,E=b.columnCount,c=b.fixedColumnCount;return f===E-c?w.createElement("div",{key:m.key,style:vr(vr({},m.style),{},{width:Oz})}):_(vr(vr({},m),{},{columnIndex:f+c,parent:a}))}),ue(a,"_columnWidthRightGrid",function(u){var f=u.index,m=a.props,b=m.columnCount,_=m.fixedColumnCount,E=m.columnWidth,c=a.state,p=c.scrollbarSize,g=c.showHorizontalScrollbar;return g&&f===b-_?p:typeof E=="function"?E({index:f+_}):E}),ue(a,"_onScroll",function(u){var f=u.scrollLeft,m=u.scrollTop;a.setState({scrollLeft:f,scrollTop:m});var b=a.props.onScroll;b&&b(u)}),ue(a,"_onScrollbarPresenceChange",function(u){var f=u.horizontal,m=u.size,b=u.vertical,_=a.state,E=_.showHorizontalScrollbar,c=_.showVerticalScrollbar;if(f!==E||b!==c){a.setState({scrollbarSize:m,showHorizontalScrollbar:f,showVerticalScrollbar:b});var p=a.props.onScrollbarPresenceChange;typeof p=="function"&&p({horizontal:f,size:m,vertical:b})}}),ue(a,"_onScrollLeft",function(u){var f=u.scrollLeft;a._onScroll({scrollLeft:f,scrollTop:a.state.scrollTop})}),ue(a,"_onScrollTop",function(u){var f=u.scrollTop;a._onScroll({scrollTop:f,scrollLeft:a.state.scrollLeft})}),ue(a,"_rowHeightBottomGrid",function(u){var f=u.index,m=a.props,b=m.fixedRowCount,_=m.rowCount,E=m.rowHeight,c=a.state,p=c.scrollbarSize,g=c.showVerticalScrollbar;return g&&f===_-b?p:typeof E=="function"?E({index:f+b}):E}),ue(a,"_topLeftGridRef",function(u){a._topLeftGrid=u}),ue(a,"_topRightGridRef",function(u){a._topRightGrid=u});var o=t.deferredMeasurementCache,l=t.fixedColumnCount,s=t.fixedRowCount;return a._maybeCalculateCachedStyles(!0),o&&(a._deferredMeasurementCacheBottomLeftGrid=s>0?new mR({cellMeasurerCache:o,columnIndexOffset:0,rowIndexOffset:s}):o,a._deferredMeasurementCacheBottomRightGrid=l>0||s>0?new mR({cellMeasurerCache:o,columnIndexOffset:l,rowIndexOffset:s}):o,a._deferredMeasurementCacheTopRightGrid=l>0?new mR({cellMeasurerCache:o,columnIndexOffset:l,rowIndexOffset:0}):o),a}return Ar(e,n),oi(e,[{key:"forceUpdateGrids",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.forceUpdate(),this._bottomRightGrid&&this._bottomRightGrid.forceUpdate(),this._topLeftGrid&&this._topLeftGrid.forceUpdate(),this._topRightGrid&&this._topRightGrid.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=r.columnIndex,o=a===void 0?0:a,l=r.rowIndex,s=l===void 0?0:l;this._deferredInvalidateColumnIndex=typeof this._deferredInvalidateColumnIndex=="number"?Math.min(this._deferredInvalidateColumnIndex,o):o,this._deferredInvalidateRowIndex=typeof this._deferredInvalidateRowIndex=="number"?Math.min(this._deferredInvalidateRowIndex,s):s}},{key:"measureAllCells",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.measureAllCells(),this._bottomRightGrid&&this._bottomRightGrid.measureAllCells(),this._topLeftGrid&&this._topLeftGrid.measureAllCells(),this._topRightGrid&&this._topRightGrid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=r.columnIndex,o=a===void 0?0:a,l=r.rowIndex,s=l===void 0?0:l,u=this.props,f=u.fixedColumnCount,m=u.fixedRowCount,b=Math.max(0,o-f),_=Math.max(0,s-m);this._bottomLeftGrid&&this._bottomLeftGrid.recomputeGridSize({columnIndex:o,rowIndex:_}),this._bottomRightGrid&&this._bottomRightGrid.recomputeGridSize({columnIndex:b,rowIndex:_}),this._topLeftGrid&&this._topLeftGrid.recomputeGridSize({columnIndex:o,rowIndex:s}),this._topRightGrid&&this._topRightGrid.recomputeGridSize({columnIndex:b,rowIndex:s}),this._leftGridWidth=null,this._topGridHeight=null,this._maybeCalculateCachedStyles(!0)}},{key:"componentDidMount",value:function(){var r=this.props,a=r.scrollLeft,o=r.scrollTop;if(a>0||o>0){var l={};a>0&&(l.scrollLeft=a),o>0&&(l.scrollTop=o),this.setState(l)}this._handleInvalidatedGridSize()}},{key:"componentDidUpdate",value:function(){this._handleInvalidatedGridSize()}},{key:"render",value:function(){var r=this.props,a=r.onScroll,o=r.onSectionRendered;r.onScrollbarPresenceChange,r.scrollLeft;var l=r.scrollToColumn;r.scrollTop;var s=r.scrollToRow,u=kn(r,Hve);if(this._prepareForRender(),this.props.width===0||this.props.height===0)return null;var f=this.state,m=f.scrollLeft,b=f.scrollTop;return w.createElement("div",{style:this._containerOuterStyle},w.createElement("div",{style:this._containerTopStyle},this._renderTopLeftGrid(u),this._renderTopRightGrid(vr(vr({},u),{},{onScroll:a,scrollLeft:m}))),w.createElement("div",{style:this._containerBottomStyle},this._renderBottomLeftGrid(vr(vr({},u),{},{onScroll:a,scrollTop:b})),this._renderBottomRightGrid(vr(vr({},u),{},{onScroll:a,onSectionRendered:o,scrollLeft:m,scrollToColumn:l,scrollToRow:s,scrollTop:b}))))}},{key:"_getBottomGridHeight",value:function(r){var a=r.height,o=this._getTopGridHeight(r);return a-o}},{key:"_getLeftGridWidth",value:function(r){var a=r.fixedColumnCount,o=r.columnWidth;if(this._leftGridWidth==null)if(typeof o=="function"){for(var l=0,s=0;s<a;s++)l+=o({index:s});this._leftGridWidth=l}else this._leftGridWidth=o*a;return this._leftGridWidth}},{key:"_getRightGridWidth",value:function(r){var a=r.width,o=this._getLeftGridWidth(r);return a-o}},{key:"_getTopGridHeight",value:function(r){var a=r.fixedRowCount,o=r.rowHeight;if(this._topGridHeight==null)if(typeof o=="function"){for(var l=0,s=0;s<a;s++)l+=o({index:s});this._topGridHeight=l}else this._topGridHeight=o*a;return this._topGridHeight}},{key:"_handleInvalidatedGridSize",value:function(){if(typeof this._deferredInvalidateColumnIndex=="number"){var r=this._deferredInvalidateColumnIndex,a=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:r,rowIndex:a}),this.forceUpdate()}}},{key:"_maybeCalculateCachedStyles",value:function(r){var a=this.props,o=a.columnWidth,l=a.enableFixedColumnScroll,s=a.enableFixedRowScroll,u=a.height,f=a.fixedColumnCount,m=a.fixedRowCount,b=a.rowHeight,_=a.style,E=a.styleBottomLeftGrid,c=a.styleBottomRightGrid,p=a.styleTopLeftGrid,g=a.styleTopRightGrid,y=a.width,C=r||u!==this._lastRenderedHeight||y!==this._lastRenderedWidth,T=r||o!==this._lastRenderedColumnWidth||f!==this._lastRenderedFixedColumnCount,M=r||m!==this._lastRenderedFixedRowCount||b!==this._lastRenderedRowHeight;(r||C||_!==this._lastRenderedStyle)&&(this._containerOuterStyle=vr({height:u,overflow:"visible",width:y},_)),(r||C||M)&&(this._containerTopStyle={height:this._getTopGridHeight(this.props),position:"relative",width:y},this._containerBottomStyle={height:u-this._getTopGridHeight(this.props),overflow:"visible",position:"relative",width:y}),(r||E!==this._lastRenderedStyleBottomLeftGrid)&&(this._bottomLeftGridStyle=vr({left:0,overflowX:"hidden",overflowY:l?"auto":"hidden",position:"absolute"},E)),(r||T||c!==this._lastRenderedStyleBottomRightGrid)&&(this._bottomRightGridStyle=vr({left:this._getLeftGridWidth(this.props),position:"absolute"},c)),(r||p!==this._lastRenderedStyleTopLeftGrid)&&(this._topLeftGridStyle=vr({left:0,overflowX:"hidden",overflowY:"hidden",position:"absolute",top:0},p)),(r||T||g!==this._lastRenderedStyleTopRightGrid)&&(this._topRightGridStyle=vr({left:this._getLeftGridWidth(this.props),overflowX:s?"auto":"hidden",overflowY:"hidden",position:"absolute",top:0},g)),this._lastRenderedColumnWidth=o,this._lastRenderedFixedColumnCount=f,this._lastRenderedFixedRowCount=m,this._lastRenderedHeight=u,this._lastRenderedRowHeight=b,this._lastRenderedStyle=_,this._lastRenderedStyleBottomLeftGrid=E,this._lastRenderedStyleBottomRightGrid=c,this._lastRenderedStyleTopLeftGrid=p,this._lastRenderedStyleTopRightGrid=g,this._lastRenderedWidth=y}},{key:"_prepareForRender",value:function(){(this._lastRenderedColumnWidth!==this.props.columnWidth||this._lastRenderedFixedColumnCount!==this.props.fixedColumnCount)&&(this._leftGridWidth=null),(this._lastRenderedFixedRowCount!==this.props.fixedRowCount||this._lastRenderedRowHeight!==this.props.rowHeight)&&(this._topGridHeight=null),this._maybeCalculateCachedStyles(),this._lastRenderedColumnWidth=this.props.columnWidth,this._lastRenderedFixedColumnCount=this.props.fixedColumnCount,this._lastRenderedFixedRowCount=this.props.fixedRowCount,this._lastRenderedRowHeight=this.props.rowHeight}},{key:"_renderBottomLeftGrid",value:function(r){var a=r.enableFixedColumnScroll,o=r.fixedColumnCount,l=r.fixedRowCount,s=r.rowCount,u=r.hideBottomLeftGridScrollbar,f=this.state.showVerticalScrollbar;if(!o)return null;var m=f?1:0,b=this._getBottomGridHeight(r),_=this._getLeftGridWidth(r),E=this.state.showVerticalScrollbar?this.state.scrollbarSize:0,c=u?_+E:_,p=w.createElement(Yu,Pt({},r,{cellRenderer:this._cellRendererBottomLeftGrid,className:this.props.classNameBottomLeftGrid,columnCount:o,deferredMeasurementCache:this._deferredMeasurementCacheBottomLeftGrid,height:b,onScroll:a?this._onScrollTop:void 0,ref:this._bottomLeftGridRef,rowCount:Math.max(0,s-l)+m,rowHeight:this._rowHeightBottomGrid,style:this._bottomLeftGridStyle,tabIndex:null,width:c}));return u?w.createElement("div",{className:"BottomLeftGrid_ScrollWrapper",style:vr(vr({},this._bottomLeftGridStyle),{},{height:b,width:_,overflowY:"hidden"})},p):p}},{key:"_renderBottomRightGrid",value:function(r){var a=r.columnCount,o=r.fixedColumnCount,l=r.fixedRowCount,s=r.rowCount,u=r.scrollToColumn,f=r.scrollToRow;return w.createElement(Yu,Pt({},r,{cellRenderer:this._cellRendererBottomRightGrid,className:this.props.classNameBottomRightGrid,columnCount:Math.max(0,a-o),columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheBottomRightGrid,height:this._getBottomGridHeight(r),onScroll:this._onScroll,onScrollbarPresenceChange:this._onScrollbarPresenceChange,ref:this._bottomRightGridRef,rowCount:Math.max(0,s-l),rowHeight:this._rowHeightBottomGrid,scrollToColumn:u-o,scrollToRow:f-l,style:this._bottomRightGridStyle,width:this._getRightGridWidth(r)}))}},{key:"_renderTopLeftGrid",value:function(r){var a=r.fixedColumnCount,o=r.fixedRowCount;return!a||!o?null:w.createElement(Yu,Pt({},r,{className:this.props.classNameTopLeftGrid,columnCount:a,height:this._getTopGridHeight(r),ref:this._topLeftGridRef,rowCount:o,style:this._topLeftGridStyle,tabIndex:null,width:this._getLeftGridWidth(r)}))}},{key:"_renderTopRightGrid",value:function(r){var a=r.columnCount,o=r.enableFixedRowScroll,l=r.fixedColumnCount,s=r.fixedRowCount,u=r.scrollLeft,f=r.hideTopRightGridScrollbar,m=this.state,b=m.showHorizontalScrollbar,_=m.scrollbarSize;if(!s)return null;var E=b?1:0,c=this._getTopGridHeight(r),p=this._getRightGridWidth(r),g=b?_:0,y=c,C=this._topRightGridStyle;f&&(y=c+g,C=vr(vr({},this._topRightGridStyle),{},{left:0}));var T=w.createElement(Yu,Pt({},r,{cellRenderer:this._cellRendererTopRightGrid,className:this.props.classNameTopRightGrid,columnCount:Math.max(0,a-l)+E,columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheTopRightGrid,height:y,onScroll:o?this._onScrollLeft:void 0,ref:this._topRightGridRef,rowCount:s,scrollLeft:u,style:C,tabIndex:null,width:p}));return f?w.createElement("div",{className:"TopRightGrid_ScrollWrapper",style:vr(vr({},this._topRightGridStyle),{},{height:c,width:p,overflowX:"hidden"})},T):T}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.scrollLeft!==a.scrollLeft||r.scrollTop!==a.scrollTop?{scrollLeft:r.scrollLeft!=null&&r.scrollLeft>=0?r.scrollLeft:a.scrollLeft,scrollTop:r.scrollTop!=null&&r.scrollTop>=0?r.scrollTop:a.scrollTop}:null}}])}(w.PureComponent);ue(_B,"defaultProps",{classNameBottomLeftGrid:"",classNameBottomRightGrid:"",classNameTopLeftGrid:"",classNameTopRightGrid:"",enableFixedColumnScroll:!1,enableFixedRowScroll:!1,fixedColumnCount:0,fixedRowCount:0,scrollToColumn:-1,scrollToRow:-1,style:{},styleBottomLeftGrid:{},styleBottomRightGrid:{},styleTopLeftGrid:{},styleTopRightGrid:{},hideTopRightGridScrollbar:!1,hideBottomLeftGridScrollbar:!1});_B.propTypes={};t_(_B);function kve(n,e,t){return e=Pi(e),Ho(n,wk()?Reflect.construct(e,t||[],Pi(n).constructor):e.apply(n,t))}function wk(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wk=function(){return!!n})()}var Ak=function(n){function e(t,r){var a;return ai(this,e),a=kve(this,e,[t,r]),a.state={clientHeight:0,clientWidth:0,scrollHeight:0,scrollLeft:0,scrollTop:0,scrollWidth:0},a._onScroll=a._onScroll.bind(a),a}return Ar(e,n),oi(e,[{key:"render",value:function(){var r=this.props.children,a=this.state,o=a.clientHeight,l=a.clientWidth,s=a.scrollHeight,u=a.scrollLeft,f=a.scrollTop,m=a.scrollWidth;return r({clientHeight:o,clientWidth:l,onScroll:this._onScroll,scrollHeight:s,scrollLeft:u,scrollTop:f,scrollWidth:m})}},{key:"_onScroll",value:function(r){var a=r.clientHeight,o=r.clientWidth,l=r.scrollHeight,s=r.scrollLeft,u=r.scrollTop,f=r.scrollWidth;this.setState({clientHeight:a,clientWidth:o,scrollHeight:l,scrollLeft:s,scrollTop:u,scrollWidth:f})}}])}(w.PureComponent);Ak.propTypes={};function $ve(n){var e=n.dataKey,t=n.rowData;return typeof t.get=="function"?t.get(e):t[e]}function Vve(n){var e=n.cellData;return e==null?"":String(e)}function jve(n){var e=n.className,t=n.columns,r=n.style;return w.createElement("div",{className:e,role:"row",style:r},t)}var Ph={ASC:"ASC",DESC:"DESC"};function Mk(n){var e=n.sortDirection,t=Nc("ReactVirtualized__Table__sortableHeaderIcon",{"ReactVirtualized__Table__sortableHeaderIcon--ASC":e===Ph.ASC,"ReactVirtualized__Table__sortableHeaderIcon--DESC":e===Ph.DESC});return w.createElement("svg",{className:t,width:18,height:18,viewBox:"0 0 24 24"},e===Ph.ASC?w.createElement("path",{d:"M7 14l5-5 5 5z"}):w.createElement("path",{d:"M7 10l5 5 5-5z"}),w.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}Mk.propTypes={};function Wve(n){var e=n.dataKey,t=n.label,r=n.sortBy,a=n.sortDirection,o=r===e,l=[w.createElement("span",{className:"ReactVirtualized__Table__headerTruncatedText",key:"label",title:typeof t=="string"?t:null},t)];return o&&l.push(w.createElement(Mk,{key:"SortIndicator",sortDirection:a})),l}function Xve(n){var e=n.className,t=n.columns,r=n.index,a=n.key,o=n.onRowClick,l=n.onRowDoubleClick,s=n.onRowMouseOut,u=n.onRowMouseOver,f=n.onRowRightClick,m=n.rowData,b=n.style,_={"aria-rowindex":r+1};return(o||l||s||u||f)&&(_["aria-label"]="row",_.tabIndex=0,o&&(_.onClick=function(E){return o({event:E,index:r,rowData:m})}),l&&(_.onDoubleClick=function(E){return l({event:E,index:r,rowData:m})}),s&&(_.onMouseOut=function(E){return s({event:E,index:r,rowData:m})}),u&&(_.onMouseOver=function(E){return u({event:E,index:r,rowData:m})}),f&&(_.onContextMenu=function(E){return f({event:E,index:r,rowData:m})})),w.createElement("div",Pt({},_,{className:e,key:a,role:"row",style:b}),t)}function Yve(n,e,t){return e=Pi(e),Ho(n,Tk()?Reflect.construct(e,t||[],Pi(n).constructor):e.apply(n,t))}function Tk(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Tk=function(){return!!n})()}var xB=function(n){function e(){return ai(this,e),Yve(this,e,arguments)}return Ar(e,n),oi(e)}(w.Component);ue(xB,"defaultProps",{cellDataGetter:$ve,cellRenderer:Vve,defaultSortDirection:Ph.ASC,flexGrow:0,flexShrink:1,headerRenderer:Wve,style:{}});xB.propTypes={};function Iz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function Nu(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Iz(Object(t),!0).forEach(function(r){ue(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Iz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function qve(n,e,t){return e=Pi(e),Ho(n,Rk()?Reflect.construct(e,t||[],Pi(n).constructor):e.apply(n,t))}function Rk(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rk=function(){return!!n})()}var Ok=function(n){function e(t){var r;return ai(this,e),r=qve(this,e,[t]),r.state={scrollbarWidth:0},r._createColumn=r._createColumn.bind(r),r._createRow=r._createRow.bind(r),r._onScroll=r._onScroll.bind(r),r._onSectionRendered=r._onSectionRendered.bind(r),r._setRef=r._setRef.bind(r),r._setGridElementRef=r._setGridElementRef.bind(r),r}return Ar(e,n),oi(e,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(r){var a=r.alignment,o=r.index;if(this.Grid){var l=this.Grid.getOffsetForCell({alignment:a,rowIndex:o}),s=l.scrollTop;return s}return 0}},{key:"invalidateCellSizeAfterRender",value:function(r){var a=r.columnIndex,o=r.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:o,columnIndex:a})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=r.columnIndex,o=a===void 0?0:a,l=r.rowIndex,s=l===void 0?0:l;this.Grid&&this.Grid.recomputeGridSize({rowIndex:s,columnIndex:o})}},{key:"recomputeRowHeights",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:r})}},{key:"scrollToPosition",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:r})}},{key:"scrollToRow",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:r})}},{key:"getScrollbarWidth",value:function(){if(this.GridElement){var r=this.GridElement,a=r.clientWidth||0,o=r.offsetWidth||0;return o-a}return 0}},{key:"componentDidMount",value:function(){this._setScrollbarWidth()}},{key:"componentDidUpdate",value:function(){this._setScrollbarWidth()}},{key:"render",value:function(){var r=this,a=this.props,o=a.children,l=a.className,s=a.disableHeader,u=a.gridClassName,f=a.gridStyle,m=a.headerHeight,b=a.headerRowRenderer,_=a.height,E=a.id,c=a.noRowsRenderer,p=a.rowClassName,g=a.rowStyle,y=a.scrollToIndex,C=a.style,T=a.width,M=this.state.scrollbarWidth,O=s?_:_-m,B=typeof p=="function"?p({index:-1}):p,D=typeof g=="function"?g({index:-1}):g;return this._cachedColumnStyles=[],w.Children.toArray(o).forEach(function(F,z){var U=r._getFlexStyleForColumn(F,F.props.style||xB.defaultProps.style);r._cachedColumnStyles[z]=Nu({overflow:"hidden"},U)}),w.createElement("div",{"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-colcount":w.Children.toArray(o).length,"aria-rowcount":this.props.rowCount,className:Nc("ReactVirtualized__Table",l),id:E,role:"grid",style:C},!s&&b({className:Nc("ReactVirtualized__Table__headerRow",B),columns:this._getHeaderColumns(),style:Nu({height:m,overflow:"hidden",paddingRight:M,width:T},D)}),w.createElement(Yu,Pt({},this.props,{elementRef:this._setGridElementRef,"aria-readonly":null,autoContainerWidth:!0,className:Nc("ReactVirtualized__Table__Grid",u),cellRenderer:this._createRow,columnWidth:T,columnCount:1,height:O,id:void 0,noContentRenderer:c,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,role:"rowgroup",scrollbarWidth:M,scrollToRow:y,style:Nu(Nu({},f),{},{overflowX:"hidden"})})))}},{key:"_createColumn",value:function(r){var a=r.column,o=r.columnIndex,l=r.isScrolling,s=r.parent,u=r.rowData,f=r.rowIndex,m=this.props.onColumnClick,b=a.props,_=b.cellDataGetter,E=b.cellRenderer,c=b.className,p=b.columnData,g=b.dataKey,y=b.id,C=_({columnData:p,dataKey:g,rowData:u}),T=E({cellData:C,columnData:p,columnIndex:o,dataKey:g,isScrolling:l,parent:s,rowData:u,rowIndex:f}),M=function(F){m&&m({columnData:p,dataKey:g,event:F})},O=this._cachedColumnStyles[o],B=typeof T=="string"?T:null;return w.createElement("div",{"aria-colindex":o+1,"aria-describedby":y,className:Nc("ReactVirtualized__Table__rowColumn",c),key:"Row"+f+"-Col"+o,onClick:M,role:"gridcell",style:O,title:B},T)}},{key:"_createHeader",value:function(r){var a=r.column,o=r.index,l=this.props,s=l.headerClassName,u=l.headerStyle,f=l.onHeaderClick,m=l.sort,b=l.sortBy,_=l.sortDirection,E=a.props,c=E.columnData,p=E.dataKey,g=E.defaultSortDirection,y=E.disableSort,C=E.headerRenderer,T=E.id,M=E.label,O=!y&&m,B=Nc("ReactVirtualized__Table__headerColumn",s,a.props.headerClassName,{ReactVirtualized__Table__sortableHeaderColumn:O}),D=this._getFlexStyleForColumn(a,Nu(Nu({},u),a.props.headerStyle)),F=C({columnData:c,dataKey:p,disableSort:y,label:M,sortBy:b,sortDirection:_}),z,U,$,J,W;if(O||f){var Q=b!==p,ae=Q?g:_===Ph.DESC?Ph.ASC:Ph.DESC,Y=function(de){O&&m({defaultSortDirection:g,event:de,sortBy:p,sortDirection:ae}),f&&f({columnData:c,dataKey:p,event:de})},K=function(de){(de.key==="Enter"||de.key===" ")&&Y(de)};W=a.props["aria-label"]||M||p,J="none",$=0,z=Y,U=K}return b===p&&(J=_===Ph.ASC?"ascending":"descending"),w.createElement("div",{"aria-label":W,"aria-sort":J,className:B,id:T,key:"Header-Col"+o,onClick:z,onKeyDown:U,role:"columnheader",style:D,tabIndex:$},F)}},{key:"_createRow",value:function(r){var a=this,o=r.rowIndex,l=r.isScrolling,s=r.key,u=r.parent,f=r.style,m=this.props,b=m.children,_=m.onRowClick,E=m.onRowDoubleClick,c=m.onRowRightClick,p=m.onRowMouseOver,g=m.onRowMouseOut,y=m.rowClassName,C=m.rowGetter,T=m.rowRenderer,M=m.rowStyle,O=this.state.scrollbarWidth,B=typeof y=="function"?y({index:o}):y,D=typeof M=="function"?M({index:o}):M,F=C({index:o}),z=w.Children.toArray(b).map(function(J,W){return a._createColumn({column:J,columnIndex:W,isScrolling:l,parent:u,rowData:F,rowIndex:o,scrollbarWidth:O})}),U=Nc("ReactVirtualized__Table__row",B),$=Nu(Nu({},f),{},{height:this._getRowHeight(o),overflow:"hidden",paddingRight:O},D);return T({className:U,columns:z,index:o,isScrolling:l,key:s,onRowClick:_,onRowDoubleClick:E,onRowRightClick:c,onRowMouseOver:p,onRowMouseOut:g,rowData:F,style:$})}},{key:"_getFlexStyleForColumn",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o="".concat(r.props.flexGrow," ").concat(r.props.flexShrink," ").concat(r.props.width,"px"),l=Nu(Nu({},a),{},{flex:o,msFlex:o,WebkitFlex:o});return r.props.maxWidth&&(l.maxWidth=r.props.maxWidth),r.props.minWidth&&(l.minWidth=r.props.minWidth),l}},{key:"_getHeaderColumns",value:function(){var r=this,a=this.props,o=a.children,l=a.disableHeader,s=l?[]:w.Children.toArray(o);return s.map(function(u,f){return r._createHeader({column:u,index:f})})}},{key:"_getRowHeight",value:function(r){var a=this.props.rowHeight;return typeof a=="function"?a({index:r}):a}},{key:"_onScroll",value:function(r){var a=r.clientHeight,o=r.scrollHeight,l=r.scrollTop,s=this.props.onScroll;s({clientHeight:a,scrollHeight:o,scrollTop:l})}},{key:"_onSectionRendered",value:function(r){var a=r.rowOverscanStartIndex,o=r.rowOverscanStopIndex,l=r.rowStartIndex,s=r.rowStopIndex,u=this.props.onRowsRendered;u({overscanStartIndex:a,overscanStopIndex:o,startIndex:l,stopIndex:s})}},{key:"_setRef",value:function(r){this.Grid=r}},{key:"_setGridElementRef",value:function(r){this.GridElement=r}},{key:"_setScrollbarWidth",value:function(){var r=this.getScrollbarWidth();this.setState({scrollbarWidth:r})}}])}(w.PureComponent);ue(Ok,"defaultProps",{disableHeader:!1,estimatedRowSize:30,headerHeight:0,headerStyle:{},noRowsRenderer:function(){return null},onRowsRendered:function(){return null},onScroll:function(){return null},overscanIndicesGetter:hk,overscanRowCount:10,rowRenderer:Xve,headerRowRenderer:jve,rowStyle:{},scrollToAlignment:"auto",scrollToIndex:-1,style:{}});Ok.propTypes={};var zh=[],jb=null,Mm=null;function Ik(){Mm&&(Mm=null,document.body&&jb!=null&&(document.body.style.pointerEvents=jb),jb=null)}function Kve(){Ik(),zh.forEach(function(n){return n.__resetIsScrolling()})}function Jve(){Mm&&A0(Mm);var n=0;zh.forEach(function(e){n=Math.max(n,e.props.scrollingResetTimeInterval)}),Mm=vB(Kve,n)}function Bk(n){n.currentTarget===window&&jb==null&&document.body&&(jb=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),Jve(),zh.forEach(function(e){e.props.scrollElement===n.currentTarget&&e.__handleWindowScrollEvent()})}function Bz(n,e){zh.some(function(t){return t.props.scrollElement===e})||e.addEventListener("scroll",Bk),zh.push(n)}function Dz(n,e){zh=zh.filter(function(t){return t!==n}),zh.length||(e.removeEventListener("scroll",Bk),Mm&&(A0(Mm),Ik()))}var CB=function(e){return e===window},Mb=function(e){return e.getBoundingClientRect()};function Pz(n,e){if(n)if(CB(n)){var t=window,r=t.innerHeight,a=t.innerWidth;return{height:typeof r=="number"?r:0,width:typeof a=="number"?a:0}}else return Mb(n);else return{height:e.serverHeight,width:e.serverWidth}}function Qve(n,e){if(CB(e)&&document.documentElement){var t=document.documentElement,r=Mb(n),a=Mb(t);return{top:r.top-a.top,left:r.left-a.left}}else{var o=Dk(e),l=Mb(n),s=Mb(e);return{top:l.top+o.top-s.top,left:l.left+o.left-s.left}}}function Dk(n){return CB(n)&&document.documentElement?{top:"scrollY"in window?window.scrollY:document.documentElement.scrollTop,left:"scrollX"in window?window.scrollX:document.documentElement.scrollLeft}:{top:n.scrollTop,left:n.scrollLeft}}function Lz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function Nz(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Lz(Object(t),!0).forEach(function(r){ue(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Lz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Zve(n,e,t){return e=Pi(e),Ho(n,Pk()?Reflect.construct(e,t||[],Pi(n).constructor):e.apply(n,t))}function Pk(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pk=function(){return!!n})()}var e0e=150,Lk=function(){return typeof window<"u"?window:void 0},t0e=function(n){function e(){var t;ai(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=Zve(this,e,[].concat(a)),ue(t,"_window",Lk()),ue(t,"_isMounted",!1),ue(t,"_positionFromTop",0),ue(t,"_positionFromLeft",0),ue(t,"_detectElementResize",void 0),ue(t,"_child",void 0),ue(t,"_windowScrollerRef",w.createRef()),ue(t,"state",Nz(Nz({},Pz(t.props.scrollElement,t.props)),{},{isScrolling:!1,scrollLeft:0,scrollTop:0})),ue(t,"_registerChild",function(l){l&&!(l instanceof Element)&&console.warn("WindowScroller registerChild expects to be passed Element or null"),t._child=l,t.updatePosition()}),ue(t,"_onChildScroll",function(l){var s=l.scrollTop;if(t.state.scrollTop!==s){var u=t.props.scrollElement;u&&(typeof u.scrollTo=="function"?u.scrollTo(0,s+t._positionFromTop):u.scrollTop=s+t._positionFromTop)}}),ue(t,"_registerResizeListener",function(l){l===window?window.addEventListener("resize",t._onResize,!1):t._detectElementResize.addResizeListener(l,t._onResize)}),ue(t,"_unregisterResizeListener",function(l){l===window?window.removeEventListener("resize",t._onResize,!1):l&&t._detectElementResize.removeResizeListener(l,t._onResize)}),ue(t,"_onResize",function(){t.updatePosition()}),ue(t,"__handleWindowScrollEvent",function(){if(t._isMounted){var l=t.props.onScroll,s=t.props.scrollElement;if(s){var u=Dk(s),f=Math.max(0,u.left-t._positionFromLeft),m=Math.max(0,u.top-t._positionFromTop);t.setState({isScrolling:!0,scrollLeft:f,scrollTop:m}),l({scrollLeft:f,scrollTop:m})}}}),ue(t,"__resetIsScrolling",function(){t.setState({isScrolling:!1})}),t}return Ar(e,n),oi(e,[{key:"updatePosition",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollElement,a=this.props.onResize,o=this.state,l=o.height,s=o.width,u=this._child||this._windowScrollerRef.current;if(u instanceof Element&&r){var f=Qve(u,r);this._positionFromTop=f.top,this._positionFromLeft=f.left}var m=Pz(r,this.props);(l!==m.height||s!==m.width)&&(this.setState({height:m.height,width:m.width}),a({height:m.height,width:m.width})),this.props.updateScrollTopOnUpdatePosition===!0&&(this.__handleWindowScrollEvent(),this.__resetIsScrolling())}},{key:"componentDidMount",value:function(){var r=this.props.scrollElement;this._detectElementResize=rk(),this.updatePosition(r),r&&(Bz(this,r),this._registerResizeListener(r)),this._isMounted=!0}},{key:"componentDidUpdate",value:function(r,a){var o=this.props.scrollElement,l=r.scrollElement;l!==o&&l!=null&&o!=null&&(this.updatePosition(o),Dz(this,l),Bz(this,o),this._unregisterResizeListener(l),this._registerResizeListener(o))}},{key:"componentWillUnmount",value:function(){var r=this.props.scrollElement;r&&(Dz(this,r),this._unregisterResizeListener(r)),this._isMounted=!1}},{key:"render",value:function(){var r=this.props.children,a=this.state,o=a.isScrolling,l=a.scrollTop,s=a.scrollLeft,u=a.height,f=a.width;return w.createElement("div",{ref:this._windowScrollerRef},r({onChildScroll:this._onChildScroll,registerChild:this._registerChild,height:u,isScrolling:o,scrollLeft:s,scrollTop:l,width:f}))}}])}(w.PureComponent);ue(t0e,"defaultProps",{onResize:function(){},onScroll:function(){},scrollingResetTimeInterval:e0e,scrollElement:Lk(),serverHeight:0,serverWidth:0});function n0e(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.map(function(r){return r.split(" ").map(function(a){return a?""+n+a:""}).join(" ")}).join(" ")}var Tb={exports:{}},i0e=Tb.exports,zz;function r0e(){return zz||(zz=1,function(n,e){(function(t,r){n.exports=r()})(i0e,function(){function t(P,I){var H=Object.keys(P);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(P);I&&(V=V.filter(function(X){return Object.getOwnPropertyDescriptor(P,X).enumerable})),H.push.apply(H,V)}return H}function r(P){for(var I=1;I<arguments.length;I++){var H=arguments[I]!=null?arguments[I]:{};I%2?t(Object(H),!0).forEach(function(V){u(P,V,H[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(H)):t(Object(H)).forEach(function(V){Object.defineProperty(P,V,Object.getOwnPropertyDescriptor(H,V))})}return P}function a(P){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},a(P)}function o(P,I){if(!(P instanceof I))throw new TypeError("Cannot call a class as a function")}function l(P,I){for(var H=0;H<I.length;H++){var V=I[H];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(P,p(V.key),V)}}function s(P,I,H){return I&&l(P.prototype,I),Object.defineProperty(P,"prototype",{writable:!1}),P}function u(P,I,H){return(I=p(I))in P?Object.defineProperty(P,I,{value:H,enumerable:!0,configurable:!0,writable:!0}):P[I]=H,P}function f(P,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(I&&I.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),Object.defineProperty(P,"prototype",{writable:!1}),I&&b(P,I)}function m(P){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)},m(P)}function b(P,I){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(H,V){return H.__proto__=V,H},b(P,I)}function _(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}function E(P){var I=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var H,V=m(P);if(I){var X=m(this).constructor;H=Reflect.construct(V,arguments,X)}else H=V.apply(this,arguments);return function(te,se){if(se&&(typeof se=="object"||typeof se=="function"))return se;if(se!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _(te)}(this,H)}}function c(){return c=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(P,I,H){var V=function(te,se){for(;!Object.prototype.hasOwnProperty.call(te,se)&&(te=m(te))!==null;);return te}(P,I);if(V){var X=Object.getOwnPropertyDescriptor(V,I);return X.get?X.get.call(arguments.length<3?P:H):X.value}},c.apply(this,arguments)}function p(P){var I=function(H,V){if(typeof H!="object"||H===null)return H;var X=H[Symbol.toPrimitive];if(X!==void 0){var te=X.call(H,V);if(typeof te!="object")return te;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(H)}(P,"string");return typeof I=="symbol"?I:I+""}var g=function(P){return!(!P||!P.Window)&&P instanceof P.Window},y=void 0,C=void 0;function T(P){y=P;var I=P.document.createTextNode("");I.ownerDocument!==P.document&&typeof P.wrap=="function"&&P.wrap(I)===I&&(P=P.wrap(P)),C=P}function M(P){return g(P)?P:(P.ownerDocument||P).defaultView||C.window}typeof window<"u"&&window&&T(window);var O=function(P){return!!P&&a(P)==="object"},B=function(P){return typeof P=="function"},D={window:function(P){return P===C||g(P)},docFrag:function(P){return O(P)&&P.nodeType===11},object:O,func:B,number:function(P){return typeof P=="number"},bool:function(P){return typeof P=="boolean"},string:function(P){return typeof P=="string"},element:function(P){if(!P||a(P)!=="object")return!1;var I=M(P)||C;return/object|function/.test(typeof Element>"u"?"undefined":a(Element))?P instanceof Element||P instanceof I.Element:P.nodeType===1&&typeof P.nodeName=="string"},plainObject:function(P){return O(P)&&!!P.constructor&&/function Object\b/.test(P.constructor.toString())},array:function(P){return O(P)&&P.length!==void 0&&B(P.splice)}};function F(P){var I=P.interaction;if(I.prepared.name==="drag"){var H=I.prepared.axis;H==="x"?(I.coords.cur.page.y=I.coords.start.page.y,I.coords.cur.client.y=I.coords.start.client.y,I.coords.velocity.client.y=0,I.coords.velocity.page.y=0):H==="y"&&(I.coords.cur.page.x=I.coords.start.page.x,I.coords.cur.client.x=I.coords.start.client.x,I.coords.velocity.client.x=0,I.coords.velocity.page.x=0)}}function z(P){var I=P.iEvent,H=P.interaction;if(H.prepared.name==="drag"){var V=H.prepared.axis;if(V==="x"||V==="y"){var X=V==="x"?"y":"x";I.page[X]=H.coords.start.page[X],I.client[X]=H.coords.start.client[X],I.delta[X]=0}}}var U={id:"actions/drag",install:function(P){var I=P.actions,H=P.Interactable,V=P.defaults;H.prototype.draggable=U.draggable,I.map.drag=U,I.methodDict.drag="draggable",V.actions.drag=U.defaults},listeners:{"interactions:before-action-move":F,"interactions:action-resume":F,"interactions:action-move":z,"auto-start:check":function(P){var I=P.interaction,H=P.interactable,V=P.buttons,X=H.options.drag;if(X&&X.enabled&&(!I.pointerIsDown||!/mouse|pointer/.test(I.pointerType)||(V&H.options.drag.mouseButtons)!=0))return P.action={name:"drag",axis:X.lockAxis==="start"?X.startAxis:X.lockAxis},!1}},draggable:function(P){return D.object(P)?(this.options.drag.enabled=P.enabled!==!1,this.setPerAction("drag",P),this.setOnEvents("drag",P),/^(xy|x|y|start)$/.test(P.lockAxis)&&(this.options.drag.lockAxis=P.lockAxis),/^(xy|x|y)$/.test(P.startAxis)&&(this.options.drag.startAxis=P.startAxis),this):D.bool(P)?(this.options.drag.enabled=P,this):this.options.drag},beforeMove:F,move:z,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"},filterEventType:function(P){return P.search("drag")===0}},$=U,J={init:function(P){var I=P;J.document=I.document,J.DocumentFragment=I.DocumentFragment||W,J.SVGElement=I.SVGElement||W,J.SVGSVGElement=I.SVGSVGElement||W,J.SVGElementInstance=I.SVGElementInstance||W,J.Element=I.Element||W,J.HTMLElement=I.HTMLElement||J.Element,J.Event=I.Event,J.Touch=I.Touch||W,J.PointerEvent=I.PointerEvent||I.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function W(){}var Q=J,ae={init:function(P){var I=Q.Element,H=P.navigator||{};ae.supportsTouch="ontouchstart"in P||D.func(P.DocumentTouch)&&Q.document instanceof P.DocumentTouch,ae.supportsPointerEvent=H.pointerEnabled!==!1&&!!Q.PointerEvent,ae.isIOS=/iP(hone|od|ad)/.test(H.platform),ae.isIOS7=/iP(hone|od|ad)/.test(H.platform)&&/OS 7[^\d]/.test(H.appVersion),ae.isIe9=/MSIE 9/.test(H.userAgent),ae.isOperaMobile=H.appName==="Opera"&&ae.supportsTouch&&/Presto/.test(H.userAgent),ae.prefixedMatchesSelector="matches"in I.prototype?"matches":"webkitMatchesSelector"in I.prototype?"webkitMatchesSelector":"mozMatchesSelector"in I.prototype?"mozMatchesSelector":"oMatchesSelector"in I.prototype?"oMatchesSelector":"msMatchesSelector",ae.pEventTypes=ae.supportsPointerEvent?Q.PointerEvent===P.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,ae.wheelEvent=Q.document&&"onmousewheel"in Q.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},Y=ae;function K(P,I){if(P.contains)return P.contains(I);for(;I;){if(I===P)return!0;I=I.parentNode}return!1}function ee(P,I){for(;D.element(P);){if(q(P,I))return P;P=de(P)}return null}function de(P){var I=P.parentNode;if(D.docFrag(I)){for(;(I=I.host)&&D.docFrag(I););return I}return I}function q(P,I){return C!==y&&(I=I.replace(/\/deep\//g," ")),P[Y.prefixedMatchesSelector](I)}var ie=function(P){return P.parentNode||P.host};function he(P,I){for(var H,V=[],X=P;(H=ie(X))&&X!==I&&H!==X.ownerDocument;)V.unshift(X),X=H;return V}function fe(P,I,H){for(;D.element(P);){if(q(P,I))return!0;if((P=de(P))===H)return q(P,I)}return!1}function Z(P){return P.correspondingUseElement||P}function pe(P){var I=P instanceof Q.SVGElement?P.getBoundingClientRect():P.getClientRects()[0];return I&&{left:I.left,right:I.right,top:I.top,bottom:I.bottom,width:I.width||I.right-I.left,height:I.height||I.bottom-I.top}}function xe(P){var I,H=pe(P);if(!Y.isIOS7&&H){var V={x:(I=(I=M(P))||C).scrollX||I.document.documentElement.scrollLeft,y:I.scrollY||I.document.documentElement.scrollTop};H.left+=V.x,H.right+=V.x,H.top+=V.y,H.bottom+=V.y}return H}function Oe(P){for(var I=[];P;)I.push(P),P=de(P);return I}function Ae(P){return!!D.string(P)&&(Q.document.querySelector(P),!0)}function Te(P,I){for(var H in I)P[H]=I[H];return P}function ze(P,I,H){return P==="parent"?de(H):P==="self"?I.getRect(H):ee(H,P)}function yt(P,I,H,V){var X=P;return D.string(X)?X=ze(X,I,H):D.func(X)&&(X=X.apply(void 0,V)),D.element(X)&&(X=xe(X)),X}function Be(P){return P&&{x:"x"in P?P.x:P.left,y:"y"in P?P.y:P.top}}function Ce(P){return!P||"x"in P&&"y"in P||((P=Te({},P)).x=P.left||0,P.y=P.top||0,P.width=P.width||(P.right||0)-P.x,P.height=P.height||(P.bottom||0)-P.y),P}function re(P,I,H){P.left&&(I.left+=H.x),P.right&&(I.right+=H.x),P.top&&(I.top+=H.y),P.bottom&&(I.bottom+=H.y),I.width=I.right-I.left,I.height=I.bottom-I.top}function Fe(P,I,H){var V=H&&P.options[H];return Be(yt(V&&V.origin||P.options.origin,P,I,[P&&I]))||{x:0,y:0}}function Ie(P,I){var H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(ye){return!0},V=arguments.length>3?arguments[3]:void 0;if(V=V||{},D.string(P)&&P.search(" ")!==-1&&(P=qe(P)),D.array(P))return P.forEach(function(ye){return Ie(ye,I,H,V)}),V;if(D.object(P)&&(I=P,P=""),D.func(I)&&H(P))V[P]=V[P]||[],V[P].push(I);else if(D.array(I))for(var X=0,te=I;X<te.length;X++){var se=te[X];Ie(P,se,H,V)}else if(D.object(I))for(var me in I)Ie(qe(me).map(function(ye){return"".concat(P).concat(ye)}),I[me],H,V);return V}function qe(P){return P.trim().split(/ +/)}var $e=function(P,I){return Math.sqrt(P*P+I*I)},ct=["webkit","moz"];function st(P,I){P.__set||(P.__set={});var H=function(X){if(ct.some(function(te){return X.indexOf(te)===0}))return 1;typeof P[X]!="function"&&X!=="__set"&&Object.defineProperty(P,X,{get:function(){return X in P.__set?P.__set[X]:P.__set[X]=I[X]},set:function(te){P.__set[X]=te},configurable:!0})};for(var V in I)H(V);return P}function ce(P,I){P.page=P.page||{},P.page.x=I.page.x,P.page.y=I.page.y,P.client=P.client||{},P.client.x=I.client.x,P.client.y=I.client.y,P.timeStamp=I.timeStamp}function oe(P){P.page.x=0,P.page.y=0,P.client.x=0,P.client.y=0}function we(P){return P instanceof Q.Event||P instanceof Q.Touch}function De(P,I,H){return P=P||"page",(H=H||{}).x=I[P+"X"],H.y=I[P+"Y"],H}function Ke(P,I){return I=I||{x:0,y:0},Y.isOperaMobile&&we(P)?(De("screen",P,I),I.x+=window.scrollX,I.y+=window.scrollY):De("page",P,I),I}function He(P){return D.number(P.pointerId)?P.pointerId:P.identifier}function gt(P,I,H){var V=I.length>1?pt(I):I[0];Ke(V,P.page),function(X,te){te=te||{},Y.isOperaMobile&&we(X)?De("screen",X,te):De("client",X,te)}(V,P.client),P.timeStamp=H}function lt(P){var I=[];return D.array(P)?(I[0]=P[0],I[1]=P[1]):P.type==="touchend"?P.touches.length===1?(I[0]=P.touches[0],I[1]=P.changedTouches[0]):P.touches.length===0&&(I[0]=P.changedTouches[0],I[1]=P.changedTouches[1]):(I[0]=P.touches[0],I[1]=P.touches[1]),I}function pt(P){for(var I={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},H=0;H<P.length;H++){var V=P[H];for(var X in I)I[X]+=V[X]}for(var te in I)I[te]/=P.length;return I}function It(P){if(!P.length)return null;var I=lt(P),H=Math.min(I[0].pageX,I[1].pageX),V=Math.min(I[0].pageY,I[1].pageY),X=Math.max(I[0].pageX,I[1].pageX),te=Math.max(I[0].pageY,I[1].pageY);return{x:H,y:V,left:H,top:V,right:X,bottom:te,width:X-H,height:te-V}}function ot(P,I){var H=I+"X",V=I+"Y",X=lt(P),te=X[0][H]-X[1][H],se=X[0][V]-X[1][V];return $e(te,se)}function _t(P,I){var H=I+"X",V=I+"Y",X=lt(P),te=X[1][H]-X[0][H],se=X[1][V]-X[0][V];return 180*Math.atan2(se,te)/Math.PI}function Ct(P){return D.string(P.pointerType)?P.pointerType:D.number(P.pointerType)?[void 0,void 0,"touch","pen","mouse"][P.pointerType]:/touch/.test(P.type||"")||P instanceof Q.Touch?"touch":"mouse"}function We(P){var I=D.func(P.composedPath)?P.composedPath():P.path;return[Z(I?I[0]:P.target),Z(P.currentTarget)]}var rt=function(){function P(I){o(this,P),this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=I}return s(P,[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),P}();Object.defineProperty(rt.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var Se=function(P,I){for(var H=0;H<I.length;H++){var V=I[H];P.push(V)}return P},Ge=function(P){return Se([],P)},St=function(P,I){for(var H=0;H<P.length;H++)if(I(P[H],H,P))return H;return-1},Me=function(P,I){return P[St(P,I)]},xt=function(P){f(H,P);var I=E(H);function H(V,X,te){var se;o(this,H),(se=I.call(this,X._interaction)).dropzone=void 0,se.dragEvent=void 0,se.relatedTarget=void 0,se.draggable=void 0,se.propagationStopped=!1,se.immediatePropagationStopped=!1;var me=te==="dragleave"?V.prev:V.cur,ye=me.element,Pe=me.dropzone;return se.type=te,se.target=ye,se.currentTarget=ye,se.dropzone=Pe,se.dragEvent=X,se.relatedTarget=X.target,se.draggable=X.interactable,se.timeStamp=X.timeStamp,se}return s(H,[{key:"reject",value:function(){var V=this,X=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&X.cur.dropzone===this.dropzone&&X.cur.element===this.target)if(X.prev.dropzone=this.dropzone,X.prev.element=this.target,X.rejected=!0,X.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var te=X.activeDrops,se=St(te,function(ye){var Pe=ye.dropzone,Ee=ye.element;return Pe===V.dropzone&&Ee===V.target});X.activeDrops.splice(se,1);var me=new H(X,this.dragEvent,"dropdeactivate");me.dropzone=this.dropzone,me.target=this.target,this.dropzone.fire(me)}else this.dropzone.fire(new H(X,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),H}(rt);function et(P,I){for(var H=0,V=P.slice();H<V.length;H++){var X=V[H],te=X.dropzone,se=X.element;I.dropzone=te,I.target=se,te.fire(I),I.propagationStopped=I.immediatePropagationStopped=!1}}function mt(P,I){for(var H=function(te,se){for(var me=[],ye=0,Pe=te.interactables.list;ye<Pe.length;ye++){var Ee=Pe[ye];if(Ee.options.drop.enabled){var Qe=Ee.options.drop.accept;if(!(D.element(Qe)&&Qe!==se||D.string(Qe)&&!q(se,Qe)||D.func(Qe)&&!Qe({dropzone:Ee,draggableElement:se})))for(var bt=0,zt=Ee.getAllElements();bt<zt.length;bt++){var Dt=zt[bt];Dt!==se&&me.push({dropzone:Ee,element:Dt,rect:Ee.getRect(Dt)})}}}return me}(P,I),V=0;V<H.length;V++){var X=H[V];X.rect=X.dropzone.getRect(X.element)}return H}function Nt(P,I,H){for(var V=P.dropState,X=P.interactable,te=P.element,se=[],me=0,ye=V.activeDrops;me<ye.length;me++){var Pe=ye[me],Ee=Pe.dropzone,Qe=Pe.element,bt=Pe.rect,zt=Ee.dropCheck(I,H,X,te,Qe,bt);se.push(zt?Qe:null)}var Dt=function(kt){for(var an,Zt,hn,Ln=[],ei=0;ei<kt.length;ei++){var pn=kt[ei],Rn=kt[an];if(pn&&ei!==an)if(Rn){var Mr=ie(pn),Ji=ie(Rn);if(Mr!==pn.ownerDocument)if(Ji!==pn.ownerDocument)if(Mr!==Ji){Ln=Ln.length?Ln:he(Rn);var Sa=void 0;if(Rn instanceof Q.HTMLElement&&pn instanceof Q.SVGElement&&!(pn instanceof Q.SVGSVGElement)){if(pn===Ji)continue;Sa=pn.ownerSVGElement}else Sa=pn;for(var Ni=he(Sa,Rn.ownerDocument),Xo=0;Ni[Xo]&&Ni[Xo]===Ln[Xo];)Xo++;var ca=[Ni[Xo-1],Ni[Xo],Ln[Xo]];if(ca[0])for(var Jl=ca[0].lastChild;Jl;){if(Jl===ca[1]){an=ei,Ln=Ni;break}if(Jl===ca[2])break;Jl=Jl.previousSibling}}else hn=Rn,(parseInt(M(Zt=pn).getComputedStyle(Zt).zIndex,10)||0)>=(parseInt(M(hn).getComputedStyle(hn).zIndex,10)||0)&&(an=ei);else an=ei}else an=ei}return an}(se);return V.activeDrops[Dt]||null}function Bt(P,I,H){var V=P.dropState,X={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return H.type==="dragstart"&&(X.activate=new xt(V,H,"dropactivate"),X.activate.target=null,X.activate.dropzone=null),H.type==="dragend"&&(X.deactivate=new xt(V,H,"dropdeactivate"),X.deactivate.target=null,X.deactivate.dropzone=null),V.rejected||(V.cur.element!==V.prev.element&&(V.prev.dropzone&&(X.leave=new xt(V,H,"dragleave"),H.dragLeave=X.leave.target=V.prev.element,H.prevDropzone=X.leave.dropzone=V.prev.dropzone),V.cur.dropzone&&(X.enter=new xt(V,H,"dragenter"),H.dragEnter=V.cur.element,H.dropzone=V.cur.dropzone)),H.type==="dragend"&&V.cur.dropzone&&(X.drop=new xt(V,H,"drop"),H.dropzone=V.cur.dropzone,H.relatedTarget=V.cur.element),H.type==="dragmove"&&V.cur.dropzone&&(X.move=new xt(V,H,"dropmove"),H.dropzone=V.cur.dropzone)),X}function Qt(P,I){var H=P.dropState,V=H.activeDrops,X=H.cur,te=H.prev;I.leave&&te.dropzone.fire(I.leave),I.enter&&X.dropzone.fire(I.enter),I.move&&X.dropzone.fire(I.move),I.drop&&X.dropzone.fire(I.drop),I.deactivate&&et(V,I.deactivate),H.prev.dropzone=X.dropzone,H.prev.element=X.element}function sn(P,I){var H=P.interaction,V=P.iEvent,X=P.event;if(V.type==="dragmove"||V.type==="dragend"){var te=H.dropState;I.dynamicDrop&&(te.activeDrops=mt(I,H.element));var se=V,me=Nt(H,se,X);te.rejected=te.rejected&&!!me&&me.dropzone===te.cur.dropzone&&me.element===te.cur.element,te.cur.dropzone=me&&me.dropzone,te.cur.element=me&&me.element,te.events=Bt(H,0,se)}}var qt={id:"actions/drop",install:function(P){var I=P.actions,H=P.interactStatic,V=P.Interactable,X=P.defaults;P.usePlugin($),V.prototype.dropzone=function(te){return function(se,me){if(D.object(me)){if(se.options.drop.enabled=me.enabled!==!1,me.listeners){var ye=Ie(me.listeners),Pe=Object.keys(ye).reduce(function(Qe,bt){return Qe[/^(enter|leave)/.test(bt)?"drag".concat(bt):/^(activate|deactivate|move)/.test(bt)?"drop".concat(bt):bt]=ye[bt],Qe},{}),Ee=se.options.drop.listeners;Ee&&se.off(Ee),se.on(Pe),se.options.drop.listeners=Pe}return D.func(me.ondrop)&&se.on("drop",me.ondrop),D.func(me.ondropactivate)&&se.on("dropactivate",me.ondropactivate),D.func(me.ondropdeactivate)&&se.on("dropdeactivate",me.ondropdeactivate),D.func(me.ondragenter)&&se.on("dragenter",me.ondragenter),D.func(me.ondragleave)&&se.on("dragleave",me.ondragleave),D.func(me.ondropmove)&&se.on("dropmove",me.ondropmove),/^(pointer|center)$/.test(me.overlap)?se.options.drop.overlap=me.overlap:D.number(me.overlap)&&(se.options.drop.overlap=Math.max(Math.min(1,me.overlap),0)),"accept"in me&&(se.options.drop.accept=me.accept),"checker"in me&&(se.options.drop.checker=me.checker),se}return D.bool(me)?(se.options.drop.enabled=me,se):se.options.drop}(this,te)},V.prototype.dropCheck=function(te,se,me,ye,Pe,Ee){return function(Qe,bt,zt,Dt,kt,an,Zt){var hn=!1;if(!(Zt=Zt||Qe.getRect(an)))return!!Qe.options.drop.checker&&Qe.options.drop.checker(bt,zt,hn,Qe,an,Dt,kt);var Ln=Qe.options.drop.overlap;if(Ln==="pointer"){var ei=Fe(Dt,kt,"drag"),pn=Ke(bt);pn.x+=ei.x,pn.y+=ei.y;var Rn=pn.x>Zt.left&&pn.x<Zt.right,Mr=pn.y>Zt.top&&pn.y<Zt.bottom;hn=Rn&&Mr}var Ji=Dt.getRect(kt);if(Ji&&Ln==="center"){var Sa=Ji.left+Ji.width/2,Ni=Ji.top+Ji.height/2;hn=Sa>=Zt.left&&Sa<=Zt.right&&Ni>=Zt.top&&Ni<=Zt.bottom}return Ji&&D.number(Ln)&&(hn=Math.max(0,Math.min(Zt.right,Ji.right)-Math.max(Zt.left,Ji.left))*Math.max(0,Math.min(Zt.bottom,Ji.bottom)-Math.max(Zt.top,Ji.top))/(Ji.width*Ji.height)>=Ln),Qe.options.drop.checker&&(hn=Qe.options.drop.checker(bt,zt,hn,Qe,an,Dt,kt)),hn}(this,te,se,me,ye,Pe,Ee)},H.dynamicDrop=function(te){return D.bool(te)?(P.dynamicDrop=te,H):P.dynamicDrop},Te(I.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),I.methodDict.drop="dropzone",P.dynamicDrop=!1,X.actions.drop=qt.defaults},listeners:{"interactions:before-action-start":function(P){var I=P.interaction;I.prepared.name==="drag"&&(I.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(P,I){var H=P.interaction,V=(P.event,P.iEvent);if(H.prepared.name==="drag"){var X=H.dropState;X.activeDrops=[],X.events={},X.activeDrops=mt(I,H.element),X.events=Bt(H,0,V),X.events.activate&&(et(X.activeDrops,X.events.activate),I.fire("actions/drop:start",{interaction:H,dragEvent:V}))}},"interactions:action-move":sn,"interactions:after-action-move":function(P,I){var H=P.interaction,V=P.iEvent;if(H.prepared.name==="drag"){var X=H.dropState;Qt(H,X.events),I.fire("actions/drop:move",{interaction:H,dragEvent:V}),X.events={}}},"interactions:action-end":function(P,I){if(P.interaction.prepared.name==="drag"){var H=P.interaction,V=P.iEvent;sn(P,I),Qt(H,H.dropState.events),I.fire("actions/drop:end",{interaction:H,dragEvent:V})}},"interactions:stop":function(P){var I=P.interaction;if(I.prepared.name==="drag"){var H=I.dropState;H&&(H.activeDrops=null,H.events=null,H.cur.dropzone=null,H.cur.element=null,H.prev.dropzone=null,H.prev.element=null,H.rejected=!1)}}},getActiveDrops:mt,getDrop:Nt,getDropEvents:Bt,fireDropEvents:Qt,filterEventType:function(P){return P.search("drag")===0||P.search("drop")===0},defaults:{enabled:!1,accept:null,overlap:"pointer"}},Lt=qt;function Yt(P){var I=P.interaction,H=P.iEvent,V=P.phase;if(I.prepared.name==="gesture"){var X=I.pointers.map(function(Pe){return Pe.pointer}),te=V==="start",se=V==="end",me=I.interactable.options.deltaSource;if(H.touches=[X[0],X[1]],te)H.distance=ot(X,me),H.box=It(X),H.scale=1,H.ds=0,H.angle=_t(X,me),H.da=0,I.gesture.startDistance=H.distance,I.gesture.startAngle=H.angle;else if(se||I.pointers.length<2){var ye=I.prevEvent;H.distance=ye.distance,H.box=ye.box,H.scale=ye.scale,H.ds=0,H.angle=ye.angle,H.da=0}else H.distance=ot(X,me),H.box=It(X),H.scale=H.distance/I.gesture.startDistance,H.angle=_t(X,me),H.ds=H.scale-I.gesture.scale,H.da=H.angle-I.gesture.angle;I.gesture.distance=H.distance,I.gesture.angle=H.angle,D.number(H.scale)&&H.scale!==1/0&&!isNaN(H.scale)&&(I.gesture.scale=H.scale)}}var yn={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(P){var I=P.actions,H=P.Interactable,V=P.defaults;H.prototype.gesturable=function(X){return D.object(X)?(this.options.gesture.enabled=X.enabled!==!1,this.setPerAction("gesture",X),this.setOnEvents("gesture",X),this):D.bool(X)?(this.options.gesture.enabled=X,this):this.options.gesture},I.map.gesture=yn,I.methodDict.gesture="gesturable",V.actions.gesture=yn.defaults},listeners:{"interactions:action-start":Yt,"interactions:action-move":Yt,"interactions:action-end":Yt,"interactions:new":function(P){P.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(P){if(!(P.interaction.pointers.length<2)){var I=P.interactable.options.gesture;if(I&&I.enabled)return P.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""},filterEventType:function(P){return P.search("gesture")===0}},lr=yn;function Qr(P,I,H,V,X,te,se){if(!I)return!1;if(I===!0){var me=D.number(te.width)?te.width:te.right-te.left,ye=D.number(te.height)?te.height:te.bottom-te.top;if(se=Math.min(se,Math.abs((P==="left"||P==="right"?me:ye)/2)),me<0&&(P==="left"?P="right":P==="right"&&(P="left")),ye<0&&(P==="top"?P="bottom":P==="bottom"&&(P="top")),P==="left"){var Pe=me>=0?te.left:te.right;return H.x<Pe+se}if(P==="top"){var Ee=ye>=0?te.top:te.bottom;return H.y<Ee+se}if(P==="right")return H.x>(me>=0?te.right:te.left)-se;if(P==="bottom")return H.y>(ye>=0?te.bottom:te.top)-se}return!!D.element(V)&&(D.element(I)?I===V:fe(V,I,X))}function zn(P){var I=P.iEvent,H=P.interaction;if(H.prepared.name==="resize"&&H.resizeAxes){var V=I;H.interactable.options.resize.square?(H.resizeAxes==="y"?V.delta.x=V.delta.y:V.delta.y=V.delta.x,V.axes="xy"):(V.axes=H.resizeAxes,H.resizeAxes==="x"?V.delta.y=0:H.resizeAxes==="y"&&(V.delta.x=0))}}var Ai,Sr,wn={id:"actions/resize",before:["actions/drag"],install:function(P){var I=P.actions,H=P.browser,V=P.Interactable,X=P.defaults;wn.cursors=function(te){return te.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(H),wn.defaultMargin=H.supportsTouch||H.supportsPointerEvent?20:10,V.prototype.resizable=function(te){return function(se,me,ye){return D.object(me)?(se.options.resize.enabled=me.enabled!==!1,se.setPerAction("resize",me),se.setOnEvents("resize",me),D.string(me.axis)&&/^x$|^y$|^xy$/.test(me.axis)?se.options.resize.axis=me.axis:me.axis===null&&(se.options.resize.axis=ye.defaults.actions.resize.axis),D.bool(me.preserveAspectRatio)?se.options.resize.preserveAspectRatio=me.preserveAspectRatio:D.bool(me.square)&&(se.options.resize.square=me.square),se):D.bool(me)?(se.options.resize.enabled=me,se):se.options.resize}(this,te,P)},I.map.resize=wn,I.methodDict.resize="resizable",X.actions.resize=wn.defaults},listeners:{"interactions:new":function(P){P.interaction.resizeAxes="xy"},"interactions:action-start":function(P){(function(I){var H=I.iEvent,V=I.interaction;if(V.prepared.name==="resize"&&V.prepared.edges){var X=H,te=V.rect;V._rects={start:Te({},te),corrected:Te({},te),previous:Te({},te),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},X.edges=V.prepared.edges,X.rect=V._rects.corrected,X.deltaRect=V._rects.delta}})(P),zn(P)},"interactions:action-move":function(P){(function(I){var H=I.iEvent,V=I.interaction;if(V.prepared.name==="resize"&&V.prepared.edges){var X=H,te=V.interactable.options.resize.invert,se=te==="reposition"||te==="negate",me=V.rect,ye=V._rects,Pe=ye.start,Ee=ye.corrected,Qe=ye.delta,bt=ye.previous;if(Te(bt,Ee),se){if(Te(Ee,me),te==="reposition"){if(Ee.top>Ee.bottom){var zt=Ee.top;Ee.top=Ee.bottom,Ee.bottom=zt}if(Ee.left>Ee.right){var Dt=Ee.left;Ee.left=Ee.right,Ee.right=Dt}}}else Ee.top=Math.min(me.top,Pe.bottom),Ee.bottom=Math.max(me.bottom,Pe.top),Ee.left=Math.min(me.left,Pe.right),Ee.right=Math.max(me.right,Pe.left);for(var kt in Ee.width=Ee.right-Ee.left,Ee.height=Ee.bottom-Ee.top,Ee)Qe[kt]=Ee[kt]-bt[kt];X.edges=V.prepared.edges,X.rect=Ee,X.deltaRect=Qe}})(P),zn(P)},"interactions:action-end":function(P){var I=P.iEvent,H=P.interaction;if(H.prepared.name==="resize"&&H.prepared.edges){var V=I;V.edges=H.prepared.edges,V.rect=H._rects.corrected,V.deltaRect=H._rects.delta}},"auto-start:check":function(P){var I=P.interaction,H=P.interactable,V=P.element,X=P.rect,te=P.buttons;if(X){var se=Te({},I.coords.cur.page),me=H.options.resize;if(me&&me.enabled&&(!I.pointerIsDown||!/mouse|pointer/.test(I.pointerType)||(te&me.mouseButtons)!=0)){if(D.object(me.edges)){var ye={left:!1,right:!1,top:!1,bottom:!1};for(var Pe in ye)ye[Pe]=Qr(Pe,me.edges[Pe],se,I._latestPointer.eventTarget,V,X,me.margin||wn.defaultMargin);ye.left=ye.left&&!ye.right,ye.top=ye.top&&!ye.bottom,(ye.left||ye.right||ye.top||ye.bottom)&&(P.action={name:"resize",edges:ye})}else{var Ee=me.axis!=="y"&&se.x>X.right-wn.defaultMargin,Qe=me.axis!=="x"&&se.y>X.bottom-wn.defaultMargin;(Ee||Qe)&&(P.action={name:"resize",axes:(Ee?"x":"")+(Qe?"y":"")})}return!P.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(P){var I=P.edges,H=P.axis,V=P.name,X=wn.cursors,te=null;if(H)te=X[V+H];else if(I){for(var se="",me=0,ye=["top","bottom","left","right"];me<ye.length;me++){var Pe=ye[me];I[Pe]&&(se+=Pe)}te=X[se]}return te},filterEventType:function(P){return P.search("resize")===0},defaultMargin:null},Mn=wn,Qn={id:"actions",install:function(P){P.usePlugin(lr),P.usePlugin(Mn),P.usePlugin($),P.usePlugin(Lt)}},un=0,ii={request:function(P){return Ai(P)},cancel:function(P){return Sr(P)},init:function(P){if(Ai=P.requestAnimationFrame,Sr=P.cancelAnimationFrame,!Ai)for(var I=["ms","moz","webkit","o"],H=0;H<I.length;H++){var V=I[H];Ai=P["".concat(V,"RequestAnimationFrame")],Sr=P["".concat(V,"CancelAnimationFrame")]||P["".concat(V,"CancelRequestAnimationFrame")]}Ai=Ai&&Ai.bind(P),Sr=Sr&&Sr.bind(P),Ai||(Ai=function(X){var te=Date.now(),se=Math.max(0,16-(te-un)),me=P.setTimeout(function(){X(te+se)},se);return un=te+se,me},Sr=function(X){return clearTimeout(X)})}},ln={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(P){ln.isScrolling=!0,ii.cancel(ln.i),P.autoScroll=ln,ln.interaction=P,ln.prevTime=ln.now(),ln.i=ii.request(ln.scroll)},stop:function(){ln.isScrolling=!1,ln.interaction&&(ln.interaction.autoScroll=null),ii.cancel(ln.i)},scroll:function(){var P=ln.interaction,I=P.interactable,H=P.element,V=P.prepared.name,X=I.options[V].autoScroll,te=zr(X.container,I,H),se=ln.now(),me=(se-ln.prevTime)/1e3,ye=X.speed*me;if(ye>=1){var Pe={x:ln.x*ye,y:ln.y*ye};if(Pe.x||Pe.y){var Ee=Ur(te);D.window(te)?te.scrollBy(Pe.x,Pe.y):te&&(te.scrollLeft+=Pe.x,te.scrollTop+=Pe.y);var Qe=Ur(te),bt={x:Qe.x-Ee.x,y:Qe.y-Ee.y};(bt.x||bt.y)&&I.fire({type:"autoscroll",target:H,interactable:I,delta:bt,interaction:P,container:te})}ln.prevTime=se}ln.isScrolling&&(ii.cancel(ln.i),ln.i=ii.request(ln.scroll))},check:function(P,I){var H;return(H=P.options[I].autoScroll)==null?void 0:H.enabled},onInteractionMove:function(P){var I=P.interaction,H=P.pointer;if(I.interacting()&&ln.check(I.interactable,I.prepared.name))if(I.simulation)ln.x=ln.y=0;else{var V,X,te,se,me=I.interactable,ye=I.element,Pe=I.prepared.name,Ee=me.options[Pe].autoScroll,Qe=zr(Ee.container,me,ye);if(D.window(Qe))se=H.clientX<ln.margin,V=H.clientY<ln.margin,X=H.clientX>Qe.innerWidth-ln.margin,te=H.clientY>Qe.innerHeight-ln.margin;else{var bt=pe(Qe);se=H.clientX<bt.left+ln.margin,V=H.clientY<bt.top+ln.margin,X=H.clientX>bt.right-ln.margin,te=H.clientY>bt.bottom-ln.margin}ln.x=X?1:se?-1:0,ln.y=te?1:V?-1:0,ln.isScrolling||(ln.margin=Ee.margin,ln.speed=Ee.speed,ln.start(I))}}};function zr(P,I,H){return(D.string(P)?ze(P,I,H):P)||M(H)}function Ur(P){return D.window(P)&&(P=window.document.body),{x:P.scrollLeft,y:P.scrollTop}}var Rr={id:"auto-scroll",install:function(P){var I=P.defaults,H=P.actions;P.autoScroll=ln,ln.now=function(){return P.now()},H.phaselessTypes.autoscroll=!0,I.perAction.autoScroll=ln.defaults},listeners:{"interactions:new":function(P){P.interaction.autoScroll=null},"interactions:destroy":function(P){P.interaction.autoScroll=null,ln.stop(),ln.interaction&&(ln.interaction=null)},"interactions:stop":ln.stop,"interactions:action-move":function(P){return ln.onInteractionMove(P)}}},Or=Rr;function cr(P,I){var H=!1;return function(){return H||(C.console.warn(I),H=!0),P.apply(this,arguments)}}function _r(P,I){return P.name=I.name,P.axis=I.axis,P.edges=I.edges,P}function le(P){return D.bool(P)?(this.options.styleCursor=P,this):P===null?(delete this.options.styleCursor,this):this.options.styleCursor}function Ue(P){return D.func(P)?(this.options.actionChecker=P,this):P===null?(delete this.options.actionChecker,this):this.options.actionChecker}var at={id:"auto-start/interactableMethods",install:function(P){var I=P.Interactable;I.prototype.getAction=function(H,V,X,te){var se=function(me,ye,Pe,Ee,Qe){var bt=me.getRect(Ee),zt=ye.buttons||{0:1,1:4,3:8,4:16}[ye.button],Dt={action:null,interactable:me,interaction:Pe,element:Ee,rect:bt,buttons:zt};return Qe.fire("auto-start:check",Dt),Dt.action}(this,V,X,te,P);return this.options.actionChecker?this.options.actionChecker(H,V,se,this,te,X):se},I.prototype.ignoreFrom=cr(function(H){return this._backCompatOption("ignoreFrom",H)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),I.prototype.allowFrom=cr(function(H){return this._backCompatOption("allowFrom",H)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),I.prototype.actionChecker=Ue,I.prototype.styleCursor=le}};function Ze(P,I,H,V,X){return I.testIgnoreAllow(I.options[P.name],H,V)&&I.options[P.name].enabled&&Kt(I,H,P,X)?P:null}function Ve(P,I,H,V,X,te,se){for(var me=0,ye=V.length;me<ye;me++){var Pe=V[me],Ee=X[me],Qe=Pe.getAction(I,H,P,Ee);if(Qe){var bt=Ze(Qe,Pe,Ee,te,se);if(bt)return{action:bt,interactable:Pe,element:Ee}}}return{action:null,interactable:null,element:null}}function Rt(P,I,H,V,X){var te=[],se=[],me=V;function ye(Ee){te.push(Ee),se.push(me)}for(;D.element(me);){te=[],se=[],X.interactables.forEachMatch(me,ye);var Pe=Ve(P,I,H,te,se,V,X);if(Pe.action&&!Pe.interactable.options[Pe.action.name].manualStart)return Pe;me=de(me)}return{action:null,interactable:null,element:null}}function Vt(P,I,H){var V=I.action,X=I.interactable,te=I.element;V=V||{name:null},P.interactable=X,P.element=te,_r(P.prepared,V),P.rect=X&&V.name?X.getRect(te):null,dn(P,H),H.fire("autoStart:prepared",{interaction:P})}function Kt(P,I,H,V){var X=P.options,te=X[H.name].max,se=X[H.name].maxPerElement,me=V.autoStart.maxInteractions,ye=0,Pe=0,Ee=0;if(!(te&&se&&me))return!1;for(var Qe=0,bt=V.interactions.list;Qe<bt.length;Qe++){var zt=bt[Qe],Dt=zt.prepared.name;if(zt.interacting()&&(++ye>=me||zt.interactable===P&&((Pe+=Dt===H.name?1:0)>=te||zt.element===I&&(Ee++,Dt===H.name&&Ee>=se))))return!1}return me>0}function Wt(P,I){return D.number(P)?(I.autoStart.maxInteractions=P,this):I.autoStart.maxInteractions}function gn(P,I,H){var V=H.autoStart.cursorElement;V&&V!==P&&(V.style.cursor=""),P.ownerDocument.documentElement.style.cursor=I,P.style.cursor=I,H.autoStart.cursorElement=I?P:null}function dn(P,I){var H=P.interactable,V=P.element,X=P.prepared;if(P.pointerType==="mouse"&&H&&H.options.styleCursor){var te="";if(X.name){var se=H.options[X.name].cursorChecker;te=D.func(se)?se(X,H,V,P._interacting):I.actions.map[X.name].getCursor(X)}gn(P.element,te||"",I)}else I.autoStart.cursorElement&&gn(I.autoStart.cursorElement,"",I)}var on={id:"auto-start/base",before:["actions"],install:function(P){var I=P.interactStatic,H=P.defaults;P.usePlugin(at),H.base.actionChecker=null,H.base.styleCursor=!0,Te(H.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),I.maxInteractions=function(V){return Wt(V,P)},P.autoStart={maxInteractions:1/0,withinInteractionLimit:Kt,cursorElement:null}},listeners:{"interactions:down":function(P,I){var H=P.interaction,V=P.pointer,X=P.event,te=P.eventTarget;H.interacting()||Vt(H,Rt(H,V,X,te,I),I)},"interactions:move":function(P,I){(function(H,V){var X=H.interaction,te=H.pointer,se=H.event,me=H.eventTarget;X.pointerType!=="mouse"||X.pointerIsDown||X.interacting()||Vt(X,Rt(X,te,se,me,V),V)})(P,I),function(H,V){var X=H.interaction;if(X.pointerIsDown&&!X.interacting()&&X.pointerWasMoved&&X.prepared.name){V.fire("autoStart:before-start",H);var te=X.interactable,se=X.prepared.name;se&&te&&(te.options[se].manualStart||!Kt(te,X.element,X.prepared,V)?X.stop():(X.start(X.prepared,te,X.element),dn(X,V)))}}(P,I)},"interactions:stop":function(P,I){var H=P.interaction,V=H.interactable;V&&V.options.styleCursor&&gn(H.element,"",I)}},maxInteractions:Wt,withinInteractionLimit:Kt,validateAction:Ze},Gn=on,Vn={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(P,I){var H=P.interaction,V=P.eventTarget,X=P.dx,te=P.dy;if(H.prepared.name==="drag"){var se=Math.abs(X),me=Math.abs(te),ye=H.interactable.options.drag,Pe=ye.startAxis,Ee=se>me?"x":se<me?"y":"xy";if(H.prepared.axis=ye.lockAxis==="start"?Ee[0]:ye.lockAxis,Ee!=="xy"&&Pe!=="xy"&&Pe!==Ee){H.prepared.name=null;for(var Qe=V,bt=function(Dt){if(Dt!==H.interactable){var kt=H.interactable.options.drag;if(!kt.manualStart&&Dt.testIgnoreAllow(kt,Qe,V)){var an=Dt.getAction(H.downPointer,H.downEvent,H,Qe);if(an&&an.name==="drag"&&function(Zt,hn){if(!hn)return!1;var Ln=hn.options.drag.startAxis;return Zt==="xy"||Ln==="xy"||Ln===Zt}(Ee,Dt)&&Gn.validateAction(an,Dt,Qe,V,I))return Dt}}};D.element(Qe);){var zt=I.interactables.forEachMatch(Qe,bt);if(zt){H.prepared.name="drag",H.interactable=zt,H.element=Qe;break}Qe=de(Qe)}}}}}};function jn(P){var I=P.prepared&&P.prepared.name;if(!I)return null;var H=P.interactable.options;return H[I].hold||H[I].delay}var In={id:"auto-start/hold",install:function(P){var I=P.defaults;P.usePlugin(Gn),I.perAction.hold=0,I.perAction.delay=0},listeners:{"interactions:new":function(P){P.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(P){var I=P.interaction,H=jn(I);H>0&&(I.autoStartHoldTimer=setTimeout(function(){I.start(I.prepared,I.interactable,I.element)},H))},"interactions:move":function(P){var I=P.interaction,H=P.duplicate;I.autoStartHoldTimer&&I.pointerWasMoved&&!H&&(clearTimeout(I.autoStartHoldTimer),I.autoStartHoldTimer=null)},"autoStart:before-start":function(P){var I=P.interaction;jn(I)>0&&(I.prepared.name=null)}},getHoldDuration:jn},bn=In,cn={id:"auto-start",install:function(P){P.usePlugin(Gn),P.usePlugin(bn),P.usePlugin(Vn)}},Si=function(P){return/^(always|never|auto)$/.test(P)?(this.options.preventDefault=P,this):D.bool(P)?(this.options.preventDefault=P?"always":"never",this):this.options.preventDefault};function Wn(P){var I=P.interaction,H=P.event;I.interactable&&I.interactable.checkAndPreventDefault(H)}var $n={id:"core/interactablePreventDefault",install:function(P){var I=P.Interactable;I.prototype.preventDefault=Si,I.prototype.checkAndPreventDefault=function(H){return function(V,X,te){var se=V.options.preventDefault;if(se!=="never")if(se!=="always"){if(X.events.supportsPassive&&/^touch(start|move)$/.test(te.type)){var me=M(te.target).document,ye=X.getDocOptions(me);if(!ye||!ye.events||ye.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(te.type)||D.element(te.target)&&q(te.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||te.preventDefault()}else te.preventDefault()}(this,P,H)},P.interactions.docEvents.push({type:"dragstart",listener:function(H){for(var V=0,X=P.interactions.list;V<X.length;V++){var te=X[V];if(te.element&&(te.element===H.target||K(te.element,H.target)))return void te.interactable.checkAndPreventDefault(H)}}})},listeners:["down","move","up","cancel"].reduce(function(P,I){return P["interactions:".concat(I)]=Wn,P},{})};function Tn(P,I){if(I.phaselessTypes[P])return!0;for(var H in I.map)if(P.indexOf(H)===0&&P.substr(H.length)in I.phases)return!0;return!1}function Cn(P){var I={};for(var H in P){var V=P[H];D.plainObject(V)?I[H]=Cn(V):D.array(V)?I[H]=Ge(V):I[H]=V}return I}var Zn=function(){function P(I){o(this,P),this.states=[],this.startOffset={left:0,right:0,top:0,bottom:0},this.startDelta=void 0,this.result=void 0,this.endResult=void 0,this.startEdges=void 0,this.edges=void 0,this.interaction=void 0,this.interaction=I,this.result=An(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}return s(P,[{key:"start",value:function(I,H){var V,X,te=I.phase,se=this.interaction,me=function(Pe){var Ee=Pe.interactable.options[Pe.prepared.name],Qe=Ee.modifiers;return Qe&&Qe.length?Qe:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(bt){var zt=Ee[bt];return zt&&zt.enabled&&{options:zt,methods:zt._methods}}).filter(function(bt){return!!bt})}(se);this.prepareStates(me),this.startEdges=Te({},se.edges),this.edges=Te({},this.startEdges),this.startOffset=(V=se.rect,X=H,V?{left:X.x-V.left,top:X.y-V.top,right:V.right-X.x,bottom:V.bottom-X.y}:{left:0,top:0,right:0,bottom:0}),this.startDelta={x:0,y:0};var ye=this.fillArg({phase:te,pageCoords:H,preEnd:!1});return this.result=An(),this.startAll(ye),this.result=this.setAll(ye)}},{key:"fillArg",value:function(I){var H=this.interaction;return I.interaction=H,I.interactable=H.interactable,I.element=H.element,I.rect||(I.rect=H.rect),I.edges||(I.edges=this.startEdges),I.startOffset=this.startOffset,I}},{key:"startAll",value:function(I){for(var H=0,V=this.states;H<V.length;H++){var X=V[H];X.methods.start&&(I.state=X,X.methods.start(I))}}},{key:"setAll",value:function(I){var H=I.phase,V=I.preEnd,X=I.skipModifiers,te=I.rect,se=I.edges;I.coords=Te({},I.pageCoords),I.rect=Te({},te),I.edges=Te({},se);for(var me=X?this.states.slice(X):this.states,ye=An(I.coords,I.rect),Pe=0;Pe<me.length;Pe++){var Ee,Qe=me[Pe],bt=Qe.options,zt=Te({},I.coords),Dt=null;(Ee=Qe.methods)!=null&&Ee.set&&this.shouldDo(bt,V,H)&&(I.state=Qe,Dt=Qe.methods.set(I),re(I.edges,I.rect,{x:I.coords.x-zt.x,y:I.coords.y-zt.y})),ye.eventProps.push(Dt)}Te(this.edges,I.edges),ye.delta.x=I.coords.x-I.pageCoords.x,ye.delta.y=I.coords.y-I.pageCoords.y,ye.rectDelta.left=I.rect.left-te.left,ye.rectDelta.right=I.rect.right-te.right,ye.rectDelta.top=I.rect.top-te.top,ye.rectDelta.bottom=I.rect.bottom-te.bottom;var kt=this.result.coords,an=this.result.rect;if(kt&&an){var Zt=ye.rect.left!==an.left||ye.rect.right!==an.right||ye.rect.top!==an.top||ye.rect.bottom!==an.bottom;ye.changed=Zt||kt.x!==ye.coords.x||kt.y!==ye.coords.y}return ye}},{key:"applyToInteraction",value:function(I){var H=this.interaction,V=I.phase,X=H.coords.cur,te=H.coords.start,se=this.result,me=this.startDelta,ye=se.delta;V==="start"&&Te(this.startDelta,se.delta);for(var Pe=0,Ee=[[te,me],[X,ye]];Pe<Ee.length;Pe++){var Qe=Ee[Pe],bt=Qe[0],zt=Qe[1];bt.page.x+=zt.x,bt.page.y+=zt.y,bt.client.x+=zt.x,bt.client.y+=zt.y}var Dt=this.result.rectDelta,kt=I.rect||H.rect;kt.left+=Dt.left,kt.right+=Dt.right,kt.top+=Dt.top,kt.bottom+=Dt.bottom,kt.width=kt.right-kt.left,kt.height=kt.bottom-kt.top}},{key:"setAndApply",value:function(I){var H=this.interaction,V=I.phase,X=I.preEnd,te=I.skipModifiers,se=this.setAll(this.fillArg({preEnd:X,phase:V,pageCoords:I.modifiedCoords||H.coords.cur.page}));if(this.result=se,!se.changed&&(!te||te<this.states.length)&&H.interacting())return!1;if(I.modifiedCoords){var me=H.coords.cur.page,ye={x:I.modifiedCoords.x-me.x,y:I.modifiedCoords.y-me.y};se.coords.x+=ye.x,se.coords.y+=ye.y,se.delta.x+=ye.x,se.delta.y+=ye.y}this.applyToInteraction(I)}},{key:"beforeEnd",value:function(I){var H=I.interaction,V=I.event,X=this.states;if(X&&X.length){for(var te=!1,se=0;se<X.length;se++){var me=X[se];I.state=me;var ye=me.options,Pe=me.methods,Ee=Pe.beforeEnd&&Pe.beforeEnd(I);if(Ee)return this.endResult=Ee,!1;te=te||!te&&this.shouldDo(ye,!0,I.phase,!0)}te&&H.move({event:V,preEnd:!0})}}},{key:"stop",value:function(I){var H=I.interaction;if(this.states&&this.states.length){var V=Te({states:this.states,interactable:H.interactable,element:H.element,rect:null},I);this.fillArg(V);for(var X=0,te=this.states;X<te.length;X++){var se=te[X];V.state=se,se.methods.stop&&se.methods.stop(V)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(I){this.states=[];for(var H=0;H<I.length;H++){var V=I[H],X=V.options,te=V.methods,se=V.name;this.states.push({options:X,methods:te,index:H,name:se})}return this.states}},{key:"restoreInteractionCoords",value:function(I){var H=I.interaction,V=H.coords,X=H.rect,te=H.modification;if(te.result){for(var se=te.startDelta,me=te.result,ye=me.delta,Pe=me.rectDelta,Ee=0,Qe=[[V.start,se],[V.cur,ye]];Ee<Qe.length;Ee++){var bt=Qe[Ee],zt=bt[0],Dt=bt[1];zt.page.x-=Dt.x,zt.page.y-=Dt.y,zt.client.x-=Dt.x,zt.client.y-=Dt.y}X.left-=Pe.left,X.right-=Pe.right,X.top-=Pe.top,X.bottom-=Pe.bottom}}},{key:"shouldDo",value:function(I,H,V,X){return!(!I||I.enabled===!1||X&&!I.endOnly||I.endOnly&&!H||V==="start"&&!I.setStart)}},{key:"copyFrom",value:function(I){this.startOffset=I.startOffset,this.startDelta=I.startDelta,this.startEdges=I.startEdges,this.edges=I.edges,this.states=I.states.map(function(H){return Cn(H)}),this.result=An(Te({},I.result.coords),Te({},I.result.rect))}},{key:"destroy",value:function(){for(var I in this)this[I]=null}}]),P}();function An(P,I){return{rect:I,coords:P,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function xi(P,I){var H=P.defaults,V={start:P.start,set:P.set,beforeEnd:P.beforeEnd,stop:P.stop},X=function(te){var se=te||{};for(var me in se.enabled=se.enabled!==!1,H)me in se||(se[me]=H[me]);var ye={options:se,methods:V,name:I,enable:function(){return se.enabled=!0,ye},disable:function(){return se.enabled=!1,ye}};return ye};return I&&typeof I=="string"&&(X._defaults=H,X._methods=V),X}function Li(P){var I=P.iEvent,H=P.interaction.modification.result;H&&(I.modifiers=H.eventProps)}var $i={id:"modifiers/base",before:["actions"],install:function(P){P.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(P){var I=P.interaction;I.modification=new Zn(I)},"interactions:before-action-start":function(P){var I=P.interaction,H=P.interaction.modification;H.start(P,I.coords.start.page),I.edges=H.edges,H.applyToInteraction(P)},"interactions:before-action-move":function(P){var I=P.interaction,H=I.modification,V=H.setAndApply(P);return I.edges=H.edges,V},"interactions:before-action-end":function(P){var I=P.interaction,H=I.modification,V=H.beforeEnd(P);return I.edges=H.startEdges,V},"interactions:action-start":Li,"interactions:action-move":Li,"interactions:action-end":Li,"interactions:after-action-start":function(P){return P.interaction.modification.restoreInteractionCoords(P)},"interactions:after-action-move":function(P){return P.interaction.modification.restoreInteractionCoords(P)},"interactions:stop":function(P){return P.interaction.modification.stop(P)}}},Ki=$i,Ir={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}},Wi=function(P){f(H,P);var I=E(H);function H(V,X,te,se,me,ye,Pe){var Ee;o(this,H),(Ee=I.call(this,V)).relatedTarget=null,Ee.screenX=void 0,Ee.screenY=void 0,Ee.button=void 0,Ee.buttons=void 0,Ee.ctrlKey=void 0,Ee.shiftKey=void 0,Ee.altKey=void 0,Ee.metaKey=void 0,Ee.page=void 0,Ee.client=void 0,Ee.delta=void 0,Ee.rect=void 0,Ee.x0=void 0,Ee.y0=void 0,Ee.t0=void 0,Ee.dt=void 0,Ee.duration=void 0,Ee.clientX0=void 0,Ee.clientY0=void 0,Ee.velocity=void 0,Ee.speed=void 0,Ee.swipe=void 0,Ee.axes=void 0,Ee.preEnd=void 0,me=me||V.element;var Qe=V.interactable,bt=(Qe&&Qe.options||Ir).deltaSource,zt=Fe(Qe,me,te),Dt=se==="start",kt=se==="end",an=Dt?_(Ee):V.prevEvent,Zt=Dt?V.coords.start:kt?{page:an.page,client:an.client,timeStamp:V.coords.cur.timeStamp}:V.coords.cur;return Ee.page=Te({},Zt.page),Ee.client=Te({},Zt.client),Ee.rect=Te({},V.rect),Ee.timeStamp=Zt.timeStamp,kt||(Ee.page.x-=zt.x,Ee.page.y-=zt.y,Ee.client.x-=zt.x,Ee.client.y-=zt.y),Ee.ctrlKey=X.ctrlKey,Ee.altKey=X.altKey,Ee.shiftKey=X.shiftKey,Ee.metaKey=X.metaKey,Ee.button=X.button,Ee.buttons=X.buttons,Ee.target=me,Ee.currentTarget=me,Ee.preEnd=ye,Ee.type=Pe||te+(se||""),Ee.interactable=Qe,Ee.t0=Dt?V.pointers[V.pointers.length-1].downTime:an.t0,Ee.x0=V.coords.start.page.x-zt.x,Ee.y0=V.coords.start.page.y-zt.y,Ee.clientX0=V.coords.start.client.x-zt.x,Ee.clientY0=V.coords.start.client.y-zt.y,Ee.delta=Dt||kt?{x:0,y:0}:{x:Ee[bt].x-an[bt].x,y:Ee[bt].y-an[bt].y},Ee.dt=V.coords.delta.timeStamp,Ee.duration=Ee.timeStamp-Ee.t0,Ee.velocity=Te({},V.coords.velocity[bt]),Ee.speed=$e(Ee.velocity.x,Ee.velocity.y),Ee.swipe=kt||se==="inertiastart"?Ee.getSwipe():null,Ee}return s(H,[{key:"getSwipe",value:function(){var V=this._interaction;if(V.prevEvent.speed<600||this.timeStamp-V.prevEvent.timeStamp>150)return null;var X=180*Math.atan2(V.prevEvent.velocityY,V.prevEvent.velocityX)/Math.PI;X<0&&(X+=360);var te=112.5<=X&&X<247.5,se=202.5<=X&&X<337.5;return{up:se,down:!se&&22.5<=X&&X<157.5,left:te,right:!te&&(292.5<=X||X<67.5),angle:X,speed:V.prevEvent.speed,velocity:{x:V.prevEvent.velocityX,y:V.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}]),H}(rt);Object.defineProperties(Wi.prototype,{pageX:{get:function(){return this.page.x},set:function(P){this.page.x=P}},pageY:{get:function(){return this.page.y},set:function(P){this.page.y=P}},clientX:{get:function(){return this.client.x},set:function(P){this.client.x=P}},clientY:{get:function(){return this.client.y},set:function(P){this.client.y=P}},dx:{get:function(){return this.delta.x},set:function(P){this.delta.x=P}},dy:{get:function(){return this.delta.y},set:function(P){this.delta.y=P}},velocityX:{get:function(){return this.velocity.x},set:function(P){this.velocity.x=P}},velocityY:{get:function(){return this.velocity.y},set:function(P){this.velocity.y=P}}});var bo=s(function P(I,H,V,X,te){o(this,P),this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=I,this.pointer=H,this.event=V,this.downTime=X,this.downTarget=te}),no=function(P){return P.interactable="",P.element="",P.prepared="",P.pointerIsDown="",P.pointerWasMoved="",P._proxy="",P}({}),Ma=function(P){return P.start="",P.move="",P.end="",P.stop="",P.interacting="",P}({}),Bs=0,cd=function(){function P(I){var H=this,V=I.pointerType,X=I.scopeFire;o(this,P),this.interactable=null,this.element=null,this.rect=null,this._rects=void 0,this.edges=null,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=void 0,this.simulation=null,this.doMove=cr(function(Ee){this.move(Ee)},"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},prev:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},cur:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},delta:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},velocity:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},this._id=Bs++,this._scopeFire=X,this.pointerType=V;var te=this;this._proxy={};var se=function(Ee){Object.defineProperty(H._proxy,Ee,{get:function(){return te[Ee]}})};for(var me in no)se(me);var ye=function(Ee){Object.defineProperty(H._proxy,Ee,{value:function(){return te[Ee].apply(te,arguments)}})};for(var Pe in Ma)ye(Pe);this._scopeFire("interactions:new",{interaction:this})}return s(P,[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(I,H,V){var X=this.updatePointer(I,H,V,!0),te=this.pointers[X];this._scopeFire("interactions:down",{pointer:I,event:H,eventTarget:V,pointerIndex:X,pointerInfo:te,type:"down",interaction:this})}},{key:"start",value:function(I,H,V){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(I.name==="gesture"?2:1)||!H.options[I.name].enabled)&&(_r(this.prepared,I),this.interactable=H,this.element=V,this.rect=H.getRect(V),this.edges=this.prepared.edges?Te({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(I,H,V){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(I,H,V,!1);var X,te,se=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(X=this.coords.cur.client.x-this.coords.start.client.x,te=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=$e(X,te)>this.pointerMoveTolerance);var me,ye,Pe,Ee=this.getPointerIndex(I),Qe={pointer:I,pointerIndex:Ee,pointerInfo:this.pointers[Ee],event:H,type:"move",eventTarget:V,dx:X,dy:te,duplicate:se,interaction:this};se||(me=this.coords.velocity,ye=this.coords.delta,Pe=Math.max(ye.timeStamp/1e3,.001),me.page.x=ye.page.x/Pe,me.page.y=ye.page.y/Pe,me.client.x=ye.client.x/Pe,me.client.y=ye.client.y/Pe,me.timeStamp=Pe),this._scopeFire("interactions:move",Qe),se||this.simulation||(this.interacting()&&(Qe.type=null,this.move(Qe)),this.pointerWasMoved&&ce(this.coords.prev,this.coords.cur))}},{key:"move",value:function(I){I&&I.event||oe(this.coords.delta),(I=Te({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},I||{})).phase="move",this._doPhase(I)}},{key:"pointerUp",value:function(I,H,V,X){var te=this.getPointerIndex(I);te===-1&&(te=this.updatePointer(I,H,V,!1));var se=/cancel$/i.test(H.type)?"cancel":"up";this._scopeFire("interactions:".concat(se),{pointer:I,pointerIndex:te,pointerInfo:this.pointers[te],event:H,eventTarget:V,type:se,curEventTarget:X,interaction:this}),this.simulation||this.end(H),this.removePointer(I,H)}},{key:"documentBlur",value:function(I){this.end(I),this._scopeFire("interactions:blur",{event:I,type:"blur",interaction:this})}},{key:"end",value:function(I){var H;this._ending=!0,I=I||this._latestPointer.event,this.interacting()&&(H=this._doPhase({event:I,interaction:this,phase:"end"})),this._ending=!1,H===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(I){var H=He(I);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:St(this.pointers,function(V){return V.id===H})}},{key:"getPointerInfo",value:function(I){return this.pointers[this.getPointerIndex(I)]}},{key:"updatePointer",value:function(I,H,V,X){var te,se,me,ye=He(I),Pe=this.getPointerIndex(I),Ee=this.pointers[Pe];return X=X!==!1&&(X||/(down|start)$/i.test(H.type)),Ee?Ee.pointer=I:(Ee=new bo(ye,I,H,null,null),Pe=this.pointers.length,this.pointers.push(Ee)),gt(this.coords.cur,this.pointers.map(function(Qe){return Qe.pointer}),this._now()),te=this.coords.delta,se=this.coords.prev,me=this.coords.cur,te.page.x=me.page.x-se.page.x,te.page.y=me.page.y-se.page.y,te.client.x=me.client.x-se.client.x,te.client.y=me.client.y-se.client.y,te.timeStamp=me.timeStamp-se.timeStamp,X&&(this.pointerIsDown=!0,Ee.downTime=this.coords.cur.timeStamp,Ee.downTarget=V,st(this.downPointer,I),this.interacting()||(ce(this.coords.start,this.coords.cur),ce(this.coords.prev,this.coords.cur),this.downEvent=H,this.pointerWasMoved=!1)),this._updateLatestPointer(I,H,V),this._scopeFire("interactions:update-pointer",{pointer:I,event:H,eventTarget:V,down:X,pointerInfo:Ee,pointerIndex:Pe,interaction:this}),Pe}},{key:"removePointer",value:function(I,H){var V=this.getPointerIndex(I);if(V!==-1){var X=this.pointers[V];this._scopeFire("interactions:remove-pointer",{pointer:I,event:H,eventTarget:null,pointerIndex:V,pointerInfo:X,interaction:this}),this.pointers.splice(V,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(I,H,V){this._latestPointer.pointer=I,this._latestPointer.event=H,this._latestPointer.eventTarget=V}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(I,H,V,X){return new Wi(this,I,this.prepared.name,H,this.element,V,X)}},{key:"_fireEvent",value:function(I){var H;(H=this.interactable)==null||H.fire(I),(!this.prevEvent||I.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=I)}},{key:"_doPhase",value:function(I){var H=I.event,V=I.phase,X=I.preEnd,te=I.type,se=this.rect;if(se&&V==="move"&&(re(this.edges,se,this.coords.delta[this.interactable.options.deltaSource]),se.width=se.right-se.left,se.height=se.bottom-se.top),this._scopeFire("interactions:before-action-".concat(V),I)===!1)return!1;var me=I.iEvent=this._createPreparedEvent(H,V,X,te);return this._scopeFire("interactions:action-".concat(V),I),V==="start"&&(this.prevEvent=me),this._fireEvent(me),this._scopeFire("interactions:after-action-".concat(V),I),!0}},{key:"_now",value:function(){return Date.now()}}]),P}();function Jc(P){xr(P.interaction)}function xr(P){if(!function(H){return!(!H.offset.pending.x&&!H.offset.pending.y)}(P))return!1;var I=P.offset.pending;return Ua(P.coords.cur,I),Ua(P.coords.delta,I),re(P.edges,P.rect,I),I.x=0,I.y=0,!0}function $o(P){var I=P.x,H=P.y;this.offset.pending.x+=I,this.offset.pending.y+=H,this.offset.total.x+=I,this.offset.total.y+=H}function Ua(P,I){var H=P.page,V=P.client,X=I.x,te=I.y;H.x+=X,H.y+=te,V.x+=X,V.y+=te}Ma.offsetBy="";var va={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(P){P.Interaction.prototype.offsetBy=$o},listeners:{"interactions:new":function(P){P.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(P){return function(I){I.pointerIsDown&&(Ua(I.coords.cur,I.offset.total),I.offset.pending.x=0,I.offset.pending.y=0)}(P.interaction)},"interactions:before-action-start":Jc,"interactions:before-action-move":Jc,"interactions:before-action-end":function(P){var I=P.interaction;if(xr(I))return I.move({offset:!0}),I.end(),!1},"interactions:stop":function(P){var I=P.interaction;I.offset.total.x=0,I.offset.total.y=0,I.offset.pending.x=0,I.offset.pending.y=0}}},Ta=va,Ds=function(){function P(I){o(this,P),this.active=!1,this.isModified=!1,this.smoothEnd=!1,this.allowResume=!1,this.modification=void 0,this.modifierCount=0,this.modifierArg=void 0,this.startCoords=void 0,this.t0=0,this.v0=0,this.te=0,this.targetOffset=void 0,this.modifiedOffset=void 0,this.currentOffset=void 0,this.lambda_v0=0,this.one_ve_v0=0,this.timeout=void 0,this.interaction=void 0,this.interaction=I}return s(P,[{key:"start",value:function(I){var H=this.interaction,V=So(H);if(!V||!V.enabled)return!1;var X=H.coords.velocity.client,te=$e(X.x,X.y),se=this.modification||(this.modification=new Zn(H));if(se.copyFrom(H.modification),this.t0=H._now(),this.allowResume=V.allowResume,this.v0=te,this.currentOffset={x:0,y:0},this.startCoords=H.coords.cur.page,this.modifierArg=se.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-H.coords.cur.timeStamp<50&&te>V.minSpeed&&te>V.endSpeed)this.startInertia();else{if(se.result=se.setAll(this.modifierArg),!se.result.changed)return!1;this.startSmoothEnd()}return H.modification.result.rect=null,H.offsetBy(this.targetOffset),H._doPhase({interaction:H,event:I,phase:"inertiastart"}),H.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),H.modification.result.rect=null,this.active=!0,H.simulation=this,!0}},{key:"startInertia",value:function(){var I=this,H=this.interaction.coords.velocity.client,V=So(this.interaction),X=V.resistance,te=-Math.log(V.endSpeed/this.v0)/X;this.targetOffset={x:(H.x-te)/X,y:(H.y-te)/X},this.te=te,this.lambda_v0=X/this.v0,this.one_ve_v0=1-V.endSpeed/this.v0;var se=this.modification,me=this.modifierArg;me.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},se.result=se.setAll(me),se.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+se.result.delta.x,y:this.targetOffset.y+se.result.delta.y}),this.onNextFrame(function(){return I.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var I=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return I.smoothEndTick()})}},{key:"onNextFrame",value:function(I){var H=this;this.timeout=ii.request(function(){H.active&&I()})}},{key:"inertiaTick",value:function(){var I,H,V,X,te,se,me,ye=this,Pe=this.interaction,Ee=So(Pe).resistance,Qe=(Pe._now()-this.t0)/1e3;if(Qe<this.te){var bt,zt=1-(Math.exp(-Ee*Qe)-this.lambda_v0)/this.one_ve_v0;this.isModified?(I=0,H=0,V=this.targetOffset.x,X=this.targetOffset.y,te=this.modifiedOffset.x,se=this.modifiedOffset.y,bt={x:tn(me=zt,I,V,te),y:tn(me,H,X,se)}):bt={x:this.targetOffset.x*zt,y:this.targetOffset.y*zt};var Dt={x:bt.x-this.currentOffset.x,y:bt.y-this.currentOffset.y};this.currentOffset.x+=Dt.x,this.currentOffset.y+=Dt.y,Pe.offsetBy(Dt),Pe.move(),this.onNextFrame(function(){return ye.inertiaTick()})}else Pe.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var I=this,H=this.interaction,V=H._now()-this.t0,X=So(H).smoothEndDuration;if(V<X){var te={x:Sn(V,0,this.targetOffset.x,X),y:Sn(V,0,this.targetOffset.y,X)},se={x:te.x-this.currentOffset.x,y:te.y-this.currentOffset.y};this.currentOffset.x+=se.x,this.currentOffset.y+=se.y,H.offsetBy(se),H.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return I.smoothEndTick()})}else H.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(I){var H=I.pointer,V=I.event,X=I.eventTarget,te=this.interaction;te.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),te.updatePointer(H,V,X,!0),te._doPhase({interaction:te,event:V,phase:"resume"}),ce(te.coords.prev,te.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,ii.cancel(this.timeout)}}]),P}();function So(P){var I=P.interactable,H=P.prepared;return I&&I.options&&H.name&&I.options[H.name].inertia}var jl={id:"inertia",before:["modifiers","actions"],install:function(P){var I=P.defaults;P.usePlugin(Ta),P.usePlugin(Ki),P.actions.phases.inertiastart=!0,P.actions.phases.resume=!0,I.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(P){var I=P.interaction;I.inertia=new Ds(I)},"interactions:before-action-end":function(P){var I=P.interaction,H=P.event;return(!I._interacting||I.simulation||!I.inertia.start(H))&&null},"interactions:down":function(P){var I=P.interaction,H=P.eventTarget,V=I.inertia;if(V.active)for(var X=H;D.element(X);){if(X===I.element){V.resume(P);break}X=de(X)}},"interactions:stop":function(P){var I=P.interaction.inertia;I.active&&I.stop()},"interactions:before-action-resume":function(P){var I=P.interaction.modification;I.stop(P),I.start(P,P.interaction.coords.cur.page),I.applyToInteraction(P)},"interactions:before-action-inertiastart":function(P){return P.interaction.modification.setAndApply(P)},"interactions:action-resume":Li,"interactions:action-inertiastart":Li,"interactions:after-action-inertiastart":function(P){return P.interaction.modification.restoreInteractionCoords(P)},"interactions:after-action-resume":function(P){return P.interaction.modification.restoreInteractionCoords(P)}}};function tn(P,I,H,V){var X=1-P;return X*X*I+2*X*P*H+P*P*V}function Sn(P,I,H,V){return-H*(P/=V)*(P-2)+I}var Mi=jl;function Ci(P,I){for(var H=0;H<I.length;H++){var V=I[H];if(P.immediatePropagationStopped)break;V(P)}}var Hi=function(){function P(I){o(this,P),this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=Te({},I||{})}return s(P,[{key:"fire",value:function(I){var H,V=this.global;(H=this.types[I.type])&&Ci(I,H),!I.propagationStopped&&V&&(H=V[I.type])&&Ci(I,H)}},{key:"on",value:function(I,H){var V=Ie(I,H);for(I in V)this.types[I]=Se(this.types[I]||[],V[I])}},{key:"off",value:function(I,H){var V=Ie(I,H);for(I in V){var X=this.types[I];if(X&&X.length)for(var te=0,se=V[I];te<se.length;te++){var me=se[te],ye=X.indexOf(me);ye!==-1&&X.splice(ye,1)}}}},{key:"getRect",value:function(I){return null}}]),P}(),Ps=function(){function P(I){o(this,P),this.currentTarget=void 0,this.originalEvent=void 0,this.type=void 0,this.originalEvent=I,st(this,I)}return s(P,[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}]),P}();function Vo(P){return D.object(P)?{capture:!!P.capture,passive:!!P.passive}:{capture:!!P,passive:!1}}function Fa(P,I){return P===I||(typeof P=="boolean"?!!I.capture===P&&!I.passive:!!P.capture==!!I.capture&&!!P.passive==!!I.passive)}var jo={id:"events",install:function(P){var I,H=[],V={},X=[],te={add:se,remove:me,addDelegate:function(Ee,Qe,bt,zt,Dt){var kt=Vo(Dt);if(!V[bt]){V[bt]=[];for(var an=0;an<X.length;an++){var Zt=X[an];se(Zt,bt,ye),se(Zt,bt,Pe,!0)}}var hn=V[bt],Ln=Me(hn,function(ei){return ei.selector===Ee&&ei.context===Qe});Ln||(Ln={selector:Ee,context:Qe,listeners:[]},hn.push(Ln)),Ln.listeners.push({func:zt,options:kt})},removeDelegate:function(Ee,Qe,bt,zt,Dt){var kt,an=Vo(Dt),Zt=V[bt],hn=!1;if(Zt)for(kt=Zt.length-1;kt>=0;kt--){var Ln=Zt[kt];if(Ln.selector===Ee&&Ln.context===Qe){for(var ei=Ln.listeners,pn=ei.length-1;pn>=0;pn--){var Rn=ei[pn];if(Rn.func===zt&&Fa(Rn.options,an)){ei.splice(pn,1),ei.length||(Zt.splice(kt,1),me(Qe,bt,ye),me(Qe,bt,Pe,!0)),hn=!0;break}}if(hn)break}}},delegateListener:ye,delegateUseCapture:Pe,delegatedEvents:V,documents:X,targets:H,supportsOptions:!1,supportsPassive:!1};function se(Ee,Qe,bt,zt){if(Ee.addEventListener){var Dt=Vo(zt),kt=Me(H,function(an){return an.eventTarget===Ee});kt||(kt={eventTarget:Ee,events:{}},H.push(kt)),kt.events[Qe]||(kt.events[Qe]=[]),Me(kt.events[Qe],function(an){return an.func===bt&&Fa(an.options,Dt)})||(Ee.addEventListener(Qe,bt,te.supportsOptions?Dt:Dt.capture),kt.events[Qe].push({func:bt,options:Dt}))}}function me(Ee,Qe,bt,zt){if(Ee.addEventListener&&Ee.removeEventListener){var Dt=St(H,function(Mr){return Mr.eventTarget===Ee}),kt=H[Dt];if(kt&&kt.events)if(Qe!=="all"){var an=!1,Zt=kt.events[Qe];if(Zt){if(bt==="all"){for(var hn=Zt.length-1;hn>=0;hn--){var Ln=Zt[hn];me(Ee,Qe,Ln.func,Ln.options)}return}for(var ei=Vo(zt),pn=0;pn<Zt.length;pn++){var Rn=Zt[pn];if(Rn.func===bt&&Fa(Rn.options,ei)){Ee.removeEventListener(Qe,bt,te.supportsOptions?ei:ei.capture),Zt.splice(pn,1),Zt.length===0&&(delete kt.events[Qe],an=!0);break}}}an&&!Object.keys(kt.events).length&&H.splice(Dt,1)}else for(Qe in kt.events)kt.events.hasOwnProperty(Qe)&&me(Ee,Qe,"all")}}function ye(Ee,Qe){for(var bt=Vo(Qe),zt=new Ps(Ee),Dt=V[Ee.type],kt=We(Ee)[0],an=kt;D.element(an);){for(var Zt=0;Zt<Dt.length;Zt++){var hn=Dt[Zt],Ln=hn.selector,ei=hn.context;if(q(an,Ln)&&K(ei,kt)&&K(ei,an)){var pn=hn.listeners;zt.currentTarget=an;for(var Rn=0;Rn<pn.length;Rn++){var Mr=pn[Rn];Fa(Mr.options,bt)&&Mr.func(zt)}}}an=de(an)}}function Pe(Ee){return ye(Ee,!0)}return(I=P.document)==null||I.createElement("div").addEventListener("test",null,{get capture(){return te.supportsOptions=!0},get passive(){return te.supportsPassive=!0}}),P.events=te,te}},Wl={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(P){for(var I=0,H=Wl.methodOrder;I<H.length;I++){var V=H[I],X=Wl[V](P);if(X)return X}return null},simulationResume:function(P){var I=P.pointerType,H=P.eventType,V=P.eventTarget,X=P.scope;if(!/down|start/i.test(H))return null;for(var te=0,se=X.interactions.list;te<se.length;te++){var me=se[te],ye=V;if(me.simulation&&me.simulation.allowResume&&me.pointerType===I)for(;ye;){if(ye===me.element)return me;ye=de(ye)}}return null},mouseOrPen:function(P){var I,H=P.pointerId,V=P.pointerType,X=P.eventType,te=P.scope;if(V!=="mouse"&&V!=="pen")return null;for(var se=0,me=te.interactions.list;se<me.length;se++){var ye=me[se];if(ye.pointerType===V){if(ye.simulation&&!ya(ye,H))continue;if(ye.interacting())return ye;I||(I=ye)}}if(I)return I;for(var Pe=0,Ee=te.interactions.list;Pe<Ee.length;Pe++){var Qe=Ee[Pe];if(!(Qe.pointerType!==V||/down/i.test(X)&&Qe.simulation))return Qe}return null},hasPointer:function(P){for(var I=P.pointerId,H=0,V=P.scope.interactions.list;H<V.length;H++){var X=V[H];if(ya(X,I))return X}return null},idle:function(P){for(var I=P.pointerType,H=0,V=P.scope.interactions.list;H<V.length;H++){var X=V[H];if(X.pointers.length===1){var te=X.interactable;if(te&&(!te.options.gesture||!te.options.gesture.enabled))continue}else if(X.pointers.length>=2)continue;if(!X.interacting()&&I===X.pointerType)return X}return null}};function ya(P,I){return P.pointers.some(function(H){return H.id===I})}var cl=Wl,ul=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function Xl(P,I){return function(H){var V=I.interactions.list,X=Ct(H),te=We(H),se=te[0],me=te[1],ye=[];if(/^touch/.test(H.type)){I.prevTouchTime=I.now();for(var Pe=0,Ee=H.changedTouches;Pe<Ee.length;Pe++){var Qe=Ee[Pe],bt={pointer:Qe,pointerId:He(Qe),pointerType:X,eventType:H.type,eventTarget:se,curEventTarget:me,scope:I},zt=qh(bt);ye.push([bt.pointer,bt.eventTarget,bt.curEventTarget,zt])}}else{var Dt=!1;if(!Y.supportsPointerEvent&&/mouse/.test(H.type)){for(var kt=0;kt<V.length&&!Dt;kt++)Dt=V[kt].pointerType!=="mouse"&&V[kt].pointerIsDown;Dt=Dt||I.now()-I.prevTouchTime<500||H.timeStamp===0}if(!Dt){var an={pointer:H,pointerId:He(H),pointerType:X,eventType:H.type,curEventTarget:me,eventTarget:se,scope:I},Zt=qh(an);ye.push([an.pointer,an.eventTarget,an.curEventTarget,Zt])}}for(var hn=0;hn<ye.length;hn++){var Ln=ye[hn],ei=Ln[0],pn=Ln[1],Rn=Ln[2];Ln[3][P](ei,H,pn,Rn)}}}function qh(P){var I=P.pointerType,H=P.scope,V={interaction:cl.search(P),searchDetails:P};return H.fire("interactions:find",V),V.interaction||H.interactions.new({pointerType:I})}function Wo(P,I){var H=P.doc,V=P.scope,X=P.options,te=V.interactions.docEvents,se=V.events,me=se[I];for(var ye in V.browser.isIOS&&!X.events&&(X.events={passive:!1}),se.delegatedEvents)me(H,ye,se.delegateListener),me(H,ye,se.delegateUseCapture,!0);for(var Pe=X&&X.events,Ee=0;Ee<te.length;Ee++){var Qe=te[Ee];me(H,Qe.type,Qe.listener,Pe)}}var Qc={id:"core/interactions",install:function(P){for(var I={},H=0;H<ul.length;H++){var V=ul[H];I[V]=Xl(V,P)}var X,te=Y.pEventTypes;function se(){for(var me=0,ye=P.interactions.list;me<ye.length;me++){var Pe=ye[me];if(Pe.pointerIsDown&&Pe.pointerType==="touch"&&!Pe._interacting)for(var Ee=function(){var zt=bt[Qe];P.documents.some(function(Dt){return K(Dt.doc,zt.downTarget)})||Pe.removePointer(zt.pointer,zt.event)},Qe=0,bt=Pe.pointers;Qe<bt.length;Qe++)Ee()}}(X=Q.PointerEvent?[{type:te.down,listener:se},{type:te.down,listener:I.pointerDown},{type:te.move,listener:I.pointerMove},{type:te.up,listener:I.pointerUp},{type:te.cancel,listener:I.pointerUp}]:[{type:"mousedown",listener:I.pointerDown},{type:"mousemove",listener:I.pointerMove},{type:"mouseup",listener:I.pointerUp},{type:"touchstart",listener:se},{type:"touchstart",listener:I.pointerDown},{type:"touchmove",listener:I.pointerMove},{type:"touchend",listener:I.pointerUp},{type:"touchcancel",listener:I.pointerUp}]).push({type:"blur",listener:function(me){for(var ye=0,Pe=P.interactions.list;ye<Pe.length;ye++)Pe[ye].documentBlur(me)}}),P.prevTouchTime=0,P.Interaction=function(me){f(Pe,me);var ye=E(Pe);function Pe(){return o(this,Pe),ye.apply(this,arguments)}return s(Pe,[{key:"pointerMoveTolerance",get:function(){return P.interactions.pointerMoveTolerance},set:function(Ee){P.interactions.pointerMoveTolerance=Ee}},{key:"_now",value:function(){return P.now()}}]),Pe}(cd),P.interactions={list:[],new:function(me){me.scopeFire=function(Pe,Ee){return P.fire(Pe,Ee)};var ye=new P.Interaction(me);return P.interactions.list.push(ye),ye},listeners:I,docEvents:X,pointerMoveTolerance:1},P.usePlugin($n)},listeners:{"scope:add-document":function(P){return Wo(P,"add")},"scope:remove-document":function(P){return Wo(P,"remove")},"interactable:unset":function(P,I){for(var H=P.interactable,V=I.interactions.list.length-1;V>=0;V--){var X=I.interactions.list[V];X.interactable===H&&(X.stop(),I.fire("interactions:destroy",{interaction:X}),X.destroy(),I.interactions.list.length>2&&I.interactions.list.splice(V,1))}}},onDocSignal:Wo,doOnInteractions:Xl,methodNames:ul},Zc=Qc,io=function(P){return P[P.On=0]="On",P[P.Off=1]="Off",P}(io||{}),Kh=function(){function P(I,H,V,X){o(this,P),this.target=void 0,this.options=void 0,this._actions=void 0,this.events=new Hi,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._actions=H.actions,this.target=I,this._context=H.context||V,this._win=M(Ae(I)?this._context:I),this._doc=this._win.document,this._scopeEvents=X,this.set(H)}return s(P,[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(I,H){return D.func(H.onstart)&&this.on("".concat(I,"start"),H.onstart),D.func(H.onmove)&&this.on("".concat(I,"move"),H.onmove),D.func(H.onend)&&this.on("".concat(I,"end"),H.onend),D.func(H.oninertiastart)&&this.on("".concat(I,"inertiastart"),H.oninertiastart),this}},{key:"updatePerActionListeners",value:function(I,H,V){var X,te=this,se=(X=this._actions.map[I])==null?void 0:X.filterEventType,me=function(ye){return(se==null||se(ye))&&Tn(ye,te._actions)};(D.array(H)||D.object(H))&&this._onOff(io.Off,I,H,void 0,me),(D.array(V)||D.object(V))&&this._onOff(io.On,I,V,void 0,me)}},{key:"setPerAction",value:function(I,H){var V=this._defaults;for(var X in H){var te=X,se=this.options[I],me=H[te];te==="listeners"&&this.updatePerActionListeners(I,se.listeners,me),D.array(me)?se[te]=Ge(me):D.plainObject(me)?(se[te]=Te(se[te]||{},Cn(me)),D.object(V.perAction[te])&&"enabled"in V.perAction[te]&&(se[te].enabled=me.enabled!==!1)):D.bool(me)&&D.object(V.perAction[te])?se[te].enabled=me:se[te]=me}}},{key:"getRect",value:function(I){return I=I||(D.element(this.target)?this.target:null),D.string(this.target)&&(I=I||this._context.querySelector(this.target)),xe(I)}},{key:"rectChecker",value:function(I){var H=this;return D.func(I)?(this.getRect=function(V){var X=Te({},I.apply(H,V));return"width"in X||(X.width=X.right-X.left,X.height=X.bottom-X.top),X},this):I===null?(delete this.getRect,this):this.getRect}},{key:"_backCompatOption",value:function(I,H){if(Ae(H)||D.object(H)){for(var V in this.options[I]=H,this._actions.map)this.options[V][I]=H;return this}return this.options[I]}},{key:"origin",value:function(I){return this._backCompatOption("origin",I)}},{key:"deltaSource",value:function(I){return I==="page"||I==="client"?(this.options.deltaSource=I,this):this.options.deltaSource}},{key:"getAllElements",value:function(){var I=this.target;return D.string(I)?Array.from(this._context.querySelectorAll(I)):D.func(I)&&I.getAllElements?I.getAllElements():D.element(I)?[I]:[]}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(I){return this._context===I.ownerDocument||K(this._context,I)}},{key:"testIgnoreAllow",value:function(I,H,V){return!this.testIgnore(I.ignoreFrom,H,V)&&this.testAllow(I.allowFrom,H,V)}},{key:"testAllow",value:function(I,H,V){return!I||!!D.element(V)&&(D.string(I)?fe(V,I,H):!!D.element(I)&&K(I,V))}},{key:"testIgnore",value:function(I,H,V){return!(!I||!D.element(V))&&(D.string(I)?fe(V,I,H):!!D.element(I)&&K(I,V))}},{key:"fire",value:function(I){return this.events.fire(I),this}},{key:"_onOff",value:function(I,H,V,X,te){D.object(H)&&!D.array(H)&&(X=V,V=null);var se=Ie(H,V,te);for(var me in se){me==="wheel"&&(me=Y.wheelEvent);for(var ye=0,Pe=se[me];ye<Pe.length;ye++){var Ee=Pe[ye];Tn(me,this._actions)?this.events[I===io.On?"on":"off"](me,Ee):D.string(this.target)?this._scopeEvents[I===io.On?"addDelegate":"removeDelegate"](this.target,this._context,me,Ee,X):this._scopeEvents[I===io.On?"add":"remove"](this.target,me,Ee,X)}}return this}},{key:"on",value:function(I,H,V){return this._onOff(io.On,I,H,V)}},{key:"off",value:function(I,H,V){return this._onOff(io.Off,I,H,V)}},{key:"set",value:function(I){var H=this._defaults;for(var V in D.object(I)||(I={}),this.options=Cn(H.base),this._actions.methodDict){var X=V,te=this._actions.methodDict[X];this.options[X]={},this.setPerAction(X,Te(Te({},H.perAction),H.actions[X])),this[te](I[X])}for(var se in I)se!=="getRect"?D.func(this[se])&&this[se](I[se]):this.rectChecker(I.getRect);return this}},{key:"unset",value:function(){if(D.string(this.target))for(var I in this._scopeEvents.delegatedEvents)for(var H=this._scopeEvents.delegatedEvents[I],V=H.length-1;V>=0;V--){var X=H[V],te=X.selector,se=X.context,me=X.listeners;te===this.target&&se===this._context&&H.splice(V,1);for(var ye=me.length-1;ye>=0;ye--)this._scopeEvents.removeDelegate(this.target,this._context,I,me[ye][0],me[ye][1])}else this._scopeEvents.remove(this.target,"all")}}]),P}(),Km=function(){function P(I){var H=this;o(this,P),this.list=[],this.selectorMap={},this.scope=void 0,this.scope=I,I.addListeners({"interactable:unset":function(V){var X=V.interactable,te=X.target,se=D.string(te)?H.selectorMap[te]:te[H.scope.id],me=St(se,function(ye){return ye===X});se.splice(me,1)}})}return s(P,[{key:"new",value:function(I,H){H=Te(H||{},{actions:this.scope.actions});var V=new this.scope.Interactable(I,H,this.scope.document,this.scope.events);return this.scope.addDocument(V._doc),this.list.push(V),D.string(I)?(this.selectorMap[I]||(this.selectorMap[I]=[]),this.selectorMap[I].push(V)):(V.target[this.scope.id]||Object.defineProperty(I,this.scope.id,{value:[],configurable:!0}),I[this.scope.id].push(V)),this.scope.fire("interactable:new",{target:I,options:H,interactable:V,win:this.scope._win}),V}},{key:"getExisting",value:function(I,H){var V=H&&H.context||this.scope.document,X=D.string(I),te=X?this.selectorMap[I]:I[this.scope.id];if(te)return Me(te,function(se){return se._context===V&&(X||se.inContext(I))})}},{key:"forEachMatch",value:function(I,H){for(var V=0,X=this.list;V<X.length;V++){var te=X[V],se=void 0;if((D.string(te.target)?D.element(I)&&q(I,te.target):I===te.target)&&te.inContext(I)&&(se=H(te)),se!==void 0)return se}}}]),P}(),V0=function(){function P(){var I=this;o(this,P),this.id="__interact_scope_".concat(Math.floor(100*Math.random())),this.isInitialized=!1,this.listenerMaps=[],this.browser=Y,this.defaults=Cn(Ir),this.Eventable=Hi,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=function(V){var X=function te(se,me){var ye=V.interactables.getExisting(se,me);return ye||((ye=V.interactables.new(se,me)).events.global=te.globalEvents),ye};return X.getPointerAverage=pt,X.getTouchBBox=It,X.getTouchDistance=ot,X.getTouchAngle=_t,X.getElementRect=xe,X.getElementClientRect=pe,X.matchesSelector=q,X.closest=ee,X.globalEvents={},X.version="1.10.27",X.scope=V,X.use=function(te,se){return this.scope.usePlugin(te,se),this},X.isSet=function(te,se){return!!this.scope.interactables.get(te,se&&se.context)},X.on=cr(function(te,se,me){if(D.string(te)&&te.search(" ")!==-1&&(te=te.trim().split(/ +/)),D.array(te)){for(var ye=0,Pe=te;ye<Pe.length;ye++){var Ee=Pe[ye];this.on(Ee,se,me)}return this}if(D.object(te)){for(var Qe in te)this.on(Qe,te[Qe],se);return this}return Tn(te,this.scope.actions)?this.globalEvents[te]?this.globalEvents[te].push(se):this.globalEvents[te]=[se]:this.scope.events.add(this.scope.document,te,se,{options:me}),this},"The interact.on() method is being deprecated"),X.off=cr(function(te,se,me){if(D.string(te)&&te.search(" ")!==-1&&(te=te.trim().split(/ +/)),D.array(te)){for(var ye=0,Pe=te;ye<Pe.length;ye++){var Ee=Pe[ye];this.off(Ee,se,me)}return this}if(D.object(te)){for(var Qe in te)this.off(Qe,te[Qe],se);return this}var bt;return Tn(te,this.scope.actions)?te in this.globalEvents&&(bt=this.globalEvents[te].indexOf(se))!==-1&&this.globalEvents[te].splice(bt,1):this.scope.events.remove(this.scope.document,te,se,me),this},"The interact.off() method is being deprecated"),X.debug=function(){return this.scope},X.supportsTouch=function(){return Y.supportsTouch},X.supportsPointerEvent=function(){return Y.supportsPointerEvent},X.stop=function(){for(var te=0,se=this.scope.interactions.list;te<se.length;te++)se[te].stop();return this},X.pointerMoveTolerance=function(te){return D.number(te)?(this.scope.interactions.pointerMoveTolerance=te,this):this.scope.interactions.pointerMoveTolerance},X.addDocument=function(te,se){this.scope.addDocument(te,se)},X.removeDocument=function(te){this.scope.removeDocument(te)},X}(this),this.InteractEvent=Wi,this.Interactable=void 0,this.interactables=new Km(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=function(V){return I.removeDocument(V.target)};var H=this;this.Interactable=function(V){f(te,V);var X=E(te);function te(){return o(this,te),X.apply(this,arguments)}return s(te,[{key:"_defaults",get:function(){return H.defaults}},{key:"set",value:function(se){return c(m(te.prototype),"set",this).call(this,se),H.fire("interactable:set",{options:se,interactable:this}),this}},{key:"unset",value:function(){c(m(te.prototype),"unset",this).call(this);var se=H.interactables.list.indexOf(this);se<0||(H.interactables.list.splice(se,1),H.fire("interactable:unset",{interactable:this}))}}]),te}(Kh)}return s(P,[{key:"addListeners",value:function(I,H){this.listenerMaps.push({id:H,map:I})}},{key:"fire",value:function(I,H){for(var V=0,X=this.listenerMaps;V<X.length;V++){var te=X[V].map[I];if(te&&te(H,this,I)===!1)return!1}}},{key:"init",value:function(I){return this.isInitialized?this:function(H,V){return H.isInitialized=!0,D.window(V)&&T(V),Q.init(V),Y.init(V),ii.init(V),H.window=V,H.document=V.document,H.usePlugin(Zc),H.usePlugin(jo),H}(this,I)}},{key:"pluginIsInstalled",value:function(I){var H=I.id;return H?!!this._plugins.map[H]:this._plugins.list.indexOf(I)!==-1}},{key:"usePlugin",value:function(I,H){if(!this.isInitialized)return this;if(this.pluginIsInstalled(I))return this;if(I.id&&(this._plugins.map[I.id]=I),this._plugins.list.push(I),I.install&&I.install(this,H),I.listeners&&I.before){for(var V=0,X=this.listenerMaps.length,te=I.before.reduce(function(me,ye){return me[ye]=!0,me[Zr(ye)]=!0,me},{});V<X;V++){var se=this.listenerMaps[V].id;if(se&&(te[se]||te[Zr(se)]))break}this.listenerMaps.splice(V,0,{id:I.id,map:I.listeners})}else I.listeners&&this.listenerMaps.push({id:I.id,map:I.listeners});return this}},{key:"addDocument",value:function(I,H){if(this.getDocIndex(I)!==-1)return!1;var V=M(I);H=H?Te({},H):{},this.documents.push({doc:I,options:H}),this.events.documents.push(I),I!==this.document&&this.events.add(V,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:I,window:V,scope:this,options:H})}},{key:"removeDocument",value:function(I){var H=this.getDocIndex(I),V=M(I),X=this.documents[H].options;this.events.remove(V,"unload",this.onWindowUnload),this.documents.splice(H,1),this.events.documents.splice(H,1),this.fire("scope:remove-document",{doc:I,window:V,scope:this,options:X})}},{key:"getDocIndex",value:function(I){for(var H=0;H<this.documents.length;H++)if(this.documents[H].doc===I)return H;return-1}},{key:"getDocOptions",value:function(I){var H=this.getDocIndex(I);return H===-1?null:this.documents[H].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),P}();function Zr(P){return P&&P.replace(/\/.*$/,"")}var ud=new V0,ba=ud.interactStatic,Jm=typeof globalThis<"u"?globalThis:window;ud.init(Jm);var Qm=Object.freeze({__proto__:null,edgeTarget:function(){},elements:function(){},grid:function(P){var I=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(V){var X=V[0],te=V[1];return X in P||te in P}),H=function(V,X){for(var te=P.range,se=P.limits,me=se===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:se,ye=P.offset,Pe=ye===void 0?{x:0,y:0}:ye,Ee={range:te,grid:P,x:null,y:null},Qe=0;Qe<I.length;Qe++){var bt=I[Qe],zt=bt[0],Dt=bt[1],kt=Math.round((V-Pe.x)/P[zt]),an=Math.round((X-Pe.y)/P[Dt]);Ee[zt]=Math.max(me.left,Math.min(me.right,kt*P[zt]+Pe.x)),Ee[Dt]=Math.max(me.top,Math.min(me.bottom,an*P[Dt]+Pe.y))}return Ee};return H.grid=P,H.coordFields=I,H}}),Zm={id:"snappers",install:function(P){var I=P.interactStatic;I.snappers=Te(I.snappers||{},Qm),I.createSnapGrid=I.snappers.grid}},dd=Zm,wf={start:function(P){var I=P.state,H=P.rect,V=P.edges,X=P.pageCoords,te=I.options,se=te.ratio,me=te.enabled,ye=I.options,Pe=ye.equalDelta,Ee=ye.modifiers;se==="preserve"&&(se=H.width/H.height),I.startCoords=Te({},X),I.startRect=Te({},H),I.ratio=se,I.equalDelta=Pe;var Qe=I.linkedEdges={top:V.top||V.left&&!V.bottom,left:V.left||V.top&&!V.right,bottom:V.bottom||V.right&&!V.top,right:V.right||V.bottom&&!V.left};if(I.xIsPrimaryAxis=!(!V.left&&!V.right),I.equalDelta){var bt=(Qe.left?1:-1)*(Qe.top?1:-1);I.edgeSign={x:bt,y:bt}}else I.edgeSign={x:Qe.left?-1:1,y:Qe.top?-1:1};if(me!==!1&&Te(V,Qe),Ee!=null&&Ee.length){var zt=new Zn(P.interaction);zt.copyFrom(P.interaction.modification),zt.prepareStates(Ee),I.subModification=zt,zt.startAll(r({},P))}},set:function(P){var I=P.state,H=P.rect,V=P.coords,X=I.linkedEdges,te=Te({},V),se=I.equalDelta?eg:tg;if(Te(P.edges,X),se(I,I.xIsPrimaryAxis,V,H),!I.subModification)return null;var me=Te({},H);re(X,me,{x:V.x-te.x,y:V.y-te.y});var ye=I.subModification.setAll(r(r({},P),{},{rect:me,edges:X,pageCoords:V,prevCoords:V,prevRect:me})),Pe=ye.delta;return ye.changed&&(se(I,Math.abs(Pe.x)>Math.abs(Pe.y),ye.coords,ye.rect),Te(V,ye.coords)),ye.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function eg(P,I,H){var V=P.startCoords,X=P.edgeSign;I?H.y=V.y+(H.x-V.x)*X.y:H.x=V.x+(H.y-V.y)*X.x}function tg(P,I,H,V){var X=P.startRect,te=P.startCoords,se=P.ratio,me=P.edgeSign;if(I){var ye=V.width/se;H.y=te.y+(ye-X.height)*me.y}else{var Pe=V.height*se;H.x=te.x+(Pe-X.width)*me.x}}var ng=xi(wf,"aspectRatio"),Af=function(){};Af._defaults={};var dl=Af;function fl(P,I,H){return D.func(P)?yt(P,I.interactable,I.element,[H.x,H.y,I]):yt(P,I.interactable,I.element)}var eu={start:function(P){var I=P.rect,H=P.startOffset,V=P.state,X=P.interaction,te=P.pageCoords,se=V.options,me=se.elementRect,ye=Te({left:0,top:0,right:0,bottom:0},se.offset||{});if(I&&me){var Pe=fl(se.restriction,X,te);if(Pe){var Ee=Pe.right-Pe.left-I.width,Qe=Pe.bottom-Pe.top-I.height;Ee<0&&(ye.left+=Ee,ye.right+=Ee),Qe<0&&(ye.top+=Qe,ye.bottom+=Qe)}ye.left+=H.left-I.width*me.left,ye.top+=H.top-I.height*me.top,ye.right+=H.right-I.width*(1-me.right),ye.bottom+=H.bottom-I.height*(1-me.bottom)}V.offset=ye},set:function(P){var I=P.coords,H=P.interaction,V=P.state,X=V.options,te=V.offset,se=fl(X.restriction,H,I);if(se){var me=function(ye){return!ye||"left"in ye&&"top"in ye||((ye=Te({},ye)).left=ye.x||0,ye.top=ye.y||0,ye.right=ye.right||ye.left+ye.width,ye.bottom=ye.bottom||ye.top+ye.height),ye}(se);I.x=Math.max(Math.min(me.right-te.right,I.x),me.left+te.left),I.y=Math.max(Math.min(me.bottom-te.bottom,I.y),me.top+te.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}},Jh=xi(eu,"restrict"),fd={top:1/0,left:1/0,bottom:-1/0,right:-1/0},Qh={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function Mf(P,I){for(var H=0,V=["top","left","bottom","right"];H<V.length;H++){var X=V[H];X in P||(P[X]=I[X])}return P}var tu={noInner:fd,noOuter:Qh,start:function(P){var I,H=P.interaction,V=P.startOffset,X=P.state,te=X.options;te&&(I=Be(fl(te.offset,H,H.coords.start.page))),I=I||{x:0,y:0},X.offset={top:I.y+V.top,left:I.x+V.left,bottom:I.y-V.bottom,right:I.x-V.right}},set:function(P){var I=P.coords,H=P.edges,V=P.interaction,X=P.state,te=X.offset,se=X.options;if(H){var me=Te({},I),ye=fl(se.inner,V,me)||{},Pe=fl(se.outer,V,me)||{};Mf(ye,fd),Mf(Pe,Qh),H.top?I.y=Math.min(Math.max(Pe.top+te.top,me.y),ye.top+te.top):H.bottom&&(I.y=Math.max(Math.min(Pe.bottom+te.bottom,me.y),ye.bottom+te.bottom)),H.left?I.x=Math.min(Math.max(Pe.left+te.left,me.x),ye.left+te.left):H.right&&(I.x=Math.max(Math.min(Pe.right+te.right,me.x),ye.right+te.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}},Ls=xi(tu,"restrictEdges"),Zh=Te({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(P){}},eu.defaults),j0=xi({start:eu.start,set:eu.set,defaults:Zh},"restrictRect"),ig={width:-1/0,height:-1/0},hl={width:1/0,height:1/0},Ns=xi({start:function(P){return tu.start(P)},set:function(P){var I=P.interaction,H=P.state,V=P.rect,X=P.edges,te=H.options;if(X){var se=Ce(fl(te.min,I,P.coords))||ig,me=Ce(fl(te.max,I,P.coords))||hl;H.options={endOnly:te.endOnly,inner:Te({},tu.noInner),outer:Te({},tu.noOuter)},X.top?(H.options.inner.top=V.bottom-se.height,H.options.outer.top=V.bottom-me.height):X.bottom&&(H.options.inner.bottom=V.top+se.height,H.options.outer.bottom=V.top+me.height),X.left?(H.options.inner.left=V.right-se.width,H.options.outer.left=V.right-me.width):X.right&&(H.options.inner.right=V.left+se.width,H.options.outer.right=V.left+me.width),tu.set(P),H.options=te}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}},"restrictSize"),Yl={start:function(P){var I,H=P.interaction,V=P.interactable,X=P.element,te=P.rect,se=P.state,me=P.startOffset,ye=se.options,Pe=ye.offsetWithOrigin?function(bt){var zt=bt.interaction.element,Dt=Be(yt(bt.state.options.origin,null,null,[zt])),kt=Dt||Fe(bt.interactable,zt,bt.interaction.prepared.name);return kt}(P):{x:0,y:0};if(ye.offset==="startCoords")I={x:H.coords.start.page.x,y:H.coords.start.page.y};else{var Ee=yt(ye.offset,V,X,[H]);(I=Be(Ee)||{x:0,y:0}).x+=Pe.x,I.y+=Pe.y}var Qe=ye.relativePoints;se.offsets=te&&Qe&&Qe.length?Qe.map(function(bt,zt){return{index:zt,relativePoint:bt,x:me.left-te.width*bt.x+I.x,y:me.top-te.height*bt.y+I.y}}):[{index:0,relativePoint:null,x:I.x,y:I.y}]},set:function(P){var I=P.interaction,H=P.coords,V=P.state,X=V.options,te=V.offsets,se=Fe(I.interactable,I.element,I.prepared.name),me=Te({},H),ye=[];X.offsetWithOrigin||(me.x-=se.x,me.y-=se.y);for(var Pe=0,Ee=te;Pe<Ee.length;Pe++)for(var Qe=Ee[Pe],bt=me.x-Qe.x,zt=me.y-Qe.y,Dt=0,kt=X.targets.length;Dt<kt;Dt++){var an=X.targets[Dt],Zt=void 0;(Zt=D.func(an)?an(bt,zt,I._proxy,Qe,Dt):an)&&ye.push({x:(D.number(Zt.x)?Zt.x:bt)+Qe.x,y:(D.number(Zt.y)?Zt.y:zt)+Qe.y,range:D.number(Zt.range)?Zt.range:X.range,source:an,index:Dt,offset:Qe})}for(var hn={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},Ln=0;Ln<ye.length;Ln++){var ei=ye[Ln],pn=ei.range,Rn=ei.x-me.x,Mr=ei.y-me.y,Ji=$e(Rn,Mr),Sa=Ji<=pn;pn===1/0&&hn.inRange&&hn.range!==1/0&&(Sa=!1),hn.target&&!(Sa?hn.inRange&&pn!==1/0?Ji/pn<hn.distance/hn.range:pn===1/0&&hn.range!==1/0||Ji<hn.distance:!hn.inRange&&Ji<hn.distance)||(hn.target=ei,hn.distance=Ji,hn.range=pn,hn.inRange=Sa,hn.delta.x=Rn,hn.delta.y=Mr)}return hn.inRange&&(H.x=hn.target.x,H.y=hn.target.y),V.closest=hn,hn},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}},ql=xi(Yl,"snap"),pl={start:function(P){var I=P.state,H=P.edges,V=I.options;if(!H)return null;P.state={options:{targets:null,relativePoints:[{x:H.left?0:1,y:H.top?0:1}],offset:V.offset||"self",origin:{x:0,y:0},range:V.range}},I.targetFields=I.targetFields||[["width","height"],["x","y"]],Yl.start(P),I.offsets=P.state.offsets,P.state=I},set:function(P){var I=P.interaction,H=P.state,V=P.coords,X=H.options,te=H.offsets,se={x:V.x-te[0].x,y:V.y-te[0].y};H.options=Te({},X),H.options.targets=[];for(var me=0,ye=X.targets||[];me<ye.length;me++){var Pe=ye[me],Ee=void 0;if(Ee=D.func(Pe)?Pe(se.x,se.y,I):Pe){for(var Qe=0,bt=H.targetFields;Qe<bt.length;Qe++){var zt=bt[Qe],Dt=zt[0],kt=zt[1];if(Dt in Ee||kt in Ee){Ee.x=Ee[Dt],Ee.y=Ee[kt];break}}H.options.targets.push(Ee)}}var an=Yl.set(P);return H.options=X,an},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}},hd=xi(pl,"snapSize"),ds={aspectRatio:ng,restrictEdges:Ls,restrict:Jh,restrictRect:j0,restrictSize:Ns,snapEdges:xi({start:function(P){var I=P.edges;return I?(P.state.targetFields=P.state.targetFields||[[I.left?"left":"right",I.top?"top":"bottom"]],pl.start(P)):null},set:pl.set,defaults:Te(Cn(pl.defaults),{targets:void 0,range:void 0,offset:{x:0,y:0}})},"snapEdges"),snap:ql,snapSize:hd,spring:dl,avoid:dl,transform:dl,rubberband:dl},la={id:"modifiers",install:function(P){var I=P.interactStatic;for(var H in P.usePlugin(Ki),P.usePlugin(dd),I.modifiers=ds,ds){var V=ds[H],X=V._defaults,te=V._methods;X._methods=te,P.defaults.perAction[H]=X}}},pd=la,Tf=function(P){f(H,P);var I=E(H);function H(V,X,te,se,me,ye){var Pe;if(o(this,H),st(_(Pe=I.call(this,me)),te),te!==X&&st(_(Pe),X),Pe.timeStamp=ye,Pe.originalEvent=te,Pe.type=V,Pe.pointerId=He(X),Pe.pointerType=Ct(X),Pe.target=se,Pe.currentTarget=null,V==="tap"){var Ee=me.getPointerIndex(X);Pe.dt=Pe.timeStamp-me.pointers[Ee].downTime;var Qe=Pe.timeStamp-me.tapTime;Pe.double=!!me.prevTap&&me.prevTap.type!=="doubletap"&&me.prevTap.target===Pe.target&&Qe<500}else V==="doubletap"&&(Pe.dt=X.timeStamp-me.tapTime,Pe.double=!0);return Pe}return s(H,[{key:"_subtractOrigin",value:function(V){var X=V.x,te=V.y;return this.pageX-=X,this.pageY-=te,this.clientX-=X,this.clientY-=te,this}},{key:"_addOrigin",value:function(V){var X=V.x,te=V.y;return this.pageX+=X,this.pageY+=te,this.clientX+=X,this.clientY+=te,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}]),H}(rt),_o={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(P){P.pointerEvents=_o,P.defaults.actions.pointerEvents=_o.defaults,Te(P.actions.phaselessTypes,_o.types)},listeners:{"interactions:new":function(P){var I=P.interaction;I.prevTap=null,I.tapTime=0},"interactions:update-pointer":function(P){var I=P.down,H=P.pointerInfo;!I&&H.hold||(H.hold={duration:1/0,timeout:null})},"interactions:move":function(P,I){var H=P.interaction,V=P.pointer,X=P.event,te=P.eventTarget;P.duplicate||H.pointerIsDown&&!H.pointerWasMoved||(H.pointerIsDown&&nu(P),xo({interaction:H,pointer:V,event:X,eventTarget:te,type:"move"},I))},"interactions:down":function(P,I){(function(H,V){for(var X=H.interaction,te=H.pointer,se=H.event,me=H.eventTarget,ye=H.pointerIndex,Pe=X.pointers[ye].hold,Ee=Oe(me),Qe={interaction:X,pointer:te,event:se,eventTarget:me,type:"hold",targets:[],path:Ee,node:null},bt=0;bt<Ee.length;bt++){var zt=Ee[bt];Qe.node=zt,V.fire("pointerEvents:collect-targets",Qe)}if(Qe.targets.length){for(var Dt=1/0,kt=0,an=Qe.targets;kt<an.length;kt++){var Zt=an[kt].eventable.options.holdDuration;Zt<Dt&&(Dt=Zt)}Pe.duration=Dt,Pe.timeout=setTimeout(function(){xo({interaction:X,eventTarget:me,pointer:te,event:se,type:"hold"},V)},Dt)}})(P,I),xo(P,I)},"interactions:up":function(P,I){nu(P),xo(P,I),function(H,V){var X=H.interaction,te=H.pointer,se=H.event,me=H.eventTarget;X.pointerWasMoved||xo({interaction:X,eventTarget:me,pointer:te,event:se,type:"tap"},V)}(P,I)},"interactions:cancel":function(P,I){nu(P),xo(P,I)}},PointerEvent:Tf,fire:xo,collectEventTargets:Rf,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function xo(P,I){var H=P.interaction,V=P.pointer,X=P.event,te=P.eventTarget,se=P.type,me=P.targets,ye=me===void 0?Rf(P,I):me,Pe=new Tf(se,V,X,te,H,I.now());I.fire("pointerEvents:new",{pointerEvent:Pe});for(var Ee={interaction:H,pointer:V,event:X,eventTarget:te,targets:ye,type:se,pointerEvent:Pe},Qe=0;Qe<ye.length;Qe++){var bt=ye[Qe];for(var zt in bt.props||{})Pe[zt]=bt.props[zt];var Dt=Fe(bt.eventable,bt.node);if(Pe._subtractOrigin(Dt),Pe.eventable=bt.eventable,Pe.currentTarget=bt.node,bt.eventable.fire(Pe),Pe._addOrigin(Dt),Pe.immediatePropagationStopped||Pe.propagationStopped&&Qe+1<ye.length&&ye[Qe+1].node!==Pe.currentTarget)break}if(I.fire("pointerEvents:fired",Ee),se==="tap"){var kt=Pe.double?xo({interaction:H,pointer:V,event:X,eventTarget:te,type:"doubletap"},I):Pe;H.prevTap=kt,H.tapTime=kt.timeStamp}return Pe}function Rf(P,I){var H=P.interaction,V=P.pointer,X=P.event,te=P.eventTarget,se=P.type,me=H.getPointerIndex(V),ye=H.pointers[me];if(se==="tap"&&(H.pointerWasMoved||!ye||ye.downTarget!==te))return[];for(var Pe=Oe(te),Ee={interaction:H,pointer:V,event:X,eventTarget:te,type:se,path:Pe,targets:[],node:null},Qe=0;Qe<Pe.length;Qe++){var bt=Pe[Qe];Ee.node=bt,I.fire("pointerEvents:collect-targets",Ee)}return se==="hold"&&(Ee.targets=Ee.targets.filter(function(zt){var Dt,kt;return zt.eventable.options.holdDuration===((Dt=H.pointers[me])==null||(kt=Dt.hold)==null?void 0:kt.duration)})),Ee.targets}function nu(P){var I=P.interaction,H=P.pointerIndex,V=I.pointers[H].hold;V&&V.timeout&&(clearTimeout(V.timeout),V.timeout=null)}var ep=Object.freeze({__proto__:null,default:_o});function Ha(P){var I=P.interaction;I.holdIntervalHandle&&(clearInterval(I.holdIntervalHandle),I.holdIntervalHandle=null)}var iu={id:"pointer-events/holdRepeat",install:function(P){P.usePlugin(_o);var I=P.pointerEvents;I.defaults.holdRepeatInterval=0,I.types.holdrepeat=P.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(P,I){return P["pointerEvents:".concat(I)]=Ha,P},{"pointerEvents:new":function(P){var I=P.pointerEvent;I.type==="hold"&&(I.count=(I.count||0)+1)},"pointerEvents:fired":function(P,I){var H=P.interaction,V=P.pointerEvent,X=P.eventTarget,te=P.targets;if(V.type==="hold"&&te.length){var se=te[0].eventable.options.holdRepeatInterval;se<=0||(H.holdIntervalHandle=setTimeout(function(){I.pointerEvents.fire({interaction:H,eventTarget:X,type:"hold",pointer:V,event:V},I)},se))}}})},Kl=iu,rg={id:"pointer-events/interactableTargets",install:function(P){var I=P.Interactable;I.prototype.pointerEvents=function(V){return Te(this.events.options,V),this};var H=I.prototype._backCompatOption;I.prototype._backCompatOption=function(V,X){var te=H.call(this,V,X);return te===this&&(this.events.options[V]=X),te}},listeners:{"pointerEvents:collect-targets":function(P,I){var H=P.targets,V=P.node,X=P.type,te=P.eventTarget;I.interactables.forEachMatch(V,function(se){var me=se.events,ye=me.options;me.types[X]&&me.types[X].length&&se.testIgnoreAllow(ye,V,te)&&H.push({node:V,eventable:me,props:{interactable:se}})})},"interactable:new":function(P){var I=P.interactable;I.events.getRect=function(H){return I.getRect(H)}},"interactable:set":function(P,I){var H=P.interactable,V=P.options;Te(H.events.options,I.pointerEvents.defaults),Te(H.events.options,V.pointerEvents||{})}}},md=rg,Of={id:"pointer-events",install:function(P){P.usePlugin(ep),P.usePlugin(Kl),P.usePlugin(md)}},If=Of,Bf={id:"reflow",install:function(P){var I=P.Interactable;P.actions.phases.reflow=!0,I.prototype.reflow=function(H){return function(V,X,te){for(var se=V.getAllElements(),me=te.window.Promise,ye=me?[]:null,Pe=function(){var Qe=se[Ee],bt=V.getRect(Qe);if(!bt)return 1;var zt,Dt=Me(te.interactions.list,function(Zt){return Zt.interacting()&&Zt.interactable===V&&Zt.element===Qe&&Zt.prepared.name===X.name});if(Dt)Dt.move(),ye&&(zt=Dt._reflowPromise||new me(function(Zt){Dt._reflowResolve=Zt}));else{var kt=Ce(bt),an=function(Zt){return{coords:Zt,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}}({page:{x:kt.x,y:kt.y},client:{x:kt.x,y:kt.y},timeStamp:te.now()});zt=function(Zt,hn,Ln,ei,pn){var Rn=Zt.interactions.new({pointerType:"reflow"}),Mr={interaction:Rn,event:pn,pointer:pn,eventTarget:Ln,phase:"reflow"};Rn.interactable=hn,Rn.element=Ln,Rn.prevEvent=pn,Rn.updatePointer(pn,pn,Ln,!0),oe(Rn.coords.delta),_r(Rn.prepared,ei),Rn._doPhase(Mr);var Ji=Zt.window,Sa=Ji.Promise,Ni=Sa?new Sa(function(Xo){Rn._reflowResolve=Xo}):void 0;return Rn._reflowPromise=Ni,Rn.start(ei,hn,Ln),Rn._interacting?(Rn.move(Mr),Rn.end(pn)):(Rn.stop(),Rn._reflowResolve()),Rn.removePointer(pn,pn),Ni}(te,V,Qe,X,an)}ye&&ye.push(zt)},Ee=0;Ee<se.length&&!Pe();Ee++);return ye&&me.all(ye).then(function(){return V})}(this,H,P)}},listeners:{"interactions:stop":function(P,I){var H=P.interaction;H.pointerType==="reflow"&&(H._reflowResolve&&H._reflowResolve(),function(V,X){V.splice(V.indexOf(X),1)}(I.interactions.list,H))}}},ru=Bf;if(ba.use($n),ba.use(Ta),ba.use(If),ba.use(Mi),ba.use(pd),ba.use(cn),ba.use(Qn),ba.use(Or),ba.use(ru),ba.default=ba,a(n)==="object"&&n)try{n.exports=ba}catch{}return ba.default=ba,ba})}(Tb,Tb.exports)),Tb.exports}var a0e=r0e();const o0e=Fm(a0e);function Uz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function Ei(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Uz(Object(t),!0).forEach(function(r){s0e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Uz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function EA(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Fz(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function wA(n,e,t){return e&&Fz(n.prototype,e),t&&Fz(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function s0e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function l0e(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&uO(n,e)}function ew(n){return ew=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ew(n)}function uO(n,e){return uO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},uO(n,e)}function c0e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function u0e(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function d0e(n,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u0e(n)}function f0e(n){var e=c0e();return function(){var r=ew(n),a;if(e){var o=ew(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return d0e(this,a)}}function um(n,e){return p0e(n)||g0e(n,e)||Nk(n,e)||y0e()}function EB(n){return h0e(n)||m0e(n)||Nk(n)||v0e()}function h0e(n){if(Array.isArray(n))return dO(n)}function p0e(n){if(Array.isArray(n))return n}function m0e(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function g0e(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],a=!0,o=!1,l,s;try{for(t=t.call(n);!(a=(l=t.next()).done)&&(r.push(l.value),!(e&&r.length===e));a=!0);}catch(u){o=!0,s=u}finally{try{!a&&t.return!=null&&t.return()}finally{if(o)throw s}}return r}}function Nk(n,e){if(n){if(typeof n=="string")return dO(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return dO(n,e)}}function dO(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function v0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var b0e=function(){function n(e){EA(this,n),this.events={},this.events=e.handlers}return wA(n,[{key:"on",value:function(t,r){var a=this,o=t instanceof Array?t:t.split(" ");return o.forEach(function(l){if(!a.events[l])throw new Error("The event ".concat(l," does not exist"));a.events[l].push(r)}),this}},{key:"trigger",value:function(t,r){if(!(t in this.events))throw new Error("The event ".concat(String(t)," cannot be triggered"));return this.events[t].reduce(function(a,o){return o(r)!==!1&&a},!0)}},{key:"bind",value:function(t){if(this.events[t])throw new Error("The event ".concat(t," is already bound"));this.events[t]=[]}},{key:"exist",value:function(t){return Array.isArray(this.events[t])}},{key:"off",value:function(t,r){if(this.events[t]){var a=this.events[t];if(!r)this.events[t]=[];else{var o=a.indexOf(r);o!==-1&&a.splice(o,1)}}}},{key:"offAll",value:function(){this.events=Object.fromEntries(Object.keys(this.events).map(function(t){return[t,[]]}))}}]),n}(),S0e=wA(function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};EA(this,n),this.handlers={},this.handlers=Ei({beforeSetTime:[],afterSetTime:[],setTimeByTick:[],beforeSetPlayRate:[],afterSetPlayRate:[],setActiveActionIds:[],play:[],paused:[],ended:[]},e)}),_0e="playing",x0e="paused",C0e=function(n){l0e(t,n);var e=f0e(t);function t(){var r;return EA(this,t),r=e.call(this,new S0e),r._timerId=void 0,r._playRate=1,r._currentTime=0,r._playState="paused",r._prev=void 0,r._effectMap={},r._actionMap={},r._actionSortIds=[],r._next=0,r._activeActionIds=[],r}return wA(t,[{key:"isPlaying",get:function(){return this._playState==="playing"}},{key:"isPaused",get:function(){return this._playState==="paused"}},{key:"effects",set:function(a){this._effectMap=a}},{key:"data",set:function(a){this.isPlaying&&this.pause(),this._dealData(a),this._dealClear(),this._dealEnter(this._currentTime)}},{key:"setPlayRate",value:function(a){if(a<=0){console.error("Error: rate cannot be less than 0!");return}var o=this.trigger("beforeSetPlayRate",{rate:a,engine:this});return o?(this._playRate=a,this.trigger("afterSetPlayRate",{rate:a,engine:this}),!0):!1}},{key:"getPlayRate",value:function(){return this._playRate}},{key:"reRender",value:function(){this.isPlaying||this._tickAction(this._currentTime)}},{key:"setTime",value:function(a,o){var l=o||this.trigger("beforeSetTime",{time:a,engine:this});return l?(this._currentTime=a,this._next=0,this._dealLeave(a),this._dealEnter(a),o?this.trigger("setTimeByTick",{time:a,engine:this}):this.trigger("afterSetTime",{time:a,engine:this}),!0):!1}},{key:"getTime",value:function(){return this._currentTime}},{key:"play",value:function(a){var o=this,l=a.toTime,s=a.autoEnd,u=this.getTime();return this.isPlaying||l&&l<=u?!1:(this._playState=_0e,this._startOrStop("start"),this.trigger("play",{engine:this}),this._timerId=requestAnimationFrame(function(f){o._prev=f,o._tick({now:f,autoEnd:s,to:l})}),!0)}},{key:"pause",value:function(){this.isPlaying&&(this._playState=x0e,this._startOrStop("stop"),this.trigger("paused",{engine:this})),cancelAnimationFrame(this._timerId)}},{key:"_end",value:function(){this.pause(),this.trigger("ended",{engine:this})}},{key:"_startOrStop",value:function(a){for(var o=0;o<this._activeActionIds.length;o++){var l=this._activeActionIds[o],s=this._actionMap[l],u=this._effectMap[s==null?void 0:s.effectId];if(a==="start"){var f;!(u==null||(f=u.source)===null||f===void 0)&&f.start&&u.source.start({action:s,effect:u,engine:this,isPlaying:this.isPlaying,time:this.getTime()})}else if(a==="stop"){var m;!(u==null||(m=u.source)===null||m===void 0)&&m.stop&&u.source.stop({action:s,effect:u,engine:this,isPlaying:this.isPlaying,time:this.getTime()})}}}},{key:"_tick",value:function(a){var o=this;if(!this.isPaused){var l=a.now,s=a.autoEnd,u=a.to,f=this.getTime()+Math.min(1e3,l-this._prev)/1e3*this._playRate;if(this._prev=l,u&&u<=f&&(f=u),this.setTime(f,!0),this._tickAction(f),!u&&s&&this._next>=this._actionSortIds.length&&this._activeActionIds.length===0){this._end();return}u&&u<=f&&this._end(),!this.isPaused&&(this._timerId=requestAnimationFrame(function(m){o._tick({now:m,autoEnd:s,to:u})}))}}},{key:"_tickAction",value:function(a){this._dealEnter(a),this._dealLeave(a);for(var o=this._activeActionIds.length,l=0;l<o;l++){var s,u=this._activeActionIds[l],f=this._actionMap[u],m=this._effectMap[f.effectId];m&&(!((s=m.source)===null||s===void 0)&&s.update)&&m.source.update({time:a,action:f,isPlaying:this.isPlaying,effect:m,engine:this})}}},{key:"_dealClear",value:function(){for(;this._activeActionIds.length;){var a,o=this._activeActionIds.shift(),l=this._actionMap[o],s=this._effectMap[l==null?void 0:l.effectId];!(s==null||(a=s.source)===null||a===void 0)&&a.leave&&s.source.leave({action:l,effect:s,engine:this,isPlaying:this.isPlaying,time:this.getTime()})}this._next=0}},{key:"_dealEnter",value:function(a){for(;this._actionSortIds[this._next];){var o=this._actionSortIds[this._next],l=this._actionMap[o];if(!l.disable){if(l.start>a)break;if(l.end>a&&!this._activeActionIds.includes(o)){var s,u=this._effectMap[l.effectId];u&&(!((s=u.source)===null||s===void 0)&&s.enter)&&u.source.enter({action:l,effect:u,isPlaying:this.isPlaying,time:a,engine:this}),this._activeActionIds.push(o)}}this._next++}}},{key:"_dealLeave",value:function(a){for(var o=0;this._activeActionIds[o];){var l=this._activeActionIds[o],s=this._actionMap[l];if(s.start>a||s.end<a){var u,f=this._effectMap[s.effectId];f&&(!((u=f.source)===null||u===void 0)&&u.leave)&&f.source.leave({action:s,effect:f,isPlaying:this.isPlaying,time:a,engine:this}),this._activeActionIds.splice(o,1);continue}o++}}},{key:"_dealData",value:function(a){var o=[];a.map(function(f){o.push.apply(o,EB(f.actions))});var l=o.sort(function(f,m){return f.start-m.start}),s={},u=[];l.forEach(function(f){u.push(f.id),s[f.id]=Ei({},f)}),this._actionMap=s,this._actionSortIds=u}}]),t}(b0e),fO="timeline-editor",E0e=0,Hz=1,w0e=10,Gz=160,zk=20,hO=1,pO=8,kz=32,mO=20,Uk=5,po;(function(n){n[n.VERBOSE=0]="VERBOSE",n[n.LOG=1]="LOG",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.FATAL=5]="FATAL",n[n.SILENT=1/0]="SILENT"})(po||(po={}));var Fk={VERBOSE:po.VERBOSE,LOG:po.LOG,INFO:po.INFO,WARN:po.WARN,ERROR:po.ERROR,SILENT:po.SILENT};function pv(n,e){return"color:".concat(n,";font-size:").concat(e,"px;")}var i_=function(){function n(e){EA(this,n),this.Levels=Fk,this.level=po.LOG,this.prefix="",this.enabled=!0,this.debugColor=pv("#cccccc",12),this.logColor=pv("#bbbbbb",12),this.infoColor=pv("#2196f3",12),this.warnColor=pv("#ff00ff",12),this.errorColor=pv("#e91e63",12),this.fatalColor=pv("#9a0101",13),this.setPrefix(e),this.level=n.level,n.instances.push(this)}return wA(n,[{key:"setPrefix",value:function(t){this.prefix=t}},{key:"enable",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.level;this.level=t,this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1}},{key:"setLevel",value:function(t){this.level=t}},{key:"trace",value:function(t){if(!(!this.enabled||this.level>po.VERBOSE)){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];if(n.noColor){var l;(l=console).trace.apply(l,["[".concat(this.prefix,"] ").concat(t)].concat(a))}else{var s;(s=console).trace.apply(s,["%c[".concat(this.prefix,"] ").concat(t),this.debugColor].concat(a))}}}},{key:"debug",value:function(t){if(!(!this.enabled||this.level>po.VERBOSE)){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];if(n.noColor){var l;(l=console).debug.apply(l,["[".concat(this.prefix,"] ").concat(t)].concat(a))}else{var s;(s=console).debug.apply(s,["%c[".concat(this.prefix,"] ").concat(t),this.debugColor].concat(a))}}}},{key:"log",value:function(t){if(!(!this.enabled||this.level>po.LOG)){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];if(n.noColor){var l;(l=console).log.apply(l,["[".concat(this.prefix,"] ").concat(t)].concat(a))}else{var s;(s=console).log.apply(s,["%c[".concat(this.prefix,"] ").concat(t),this.logColor].concat(a))}}}},{key:"info",value:function(t){if(!(!this.enabled||this.level>po.INFO)){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];if(n.noColor){var l;(l=console).info.apply(l,["[".concat(this.prefix,"] ").concat(t)].concat(a))}else{var s;(s=console).info.apply(s,["%c[".concat(this.prefix,"] ").concat(t),this.infoColor].concat(a))}}}},{key:"warn",value:function(t){if(!(!this.enabled||this.level>po.WARN)){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];if(n.noColor){var l;(l=console).warn.apply(l,["[".concat(this.prefix,"] ").concat(t)].concat(a))}else{var s;(s=console).warn.apply(s,["%c[".concat(this.prefix,"] ").concat(t),this.warnColor].concat(a))}}}},{key:"error",value:function(t){if(!(!this.enabled||this.level>po.ERROR)){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];if(n.noColor){var l;(l=console).error.apply(l,["[".concat(this.prefix,"] ").concat(t)].concat(a))}else{var s;(s=console).error.apply(s,["%c[".concat(this.prefix,"] ").concat(t),this.errorColor].concat(a))}}}},{key:"fatal",value:function(t){if(!(!this.enabled||this.level>po.FATAL)){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];if(n.noColor){var l;(l=console).error.apply(l,["[".concat(this.prefix,"] ").concat(t)].concat(a))}else{var s;(s=console).error.apply(s,["%c[".concat(this.prefix,"] ").concat(t),this.fatalColor].concat(a))}}}},{key:"group",value:function(){if(console.group){var t;(t=console).group.apply(t,arguments)}}},{key:"groupEnd",value:function(){console.groupEnd&&console.groupEnd()}},{key:"groupCollapsed",value:function(){if(console.groupCollapsed){var t;(t=console).groupCollapsed.apply(t,arguments)}}}],[{key:"setLevel",value:function(t){this.level=t,this.instances.forEach(function(r){return r.setLevel(t)})}},{key:"enable",value:function(t){t&&(this.level=t),this.instances.forEach(function(r){return r.enable()})}},{key:"disable",value:function(){this.instances.forEach(function(t){return t.disable()})}}]),n}();i_.instances=[];i_.level=po.LOG;i_.Levels=Fk;i_.noColor=!1;var vh=new i_("timeline");function A0e(n){var e=n.editorData,t=e===void 0?[]:e,r=n.effects,a=r===void 0?{}:r,o=n.scrollTop,l=o===void 0?0:o,s=n.scale,u=s===void 0?Hz:s,f=n.scaleSplitCount,m=f===void 0?w0e:f,b=n.scaleWidth,_=b===void 0?Gz:b,E=n.startLeft,c=E===void 0?zk:E,p=n.minScaleCount,g=p===void 0?mO:p,y=n.maxScaleCount,C=y===void 0?1/0:y,T=n.rowHeight,M=T===void 0?kz:T;u<=0&&(vh.error("Error: scale must be greater than 0!"),u=Hz),l<0&&(vh.warn("Warning: scrollTop cannot be less than 0!"),l=0),m<=0&&(vh.warn("Warning: scaleSplitCount cannot be less than 1!"),m=1),_<=0&&(vh.warn("Warning: scaleWidth must be greater than 0!"),_=Gz),c<0&&(vh.warn("Warning: startLeft cannot be less than 0!"),c=0),g<1&&(vh.warn("Warning: minScaleCount must be greater than 1!"),g=mO),g=parseInt(g+""),C<g&&(vh.warn("Warning: maxScaleCount cannot be less than minScaleCount!"),C=g),C=C===1/0?1/0:parseInt(C+""),M<=0&&(vh.warn("Warning: rowHeight must be greater than 0!"),M=kz);var O=Ei({},n);return delete O.style,Ei(Ei({},O),{},{editorData:t,effects:a,scrollTop:l,scale:u,scaleSplitCount:m,scaleWidth:_,startLeft:c,minScaleCount:g,maxScaleCount:C,rowHeight:M})}function rd(n,e){var t=e.startLeft,r=e.scale,a=e.scaleWidth;return t+n/r*a}function Um(n,e){var t=e.startLeft,r=e.scale,a=e.scaleWidth;return(n-t)/a*r}function ob(n,e){var t=n.left,r=n.width,a=Um(t,e),o=Um(t+r,e);return{start:a,end:o}}function gO(n,e){var t=n.start,r=n.end,a=rd(t,e),o=rd(r,e)-a;return{left:a,width:o}}function M0e(n,e){var t=0;n.forEach(function(a){a.actions.forEach(function(o){t=Math.max(t,o.end)})});var r=Math.ceil(t/e.scale);return r+Uk}function T0e(n,e){var t=e.startLeft,r=e.scaleWidth,a=Math.ceil((n-t)/r);return Math.max(a+Uk,e.scaleCount)}function R0e(n,e){var t=[];return n.forEach(function(r){t.push(rd(r.start,e)),t.push(rd(r.end,e))}),t}function No(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return n0e.apply(void 0,["".concat(fO,"-")].concat(e))}var RC=1,$z=3,Vz=10;function O0e(n){var e=w.useRef(Number.MIN_SAFE_INTEGER),t=w.useRef(Number.MAX_SAFE_INTEGER),r=w.useRef(RC),a=w.useRef(),o=function(){if(n!=null&&n.current){var m=n.current.getBoundingClientRect(),b=m.left,_=m.width;e.current=b,t.current=b+_}},l=function(m,b){if(m.clientX>=t.current||m.clientX<=e.current){cancelAnimationFrame(a.current);var _=Math.abs(m.clientX>=t.current?m.clientX-t.current:m.clientX-e.current);r.current=Math.min(Number((_/Vz).toFixed(0))*RC,$z);var E=m.clientX>=t.current?1:-1,c=E*r.current,p=function g(){b&&b(c),a.current=requestAnimationFrame(g)};return a.current=requestAnimationFrame(p),!1}else cancelAnimationFrame(a.current);return!0},s=function(m,b,_){if(m.clientX>=t.current||m.clientX<e.current){cancelAnimationFrame(a.current);var E=Math.abs(m.clientX>=t.current?m.clientX-t.current:m.clientX-e.current);r.current=Math.min(Number((E/Vz).toFixed(0))*RC,$z);var c=m.clientX>=t.current?1:-1,p=c*r.current,g=function y(){_&&_(p),a.current=requestAnimationFrame(y)};return a.current=requestAnimationFrame(g),!1}else cancelAnimationFrame(a.current);return!0},u=function(){e.current=Number.MIN_SAFE_INTEGER,t.current=Number.MAX_SAFE_INTEGER,r.current=RC,cancelAnimationFrame(a.current)};return{initAutoScroll:o,dealDragAutoScroll:l,dealResizeAutoScroll:s,stopAutoScroll:u}}var I0e=function(e){var t=e.children,r=e.interactRef,a=e.draggable,o=e.resizable,l=e.draggableOptions,s=e.resizableOptions,u=w.useRef(),f=w.useRef(),m=w.useRef(),b=w.useRef();w.useEffect(function(){m.current=Ei({},l),b.current=Ei({},s)},[l,s]),w.useEffect(function(){f.current&&f.current.unset(),f.current=o0e(u.current),r.current=f.current,_()},[a,o]);var _=function(){a&&f.current.draggable(Ei(Ei({},m.current),{},{onstart:function(p){return m.current.onstart&&m.current.onstart(p)},onmove:function(p){return m.current.onmove&&m.current.onmove(p)},onend:function(p){return m.current.onend&&m.current.onend(p)}})),o&&f.current.resizable(Ei(Ei({},b.current),{},{onstart:function(p){return b.current.onstart&&b.current.onstart(p)},onmove:function(p){return b.current.onmove&&b.current.onmove(p)},onend:function(p){return b.current.onend&&b.current.onend(p)}}))};return w.cloneElement(t,{ref:u,draggable:!1})},Hk=Xe.forwardRef(function(n,e){var t=n.children,r=n.edges,a=n.left,o=n.width,l=n.start,s=l===void 0?zk:l,u=n.grid,f=u===void 0?hO:u,m=n.bounds,b=m===void 0?{left:Number.MIN_SAFE_INTEGER,right:Number.MAX_SAFE_INTEGER}:m,_=n.enableResizing,E=_===void 0?!0:_,c=n.enableDragging,p=c===void 0?!0:c,g=n.adsorptionDistance,y=g===void 0?pO:g,C=n.adsorptionPositions,T=C===void 0?[]:C,M=n.onResizeStart,O=n.onResize,B=n.onResizeEnd,D=n.onDragStart,F=n.onDragEnd,z=n.onDrag,U=n.parentRef,$=n.deltaScrollLeft,J=w.useRef(),W=w.useRef(0),Q=w.useRef(!1),ae=O0e(U),Y=ae.initAutoScroll,K=ae.dealDragAutoScroll,ee=ae.dealResizeAutoScroll,de=ae.stopAutoScroll;w.useEffect(function(){return function(){J.current&&J.current.unset()}},[]),w.useImperativeHandle(e,function(){return{updateLeft:function(Ce){return q(Ce||0,!1)},updateWidth:function(Ce){return ie(Ce,!1)},getLeft:he,getWidth:fe}}),w.useEffect(function(){var Be=J.current.target;ie(typeof o>"u"?Be.offsetWidth:o,!1)},[o]),w.useEffect(function(){q(a||0,!1)},[a]);var q=function(Ce){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!J.current||!J.current.target)){re&&(W.current=0);var Fe=J.current.target;Fe.style.left="".concat(Ce,"px"),Object.assign(Fe.dataset,{left:Ce})}},ie=function(Ce){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!J.current||!J.current.target)){re&&(W.current=0);var Fe=J.current.target;Fe.style.width="".concat(Ce,"px"),Object.assign(Fe.dataset,{width:Ce})}},he=function(){var Ce,re=J.current.target;return parseFloat((re==null||(Ce=re.dataset)===null||Ce===void 0?void 0:Ce.left)||"0")},fe=function(){var Ce,re=J.current.target;return parseFloat((re==null||(Ce=re.dataset)===null||Ce===void 0?void 0:Ce.width)||"0")},Z=function(Ce){W.current=0,Q.current=!1,Y(),D&&D()},pe=function(Ce){var re=Ce.preLeft,Fe=Ce.preWidth,Ie=Ce.scrollDelta,qe=Q.current?y:f;if(Math.abs(W.current)>=qe){var $e=parseInt(W.current/qe+""),ct=re+$e*qe,st=ct,ce=Number.MAX_SAFE_INTEGER;if(T.forEach(function(we){var De=Math.abs(we-ct);De<y&&De<ce&&(st=we);var Ke=Math.abs(we-(ct+Fe));Ke<y&&Ke<ce&&(st=we-Fe)}),st!==ct?(Q.current=!0,ct=st):((ct-s)%f!==0&&(ct=s+f*Math.round((ct-s)/f)),Q.current=!1),W.current=W.current%qe,ct<b.left?ct=b.left:ct+Fe>b.right&&(ct=b.right-Fe),z){var oe=z({lastLeft:re,left:ct,lastWidth:Fe,width:Fe},Ie);if(oe===!1)return}q(ct,!1)}},xe=function(Ce){var re=Ce.target;if($&&(U!=null&&U.current)){var Fe=K(Ce,function(ce){$(ce);var oe=re.dataset,we=oe.left,De=oe.width,Ke=parseFloat(we),He=parseFloat(De);W.current+=ce,pe({preLeft:Ke,preWidth:He,scrollDelta:ce})});if(!Fe)return}var Ie=re.dataset,qe=Ie.left,$e=Ie.width,ct=parseFloat(qe),st=parseFloat($e);W.current+=Ce.dx,pe({preLeft:ct,preWidth:st})},Oe=function(Ce){W.current=0,Q.current=!1,de();var re=Ce.target,Fe=re.dataset,Ie=Fe.left,qe=Fe.width;F&&F({left:parseFloat(Ie),width:parseFloat(qe)})},Ae=function(Ce){var re;W.current=0,Q.current=!1,Y();var Fe=!((re=Ce.edges)===null||re===void 0)&&re.right?"right":"left";M&&M(Fe)},Te=function(Ce){var re=Ce.dir,Fe=Ce.preWidth,Ie=Ce.preLeft,qe=Q.current?y:f;if(re==="left"){if(Math.abs(W.current)>=qe){var $e=parseInt(W.current/qe+""),ct=Ie+$e*qe,st=ct,ce=Number.MAX_SAFE_INTEGER;T.forEach(function(ot){var _t=Math.abs(ot-ct);_t<y&&_t<ce&&(st=ot)}),st!==ct?(Q.current=!0,ct=st):((ct-s)%f!==0&&(ct=s+f*Math.round((ct-s)/f)),Q.current=!1),W.current=W.current%qe;var oe=Ie+Fe;ct<b.left&&(ct=b.left);var we=oe-ct;if(O){var De=O("left",{lastLeft:Ie,lastWidth:Fe,left:ct,width:we});if(De===!1)return}q(ct,!1),ie(we,!1)}}else if(re==="right"&&Math.abs(W.current)>=qe){var Ke=parseInt(W.current/f+""),He=Fe+Ke*f,gt=Ie+He,lt=Number.MAX_SAFE_INTEGER;if(T.forEach(function(ot){var _t=Math.abs(ot-(Ie+He));_t<y&&_t<lt&&(gt=ot)}),gt!==Ie+He)Q.current=!0,He=gt-Ie;else{var pt=Ie+He;(pt-s)%f!==0&&(pt=s+f*Math.round((pt-s)/f),He=pt-Ie),Q.current=!1}if(W.current=W.current%qe,Ie+He>b.right&&(He=b.right-Ie),O){var It=O("right",{lastLeft:Ie,lastWidth:Fe,left:Ie,width:He});if(It===!1)return}ie(He,!1)}},ze=function(Ce){var re,Fe=Ce.target,Ie=!((re=Ce.edges)===null||re===void 0)&&re.left?"left":"right";if($&&(U!=null&&U.current)){var qe=ee(Ce,Ie,function(we){$(we);var De=Fe.dataset,Ke=De.left,He=De.width,gt=parseFloat(Ke),lt=parseFloat(He);W.current+=we,Te({preLeft:gt,preWidth:lt,dir:Ie})});if(!qe)return}var $e=Fe.dataset,ct=$e.left,st=$e.width,ce=parseFloat(ct),oe=parseFloat(st);W.current+=Ie==="left"?Ce.deltaRect.left:Ce.deltaRect.right,Te({preLeft:ce,preWidth:oe,dir:Ie})},yt=function(Ce){var re;W.current=0,Q.current=!1,de();var Fe=Ce.target,Ie=Fe.dataset,qe=Ie.left,$e=Ie.width,ct=!((re=Ce.edges)===null||re===void 0)&&re.right?"right":"left";B&&B(ct,{left:parseFloat(qe),width:parseFloat($e)})};return Xe.createElement(I0e,{interactRef:J,draggable:p,resizable:E,draggableOptions:{lockAxis:"x",onmove:xe,onstart:Z,onend:Oe,cursorChecker:function(){return null}},resizableOptions:{axis:"x",invert:"none",edges:Ei({left:!0,right:!0,top:!1,bottom:!1},r||{}),onmove:ze,onstart:Ae,onend:yt}},Xe.cloneElement(t,{style:Ei(Ei({},t.props.style||{}),{},{left:a,width:o})}))});function qm(n,e){e===void 0&&(e={});var t=e.insertAt;if(!(!n||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",t==="top"&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=n:a.appendChild(document.createTextNode(n))}}var B0e=`.timeline-editor-cursor {
  cursor: ew-resize;
  position: absolute;
  top: 32px;
  height: calc(100% - 32px);
  box-sizing: border-box;
  border-left: 1px solid #5297FF;
  border-right: 1px solid #5297FF;
  transform: translateX(-25%) scaleX(0.5);
}
.timeline-editor-cursor-top {
  position: absolute;
  top: 0;
  left: 50%;
  transform: translate(-50%, 0) scaleX(2);
  margin: auto;
}
.timeline-editor-cursor-area {
  width: 16px;
  height: 100%;
  cursor: ew-resize;
  position: absolute;
  top: 0;
  left: 50%;
  transform: translateX(-50%);
}
`;qm(B0e);var D0e=function(e){var t=e.disableDrag,r=e.cursorTime,a=e.setCursor,o=e.startLeft,l=e.timelineWidth,s=e.scaleWidth,u=e.scale,f=e.scrollLeft,m=e.scrollSync,b=e.areaRef,_=e.maxScaleCount,E=e.deltaScrollLeft,c=e.onCursorDragStart,p=e.onCursorDrag,g=e.onCursorDragEnd,y=w.useRef(),C=w.useRef();return w.useEffect(function(){typeof C.current>"u"&&y.current.updateLeft(rd(r,{startLeft:o,scaleWidth:s,scale:u})-f)},[r,o,s,u,f]),Xe.createElement(Hk,{start:o,ref:y,parentRef:b,bounds:{left:0,right:Math.min(l,_*s+o-f)},deltaScrollLeft:E,enableDragging:!t,enableResizing:!1,onDragStart:function(){c&&c(r),C.current=rd(r,{startLeft:o,scaleWidth:s,scale:u})-f,y.current.updateLeft(C.current)},onDragEnd:function(){var M=Um(C.current+f,{startLeft:o,scale:u,scaleWidth:s});a({time:M}),g&&g(M),C.current=void 0},onDrag:function(M){var O=M.left,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,D=m.current.state.scrollLeft;!B||D===0?O<o-D?C.current=o-D:C.current=O:C.current<o-D-B&&(C.current=o-D-B),y.current.updateLeft(C.current);var F=Um(C.current+D,{startLeft:o,scale:u,scaleWidth:s});return a({time:F}),p&&p(F),!1}},Xe.createElement("div",{className:No("cursor")},Xe.createElement("svg",{className:No("cursor-top"),width:"8",height:"12",viewBox:"0 0 8 12",fill:"none"},Xe.createElement("path",{d:"M0 1C0 0.447715 0.447715 0 1 0H7C7.55228 0 8 0.447715 8 1V9.38197C8 9.76074 7.786 10.107 7.44721 10.2764L4.44721 11.7764C4.16569 11.9172 3.83431 11.9172 3.55279 11.7764L0.552786 10.2764C0.214002 10.107 0 9.76074 0 9.38197V1Z",fill:"#5297FF"})),Xe.createElement("div",{className:No("cursor-area")})))},P0e=`.timeline-editor-drag-line-container {
  position: absolute;
  height: 100%;
  top: 0;
  left: 0;
}
.timeline-editor-drag-line {
  width: 0;
  position: absolute;
  top: 0;
  height: 99%;
  border-left: 1px dashed rgba(82, 151, 255, 0.6);
}
`;qm(P0e);var L0e=function(e){var t=e.isMoving,r=e.movePositions,a=r===void 0?[]:r,o=e.assistPositions,l=o===void 0?[]:o,s=e.scrollLeft;return Xe.createElement("div",{className:No("drag-line-container")},t&&a.filter(function(u){return l.includes(u)}).map(function(u,f){return Xe.createElement("div",{key:f,className:No("drag-line"),style:{left:u-s}})}))},N0e=`.timeline-editor:hover .timeline-editor-edit-area .ReactVirtualized__Grid::-webkit-scrollbar {
  height: 4px;
}
.timeline-editor-edit-area {
  flex: 1 1 auto;
  margin-top: 10px;
  overflow: hidden;
  position: relative;
}
.timeline-editor-edit-area .ReactVirtualized__Grid {
  outline: none !important;
  overflow: overlay !important;
}
.timeline-editor-edit-area .ReactVirtualized__Grid::-webkit-scrollbar {
  width: 0;
  height: 0;
}
.timeline-editor-edit-area .ReactVirtualized__Grid::-webkit-scrollbar-track {
  background-color: transparent !important;
}
.timeline-editor-edit-area .ReactVirtualized__Grid::-webkit-scrollbar-thumb {
  background: #313132;
  border-radius: 16px;
}
`;qm(N0e);var z0e=`.timeline-editor-action {
  position: absolute;
  left: 0;
  top: 0;
  background-color: #2f3134;
}
.timeline-editor-action .timeline-editor-action-left-stretch,
.timeline-editor-action .timeline-editor-action-right-stretch {
  position: absolute;
  top: 0;
  width: 10px;
  border-radius: 4px;
  height: 100%;
  overflow: hidden;
}
.timeline-editor-action .timeline-editor-action-left-stretch::after,
.timeline-editor-action .timeline-editor-action-right-stretch::after {
  position: absolute;
  top: 0;
  bottom: 0;
  margin: auto;
  border-radius: 4px;
  border-top: 28px solid transparent;
  border-bottom: 28px solid transparent;
}
.timeline-editor-action .timeline-editor-action-left-stretch {
  left: 0;
}
.timeline-editor-action .timeline-editor-action-left-stretch::after {
  left: 0;
  content: "";
  border-left: 7px solid rgba(255, 255, 255, 0.1);
  border-right: 7px solid transparent;
}
.timeline-editor-action .timeline-editor-action-right-stretch {
  right: 0;
}
.timeline-editor-action .timeline-editor-action-right-stretch::after {
  right: 0;
  content: "";
  border-right: 7px solid rgba(255, 255, 255, 0.1);
  border-left: 7px solid transparent;
}
`;qm(z0e);var U0e=function(e){var t=e.editorData,r=e.row,a=e.action,o=e.effects,l=e.rowHeight,s=e.scale,u=e.scaleWidth,f=e.scaleSplitCount,m=e.startLeft,b=e.gridSnap,_=e.disableDrag,E=e.scaleCount,c=e.maxScaleCount,p=e.setScaleCount,g=e.onActionMoveStart,y=e.onActionMoving,C=e.onActionMoveEnd,T=e.onActionResizeStart,M=e.onActionResizeEnd,O=e.onActionResizing,B=e.dragLineData,D=e.setEditorData,F=e.onClickAction,z=e.onClickActionOnly,U=e.onDoubleClickAction,$=e.onContextMenuAction,J=e.getActionRender,W=e.handleTime,Q=e.areaRef,ae=e.deltaScrollLeft,Y=w.useRef(),K=w.useRef(!1),ee=a.id,de=a.maxEnd,q=a.minStart,ie=a.end,he=a.start,fe=a.selected,Z=a.flexible,pe=Z===void 0?!0:Z,xe=a.movable,Oe=xe===void 0?!0:xe,Ae=a.effectId,Te=rd(q||0,{startLeft:m,scale:s,scaleWidth:u}),ze=Math.min(c*u+m,rd(de||Number.MAX_VALUE,{startLeft:m,scale:s,scaleWidth:u})),yt=w.useState(function(){return gO({start:he,end:ie},{startLeft:m,scale:s,scaleWidth:u})}),Be=um(yt,2),Ce=Be[0],re=Be[1];w.useLayoutEffect(function(){re(gO({start:he,end:ie},{startLeft:m,scale:s,scaleWidth:u}))},[ie,he,m,u,s]);var Fe=u/f,Ie=["action"];Oe&&Ie.push("action-movable"),fe&&Ie.push("action-selected"),pe&&Ie.push("action-flexible"),o[Ae]&&Ie.push("action-effect-".concat(Ae));var qe=function(gt,lt){var pt=T0e(gt+lt,{startLeft:m,scaleCount:E,scaleWidth:u});pt!==E&&p(pt)},$e=function(){g&&g({action:a,row:r})},ct=function(gt){var lt=gt.left,pt=gt.width;if(K.current=!0,y){var It=ob({left:lt,width:pt},{scaleWidth:u,scale:s,startLeft:m}),ot=It.start,_t=It.end,Ct=y({action:a,row:r,start:ot,end:_t});if(Ct===!1)return!1}re({left:lt,width:pt}),qe(lt,pt)},st=function(gt){var lt=gt.left,pt=gt.width,It=ob({left:lt,width:pt},{scaleWidth:u,scale:s,startLeft:m}),ot=It.start,_t=It.end,Ct=t.find(function(rt){return rt.id===r.id}),We=Ct.actions.find(function(rt){return rt.id===ee});We.start=ot,We.end=_t,D(t),C&&C({action:We,row:r,start:ot,end:_t})},ce=function(gt){T&&T({action:a,row:r,dir:gt})},oe=function(gt,lt){var pt=lt.left,It=lt.width;if(K.current=!0,O){var ot=ob({left:pt,width:It},{scaleWidth:u,scale:s,startLeft:m}),_t=ot.start,Ct=ot.end,We=O({action:a,row:r,start:_t,end:Ct,dir:gt});if(We===!1)return!1}re({left:pt,width:It}),qe(pt,It)},we=function(gt,lt){var pt=lt.left,It=lt.width,ot=ob({left:pt,width:It},{scaleWidth:u,scale:s,startLeft:m}),_t=ot.start,Ct=ot.end,We=t.find(function(Se){return Se.id===r.id}),rt=We.actions.find(function(Se){return Se.id===ee});rt.start=_t,rt.end=Ct,D(t),M&&M({action:rt,row:r,start:_t,end:Ct,dir:gt})},De=Ei(Ei({},a),ob({left:Ce.left,width:Ce.width},{startLeft:m,scaleWidth:u,scale:s})),Ke=Ei(Ei({},r),{},{actions:EB(r.actions)});return r.actions.includes(a)&&(Ke.actions[r.actions.indexOf(a)]=De),Xe.createElement(Hk,{ref:Y,parentRef:Q,start:m,left:Ce.left,width:Ce.width,grid:b&&Fe||hO,adsorptionDistance:b?Math.max((Fe||hO)/2,pO):pO,adsorptionPositions:B.assistPositions,bounds:{left:Te,right:ze},edges:{left:!_&&pe&&".".concat(No("action-left-stretch")),right:!_&&pe&&".".concat(No("action-right-stretch"))},enableDragging:!_&&Oe,enableResizing:!_&&pe,onDragStart:$e,onDrag:ct,onDragEnd:st,onResizeStart:ce,onResize:oe,onResizeEnd:we,deltaScrollLeft:ae},Xe.createElement("div",{onMouseDown:function(){K.current=!1},onClick:function(gt){var lt;F&&(lt=W(gt),F(gt,{row:r,action:a,time:lt})),!K.current&&z&&(lt||(lt=W(gt)),z(gt,{row:r,action:a,time:lt}))},onDoubleClick:function(gt){if(U){var lt=W(gt);U(gt,{row:r,action:a,time:lt})}},onContextMenu:function(gt){if($){var lt=W(gt);$(gt,{row:r,action:a,time:lt})}},className:No((Ie||[]).join(" ")),style:{height:l}},J&&J(De,Ke),pe&&Xe.createElement("div",{className:No("action-left-stretch")}),pe&&Xe.createElement("div",{className:No("action-right-stretch")})))},F0e=`.timeline-editor-edit-row {
  background-repeat: no-repeat, repeat;
  background-image: linear-gradient(#191b1d, #191b1d), linear-gradient(90deg, rgba(255, 255, 255, 0.08) 1px, transparent 0);
  display: flex;
  flex-direction: row;
  box-sizing: border-box;
}
`;qm(F0e);var H0e=function(e){var t=e.rowData,r=e.style,a=r===void 0?{}:r,o=e.onClickRow,l=e.onDoubleClickRow,s=e.onContextMenuRow,u=e.areaRef,f=e.scrollLeft,m=e.startLeft,b=e.scale,_=e.scaleWidth,E=["edit-row"];t!=null&&t.selected&&E.push("edit-row-selected");var c=function(g){if(u.current){var y=u.current.getBoundingClientRect(),C=g.clientX-y.x,T=C+f,M=Um(T,{startLeft:m,scale:b,scaleWidth:_});return M}};return Xe.createElement("div",{className:"".concat(No.apply(void 0,E)," ").concat(((t==null?void 0:t.classNames)||[]).join(" ")),style:a,onClick:function(g){if(t&&o){var y=c(g);o(g,{row:t,time:y})}},onDoubleClick:function(g){if(t&&l){var y=c(g);l(g,{row:t,time:y})}},onContextMenu:function(g){if(t&&s){var y=c(g);s(g,{row:t,time:y})}}},((t==null?void 0:t.actions)||[]).map(function(p){return Xe.createElement(U0e,Ei(Ei({key:p.id},e),{},{handleTime:c,row:t,action:p}))}))};function G0e(){var n=w.useState({isMoving:!1,movePositions:[],assistPositions:[]}),e=um(n,2),t=e[0],r=e[1],a=function(m){var b=m.editorData,_=m.assistActionIds,E=m.action,c=m.row,p=m.scale,g=m.scaleWidth,y=m.startLeft,C=m.cursorLeft,T=m.hideCursor,M=[];_?b.forEach(function(B){B.actions.forEach(function(D){_.includes(D.id)&&M.push(D)})}):b.forEach(function(B){B.id!==c.id?M.push.apply(M,EB(B.actions)):B.actions.forEach(function(D){D.id!==E.id&&M.push(D)})});var O=R0e(M,{startLeft:y,scale:p,scaleWidth:g});return T||O.push(C),O},o=function(m){var b=m.start,_=m.end,E=m.dir,c=m.scale,p=m.scaleWidth,g=m.startLeft,y=gO({start:b,end:_},{startLeft:g,scaleWidth:p,scale:c}),C=y.left,T=y.width;return E?E==="right"?[C+T]:[C]:[C,C+T]},l=function(m){var b=m.movePositions,_=m.assistPositions;r({isMoving:!0,movePositions:b||[],assistPositions:_||[]})},s=function(m){var b=m.movePositions,_=m.assistPositions;r(function(E){return Ei(Ei({},E),{},{movePositions:b||E.movePositions,assistPositions:_||E.assistPositions})})},u=function(){r({isMoving:!1,movePositions:[],assistPositions:[]})};return{initDragLine:l,updateDragLine:s,disposeDragLine:u,dragLineData:t,defaultGetAssistPosition:a,defaultGetMovePosition:o}}var k0e=Xe.forwardRef(function(n,e){var t=n.editorData,r=n.rowHeight,a=n.scaleWidth,o=n.scaleCount,l=n.startLeft,s=n.scrollLeft,u=n.scrollTop,f=n.scale,m=n.hideCursor,b=n.cursorTime,_=n.onScroll,E=n.dragLine,c=n.getAssistDragLineActionIds,p=n.onActionMoveEnd,g=n.onActionMoveStart,y=n.onActionMoving,C=n.onActionResizeEnd,T=n.onActionResizeStart,M=n.onActionResizing,O=G0e(),B=O.dragLineData,D=O.initDragLine,F=O.updateDragLine,z=O.disposeDragLine,U=O.defaultGetAssistPosition,$=O.defaultGetMovePosition,J=w.useRef(),W=w.useRef(),Q=w.useRef(-1);w.useImperativeHandle(e,function(){return{get domRef(){return J}}});var ae=function(de){if(E){var q=c&&c({action:de.action,row:de.row,editorData:t}),ie=rd(b,{scaleWidth:a,scale:f,startLeft:l}),he=U({editorData:t,assistActionIds:q,action:de.action,row:de.row,scale:f,scaleWidth:a,startLeft:l,hideCursor:m,cursorLeft:ie});D({assistPositions:he})}},Y=function(de){if(E){var q=$(Ei(Ei({},de),{},{startLeft:l,scaleWidth:a,scale:f}));F({movePositions:q})}},K=function(de){var q=de.rowIndex,ie=de.key,he=de.style,fe=t[q];return Xe.createElement(H0e,Ei(Ei({},n),{},{style:Ei(Ei({},he),{},{backgroundPositionX:"0, ".concat(l,"px"),backgroundSize:"".concat(l,"px, ").concat(a,"px")}),areaRef:J,key:ie,rowHeight:(fe==null?void 0:fe.rowHeight)||r,rowData:fe,dragLineData:B,onActionMoveStart:function(pe){return ae(pe),g&&g(pe)},onActionResizeStart:function(pe){return ae(pe),T&&T(pe)},onActionMoving:function(pe){return Y(pe),y&&y(pe)},onActionResizing:function(pe){return Y(pe),M&&M(pe)},onActionResizeEnd:function(pe){return z(),C&&C(pe)},onActionMoveEnd:function(pe){return z(),p&&p(pe)}}))};return w.useLayoutEffect(function(){var ee;(ee=W.current)===null||ee===void 0||ee.scrollToPosition({scrollTop:u,scrollLeft:s})},[u,s]),w.useEffect(function(){W.current.recomputeGridSize()},[t]),Xe.createElement("div",{ref:J,className:No("edit-area")},Xe.createElement(gB,null,function(ee){var de=ee.width,q=ee.height,ie=0,he=t.map(function(fe){var Z=fe.rowHeight||r;return ie+=Z,Z});return ie<q&&(he.push(q-ie),Q.current!==q&&Q.current>=0&&setTimeout(function(){var fe;return(fe=W.current)===null||fe===void 0?void 0:fe.recomputeGridSize({rowIndex:he.length-1})})),Q.current=q,Xe.createElement(Yu,{columnCount:1,rowCount:he.length,ref:W,cellRenderer:K,columnWidth:Math.max(o*a+l,de),width:de,height:q,rowHeight:function(Z){var pe=Z.index;return he[pe]||r},overscanRowCount:10,overscanColumnCount:0,onScroll:function(Z){_(Z)}})}),E&&Xe.createElement(L0e,Ei({scrollLeft:s},B)))}),$0e=`.timeline-editor {
  height: 600px;
  width: 600px;
  min-height: 32px;
  position: relative;
  font-size: 12px;
  font-family: "PingFang SC";
  background-color: #191b1d;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}
`;qm($0e);var V0e=`.timeline-editor-time-area {
  position: relative;
  height: 32px;
  flex: 0 0 auto;
}
.timeline-editor-time-area .ReactVirtualized__Grid {
  outline: none;
}
.timeline-editor-time-area .ReactVirtualized__Grid::-webkit-scrollbar {
  display: none;
}
.timeline-editor-time-area-interact {
  position: absolute;
  cursor: pointer;
  left: 0;
  top: 0;
}
.timeline-editor-time-unit {
  border-right: 1px solid rgba(255, 255, 255, 0.2);
  position: relative;
  box-sizing: content-box;
  height: 4px !important;
  bottom: 0 !important;
  top: auto !important;
}
.timeline-editor-time-unit-big {
  height: 8px !important;
}
.timeline-editor-time-unit-scale {
  color: rgba(255, 255, 255, 0.6);
  position: absolute;
  right: 0;
  top: 0;
  transform: translate(50%, -100%);
}
`;qm(V0e);var j0e=function(e){var t=e.setCursor,r=e.maxScaleCount,a=e.hideCursor,o=e.scale,l=e.scaleWidth,s=e.scaleCount,u=e.scaleSplitCount,f=e.startLeft,m=e.scrollLeft,b=e.onClickTimeArea,_=e.getScaleRender,E=w.useRef(),c=u>0,p=function(C){var T=C.columnIndex,M=C.key,O=C.style,B=c?T%u===0:!0,D=["time-unit"];B&&D.push("time-unit-big");var F=(c?T/u:T)*o;return Xe.createElement("div",{key:M,style:O,className:No.apply(void 0,D)},B&&Xe.createElement("div",{className:No("time-unit-scale")},_?_(F):F))};w.useEffect(function(){var y;(y=E.current)===null||y===void 0||y.recomputeGridSize()},[l,f]);var g=function(C){switch(C.index){case 0:return f;default:return c?l/u:l}};return Xe.createElement("div",{className:No("time-area")},Xe.createElement(gB,null,function(y){var C=y.width,T=y.height;return Xe.createElement(Xe.Fragment,null,Xe.createElement(Yu,{ref:E,columnCount:c?s*u+1:s,columnWidth:g,rowCount:1,rowHeight:T,width:C,height:T,overscanRowCount:0,overscanColumnCount:10,cellRenderer:p,scrollLeft:m}),Xe.createElement("div",{style:{width:C,height:T},onClick:function(O){if(!a){var B=O.currentTarget.getBoundingClientRect(),D=O.clientX-B.x,F=Math.max(D+m,f);if(!(F>r*l+f-m)){var z=Um(F,{startLeft:f,scale:o,scaleWidth:l}),U=b&&b(z,O);U!==!1&&t({time:z})}}},className:No("time-area-interact")}))}))},W0e=Xe.forwardRef(function(n,e){var t=A0e(n),r=n.style,a=t.effects,o=t.editorData,l=t.scrollTop,s=t.autoScroll,u=t.hideCursor,f=t.disableDrag,m=t.scale,b=t.scaleWidth,_=t.startLeft,E=t.minScaleCount,c=t.maxScaleCount,p=t.onChange,g=t.engine,y=t.autoReRender,C=y===void 0?!0:y,T=t.onScroll,M=w.useRef(g||new C0e),O=w.useRef(),B=w.useRef(),D=w.useRef(),F=w.useState(o),z=um(F,2),U=z[0],$=z[1],J=w.useState(mO),W=um(J,2),Q=W[0],ae=W[1],Y=w.useState(E0e),K=um(Y,2),ee=K[0],de=K[1],q=w.useState(!1),ie=um(q,2),he=ie[0],fe=ie[1],Z=w.useState(Number.MAX_SAFE_INTEGER),pe=um(Z,2),xe=pe[0],Oe=pe[1];w.useLayoutEffect(function(){Ae(M0e(o,{scale:m})),$(o)},[o,E,c,m]),w.useEffect(function(){M.current.effects=a},[a]),w.useEffect(function(){M.current.data=U},[U]),w.useEffect(function(){C&&M.current.reRender()},[U]),w.useEffect(function(){D.current&&D.current.setState({scrollTop:l})},[l]);var Ae=function(Ce){var re=Math.min(c,Math.max(E,Ce));ae(re)},Te=function(Ce){var re=p(Ce);re!==!1&&(M.current.data=Ce,C&&M.current.reRender())},ze=function(Ce){var re=Ce.left,Fe=Ce.time,Ie=Ce.updateTime,qe=Ie===void 0?!0:Ie;if(!(typeof re>"u"&&typeof Fe>"u")){typeof Fe>"u"&&(typeof re>"u"&&(re=rd(Fe,{startLeft:_,scale:m,scaleWidth:b})),Fe=Um(re,{startLeft:_,scale:m,scaleWidth:b}));var $e=!0;return qe&&($e=M.current.setTime(Fe),C&&M.current.reRender()),$e&&de(Fe),$e}},yt=function(Ce){var re=D.current.state.scrollLeft+Ce;re>Q*(b-1)+_-xe||D.current&&D.current.setState({scrollLeft:Math.max(D.current.state.scrollLeft+Ce,0)})};return w.useEffect(function(){var Be=function(Ie){var qe=Ie.time;ze({time:qe,updateTime:!1})},Ce=function(){return fe(!0)},re=function(){return fe(!1)};M.current.on("setTimeByTick",Be),M.current.on("play",Ce),M.current.on("paused",re)},[]),w.useImperativeHandle(e,function(){return{get target(){return O.current},get listener(){return M.current},get isPlaying(){return M.current.isPlaying},get isPaused(){return M.current.isPaused},setPlayRate:M.current.setPlayRate.bind(M.current),getPlayRate:M.current.getPlayRate.bind(M.current),setTime:function(Ce){return ze({time:Ce})},getTime:M.current.getTime.bind(M.current),reRender:M.current.reRender.bind(M.current),play:function(Ce){return M.current.play(Ei({},Ce))},pause:M.current.pause.bind(M.current),setScrollLeft:function(Ce){D.current&&D.current.setState({scrollLeft:Math.max(Ce,0)})},setScrollTop:function(Ce){D.current&&D.current.setState({scrollTop:Math.max(Ce,0)})}}}),w.useEffect(function(){if(B.current){var Be=new ResizeObserver(function(){B.current&&Oe(B.current.getBoundingClientRect().width)});return Be.observe(B.current),function(){Be&&Be.disconnect()}}},[]),Xe.createElement("div",{ref:O,style:r,className:"".concat(fO," ").concat(f?fO+"-disable":"")},Xe.createElement(Ak,{ref:D},function(Be){var Ce=Be.scrollLeft,re=Be.scrollTop,Fe=Be.onScroll;return Xe.createElement(Xe.Fragment,null,Xe.createElement(j0e,Ei(Ei({},t),{},{timelineWidth:xe,disableDrag:f||he,setCursor:ze,cursorTime:ee,editorData:U,scaleCount:Q,setScaleCount:Ae,onScroll:Fe,scrollLeft:Ce})),Xe.createElement(k0e,Ei(Ei({},t),{},{timelineWidth:xe,ref:function(qe){return B.current=qe==null?void 0:qe.domRef.current},disableDrag:f||he,editorData:U,cursorTime:ee,scaleCount:Q,setScaleCount:Ae,scrollTop:re,scrollLeft:Ce,setEditorData:Te,deltaScrollLeft:s&&yt,onScroll:function(qe){Fe(qe),T&&T(qe)}})),!u&&Xe.createElement(D0e,Ei(Ei({},t),{},{timelineWidth:xe,disableDrag:he,scrollLeft:Ce,scaleCount:Q,setScaleCount:Ae,setCursor:ze,cursorTime:ee,editorData:U,areaRef:B,scrollSync:D,deltaScrollLeft:s&&yt})))}))});const X0e="_canvasWrap_125g3_1",Y0e="_videoIcon_125g3_5",q0e="_loadingVideo_125g3_8",ju={canvasWrap:X0e,videoIcon:Y0e,loadingVideo:q0e};async function K0e(n="mp4"){return(await window.showSaveFilePicker({suggestedName:`WebAV-export-${Date.now()}.${n}`})).createWritable()}const jz=new URLSearchParams(location.search).get("UHA"),gR=["no-preference","prefer-hardware","prefer-software"].includes(jz)?jz:void 0,J0e=({timelineData:n,onPreviewTime:e,onOffsetChange:t,onDurationChange:r,onDeleteAction:a,timelineState:o,onSplitAction:l})=>{const[s,u]=w.useState(10),[f,m]=w.useState(null);return ke.jsxs(ke.Fragment,{children:[ke.jsx(Hl,{title:"",children:ke.jsx(pa,{type:"text",icon:ke.jsx(mU,{className:ju.videoIcon}),onClick:()=>u(s+1)})}),ke.jsx(Hl,{title:"",children:ke.jsx(pa,{type:"text",icon:ke.jsx(pU,{className:ju.videoIcon}),onClick:()=>u(s-1>1?s-1:1)})}),ke.jsx(Hl,{title:"",children:ke.jsx(pa,{type:"text",icon:ke.jsx(uU,{className:ju.videoIcon}),disabled:f==null,onClick:()=>{f!=null&&a(f)}})}),ke.jsx(Hl,{title:"",children:ke.jsx(pa,{type:"text",icon:ke.jsx(wV,{className:ju.videoIcon}),disabled:f==null,onClick:()=>{f!=null&&l(f)}})}),ke.jsx(W0e,{ref:b=>{b!=null&&(o.current=b)},onChange:()=>{},style:{width:"100%",height:"200px"},scale:s,editorData:n,effects:{},scaleSplitCount:5,onClickTimeArea:b=>(e(b),!0),onCursorDragEnd:b=>{e(b)},onActionResizing:({dir:b,action:_,start:E,end:c})=>b==="left"?!1:r({action:_,start:E,end:c}),onActionMoveEnd:({action:b})=>{t(b)},onClickAction:(b,{action:_})=>{m(_)},getActionRender:b=>{const _="h-full justify-center items-center flex text-white";return b.id===(f==null?void 0:f.id)?ke.jsx("div",{className:`${_} border border-red-300 border-solid box-border`,children:b.name}):ke.jsx("div",{className:_,children:b.name})},autoScroll:!0})]})},kp=new WeakMap;function Q0e(n){const{src:e}=n,[t,r]=w.useState(null),a=w.useRef(void 0),[o,l]=w.useState(!1),[s,u]=w.useState(!1),[f,m]=w.useState(null),[b,_]=w.useState(null),[E,c]=w.useState([{id:"1-video",actions:[]},{id:"2-audio",actions:[]},{id:"3-img",actions:[]},{id:"4-text",actions:[]}]),p=()=>{if(b==null)return;t==null||t.destroy();const y=f==null?void 0:f.parentElement;if(!y)return;const{width:C,height:T}=y.getBoundingClientRect(),M=new Rge(b,{bgColor:"#1A1B1E",width:C-24,height:T-270});r(M),M.on("timeupdate",O=>{a.current!=null&&a.current.setTime(O/1e6)}),M.on("playing",()=>{l(!0)}),M.on("paused",()=>{l(!1)})};w.useEffect(()=>(p(),window.addEventListener("resize",p),()=>{window.removeEventListener("resize",p)}),[b]),w.useEffect(()=>{if(!t)return;const y=async()=>{u(!0),setTimeout(async()=>{const C=(await fetch(e)).body,T=new uR(new uz(C,{__unsafe_hardwareAcceleration__:gR}));await(t==null?void 0:t.addSprite(T)),g("1-video",T,""),u(!1)},1e3)};return window.addEventListener("resize",p),w2.on(A2.ADD_FAKE_VIDEO,y),()=>{w2.off(A2.ADD_FAKE_VIDEO,y)}},[t,e]);function g(y,C,T=""){const M=E.find(({id:D})=>D===y);if(M==null)return null;const O=C.time.offset===0?Math.max(...M.actions.map(D=>D.end),0)*1e6:C.time.offset;C.time.offset=O,C.time.duration===1/0&&(C.time.duration=1e7);const B={id:Math.random().toString(),start:O/1e6,end:(C.time.offset+C.time.duration)/1e6,effectId:"",name:T};return kp.set(B,C),M.actions.push(B),c(E.filter(D=>D!==M).concat({...M}).sort((D,F)=>D.id.charCodeAt(0)-F.id.charCodeAt(0))),B}return ke.jsxs("div",{className:ju.canvasWrap,ref:y=>m(y),children:[ke.jsx("div",{ref:y=>_(y)}),ke.jsx(Hl,{title:"",children:ke.jsx(pa,{type:"text",icon:ke.jsx(DV,{className:ju.videoIcon}),onClick:async()=>{const y=(await Z0e({"video/*":[".mp4",".mov"]})).stream(),C=new uR(new uz(y,{__unsafe_hardwareAcceleration__:gR}));await(t==null?void 0:t.addSprite(C)),g("1-video",C,"")}})}),ke.jsx(Hl,{title:"",children:ke.jsx(pa,{type:"text",icon:o?ke.jsx(nV,{className:ju.videoIcon}):ke.jsx(lV,{className:ju.videoIcon}),onClick:async()=>{t==null||a.current==null||(o?t.pause():t.play({start:a.current.getTime()*1e6}))}})}),ke.jsx(Hl,{title:"",children:ke.jsx(pa,{type:"text",icon:ke.jsx(N$,{className:ju.videoIcon}),onClick:async()=>{t!=null&&(await t.createCombinator({__unsafe_hardwareAcceleration__:gR})).output().pipeTo(await K0e())}})}),ke.jsx(J0e,{timelineData:E,timelineState:a,onPreviewTime:y=>{t==null||t.previewFrame(y*1e6)},onOffsetChange:y=>{const C=kp.get(y);C!=null&&(C.time.offset=y.start*1e6)},onDurationChange:({action:y,start:C,end:T})=>{const M=kp.get(y);if(M==null)return!1;const O=(T-C)*1e6;return O>M.getClip().meta.duration?!1:(M.time.duration=O,!0)},onDeleteAction:y=>{const C=kp.get(y);if(C==null)return;t==null||t.removeSprite(C),kp.delete(y);const T=E.map(M=>M.actions).find(M=>M.includes(y));T!=null&&(T.splice(T.indexOf(y),1),c([...E]))},onSplitAction:async y=>{const C=kp.get(y);if(t==null||C==null||a.current==null)return;const T=await C.getClip().split(a.current.getTime()*1e6-C.time.offset);t.removeSprite(C),kp.delete(y);const M=E.find(D=>D.actions.includes(y));if(M==null)return;M.actions.splice(M.actions.indexOf(y),1),c([...E]);const O=[a.current.getTime()*1e6-C.time.offset,C.time.duration-(a.current.getTime()*1e6-C.time.offset)],B=[C.time.offset,C.time.offset+O[0]];for(let D=0;D<T.length;D++){const F=T[D],z=new uR(F);F instanceof qme&&(z.time.duration=O[D]),z.time.offset=B[D],await t.addSprite(z),g(M.id,z,y.name)}}}),s&&ke.jsx("div",{className:ju.loadingVideo,children:ke.jsx(rI,{indicator:ke.jsx(r0,{spin:!0}),size:"large"})})]})}async function Z0e(n){const[e]=await window.showOpenFilePicker({types:[{accept:n}]});return await e.getFile()}const eye="/SyncWorld/assets/move-left-D1lRqUFJ.mp4",tye="/SyncWorld/assets/move-up-DHlBu4lp.mp4",nye="/SyncWorld/assets/compress-DARJ5-2i.mp4",Wz={moveLeft:eye,moveUp:tye,compress:nye},iye=()=>{const[n,e]=w.useState(Wz.moveLeft),t=r=>{e(Wz[r])};return ke.jsxs(Xu,{style:{height:"100%"},children:[ke.jsx(yr,{flex:"436px",className:VL.formPanel,children:ke.jsx(Ppe,{onChange:t})}),ke.jsx(yr,{flex:"auto",className:VL.videoWrapper,children:ke.jsx(Q0e,{src:n})})]})};function rye(n,e){if(n==null)return{};var t=aye(n,e),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(a=0;a<o.length;a++)r=o[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function aye(n,e){if(n==null)return{};var t={},r=Object.keys(n),a,o;for(o=0;o<r.length;o++)a=r[o],!(e.indexOf(a)>=0)&&(t[a]=n[a]);return t}function tw(){return tw=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},tw.apply(this,arguments)}function Xz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function sb(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Xz(Object(t),!0).forEach(function(r){oye(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Xz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function oye(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const sye={breakpointCols:void 0,className:void 0,columnClassName:void 0,children:void 0,columnAttrs:void 0,column:void 0},vR=2;class Gk extends Xe.Component{constructor(e){super(e),this.reCalculateColumnCount=this.reCalculateColumnCount.bind(this),this.reCalculateColumnCountDebounce=this.reCalculateColumnCountDebounce.bind(this);let t;this.props.breakpointCols&&this.props.breakpointCols.default?t=this.props.breakpointCols.default:t=parseInt(this.props.breakpointCols)||vR,this.state={columnCount:t}}componentDidMount(){this.reCalculateColumnCount(),window&&window.addEventListener("resize",this.reCalculateColumnCountDebounce)}componentDidUpdate(){this.reCalculateColumnCount()}componentWillUnmount(){window&&window.removeEventListener("resize",this.reCalculateColumnCountDebounce)}reCalculateColumnCountDebounce(){if(!window||!window.requestAnimationFrame){this.reCalculateColumnCount();return}window.cancelAnimationFrame&&window.cancelAnimationFrame(this._lastRecalculateAnimationFrame),this._lastRecalculateAnimationFrame=window.requestAnimationFrame(()=>{this.reCalculateColumnCount()})}reCalculateColumnCount(){const e=window&&window.innerWidth||1/0;let t=this.props.breakpointCols;typeof t!="object"&&(t={default:parseInt(t)||vR});let r=1/0,a=t.default||vR;for(let o in t){const l=parseInt(o);l>0&&e<=l&&l<r&&(r=l,a=t[o])}a=Math.max(1,parseInt(a)||1),this.state.columnCount!==a&&this.setState({columnCount:a})}itemsInColumns(){const e=this.state.columnCount,t=new Array(e),r=Xe.Children.toArray(this.props.children);for(let a=0;a<r.length;a++){const o=a%e;t[o]||(t[o]=[]),t[o].push(r[a])}return t}renderColumns(){const{column:e,columnAttrs:t={},columnClassName:r}=this.props,a=this.itemsInColumns(),o=`${100/a.length}%`;let l=r;l&&typeof l!="string"&&(this.logDeprecated('The property "columnClassName" requires a string'),typeof l>"u"&&(l="my-masonry-grid_column"));const s=sb(sb(sb({},e),t),{},{style:sb(sb({},t.style),{},{width:o}),className:l});return a.map((u,f)=>Xe.createElement("div",tw({},s,{key:f}),u))}logDeprecated(e){console.error("[Masonry]",e)}render(){const e=this.props,{children:t,breakpointCols:r,columnClassName:a,columnAttrs:o,column:l,className:s}=e,u=rye(e,["children","breakpointCols","columnClassName","columnAttrs","column","className"]);let f=s;return typeof s!="string"&&(this.logDeprecated('The property "className" requires a string'),typeof s>"u"&&(f="my-masonry-grid")),Xe.createElement("div",tw({},u,{className:f}),this.renderColumns())}}Gk.defaultProps=sye;const lye="_masonryGrid_ejt6d_2",cye="_masonryColumn_ejt6d_10",uye="_masonryItem_ejt6d_14",dye="_skeleton_ejt6d_17",fye="_loadingTrigger_ejt6d_26",mv={masonryGrid:lye,masonryColumn:cye,masonryItem:uye,skeleton:dye,loadingTrigger:fye},Yz=()=>{const n=Math.floor(Math.random()*300+200);return{width:300,height:n,src:`https://picsum.photos/300/${n}`,loaded:!1}},hye=()=>{const[n,e]=w.useState(Array.from({length:10},Yz)),[t,r]=w.useState(!1),a=w.useRef(null),o=w.useCallback(()=>{t||(r(!0),setTimeout(()=>{e(s=>[...s,...Array.from({length:10},Yz)]),r(!1)},1500))},[t]);w.useEffect(()=>{const s=new IntersectionObserver(u=>{u[0].isIntersecting&&o()},{rootMargin:"100px"});return a.current&&s.observe(a.current),()=>s.disconnect()},[o]);const l=s=>{e(u=>u.map((f,m)=>m===s?{...f,loaded:!0}:f))};return ke.jsxs("div",{className:mv.waterfallContainer,children:[ke.jsx(Gk,{breakpointCols:{default:4,1100:3,768:2,500:1},className:mv.masonryGrid,columnClassName:mv.masonryColumn,children:n.map((s,u)=>ke.jsxs("div",{className:mv.masonryItem,children:[!s.loaded&&ke.jsx(km.Image,{className:mv.skeleton}),ke.jsx(Qv,{src:s.src,width:"100%",style:{display:s.loaded?"block":"none"},onLoad:()=>l(u)})]},u))}),ke.jsx("div",{ref:a,className:mv.loadingTrigger,children:t&&ke.jsx(rI,{size:"large"})})]})},pye="_userContainer_138vs_1",mye={userContainer:pye},gye=()=>ke.jsxs("div",{className:mye.userContainer,children:[ke.jsx(Xu,{children:ke.jsx(B4,{size:100,icon:ke.jsx(hU,{}),style:{margin:"0 auto"}})}),ke.jsx(Xu,{children:ke.jsxs(yr,{span:24,children:[ke.jsx("p",{children:": "}),ke.jsx("p",{children:": "})]})}),ke.jsxs(Xu,{gutter:16,style:{marginTop:20},children:[ke.jsx(yr,{span:12,children:ke.jsx("p",{children:": 1200"})}),ke.jsx(yr,{span:12,children:ke.jsx("p",{children:": 800"})}),ke.jsx(yr,{span:12,children:ke.jsx("p",{children:": 50 "})}),ke.jsx(yr,{span:12,children:ke.jsx("p",{children:": 500 "})})]})]}),vye="/SyncWorld/assets/logo-bKxNxiH-.png",{Header:yye,Content:bye,Sider:Sye}=$m,_ye=[{key:"/preview",icon:ke.jsx(d$,{}),label:""},{key:"/video",icon:ke.jsx(UV,{}),label:""},{key:"/user",icon:ke.jsx(hU,{}),label:""}],xye=()=>{const n=jh(),e=jH();return ke.jsx(PS,{className:$C.sideMenu,mode:"inline",selectedKeys:[n.pathname],onClick:t=>e(t.key),items:_ye})},Cye=()=>ke.jsxs(Eie,{children:[ke.jsx(yye,{className:$C.navBar,style:{display:"flex",alignItems:"center"},children:ke.jsx("img",{src:vye,alt:"logo",style:{width:"40px",height:"40px"}})}),ke.jsxs($m,{children:[ke.jsx(Sye,{width:200,style:{borderTop:"1px"},className:$C.sideBar,children:ke.jsx(xye,{})}),ke.jsx(bye,{className:$C.content,children:ke.jsxs(tie,{children:[ke.jsx(VC,{path:"/preview",element:ke.jsx(hye,{})}),ke.jsx(VC,{path:"/video",element:ke.jsx(iye,{})}),ke.jsx(VC,{path:"/user",element:ke.jsx(gye,{})})]})})]})]});B5.createRoot(document.getElementById("root")).render(ke.jsx(w.StrictMode,{children:ke.jsx(Cye,{})}));
