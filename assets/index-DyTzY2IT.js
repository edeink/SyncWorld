function Gz(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in n)){const o=Object.getOwnPropertyDescriptor(r,a);o&&Object.defineProperty(n,a,o.get?o:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();function zm(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var JA={exports:{}},Py={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JB;function gk(){if(JB)return Py;JB=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,o){var l=null;if(o!==void 0&&(l=""+o),a.key!==void 0&&(l=""+a.key),"key"in a){o={};for(var s in a)s!=="key"&&(o[s]=a[s])}else o=a;return a=o.ref,{$$typeof:n,type:r,key:l,ref:a!==void 0?a:null,props:o}}return Py.Fragment=e,Py.jsx=t,Py.jsxs=t,Py}var QB;function vk(){return QB||(QB=1,JA.exports=gk()),JA.exports}var ut=vk(),QA={exports:{}},ci={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZB;function yk(){if(ZB)return ci;ZB=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function _(q){return q===null||typeof q!="object"?null:(q=y&&q[y]||q["@@iterator"],typeof q=="function"?q:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},c=Object.assign,p={};function m(q,ie,me){this.props=q,this.context=ie,this.refs=p,this.updater=me||C}m.prototype.isReactComponent={},m.prototype.setState=function(q,ie){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,ie,"setState")},m.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function b(){}b.prototype=m.prototype;function E(q,ie,me){this.props=q,this.context=ie,this.refs=p,this.updater=me||C}var T=E.prototype=new b;T.constructor=E,c(T,m.prototype),T.isPureReactComponent=!0;var R=Array.isArray,O={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function P(q,ie,me,de,Q,he){return me=he.ref,{$$typeof:n,type:q,key:ie,ref:me!==void 0?me:null,props:he}}function F(q,ie){return P(q.type,ie,void 0,void 0,void 0,q.props)}function U(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function z(q){var ie={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(me){return ie[me]})}var $=/\/+/g;function J(q,ie){return typeof q=="object"&&q!==null&&q.key!=null?z(""+q.key):ie.toString(36)}function W(){}function Z(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(W,W):(q.status="pending",q.then(function(ie){q.status==="pending"&&(q.status="fulfilled",q.value=ie)},function(ie){q.status==="pending"&&(q.status="rejected",q.reason=ie)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function oe(q,ie,me,de,Q){var he=typeof q;(he==="undefined"||he==="boolean")&&(q=null);var xe=!1;if(q===null)xe=!0;else switch(he){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(q.$$typeof){case n:case e:xe=!0;break;case g:return xe=q._init,oe(xe(q._payload),ie,me,de,Q)}}if(xe)return Q=Q(q),xe=de===""?"."+J(q,0):de,R(Q)?(me="",xe!=null&&(me=xe.replace($,"$&/")+"/"),oe(Q,ie,me,"",function(Te){return Te})):Q!=null&&(U(Q)&&(Q=F(Q,me+(Q.key==null||q&&q.key===Q.key?"":(""+Q.key).replace($,"$&/")+"/")+xe)),ie.push(Q)),1;xe=0;var Oe=de===""?".":de+":";if(R(q))for(var Ae=0;Ae<q.length;Ae++)de=q[Ae],he=Oe+J(de,Ae),xe+=oe(de,ie,me,he,Q);else if(Ae=_(q),typeof Ae=="function")for(q=Ae.call(q),Ae=0;!(de=q.next()).done;)de=de.value,he=Oe+J(de,Ae++),xe+=oe(de,ie,me,he,Q);else if(he==="object"){if(typeof q.then=="function")return oe(Z(q),ie,me,de,Q);throw ie=String(q),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return xe}function Y(q,ie,me){if(q==null)return q;var de=[],Q=0;return oe(q,de,"","",function(he){return ie.call(me,he,Q++)}),de}function K(q){if(q._status===-1){var ie=q._result;ie=ie(),ie.then(function(me){(q._status===0||q._status===-1)&&(q._status=1,q._result=me)},function(me){(q._status===0||q._status===-1)&&(q._status=2,q._result=me)}),q._status===-1&&(q._status=0,q._result=ie)}if(q._status===1)return q._result.default;throw q._result}var ee=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)};function ue(){}return ci.Children={map:Y,forEach:function(q,ie,me){Y(q,function(){ie.apply(this,arguments)},me)},count:function(q){var ie=0;return Y(q,function(){ie++}),ie},toArray:function(q){return Y(q,function(ie){return ie})||[]},only:function(q){if(!U(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},ci.Component=m,ci.Fragment=t,ci.Profiler=a,ci.PureComponent=E,ci.StrictMode=r,ci.Suspense=u,ci.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,ci.act=function(){throw Error("act(...) is not supported in production builds of React.")},ci.cache=function(q){return function(){return q.apply(null,arguments)}},ci.cloneElement=function(q,ie,me){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var de=c({},q.props),Q=q.key,he=void 0;if(ie!=null)for(xe in ie.ref!==void 0&&(he=void 0),ie.key!==void 0&&(Q=""+ie.key),ie)!D.call(ie,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&ie.ref===void 0||(de[xe]=ie[xe]);var xe=arguments.length-2;if(xe===1)de.children=me;else if(1<xe){for(var Oe=Array(xe),Ae=0;Ae<xe;Ae++)Oe[Ae]=arguments[Ae+2];de.children=Oe}return P(q.type,Q,void 0,void 0,he,de)},ci.createContext=function(q){return q={$$typeof:l,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:o,_context:q},q},ci.createElement=function(q,ie,me){var de,Q={},he=null;if(ie!=null)for(de in ie.key!==void 0&&(he=""+ie.key),ie)D.call(ie,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(Q[de]=ie[de]);var xe=arguments.length-2;if(xe===1)Q.children=me;else if(1<xe){for(var Oe=Array(xe),Ae=0;Ae<xe;Ae++)Oe[Ae]=arguments[Ae+2];Q.children=Oe}if(q&&q.defaultProps)for(de in xe=q.defaultProps,xe)Q[de]===void 0&&(Q[de]=xe[de]);return P(q,he,void 0,void 0,null,Q)},ci.createRef=function(){return{current:null}},ci.forwardRef=function(q){return{$$typeof:s,render:q}},ci.isValidElement=U,ci.lazy=function(q){return{$$typeof:g,_payload:{_status:-1,_result:q},_init:K}},ci.memo=function(q,ie){return{$$typeof:d,type:q,compare:ie===void 0?null:ie}},ci.startTransition=function(q){var ie=O.T,me={};O.T=me;try{var de=q(),Q=O.S;Q!==null&&Q(me,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(ue,ee)}catch(he){ee(he)}finally{O.T=ie}},ci.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},ci.use=function(q){return O.H.use(q)},ci.useActionState=function(q,ie,me){return O.H.useActionState(q,ie,me)},ci.useCallback=function(q,ie){return O.H.useCallback(q,ie)},ci.useContext=function(q){return O.H.useContext(q)},ci.useDebugValue=function(){},ci.useDeferredValue=function(q,ie){return O.H.useDeferredValue(q,ie)},ci.useEffect=function(q,ie){return O.H.useEffect(q,ie)},ci.useId=function(){return O.H.useId()},ci.useImperativeHandle=function(q,ie,me){return O.H.useImperativeHandle(q,ie,me)},ci.useInsertionEffect=function(q,ie){return O.H.useInsertionEffect(q,ie)},ci.useLayoutEffect=function(q,ie){return O.H.useLayoutEffect(q,ie)},ci.useMemo=function(q,ie){return O.H.useMemo(q,ie)},ci.useOptimistic=function(q,ie){return O.H.useOptimistic(q,ie)},ci.useReducer=function(q,ie,me){return O.H.useReducer(q,ie,me)},ci.useRef=function(q){return O.H.useRef(q)},ci.useState=function(q){return O.H.useState(q)},ci.useSyncExternalStore=function(q,ie,me){return O.H.useSyncExternalStore(q,ie,me)},ci.useTransition=function(){return O.H.useTransition()},ci.version="19.0.0",ci}var eD;function E0(){return eD||(eD=1,QA.exports=yk()),QA.exports}var A=E0();const We=zm(A),QE=Gz({__proto__:null,default:We},[A]);var ZA={exports:{}},Ly={},eM={exports:{}},tM={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tD;function bk(){return tD||(tD=1,function(n){function e(Y,K){var ee=Y.length;Y.push(K);e:for(;0<ee;){var ue=ee-1>>>1,q=Y[ue];if(0<a(q,K))Y[ue]=K,Y[ee]=q,ee=ue;else break e}}function t(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var K=Y[0],ee=Y.pop();if(ee!==K){Y[0]=ee;e:for(var ue=0,q=Y.length,ie=q>>>1;ue<ie;){var me=2*(ue+1)-1,de=Y[me],Q=me+1,he=Y[Q];if(0>a(de,ee))Q<q&&0>a(he,de)?(Y[ue]=he,Y[Q]=ee,ue=Q):(Y[ue]=de,Y[me]=ee,ue=me);else if(Q<q&&0>a(he,ee))Y[ue]=he,Y[Q]=ee,ue=Q;else break e}}return K}function a(Y,K){var ee=Y.sortIndex-K.sortIndex;return ee!==0?ee:Y.id-K.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,s=l.now();n.unstable_now=function(){return l.now()-s}}var u=[],d=[],g=1,y=null,_=3,C=!1,c=!1,p=!1,m=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function T(Y){for(var K=t(d);K!==null;){if(K.callback===null)r(d);else if(K.startTime<=Y)r(d),K.sortIndex=K.expirationTime,e(u,K);else break;K=t(d)}}function R(Y){if(p=!1,T(Y),!c)if(t(u)!==null)c=!0,Z();else{var K=t(d);K!==null&&oe(R,K.startTime-Y)}}var O=!1,D=-1,P=5,F=-1;function U(){return!(n.unstable_now()-F<P)}function z(){if(O){var Y=n.unstable_now();F=Y;var K=!0;try{e:{c=!1,p&&(p=!1,b(D),D=-1),C=!0;var ee=_;try{t:{for(T(Y),y=t(u);y!==null&&!(y.expirationTime>Y&&U());){var ue=y.callback;if(typeof ue=="function"){y.callback=null,_=y.priorityLevel;var q=ue(y.expirationTime<=Y);if(Y=n.unstable_now(),typeof q=="function"){y.callback=q,T(Y),K=!0;break t}y===t(u)&&r(u),T(Y)}else r(u);y=t(u)}if(y!==null)K=!0;else{var ie=t(d);ie!==null&&oe(R,ie.startTime-Y),K=!1}}break e}finally{y=null,_=ee,C=!1}K=void 0}}finally{K?$():O=!1}}}var $;if(typeof E=="function")$=function(){E(z)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,W=J.port2;J.port1.onmessage=z,$=function(){W.postMessage(null)}}else $=function(){m(z,0)};function Z(){O||(O=!0,$())}function oe(Y,K){D=m(function(){Y(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_continueExecution=function(){c||C||(c=!0,Z())},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(Y){switch(_){case 1:case 2:case 3:var K=3;break;default:K=_}var ee=_;_=K;try{return Y()}finally{_=ee}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Y,K){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ee=_;_=Y;try{return K()}finally{_=ee}},n.unstable_scheduleCallback=function(Y,K,ee){var ue=n.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ue+ee:ue):ee=ue,Y){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=ee+q,Y={id:g++,callback:K,priorityLevel:Y,startTime:ee,expirationTime:q,sortIndex:-1},ee>ue?(Y.sortIndex=ee,e(d,Y),t(u)===null&&Y===t(d)&&(p?(b(D),D=-1):p=!0,oe(R,ee-ue))):(Y.sortIndex=q,e(u,Y),c||C||(c=!0,Z())),Y},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(Y){var K=_;return function(){var ee=_;_=K;try{return Y.apply(this,arguments)}finally{_=ee}}}}(tM)),tM}var nD;function fO(){return nD||(nD=1,eM.exports=bk()),eM.exports}var nM={exports:{}},Mo={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iD;function Sk(){if(iD)return Mo;iD=1;var n=E0();function e(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(u,d,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:u,containerInfo:d,implementation:g}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function s(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Mo.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Mo.createPortal=function(u,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(u,d,null,g)},Mo.flushSync=function(u){var d=l.T,g=r.p;try{if(l.T=null,r.p=2,u)return u()}finally{l.T=d,r.p=g,r.d.f()}},Mo.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(u,d))},Mo.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Mo.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var g=d.as,y=s(g,d.crossOrigin),_=typeof d.integrity=="string"?d.integrity:void 0,C=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?r.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:C}):g==="script"&&r.d.X(u,{crossOrigin:y,integrity:_,fetchPriority:C,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Mo.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=s(d.as,d.crossOrigin);r.d.M(u,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(u)},Mo.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,y=s(g,d.crossOrigin);r.d.L(u,g,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Mo.preloadModule=function(u,d){if(typeof u=="string")if(d){var g=s(d.as,d.crossOrigin);r.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(u)},Mo.requestFormReset=function(u){r.d.r(u)},Mo.unstable_batchedUpdates=function(u,d){return u(d)},Mo.useFormState=function(u,d,g){return l.H.useFormState(u,d,g)},Mo.useFormStatus=function(){return l.H.useHostTransitionStatus()},Mo.version="19.0.0",Mo}var rD;function kz(){if(rD)return nM.exports;rD=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),nM.exports=Sk(),nM.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aD;function _k(){if(aD)return Ly;aD=1;var n=fO(),e=E0(),t=kz();function r(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)h+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)}var o=Symbol.for("react.element"),l=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),_=Symbol.for("react.consumer"),C=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.offscreen"),R=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function D(f){return f===null||typeof f!="object"?null:(f=O&&f[O]||f["@@iterator"],typeof f=="function"?f:null)}var P=Symbol.for("react.client.reference");function F(f){if(f==null)return null;if(typeof f=="function")return f.$$typeof===P?null:f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case u:return"Fragment";case s:return"Portal";case g:return"Profiler";case d:return"StrictMode";case p:return"Suspense";case m:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case C:return(f.displayName||"Context")+".Provider";case _:return(f._context.displayName||"Context")+".Consumer";case c:var h=f.render;return f=f.displayName,f||(f=h.displayName||h.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case b:return h=f.displayName||null,h!==null?h:F(f.type)||"Memo";case E:h=f._payload,f=f._init;try{return F(f(h))}catch{}}return null}var U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=Object.assign,$,J;function W(f){if($===void 0)try{throw Error()}catch(x){var h=x.stack.trim().match(/\n( *(at )?)/);$=h&&h[1]||"",J=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$+f+J}var Z=!1;function oe(f,h){if(!f||Z)return"";Z=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var w={DetermineComponentFrameRoot:function(){try{if(h){var Ut=function(){throw Error()};if(Object.defineProperty(Ut.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ut,[])}catch(Et){var dt=Et}Reflect.construct(f,[],Ut)}else{try{Ut.call()}catch(Et){dt=Et}f.call(Ut.prototype)}}else{try{throw Error()}catch(Et){dt=Et}(Ut=f())&&typeof Ut.catch=="function"&&Ut.catch(function(){})}}catch(Et){if(Et&&dt&&typeof Et.stack=="string")return[Et.stack,dt.stack]}return[null,null]}};w.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var L=Object.getOwnPropertyDescriptor(w.DetermineComponentFrameRoot,"name");L&&L.configurable&&Object.defineProperty(w.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var G=w.DetermineComponentFrameRoot(),ne=G[0],ge=G[1];if(ne&&ge){var Re=ne.split(`
`),Xe=ge.split(`
`);for(L=w=0;w<Re.length&&!Re[w].includes("DetermineComponentFrameRoot");)w++;for(;L<Xe.length&&!Xe[L].includes("DetermineComponentFrameRoot");)L++;if(w===Re.length||L===Xe.length)for(w=Re.length-1,L=Xe.length-1;1<=w&&0<=L&&Re[w]!==Xe[L];)L--;for(;1<=w&&0<=L;w--,L--)if(Re[w]!==Xe[L]){if(w!==1||L!==1)do if(w--,L--,0>L||Re[w]!==Xe[L]){var At=`
`+Re[w].replace(" at new "," at ");return f.displayName&&At.includes("<anonymous>")&&(At=At.replace("<anonymous>",f.displayName)),At}while(1<=w&&0<=L);break}}}finally{Z=!1,Error.prepareStackTrace=x}return(x=f?f.displayName||f.name:"")?W(x):""}function Y(f){switch(f.tag){case 26:case 27:case 5:return W(f.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 15:return f=oe(f.type,!1),f;case 11:return f=oe(f.type.render,!1),f;case 1:return f=oe(f.type,!0),f;default:return""}}function K(f){try{var h="";do h+=Y(f),f=f.return;while(f);return h}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}function ee(f){var h=f,x=f;if(f.alternate)for(;h.return;)h=h.return;else{f=h;do h=f,(h.flags&4098)!==0&&(x=h.return),f=h.return;while(f)}return h.tag===3?x:null}function ue(f){if(f.tag===13){var h=f.memoizedState;if(h===null&&(f=f.alternate,f!==null&&(h=f.memoizedState)),h!==null)return h.dehydrated}return null}function q(f){if(ee(f)!==f)throw Error(r(188))}function ie(f){var h=f.alternate;if(!h){if(h=ee(f),h===null)throw Error(r(188));return h!==f?null:f}for(var x=f,w=h;;){var L=x.return;if(L===null)break;var G=L.alternate;if(G===null){if(w=L.return,w!==null){x=w;continue}break}if(L.child===G.child){for(G=L.child;G;){if(G===x)return q(L),f;if(G===w)return q(L),h;G=G.sibling}throw Error(r(188))}if(x.return!==w.return)x=L,w=G;else{for(var ne=!1,ge=L.child;ge;){if(ge===x){ne=!0,x=L,w=G;break}if(ge===w){ne=!0,w=L,x=G;break}ge=ge.sibling}if(!ne){for(ge=G.child;ge;){if(ge===x){ne=!0,x=G,w=L;break}if(ge===w){ne=!0,w=G,x=L;break}ge=ge.sibling}if(!ne)throw Error(r(189))}}if(x.alternate!==w)throw Error(r(190))}if(x.tag!==3)throw Error(r(188));return x.stateNode.current===x?f:h}function me(f){var h=f.tag;if(h===5||h===26||h===27||h===6)return f;for(f=f.child;f!==null;){if(h=me(f),h!==null)return h;f=f.sibling}return null}var de=Array.isArray,Q=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},xe=[],Oe=-1;function Ae(f){return{current:f}}function Te(f){0>Oe||(f.current=xe[Oe],xe[Oe]=null,Oe--)}function ze(f,h){Oe++,xe[Oe]=f.current,f.current=h}var vt=Ae(null),Be=Ae(null),Ce=Ae(null),re=Ae(null);function Fe(f,h){switch(ze(Ce,h),ze(Be,f),ze(vt,null),f=h.nodeType,f){case 9:case 11:h=(h=h.documentElement)&&(h=h.namespaceURI)?AB(h):0;break;default:if(f=f===8?h.parentNode:h,h=f.tagName,f=f.namespaceURI)f=AB(f),h=MB(f,h);else switch(h){case"svg":h=1;break;case"math":h=2;break;default:h=0}}Te(vt),ze(vt,h)}function Ie(){Te(vt),Te(Be),Te(Ce)}function Ye(f){f.memoizedState!==null&&ze(re,f);var h=vt.current,x=MB(h,f.type);h!==x&&(ze(Be,f),ze(vt,x))}function ke(f){Be.current===f&&(Te(vt),Te(Be)),re.current===f&&(Te(re),Ry._currentValue=he)}var lt=Object.prototype.hasOwnProperty,ot=n.unstable_scheduleCallback,ce=n.unstable_cancelCallback,ae=n.unstable_shouldYield,we=n.unstable_requestPaint,De=n.unstable_now,qe=n.unstable_getCurrentPriorityLevel,He=n.unstable_ImmediatePriority,gt=n.unstable_UserBlockingPriority,st=n.unstable_NormalPriority,pt=n.unstable_LowPriority,Ot=n.unstable_IdlePriority,at=n.log,_t=n.unstable_setDisableYieldValue,Ct=null,je=null;function it(f){if(je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(Ct,f,void 0,(f.current.flags&128)===128)}catch{}}function Se(f){if(typeof at=="function"&&_t(f),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(Ct,f)}catch{}}var Ge=Math.clz32?Math.clz32:xt,St=Math.log,Me=Math.LN2;function xt(f){return f>>>=0,f===0?32:31-(St(f)/Me|0)|0}var Qe=128,mt=4194304;function Lt(f){var h=f&42;if(h!==0)return h;switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return f&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return f}}function It(f,h){var x=f.pendingLanes;if(x===0)return 0;var w=0,L=f.suspendedLanes,G=f.pingedLanes,ne=f.warmLanes;f=f.finishedLanes!==0;var ge=x&134217727;return ge!==0?(x=ge&~L,x!==0?w=Lt(x):(G&=ge,G!==0?w=Lt(G):f||(ne=ge&~ne,ne!==0&&(w=Lt(ne))))):(ge=x&~L,ge!==0?w=Lt(ge):G!==0?w=Lt(G):f||(ne=x&~ne,ne!==0&&(w=Lt(ne)))),w===0?0:h!==0&&h!==w&&(h&L)===0&&(L=w&-w,ne=h&-h,L>=ne||L===32&&(ne&4194176)!==0)?h:w}function Qt(f,h){return(f.pendingLanes&~(f.suspendedLanes&~f.pingedLanes)&h)===0}function sn(f,h){switch(f){case 1:case 2:case 4:case 8:return h+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qt(){var f=Qe;return Qe<<=1,(Qe&4194176)===0&&(Qe=128),f}function Dt(){var f=mt;return mt<<=1,(mt&62914560)===0&&(mt=4194304),f}function Yt(f){for(var h=[],x=0;31>x;x++)h.push(f);return h}function yn(f,h){f.pendingLanes|=h,h!==268435456&&(f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0)}function lr(f,h,x,w,L,G){var ne=f.pendingLanes;f.pendingLanes=x,f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0,f.expiredLanes&=x,f.entangledLanes&=x,f.errorRecoveryDisabledLanes&=x,f.shellSuspendCounter=0;var ge=f.entanglements,Re=f.expirationTimes,Xe=f.hiddenUpdates;for(x=ne&~x;0<x;){var At=31-Ge(x),Ut=1<<At;ge[At]=0,Re[At]=-1;var dt=Xe[At];if(dt!==null)for(Xe[At]=null,At=0;At<dt.length;At++){var Et=dt[At];Et!==null&&(Et.lane&=-536870913)}x&=~Ut}w!==0&&Kr(f,w,0),G!==0&&L===0&&f.tag!==0&&(f.suspendedLanes|=G&~(ne&~h))}function Kr(f,h,x){f.pendingLanes|=h,f.suspendedLanes&=~h;var w=31-Ge(h);f.entangledLanes|=h,f.entanglements[w]=f.entanglements[w]|1073741824|x&4194218}function zn(f,h){var x=f.entangledLanes|=h;for(f=f.entanglements;x;){var w=31-Ge(x),L=1<<w;L&h|f[w]&h&&(f[w]|=h),x&=~L}}function Ai(f){return f&=-f,2<f?8<f?(f&134217727)!==0?32:268435456:8:2}function br(){var f=Q.p;return f!==0?f:(f=window.event,f===void 0?32:jB(f.type))}function wn(f,h){var x=Q.p;try{return Q.p=f,h()}finally{Q.p=x}}var Mn=Math.random().toString(36).slice(2),Qn="__reactFiber$"+Mn,un="__reactProps$"+Mn,ii="__reactContainer$"+Mn,ln="__reactEvents$"+Mn,Lr="__reactListeners$"+Mn,Nr="__reactHandles$"+Mn,Tr="__reactResources$"+Mn,Rr="__reactMarker$"+Mn;function cr(f){delete f[Qn],delete f[un],delete f[ln],delete f[Lr],delete f[Nr]}function Sr(f){var h=f[Qn];if(h)return h;for(var x=f.parentNode;x;){if(h=x[ii]||x[Qn]){if(x=h.alternate,h.child!==null||x!==null&&x.child!==null)for(f=OB(f);f!==null;){if(x=f[Qn])return x;f=OB(f)}return h}f=x,x=f.parentNode}return null}function le(f){if(f=f[Qn]||f[ii]){var h=f.tag;if(h===5||h===6||h===13||h===26||h===27||h===3)return f}return null}function Ue(f){var h=f.tag;if(h===5||h===26||h===27||h===6)return f.stateNode;throw Error(r(33))}function rt(f){var h=f[Tr];return h||(h=f[Tr]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function Je(f){f[Rr]=!0}var $e=new Set,Tt={};function Vt(f,h){Kt(f,h),Kt(f+"Capture",h)}function Kt(f,h){for(Tt[f]=h,f=0;f<h.length;f++)$e.add(h[f])}var Wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fn={},on={};function Hn(f){return lt.call(on,f)?!0:lt.call(fn,f)?!1:gn.test(f)?on[f]=!0:(fn[f]=!0,!1)}function kn(f,h,x){if(Hn(h))if(x===null)f.removeAttribute(h);else{switch(typeof x){case"undefined":case"function":case"symbol":f.removeAttribute(h);return;case"boolean":var w=h.toLowerCase().slice(0,5);if(w!=="data-"&&w!=="aria-"){f.removeAttribute(h);return}}f.setAttribute(h,""+x)}}function Vn(f,h,x){if(x===null)f.removeAttribute(h);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":f.removeAttribute(h);return}f.setAttribute(h,""+x)}}function In(f,h,x,w){if(w===null)f.removeAttribute(x);else{switch(typeof w){case"undefined":case"function":case"symbol":case"boolean":f.removeAttribute(x);return}f.setAttributeNS(h,x,""+w)}}function bn(f){switch(typeof f){case"bigint":case"boolean":case"number":case"string":case"undefined":return f;case"object":return f;default:return""}}function cn(f){var h=f.type;return(f=f.nodeName)&&f.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function bi(f){var h=cn(f)?"checked":"value",x=Object.getOwnPropertyDescriptor(f.constructor.prototype,h),w=""+f[h];if(!f.hasOwnProperty(h)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var L=x.get,G=x.set;return Object.defineProperty(f,h,{configurable:!0,get:function(){return L.call(this)},set:function(ne){w=""+ne,G.call(this,ne)}}),Object.defineProperty(f,h,{enumerable:x.enumerable}),{getValue:function(){return w},setValue:function(ne){w=""+ne},stopTracking:function(){f._valueTracker=null,delete f[h]}}}}function jn(f){f._valueTracker||(f._valueTracker=bi(f))}function Gn(f){if(!f)return!1;var h=f._valueTracker;if(!h)return!0;var x=h.getValue(),w="";return f&&(w=cn(f)?f.checked?"true":"false":f.value),f=w,f!==x?(h.setValue(f),!0):!1}function Tn(f){if(f=f||(typeof document<"u"?document:void 0),typeof f>"u")return null;try{return f.activeElement||f.body}catch{return f.body}}var Cn=/[\n"\\]/g;function Zn(f){return f.replace(Cn,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function An(f,h,x,w,L,G,ne,ge){f.name="",ne!=null&&typeof ne!="function"&&typeof ne!="symbol"&&typeof ne!="boolean"?f.type=ne:f.removeAttribute("type"),h!=null?ne==="number"?(h===0&&f.value===""||f.value!=h)&&(f.value=""+bn(h)):f.value!==""+bn(h)&&(f.value=""+bn(h)):ne!=="submit"&&ne!=="reset"||f.removeAttribute("value"),h!=null?Pi(f,ne,bn(h)):x!=null?Pi(f,ne,bn(x)):w!=null&&f.removeAttribute("value"),L==null&&G!=null&&(f.defaultChecked=!!G),L!=null&&(f.checked=L&&typeof L!="function"&&typeof L!="symbol"),ge!=null&&typeof ge!="function"&&typeof ge!="symbol"&&typeof ge!="boolean"?f.name=""+bn(ge):f.removeAttribute("name")}function _i(f,h,x,w,L,G,ne,ge){if(G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"&&(f.type=G),h!=null||x!=null){if(!(G!=="submit"&&G!=="reset"||h!=null))return;x=x!=null?""+bn(x):"",h=h!=null?""+bn(h):x,ge||h===f.value||(f.value=h),f.defaultValue=h}w=w??L,w=typeof w!="function"&&typeof w!="symbol"&&!!w,f.checked=ge?f.checked:!!w,f.defaultChecked=!!w,ne!=null&&typeof ne!="function"&&typeof ne!="symbol"&&typeof ne!="boolean"&&(f.name=ne)}function Pi(f,h,x){h==="number"&&Tn(f.ownerDocument)===f||f.defaultValue===""+x||(f.defaultValue=""+x)}function $i(f,h,x,w){if(f=f.options,h){h={};for(var L=0;L<x.length;L++)h["$"+x[L]]=!0;for(x=0;x<f.length;x++)L=h.hasOwnProperty("$"+f[x].value),f[x].selected!==L&&(f[x].selected=L),L&&w&&(f[x].defaultSelected=!0)}else{for(x=""+bn(x),h=null,L=0;L<f.length;L++){if(f[L].value===x){f[L].selected=!0,w&&(f[L].defaultSelected=!0);return}h!==null||f[L].disabled||(h=f[L])}h!==null&&(h.selected=!0)}}function qi(f,h,x){if(h!=null&&(h=""+bn(h),h!==f.value&&(f.value=h),x==null)){f.defaultValue!==h&&(f.defaultValue=h);return}f.defaultValue=x!=null?""+bn(x):""}function Or(f,h,x,w){if(h==null){if(w!=null){if(x!=null)throw Error(r(92));if(de(w)){if(1<w.length)throw Error(r(93));w=w[0]}x=w}x==null&&(x=""),h=x}x=bn(h),f.defaultValue=x,w=f.textContent,w===x&&w!==""&&w!==null&&(f.value=w)}function Wi(f,h){if(h){var x=f.firstChild;if(x&&x===f.lastChild&&x.nodeType===3){x.nodeValue=h;return}}f.textContent=h}var vo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qa(f,h,x){var w=h.indexOf("--")===0;x==null||typeof x=="boolean"||x===""?w?f.setProperty(h,""):h==="float"?f.cssFloat="":f[h]="":w?f.setProperty(h,x):typeof x!="number"||x===0||vo.has(h)?h==="float"?f.cssFloat=x:f[h]=(""+x).trim():f[h]=x+"px"}function wa(f,h,x){if(h!=null&&typeof h!="object")throw Error(r(62));if(f=f.style,x!=null){for(var w in x)!x.hasOwnProperty(w)||h!=null&&h.hasOwnProperty(w)||(w.indexOf("--")===0?f.setProperty(w,""):w==="float"?f.cssFloat="":f[w]="");for(var L in h)w=h[L],h.hasOwnProperty(L)&&x[L]!==w&&Qa(f,L,w)}else for(var G in h)h.hasOwnProperty(G)&&Qa(f,G,h[G])}function Os(f){if(f.indexOf("-")===-1)return!1;switch(f){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _r(f){return Qc.test(""+f)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":f}var Go=null;function La(f){return f=f.target||f.srcElement||window,f.correspondingUseElement&&(f=f.correspondingUseElement),f.nodeType===3?f.parentNode:f}var ma=null,Aa=null;function Is(f){var h=le(f);if(h&&(f=h.stateNode)){var x=f[un]||null;e:switch(f=h.stateNode,h.type){case"input":if(An(f,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name),h=x.name,x.type==="radio"&&h!=null){for(x=f;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll('input[name="'+Zn(""+h)+'"][type="radio"]'),h=0;h<x.length;h++){var w=x[h];if(w!==f&&w.form===f.form){var L=w[un]||null;if(!L)throw Error(r(90));An(w,L.value,L.defaultValue,L.defaultValue,L.checked,L.defaultChecked,L.type,L.name)}}for(h=0;h<x.length;h++)w=x[h],w.form===f.form&&Gn(w)}break e;case"textarea":qi(f,x.value,x.defaultValue);break e;case"select":h=x.value,h!=null&&$i(f,!!x.multiple,h,!1)}}}var yo=!1;function Vl(f,h,x){if(yo)return f(h,x);yo=!0;try{var w=f(h);return w}finally{if(yo=!1,(ma!==null||Aa!==null)&&(Bf(),ma&&(h=ma,f=Aa,Aa=ma=null,Is(h),f)))for(h=0;h<f.length;h++)Is(f[h])}}function tn(f,h){var x=f.stateNode;if(x===null)return null;var w=x[un]||null;if(w===null)return null;x=w[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(f=f.type,w=!(f==="button"||f==="input"||f==="select"||f==="textarea")),f=!w;break e;default:f=!1}if(f)return null;if(x&&typeof x!="function")throw Error(r(231,h,typeof x));return x}var Sn=!1;if(Wt)try{var Mi={};Object.defineProperty(Mi,"passive",{get:function(){Sn=!0}}),window.addEventListener("test",Mi,Mi),window.removeEventListener("test",Mi,Mi)}catch{Sn=!1}var xi=null,Hi=null,Bs=null;function ko(){if(Bs)return Bs;var f,h=Hi,x=h.length,w,L="value"in xi?xi.value:xi.textContent,G=L.length;for(f=0;f<x&&h[f]===L[f];f++);var ne=x-f;for(w=1;w<=ne&&h[x-w]===L[G-w];w++);return Bs=L.slice(f,1<w?1-w:void 0)}function Na(f){var h=f.keyCode;return"charCode"in f?(f=f.charCode,f===0&&h===13&&(f=13)):f=h,f===10&&(f=13),32<=f||f===13?f:0}function $o(){return!0}function jl(){return!1}function ga(f){function h(x,w,L,G,ne){this._reactName=x,this._targetInst=L,this.type=w,this.nativeEvent=G,this.target=ne,this.currentTarget=null;for(var ge in f)f.hasOwnProperty(ge)&&(x=f[ge],this[ge]=x?x(G):G[ge]);return this.isDefaultPrevented=(G.defaultPrevented!=null?G.defaultPrevented:G.returnValue===!1)?$o:jl,this.isPropagationStopped=jl,this}return z(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=$o)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=$o)},persist:function(){},isPersistent:$o}),h}var sl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(f){return f.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ll=ga(sl),Wl=z({},sl,{view:0,detail:0}),Yh=ga(Wl),Vo,Zc,eu,Za=z({},Wl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cl,button:0,buttons:0,relatedTarget:function(f){return f.relatedTarget===void 0?f.fromElement===f.srcElement?f.toElement:f.fromElement:f.relatedTarget},movementX:function(f){return"movementX"in f?f.movementX:(f!==eu&&(eu&&f.type==="mousemove"?(Vo=f.screenX-eu.screenX,Zc=f.screenY-eu.screenY):Zc=Vo=0,eu=f),Vo)},movementY:function(f){return"movementY"in f?f.movementY:Zc}}),qh=ga(Za),Ym=z({},Za,{dataTransfer:0}),k0=ga(Ym),Jr=z({},Wl,{relatedTarget:0}),cf=ga(Jr),va=z({},sl,{animationName:0,elapsedTime:0,pseudoElement:0}),qm=ga(va),Km=z({},sl,{clipboardData:function(f){return"clipboardData"in f?f.clipboardData:window.clipboardData}}),Jm=ga(Km),uf=z({},sl,{data:0}),_d=ga(uf),Qm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xd(f){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(f):(f=eg[f])?!!h[f]:!1}function cl(){return xd}var ul=z({},Wl,{key:function(f){if(f.key){var h=Qm[f.key]||f.key;if(h!=="Unidentified")return h}return f.type==="keypress"?(f=Na(f),f===13?"Enter":String.fromCharCode(f)):f.type==="keydown"||f.type==="keyup"?Zm[f.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cl,charCode:function(f){return f.type==="keypress"?Na(f):0},keyCode:function(f){return f.type==="keydown"||f.type==="keyup"?f.keyCode:0},which:function(f){return f.type==="keypress"?Na(f):f.type==="keydown"||f.type==="keyup"?f.keyCode:0}}),tu=ga(ul),Kh=z({},Za,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ff=ga(Kh),Jh=z({},Wl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cl}),Cd=ga(Jh),nu=z({},sl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ds=ga(nu),Qh=z({},Za,{deltaX:function(f){return"deltaX"in f?f.deltaX:"wheelDeltaX"in f?-f.wheelDeltaX:0},deltaY:function(f){return"deltaY"in f?f.deltaY:"wheelDeltaY"in f?-f.wheelDeltaY:"wheelDelta"in f?-f.wheelDelta:0},deltaZ:0,deltaMode:0}),$0=ga(Qh),tg=z({},sl,{newState:0,oldState:0}),fl=ga(tg),Ps=[9,13,27,32],Xl=Wt&&"CompositionEvent"in window,Yl=null;Wt&&"documentMode"in document&&(Yl=document.documentMode);var dl=Wt&&"TextEvent"in window&&!Yl,df=Wt&&(!Xl||Yl&&8<Yl&&11>=Yl),cs=" ",sa=!1;function hf(f,h){switch(f){case"keyup":return Ps.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ed(f){return f=f.detail,typeof f=="object"&&"data"in f?f.data:null}var bo=!1;function So(f,h){switch(f){case"compositionend":return Ed(h);case"keypress":return h.which!==32?null:(sa=!0,cs);case"textInput":return f=h.data,f===cs&&sa?null:f;default:return null}}function wd(f,h){if(bo)return f==="compositionend"||!Xl&&hf(f,h)?(f=ko(),Bs=Hi=xi=null,bo=!1,f):null;switch(f){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return df&&h.locale!=="ko"?null:h.data;default:return null}}var iu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zh(f){var h=f&&f.nodeName&&f.nodeName.toLowerCase();return h==="input"?!!iu[f.type]:h==="textarea"}function za(f,h,x,w){ma?Aa?Aa.push(w):Aa=[w]:ma=w,h=J_(h,"onChange"),0<h.length&&(x=new ll("onChange","change",null,x,w),f.push({event:x,listeners:h}))}var ru=null,ql=null;function ng(f){_B(f,0)}function pf(f){var h=Ue(f);if(Gn(h))return f}function Ad(f,h){if(f==="change")return h}var Md=!1;if(Wt){var Td;if(Wt){var au="oninput"in document;if(!au){var B=document.createElement("div");B.setAttribute("oninput","return;"),au=typeof B.oninput=="function"}Td=au}else Td=!1;Md=Td&&(!document.documentMode||9<document.documentMode)}function I(){ru&&(ru.detachEvent("onpropertychange",H),ql=ru=null)}function H(f){if(f.propertyName==="value"&&pf(ql)){var h=[];za(h,ql,f,La(f)),Vl(ng,h)}}function V(f,h,x){f==="focusin"?(I(),ru=h,ql=x,ru.attachEvent("onpropertychange",H)):f==="focusout"&&I()}function X(f){if(f==="selectionchange"||f==="keyup"||f==="keydown")return pf(ql)}function te(f,h){if(f==="click")return pf(h)}function se(f,h){if(f==="input"||f==="change")return pf(h)}function pe(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var ye=typeof Object.is=="function"?Object.is:pe;function Pe(f,h){if(ye(f,h))return!0;if(typeof f!="object"||f===null||typeof h!="object"||h===null)return!1;var x=Object.keys(f),w=Object.keys(h);if(x.length!==w.length)return!1;for(w=0;w<x.length;w++){var L=x[w];if(!lt.call(h,L)||!ye(f[L],h[L]))return!1}return!0}function Ee(f){for(;f&&f.firstChild;)f=f.firstChild;return f}function Ke(f,h){var x=Ee(f);f=0;for(var w;x;){if(x.nodeType===3){if(w=f+x.textContent.length,f<=h&&w>=h)return{node:x,offset:h-f};f=w}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=Ee(x)}}function yt(f,h){return f&&h?f===h?!0:f&&f.nodeType===3?!1:h&&h.nodeType===3?yt(f,h.parentNode):"contains"in f?f.contains(h):f.compareDocumentPosition?!!(f.compareDocumentPosition(h)&16):!1:!1}function zt(f){f=f!=null&&f.ownerDocument!=null&&f.ownerDocument.defaultView!=null?f.ownerDocument.defaultView:window;for(var h=Tn(f.document);h instanceof f.HTMLIFrameElement;){try{var x=typeof h.contentWindow.location.href=="string"}catch{x=!1}if(x)f=h.contentWindow;else break;h=Tn(f.document)}return h}function Bt(f){var h=f&&f.nodeName&&f.nodeName.toLowerCase();return h&&(h==="input"&&(f.type==="text"||f.type==="search"||f.type==="tel"||f.type==="url"||f.type==="password")||h==="textarea"||f.contentEditable==="true")}function kt(f,h){var x=zt(h);h=f.focusedElem;var w=f.selectionRange;if(x!==h&&h&&h.ownerDocument&&yt(h.ownerDocument.documentElement,h)){if(w!==null&&Bt(h)){if(f=w.start,x=w.end,x===void 0&&(x=f),"selectionStart"in h)h.selectionStart=f,h.selectionEnd=Math.min(x,h.value.length);else if(x=(f=h.ownerDocument||document)&&f.defaultView||window,x.getSelection){x=x.getSelection();var L=h.textContent.length,G=Math.min(w.start,L);w=w.end===void 0?G:Math.min(w.end,L),!x.extend&&G>w&&(L=w,w=G,G=L),L=Ke(h,G);var ne=Ke(h,w);L&&ne&&(x.rangeCount!==1||x.anchorNode!==L.node||x.anchorOffset!==L.offset||x.focusNode!==ne.node||x.focusOffset!==ne.offset)&&(f=f.createRange(),f.setStart(L.node,L.offset),x.removeAllRanges(),G>w?(x.addRange(f),x.extend(ne.node,ne.offset)):(f.setEnd(ne.node,ne.offset),x.addRange(f)))}}for(f=[],x=h;x=x.parentNode;)x.nodeType===1&&f.push({element:x,left:x.scrollLeft,top:x.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<f.length;h++)x=f[h],x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}var an=Wt&&"documentMode"in document&&11>=document.documentMode,Zt=null,hn=null,Ln=null,ei=!1;function pn(f,h,x){var w=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;ei||Zt==null||Zt!==Tn(w)||(w=Zt,"selectionStart"in w&&Bt(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),Ln&&Pe(Ln,w)||(Ln=w,w=J_(hn,"onSelect"),0<w.length&&(h=new ll("onSelect","select",null,h,x),f.push({event:h,listeners:w}),h.target=Zt)))}function Rn(f,h){var x={};return x[f.toLowerCase()]=h.toLowerCase(),x["Webkit"+f]="webkit"+h,x["Moz"+f]="moz"+h,x}var Ar={animationend:Rn("Animation","AnimationEnd"),animationiteration:Rn("Animation","AnimationIteration"),animationstart:Rn("Animation","AnimationStart"),transitionrun:Rn("Transition","TransitionRun"),transitionstart:Rn("Transition","TransitionStart"),transitioncancel:Rn("Transition","TransitionCancel"),transitionend:Rn("Transition","TransitionEnd")},Ki={},ya={};Wt&&(ya=document.createElement("div").style,"AnimationEvent"in window||(delete Ar.animationend.animation,delete Ar.animationiteration.animation,delete Ar.animationstart.animation),"TransitionEvent"in window||delete Ar.transitionend.transition);function Li(f){if(Ki[f])return Ki[f];if(!Ar[f])return f;var h=Ar[f],x;for(x in h)if(h.hasOwnProperty(x)&&x in ya)return Ki[f]=h[x];return f}var jo=Li("animationend"),la=Li("animationiteration"),Kl=Li("animationstart"),Jl=Li("transitionrun"),Rd=Li("transitionstart"),ou=Li("transitioncancel"),ig=Li("transitionend"),rg=new Map,Ql="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function us(f,h){rg.set(f,h),Vt(h,[f])}var Ma=[],hl=0,Zl=0;function ep(){for(var f=hl,h=Zl=hl=0;h<f;){var x=Ma[h];Ma[h++]=null;var w=Ma[h];Ma[h++]=null;var L=Ma[h];Ma[h++]=null;var G=Ma[h];if(Ma[h++]=null,w!==null&&L!==null){var ne=w.pending;ne===null?L.next=L:(L.next=ne.next,ne.next=L),w.pending=L}G!==0&&np(x,L,G)}}function tp(f,h,x,w){Ma[hl++]=f,Ma[hl++]=h,Ma[hl++]=x,Ma[hl++]=w,Zl|=w,f.lanes|=w,f=f.alternate,f!==null&&(f.lanes|=w)}function mf(f,h,x,w){return tp(f,h,x,w),ip(f)}function ec(f,h){return tp(f,null,null,h),ip(f)}function np(f,h,x){f.lanes|=x;var w=f.alternate;w!==null&&(w.lanes|=x);for(var L=!1,G=f.return;G!==null;)G.childLanes|=x,w=G.alternate,w!==null&&(w.childLanes|=x),G.tag===22&&(f=G.stateNode,f===null||f._visibility&1||(L=!0)),f=G,G=G.return;L&&h!==null&&f.tag===3&&(G=f.stateNode,L=31-Ge(x),G=G.hiddenUpdates,f=G[L],f===null?G[L]=[h]:f.push(h),h.lane=x|536870912)}function ip(f){if(50<Ss)throw Ss=0,_c=null,Error(r(185));for(var h=f.return;h!==null;)f=h,h=f.return;return f.tag===3?f.stateNode:null}var su={},ag=new WeakMap;function _o(f,h){if(typeof f=="object"&&f!==null){var x=ag.get(f);return x!==void 0?x:(h={value:f,source:h,stack:K(h)},ag.set(f,h),h)}return{value:f,source:h,stack:K(h)}}var gf=[],lu=0,Ua=null,rp=0,ur=[],Wo=0,tc=null,pl=1,nc="";function eo(f,h){gf[lu++]=rp,gf[lu++]=Ua,Ua=f,rp=h}function V0(f,h,x){ur[Wo++]=pl,ur[Wo++]=nc,ur[Wo++]=tc,tc=f;var w=pl;f=nc;var L=32-Ge(w)-1;w&=~(1<<L),x+=1;var G=32-Ge(h)+L;if(30<G){var ne=L-L%5;G=(w&(1<<ne)-1).toString(32),w>>=ne,L-=ne,pl=1<<32-Ge(h)+L|x<<L|w,nc=G+f}else pl=1<<G|x<<L|w,nc=f}function ap(f){f.return!==null&&(eo(f,1),V0(f,1,0))}function cu(f){for(;f===Ua;)Ua=gf[--lu],gf[lu]=null,rp=gf[--lu],gf[lu]=null;for(;f===tc;)tc=ur[--Wo],ur[Wo]=null,nc=ur[--Wo],ur[Wo]=null,pl=ur[--Wo],ur[Wo]=null}var Fa=null,ba=null,Ti=!1,fs=null,ds=!1,op=Error(r(519));function vf(f){var h=Error(r(418,""));throw ml(_o(h,f)),op}function n_(f){var h=f.stateNode,x=f.type,w=f.memoizedProps;switch(h[Qn]=f,h[un]=w,x){case"dialog":Oi("cancel",h),Oi("close",h);break;case"iframe":case"object":case"embed":Oi("load",h);break;case"video":case"audio":for(x=0;x<Ey.length;x++)Oi(Ey[x],h);break;case"source":Oi("error",h);break;case"img":case"image":case"link":Oi("error",h),Oi("load",h);break;case"details":Oi("toggle",h);break;case"input":Oi("invalid",h),_i(h,w.value,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name,!0),jn(h);break;case"select":Oi("invalid",h);break;case"textarea":Oi("invalid",h),Or(h,w.value,w.defaultValue,w.children),jn(h)}x=w.children,typeof x!="string"&&typeof x!="number"&&typeof x!="bigint"||h.textContent===""+x||w.suppressHydrationWarning===!0||wB(h.textContent,x)?(w.popover!=null&&(Oi("beforetoggle",h),Oi("toggle",h)),w.onScroll!=null&&Oi("scroll",h),w.onScrollEnd!=null&&Oi("scrollend",h),w.onClick!=null&&(h.onclick=Q_),h=!0):h=!1,h||vf(f)}function i_(f){for(Fa=f.return;Fa;)switch(Fa.tag){case 3:case 27:ds=!0;return;case 5:case 13:ds=!1;return;default:Fa=Fa.return}}function Od(f){if(f!==Fa)return!1;if(!Ti)return i_(f),Ti=!0,!1;var h=!1,x;if((x=f.tag!==3&&f.tag!==27)&&((x=f.tag===5)&&(x=f.type,x=!(x!=="form"&&x!=="button")||UA(f.type,f.memoizedProps)),x=!x),x&&(h=!0),h&&ba&&vf(f),i_(f),f.tag===13){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));e:{for(f=f.nextSibling,h=0;f;){if(f.nodeType===8)if(x=f.data,x==="/$"){if(h===0){ba=Cc(f.nextSibling);break e}h--}else x!=="$"&&x!=="$!"&&x!=="$?"||h++;f=f.nextSibling}ba=null}}else ba=Fa?Cc(f.stateNode.nextSibling):null;return!0}function Id(){ba=Fa=null,Ti=!1}function ml(f){fs===null?fs=[f]:fs.push(f)}var uu=Error(r(460)),j0=Error(r(474)),og={then:function(){}};function r_(f){return f=f.status,f==="fulfilled"||f==="rejected"}function sp(){}function fu(f,h,x){switch(x=f[x],x===void 0?f.push(h):x!==h&&(h.then(sp,sp),h=x),h.status){case"fulfilled":return h.value;case"rejected":throw f=h.reason,f===uu?Error(r(483)):f;default:if(typeof h.status=="string")h.then(sp,sp);else{if(f=Qi,f!==null&&100<f.shellSuspendCounter)throw Error(r(482));f=h,f.status="pending",f.then(function(w){if(h.status==="pending"){var L=h;L.status="fulfilled",L.value=w}},function(w){if(h.status==="pending"){var L=h;L.status="rejected",L.reason=w}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw f=h.reason,f===uu?Error(r(483)):f}throw Bd=h,uu}}var Bd=null;function Vi(){if(Bd===null)throw Error(r(459));var f=Bd;return Bd=null,f}var du=null,lp=0;function cp(f){var h=lp;return lp+=1,du===null&&(du=[]),fu(du,f,h)}function up(f,h){h=h.props.ref,f.ref=h!==void 0?h:null}function sg(f,h){throw h.$$typeof===o?Error(r(525)):(f=Object.prototype.toString.call(h),Error(r(31,f==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":f)))}function a_(f){var h=f._init;return h(f._payload)}function o_(f){function h(tt,Ve){if(f){var ct=tt.deletions;ct===null?(tt.deletions=[Ve],tt.flags|=16):ct.push(Ve)}}function x(tt,Ve){if(!f)return null;for(;Ve!==null;)h(tt,Ve),Ve=Ve.sibling;return null}function w(tt){for(var Ve=new Map;tt!==null;)tt.key!==null?Ve.set(tt.key,tt):Ve.set(tt.index,tt),tt=tt.sibling;return Ve}function L(tt,Ve){return tt=ro(tt,Ve),tt.index=0,tt.sibling=null,tt}function G(tt,Ve,ct){return tt.index=ct,f?(ct=tt.alternate,ct!==null?(ct=ct.index,ct<Ve?(tt.flags|=33554434,Ve):ct):(tt.flags|=33554434,Ve)):(tt.flags|=1048576,Ve)}function ne(tt){return f&&tt.alternate===null&&(tt.flags|=33554434),tt}function ge(tt,Ve,ct,Rt){return Ve===null||Ve.tag!==6?(Ve=ta(ct,tt.mode,Rt),Ve.return=tt,Ve):(Ve=L(Ve,ct),Ve.return=tt,Ve)}function Re(tt,Ve,ct,Rt){var dn=ct.type;return dn===u?At(tt,Ve,ct.props.children,Rt,ct.key):Ve!==null&&(Ve.elementType===dn||typeof dn=="object"&&dn!==null&&dn.$$typeof===E&&a_(dn)===Ve.type)?(Ve=L(Ve,ct.props),up(Ve,ct),Ve.return=tt,Ve):(Ve=Xd(ct.type,ct.key,ct.props,null,tt.mode,Rt),up(Ve,ct),Ve.return=tt,Ve)}function Xe(tt,Ve,ct,Rt){return Ve===null||Ve.tag!==4||Ve.stateNode.containerInfo!==ct.containerInfo||Ve.stateNode.implementation!==ct.implementation?(Ve=xp(ct,tt.mode,Rt),Ve.return=tt,Ve):(Ve=L(Ve,ct.children||[]),Ve.return=tt,Ve)}function At(tt,Ve,ct,Rt,dn){return Ve===null||Ve.tag!==7?(Ve=Iu(ct,tt.mode,Rt,dn),Ve.return=tt,Ve):(Ve=L(Ve,ct),Ve.return=tt,Ve)}function Ut(tt,Ve,ct){if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number"||typeof Ve=="bigint")return Ve=ta(""+Ve,tt.mode,ct),Ve.return=tt,Ve;if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case l:return ct=Xd(Ve.type,Ve.key,Ve.props,null,tt.mode,ct),up(ct,Ve),ct.return=tt,ct;case s:return Ve=xp(Ve,tt.mode,ct),Ve.return=tt,Ve;case E:var Rt=Ve._init;return Ve=Rt(Ve._payload),Ut(tt,Ve,ct)}if(de(Ve)||D(Ve))return Ve=Iu(Ve,tt.mode,ct,null),Ve.return=tt,Ve;if(typeof Ve.then=="function")return Ut(tt,cp(Ve),ct);if(Ve.$$typeof===C)return Ut(tt,Eg(tt,Ve),ct);sg(tt,Ve)}return null}function dt(tt,Ve,ct,Rt){var dn=Ve!==null?Ve.key:null;if(typeof ct=="string"&&ct!==""||typeof ct=="number"||typeof ct=="bigint")return dn!==null?null:ge(tt,Ve,""+ct,Rt);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case l:return ct.key===dn?Re(tt,Ve,ct,Rt):null;case s:return ct.key===dn?Xe(tt,Ve,ct,Rt):null;case E:return dn=ct._init,ct=dn(ct._payload),dt(tt,Ve,ct,Rt)}if(de(ct)||D(ct))return dn!==null?null:At(tt,Ve,ct,Rt,null);if(typeof ct.then=="function")return dt(tt,Ve,cp(ct),Rt);if(ct.$$typeof===C)return dt(tt,Ve,Eg(tt,ct),Rt);sg(tt,ct)}return null}function Et(tt,Ve,ct,Rt,dn){if(typeof Rt=="string"&&Rt!==""||typeof Rt=="number"||typeof Rt=="bigint")return tt=tt.get(ct)||null,ge(Ve,tt,""+Rt,dn);if(typeof Rt=="object"&&Rt!==null){switch(Rt.$$typeof){case l:return tt=tt.get(Rt.key===null?ct:Rt.key)||null,Re(Ve,tt,Rt,dn);case s:return tt=tt.get(Rt.key===null?ct:Rt.key)||null,Xe(Ve,tt,Rt,dn);case E:var yi=Rt._init;return Rt=yi(Rt._payload),Et(tt,Ve,ct,Rt,dn)}if(de(Rt)||D(Rt))return tt=tt.get(ct)||null,At(Ve,tt,Rt,dn,null);if(typeof Rt.then=="function")return Et(tt,Ve,ct,cp(Rt),dn);if(Rt.$$typeof===C)return Et(tt,Ve,ct,Eg(Ve,Rt),dn);sg(Ve,Rt)}return null}function xn(tt,Ve,ct,Rt){for(var dn=null,yi=null,En=Ve,Fn=Ve=0,Wa=null;En!==null&&Fn<ct.length;Fn++){En.index>Fn?(Wa=En,En=null):Wa=En.sibling;var ji=dt(tt,En,ct[Fn],Rt);if(ji===null){En===null&&(En=Wa);break}f&&En&&ji.alternate===null&&h(tt,En),Ve=G(ji,Ve,Fn),yi===null?dn=ji:yi.sibling=ji,yi=ji,En=Wa}if(Fn===ct.length)return x(tt,En),Ti&&eo(tt,Fn),dn;if(En===null){for(;Fn<ct.length;Fn++)En=Ut(tt,ct[Fn],Rt),En!==null&&(Ve=G(En,Ve,Fn),yi===null?dn=En:yi.sibling=En,yi=En);return Ti&&eo(tt,Fn),dn}for(En=w(En);Fn<ct.length;Fn++)Wa=Et(En,tt,Fn,ct[Fn],Rt),Wa!==null&&(f&&Wa.alternate!==null&&En.delete(Wa.key===null?Fn:Wa.key),Ve=G(Wa,Ve,Fn),yi===null?dn=Wa:yi.sibling=Wa,yi=Wa);return f&&En.forEach(function(nh){return h(tt,nh)}),Ti&&eo(tt,Fn),dn}function Kn(tt,Ve,ct,Rt){if(ct==null)throw Error(r(151));for(var dn=null,yi=null,En=Ve,Fn=Ve=0,Wa=null,ji=ct.next();En!==null&&!ji.done;Fn++,ji=ct.next()){En.index>Fn?(Wa=En,En=null):Wa=En.sibling;var nh=dt(tt,En,ji.value,Rt);if(nh===null){En===null&&(En=Wa);break}f&&En&&nh.alternate===null&&h(tt,En),Ve=G(nh,Ve,Fn),yi===null?dn=nh:yi.sibling=nh,yi=nh,En=Wa}if(ji.done)return x(tt,En),Ti&&eo(tt,Fn),dn;if(En===null){for(;!ji.done;Fn++,ji=ct.next())ji=Ut(tt,ji.value,Rt),ji!==null&&(Ve=G(ji,Ve,Fn),yi===null?dn=ji:yi.sibling=ji,yi=ji);return Ti&&eo(tt,Fn),dn}for(En=w(En);!ji.done;Fn++,ji=ct.next())ji=Et(En,tt,Fn,ji.value,Rt),ji!==null&&(f&&ji.alternate!==null&&En.delete(ji.key===null?Fn:ji.key),Ve=G(ji,Ve,Fn),yi===null?dn=ji:yi.sibling=ji,yi=ji);return f&&En.forEach(function(mk){return h(tt,mk)}),Ti&&eo(tt,Fn),dn}function ra(tt,Ve,ct,Rt){if(typeof ct=="object"&&ct!==null&&ct.type===u&&ct.key===null&&(ct=ct.props.children),typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case l:e:{for(var dn=ct.key;Ve!==null;){if(Ve.key===dn){if(dn=ct.type,dn===u){if(Ve.tag===7){x(tt,Ve.sibling),Rt=L(Ve,ct.props.children),Rt.return=tt,tt=Rt;break e}}else if(Ve.elementType===dn||typeof dn=="object"&&dn!==null&&dn.$$typeof===E&&a_(dn)===Ve.type){x(tt,Ve.sibling),Rt=L(Ve,ct.props),up(Rt,ct),Rt.return=tt,tt=Rt;break e}x(tt,Ve);break}else h(tt,Ve);Ve=Ve.sibling}ct.type===u?(Rt=Iu(ct.props.children,tt.mode,Rt,ct.key),Rt.return=tt,tt=Rt):(Rt=Xd(ct.type,ct.key,ct.props,null,tt.mode,Rt),up(Rt,ct),Rt.return=tt,tt=Rt)}return ne(tt);case s:e:{for(dn=ct.key;Ve!==null;){if(Ve.key===dn)if(Ve.tag===4&&Ve.stateNode.containerInfo===ct.containerInfo&&Ve.stateNode.implementation===ct.implementation){x(tt,Ve.sibling),Rt=L(Ve,ct.children||[]),Rt.return=tt,tt=Rt;break e}else{x(tt,Ve);break}else h(tt,Ve);Ve=Ve.sibling}Rt=xp(ct,tt.mode,Rt),Rt.return=tt,tt=Rt}return ne(tt);case E:return dn=ct._init,ct=dn(ct._payload),ra(tt,Ve,ct,Rt)}if(de(ct))return xn(tt,Ve,ct,Rt);if(D(ct)){if(dn=D(ct),typeof dn!="function")throw Error(r(150));return ct=dn.call(ct),Kn(tt,Ve,ct,Rt)}if(typeof ct.then=="function")return ra(tt,Ve,cp(ct),Rt);if(ct.$$typeof===C)return ra(tt,Ve,Eg(tt,ct),Rt);sg(tt,ct)}return typeof ct=="string"&&ct!==""||typeof ct=="number"||typeof ct=="bigint"?(ct=""+ct,Ve!==null&&Ve.tag===6?(x(tt,Ve.sibling),Rt=L(Ve,ct),Rt.return=tt,tt=Rt):(x(tt,Ve),Rt=ta(ct,tt.mode,Rt),Rt.return=tt,tt=Rt),ne(tt)):x(tt,Ve)}return function(tt,Ve,ct,Rt){try{lp=0;var dn=ra(tt,Ve,ct,Rt);return du=null,dn}catch(En){if(En===uu)throw En;var yi=$r(29,En,null,tt.mode);return yi.lanes=Rt,yi.return=tt,yi}finally{}}}var ic=o_(!0),rc=o_(!1),yf=Ae(null),bf=Ae(0);function hu(f,h){f=Sc,ze(bf,f),ze(yf,h),Sc=f|h.baseLanes}function lg(){ze(bf,Sc),ze(yf,yf.current)}function fp(){Sc=bf.current,Te(yf),Te(bf)}var xo=Ae(null),gl=null;function ac(f){var h=f.alternate;ze(Qr,Qr.current&1),ze(xo,f),gl===null&&(h===null||yf.current!==null||h.memoizedState!==null)&&(gl=f)}function W0(f){if(f.tag===22){if(ze(Qr,Qr.current),ze(xo,f),gl===null){var h=f.alternate;h!==null&&h.memoizedState!==null&&(gl=f)}}else oc()}function oc(){ze(Qr,Qr.current),ze(xo,xo.current)}function vl(f){Te(xo),gl===f&&(gl=null),Te(Qr)}var Qr=Ae(0);function Dd(f){for(var h=f;h!==null;){if(h.tag===13){var x=h.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||x.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===f)break;for(;h.sibling===null;){if(h.return===null||h.return===f)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var pi=typeof AbortController<"u"?AbortController:function(){var f=[],h=this.signal={aborted:!1,addEventListener:function(x,w){f.push(w)}};this.abort=function(){h.aborted=!0,f.forEach(function(x){return x()})}},bA=n.unstable_scheduleCallback,Xo=n.unstable_NormalPriority,zr={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function X0(){return{controller:new pi,data:new Map,refCount:0}}function pu(f){f.refCount--,f.refCount===0&&bA(Xo,function(){f.controller.abort()})}var yl=null,mu=0,Sf=0,gu=null;function SA(f,h){if(yl===null){var x=yl=[];mu=0,Sf=RA(),gu={status:"pending",value:void 0,then:function(w){x.push(w)}}}return mu++,h.then(Y0,Y0),h}function Y0(){if(--mu===0&&yl!==null){gu!==null&&(gu.status="fulfilled");var f=yl;yl=null,Sf=0,gu=null;for(var h=0;h<f.length;h++)(0,f[h])()}}function vu(f,h){var x=[],w={status:"pending",value:null,reason:null,then:function(L){x.push(L)}};return f.then(function(){w.status="fulfilled",w.value=h;for(var L=0;L<x.length;L++)(0,x[L])(h)},function(L){for(w.status="rejected",w.reason=L,L=0;L<x.length;L++)(0,x[L])(void 0)}),w}var cg=U.S;U.S=function(f,h){typeof h=="object"&&h!==null&&typeof h.then=="function"&&SA(f,h),cg!==null&&cg(f,h)};var sc=Ae(null);function dp(){var f=sc.current;return f!==null?f:Qi.pooledCache}function Pd(f,h){h===null?ze(sc,sc.current):ze(sc,h.pool)}function lc(){var f=dp();return f===null?null:{parent:zr._currentValue,pool:f}}var cc=0,si=null,Xi=null,Zr=null,Un=!1,yu=!1,bu=!1,Ld=0,Su=0,Nd=null,_A=0;function Ir(){throw Error(r(321))}function _f(f,h){if(h===null)return!1;for(var x=0;x<h.length&&x<f.length;x++)if(!ye(f[x],h[x]))return!1;return!0}function q0(f,h,x,w,L,G){return cc=G,si=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,U.H=f===null||f.memoizedState===null?xu:fc,bu=!1,G=x(w,L),bu=!1,yu&&(G=l_(h,x,w,L)),s_(f),G}function s_(f){U.H=Sl;var h=Xi!==null&&Xi.next!==null;if(cc=0,Zr=Xi=si=null,Un=!1,Su=0,Nd=null,h)throw Error(r(300));f===null||ca||(f=f.dependencies,f!==null&&Gd(f)&&(ca=!0))}function l_(f,h,x,w){si=f;var L=0;do{if(yu&&(Nd=null),Su=0,yu=!1,25<=L)throw Error(r(301));if(L+=1,Zr=Xi=null,f.updateQueue!=null){var G=f.updateQueue;G.lastEffect=null,G.events=null,G.stores=null,G.memoCache!=null&&(G.memoCache.index=0)}U.H=Ef,G=h(x,w)}while(yu);return G}function xA(){var f=U.H,h=f.useState()[0];return h=typeof h.then=="function"?pp(h):h,f=f.useState()[0],(Xi!==null?Xi.memoizedState:null)!==f&&(si.flags|=1024),h}function K0(){var f=Ld!==0;return Ld=0,f}function hp(f,h,x){h.updateQueue=f.updateQueue,h.flags&=-2053,f.lanes&=~x}function ug(f){if(Un){for(f=f.memoizedState;f!==null;){var h=f.queue;h!==null&&(h.pending=null),f=f.next}Un=!1}cc=0,Zr=Xi=si=null,yu=!1,Su=Ld=0,Nd=null}function Ta(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zr===null?si.memoizedState=Zr=f:Zr=Zr.next=f,Zr}function Ur(){if(Xi===null){var f=si.alternate;f=f!==null?f.memoizedState:null}else f=Xi.next;var h=Zr===null?si.memoizedState:Zr.next;if(h!==null)Zr=h,Xi=f;else{if(f===null)throw si.alternate===null?Error(r(467)):Error(r(310));Xi=f,f={memoizedState:Xi.memoizedState,baseState:Xi.baseState,baseQueue:Xi.baseQueue,queue:Xi.queue,next:null},Zr===null?si.memoizedState=Zr=f:Zr=Zr.next=f}return Zr}var fg;fg=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function pp(f){var h=Su;return Su+=1,Nd===null&&(Nd=[]),f=fu(Nd,f,h),h=si,(Zr===null?h.memoizedState:Zr.next)===null&&(h=h.alternate,U.H=h===null||h.memoizedState===null?xu:fc),f}function zd(f){if(f!==null&&typeof f=="object"){if(typeof f.then=="function")return pp(f);if(f.$$typeof===C)return Ha(f)}throw Error(r(438,String(f)))}function Ls(f){var h=null,x=si.updateQueue;if(x!==null&&(h=x.memoCache),h==null){var w=si.alternate;w!==null&&(w=w.updateQueue,w!==null&&(w=w.memoCache,w!=null&&(h={data:w.data.map(function(L){return L.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),x===null&&(x=fg(),si.updateQueue=x),x.memoCache=h,x=h.data[h.index],x===void 0)for(x=h.data[h.index]=Array(f),w=0;w<f;w++)x[w]=R;return h.index++,x}function xr(f,h){return typeof h=="function"?h(f):h}function Ns(f){var h=Ur();return Co(h,Xi,f)}function Co(f,h,x){var w=f.queue;if(w===null)throw Error(r(311));w.lastRenderedReducer=x;var L=f.baseQueue,G=w.pending;if(G!==null){if(L!==null){var ne=L.next;L.next=G.next,G.next=ne}h.baseQueue=L=G,w.pending=null}if(G=f.baseState,L===null)f.memoizedState=G;else{h=L.next;var ge=ne=null,Re=null,Xe=h,At=!1;do{var Ut=Xe.lane&-536870913;if(Ut!==Xe.lane?(On&Ut)===Ut:(cc&Ut)===Ut){var dt=Xe.revertLane;if(dt===0)Re!==null&&(Re=Re.next={lane:0,revertLane:0,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null}),Ut===Sf&&(At=!0);else if((cc&dt)===dt){Xe=Xe.next,dt===Sf&&(At=!0);continue}else Ut={lane:0,revertLane:Xe.revertLane,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null},Re===null?(ge=Re=Ut,ne=G):Re=Re.next=Ut,si.lanes|=dt,$s|=dt;Ut=Xe.action,bu&&x(G,Ut),G=Xe.hasEagerState?Xe.eagerState:x(G,Ut)}else dt={lane:Ut,revertLane:Xe.revertLane,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null},Re===null?(ge=Re=dt,ne=G):Re=Re.next=dt,si.lanes|=Ut,$s|=Ut;Xe=Xe.next}while(Xe!==null&&Xe!==h);if(Re===null?ne=G:Re.next=ge,!ye(G,f.memoizedState)&&(ca=!0,At&&(x=gu,x!==null)))throw x;f.memoizedState=G,f.baseState=ne,f.baseQueue=Re,w.lastRenderedState=G}return L===null&&(w.lanes=0),[f.memoizedState,w.dispatch]}function dg(f){var h=Ur(),x=h.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=f;var w=x.dispatch,L=x.pending,G=h.memoizedState;if(L!==null){x.pending=null;var ne=L=L.next;do G=f(G,ne.action),ne=ne.next;while(ne!==L);ye(G,h.memoizedState)||(ca=!0),h.memoizedState=G,h.baseQueue===null&&(h.baseState=G),x.lastRenderedState=G}return[G,w]}function c_(f,h,x){var w=si,L=Ur(),G=Ti;if(G){if(x===void 0)throw Error(r(407));x=x()}else x=h();var ne=!ye((Xi||L).memoizedState,x);if(ne&&(L.memoizedState=x,ca=!0),L=L.queue,ey(u_.bind(null,w,L,f),[f]),L.getSnapshot!==h||ne||Zr!==null&&Zr.memoizedState.tag&1){if(w.flags|=2048,bl(9,_u.bind(null,w,L,x,h),{destroy:void 0},null),Qi===null)throw Error(r(349));G||(cc&60)!==0||to(w,h,x)}return x}function to(f,h,x){f.flags|=16384,f={getSnapshot:h,value:x},h=si.updateQueue,h===null?(h=fg(),si.updateQueue=h,h.stores=[f]):(x=h.stores,x===null?h.stores=[f]:x.push(f))}function _u(f,h,x,w){h.value=x,h.getSnapshot=w,f_(h)&&d_(f)}function u_(f,h,x){return x(function(){f_(h)&&d_(f)})}function f_(f){var h=f.getSnapshot;f=f.value;try{var x=h();return!ye(f,x)}catch{return!0}}function d_(f){var h=ec(f,2);h!==null&&ia(h,f,2)}function J0(f){var h=Ta();if(typeof f=="function"){var x=f;if(f=x(),bu){Se(!0);try{x()}finally{Se(!1)}}}return h.memoizedState=h.baseState=f,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xr,lastRenderedState:f},h}function Q0(f,h,x,w){return f.baseState=x,Co(f,Xi,typeof w=="function"?w:xr)}function CA(f,h,x,w,L){if(vg(f))throw Error(r(485));if(f=h.action,f!==null){var G={payload:L,action:f,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ne){G.listeners.push(ne)}};U.T!==null?x(!0):G.isTransition=!1,w(G),x=h.pending,x===null?(G.next=h.pending=G,Z0(h,G)):(G.next=x.next,h.pending=x.next=G)}}function Z0(f,h){var x=h.action,w=h.payload,L=f.state;if(h.isTransition){var G=U.T,ne={};U.T=ne;try{var ge=x(L,w),Re=U.S;Re!==null&&Re(ne,ge),h_(f,h,ge)}catch(Xe){uc(f,h,Xe)}finally{U.T=G}}else try{G=x(L,w),h_(f,h,G)}catch(Xe){uc(f,h,Xe)}}function h_(f,h,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(w){xf(f,h,w)},function(w){return uc(f,h,w)}):xf(f,h,x)}function xf(f,h,x){h.status="fulfilled",h.value=x,p_(h),f.state=x,h=f.pending,h!==null&&(x=h.next,x===h?f.pending=null:(x=x.next,h.next=x,Z0(f,x)))}function uc(f,h,x){var w=f.pending;if(f.pending=null,w!==null){w=w.next;do h.status="rejected",h.reason=x,p_(h),h=h.next;while(h!==w)}f.action=null}function p_(f){f=f.listeners;for(var h=0;h<f.length;h++)(0,f[h])()}function m_(f,h){return h}function g_(f,h){if(Ti){var x=Qi.formState;if(x!==null){e:{var w=si;if(Ti){if(ba){t:{for(var L=ba,G=ds;L.nodeType!==8;){if(!G){L=null;break t}if(L=Cc(L.nextSibling),L===null){L=null;break t}}G=L.data,L=G==="F!"||G==="F"?L:null}if(L){ba=Cc(L.nextSibling),w=L.data==="F!";break e}}vf(w)}w=!1}w&&(h=x[0])}}return x=Ta(),x.memoizedState=x.baseState=h,w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:m_,lastRenderedState:h},x.queue=w,x=ry.bind(null,si,w),w.dispatch=x,w=J0(!1),G=mp.bind(null,si,!1,w.queue),w=Ta(),L={state:h,dispatch:null,action:f,pending:null},w.queue=L,x=CA.bind(null,si,L,G,x),L.dispatch=x,w.memoizedState=f,[h,x,!1]}function Ud(f){var h=Ur();return v_(h,Xi,f)}function v_(f,h,x){h=Co(f,h,m_)[0],f=Ns(xr)[0],h=typeof h=="object"&&h!==null&&typeof h.then=="function"?pp(h):h;var w=Ur(),L=w.queue,G=L.dispatch;return x!==w.memoizedState&&(si.flags|=2048,bl(9,EA.bind(null,L,x),{destroy:void 0},null)),[h,G,f]}function EA(f,h){f.action=h}function y_(f){var h=Ur(),x=Xi;if(x!==null)return v_(h,x,f);Ur(),h=h.memoizedState,x=Ur();var w=x.queue.dispatch;return x.memoizedState=f,[h,w,!1]}function bl(f,h,x,w){return f={tag:f,create:h,inst:x,deps:w,next:null},h=si.updateQueue,h===null&&(h=fg(),si.updateQueue=h),x=h.lastEffect,x===null?h.lastEffect=f.next=f:(w=x.next,x.next=f,f.next=w,h.lastEffect=f),f}function b_(){return Ur().memoizedState}function hg(f,h,x,w){var L=Ta();si.flags|=f,L.memoizedState=bl(1|h,x,{destroy:void 0},w===void 0?null:w)}function pg(f,h,x,w){var L=Ur();w=w===void 0?null:w;var G=L.memoizedState.inst;Xi!==null&&w!==null&&_f(w,Xi.memoizedState.deps)?L.memoizedState=bl(h,x,G,w):(si.flags|=f,L.memoizedState=bl(1|h,x,G,w))}function S_(f,h){hg(8390656,8,f,h)}function ey(f,h){pg(2048,8,f,h)}function __(f,h){return pg(4,2,f,h)}function x_(f,h){return pg(4,4,f,h)}function C_(f,h){if(typeof h=="function"){f=f();var x=h(f);return function(){typeof x=="function"?x():h(null)}}if(h!=null)return f=f(),h.current=f,function(){h.current=null}}function E_(f,h,x){x=x!=null?x.concat([f]):null,pg(4,4,C_.bind(null,h,f),x)}function ty(){}function w_(f,h){var x=Ur();h=h===void 0?null:h;var w=x.memoizedState;return h!==null&&_f(h,w[1])?w[0]:(x.memoizedState=[f,h],f)}function A_(f,h){var x=Ur();h=h===void 0?null:h;var w=x.memoizedState;if(h!==null&&_f(h,w[1]))return w[0];if(w=f(),bu){Se(!0);try{f()}finally{Se(!1)}}return x.memoizedState=[w,h],w}function mg(f,h,x){return x===void 0||(cc&1073741824)!==0?f.memoizedState=h:(f.memoizedState=x,f=Qo(),si.lanes|=f,$s|=f,x)}function M_(f,h,x,w){return ye(x,h)?x:yf.current!==null?(f=mg(f,x,w),ye(f,h)||(ca=!0),f):(cc&42)===0?(ca=!0,f.memoizedState=x):(f=Qo(),si.lanes|=f,$s|=f,h)}function T_(f,h,x,w,L){var G=Q.p;Q.p=G!==0&&8>G?G:8;var ne=U.T,ge={};U.T=ge,mp(f,!1,h,x);try{var Re=L(),Xe=U.S;if(Xe!==null&&Xe(ge,Re),Re!==null&&typeof Re=="object"&&typeof Re.then=="function"){var At=vu(Re,w);Cf(f,h,At,oo(f))}else Cf(f,h,w,oo(f))}catch(Ut){Cf(f,h,{then:function(){},status:"rejected",reason:Ut},oo())}finally{Q.p=G,U.T=ne}}function wA(){}function ny(f,h,x,w){if(f.tag!==5)throw Error(r(476));var L=R_(f).queue;T_(f,L,h,he,x===null?wA:function(){return O_(f),x(w)})}function R_(f){var h=f.memoizedState;if(h!==null)return h;h={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xr,lastRenderedState:he},next:null};var x={};return h.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xr,lastRenderedState:x},next:null},f.memoizedState=h,f=f.alternate,f!==null&&(f.memoizedState=h),h}function O_(f){var h=R_(f).next.queue;Cf(f,h,{},oo())}function gg(){return Ha(Ry)}function iy(){return Ur().memoizedState}function I_(){return Ur().memoizedState}function B_(f){for(var h=f.return;h!==null;){switch(h.tag){case 24:case 3:var x=oo();f=Ko(x);var w=Jo(h,f,x);w!==null&&(ia(w,h,x),wu(w,h,x)),h={cache:X0()},f.payload=h;return}h=h.return}}function D_(f,h,x){var w=oo();x={lane:w,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null},vg(f)?P_(h,x):(x=mf(f,h,x,w),x!==null&&(ia(x,f,w),L_(x,h,w)))}function ry(f,h,x){var w=oo();Cf(f,h,x,w)}function Cf(f,h,x,w){var L={lane:w,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null};if(vg(f))P_(h,L);else{var G=f.alternate;if(f.lanes===0&&(G===null||G.lanes===0)&&(G=h.lastRenderedReducer,G!==null))try{var ne=h.lastRenderedState,ge=G(ne,x);if(L.hasEagerState=!0,L.eagerState=ge,ye(ge,ne))return tp(f,h,L,0),Qi===null&&ep(),!1}catch{}finally{}if(x=mf(f,h,L,w),x!==null)return ia(x,f,w),L_(x,h,w),!0}return!1}function mp(f,h,x,w){if(w={lane:2,revertLane:RA(),action:w,hasEagerState:!1,eagerState:null,next:null},vg(f)){if(h)throw Error(r(479))}else h=mf(f,x,w,2),h!==null&&ia(h,f,2)}function vg(f){var h=f.alternate;return f===si||h!==null&&h===si}function P_(f,h){yu=Un=!0;var x=f.pending;x===null?h.next=h:(h.next=x.next,x.next=h),f.pending=h}function L_(f,h,x){if((x&4194176)!==0){var w=h.lanes;w&=f.pendingLanes,x|=w,h.lanes=x,zn(f,x)}}var Sl={readContext:Ha,use:zd,useCallback:Ir,useContext:Ir,useEffect:Ir,useImperativeHandle:Ir,useLayoutEffect:Ir,useInsertionEffect:Ir,useMemo:Ir,useReducer:Ir,useRef:Ir,useState:Ir,useDebugValue:Ir,useDeferredValue:Ir,useTransition:Ir,useSyncExternalStore:Ir,useId:Ir};Sl.useCacheRefresh=Ir,Sl.useMemoCache=Ir,Sl.useHostTransitionStatus=Ir,Sl.useFormState=Ir,Sl.useActionState=Ir,Sl.useOptimistic=Ir;var xu={readContext:Ha,use:zd,useCallback:function(f,h){return Ta().memoizedState=[f,h===void 0?null:h],f},useContext:Ha,useEffect:S_,useImperativeHandle:function(f,h,x){x=x!=null?x.concat([f]):null,hg(4194308,4,C_.bind(null,h,f),x)},useLayoutEffect:function(f,h){return hg(4194308,4,f,h)},useInsertionEffect:function(f,h){hg(4,2,f,h)},useMemo:function(f,h){var x=Ta();h=h===void 0?null:h;var w=f();if(bu){Se(!0);try{f()}finally{Se(!1)}}return x.memoizedState=[w,h],w},useReducer:function(f,h,x){var w=Ta();if(x!==void 0){var L=x(h);if(bu){Se(!0);try{x(h)}finally{Se(!1)}}}else L=h;return w.memoizedState=w.baseState=L,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:L},w.queue=f,f=f.dispatch=D_.bind(null,si,f),[w.memoizedState,f]},useRef:function(f){var h=Ta();return f={current:f},h.memoizedState=f},useState:function(f){f=J0(f);var h=f.queue,x=ry.bind(null,si,h);return h.dispatch=x,[f.memoizedState,x]},useDebugValue:ty,useDeferredValue:function(f,h){var x=Ta();return mg(x,f,h)},useTransition:function(){var f=J0(!1);return f=T_.bind(null,si,f.queue,!0,!1),Ta().memoizedState=f,[!1,f]},useSyncExternalStore:function(f,h,x){var w=si,L=Ta();if(Ti){if(x===void 0)throw Error(r(407));x=x()}else{if(x=h(),Qi===null)throw Error(r(349));(On&60)!==0||to(w,h,x)}L.memoizedState=x;var G={value:x,getSnapshot:h};return L.queue=G,S_(u_.bind(null,w,G,f),[f]),w.flags|=2048,bl(9,_u.bind(null,w,G,x,h),{destroy:void 0},null),x},useId:function(){var f=Ta(),h=Qi.identifierPrefix;if(Ti){var x=nc,w=pl;x=(w&~(1<<32-Ge(w)-1)).toString(32)+x,h=":"+h+"R"+x,x=Ld++,0<x&&(h+="H"+x.toString(32)),h+=":"}else x=_A++,h=":"+h+"r"+x.toString(32)+":";return f.memoizedState=h},useCacheRefresh:function(){return Ta().memoizedState=B_.bind(null,si)}};xu.useMemoCache=Ls,xu.useHostTransitionStatus=gg,xu.useFormState=g_,xu.useActionState=g_,xu.useOptimistic=function(f){var h=Ta();h.memoizedState=h.baseState=f;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=x,h=mp.bind(null,si,!0,x),x.dispatch=h,[f,h]};var fc={readContext:Ha,use:zd,useCallback:w_,useContext:Ha,useEffect:ey,useImperativeHandle:E_,useInsertionEffect:__,useLayoutEffect:x_,useMemo:A_,useReducer:Ns,useRef:b_,useState:function(){return Ns(xr)},useDebugValue:ty,useDeferredValue:function(f,h){var x=Ur();return M_(x,Xi.memoizedState,f,h)},useTransition:function(){var f=Ns(xr)[0],h=Ur().memoizedState;return[typeof f=="boolean"?f:pp(f),h]},useSyncExternalStore:c_,useId:iy};fc.useCacheRefresh=I_,fc.useMemoCache=Ls,fc.useHostTransitionStatus=gg,fc.useFormState=Ud,fc.useActionState=Ud,fc.useOptimistic=function(f,h){var x=Ur();return Q0(x,Xi,f,h)};var Ef={readContext:Ha,use:zd,useCallback:w_,useContext:Ha,useEffect:ey,useImperativeHandle:E_,useInsertionEffect:__,useLayoutEffect:x_,useMemo:A_,useReducer:dg,useRef:b_,useState:function(){return dg(xr)},useDebugValue:ty,useDeferredValue:function(f,h){var x=Ur();return Xi===null?mg(x,f,h):M_(x,Xi.memoizedState,f,h)},useTransition:function(){var f=dg(xr)[0],h=Ur().memoizedState;return[typeof f=="boolean"?f:pp(f),h]},useSyncExternalStore:c_,useId:iy};Ef.useCacheRefresh=I_,Ef.useMemoCache=Ls,Ef.useHostTransitionStatus=gg,Ef.useFormState=y_,Ef.useActionState=y_,Ef.useOptimistic=function(f,h){var x=Ur();return Xi!==null?Q0(x,Xi,f,h):(x.baseState=f,[f,x.queue.dispatch])};function ay(f,h,x,w){h=f.memoizedState,x=x(w,h),x=x==null?h:z({},h,x),f.memoizedState=x,f.lanes===0&&(f.updateQueue.baseState=x)}var oy={isMounted:function(f){return(f=f._reactInternals)?ee(f)===f:!1},enqueueSetState:function(f,h,x){f=f._reactInternals;var w=oo(),L=Ko(w);L.payload=h,x!=null&&(L.callback=x),h=Jo(f,L,w),h!==null&&(ia(h,f,w),wu(h,f,w))},enqueueReplaceState:function(f,h,x){f=f._reactInternals;var w=oo(),L=Ko(w);L.tag=1,L.payload=h,x!=null&&(L.callback=x),h=Jo(f,L,w),h!==null&&(ia(h,f,w),wu(h,f,w))},enqueueForceUpdate:function(f,h){f=f._reactInternals;var x=oo(),w=Ko(x);w.tag=2,h!=null&&(w.callback=h),h=Jo(f,w,x),h!==null&&(ia(h,f,x),wu(h,f,x))}};function N_(f,h,x,w,L,G,ne){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(w,G,ne):h.prototype&&h.prototype.isPureReactComponent?!Pe(x,w)||!Pe(L,G):!0}function z_(f,h,x,w){f=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(x,w),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(x,w),h.state!==f&&oy.enqueueReplaceState(h,h.state,null)}function wf(f,h){var x=h;if("ref"in h){x={};for(var w in h)w!=="ref"&&(x[w]=h[w])}if(f=f.defaultProps){x===h&&(x=z({},x));for(var L in f)x[L]===void 0&&(x[L]=f[L])}return x}var yg=typeof reportError=="function"?reportError:function(f){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof f=="object"&&f!==null&&typeof f.message=="string"?String(f.message):String(f),error:f});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",f);return}console.error(f)};function U_(f){yg(f)}function F_(f){console.error(f)}function H_(f){yg(f)}function bg(f,h){try{var x=f.onUncaughtError;x(h.value,{componentStack:h.stack})}catch(w){setTimeout(function(){throw w})}}function G_(f,h,x){try{var w=f.onCaughtError;w(x.value,{componentStack:x.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(L){setTimeout(function(){throw L})}}function sy(f,h,x){return x=Ko(x),x.tag=3,x.payload={element:null},x.callback=function(){bg(f,h)},x}function ly(f){return f=Ko(f),f.tag=3,f}function k_(f,h,x,w){var L=x.type.getDerivedStateFromError;if(typeof L=="function"){var G=w.value;f.payload=function(){return L(G)},f.callback=function(){G_(h,x,w)}}var ne=x.stateNode;ne!==null&&typeof ne.componentDidCatch=="function"&&(f.callback=function(){G_(h,x,w),typeof L!="function"&&(na===null?na=new Set([this]):na.add(this));var ge=w.stack;this.componentDidCatch(w.value,{componentStack:ge!==null?ge:""})})}function AA(f,h,x,w,L){if(x.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){if(h=x.alternate,h!==null&&vp(h,x,L,!0),x=xo.current,x!==null){switch(x.tag){case 13:return gl===null?wp():x.alternate===null&&gr===0&&(gr=3),x.flags&=-257,x.flags|=65536,x.lanes=L,w===og?x.flags|=16384:(h=x.updateQueue,h===null?x.updateQueue=new Set([w]):h.add(w),Yn(f,w,L)),!1;case 22:return x.flags|=65536,w===og?x.flags|=16384:(h=x.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([w])},x.updateQueue=h):(x=h.retryQueue,x===null?h.retryQueue=new Set([w]):x.add(w)),Yn(f,w,L)),!1}throw Error(r(435,x.tag))}return Yn(f,w,L),wp(),!1}if(Ti)return h=xo.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=L,w!==op&&(f=Error(r(422),{cause:w}),ml(_o(f,x)))):(w!==op&&(h=Error(r(423),{cause:w}),ml(_o(h,x))),f=f.current.alternate,f.flags|=65536,L&=-L,f.lanes|=L,w=_o(w,x),L=sy(f.stateNode,w,L),$d(f,L),gr!==4&&(gr=2)),!1;var G=Error(r(520),{cause:w});if(G=_o(G,x),Ep===null?Ep=[G]:Ep.push(G),gr!==4&&(gr=2),h===null)return!0;w=_o(w,x),x=h;do{switch(x.tag){case 3:return x.flags|=65536,f=L&-L,x.lanes|=f,f=sy(x.stateNode,w,f),$d(x,f),!1;case 1:if(h=x.type,G=x.stateNode,(x.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(na===null||!na.has(G))))return x.flags|=65536,L&=-L,x.lanes|=L,L=ly(L),k_(L,f,x,w),$d(x,L),!1}x=x.return}while(x!==null);return!1}var Yo=Error(r(461)),ca=!1;function ua(f,h,x,w){h.child=f===null?rc(h,null,x,w):ic(h,f.child,x,w)}function cy(f,h,x,w,L){x=x.render;var G=h.ref;if("ref"in w){var ne={};for(var ge in w)ge!=="ref"&&(ne[ge]=w[ge])}else ne=w;return Mf(h),w=q0(f,h,x,ne,G,L),ge=K0(),f!==null&&!ca?(hp(f,h,L),Fr(f,h,L)):(Ti&&ge&&ap(h),h.flags|=1,ua(f,h,w,L),h.child)}function uy(f,h,x,w,L){if(f===null){var G=x.type;return typeof G=="function"&&!yc(G)&&G.defaultProps===void 0&&x.compare===null?(h.tag=15,h.type=G,fy(f,h,G,w,L)):(f=Xd(x.type,null,w,h,h.mode,L),f.ref=h.ref,f.return=h,h.child=f)}if(G=f.child,!yy(f,L)){var ne=G.memoizedProps;if(x=x.compare,x=x!==null?x:Pe,x(ne,w)&&f.ref===h.ref)return Fr(f,h,L)}return h.flags|=1,f=ro(G,w),f.ref=h.ref,f.return=h,h.child=f}function fy(f,h,x,w,L){if(f!==null){var G=f.memoizedProps;if(Pe(G,w)&&f.ref===h.ref)if(ca=!1,h.pendingProps=w=G,yy(f,L))(f.flags&131072)!==0&&(ca=!0);else return h.lanes=f.lanes,Fr(f,h,L)}return hy(f,h,x,w,L)}function $_(f,h,x){var w=h.pendingProps,L=w.children,G=(h.stateNode._pendingVisibility&2)!==0,ne=f!==null?f.memoizedState:null;if(Fd(f,h),w.mode==="hidden"||G){if((h.flags&128)!==0){if(w=ne!==null?ne.baseLanes|x:x,f!==null){for(L=h.child=f.child,G=0;L!==null;)G=G|L.lanes|L.childLanes,L=L.sibling;h.childLanes=G&~w}else h.childLanes=0,h.child=null;return dy(f,h,w,x)}if((x&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},f!==null&&Pd(h,ne!==null?ne.cachePool:null),ne!==null?hu(h,ne):lg(),W0(h);else return h.lanes=h.childLanes=536870912,dy(f,h,ne!==null?ne.baseLanes|x:x,x)}else ne!==null?(Pd(h,ne.cachePool),hu(h,ne),oc(),h.memoizedState=null):(f!==null&&Pd(h,null),lg(),oc());return ua(f,h,L,x),h.child}function dy(f,h,x,w){var L=dp();return L=L===null?null:{parent:zr._currentValue,pool:L},h.memoizedState={baseLanes:x,cachePool:L},f!==null&&Pd(h,null),lg(),W0(h),f!==null&&vp(f,h,w,!0),null}function Fd(f,h){var x=h.ref;if(x===null)f!==null&&f.ref!==null&&(h.flags|=2097664);else{if(typeof x!="function"&&typeof x!="object")throw Error(r(284));(f===null||f.ref!==x)&&(h.flags|=2097664)}}function hy(f,h,x,w,L){return Mf(h),x=q0(f,h,x,w,void 0,L),w=K0(),f!==null&&!ca?(hp(f,h,L),Fr(f,h,L)):(Ti&&w&&ap(h),h.flags|=1,ua(f,h,x,L),h.child)}function V_(f,h,x,w,L,G){return Mf(h),h.updateQueue=null,x=l_(h,w,x,L),s_(f),w=K0(),f!==null&&!ca?(hp(f,h,G),Fr(f,h,G)):(Ti&&w&&ap(h),h.flags|=1,ua(f,h,x,G),h.child)}function j_(f,h,x,w,L){if(Mf(h),h.stateNode===null){var G=su,ne=x.contextType;typeof ne=="object"&&ne!==null&&(G=Ha(ne)),G=new x(w,G),h.memoizedState=G.state!==null&&G.state!==void 0?G.state:null,G.updater=oy,h.stateNode=G,G._reactInternals=h,G=h.stateNode,G.props=w,G.state=h.memoizedState,G.refs={},no(h),ne=x.contextType,G.context=typeof ne=="object"&&ne!==null?Ha(ne):su,G.state=h.memoizedState,ne=x.getDerivedStateFromProps,typeof ne=="function"&&(ay(h,x,ne,w),G.state=h.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof G.getSnapshotBeforeUpdate=="function"||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(ne=G.state,typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount(),ne!==G.state&&oy.enqueueReplaceState(G,G.state,null),Us(h,w,G,L),Ga(),G.state=h.memoizedState),typeof G.componentDidMount=="function"&&(h.flags|=4194308),w=!0}else if(f===null){G=h.stateNode;var ge=h.memoizedProps,Re=wf(x,ge);G.props=Re;var Xe=G.context,At=x.contextType;ne=su,typeof At=="object"&&At!==null&&(ne=Ha(At));var Ut=x.getDerivedStateFromProps;At=typeof Ut=="function"||typeof G.getSnapshotBeforeUpdate=="function",ge=h.pendingProps!==ge,At||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(ge||Xe!==ne)&&z_(h,G,w,ne),ea=!1;var dt=h.memoizedState;G.state=dt,Us(h,w,G,L),Ga(),Xe=h.memoizedState,ge||dt!==Xe||ea?(typeof Ut=="function"&&(ay(h,x,Ut,w),Xe=h.memoizedState),(Re=ea||N_(h,x,Re,w,dt,Xe,ne))?(At||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(h.flags|=4194308)):(typeof G.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=w,h.memoizedState=Xe),G.props=w,G.state=Xe,G.context=ne,w=Re):(typeof G.componentDidMount=="function"&&(h.flags|=4194308),w=!1)}else{G=h.stateNode,wg(f,h),ne=h.memoizedProps,At=wf(x,ne),G.props=At,Ut=h.pendingProps,dt=G.context,Xe=x.contextType,Re=su,typeof Xe=="object"&&Xe!==null&&(Re=Ha(Xe)),ge=x.getDerivedStateFromProps,(Xe=typeof ge=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(ne!==Ut||dt!==Re)&&z_(h,G,w,Re),ea=!1,dt=h.memoizedState,G.state=dt,Us(h,w,G,L),Ga();var Et=h.memoizedState;ne!==Ut||dt!==Et||ea||f!==null&&f.dependencies!==null&&Gd(f.dependencies)?(typeof ge=="function"&&(ay(h,x,ge,w),Et=h.memoizedState),(At=ea||N_(h,x,At,w,dt,Et,Re)||f!==null&&f.dependencies!==null&&Gd(f.dependencies))?(Xe||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(w,Et,Re),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(w,Et,Re)),typeof G.componentDidUpdate=="function"&&(h.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof G.componentDidUpdate!="function"||ne===f.memoizedProps&&dt===f.memoizedState||(h.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||ne===f.memoizedProps&&dt===f.memoizedState||(h.flags|=1024),h.memoizedProps=w,h.memoizedState=Et),G.props=w,G.state=Et,G.context=Re,w=At):(typeof G.componentDidUpdate!="function"||ne===f.memoizedProps&&dt===f.memoizedState||(h.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||ne===f.memoizedProps&&dt===f.memoizedState||(h.flags|=1024),w=!1)}return G=w,Fd(f,h),w=(h.flags&128)!==0,G||w?(G=h.stateNode,x=w&&typeof x.getDerivedStateFromError!="function"?null:G.render(),h.flags|=1,f!==null&&w?(h.child=ic(h,f.child,null,L),h.child=ic(h,null,x,L)):ua(f,h,x,L),h.memoizedState=G.state,f=h.child):f=Fr(f,h,L),f}function py(f,h,x,w){return Id(),h.flags|=256,ua(f,h,x,w),h.child}var my={dehydrated:null,treeContext:null,retryLane:0};function Sa(f){return{baseLanes:f,cachePool:lc()}}function Sg(f,h,x){return f=f!==null?f.childLanes&~x:0,h&&(f|=ao),f}function W_(f,h,x){var w=h.pendingProps,L=!1,G=(h.flags&128)!==0,ne;if((ne=G)||(ne=f!==null&&f.memoizedState===null?!1:(Qr.current&2)!==0),ne&&(L=!0,h.flags&=-129),ne=(h.flags&32)!==0,h.flags&=-33,f===null){if(Ti){if(L?ac(h):oc(),Ti){var ge=ba,Re;if(Re=ge){e:{for(Re=ge,ge=ds;Re.nodeType!==8;){if(!ge){ge=null;break e}if(Re=Cc(Re.nextSibling),Re===null){ge=null;break e}}ge=Re}ge!==null?(h.memoizedState={dehydrated:ge,treeContext:tc!==null?{id:pl,overflow:nc}:null,retryLane:536870912},Re=$r(18,null,null,0),Re.stateNode=ge,Re.return=h,h.child=Re,Fa=h,ba=null,Re=!0):Re=!1}Re||vf(h)}if(ge=h.memoizedState,ge!==null&&(ge=ge.dehydrated,ge!==null))return ge.data==="$!"?h.lanes=16:h.lanes=536870912,null;vl(h)}return ge=w.children,w=w.fallback,L?(oc(),L=h.mode,ge=vy({mode:"hidden",children:ge},L),w=Iu(w,L,x,null),ge.return=h,w.return=h,ge.sibling=w,h.child=ge,L=h.child,L.memoizedState=Sa(x),L.childLanes=Sg(f,ne,x),h.memoizedState=my,w):(ac(h),gy(h,ge))}if(Re=f.memoizedState,Re!==null&&(ge=Re.dehydrated,ge!==null)){if(G)h.flags&256?(ac(h),h.flags&=-257,h=_g(f,h,x)):h.memoizedState!==null?(oc(),h.child=f.child,h.flags|=128,h=null):(oc(),L=w.fallback,ge=h.mode,w=vy({mode:"visible",children:w.children},ge),L=Iu(L,ge,x,null),L.flags|=2,w.return=h,L.return=h,w.sibling=L,h.child=w,ic(h,f.child,null,x),w=h.child,w.memoizedState=Sa(x),w.childLanes=Sg(f,ne,x),h.memoizedState=my,h=L);else if(ac(h),ge.data==="$!"){if(ne=ge.nextSibling&&ge.nextSibling.dataset,ne)var Xe=ne.dgst;ne=Xe,w=Error(r(419)),w.stack="",w.digest=ne,ml({value:w,source:null,stack:null}),h=_g(f,h,x)}else if(ca||vp(f,h,x,!1),ne=(x&f.childLanes)!==0,ca||ne){if(ne=Qi,ne!==null){if(w=x&-x,(w&42)!==0)w=1;else switch(w){case 2:w=1;break;case 8:w=4;break;case 32:w=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:w=64;break;case 268435456:w=134217728;break;default:w=0}if(w=(w&(ne.suspendedLanes|x))!==0?0:w,w!==0&&w!==Re.retryLane)throw Re.retryLane=w,ec(f,w),ia(ne,f,w),Yo}ge.data==="$?"||wp(),h=_g(f,h,x)}else ge.data==="$?"?(h.flags|=128,h.child=f.child,h=Pf.bind(null,f),ge._reactRetry=h,h=null):(f=Re.treeContext,ba=Cc(ge.nextSibling),Fa=h,Ti=!0,fs=null,ds=!1,f!==null&&(ur[Wo++]=pl,ur[Wo++]=nc,ur[Wo++]=tc,pl=f.id,nc=f.overflow,tc=h),h=gy(h,w.children),h.flags|=4096);return h}return L?(oc(),L=w.fallback,ge=h.mode,Re=f.child,Xe=Re.sibling,w=ro(Re,{mode:"hidden",children:w.children}),w.subtreeFlags=Re.subtreeFlags&31457280,Xe!==null?L=ro(Xe,L):(L=Iu(L,ge,x,null),L.flags|=2),L.return=h,w.return=h,w.sibling=L,h.child=w,w=L,L=h.child,ge=f.child.memoizedState,ge===null?ge=Sa(x):(Re=ge.cachePool,Re!==null?(Xe=zr._currentValue,Re=Re.parent!==Xe?{parent:Xe,pool:Xe}:Re):Re=lc(),ge={baseLanes:ge.baseLanes|x,cachePool:Re}),L.memoizedState=ge,L.childLanes=Sg(f,ne,x),h.memoizedState=my,w):(ac(h),x=f.child,f=x.sibling,x=ro(x,{mode:"visible",children:w.children}),x.return=h,x.sibling=null,f!==null&&(ne=h.deletions,ne===null?(h.deletions=[f],h.flags|=16):ne.push(f)),h.child=x,h.memoizedState=null,x)}function gy(f,h){return h=vy({mode:"visible",children:h},f.mode),h.return=f,f.child=h}function vy(f,h){return Sy(f,h,0,null)}function _g(f,h,x){return ic(h,f.child,null,x),f=gy(h,h.pendingProps.children),f.flags|=2,h.memoizedState=null,f}function xg(f,h,x){f.lanes|=h;var w=f.alternate;w!==null&&(w.lanes|=h),qo(f.return,h,x)}function Cu(f,h,x,w,L){var G=f.memoizedState;G===null?f.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:w,tail:x,tailMode:L}:(G.isBackwards=h,G.rendering=null,G.renderingStartTime=0,G.last=w,G.tail=x,G.tailMode=L)}function Af(f,h,x){var w=h.pendingProps,L=w.revealOrder,G=w.tail;if(ua(f,h,w.children,x),w=Qr.current,(w&2)!==0)w=w&1|2,h.flags|=128;else{if(f!==null&&(f.flags&128)!==0)e:for(f=h.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&xg(f,x,h);else if(f.tag===19)xg(f,x,h);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===h)break e;for(;f.sibling===null;){if(f.return===null||f.return===h)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}w&=1}switch(ze(Qr,w),L){case"forwards":for(x=h.child,L=null;x!==null;)f=x.alternate,f!==null&&Dd(f)===null&&(L=x),x=x.sibling;x=L,x===null?(L=h.child,h.child=null):(L=x.sibling,x.sibling=null),Cu(h,!1,L,x,G);break;case"backwards":for(x=null,L=h.child,h.child=null;L!==null;){if(f=L.alternate,f!==null&&Dd(f)===null){h.child=L;break}f=L.sibling,L.sibling=x,x=L,L=f}Cu(h,!0,x,null,G);break;case"together":Cu(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Fr(f,h,x){if(f!==null&&(h.dependencies=f.dependencies),$s|=h.lanes,(x&h.childLanes)===0)if(f!==null){if(vp(f,h,x,!1),(x&h.childLanes)===0)return null}else return null;if(f!==null&&h.child!==f.child)throw Error(r(153));if(h.child!==null){for(f=h.child,x=ro(f,f.pendingProps),h.child=x,x.return=h;f.sibling!==null;)f=f.sibling,x=x.sibling=ro(f,f.pendingProps),x.return=h;x.sibling=null}return h.child}function yy(f,h){return(f.lanes&h)!==0?!0:(f=f.dependencies,!!(f!==null&&Gd(f)))}function MA(f,h,x){switch(h.tag){case 3:Fe(h,h.stateNode.containerInfo),Eu(h,zr,f.memoizedState.cache),Id();break;case 27:case 5:Ye(h);break;case 4:Fe(h,h.stateNode.containerInfo);break;case 10:Eu(h,h.type,h.memoizedProps.value);break;case 13:var w=h.memoizedState;if(w!==null)return w.dehydrated!==null?(ac(h),h.flags|=128,null):(x&h.child.childLanes)!==0?W_(f,h,x):(ac(h),f=Fr(f,h,x),f!==null?f.sibling:null);ac(h);break;case 19:var L=(f.flags&128)!==0;if(w=(x&h.childLanes)!==0,w||(vp(f,h,x,!1),w=(x&h.childLanes)!==0),L){if(w)return Af(f,h,x);h.flags|=128}if(L=h.memoizedState,L!==null&&(L.rendering=null,L.tail=null,L.lastEffect=null),ze(Qr,Qr.current),w)break;return null;case 22:case 23:return h.lanes=0,$_(f,h,x);case 24:Eu(h,zr,f.memoizedState.cache)}return Fr(f,h,x)}function gp(f,h,x){if(f!==null)if(f.memoizedProps!==h.pendingProps)ca=!0;else{if(!yy(f,x)&&(h.flags&128)===0)return ca=!1,MA(f,h,x);ca=(f.flags&131072)!==0}else ca=!1,Ti&&(h.flags&1048576)!==0&&V0(h,rp,h.index);switch(h.lanes=0,h.tag){case 16:e:{f=h.pendingProps;var w=h.elementType,L=w._init;if(w=L(w._payload),h.type=w,typeof w=="function")yc(w)?(f=wf(w,f),h.tag=1,h=j_(null,h,w,f,x)):(h.tag=0,h=hy(null,h,w,f,x));else{if(w!=null){if(L=w.$$typeof,L===c){h.tag=11,h=cy(null,h,w,f,x);break e}else if(L===b){h.tag=14,h=uy(null,h,w,f,x);break e}}throw h=F(w)||w,Error(r(306,h,""))}}return h;case 0:return hy(f,h,h.type,h.pendingProps,x);case 1:return w=h.type,L=wf(w,h.pendingProps),j_(f,h,w,L,x);case 3:e:{if(Fe(h,h.stateNode.containerInfo),f===null)throw Error(r(387));var G=h.pendingProps;L=h.memoizedState,w=L.element,wg(f,h),Us(h,G,null,x);var ne=h.memoizedState;if(G=ne.cache,Eu(h,zr,G),G!==L.cache&&Cg(h,[zr],x,!0),Ga(),G=ne.element,L.isDehydrated)if(L={element:G,isDehydrated:!1,cache:ne.cache},h.updateQueue.baseState=L,h.memoizedState=L,h.flags&256){h=py(f,h,G,x);break e}else if(G!==w){w=_o(Error(r(424)),h),ml(w),h=py(f,h,G,x);break e}else for(ba=Cc(h.stateNode.containerInfo.firstChild),Fa=h,Ti=!0,fs=null,ds=!0,x=rc(h,null,G,x),h.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(Id(),G===w){h=Fr(f,h,x);break e}ua(f,h,G,x)}h=h.child}return h;case 26:return Fd(f,h),f===null?(x=PB(h.type,null,h.pendingProps,null))?h.memoizedState=x:Ti||(x=h.type,f=h.pendingProps,w=Z_(Ce.current).createElement(x),w[Qn]=h,w[un]=f,so(w,x,f),Je(w),h.stateNode=w):h.memoizedState=PB(h.type,f.memoizedProps,h.pendingProps,f.memoizedState),null;case 27:return Ye(h),f===null&&Ti&&(w=h.stateNode=IB(h.type,h.pendingProps,Ce.current),Fa=h,ds=!0,ba=Cc(w.firstChild)),w=h.pendingProps.children,f!==null||Ti?ua(f,h,w,x):h.child=ic(h,null,w,x),Fd(f,h),h.child;case 5:return f===null&&Ti&&((L=w=ba)&&(w=j5(w,h.type,h.pendingProps,ds),w!==null?(h.stateNode=w,Fa=h,ba=Cc(w.firstChild),ds=!1,L=!0):L=!1),L||vf(h)),Ye(h),L=h.type,G=h.pendingProps,ne=f!==null?f.memoizedProps:null,w=G.children,UA(L,G)?w=null:ne!==null&&UA(L,ne)&&(h.flags|=32),h.memoizedState!==null&&(L=q0(f,h,xA,null,null,x),Ry._currentValue=L),Fd(f,h),ua(f,h,w,x),h.child;case 6:return f===null&&Ti&&((f=x=ba)&&(x=W5(x,h.pendingProps,ds),x!==null?(h.stateNode=x,Fa=h,ba=null,f=!0):f=!1),f||vf(h)),null;case 13:return W_(f,h,x);case 4:return Fe(h,h.stateNode.containerInfo),w=h.pendingProps,f===null?h.child=ic(h,null,w,x):ua(f,h,w,x),h.child;case 11:return cy(f,h,h.type,h.pendingProps,x);case 7:return ua(f,h,h.pendingProps,x),h.child;case 8:return ua(f,h,h.pendingProps.children,x),h.child;case 12:return ua(f,h,h.pendingProps.children,x),h.child;case 10:return w=h.pendingProps,Eu(h,h.type,w.value),ua(f,h,w.children,x),h.child;case 9:return L=h.type._context,w=h.pendingProps.children,Mf(h),L=Ha(L),w=w(L),h.flags|=1,ua(f,h,w,x),h.child;case 14:return uy(f,h,h.type,h.pendingProps,x);case 15:return fy(f,h,h.type,h.pendingProps,x);case 19:return Af(f,h,x);case 22:return $_(f,h,x);case 24:return Mf(h),w=Ha(zr),f===null?(L=dp(),L===null&&(L=Qi,G=X0(),L.pooledCache=G,G.refCount++,G!==null&&(L.pooledCacheLanes|=x),L=G),h.memoizedState={parent:w,cache:L},no(h),Eu(h,zr,L)):((f.lanes&x)!==0&&(wg(f,h),Us(h,null,null,x),Ga()),L=f.memoizedState,G=h.memoizedState,L.parent!==w?(L={parent:w,cache:w},h.memoizedState=L,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=L),Eu(h,zr,w)):(w=G.cache,Eu(h,zr,w),w!==L.cache&&Cg(h,[zr],x,!0))),ua(f,h,h.pendingProps.children,x),h.child;case 29:throw h.pendingProps}throw Error(r(156,h.tag))}var Hd=Ae(null),_l=null,zs=null;function Eu(f,h,x){ze(Hd,h._currentValue),h._currentValue=x}function dc(f){f._currentValue=Hd.current,Te(Hd)}function qo(f,h,x){for(;f!==null;){var w=f.alternate;if((f.childLanes&h)!==h?(f.childLanes|=h,w!==null&&(w.childLanes|=h)):w!==null&&(w.childLanes&h)!==h&&(w.childLanes|=h),f===x)break;f=f.return}}function Cg(f,h,x,w){var L=f.child;for(L!==null&&(L.return=f);L!==null;){var G=L.dependencies;if(G!==null){var ne=L.child;G=G.firstContext;e:for(;G!==null;){var ge=G;G=L;for(var Re=0;Re<h.length;Re++)if(ge.context===h[Re]){G.lanes|=x,ge=G.alternate,ge!==null&&(ge.lanes|=x),qo(G.return,x,f),w||(ne=null);break e}G=ge.next}}else if(L.tag===18){if(ne=L.return,ne===null)throw Error(r(341));ne.lanes|=x,G=ne.alternate,G!==null&&(G.lanes|=x),qo(ne,x,f),ne=null}else ne=L.child;if(ne!==null)ne.return=L;else for(ne=L;ne!==null;){if(ne===f){ne=null;break}if(L=ne.sibling,L!==null){L.return=ne.return,ne=L;break}ne=ne.return}L=ne}}function vp(f,h,x,w){f=null;for(var L=h,G=!1;L!==null;){if(!G){if((L.flags&524288)!==0)G=!0;else if((L.flags&262144)!==0)break}if(L.tag===10){var ne=L.alternate;if(ne===null)throw Error(r(387));if(ne=ne.memoizedProps,ne!==null){var ge=L.type;ye(L.pendingProps.value,ne.value)||(f!==null?f.push(ge):f=[ge])}}else if(L===re.current){if(ne=L.alternate,ne===null)throw Error(r(387));ne.memoizedState.memoizedState!==L.memoizedState.memoizedState&&(f!==null?f.push(Ry):f=[Ry])}L=L.return}f!==null&&Cg(h,f,x,w),h.flags|=262144}function Gd(f){for(f=f.firstContext;f!==null;){if(!ye(f.context._currentValue,f.memoizedValue))return!0;f=f.next}return!1}function Mf(f){_l=f,zs=null,f=f.dependencies,f!==null&&(f.firstContext=null)}function Ha(f){return kd(_l,f)}function Eg(f,h){return _l===null&&Mf(f),kd(f,h)}function kd(f,h){var x=h._currentValue;if(h={context:h,memoizedValue:x,next:null},zs===null){if(f===null)throw Error(r(308));zs=h,f.dependencies={lanes:0,firstContext:h},f.flags|=524288}else zs=zs.next=h;return x}var ea=!1;function no(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wg(f,h){f=f.updateQueue,h.updateQueue===f&&(h.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,callbacks:null})}function Ko(f){return{lane:f,tag:0,payload:null,callback:null,next:null}}function Jo(f,h,x){var w=f.updateQueue;if(w===null)return null;if(w=w.shared,(Xn&2)!==0){var L=w.pending;return L===null?h.next=h:(h.next=L.next,L.next=h),w.pending=h,h=ip(f),np(f,null,x),h}return tp(f,w,h,x),ip(f)}function wu(f,h,x){if(h=h.updateQueue,h!==null&&(h=h.shared,(x&4194176)!==0)){var w=h.lanes;w&=f.pendingLanes,x|=w,h.lanes=x,zn(f,x)}}function $d(f,h){var x=f.updateQueue,w=f.alternate;if(w!==null&&(w=w.updateQueue,x===w)){var L=null,G=null;if(x=x.firstBaseUpdate,x!==null){do{var ne={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};G===null?L=G=ne:G=G.next=ne,x=x.next}while(x!==null);G===null?L=G=h:G=G.next=h}else L=G=h;x={baseState:w.baseState,firstBaseUpdate:L,lastBaseUpdate:G,shared:w.shared,callbacks:w.callbacks},f.updateQueue=x;return}f=x.lastBaseUpdate,f===null?x.firstBaseUpdate=h:f.next=h,x.lastBaseUpdate=h}var Eo=!1;function Ga(){if(Eo){var f=gu;if(f!==null)throw f}}function Us(f,h,x,w){Eo=!1;var L=f.updateQueue;ea=!1;var G=L.firstBaseUpdate,ne=L.lastBaseUpdate,ge=L.shared.pending;if(ge!==null){L.shared.pending=null;var Re=ge,Xe=Re.next;Re.next=null,ne===null?G=Xe:ne.next=Xe,ne=Re;var At=f.alternate;At!==null&&(At=At.updateQueue,ge=At.lastBaseUpdate,ge!==ne&&(ge===null?At.firstBaseUpdate=Xe:ge.next=Xe,At.lastBaseUpdate=Re))}if(G!==null){var Ut=L.baseState;ne=0,At=Xe=Re=null,ge=G;do{var dt=ge.lane&-536870913,Et=dt!==ge.lane;if(Et?(On&dt)===dt:(w&dt)===dt){dt!==0&&dt===Sf&&(Eo=!0),At!==null&&(At=At.next={lane:0,tag:ge.tag,payload:ge.payload,callback:null,next:null});e:{var xn=f,Kn=ge;dt=h;var ra=x;switch(Kn.tag){case 1:if(xn=Kn.payload,typeof xn=="function"){Ut=xn.call(ra,Ut,dt);break e}Ut=xn;break e;case 3:xn.flags=xn.flags&-65537|128;case 0:if(xn=Kn.payload,dt=typeof xn=="function"?xn.call(ra,Ut,dt):xn,dt==null)break e;Ut=z({},Ut,dt);break e;case 2:ea=!0}}dt=ge.callback,dt!==null&&(f.flags|=64,Et&&(f.flags|=8192),Et=L.callbacks,Et===null?L.callbacks=[dt]:Et.push(dt))}else Et={lane:dt,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null},At===null?(Xe=At=Et,Re=Ut):At=At.next=Et,ne|=dt;if(ge=ge.next,ge===null){if(ge=L.shared.pending,ge===null)break;Et=ge,ge=Et.next,Et.next=null,L.lastBaseUpdate=Et,L.shared.pending=null}}while(!0);At===null&&(Re=Ut),L.baseState=Re,L.firstBaseUpdate=Xe,L.lastBaseUpdate=At,G===null&&(L.shared.lanes=0),$s|=ne,f.lanes=ne,f.memoizedState=Ut}}function xl(f,h){if(typeof f!="function")throw Error(r(191,f));f.call(h)}function Cl(f,h){var x=f.callbacks;if(x!==null)for(f.callbacks=null,f=0;f<x.length;f++)xl(x[f],h)}function Hr(f,h){try{var x=h.updateQueue,w=x!==null?x.lastEffect:null;if(w!==null){var L=w.next;x=L;do{if((x.tag&f)===f){w=void 0;var G=x.create,ne=x.inst;w=G(),ne.destroy=w}x=x.next}while(x!==L)}}catch(ge){Ht(h,h.return,ge)}}function hs(f,h,x){try{var w=h.updateQueue,L=w!==null?w.lastEffect:null;if(L!==null){var G=L.next;w=G;do{if((w.tag&f)===f){var ne=w.inst,ge=ne.destroy;if(ge!==void 0){ne.destroy=void 0,L=h;var Re=x;try{ge()}catch(Xe){Ht(L,Re,Xe)}}}w=w.next}while(w!==G)}}catch(Xe){Ht(h,h.return,Xe)}}function hc(f){var h=f.updateQueue;if(h!==null){var x=f.stateNode;try{Cl(h,x)}catch(w){Ht(f,f.return,w)}}}function yp(f,h,x){x.props=wf(f.type,f.memoizedProps),x.state=f.memoizedState;try{x.componentWillUnmount()}catch(w){Ht(f,h,w)}}function Gr(f,h){try{var x=f.ref;if(x!==null){var w=f.stateNode;switch(f.tag){case 26:case 27:case 5:var L=w;break;default:L=w}typeof x=="function"?f.refCleanup=x(L):x.current=L}}catch(G){Ht(f,h,G)}}function Ji(f,h){var x=f.ref,w=f.refCleanup;if(x!==null)if(typeof w=="function")try{w()}catch(L){Ht(f,h,L)}finally{f.refCleanup=null,f=f.alternate,f!=null&&(f.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(L){Ht(f,h,L)}else x.current=null}function Ri(f){var h=f.type,x=f.memoizedProps,w=f.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":x.autoFocus&&w.focus();break e;case"img":x.src?w.src=x.src:x.srcSet&&(w.srcset=x.srcSet)}}catch(L){Ht(f,f.return,L)}}function ps(f,h,x){try{var w=f.stateNode;H5(w,f.type,x,h),w[un]=h}catch(L){Ht(f,f.return,L)}}function Fs(f){return f.tag===5||f.tag===3||f.tag===26||f.tag===27||f.tag===4}function bp(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||Fs(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==27&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function wo(f,h,x){var w=f.tag;if(w===5||w===6)f=f.stateNode,h?x.nodeType===8?x.parentNode.insertBefore(f,h):x.insertBefore(f,h):(x.nodeType===8?(h=x.parentNode,h.insertBefore(f,x)):(h=x,h.appendChild(f)),x=x._reactRootContainer,x!=null||h.onclick!==null||(h.onclick=Q_));else if(w!==4&&w!==27&&(f=f.child,f!==null))for(wo(f,h,x),f=f.sibling;f!==null;)wo(f,h,x),f=f.sibling}function pc(f,h,x){var w=f.tag;if(w===5||w===6)f=f.stateNode,h?x.insertBefore(f,h):x.appendChild(f);else if(w!==4&&w!==27&&(f=f.child,f!==null))for(pc(f,h,x),f=f.sibling;f!==null;)pc(f,h,x),f=f.sibling}var Hs=!1,pr=!1,Au=!1,Ag=typeof WeakSet=="function"?WeakSet:Set,kr=null,Mg=!1;function Vd(f,h){if(f=f.containerInfo,NA=ax,f=zt(f),Bt(f)){if("selectionStart"in f)var x={start:f.selectionStart,end:f.selectionEnd};else e:{x=(x=f.ownerDocument)&&x.defaultView||window;var w=x.getSelection&&x.getSelection();if(w&&w.rangeCount!==0){x=w.anchorNode;var L=w.anchorOffset,G=w.focusNode;w=w.focusOffset;try{x.nodeType,G.nodeType}catch{x=null;break e}var ne=0,ge=-1,Re=-1,Xe=0,At=0,Ut=f,dt=null;t:for(;;){for(var Et;Ut!==x||L!==0&&Ut.nodeType!==3||(ge=ne+L),Ut!==G||w!==0&&Ut.nodeType!==3||(Re=ne+w),Ut.nodeType===3&&(ne+=Ut.nodeValue.length),(Et=Ut.firstChild)!==null;)dt=Ut,Ut=Et;for(;;){if(Ut===f)break t;if(dt===x&&++Xe===L&&(ge=ne),dt===G&&++At===w&&(Re=ne),(Et=Ut.nextSibling)!==null)break;Ut=dt,dt=Ut.parentNode}Ut=Et}x=ge===-1||Re===-1?null:{start:ge,end:Re}}else x=null}x=x||{start:0,end:0}}else x=null;for(zA={focusedElem:f,selectionRange:x},ax=!1,kr=h;kr!==null;)if(h=kr,f=h.child,(h.subtreeFlags&1028)!==0&&f!==null)f.return=h,kr=f;else for(;kr!==null;){switch(h=kr,G=h.alternate,f=h.flags,h.tag){case 0:break;case 11:case 15:break;case 1:if((f&1024)!==0&&G!==null){f=void 0,x=h,L=G.memoizedProps,G=G.memoizedState,w=x.stateNode;try{var xn=wf(x.type,L,x.elementType===x.type);f=w.getSnapshotBeforeUpdate(xn,G),w.__reactInternalSnapshotBeforeUpdate=f}catch(Kn){Ht(x,x.return,Kn)}}break;case 3:if((f&1024)!==0){if(f=h.stateNode.containerInfo,x=f.nodeType,x===9)GA(f);else if(x===1)switch(f.nodeName){case"HEAD":case"HTML":case"BODY":GA(f);break;default:f.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((f&1024)!==0)throw Error(r(163))}if(f=h.sibling,f!==null){f.return=h.return,kr=f;break}kr=h.return}return xn=Mg,Mg=!1,xn}function jd(f,h,x){var w=x.flags;switch(x.tag){case 0:case 11:case 15:El(f,x),w&4&&Hr(5,x);break;case 1:if(El(f,x),w&4)if(f=x.stateNode,h===null)try{f.componentDidMount()}catch(ge){Ht(x,x.return,ge)}else{var L=wf(x.type,h.memoizedProps);h=h.memoizedState;try{f.componentDidUpdate(L,h,f.__reactInternalSnapshotBeforeUpdate)}catch(ge){Ht(x,x.return,ge)}}w&64&&hc(x),w&512&&Gr(x,x.return);break;case 3:if(El(f,x),w&64&&(w=x.updateQueue,w!==null)){if(f=null,x.child!==null)switch(x.child.tag){case 27:case 5:f=x.child.stateNode;break;case 1:f=x.child.stateNode}try{Cl(w,f)}catch(ge){Ht(x,x.return,ge)}}break;case 26:El(f,x),w&512&&Gr(x,x.return);break;case 27:case 5:El(f,x),h===null&&w&4&&Ri(x),w&512&&Gr(x,x.return);break;case 12:El(f,x);break;case 13:El(f,x),w&4&&X_(f,x);break;case 22:if(L=x.memoizedState!==null||Hs,!L){h=h!==null&&h.memoizedState!==null||pr;var G=Hs,ne=pr;Hs=L,(pr=h)&&!ne?ks(f,x,(x.subtreeFlags&8772)!==0):El(f,x),Hs=G,pr=ne}w&512&&(x.memoizedProps.mode==="manual"?Gr(x,x.return):Ji(x,x.return));break;default:El(f,x)}}function Tg(f){var h=f.alternate;h!==null&&(f.alternate=null,Tg(h)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(h=f.stateNode,h!==null&&cr(h)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}var mr=null,_a=!1;function ka(f,h,x){for(x=x.child;x!==null;)Rg(f,h,x),x=x.sibling}function Rg(f,h,x){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(Ct,x)}catch{}switch(x.tag){case 26:pr||Ji(x,h),ka(f,h,x),x.memoizedState?x.memoizedState.count--:x.stateNode&&(x=x.stateNode,x.parentNode.removeChild(x));break;case 27:pr||Ji(x,h);var w=mr,L=_a;for(mr=x.stateNode,ka(f,h,x),x=x.stateNode,h=x.attributes;h.length;)x.removeAttributeNode(h[0]);cr(x),mr=w,_a=L;break;case 5:pr||Ji(x,h);case 6:L=mr;var G=_a;if(mr=null,ka(f,h,x),mr=L,_a=G,mr!==null)if(_a)try{f=mr,w=x.stateNode,f.nodeType===8?f.parentNode.removeChild(w):f.removeChild(w)}catch(ne){Ht(x,h,ne)}else try{mr.removeChild(x.stateNode)}catch(ne){Ht(x,h,ne)}break;case 18:mr!==null&&(_a?(h=mr,x=x.stateNode,h.nodeType===8?HA(h.parentNode,x):h.nodeType===1&&HA(h,x),Dy(h)):HA(mr,x.stateNode));break;case 4:w=mr,L=_a,mr=x.stateNode.containerInfo,_a=!0,ka(f,h,x),mr=w,_a=L;break;case 0:case 11:case 14:case 15:pr||hs(2,x,h),pr||hs(4,x,h),ka(f,h,x);break;case 1:pr||(Ji(x,h),w=x.stateNode,typeof w.componentWillUnmount=="function"&&yp(x,h,w)),ka(f,h,x);break;case 21:ka(f,h,x);break;case 22:pr||Ji(x,h),pr=(w=pr)||x.memoizedState!==null,ka(f,h,x),pr=w;break;default:ka(f,h,x)}}function X_(f,h){if(h.memoizedState===null&&(f=h.alternate,f!==null&&(f=f.memoizedState,f!==null&&(f=f.dehydrated,f!==null))))try{Dy(f)}catch(x){Ht(h,h.return,x)}}function Sp(f){switch(f.tag){case 13:case 19:var h=f.stateNode;return h===null&&(h=f.stateNode=new Ag),h;case 22:return f=f.stateNode,h=f._retryCache,h===null&&(h=f._retryCache=new Ag),h;default:throw Error(r(435,f.tag))}}function _p(f,h){var x=Sp(f);h.forEach(function(w){var L=ft.bind(null,f,w);x.has(w)||(x.add(w),w.then(L,L))})}function io(f,h){var x=h.deletions;if(x!==null)for(var w=0;w<x.length;w++){var L=x[w],G=f,ne=h,ge=ne;e:for(;ge!==null;){switch(ge.tag){case 27:case 5:mr=ge.stateNode,_a=!1;break e;case 3:mr=ge.stateNode.containerInfo,_a=!0;break e;case 4:mr=ge.stateNode.containerInfo,_a=!0;break e}ge=ge.return}if(mr===null)throw Error(r(160));Rg(G,ne,L),mr=null,_a=!1,G=L.alternate,G!==null&&(G.return=null),L.return=null}if(h.subtreeFlags&13878)for(h=h.child;h!==null;)Tf(h,f),h=h.sibling}var $a=null;function Tf(f,h){var x=f.alternate,w=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:io(h,f),Va(f),w&4&&(hs(3,f,f.return),Hr(3,f),hs(5,f,f.return));break;case 1:io(h,f),Va(f),w&512&&(pr||x===null||Ji(x,x.return)),w&64&&Hs&&(f=f.updateQueue,f!==null&&(w=f.callbacks,w!==null&&(x=f.shared.hiddenCallbacks,f.shared.hiddenCallbacks=x===null?w:x.concat(w))));break;case 26:var L=$a;if(io(h,f),Va(f),w&512&&(pr||x===null||Ji(x,x.return)),w&4){var G=x!==null?x.memoizedState:null;if(w=f.memoizedState,x===null)if(w===null)if(f.stateNode===null){e:{w=f.type,x=f.memoizedProps,L=L.ownerDocument||L;t:switch(w){case"title":G=L.getElementsByTagName("title")[0],(!G||G[Rr]||G[Qn]||G.namespaceURI==="http://www.w3.org/2000/svg"||G.hasAttribute("itemprop"))&&(G=L.createElement(w),L.head.insertBefore(G,L.querySelector("head > title"))),so(G,w,x),G[Qn]=f,Je(G),w=G;break e;case"link":var ne=zB("link","href",L).get(w+(x.href||""));if(ne){for(var ge=0;ge<ne.length;ge++)if(G=ne[ge],G.getAttribute("href")===(x.href==null?null:x.href)&&G.getAttribute("rel")===(x.rel==null?null:x.rel)&&G.getAttribute("title")===(x.title==null?null:x.title)&&G.getAttribute("crossorigin")===(x.crossOrigin==null?null:x.crossOrigin)){ne.splice(ge,1);break t}}G=L.createElement(w),so(G,w,x),L.head.appendChild(G);break;case"meta":if(ne=zB("meta","content",L).get(w+(x.content||""))){for(ge=0;ge<ne.length;ge++)if(G=ne[ge],G.getAttribute("content")===(x.content==null?null:""+x.content)&&G.getAttribute("name")===(x.name==null?null:x.name)&&G.getAttribute("property")===(x.property==null?null:x.property)&&G.getAttribute("http-equiv")===(x.httpEquiv==null?null:x.httpEquiv)&&G.getAttribute("charset")===(x.charSet==null?null:x.charSet)){ne.splice(ge,1);break t}}G=L.createElement(w),so(G,w,x),L.head.appendChild(G);break;default:throw Error(r(468,w))}G[Qn]=f,Je(G),w=G}f.stateNode=w}else UB(L,f.type,f.stateNode);else f.stateNode=NB(L,w,f.memoizedProps);else G!==w?(G===null?x.stateNode!==null&&(x=x.stateNode,x.parentNode.removeChild(x)):G.count--,w===null?UB(L,f.type,f.stateNode):NB(L,w,f.memoizedProps)):w===null&&f.stateNode!==null&&ps(f,f.memoizedProps,x.memoizedProps)}break;case 27:if(w&4&&f.alternate===null){L=f.stateNode,G=f.memoizedProps;try{for(var Re=L.firstChild;Re;){var Xe=Re.nextSibling,At=Re.nodeName;Re[Rr]||At==="HEAD"||At==="BODY"||At==="SCRIPT"||At==="STYLE"||At==="LINK"&&Re.rel.toLowerCase()==="stylesheet"||L.removeChild(Re),Re=Xe}for(var Ut=f.type,dt=L.attributes;dt.length;)L.removeAttributeNode(dt[0]);so(L,Ut,G),L[Qn]=f,L[un]=G}catch(xn){Ht(f,f.return,xn)}}case 5:if(io(h,f),Va(f),w&512&&(pr||x===null||Ji(x,x.return)),f.flags&32){L=f.stateNode;try{Wi(L,"")}catch(xn){Ht(f,f.return,xn)}}w&4&&f.stateNode!=null&&(L=f.memoizedProps,ps(f,L,x!==null?x.memoizedProps:L)),w&1024&&(Au=!0);break;case 6:if(io(h,f),Va(f),w&4){if(f.stateNode===null)throw Error(r(162));w=f.memoizedProps,x=f.stateNode;try{x.nodeValue=w}catch(xn){Ht(f,f.return,xn)}}break;case 3:if(nx=null,L=$a,$a=ex(h.containerInfo),io(h,f),$a=L,Va(f),w&4&&x!==null&&x.memoizedState.isDehydrated)try{Dy(h.containerInfo)}catch(xn){Ht(f,f.return,xn)}Au&&(Au=!1,Mu(f));break;case 4:w=$a,$a=ex(f.stateNode.containerInfo),io(h,f),Va(f),$a=w;break;case 12:io(h,f),Va(f);break;case 13:io(h,f),Va(f),f.child.flags&8192&&f.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(li=De()),w&4&&(w=f.updateQueue,w!==null&&(f.updateQueue=null,_p(f,w)));break;case 22:if(w&512&&(pr||x===null||Ji(x,x.return)),Re=f.memoizedState!==null,Xe=x!==null&&x.memoizedState!==null,At=Hs,Ut=pr,Hs=At||Re,pr=Ut||Xe,io(h,f),pr=Ut,Hs=At,Va(f),h=f.stateNode,h._current=f,h._visibility&=-3,h._visibility|=h._pendingVisibility&2,w&8192&&(h._visibility=Re?h._visibility&-2:h._visibility|1,Re&&(h=Hs||pr,x===null||Xe||h||Gs(f)),f.memoizedProps===null||f.memoizedProps.mode!=="manual"))e:for(x=null,h=f;;){if(h.tag===5||h.tag===26||h.tag===27){if(x===null){Xe=x=h;try{if(L=Xe.stateNode,Re)G=L.style,typeof G.setProperty=="function"?G.setProperty("display","none","important"):G.display="none";else{ne=Xe.stateNode,ge=Xe.memoizedProps.style;var Et=ge!=null&&ge.hasOwnProperty("display")?ge.display:null;ne.style.display=Et==null||typeof Et=="boolean"?"":(""+Et).trim()}}catch(xn){Ht(Xe,Xe.return,xn)}}}else if(h.tag===6){if(x===null){Xe=h;try{Xe.stateNode.nodeValue=Re?"":Xe.memoizedProps}catch(xn){Ht(Xe,Xe.return,xn)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===f)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===f)break e;for(;h.sibling===null;){if(h.return===null||h.return===f)break e;x===h&&(x=null),h=h.return}x===h&&(x=null),h.sibling.return=h.return,h=h.sibling}w&4&&(w=f.updateQueue,w!==null&&(x=w.retryQueue,x!==null&&(w.retryQueue=null,_p(f,x))));break;case 19:io(h,f),Va(f),w&4&&(w=f.updateQueue,w!==null&&(f.updateQueue=null,_p(f,w)));break;case 21:break;default:io(h,f),Va(f)}}function Va(f){var h=f.flags;if(h&2){try{if(f.tag!==27){e:{for(var x=f.return;x!==null;){if(Fs(x)){var w=x;break e}x=x.return}throw Error(r(160))}switch(w.tag){case 27:var L=w.stateNode,G=bp(f);pc(f,G,L);break;case 5:var ne=w.stateNode;w.flags&32&&(Wi(ne,""),w.flags&=-33);var ge=bp(f);pc(f,ge,ne);break;case 3:case 4:var Re=w.stateNode.containerInfo,Xe=bp(f);wo(f,Xe,Re);break;default:throw Error(r(161))}}}catch(At){Ht(f,f.return,At)}f.flags&=-3}h&4096&&(f.flags&=-4097)}function Mu(f){if(f.subtreeFlags&1024)for(f=f.child;f!==null;){var h=f;Mu(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),f=f.sibling}}function El(f,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)jd(f,h.alternate,h),h=h.sibling}function Gs(f){for(f=f.child;f!==null;){var h=f;switch(h.tag){case 0:case 11:case 14:case 15:hs(4,h,h.return),Gs(h);break;case 1:Ji(h,h.return);var x=h.stateNode;typeof x.componentWillUnmount=="function"&&yp(h,h.return,x),Gs(h);break;case 26:case 27:case 5:Ji(h,h.return),Gs(h);break;case 22:Ji(h,h.return),h.memoizedState===null&&Gs(h);break;default:Gs(h)}f=f.sibling}}function ks(f,h,x){for(x=x&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var w=h.alternate,L=f,G=h,ne=G.flags;switch(G.tag){case 0:case 11:case 15:ks(L,G,x),Hr(4,G);break;case 1:if(ks(L,G,x),w=G,L=w.stateNode,typeof L.componentDidMount=="function")try{L.componentDidMount()}catch(Xe){Ht(w,w.return,Xe)}if(w=G,L=w.updateQueue,L!==null){var ge=w.stateNode;try{var Re=L.shared.hiddenCallbacks;if(Re!==null)for(L.shared.hiddenCallbacks=null,L=0;L<Re.length;L++)xl(Re[L],ge)}catch(Xe){Ht(w,w.return,Xe)}}x&&ne&64&&hc(G),Gr(G,G.return);break;case 26:case 27:case 5:ks(L,G,x),x&&w===null&&ne&4&&Ri(G),Gr(G,G.return);break;case 12:ks(L,G,x);break;case 13:ks(L,G,x),x&&ne&4&&X_(L,G);break;case 22:G.memoizedState===null&&ks(L,G,x),Gr(G,G.return);break;default:ks(L,G,x)}h=h.sibling}}function Ao(f,h){var x=null;f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(x=f.memoizedState.cachePool.pool),f=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(f=h.memoizedState.cachePool.pool),f!==x&&(f!=null&&f.refCount++,x!=null&&pu(x))}function ms(f,h){f=null,h.alternate!==null&&(f=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==f&&(h.refCount++,f!=null&&pu(f))}function fr(f,h,x,w){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)mc(f,h,x,w),h=h.sibling}function mc(f,h,x,w){var L=h.flags;switch(h.tag){case 0:case 11:case 15:fr(f,h,x,w),L&2048&&Hr(9,h);break;case 3:fr(f,h,x,w),L&2048&&(f=null,h.alternate!==null&&(f=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==f&&(h.refCount++,f!=null&&pu(f)));break;case 12:if(L&2048){fr(f,h,x,w),f=h.stateNode;try{var G=h.memoizedProps,ne=G.id,ge=G.onPostCommit;typeof ge=="function"&&ge(ne,h.alternate===null?"mount":"update",f.passiveEffectDuration,-0)}catch(Re){Ht(h,h.return,Re)}}else fr(f,h,x,w);break;case 23:break;case 22:G=h.stateNode,h.memoizedState!==null?G._visibility&4?fr(f,h,x,w):Ni(f,h):G._visibility&4?fr(f,h,x,w):(G._visibility|=4,Wn(f,h,x,w,(h.subtreeFlags&10256)!==0)),L&2048&&Ao(h.alternate,h);break;case 24:fr(f,h,x,w),L&2048&&ms(h.alternate,h);break;default:fr(f,h,x,w)}}function Wn(f,h,x,w,L){for(L=L&&(h.subtreeFlags&10256)!==0,h=h.child;h!==null;){var G=f,ne=h,ge=x,Re=w,Xe=ne.flags;switch(ne.tag){case 0:case 11:case 15:Wn(G,ne,ge,Re,L),Hr(8,ne);break;case 23:break;case 22:var At=ne.stateNode;ne.memoizedState!==null?At._visibility&4?Wn(G,ne,ge,Re,L):Ni(G,ne):(At._visibility|=4,Wn(G,ne,ge,Re,L)),L&&Xe&2048&&Ao(ne.alternate,ne);break;case 24:Wn(G,ne,ge,Re,L),L&&Xe&2048&&ms(ne.alternate,ne);break;default:Wn(G,ne,ge,Re,L)}h=h.sibling}}function Ni(f,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var x=f,w=h,L=w.flags;switch(w.tag){case 22:Ni(x,w),L&2048&&Ao(w.alternate,w);break;case 24:Ni(x,w),L&2048&&ms(w.alternate,w);break;default:Ni(x,w)}h=h.sibling}}var Cr=8192;function gc(f){if(f.subtreeFlags&Cr)for(f=f.child;f!==null;)Rf(f),f=f.sibling}function Rf(f){switch(f.tag){case 26:gc(f),f.flags&Cr&&f.memoizedState!==null&&ak($a,f.memoizedState,f.memoizedProps);break;case 5:gc(f);break;case 3:case 4:var h=$a;$a=ex(f.stateNode.containerInfo),gc(f),$a=h;break;case 22:f.memoizedState===null&&(h=f.alternate,h!==null&&h.memoizedState!==null?(h=Cr,Cr=16777216,gc(f),Cr=h):gc(f));break;default:gc(f)}}function Tu(f){var h=f.alternate;if(h!==null&&(f=h.child,f!==null)){h.child=null;do h=f.sibling,f.sibling=null,f=h;while(f!==null)}}function Ru(f){var h=f.deletions;if((f.flags&16)!==0){if(h!==null)for(var x=0;x<h.length;x++){var w=h[x];kr=w,Y_(w,f)}Tu(f)}if(f.subtreeFlags&10256)for(f=f.child;f!==null;)Wd(f),f=f.sibling}function Wd(f){switch(f.tag){case 0:case 11:case 15:Ru(f),f.flags&2048&&hs(9,f,f.return);break;case 3:Ru(f);break;case 12:Ru(f);break;case 22:var h=f.stateNode;f.memoizedState!==null&&h._visibility&4&&(f.return===null||f.return.tag!==13)?(h._visibility&=-5,vc(f)):Ru(f);break;default:Ru(f)}}function vc(f){var h=f.deletions;if((f.flags&16)!==0){if(h!==null)for(var x=0;x<h.length;x++){var w=h[x];kr=w,Y_(w,f)}Tu(f)}for(f=f.child;f!==null;){switch(h=f,h.tag){case 0:case 11:case 15:hs(8,h,h.return),vc(h);break;case 22:x=h.stateNode,x._visibility&4&&(x._visibility&=-5,vc(h));break;default:vc(h)}f=f.sibling}}function Y_(f,h){for(;kr!==null;){var x=kr;switch(x.tag){case 0:case 11:case 15:hs(8,x,h);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var w=x.memoizedState.cachePool.pool;w!=null&&w.refCount++}break;case 24:pu(x.memoizedState.cache)}if(w=x.child,w!==null)w.return=x,kr=w;else e:for(x=f;kr!==null;){w=kr;var L=w.sibling,G=w.return;if(Tg(w),w===x){kr=null;break e}if(L!==null){L.return=G,kr=L;break e}kr=G}}}function by(f,h,x,w){this.tag=f,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $r(f,h,x,w){return new by(f,h,x,w)}function yc(f){return f=f.prototype,!(!f||!f.isReactComponent)}function ro(f,h){var x=f.alternate;return x===null?(x=$r(f.tag,h,f.key,f.mode),x.elementType=f.elementType,x.type=f.type,x.stateNode=f.stateNode,x.alternate=f,f.alternate=x):(x.pendingProps=h,x.type=f.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=f.flags&31457280,x.childLanes=f.childLanes,x.lanes=f.lanes,x.child=f.child,x.memoizedProps=f.memoizedProps,x.memoizedState=f.memoizedState,x.updateQueue=f.updateQueue,h=f.dependencies,x.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},x.sibling=f.sibling,x.index=f.index,x.ref=f.ref,x.refCleanup=f.refCleanup,x}function Ou(f,h){f.flags&=31457282;var x=f.alternate;return x===null?(f.childLanes=0,f.lanes=h,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=x.childLanes,f.lanes=x.lanes,f.child=x.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=x.memoizedProps,f.memoizedState=x.memoizedState,f.updateQueue=x.updateQueue,f.type=x.type,h=x.dependencies,f.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),f}function Xd(f,h,x,w,L,G){var ne=0;if(w=f,typeof f=="function")yc(f)&&(ne=1);else if(typeof f=="string")ne=ik(f,x,vt.current)?26:f==="html"||f==="head"||f==="body"?27:5;else e:switch(f){case u:return Iu(x.children,L,G,h);case d:ne=8,L|=24;break;case g:return f=$r(12,x,h,L|2),f.elementType=g,f.lanes=G,f;case p:return f=$r(13,x,h,L),f.elementType=p,f.lanes=G,f;case m:return f=$r(19,x,h,L),f.elementType=m,f.lanes=G,f;case T:return Sy(x,L,G,h);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case y:case C:ne=10;break e;case _:ne=9;break e;case c:ne=11;break e;case b:ne=14;break e;case E:ne=16,w=null;break e}ne=29,x=Error(r(130,f===null?"null":typeof f,"")),w=null}return h=$r(ne,x,h,L),h.elementType=f,h.type=w,h.lanes=G,h}function Iu(f,h,x,w){return f=$r(7,f,w,h),f.lanes=x,f}function Sy(f,h,x,w){f=$r(22,f,w,h),f.elementType=T,f.lanes=x;var L={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var G=L._current;if(G===null)throw Error(r(456));if((L._pendingVisibility&2)===0){var ne=ec(G,2);ne!==null&&(L._pendingVisibility|=2,ia(ne,G,2))}},attach:function(){var G=L._current;if(G===null)throw Error(r(456));if((L._pendingVisibility&2)!==0){var ne=ec(G,2);ne!==null&&(L._pendingVisibility&=-3,ia(ne,G,2))}}};return f.stateNode=L,f}function ta(f,h,x){return f=$r(6,f,null,h),f.lanes=x,f}function xp(f,h,x){return h=$r(4,f.children!==null?f.children:[],f.key,h),h.lanes=x,h.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},h}function gs(f){f.flags|=4}function Bu(f,h){if(h.type!=="stylesheet"||(h.state.loading&4)!==0)f.flags&=-16777217;else if(f.flags|=16777216,!FB(h)){if(h=xo.current,h!==null&&((On&4194176)===On?gl!==null:(On&62914560)!==On&&(On&536870912)===0||h!==gl))throw Bd=og,j0;f.flags|=8192}}function vs(f,h){h!==null&&(f.flags|=4),f.flags&16384&&(h=f.tag!==22?Dt():536870912,f.lanes|=h,Al|=h)}function Cp(f,h){if(!Ti)switch(f.tailMode){case"hidden":h=f.tail;for(var x=null;h!==null;)h.alternate!==null&&(x=h),h=h.sibling;x===null?f.tail=null:x.sibling=null;break;case"collapsed":x=f.tail;for(var w=null;x!==null;)x.alternate!==null&&(w=x),x=x.sibling;w===null?h||f.tail===null?f.tail=null:f.tail.sibling=null:w.sibling=null}}function Mr(f){var h=f.alternate!==null&&f.alternate.child===f.child,x=0,w=0;if(h)for(var L=f.child;L!==null;)x|=L.lanes|L.childLanes,w|=L.subtreeFlags&31457280,w|=L.flags&31457280,L.return=f,L=L.sibling;else for(L=f.child;L!==null;)x|=L.lanes|L.childLanes,w|=L.subtreeFlags,w|=L.flags,L.return=f,L=L.sibling;return f.subtreeFlags|=w,f.childLanes=x,h}function TA(f,h,x){var w=h.pendingProps;switch(cu(h),h.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mr(h),null;case 1:return Mr(h),null;case 3:return x=h.stateNode,w=null,f!==null&&(w=f.memoizedState.cache),h.memoizedState.cache!==w&&(h.flags|=2048),dc(zr),Ie(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(f===null||f.child===null)&&(Od(h)?gs(h):f===null||f.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,fs!==null&&(_s(fs),fs=null))),Mr(h),null;case 26:return x=h.memoizedState,f===null?(gs(h),x!==null?(Mr(h),Bu(h,x)):(Mr(h),h.flags&=-16777217)):x?x!==f.memoizedState?(gs(h),Mr(h),Bu(h,x)):(Mr(h),h.flags&=-16777217):(f.memoizedProps!==w&&gs(h),Mr(h),h.flags&=-16777217),null;case 27:ke(h),x=Ce.current;var L=h.type;if(f!==null&&h.stateNode!=null)f.memoizedProps!==w&&gs(h);else{if(!w){if(h.stateNode===null)throw Error(r(166));return Mr(h),null}f=vt.current,Od(h)?n_(h):(f=IB(L,w,x),h.stateNode=f,gs(h))}return Mr(h),null;case 5:if(ke(h),x=h.type,f!==null&&h.stateNode!=null)f.memoizedProps!==w&&gs(h);else{if(!w){if(h.stateNode===null)throw Error(r(166));return Mr(h),null}if(f=vt.current,Od(h))n_(h);else{switch(L=Z_(Ce.current),f){case 1:f=L.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:f=L.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":f=L.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":f=L.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":f=L.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof w.is=="string"?L.createElement("select",{is:w.is}):L.createElement("select"),w.multiple?f.multiple=!0:w.size&&(f.size=w.size);break;default:f=typeof w.is=="string"?L.createElement(x,{is:w.is}):L.createElement(x)}}f[Qn]=h,f[un]=w;e:for(L=h.child;L!==null;){if(L.tag===5||L.tag===6)f.appendChild(L.stateNode);else if(L.tag!==4&&L.tag!==27&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===h)break e;for(;L.sibling===null;){if(L.return===null||L.return===h)break e;L=L.return}L.sibling.return=L.return,L=L.sibling}h.stateNode=f;e:switch(so(f,x,w),x){case"button":case"input":case"select":case"textarea":f=!!w.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&gs(h)}}return Mr(h),h.flags&=-16777217,null;case 6:if(f&&h.stateNode!=null)f.memoizedProps!==w&&gs(h);else{if(typeof w!="string"&&h.stateNode===null)throw Error(r(166));if(f=Ce.current,Od(h)){if(f=h.stateNode,x=h.memoizedProps,w=null,L=Fa,L!==null)switch(L.tag){case 27:case 5:w=L.memoizedProps}f[Qn]=h,f=!!(f.nodeValue===x||w!==null&&w.suppressHydrationWarning===!0||wB(f.nodeValue,x)),f||vf(h)}else f=Z_(f).createTextNode(w),f[Qn]=h,h.stateNode=f}return Mr(h),null;case 13:if(w=h.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(L=Od(h),w!==null&&w.dehydrated!==null){if(f===null){if(!L)throw Error(r(318));if(L=h.memoizedState,L=L!==null?L.dehydrated:null,!L)throw Error(r(317));L[Qn]=h}else Id(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Mr(h),L=!1}else fs!==null&&(_s(fs),fs=null),L=!0;if(!L)return h.flags&256?(vl(h),h):(vl(h),null)}if(vl(h),(h.flags&128)!==0)return h.lanes=x,h;if(x=w!==null,f=f!==null&&f.memoizedState!==null,x){w=h.child,L=null,w.alternate!==null&&w.alternate.memoizedState!==null&&w.alternate.memoizedState.cachePool!==null&&(L=w.alternate.memoizedState.cachePool.pool);var G=null;w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(G=w.memoizedState.cachePool.pool),G!==L&&(w.flags|=2048)}return x!==f&&x&&(h.child.flags|=8192),vs(h,h.updateQueue),Mr(h),null;case 4:return Ie(),f===null&&DA(h.stateNode.containerInfo),Mr(h),null;case 10:return dc(h.type),Mr(h),null;case 19:if(Te(Qr),L=h.memoizedState,L===null)return Mr(h),null;if(w=(h.flags&128)!==0,G=L.rendering,G===null)if(w)Cp(L,!1);else{if(gr!==0||f!==null&&(f.flags&128)!==0)for(f=h.child;f!==null;){if(G=Dd(f),G!==null){for(h.flags|=128,Cp(L,!1),f=G.updateQueue,h.updateQueue=f,vs(h,f),h.subtreeFlags=0,f=x,x=h.child;x!==null;)Ou(x,f),x=x.sibling;return ze(Qr,Qr.current&1|2),h.child}f=f.sibling}L.tail!==null&&De()>gi&&(h.flags|=128,w=!0,Cp(L,!1),h.lanes=4194304)}else{if(!w)if(f=Dd(G),f!==null){if(h.flags|=128,w=!0,f=f.updateQueue,h.updateQueue=f,vs(h,f),Cp(L,!0),L.tail===null&&L.tailMode==="hidden"&&!G.alternate&&!Ti)return Mr(h),null}else 2*De()-L.renderingStartTime>gi&&x!==536870912&&(h.flags|=128,w=!0,Cp(L,!1),h.lanes=4194304);L.isBackwards?(G.sibling=h.child,h.child=G):(f=L.last,f!==null?f.sibling=G:h.child=G,L.last=G)}return L.tail!==null?(h=L.tail,L.rendering=h,L.tail=h.sibling,L.renderingStartTime=De(),h.sibling=null,f=Qr.current,ze(Qr,w?f&1|2:f&1),h):(Mr(h),null);case 22:case 23:return vl(h),fp(),w=h.memoizedState!==null,f!==null?f.memoizedState!==null!==w&&(h.flags|=8192):w&&(h.flags|=8192),w?(x&536870912)!==0&&(h.flags&128)===0&&(Mr(h),h.subtreeFlags&6&&(h.flags|=8192)):Mr(h),x=h.updateQueue,x!==null&&vs(h,x.retryQueue),x=null,f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(x=f.memoizedState.cachePool.pool),w=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(w=h.memoizedState.cachePool.pool),w!==x&&(h.flags|=2048),f!==null&&Te(sc),null;case 24:return x=null,f!==null&&(x=f.memoizedState.cache),h.memoizedState.cache!==x&&(h.flags|=2048),dc(zr),Mr(h),null;case 25:return null}throw Error(r(156,h.tag))}function Br(f,h){switch(cu(h),h.tag){case 1:return f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 3:return dc(zr),Ie(),f=h.flags,(f&65536)!==0&&(f&128)===0?(h.flags=f&-65537|128,h):null;case 26:case 27:case 5:return ke(h),null;case 13:if(vl(h),f=h.memoizedState,f!==null&&f.dehydrated!==null){if(h.alternate===null)throw Error(r(340));Id()}return f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 19:return Te(Qr),null;case 4:return Ie(),null;case 10:return dc(h.type),null;case 22:case 23:return vl(h),fp(),f!==null&&Te(sc),f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 24:return dc(zr),null;case 25:return null;default:return null}}function _y(f,h){switch(cu(h),h.tag){case 3:dc(zr),Ie();break;case 26:case 27:case 5:ke(h);break;case 4:Ie();break;case 13:vl(h);break;case 19:Te(Qr);break;case 10:dc(h.type);break;case 22:case 23:vl(h),fp(),f!==null&&Te(sc);break;case 24:dc(zr)}}var Of={getCacheForType:function(f){var h=Ha(zr),x=h.data.get(f);return x===void 0&&(x=f(),h.data.set(f,x)),x}},bc=typeof WeakMap=="function"?WeakMap:Map,Xn=0,Qi=null,di=null,On=0,rr=0,zi=null,Vr=!1,ja=!1,Du=!1,Sc=0,gr=0,$s=0,wl=0,Yd=0,ao=0,Al=0,Ep=null,mi=null,Zi=!1,li=0,gi=1/0,Yi=null,na=null,ys=!1,bs=null,If=0,Vs=0,Er=null,Ss=0,_c=null;function oo(){if((Xn&2)!==0&&On!==0)return On&-On;if(U.T!==null){var f=Sf;return f!==0?f:RA()}return br()}function Qo(){ao===0&&(ao=(On&536870912)===0||Ti?qt():536870912);var f=xo.current;return f!==null&&(f.flags|=32),ao}function ia(f,h,x){(f===Qi&&rr===2||f.cancelPendingCommit!==null)&&(xc(f,0),Zo(f,On,ao,!1)),yn(f,x),((Xn&2)===0||f!==Qi)&&(f===Qi&&((Xn&2)===0&&(wl|=x),gr===4&&Zo(f,On,ao,!1)),ar(f))}function qd(f,h,x){if((Xn&6)!==0)throw Error(r(327));var w=!x&&(h&60)===0&&(h&f.expiredLanes)===0||Qt(f,h),L=w?v(f,h):Df(f,h,!0),G=w;do{if(L===0){ja&&!w&&Zo(f,h,0,!1);break}else if(L===6)Zo(f,h,0,!Vr);else{if(x=f.current.alternate,G&&!xy(x)){L=Df(f,h,!1),G=!1;continue}if(L===2){if(G=h,f.errorRecoveryDisabledLanes&G)var ne=0;else ne=f.pendingLanes&-536870913,ne=ne!==0?ne:ne&536870912?536870912:0;if(ne!==0){h=ne;e:{var ge=f;L=Ep;var Re=ge.current.memoizedState.isDehydrated;if(Re&&(xc(ge,ne).flags|=256),ne=Df(ge,ne,!1),ne!==2){if(Du&&!Re){ge.errorRecoveryDisabledLanes|=G,wl|=G,L=4;break e}G=mi,mi=L,G!==null&&_s(G)}L=ne}if(G=!1,L!==2)continue}}if(L===1){xc(f,0),Zo(f,h,0,!0);break}e:{switch(w=f,L){case 0:case 1:throw Error(r(345));case 4:if((h&4194176)===h){Zo(w,h,ao,!Vr);break e}break;case 2:mi=null;break;case 3:case 5:break;default:throw Error(r(329))}if(w.finishedWork=x,w.finishedLanes=h,(h&62914560)===h&&(G=li+300-De(),10<G)){if(Zo(w,h,ao,!Vr),It(w,0)!==0)break e;w.timeoutHandle=TB(Og.bind(null,w,x,mi,Yi,Zi,h,ao,wl,Al,Vr,2,-0,0),G);break e}Og(w,x,mi,Yi,Zi,h,ao,wl,Al,Vr,0,-0,0)}}break}while(!0);ar(f)}function _s(f){mi===null?mi=f:mi.push.apply(mi,f)}function Og(f,h,x,w,L,G,ne,ge,Re,Xe,At,Ut,dt){var Et=h.subtreeFlags;if((Et&8192||(Et&16785408)===16785408)&&(Ty={stylesheets:null,count:0,unsuspend:rk},Rf(h),h=ok(),h!==null)){f.cancelPendingCommit=h(Le.bind(null,f,x,w,L,ne,ge,Re,1,Ut,dt)),Zo(f,G,ne,!Xe);return}Le(f,x,w,L,ne,ge,Re,At,Ut,dt)}function xy(f){for(var h=f;;){var x=h.tag;if((x===0||x===11||x===15)&&h.flags&16384&&(x=h.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var w=0;w<x.length;w++){var L=x[w],G=L.getSnapshot;L=L.value;try{if(!ye(G(),L))return!1}catch{return!1}}if(x=h.child,h.subtreeFlags&16384&&x!==null)x.return=h,h=x;else{if(h===f)break;for(;h.sibling===null;){if(h.return===null||h.return===f)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function Zo(f,h,x,w){h&=~Yd,h&=~wl,f.suspendedLanes|=h,f.pingedLanes&=~h,w&&(f.warmLanes|=h),w=f.expirationTimes;for(var L=h;0<L;){var G=31-Ge(L),ne=1<<G;w[G]=-1,L&=~ne}x!==0&&Kr(f,x,h)}function Bf(){return(Xn&6)===0?(vi(0),!1):!0}function Ml(){if(di!==null){if(rr===0)var f=di.return;else f=di,zs=_l=null,ug(f),du=null,lp=0,f=di;for(;f!==null;)_y(f.alternate,f),f=f.return;di=null}}function xc(f,h){f.finishedWork=null,f.finishedLanes=0;var x=f.timeoutHandle;x!==-1&&(f.timeoutHandle=-1,k5(x)),x=f.cancelPendingCommit,x!==null&&(f.cancelPendingCommit=null,x()),Ml(),Qi=f,di=x=ro(f.current,null),On=h,rr=0,zi=null,Vr=!1,ja=Qt(f,h),Du=!1,Al=ao=Yd=wl=$s=gr=0,mi=Ep=null,Zi=!1,(h&8)!==0&&(h|=h&32);var w=f.entangledLanes;if(w!==0)for(f=f.entanglements,w&=h;0<w;){var L=31-Ge(w),G=1<<L;h|=f[L],w&=~G}return Sc=h,ep(),x}function Pu(f,h){si=null,U.H=Sl,h===uu?(h=Vi(),rr=3):h===j0?(h=Vi(),rr=4):rr=h===Yo?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,zi=h,di===null&&(gr=1,bg(f,_o(h,f.current)))}function Kd(){var f=U.H;return U.H=Sl,f===null?Sl:f}function Ig(){var f=U.A;return U.A=Of,f}function wp(){gr=4,Vr||(On&4194176)!==On&&xo.current!==null||(ja=!0),($s&134217727)===0&&(wl&134217727)===0||Qi===null||Zo(Qi,On,ao,!1)}function Df(f,h,x){var w=Xn;Xn|=2;var L=Kd(),G=Ig();(Qi!==f||On!==h)&&(Yi=null,xc(f,h)),h=!1;var ne=gr;e:do try{if(rr!==0&&di!==null){var ge=di,Re=zi;switch(rr){case 8:Ml(),ne=6;break e;case 3:case 2:case 6:xo.current===null&&(h=!0);var Xe=rr;if(rr=0,zi=null,k(f,ge,Re,Xe),x&&ja){ne=0;break e}break;default:Xe=rr,rr=0,zi=null,k(f,ge,Re,Xe)}}Cy(),ne=gr;break}catch(At){Pu(f,At)}while(!0);return h&&f.shellSuspendCounter++,zs=_l=null,Xn=w,U.H=L,U.A=G,di===null&&(Qi=null,On=0,ep()),ne}function Cy(){for(;di!==null;)M(di)}function v(f,h){var x=Xn;Xn|=2;var w=Kd(),L=Ig();Qi!==f||On!==h?(Yi=null,gi=De()+500,xc(f,h)):ja=Qt(f,h);e:do try{if(rr!==0&&di!==null){h=di;var G=zi;t:switch(rr){case 1:rr=0,zi=null,k(f,h,G,1);break;case 2:if(r_(G)){rr=0,zi=null,N(h);break}h=function(){rr===2&&Qi===f&&(rr=7),ar(f)},G.then(h,h);break e;case 3:rr=7;break e;case 4:rr=5;break e;case 7:r_(G)?(rr=0,zi=null,N(h)):(rr=0,zi=null,k(f,h,G,7));break;case 5:var ne=null;switch(di.tag){case 26:ne=di.memoizedState;case 5:case 27:var ge=di;if(!ne||FB(ne)){rr=0,zi=null;var Re=ge.sibling;if(Re!==null)di=Re;else{var Xe=ge.return;Xe!==null?(di=Xe,j(Xe)):di=null}break t}}rr=0,zi=null,k(f,h,G,5);break;case 6:rr=0,zi=null,k(f,h,G,6);break;case 8:Ml(),gr=6;break e;default:throw Error(r(462))}}S();break}catch(At){Pu(f,At)}while(!0);return zs=_l=null,U.H=w,U.A=L,Xn=x,di!==null?0:(Qi=null,On=0,ep(),gr)}function S(){for(;di!==null&&!ae();)M(di)}function M(f){var h=gp(f.alternate,f,Sc);f.memoizedProps=f.pendingProps,h===null?j(f):di=h}function N(f){var h=f,x=h.alternate;switch(h.tag){case 15:case 0:h=V_(x,h,h.pendingProps,h.type,void 0,On);break;case 11:h=V_(x,h,h.pendingProps,h.type.render,h.ref,On);break;case 5:ug(h);default:_y(x,h),h=di=Ou(h,Sc),h=gp(x,h,Sc)}f.memoizedProps=f.pendingProps,h===null?j(f):di=h}function k(f,h,x,w){zs=_l=null,ug(h),du=null,lp=0;var L=h.return;try{if(AA(f,L,h,x,On)){gr=1,bg(f,_o(x,f.current)),di=null;return}}catch(G){if(L!==null)throw di=L,G;gr=1,bg(f,_o(x,f.current)),di=null;return}h.flags&32768?(Ti||w===1?f=!0:ja||(On&536870912)!==0?f=!1:(Vr=f=!0,(w===2||w===3||w===6)&&(w=xo.current,w!==null&&w.tag===13&&(w.flags|=16384))),ve(h,f)):j(h)}function j(f){var h=f;do{if((h.flags&32768)!==0){ve(h,Vr);return}f=h.return;var x=TA(h.alternate,h,Sc);if(x!==null){di=x;return}if(h=h.sibling,h!==null){di=h;return}di=h=f}while(h!==null);gr===0&&(gr=5)}function ve(f,h){do{var x=Br(f.alternate,f);if(x!==null){x.flags&=32767,di=x;return}if(x=f.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!h&&(f=f.sibling,f!==null)){di=f;return}di=f=x}while(f!==null);gr=6,di=null}function Le(f,h,x,w,L,G,ne,ge,Re,Xe){var At=U.T,Ut=Q.p;try{Q.p=2,U.T=null,nt(f,h,x,w,Ut,L,G,ne,ge,Re,Xe)}finally{U.T=At,Q.p=Ut}}function nt(f,h,x,w,L,G,ne,ge){do jt();while(bs!==null);if((Xn&6)!==0)throw Error(r(327));var Re=f.finishedWork;if(w=f.finishedLanes,Re===null)return null;if(f.finishedWork=null,f.finishedLanes=0,Re===f.current)throw Error(r(177));f.callbackNode=null,f.callbackPriority=0,f.cancelPendingCommit=null;var Xe=Re.lanes|Re.childLanes;if(Xe|=Zl,lr(f,w,Xe,G,ne,ge),f===Qi&&(di=Qi=null,On=0),(Re.subtreeFlags&10256)===0&&(Re.flags&10256)===0||ys||(ys=!0,Vs=Xe,Er=x,Ze(st,function(){return jt(),null})),x=(Re.flags&15990)!==0,(Re.subtreeFlags&15990)!==0||x?(x=U.T,U.T=null,G=Q.p,Q.p=2,ne=Xn,Xn|=4,Vd(f,Re),Tf(Re,f),kt(zA,f.containerInfo),ax=!!NA,zA=NA=null,f.current=Re,jd(f,Re.alternate,Re),we(),Xn=ne,Q.p=G,U.T=x):f.current=Re,ys?(ys=!1,bs=f,If=w):wt(f,Xe),Xe=f.pendingLanes,Xe===0&&(na=null),it(Re.stateNode),ar(f),h!==null)for(L=f.onRecoverableError,Re=0;Re<h.length;Re++)Xe=h[Re],L(Xe.value,{componentStack:Xe.stack});return(If&3)!==0&&jt(),Xe=f.pendingLanes,(w&4194218)!==0&&(Xe&42)!==0?f===_c?Ss++:(Ss=0,_c=f):Ss=0,vi(0),null}function wt(f,h){(f.pooledCacheLanes&=h)===0&&(h=f.pooledCache,h!=null&&(f.pooledCache=null,pu(h)))}function jt(){if(bs!==null){var f=bs,h=Vs;Vs=0;var x=Ai(If),w=U.T,L=Q.p;try{if(Q.p=32>x?32:x,U.T=null,bs===null)var G=!1;else{x=Er,Er=null;var ne=bs,ge=If;if(bs=null,If=0,(Xn&6)!==0)throw Error(r(331));var Re=Xn;if(Xn|=4,Wd(ne.current),mc(ne,ne.current,ge,x),Xn=Re,vi(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(Ct,ne)}catch{}G=!0}return G}finally{Q.p=L,U.T=w,wt(f,h)}}return!1}function nn(f,h,x){h=_o(x,h),h=sy(f.stateNode,h,2),f=Jo(f,h,2),f!==null&&(yn(f,2),ar(f))}function Ht(f,h,x){if(f.tag===3)nn(f,f,x);else for(;h!==null;){if(h.tag===3){nn(h,f,x);break}else if(h.tag===1){var w=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(na===null||!na.has(w))){f=_o(x,f),x=ly(2),w=Jo(h,x,2),w!==null&&(k_(x,w,h,f),yn(w,2),ar(w));break}}h=h.return}}function Yn(f,h,x){var w=f.pingCache;if(w===null){w=f.pingCache=new bc;var L=new Set;w.set(h,L)}else L=w.get(h),L===void 0&&(L=new Set,w.set(h,L));L.has(x)||(Du=!0,L.add(x),f=xs.bind(null,f,h,x),h.then(f,f))}function xs(f,h,x){var w=f.pingCache;w!==null&&w.delete(h),f.pingedLanes|=f.suspendedLanes&x,f.warmLanes&=~x,Qi===f&&(On&x)===x&&(gr===4||gr===3&&(On&62914560)===On&&300>De()-li?(Xn&2)===0&&xc(f,0):Yd|=x,Al===On&&(Al=0)),ar(f)}function Jd(f,h){h===0&&(h=Dt()),f=ec(f,h),f!==null&&(yn(f,h),ar(f))}function Pf(f){var h=f.memoizedState,x=0;h!==null&&(x=h.retryLane),Jd(f,x)}function ft(f,h){var x=0;switch(f.tag){case 13:var w=f.stateNode,L=f.memoizedState;L!==null&&(x=L.retryLane);break;case 19:w=f.stateNode;break;case 22:w=f.stateNode._retryCache;break;default:throw Error(r(314))}w!==null&&w.delete(h),Jd(f,x)}function Ze(f,h){return ot(f,h)}var ht=null,Ft=null,_n=!1,er=!1,Nn=!1,hi=0;function ar(f){f!==Ft&&f.next===null&&(Ft===null?ht=Ft=f:Ft=Ft.next=f),er=!0,_n||(_n=!0,D5(Lu))}function vi(f,h){if(!Nn&&er){Nn=!0;do for(var x=!1,w=ht;w!==null;){if(f!==0){var L=w.pendingLanes;if(L===0)var G=0;else{var ne=w.suspendedLanes,ge=w.pingedLanes;G=(1<<31-Ge(42|f)+1)-1,G&=L&~(ne&~ge),G=G&201326677?G&201326677|1:G?G|2:0}G!==0&&(x=!0,yB(w,G))}else G=On,G=It(w,w===Qi?G:0),(G&3)===0||Qt(w,G)||(x=!0,yB(w,G));w=w.next}while(x);Nn=!1}}function Lu(){er=_n=!1;var f=0;hi!==0&&(G5()&&(f=hi),hi=0);for(var h=De(),x=null,w=ht;w!==null;){var L=w.next,G=q_(w,h);G===0?(w.next=null,x===null?ht=L:x.next=L,L===null&&(Ft=x)):(x=w,(f!==0||(G&3)!==0)&&(er=!0)),w=L}vi(f)}function q_(f,h){for(var x=f.suspendedLanes,w=f.pingedLanes,L=f.expirationTimes,G=f.pendingLanes&-62914561;0<G;){var ne=31-Ge(G),ge=1<<ne,Re=L[ne];Re===-1?((ge&x)===0||(ge&w)!==0)&&(L[ne]=sn(ge,h)):Re<=h&&(f.expiredLanes|=ge),G&=~ge}if(h=Qi,x=On,x=It(f,f===h?x:0),w=f.callbackNode,x===0||f===h&&rr===2||f.cancelPendingCommit!==null)return w!==null&&w!==null&&ce(w),f.callbackNode=null,f.callbackPriority=0;if((x&3)===0||Qt(f,x)){if(h=x&-x,h===f.callbackPriority)return h;switch(w!==null&&ce(w),Ai(x)){case 2:case 8:x=gt;break;case 32:x=st;break;case 268435456:x=Ot;break;default:x=st}return w=vB.bind(null,f),x=ot(x,w),f.callbackPriority=h,f.callbackNode=x,h}return w!==null&&w!==null&&ce(w),f.callbackPriority=2,f.callbackNode=null,2}function vB(f,h){var x=f.callbackNode;if(jt()&&f.callbackNode!==x)return null;var w=On;return w=It(f,f===Qi?w:0),w===0?null:(qd(f,w,h),q_(f,De()),f.callbackNode!=null&&f.callbackNode===x?vB.bind(null,f):null)}function yB(f,h){if(jt())return null;qd(f,h,!0)}function D5(f){$5(function(){(Xn&6)!==0?ot(He,f):f()})}function RA(){return hi===0&&(hi=qt()),hi}function bB(f){return f==null||typeof f=="symbol"||typeof f=="boolean"?null:typeof f=="function"?f:_r(""+f)}function SB(f,h){var x=h.ownerDocument.createElement("input");return x.name=h.name,x.value=h.value,f.id&&x.setAttribute("form",f.id),h.parentNode.insertBefore(x,h),f=new FormData(f),x.parentNode.removeChild(x),f}function P5(f,h,x,w,L){if(h==="submit"&&x&&x.stateNode===L){var G=bB((L[un]||null).action),ne=w.submitter;ne&&(h=(h=ne[un]||null)?bB(h.formAction):ne.getAttribute("formAction"),h!==null&&(G=h,ne=null));var ge=new ll("action","action",null,w,L);f.push({event:ge,listeners:[{instance:null,listener:function(){if(w.defaultPrevented){if(hi!==0){var Re=ne?SB(L,ne):new FormData(L);ny(x,{pending:!0,data:Re,method:L.method,action:G},null,Re)}}else typeof G=="function"&&(ge.preventDefault(),Re=ne?SB(L,ne):new FormData(L),ny(x,{pending:!0,data:Re,method:L.method,action:G},G,Re))},currentTarget:L}]})}}for(var OA=0;OA<Ql.length;OA++){var IA=Ql[OA],L5=IA.toLowerCase(),N5=IA[0].toUpperCase()+IA.slice(1);us(L5,"on"+N5)}us(jo,"onAnimationEnd"),us(la,"onAnimationIteration"),us(Kl,"onAnimationStart"),us("dblclick","onDoubleClick"),us("focusin","onFocus"),us("focusout","onBlur"),us(Jl,"onTransitionRun"),us(Rd,"onTransitionStart"),us(ou,"onTransitionCancel"),us(ig,"onTransitionEnd"),Kt("onMouseEnter",["mouseout","mouseover"]),Kt("onMouseLeave",["mouseout","mouseover"]),Kt("onPointerEnter",["pointerout","pointerover"]),Kt("onPointerLeave",["pointerout","pointerover"]),Vt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ey="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z5=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ey));function _B(f,h){h=(h&4)!==0;for(var x=0;x<f.length;x++){var w=f[x],L=w.event;w=w.listeners;e:{var G=void 0;if(h)for(var ne=w.length-1;0<=ne;ne--){var ge=w[ne],Re=ge.instance,Xe=ge.currentTarget;if(ge=ge.listener,Re!==G&&L.isPropagationStopped())break e;G=ge,L.currentTarget=Xe;try{G(L)}catch(At){yg(At)}L.currentTarget=null,G=Re}else for(ne=0;ne<w.length;ne++){if(ge=w[ne],Re=ge.instance,Xe=ge.currentTarget,ge=ge.listener,Re!==G&&L.isPropagationStopped())break e;G=ge,L.currentTarget=Xe;try{G(L)}catch(At){yg(At)}L.currentTarget=null,G=Re}}}}function Oi(f,h){var x=h[ln];x===void 0&&(x=h[ln]=new Set);var w=f+"__bubble";x.has(w)||(xB(h,f,2,!1),x.add(w))}function BA(f,h,x){var w=0;h&&(w|=4),xB(x,f,w,h)}var K_="_reactListening"+Math.random().toString(36).slice(2);function DA(f){if(!f[K_]){f[K_]=!0,$e.forEach(function(x){x!=="selectionchange"&&(z5.has(x)||BA(x,!1,f),BA(x,!0,f))});var h=f.nodeType===9?f:f.ownerDocument;h===null||h[K_]||(h[K_]=!0,BA("selectionchange",!1,h))}}function xB(f,h,x,w){switch(jB(h)){case 2:var L=ck;break;case 8:L=uk;break;default:L=WA}x=L.bind(null,h,x,f),L=void 0,!Sn||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(L=!0),w?L!==void 0?f.addEventListener(h,x,{capture:!0,passive:L}):f.addEventListener(h,x,!0):L!==void 0?f.addEventListener(h,x,{passive:L}):f.addEventListener(h,x,!1)}function PA(f,h,x,w,L){var G=w;if((h&1)===0&&(h&2)===0&&w!==null)e:for(;;){if(w===null)return;var ne=w.tag;if(ne===3||ne===4){var ge=w.stateNode.containerInfo;if(ge===L||ge.nodeType===8&&ge.parentNode===L)break;if(ne===4)for(ne=w.return;ne!==null;){var Re=ne.tag;if((Re===3||Re===4)&&(Re=ne.stateNode.containerInfo,Re===L||Re.nodeType===8&&Re.parentNode===L))return;ne=ne.return}for(;ge!==null;){if(ne=Sr(ge),ne===null)return;if(Re=ne.tag,Re===5||Re===6||Re===26||Re===27){w=G=ne;continue e}ge=ge.parentNode}}w=w.return}Vl(function(){var Xe=G,At=La(x),Ut=[];e:{var dt=rg.get(f);if(dt!==void 0){var Et=ll,xn=f;switch(f){case"keypress":if(Na(x)===0)break e;case"keydown":case"keyup":Et=tu;break;case"focusin":xn="focus",Et=cf;break;case"focusout":xn="blur",Et=cf;break;case"beforeblur":case"afterblur":Et=cf;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Et=qh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Et=k0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Et=Cd;break;case jo:case la:case Kl:Et=qm;break;case ig:Et=Ds;break;case"scroll":case"scrollend":Et=Yh;break;case"wheel":Et=$0;break;case"copy":case"cut":case"paste":Et=Jm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Et=ff;break;case"toggle":case"beforetoggle":Et=fl}var Kn=(h&4)!==0,ra=!Kn&&(f==="scroll"||f==="scrollend"),tt=Kn?dt!==null?dt+"Capture":null:dt;Kn=[];for(var Ve=Xe,ct;Ve!==null;){var Rt=Ve;if(ct=Rt.stateNode,Rt=Rt.tag,Rt!==5&&Rt!==26&&Rt!==27||ct===null||tt===null||(Rt=tn(Ve,tt),Rt!=null&&Kn.push(wy(Ve,Rt,ct))),ra)break;Ve=Ve.return}0<Kn.length&&(dt=new Et(dt,xn,null,x,At),Ut.push({event:dt,listeners:Kn}))}}if((h&7)===0){e:{if(dt=f==="mouseover"||f==="pointerover",Et=f==="mouseout"||f==="pointerout",dt&&x!==Go&&(xn=x.relatedTarget||x.fromElement)&&(Sr(xn)||xn[ii]))break e;if((Et||dt)&&(dt=At.window===At?At:(dt=At.ownerDocument)?dt.defaultView||dt.parentWindow:window,Et?(xn=x.relatedTarget||x.toElement,Et=Xe,xn=xn?Sr(xn):null,xn!==null&&(ra=ee(xn),Kn=xn.tag,xn!==ra||Kn!==5&&Kn!==27&&Kn!==6)&&(xn=null)):(Et=null,xn=Xe),Et!==xn)){if(Kn=qh,Rt="onMouseLeave",tt="onMouseEnter",Ve="mouse",(f==="pointerout"||f==="pointerover")&&(Kn=ff,Rt="onPointerLeave",tt="onPointerEnter",Ve="pointer"),ra=Et==null?dt:Ue(Et),ct=xn==null?dt:Ue(xn),dt=new Kn(Rt,Ve+"leave",Et,x,At),dt.target=ra,dt.relatedTarget=ct,Rt=null,Sr(At)===Xe&&(Kn=new Kn(tt,Ve+"enter",xn,x,At),Kn.target=ct,Kn.relatedTarget=ra,Rt=Kn),ra=Rt,Et&&xn)t:{for(Kn=Et,tt=xn,Ve=0,ct=Kn;ct;ct=Bg(ct))Ve++;for(ct=0,Rt=tt;Rt;Rt=Bg(Rt))ct++;for(;0<Ve-ct;)Kn=Bg(Kn),Ve--;for(;0<ct-Ve;)tt=Bg(tt),ct--;for(;Ve--;){if(Kn===tt||tt!==null&&Kn===tt.alternate)break t;Kn=Bg(Kn),tt=Bg(tt)}Kn=null}else Kn=null;Et!==null&&CB(Ut,dt,Et,Kn,!1),xn!==null&&ra!==null&&CB(Ut,ra,xn,Kn,!0)}}e:{if(dt=Xe?Ue(Xe):window,Et=dt.nodeName&&dt.nodeName.toLowerCase(),Et==="select"||Et==="input"&&dt.type==="file")var dn=Ad;else if(Zh(dt))if(Md)dn=se;else{dn=X;var yi=V}else Et=dt.nodeName,!Et||Et.toLowerCase()!=="input"||dt.type!=="checkbox"&&dt.type!=="radio"?Xe&&Os(Xe.elementType)&&(dn=Ad):dn=te;if(dn&&(dn=dn(f,Xe))){za(Ut,dn,x,At);break e}yi&&yi(f,dt,Xe),f==="focusout"&&Xe&&dt.type==="number"&&Xe.memoizedProps.value!=null&&Pi(dt,"number",dt.value)}switch(yi=Xe?Ue(Xe):window,f){case"focusin":(Zh(yi)||yi.contentEditable==="true")&&(Zt=yi,hn=Xe,Ln=null);break;case"focusout":Ln=hn=Zt=null;break;case"mousedown":ei=!0;break;case"contextmenu":case"mouseup":case"dragend":ei=!1,pn(Ut,x,At);break;case"selectionchange":if(an)break;case"keydown":case"keyup":pn(Ut,x,At)}var En;if(Xl)e:{switch(f){case"compositionstart":var Fn="onCompositionStart";break e;case"compositionend":Fn="onCompositionEnd";break e;case"compositionupdate":Fn="onCompositionUpdate";break e}Fn=void 0}else bo?hf(f,x)&&(Fn="onCompositionEnd"):f==="keydown"&&x.keyCode===229&&(Fn="onCompositionStart");Fn&&(df&&x.locale!=="ko"&&(bo||Fn!=="onCompositionStart"?Fn==="onCompositionEnd"&&bo&&(En=ko()):(xi=At,Hi="value"in xi?xi.value:xi.textContent,bo=!0)),yi=J_(Xe,Fn),0<yi.length&&(Fn=new _d(Fn,f,null,x,At),Ut.push({event:Fn,listeners:yi}),En?Fn.data=En:(En=Ed(x),En!==null&&(Fn.data=En)))),(En=dl?So(f,x):wd(f,x))&&(Fn=J_(Xe,"onBeforeInput"),0<Fn.length&&(yi=new _d("onBeforeInput","beforeinput",null,x,At),Ut.push({event:yi,listeners:Fn}),yi.data=En)),P5(Ut,f,Xe,x,At)}_B(Ut,h)})}function wy(f,h,x){return{instance:f,listener:h,currentTarget:x}}function J_(f,h){for(var x=h+"Capture",w=[];f!==null;){var L=f,G=L.stateNode;L=L.tag,L!==5&&L!==26&&L!==27||G===null||(L=tn(f,x),L!=null&&w.unshift(wy(f,L,G)),L=tn(f,h),L!=null&&w.push(wy(f,L,G))),f=f.return}return w}function Bg(f){if(f===null)return null;do f=f.return;while(f&&f.tag!==5&&f.tag!==27);return f||null}function CB(f,h,x,w,L){for(var G=h._reactName,ne=[];x!==null&&x!==w;){var ge=x,Re=ge.alternate,Xe=ge.stateNode;if(ge=ge.tag,Re!==null&&Re===w)break;ge!==5&&ge!==26&&ge!==27||Xe===null||(Re=Xe,L?(Xe=tn(x,G),Xe!=null&&ne.unshift(wy(x,Xe,Re))):L||(Xe=tn(x,G),Xe!=null&&ne.push(wy(x,Xe,Re)))),x=x.return}ne.length!==0&&f.push({event:h,listeners:ne})}var U5=/\r\n?/g,F5=/\u0000|\uFFFD/g;function EB(f){return(typeof f=="string"?f:""+f).replace(U5,`
`).replace(F5,"")}function wB(f,h){return h=EB(h),EB(f)===h}function Q_(){}function dr(f,h,x,w,L,G){switch(x){case"children":typeof w=="string"?h==="body"||h==="textarea"&&w===""||Wi(f,w):(typeof w=="number"||typeof w=="bigint")&&h!=="body"&&Wi(f,""+w);break;case"className":Vn(f,"class",w);break;case"tabIndex":Vn(f,"tabindex",w);break;case"dir":case"role":case"viewBox":case"width":case"height":Vn(f,x,w);break;case"style":wa(f,w,G);break;case"data":if(h!=="object"){Vn(f,"data",w);break}case"src":case"href":if(w===""&&(h!=="a"||x!=="href")){f.removeAttribute(x);break}if(w==null||typeof w=="function"||typeof w=="symbol"||typeof w=="boolean"){f.removeAttribute(x);break}w=_r(""+w),f.setAttribute(x,w);break;case"action":case"formAction":if(typeof w=="function"){f.setAttribute(x,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof G=="function"&&(x==="formAction"?(h!=="input"&&dr(f,h,"name",L.name,L,null),dr(f,h,"formEncType",L.formEncType,L,null),dr(f,h,"formMethod",L.formMethod,L,null),dr(f,h,"formTarget",L.formTarget,L,null)):(dr(f,h,"encType",L.encType,L,null),dr(f,h,"method",L.method,L,null),dr(f,h,"target",L.target,L,null)));if(w==null||typeof w=="symbol"||typeof w=="boolean"){f.removeAttribute(x);break}w=_r(""+w),f.setAttribute(x,w);break;case"onClick":w!=null&&(f.onclick=Q_);break;case"onScroll":w!=null&&Oi("scroll",f);break;case"onScrollEnd":w!=null&&Oi("scrollend",f);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(r(61));if(x=w.__html,x!=null){if(L.children!=null)throw Error(r(60));f.innerHTML=x}}break;case"multiple":f.multiple=w&&typeof w!="function"&&typeof w!="symbol";break;case"muted":f.muted=w&&typeof w!="function"&&typeof w!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(w==null||typeof w=="function"||typeof w=="boolean"||typeof w=="symbol"){f.removeAttribute("xlink:href");break}x=_r(""+w),f.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",x);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":w!=null&&typeof w!="function"&&typeof w!="symbol"?f.setAttribute(x,""+w):f.removeAttribute(x);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":w&&typeof w!="function"&&typeof w!="symbol"?f.setAttribute(x,""):f.removeAttribute(x);break;case"capture":case"download":w===!0?f.setAttribute(x,""):w!==!1&&w!=null&&typeof w!="function"&&typeof w!="symbol"?f.setAttribute(x,w):f.removeAttribute(x);break;case"cols":case"rows":case"size":case"span":w!=null&&typeof w!="function"&&typeof w!="symbol"&&!isNaN(w)&&1<=w?f.setAttribute(x,w):f.removeAttribute(x);break;case"rowSpan":case"start":w==null||typeof w=="function"||typeof w=="symbol"||isNaN(w)?f.removeAttribute(x):f.setAttribute(x,w);break;case"popover":Oi("beforetoggle",f),Oi("toggle",f),kn(f,"popover",w);break;case"xlinkActuate":In(f,"http://www.w3.org/1999/xlink","xlink:actuate",w);break;case"xlinkArcrole":In(f,"http://www.w3.org/1999/xlink","xlink:arcrole",w);break;case"xlinkRole":In(f,"http://www.w3.org/1999/xlink","xlink:role",w);break;case"xlinkShow":In(f,"http://www.w3.org/1999/xlink","xlink:show",w);break;case"xlinkTitle":In(f,"http://www.w3.org/1999/xlink","xlink:title",w);break;case"xlinkType":In(f,"http://www.w3.org/1999/xlink","xlink:type",w);break;case"xmlBase":In(f,"http://www.w3.org/XML/1998/namespace","xml:base",w);break;case"xmlLang":In(f,"http://www.w3.org/XML/1998/namespace","xml:lang",w);break;case"xmlSpace":In(f,"http://www.w3.org/XML/1998/namespace","xml:space",w);break;case"is":kn(f,"is",w);break;case"innerText":case"textContent":break;default:(!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(x=lf.get(x)||x,kn(f,x,w))}}function LA(f,h,x,w,L,G){switch(x){case"style":wa(f,w,G);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(r(61));if(x=w.__html,x!=null){if(L.children!=null)throw Error(r(60));f.innerHTML=x}}break;case"children":typeof w=="string"?Wi(f,w):(typeof w=="number"||typeof w=="bigint")&&Wi(f,""+w);break;case"onScroll":w!=null&&Oi("scroll",f);break;case"onScrollEnd":w!=null&&Oi("scrollend",f);break;case"onClick":w!=null&&(f.onclick=Q_);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tt.hasOwnProperty(x))e:{if(x[0]==="o"&&x[1]==="n"&&(L=x.endsWith("Capture"),h=x.slice(2,L?x.length-7:void 0),G=f[un]||null,G=G!=null?G[x]:null,typeof G=="function"&&f.removeEventListener(h,G,L),typeof w=="function")){typeof G!="function"&&G!==null&&(x in f?f[x]=null:f.hasAttribute(x)&&f.removeAttribute(x)),f.addEventListener(h,w,L);break e}x in f?f[x]=w:w===!0?f.setAttribute(x,""):kn(f,x,w)}}}function so(f,h,x){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oi("error",f),Oi("load",f);var w=!1,L=!1,G;for(G in x)if(x.hasOwnProperty(G)){var ne=x[G];if(ne!=null)switch(G){case"src":w=!0;break;case"srcSet":L=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,h));default:dr(f,h,G,ne,x,null)}}L&&dr(f,h,"srcSet",x.srcSet,x,null),w&&dr(f,h,"src",x.src,x,null);return;case"input":Oi("invalid",f);var ge=G=ne=L=null,Re=null,Xe=null;for(w in x)if(x.hasOwnProperty(w)){var At=x[w];if(At!=null)switch(w){case"name":L=At;break;case"type":ne=At;break;case"checked":Re=At;break;case"defaultChecked":Xe=At;break;case"value":G=At;break;case"defaultValue":ge=At;break;case"children":case"dangerouslySetInnerHTML":if(At!=null)throw Error(r(137,h));break;default:dr(f,h,w,At,x,null)}}_i(f,G,ge,Re,Xe,ne,L,!1),jn(f);return;case"select":Oi("invalid",f),w=ne=G=null;for(L in x)if(x.hasOwnProperty(L)&&(ge=x[L],ge!=null))switch(L){case"value":G=ge;break;case"defaultValue":ne=ge;break;case"multiple":w=ge;default:dr(f,h,L,ge,x,null)}h=G,x=ne,f.multiple=!!w,h!=null?$i(f,!!w,h,!1):x!=null&&$i(f,!!w,x,!0);return;case"textarea":Oi("invalid",f),G=L=w=null;for(ne in x)if(x.hasOwnProperty(ne)&&(ge=x[ne],ge!=null))switch(ne){case"value":w=ge;break;case"defaultValue":L=ge;break;case"children":G=ge;break;case"dangerouslySetInnerHTML":if(ge!=null)throw Error(r(91));break;default:dr(f,h,ne,ge,x,null)}Or(f,w,L,G),jn(f);return;case"option":for(Re in x)if(x.hasOwnProperty(Re)&&(w=x[Re],w!=null))switch(Re){case"selected":f.selected=w&&typeof w!="function"&&typeof w!="symbol";break;default:dr(f,h,Re,w,x,null)}return;case"dialog":Oi("cancel",f),Oi("close",f);break;case"iframe":case"object":Oi("load",f);break;case"video":case"audio":for(w=0;w<Ey.length;w++)Oi(Ey[w],f);break;case"image":Oi("error",f),Oi("load",f);break;case"details":Oi("toggle",f);break;case"embed":case"source":case"link":Oi("error",f),Oi("load",f);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Xe in x)if(x.hasOwnProperty(Xe)&&(w=x[Xe],w!=null))switch(Xe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,h));default:dr(f,h,Xe,w,x,null)}return;default:if(Os(h)){for(At in x)x.hasOwnProperty(At)&&(w=x[At],w!==void 0&&LA(f,h,At,w,x,void 0));return}}for(ge in x)x.hasOwnProperty(ge)&&(w=x[ge],w!=null&&dr(f,h,ge,w,x,null))}function H5(f,h,x,w){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var L=null,G=null,ne=null,ge=null,Re=null,Xe=null,At=null;for(Et in x){var Ut=x[Et];if(x.hasOwnProperty(Et)&&Ut!=null)switch(Et){case"checked":break;case"value":break;case"defaultValue":Re=Ut;default:w.hasOwnProperty(Et)||dr(f,h,Et,null,w,Ut)}}for(var dt in w){var Et=w[dt];if(Ut=x[dt],w.hasOwnProperty(dt)&&(Et!=null||Ut!=null))switch(dt){case"type":G=Et;break;case"name":L=Et;break;case"checked":Xe=Et;break;case"defaultChecked":At=Et;break;case"value":ne=Et;break;case"defaultValue":ge=Et;break;case"children":case"dangerouslySetInnerHTML":if(Et!=null)throw Error(r(137,h));break;default:Et!==Ut&&dr(f,h,dt,Et,w,Ut)}}An(f,ne,ge,Re,Xe,At,G,L);return;case"select":Et=ne=ge=dt=null;for(G in x)if(Re=x[G],x.hasOwnProperty(G)&&Re!=null)switch(G){case"value":break;case"multiple":Et=Re;default:w.hasOwnProperty(G)||dr(f,h,G,null,w,Re)}for(L in w)if(G=w[L],Re=x[L],w.hasOwnProperty(L)&&(G!=null||Re!=null))switch(L){case"value":dt=G;break;case"defaultValue":ge=G;break;case"multiple":ne=G;default:G!==Re&&dr(f,h,L,G,w,Re)}h=ge,x=ne,w=Et,dt!=null?$i(f,!!x,dt,!1):!!w!=!!x&&(h!=null?$i(f,!!x,h,!0):$i(f,!!x,x?[]:"",!1));return;case"textarea":Et=dt=null;for(ge in x)if(L=x[ge],x.hasOwnProperty(ge)&&L!=null&&!w.hasOwnProperty(ge))switch(ge){case"value":break;case"children":break;default:dr(f,h,ge,null,w,L)}for(ne in w)if(L=w[ne],G=x[ne],w.hasOwnProperty(ne)&&(L!=null||G!=null))switch(ne){case"value":dt=L;break;case"defaultValue":Et=L;break;case"children":break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(91));break;default:L!==G&&dr(f,h,ne,L,w,G)}qi(f,dt,Et);return;case"option":for(var xn in x)if(dt=x[xn],x.hasOwnProperty(xn)&&dt!=null&&!w.hasOwnProperty(xn))switch(xn){case"selected":f.selected=!1;break;default:dr(f,h,xn,null,w,dt)}for(Re in w)if(dt=w[Re],Et=x[Re],w.hasOwnProperty(Re)&&dt!==Et&&(dt!=null||Et!=null))switch(Re){case"selected":f.selected=dt&&typeof dt!="function"&&typeof dt!="symbol";break;default:dr(f,h,Re,dt,w,Et)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Kn in x)dt=x[Kn],x.hasOwnProperty(Kn)&&dt!=null&&!w.hasOwnProperty(Kn)&&dr(f,h,Kn,null,w,dt);for(Xe in w)if(dt=w[Xe],Et=x[Xe],w.hasOwnProperty(Xe)&&dt!==Et&&(dt!=null||Et!=null))switch(Xe){case"children":case"dangerouslySetInnerHTML":if(dt!=null)throw Error(r(137,h));break;default:dr(f,h,Xe,dt,w,Et)}return;default:if(Os(h)){for(var ra in x)dt=x[ra],x.hasOwnProperty(ra)&&dt!==void 0&&!w.hasOwnProperty(ra)&&LA(f,h,ra,void 0,w,dt);for(At in w)dt=w[At],Et=x[At],!w.hasOwnProperty(At)||dt===Et||dt===void 0&&Et===void 0||LA(f,h,At,dt,w,Et);return}}for(var tt in x)dt=x[tt],x.hasOwnProperty(tt)&&dt!=null&&!w.hasOwnProperty(tt)&&dr(f,h,tt,null,w,dt);for(Ut in w)dt=w[Ut],Et=x[Ut],!w.hasOwnProperty(Ut)||dt===Et||dt==null&&Et==null||dr(f,h,Ut,dt,w,Et)}var NA=null,zA=null;function Z_(f){return f.nodeType===9?f:f.ownerDocument}function AB(f){switch(f){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function MB(f,h){if(f===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return f===1&&h==="foreignObject"?0:f}function UA(f,h){return f==="textarea"||f==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var FA=null;function G5(){var f=window.event;return f&&f.type==="popstate"?f===FA?!1:(FA=f,!0):(FA=null,!1)}var TB=typeof setTimeout=="function"?setTimeout:void 0,k5=typeof clearTimeout=="function"?clearTimeout:void 0,RB=typeof Promise=="function"?Promise:void 0,$5=typeof queueMicrotask=="function"?queueMicrotask:typeof RB<"u"?function(f){return RB.resolve(null).then(f).catch(V5)}:TB;function V5(f){setTimeout(function(){throw f})}function HA(f,h){var x=h,w=0;do{var L=x.nextSibling;if(f.removeChild(x),L&&L.nodeType===8)if(x=L.data,x==="/$"){if(w===0){f.removeChild(L),Dy(h);return}w--}else x!=="$"&&x!=="$?"&&x!=="$!"||w++;x=L}while(x);Dy(h)}function GA(f){var h=f.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var x=h;switch(h=h.nextSibling,x.nodeName){case"HTML":case"HEAD":case"BODY":GA(x),cr(x);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(x.rel.toLowerCase()==="stylesheet")continue}f.removeChild(x)}}function j5(f,h,x,w){for(;f.nodeType===1;){var L=x;if(f.nodeName.toLowerCase()!==h.toLowerCase()){if(!w&&(f.nodeName!=="INPUT"||f.type!=="hidden"))break}else if(w){if(!f[Rr])switch(h){case"meta":if(!f.hasAttribute("itemprop"))break;return f;case"link":if(G=f.getAttribute("rel"),G==="stylesheet"&&f.hasAttribute("data-precedence"))break;if(G!==L.rel||f.getAttribute("href")!==(L.href==null?null:L.href)||f.getAttribute("crossorigin")!==(L.crossOrigin==null?null:L.crossOrigin)||f.getAttribute("title")!==(L.title==null?null:L.title))break;return f;case"style":if(f.hasAttribute("data-precedence"))break;return f;case"script":if(G=f.getAttribute("src"),(G!==(L.src==null?null:L.src)||f.getAttribute("type")!==(L.type==null?null:L.type)||f.getAttribute("crossorigin")!==(L.crossOrigin==null?null:L.crossOrigin))&&G&&f.hasAttribute("async")&&!f.hasAttribute("itemprop"))break;return f;default:return f}}else if(h==="input"&&f.type==="hidden"){var G=L.name==null?null:""+L.name;if(L.type==="hidden"&&f.getAttribute("name")===G)return f}else return f;if(f=Cc(f.nextSibling),f===null)break}return null}function W5(f,h,x){if(h==="")return null;for(;f.nodeType!==3;)if((f.nodeType!==1||f.nodeName!=="INPUT"||f.type!=="hidden")&&!x||(f=Cc(f.nextSibling),f===null))return null;return f}function Cc(f){for(;f!=null;f=f.nextSibling){var h=f.nodeType;if(h===1||h===3)break;if(h===8){if(h=f.data,h==="$"||h==="$!"||h==="$?"||h==="F!"||h==="F")break;if(h==="/$")return null}}return f}function OB(f){f=f.previousSibling;for(var h=0;f;){if(f.nodeType===8){var x=f.data;if(x==="$"||x==="$!"||x==="$?"){if(h===0)return f;h--}else x==="/$"&&h++}f=f.previousSibling}return null}function IB(f,h,x){switch(h=Z_(x),f){case"html":if(f=h.documentElement,!f)throw Error(r(452));return f;case"head":if(f=h.head,!f)throw Error(r(453));return f;case"body":if(f=h.body,!f)throw Error(r(454));return f;default:throw Error(r(451))}}var Tl=new Map,BB=new Set;function ex(f){return typeof f.getRootNode=="function"?f.getRootNode():f.ownerDocument}var Lf=Q.d;Q.d={f:X5,r:Y5,D:q5,C:K5,L:J5,m:Q5,X:ek,S:Z5,M:tk};function X5(){var f=Lf.f(),h=Bf();return f||h}function Y5(f){var h=le(f);h!==null&&h.tag===5&&h.type==="form"?O_(h):Lf.r(f)}var Dg=typeof document>"u"?null:document;function DB(f,h,x){var w=Dg;if(w&&typeof h=="string"&&h){var L=Zn(h);L='link[rel="'+f+'"][href="'+L+'"]',typeof x=="string"&&(L+='[crossorigin="'+x+'"]'),BB.has(L)||(BB.add(L),f={rel:f,crossOrigin:x,href:h},w.querySelector(L)===null&&(h=w.createElement("link"),so(h,"link",f),Je(h),w.head.appendChild(h)))}}function q5(f){Lf.D(f),DB("dns-prefetch",f,null)}function K5(f,h){Lf.C(f,h),DB("preconnect",f,h)}function J5(f,h,x){Lf.L(f,h,x);var w=Dg;if(w&&f&&h){var L='link[rel="preload"][as="'+Zn(h)+'"]';h==="image"&&x&&x.imageSrcSet?(L+='[imagesrcset="'+Zn(x.imageSrcSet)+'"]',typeof x.imageSizes=="string"&&(L+='[imagesizes="'+Zn(x.imageSizes)+'"]')):L+='[href="'+Zn(f)+'"]';var G=L;switch(h){case"style":G=Pg(f);break;case"script":G=Lg(f)}Tl.has(G)||(f=z({rel:"preload",href:h==="image"&&x&&x.imageSrcSet?void 0:f,as:h},x),Tl.set(G,f),w.querySelector(L)!==null||h==="style"&&w.querySelector(Ay(G))||h==="script"&&w.querySelector(My(G))||(h=w.createElement("link"),so(h,"link",f),Je(h),w.head.appendChild(h)))}}function Q5(f,h){Lf.m(f,h);var x=Dg;if(x&&f){var w=h&&typeof h.as=="string"?h.as:"script",L='link[rel="modulepreload"][as="'+Zn(w)+'"][href="'+Zn(f)+'"]',G=L;switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":G=Lg(f)}if(!Tl.has(G)&&(f=z({rel:"modulepreload",href:f},h),Tl.set(G,f),x.querySelector(L)===null)){switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(x.querySelector(My(G)))return}w=x.createElement("link"),so(w,"link",f),Je(w),x.head.appendChild(w)}}}function Z5(f,h,x){Lf.S(f,h,x);var w=Dg;if(w&&f){var L=rt(w).hoistableStyles,G=Pg(f);h=h||"default";var ne=L.get(G);if(!ne){var ge={loading:0,preload:null};if(ne=w.querySelector(Ay(G)))ge.loading=5;else{f=z({rel:"stylesheet",href:f,"data-precedence":h},x),(x=Tl.get(G))&&kA(f,x);var Re=ne=w.createElement("link");Je(Re),so(Re,"link",f),Re._p=new Promise(function(Xe,At){Re.onload=Xe,Re.onerror=At}),Re.addEventListener("load",function(){ge.loading|=1}),Re.addEventListener("error",function(){ge.loading|=2}),ge.loading|=4,tx(ne,h,w)}ne={type:"stylesheet",instance:ne,count:1,state:ge},L.set(G,ne)}}}function ek(f,h){Lf.X(f,h);var x=Dg;if(x&&f){var w=rt(x).hoistableScripts,L=Lg(f),G=w.get(L);G||(G=x.querySelector(My(L)),G||(f=z({src:f,async:!0},h),(h=Tl.get(L))&&$A(f,h),G=x.createElement("script"),Je(G),so(G,"link",f),x.head.appendChild(G)),G={type:"script",instance:G,count:1,state:null},w.set(L,G))}}function tk(f,h){Lf.M(f,h);var x=Dg;if(x&&f){var w=rt(x).hoistableScripts,L=Lg(f),G=w.get(L);G||(G=x.querySelector(My(L)),G||(f=z({src:f,async:!0,type:"module"},h),(h=Tl.get(L))&&$A(f,h),G=x.createElement("script"),Je(G),so(G,"link",f),x.head.appendChild(G)),G={type:"script",instance:G,count:1,state:null},w.set(L,G))}}function PB(f,h,x,w){var L=(L=Ce.current)?ex(L):null;if(!L)throw Error(r(446));switch(f){case"meta":case"title":return null;case"style":return typeof x.precedence=="string"&&typeof x.href=="string"?(h=Pg(x.href),x=rt(L).hoistableStyles,w=x.get(h),w||(w={type:"style",instance:null,count:0,state:null},x.set(h,w)),w):{type:"void",instance:null,count:0,state:null};case"link":if(x.rel==="stylesheet"&&typeof x.href=="string"&&typeof x.precedence=="string"){f=Pg(x.href);var G=rt(L).hoistableStyles,ne=G.get(f);if(ne||(L=L.ownerDocument||L,ne={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},G.set(f,ne),(G=L.querySelector(Ay(f)))&&!G._p&&(ne.instance=G,ne.state.loading=5),Tl.has(f)||(x={rel:"preload",as:"style",href:x.href,crossOrigin:x.crossOrigin,integrity:x.integrity,media:x.media,hrefLang:x.hrefLang,referrerPolicy:x.referrerPolicy},Tl.set(f,x),G||nk(L,f,x,ne.state))),h&&w===null)throw Error(r(528,""));return ne}if(h&&w!==null)throw Error(r(529,""));return null;case"script":return h=x.async,x=x.src,typeof x=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=Lg(x),x=rt(L).hoistableScripts,w=x.get(h),w||(w={type:"script",instance:null,count:0,state:null},x.set(h,w)),w):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,f))}}function Pg(f){return'href="'+Zn(f)+'"'}function Ay(f){return'link[rel="stylesheet"]['+f+"]"}function LB(f){return z({},f,{"data-precedence":f.precedence,precedence:null})}function nk(f,h,x,w){f.querySelector('link[rel="preload"][as="style"]['+h+"]")?w.loading=1:(h=f.createElement("link"),w.preload=h,h.addEventListener("load",function(){return w.loading|=1}),h.addEventListener("error",function(){return w.loading|=2}),so(h,"link",x),Je(h),f.head.appendChild(h))}function Lg(f){return'[src="'+Zn(f)+'"]'}function My(f){return"script[async]"+f}function NB(f,h,x){if(h.count++,h.instance===null)switch(h.type){case"style":var w=f.querySelector('style[data-href~="'+Zn(x.href)+'"]');if(w)return h.instance=w,Je(w),w;var L=z({},x,{"data-href":x.href,"data-precedence":x.precedence,href:null,precedence:null});return w=(f.ownerDocument||f).createElement("style"),Je(w),so(w,"style",L),tx(w,x.precedence,f),h.instance=w;case"stylesheet":L=Pg(x.href);var G=f.querySelector(Ay(L));if(G)return h.state.loading|=4,h.instance=G,Je(G),G;w=LB(x),(L=Tl.get(L))&&kA(w,L),G=(f.ownerDocument||f).createElement("link"),Je(G);var ne=G;return ne._p=new Promise(function(ge,Re){ne.onload=ge,ne.onerror=Re}),so(G,"link",w),h.state.loading|=4,tx(G,x.precedence,f),h.instance=G;case"script":return G=Lg(x.src),(L=f.querySelector(My(G)))?(h.instance=L,Je(L),L):(w=x,(L=Tl.get(G))&&(w=z({},x),$A(w,L)),f=f.ownerDocument||f,L=f.createElement("script"),Je(L),so(L,"link",w),f.head.appendChild(L),h.instance=L);case"void":return null;default:throw Error(r(443,h.type))}else h.type==="stylesheet"&&(h.state.loading&4)===0&&(w=h.instance,h.state.loading|=4,tx(w,x.precedence,f));return h.instance}function tx(f,h,x){for(var w=x.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),L=w.length?w[w.length-1]:null,G=L,ne=0;ne<w.length;ne++){var ge=w[ne];if(ge.dataset.precedence===h)G=ge;else if(G!==L)break}G?G.parentNode.insertBefore(f,G.nextSibling):(h=x.nodeType===9?x.head:x,h.insertBefore(f,h.firstChild))}function kA(f,h){f.crossOrigin==null&&(f.crossOrigin=h.crossOrigin),f.referrerPolicy==null&&(f.referrerPolicy=h.referrerPolicy),f.title==null&&(f.title=h.title)}function $A(f,h){f.crossOrigin==null&&(f.crossOrigin=h.crossOrigin),f.referrerPolicy==null&&(f.referrerPolicy=h.referrerPolicy),f.integrity==null&&(f.integrity=h.integrity)}var nx=null;function zB(f,h,x){if(nx===null){var w=new Map,L=nx=new Map;L.set(x,w)}else L=nx,w=L.get(x),w||(w=new Map,L.set(x,w));if(w.has(f))return w;for(w.set(f,null),x=x.getElementsByTagName(f),L=0;L<x.length;L++){var G=x[L];if(!(G[Rr]||G[Qn]||f==="link"&&G.getAttribute("rel")==="stylesheet")&&G.namespaceURI!=="http://www.w3.org/2000/svg"){var ne=G.getAttribute(h)||"";ne=f+ne;var ge=w.get(ne);ge?ge.push(G):w.set(ne,[G])}}return w}function UB(f,h,x){f=f.ownerDocument||f,f.head.insertBefore(x,h==="title"?f.querySelector("head > title"):null)}function ik(f,h,x){if(x===1||h.itemProp!=null)return!1;switch(f){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;switch(h.rel){case"stylesheet":return f=h.disabled,typeof h.precedence=="string"&&f==null;default:return!0}case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function FB(f){return!(f.type==="stylesheet"&&(f.state.loading&3)===0)}var Ty=null;function rk(){}function ak(f,h,x){if(Ty===null)throw Error(r(475));var w=Ty;if(h.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var L=Pg(x.href),G=f.querySelector(Ay(L));if(G){f=G._p,f!==null&&typeof f=="object"&&typeof f.then=="function"&&(w.count++,w=ix.bind(w),f.then(w,w)),h.state.loading|=4,h.instance=G,Je(G);return}G=f.ownerDocument||f,x=LB(x),(L=Tl.get(L))&&kA(x,L),G=G.createElement("link"),Je(G);var ne=G;ne._p=new Promise(function(ge,Re){ne.onload=ge,ne.onerror=Re}),so(G,"link",x),h.instance=G}w.stylesheets===null&&(w.stylesheets=new Map),w.stylesheets.set(h,f),(f=h.state.preload)&&(h.state.loading&3)===0&&(w.count++,h=ix.bind(w),f.addEventListener("load",h),f.addEventListener("error",h))}}function ok(){if(Ty===null)throw Error(r(475));var f=Ty;return f.stylesheets&&f.count===0&&VA(f,f.stylesheets),0<f.count?function(h){var x=setTimeout(function(){if(f.stylesheets&&VA(f,f.stylesheets),f.unsuspend){var w=f.unsuspend;f.unsuspend=null,w()}},6e4);return f.unsuspend=h,function(){f.unsuspend=null,clearTimeout(x)}}:null}function ix(){if(this.count--,this.count===0){if(this.stylesheets)VA(this,this.stylesheets);else if(this.unsuspend){var f=this.unsuspend;this.unsuspend=null,f()}}}var rx=null;function VA(f,h){f.stylesheets=null,f.unsuspend!==null&&(f.count++,rx=new Map,h.forEach(sk,f),rx=null,ix.call(f))}function sk(f,h){if(!(h.state.loading&4)){var x=rx.get(f);if(x)var w=x.get(null);else{x=new Map,rx.set(f,x);for(var L=f.querySelectorAll("link[data-precedence],style[data-precedence]"),G=0;G<L.length;G++){var ne=L[G];(ne.nodeName==="LINK"||ne.getAttribute("media")!=="not all")&&(x.set(ne.dataset.precedence,ne),w=ne)}w&&x.set(null,w)}L=h.instance,ne=L.getAttribute("data-precedence"),G=x.get(ne)||w,G===w&&x.set(null,L),x.set(ne,L),this.count++,w=ix.bind(this),L.addEventListener("load",w),L.addEventListener("error",w),G?G.parentNode.insertBefore(L,G.nextSibling):(f=f.nodeType===9?f.head:f,f.insertBefore(L,f.firstChild)),h.state.loading|=4}}var Ry={$$typeof:C,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function lk(f,h,x,w,L,G,ne,ge){this.tag=1,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yt(0),this.hiddenUpdates=Yt(null),this.identifierPrefix=w,this.onUncaughtError=L,this.onCaughtError=G,this.onRecoverableError=ne,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ge,this.incompleteTransitions=new Map}function HB(f,h,x,w,L,G,ne,ge,Re,Xe,At,Ut){return f=new lk(f,h,x,ne,ge,Re,Xe,Ut),h=1,G===!0&&(h|=24),G=$r(3,null,null,h),f.current=G,G.stateNode=f,h=X0(),h.refCount++,f.pooledCache=h,h.refCount++,G.memoizedState={element:w,isDehydrated:x,cache:h},no(G),f}function GB(f){return f?(f=su,f):su}function kB(f,h,x,w,L,G){L=GB(L),w.context===null?w.context=L:w.pendingContext=L,w=Ko(h),w.payload={element:x},G=G===void 0?null:G,G!==null&&(w.callback=G),x=Jo(f,w,h),x!==null&&(ia(x,f,h),wu(x,f,h))}function $B(f,h){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var x=f.retryLane;f.retryLane=x!==0&&x<h?x:h}}function jA(f,h){$B(f,h),(f=f.alternate)&&$B(f,h)}function VB(f){if(f.tag===13){var h=ec(f,67108864);h!==null&&ia(h,f,67108864),jA(f,67108864)}}var ax=!0;function ck(f,h,x,w){var L=U.T;U.T=null;var G=Q.p;try{Q.p=2,WA(f,h,x,w)}finally{Q.p=G,U.T=L}}function uk(f,h,x,w){var L=U.T;U.T=null;var G=Q.p;try{Q.p=8,WA(f,h,x,w)}finally{Q.p=G,U.T=L}}function WA(f,h,x,w){if(ax){var L=XA(w);if(L===null)PA(f,h,w,ox,x),WB(f,w);else if(dk(L,f,h,x,w))w.stopPropagation();else if(WB(f,w),h&4&&-1<fk.indexOf(f)){for(;L!==null;){var G=le(L);if(G!==null)switch(G.tag){case 3:if(G=G.stateNode,G.current.memoizedState.isDehydrated){var ne=Lt(G.pendingLanes);if(ne!==0){var ge=G;for(ge.pendingLanes|=2,ge.entangledLanes|=2;ne;){var Re=1<<31-Ge(ne);ge.entanglements[1]|=Re,ne&=~Re}ar(G),(Xn&6)===0&&(gi=De()+500,vi(0))}}break;case 13:ge=ec(G,2),ge!==null&&ia(ge,G,2),Bf(),jA(G,2)}if(G=XA(w),G===null&&PA(f,h,w,ox,x),G===L)break;L=G}L!==null&&w.stopPropagation()}else PA(f,h,w,null,x)}}function XA(f){return f=La(f),YA(f)}var ox=null;function YA(f){if(ox=null,f=Sr(f),f!==null){var h=ee(f);if(h===null)f=null;else{var x=h.tag;if(x===13){if(f=ue(h),f!==null)return f;f=null}else if(x===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;f=null}else h!==f&&(f=null)}}return ox=f,null}function jB(f){switch(f){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qe()){case He:return 2;case gt:return 8;case st:case pt:return 32;case Ot:return 268435456;default:return 32}default:return 32}}var qA=!1,Qd=null,Zd=null,eh=null,Oy=new Map,Iy=new Map,th=[],fk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function WB(f,h){switch(f){case"focusin":case"focusout":Qd=null;break;case"dragenter":case"dragleave":Zd=null;break;case"mouseover":case"mouseout":eh=null;break;case"pointerover":case"pointerout":Oy.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":Iy.delete(h.pointerId)}}function By(f,h,x,w,L,G){return f===null||f.nativeEvent!==G?(f={blockedOn:h,domEventName:x,eventSystemFlags:w,nativeEvent:G,targetContainers:[L]},h!==null&&(h=le(h),h!==null&&VB(h)),f):(f.eventSystemFlags|=w,h=f.targetContainers,L!==null&&h.indexOf(L)===-1&&h.push(L),f)}function dk(f,h,x,w,L){switch(h){case"focusin":return Qd=By(Qd,f,h,x,w,L),!0;case"dragenter":return Zd=By(Zd,f,h,x,w,L),!0;case"mouseover":return eh=By(eh,f,h,x,w,L),!0;case"pointerover":var G=L.pointerId;return Oy.set(G,By(Oy.get(G)||null,f,h,x,w,L)),!0;case"gotpointercapture":return G=L.pointerId,Iy.set(G,By(Iy.get(G)||null,f,h,x,w,L)),!0}return!1}function XB(f){var h=Sr(f.target);if(h!==null){var x=ee(h);if(x!==null){if(h=x.tag,h===13){if(h=ue(x),h!==null){f.blockedOn=h,wn(f.priority,function(){if(x.tag===13){var w=oo(),L=ec(x,w);L!==null&&ia(L,x,w),jA(x,w)}});return}}else if(h===3&&x.stateNode.current.memoizedState.isDehydrated){f.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}f.blockedOn=null}function sx(f){if(f.blockedOn!==null)return!1;for(var h=f.targetContainers;0<h.length;){var x=XA(f.nativeEvent);if(x===null){x=f.nativeEvent;var w=new x.constructor(x.type,x);Go=w,x.target.dispatchEvent(w),Go=null}else return h=le(x),h!==null&&VB(h),f.blockedOn=x,!1;h.shift()}return!0}function YB(f,h,x){sx(f)&&x.delete(h)}function hk(){qA=!1,Qd!==null&&sx(Qd)&&(Qd=null),Zd!==null&&sx(Zd)&&(Zd=null),eh!==null&&sx(eh)&&(eh=null),Oy.forEach(YB),Iy.forEach(YB)}function lx(f,h){f.blockedOn===h&&(f.blockedOn=null,qA||(qA=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,hk)))}var cx=null;function qB(f){cx!==f&&(cx=f,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){cx===f&&(cx=null);for(var h=0;h<f.length;h+=3){var x=f[h],w=f[h+1],L=f[h+2];if(typeof w!="function"){if(YA(w||x)===null)continue;break}var G=le(x);G!==null&&(f.splice(h,3),h-=3,ny(G,{pending:!0,data:L,method:x.method,action:w},w,L))}}))}function Dy(f){function h(Re){return lx(Re,f)}Qd!==null&&lx(Qd,f),Zd!==null&&lx(Zd,f),eh!==null&&lx(eh,f),Oy.forEach(h),Iy.forEach(h);for(var x=0;x<th.length;x++){var w=th[x];w.blockedOn===f&&(w.blockedOn=null)}for(;0<th.length&&(x=th[0],x.blockedOn===null);)XB(x),x.blockedOn===null&&th.shift();if(x=(f.ownerDocument||f).$$reactFormReplay,x!=null)for(w=0;w<x.length;w+=3){var L=x[w],G=x[w+1],ne=L[un]||null;if(typeof G=="function")ne||qB(x);else if(ne){var ge=null;if(G&&G.hasAttribute("formAction")){if(L=G,ne=G[un]||null)ge=ne.formAction;else if(YA(L)!==null)continue}else ge=ne.action;typeof ge=="function"?x[w+1]=ge:(x.splice(w,3),w-=3),qB(x)}}}function KA(f){this._internalRoot=f}ux.prototype.render=KA.prototype.render=function(f){var h=this._internalRoot;if(h===null)throw Error(r(409));var x=h.current,w=oo();kB(x,w,f,h,null,null)},ux.prototype.unmount=KA.prototype.unmount=function(){var f=this._internalRoot;if(f!==null){this._internalRoot=null;var h=f.containerInfo;f.tag===0&&jt(),kB(f.current,2,null,f,null,null),Bf(),h[ii]=null}};function ux(f){this._internalRoot=f}ux.prototype.unstable_scheduleHydration=function(f){if(f){var h=br();f={blockedOn:null,target:f,priority:h};for(var x=0;x<th.length&&h!==0&&h<th[x].priority;x++);th.splice(x,0,f),x===0&&XB(f)}};var KB=e.version;if(KB!=="19.0.0")throw Error(r(527,KB,"19.0.0"));Q.findDOMNode=function(f){var h=f._reactInternals;if(h===void 0)throw typeof f.render=="function"?Error(r(188)):(f=Object.keys(f).join(","),Error(r(268,f)));return f=ie(h),f=f!==null?me(f):null,f=f===null?null:f.stateNode,f};var pk={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:U,findFiberByHostInstance:Sr,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fx.isDisabled&&fx.supportsFiber)try{Ct=fx.inject(pk),je=fx}catch{}}return Ly.createRoot=function(f,h){if(!a(f))throw Error(r(299));var x=!1,w="",L=U_,G=F_,ne=H_,ge=null;return h!=null&&(h.unstable_strictMode===!0&&(x=!0),h.identifierPrefix!==void 0&&(w=h.identifierPrefix),h.onUncaughtError!==void 0&&(L=h.onUncaughtError),h.onCaughtError!==void 0&&(G=h.onCaughtError),h.onRecoverableError!==void 0&&(ne=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(ge=h.unstable_transitionCallbacks)),h=HB(f,1,!1,null,null,x,w,L,G,ne,ge,null),f[ii]=h.current,DA(f.nodeType===8?f.parentNode:f),new KA(h)},Ly.hydrateRoot=function(f,h,x){if(!a(f))throw Error(r(299));var w=!1,L="",G=U_,ne=F_,ge=H_,Re=null,Xe=null;return x!=null&&(x.unstable_strictMode===!0&&(w=!0),x.identifierPrefix!==void 0&&(L=x.identifierPrefix),x.onUncaughtError!==void 0&&(G=x.onUncaughtError),x.onCaughtError!==void 0&&(ne=x.onCaughtError),x.onRecoverableError!==void 0&&(ge=x.onRecoverableError),x.unstable_transitionCallbacks!==void 0&&(Re=x.unstable_transitionCallbacks),x.formState!==void 0&&(Xe=x.formState)),h=HB(f,1,!0,h,x??null,w,L,G,ne,ge,Re,Xe),h.context=GB(null),x=h.current,w=oo(),L=Ko(w),L.callback=null,Jo(x,L,w),h.current.lanes=w,yn(h,w),ar(h),f[ii]=h.current,DA(f),new ux(h)},Ly.version="19.0.0",Ly}var oD;function xk(){if(oD)return ZA.exports;oD=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ZA.exports=_k(),ZA.exports}var Ck=xk(),dO=A.createContext({});function Nt(){return Nt=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Nt.apply(null,arguments)}function $z(n){if(Array.isArray(n))return n}function Ek(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,a,o,l,s=[],u=!0,d=!1;try{if(o=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=o.call(t)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(g){d=!0,a=g}finally{try{if(!u&&t.return!=null&&(l=t.return(),Object(l)!==l))return}finally{if(d)throw a}}return s}}function uR(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function hO(n,e){if(n){if(typeof n=="string")return uR(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?uR(n,e):void 0}}function Vz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bt(n,e){return $z(n)||Ek(n,e)||hO(n,e)||Vz()}function mn(n){"@babel/helpers - typeof";return mn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mn(n)}function wk(n,e){if(mn(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(mn(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function jz(n){var e=wk(n,"string");return mn(e)=="symbol"?e:e+""}function fe(n,e,t){return(e=jz(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ak(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function $n(n,e){if(n==null)return{};var t,r,a=Ak(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(a[t]=n[t])}return a}var iM={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var sD;function Mk(){return sD||(sD=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var o="",l=0;l<arguments.length;l++){var s=arguments[l];s&&(o=a(o,r(s)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var l="";for(var s in o)e.call(o,s)&&o[s]&&(l=a(l,s));return l}function a(o,l){return l?o?o+" "+l:o+l:o}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(iM)),iM.exports}var Tk=Mk();const et=zm(Tk),Xa=Math.round;function rM(n,e){const t=n.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],r=t.map(a=>parseFloat(a));for(let a=0;a<3;a+=1)r[a]=e(r[a]||0,t[a]||"",a);return t[3]?r[3]=t[3].includes("%")?r[3]/100:r[3]:r[3]=1,r}const lD=(n,e,t)=>t===0?n:n/100;function Ny(n,e){const t=e||255;return n>t?t:n<0?0:n}class Fi{constructor(e){fe(this,"isValid",!0),fe(this,"r",0),fe(this,"g",0),fe(this,"b",0),fe(this,"a",1),fe(this,"_h",void 0),fe(this,"_s",void 0),fe(this,"_l",void 0),fe(this,"_v",void 0),fe(this,"_max",void 0),fe(this,"_min",void 0),fe(this,"_brightness",void 0);function t(a){return a[0]in e&&a[1]in e&&a[2]in e}if(e)if(typeof e=="string"){let o=function(l){return a.startsWith(l)};var r=o;const a=e.trim();/^#?[A-F\d]{3,8}$/i.test(a)?this.fromHexString(a):o("rgb")?this.fromRgbString(a):o("hsl")?this.fromHslString(a):(o("hsv")||o("hsb"))&&this.fromHsvString(a)}else if(e instanceof Fi)this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this._h=e._h,this._s=e._s,this._l=e._l,this._v=e._v;else if(t("rgb"))this.r=Ny(e.r),this.g=Ny(e.g),this.b=Ny(e.b),this.a=typeof e.a=="number"?Ny(e.a,1):1;else if(t("hsl"))this.fromHsl(e);else if(t("hsv"))this.fromHsv(e);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(e))}setR(e){return this._sc("r",e)}setG(e){return this._sc("g",e)}setB(e){return this._sc("b",e)}setA(e){return this._sc("a",e,1)}setHue(e){const t=this.toHsv();return t.h=e,this._c(t)}getLuminance(){function e(o){const l=o/255;return l<=.03928?l/12.92:Math.pow((l+.055)/1.055,2.4)}const t=e(this.r),r=e(this.g),a=e(this.b);return .2126*t+.7152*r+.0722*a}getHue(){if(typeof this._h>"u"){const e=this.getMax()-this.getMin();e===0?this._h=0:this._h=Xa(60*(this.r===this.getMax()?(this.g-this.b)/e+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/e+2:(this.r-this.g)/e+4))}return this._h}getSaturation(){if(typeof this._s>"u"){const e=this.getMax()-this.getMin();e===0?this._s=0:this._s=e/this.getMax()}return this._s}getLightness(){return typeof this._l>"u"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v>"u"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness>"u"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(e=10){const t=this.getHue(),r=this.getSaturation();let a=this.getLightness()-e/100;return a<0&&(a=0),this._c({h:t,s:r,l:a,a:this.a})}lighten(e=10){const t=this.getHue(),r=this.getSaturation();let a=this.getLightness()+e/100;return a>1&&(a=1),this._c({h:t,s:r,l:a,a:this.a})}mix(e,t=50){const r=this._c(e),a=t/100,o=s=>(r[s]-this[s])*a+this[s],l={r:Xa(o("r")),g:Xa(o("g")),b:Xa(o("b")),a:Xa(o("a")*100)/100};return this._c(l)}tint(e=10){return this.mix({r:255,g:255,b:255,a:1},e)}shade(e=10){return this.mix({r:0,g:0,b:0,a:1},e)}onBackground(e){const t=this._c(e),r=this.a+t.a*(1-this.a),a=o=>Xa((this[o]*this.a+t[o]*t.a*(1-this.a))/r);return this._c({r:a("r"),g:a("g"),b:a("b"),a:r})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}clone(){return this._c(this)}toHexString(){let e="#";const t=(this.r||0).toString(16);e+=t.length===2?t:"0"+t;const r=(this.g||0).toString(16);e+=r.length===2?r:"0"+r;const a=(this.b||0).toString(16);if(e+=a.length===2?a:"0"+a,typeof this.a=="number"&&this.a>=0&&this.a<1){const o=Xa(this.a*255).toString(16);e+=o.length===2?o:"0"+o}return e}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const e=this.getHue(),t=Xa(this.getSaturation()*100),r=Xa(this.getLightness()*100);return this.a!==1?`hsla(${e},${t}%,${r}%,${this.a})`:`hsl(${e},${t}%,${r}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(e,t,r){const a=this.clone();return a[e]=Ny(t,r),a}_c(e){return new this.constructor(e)}getMax(){return typeof this._max>"u"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min>"u"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(e){const t=e.replace("#","");function r(a,o){return parseInt(t[a]+t[o||a],16)}t.length<6?(this.r=r(0),this.g=r(1),this.b=r(2),this.a=t[3]?r(3)/255:1):(this.r=r(0,1),this.g=r(2,3),this.b=r(4,5),this.a=t[6]?r(6,7)/255:1)}fromHsl({h:e,s:t,l:r,a}){if(this._h=e%360,this._s=t,this._l=r,this.a=typeof a=="number"?a:1,t<=0){const _=Xa(r*255);this.r=_,this.g=_,this.b=_}let o=0,l=0,s=0;const u=e/60,d=(1-Math.abs(2*r-1))*t,g=d*(1-Math.abs(u%2-1));u>=0&&u<1?(o=d,l=g):u>=1&&u<2?(o=g,l=d):u>=2&&u<3?(l=d,s=g):u>=3&&u<4?(l=g,s=d):u>=4&&u<5?(o=g,s=d):u>=5&&u<6&&(o=d,s=g);const y=r-d/2;this.r=Xa((o+y)*255),this.g=Xa((l+y)*255),this.b=Xa((s+y)*255)}fromHsv({h:e,s:t,v:r,a}){this._h=e%360,this._s=t,this._v=r,this.a=typeof a=="number"?a:1;const o=Xa(r*255);if(this.r=o,this.g=o,this.b=o,t<=0)return;const l=e/60,s=Math.floor(l),u=l-s,d=Xa(r*(1-t)*255),g=Xa(r*(1-t*u)*255),y=Xa(r*(1-t*(1-u))*255);switch(s){case 0:this.g=y,this.b=d;break;case 1:this.r=g,this.b=d;break;case 2:this.r=d,this.b=y;break;case 3:this.r=d,this.g=g;break;case 4:this.r=y,this.g=d;break;case 5:default:this.g=d,this.b=g;break}}fromHsvString(e){const t=rM(e,lD);this.fromHsv({h:t[0],s:t[1],v:t[2],a:t[3]})}fromHslString(e){const t=rM(e,lD);this.fromHsl({h:t[0],s:t[1],l:t[2],a:t[3]})}fromRgbString(e){const t=rM(e,(r,a)=>a.includes("%")?Xa(r/100*255):r);this.r=t[0],this.g=t[1],this.b=t[2],this.a=t[3]}}var dx=2,cD=.16,Rk=.05,Ok=.05,Ik=.15,Wz=5,Xz=4,Bk=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function uD(n,e,t){var r;return Math.round(n.h)>=60&&Math.round(n.h)<=240?r=t?Math.round(n.h)-dx*e:Math.round(n.h)+dx*e:r=t?Math.round(n.h)+dx*e:Math.round(n.h)-dx*e,r<0?r+=360:r>=360&&(r-=360),r}function fD(n,e,t){if(n.h===0&&n.s===0)return n.s;var r;return t?r=n.s-cD*e:e===Xz?r=n.s+cD:r=n.s+Rk*e,r>1&&(r=1),t&&e===Wz&&r>.1&&(r=.1),r<.06&&(r=.06),Math.round(r*100)/100}function dD(n,e,t){var r;return t?r=n.v+Ok*e:r=n.v-Ik*e,r=Math.max(0,Math.min(1,r)),Math.round(r*100)/100}function Vb(n){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[],r=new Fi(n),a=r.toHsv(),o=Wz;o>0;o-=1){var l=new Fi({h:uD(a,o,!0),s:fD(a,o,!0),v:dD(a,o,!0)});t.push(l)}t.push(r);for(var s=1;s<=Xz;s+=1){var u=new Fi({h:uD(a,s),s:fD(a,s),v:dD(a,s)});t.push(u)}return e.theme==="dark"?Bk.map(function(d){var g=d.index,y=d.amount;return new Fi(e.backgroundColor||"#141414").mix(t[g],y).toHexString()}):t.map(function(d){return d.toHexString()})}var Wv={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},fR=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];fR.primary=fR[5];var dR=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];dR.primary=dR[5];var hR=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];hR.primary=hR[5];var pR=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];pR.primary=pR[5];var mR=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];mR.primary=mR[5];var gR=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];gR.primary=gR[5];var vR=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];vR.primary=vR[5];var yR=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];yR.primary=yR[5];var t0=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];t0.primary=t0[5];var bR=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];bR.primary=bR[5];var SR=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];SR.primary=SR[5];var _R=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];_R.primary=_R[5];var xR=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];xR.primary=xR[5];var aM={red:fR,volcano:dR,orange:hR,gold:pR,yellow:mR,lime:gR,green:vR,cyan:yR,blue:t0,geekblue:bR,purple:SR,magenta:_R,grey:xR};function hD(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function Ne(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?hD(Object(t),!0).forEach(function(r){fe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):hD(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function ls(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function CR(n,e){if(!n)return!1;if(n.contains)return n.contains(e);for(var t=e;t;){if(t===n)return!0;t=t.parentNode}return!1}var pD="data-rc-order",mD="data-rc-priority",Dk="rc-util-key",ER=new Map;function Yz(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.mark;return e?e.startsWith("data-")?e:"data-".concat(e):Dk}function ZE(n){if(n.attachTo)return n.attachTo;var e=document.querySelector("head");return e||document.body}function Pk(n){return n==="queue"?"prependQueue":n?"prepend":"append"}function pO(n){return Array.from((ER.get(n)||n).children).filter(function(e){return e.tagName==="STYLE"})}function qz(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!ls())return null;var t=e.csp,r=e.prepend,a=e.priority,o=a===void 0?0:a,l=Pk(r),s=l==="prependQueue",u=document.createElement("style");u.setAttribute(pD,l),s&&o&&u.setAttribute(mD,"".concat(o)),t!=null&&t.nonce&&(u.nonce=t==null?void 0:t.nonce),u.innerHTML=n;var d=ZE(e),g=d.firstChild;if(r){if(s){var y=(e.styles||pO(d)).filter(function(_){if(!["prepend","prependQueue"].includes(_.getAttribute(pD)))return!1;var C=Number(_.getAttribute(mD)||0);return o>=C});if(y.length)return d.insertBefore(u,y[y.length-1].nextSibling),u}d.insertBefore(u,g)}else d.appendChild(u);return u}function Kz(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=ZE(e);return(e.styles||pO(t)).find(function(r){return r.getAttribute(Yz(e))===n})}function jb(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=Kz(n,e);if(t){var r=ZE(e);r.removeChild(t)}}function Lk(n,e){var t=ER.get(n);if(!t||!CR(document,t)){var r=qz("",e),a=r.parentNode;ER.set(n,a),n.removeChild(r)}}function sd(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=ZE(t),a=pO(r),o=Ne(Ne({},t),{},{styles:a});Lk(r,o);var l=Kz(e,o);if(l){var s,u;if((s=o.csp)!==null&&s!==void 0&&s.nonce&&l.nonce!==((u=o.csp)===null||u===void 0?void 0:u.nonce)){var d;l.nonce=(d=o.csp)===null||d===void 0?void 0:d.nonce}return l.innerHTML!==n&&(l.innerHTML=n),l}var g=qz(n,o);return g.setAttribute(Yz(o),e),g}function Jz(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}function Nk(n){return Jz(n)instanceof ShadowRoot}function T1(n){return Nk(n)?Jz(n):null}var wR={},zk=function(e){};function Uk(n,e){}function Fk(n,e){}function Hk(){wR={}}function Qz(n,e,t){!e&&!wR[t]&&(n(!1,t),wR[t]=!0)}function No(n,e){Qz(Uk,n,e)}function Gk(n,e){Qz(Fk,n,e)}No.preMessage=zk;No.resetWarned=Hk;No.noteOnce=Gk;function kk(n){return n.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}function $k(n,e){No(n,"[@ant-design/icons] ".concat(e))}function gD(n){return mn(n)==="object"&&typeof n.name=="string"&&typeof n.theme=="string"&&(mn(n.icon)==="object"||typeof n.icon=="function")}function vD(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(n).reduce(function(e,t){var r=n[t];switch(t){case"class":e.className=r,delete e.class;break;default:delete e[t],e[kk(t)]=r}return e},{})}function AR(n,e,t){return t?We.createElement(n.tag,Ne(Ne({key:e},vD(n.attrs)),t),(n.children||[]).map(function(r,a){return AR(r,"".concat(e,"-").concat(n.tag,"-").concat(a))})):We.createElement(n.tag,Ne({key:e},vD(n.attrs)),(n.children||[]).map(function(r,a){return AR(r,"".concat(e,"-").concat(n.tag,"-").concat(a))}))}function Zz(n){return Vb(n)[0]}function eU(n){return n?Array.isArray(n)?n:[n]:[]}var Vk=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,jk=function(e){var t=A.useContext(dO),r=t.csp,a=t.prefixCls,o=t.layer,l=Vk;a&&(l=l.replace(/anticon/g,a)),o&&(l="@layer ".concat(o,` {
`).concat(l,`
}`)),A.useEffect(function(){var s=e.current,u=T1(s);sd(l,"@ant-design-icons",{prepend:!o,csp:r,attachTo:u})},[])},Wk=["icon","className","onClick","style","primaryColor","secondaryColor"],Mb={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function Xk(n){var e=n.primaryColor,t=n.secondaryColor;Mb.primaryColor=e,Mb.secondaryColor=t||Zz(e),Mb.calculated=!!t}function Yk(){return Ne({},Mb)}var w0=function(e){var t=e.icon,r=e.className,a=e.onClick,o=e.style,l=e.primaryColor,s=e.secondaryColor,u=$n(e,Wk),d=A.useRef(),g=Mb;if(l&&(g={primaryColor:l,secondaryColor:s||Zz(l)}),jk(d),$k(gD(t),"icon should be icon definiton, but got ".concat(t)),!gD(t))return null;var y=t;return y&&typeof y.icon=="function"&&(y=Ne(Ne({},y),{},{icon:y.icon(g.primaryColor,g.secondaryColor)})),AR(y.icon,"svg-".concat(y.name),Ne(Ne({className:r,onClick:a,style:o,"data-icon":y.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},u),{},{ref:d}))};w0.displayName="IconReact";w0.getTwoToneColors=Yk;w0.setTwoToneColors=Xk;function tU(n){var e=eU(n),t=bt(e,2),r=t[0],a=t[1];return w0.setTwoToneColors({primaryColor:r,secondaryColor:a})}function qk(){var n=w0.getTwoToneColors();return n.calculated?[n.primaryColor,n.secondaryColor]:n.primaryColor}var Kk=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];tU(t0.primary);var wi=A.forwardRef(function(n,e){var t=n.className,r=n.icon,a=n.spin,o=n.rotate,l=n.tabIndex,s=n.onClick,u=n.twoToneColor,d=$n(n,Kk),g=A.useContext(dO),y=g.prefixCls,_=y===void 0?"anticon":y,C=g.rootClassName,c=et(C,_,fe(fe({},"".concat(_,"-").concat(r.name),!!r.name),"".concat(_,"-spin"),!!a||r.name==="loading"),t),p=l;p===void 0&&s&&(p=-1);var m=o?{msTransform:"rotate(".concat(o,"deg)"),transform:"rotate(".concat(o,"deg)")}:void 0,b=eU(u),E=bt(b,2),T=E[0],R=E[1];return A.createElement("span",Nt({role:"img","aria-label":r.name},d,{ref:e,tabIndex:p,onClick:s,className:c}),A.createElement(w0,{icon:r,primaryColor:T,secondaryColor:R,style:m}))});wi.displayName="AntdIcon";wi.getTwoToneColor=qk;wi.setTwoToneColor=tU;var Jk={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"bars",theme:"outlined"},Qk=function(e,t){return A.createElement(wi,Nt({},e,{ref:t,icon:Jk}))},Zk=A.forwardRef(Qk),e$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M632 888H392c-4.4 0-8 3.6-8 8v32c0 17.7 14.3 32 32 32h192c17.7 0 32-14.3 32-32v-32c0-4.4-3.6-8-8-8zM512 64c-181.1 0-328 146.9-328 328 0 121.4 66 227.4 164 284.1V792c0 17.7 14.3 32 32 32h264c17.7 0 32-14.3 32-32V676.1c98-56.7 164-162.7 164-284.1 0-181.1-146.9-328-328-328zm127.9 549.8L604 634.6V752H420V634.6l-35.9-20.8C305.4 568.3 256 484.5 256 392c0-141.4 114.6-256 256-256s256 114.6 256 256c0 92.5-49.4 176.3-128.1 221.8z"}}]},name:"bulb",theme:"outlined"},t$=function(e,t){return A.createElement(wi,Nt({},e,{ref:t,icon:e$}))},n$=A.forwardRef(t$),i$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},r$=function(e,t){return A.createElement(wi,Nt({},e,{ref:t,icon:i$}))},mO=A.forwardRef(r$),a$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},o$=function(e,t){return A.createElement(wi,Nt({},e,{ref:t,icon:a$}))},s$=A.forwardRef(o$),l$={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"},c$=function(e,t){return A.createElement(wi,Nt({},e,{ref:t,icon:l$}))},ew=A.forwardRef(c$),u$={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"},f$=function(e,t){return A.createElement(wi,Nt({},e,{ref:t,icon:u$}))},A0=A.forwardRef(f$),d$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},h$=function(e,t){return A.createElement(wi,Nt({},e,{ref:t,icon:d$}))},nU=A.forwardRef(h$),p$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},m$=function(e,t){return A.createElement(wi,Nt({},e,{ref:t,icon:p$}))},g$=A.forwardRef(m$),v$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"},y$=function(e,t){return A.createElement(wi,Nt({},e,{ref:t,icon:v$}))},b$=A.forwardRef(y$),S$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},_$=function(e,t){return A.createElement(wi,Nt({},e,{ref:t,icon:S$}))},iU=A.forwardRef(_$),x$={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM770.87 199.13l-52.2-52.2a8.01 8.01 0 014.7-13.6l179.4-21c5.1-.6 9.5 3.7 8.9 8.9l-21 179.4c-.8 6.6-8.9 9.4-13.6 4.7l-52.4-52.4-256.2 256.2a8.03 8.03 0 01-11.3 0l-42.4-42.4a8.03 8.03 0 010-11.3l256.1-256.3z"}}]},name:"export",theme:"outlined"},C$=function(e,t){return A.createElement(wi,Nt({},e,{ref:t,icon:x$}))},E$=A.forwardRef(C$),w$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},A$=function(e,t){return A.createElement(wi,Nt({},e,{ref:t,icon:w$}))},M$=A.forwardRef(A$),T$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},R$=function(e,t){return A.createElement(wi,Nt({},e,{ref:t,icon:T$}))},gO=A.forwardRef(R$),O$={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z",fill:t}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:e}}]}},name:"file",theme:"twotone"},I$=function(e,t){return A.createElement(wi,Nt({},e,{ref:t,icon:O$}))},B$=A.forwardRef(I$),D$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},P$=function(e,t){return A.createElement(wi,Nt({},e,{ref:t,icon:D$}))},rU=A.forwardRef(P$),L$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},N$=function(e,t){return A.createElement(wi,Nt({},e,{ref:t,icon:L$}))},MR=A.forwardRef(N$),z$={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},U$=function(e,t){return A.createElement(wi,Nt({},e,{ref:t,icon:z$}))},R1=A.forwardRef(U$),F$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"},H$=function(e,t){return A.createElement(wi,Nt({},e,{ref:t,icon:F$}))},G$=A.forwardRef(H$),k$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm-88-532h-48c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8zm224 0h-48c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8z"}}]},name:"pause-circle",theme:"outlined"},$$=function(e,t){return A.createElement(wi,Nt({},e,{ref:t,icon:k$}))},V$=A.forwardRef($$),j$={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z",fill:e}},{tag:"path",attrs:{d:"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z",fill:t}},{tag:"path",attrs:{d:"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z",fill:t}},{tag:"path",attrs:{d:"M276 368a28 28 0 1056 0 28 28 0 10-56 0z",fill:t}},{tag:"path",attrs:{d:"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z",fill:e}}]}},name:"picture",theme:"twotone"},W$=function(e,t){return A.createElement(wi,Nt({},e,{ref:t,icon:j$}))},X$=A.forwardRef(W$),Y$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M719.4 499.1l-296.1-215A15.9 15.9 0 00398 297v430c0 13.1 14.8 20.5 25.3 12.9l296.1-215a15.9 15.9 0 000-25.8zm-257.6 134V390.9L628.5 512 461.8 633.1z"}}]},name:"play-circle",theme:"outlined"},q$=function(e,t){return A.createElement(wi,Nt({},e,{ref:t,icon:Y$}))},K$=A.forwardRef(q$),J$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},Q$=function(e,t){return A.createElement(wi,Nt({},e,{ref:t,icon:J$}))},Z$=A.forwardRef(Q$),eV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"},tV=function(e,t){return A.createElement(wi,Nt({},e,{ref:t,icon:eV}))},TR=A.forwardRef(tV),nV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"},iV=function(e,t){return A.createElement(wi,Nt({},e,{ref:t,icon:nV}))},rV=A.forwardRef(iV),aV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"},oV=function(e,t){return A.createElement(wi,Nt({},e,{ref:t,icon:aV}))},sV=A.forwardRef(oV),lV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},cV=function(e,t){return A.createElement(wi,Nt({},e,{ref:t,icon:lV}))},uV=A.forwardRef(cV),fV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M938.2 508.4L787.3 389c-3-2.4-7.3-.2-7.3 3.6V478H636V184h204v128c0 2.2 1.8 4 4 4h60c2.2 0 4-1.8 4-4V144c0-15.5-12.5-28-28-28H596c-15.5 0-28 12.5-28 28v736c0 15.5 12.5 28 28 28h284c15.5 0 28-12.5 28-28V712c0-2.2-1.8-4-4-4h-60c-2.2 0-4 1.8-4 4v128H636V546h144v85.4c0 3.8 4.4 6 7.3 3.6l150.9-119.4a4.5 4.5 0 000-7.2zM428 116H144c-15.5 0-28 12.5-28 28v168c0 2.2 1.8 4 4 4h60c2.2 0 4-1.8 4-4V184h204v294H244v-85.4c0-3.8-4.3-6-7.3-3.6l-151 119.4a4.52 4.52 0 000 7.1l151 119.5c2.9 2.3 7.3.2 7.3-3.6V546h144v294H184V712c0-2.2-1.8-4-4-4h-60c-2.2 0-4 1.8-4 4v168c0 15.5 12.5 28 28 28h284c15.5 0 28-12.5 28-28V144c0-15.5-12.5-28-28-28z"}}]},name:"split-cells",theme:"outlined"},dV=function(e,t){return A.createElement(wi,Nt({},e,{ref:t,icon:fV}))},hV=A.forwardRef(dV),pV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"swap",theme:"outlined"},mV=function(e,t){return A.createElement(wi,Nt({},e,{ref:t,icon:pV}))},yD=A.forwardRef(mV),gV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},vV=function(e,t){return A.createElement(wi,Nt({},e,{ref:t,icon:gV}))},yV=A.forwardRef(vV),bV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"},SV=function(e,t){return A.createElement(wi,Nt({},e,{ref:t,icon:bV}))},aU=A.forwardRef(SV),_V={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 302.3L784 376V224c0-35.3-28.7-64-64-64H128c-35.3 0-64 28.7-64 64v576c0 35.3 28.7 64 64 64h592c35.3 0 64-28.7 64-64V648l128 73.7c21.3 12.3 48-3.1 48-27.6V330c0-24.6-26.7-40-48-27.7zM712 792H136V232h576v560zm176-167l-104-59.8V458.9L888 399v226zM208 360h112c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H208c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}}]},name:"video-camera",theme:"outlined"},xV=function(e,t){return A.createElement(wi,Nt({},e,{ref:t,icon:_V}))},CV=A.forwardRef(xV),EV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"},wV=function(e,t){return A.createElement(wi,Nt({},e,{ref:t,icon:EV}))},oU=A.forwardRef(wV),AV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"},MV=function(e,t){return A.createElement(wi,Nt({},e,{ref:t,icon:AV}))},sU=A.forwardRef(MV),oM={exports:{}},tr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bD;function TV(){if(bD)return tr;bD=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),s=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),C=Symbol.for("react.offscreen"),c;c=Symbol.for("react.module.reference");function p(m){if(typeof m=="object"&&m!==null){var b=m.$$typeof;switch(b){case n:switch(m=m.type,m){case t:case a:case r:case d:case g:return m;default:switch(m=m&&m.$$typeof,m){case s:case l:case u:case _:case y:case o:return m;default:return b}}case e:return b}}}return tr.ContextConsumer=l,tr.ContextProvider=o,tr.Element=n,tr.ForwardRef=u,tr.Fragment=t,tr.Lazy=_,tr.Memo=y,tr.Portal=e,tr.Profiler=a,tr.StrictMode=r,tr.Suspense=d,tr.SuspenseList=g,tr.isAsyncMode=function(){return!1},tr.isConcurrentMode=function(){return!1},tr.isContextConsumer=function(m){return p(m)===l},tr.isContextProvider=function(m){return p(m)===o},tr.isElement=function(m){return typeof m=="object"&&m!==null&&m.$$typeof===n},tr.isForwardRef=function(m){return p(m)===u},tr.isFragment=function(m){return p(m)===t},tr.isLazy=function(m){return p(m)===_},tr.isMemo=function(m){return p(m)===y},tr.isPortal=function(m){return p(m)===e},tr.isProfiler=function(m){return p(m)===a},tr.isStrictMode=function(m){return p(m)===r},tr.isSuspense=function(m){return p(m)===d},tr.isSuspenseList=function(m){return p(m)===g},tr.isValidElementType=function(m){return typeof m=="string"||typeof m=="function"||m===t||m===a||m===r||m===d||m===g||m===C||typeof m=="object"&&m!==null&&(m.$$typeof===_||m.$$typeof===y||m.$$typeof===o||m.$$typeof===l||m.$$typeof===u||m.$$typeof===c||m.getModuleId!==void 0)},tr.typeOf=p,tr}var SD;function RV(){return SD||(SD=1,oM.exports=TV()),oM.exports}var sM=RV();function tw(n,e,t){var r=A.useRef({});return(!("value"in r.current)||t(r.current.condition,e))&&(r.current.value=n(),r.current.condition=e),r.current.value}var OV=Symbol.for("react.element"),IV=Symbol.for("react.transitional.element"),BV=Symbol.for("react.fragment");function lU(n){return n&&mn(n)==="object"&&(n.$$typeof===OV||n.$$typeof===IV)&&n.type===BV}var DV=Number(A.version.split(".")[0]),vO=function(e,t){typeof e=="function"?e(t):mn(e)==="object"&&e&&"current"in e&&(e.current=t)},$h=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var a=t.filter(Boolean);return a.length<=1?a[0]:function(o){t.forEach(function(l){vO(l,o)})}},M0=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return tw(function(){return $h.apply(void 0,t)},t,function(a,o){return a.length!==o.length||a.every(function(l,s){return l!==o[s]})})},SS=function(e){var t,r;if(!e)return!1;if(cU(e)&&DV>=19)return!0;var a=sM.isMemo(e)?e.type.type:e.type;return!(typeof a=="function"&&!((t=a.prototype)!==null&&t!==void 0&&t.render)&&a.$$typeof!==sM.ForwardRef||typeof e=="function"&&!((r=e.prototype)!==null&&r!==void 0&&r.render)&&e.$$typeof!==sM.ForwardRef)};function cU(n){return A.isValidElement(n)&&!lU(n)}var nw=function(e){if(e&&cU(e)){var t=e;return t.props.propertyIsEnumerable("ref")?t.props.ref:t.ref}return null};function Ju(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[];return We.Children.forEach(n,function(r){r==null&&!e.keepEmpty||(Array.isArray(r)?t=t.concat(Ju(r)):lU(r)&&r.props?t=t.concat(Ju(r.props.children,e)):t.push(r))}),t}var Ph=kz();const Wb=zm(Ph),PV=Gz({__proto__:null,default:Wb},[Ph]);function Xb(n){return n instanceof HTMLElement||n instanceof SVGElement}function LV(n){return n&&mn(n)==="object"&&Xb(n.nativeElement)?n.nativeElement:Xb(n)?n:null}function TC(n){var e=LV(n);if(e)return e;if(n instanceof We.Component){var t;return(t=Wb.findDOMNode)===null||t===void 0?void 0:t.call(Wb,n)}return null}var RR=A.createContext(null);function NV(n){var e=n.children,t=n.onBatchResize,r=A.useRef(0),a=A.useRef([]),o=A.useContext(RR),l=A.useCallback(function(s,u,d){r.current+=1;var g=r.current;a.current.push({size:s,element:u,data:d}),Promise.resolve().then(function(){g===r.current&&(t==null||t(a.current),a.current=[])}),o==null||o(s,u,d)},[t,o]);return A.createElement(RR.Provider,{value:l},e)}var uU=function(){if(typeof Map<"u")return Map;function n(e,t){var r=-1;return e.some(function(a,o){return a[0]===t?(r=o,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var r=n(this.__entries__,t),a=this.__entries__[r];return a&&a[1]},e.prototype.set=function(t,r){var a=n(this.__entries__,t);~a?this.__entries__[a][1]=r:this.__entries__.push([t,r])},e.prototype.delete=function(t){var r=this.__entries__,a=n(r,t);~a&&r.splice(a,1)},e.prototype.has=function(t){return!!~n(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,r){r===void 0&&(r=null);for(var a=0,o=this.__entries__;a<o.length;a++){var l=o[a];t.call(r,l[1],l[0])}},e}()}(),OR=typeof window<"u"&&typeof document<"u"&&window.document===document,O1=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),zV=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(O1):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)}}(),UV=2;function FV(n,e){var t=!1,r=!1,a=0;function o(){t&&(t=!1,n()),r&&s()}function l(){zV(o)}function s(){var u=Date.now();if(t){if(u-a<UV)return;r=!0}else t=!0,r=!1,setTimeout(l,e);a=u}return s}var HV=20,GV=["top","right","bottom","left","width","height","size","weight"],kV=typeof MutationObserver<"u",$V=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=FV(this.refresh.bind(this),HV)}return n.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},n.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},n.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},n.prototype.connect_=function(){!OR||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),kV?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){!OR||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=t===void 0?"":t,a=GV.some(function(o){return!!~r.indexOf(o)});a&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),fU=function(n,e){for(var t=0,r=Object.keys(e);t<r.length;t++){var a=r[t];Object.defineProperty(n,a,{value:e[a],enumerable:!1,writable:!1,configurable:!0})}return n},n0=function(n){var e=n&&n.ownerDocument&&n.ownerDocument.defaultView;return e||O1},dU=iw(0,0,0,0);function I1(n){return parseFloat(n)||0}function _D(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(r,a){var o=n["border-"+a+"-width"];return r+I1(o)},0)}function VV(n){for(var e=["top","right","bottom","left"],t={},r=0,a=e;r<a.length;r++){var o=a[r],l=n["padding-"+o];t[o]=I1(l)}return t}function jV(n){var e=n.getBBox();return iw(0,0,e.width,e.height)}function WV(n){var e=n.clientWidth,t=n.clientHeight;if(!e&&!t)return dU;var r=n0(n).getComputedStyle(n),a=VV(r),o=a.left+a.right,l=a.top+a.bottom,s=I1(r.width),u=I1(r.height);if(r.boxSizing==="border-box"&&(Math.round(s+o)!==e&&(s-=_D(r,"left","right")+o),Math.round(u+l)!==t&&(u-=_D(r,"top","bottom")+l)),!YV(n)){var d=Math.round(s+o)-e,g=Math.round(u+l)-t;Math.abs(d)!==1&&(s-=d),Math.abs(g)!==1&&(u-=g)}return iw(a.left,a.top,s,u)}var XV=function(){return typeof SVGGraphicsElement<"u"?function(n){return n instanceof n0(n).SVGGraphicsElement}:function(n){return n instanceof n0(n).SVGElement&&typeof n.getBBox=="function"}}();function YV(n){return n===n0(n).document.documentElement}function qV(n){return OR?XV(n)?jV(n):WV(n):dU}function KV(n){var e=n.x,t=n.y,r=n.width,a=n.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,l=Object.create(o.prototype);return fU(l,{x:e,y:t,width:r,height:a,top:t,right:e+r,bottom:a+t,left:e}),l}function iw(n,e,t,r){return{x:n,y:e,width:t,height:r}}var JV=function(){function n(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=iw(0,0,0,0),this.target=e}return n.prototype.isActive=function(){var e=qV(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},n}(),QV=function(){function n(e,t){var r=KV(t);fU(this,{target:e,contentRect:r})}return n}(),ZV=function(){function n(e,t,r){if(this.activeObservations_=[],this.observations_=new uU,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return n.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof n0(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new JV(e)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof n0(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(r){return new QV(r.target,r.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),hU=typeof WeakMap<"u"?new WeakMap:new uU,pU=function(){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=$V.getInstance(),r=new ZV(e,t,this);hU.set(this,r)}return n}();["observe","unobserve","disconnect"].forEach(function(n){pU.prototype[n]=function(){var e;return(e=hU.get(this))[n].apply(e,arguments)}});var e9=function(){return typeof O1.ResizeObserver<"u"?O1.ResizeObserver:pU}(),wh=new Map;function t9(n){n.forEach(function(e){var t,r=e.target;(t=wh.get(r))===null||t===void 0||t.forEach(function(a){return a(r)})})}var mU=new e9(t9);function n9(n,e){wh.has(n)||(wh.set(n,new Set),mU.observe(n)),wh.get(n).add(e)}function i9(n,e){wh.has(n)&&(wh.get(n).delete(e),wh.get(n).size||(mU.unobserve(n),wh.delete(n)))}function ai(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function xD(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,jz(r.key),r)}}function oi(n,e,t){return e&&xD(n.prototype,e),t&&xD(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Yb(n,e){return Yb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},Yb(n,e)}function wr(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Yb(n,e)}function Di(n){return Di=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Di(n)}function yO(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yO=function(){return!!n})()}function Dn(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Uo(n,e){if(e&&(mn(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dn(n)}function Wc(n){var e=yO();return function(){var t,r=Di(n);if(e){var a=Di(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return Uo(this,t)}}var r9=function(n){wr(t,n);var e=Wc(t);function t(){return ai(this,t),e.apply(this,arguments)}return oi(t,[{key:"render",value:function(){return this.props.children}}]),t}(A.Component);function a9(n,e){var t=n.children,r=n.disabled,a=A.useRef(null),o=A.useRef(null),l=A.useContext(RR),s=typeof t=="function",u=s?t(a):t,d=A.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),g=!s&&A.isValidElement(u)&&SS(u),y=g?nw(u):null,_=M0(y,a),C=function(){var b;return TC(a.current)||(a.current&&mn(a.current)==="object"?TC((b=a.current)===null||b===void 0?void 0:b.nativeElement):null)||TC(o.current)};A.useImperativeHandle(e,function(){return C()});var c=A.useRef(n);c.current=n;var p=A.useCallback(function(m){var b=c.current,E=b.onResize,T=b.data,R=m.getBoundingClientRect(),O=R.width,D=R.height,P=m.offsetWidth,F=m.offsetHeight,U=Math.floor(O),z=Math.floor(D);if(d.current.width!==U||d.current.height!==z||d.current.offsetWidth!==P||d.current.offsetHeight!==F){var $={width:U,height:z,offsetWidth:P,offsetHeight:F};d.current=$;var J=P===Math.round(O)?O:P,W=F===Math.round(D)?D:F,Z=Ne(Ne({},$),{},{offsetWidth:J,offsetHeight:W});l==null||l(Z,m,T),E&&Promise.resolve().then(function(){E(Z,m)})}},[]);return A.useEffect(function(){var m=C();return m&&!r&&n9(m,p),function(){return i9(m,p)}},[a.current,r]),A.createElement(r9,{ref:o},g?A.cloneElement(u,{ref:_}):u)}var o9=A.forwardRef(a9),s9="rc-observer-key";function l9(n,e){var t=n.children,r=typeof t=="function"?[t]:Ju(t);return r.map(function(a,o){var l=(a==null?void 0:a.key)||"".concat(s9,"-").concat(o);return A.createElement(o9,Nt({},n,{key:l,ref:o===0?e:void 0}),a)})}var Um=A.forwardRef(l9);Um.Collection=NV;function c9(n){if(Array.isArray(n))return uR(n)}function gU(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function u9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jt(n){return c9(n)||gU(n)||hO(n)||u9()}var vU=function(e){return+setTimeout(e,16)},yU=function(e){return clearTimeout(e)};typeof window<"u"&&"requestAnimationFrame"in window&&(vU=function(e){return window.requestAnimationFrame(e)},yU=function(e){return window.cancelAnimationFrame(e)});var CD=0,bO=new Map;function bU(n){bO.delete(n)}var ho=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;CD+=1;var r=CD;function a(o){if(o===0)bU(r),e();else{var l=vU(function(){a(o-1)});bO.set(r,l)}}return a(t),r};ho.cancel=function(n){var e=bO.get(n);return bU(n),yU(e)};function qb(n){for(var e=0,t,r=0,a=n.length;a>=4;++r,a-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(a){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}function i0(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=new Set;function a(o,l){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,u=r.has(o);if(No(!u,"Warning: There may be circular references"),u)return!1;if(o===l)return!0;if(t&&s>1)return!1;r.add(o);var d=s+1;if(Array.isArray(o)){if(!Array.isArray(l)||o.length!==l.length)return!1;for(var g=0;g<o.length;g++)if(!a(o[g],l[g],d))return!1;return!0}if(o&&l&&mn(o)==="object"&&mn(l)==="object"){var y=Object.keys(o);return y.length!==Object.keys(l).length?!1:y.every(function(_){return a(o[_],l[_],d)})}return!1}return a(n,e)}var f9="%";function IR(n){return n.join(f9)}var d9=function(){function n(e){ai(this,n),fe(this,"instanceId",void 0),fe(this,"cache",new Map),this.instanceId=e}return oi(n,[{key:"get",value:function(t){return this.opGet(IR(t))}},{key:"opGet",value:function(t){return this.cache.get(t)||null}},{key:"update",value:function(t,r){return this.opUpdate(IR(t),r)}},{key:"opUpdate",value:function(t,r){var a=this.cache.get(t),o=r(a);o===null?this.cache.delete(t):this.cache.set(t,o)}}]),n}(),r0="data-token-hash",Hc="data-css-hash",Ah="__cssinjs_instance__";function h9(){var n=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){var e=document.body.querySelectorAll("style[".concat(Hc,"]"))||[],t=document.head.firstChild;Array.from(e).forEach(function(a){a[Ah]=a[Ah]||n,a[Ah]===n&&document.head.insertBefore(a,t)});var r={};Array.from(document.querySelectorAll("style[".concat(Hc,"]"))).forEach(function(a){var o=a.getAttribute(Hc);if(r[o]){if(a[Ah]===n){var l;(l=a.parentNode)===null||l===void 0||l.removeChild(a)}}else r[o]=!0})}return new d9(n)}var _S=A.createContext({hashPriority:"low",cache:h9(),defaultCache:!0});function p9(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}var SO=function(){function n(){ai(this,n),fe(this,"cache",void 0),fe(this,"keys",void 0),fe(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return oi(n,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(t){var r,a,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l={map:this.cache};return t.forEach(function(s){if(!l)l=void 0;else{var u;l=(u=l)===null||u===void 0||(u=u.map)===null||u===void 0?void 0:u.get(s)}}),(r=l)!==null&&r!==void 0&&r.value&&o&&(l.value[1]=this.cacheCallTimes++),(a=l)===null||a===void 0?void 0:a.value}},{key:"get",value:function(t){var r;return(r=this.internalGet(t,!0))===null||r===void 0?void 0:r[0]}},{key:"has",value:function(t){return!!this.internalGet(t)}},{key:"set",value:function(t,r){var a=this;if(!this.has(t)){if(this.size()+1>n.MAX_CACHE_SIZE+n.MAX_CACHE_OFFSET){var o=this.keys.reduce(function(d,g){var y=bt(d,2),_=y[1];return a.internalGet(g)[1]<_?[g,a.internalGet(g)[1]]:d},[this.keys[0],this.cacheCallTimes]),l=bt(o,1),s=l[0];this.delete(s)}this.keys.push(t)}var u=this.cache;t.forEach(function(d,g){if(g===t.length-1)u.set(d,{value:[r,a.cacheCallTimes++]});else{var y=u.get(d);y?y.map||(y.map=new Map):u.set(d,{map:new Map}),u=u.get(d).map}})}},{key:"deleteByPath",value:function(t,r){var a=t.get(r[0]);if(r.length===1){var o;return a.map?t.set(r[0],{map:a.map}):t.delete(r[0]),(o=a.value)===null||o===void 0?void 0:o[0]}var l=this.deleteByPath(a.map,r.slice(1));return(!a.map||a.map.size===0)&&!a.value&&t.delete(r[0]),l}},{key:"delete",value:function(t){if(this.has(t))return this.keys=this.keys.filter(function(r){return!p9(r,t)}),this.deleteByPath(this.cache,t)}}]),n}();fe(SO,"MAX_CACHE_SIZE",20);fe(SO,"MAX_CACHE_OFFSET",5);var ED=0,SU=function(){function n(e){ai(this,n),fe(this,"derivatives",void 0),fe(this,"id",void 0),this.derivatives=Array.isArray(e)?e:[e],this.id=ED,e.length===0&&(e.length>0,void 0),ED+=1}return oi(n,[{key:"getDerivativeToken",value:function(t){return this.derivatives.reduce(function(r,a){return a(t,r)},void 0)}}]),n}(),lM=new SO;function BR(n){var e=Array.isArray(n)?n:[n];return lM.has(e)||lM.set(e,new SU(e)),lM.get(e)}var m9=new WeakMap,cM={};function g9(n,e){for(var t=m9,r=0;r<e.length;r+=1){var a=e[r];t.has(a)||t.set(a,new WeakMap),t=t.get(a)}return t.has(cM)||t.set(cM,n()),t.get(cM)}var wD=new WeakMap;function Tb(n){var e=wD.get(n)||"";return e||(Object.keys(n).forEach(function(t){var r=n[t];e+=t,r instanceof SU?e+=r.id:r&&mn(r)==="object"?e+=Tb(r):e+=r}),e=qb(e),wD.set(n,e)),e}function AD(n,e){return qb("".concat(e,"_").concat(Tb(n)))}var DR=ls();function Pt(n){return typeof n=="number"?"".concat(n,"px"):n}function B1(n,e,t){var r,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(o)return n;var l=Ne(Ne({},a),{},(r={},fe(r,r0,e),fe(r,Hc,t),r)),s=Object.keys(l).map(function(u){var d=l[u];return d?"".concat(u,'="').concat(d,'"'):null}).filter(function(u){return u}).join(" ");return"<style ".concat(s,">").concat(n,"</style>")}var RC=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(t?"".concat(t,"-"):"").concat(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},v9=function(e,t,r){return Object.keys(e).length?".".concat(t).concat(r!=null&&r.scope?".".concat(r.scope):"","{").concat(Object.entries(e).map(function(a){var o=bt(a,2),l=o[0],s=o[1];return"".concat(l,":").concat(s,";")}).join(""),"}"):""},_U=function(e,t,r){var a={},o={};return Object.entries(e).forEach(function(l){var s,u,d=bt(l,2),g=d[0],y=d[1];if(r!=null&&(s=r.preserve)!==null&&s!==void 0&&s[g])o[g]=y;else if((typeof y=="string"||typeof y=="number")&&!(r!=null&&(u=r.ignore)!==null&&u!==void 0&&u[g])){var _,C=RC(g,r==null?void 0:r.prefix);a[C]=typeof y=="number"&&!(r!=null&&(_=r.unitless)!==null&&_!==void 0&&_[g])?"".concat(y,"px"):String(y),o[g]="var(".concat(C,")")}}),[o,v9(a,t,{scope:r==null?void 0:r.scope})]},MD=ls()?A.useLayoutEffect:A.useEffect,Ca=function(e,t){var r=A.useRef(!0);MD(function(){return e(r.current)},t),MD(function(){return r.current=!1,function(){r.current=!0}},[])},TD=function(e,t){Ca(function(r){if(!r)return e()},t)},y9=Ne({},QE),RD=y9.useInsertionEffect,b9=function(e,t,r){A.useMemo(e,r),Ca(function(){return t(!0)},r)},S9=RD?function(n,e,t){return RD(function(){return n(),e()},t)}:b9,_9=Ne({},QE),x9=_9.useInsertionEffect,C9=function(e){var t=[],r=!1;function a(o){r||t.push(o)}return A.useEffect(function(){return r=!1,function(){r=!0,t.length&&t.forEach(function(o){return o()})}},e),a},E9=function(){return function(e){e()}},w9=typeof x9<"u"?C9:E9;function _O(n,e,t,r,a){var o=A.useContext(_S),l=o.cache,s=[n].concat(Jt(e)),u=IR(s),d=w9([u]),g=function(c){l.opUpdate(u,function(p){var m=p||[void 0,void 0],b=bt(m,2),E=b[0],T=E===void 0?0:E,R=b[1],O=R,D=O||t(),P=[T,D];return c?c(P):P})};A.useMemo(function(){g()},[u]);var y=l.opGet(u),_=y[1];return S9(function(){a==null||a(_)},function(C){return g(function(c){var p=bt(c,2),m=p[0],b=p[1];return C&&m===0&&(a==null||a(_)),[m+1,b]}),function(){l.opUpdate(u,function(c){var p=c||[],m=bt(p,2),b=m[0],E=b===void 0?0:b,T=m[1],R=E-1;return R===0?(d(function(){(C||!l.opGet(u))&&(r==null||r(T,!1))}),null):[E-1,T]})}},[u]),_}var A9={},M9="css",im=new Map;function T9(n){im.set(n,(im.get(n)||0)+1)}function R9(n,e){if(typeof document<"u"){var t=document.querySelectorAll("style[".concat(r0,'="').concat(n,'"]'));t.forEach(function(r){if(r[Ah]===e){var a;(a=r.parentNode)===null||a===void 0||a.removeChild(r)}})}}var O9=0;function I9(n,e){im.set(n,(im.get(n)||0)-1);var t=Array.from(im.keys()),r=t.filter(function(a){var o=im.get(a)||0;return o<=0});t.length-r.length>O9&&r.forEach(function(a){R9(a,e),im.delete(a)})}var B9=function(e,t,r,a){var o=r.getDerivativeToken(e),l=Ne(Ne({},o),t);return a&&(l=a(l)),l},xU="token";function D9(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=A.useContext(_S),a=r.cache.instanceId,o=r.container,l=t.salt,s=l===void 0?"":l,u=t.override,d=u===void 0?A9:u,g=t.formatToken,y=t.getComputedToken,_=t.cssVar,C=g9(function(){return Object.assign.apply(Object,[{}].concat(Jt(e)))},e),c=Tb(C),p=Tb(d),m=_?Tb(_):"",b=_O(xU,[s,n.id,c,p,m],function(){var E,T=y?y(C,d,n):B9(C,d,n,g),R=Ne({},T),O="";if(_){var D=_U(T,_.key,{prefix:_.prefix,ignore:_.ignore,unitless:_.unitless,preserve:_.preserve}),P=bt(D,2);T=P[0],O=P[1]}var F=AD(T,s);T._tokenKey=F,R._tokenKey=AD(R,s);var U=(E=_==null?void 0:_.key)!==null&&E!==void 0?E:F;T._themeKey=U,T9(U);var z="".concat(M9,"-").concat(qb(F));return T._hashId=z,[T,z,R,O,(_==null?void 0:_.key)||""]},function(E){I9(E[0]._themeKey,a)},function(E){var T=bt(E,4),R=T[0],O=T[3];if(_&&O){var D=sd(O,qb("css-variables-".concat(R._themeKey)),{mark:Hc,prepend:"queue",attachTo:o,priority:-999});D[Ah]=a,D.setAttribute(r0,R._themeKey)}});return b}var P9=function(e,t,r){var a=bt(e,5),o=a[2],l=a[3],s=a[4],u=r||{},d=u.plain;if(!l)return null;var g=o._tokenKey,y=-999,_={"data-rc-order":"prependQueue","data-rc-priority":"".concat(y)},C=B1(l,s,g,_,d);return[y,g,C]},L9={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},CU="comm",EU="rule",wU="decl",N9="@import",z9="@namespace",U9="@keyframes",F9="@layer",AU=Math.abs,xO=String.fromCharCode;function MU(n){return n.trim()}function OC(n,e,t){return n.replace(e,t)}function H9(n,e,t){return n.indexOf(e,t)}function Xv(n,e){return n.charCodeAt(e)|0}function a0(n,e,t){return n.slice(e,t)}function Vu(n){return n.length}function G9(n){return n.length}function hx(n,e){return e.push(n),n}var rw=1,o0=1,TU=0,Hl=0,Ea=0,T0="";function CO(n,e,t,r,a,o,l,s){return{value:n,root:e,parent:t,type:r,props:a,children:o,line:rw,column:o0,length:l,return:"",siblings:s}}function k9(){return Ea}function $9(){return Ea=Hl>0?Xv(T0,--Hl):0,o0--,Ea===10&&(o0=1,rw--),Ea}function Gc(){return Ea=Hl<TU?Xv(T0,Hl++):0,o0++,Ea===10&&(o0=1,rw++),Ea}function Mh(){return Xv(T0,Hl)}function IC(){return Hl}function aw(n,e){return a0(T0,n,e)}function Kb(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function V9(n){return rw=o0=1,TU=Vu(T0=n),Hl=0,[]}function j9(n){return T0="",n}function uM(n){return MU(aw(Hl-1,PR(n===91?n+2:n===40?n+1:n)))}function W9(n){for(;(Ea=Mh())&&Ea<33;)Gc();return Kb(n)>2||Kb(Ea)>3?"":" "}function X9(n,e){for(;--e&&Gc()&&!(Ea<48||Ea>102||Ea>57&&Ea<65||Ea>70&&Ea<97););return aw(n,IC()+(e<6&&Mh()==32&&Gc()==32))}function PR(n){for(;Gc();)switch(Ea){case n:return Hl;case 34:case 39:n!==34&&n!==39&&PR(Ea);break;case 40:n===41&&PR(n);break;case 92:Gc();break}return Hl}function Y9(n,e){for(;Gc()&&n+Ea!==57;)if(n+Ea===84&&Mh()===47)break;return"/*"+aw(e,Hl-1)+"*"+xO(n===47?n:Gc())}function q9(n){for(;!Kb(Mh());)Gc();return aw(n,Hl)}function K9(n){return j9(BC("",null,null,null,[""],n=V9(n),0,[0],n))}function BC(n,e,t,r,a,o,l,s,u){for(var d=0,g=0,y=l,_=0,C=0,c=0,p=1,m=1,b=1,E=0,T="",R=a,O=o,D=r,P=T;m;)switch(c=E,E=Gc()){case 40:if(c!=108&&Xv(P,y-1)==58){H9(P+=OC(uM(E),"&","&\f"),"&\f",AU(d?s[d-1]:0))!=-1&&(b=-1);break}case 34:case 39:case 91:P+=uM(E);break;case 9:case 10:case 13:case 32:P+=W9(c);break;case 92:P+=X9(IC()-1,7);continue;case 47:switch(Mh()){case 42:case 47:hx(J9(Y9(Gc(),IC()),e,t,u),u),(Kb(c||1)==5||Kb(Mh()||1)==5)&&Vu(P)&&a0(P,-1,void 0)!==" "&&(P+=" ");break;default:P+="/"}break;case 123*p:s[d++]=Vu(P)*b;case 125*p:case 59:case 0:switch(E){case 0:case 125:m=0;case 59+g:b==-1&&(P=OC(P,/\f/g,"")),C>0&&(Vu(P)-y||p===0&&c===47)&&hx(C>32?ID(P+";",r,t,y-1,u):ID(OC(P," ","")+";",r,t,y-2,u),u);break;case 59:P+=";";default:if(hx(D=OD(P,e,t,d,g,a,s,T,R=[],O=[],y,o),o),E===123)if(g===0)BC(P,e,D,D,R,o,y,s,O);else{switch(_){case 99:if(Xv(P,3)===110)break;case 108:if(Xv(P,2)===97)break;default:g=0;case 100:case 109:case 115:}g?BC(n,D,D,r&&hx(OD(n,D,D,0,0,a,s,T,a,R=[],y,O),O),a,O,y,s,r?R:O):BC(P,D,D,D,[""],O,0,s,O)}}d=g=C=0,p=b=1,T=P="",y=l;break;case 58:y=1+Vu(P),C=c;default:if(p<1){if(E==123)--p;else if(E==125&&p++==0&&$9()==125)continue}switch(P+=xO(E),E*p){case 38:b=g>0?1:(P+="\f",-1);break;case 44:s[d++]=(Vu(P)-1)*b,b=1;break;case 64:Mh()===45&&(P+=uM(Gc())),_=Mh(),g=y=Vu(T=P+=q9(IC())),E++;break;case 45:c===45&&Vu(P)==2&&(p=0)}}return o}function OD(n,e,t,r,a,o,l,s,u,d,g,y){for(var _=a-1,C=a===0?o:[""],c=G9(C),p=0,m=0,b=0;p<r;++p)for(var E=0,T=a0(n,_+1,_=AU(m=l[p])),R=n;E<c;++E)(R=MU(m>0?C[E]+" "+T:OC(T,/&\f/g,C[E])))&&(u[b++]=R);return CO(n,e,t,a===0?EU:s,u,d,g,y)}function J9(n,e,t,r){return CO(n,e,t,CU,xO(k9()),a0(n,2,-2),0,r)}function ID(n,e,t,r,a){return CO(n,e,t,wU,a0(n,0,r),a0(n,r+1,-1),r,a)}function LR(n,e){for(var t="",r=0;r<n.length;r++)t+=e(n[r],r,n,e)||"";return t}function Q9(n,e,t,r){switch(n.type){case F9:if(n.children.length)break;case N9:case z9:case wU:return n.return=n.return||n.value;case CU:return"";case U9:return n.return=n.value+"{"+LR(n.children,r)+"}";case EU:if(!Vu(n.value=n.props.join(",")))return""}return Vu(t=LR(n.children,r))?n.return=n.value+"{"+t+"}":""}var BD="data-ant-cssinjs-cache-path",RU="_FILE_STYLE__",Sm,OU=!0;function Z9(){if(!Sm&&(Sm={},ls())){var n=document.createElement("div");n.className=BD,n.style.position="fixed",n.style.visibility="hidden",n.style.top="-9999px",document.body.appendChild(n);var e=getComputedStyle(n).content||"";e=e.replace(/^"/,"").replace(/"$/,""),e.split(";").forEach(function(a){var o=a.split(":"),l=bt(o,2),s=l[0],u=l[1];Sm[s]=u});var t=document.querySelector("style[".concat(BD,"]"));if(t){var r;OU=!1,(r=t.parentNode)===null||r===void 0||r.removeChild(t)}document.body.removeChild(n)}}function ej(n){return Z9(),!!Sm[n]}function tj(n){var e=Sm[n],t=null;if(e&&ls())if(OU)t=RU;else{var r=document.querySelector("style[".concat(Hc,'="').concat(Sm[n],'"]'));r?t=r.innerHTML:delete Sm[n]}return[t,e]}var nj="_skip_check_",IU="_multi_value_";function DC(n){var e=LR(K9(n),Q9);return e.replace(/\{%%%\:[^;];}/g,";")}function ij(n){return mn(n)==="object"&&n&&(nj in n||IU in n)}function DD(n,e,t){if(!e)return n;var r=".".concat(e),a=t==="low"?":where(".concat(r,")"):r,o=n.split(",").map(function(l){var s,u=l.trim().split(/\s+/),d=u[0]||"",g=((s=d.match(/^\w+/))===null||s===void 0?void 0:s[0])||"";return d="".concat(g).concat(a).concat(d.slice(g.length)),[d].concat(Jt(u.slice(1))).join(" ")});return o.join(",")}var rj=function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},a=r.root,o=r.injectHash,l=r.parentSelectors,s=t.hashId,u=t.layer;t.path;var d=t.hashPriority,g=t.transformers,y=g===void 0?[]:g;t.linters;var _="",C={};function c(b){var E=b.getName(s);if(!C[E]){var T=n(b.style,t,{root:!1,parentSelectors:l}),R=bt(T,1),O=R[0];C[E]="@keyframes ".concat(b.getName(s)).concat(O)}}function p(b){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return b.forEach(function(T){Array.isArray(T)?p(T,E):T&&E.push(T)}),E}var m=p(Array.isArray(e)?e:[e]);return m.forEach(function(b){var E=typeof b=="string"&&!a?{}:b;if(typeof E=="string")_+="".concat(E,`
`);else if(E._keyframe)c(E);else{var T=y.reduce(function(R,O){var D;return(O==null||(D=O.visit)===null||D===void 0?void 0:D.call(O,R))||R},E);Object.keys(T).forEach(function(R){var O=T[R];if(mn(O)==="object"&&O&&(R!=="animationName"||!O._keyframe)&&!ij(O)){var D=!1,P=R.trim(),F=!1;(a||o)&&s?P.startsWith("@")?D=!0:P==="&"?P=DD("",s,d):P=DD(R,s,d):a&&!s&&(P==="&"||P==="")&&(P="",F=!0);var U=n(O,t,{root:F,injectHash:D,parentSelectors:[].concat(Jt(l),[P])}),z=bt(U,2),$=z[0],J=z[1];C=Ne(Ne({},C),J),_+="".concat(P).concat($)}else{let oe=function(Y,K){var ee=Y.replace(/[A-Z]/g,function(q){return"-".concat(q.toLowerCase())}),ue=K;!L9[Y]&&typeof ue=="number"&&ue!==0&&(ue="".concat(ue,"px")),Y==="animationName"&&K!==null&&K!==void 0&&K._keyframe&&(c(K),ue=K.getName(s)),_+="".concat(ee,":").concat(ue,";")};var W,Z=(W=O==null?void 0:O.value)!==null&&W!==void 0?W:O;mn(O)==="object"&&O!==null&&O!==void 0&&O[IU]&&Array.isArray(Z)?Z.forEach(function(Y){oe(R,Y)}):oe(R,Z)}})}}),a?u&&(_&&(_="@layer ".concat(u.name," {").concat(_,"}")),u.dependencies&&(C["@layer ".concat(u.name)]=u.dependencies.map(function(b){return"@layer ".concat(b,", ").concat(u.name,";")}).join(`
`))):_="{".concat(_,"}"),[_,C]};function BU(n,e){return qb("".concat(n.join("%")).concat(e))}function aj(){return null}var DU="style";function NR(n,e){var t=n.token,r=n.path,a=n.hashId,o=n.layer,l=n.nonce,s=n.clientOnly,u=n.order,d=u===void 0?0:u,g=A.useContext(_S),y=g.autoClear;g.mock;var _=g.defaultCache,C=g.hashPriority,c=g.container,p=g.ssrInline,m=g.transformers,b=g.linters,E=g.cache,T=g.layer,R=t._tokenKey,O=[R];T&&O.push("layer"),O.push.apply(O,Jt(r));var D=DR,P=_O(DU,O,function(){var J=O.join("|");if(ej(J)){var W=tj(J),Z=bt(W,2),oe=Z[0],Y=Z[1];if(oe)return[oe,R,Y,{},s,d]}var K=e(),ee=rj(K,{hashId:a,hashPriority:C,layer:T?o:void 0,path:r.join("-"),transformers:m,linters:b}),ue=bt(ee,2),q=ue[0],ie=ue[1],me=DC(q),de=BU(O,me);return[me,R,de,ie,s,d]},function(J,W){var Z=bt(J,3),oe=Z[2];(W||y)&&DR&&jb(oe,{mark:Hc})},function(J){var W=bt(J,4),Z=W[0];W[1];var oe=W[2],Y=W[3];if(D&&Z!==RU){var K={mark:Hc,prepend:T?!1:"queue",attachTo:c,priority:d},ee=typeof l=="function"?l():l;ee&&(K.csp={nonce:ee});var ue=[],q=[];Object.keys(Y).forEach(function(me){me.startsWith("@layer")?ue.push(me):q.push(me)}),ue.forEach(function(me){sd(DC(Y[me]),"_layer-".concat(me),Ne(Ne({},K),{},{prepend:!0}))});var ie=sd(Z,oe,K);ie[Ah]=E.instanceId,ie.setAttribute(r0,R),q.forEach(function(me){sd(DC(Y[me]),"_effect-".concat(me),K)})}}),F=bt(P,3),U=F[0],z=F[1],$=F[2];return function(J){var W;if(!p||D||!_)W=A.createElement(aj,null);else{var Z;W=A.createElement("style",Nt({},(Z={},fe(Z,r0,z),fe(Z,Hc,$),Z),{dangerouslySetInnerHTML:{__html:U}}))}return A.createElement(A.Fragment,null,W,J)}}var oj=function(e,t,r){var a=bt(e,6),o=a[0],l=a[1],s=a[2],u=a[3],d=a[4],g=a[5],y=r||{},_=y.plain;if(d)return null;var C=o,c={"data-rc-order":"prependQueue","data-rc-priority":"".concat(g)};return C=B1(o,l,s,c,_),u&&Object.keys(u).forEach(function(p){if(!t[p]){t[p]=!0;var m=DC(u[p]),b=B1(m,l,"_effect-".concat(p),c,_);p.startsWith("@layer")?C=b+C:C+=b}}),[g,s,C]},PU="cssVar",sj=function(e,t){var r=e.key,a=e.prefix,o=e.unitless,l=e.ignore,s=e.token,u=e.scope,d=u===void 0?"":u,g=A.useContext(_S),y=g.cache.instanceId,_=g.container,C=s._tokenKey,c=[].concat(Jt(e.path),[r,d,C]),p=_O(PU,c,function(){var m=t(),b=_U(m,r,{prefix:a,unitless:o,ignore:l,scope:d}),E=bt(b,2),T=E[0],R=E[1],O=BU(c,R);return[T,R,O,r]},function(m){var b=bt(m,3),E=b[2];DR&&jb(E,{mark:Hc})},function(m){var b=bt(m,3),E=b[1],T=b[2];if(E){var R=sd(E,T,{mark:Hc,prepend:"queue",attachTo:_,priority:-999});R[Ah]=y,R.setAttribute(r0,r)}});return p},lj=function(e,t,r){var a=bt(e,4),o=a[1],l=a[2],s=a[3],u=r||{},d=u.plain;if(!o)return null;var g=-999,y={"data-rc-order":"prependQueue","data-rc-priority":"".concat(g)},_=B1(o,s,l,y,d);return[g,l,_]},zy;zy={},fe(zy,DU,oj),fe(zy,xU,P9),fe(zy,PU,lj);var ir=function(){function n(e,t){ai(this,n),fe(this,"name",void 0),fe(this,"style",void 0),fe(this,"_keyframe",!0),this.name=e,this.style=t}return oi(n,[{key:"getName",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return t?"".concat(t,"-").concat(this.name):this.name}}]),n}();function Ng(n){return n.notSplit=!0,n}Ng(["borderTop","borderBottom"]),Ng(["borderTop"]),Ng(["borderBottom"]),Ng(["borderLeft","borderRight"]),Ng(["borderLeft"]),Ng(["borderRight"]);function cj(n){return $z(n)||gU(n)||hO(n)||Vz()}function Wu(n,e){for(var t=n,r=0;r<e.length;r+=1){if(t==null)return;t=t[e[r]]}return t}function LU(n,e,t,r){if(!e.length)return t;var a=cj(e),o=a[0],l=a.slice(1),s;return!n&&typeof o=="number"?s=[]:Array.isArray(n)?s=Jt(n):s=Ne({},n),r&&t===void 0&&l.length===1?delete s[o][l[0]]:s[o]=LU(s[o],l,t,r),s}function Ic(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.length&&r&&t===void 0&&!Wu(n,e.slice(0,-1))?n:LU(n,e,t,r)}function uj(n){return mn(n)==="object"&&n!==null&&Object.getPrototypeOf(n)===Object.prototype}function PD(n){return Array.isArray(n)?[]:{}}var fj=typeof Reflect>"u"?Object.keys:Reflect.ownKeys;function Iv(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var r=PD(e[0]);return e.forEach(function(a){function o(l,s){var u=new Set(s),d=Wu(a,l),g=Array.isArray(d);if(g||uj(d)){if(!u.has(d)){u.add(d);var y=Wu(r,l);g?r=Ic(r,l,[]):(!y||mn(y)!=="object")&&(r=Ic(r,l,PD(d))),fj(d).forEach(function(_){o([].concat(Jt(l),[_]),u)})}}else r=Ic(r,l,d)}o([])}),r}function dj(){}const hj=A.createContext({}),EO=()=>{const n=()=>{};return n.deprecated=dj,n},pj=A.createContext(void 0);var mj={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},gj={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0},vj=Ne(Ne({},gj),{},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",week:"Week",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",dateFormat:"M/D/YYYY",dateTimeFormat:"M/D/YYYY HH:mm:ss",previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"});const NU={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},LD={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},vj),timePickerLocale:Object.assign({},NU)},js="${label} is not a valid ${type}",Lh={locale:"en",Pagination:mj,DatePicker:LD,TimePicker:NU,Calendar:LD,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckAll:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:js,method:js,array:js,object:js,number:js,date:js,boolean:js,integer:js,float:js,regexp:js,email:js,url:js,hex:js},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty",transparent:"Transparent",singleColor:"Single",gradientColor:"Gradient"}};let PC=Object.assign({},Lh.Modal),LC=[];const ND=()=>LC.reduce((n,e)=>Object.assign(Object.assign({},n),e),Lh.Modal);function yj(n){if(n){const e=Object.assign({},n);return LC.push(e),PC=ND(),()=>{LC=LC.filter(t=>t!==e),PC=ND()}}PC=Object.assign({},Lh.Modal)}function zU(){return PC}const wO=A.createContext(void 0),xS=(n,e)=>{const t=A.useContext(wO),r=A.useMemo(()=>{var o;const l=e||Lh[n],s=(o=t==null?void 0:t[n])!==null&&o!==void 0?o:{};return Object.assign(Object.assign({},typeof l=="function"?l():l),s||{})},[n,e,t]),a=A.useMemo(()=>{const o=t==null?void 0:t.locale;return t!=null&&t.exist&&!o?Lh.locale:o},[t]);return[r,a]},bj="internalMark",Sj=n=>{const{locale:e={},children:t,_ANT_MARK__:r}=n;A.useEffect(()=>yj(e==null?void 0:e.Modal),[e]);const a=A.useMemo(()=>Object.assign(Object.assign({},e),{exist:!0}),[e]);return A.createElement(wO.Provider,{value:a},t)},UU={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},Jb=Object.assign(Object.assign({},UU),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0});function _j(n,e){let{generateColorPalettes:t,generateNeutralColorPalettes:r}=e;const{colorSuccess:a,colorWarning:o,colorError:l,colorInfo:s,colorPrimary:u,colorBgBase:d,colorTextBase:g}=n,y=t(u),_=t(a),C=t(o),c=t(l),p=t(s),m=r(d,g),b=n.colorLink||n.colorInfo,E=t(b),T=new Fi(c[1]).mix(new Fi(c[3]),50).toHexString();return Object.assign(Object.assign({},m),{colorPrimaryBg:y[1],colorPrimaryBgHover:y[2],colorPrimaryBorder:y[3],colorPrimaryBorderHover:y[4],colorPrimaryHover:y[5],colorPrimary:y[6],colorPrimaryActive:y[7],colorPrimaryTextHover:y[8],colorPrimaryText:y[9],colorPrimaryTextActive:y[10],colorSuccessBg:_[1],colorSuccessBgHover:_[2],colorSuccessBorder:_[3],colorSuccessBorderHover:_[4],colorSuccessHover:_[4],colorSuccess:_[6],colorSuccessActive:_[7],colorSuccessTextHover:_[8],colorSuccessText:_[9],colorSuccessTextActive:_[10],colorErrorBg:c[1],colorErrorBgHover:c[2],colorErrorBgFilledHover:T,colorErrorBgActive:c[3],colorErrorBorder:c[3],colorErrorBorderHover:c[4],colorErrorHover:c[5],colorError:c[6],colorErrorActive:c[7],colorErrorTextHover:c[8],colorErrorText:c[9],colorErrorTextActive:c[10],colorWarningBg:C[1],colorWarningBgHover:C[2],colorWarningBorder:C[3],colorWarningBorderHover:C[4],colorWarningHover:C[4],colorWarning:C[6],colorWarningActive:C[7],colorWarningTextHover:C[8],colorWarningText:C[9],colorWarningTextActive:C[10],colorInfoBg:p[1],colorInfoBgHover:p[2],colorInfoBorder:p[3],colorInfoBorderHover:p[4],colorInfoHover:p[4],colorInfo:p[6],colorInfoActive:p[7],colorInfoTextHover:p[8],colorInfoText:p[9],colorInfoTextActive:p[10],colorLinkHover:E[4],colorLink:E[6],colorLinkActive:E[7],colorBgMask:new Fi("#000").setA(.45).toRgbString(),colorWhite:"#fff"})}const xj=n=>{let e=n,t=n,r=n,a=n;return n<6&&n>=5?e=n+1:n<16&&n>=6?e=n+2:n>=16&&(e=16),n<7&&n>=5?t=4:n<8&&n>=7?t=5:n<14&&n>=8?t=6:n<16&&n>=14?t=7:n>=16&&(t=8),n<6&&n>=2?r=1:n>=6&&(r=2),n>4&&n<8?a=4:n>=8&&(a=6),{borderRadius:n,borderRadiusXS:r,borderRadiusSM:t,borderRadiusLG:e,borderRadiusOuter:a}};function Cj(n){const{motionUnit:e,motionBase:t,borderRadius:r,lineWidth:a}=n;return Object.assign({motionDurationFast:`${(t+e).toFixed(1)}s`,motionDurationMid:`${(t+e*2).toFixed(1)}s`,motionDurationSlow:`${(t+e*3).toFixed(1)}s`,lineWidthBold:a+1},xj(r))}const Ej=n=>{const{controlHeight:e}=n;return{controlHeightSM:e*.75,controlHeightXS:e*.5,controlHeightLG:e*1.25}};function NC(n){return(n+8)/n}function wj(n){const e=Array.from({length:10}).map((t,r)=>{const a=r-1,o=n*Math.pow(Math.E,a/5),l=r>1?Math.floor(o):Math.ceil(o);return Math.floor(l/2)*2});return e[1]=n,e.map(t=>({size:t,lineHeight:NC(t)}))}const Aj=n=>{const e=wj(n),t=e.map(g=>g.size),r=e.map(g=>g.lineHeight),a=t[1],o=t[0],l=t[2],s=r[1],u=r[0],d=r[2];return{fontSizeSM:o,fontSize:a,fontSizeLG:l,fontSizeXL:t[3],fontSizeHeading1:t[6],fontSizeHeading2:t[5],fontSizeHeading3:t[4],fontSizeHeading4:t[3],fontSizeHeading5:t[2],lineHeight:s,lineHeightLG:d,lineHeightSM:u,fontHeight:Math.round(s*a),fontHeightLG:Math.round(d*l),fontHeightSM:Math.round(u*o),lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}};function Mj(n){const{sizeUnit:e,sizeStep:t}=n;return{sizeXXL:e*(t+8),sizeXL:e*(t+4),sizeLG:e*(t+2),sizeMD:e*(t+1),sizeMS:e*t,size:e*t,sizeSM:e*(t-1),sizeXS:e*(t-2),sizeXXS:e*(t-3)}}const Rl=(n,e)=>new Fi(n).setA(e).toRgbString(),Uy=(n,e)=>new Fi(n).darken(e).toHexString(),Tj=n=>{const e=Vb(n);return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[4],6:e[5],7:e[6],8:e[4],9:e[5],10:e[6]}},Rj=(n,e)=>{const t=n||"#fff",r=e||"#000";return{colorBgBase:t,colorTextBase:r,colorText:Rl(r,.88),colorTextSecondary:Rl(r,.65),colorTextTertiary:Rl(r,.45),colorTextQuaternary:Rl(r,.25),colorFill:Rl(r,.15),colorFillSecondary:Rl(r,.06),colorFillTertiary:Rl(r,.04),colorFillQuaternary:Rl(r,.02),colorBgSolid:Rl(r,1),colorBgSolidHover:Rl(r,.75),colorBgSolidActive:Rl(r,.95),colorBgLayout:Uy(t,4),colorBgContainer:Uy(t,0),colorBgElevated:Uy(t,0),colorBgSpotlight:Rl(r,.85),colorBgBlur:"transparent",colorBorder:Uy(t,15),colorBorderSecondary:Uy(t,6)}};function Oj(n){Wv.pink=Wv.magenta,aM.pink=aM.magenta;const e=Object.keys(UU).map(t=>{const r=n[t]===Wv[t]?aM[t]:Vb(n[t]);return Array.from({length:10},()=>1).reduce((a,o,l)=>(a[`${t}-${l+1}`]=r[l],a[`${t}${l+1}`]=r[l],a),{})}).reduce((t,r)=>(t=Object.assign(Object.assign({},t),r),t),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n),e),_j(n,{generateColorPalettes:Tj,generateNeutralColorPalettes:Rj})),Aj(n.fontSize)),Mj(n)),Ej(n)),Cj(n))}const FU=BR(Oj),zR={token:Jb,override:{override:Jb},hashed:!0},HU=We.createContext(zR),Qb="ant",ow="anticon",Ij=["outlined","borderless","filled","underlined"],Bj=(n,e)=>e||(n?`${Qb}-${n}`:Qb),qn=A.createContext({getPrefixCls:Bj,iconPrefixCls:ow}),{Consumer:N0e}=qn,zD={};function rf(n){const e=A.useContext(qn),{getPrefixCls:t,direction:r,getPopupContainer:a}=e,o=e[n];return Object.assign(Object.assign({classNames:zD,styles:zD},o),{getPrefixCls:t,direction:r,getPopupContainer:a})}const Dj=`-ant-${Date.now()}-${Math.random()}`;function Pj(n,e){const t={},r=(l,s)=>{let u=l.clone();return u=(s==null?void 0:s(u))||u,u.toRgbString()},a=(l,s)=>{const u=new Fi(l),d=Vb(u.toRgbString());t[`${s}-color`]=r(u),t[`${s}-color-disabled`]=d[1],t[`${s}-color-hover`]=d[4],t[`${s}-color-active`]=d[6],t[`${s}-color-outline`]=u.clone().setA(.2).toRgbString(),t[`${s}-color-deprecated-bg`]=d[0],t[`${s}-color-deprecated-border`]=d[2]};if(e.primaryColor){a(e.primaryColor,"primary");const l=new Fi(e.primaryColor),s=Vb(l.toRgbString());s.forEach((d,g)=>{t[`primary-${g+1}`]=d}),t["primary-color-deprecated-l-35"]=r(l,d=>d.lighten(35)),t["primary-color-deprecated-l-20"]=r(l,d=>d.lighten(20)),t["primary-color-deprecated-t-20"]=r(l,d=>d.tint(20)),t["primary-color-deprecated-t-50"]=r(l,d=>d.tint(50)),t["primary-color-deprecated-f-12"]=r(l,d=>d.setA(d.a*.12));const u=new Fi(s[0]);t["primary-color-active-deprecated-f-30"]=r(u,d=>d.setA(d.a*.3)),t["primary-color-active-deprecated-d-02"]=r(u,d=>d.darken(2))}return e.successColor&&a(e.successColor,"success"),e.warningColor&&a(e.warningColor,"warning"),e.errorColor&&a(e.errorColor,"error"),e.infoColor&&a(e.infoColor,"info"),`
  :root {
    ${Object.keys(t).map(l=>`--${n}-${l}: ${t[l]};`).join(`
`)}
  }
  `.trim()}function Lj(n,e){const t=Pj(n,e);ls()&&sd(t,`${Dj}-dynamic-theme`)}const Nh=A.createContext(!1),GU=n=>{let{children:e,disabled:t}=n;const r=A.useContext(Nh);return A.createElement(Nh.Provider,{value:t??r},e)},s0=A.createContext(void 0),Nj=n=>{let{children:e,size:t}=n;const r=A.useContext(s0);return A.createElement(s0.Provider,{value:t||r},e)};function zj(){const n=A.useContext(Nh),e=A.useContext(s0);return{componentDisabled:n,componentSize:e}}var kU=oi(function n(){ai(this,n)}),$U="CALC_UNIT",Uj=new RegExp($U,"g");function fM(n){return typeof n=="number"?"".concat(n).concat($U):n}var Fj=function(n){wr(t,n);var e=Wc(t);function t(r,a){var o;ai(this,t),o=e.call(this),fe(Dn(o),"result",""),fe(Dn(o),"unitlessCssVar",void 0),fe(Dn(o),"lowPriority",void 0);var l=mn(r);return o.unitlessCssVar=a,r instanceof t?o.result="(".concat(r.result,")"):l==="number"?o.result=fM(r):l==="string"&&(o.result=r),o}return oi(t,[{key:"add",value:function(a){return a instanceof t?this.result="".concat(this.result," + ").concat(a.getResult()):(typeof a=="number"||typeof a=="string")&&(this.result="".concat(this.result," + ").concat(fM(a))),this.lowPriority=!0,this}},{key:"sub",value:function(a){return a instanceof t?this.result="".concat(this.result," - ").concat(a.getResult()):(typeof a=="number"||typeof a=="string")&&(this.result="".concat(this.result," - ").concat(fM(a))),this.lowPriority=!0,this}},{key:"mul",value:function(a){return this.lowPriority&&(this.result="(".concat(this.result,")")),a instanceof t?this.result="".concat(this.result," * ").concat(a.getResult(!0)):(typeof a=="number"||typeof a=="string")&&(this.result="".concat(this.result," * ").concat(a)),this.lowPriority=!1,this}},{key:"div",value:function(a){return this.lowPriority&&(this.result="(".concat(this.result,")")),a instanceof t?this.result="".concat(this.result," / ").concat(a.getResult(!0)):(typeof a=="number"||typeof a=="string")&&(this.result="".concat(this.result," / ").concat(a)),this.lowPriority=!1,this}},{key:"getResult",value:function(a){return this.lowPriority||a?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(a){var o=this,l=a||{},s=l.unit,u=!0;return typeof s=="boolean"?u=s:Array.from(this.unitlessCssVar).some(function(d){return o.result.includes(d)})&&(u=!1),this.result=this.result.replace(Uj,u?"px":""),typeof this.lowPriority<"u"?"calc(".concat(this.result,")"):this.result}}]),t}(kU),Hj=function(n){wr(t,n);var e=Wc(t);function t(r){var a;return ai(this,t),a=e.call(this),fe(Dn(a),"result",0),r instanceof t?a.result=r.result:typeof r=="number"&&(a.result=r),a}return oi(t,[{key:"add",value:function(a){return a instanceof t?this.result+=a.result:typeof a=="number"&&(this.result+=a),this}},{key:"sub",value:function(a){return a instanceof t?this.result-=a.result:typeof a=="number"&&(this.result-=a),this}},{key:"mul",value:function(a){return a instanceof t?this.result*=a.result:typeof a=="number"&&(this.result*=a),this}},{key:"div",value:function(a){return a instanceof t?this.result/=a.result:typeof a=="number"&&(this.result/=a),this}},{key:"equal",value:function(){return this.result}}]),t}(kU),Gj=function(e,t){var r=e==="css"?Fj:Hj;return function(a){return new r(a,t)}},UD=function(e,t){return"".concat([t,e.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))};function qa(n){var e=A.useRef();e.current=n;var t=A.useCallback(function(){for(var r,a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(r=e.current)===null||r===void 0?void 0:r.call.apply(r,[e].concat(o))},[]);return t}function l0(n){var e=A.useRef(!1),t=A.useState(n),r=bt(t,2),a=r[0],o=r[1];A.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]);function l(s,u){u&&e.current||o(s)}return[a,l]}function dM(n){return n!==void 0}function nl(n,e){var t=e||{},r=t.defaultValue,a=t.value,o=t.onChange,l=t.postState,s=l0(function(){return dM(a)?a:dM(r)?typeof r=="function"?r():r:typeof n=="function"?n():n}),u=bt(s,2),d=u[0],g=u[1],y=a!==void 0?a:d,_=l?l(y):y,C=qa(o),c=l0([y]),p=bt(c,2),m=p[0],b=p[1];TD(function(){var T=m[0];d!==T&&C(d,T)},[m]),TD(function(){dM(a)||g(a)},[a]);var E=qa(function(T,R){g(T,R),b([y],R)});return[_,E]}function FD(n,e,t,r){var a=Ne({},e[n]);if(r!=null&&r.deprecatedTokens){var o=r.deprecatedTokens;o.forEach(function(s){var u=bt(s,2),d=u[0],g=u[1];if(a!=null&&a[d]||a!=null&&a[g]){var y;(y=a[g])!==null&&y!==void 0||(a[g]=a==null?void 0:a[d])}})}var l=Ne(Ne({},t),a);return Object.keys(l).forEach(function(s){l[s]===e[s]&&delete l[s]}),l}var VU=typeof CSSINJS_STATISTIC<"u",UR=!0;function sr(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];if(!VU)return Object.assign.apply(Object,[{}].concat(e));UR=!1;var r={};return e.forEach(function(a){if(mn(a)==="object"){var o=Object.keys(a);o.forEach(function(l){Object.defineProperty(r,l,{configurable:!0,enumerable:!0,get:function(){return a[l]}})})}}),UR=!0,r}var HD={};function kj(){}var $j=function(e){var t,r=e,a=kj;return VU&&typeof Proxy<"u"&&(t=new Set,r=new Proxy(e,{get:function(l,s){if(UR){var u;(u=t)===null||u===void 0||u.add(s)}return l[s]}}),a=function(l,s){var u;HD[l]={global:Array.from(t),component:Ne(Ne({},(u=HD[l])===null||u===void 0?void 0:u.component),s)}}),{token:r,keys:t,flush:a}};function GD(n,e,t){if(typeof t=="function"){var r;return t(sr(e,(r=e[n])!==null&&r!==void 0?r:{}))}return t??{}}function Vj(n){return n==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return"max(".concat(r.map(function(o){return Pt(o)}).join(","),")")},min:function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return"min(".concat(r.map(function(o){return Pt(o)}).join(","),")")}}}var jj=1e3*60*10,Wj=function(){function n(){ai(this,n),fe(this,"map",new Map),fe(this,"objectIDMap",new WeakMap),fe(this,"nextID",0),fe(this,"lastAccessBeat",new Map),fe(this,"accessBeat",0)}return oi(n,[{key:"set",value:function(t,r){this.clear();var a=this.getCompositeKey(t);this.map.set(a,r),this.lastAccessBeat.set(a,Date.now())}},{key:"get",value:function(t){var r=this.getCompositeKey(t),a=this.map.get(r);return this.lastAccessBeat.set(r,Date.now()),this.accessBeat+=1,a}},{key:"getCompositeKey",value:function(t){var r=this,a=t.map(function(o){return o&&mn(o)==="object"?"obj_".concat(r.getObjectID(o)):"".concat(mn(o),"_").concat(o)});return a.join("|")}},{key:"getObjectID",value:function(t){if(this.objectIDMap.has(t))return this.objectIDMap.get(t);var r=this.nextID;return this.objectIDMap.set(t,r),this.nextID+=1,r}},{key:"clear",value:function(){var t=this;if(this.accessBeat>1e4){var r=Date.now();this.lastAccessBeat.forEach(function(a,o){r-a>jj&&(t.map.delete(o),t.lastAccessBeat.delete(o))}),this.accessBeat=0}}}]),n}(),kD=new Wj;function Xj(n,e){return We.useMemo(function(){var t=kD.get(e);if(t)return t;var r=n();return kD.set(e,r),r},e)}var Yj=function(){return{}};function qj(n){var e=n.useCSP,t=e===void 0?Yj:e,r=n.useToken,a=n.usePrefix,o=n.getResetStyles,l=n.getCommonStyle,s=n.getCompUnitless;function u(_,C,c,p){var m=Array.isArray(_)?_[0]:_;function b(F){return"".concat(String(m)).concat(F.slice(0,1).toUpperCase()).concat(F.slice(1))}var E=(p==null?void 0:p.unitless)||{},T=typeof s=="function"?s(_):{},R=Ne(Ne({},T),{},fe({},b("zIndexPopup"),!0));Object.keys(E).forEach(function(F){R[b(F)]=E[F]});var O=Ne(Ne({},p),{},{unitless:R,prefixToken:b}),D=g(_,C,c,O),P=d(m,c,O);return function(F){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:F,z=D(F,U),$=bt(z,2),J=$[1],W=P(U),Z=bt(W,2),oe=Z[0],Y=Z[1];return[oe,J,Y]}}function d(_,C,c){var p=c.unitless,m=c.injectStyle,b=m===void 0?!0:m,E=c.prefixToken,T=c.ignore,R=function(P){var F=P.rootCls,U=P.cssVar,z=U===void 0?{}:U,$=r(),J=$.realToken;return sj({path:[_],prefix:z.prefix,key:z.key,unitless:p,ignore:T,token:J,scope:F},function(){var W=GD(_,J,C),Z=FD(_,J,W,{deprecatedTokens:c==null?void 0:c.deprecatedTokens});return Object.keys(W).forEach(function(oe){Z[E(oe)]=Z[oe],delete Z[oe]}),Z}),null},O=function(P){var F=r(),U=F.cssVar;return[function(z){return b&&U?We.createElement(We.Fragment,null,We.createElement(R,{rootCls:P,cssVar:U,component:_}),z):z},U==null?void 0:U.key]};return O}function g(_,C,c){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},m=Array.isArray(_)?_:[_,_],b=bt(m,1),E=b[0],T=m.join("-"),R=n.layer||{name:"antd"};return function(O){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:O,P=r(),F=P.theme,U=P.realToken,z=P.hashId,$=P.token,J=P.cssVar,W=a(),Z=W.rootPrefixCls,oe=W.iconPrefixCls,Y=t(),K=J?"css":"js",ee=Xj(function(){var Q=new Set;return J&&Object.keys(p.unitless||{}).forEach(function(he){Q.add(RC(he,J.prefix)),Q.add(RC(he,UD(E,J.prefix)))}),Gj(K,Q)},[K,E,J==null?void 0:J.prefix]),ue=Vj(K),q=ue.max,ie=ue.min,me={theme:F,token:$,hashId:z,nonce:function(){return Y.nonce},clientOnly:p.clientOnly,layer:R,order:p.order||-999};typeof o=="function"&&NR(Ne(Ne({},me),{},{clientOnly:!1,path:["Shared",Z]}),function(){return o($,{prefix:{rootPrefixCls:Z,iconPrefixCls:oe},csp:Y})});var de=NR(Ne(Ne({},me),{},{path:[T,O,oe]}),function(){if(p.injectStyle===!1)return[];var Q=$j($),he=Q.token,xe=Q.flush,Oe=GD(E,U,c),Ae=".".concat(O),Te=FD(E,U,Oe,{deprecatedTokens:p.deprecatedTokens});J&&Oe&&mn(Oe)==="object"&&Object.keys(Oe).forEach(function(Ce){Oe[Ce]="var(".concat(RC(Ce,UD(E,J.prefix)),")")});var ze=sr(he,{componentCls:Ae,prefixCls:O,iconCls:".".concat(oe),antCls:".".concat(Z),calc:ee,max:q,min:ie},J?Oe:Te),vt=C(ze,{hashId:z,prefixCls:O,rootPrefixCls:Z,iconPrefixCls:oe});xe(E,Te);var Be=typeof l=="function"?l(ze,O,D,p.resetFont):null;return[p.resetStyle===!1?null:Be,vt]});return[de,z]}}function y(_,C,c){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},m=g(_,C,c,Ne({resetStyle:!1,order:-998},p)),b=function(T){var R=T.prefixCls,O=T.rootCls,D=O===void 0?R:O;return m(R,D),null};return b}return{genStyleHooks:u,genSubStyleComponent:y,genComponentStyleHook:g}}const zh=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"],Kj="5.24.3";function hM(n){return n>=0&&n<=255}function ob(n,e){const{r:t,g:r,b:a,a:o}=new Fi(n).toRgb();if(o<1)return n;const{r:l,g:s,b:u}=new Fi(e).toRgb();for(let d=.01;d<=1;d+=.01){const g=Math.round((t-l*(1-d))/d),y=Math.round((r-s*(1-d))/d),_=Math.round((a-u*(1-d))/d);if(hM(g)&&hM(y)&&hM(_))return new Fi({r:g,g:y,b:_,a:Math.round(d*100)/100}).toRgbString()}return new Fi({r:t,g:r,b:a,a:1}).toRgbString()}var Jj=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};function jU(n){const{override:e}=n,t=Jj(n,["override"]),r=Object.assign({},e);Object.keys(Jb).forEach(_=>{delete r[_]});const a=Object.assign(Object.assign({},t),r),o=480,l=576,s=768,u=992,d=1200,g=1600;if(a.motion===!1){const _="0s";a.motionDurationFast=_,a.motionDurationMid=_,a.motionDurationSlow=_}return Object.assign(Object.assign(Object.assign({},a),{colorFillContent:a.colorFillSecondary,colorFillContentHover:a.colorFill,colorFillAlter:a.colorFillQuaternary,colorBgContainerDisabled:a.colorFillTertiary,colorBorderBg:a.colorBgContainer,colorSplit:ob(a.colorBorderSecondary,a.colorBgContainer),colorTextPlaceholder:a.colorTextQuaternary,colorTextDisabled:a.colorTextQuaternary,colorTextHeading:a.colorText,colorTextLabel:a.colorTextSecondary,colorTextDescription:a.colorTextTertiary,colorTextLightSolid:a.colorWhite,colorHighlight:a.colorError,colorBgTextHover:a.colorFillSecondary,colorBgTextActive:a.colorFill,colorIcon:a.colorTextTertiary,colorIconHover:a.colorText,colorErrorOutline:ob(a.colorErrorBg,a.colorBgContainer),colorWarningOutline:ob(a.colorWarningBg,a.colorBgContainer),fontSizeIcon:a.fontSizeSM,lineWidthFocus:a.lineWidth*3,lineWidth:a.lineWidth,controlOutlineWidth:a.lineWidth*2,controlInteractiveSize:a.controlHeight/2,controlItemBgHover:a.colorFillTertiary,controlItemBgActive:a.colorPrimaryBg,controlItemBgActiveHover:a.colorPrimaryBgHover,controlItemBgActiveDisabled:a.colorFill,controlTmpOutline:a.colorFillQuaternary,controlOutline:ob(a.colorPrimaryBg,a.colorBgContainer),lineType:a.lineType,borderRadius:a.borderRadius,borderRadiusXS:a.borderRadiusXS,borderRadiusSM:a.borderRadiusSM,borderRadiusLG:a.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:a.sizeXXS,paddingXS:a.sizeXS,paddingSM:a.sizeSM,padding:a.size,paddingMD:a.sizeMD,paddingLG:a.sizeLG,paddingXL:a.sizeXL,paddingContentHorizontalLG:a.sizeLG,paddingContentVerticalLG:a.sizeMS,paddingContentHorizontal:a.sizeMS,paddingContentVertical:a.sizeSM,paddingContentHorizontalSM:a.size,paddingContentVerticalSM:a.sizeXS,marginXXS:a.sizeXXS,marginXS:a.sizeXS,marginSM:a.sizeSM,margin:a.size,marginMD:a.sizeMD,marginLG:a.sizeLG,marginXL:a.sizeXL,marginXXL:a.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:o,screenXSMin:o,screenXSMax:l-1,screenSM:l,screenSMMin:l,screenSMMax:s-1,screenMD:s,screenMDMin:s,screenMDMax:u-1,screenLG:u,screenLGMin:u,screenLGMax:d-1,screenXL:d,screenXLMin:d,screenXLMax:g-1,screenXXL:g,screenXXLMin:g,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new Fi("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new Fi("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new Fi("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}var $D=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const WU={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},Qj={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},Zj={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},XU=(n,e,t)=>{const r=t.getDerivativeToken(n),{override:a}=e,o=$D(e,["override"]);let l=Object.assign(Object.assign({},r),{override:a});return l=jU(l),o&&Object.entries(o).forEach(s=>{let[u,d]=s;const{theme:g}=d,y=$D(d,["theme"]);let _=y;g&&(_=XU(Object.assign(Object.assign({},l),y),{override:y},g)),l[u]=_}),l};function af(){const{token:n,hashed:e,theme:t,override:r,cssVar:a}=We.useContext(HU),o=`${Kj}-${e||""}`,l=t||FU,[s,u,d]=D9(l,[Jb,n],{salt:o,override:r,getComputedToken:XU,formatToken:jU,cssVar:a&&{prefix:a.prefix,key:a.key,unitless:WU,ignore:Qj,preserve:Zj}});return[l,d,e?u:"",s,a]}const sw={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},Gl=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{boxSizing:"border-box",margin:0,padding:0,color:n.colorText,fontSize:n.fontSize,lineHeight:n.lineHeight,listStyle:"none",fontFamily:e?"inherit":n.fontFamily}},AO=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),c0=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),e7=n=>({a:{color:n.colorLink,textDecoration:n.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${n.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:n.colorLinkHover},"&:active":{color:n.colorLinkActive},"&:active, &:hover":{textDecoration:n.linkHoverDecoration,outline:0},"&:focus":{textDecoration:n.linkFocusDecoration,outline:0},"&[disabled]":{color:n.colorTextDisabled,cursor:"not-allowed"}}}),t7=(n,e,t,r)=>{const a=`[class^="${e}"], [class*=" ${e}"]`,o=t?`.${t}`:a,l={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let s={};return r!==!1&&(s={fontFamily:n.fontFamily,fontSize:n.fontSize}),{[o]:Object.assign(Object.assign(Object.assign({},s),l),{[a]:l})}},YU=(n,e)=>({outline:`${Pt(n.lineWidthFocus)} solid ${n.colorPrimaryBorder}`,outlineOffset:e??1,transition:"outline-offset 0s, outline 0s"}),qU=(n,e)=>({"&:focus-visible":Object.assign({},YU(n,e))}),KU=n=>({[`.${n}`]:Object.assign(Object.assign({},AO()),{[`.${n} .${n}-icon`]:{display:"block"}})}),{genStyleHooks:oa,genComponentStyleHook:n7,genSubStyleComponent:lw}=qj({usePrefix:()=>{const{getPrefixCls:n,iconPrefixCls:e}=A.useContext(qn);return{rootPrefixCls:n(),iconPrefixCls:e}},useToken:()=>{const[n,e,t,r,a]=af();return{theme:n,realToken:e,hashId:t,token:r,cssVar:a}},useCSP:()=>{const{csp:n}=A.useContext(qn);return n??{}},getResetStyles:(n,e)=>{var t;const r=e7(n);return[r,{"&":r},KU((t=e==null?void 0:e.prefix.iconPrefixCls)!==null&&t!==void 0?t:ow)]},getCommonStyle:t7,getCompUnitless:()=>WU});function JU(n,e){return zh.reduce((t,r)=>{const a=n[`${r}1`],o=n[`${r}3`],l=n[`${r}6`],s=n[`${r}7`];return Object.assign(Object.assign({},t),e(r,{lightColor:a,lightBorderColor:o,darkColor:l,textColor:s}))},{})}const i7=(n,e)=>{const[t,r]=af();return NR({token:r,hashId:"",path:["ant-design-icons",n],nonce:()=>e==null?void 0:e.nonce,layer:{name:"antd"}},()=>[KU(n)])},r7=Object.assign({},QE),{useId:VD}=r7,a7=()=>"",o7=typeof VD>"u"?a7:VD;function s7(n,e,t){var r;EO();const a=n||{},o=a.inherit===!1||!e?Object.assign(Object.assign({},zR),{hashed:(r=e==null?void 0:e.hashed)!==null&&r!==void 0?r:zR.hashed,cssVar:e==null?void 0:e.cssVar}):e,l=o7();return tw(()=>{var s,u;if(!n)return e;const d=Object.assign({},o.components);Object.keys(n.components||{}).forEach(_=>{d[_]=Object.assign(Object.assign({},d[_]),n.components[_])});const g=`css-var-${l.replace(/:/g,"")}`,y=((s=a.cssVar)!==null&&s!==void 0?s:o.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:t==null?void 0:t.prefixCls},typeof o.cssVar=="object"?o.cssVar:{}),typeof a.cssVar=="object"?a.cssVar:{}),{key:typeof a.cssVar=="object"&&((u=a.cssVar)===null||u===void 0?void 0:u.key)||g});return Object.assign(Object.assign(Object.assign({},o),a),{token:Object.assign(Object.assign({},o.token),a.token),components:d,cssVar:y})},[a,o],(s,u)=>s.some((d,g)=>{const y=u[g];return!i0(d,y,!0)}))}var l7=["children"],QU=A.createContext({});function c7(n){var e=n.children,t=$n(n,l7);return A.createElement(QU.Provider,{value:t},e)}var u7=function(n){wr(t,n);var e=Wc(t);function t(){return ai(this,t),e.apply(this,arguments)}return oi(t,[{key:"render",value:function(){return this.props.children}}]),t}(A.Component);function f7(n){var e=A.useReducer(function(s){return s+1},0),t=bt(e,2),r=t[1],a=A.useRef(n),o=qa(function(){return a.current}),l=qa(function(s){a.current=typeof s=="function"?s(a.current):s,r()});return[o,l]}var ph="none",px="appear",mx="enter",gx="leave",jD="none",Bc="prepare",Bv="start",Dv="active",MO="end",ZU="prepared";function WD(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit".concat(n)]="webkit".concat(e),t["Moz".concat(n)]="moz".concat(e),t["ms".concat(n)]="MS".concat(e),t["O".concat(n)]="o".concat(e.toLowerCase()),t}function d7(n,e){var t={animationend:WD("Animation","AnimationEnd"),transitionend:WD("Transition","TransitionEnd")};return n&&("AnimationEvent"in e||delete t.animationend.animation,"TransitionEvent"in e||delete t.transitionend.transition),t}var h7=d7(ls(),typeof window<"u"?window:{}),eF={};if(ls()){var p7=document.createElement("div");eF=p7.style}var vx={};function tF(n){if(vx[n])return vx[n];var e=h7[n];if(e)for(var t=Object.keys(e),r=t.length,a=0;a<r;a+=1){var o=t[a];if(Object.prototype.hasOwnProperty.call(e,o)&&o in eF)return vx[n]=e[o],vx[n]}return""}var nF=tF("animationend"),iF=tF("transitionend"),rF=!!(nF&&iF),XD=nF||"animationend",YD=iF||"transitionend";function qD(n,e){if(!n)return null;if(mn(n)==="object"){var t=e.replace(/-\w/g,function(r){return r[1].toUpperCase()});return n[t]}return"".concat(n,"-").concat(e)}const m7=function(n){var e=A.useRef();function t(a){a&&(a.removeEventListener(YD,n),a.removeEventListener(XD,n))}function r(a){e.current&&e.current!==a&&t(e.current),a&&a!==e.current&&(a.addEventListener(YD,n),a.addEventListener(XD,n),e.current=a)}return A.useEffect(function(){return function(){t(e.current)}},[]),[r,t]};var aF=ls()?A.useLayoutEffect:A.useEffect;const g7=function(){var n=A.useRef(null);function e(){ho.cancel(n.current)}function t(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;e();var o=ho(function(){a<=1?r({isCanceled:function(){return o!==n.current}}):t(r,a-1)});n.current=o}return A.useEffect(function(){return function(){e()}},[]),[t,e]};var v7=[Bc,Bv,Dv,MO],y7=[Bc,ZU],oF=!1,b7=!0;function sF(n){return n===Dv||n===MO}const S7=function(n,e,t){var r=l0(jD),a=bt(r,2),o=a[0],l=a[1],s=g7(),u=bt(s,2),d=u[0],g=u[1];function y(){l(Bc,!0)}var _=e?y7:v7;return aF(function(){if(o!==jD&&o!==MO){var C=_.indexOf(o),c=_[C+1],p=t(o);p===oF?l(c,!0):c&&d(function(m){function b(){m.isCanceled()||l(c,!0)}p===!0?b():Promise.resolve(p).then(b)})}},[n,o]),A.useEffect(function(){return function(){g()}},[]),[y,o]};function _7(n,e,t,r){var a=r.motionEnter,o=a===void 0?!0:a,l=r.motionAppear,s=l===void 0?!0:l,u=r.motionLeave,d=u===void 0?!0:u,g=r.motionDeadline,y=r.motionLeaveImmediately,_=r.onAppearPrepare,C=r.onEnterPrepare,c=r.onLeavePrepare,p=r.onAppearStart,m=r.onEnterStart,b=r.onLeaveStart,E=r.onAppearActive,T=r.onEnterActive,R=r.onLeaveActive,O=r.onAppearEnd,D=r.onEnterEnd,P=r.onLeaveEnd,F=r.onVisibleChanged,U=l0(),z=bt(U,2),$=z[0],J=z[1],W=f7(ph),Z=bt(W,2),oe=Z[0],Y=Z[1],K=l0(null),ee=bt(K,2),ue=ee[0],q=ee[1],ie=oe(),me=A.useRef(!1),de=A.useRef(null);function Q(){return t()}var he=A.useRef(!1);function xe(){Y(ph),q(null,!0)}var Oe=qa(function(ce){var ae=oe();if(ae!==ph){var we=Q();if(!(ce&&!ce.deadline&&ce.target!==we)){var De=he.current,qe;ae===px&&De?qe=O==null?void 0:O(we,ce):ae===mx&&De?qe=D==null?void 0:D(we,ce):ae===gx&&De&&(qe=P==null?void 0:P(we,ce)),De&&qe!==!1&&xe()}}}),Ae=m7(Oe),Te=bt(Ae,1),ze=Te[0],vt=function(ae){switch(ae){case px:return fe(fe(fe({},Bc,_),Bv,p),Dv,E);case mx:return fe(fe(fe({},Bc,C),Bv,m),Dv,T);case gx:return fe(fe(fe({},Bc,c),Bv,b),Dv,R);default:return{}}},Be=A.useMemo(function(){return vt(ie)},[ie]),Ce=S7(ie,!n,function(ce){if(ce===Bc){var ae=Be[Bc];return ae?ae(Q()):oF}if(Ie in Be){var we;q(((we=Be[Ie])===null||we===void 0?void 0:we.call(Be,Q(),null))||null)}return Ie===Dv&&ie!==ph&&(ze(Q()),g>0&&(clearTimeout(de.current),de.current=setTimeout(function(){Oe({deadline:!0})},g))),Ie===ZU&&xe(),b7}),re=bt(Ce,2),Fe=re[0],Ie=re[1],Ye=sF(Ie);he.current=Ye;var ke=A.useRef(null);aF(function(){if(!(me.current&&ke.current===e)){J(e);var ce=me.current;me.current=!0;var ae;!ce&&e&&s&&(ae=px),ce&&e&&o&&(ae=mx),(ce&&!e&&d||!ce&&y&&!e&&d)&&(ae=gx);var we=vt(ae);ae&&(n||we[Bc])?(Y(ae),Fe()):Y(ph),ke.current=e}},[e]),A.useEffect(function(){(ie===px&&!s||ie===mx&&!o||ie===gx&&!d)&&Y(ph)},[s,o,d]),A.useEffect(function(){return function(){me.current=!1,clearTimeout(de.current)}},[]);var lt=A.useRef(!1);A.useEffect(function(){$&&(lt.current=!0),$!==void 0&&ie===ph&&((lt.current||$)&&(F==null||F($)),lt.current=!0)},[$,ie]);var ot=ue;return Be[Bc]&&Ie===Bv&&(ot=Ne({transition:"none"},ot)),[ie,Ie,ot,$??e]}function x7(n){var e=n;mn(n)==="object"&&(e=n.transitionSupport);function t(a,o){return!!(a.motionName&&e&&o!==!1)}var r=A.forwardRef(function(a,o){var l=a.visible,s=l===void 0?!0:l,u=a.removeOnLeave,d=u===void 0?!0:u,g=a.forceRender,y=a.children,_=a.motionName,C=a.leavedClassName,c=a.eventProps,p=A.useContext(QU),m=p.motion,b=t(a,m),E=A.useRef(),T=A.useRef();function R(){try{return E.current instanceof HTMLElement?E.current:TC(T.current)}catch{return null}}var O=_7(b,s,R,a),D=bt(O,4),P=D[0],F=D[1],U=D[2],z=D[3],$=A.useRef(z);z&&($.current=!0);var J=A.useCallback(function(ee){E.current=ee,vO(o,ee)},[o]),W,Z=Ne(Ne({},c),{},{visible:s});if(!y)W=null;else if(P===ph)z?W=y(Ne({},Z),J):!d&&$.current&&C?W=y(Ne(Ne({},Z),{},{className:C}),J):g||!d&&!C?W=y(Ne(Ne({},Z),{},{style:{display:"none"}}),J):W=null;else{var oe;F===Bc?oe="prepare":sF(F)?oe="active":F===Bv&&(oe="start");var Y=qD(_,"".concat(P,"-").concat(oe));W=y(Ne(Ne({},Z),{},{className:et(qD(_,P),fe(fe({},Y,Y&&oe),_,typeof _=="string")),style:U}),J)}if(A.isValidElement(W)&&SS(W)){var K=nw(W);K||(W=A.cloneElement(W,{ref:J}))}return A.createElement(u7,{ref:T},W)});return r.displayName="CSSMotion",r}const Xc=x7(rF);var FR="add",HR="keep",GR="remove",pM="removed";function C7(n){var e;return n&&mn(n)==="object"&&"key"in n?e=n:e={key:n},Ne(Ne({},e),{},{key:String(e.key)})}function kR(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return n.map(C7)}function E7(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=[],r=0,a=e.length,o=kR(n),l=kR(e);o.forEach(function(d){for(var g=!1,y=r;y<a;y+=1){var _=l[y];if(_.key===d.key){r<y&&(t=t.concat(l.slice(r,y).map(function(C){return Ne(Ne({},C),{},{status:FR})})),r=y),t.push(Ne(Ne({},_),{},{status:HR})),r+=1,g=!0;break}}g||t.push(Ne(Ne({},d),{},{status:GR}))}),r<a&&(t=t.concat(l.slice(r).map(function(d){return Ne(Ne({},d),{},{status:FR})})));var s={};t.forEach(function(d){var g=d.key;s[g]=(s[g]||0)+1});var u=Object.keys(s).filter(function(d){return s[d]>1});return u.forEach(function(d){t=t.filter(function(g){var y=g.key,_=g.status;return y!==d||_!==GR}),t.forEach(function(g){g.key===d&&(g.status=HR)})}),t}var w7=["component","children","onVisibleChanged","onAllRemoved"],A7=["status"],M7=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function T7(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Xc,t=function(r){wr(o,r);var a=Wc(o);function o(){var l;ai(this,o);for(var s=arguments.length,u=new Array(s),d=0;d<s;d++)u[d]=arguments[d];return l=a.call.apply(a,[this].concat(u)),fe(Dn(l),"state",{keyEntities:[]}),fe(Dn(l),"removeKey",function(g){l.setState(function(y){var _=y.keyEntities.map(function(C){return C.key!==g?C:Ne(Ne({},C),{},{status:pM})});return{keyEntities:_}},function(){var y=l.state.keyEntities,_=y.filter(function(C){var c=C.status;return c!==pM}).length;_===0&&l.props.onAllRemoved&&l.props.onAllRemoved()})}),l}return oi(o,[{key:"render",value:function(){var s=this,u=this.state.keyEntities,d=this.props,g=d.component,y=d.children,_=d.onVisibleChanged;d.onAllRemoved;var C=$n(d,w7),c=g||A.Fragment,p={};return M7.forEach(function(m){p[m]=C[m],delete C[m]}),delete C.keys,A.createElement(c,C,u.map(function(m,b){var E=m.status,T=$n(m,A7),R=E===FR||E===HR;return A.createElement(e,Nt({},p,{key:T.key,visible:R,eventProps:T,onVisibleChanged:function(D){_==null||_(D,{key:T.key}),D||s.removeKey(T.key)}}),function(O,D){return y(Ne(Ne({},O),{},{index:b}),D)})}))}}],[{key:"getDerivedStateFromProps",value:function(s,u){var d=s.keys,g=u.keyEntities,y=kR(d),_=E7(g,y);return{keyEntities:_.filter(function(C){var c=g.find(function(p){var m=p.key;return C.key===m});return!(c&&c.status===pM&&C.status===GR)})}}}]),o}(A.Component);return fe(t,"defaultProps",{component:"div"}),t}const lF=T7(rF);function R7(n){const{children:e}=n,[,t]=af(),{motion:r}=t,a=A.useRef(!1);return a.current=a.current||r===!1,a.current?A.createElement(c7,{motion:r},e):e}const O7=()=>null;var I7=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const B7=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"];let D1,cF,uF,fF;function zC(){return D1||Qb}function D7(){return cF||ow}function P7(n){return Object.keys(n).some(e=>e.endsWith("Color"))}const L7=n=>{const{prefixCls:e,iconPrefixCls:t,theme:r,holderRender:a}=n;e!==void 0&&(D1=e),t!==void 0&&(cF=t),"holderRender"in n&&(fF=a),r&&(P7(r)?Lj(zC(),r):uF=r)},dF=()=>({getPrefixCls:(n,e)=>e||(n?`${zC()}-${n}`:zC()),getIconPrefixCls:D7,getRootPrefixCls:()=>D1||zC(),getTheme:()=>uF,holderRender:fF}),N7=n=>{const{children:e,csp:t,autoInsertSpaceInButton:r,alert:a,anchor:o,form:l,locale:s,componentSize:u,direction:d,space:g,splitter:y,virtual:_,dropdownMatchSelectWidth:C,popupMatchSelectWidth:c,popupOverflow:p,legacyLocale:m,parentContext:b,iconPrefixCls:E,theme:T,componentDisabled:R,segmented:O,statistic:D,spin:P,calendar:F,carousel:U,cascader:z,collapse:$,typography:J,checkbox:W,descriptions:Z,divider:oe,drawer:Y,skeleton:K,steps:ee,image:ue,layout:q,list:ie,mentions:me,modal:de,progress:Q,result:he,slider:xe,breadcrumb:Oe,menu:Ae,pagination:Te,input:ze,textArea:vt,empty:Be,badge:Ce,radio:re,rate:Fe,switch:Ie,transfer:Ye,avatar:ke,message:lt,tag:ot,table:ce,card:ae,tabs:we,timeline:De,timePicker:qe,upload:He,notification:gt,tree:st,colorPicker:pt,datePicker:Ot,rangePicker:at,flex:_t,wave:Ct,dropdown:je,warning:it,tour:Se,tooltip:Ge,popover:St,popconfirm:Me,floatButtonGroup:xt,variant:Qe,inputNumber:mt,treeSelect:Lt}=n,It=A.useCallback((wn,Mn)=>{const{prefixCls:Qn}=n;if(Mn)return Mn;const un=Qn||b.getPrefixCls("");return wn?`${un}-${wn}`:un},[b.getPrefixCls,n.prefixCls]),Qt=E||b.iconPrefixCls||ow,sn=t||b.csp;i7(Qt,sn);const qt=s7(T,b.theme,{prefixCls:It("")}),Dt={csp:sn,autoInsertSpaceInButton:r,alert:a,anchor:o,locale:s||m,direction:d,space:g,splitter:y,virtual:_,popupMatchSelectWidth:c??C,popupOverflow:p,getPrefixCls:It,iconPrefixCls:Qt,theme:qt,segmented:O,statistic:D,spin:P,calendar:F,carousel:U,cascader:z,collapse:$,typography:J,checkbox:W,descriptions:Z,divider:oe,drawer:Y,skeleton:K,steps:ee,image:ue,input:ze,textArea:vt,layout:q,list:ie,mentions:me,modal:de,progress:Q,result:he,slider:xe,breadcrumb:Oe,menu:Ae,pagination:Te,empty:Be,badge:Ce,radio:re,rate:Fe,switch:Ie,transfer:Ye,avatar:ke,message:lt,tag:ot,table:ce,card:ae,tabs:we,timeline:De,timePicker:qe,upload:He,notification:gt,tree:st,colorPicker:pt,datePicker:Ot,rangePicker:at,flex:_t,wave:Ct,dropdown:je,warning:it,tour:Se,tooltip:Ge,popover:St,popconfirm:Me,floatButtonGroup:xt,variant:Qe,inputNumber:mt,treeSelect:Lt},Yt=Object.assign({},b);Object.keys(Dt).forEach(wn=>{Dt[wn]!==void 0&&(Yt[wn]=Dt[wn])}),B7.forEach(wn=>{const Mn=n[wn];Mn&&(Yt[wn]=Mn)}),typeof r<"u"&&(Yt.button=Object.assign({autoInsertSpace:r},Yt.button));const yn=tw(()=>Yt,Yt,(wn,Mn)=>{const Qn=Object.keys(wn),un=Object.keys(Mn);return Qn.length!==un.length||Qn.some(ii=>wn[ii]!==Mn[ii])}),{layer:lr}=A.useContext(_S),Kr=A.useMemo(()=>({prefixCls:Qt,csp:sn,layer:lr?"antd":void 0}),[Qt,sn,lr]);let zn=A.createElement(A.Fragment,null,A.createElement(O7,{dropdownMatchSelectWidth:C}),e);const Ai=A.useMemo(()=>{var wn,Mn,Qn,un;return Iv(((wn=Lh.Form)===null||wn===void 0?void 0:wn.defaultValidateMessages)||{},((Qn=(Mn=yn.locale)===null||Mn===void 0?void 0:Mn.Form)===null||Qn===void 0?void 0:Qn.defaultValidateMessages)||{},((un=yn.form)===null||un===void 0?void 0:un.validateMessages)||{},(l==null?void 0:l.validateMessages)||{})},[yn,l==null?void 0:l.validateMessages]);Object.keys(Ai).length>0&&(zn=A.createElement(pj.Provider,{value:Ai},zn)),s&&(zn=A.createElement(Sj,{locale:s,_ANT_MARK__:bj},zn)),zn=A.createElement(dO.Provider,{value:Kr},zn),u&&(zn=A.createElement(Nj,{size:u},zn)),zn=A.createElement(R7,null,zn);const br=A.useMemo(()=>{const wn=qt||{},{algorithm:Mn,token:Qn,components:un,cssVar:ii}=wn,ln=I7(wn,["algorithm","token","components","cssVar"]),Lr=Mn&&(!Array.isArray(Mn)||Mn.length>0)?BR(Mn):FU,Nr={};Object.entries(un||{}).forEach(Rr=>{let[cr,Sr]=Rr;const le=Object.assign({},Sr);"algorithm"in le&&(le.algorithm===!0?le.theme=Lr:(Array.isArray(le.algorithm)||typeof le.algorithm=="function")&&(le.theme=BR(le.algorithm)),delete le.algorithm),Nr[cr]=le});const Tr=Object.assign(Object.assign({},Jb),Qn);return Object.assign(Object.assign({},ln),{theme:Lr,token:Tr,components:Nr,override:Object.assign({override:Tr},Nr),cssVar:ii})},[qt]);return T&&(zn=A.createElement(HU.Provider,{value:br},zn)),yn.warning&&(zn=A.createElement(hj.Provider,{value:yn.warning},zn)),R!==void 0&&(zn=A.createElement(GU,{disabled:R},zn)),A.createElement(qn.Provider,{value:yn},zn)},bd=n=>{const e=A.useContext(qn),t=A.useContext(wO);return A.createElement(N7,Object.assign({parentContext:e,legacyLocale:t},n))};bd.ConfigContext=qn;bd.SizeContext=s0;bd.config=L7;bd.useConfig=zj;Object.defineProperty(bd,"SizeContext",{get:()=>s0});var z7=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,U7=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,F7="".concat(z7," ").concat(U7).split(/[\s\n]+/),H7="aria-",G7="data-";function KD(n,e){return n.indexOf(e)===0}function R0(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t;e===!1?t={aria:!0,data:!0,attr:!0}:e===!0?t={aria:!0}:t=Ne({},e);var r={};return Object.keys(n).forEach(function(a){(t.aria&&(a==="role"||KD(a,H7))||t.data&&KD(a,G7)||t.attr&&F7.includes(a))&&(r[a]=n[a])}),r}function hF(n){return n&&We.isValidElement(n)&&n.type===We.Fragment}const pF=(n,e,t)=>We.isValidElement(n)?We.cloneElement(n,typeof t=="function"?t(n.props||{}):t):e;function rl(n,e){return pF(n,n,e)}const Yc=n=>{const[,,,,e]=af();return e?`${n}-css-var`:""};var zo={TAB:9,ENTER:13,ESC:27,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40},mF=A.forwardRef(function(n,e){var t=n.prefixCls,r=n.style,a=n.className,o=n.duration,l=o===void 0?4.5:o,s=n.showProgress,u=n.pauseOnHover,d=u===void 0?!0:u,g=n.eventKey,y=n.content,_=n.closable,C=n.closeIcon,c=C===void 0?"x":C,p=n.props,m=n.onClick,b=n.onNoticeClose,E=n.times,T=n.hovering,R=A.useState(!1),O=bt(R,2),D=O[0],P=O[1],F=A.useState(0),U=bt(F,2),z=U[0],$=U[1],J=A.useState(0),W=bt(J,2),Z=W[0],oe=W[1],Y=T||D,K=l>0&&s,ee=function(){b(g)},ue=function(he){(he.key==="Enter"||he.code==="Enter"||he.keyCode===zo.ENTER)&&ee()};A.useEffect(function(){if(!Y&&l>0){var Q=Date.now()-Z,he=setTimeout(function(){ee()},l*1e3-Z);return function(){d&&clearTimeout(he),oe(Date.now()-Q)}}},[l,Y,E]),A.useEffect(function(){if(!Y&&K&&(d||Z===0)){var Q=performance.now(),he,xe=function Oe(){cancelAnimationFrame(he),he=requestAnimationFrame(function(Ae){var Te=Ae+Z-Q,ze=Math.min(Te/(l*1e3),1);$(ze*100),ze<1&&Oe()})};return xe(),function(){d&&cancelAnimationFrame(he)}}},[l,Z,Y,K,E]);var q=A.useMemo(function(){return mn(_)==="object"&&_!==null?_:_?{closeIcon:c}:{}},[_,c]),ie=R0(q,!0),me=100-(!z||z<0?0:z>100?100:z),de="".concat(t,"-notice");return A.createElement("div",Nt({},p,{ref:e,className:et(de,a,fe({},"".concat(de,"-closable"),_)),style:r,onMouseEnter:function(he){var xe;P(!0),p==null||(xe=p.onMouseEnter)===null||xe===void 0||xe.call(p,he)},onMouseLeave:function(he){var xe;P(!1),p==null||(xe=p.onMouseLeave)===null||xe===void 0||xe.call(p,he)},onClick:m}),A.createElement("div",{className:"".concat(de,"-content")},y),_&&A.createElement("a",Nt({tabIndex:0,className:"".concat(de,"-close"),onKeyDown:ue,"aria-label":"Close"},ie,{onClick:function(he){he.preventDefault(),he.stopPropagation(),ee()}}),q.closeIcon),K&&A.createElement("progress",{className:"".concat(de,"-progress"),max:"100",value:me},me+"%"))}),gF=We.createContext({}),k7=function(e){var t=e.children,r=e.classNames;return We.createElement(gF.Provider,{value:{classNames:r}},t)},JD=8,QD=3,ZD=16,$7=function(e){var t={offset:JD,threshold:QD,gap:ZD};if(e&&mn(e)==="object"){var r,a,o;t.offset=(r=e.offset)!==null&&r!==void 0?r:JD,t.threshold=(a=e.threshold)!==null&&a!==void 0?a:QD,t.gap=(o=e.gap)!==null&&o!==void 0?o:ZD}return[!!e,t]},V7=["className","style","classNames","styles"],j7=function(e){var t=e.configList,r=e.placement,a=e.prefixCls,o=e.className,l=e.style,s=e.motion,u=e.onAllNoticeRemoved,d=e.onNoticeClose,g=e.stack,y=A.useContext(gF),_=y.classNames,C=A.useRef({}),c=A.useState(null),p=bt(c,2),m=p[0],b=p[1],E=A.useState([]),T=bt(E,2),R=T[0],O=T[1],D=t.map(function(Y){return{config:Y,key:String(Y.key)}}),P=$7(g),F=bt(P,2),U=F[0],z=F[1],$=z.offset,J=z.threshold,W=z.gap,Z=U&&(R.length>0||D.length<=J),oe=typeof s=="function"?s(r):s;return A.useEffect(function(){U&&R.length>1&&O(function(Y){return Y.filter(function(K){return D.some(function(ee){var ue=ee.key;return K===ue})})})},[R,D,U]),A.useEffect(function(){var Y;if(U&&C.current[(Y=D[D.length-1])===null||Y===void 0?void 0:Y.key]){var K;b(C.current[(K=D[D.length-1])===null||K===void 0?void 0:K.key])}},[D,U]),We.createElement(lF,Nt({key:r,className:et(a,"".concat(a,"-").concat(r),_==null?void 0:_.list,o,fe(fe({},"".concat(a,"-stack"),!!U),"".concat(a,"-stack-expanded"),Z)),style:l,keys:D,motionAppear:!0},oe,{onAllRemoved:function(){u(r)}}),function(Y,K){var ee=Y.config,ue=Y.className,q=Y.style,ie=Y.index,me=ee,de=me.key,Q=me.times,he=String(de),xe=ee,Oe=xe.className,Ae=xe.style,Te=xe.classNames,ze=xe.styles,vt=$n(xe,V7),Be=D.findIndex(function(De){return De.key===he}),Ce={};if(U){var re=D.length-1-(Be>-1?Be:ie-1),Fe=r==="top"||r==="bottom"?"-50%":"0";if(re>0){var Ie,Ye,ke;Ce.height=Z?(Ie=C.current[he])===null||Ie===void 0?void 0:Ie.offsetHeight:m==null?void 0:m.offsetHeight;for(var lt=0,ot=0;ot<re;ot++){var ce;lt+=((ce=C.current[D[D.length-1-ot].key])===null||ce===void 0?void 0:ce.offsetHeight)+W}var ae=(Z?lt:re*$)*(r.startsWith("top")?1:-1),we=!Z&&m!==null&&m!==void 0&&m.offsetWidth&&(Ye=C.current[he])!==null&&Ye!==void 0&&Ye.offsetWidth?((m==null?void 0:m.offsetWidth)-$*2*(re<3?re:3))/((ke=C.current[he])===null||ke===void 0?void 0:ke.offsetWidth):1;Ce.transform="translate3d(".concat(Fe,", ").concat(ae,"px, 0) scaleX(").concat(we,")")}else Ce.transform="translate3d(".concat(Fe,", 0, 0)")}return We.createElement("div",{ref:K,className:et("".concat(a,"-notice-wrapper"),ue,Te==null?void 0:Te.wrapper),style:Ne(Ne(Ne({},q),Ce),ze==null?void 0:ze.wrapper),onMouseEnter:function(){return O(function(qe){return qe.includes(he)?qe:[].concat(Jt(qe),[he])})},onMouseLeave:function(){return O(function(qe){return qe.filter(function(He){return He!==he})})}},We.createElement(mF,Nt({},vt,{ref:function(qe){Be>-1?C.current[he]=qe:delete C.current[he]},prefixCls:a,classNames:Te,styles:ze,className:et(Oe,_==null?void 0:_.notice),style:Ae,times:Q,key:de,eventKey:de,onNoticeClose:d,hovering:U&&R.length>0})))})},W7=A.forwardRef(function(n,e){var t=n.prefixCls,r=t===void 0?"rc-notification":t,a=n.container,o=n.motion,l=n.maxCount,s=n.className,u=n.style,d=n.onAllRemoved,g=n.stack,y=n.renderNotifications,_=A.useState([]),C=bt(_,2),c=C[0],p=C[1],m=function(U){var z,$=c.find(function(J){return J.key===U});$==null||(z=$.onClose)===null||z===void 0||z.call($),p(function(J){return J.filter(function(W){return W.key!==U})})};A.useImperativeHandle(e,function(){return{open:function(U){p(function(z){var $=Jt(z),J=$.findIndex(function(oe){return oe.key===U.key}),W=Ne({},U);if(J>=0){var Z;W.times=(((Z=z[J])===null||Z===void 0?void 0:Z.times)||0)+1,$[J]=W}else W.times=0,$.push(W);return l>0&&$.length>l&&($=$.slice(-l)),$})},close:function(U){m(U)},destroy:function(){p([])}}});var b=A.useState({}),E=bt(b,2),T=E[0],R=E[1];A.useEffect(function(){var F={};c.forEach(function(U){var z=U.placement,$=z===void 0?"topRight":z;$&&(F[$]=F[$]||[],F[$].push(U))}),Object.keys(T).forEach(function(U){F[U]=F[U]||[]}),R(F)},[c]);var O=function(U){R(function(z){var $=Ne({},z),J=$[U]||[];return J.length||delete $[U],$})},D=A.useRef(!1);if(A.useEffect(function(){Object.keys(T).length>0?D.current=!0:D.current&&(d==null||d(),D.current=!1)},[T]),!a)return null;var P=Object.keys(T);return Ph.createPortal(A.createElement(A.Fragment,null,P.map(function(F){var U=T[F],z=A.createElement(j7,{key:F,configList:U,placement:F,prefixCls:r,className:s==null?void 0:s(F),style:u==null?void 0:u(F),motion:o,onNoticeClose:m,onAllNoticeRemoved:O,stack:g});return y?y(z,{prefixCls:r,key:F}):z})),a)}),X7=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],Y7=function(){return document.body},eP=0;function q7(){for(var n={},e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.forEach(function(a){a&&Object.keys(a).forEach(function(o){var l=a[o];l!==void 0&&(n[o]=l)})}),n}function K7(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.getContainer,t=e===void 0?Y7:e,r=n.motion,a=n.prefixCls,o=n.maxCount,l=n.className,s=n.style,u=n.onAllRemoved,d=n.stack,g=n.renderNotifications,y=$n(n,X7),_=A.useState(),C=bt(_,2),c=C[0],p=C[1],m=A.useRef(),b=A.createElement(W7,{container:c,ref:m,prefixCls:a,motion:r,maxCount:o,className:l,style:s,onAllRemoved:u,stack:d,renderNotifications:g}),E=A.useState([]),T=bt(E,2),R=T[0],O=T[1],D=A.useMemo(function(){return{open:function(F){var U=q7(y,F);(U.key===null||U.key===void 0)&&(U.key="rc-notification-".concat(eP),eP+=1),O(function(z){return[].concat(Jt(z),[{type:"open",config:U}])})},close:function(F){O(function(U){return[].concat(Jt(U),[{type:"close",key:F}])})},destroy:function(){O(function(F){return[].concat(Jt(F),[{type:"destroy"}])})}}},[]);return A.useEffect(function(){p(t())}),A.useEffect(function(){if(m.current&&R.length){R.forEach(function(U){switch(U.type){case"open":m.current.open(U.config);break;case"close":m.current.close(U.key);break;case"destroy":m.current.destroy();break}});var P,F;O(function(U){return(P!==U||!F)&&(P=U,F=U.filter(function(z){return!R.includes(z)})),F})}},[R]),[D,b]}const TO=We.createContext(void 0),mh=100,J7=10,vF=mh*J7,yF={Modal:mh,Drawer:mh,Popover:mh,Popconfirm:mh,Tooltip:mh,Tour:mh,FloatButton:mh},Q7={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function Z7(n){return n in yF}const CS=(n,e)=>{const[,t]=af(),r=We.useContext(TO),a=Z7(n);let o;if(e!==void 0)o=[e,e];else{let l=r??0;a?l+=(r?0:t.zIndexPopupBase)+yF[n]:l+=Q7[n],o=[r===void 0?e:l,l]}return o},eW=n=>{const{componentCls:e,iconCls:t,boxShadow:r,colorText:a,colorSuccess:o,colorError:l,colorWarning:s,colorInfo:u,fontSizeLG:d,motionEaseInOutCirc:g,motionDurationSlow:y,marginXS:_,paddingXS:C,borderRadiusLG:c,zIndexPopup:p,contentPadding:m,contentBg:b}=n,E=`${e}-notice`,T=new ir("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:C,transform:"translateY(0)",opacity:1}}),R=new ir("MessageMoveOut",{"0%":{maxHeight:n.height,padding:C,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),O={padding:C,textAlign:"center",[`${e}-custom-content`]:{display:"flex",alignItems:"center"},[`${e}-custom-content > ${t}`]:{marginInlineEnd:_,fontSize:d},[`${E}-content`]:{display:"inline-block",padding:m,background:b,borderRadius:c,boxShadow:r,pointerEvents:"all"},[`${e}-success > ${t}`]:{color:o},[`${e}-error > ${t}`]:{color:l},[`${e}-warning > ${t}`]:{color:s},[`${e}-info > ${t},
      ${e}-loading > ${t}`]:{color:u}};return[{[e]:Object.assign(Object.assign({},Gl(n)),{color:a,position:"fixed",top:_,width:"100%",pointerEvents:"none",zIndex:p,[`${e}-move-up`]:{animationFillMode:"forwards"},[`
        ${e}-move-up-appear,
        ${e}-move-up-enter
      `]:{animationName:T,animationDuration:y,animationPlayState:"paused",animationTimingFunction:g},[`
        ${e}-move-up-appear${e}-move-up-appear-active,
        ${e}-move-up-enter${e}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${e}-move-up-leave`]:{animationName:R,animationDuration:y,animationPlayState:"paused",animationTimingFunction:g},[`${e}-move-up-leave${e}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[e]:{[`${E}-wrapper`]:Object.assign({},O)}},{[`${e}-notice-pure-panel`]:Object.assign(Object.assign({},O),{padding:0,textAlign:"start"})}]},tW=n=>({zIndexPopup:n.zIndexPopupBase+vF+10,contentBg:n.colorBgElevated,contentPadding:`${(n.controlHeightLG-n.fontSize*n.lineHeight)/2}px ${n.paddingSM}px`}),bF=oa("Message",n=>{const e=sr(n,{height:150});return[eW(e)]},tW);var nW=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const iW={info:A.createElement(rU,null),success:A.createElement(mO,null),error:A.createElement(ew,null),warning:A.createElement(iU,null),loading:A.createElement(R1,null)},SF=n=>{let{prefixCls:e,type:t,icon:r,children:a}=n;return A.createElement("div",{className:et(`${e}-custom-content`,`${e}-${t}`)},r||iW[t],A.createElement("span",null,a))},rW=n=>{const{prefixCls:e,className:t,type:r,icon:a,content:o}=n,l=nW(n,["prefixCls","className","type","icon","content"]),{getPrefixCls:s}=A.useContext(qn),u=e||s("message"),d=Yc(u),[g,y,_]=bF(u,d);return g(A.createElement(mF,Object.assign({},l,{prefixCls:u,className:et(t,y,`${u}-notice-pure-panel`,_,d),eventKey:"pure",duration:null,content:A.createElement(SF,{prefixCls:u,type:r,icon:a},o)})))};function aW(n,e){return{motionName:e??`${n}-move-up`}}function RO(n){let e;const t=new Promise(a=>{e=n(()=>{a(!0)})}),r=()=>{e==null||e()};return r.then=(a,o)=>t.then(a,o),r.promise=t,r}var oW=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const sW=8,lW=3,cW=n=>{let{children:e,prefixCls:t}=n;const r=Yc(t),[a,o,l]=bF(t,r);return a(A.createElement(k7,{classNames:{list:et(o,l,r)}},e))},uW=(n,e)=>{let{prefixCls:t,key:r}=e;return A.createElement(cW,{prefixCls:t,key:r},n)},fW=A.forwardRef((n,e)=>{const{top:t,prefixCls:r,getContainer:a,maxCount:o,duration:l=lW,rtl:s,transitionName:u,onAllRemoved:d}=n,{getPrefixCls:g,getPopupContainer:y,message:_,direction:C}=A.useContext(qn),c=r||g("message"),p=()=>({left:"50%",transform:"translateX(-50%)",top:t??sW}),m=()=>et({[`${c}-rtl`]:s??C==="rtl"}),b=()=>aW(c,u),E=A.createElement("span",{className:`${c}-close-x`},A.createElement(A0,{className:`${c}-close-icon`})),[T,R]=K7({prefixCls:c,style:p,className:m,motion:b,closable:!1,closeIcon:E,duration:l,getContainer:()=>(a==null?void 0:a())||(y==null?void 0:y())||document.body,maxCount:o,onAllRemoved:d,renderNotifications:uW});return A.useImperativeHandle(e,()=>Object.assign(Object.assign({},T),{prefixCls:c,message:_})),R});let tP=0;function _F(n){const e=A.useRef(null);return EO(),[A.useMemo(()=>{const r=u=>{var d;(d=e.current)===null||d===void 0||d.close(u)},a=u=>{if(!e.current){const D=()=>{};return D.then=()=>{},D}const{open:d,prefixCls:g,message:y}=e.current,_=`${g}-notice`,{content:C,icon:c,type:p,key:m,className:b,style:E,onClose:T}=u,R=oW(u,["content","icon","type","key","className","style","onClose"]);let O=m;return O==null&&(tP+=1,O=`antd-message-${tP}`),RO(D=>(d(Object.assign(Object.assign({},R),{key:O,content:A.createElement(SF,{prefixCls:g,type:p,icon:c},C),placement:"top",className:et(p&&`${_}-${p}`,b,y==null?void 0:y.className),style:Object.assign(Object.assign({},y==null?void 0:y.style),E),onClose:()=>{T==null||T(),D()}})),()=>{r(O)}))},l={open:a,destroy:u=>{var d;u!==void 0?r(u):(d=e.current)===null||d===void 0||d.destroy()}};return["info","success","warning","error","loading"].forEach(u=>{const d=(g,y,_)=>{let C;g&&typeof g=="object"&&"content"in g?C=g:C={content:g};let c,p;typeof y=="function"?p=y:(c=y,p=_);const m=Object.assign(Object.assign({onClose:p,duration:c},C),{type:u});return a(m)};l[u]=d}),l},[]),A.createElement(fW,Object.assign({key:"message-holder"},n,{ref:e}))]}function dW(n){return _F(n)}function hW(){const[n,e]=A.useState([]),t=A.useCallback(r=>(e(a=>[].concat(Jt(a),[r])),()=>{e(a=>a.filter(o=>o!==r))}),[]);return[n,t]}function yr(){yr=function(){return e};var n,e={},t=Object.prototype,r=t.hasOwnProperty,a=Object.defineProperty||function(Y,K,ee){Y[K]=ee.value},o=typeof Symbol=="function"?Symbol:{},l=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function d(Y,K,ee){return Object.defineProperty(Y,K,{value:ee,enumerable:!0,configurable:!0,writable:!0}),Y[K]}try{d({},"")}catch{d=function(ee,ue,q){return ee[ue]=q}}function g(Y,K,ee,ue){var q=K&&K.prototype instanceof b?K:b,ie=Object.create(q.prototype),me=new Z(ue||[]);return a(ie,"_invoke",{value:z(Y,ee,me)}),ie}function y(Y,K,ee){try{return{type:"normal",arg:Y.call(K,ee)}}catch(ue){return{type:"throw",arg:ue}}}e.wrap=g;var _="suspendedStart",C="suspendedYield",c="executing",p="completed",m={};function b(){}function E(){}function T(){}var R={};d(R,l,function(){return this});var O=Object.getPrototypeOf,D=O&&O(O(oe([])));D&&D!==t&&r.call(D,l)&&(R=D);var P=T.prototype=b.prototype=Object.create(R);function F(Y){["next","throw","return"].forEach(function(K){d(Y,K,function(ee){return this._invoke(K,ee)})})}function U(Y,K){function ee(q,ie,me,de){var Q=y(Y[q],Y,ie);if(Q.type!=="throw"){var he=Q.arg,xe=he.value;return xe&&mn(xe)=="object"&&r.call(xe,"__await")?K.resolve(xe.__await).then(function(Oe){ee("next",Oe,me,de)},function(Oe){ee("throw",Oe,me,de)}):K.resolve(xe).then(function(Oe){he.value=Oe,me(he)},function(Oe){return ee("throw",Oe,me,de)})}de(Q.arg)}var ue;a(this,"_invoke",{value:function(ie,me){function de(){return new K(function(Q,he){ee(ie,me,Q,he)})}return ue=ue?ue.then(de,de):de()}})}function z(Y,K,ee){var ue=_;return function(q,ie){if(ue===c)throw Error("Generator is already running");if(ue===p){if(q==="throw")throw ie;return{value:n,done:!0}}for(ee.method=q,ee.arg=ie;;){var me=ee.delegate;if(me){var de=$(me,ee);if(de){if(de===m)continue;return de}}if(ee.method==="next")ee.sent=ee._sent=ee.arg;else if(ee.method==="throw"){if(ue===_)throw ue=p,ee.arg;ee.dispatchException(ee.arg)}else ee.method==="return"&&ee.abrupt("return",ee.arg);ue=c;var Q=y(Y,K,ee);if(Q.type==="normal"){if(ue=ee.done?p:C,Q.arg===m)continue;return{value:Q.arg,done:ee.done}}Q.type==="throw"&&(ue=p,ee.method="throw",ee.arg=Q.arg)}}}function $(Y,K){var ee=K.method,ue=Y.iterator[ee];if(ue===n)return K.delegate=null,ee==="throw"&&Y.iterator.return&&(K.method="return",K.arg=n,$(Y,K),K.method==="throw")||ee!=="return"&&(K.method="throw",K.arg=new TypeError("The iterator does not provide a '"+ee+"' method")),m;var q=y(ue,Y.iterator,K.arg);if(q.type==="throw")return K.method="throw",K.arg=q.arg,K.delegate=null,m;var ie=q.arg;return ie?ie.done?(K[Y.resultName]=ie.value,K.next=Y.nextLoc,K.method!=="return"&&(K.method="next",K.arg=n),K.delegate=null,m):ie:(K.method="throw",K.arg=new TypeError("iterator result is not an object"),K.delegate=null,m)}function J(Y){var K={tryLoc:Y[0]};1 in Y&&(K.catchLoc=Y[1]),2 in Y&&(K.finallyLoc=Y[2],K.afterLoc=Y[3]),this.tryEntries.push(K)}function W(Y){var K=Y.completion||{};K.type="normal",delete K.arg,Y.completion=K}function Z(Y){this.tryEntries=[{tryLoc:"root"}],Y.forEach(J,this),this.reset(!0)}function oe(Y){if(Y||Y===""){var K=Y[l];if(K)return K.call(Y);if(typeof Y.next=="function")return Y;if(!isNaN(Y.length)){var ee=-1,ue=function q(){for(;++ee<Y.length;)if(r.call(Y,ee))return q.value=Y[ee],q.done=!1,q;return q.value=n,q.done=!0,q};return ue.next=ue}}throw new TypeError(mn(Y)+" is not iterable")}return E.prototype=T,a(P,"constructor",{value:T,configurable:!0}),a(T,"constructor",{value:E,configurable:!0}),E.displayName=d(T,u,"GeneratorFunction"),e.isGeneratorFunction=function(Y){var K=typeof Y=="function"&&Y.constructor;return!!K&&(K===E||(K.displayName||K.name)==="GeneratorFunction")},e.mark=function(Y){return Object.setPrototypeOf?Object.setPrototypeOf(Y,T):(Y.__proto__=T,d(Y,u,"GeneratorFunction")),Y.prototype=Object.create(P),Y},e.awrap=function(Y){return{__await:Y}},F(U.prototype),d(U.prototype,s,function(){return this}),e.AsyncIterator=U,e.async=function(Y,K,ee,ue,q){q===void 0&&(q=Promise);var ie=new U(g(Y,K,ee,ue),q);return e.isGeneratorFunction(K)?ie:ie.next().then(function(me){return me.done?me.value:ie.next()})},F(P),d(P,u,"Generator"),d(P,l,function(){return this}),d(P,"toString",function(){return"[object Generator]"}),e.keys=function(Y){var K=Object(Y),ee=[];for(var ue in K)ee.push(ue);return ee.reverse(),function q(){for(;ee.length;){var ie=ee.pop();if(ie in K)return q.value=ie,q.done=!1,q}return q.done=!0,q}},e.values=oe,Z.prototype={constructor:Z,reset:function(K){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(W),!K)for(var ee in this)ee.charAt(0)==="t"&&r.call(this,ee)&&!isNaN(+ee.slice(1))&&(this[ee]=n)},stop:function(){this.done=!0;var K=this.tryEntries[0].completion;if(K.type==="throw")throw K.arg;return this.rval},dispatchException:function(K){if(this.done)throw K;var ee=this;function ue(he,xe){return me.type="throw",me.arg=K,ee.next=he,xe&&(ee.method="next",ee.arg=n),!!xe}for(var q=this.tryEntries.length-1;q>=0;--q){var ie=this.tryEntries[q],me=ie.completion;if(ie.tryLoc==="root")return ue("end");if(ie.tryLoc<=this.prev){var de=r.call(ie,"catchLoc"),Q=r.call(ie,"finallyLoc");if(de&&Q){if(this.prev<ie.catchLoc)return ue(ie.catchLoc,!0);if(this.prev<ie.finallyLoc)return ue(ie.finallyLoc)}else if(de){if(this.prev<ie.catchLoc)return ue(ie.catchLoc,!0)}else{if(!Q)throw Error("try statement without catch or finally");if(this.prev<ie.finallyLoc)return ue(ie.finallyLoc)}}}},abrupt:function(K,ee){for(var ue=this.tryEntries.length-1;ue>=0;--ue){var q=this.tryEntries[ue];if(q.tryLoc<=this.prev&&r.call(q,"finallyLoc")&&this.prev<q.finallyLoc){var ie=q;break}}ie&&(K==="break"||K==="continue")&&ie.tryLoc<=ee&&ee<=ie.finallyLoc&&(ie=null);var me=ie?ie.completion:{};return me.type=K,me.arg=ee,ie?(this.method="next",this.next=ie.finallyLoc,m):this.complete(me)},complete:function(K,ee){if(K.type==="throw")throw K.arg;return K.type==="break"||K.type==="continue"?this.next=K.arg:K.type==="return"?(this.rval=this.arg=K.arg,this.method="return",this.next="end"):K.type==="normal"&&ee&&(this.next=ee),m},finish:function(K){for(var ee=this.tryEntries.length-1;ee>=0;--ee){var ue=this.tryEntries[ee];if(ue.finallyLoc===K)return this.complete(ue.completion,ue.afterLoc),W(ue),m}},catch:function(K){for(var ee=this.tryEntries.length-1;ee>=0;--ee){var ue=this.tryEntries[ee];if(ue.tryLoc===K){var q=ue.completion;if(q.type==="throw"){var ie=q.arg;W(ue)}return ie}}throw Error("illegal catch attempt")},delegateYield:function(K,ee,ue){return this.delegate={iterator:oe(K),resultName:ee,nextLoc:ue},this.method==="next"&&(this.arg=n),m}},e}function nP(n,e,t,r,a,o,l){try{var s=n[o](l),u=s.value}catch(d){return void t(d)}s.done?e(u):Promise.resolve(u).then(r,a)}function Qs(n){return function(){var e=this,t=arguments;return new Promise(function(r,a){var o=n.apply(e,t);function l(u){nP(o,r,a,l,s,"next",u)}function s(u){nP(o,r,a,l,s,"throw",u)}l(void 0)})}}var ES=Ne({},PV),pW=ES.version,mM=ES.render,mW=ES.unmountComponentAtNode,cw;try{var gW=Number((pW||"").split(".")[0]);gW>=18&&(cw=ES.createRoot)}catch{}function iP(n){var e=ES.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e&&mn(e)==="object"&&(e.usingClientEntryPoint=n)}var P1="__rc_react_root__";function vW(n,e){iP(!0);var t=e[P1]||cw(e);iP(!1),t.render(n),e[P1]=t}function yW(n,e){mM==null||mM(n,e)}function bW(n,e){if(cw){vW(n,e);return}yW(n,e)}function SW(n){return $R.apply(this,arguments)}function $R(){return $R=Qs(yr().mark(function n(e){return yr().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.resolve().then(function(){var a;(a=e[P1])===null||a===void 0||a.unmount(),delete e[P1]}));case 1:case"end":return r.stop()}},n)})),$R.apply(this,arguments)}function _W(n){mW(n)}function xW(n){return VR.apply(this,arguments)}function VR(){return VR=Qs(yr().mark(function n(e){return yr().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(cw===void 0){r.next=2;break}return r.abrupt("return",SW(e));case 2:_W(e);case 3:case"end":return r.stop()}},n)})),VR.apply(this,arguments)}const CW=(n,e)=>(bW(n,e),()=>xW(e));let EW=CW;function OO(){return EW}const gM=()=>({height:0,opacity:0}),rP=n=>{const{scrollHeight:e}=n;return{height:e,opacity:1}},wW=n=>({height:n?n.offsetHeight:0}),vM=(n,e)=>(e==null?void 0:e.deadline)===!0||e.propertyName==="height",xF=function(){return{motionName:`${arguments.length>0&&arguments[0]!==void 0?arguments[0]:Qb}-motion-collapse`,onAppearStart:gM,onEnterStart:gM,onAppearActive:rP,onEnterActive:rP,onLeaveStart:wW,onLeaveActive:gM,onAppearEnd:vM,onEnterEnd:vM,onLeaveEnd:vM,motionDeadline:500}},Qu=(n,e,t)=>t!==void 0?t:`${n}-${e}`;function go(n,e){var t=Object.assign({},n);return Array.isArray(e)&&e.forEach(function(r){delete t[r]}),t}const IO=function(n){if(!n)return!1;if(n instanceof Element){if(n.offsetParent)return!0;if(n.getBBox){var e=n.getBBox(),t=e.width,r=e.height;if(t||r)return!0}if(n.getBoundingClientRect){var a=n.getBoundingClientRect(),o=a.width,l=a.height;if(o||l)return!0}}return!1},AW=n=>{const{componentCls:e,colorPrimary:t}=n;return{[e]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${t})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${n.motionEaseOutCirc}`,`opacity 2s ${n.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow ${n.motionDurationSlow} ${n.motionEaseInOut}`,`opacity ${n.motionDurationSlow} ${n.motionEaseInOut}`].join(",")}}}}},MW=n7("Wave",n=>[AW(n)]),CF=`${Qb}-wave-target`;function yM(n){return n&&n!=="#fff"&&n!=="#ffffff"&&n!=="rgb(255, 255, 255)"&&n!=="rgba(255, 255, 255, 1)"&&!/rgba\((?:\d*, ){3}0\)/.test(n)&&n!=="transparent"}function TW(n){const{borderTopColor:e,borderColor:t,backgroundColor:r}=getComputedStyle(n);return yM(e)?e:yM(t)?t:yM(r)?r:null}function bM(n){return Number.isNaN(n)?0:n}const RW=n=>{const{className:e,target:t,component:r,registerUnmount:a}=n,o=A.useRef(null),l=A.useRef(null);A.useEffect(()=>{l.current=a()},[]);const[s,u]=A.useState(null),[d,g]=A.useState([]),[y,_]=A.useState(0),[C,c]=A.useState(0),[p,m]=A.useState(0),[b,E]=A.useState(0),[T,R]=A.useState(!1),O={left:y,top:C,width:p,height:b,borderRadius:d.map(F=>`${F}px`).join(" ")};s&&(O["--wave-color"]=s);function D(){const F=getComputedStyle(t);u(TW(t));const U=F.position==="static",{borderLeftWidth:z,borderTopWidth:$}=F;_(U?t.offsetLeft:bM(-parseFloat(z))),c(U?t.offsetTop:bM(-parseFloat($))),m(t.offsetWidth),E(t.offsetHeight);const{borderTopLeftRadius:J,borderTopRightRadius:W,borderBottomLeftRadius:Z,borderBottomRightRadius:oe}=F;g([J,W,oe,Z].map(Y=>bM(parseFloat(Y))))}if(A.useEffect(()=>{if(t){const F=ho(()=>{D(),R(!0)});let U;return typeof ResizeObserver<"u"&&(U=new ResizeObserver(D),U.observe(t)),()=>{ho.cancel(F),U==null||U.disconnect()}}},[]),!T)return null;const P=(r==="Checkbox"||r==="Radio")&&(t==null?void 0:t.classList.contains(CF));return A.createElement(Xc,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(F,U)=>{var z,$;if(U.deadline||U.propertyName==="opacity"){const J=(z=o.current)===null||z===void 0?void 0:z.parentElement;($=l.current)===null||$===void 0||$.call(l).then(()=>{J==null||J.remove()})}return!1}},(F,U)=>{let{className:z}=F;return A.createElement("div",{ref:$h(o,U),className:et(e,z,{"wave-quick":P}),style:O})})},OW=(n,e)=>{var t;const{component:r}=e;if(r==="Checkbox"&&!(!((t=n.querySelector("input"))===null||t===void 0)&&t.checked))return;const a=document.createElement("div");a.style.position="absolute",a.style.left="0px",a.style.top="0px",n==null||n.insertBefore(a,n==null?void 0:n.firstChild);const o=OO();let l=null;function s(){return l}l=o(A.createElement(RW,Object.assign({},e,{target:n,registerUnmount:s})),a)},IW=(n,e,t)=>{const{wave:r}=A.useContext(qn),[,a,o]=af(),l=qa(d=>{const g=n.current;if(r!=null&&r.disabled||!g)return;const y=g.querySelector(`.${CF}`)||g,{showEffect:_}=r||{};(_||OW)(y,{className:e,token:a,component:t,event:d,hashId:o})}),s=A.useRef(null);return d=>{ho.cancel(s.current),s.current=ho(()=>{l(d)})}},EF=n=>{const{children:e,disabled:t,component:r}=n,{getPrefixCls:a}=A.useContext(qn),o=A.useRef(null),l=a("wave"),[,s]=MW(l),u=IW(o,et(l,s),r);if(We.useEffect(()=>{const g=o.current;if(!g||g.nodeType!==1||t)return;const y=_=>{!IO(_.target)||!g.getAttribute||g.getAttribute("disabled")||g.disabled||g.className.includes("disabled")||g.className.includes("-leave")||u(_)};return g.addEventListener("click",y,!0),()=>{g.removeEventListener("click",y,!0)}},[t]),!We.isValidElement(e))return e??null;const d=SS(e)?$h(nw(e),o):o;return rl(e,{ref:d})},Fm=n=>{const e=We.useContext(s0);return We.useMemo(()=>n?typeof n=="string"?n??e:n instanceof Function?n(e):e:e,[n,e])},BW=n=>{const{componentCls:e}=n;return{[e]:{"&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}}}},DW=n=>{const{componentCls:e,antCls:t}=n;return{[e]:{display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}},[`${e}-item:empty`]:{display:"none"},[`${e}-item > ${t}-badge-not-a-wrapper:only-child`]:{display:"block"}}}},PW=n=>{const{componentCls:e}=n;return{[e]:{"&-gap-row-small":{rowGap:n.spaceGapSmallSize},"&-gap-row-middle":{rowGap:n.spaceGapMiddleSize},"&-gap-row-large":{rowGap:n.spaceGapLargeSize},"&-gap-col-small":{columnGap:n.spaceGapSmallSize},"&-gap-col-middle":{columnGap:n.spaceGapMiddleSize},"&-gap-col-large":{columnGap:n.spaceGapLargeSize}}}},wF=oa("Space",n=>{const e=sr(n,{spaceGapSmallSize:n.paddingXS,spaceGapMiddleSize:n.padding,spaceGapLargeSize:n.paddingLG});return[DW(e),PW(e),BW(e)]},()=>({}),{resetStyle:!1});var AF=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const uw=A.createContext(null),fw=(n,e)=>{const t=A.useContext(uw),r=A.useMemo(()=>{if(!t)return"";const{compactDirection:a,isFirstItem:o,isLastItem:l}=t,s=a==="vertical"?"-vertical-":"-";return et(`${n}-compact${s}item`,{[`${n}-compact${s}first-item`]:o,[`${n}-compact${s}last-item`]:l,[`${n}-compact${s}item-rtl`]:e==="rtl"})},[n,e,t]);return{compactSize:t==null?void 0:t.compactSize,compactDirection:t==null?void 0:t.compactDirection,compactItemClassnames:r}},LW=n=>{const{children:e}=n;return A.createElement(uw.Provider,{value:null},e)},NW=n=>{const{children:e}=n,t=AF(n,["children"]);return A.createElement(uw.Provider,{value:A.useMemo(()=>t,[t])},e)},zW=n=>{const{getPrefixCls:e,direction:t}=A.useContext(qn),{size:r,direction:a,block:o,prefixCls:l,className:s,rootClassName:u,children:d}=n,g=AF(n,["size","direction","block","prefixCls","className","rootClassName","children"]),y=Fm(T=>r??T),_=e("space-compact",l),[C,c]=wF(_),p=et(_,c,{[`${_}-rtl`]:t==="rtl",[`${_}-block`]:o,[`${_}-vertical`]:a==="vertical"},s,u),m=A.useContext(uw),b=Ju(d),E=A.useMemo(()=>b.map((T,R)=>{const O=(T==null?void 0:T.key)||`${_}-item-${R}`;return A.createElement(NW,{key:O,compactSize:y,compactDirection:a,isFirstItem:R===0&&(!m||(m==null?void 0:m.isFirstItem)),isLastItem:R===b.length-1&&(!m||(m==null?void 0:m.isLastItem))},T)}),[r,b,m]);return b.length===0?null:C(A.createElement("div",Object.assign({className:p},g),E))};var UW=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const MF=A.createContext(void 0),FW=n=>{const{getPrefixCls:e,direction:t}=A.useContext(qn),{prefixCls:r,size:a,className:o}=n,l=UW(n,["prefixCls","size","className"]),s=e("btn-group",r),[,,u]=af(),d=A.useMemo(()=>{switch(a){case"large":return"lg";case"small":return"sm";default:return""}},[a]),g=et(s,{[`${s}-${d}`]:d,[`${s}-rtl`]:t==="rtl"},o,u);return A.createElement(MF.Provider,{value:a},A.createElement("div",Object.assign({},l,{className:g})))},aP=/^[\u4E00-\u9FA5]{2}$/,jR=aP.test.bind(aP);function TF(n){return n==="danger"?{danger:!0}:{type:n}}function oP(n){return typeof n=="string"}function SM(n){return n==="text"||n==="link"}function HW(n,e){if(n==null)return;const t=e?" ":"";return typeof n!="string"&&typeof n!="number"&&oP(n.type)&&jR(n.props.children)?rl(n,{children:n.props.children.split("").join(t)}):oP(n)?jR(n)?We.createElement("span",null,n.split("").join(t)):We.createElement("span",null,n):hF(n)?We.createElement("span",null,n):n}function GW(n,e){let t=!1;const r=[];return We.Children.forEach(n,a=>{const o=typeof a,l=o==="string"||o==="number";if(t&&l){const s=r.length-1,u=r[s];r[s]=`${u}${a}`}else r.push(a);t=l}),We.Children.map(r,a=>HW(a,e))}["default","primary","danger"].concat(Jt(zh));const WR=A.forwardRef((n,e)=>{const{className:t,style:r,children:a,prefixCls:o}=n,l=et(`${o}-icon`,t);return We.createElement("span",{ref:e,className:l,style:r},a)}),sP=A.forwardRef((n,e)=>{const{prefixCls:t,className:r,style:a,iconClassName:o}=n,l=et(`${t}-loading-icon`,r);return We.createElement(WR,{prefixCls:t,className:l,style:a,ref:e},We.createElement(R1,{className:o}))}),_M=()=>({width:0,opacity:0,transform:"scale(0)"}),xM=n=>({width:n.scrollWidth,opacity:1,transform:"scale(1)"}),kW=n=>{const{prefixCls:e,loading:t,existIcon:r,className:a,style:o,mount:l}=n,s=!!t;return r?We.createElement(sP,{prefixCls:e,className:a,style:o}):We.createElement(Xc,{visible:s,motionName:`${e}-loading-icon-motion`,motionAppear:!l,motionEnter:!l,motionLeave:!l,removeOnLeave:!0,onAppearStart:_M,onAppearActive:xM,onEnterStart:_M,onEnterActive:xM,onLeaveStart:xM,onLeaveActive:_M},(u,d)=>{let{className:g,style:y}=u;const _=Object.assign(Object.assign({},o),y);return We.createElement(sP,{prefixCls:e,className:et(a,g),style:_,ref:d})})},lP=(n,e)=>({[`> span, > ${n}`]:{"&:not(:last-child)":{[`&, & > ${n}`]:{"&:not(:disabled)":{borderInlineEndColor:e}}},"&:not(:first-child)":{[`&, & > ${n}`]:{"&:not(:disabled)":{borderInlineStartColor:e}}}}}),$W=n=>{const{componentCls:e,fontSize:t,lineWidth:r,groupBorderColor:a,colorErrorHover:o}=n;return{[`${e}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:n.calc(r).mul(-1).equal(),[`&, & > ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[e]:{position:"relative",zIndex:1,"&:hover, &:focus, &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${e}-icon-only`]:{fontSize:t}},lP(`${e}-primary`,a),lP(`${e}-danger`,o)]}};var VW=["b"],jW=["v"],CM=function(e){return Math.round(Number(e||0))},WW=function(e){if(e instanceof Fi)return e;if(e&&mn(e)==="object"&&"h"in e&&"b"in e){var t=e,r=t.b,a=$n(t,VW);return Ne(Ne({},a),{},{v:r})}return typeof e=="string"&&/hsb/.test(e)?e.replace(/hsb/,"hsv"):e},Zb=function(n){wr(t,n);var e=Wc(t);function t(r){return ai(this,t),e.call(this,WW(r))}return oi(t,[{key:"toHsbString",value:function(){var a=this.toHsb(),o=CM(a.s*100),l=CM(a.b*100),s=CM(a.h),u=a.a,d="hsb(".concat(s,", ").concat(o,"%, ").concat(l,"%)"),g="hsba(".concat(s,", ").concat(o,"%, ").concat(l,"%, ").concat(u.toFixed(u===0?0:2),")");return u===1?d:g}},{key:"toHsb",value:function(){var a=this.toHsv(),o=a.v,l=$n(a,jW);return Ne(Ne({},l),{},{b:o,a:this.a})}}]),t}(Fi),XW=function(e){return e instanceof Zb?e:new Zb(e)};XW("#1677ff");const YW=(n,e)=>(n==null?void 0:n.replace(/[^\w/]/g,"").slice(0,e?8:6))||"",qW=(n,e)=>n?YW(n,e):"";let KW=function(){function n(e){ai(this,n);var t;if(this.cleared=!1,e instanceof n){this.metaColor=e.metaColor.clone(),this.colors=(t=e.colors)===null||t===void 0?void 0:t.map(a=>({color:new n(a.color),percent:a.percent})),this.cleared=e.cleared;return}const r=Array.isArray(e);r&&e.length?(this.colors=e.map(a=>{let{color:o,percent:l}=a;return{color:new n(o),percent:l}}),this.metaColor=new Zb(this.colors[0].color.metaColor)):this.metaColor=new Zb(r?"":e),(!e||r&&!this.colors)&&(this.metaColor=this.metaColor.setA(0),this.cleared=!0)}return oi(n,[{key:"toHsb",value:function(){return this.metaColor.toHsb()}},{key:"toHsbString",value:function(){return this.metaColor.toHsbString()}},{key:"toHex",value:function(){return qW(this.toHexString(),this.metaColor.a<1)}},{key:"toHexString",value:function(){return this.metaColor.toHexString()}},{key:"toRgb",value:function(){return this.metaColor.toRgb()}},{key:"toRgbString",value:function(){return this.metaColor.toRgbString()}},{key:"isGradient",value:function(){return!!this.colors&&!this.cleared}},{key:"getColors",value:function(){return this.colors||[{color:this,percent:0}]}},{key:"toCssString",value:function(){const{colors:t}=this;return t?`linear-gradient(90deg, ${t.map(a=>`${a.color.toRgbString()} ${a.percent}%`).join(", ")})`:this.metaColor.toRgbString()}},{key:"equals",value:function(t){return!t||this.isGradient()!==t.isGradient()?!1:this.isGradient()?this.colors.length===t.colors.length&&this.colors.every((r,a)=>{const o=t.colors[a];return r.percent===o.percent&&r.color.equals(o.color)}):this.toHexString()===t.toHexString()}}])}();const RF=n=>({[n.componentCls]:{[`${n.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${n.motionDurationMid} ${n.motionEaseInOut},
        opacity ${n.motionDurationMid} ${n.motionEaseInOut} !important`}},[`${n.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${n.motionDurationMid} ${n.motionEaseInOut},
        opacity ${n.motionDurationMid} ${n.motionEaseInOut} !important`}}}),JW=n=>({animationDuration:n,animationFillMode:"both"}),QW=n=>({animationDuration:n,animationFillMode:"both"}),BO=function(n,e,t,r){const o=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${o}${n}-enter,
      ${o}${n}-appear
    `]:Object.assign(Object.assign({},JW(r)),{animationPlayState:"paused"}),[`${o}${n}-leave`]:Object.assign(Object.assign({},QW(r)),{animationPlayState:"paused"}),[`
      ${o}${n}-enter${n}-enter-active,
      ${o}${n}-appear${n}-appear-active
    `]:{animationName:e,animationPlayState:"running"},[`${o}${n}-leave${n}-leave-active`]:{animationName:t,animationPlayState:"running",pointerEvents:"none"}}},ZW=new ir("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),eX=new ir("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),DO=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{antCls:t}=n,r=`${t}-fade`,a=e?"&":"";return[BO(r,ZW,eX,n.motionDurationMid,e),{[`
        ${a}${r}-enter,
        ${a}${r}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${a}${r}-leave`]:{animationTimingFunction:"linear"}}]},tX=new ir("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),nX=new ir("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),iX=new ir("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),rX=new ir("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),aX=new ir("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),oX=new ir("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),sX=new ir("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),lX=new ir("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),cX={"slide-up":{inKeyframes:tX,outKeyframes:nX},"slide-down":{inKeyframes:iX,outKeyframes:rX},"slide-left":{inKeyframes:aX,outKeyframes:oX},"slide-right":{inKeyframes:sX,outKeyframes:lX}},cP=(n,e)=>{const{antCls:t}=n,r=`${t}-${e}`,{inKeyframes:a,outKeyframes:o}=cX[e];return[BO(r,a,o,n.motionDurationMid),{[`
      ${r}-enter,
      ${r}-appear
    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:n.motionEaseOutQuint,"&-prepare":{transform:"scale(1)"}},[`${r}-leave`]:{animationTimingFunction:n.motionEaseInQuint}}]},uX=new ir("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),fX=new ir("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),uP=new ir("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),fP=new ir("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),dX=new ir("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),hX=new ir("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),pX=new ir("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),mX=new ir("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),gX=new ir("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),vX=new ir("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),yX=new ir("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),bX=new ir("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),SX={zoom:{inKeyframes:uX,outKeyframes:fX},"zoom-big":{inKeyframes:uP,outKeyframes:fP},"zoom-big-fast":{inKeyframes:uP,outKeyframes:fP},"zoom-left":{inKeyframes:pX,outKeyframes:mX},"zoom-right":{inKeyframes:gX,outKeyframes:vX},"zoom-up":{inKeyframes:dX,outKeyframes:hX},"zoom-down":{inKeyframes:yX,outKeyframes:bX}},wS=(n,e)=>{const{antCls:t}=n,r=`${t}-${e}`,{inKeyframes:a,outKeyframes:o}=SX[e];return[BO(r,a,o,e==="zoom-big-fast"?n.motionDurationFast:n.motionDurationMid),{[`
        ${r}-enter,
        ${r}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:n.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${r}-leave`]:{animationTimingFunction:n.motionEaseInOutCirc}}]},_X=(n,e)=>{const{r:t,g:r,b:a,a:o}=n.toRgb(),l=new Zb(n.toRgbString()).onBackground(e).toHsv();return o<=.5?l.v>.5:t*.299+r*.587+a*.114>192},OF=n=>{const{paddingInline:e,onlyIconSize:t}=n;return sr(n,{buttonPaddingHorizontal:e,buttonPaddingVertical:0,buttonIconOnlyFontSize:t})},IF=n=>{var e,t,r,a,o,l;const s=(e=n.contentFontSize)!==null&&e!==void 0?e:n.fontSize,u=(t=n.contentFontSizeSM)!==null&&t!==void 0?t:n.fontSize,d=(r=n.contentFontSizeLG)!==null&&r!==void 0?r:n.fontSizeLG,g=(a=n.contentLineHeight)!==null&&a!==void 0?a:NC(s),y=(o=n.contentLineHeightSM)!==null&&o!==void 0?o:NC(u),_=(l=n.contentLineHeightLG)!==null&&l!==void 0?l:NC(d),C=_X(new KW(n.colorBgSolid),"#fff")?"#000":"#fff",c=zh.reduce((p,m)=>Object.assign(Object.assign({},p),{[`${m}ShadowColor`]:`0 ${Pt(n.controlOutlineWidth)} 0 ${ob(n[`${m}1`],n.colorBgContainer)}`}),{});return Object.assign(Object.assign({},c),{fontWeight:400,defaultShadow:`0 ${n.controlOutlineWidth}px 0 ${n.controlTmpOutline}`,primaryShadow:`0 ${n.controlOutlineWidth}px 0 ${n.controlOutline}`,dangerShadow:`0 ${n.controlOutlineWidth}px 0 ${n.colorErrorOutline}`,primaryColor:n.colorTextLightSolid,dangerColor:n.colorTextLightSolid,borderColorDisabled:n.colorBorder,defaultGhostColor:n.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:n.colorBgContainer,paddingInline:n.paddingContentHorizontal-n.lineWidth,paddingInlineLG:n.paddingContentHorizontal-n.lineWidth,paddingInlineSM:8-n.lineWidth,onlyIconSize:"inherit",onlyIconSizeSM:"inherit",onlyIconSizeLG:"inherit",groupBorderColor:n.colorPrimaryHover,linkHoverBg:"transparent",textTextColor:n.colorText,textTextHoverColor:n.colorText,textTextActiveColor:n.colorText,textHoverBg:n.colorFillTertiary,defaultColor:n.colorText,defaultBg:n.colorBgContainer,defaultBorderColor:n.colorBorder,defaultBorderColorDisabled:n.colorBorder,defaultHoverBg:n.colorBgContainer,defaultHoverColor:n.colorPrimaryHover,defaultHoverBorderColor:n.colorPrimaryHover,defaultActiveBg:n.colorBgContainer,defaultActiveColor:n.colorPrimaryActive,defaultActiveBorderColor:n.colorPrimaryActive,solidTextColor:C,contentFontSize:s,contentFontSizeSM:u,contentFontSizeLG:d,contentLineHeight:g,contentLineHeightSM:y,contentLineHeightLG:_,paddingBlock:Math.max((n.controlHeight-s*g)/2-n.lineWidth,0),paddingBlockSM:Math.max((n.controlHeightSM-u*y)/2-n.lineWidth,0),paddingBlockLG:Math.max((n.controlHeightLG-d*_)/2-n.lineWidth,0)})},xX=n=>{const{componentCls:e,iconCls:t,fontWeight:r,opacityLoading:a,motionDurationSlow:o,motionEaseInOut:l,marginXS:s,calc:u}=n;return{[e]:{outline:"none",position:"relative",display:"inline-flex",gap:n.marginXS,alignItems:"center",justifyContent:"center",fontWeight:r,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",background:"transparent",border:`${Pt(n.lineWidth)} ${n.lineType} transparent`,cursor:"pointer",transition:`all ${n.motionDurationMid} ${n.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",color:n.colorText,"&:disabled > *":{pointerEvents:"none"},[`${e}-icon > svg`]:AO(),"> a":{color:"currentColor"},"&:not(:disabled)":qU(n),[`&${e}-two-chinese-chars::first-letter`]:{letterSpacing:"0.34em"},[`&${e}-two-chinese-chars > *:not(${t})`]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},[`&${e}-icon-only`]:{paddingInline:0,[`&${e}-compact-item`]:{flex:"none"},[`&${e}-round`]:{width:"auto"}},[`&${e}-loading`]:{opacity:a,cursor:"default"},[`${e}-loading-icon`]:{transition:["width","opacity","margin"].map(d=>`${d} ${o} ${l}`).join(",")},[`&:not(${e}-icon-end)`]:{[`${e}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineEnd:u(s).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineEnd:0},"&-leave-start":{marginInlineEnd:0},"&-leave-active":{marginInlineEnd:u(s).mul(-1).equal()}}},"&-icon-end":{flexDirection:"row-reverse",[`${e}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineStart:u(s).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineStart:0},"&-leave-start":{marginInlineStart:0},"&-leave-active":{marginInlineStart:u(s).mul(-1).equal()}}}}}},BF=(n,e,t)=>({[`&:not(:disabled):not(${n}-disabled)`]:{"&:hover":e,"&:active":t}}),CX=n=>({minWidth:n.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),EX=n=>({borderRadius:n.controlHeight,paddingInlineStart:n.calc(n.controlHeight).div(2).equal(),paddingInlineEnd:n.calc(n.controlHeight).div(2).equal()}),wX=n=>({cursor:"not-allowed",borderColor:n.borderColorDisabled,color:n.colorTextDisabled,background:n.colorBgContainerDisabled,boxShadow:"none"}),dw=(n,e,t,r,a,o,l,s)=>({[`&${n}-background-ghost`]:Object.assign(Object.assign({color:t||void 0,background:e,borderColor:r||void 0,boxShadow:"none"},BF(n,Object.assign({background:e},l),Object.assign({background:e},s))),{"&:disabled":{cursor:"not-allowed",color:a||void 0,borderColor:o||void 0}})}),AX=n=>({[`&:disabled, &${n.componentCls}-disabled`]:Object.assign({},wX(n))}),MX=n=>({[`&:disabled, &${n.componentCls}-disabled`]:{cursor:"not-allowed",color:n.colorTextDisabled}}),hw=(n,e,t,r)=>{const o=r&&["link","text"].includes(r)?MX:AX;return Object.assign(Object.assign({},o(n)),BF(n.componentCls,e,t))},pw=(n,e,t,r,a)=>({[`&${n.componentCls}-variant-solid`]:Object.assign({color:e,background:t},hw(n,r,a))}),mw=(n,e,t,r,a)=>({[`&${n.componentCls}-variant-outlined, &${n.componentCls}-variant-dashed`]:Object.assign({borderColor:e,background:t},hw(n,r,a))}),gw=n=>({[`&${n.componentCls}-variant-dashed`]:{borderStyle:"dashed"}}),vw=(n,e,t,r)=>({[`&${n.componentCls}-variant-filled`]:Object.assign({boxShadow:"none",background:e},hw(n,t,r))}),Zu=(n,e,t,r,a)=>({[`&${n.componentCls}-variant-${t}`]:Object.assign({color:e,boxShadow:"none"},hw(n,r,a,t))}),TX=n=>{const{componentCls:e}=n;return zh.reduce((t,r)=>{const a=n[`${r}6`],o=n[`${r}1`],l=n[`${r}5`],s=n[`${r}2`],u=n[`${r}3`],d=n[`${r}7`];return Object.assign(Object.assign({},t),{[`&${e}-color-${r}`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:a,boxShadow:n[`${r}ShadowColor`]},pw(n,n.colorTextLightSolid,a,{background:l},{background:d})),mw(n,a,n.colorBgContainer,{color:l,borderColor:l,background:n.colorBgContainer},{color:d,borderColor:d,background:n.colorBgContainer})),gw(n)),vw(n,o,{background:s},{background:u})),Zu(n,a,"link",{color:l},{color:d})),Zu(n,a,"text",{color:l,background:o},{color:d,background:u}))})},{})},RX=n=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:n.defaultColor,boxShadow:n.defaultShadow},pw(n,n.solidTextColor,n.colorBgSolid,{color:n.solidTextColor,background:n.colorBgSolidHover},{color:n.solidTextColor,background:n.colorBgSolidActive})),gw(n)),vw(n,n.colorFillTertiary,{background:n.colorFillSecondary},{background:n.colorFill})),dw(n.componentCls,n.ghostBg,n.defaultGhostColor,n.defaultGhostBorderColor,n.colorTextDisabled,n.colorBorder)),Zu(n,n.textTextColor,"link",{color:n.colorLinkHover,background:n.linkHoverBg},{color:n.colorLinkActive})),OX=n=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:n.colorPrimary,boxShadow:n.primaryShadow},mw(n,n.colorPrimary,n.colorBgContainer,{color:n.colorPrimaryTextHover,borderColor:n.colorPrimaryHover,background:n.colorBgContainer},{color:n.colorPrimaryTextActive,borderColor:n.colorPrimaryActive,background:n.colorBgContainer})),gw(n)),vw(n,n.colorPrimaryBg,{background:n.colorPrimaryBgHover},{background:n.colorPrimaryBorder})),Zu(n,n.colorPrimaryText,"text",{color:n.colorPrimaryTextHover,background:n.colorPrimaryBg},{color:n.colorPrimaryTextActive,background:n.colorPrimaryBorder})),Zu(n,n.colorPrimaryText,"link",{color:n.colorPrimaryTextHover,background:n.linkHoverBg},{color:n.colorPrimaryTextActive})),dw(n.componentCls,n.ghostBg,n.colorPrimary,n.colorPrimary,n.colorTextDisabled,n.colorBorder,{color:n.colorPrimaryHover,borderColor:n.colorPrimaryHover},{color:n.colorPrimaryActive,borderColor:n.colorPrimaryActive})),IX=n=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:n.colorError,boxShadow:n.dangerShadow},pw(n,n.dangerColor,n.colorError,{background:n.colorErrorHover},{background:n.colorErrorActive})),mw(n,n.colorError,n.colorBgContainer,{color:n.colorErrorHover,borderColor:n.colorErrorBorderHover},{color:n.colorErrorActive,borderColor:n.colorErrorActive})),gw(n)),vw(n,n.colorErrorBg,{background:n.colorErrorBgFilledHover},{background:n.colorErrorBgActive})),Zu(n,n.colorError,"text",{color:n.colorErrorHover,background:n.colorErrorBg},{color:n.colorErrorHover,background:n.colorErrorBgActive})),Zu(n,n.colorError,"link",{color:n.colorErrorHover},{color:n.colorErrorActive})),dw(n.componentCls,n.ghostBg,n.colorError,n.colorError,n.colorTextDisabled,n.colorBorder,{color:n.colorErrorHover,borderColor:n.colorErrorHover},{color:n.colorErrorActive,borderColor:n.colorErrorActive})),BX=n=>Object.assign(Object.assign({},Zu(n,n.colorLink,"link",{color:n.colorLinkHover},{color:n.colorLinkActive})),dw(n.componentCls,n.ghostBg,n.colorInfo,n.colorInfo,n.colorTextDisabled,n.colorBorder,{color:n.colorInfoHover,borderColor:n.colorInfoHover},{color:n.colorInfoActive,borderColor:n.colorInfoActive})),DX=n=>{const{componentCls:e}=n;return Object.assign({[`${e}-color-default`]:RX(n),[`${e}-color-primary`]:OX(n),[`${e}-color-dangerous`]:IX(n),[`${e}-color-link`]:BX(n)},TX(n))},PX=n=>Object.assign(Object.assign(Object.assign(Object.assign({},mw(n,n.defaultBorderColor,n.defaultBg,{color:n.defaultHoverColor,borderColor:n.defaultHoverBorderColor,background:n.defaultHoverBg},{color:n.defaultActiveColor,borderColor:n.defaultActiveBorderColor,background:n.defaultActiveBg})),Zu(n,n.textTextColor,"text",{color:n.textTextHoverColor,background:n.textHoverBg},{color:n.textTextActiveColor,background:n.colorBgTextActive})),pw(n,n.primaryColor,n.colorPrimary,{background:n.colorPrimaryHover,color:n.primaryColor},{background:n.colorPrimaryActive,color:n.primaryColor})),Zu(n,n.colorLink,"link",{color:n.colorLinkHover,background:n.linkHoverBg},{color:n.colorLinkActive})),PO=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const{componentCls:t,controlHeight:r,fontSize:a,borderRadius:o,buttonPaddingHorizontal:l,iconCls:s,buttonPaddingVertical:u,buttonIconOnlyFontSize:d}=n;return[{[e]:{fontSize:a,height:r,padding:`${Pt(u)} ${Pt(l)}`,borderRadius:o,[`&${t}-icon-only`]:{width:r,[s]:{fontSize:d}}}},{[`${t}${t}-circle${e}`]:CX(n)},{[`${t}${t}-round${e}`]:EX(n)}]},LX=n=>{const e=sr(n,{fontSize:n.contentFontSize});return PO(e,n.componentCls)},NX=n=>{const e=sr(n,{controlHeight:n.controlHeightSM,fontSize:n.contentFontSizeSM,padding:n.paddingXS,buttonPaddingHorizontal:n.paddingInlineSM,buttonPaddingVertical:0,borderRadius:n.borderRadiusSM,buttonIconOnlyFontSize:n.onlyIconSizeSM});return PO(e,`${n.componentCls}-sm`)},zX=n=>{const e=sr(n,{controlHeight:n.controlHeightLG,fontSize:n.contentFontSizeLG,buttonPaddingHorizontal:n.paddingInlineLG,buttonPaddingVertical:0,borderRadius:n.borderRadiusLG,buttonIconOnlyFontSize:n.onlyIconSizeLG});return PO(e,`${n.componentCls}-lg`)},UX=n=>{const{componentCls:e}=n;return{[e]:{[`&${e}-block`]:{width:"100%"}}}},FX=oa("Button",n=>{const e=OF(n);return[xX(e),LX(e),NX(e),zX(e),UX(e),DX(e),PX(e),$W(e)]},IF,{unitless:{fontWeight:!0,contentLineHeight:!0,contentLineHeightSM:!0,contentLineHeightLG:!0}});function HX(n,e,t){const{focusElCls:r,focus:a,borderElCls:o}=t,l=o?"> *":"",s=["hover",a?"focus":null,"active"].filter(Boolean).map(u=>`&:${u} ${l}`).join(",");return{[`&-item:not(${e}-last-item)`]:{marginInlineEnd:n.calc(n.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[s]:{zIndex:2}},r?{[`&${r}`]:{zIndex:2}}:{}),{[`&[disabled] ${l}`]:{zIndex:0}})}}function GX(n,e,t){const{borderElCls:r}=t,a=r?`> ${r}`:"";return{[`&-item:not(${e}-first-item):not(${e}-last-item) ${a}`]:{borderRadius:0},[`&-item:not(${e}-last-item)${e}-first-item`]:{[`& ${a}, &${n}-sm ${a}, &${n}-lg ${a}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${e}-first-item)${e}-last-item`]:{[`& ${a}, &${n}-sm ${a}, &${n}-lg ${a}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function DF(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:t}=n,r=`${t}-compact`;return{[r]:Object.assign(Object.assign({},HX(n,r,e)),GX(t,r,e))}}function kX(n,e){return{[`&-item:not(${e}-last-item)`]:{marginBottom:n.calc(n.lineWidth).mul(-1).equal()},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function $X(n,e){return{[`&-item:not(${e}-first-item):not(${e}-last-item)`]:{borderRadius:0},[`&-item${e}-first-item:not(${e}-last-item)`]:{[`&, &${n}-sm, &${n}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${e}-last-item:not(${e}-first-item)`]:{[`&, &${n}-sm, &${n}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function VX(n){const e=`${n.componentCls}-compact-vertical`;return{[e]:Object.assign(Object.assign({},kX(n,e)),$X(n.componentCls,e))}}const jX=n=>{const{componentCls:e,colorPrimaryHover:t,lineWidth:r,calc:a}=n,o=a(r).mul(-1).equal(),l=s=>{const u=`${e}-compact${s?"-vertical":""}-item${e}-primary:not([disabled])`;return{[`${u} + ${u}::before`]:{position:"absolute",top:s?o:0,insetInlineStart:s?0:o,backgroundColor:t,content:'""',width:s?"100%":r,height:s?r:"100%"}}};return Object.assign(Object.assign({},l()),l(!0))},WX=lw(["Button","compact"],n=>{const e=OF(n);return[DF(e),VX(e),jX(e)]},IF);var XX=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};function YX(n){if(typeof n=="object"&&n){let e=n==null?void 0:n.delay;return e=!Number.isNaN(e)&&typeof e=="number"?e:0,{loading:e<=0,delay:e}}return{loading:!!n,delay:0}}const qX={default:["default","outlined"],primary:["primary","solid"],dashed:["default","dashed"],link:["link","link"],text:["default","text"]},KX=We.forwardRef((n,e)=>{var t,r;const{loading:a=!1,prefixCls:o,color:l,variant:s,type:u,danger:d=!1,shape:g="default",size:y,styles:_,disabled:C,className:c,rootClassName:p,children:m,icon:b,iconPosition:E="start",ghost:T=!1,block:R=!1,htmlType:O="button",classNames:D,style:P={},autoInsertSpace:F,autoFocus:U}=n,z=XX(n,["loading","prefixCls","color","variant","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","iconPosition","ghost","block","htmlType","classNames","style","autoInsertSpace","autoFocus"]),$=u||"default",[J,W]=A.useMemo(()=>{if(l&&s)return[l,s];const it=qX[$]||[];return d?["danger",it[1]]:it},[u,l,s,d]),oe=J==="danger"?"dangerous":J,{getPrefixCls:Y,direction:K,autoInsertSpace:ee,className:ue,style:q,classNames:ie,styles:me}=rf("button"),de=(t=F??ee)!==null&&t!==void 0?t:!0,Q=Y("btn",o),[he,xe,Oe]=FX(Q),Ae=A.useContext(Nh),Te=C??Ae,ze=A.useContext(MF),vt=A.useMemo(()=>YX(a),[a]),[Be,Ce]=A.useState(vt.loading),[re,Fe]=A.useState(!1),Ie=A.useRef(null),Ye=M0(e,Ie),ke=A.Children.count(m)===1&&!b&&!SM(W),lt=A.useRef(!0);We.useEffect(()=>(lt.current=!1,()=>{lt.current=!0}),[]),A.useEffect(()=>{let it=null;vt.delay>0?it=setTimeout(()=>{it=null,Ce(!0)},vt.delay):Ce(vt.loading);function Se(){it&&(clearTimeout(it),it=null)}return Se},[vt]),A.useEffect(()=>{if(!Ie.current||!de)return;const it=Ie.current.textContent||"";ke&&jR(it)?re||Fe(!0):re&&Fe(!1)}),A.useEffect(()=>{U&&Ie.current&&Ie.current.focus()},[]);const ot=We.useCallback(it=>{var Se;if(Be||Te){it.preventDefault();return}(Se=n.onClick)===null||Se===void 0||Se.call(n,("href"in n,it))},[n.onClick,Be,Te]),{compactSize:ce,compactItemClassnames:ae}=fw(Q,K),we={large:"lg",small:"sm",middle:void 0},De=Fm(it=>{var Se,Ge;return(Ge=(Se=y??ce)!==null&&Se!==void 0?Se:ze)!==null&&Ge!==void 0?Ge:it}),qe=De&&(r=we[De])!==null&&r!==void 0?r:"",He=Be?"loading":b,gt=go(z,["navigate"]),st=et(Q,xe,Oe,{[`${Q}-${g}`]:g!=="default"&&g,[`${Q}-${$}`]:$,[`${Q}-dangerous`]:d,[`${Q}-color-${oe}`]:oe,[`${Q}-variant-${W}`]:W,[`${Q}-${qe}`]:qe,[`${Q}-icon-only`]:!m&&m!==0&&!!He,[`${Q}-background-ghost`]:T&&!SM(W),[`${Q}-loading`]:Be,[`${Q}-two-chinese-chars`]:re&&de&&!Be,[`${Q}-block`]:R,[`${Q}-rtl`]:K==="rtl",[`${Q}-icon-end`]:E==="end"},ae,c,p,ue),pt=Object.assign(Object.assign({},q),P),Ot=et(D==null?void 0:D.icon,ie.icon),at=Object.assign(Object.assign({},(_==null?void 0:_.icon)||{}),me.icon||{}),_t=b&&!Be?We.createElement(WR,{prefixCls:Q,className:Ot,style:at},b):a&&typeof a=="object"&&a.icon?We.createElement(WR,{prefixCls:Q,className:Ot,style:at},a.icon):We.createElement(kW,{existIcon:!!b,prefixCls:Q,loading:Be,mount:lt.current}),Ct=m||m===0?GW(m,ke&&de):null;if(gt.href!==void 0)return he(We.createElement("a",Object.assign({},gt,{className:et(st,{[`${Q}-disabled`]:Te}),href:Te?void 0:gt.href,style:pt,onClick:ot,ref:Ye,tabIndex:Te?-1:0}),_t,Ct));let je=We.createElement("button",Object.assign({},z,{type:O,className:st,style:pt,onClick:ot,disabled:Te,ref:Ye}),_t,Ct,ae&&We.createElement(WX,{prefixCls:Q}));return SM(W)||(je=We.createElement(EF,{component:"Button",disabled:Be},je)),he(je)}),fo=KX;fo.Group=FW;fo.__ANT_BUTTON=!0;function EM(n){return!!(n!=null&&n.then)}const PF=n=>{const{type:e,children:t,prefixCls:r,buttonProps:a,close:o,autoFocus:l,emitEvent:s,isSilent:u,quitOnNullishReturnValue:d,actionFn:g}=n,y=A.useRef(!1),_=A.useRef(null),[C,c]=l0(!1),p=function(){o==null||o.apply(void 0,arguments)};A.useEffect(()=>{let E=null;return l&&(E=setTimeout(()=>{var T;(T=_.current)===null||T===void 0||T.focus({preventScroll:!0})})),()=>{E&&clearTimeout(E)}},[]);const m=E=>{EM(E)&&(c(!0),E.then(function(){c(!1,!0),p.apply(void 0,arguments),y.current=!1},T=>{if(c(!1,!0),y.current=!1,!(u!=null&&u()))return Promise.reject(T)}))},b=E=>{if(y.current)return;if(y.current=!0,!g){p();return}let T;if(s){if(T=g(E),d&&!EM(T)){y.current=!1,p(E);return}}else if(g.length)T=g(o),y.current=!1;else if(T=g(),!EM(T)){p();return}m(T)};return A.createElement(fo,Object.assign({},TF(e),{onClick:b,loading:C,prefixCls:r},a,{ref:_}),t)},AS=We.createContext({}),{Provider:LF}=AS,dP=()=>{const{autoFocusButton:n,cancelButtonProps:e,cancelTextLocale:t,isSilent:r,mergedOkCancel:a,rootPrefixCls:o,close:l,onCancel:s,onConfirm:u}=A.useContext(AS);return a?We.createElement(PF,{isSilent:r,actionFn:s,close:function(){l==null||l.apply(void 0,arguments),u==null||u(!1)},autoFocus:n==="cancel",buttonProps:e,prefixCls:`${o}-btn`},t):null},hP=()=>{const{autoFocusButton:n,close:e,isSilent:t,okButtonProps:r,rootPrefixCls:a,okTextLocale:o,okType:l,onConfirm:s,onOk:u}=A.useContext(AS);return We.createElement(PF,{isSilent:t,type:l||"primary",actionFn:u,close:function(){e==null||e.apply(void 0,arguments),s==null||s(!0)},autoFocus:n==="ok",buttonProps:r,prefixCls:`${a}-btn`},o)};var NF=A.createContext(null),pP=[];function JX(n,e){var t=A.useState(function(){if(!ls())return null;var c=document.createElement("div");return c}),r=bt(t,1),a=r[0],o=A.useRef(!1),l=A.useContext(NF),s=A.useState(pP),u=bt(s,2),d=u[0],g=u[1],y=l||(o.current?void 0:function(c){g(function(p){var m=[c].concat(Jt(p));return m})});function _(){a.parentElement||document.body.appendChild(a),o.current=!0}function C(){var c;(c=a.parentElement)===null||c===void 0||c.removeChild(a),o.current=!1}return Ca(function(){return n?l?l(_):_():C(),C},[n]),Ca(function(){d.length&&(d.forEach(function(c){return c()}),g(pP))},[d]),[a,y]}function QX(n){var e="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),t=document.createElement("div");t.id=e;var r=t.style;r.position="absolute",r.left="0",r.top="0",r.width="100px",r.height="100px",r.overflow="scroll";var a,o;if(n){var l=getComputedStyle(n);r.scrollbarColor=l.scrollbarColor,r.scrollbarWidth=l.scrollbarWidth;var s=getComputedStyle(n,"::-webkit-scrollbar"),u=parseInt(s.width,10),d=parseInt(s.height,10);try{var g=u?"width: ".concat(s.width,";"):"",y=d?"height: ".concat(s.height,";"):"";sd(`
#`.concat(e,`::-webkit-scrollbar {
`).concat(g,`
`).concat(y,`
}`),e)}catch(c){console.error(c),a=u,o=d}}document.body.appendChild(t);var _=n&&a&&!isNaN(a)?a:t.offsetWidth-t.clientWidth,C=n&&o&&!isNaN(o)?o:t.offsetHeight-t.clientHeight;return document.body.removeChild(t),jb(e),{width:_,height:C}}function ZX(n){return typeof document>"u"||!n||!(n instanceof Element)?{width:0,height:0}:QX(n)}function eY(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var tY="rc-util-locker-".concat(Date.now()),mP=0;function nY(n){var e=!!n,t=A.useState(function(){return mP+=1,"".concat(tY,"_").concat(mP)}),r=bt(t,1),a=r[0];Ca(function(){if(e){var o=ZX(document.body).width,l=eY();sd(`
html body {
  overflow-y: hidden;
  `.concat(l?"width: calc(100% - ".concat(o,"px);"):"",`
}`),a)}else jb(a);return function(){jb(a)}},[e,a])}var iY=!1;function rY(n){return iY}var gP=function(e){return e===!1?!1:!ls()||!e?null:typeof e=="string"?document.querySelector(e):typeof e=="function"?e():e},yw=A.forwardRef(function(n,e){var t=n.open,r=n.autoLock,a=n.getContainer;n.debug;var o=n.autoDestroy,l=o===void 0?!0:o,s=n.children,u=A.useState(t),d=bt(u,2),g=d[0],y=d[1],_=g||t;A.useEffect(function(){(l||t)&&y(t)},[t,l]);var C=A.useState(function(){return gP(a)}),c=bt(C,2),p=c[0],m=c[1];A.useEffect(function(){var $=gP(a);m($??null)});var b=JX(_&&!p),E=bt(b,2),T=E[0],R=E[1],O=p??T;nY(r&&t&&ls()&&(O===T||O===document.body));var D=null;if(s&&SS(s)&&e){var P=s;D=P.ref}var F=M0(D,e);if(!_||!ls()||p===void 0)return null;var U=O===!1||rY(),z=s;return e&&(z=A.cloneElement(s,{ref:F})),A.createElement(NF.Provider,{value:R},U?z:Ph.createPortal(z,O))}),zF=A.createContext({});function aY(){var n=Ne({},QE);return n.useId}var vP=0,yP=aY();const LO=yP?function(e){var t=yP();return e||t}:function(e){var t=A.useState("ssr-id"),r=bt(t,2),a=r[0],o=r[1];return A.useEffect(function(){var l=vP;vP+=1,o("rc_unique_".concat(l))},[]),e||a};function bP(n,e,t){var r=e;return!r&&t&&(r="".concat(n,"-").concat(t)),r}function SP(n,e){var t=n["page".concat(e?"Y":"X","Offset")],r="scroll".concat(e?"Top":"Left");if(typeof t!="number"){var a=n.document;t=a.documentElement[r],typeof t!="number"&&(t=a.body[r])}return t}function oY(n){var e=n.getBoundingClientRect(),t={left:e.left,top:e.top},r=n.ownerDocument,a=r.defaultView||r.parentWindow;return t.left+=SP(a),t.top+=SP(a,!0),t}const sY=A.memo(function(n){var e=n.children;return e},function(n,e){var t=e.shouldUpdate;return!t});var lY={width:0,height:0,overflow:"hidden",outline:"none"},cY={outline:"none"},UF=We.forwardRef(function(n,e){var t=n.prefixCls,r=n.className,a=n.style,o=n.title,l=n.ariaId,s=n.footer,u=n.closable,d=n.closeIcon,g=n.onClose,y=n.children,_=n.bodyStyle,C=n.bodyProps,c=n.modalRender,p=n.onMouseDown,m=n.onMouseUp,b=n.holderRef,E=n.visible,T=n.forceRender,R=n.width,O=n.height,D=n.classNames,P=n.styles,F=We.useContext(zF),U=F.panel,z=M0(b,U),$=A.useRef(),J=A.useRef();We.useImperativeHandle(e,function(){return{focus:function(){var me;(me=$.current)===null||me===void 0||me.focus({preventScroll:!0})},changeActive:function(me){var de=document,Q=de.activeElement;me&&Q===J.current?$.current.focus({preventScroll:!0}):!me&&Q===$.current&&J.current.focus({preventScroll:!0})}}});var W={};R!==void 0&&(W.width=R),O!==void 0&&(W.height=O);var Z=s?We.createElement("div",{className:et("".concat(t,"-footer"),D==null?void 0:D.footer),style:Ne({},P==null?void 0:P.footer)},s):null,oe=o?We.createElement("div",{className:et("".concat(t,"-header"),D==null?void 0:D.header),style:Ne({},P==null?void 0:P.header)},We.createElement("div",{className:"".concat(t,"-title"),id:l},o)):null,Y=A.useMemo(function(){return mn(u)==="object"&&u!==null?u:u?{closeIcon:d??We.createElement("span",{className:"".concat(t,"-close-x")})}:{}},[u,d,t]),K=R0(Y,!0),ee=mn(u)==="object"&&u.disabled,ue=u?We.createElement("button",Nt({type:"button",onClick:g,"aria-label":"Close"},K,{className:"".concat(t,"-close"),disabled:ee}),Y.closeIcon):null,q=We.createElement("div",{className:et("".concat(t,"-content"),D==null?void 0:D.content),style:P==null?void 0:P.content},ue,oe,We.createElement("div",Nt({className:et("".concat(t,"-body"),D==null?void 0:D.body),style:Ne(Ne({},_),P==null?void 0:P.body)},C),y),Z);return We.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":o?l:null,"aria-modal":"true",ref:z,style:Ne(Ne({},a),W),className:et(t,r),onMouseDown:p,onMouseUp:m},We.createElement("div",{ref:$,tabIndex:0,style:cY},We.createElement(sY,{shouldUpdate:E||T},c?c(q):q)),We.createElement("div",{tabIndex:0,ref:J,style:lY}))}),FF=A.forwardRef(function(n,e){var t=n.prefixCls,r=n.title,a=n.style,o=n.className,l=n.visible,s=n.forceRender,u=n.destroyOnClose,d=n.motionName,g=n.ariaId,y=n.onVisibleChanged,_=n.mousePosition,C=A.useRef(),c=A.useState(),p=bt(c,2),m=p[0],b=p[1],E={};m&&(E.transformOrigin=m);function T(){var R=oY(C.current);b(_&&(_.x||_.y)?"".concat(_.x-R.left,"px ").concat(_.y-R.top,"px"):"")}return A.createElement(Xc,{visible:l,onVisibleChanged:y,onAppearPrepare:T,onEnterPrepare:T,forceRender:s,motionName:d,removeOnLeave:u,ref:C},function(R,O){var D=R.className,P=R.style;return A.createElement(UF,Nt({},n,{ref:e,title:r,ariaId:g,prefixCls:t,holderRef:O,style:Ne(Ne(Ne({},P),a),E),className:et(o,D)}))})});FF.displayName="Content";var uY=function(e){var t=e.prefixCls,r=e.style,a=e.visible,o=e.maskProps,l=e.motionName,s=e.className;return A.createElement(Xc,{key:"mask",visible:a,motionName:l,leavedClassName:"".concat(t,"-mask-hidden")},function(u,d){var g=u.className,y=u.style;return A.createElement("div",Nt({ref:d,style:Ne(Ne({},y),r),className:et("".concat(t,"-mask"),g,s)},o))})},fY=function(e){var t=e.prefixCls,r=t===void 0?"rc-dialog":t,a=e.zIndex,o=e.visible,l=o===void 0?!1:o,s=e.keyboard,u=s===void 0?!0:s,d=e.focusTriggerAfterClose,g=d===void 0?!0:d,y=e.wrapStyle,_=e.wrapClassName,C=e.wrapProps,c=e.onClose,p=e.afterOpenChange,m=e.afterClose,b=e.transitionName,E=e.animation,T=e.closable,R=T===void 0?!0:T,O=e.mask,D=O===void 0?!0:O,P=e.maskTransitionName,F=e.maskAnimation,U=e.maskClosable,z=U===void 0?!0:U,$=e.maskStyle,J=e.maskProps,W=e.rootClassName,Z=e.classNames,oe=e.styles,Y=A.useRef(),K=A.useRef(),ee=A.useRef(),ue=A.useState(l),q=bt(ue,2),ie=q[0],me=q[1],de=LO();function Q(){CR(K.current,document.activeElement)||(Y.current=document.activeElement)}function he(){if(!CR(K.current,document.activeElement)){var Fe;(Fe=ee.current)===null||Fe===void 0||Fe.focus()}}function xe(Fe){if(Fe)he();else{if(me(!1),D&&Y.current&&g){try{Y.current.focus({preventScroll:!0})}catch{}Y.current=null}ie&&(m==null||m())}p==null||p(Fe)}function Oe(Fe){c==null||c(Fe)}var Ae=A.useRef(!1),Te=A.useRef(),ze=function(){clearTimeout(Te.current),Ae.current=!0},vt=function(){Te.current=setTimeout(function(){Ae.current=!1})},Be=null;z&&(Be=function(Ie){Ae.current?Ae.current=!1:K.current===Ie.target&&Oe(Ie)});function Ce(Fe){if(u&&Fe.keyCode===zo.ESC){Fe.stopPropagation(),Oe(Fe);return}l&&Fe.keyCode===zo.TAB&&ee.current.changeActive(!Fe.shiftKey)}A.useEffect(function(){l&&(me(!0),Q())},[l]),A.useEffect(function(){return function(){clearTimeout(Te.current)}},[]);var re=Ne(Ne(Ne({zIndex:a},y),oe==null?void 0:oe.wrapper),{},{display:ie?null:"none"});return A.createElement("div",Nt({className:et("".concat(r,"-root"),W)},R0(e,{data:!0})),A.createElement(uY,{prefixCls:r,visible:D&&l,motionName:bP(r,P,F),style:Ne(Ne({zIndex:a},$),oe==null?void 0:oe.mask),maskProps:J,className:Z==null?void 0:Z.mask}),A.createElement("div",Nt({tabIndex:-1,onKeyDown:Ce,className:et("".concat(r,"-wrap"),_,Z==null?void 0:Z.wrapper),ref:K,onClick:Be,style:re},C),A.createElement(FF,Nt({},e,{onMouseDown:ze,onMouseUp:vt,ref:ee,closable:R,ariaId:de,prefixCls:r,visible:l&&ie,onClose:Oe,onVisibleChanged:xe,motionName:bP(r,b,E)}))))},NO=function(e){var t=e.visible,r=e.getContainer,a=e.forceRender,o=e.destroyOnClose,l=o===void 0?!1:o,s=e.afterClose,u=e.panelRef,d=A.useState(t),g=bt(d,2),y=g[0],_=g[1],C=A.useMemo(function(){return{panel:u}},[u]);return A.useEffect(function(){t&&_(!0)},[t]),!a&&l&&!y?null:A.createElement(zF.Provider,{value:C},A.createElement(yw,{open:t||a||y,autoDestroy:!1,getContainer:r,autoLock:t||y},A.createElement(fY,Nt({},e,{destroyOnClose:l,afterClose:function(){s==null||s(),_(!1)}}))))};NO.displayName="Dialog";var um="RC_FORM_INTERNAL_HOOKS",hr=function(){No(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},u0=A.createContext({getFieldValue:hr,getFieldsValue:hr,getFieldError:hr,getFieldWarning:hr,getFieldsError:hr,isFieldsTouched:hr,isFieldTouched:hr,isFieldValidating:hr,isFieldsValidating:hr,resetFields:hr,setFields:hr,setFieldValue:hr,setFieldsValue:hr,validateFields:hr,submit:hr,getInternalHooks:function(){return hr(),{dispatch:hr,initEntityValue:hr,registerField:hr,useSubscribe:hr,setInitialValues:hr,destroyForm:hr,setCallbacks:hr,registerWatch:hr,getFields:hr,setValidateMessages:hr,setPreserve:hr,getInitialValue:hr}}}),L1=A.createContext(null);function XR(n){return n==null?[]:Array.isArray(n)?n:[n]}function dY(n){return n&&!!n._init}function YR(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var qR=YR();function hY(n){try{return Function.toString.call(n).indexOf("[native code]")!==-1}catch{return typeof n=="function"}}function pY(n,e,t){if(yO())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var a=new(n.bind.apply(n,r));return t&&Yb(a,t.prototype),a}function KR(n){var e=typeof Map=="function"?new Map:void 0;return KR=function(r){if(r===null||!hY(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(r))return e.get(r);e.set(r,a)}function a(){return pY(r,arguments,Di(this).constructor)}return a.prototype=Object.create(r.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),Yb(a,r)},KR(n)}var mY=/%[sdj%]/g,gY=function(){};function JR(n){if(!n||!n.length)return null;var e={};return n.forEach(function(t){var r=t.field;e[r]=e[r]||[],e[r].push(t)}),e}function Zs(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var a=0,o=t.length;if(typeof n=="function")return n.apply(null,t);if(typeof n=="string"){var l=n.replace(mY,function(s){if(s==="%%")return"%";if(a>=o)return s;switch(s){case"%s":return String(t[a++]);case"%d":return Number(t[a++]);case"%j":try{return JSON.stringify(t[a++])}catch{return"[Circular]"}break;default:return s}});return l}return n}function vY(n){return n==="string"||n==="url"||n==="hex"||n==="email"||n==="date"||n==="pattern"}function Ba(n,e){return!!(n==null||e==="array"&&Array.isArray(n)&&!n.length||vY(e)&&typeof n=="string"&&!n)}function yY(n,e,t){var r=[],a=0,o=n.length;function l(s){r.push.apply(r,Jt(s||[])),a++,a===o&&t(r)}n.forEach(function(s){e(s,l)})}function _P(n,e,t){var r=0,a=n.length;function o(l){if(l&&l.length){t(l);return}var s=r;r=r+1,s<a?e(n[s],o):t([])}o([])}function bY(n){var e=[];return Object.keys(n).forEach(function(t){e.push.apply(e,Jt(n[t]||[]))}),e}var xP=function(n){wr(t,n);var e=Wc(t);function t(r,a){var o;return ai(this,t),o=e.call(this,"Async Validation Error"),fe(Dn(o),"errors",void 0),fe(Dn(o),"fields",void 0),o.errors=r,o.fields=a,o}return oi(t)}(KR(Error));function SY(n,e,t,r,a){if(e.first){var o=new Promise(function(_,C){var c=function(b){return r(b),b.length?C(new xP(b,JR(b))):_(a)},p=bY(n);_P(p,t,c)});return o.catch(function(_){return _}),o}var l=e.firstFields===!0?Object.keys(n):e.firstFields||[],s=Object.keys(n),u=s.length,d=0,g=[],y=new Promise(function(_,C){var c=function(m){if(g.push.apply(g,m),d++,d===u)return r(g),g.length?C(new xP(g,JR(g))):_(a)};s.length||(r(g),_(a)),s.forEach(function(p){var m=n[p];l.indexOf(p)!==-1?_P(m,t,c):yY(m,t,c)})});return y.catch(function(_){return _}),y}function _Y(n){return!!(n&&n.message!==void 0)}function xY(n,e){for(var t=n,r=0;r<e.length;r++){if(t==null)return t;t=t[e[r]]}return t}function CP(n,e){return function(t){var r;return n.fullFields?r=xY(e,n.fullFields):r=e[t.field||n.fullField],_Y(t)?(t.field=t.field||n.fullField,t.fieldValue=r,t):{message:typeof t=="function"?t():t,fieldValue:r,field:t.field||n.fullField}}}function EP(n,e){if(e){for(var t in e)if(e.hasOwnProperty(t)){var r=e[t];mn(r)==="object"&&mn(n[t])==="object"?n[t]=Ne(Ne({},n[t]),r):n[t]=r}}return n}var zg="enum",CY=function(e,t,r,a,o){e[zg]=Array.isArray(e[zg])?e[zg]:[],e[zg].indexOf(t)===-1&&a.push(Zs(o.messages[zg],e.fullField,e[zg].join(", ")))},EY=function(e,t,r,a,o){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||a.push(Zs(o.messages.pattern.mismatch,e.fullField,t,e.pattern));else if(typeof e.pattern=="string"){var l=new RegExp(e.pattern);l.test(t)||a.push(Zs(o.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},wY=function(e,t,r,a,o){var l=typeof e.len=="number",s=typeof e.min=="number",u=typeof e.max=="number",d=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,g=t,y=null,_=typeof t=="number",C=typeof t=="string",c=Array.isArray(t);if(_?y="number":C?y="string":c&&(y="array"),!y)return!1;c&&(g=t.length),C&&(g=t.replace(d,"_").length),l?g!==e.len&&a.push(Zs(o.messages[y].len,e.fullField,e.len)):s&&!u&&g<e.min?a.push(Zs(o.messages[y].min,e.fullField,e.min)):u&&!s&&g>e.max?a.push(Zs(o.messages[y].max,e.fullField,e.max)):s&&u&&(g<e.min||g>e.max)&&a.push(Zs(o.messages[y].range,e.fullField,e.min,e.max))},HF=function(e,t,r,a,o,l){e.required&&(!r.hasOwnProperty(e.field)||Ba(t,l||e.type))&&a.push(Zs(o.messages.required,e.fullField))},yx;const AY=function(){if(yx)return yx;var n="[a-fA-F\\d:]",e=function(D){return D&&D.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(n,")|(?<=").concat(n,")(?=\\s|$))"):""},t="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",a=["(?:".concat(r,":){7}(?:").concat(r,"|:)"),"(?:".concat(r,":){6}(?:").concat(t,"|:").concat(r,"|:)"),"(?:".concat(r,":){5}(?::").concat(t,"|(?::").concat(r,"){1,2}|:)"),"(?:".concat(r,":){4}(?:(?::").concat(r,"){0,1}:").concat(t,"|(?::").concat(r,"){1,3}|:)"),"(?:".concat(r,":){3}(?:(?::").concat(r,"){0,2}:").concat(t,"|(?::").concat(r,"){1,4}|:)"),"(?:".concat(r,":){2}(?:(?::").concat(r,"){0,3}:").concat(t,"|(?::").concat(r,"){1,5}|:)"),"(?:".concat(r,":){1}(?:(?::").concat(r,"){0,4}:").concat(t,"|(?::").concat(r,"){1,6}|:)"),"(?::(?:(?::".concat(r,"){0,5}:").concat(t,"|(?::").concat(r,"){1,7}|:))")],o="(?:%[0-9a-zA-Z]{1,})?",l="(?:".concat(a.join("|"),")").concat(o),s=new RegExp("(?:^".concat(t,"$)|(?:^").concat(l,"$)")),u=new RegExp("^".concat(t,"$")),d=new RegExp("^".concat(l,"$")),g=function(D){return D&&D.exact?s:new RegExp("(?:".concat(e(D)).concat(t).concat(e(D),")|(?:").concat(e(D)).concat(l).concat(e(D),")"),"g")};g.v4=function(O){return O&&O.exact?u:new RegExp("".concat(e(O)).concat(t).concat(e(O)),"g")},g.v6=function(O){return O&&O.exact?d:new RegExp("".concat(e(O)).concat(l).concat(e(O)),"g")};var y="(?:(?:[a-z]+:)?//)",_="(?:\\S+(?::\\S*)?@)?",C=g.v4().source,c=g.v6().source,p="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",m="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",b="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",E="(?::\\d{2,5})?",T='(?:[/?#][^\\s"]*)?',R="(?:".concat(y,"|www\\.)").concat(_,"(?:localhost|").concat(C,"|").concat(c,"|").concat(p).concat(m).concat(b,")").concat(E).concat(T);return yx=new RegExp("(?:^".concat(R,"$)"),"i"),yx};var wP={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},sb={integer:function(e){return sb.number(e)&&parseInt(e,10)===e},float:function(e){return sb.number(e)&&!sb.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return mn(e)==="object"&&!sb.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(wP.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(AY())},hex:function(e){return typeof e=="string"&&!!e.match(wP.hex)}},MY=function(e,t,r,a,o){if(e.required&&t===void 0){HF(e,t,r,a,o);return}var l=["integer","float","array","regexp","object","method","email","number","date","url","hex"],s=e.type;l.indexOf(s)>-1?sb[s](t)||a.push(Zs(o.messages.types[s],e.fullField,e.type)):s&&mn(t)!==e.type&&a.push(Zs(o.messages.types[s],e.fullField,e.type))},TY=function(e,t,r,a,o){(/^\s+$/.test(t)||t==="")&&a.push(Zs(o.messages.whitespace,e.fullField))};const Ei={required:HF,whitespace:TY,type:MY,range:wY,enum:CY,pattern:EY};var RY=function(e,t,r,a,o){var l=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(Ba(t)&&!e.required)return r();Ei.required(e,t,a,l,o)}r(l)},OY=function(e,t,r,a,o){var l=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(t==null&&!e.required)return r();Ei.required(e,t,a,l,o,"array"),t!=null&&(Ei.type(e,t,a,l,o),Ei.range(e,t,a,l,o))}r(l)},IY=function(e,t,r,a,o){var l=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(Ba(t)&&!e.required)return r();Ei.required(e,t,a,l,o),t!==void 0&&Ei.type(e,t,a,l,o)}r(l)},BY=function(e,t,r,a,o){var l=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(Ba(t,"date")&&!e.required)return r();if(Ei.required(e,t,a,l,o),!Ba(t,"date")){var u;t instanceof Date?u=t:u=new Date(t),Ei.type(e,u,a,l,o),u&&Ei.range(e,u.getTime(),a,l,o)}}r(l)},DY="enum",PY=function(e,t,r,a,o){var l=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(Ba(t)&&!e.required)return r();Ei.required(e,t,a,l,o),t!==void 0&&Ei[DY](e,t,a,l,o)}r(l)},LY=function(e,t,r,a,o){var l=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(Ba(t)&&!e.required)return r();Ei.required(e,t,a,l,o),t!==void 0&&(Ei.type(e,t,a,l,o),Ei.range(e,t,a,l,o))}r(l)},NY=function(e,t,r,a,o){var l=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(Ba(t)&&!e.required)return r();Ei.required(e,t,a,l,o),t!==void 0&&(Ei.type(e,t,a,l,o),Ei.range(e,t,a,l,o))}r(l)},zY=function(e,t,r,a,o){var l=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(Ba(t)&&!e.required)return r();Ei.required(e,t,a,l,o),t!==void 0&&Ei.type(e,t,a,l,o)}r(l)},UY=function(e,t,r,a,o){var l=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(t===""&&(t=void 0),Ba(t)&&!e.required)return r();Ei.required(e,t,a,l,o),t!==void 0&&(Ei.type(e,t,a,l,o),Ei.range(e,t,a,l,o))}r(l)},FY=function(e,t,r,a,o){var l=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(Ba(t)&&!e.required)return r();Ei.required(e,t,a,l,o),t!==void 0&&Ei.type(e,t,a,l,o)}r(l)},HY=function(e,t,r,a,o){var l=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(Ba(t,"string")&&!e.required)return r();Ei.required(e,t,a,l,o),Ba(t,"string")||Ei.pattern(e,t,a,l,o)}r(l)},GY=function(e,t,r,a,o){var l=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(Ba(t)&&!e.required)return r();Ei.required(e,t,a,l,o),Ba(t)||Ei.type(e,t,a,l,o)}r(l)},kY=function(e,t,r,a,o){var l=[],s=Array.isArray(t)?"array":mn(t);Ei.required(e,t,a,l,o,s),r(l)},$Y=function(e,t,r,a,o){var l=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(Ba(t,"string")&&!e.required)return r();Ei.required(e,t,a,l,o,"string"),Ba(t,"string")||(Ei.type(e,t,a,l,o),Ei.range(e,t,a,l,o),Ei.pattern(e,t,a,l,o),e.whitespace===!0&&Ei.whitespace(e,t,a,l,o))}r(l)},wM=function(e,t,r,a,o){var l=e.type,s=[],u=e.required||!e.required&&a.hasOwnProperty(e.field);if(u){if(Ba(t,l)&&!e.required)return r();Ei.required(e,t,a,s,o,l),Ba(t,l)||Ei.type(e,t,a,s,o)}r(s)};const Rb={string:$Y,method:zY,number:UY,boolean:IY,regexp:GY,integer:NY,float:LY,array:OY,object:FY,enum:PY,pattern:HY,date:BY,url:wM,hex:wM,email:wM,required:kY,any:RY};var MS=function(){function n(e){ai(this,n),fe(this,"rules",null),fe(this,"_messages",qR),this.define(e)}return oi(n,[{key:"define",value:function(t){var r=this;if(!t)throw new Error("Cannot configure a schema with no rules");if(mn(t)!=="object"||Array.isArray(t))throw new Error("Rules must be an object");this.rules={},Object.keys(t).forEach(function(a){var o=t[a];r.rules[a]=Array.isArray(o)?o:[o]})}},{key:"messages",value:function(t){return t&&(this._messages=EP(YR(),t)),this._messages}},{key:"validate",value:function(t){var r=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},l=t,s=a,u=o;if(typeof s=="function"&&(u=s,s={}),!this.rules||Object.keys(this.rules).length===0)return u&&u(null,l),Promise.resolve(l);function d(c){var p=[],m={};function b(T){if(Array.isArray(T)){var R;p=(R=p).concat.apply(R,Jt(T))}else p.push(T)}for(var E=0;E<c.length;E++)b(c[E]);p.length?(m=JR(p),u(p,m)):u(null,l)}if(s.messages){var g=this.messages();g===qR&&(g=YR()),EP(g,s.messages),s.messages=g}else s.messages=this.messages();var y={},_=s.keys||Object.keys(this.rules);_.forEach(function(c){var p=r.rules[c],m=l[c];p.forEach(function(b){var E=b;typeof E.transform=="function"&&(l===t&&(l=Ne({},l)),m=l[c]=E.transform(m),m!=null&&(E.type=E.type||(Array.isArray(m)?"array":mn(m)))),typeof E=="function"?E={validator:E}:E=Ne({},E),E.validator=r.getValidationMethod(E),E.validator&&(E.field=c,E.fullField=E.fullField||c,E.type=r.getType(E),y[c]=y[c]||[],y[c].push({rule:E,value:m,source:l,field:c}))})});var C={};return SY(y,s,function(c,p){var m=c.rule,b=(m.type==="object"||m.type==="array")&&(mn(m.fields)==="object"||mn(m.defaultField)==="object");b=b&&(m.required||!m.required&&c.value),m.field=c.field;function E(P,F){return Ne(Ne({},F),{},{fullField:"".concat(m.fullField,".").concat(P),fullFields:m.fullFields?[].concat(Jt(m.fullFields),[P]):[P]})}function T(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],F=Array.isArray(P)?P:[P];!s.suppressWarning&&F.length&&n.warning("async-validator:",F),F.length&&m.message!==void 0&&(F=[].concat(m.message));var U=F.map(CP(m,l));if(s.first&&U.length)return C[m.field]=1,p(U);if(!b)p(U);else{if(m.required&&!c.value)return m.message!==void 0?U=[].concat(m.message).map(CP(m,l)):s.error&&(U=[s.error(m,Zs(s.messages.required,m.field))]),p(U);var z={};m.defaultField&&Object.keys(c.value).map(function(W){z[W]=m.defaultField}),z=Ne(Ne({},z),c.rule.fields);var $={};Object.keys(z).forEach(function(W){var Z=z[W],oe=Array.isArray(Z)?Z:[Z];$[W]=oe.map(E.bind(null,W))});var J=new n($);J.messages(s.messages),c.rule.options&&(c.rule.options.messages=s.messages,c.rule.options.error=s.error),J.validate(c.value,c.rule.options||s,function(W){var Z=[];U&&U.length&&Z.push.apply(Z,Jt(U)),W&&W.length&&Z.push.apply(Z,Jt(W)),p(Z.length?Z:null)})}}var R;if(m.asyncValidator)R=m.asyncValidator(m,c.value,T,c.source,s);else if(m.validator){try{R=m.validator(m,c.value,T,c.source,s)}catch(P){var O,D;(O=(D=console).error)===null||O===void 0||O.call(D,P),s.suppressValidatorError||setTimeout(function(){throw P},0),T(P.message)}R===!0?T():R===!1?T(typeof m.message=="function"?m.message(m.fullField||m.field):m.message||"".concat(m.fullField||m.field," fails")):R instanceof Array?T(R):R instanceof Error&&T(R.message)}R&&R.then&&R.then(function(){return T()},function(P){return T(P)})},function(c){d(c)},l)}},{key:"getType",value:function(t){if(t.type===void 0&&t.pattern instanceof RegExp&&(t.type="pattern"),typeof t.validator!="function"&&t.type&&!Rb.hasOwnProperty(t.type))throw new Error(Zs("Unknown rule type %s",t.type));return t.type||"string"}},{key:"getValidationMethod",value:function(t){if(typeof t.validator=="function")return t.validator;var r=Object.keys(t),a=r.indexOf("message");return a!==-1&&r.splice(a,1),r.length===1&&r[0]==="required"?Rb.required:Rb[this.getType(t)]||void 0}}]),n}();fe(MS,"register",function(e,t){if(typeof t!="function")throw new Error("Cannot register a validator by type, validator is not a function");Rb[e]=t});fe(MS,"warning",gY);fe(MS,"messages",qR);fe(MS,"validators",Rb);var Ws="'${name}' is not a valid ${type}",GF={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:Ws,method:Ws,array:Ws,object:Ws,number:Ws,date:Ws,boolean:Ws,integer:Ws,float:Ws,regexp:Ws,email:Ws,url:Ws,hex:Ws},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},AP=MS;function VY(n,e){return n.replace(/\\?\$\{\w+\}/g,function(t){if(t.startsWith("\\"))return t.slice(1);var r=t.slice(2,-1);return e[r]})}var MP="CODE_LOGIC_ERROR";function QR(n,e,t,r,a){return ZR.apply(this,arguments)}function ZR(){return ZR=Qs(yr().mark(function n(e,t,r,a,o){var l,s,u,d,g,y,_,C,c;return yr().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return l=Ne({},r),delete l.ruleIndex,AP.warning=function(){},l.validator&&(s=l.validator,l.validator=function(){try{return s.apply(void 0,arguments)}catch(b){return console.error(b),Promise.reject(MP)}}),u=null,l&&l.type==="array"&&l.defaultField&&(u=l.defaultField,delete l.defaultField),d=new AP(fe({},e,[l])),g=Iv(GF,a.validateMessages),d.messages(g),y=[],m.prev=10,m.next=13,Promise.resolve(d.validate(fe({},e,t),Ne({},a)));case 13:m.next=18;break;case 15:m.prev=15,m.t0=m.catch(10),m.t0.errors&&(y=m.t0.errors.map(function(b,E){var T=b.message,R=T===MP?g.default:T;return A.isValidElement(R)?A.cloneElement(R,{key:"error_".concat(E)}):R}));case 18:if(!(!y.length&&u)){m.next=23;break}return m.next=21,Promise.all(t.map(function(b,E){return QR("".concat(e,".").concat(E),b,u,a,o)}));case 21:return _=m.sent,m.abrupt("return",_.reduce(function(b,E){return[].concat(Jt(b),Jt(E))},[]));case 23:return C=Ne(Ne({},r),{},{name:e,enum:(r.enum||[]).join(", ")},o),c=y.map(function(b){return typeof b=="string"?VY(b,C):b}),m.abrupt("return",c);case 26:case"end":return m.stop()}},n,null,[[10,15]])})),ZR.apply(this,arguments)}function jY(n,e,t,r,a,o){var l=n.join("."),s=t.map(function(g,y){var _=g.validator,C=Ne(Ne({},g),{},{ruleIndex:y});return _&&(C.validator=function(c,p,m){var b=!1,E=function(){for(var O=arguments.length,D=new Array(O),P=0;P<O;P++)D[P]=arguments[P];Promise.resolve().then(function(){No(!b,"Your validator function has already return a promise. `callback` will be ignored."),b||m.apply(void 0,D)})},T=_(c,p,E);b=T&&typeof T.then=="function"&&typeof T.catch=="function",No(b,"`callback` is deprecated. Please return a promise instead."),b&&T.then(function(){m()}).catch(function(R){m(R||" ")})}),C}).sort(function(g,y){var _=g.warningOnly,C=g.ruleIndex,c=y.warningOnly,p=y.ruleIndex;return!!_==!!c?C-p:_?1:-1}),u;if(a===!0)u=new Promise(function(){var g=Qs(yr().mark(function y(_,C){var c,p,m;return yr().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:c=0;case 1:if(!(c<s.length)){E.next=12;break}return p=s[c],E.next=5,QR(l,e,p,r,o);case 5:if(m=E.sent,!m.length){E.next=9;break}return C([{errors:m,rule:p}]),E.abrupt("return");case 9:c+=1,E.next=1;break;case 12:_([]);case 13:case"end":return E.stop()}},y)}));return function(y,_){return g.apply(this,arguments)}}());else{var d=s.map(function(g){return QR(l,e,g,r,o).then(function(y){return{errors:y,rule:g}})});u=(a?XY(d):WY(d)).then(function(g){return Promise.reject(g)})}return u.catch(function(g){return g}),u}function WY(n){return e2.apply(this,arguments)}function e2(){return e2=Qs(yr().mark(function n(e){return yr().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.all(e).then(function(a){var o,l=(o=[]).concat.apply(o,Jt(a));return l}));case 1:case"end":return r.stop()}},n)})),e2.apply(this,arguments)}function XY(n){return t2.apply(this,arguments)}function t2(){return t2=Qs(yr().mark(function n(e){var t;return yr().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=0,a.abrupt("return",new Promise(function(o){e.forEach(function(l){l.then(function(s){s.errors.length&&o([s]),t+=1,t===e.length&&o([])})})}));case 2:case"end":return a.stop()}},n)})),t2.apply(this,arguments)}function da(n){return XR(n)}function TP(n,e){var t={};return e.forEach(function(r){var a=Wu(n,r);t=Ic(t,r,a)}),t}function Yv(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return n&&n.some(function(r){return kF(e,r,t)})}function kF(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!n||!e||!t&&n.length!==e.length?!1:e.every(function(r,a){return n[a]===r})}function YY(n,e){if(n===e)return!0;if(!n&&e||n&&!e||!n||!e||mn(n)!=="object"||mn(e)!=="object")return!1;var t=Object.keys(n),r=Object.keys(e),a=new Set([].concat(t,r));return Jt(a).every(function(o){var l=n[o],s=e[o];return typeof l=="function"&&typeof s=="function"?!0:l===s})}function qY(n){var e=arguments.length<=1?void 0:arguments[1];return e&&e.target&&mn(e.target)==="object"&&n in e.target?e.target[n]:e}function RP(n,e,t){var r=n.length;if(e<0||e>=r||t<0||t>=r)return n;var a=n[e],o=e-t;return o>0?[].concat(Jt(n.slice(0,t)),[a],Jt(n.slice(t,e)),Jt(n.slice(e+1,r))):o<0?[].concat(Jt(n.slice(0,e)),Jt(n.slice(e+1,t+1)),[a],Jt(n.slice(t+1,r))):n}var KY=["name"],Ol=[];function AM(n,e,t,r,a,o){return typeof n=="function"?n(e,t,"source"in o?{source:o.source}:{}):r!==a}var zO=function(n){wr(t,n);var e=Wc(t);function t(r){var a;if(ai(this,t),a=e.call(this,r),fe(Dn(a),"state",{resetCount:0}),fe(Dn(a),"cancelRegisterFunc",null),fe(Dn(a),"mounted",!1),fe(Dn(a),"touched",!1),fe(Dn(a),"dirty",!1),fe(Dn(a),"validatePromise",void 0),fe(Dn(a),"prevValidating",void 0),fe(Dn(a),"errors",Ol),fe(Dn(a),"warnings",Ol),fe(Dn(a),"cancelRegister",function(){var u=a.props,d=u.preserve,g=u.isListField,y=u.name;a.cancelRegisterFunc&&a.cancelRegisterFunc(g,d,da(y)),a.cancelRegisterFunc=null}),fe(Dn(a),"getNamePath",function(){var u=a.props,d=u.name,g=u.fieldContext,y=g.prefixName,_=y===void 0?[]:y;return d!==void 0?[].concat(Jt(_),Jt(d)):[]}),fe(Dn(a),"getRules",function(){var u=a.props,d=u.rules,g=d===void 0?[]:d,y=u.fieldContext;return g.map(function(_){return typeof _=="function"?_(y):_})}),fe(Dn(a),"refresh",function(){a.mounted&&a.setState(function(u){var d=u.resetCount;return{resetCount:d+1}})}),fe(Dn(a),"metaCache",null),fe(Dn(a),"triggerMetaEvent",function(u){var d=a.props.onMetaChange;if(d){var g=Ne(Ne({},a.getMeta()),{},{destroy:u});i0(a.metaCache,g)||d(g),a.metaCache=g}else a.metaCache=null}),fe(Dn(a),"onStoreChange",function(u,d,g){var y=a.props,_=y.shouldUpdate,C=y.dependencies,c=C===void 0?[]:C,p=y.onReset,m=g.store,b=a.getNamePath(),E=a.getValue(u),T=a.getValue(m),R=d&&Yv(d,b);switch(g.type==="valueUpdate"&&g.source==="external"&&!i0(E,T)&&(a.touched=!0,a.dirty=!0,a.validatePromise=null,a.errors=Ol,a.warnings=Ol,a.triggerMetaEvent()),g.type){case"reset":if(!d||R){a.touched=!1,a.dirty=!1,a.validatePromise=void 0,a.errors=Ol,a.warnings=Ol,a.triggerMetaEvent(),p==null||p(),a.refresh();return}break;case"remove":{if(_&&AM(_,u,m,E,T,g)){a.reRender();return}break}case"setField":{var O=g.data;if(R){"touched"in O&&(a.touched=O.touched),"validating"in O&&!("originRCField"in O)&&(a.validatePromise=O.validating?Promise.resolve([]):null),"errors"in O&&(a.errors=O.errors||Ol),"warnings"in O&&(a.warnings=O.warnings||Ol),a.dirty=!0,a.triggerMetaEvent(),a.reRender();return}else if("value"in O&&Yv(d,b,!0)){a.reRender();return}if(_&&!b.length&&AM(_,u,m,E,T,g)){a.reRender();return}break}case"dependenciesUpdate":{var D=c.map(da);if(D.some(function(P){return Yv(g.relatedFields,P)})){a.reRender();return}break}default:if(R||(!c.length||b.length||_)&&AM(_,u,m,E,T,g)){a.reRender();return}break}_===!0&&a.reRender()}),fe(Dn(a),"validateRules",function(u){var d=a.getNamePath(),g=a.getValue(),y=u||{},_=y.triggerName,C=y.validateOnly,c=C===void 0?!1:C,p=Promise.resolve().then(Qs(yr().mark(function m(){var b,E,T,R,O,D,P;return yr().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(a.mounted){U.next=2;break}return U.abrupt("return",[]);case 2:if(b=a.props,E=b.validateFirst,T=E===void 0?!1:E,R=b.messageVariables,O=b.validateDebounce,D=a.getRules(),_&&(D=D.filter(function(z){return z}).filter(function(z){var $=z.validateTrigger;if(!$)return!0;var J=XR($);return J.includes(_)})),!(O&&_)){U.next=10;break}return U.next=8,new Promise(function(z){setTimeout(z,O)});case 8:if(a.validatePromise===p){U.next=10;break}return U.abrupt("return",[]);case 10:return P=jY(d,g,D,u,T,R),P.catch(function(z){return z}).then(function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ol;if(a.validatePromise===p){var $;a.validatePromise=null;var J=[],W=[];($=z.forEach)===null||$===void 0||$.call(z,function(Z){var oe=Z.rule.warningOnly,Y=Z.errors,K=Y===void 0?Ol:Y;oe?W.push.apply(W,Jt(K)):J.push.apply(J,Jt(K))}),a.errors=J,a.warnings=W,a.triggerMetaEvent(),a.reRender()}}),U.abrupt("return",P);case 13:case"end":return U.stop()}},m)})));return c||(a.validatePromise=p,a.dirty=!0,a.errors=Ol,a.warnings=Ol,a.triggerMetaEvent(),a.reRender()),p}),fe(Dn(a),"isFieldValidating",function(){return!!a.validatePromise}),fe(Dn(a),"isFieldTouched",function(){return a.touched}),fe(Dn(a),"isFieldDirty",function(){if(a.dirty||a.props.initialValue!==void 0)return!0;var u=a.props.fieldContext,d=u.getInternalHooks(um),g=d.getInitialValue;return g(a.getNamePath())!==void 0}),fe(Dn(a),"getErrors",function(){return a.errors}),fe(Dn(a),"getWarnings",function(){return a.warnings}),fe(Dn(a),"isListField",function(){return a.props.isListField}),fe(Dn(a),"isList",function(){return a.props.isList}),fe(Dn(a),"isPreserve",function(){return a.props.preserve}),fe(Dn(a),"getMeta",function(){a.prevValidating=a.isFieldValidating();var u={touched:a.isFieldTouched(),validating:a.prevValidating,errors:a.errors,warnings:a.warnings,name:a.getNamePath(),validated:a.validatePromise===null};return u}),fe(Dn(a),"getOnlyChild",function(u){if(typeof u=="function"){var d=a.getMeta();return Ne(Ne({},a.getOnlyChild(u(a.getControlled(),d,a.props.fieldContext))),{},{isFunction:!0})}var g=Ju(u);return g.length!==1||!A.isValidElement(g[0])?{child:g,isFunction:!1}:{child:g[0],isFunction:!1}}),fe(Dn(a),"getValue",function(u){var d=a.props.fieldContext.getFieldsValue,g=a.getNamePath();return Wu(u||d(!0),g)}),fe(Dn(a),"getControlled",function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=a.props,g=d.name,y=d.trigger,_=d.validateTrigger,C=d.getValueFromEvent,c=d.normalize,p=d.valuePropName,m=d.getValueProps,b=d.fieldContext,E=_!==void 0?_:b.validateTrigger,T=a.getNamePath(),R=b.getInternalHooks,O=b.getFieldsValue,D=R(um),P=D.dispatch,F=a.getValue(),U=m||function(Z){return fe({},p,Z)},z=u[y],$=g!==void 0?U(F):{},J=Ne(Ne({},u),$);J[y]=function(){a.touched=!0,a.dirty=!0,a.triggerMetaEvent();for(var Z,oe=arguments.length,Y=new Array(oe),K=0;K<oe;K++)Y[K]=arguments[K];C?Z=C.apply(void 0,Y):Z=qY.apply(void 0,[p].concat(Y)),c&&(Z=c(Z,F,O(!0))),Z!==F&&P({type:"updateValue",namePath:T,value:Z}),z&&z.apply(void 0,Y)};var W=XR(E||[]);return W.forEach(function(Z){var oe=J[Z];J[Z]=function(){oe&&oe.apply(void 0,arguments);var Y=a.props.rules;Y&&Y.length&&P({type:"validateField",namePath:T,triggerName:Z})}}),J}),r.fieldContext){var o=r.fieldContext.getInternalHooks,l=o(um),s=l.initEntityValue;s(Dn(a))}return a}return oi(t,[{key:"componentDidMount",value:function(){var a=this.props,o=a.shouldUpdate,l=a.fieldContext;if(this.mounted=!0,l){var s=l.getInternalHooks,u=s(um),d=u.registerField;this.cancelRegisterFunc=d(this)}o===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var a=this.state.resetCount,o=this.props.children,l=this.getOnlyChild(o),s=l.child,u=l.isFunction,d;return u?d=s:A.isValidElement(s)?d=A.cloneElement(s,this.getControlled(s.props)):(No(!s,"`children` of Field is not validate ReactElement."),d=s),A.createElement(A.Fragment,{key:a},d)}}]),t}(A.Component);fe(zO,"contextType",u0);fe(zO,"defaultProps",{trigger:"onChange",valuePropName:"value"});function $F(n){var e,t=n.name,r=$n(n,KY),a=A.useContext(u0),o=A.useContext(L1),l=t!==void 0?da(t):void 0,s=(e=r.isListField)!==null&&e!==void 0?e:!!o,u="keep";return s||(u="_".concat((l||[]).join("_"))),A.createElement(zO,Nt({key:u,name:l,isListField:s},r,{fieldContext:a}))}function JY(n){var e=n.name,t=n.initialValue,r=n.children,a=n.rules,o=n.validateTrigger,l=n.isListField,s=A.useContext(u0),u=A.useContext(L1),d=A.useRef({keys:[],id:0}),g=d.current,y=A.useMemo(function(){var p=da(s.prefixName)||[];return[].concat(Jt(p),Jt(da(e)))},[s.prefixName,e]),_=A.useMemo(function(){return Ne(Ne({},s),{},{prefixName:y})},[s,y]),C=A.useMemo(function(){return{getKey:function(m){var b=y.length,E=m[b];return[g.keys[E],m.slice(b+1)]}}},[y]);if(typeof r!="function")return No(!1,"Form.List only accepts function as children."),null;var c=function(m,b,E){var T=E.source;return T==="internal"?!1:m!==b};return A.createElement(L1.Provider,{value:C},A.createElement(u0.Provider,{value:_},A.createElement($F,{name:[],shouldUpdate:c,rules:a,validateTrigger:o,initialValue:t,isList:!0,isListField:l??!!u},function(p,m){var b=p.value,E=b===void 0?[]:b,T=p.onChange,R=s.getFieldValue,O=function(){var U=R(y||[]);return U||[]},D={add:function(U,z){var $=O();z>=0&&z<=$.length?(g.keys=[].concat(Jt(g.keys.slice(0,z)),[g.id],Jt(g.keys.slice(z))),T([].concat(Jt($.slice(0,z)),[U],Jt($.slice(z))))):(g.keys=[].concat(Jt(g.keys),[g.id]),T([].concat(Jt($),[U]))),g.id+=1},remove:function(U){var z=O(),$=new Set(Array.isArray(U)?U:[U]);$.size<=0||(g.keys=g.keys.filter(function(J,W){return!$.has(W)}),T(z.filter(function(J,W){return!$.has(W)})))},move:function(U,z){if(U!==z){var $=O();U<0||U>=$.length||z<0||z>=$.length||(g.keys=RP(g.keys,U,z),T(RP($,U,z)))}}},P=E||[];return Array.isArray(P)||(P=[]),r(P.map(function(F,U){var z=g.keys[U];return z===void 0&&(g.keys[U]=g.id,z=g.keys[U],g.id+=1),{name:U,key:z,isListField:!0}}),D,m)})))}function QY(n){var e=!1,t=n.length,r=[];return n.length?new Promise(function(a,o){n.forEach(function(l,s){l.catch(function(u){return e=!0,u}).then(function(u){t-=1,r[s]=u,!(t>0)&&(e&&o(r),a(r))})})}):Promise.resolve([])}var VF="__@field_split__";function MM(n){return n.map(function(e){return"".concat(mn(e),":").concat(e)}).join(VF)}var Ug=function(){function n(){ai(this,n),fe(this,"kvs",new Map)}return oi(n,[{key:"set",value:function(t,r){this.kvs.set(MM(t),r)}},{key:"get",value:function(t){return this.kvs.get(MM(t))}},{key:"update",value:function(t,r){var a=this.get(t),o=r(a);o?this.set(t,o):this.delete(t)}},{key:"delete",value:function(t){this.kvs.delete(MM(t))}},{key:"map",value:function(t){return Jt(this.kvs.entries()).map(function(r){var a=bt(r,2),o=a[0],l=a[1],s=o.split(VF);return t({key:s.map(function(u){var d=u.match(/^([^:]*):(.*)$/),g=bt(d,3),y=g[1],_=g[2];return y==="number"?Number(_):_}),value:l})})}},{key:"toJSON",value:function(){var t={};return this.map(function(r){var a=r.key,o=r.value;return t[a.join(".")]=o,null}),t}}]),n}(),ZY=["name"],eq=oi(function n(e){var t=this;ai(this,n),fe(this,"formHooked",!1),fe(this,"forceRootUpdate",void 0),fe(this,"subscribable",!0),fe(this,"store",{}),fe(this,"fieldEntities",[]),fe(this,"initialValues",{}),fe(this,"callbacks",{}),fe(this,"validateMessages",null),fe(this,"preserve",null),fe(this,"lastValidatePromise",null),fe(this,"getForm",function(){return{getFieldValue:t.getFieldValue,getFieldsValue:t.getFieldsValue,getFieldError:t.getFieldError,getFieldWarning:t.getFieldWarning,getFieldsError:t.getFieldsError,isFieldsTouched:t.isFieldsTouched,isFieldTouched:t.isFieldTouched,isFieldValidating:t.isFieldValidating,isFieldsValidating:t.isFieldsValidating,resetFields:t.resetFields,setFields:t.setFields,setFieldValue:t.setFieldValue,setFieldsValue:t.setFieldsValue,validateFields:t.validateFields,submit:t.submit,_init:!0,getInternalHooks:t.getInternalHooks}}),fe(this,"getInternalHooks",function(r){return r===um?(t.formHooked=!0,{dispatch:t.dispatch,initEntityValue:t.initEntityValue,registerField:t.registerField,useSubscribe:t.useSubscribe,setInitialValues:t.setInitialValues,destroyForm:t.destroyForm,setCallbacks:t.setCallbacks,setValidateMessages:t.setValidateMessages,getFields:t.getFields,setPreserve:t.setPreserve,getInitialValue:t.getInitialValue,registerWatch:t.registerWatch}):(No(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),fe(this,"useSubscribe",function(r){t.subscribable=r}),fe(this,"prevWithoutPreserves",null),fe(this,"setInitialValues",function(r,a){if(t.initialValues=r||{},a){var o,l=Iv(r,t.store);(o=t.prevWithoutPreserves)===null||o===void 0||o.map(function(s){var u=s.key;l=Ic(l,u,Wu(r,u))}),t.prevWithoutPreserves=null,t.updateStore(l)}}),fe(this,"destroyForm",function(r){if(r)t.updateStore({});else{var a=new Ug;t.getFieldEntities(!0).forEach(function(o){t.isMergedPreserve(o.isPreserve())||a.set(o.getNamePath(),!0)}),t.prevWithoutPreserves=a}}),fe(this,"getInitialValue",function(r){var a=Wu(t.initialValues,r);return r.length?Iv(a):a}),fe(this,"setCallbacks",function(r){t.callbacks=r}),fe(this,"setValidateMessages",function(r){t.validateMessages=r}),fe(this,"setPreserve",function(r){t.preserve=r}),fe(this,"watchList",[]),fe(this,"registerWatch",function(r){return t.watchList.push(r),function(){t.watchList=t.watchList.filter(function(a){return a!==r})}}),fe(this,"notifyWatch",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(t.watchList.length){var a=t.getFieldsValue(),o=t.getFieldsValue(!0);t.watchList.forEach(function(l){l(a,o,r)})}}),fe(this,"timeoutId",null),fe(this,"warningUnhooked",function(){}),fe(this,"updateStore",function(r){t.store=r}),fe(this,"getFieldEntities",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return r?t.fieldEntities.filter(function(a){return a.getNamePath().length}):t.fieldEntities}),fe(this,"getFieldsMap",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,a=new Ug;return t.getFieldEntities(r).forEach(function(o){var l=o.getNamePath();a.set(l,o)}),a}),fe(this,"getFieldEntitiesForNamePathList",function(r){if(!r)return t.getFieldEntities(!0);var a=t.getFieldsMap(!0);return r.map(function(o){var l=da(o);return a.get(l)||{INVALIDATE_NAME_PATH:da(o)}})}),fe(this,"getFieldsValue",function(r,a){t.warningUnhooked();var o,l,s;if(r===!0||Array.isArray(r)?(o=r,l=a):r&&mn(r)==="object"&&(s=r.strict,l=r.filter),o===!0&&!l)return t.store;var u=t.getFieldEntitiesForNamePathList(Array.isArray(o)?o:null),d=[];return u.forEach(function(g){var y,_,C="INVALIDATE_NAME_PATH"in g?g.INVALIDATE_NAME_PATH:g.getNamePath();if(s){var c,p;if((c=(p=g).isList)!==null&&c!==void 0&&c.call(p))return}else if(!o&&(y=(_=g).isListField)!==null&&y!==void 0&&y.call(_))return;if(!l)d.push(C);else{var m="getMeta"in g?g.getMeta():null;l(m)&&d.push(C)}}),TP(t.store,d.map(da))}),fe(this,"getFieldValue",function(r){t.warningUnhooked();var a=da(r);return Wu(t.store,a)}),fe(this,"getFieldsError",function(r){t.warningUnhooked();var a=t.getFieldEntitiesForNamePathList(r);return a.map(function(o,l){return o&&!("INVALIDATE_NAME_PATH"in o)?{name:o.getNamePath(),errors:o.getErrors(),warnings:o.getWarnings()}:{name:da(r[l]),errors:[],warnings:[]}})}),fe(this,"getFieldError",function(r){t.warningUnhooked();var a=da(r),o=t.getFieldsError([a])[0];return o.errors}),fe(this,"getFieldWarning",function(r){t.warningUnhooked();var a=da(r),o=t.getFieldsError([a])[0];return o.warnings}),fe(this,"isFieldsTouched",function(){t.warningUnhooked();for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];var l=a[0],s=a[1],u,d=!1;a.length===0?u=null:a.length===1?Array.isArray(l)?(u=l.map(da),d=!1):(u=null,d=l):(u=l.map(da),d=s);var g=t.getFieldEntities(!0),y=function(m){return m.isFieldTouched()};if(!u)return d?g.every(function(p){return y(p)||p.isList()}):g.some(y);var _=new Ug;u.forEach(function(p){_.set(p,[])}),g.forEach(function(p){var m=p.getNamePath();u.forEach(function(b){b.every(function(E,T){return m[T]===E})&&_.update(b,function(E){return[].concat(Jt(E),[p])})})});var C=function(m){return m.some(y)},c=_.map(function(p){var m=p.value;return m});return d?c.every(C):c.some(C)}),fe(this,"isFieldTouched",function(r){return t.warningUnhooked(),t.isFieldsTouched([r])}),fe(this,"isFieldsValidating",function(r){t.warningUnhooked();var a=t.getFieldEntities();if(!r)return a.some(function(l){return l.isFieldValidating()});var o=r.map(da);return a.some(function(l){var s=l.getNamePath();return Yv(o,s)&&l.isFieldValidating()})}),fe(this,"isFieldValidating",function(r){return t.warningUnhooked(),t.isFieldsValidating([r])}),fe(this,"resetWithFieldInitialValue",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=new Ug,o=t.getFieldEntities(!0);o.forEach(function(u){var d=u.props.initialValue,g=u.getNamePath();if(d!==void 0){var y=a.get(g)||new Set;y.add({entity:u,value:d}),a.set(g,y)}});var l=function(d){d.forEach(function(g){var y=g.props.initialValue;if(y!==void 0){var _=g.getNamePath(),C=t.getInitialValue(_);if(C!==void 0)No(!1,"Form already set 'initialValues' with path '".concat(_.join("."),"'. Field can not overwrite it."));else{var c=a.get(_);if(c&&c.size>1)No(!1,"Multiple Field with path '".concat(_.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(c){var p=t.getFieldValue(_),m=g.isListField();!m&&(!r.skipExist||p===void 0)&&t.updateStore(Ic(t.store,_,Jt(c)[0].value))}}}})},s;r.entities?s=r.entities:r.namePathList?(s=[],r.namePathList.forEach(function(u){var d=a.get(u);if(d){var g;(g=s).push.apply(g,Jt(Jt(d).map(function(y){return y.entity})))}})):s=o,l(s)}),fe(this,"resetFields",function(r){t.warningUnhooked();var a=t.store;if(!r){t.updateStore(Iv(t.initialValues)),t.resetWithFieldInitialValue(),t.notifyObservers(a,null,{type:"reset"}),t.notifyWatch();return}var o=r.map(da);o.forEach(function(l){var s=t.getInitialValue(l);t.updateStore(Ic(t.store,l,s))}),t.resetWithFieldInitialValue({namePathList:o}),t.notifyObservers(a,o,{type:"reset"}),t.notifyWatch(o)}),fe(this,"setFields",function(r){t.warningUnhooked();var a=t.store,o=[];r.forEach(function(l){var s=l.name,u=$n(l,ZY),d=da(s);o.push(d),"value"in u&&t.updateStore(Ic(t.store,d,u.value)),t.notifyObservers(a,[d],{type:"setField",data:l})}),t.notifyWatch(o)}),fe(this,"getFields",function(){var r=t.getFieldEntities(!0),a=r.map(function(o){var l=o.getNamePath(),s=o.getMeta(),u=Ne(Ne({},s),{},{name:l,value:t.getFieldValue(l)});return Object.defineProperty(u,"originRCField",{value:!0}),u});return a}),fe(this,"initEntityValue",function(r){var a=r.props.initialValue;if(a!==void 0){var o=r.getNamePath(),l=Wu(t.store,o);l===void 0&&t.updateStore(Ic(t.store,o,a))}}),fe(this,"isMergedPreserve",function(r){var a=r!==void 0?r:t.preserve;return a??!0}),fe(this,"registerField",function(r){t.fieldEntities.push(r);var a=r.getNamePath();if(t.notifyWatch([a]),r.props.initialValue!==void 0){var o=t.store;t.resetWithFieldInitialValue({entities:[r],skipExist:!0}),t.notifyObservers(o,[r.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(l,s){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(t.fieldEntities=t.fieldEntities.filter(function(y){return y!==r}),!t.isMergedPreserve(s)&&(!l||u.length>1)){var d=l?void 0:t.getInitialValue(a);if(a.length&&t.getFieldValue(a)!==d&&t.fieldEntities.every(function(y){return!kF(y.getNamePath(),a)})){var g=t.store;t.updateStore(Ic(g,a,d,!0)),t.notifyObservers(g,[a],{type:"remove"}),t.triggerDependenciesUpdate(g,a)}}t.notifyWatch([a])}}),fe(this,"dispatch",function(r){switch(r.type){case"updateValue":{var a=r.namePath,o=r.value;t.updateValue(a,o);break}case"validateField":{var l=r.namePath,s=r.triggerName;t.validateFields([l],{triggerName:s});break}}}),fe(this,"notifyObservers",function(r,a,o){if(t.subscribable){var l=Ne(Ne({},o),{},{store:t.getFieldsValue(!0)});t.getFieldEntities().forEach(function(s){var u=s.onStoreChange;u(r,a,l)})}else t.forceRootUpdate()}),fe(this,"triggerDependenciesUpdate",function(r,a){var o=t.getDependencyChildrenFields(a);return o.length&&t.validateFields(o),t.notifyObservers(r,o,{type:"dependenciesUpdate",relatedFields:[a].concat(Jt(o))}),o}),fe(this,"updateValue",function(r,a){var o=da(r),l=t.store;t.updateStore(Ic(t.store,o,a)),t.notifyObservers(l,[o],{type:"valueUpdate",source:"internal"}),t.notifyWatch([o]);var s=t.triggerDependenciesUpdate(l,o),u=t.callbacks.onValuesChange;if(u){var d=TP(t.store,[o]);u(d,t.getFieldsValue())}t.triggerOnFieldsChange([o].concat(Jt(s)))}),fe(this,"setFieldsValue",function(r){t.warningUnhooked();var a=t.store;if(r){var o=Iv(t.store,r);t.updateStore(o)}t.notifyObservers(a,null,{type:"valueUpdate",source:"external"}),t.notifyWatch()}),fe(this,"setFieldValue",function(r,a){t.setFields([{name:r,value:a,errors:[],warnings:[]}])}),fe(this,"getDependencyChildrenFields",function(r){var a=new Set,o=[],l=new Ug;t.getFieldEntities().forEach(function(u){var d=u.props.dependencies;(d||[]).forEach(function(g){var y=da(g);l.update(y,function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return _.add(u),_})})});var s=function u(d){var g=l.get(d)||new Set;g.forEach(function(y){if(!a.has(y)){a.add(y);var _=y.getNamePath();y.isFieldDirty()&&_.length&&(o.push(_),u(_))}})};return s(r),o}),fe(this,"triggerOnFieldsChange",function(r,a){var o=t.callbacks.onFieldsChange;if(o){var l=t.getFields();if(a){var s=new Ug;a.forEach(function(d){var g=d.name,y=d.errors;s.set(g,y)}),l.forEach(function(d){d.errors=s.get(d.name)||d.errors})}var u=l.filter(function(d){var g=d.name;return Yv(r,g)});u.length&&o(u,l)}}),fe(this,"validateFields",function(r,a){t.warningUnhooked();var o,l;Array.isArray(r)||typeof r=="string"||typeof a=="string"?(o=r,l=a):l=r;var s=!!o,u=s?o.map(da):[],d=[],g=String(Date.now()),y=new Set,_=l||{},C=_.recursive,c=_.dirty;t.getFieldEntities(!0).forEach(function(E){if(s||u.push(E.getNamePath()),!(!E.props.rules||!E.props.rules.length)&&!(c&&!E.isFieldDirty())){var T=E.getNamePath();if(y.add(T.join(g)),!s||Yv(u,T,C)){var R=E.validateRules(Ne({validateMessages:Ne(Ne({},GF),t.validateMessages)},l));d.push(R.then(function(){return{name:T,errors:[],warnings:[]}}).catch(function(O){var D,P=[],F=[];return(D=O.forEach)===null||D===void 0||D.call(O,function(U){var z=U.rule.warningOnly,$=U.errors;z?F.push.apply(F,Jt($)):P.push.apply(P,Jt($))}),P.length?Promise.reject({name:T,errors:P,warnings:F}):{name:T,errors:P,warnings:F}}))}}});var p=QY(d);t.lastValidatePromise=p,p.catch(function(E){return E}).then(function(E){var T=E.map(function(R){var O=R.name;return O});t.notifyObservers(t.store,T,{type:"validateFinish"}),t.triggerOnFieldsChange(T,E)});var m=p.then(function(){return t.lastValidatePromise===p?Promise.resolve(t.getFieldsValue(u)):Promise.reject([])}).catch(function(E){var T=E.filter(function(R){return R&&R.errors.length});return Promise.reject({values:t.getFieldsValue(u),errorFields:T,outOfDate:t.lastValidatePromise!==p})});m.catch(function(E){return E});var b=u.filter(function(E){return y.has(E.join(g))});return t.triggerOnFieldsChange(b),m}),fe(this,"submit",function(){t.warningUnhooked(),t.validateFields().then(function(r){var a=t.callbacks.onFinish;if(a)try{a(r)}catch(o){console.error(o)}}).catch(function(r){var a=t.callbacks.onFinishFailed;a&&a(r)})}),this.forceRootUpdate=e});function jF(n){var e=A.useRef(),t=A.useState({}),r=bt(t,2),a=r[1];if(!e.current)if(n)e.current=n;else{var o=function(){a({})},l=new eq(o);e.current=l.getForm()}return[e.current]}var n2=A.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),tq=function(e){var t=e.validateMessages,r=e.onFormChange,a=e.onFormFinish,o=e.children,l=A.useContext(n2),s=A.useRef({});return A.createElement(n2.Provider,{value:Ne(Ne({},l),{},{validateMessages:Ne(Ne({},l.validateMessages),t),triggerFormChange:function(d,g){r&&r(d,{changedFields:g,forms:s.current}),l.triggerFormChange(d,g)},triggerFormFinish:function(d,g){a&&a(d,{values:g,forms:s.current}),l.triggerFormFinish(d,g)},registerForm:function(d,g){d&&(s.current=Ne(Ne({},s.current),{},fe({},d,g))),l.registerForm(d,g)},unregisterForm:function(d){var g=Ne({},s.current);delete g[d],s.current=g,l.unregisterForm(d)}})},o)},nq=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"],iq=function(e,t){var r=e.name,a=e.initialValues,o=e.fields,l=e.form,s=e.preserve,u=e.children,d=e.component,g=d===void 0?"form":d,y=e.validateMessages,_=e.validateTrigger,C=_===void 0?"onChange":_,c=e.onValuesChange,p=e.onFieldsChange,m=e.onFinish,b=e.onFinishFailed,E=e.clearOnDestroy,T=$n(e,nq),R=A.useRef(null),O=A.useContext(n2),D=jF(l),P=bt(D,1),F=P[0],U=F.getInternalHooks(um),z=U.useSubscribe,$=U.setInitialValues,J=U.setCallbacks,W=U.setValidateMessages,Z=U.setPreserve,oe=U.destroyForm;A.useImperativeHandle(t,function(){return Ne(Ne({},F),{},{nativeElement:R.current})}),A.useEffect(function(){return O.registerForm(r,F),function(){O.unregisterForm(r)}},[O,F,r]),W(Ne(Ne({},O.validateMessages),y)),J({onValuesChange:c,onFieldsChange:function(Q){if(O.triggerFormChange(r,Q),p){for(var he=arguments.length,xe=new Array(he>1?he-1:0),Oe=1;Oe<he;Oe++)xe[Oe-1]=arguments[Oe];p.apply(void 0,[Q].concat(xe))}},onFinish:function(Q){O.triggerFormFinish(r,Q),m&&m(Q)},onFinishFailed:b}),Z(s);var Y=A.useRef(null);$(a,!Y.current),Y.current||(Y.current=!0),A.useEffect(function(){return function(){return oe(E)}},[]);var K,ee=typeof u=="function";if(ee){var ue=F.getFieldsValue(!0);K=u(ue,F)}else K=u;z(!ee);var q=A.useRef();A.useEffect(function(){YY(q.current||[],o||[])||F.setFields(o||[]),q.current=o},[o,F]);var ie=A.useMemo(function(){return Ne(Ne({},F),{},{validateTrigger:C})},[F,C]),me=A.createElement(L1.Provider,{value:null},A.createElement(u0.Provider,{value:ie},K));return g===!1?me:A.createElement(g,Nt({},T,{ref:R,onSubmit:function(Q){Q.preventDefault(),Q.stopPropagation(),F.submit()},onReset:function(Q){var he;Q.preventDefault(),F.resetFields(),(he=T.onReset)===null||he===void 0||he.call(T,Q)}}),me)};function OP(n){try{return JSON.stringify(n)}catch{return Math.random()}}function rq(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var r=e[0],a=e[1],o=a===void 0?{}:a,l=dY(o)?{form:o}:o,s=l.form,u=A.useState(),d=bt(u,2),g=d[0],y=d[1],_=A.useMemo(function(){return OP(g)},[g]),C=A.useRef(_);C.current=_;var c=A.useContext(u0),p=s||c,m=p&&p._init,b=da(r),E=A.useRef(b);return E.current=b,A.useEffect(function(){if(m){var T=p.getFieldsValue,R=p.getInternalHooks,O=R(um),D=O.registerWatch,P=function($,J){var W=l.preserve?J:$;return typeof r=="function"?r(W):Wu(W,E.current)},F=D(function(z,$){var J=P(z,$),W=OP(J);C.current!==W&&(C.current=W,y(J))}),U=P(T(),T(!0));return g!==U&&y(U),F}},[m]),g}var aq=A.forwardRef(iq),TS=aq;TS.FormProvider=tq;TS.Field=$F;TS.List=JY;TS.useForm=jF;TS.useWatch=rq;const Uh=A.createContext({}),oq=n=>{let{children:e,status:t,override:r}=n;const a=A.useContext(Uh),o=A.useMemo(()=>{const l=Object.assign({},a);return r&&delete l.isFormItemInput,t&&(delete l.status,delete l.hasFeedback,delete l.feedbackIcon),l},[t,r,a]);return A.createElement(Uh.Provider,{value:o},e)},sq=A.createContext(void 0),N1=n=>{const{space:e,form:t,children:r}=n;if(r==null)return null;let a=r;return t&&(a=We.createElement(oq,{override:!0,status:!0},a)),e&&(a=We.createElement(LW,null,a)),a};function z1(n){if(n)return{closable:n.closable,closeIcon:n.closeIcon}}function IP(n){const{closable:e,closeIcon:t}=n||{};return We.useMemo(()=>{if(!e&&(e===!1||t===!1||t===null))return!1;if(e===void 0&&t===void 0)return null;let r={closeIcon:typeof t!="boolean"&&t!==null?t:void 0};return e&&typeof e=="object"&&(r=Object.assign(Object.assign({},r),e)),r},[e,t])}function BP(){const n={};for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.forEach(a=>{a&&Object.keys(a).forEach(o=>{a[o]!==void 0&&(n[o]=a[o])})}),n}const lq={};function WF(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:lq;const r=IP(n),a=IP(e),o=typeof r!="boolean"?!!(r!=null&&r.disabled):!1,l=We.useMemo(()=>Object.assign({closeIcon:We.createElement(A0,null)},t),[t]),s=We.useMemo(()=>r===!1?!1:r?BP(l,a,r):a===!1?!1:a?BP(l,a):l.closable?l:!1,[r,a,l]);return We.useMemo(()=>{if(s===!1)return[!1,null,o];const{closeIconRender:u}=l,{closeIcon:d}=s;let g=d;if(g!=null){u&&(g=u(d));const y=R0(s,!0);Object.keys(y).length&&(g=We.isValidElement(g)?We.cloneElement(g,y):We.createElement("span",Object.assign({},y),g))}return[!0,g,o]},[s,l])}const cq=()=>ls()&&window.document.documentElement,bw=n=>{const{prefixCls:e,className:t,style:r,size:a,shape:o}=n,l=et({[`${e}-lg`]:a==="large",[`${e}-sm`]:a==="small"}),s=et({[`${e}-circle`]:o==="circle",[`${e}-square`]:o==="square",[`${e}-round`]:o==="round"}),u=A.useMemo(()=>typeof a=="number"?{width:a,height:a,lineHeight:`${a}px`}:{},[a]);return A.createElement("span",{className:et(e,l,s,t),style:Object.assign(Object.assign({},u),r)})},uq=new ir("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),Sw=n=>({height:n,lineHeight:Pt(n)}),qv=n=>Object.assign({width:n},Sw(n)),fq=n=>({background:n.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:uq,animationDuration:n.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}),TM=(n,e)=>Object.assign({width:e(n).mul(5).equal(),minWidth:e(n).mul(5).equal()},Sw(n)),dq=n=>{const{skeletonAvatarCls:e,gradientFromColor:t,controlHeight:r,controlHeightLG:a,controlHeightSM:o}=n;return{[e]:Object.assign({display:"inline-block",verticalAlign:"top",background:t},qv(r)),[`${e}${e}-circle`]:{borderRadius:"50%"},[`${e}${e}-lg`]:Object.assign({},qv(a)),[`${e}${e}-sm`]:Object.assign({},qv(o))}},hq=n=>{const{controlHeight:e,borderRadiusSM:t,skeletonInputCls:r,controlHeightLG:a,controlHeightSM:o,gradientFromColor:l,calc:s}=n;return{[r]:Object.assign({display:"inline-block",verticalAlign:"top",background:l,borderRadius:t},TM(e,s)),[`${r}-lg`]:Object.assign({},TM(a,s)),[`${r}-sm`]:Object.assign({},TM(o,s))}},DP=n=>Object.assign({width:n},Sw(n)),pq=n=>{const{skeletonImageCls:e,imageSizeBase:t,gradientFromColor:r,borderRadiusSM:a,calc:o}=n;return{[e]:Object.assign(Object.assign({display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"middle",background:r,borderRadius:a},DP(o(t).mul(2).equal())),{[`${e}-path`]:{fill:"#bfbfbf"},[`${e}-svg`]:Object.assign(Object.assign({},DP(t)),{maxWidth:o(t).mul(4).equal(),maxHeight:o(t).mul(4).equal()}),[`${e}-svg${e}-svg-circle`]:{borderRadius:"50%"}}),[`${e}${e}-circle`]:{borderRadius:"50%"}}},RM=(n,e,t)=>{const{skeletonButtonCls:r}=n;return{[`${t}${r}-circle`]:{width:e,minWidth:e,borderRadius:"50%"},[`${t}${r}-round`]:{borderRadius:e}}},OM=(n,e)=>Object.assign({width:e(n).mul(2).equal(),minWidth:e(n).mul(2).equal()},Sw(n)),mq=n=>{const{borderRadiusSM:e,skeletonButtonCls:t,controlHeight:r,controlHeightLG:a,controlHeightSM:o,gradientFromColor:l,calc:s}=n;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[t]:Object.assign({display:"inline-block",verticalAlign:"top",background:l,borderRadius:e,width:s(r).mul(2).equal(),minWidth:s(r).mul(2).equal()},OM(r,s))},RM(n,r,t)),{[`${t}-lg`]:Object.assign({},OM(a,s))}),RM(n,a,`${t}-lg`)),{[`${t}-sm`]:Object.assign({},OM(o,s))}),RM(n,o,`${t}-sm`))},gq=n=>{const{componentCls:e,skeletonAvatarCls:t,skeletonTitleCls:r,skeletonParagraphCls:a,skeletonButtonCls:o,skeletonInputCls:l,skeletonImageCls:s,controlHeight:u,controlHeightLG:d,controlHeightSM:g,gradientFromColor:y,padding:_,marginSM:C,borderRadius:c,titleHeight:p,blockRadius:m,paragraphLiHeight:b,controlHeightXS:E,paragraphMarginTop:T}=n;return{[e]:{display:"table",width:"100%",[`${e}-header`]:{display:"table-cell",paddingInlineEnd:_,verticalAlign:"top",[t]:Object.assign({display:"inline-block",verticalAlign:"top",background:y},qv(u)),[`${t}-circle`]:{borderRadius:"50%"},[`${t}-lg`]:Object.assign({},qv(d)),[`${t}-sm`]:Object.assign({},qv(g))},[`${e}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[r]:{width:"100%",height:p,background:y,borderRadius:m,[`+ ${a}`]:{marginBlockStart:g}},[a]:{padding:0,"> li":{width:"100%",height:b,listStyle:"none",background:y,borderRadius:m,"+ li":{marginBlockStart:E}}},[`${a}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${e}-content`]:{[`${r}, ${a} > li`]:{borderRadius:c}}},[`${e}-with-avatar ${e}-content`]:{[r]:{marginBlockStart:C,[`+ ${a}`]:{marginBlockStart:T}}},[`${e}${e}-element`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},mq(n)),dq(n)),hq(n)),pq(n)),[`${e}${e}-block`]:{width:"100%",[o]:{width:"100%"},[l]:{width:"100%"}},[`${e}${e}-active`]:{[`
        ${r},
        ${a} > li,
        ${t},
        ${o},
        ${l},
        ${s}
      `]:Object.assign({},fq(n))}}},vq=n=>{const{colorFillContent:e,colorFill:t}=n,r=e,a=t;return{color:r,colorGradientEnd:a,gradientFromColor:r,gradientToColor:a,titleHeight:n.controlHeight/2,blockRadius:n.borderRadiusSM,paragraphMarginTop:n.marginLG+n.marginXXS,paragraphLiHeight:n.controlHeight/2}},O0=oa("Skeleton",n=>{const{componentCls:e,calc:t}=n,r=sr(n,{skeletonAvatarCls:`${e}-avatar`,skeletonTitleCls:`${e}-title`,skeletonParagraphCls:`${e}-paragraph`,skeletonButtonCls:`${e}-button`,skeletonInputCls:`${e}-input`,skeletonImageCls:`${e}-image`,imageSizeBase:t(n.controlHeight).mul(1.5).equal(),borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${n.gradientFromColor} 25%, ${n.gradientToColor} 37%, ${n.gradientFromColor} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return[gq(r)]},vq,{deprecatedTokens:[["color","gradientFromColor"],["colorGradientEnd","gradientToColor"]]}),yq=n=>{const{prefixCls:e,className:t,rootClassName:r,active:a,shape:o="circle",size:l="default"}=n,{getPrefixCls:s}=A.useContext(qn),u=s("skeleton",e),[d,g,y]=O0(u),_=go(n,["prefixCls","className"]),C=et(u,`${u}-element`,{[`${u}-active`]:a},t,r,g,y);return d(A.createElement("div",{className:C},A.createElement(bw,Object.assign({prefixCls:`${u}-avatar`,shape:o,size:l},_))))},bq=n=>{const{prefixCls:e,className:t,rootClassName:r,active:a,block:o=!1,size:l="default"}=n,{getPrefixCls:s}=A.useContext(qn),u=s("skeleton",e),[d,g,y]=O0(u),_=go(n,["prefixCls"]),C=et(u,`${u}-element`,{[`${u}-active`]:a,[`${u}-block`]:o},t,r,g,y);return d(A.createElement("div",{className:C},A.createElement(bw,Object.assign({prefixCls:`${u}-button`,size:l},_))))},Sq="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",_q=n=>{const{prefixCls:e,className:t,rootClassName:r,style:a,active:o}=n,{getPrefixCls:l}=A.useContext(qn),s=l("skeleton",e),[u,d,g]=O0(s),y=et(s,`${s}-element`,{[`${s}-active`]:o},t,r,d,g);return u(A.createElement("div",{className:y},A.createElement("div",{className:et(`${s}-image`,t),style:a},A.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:`${s}-image-svg`},A.createElement("title",null,"Image placeholder"),A.createElement("path",{d:Sq,className:`${s}-image-path`})))))},xq=n=>{const{prefixCls:e,className:t,rootClassName:r,active:a,block:o,size:l="default"}=n,{getPrefixCls:s}=A.useContext(qn),u=s("skeleton",e),[d,g,y]=O0(u),_=go(n,["prefixCls"]),C=et(u,`${u}-element`,{[`${u}-active`]:a,[`${u}-block`]:o},t,r,g,y);return d(A.createElement("div",{className:C},A.createElement(bw,Object.assign({prefixCls:`${u}-input`,size:l},_))))},Cq=n=>{const{prefixCls:e,className:t,rootClassName:r,style:a,active:o,children:l}=n,{getPrefixCls:s}=A.useContext(qn),u=s("skeleton",e),[d,g,y]=O0(u),_=et(u,`${u}-element`,{[`${u}-active`]:o},g,t,r,y);return d(A.createElement("div",{className:_},A.createElement("div",{className:et(`${u}-image`,t),style:a},l)))},Eq=(n,e)=>{const{width:t,rows:r=2}=e;if(Array.isArray(t))return t[n];if(r-1===n)return t},wq=n=>{const{prefixCls:e,className:t,style:r,rows:a=0}=n,o=Array.from({length:a}).map((l,s)=>A.createElement("li",{key:s,style:{width:Eq(s,n)}}));return A.createElement("ul",{className:et(e,t),style:r},o)},Aq=n=>{let{prefixCls:e,className:t,width:r,style:a}=n;return A.createElement("h3",{className:et(e,t),style:Object.assign({width:r},a)})};function IM(n){return n&&typeof n=="object"?n:{}}function Mq(n,e){return n&&!e?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function Tq(n,e){return!n&&e?{width:"38%"}:n&&e?{width:"50%"}:{}}function Rq(n,e){const t={};return(!n||!e)&&(t.width="61%"),!n&&e?t.rows=3:t.rows=2,t}const Hm=n=>{const{prefixCls:e,loading:t,className:r,rootClassName:a,style:o,children:l,avatar:s=!1,title:u=!0,paragraph:d=!0,active:g,round:y}=n,{getPrefixCls:_,direction:C,className:c,style:p}=rf("skeleton"),m=_("skeleton",e),[b,E,T]=O0(m);if(t||!("loading"in n)){const R=!!s,O=!!u,D=!!d;let P;if(R){const z=Object.assign(Object.assign({prefixCls:`${m}-avatar`},Mq(O,D)),IM(s));P=A.createElement("div",{className:`${m}-header`},A.createElement(bw,Object.assign({},z)))}let F;if(O||D){let z;if(O){const J=Object.assign(Object.assign({prefixCls:`${m}-title`},Tq(R,D)),IM(u));z=A.createElement(Aq,Object.assign({},J))}let $;if(D){const J=Object.assign(Object.assign({prefixCls:`${m}-paragraph`},Rq(R,O)),IM(d));$=A.createElement(wq,Object.assign({},J))}F=A.createElement("div",{className:`${m}-content`},z,$)}const U=et(m,{[`${m}-with-avatar`]:R,[`${m}-active`]:g,[`${m}-rtl`]:C==="rtl",[`${m}-round`]:y},c,r,a,E,T);return b(A.createElement("div",{className:U,style:Object.assign(Object.assign({},p),o)},P,F))}return l??null};Hm.Button=bq;Hm.Avatar=yq;Hm.Input=xq;Hm.Image=_q;Hm.Node=Cq;function PP(){}const Oq=A.createContext({add:PP,remove:PP});function Iq(n){const e=A.useContext(Oq),t=A.useRef(null);return qa(a=>{if(a){const o=n?a.querySelector(n):a;e.add(o),t.current=o}else e.remove(t.current)})}const LP=()=>{const{cancelButtonProps:n,cancelTextLocale:e,onCancel:t}=A.useContext(AS);return We.createElement(fo,Object.assign({onClick:t},n),e)},NP=()=>{const{confirmLoading:n,okButtonProps:e,okType:t,okTextLocale:r,onOk:a}=A.useContext(AS);return We.createElement(fo,Object.assign({},TF(t),{loading:n,onClick:a},e),r)};function XF(n,e){return We.createElement("span",{className:`${n}-close-x`},e||We.createElement(A0,{className:`${n}-close-icon`}))}const YF=n=>{const{okText:e,okType:t="primary",cancelText:r,confirmLoading:a,onOk:o,onCancel:l,okButtonProps:s,cancelButtonProps:u,footer:d}=n,[g]=xS("Modal",zU()),y=e||(g==null?void 0:g.okText),_=r||(g==null?void 0:g.cancelText),C={confirmLoading:a,okButtonProps:s,cancelButtonProps:u,okTextLocale:y,cancelTextLocale:_,okType:t,onOk:o,onCancel:l},c=We.useMemo(()=>C,Jt(Object.values(C)));let p;return typeof d=="function"||typeof d>"u"?(p=We.createElement(We.Fragment,null,We.createElement(LP,null),We.createElement(NP,null)),typeof d=="function"&&(p=d(p,{OkBtn:NP,CancelBtn:LP})),p=We.createElement(LF,{value:c},p)):p=d,We.createElement(GU,{disabled:!1},p)},Bq=n=>{const{componentCls:e}=n;return{[e]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},Dq=n=>{const{componentCls:e}=n;return{[e]:{position:"relative",maxWidth:"100%",minHeight:1}}},Pq=(n,e)=>{const{prefixCls:t,componentCls:r,gridColumns:a}=n,o={};for(let l=a;l>=0;l--)l===0?(o[`${r}${e}-${l}`]={display:"none"},o[`${r}-push-${l}`]={insetInlineStart:"auto"},o[`${r}-pull-${l}`]={insetInlineEnd:"auto"},o[`${r}${e}-push-${l}`]={insetInlineStart:"auto"},o[`${r}${e}-pull-${l}`]={insetInlineEnd:"auto"},o[`${r}${e}-offset-${l}`]={marginInlineStart:0},o[`${r}${e}-order-${l}`]={order:0}):(o[`${r}${e}-${l}`]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:`0 0 ${l/a*100}%`,maxWidth:`${l/a*100}%`}],o[`${r}${e}-push-${l}`]={insetInlineStart:`${l/a*100}%`},o[`${r}${e}-pull-${l}`]={insetInlineEnd:`${l/a*100}%`},o[`${r}${e}-offset-${l}`]={marginInlineStart:`${l/a*100}%`},o[`${r}${e}-order-${l}`]={order:l});return o[`${r}${e}-flex`]={flex:`var(--${t}${e}-flex)`},o},i2=(n,e)=>Pq(n,e),Lq=(n,e,t)=>({[`@media (min-width: ${Pt(e)})`]:Object.assign({},i2(n,t))}),Nq=()=>({}),zq=()=>({}),Uq=oa("Grid",Bq,Nq),qF=n=>({xs:n.screenXSMin,sm:n.screenSMMin,md:n.screenMDMin,lg:n.screenLGMin,xl:n.screenXLMin,xxl:n.screenXXLMin}),Fq=oa("Grid",n=>{const e=sr(n,{gridColumns:24}),t=qF(e);return delete t.xs,[Dq(e),i2(e,""),i2(e,"-xs"),Object.keys(t).map(r=>Lq(e,t[r],`-${r}`)).reduce((r,a)=>Object.assign(Object.assign({},r),a),{})]},zq);function zP(n){return{position:n,inset:0}}const KF=n=>{const{componentCls:e,antCls:t}=n;return[{[`${e}-root`]:{[`${e}${t}-zoom-enter, ${e}${t}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:n.motionDurationSlow,userSelect:"none"},[`${e}${t}-zoom-leave ${e}-content`]:{pointerEvents:"none"},[`${e}-mask`]:Object.assign(Object.assign({},zP("fixed")),{zIndex:n.zIndexPopupBase,height:"100%",backgroundColor:n.colorBgMask,pointerEvents:"none",[`${e}-hidden`]:{display:"none"}}),[`${e}-wrap`]:Object.assign(Object.assign({},zP("fixed")),{zIndex:n.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{[`${e}-root`]:DO(n)}]},Hq=n=>{const{componentCls:e}=n;return[{[`${e}-root`]:{[`${e}-wrap-rtl`]:{direction:"rtl"},[`${e}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[e]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${n.screenSMMax}px)`]:{[e]:{maxWidth:"calc(100vw - 16px)",margin:`${Pt(n.marginXS)} auto`},[`${e}-centered`]:{[e]:{flex:1}}}}},{[e]:Object.assign(Object.assign({},Gl(n)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${Pt(n.calc(n.margin).mul(2).equal())})`,margin:"0 auto",paddingBottom:n.paddingLG,[`${e}-title`]:{margin:0,color:n.titleColor,fontWeight:n.fontWeightStrong,fontSize:n.titleFontSize,lineHeight:n.titleLineHeight,wordWrap:"break-word"},[`${e}-content`]:{position:"relative",backgroundColor:n.contentBg,backgroundClip:"padding-box",border:0,borderRadius:n.borderRadiusLG,boxShadow:n.boxShadow,pointerEvents:"auto",padding:n.contentPadding},[`${e}-close`]:Object.assign({position:"absolute",top:n.calc(n.modalHeaderHeight).sub(n.modalCloseBtnSize).div(2).equal(),insetInlineEnd:n.calc(n.modalHeaderHeight).sub(n.modalCloseBtnSize).div(2).equal(),zIndex:n.calc(n.zIndexPopupBase).add(10).equal(),padding:0,color:n.modalCloseIconColor,fontWeight:n.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:n.borderRadiusSM,width:n.modalCloseBtnSize,height:n.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${n.motionDurationMid}, background-color ${n.motionDurationMid}`,"&-x":{display:"flex",fontSize:n.fontSizeLG,fontStyle:"normal",lineHeight:Pt(n.modalCloseBtnSize),justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:disabled":{pointerEvents:"none"},"&:hover":{color:n.modalCloseIconHoverColor,backgroundColor:n.colorBgTextHover,textDecoration:"none"},"&:active":{backgroundColor:n.colorBgTextActive}},qU(n)),[`${e}-header`]:{color:n.colorText,background:n.headerBg,borderRadius:`${Pt(n.borderRadiusLG)} ${Pt(n.borderRadiusLG)} 0 0`,marginBottom:n.headerMarginBottom,padding:n.headerPadding,borderBottom:n.headerBorderBottom},[`${e}-body`]:{fontSize:n.fontSize,lineHeight:n.lineHeight,wordWrap:"break-word",padding:n.bodyPadding,[`${e}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:`${Pt(n.margin)} auto`}},[`${e}-footer`]:{textAlign:"end",background:n.footerBg,marginTop:n.footerMarginTop,padding:n.footerPadding,borderTop:n.footerBorderTop,borderRadius:n.footerBorderRadius,[`> ${n.antCls}-btn + ${n.antCls}-btn`]:{marginInlineStart:n.marginXS}},[`${e}-open`]:{overflow:"hidden"}})},{[`${e}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${e}-content,
          ${e}-body,
          ${e}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${e}-confirm-body`]:{marginBottom:"auto"}}}]},Gq=n=>{const{componentCls:e}=n;return{[`${e}-root`]:{[`${e}-wrap-rtl`]:{direction:"rtl",[`${e}-confirm-body`]:{direction:"rtl"}}}}},kq=n=>{const{componentCls:e}=n,t=qF(n);delete t.xs;const r=Object.keys(t).map(a=>({[`@media (min-width: ${Pt(t[a])})`]:{width:`var(--${e.replace(".","")}-${a}-width)`}}));return{[`${e}-root`]:{[e]:[{width:`var(--${e.replace(".","")}-xs-width)`}].concat(Jt(r))}}},JF=n=>{const e=n.padding,t=n.fontSizeHeading5,r=n.lineHeightHeading5;return sr(n,{modalHeaderHeight:n.calc(n.calc(r).mul(t).equal()).add(n.calc(e).mul(2).equal()).equal(),modalFooterBorderColorSplit:n.colorSplit,modalFooterBorderStyle:n.lineType,modalFooterBorderWidth:n.lineWidth,modalCloseIconColor:n.colorIcon,modalCloseIconHoverColor:n.colorIconHover,modalCloseBtnSize:n.controlHeight,modalConfirmIconSize:n.fontHeight,modalTitleHeight:n.calc(n.titleFontSize).mul(n.titleLineHeight).equal()})},QF=n=>({footerBg:"transparent",headerBg:n.colorBgElevated,titleLineHeight:n.lineHeightHeading5,titleFontSize:n.fontSizeHeading5,contentBg:n.colorBgElevated,titleColor:n.colorTextHeading,contentPadding:n.wireframe?0:`${Pt(n.paddingMD)} ${Pt(n.paddingContentHorizontalLG)}`,headerPadding:n.wireframe?`${Pt(n.padding)} ${Pt(n.paddingLG)}`:0,headerBorderBottom:n.wireframe?`${Pt(n.lineWidth)} ${n.lineType} ${n.colorSplit}`:"none",headerMarginBottom:n.wireframe?0:n.marginXS,bodyPadding:n.wireframe?n.paddingLG:0,footerPadding:n.wireframe?`${Pt(n.paddingXS)} ${Pt(n.padding)}`:0,footerBorderTop:n.wireframe?`${Pt(n.lineWidth)} ${n.lineType} ${n.colorSplit}`:"none",footerBorderRadius:n.wireframe?`0 0 ${Pt(n.borderRadiusLG)} ${Pt(n.borderRadiusLG)}`:0,footerMarginTop:n.wireframe?0:n.marginSM,confirmBodyPadding:n.wireframe?`${Pt(n.padding*2)} ${Pt(n.padding*2)} ${Pt(n.paddingLG)}`:0,confirmIconMarginInlineEnd:n.wireframe?n.margin:n.marginSM,confirmBtnsMarginTop:n.wireframe?n.marginLG:n.marginSM}),ZF=oa("Modal",n=>{const e=JF(n);return[Hq(e),Gq(e),KF(e),wS(e,"zoom"),kq(e)]},QF,{unitless:{titleLineHeight:!0}});var $q=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};let r2;const Vq=n=>{r2={x:n.pageX,y:n.pageY},setTimeout(()=>{r2=null},100)};cq()&&document.documentElement.addEventListener("click",Vq,!0);const e4=n=>{var e;const{getPopupContainer:t,getPrefixCls:r,direction:a,modal:o}=A.useContext(qn),l=xe=>{const{onCancel:Oe}=n;Oe==null||Oe(xe)},s=xe=>{const{onOk:Oe}=n;Oe==null||Oe(xe)},{prefixCls:u,className:d,rootClassName:g,open:y,wrapClassName:_,centered:C,getContainer:c,focusTriggerAfterClose:p=!0,style:m,visible:b,width:E=520,footer:T,classNames:R,styles:O,children:D,loading:P}=n,F=$q(n,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading"]),U=r("modal",u),z=r(),$=Yc(U),[J,W,Z]=ZF(U,$),oe=et(_,{[`${U}-centered`]:C??(o==null?void 0:o.centered),[`${U}-wrap-rtl`]:a==="rtl"}),Y=T!==null&&!P?A.createElement(YF,Object.assign({},n,{onOk:s,onCancel:l})):null,[K,ee,ue]=WF(z1(n),z1(o),{closable:!0,closeIcon:A.createElement(A0,{className:`${U}-close-icon`}),closeIconRender:xe=>XF(U,xe)}),q=Iq(`.${U}-content`),[ie,me]=CS("Modal",F.zIndex),[de,Q]=A.useMemo(()=>E&&typeof E=="object"?[void 0,E]:[E,void 0],[E]),he=A.useMemo(()=>{const xe={};return Q&&Object.keys(Q).forEach(Oe=>{const Ae=Q[Oe];Ae!==void 0&&(xe[`--${U}-${Oe}-width`]=typeof Ae=="number"?`${Ae}px`:Ae)}),xe},[Q]);return J(A.createElement(N1,{form:!0,space:!0},A.createElement(TO.Provider,{value:me},A.createElement(NO,Object.assign({width:de},F,{zIndex:ie,getContainer:c===void 0?t:c,prefixCls:U,rootClassName:et(W,g,Z,$),footer:Y,visible:y??b,mousePosition:(e=F.mousePosition)!==null&&e!==void 0?e:r2,onClose:l,closable:K&&{disabled:ue,closeIcon:ee},closeIcon:ee,focusTriggerAfterClose:p,transitionName:Qu(z,"zoom",n.transitionName),maskTransitionName:Qu(z,"fade",n.maskTransitionName),className:et(W,d,o==null?void 0:o.className),style:Object.assign(Object.assign(Object.assign({},o==null?void 0:o.style),m),he),classNames:Object.assign(Object.assign(Object.assign({},o==null?void 0:o.classNames),R),{wrapper:et(oe,R==null?void 0:R.wrapper)}),styles:Object.assign(Object.assign({},o==null?void 0:o.styles),O),panelRef:q}),P?A.createElement(Hm,{active:!0,title:!1,paragraph:{rows:4},className:`${U}-body-skeleton`}):D))))},jq=n=>{const{componentCls:e,titleFontSize:t,titleLineHeight:r,modalConfirmIconSize:a,fontSize:o,lineHeight:l,modalTitleHeight:s,fontHeight:u,confirmBodyPadding:d}=n,g=`${e}-confirm`;return{[g]:{"&-rtl":{direction:"rtl"},[`${n.antCls}-modal-header`]:{display:"none"},[`${g}-body-wrapper`]:Object.assign({},c0()),[`&${e} ${e}-body`]:{padding:d},[`${g}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${n.iconCls}`]:{flex:"none",fontSize:a,marginInlineEnd:n.confirmIconMarginInlineEnd,marginTop:n.calc(n.calc(u).sub(a).equal()).div(2).equal()},[`&-has-title > ${n.iconCls}`]:{marginTop:n.calc(n.calc(s).sub(a).equal()).div(2).equal()}},[`${g}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:n.marginXS,maxWidth:`calc(100% - ${Pt(n.marginSM)})`},[`${n.iconCls} + ${g}-paragraph`]:{maxWidth:`calc(100% - ${Pt(n.calc(n.modalConfirmIconSize).add(n.marginSM).equal())})`},[`${g}-title`]:{color:n.colorTextHeading,fontWeight:n.fontWeightStrong,fontSize:t,lineHeight:r},[`${g}-content`]:{color:n.colorText,fontSize:o,lineHeight:l},[`${g}-btns`]:{textAlign:"end",marginTop:n.confirmBtnsMarginTop,[`${n.antCls}-btn + ${n.antCls}-btn`]:{marginBottom:0,marginInlineStart:n.marginXS}}},[`${g}-error ${g}-body > ${n.iconCls}`]:{color:n.colorError},[`${g}-warning ${g}-body > ${n.iconCls},
        ${g}-confirm ${g}-body > ${n.iconCls}`]:{color:n.colorWarning},[`${g}-info ${g}-body > ${n.iconCls}`]:{color:n.colorInfo},[`${g}-success ${g}-body > ${n.iconCls}`]:{color:n.colorSuccess}}},Wq=lw(["Modal","confirm"],n=>{const e=JF(n);return[jq(e)]},QF,{order:-1e3});var Xq=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};function t4(n){const{prefixCls:e,icon:t,okText:r,cancelText:a,confirmPrefixCls:o,type:l,okCancel:s,footer:u,locale:d}=n,g=Xq(n,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let y=t;if(!t&&t!==null)switch(l){case"info":y=A.createElement(rU,null);break;case"success":y=A.createElement(mO,null);break;case"error":y=A.createElement(ew,null);break;default:y=A.createElement(iU,null)}const _=s??l==="confirm",C=n.autoFocusButton===null?!1:n.autoFocusButton||"ok",[c]=xS("Modal"),p=d||c,m=r||(_?p==null?void 0:p.okText:p==null?void 0:p.justOkText),b=a||(p==null?void 0:p.cancelText),E=Object.assign({autoFocusButton:C,cancelTextLocale:b,okTextLocale:m,mergedOkCancel:_},g),T=A.useMemo(()=>E,Jt(Object.values(E))),R=A.createElement(A.Fragment,null,A.createElement(dP,null),A.createElement(hP,null)),O=n.title!==void 0&&n.title!==null,D=`${o}-body`;return A.createElement("div",{className:`${o}-body-wrapper`},A.createElement("div",{className:et(D,{[`${D}-has-title`]:O})},y,A.createElement("div",{className:`${o}-paragraph`},O&&A.createElement("span",{className:`${o}-title`},n.title),A.createElement("div",{className:`${o}-content`},n.content))),u===void 0||typeof u=="function"?A.createElement(LF,{value:T},A.createElement("div",{className:`${o}-btns`},typeof u=="function"?u(R,{OkBtn:hP,CancelBtn:dP}):R)):u,A.createElement(Wq,{prefixCls:e}))}const Yq=n=>{const{close:e,zIndex:t,maskStyle:r,direction:a,prefixCls:o,wrapClassName:l,rootPrefixCls:s,bodyStyle:u,closable:d=!1,onConfirm:g,styles:y}=n,_=`${o}-confirm`,C=n.width||416,c=n.style||{},p=n.mask===void 0?!0:n.mask,m=n.maskClosable===void 0?!1:n.maskClosable,b=et(_,`${_}-${n.type}`,{[`${_}-rtl`]:a==="rtl"},n.className),[,E]=af(),T=A.useMemo(()=>t!==void 0?t:E.zIndexPopupBase+vF,[t,E]);return A.createElement(e4,Object.assign({},n,{className:b,wrapClassName:et({[`${_}-centered`]:!!n.centered},l),onCancel:()=>{e==null||e({triggerCancel:!0}),g==null||g(!1)},title:"",footer:null,transitionName:Qu(s||"","zoom",n.transitionName),maskTransitionName:Qu(s||"","fade",n.maskTransitionName),mask:p,maskClosable:m,style:c,styles:Object.assign({body:u,mask:r},y),width:C,zIndex:T,closable:d}),A.createElement(t4,Object.assign({},n,{confirmPrefixCls:_})))},n4=n=>{const{rootPrefixCls:e,iconPrefixCls:t,direction:r,theme:a}=n;return A.createElement(bd,{prefixCls:e,iconPrefixCls:t,direction:r,theme:a},A.createElement(Yq,Object.assign({},n)))},fm=[];let i4="";function r4(){return i4}const qq=n=>{var e,t;const{prefixCls:r,getContainer:a,direction:o}=n,l=zU(),s=A.useContext(qn),u=r4()||s.getPrefixCls(),d=r||`${u}-modal`;let g=a;return g===!1&&(g=void 0),We.createElement(n4,Object.assign({},n,{rootPrefixCls:u,prefixCls:d,iconPrefixCls:s.iconPrefixCls,theme:s.theme,direction:o??s.direction,locale:(t=(e=s.locale)===null||e===void 0?void 0:e.Modal)!==null&&t!==void 0?t:l,getContainer:g}))};function RS(n){const e=dF(),t=document.createDocumentFragment();let r=Object.assign(Object.assign({},n),{close:u,open:!0}),a,o;function l(){for(var g,y=arguments.length,_=new Array(y),C=0;C<y;C++)_[C]=arguments[C];if(_.some(m=>m==null?void 0:m.triggerCancel)){var p;(g=n.onCancel)===null||g===void 0||(p=g).call.apply(p,[n,()=>{}].concat(Jt(_.slice(1))))}for(let m=0;m<fm.length;m++)if(fm[m]===u){fm.splice(m,1);break}o()}function s(g){clearTimeout(a),a=setTimeout(()=>{const y=e.getPrefixCls(void 0,r4()),_=e.getIconPrefixCls(),C=e.getTheme(),c=We.createElement(qq,Object.assign({},g));o=OO()(We.createElement(bd,{prefixCls:y,iconPrefixCls:_,theme:C},e.holderRender?e.holderRender(c):c),t)})}function u(){for(var g=arguments.length,y=new Array(g),_=0;_<g;_++)y[_]=arguments[_];r=Object.assign(Object.assign({},r),{open:!1,afterClose:()=>{typeof n.afterClose=="function"&&n.afterClose(),l.apply(this,y)}}),r.visible&&delete r.visible,s(r)}function d(g){typeof g=="function"?r=g(r):r=Object.assign(Object.assign({},r),g),s(r)}return s(r),fm.push(u),{destroy:u,update:d}}function a4(n){return Object.assign(Object.assign({},n),{type:"warning"})}function o4(n){return Object.assign(Object.assign({},n),{type:"info"})}function s4(n){return Object.assign(Object.assign({},n),{type:"success"})}function l4(n){return Object.assign(Object.assign({},n),{type:"error"})}function c4(n){return Object.assign(Object.assign({},n),{type:"confirm"})}function Kq(n){let{rootPrefixCls:e}=n;i4=e}var Jq=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const Qq=(n,e)=>{var t,{afterClose:r,config:a}=n,o=Jq(n,["afterClose","config"]);const[l,s]=A.useState(!0),[u,d]=A.useState(a),{direction:g,getPrefixCls:y}=A.useContext(qn),_=y("modal"),C=y(),c=()=>{var E;r(),(E=u.afterClose)===null||E===void 0||E.call(u)},p=function(){var E;s(!1);for(var T=arguments.length,R=new Array(T),O=0;O<T;O++)R[O]=arguments[O];if(R.some(F=>F==null?void 0:F.triggerCancel)){var P;(E=u.onCancel)===null||E===void 0||(P=E).call.apply(P,[u,()=>{}].concat(Jt(R.slice(1))))}};A.useImperativeHandle(e,()=>({destroy:p,update:E=>{d(T=>Object.assign(Object.assign({},T),E))}}));const m=(t=u.okCancel)!==null&&t!==void 0?t:u.type==="confirm",[b]=xS("Modal",Lh.Modal);return A.createElement(n4,Object.assign({prefixCls:_,rootPrefixCls:C},u,{close:p,open:l,afterClose:c,okText:u.okText||(m?b==null?void 0:b.okText:b==null?void 0:b.justOkText),direction:u.direction||g,cancelText:u.cancelText||(b==null?void 0:b.cancelText)},o))},Zq=A.forwardRef(Qq);let UP=0;const eK=A.memo(A.forwardRef((n,e)=>{const[t,r]=hW();return A.useImperativeHandle(e,()=>({patchElement:r}),[]),A.createElement(A.Fragment,null,t)}));function tK(){const n=A.useRef(null),[e,t]=A.useState([]);A.useEffect(()=>{e.length&&(Jt(e).forEach(l=>{l()}),t([]))},[e]);const r=A.useCallback(o=>function(s){var u;UP+=1;const d=A.createRef();let g;const y=new Promise(m=>{g=m});let _=!1,C;const c=A.createElement(Zq,{key:`modal-${UP}`,config:o(s),ref:d,afterClose:()=>{C==null||C()},isSilent:()=>_,onConfirm:m=>{g(m)}});return C=(u=n.current)===null||u===void 0?void 0:u.patchElement(c),C&&fm.push(C),{destroy:()=>{function m(){var b;(b=d.current)===null||b===void 0||b.destroy()}d.current?m():t(b=>[].concat(Jt(b),[m]))},update:m=>{function b(){var E;(E=d.current)===null||E===void 0||E.update(m)}d.current?b():t(E=>[].concat(Jt(E),[b]))},then:m=>(_=!0,y.then(m))}},[]);return[A.useMemo(()=>({info:r(o4),success:r(s4),error:r(l4),warning:r(a4),confirm:r(c4)}),[]),A.createElement(eK,{key:"modal-holder",ref:n})]}const nK=We.createContext({});function iK(n){return e=>A.createElement(bd,{theme:{token:{motion:!1,zIndexPopupBase:0}}},A.createElement(n,Object.assign({},e)))}const rK=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var n=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(n)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(n==null?void 0:n.substr(0,4))};var aK=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],Fg=void 0;function oK(n,e){var t=n.prefixCls,r=n.invalidate,a=n.item,o=n.renderItem,l=n.responsive,s=n.responsiveDisabled,u=n.registerSize,d=n.itemKey,g=n.className,y=n.style,_=n.children,C=n.display,c=n.order,p=n.component,m=p===void 0?"div":p,b=$n(n,aK),E=l&&!C;function T(F){u(d,F)}A.useEffect(function(){return function(){T(null)}},[]);var R=o&&a!==Fg?o(a,{index:c}):_,O;r||(O={opacity:E?0:1,height:E?0:Fg,overflowY:E?"hidden":Fg,order:l?c:Fg,pointerEvents:E?"none":Fg,position:E?"absolute":Fg});var D={};E&&(D["aria-hidden"]=!0);var P=A.createElement(m,Nt({className:et(!r&&t,g),style:Ne(Ne({},O),y)},D,b,{ref:e}),R);return l&&(P=A.createElement(Um,{onResize:function(U){var z=U.offsetWidth;T(z)},disabled:s},P)),P}var Ob=A.forwardRef(oK);Ob.displayName="Item";function sK(n){if(typeof MessageChannel>"u")ho(n);else{var e=new MessageChannel;e.port1.onmessage=function(){return n()},e.port2.postMessage(void 0)}}function lK(){var n=A.useRef(null),e=function(r){n.current||(n.current=[],sK(function(){Ph.unstable_batchedUpdates(function(){n.current.forEach(function(a){a()}),n.current=null})})),n.current.push(r)};return e}function Fy(n,e){var t=A.useState(e),r=bt(t,2),a=r[0],o=r[1],l=qa(function(s){n(function(){o(s)})});return[a,l]}var U1=We.createContext(null),cK=["component"],uK=["className"],fK=["className"],dK=function(e,t){var r=A.useContext(U1);if(!r){var a=e.component,o=a===void 0?"div":a,l=$n(e,cK);return A.createElement(o,Nt({},l,{ref:t}))}var s=r.className,u=$n(r,uK),d=e.className,g=$n(e,fK);return A.createElement(U1.Provider,{value:null},A.createElement(Ob,Nt({ref:t,className:et(s,d)},u,g)))},u4=A.forwardRef(dK);u4.displayName="RawItem";var hK=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],f4="responsive",d4="invalidate";function pK(n){return"+ ".concat(n.length," ...")}function mK(n,e){var t=n.prefixCls,r=t===void 0?"rc-overflow":t,a=n.data,o=a===void 0?[]:a,l=n.renderItem,s=n.renderRawItem,u=n.itemKey,d=n.itemWidth,g=d===void 0?10:d,y=n.ssr,_=n.style,C=n.className,c=n.maxCount,p=n.renderRest,m=n.renderRawRest,b=n.suffix,E=n.component,T=E===void 0?"div":E,R=n.itemComponent,O=n.onVisibleChange,D=$n(n,hK),P=y==="full",F=lK(),U=Fy(F,null),z=bt(U,2),$=z[0],J=z[1],W=$||0,Z=Fy(F,new Map),oe=bt(Z,2),Y=oe[0],K=oe[1],ee=Fy(F,0),ue=bt(ee,2),q=ue[0],ie=ue[1],me=Fy(F,0),de=bt(me,2),Q=de[0],he=de[1],xe=Fy(F,0),Oe=bt(xe,2),Ae=Oe[0],Te=Oe[1],ze=A.useState(null),vt=bt(ze,2),Be=vt[0],Ce=vt[1],re=A.useState(null),Fe=bt(re,2),Ie=Fe[0],Ye=Fe[1],ke=A.useMemo(function(){return Ie===null&&P?Number.MAX_SAFE_INTEGER:Ie||0},[Ie,$]),lt=A.useState(!1),ot=bt(lt,2),ce=ot[0],ae=ot[1],we="".concat(r,"-item"),De=Math.max(q,Q),qe=c===f4,He=o.length&&qe,gt=c===d4,st=He||typeof c=="number"&&o.length>c,pt=A.useMemo(function(){var qt=o;return He?$===null&&P?qt=o:qt=o.slice(0,Math.min(o.length,W/g)):typeof c=="number"&&(qt=o.slice(0,c)),qt},[o,g,$,c,He]),Ot=A.useMemo(function(){return He?o.slice(ke+1):o.slice(pt.length)},[o,pt,He,ke]),at=A.useCallback(function(qt,Dt){var Yt;return typeof u=="function"?u(qt):(Yt=u&&(qt==null?void 0:qt[u]))!==null&&Yt!==void 0?Yt:Dt},[u]),_t=A.useCallback(l||function(qt){return qt},[l]);function Ct(qt,Dt,Yt){Ie===qt&&(Dt===void 0||Dt===Be)||(Ye(qt),Yt||(ae(qt<o.length-1),O==null||O(qt)),Dt!==void 0&&Ce(Dt))}function je(qt,Dt){J(Dt.clientWidth)}function it(qt,Dt){K(function(Yt){var yn=new Map(Yt);return Dt===null?yn.delete(qt):yn.set(qt,Dt),yn})}function Se(qt,Dt){he(Dt),ie(Q)}function Ge(qt,Dt){Te(Dt)}function St(qt){return Y.get(at(pt[qt],qt))}Ca(function(){if(W&&typeof De=="number"&&pt){var qt=Ae,Dt=pt.length,Yt=Dt-1;if(!Dt){Ct(0,null);return}for(var yn=0;yn<Dt;yn+=1){var lr=St(yn);if(P&&(lr=lr||0),lr===void 0){Ct(yn-1,void 0,!0);break}if(qt+=lr,Yt===0&&qt<=W||yn===Yt-1&&qt+St(Yt)<=W){Ct(Yt,null);break}else if(qt+De>W){Ct(yn-1,qt-lr-Ae+Q);break}}b&&St(0)+Ae>W&&Ce(null)}},[W,Y,Q,Ae,at,pt]);var Me=ce&&!!Ot.length,xt={};Be!==null&&He&&(xt={position:"absolute",left:Be,top:0});var Qe={prefixCls:we,responsive:He,component:R,invalidate:gt},mt=s?function(qt,Dt){var Yt=at(qt,Dt);return A.createElement(U1.Provider,{key:Yt,value:Ne(Ne({},Qe),{},{order:Dt,item:qt,itemKey:Yt,registerSize:it,display:Dt<=ke})},s(qt,Dt))}:function(qt,Dt){var Yt=at(qt,Dt);return A.createElement(Ob,Nt({},Qe,{order:Dt,key:Yt,item:qt,renderItem:_t,itemKey:Yt,registerSize:it,display:Dt<=ke}))},Lt={order:Me?ke:Number.MAX_SAFE_INTEGER,className:"".concat(we,"-rest"),registerSize:Se,display:Me},It=p||pK,Qt=m?A.createElement(U1.Provider,{value:Ne(Ne({},Qe),Lt)},m(Ot)):A.createElement(Ob,Nt({},Qe,Lt),typeof It=="function"?It(Ot):It),sn=A.createElement(T,Nt({className:et(!gt&&r,C),style:_,ref:e},D),pt.map(mt),st?Qt:null,b&&A.createElement(Ob,Nt({},Qe,{responsive:qe,responsiveDisabled:!He,order:ke,className:"".concat(we,"-suffix"),registerSize:Ge,display:!0,style:xt}),b));return qe?A.createElement(Um,{onResize:je,disabled:!He},sn):sn}var ld=A.forwardRef(mK);ld.displayName="Overflow";ld.Item=u4;ld.RESPONSIVE=f4;ld.INVALIDATE=d4;function gK(n){var e=n.prefixCls,t=n.align,r=n.arrow,a=n.arrowPos,o=r||{},l=o.className,s=o.content,u=a.x,d=u===void 0?0:u,g=a.y,y=g===void 0?0:g,_=A.useRef();if(!t||!t.points)return null;var C={position:"absolute"};if(t.autoArrow!==!1){var c=t.points[0],p=t.points[1],m=c[0],b=c[1],E=p[0],T=p[1];m===E||!["t","b"].includes(m)?C.top=y:m==="t"?C.top=0:C.bottom=0,b===T||!["l","r"].includes(b)?C.left=d:b==="l"?C.left=0:C.right=0}return A.createElement("div",{ref:_,className:et("".concat(e,"-arrow"),l),style:C},s)}function vK(n){var e=n.prefixCls,t=n.open,r=n.zIndex,a=n.mask,o=n.motion;return a?A.createElement(Xc,Nt({},o,{motionAppear:!0,visible:t,removeOnLeave:!0}),function(l){var s=l.className;return A.createElement("div",{style:{zIndex:r},className:et("".concat(e,"-mask"),s)})}):null}var yK=A.memo(function(n){var e=n.children;return e},function(n,e){return e.cache}),bK=A.forwardRef(function(n,e){var t=n.popup,r=n.className,a=n.prefixCls,o=n.style,l=n.target,s=n.onVisibleChanged,u=n.open,d=n.keepDom,g=n.fresh,y=n.onClick,_=n.mask,C=n.arrow,c=n.arrowPos,p=n.align,m=n.motion,b=n.maskMotion,E=n.forceRender,T=n.getPopupContainer,R=n.autoDestroy,O=n.portal,D=n.zIndex,P=n.onMouseEnter,F=n.onMouseLeave,U=n.onPointerEnter,z=n.onPointerDownCapture,$=n.ready,J=n.offsetX,W=n.offsetY,Z=n.offsetR,oe=n.offsetB,Y=n.onAlign,K=n.onPrepare,ee=n.stretch,ue=n.targetWidth,q=n.targetHeight,ie=typeof t=="function"?t():t,me=u||d,de=(T==null?void 0:T.length)>0,Q=A.useState(!T||!de),he=bt(Q,2),xe=he[0],Oe=he[1];if(Ca(function(){!xe&&de&&l&&Oe(!0)},[xe,de,l]),!xe)return null;var Ae="auto",Te={left:"-1000vw",top:"-1000vh",right:Ae,bottom:Ae};if($||!u){var ze,vt=p.points,Be=p.dynamicInset||((ze=p._experimental)===null||ze===void 0?void 0:ze.dynamicInset),Ce=Be&&vt[0][1]==="r",re=Be&&vt[0][0]==="b";Ce?(Te.right=Z,Te.left=Ae):(Te.left=J,Te.right=Ae),re?(Te.bottom=oe,Te.top=Ae):(Te.top=W,Te.bottom=Ae)}var Fe={};return ee&&(ee.includes("height")&&q?Fe.height=q:ee.includes("minHeight")&&q&&(Fe.minHeight=q),ee.includes("width")&&ue?Fe.width=ue:ee.includes("minWidth")&&ue&&(Fe.minWidth=ue)),u||(Fe.pointerEvents="none"),A.createElement(O,{open:E||me,getContainer:T&&function(){return T(l)},autoDestroy:R},A.createElement(vK,{prefixCls:a,open:u,zIndex:D,mask:_,motion:b}),A.createElement(Um,{onResize:Y,disabled:!u},function(Ie){return A.createElement(Xc,Nt({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:E,leavedClassName:"".concat(a,"-hidden")},m,{onAppearPrepare:K,onEnterPrepare:K,visible:u,onVisibleChanged:function(ke){var lt;m==null||(lt=m.onVisibleChanged)===null||lt===void 0||lt.call(m,ke),s(ke)}}),function(Ye,ke){var lt=Ye.className,ot=Ye.style,ce=et(a,lt,r);return A.createElement("div",{ref:$h(Ie,e,ke),className:ce,style:Ne(Ne(Ne(Ne({"--arrow-x":"".concat(c.x||0,"px"),"--arrow-y":"".concat(c.y||0,"px")},Te),Fe),ot),{},{boxSizing:"border-box",zIndex:D},o),onMouseEnter:P,onMouseLeave:F,onPointerEnter:U,onClick:y,onPointerDownCapture:z},C&&A.createElement(gK,{prefixCls:a,arrow:C,arrowPos:c,align:p}),A.createElement(yK,{cache:!u&&!g},ie))})}))}),SK=A.forwardRef(function(n,e){var t=n.children,r=n.getTriggerDOMNode,a=SS(t),o=A.useCallback(function(s){vO(e,r?r(s):s)},[r]),l=M0(o,nw(t));return a?A.cloneElement(t,{ref:l}):t}),FP=A.createContext(null);function HP(n){return n?Array.isArray(n)?n:[n]:[]}function _K(n,e,t,r){return A.useMemo(function(){var a=HP(t??e),o=HP(r??e),l=new Set(a),s=new Set(o);return n&&(l.has("hover")&&(l.delete("hover"),l.add("click")),s.has("hover")&&(s.delete("hover"),s.add("click"))),[l,s]},[n,e,t,r])}function xK(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=arguments.length>2?arguments[2]:void 0;return t?n[0]===e[0]:n[0]===e[0]&&n[1]===e[1]}function CK(n,e,t,r){for(var a=t.points,o=Object.keys(n),l=0;l<o.length;l+=1){var s,u=o[l];if(xK((s=n[u])===null||s===void 0?void 0:s.points,a,r))return"".concat(e,"-placement-").concat(u)}return""}function GP(n,e,t,r){return e||(t?{motionName:"".concat(n,"-").concat(t)}:r?{motionName:r}:null)}function OS(n){return n.ownerDocument.defaultView}function a2(n){for(var e=[],t=n==null?void 0:n.parentElement,r=["hidden","scroll","clip","auto"];t;){var a=OS(t).getComputedStyle(t),o=a.overflowX,l=a.overflowY,s=a.overflow;[o,l,s].some(function(u){return r.includes(u)})&&e.push(t),t=t.parentElement}return e}function eS(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(n)?e:n}function Hy(n){return eS(parseFloat(n),0)}function kP(n,e){var t=Ne({},n);return(e||[]).forEach(function(r){if(!(r instanceof HTMLBodyElement||r instanceof HTMLHtmlElement)){var a=OS(r).getComputedStyle(r),o=a.overflow,l=a.overflowClipMargin,s=a.borderTopWidth,u=a.borderBottomWidth,d=a.borderLeftWidth,g=a.borderRightWidth,y=r.getBoundingClientRect(),_=r.offsetHeight,C=r.clientHeight,c=r.offsetWidth,p=r.clientWidth,m=Hy(s),b=Hy(u),E=Hy(d),T=Hy(g),R=eS(Math.round(y.width/c*1e3)/1e3),O=eS(Math.round(y.height/_*1e3)/1e3),D=(c-p-E-T)*R,P=(_-C-m-b)*O,F=m*O,U=b*O,z=E*R,$=T*R,J=0,W=0;if(o==="clip"){var Z=Hy(l);J=Z*R,W=Z*O}var oe=y.x+z-J,Y=y.y+F-W,K=oe+y.width+2*J-z-$-D,ee=Y+y.height+2*W-F-U-P;t.left=Math.max(t.left,oe),t.top=Math.max(t.top,Y),t.right=Math.min(t.right,K),t.bottom=Math.min(t.bottom,ee)}}),t}function $P(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t="".concat(e),r=t.match(/^(.*)\%$/);return r?n*(parseFloat(r[1])/100):parseFloat(t)}function VP(n,e){var t=e||[],r=bt(t,2),a=r[0],o=r[1];return[$P(n.width,a),$P(n.height,o)]}function jP(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[n[0],n[1]]}function Hg(n,e){var t=e[0],r=e[1],a,o;return t==="t"?o=n.y:t==="b"?o=n.y+n.height:o=n.y+n.height/2,r==="l"?a=n.x:r==="r"?a=n.x+n.width:a=n.x+n.width/2,{x:a,y:o}}function ih(n,e){var t={t:"b",b:"t",l:"r",r:"l"};return n.map(function(r,a){return a===e?t[r]||"c":r}).join("")}function EK(n,e,t,r,a,o,l){var s=A.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:a[r]||{}}),u=bt(s,2),d=u[0],g=u[1],y=A.useRef(0),_=A.useMemo(function(){return e?a2(e):[]},[e]),C=A.useRef({}),c=function(){C.current={}};n||c();var p=qa(function(){if(e&&t&&n){let _r=function(La,ma){var Aa=arguments.length>2&&arguments[2]!==void 0?arguments[2]:De,Is=Q.x+La,yo=Q.y+ma,Vl=Is+Ce,tn=yo+Be,Sn=Math.max(Is,Aa.left),Mi=Math.max(yo,Aa.top),xi=Math.min(Vl,Aa.right),Hi=Math.min(tn,Aa.bottom);return Math.max(0,(xi-Sn)*(Hi-Mi))},Go=function(){Lr=Q.y+Yt,Nr=Lr+Be,Tr=Q.x+Dt,Rr=Tr+Ce};var lf=_r,Qc=Go,E,T,R,O,D=e,P=D.ownerDocument,F=OS(D),U=F.getComputedStyle(D),z=U.width,$=U.height,J=U.position,W=D.style.left,Z=D.style.top,oe=D.style.right,Y=D.style.bottom,K=D.style.overflow,ee=Ne(Ne({},a[r]),o),ue=P.createElement("div");(E=D.parentElement)===null||E===void 0||E.appendChild(ue),ue.style.left="".concat(D.offsetLeft,"px"),ue.style.top="".concat(D.offsetTop,"px"),ue.style.position=J,ue.style.height="".concat(D.offsetHeight,"px"),ue.style.width="".concat(D.offsetWidth,"px"),D.style.left="0",D.style.top="0",D.style.right="auto",D.style.bottom="auto",D.style.overflow="hidden";var q;if(Array.isArray(t))q={x:t[0],y:t[1],width:0,height:0};else{var ie,me,de=t.getBoundingClientRect();de.x=(ie=de.x)!==null&&ie!==void 0?ie:de.left,de.y=(me=de.y)!==null&&me!==void 0?me:de.top,q={x:de.x,y:de.y,width:de.width,height:de.height}}var Q=D.getBoundingClientRect();Q.x=(T=Q.x)!==null&&T!==void 0?T:Q.left,Q.y=(R=Q.y)!==null&&R!==void 0?R:Q.top;var he=P.documentElement,xe=he.clientWidth,Oe=he.clientHeight,Ae=he.scrollWidth,Te=he.scrollHeight,ze=he.scrollTop,vt=he.scrollLeft,Be=Q.height,Ce=Q.width,re=q.height,Fe=q.width,Ie={left:0,top:0,right:xe,bottom:Oe},Ye={left:-vt,top:-ze,right:Ae-vt,bottom:Te-ze},ke=ee.htmlRegion,lt="visible",ot="visibleFirst";ke!=="scroll"&&ke!==ot&&(ke=lt);var ce=ke===ot,ae=kP(Ye,_),we=kP(Ie,_),De=ke===lt?we:ae,qe=ce?we:De;D.style.left="auto",D.style.top="auto",D.style.right="0",D.style.bottom="0";var He=D.getBoundingClientRect();D.style.left=W,D.style.top=Z,D.style.right=oe,D.style.bottom=Y,D.style.overflow=K,(O=D.parentElement)===null||O===void 0||O.removeChild(ue);var gt=eS(Math.round(Ce/parseFloat(z)*1e3)/1e3),st=eS(Math.round(Be/parseFloat($)*1e3)/1e3);if(gt===0||st===0||Xb(t)&&!IO(t))return;var pt=ee.offset,Ot=ee.targetOffset,at=VP(Q,pt),_t=bt(at,2),Ct=_t[0],je=_t[1],it=VP(q,Ot),Se=bt(it,2),Ge=Se[0],St=Se[1];q.x-=Ge,q.y-=St;var Me=ee.points||[],xt=bt(Me,2),Qe=xt[0],mt=xt[1],Lt=jP(mt),It=jP(Qe),Qt=Hg(q,Lt),sn=Hg(Q,It),qt=Ne({},ee),Dt=Qt.x-sn.x+Ct,Yt=Qt.y-sn.y+je,yn=_r(Dt,Yt),lr=_r(Dt,Yt,we),Kr=Hg(q,["t","l"]),zn=Hg(Q,["t","l"]),Ai=Hg(q,["b","r"]),br=Hg(Q,["b","r"]),wn=ee.overflow||{},Mn=wn.adjustX,Qn=wn.adjustY,un=wn.shiftX,ii=wn.shiftY,ln=function(ma){return typeof ma=="boolean"?ma:ma>=0},Lr,Nr,Tr,Rr;Go();var cr=ln(Qn),Sr=It[0]===Lt[0];if(cr&&It[0]==="t"&&(Nr>qe.bottom||C.current.bt)){var le=Yt;Sr?le-=Be-re:le=Kr.y-br.y-je;var Ue=_r(Dt,le),rt=_r(Dt,le,we);Ue>yn||Ue===yn&&(!ce||rt>=lr)?(C.current.bt=!0,Yt=le,je=-je,qt.points=[ih(It,0),ih(Lt,0)]):C.current.bt=!1}if(cr&&It[0]==="b"&&(Lr<qe.top||C.current.tb)){var Je=Yt;Sr?Je+=Be-re:Je=Ai.y-zn.y-je;var $e=_r(Dt,Je),Tt=_r(Dt,Je,we);$e>yn||$e===yn&&(!ce||Tt>=lr)?(C.current.tb=!0,Yt=Je,je=-je,qt.points=[ih(It,0),ih(Lt,0)]):C.current.tb=!1}var Vt=ln(Mn),Kt=It[1]===Lt[1];if(Vt&&It[1]==="l"&&(Rr>qe.right||C.current.rl)){var Wt=Dt;Kt?Wt-=Ce-Fe:Wt=Kr.x-br.x-Ct;var gn=_r(Wt,Yt),fn=_r(Wt,Yt,we);gn>yn||gn===yn&&(!ce||fn>=lr)?(C.current.rl=!0,Dt=Wt,Ct=-Ct,qt.points=[ih(It,1),ih(Lt,1)]):C.current.rl=!1}if(Vt&&It[1]==="r"&&(Tr<qe.left||C.current.lr)){var on=Dt;Kt?on+=Ce-Fe:on=Ai.x-zn.x-Ct;var Hn=_r(on,Yt),kn=_r(on,Yt,we);Hn>yn||Hn===yn&&(!ce||kn>=lr)?(C.current.lr=!0,Dt=on,Ct=-Ct,qt.points=[ih(It,1),ih(Lt,1)]):C.current.lr=!1}Go();var Vn=un===!0?0:un;typeof Vn=="number"&&(Tr<we.left&&(Dt-=Tr-we.left-Ct,q.x+Fe<we.left+Vn&&(Dt+=q.x-we.left+Fe-Vn)),Rr>we.right&&(Dt-=Rr-we.right-Ct,q.x>we.right-Vn&&(Dt+=q.x-we.right+Vn)));var In=ii===!0?0:ii;typeof In=="number"&&(Lr<we.top&&(Yt-=Lr-we.top-je,q.y+re<we.top+In&&(Yt+=q.y-we.top+re-In)),Nr>we.bottom&&(Yt-=Nr-we.bottom-je,q.y>we.bottom-In&&(Yt+=q.y-we.bottom+In)));var bn=Q.x+Dt,cn=bn+Ce,bi=Q.y+Yt,jn=bi+Be,Gn=q.x,Tn=Gn+Fe,Cn=q.y,Zn=Cn+re,An=Math.max(bn,Gn),_i=Math.min(cn,Tn),Pi=(An+_i)/2,$i=Pi-bn,qi=Math.max(bi,Cn),Or=Math.min(jn,Zn),Wi=(qi+Or)/2,vo=Wi-bi;l==null||l(e,qt);var Qa=He.right-Q.x-(Dt+Q.width),wa=He.bottom-Q.y-(Yt+Q.height);gt===1&&(Dt=Math.round(Dt),Qa=Math.round(Qa)),st===1&&(Yt=Math.round(Yt),wa=Math.round(wa));var Os={ready:!0,offsetX:Dt/gt,offsetY:Yt/st,offsetR:Qa/gt,offsetB:wa/st,arrowX:$i/gt,arrowY:vo/st,scaleX:gt,scaleY:st,align:qt};g(Os)}}),m=function(){y.current+=1;var T=y.current;Promise.resolve().then(function(){y.current===T&&p()})},b=function(){g(function(T){return Ne(Ne({},T),{},{ready:!1})})};return Ca(b,[r]),Ca(function(){n||b()},[n]),[d.ready,d.offsetX,d.offsetY,d.offsetR,d.offsetB,d.arrowX,d.arrowY,d.scaleX,d.scaleY,d.align,m]}function wK(n,e,t,r,a){Ca(function(){if(n&&e&&t){let _=function(){r(),a()};var y=_,o=e,l=t,s=a2(o),u=a2(l),d=OS(l),g=new Set([d].concat(Jt(s),Jt(u)));return g.forEach(function(C){C.addEventListener("scroll",_,{passive:!0})}),d.addEventListener("resize",_,{passive:!0}),r(),function(){g.forEach(function(C){C.removeEventListener("scroll",_),d.removeEventListener("resize",_)})}}},[n,e,t])}function AK(n,e,t,r,a,o,l,s){var u=A.useRef(n);u.current=n;var d=A.useRef(!1);A.useEffect(function(){if(e&&r&&(!a||o)){var y=function(){d.current=!1},_=function(m){var b;u.current&&!l(((b=m.composedPath)===null||b===void 0||(b=b.call(m))===null||b===void 0?void 0:b[0])||m.target)&&!d.current&&s(!1)},C=OS(r);C.addEventListener("pointerdown",y,!0),C.addEventListener("mousedown",_,!0),C.addEventListener("contextmenu",_,!0);var c=T1(t);return c&&(c.addEventListener("mousedown",_,!0),c.addEventListener("contextmenu",_,!0)),function(){C.removeEventListener("pointerdown",y,!0),C.removeEventListener("mousedown",_,!0),C.removeEventListener("contextmenu",_,!0),c&&(c.removeEventListener("mousedown",_,!0),c.removeEventListener("contextmenu",_,!0))}}},[e,t,r,a,o]);function g(){d.current=!0}return g}var MK=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function TK(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:yw,e=A.forwardRef(function(t,r){var a=t.prefixCls,o=a===void 0?"rc-trigger-popup":a,l=t.children,s=t.action,u=s===void 0?"hover":s,d=t.showAction,g=t.hideAction,y=t.popupVisible,_=t.defaultPopupVisible,C=t.onPopupVisibleChange,c=t.afterPopupVisibleChange,p=t.mouseEnterDelay,m=t.mouseLeaveDelay,b=m===void 0?.1:m,E=t.focusDelay,T=t.blurDelay,R=t.mask,O=t.maskClosable,D=O===void 0?!0:O,P=t.getPopupContainer,F=t.forceRender,U=t.autoDestroy,z=t.destroyPopupOnHide,$=t.popup,J=t.popupClassName,W=t.popupStyle,Z=t.popupPlacement,oe=t.builtinPlacements,Y=oe===void 0?{}:oe,K=t.popupAlign,ee=t.zIndex,ue=t.stretch,q=t.getPopupClassNameFromAlign,ie=t.fresh,me=t.alignPoint,de=t.onPopupClick,Q=t.onPopupAlign,he=t.arrow,xe=t.popupMotion,Oe=t.maskMotion,Ae=t.popupTransitionName,Te=t.popupAnimation,ze=t.maskTransitionName,vt=t.maskAnimation,Be=t.className,Ce=t.getTriggerDOMNode,re=$n(t,MK),Fe=U||z||!1,Ie=A.useState(!1),Ye=bt(Ie,2),ke=Ye[0],lt=Ye[1];Ca(function(){lt(rK())},[]);var ot=A.useRef({}),ce=A.useContext(FP),ae=A.useMemo(function(){return{registerSubPopup:function(Sn,Mi){ot.current[Sn]=Mi,ce==null||ce.registerSubPopup(Sn,Mi)}}},[ce]),we=LO(),De=A.useState(null),qe=bt(De,2),He=qe[0],gt=qe[1],st=A.useRef(null),pt=qa(function(tn){st.current=tn,Xb(tn)&&He!==tn&&gt(tn),ce==null||ce.registerSubPopup(we,tn)}),Ot=A.useState(null),at=bt(Ot,2),_t=at[0],Ct=at[1],je=A.useRef(null),it=qa(function(tn){Xb(tn)&&_t!==tn&&(Ct(tn),je.current=tn)}),Se=A.Children.only(l),Ge=(Se==null?void 0:Se.props)||{},St={},Me=qa(function(tn){var Sn,Mi,xi=_t;return(xi==null?void 0:xi.contains(tn))||((Sn=T1(xi))===null||Sn===void 0?void 0:Sn.host)===tn||tn===xi||(He==null?void 0:He.contains(tn))||((Mi=T1(He))===null||Mi===void 0?void 0:Mi.host)===tn||tn===He||Object.values(ot.current).some(function(Hi){return(Hi==null?void 0:Hi.contains(tn))||tn===Hi})}),xt=GP(o,xe,Te,Ae),Qe=GP(o,Oe,vt,ze),mt=A.useState(_||!1),Lt=bt(mt,2),It=Lt[0],Qt=Lt[1],sn=y??It,qt=qa(function(tn){y===void 0&&Qt(tn)});Ca(function(){Qt(y||!1)},[y]);var Dt=A.useRef(sn);Dt.current=sn;var Yt=A.useRef([]);Yt.current=[];var yn=qa(function(tn){var Sn;qt(tn),((Sn=Yt.current[Yt.current.length-1])!==null&&Sn!==void 0?Sn:sn)!==tn&&(Yt.current.push(tn),C==null||C(tn))}),lr=A.useRef(),Kr=function(){clearTimeout(lr.current)},zn=function(Sn){var Mi=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Kr(),Mi===0?yn(Sn):lr.current=setTimeout(function(){yn(Sn)},Mi*1e3)};A.useEffect(function(){return Kr},[]);var Ai=A.useState(!1),br=bt(Ai,2),wn=br[0],Mn=br[1];Ca(function(tn){(!tn||sn)&&Mn(!0)},[sn]);var Qn=A.useState(null),un=bt(Qn,2),ii=un[0],ln=un[1],Lr=A.useState(null),Nr=bt(Lr,2),Tr=Nr[0],Rr=Nr[1],cr=function(Sn){Rr([Sn.clientX,Sn.clientY])},Sr=EK(sn,He,me&&Tr!==null?Tr:_t,Z,Y,K,Q),le=bt(Sr,11),Ue=le[0],rt=le[1],Je=le[2],$e=le[3],Tt=le[4],Vt=le[5],Kt=le[6],Wt=le[7],gn=le[8],fn=le[9],on=le[10],Hn=_K(ke,u,d,g),kn=bt(Hn,2),Vn=kn[0],In=kn[1],bn=Vn.has("click"),cn=In.has("click")||In.has("contextMenu"),bi=qa(function(){wn||on()}),jn=function(){Dt.current&&me&&cn&&zn(!1)};wK(sn,_t,He,bi,jn),Ca(function(){bi()},[Tr,Z]),Ca(function(){sn&&!(Y!=null&&Y[Z])&&bi()},[JSON.stringify(K)]);var Gn=A.useMemo(function(){var tn=CK(Y,o,fn,me);return et(tn,q==null?void 0:q(fn))},[fn,q,Y,o,me]);A.useImperativeHandle(r,function(){return{nativeElement:je.current,popupElement:st.current,forceAlign:bi}});var Tn=A.useState(0),Cn=bt(Tn,2),Zn=Cn[0],An=Cn[1],_i=A.useState(0),Pi=bt(_i,2),$i=Pi[0],qi=Pi[1],Or=function(){if(ue&&_t){var Sn=_t.getBoundingClientRect();An(Sn.width),qi(Sn.height)}},Wi=function(){Or(),bi()},vo=function(Sn){Mn(!1),on(),c==null||c(Sn)},Qa=function(){return new Promise(function(Sn){Or(),ln(function(){return Sn})})};Ca(function(){ii&&(on(),ii(),ln(null))},[ii]);function wa(tn,Sn,Mi,xi){St[tn]=function(Hi){var Bs;xi==null||xi(Hi),zn(Sn,Mi);for(var ko=arguments.length,Na=new Array(ko>1?ko-1:0),$o=1;$o<ko;$o++)Na[$o-1]=arguments[$o];(Bs=Ge[tn])===null||Bs===void 0||Bs.call.apply(Bs,[Ge,Hi].concat(Na))}}(bn||cn)&&(St.onClick=function(tn){var Sn;Dt.current&&cn?zn(!1):!Dt.current&&bn&&(cr(tn),zn(!0));for(var Mi=arguments.length,xi=new Array(Mi>1?Mi-1:0),Hi=1;Hi<Mi;Hi++)xi[Hi-1]=arguments[Hi];(Sn=Ge.onClick)===null||Sn===void 0||Sn.call.apply(Sn,[Ge,tn].concat(xi))});var Os=AK(sn,cn,_t,He,R,D,Me,zn),lf=Vn.has("hover"),Qc=In.has("hover"),_r,Go;lf&&(wa("onMouseEnter",!0,p,function(tn){cr(tn)}),wa("onPointerEnter",!0,p,function(tn){cr(tn)}),_r=function(Sn){(sn||wn)&&He!==null&&He!==void 0&&He.contains(Sn.target)&&zn(!0,p)},me&&(St.onMouseMove=function(tn){var Sn;(Sn=Ge.onMouseMove)===null||Sn===void 0||Sn.call(Ge,tn)})),Qc&&(wa("onMouseLeave",!1,b),wa("onPointerLeave",!1,b),Go=function(){zn(!1,b)}),Vn.has("focus")&&wa("onFocus",!0,E),In.has("focus")&&wa("onBlur",!1,T),Vn.has("contextMenu")&&(St.onContextMenu=function(tn){var Sn;Dt.current&&In.has("contextMenu")?zn(!1):(cr(tn),zn(!0)),tn.preventDefault();for(var Mi=arguments.length,xi=new Array(Mi>1?Mi-1:0),Hi=1;Hi<Mi;Hi++)xi[Hi-1]=arguments[Hi];(Sn=Ge.onContextMenu)===null||Sn===void 0||Sn.call.apply(Sn,[Ge,tn].concat(xi))}),Be&&(St.className=et(Ge.className,Be));var La=Ne(Ne({},Ge),St),ma={},Aa=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];Aa.forEach(function(tn){re[tn]&&(ma[tn]=function(){for(var Sn,Mi=arguments.length,xi=new Array(Mi),Hi=0;Hi<Mi;Hi++)xi[Hi]=arguments[Hi];(Sn=La[tn])===null||Sn===void 0||Sn.call.apply(Sn,[La].concat(xi)),re[tn].apply(re,xi)})});var Is=A.cloneElement(Se,Ne(Ne({},La),ma)),yo={x:Vt,y:Kt},Vl=he?Ne({},he!==!0?he:{}):null;return A.createElement(A.Fragment,null,A.createElement(Um,{disabled:!sn,ref:it,onResize:Wi},A.createElement(SK,{getTriggerDOMNode:Ce},Is)),A.createElement(FP.Provider,{value:ae},A.createElement(bK,{portal:n,ref:pt,prefixCls:o,popup:$,className:et(J,Gn),style:W,target:_t,onMouseEnter:_r,onMouseLeave:Go,onPointerEnter:_r,zIndex:ee,open:sn,keepDom:wn,fresh:ie,onClick:de,onPointerDownCapture:Os,mask:R,motion:xt,maskMotion:Qe,onVisibleChanged:vo,onPrepare:Qa,forceRender:F,autoDestroy:Fe,getPopupContainer:P,align:fn,arrow:Vl,arrowPos:yo,ready:Ue,offsetX:rt,offsetY:Je,offsetR:$e,offsetB:Tt,onAlign:bi,stretch:ue,targetWidth:Zn/Wt,targetHeight:$i/gn})))});return e}const h4=TK(yw);function o2(n,e,t){return et({[`${n}-status-success`]:e==="success",[`${n}-status-warning`]:e==="warning",[`${n}-status-error`]:e==="error",[`${n}-status-validating`]:e==="validating",[`${n}-has-feedback`]:t})}const UO=(n,e)=>e||n,p4=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;var r,a;const{variant:o,[n]:l}=A.useContext(qn),s=A.useContext(sq),u=l==null?void 0:l.variant;let d;typeof e<"u"?d=e:t===!1?d="borderless":d=(a=(r=s??u)!==null&&r!==void 0?r:o)!==null&&a!==void 0?a:"outlined";const g=Ij.includes(d);return[d,g]},f0=["xxl","xl","lg","md","sm","xs"],RK=n=>({xs:`(max-width: ${n.screenXSMax}px)`,sm:`(min-width: ${n.screenSM}px)`,md:`(min-width: ${n.screenMD}px)`,lg:`(min-width: ${n.screenLG}px)`,xl:`(min-width: ${n.screenXL}px)`,xxl:`(min-width: ${n.screenXXL}px)`}),OK=n=>{const e=n,t=[].concat(f0).reverse();return t.forEach((r,a)=>{const o=r.toUpperCase(),l=`screen${o}Min`,s=`screen${o}`;if(!(e[l]<=e[s]))throw new Error(`${l}<=${s} fails : !(${e[l]}<=${e[s]})`);if(a<t.length-1){const u=`screen${o}Max`;if(!(e[s]<=e[u]))throw new Error(`${s}<=${u} fails : !(${e[s]}<=${e[u]})`);const g=`screen${t[a+1].toUpperCase()}Min`;if(!(e[u]<=e[g]))throw new Error(`${u}<=${g} fails : !(${e[u]}<=${e[g]})`)}}),n};function IK(){const[,n]=af(),e=RK(OK(n));return We.useMemo(()=>{const t=new Map;let r=-1,a={};return{matchHandlers:{},dispatch(o){return a=o,t.forEach(l=>l(a)),t.size>=1},subscribe(o){return t.size||this.register(),r+=1,t.set(r,o),o(a),r},unsubscribe(o){t.delete(o),t.size||this.unregister()},unregister(){Object.keys(e).forEach(o=>{const l=e[o],s=this.matchHandlers[l];s==null||s.mql.removeListener(s==null?void 0:s.listener)}),t.clear()},register(){Object.keys(e).forEach(o=>{const l=e[o],s=d=>{let{matches:g}=d;this.dispatch(Object.assign(Object.assign({},a),{[o]:g}))},u=window.matchMedia(l);u.addListener(s),this.matchHandlers[l]={mql:u,listener:s},s(u)})},responsiveMap:e}},[n])}function m4(){const[,n]=A.useReducer(e=>e+1,0);return n}function g4(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const t=A.useRef(e),r=m4(),a=IK();return Ca(()=>{const o=a.subscribe(l=>{t.current=l,n&&r()});return()=>a.unsubscribe(o)},[]),t.current}const s2=A.createContext({}),BK=n=>{const{antCls:e,componentCls:t,iconCls:r,avatarBg:a,avatarColor:o,containerSize:l,containerSizeLG:s,containerSizeSM:u,textFontSize:d,textFontSizeLG:g,textFontSizeSM:y,borderRadius:_,borderRadiusLG:C,borderRadiusSM:c,lineWidth:p,lineType:m}=n,b=(E,T,R)=>({width:E,height:E,borderRadius:"50%",[`&${t}-square`]:{borderRadius:R},[`&${t}-icon`]:{fontSize:T,[`> ${r}`]:{margin:0}}});return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},Gl(n)),{position:"relative",display:"inline-flex",justifyContent:"center",alignItems:"center",overflow:"hidden",color:o,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:a,border:`${Pt(p)} ${m} transparent`,"&-image":{background:"transparent"},[`${e}-image-img`]:{display:"block"}}),b(l,d,_)),{"&-lg":Object.assign({},b(s,g,C)),"&-sm":Object.assign({},b(u,y,c)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},DK=n=>{const{componentCls:e,groupBorderColor:t,groupOverlapping:r,groupSpace:a}=n;return{[`${e}-group`]:{display:"inline-flex",[e]:{borderColor:t},"> *:not(:first-child)":{marginInlineStart:r}},[`${e}-group-popover`]:{[`${e} + ${e}`]:{marginInlineStart:a}}}},PK=n=>{const{controlHeight:e,controlHeightLG:t,controlHeightSM:r,fontSize:a,fontSizeLG:o,fontSizeXL:l,fontSizeHeading3:s,marginXS:u,marginXXS:d,colorBorderBg:g}=n;return{containerSize:e,containerSizeLG:t,containerSizeSM:r,textFontSize:Math.round((o+l)/2),textFontSizeLG:s,textFontSizeSM:a,groupSpace:d,groupOverlapping:-u,groupBorderColor:g}},v4=oa("Avatar",n=>{const{colorTextLightSolid:e,colorTextPlaceholder:t}=n,r=sr(n,{avatarBg:t,avatarColor:e});return[BK(r),DK(r)]},PK);var LK=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const NK=(n,e)=>{const[t,r]=A.useState(1),[a,o]=A.useState(!1),[l,s]=A.useState(!0),u=A.useRef(null),d=A.useRef(null),g=$h(e,u),{getPrefixCls:y,avatar:_}=A.useContext(qn),C=A.useContext(s2),c=()=>{if(!d.current||!u.current)return;const Ae=d.current.offsetWidth,Te=u.current.offsetWidth;if(Ae!==0&&Te!==0){const{gap:ze=4}=n;ze*2<Te&&r(Te-ze*2<Ae?(Te-ze*2)/Ae:1)}};A.useEffect(()=>{o(!0)},[]),A.useEffect(()=>{s(!0),r(1)},[n.src]),A.useEffect(c,[n.gap]);const p=()=>{const{onError:Ae}=n;(Ae==null?void 0:Ae())!==!1&&s(!1)},{prefixCls:m,shape:b,size:E,src:T,srcSet:R,icon:O,className:D,rootClassName:P,alt:F,draggable:U,children:z,crossOrigin:$}=n,J=LK(n,["prefixCls","shape","size","src","srcSet","icon","className","rootClassName","alt","draggable","children","crossOrigin"]),W=Fm(Ae=>{var Te,ze;return(ze=(Te=E??(C==null?void 0:C.size))!==null&&Te!==void 0?Te:Ae)!==null&&ze!==void 0?ze:"default"}),Z=Object.keys(typeof W=="object"?W||{}:{}).some(Ae=>["xs","sm","md","lg","xl","xxl"].includes(Ae)),oe=g4(Z),Y=A.useMemo(()=>{if(typeof W!="object")return{};const Ae=f0.find(ze=>oe[ze]),Te=W[Ae];return Te?{width:Te,height:Te,fontSize:Te&&(O||z)?Te/2:18}:{}},[oe,W]),K=y("avatar",m),ee=Yc(K),[ue,q,ie]=v4(K,ee),me=et({[`${K}-lg`]:W==="large",[`${K}-sm`]:W==="small"}),de=A.isValidElement(T),Q=b||(C==null?void 0:C.shape)||"circle",he=et(K,me,_==null?void 0:_.className,`${K}-${Q}`,{[`${K}-image`]:de||T&&l,[`${K}-icon`]:!!O},ie,ee,D,P,q),xe=typeof W=="number"?{width:W,height:W,fontSize:O?W/2:18}:{};let Oe;if(typeof T=="string"&&l)Oe=A.createElement("img",{src:T,draggable:U,srcSet:R,onError:p,alt:F,crossOrigin:$});else if(de)Oe=T;else if(O)Oe=O;else if(a||t!==1){const Ae=`scale(${t})`,Te={msTransform:Ae,WebkitTransform:Ae,transform:Ae};Oe=A.createElement(Um,{onResize:c},A.createElement("span",{className:`${K}-string`,ref:d,style:Object.assign({},Te)},z))}else Oe=A.createElement("span",{className:`${K}-string`,style:{opacity:0},ref:d},z);return delete J.onError,delete J.gap,ue(A.createElement("span",Object.assign({},J,{style:Object.assign(Object.assign(Object.assign(Object.assign({},xe),Y),_==null?void 0:_.style),J.style),className:he,ref:g}),Oe))},y4=A.forwardRef(NK),F1=n=>n?typeof n=="function"?n():n:null;function FO(n){var e=n.children,t=n.prefixCls,r=n.id,a=n.overlayInnerStyle,o=n.bodyClassName,l=n.className,s=n.style;return A.createElement("div",{className:et("".concat(t,"-content"),l),style:s},A.createElement("div",{className:et("".concat(t,"-inner"),o),id:r,role:"tooltip",style:a},typeof e=="function"?e():e))}var Gg={shiftX:64,adjustY:1},kg={adjustX:1,shiftY:!0},Il=[0,0],zK={left:{points:["cr","cl"],overflow:kg,offset:[-4,0],targetOffset:Il},right:{points:["cl","cr"],overflow:kg,offset:[4,0],targetOffset:Il},top:{points:["bc","tc"],overflow:Gg,offset:[0,-4],targetOffset:Il},bottom:{points:["tc","bc"],overflow:Gg,offset:[0,4],targetOffset:Il},topLeft:{points:["bl","tl"],overflow:Gg,offset:[0,-4],targetOffset:Il},leftTop:{points:["tr","tl"],overflow:kg,offset:[-4,0],targetOffset:Il},topRight:{points:["br","tr"],overflow:Gg,offset:[0,-4],targetOffset:Il},rightTop:{points:["tl","tr"],overflow:kg,offset:[4,0],targetOffset:Il},bottomRight:{points:["tr","br"],overflow:Gg,offset:[0,4],targetOffset:Il},rightBottom:{points:["bl","br"],overflow:kg,offset:[4,0],targetOffset:Il},bottomLeft:{points:["tl","bl"],overflow:Gg,offset:[0,4],targetOffset:Il},leftBottom:{points:["br","bl"],overflow:kg,offset:[-4,0],targetOffset:Il}},UK=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow","classNames","styles"],FK=function(e,t){var r=e.overlayClassName,a=e.trigger,o=a===void 0?["hover"]:a,l=e.mouseEnterDelay,s=l===void 0?0:l,u=e.mouseLeaveDelay,d=u===void 0?.1:u,g=e.overlayStyle,y=e.prefixCls,_=y===void 0?"rc-tooltip":y,C=e.children,c=e.onVisibleChange,p=e.afterVisibleChange,m=e.transitionName,b=e.animation,E=e.motion,T=e.placement,R=T===void 0?"right":T,O=e.align,D=O===void 0?{}:O,P=e.destroyTooltipOnHide,F=P===void 0?!1:P,U=e.defaultVisible,z=e.getTooltipContainer,$=e.overlayInnerStyle;e.arrowContent;var J=e.overlay,W=e.id,Z=e.showArrow,oe=Z===void 0?!0:Z,Y=e.classNames,K=e.styles,ee=$n(e,UK),ue=LO(W),q=A.useRef(null);A.useImperativeHandle(t,function(){return q.current});var ie=Ne({},ee);"visible"in e&&(ie.popupVisible=e.visible);var me=function(){return A.createElement(FO,{key:"content",prefixCls:_,id:ue,bodyClassName:Y==null?void 0:Y.body,overlayInnerStyle:Ne(Ne({},$),K==null?void 0:K.body)},J)},de=function(){var he=A.Children.only(C),xe=(he==null?void 0:he.props)||{},Oe=Ne(Ne({},xe),{},{"aria-describedby":J?ue:null});return A.cloneElement(C,Oe)};return A.createElement(h4,Nt({popupClassName:et(r,Y==null?void 0:Y.root),prefixCls:_,popup:me,action:o,builtinPlacements:zK,popupPlacement:R,ref:q,popupAlign:D,getPopupContainer:z,onPopupVisibleChange:c,afterPopupVisibleChange:p,popupTransitionName:m,popupAnimation:b,popupMotion:E,defaultPopupVisible:U,autoDestroy:F,mouseLeaveDelay:d,popupStyle:Ne(Ne({},g),K==null?void 0:K.root),mouseEnterDelay:s,arrow:oe},ie),de())};const HK=A.forwardRef(FK);function b4(n){const{sizePopupArrow:e,borderRadiusXS:t,borderRadiusOuter:r}=n,a=e/2,o=0,l=a,s=r*1/Math.sqrt(2),u=a-r*(1-1/Math.sqrt(2)),d=a-t*(1/Math.sqrt(2)),g=r*(Math.sqrt(2)-1)+t*(1/Math.sqrt(2)),y=2*a-d,_=g,C=2*a-s,c=u,p=2*a-o,m=l,b=a*Math.sqrt(2)+r*(Math.sqrt(2)-2),E=r*(Math.sqrt(2)-1),T=`polygon(${E}px 100%, 50% ${E}px, ${2*a-E}px 100%, ${E}px 100%)`,R=`path('M ${o} ${l} A ${r} ${r} 0 0 0 ${s} ${u} L ${d} ${g} A ${t} ${t} 0 0 1 ${y} ${_} L ${C} ${c} A ${r} ${r} 0 0 0 ${p} ${m} Z')`;return{arrowShadowWidth:b,arrowPath:R,arrowPolygon:T}}const GK=(n,e,t)=>{const{sizePopupArrow:r,arrowPolygon:a,arrowPath:o,arrowShadowWidth:l,borderRadiusXS:s,calc:u}=n;return{pointerEvents:"none",width:r,height:r,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:r,height:u(r).div(2).equal(),background:e,clipPath:{_multi_value_:!0,value:[a,o]},content:'""'},"&::after":{content:'""',position:"absolute",width:l,height:l,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${Pt(s)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:t,zIndex:0,background:"transparent"}}},S4=8;function HO(n){const{contentRadius:e,limitVerticalRadius:t}=n,r=e>12?e+2:12;return{arrowOffsetHorizontal:r,arrowOffsetVertical:t?S4:r}}function bx(n,e){return n?e:{}}function _4(n,e,t){const{componentCls:r,boxShadowPopoverArrow:a,arrowOffsetVertical:o,arrowOffsetHorizontal:l}=n,{arrowDistance:s=0,arrowPlacement:u={left:!0,right:!0,top:!0,bottom:!0}}={};return{[r]:Object.assign(Object.assign(Object.assign(Object.assign({[`${r}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},GK(n,e,a)),{"&:before":{background:e}})]},bx(!!u.top,{[[`&-placement-top > ${r}-arrow`,`&-placement-topLeft > ${r}-arrow`,`&-placement-topRight > ${r}-arrow`].join(",")]:{bottom:s,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},"&-placement-topLeft":{"--arrow-offset-horizontal":l,[`> ${r}-arrow`]:{left:{_skip_check_:!0,value:l}}},"&-placement-topRight":{"--arrow-offset-horizontal":`calc(100% - ${Pt(l)})`,[`> ${r}-arrow`]:{right:{_skip_check_:!0,value:l}}}})),bx(!!u.bottom,{[[`&-placement-bottom > ${r}-arrow`,`&-placement-bottomLeft > ${r}-arrow`,`&-placement-bottomRight > ${r}-arrow`].join(",")]:{top:s,transform:"translateY(-100%)"},[`&-placement-bottom > ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},"&-placement-bottomLeft":{"--arrow-offset-horizontal":l,[`> ${r}-arrow`]:{left:{_skip_check_:!0,value:l}}},"&-placement-bottomRight":{"--arrow-offset-horizontal":`calc(100% - ${Pt(l)})`,[`> ${r}-arrow`]:{right:{_skip_check_:!0,value:l}}}})),bx(!!u.left,{[[`&-placement-left > ${r}-arrow`,`&-placement-leftTop > ${r}-arrow`,`&-placement-leftBottom > ${r}-arrow`].join(",")]:{right:{_skip_check_:!0,value:s},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left > ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop > ${r}-arrow`]:{top:o},[`&-placement-leftBottom > ${r}-arrow`]:{bottom:o}})),bx(!!u.right,{[[`&-placement-right > ${r}-arrow`,`&-placement-rightTop > ${r}-arrow`,`&-placement-rightBottom > ${r}-arrow`].join(",")]:{left:{_skip_check_:!0,value:s},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right > ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop > ${r}-arrow`]:{top:o},[`&-placement-rightBottom > ${r}-arrow`]:{bottom:o}}))}}function kK(n,e,t,r){if(r===!1)return{adjustX:!1,adjustY:!1};const a=r&&typeof r=="object"?r:{},o={};switch(n){case"top":case"bottom":o.shiftX=e.arrowOffsetHorizontal*2+t,o.shiftY=!0,o.adjustY=!0;break;case"left":case"right":o.shiftY=e.arrowOffsetVertical*2+t,o.shiftX=!0,o.adjustX=!0;break}const l=Object.assign(Object.assign({},o),a);return l.shiftX||(l.adjustX=!0),l.shiftY||(l.adjustY=!0),l}const WP={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},$K={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},VK=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function jK(n){const{arrowWidth:e,autoAdjustOverflow:t,arrowPointAtCenter:r,offset:a,borderRadius:o}=n,l=e/2,s={};return Object.keys(WP).forEach(u=>{const d=r&&$K[u]||WP[u],g=Object.assign(Object.assign({},d),{offset:[0,0],dynamicInset:!0});switch(s[u]=g,VK.has(u)&&(g.autoArrow=!1),u){case"top":case"topLeft":case"topRight":g.offset[1]=-l-a;break;case"bottom":case"bottomLeft":case"bottomRight":g.offset[1]=l+a;break;case"left":case"leftTop":case"leftBottom":g.offset[0]=-l-a;break;case"right":case"rightTop":case"rightBottom":g.offset[0]=l+a;break}const y=HO({contentRadius:o,limitVerticalRadius:!0});if(r)switch(u){case"topLeft":case"bottomLeft":g.offset[0]=-y.arrowOffsetHorizontal-l;break;case"topRight":case"bottomRight":g.offset[0]=y.arrowOffsetHorizontal+l;break;case"leftTop":case"rightTop":g.offset[1]=-y.arrowOffsetHorizontal*2+l;break;case"leftBottom":case"rightBottom":g.offset[1]=y.arrowOffsetHorizontal*2-l;break}g.overflow=kK(u,y,e,t),g.htmlRegion="visibleFirst"}),s}const WK=n=>{const{calc:e,componentCls:t,tooltipMaxWidth:r,tooltipColor:a,tooltipBg:o,tooltipBorderRadius:l,zIndexPopup:s,controlHeight:u,boxShadowSecondary:d,paddingSM:g,paddingXS:y,arrowOffsetHorizontal:_,sizePopupArrow:C}=n,c=e(l).add(C).add(_).equal(),p=e(l).mul(2).add(C).equal();return[{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},Gl(n)),{position:"absolute",zIndex:s,display:"block",width:"max-content",maxWidth:r,visibility:"visible","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"&-hidden":{display:"none"},"--antd-arrow-background-color":o,[`${t}-inner`]:{minWidth:p,minHeight:u,padding:`${Pt(n.calc(g).div(2).equal())} ${Pt(y)}`,color:a,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:o,borderRadius:l,boxShadow:d,boxSizing:"border-box"},[["&-placement-topLeft","&-placement-topRight","&-placement-bottomLeft","&-placement-bottomRight"].join(",")]:{minWidth:c},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${t}-inner`]:{borderRadius:n.min(l,S4)}},[`${t}-content`]:{position:"relative"}}),JU(n,(m,b)=>{let{darkColor:E}=b;return{[`&${t}-${m}`]:{[`${t}-inner`]:{backgroundColor:E},[`${t}-arrow`]:{"--antd-arrow-background-color":E}}}})),{"&-rtl":{direction:"rtl"}})},_4(n,"var(--antd-arrow-background-color)"),{[`${t}-pure`]:{position:"relative",maxWidth:"none",margin:n.sizePopupArrow}}]},XK=n=>Object.assign(Object.assign({zIndexPopup:n.zIndexPopupBase+70},HO({contentRadius:n.borderRadius,limitVerticalRadius:!0})),b4(sr(n,{borderRadiusOuter:Math.min(n.borderRadiusOuter,4)}))),x4=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return oa("Tooltip",r=>{const{borderRadius:a,colorTextLightSolid:o,colorBgSpotlight:l}=r,s=sr(r,{tooltipMaxWidth:250,tooltipColor:o,tooltipBorderRadius:a,tooltipBg:l});return[WK(s),wS(r,"zoom-big-fast")]},XK,{resetStyle:!1,injectStyle:e})(n)},YK=zh.map(n=>`${n}-inverse`),qK=["success","processing","error","default","warning"];function C4(n){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?[].concat(Jt(YK),Jt(zh)).includes(n):zh.includes(n)}function KK(n){return qK.includes(n)}function E4(n,e){const t=C4(e),r=et({[`${n}-${e}`]:e&&t}),a={},o={};return e&&!t&&(a.background=e,o["--antd-arrow-background-color"]=e),{className:r,overlayStyle:a,arrowStyle:o}}const JK=n=>{const{prefixCls:e,className:t,placement:r="top",title:a,color:o,overlayInnerStyle:l}=n,{getPrefixCls:s}=A.useContext(qn),u=s("tooltip",e),[d,g,y]=x4(u),_=E4(u,o),C=_.arrowStyle,c=Object.assign(Object.assign({},l),_.overlayStyle),p=et(g,y,u,`${u}-pure`,`${u}-placement-${r}`,t,_.className);return d(A.createElement("div",{className:p,style:C},A.createElement("div",{className:`${u}-arrow`}),A.createElement(FO,Object.assign({},n,{className:g,prefixCls:u,overlayInnerStyle:c}),a)))};var QK=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const ZK=A.forwardRef((n,e)=>{var t,r;const{prefixCls:a,openClassName:o,getTooltipContainer:l,color:s,overlayInnerStyle:u,children:d,afterOpenChange:g,afterVisibleChange:y,destroyTooltipOnHide:_,arrow:C=!0,title:c,overlay:p,builtinPlacements:m,arrowPointAtCenter:b=!1,autoAdjustOverflow:E=!0,motion:T,getPopupContainer:R,placement:O="top",mouseEnterDelay:D=.1,mouseLeaveDelay:P=.1,overlayStyle:F,rootClassName:U,overlayClassName:z,styles:$,classNames:J}=n,W=QK(n,["prefixCls","openClassName","getTooltipContainer","color","overlayInnerStyle","children","afterOpenChange","afterVisibleChange","destroyTooltipOnHide","arrow","title","overlay","builtinPlacements","arrowPointAtCenter","autoAdjustOverflow","motion","getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName","overlayClassName","styles","classNames"]),Z=!!C,[,oe]=af(),{getPopupContainer:Y,getPrefixCls:K,direction:ee,className:ue,style:q,classNames:ie,styles:me}=rf("tooltip"),de=EO(),Q=A.useRef(null),he=()=>{var Ot;(Ot=Q.current)===null||Ot===void 0||Ot.forceAlign()};A.useImperativeHandle(e,()=>{var Ot,at;return{forceAlign:he,forcePopupAlign:()=>{de.deprecated(!1,"forcePopupAlign","forceAlign"),he()},nativeElement:(Ot=Q.current)===null||Ot===void 0?void 0:Ot.nativeElement,popupElement:(at=Q.current)===null||at===void 0?void 0:at.popupElement}});const[xe,Oe]=nl(!1,{value:(t=n.open)!==null&&t!==void 0?t:n.visible,defaultValue:(r=n.defaultOpen)!==null&&r!==void 0?r:n.defaultVisible}),Ae=!c&&!p&&c!==0,Te=Ot=>{var at,_t;Oe(Ae?!1:Ot),Ae||((at=n.onOpenChange)===null||at===void 0||at.call(n,Ot),(_t=n.onVisibleChange)===null||_t===void 0||_t.call(n,Ot))},ze=A.useMemo(()=>{var Ot,at;let _t=b;return typeof C=="object"&&(_t=(at=(Ot=C.pointAtCenter)!==null&&Ot!==void 0?Ot:C.arrowPointAtCenter)!==null&&at!==void 0?at:b),m||jK({arrowPointAtCenter:_t,autoAdjustOverflow:E,arrowWidth:Z?oe.sizePopupArrow:0,borderRadius:oe.borderRadius,offset:oe.marginXXS})},[b,C,m,oe]),vt=A.useMemo(()=>c===0?c:p||c||"",[p,c]),Be=A.createElement(N1,{space:!0},typeof vt=="function"?vt():vt),Ce=K("tooltip",a),re=K(),Fe=n["data-popover-inject"];let Ie=xe;!("open"in n)&&!("visible"in n)&&Ae&&(Ie=!1);const Ye=A.isValidElement(d)&&!hF(d)?d:A.createElement("span",null,d),ke=Ye.props,lt=!ke.className||typeof ke.className=="string"?et(ke.className,o||`${Ce}-open`):ke.className,[ot,ce,ae]=x4(Ce,!Fe),we=E4(Ce,s),De=we.arrowStyle,qe=et(z,{[`${Ce}-rtl`]:ee==="rtl"},we.className,U,ce,ae,ue,ie.root,J==null?void 0:J.root),He=et(ie.body,J==null?void 0:J.body),[gt,st]=CS("Tooltip",W.zIndex),pt=A.createElement(HK,Object.assign({},W,{zIndex:gt,showArrow:Z,placement:O,mouseEnterDelay:D,mouseLeaveDelay:P,prefixCls:Ce,classNames:{root:qe,body:He},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},De),me.root),q),F),$==null?void 0:$.root),body:Object.assign(Object.assign(Object.assign(Object.assign({},me.body),u),$==null?void 0:$.body),we.overlayStyle)},getTooltipContainer:R||l||Y,ref:Q,builtinPlacements:ze,overlay:Be,visible:Ie,onVisibleChange:Te,afterVisibleChange:g??y,arrowContent:A.createElement("span",{className:`${Ce}-arrow-content`}),motion:{motionName:Qu(re,"zoom-big-fast",n.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!_}),Ie?rl(Ye,{className:lt}):Ye);return ot(A.createElement(TO.Provider,{value:st},pt))}),Ul=ZK;Ul._InternalPanelDoNotUseOrYouWillBeFired=JK;const eJ=n=>{const{componentCls:e,popoverColor:t,titleMinWidth:r,fontWeightStrong:a,innerPadding:o,boxShadowSecondary:l,colorTextHeading:s,borderRadiusLG:u,zIndexPopup:d,titleMarginBottom:g,colorBgElevated:y,popoverBg:_,titleBorderBottom:C,innerContentPadding:c,titlePadding:p}=n;return[{[e]:Object.assign(Object.assign({},Gl(n)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:d,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"--antd-arrow-background-color":y,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${e}-content`]:{position:"relative"},[`${e}-inner`]:{backgroundColor:_,backgroundClip:"padding-box",borderRadius:u,boxShadow:l,padding:o},[`${e}-title`]:{minWidth:r,marginBottom:g,color:s,fontWeight:a,borderBottom:C,padding:p},[`${e}-inner-content`]:{color:t,padding:c}})},_4(n,"var(--antd-arrow-background-color)"),{[`${e}-pure`]:{position:"relative",maxWidth:"none",margin:n.sizePopupArrow,display:"inline-block",[`${e}-content`]:{display:"inline-block"}}}]},tJ=n=>{const{componentCls:e}=n;return{[e]:zh.map(t=>{const r=n[`${t}6`];return{[`&${e}-${t}`]:{"--antd-arrow-background-color":r,[`${e}-inner`]:{backgroundColor:r},[`${e}-arrow`]:{background:"transparent"}}}})}},nJ=n=>{const{lineWidth:e,controlHeight:t,fontHeight:r,padding:a,wireframe:o,zIndexPopupBase:l,borderRadiusLG:s,marginXS:u,lineType:d,colorSplit:g,paddingSM:y}=n,_=t-r,C=_/2,c=_/2-e,p=a;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:l+30},b4(n)),HO({contentRadius:s,limitVerticalRadius:!0})),{innerPadding:o?0:12,titleMarginBottom:o?0:u,titlePadding:o?`${C}px ${p}px ${c}px`:0,titleBorderBottom:o?`${e}px ${d} ${g}`:"none",innerContentPadding:o?`${y}px ${p}px`:0})},w4=oa("Popover",n=>{const{colorBgElevated:e,colorText:t}=n,r=sr(n,{popoverBg:e,popoverColor:t});return[eJ(r),tJ(r),wS(r,"zoom-big")]},nJ,{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]});var iJ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const A4=n=>{let{title:e,content:t,prefixCls:r}=n;return!e&&!t?null:A.createElement(A.Fragment,null,e&&A.createElement("div",{className:`${r}-title`},e),t&&A.createElement("div",{className:`${r}-inner-content`},t))},rJ=n=>{const{hashId:e,prefixCls:t,className:r,style:a,placement:o="top",title:l,content:s,children:u}=n,d=F1(l),g=F1(s),y=et(e,t,`${t}-pure`,`${t}-placement-${o}`,r);return A.createElement("div",{className:y,style:a},A.createElement("div",{className:`${t}-arrow`}),A.createElement(FO,Object.assign({},n,{className:e,prefixCls:t}),u||A.createElement(A4,{prefixCls:t,title:d,content:g})))},aJ=n=>{const{prefixCls:e,className:t}=n,r=iJ(n,["prefixCls","className"]),{getPrefixCls:a}=A.useContext(qn),o=a("popover",e),[l,s,u]=w4(o);return l(A.createElement(rJ,Object.assign({},r,{prefixCls:o,hashId:s,className:et(t,u)})))};var oJ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const sJ=A.forwardRef((n,e)=>{var t,r;const{prefixCls:a,title:o,content:l,overlayClassName:s,placement:u="top",trigger:d="hover",children:g,mouseEnterDelay:y=.1,mouseLeaveDelay:_=.1,onOpenChange:C,overlayStyle:c={},styles:p,classNames:m}=n,b=oJ(n,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle","styles","classNames"]),{getPrefixCls:E,className:T,style:R,classNames:O,styles:D}=rf("popover"),P=E("popover",a),[F,U,z]=w4(P),$=E(),J=et(s,U,z,T,O.root,m==null?void 0:m.root),W=et(O.body,m==null?void 0:m.body),[Z,oe]=nl(!1,{value:(t=n.open)!==null&&t!==void 0?t:n.visible,defaultValue:(r=n.defaultOpen)!==null&&r!==void 0?r:n.defaultVisible}),Y=(ie,me)=>{oe(ie,!0),C==null||C(ie,me)},K=ie=>{ie.keyCode===zo.ESC&&Y(!1,ie)},ee=ie=>{Y(ie)},ue=F1(o),q=F1(l);return F(A.createElement(Ul,Object.assign({placement:u,trigger:d,mouseEnterDelay:y,mouseLeaveDelay:_},b,{prefixCls:P,classNames:{root:J,body:W},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign({},D.root),R),c),p==null?void 0:p.root),body:Object.assign(Object.assign({},D.body),p==null?void 0:p.body)},ref:e,open:Z,onOpenChange:ee,overlay:ue||q?A.createElement(A4,{prefixCls:P,title:ue,content:q}):null,transitionName:Qu($,"zoom-big",b.transitionName),"data-popover-inject":!0}),rl(g,{onKeyDown:ie=>{var me,de;A.isValidElement(g)&&((de=g==null?void 0:(me=g.props).onKeyDown)===null||de===void 0||de.call(me,ie)),K(ie)}})))}),M4=sJ;M4._InternalPanelDoNotUseOrYouWillBeFired=aJ;const XP=n=>{const{size:e,shape:t}=A.useContext(s2),r=A.useMemo(()=>({size:n.size||e,shape:n.shape||t}),[n.size,n.shape,e,t]);return A.createElement(s2.Provider,{value:r},n.children)},lJ=n=>{var e,t,r,a;const{getPrefixCls:o,direction:l}=A.useContext(qn),{prefixCls:s,className:u,rootClassName:d,style:g,maxCount:y,maxStyle:_,size:C,shape:c,maxPopoverPlacement:p,maxPopoverTrigger:m,children:b,max:E}=n,T=o("avatar",s),R=`${T}-group`,O=Yc(T),[D,P,F]=v4(T,O),U=et(R,{[`${R}-rtl`]:l==="rtl"},F,O,u,d,P),z=Ju(b).map((W,Z)=>rl(W,{key:`avatar-key-${Z}`})),$=(E==null?void 0:E.count)||y,J=z.length;if($&&$<J){const W=z.slice(0,$),Z=z.slice($,J),oe=(E==null?void 0:E.style)||_,Y=((e=E==null?void 0:E.popover)===null||e===void 0?void 0:e.trigger)||m||"hover",K=((t=E==null?void 0:E.popover)===null||t===void 0?void 0:t.placement)||p||"top",ee=Object.assign(Object.assign({content:Z},E==null?void 0:E.popover),{classNames:{root:et(`${R}-popover`,(a=(r=E==null?void 0:E.popover)===null||r===void 0?void 0:r.classNames)===null||a===void 0?void 0:a.root)},placement:K,trigger:Y});return W.push(A.createElement(M4,Object.assign({key:"avatar-popover-key",destroyTooltipOnHide:!0},ee),A.createElement(y4,{style:oe},`+${J-$}`))),D(A.createElement(XP,{shape:c,size:C},A.createElement("div",{className:U,style:g},W)))}return D(A.createElement(XP,{shape:c,size:C},A.createElement("div",{className:U,style:g},z)))},T4=y4;T4.Group=lJ;var R4=A.createContext(null);function O4(n,e){return n===void 0?null:"".concat(n,"-").concat(e)}function I4(n){var e=A.useContext(R4);return O4(e,n)}var cJ=["children","locked"],kc=A.createContext(null);function uJ(n,e){var t=Ne({},n);return Object.keys(e).forEach(function(r){var a=e[r];a!==void 0&&(t[r]=a)}),t}function tS(n){var e=n.children,t=n.locked,r=$n(n,cJ),a=A.useContext(kc),o=tw(function(){return uJ(a,r)},[a,r],function(l,s){return!t&&(l[0]!==s[0]||!i0(l[1],s[1],!0))});return A.createElement(kc.Provider,{value:o},e)}var fJ=[],B4=A.createContext(null);function _w(){return A.useContext(B4)}var D4=A.createContext(fJ);function I0(n){var e=A.useContext(D4);return A.useMemo(function(){return n!==void 0?[].concat(Jt(e),[n]):e},[e,n])}var P4=A.createContext(null),GO=A.createContext({});function YP(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(IO(n)){var t=n.nodeName.toLowerCase(),r=["input","select","textarea","button"].includes(t)||n.isContentEditable||t==="a"&&!!n.getAttribute("href"),a=n.getAttribute("tabindex"),o=Number(a),l=null;return a&&!Number.isNaN(o)?l=o:r&&l===null&&(l=0),r&&n.disabled&&(l=null),l!==null&&(l>=0||e&&l<0)}return!1}function dJ(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=Jt(n.querySelectorAll("*")).filter(function(r){return YP(r,e)});return YP(n,e)&&t.unshift(n),t}var l2=zo.LEFT,c2=zo.RIGHT,u2=zo.UP,UC=zo.DOWN,FC=zo.ENTER,L4=zo.ESC,Gy=zo.HOME,ky=zo.END,qP=[u2,UC,l2,c2];function hJ(n,e,t,r){var a,o="prev",l="next",s="children",u="parent";if(n==="inline"&&r===FC)return{inlineTrigger:!0};var d=fe(fe({},u2,o),UC,l),g=fe(fe(fe(fe({},l2,t?l:o),c2,t?o:l),UC,s),FC,s),y=fe(fe(fe(fe(fe(fe({},u2,o),UC,l),FC,s),L4,u),l2,t?s:u),c2,t?u:s),_={inline:d,horizontal:g,vertical:y,inlineSub:d,horizontalSub:y,verticalSub:y},C=(a=_["".concat(n).concat(e?"":"Sub")])===null||a===void 0?void 0:a[r];switch(C){case o:return{offset:-1,sibling:!0};case l:return{offset:1,sibling:!0};case u:return{offset:-1,sibling:!1};case s:return{offset:1,sibling:!1};default:return null}}function pJ(n){for(var e=n;e;){if(e.getAttribute("data-menu-list"))return e;e=e.parentElement}return null}function mJ(n,e){for(var t=n||document.activeElement;t;){if(e.has(t))return t;t=t.parentElement}return null}function kO(n,e){var t=dJ(n,!0);return t.filter(function(r){return e.has(r)})}function KP(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;if(!n)return null;var a=kO(n,e),o=a.length,l=a.findIndex(function(s){return t===s});return r<0?l===-1?l=o-1:l-=1:r>0&&(l+=1),l=(l+o)%o,a[l]}var f2=function(e,t){var r=new Set,a=new Map,o=new Map;return e.forEach(function(l){var s=document.querySelector("[data-menu-id='".concat(O4(t,l),"']"));s&&(r.add(s),o.set(s,l),a.set(l,s))}),{elements:r,key2element:a,element2key:o}};function gJ(n,e,t,r,a,o,l,s,u,d){var g=A.useRef(),y=A.useRef();y.current=e;var _=function(){ho.cancel(g.current)};return A.useEffect(function(){return function(){_()}},[]),function(C){var c=C.which;if([].concat(qP,[FC,L4,Gy,ky]).includes(c)){var p=o(),m=f2(p,r),b=m,E=b.elements,T=b.key2element,R=b.element2key,O=T.get(e),D=mJ(O,E),P=R.get(D),F=hJ(n,l(P,!0).length===1,t,c);if(!F&&c!==Gy&&c!==ky)return;(qP.includes(c)||[Gy,ky].includes(c))&&C.preventDefault();var U=function(K){if(K){var ee=K,ue=K.querySelector("a");ue!=null&&ue.getAttribute("href")&&(ee=ue);var q=R.get(K);s(q),_(),g.current=ho(function(){y.current===q&&ee.focus()})}};if([Gy,ky].includes(c)||F.sibling||!D){var z;!D||n==="inline"?z=a.current:z=pJ(D);var $,J=kO(z,E);c===Gy?$=J[0]:c===ky?$=J[J.length-1]:$=KP(z,E,D,F.offset),U($)}else if(F.inlineTrigger)u(P);else if(F.offset>0)u(P,!0),_(),g.current=ho(function(){m=f2(p,r);var Y=D.getAttribute("aria-controls"),K=document.getElementById(Y),ee=KP(K,m.elements);U(ee)},5);else if(F.offset<0){var W=l(P,!0),Z=W[W.length-2],oe=T.get(Z);u(Z,!1),U(oe)}}d==null||d(C)}}function vJ(n){Promise.resolve().then(n)}var $O="__RC_UTIL_PATH_SPLIT__",JP=function(e){return e.join($O)},yJ=function(e){return e.split($O)},d2="rc-menu-more";function bJ(){var n=A.useState({}),e=bt(n,2),t=e[1],r=A.useRef(new Map),a=A.useRef(new Map),o=A.useState([]),l=bt(o,2),s=l[0],u=l[1],d=A.useRef(0),g=A.useRef(!1),y=function(){g.current||t({})},_=A.useCallback(function(T,R){var O=JP(R);a.current.set(O,T),r.current.set(T,O),d.current+=1;var D=d.current;vJ(function(){D===d.current&&y()})},[]),C=A.useCallback(function(T,R){var O=JP(R);a.current.delete(O),r.current.delete(T)},[]),c=A.useCallback(function(T){u(T)},[]),p=A.useCallback(function(T,R){var O=r.current.get(T)||"",D=yJ(O);return R&&s.includes(D[0])&&D.unshift(d2),D},[s]),m=A.useCallback(function(T,R){return T.filter(function(O){return O!==void 0}).some(function(O){var D=p(O,!0);return D.includes(R)})},[p]),b=function(){var R=Jt(r.current.keys());return s.length&&R.push(d2),R},E=A.useCallback(function(T){var R="".concat(r.current.get(T)).concat($O),O=new Set;return Jt(a.current.keys()).forEach(function(D){D.startsWith(R)&&O.add(a.current.get(D))}),O},[]);return A.useEffect(function(){return function(){g.current=!0}},[]),{registerPath:_,unregisterPath:C,refreshOverflowKeys:c,isSubPathKey:m,getKeyPath:p,getKeys:b,getSubPathKeys:E}}function lb(n){var e=A.useRef(n);e.current=n;var t=A.useCallback(function(){for(var r,a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(r=e.current)===null||r===void 0?void 0:r.call.apply(r,[e].concat(o))},[]);return n?t:void 0}var SJ=Math.random().toFixed(5).toString().slice(2),QP=0;function _J(n){var e=nl(n,{value:n}),t=bt(e,2),r=t[0],a=t[1];return A.useEffect(function(){QP+=1;var o="".concat(SJ,"-").concat(QP);a("rc-menu-uuid-".concat(o))},[]),r}function N4(n,e,t,r){var a=A.useContext(kc),o=a.activeKey,l=a.onActive,s=a.onInactive,u={active:o===n};return e||(u.onMouseEnter=function(d){t==null||t({key:n,domEvent:d}),l(n)},u.onMouseLeave=function(d){r==null||r({key:n,domEvent:d}),s(n)}),u}function z4(n){var e=A.useContext(kc),t=e.mode,r=e.rtl,a=e.inlineIndent;if(t!=="inline")return null;var o=n;return r?{paddingRight:o*a}:{paddingLeft:o*a}}function U4(n){var e=n.icon,t=n.props,r=n.children,a;return e===null||e===!1?null:(typeof e=="function"?a=A.createElement(e,Ne({},t)):typeof e!="boolean"&&(a=e),a||r||null)}var xJ=["item"];function H1(n){var e=n.item,t=$n(n,xJ);return Object.defineProperty(t,"item",{get:function(){return No(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),e}}),t}var CJ=["title","attribute","elementRef"],EJ=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],wJ=["active"],AJ=function(n){wr(t,n);var e=Wc(t);function t(){return ai(this,t),e.apply(this,arguments)}return oi(t,[{key:"render",value:function(){var a=this.props,o=a.title,l=a.attribute,s=a.elementRef,u=$n(a,CJ),d=go(u,["eventKey","popupClassName","popupOffset","onTitleClick"]);return No(!l,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),A.createElement(ld.Item,Nt({},l,{title:typeof o=="string"?o:void 0},d,{ref:s}))}}]),t}(A.Component),MJ=A.forwardRef(function(n,e){var t=n.style,r=n.className,a=n.eventKey;n.warnKey;var o=n.disabled,l=n.itemIcon,s=n.children,u=n.role,d=n.onMouseEnter,g=n.onMouseLeave,y=n.onClick,_=n.onKeyDown,C=n.onFocus,c=$n(n,EJ),p=I4(a),m=A.useContext(kc),b=m.prefixCls,E=m.onItemClick,T=m.disabled,R=m.overflowDisabled,O=m.itemIcon,D=m.selectedKeys,P=m.onActive,F=A.useContext(GO),U=F._internalRenderMenuItem,z="".concat(b,"-item"),$=A.useRef(),J=A.useRef(),W=T||o,Z=M0(e,J),oe=I0(a),Y=function(Te){return{key:a,keyPath:Jt(oe).reverse(),item:$.current,domEvent:Te}},K=l||O,ee=N4(a,W,d,g),ue=ee.active,q=$n(ee,wJ),ie=D.includes(a),me=z4(oe.length),de=function(Te){if(!W){var ze=Y(Te);y==null||y(H1(ze)),E(ze)}},Q=function(Te){if(_==null||_(Te),Te.which===zo.ENTER){var ze=Y(Te);y==null||y(H1(ze)),E(ze)}},he=function(Te){P(a),C==null||C(Te)},xe={};n.role==="option"&&(xe["aria-selected"]=ie);var Oe=A.createElement(AJ,Nt({ref:$,elementRef:Z,role:u===null?"none":u||"menuitem",tabIndex:o?null:-1,"data-menu-id":R&&p?null:p},go(c,["extra"]),q,xe,{component:"li","aria-disabled":o,style:Ne(Ne({},me),t),className:et(z,fe(fe(fe({},"".concat(z,"-active"),ue),"".concat(z,"-selected"),ie),"".concat(z,"-disabled"),W),r),onClick:de,onKeyDown:Q,onFocus:he}),s,A.createElement(U4,{props:Ne(Ne({},n),{},{isSelected:ie}),icon:K}));return U&&(Oe=U(Oe,n,{selected:ie})),Oe});function TJ(n,e){var t=n.eventKey,r=_w(),a=I0(t);return A.useEffect(function(){if(r)return r.registerPath(t,a),function(){r.unregisterPath(t,a)}},[a]),r?null:A.createElement(MJ,Nt({},n,{ref:e}))}const xw=A.forwardRef(TJ);var RJ=["className","children"],OJ=function(e,t){var r=e.className,a=e.children,o=$n(e,RJ),l=A.useContext(kc),s=l.prefixCls,u=l.mode,d=l.rtl;return A.createElement("ul",Nt({className:et(s,d&&"".concat(s,"-rtl"),"".concat(s,"-sub"),"".concat(s,"-").concat(u==="inline"?"inline":"vertical"),r),role:"menu"},o,{"data-menu-list":!0,ref:t}),a)},VO=A.forwardRef(OJ);VO.displayName="SubMenuList";function jO(n,e){return Ju(n).map(function(t,r){if(A.isValidElement(t)){var a,o,l=t.key,s=(a=(o=t.props)===null||o===void 0?void 0:o.eventKey)!==null&&a!==void 0?a:l,u=s==null;u&&(s="tmp_key-".concat([].concat(Jt(e),[r]).join("-")));var d={key:s,eventKey:s};return A.cloneElement(t,d)}return t})}var Bo={adjustX:1,adjustY:1},IJ={topLeft:{points:["bl","tl"],overflow:Bo},topRight:{points:["br","tr"],overflow:Bo},bottomLeft:{points:["tl","bl"],overflow:Bo},bottomRight:{points:["tr","br"],overflow:Bo},leftTop:{points:["tr","tl"],overflow:Bo},leftBottom:{points:["br","bl"],overflow:Bo},rightTop:{points:["tl","tr"],overflow:Bo},rightBottom:{points:["bl","br"],overflow:Bo}},BJ={topLeft:{points:["bl","tl"],overflow:Bo},topRight:{points:["br","tr"],overflow:Bo},bottomLeft:{points:["tl","bl"],overflow:Bo},bottomRight:{points:["tr","br"],overflow:Bo},rightTop:{points:["tr","tl"],overflow:Bo},rightBottom:{points:["br","bl"],overflow:Bo},leftTop:{points:["tl","tr"],overflow:Bo},leftBottom:{points:["bl","br"],overflow:Bo}};function F4(n,e,t){if(e)return e;if(t)return t[n]||t.other}var DJ={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function PJ(n){var e=n.prefixCls,t=n.visible,r=n.children,a=n.popup,o=n.popupStyle,l=n.popupClassName,s=n.popupOffset,u=n.disabled,d=n.mode,g=n.onVisibleChange,y=A.useContext(kc),_=y.getPopupContainer,C=y.rtl,c=y.subMenuOpenDelay,p=y.subMenuCloseDelay,m=y.builtinPlacements,b=y.triggerSubMenuAction,E=y.forceSubMenuRender,T=y.rootClassName,R=y.motion,O=y.defaultMotions,D=A.useState(!1),P=bt(D,2),F=P[0],U=P[1],z=Ne(C?Ne({},BJ):Ne({},IJ),m),$=DJ[d],J=F4(d,R,O),W=A.useRef(J);d!=="inline"&&(W.current=J);var Z=Ne(Ne({},W.current),{},{leavedClassName:"".concat(e,"-hidden"),removeOnLeave:!1,motionAppear:!0}),oe=A.useRef();return A.useEffect(function(){return oe.current=ho(function(){U(t)}),function(){ho.cancel(oe.current)}},[t]),A.createElement(h4,{prefixCls:e,popupClassName:et("".concat(e,"-popup"),fe({},"".concat(e,"-rtl"),C),l,T),stretch:d==="horizontal"?"minWidth":null,getPopupContainer:_,builtinPlacements:z,popupPlacement:$,popupVisible:F,popup:a,popupStyle:o,popupAlign:s&&{offset:s},action:u?[]:[b],mouseEnterDelay:c,mouseLeaveDelay:p,onPopupVisibleChange:g,forceRender:E,popupMotion:Z,fresh:!0},r)}function LJ(n){var e=n.id,t=n.open,r=n.keyPath,a=n.children,o="inline",l=A.useContext(kc),s=l.prefixCls,u=l.forceSubMenuRender,d=l.motion,g=l.defaultMotions,y=l.mode,_=A.useRef(!1);_.current=y===o;var C=A.useState(!_.current),c=bt(C,2),p=c[0],m=c[1],b=_.current?t:!1;A.useEffect(function(){_.current&&m(!1)},[y]);var E=Ne({},F4(o,d,g));r.length>1&&(E.motionAppear=!1);var T=E.onVisibleChanged;return E.onVisibleChanged=function(R){return!_.current&&!R&&m(!0),T==null?void 0:T(R)},p?null:A.createElement(tS,{mode:o,locked:!_.current},A.createElement(Xc,Nt({visible:b},E,{forceRender:u,removeOnLeave:!1,leavedClassName:"".concat(s,"-hidden")}),function(R){var O=R.className,D=R.style;return A.createElement(VO,{id:e,className:O,style:D},a)}))}var NJ=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","popupStyle","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],zJ=["active"],UJ=A.forwardRef(function(n,e){var t=n.style,r=n.className,a=n.title,o=n.eventKey;n.warnKey;var l=n.disabled,s=n.internalPopupClose,u=n.children,d=n.itemIcon,g=n.expandIcon,y=n.popupClassName,_=n.popupOffset,C=n.popupStyle,c=n.onClick,p=n.onMouseEnter,m=n.onMouseLeave,b=n.onTitleClick,E=n.onTitleMouseEnter,T=n.onTitleMouseLeave,R=$n(n,NJ),O=I4(o),D=A.useContext(kc),P=D.prefixCls,F=D.mode,U=D.openKeys,z=D.disabled,$=D.overflowDisabled,J=D.activeKey,W=D.selectedKeys,Z=D.itemIcon,oe=D.expandIcon,Y=D.onItemClick,K=D.onOpenChange,ee=D.onActive,ue=A.useContext(GO),q=ue._internalRenderSubMenuItem,ie=A.useContext(P4),me=ie.isSubPathKey,de=I0(),Q="".concat(P,"-submenu"),he=z||l,xe=A.useRef(),Oe=A.useRef(),Ae=d??Z,Te=g??oe,ze=U.includes(o),vt=!$&&ze,Be=me(W,o),Ce=N4(o,he,E,T),re=Ce.active,Fe=$n(Ce,zJ),Ie=A.useState(!1),Ye=bt(Ie,2),ke=Ye[0],lt=Ye[1],ot=function(Se){he||lt(Se)},ce=function(Se){ot(!0),p==null||p({key:o,domEvent:Se})},ae=function(Se){ot(!1),m==null||m({key:o,domEvent:Se})},we=A.useMemo(function(){return re||(F!=="inline"?ke||me([J],o):!1)},[F,re,J,ke,o,me]),De=z4(de.length),qe=function(Se){he||(b==null||b({key:o,domEvent:Se}),F==="inline"&&K(o,!ze))},He=lb(function(it){c==null||c(H1(it)),Y(it)}),gt=function(Se){F!=="inline"&&K(o,Se)},st=function(){ee(o)},pt=O&&"".concat(O,"-popup"),Ot=A.useMemo(function(){return A.createElement(U4,{icon:F!=="horizontal"?Te:void 0,props:Ne(Ne({},n),{},{isOpen:vt,isSubMenu:!0})},A.createElement("i",{className:"".concat(Q,"-arrow")}))},[F,Te,n,vt,Q]),at=A.createElement("div",Nt({role:"menuitem",style:De,className:"".concat(Q,"-title"),tabIndex:he?null:-1,ref:xe,title:typeof a=="string"?a:null,"data-menu-id":$&&O?null:O,"aria-expanded":vt,"aria-haspopup":!0,"aria-controls":pt,"aria-disabled":he,onClick:qe,onFocus:st},Fe),a,Ot),_t=A.useRef(F);if(F!=="inline"&&de.length>1?_t.current="vertical":_t.current=F,!$){var Ct=_t.current;at=A.createElement(PJ,{mode:Ct,prefixCls:Q,visible:!s&&vt&&F!=="inline",popupClassName:y,popupOffset:_,popupStyle:C,popup:A.createElement(tS,{mode:Ct==="horizontal"?"vertical":Ct},A.createElement(VO,{id:pt,ref:Oe},u)),disabled:he,onVisibleChange:gt},at)}var je=A.createElement(ld.Item,Nt({ref:e,role:"none"},R,{component:"li",style:t,className:et(Q,"".concat(Q,"-").concat(F),r,fe(fe(fe(fe({},"".concat(Q,"-open"),vt),"".concat(Q,"-active"),we),"".concat(Q,"-selected"),Be),"".concat(Q,"-disabled"),he)),onMouseEnter:ce,onMouseLeave:ae}),at,!$&&A.createElement(LJ,{id:pt,open:vt,keyPath:de},u));return q&&(je=q(je,n,{selected:Be,active:we,open:vt,disabled:he})),A.createElement(tS,{onItemClick:He,mode:F==="horizontal"?"vertical":F,itemIcon:Ae,expandIcon:Te},je)}),Cw=A.forwardRef(function(n,e){var t=n.eventKey,r=n.children,a=I0(t),o=jO(r,a),l=_w();A.useEffect(function(){if(l)return l.registerPath(t,a),function(){l.unregisterPath(t,a)}},[a]);var s;return l?s=o:s=A.createElement(UJ,Nt({ref:e},n),o),A.createElement(D4.Provider,{value:a},s)});function WO(n){var e=n.className,t=n.style,r=A.useContext(kc),a=r.prefixCls,o=_w();return o?null:A.createElement("li",{role:"separator",className:et("".concat(a,"-item-divider"),e),style:t})}var FJ=["className","title","eventKey","children"],HJ=A.forwardRef(function(n,e){var t=n.className,r=n.title;n.eventKey;var a=n.children,o=$n(n,FJ),l=A.useContext(kc),s=l.prefixCls,u="".concat(s,"-item-group");return A.createElement("li",Nt({ref:e,role:"presentation"},o,{onClick:function(g){return g.stopPropagation()},className:et(u,t)}),A.createElement("div",{role:"presentation",className:"".concat(u,"-title"),title:typeof r=="string"?r:void 0},r),A.createElement("ul",{role:"group",className:"".concat(u,"-list")},a))}),XO=A.forwardRef(function(n,e){var t=n.eventKey,r=n.children,a=I0(t),o=jO(r,a),l=_w();return l?o:A.createElement(HJ,Nt({ref:e},go(n,["warnKey"])),o)}),GJ=["label","children","key","type","extra"];function h2(n,e,t){var r=e.item,a=e.group,o=e.submenu,l=e.divider;return(n||[]).map(function(s,u){if(s&&mn(s)==="object"){var d=s,g=d.label,y=d.children,_=d.key,C=d.type,c=d.extra,p=$n(d,GJ),m=_??"tmp-".concat(u);return y||C==="group"?C==="group"?A.createElement(a,Nt({key:m},p,{title:g}),h2(y,e,t)):A.createElement(o,Nt({key:m},p,{title:g}),h2(y,e,t)):C==="divider"?A.createElement(l,Nt({key:m},p)):A.createElement(r,Nt({key:m},p,{extra:c}),g,(!!c||c===0)&&A.createElement("span",{className:"".concat(t,"-item-extra")},c))}return null}).filter(function(s){return s})}function ZP(n,e,t,r,a){var o=n,l=Ne({divider:WO,item:xw,group:XO,submenu:Cw},r);return e&&(o=h2(e,l,a)),jO(o,t)}var kJ=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem","_internalComponents"],Ap=[],$J=A.forwardRef(function(n,e){var t,r=n,a=r.prefixCls,o=a===void 0?"rc-menu":a,l=r.rootClassName,s=r.style,u=r.className,d=r.tabIndex,g=d===void 0?0:d,y=r.items,_=r.children,C=r.direction,c=r.id,p=r.mode,m=p===void 0?"vertical":p,b=r.inlineCollapsed,E=r.disabled,T=r.disabledOverflow,R=r.subMenuOpenDelay,O=R===void 0?.1:R,D=r.subMenuCloseDelay,P=D===void 0?.1:D,F=r.forceSubMenuRender,U=r.defaultOpenKeys,z=r.openKeys,$=r.activeKey,J=r.defaultActiveFirst,W=r.selectable,Z=W===void 0?!0:W,oe=r.multiple,Y=oe===void 0?!1:oe,K=r.defaultSelectedKeys,ee=r.selectedKeys,ue=r.onSelect,q=r.onDeselect,ie=r.inlineIndent,me=ie===void 0?24:ie,de=r.motion,Q=r.defaultMotions,he=r.triggerSubMenuAction,xe=he===void 0?"hover":he,Oe=r.builtinPlacements,Ae=r.itemIcon,Te=r.expandIcon,ze=r.overflowedIndicator,vt=ze===void 0?"...":ze,Be=r.overflowedIndicatorPopupClassName,Ce=r.getPopupContainer,re=r.onClick,Fe=r.onOpenChange,Ie=r.onKeyDown;r.openAnimation,r.openTransitionName;var Ye=r._internalRenderMenuItem,ke=r._internalRenderSubMenuItem,lt=r._internalComponents,ot=$n(r,kJ),ce=A.useMemo(function(){return[ZP(_,y,Ap,lt,o),ZP(_,y,Ap,{},o)]},[_,y,lt]),ae=bt(ce,2),we=ae[0],De=ae[1],qe=A.useState(!1),He=bt(qe,2),gt=He[0],st=He[1],pt=A.useRef(),Ot=_J(c),at=C==="rtl",_t=nl(U,{value:z,postState:function(Tn){return Tn||Ap}}),Ct=bt(_t,2),je=Ct[0],it=Ct[1],Se=function(Tn){var Cn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;function Zn(){it(Tn),Fe==null||Fe(Tn)}Cn?Ph.flushSync(Zn):Zn()},Ge=A.useState(je),St=bt(Ge,2),Me=St[0],xt=St[1],Qe=A.useRef(!1),mt=A.useMemo(function(){return(m==="inline"||m==="vertical")&&b?["vertical",b]:[m,!1]},[m,b]),Lt=bt(mt,2),It=Lt[0],Qt=Lt[1],sn=It==="inline",qt=A.useState(It),Dt=bt(qt,2),Yt=Dt[0],yn=Dt[1],lr=A.useState(Qt),Kr=bt(lr,2),zn=Kr[0],Ai=Kr[1];A.useEffect(function(){yn(It),Ai(Qt),Qe.current&&(sn?it(Me):Se(Ap))},[It,Qt]);var br=A.useState(0),wn=bt(br,2),Mn=wn[0],Qn=wn[1],un=Mn>=we.length-1||Yt!=="horizontal"||T;A.useEffect(function(){sn&&xt(je)},[je]),A.useEffect(function(){return Qe.current=!0,function(){Qe.current=!1}},[]);var ii=bJ(),ln=ii.registerPath,Lr=ii.unregisterPath,Nr=ii.refreshOverflowKeys,Tr=ii.isSubPathKey,Rr=ii.getKeyPath,cr=ii.getKeys,Sr=ii.getSubPathKeys,le=A.useMemo(function(){return{registerPath:ln,unregisterPath:Lr}},[ln,Lr]),Ue=A.useMemo(function(){return{isSubPathKey:Tr}},[Tr]);A.useEffect(function(){Nr(un?Ap:we.slice(Mn+1).map(function(Gn){return Gn.key}))},[Mn,un]);var rt=nl($||J&&((t=we[0])===null||t===void 0?void 0:t.key),{value:$}),Je=bt(rt,2),$e=Je[0],Tt=Je[1],Vt=lb(function(Gn){Tt(Gn)}),Kt=lb(function(){Tt(void 0)});A.useImperativeHandle(e,function(){return{list:pt.current,focus:function(Tn){var Cn,Zn=cr(),An=f2(Zn,Ot),_i=An.elements,Pi=An.key2element,$i=An.element2key,qi=kO(pt.current,_i),Or=$e??(qi[0]?$i.get(qi[0]):(Cn=we.find(function(Qa){return!Qa.props.disabled}))===null||Cn===void 0?void 0:Cn.key),Wi=Pi.get(Or);if(Or&&Wi){var vo;Wi==null||(vo=Wi.focus)===null||vo===void 0||vo.call(Wi,Tn)}}}});var Wt=nl(K||[],{value:ee,postState:function(Tn){return Array.isArray(Tn)?Tn:Tn==null?Ap:[Tn]}}),gn=bt(Wt,2),fn=gn[0],on=gn[1],Hn=function(Tn){if(Z){var Cn=Tn.key,Zn=fn.includes(Cn),An;Y?Zn?An=fn.filter(function(Pi){return Pi!==Cn}):An=[].concat(Jt(fn),[Cn]):An=[Cn],on(An);var _i=Ne(Ne({},Tn),{},{selectedKeys:An});Zn?q==null||q(_i):ue==null||ue(_i)}!Y&&je.length&&Yt!=="inline"&&Se(Ap)},kn=lb(function(Gn){re==null||re(H1(Gn)),Hn(Gn)}),Vn=lb(function(Gn,Tn){var Cn=je.filter(function(An){return An!==Gn});if(Tn)Cn.push(Gn);else if(Yt!=="inline"){var Zn=Sr(Gn);Cn=Cn.filter(function(An){return!Zn.has(An)})}i0(je,Cn,!0)||Se(Cn,!0)}),In=function(Tn,Cn){var Zn=Cn??!je.includes(Tn);Vn(Tn,Zn)},bn=gJ(Yt,$e,at,Ot,pt,cr,Rr,Tt,In,Ie);A.useEffect(function(){st(!0)},[]);var cn=A.useMemo(function(){return{_internalRenderMenuItem:Ye,_internalRenderSubMenuItem:ke}},[Ye,ke]),bi=Yt!=="horizontal"||T?we:we.map(function(Gn,Tn){return A.createElement(tS,{key:Gn.key,overflowDisabled:Tn>Mn},Gn)}),jn=A.createElement(ld,Nt({id:c,ref:pt,prefixCls:"".concat(o,"-overflow"),component:"ul",itemComponent:xw,className:et(o,"".concat(o,"-root"),"".concat(o,"-").concat(Yt),u,fe(fe({},"".concat(o,"-inline-collapsed"),zn),"".concat(o,"-rtl"),at),l),dir:C,style:s,role:"menu",tabIndex:g,data:bi,renderRawItem:function(Tn){return Tn},renderRawRest:function(Tn){var Cn=Tn.length,Zn=Cn?we.slice(-Cn):null;return A.createElement(Cw,{eventKey:d2,title:vt,disabled:un,internalPopupClose:Cn===0,popupClassName:Be},Zn)},maxCount:Yt!=="horizontal"||T?ld.INVALIDATE:ld.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(Tn){Qn(Tn)},onKeyDown:bn},ot));return A.createElement(GO.Provider,{value:cn},A.createElement(R4.Provider,{value:Ot},A.createElement(tS,{prefixCls:o,rootClassName:l,mode:Yt,openKeys:je,rtl:at,disabled:E,motion:gt?de:null,defaultMotions:gt?Q:null,activeKey:$e,onActive:Vt,onInactive:Kt,selectedKeys:fn,inlineIndent:me,subMenuOpenDelay:O,subMenuCloseDelay:P,forceSubMenuRender:F,builtinPlacements:Oe,triggerSubMenuAction:xe,getPopupContainer:Ce,itemIcon:Ae,expandIcon:Te,onItemClick:kn,onOpenChange:Vn},A.createElement(P4.Provider,{value:Ue},jn),A.createElement("div",{style:{display:"none"},"aria-hidden":!0},A.createElement(B4.Provider,{value:le},De)))))}),IS=$J;IS.Item=xw;IS.SubMenu=Cw;IS.ItemGroup=XO;IS.Divider=WO;const H4=A.createContext({siderHook:{addSider:()=>null,removeSider:()=>null}}),VJ=n=>{const{antCls:e,componentCls:t,colorText:r,footerBg:a,headerHeight:o,headerPadding:l,headerColor:s,footerPadding:u,fontSize:d,bodyBg:g,headerBg:y}=n;return{[t]:{display:"flex",flex:"auto",flexDirection:"column",minHeight:0,background:g,"&, *":{boxSizing:"border-box"},[`&${t}-has-sider`]:{flexDirection:"row",[`> ${t}, > ${t}-content`]:{width:0}},[`${t}-header, &${t}-footer`]:{flex:"0 0 auto"},"&-rtl":{direction:"rtl"}},[`${t}-header`]:{height:o,padding:l,color:s,lineHeight:Pt(o),background:y,[`${e}-menu`]:{lineHeight:"inherit"}},[`${t}-footer`]:{padding:u,color:r,fontSize:d,background:a},[`${t}-content`]:{flex:"auto",color:r,minHeight:0}}},G4=n=>{const{colorBgLayout:e,controlHeight:t,controlHeightLG:r,colorText:a,controlHeightSM:o,marginXXS:l,colorTextLightSolid:s,colorBgContainer:u}=n,d=r*1.25;return{colorBgHeader:"#001529",colorBgBody:e,colorBgTrigger:"#002140",bodyBg:e,headerBg:"#001529",headerHeight:t*2,headerPadding:`0 ${d}px`,headerColor:a,footerPadding:`${o}px ${d}px`,footerBg:e,siderBg:"#001529",triggerHeight:r+l*2,triggerBg:"#002140",triggerColor:s,zeroTriggerWidth:r,zeroTriggerHeight:r,lightSiderBg:u,lightTriggerBg:u,lightTriggerColor:a}},k4=[["colorBgBody","bodyBg"],["colorBgHeader","headerBg"],["colorBgTrigger","triggerBg"]],$4=oa("Layout",n=>[VJ(n)],G4,{deprecatedTokens:k4}),jJ=n=>{const{componentCls:e,siderBg:t,motionDurationMid:r,motionDurationSlow:a,antCls:o,triggerHeight:l,triggerColor:s,triggerBg:u,headerHeight:d,zeroTriggerWidth:g,zeroTriggerHeight:y,borderRadiusLG:_,lightSiderBg:C,lightTriggerColor:c,lightTriggerBg:p,bodyBg:m}=n;return{[e]:{position:"relative",minWidth:0,background:t,transition:`all ${r}, background 0s`,"&-has-trigger":{paddingBottom:l},"&-right":{order:1},[`${e}-children`]:{height:"100%",marginTop:-.1,paddingTop:.1,[`${o}-menu${o}-menu-inline-collapsed`]:{width:"auto"}},[`&-zero-width ${e}-children`]:{overflow:"hidden"},[`${e}-trigger`]:{position:"fixed",bottom:0,zIndex:1,height:l,color:s,lineHeight:Pt(l),textAlign:"center",background:u,cursor:"pointer",transition:`all ${r}`},[`${e}-zero-width-trigger`]:{position:"absolute",top:d,insetInlineEnd:n.calc(g).mul(-1).equal(),zIndex:1,width:g,height:y,color:s,fontSize:n.fontSizeXL,display:"flex",alignItems:"center",justifyContent:"center",background:t,borderRadius:`0 ${Pt(_)} ${Pt(_)} 0`,cursor:"pointer",transition:`background ${a} ease`,"&::after":{position:"absolute",inset:0,background:"transparent",transition:`all ${a}`,content:'""'},"&:hover::after":{background:"rgba(255, 255, 255, 0.2)"},"&-right":{insetInlineStart:n.calc(g).mul(-1).equal(),borderRadius:`${Pt(_)} 0 0 ${Pt(_)}`}},"&-light":{background:C,[`${e}-trigger`]:{color:c,background:p},[`${e}-zero-width-trigger`]:{color:c,background:p,border:`1px solid ${m}`,borderInlineStart:0}}}}},WJ=oa(["Layout","Sider"],n=>[jJ(n)],G4,{deprecatedTokens:k4});var XJ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const eL={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px"},YJ=n=>!Number.isNaN(Number.parseFloat(n))&&isFinite(n),Ew=A.createContext({}),qJ=(()=>{let n=0;return function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return n+=1,`${e}${n}`}})(),V4=A.forwardRef((n,e)=>{const{prefixCls:t,className:r,trigger:a,children:o,defaultCollapsed:l=!1,theme:s="dark",style:u={},collapsible:d=!1,reverseArrow:g=!1,width:y=200,collapsedWidth:_=80,zeroWidthTriggerStyle:C,breakpoint:c,onCollapse:p,onBreakpoint:m}=n,b=XJ(n,["prefixCls","className","trigger","children","defaultCollapsed","theme","style","collapsible","reverseArrow","width","collapsedWidth","zeroWidthTriggerStyle","breakpoint","onCollapse","onBreakpoint"]),{siderHook:E}=A.useContext(H4),[T,R]=A.useState("collapsed"in n?n.collapsed:l),[O,D]=A.useState(!1);A.useEffect(()=>{"collapsed"in n&&R(n.collapsed)},[n.collapsed]);const P=(Ae,Te)=>{"collapsed"in n||R(Ae),p==null||p(Ae,Te)},{getPrefixCls:F,direction:U}=A.useContext(qn),z=F("layout-sider",t),[$,J,W]=WJ(z),Z=A.useRef(null);Z.current=Ae=>{D(Ae.matches),m==null||m(Ae.matches),T!==Ae.matches&&P(Ae.matches,"responsive")},A.useEffect(()=>{function Ae(ze){return Z.current(ze)}let Te;if(typeof window<"u"){const{matchMedia:ze}=window;if(ze&&c&&c in eL){Te=ze(`screen and (max-width: ${eL[c]})`);try{Te.addEventListener("change",Ae)}catch{Te.addListener(Ae)}Ae(Te)}}return()=>{try{Te==null||Te.removeEventListener("change",Ae)}catch{Te==null||Te.removeListener(Ae)}}},[c]),A.useEffect(()=>{const Ae=qJ("ant-sider-");return E.addSider(Ae),()=>E.removeSider(Ae)},[]);const oe=()=>{P(!T,"clickTrigger")},Y=go(b,["collapsed"]),K=T?_:y,ee=YJ(K)?`${K}px`:String(K),ue=parseFloat(String(_||0))===0?A.createElement("span",{onClick:oe,className:et(`${z}-zero-width-trigger`,`${z}-zero-width-trigger-${g?"right":"left"}`),style:C},a||A.createElement(Zk,null)):null,q=U==="rtl"==!g,de={expanded:q?A.createElement(TR,null):A.createElement(MR,null),collapsed:q?A.createElement(MR,null):A.createElement(TR,null)}[T?"collapsed":"expanded"],Q=a!==null?ue||A.createElement("div",{className:`${z}-trigger`,onClick:oe,style:{width:ee}},a||de):null,he=Object.assign(Object.assign({},u),{flex:`0 0 ${ee}`,maxWidth:ee,minWidth:ee,width:ee}),xe=et(z,`${z}-${s}`,{[`${z}-collapsed`]:!!T,[`${z}-has-trigger`]:d&&a!==null&&!ue,[`${z}-below`]:!!O,[`${z}-zero-width`]:parseFloat(ee)===0},r,J,W),Oe=A.useMemo(()=>({siderCollapsed:T}),[T]);return $(A.createElement(Ew.Provider,{value:Oe},A.createElement("aside",Object.assign({className:xe},Y,{style:he,ref:e}),A.createElement("div",{className:`${z}-children`},o),d||O&&ue?Q:null)))}),G1=A.createContext({prefixCls:"",firstLevel:!0,inlineCollapsed:!1});var KJ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const j4=n=>{const{prefixCls:e,className:t,dashed:r}=n,a=KJ(n,["prefixCls","className","dashed"]),{getPrefixCls:o}=A.useContext(qn),l=o("menu",e),s=et({[`${l}-item-divider-dashed`]:!!r},t);return A.createElement(WO,Object.assign({className:s},a))},W4=n=>{var e;const{className:t,children:r,icon:a,title:o,danger:l,extra:s}=n,{prefixCls:u,firstLevel:d,direction:g,disableMenuItemTitleTooltip:y,inlineCollapsed:_}=A.useContext(G1),C=T=>{const R=r==null?void 0:r[0],O=A.createElement("span",{className:et(`${u}-title-content`,{[`${u}-title-content-with-extra`]:!!s||s===0})},r);return(!a||A.isValidElement(r)&&r.type==="span")&&r&&T&&d&&typeof R=="string"?A.createElement("div",{className:`${u}-inline-collapsed-noicon`},R.charAt(0)):O},{siderCollapsed:c}=A.useContext(Ew);let p=o;typeof o>"u"?p=d?r:"":o===!1&&(p="");const m={title:p};!c&&!_&&(m.title=null,m.open=!1);const b=Ju(r).length;let E=A.createElement(xw,Object.assign({},go(n,["title","icon","danger"]),{className:et({[`${u}-item-danger`]:l,[`${u}-item-only-child`]:(a?b+1:b)===1},t),title:typeof o=="string"?o:void 0}),rl(a,{className:et(A.isValidElement(a)?(e=a.props)===null||e===void 0?void 0:e.className:"",`${u}-item-icon`)}),C(_));return y||(E=A.createElement(Ul,Object.assign({},m,{placement:g==="rtl"?"left":"right",classNames:{root:`${u}-inline-collapsed-tooltip`}}),E)),E},tL=A.createContext(null),JJ=n=>{const{componentCls:e,motionDurationSlow:t,horizontalLineHeight:r,colorSplit:a,lineWidth:o,lineType:l,itemPaddingInline:s}=n;return{[`${e}-horizontal`]:{lineHeight:r,border:0,borderBottom:`${Pt(o)} ${l} ${a}`,boxShadow:"none","&::after":{display:"block",clear:"both",height:0,content:'"\\20"'},[`${e}-item, ${e}-submenu`]:{position:"relative",display:"inline-block",verticalAlign:"bottom",paddingInline:s},[`> ${e}-item:hover,
        > ${e}-item-active,
        > ${e}-submenu ${e}-submenu-title:hover`]:{backgroundColor:"transparent"},[`${e}-item, ${e}-submenu-title`]:{transition:[`border-color ${t}`,`background ${t}`].join(",")},[`${e}-submenu-arrow`]:{display:"none"}}}},QJ=n=>{let{componentCls:e,menuArrowOffset:t,calc:r}=n;return{[`${e}-rtl`]:{direction:"rtl"},[`${e}-submenu-rtl`]:{transformOrigin:"100% 0"},[`${e}-rtl${e}-vertical,
    ${e}-submenu-rtl ${e}-vertical`]:{[`${e}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateY(${Pt(r(t).mul(-1).equal())})`},"&::after":{transform:`rotate(45deg) translateY(${Pt(t)})`}}}}},nL=n=>Object.assign({},YU(n)),iL=(n,e)=>{const{componentCls:t,itemColor:r,itemSelectedColor:a,subMenuItemSelectedColor:o,groupTitleColor:l,itemBg:s,subMenuItemBg:u,itemSelectedBg:d,activeBarHeight:g,activeBarWidth:y,activeBarBorderWidth:_,motionDurationSlow:C,motionEaseInOut:c,motionEaseOut:p,itemPaddingInline:m,motionDurationMid:b,itemHoverColor:E,lineType:T,colorSplit:R,itemDisabledColor:O,dangerItemColor:D,dangerItemHoverColor:P,dangerItemSelectedColor:F,dangerItemActiveBg:U,dangerItemSelectedBg:z,popupBg:$,itemHoverBg:J,itemActiveBg:W,menuSubMenuBg:Z,horizontalItemSelectedColor:oe,horizontalItemSelectedBg:Y,horizontalItemBorderRadius:K,horizontalItemHoverBg:ee}=n;return{[`${t}-${e}, ${t}-${e} > ${t}`]:{color:r,background:s,[`&${t}-root:focus-visible`]:Object.assign({},nL(n)),[`${t}-item`]:{"&-group-title, &-extra":{color:l}},[`${t}-submenu-selected > ${t}-submenu-title`]:{color:o},[`${t}-item, ${t}-submenu-title`]:{color:r,[`&:not(${t}-item-disabled):focus-visible`]:Object.assign({},nL(n))},[`${t}-item-disabled, ${t}-submenu-disabled`]:{color:`${O} !important`},[`${t}-item:not(${t}-item-selected):not(${t}-submenu-selected)`]:{[`&:hover, > ${t}-submenu-title:hover`]:{color:E}},[`&:not(${t}-horizontal)`]:{[`${t}-item:not(${t}-item-selected)`]:{"&:hover":{backgroundColor:J},"&:active":{backgroundColor:W}},[`${t}-submenu-title`]:{"&:hover":{backgroundColor:J},"&:active":{backgroundColor:W}}},[`${t}-item-danger`]:{color:D,[`&${t}-item:hover`]:{[`&:not(${t}-item-selected):not(${t}-submenu-selected)`]:{color:P}},[`&${t}-item:active`]:{background:U}},[`${t}-item a`]:{"&, &:hover":{color:"inherit"}},[`${t}-item-selected`]:{color:a,[`&${t}-item-danger`]:{color:F},"a, a:hover":{color:"inherit"}},[`& ${t}-item-selected`]:{backgroundColor:d,[`&${t}-item-danger`]:{backgroundColor:z}},[`&${t}-submenu > ${t}`]:{backgroundColor:Z},[`&${t}-popup > ${t}`]:{backgroundColor:$},[`&${t}-submenu-popup > ${t}`]:{backgroundColor:$},[`&${t}-horizontal`]:Object.assign(Object.assign({},e==="dark"?{borderBottom:0}:{}),{[`> ${t}-item, > ${t}-submenu`]:{top:_,marginTop:n.calc(_).mul(-1).equal(),marginBottom:0,borderRadius:K,"&::after":{position:"absolute",insetInline:m,bottom:0,borderBottom:`${Pt(g)} solid transparent`,transition:`border-color ${C} ${c}`,content:'""'},"&:hover, &-active, &-open":{background:ee,"&::after":{borderBottomWidth:g,borderBottomColor:oe}},"&-selected":{color:oe,backgroundColor:Y,"&:hover":{backgroundColor:Y},"&::after":{borderBottomWidth:g,borderBottomColor:oe}}}}),[`&${t}-root`]:{[`&${t}-inline, &${t}-vertical`]:{borderInlineEnd:`${Pt(_)} ${T} ${R}`}},[`&${t}-inline`]:{[`${t}-sub${t}-inline`]:{background:u},[`${t}-item`]:{position:"relative","&::after":{position:"absolute",insetBlock:0,insetInlineEnd:0,borderInlineEnd:`${Pt(y)} solid ${a}`,transform:"scaleY(0.0001)",opacity:0,transition:[`transform ${b} ${p}`,`opacity ${b} ${p}`].join(","),content:'""'},[`&${t}-item-danger`]:{"&::after":{borderInlineEndColor:F}}},[`${t}-selected, ${t}-item-selected`]:{"&::after":{transform:"scaleY(1)",opacity:1,transition:[`transform ${b} ${c}`,`opacity ${b} ${c}`].join(",")}}}}}},rL=n=>{const{componentCls:e,itemHeight:t,itemMarginInline:r,padding:a,menuArrowSize:o,marginXS:l,itemMarginBlock:s,itemWidth:u,itemPaddingInline:d}=n,g=n.calc(o).add(a).add(l).equal();return{[`${e}-item`]:{position:"relative",overflow:"hidden"},[`${e}-item, ${e}-submenu-title`]:{height:t,lineHeight:Pt(t),paddingInline:d,overflow:"hidden",textOverflow:"ellipsis",marginInline:r,marginBlock:s,width:u},[`> ${e}-item,
            > ${e}-submenu > ${e}-submenu-title`]:{height:t,lineHeight:Pt(t)},[`${e}-item-group-list ${e}-submenu-title,
            ${e}-submenu-title`]:{paddingInlineEnd:g}}},ZJ=n=>{const{componentCls:e,iconCls:t,itemHeight:r,colorTextLightSolid:a,dropdownWidth:o,controlHeightLG:l,motionEaseOut:s,paddingXL:u,itemMarginInline:d,fontSizeLG:g,motionDurationFast:y,motionDurationSlow:_,paddingXS:C,boxShadowSecondary:c,collapsedWidth:p,collapsedIconSize:m}=n,b={height:r,lineHeight:Pt(r),listStylePosition:"inside",listStyleType:"disc"};return[{[e]:{"&-inline, &-vertical":Object.assign({[`&${e}-root`]:{boxShadow:"none"}},rL(n))},[`${e}-submenu-popup`]:{[`${e}-vertical`]:Object.assign(Object.assign({},rL(n)),{boxShadow:c})}},{[`${e}-submenu-popup ${e}-vertical${e}-sub`]:{minWidth:o,maxHeight:`calc(100vh - ${Pt(n.calc(l).mul(2.5).equal())})`,padding:"0",overflow:"hidden",borderInlineEnd:0,"&:not([class*='-active'])":{overflowX:"hidden",overflowY:"auto"}}},{[`${e}-inline`]:{width:"100%",[`&${e}-root`]:{[`${e}-item, ${e}-submenu-title`]:{display:"flex",alignItems:"center",transition:[`border-color ${_}`,`background ${_}`,`padding ${y} ${s}`].join(","),[`> ${e}-title-content`]:{flex:"auto",minWidth:0,overflow:"hidden",textOverflow:"ellipsis"},"> *":{flex:"none"}}},[`${e}-sub${e}-inline`]:{padding:0,border:0,borderRadius:0,boxShadow:"none",[`& > ${e}-submenu > ${e}-submenu-title`]:b,[`& ${e}-item-group-title`]:{paddingInlineStart:u}},[`${e}-item`]:b}},{[`${e}-inline-collapsed`]:{width:p,[`&${e}-root`]:{[`${e}-item, ${e}-submenu ${e}-submenu-title`]:{[`> ${e}-inline-collapsed-noicon`]:{fontSize:g,textAlign:"center"}}},[`> ${e}-item,
          > ${e}-item-group > ${e}-item-group-list > ${e}-item,
          > ${e}-item-group > ${e}-item-group-list > ${e}-submenu > ${e}-submenu-title,
          > ${e}-submenu > ${e}-submenu-title`]:{insetInlineStart:0,paddingInline:`calc(50% - ${Pt(n.calc(m).div(2).equal())} - ${Pt(d)})`,textOverflow:"clip",[`
            ${e}-submenu-arrow,
            ${e}-submenu-expand-icon
          `]:{opacity:0},[`${e}-item-icon, ${t}`]:{margin:0,fontSize:m,lineHeight:Pt(r),"+ span":{display:"inline-block",opacity:0}}},[`${e}-item-icon, ${t}`]:{display:"inline-block"},"&-tooltip":{pointerEvents:"none",[`${e}-item-icon, ${t}`]:{display:"none"},"a, a:hover":{color:a}},[`${e}-item-group-title`]:Object.assign(Object.assign({},sw),{paddingInline:C})}}]},aL=n=>{const{componentCls:e,motionDurationSlow:t,motionDurationMid:r,motionEaseInOut:a,motionEaseOut:o,iconCls:l,iconSize:s,iconMarginInlineEnd:u}=n;return{[`${e}-item, ${e}-submenu-title`]:{position:"relative",display:"block",margin:0,whiteSpace:"nowrap",cursor:"pointer",transition:[`border-color ${t}`,`background ${t}`,`padding calc(${t} + 0.1s) ${a}`].join(","),[`${e}-item-icon, ${l}`]:{minWidth:s,fontSize:s,transition:[`font-size ${r} ${o}`,`margin ${t} ${a}`,`color ${t}`].join(","),"+ span":{marginInlineStart:u,opacity:1,transition:[`opacity ${t} ${a}`,`margin ${t}`,`color ${t}`].join(",")}},[`${e}-item-icon`]:Object.assign({},AO()),[`&${e}-item-only-child`]:{[`> ${l}, > ${e}-item-icon`]:{marginInlineEnd:0}}},[`${e}-item-disabled, ${e}-submenu-disabled`]:{background:"none !important",cursor:"not-allowed","&::after":{borderColor:"transparent !important"},a:{color:"inherit !important",cursor:"not-allowed",pointerEvents:"none"},[`> ${e}-submenu-title`]:{color:"inherit !important",cursor:"not-allowed"}}}},oL=n=>{const{componentCls:e,motionDurationSlow:t,motionEaseInOut:r,borderRadius:a,menuArrowSize:o,menuArrowOffset:l}=n;return{[`${e}-submenu`]:{"&-expand-icon, &-arrow":{position:"absolute",top:"50%",insetInlineEnd:n.margin,width:o,color:"currentcolor",transform:"translateY(-50%)",transition:`transform ${t} ${r}, opacity ${t}`},"&-arrow":{"&::before, &::after":{position:"absolute",width:n.calc(o).mul(.6).equal(),height:n.calc(o).mul(.15).equal(),backgroundColor:"currentcolor",borderRadius:a,transition:[`background ${t} ${r}`,`transform ${t} ${r}`,`top ${t} ${r}`,`color ${t} ${r}`].join(","),content:'""'},"&::before":{transform:`rotate(45deg) translateY(${Pt(n.calc(l).mul(-1).equal())})`},"&::after":{transform:`rotate(-45deg) translateY(${Pt(l)})`}}}}},eQ=n=>{const{antCls:e,componentCls:t,fontSize:r,motionDurationSlow:a,motionDurationMid:o,motionEaseInOut:l,paddingXS:s,padding:u,colorSplit:d,lineWidth:g,zIndexPopup:y,borderRadiusLG:_,subMenuItemBorderRadius:C,menuArrowSize:c,menuArrowOffset:p,lineType:m,groupTitleLineHeight:b,groupTitleFontSize:E}=n;return[{"":{[t]:Object.assign(Object.assign({},c0()),{"&-hidden":{display:"none"}})},[`${t}-submenu-hidden`]:{display:"none"}},{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Gl(n)),c0()),{marginBottom:0,paddingInlineStart:0,fontSize:r,lineHeight:0,listStyle:"none",outline:"none",transition:`width ${a} cubic-bezier(0.2, 0, 0, 1) 0s`,"ul, ol":{margin:0,padding:0,listStyle:"none"},"&-overflow":{display:"flex",[`${t}-item`]:{flex:"none"}},[`${t}-item, ${t}-submenu, ${t}-submenu-title`]:{borderRadius:n.itemBorderRadius},[`${t}-item-group-title`]:{padding:`${Pt(s)} ${Pt(u)}`,fontSize:E,lineHeight:b,transition:`all ${a}`},[`&-horizontal ${t}-submenu`]:{transition:[`border-color ${a} ${l}`,`background ${a} ${l}`].join(",")},[`${t}-submenu, ${t}-submenu-inline`]:{transition:[`border-color ${a} ${l}`,`background ${a} ${l}`,`padding ${o} ${l}`].join(",")},[`${t}-submenu ${t}-sub`]:{cursor:"initial",transition:[`background ${a} ${l}`,`padding ${a} ${l}`].join(",")},[`${t}-title-content`]:{transition:`color ${a}`,"&-with-extra":{display:"inline-flex",alignItems:"center",width:"100%"},[`> ${e}-typography-ellipsis-single-line`]:{display:"inline",verticalAlign:"unset"},[`${t}-item-extra`]:{marginInlineStart:"auto",paddingInlineStart:n.padding}},[`${t}-item a`]:{"&::before":{position:"absolute",inset:0,backgroundColor:"transparent",content:'""'}},[`${t}-item-divider`]:{overflow:"hidden",lineHeight:0,borderColor:d,borderStyle:m,borderWidth:0,borderTopWidth:g,marginBlock:g,padding:0,"&-dashed":{borderStyle:"dashed"}}}),aL(n)),{[`${t}-item-group`]:{[`${t}-item-group-list`]:{margin:0,padding:0,[`${t}-item, ${t}-submenu-title`]:{paddingInline:`${Pt(n.calc(r).mul(2).equal())} ${Pt(u)}`}}},"&-submenu":{"&-popup":{position:"absolute",zIndex:y,borderRadius:_,boxShadow:"none",transformOrigin:"0 0",[`&${t}-submenu`]:{background:"transparent"},"&::before":{position:"absolute",inset:0,zIndex:-1,width:"100%",height:"100%",opacity:0,content:'""'},[`> ${t}`]:Object.assign(Object.assign(Object.assign({borderRadius:_},aL(n)),oL(n)),{[`${t}-item, ${t}-submenu > ${t}-submenu-title`]:{borderRadius:C},[`${t}-submenu-title::after`]:{transition:`transform ${a} ${l}`}})},"\n          &-placement-leftTop,\n          &-placement-bottomRight,\n          ":{transformOrigin:"100% 0"},"\n          &-placement-leftBottom,\n          &-placement-topRight,\n          ":{transformOrigin:"100% 100%"},"\n          &-placement-rightBottom,\n          &-placement-topLeft,\n          ":{transformOrigin:"0 100%"},"\n          &-placement-bottomLeft,\n          &-placement-rightTop,\n          ":{transformOrigin:"0 0"},"\n          &-placement-leftTop,\n          &-placement-leftBottom\n          ":{paddingInlineEnd:n.paddingXS},"\n          &-placement-rightTop,\n          &-placement-rightBottom\n          ":{paddingInlineStart:n.paddingXS},"\n          &-placement-topRight,\n          &-placement-topLeft\n          ":{paddingBottom:n.paddingXS},"\n          &-placement-bottomRight,\n          &-placement-bottomLeft\n          ":{paddingTop:n.paddingXS}}}),oL(n)),{[`&-inline-collapsed ${t}-submenu-arrow,
        &-inline ${t}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateX(${Pt(p)})`},"&::after":{transform:`rotate(45deg) translateX(${Pt(n.calc(p).mul(-1).equal())})`}},[`${t}-submenu-open${t}-submenu-inline > ${t}-submenu-title > ${t}-submenu-arrow`]:{transform:`translateY(${Pt(n.calc(c).mul(.2).mul(-1).equal())})`,"&::after":{transform:`rotate(-45deg) translateX(${Pt(n.calc(p).mul(-1).equal())})`},"&::before":{transform:`rotate(45deg) translateX(${Pt(p)})`}}})},{[`${e}-layout-header`]:{[t]:{lineHeight:"inherit"}}}]},tQ=n=>{var e,t,r;const{colorPrimary:a,colorError:o,colorTextDisabled:l,colorErrorBg:s,colorText:u,colorTextDescription:d,colorBgContainer:g,colorFillAlter:y,colorFillContent:_,lineWidth:C,lineWidthBold:c,controlItemBgActive:p,colorBgTextHover:m,controlHeightLG:b,lineHeight:E,colorBgElevated:T,marginXXS:R,padding:O,fontSize:D,controlHeightSM:P,fontSizeLG:F,colorTextLightSolid:U,colorErrorHover:z}=n,$=(e=n.activeBarWidth)!==null&&e!==void 0?e:0,J=(t=n.activeBarBorderWidth)!==null&&t!==void 0?t:C,W=(r=n.itemMarginInline)!==null&&r!==void 0?r:n.marginXXS,Z=new Fi(U).setA(.65).toRgbString();return{dropdownWidth:160,zIndexPopup:n.zIndexPopupBase+50,radiusItem:n.borderRadiusLG,itemBorderRadius:n.borderRadiusLG,radiusSubMenuItem:n.borderRadiusSM,subMenuItemBorderRadius:n.borderRadiusSM,colorItemText:u,itemColor:u,colorItemTextHover:u,itemHoverColor:u,colorItemTextHoverHorizontal:a,horizontalItemHoverColor:a,colorGroupTitle:d,groupTitleColor:d,colorItemTextSelected:a,itemSelectedColor:a,subMenuItemSelectedColor:a,colorItemTextSelectedHorizontal:a,horizontalItemSelectedColor:a,colorItemBg:g,itemBg:g,colorItemBgHover:m,itemHoverBg:m,colorItemBgActive:_,itemActiveBg:p,colorSubItemBg:y,subMenuItemBg:y,colorItemBgSelected:p,itemSelectedBg:p,colorItemBgSelectedHorizontal:"transparent",horizontalItemSelectedBg:"transparent",colorActiveBarWidth:0,activeBarWidth:$,colorActiveBarHeight:c,activeBarHeight:c,colorActiveBarBorderSize:C,activeBarBorderWidth:J,colorItemTextDisabled:l,itemDisabledColor:l,colorDangerItemText:o,dangerItemColor:o,colorDangerItemTextHover:o,dangerItemHoverColor:o,colorDangerItemTextSelected:o,dangerItemSelectedColor:o,colorDangerItemBgActive:s,dangerItemActiveBg:s,colorDangerItemBgSelected:s,dangerItemSelectedBg:s,itemMarginInline:W,horizontalItemBorderRadius:0,horizontalItemHoverBg:"transparent",itemHeight:b,groupTitleLineHeight:E,collapsedWidth:b*2,popupBg:T,itemMarginBlock:R,itemPaddingInline:O,horizontalLineHeight:`${b*1.15}px`,iconSize:D,iconMarginInlineEnd:P-D,collapsedIconSize:F,groupTitleFontSize:D,darkItemDisabledColor:new Fi(U).setA(.25).toRgbString(),darkItemColor:Z,darkDangerItemColor:o,darkItemBg:"#001529",darkPopupBg:"#001529",darkSubMenuItemBg:"#000c17",darkItemSelectedColor:U,darkItemSelectedBg:a,darkDangerItemSelectedBg:o,darkItemHoverBg:"transparent",darkGroupTitleColor:Z,darkItemHoverColor:U,darkDangerItemHoverColor:z,darkDangerItemSelectedColor:U,darkDangerItemActiveBg:o,itemWidth:$?`calc(100% + ${J}px)`:`calc(100% - ${W*2}px)`}},nQ=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return oa("Menu",a=>{const{colorBgElevated:o,controlHeightLG:l,fontSize:s,darkItemColor:u,darkDangerItemColor:d,darkItemBg:g,darkSubMenuItemBg:y,darkItemSelectedColor:_,darkItemSelectedBg:C,darkDangerItemSelectedBg:c,darkItemHoverBg:p,darkGroupTitleColor:m,darkItemHoverColor:b,darkItemDisabledColor:E,darkDangerItemHoverColor:T,darkDangerItemSelectedColor:R,darkDangerItemActiveBg:O,popupBg:D,darkPopupBg:P}=a,F=a.calc(s).div(7).mul(5).equal(),U=sr(a,{menuArrowSize:F,menuHorizontalHeight:a.calc(l).mul(1.15).equal(),menuArrowOffset:a.calc(F).mul(.25).equal(),menuSubMenuBg:o,calc:a.calc,popupBg:D}),z=sr(U,{itemColor:u,itemHoverColor:b,groupTitleColor:m,itemSelectedColor:_,subMenuItemSelectedColor:_,itemBg:g,popupBg:P,subMenuItemBg:y,itemActiveBg:"transparent",itemSelectedBg:C,activeBarHeight:0,activeBarBorderWidth:0,itemHoverBg:p,itemDisabledColor:E,dangerItemColor:d,dangerItemHoverColor:T,dangerItemSelectedColor:R,dangerItemActiveBg:O,dangerItemSelectedBg:c,menuSubMenuBg:y,horizontalItemSelectedColor:_,horizontalItemSelectedBg:C});return[eQ(U),JJ(U),ZJ(U),iL(U,"light"),iL(z,"dark"),QJ(U),RF(U),cP(U,"slide-up"),cP(U,"slide-down"),wS(U,"zoom-big")]},tQ,{deprecatedTokens:[["colorGroupTitle","groupTitleColor"],["radiusItem","itemBorderRadius"],["radiusSubMenuItem","subMenuItemBorderRadius"],["colorItemText","itemColor"],["colorItemTextHover","itemHoverColor"],["colorItemTextHoverHorizontal","horizontalItemHoverColor"],["colorItemTextSelected","itemSelectedColor"],["colorItemTextSelectedHorizontal","horizontalItemSelectedColor"],["colorItemTextDisabled","itemDisabledColor"],["colorDangerItemText","dangerItemColor"],["colorDangerItemTextHover","dangerItemHoverColor"],["colorDangerItemTextSelected","dangerItemSelectedColor"],["colorDangerItemBgActive","dangerItemActiveBg"],["colorDangerItemBgSelected","dangerItemSelectedBg"],["colorItemBg","itemBg"],["colorItemBgHover","itemHoverBg"],["colorSubItemBg","subMenuItemBg"],["colorItemBgActive","itemActiveBg"],["colorItemBgSelectedHorizontal","horizontalItemSelectedBg"],["colorActiveBarWidth","activeBarWidth"],["colorActiveBarHeight","activeBarHeight"],["colorActiveBarBorderSize","activeBarBorderWidth"],["colorItemBgSelected","itemSelectedBg"]],injectStyle:t,unitless:{groupTitleLineHeight:!0}})(n,e)},X4=n=>{var e;const{popupClassName:t,icon:r,title:a,theme:o}=n,l=A.useContext(G1),{prefixCls:s,inlineCollapsed:u,theme:d}=l,g=I0();let y;if(!r)y=u&&!g.length&&a&&typeof a=="string"?A.createElement("div",{className:`${s}-inline-collapsed-noicon`},a.charAt(0)):A.createElement("span",{className:`${s}-title-content`},a);else{const c=A.isValidElement(a)&&a.type==="span";y=A.createElement(A.Fragment,null,rl(r,{className:et(A.isValidElement(r)?(e=r.props)===null||e===void 0?void 0:e.className:"",`${s}-item-icon`)}),c?a:A.createElement("span",{className:`${s}-title-content`},a))}const _=A.useMemo(()=>Object.assign(Object.assign({},l),{firstLevel:!1}),[l]),[C]=CS("Menu");return A.createElement(G1.Provider,{value:_},A.createElement(Cw,Object.assign({},go(n,["icon"]),{title:y,popupClassName:et(s,t,`${s}-${o||d}`),popupStyle:Object.assign({zIndex:C},n.popupStyle)})))};var iQ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};function BM(n){return n===null||n===!1}const rQ={item:W4,submenu:X4,divider:j4},aQ=A.forwardRef((n,e)=>{var t;const r=A.useContext(tL),a=r||{},{getPrefixCls:o,getPopupContainer:l,direction:s,menu:u}=A.useContext(qn),d=o(),{prefixCls:g,className:y,style:_,theme:C="light",expandIcon:c,_internalDisableMenuItemTitleTooltip:p,inlineCollapsed:m,siderCollapsed:b,rootClassName:E,mode:T,selectable:R,onClick:O,overflowedIndicatorPopupClassName:D}=n,P=iQ(n,["prefixCls","className","style","theme","expandIcon","_internalDisableMenuItemTitleTooltip","inlineCollapsed","siderCollapsed","rootClassName","mode","selectable","onClick","overflowedIndicatorPopupClassName"]),F=go(P,["collapsedWidth"]);(t=a.validator)===null||t===void 0||t.call(a,{mode:T});const U=qa(function(){var me;O==null||O.apply(void 0,arguments),(me=a.onClick)===null||me===void 0||me.call(a)}),z=a.mode||T,$=R??a.selectable,J=m??b,W={horizontal:{motionName:`${d}-slide-up`},inline:xF(d),other:{motionName:`${d}-zoom-big`}},Z=o("menu",g||a.prefixCls),oe=Yc(Z),[Y,K,ee]=nQ(Z,oe,!r),ue=et(`${Z}-${C}`,u==null?void 0:u.className,y),q=A.useMemo(()=>{var me,de;if(typeof c=="function"||BM(c))return c||null;if(typeof a.expandIcon=="function"||BM(a.expandIcon))return a.expandIcon||null;if(typeof(u==null?void 0:u.expandIcon)=="function"||BM(u==null?void 0:u.expandIcon))return(u==null?void 0:u.expandIcon)||null;const Q=(me=c??(a==null?void 0:a.expandIcon))!==null&&me!==void 0?me:u==null?void 0:u.expandIcon;return rl(Q,{className:et(`${Z}-submenu-expand-icon`,A.isValidElement(Q)?(de=Q.props)===null||de===void 0?void 0:de.className:void 0)})},[c,a==null?void 0:a.expandIcon,u==null?void 0:u.expandIcon,Z]),ie=A.useMemo(()=>({prefixCls:Z,inlineCollapsed:J||!1,direction:s,firstLevel:!0,theme:C,mode:z,disableMenuItemTitleTooltip:p}),[Z,J,s,p,C]);return Y(A.createElement(tL.Provider,{value:null},A.createElement(G1.Provider,{value:ie},A.createElement(IS,Object.assign({getPopupContainer:l,overflowedIndicator:A.createElement(b$,null),overflowedIndicatorPopupClassName:et(Z,`${Z}-${C}`,D),mode:z,selectable:$,onClick:U},F,{inlineCollapsed:J,style:Object.assign(Object.assign({},u==null?void 0:u.style),_),className:ue,prefixCls:Z,direction:s,defaultMotions:W,expandIcon:q,ref:e,rootClassName:et(E,K,a.rootClassName,ee,oe),_internalComponents:rQ})))))}),BS=A.forwardRef((n,e)=>{const t=A.useRef(null),r=A.useContext(Ew);return A.useImperativeHandle(e,()=>({menu:t.current,focus:a=>{var o;(o=t.current)===null||o===void 0||o.focus(a)}})),A.createElement(aQ,Object.assign({ref:t},n,r))});BS.Item=W4;BS.SubMenu=X4;BS.Divider=j4;BS.ItemGroup=XO;function ww(n){return sr(n,{inputAffixPadding:n.paddingXXS})}const Aw=n=>{const{controlHeight:e,fontSize:t,lineHeight:r,lineWidth:a,controlHeightSM:o,controlHeightLG:l,fontSizeLG:s,lineHeightLG:u,paddingSM:d,controlPaddingHorizontalSM:g,controlPaddingHorizontal:y,colorFillAlter:_,colorPrimaryHover:C,colorPrimary:c,controlOutlineWidth:p,controlOutline:m,colorErrorOutline:b,colorWarningOutline:E,colorBgContainer:T,inputFontSize:R,inputFontSizeLG:O,inputFontSizeSM:D}=n,P=R||t,F=D||P,U=O||s,z=Math.round((e-P*r)/2*10)/10-a,$=Math.round((o-F*r)/2*10)/10-a,J=Math.ceil((l-U*u)/2*10)/10-a;return{paddingBlock:Math.max(z,0),paddingBlockSM:Math.max($,0),paddingBlockLG:Math.max(J,0),paddingInline:d-a,paddingInlineSM:g-a,paddingInlineLG:y-a,addonBg:_,activeBorderColor:c,hoverBorderColor:C,activeShadow:`0 0 0 ${p}px ${m}`,errorActiveShadow:`0 0 0 ${p}px ${b}`,warningActiveShadow:`0 0 0 ${p}px ${E}`,hoverBg:T,activeBg:T,inputFontSize:P,inputFontSizeLG:U,inputFontSizeSM:F}},oQ=n=>({borderColor:n.hoverBorderColor,backgroundColor:n.hoverBg}),YO=n=>({color:n.colorTextDisabled,backgroundColor:n.colorBgContainerDisabled,borderColor:n.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"input[disabled], textarea[disabled]":{cursor:"not-allowed"},"&:hover:not([disabled])":Object.assign({},oQ(sr(n,{hoverBorderColor:n.colorBorder,hoverBg:n.colorBgContainerDisabled})))}),Y4=(n,e)=>({background:n.colorBgContainer,borderWidth:n.lineWidth,borderStyle:n.lineType,borderColor:e.borderColor,"&:hover":{borderColor:e.hoverBorderColor,backgroundColor:n.hoverBg},"&:focus, &:focus-within":{borderColor:e.activeBorderColor,boxShadow:e.activeShadow,outline:0,backgroundColor:n.activeBg}}),sL=(n,e)=>({[`&${n.componentCls}-status-${e.status}:not(${n.componentCls}-disabled)`]:Object.assign(Object.assign({},Y4(n,e)),{[`${n.componentCls}-prefix, ${n.componentCls}-suffix`]:{color:e.affixColor}}),[`&${n.componentCls}-status-${e.status}${n.componentCls}-disabled`]:{borderColor:e.borderColor}}),sQ=(n,e)=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Y4(n,{borderColor:n.colorBorder,hoverBorderColor:n.hoverBorderColor,activeBorderColor:n.activeBorderColor,activeShadow:n.activeShadow})),{[`&${n.componentCls}-disabled, &[disabled]`]:Object.assign({},YO(n))}),sL(n,{status:"error",borderColor:n.colorError,hoverBorderColor:n.colorErrorBorderHover,activeBorderColor:n.colorError,activeShadow:n.errorActiveShadow,affixColor:n.colorError})),sL(n,{status:"warning",borderColor:n.colorWarning,hoverBorderColor:n.colorWarningBorderHover,activeBorderColor:n.colorWarning,activeShadow:n.warningActiveShadow,affixColor:n.colorWarning})),e)}),lL=(n,e)=>({[`&${n.componentCls}-group-wrapper-status-${e.status}`]:{[`${n.componentCls}-group-addon`]:{borderColor:e.addonBorderColor,color:e.addonColor}}}),lQ=n=>({"&-outlined":Object.assign(Object.assign(Object.assign({[`${n.componentCls}-group`]:{"&-addon":{background:n.addonBg,border:`${Pt(n.lineWidth)} ${n.lineType} ${n.colorBorder}`},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}}},lL(n,{status:"error",addonBorderColor:n.colorError,addonColor:n.colorErrorText})),lL(n,{status:"warning",addonBorderColor:n.colorWarning,addonColor:n.colorWarningText})),{[`&${n.componentCls}-group-wrapper-disabled`]:{[`${n.componentCls}-group-addon`]:Object.assign({},YO(n))}})}),cQ=(n,e)=>{const{componentCls:t}=n;return{"&-borderless":Object.assign({background:"transparent",border:"none","&:focus, &:focus-within":{outline:"none"},[`&${t}-disabled, &[disabled]`]:{color:n.colorTextDisabled,cursor:"not-allowed"},[`&${t}-status-error`]:{"&, & input, & textarea":{color:n.colorError}},[`&${t}-status-warning`]:{"&, & input, & textarea":{color:n.colorWarning}}},e)}},q4=(n,e)=>({background:e.bg,borderWidth:n.lineWidth,borderStyle:n.lineType,borderColor:"transparent","input&, & input, textarea&, & textarea":{color:e==null?void 0:e.inputColor},"&:hover":{background:e.hoverBg},"&:focus, &:focus-within":{outline:0,borderColor:e.activeBorderColor,backgroundColor:n.activeBg}}),cL=(n,e)=>({[`&${n.componentCls}-status-${e.status}:not(${n.componentCls}-disabled)`]:Object.assign(Object.assign({},q4(n,e)),{[`${n.componentCls}-prefix, ${n.componentCls}-suffix`]:{color:e.affixColor}})}),uQ=(n,e)=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},q4(n,{bg:n.colorFillTertiary,hoverBg:n.colorFillSecondary,activeBorderColor:n.activeBorderColor})),{[`&${n.componentCls}-disabled, &[disabled]`]:Object.assign({},YO(n))}),cL(n,{status:"error",bg:n.colorErrorBg,hoverBg:n.colorErrorBgHover,activeBorderColor:n.colorError,inputColor:n.colorErrorText,affixColor:n.colorError})),cL(n,{status:"warning",bg:n.colorWarningBg,hoverBg:n.colorWarningBgHover,activeBorderColor:n.colorWarning,inputColor:n.colorWarningText,affixColor:n.colorWarning})),e)}),uL=(n,e)=>({[`&${n.componentCls}-group-wrapper-status-${e.status}`]:{[`${n.componentCls}-group-addon`]:{background:e.addonBg,color:e.addonColor}}}),fQ=n=>({"&-filled":Object.assign(Object.assign(Object.assign({[`${n.componentCls}-group`]:{"&-addon":{background:n.colorFillTertiary},[`${n.componentCls}-filled:not(:focus):not(:focus-within)`]:{"&:not(:first-child)":{borderInlineStart:`${Pt(n.lineWidth)} ${n.lineType} ${n.colorSplit}`},"&:not(:last-child)":{borderInlineEnd:`${Pt(n.lineWidth)} ${n.lineType} ${n.colorSplit}`}}}},uL(n,{status:"error",addonBg:n.colorErrorBg,addonColor:n.colorErrorText})),uL(n,{status:"warning",addonBg:n.colorWarningBg,addonColor:n.colorWarningText})),{[`&${n.componentCls}-group-wrapper-disabled`]:{[`${n.componentCls}-group`]:{"&-addon":{background:n.colorFillTertiary,color:n.colorTextDisabled},"&-addon:first-child":{borderInlineStart:`${Pt(n.lineWidth)} ${n.lineType} ${n.colorBorder}`,borderTop:`${Pt(n.lineWidth)} ${n.lineType} ${n.colorBorder}`,borderBottom:`${Pt(n.lineWidth)} ${n.lineType} ${n.colorBorder}`},"&-addon:last-child":{borderInlineEnd:`${Pt(n.lineWidth)} ${n.lineType} ${n.colorBorder}`,borderTop:`${Pt(n.lineWidth)} ${n.lineType} ${n.colorBorder}`,borderBottom:`${Pt(n.lineWidth)} ${n.lineType} ${n.colorBorder}`}}}})}),K4=(n,e)=>({background:n.colorBgContainer,borderWidth:`${Pt(n.lineWidth)} 0`,borderStyle:`${n.lineType} none`,borderColor:`transparent transparent ${e.borderColor} transparent`,borderRadius:0,"&:hover":{borderColor:`transparent transparent ${e.borderColor} transparent`,backgroundColor:n.hoverBg},"&:focus, &:focus-within":{borderColor:`transparent transparent ${e.borderColor} transparent`,outline:0,backgroundColor:n.activeBg}}),fL=(n,e)=>({[`&${n.componentCls}-status-${e.status}:not(${n.componentCls}-disabled)`]:Object.assign(Object.assign({},K4(n,e)),{[`${n.componentCls}-prefix, ${n.componentCls}-suffix`]:{color:e.affixColor}}),[`&${n.componentCls}-status-${e.status}${n.componentCls}-disabled`]:{borderColor:`transparent transparent ${e.borderColor} transparent`}}),dQ=(n,e)=>({"&-underlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},K4(n,{borderColor:n.colorBorder,hoverBorderColor:n.hoverBorderColor,activeBorderColor:n.activeBorderColor,activeShadow:n.activeShadow})),{[`&${n.componentCls}-disabled, &[disabled]`]:{color:n.colorTextDisabled,boxShadow:"none",cursor:"not-allowed","&:hover":{borderColor:`transparent transparent ${n.colorBorder} transparent`}},"input[disabled], textarea[disabled]":{cursor:"not-allowed"}}),fL(n,{status:"error",borderColor:n.colorError,hoverBorderColor:n.colorErrorBorderHover,activeBorderColor:n.colorError,activeShadow:n.errorActiveShadow,affixColor:n.colorError})),fL(n,{status:"warning",borderColor:n.colorWarning,hoverBorderColor:n.colorWarningBorderHover,activeBorderColor:n.colorWarning,activeShadow:n.warningActiveShadow,affixColor:n.colorWarning})),e)}),hQ=n=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:n,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),J4=n=>{const{paddingBlockLG:e,lineHeightLG:t,borderRadiusLG:r,paddingInlineLG:a}=n;return{padding:`${Pt(e)} ${Pt(a)}`,fontSize:n.inputFontSizeLG,lineHeight:t,borderRadius:r}},Q4=n=>({padding:`${Pt(n.paddingBlockSM)} ${Pt(n.paddingInlineSM)}`,fontSize:n.inputFontSizeSM,borderRadius:n.borderRadiusSM}),Z4=n=>Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${Pt(n.paddingBlock)} ${Pt(n.paddingInline)}`,color:n.colorText,fontSize:n.inputFontSize,lineHeight:n.lineHeight,borderRadius:n.borderRadius,transition:`all ${n.motionDurationMid}`},hQ(n.colorTextPlaceholder)),{"textarea&":{maxWidth:"100%",height:"auto",minHeight:n.controlHeight,lineHeight:n.lineHeight,verticalAlign:"bottom",transition:`all ${n.motionDurationSlow}, height 0s`,resize:"vertical"},"&-lg":Object.assign({},J4(n)),"&-sm":Object.assign({},Q4(n)),"&-rtl, &-textarea-rtl":{direction:"rtl"}}),pQ=n=>{const{componentCls:e,antCls:t}=n;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:n.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${e}, &-lg > ${e}-group-addon`]:Object.assign({},J4(n)),[`&-sm ${e}, &-sm > ${e}-group-addon`]:Object.assign({},Q4(n)),[`&-lg ${t}-select-single ${t}-select-selector`]:{height:n.controlHeightLG},[`&-sm ${t}-select-single ${t}-select-selector`]:{height:n.controlHeightSM},[`> ${e}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${e}-group`]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${Pt(n.paddingInline)}`,color:n.colorText,fontWeight:"normal",fontSize:n.inputFontSize,textAlign:"center",borderRadius:n.borderRadius,transition:`all ${n.motionDurationSlow}`,lineHeight:1,[`${t}-select`]:{margin:`${Pt(n.calc(n.paddingBlock).add(1).mul(-1).equal())} ${Pt(n.calc(n.paddingInline).mul(-1).equal())}`,[`&${t}-select-single:not(${t}-select-customize-input):not(${t}-pagination-size-changer)`]:{[`${t}-select-selector`]:{backgroundColor:"inherit",border:`${Pt(n.lineWidth)} ${n.lineType} transparent`,boxShadow:"none"}}},[`${t}-cascader-picker`]:{margin:`-9px ${Pt(n.calc(n.paddingInline).mul(-1).equal())}`,backgroundColor:"transparent",[`${t}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}}},[e]:{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,[`${e}-search-with-button &`]:{zIndex:0}}},[`> ${e}:first-child, ${e}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${t}-select ${t}-select-selector`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${e}-affix-wrapper`]:{[`&:not(:first-child) ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${e}:last-child, ${e}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${t}-select ${t}-select-selector`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${e}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,[`${e}-search &`]:{borderStartStartRadius:n.borderRadius,borderEndStartRadius:n.borderRadius}},[`&:not(:first-child), ${e}-search &:not(:first-child)`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&${e}-group-compact`]:Object.assign(Object.assign({display:"block"},c0()),{[`${e}-group-addon, ${e}-group-wrap, > ${e}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:n.lineWidth,"&:hover, &:focus":{zIndex:1}}},"& > *":{display:"inline-flex",float:"none",verticalAlign:"top",borderRadius:0},[`
        & > ${e}-affix-wrapper,
        & > ${e}-number-affix-wrapper,
        & > ${t}-picker-range
      `]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:n.calc(n.lineWidth).mul(-1).equal(),borderInlineEndWidth:n.lineWidth},[e]:{float:"none"},[`& > ${t}-select > ${t}-select-selector,
      & > ${t}-select-auto-complete ${e},
      & > ${t}-cascader-picker ${e},
      & > ${e}-group-wrapper ${e}`]:{borderInlineEndWidth:n.lineWidth,borderRadius:0,"&:hover, &:focus":{zIndex:1}},[`& > ${t}-select-focused`]:{zIndex:1},[`& > ${t}-select > ${t}-select-arrow`]:{zIndex:1},[`& > *:first-child,
      & > ${t}-select:first-child > ${t}-select-selector,
      & > ${t}-select-auto-complete:first-child ${e},
      & > ${t}-cascader-picker:first-child ${e}`]:{borderStartStartRadius:n.borderRadius,borderEndStartRadius:n.borderRadius},[`& > *:last-child,
      & > ${t}-select:last-child > ${t}-select-selector,
      & > ${t}-cascader-picker:last-child ${e},
      & > ${t}-cascader-picker-focused:last-child ${e}`]:{borderInlineEndWidth:n.lineWidth,borderStartEndRadius:n.borderRadius,borderEndEndRadius:n.borderRadius},[`& > ${t}-select-auto-complete ${e}`]:{verticalAlign:"top"},[`${e}-group-wrapper + ${e}-group-wrapper`]:{marginInlineStart:n.calc(n.lineWidth).mul(-1).equal(),[`${e}-affix-wrapper`]:{borderRadius:0}},[`${e}-group-wrapper:not(:last-child)`]:{[`&${e}-search > ${e}-group`]:{[`& > ${e}-group-addon > ${e}-search-button`]:{borderRadius:0},[`& > ${e}`]:{borderStartStartRadius:n.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:n.borderRadius}}}})}},mQ=n=>{const{componentCls:e,controlHeightSM:t,lineWidth:r,calc:a}=n,l=a(t).sub(a(r).mul(2)).sub(16).div(2).equal();return{[e]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Gl(n)),Z4(n)),sQ(n)),uQ(n)),cQ(n)),dQ(n)),{'&[type="color"]':{height:n.controlHeight,[`&${e}-lg`]:{height:n.controlHeightLG},[`&${e}-sm`]:{height:t,paddingTop:l,paddingBottom:l}},'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{"-webkit-appearance":"none"}})}},gQ=n=>{const{componentCls:e}=n;return{[`${e}-clear-icon`]:{margin:0,padding:0,lineHeight:0,color:n.colorTextQuaternary,fontSize:n.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${n.motionDurationSlow}`,border:"none",outline:"none",backgroundColor:"transparent","&:hover":{color:n.colorTextTertiary},"&:active":{color:n.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${Pt(n.inputAffixPadding)}`}}}},vQ=n=>{const{componentCls:e,inputAffixPadding:t,colorTextDescription:r,motionDurationSlow:a,colorIcon:o,colorIconHover:l,iconCls:s}=n,u=`${e}-affix-wrapper`,d=`${e}-affix-wrapper-disabled`;return{[u]:Object.assign(Object.assign(Object.assign(Object.assign({},Z4(n)),{display:"inline-flex",[`&:not(${e}-disabled):hover`]:{zIndex:1,[`${e}-search-with-button &`]:{zIndex:0}},"&-focused, &:focus":{zIndex:1},[`> input${e}`]:{padding:0},[`> input${e}, > textarea${e}`]:{fontSize:"inherit",border:"none",borderRadius:0,outline:"none",background:"transparent",color:"inherit","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[e]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:n.paddingXS}},"&-show-count-suffix":{color:r},"&-show-count-has-suffix":{marginInlineEnd:n.paddingXXS},"&-prefix":{marginInlineEnd:t},"&-suffix":{marginInlineStart:t}}}),gQ(n)),{[`${s}${e}-password-icon`]:{color:o,cursor:"pointer",transition:`all ${a}`,"&:hover":{color:l}}}),[`${e}-underlined`]:{borderRadius:0},[d]:{[`${s}${e}-password-icon`]:{color:o,cursor:"not-allowed","&:hover":{color:o}}}}},yQ=n=>{const{componentCls:e,borderRadiusLG:t,borderRadiusSM:r}=n;return{[`${e}-group`]:Object.assign(Object.assign(Object.assign({},Gl(n)),pQ(n)),{"&-rtl":{direction:"rtl"},"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${e}-group-addon`]:{borderRadius:t,fontSize:n.inputFontSizeLG}},"&-sm":{[`${e}-group-addon`]:{borderRadius:r}}},lQ(n)),fQ(n)),{[`&:not(${e}-compact-first-item):not(${e}-compact-last-item)${e}-compact-item`]:{[`${e}, ${e}-group-addon`]:{borderRadius:0}},[`&:not(${e}-compact-last-item)${e}-compact-first-item`]:{[`${e}, ${e}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${e}-compact-first-item)${e}-compact-last-item`]:{[`${e}, ${e}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&:not(${e}-compact-last-item)${e}-compact-item`]:{[`${e}-affix-wrapper`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${e}-compact-first-item)${e}-compact-item`]:{[`${e}-affix-wrapper`]:{borderStartStartRadius:0,borderEndStartRadius:0}}})})}},bQ=n=>{const{componentCls:e,antCls:t}=n,r=`${e}-search`;return{[r]:{[e]:{"&:hover, &:focus":{[`+ ${e}-group-addon ${r}-button:not(${t}-btn-primary)`]:{borderInlineStartColor:n.colorPrimaryHover}}},[`${e}-affix-wrapper`]:{height:n.controlHeight,borderRadius:0},[`${e}-lg`]:{lineHeight:n.calc(n.lineHeightLG).sub(2e-4).equal()},[`> ${e}-group`]:{[`> ${e}-group-addon:last-child`]:{insetInlineStart:-1,padding:0,border:0,[`${r}-button`]:{marginInlineEnd:-1,borderStartStartRadius:0,borderEndStartRadius:0,boxShadow:"none"},[`${r}-button:not(${t}-btn-primary)`]:{color:n.colorTextDescription,"&:hover":{color:n.colorPrimaryHover},"&:active":{color:n.colorPrimaryActive},[`&${t}-btn-loading::before`]:{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0}}}},[`${r}-button`]:{height:n.controlHeight,"&:hover, &:focus":{zIndex:1}},"&-large":{[`${e}-affix-wrapper, ${r}-button`]:{height:n.controlHeightLG}},"&-small":{[`${e}-affix-wrapper, ${r}-button`]:{height:n.controlHeightSM}},"&-rtl":{direction:"rtl"},[`&${e}-compact-item`]:{[`&:not(${e}-compact-last-item)`]:{[`${e}-group-addon`]:{[`${e}-search-button`]:{marginInlineEnd:n.calc(n.lineWidth).mul(-1).equal(),borderRadius:0}}},[`&:not(${e}-compact-first-item)`]:{[`${e},${e}-affix-wrapper`]:{borderRadius:0}},[`> ${e}-group-addon ${e}-search-button,
        > ${e},
        ${e}-affix-wrapper`]:{"&:hover, &:focus, &:active":{zIndex:2}},[`> ${e}-affix-wrapper-focused`]:{zIndex:2}}}}},SQ=n=>{const{componentCls:e}=n;return{[`${e}-out-of-range`]:{[`&, & input, & textarea, ${e}-show-count-suffix, ${e}-data-count`]:{color:n.colorError}}}},eH=oa(["Input","Shared"],n=>{const e=sr(n,ww(n));return[mQ(e),vQ(e)]},Aw,{resetFont:!1}),tH=oa(["Input","Component"],n=>{const e=sr(n,ww(n));return[yQ(e),bQ(e),SQ(e),DF(e)]},Aw,{resetFont:!1});function _Q(n,e,t){var r=t||{},a=r.noTrailing,o=a===void 0?!1:a,l=r.noLeading,s=l===void 0?!1:l,u=r.debounceMode,d=u===void 0?void 0:u,g,y=!1,_=0;function C(){g&&clearTimeout(g)}function c(m){var b=m||{},E=b.upcomingOnly,T=E===void 0?!1:E;C(),y=!T}function p(){for(var m=arguments.length,b=new Array(m),E=0;E<m;E++)b[E]=arguments[E];var T=this,R=Date.now()-_;if(y)return;function O(){_=Date.now(),e.apply(T,b)}function D(){g=void 0}!s&&d&&!g&&O(),C(),d===void 0&&R>n?s?(_=Date.now(),o||(g=setTimeout(d?D:O,n))):O():o!==!0&&(g=setTimeout(d?D:O,d===void 0?n-R:n))}return p.cancel=c,p}function xQ(n,e,t){var r={},a=r.atBegin,o=a===void 0?!1:a;return _Q(n,e,{debounceMode:o!==!1})}const nH=A.createContext({});var CQ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};function dL(n){return typeof n=="number"?`${n} ${n} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(n)?`0 0 ${n}`:n}const EQ=["xs","sm","md","lg","xl","xxl"],co=A.forwardRef((n,e)=>{const{getPrefixCls:t,direction:r}=A.useContext(qn),{gutter:a,wrap:o}=A.useContext(nH),{prefixCls:l,span:s,order:u,offset:d,push:g,pull:y,className:_,children:C,flex:c,style:p}=n,m=CQ(n,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),b=t("col",l),[E,T,R]=Fq(b),O={};let D={};EQ.forEach(U=>{let z={};const $=n[U];typeof $=="number"?z.span=$:typeof $=="object"&&(z=$||{}),delete m[U],D=Object.assign(Object.assign({},D),{[`${b}-${U}-${z.span}`]:z.span!==void 0,[`${b}-${U}-order-${z.order}`]:z.order||z.order===0,[`${b}-${U}-offset-${z.offset}`]:z.offset||z.offset===0,[`${b}-${U}-push-${z.push}`]:z.push||z.push===0,[`${b}-${U}-pull-${z.pull}`]:z.pull||z.pull===0,[`${b}-rtl`]:r==="rtl"}),z.flex&&(D[`${b}-${U}-flex`]=!0,O[`--${b}-${U}-flex`]=dL(z.flex))});const P=et(b,{[`${b}-${s}`]:s!==void 0,[`${b}-order-${u}`]:u,[`${b}-offset-${d}`]:d,[`${b}-push-${g}`]:g,[`${b}-pull-${y}`]:y},_,D,T,R),F={};if(a&&a[0]>0){const U=a[0]/2;F.paddingLeft=U,F.paddingRight=U}return c&&(F.flex=dL(c),o===!1&&!F.minWidth&&(F.minWidth=0)),E(A.createElement("div",Object.assign({},m,{style:Object.assign(Object.assign(Object.assign({},F),p),O),className:P,ref:e}),C))});function wQ(n,e){const t=[void 0,void 0],r=Array.isArray(n)?n:[n,void 0],a=e||{xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0};return r.forEach((o,l)=>{if(typeof o=="object"&&o!==null)for(let s=0;s<f0.length;s++){const u=f0[s];if(a[u]&&o[u]!==void 0){t[l]=o[u];break}}else t[l]=o}),t}var AQ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};function hL(n,e){const[t,r]=A.useState(typeof n=="string"?n:""),a=()=>{if(typeof n=="string"&&r(n),typeof n=="object")for(let o=0;o<f0.length;o++){const l=f0[o];if(!e||!e[l])continue;const s=n[l];if(s!==void 0){r(s);return}}};return A.useEffect(()=>{a()},[JSON.stringify(n),e]),t}const Dc=A.forwardRef((n,e)=>{const{prefixCls:t,justify:r,align:a,className:o,style:l,children:s,gutter:u=0,wrap:d}=n,g=AQ(n,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:y,direction:_}=A.useContext(qn),C=g4(!0,null),c=hL(a,C),p=hL(r,C),m=y("row",t),[b,E,T]=Uq(m),R=wQ(u,C),O=et(m,{[`${m}-no-wrap`]:d===!1,[`${m}-${p}`]:p,[`${m}-${c}`]:c,[`${m}-rtl`]:_==="rtl"},o,E,T),D={},P=R[0]!=null&&R[0]>0?R[0]/-2:void 0;P&&(D.marginLeft=P,D.marginRight=P);const[F,U]=R;D.rowGap=U;const z=A.useMemo(()=>({gutter:[F,U],wrap:d}),[F,U,d]);return b(A.createElement(nH.Provider,{value:z},A.createElement("div",Object.assign({},g,{className:O,style:Object.assign(Object.assign({},D),l),ref:e}),s)))});function MQ(n){return!!(n.addonBefore||n.addonAfter)}function TQ(n){return!!(n.prefix||n.suffix||n.allowClear)}function pL(n,e,t){var r=e.cloneNode(!0),a=Object.create(n,{target:{value:r},currentTarget:{value:r}});return r.value=t,typeof e.selectionStart=="number"&&typeof e.selectionEnd=="number"&&(r.selectionStart=e.selectionStart,r.selectionEnd=e.selectionEnd),r.setSelectionRange=function(){e.setSelectionRange.apply(e,arguments)},a}function k1(n,e,t,r){if(t){var a=e;if(e.type==="click"){a=pL(e,n,""),t(a);return}if(n.type!=="file"&&r!==void 0){a=pL(e,n,r),t(a);return}t(a)}}function iH(n,e){if(n){n.focus(e);var t=e||{},r=t.cursor;if(r){var a=n.value.length;switch(r){case"start":n.setSelectionRange(0,0);break;case"end":n.setSelectionRange(a,a);break;default:n.setSelectionRange(0,a)}}}}var rH=We.forwardRef(function(n,e){var t,r,a,o=n.inputElement,l=n.children,s=n.prefixCls,u=n.prefix,d=n.suffix,g=n.addonBefore,y=n.addonAfter,_=n.className,C=n.style,c=n.disabled,p=n.readOnly,m=n.focused,b=n.triggerFocus,E=n.allowClear,T=n.value,R=n.handleReset,O=n.hidden,D=n.classes,P=n.classNames,F=n.dataAttrs,U=n.styles,z=n.components,$=n.onClear,J=l??o,W=(z==null?void 0:z.affixWrapper)||"span",Z=(z==null?void 0:z.groupWrapper)||"span",oe=(z==null?void 0:z.wrapper)||"span",Y=(z==null?void 0:z.groupAddon)||"span",K=A.useRef(null),ee=function(Fe){var Ie;(Ie=K.current)!==null&&Ie!==void 0&&Ie.contains(Fe.target)&&(b==null||b())},ue=TQ(n),q=A.cloneElement(J,{value:T,className:et((t=J.props)===null||t===void 0?void 0:t.className,!ue&&(P==null?void 0:P.variant))||null}),ie=A.useRef(null);if(We.useImperativeHandle(e,function(){return{nativeElement:ie.current||K.current}}),ue){var me=null;if(E){var de=!c&&!p&&T,Q="".concat(s,"-clear-icon"),he=mn(E)==="object"&&E!==null&&E!==void 0&&E.clearIcon?E.clearIcon:"✖";me=We.createElement("button",{type:"button",tabIndex:-1,onClick:function(Fe){R==null||R(Fe),$==null||$()},onMouseDown:function(Fe){return Fe.preventDefault()},className:et(Q,fe(fe({},"".concat(Q,"-hidden"),!de),"".concat(Q,"-has-suffix"),!!d))},he)}var xe="".concat(s,"-affix-wrapper"),Oe=et(xe,fe(fe(fe(fe(fe({},"".concat(s,"-disabled"),c),"".concat(xe,"-disabled"),c),"".concat(xe,"-focused"),m),"".concat(xe,"-readonly"),p),"".concat(xe,"-input-with-clear-btn"),d&&E&&T),D==null?void 0:D.affixWrapper,P==null?void 0:P.affixWrapper,P==null?void 0:P.variant),Ae=(d||E)&&We.createElement("span",{className:et("".concat(s,"-suffix"),P==null?void 0:P.suffix),style:U==null?void 0:U.suffix},me,d);q=We.createElement(W,Nt({className:Oe,style:U==null?void 0:U.affixWrapper,onClick:ee},F==null?void 0:F.affixWrapper,{ref:K}),u&&We.createElement("span",{className:et("".concat(s,"-prefix"),P==null?void 0:P.prefix),style:U==null?void 0:U.prefix},u),q,Ae)}if(MQ(n)){var Te="".concat(s,"-group"),ze="".concat(Te,"-addon"),vt="".concat(Te,"-wrapper"),Be=et("".concat(s,"-wrapper"),Te,D==null?void 0:D.wrapper,P==null?void 0:P.wrapper),Ce=et(vt,fe({},"".concat(vt,"-disabled"),c),D==null?void 0:D.group,P==null?void 0:P.groupWrapper);q=We.createElement(Z,{className:Ce,ref:ie},We.createElement(oe,{className:Be},g&&We.createElement(Y,{className:ze},g),q,y&&We.createElement(Y,{className:ze},y)))}return We.cloneElement(q,{className:et((r=q.props)===null||r===void 0?void 0:r.className,_)||null,style:Ne(Ne({},(a=q.props)===null||a===void 0?void 0:a.style),C),hidden:O})}),RQ=["show"];function aH(n,e){return A.useMemo(function(){var t={};e&&(t.show=mn(e)==="object"&&e.formatter?e.formatter:!!e),t=Ne(Ne({},t),n);var r=t,a=r.show,o=$n(r,RQ);return Ne(Ne({},o),{},{show:!!a,showFormatter:typeof a=="function"?a:void 0,strategy:o.strategy||function(l){return l.length}})},[n,e])}var OQ=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","onKeyUp","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"],IQ=A.forwardRef(function(n,e){var t=n.autoComplete,r=n.onChange,a=n.onFocus,o=n.onBlur,l=n.onPressEnter,s=n.onKeyDown,u=n.onKeyUp,d=n.prefixCls,g=d===void 0?"rc-input":d,y=n.disabled,_=n.htmlSize,C=n.className,c=n.maxLength,p=n.suffix,m=n.showCount,b=n.count,E=n.type,T=E===void 0?"text":E,R=n.classes,O=n.classNames,D=n.styles,P=n.onCompositionStart,F=n.onCompositionEnd,U=$n(n,OQ),z=A.useState(!1),$=bt(z,2),J=$[0],W=$[1],Z=A.useRef(!1),oe=A.useRef(!1),Y=A.useRef(null),K=A.useRef(null),ee=function(De){Y.current&&iH(Y.current,De)},ue=nl(n.defaultValue,{value:n.value}),q=bt(ue,2),ie=q[0],me=q[1],de=ie==null?"":String(ie),Q=A.useState(null),he=bt(Q,2),xe=he[0],Oe=he[1],Ae=aH(b,m),Te=Ae.max||c,ze=Ae.strategy(de),vt=!!Te&&ze>Te;A.useImperativeHandle(e,function(){var we;return{focus:ee,blur:function(){var qe;(qe=Y.current)===null||qe===void 0||qe.blur()},setSelectionRange:function(qe,He,gt){var st;(st=Y.current)===null||st===void 0||st.setSelectionRange(qe,He,gt)},select:function(){var qe;(qe=Y.current)===null||qe===void 0||qe.select()},input:Y.current,nativeElement:((we=K.current)===null||we===void 0?void 0:we.nativeElement)||Y.current}}),A.useEffect(function(){oe.current&&(oe.current=!1),W(function(we){return we&&y?!1:we})},[y]);var Be=function(De,qe,He){var gt=qe;if(!Z.current&&Ae.exceedFormatter&&Ae.max&&Ae.strategy(qe)>Ae.max){if(gt=Ae.exceedFormatter(qe,{max:Ae.max}),qe!==gt){var st,pt;Oe([((st=Y.current)===null||st===void 0?void 0:st.selectionStart)||0,((pt=Y.current)===null||pt===void 0?void 0:pt.selectionEnd)||0])}}else if(He.source==="compositionEnd")return;me(gt),Y.current&&k1(Y.current,De,r,gt)};A.useEffect(function(){if(xe){var we;(we=Y.current)===null||we===void 0||we.setSelectionRange.apply(we,Jt(xe))}},[xe]);var Ce=function(De){Be(De,De.target.value,{source:"change"})},re=function(De){Z.current=!1,Be(De,De.currentTarget.value,{source:"compositionEnd"}),F==null||F(De)},Fe=function(De){l&&De.key==="Enter"&&!oe.current&&(oe.current=!0,l(De)),s==null||s(De)},Ie=function(De){De.key==="Enter"&&(oe.current=!1),u==null||u(De)},Ye=function(De){W(!0),a==null||a(De)},ke=function(De){oe.current&&(oe.current=!1),W(!1),o==null||o(De)},lt=function(De){me(""),ee(),Y.current&&k1(Y.current,De,r)},ot=vt&&"".concat(g,"-out-of-range"),ce=function(){var De=go(n,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames","onClear"]);return We.createElement("input",Nt({autoComplete:t},De,{onChange:Ce,onFocus:Ye,onBlur:ke,onKeyDown:Fe,onKeyUp:Ie,className:et(g,fe({},"".concat(g,"-disabled"),y),O==null?void 0:O.input),style:D==null?void 0:D.input,ref:Y,size:_,type:T,onCompositionStart:function(He){Z.current=!0,P==null||P(He)},onCompositionEnd:re}))},ae=function(){var De=Number(Te)>0;if(p||Ae.show){var qe=Ae.showFormatter?Ae.showFormatter({value:de,count:ze,maxLength:Te}):"".concat(ze).concat(De?" / ".concat(Te):"");return We.createElement(We.Fragment,null,Ae.show&&We.createElement("span",{className:et("".concat(g,"-show-count-suffix"),fe({},"".concat(g,"-show-count-has-suffix"),!!p),O==null?void 0:O.count),style:Ne({},D==null?void 0:D.count)},qe),p)}return null};return We.createElement(rH,Nt({},U,{prefixCls:g,className:et(C,ot),handleReset:lt,value:de,focused:J,triggerFocus:ee,suffix:ae(),disabled:y,classes:R,classNames:O,styles:D}),ce())});const oH=n=>{let e;return typeof n=="object"&&(n!=null&&n.clearIcon)?e=n:n&&(e={clearIcon:We.createElement(ew,null)}),e};function sH(n,e){const t=A.useRef([]),r=()=>{t.current.push(setTimeout(()=>{var a,o,l,s;!((a=n.current)===null||a===void 0)&&a.input&&((o=n.current)===null||o===void 0?void 0:o.input.getAttribute("type"))==="password"&&(!((l=n.current)===null||l===void 0)&&l.input.hasAttribute("value"))&&((s=n.current)===null||s===void 0||s.input.removeAttribute("value"))}))};return A.useEffect(()=>(e&&r(),()=>t.current.forEach(a=>{a&&clearTimeout(a)})),[]),r}function BQ(n){return!!(n.prefix||n.suffix||n.allowClear||n.showCount)}var DQ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const Mw=A.forwardRef((n,e)=>{const{prefixCls:t,bordered:r=!0,status:a,size:o,disabled:l,onBlur:s,onFocus:u,suffix:d,allowClear:g,addonAfter:y,addonBefore:_,className:C,style:c,styles:p,rootClassName:m,onChange:b,classNames:E,variant:T}=n,R=DQ(n,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames","variant"]),{getPrefixCls:O,direction:D,allowClear:P,autoComplete:F,className:U,style:z,classNames:$,styles:J}=rf("input"),W=O("input",t),Z=A.useRef(null),oe=Yc(W),[Y,K,ee]=eH(W,m),[ue]=tH(W,oe),{compactSize:q,compactItemClassnames:ie}=fw(W,D),me=Fm(ke=>{var lt;return(lt=o??q)!==null&&lt!==void 0?lt:ke}),de=We.useContext(Nh),Q=l??de,{status:he,hasFeedback:xe,feedbackIcon:Oe}=A.useContext(Uh),Ae=UO(he,a),Te=BQ(n)||!!xe;A.useRef(Te);const ze=sH(Z,!0),vt=ke=>{ze(),s==null||s(ke)},Be=ke=>{ze(),u==null||u(ke)},Ce=ke=>{ze(),b==null||b(ke)},re=(xe||d)&&We.createElement(We.Fragment,null,d,xe&&Oe),Fe=oH(g??P),[Ie,Ye]=p4("input",T,r);return Y(ue(We.createElement(IQ,Object.assign({ref:$h(e,Z),prefixCls:W,autoComplete:F},R,{disabled:Q,onBlur:vt,onFocus:Be,style:Object.assign(Object.assign({},z),c),styles:Object.assign(Object.assign({},J),p),suffix:re,allowClear:Fe,className:et(C,m,ee,oe,ie,U),onChange:Ce,addonBefore:_&&We.createElement(N1,{form:!0,space:!0},_),addonAfter:y&&We.createElement(N1,{form:!0,space:!0},y),classNames:Object.assign(Object.assign(Object.assign({},E),$),{input:et({[`${W}-sm`]:me==="small",[`${W}-lg`]:me==="large",[`${W}-rtl`]:D==="rtl"},E==null?void 0:E.input,$.input,K),variant:et({[`${W}-${Ie}`]:Ye},o2(W,Ae)),affixWrapper:et({[`${W}-affix-wrapper-sm`]:me==="small",[`${W}-affix-wrapper-lg`]:me==="large",[`${W}-affix-wrapper-rtl`]:D==="rtl"},K),wrapper:et({[`${W}-group-rtl`]:D==="rtl"},K),groupWrapper:et({[`${W}-group-wrapper-sm`]:me==="small",[`${W}-group-wrapper-lg`]:me==="large",[`${W}-group-wrapper-rtl`]:D==="rtl",[`${W}-group-wrapper-${Ie}`]:Ye},o2(`${W}-group-wrapper`,Ae,xe),K)})}))))});function mL(n){return["small","middle","large"].includes(n)}function gL(n){return n?typeof n=="number"&&!Number.isNaN(n):!1}const lH=We.createContext({latestIndex:0}),PQ=lH.Provider,LQ=n=>{let{className:e,index:t,children:r,split:a,style:o}=n;const{latestIndex:l}=A.useContext(lH);return r==null?null:A.createElement(A.Fragment,null,A.createElement("div",{className:e,style:o},r),t<l&&a&&A.createElement("span",{className:`${e}-split`},a))};var NQ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const zQ=A.forwardRef((n,e)=>{var t;const{getPrefixCls:r,direction:a,size:o,className:l,style:s,classNames:u,styles:d}=rf("space"),{size:g=o??"small",align:y,className:_,rootClassName:C,children:c,direction:p="horizontal",prefixCls:m,split:b,style:E,wrap:T=!1,classNames:R,styles:O}=n,D=NQ(n,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[P,F]=Array.isArray(g)?g:[g,g],U=mL(F),z=mL(P),$=gL(F),J=gL(P),W=Ju(c,{keepEmpty:!0}),Z=y===void 0&&p==="horizontal"?"center":y,oe=r("space",m),[Y,K,ee]=wF(oe),ue=et(oe,l,K,`${oe}-${p}`,{[`${oe}-rtl`]:a==="rtl",[`${oe}-align-${Z}`]:Z,[`${oe}-gap-row-${F}`]:U,[`${oe}-gap-col-${P}`]:z},_,C,ee),q=et(`${oe}-item`,(t=R==null?void 0:R.item)!==null&&t!==void 0?t:u.item);let ie=0;const me=W.map((he,xe)=>{var Oe;he!=null&&(ie=xe);const Ae=(he==null?void 0:he.key)||`${q}-${xe}`;return A.createElement(LQ,{className:q,key:Ae,index:xe,split:b,style:(Oe=O==null?void 0:O.item)!==null&&Oe!==void 0?Oe:d.item},he)}),de=A.useMemo(()=>({latestIndex:ie}),[ie]);if(W.length===0)return null;const Q={};return T&&(Q.flexWrap="wrap"),!z&&J&&(Q.columnGap=P),!U&&$&&(Q.rowGap=F),Y(A.createElement("div",Object.assign({ref:e,className:ue,style:Object.assign(Object.assign(Object.assign({},Q),s),E)},D),A.createElement(PQ,{value:de},me)))}),cH=zQ;cH.Compact=zW;function uH(){var n=document.documentElement.clientWidth,e=window.innerHeight||document.documentElement.clientHeight;return{width:n,height:e}}function UQ(n){var e=n.getBoundingClientRect(),t=document.documentElement;return{left:e.left+(window.pageXOffset||t.scrollLeft)-(t.clientLeft||document.body.clientLeft||0),top:e.top+(window.pageYOffset||t.scrollTop)-(t.clientTop||document.body.clientTop||0)}}function Pv(n,e,t,r){var a=Wb.unstable_batchedUpdates?function(l){Wb.unstable_batchedUpdates(t,l)}:t;return n!=null&&n.addEventListener&&n.addEventListener(e,a,r),{remove:function(){n!=null&&n.removeEventListener&&n.removeEventListener(e,a,r)}}}var DS=A.createContext(null),FQ=function(e){var t=e.visible,r=e.maskTransitionName,a=e.getContainer,o=e.prefixCls,l=e.rootClassName,s=e.icons,u=e.countRender,d=e.showSwitch,g=e.showProgress,y=e.current,_=e.transform,C=e.count,c=e.scale,p=e.minScale,m=e.maxScale,b=e.closeIcon,E=e.onActive,T=e.onClose,R=e.onZoomIn,O=e.onZoomOut,D=e.onRotateRight,P=e.onRotateLeft,F=e.onFlipX,U=e.onFlipY,z=e.onReset,$=e.toolbarRender,J=e.zIndex,W=e.image,Z=A.useContext(DS),oe=s.rotateLeft,Y=s.rotateRight,K=s.zoomIn,ee=s.zoomOut,ue=s.close,q=s.left,ie=s.right,me=s.flipX,de=s.flipY,Q="".concat(o,"-operations-operation");A.useEffect(function(){var Ie=function(ke){ke.keyCode===zo.ESC&&T()};return t&&window.addEventListener("keydown",Ie),function(){window.removeEventListener("keydown",Ie)}},[t]);var he=function(Ye,ke){Ye.preventDefault(),Ye.stopPropagation(),E(ke)},xe=A.useCallback(function(Ie){var Ye=Ie.type,ke=Ie.disabled,lt=Ie.onClick,ot=Ie.icon;return A.createElement("div",{key:Ye,className:et(Q,"".concat(o,"-operations-operation-").concat(Ye),fe({},"".concat(o,"-operations-operation-disabled"),!!ke)),onClick:lt},ot)},[Q,o]),Oe=d?xe({icon:q,onClick:function(Ye){return he(Ye,-1)},type:"prev",disabled:y===0}):void 0,Ae=d?xe({icon:ie,onClick:function(Ye){return he(Ye,1)},type:"next",disabled:y===C-1}):void 0,Te=xe({icon:de,onClick:U,type:"flipY"}),ze=xe({icon:me,onClick:F,type:"flipX"}),vt=xe({icon:oe,onClick:P,type:"rotateLeft"}),Be=xe({icon:Y,onClick:D,type:"rotateRight"}),Ce=xe({icon:ee,onClick:O,type:"zoomOut",disabled:c<=p}),re=xe({icon:K,onClick:R,type:"zoomIn",disabled:c===m}),Fe=A.createElement("div",{className:"".concat(o,"-operations")},Te,ze,vt,Be,Ce,re);return A.createElement(Xc,{visible:t,motionName:r},function(Ie){var Ye=Ie.className,ke=Ie.style;return A.createElement(yw,{open:!0,getContainer:a??document.body},A.createElement("div",{className:et("".concat(o,"-operations-wrapper"),Ye,l),style:Ne(Ne({},ke),{},{zIndex:J})},b===null?null:A.createElement("button",{className:"".concat(o,"-close"),onClick:T},b||ue),d&&A.createElement(A.Fragment,null,A.createElement("div",{className:et("".concat(o,"-switch-left"),fe({},"".concat(o,"-switch-left-disabled"),y===0)),onClick:function(ot){return he(ot,-1)}},q),A.createElement("div",{className:et("".concat(o,"-switch-right"),fe({},"".concat(o,"-switch-right-disabled"),y===C-1)),onClick:function(ot){return he(ot,1)}},ie)),A.createElement("div",{className:"".concat(o,"-footer")},g&&A.createElement("div",{className:"".concat(o,"-progress")},u?u(y+1,C):"".concat(y+1," / ").concat(C)),$?$(Fe,Ne(Ne({icons:{prevIcon:Oe,nextIcon:Ae,flipYIcon:Te,flipXIcon:ze,rotateLeftIcon:vt,rotateRightIcon:Be,zoomOutIcon:Ce,zoomInIcon:re},actions:{onActive:E,onFlipY:U,onFlipX:F,onRotateLeft:P,onRotateRight:D,onZoomOut:O,onZoomIn:R,onReset:z,onClose:T},transform:_},Z?{current:y,total:C}:{}),{},{image:W})):Fe)))})},Sx={x:0,y:0,rotate:0,scale:1,flipX:!1,flipY:!1};function HQ(n,e,t,r){var a=A.useRef(null),o=A.useRef([]),l=A.useState(Sx),s=bt(l,2),u=s[0],d=s[1],g=function(c){d(Sx),i0(Sx,u)||r==null||r({transform:Sx,action:c})},y=function(c,p){a.current===null&&(o.current=[],a.current=ho(function(){d(function(m){var b=m;return o.current.forEach(function(E){b=Ne(Ne({},b),E)}),a.current=null,r==null||r({transform:b,action:p}),b})})),o.current.push(Ne(Ne({},u),c))},_=function(c,p,m,b,E){var T=n.current,R=T.width,O=T.height,D=T.offsetWidth,P=T.offsetHeight,F=T.offsetLeft,U=T.offsetTop,z=c,$=u.scale*c;$>t?($=t,z=t/u.scale):$<e&&($=E?$:e,z=$/u.scale);var J=m??innerWidth/2,W=b??innerHeight/2,Z=z-1,oe=Z*R*.5,Y=Z*O*.5,K=Z*(J-u.x-F),ee=Z*(W-u.y-U),ue=u.x-(K-oe),q=u.y-(ee-Y);if(c<1&&$===1){var ie=D*$,me=P*$,de=uH(),Q=de.width,he=de.height;ie<=Q&&me<=he&&(ue=0,q=0)}y({x:ue,y:q,scale:$},p)};return{transform:u,resetTransform:g,updateTransform:y,dispatchZoomChange:_}}function vL(n,e,t,r){var a=e+t,o=(t-r)/2;if(t>r){if(e>0)return fe({},n,o);if(e<0&&a<r)return fe({},n,-o)}else if(e<0||a>r)return fe({},n,e<0?o:-o);return{}}function fH(n,e,t,r){var a=uH(),o=a.width,l=a.height,s=null;return n<=o&&e<=l?s={x:0,y:0}:(n>o||e>l)&&(s=Ne(Ne({},vL("x",t,n,o)),vL("y",r,e,l))),s}var Lv=1,GQ=1;function kQ(n,e,t,r,a,o,l){var s=a.rotate,u=a.scale,d=a.x,g=a.y,y=A.useState(!1),_=bt(y,2),C=_[0],c=_[1],p=A.useRef({diffX:0,diffY:0,transformX:0,transformY:0}),m=function(O){!e||O.button!==0||(O.preventDefault(),O.stopPropagation(),p.current={diffX:O.pageX-d,diffY:O.pageY-g,transformX:d,transformY:g},c(!0))},b=function(O){t&&C&&o({x:O.pageX-p.current.diffX,y:O.pageY-p.current.diffY},"move")},E=function(){if(t&&C){c(!1);var O=p.current,D=O.transformX,P=O.transformY,F=d!==D&&g!==P;if(!F)return;var U=n.current.offsetWidth*u,z=n.current.offsetHeight*u,$=n.current.getBoundingClientRect(),J=$.left,W=$.top,Z=s%180!==0,oe=fH(Z?z:U,Z?U:z,J,W);oe&&o(Ne({},oe),"dragRebound")}},T=function(O){if(!(!t||O.deltaY==0)){var D=Math.abs(O.deltaY/100),P=Math.min(D,GQ),F=Lv+P*r;O.deltaY>0&&(F=Lv/F),l(F,"wheel",O.clientX,O.clientY)}};return A.useEffect(function(){var R,O,D,P;if(e){D=Pv(window,"mouseup",E,!1),P=Pv(window,"mousemove",b,!1);try{window.top!==window.self&&(R=Pv(window.top,"mouseup",E,!1),O=Pv(window.top,"mousemove",b,!1))}catch{}}return function(){var F,U,z,$;(F=D)===null||F===void 0||F.remove(),(U=P)===null||U===void 0||U.remove(),(z=R)===null||z===void 0||z.remove(),($=O)===null||$===void 0||$.remove()}},[t,C,d,g,s,e]),{isMoving:C,onMouseDown:m,onMouseMove:b,onMouseUp:E,onWheel:T}}function $Q(n){return new Promise(function(e){var t=document.createElement("img");t.onerror=function(){return e(!1)},t.onload=function(){return e(!0)},t.src=n})}function dH(n){var e=n.src,t=n.isCustomPlaceholder,r=n.fallback,a=A.useState(t?"loading":"normal"),o=bt(a,2),l=o[0],s=o[1],u=A.useRef(!1),d=l==="error";A.useEffect(function(){var C=!0;return $Q(e).then(function(c){!c&&C&&s("error")}),function(){C=!1}},[e]),A.useEffect(function(){t&&!u.current?s("loading"):d&&s("normal")},[e]);var g=function(){s("normal")},y=function(c){u.current=!1,l==="loading"&&c!==null&&c!==void 0&&c.complete&&(c.naturalWidth||c.naturalHeight)&&(u.current=!0,g())},_=d&&r?{src:r}:{onLoad:g,src:e};return[y,_,l]}function $1(n,e){var t=n.x-e.x,r=n.y-e.y;return Math.hypot(t,r)}function VQ(n,e,t,r){var a=$1(n,t),o=$1(e,r);if(a===0&&o===0)return[n.x,n.y];var l=a/(a+o),s=n.x+l*(e.x-n.x),u=n.y+l*(e.y-n.y);return[s,u]}function jQ(n,e,t,r,a,o,l){var s=a.rotate,u=a.scale,d=a.x,g=a.y,y=A.useState(!1),_=bt(y,2),C=_[0],c=_[1],p=A.useRef({point1:{x:0,y:0},point2:{x:0,y:0},eventType:"none"}),m=function(O){p.current=Ne(Ne({},p.current),O)},b=function(O){if(e){O.stopPropagation(),c(!0);var D=O.touches,P=D===void 0?[]:D;P.length>1?m({point1:{x:P[0].clientX,y:P[0].clientY},point2:{x:P[1].clientX,y:P[1].clientY},eventType:"touchZoom"}):m({point1:{x:P[0].clientX-d,y:P[0].clientY-g},eventType:"move"})}},E=function(O){var D=O.touches,P=D===void 0?[]:D,F=p.current,U=F.point1,z=F.point2,$=F.eventType;if(P.length>1&&$==="touchZoom"){var J={x:P[0].clientX,y:P[0].clientY},W={x:P[1].clientX,y:P[1].clientY},Z=VQ(U,z,J,W),oe=bt(Z,2),Y=oe[0],K=oe[1],ee=$1(J,W)/$1(U,z);l(ee,"touchZoom",Y,K,!0),m({point1:J,point2:W,eventType:"touchZoom"})}else $==="move"&&(o({x:P[0].clientX-U.x,y:P[0].clientY-U.y},"move"),m({eventType:"move"}))},T=function(){if(t){if(C&&c(!1),m({eventType:"none"}),r>u)return o({x:0,y:0,scale:r},"touchZoom");var O=n.current.offsetWidth*u,D=n.current.offsetHeight*u,P=n.current.getBoundingClientRect(),F=P.left,U=P.top,z=s%180!==0,$=fH(z?D:O,z?O:D,F,U);$&&o(Ne({},$),"dragRebound")}};return A.useEffect(function(){var R;return t&&e&&(R=Pv(window,"touchmove",function(O){return O.preventDefault()},{passive:!1})),function(){var O;(O=R)===null||O===void 0||O.remove()}},[t,e]),{isTouching:C,onTouchStart:b,onTouchMove:E,onTouchEnd:T}}var WQ=["fallback","src","imgRef"],XQ=["prefixCls","src","alt","imageInfo","fallback","movable","onClose","visible","icons","rootClassName","closeIcon","getContainer","current","count","countRender","scaleStep","minScale","maxScale","transitionName","maskTransitionName","imageRender","imgCommonProps","toolbarRender","onTransform","onChange"],YQ=function(e){var t=e.fallback,r=e.src,a=e.imgRef,o=$n(e,WQ),l=dH({src:r,fallback:t}),s=bt(l,2),u=s[0],d=s[1];return We.createElement("img",Nt({ref:function(y){a.current=y,u(y)}},o,d))},hH=function(e){var t=e.prefixCls,r=e.src,a=e.alt,o=e.imageInfo,l=e.fallback,s=e.movable,u=s===void 0?!0:s,d=e.onClose,g=e.visible,y=e.icons,_=y===void 0?{}:y,C=e.rootClassName,c=e.closeIcon,p=e.getContainer,m=e.current,b=m===void 0?0:m,E=e.count,T=E===void 0?1:E,R=e.countRender,O=e.scaleStep,D=O===void 0?.5:O,P=e.minScale,F=P===void 0?1:P,U=e.maxScale,z=U===void 0?50:U,$=e.transitionName,J=$===void 0?"zoom":$,W=e.maskTransitionName,Z=W===void 0?"fade":W,oe=e.imageRender,Y=e.imgCommonProps,K=e.toolbarRender,ee=e.onTransform,ue=e.onChange,q=$n(e,XQ),ie=A.useRef(),me=A.useContext(DS),de=me&&T>1,Q=me&&T>=1,he=A.useState(!0),xe=bt(he,2),Oe=xe[0],Ae=xe[1],Te=HQ(ie,F,z,ee),ze=Te.transform,vt=Te.resetTransform,Be=Te.updateTransform,Ce=Te.dispatchZoomChange,re=kQ(ie,u,g,D,ze,Be,Ce),Fe=re.isMoving,Ie=re.onMouseDown,Ye=re.onWheel,ke=jQ(ie,u,g,F,ze,Be,Ce),lt=ke.isTouching,ot=ke.onTouchStart,ce=ke.onTouchMove,ae=ke.onTouchEnd,we=ze.rotate,De=ze.scale,qe=et(fe({},"".concat(t,"-moving"),Fe));A.useEffect(function(){Oe||Ae(!0)},[Oe]);var He=function(){vt("close")},gt=function(){Ce(Lv+D,"zoomIn")},st=function(){Ce(Lv/(Lv+D),"zoomOut")},pt=function(){Be({rotate:we+90},"rotateRight")},Ot=function(){Be({rotate:we-90},"rotateLeft")},at=function(){Be({flipX:!ze.flipX},"flipX")},_t=function(){Be({flipY:!ze.flipY},"flipY")},Ct=function(){vt("reset")},je=function(xt){var Qe=b+xt;!Number.isInteger(Qe)||Qe<0||Qe>T-1||(Ae(!1),vt(xt<0?"prev":"next"),ue==null||ue(Qe,b))},it=function(xt){!g||!de||(xt.keyCode===zo.LEFT?je(-1):xt.keyCode===zo.RIGHT&&je(1))},Se=function(xt){g&&(De!==1?Be({x:0,y:0,scale:1},"doubleClick"):Ce(Lv+D,"doubleClick",xt.clientX,xt.clientY))};A.useEffect(function(){var Me=Pv(window,"keydown",it,!1);return function(){Me.remove()}},[g,de,b]);var Ge=We.createElement(YQ,Nt({},Y,{width:e.width,height:e.height,imgRef:ie,className:"".concat(t,"-img"),alt:a,style:{transform:"translate3d(".concat(ze.x,"px, ").concat(ze.y,"px, 0) scale3d(").concat(ze.flipX?"-":"").concat(De,", ").concat(ze.flipY?"-":"").concat(De,", 1) rotate(").concat(we,"deg)"),transitionDuration:(!Oe||lt)&&"0s"},fallback:l,src:r,onWheel:Ye,onMouseDown:Ie,onDoubleClick:Se,onTouchStart:ot,onTouchMove:ce,onTouchEnd:ae,onTouchCancel:ae})),St=Ne({url:r,alt:a},o);return We.createElement(We.Fragment,null,We.createElement(NO,Nt({transitionName:J,maskTransitionName:Z,closable:!1,keyboard:!0,prefixCls:t,onClose:d,visible:g,classNames:{wrapper:qe},rootClassName:C,getContainer:p},q,{afterClose:He}),We.createElement("div",{className:"".concat(t,"-img-wrapper")},oe?oe(Ge,Ne({transform:ze,image:St},me?{current:b}:{})):Ge)),We.createElement(FQ,{visible:g,transform:ze,maskTransitionName:Z,closeIcon:c,getContainer:p,prefixCls:t,rootClassName:C,icons:_,countRender:R,showSwitch:de,showProgress:Q,current:b,count:T,scale:De,minScale:F,maxScale:z,toolbarRender:K,onActive:je,onZoomIn:gt,onZoomOut:st,onRotateRight:pt,onRotateLeft:Ot,onFlipX:at,onFlipY:_t,onClose:d,onReset:Ct,zIndex:q.zIndex!==void 0?q.zIndex+1:void 0,image:St}))},p2=["crossOrigin","decoding","draggable","loading","referrerPolicy","sizes","srcSet","useMap","alt"];function qQ(n){var e=A.useState({}),t=bt(e,2),r=t[0],a=t[1],o=A.useCallback(function(s,u){return a(function(d){return Ne(Ne({},d),{},fe({},s,u))}),function(){a(function(d){var g=Ne({},d);return delete g[s],g})}},[]),l=A.useMemo(function(){return n?n.map(function(s){if(typeof s=="string")return{data:{src:s}};var u={};return Object.keys(s).forEach(function(d){["src"].concat(Jt(p2)).includes(d)&&(u[d]=s[d])}),{data:u}}):Object.keys(r).reduce(function(s,u){var d=r[u],g=d.canPreview,y=d.data;return g&&s.push({data:y,id:u}),s},[])},[n,r]);return[l,o,!!n]}var KQ=["visible","onVisibleChange","getContainer","current","movable","minScale","maxScale","countRender","closeIcon","onChange","onTransform","toolbarRender","imageRender"],JQ=["src"],QQ=function(e){var t,r=e.previewPrefixCls,a=r===void 0?"rc-image-preview":r,o=e.children,l=e.icons,s=l===void 0?{}:l,u=e.items,d=e.preview,g=e.fallback,y=mn(d)==="object"?d:{},_=y.visible,C=y.onVisibleChange,c=y.getContainer,p=y.current,m=y.movable,b=y.minScale,E=y.maxScale,T=y.countRender,R=y.closeIcon,O=y.onChange,D=y.onTransform,P=y.toolbarRender,F=y.imageRender,U=$n(y,KQ),z=qQ(u),$=bt(z,3),J=$[0],W=$[1],Z=$[2],oe=nl(0,{value:p}),Y=bt(oe,2),K=Y[0],ee=Y[1],ue=A.useState(!1),q=bt(ue,2),ie=q[0],me=q[1],de=((t=J[K])===null||t===void 0?void 0:t.data)||{},Q=de.src,he=$n(de,JQ),xe=nl(!!_,{value:_,onChange:function(lt,ot){C==null||C(lt,ot,K)}}),Oe=bt(xe,2),Ae=Oe[0],Te=Oe[1],ze=A.useState(null),vt=bt(ze,2),Be=vt[0],Ce=vt[1],re=A.useCallback(function(ke,lt,ot,ce){var ae=Z?J.findIndex(function(we){return we.data.src===lt}):J.findIndex(function(we){return we.id===ke});ee(ae<0?0:ae),Te(!0),Ce({x:ot,y:ce}),me(!0)},[J,Z]);A.useEffect(function(){Ae?ie||ee(0):me(!1)},[Ae]);var Fe=function(lt,ot){ee(lt),O==null||O(lt,ot)},Ie=function(){Te(!1),Ce(null)},Ye=A.useMemo(function(){return{register:W,onPreview:re}},[W,re]);return A.createElement(DS.Provider,{value:Ye},o,A.createElement(hH,Nt({"aria-hidden":!Ae,movable:m,visible:Ae,prefixCls:a,closeIcon:R,onClose:Ie,mousePosition:Be,imgCommonProps:he,src:Q,fallback:g,icons:s,minScale:b,maxScale:E,getContainer:c,current:K,count:J.length,countRender:T,onTransform:D,toolbarRender:P,imageRender:F,onChange:Fe},U)))},yL=0;function ZQ(n,e){var t=A.useState(function(){return yL+=1,String(yL)}),r=bt(t,1),a=r[0],o=A.useContext(DS),l={data:e,canPreview:n};return A.useEffect(function(){if(o)return o.register(a,l)},[]),A.useEffect(function(){o&&o.register(a,l)},[n,e]),a}var eZ=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","rootClassName"],tZ=["src","visible","onVisibleChange","getContainer","mask","maskClassName","movable","icons","scaleStep","minScale","maxScale","imageRender","toolbarRender"],qO=function(e){var t=e.src,r=e.alt,a=e.onPreviewClose,o=e.prefixCls,l=o===void 0?"rc-image":o,s=e.previewPrefixCls,u=s===void 0?"".concat(l,"-preview"):s,d=e.placeholder,g=e.fallback,y=e.width,_=e.height,C=e.style,c=e.preview,p=c===void 0?!0:c,m=e.className,b=e.onClick,E=e.onError,T=e.wrapperClassName,R=e.wrapperStyle,O=e.rootClassName,D=$n(e,eZ),P=d&&d!==!0,F=mn(p)==="object"?p:{},U=F.src,z=F.visible,$=z===void 0?void 0:z,J=F.onVisibleChange,W=J===void 0?a:J,Z=F.getContainer,oe=Z===void 0?void 0:Z,Y=F.mask,K=F.maskClassName,ee=F.movable,ue=F.icons,q=F.scaleStep,ie=F.minScale,me=F.maxScale,de=F.imageRender,Q=F.toolbarRender,he=$n(F,tZ),xe=U??t,Oe=nl(!!$,{value:$,onChange:W}),Ae=bt(Oe,2),Te=Ae[0],ze=Ae[1],vt=dH({src:t,isCustomPlaceholder:P,fallback:g}),Be=bt(vt,3),Ce=Be[0],re=Be[1],Fe=Be[2],Ie=A.useState(null),Ye=bt(Ie,2),ke=Ye[0],lt=Ye[1],ot=A.useContext(DS),ce=!!p,ae=function(){ze(!1),lt(null)},we=et(l,T,O,fe({},"".concat(l,"-error"),Fe==="error")),De=A.useMemo(function(){var st={};return p2.forEach(function(pt){e[pt]!==void 0&&(st[pt]=e[pt])}),st},p2.map(function(st){return e[st]})),qe=A.useMemo(function(){return Ne(Ne({},De),{},{src:xe})},[xe,De]),He=ZQ(ce,qe),gt=function(pt){var Ot=UQ(pt.target),at=Ot.left,_t=Ot.top;ot?ot.onPreview(He,xe,at,_t):(lt({x:at,y:_t}),ze(!0)),b==null||b(pt)};return A.createElement(A.Fragment,null,A.createElement("div",Nt({},D,{className:we,onClick:ce?gt:b,style:Ne({width:y,height:_},R)}),A.createElement("img",Nt({},De,{className:et("".concat(l,"-img"),fe({},"".concat(l,"-img-placeholder"),d===!0),m),style:Ne({height:_},C),ref:Ce},re,{width:y,height:_,onError:E})),Fe==="loading"&&A.createElement("div",{"aria-hidden":"true",className:"".concat(l,"-placeholder")},d),Y&&ce&&A.createElement("div",{className:et("".concat(l,"-mask"),K),style:{display:(C==null?void 0:C.display)==="none"?"none":void 0}},Y)),!ot&&ce&&A.createElement(hH,Nt({"aria-hidden":!Te,visible:Te,prefixCls:u,onClose:ae,mousePosition:ke,src:xe,alt:r,imageInfo:{width:y,height:_},fallback:g,getContainer:oe,icons:ue,movable:ee,scaleStep:q,minScale:ie,maxScale:me,rootClassName:O,imageRender:de,imgCommonProps:De,toolbarRender:Q},he)))};qO.PreviewGroup=QQ;const m2=n=>({position:n||"absolute",inset:0}),nZ=n=>{const{iconCls:e,motionDurationSlow:t,paddingXXS:r,marginXXS:a,prefixCls:o,colorTextLightSolid:l}=n;return{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:l,background:new Fi("#000").setA(.5).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${t}`,[`.${o}-mask-info`]:Object.assign(Object.assign({},sw),{padding:`0 ${Pt(r)}`,[e]:{marginInlineEnd:a,svg:{verticalAlign:"baseline"}}})}},iZ=n=>{const{previewCls:e,modalMaskBg:t,paddingSM:r,marginXL:a,margin:o,paddingLG:l,previewOperationColorDisabled:s,previewOperationHoverColor:u,motionDurationSlow:d,iconCls:g,colorTextLightSolid:y}=n,_=new Fi(t).setA(.1),C=_.clone().setA(.2);return{[`${e}-footer`]:{position:"fixed",bottom:a,left:{_skip_check_:!0,value:"50%"},display:"flex",flexDirection:"column",alignItems:"center",color:n.previewOperationColor,transform:"translateX(-50%)"},[`${e}-progress`]:{marginBottom:o},[`${e}-close`]:{position:"fixed",top:a,right:{_skip_check_:!0,value:a},display:"flex",color:y,backgroundColor:_.toRgbString(),borderRadius:"50%",padding:r,outline:0,border:0,cursor:"pointer",transition:`all ${d}`,"&:hover":{backgroundColor:C.toRgbString()},[`& > ${g}`]:{fontSize:n.previewOperationSize}},[`${e}-operations`]:{display:"flex",alignItems:"center",padding:`0 ${Pt(l)}`,backgroundColor:_.toRgbString(),borderRadius:100,"&-operation":{marginInlineStart:r,padding:r,cursor:"pointer",transition:`all ${d}`,userSelect:"none",[`&:not(${e}-operations-operation-disabled):hover > ${g}`]:{color:u},"&-disabled":{color:s,cursor:"not-allowed"},"&:first-of-type":{marginInlineStart:0},[`& > ${g}`]:{fontSize:n.previewOperationSize}}}}},rZ=n=>{const{modalMaskBg:e,iconCls:t,previewOperationColorDisabled:r,previewCls:a,zIndexPopup:o,motionDurationSlow:l}=n,s=new Fi(e).setA(.1),u=s.clone().setA(.2);return{[`${a}-switch-left, ${a}-switch-right`]:{position:"fixed",insetBlockStart:"50%",zIndex:n.calc(o).add(1).equal(),display:"flex",alignItems:"center",justifyContent:"center",width:n.imagePreviewSwitchSize,height:n.imagePreviewSwitchSize,marginTop:n.calc(n.imagePreviewSwitchSize).mul(-1).div(2).equal(),color:n.previewOperationColor,background:s.toRgbString(),borderRadius:"50%",transform:"translateY(-50%)",cursor:"pointer",transition:`all ${l}`,userSelect:"none","&:hover":{background:u.toRgbString()},"&-disabled":{"&, &:hover":{color:r,background:"transparent",cursor:"not-allowed",[`> ${t}`]:{cursor:"not-allowed"}}},[`> ${t}`]:{fontSize:n.previewOperationSize}},[`${a}-switch-left`]:{insetInlineStart:n.marginSM},[`${a}-switch-right`]:{insetInlineEnd:n.marginSM}}},aZ=n=>{const{motionEaseOut:e,previewCls:t,motionDurationSlow:r,componentCls:a}=n;return[{[`${a}-preview-root`]:{[t]:{height:"100%",textAlign:"center",pointerEvents:"none"},[`${t}-body`]:Object.assign(Object.assign({},m2()),{overflow:"hidden"}),[`${t}-img`]:{maxWidth:"100%",maxHeight:"70%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${r} ${e} 0s`,userSelect:"none","&-wrapper":Object.assign(Object.assign({},m2()),{transition:`transform ${r} ${e} 0s`,display:"flex",justifyContent:"center",alignItems:"center","& > *":{pointerEvents:"auto"},"&::before":{display:"inline-block",width:1,height:"50%",marginInlineEnd:-1,content:'""'}})},[`${t}-moving`]:{[`${t}-preview-img`]:{cursor:"grabbing","&-wrapper":{transitionDuration:"0s"}}}}},{[`${a}-preview-root`]:{[`${t}-wrap`]:{zIndex:n.zIndexPopup}}},{[`${a}-preview-operations-wrapper`]:{position:"fixed",zIndex:n.calc(n.zIndexPopup).add(1).equal()},"&":[iZ(n),rZ(n)]}]},oZ=n=>{const{componentCls:e}=n;return{[e]:{position:"relative",display:"inline-block",[`${e}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${e}-img-placeholder`]:{backgroundColor:n.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${e}-mask`]:Object.assign({},nZ(n)),[`${e}-mask:hover`]:{opacity:1},[`${e}-placeholder`]:Object.assign({},m2())}}},sZ=n=>{const{previewCls:e}=n;return{[`${e}-root`]:wS(n,"zoom"),"&":DO(n,!0)}},lZ=n=>({zIndexPopup:n.zIndexPopupBase+80,previewOperationColor:new Fi(n.colorTextLightSolid).setA(.65).toRgbString(),previewOperationHoverColor:new Fi(n.colorTextLightSolid).setA(.85).toRgbString(),previewOperationColorDisabled:new Fi(n.colorTextLightSolid).setA(.25).toRgbString(),previewOperationSize:n.fontSizeIcon*1.5}),pH=oa("Image",n=>{const e=`${n.componentCls}-preview`,t=sr(n,{previewCls:e,modalMaskBg:new Fi("#000").setA(.45).toRgbString(),imagePreviewSwitchSize:n.controlHeightLG});return[oZ(t),aZ(t),KF(sr(t,{componentCls:e})),sZ(t)]},lZ);var cZ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const mH={rotateLeft:A.createElement(rV,null),rotateRight:A.createElement(sV,null),zoomIn:A.createElement(oU,null),zoomOut:A.createElement(sU,null),close:A.createElement(A0,null),left:A.createElement(MR,null),right:A.createElement(TR,null),flipX:A.createElement(yD,null),flipY:A.createElement(yD,{rotate:90})},uZ=n=>{var{previewPrefixCls:e,preview:t}=n,r=cZ(n,["previewPrefixCls","preview"]);const{getPrefixCls:a}=A.useContext(qn),o=a("image",e),l=`${o}-preview`,s=a(),u=Yc(o),[d,g,y]=pH(o,u),[_]=CS("ImagePreview",typeof t=="object"?t.zIndex:void 0),C=A.useMemo(()=>{var c;if(t===!1)return t;const p=typeof t=="object"?t:{},m=et(g,y,u,(c=p.rootClassName)!==null&&c!==void 0?c:"");return Object.assign(Object.assign({},p),{transitionName:Qu(s,"zoom",p.transitionName),maskTransitionName:Qu(s,"fade",p.maskTransitionName),rootClassName:m,zIndex:_})},[t]);return d(A.createElement(qO.PreviewGroup,Object.assign({preview:C,previewPrefixCls:l,icons:mH},r)))};var bL=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const Kv=n=>{const{prefixCls:e,preview:t,className:r,rootClassName:a,style:o}=n,l=bL(n,["prefixCls","preview","className","rootClassName","style"]),{getPrefixCls:s,getPopupContainer:u,className:d,style:g,preview:y}=rf("image"),[_]=xS("Image"),C=s("image",e),c=s(),p=Yc(C),[m,b,E]=pH(C,p),T=et(a,b,E,p),R=et(r,b,d),[O]=CS("ImagePreview",typeof t=="object"?t.zIndex:void 0),D=A.useMemo(()=>{if(t===!1)return t;const F=typeof t=="object"?t:{},{getContainer:U,closeIcon:z,rootClassName:$}=F,J=bL(F,["getContainer","closeIcon","rootClassName"]);return Object.assign(Object.assign({mask:A.createElement("div",{className:`${C}-mask-info`},A.createElement(gO,null),_==null?void 0:_.preview),icons:mH},J),{rootClassName:et(T,$),getContainer:U??u,transitionName:Qu(c,"zoom",F.transitionName),maskTransitionName:Qu(c,"fade",F.maskTransitionName),zIndex:O,closeIcon:z??(y==null?void 0:y.closeIcon)})},[t,_,y==null?void 0:y.closeIcon]),P=Object.assign(Object.assign({},g),o);return m(A.createElement(qO,Object.assign({prefixCls:C,preview:D,rootClassName:T,className:R,style:P},l)))};Kv.PreviewGroup=uZ;const fZ=n=>{const{getPrefixCls:e,direction:t}=A.useContext(qn),{prefixCls:r,className:a}=n,o=e("input-group",r),l=e("input"),[s,u,d]=tH(l),g=et(o,d,{[`${o}-lg`]:n.size==="large",[`${o}-sm`]:n.size==="small",[`${o}-compact`]:n.compact,[`${o}-rtl`]:t==="rtl"},u,a),y=A.useContext(Uh),_=A.useMemo(()=>Object.assign(Object.assign({},y),{isFormItemInput:!1}),[y]);return s(A.createElement("span",{className:g,style:n.style,onMouseEnter:n.onMouseEnter,onMouseLeave:n.onMouseLeave,onFocus:n.onFocus,onBlur:n.onBlur},A.createElement(Uh.Provider,{value:_},n.children)))},dZ=n=>{const{componentCls:e,paddingXS:t}=n;return{[e]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:t,"&-rtl":{direction:"rtl"},[`${e}-input`]:{textAlign:"center",paddingInline:n.paddingXXS},[`&${e}-sm ${e}-input`]:{paddingInline:n.calc(n.paddingXXS).div(2).equal()},[`&${e}-lg ${e}-input`]:{paddingInline:n.paddingXS}}}},hZ=oa(["Input","OTP"],n=>{const e=sr(n,ww(n));return[dZ(e)]},Aw);var pZ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const mZ=A.forwardRef((n,e)=>{const{value:t,onChange:r,onActiveChange:a,index:o,mask:l}=n,s=pZ(n,["value","onChange","onActiveChange","index","mask"]),u=t&&typeof l=="string"?l:t,d=c=>{r(o,c.target.value)},g=A.useRef(null);A.useImperativeHandle(e,()=>g.current);const y=()=>{ho(()=>{var c;const p=(c=g.current)===null||c===void 0?void 0:c.input;document.activeElement===p&&p&&p.select()})},_=c=>{const{key:p,ctrlKey:m,metaKey:b}=c;p==="ArrowLeft"?a(o-1):p==="ArrowRight"?a(o+1):p==="z"&&(m||b)&&c.preventDefault(),y()},C=c=>{c.key==="Backspace"&&!t&&a(o-1),y()};return A.createElement(Mw,Object.assign({type:l===!0?"password":"text"},s,{ref:g,value:u,onInput:d,onFocus:y,onKeyDown:_,onKeyUp:C,onMouseDown:y,onMouseUp:y}))});var gZ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};function _x(n){return(n||"").split("")}const vZ=n=>{const{index:e,prefixCls:t,separator:r}=n,a=typeof r=="function"?r(e):r;return a?A.createElement("span",{className:`${t}-separator`},a):null},yZ=A.forwardRef((n,e)=>{const{prefixCls:t,length:r=6,size:a,defaultValue:o,value:l,onChange:s,formatter:u,separator:d,variant:g,disabled:y,status:_,autoFocus:C,mask:c,type:p,onInput:m,inputMode:b}=n,E=gZ(n,["prefixCls","length","size","defaultValue","value","onChange","formatter","separator","variant","disabled","status","autoFocus","mask","type","onInput","inputMode"]),{getPrefixCls:T,direction:R}=A.useContext(qn),O=T("otp",t),D=R0(E,{aria:!0,data:!0,attr:!0}),[P,F,U]=hZ(O),z=Fm(Q=>a??Q),$=A.useContext(Uh),J=UO($.status,_),W=A.useMemo(()=>Object.assign(Object.assign({},$),{status:J,hasFeedback:!1,feedbackIcon:null}),[$,J]),Z=A.useRef(null),oe=A.useRef({});A.useImperativeHandle(e,()=>({focus:()=>{var Q;(Q=oe.current[0])===null||Q===void 0||Q.focus()},blur:()=>{var Q;for(let he=0;he<r;he+=1)(Q=oe.current[he])===null||Q===void 0||Q.blur()},nativeElement:Z.current}));const Y=Q=>u?u(Q):Q,[K,ee]=A.useState(()=>_x(Y(o||"")));A.useEffect(()=>{l!==void 0&&ee(_x(l))},[l]);const ue=qa(Q=>{ee(Q),m&&m(Q),s&&Q.length===r&&Q.every(he=>he)&&Q.some((he,xe)=>K[xe]!==he)&&s(Q.join(""))}),q=qa((Q,he)=>{let xe=Jt(K);for(let Ae=0;Ae<Q;Ae+=1)xe[Ae]||(xe[Ae]="");he.length<=1?xe[Q]=he:xe=xe.slice(0,Q).concat(_x(he)),xe=xe.slice(0,r);for(let Ae=xe.length-1;Ae>=0&&!xe[Ae];Ae-=1)xe.pop();const Oe=Y(xe.map(Ae=>Ae||" ").join(""));return xe=_x(Oe).map((Ae,Te)=>Ae===" "&&!xe[Te]?xe[Te]:Ae),xe}),ie=(Q,he)=>{var xe;const Oe=q(Q,he),Ae=Math.min(Q+he.length,r-1);Ae!==Q&&Oe[Q]!==void 0&&((xe=oe.current[Ae])===null||xe===void 0||xe.focus()),ue(Oe)},me=Q=>{var he;(he=oe.current[Q])===null||he===void 0||he.focus()},de={variant:g,disabled:y,status:J,mask:c,type:p,inputMode:b};return P(A.createElement("div",Object.assign({},D,{ref:Z,className:et(O,{[`${O}-sm`]:z==="small",[`${O}-lg`]:z==="large",[`${O}-rtl`]:R==="rtl"},U,F)}),A.createElement(Uh.Provider,{value:W},Array.from({length:r}).map((Q,he)=>{const xe=`otp-${he}`,Oe=K[he]||"";return A.createElement(A.Fragment,{key:xe},A.createElement(mZ,Object.assign({ref:Ae=>{oe.current[he]=Ae},index:he,size:z,htmlSize:1,className:`${O}-input`,onChange:ie,value:Oe,onActiveChange:me,autoFocus:he===0&&C},de)),he<r-1&&A.createElement(vZ,{separator:d,index:he,prefixCls:O}))}))))});var bZ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const SZ=n=>n?A.createElement(gO,null):A.createElement(M$,null),_Z={click:"onClick",hover:"onMouseOver"},xZ=A.forwardRef((n,e)=>{const{disabled:t,action:r="click",visibilityToggle:a=!0,iconRender:o=SZ}=n,l=A.useContext(Nh),s=t??l,u=typeof a=="object"&&a.visible!==void 0,[d,g]=A.useState(()=>u?a.visible:!1),y=A.useRef(null);A.useEffect(()=>{u&&g(a.visible)},[u,a]);const _=sH(y),C=()=>{var z;if(s)return;d&&_();const $=!d;g($),typeof a=="object"&&((z=a.onVisibleChange)===null||z===void 0||z.call(a,$))},c=z=>{const $=_Z[r]||"",J=o(d),W={[$]:C,className:`${z}-icon`,key:"passwordIcon",onMouseDown:Z=>{Z.preventDefault()},onMouseUp:Z=>{Z.preventDefault()}};return A.cloneElement(A.isValidElement(J)?J:A.createElement("span",null,J),W)},{className:p,prefixCls:m,inputPrefixCls:b,size:E}=n,T=bZ(n,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:R}=A.useContext(qn),O=R("input",b),D=R("input-password",m),P=a&&c(D),F=et(D,p,{[`${D}-${E}`]:!!E}),U=Object.assign(Object.assign({},go(T,["suffix","iconRender","visibilityToggle"])),{type:d?"text":"password",className:F,prefixCls:O,suffix:P});return E&&(U.size=E),A.createElement(Mw,Object.assign({ref:$h(e,y)},U))});var CZ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const EZ=A.forwardRef((n,e)=>{const{prefixCls:t,inputPrefixCls:r,className:a,size:o,suffix:l,enterButton:s=!1,addonAfter:u,loading:d,disabled:g,onSearch:y,onChange:_,onCompositionStart:C,onCompositionEnd:c}=n,p=CZ(n,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:m,direction:b}=A.useContext(qn),E=A.useRef(!1),T=m("input-search",t),R=m("input",r),{compactSize:O}=fw(T,b),D=Fm(ie=>{var me;return(me=o??O)!==null&&me!==void 0?me:ie}),P=A.useRef(null),F=ie=>{ie!=null&&ie.target&&ie.type==="click"&&y&&y(ie.target.value,ie,{source:"clear"}),_==null||_(ie)},U=ie=>{var me;document.activeElement===((me=P.current)===null||me===void 0?void 0:me.input)&&ie.preventDefault()},z=ie=>{var me,de;y&&y((de=(me=P.current)===null||me===void 0?void 0:me.input)===null||de===void 0?void 0:de.value,ie,{source:"input"})},$=ie=>{E.current||d||z(ie)},J=typeof s=="boolean"?A.createElement(uV,null):null,W=`${T}-button`;let Z;const oe=s||{},Y=oe.type&&oe.type.__ANT_BUTTON===!0;Y||oe.type==="button"?Z=rl(oe,Object.assign({onMouseDown:U,onClick:ie=>{var me,de;(de=(me=oe==null?void 0:oe.props)===null||me===void 0?void 0:me.onClick)===null||de===void 0||de.call(me,ie),z(ie)},key:"enterButton"},Y?{className:W,size:D}:{})):Z=A.createElement(fo,{className:W,type:s?"primary":void 0,size:D,disabled:g,key:"enterButton",onMouseDown:U,onClick:z,loading:d,icon:J},s),u&&(Z=[Z,rl(u,{key:"addonAfter"})]);const K=et(T,{[`${T}-rtl`]:b==="rtl",[`${T}-${D}`]:!!D,[`${T}-with-button`]:!!s},a),ee=Object.assign(Object.assign({},p),{className:K,prefixCls:R,type:"search"}),ue=ie=>{E.current=!0,C==null||C(ie)},q=ie=>{E.current=!1,c==null||c(ie)};return A.createElement(Mw,Object.assign({ref:$h(P,e),onPressEnter:$},ee,{size:D,onCompositionStart:ue,onCompositionEnd:q,addonAfter:Z,suffix:l,onChange:F,disabled:g}))});var wZ=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,AZ=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],DM={},Xs;function MZ(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=n.getAttribute("id")||n.getAttribute("data-reactid")||n.getAttribute("name");if(e&&DM[t])return DM[t];var r=window.getComputedStyle(n),a=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),o=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),l=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),s=AZ.map(function(d){return"".concat(d,":").concat(r.getPropertyValue(d))}).join(";"),u={sizingStyle:s,paddingSize:o,borderSize:l,boxSizing:a};return e&&t&&(DM[t]=u),u}function TZ(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;Xs||(Xs=document.createElement("textarea"),Xs.setAttribute("tab-index","-1"),Xs.setAttribute("aria-hidden","true"),Xs.setAttribute("name","hiddenTextarea"),document.body.appendChild(Xs)),n.getAttribute("wrap")?Xs.setAttribute("wrap",n.getAttribute("wrap")):Xs.removeAttribute("wrap");var a=MZ(n,e),o=a.paddingSize,l=a.borderSize,s=a.boxSizing,u=a.sizingStyle;Xs.setAttribute("style","".concat(u,";").concat(wZ)),Xs.value=n.value||n.placeholder||"";var d=void 0,g=void 0,y,_=Xs.scrollHeight;if(s==="border-box"?_+=l:s==="content-box"&&(_-=o),t!==null||r!==null){Xs.value=" ";var C=Xs.scrollHeight-o;t!==null&&(d=C*t,s==="border-box"&&(d=d+o+l),_=Math.max(d,_)),r!==null&&(g=C*r,s==="border-box"&&(g=g+o+l),y=_>g?"":"hidden",_=Math.min(g,_))}var c={height:_,overflowY:y,resize:"none"};return d&&(c.minHeight=d),g&&(c.maxHeight=g),c}var RZ=["prefixCls","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],PM=0,LM=1,NM=2,OZ=A.forwardRef(function(n,e){var t=n,r=t.prefixCls,a=t.defaultValue,o=t.value,l=t.autoSize,s=t.onResize,u=t.className,d=t.style,g=t.disabled,y=t.onChange;t.onInternalAutoSize;var _=$n(t,RZ),C=nl(a,{value:o,postState:function(Q){return Q??""}}),c=bt(C,2),p=c[0],m=c[1],b=function(Q){m(Q.target.value),y==null||y(Q)},E=A.useRef();A.useImperativeHandle(e,function(){return{textArea:E.current}});var T=A.useMemo(function(){return l&&mn(l)==="object"?[l.minRows,l.maxRows]:[]},[l]),R=bt(T,2),O=R[0],D=R[1],P=!!l,F=function(){try{if(document.activeElement===E.current){var Q=E.current,he=Q.selectionStart,xe=Q.selectionEnd,Oe=Q.scrollTop;E.current.setSelectionRange(he,xe),E.current.scrollTop=Oe}}catch{}},U=A.useState(NM),z=bt(U,2),$=z[0],J=z[1],W=A.useState(),Z=bt(W,2),oe=Z[0],Y=Z[1],K=function(){J(PM)};Ca(function(){P&&K()},[o,O,D,P]),Ca(function(){if($===PM)J(LM);else if($===LM){var de=TZ(E.current,!1,O,D);J(NM),Y(de)}else F()},[$]);var ee=A.useRef(),ue=function(){ho.cancel(ee.current)},q=function(Q){$===NM&&(s==null||s(Q),l&&(ue(),ee.current=ho(function(){K()})))};A.useEffect(function(){return ue},[]);var ie=P?oe:null,me=Ne(Ne({},d),ie);return($===PM||$===LM)&&(me.overflowY="hidden",me.overflowX="hidden"),A.createElement(Um,{onResize:q,disabled:!(l||s)},A.createElement("textarea",Nt({},_,{ref:E,style:me,className:et(r,u,fe({},"".concat(r,"-disabled"),g)),disabled:g,value:p,onChange:b})))}),IZ=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","showCount","count","className","style","disabled","hidden","classNames","styles","onResize","onClear","onPressEnter","readOnly","autoSize","onKeyDown"],BZ=We.forwardRef(function(n,e){var t,r=n.defaultValue,a=n.value,o=n.onFocus,l=n.onBlur,s=n.onChange,u=n.allowClear,d=n.maxLength,g=n.onCompositionStart,y=n.onCompositionEnd,_=n.suffix,C=n.prefixCls,c=C===void 0?"rc-textarea":C,p=n.showCount,m=n.count,b=n.className,E=n.style,T=n.disabled,R=n.hidden,O=n.classNames,D=n.styles,P=n.onResize,F=n.onClear,U=n.onPressEnter,z=n.readOnly,$=n.autoSize,J=n.onKeyDown,W=$n(n,IZ),Z=nl(r,{value:a,defaultValue:r}),oe=bt(Z,2),Y=oe[0],K=oe[1],ee=Y==null?"":String(Y),ue=We.useState(!1),q=bt(ue,2),ie=q[0],me=q[1],de=We.useRef(!1),Q=We.useState(null),he=bt(Q,2),xe=he[0],Oe=he[1],Ae=A.useRef(null),Te=A.useRef(null),ze=function(){var je;return(je=Te.current)===null||je===void 0?void 0:je.textArea},vt=function(){ze().focus()};A.useImperativeHandle(e,function(){var Ct;return{resizableTextArea:Te.current,focus:vt,blur:function(){ze().blur()},nativeElement:((Ct=Ae.current)===null||Ct===void 0?void 0:Ct.nativeElement)||ze()}}),A.useEffect(function(){me(function(Ct){return!T&&Ct})},[T]);var Be=We.useState(null),Ce=bt(Be,2),re=Ce[0],Fe=Ce[1];We.useEffect(function(){if(re){var Ct;(Ct=ze()).setSelectionRange.apply(Ct,Jt(re))}},[re]);var Ie=aH(m,p),Ye=(t=Ie.max)!==null&&t!==void 0?t:d,ke=Number(Ye)>0,lt=Ie.strategy(ee),ot=!!Ye&&lt>Ye,ce=function(je,it){var Se=it;!de.current&&Ie.exceedFormatter&&Ie.max&&Ie.strategy(it)>Ie.max&&(Se=Ie.exceedFormatter(it,{max:Ie.max}),it!==Se&&Fe([ze().selectionStart||0,ze().selectionEnd||0])),K(Se),k1(je.currentTarget,je,s,Se)},ae=function(je){de.current=!0,g==null||g(je)},we=function(je){de.current=!1,ce(je,je.currentTarget.value),y==null||y(je)},De=function(je){ce(je,je.target.value)},qe=function(je){je.key==="Enter"&&U&&U(je),J==null||J(je)},He=function(je){me(!0),o==null||o(je)},gt=function(je){me(!1),l==null||l(je)},st=function(je){K(""),vt(),k1(ze(),je,s)},pt=_,Ot;Ie.show&&(Ie.showFormatter?Ot=Ie.showFormatter({value:ee,count:lt,maxLength:Ye}):Ot="".concat(lt).concat(ke?" / ".concat(Ye):""),pt=We.createElement(We.Fragment,null,pt,We.createElement("span",{className:et("".concat(c,"-data-count"),O==null?void 0:O.count),style:D==null?void 0:D.count},Ot)));var at=function(je){var it;P==null||P(je),(it=ze())!==null&&it!==void 0&&it.style.height&&Oe(!0)},_t=!$&&!p&&!u;return We.createElement(rH,{ref:Ae,value:ee,allowClear:u,handleReset:st,suffix:pt,prefixCls:c,classNames:Ne(Ne({},O),{},{affixWrapper:et(O==null?void 0:O.affixWrapper,fe(fe({},"".concat(c,"-show-count"),p),"".concat(c,"-textarea-allow-clear"),u))}),disabled:T,focused:ie,className:et(b,ot&&"".concat(c,"-out-of-range")),style:Ne(Ne({},E),xe&&!_t?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":typeof Ot=="string"?Ot:void 0}},hidden:R,readOnly:z,onClear:F},We.createElement(OZ,Nt({},W,{autoSize:$,maxLength:d,onKeyDown:qe,onChange:De,onFocus:He,onBlur:gt,onCompositionStart:ae,onCompositionEnd:we,className:et(O==null?void 0:O.textarea),style:Ne(Ne({},D==null?void 0:D.textarea),{},{resize:E==null?void 0:E.resize}),disabled:T,prefixCls:c,onResize:at,ref:Te,readOnly:z})))});const DZ=n=>{const{componentCls:e,paddingLG:t}=n,r=`${e}-textarea`;return{[r]:{position:"relative","&-show-count":{[`> ${e}`]:{height:"100%"},[`${e}-data-count`]:{position:"absolute",bottom:n.calc(n.fontSize).mul(n.lineHeight).mul(-1).equal(),insetInlineEnd:0,color:n.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},[`
        &-allow-clear > ${e},
        &-affix-wrapper${r}-has-feedback ${e}
      `]:{paddingInlineEnd:t},[`&-affix-wrapper${e}-affix-wrapper`]:{padding:0,[`> textarea${e}`]:{fontSize:"inherit",border:"none",outline:"none",background:"transparent",minHeight:n.calc(n.controlHeight).sub(n.calc(n.lineWidth).mul(2)).equal(),"&:focus":{boxShadow:"none !important"}},[`${e}-suffix`]:{margin:0,"> *:not(:last-child)":{marginInline:0},[`${e}-clear-icon`]:{position:"absolute",insetInlineEnd:n.paddingInline,insetBlockStart:n.paddingXS},[`${r}-suffix`]:{position:"absolute",top:0,insetInlineEnd:n.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}},[`&-affix-wrapper${e}-affix-wrapper-sm`]:{[`${e}-suffix`]:{[`${e}-clear-icon`]:{insetInlineEnd:n.paddingInlineSM}}}}}},PZ=oa(["Input","TextArea"],n=>{const e=sr(n,ww(n));return[DZ(e)]},Aw,{resetFont:!1});var LZ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const NZ=A.forwardRef((n,e)=>{var t;const{prefixCls:r,bordered:a=!0,size:o,disabled:l,status:s,allowClear:u,classNames:d,rootClassName:g,className:y,style:_,styles:C,variant:c}=n,p=LZ(n,["prefixCls","bordered","size","disabled","status","allowClear","classNames","rootClassName","className","style","styles","variant"]),{getPrefixCls:m,direction:b,allowClear:E,autoComplete:T,className:R,style:O,classNames:D,styles:P}=rf("textArea"),F=A.useContext(Nh),U=l??F,{status:z,hasFeedback:$,feedbackIcon:J}=A.useContext(Uh),W=UO(z,s),Z=A.useRef(null);A.useImperativeHandle(e,()=>{var Oe;return{resizableTextArea:(Oe=Z.current)===null||Oe===void 0?void 0:Oe.resizableTextArea,focus:Ae=>{var Te,ze;iH((ze=(Te=Z.current)===null||Te===void 0?void 0:Te.resizableTextArea)===null||ze===void 0?void 0:ze.textArea,Ae)},blur:()=>{var Ae;return(Ae=Z.current)===null||Ae===void 0?void 0:Ae.blur()}}});const oe=m("input",r),Y=Yc(oe),[K,ee,ue]=eH(oe,g),[q]=PZ(oe,Y),{compactSize:ie,compactItemClassnames:me}=fw(oe,b),de=Fm(Oe=>{var Ae;return(Ae=o??ie)!==null&&Ae!==void 0?Ae:Oe}),[Q,he]=p4("textArea",c,a),xe=oH(u??E);return K(q(A.createElement(BZ,Object.assign({autoComplete:T},p,{style:Object.assign(Object.assign({},O),_),styles:Object.assign(Object.assign({},P),C),disabled:U,allowClear:xe,className:et(ue,Y,y,g,me,R),classNames:Object.assign(Object.assign(Object.assign({},d),D),{textarea:et({[`${oe}-sm`]:de==="small",[`${oe}-lg`]:de==="large"},ee,d==null?void 0:d.textarea,D.textarea),variant:et({[`${oe}-${Q}`]:he},o2(oe,W)),affixWrapper:et(`${oe}-textarea-affix-wrapper`,{[`${oe}-affix-wrapper-rtl`]:b==="rtl",[`${oe}-affix-wrapper-sm`]:de==="small",[`${oe}-affix-wrapper-lg`]:de==="large",[`${oe}-textarea-show-count`]:n.showCount||((t=n.count)===null||t===void 0?void 0:t.show)},ee)}),prefixCls:oe,suffix:$&&A.createElement("span",{className:`${oe}-textarea-suffix`},J),ref:Z}))))}),B0=Mw;B0.Group=fZ;B0.Search=EZ;B0.TextArea=NZ;B0.Password=xZ;B0.OTP=yZ;function zZ(n,e,t){return typeof t=="boolean"?t:n.length?!0:Ju(e).some(a=>a.type===V4)}var gH=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};function Tw(n){let{suffixCls:e,tagName:t,displayName:r}=n;return a=>A.forwardRef((l,s)=>A.createElement(a,Object.assign({ref:s,suffixCls:e,tagName:t},l)))}const KO=A.forwardRef((n,e)=>{const{prefixCls:t,suffixCls:r,className:a,tagName:o}=n,l=gH(n,["prefixCls","suffixCls","className","tagName"]),{getPrefixCls:s}=A.useContext(qn),u=s("layout",t),[d,g,y]=$4(u),_=r?`${u}-${r}`:u;return d(A.createElement(o,Object.assign({className:et(t||_,a,g,y),ref:e},l)))}),UZ=A.forwardRef((n,e)=>{const{direction:t}=A.useContext(qn),[r,a]=A.useState([]),{prefixCls:o,className:l,rootClassName:s,children:u,hasSider:d,tagName:g,style:y}=n,_=gH(n,["prefixCls","className","rootClassName","children","hasSider","tagName","style"]),C=go(_,["suffixCls"]),{getPrefixCls:c,className:p,style:m}=rf("layout"),b=c("layout",o),E=zZ(r,u,d),[T,R,O]=$4(b),D=et(b,{[`${b}-has-sider`]:E,[`${b}-rtl`]:t==="rtl"},p,l,s,R,O),P=A.useMemo(()=>({siderHook:{addSider:F=>{a(U=>[].concat(Jt(U),[F]))},removeSider:F=>{a(U=>U.filter(z=>z!==F))}}}),[]);return T(A.createElement(H4.Provider,{value:P},A.createElement(g,Object.assign({ref:e,className:D,style:Object.assign(Object.assign({},m),y)},C),u)))}),FZ=Tw({tagName:"div",displayName:"Layout"})(UZ),HZ=Tw({suffixCls:"header",tagName:"header",displayName:"Header"})(KO),GZ=Tw({suffixCls:"footer",tagName:"footer",displayName:"Footer"})(KO),kZ=Tw({suffixCls:"content",tagName:"main",displayName:"Content"})(KO),Gm=FZ;Gm.Header=HZ;Gm.Footer=GZ;Gm.Content=kZ;Gm.Sider=V4;Gm._InternalSiderContext=Ew;const V1=100,vH=V1/5,yH=V1/2-vH/2,zM=yH*2*Math.PI,SL=50,_L=n=>{const{dotClassName:e,style:t,hasCircleCls:r}=n;return A.createElement("circle",{className:et(`${e}-circle`,{[`${e}-circle-bg`]:r}),r:yH,cx:SL,cy:SL,strokeWidth:vH,style:t})},$Z=n=>{let{percent:e,prefixCls:t}=n;const r=`${t}-dot`,a=`${r}-holder`,o=`${a}-hidden`,[l,s]=A.useState(!1);Ca(()=>{e!==0&&s(!0)},[e!==0]);const u=Math.max(Math.min(e,100),0);if(!l)return null;const d={strokeDashoffset:`${zM/4}`,strokeDasharray:`${zM*u/100} ${zM*(100-u)/100}`};return A.createElement("span",{className:et(a,`${r}-progress`,u<=0&&o)},A.createElement("svg",{viewBox:`0 0 ${V1} ${V1}`,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":u},A.createElement(_L,{dotClassName:r,hasCircleCls:!0}),A.createElement(_L,{dotClassName:r,style:d})))};function VZ(n){const{prefixCls:e,percent:t=0}=n,r=`${e}-dot`,a=`${r}-holder`,o=`${a}-hidden`;return A.createElement(A.Fragment,null,A.createElement("span",{className:et(a,t>0&&o)},A.createElement("span",{className:et(r,`${e}-dot-spin`)},[1,2,3,4].map(l=>A.createElement("i",{className:`${e}-dot-item`,key:l})))),A.createElement($Z,{prefixCls:e,percent:t}))}function jZ(n){const{prefixCls:e,indicator:t,percent:r}=n,a=`${e}-dot`;return t&&A.isValidElement(t)?rl(t,{className:et(t.props.className,a),percent:r}):A.createElement(VZ,{prefixCls:e,percent:r})}const WZ=new ir("antSpinMove",{to:{opacity:1}}),XZ=new ir("antRotate",{to:{transform:"rotate(405deg)"}}),YZ=n=>{const{componentCls:e,calc:t}=n;return{[e]:Object.assign(Object.assign({},Gl(n)),{position:"absolute",display:"none",color:n.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${n.motionDurationSlow} ${n.motionEaseInOutCirc}`,"&-spinning":{position:"relative",display:"inline-block",opacity:1},[`${e}-text`]:{fontSize:n.fontSize,paddingTop:t(t(n.dotSize).sub(n.fontSize)).div(2).add(2).equal()},"&-fullscreen":{position:"fixed",width:"100vw",height:"100vh",backgroundColor:n.colorBgMask,zIndex:n.zIndexPopupBase,inset:0,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",opacity:0,visibility:"hidden",transition:`all ${n.motionDurationMid}`,"&-show":{opacity:1,visibility:"visible"},[e]:{[`${e}-dot-holder`]:{color:n.colorWhite},[`${e}-text`]:{color:n.colorTextLightSolid}}},"&-nested-loading":{position:"relative",[`> div > ${e}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:n.contentHeight,[`${e}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:t(n.dotSize).mul(-1).div(2).equal()},[`${e}-text`]:{position:"absolute",top:"50%",width:"100%",textShadow:`0 1px 2px ${n.colorBgContainer}`},[`&${e}-show-text ${e}-dot`]:{marginTop:t(n.dotSize).div(2).mul(-1).sub(10).equal()},"&-sm":{[`${e}-dot`]:{margin:t(n.dotSizeSM).mul(-1).div(2).equal()},[`${e}-text`]:{paddingTop:t(t(n.dotSizeSM).sub(n.fontSize)).div(2).add(2).equal()},[`&${e}-show-text ${e}-dot`]:{marginTop:t(n.dotSizeSM).div(2).mul(-1).sub(10).equal()}},"&-lg":{[`${e}-dot`]:{margin:t(n.dotSizeLG).mul(-1).div(2).equal()},[`${e}-text`]:{paddingTop:t(t(n.dotSizeLG).sub(n.fontSize)).div(2).add(2).equal()},[`&${e}-show-text ${e}-dot`]:{marginTop:t(n.dotSizeLG).div(2).mul(-1).sub(10).equal()}}},[`${e}-container`]:{position:"relative",transition:`opacity ${n.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:n.colorBgContainer,opacity:0,transition:`all ${n.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${e}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:n.spinDotDefault},[`${e}-dot-holder`]:{width:"1em",height:"1em",fontSize:n.dotSize,display:"inline-block",transition:`transform ${n.motionDurationSlow} ease, opacity ${n.motionDurationSlow} ease`,transformOrigin:"50% 50%",lineHeight:1,color:n.colorPrimary,"&-hidden":{transform:"scale(0.3)",opacity:0}},[`${e}-dot-progress`]:{position:"absolute",inset:0},[`${e}-dot`]:{position:"relative",display:"inline-block",fontSize:n.dotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:t(n.dotSize).sub(t(n.marginXXS).div(2)).div(2).equal(),height:t(n.dotSize).sub(t(n.marginXXS).div(2)).div(2).equal(),background:"currentColor",borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:WZ,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0,animationDelay:"0s"},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:XZ,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"},"&-circle":{strokeLinecap:"round",transition:["stroke-dashoffset","stroke-dasharray","stroke","stroke-width","opacity"].map(r=>`${r} ${n.motionDurationSlow} ease`).join(","),fillOpacity:0,stroke:"currentcolor"},"&-circle-bg":{stroke:n.colorFillSecondary}},[`&-sm ${e}-dot`]:{"&, &-holder":{fontSize:n.dotSizeSM}},[`&-sm ${e}-dot-holder`]:{i:{width:t(t(n.dotSizeSM).sub(t(n.marginXXS).div(2))).div(2).equal(),height:t(t(n.dotSizeSM).sub(t(n.marginXXS).div(2))).div(2).equal()}},[`&-lg ${e}-dot`]:{"&, &-holder":{fontSize:n.dotSizeLG}},[`&-lg ${e}-dot-holder`]:{i:{width:t(t(n.dotSizeLG).sub(n.marginXXS)).div(2).equal(),height:t(t(n.dotSizeLG).sub(n.marginXXS)).div(2).equal()}},[`&${e}-show-text ${e}-text`]:{display:"block"}})}},qZ=n=>{const{controlHeightLG:e,controlHeight:t}=n;return{contentHeight:400,dotSize:e/2,dotSizeSM:e*.35,dotSizeLG:t}},KZ=oa("Spin",n=>{const e=sr(n,{spinDotDefault:n.colorTextDescription});return[YZ(e)]},qZ),JZ=200,xL=[[30,.05],[70,.03],[96,.01]];function QZ(n,e){const[t,r]=A.useState(0),a=A.useRef(null),o=e==="auto";return A.useEffect(()=>(o&&n&&(r(0),a.current=setInterval(()=>{r(l=>{const s=100-l;for(let u=0;u<xL.length;u+=1){const[d,g]=xL[u];if(l<=d)return l+s*g}return l})},JZ)),()=>{clearInterval(a.current)}),[o,n]),o?t:e}var ZZ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};let bH;function eee(n,e){return!!n&&!!e&&!Number.isNaN(Number(e))}const SH=n=>{var e;const{prefixCls:t,spinning:r=!0,delay:a=0,className:o,rootClassName:l,size:s="default",tip:u,wrapperClassName:d,style:g,children:y,fullscreen:_=!1,indicator:C,percent:c}=n,p=ZZ(n,["prefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","fullscreen","indicator","percent"]),{getPrefixCls:m,direction:b,className:E,style:T,indicator:R}=rf("spin"),O=m("spin",t),[D,P,F]=KZ(O),[U,z]=A.useState(()=>r&&!eee(r,a)),$=QZ(U,c);A.useEffect(()=>{if(r){const ee=xQ(a,()=>{z(!0)});return ee(),()=>{var ue;(ue=ee==null?void 0:ee.cancel)===null||ue===void 0||ue.call(ee)}}z(!1)},[a,r]);const J=A.useMemo(()=>typeof y<"u"&&!_,[y,_]),W=et(O,E,{[`${O}-sm`]:s==="small",[`${O}-lg`]:s==="large",[`${O}-spinning`]:U,[`${O}-show-text`]:!!u,[`${O}-rtl`]:b==="rtl"},o,!_&&l,P,F),Z=et(`${O}-container`,{[`${O}-blur`]:U}),oe=(e=C??R)!==null&&e!==void 0?e:bH,Y=Object.assign(Object.assign({},T),g),K=A.createElement("div",Object.assign({},p,{style:Y,className:W,"aria-live":"polite","aria-busy":U}),A.createElement(jZ,{prefixCls:O,indicator:oe,percent:$}),u&&(J||_)?A.createElement("div",{className:`${O}-text`},u):null);return D(J?A.createElement("div",Object.assign({},p,{className:et(`${O}-nested-loading`,d,P,F)}),U&&A.createElement("div",{key:"loading"},K),A.createElement("div",{className:Z,key:"container"},y)):_?A.createElement("div",{className:et(`${O}-fullscreen`,{[`${O}-fullscreen-show`]:U},l,P,F)},K):K)};SH.setDefaultIndicator=n=>{bH=n};let zl=null,dm=n=>n(),nS=[],iS={};function CL(){const{getContainer:n,duration:e,rtl:t,maxCount:r,top:a}=iS,o=(n==null?void 0:n())||document.body;return{getContainer:()=>o,duration:e,rtl:t,maxCount:r,top:a}}const tee=We.forwardRef((n,e)=>{const{messageConfig:t,sync:r}=n,{getPrefixCls:a}=A.useContext(qn),o=iS.prefixCls||a("message"),l=A.useContext(nK),[s,u]=_F(Object.assign(Object.assign(Object.assign({},t),{prefixCls:o}),l.message));return We.useImperativeHandle(e,()=>{const d=Object.assign({},s);return Object.keys(d).forEach(g=>{d[g]=function(){return r(),s[g].apply(s,arguments)}}),{instance:d,sync:r}}),u}),nee=We.forwardRef((n,e)=>{const[t,r]=We.useState(CL),a=()=>{r(CL)};We.useEffect(a,[]);const o=dF(),l=o.getRootPrefixCls(),s=o.getIconPrefixCls(),u=o.getTheme(),d=We.createElement(tee,{ref:e,sync:a,messageConfig:t});return We.createElement(bd,{prefixCls:l,iconPrefixCls:s,theme:u},o.holderRender?o.holderRender(d):d)});function Rw(){if(!zl){const n=document.createDocumentFragment(),e={fragment:n};zl=e,dm(()=>{OO()(We.createElement(nee,{ref:r=>{const{instance:a,sync:o}=r||{};Promise.resolve().then(()=>{!e.instance&&a&&(e.instance=a,e.sync=o,Rw())})}}),n)});return}zl.instance&&(nS.forEach(n=>{const{type:e,skipped:t}=n;if(!t)switch(e){case"open":{dm(()=>{const r=zl.instance.open(Object.assign(Object.assign({},iS),n.config));r==null||r.then(n.resolve),n.setCloseFn(r)});break}case"destroy":dm(()=>{zl==null||zl.instance.destroy(n.key)});break;default:dm(()=>{var r;const a=(r=zl.instance)[e].apply(r,Jt(n.args));a==null||a.then(n.resolve),n.setCloseFn(a)})}}),nS=[])}function iee(n){iS=Object.assign(Object.assign({},iS),n),dm(()=>{var e;(e=zl==null?void 0:zl.sync)===null||e===void 0||e.call(zl)})}function ree(n){const e=RO(t=>{let r;const a={type:"open",config:n,resolve:t,setCloseFn:o=>{r=o}};return nS.push(a),()=>{r?dm(()=>{r()}):a.skipped=!0}});return Rw(),e}function aee(n,e){const t=RO(r=>{let a;const o={type:n,args:e,resolve:r,setCloseFn:l=>{a=l}};return nS.push(o),()=>{a?dm(()=>{a()}):o.skipped=!0}});return Rw(),t}const oee=n=>{nS.push({type:"destroy",key:n}),Rw()},see=["success","info","warning","error","loading"],lee={open:ree,destroy:oee,config:iee,useMessage:dW,_InternalPanelDoNotUseOrYouWillBeFired:rW},_H=lee;see.forEach(n=>{_H[n]=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return aee(n,t)}});var cee=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const uee=n=>{const{prefixCls:e,className:t,closeIcon:r,closable:a,type:o,title:l,children:s,footer:u}=n,d=cee(n,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:g}=A.useContext(qn),y=g(),_=e||g("modal"),C=Yc(y),[c,p,m]=ZF(_,C),b=`${_}-confirm`;let E={};return o?E={closable:a??!1,title:"",footer:"",children:A.createElement(t4,Object.assign({},n,{prefixCls:_,confirmPrefixCls:b,rootPrefixCls:y,content:s}))}:E={closable:a??!0,title:l,footer:u!==null&&A.createElement(YF,Object.assign({},n)),children:s},c(A.createElement(UF,Object.assign({prefixCls:_,className:et(p,`${_}-pure-panel`,o&&b,o&&`${b}-${o}`,t,m,C)},d,{closeIcon:XF(_,r),closable:a},E)))},fee=iK(uee);function xH(n){return RS(a4(n))}const kl=e4;kl.useModal=tK;kl.info=function(e){return RS(o4(e))};kl.success=function(e){return RS(s4(e))};kl.error=function(e){return RS(l4(e))};kl.warning=xH;kl.warn=xH;kl.confirm=function(e){return RS(c4(e))};kl.destroyAll=function(){for(;fm.length;){const e=fm.pop();e&&e()}};kl.config=Kq;kl._InternalPanelDoNotUseOrYouWillBeFired=fee;var dee={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},hee=function(){var e=A.useRef([]),t=A.useRef(null);return A.useEffect(function(){var r=Date.now(),a=!1;e.current.forEach(function(o){if(o){a=!0;var l=o.style;l.transitionDuration=".3s, .3s, .3s, .06s",t.current&&r-t.current<100&&(l.transitionDuration="0s, 0s")}}),a&&(t.current=Date.now())}),e.current},EL=0,pee=ls();function mee(){var n;return pee?(n=EL,EL+=1):n="TEST_OR_SSR",n}const gee=function(n){var e=A.useState(),t=bt(e,2),r=t[0],a=t[1];return A.useEffect(function(){a("rc_progress_".concat(mee()))},[]),n||r};var wL=function(e){var t=e.bg,r=e.children;return A.createElement("div",{style:{width:"100%",height:"100%",background:t}},r)};function AL(n,e){return Object.keys(n).map(function(t){var r=parseFloat(t),a="".concat(Math.floor(r*e),"%");return"".concat(n[t]," ").concat(a)})}var vee=A.forwardRef(function(n,e){var t=n.prefixCls,r=n.color,a=n.gradientId,o=n.radius,l=n.style,s=n.ptg,u=n.strokeLinecap,d=n.strokeWidth,g=n.size,y=n.gapDegree,_=r&&mn(r)==="object",C=_?"#FFF":void 0,c=g/2,p=A.createElement("circle",{className:"".concat(t,"-circle-path"),r:o,cx:c,cy:c,stroke:C,strokeLinecap:u,strokeWidth:d,opacity:s===0?0:1,style:l,ref:e});if(!_)return p;var m="".concat(a,"-conic"),b=y?"".concat(180+y/2,"deg"):"0deg",E=AL(r,(360-y)/360),T=AL(r,1),R="conic-gradient(from ".concat(b,", ").concat(E.join(", "),")"),O="linear-gradient(to ".concat(y?"bottom":"top",", ").concat(T.join(", "),")");return A.createElement(A.Fragment,null,A.createElement("mask",{id:m},p),A.createElement("foreignObject",{x:0,y:0,width:g,height:g,mask:"url(#".concat(m,")")},A.createElement(wL,{bg:O},A.createElement(wL,{bg:R}))))}),cb=100,UM=function(e,t,r,a,o,l,s,u,d,g){var y=arguments.length>10&&arguments[10]!==void 0?arguments[10]:0,_=r/100*360*((360-l)/360),C=l===0?0:{bottom:0,top:180,left:90,right:-90}[s],c=(100-a)/100*t;d==="round"&&a!==100&&(c+=g/2,c>=t&&(c=t-.01));var p=cb/2;return{stroke:typeof u=="string"?u:void 0,strokeDasharray:"".concat(t,"px ").concat(e),strokeDashoffset:c+y,transform:"rotate(".concat(o+_+C,"deg)"),transformOrigin:"".concat(p,"px ").concat(p,"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},yee=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function ML(n){var e=n??[];return Array.isArray(e)?e:[e]}var bee=function(e){var t=Ne(Ne({},dee),e),r=t.id,a=t.prefixCls,o=t.steps,l=t.strokeWidth,s=t.trailWidth,u=t.gapDegree,d=u===void 0?0:u,g=t.gapPosition,y=t.trailColor,_=t.strokeLinecap,C=t.style,c=t.className,p=t.strokeColor,m=t.percent,b=$n(t,yee),E=cb/2,T=gee(r),R="".concat(T,"-gradient"),O=E-l/2,D=Math.PI*2*O,P=d>0?90+d/2:-90,F=D*((360-d)/360),U=mn(o)==="object"?o:{count:o,gap:2},z=U.count,$=U.gap,J=ML(m),W=ML(p),Z=W.find(function(ie){return ie&&mn(ie)==="object"}),oe=Z&&mn(Z)==="object",Y=oe?"butt":_,K=UM(D,F,0,100,P,d,g,y,Y,l),ee=hee(),ue=function(){var me=0;return J.map(function(de,Q){var he=W[Q]||W[W.length-1],xe=UM(D,F,me,de,P,d,g,he,Y,l);return me+=de,A.createElement(vee,{key:Q,color:he,ptg:de,radius:O,prefixCls:a,gradientId:R,style:xe,strokeLinecap:Y,strokeWidth:l,gapDegree:d,ref:function(Ae){ee[Q]=Ae},size:cb})}).reverse()},q=function(){var me=Math.round(z*(J[0]/100)),de=100/z,Q=0;return new Array(z).fill(null).map(function(he,xe){var Oe=xe<=me-1?W[0]:y,Ae=Oe&&mn(Oe)==="object"?"url(#".concat(R,")"):void 0,Te=UM(D,F,Q,de,P,d,g,Oe,"butt",l,$);return Q+=(F-Te.strokeDashoffset+$)*100/F,A.createElement("circle",{key:xe,className:"".concat(a,"-circle-path"),r:O,cx:E,cy:E,stroke:Ae,strokeWidth:l,opacity:1,style:Te,ref:function(vt){ee[xe]=vt}})})};return A.createElement("svg",Nt({className:et("".concat(a,"-circle"),c),viewBox:"0 0 ".concat(cb," ").concat(cb),style:C,id:r,role:"presentation"},b),!z&&A.createElement("circle",{className:"".concat(a,"-circle-trail"),r:O,cx:E,cy:E,stroke:y,strokeLinecap:Y,strokeWidth:s||l,style:K}),z?q():ue())};function Ih(n){return!n||n<0?0:n>100?100:n}function j1(n){let{success:e,successPercent:t}=n,r=t;return e&&"progress"in e&&(r=e.progress),e&&"percent"in e&&(r=e.percent),r}const See=n=>{let{percent:e,success:t,successPercent:r}=n;const a=Ih(j1({success:t,successPercent:r}));return[a,Ih(Ih(e)-a)]},_ee=n=>{let{success:e={},strokeColor:t}=n;const{strokeColor:r}=e;return[r||Wv.green,t||null]},Ow=(n,e,t)=>{var r,a,o,l;let s=-1,u=-1;if(e==="step"){const d=t.steps,g=t.strokeWidth;typeof n=="string"||typeof n>"u"?(s=n==="small"?2:14,u=g??8):typeof n=="number"?[s,u]=[n,n]:[s=14,u=8]=Array.isArray(n)?n:[n.width,n.height],s*=d}else if(e==="line"){const d=t==null?void 0:t.strokeWidth;typeof n=="string"||typeof n>"u"?u=d||(n==="small"?6:8):typeof n=="number"?[s,u]=[n,n]:[s=-1,u=8]=Array.isArray(n)?n:[n.width,n.height]}else(e==="circle"||e==="dashboard")&&(typeof n=="string"||typeof n>"u"?[s,u]=n==="small"?[60,60]:[120,120]:typeof n=="number"?[s,u]=[n,n]:Array.isArray(n)&&(s=(a=(r=n[0])!==null&&r!==void 0?r:n[1])!==null&&a!==void 0?a:120,u=(l=(o=n[0])!==null&&o!==void 0?o:n[1])!==null&&l!==void 0?l:120));return[s,u]},xee=3,Cee=n=>xee/n*100,Eee=n=>{const{prefixCls:e,trailColor:t=null,strokeLinecap:r="round",gapPosition:a,gapDegree:o,width:l=120,type:s,children:u,success:d,size:g=l,steps:y}=n,[_,C]=Ow(g,"circle");let{strokeWidth:c}=n;c===void 0&&(c=Math.max(Cee(_),6));const p={width:_,height:C,fontSize:_*.15+6},m=A.useMemo(()=>{if(o||o===0)return o;if(s==="dashboard")return 75},[o,s]),b=See(n),E=a||s==="dashboard"&&"bottom"||void 0,T=Object.prototype.toString.call(n.strokeColor)==="[object Object]",R=_ee({success:d,strokeColor:n.strokeColor}),O=et(`${e}-inner`,{[`${e}-circle-gradient`]:T}),D=A.createElement(bee,{steps:y,percent:y?b[1]:b,strokeWidth:c,trailWidth:c,strokeColor:y?R[1]:R,strokeLinecap:r,trailColor:t,prefixCls:e,gapDegree:m,gapPosition:E}),P=_<=20,F=A.createElement("div",{className:O,style:p},D,!P&&u);return P?A.createElement(Ul,{title:u},F):F},W1="--progress-line-stroke-color",CH="--progress-percent",TL=n=>{const e=n?"100%":"-100%";return new ir(`antProgress${n?"RTL":"LTR"}Active`,{"0%":{transform:`translateX(${e}) scaleX(0)`,opacity:.1},"20%":{transform:`translateX(${e}) scaleX(0)`,opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}})},wee=n=>{const{componentCls:e,iconCls:t}=n;return{[e]:Object.assign(Object.assign({},Gl(n)),{display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:n.fontSize},[`${e}-outer`]:{display:"inline-flex",alignItems:"center",width:"100%"},[`${e}-inner`]:{position:"relative",display:"inline-block",width:"100%",flex:1,overflow:"hidden",verticalAlign:"middle",backgroundColor:n.remainingColor,borderRadius:n.lineBorderRadius},[`${e}-inner:not(${e}-circle-gradient)`]:{[`${e}-circle-path`]:{stroke:n.defaultColor}},[`${e}-success-bg, ${e}-bg`]:{position:"relative",background:n.defaultColor,borderRadius:n.lineBorderRadius,transition:`all ${n.motionDurationSlow} ${n.motionEaseInOutCirc}`},[`${e}-layout-bottom`]:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",[`${e}-text`]:{width:"max-content",marginInlineStart:0,marginTop:n.marginXXS}},[`${e}-bg`]:{overflow:"hidden","&::after":{content:'""',background:{_multi_value_:!0,value:["inherit",`var(${W1})`]},height:"100%",width:`calc(1 / var(${CH}) * 100%)`,display:"block"},[`&${e}-bg-inner`]:{minWidth:"max-content","&::after":{content:"none"},[`${e}-text-inner`]:{color:n.colorWhite,[`&${e}-text-bright`]:{color:"rgba(0, 0, 0, 0.45)"}}}},[`${e}-success-bg`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:n.colorSuccess},[`${e}-text`]:{display:"inline-block",marginInlineStart:n.marginXS,color:n.colorText,lineHeight:1,width:"2em",whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal",[t]:{fontSize:n.fontSize},[`&${e}-text-outer`]:{width:"max-content"},[`&${e}-text-outer${e}-text-start`]:{width:"max-content",marginInlineStart:0,marginInlineEnd:n.marginXS}},[`${e}-text-inner`]:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",marginInlineStart:0,padding:`0 ${Pt(n.paddingXXS)}`,[`&${e}-text-start`]:{justifyContent:"start"},[`&${e}-text-end`]:{justifyContent:"end"}},[`&${e}-status-active`]:{[`${e}-bg::before`]:{position:"absolute",inset:0,backgroundColor:n.colorBgContainer,borderRadius:n.lineBorderRadius,opacity:0,animationName:TL(),animationDuration:n.progressActiveMotionDuration,animationTimingFunction:n.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'}},[`&${e}-rtl${e}-status-active`]:{[`${e}-bg::before`]:{animationName:TL(!0)}},[`&${e}-status-exception`]:{[`${e}-bg`]:{backgroundColor:n.colorError},[`${e}-text`]:{color:n.colorError}},[`&${e}-status-exception ${e}-inner:not(${e}-circle-gradient)`]:{[`${e}-circle-path`]:{stroke:n.colorError}},[`&${e}-status-success`]:{[`${e}-bg`]:{backgroundColor:n.colorSuccess},[`${e}-text`]:{color:n.colorSuccess}},[`&${e}-status-success ${e}-inner:not(${e}-circle-gradient)`]:{[`${e}-circle-path`]:{stroke:n.colorSuccess}}})}},Aee=n=>{const{componentCls:e,iconCls:t}=n;return{[e]:{[`${e}-circle-trail`]:{stroke:n.remainingColor},[`&${e}-circle ${e}-inner`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`&${e}-circle ${e}-text`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:n.circleTextColor,fontSize:n.circleTextFontSize,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[t]:{fontSize:n.circleIconFontSize}},[`${e}-circle&-status-exception`]:{[`${e}-text`]:{color:n.colorError}},[`${e}-circle&-status-success`]:{[`${e}-text`]:{color:n.colorSuccess}}},[`${e}-inline-circle`]:{lineHeight:1,[`${e}-inner`]:{verticalAlign:"bottom"}}}},Mee=n=>{const{componentCls:e}=n;return{[e]:{[`${e}-steps`]:{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:n.progressStepMinWidth,marginInlineEnd:n.progressStepMarginInlineEnd,backgroundColor:n.remainingColor,transition:`all ${n.motionDurationSlow}`,"&-active":{backgroundColor:n.defaultColor}}}}}},Tee=n=>{const{componentCls:e,iconCls:t}=n;return{[e]:{[`${e}-small&-line, ${e}-small&-line ${e}-text ${t}`]:{fontSize:n.fontSizeSM}}}},Ree=n=>({circleTextColor:n.colorText,defaultColor:n.colorInfo,remainingColor:n.colorFillSecondary,lineBorderRadius:100,circleTextFontSize:"1em",circleIconFontSize:`${n.fontSize/n.fontSizeSM}em`}),Oee=oa("Progress",n=>{const e=n.calc(n.marginXXS).div(2).equal(),t=sr(n,{progressStepMarginInlineEnd:e,progressStepMinWidth:e,progressActiveMotionDuration:"2.4s"});return[wee(t),Aee(t),Mee(t),Tee(t)]},Ree);var Iee=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const Bee=n=>{let e=[];return Object.keys(n).forEach(t=>{const r=parseFloat(t.replace(/%/g,""));Number.isNaN(r)||e.push({key:r,value:n[t]})}),e=e.sort((t,r)=>t.key-r.key),e.map(t=>{let{key:r,value:a}=t;return`${a} ${r}%`}).join(", ")},Dee=(n,e)=>{const{from:t=Wv.blue,to:r=Wv.blue,direction:a=e==="rtl"?"to left":"to right"}=n,o=Iee(n,["from","to","direction"]);if(Object.keys(o).length!==0){const s=Bee(o),u=`linear-gradient(${a}, ${s})`;return{background:u,[W1]:u}}const l=`linear-gradient(${a}, ${t}, ${r})`;return{background:l,[W1]:l}},Pee=n=>{const{prefixCls:e,direction:t,percent:r,size:a,strokeWidth:o,strokeColor:l,strokeLinecap:s="round",children:u,trailColor:d=null,percentPosition:g,success:y}=n,{align:_,type:C}=g,c=l&&typeof l!="string"?Dee(l,t):{[W1]:l,background:l},p=s==="square"||s==="butt"?0:void 0,m=a??[-1,o||(a==="small"?6:8)],[b,E]=Ow(m,"line",{strokeWidth:o}),T={backgroundColor:d||void 0,borderRadius:p},R=Object.assign(Object.assign({width:`${Ih(r)}%`,height:E,borderRadius:p},c),{[CH]:Ih(r)/100}),O=j1(n),D={width:`${Ih(O)}%`,height:E,borderRadius:p,backgroundColor:y==null?void 0:y.strokeColor},P={width:b<0?"100%":b},F=A.createElement("div",{className:`${e}-inner`,style:T},A.createElement("div",{className:et(`${e}-bg`,`${e}-bg-${C}`),style:R},C==="inner"&&u),O!==void 0&&A.createElement("div",{className:`${e}-success-bg`,style:D})),U=C==="outer"&&_==="start",z=C==="outer"&&_==="end";return C==="outer"&&_==="center"?A.createElement("div",{className:`${e}-layout-bottom`},F,u):A.createElement("div",{className:`${e}-outer`,style:P},U&&u,F,z&&u)},Lee=n=>{const{size:e,steps:t,rounding:r=Math.round,percent:a=0,strokeWidth:o=8,strokeColor:l,trailColor:s=null,prefixCls:u,children:d}=n,g=r(t*(a/100)),_=e??[e==="small"?2:14,o],[C,c]=Ow(_,"step",{steps:t,strokeWidth:o}),p=C/t,m=Array.from({length:t});for(let b=0;b<t;b++){const E=Array.isArray(l)?l[b]:l;m[b]=A.createElement("div",{key:b,className:et(`${u}-steps-item`,{[`${u}-steps-item-active`]:b<=g-1}),style:{backgroundColor:b<=g-1?E:s,width:p,height:c}})}return A.createElement("div",{className:`${u}-steps-outer`},m,d)};var Nee=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const zee=["normal","exception","active","success"],Uee=A.forwardRef((n,e)=>{const{prefixCls:t,className:r,rootClassName:a,steps:o,strokeColor:l,percent:s=0,size:u="default",showInfo:d=!0,type:g="line",status:y,format:_,style:C,percentPosition:c={}}=n,p=Nee(n,["prefixCls","className","rootClassName","steps","strokeColor","percent","size","showInfo","type","status","format","style","percentPosition"]),{align:m="end",type:b="outer"}=c,E=Array.isArray(l)?l[0]:l,T=typeof l=="string"||Array.isArray(l)?l:void 0,R=A.useMemo(()=>{if(E){const ue=typeof E=="string"?E:Object.values(E)[0];return new Fi(ue).isLight()}return!1},[l]),O=A.useMemo(()=>{var ue,q;const ie=j1(n);return parseInt(ie!==void 0?(ue=ie??0)===null||ue===void 0?void 0:ue.toString():(q=s??0)===null||q===void 0?void 0:q.toString(),10)},[s,n.success,n.successPercent]),D=A.useMemo(()=>!zee.includes(y)&&O>=100?"success":y||"normal",[y,O]),{getPrefixCls:P,direction:F,progress:U}=A.useContext(qn),z=P("progress",t),[$,J,W]=Oee(z),Z=g==="line",oe=Z&&!o,Y=A.useMemo(()=>{if(!d)return null;const ue=j1(n);let q;const ie=_||(de=>`${de}%`),me=Z&&R&&b==="inner";return b==="inner"||_||D!=="exception"&&D!=="success"?q=ie(Ih(s),Ih(ue)):D==="exception"?q=Z?A.createElement(ew,null):A.createElement(A0,null):D==="success"&&(q=Z?A.createElement(mO,null):A.createElement(s$,null)),A.createElement("span",{className:et(`${z}-text`,{[`${z}-text-bright`]:me,[`${z}-text-${m}`]:oe,[`${z}-text-${b}`]:oe}),title:typeof q=="string"?q:void 0},q)},[d,s,O,D,g,z,_]);let K;g==="line"?K=o?A.createElement(Lee,Object.assign({},n,{strokeColor:T,prefixCls:z,steps:typeof o=="object"?o.count:o}),Y):A.createElement(Pee,Object.assign({},n,{strokeColor:E,prefixCls:z,direction:F,percentPosition:{align:m,type:b}}),Y):(g==="circle"||g==="dashboard")&&(K=A.createElement(Eee,Object.assign({},n,{strokeColor:E,prefixCls:z,progressStatus:D}),Y));const ee=et(z,`${z}-status-${D}`,{[`${z}-${g==="dashboard"&&"circle"||g}`]:g!=="line",[`${z}-inline-circle`]:g==="circle"&&Ow(u,"circle")[0]<=20,[`${z}-line`]:oe,[`${z}-line-align-${m}`]:oe,[`${z}-line-position-${b}`]:oe,[`${z}-steps`]:o,[`${z}-show-info`]:d,[`${z}-${u}`]:typeof u=="string",[`${z}-rtl`]:F==="rtl"},U==null?void 0:U.className,r,a,J,W);return $(A.createElement("div",Object.assign({ref:e,style:Object.assign(Object.assign({},U==null?void 0:U.style),C),className:ee,role:"progressbar","aria-valuenow":O,"aria-valuemin":0,"aria-valuemax":100},go(p,["trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"])),K))});function Fee(n){if(n==null)throw new TypeError("Cannot destructure "+n)}const Hee=n=>{const{paddingXXS:e,lineWidth:t,tagPaddingHorizontal:r,componentCls:a,calc:o}=n,l=o(r).sub(t).equal(),s=o(e).sub(t).equal();return{[a]:Object.assign(Object.assign({},Gl(n)),{display:"inline-block",height:"auto",marginInlineEnd:n.marginXS,paddingInline:l,fontSize:n.tagFontSize,lineHeight:n.tagLineHeight,whiteSpace:"nowrap",background:n.defaultBg,border:`${Pt(n.lineWidth)} ${n.lineType} ${n.colorBorder}`,borderRadius:n.borderRadiusSM,opacity:1,transition:`all ${n.motionDurationMid}`,textAlign:"start",position:"relative",[`&${a}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:n.defaultColor},[`${a}-close-icon`]:{marginInlineStart:s,fontSize:n.tagIconSize,color:n.colorTextDescription,cursor:"pointer",transition:`all ${n.motionDurationMid}`,"&:hover":{color:n.colorTextHeading}},[`&${a}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${n.iconCls}-close, ${n.iconCls}-close:hover`]:{color:n.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${a}-checkable-checked):hover`]:{color:n.colorPrimary,backgroundColor:n.colorFillSecondary},"&:active, &-checked":{color:n.colorTextLightSolid},"&-checked":{backgroundColor:n.colorPrimary,"&:hover":{backgroundColor:n.colorPrimaryHover}},"&:active":{backgroundColor:n.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${n.iconCls} + span, > span + ${n.iconCls}`]:{marginInlineStart:l}}),[`${a}-borderless`]:{borderColor:"transparent",background:n.tagBorderlessBg}}},JO=n=>{const{lineWidth:e,fontSizeIcon:t,calc:r}=n,a=n.fontSizeSM;return sr(n,{tagFontSize:a,tagLineHeight:Pt(r(n.lineHeightSM).mul(a).equal()),tagIconSize:r(t).sub(r(e).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:n.defaultBg})},QO=n=>({defaultBg:new Fi(n.colorFillQuaternary).onBackground(n.colorBgContainer).toHexString(),defaultColor:n.colorText}),EH=oa("Tag",n=>{const e=JO(n);return Hee(e)},QO);var Gee=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const kee=A.forwardRef((n,e)=>{const{prefixCls:t,style:r,className:a,checked:o,onChange:l,onClick:s}=n,u=Gee(n,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:d,tag:g}=A.useContext(qn),y=b=>{l==null||l(!o),s==null||s(b)},_=d("tag",t),[C,c,p]=EH(_),m=et(_,`${_}-checkable`,{[`${_}-checkable-checked`]:o},g==null?void 0:g.className,a,c,p);return C(A.createElement("span",Object.assign({},u,{ref:e,style:Object.assign(Object.assign({},r),g==null?void 0:g.style),className:m,onClick:y})))}),$ee=n=>JU(n,(e,t)=>{let{textColor:r,lightBorderColor:a,lightColor:o,darkColor:l}=t;return{[`${n.componentCls}${n.componentCls}-${e}`]:{color:r,background:o,borderColor:a,"&-inverse":{color:n.colorTextLightSolid,background:l,borderColor:l},[`&${n.componentCls}-borderless`]:{borderColor:"transparent"}}}}),Vee=lw(["Tag","preset"],n=>{const e=JO(n);return $ee(e)},QO);function jee(n){return typeof n!="string"?n:n.charAt(0).toUpperCase()+n.slice(1)}const xx=(n,e,t)=>{const r=jee(t);return{[`${n.componentCls}${n.componentCls}-${e}`]:{color:n[`color${t}`],background:n[`color${r}Bg`],borderColor:n[`color${r}Border`],[`&${n.componentCls}-borderless`]:{borderColor:"transparent"}}}},Wee=lw(["Tag","status"],n=>{const e=JO(n);return[xx(e,"success","Success"),xx(e,"processing","Info"),xx(e,"error","Error"),xx(e,"warning","Warning")]},QO);var Xee=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const Yee=A.forwardRef((n,e)=>{const{prefixCls:t,className:r,rootClassName:a,style:o,children:l,icon:s,color:u,onClose:d,bordered:g=!0,visible:y}=n,_=Xee(n,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:C,direction:c,tag:p}=A.useContext(qn),[m,b]=A.useState(!0),E=go(_,["closeIcon","closable"]);A.useEffect(()=>{y!==void 0&&b(y)},[y]);const T=C4(u),R=KK(u),O=T||R,D=Object.assign(Object.assign({backgroundColor:u&&!O?u:void 0},p==null?void 0:p.style),o),P=C("tag",t),[F,U,z]=EH(P),$=et(P,p==null?void 0:p.className,{[`${P}-${u}`]:O,[`${P}-has-color`]:u&&!O,[`${P}-hidden`]:!m,[`${P}-rtl`]:c==="rtl",[`${P}-borderless`]:!g},r,a,U,z),J=ee=>{ee.stopPropagation(),d==null||d(ee),!ee.defaultPrevented&&b(!1)},[,W]=WF(z1(n),z1(p),{closable:!1,closeIconRender:ee=>{const ue=A.createElement("span",{className:`${P}-close-icon`,onClick:J},ee);return pF(ee,ue,q=>({onClick:ie=>{var me;(me=q==null?void 0:q.onClick)===null||me===void 0||me.call(q,ie),J(ie)},className:et(q==null?void 0:q.className,`${P}-close-icon`)}))}}),Z=typeof _.onClick=="function"||l&&l.type==="a",oe=s||null,Y=oe?A.createElement(A.Fragment,null,oe,l&&A.createElement("span",null,l)):l,K=A.createElement("span",Object.assign({},E,{ref:e,className:$,style:D}),Y,W,T&&A.createElement(Vee,{key:"preset",prefixCls:P}),R&&A.createElement(Wee,{key:"status",prefixCls:P}));return F(Z?A.createElement(EF,{component:"Tag"},K):K)}),HC=Yee;HC.CheckableTag=kee;const FM=function(n,e){if(n&&e){var t=Array.isArray(e)?e:e.split(","),r=n.name||"",a=n.type||"",o=a.replace(/\/.*$/,"");return t.some(function(l){var s=l.trim();if(/^\*(\/\*)?$/.test(l))return!0;if(s.charAt(0)==="."){var u=r.toLowerCase(),d=s.toLowerCase(),g=[d];return(d===".jpg"||d===".jpeg")&&(g=[".jpg",".jpeg"]),g.some(function(y){return u.endsWith(y)})}return/\/\*$/.test(s)?o===s.replace(/\/.*$/,""):a===s?!0:/^\w+$/.test(s)?(No(!1,"Upload takes an invalidate 'accept' type '".concat(s,"'.Skip for check.")),!0):!1})}return!0};function qee(n,e){var t="cannot ".concat(n.method," ").concat(n.action," ").concat(e.status,"'"),r=new Error(t);return r.status=e.status,r.method=n.method,r.url=n.action,r}function RL(n){var e=n.responseText||n.response;if(!e)return e;try{return JSON.parse(e)}catch{return e}}function Kee(n){var e=new XMLHttpRequest;n.onProgress&&e.upload&&(e.upload.onprogress=function(o){o.total>0&&(o.percent=o.loaded/o.total*100),n.onProgress(o)});var t=new FormData;n.data&&Object.keys(n.data).forEach(function(a){var o=n.data[a];if(Array.isArray(o)){o.forEach(function(l){t.append("".concat(a,"[]"),l)});return}t.append(a,o)}),n.file instanceof Blob?t.append(n.filename,n.file,n.file.name):t.append(n.filename,n.file),e.onerror=function(o){n.onError(o)},e.onload=function(){return e.status<200||e.status>=300?n.onError(qee(n,e),RL(e)):n.onSuccess(RL(e),e)},e.open(n.method,n.action,!0),n.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);var r=n.headers||{};return r["X-Requested-With"]!==null&&e.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(r).forEach(function(a){r[a]!==null&&e.setRequestHeader(a,r[a])}),e.send(t),{abort:function(){e.abort()}}}var Jee=function(){var n=Qs(yr().mark(function e(t,r){var a,o,l,s,u,d,g,y;return yr().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:d=function(){return d=Qs(yr().mark(function p(m){return yr().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.abrupt("return",new Promise(function(T){m.file(function(R){r(R)?(m.fullPath&&!R.webkitRelativePath&&(Object.defineProperties(R,{webkitRelativePath:{writable:!0}}),R.webkitRelativePath=m.fullPath.replace(/^\//,""),Object.defineProperties(R,{webkitRelativePath:{writable:!1}})),T(R)):T(null)})}));case 1:case"end":return E.stop()}},p)})),d.apply(this,arguments)},u=function(p){return d.apply(this,arguments)},s=function(){return s=Qs(yr().mark(function p(m){var b,E,T,R,O;return yr().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:b=m.createReader(),E=[];case 2:return P.next=5,new Promise(function(F){b.readEntries(F,function(){return F([])})});case 5:if(T=P.sent,R=T.length,R){P.next=9;break}return P.abrupt("break",12);case 9:for(O=0;O<R;O++)E.push(T[O]);P.next=2;break;case 12:return P.abrupt("return",E);case 13:case"end":return P.stop()}},p)})),s.apply(this,arguments)},l=function(p){return s.apply(this,arguments)},a=[],o=[],t.forEach(function(c){return o.push(c.webkitGetAsEntry())}),g=function(){var c=Qs(yr().mark(function p(m,b){var E,T;return yr().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(m){O.next=2;break}return O.abrupt("return");case 2:if(m.path=b||"",!m.isFile){O.next=10;break}return O.next=6,u(m);case 6:E=O.sent,E&&a.push(E),O.next=15;break;case 10:if(!m.isDirectory){O.next=15;break}return O.next=13,l(m);case 13:T=O.sent,o.push.apply(o,Jt(T));case 15:case"end":return O.stop()}},p)}));return function(m,b){return c.apply(this,arguments)}}(),y=0;case 9:if(!(y<o.length)){C.next=15;break}return C.next=12,g(o[y]);case 12:y++,C.next=9;break;case 15:return C.abrupt("return",a);case 16:case"end":return C.stop()}},e)}));return function(t,r){return n.apply(this,arguments)}}(),Qee=+new Date,Zee=0;function HM(){return"rc-upload-".concat(Qee,"-").concat(++Zee)}var ete=["component","prefixCls","className","classNames","disabled","id","name","style","styles","multiple","accept","capture","children","directory","openFileDialogOnClick","onMouseEnter","onMouseLeave","hasControlInside"],tte=function(n){wr(t,n);var e=Wc(t);function t(){var r;ai(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o)),fe(Dn(r),"state",{uid:HM()}),fe(Dn(r),"reqs",{}),fe(Dn(r),"fileInput",void 0),fe(Dn(r),"_isMounted",void 0),fe(Dn(r),"onChange",function(s){var u=r.props,d=u.accept,g=u.directory,y=s.target.files,_=Jt(y).filter(function(C){return!g||FM(C,d)});r.uploadFiles(_),r.reset()}),fe(Dn(r),"onClick",function(s){var u=r.fileInput;if(u){var d=s.target,g=r.props.onClick;if(d&&d.tagName==="BUTTON"){var y=u.parentNode;y.focus(),d.blur()}u.click(),g&&g(s)}}),fe(Dn(r),"onKeyDown",function(s){s.key==="Enter"&&r.onClick(s)}),fe(Dn(r),"onFileDrop",function(){var s=Qs(yr().mark(function u(d){var g,y,_;return yr().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(g=r.props.multiple,d.preventDefault(),d.type!=="dragover"){c.next=4;break}return c.abrupt("return");case 4:if(!r.props.directory){c.next=11;break}return c.next=7,Jee(Array.prototype.slice.call(d.dataTransfer.items),function(p){return FM(p,r.props.accept)});case 7:y=c.sent,r.uploadFiles(y),c.next=14;break;case 11:_=Jt(d.dataTransfer.files).filter(function(p){return FM(p,r.props.accept)}),g===!1&&(_=_.slice(0,1)),r.uploadFiles(_);case 14:case"end":return c.stop()}},u)}));return function(u){return s.apply(this,arguments)}}()),fe(Dn(r),"uploadFiles",function(s){var u=Jt(s),d=u.map(function(g){return g.uid=HM(),r.processFile(g,u)});Promise.all(d).then(function(g){var y=r.props.onBatchStart;y==null||y(g.map(function(_){var C=_.origin,c=_.parsedFile;return{file:C,parsedFile:c}})),g.filter(function(_){return _.parsedFile!==null}).forEach(function(_){r.post(_)})})}),fe(Dn(r),"processFile",function(){var s=Qs(yr().mark(function u(d,g){var y,_,C,c,p,m,b,E,T;return yr().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(y=r.props.beforeUpload,_=d,!y){O.next=14;break}return O.prev=3,O.next=6,y(d,g);case 6:_=O.sent,O.next=12;break;case 9:O.prev=9,O.t0=O.catch(3),_=!1;case 12:if(_!==!1){O.next=14;break}return O.abrupt("return",{origin:d,parsedFile:null,action:null,data:null});case 14:if(C=r.props.action,typeof C!="function"){O.next=21;break}return O.next=18,C(d);case 18:c=O.sent,O.next=22;break;case 21:c=C;case 22:if(p=r.props.data,typeof p!="function"){O.next=29;break}return O.next=26,p(d);case 26:m=O.sent,O.next=30;break;case 29:m=p;case 30:return b=(mn(_)==="object"||typeof _=="string")&&_?_:d,b instanceof File?E=b:E=new File([b],d.name,{type:d.type}),T=E,T.uid=d.uid,O.abrupt("return",{origin:d,data:m,parsedFile:T,action:c});case 35:case"end":return O.stop()}},u,null,[[3,9]])}));return function(u,d){return s.apply(this,arguments)}}()),fe(Dn(r),"saveFileInput",function(s){r.fileInput=s}),r}return oi(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.abort()}},{key:"post",value:function(a){var o=this,l=a.data,s=a.origin,u=a.action,d=a.parsedFile;if(this._isMounted){var g=this.props,y=g.onStart,_=g.customRequest,C=g.name,c=g.headers,p=g.withCredentials,m=g.method,b=s.uid,E=_||Kee,T={action:u,filename:C,data:l,file:d,headers:c,withCredentials:p,method:m||"post",onProgress:function(O){var D=o.props.onProgress;D==null||D(O,d)},onSuccess:function(O,D){var P=o.props.onSuccess;P==null||P(O,d,D),delete o.reqs[b]},onError:function(O,D){var P=o.props.onError;P==null||P(O,D,d),delete o.reqs[b]}};y(s),this.reqs[b]=E(T)}}},{key:"reset",value:function(){this.setState({uid:HM()})}},{key:"abort",value:function(a){var o=this.reqs;if(a){var l=a.uid?a.uid:a;o[l]&&o[l].abort&&o[l].abort(),delete o[l]}else Object.keys(o).forEach(function(s){o[s]&&o[s].abort&&o[s].abort(),delete o[s]})}},{key:"render",value:function(){var a=this.props,o=a.component,l=a.prefixCls,s=a.className,u=a.classNames,d=u===void 0?{}:u,g=a.disabled,y=a.id,_=a.name,C=a.style,c=a.styles,p=c===void 0?{}:c,m=a.multiple,b=a.accept,E=a.capture,T=a.children,R=a.directory,O=a.openFileDialogOnClick,D=a.onMouseEnter,P=a.onMouseLeave,F=a.hasControlInside,U=$n(a,ete),z=et(fe(fe(fe({},l,!0),"".concat(l,"-disabled"),g),s,s)),$=R?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},J=g?{}:{onClick:O?this.onClick:function(){},onKeyDown:O?this.onKeyDown:function(){},onMouseEnter:D,onMouseLeave:P,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,tabIndex:F?void 0:"0"};return We.createElement(o,Nt({},J,{className:z,role:F?void 0:"button",style:C}),We.createElement("input",Nt({},R0(U,{aria:!0,data:!0}),{id:y,name:_,disabled:g,type:"file",ref:this.saveFileInput,onClick:function(Z){return Z.stopPropagation()},key:this.state.uid,style:Ne({display:"none"},p.input),className:d.input,accept:b},$,{multiple:m,onChange:this.onChange},E!=null?{capture:E}:{})),T)}}]),t}(A.Component);function GM(){}var g2=function(n){wr(t,n);var e=Wc(t);function t(){var r;ai(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o)),fe(Dn(r),"uploader",void 0),fe(Dn(r),"saveUploader",function(s){r.uploader=s}),r}return oi(t,[{key:"abort",value:function(a){this.uploader.abort(a)}},{key:"render",value:function(){return We.createElement(tte,Nt({},this.props,{ref:this.saveUploader}))}}]),t}(A.Component);fe(g2,"defaultProps",{component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:GM,onError:GM,onSuccess:GM,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0,hasControlInside:!1});const nte=n=>{const{componentCls:e,iconCls:t}=n;return{[`${e}-wrapper`]:{[`${e}-drag`]:{position:"relative",width:"100%",height:"100%",textAlign:"center",background:n.colorFillAlter,border:`${Pt(n.lineWidth)} dashed ${n.colorBorder}`,borderRadius:n.borderRadiusLG,cursor:"pointer",transition:`border-color ${n.motionDurationSlow}`,[e]:{padding:n.padding},[`${e}-btn`]:{display:"table",width:"100%",height:"100%",outline:"none",borderRadius:n.borderRadiusLG,"&:focus-visible":{outline:`${Pt(n.lineWidthFocus)} solid ${n.colorPrimaryBorder}`}},[`${e}-drag-container`]:{display:"table-cell",verticalAlign:"middle"},[`
          &:not(${e}-disabled):hover,
          &-hover:not(${e}-disabled)
        `]:{borderColor:n.colorPrimaryHover},[`p${e}-drag-icon`]:{marginBottom:n.margin,[t]:{color:n.colorPrimary,fontSize:n.uploadThumbnailSize}},[`p${e}-text`]:{margin:`0 0 ${Pt(n.marginXXS)}`,color:n.colorTextHeading,fontSize:n.fontSizeLG},[`p${e}-hint`]:{color:n.colorTextDescription,fontSize:n.fontSize},[`&${e}-disabled`]:{[`p${e}-drag-icon ${t},
            p${e}-text,
            p${e}-hint
          `]:{color:n.colorTextDisabled}}}}}},ite=n=>{const{componentCls:e,iconCls:t,fontSize:r,lineHeight:a,calc:o}=n,l=`${e}-list-item`,s=`${l}-actions`,u=`${l}-action`;return{[`${e}-wrapper`]:{[`${e}-list`]:Object.assign(Object.assign({},c0()),{lineHeight:n.lineHeight,[l]:{position:"relative",height:o(n.lineHeight).mul(r).equal(),marginTop:n.marginXS,fontSize:r,display:"flex",alignItems:"center",transition:`background-color ${n.motionDurationSlow}`,borderRadius:n.borderRadiusSM,"&:hover":{backgroundColor:n.controlItemBgHover},[`${l}-name`]:Object.assign(Object.assign({},sw),{padding:`0 ${Pt(n.paddingXS)}`,lineHeight:a,flex:"auto",transition:`all ${n.motionDurationSlow}`}),[s]:{whiteSpace:"nowrap",[u]:{opacity:0},[t]:{color:n.actionsColor,transition:`all ${n.motionDurationSlow}`},[`
              ${u}:focus-visible,
              &.picture ${u}
            `]:{opacity:1}},[`${e}-icon ${t}`]:{color:n.colorTextDescription,fontSize:r},[`${l}-progress`]:{position:"absolute",bottom:n.calc(n.uploadProgressOffset).mul(-1).equal(),width:"100%",paddingInlineStart:o(r).add(n.paddingXS).equal(),fontSize:r,lineHeight:0,pointerEvents:"none","> div":{margin:0}}},[`${l}:hover ${u}`]:{opacity:1},[`${l}-error`]:{color:n.colorError,[`${l}-name, ${e}-icon ${t}`]:{color:n.colorError},[s]:{[`${t}, ${t}:hover`]:{color:n.colorError},[u]:{opacity:1}}},[`${e}-list-item-container`]:{transition:`opacity ${n.motionDurationSlow}, height ${n.motionDurationSlow}`,"&::before":{display:"table",width:0,height:0,content:'""'}}})}}},rte=n=>{const{componentCls:e}=n,t=new ir("uploadAnimateInlineIn",{from:{width:0,height:0,padding:0,opacity:0,margin:n.calc(n.marginXS).div(-2).equal()}}),r=new ir("uploadAnimateInlineOut",{to:{width:0,height:0,padding:0,opacity:0,margin:n.calc(n.marginXS).div(-2).equal()}}),a=`${e}-animate-inline`;return[{[`${e}-wrapper`]:{[`${a}-appear, ${a}-enter, ${a}-leave`]:{animationDuration:n.motionDurationSlow,animationTimingFunction:n.motionEaseInOutCirc,animationFillMode:"forwards"},[`${a}-appear, ${a}-enter`]:{animationName:t},[`${a}-leave`]:{animationName:r}}},{[`${e}-wrapper`]:DO(n)},t,r]},ate=n=>{const{componentCls:e,iconCls:t,uploadThumbnailSize:r,uploadProgressOffset:a,calc:o}=n,l=`${e}-list`,s=`${l}-item`;return{[`${e}-wrapper`]:{[`
        ${l}${l}-picture,
        ${l}${l}-picture-card,
        ${l}${l}-picture-circle
      `]:{[s]:{position:"relative",height:o(r).add(o(n.lineWidth).mul(2)).add(o(n.paddingXS).mul(2)).equal(),padding:n.paddingXS,border:`${Pt(n.lineWidth)} ${n.lineType} ${n.colorBorder}`,borderRadius:n.borderRadiusLG,"&:hover":{background:"transparent"},[`${s}-thumbnail`]:Object.assign(Object.assign({},sw),{width:r,height:r,lineHeight:Pt(o(r).add(n.paddingSM).equal()),textAlign:"center",flex:"none",[t]:{fontSize:n.fontSizeHeading2,color:n.colorPrimary},img:{display:"block",width:"100%",height:"100%",overflow:"hidden"}}),[`${s}-progress`]:{bottom:a,width:`calc(100% - ${Pt(o(n.paddingSM).mul(2).equal())})`,marginTop:0,paddingInlineStart:o(r).add(n.paddingXS).equal()}},[`${s}-error`]:{borderColor:n.colorError,[`${s}-thumbnail ${t}`]:{[`svg path[fill='${t0[0]}']`]:{fill:n.colorErrorBg},[`svg path[fill='${t0.primary}']`]:{fill:n.colorError}}},[`${s}-uploading`]:{borderStyle:"dashed",[`${s}-name`]:{marginBottom:a}}},[`${l}${l}-picture-circle ${s}`]:{[`&, &::before, ${s}-thumbnail`]:{borderRadius:"50%"}}}}},ote=n=>{const{componentCls:e,iconCls:t,fontSizeLG:r,colorTextLightSolid:a,calc:o}=n,l=`${e}-list`,s=`${l}-item`,u=n.uploadPicCardSize;return{[`
      ${e}-wrapper${e}-picture-card-wrapper,
      ${e}-wrapper${e}-picture-circle-wrapper
    `]:Object.assign(Object.assign({},c0()),{display:"block",[`${e}${e}-select`]:{width:u,height:u,textAlign:"center",verticalAlign:"top",backgroundColor:n.colorFillAlter,border:`${Pt(n.lineWidth)} dashed ${n.colorBorder}`,borderRadius:n.borderRadiusLG,cursor:"pointer",transition:`border-color ${n.motionDurationSlow}`,[`> ${e}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center"},[`&:not(${e}-disabled):hover`]:{borderColor:n.colorPrimary}},[`${l}${l}-picture-card, ${l}${l}-picture-circle`]:{display:"flex",flexWrap:"wrap","@supports not (gap: 1px)":{"& > *":{marginBlockEnd:n.marginXS,marginInlineEnd:n.marginXS}},"@supports (gap: 1px)":{gap:n.marginXS},[`${l}-item-container`]:{display:"inline-block",width:u,height:u,verticalAlign:"top"},"&::after":{display:"none"},"&::before":{display:"none"},[s]:{height:"100%",margin:0,"&::before":{position:"absolute",zIndex:1,width:`calc(100% - ${Pt(o(n.paddingXS).mul(2).equal())})`,height:`calc(100% - ${Pt(o(n.paddingXS).mul(2).equal())})`,backgroundColor:n.colorBgMask,opacity:0,transition:`all ${n.motionDurationSlow}`,content:'" "'}},[`${s}:hover`]:{[`&::before, ${s}-actions`]:{opacity:1}},[`${s}-actions`]:{position:"absolute",insetInlineStart:0,zIndex:10,width:"100%",whiteSpace:"nowrap",textAlign:"center",opacity:0,transition:`all ${n.motionDurationSlow}`,[`
            ${t}-eye,
            ${t}-download,
            ${t}-delete
          `]:{zIndex:10,width:r,margin:`0 ${Pt(n.marginXXS)}`,fontSize:r,cursor:"pointer",transition:`all ${n.motionDurationSlow}`,color:a,"&:hover":{color:a},svg:{verticalAlign:"baseline"}}},[`${s}-thumbnail, ${s}-thumbnail img`]:{position:"static",display:"block",width:"100%",height:"100%",objectFit:"contain"},[`${s}-name`]:{display:"none",textAlign:"center"},[`${s}-file + ${s}-name`]:{position:"absolute",bottom:n.margin,display:"block",width:`calc(100% - ${Pt(o(n.paddingXS).mul(2).equal())})`},[`${s}-uploading`]:{[`&${s}`]:{backgroundColor:n.colorFillAlter},[`&::before, ${t}-eye, ${t}-download, ${t}-delete`]:{display:"none"}},[`${s}-progress`]:{bottom:n.marginXL,width:`calc(100% - ${Pt(o(n.paddingXS).mul(2).equal())})`,paddingInlineStart:0}}}),[`${e}-wrapper${e}-picture-circle-wrapper`]:{[`${e}${e}-select`]:{borderRadius:"50%"}}}},ste=n=>{const{componentCls:e}=n;return{[`${e}-rtl`]:{direction:"rtl"}}},lte=n=>{const{componentCls:e,colorTextDisabled:t}=n;return{[`${e}-wrapper`]:Object.assign(Object.assign({},Gl(n)),{[e]:{outline:0,"input[type='file']":{cursor:"pointer"}},[`${e}-select`]:{display:"inline-block"},[`${e}-hidden`]:{display:"none"},[`${e}-disabled`]:{color:t,cursor:"not-allowed"}})}},cte=n=>({actionsColor:n.colorTextDescription}),ute=oa("Upload",n=>{const{fontSizeHeading3:e,fontHeight:t,lineWidth:r,controlHeightLG:a,calc:o}=n,l=sr(n,{uploadThumbnailSize:o(e).mul(2).equal(),uploadProgressOffset:o(o(t).div(2)).add(r).equal(),uploadPicCardSize:o(a).mul(2.55).equal()});return[lte(l),nte(l),ate(l),ote(l),ite(l),rte(l),ste(l),RF(l)]},cte);function Cx(n){return Object.assign(Object.assign({},n),{lastModified:n.lastModified,lastModifiedDate:n.lastModifiedDate,name:n.name,size:n.size,type:n.type,uid:n.uid,percent:0,originFileObj:n})}function Ex(n,e){const t=Jt(e),r=t.findIndex(a=>{let{uid:o}=a;return o===n.uid});return r===-1?t.push(n):t[r]=n,t}function kM(n,e){const t=n.uid!==void 0?"uid":"name";return e.filter(r=>r[t]===n[t])[0]}function fte(n,e){const t=n.uid!==void 0?"uid":"name",r=e.filter(a=>a[t]!==n[t]);return r.length===e.length?null:r}const dte=function(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").split("/"),r=e[e.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(r)||[""])[0]},wH=n=>n.indexOf("image/")===0,hte=n=>{if(n.type&&!n.thumbUrl)return wH(n.type);const e=n.thumbUrl||n.url||"",t=dte(e);return/^data:image\//.test(e)||/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(t)?!0:!(/^data:/.test(e)||t)},rh=200;function pte(n){return new Promise(e=>{if(!n.type||!wH(n.type)){e("");return}const t=document.createElement("canvas");t.width=rh,t.height=rh,t.style.cssText=`position: fixed; left: 0; top: 0; width: ${rh}px; height: ${rh}px; z-index: 9999; display: none;`,document.body.appendChild(t);const r=t.getContext("2d"),a=new Image;if(a.onload=()=>{const{width:o,height:l}=a;let s=rh,u=rh,d=0,g=0;o>l?(u=l*(rh/o),g=-(u-s)/2):(s=o*(rh/l),d=-(s-u)/2),r.drawImage(a,d,g,s,u);const y=t.toDataURL();document.body.removeChild(t),window.URL.revokeObjectURL(a.src),e(y)},a.crossOrigin="anonymous",n.type.startsWith("image/svg+xml")){const o=new FileReader;o.onload=()=>{o.result&&typeof o.result=="string"&&(a.src=o.result)},o.readAsDataURL(n)}else if(n.type.startsWith("image/gif")){const o=new FileReader;o.onload=()=>{o.result&&e(o.result)},o.readAsDataURL(n)}else a.src=window.URL.createObjectURL(n)})}const mte=A.forwardRef((n,e)=>{let{prefixCls:t,className:r,style:a,locale:o,listType:l,file:s,items:u,progress:d,iconRender:g,actionIconRender:y,itemRender:_,isImgUrl:C,showPreviewIcon:c,showRemoveIcon:p,showDownloadIcon:m,previewIcon:b,removeIcon:E,downloadIcon:T,extra:R,onPreview:O,onDownload:D,onClose:P}=n;var F,U;const{status:z}=s,[$,J]=A.useState(z);A.useEffect(()=>{z!=="removed"&&J(z)},[z]);const[W,Z]=A.useState(!1);A.useEffect(()=>{const Ce=setTimeout(()=>{Z(!0)},300);return()=>{clearTimeout(Ce)}},[]);const oe=g(s);let Y=A.createElement("div",{className:`${t}-icon`},oe);if(l==="picture"||l==="picture-card"||l==="picture-circle")if($==="uploading"||!s.thumbUrl&&!s.url){const Ce=et(`${t}-list-item-thumbnail`,{[`${t}-list-item-file`]:$!=="uploading"});Y=A.createElement("div",{className:Ce},oe)}else{const Ce=C!=null&&C(s)?A.createElement("img",{src:s.thumbUrl||s.url,alt:s.name,className:`${t}-list-item-image`,crossOrigin:s.crossOrigin}):oe,re=et(`${t}-list-item-thumbnail`,{[`${t}-list-item-file`]:C&&!C(s)});Y=A.createElement("a",{className:re,onClick:Fe=>O(s,Fe),href:s.url||s.thumbUrl,target:"_blank",rel:"noopener noreferrer"},Ce)}const K=et(`${t}-list-item`,`${t}-list-item-${$}`),ee=typeof s.linkProps=="string"?JSON.parse(s.linkProps):s.linkProps,ue=(typeof p=="function"?p(s):p)?y((typeof E=="function"?E(s):E)||A.createElement(nU,null),()=>P(s),t,o.removeFile,!0):null,q=(typeof m=="function"?m(s):m)&&$==="done"?y((typeof T=="function"?T(s):T)||A.createElement(g$,null),()=>D(s),t,o.downloadFile):null,ie=l!=="picture-card"&&l!=="picture-circle"&&A.createElement("span",{key:"download-delete",className:et(`${t}-list-item-actions`,{picture:l==="picture"})},q,ue),me=typeof R=="function"?R(s):R,de=me&&A.createElement("span",{className:`${t}-list-item-extra`},me),Q=et(`${t}-list-item-name`),he=s.url?A.createElement("a",Object.assign({key:"view",target:"_blank",rel:"noopener noreferrer",className:Q,title:s.name},ee,{href:s.url,onClick:Ce=>O(s,Ce)}),s.name,de):A.createElement("span",{key:"view",className:Q,onClick:Ce=>O(s,Ce),title:s.name},s.name,de),xe=(typeof c=="function"?c(s):c)&&(s.url||s.thumbUrl)?A.createElement("a",{href:s.url||s.thumbUrl,target:"_blank",rel:"noopener noreferrer",onClick:Ce=>O(s,Ce),title:o.previewFile},typeof b=="function"?b(s):b||A.createElement(gO,null)):null,Oe=(l==="picture-card"||l==="picture-circle")&&$!=="uploading"&&A.createElement("span",{className:`${t}-list-item-actions`},xe,$==="done"&&q,ue),{getPrefixCls:Ae}=A.useContext(qn),Te=Ae(),ze=A.createElement("div",{className:K},Y,he,ie,Oe,W&&A.createElement(Xc,{motionName:`${Te}-fade`,visible:$==="uploading",motionDeadline:2e3},Ce=>{let{className:re}=Ce;const Fe="percent"in s?A.createElement(Uee,Object.assign({},d,{type:"line",percent:s.percent,"aria-label":s["aria-label"],"aria-labelledby":s["aria-labelledby"]})):null;return A.createElement("div",{className:et(`${t}-list-item-progress`,re)},Fe)})),vt=s.response&&typeof s.response=="string"?s.response:((F=s.error)===null||F===void 0?void 0:F.statusText)||((U=s.error)===null||U===void 0?void 0:U.message)||o.uploadError,Be=$==="error"?A.createElement(Ul,{title:vt,getPopupContainer:Ce=>Ce.parentNode},ze):ze;return A.createElement("div",{className:et(`${t}-list-item-container`,r),style:a,ref:e},_?_(Be,s,u,{download:D.bind(null,s),preview:O.bind(null,s),remove:P.bind(null,s)}):Be)}),gte=(n,e)=>{const{listType:t="text",previewFile:r=pte,onPreview:a,onDownload:o,onRemove:l,locale:s,iconRender:u,isImageUrl:d=hte,prefixCls:g,items:y=[],showPreviewIcon:_=!0,showRemoveIcon:C=!0,showDownloadIcon:c=!1,removeIcon:p,previewIcon:m,downloadIcon:b,extra:E,progress:T={size:[-1,2],showInfo:!1},appendAction:R,appendActionVisible:O=!0,itemRender:D,disabled:P}=n,F=m4(),[U,z]=A.useState(!1),$=["picture-card","picture-circle"].includes(t);A.useEffect(()=>{t.startsWith("picture")&&(y||[]).forEach(de=>{!(de.originFileObj instanceof File||de.originFileObj instanceof Blob)||de.thumbUrl!==void 0||(de.thumbUrl="",r==null||r(de.originFileObj).then(Q=>{de.thumbUrl=Q||"",F()}))})},[t,y,r]),A.useEffect(()=>{z(!0)},[]);const J=(de,Q)=>{if(a)return Q==null||Q.preventDefault(),a(de)},W=de=>{typeof o=="function"?o(de):de.url&&window.open(de.url)},Z=de=>{l==null||l(de)},oe=de=>{if(u)return u(de,t);const Q=de.status==="uploading";if(t.startsWith("picture")){const he=t==="picture"?A.createElement(R1,null):s.uploading,xe=d!=null&&d(de)?A.createElement(X$,null):A.createElement(B$,null);return Q?he:xe}return Q?A.createElement(R1,null):A.createElement(G$,null)},Y=(de,Q,he,xe,Oe)=>{const Ae={type:"text",size:"small",title:xe,onClick:Te=>{var ze,vt;Q(),A.isValidElement(de)&&((vt=(ze=de.props).onClick)===null||vt===void 0||vt.call(ze,Te))},className:`${he}-list-item-action`};return Oe&&(Ae.disabled=P),A.isValidElement(de)?A.createElement(fo,Object.assign({},Ae,{icon:rl(de,Object.assign(Object.assign({},de.props),{onClick:()=>{}}))})):A.createElement(fo,Object.assign({},Ae),A.createElement("span",null,de))};A.useImperativeHandle(e,()=>({handlePreview:J,handleDownload:W}));const{getPrefixCls:K}=A.useContext(qn),ee=K("upload",g),ue=K(),q=et(`${ee}-list`,`${ee}-list-${t}`),ie=A.useMemo(()=>go(xF(ue),["onAppearEnd","onEnterEnd","onLeaveEnd"]),[ue]),me=Object.assign(Object.assign({},$?{}:ie),{motionDeadline:2e3,motionName:`${ee}-${$?"animate-inline":"animate"}`,keys:Jt(y.map(de=>({key:de.uid,file:de}))),motionAppear:U});return A.createElement("div",{className:q},A.createElement(lF,Object.assign({},me,{component:!1}),de=>{let{key:Q,file:he,className:xe,style:Oe}=de;return A.createElement(mte,{key:Q,locale:s,prefixCls:ee,className:xe,style:Oe,file:he,items:y,progress:T,listType:t,isImgUrl:d,showPreviewIcon:_,showRemoveIcon:C,showDownloadIcon:c,removeIcon:p,previewIcon:m,downloadIcon:b,extra:E,iconRender:oe,actionIconRender:Y,itemRender:D,onPreview:J,onDownload:W,onClose:Z})}),R&&A.createElement(Xc,Object.assign({},me,{visible:O,forceRender:!0}),de=>{let{className:Q,style:he}=de;return rl(R,xe=>({className:et(xe.className,Q),style:Object.assign(Object.assign(Object.assign({},he),{pointerEvents:Q?"none":void 0}),xe.style)}))}))},vte=A.forwardRef(gte);var yte=function(n,e,t,r){function a(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function s(g){try{d(r.next(g))}catch(y){l(y)}}function u(g){try{d(r.throw(g))}catch(y){l(y)}}function d(g){g.done?o(g.value):a(g.value).then(s,u)}d((r=r.apply(n,[])).next())})};const ub=`__LIST_IGNORE_${Date.now()}__`,bte=(n,e)=>{const{fileList:t,defaultFileList:r,onRemove:a,showUploadList:o=!0,listType:l="text",onPreview:s,onDownload:u,onChange:d,onDrop:g,previewFile:y,disabled:_,locale:C,iconRender:c,isImageUrl:p,progress:m,prefixCls:b,className:E,type:T="select",children:R,style:O,itemRender:D,maxCount:P,data:F={},multiple:U=!1,hasControlInside:z=!0,action:$="",accept:J="",supportServerRender:W=!0,rootClassName:Z}=n,oe=A.useContext(Nh),Y=_??oe,[K,ee]=nl(r||[],{value:t,postState:je=>je??[]}),[ue,q]=A.useState("drop"),ie=A.useRef(null),me=A.useRef(null);A.useMemo(()=>{const je=Date.now();(t||[]).forEach((it,Se)=>{!it.uid&&!Object.isFrozen(it)&&(it.uid=`__AUTO__${je}_${Se}__`)})},[t]);const de=(je,it,Se)=>{let Ge=Jt(it),St=!1;P===1?Ge=Ge.slice(-1):P&&(St=Ge.length>P,Ge=Ge.slice(0,P)),Ph.flushSync(()=>{ee(Ge)});const Me={file:je,fileList:Ge};Se&&(Me.event=Se),(!St||je.status==="removed"||Ge.some(xt=>xt.uid===je.uid))&&Ph.flushSync(()=>{d==null||d(Me)})},Q=(je,it)=>yte(void 0,void 0,void 0,function*(){const{beforeUpload:Se,transformFile:Ge}=n;let St=je;if(Se){const Me=yield Se(je,it);if(Me===!1)return!1;if(delete je[ub],Me===ub)return Object.defineProperty(je,ub,{value:!0,configurable:!0}),!1;typeof Me=="object"&&Me&&(St=Me)}return Ge&&(St=yield Ge(St)),St}),he=je=>{const it=je.filter(St=>!St.file[ub]);if(!it.length)return;const Se=it.map(St=>Cx(St.file));let Ge=Jt(K);Se.forEach(St=>{Ge=Ex(St,Ge)}),Se.forEach((St,Me)=>{let xt=St;if(it[Me].parsedFile)St.status="uploading";else{const{originFileObj:Qe}=St;let mt;try{mt=new File([Qe],Qe.name,{type:Qe.type})}catch{mt=new Blob([Qe],{type:Qe.type}),mt.name=Qe.name,mt.lastModifiedDate=new Date,mt.lastModified=new Date().getTime()}mt.uid=St.uid,xt=mt}de(xt,Ge)})},xe=(je,it,Se)=>{try{typeof je=="string"&&(je=JSON.parse(je))}catch{}if(!kM(it,K))return;const Ge=Cx(it);Ge.status="done",Ge.percent=100,Ge.response=je,Ge.xhr=Se;const St=Ex(Ge,K);de(Ge,St)},Oe=(je,it)=>{if(!kM(it,K))return;const Se=Cx(it);Se.status="uploading",Se.percent=je.percent;const Ge=Ex(Se,K);de(Se,Ge,je)},Ae=(je,it,Se)=>{if(!kM(Se,K))return;const Ge=Cx(Se);Ge.error=je,Ge.response=it,Ge.status="error";const St=Ex(Ge,K);de(Ge,St)},Te=je=>{let it;Promise.resolve(typeof a=="function"?a(je):a).then(Se=>{var Ge;if(Se===!1)return;const St=fte(je,K);St&&(it=Object.assign(Object.assign({},je),{status:"removed"}),K==null||K.forEach(Me=>{const xt=it.uid!==void 0?"uid":"name";Me[xt]===it[xt]&&!Object.isFrozen(Me)&&(Me.status="removed")}),(Ge=ie.current)===null||Ge===void 0||Ge.abort(it),de(it,St))})},ze=je=>{q(je.type),je.type==="drop"&&(g==null||g(je))};A.useImperativeHandle(e,()=>({onBatchStart:he,onSuccess:xe,onProgress:Oe,onError:Ae,fileList:K,upload:ie.current,nativeElement:me.current}));const{getPrefixCls:vt,direction:Be,upload:Ce}=A.useContext(qn),re=vt("upload",b),Fe=Object.assign(Object.assign({onBatchStart:he,onError:Ae,onProgress:Oe,onSuccess:xe},n),{data:F,multiple:U,action:$,accept:J,supportServerRender:W,prefixCls:re,disabled:Y,beforeUpload:Q,onChange:void 0,hasControlInside:z});delete Fe.className,delete Fe.style,(!R||Y)&&delete Fe.id;const Ie=`${re}-wrapper`,[Ye,ke,lt]=ute(re,Ie),[ot]=xS("Upload",Lh.Upload),{showRemoveIcon:ce,showPreviewIcon:ae,showDownloadIcon:we,removeIcon:De,previewIcon:qe,downloadIcon:He,extra:gt}=typeof o=="boolean"?{}:o,st=typeof ce>"u"?!Y:ce,pt=(je,it)=>o?A.createElement(vte,{prefixCls:re,listType:l,items:K,previewFile:y,onPreview:s,onDownload:u,onRemove:Te,showRemoveIcon:st,showPreviewIcon:ae,showDownloadIcon:we,removeIcon:De,previewIcon:qe,downloadIcon:He,iconRender:c,extra:gt,locale:Object.assign(Object.assign({},ot),C),isImageUrl:p,progress:m,appendAction:je,appendActionVisible:it,itemRender:D,disabled:Y}):je,Ot=et(Ie,E,Z,ke,lt,Ce==null?void 0:Ce.className,{[`${re}-rtl`]:Be==="rtl",[`${re}-picture-card-wrapper`]:l==="picture-card",[`${re}-picture-circle-wrapper`]:l==="picture-circle"}),at=Object.assign(Object.assign({},Ce==null?void 0:Ce.style),O);if(T==="drag"){const je=et(ke,re,`${re}-drag`,{[`${re}-drag-uploading`]:K.some(it=>it.status==="uploading"),[`${re}-drag-hover`]:ue==="dragover",[`${re}-disabled`]:Y,[`${re}-rtl`]:Be==="rtl"});return Ye(A.createElement("span",{className:Ot,ref:me},A.createElement("div",{className:je,style:at,onDrop:ze,onDragOver:ze,onDragLeave:ze},A.createElement(g2,Object.assign({},Fe,{ref:ie,className:`${re}-btn`}),A.createElement("div",{className:`${re}-drag-container`},R))),pt()))}const _t=et(re,`${re}-select`,{[`${re}-disabled`]:Y,[`${re}-hidden`]:!R}),Ct=A.createElement("div",{className:_t},A.createElement(g2,Object.assign({},Fe,{ref:ie})));return Ye(l==="picture-card"||l==="picture-circle"?A.createElement("span",{className:Ot,ref:me},pt(Ct,!!R)):A.createElement("span",{className:Ot,ref:me},Ct,pt()))},AH=A.forwardRef(bte);var Ste=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const _te=A.forwardRef((n,e)=>{var{style:t,height:r,hasControlInside:a=!1}=n,o=Ste(n,["style","height","hasControlInside"]);return A.createElement(AH,Object.assign({ref:e,hasControlInside:a},o,{type:"drag",style:Object.assign(Object.assign({},t),{height:r})}))}),X1=AH;X1.Dragger=_te;X1.LIST_IGNORE=ub;const xte="_navBar_1481f_1",Cte="_sideBar_1481f_5",Ete="_sideMenu_1481f_9",wte="_content_1481f_23",GC={navBar:xte,sideBar:Cte,sideMenu:Ete,content:wte};var $y={},OL;function Ate(){if(OL)return $y;OL=1,Object.defineProperty($y,"__esModule",{value:!0}),$y.parse=l,$y.serialize=d;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function l(_,C){const c=new o,p=_.length;if(p<2)return c;const m=(C==null?void 0:C.decode)||g;let b=0;do{const E=_.indexOf("=",b);if(E===-1)break;const T=_.indexOf(";",b),R=T===-1?p:T;if(E>R){b=_.lastIndexOf(";",E-1)+1;continue}const O=s(_,b,E),D=u(_,E,O),P=_.slice(O,D);if(c[P]===void 0){let F=s(_,E+1,R),U=u(_,R,F);const z=m(_.slice(F,U));c[P]=z}b=R+1}while(b<p);return c}function s(_,C,c){do{const p=_.charCodeAt(C);if(p!==32&&p!==9)return C}while(++C<c);return c}function u(_,C,c){for(;C>c;){const p=_.charCodeAt(--C);if(p!==32&&p!==9)return C+1}return c}function d(_,C,c){const p=(c==null?void 0:c.encode)||encodeURIComponent;if(!n.test(_))throw new TypeError(`argument name is invalid: ${_}`);const m=p(C);if(!e.test(m))throw new TypeError(`argument val is invalid: ${C}`);let b=_+"="+m;if(!c)return b;if(c.maxAge!==void 0){if(!Number.isInteger(c.maxAge))throw new TypeError(`option maxAge is invalid: ${c.maxAge}`);b+="; Max-Age="+c.maxAge}if(c.domain){if(!t.test(c.domain))throw new TypeError(`option domain is invalid: ${c.domain}`);b+="; Domain="+c.domain}if(c.path){if(!r.test(c.path))throw new TypeError(`option path is invalid: ${c.path}`);b+="; Path="+c.path}if(c.expires){if(!y(c.expires)||!Number.isFinite(c.expires.valueOf()))throw new TypeError(`option expires is invalid: ${c.expires}`);b+="; Expires="+c.expires.toUTCString()}if(c.httpOnly&&(b+="; HttpOnly"),c.secure&&(b+="; Secure"),c.partitioned&&(b+="; Partitioned"),c.priority)switch(typeof c.priority=="string"?c.priority.toLowerCase():void 0){case"low":b+="; Priority=Low";break;case"medium":b+="; Priority=Medium";break;case"high":b+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${c.priority}`)}if(c.sameSite)switch(typeof c.sameSite=="string"?c.sameSite.toLowerCase():c.sameSite){case!0:case"strict":b+="; SameSite=Strict";break;case"lax":b+="; SameSite=Lax";break;case"none":b+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${c.sameSite}`)}return b}function g(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function y(_){return a.call(_)==="[object Date]"}return $y}Ate();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var IL="popstate";function Mte(n={}){function e(a,o){let{pathname:l="/",search:s="",hash:u=""}=km(a.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),v2("",{pathname:l,search:s,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(a,o){let l=a.document.querySelector("base"),s="";if(l&&l.getAttribute("href")){let u=a.location.href,d=u.indexOf("#");s=d===-1?u:u.slice(0,d)}return s+"#"+(typeof o=="string"?o:rS(o))}function r(a,o){$c(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return Rte(e,t,r,n)}function qr(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function $c(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Tte(){return Math.random().toString(36).substring(2,10)}function BL(n,e){return{usr:n.state,key:n.key,idx:e}}function v2(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?km(e):e,state:t,key:e&&e.key||r||Tte()}}function rS({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function km(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function Rte(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,l=a.history,s="POP",u=null,d=g();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function g(){return(l.state||{idx:null}).idx}function y(){s="POP";let m=g(),b=m==null?null:m-d;d=m,u&&u({action:s,location:p.location,delta:b})}function _(m,b){s="PUSH";let E=v2(p.location,m,b);t&&t(E,m),d=g()+1;let T=BL(E,d),R=p.createHref(E);try{l.pushState(T,"",R)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;a.location.assign(R)}o&&u&&u({action:s,location:p.location,delta:1})}function C(m,b){s="REPLACE";let E=v2(p.location,m,b);t&&t(E,m),d=g();let T=BL(E,d),R=p.createHref(E);l.replaceState(T,"",R),o&&u&&u({action:s,location:p.location,delta:0})}function c(m){let b=a.location.origin!=="null"?a.location.origin:a.location.href,E=typeof m=="string"?m:rS(m);return E=E.replace(/ $/,"%20"),qr(b,`No window.location.(origin|href) available to create URL for href: ${E}`),new URL(E,b)}let p={get action(){return s},get location(){return n(a,l)},listen(m){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(IL,y),u=m,()=>{a.removeEventListener(IL,y),u=null}},createHref(m){return e(a,m)},createURL:c,encodeLocation(m){let b=c(m);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:_,replace:C,go(m){return l.go(m)}};return p}function MH(n,e,t="/"){return Ote(n,e,t,!1)}function Ote(n,e,t,r){let a=typeof e=="string"?km(e):e,o=md(a.pathname||"/",t);if(o==null)return null;let l=TH(n);Ite(l);let s=null;for(let u=0;s==null&&u<l.length;++u){let d=kte(o);s=Hte(l[u],d,r)}return s}function TH(n,e=[],t=[],r=""){let a=(o,l,s)=>{let u={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};u.relativePath.startsWith("/")&&(qr(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length));let d=cd([r,u.relativePath]),g=t.concat(u);o.children&&o.children.length>0&&(qr(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),TH(o.children,e,g,d)),!(o.path==null&&!o.index)&&e.push({path:d,score:Ute(d,o.index),routesMeta:g})};return n.forEach((o,l)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))a(o,l);else for(let u of RH(o.path))a(o,l,u)}),e}function RH(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let l=RH(r.join("/")),s=[];return s.push(...l.map(u=>u===""?o:[o,u].join("/"))),a&&s.push(...l),s.map(u=>n.startsWith("/")&&u===""?"/":u)}function Ite(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Fte(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var Bte=/^:[\w-]+$/,Dte=3,Pte=2,Lte=1,Nte=10,zte=-2,DL=n=>n==="*";function Ute(n,e){let t=n.split("/"),r=t.length;return t.some(DL)&&(r+=zte),e&&(r+=Pte),t.filter(a=>!DL(a)).reduce((a,o)=>a+(Bte.test(o)?Dte:o===""?Lte:Nte),r)}function Fte(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function Hte(n,e,t=!1){let{routesMeta:r}=n,a={},o="/",l=[];for(let s=0;s<r.length;++s){let u=r[s],d=s===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",y=Y1({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},g),_=u.route;if(!y&&d&&t&&!r[r.length-1].route.index&&(y=Y1({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},g)),!y)return null;Object.assign(a,y.params),l.push({params:a,pathname:cd([o,y.pathname]),pathnameBase:Wte(cd([o,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(o=cd([o,y.pathnameBase]))}return l}function Y1(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=Gte(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let o=a[0],l=o.replace(/(.)\/+$/,"$1"),s=a.slice(1);return{params:r.reduce((d,{paramName:g,isOptional:y},_)=>{if(g==="*"){let c=s[_]||"";l=o.slice(0,o.length-c.length).replace(/(.)\/+$/,"$1")}const C=s[_];return y&&!C?d[g]=void 0:d[g]=(C||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:l,pattern:n}}function Gte(n,e=!1,t=!0){$c(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,s,u)=>(r.push({paramName:s,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function kte(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $c(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function md(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function $te(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?km(n):n;return{pathname:t?t.startsWith("/")?t:Vte(t,e):e,search:Xte(r),hash:Yte(a)}}function Vte(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function $M(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jte(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function OH(n){let e=jte(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function IH(n,e,t,r=!1){let a;typeof n=="string"?a=km(n):(a={...n},qr(!a.pathname||!a.pathname.includes("?"),$M("?","pathname","search",a)),qr(!a.pathname||!a.pathname.includes("#"),$M("#","pathname","hash",a)),qr(!a.search||!a.search.includes("#"),$M("#","search","hash",a)));let o=n===""||a.pathname==="",l=o?"/":a.pathname,s;if(l==null)s=t;else{let y=e.length-1;if(!r&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),y-=1;a.pathname=_.join("/")}s=y>=0?e[y]:"/"}let u=$te(a,s),d=l&&l!=="/"&&l.endsWith("/"),g=(o||l===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(d||g)&&(u.pathname+="/"),u}var cd=n=>n.join("/").replace(/\/\/+/g,"/"),Wte=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Xte=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Yte=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function qte(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var BH=["POST","PUT","PATCH","DELETE"];new Set(BH);var Kte=["GET",...BH];new Set(Kte);var D0=A.createContext(null);D0.displayName="DataRouter";var Iw=A.createContext(null);Iw.displayName="DataRouterState";var DH=A.createContext({isTransitioning:!1});DH.displayName="ViewTransition";var Jte=A.createContext(new Map);Jte.displayName="Fetchers";var Qte=A.createContext(null);Qte.displayName="Await";var of=A.createContext(null);of.displayName="Navigation";var PS=A.createContext(null);PS.displayName="Location";var Sd=A.createContext({outlet:null,matches:[],isDataRoute:!1});Sd.displayName="Route";var ZO=A.createContext(null);ZO.displayName="RouteError";function Zte(n,{relative:e}={}){qr(LS(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=A.useContext(of),{hash:a,pathname:o,search:l}=NS(n,{relative:e}),s=o;return t!=="/"&&(s=o==="/"?t:cd([t,o])),r.createHref({pathname:s,search:l,hash:a})}function LS(){return A.useContext(PS)!=null}function Vh(){return qr(LS(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(PS).location}var PH="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function LH(n){A.useContext(of).static||A.useLayoutEffect(n)}function NH(){let{isDataRoute:n}=A.useContext(Sd);return n?dne():ene()}function ene(){qr(LS(),"useNavigate() may be used only in the context of a <Router> component.");let n=A.useContext(D0),{basename:e,navigator:t}=A.useContext(of),{matches:r}=A.useContext(Sd),{pathname:a}=Vh(),o=JSON.stringify(OH(r)),l=A.useRef(!1);return LH(()=>{l.current=!0}),A.useCallback((u,d={})=>{if($c(l.current,PH),!l.current)return;if(typeof u=="number"){t.go(u);return}let g=IH(u,JSON.parse(o),a,d.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:cd([e,g.pathname])),(d.replace?t.replace:t.push)(g,d.state,d)},[e,t,o,a,n])}A.createContext(null);function NS(n,{relative:e}={}){let{matches:t}=A.useContext(Sd),{pathname:r}=Vh(),a=JSON.stringify(OH(t));return A.useMemo(()=>IH(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function tne(n,e){return zH(n,e)}function zH(n,e,t,r){var E;qr(LS(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:o}=A.useContext(of),{matches:l}=A.useContext(Sd),s=l[l.length-1],u=s?s.params:{},d=s?s.pathname:"/",g=s?s.pathnameBase:"/",y=s&&s.route;{let T=y&&y.path||"";UH(d,!y||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let _=Vh(),C;if(e){let T=typeof e=="string"?km(e):e;qr(g==="/"||((E=T.pathname)==null?void 0:E.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${T.pathname}" was given in the \`location\` prop.`),C=T}else C=_;let c=C.pathname||"/",p=c;if(g!=="/"){let T=g.replace(/^\//,"").split("/");p="/"+c.replace(/^\//,"").split("/").slice(T.length).join("/")}let m=!o&&t&&t.matches&&t.matches.length>0?t.matches:MH(n,{pathname:p});$c(y||m!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),$c(m==null||m[m.length-1].route.element!==void 0||m[m.length-1].route.Component!==void 0||m[m.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=one(m&&m.map(T=>Object.assign({},T,{params:Object.assign({},u,T.params),pathname:cd([g,a.encodeLocation?a.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?g:cd([g,a.encodeLocation?a.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),l,t,r);return e&&b?A.createElement(PS.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},b):b}function nne(){let n=fne(),e=qte(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=A.createElement(A.Fragment,null,A.createElement("p",null,"💿 Hey developer 👋"),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:o},"ErrorBoundary")," or"," ",A.createElement("code",{style:o},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),t?A.createElement("pre",{style:a},t):null,l)}var ine=A.createElement(nne,null),rne=class extends A.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?A.createElement(Sd.Provider,{value:this.props.routeContext},A.createElement(ZO.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ane({routeContext:n,match:e,children:t}){let r=A.useContext(D0);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(Sd.Provider,{value:n},t)}function one(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=t==null?void 0:t.errors;if(o!=null){let u=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);qr(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,u+1))}let l=!1,s=-1;if(t)for(let u=0;u<a.length;u++){let d=a[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(s=u),d.route.id){let{loaderData:g,errors:y}=t,_=d.route.loader&&!g.hasOwnProperty(d.route.id)&&(!y||y[d.route.id]===void 0);if(d.route.lazy||_){l=!0,s>=0?a=a.slice(0,s+1):a=[a[0]];break}}}return a.reduceRight((u,d,g)=>{let y,_=!1,C=null,c=null;t&&(y=o&&d.route.id?o[d.route.id]:void 0,C=d.route.errorElement||ine,l&&(s<0&&g===0?(UH("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,c=null):s===g&&(_=!0,c=d.route.hydrateFallbackElement||null)));let p=e.concat(a.slice(0,g+1)),m=()=>{let b;return y?b=C:_?b=c:d.route.Component?b=A.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=u,A.createElement(ane,{match:d,routeContext:{outlet:u,matches:p,isDataRoute:t!=null},children:b})};return t&&(d.route.ErrorBoundary||d.route.errorElement||g===0)?A.createElement(rne,{location:t.location,revalidation:t.revalidation,component:C,error:y,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}function eI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sne(n){let e=A.useContext(D0);return qr(e,eI(n)),e}function lne(n){let e=A.useContext(Iw);return qr(e,eI(n)),e}function cne(n){let e=A.useContext(Sd);return qr(e,eI(n)),e}function tI(n){let e=cne(n),t=e.matches[e.matches.length-1];return qr(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function une(){return tI("useRouteId")}function fne(){var r;let n=A.useContext(ZO),e=lne("useRouteError"),t=tI("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function dne(){let{router:n}=sne("useNavigate"),e=tI("useNavigate"),t=A.useRef(!1);return LH(()=>{t.current=!0}),A.useCallback(async(a,o={})=>{$c(t.current,PH),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...o}))},[n,e])}var PL={};function UH(n,e,t){!e&&!PL[n]&&(PL[n]=!0,$c(!1,t))}A.memo(hne);function hne({routes:n,future:e,state:t}){return zH(n,void 0,t,e)}function kC(n){qr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pne({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:o=!1}){qr(!LS(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),s=A.useMemo(()=>({basename:l,navigator:a,static:o,future:{}}),[l,a,o]);typeof t=="string"&&(t=km(t));let{pathname:u="/",search:d="",hash:g="",state:y=null,key:_="default"}=t,C=A.useMemo(()=>{let c=md(u,l);return c==null?null:{location:{pathname:c,search:d,hash:g,state:y,key:_},navigationType:r}},[l,u,d,g,y,_,r]);return $c(C!=null,`<Router basename="${l}"> is not able to match the URL "${u}${d}${g}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:A.createElement(of.Provider,{value:s},A.createElement(PS.Provider,{children:e,value:C}))}function mne({children:n,location:e}){return tne(y2(n),e)}function y2(n,e=[]){let t=[];return A.Children.forEach(n,(r,a)=>{if(!A.isValidElement(r))return;let o=[...e,a];if(r.type===A.Fragment){t.push.apply(t,y2(r.props.children,o));return}qr(r.type===kC,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=y2(r.props.children,o)),t.push(l)}),t}var $C="get",VC="application/x-www-form-urlencoded";function Bw(n){return n!=null&&typeof n.tagName=="string"}function gne(n){return Bw(n)&&n.tagName.toLowerCase()==="button"}function vne(n){return Bw(n)&&n.tagName.toLowerCase()==="form"}function yne(n){return Bw(n)&&n.tagName.toLowerCase()==="input"}function bne(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Sne(n,e){return n.button===0&&(!e||e==="_self")&&!bne(n)}var wx=null;function _ne(){if(wx===null)try{new FormData(document.createElement("form"),0),wx=!1}catch{wx=!0}return wx}var xne=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function VM(n){return n!=null&&!xne.has(n)?($c(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${VC}"`),null):n}function Cne(n,e){let t,r,a,o,l;if(vne(n)){let s=n.getAttribute("action");r=s?md(s,e):null,t=n.getAttribute("method")||$C,a=VM(n.getAttribute("enctype"))||VC,o=new FormData(n)}else if(gne(n)||yne(n)&&(n.type==="submit"||n.type==="image")){let s=n.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=n.getAttribute("formaction")||s.getAttribute("action");if(r=u?md(u,e):null,t=n.getAttribute("formmethod")||s.getAttribute("method")||$C,a=VM(n.getAttribute("formenctype"))||VM(s.getAttribute("enctype"))||VC,o=new FormData(s,n),!_ne()){let{name:d,type:g,value:y}=n;if(g==="image"){let _=d?`${d}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else d&&o.append(d,y)}}else{if(Bw(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=$C,r=null,a=VC,l=n}return o&&a==="text/plain"&&(l=o,o=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:o,body:l}}function nI(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function Ene(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wne(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Ane(n,e,t){let r=await Promise.all(n.map(async a=>{let o=e.routes[a.route.id];if(o){let l=await Ene(o,t);return l.links?l.links():[]}return[]}));return One(r.flat(1).filter(wne).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function LL(n,e,t,r,a,o){let l=(u,d)=>t[d]?u.route.id!==t[d].route.id:!0,s=(u,d)=>{var g;return t[d].pathname!==u.pathname||((g=t[d].route.path)==null?void 0:g.endsWith("*"))&&t[d].params["*"]!==u.params["*"]};return o==="assets"?e.filter((u,d)=>l(u,d)||s(u,d)):o==="data"?e.filter((u,d)=>{var y;let g=r.routes[u.route.id];if(!g||!g.hasLoader)return!1;if(l(u,d)||s(u,d))return!0;if(u.route.shouldRevalidate){let _=u.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function Mne(n,e,{includeHydrateFallback:t}={}){return Tne(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function Tne(n){return[...new Set(n)]}function Rne(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function One(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let o=JSON.stringify(Rne(a));return t.has(o)||(t.add(o),r.push({key:o,link:a})),r},[])}function Ine(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&md(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function FH(){let n=A.useContext(D0);return nI(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Bne(){let n=A.useContext(Iw);return nI(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var iI=A.createContext(void 0);iI.displayName="FrameworkContext";function HH(){let n=A.useContext(iI);return nI(n,"You must render this element inside a <HydratedRouter> element"),n}function Dne(n,e){let t=A.useContext(iI),[r,a]=A.useState(!1),[o,l]=A.useState(!1),{onFocus:s,onBlur:u,onMouseEnter:d,onMouseLeave:g,onTouchStart:y}=e,_=A.useRef(null);A.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let p=b=>{b.forEach(E=>{l(E.isIntersecting)})},m=new IntersectionObserver(p,{threshold:.5});return _.current&&m.observe(_.current),()=>{m.disconnect()}}},[n]),A.useEffect(()=>{if(r){let p=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(p)}}},[r]);let C=()=>{a(!0)},c=()=>{a(!1),l(!1)};return t?n!=="intent"?[o,_,{}]:[o,_,{onFocus:Vy(s,C),onBlur:Vy(u,c),onMouseEnter:Vy(d,C),onMouseLeave:Vy(g,c),onTouchStart:Vy(y,C)}]:[!1,_,{}]}function Vy(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function Pne({page:n,...e}){let{router:t}=FH(),r=A.useMemo(()=>MH(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?A.createElement(Nne,{page:n,matches:r,...e}):null}function Lne(n){let{manifest:e,routeModules:t}=HH(),[r,a]=A.useState([]);return A.useEffect(()=>{let o=!1;return Ane(n,e,t).then(l=>{o||a(l)}),()=>{o=!0}},[n,e,t]),r}function Nne({page:n,matches:e,...t}){let r=Vh(),{manifest:a,routeModules:o}=HH(),{basename:l}=FH(),{loaderData:s,matches:u}=Bne(),d=A.useMemo(()=>LL(n,e,u,a,r,"data"),[n,e,u,a,r]),g=A.useMemo(()=>LL(n,e,u,a,r,"assets"),[n,e,u,a,r]),y=A.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let c=new Set,p=!1;if(e.forEach(b=>{var T;let E=a.routes[b.route.id];!E||!E.hasLoader||(!d.some(R=>R.route.id===b.route.id)&&b.route.id in s&&((T=o[b.route.id])!=null&&T.shouldRevalidate)||E.hasClientLoader?p=!0:c.add(b.route.id))}),c.size===0)return[];let m=Ine(n,l);return p&&c.size>0&&m.searchParams.set("_routes",e.filter(b=>c.has(b.route.id)).map(b=>b.route.id).join(",")),[m.pathname+m.search]},[l,s,r,a,d,e,n,o]),_=A.useMemo(()=>Mne(g,a),[g,a]),C=Lne(g);return A.createElement(A.Fragment,null,y.map(c=>A.createElement("link",{key:c,rel:"prefetch",as:"fetch",href:c,...t})),_.map(c=>A.createElement("link",{key:c,rel:"modulepreload",href:c,...t})),C.map(({key:c,link:p})=>A.createElement("link",{key:c,...p})))}function zne(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var GH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{GH&&(window.__reactRouterVersion="7.3.0")}catch{}function Une({basename:n,children:e,window:t}){let r=A.useRef();r.current==null&&(r.current=Mte({window:t,v5Compat:!0}));let a=r.current,[o,l]=A.useState({action:a.action,location:a.location}),s=A.useCallback(u=>{A.startTransition(()=>l(u))},[l]);return A.useLayoutEffect(()=>a.listen(s),[a,s]),A.createElement(pne,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:a})}var kH=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$H=A.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:o,replace:l,state:s,target:u,to:d,preventScrollReset:g,viewTransition:y,..._},C){let{basename:c}=A.useContext(of),p=typeof d=="string"&&kH.test(d),m,b=!1;if(typeof d=="string"&&p&&(m=d,GH))try{let U=new URL(window.location.href),z=d.startsWith("//")?new URL(U.protocol+d):new URL(d),$=md(z.pathname,c);z.origin===U.origin&&$!=null?d=$+z.search+z.hash:b=!0}catch{$c(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=Zte(d,{relative:a}),[T,R,O]=Dne(r,_),D=kne(d,{replace:l,state:s,target:u,preventScrollReset:g,relative:a,viewTransition:y});function P(U){e&&e(U),U.defaultPrevented||D(U)}let F=A.createElement("a",{..._,...O,href:m||E,onClick:b||o?e:P,ref:zne(C,R),target:u,"data-discover":!p&&t==="render"?"true":void 0});return T&&!p?A.createElement(A.Fragment,null,F,A.createElement(Pne,{page:E})):F});$H.displayName="Link";var Fne=A.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:o,to:l,viewTransition:s,children:u,...d},g){let y=NS(l,{relative:d.relative}),_=Vh(),C=A.useContext(Iw),{navigator:c,basename:p}=A.useContext(of),m=C!=null&&Xne(y)&&s===!0,b=c.encodeLocation?c.encodeLocation(y).pathname:y.pathname,E=_.pathname,T=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(E=E.toLowerCase(),T=T?T.toLowerCase():null,b=b.toLowerCase()),T&&p&&(T=md(T,p)||T);const R=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let O=E===b||!a&&E.startsWith(b)&&E.charAt(R)==="/",D=T!=null&&(T===b||!a&&T.startsWith(b)&&T.charAt(b.length)==="/"),P={isActive:O,isPending:D,isTransitioning:m},F=O?e:void 0,U;typeof r=="function"?U=r(P):U=[r,O?"active":null,D?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let z=typeof o=="function"?o(P):o;return A.createElement($H,{...d,"aria-current":F,className:U,ref:g,style:z,to:l,viewTransition:s},typeof u=="function"?u(P):u)});Fne.displayName="NavLink";var Hne=A.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:o,method:l=$C,action:s,onSubmit:u,relative:d,preventScrollReset:g,viewTransition:y,..._},C)=>{let c=jne(),p=Wne(s,{relative:d}),m=l.toLowerCase()==="get"?"get":"post",b=typeof s=="string"&&kH.test(s),E=T=>{if(u&&u(T),T.defaultPrevented)return;T.preventDefault();let R=T.nativeEvent.submitter,O=(R==null?void 0:R.getAttribute("formmethod"))||l;c(R||T.currentTarget,{fetcherKey:e,method:O,navigate:t,replace:a,state:o,relative:d,preventScrollReset:g,viewTransition:y})};return A.createElement("form",{ref:C,method:m,action:p,onSubmit:r?u:E,..._,"data-discover":!b&&n==="render"?"true":void 0})});Hne.displayName="Form";function Gne(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VH(n){let e=A.useContext(D0);return qr(e,Gne(n)),e}function kne(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:o,viewTransition:l}={}){let s=NH(),u=Vh(),d=NS(n,{relative:o});return A.useCallback(g=>{if(Sne(g,e)){g.preventDefault();let y=t!==void 0?t:rS(u)===rS(d);s(n,{replace:y,state:r,preventScrollReset:a,relative:o,viewTransition:l})}},[u,s,d,t,r,e,n,a,o,l])}var $ne=0,Vne=()=>`__${String(++$ne)}__`;function jne(){let{router:n}=VH("useSubmit"),{basename:e}=A.useContext(of),t=une();return A.useCallback(async(r,a={})=>{let{action:o,method:l,encType:s,formData:u,body:d}=Cne(r,e);if(a.navigate===!1){let g=a.fetcherKey||Vne();await n.fetch(g,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:u,body:d,formMethod:a.method||l,formEncType:a.encType||s,flushSync:a.flushSync})}else await n.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:u,body:d,formMethod:a.method||l,formEncType:a.encType||s,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function Wne(n,{relative:e}={}){let{basename:t}=A.useContext(of),r=A.useContext(Sd);qr(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...NS(n||".",{relative:e})},l=Vh();if(n==null){o.search=l.search;let s=new URLSearchParams(o.search),u=s.getAll("index");if(u.some(g=>g==="")){s.delete("index"),u.filter(y=>y).forEach(y=>s.append("index",y));let g=s.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:cd([t,o.pathname])),rS(o)}function Xne(n,e={}){let t=A.useContext(DH);qr(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=VH("useViewTransitionState"),a=NS(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=md(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=md(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Y1(a.pathname,l)!=null||Y1(a.pathname,o)!=null}new TextEncoder;const Yne="_videoWrapper_9iz5a_1",qne="_formPanel_9iz5a_6",NL={videoWrapper:Yne,formPanel:qne},Kne="_linearGradientButton_ygfyk_1",Jne="_formContent_ygfyk_16",Qne="_imageSelect_ygfyk_23",Zne="_customButton_ygfyk_27",eie="_textarea_ygfyk_30",tie="_formFooter_ygfyk_38",nie="_footerButton_ygfyk_44",Nu={linearGradientButton:Kne,formContent:Jne,imageSelect:Qne,customButton:Zne,textarea:eie,formFooter:tie,footerButton:nie};var Ax={exports:{}},zL;function iie(){if(zL)return Ax.exports;zL=1;var n=typeof Reflect=="object"?Reflect:null,e=n&&typeof n.apply=="function"?n.apply:function(O,D,P){return Function.prototype.apply.call(O,D,P)},t;n&&typeof n.ownKeys=="function"?t=n.ownKeys:Object.getOwnPropertySymbols?t=function(O){return Object.getOwnPropertyNames(O).concat(Object.getOwnPropertySymbols(O))}:t=function(O){return Object.getOwnPropertyNames(O)};function r(R){console&&console.warn&&console.warn(R)}var a=Number.isNaN||function(O){return O!==O};function o(){o.init.call(this)}Ax.exports=o,Ax.exports.once=b,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var l=10;function s(R){if(typeof R!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof R)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(R){if(typeof R!="number"||R<0||a(R))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+R+".");l=R}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(O){if(typeof O!="number"||O<0||a(O))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+O+".");return this._maxListeners=O,this};function u(R){return R._maxListeners===void 0?o.defaultMaxListeners:R._maxListeners}o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(O){for(var D=[],P=1;P<arguments.length;P++)D.push(arguments[P]);var F=O==="error",U=this._events;if(U!==void 0)F=F&&U.error===void 0;else if(!F)return!1;if(F){var z;if(D.length>0&&(z=D[0]),z instanceof Error)throw z;var $=new Error("Unhandled error."+(z?" ("+z.message+")":""));throw $.context=z,$}var J=U[O];if(J===void 0)return!1;if(typeof J=="function")e(J,this,D);else for(var W=J.length,Z=c(J,W),P=0;P<W;++P)e(Z[P],this,D);return!0};function d(R,O,D,P){var F,U,z;if(s(D),U=R._events,U===void 0?(U=R._events=Object.create(null),R._eventsCount=0):(U.newListener!==void 0&&(R.emit("newListener",O,D.listener?D.listener:D),U=R._events),z=U[O]),z===void 0)z=U[O]=D,++R._eventsCount;else if(typeof z=="function"?z=U[O]=P?[D,z]:[z,D]:P?z.unshift(D):z.push(D),F=u(R),F>0&&z.length>F&&!z.warned){z.warned=!0;var $=new Error("Possible EventEmitter memory leak detected. "+z.length+" "+String(O)+" listeners added. Use emitter.setMaxListeners() to increase limit");$.name="MaxListenersExceededWarning",$.emitter=R,$.type=O,$.count=z.length,r($)}return R}o.prototype.addListener=function(O,D){return d(this,O,D,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(O,D){return d(this,O,D,!0)};function g(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function y(R,O,D){var P={fired:!1,wrapFn:void 0,target:R,type:O,listener:D},F=g.bind(P);return F.listener=D,P.wrapFn=F,F}o.prototype.once=function(O,D){return s(D),this.on(O,y(this,O,D)),this},o.prototype.prependOnceListener=function(O,D){return s(D),this.prependListener(O,y(this,O,D)),this},o.prototype.removeListener=function(O,D){var P,F,U,z,$;if(s(D),F=this._events,F===void 0)return this;if(P=F[O],P===void 0)return this;if(P===D||P.listener===D)--this._eventsCount===0?this._events=Object.create(null):(delete F[O],F.removeListener&&this.emit("removeListener",O,P.listener||D));else if(typeof P!="function"){for(U=-1,z=P.length-1;z>=0;z--)if(P[z]===D||P[z].listener===D){$=P[z].listener,U=z;break}if(U<0)return this;U===0?P.shift():p(P,U),P.length===1&&(F[O]=P[0]),F.removeListener!==void 0&&this.emit("removeListener",O,$||D)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(O){var D,P,F;if(P=this._events,P===void 0)return this;if(P.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):P[O]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete P[O]),this;if(arguments.length===0){var U=Object.keys(P),z;for(F=0;F<U.length;++F)z=U[F],z!=="removeListener"&&this.removeAllListeners(z);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(D=P[O],typeof D=="function")this.removeListener(O,D);else if(D!==void 0)for(F=D.length-1;F>=0;F--)this.removeListener(O,D[F]);return this};function _(R,O,D){var P=R._events;if(P===void 0)return[];var F=P[O];return F===void 0?[]:typeof F=="function"?D?[F.listener||F]:[F]:D?m(F):c(F,F.length)}o.prototype.listeners=function(O){return _(this,O,!0)},o.prototype.rawListeners=function(O){return _(this,O,!1)},o.listenerCount=function(R,O){return typeof R.listenerCount=="function"?R.listenerCount(O):C.call(R,O)},o.prototype.listenerCount=C;function C(R){var O=this._events;if(O!==void 0){var D=O[R];if(typeof D=="function")return 1;if(D!==void 0)return D.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]};function c(R,O){for(var D=new Array(O),P=0;P<O;++P)D[P]=R[P];return D}function p(R,O){for(;O+1<R.length;O++)R[O]=R[O+1];R.pop()}function m(R){for(var O=new Array(R.length),D=0;D<O.length;++D)O[D]=R[D].listener||R[D];return O}function b(R,O){return new Promise(function(D,P){function F(z){R.removeListener(O,U),P(z)}function U(){typeof R.removeListener=="function"&&R.removeListener("error",F),D([].slice.call(arguments))}T(R,O,U,{once:!0}),O!=="error"&&E(R,F,{once:!0})})}function E(R,O,D){typeof R.on=="function"&&T(R,"error",O,D)}function T(R,O,D,P){if(typeof R.on=="function")P.once?R.once(O,D):R.on(O,D);else if(typeof R.addEventListener=="function")R.addEventListener(O,function F(U){P.once&&R.removeEventListener(O,F),D(U)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof R)}return Ax.exports}var rie=iie();const b2=new rie.EventEmitter,S2={ADD_FAKE_VIDEO:"add-fake-video"},aie="_imageUpload_19an3_1",oie={imageUpload:aie},sie=({multiple:n=!1,onChange:e})=>{const[t,r]=A.useState([]),[a,o]=A.useState(!1),[l,s]=A.useState(""),[u,d]=A.useState(""),g=async C=>{!C.url&&!C.preview&&(C.preview=await new Promise(c=>{const p=new FileReader;p.onload=m=>{var b;return c((b=m.target)==null?void 0:b.result)},p.readAsDataURL(C.originFileObj)})),s(C.url||C.preview),d(C.name||"预览"),o(!0)},y=({fileList:C})=>{r(C),e()},_=C=>["image/jpeg","image/png","image/webp"].includes(C.type)?!1:(_H.error("只支持 JPEG, PNG, WEBP 格式的图片"),X1.LIST_IGNORE);return ut.jsxs(ut.Fragment,{children:[ut.jsx(X1,{className:oie.imageUpload,accept:"image/jpeg,image/png,image/webp",listType:n?"picture":"picture-card",fileList:t,onPreview:g,onChange:y,beforeUpload:_,multiple:n,showUploadList:!0,children:!n&&t.length>0?null:ut.jsxs("div",{children:[ut.jsx(Z$,{}),ut.jsx("div",{style:{marginTop:8},children:"上传或拖入图片，支持JPEG，PNG，WEBP"})]})}),ut.jsx(kl,{open:a,footer:null,onCancel:()=>o(!1),title:u,children:ut.jsx("img",{alt:"preview",style:{width:"100%"},src:l})})]})};/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const zS="174",kp={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},$p={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},jH=0,_2=1,WH=2,lie=3,XH=0,Dw=1,Ib=2,Rc=3,ef=0,ss=1,zc=2,ud=0,_m=1,x2=2,C2=3,E2=4,YH=5,_h=100,qH=101,KH=102,JH=103,QH=104,ZH=200,e8=201,t8=202,n8=203,q1=204,K1=205,i8=206,r8=207,a8=208,o8=209,s8=210,l8=211,c8=212,u8=213,f8=214,J1=0,Q1=1,Z1=2,Am=3,eE=4,tE=5,nE=6,iE=7,US=0,d8=1,h8=2,Yu=0,p8=1,m8=2,g8=3,rI=4,v8=5,y8=6,b8=7,w2="attached",S8="detached",Pw=300,gd=301,Fh=302,aS=303,oS=304,P0=306,Hh=1e3,el=1001,d0=1002,Ka=1003,Lw=1004,cie=1004,hm=1005,uie=1005,ha=1006,Jv=1007,fie=1007,Fl=1008,die=1008,Vc=1009,aI=1010,oI=1011,h0=1012,Nw=1013,vd=1014,Rs=1015,L0=1016,zw=1017,Uw=1018,Mm=1020,sI=35902,lI=1021,cI=1022,Lo=1023,uI=1024,fI=1025,xm=1026,Tm=1027,Fw=1028,FS=1029,dI=1030,Hw=1031,hie=1032,Gw=1033,Bb=33776,Db=33777,Pb=33778,Lb=33779,rE=35840,aE=35841,oE=35842,sE=35843,lE=36196,cE=37492,uE=37496,fE=37808,dE=37809,hE=37810,pE=37811,mE=37812,gE=37813,vE=37814,yE=37815,bE=37816,SE=37817,_E=37818,xE=37819,CE=37820,EE=37821,Nb=36492,wE=36494,AE=36495,hI=36283,ME=36284,TE=36285,RE=36286,_8=2200,x8=2201,C8=2202,p0=2300,m0=2301,jC=2302,pm=2400,mm=2401,sS=2402,kw=2500,pI=2501,E8=0,mI=1,OE=2,w8=3200,A8=3201,pie=3202,mie=3203,jh=0,M8=1,nd="",Do="srgb",Gh="srgb-linear",lS="linear",or="srgb",gie=0,Vp=7680,vie=7681,yie=7682,bie=7683,Sie=34055,_ie=34056,xie=5386,Cie=512,Eie=513,wie=514,Aie=515,Mie=516,Tie=517,Rie=518,A2=519,T8=512,R8=513,O8=514,gI=515,I8=516,B8=517,D8=518,P8=519,cS=35044,Oie=35048,Iie=35040,Bie=35045,Die=35049,Pie=35041,Lie=35046,Nie=35050,zie=35042,Uie="100",M2="300 es",Fc=2e3,uS=2001,Fie={COMPUTE:"compute",RENDER:"render"};let sf=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){const r=this._listeners;return r===void 0?!1:r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){const r=this._listeners;if(r===void 0)return;const a=r[e];if(a!==void 0){const o=a.indexOf(t);o!==-1&&a.splice(o,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const r=t[e.type];if(r!==void 0){e.target=this;const a=r.slice(0);for(let o=0,l=a.length;o<l;o++)a[o].call(this,e);e.target=null}}};const To=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let UL=1234567;const Cm=Math.PI/180,g0=180/Math.PI;function il(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(To[n&255]+To[n>>8&255]+To[n>>16&255]+To[n>>24&255]+"-"+To[e&255]+To[e>>8&255]+"-"+To[e>>16&15|64]+To[e>>24&255]+"-"+To[t&63|128]+To[t>>8&255]+"-"+To[t>>16&255]+To[t>>24&255]+To[r&255]+To[r>>8&255]+To[r>>16&255]+To[r>>24&255]).toLowerCase()}function Jn(n,e,t){return Math.max(e,Math.min(t,n))}function vI(n,e){return(n%e+e)%e}function Hie(n,e,t,r,a){return r+(n-e)*(a-r)/(t-e)}function Gie(n,e,t){return n!==e?(t-n)/(e-n):0}function zb(n,e,t){return(1-t)*n+t*e}function kie(n,e,t,r){return zb(n,e,1-Math.exp(-t*r))}function $ie(n,e=1){return e-Math.abs(vI(n,e*2)-e)}function Vie(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function jie(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function Wie(n,e){return n+Math.floor(Math.random()*(e-n+1))}function Xie(n,e){return n+Math.random()*(e-n)}function Yie(n){return n*(.5-Math.random())}function qie(n){n!==void 0&&(UL=n);let e=UL+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Kie(n){return n*Cm}function Jie(n){return n*g0}function Qie(n){return(n&n-1)===0&&n!==0}function Zie(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function ere(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function tre(n,e,t,r,a){const o=Math.cos,l=Math.sin,s=o(t/2),u=l(t/2),d=o((e+r)/2),g=l((e+r)/2),y=o((e-r)/2),_=l((e-r)/2),C=o((r-e)/2),c=l((r-e)/2);switch(a){case"XYX":n.set(s*g,u*y,u*_,s*d);break;case"YZY":n.set(u*_,s*g,u*y,s*d);break;case"ZXZ":n.set(u*y,u*_,s*g,s*d);break;case"XZX":n.set(s*g,u*c,u*C,s*d);break;case"YXY":n.set(u*C,s*g,u*c,s*d);break;case"ZYZ":n.set(u*c,u*C,s*g,s*d);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+a)}}function os(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function ri(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const L8={DEG2RAD:Cm,RAD2DEG:g0,generateUUID:il,clamp:Jn,euclideanModulo:vI,mapLinear:Hie,inverseLerp:Gie,lerp:zb,damp:kie,pingpong:$ie,smoothstep:Vie,smootherstep:jie,randInt:Wie,randFloat:Xie,randFloatSpread:Yie,seededRandom:qie,degToRad:Kie,radToDeg:Jie,isPowerOfTwo:Qie,ceilPowerOfTwo:Zie,floorPowerOfTwo:ere,setQuaternionFromProperEuler:tre,normalize:ri,denormalize:os};class Mt{constructor(e=0,t=0){Mt.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,a=e.elements;return this.x=a[0]*t+a[3]*r+a[6],this.y=a[1]*t+a[4]*r+a[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Jn(this.x,e.x,t.x),this.y=Jn(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Jn(this.x,e,t),this.y=Jn(this.y,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Jn(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Jn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),a=Math.sin(t),o=this.x-e.x,l=this.y-e.y;return this.x=o*r-l*a+e.x,this.y=o*a+l*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class ti{constructor(e,t,r,a,o,l,s,u,d){ti.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,r,a,o,l,s,u,d)}set(e,t,r,a,o,l,s,u,d){const g=this.elements;return g[0]=e,g[1]=a,g[2]=s,g[3]=t,g[4]=o,g[5]=u,g[6]=r,g[7]=l,g[8]=d,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,a=t.elements,o=this.elements,l=r[0],s=r[3],u=r[6],d=r[1],g=r[4],y=r[7],_=r[2],C=r[5],c=r[8],p=a[0],m=a[3],b=a[6],E=a[1],T=a[4],R=a[7],O=a[2],D=a[5],P=a[8];return o[0]=l*p+s*E+u*O,o[3]=l*m+s*T+u*D,o[6]=l*b+s*R+u*P,o[1]=d*p+g*E+y*O,o[4]=d*m+g*T+y*D,o[7]=d*b+g*R+y*P,o[2]=_*p+C*E+c*O,o[5]=_*m+C*T+c*D,o[8]=_*b+C*R+c*P,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],a=e[2],o=e[3],l=e[4],s=e[5],u=e[6],d=e[7],g=e[8];return t*l*g-t*s*d-r*o*g+r*s*u+a*o*d-a*l*u}invert(){const e=this.elements,t=e[0],r=e[1],a=e[2],o=e[3],l=e[4],s=e[5],u=e[6],d=e[7],g=e[8],y=g*l-s*d,_=s*u-g*o,C=d*o-l*u,c=t*y+r*_+a*C;if(c===0)return this.set(0,0,0,0,0,0,0,0,0);const p=1/c;return e[0]=y*p,e[1]=(a*d-g*r)*p,e[2]=(s*r-a*l)*p,e[3]=_*p,e[4]=(g*t-a*u)*p,e[5]=(a*o-s*t)*p,e[6]=C*p,e[7]=(r*u-d*t)*p,e[8]=(l*t-r*o)*p,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,a,o,l,s){const u=Math.cos(o),d=Math.sin(o);return this.set(r*u,r*d,-r*(u*l+d*s)+l+e,-a*d,a*u,-a*(-d*l+u*s)+s+t,0,0,1),this}scale(e,t){return this.premultiply(jM.makeScale(e,t)),this}rotate(e){return this.premultiply(jM.makeRotation(-e)),this}translate(e,t){return this.premultiply(jM.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let a=0;a<9;a++)if(t[a]!==r[a])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const jM=new ti;function N8(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const nre={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Nv(n,e){return new nre[n](e)}function fS(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function z8(){const n=fS("canvas");return n.style.display="block",n}const FL={};function jp(n){n in FL||(FL[n]=!0,console.warn(n))}function ire(n,e,t){return new Promise(function(r,a){function o(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:a();break;case n.TIMEOUT_EXPIRED:setTimeout(o,t);break;default:r()}}setTimeout(o,t)})}function rre(n){const e=n.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function are(n){const e=n.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const HL=new ti().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),GL=new ti().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function ore(){const n={enabled:!0,workingColorSpace:Gh,spaces:{},convert:function(a,o,l){return this.enabled===!1||o===l||!o||!l||(this.spaces[o].transfer===or&&(a.r=fd(a.r),a.g=fd(a.g),a.b=fd(a.b)),this.spaces[o].primaries!==this.spaces[l].primaries&&(a.applyMatrix3(this.spaces[o].toXYZ),a.applyMatrix3(this.spaces[l].fromXYZ)),this.spaces[l].transfer===or&&(a.r=Qv(a.r),a.g=Qv(a.g),a.b=Qv(a.b))),a},fromWorkingColorSpace:function(a,o){return this.convert(a,this.workingColorSpace,o)},toWorkingColorSpace:function(a,o){return this.convert(a,o,this.workingColorSpace)},getPrimaries:function(a){return this.spaces[a].primaries},getTransfer:function(a){return a===nd?lS:this.spaces[a].transfer},getLuminanceCoefficients:function(a,o=this.workingColorSpace){return a.fromArray(this.spaces[o].luminanceCoefficients)},define:function(a){Object.assign(this.spaces,a)},_getMatrix:function(a,o,l){return a.copy(this.spaces[o].toXYZ).multiply(this.spaces[l].fromXYZ)},_getDrawingBufferColorSpace:function(a){return this.spaces[a].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(a=this.workingColorSpace){return this.spaces[a].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],r=[.3127,.329];return n.define({[Gh]:{primaries:e,whitePoint:r,transfer:lS,toXYZ:HL,fromXYZ:GL,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:Do},outputColorSpaceConfig:{drawingBufferColorSpace:Do}},[Do]:{primaries:e,whitePoint:r,transfer:or,toXYZ:HL,fromXYZ:GL,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:Do}}}),n}const Ii=ore();function fd(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Qv(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let $g;class U8{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{$g===void 0&&($g=fS("canvas")),$g.width=e.width,$g.height=e.height;const r=$g.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=$g}return t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=fS("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const a=r.getImageData(0,0,e.width,e.height),o=a.data;for(let l=0;l<o.length;l++)o[l]=fd(o[l]/255)*255;return r.putImageData(a,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(fd(t[r]/255)*255):t[r]=fd(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let sre=0;class Th{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:sre++}),this.uuid=il(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},a=this.data;if(a!==null){let o;if(Array.isArray(a)){o=[];for(let l=0,s=a.length;l<s;l++)a[l].isDataTexture?o.push(WM(a[l].image)):o.push(WM(a[l]))}else o=WM(a);r.url=o}return t||(e.images[this.uuid]=r),r}}function WM(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?U8.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let lre=0;class Pr extends sf{constructor(e=Pr.DEFAULT_IMAGE,t=Pr.DEFAULT_MAPPING,r=el,a=el,o=ha,l=Fl,s=Lo,u=Vc,d=Pr.DEFAULT_ANISOTROPY,g=nd){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:lre++}),this.uuid=il(),this.name="",this.source=new Th(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=r,this.wrapT=a,this.magFilter=o,this.minFilter=l,this.anisotropy=d,this.format=s,this.internalFormat=null,this.type=u,this.offset=new Mt(0,0),this.repeat=new Mt(1,1),this.center=new Mt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ti,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=g,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Pw)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Hh:e.x=e.x-Math.floor(e.x);break;case el:e.x=e.x<0?0:1;break;case d0:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Hh:e.y=e.y-Math.floor(e.y);break;case el:e.y=e.y<0?0:1;break;case d0:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Pr.DEFAULT_IMAGE=null;Pr.DEFAULT_MAPPING=Pw;Pr.DEFAULT_ANISOTROPY=1;class Gi{constructor(e=0,t=0,r=0,a=1){Gi.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=a}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,a){return this.x=e,this.y=t,this.z=r,this.w=a,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,a=this.z,o=this.w,l=e.elements;return this.x=l[0]*t+l[4]*r+l[8]*a+l[12]*o,this.y=l[1]*t+l[5]*r+l[9]*a+l[13]*o,this.z=l[2]*t+l[6]*r+l[10]*a+l[14]*o,this.w=l[3]*t+l[7]*r+l[11]*a+l[15]*o,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,a,o;const u=e.elements,d=u[0],g=u[4],y=u[8],_=u[1],C=u[5],c=u[9],p=u[2],m=u[6],b=u[10];if(Math.abs(g-_)<.01&&Math.abs(y-p)<.01&&Math.abs(c-m)<.01){if(Math.abs(g+_)<.1&&Math.abs(y+p)<.1&&Math.abs(c+m)<.1&&Math.abs(d+C+b-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const T=(d+1)/2,R=(C+1)/2,O=(b+1)/2,D=(g+_)/4,P=(y+p)/4,F=(c+m)/4;return T>R&&T>O?T<.01?(r=0,a=.707106781,o=.707106781):(r=Math.sqrt(T),a=D/r,o=P/r):R>O?R<.01?(r=.707106781,a=0,o=.707106781):(a=Math.sqrt(R),r=D/a,o=F/a):O<.01?(r=.707106781,a=.707106781,o=0):(o=Math.sqrt(O),r=P/o,a=F/o),this.set(r,a,o,t),this}let E=Math.sqrt((m-c)*(m-c)+(y-p)*(y-p)+(_-g)*(_-g));return Math.abs(E)<.001&&(E=1),this.x=(m-c)/E,this.y=(y-p)/E,this.z=(_-g)/E,this.w=Math.acos((d+C+b-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Jn(this.x,e.x,t.x),this.y=Jn(this.y,e.y,t.y),this.z=Jn(this.z,e.z,t.z),this.w=Jn(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Jn(this.x,e,t),this.y=Jn(this.y,e,t),this.z=Jn(this.z,e,t),this.w=Jn(this.w,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Jn(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class $w extends sf{constructor(e=1,t=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Gi(0,0,e,t),this.scissorTest=!1,this.viewport=new Gi(0,0,e,t);const a={width:e,height:t,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:ha,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},r);const o=new Pr(a,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);o.flipY=!1,o.generateMipmaps=r.generateMipmaps,o.internalFormat=r.internalFormat,this.textures=[];const l=r.count;for(let s=0;s<l;s++)this.textures[s]=o.clone(),this.textures[s].isRenderTargetTexture=!0,this.textures[s].renderTarget=this;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let a=0,o=this.textures.length;a<o;a++)this.textures[a].image.width=e,this.textures[a].image.height=t,this.textures[a].image.depth=r;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,r=e.textures.length;t<r;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const a=Object.assign({},e.textures[t].image);this.textures[t].source=new Th(a)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class tf extends $w{constructor(e=1,t=1,r={}){super(e,t,r),this.isWebGLRenderTarget=!0}}class HS extends Pr{constructor(e=null,t=1,r=1,a=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:a},this.magFilter=Ka,this.minFilter=Ka,this.wrapR=el,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class cre extends tf{constructor(e=1,t=1,r=1,a={}){super(e,t,a),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new HS(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class Vw extends Pr{constructor(e=null,t=1,r=1,a=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:a},this.magFilter=Ka,this.minFilter=Ka,this.wrapR=el,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class ure extends tf{constructor(e=1,t=1,r=1,a={}){super(e,t,a),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new Vw(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class Ja{constructor(e=0,t=0,r=0,a=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=a}static slerpFlat(e,t,r,a,o,l,s){let u=r[a+0],d=r[a+1],g=r[a+2],y=r[a+3];const _=o[l+0],C=o[l+1],c=o[l+2],p=o[l+3];if(s===0){e[t+0]=u,e[t+1]=d,e[t+2]=g,e[t+3]=y;return}if(s===1){e[t+0]=_,e[t+1]=C,e[t+2]=c,e[t+3]=p;return}if(y!==p||u!==_||d!==C||g!==c){let m=1-s;const b=u*_+d*C+g*c+y*p,E=b>=0?1:-1,T=1-b*b;if(T>Number.EPSILON){const O=Math.sqrt(T),D=Math.atan2(O,b*E);m=Math.sin(m*D)/O,s=Math.sin(s*D)/O}const R=s*E;if(u=u*m+_*R,d=d*m+C*R,g=g*m+c*R,y=y*m+p*R,m===1-s){const O=1/Math.sqrt(u*u+d*d+g*g+y*y);u*=O,d*=O,g*=O,y*=O}}e[t]=u,e[t+1]=d,e[t+2]=g,e[t+3]=y}static multiplyQuaternionsFlat(e,t,r,a,o,l){const s=r[a],u=r[a+1],d=r[a+2],g=r[a+3],y=o[l],_=o[l+1],C=o[l+2],c=o[l+3];return e[t]=s*c+g*y+u*C-d*_,e[t+1]=u*c+g*_+d*y-s*C,e[t+2]=d*c+g*C+s*_-u*y,e[t+3]=g*c-s*y-u*_-d*C,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,a){return this._x=e,this._y=t,this._z=r,this._w=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const r=e._x,a=e._y,o=e._z,l=e._order,s=Math.cos,u=Math.sin,d=s(r/2),g=s(a/2),y=s(o/2),_=u(r/2),C=u(a/2),c=u(o/2);switch(l){case"XYZ":this._x=_*g*y+d*C*c,this._y=d*C*y-_*g*c,this._z=d*g*c+_*C*y,this._w=d*g*y-_*C*c;break;case"YXZ":this._x=_*g*y+d*C*c,this._y=d*C*y-_*g*c,this._z=d*g*c-_*C*y,this._w=d*g*y+_*C*c;break;case"ZXY":this._x=_*g*y-d*C*c,this._y=d*C*y+_*g*c,this._z=d*g*c+_*C*y,this._w=d*g*y-_*C*c;break;case"ZYX":this._x=_*g*y-d*C*c,this._y=d*C*y+_*g*c,this._z=d*g*c-_*C*y,this._w=d*g*y+_*C*c;break;case"YZX":this._x=_*g*y+d*C*c,this._y=d*C*y+_*g*c,this._z=d*g*c-_*C*y,this._w=d*g*y-_*C*c;break;case"XZY":this._x=_*g*y-d*C*c,this._y=d*C*y-_*g*c,this._z=d*g*c+_*C*y,this._w=d*g*y+_*C*c;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+l)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,a=Math.sin(r);return this._x=e.x*a,this._y=e.y*a,this._z=e.z*a,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],a=t[4],o=t[8],l=t[1],s=t[5],u=t[9],d=t[2],g=t[6],y=t[10],_=r+s+y;if(_>0){const C=.5/Math.sqrt(_+1);this._w=.25/C,this._x=(g-u)*C,this._y=(o-d)*C,this._z=(l-a)*C}else if(r>s&&r>y){const C=2*Math.sqrt(1+r-s-y);this._w=(g-u)/C,this._x=.25*C,this._y=(a+l)/C,this._z=(o+d)/C}else if(s>y){const C=2*Math.sqrt(1+s-r-y);this._w=(o-d)/C,this._x=(a+l)/C,this._y=.25*C,this._z=(u+g)/C}else{const C=2*Math.sqrt(1+y-r-s);this._w=(l-a)/C,this._x=(o+d)/C,this._y=(u+g)/C,this._z=.25*C}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Jn(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const a=Math.min(1,t/r);return this.slerp(e,a),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,a=e._y,o=e._z,l=e._w,s=t._x,u=t._y,d=t._z,g=t._w;return this._x=r*g+l*s+a*d-o*u,this._y=a*g+l*u+o*s-r*d,this._z=o*g+l*d+r*u-a*s,this._w=l*g-r*s-a*u-o*d,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,a=this._y,o=this._z,l=this._w;let s=l*e._w+r*e._x+a*e._y+o*e._z;if(s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),s>=1)return this._w=l,this._x=r,this._y=a,this._z=o,this;const u=1-s*s;if(u<=Number.EPSILON){const C=1-t;return this._w=C*l+t*this._w,this._x=C*r+t*this._x,this._y=C*a+t*this._y,this._z=C*o+t*this._z,this.normalize(),this}const d=Math.sqrt(u),g=Math.atan2(d,s),y=Math.sin((1-t)*g)/d,_=Math.sin(t*g)/d;return this._w=l*y+this._w*_,this._x=r*y+this._x*_,this._y=a*y+this._y*_,this._z=o*y+this._z*_,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),r=Math.random(),a=Math.sqrt(1-r),o=Math.sqrt(r);return this.set(a*Math.sin(e),a*Math.cos(e),o*Math.sin(t),o*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class be{constructor(e=0,t=0,r=0){be.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(kL.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(kL.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,a=this.z,o=e.elements;return this.x=o[0]*t+o[3]*r+o[6]*a,this.y=o[1]*t+o[4]*r+o[7]*a,this.z=o[2]*t+o[5]*r+o[8]*a,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,a=this.z,o=e.elements,l=1/(o[3]*t+o[7]*r+o[11]*a+o[15]);return this.x=(o[0]*t+o[4]*r+o[8]*a+o[12])*l,this.y=(o[1]*t+o[5]*r+o[9]*a+o[13])*l,this.z=(o[2]*t+o[6]*r+o[10]*a+o[14])*l,this}applyQuaternion(e){const t=this.x,r=this.y,a=this.z,o=e.x,l=e.y,s=e.z,u=e.w,d=2*(l*a-s*r),g=2*(s*t-o*a),y=2*(o*r-l*t);return this.x=t+u*d+l*y-s*g,this.y=r+u*g+s*d-o*y,this.z=a+u*y+o*g-l*d,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,a=this.z,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*a,this.y=o[1]*t+o[5]*r+o[9]*a,this.z=o[2]*t+o[6]*r+o[10]*a,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Jn(this.x,e.x,t.x),this.y=Jn(this.y,e.y,t.y),this.z=Jn(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Jn(this.x,e,t),this.y=Jn(this.y,e,t),this.z=Jn(this.z,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Jn(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,a=e.y,o=e.z,l=t.x,s=t.y,u=t.z;return this.x=a*u-o*s,this.y=o*l-r*u,this.z=r*s-a*l,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return XM.copy(this).projectOnVector(e),this.sub(XM)}reflect(e){return this.sub(XM.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Jn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,a=this.z-e.z;return t*t+r*r+a*a}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const a=Math.sin(t)*e;return this.x=a*Math.sin(r),this.y=Math.cos(t)*e,this.z=a*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),a=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=a,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,r=Math.sqrt(1-t*t);return this.x=r*Math.cos(e),this.y=t,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const XM=new be,kL=new Ja;class po{constructor(e=new be(1/0,1/0,1/0),t=new be(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(Ec.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(Ec.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=Ec.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const o=r.getAttribute("position");if(t===!0&&o!==void 0&&e.isInstancedMesh!==!0)for(let l=0,s=o.count;l<s;l++)e.isMesh===!0?e.getVertexPosition(l,Ec):Ec.fromBufferAttribute(o,l),Ec.applyMatrix4(e.matrixWorld),this.expandByPoint(Ec);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Mx.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),Mx.copy(r.boundingBox)),Mx.applyMatrix4(e.matrixWorld),this.union(Mx)}const a=e.children;for(let o=0,l=a.length;o<l;o++)this.expandByObject(a[o],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Ec),Ec.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(jy),Tx.subVectors(this.max,jy),Vg.subVectors(e.a,jy),jg.subVectors(e.b,jy),Wg.subVectors(e.c,jy),ah.subVectors(jg,Vg),oh.subVectors(Wg,jg),Mp.subVectors(Vg,Wg);let t=[0,-ah.z,ah.y,0,-oh.z,oh.y,0,-Mp.z,Mp.y,ah.z,0,-ah.x,oh.z,0,-oh.x,Mp.z,0,-Mp.x,-ah.y,ah.x,0,-oh.y,oh.x,0,-Mp.y,Mp.x,0];return!YM(t,Vg,jg,Wg,Tx)||(t=[1,0,0,0,1,0,0,0,1],!YM(t,Vg,jg,Wg,Tx))?!1:(Rx.crossVectors(ah,oh),t=[Rx.x,Rx.y,Rx.z],YM(t,Vg,jg,Wg,Tx))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ec).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Ec).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Nf[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Nf[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Nf[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Nf[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Nf[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Nf[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Nf[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Nf[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Nf),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Nf=[new be,new be,new be,new be,new be,new be,new be,new be],Ec=new be,Mx=new po,Vg=new be,jg=new be,Wg=new be,ah=new be,oh=new be,Mp=new be,jy=new be,Tx=new be,Rx=new be,Tp=new be;function YM(n,e,t,r,a){for(let o=0,l=n.length-3;o<=l;o+=3){Tp.fromArray(n,o);const s=a.x*Math.abs(Tp.x)+a.y*Math.abs(Tp.y)+a.z*Math.abs(Tp.z),u=e.dot(Tp),d=t.dot(Tp),g=r.dot(Tp);if(Math.max(-Math.max(u,d,g),Math.min(u,d,g))>s)return!1}return!0}const fre=new po,Wy=new be,qM=new be;class mo{constructor(e=new be,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):fre.setFromPoints(e).getCenter(r);let a=0;for(let o=0,l=e.length;o<l;o++)a=Math.max(a,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(a),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Wy.subVectors(e,this.center);const t=Wy.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),a=(r-this.radius)*.5;this.center.addScaledVector(Wy,a/r),this.radius+=a}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(qM.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Wy.copy(e.center).add(qM)),this.expandByPoint(Wy.copy(e.center).sub(qM))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const zf=new be,KM=new be,Ox=new be,sh=new be,JM=new be,Ix=new be,QM=new be;class $m{constructor(e=new be,t=new be(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,zf)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=zf.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(zf.copy(this.origin).addScaledVector(this.direction,t),zf.distanceToSquared(e))}distanceSqToSegment(e,t,r,a){KM.copy(e).add(t).multiplyScalar(.5),Ox.copy(t).sub(e).normalize(),sh.copy(this.origin).sub(KM);const o=e.distanceTo(t)*.5,l=-this.direction.dot(Ox),s=sh.dot(this.direction),u=-sh.dot(Ox),d=sh.lengthSq(),g=Math.abs(1-l*l);let y,_,C,c;if(g>0)if(y=l*u-s,_=l*s-u,c=o*g,y>=0)if(_>=-c)if(_<=c){const p=1/g;y*=p,_*=p,C=y*(y+l*_+2*s)+_*(l*y+_+2*u)+d}else _=o,y=Math.max(0,-(l*_+s)),C=-y*y+_*(_+2*u)+d;else _=-o,y=Math.max(0,-(l*_+s)),C=-y*y+_*(_+2*u)+d;else _<=-c?(y=Math.max(0,-(-l*o+s)),_=y>0?-o:Math.min(Math.max(-o,-u),o),C=-y*y+_*(_+2*u)+d):_<=c?(y=0,_=Math.min(Math.max(-o,-u),o),C=_*(_+2*u)+d):(y=Math.max(0,-(l*o+s)),_=y>0?o:Math.min(Math.max(-o,-u),o),C=-y*y+_*(_+2*u)+d);else _=l>0?-o:o,y=Math.max(0,-(l*_+s)),C=-y*y+_*(_+2*u)+d;return r&&r.copy(this.origin).addScaledVector(this.direction,y),a&&a.copy(KM).addScaledVector(Ox,_),C}intersectSphere(e,t){zf.subVectors(e.center,this.origin);const r=zf.dot(this.direction),a=zf.dot(zf)-r*r,o=e.radius*e.radius;if(a>o)return null;const l=Math.sqrt(o-a),s=r-l,u=r+l;return u<0?null:s<0?this.at(u,t):this.at(s,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,a,o,l,s,u;const d=1/this.direction.x,g=1/this.direction.y,y=1/this.direction.z,_=this.origin;return d>=0?(r=(e.min.x-_.x)*d,a=(e.max.x-_.x)*d):(r=(e.max.x-_.x)*d,a=(e.min.x-_.x)*d),g>=0?(o=(e.min.y-_.y)*g,l=(e.max.y-_.y)*g):(o=(e.max.y-_.y)*g,l=(e.min.y-_.y)*g),r>l||o>a||((o>r||isNaN(r))&&(r=o),(l<a||isNaN(a))&&(a=l),y>=0?(s=(e.min.z-_.z)*y,u=(e.max.z-_.z)*y):(s=(e.max.z-_.z)*y,u=(e.min.z-_.z)*y),r>u||s>a)||((s>r||r!==r)&&(r=s),(u<a||a!==a)&&(a=u),a<0)?null:this.at(r>=0?r:a,t)}intersectsBox(e){return this.intersectBox(e,zf)!==null}intersectTriangle(e,t,r,a,o){JM.subVectors(t,e),Ix.subVectors(r,e),QM.crossVectors(JM,Ix);let l=this.direction.dot(QM),s;if(l>0){if(a)return null;s=1}else if(l<0)s=-1,l=-l;else return null;sh.subVectors(this.origin,e);const u=s*this.direction.dot(Ix.crossVectors(sh,Ix));if(u<0)return null;const d=s*this.direction.dot(JM.cross(sh));if(d<0||u+d>l)return null;const g=-s*sh.dot(QM);return g<0?null:this.at(g/l,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Pn{constructor(e,t,r,a,o,l,s,u,d,g,y,_,C,c,p,m){Pn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,r,a,o,l,s,u,d,g,y,_,C,c,p,m)}set(e,t,r,a,o,l,s,u,d,g,y,_,C,c,p,m){const b=this.elements;return b[0]=e,b[4]=t,b[8]=r,b[12]=a,b[1]=o,b[5]=l,b[9]=s,b[13]=u,b[2]=d,b[6]=g,b[10]=y,b[14]=_,b[3]=C,b[7]=c,b[11]=p,b[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Pn().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,a=1/Xg.setFromMatrixColumn(e,0).length(),o=1/Xg.setFromMatrixColumn(e,1).length(),l=1/Xg.setFromMatrixColumn(e,2).length();return t[0]=r[0]*a,t[1]=r[1]*a,t[2]=r[2]*a,t[3]=0,t[4]=r[4]*o,t[5]=r[5]*o,t[6]=r[6]*o,t[7]=0,t[8]=r[8]*l,t[9]=r[9]*l,t[10]=r[10]*l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,a=e.y,o=e.z,l=Math.cos(r),s=Math.sin(r),u=Math.cos(a),d=Math.sin(a),g=Math.cos(o),y=Math.sin(o);if(e.order==="XYZ"){const _=l*g,C=l*y,c=s*g,p=s*y;t[0]=u*g,t[4]=-u*y,t[8]=d,t[1]=C+c*d,t[5]=_-p*d,t[9]=-s*u,t[2]=p-_*d,t[6]=c+C*d,t[10]=l*u}else if(e.order==="YXZ"){const _=u*g,C=u*y,c=d*g,p=d*y;t[0]=_+p*s,t[4]=c*s-C,t[8]=l*d,t[1]=l*y,t[5]=l*g,t[9]=-s,t[2]=C*s-c,t[6]=p+_*s,t[10]=l*u}else if(e.order==="ZXY"){const _=u*g,C=u*y,c=d*g,p=d*y;t[0]=_-p*s,t[4]=-l*y,t[8]=c+C*s,t[1]=C+c*s,t[5]=l*g,t[9]=p-_*s,t[2]=-l*d,t[6]=s,t[10]=l*u}else if(e.order==="ZYX"){const _=l*g,C=l*y,c=s*g,p=s*y;t[0]=u*g,t[4]=c*d-C,t[8]=_*d+p,t[1]=u*y,t[5]=p*d+_,t[9]=C*d-c,t[2]=-d,t[6]=s*u,t[10]=l*u}else if(e.order==="YZX"){const _=l*u,C=l*d,c=s*u,p=s*d;t[0]=u*g,t[4]=p-_*y,t[8]=c*y+C,t[1]=y,t[5]=l*g,t[9]=-s*g,t[2]=-d*g,t[6]=C*y+c,t[10]=_-p*y}else if(e.order==="XZY"){const _=l*u,C=l*d,c=s*u,p=s*d;t[0]=u*g,t[4]=-y,t[8]=d*g,t[1]=_*y+p,t[5]=l*g,t[9]=C*y-c,t[2]=c*y-C,t[6]=s*g,t[10]=p*y+_}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(dre,e,hre)}lookAt(e,t,r){const a=this.elements;return Ys.subVectors(e,t),Ys.lengthSq()===0&&(Ys.z=1),Ys.normalize(),lh.crossVectors(r,Ys),lh.lengthSq()===0&&(Math.abs(r.z)===1?Ys.x+=1e-4:Ys.z+=1e-4,Ys.normalize(),lh.crossVectors(r,Ys)),lh.normalize(),Bx.crossVectors(Ys,lh),a[0]=lh.x,a[4]=Bx.x,a[8]=Ys.x,a[1]=lh.y,a[5]=Bx.y,a[9]=Ys.y,a[2]=lh.z,a[6]=Bx.z,a[10]=Ys.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,a=t.elements,o=this.elements,l=r[0],s=r[4],u=r[8],d=r[12],g=r[1],y=r[5],_=r[9],C=r[13],c=r[2],p=r[6],m=r[10],b=r[14],E=r[3],T=r[7],R=r[11],O=r[15],D=a[0],P=a[4],F=a[8],U=a[12],z=a[1],$=a[5],J=a[9],W=a[13],Z=a[2],oe=a[6],Y=a[10],K=a[14],ee=a[3],ue=a[7],q=a[11],ie=a[15];return o[0]=l*D+s*z+u*Z+d*ee,o[4]=l*P+s*$+u*oe+d*ue,o[8]=l*F+s*J+u*Y+d*q,o[12]=l*U+s*W+u*K+d*ie,o[1]=g*D+y*z+_*Z+C*ee,o[5]=g*P+y*$+_*oe+C*ue,o[9]=g*F+y*J+_*Y+C*q,o[13]=g*U+y*W+_*K+C*ie,o[2]=c*D+p*z+m*Z+b*ee,o[6]=c*P+p*$+m*oe+b*ue,o[10]=c*F+p*J+m*Y+b*q,o[14]=c*U+p*W+m*K+b*ie,o[3]=E*D+T*z+R*Z+O*ee,o[7]=E*P+T*$+R*oe+O*ue,o[11]=E*F+T*J+R*Y+O*q,o[15]=E*U+T*W+R*K+O*ie,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],a=e[8],o=e[12],l=e[1],s=e[5],u=e[9],d=e[13],g=e[2],y=e[6],_=e[10],C=e[14],c=e[3],p=e[7],m=e[11],b=e[15];return c*(+o*u*y-a*d*y-o*s*_+r*d*_+a*s*C-r*u*C)+p*(+t*u*C-t*d*_+o*l*_-a*l*C+a*d*g-o*u*g)+m*(+t*d*y-t*s*C-o*l*y+r*l*C+o*s*g-r*d*g)+b*(-a*s*g-t*u*y+t*s*_+a*l*y-r*l*_+r*u*g)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const a=this.elements;return e.isVector3?(a[12]=e.x,a[13]=e.y,a[14]=e.z):(a[12]=e,a[13]=t,a[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],a=e[2],o=e[3],l=e[4],s=e[5],u=e[6],d=e[7],g=e[8],y=e[9],_=e[10],C=e[11],c=e[12],p=e[13],m=e[14],b=e[15],E=y*m*d-p*_*d+p*u*C-s*m*C-y*u*b+s*_*b,T=c*_*d-g*m*d-c*u*C+l*m*C+g*u*b-l*_*b,R=g*p*d-c*y*d+c*s*C-l*p*C-g*s*b+l*y*b,O=c*y*u-g*p*u-c*s*_+l*p*_+g*s*m-l*y*m,D=t*E+r*T+a*R+o*O;if(D===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const P=1/D;return e[0]=E*P,e[1]=(p*_*o-y*m*o-p*a*C+r*m*C+y*a*b-r*_*b)*P,e[2]=(s*m*o-p*u*o+p*a*d-r*m*d-s*a*b+r*u*b)*P,e[3]=(y*u*o-s*_*o-y*a*d+r*_*d+s*a*C-r*u*C)*P,e[4]=T*P,e[5]=(g*m*o-c*_*o+c*a*C-t*m*C-g*a*b+t*_*b)*P,e[6]=(c*u*o-l*m*o-c*a*d+t*m*d+l*a*b-t*u*b)*P,e[7]=(l*_*o-g*u*o+g*a*d-t*_*d-l*a*C+t*u*C)*P,e[8]=R*P,e[9]=(c*y*o-g*p*o-c*r*C+t*p*C+g*r*b-t*y*b)*P,e[10]=(l*p*o-c*s*o+c*r*d-t*p*d-l*r*b+t*s*b)*P,e[11]=(g*s*o-l*y*o-g*r*d+t*y*d+l*r*C-t*s*C)*P,e[12]=O*P,e[13]=(g*p*a-c*y*a+c*r*_-t*p*_-g*r*m+t*y*m)*P,e[14]=(c*s*a-l*p*a-c*r*u+t*p*u+l*r*m-t*s*m)*P,e[15]=(l*y*a-g*s*a+g*r*u-t*y*u-l*r*_+t*s*_)*P,this}scale(e){const t=this.elements,r=e.x,a=e.y,o=e.z;return t[0]*=r,t[4]*=a,t[8]*=o,t[1]*=r,t[5]*=a,t[9]*=o,t[2]*=r,t[6]*=a,t[10]*=o,t[3]*=r,t[7]*=a,t[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],a=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,a))}makeTranslation(e,t,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),a=Math.sin(t),o=1-r,l=e.x,s=e.y,u=e.z,d=o*l,g=o*s;return this.set(d*l+r,d*s-a*u,d*u+a*s,0,d*s+a*u,g*s+r,g*u-a*l,0,d*u-a*s,g*u+a*l,o*u*u+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,a,o,l){return this.set(1,r,o,0,e,1,l,0,t,a,1,0,0,0,0,1),this}compose(e,t,r){const a=this.elements,o=t._x,l=t._y,s=t._z,u=t._w,d=o+o,g=l+l,y=s+s,_=o*d,C=o*g,c=o*y,p=l*g,m=l*y,b=s*y,E=u*d,T=u*g,R=u*y,O=r.x,D=r.y,P=r.z;return a[0]=(1-(p+b))*O,a[1]=(C+R)*O,a[2]=(c-T)*O,a[3]=0,a[4]=(C-R)*D,a[5]=(1-(_+b))*D,a[6]=(m+E)*D,a[7]=0,a[8]=(c+T)*P,a[9]=(m-E)*P,a[10]=(1-(_+p))*P,a[11]=0,a[12]=e.x,a[13]=e.y,a[14]=e.z,a[15]=1,this}decompose(e,t,r){const a=this.elements;let o=Xg.set(a[0],a[1],a[2]).length();const l=Xg.set(a[4],a[5],a[6]).length(),s=Xg.set(a[8],a[9],a[10]).length();this.determinant()<0&&(o=-o),e.x=a[12],e.y=a[13],e.z=a[14],wc.copy(this);const d=1/o,g=1/l,y=1/s;return wc.elements[0]*=d,wc.elements[1]*=d,wc.elements[2]*=d,wc.elements[4]*=g,wc.elements[5]*=g,wc.elements[6]*=g,wc.elements[8]*=y,wc.elements[9]*=y,wc.elements[10]*=y,t.setFromRotationMatrix(wc),r.x=o,r.y=l,r.z=s,this}makePerspective(e,t,r,a,o,l,s=Fc){const u=this.elements,d=2*o/(t-e),g=2*o/(r-a),y=(t+e)/(t-e),_=(r+a)/(r-a);let C,c;if(s===Fc)C=-(l+o)/(l-o),c=-2*l*o/(l-o);else if(s===uS)C=-l/(l-o),c=-l*o/(l-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+s);return u[0]=d,u[4]=0,u[8]=y,u[12]=0,u[1]=0,u[5]=g,u[9]=_,u[13]=0,u[2]=0,u[6]=0,u[10]=C,u[14]=c,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(e,t,r,a,o,l,s=Fc){const u=this.elements,d=1/(t-e),g=1/(r-a),y=1/(l-o),_=(t+e)*d,C=(r+a)*g;let c,p;if(s===Fc)c=(l+o)*y,p=-2*y;else if(s===uS)c=o*y,p=-1*y;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+s);return u[0]=2*d,u[4]=0,u[8]=0,u[12]=-_,u[1]=0,u[5]=2*g,u[9]=0,u[13]=-C,u[2]=0,u[6]=0,u[10]=p,u[14]=-c,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let a=0;a<16;a++)if(t[a]!==r[a])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const Xg=new be,wc=new Pn,dre=new be(0,0,0),hre=new be(1,1,1),lh=new be,Bx=new be,Ys=new be,$L=new Pn,VL=new Ja;class al{constructor(e=0,t=0,r=0,a=al.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=a}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,a=this._order){return this._x=e,this._y=t,this._z=r,this._order=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const a=e.elements,o=a[0],l=a[4],s=a[8],u=a[1],d=a[5],g=a[9],y=a[2],_=a[6],C=a[10];switch(t){case"XYZ":this._y=Math.asin(Jn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-g,C),this._z=Math.atan2(-l,o)):(this._x=Math.atan2(_,d),this._z=0);break;case"YXZ":this._x=Math.asin(-Jn(g,-1,1)),Math.abs(g)<.9999999?(this._y=Math.atan2(s,C),this._z=Math.atan2(u,d)):(this._y=Math.atan2(-y,o),this._z=0);break;case"ZXY":this._x=Math.asin(Jn(_,-1,1)),Math.abs(_)<.9999999?(this._y=Math.atan2(-y,C),this._z=Math.atan2(-l,d)):(this._y=0,this._z=Math.atan2(u,o));break;case"ZYX":this._y=Math.asin(-Jn(y,-1,1)),Math.abs(y)<.9999999?(this._x=Math.atan2(_,C),this._z=Math.atan2(u,o)):(this._x=0,this._z=Math.atan2(-l,d));break;case"YZX":this._z=Math.asin(Jn(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-g,d),this._y=Math.atan2(-y,o)):(this._x=0,this._y=Math.atan2(s,C));break;case"XZY":this._z=Math.asin(-Jn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(_,d),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-g,C),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return $L.makeRotationFromQuaternion(e),this.setFromRotationMatrix($L,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return VL.setFromEuler(this),this.setFromQuaternion(VL,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}al.DEFAULT_ORDER="XYZ";class v0{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let pre=0;const jL=new be,Yg=new Ja,Uf=new Pn,Dx=new be,Xy=new be,mre=new be,gre=new Ja,WL=new be(1,0,0),XL=new be(0,1,0),YL=new be(0,0,1),qL={type:"added"},vre={type:"removed"},qg={type:"childadded",child:null},ZM={type:"childremoved",child:null};class Bi extends sf{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:pre++}),this.uuid=il(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Bi.DEFAULT_UP.clone();const e=new be,t=new al,r=new Ja,a=new be(1,1,1);function o(){r.setFromEuler(t,!1)}function l(){t.setFromQuaternion(r,void 0,!1)}t._onChange(o),r._onChange(l),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:a},modelViewMatrix:{value:new Pn},normalMatrix:{value:new ti}}),this.matrix=new Pn,this.matrixWorld=new Pn,this.matrixAutoUpdate=Bi.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Bi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new v0,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Yg.setFromAxisAngle(e,t),this.quaternion.multiply(Yg),this}rotateOnWorldAxis(e,t){return Yg.setFromAxisAngle(e,t),this.quaternion.premultiply(Yg),this}rotateX(e){return this.rotateOnAxis(WL,e)}rotateY(e){return this.rotateOnAxis(XL,e)}rotateZ(e){return this.rotateOnAxis(YL,e)}translateOnAxis(e,t){return jL.copy(e).applyQuaternion(this.quaternion),this.position.add(jL.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(WL,e)}translateY(e){return this.translateOnAxis(XL,e)}translateZ(e){return this.translateOnAxis(YL,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Uf.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?Dx.copy(e):Dx.set(e,t,r);const a=this.parent;this.updateWorldMatrix(!0,!1),Xy.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Uf.lookAt(Xy,Dx,this.up):Uf.lookAt(Dx,Xy,this.up),this.quaternion.setFromRotationMatrix(Uf),a&&(Uf.extractRotation(a.matrixWorld),Yg.setFromRotationMatrix(Uf),this.quaternion.premultiply(Yg.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(qL),qg.child=e,this.dispatchEvent(qg),qg.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(vre),ZM.child=e,this.dispatchEvent(ZM),ZM.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Uf.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Uf.multiply(e.parent.matrixWorld)),e.applyMatrix4(Uf),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(qL),qg.child=e,this.dispatchEvent(qg),qg.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,a=this.children.length;r<a;r++){const l=this.children[r].getObjectByProperty(e,t);if(l!==void 0)return l}}getObjectsByProperty(e,t,r=[]){this[e]===t&&r.push(this);const a=this.children;for(let o=0,l=a.length;o<l;o++)a[o].getObjectsByProperty(e,t,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Xy,e,mre),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Xy,gre,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,a=t.length;r<a;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,a=t.length;r<a;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,a=t.length;r<a;r++)t[r].updateMatrixWorld(e)}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const a=this.children;for(let o=0,l=a.length;o<l;o++)a[o].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const a={};a.uuid=this.uuid,a.type=this.type,this.name!==""&&(a.name=this.name),this.castShadow===!0&&(a.castShadow=!0),this.receiveShadow===!0&&(a.receiveShadow=!0),this.visible===!1&&(a.visible=!1),this.frustumCulled===!1&&(a.frustumCulled=!1),this.renderOrder!==0&&(a.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(a.userData=this.userData),a.layers=this.layers.mask,a.matrix=this.matrix.toArray(),a.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(a.matrixAutoUpdate=!1),this.isInstancedMesh&&(a.type="InstancedMesh",a.count=this.count,a.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(a.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(a.type="BatchedMesh",a.perObjectFrustumCulled=this.perObjectFrustumCulled,a.sortObjects=this.sortObjects,a.drawRanges=this._drawRanges,a.reservedRanges=this._reservedRanges,a.visibility=this._visibility,a.active=this._active,a.bounds=this._bounds.map(s=>({boxInitialized:s.boxInitialized,boxMin:s.box.min.toArray(),boxMax:s.box.max.toArray(),sphereInitialized:s.sphereInitialized,sphereRadius:s.sphere.radius,sphereCenter:s.sphere.center.toArray()})),a.maxInstanceCount=this._maxInstanceCount,a.maxVertexCount=this._maxVertexCount,a.maxIndexCount=this._maxIndexCount,a.geometryInitialized=this._geometryInitialized,a.geometryCount=this._geometryCount,a.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(a.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(a.boundingSphere={center:a.boundingSphere.center.toArray(),radius:a.boundingSphere.radius}),this.boundingBox!==null&&(a.boundingBox={min:a.boundingBox.min.toArray(),max:a.boundingBox.max.toArray()}));function o(s,u){return s[u.uuid]===void 0&&(s[u.uuid]=u.toJSON(e)),u.uuid}if(this.isScene)this.background&&(this.background.isColor?a.background=this.background.toJSON():this.background.isTexture&&(a.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(a.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){a.geometry=o(e.geometries,this.geometry);const s=this.geometry.parameters;if(s!==void 0&&s.shapes!==void 0){const u=s.shapes;if(Array.isArray(u))for(let d=0,g=u.length;d<g;d++){const y=u[d];o(e.shapes,y)}else o(e.shapes,u)}}if(this.isSkinnedMesh&&(a.bindMode=this.bindMode,a.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),a.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const s=[];for(let u=0,d=this.material.length;u<d;u++)s.push(o(e.materials,this.material[u]));a.material=s}else a.material=o(e.materials,this.material);if(this.children.length>0){a.children=[];for(let s=0;s<this.children.length;s++)a.children.push(this.children[s].toJSON(e).object)}if(this.animations.length>0){a.animations=[];for(let s=0;s<this.animations.length;s++){const u=this.animations[s];a.animations.push(o(e.animations,u))}}if(t){const s=l(e.geometries),u=l(e.materials),d=l(e.textures),g=l(e.images),y=l(e.shapes),_=l(e.skeletons),C=l(e.animations),c=l(e.nodes);s.length>0&&(r.geometries=s),u.length>0&&(r.materials=u),d.length>0&&(r.textures=d),g.length>0&&(r.images=g),y.length>0&&(r.shapes=y),_.length>0&&(r.skeletons=_),C.length>0&&(r.animations=C),c.length>0&&(r.nodes=c)}return r.object=a,r;function l(s){const u=[];for(const d in s){const g=s[d];delete g.metadata,u.push(g)}return u}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const a=e.children[r];this.add(a.clone())}return this}}Bi.DEFAULT_UP=new be(0,1,0);Bi.DEFAULT_MATRIX_AUTO_UPDATE=!0;Bi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Ac=new be,Ff=new be,eT=new be,Hf=new be,Kg=new be,Jg=new be,KL=new be,tT=new be,nT=new be,iT=new be,rT=new Gi,aT=new Gi,oT=new Gi;class Ts{constructor(e=new be,t=new be,r=new be){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,a){a.subVectors(r,t),Ac.subVectors(e,t),a.cross(Ac);const o=a.lengthSq();return o>0?a.multiplyScalar(1/Math.sqrt(o)):a.set(0,0,0)}static getBarycoord(e,t,r,a,o){Ac.subVectors(a,t),Ff.subVectors(r,t),eT.subVectors(e,t);const l=Ac.dot(Ac),s=Ac.dot(Ff),u=Ac.dot(eT),d=Ff.dot(Ff),g=Ff.dot(eT),y=l*d-s*s;if(y===0)return o.set(0,0,0),null;const _=1/y,C=(d*u-s*g)*_,c=(l*g-s*u)*_;return o.set(1-C-c,c,C)}static containsPoint(e,t,r,a){return this.getBarycoord(e,t,r,a,Hf)===null?!1:Hf.x>=0&&Hf.y>=0&&Hf.x+Hf.y<=1}static getInterpolation(e,t,r,a,o,l,s,u){return this.getBarycoord(e,t,r,a,Hf)===null?(u.x=0,u.y=0,"z"in u&&(u.z=0),"w"in u&&(u.w=0),null):(u.setScalar(0),u.addScaledVector(o,Hf.x),u.addScaledVector(l,Hf.y),u.addScaledVector(s,Hf.z),u)}static getInterpolatedAttribute(e,t,r,a,o,l){return rT.setScalar(0),aT.setScalar(0),oT.setScalar(0),rT.fromBufferAttribute(e,t),aT.fromBufferAttribute(e,r),oT.fromBufferAttribute(e,a),l.setScalar(0),l.addScaledVector(rT,o.x),l.addScaledVector(aT,o.y),l.addScaledVector(oT,o.z),l}static isFrontFacing(e,t,r,a){return Ac.subVectors(r,t),Ff.subVectors(e,t),Ac.cross(Ff).dot(a)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,a){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[a]),this}setFromAttributeAndIndices(e,t,r,a){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,a),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ac.subVectors(this.c,this.b),Ff.subVectors(this.a,this.b),Ac.cross(Ff).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ts.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Ts.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,r,a,o){return Ts.getInterpolation(e,this.a,this.b,this.c,t,r,a,o)}containsPoint(e){return Ts.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ts.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,a=this.b,o=this.c;let l,s;Kg.subVectors(a,r),Jg.subVectors(o,r),tT.subVectors(e,r);const u=Kg.dot(tT),d=Jg.dot(tT);if(u<=0&&d<=0)return t.copy(r);nT.subVectors(e,a);const g=Kg.dot(nT),y=Jg.dot(nT);if(g>=0&&y<=g)return t.copy(a);const _=u*y-g*d;if(_<=0&&u>=0&&g<=0)return l=u/(u-g),t.copy(r).addScaledVector(Kg,l);iT.subVectors(e,o);const C=Kg.dot(iT),c=Jg.dot(iT);if(c>=0&&C<=c)return t.copy(o);const p=C*d-u*c;if(p<=0&&d>=0&&c<=0)return s=d/(d-c),t.copy(r).addScaledVector(Jg,s);const m=g*c-C*y;if(m<=0&&y-g>=0&&C-c>=0)return KL.subVectors(o,a),s=(y-g)/(y-g+(C-c)),t.copy(a).addScaledVector(KL,s);const b=1/(m+p+_);return l=p*b,s=_*b,t.copy(r).addScaledVector(Kg,l).addScaledVector(Jg,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const F8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ch={h:0,s:0,l:0},Px={h:0,s:0,l:0};function sT(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class en{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,r)}set(e,t,r){if(t===void 0&&r===void 0){const a=e;a&&a.isColor?this.copy(a):typeof a=="number"?this.setHex(a):typeof a=="string"&&this.setStyle(a)}else this.setRGB(e,t,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Do){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Ii.toWorkingColorSpace(this,t),this}setRGB(e,t,r,a=Ii.workingColorSpace){return this.r=e,this.g=t,this.b=r,Ii.toWorkingColorSpace(this,a),this}setHSL(e,t,r,a=Ii.workingColorSpace){if(e=vI(e,1),t=Jn(t,0,1),r=Jn(r,0,1),t===0)this.r=this.g=this.b=r;else{const o=r<=.5?r*(1+t):r+t-r*t,l=2*r-o;this.r=sT(l,o,e+1/3),this.g=sT(l,o,e),this.b=sT(l,o,e-1/3)}return Ii.toWorkingColorSpace(this,a),this}setStyle(e,t=Do){function r(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let a;if(a=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const l=a[1],s=a[2];switch(l){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,t);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,t);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(a=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=a[1],l=o.length;if(l===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,t);if(l===6)return this.setHex(parseInt(o,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Do){const r=F8[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=fd(e.r),this.g=fd(e.g),this.b=fd(e.b),this}copyLinearToSRGB(e){return this.r=Qv(e.r),this.g=Qv(e.g),this.b=Qv(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Do){return Ii.fromWorkingColorSpace(Ro.copy(this),e),Math.round(Jn(Ro.r*255,0,255))*65536+Math.round(Jn(Ro.g*255,0,255))*256+Math.round(Jn(Ro.b*255,0,255))}getHexString(e=Do){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Ii.workingColorSpace){Ii.fromWorkingColorSpace(Ro.copy(this),t);const r=Ro.r,a=Ro.g,o=Ro.b,l=Math.max(r,a,o),s=Math.min(r,a,o);let u,d;const g=(s+l)/2;if(s===l)u=0,d=0;else{const y=l-s;switch(d=g<=.5?y/(l+s):y/(2-l-s),l){case r:u=(a-o)/y+(a<o?6:0);break;case a:u=(o-r)/y+2;break;case o:u=(r-a)/y+4;break}u/=6}return e.h=u,e.s=d,e.l=g,e}getRGB(e,t=Ii.workingColorSpace){return Ii.fromWorkingColorSpace(Ro.copy(this),t),e.r=Ro.r,e.g=Ro.g,e.b=Ro.b,e}getStyle(e=Do){Ii.fromWorkingColorSpace(Ro.copy(this),e);const t=Ro.r,r=Ro.g,a=Ro.b;return e!==Do?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${a.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(r*255)},${Math.round(a*255)})`}offsetHSL(e,t,r){return this.getHSL(ch),this.setHSL(ch.h+e,ch.s+t,ch.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(ch),e.getHSL(Px);const r=zb(ch.h,Px.h,t),a=zb(ch.s,Px.s,t),o=zb(ch.l,Px.l,t);return this.setHSL(r,a,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,a=this.b,o=e.elements;return this.r=o[0]*t+o[3]*r+o[6]*a,this.g=o[1]*t+o[4]*r+o[7]*a,this.b=o[2]*t+o[5]*r+o[8]*a,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Ro=new en;en.NAMES=F8;let yre=0;class Ia extends sf{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:yre++}),this.uuid=il(),this.name="",this.type="Material",this.blending=_m,this.side=ef,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=q1,this.blendDst=K1,this.blendEquation=_h,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new en(0,0,0),this.blendAlpha=0,this.depthFunc=Am,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=A2,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Vp,this.stencilZFail=Vp,this.stencilZPass=Vp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const a=this[t];if(a===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}a&&a.isColor?a.set(r):a&&a.isVector3&&r&&r.isVector3?a.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==_m&&(r.blending=this.blending),this.side!==ef&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==q1&&(r.blendSrc=this.blendSrc),this.blendDst!==K1&&(r.blendDst=this.blendDst),this.blendEquation!==_h&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==Am&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==A2&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Vp&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Vp&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Vp&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function a(o){const l=[];for(const s in o){const u=o[s];delete u.metadata,l.push(u)}return l}if(t){const o=a(e.textures),l=a(e.images);o.length>0&&(r.textures=o),l.length>0&&(r.images=l)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const a=t.length;r=new Array(a);for(let o=0;o!==a;++o)r[o]=t[o].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class tl extends Ia{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new en(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new al,this.combine=US,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const id=bre();function bre(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),a=new Uint32Array(512);for(let u=0;u<256;++u){const d=u-127;d<-27?(r[u]=0,r[u|256]=32768,a[u]=24,a[u|256]=24):d<-14?(r[u]=1024>>-d-14,r[u|256]=1024>>-d-14|32768,a[u]=-d-1,a[u|256]=-d-1):d<=15?(r[u]=d+15<<10,r[u|256]=d+15<<10|32768,a[u]=13,a[u|256]=13):d<128?(r[u]=31744,r[u|256]=64512,a[u]=24,a[u|256]=24):(r[u]=31744,r[u|256]=64512,a[u]=13,a[u|256]=13)}const o=new Uint32Array(2048),l=new Uint32Array(64),s=new Uint32Array(64);for(let u=1;u<1024;++u){let d=u<<13,g=0;for(;(d&8388608)===0;)d<<=1,g-=8388608;d&=-8388609,g+=947912704,o[u]=d|g}for(let u=1024;u<2048;++u)o[u]=939524096+(u-1024<<13);for(let u=1;u<31;++u)l[u]=u<<23;l[31]=1199570944,l[32]=2147483648;for(let u=33;u<63;++u)l[u]=2147483648+(u-32<<23);l[63]=3347054592;for(let u=1;u<64;++u)u!==32&&(s[u]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:a,mantissaTable:o,exponentTable:l,offsetTable:s}}function ws(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Jn(n,-65504,65504),id.floatView[0]=n;const e=id.uint32View[0],t=e>>23&511;return id.baseTable[t]+((e&8388607)>>id.shiftTable[t])}function fb(n){const e=n>>10;return id.uint32View[0]=id.mantissaTable[id.offsetTable[e]+(n&1023)]+id.exponentTable[e],id.floatView[0]}class Sre{static toHalfFloat(e){return ws(e)}static fromHalfFloat(e){return fb(e)}}const xa=new be,Lx=new Mt;let _re=0;class ki{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:_re++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=cS,this.updateRanges=[],this.gpuType=Rs,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let a=0,o=this.itemSize;a<o;a++)this.array[e+a]=t.array[r+a];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)Lx.fromBufferAttribute(this,t),Lx.applyMatrix3(e),this.setXY(t,Lx.x,Lx.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)xa.fromBufferAttribute(this,t),xa.applyMatrix3(e),this.setXYZ(t,xa.x,xa.y,xa.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)xa.fromBufferAttribute(this,t),xa.applyMatrix4(e),this.setXYZ(t,xa.x,xa.y,xa.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)xa.fromBufferAttribute(this,t),xa.applyNormalMatrix(e),this.setXYZ(t,xa.x,xa.y,xa.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)xa.fromBufferAttribute(this,t),xa.transformDirection(e),this.setXYZ(t,xa.x,xa.y,xa.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let r=this.array[e*this.itemSize+t];return this.normalized&&(r=os(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=ri(r,this.array)),this.array[e*this.itemSize+t]=r,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=os(t,this.array)),t}setX(e,t){return this.normalized&&(t=ri(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=os(t,this.array)),t}setY(e,t){return this.normalized&&(t=ri(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=os(t,this.array)),t}setZ(e,t){return this.normalized&&(t=ri(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=os(t,this.array)),t}setW(e,t){return this.normalized&&(t=ri(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=ri(t,this.array),r=ri(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,a){return e*=this.itemSize,this.normalized&&(t=ri(t,this.array),r=ri(r,this.array),a=ri(a,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=a,this}setXYZW(e,t,r,a,o){return e*=this.itemSize,this.normalized&&(t=ri(t,this.array),r=ri(r,this.array),a=ri(a,this.array),o=ri(o,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=a,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==cS&&(e.usage=this.usage),e}}class xre extends ki{constructor(e,t,r){super(new Int8Array(e),t,r)}}class Cre extends ki{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class Ere extends ki{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class wre extends ki{constructor(e,t,r){super(new Int16Array(e),t,r)}}class yI extends ki{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class Are extends ki{constructor(e,t,r){super(new Int32Array(e),t,r)}}class bI extends ki{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class Mre extends ki{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}getX(e){let t=fb(this.array[e*this.itemSize]);return this.normalized&&(t=os(t,this.array)),t}setX(e,t){return this.normalized&&(t=ri(t,this.array)),this.array[e*this.itemSize]=ws(t),this}getY(e){let t=fb(this.array[e*this.itemSize+1]);return this.normalized&&(t=os(t,this.array)),t}setY(e,t){return this.normalized&&(t=ri(t,this.array)),this.array[e*this.itemSize+1]=ws(t),this}getZ(e){let t=fb(this.array[e*this.itemSize+2]);return this.normalized&&(t=os(t,this.array)),t}setZ(e,t){return this.normalized&&(t=ri(t,this.array)),this.array[e*this.itemSize+2]=ws(t),this}getW(e){let t=fb(this.array[e*this.itemSize+3]);return this.normalized&&(t=os(t,this.array)),t}setW(e,t){return this.normalized&&(t=ri(t,this.array)),this.array[e*this.itemSize+3]=ws(t),this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=ri(t,this.array),r=ri(r,this.array)),this.array[e+0]=ws(t),this.array[e+1]=ws(r),this}setXYZ(e,t,r,a){return e*=this.itemSize,this.normalized&&(t=ri(t,this.array),r=ri(r,this.array),a=ri(a,this.array)),this.array[e+0]=ws(t),this.array[e+1]=ws(r),this.array[e+2]=ws(a),this}setXYZW(e,t,r,a,o){return e*=this.itemSize,this.normalized&&(t=ri(t,this.array),r=ri(r,this.array),a=ri(a,this.array),o=ri(o,this.array)),this.array[e+0]=ws(t),this.array[e+1]=ws(r),this.array[e+2]=ws(a),this.array[e+3]=ws(o),this}}class vn extends ki{constructor(e,t,r){super(new Float32Array(e),t,r)}}let Tre=0;const Bl=new Pn,lT=new Bi,Qg=new be,qs=new po,Yy=new po,Ya=new be;class ni extends sf{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Tre++}),this.uuid=il(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(N8(e)?bI:yI)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const o=new ti().getNormalMatrix(e);r.applyNormalMatrix(o),r.needsUpdate=!0}const a=this.attributes.tangent;return a!==void 0&&(a.transformDirection(e),a.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Bl.makeRotationFromQuaternion(e),this.applyMatrix4(Bl),this}rotateX(e){return Bl.makeRotationX(e),this.applyMatrix4(Bl),this}rotateY(e){return Bl.makeRotationY(e),this.applyMatrix4(Bl),this}rotateZ(e){return Bl.makeRotationZ(e),this.applyMatrix4(Bl),this}translate(e,t,r){return Bl.makeTranslation(e,t,r),this.applyMatrix4(Bl),this}scale(e,t,r){return Bl.makeScale(e,t,r),this.applyMatrix4(Bl),this}lookAt(e){return lT.lookAt(e),lT.updateMatrix(),this.applyMatrix4(lT.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Qg).negate(),this.translate(Qg.x,Qg.y,Qg.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const r=[];for(let a=0,o=e.length;a<o;a++){const l=e[a];r.push(l.x,l.y,l.z||0)}this.setAttribute("position",new vn(r,3))}else{const r=Math.min(e.length,t.count);for(let a=0;a<r;a++){const o=e[a];t.setXYZ(a,o.x,o.y,o.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new po);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new be(-1/0,-1/0,-1/0),new be(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,a=t.length;r<a;r++){const o=t[r];qs.setFromBufferAttribute(o),this.morphTargetsRelative?(Ya.addVectors(this.boundingBox.min,qs.min),this.boundingBox.expandByPoint(Ya),Ya.addVectors(this.boundingBox.max,qs.max),this.boundingBox.expandByPoint(Ya)):(this.boundingBox.expandByPoint(qs.min),this.boundingBox.expandByPoint(qs.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new mo);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new be,1/0);return}if(e){const r=this.boundingSphere.center;if(qs.setFromBufferAttribute(e),t)for(let o=0,l=t.length;o<l;o++){const s=t[o];Yy.setFromBufferAttribute(s),this.morphTargetsRelative?(Ya.addVectors(qs.min,Yy.min),qs.expandByPoint(Ya),Ya.addVectors(qs.max,Yy.max),qs.expandByPoint(Ya)):(qs.expandByPoint(Yy.min),qs.expandByPoint(Yy.max))}qs.getCenter(r);let a=0;for(let o=0,l=e.count;o<l;o++)Ya.fromBufferAttribute(e,o),a=Math.max(a,r.distanceToSquared(Ya));if(t)for(let o=0,l=t.length;o<l;o++){const s=t[o],u=this.morphTargetsRelative;for(let d=0,g=s.count;d<g;d++)Ya.fromBufferAttribute(s,d),u&&(Qg.fromBufferAttribute(e,d),Ya.add(Qg)),a=Math.max(a,r.distanceToSquared(Ya))}this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=t.position,a=t.normal,o=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new ki(new Float32Array(4*r.count),4));const l=this.getAttribute("tangent"),s=[],u=[];for(let F=0;F<r.count;F++)s[F]=new be,u[F]=new be;const d=new be,g=new be,y=new be,_=new Mt,C=new Mt,c=new Mt,p=new be,m=new be;function b(F,U,z){d.fromBufferAttribute(r,F),g.fromBufferAttribute(r,U),y.fromBufferAttribute(r,z),_.fromBufferAttribute(o,F),C.fromBufferAttribute(o,U),c.fromBufferAttribute(o,z),g.sub(d),y.sub(d),C.sub(_),c.sub(_);const $=1/(C.x*c.y-c.x*C.y);isFinite($)&&(p.copy(g).multiplyScalar(c.y).addScaledVector(y,-C.y).multiplyScalar($),m.copy(y).multiplyScalar(C.x).addScaledVector(g,-c.x).multiplyScalar($),s[F].add(p),s[U].add(p),s[z].add(p),u[F].add(m),u[U].add(m),u[z].add(m))}let E=this.groups;E.length===0&&(E=[{start:0,count:e.count}]);for(let F=0,U=E.length;F<U;++F){const z=E[F],$=z.start,J=z.count;for(let W=$,Z=$+J;W<Z;W+=3)b(e.getX(W+0),e.getX(W+1),e.getX(W+2))}const T=new be,R=new be,O=new be,D=new be;function P(F){O.fromBufferAttribute(a,F),D.copy(O);const U=s[F];T.copy(U),T.sub(O.multiplyScalar(O.dot(U))).normalize(),R.crossVectors(D,U);const $=R.dot(u[F])<0?-1:1;l.setXYZW(F,T.x,T.y,T.z,$)}for(let F=0,U=E.length;F<U;++F){const z=E[F],$=z.start,J=z.count;for(let W=$,Z=$+J;W<Z;W+=3)P(e.getX(W+0)),P(e.getX(W+1)),P(e.getX(W+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new ki(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let _=0,C=r.count;_<C;_++)r.setXYZ(_,0,0,0);const a=new be,o=new be,l=new be,s=new be,u=new be,d=new be,g=new be,y=new be;if(e)for(let _=0,C=e.count;_<C;_+=3){const c=e.getX(_+0),p=e.getX(_+1),m=e.getX(_+2);a.fromBufferAttribute(t,c),o.fromBufferAttribute(t,p),l.fromBufferAttribute(t,m),g.subVectors(l,o),y.subVectors(a,o),g.cross(y),s.fromBufferAttribute(r,c),u.fromBufferAttribute(r,p),d.fromBufferAttribute(r,m),s.add(g),u.add(g),d.add(g),r.setXYZ(c,s.x,s.y,s.z),r.setXYZ(p,u.x,u.y,u.z),r.setXYZ(m,d.x,d.y,d.z)}else for(let _=0,C=t.count;_<C;_+=3)a.fromBufferAttribute(t,_+0),o.fromBufferAttribute(t,_+1),l.fromBufferAttribute(t,_+2),g.subVectors(l,o),y.subVectors(a,o),g.cross(y),r.setXYZ(_+0,g.x,g.y,g.z),r.setXYZ(_+1,g.x,g.y,g.z),r.setXYZ(_+2,g.x,g.y,g.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)Ya.fromBufferAttribute(e,t),Ya.normalize(),e.setXYZ(t,Ya.x,Ya.y,Ya.z)}toNonIndexed(){function e(s,u){const d=s.array,g=s.itemSize,y=s.normalized,_=new d.constructor(u.length*g);let C=0,c=0;for(let p=0,m=u.length;p<m;p++){s.isInterleavedBufferAttribute?C=u[p]*s.data.stride+s.offset:C=u[p]*g;for(let b=0;b<g;b++)_[c++]=d[C++]}return new ki(_,g,y)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new ni,r=this.index.array,a=this.attributes;for(const s in a){const u=a[s],d=e(u,r);t.setAttribute(s,d)}const o=this.morphAttributes;for(const s in o){const u=[],d=o[s];for(let g=0,y=d.length;g<y;g++){const _=d[g],C=e(_,r);u.push(C)}t.morphAttributes[s]=u}t.morphTargetsRelative=this.morphTargetsRelative;const l=this.groups;for(let s=0,u=l.length;s<u;s++){const d=l[s];t.addGroup(d.start,d.count,d.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const u=this.parameters;for(const d in u)u[d]!==void 0&&(e[d]=u[d]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const u in r){const d=r[u];e.data.attributes[u]=d.toJSON(e.data)}const a={};let o=!1;for(const u in this.morphAttributes){const d=this.morphAttributes[u],g=[];for(let y=0,_=d.length;y<_;y++){const C=d[y];g.push(C.toJSON(e.data))}g.length>0&&(a[u]=g,o=!0)}o&&(e.data.morphAttributes=a,e.data.morphTargetsRelative=this.morphTargetsRelative);const l=this.groups;l.length>0&&(e.data.groups=JSON.parse(JSON.stringify(l)));const s=this.boundingSphere;return s!==null&&(e.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const a=e.attributes;for(const d in a){const g=a[d];this.setAttribute(d,g.clone(t))}const o=e.morphAttributes;for(const d in o){const g=[],y=o[d];for(let _=0,C=y.length;_<C;_++)g.push(y[_].clone(t));this.morphAttributes[d]=g}this.morphTargetsRelative=e.morphTargetsRelative;const l=e.groups;for(let d=0,g=l.length;d<g;d++){const y=l[d];this.addGroup(y.start,y.count,y.materialIndex)}const s=e.boundingBox;s!==null&&(this.boundingBox=s.clone());const u=e.boundingSphere;return u!==null&&(this.boundingSphere=u.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const JL=new Pn,Rp=new $m,Nx=new mo,QL=new be,zx=new be,Ux=new be,Fx=new be,cT=new be,Hx=new be,ZL=new be,Gx=new be;class pa extends Bi{constructor(e=new ni,t=new tl){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const a=t[r[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,l=a.length;o<l;o++){const s=a[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}getVertexPosition(e,t){const r=this.geometry,a=r.attributes.position,o=r.morphAttributes.position,l=r.morphTargetsRelative;t.fromBufferAttribute(a,e);const s=this.morphTargetInfluences;if(o&&s){Hx.set(0,0,0);for(let u=0,d=o.length;u<d;u++){const g=s[u],y=o[u];g!==0&&(cT.fromBufferAttribute(y,e),l?Hx.addScaledVector(cT,g):Hx.addScaledVector(cT.sub(t),g))}t.add(Hx)}return t}raycast(e,t){const r=this.geometry,a=this.material,o=this.matrixWorld;a!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),Nx.copy(r.boundingSphere),Nx.applyMatrix4(o),Rp.copy(e.ray).recast(e.near),!(Nx.containsPoint(Rp.origin)===!1&&(Rp.intersectSphere(Nx,QL)===null||Rp.origin.distanceToSquared(QL)>(e.far-e.near)**2))&&(JL.copy(o).invert(),Rp.copy(e.ray).applyMatrix4(JL),!(r.boundingBox!==null&&Rp.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,t,Rp)))}_computeIntersections(e,t,r){let a;const o=this.geometry,l=this.material,s=o.index,u=o.attributes.position,d=o.attributes.uv,g=o.attributes.uv1,y=o.attributes.normal,_=o.groups,C=o.drawRange;if(s!==null)if(Array.isArray(l))for(let c=0,p=_.length;c<p;c++){const m=_[c],b=l[m.materialIndex],E=Math.max(m.start,C.start),T=Math.min(s.count,Math.min(m.start+m.count,C.start+C.count));for(let R=E,O=T;R<O;R+=3){const D=s.getX(R),P=s.getX(R+1),F=s.getX(R+2);a=kx(this,b,e,r,d,g,y,D,P,F),a&&(a.faceIndex=Math.floor(R/3),a.face.materialIndex=m.materialIndex,t.push(a))}}else{const c=Math.max(0,C.start),p=Math.min(s.count,C.start+C.count);for(let m=c,b=p;m<b;m+=3){const E=s.getX(m),T=s.getX(m+1),R=s.getX(m+2);a=kx(this,l,e,r,d,g,y,E,T,R),a&&(a.faceIndex=Math.floor(m/3),t.push(a))}}else if(u!==void 0)if(Array.isArray(l))for(let c=0,p=_.length;c<p;c++){const m=_[c],b=l[m.materialIndex],E=Math.max(m.start,C.start),T=Math.min(u.count,Math.min(m.start+m.count,C.start+C.count));for(let R=E,O=T;R<O;R+=3){const D=R,P=R+1,F=R+2;a=kx(this,b,e,r,d,g,y,D,P,F),a&&(a.faceIndex=Math.floor(R/3),a.face.materialIndex=m.materialIndex,t.push(a))}}else{const c=Math.max(0,C.start),p=Math.min(u.count,C.start+C.count);for(let m=c,b=p;m<b;m+=3){const E=m,T=m+1,R=m+2;a=kx(this,l,e,r,d,g,y,E,T,R),a&&(a.faceIndex=Math.floor(m/3),t.push(a))}}}}function Rre(n,e,t,r,a,o,l,s){let u;if(e.side===ss?u=r.intersectTriangle(l,o,a,!0,s):u=r.intersectTriangle(a,o,l,e.side===ef,s),u===null)return null;Gx.copy(s),Gx.applyMatrix4(n.matrixWorld);const d=t.ray.origin.distanceTo(Gx);return d<t.near||d>t.far?null:{distance:d,point:Gx.clone(),object:n}}function kx(n,e,t,r,a,o,l,s,u,d){n.getVertexPosition(s,zx),n.getVertexPosition(u,Ux),n.getVertexPosition(d,Fx);const g=Rre(n,e,t,r,zx,Ux,Fx,ZL);if(g){const y=new be;Ts.getBarycoord(ZL,zx,Ux,Fx,y),a&&(g.uv=Ts.getInterpolatedAttribute(a,s,u,d,y,new Mt)),o&&(g.uv1=Ts.getInterpolatedAttribute(o,s,u,d,y,new Mt)),l&&(g.normal=Ts.getInterpolatedAttribute(l,s,u,d,y,new be),g.normal.dot(r.direction)>0&&g.normal.multiplyScalar(-1));const _={a:s,b:u,c:d,normal:new be,materialIndex:0};Ts.getNormal(zx,Ux,Fx,_.normal),g.face=_,g.barycoord=y}return g}class Vm extends ni{constructor(e=1,t=1,r=1,a=1,o=1,l=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:a,heightSegments:o,depthSegments:l};const s=this;a=Math.floor(a),o=Math.floor(o),l=Math.floor(l);const u=[],d=[],g=[],y=[];let _=0,C=0;c("z","y","x",-1,-1,r,t,e,l,o,0),c("z","y","x",1,-1,r,t,-e,l,o,1),c("x","z","y",1,1,e,r,t,a,l,2),c("x","z","y",1,-1,e,r,-t,a,l,3),c("x","y","z",1,-1,e,t,r,a,o,4),c("x","y","z",-1,-1,e,t,-r,a,o,5),this.setIndex(u),this.setAttribute("position",new vn(d,3)),this.setAttribute("normal",new vn(g,3)),this.setAttribute("uv",new vn(y,2));function c(p,m,b,E,T,R,O,D,P,F,U){const z=R/P,$=O/F,J=R/2,W=O/2,Z=D/2,oe=P+1,Y=F+1;let K=0,ee=0;const ue=new be;for(let q=0;q<Y;q++){const ie=q*$-W;for(let me=0;me<oe;me++){const de=me*z-J;ue[p]=de*E,ue[m]=ie*T,ue[b]=Z,d.push(ue.x,ue.y,ue.z),ue[p]=0,ue[m]=0,ue[b]=D>0?1:-1,g.push(ue.x,ue.y,ue.z),y.push(me/P),y.push(1-q/F),K+=1}}for(let q=0;q<F;q++)for(let ie=0;ie<P;ie++){const me=_+ie+oe*q,de=_+ie+oe*(q+1),Q=_+(ie+1)+oe*(q+1),he=_+(ie+1)+oe*q;u.push(me,de,he),u.push(de,Q,he),ee+=6}s.addGroup(C,ee,U),C+=ee,_+=K}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Vm(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function y0(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const a=n[t][r];a&&(a.isColor||a.isMatrix3||a.isMatrix4||a.isVector2||a.isVector3||a.isVector4||a.isTexture||a.isQuaternion)?a.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][r]=null):e[t][r]=a.clone():Array.isArray(a)?e[t][r]=a.slice():e[t][r]=a}}return e}function ns(n){const e={};for(let t=0;t<n.length;t++){const r=y0(n[t]);for(const a in r)e[a]=r[a]}return e}function Ore(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function H8(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Ii.workingColorSpace}const G8={clone:y0,merge:ns};var Ire=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Bre=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class jc extends Ia{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Ire,this.fragmentShader=Bre,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=y0(e.uniforms),this.uniformsGroups=Ore(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const a in this.uniforms){const l=this.uniforms[a].value;l&&l.isTexture?t.uniforms[a]={type:"t",value:l.toJSON(e).uuid}:l&&l.isColor?t.uniforms[a]={type:"c",value:l.getHex()}:l&&l.isVector2?t.uniforms[a]={type:"v2",value:l.toArray()}:l&&l.isVector3?t.uniforms[a]={type:"v3",value:l.toArray()}:l&&l.isVector4?t.uniforms[a]={type:"v4",value:l.toArray()}:l&&l.isMatrix3?t.uniforms[a]={type:"m3",value:l.toArray()}:l&&l.isMatrix4?t.uniforms[a]={type:"m4",value:l.toArray()}:t.uniforms[a]={value:l}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const r={};for(const a in this.extensions)this.extensions[a]===!0&&(r[a]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class jw extends Bi{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Pn,this.projectionMatrix=new Pn,this.projectionMatrixInverse=new Pn,this.coordinateSystem=Fc}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const uh=new be,e3=new Mt,t3=new Mt;class jr extends jw{constructor(e=50,t=1,r=.1,a=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=a,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=g0*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Cm*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return g0*2*Math.atan(Math.tan(Cm*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,r){uh.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(uh.x,uh.y).multiplyScalar(-e/uh.z),uh.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(uh.x,uh.y).multiplyScalar(-e/uh.z)}getViewSize(e,t){return this.getViewBounds(e,e3,t3),t.subVectors(t3,e3)}setViewOffset(e,t,r,a,o,l){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=a,this.view.width=o,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Cm*.5*this.fov)/this.zoom,r=2*t,a=this.aspect*r,o=-.5*a;const l=this.view;if(this.view!==null&&this.view.enabled){const u=l.fullWidth,d=l.fullHeight;o+=l.offsetX*a/u,t-=l.offsetY*r/d,a*=l.width/u,r*=l.height/d}const s=this.filmOffset;s!==0&&(o+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+a,t,t-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Zg=-90,ev=1;class k8 extends Bi{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const a=new jr(Zg,ev,e,t);a.layers=this.layers,this.add(a);const o=new jr(Zg,ev,e,t);o.layers=this.layers,this.add(o);const l=new jr(Zg,ev,e,t);l.layers=this.layers,this.add(l);const s=new jr(Zg,ev,e,t);s.layers=this.layers,this.add(s);const u=new jr(Zg,ev,e,t);u.layers=this.layers,this.add(u);const d=new jr(Zg,ev,e,t);d.layers=this.layers,this.add(d)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[r,a,o,l,s,u]=t;for(const d of t)this.remove(d);if(e===Fc)r.up.set(0,1,0),r.lookAt(1,0,0),a.up.set(0,1,0),a.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),l.up.set(0,0,1),l.lookAt(0,-1,0),s.up.set(0,1,0),s.lookAt(0,0,1),u.up.set(0,1,0),u.lookAt(0,0,-1);else if(e===uS)r.up.set(0,-1,0),r.lookAt(-1,0,0),a.up.set(0,-1,0),a.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),l.up.set(0,0,-1),l.lookAt(0,-1,0),s.up.set(0,-1,0),s.lookAt(0,0,1),u.up.set(0,-1,0),u.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const d of t)this.add(d),d.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:a}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[o,l,s,u,d,g]=this.children,y=e.getRenderTarget(),_=e.getActiveCubeFace(),C=e.getActiveMipmapLevel(),c=e.xr.enabled;e.xr.enabled=!1;const p=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,a),e.render(t,o),e.setRenderTarget(r,1,a),e.render(t,l),e.setRenderTarget(r,2,a),e.render(t,s),e.setRenderTarget(r,3,a),e.render(t,u),e.setRenderTarget(r,4,a),e.render(t,d),r.texture.generateMipmaps=p,e.setRenderTarget(r,5,a),e.render(t,g),e.setRenderTarget(y,_,C),e.xr.enabled=c,r.texture.needsPMREMUpdate=!0}}class GS extends Pr{constructor(e,t,r,a,o,l,s,u,d,g){e=e!==void 0?e:[],t=t!==void 0?t:gd,super(e,t,r,a,o,l,s,u,d,g),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class $8 extends tf{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},a=[r,r,r,r,r,r];this.texture=new GS(a,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:ha}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},a=new Vm(5,5,5),o=new jc({name:"CubemapFromEquirect",uniforms:y0(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:ss,blending:ud});o.uniforms.tEquirect.value=t;const l=new pa(a,o),s=t.minFilter;return t.minFilter===Fl&&(t.minFilter=ha),new k8(1,10,this).update(e,l),t.minFilter=s,l.geometry.dispose(),l.material.dispose(),this}clear(e,t,r,a){const o=e.getRenderTarget();for(let l=0;l<6;l++)e.setRenderTarget(this,l),e.clear(t,r,a);e.setRenderTarget(o)}}class ad extends Bi{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Dre={type:"move"};class WC{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new ad,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new ad,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new be,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new be),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new ad,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new be,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new be),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let a=null,o=null,l=null;const s=this._targetRay,u=this._grip,d=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(d&&e.hand){l=!0;for(const p of e.hand.values()){const m=t.getJointPose(p,r),b=this._getHandJoint(d,p);m!==null&&(b.matrix.fromArray(m.transform.matrix),b.matrix.decompose(b.position,b.rotation,b.scale),b.matrixWorldNeedsUpdate=!0,b.jointRadius=m.radius),b.visible=m!==null}const g=d.joints["index-finger-tip"],y=d.joints["thumb-tip"],_=g.position.distanceTo(y.position),C=.02,c=.005;d.inputState.pinching&&_>C+c?(d.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!d.inputState.pinching&&_<=C-c&&(d.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else u!==null&&e.gripSpace&&(o=t.getPose(e.gripSpace,r),o!==null&&(u.matrix.fromArray(o.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,o.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(o.linearVelocity)):u.hasLinearVelocity=!1,o.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(o.angularVelocity)):u.hasAngularVelocity=!1));s!==null&&(a=t.getPose(e.targetRaySpace,r),a===null&&o!==null&&(a=o),a!==null&&(s.matrix.fromArray(a.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,a.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(a.linearVelocity)):s.hasLinearVelocity=!1,a.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(a.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(Dre)))}return s!==null&&(s.visible=a!==null),u!==null&&(u.visible=o!==null),d!==null&&(d.visible=l!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new ad;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}class Ww{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new en(e),this.density=t}clone(){return new Ww(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Xw{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new en(e),this.near=t,this.far=r}clone(){return new Xw(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class SI extends Bi{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new al,this.environmentIntensity=1,this.environmentRotation=new al,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class kS{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=cS,this.updateRanges=[],this.version=0,this.uuid=il()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let a=0,o=this.stride;a<o;a++)this.array[e+a]=t.array[r+a];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=il()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=il()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const es=new be;class kh{constructor(e,t,r,a=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=a}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)es.fromBufferAttribute(this,t),es.applyMatrix4(e),this.setXYZ(t,es.x,es.y,es.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)es.fromBufferAttribute(this,t),es.applyNormalMatrix(e),this.setXYZ(t,es.x,es.y,es.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)es.fromBufferAttribute(this,t),es.transformDirection(e),this.setXYZ(t,es.x,es.y,es.z);return this}getComponent(e,t){let r=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(r=os(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=ri(r,this.array)),this.data.array[e*this.data.stride+this.offset+t]=r,this}setX(e,t){return this.normalized&&(t=ri(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=ri(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=ri(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=ri(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=os(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=os(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=os(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=os(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=ri(t,this.array),r=ri(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,a){return e=e*this.data.stride+this.offset,this.normalized&&(t=ri(t,this.array),r=ri(r,this.array),a=ri(a,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=a,this}setXYZW(e,t,r,a,o){return e=e*this.data.stride+this.offset,this.normalized&&(t=ri(t,this.array),r=ri(r,this.array),a=ri(a,this.array),o=ri(o,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=a,this.data.array[e+3]=o,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const a=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[a+o])}return new ki(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new kh(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const a=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[a+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class _I extends Ia{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new en(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let tv;const qy=new be,nv=new be,iv=new be,rv=new Mt,Ky=new Mt,V8=new Pn,$x=new be,Jy=new be,Vx=new be,n3=new Mt,uT=new Mt,i3=new Mt;class j8 extends Bi{constructor(e=new _I){if(super(),this.isSprite=!0,this.type="Sprite",tv===void 0){tv=new ni;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new kS(t,5);tv.setIndex([0,1,2,0,2,3]),tv.setAttribute("position",new kh(r,3,0,!1)),tv.setAttribute("uv",new kh(r,2,3,!1))}this.geometry=tv,this.material=e,this.center=new Mt(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),nv.setFromMatrixScale(this.matrixWorld),V8.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),iv.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&nv.multiplyScalar(-iv.z);const r=this.material.rotation;let a,o;r!==0&&(o=Math.cos(r),a=Math.sin(r));const l=this.center;jx($x.set(-.5,-.5,0),iv,l,nv,a,o),jx(Jy.set(.5,-.5,0),iv,l,nv,a,o),jx(Vx.set(.5,.5,0),iv,l,nv,a,o),n3.set(0,0),uT.set(1,0),i3.set(1,1);let s=e.ray.intersectTriangle($x,Jy,Vx,!1,qy);if(s===null&&(jx(Jy.set(-.5,.5,0),iv,l,nv,a,o),uT.set(0,1),s=e.ray.intersectTriangle($x,Vx,Jy,!1,qy),s===null))return;const u=e.ray.origin.distanceTo(qy);u<e.near||u>e.far||t.push({distance:u,point:qy.clone(),uv:Ts.getInterpolation(qy,$x,Jy,Vx,n3,uT,i3,new Mt),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function jx(n,e,t,r,a,o){rv.subVectors(n,t).addScalar(.5).multiply(r),a!==void 0?(Ky.x=o*rv.x-a*rv.y,Ky.y=a*rv.x+o*rv.y):Ky.copy(rv),n.copy(e),n.x+=Ky.x,n.y+=Ky.y,n.applyMatrix4(V8)}const Wx=new be,r3=new be;class W8 extends Bi{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,a=t.length;r<a;r++){const o=t[r];this.addLevel(o.object.clone(),o.distance,o.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,r=0){t=Math.abs(t);const a=this.levels;let o;for(o=0;o<a.length&&!(t<a[o].distance);o++);return a.splice(o,0,{distance:t,hysteresis:r,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let r=0;r<t.length;r++)if(t[r].distance===e){const a=t.splice(r,1);return this.remove(a[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,a;for(r=1,a=t.length;r<a;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),e<o)break}return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){Wx.setFromMatrixPosition(this.matrixWorld);const a=e.ray.origin.distanceTo(Wx);this.getObjectForDistance(a).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Wx.setFromMatrixPosition(e.matrixWorld),r3.setFromMatrixPosition(this.matrixWorld);const r=Wx.distanceTo(r3)/e.zoom;t[0].object.visible=!0;let a,o;for(a=1,o=t.length;a<o;a++){let l=t[a].distance;if(t[a].object.visible&&(l-=l*t[a].hysteresis),r>=l)t[a-1].object.visible=!1,t[a].object.visible=!0;else break}for(this._currentLevel=a-1;a<o;a++)t[a].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let a=0,o=r.length;a<o;a++){const l=r[a];t.object.levels.push({object:l.object.uuid,distance:l.distance,hysteresis:l.hysteresis})}return t}}const a3=new be,o3=new Gi,s3=new Gi,Pre=new be,l3=new Pn,Xx=new be,fT=new mo,c3=new Pn,dT=new $m;class xI extends pa{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=w2,this.bindMatrix=new Pn,this.bindMatrixInverse=new Pn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new po),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,Xx),this.boundingBox.expandByPoint(Xx)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new mo),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,Xx),this.boundingSphere.expandByPoint(Xx)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const r=this.material,a=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),fT.copy(this.boundingSphere),fT.applyMatrix4(a),e.ray.intersectsSphere(fT)!==!1&&(c3.copy(a).invert(),dT.copy(e.ray).applyMatrix4(c3),!(this.boundingBox!==null&&dT.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,dT)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Gi,t=this.geometry.attributes.skinWeight;for(let r=0,a=t.count;r<a;r++){e.fromBufferAttribute(t,r);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===w2?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===S8?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const r=this.skeleton,a=this.geometry;o3.fromBufferAttribute(a.attributes.skinIndex,e),s3.fromBufferAttribute(a.attributes.skinWeight,e),a3.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let o=0;o<4;o++){const l=s3.getComponent(o);if(l!==0){const s=o3.getComponent(o);l3.multiplyMatrices(r.bones[s].matrixWorld,r.boneInverses[s]),t.addScaledVector(Pre.copy(a3).applyMatrix4(l3),l)}}return t.applyMatrix4(this.bindMatrixInverse)}}class Yw extends Bi{constructor(){super(),this.isBone=!0,this.type="Bone"}}class qu extends Pr{constructor(e=null,t=1,r=1,a,o,l,s,u,d=Ka,g=Ka,y,_){super(null,l,s,u,d,g,a,o,y,_),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const u3=new Pn,Lre=new Pn;class $S{constructor(e=[],t=[]){this.uuid=il(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,a=this.bones.length;r<a;r++)this.boneInverses.push(new Pn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new Pn;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,a=this.boneTexture;for(let o=0,l=e.length;o<l;o++){const s=e[o]?e[o].matrixWorld:Lre;u3.multiplyMatrices(s,t[o]),u3.toArray(r,o*16)}a!==null&&(a.needsUpdate=!0)}clone(){return new $S(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new qu(t,e,e,Lo,Rs);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const a=this.bones[t];if(a.name===e)return a}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,a=e.bones.length;r<a;r++){const o=e.bones[r];let l=t[o];l===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),l=new Yw),this.bones.push(l),this.boneInverses.push(new Pn().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let a=0,o=t.length;a<o;a++){const l=t[a];e.bones.push(l.uuid);const s=r[a];e.boneInverses.push(s.toArray())}return e}}class Rm extends ki{constructor(e,t,r,a=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=a}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const av=new Pn,f3=new Pn,Yx=[],d3=new po,Nre=new Pn,Qy=new pa,Zy=new mo;class CI extends pa{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Rm(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let a=0;a<r;a++)this.setMatrixAt(a,Nre)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new po),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,av),d3.copy(e.boundingBox).applyMatrix4(av),this.boundingBox.union(d3)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new mo),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,av),Zy.copy(e.boundingSphere).applyMatrix4(av),this.boundingSphere.union(Zy)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const r=t.morphTargetInfluences,a=this.morphTexture.source.data.data,o=r.length+1,l=e*o+1;for(let s=0;s<r.length;s++)r[s]=a[l+s]}raycast(e,t){const r=this.matrixWorld,a=this.count;if(Qy.geometry=this.geometry,Qy.material=this.material,Qy.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Zy.copy(this.boundingSphere),Zy.applyMatrix4(r),e.ray.intersectsSphere(Zy)!==!1))for(let o=0;o<a;o++){this.getMatrixAt(o,av),f3.multiplyMatrices(r,av),Qy.matrixWorld=f3,Qy.raycast(e,Yx);for(let l=0,s=Yx.length;l<s;l++){const u=Yx[l];u.instanceId=o,u.object=this,t.push(u)}Yx.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Rm(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const r=t.morphTargetInfluences,a=r.length+1;this.morphTexture===null&&(this.morphTexture=new qu(new Float32Array(a*this.count),a,this.count,Fw,Rs));const o=this.morphTexture.source.data.data;let l=0;for(let d=0;d<r.length;d++)l+=r[d];const s=this.geometry.morphTargetsRelative?1:1-l,u=a*e;o[u]=s,o.set(r,u+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const hT=new be,zre=new be,Ure=new ti;class ed{constructor(e=new be(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,a){return this.normal.set(e,t,r),this.constant=a,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const a=hT.subVectors(r,t).cross(zre.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(a,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(hT),a=this.normal.dot(r);if(a===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/a;return o<0||o>1?null:t.copy(e.start).addScaledVector(r,o)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||Ure.getNormalMatrix(e),a=this.coplanarPoint(hT).applyMatrix4(e),o=this.normal.applyMatrix3(r).normalize();return this.constant=-a.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Op=new mo,qx=new be;class VS{constructor(e=new ed,t=new ed,r=new ed,a=new ed,o=new ed,l=new ed){this.planes=[e,t,r,a,o,l]}set(e,t,r,a,o,l){const s=this.planes;return s[0].copy(e),s[1].copy(t),s[2].copy(r),s[3].copy(a),s[4].copy(o),s[5].copy(l),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,t=Fc){const r=this.planes,a=e.elements,o=a[0],l=a[1],s=a[2],u=a[3],d=a[4],g=a[5],y=a[6],_=a[7],C=a[8],c=a[9],p=a[10],m=a[11],b=a[12],E=a[13],T=a[14],R=a[15];if(r[0].setComponents(u-o,_-d,m-C,R-b).normalize(),r[1].setComponents(u+o,_+d,m+C,R+b).normalize(),r[2].setComponents(u+l,_+g,m+c,R+E).normalize(),r[3].setComponents(u-l,_-g,m-c,R-E).normalize(),r[4].setComponents(u-s,_-y,m-p,R-T).normalize(),t===Fc)r[5].setComponents(u+s,_+y,m+p,R+T).normalize();else if(t===uS)r[5].setComponents(s,y,p,T).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Op.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Op.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Op)}intersectsSprite(e){return Op.center.set(0,0,0),Op.radius=.7071067811865476,Op.applyMatrix4(e.matrixWorld),this.intersectsSphere(Op)}intersectsSphere(e){const t=this.planes,r=e.center,a=-e.radius;for(let o=0;o<6;o++)if(t[o].distanceToPoint(r)<a)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const a=t[r];if(qx.x=a.normal.x>0?e.max.x:e.min.x,qx.y=a.normal.y>0?e.max.y:e.min.y,qx.z=a.normal.z>0?e.max.z:e.min.z,a.distanceToPoint(qx)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function pT(n,e){return n-e}function Fre(n,e){return n.z-e.z}function Hre(n,e){return e.z-n.z}class Gre{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,r,a){const o=this.pool,l=this.list;this.index>=o.length&&o.push({start:-1,count:-1,z:-1,index:-1});const s=o[this.index];l.push(s),this.index++,s.start=e,s.count=t,s.z=r,s.index=a}reset(){this.list.length=0,this.index=0}}const Cs=new Pn,kre=new en(1,1,1),mT=new VS,Kx=new po,Ip=new mo,eb=new be,h3=new be,$re=new be,gT=new Gre,Oo=new pa,Jx=[];function Vre(n,e,t=0){const r=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const a=n.count;for(let o=0;o<a;o++)for(let l=0;l<r;l++)e.setComponent(o+t,l,n.getComponent(o,l))}else e.array.set(n.array,t*r);e.needsUpdate=!0}function Bp(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++)e[r]=n[r]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class X8 extends pa{constructor(e,t,r=t*2,a){super(new ni,a),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=r,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),r=new qu(t,e,e,Lo,Rs);this._matricesTexture=r}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),r=new qu(t,e,e,FS,vd);this._indirectTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),r=new qu(t,e,e,Lo,Rs);r.colorSpace=Ii.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const t=this.geometry,r=this._maxVertexCount,a=this._maxIndexCount;if(this._geometryInitialized===!1){for(const o in e.attributes){const l=e.getAttribute(o),{array:s,itemSize:u,normalized:d}=l,g=new s.constructor(r*u),y=new ki(g,u,d);t.setAttribute(o,y)}if(e.getIndex()!==null){const o=r>65535?new Uint32Array(a):new Uint16Array(a);t.setIndex(new ki(o,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const r in t.attributes){if(!e.hasAttribute(r))throw new Error(`THREE.BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const a=e.getAttribute(r),o=t.getAttribute(r);if(a.itemSize!==o.itemSize||a.normalized!==o.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new po);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let r=0,a=t.length;r<a;r++){if(t[r].active===!1)continue;const o=t[r].geometryIndex;this.getMatrixAt(r,Cs),this.getBoundingBoxAt(o,Kx).applyMatrix4(Cs),e.union(Kx)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new mo);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let r=0,a=t.length;r<a;r++){if(t[r].active===!1)continue;const o=t[r].geometryIndex;this.getMatrixAt(r,Cs),this.getBoundingSphereAt(o,Ip).applyMatrix4(Cs),e.union(Ip)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const r={visible:!0,active:!0,geometryIndex:e};let a=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(pT),a=this._availableInstanceIds.shift(),this._instanceInfo[a]=r):(a=this._instanceInfo.length,this._instanceInfo.push(r));const o=this._matricesTexture;Cs.identity().toArray(o.image.data,a*16),o.needsUpdate=!0;const l=this._colorsTexture;return l&&(kre.toArray(l.image.data,a*4),l.needsUpdate=!0),this._visibilityChanged=!0,a}addGeometry(e,t=-1,r=-1){this._initializeGeometry(e),this._validateGeometry(e);const a={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},o=this._geometryInfo;a.vertexStart=this._nextVertexStart,a.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const l=e.getIndex();if(l!==null&&(a.indexStart=this._nextIndexStart,a.reservedIndexCount=r===-1?l.count:r),a.indexStart!==-1&&a.indexStart+a.reservedIndexCount>this._maxIndexCount||a.vertexStart+a.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let u;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(pT),u=this._availableGeometryIds.shift(),o[u]=a):(u=this._geometryCount,this._geometryCount++,o.push(a)),this.setGeometryAt(u,e),this._nextIndexStart=a.indexStart+a.reservedIndexCount,this._nextVertexStart=a.vertexStart+a.reservedVertexCount,u}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const r=this.geometry,a=r.getIndex()!==null,o=r.getIndex(),l=t.getIndex(),s=this._geometryInfo[e];if(a&&l.count>s.reservedIndexCount||t.attributes.position.count>s.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const u=s.vertexStart,d=s.reservedVertexCount;s.vertexCount=t.getAttribute("position").count;for(const g in r.attributes){const y=t.getAttribute(g),_=r.getAttribute(g);Vre(y,_,u);const C=y.itemSize;for(let c=y.count,p=d;c<p;c++){const m=u+c;for(let b=0;b<C;b++)_.setComponent(m,b,0)}_.needsUpdate=!0,_.addUpdateRange(u*C,d*C)}if(a){const g=s.indexStart,y=s.reservedIndexCount;s.indexCount=t.getIndex().count;for(let _=0;_<l.count;_++)o.setX(g+_,u+l.getX(_));for(let _=l.count,C=y;_<C;_++)o.setX(g+_,u);o.needsUpdate=!0,o.addUpdateRange(g,s.reservedIndexCount)}return s.start=a?s.indexStart:s.vertexStart,s.count=a?s.indexCount:s.vertexCount,s.boundingBox=null,t.boundingBox!==null&&(s.boundingBox=t.boundingBox.clone()),s.boundingSphere=null,t.boundingSphere!==null&&(s.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const r=this._instanceInfo;for(let a=0,o=r.length;a<o;a++)r[a].active&&r[a].geometryIndex===e&&this.deleteInstance(a);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const r=this._geometryInfo,a=r.map((l,s)=>s).sort((l,s)=>r[l].vertexStart-r[s].vertexStart),o=this.geometry;for(let l=0,s=r.length;l<s;l++){const u=a[l],d=r[u];if(d.active!==!1){if(o.index!==null){if(d.indexStart!==t){const{indexStart:g,vertexStart:y,reservedIndexCount:_}=d,C=o.index,c=C.array,p=e-y;for(let m=g;m<g+_;m++)c[m]=c[m]+p;C.array.copyWithin(t,g,g+_),C.addUpdateRange(t,_),d.indexStart=t}t+=d.reservedIndexCount}if(d.vertexStart!==e){const{vertexStart:g,reservedVertexCount:y}=d,_=o.attributes;for(const C in _){const c=_[C],{array:p,itemSize:m}=c;p.copyWithin(e*m,g*m,(g+y)*m),c.addUpdateRange(e*m,y*m)}d.vertexStart=e}e+=d.reservedVertexCount,d.start=o.index?d.indexStart:d.vertexStart,this._nextIndexStart=o.index?d.indexStart+d.reservedIndexCount:0,this._nextVertexStart=d.vertexStart+d.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const r=this.geometry,a=this._geometryInfo[e];if(a.boundingBox===null){const o=new po,l=r.index,s=r.attributes.position;for(let u=a.start,d=a.start+a.count;u<d;u++){let g=u;l&&(g=l.getX(g)),o.expandByPoint(eb.fromBufferAttribute(s,g))}a.boundingBox=o}return t.copy(a.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const r=this.geometry,a=this._geometryInfo[e];if(a.boundingSphere===null){const o=new mo;this.getBoundingBoxAt(e,Kx),Kx.getCenter(o.center);const l=r.index,s=r.attributes.position;let u=0;for(let d=a.start,g=a.start+a.count;d<g;d++){let y=d;l&&(y=l.getX(y)),eb.fromBufferAttribute(s,y),u=Math.max(u,o.center.distanceToSquared(eb))}o.radius=Math.sqrt(u),a.boundingSphere=o}return t.copy(a.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const r=this._matricesTexture,a=this._matricesTexture.image.data;return t.toArray(a,e*16),r.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const r=this._geometryInfo[e];return t.vertexStart=r.vertexStart,t.vertexCount=r.vertexCount,t.reservedVertexCount=r.reservedVertexCount,t.indexStart=r.indexStart,t.indexCount=r.indexCount,t.reservedIndexCount=r.reservedIndexCount,t.start=r.start,t.count=r.count,t}setInstanceCount(e){const t=this._availableInstanceIds,r=this._instanceInfo;for(t.sort(pT);t[t.length-1]===r.length;)r.pop(),t.pop();if(e<r.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const a=new Int32Array(e),o=new Int32Array(e);Bp(this._multiDrawCounts,a),Bp(this._multiDrawStarts,o),this._multiDrawCounts=a,this._multiDrawStarts=o,this._maxInstanceCount=e;const l=this._indirectTexture,s=this._matricesTexture,u=this._colorsTexture;l.dispose(),this._initIndirectTexture(),Bp(l.image.data,this._indirectTexture.image.data),s.dispose(),this._initMatricesTexture(),Bp(s.image.data,this._matricesTexture.image.data),u&&(u.dispose(),this._initColorsTexture(),Bp(u.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const r=[...this._geometryInfo].filter(s=>s.active);if(Math.max(...r.map(s=>s.vertexStart+s.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...r.map(u=>u.indexStart+u.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const o=this.geometry;o.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new ni,this._initializeGeometry(o));const l=this.geometry;o.index&&Bp(o.index.array,l.index.array);for(const s in o.attributes)Bp(o.attributes[s].array,l.attributes[s].array)}raycast(e,t){const r=this._instanceInfo,a=this._geometryInfo,o=this.matrixWorld,l=this.geometry;Oo.material=this.material,Oo.geometry.index=l.index,Oo.geometry.attributes=l.attributes,Oo.geometry.boundingBox===null&&(Oo.geometry.boundingBox=new po),Oo.geometry.boundingSphere===null&&(Oo.geometry.boundingSphere=new mo);for(let s=0,u=r.length;s<u;s++){if(!r[s].visible||!r[s].active)continue;const d=r[s].geometryIndex,g=a[d];Oo.geometry.setDrawRange(g.start,g.count),this.getMatrixAt(s,Oo.matrixWorld).premultiply(o),this.getBoundingBoxAt(d,Oo.geometry.boundingBox),this.getBoundingSphereAt(d,Oo.geometry.boundingSphere),Oo.raycast(e,Jx);for(let y=0,_=Jx.length;y<_;y++){const C=Jx[y];C.object=this,C.batchId=s,t.push(C)}Jx.length=0}Oo.material=null,Oo.geometry.index=null,Oo.geometry.attributes={},Oo.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,r,a,o){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const l=a.getIndex(),s=l===null?1:l.array.BYTES_PER_ELEMENT,u=this._instanceInfo,d=this._multiDrawStarts,g=this._multiDrawCounts,y=this._geometryInfo,_=this.perObjectFrustumCulled,C=this._indirectTexture,c=C.image.data;_&&(Cs.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),mT.setFromProjectionMatrix(Cs,e.coordinateSystem));let p=0;if(this.sortObjects){Cs.copy(this.matrixWorld).invert(),eb.setFromMatrixPosition(r.matrixWorld).applyMatrix4(Cs),h3.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(Cs);for(let E=0,T=u.length;E<T;E++)if(u[E].visible&&u[E].active){const R=u[E].geometryIndex;this.getMatrixAt(E,Cs),this.getBoundingSphereAt(R,Ip).applyMatrix4(Cs);let O=!1;if(_&&(O=!mT.intersectsSphere(Ip)),!O){const D=y[R],P=$re.subVectors(Ip.center,eb).dot(h3);gT.push(D.start,D.count,P,E)}}const m=gT.list,b=this.customSort;b===null?m.sort(o.transparent?Hre:Fre):b.call(this,m,r);for(let E=0,T=m.length;E<T;E++){const R=m[E];d[p]=R.start*s,g[p]=R.count,c[p]=R.index,p++}gT.reset()}else for(let m=0,b=u.length;m<b;m++)if(u[m].visible&&u[m].active){const E=u[m].geometryIndex;let T=!1;if(_&&(this.getMatrixAt(m,Cs),this.getBoundingSphereAt(E,Ip).applyMatrix4(Cs),T=!mT.intersectsSphere(Ip)),!T){const R=y[E];d[p]=R.start*s,g[p]=R.count,c[p]=m,p++}}C.needsUpdate=!0,this._multiDrawCount=p,this._visibilityChanged=!1}onBeforeShadow(e,t,r,a,o,l){this.onBeforeRender(e,null,a,o,l)}}class Fo extends Ia{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new en(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const IE=new be,BE=new be,p3=new Pn,tb=new $m,Qx=new mo,vT=new be,m3=new be;class yd extends Bi{constructor(e=new ni,t=new Fo){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let a=1,o=t.count;a<o;a++)IE.fromBufferAttribute(t,a-1),BE.fromBufferAttribute(t,a),r[a]=r[a-1],r[a]+=IE.distanceTo(BE);e.setAttribute("lineDistance",new vn(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,a=this.matrixWorld,o=e.params.Line.threshold,l=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Qx.copy(r.boundingSphere),Qx.applyMatrix4(a),Qx.radius+=o,e.ray.intersectsSphere(Qx)===!1)return;p3.copy(a).invert(),tb.copy(e.ray).applyMatrix4(p3);const s=o/((this.scale.x+this.scale.y+this.scale.z)/3),u=s*s,d=this.isLineSegments?2:1,g=r.index,_=r.attributes.position;if(g!==null){const C=Math.max(0,l.start),c=Math.min(g.count,l.start+l.count);for(let p=C,m=c-1;p<m;p+=d){const b=g.getX(p),E=g.getX(p+1),T=Zx(this,e,tb,u,b,E,p);T&&t.push(T)}if(this.isLineLoop){const p=g.getX(c-1),m=g.getX(C),b=Zx(this,e,tb,u,p,m,c-1);b&&t.push(b)}}else{const C=Math.max(0,l.start),c=Math.min(_.count,l.start+l.count);for(let p=C,m=c-1;p<m;p+=d){const b=Zx(this,e,tb,u,p,p+1,p);b&&t.push(b)}if(this.isLineLoop){const p=Zx(this,e,tb,u,c-1,C,c-1);p&&t.push(p)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const a=t[r[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,l=a.length;o<l;o++){const s=a[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}}function Zx(n,e,t,r,a,o,l){const s=n.geometry.attributes.position;if(IE.fromBufferAttribute(s,a),BE.fromBufferAttribute(s,o),t.distanceSqToSegment(IE,BE,vT,m3)>r)return;vT.applyMatrix4(n.matrixWorld);const d=e.ray.origin.distanceTo(vT);if(!(d<e.near||d>e.far))return{distance:d,point:m3.clone().applyMatrix4(n.matrixWorld),index:l,face:null,faceIndex:null,barycoord:null,object:n}}const g3=new be,v3=new be;class qc extends yd{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let a=0,o=t.count;a<o;a+=2)g3.fromBufferAttribute(t,a),v3.fromBufferAttribute(t,a+1),r[a]=a===0?0:r[a-1],r[a+1]=r[a]+g3.distanceTo(v3);e.setAttribute("lineDistance",new vn(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class EI extends yd{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class qw extends Ia{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new en(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const y3=new Pn,T2=new $m,eC=new mo,tC=new be;class wI extends Bi{constructor(e=new ni,t=new qw){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,a=this.matrixWorld,o=e.params.Points.threshold,l=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),eC.copy(r.boundingSphere),eC.applyMatrix4(a),eC.radius+=o,e.ray.intersectsSphere(eC)===!1)return;y3.copy(a).invert(),T2.copy(e.ray).applyMatrix4(y3);const s=o/((this.scale.x+this.scale.y+this.scale.z)/3),u=s*s,d=r.index,y=r.attributes.position;if(d!==null){const _=Math.max(0,l.start),C=Math.min(d.count,l.start+l.count);for(let c=_,p=C;c<p;c++){const m=d.getX(c);tC.fromBufferAttribute(y,m),b3(tC,m,u,a,e,t,this)}}else{const _=Math.max(0,l.start),C=Math.min(y.count,l.start+l.count);for(let c=_,p=C;c<p;c++)tC.fromBufferAttribute(y,c),b3(tC,c,u,a,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const a=t[r[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,l=a.length;o<l;o++){const s=a[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}}function b3(n,e,t,r,a,o,l){const s=T2.distanceSqToPoint(n);if(s<t){const u=new be;T2.closestPointToPoint(n,u),u.applyMatrix4(r);const d=a.ray.origin.distanceTo(u);if(d<a.near||d>a.far)return;o.push({distance:d,distanceToRay:Math.sqrt(s),point:u,index:e,face:null,faceIndex:null,barycoord:null,object:l})}}class Y8 extends Pr{constructor(e,t,r,a,o,l,s,u,d){super(e,t,r,a,o,l,s,u,d),this.isVideoTexture=!0,this.minFilter=l!==void 0?l:ha,this.magFilter=o!==void 0?o:ha,this.generateMipmaps=!1;const g=this;function y(){g.needsUpdate=!0,e.requestVideoFrameCallback(y)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(y)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class jre extends Y8{constructor(e,t,r,a,o,l,s,u){super({},e,t,r,a,o,l,s,u),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class Wre extends Pr{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Ka,this.minFilter=Ka,this.generateMipmaps=!1,this.needsUpdate=!0}}class Kw extends Pr{constructor(e,t,r,a,o,l,s,u,d,g,y,_){super(null,l,s,u,d,g,a,o,y,_),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Xre extends Kw{constructor(e,t,r,a,o,l){super(e,t,r,o,l),this.isCompressedArrayTexture=!0,this.image.depth=a,this.wrapR=el,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Yre extends Kw{constructor(e,t,r){super(void 0,e[0].width,e[0].height,t,r,gd),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class qre extends Pr{constructor(e,t,r,a,o,l,s,u,d){super(e,t,r,a,o,l,s,u,d),this.isCanvasTexture=!0,this.needsUpdate=!0}}class AI extends Pr{constructor(e,t,r,a,o,l,s,u,d,g=xm){if(g!==xm&&g!==Tm)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&g===xm&&(r=vd),r===void 0&&g===Tm&&(r=Mm),super(null,a,o,l,s,u,g,r,d),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=s!==void 0?s:Ka,this.minFilter=u!==void 0?u:Ka,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Th(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class Kc{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,a=this.getPoint(0),o=0;t.push(0);for(let l=1;l<=e;l++)r=this.getPoint(l/e),o+=r.distanceTo(a),t.push(o),a=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const r=this.getLengths();let a=0;const o=r.length;let l;t?l=t:l=e*r[o-1];let s=0,u=o-1,d;for(;s<=u;)if(a=Math.floor(s+(u-s)/2),d=r[a]-l,d<0)s=a+1;else if(d>0)u=a-1;else{u=a;break}if(a=u,r[a]===l)return a/(o-1);const g=r[a],_=r[a+1]-g,C=(l-g)/_;return(a+C)/(o-1)}getTangent(e,t){let a=e-1e-4,o=e+1e-4;a<0&&(a=0),o>1&&(o=1);const l=this.getPoint(a),s=this.getPoint(o),u=t||(l.isVector2?new Mt:new be);return u.copy(s).sub(l).normalize(),u}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t=!1){const r=new be,a=[],o=[],l=[],s=new be,u=new Pn;for(let C=0;C<=e;C++){const c=C/e;a[C]=this.getTangentAt(c,new be)}o[0]=new be,l[0]=new be;let d=Number.MAX_VALUE;const g=Math.abs(a[0].x),y=Math.abs(a[0].y),_=Math.abs(a[0].z);g<=d&&(d=g,r.set(1,0,0)),y<=d&&(d=y,r.set(0,1,0)),_<=d&&r.set(0,0,1),s.crossVectors(a[0],r).normalize(),o[0].crossVectors(a[0],s),l[0].crossVectors(a[0],o[0]);for(let C=1;C<=e;C++){if(o[C]=o[C-1].clone(),l[C]=l[C-1].clone(),s.crossVectors(a[C-1],a[C]),s.length()>Number.EPSILON){s.normalize();const c=Math.acos(Jn(a[C-1].dot(a[C]),-1,1));o[C].applyMatrix4(u.makeRotationAxis(s,c))}l[C].crossVectors(a[C],o[C])}if(t===!0){let C=Math.acos(Jn(o[0].dot(o[e]),-1,1));C/=e,a[0].dot(s.crossVectors(o[0],o[e]))>0&&(C=-C);for(let c=1;c<=e;c++)o[c].applyMatrix4(u.makeRotationAxis(a[c],C*c)),l[c].crossVectors(a[c],o[c])}return{tangents:a,normals:o,binormals:l}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Jw extends Kc{constructor(e=0,t=0,r=1,a=1,o=0,l=Math.PI*2,s=!1,u=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=a,this.aStartAngle=o,this.aEndAngle=l,this.aClockwise=s,this.aRotation=u}getPoint(e,t=new Mt){const r=t,a=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const l=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=a;for(;o>a;)o-=a;o<Number.EPSILON&&(l?o=0:o=a),this.aClockwise===!0&&!l&&(o===a?o=-a:o=o-a);const s=this.aStartAngle+e*o;let u=this.aX+this.xRadius*Math.cos(s),d=this.aY+this.yRadius*Math.sin(s);if(this.aRotation!==0){const g=Math.cos(this.aRotation),y=Math.sin(this.aRotation),_=u-this.aX,C=d-this.aY;u=_*g-C*y+this.aX,d=_*y+C*g+this.aY}return r.set(u,d)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class q8 extends Jw{constructor(e,t,r,a,o,l){super(e,t,r,r,a,o,l),this.isArcCurve=!0,this.type="ArcCurve"}}function MI(){let n=0,e=0,t=0,r=0;function a(o,l,s,u){n=o,e=s,t=-3*o+3*l-2*s-u,r=2*o-2*l+s+u}return{initCatmullRom:function(o,l,s,u,d){a(l,s,d*(s-o),d*(u-l))},initNonuniformCatmullRom:function(o,l,s,u,d,g,y){let _=(l-o)/d-(s-o)/(d+g)+(s-l)/g,C=(s-l)/g-(u-l)/(g+y)+(u-s)/y;_*=g,C*=g,a(l,s,_,C)},calc:function(o){const l=o*o,s=l*o;return n+e*o+t*l+r*s}}}const nC=new be,yT=new MI,bT=new MI,ST=new MI;class K8 extends Kc{constructor(e=[],t=!1,r="centripetal",a=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=a}getPoint(e,t=new be){const r=t,a=this.points,o=a.length,l=(o-(this.closed?0:1))*e;let s=Math.floor(l),u=l-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/o)+1)*o:u===0&&s===o-1&&(s=o-2,u=1);let d,g;this.closed||s>0?d=a[(s-1)%o]:(nC.subVectors(a[0],a[1]).add(a[0]),d=nC);const y=a[s%o],_=a[(s+1)%o];if(this.closed||s+2<o?g=a[(s+2)%o]:(nC.subVectors(a[o-1],a[o-2]).add(a[o-1]),g=nC),this.curveType==="centripetal"||this.curveType==="chordal"){const C=this.curveType==="chordal"?.5:.25;let c=Math.pow(d.distanceToSquared(y),C),p=Math.pow(y.distanceToSquared(_),C),m=Math.pow(_.distanceToSquared(g),C);p<1e-4&&(p=1),c<1e-4&&(c=p),m<1e-4&&(m=p),yT.initNonuniformCatmullRom(d.x,y.x,_.x,g.x,c,p,m),bT.initNonuniformCatmullRom(d.y,y.y,_.y,g.y,c,p,m),ST.initNonuniformCatmullRom(d.z,y.z,_.z,g.z,c,p,m)}else this.curveType==="catmullrom"&&(yT.initCatmullRom(d.x,y.x,_.x,g.x,this.tension),bT.initCatmullRom(d.y,y.y,_.y,g.y,this.tension),ST.initCatmullRom(d.z,y.z,_.z,g.z,this.tension));return r.set(yT.calc(u),bT.calc(u),ST.calc(u)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const a=e.points[t];this.points.push(a.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const a=this.points[t];e.points.push(a.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const a=e.points[t];this.points.push(new be().fromArray(a))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function S3(n,e,t,r,a){const o=(r-e)*.5,l=(a-t)*.5,s=n*n,u=n*s;return(2*t-2*r+o+l)*u+(-3*t+3*r-2*o-l)*s+o*n+t}function Kre(n,e){const t=1-n;return t*t*e}function Jre(n,e){return 2*(1-n)*n*e}function Qre(n,e){return n*n*e}function Ub(n,e,t,r){return Kre(n,e)+Jre(n,t)+Qre(n,r)}function Zre(n,e){const t=1-n;return t*t*t*e}function eae(n,e){const t=1-n;return 3*t*t*n*e}function tae(n,e){return 3*(1-n)*n*n*e}function nae(n,e){return n*n*n*e}function Fb(n,e,t,r,a){return Zre(n,e)+eae(n,t)+tae(n,r)+nae(n,a)}class TI extends Kc{constructor(e=new Mt,t=new Mt,r=new Mt,a=new Mt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=a}getPoint(e,t=new Mt){const r=t,a=this.v0,o=this.v1,l=this.v2,s=this.v3;return r.set(Fb(e,a.x,o.x,l.x,s.x),Fb(e,a.y,o.y,l.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class J8 extends Kc{constructor(e=new be,t=new be,r=new be,a=new be){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=a}getPoint(e,t=new be){const r=t,a=this.v0,o=this.v1,l=this.v2,s=this.v3;return r.set(Fb(e,a.x,o.x,l.x,s.x),Fb(e,a.y,o.y,l.y,s.y),Fb(e,a.z,o.z,l.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class RI extends Kc{constructor(e=new Mt,t=new Mt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Mt){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Mt){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Q8 extends Kc{constructor(e=new be,t=new be){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new be){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new be){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class OI extends Kc{constructor(e=new Mt,t=new Mt,r=new Mt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Mt){const r=t,a=this.v0,o=this.v1,l=this.v2;return r.set(Ub(e,a.x,o.x,l.x),Ub(e,a.y,o.y,l.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class II extends Kc{constructor(e=new be,t=new be,r=new be){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new be){const r=t,a=this.v0,o=this.v1,l=this.v2;return r.set(Ub(e,a.x,o.x,l.x),Ub(e,a.y,o.y,l.y),Ub(e,a.z,o.z,l.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class BI extends Kc{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Mt){const r=t,a=this.points,o=(a.length-1)*e,l=Math.floor(o),s=o-l,u=a[l===0?l:l-1],d=a[l],g=a[l>a.length-2?a.length-1:l+1],y=a[l>a.length-3?a.length-1:l+2];return r.set(S3(s,u.x,d.x,g.x,y.x),S3(s,u.y,d.y,g.y,y.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const a=e.points[t];this.points.push(a.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const a=this.points[t];e.points.push(a.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const a=e.points[t];this.points.push(new Mt().fromArray(a))}return this}}var DE=Object.freeze({__proto__:null,ArcCurve:q8,CatmullRomCurve3:K8,CubicBezierCurve:TI,CubicBezierCurve3:J8,EllipseCurve:Jw,LineCurve:RI,LineCurve3:Q8,QuadraticBezierCurve:OI,QuadraticBezierCurve3:II,SplineCurve:BI});class Z8 extends Kc{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new DE[r](t,e))}return this}getPoint(e,t){const r=e*this.getLength(),a=this.getCurveLengths();let o=0;for(;o<a.length;){if(a[o]>=r){const l=a[o]-r,s=this.curves[o],u=s.getLength(),d=u===0?0:1-l/u;return s.getPointAt(d,t)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,a=this.curves.length;r<a;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let a=0,o=this.curves;a<o.length;a++){const l=o[a],s=l.isEllipseCurve?e*2:l.isLineCurve||l.isLineCurve3?1:l.isSplineCurve?e*l.points.length:e,u=l.getPoints(s);for(let d=0;d<u.length;d++){const g=u[d];r&&r.equals(g)||(t.push(g),r=g)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const a=e.curves[t];this.curves.push(a.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const a=this.curves[t];e.curves.push(a.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const a=e.curves[t];this.curves.push(new DE[a.type]().fromJSON(a))}return this}}class dS extends Z8{constructor(e){super(),this.type="Path",this.currentPoint=new Mt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new RI(this.currentPoint.clone(),new Mt(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,a){const o=new OI(this.currentPoint.clone(),new Mt(e,t),new Mt(r,a));return this.curves.push(o),this.currentPoint.set(r,a),this}bezierCurveTo(e,t,r,a,o,l){const s=new TI(this.currentPoint.clone(),new Mt(e,t),new Mt(r,a),new Mt(o,l));return this.curves.push(s),this.currentPoint.set(o,l),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new BI(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,a,o,l){const s=this.currentPoint.x,u=this.currentPoint.y;return this.absarc(e+s,t+u,r,a,o,l),this}absarc(e,t,r,a,o,l){return this.absellipse(e,t,r,r,a,o,l),this}ellipse(e,t,r,a,o,l,s,u){const d=this.currentPoint.x,g=this.currentPoint.y;return this.absellipse(e+d,t+g,r,a,o,l,s,u),this}absellipse(e,t,r,a,o,l,s,u){const d=new Jw(e,t,r,a,o,l,s,u);if(this.curves.length>0){const y=d.getPoint(0);y.equals(this.currentPoint)||this.lineTo(y.x,y.y)}this.curves.push(d);const g=d.getPoint(1);return this.currentPoint.copy(g),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class jS extends ni{constructor(e=[new Mt(0,-.5),new Mt(.5,0),new Mt(0,.5)],t=12,r=0,a=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:a},t=Math.floor(t),a=Jn(a,0,Math.PI*2);const o=[],l=[],s=[],u=[],d=[],g=1/t,y=new be,_=new Mt,C=new be,c=new be,p=new be;let m=0,b=0;for(let E=0;E<=e.length-1;E++)switch(E){case 0:m=e[E+1].x-e[E].x,b=e[E+1].y-e[E].y,C.x=b*1,C.y=-m,C.z=b*0,p.copy(C),C.normalize(),u.push(C.x,C.y,C.z);break;case e.length-1:u.push(p.x,p.y,p.z);break;default:m=e[E+1].x-e[E].x,b=e[E+1].y-e[E].y,C.x=b*1,C.y=-m,C.z=b*0,c.copy(C),C.x+=p.x,C.y+=p.y,C.z+=p.z,C.normalize(),u.push(C.x,C.y,C.z),p.copy(c)}for(let E=0;E<=t;E++){const T=r+E*g*a,R=Math.sin(T),O=Math.cos(T);for(let D=0;D<=e.length-1;D++){y.x=e[D].x*R,y.y=e[D].y,y.z=e[D].x*O,l.push(y.x,y.y,y.z),_.x=E/t,_.y=D/(e.length-1),s.push(_.x,_.y);const P=u[3*D+0]*R,F=u[3*D+1],U=u[3*D+0]*O;d.push(P,F,U)}}for(let E=0;E<t;E++)for(let T=0;T<e.length-1;T++){const R=T+E*e.length,O=R,D=R+e.length,P=R+e.length+1,F=R+1;o.push(O,D,F),o.push(P,F,D)}this.setIndex(o),this.setAttribute("position",new vn(l,3)),this.setAttribute("uv",new vn(s,2)),this.setAttribute("normal",new vn(d,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new jS(e.points,e.segments,e.phiStart,e.phiLength)}}class Qw extends jS{constructor(e=1,t=1,r=4,a=8){const o=new dS;o.absarc(0,-t/2,e,Math.PI*1.5,0),o.absarc(0,t/2,e,0,Math.PI*.5),super(o.getPoints(r),a),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:r,radialSegments:a}}static fromJSON(e){return new Qw(e.radius,e.length,e.capSegments,e.radialSegments)}}class Zw extends ni{constructor(e=1,t=32,r=0,a=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:a},t=Math.max(3,t);const o=[],l=[],s=[],u=[],d=new be,g=new Mt;l.push(0,0,0),s.push(0,0,1),u.push(.5,.5);for(let y=0,_=3;y<=t;y++,_+=3){const C=r+y/t*a;d.x=e*Math.cos(C),d.y=e*Math.sin(C),l.push(d.x,d.y,d.z),s.push(0,0,1),g.x=(l[_]/e+1)/2,g.y=(l[_+1]/e+1)/2,u.push(g.x,g.y)}for(let y=1;y<=t;y++)o.push(y,y+1,0);this.setIndex(o),this.setAttribute("position",new vn(l,3)),this.setAttribute("normal",new vn(s,3)),this.setAttribute("uv",new vn(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Zw(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class N0 extends ni{constructor(e=1,t=1,r=1,a=32,o=1,l=!1,s=0,u=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:a,heightSegments:o,openEnded:l,thetaStart:s,thetaLength:u};const d=this;a=Math.floor(a),o=Math.floor(o);const g=[],y=[],_=[],C=[];let c=0;const p=[],m=r/2;let b=0;E(),l===!1&&(e>0&&T(!0),t>0&&T(!1)),this.setIndex(g),this.setAttribute("position",new vn(y,3)),this.setAttribute("normal",new vn(_,3)),this.setAttribute("uv",new vn(C,2));function E(){const R=new be,O=new be;let D=0;const P=(t-e)/r;for(let F=0;F<=o;F++){const U=[],z=F/o,$=z*(t-e)+e;for(let J=0;J<=a;J++){const W=J/a,Z=W*u+s,oe=Math.sin(Z),Y=Math.cos(Z);O.x=$*oe,O.y=-z*r+m,O.z=$*Y,y.push(O.x,O.y,O.z),R.set(oe,P,Y).normalize(),_.push(R.x,R.y,R.z),C.push(W,1-z),U.push(c++)}p.push(U)}for(let F=0;F<a;F++)for(let U=0;U<o;U++){const z=p[U][F],$=p[U+1][F],J=p[U+1][F+1],W=p[U][F+1];(e>0||U!==0)&&(g.push(z,$,W),D+=3),(t>0||U!==o-1)&&(g.push($,J,W),D+=3)}d.addGroup(b,D,0),b+=D}function T(R){const O=c,D=new Mt,P=new be;let F=0;const U=R===!0?e:t,z=R===!0?1:-1;for(let J=1;J<=a;J++)y.push(0,m*z,0),_.push(0,z,0),C.push(.5,.5),c++;const $=c;for(let J=0;J<=a;J++){const Z=J/a*u+s,oe=Math.cos(Z),Y=Math.sin(Z);P.x=U*Y,P.y=m*z,P.z=U*oe,y.push(P.x,P.y,P.z),_.push(0,z,0),D.x=oe*.5+.5,D.y=Y*.5*z+.5,C.push(D.x,D.y),c++}for(let J=0;J<a;J++){const W=O+J,Z=$+J;R===!0?g.push(Z,Z+1,W):g.push(Z+1,Z,W),F+=3}d.addGroup(b,F,R===!0?1:2),b+=F}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new N0(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class eA extends N0{constructor(e=1,t=1,r=32,a=1,o=!1,l=0,s=Math.PI*2){super(0,e,t,r,a,o,l,s),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:a,openEnded:o,thetaStart:l,thetaLength:s}}static fromJSON(e){return new eA(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Wh extends ni{constructor(e=[],t=[],r=1,a=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:a};const o=[],l=[];s(a),d(r),g(),this.setAttribute("position",new vn(o,3)),this.setAttribute("normal",new vn(o.slice(),3)),this.setAttribute("uv",new vn(l,2)),a===0?this.computeVertexNormals():this.normalizeNormals();function s(E){const T=new be,R=new be,O=new be;for(let D=0;D<t.length;D+=3)C(t[D+0],T),C(t[D+1],R),C(t[D+2],O),u(T,R,O,E)}function u(E,T,R,O){const D=O+1,P=[];for(let F=0;F<=D;F++){P[F]=[];const U=E.clone().lerp(R,F/D),z=T.clone().lerp(R,F/D),$=D-F;for(let J=0;J<=$;J++)J===0&&F===D?P[F][J]=U:P[F][J]=U.clone().lerp(z,J/$)}for(let F=0;F<D;F++)for(let U=0;U<2*(D-F)-1;U++){const z=Math.floor(U/2);U%2===0?(_(P[F][z+1]),_(P[F+1][z]),_(P[F][z])):(_(P[F][z+1]),_(P[F+1][z+1]),_(P[F+1][z]))}}function d(E){const T=new be;for(let R=0;R<o.length;R+=3)T.x=o[R+0],T.y=o[R+1],T.z=o[R+2],T.normalize().multiplyScalar(E),o[R+0]=T.x,o[R+1]=T.y,o[R+2]=T.z}function g(){const E=new be;for(let T=0;T<o.length;T+=3){E.x=o[T+0],E.y=o[T+1],E.z=o[T+2];const R=m(E)/2/Math.PI+.5,O=b(E)/Math.PI+.5;l.push(R,1-O)}c(),y()}function y(){for(let E=0;E<l.length;E+=6){const T=l[E+0],R=l[E+2],O=l[E+4],D=Math.max(T,R,O),P=Math.min(T,R,O);D>.9&&P<.1&&(T<.2&&(l[E+0]+=1),R<.2&&(l[E+2]+=1),O<.2&&(l[E+4]+=1))}}function _(E){o.push(E.x,E.y,E.z)}function C(E,T){const R=E*3;T.x=e[R+0],T.y=e[R+1],T.z=e[R+2]}function c(){const E=new be,T=new be,R=new be,O=new be,D=new Mt,P=new Mt,F=new Mt;for(let U=0,z=0;U<o.length;U+=9,z+=6){E.set(o[U+0],o[U+1],o[U+2]),T.set(o[U+3],o[U+4],o[U+5]),R.set(o[U+6],o[U+7],o[U+8]),D.set(l[z+0],l[z+1]),P.set(l[z+2],l[z+3]),F.set(l[z+4],l[z+5]),O.copy(E).add(T).add(R).divideScalar(3);const $=m(O);p(D,z+0,E,$),p(P,z+2,T,$),p(F,z+4,R,$)}}function p(E,T,R,O){O<0&&E.x===1&&(l[T]=E.x-1),R.x===0&&R.z===0&&(l[T]=O/2/Math.PI+.5)}function m(E){return Math.atan2(E.z,-E.x)}function b(E){return Math.atan2(-E.y,Math.sqrt(E.x*E.x+E.z*E.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Wh(e.vertices,e.indices,e.radius,e.details)}}class tA extends Wh{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,a=1/r,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-a,-r,0,-a,r,0,a,-r,0,a,r,-a,-r,0,-a,r,0,a,-r,0,a,r,0,-r,0,-a,r,0,-a,-r,0,a,r,0,a],l=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,l,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new tA(e.radius,e.detail)}}const iC=new be,rC=new be,_T=new be,aC=new Ts;class e6 extends ni{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const a=Math.pow(10,4),o=Math.cos(Cm*t),l=e.getIndex(),s=e.getAttribute("position"),u=l?l.count:s.count,d=[0,0,0],g=["a","b","c"],y=new Array(3),_={},C=[];for(let c=0;c<u;c+=3){l?(d[0]=l.getX(c),d[1]=l.getX(c+1),d[2]=l.getX(c+2)):(d[0]=c,d[1]=c+1,d[2]=c+2);const{a:p,b:m,c:b}=aC;if(p.fromBufferAttribute(s,d[0]),m.fromBufferAttribute(s,d[1]),b.fromBufferAttribute(s,d[2]),aC.getNormal(_T),y[0]=`${Math.round(p.x*a)},${Math.round(p.y*a)},${Math.round(p.z*a)}`,y[1]=`${Math.round(m.x*a)},${Math.round(m.y*a)},${Math.round(m.z*a)}`,y[2]=`${Math.round(b.x*a)},${Math.round(b.y*a)},${Math.round(b.z*a)}`,!(y[0]===y[1]||y[1]===y[2]||y[2]===y[0]))for(let E=0;E<3;E++){const T=(E+1)%3,R=y[E],O=y[T],D=aC[g[E]],P=aC[g[T]],F=`${R}_${O}`,U=`${O}_${R}`;U in _&&_[U]?(_T.dot(_[U].normal)<=o&&(C.push(D.x,D.y,D.z),C.push(P.x,P.y,P.z)),_[U]=null):F in _||(_[F]={index0:d[E],index1:d[T],normal:_T.clone()})}}for(const c in _)if(_[c]){const{index0:p,index1:m}=_[c];iC.fromBufferAttribute(s,p),rC.fromBufferAttribute(s,m),C.push(iC.x,iC.y,iC.z),C.push(rC.x,rC.y,rC.z)}this.setAttribute("position",new vn(C,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Em extends dS{constructor(e){super(e),this.uuid=il(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,a=this.holes.length;r<a;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const a=e.holes[t];this.holes.push(a.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const a=this.holes[t];e.holes.push(a.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const a=e.holes[t];this.holes.push(new dS().fromJSON(a))}return this}}class iae{static triangulate(e,t,r=2){const a=t&&t.length,o=a?t[0]*r:e.length;let l=t6(e,0,o,r,!0);const s=[];if(!l||l.next===l.prev)return s;let u,d,g,y,_,C,c;if(a&&(l=lae(e,t,l,r)),e.length>80*r){u=g=e[0],d=y=e[1];for(let p=r;p<o;p+=r)_=e[p],C=e[p+1],_<u&&(u=_),C<d&&(d=C),_>g&&(g=_),C>y&&(y=C);c=Math.max(g-u,y-d),c=c!==0?32767/c:0}return hS(l,s,r,u,d,c,0),s}}function t6(n,e,t,r,a){let o,l;if(a===bae(n,e,t,r)>0)for(o=e;o<t;o+=r)l=_3(o,n[o],n[o+1],l);else for(o=t-r;o>=e;o-=r)l=_3(o,n[o],n[o+1],l);return l&&nA(l,l.next)&&(mS(l),l=l.next),l}function Om(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(nA(t,t.next)||Xr(t.prev,t,t.next)===0)){if(mS(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function hS(n,e,t,r,a,o,l){if(!n)return;!l&&o&&hae(n,r,a,o);let s=n,u,d;for(;n.prev!==n.next;){if(u=n.prev,d=n.next,o?aae(n,r,a,o):rae(n)){e.push(u.i/t|0),e.push(n.i/t|0),e.push(d.i/t|0),mS(n),n=d.next,s=d.next;continue}if(n=d,n===s){l?l===1?(n=oae(Om(n),e,t),hS(n,e,t,r,a,o,2)):l===2&&sae(n,e,t,r,a,o):hS(Om(n),e,t,r,a,o,1);break}}}function rae(n){const e=n.prev,t=n,r=n.next;if(Xr(e,t,r)>=0)return!1;const a=e.x,o=t.x,l=r.x,s=e.y,u=t.y,d=r.y,g=a<o?a<l?a:l:o<l?o:l,y=s<u?s<d?s:d:u<d?u:d,_=a>o?a>l?a:l:o>l?o:l,C=s>u?s>d?s:d:u>d?u:d;let c=r.next;for(;c!==e;){if(c.x>=g&&c.x<=_&&c.y>=y&&c.y<=C&&zv(a,s,o,u,l,d,c.x,c.y)&&Xr(c.prev,c,c.next)>=0)return!1;c=c.next}return!0}function aae(n,e,t,r){const a=n.prev,o=n,l=n.next;if(Xr(a,o,l)>=0)return!1;const s=a.x,u=o.x,d=l.x,g=a.y,y=o.y,_=l.y,C=s<u?s<d?s:d:u<d?u:d,c=g<y?g<_?g:_:y<_?y:_,p=s>u?s>d?s:d:u>d?u:d,m=g>y?g>_?g:_:y>_?y:_,b=R2(C,c,e,t,r),E=R2(p,m,e,t,r);let T=n.prevZ,R=n.nextZ;for(;T&&T.z>=b&&R&&R.z<=E;){if(T.x>=C&&T.x<=p&&T.y>=c&&T.y<=m&&T!==a&&T!==l&&zv(s,g,u,y,d,_,T.x,T.y)&&Xr(T.prev,T,T.next)>=0||(T=T.prevZ,R.x>=C&&R.x<=p&&R.y>=c&&R.y<=m&&R!==a&&R!==l&&zv(s,g,u,y,d,_,R.x,R.y)&&Xr(R.prev,R,R.next)>=0))return!1;R=R.nextZ}for(;T&&T.z>=b;){if(T.x>=C&&T.x<=p&&T.y>=c&&T.y<=m&&T!==a&&T!==l&&zv(s,g,u,y,d,_,T.x,T.y)&&Xr(T.prev,T,T.next)>=0)return!1;T=T.prevZ}for(;R&&R.z<=E;){if(R.x>=C&&R.x<=p&&R.y>=c&&R.y<=m&&R!==a&&R!==l&&zv(s,g,u,y,d,_,R.x,R.y)&&Xr(R.prev,R,R.next)>=0)return!1;R=R.nextZ}return!0}function oae(n,e,t){let r=n;do{const a=r.prev,o=r.next.next;!nA(a,o)&&n6(a,r,r.next,o)&&pS(a,o)&&pS(o,a)&&(e.push(a.i/t|0),e.push(r.i/t|0),e.push(o.i/t|0),mS(r),mS(r.next),r=n=o),r=r.next}while(r!==n);return Om(r)}function sae(n,e,t,r,a,o){let l=n;do{let s=l.next.next;for(;s!==l.prev;){if(l.i!==s.i&&gae(l,s)){let u=i6(l,s);l=Om(l,l.next),u=Om(u,u.next),hS(l,e,t,r,a,o,0),hS(u,e,t,r,a,o,0);return}s=s.next}l=l.next}while(l!==n)}function lae(n,e,t,r){const a=[];let o,l,s,u,d;for(o=0,l=e.length;o<l;o++)s=e[o]*r,u=o<l-1?e[o+1]*r:n.length,d=t6(n,s,u,r,!1),d===d.next&&(d.steiner=!0),a.push(mae(d));for(a.sort(cae),o=0;o<a.length;o++)t=uae(a[o],t);return t}function cae(n,e){return n.x-e.x}function uae(n,e){const t=fae(n,e);if(!t)return e;const r=i6(t,n);return Om(r,r.next),Om(t,t.next)}function fae(n,e){let t=e,r=-1/0,a;const o=n.x,l=n.y;do{if(l<=t.y&&l>=t.next.y&&t.next.y!==t.y){const _=t.x+(l-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(_<=o&&_>r&&(r=_,a=t.x<t.next.x?t:t.next,_===o))return a}t=t.next}while(t!==e);if(!a)return null;const s=a,u=a.x,d=a.y;let g=1/0,y;t=a;do o>=t.x&&t.x>=u&&o!==t.x&&zv(l<d?o:r,l,u,d,l<d?r:o,l,t.x,t.y)&&(y=Math.abs(l-t.y)/(o-t.x),pS(t,n)&&(y<g||y===g&&(t.x>a.x||t.x===a.x&&dae(a,t)))&&(a=t,g=y)),t=t.next;while(t!==s);return a}function dae(n,e){return Xr(n.prev,n,e.prev)<0&&Xr(e.next,n,n.next)<0}function hae(n,e,t,r){let a=n;do a.z===0&&(a.z=R2(a.x,a.y,e,t,r)),a.prevZ=a.prev,a.nextZ=a.next,a=a.next;while(a!==n);a.prevZ.nextZ=null,a.prevZ=null,pae(a)}function pae(n){let e,t,r,a,o,l,s,u,d=1;do{for(t=n,n=null,o=null,l=0;t;){for(l++,r=t,s=0,e=0;e<d&&(s++,r=r.nextZ,!!r);e++);for(u=d;s>0||u>0&&r;)s!==0&&(u===0||!r||t.z<=r.z)?(a=t,t=t.nextZ,s--):(a=r,r=r.nextZ,u--),o?o.nextZ=a:n=a,a.prevZ=o,o=a;t=r}o.nextZ=null,d*=2}while(l>1);return n}function R2(n,e,t,r,a){return n=(n-t)*a|0,e=(e-r)*a|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function mae(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function zv(n,e,t,r,a,o,l,s){return(a-l)*(e-s)>=(n-l)*(o-s)&&(n-l)*(r-s)>=(t-l)*(e-s)&&(t-l)*(o-s)>=(a-l)*(r-s)}function gae(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!vae(n,e)&&(pS(n,e)&&pS(e,n)&&yae(n,e)&&(Xr(n.prev,n,e.prev)||Xr(n,e.prev,e))||nA(n,e)&&Xr(n.prev,n,n.next)>0&&Xr(e.prev,e,e.next)>0)}function Xr(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function nA(n,e){return n.x===e.x&&n.y===e.y}function n6(n,e,t,r){const a=sC(Xr(n,e,t)),o=sC(Xr(n,e,r)),l=sC(Xr(t,r,n)),s=sC(Xr(t,r,e));return!!(a!==o&&l!==s||a===0&&oC(n,t,e)||o===0&&oC(n,r,e)||l===0&&oC(t,n,r)||s===0&&oC(t,e,r))}function oC(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function sC(n){return n>0?1:n<0?-1:0}function vae(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&n6(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function pS(n,e){return Xr(n.prev,n,n.next)<0?Xr(n,e,n.next)>=0&&Xr(n,n.prev,e)>=0:Xr(n,e,n.prev)<0||Xr(n,n.next,e)<0}function yae(n,e){let t=n,r=!1;const a=(n.x+e.x)/2,o=(n.y+e.y)/2;do t.y>o!=t.next.y>o&&t.next.y!==t.y&&a<(t.next.x-t.x)*(o-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function i6(n,e){const t=new O2(n.i,n.x,n.y),r=new O2(e.i,e.x,e.y),a=n.next,o=e.prev;return n.next=e,e.prev=n,t.next=a,a.prev=t,r.next=t,t.prev=r,o.next=r,r.prev=o,r}function _3(n,e,t,r){const a=new O2(n,e,t);return r?(a.next=r.next,a.prev=r,r.next.prev=a,r.next=a):(a.prev=a,a.next=a),a}function mS(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function O2(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function bae(n,e,t,r){let a=0;for(let o=e,l=t-r;o<t;o+=r)a+=(n[l]-n[o])*(n[o+1]+n[l+1]),l=o;return a}class Ku{static area(e){const t=e.length;let r=0;for(let a=t-1,o=0;o<t;a=o++)r+=e[a].x*e[o].y-e[o].x*e[a].y;return r*.5}static isClockWise(e){return Ku.area(e)<0}static triangulateShape(e,t){const r=[],a=[],o=[];x3(e),C3(r,e);let l=e.length;t.forEach(x3);for(let u=0;u<t.length;u++)a.push(l),l+=t[u].length,C3(r,t[u]);const s=iae.triangulate(r,a);for(let u=0;u<s.length;u+=3)o.push(s.slice(u,u+3));return o}}function x3(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function C3(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class iA extends ni{constructor(e=new Em([new Mt(.5,.5),new Mt(-.5,.5),new Mt(-.5,-.5),new Mt(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,a=[],o=[];for(let s=0,u=e.length;s<u;s++){const d=e[s];l(d)}this.setAttribute("position",new vn(a,3)),this.setAttribute("uv",new vn(o,2)),this.computeVertexNormals();function l(s){const u=[],d=t.curveSegments!==void 0?t.curveSegments:12,g=t.steps!==void 0?t.steps:1,y=t.depth!==void 0?t.depth:1;let _=t.bevelEnabled!==void 0?t.bevelEnabled:!0,C=t.bevelThickness!==void 0?t.bevelThickness:.2,c=t.bevelSize!==void 0?t.bevelSize:C-.1,p=t.bevelOffset!==void 0?t.bevelOffset:0,m=t.bevelSegments!==void 0?t.bevelSegments:3;const b=t.extrudePath,E=t.UVGenerator!==void 0?t.UVGenerator:Sae;let T,R=!1,O,D,P,F;b&&(T=b.getSpacedPoints(g),R=!0,_=!1,O=b.computeFrenetFrames(g,!1),D=new be,P=new be,F=new be),_||(m=0,C=0,c=0,p=0);const U=s.extractPoints(d);let z=U.shape;const $=U.holes;if(!Ku.isClockWise(z)){z=z.reverse();for(let Be=0,Ce=$.length;Be<Ce;Be++){const re=$[Be];Ku.isClockWise(re)&&($[Be]=re.reverse())}}const W=Ku.triangulateShape(z,$),Z=z;for(let Be=0,Ce=$.length;Be<Ce;Be++){const re=$[Be];z=z.concat(re)}function oe(Be,Ce,re){return Ce||console.error("THREE.ExtrudeGeometry: vec does not exist"),Be.clone().addScaledVector(Ce,re)}const Y=z.length,K=W.length;function ee(Be,Ce,re){let Fe,Ie,Ye;const ke=Be.x-Ce.x,lt=Be.y-Ce.y,ot=re.x-Be.x,ce=re.y-Be.y,ae=ke*ke+lt*lt,we=ke*ce-lt*ot;if(Math.abs(we)>Number.EPSILON){const De=Math.sqrt(ae),qe=Math.sqrt(ot*ot+ce*ce),He=Ce.x-lt/De,gt=Ce.y+ke/De,st=re.x-ce/qe,pt=re.y+ot/qe,Ot=((st-He)*ce-(pt-gt)*ot)/(ke*ce-lt*ot);Fe=He+ke*Ot-Be.x,Ie=gt+lt*Ot-Be.y;const at=Fe*Fe+Ie*Ie;if(at<=2)return new Mt(Fe,Ie);Ye=Math.sqrt(at/2)}else{let De=!1;ke>Number.EPSILON?ot>Number.EPSILON&&(De=!0):ke<-Number.EPSILON?ot<-Number.EPSILON&&(De=!0):Math.sign(lt)===Math.sign(ce)&&(De=!0),De?(Fe=-lt,Ie=ke,Ye=Math.sqrt(ae)):(Fe=ke,Ie=lt,Ye=Math.sqrt(ae/2))}return new Mt(Fe/Ye,Ie/Ye)}const ue=[];for(let Be=0,Ce=Z.length,re=Ce-1,Fe=Be+1;Be<Ce;Be++,re++,Fe++)re===Ce&&(re=0),Fe===Ce&&(Fe=0),ue[Be]=ee(Z[Be],Z[re],Z[Fe]);const q=[];let ie,me=ue.concat();for(let Be=0,Ce=$.length;Be<Ce;Be++){const re=$[Be];ie=[];for(let Fe=0,Ie=re.length,Ye=Ie-1,ke=Fe+1;Fe<Ie;Fe++,Ye++,ke++)Ye===Ie&&(Ye=0),ke===Ie&&(ke=0),ie[Fe]=ee(re[Fe],re[Ye],re[ke]);q.push(ie),me=me.concat(ie)}for(let Be=0;Be<m;Be++){const Ce=Be/m,re=C*Math.cos(Ce*Math.PI/2),Fe=c*Math.sin(Ce*Math.PI/2)+p;for(let Ie=0,Ye=Z.length;Ie<Ye;Ie++){const ke=oe(Z[Ie],ue[Ie],Fe);Oe(ke.x,ke.y,-re)}for(let Ie=0,Ye=$.length;Ie<Ye;Ie++){const ke=$[Ie];ie=q[Ie];for(let lt=0,ot=ke.length;lt<ot;lt++){const ce=oe(ke[lt],ie[lt],Fe);Oe(ce.x,ce.y,-re)}}}const de=c+p;for(let Be=0;Be<Y;Be++){const Ce=_?oe(z[Be],me[Be],de):z[Be];R?(P.copy(O.normals[0]).multiplyScalar(Ce.x),D.copy(O.binormals[0]).multiplyScalar(Ce.y),F.copy(T[0]).add(P).add(D),Oe(F.x,F.y,F.z)):Oe(Ce.x,Ce.y,0)}for(let Be=1;Be<=g;Be++)for(let Ce=0;Ce<Y;Ce++){const re=_?oe(z[Ce],me[Ce],de):z[Ce];R?(P.copy(O.normals[Be]).multiplyScalar(re.x),D.copy(O.binormals[Be]).multiplyScalar(re.y),F.copy(T[Be]).add(P).add(D),Oe(F.x,F.y,F.z)):Oe(re.x,re.y,y/g*Be)}for(let Be=m-1;Be>=0;Be--){const Ce=Be/m,re=C*Math.cos(Ce*Math.PI/2),Fe=c*Math.sin(Ce*Math.PI/2)+p;for(let Ie=0,Ye=Z.length;Ie<Ye;Ie++){const ke=oe(Z[Ie],ue[Ie],Fe);Oe(ke.x,ke.y,y+re)}for(let Ie=0,Ye=$.length;Ie<Ye;Ie++){const ke=$[Ie];ie=q[Ie];for(let lt=0,ot=ke.length;lt<ot;lt++){const ce=oe(ke[lt],ie[lt],Fe);R?Oe(ce.x,ce.y+T[g-1].y,T[g-1].x+re):Oe(ce.x,ce.y,y+re)}}}Q(),he();function Q(){const Be=a.length/3;if(_){let Ce=0,re=Y*Ce;for(let Fe=0;Fe<K;Fe++){const Ie=W[Fe];Ae(Ie[2]+re,Ie[1]+re,Ie[0]+re)}Ce=g+m*2,re=Y*Ce;for(let Fe=0;Fe<K;Fe++){const Ie=W[Fe];Ae(Ie[0]+re,Ie[1]+re,Ie[2]+re)}}else{for(let Ce=0;Ce<K;Ce++){const re=W[Ce];Ae(re[2],re[1],re[0])}for(let Ce=0;Ce<K;Ce++){const re=W[Ce];Ae(re[0]+Y*g,re[1]+Y*g,re[2]+Y*g)}}r.addGroup(Be,a.length/3-Be,0)}function he(){const Be=a.length/3;let Ce=0;xe(Z,Ce),Ce+=Z.length;for(let re=0,Fe=$.length;re<Fe;re++){const Ie=$[re];xe(Ie,Ce),Ce+=Ie.length}r.addGroup(Be,a.length/3-Be,1)}function xe(Be,Ce){let re=Be.length;for(;--re>=0;){const Fe=re;let Ie=re-1;Ie<0&&(Ie=Be.length-1);for(let Ye=0,ke=g+m*2;Ye<ke;Ye++){const lt=Y*Ye,ot=Y*(Ye+1),ce=Ce+Fe+lt,ae=Ce+Ie+lt,we=Ce+Ie+ot,De=Ce+Fe+ot;Te(ce,ae,we,De)}}}function Oe(Be,Ce,re){u.push(Be),u.push(Ce),u.push(re)}function Ae(Be,Ce,re){ze(Be),ze(Ce),ze(re);const Fe=a.length/3,Ie=E.generateTopUV(r,a,Fe-3,Fe-2,Fe-1);vt(Ie[0]),vt(Ie[1]),vt(Ie[2])}function Te(Be,Ce,re,Fe){ze(Be),ze(Ce),ze(Fe),ze(Ce),ze(re),ze(Fe);const Ie=a.length/3,Ye=E.generateSideWallUV(r,a,Ie-6,Ie-3,Ie-2,Ie-1);vt(Ye[0]),vt(Ye[1]),vt(Ye[3]),vt(Ye[1]),vt(Ye[2]),vt(Ye[3])}function ze(Be){a.push(u[Be*3+0]),a.push(u[Be*3+1]),a.push(u[Be*3+2])}function vt(Be){o.push(Be.x),o.push(Be.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return _ae(t,r,e)}static fromJSON(e,t){const r=[];for(let o=0,l=e.shapes.length;o<l;o++){const s=t[e.shapes[o]];r.push(s)}const a=e.options.extrudePath;return a!==void 0&&(e.options.extrudePath=new DE[a.type]().fromJSON(a)),new iA(r,e.options)}}const Sae={generateTopUV:function(n,e,t,r,a){const o=e[t*3],l=e[t*3+1],s=e[r*3],u=e[r*3+1],d=e[a*3],g=e[a*3+1];return[new Mt(o,l),new Mt(s,u),new Mt(d,g)]},generateSideWallUV:function(n,e,t,r,a,o){const l=e[t*3],s=e[t*3+1],u=e[t*3+2],d=e[r*3],g=e[r*3+1],y=e[r*3+2],_=e[a*3],C=e[a*3+1],c=e[a*3+2],p=e[o*3],m=e[o*3+1],b=e[o*3+2];return Math.abs(s-g)<Math.abs(l-d)?[new Mt(l,1-u),new Mt(d,1-y),new Mt(_,1-c),new Mt(p,1-b)]:[new Mt(s,1-u),new Mt(g,1-y),new Mt(C,1-c),new Mt(m,1-b)]}};function _ae(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,a=n.length;r<a;r++){const o=n[r];t.shapes.push(o.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class rA extends Wh{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,a=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(a,o,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new rA(e.radius,e.detail)}}class WS extends Wh{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],a=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,a,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new WS(e.radius,e.detail)}}class z0 extends ni{constructor(e=1,t=1,r=1,a=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:a};const o=e/2,l=t/2,s=Math.floor(r),u=Math.floor(a),d=s+1,g=u+1,y=e/s,_=t/u,C=[],c=[],p=[],m=[];for(let b=0;b<g;b++){const E=b*_-l;for(let T=0;T<d;T++){const R=T*y-o;c.push(R,-E,0),p.push(0,0,1),m.push(T/s),m.push(1-b/u)}}for(let b=0;b<u;b++)for(let E=0;E<s;E++){const T=E+d*b,R=E+d*(b+1),O=E+1+d*(b+1),D=E+1+d*b;C.push(T,R,D),C.push(R,O,D)}this.setIndex(C),this.setAttribute("position",new vn(c,3)),this.setAttribute("normal",new vn(p,3)),this.setAttribute("uv",new vn(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new z0(e.width,e.height,e.widthSegments,e.heightSegments)}}class aA extends ni{constructor(e=.5,t=1,r=32,a=1,o=0,l=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:a,thetaStart:o,thetaLength:l},r=Math.max(3,r),a=Math.max(1,a);const s=[],u=[],d=[],g=[];let y=e;const _=(t-e)/a,C=new be,c=new Mt;for(let p=0;p<=a;p++){for(let m=0;m<=r;m++){const b=o+m/r*l;C.x=y*Math.cos(b),C.y=y*Math.sin(b),u.push(C.x,C.y,C.z),d.push(0,0,1),c.x=(C.x/t+1)/2,c.y=(C.y/t+1)/2,g.push(c.x,c.y)}y+=_}for(let p=0;p<a;p++){const m=p*(r+1);for(let b=0;b<r;b++){const E=b+m,T=E,R=E+r+1,O=E+r+2,D=E+1;s.push(T,R,D),s.push(R,O,D)}}this.setIndex(s),this.setAttribute("position",new vn(u,3)),this.setAttribute("normal",new vn(d,3)),this.setAttribute("uv",new vn(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new aA(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class oA extends ni{constructor(e=new Em([new Mt(0,.5),new Mt(-.5,-.5),new Mt(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],a=[],o=[],l=[];let s=0,u=0;if(Array.isArray(e)===!1)d(e);else for(let g=0;g<e.length;g++)d(e[g]),this.addGroup(s,u,g),s+=u,u=0;this.setIndex(r),this.setAttribute("position",new vn(a,3)),this.setAttribute("normal",new vn(o,3)),this.setAttribute("uv",new vn(l,2));function d(g){const y=a.length/3,_=g.extractPoints(t);let C=_.shape;const c=_.holes;Ku.isClockWise(C)===!1&&(C=C.reverse());for(let m=0,b=c.length;m<b;m++){const E=c[m];Ku.isClockWise(E)===!0&&(c[m]=E.reverse())}const p=Ku.triangulateShape(C,c);for(let m=0,b=c.length;m<b;m++){const E=c[m];C=C.concat(E)}for(let m=0,b=C.length;m<b;m++){const E=C[m];a.push(E.x,E.y,0),o.push(0,0,1),l.push(E.x,E.y)}for(let m=0,b=p.length;m<b;m++){const E=p[m],T=E[0]+y,R=E[1]+y,O=E[2]+y;r.push(T,R,O),u+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return xae(t,e)}static fromJSON(e,t){const r=[];for(let a=0,o=e.shapes.length;a<o;a++){const l=t[e.shapes[a]];r.push(l)}return new oA(r,e.curveSegments)}}function xae(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const a=n[t];e.shapes.push(a.uuid)}else e.shapes.push(n.uuid);return e}class XS extends ni{constructor(e=1,t=32,r=16,a=0,o=Math.PI*2,l=0,s=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:a,phiLength:o,thetaStart:l,thetaLength:s},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const u=Math.min(l+s,Math.PI);let d=0;const g=[],y=new be,_=new be,C=[],c=[],p=[],m=[];for(let b=0;b<=r;b++){const E=[],T=b/r;let R=0;b===0&&l===0?R=.5/t:b===r&&u===Math.PI&&(R=-.5/t);for(let O=0;O<=t;O++){const D=O/t;y.x=-e*Math.cos(a+D*o)*Math.sin(l+T*s),y.y=e*Math.cos(l+T*s),y.z=e*Math.sin(a+D*o)*Math.sin(l+T*s),c.push(y.x,y.y,y.z),_.copy(y).normalize(),p.push(_.x,_.y,_.z),m.push(D+R,1-T),E.push(d++)}g.push(E)}for(let b=0;b<r;b++)for(let E=0;E<t;E++){const T=g[b][E+1],R=g[b][E],O=g[b+1][E],D=g[b+1][E+1];(b!==0||l>0)&&C.push(T,R,D),(b!==r-1||u<Math.PI)&&C.push(R,O,D)}this.setIndex(C),this.setAttribute("position",new vn(c,3)),this.setAttribute("normal",new vn(p,3)),this.setAttribute("uv",new vn(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new XS(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class sA extends Wh{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],a=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,a,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new sA(e.radius,e.detail)}}class lA extends ni{constructor(e=1,t=.4,r=12,a=48,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:a,arc:o},r=Math.floor(r),a=Math.floor(a);const l=[],s=[],u=[],d=[],g=new be,y=new be,_=new be;for(let C=0;C<=r;C++)for(let c=0;c<=a;c++){const p=c/a*o,m=C/r*Math.PI*2;y.x=(e+t*Math.cos(m))*Math.cos(p),y.y=(e+t*Math.cos(m))*Math.sin(p),y.z=t*Math.sin(m),s.push(y.x,y.y,y.z),g.x=e*Math.cos(p),g.y=e*Math.sin(p),_.subVectors(y,g).normalize(),u.push(_.x,_.y,_.z),d.push(c/a),d.push(C/r)}for(let C=1;C<=r;C++)for(let c=1;c<=a;c++){const p=(a+1)*C+c-1,m=(a+1)*(C-1)+c-1,b=(a+1)*(C-1)+c,E=(a+1)*C+c;l.push(p,m,E),l.push(m,b,E)}this.setIndex(l),this.setAttribute("position",new vn(s,3)),this.setAttribute("normal",new vn(u,3)),this.setAttribute("uv",new vn(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new lA(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class cA extends ni{constructor(e=1,t=.4,r=64,a=8,o=2,l=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:a,p:o,q:l},r=Math.floor(r),a=Math.floor(a);const s=[],u=[],d=[],g=[],y=new be,_=new be,C=new be,c=new be,p=new be,m=new be,b=new be;for(let T=0;T<=r;++T){const R=T/r*o*Math.PI*2;E(R,o,l,e,C),E(R+.01,o,l,e,c),m.subVectors(c,C),b.addVectors(c,C),p.crossVectors(m,b),b.crossVectors(p,m),p.normalize(),b.normalize();for(let O=0;O<=a;++O){const D=O/a*Math.PI*2,P=-t*Math.cos(D),F=t*Math.sin(D);y.x=C.x+(P*b.x+F*p.x),y.y=C.y+(P*b.y+F*p.y),y.z=C.z+(P*b.z+F*p.z),u.push(y.x,y.y,y.z),_.subVectors(y,C).normalize(),d.push(_.x,_.y,_.z),g.push(T/r),g.push(O/a)}}for(let T=1;T<=r;T++)for(let R=1;R<=a;R++){const O=(a+1)*(T-1)+(R-1),D=(a+1)*T+(R-1),P=(a+1)*T+R,F=(a+1)*(T-1)+R;s.push(O,D,F),s.push(D,P,F)}this.setIndex(s),this.setAttribute("position",new vn(u,3)),this.setAttribute("normal",new vn(d,3)),this.setAttribute("uv",new vn(g,2));function E(T,R,O,D,P){const F=Math.cos(T),U=Math.sin(T),z=O/R*T,$=Math.cos(z);P.x=D*(2+$)*.5*F,P.y=D*(2+$)*U*.5,P.z=D*Math.sin(z)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new cA(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class uA extends ni{constructor(e=new II(new be(-1,-1,0),new be(-1,1,0),new be(1,1,0)),t=64,r=1,a=8,o=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:a,closed:o};const l=e.computeFrenetFrames(t,o);this.tangents=l.tangents,this.normals=l.normals,this.binormals=l.binormals;const s=new be,u=new be,d=new Mt;let g=new be;const y=[],_=[],C=[],c=[];p(),this.setIndex(c),this.setAttribute("position",new vn(y,3)),this.setAttribute("normal",new vn(_,3)),this.setAttribute("uv",new vn(C,2));function p(){for(let T=0;T<t;T++)m(T);m(o===!1?t:0),E(),b()}function m(T){g=e.getPointAt(T/t,g);const R=l.normals[T],O=l.binormals[T];for(let D=0;D<=a;D++){const P=D/a*Math.PI*2,F=Math.sin(P),U=-Math.cos(P);u.x=U*R.x+F*O.x,u.y=U*R.y+F*O.y,u.z=U*R.z+F*O.z,u.normalize(),_.push(u.x,u.y,u.z),s.x=g.x+r*u.x,s.y=g.y+r*u.y,s.z=g.z+r*u.z,y.push(s.x,s.y,s.z)}}function b(){for(let T=1;T<=t;T++)for(let R=1;R<=a;R++){const O=(a+1)*(T-1)+(R-1),D=(a+1)*T+(R-1),P=(a+1)*T+R,F=(a+1)*(T-1)+R;c.push(O,D,F),c.push(D,P,F)}}function E(){for(let T=0;T<=t;T++)for(let R=0;R<=a;R++)d.x=T/t,d.y=R/a,C.push(d.x,d.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new uA(new DE[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class r6 extends ni{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,a=new be,o=new be;if(e.index!==null){const l=e.attributes.position,s=e.index;let u=e.groups;u.length===0&&(u=[{start:0,count:s.count,materialIndex:0}]);for(let d=0,g=u.length;d<g;++d){const y=u[d],_=y.start,C=y.count;for(let c=_,p=_+C;c<p;c+=3)for(let m=0;m<3;m++){const b=s.getX(c+m),E=s.getX(c+(m+1)%3);a.fromBufferAttribute(l,b),o.fromBufferAttribute(l,E),E3(a,o,r)===!0&&(t.push(a.x,a.y,a.z),t.push(o.x,o.y,o.z))}}}else{const l=e.attributes.position;for(let s=0,u=l.count/3;s<u;s++)for(let d=0;d<3;d++){const g=3*s+d,y=3*s+(d+1)%3;a.fromBufferAttribute(l,g),o.fromBufferAttribute(l,y),E3(a,o,r)===!0&&(t.push(a.x,a.y,a.z),t.push(o.x,o.y,o.z))}}this.setAttribute("position",new vn(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function E3(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,a=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(a)===!0?!1:(t.add(r),t.add(a),!0)}var w3=Object.freeze({__proto__:null,BoxGeometry:Vm,CapsuleGeometry:Qw,CircleGeometry:Zw,ConeGeometry:eA,CylinderGeometry:N0,DodecahedronGeometry:tA,EdgesGeometry:e6,ExtrudeGeometry:iA,IcosahedronGeometry:rA,LatheGeometry:jS,OctahedronGeometry:WS,PlaneGeometry:z0,PolyhedronGeometry:Wh,RingGeometry:aA,ShapeGeometry:oA,SphereGeometry:XS,TetrahedronGeometry:sA,TorusGeometry:lA,TorusKnotGeometry:cA,TubeGeometry:uA,WireframeGeometry:r6});class a6 extends Ia{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new en(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class o6 extends jc{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class YS extends Ia{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new en(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new en(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=jh,this.normalScale=new Mt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new al,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class $l extends YS{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Mt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Jn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new en(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new en(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new en(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class s6 extends Ia{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new en(16777215),this.specular=new en(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new en(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=jh,this.normalScale=new Mt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new al,this.combine=US,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class l6 extends Ia{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new en(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new en(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=jh,this.normalScale=new Mt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class c6 extends Ia{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=jh,this.normalScale=new Mt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class u6 extends Ia{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new en(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new en(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=jh,this.normalScale=new Mt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new al,this.combine=US,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class DI extends Ia{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=w8,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class PI extends Ia{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class f6 extends Ia{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new en(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=jh,this.normalScale=new Mt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class d6 extends Fo{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function gm(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function h6(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function p6(n){function e(a,o){return n[a]-n[o]}const t=n.length,r=new Array(t);for(let a=0;a!==t;++a)r[a]=a;return r.sort(e),r}function I2(n,e,t){const r=n.length,a=new n.constructor(r);for(let o=0,l=0;l!==r;++o){const s=t[o]*e;for(let u=0;u!==e;++u)a[l++]=n[s+u]}return a}function LI(n,e,t,r){let a=1,o=n[0];for(;o!==void 0&&o[r]===void 0;)o=n[a++];if(o===void 0)return;let l=o[r];if(l!==void 0)if(Array.isArray(l))do l=o[r],l!==void 0&&(e.push(o.time),t.push(...l)),o=n[a++];while(o!==void 0);else if(l.toArray!==void 0)do l=o[r],l!==void 0&&(e.push(o.time),l.toArray(t,t.length)),o=n[a++];while(o!==void 0);else do l=o[r],l!==void 0&&(e.push(o.time),t.push(l)),o=n[a++];while(o!==void 0)}function Cae(n,e,t,r,a=30){const o=n.clone();o.name=e;const l=[];for(let u=0;u<o.tracks.length;++u){const d=o.tracks[u],g=d.getValueSize(),y=[],_=[];for(let C=0;C<d.times.length;++C){const c=d.times[C]*a;if(!(c<t||c>=r)){y.push(d.times[C]);for(let p=0;p<g;++p)_.push(d.values[C*g+p])}}y.length!==0&&(d.times=gm(y,d.times.constructor),d.values=gm(_,d.values.constructor),l.push(d))}o.tracks=l;let s=1/0;for(let u=0;u<o.tracks.length;++u)s>o.tracks[u].times[0]&&(s=o.tracks[u].times[0]);for(let u=0;u<o.tracks.length;++u)o.tracks[u].shift(-1*s);return o.resetDuration(),o}function Eae(n,e=0,t=n,r=30){r<=0&&(r=30);const a=t.tracks.length,o=e/r;for(let l=0;l<a;++l){const s=t.tracks[l],u=s.ValueTypeName;if(u==="bool"||u==="string")continue;const d=n.tracks.find(function(b){return b.name===s.name&&b.ValueTypeName===u});if(d===void 0)continue;let g=0;const y=s.getValueSize();s.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(g=y/3);let _=0;const C=d.getValueSize();d.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(_=C/3);const c=s.times.length-1;let p;if(o<=s.times[0]){const b=g,E=y-g;p=s.values.slice(b,E)}else if(o>=s.times[c]){const b=c*y+g,E=b+y-g;p=s.values.slice(b,E)}else{const b=s.createInterpolant(),E=g,T=y-g;b.evaluate(o),p=b.resultBuffer.slice(E,T)}u==="quaternion"&&new Ja().fromArray(p).normalize().conjugate().toArray(p);const m=d.times.length;for(let b=0;b<m;++b){const E=b*C+_;if(u==="quaternion")Ja.multiplyQuaternionsFlat(d.values,E,p,0,d.values,E);else{const T=C-_*2;for(let R=0;R<T;++R)d.values[E+R]-=p[R]}}}return n.blendMode=pI,n}const wae={convertArray:gm,isTypedArray:h6,getKeyframeOrder:p6,sortedArray:I2,flattenJSON:LI,subclip:Cae,makeClipAdditive:Eae};class U0{constructor(e,t,r,a){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=a!==void 0?a:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,a=t[r],o=t[r-1];e:{t:{let l;n:{i:if(!(e<a)){for(let s=r+2;;){if(a===void 0){if(e<o)break i;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===s)break;if(o=a,a=t[++r],e<a)break t}l=t.length;break n}if(!(e>=o)){const s=t[1];e<s&&(r=2,o=s);for(let u=r-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===u)break;if(a=o,o=t[--r-1],e>=o)break t}l=r,r=0;break n}break e}for(;r<l;){const s=r+l>>>1;e<t[s]?l=s:r=s+1}if(a=t[r],o=t[r-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(a===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,o,a)}return this.interpolate_(r,o,e,a)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,a=this.valueSize,o=e*a;for(let l=0;l!==a;++l)t[l]=r[o+l];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class m6 extends U0{constructor(e,t,r,a){super(e,t,r,a),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:pm,endingEnd:pm}}intervalChanged_(e,t,r){const a=this.parameterPositions;let o=e-2,l=e+1,s=a[o],u=a[l];if(s===void 0)switch(this.getSettings_().endingStart){case mm:o=e,s=2*t-r;break;case sS:o=a.length-2,s=t+a[o]-a[o+1];break;default:o=e,s=r}if(u===void 0)switch(this.getSettings_().endingEnd){case mm:l=e,u=2*r-t;break;case sS:l=1,u=r+a[1]-a[0];break;default:l=e-1,u=t}const d=(r-t)*.5,g=this.valueSize;this._weightPrev=d/(t-s),this._weightNext=d/(u-r),this._offsetPrev=o*g,this._offsetNext=l*g}interpolate_(e,t,r,a){const o=this.resultBuffer,l=this.sampleValues,s=this.valueSize,u=e*s,d=u-s,g=this._offsetPrev,y=this._offsetNext,_=this._weightPrev,C=this._weightNext,c=(r-t)/(a-t),p=c*c,m=p*c,b=-_*m+2*_*p-_*c,E=(1+_)*m+(-1.5-2*_)*p+(-.5+_)*c+1,T=(-1-C)*m+(1.5+C)*p+.5*c,R=C*m-C*p;for(let O=0;O!==s;++O)o[O]=b*l[g+O]+E*l[d+O]+T*l[u+O]+R*l[y+O];return o}}class NI extends U0{constructor(e,t,r,a){super(e,t,r,a)}interpolate_(e,t,r,a){const o=this.resultBuffer,l=this.sampleValues,s=this.valueSize,u=e*s,d=u-s,g=(r-t)/(a-t),y=1-g;for(let _=0;_!==s;++_)o[_]=l[d+_]*y+l[u+_]*g;return o}}class g6 extends U0{constructor(e,t,r,a){super(e,t,r,a)}interpolate_(e){return this.copySampleValue_(e-1)}}class Jc{constructor(e,t,r,a){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=gm(t,this.TimeBufferType),this.values=gm(r,this.ValueBufferType),this.setInterpolation(a||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:gm(e.times,Array),values:gm(e.values,Array)};const a=e.getInterpolation();a!==e.DefaultInterpolation&&(r.interpolation=a)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new g6(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new NI(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new m6(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case p0:t=this.InterpolantFactoryMethodDiscrete;break;case m0:t=this.InterpolantFactoryMethodLinear;break;case jC:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return p0;case this.InterpolantFactoryMethodLinear:return m0;case this.InterpolantFactoryMethodSmooth:return jC}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,a=t.length;r!==a;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,a=t.length;r!==a;++r)t[r]*=e}return this}trim(e,t){const r=this.times,a=r.length;let o=0,l=a-1;for(;o!==a&&r[o]<e;)++o;for(;l!==-1&&r[l]>t;)--l;if(++l,o!==0||l!==a){o>=l&&(l=Math.max(l,1),o=l-1);const s=this.getValueSize();this.times=r.slice(o,l),this.values=this.values.slice(o*s,l*s)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,a=this.values,o=r.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let l=null;for(let s=0;s!==o;s++){const u=r[s];if(typeof u=="number"&&isNaN(u)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,s,u),e=!1;break}if(l!==null&&l>u){console.error("THREE.KeyframeTrack: Out of order keys.",this,s,u,l),e=!1;break}l=u}if(a!==void 0&&h6(a))for(let s=0,u=a.length;s!==u;++s){const d=a[s];if(isNaN(d)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,d),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),r=this.getValueSize(),a=this.getInterpolation()===jC,o=e.length-1;let l=1;for(let s=1;s<o;++s){let u=!1;const d=e[s],g=e[s+1];if(d!==g&&(s!==1||d!==e[0]))if(a)u=!0;else{const y=s*r,_=y-r,C=y+r;for(let c=0;c!==r;++c){const p=t[y+c];if(p!==t[_+c]||p!==t[C+c]){u=!0;break}}}if(u){if(s!==l){e[l]=e[s];const y=s*r,_=l*r;for(let C=0;C!==r;++C)t[_+C]=t[y+C]}++l}}if(o>0){e[l]=e[o];for(let s=o*r,u=l*r,d=0;d!==r;++d)t[u+d]=t[s+d];++l}return l!==e.length?(this.times=e.slice(0,l),this.values=t.slice(0,l*r)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),r=this.constructor,a=new r(this.name,e,t);return a.createInterpolant=this.createInterpolant,a}}Jc.prototype.TimeBufferType=Float32Array;Jc.prototype.ValueBufferType=Float32Array;Jc.prototype.DefaultInterpolation=m0;class jm extends Jc{constructor(e,t,r){super(e,t,r)}}jm.prototype.ValueTypeName="bool";jm.prototype.ValueBufferType=Array;jm.prototype.DefaultInterpolation=p0;jm.prototype.InterpolantFactoryMethodLinear=void 0;jm.prototype.InterpolantFactoryMethodSmooth=void 0;class zI extends Jc{}zI.prototype.ValueTypeName="color";class Im extends Jc{}Im.prototype.ValueTypeName="number";class v6 extends U0{constructor(e,t,r,a){super(e,t,r,a)}interpolate_(e,t,r,a){const o=this.resultBuffer,l=this.sampleValues,s=this.valueSize,u=(r-t)/(a-t);let d=e*s;for(let g=d+s;d!==g;d+=4)Ja.slerpFlat(o,0,l,d-s,l,d,u);return o}}class Bm extends Jc{InterpolantFactoryMethodLinear(e){return new v6(this.times,this.values,this.getValueSize(),e)}}Bm.prototype.ValueTypeName="quaternion";Bm.prototype.InterpolantFactoryMethodSmooth=void 0;class Wm extends Jc{constructor(e,t,r){super(e,t,r)}}Wm.prototype.ValueTypeName="string";Wm.prototype.ValueBufferType=Array;Wm.prototype.DefaultInterpolation=p0;Wm.prototype.InterpolantFactoryMethodLinear=void 0;Wm.prototype.InterpolantFactoryMethodSmooth=void 0;class Dm extends Jc{}Dm.prototype.ValueTypeName="vector";class b0{constructor(e="",t=-1,r=[],a=kw){this.name=e,this.tracks=r,this.duration=t,this.blendMode=a,this.uuid=il(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,a=1/(e.fps||1);for(let l=0,s=r.length;l!==s;++l)t.push(Mae(r[l]).scale(a));const o=new this(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){const t=[],r=e.tracks,a={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,l=r.length;o!==l;++o)t.push(Jc.toJSON(r[o]));return a}static CreateFromMorphTargetSequence(e,t,r,a){const o=t.length,l=[];for(let s=0;s<o;s++){let u=[],d=[];u.push((s+o-1)%o,s,(s+1)%o),d.push(0,1,0);const g=p6(u);u=I2(u,1,g),d=I2(d,1,g),!a&&u[0]===0&&(u.push(o),d.push(d[0])),l.push(new Im(".morphTargetInfluences["+t[s].name+"]",u,d).scale(1/r))}return new this(e,-1,l)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const a=e;r=a.geometry&&a.geometry.animations||a.animations}for(let a=0;a<r.length;a++)if(r[a].name===t)return r[a];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const a={},o=/^([\w-]*?)([\d]+)$/;for(let s=0,u=e.length;s<u;s++){const d=e[s],g=d.name.match(o);if(g&&g.length>1){const y=g[1];let _=a[y];_||(a[y]=_=[]),_.push(d)}}const l=[];for(const s in a)l.push(this.CreateFromMorphTargetSequence(s,a[s],t,r));return l}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(y,_,C,c,p){if(C.length!==0){const m=[],b=[];LI(C,m,b,c),m.length!==0&&p.push(new y(_,m,b))}},a=[],o=e.name||"default",l=e.fps||30,s=e.blendMode;let u=e.length||-1;const d=e.hierarchy||[];for(let y=0;y<d.length;y++){const _=d[y].keys;if(!(!_||_.length===0))if(_[0].morphTargets){const C={};let c;for(c=0;c<_.length;c++)if(_[c].morphTargets)for(let p=0;p<_[c].morphTargets.length;p++)C[_[c].morphTargets[p]]=-1;for(const p in C){const m=[],b=[];for(let E=0;E!==_[c].morphTargets.length;++E){const T=_[c];m.push(T.time),b.push(T.morphTarget===p?1:0)}a.push(new Im(".morphTargetInfluence["+p+"]",m,b))}u=C.length*l}else{const C=".bones["+t[y].name+"]";r(Dm,C+".position",_,"pos",a),r(Bm,C+".quaternion",_,"rot",a),r(Dm,C+".scale",_,"scl",a)}}return a.length===0?null:new this(o,u,a,s)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,a=e.length;r!==a;++r){const o=this.tracks[r];t=Math.max(t,o.times[o.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Aae(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Im;case"vector":case"vector2":case"vector3":case"vector4":return Dm;case"color":return zI;case"quaternion":return Bm;case"bool":case"boolean":return jm;case"string":return Wm}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function Mae(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Aae(n.type);if(n.times===void 0){const t=[],r=[];LI(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const od={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class UI{constructor(e,t,r){const a=this;let o=!1,l=0,s=0,u;const d=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(g){s++,o===!1&&a.onStart!==void 0&&a.onStart(g,l,s),o=!0},this.itemEnd=function(g){l++,a.onProgress!==void 0&&a.onProgress(g,l,s),l===s&&(o=!1,a.onLoad!==void 0&&a.onLoad())},this.itemError=function(g){a.onError!==void 0&&a.onError(g)},this.resolveURL=function(g){return u?u(g):g},this.setURLModifier=function(g){return u=g,this},this.addHandler=function(g,y){return d.push(g,y),this},this.removeHandler=function(g){const y=d.indexOf(g);return y!==-1&&d.splice(y,2),this},this.getHandler=function(g){for(let y=0,_=d.length;y<_;y+=2){const C=d[y],c=d[y+1];if(C.global&&(C.lastIndex=0),C.test(g))return c}return null}}}const y6=new UI;class Ho{constructor(e){this.manager=e!==void 0?e:y6,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(a,o){r.load(e,a,t,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Ho.DEFAULT_MATERIAL_NAME="__DEFAULT";const Gf={};class Tae extends Error{constructor(e,t){super(e),this.response=t}}class ol extends Ho{constructor(e){super(e)}load(e,t,r,a){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=od.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(o),this.manager.itemEnd(e)},0),o;if(Gf[e]!==void 0){Gf[e].push({onLoad:t,onProgress:r,onError:a});return}Gf[e]=[],Gf[e].push({onLoad:t,onProgress:r,onError:a});const l=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,u=this.responseType;fetch(l).then(d=>{if(d.status===200||d.status===0){if(d.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||d.body===void 0||d.body.getReader===void 0)return d;const g=Gf[e],y=d.body.getReader(),_=d.headers.get("X-File-Size")||d.headers.get("Content-Length"),C=_?parseInt(_):0,c=C!==0;let p=0;const m=new ReadableStream({start(b){E();function E(){y.read().then(({done:T,value:R})=>{if(T)b.close();else{p+=R.byteLength;const O=new ProgressEvent("progress",{lengthComputable:c,loaded:p,total:C});for(let D=0,P=g.length;D<P;D++){const F=g[D];F.onProgress&&F.onProgress(O)}b.enqueue(R),E()}},T=>{b.error(T)})}}});return new Response(m)}else throw new Tae(`fetch for "${d.url}" responded with ${d.status}: ${d.statusText}`,d)}).then(d=>{switch(u){case"arraybuffer":return d.arrayBuffer();case"blob":return d.blob();case"document":return d.text().then(g=>new DOMParser().parseFromString(g,s));case"json":return d.json();default:if(s===void 0)return d.text();{const y=/charset="?([^;"\s]*)"?/i.exec(s),_=y&&y[1]?y[1].toLowerCase():void 0,C=new TextDecoder(_);return d.arrayBuffer().then(c=>C.decode(c))}}}).then(d=>{od.add(e,d);const g=Gf[e];delete Gf[e];for(let y=0,_=g.length;y<_;y++){const C=g[y];C.onLoad&&C.onLoad(d)}}).catch(d=>{const g=Gf[e];if(g===void 0)throw this.manager.itemError(e),d;delete Gf[e];for(let y=0,_=g.length;y<_;y++){const C=g[y];C.onError&&C.onError(d)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Rae extends Ho{constructor(e){super(e)}load(e,t,r,a){const o=this,l=new ol(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(s){try{t(o.parse(JSON.parse(s)))}catch(u){a?a(u):console.error(u),o.manager.itemError(e)}},r,a)}parse(e){const t=[];for(let r=0;r<e.length;r++){const a=b0.parse(e[r]);t.push(a)}return t}}class Oae extends Ho{constructor(e){super(e)}load(e,t,r,a){const o=this,l=[],s=new Kw,u=new ol(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(o.withCredentials);let d=0;function g(y){u.load(e[y],function(_){const C=o.parse(_,!0);l[y]={width:C.width,height:C.height,format:C.format,mipmaps:C.mipmaps},d+=1,d===6&&(C.mipmapCount===1&&(s.minFilter=ha),s.image=l,s.format=C.format,s.needsUpdate=!0,t&&t(s))},r,a)}if(Array.isArray(e))for(let y=0,_=e.length;y<_;++y)g(y);else u.load(e,function(y){const _=o.parse(y,!0);if(_.isCubemap){const C=_.mipmaps.length/_.mipmapCount;for(let c=0;c<C;c++){l[c]={mipmaps:[]};for(let p=0;p<_.mipmapCount;p++)l[c].mipmaps.push(_.mipmaps[c*_.mipmapCount+p]),l[c].format=_.format,l[c].width=_.width,l[c].height=_.height}s.image=l}else s.image.width=_.width,s.image.height=_.height,s.mipmaps=_.mipmaps;_.mipmapCount===1&&(s.minFilter=ha),s.format=_.format,s.needsUpdate=!0,t&&t(s)},r,a);return s}}class gS extends Ho{constructor(e){super(e)}load(e,t,r,a){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,l=od.get(e);if(l!==void 0)return o.manager.itemStart(e),setTimeout(function(){t&&t(l),o.manager.itemEnd(e)},0),l;const s=fS("img");function u(){g(),od.add(e,this),t&&t(this),o.manager.itemEnd(e)}function d(y){g(),a&&a(y),o.manager.itemError(e),o.manager.itemEnd(e)}function g(){s.removeEventListener("load",u,!1),s.removeEventListener("error",d,!1)}return s.addEventListener("load",u,!1),s.addEventListener("error",d,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(s.crossOrigin=this.crossOrigin),o.manager.itemStart(e),s.src=e,s}}class Iae extends Ho{constructor(e){super(e)}load(e,t,r,a){const o=new GS;o.colorSpace=Do;const l=new gS(this.manager);l.setCrossOrigin(this.crossOrigin),l.setPath(this.path);let s=0;function u(d){l.load(e[d],function(g){o.images[d]=g,s++,s===6&&(o.needsUpdate=!0,t&&t(o))},void 0,a)}for(let d=0;d<e.length;++d)u(d);return o}}class Bae extends Ho{constructor(e){super(e)}load(e,t,r,a){const o=this,l=new qu,s=new ol(this.manager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(o.withCredentials),s.load(e,function(u){let d;try{d=o.parse(u)}catch(g){if(a!==void 0)a(g);else{console.error(g);return}}d.image!==void 0?l.image=d.image:d.data!==void 0&&(l.image.width=d.width,l.image.height=d.height,l.image.data=d.data),l.wrapS=d.wrapS!==void 0?d.wrapS:el,l.wrapT=d.wrapT!==void 0?d.wrapT:el,l.magFilter=d.magFilter!==void 0?d.magFilter:ha,l.minFilter=d.minFilter!==void 0?d.minFilter:ha,l.anisotropy=d.anisotropy!==void 0?d.anisotropy:1,d.colorSpace!==void 0&&(l.colorSpace=d.colorSpace),d.flipY!==void 0&&(l.flipY=d.flipY),d.format!==void 0&&(l.format=d.format),d.type!==void 0&&(l.type=d.type),d.mipmaps!==void 0&&(l.mipmaps=d.mipmaps,l.minFilter=Fl),d.mipmapCount===1&&(l.minFilter=ha),d.generateMipmaps!==void 0&&(l.generateMipmaps=d.generateMipmaps),l.needsUpdate=!0,t&&t(l,d)},r,a),l}}class b6 extends Ho{constructor(e){super(e)}load(e,t,r,a){const o=new Pr,l=new gS(this.manager);return l.setCrossOrigin(this.crossOrigin),l.setPath(this.path),l.load(e,function(s){o.image=s,o.needsUpdate=!0,t!==void 0&&t(o)},r,a),o}}class Xh extends Bi{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new en(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class S6 extends Xh{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Bi.DEFAULT_UP),this.updateMatrix(),this.groundColor=new en(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const xT=new Pn,A3=new be,M3=new be;class FI{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Mt(512,512),this.map=null,this.mapPass=null,this.matrix=new Pn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new VS,this._frameExtents=new Mt(1,1),this._viewportCount=1,this._viewports=[new Gi(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;A3.setFromMatrixPosition(e.matrixWorld),t.position.copy(A3),M3.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(M3),t.updateMatrixWorld(),xT.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(xT),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(xT)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Dae extends FI{constructor(){super(new jr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=g0*2*e.angle*this.focus,a=this.mapSize.width/this.mapSize.height,o=e.distance||t.far;(r!==t.fov||a!==t.aspect||o!==t.far)&&(t.fov=r,t.aspect=a,t.far=o,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class HI extends Xh{constructor(e,t,r=0,a=Math.PI/3,o=0,l=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Bi.DEFAULT_UP),this.updateMatrix(),this.target=new Bi,this.distance=r,this.angle=a,this.penumbra=o,this.decay=l,this.map=null,this.shadow=new Dae}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const T3=new Pn,nb=new be,CT=new be;class Pae extends FI{constructor(){super(new jr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Mt(4,2),this._viewportCount=6,this._viewports=[new Gi(2,1,1,1),new Gi(0,1,1,1),new Gi(3,1,1,1),new Gi(1,1,1,1),new Gi(3,0,1,1),new Gi(1,0,1,1)],this._cubeDirections=[new be(1,0,0),new be(-1,0,0),new be(0,0,1),new be(0,0,-1),new be(0,1,0),new be(0,-1,0)],this._cubeUps=[new be(0,1,0),new be(0,1,0),new be(0,1,0),new be(0,1,0),new be(0,0,1),new be(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,a=this.matrix,o=e.distance||r.far;o!==r.far&&(r.far=o,r.updateProjectionMatrix()),nb.setFromMatrixPosition(e.matrixWorld),r.position.copy(nb),CT.copy(r.position),CT.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(CT),r.updateMatrixWorld(),a.makeTranslation(-nb.x,-nb.y,-nb.z),T3.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(T3)}}class GI extends Xh{constructor(e,t,r=0,a=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=a,this.shadow=new Pae}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class dd extends jw{constructor(e=-1,t=1,r=1,a=-1,o=.1,l=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=a,this.near=o,this.far=l,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,a,o,l){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=a,this.view.width=o,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,a=(this.top+this.bottom)/2;let o=r-e,l=r+e,s=a+t,u=a-t;if(this.view!==null&&this.view.enabled){const d=(this.right-this.left)/this.view.fullWidth/this.zoom,g=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=d*this.view.offsetX,l=o+d*this.view.width,s-=g*this.view.offsetY,u=s-g*this.view.height}this.projectionMatrix.makeOrthographic(o,l,s,u,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class Lae extends FI{constructor(){super(new dd(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class kI extends Xh{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Bi.DEFAULT_UP),this.updateMatrix(),this.target=new Bi,this.shadow=new Lae}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class _6 extends Xh{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class x6 extends Xh{constructor(e,t,r=10,a=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=a}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class C6{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new be)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,a=e.y,o=e.z,l=this.coefficients;return t.copy(l[0]).multiplyScalar(.282095),t.addScaledVector(l[1],.488603*a),t.addScaledVector(l[2],.488603*o),t.addScaledVector(l[3],.488603*r),t.addScaledVector(l[4],1.092548*(r*a)),t.addScaledVector(l[5],1.092548*(a*o)),t.addScaledVector(l[6],.315392*(3*o*o-1)),t.addScaledVector(l[7],1.092548*(r*o)),t.addScaledVector(l[8],.546274*(r*r-a*a)),t}getIrradianceAt(e,t){const r=e.x,a=e.y,o=e.z,l=this.coefficients;return t.copy(l[0]).multiplyScalar(.886227),t.addScaledVector(l[1],2*.511664*a),t.addScaledVector(l[2],2*.511664*o),t.addScaledVector(l[3],2*.511664*r),t.addScaledVector(l[4],2*.429043*r*a),t.addScaledVector(l[5],2*.429043*a*o),t.addScaledVector(l[6],.743125*o*o-.247708),t.addScaledVector(l[7],2*.429043*r*o),t.addScaledVector(l[8],.429043*(r*r-a*a)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let a=0;a<9;a++)r[a].fromArray(e,t+a*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let a=0;a<9;a++)r[a].toArray(e,t+a*3);return e}static getBasisAt(e,t){const r=e.x,a=e.y,o=e.z;t[0]=.282095,t[1]=.488603*a,t[2]=.488603*o,t[3]=.488603*r,t[4]=1.092548*r*a,t[5]=1.092548*a*o,t[6]=.315392*(3*o*o-1),t[7]=1.092548*r*o,t[8]=.546274*(r*r-a*a)}}class E6 extends Xh{constructor(e=new C6,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class fA extends Ho{constructor(e){super(e),this.textures={}}load(e,t,r,a){const o=this,l=new ol(o.manager);l.setPath(o.path),l.setRequestHeader(o.requestHeader),l.setWithCredentials(o.withCredentials),l.load(e,function(s){try{t(o.parse(JSON.parse(s)))}catch(u){a?a(u):console.error(u),o.manager.itemError(e)}},r,a)}parse(e){const t=this.textures;function r(o){return t[o]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",o),t[o]}const a=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(a.uuid=e.uuid),e.name!==void 0&&(a.name=e.name),e.color!==void 0&&a.color!==void 0&&a.color.setHex(e.color),e.roughness!==void 0&&(a.roughness=e.roughness),e.metalness!==void 0&&(a.metalness=e.metalness),e.sheen!==void 0&&(a.sheen=e.sheen),e.sheenColor!==void 0&&(a.sheenColor=new en().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(a.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&a.emissive!==void 0&&a.emissive.setHex(e.emissive),e.specular!==void 0&&a.specular!==void 0&&a.specular.setHex(e.specular),e.specularIntensity!==void 0&&(a.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&a.specularColor!==void 0&&a.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(a.shininess=e.shininess),e.clearcoat!==void 0&&(a.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(a.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(a.dispersion=e.dispersion),e.iridescence!==void 0&&(a.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(a.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(a.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(a.transmission=e.transmission),e.thickness!==void 0&&(a.thickness=e.thickness),e.attenuationDistance!==void 0&&(a.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&a.attenuationColor!==void 0&&a.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(a.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(a.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(a.fog=e.fog),e.flatShading!==void 0&&(a.flatShading=e.flatShading),e.blending!==void 0&&(a.blending=e.blending),e.combine!==void 0&&(a.combine=e.combine),e.side!==void 0&&(a.side=e.side),e.shadowSide!==void 0&&(a.shadowSide=e.shadowSide),e.opacity!==void 0&&(a.opacity=e.opacity),e.transparent!==void 0&&(a.transparent=e.transparent),e.alphaTest!==void 0&&(a.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(a.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(a.depthFunc=e.depthFunc),e.depthTest!==void 0&&(a.depthTest=e.depthTest),e.depthWrite!==void 0&&(a.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(a.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(a.blendSrc=e.blendSrc),e.blendDst!==void 0&&(a.blendDst=e.blendDst),e.blendEquation!==void 0&&(a.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(a.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(a.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(a.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&a.blendColor!==void 0&&a.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(a.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(a.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(a.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(a.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(a.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(a.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(a.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(a.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(a.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(a.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(a.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(a.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(a.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(a.rotation=e.rotation),e.linewidth!==void 0&&(a.linewidth=e.linewidth),e.dashSize!==void 0&&(a.dashSize=e.dashSize),e.gapSize!==void 0&&(a.gapSize=e.gapSize),e.scale!==void 0&&(a.scale=e.scale),e.polygonOffset!==void 0&&(a.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(a.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(a.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(a.dithering=e.dithering),e.alphaToCoverage!==void 0&&(a.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(a.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(a.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(a.visible=e.visible),e.toneMapped!==void 0&&(a.toneMapped=e.toneMapped),e.userData!==void 0&&(a.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?a.vertexColors=e.vertexColors>0:a.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const o in e.uniforms){const l=e.uniforms[o];switch(a.uniforms[o]={},l.type){case"t":a.uniforms[o].value=r(l.value);break;case"c":a.uniforms[o].value=new en().setHex(l.value);break;case"v2":a.uniforms[o].value=new Mt().fromArray(l.value);break;case"v3":a.uniforms[o].value=new be().fromArray(l.value);break;case"v4":a.uniforms[o].value=new Gi().fromArray(l.value);break;case"m3":a.uniforms[o].value=new ti().fromArray(l.value);break;case"m4":a.uniforms[o].value=new Pn().fromArray(l.value);break;default:a.uniforms[o].value=l.value}}if(e.defines!==void 0&&(a.defines=e.defines),e.vertexShader!==void 0&&(a.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(a.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(a.glslVersion=e.glslVersion),e.extensions!==void 0)for(const o in e.extensions)a.extensions[o]=e.extensions[o];if(e.lights!==void 0&&(a.lights=e.lights),e.clipping!==void 0&&(a.clipping=e.clipping),e.size!==void 0&&(a.size=e.size),e.sizeAttenuation!==void 0&&(a.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(a.map=r(e.map)),e.matcap!==void 0&&(a.matcap=r(e.matcap)),e.alphaMap!==void 0&&(a.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(a.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(a.bumpScale=e.bumpScale),e.normalMap!==void 0&&(a.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(a.normalMapType=e.normalMapType),e.normalScale!==void 0){let o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),a.normalScale=new Mt().fromArray(o)}return e.displacementMap!==void 0&&(a.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(a.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(a.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(a.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(a.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(a.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(a.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(a.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(a.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(a.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(a.envMap=r(e.envMap)),e.envMapRotation!==void 0&&a.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(a.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(a.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(a.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(a.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(a.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(a.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(a.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(a.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(a.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(a.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(a.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(a.clearcoatNormalScale=new Mt().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(a.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(a.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(a.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(a.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(a.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(a.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(a.sheenRoughnessMap=r(e.sheenRoughnessMap)),a}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return fA.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:a6,SpriteMaterial:_I,RawShaderMaterial:o6,ShaderMaterial:jc,PointsMaterial:qw,MeshPhysicalMaterial:$l,MeshStandardMaterial:YS,MeshPhongMaterial:s6,MeshToonMaterial:l6,MeshNormalMaterial:c6,MeshLambertMaterial:u6,MeshDepthMaterial:DI,MeshDistanceMaterial:PI,MeshBasicMaterial:tl,MeshMatcapMaterial:f6,LineDashedMaterial:d6,LineBasicMaterial:Fo,Material:Ia};return new t[e]}}class Bh{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,a=e.length;r<a;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class w6 extends ni{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class A6 extends Ho{constructor(e){super(e)}load(e,t,r,a){const o=this,l=new ol(o.manager);l.setPath(o.path),l.setRequestHeader(o.requestHeader),l.setWithCredentials(o.withCredentials),l.load(e,function(s){try{t(o.parse(JSON.parse(s)))}catch(u){a?a(u):console.error(u),o.manager.itemError(e)}},r,a)}parse(e){const t={},r={};function a(C,c){if(t[c]!==void 0)return t[c];const m=C.interleavedBuffers[c],b=o(C,m.buffer),E=Nv(m.type,b),T=new kS(E,m.stride);return T.uuid=m.uuid,t[c]=T,T}function o(C,c){if(r[c]!==void 0)return r[c];const m=C.arrayBuffers[c],b=new Uint32Array(m).buffer;return r[c]=b,b}const l=e.isInstancedBufferGeometry?new w6:new ni,s=e.data.index;if(s!==void 0){const C=Nv(s.type,s.array);l.setIndex(new ki(C,1))}const u=e.data.attributes;for(const C in u){const c=u[C];let p;if(c.isInterleavedBufferAttribute){const m=a(e.data,c.data);p=new kh(m,c.itemSize,c.offset,c.normalized)}else{const m=Nv(c.type,c.array),b=c.isInstancedBufferAttribute?Rm:ki;p=new b(m,c.itemSize,c.normalized)}c.name!==void 0&&(p.name=c.name),c.usage!==void 0&&p.setUsage(c.usage),l.setAttribute(C,p)}const d=e.data.morphAttributes;if(d)for(const C in d){const c=d[C],p=[];for(let m=0,b=c.length;m<b;m++){const E=c[m];let T;if(E.isInterleavedBufferAttribute){const R=a(e.data,E.data);T=new kh(R,E.itemSize,E.offset,E.normalized)}else{const R=Nv(E.type,E.array);T=new ki(R,E.itemSize,E.normalized)}E.name!==void 0&&(T.name=E.name),p.push(T)}l.morphAttributes[C]=p}e.data.morphTargetsRelative&&(l.morphTargetsRelative=!0);const y=e.data.groups||e.data.drawcalls||e.data.offsets;if(y!==void 0)for(let C=0,c=y.length;C!==c;++C){const p=y[C];l.addGroup(p.start,p.count,p.materialIndex)}const _=e.data.boundingSphere;if(_!==void 0){const C=new be;_.center!==void 0&&C.fromArray(_.center),l.boundingSphere=new mo(C,_.radius)}return e.name&&(l.name=e.name),e.userData&&(l.userData=e.userData),l}}class Nae extends Ho{constructor(e){super(e)}load(e,t,r,a){const o=this,l=this.path===""?Bh.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||l;const s=new ol(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(u){let d=null;try{d=JSON.parse(u)}catch(y){a!==void 0&&a(y),console.error("THREE:ObjectLoader: Can't parse "+e+".",y.message);return}const g=d.metadata;if(g===void 0||g.type===void 0||g.type.toLowerCase()==="geometry"){a!==void 0&&a(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}o.parse(d,t)},r,a)}async loadAsync(e,t){const r=this,a=this.path===""?Bh.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const o=new ol(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);const l=await o.loadAsync(e,t),s=JSON.parse(l),u=s.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(s)}parse(e,t){const r=this.parseAnimations(e.animations),a=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,a),l=this.parseImages(e.images,function(){t!==void 0&&t(d)}),s=this.parseTextures(e.textures,l),u=this.parseMaterials(e.materials,s),d=this.parseObject(e.object,o,u,s,r),g=this.parseSkeletons(e.skeletons,d);if(this.bindSkeletons(d,g),this.bindLightTargets(d),t!==void 0){let y=!1;for(const _ in l)if(l[_].data instanceof HTMLImageElement){y=!0;break}y===!1&&t(d)}return d}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,r),o=await this.parseImagesAsync(e.images),l=this.parseTextures(e.textures,o),s=this.parseMaterials(e.materials,l),u=this.parseObject(e.object,a,s,l,t),d=this.parseSkeletons(e.skeletons,u);return this.bindSkeletons(u,d),this.bindLightTargets(u),u}parseShapes(e){const t={};if(e!==void 0)for(let r=0,a=e.length;r<a;r++){const o=new Em().fromJSON(e[r]);t[o.uuid]=o}return t}parseSkeletons(e,t){const r={},a={};if(t.traverse(function(o){o.isBone&&(a[o.uuid]=o)}),e!==void 0)for(let o=0,l=e.length;o<l;o++){const s=new $S().fromJSON(e[o],a);r[s.uuid]=s}return r}parseGeometries(e,t){const r={};if(e!==void 0){const a=new A6;for(let o=0,l=e.length;o<l;o++){let s;const u=e[o];switch(u.type){case"BufferGeometry":case"InstancedBufferGeometry":s=a.parse(u);break;default:u.type in w3?s=w3[u.type].fromJSON(u,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${u.type}"`)}s.uuid=u.uuid,u.name!==void 0&&(s.name=u.name),u.userData!==void 0&&(s.userData=u.userData),r[u.uuid]=s}}return r}parseMaterials(e,t){const r={},a={};if(e!==void 0){const o=new fA;o.setTextures(t);for(let l=0,s=e.length;l<s;l++){const u=e[l];r[u.uuid]===void 0&&(r[u.uuid]=o.parse(u)),a[u.uuid]=r[u.uuid]}}return a}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const a=e[r],o=b0.parse(a);t[o.uuid]=o}return t}parseImages(e,t){const r=this,a={};let o;function l(u){return r.manager.itemStart(u),o.load(u,function(){r.manager.itemEnd(u)},void 0,function(){r.manager.itemError(u),r.manager.itemEnd(u)})}function s(u){if(typeof u=="string"){const d=u,g=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(d)?d:r.resourcePath+d;return l(g)}else return u.data?{data:Nv(u.type,u.data),width:u.width,height:u.height}:null}if(e!==void 0&&e.length>0){const u=new UI(t);o=new gS(u),o.setCrossOrigin(this.crossOrigin);for(let d=0,g=e.length;d<g;d++){const y=e[d],_=y.url;if(Array.isArray(_)){const C=[];for(let c=0,p=_.length;c<p;c++){const m=_[c],b=s(m);b!==null&&(b instanceof HTMLImageElement?C.push(b):C.push(new qu(b.data,b.width,b.height)))}a[y.uuid]=new Th(C)}else{const C=s(y.url);a[y.uuid]=new Th(C)}}}return a}async parseImagesAsync(e){const t=this,r={};let a;async function o(l){if(typeof l=="string"){const s=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(s)?s:t.resourcePath+s;return await a.loadAsync(u)}else return l.data?{data:Nv(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){a=new gS(this.manager),a.setCrossOrigin(this.crossOrigin);for(let l=0,s=e.length;l<s;l++){const u=e[l],d=u.url;if(Array.isArray(d)){const g=[];for(let y=0,_=d.length;y<_;y++){const C=d[y],c=await o(C);c!==null&&(c instanceof HTMLImageElement?g.push(c):g.push(new qu(c.data,c.width,c.height)))}r[u.uuid]=new Th(g)}else{const g=await o(u.url);r[u.uuid]=new Th(g)}}}return r}parseTextures(e,t){function r(o,l){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),l[o])}const a={};if(e!==void 0)for(let o=0,l=e.length;o<l;o++){const s=e[o];s.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),t[s.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",s.image);const u=t[s.image],d=u.data;let g;Array.isArray(d)?(g=new GS,d.length===6&&(g.needsUpdate=!0)):(d&&d.data?g=new qu:g=new Pr,d&&(g.needsUpdate=!0)),g.source=u,g.uuid=s.uuid,s.name!==void 0&&(g.name=s.name),s.mapping!==void 0&&(g.mapping=r(s.mapping,zae)),s.channel!==void 0&&(g.channel=s.channel),s.offset!==void 0&&g.offset.fromArray(s.offset),s.repeat!==void 0&&g.repeat.fromArray(s.repeat),s.center!==void 0&&g.center.fromArray(s.center),s.rotation!==void 0&&(g.rotation=s.rotation),s.wrap!==void 0&&(g.wrapS=r(s.wrap[0],R3),g.wrapT=r(s.wrap[1],R3)),s.format!==void 0&&(g.format=s.format),s.internalFormat!==void 0&&(g.internalFormat=s.internalFormat),s.type!==void 0&&(g.type=s.type),s.colorSpace!==void 0&&(g.colorSpace=s.colorSpace),s.minFilter!==void 0&&(g.minFilter=r(s.minFilter,O3)),s.magFilter!==void 0&&(g.magFilter=r(s.magFilter,O3)),s.anisotropy!==void 0&&(g.anisotropy=s.anisotropy),s.flipY!==void 0&&(g.flipY=s.flipY),s.generateMipmaps!==void 0&&(g.generateMipmaps=s.generateMipmaps),s.premultiplyAlpha!==void 0&&(g.premultiplyAlpha=s.premultiplyAlpha),s.unpackAlignment!==void 0&&(g.unpackAlignment=s.unpackAlignment),s.compareFunction!==void 0&&(g.compareFunction=s.compareFunction),s.userData!==void 0&&(g.userData=s.userData),a[s.uuid]=g}return a}parseObject(e,t,r,a,o){let l;function s(_){return t[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",_),t[_]}function u(_){if(_!==void 0){if(Array.isArray(_)){const C=[];for(let c=0,p=_.length;c<p;c++){const m=_[c];r[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",m),C.push(r[m])}return C}return r[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_),r[_]}}function d(_){return a[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",_),a[_]}let g,y;switch(e.type){case"Scene":l=new SI,e.background!==void 0&&(Number.isInteger(e.background)?l.background=new en(e.background):l.background=d(e.background)),e.environment!==void 0&&(l.environment=d(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?l.fog=new Xw(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(l.fog=new Ww(e.fog.color,e.fog.density)),e.fog.name!==""&&(l.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(l.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(l.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&l.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(l.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&l.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":l=new jr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(l.focus=e.focus),e.zoom!==void 0&&(l.zoom=e.zoom),e.filmGauge!==void 0&&(l.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(l.filmOffset=e.filmOffset),e.view!==void 0&&(l.view=Object.assign({},e.view));break;case"OrthographicCamera":l=new dd(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(l.zoom=e.zoom),e.view!==void 0&&(l.view=Object.assign({},e.view));break;case"AmbientLight":l=new _6(e.color,e.intensity);break;case"DirectionalLight":l=new kI(e.color,e.intensity),l.target=e.target||"";break;case"PointLight":l=new GI(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":l=new x6(e.color,e.intensity,e.width,e.height);break;case"SpotLight":l=new HI(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),l.target=e.target||"";break;case"HemisphereLight":l=new S6(e.color,e.groundColor,e.intensity);break;case"LightProbe":l=new E6().fromJSON(e);break;case"SkinnedMesh":g=s(e.geometry),y=u(e.material),l=new xI(g,y),e.bindMode!==void 0&&(l.bindMode=e.bindMode),e.bindMatrix!==void 0&&l.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(l.skeleton=e.skeleton);break;case"Mesh":g=s(e.geometry),y=u(e.material),l=new pa(g,y);break;case"InstancedMesh":g=s(e.geometry),y=u(e.material);const _=e.count,C=e.instanceMatrix,c=e.instanceColor;l=new CI(g,y,_),l.instanceMatrix=new Rm(new Float32Array(C.array),16),c!==void 0&&(l.instanceColor=new Rm(new Float32Array(c.array),c.itemSize));break;case"BatchedMesh":g=s(e.geometry),y=u(e.material),l=new X8(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,y),l.geometry=g,l.perObjectFrustumCulled=e.perObjectFrustumCulled,l.sortObjects=e.sortObjects,l._drawRanges=e.drawRanges,l._reservedRanges=e.reservedRanges,l._visibility=e.visibility,l._active=e.active,l._bounds=e.bounds.map(p=>{const m=new po;m.min.fromArray(p.boxMin),m.max.fromArray(p.boxMax);const b=new mo;return b.radius=p.sphereRadius,b.center.fromArray(p.sphereCenter),{boxInitialized:p.boxInitialized,box:m,sphereInitialized:p.sphereInitialized,sphere:b}}),l._maxInstanceCount=e.maxInstanceCount,l._maxVertexCount=e.maxVertexCount,l._maxIndexCount=e.maxIndexCount,l._geometryInitialized=e.geometryInitialized,l._geometryCount=e.geometryCount,l._matricesTexture=d(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(l._colorsTexture=d(e.colorsTexture.uuid));break;case"LOD":l=new W8;break;case"Line":l=new yd(s(e.geometry),u(e.material));break;case"LineLoop":l=new EI(s(e.geometry),u(e.material));break;case"LineSegments":l=new qc(s(e.geometry),u(e.material));break;case"PointCloud":case"Points":l=new wI(s(e.geometry),u(e.material));break;case"Sprite":l=new j8(u(e.material));break;case"Group":l=new ad;break;case"Bone":l=new Yw;break;default:l=new Bi}if(l.uuid=e.uuid,e.name!==void 0&&(l.name=e.name),e.matrix!==void 0?(l.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(l.matrixAutoUpdate=e.matrixAutoUpdate),l.matrixAutoUpdate&&l.matrix.decompose(l.position,l.quaternion,l.scale)):(e.position!==void 0&&l.position.fromArray(e.position),e.rotation!==void 0&&l.rotation.fromArray(e.rotation),e.quaternion!==void 0&&l.quaternion.fromArray(e.quaternion),e.scale!==void 0&&l.scale.fromArray(e.scale)),e.up!==void 0&&l.up.fromArray(e.up),e.castShadow!==void 0&&(l.castShadow=e.castShadow),e.receiveShadow!==void 0&&(l.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(l.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(l.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(l.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(l.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&l.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(l.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(l.visible=e.visible),e.frustumCulled!==void 0&&(l.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(l.renderOrder=e.renderOrder),e.userData!==void 0&&(l.userData=e.userData),e.layers!==void 0&&(l.layers.mask=e.layers),e.children!==void 0){const _=e.children;for(let C=0;C<_.length;C++)l.add(this.parseObject(_[C],t,r,a,o))}if(e.animations!==void 0){const _=e.animations;for(let C=0;C<_.length;C++){const c=_[C];l.animations.push(o[c])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(l.autoUpdate=e.autoUpdate);const _=e.levels;for(let C=0;C<_.length;C++){const c=_[C],p=l.getObjectByProperty("uuid",c.object);p!==void 0&&l.addLevel(p,c.distance,c.hysteresis)}}return l}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const a=t[r.skeleton];a===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(a,r.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const r=t.target,a=e.getObjectByProperty("uuid",r);a!==void 0?t.target=a:t.target=new Bi}})}}const zae={UVMapping:Pw,CubeReflectionMapping:gd,CubeRefractionMapping:Fh,EquirectangularReflectionMapping:aS,EquirectangularRefractionMapping:oS,CubeUVReflectionMapping:P0},R3={RepeatWrapping:Hh,ClampToEdgeWrapping:el,MirroredRepeatWrapping:d0},O3={NearestFilter:Ka,NearestMipmapNearestFilter:Lw,NearestMipmapLinearFilter:hm,LinearFilter:ha,LinearMipmapNearestFilter:Jv,LinearMipmapLinearFilter:Fl};class M6 extends Ho{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,a){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,l=od.get(e);if(l!==void 0){if(o.manager.itemStart(e),l.then){l.then(d=>{t&&t(d),o.manager.itemEnd(e)}).catch(d=>{a&&a(d)});return}return setTimeout(function(){t&&t(l),o.manager.itemEnd(e)},0),l}const s={};s.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",s.headers=this.requestHeader;const u=fetch(e,s).then(function(d){return d.blob()}).then(function(d){return createImageBitmap(d,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(d){return od.add(e,d),t&&t(d),o.manager.itemEnd(e),d}).catch(function(d){a&&a(d),od.remove(e),o.manager.itemError(e),o.manager.itemEnd(e)});od.add(e,u),o.manager.itemStart(e)}}let lC,$I=class{static getContext(){return lC===void 0&&(lC=new(window.AudioContext||window.webkitAudioContext)),lC}static setContext(e){lC=e}};class Uae extends Ho{constructor(e){super(e)}load(e,t,r,a){const o=this,l=new ol(this.manager);l.setResponseType("arraybuffer"),l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{const d=u.slice(0);$I.getContext().decodeAudioData(d,function(y){t(y)}).catch(s)}catch(d){s(d)}},r,a);function s(u){a?a(u):console.error(u),o.manager.itemError(e)}}}const I3=new Pn,B3=new Pn,Dp=new Pn;class Fae{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new jr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new jr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Dp.copy(e.projectionMatrix);const a=t.eyeSep/2,o=a*t.near/t.focus,l=t.near*Math.tan(Cm*t.fov*.5)/t.zoom;let s,u;B3.elements[12]=-a,I3.elements[12]=a,s=-l*t.aspect+o,u=l*t.aspect+o,Dp.elements[0]=2*t.near/(u-s),Dp.elements[8]=(u+s)/(u-s),this.cameraL.projectionMatrix.copy(Dp),s=-l*t.aspect-o,u=l*t.aspect-o,Dp.elements[0]=2*t.near/(u-s),Dp.elements[8]=(u+s)/(u-s),this.cameraR.projectionMatrix.copy(Dp)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(B3),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(I3)}}class T6 extends jr{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e,this.index=0}}class VI{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=D3(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=D3();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function D3(){return performance.now()}const Pp=new be,P3=new Ja,Hae=new be,Lp=new be;class Gae extends Bi{constructor(){super(),this.type="AudioListener",this.context=$I.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new VI}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Pp,P3,Hae),Lp.set(0,0,-1).applyQuaternion(P3),t.positionX){const a=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Pp.x,a),t.positionY.linearRampToValueAtTime(Pp.y,a),t.positionZ.linearRampToValueAtTime(Pp.z,a),t.forwardX.linearRampToValueAtTime(Lp.x,a),t.forwardY.linearRampToValueAtTime(Lp.y,a),t.forwardZ.linearRampToValueAtTime(Lp.z,a),t.upX.linearRampToValueAtTime(r.x,a),t.upY.linearRampToValueAtTime(r.y,a),t.upZ.linearRampToValueAtTime(r.z,a)}else t.setPosition(Pp.x,Pp.y,Pp.z),t.setOrientation(Lp.x,Lp.y,Lp.z,r.x,r.y,r.z)}}class R6 extends Bi{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Np=new be,L3=new Ja,kae=new be,zp=new be;class $ae extends R6{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Np,L3,kae),zp.set(0,0,1).applyQuaternion(L3);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Np.x,r),t.positionY.linearRampToValueAtTime(Np.y,r),t.positionZ.linearRampToValueAtTime(Np.z,r),t.orientationX.linearRampToValueAtTime(zp.x,r),t.orientationY.linearRampToValueAtTime(zp.y,r),t.orientationZ.linearRampToValueAtTime(zp.z,r)}else t.setPosition(Np.x,Np.y,Np.z),t.setOrientation(zp.x,zp.y,zp.z)}}class Vae{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class O6{constructor(e,t,r){this.binding=e,this.valueSize=r;let a,o,l;switch(t){case"quaternion":a=this._slerp,o=this._slerpAdditive,l=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":a=this._select,o=this._select,l=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:a=this._lerp,o=this._lerpAdditive,l=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=a,this._mixBufferRegionAdditive=o,this._setIdentity=l,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,a=this.valueSize,o=e*a+a;let l=this.cumulativeWeight;if(l===0){for(let s=0;s!==a;++s)r[o+s]=r[s];l=t}else{l+=t;const s=t/l;this._mixBufferRegion(r,o,0,s,a)}this.cumulativeWeight=l}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,a=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,a,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,a=e*t+t,o=this.cumulativeWeight,l=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const u=t*this._origIndex;this._mixBufferRegion(r,a,u,1-o,t)}l>0&&this._mixBufferRegionAdditive(r,a,this._addIndex*t,1,t);for(let u=t,d=t+t;u!==d;++u)if(r[u]!==r[u+t]){s.setValue(r,a);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,a=r*this._origIndex;e.getValue(t,a);for(let o=r,l=a;o!==l;++o)t[o]=t[a+o%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,a,o){if(a>=.5)for(let l=0;l!==o;++l)e[t+l]=e[r+l]}_slerp(e,t,r,a){Ja.slerpFlat(e,t,e,t,e,r,a)}_slerpAdditive(e,t,r,a,o){const l=this._workIndex*o;Ja.multiplyQuaternionsFlat(e,l,e,t,e,r),Ja.slerpFlat(e,t,e,t,e,l,a)}_lerp(e,t,r,a,o){const l=1-a;for(let s=0;s!==o;++s){const u=t+s;e[u]=e[u]*l+e[r+s]*a}}_lerpAdditive(e,t,r,a,o){for(let l=0;l!==o;++l){const s=t+l;e[s]=e[s]+e[r+l]*a}}}const jI="\\[\\]\\.:\\/",jae=new RegExp("["+jI+"]","g"),WI="[^"+jI+"]",Wae="[^"+jI.replace("\\.","")+"]",Xae=/((?:WC+[\/:])*)/.source.replace("WC",WI),Yae=/(WCOD+)?/.source.replace("WCOD",Wae),qae=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",WI),Kae=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",WI),Jae=new RegExp("^"+Xae+Yae+qae+Kae+"$"),Qae=["material","materials","bones","map"];class Zae{constructor(e,t,r){const a=r||Ui.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,a)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,a=this._bindings[r];a!==void 0&&a.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let a=this._targetGroup.nCachedObjects_,o=r.length;a!==o;++a)r[a].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class Ui{constructor(e,t,r){this.path=t,this.parsedPath=r||Ui.parseTrackName(t),this.node=Ui.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new Ui.Composite(e,t,r):new Ui(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(jae,"")}static parseTrackName(e){const t=Jae.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},a=r.nodeName&&r.nodeName.lastIndexOf(".");if(a!==void 0&&a!==-1){const o=r.nodeName.substring(a+1);Qae.indexOf(o)!==-1&&(r.nodeName=r.nodeName.substring(0,a),r.objectName=o)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(o){for(let l=0;l<o.length;l++){const s=o[l];if(s.name===t||s.uuid===t)return s;const u=r(s.children);if(u)return u}return null},a=r(e.children);if(a)return a}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let a=0,o=r.length;a!==o;++a)e[t++]=r[a]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let a=0,o=r.length;a!==o;++a)r[a]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let a=0,o=r.length;a!==o;++a)r[a]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let a=0,o=r.length;a!==o;++a)r[a]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,a=t.propertyName;let o=t.propertyIndex;if(e||(e=Ui.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let d=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let g=0;g<e.length;g++)if(e[g].name===d){d=g;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(d!==void 0){if(e[d]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[d]}}const l=e[a];if(l===void 0){const d=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+d+"."+a+" but it wasn't found.",e);return}let s=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?s=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(s=this.Versioning.MatrixWorldNeedsUpdate);let u=this.BindingType.Direct;if(o!==void 0){if(a==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}u=this.BindingType.ArrayElement,this.resolvedProperty=l,this.propertyIndex=o}else l.fromArray!==void 0&&l.toArray!==void 0?(u=this.BindingType.HasFromToArray,this.resolvedProperty=l):Array.isArray(l)?(u=this.BindingType.EntireArray,this.resolvedProperty=l):this.propertyName=a;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Ui.Composite=Zae;Ui.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Ui.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Ui.prototype.GetterByBindingType=[Ui.prototype._getValue_direct,Ui.prototype._getValue_array,Ui.prototype._getValue_arrayElement,Ui.prototype._getValue_toArray];Ui.prototype.SetterByBindingTypeAndVersioning=[[Ui.prototype._setValue_direct,Ui.prototype._setValue_direct_setNeedsUpdate,Ui.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Ui.prototype._setValue_array,Ui.prototype._setValue_array_setNeedsUpdate,Ui.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Ui.prototype._setValue_arrayElement,Ui.prototype._setValue_arrayElement_setNeedsUpdate,Ui.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Ui.prototype._setValue_fromArray,Ui.prototype._setValue_fromArray_setNeedsUpdate,Ui.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class eoe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=il(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,a=arguments.length;r!==a;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,a=this._parsedPaths,o=this._bindings,l=o.length;let s,u=e.length,d=this.nCachedObjects_;for(let g=0,y=arguments.length;g!==y;++g){const _=arguments[g],C=_.uuid;let c=t[C];if(c===void 0){c=u++,t[C]=c,e.push(_);for(let p=0,m=l;p!==m;++p)o[p].push(new Ui(_,r[p],a[p]))}else if(c<d){s=e[c];const p=--d,m=e[p];t[m.uuid]=c,e[c]=m,t[C]=p,e[p]=_;for(let b=0,E=l;b!==E;++b){const T=o[b],R=T[p];let O=T[c];T[c]=R,O===void 0&&(O=new Ui(_,r[b],a[b])),T[p]=O}}else e[c]!==s&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=d}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,a=r.length;let o=this.nCachedObjects_;for(let l=0,s=arguments.length;l!==s;++l){const u=arguments[l],d=u.uuid,g=t[d];if(g!==void 0&&g>=o){const y=o++,_=e[y];t[_.uuid]=g,e[g]=_,t[d]=y,e[y]=u;for(let C=0,c=a;C!==c;++C){const p=r[C],m=p[y],b=p[g];p[g]=m,p[y]=b}}}this.nCachedObjects_=o}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,a=r.length;let o=this.nCachedObjects_,l=e.length;for(let s=0,u=arguments.length;s!==u;++s){const d=arguments[s],g=d.uuid,y=t[g];if(y!==void 0)if(delete t[g],y<o){const _=--o,C=e[_],c=--l,p=e[c];t[C.uuid]=y,e[y]=C,t[p.uuid]=_,e[_]=p,e.pop();for(let m=0,b=a;m!==b;++m){const E=r[m],T=E[_],R=E[c];E[y]=T,E[_]=R,E.pop()}}else{const _=--l,C=e[_];_>0&&(t[C.uuid]=y),e[y]=C,e.pop();for(let c=0,p=a;c!==p;++c){const m=r[c];m[y]=m[_],m.pop()}}}this.nCachedObjects_=o}subscribe_(e,t){const r=this._bindingsIndicesByPath;let a=r[e];const o=this._bindings;if(a!==void 0)return o[a];const l=this._paths,s=this._parsedPaths,u=this._objects,d=u.length,g=this.nCachedObjects_,y=new Array(d);a=o.length,r[e]=a,l.push(e),s.push(t),o.push(y);for(let _=g,C=u.length;_!==C;++_){const c=u[_];y[_]=new Ui(c,e,t)}return y}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const a=this._paths,o=this._parsedPaths,l=this._bindings,s=l.length-1,u=l[s],d=e[s];t[d]=r,l[r]=u,l.pop(),o[r]=o[s],o.pop(),a[r]=a[s],a.pop()}}}class I6{constructor(e,t,r=null,a=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=a;const o=t.tracks,l=o.length,s=new Array(l),u={endingStart:pm,endingEnd:pm};for(let d=0;d!==l;++d){const g=o[d].createInterpolant(null);s[d]=g,g.settings=u}this._interpolantSettings=u,this._interpolants=s,this._propertyBindings=new Array(l),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=x8,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const a=this._clip.duration,o=e._clip.duration,l=o/a,s=a/o;e.warp(1,l,t),this.warp(s,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const a=this._mixer,o=a.time,l=this.timeScale;let s=this._timeScaleInterpolant;s===null&&(s=a._lendControlInterpolant(),this._timeScaleInterpolant=s);const u=s.parameterPositions,d=s.sampleValues;return u[0]=o,u[1]=o+r,d[0]=e/l,d[1]=t/l,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,a){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const u=(e-o)*r;u<0||r===0?t=0:(this._startTime=null,t=r*u)}t*=this._updateTimeScale(e);const l=this._updateTime(t),s=this._updateWeight(e);if(s>0){const u=this._interpolants,d=this._propertyBindings;switch(this.blendMode){case pI:for(let g=0,y=u.length;g!==y;++g)u[g].evaluate(l),d[g].accumulateAdditive(s);break;case kw:default:for(let g=0,y=u.length;g!==y;++g)u[g].evaluate(l),d[g].accumulate(a,s)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const a=r.evaluate(e)[0];t*=a,e>r.parameterPositions[1]&&(this.stopFading(),a===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const a=r.evaluate(e)[0];t*=a,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let a=this.time+e,o=this._loopCount;const l=r===C8;if(e===0)return o===-1?a:l&&(o&1)===1?t-a:a;if(r===_8){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(a>=t)a=t;else if(a<0)a=0;else{this.time=a;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=a,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,l)):this._setEndings(this.repetitions===0,!0,l)),a>=t||a<0){const s=Math.floor(a/t);a-=t*s,o+=Math.abs(s);const u=this.repetitions-o;if(u<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,a=e>0?t:0,this.time=a,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(u===1){const d=e<0;this._setEndings(d,!d,l)}else this._setEndings(!1,!1,l);this._loopCount=o,this.time=a,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:s})}}else this.time=a;if(l&&(o&1)===1)return t-a}return a}_setEndings(e,t,r){const a=this._interpolantSettings;r?(a.endingStart=mm,a.endingEnd=mm):(e?a.endingStart=this.zeroSlopeAtStart?mm:pm:a.endingStart=sS,t?a.endingEnd=this.zeroSlopeAtEnd?mm:pm:a.endingEnd=sS)}_scheduleFading(e,t,r){const a=this._mixer,o=a.time;let l=this._weightInterpolant;l===null&&(l=a._lendControlInterpolant(),this._weightInterpolant=l);const s=l.parameterPositions,u=l.sampleValues;return s[0]=o,u[0]=t,s[1]=o+e,u[1]=r,this}}const toe=new Float32Array(1);class noe extends sf{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,a=e._clip.tracks,o=a.length,l=e._propertyBindings,s=e._interpolants,u=r.uuid,d=this._bindingsByRootAndName;let g=d[u];g===void 0&&(g={},d[u]=g);for(let y=0;y!==o;++y){const _=a[y],C=_.name;let c=g[C];if(c!==void 0)++c.referenceCount,l[y]=c;else{if(c=l[y],c!==void 0){c._cacheIndex===null&&(++c.referenceCount,this._addInactiveBinding(c,u,C));continue}const p=t&&t._propertyBindings[y].binding.parsedPath;c=new O6(Ui.create(r,C,p),_.ValueTypeName,_.getValueSize()),++c.referenceCount,this._addInactiveBinding(c,u,C),l[y]=c}s[y].resultBuffer=c.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,a=e._clip.uuid,o=this._actionsByClip[a];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,a,r)}const t=e._propertyBindings;for(let r=0,a=t.length;r!==a;++r){const o=t[r];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,a=t.length;r!==a;++r){const o=t[r];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const a=this._actions,o=this._actionsByClip;let l=o[t];if(l===void 0)l={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[t]=l;else{const s=l.knownActions;e._byClipCacheIndex=s.length,s.push(e)}e._cacheIndex=a.length,a.push(e),l.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],a=e._cacheIndex;r._cacheIndex=a,t[a]=r,t.pop(),e._cacheIndex=null;const o=e._clip.uuid,l=this._actionsByClip,s=l[o],u=s.knownActions,d=u[u.length-1],g=e._byClipCacheIndex;d._byClipCacheIndex=g,u[g]=d,u.pop(),e._byClipCacheIndex=null;const y=s.actionByRoot,_=(e._localRoot||this._root).uuid;delete y[_],u.length===0&&delete l[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,a=t.length;r!==a;++r){const o=t[r];--o.referenceCount===0&&this._removeInactiveBinding(o)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,a=this._nActiveActions++,o=t[a];e._cacheIndex=a,t[a]=e,o._cacheIndex=r,t[r]=o}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,a=--this._nActiveActions,o=t[a];e._cacheIndex=a,t[a]=e,o._cacheIndex=r,t[r]=o}_addInactiveBinding(e,t,r){const a=this._bindingsByRootAndName,o=this._bindings;let l=a[t];l===void 0&&(l={},a[t]=l),l[r]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,a=r.rootNode.uuid,o=r.path,l=this._bindingsByRootAndName,s=l[a],u=t[t.length-1],d=e._cacheIndex;u._cacheIndex=d,t[d]=u,t.pop(),delete s[o],Object.keys(s).length===0&&delete l[a]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,a=this._nActiveBindings++,o=t[a];e._cacheIndex=a,t[a]=e,o._cacheIndex=r,t[r]=o}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,a=--this._nActiveBindings,o=t[a];e._cacheIndex=a,t[a]=e,o._cacheIndex=r,t[r]=o}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new NI(new Float32Array(2),new Float32Array(2),1,toe),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,a=--this._nActiveControlInterpolants,o=t[a];e.__cacheIndex=a,t[a]=e,o.__cacheIndex=r,t[r]=o}clipAction(e,t,r){const a=t||this._root,o=a.uuid;let l=typeof e=="string"?b0.findByName(a,e):e;const s=l!==null?l.uuid:e,u=this._actionsByClip[s];let d=null;if(r===void 0&&(l!==null?r=l.blendMode:r=kw),u!==void 0){const y=u.actionByRoot[o];if(y!==void 0&&y.blendMode===r)return y;d=u.knownActions[0],l===null&&(l=d._clip)}if(l===null)return null;const g=new I6(this,l,t,r);return this._bindAction(g,d),this._addInactiveAction(g,s,o),g}existingAction(e,t){const r=t||this._root,a=r.uuid,o=typeof e=="string"?b0.findByName(r,e):e,l=o?o.uuid:e,s=this._actionsByClip[l];return s!==void 0&&s.actionByRoot[a]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,a=this.time+=e,o=Math.sign(e),l=this._accuIndex^=1;for(let d=0;d!==r;++d)t[d]._update(a,e,o,l);const s=this._bindings,u=this._nActiveBindings;for(let d=0;d!==u;++d)s[d].apply(l);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,a=this._actionsByClip,o=a[r];if(o!==void 0){const l=o.knownActions;for(let s=0,u=l.length;s!==u;++s){const d=l[s];this._deactivateAction(d);const g=d._cacheIndex,y=t[t.length-1];d._cacheIndex=null,d._byClipCacheIndex=null,y._cacheIndex=g,t[g]=y,t.pop(),this._removeInactiveBindingsForAction(d)}delete a[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const l in r){const s=r[l].actionByRoot,u=s[t];u!==void 0&&(this._deactivateAction(u),this._removeInactiveAction(u))}const a=this._bindingsByRootAndName,o=a[t];if(o!==void 0)for(const l in o){const s=o[l];s.restoreOriginalState(),this._removeInactiveBinding(s)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class ioe extends $w{constructor(e=1,t=1,r=1,a={}){super(e,t,a),this.isRenderTarget3D=!0,this.depth=r,this.texture=new Vw(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class roe extends $w{constructor(e=1,t=1,r=1,a={}){super(e,t,a),this.isRenderTargetArray=!0,this.depth=r,this.texture=new HS(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class XI{constructor(e){this.value=e}clone(){return new XI(this.value.clone===void 0?this.value:this.value.clone())}}let aoe=0;class ooe extends sf{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:aoe++}),this.name="",this.usage=cS,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,a=t.length;r<a;r++){const o=Array.isArray(t[r])?t[r]:[t[r]];for(let l=0;l<o.length;l++)this.uniforms.push(o[l].clone())}return this}clone(){return new this.constructor().copy(this)}}class soe extends kS{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class loe{constructor(e,t,r,a,o){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=a,this.count=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const N3=new Pn;class B6{constructor(e,t,r=0,a=1/0){this.ray=new $m(e,t),this.near=r,this.far=a,this.camera=null,this.layers=new v0,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return N3.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(N3),this}intersectObject(e,t=!0,r=[]){return B2(e,this,r,t),r.sort(z3),r}intersectObjects(e,t=!0,r=[]){for(let a=0,o=e.length;a<o;a++)B2(e[a],this,r,t);return r.sort(z3),r}}function z3(n,e){return n.distance-e.distance}function B2(n,e,t,r){let a=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(a=!1),a===!0&&r===!0){const o=n.children;for(let l=0,s=o.length;l<s;l++)B2(o[l],e,t,!0)}}class D2{constructor(e=1,t=0,r=0){this.radius=e,this.phi=t,this.theta=r}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Jn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Jn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class coe{constructor(e=1,t=0,r=0){this.radius=e,this.theta=t,this.y=r}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}class YI{constructor(e,t,r,a){YI.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,r,a)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let r=0;r<4;r++)this.elements[r]=e[r+t];return this}set(e,t,r,a){const o=this.elements;return o[0]=e,o[2]=t,o[1]=r,o[3]=a,this}}const U3=new Mt;class uoe{constructor(e=new Mt(1/0,1/0),t=new Mt(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=U3.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,U3).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const F3=new be,cC=new be;class foe{constructor(e=new be,t=new be){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){F3.subVectors(e,this.start),cC.subVectors(this.end,this.start);const r=cC.dot(cC);let o=cC.dot(F3)/r;return t&&(o=Jn(o,0,1)),o}closestPointToPoint(e,t,r){const a=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(a).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const H3=new be;class doe extends Bi{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const r=new ni,a=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let l=0,s=1,u=32;l<u;l++,s++){const d=l/u*Math.PI*2,g=s/u*Math.PI*2;a.push(Math.cos(d),Math.sin(d),1,Math.cos(g),Math.sin(g),1)}r.setAttribute("position",new vn(a,3));const o=new Fo({fog:!1,toneMapped:!1});this.cone=new qc(r,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),H3.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(H3),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const fh=new be,uC=new Pn,ET=new Pn;class hoe extends qc{constructor(e){const t=D6(e),r=new ni,a=[],o=[],l=new en(0,0,1),s=new en(0,1,0);for(let d=0;d<t.length;d++){const g=t[d];g.parent&&g.parent.isBone&&(a.push(0,0,0),a.push(0,0,0),o.push(l.r,l.g,l.b),o.push(s.r,s.g,s.b))}r.setAttribute("position",new vn(a,3)),r.setAttribute("color",new vn(o,3));const u=new Fo({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,u),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,a=r.getAttribute("position");ET.copy(this.root.matrixWorld).invert();for(let o=0,l=0;o<t.length;o++){const s=t[o];s.parent&&s.parent.isBone&&(uC.multiplyMatrices(ET,s.matrixWorld),fh.setFromMatrixPosition(uC),a.setXYZ(l,fh.x,fh.y,fh.z),uC.multiplyMatrices(ET,s.parent.matrixWorld),fh.setFromMatrixPosition(uC),a.setXYZ(l+1,fh.x,fh.y,fh.z),l+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function D6(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push(...D6(n.children[t]));return e}class poe extends pa{constructor(e,t,r){const a=new XS(t,4,2),o=new tl({wireframe:!0,fog:!1,toneMapped:!1});super(a,o),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const moe=new be,G3=new en,k3=new en;class goe extends Bi{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const a=new WS(t);a.rotateY(Math.PI*.5),this.material=new tl({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=a.getAttribute("position"),l=new Float32Array(o.count*3);a.setAttribute("color",new ki(l,3)),this.add(new pa(a,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");G3.copy(this.light.color),k3.copy(this.light.groundColor);for(let r=0,a=t.count;r<a;r++){const o=r<a/2?G3:k3;t.setXYZ(r,o.r,o.g,o.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(moe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class voe extends qc{constructor(e=10,t=10,r=4473924,a=8947848){r=new en(r),a=new en(a);const o=t/2,l=e/t,s=e/2,u=[],d=[];for(let _=0,C=0,c=-s;_<=t;_++,c+=l){u.push(-s,0,c,s,0,c),u.push(c,0,-s,c,0,s);const p=_===o?r:a;p.toArray(d,C),C+=3,p.toArray(d,C),C+=3,p.toArray(d,C),C+=3,p.toArray(d,C),C+=3}const g=new ni;g.setAttribute("position",new vn(u,3)),g.setAttribute("color",new vn(d,3));const y=new Fo({vertexColors:!0,toneMapped:!1});super(g,y),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class yoe extends qc{constructor(e=10,t=16,r=8,a=64,o=4473924,l=8947848){o=new en(o),l=new en(l);const s=[],u=[];if(t>1)for(let y=0;y<t;y++){const _=y/t*(Math.PI*2),C=Math.sin(_)*e,c=Math.cos(_)*e;s.push(0,0,0),s.push(C,0,c);const p=y&1?o:l;u.push(p.r,p.g,p.b),u.push(p.r,p.g,p.b)}for(let y=0;y<r;y++){const _=y&1?o:l,C=e-e/r*y;for(let c=0;c<a;c++){let p=c/a*(Math.PI*2),m=Math.sin(p)*C,b=Math.cos(p)*C;s.push(m,0,b),u.push(_.r,_.g,_.b),p=(c+1)/a*(Math.PI*2),m=Math.sin(p)*C,b=Math.cos(p)*C,s.push(m,0,b),u.push(_.r,_.g,_.b)}}const d=new ni;d.setAttribute("position",new vn(s,3)),d.setAttribute("color",new vn(u,3));const g=new Fo({vertexColors:!0,toneMapped:!1});super(d,g),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const $3=new be,fC=new be,V3=new be;class boe extends Bi{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",t===void 0&&(t=1);let a=new ni;a.setAttribute("position",new vn([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const o=new Fo({fog:!1,toneMapped:!1});this.lightPlane=new yd(a,o),this.add(this.lightPlane),a=new ni,a.setAttribute("position",new vn([0,0,0,0,0,1],3)),this.targetLine=new yd(a,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),$3.setFromMatrixPosition(this.light.matrixWorld),fC.setFromMatrixPosition(this.light.target.matrixWorld),V3.subVectors(fC,$3),this.lightPlane.lookAt(fC),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(fC),this.targetLine.scale.z=V3.length()}}const dC=new be,aa=new jw;class Soe extends qc{constructor(e){const t=new ni,r=new Fo({color:16777215,vertexColors:!0,toneMapped:!1}),a=[],o=[],l={};s("n1","n2"),s("n2","n4"),s("n4","n3"),s("n3","n1"),s("f1","f2"),s("f2","f4"),s("f4","f3"),s("f3","f1"),s("n1","f1"),s("n2","f2"),s("n3","f3"),s("n4","f4"),s("p","n1"),s("p","n2"),s("p","n3"),s("p","n4"),s("u1","u2"),s("u2","u3"),s("u3","u1"),s("c","t"),s("p","c"),s("cn1","cn2"),s("cn3","cn4"),s("cf1","cf2"),s("cf3","cf4");function s(c,p){u(c),u(p)}function u(c){a.push(0,0,0),o.push(0,0,0),l[c]===void 0&&(l[c]=[]),l[c].push(a.length/3-1)}t.setAttribute("position",new vn(a,3)),t.setAttribute("color",new vn(o,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=l,this.update();const d=new en(16755200),g=new en(16711680),y=new en(43775),_=new en(16777215),C=new en(3355443);this.setColors(d,g,y,_,C)}setColors(e,t,r,a,o){const s=this.geometry.getAttribute("color");s.setXYZ(0,e.r,e.g,e.b),s.setXYZ(1,e.r,e.g,e.b),s.setXYZ(2,e.r,e.g,e.b),s.setXYZ(3,e.r,e.g,e.b),s.setXYZ(4,e.r,e.g,e.b),s.setXYZ(5,e.r,e.g,e.b),s.setXYZ(6,e.r,e.g,e.b),s.setXYZ(7,e.r,e.g,e.b),s.setXYZ(8,e.r,e.g,e.b),s.setXYZ(9,e.r,e.g,e.b),s.setXYZ(10,e.r,e.g,e.b),s.setXYZ(11,e.r,e.g,e.b),s.setXYZ(12,e.r,e.g,e.b),s.setXYZ(13,e.r,e.g,e.b),s.setXYZ(14,e.r,e.g,e.b),s.setXYZ(15,e.r,e.g,e.b),s.setXYZ(16,e.r,e.g,e.b),s.setXYZ(17,e.r,e.g,e.b),s.setXYZ(18,e.r,e.g,e.b),s.setXYZ(19,e.r,e.g,e.b),s.setXYZ(20,e.r,e.g,e.b),s.setXYZ(21,e.r,e.g,e.b),s.setXYZ(22,e.r,e.g,e.b),s.setXYZ(23,e.r,e.g,e.b),s.setXYZ(24,t.r,t.g,t.b),s.setXYZ(25,t.r,t.g,t.b),s.setXYZ(26,t.r,t.g,t.b),s.setXYZ(27,t.r,t.g,t.b),s.setXYZ(28,t.r,t.g,t.b),s.setXYZ(29,t.r,t.g,t.b),s.setXYZ(30,t.r,t.g,t.b),s.setXYZ(31,t.r,t.g,t.b),s.setXYZ(32,r.r,r.g,r.b),s.setXYZ(33,r.r,r.g,r.b),s.setXYZ(34,r.r,r.g,r.b),s.setXYZ(35,r.r,r.g,r.b),s.setXYZ(36,r.r,r.g,r.b),s.setXYZ(37,r.r,r.g,r.b),s.setXYZ(38,a.r,a.g,a.b),s.setXYZ(39,a.r,a.g,a.b),s.setXYZ(40,o.r,o.g,o.b),s.setXYZ(41,o.r,o.g,o.b),s.setXYZ(42,o.r,o.g,o.b),s.setXYZ(43,o.r,o.g,o.b),s.setXYZ(44,o.r,o.g,o.b),s.setXYZ(45,o.r,o.g,o.b),s.setXYZ(46,o.r,o.g,o.b),s.setXYZ(47,o.r,o.g,o.b),s.setXYZ(48,o.r,o.g,o.b),s.setXYZ(49,o.r,o.g,o.b),s.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,r=1,a=1;aa.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const o=this.camera.coordinateSystem===Fc?-1:0;fa("c",t,e,aa,0,0,o),fa("t",t,e,aa,0,0,1),fa("n1",t,e,aa,-1,-1,o),fa("n2",t,e,aa,r,-1,o),fa("n3",t,e,aa,-1,a,o),fa("n4",t,e,aa,r,a,o),fa("f1",t,e,aa,-1,-1,1),fa("f2",t,e,aa,r,-1,1),fa("f3",t,e,aa,-1,a,1),fa("f4",t,e,aa,r,a,1),fa("u1",t,e,aa,r*.7,a*1.1,o),fa("u2",t,e,aa,-1*.7,a*1.1,o),fa("u3",t,e,aa,0,a*2,o),fa("cf1",t,e,aa,-1,0,1),fa("cf2",t,e,aa,r,0,1),fa("cf3",t,e,aa,0,-1,1),fa("cf4",t,e,aa,0,a,1),fa("cn1",t,e,aa,-1,0,o),fa("cn2",t,e,aa,r,0,o),fa("cn3",t,e,aa,0,-1,o),fa("cn4",t,e,aa,0,a,o),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function fa(n,e,t,r,a,o,l){dC.set(a,o,l).unproject(r);const s=e[n];if(s!==void 0){const u=t.getAttribute("position");for(let d=0,g=s.length;d<g;d++)u.setXYZ(s[d],dC.x,dC.y,dC.z)}}const hC=new po;class _oe extends qc{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),a=new Float32Array(8*3),o=new ni;o.setIndex(new ki(r,1)),o.setAttribute("position",new ki(a,3)),super(o,new Fo({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&hC.setFromObject(this.object),hC.isEmpty())return;const e=hC.min,t=hC.max,r=this.geometry.attributes.position,a=r.array;a[0]=t.x,a[1]=t.y,a[2]=t.z,a[3]=e.x,a[4]=t.y,a[5]=t.z,a[6]=e.x,a[7]=e.y,a[8]=t.z,a[9]=t.x,a[10]=e.y,a[11]=t.z,a[12]=t.x,a[13]=t.y,a[14]=e.z,a[15]=e.x,a[16]=t.y,a[17]=e.z,a[18]=e.x,a[19]=e.y,a[20]=e.z,a[21]=t.x,a[22]=e.y,a[23]=e.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class xoe extends qc{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),a=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new ni;o.setIndex(new ki(r,1)),o.setAttribute("position",new vn(a,3)),super(o,new Fo({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Coe extends yd{constructor(e,t=1,r=16776960){const a=r,o=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],l=new ni;l.setAttribute("position",new vn(o,3)),l.computeBoundingSphere(),super(l,new Fo({color:a,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const s=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],u=new ni;u.setAttribute("position",new vn(s,3)),u.computeBoundingSphere(),this.add(new pa(u,new tl({color:a,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const j3=new be;let pC,wT;class Eoe extends Bi{constructor(e=new be(0,0,1),t=new be(0,0,0),r=1,a=16776960,o=r*.2,l=o*.2){super(),this.type="ArrowHelper",pC===void 0&&(pC=new ni,pC.setAttribute("position",new vn([0,0,0,0,1,0],3)),wT=new N0(0,.5,1,5,1),wT.translate(0,-.5,0)),this.position.copy(t),this.line=new yd(pC,new Fo({color:a,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new pa(wT,new tl({color:a,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,o,l)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{j3.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(j3,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class woe extends qc{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],a=new ni;a.setAttribute("position",new vn(t,3)),a.setAttribute("color",new vn(r,3));const o=new Fo({vertexColors:!0,toneMapped:!1});super(a,o),this.type="AxesHelper"}setColors(e,t,r){const a=new en,o=this.geometry.attributes.color.array;return a.set(e),a.toArray(o,0),a.toArray(o,3),a.set(t),a.toArray(o,6),a.toArray(o,9),a.set(r),a.toArray(o,12),a.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Aoe{constructor(){this.type="ShapePath",this.color=new en,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new dS,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,a){return this.currentPath.quadraticCurveTo(e,t,r,a),this}bezierCurveTo(e,t,r,a,o,l){return this.currentPath.bezierCurveTo(e,t,r,a,o,l),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(b){const E=[];for(let T=0,R=b.length;T<R;T++){const O=b[T],D=new Em;D.curves=O.curves,E.push(D)}return E}function r(b,E){const T=E.length;let R=!1;for(let O=T-1,D=0;D<T;O=D++){let P=E[O],F=E[D],U=F.x-P.x,z=F.y-P.y;if(Math.abs(z)>Number.EPSILON){if(z<0&&(P=E[D],U=-U,F=E[O],z=-z),b.y<P.y||b.y>F.y)continue;if(b.y===P.y){if(b.x===P.x)return!0}else{const $=z*(b.x-P.x)-U*(b.y-P.y);if($===0)return!0;if($<0)continue;R=!R}}else{if(b.y!==P.y)continue;if(F.x<=b.x&&b.x<=P.x||P.x<=b.x&&b.x<=F.x)return!0}}return R}const a=Ku.isClockWise,o=this.subPaths;if(o.length===0)return[];let l,s,u;const d=[];if(o.length===1)return s=o[0],u=new Em,u.curves=s.curves,d.push(u),d;let g=!a(o[0].getPoints());g=e?!g:g;const y=[],_=[];let C=[],c=0,p;_[c]=void 0,C[c]=[];for(let b=0,E=o.length;b<E;b++)s=o[b],p=s.getPoints(),l=a(p),l=e?!l:l,l?(!g&&_[c]&&c++,_[c]={s:new Em,p},_[c].s.curves=s.curves,g&&c++,C[c]=[]):C[c].push({h:s,p:p[0]});if(!_[0])return t(o);if(_.length>1){let b=!1,E=0;for(let T=0,R=_.length;T<R;T++)y[T]=[];for(let T=0,R=_.length;T<R;T++){const O=C[T];for(let D=0;D<O.length;D++){const P=O[D];let F=!0;for(let U=0;U<_.length;U++)r(P.p,_[U].p)&&(T!==U&&E++,F?(F=!1,y[U].push(P)):b=!0);F&&y[T].push(P)}}E>0&&b===!1&&(C=y)}let m;for(let b=0,E=_.length;b<E;b++){u=_[b].s,d.push(u),m=C[b];for(let T=0,R=m.length;T<R;T++)u.holes.push(m[T].h)}return d}}class Moe extends sf{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}function Toe(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function Roe(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function Ooe(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function P2(n,e,t,r){const a=Ioe(r);switch(t){case lI:return n*e;case uI:return n*e;case fI:return n*e*2;case Fw:return n*e/a.components*a.byteLength;case FS:return n*e/a.components*a.byteLength;case dI:return n*e*2/a.components*a.byteLength;case Hw:return n*e*2/a.components*a.byteLength;case cI:return n*e*3/a.components*a.byteLength;case Lo:return n*e*4/a.components*a.byteLength;case Gw:return n*e*4/a.components*a.byteLength;case Bb:case Db:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case Pb:case Lb:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case aE:case sE:return Math.max(n,16)*Math.max(e,8)/4;case rE:case oE:return Math.max(n,8)*Math.max(e,8)/2;case lE:case cE:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case uE:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case fE:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case dE:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case hE:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case pE:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case mE:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case gE:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case vE:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case yE:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case bE:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case SE:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case _E:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case xE:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case CE:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case EE:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case Nb:case wE:case AE:return Math.ceil(n/4)*Math.ceil(e/4)*16;case hI:case ME:return Math.ceil(n/4)*Math.ceil(e/4)*8;case TE:case RE:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function Ioe(n){switch(n){case Vc:case aI:return{byteLength:1,components:1};case h0:case oI:case L0:return{byteLength:2,components:1};case zw:case Uw:return{byteLength:2,components:4};case vd:case Nw:case Rs:return{byteLength:4,components:1};case sI:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class Boe{static contain(e,t){return Toe(e,t)}static cover(e,t){return Roe(e,t)}static fill(e){return Ooe(e)}static getByteLength(e,t,r,a){return P2(e,t,r,a)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:zS}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=zS);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function P6(){let n=null,e=!1,t=null,r=null;function a(o,l){t(o,l),r=n.requestAnimationFrame(a)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(a),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(o){t=o},setContext:function(o){n=o}}}function Doe(n){const e=new WeakMap;function t(s,u){const d=s.array,g=s.usage,y=d.byteLength,_=n.createBuffer();n.bindBuffer(u,_),n.bufferData(u,d,g),s.onUploadCallback();let C;if(d instanceof Float32Array)C=n.FLOAT;else if(d instanceof Uint16Array)s.isFloat16BufferAttribute?C=n.HALF_FLOAT:C=n.UNSIGNED_SHORT;else if(d instanceof Int16Array)C=n.SHORT;else if(d instanceof Uint32Array)C=n.UNSIGNED_INT;else if(d instanceof Int32Array)C=n.INT;else if(d instanceof Int8Array)C=n.BYTE;else if(d instanceof Uint8Array)C=n.UNSIGNED_BYTE;else if(d instanceof Uint8ClampedArray)C=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:_,type:C,bytesPerElement:d.BYTES_PER_ELEMENT,version:s.version,size:y}}function r(s,u,d){const g=u.array,y=u.updateRanges;if(n.bindBuffer(d,s),y.length===0)n.bufferSubData(d,0,g);else{y.sort((C,c)=>C.start-c.start);let _=0;for(let C=1;C<y.length;C++){const c=y[_],p=y[C];p.start<=c.start+c.count+1?c.count=Math.max(c.count,p.start+p.count-c.start):(++_,y[_]=p)}y.length=_+1;for(let C=0,c=y.length;C<c;C++){const p=y[C];n.bufferSubData(d,p.start*g.BYTES_PER_ELEMENT,g,p.start,p.count)}u.clearUpdateRanges()}u.onUploadCallback()}function a(s){return s.isInterleavedBufferAttribute&&(s=s.data),e.get(s)}function o(s){s.isInterleavedBufferAttribute&&(s=s.data);const u=e.get(s);u&&(n.deleteBuffer(u.buffer),e.delete(s))}function l(s,u){if(s.isInterleavedBufferAttribute&&(s=s.data),s.isGLBufferAttribute){const g=e.get(s);(!g||g.version<s.version)&&e.set(s,{buffer:s.buffer,type:s.type,bytesPerElement:s.elementSize,version:s.version});return}const d=e.get(s);if(d===void 0)e.set(s,t(s,u));else if(d.version<s.version){if(d.size!==s.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(d.buffer,s,u),d.version=s.version}}return{get:a,remove:o,update:l}}var Poe=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Loe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Noe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,zoe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Uoe=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,Foe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Hoe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Goe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,koe=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,$oe=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,Voe=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,joe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Woe=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Xoe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Yoe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,qoe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Koe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Joe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Qoe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Zoe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,ese=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,tse=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,nse=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,ise=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,rse=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,ase=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,ose=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,sse=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,lse=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,cse=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,use="gl_FragColor = linearToOutputTexel( gl_FragColor );",fse=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,dse=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,hse=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,pse=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,mse=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,gse=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,vse=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,yse=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,bse=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Sse=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,_se=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,xse=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Cse=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Ese=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,wse=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Ase=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Mse=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Tse=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Rse=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Ose=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Ise=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Bse=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Dse=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Pse=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Lse=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,Nse=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,zse=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Use=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Fse=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,Hse=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Gse=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,kse=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,$se=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Vse=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,jse=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Wse=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Xse=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Yse=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,qse=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,Kse=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Jse=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Qse=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Zse=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,ele=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,tle=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,nle=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,ile=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,rle=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,ale=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,ole=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,sle=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,lle=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,cle=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,ule=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,fle=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dle=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,hle=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,ple=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,mle=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,gle=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,vle=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,yle=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,ble=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Sle=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,_le=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,xle=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Cle=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Ele=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,wle=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Ale=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Mle=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Tle=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Rle=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Ole=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Ile=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Ble=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Dle=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Ple=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Lle=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Nle=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,zle=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Ule=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Fle=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Hle=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,Gle=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,kle=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,$le=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Vle=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,jle=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Wle=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Xle=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Yle=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,qle=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Kle=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Jle=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Qle=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Zle=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,ece=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,tce=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,nce=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ice=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,rce=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ace=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,oce=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,sce=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,lce=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,cce=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,uce=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,fce=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,dce=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ui={alphahash_fragment:Poe,alphahash_pars_fragment:Loe,alphamap_fragment:Noe,alphamap_pars_fragment:zoe,alphatest_fragment:Uoe,alphatest_pars_fragment:Foe,aomap_fragment:Hoe,aomap_pars_fragment:Goe,batching_pars_vertex:koe,batching_vertex:$oe,begin_vertex:Voe,beginnormal_vertex:joe,bsdfs:Woe,iridescence_fragment:Xoe,bumpmap_pars_fragment:Yoe,clipping_planes_fragment:qoe,clipping_planes_pars_fragment:Koe,clipping_planes_pars_vertex:Joe,clipping_planes_vertex:Qoe,color_fragment:Zoe,color_pars_fragment:ese,color_pars_vertex:tse,color_vertex:nse,common:ise,cube_uv_reflection_fragment:rse,defaultnormal_vertex:ase,displacementmap_pars_vertex:ose,displacementmap_vertex:sse,emissivemap_fragment:lse,emissivemap_pars_fragment:cse,colorspace_fragment:use,colorspace_pars_fragment:fse,envmap_fragment:dse,envmap_common_pars_fragment:hse,envmap_pars_fragment:pse,envmap_pars_vertex:mse,envmap_physical_pars_fragment:Ase,envmap_vertex:gse,fog_vertex:vse,fog_pars_vertex:yse,fog_fragment:bse,fog_pars_fragment:Sse,gradientmap_pars_fragment:_se,lightmap_pars_fragment:xse,lights_lambert_fragment:Cse,lights_lambert_pars_fragment:Ese,lights_pars_begin:wse,lights_toon_fragment:Mse,lights_toon_pars_fragment:Tse,lights_phong_fragment:Rse,lights_phong_pars_fragment:Ose,lights_physical_fragment:Ise,lights_physical_pars_fragment:Bse,lights_fragment_begin:Dse,lights_fragment_maps:Pse,lights_fragment_end:Lse,logdepthbuf_fragment:Nse,logdepthbuf_pars_fragment:zse,logdepthbuf_pars_vertex:Use,logdepthbuf_vertex:Fse,map_fragment:Hse,map_pars_fragment:Gse,map_particle_fragment:kse,map_particle_pars_fragment:$se,metalnessmap_fragment:Vse,metalnessmap_pars_fragment:jse,morphinstance_vertex:Wse,morphcolor_vertex:Xse,morphnormal_vertex:Yse,morphtarget_pars_vertex:qse,morphtarget_vertex:Kse,normal_fragment_begin:Jse,normal_fragment_maps:Qse,normal_pars_fragment:Zse,normal_pars_vertex:ele,normal_vertex:tle,normalmap_pars_fragment:nle,clearcoat_normal_fragment_begin:ile,clearcoat_normal_fragment_maps:rle,clearcoat_pars_fragment:ale,iridescence_pars_fragment:ole,opaque_fragment:sle,packing:lle,premultiplied_alpha_fragment:cle,project_vertex:ule,dithering_fragment:fle,dithering_pars_fragment:dle,roughnessmap_fragment:hle,roughnessmap_pars_fragment:ple,shadowmap_pars_fragment:mle,shadowmap_pars_vertex:gle,shadowmap_vertex:vle,shadowmask_pars_fragment:yle,skinbase_vertex:ble,skinning_pars_vertex:Sle,skinning_vertex:_le,skinnormal_vertex:xle,specularmap_fragment:Cle,specularmap_pars_fragment:Ele,tonemapping_fragment:wle,tonemapping_pars_fragment:Ale,transmission_fragment:Mle,transmission_pars_fragment:Tle,uv_pars_fragment:Rle,uv_pars_vertex:Ole,uv_vertex:Ile,worldpos_vertex:Ble,background_vert:Dle,background_frag:Ple,backgroundCube_vert:Lle,backgroundCube_frag:Nle,cube_vert:zle,cube_frag:Ule,depth_vert:Fle,depth_frag:Hle,distanceRGBA_vert:Gle,distanceRGBA_frag:kle,equirect_vert:$le,equirect_frag:Vle,linedashed_vert:jle,linedashed_frag:Wle,meshbasic_vert:Xle,meshbasic_frag:Yle,meshlambert_vert:qle,meshlambert_frag:Kle,meshmatcap_vert:Jle,meshmatcap_frag:Qle,meshnormal_vert:Zle,meshnormal_frag:ece,meshphong_vert:tce,meshphong_frag:nce,meshphysical_vert:ice,meshphysical_frag:rce,meshtoon_vert:ace,meshtoon_frag:oce,points_vert:sce,points_frag:lce,shadow_vert:cce,shadow_frag:uce,sprite_vert:fce,sprite_frag:dce},rn={common:{diffuse:{value:new en(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new ti},alphaMap:{value:null},alphaMapTransform:{value:new ti},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new ti}},envmap:{envMap:{value:null},envMapRotation:{value:new ti},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new ti}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new ti}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new ti},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new ti},normalScale:{value:new Mt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new ti},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new ti}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new ti}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new ti}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new en(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new en(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new ti},alphaTest:{value:0},uvTransform:{value:new ti}},sprite:{diffuse:{value:new en(16777215)},opacity:{value:1},center:{value:new Mt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new ti},alphaMap:{value:null},alphaMapTransform:{value:new ti},alphaTest:{value:0}}},Pc={basic:{uniforms:ns([rn.common,rn.specularmap,rn.envmap,rn.aomap,rn.lightmap,rn.fog]),vertexShader:ui.meshbasic_vert,fragmentShader:ui.meshbasic_frag},lambert:{uniforms:ns([rn.common,rn.specularmap,rn.envmap,rn.aomap,rn.lightmap,rn.emissivemap,rn.bumpmap,rn.normalmap,rn.displacementmap,rn.fog,rn.lights,{emissive:{value:new en(0)}}]),vertexShader:ui.meshlambert_vert,fragmentShader:ui.meshlambert_frag},phong:{uniforms:ns([rn.common,rn.specularmap,rn.envmap,rn.aomap,rn.lightmap,rn.emissivemap,rn.bumpmap,rn.normalmap,rn.displacementmap,rn.fog,rn.lights,{emissive:{value:new en(0)},specular:{value:new en(1118481)},shininess:{value:30}}]),vertexShader:ui.meshphong_vert,fragmentShader:ui.meshphong_frag},standard:{uniforms:ns([rn.common,rn.envmap,rn.aomap,rn.lightmap,rn.emissivemap,rn.bumpmap,rn.normalmap,rn.displacementmap,rn.roughnessmap,rn.metalnessmap,rn.fog,rn.lights,{emissive:{value:new en(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ui.meshphysical_vert,fragmentShader:ui.meshphysical_frag},toon:{uniforms:ns([rn.common,rn.aomap,rn.lightmap,rn.emissivemap,rn.bumpmap,rn.normalmap,rn.displacementmap,rn.gradientmap,rn.fog,rn.lights,{emissive:{value:new en(0)}}]),vertexShader:ui.meshtoon_vert,fragmentShader:ui.meshtoon_frag},matcap:{uniforms:ns([rn.common,rn.bumpmap,rn.normalmap,rn.displacementmap,rn.fog,{matcap:{value:null}}]),vertexShader:ui.meshmatcap_vert,fragmentShader:ui.meshmatcap_frag},points:{uniforms:ns([rn.points,rn.fog]),vertexShader:ui.points_vert,fragmentShader:ui.points_frag},dashed:{uniforms:ns([rn.common,rn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ui.linedashed_vert,fragmentShader:ui.linedashed_frag},depth:{uniforms:ns([rn.common,rn.displacementmap]),vertexShader:ui.depth_vert,fragmentShader:ui.depth_frag},normal:{uniforms:ns([rn.common,rn.bumpmap,rn.normalmap,rn.displacementmap,{opacity:{value:1}}]),vertexShader:ui.meshnormal_vert,fragmentShader:ui.meshnormal_frag},sprite:{uniforms:ns([rn.sprite,rn.fog]),vertexShader:ui.sprite_vert,fragmentShader:ui.sprite_frag},background:{uniforms:{uvTransform:{value:new ti},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ui.background_vert,fragmentShader:ui.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new ti}},vertexShader:ui.backgroundCube_vert,fragmentShader:ui.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ui.cube_vert,fragmentShader:ui.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ui.equirect_vert,fragmentShader:ui.equirect_frag},distanceRGBA:{uniforms:ns([rn.common,rn.displacementmap,{referencePosition:{value:new be},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ui.distanceRGBA_vert,fragmentShader:ui.distanceRGBA_frag},shadow:{uniforms:ns([rn.lights,rn.fog,{color:{value:new en(0)},opacity:{value:1}}]),vertexShader:ui.shadow_vert,fragmentShader:ui.shadow_frag}};Pc.physical={uniforms:ns([Pc.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new ti},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new ti},clearcoatNormalScale:{value:new Mt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new ti},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new ti},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new ti},sheen:{value:0},sheenColor:{value:new en(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new ti},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new ti},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new ti},transmissionSamplerSize:{value:new Mt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new ti},attenuationDistance:{value:0},attenuationColor:{value:new en(0)},specularColor:{value:new en(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new ti},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new ti},anisotropyVector:{value:new Mt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new ti}}]),vertexShader:ui.meshphysical_vert,fragmentShader:ui.meshphysical_frag};const mC={r:0,b:0,g:0},Up=new al,hce=new Pn;function pce(n,e,t,r,a,o,l){const s=new en(0);let u=o===!0?0:1,d,g,y=null,_=0,C=null;function c(T){let R=T.isScene===!0?T.background:null;return R&&R.isTexture&&(R=(T.backgroundBlurriness>0?t:e).get(R)),R}function p(T){let R=!1;const O=c(T);O===null?b(s,u):O&&O.isColor&&(b(O,1),R=!0);const D=n.xr.getEnvironmentBlendMode();D==="additive"?r.buffers.color.setClear(0,0,0,1,l):D==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,l),(n.autoClear||R)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function m(T,R){const O=c(R);O&&(O.isCubeTexture||O.mapping===P0)?(g===void 0&&(g=new pa(new Vm(1,1,1),new jc({name:"BackgroundCubeMaterial",uniforms:y0(Pc.backgroundCube.uniforms),vertexShader:Pc.backgroundCube.vertexShader,fragmentShader:Pc.backgroundCube.fragmentShader,side:ss,depthTest:!1,depthWrite:!1,fog:!1})),g.geometry.deleteAttribute("normal"),g.geometry.deleteAttribute("uv"),g.onBeforeRender=function(D,P,F){this.matrixWorld.copyPosition(F.matrixWorld)},Object.defineProperty(g.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),a.update(g)),Up.copy(R.backgroundRotation),Up.x*=-1,Up.y*=-1,Up.z*=-1,O.isCubeTexture&&O.isRenderTargetTexture===!1&&(Up.y*=-1,Up.z*=-1),g.material.uniforms.envMap.value=O,g.material.uniforms.flipEnvMap.value=O.isCubeTexture&&O.isRenderTargetTexture===!1?-1:1,g.material.uniforms.backgroundBlurriness.value=R.backgroundBlurriness,g.material.uniforms.backgroundIntensity.value=R.backgroundIntensity,g.material.uniforms.backgroundRotation.value.setFromMatrix4(hce.makeRotationFromEuler(Up)),g.material.toneMapped=Ii.getTransfer(O.colorSpace)!==or,(y!==O||_!==O.version||C!==n.toneMapping)&&(g.material.needsUpdate=!0,y=O,_=O.version,C=n.toneMapping),g.layers.enableAll(),T.unshift(g,g.geometry,g.material,0,0,null)):O&&O.isTexture&&(d===void 0&&(d=new pa(new z0(2,2),new jc({name:"BackgroundMaterial",uniforms:y0(Pc.background.uniforms),vertexShader:Pc.background.vertexShader,fragmentShader:Pc.background.fragmentShader,side:ef,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),Object.defineProperty(d.material,"map",{get:function(){return this.uniforms.t2D.value}}),a.update(d)),d.material.uniforms.t2D.value=O,d.material.uniforms.backgroundIntensity.value=R.backgroundIntensity,d.material.toneMapped=Ii.getTransfer(O.colorSpace)!==or,O.matrixAutoUpdate===!0&&O.updateMatrix(),d.material.uniforms.uvTransform.value.copy(O.matrix),(y!==O||_!==O.version||C!==n.toneMapping)&&(d.material.needsUpdate=!0,y=O,_=O.version,C=n.toneMapping),d.layers.enableAll(),T.unshift(d,d.geometry,d.material,0,0,null))}function b(T,R){T.getRGB(mC,H8(n)),r.buffers.color.setClear(mC.r,mC.g,mC.b,R,l)}function E(){g!==void 0&&(g.geometry.dispose(),g.material.dispose(),g=void 0),d!==void 0&&(d.geometry.dispose(),d.material.dispose(),d=void 0)}return{getClearColor:function(){return s},setClearColor:function(T,R=1){s.set(T),u=R,b(s,u)},getClearAlpha:function(){return u},setClearAlpha:function(T){u=T,b(s,u)},render:p,addToRenderList:m,dispose:E}}function mce(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),r={},a=_(null);let o=a,l=!1;function s(z,$,J,W,Z){let oe=!1;const Y=y(W,J,$);o!==Y&&(o=Y,d(o.object)),oe=C(z,W,J,Z),oe&&c(z,W,J,Z),Z!==null&&e.update(Z,n.ELEMENT_ARRAY_BUFFER),(oe||l)&&(l=!1,R(z,$,J,W),Z!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(Z).buffer))}function u(){return n.createVertexArray()}function d(z){return n.bindVertexArray(z)}function g(z){return n.deleteVertexArray(z)}function y(z,$,J){const W=J.wireframe===!0;let Z=r[z.id];Z===void 0&&(Z={},r[z.id]=Z);let oe=Z[$.id];oe===void 0&&(oe={},Z[$.id]=oe);let Y=oe[W];return Y===void 0&&(Y=_(u()),oe[W]=Y),Y}function _(z){const $=[],J=[],W=[];for(let Z=0;Z<t;Z++)$[Z]=0,J[Z]=0,W[Z]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:$,enabledAttributes:J,attributeDivisors:W,object:z,attributes:{},index:null}}function C(z,$,J,W){const Z=o.attributes,oe=$.attributes;let Y=0;const K=J.getAttributes();for(const ee in K)if(K[ee].location>=0){const q=Z[ee];let ie=oe[ee];if(ie===void 0&&(ee==="instanceMatrix"&&z.instanceMatrix&&(ie=z.instanceMatrix),ee==="instanceColor"&&z.instanceColor&&(ie=z.instanceColor)),q===void 0||q.attribute!==ie||ie&&q.data!==ie.data)return!0;Y++}return o.attributesNum!==Y||o.index!==W}function c(z,$,J,W){const Z={},oe=$.attributes;let Y=0;const K=J.getAttributes();for(const ee in K)if(K[ee].location>=0){let q=oe[ee];q===void 0&&(ee==="instanceMatrix"&&z.instanceMatrix&&(q=z.instanceMatrix),ee==="instanceColor"&&z.instanceColor&&(q=z.instanceColor));const ie={};ie.attribute=q,q&&q.data&&(ie.data=q.data),Z[ee]=ie,Y++}o.attributes=Z,o.attributesNum=Y,o.index=W}function p(){const z=o.newAttributes;for(let $=0,J=z.length;$<J;$++)z[$]=0}function m(z){b(z,0)}function b(z,$){const J=o.newAttributes,W=o.enabledAttributes,Z=o.attributeDivisors;J[z]=1,W[z]===0&&(n.enableVertexAttribArray(z),W[z]=1),Z[z]!==$&&(n.vertexAttribDivisor(z,$),Z[z]=$)}function E(){const z=o.newAttributes,$=o.enabledAttributes;for(let J=0,W=$.length;J<W;J++)$[J]!==z[J]&&(n.disableVertexAttribArray(J),$[J]=0)}function T(z,$,J,W,Z,oe,Y){Y===!0?n.vertexAttribIPointer(z,$,J,Z,oe):n.vertexAttribPointer(z,$,J,W,Z,oe)}function R(z,$,J,W){p();const Z=W.attributes,oe=J.getAttributes(),Y=$.defaultAttributeValues;for(const K in oe){const ee=oe[K];if(ee.location>=0){let ue=Z[K];if(ue===void 0&&(K==="instanceMatrix"&&z.instanceMatrix&&(ue=z.instanceMatrix),K==="instanceColor"&&z.instanceColor&&(ue=z.instanceColor)),ue!==void 0){const q=ue.normalized,ie=ue.itemSize,me=e.get(ue);if(me===void 0)continue;const de=me.buffer,Q=me.type,he=me.bytesPerElement,xe=Q===n.INT||Q===n.UNSIGNED_INT||ue.gpuType===Nw;if(ue.isInterleavedBufferAttribute){const Oe=ue.data,Ae=Oe.stride,Te=ue.offset;if(Oe.isInstancedInterleavedBuffer){for(let ze=0;ze<ee.locationSize;ze++)b(ee.location+ze,Oe.meshPerAttribute);z.isInstancedMesh!==!0&&W._maxInstanceCount===void 0&&(W._maxInstanceCount=Oe.meshPerAttribute*Oe.count)}else for(let ze=0;ze<ee.locationSize;ze++)m(ee.location+ze);n.bindBuffer(n.ARRAY_BUFFER,de);for(let ze=0;ze<ee.locationSize;ze++)T(ee.location+ze,ie/ee.locationSize,Q,q,Ae*he,(Te+ie/ee.locationSize*ze)*he,xe)}else{if(ue.isInstancedBufferAttribute){for(let Oe=0;Oe<ee.locationSize;Oe++)b(ee.location+Oe,ue.meshPerAttribute);z.isInstancedMesh!==!0&&W._maxInstanceCount===void 0&&(W._maxInstanceCount=ue.meshPerAttribute*ue.count)}else for(let Oe=0;Oe<ee.locationSize;Oe++)m(ee.location+Oe);n.bindBuffer(n.ARRAY_BUFFER,de);for(let Oe=0;Oe<ee.locationSize;Oe++)T(ee.location+Oe,ie/ee.locationSize,Q,q,ie*he,ie/ee.locationSize*Oe*he,xe)}}else if(Y!==void 0){const q=Y[K];if(q!==void 0)switch(q.length){case 2:n.vertexAttrib2fv(ee.location,q);break;case 3:n.vertexAttrib3fv(ee.location,q);break;case 4:n.vertexAttrib4fv(ee.location,q);break;default:n.vertexAttrib1fv(ee.location,q)}}}}E()}function O(){F();for(const z in r){const $=r[z];for(const J in $){const W=$[J];for(const Z in W)g(W[Z].object),delete W[Z];delete $[J]}delete r[z]}}function D(z){if(r[z.id]===void 0)return;const $=r[z.id];for(const J in $){const W=$[J];for(const Z in W)g(W[Z].object),delete W[Z];delete $[J]}delete r[z.id]}function P(z){for(const $ in r){const J=r[$];if(J[z.id]===void 0)continue;const W=J[z.id];for(const Z in W)g(W[Z].object),delete W[Z];delete J[z.id]}}function F(){U(),l=!0,o!==a&&(o=a,d(o.object))}function U(){a.geometry=null,a.program=null,a.wireframe=!1}return{setup:s,reset:F,resetDefaultState:U,dispose:O,releaseStatesOfGeometry:D,releaseStatesOfProgram:P,initAttributes:p,enableAttribute:m,disableUnusedAttributes:E}}function gce(n,e,t){let r;function a(d){r=d}function o(d,g){n.drawArrays(r,d,g),t.update(g,r,1)}function l(d,g,y){y!==0&&(n.drawArraysInstanced(r,d,g,y),t.update(g,r,y))}function s(d,g,y){if(y===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,d,0,g,0,y);let C=0;for(let c=0;c<y;c++)C+=g[c];t.update(C,r,1)}function u(d,g,y,_){if(y===0)return;const C=e.get("WEBGL_multi_draw");if(C===null)for(let c=0;c<d.length;c++)l(d[c],g[c],_[c]);else{C.multiDrawArraysInstancedWEBGL(r,d,0,g,0,_,0,y);let c=0;for(let p=0;p<y;p++)c+=g[p]*_[p];t.update(c,r,1)}}this.setMode=a,this.render=o,this.renderInstances=l,this.renderMultiDraw=s,this.renderMultiDrawInstances=u}function vce(n,e,t,r){let a;function o(){if(a!==void 0)return a;if(e.has("EXT_texture_filter_anisotropic")===!0){const P=e.get("EXT_texture_filter_anisotropic");a=n.getParameter(P.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else a=0;return a}function l(P){return!(P!==Lo&&r.convert(P)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function s(P){const F=P===L0&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(P!==Vc&&r.convert(P)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&P!==Rs&&!F)}function u(P){if(P==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";P="mediump"}return P==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let d=t.precision!==void 0?t.precision:"highp";const g=u(d);g!==d&&(console.warn("THREE.WebGLRenderer:",d,"not supported, using",g,"instead."),d=g);const y=t.logarithmicDepthBuffer===!0,_=t.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),C=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),c=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),p=n.getParameter(n.MAX_TEXTURE_SIZE),m=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),b=n.getParameter(n.MAX_VERTEX_ATTRIBS),E=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),T=n.getParameter(n.MAX_VARYING_VECTORS),R=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),O=c>0,D=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:o,getMaxPrecision:u,textureFormatReadable:l,textureTypeReadable:s,precision:d,logarithmicDepthBuffer:y,reverseDepthBuffer:_,maxTextures:C,maxVertexTextures:c,maxTextureSize:p,maxCubemapSize:m,maxAttributes:b,maxVertexUniforms:E,maxVaryings:T,maxFragmentUniforms:R,vertexTextures:O,maxSamples:D}}function yce(n){const e=this;let t=null,r=0,a=!1,o=!1;const l=new ed,s=new ti,u={value:null,needsUpdate:!1};this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(y,_){const C=y.length!==0||_||r!==0||a;return a=_,r=y.length,C},this.beginShadows=function(){o=!0,g(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(y,_){t=g(y,_,0)},this.setState=function(y,_,C){const c=y.clippingPlanes,p=y.clipIntersection,m=y.clipShadows,b=n.get(y);if(!a||c===null||c.length===0||o&&!m)o?g(null):d();else{const E=o?0:r,T=E*4;let R=b.clippingState||null;u.value=R,R=g(c,_,T,C);for(let O=0;O!==T;++O)R[O]=t[O];b.clippingState=R,this.numIntersection=p?this.numPlanes:0,this.numPlanes+=E}};function d(){u.value!==t&&(u.value=t,u.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function g(y,_,C,c){const p=y!==null?y.length:0;let m=null;if(p!==0){if(m=u.value,c!==!0||m===null){const b=C+p*4,E=_.matrixWorldInverse;s.getNormalMatrix(E),(m===null||m.length<b)&&(m=new Float32Array(b));for(let T=0,R=C;T!==p;++T,R+=4)l.copy(y[T]).applyMatrix4(E,s),l.normal.toArray(m,R),m[R+3]=l.constant}u.value=m,u.needsUpdate=!0}return e.numPlanes=p,e.numIntersection=0,m}}function bce(n){let e=new WeakMap;function t(l,s){return s===aS?l.mapping=gd:s===oS&&(l.mapping=Fh),l}function r(l){if(l&&l.isTexture){const s=l.mapping;if(s===aS||s===oS)if(e.has(l)){const u=e.get(l).texture;return t(u,l.mapping)}else{const u=l.image;if(u&&u.height>0){const d=new $8(u.height);return d.fromEquirectangularTexture(n,l),e.set(l,d),l.addEventListener("dispose",a),t(d.texture,l.mapping)}else return null}}return l}function a(l){const s=l.target;s.removeEventListener("dispose",a);const u=e.get(s);u!==void 0&&(e.delete(s),u.dispose())}function o(){e=new WeakMap}return{get:r,dispose:o}}const Uv=4,W3=[.125,.215,.35,.446,.526,.582],rm=20,AT=new dd,X3=new en;let MT=null,TT=0,RT=0,OT=!1;const Wp=(1+Math.sqrt(5))/2,ov=1/Wp,Y3=[new be(-Wp,ov,0),new be(Wp,ov,0),new be(-ov,0,Wp),new be(ov,0,Wp),new be(0,Wp,-ov),new be(0,Wp,ov),new be(-1,1,-1),new be(1,1,-1),new be(-1,1,1),new be(1,1,1)],Sce=new be;class L2{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,a=100,o={}){const{size:l=256,position:s=Sce}=o;MT=this._renderer.getRenderTarget(),TT=this._renderer.getActiveCubeFace(),RT=this._renderer.getActiveMipmapLevel(),OT=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(l);const u=this._allocateTargets();return u.depthBuffer=!0,this._sceneToCubeUV(e,r,a,u,s),t>0&&this._blur(u,0,0,t),this._applyPMREM(u),this._cleanup(u),u}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=J3(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=K3(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(MT,TT,RT),this._renderer.xr.enabled=OT,e.scissorTest=!1,gC(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===gd||e.mapping===Fh?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),MT=this._renderer.getRenderTarget(),TT=this._renderer.getActiveCubeFace(),RT=this._renderer.getActiveMipmapLevel(),OT=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:ha,minFilter:ha,generateMipmaps:!1,type:L0,format:Lo,colorSpace:Gh,depthBuffer:!1},a=q3(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=q3(e,t,r);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=_ce(o)),this._blurMaterial=xce(o,e,t)}return a}_compileMaterial(e){const t=new pa(this._lodPlanes[0],e);this._renderer.compile(t,AT)}_sceneToCubeUV(e,t,r,a,o){const u=new jr(90,1,t,r),d=[1,-1,1,1,1,1],g=[1,1,1,-1,-1,-1],y=this._renderer,_=y.autoClear,C=y.toneMapping;y.getClearColor(X3),y.toneMapping=Yu,y.autoClear=!1;const c=new tl({name:"PMREM.Background",side:ss,depthWrite:!1,depthTest:!1}),p=new pa(new Vm,c);let m=!1;const b=e.background;b?b.isColor&&(c.color.copy(b),e.background=null,m=!0):(c.color.copy(X3),m=!0);for(let E=0;E<6;E++){const T=E%3;T===0?(u.up.set(0,d[E],0),u.position.set(o.x,o.y,o.z),u.lookAt(o.x+g[E],o.y,o.z)):T===1?(u.up.set(0,0,d[E]),u.position.set(o.x,o.y,o.z),u.lookAt(o.x,o.y+g[E],o.z)):(u.up.set(0,d[E],0),u.position.set(o.x,o.y,o.z),u.lookAt(o.x,o.y,o.z+g[E]));const R=this._cubeSize;gC(a,T*R,E>2?R:0,R,R),y.setRenderTarget(a),m&&y.render(p,u),y.render(e,u)}p.geometry.dispose(),p.material.dispose(),y.toneMapping=C,y.autoClear=_,e.background=b}_textureToCubeUV(e,t){const r=this._renderer,a=e.mapping===gd||e.mapping===Fh;a?(this._cubemapMaterial===null&&(this._cubemapMaterial=J3()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=K3());const o=a?this._cubemapMaterial:this._equirectMaterial,l=new pa(this._lodPlanes[0],o),s=o.uniforms;s.envMap.value=e;const u=this._cubeSize;gC(t,0,0,3*u,2*u),r.setRenderTarget(t),r.render(l,AT)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;const a=this._lodPlanes.length;for(let o=1;o<a;o++){const l=Math.sqrt(this._sigmas[o]*this._sigmas[o]-this._sigmas[o-1]*this._sigmas[o-1]),s=Y3[(a-o-1)%Y3.length];this._blur(e,o-1,o,l,s)}t.autoClear=r}_blur(e,t,r,a,o){const l=this._pingPongRenderTarget;this._halfBlur(e,l,t,r,a,"latitudinal",o),this._halfBlur(l,e,r,r,a,"longitudinal",o)}_halfBlur(e,t,r,a,o,l,s){const u=this._renderer,d=this._blurMaterial;l!=="latitudinal"&&l!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const g=3,y=new pa(this._lodPlanes[a],d),_=d.uniforms,C=this._sizeLods[r]-1,c=isFinite(o)?Math.PI/(2*C):2*Math.PI/(2*rm-1),p=o/c,m=isFinite(o)?1+Math.floor(g*p):rm;m>rm&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${m} samples when the maximum is set to ${rm}`);const b=[];let E=0;for(let P=0;P<rm;++P){const F=P/p,U=Math.exp(-F*F/2);b.push(U),P===0?E+=U:P<m&&(E+=2*U)}for(let P=0;P<b.length;P++)b[P]=b[P]/E;_.envMap.value=e.texture,_.samples.value=m,_.weights.value=b,_.latitudinal.value=l==="latitudinal",s&&(_.poleAxis.value=s);const{_lodMax:T}=this;_.dTheta.value=c,_.mipInt.value=T-r;const R=this._sizeLods[a],O=3*R*(a>T-Uv?a-T+Uv:0),D=4*(this._cubeSize-R);gC(t,O,D,3*R,2*R),u.setRenderTarget(t),u.render(y,AT)}}function _ce(n){const e=[],t=[],r=[];let a=n;const o=n-Uv+1+W3.length;for(let l=0;l<o;l++){const s=Math.pow(2,a);t.push(s);let u=1/s;l>n-Uv?u=W3[l-n+Uv-1]:l===0&&(u=0),r.push(u);const d=1/(s-2),g=-d,y=1+d,_=[g,g,y,g,y,y,g,g,y,y,g,y],C=6,c=6,p=3,m=2,b=1,E=new Float32Array(p*c*C),T=new Float32Array(m*c*C),R=new Float32Array(b*c*C);for(let D=0;D<C;D++){const P=D%3*2/3-1,F=D>2?0:-1,U=[P,F,0,P+2/3,F,0,P+2/3,F+1,0,P,F,0,P+2/3,F+1,0,P,F+1,0];E.set(U,p*c*D),T.set(_,m*c*D);const z=[D,D,D,D,D,D];R.set(z,b*c*D)}const O=new ni;O.setAttribute("position",new ki(E,p)),O.setAttribute("uv",new ki(T,m)),O.setAttribute("faceIndex",new ki(R,b)),e.push(O),a>Uv&&a--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function q3(n,e,t){const r=new tf(n,e,t);return r.texture.mapping=P0,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function gC(n,e,t,r,a){n.viewport.set(e,t,r,a),n.scissor.set(e,t,r,a)}function xce(n,e,t){const r=new Float32Array(rm),a=new be(0,1,0);return new jc({name:"SphericalGaussianBlur",defines:{n:rm,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:a}},vertexShader:qI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:ud,depthTest:!1,depthWrite:!1})}function K3(){return new jc({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:qI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:ud,depthTest:!1,depthWrite:!1})}function J3(){return new jc({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:qI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:ud,depthTest:!1,depthWrite:!1})}function qI(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Cce(n){let e=new WeakMap,t=null;function r(s){if(s&&s.isTexture){const u=s.mapping,d=u===aS||u===oS,g=u===gd||u===Fh;if(d||g){let y=e.get(s);const _=y!==void 0?y.texture.pmremVersion:0;if(s.isRenderTargetTexture&&s.pmremVersion!==_)return t===null&&(t=new L2(n)),y=d?t.fromEquirectangular(s,y):t.fromCubemap(s,y),y.texture.pmremVersion=s.pmremVersion,e.set(s,y),y.texture;if(y!==void 0)return y.texture;{const C=s.image;return d&&C&&C.height>0||g&&C&&a(C)?(t===null&&(t=new L2(n)),y=d?t.fromEquirectangular(s):t.fromCubemap(s),y.texture.pmremVersion=s.pmremVersion,e.set(s,y),s.addEventListener("dispose",o),y.texture):null}}}return s}function a(s){let u=0;const d=6;for(let g=0;g<d;g++)s[g]!==void 0&&u++;return u===d}function o(s){const u=s.target;u.removeEventListener("dispose",o);const d=e.get(u);d!==void 0&&(e.delete(u),d.dispose())}function l(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:l}}function Ece(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let a;switch(r){case"WEBGL_depth_texture":a=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":a=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":a=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":a=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:a=n.getExtension(r)}return e[r]=a,a}return{has:function(r){return t(r)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(r){const a=t(r);return a===null&&jp("THREE.WebGLRenderer: "+r+" extension not supported."),a}}}function wce(n,e,t,r){const a={},o=new WeakMap;function l(y){const _=y.target;_.index!==null&&e.remove(_.index);for(const c in _.attributes)e.remove(_.attributes[c]);_.removeEventListener("dispose",l),delete a[_.id];const C=o.get(_);C&&(e.remove(C),o.delete(_)),r.releaseStatesOfGeometry(_),_.isInstancedBufferGeometry===!0&&delete _._maxInstanceCount,t.memory.geometries--}function s(y,_){return a[_.id]===!0||(_.addEventListener("dispose",l),a[_.id]=!0,t.memory.geometries++),_}function u(y){const _=y.attributes;for(const C in _)e.update(_[C],n.ARRAY_BUFFER)}function d(y){const _=[],C=y.index,c=y.attributes.position;let p=0;if(C!==null){const E=C.array;p=C.version;for(let T=0,R=E.length;T<R;T+=3){const O=E[T+0],D=E[T+1],P=E[T+2];_.push(O,D,D,P,P,O)}}else if(c!==void 0){const E=c.array;p=c.version;for(let T=0,R=E.length/3-1;T<R;T+=3){const O=T+0,D=T+1,P=T+2;_.push(O,D,D,P,P,O)}}else return;const m=new(N8(_)?bI:yI)(_,1);m.version=p;const b=o.get(y);b&&e.remove(b),o.set(y,m)}function g(y){const _=o.get(y);if(_){const C=y.index;C!==null&&_.version<C.version&&d(y)}else d(y);return o.get(y)}return{get:s,update:u,getWireframeAttribute:g}}function Ace(n,e,t){let r;function a(_){r=_}let o,l;function s(_){o=_.type,l=_.bytesPerElement}function u(_,C){n.drawElements(r,C,o,_*l),t.update(C,r,1)}function d(_,C,c){c!==0&&(n.drawElementsInstanced(r,C,o,_*l,c),t.update(C,r,c))}function g(_,C,c){if(c===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,C,0,o,_,0,c);let m=0;for(let b=0;b<c;b++)m+=C[b];t.update(m,r,1)}function y(_,C,c,p){if(c===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let b=0;b<_.length;b++)d(_[b]/l,C[b],p[b]);else{m.multiDrawElementsInstancedWEBGL(r,C,0,o,_,0,p,0,c);let b=0;for(let E=0;E<c;E++)b+=C[E]*p[E];t.update(b,r,1)}}this.setMode=a,this.setIndex=s,this.render=u,this.renderInstances=d,this.renderMultiDraw=g,this.renderMultiDrawInstances=y}function Mce(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(o,l,s){switch(t.calls++,l){case n.TRIANGLES:t.triangles+=s*(o/3);break;case n.LINES:t.lines+=s*(o/2);break;case n.LINE_STRIP:t.lines+=s*(o-1);break;case n.LINE_LOOP:t.lines+=s*o;break;case n.POINTS:t.points+=s*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",l);break}}function a(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:a,update:r}}function Tce(n,e,t){const r=new WeakMap,a=new Gi;function o(l,s,u){const d=l.morphTargetInfluences,g=s.morphAttributes.position||s.morphAttributes.normal||s.morphAttributes.color,y=g!==void 0?g.length:0;let _=r.get(s);if(_===void 0||_.count!==y){let z=function(){F.dispose(),r.delete(s),s.removeEventListener("dispose",z)};var C=z;_!==void 0&&_.texture.dispose();const c=s.morphAttributes.position!==void 0,p=s.morphAttributes.normal!==void 0,m=s.morphAttributes.color!==void 0,b=s.morphAttributes.position||[],E=s.morphAttributes.normal||[],T=s.morphAttributes.color||[];let R=0;c===!0&&(R=1),p===!0&&(R=2),m===!0&&(R=3);let O=s.attributes.position.count*R,D=1;O>e.maxTextureSize&&(D=Math.ceil(O/e.maxTextureSize),O=e.maxTextureSize);const P=new Float32Array(O*D*4*y),F=new HS(P,O,D,y);F.type=Rs,F.needsUpdate=!0;const U=R*4;for(let $=0;$<y;$++){const J=b[$],W=E[$],Z=T[$],oe=O*D*4*$;for(let Y=0;Y<J.count;Y++){const K=Y*U;c===!0&&(a.fromBufferAttribute(J,Y),P[oe+K+0]=a.x,P[oe+K+1]=a.y,P[oe+K+2]=a.z,P[oe+K+3]=0),p===!0&&(a.fromBufferAttribute(W,Y),P[oe+K+4]=a.x,P[oe+K+5]=a.y,P[oe+K+6]=a.z,P[oe+K+7]=0),m===!0&&(a.fromBufferAttribute(Z,Y),P[oe+K+8]=a.x,P[oe+K+9]=a.y,P[oe+K+10]=a.z,P[oe+K+11]=Z.itemSize===4?a.w:1)}}_={count:y,texture:F,size:new Mt(O,D)},r.set(s,_),s.addEventListener("dispose",z)}if(l.isInstancedMesh===!0&&l.morphTexture!==null)u.getUniforms().setValue(n,"morphTexture",l.morphTexture,t);else{let c=0;for(let m=0;m<d.length;m++)c+=d[m];const p=s.morphTargetsRelative?1:1-c;u.getUniforms().setValue(n,"morphTargetBaseInfluence",p),u.getUniforms().setValue(n,"morphTargetInfluences",d)}u.getUniforms().setValue(n,"morphTargetsTexture",_.texture,t),u.getUniforms().setValue(n,"morphTargetsTextureSize",_.size)}return{update:o}}function Rce(n,e,t,r){let a=new WeakMap;function o(u){const d=r.render.frame,g=u.geometry,y=e.get(u,g);if(a.get(y)!==d&&(e.update(y),a.set(y,d)),u.isInstancedMesh&&(u.hasEventListener("dispose",s)===!1&&u.addEventListener("dispose",s),a.get(u)!==d&&(t.update(u.instanceMatrix,n.ARRAY_BUFFER),u.instanceColor!==null&&t.update(u.instanceColor,n.ARRAY_BUFFER),a.set(u,d))),u.isSkinnedMesh){const _=u.skeleton;a.get(_)!==d&&(_.update(),a.set(_,d))}return y}function l(){a=new WeakMap}function s(u){const d=u.target;d.removeEventListener("dispose",s),t.remove(d.instanceMatrix),d.instanceColor!==null&&t.remove(d.instanceColor)}return{update:o,dispose:l}}const L6=new Pr,Q3=new AI(1,1),N6=new HS,z6=new Vw,U6=new GS,Z3=[],eN=[],tN=new Float32Array(16),nN=new Float32Array(9),iN=new Float32Array(4);function F0(n,e,t){const r=n[0];if(r<=0||r>0)return n;const a=e*t;let o=Z3[a];if(o===void 0&&(o=new Float32Array(a),Z3[a]=o),e!==0){r.toArray(o,0);for(let l=1,s=0;l!==e;++l)s+=t,n[l].toArray(o,s)}return o}function Da(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function Pa(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function dA(n,e){let t=eN[e];t===void 0&&(t=new Int32Array(e),eN[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function Oce(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function Ice(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Da(t,e))return;n.uniform2fv(this.addr,e),Pa(t,e)}}function Bce(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Da(t,e))return;n.uniform3fv(this.addr,e),Pa(t,e)}}function Dce(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Da(t,e))return;n.uniform4fv(this.addr,e),Pa(t,e)}}function Pce(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Da(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Pa(t,e)}else{if(Da(t,r))return;iN.set(r),n.uniformMatrix2fv(this.addr,!1,iN),Pa(t,r)}}function Lce(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Da(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Pa(t,e)}else{if(Da(t,r))return;nN.set(r),n.uniformMatrix3fv(this.addr,!1,nN),Pa(t,r)}}function Nce(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Da(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Pa(t,e)}else{if(Da(t,r))return;tN.set(r),n.uniformMatrix4fv(this.addr,!1,tN),Pa(t,r)}}function zce(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function Uce(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Da(t,e))return;n.uniform2iv(this.addr,e),Pa(t,e)}}function Fce(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Da(t,e))return;n.uniform3iv(this.addr,e),Pa(t,e)}}function Hce(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Da(t,e))return;n.uniform4iv(this.addr,e),Pa(t,e)}}function Gce(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function kce(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Da(t,e))return;n.uniform2uiv(this.addr,e),Pa(t,e)}}function $ce(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Da(t,e))return;n.uniform3uiv(this.addr,e),Pa(t,e)}}function Vce(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Da(t,e))return;n.uniform4uiv(this.addr,e),Pa(t,e)}}function jce(n,e,t){const r=this.cache,a=t.allocateTextureUnit();r[0]!==a&&(n.uniform1i(this.addr,a),r[0]=a);let o;this.type===n.SAMPLER_2D_SHADOW?(Q3.compareFunction=gI,o=Q3):o=L6,t.setTexture2D(e||o,a)}function Wce(n,e,t){const r=this.cache,a=t.allocateTextureUnit();r[0]!==a&&(n.uniform1i(this.addr,a),r[0]=a),t.setTexture3D(e||z6,a)}function Xce(n,e,t){const r=this.cache,a=t.allocateTextureUnit();r[0]!==a&&(n.uniform1i(this.addr,a),r[0]=a),t.setTextureCube(e||U6,a)}function Yce(n,e,t){const r=this.cache,a=t.allocateTextureUnit();r[0]!==a&&(n.uniform1i(this.addr,a),r[0]=a),t.setTexture2DArray(e||N6,a)}function qce(n){switch(n){case 5126:return Oce;case 35664:return Ice;case 35665:return Bce;case 35666:return Dce;case 35674:return Pce;case 35675:return Lce;case 35676:return Nce;case 5124:case 35670:return zce;case 35667:case 35671:return Uce;case 35668:case 35672:return Fce;case 35669:case 35673:return Hce;case 5125:return Gce;case 36294:return kce;case 36295:return $ce;case 36296:return Vce;case 35678:case 36198:case 36298:case 36306:case 35682:return jce;case 35679:case 36299:case 36307:return Wce;case 35680:case 36300:case 36308:case 36293:return Xce;case 36289:case 36303:case 36311:case 36292:return Yce}}function Kce(n,e){n.uniform1fv(this.addr,e)}function Jce(n,e){const t=F0(e,this.size,2);n.uniform2fv(this.addr,t)}function Qce(n,e){const t=F0(e,this.size,3);n.uniform3fv(this.addr,t)}function Zce(n,e){const t=F0(e,this.size,4);n.uniform4fv(this.addr,t)}function eue(n,e){const t=F0(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function tue(n,e){const t=F0(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function nue(n,e){const t=F0(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function iue(n,e){n.uniform1iv(this.addr,e)}function rue(n,e){n.uniform2iv(this.addr,e)}function aue(n,e){n.uniform3iv(this.addr,e)}function oue(n,e){n.uniform4iv(this.addr,e)}function sue(n,e){n.uniform1uiv(this.addr,e)}function lue(n,e){n.uniform2uiv(this.addr,e)}function cue(n,e){n.uniform3uiv(this.addr,e)}function uue(n,e){n.uniform4uiv(this.addr,e)}function fue(n,e,t){const r=this.cache,a=e.length,o=dA(t,a);Da(r,o)||(n.uniform1iv(this.addr,o),Pa(r,o));for(let l=0;l!==a;++l)t.setTexture2D(e[l]||L6,o[l])}function due(n,e,t){const r=this.cache,a=e.length,o=dA(t,a);Da(r,o)||(n.uniform1iv(this.addr,o),Pa(r,o));for(let l=0;l!==a;++l)t.setTexture3D(e[l]||z6,o[l])}function hue(n,e,t){const r=this.cache,a=e.length,o=dA(t,a);Da(r,o)||(n.uniform1iv(this.addr,o),Pa(r,o));for(let l=0;l!==a;++l)t.setTextureCube(e[l]||U6,o[l])}function pue(n,e,t){const r=this.cache,a=e.length,o=dA(t,a);Da(r,o)||(n.uniform1iv(this.addr,o),Pa(r,o));for(let l=0;l!==a;++l)t.setTexture2DArray(e[l]||N6,o[l])}function mue(n){switch(n){case 5126:return Kce;case 35664:return Jce;case 35665:return Qce;case 35666:return Zce;case 35674:return eue;case 35675:return tue;case 35676:return nue;case 5124:case 35670:return iue;case 35667:case 35671:return rue;case 35668:case 35672:return aue;case 35669:case 35673:return oue;case 5125:return sue;case 36294:return lue;case 36295:return cue;case 36296:return uue;case 35678:case 36198:case 36298:case 36306:case 35682:return fue;case 35679:case 36299:case 36307:return due;case 35680:case 36300:case 36308:case 36293:return hue;case 36289:case 36303:case 36311:case 36292:return pue}}class gue{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.setValue=qce(t.type)}}class vue{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=mue(t.type)}}class yue{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const a=this.seq;for(let o=0,l=a.length;o!==l;++o){const s=a[o];s.setValue(e,t[s.id],r)}}}const IT=/(\w+)(\])?(\[|\.)?/g;function rN(n,e){n.seq.push(e),n.map[e.id]=e}function bue(n,e,t){const r=n.name,a=r.length;for(IT.lastIndex=0;;){const o=IT.exec(r),l=IT.lastIndex;let s=o[1];const u=o[2]==="]",d=o[3];if(u&&(s=s|0),d===void 0||d==="["&&l+2===a){rN(t,d===void 0?new gue(s,n,e):new vue(s,n,e));break}else{let y=t.map[s];y===void 0&&(y=new yue(s),rN(t,y)),t=y}}}class XC{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let a=0;a<r;++a){const o=e.getActiveUniform(t,a),l=e.getUniformLocation(t,o.name);bue(o,l,this)}}setValue(e,t,r,a){const o=this.map[t];o!==void 0&&o.setValue(e,r,a)}setOptional(e,t,r){const a=t[r];a!==void 0&&this.setValue(e,r,a)}static upload(e,t,r,a){for(let o=0,l=t.length;o!==l;++o){const s=t[o],u=r[s.id];u.needsUpdate!==!1&&s.setValue(e,u.value,a)}}static seqWithValue(e,t){const r=[];for(let a=0,o=e.length;a!==o;++a){const l=e[a];l.id in t&&r.push(l)}return r}}function aN(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}const Sue=37297;let _ue=0;function xue(n,e){const t=n.split(`
`),r=[],a=Math.max(e-6,0),o=Math.min(e+6,t.length);for(let l=a;l<o;l++){const s=l+1;r.push(`${s===e?">":" "} ${s}: ${t[l]}`)}return r.join(`
`)}const oN=new ti;function Cue(n){Ii._getMatrix(oN,Ii.workingColorSpace,n);const e=`mat3( ${oN.elements.map(t=>t.toFixed(4))} )`;switch(Ii.getTransfer(n)){case lS:return[e,"LinearTransferOETF"];case or:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function sN(n,e,t){const r=n.getShaderParameter(e,n.COMPILE_STATUS),a=n.getShaderInfoLog(e).trim();if(r&&a==="")return"";const o=/ERROR: 0:(\d+)/.exec(a);if(o){const l=parseInt(o[1]);return t.toUpperCase()+`

`+a+`

`+xue(n.getShaderSource(e),l)}else return a}function Eue(n,e){const t=Cue(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function wue(n,e){let t;switch(e){case p8:t="Linear";break;case m8:t="Reinhard";break;case g8:t="Cineon";break;case rI:t="ACESFilmic";break;case y8:t="AgX";break;case b8:t="Neutral";break;case v8:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const vC=new be;function Aue(){Ii.getLuminanceCoefficients(vC);const n=vC.x.toFixed(4),e=vC.y.toFixed(4),t=vC.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Mue(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(db).join(`
`)}function Tue(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function Rue(n,e){const t={},r=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let a=0;a<r;a++){const o=n.getActiveAttrib(e,a),l=o.name;let s=1;o.type===n.FLOAT_MAT2&&(s=2),o.type===n.FLOAT_MAT3&&(s=3),o.type===n.FLOAT_MAT4&&(s=4),t[l]={type:o.type,location:n.getAttribLocation(e,l),locationSize:s}}return t}function db(n){return n!==""}function lN(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function cN(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Oue=/^[ \t]*#include +<([\w\d./]+)>/gm;function N2(n){return n.replace(Oue,Bue)}const Iue=new Map;function Bue(n,e){let t=ui[e];if(t===void 0){const r=Iue.get(e);if(r!==void 0)t=ui[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return N2(t)}const Due=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function uN(n){return n.replace(Due,Pue)}function Pue(n,e,t,r){let a="";for(let o=parseInt(e);o<parseInt(t);o++)a+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return a}function fN(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Lue(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===Dw?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===Ib?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Rc&&(e="SHADOWMAP_TYPE_VSM"),e}function Nue(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case gd:case Fh:e="ENVMAP_TYPE_CUBE";break;case P0:e="ENVMAP_TYPE_CUBE_UV";break}return e}function zue(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Fh:e="ENVMAP_MODE_REFRACTION";break}return e}function Uue(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case US:e="ENVMAP_BLENDING_MULTIPLY";break;case d8:e="ENVMAP_BLENDING_MIX";break;case h8:e="ENVMAP_BLENDING_ADD";break}return e}function Fue(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function Hue(n,e,t,r){const a=n.getContext(),o=t.defines;let l=t.vertexShader,s=t.fragmentShader;const u=Lue(t),d=Nue(t),g=zue(t),y=Uue(t),_=Fue(t),C=Mue(t),c=Tue(o),p=a.createProgram();let m,b,E=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(m=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,c].filter(db).join(`
`),m.length>0&&(m+=`
`),b=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,c].filter(db).join(`
`),b.length>0&&(b+=`
`)):(m=[fN(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,c,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+g:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(db).join(`
`),b=[fN(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,c,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.envMap?"#define "+g:"",t.envMap?"#define "+y:"",_?"#define CUBEUV_TEXEL_WIDTH "+_.texelWidth:"",_?"#define CUBEUV_TEXEL_HEIGHT "+_.texelHeight:"",_?"#define CUBEUV_MAX_MIP "+_.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Yu?"#define TONE_MAPPING":"",t.toneMapping!==Yu?ui.tonemapping_pars_fragment:"",t.toneMapping!==Yu?wue("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",ui.colorspace_pars_fragment,Eue("linearToOutputTexel",t.outputColorSpace),Aue(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(db).join(`
`)),l=N2(l),l=lN(l,t),l=cN(l,t),s=N2(s),s=lN(s,t),s=cN(s,t),l=uN(l),s=uN(s),t.isRawShaderMaterial!==!0&&(E=`#version 300 es
`,m=[C,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+m,b=["#define varying in",t.glslVersion===M2?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===M2?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+b);const T=E+m+l,R=E+b+s,O=aN(a,a.VERTEX_SHADER,T),D=aN(a,a.FRAGMENT_SHADER,R);a.attachShader(p,O),a.attachShader(p,D),t.index0AttributeName!==void 0?a.bindAttribLocation(p,0,t.index0AttributeName):t.morphTargets===!0&&a.bindAttribLocation(p,0,"position"),a.linkProgram(p);function P($){if(n.debug.checkShaderErrors){const J=a.getProgramInfoLog(p).trim(),W=a.getShaderInfoLog(O).trim(),Z=a.getShaderInfoLog(D).trim();let oe=!0,Y=!0;if(a.getProgramParameter(p,a.LINK_STATUS)===!1)if(oe=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(a,p,O,D);else{const K=sN(a,O,"vertex"),ee=sN(a,D,"fragment");console.error("THREE.WebGLProgram: Shader Error "+a.getError()+" - VALIDATE_STATUS "+a.getProgramParameter(p,a.VALIDATE_STATUS)+`

Material Name: `+$.name+`
Material Type: `+$.type+`

Program Info Log: `+J+`
`+K+`
`+ee)}else J!==""?console.warn("THREE.WebGLProgram: Program Info Log:",J):(W===""||Z==="")&&(Y=!1);Y&&($.diagnostics={runnable:oe,programLog:J,vertexShader:{log:W,prefix:m},fragmentShader:{log:Z,prefix:b}})}a.deleteShader(O),a.deleteShader(D),F=new XC(a,p),U=Rue(a,p)}let F;this.getUniforms=function(){return F===void 0&&P(this),F};let U;this.getAttributes=function(){return U===void 0&&P(this),U};let z=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return z===!1&&(z=a.getProgramParameter(p,Sue)),z},this.destroy=function(){r.releaseStatesOfProgram(this),a.deleteProgram(p),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=_ue++,this.cacheKey=e,this.usedTimes=1,this.program=p,this.vertexShader=O,this.fragmentShader=D,this}let Gue=0;class kue{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,a=this._getShaderStage(t),o=this._getShaderStage(r),l=this._getShaderCacheForMaterial(e);return l.has(a)===!1&&(l.add(a),a.usedTimes++),l.has(o)===!1&&(l.add(o),o.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new $ue(e),t.set(e,r)),r}}class $ue{constructor(e){this.id=Gue++,this.code=e,this.usedTimes=0}}function Vue(n,e,t,r,a,o,l){const s=new v0,u=new kue,d=new Set,g=[],y=a.logarithmicDepthBuffer,_=a.vertexTextures;let C=a.precision;const c={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function p(U){return d.add(U),U===0?"uv":`uv${U}`}function m(U,z,$,J,W){const Z=J.fog,oe=W.geometry,Y=U.isMeshStandardMaterial?J.environment:null,K=(U.isMeshStandardMaterial?t:e).get(U.envMap||Y),ee=K&&K.mapping===P0?K.image.height:null,ue=c[U.type];U.precision!==null&&(C=a.getMaxPrecision(U.precision),C!==U.precision&&console.warn("THREE.WebGLProgram.getParameters:",U.precision,"not supported, using",C,"instead."));const q=oe.morphAttributes.position||oe.morphAttributes.normal||oe.morphAttributes.color,ie=q!==void 0?q.length:0;let me=0;oe.morphAttributes.position!==void 0&&(me=1),oe.morphAttributes.normal!==void 0&&(me=2),oe.morphAttributes.color!==void 0&&(me=3);let de,Q,he,xe;if(ue){const Dt=Pc[ue];de=Dt.vertexShader,Q=Dt.fragmentShader}else de=U.vertexShader,Q=U.fragmentShader,u.update(U),he=u.getVertexShaderID(U),xe=u.getFragmentShaderID(U);const Oe=n.getRenderTarget(),Ae=n.state.buffers.depth.getReversed(),Te=W.isInstancedMesh===!0,ze=W.isBatchedMesh===!0,vt=!!U.map,Be=!!U.matcap,Ce=!!K,re=!!U.aoMap,Fe=!!U.lightMap,Ie=!!U.bumpMap,Ye=!!U.normalMap,ke=!!U.displacementMap,lt=!!U.emissiveMap,ot=!!U.metalnessMap,ce=!!U.roughnessMap,ae=U.anisotropy>0,we=U.clearcoat>0,De=U.dispersion>0,qe=U.iridescence>0,He=U.sheen>0,gt=U.transmission>0,st=ae&&!!U.anisotropyMap,pt=we&&!!U.clearcoatMap,Ot=we&&!!U.clearcoatNormalMap,at=we&&!!U.clearcoatRoughnessMap,_t=qe&&!!U.iridescenceMap,Ct=qe&&!!U.iridescenceThicknessMap,je=He&&!!U.sheenColorMap,it=He&&!!U.sheenRoughnessMap,Se=!!U.specularMap,Ge=!!U.specularColorMap,St=!!U.specularIntensityMap,Me=gt&&!!U.transmissionMap,xt=gt&&!!U.thicknessMap,Qe=!!U.gradientMap,mt=!!U.alphaMap,Lt=U.alphaTest>0,It=!!U.alphaHash,Qt=!!U.extensions;let sn=Yu;U.toneMapped&&(Oe===null||Oe.isXRRenderTarget===!0)&&(sn=n.toneMapping);const qt={shaderID:ue,shaderType:U.type,shaderName:U.name,vertexShader:de,fragmentShader:Q,defines:U.defines,customVertexShaderID:he,customFragmentShaderID:xe,isRawShaderMaterial:U.isRawShaderMaterial===!0,glslVersion:U.glslVersion,precision:C,batching:ze,batchingColor:ze&&W._colorsTexture!==null,instancing:Te,instancingColor:Te&&W.instanceColor!==null,instancingMorph:Te&&W.morphTexture!==null,supportsVertexTextures:_,outputColorSpace:Oe===null?n.outputColorSpace:Oe.isXRRenderTarget===!0?Oe.texture.colorSpace:Gh,alphaToCoverage:!!U.alphaToCoverage,map:vt,matcap:Be,envMap:Ce,envMapMode:Ce&&K.mapping,envMapCubeUVHeight:ee,aoMap:re,lightMap:Fe,bumpMap:Ie,normalMap:Ye,displacementMap:_&&ke,emissiveMap:lt,normalMapObjectSpace:Ye&&U.normalMapType===M8,normalMapTangentSpace:Ye&&U.normalMapType===jh,metalnessMap:ot,roughnessMap:ce,anisotropy:ae,anisotropyMap:st,clearcoat:we,clearcoatMap:pt,clearcoatNormalMap:Ot,clearcoatRoughnessMap:at,dispersion:De,iridescence:qe,iridescenceMap:_t,iridescenceThicknessMap:Ct,sheen:He,sheenColorMap:je,sheenRoughnessMap:it,specularMap:Se,specularColorMap:Ge,specularIntensityMap:St,transmission:gt,transmissionMap:Me,thicknessMap:xt,gradientMap:Qe,opaque:U.transparent===!1&&U.blending===_m&&U.alphaToCoverage===!1,alphaMap:mt,alphaTest:Lt,alphaHash:It,combine:U.combine,mapUv:vt&&p(U.map.channel),aoMapUv:re&&p(U.aoMap.channel),lightMapUv:Fe&&p(U.lightMap.channel),bumpMapUv:Ie&&p(U.bumpMap.channel),normalMapUv:Ye&&p(U.normalMap.channel),displacementMapUv:ke&&p(U.displacementMap.channel),emissiveMapUv:lt&&p(U.emissiveMap.channel),metalnessMapUv:ot&&p(U.metalnessMap.channel),roughnessMapUv:ce&&p(U.roughnessMap.channel),anisotropyMapUv:st&&p(U.anisotropyMap.channel),clearcoatMapUv:pt&&p(U.clearcoatMap.channel),clearcoatNormalMapUv:Ot&&p(U.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:at&&p(U.clearcoatRoughnessMap.channel),iridescenceMapUv:_t&&p(U.iridescenceMap.channel),iridescenceThicknessMapUv:Ct&&p(U.iridescenceThicknessMap.channel),sheenColorMapUv:je&&p(U.sheenColorMap.channel),sheenRoughnessMapUv:it&&p(U.sheenRoughnessMap.channel),specularMapUv:Se&&p(U.specularMap.channel),specularColorMapUv:Ge&&p(U.specularColorMap.channel),specularIntensityMapUv:St&&p(U.specularIntensityMap.channel),transmissionMapUv:Me&&p(U.transmissionMap.channel),thicknessMapUv:xt&&p(U.thicknessMap.channel),alphaMapUv:mt&&p(U.alphaMap.channel),vertexTangents:!!oe.attributes.tangent&&(Ye||ae),vertexColors:U.vertexColors,vertexAlphas:U.vertexColors===!0&&!!oe.attributes.color&&oe.attributes.color.itemSize===4,pointsUvs:W.isPoints===!0&&!!oe.attributes.uv&&(vt||mt),fog:!!Z,useFog:U.fog===!0,fogExp2:!!Z&&Z.isFogExp2,flatShading:U.flatShading===!0,sizeAttenuation:U.sizeAttenuation===!0,logarithmicDepthBuffer:y,reverseDepthBuffer:Ae,skinning:W.isSkinnedMesh===!0,morphTargets:oe.morphAttributes.position!==void 0,morphNormals:oe.morphAttributes.normal!==void 0,morphColors:oe.morphAttributes.color!==void 0,morphTargetsCount:ie,morphTextureStride:me,numDirLights:z.directional.length,numPointLights:z.point.length,numSpotLights:z.spot.length,numSpotLightMaps:z.spotLightMap.length,numRectAreaLights:z.rectArea.length,numHemiLights:z.hemi.length,numDirLightShadows:z.directionalShadowMap.length,numPointLightShadows:z.pointShadowMap.length,numSpotLightShadows:z.spotShadowMap.length,numSpotLightShadowsWithMaps:z.numSpotLightShadowsWithMaps,numLightProbes:z.numLightProbes,numClippingPlanes:l.numPlanes,numClipIntersection:l.numIntersection,dithering:U.dithering,shadowMapEnabled:n.shadowMap.enabled&&$.length>0,shadowMapType:n.shadowMap.type,toneMapping:sn,decodeVideoTexture:vt&&U.map.isVideoTexture===!0&&Ii.getTransfer(U.map.colorSpace)===or,decodeVideoTextureEmissive:lt&&U.emissiveMap.isVideoTexture===!0&&Ii.getTransfer(U.emissiveMap.colorSpace)===or,premultipliedAlpha:U.premultipliedAlpha,doubleSided:U.side===zc,flipSided:U.side===ss,useDepthPacking:U.depthPacking>=0,depthPacking:U.depthPacking||0,index0AttributeName:U.index0AttributeName,extensionClipCullDistance:Qt&&U.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Qt&&U.extensions.multiDraw===!0||ze)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:U.customProgramCacheKey()};return qt.vertexUv1s=d.has(1),qt.vertexUv2s=d.has(2),qt.vertexUv3s=d.has(3),d.clear(),qt}function b(U){const z=[];if(U.shaderID?z.push(U.shaderID):(z.push(U.customVertexShaderID),z.push(U.customFragmentShaderID)),U.defines!==void 0)for(const $ in U.defines)z.push($),z.push(U.defines[$]);return U.isRawShaderMaterial===!1&&(E(z,U),T(z,U),z.push(n.outputColorSpace)),z.push(U.customProgramCacheKey),z.join()}function E(U,z){U.push(z.precision),U.push(z.outputColorSpace),U.push(z.envMapMode),U.push(z.envMapCubeUVHeight),U.push(z.mapUv),U.push(z.alphaMapUv),U.push(z.lightMapUv),U.push(z.aoMapUv),U.push(z.bumpMapUv),U.push(z.normalMapUv),U.push(z.displacementMapUv),U.push(z.emissiveMapUv),U.push(z.metalnessMapUv),U.push(z.roughnessMapUv),U.push(z.anisotropyMapUv),U.push(z.clearcoatMapUv),U.push(z.clearcoatNormalMapUv),U.push(z.clearcoatRoughnessMapUv),U.push(z.iridescenceMapUv),U.push(z.iridescenceThicknessMapUv),U.push(z.sheenColorMapUv),U.push(z.sheenRoughnessMapUv),U.push(z.specularMapUv),U.push(z.specularColorMapUv),U.push(z.specularIntensityMapUv),U.push(z.transmissionMapUv),U.push(z.thicknessMapUv),U.push(z.combine),U.push(z.fogExp2),U.push(z.sizeAttenuation),U.push(z.morphTargetsCount),U.push(z.morphAttributeCount),U.push(z.numDirLights),U.push(z.numPointLights),U.push(z.numSpotLights),U.push(z.numSpotLightMaps),U.push(z.numHemiLights),U.push(z.numRectAreaLights),U.push(z.numDirLightShadows),U.push(z.numPointLightShadows),U.push(z.numSpotLightShadows),U.push(z.numSpotLightShadowsWithMaps),U.push(z.numLightProbes),U.push(z.shadowMapType),U.push(z.toneMapping),U.push(z.numClippingPlanes),U.push(z.numClipIntersection),U.push(z.depthPacking)}function T(U,z){s.disableAll(),z.supportsVertexTextures&&s.enable(0),z.instancing&&s.enable(1),z.instancingColor&&s.enable(2),z.instancingMorph&&s.enable(3),z.matcap&&s.enable(4),z.envMap&&s.enable(5),z.normalMapObjectSpace&&s.enable(6),z.normalMapTangentSpace&&s.enable(7),z.clearcoat&&s.enable(8),z.iridescence&&s.enable(9),z.alphaTest&&s.enable(10),z.vertexColors&&s.enable(11),z.vertexAlphas&&s.enable(12),z.vertexUv1s&&s.enable(13),z.vertexUv2s&&s.enable(14),z.vertexUv3s&&s.enable(15),z.vertexTangents&&s.enable(16),z.anisotropy&&s.enable(17),z.alphaHash&&s.enable(18),z.batching&&s.enable(19),z.dispersion&&s.enable(20),z.batchingColor&&s.enable(21),U.push(s.mask),s.disableAll(),z.fog&&s.enable(0),z.useFog&&s.enable(1),z.flatShading&&s.enable(2),z.logarithmicDepthBuffer&&s.enable(3),z.reverseDepthBuffer&&s.enable(4),z.skinning&&s.enable(5),z.morphTargets&&s.enable(6),z.morphNormals&&s.enable(7),z.morphColors&&s.enable(8),z.premultipliedAlpha&&s.enable(9),z.shadowMapEnabled&&s.enable(10),z.doubleSided&&s.enable(11),z.flipSided&&s.enable(12),z.useDepthPacking&&s.enable(13),z.dithering&&s.enable(14),z.transmission&&s.enable(15),z.sheen&&s.enable(16),z.opaque&&s.enable(17),z.pointsUvs&&s.enable(18),z.decodeVideoTexture&&s.enable(19),z.decodeVideoTextureEmissive&&s.enable(20),z.alphaToCoverage&&s.enable(21),U.push(s.mask)}function R(U){const z=c[U.type];let $;if(z){const J=Pc[z];$=G8.clone(J.uniforms)}else $=U.uniforms;return $}function O(U,z){let $;for(let J=0,W=g.length;J<W;J++){const Z=g[J];if(Z.cacheKey===z){$=Z,++$.usedTimes;break}}return $===void 0&&($=new Hue(n,z,U,o),g.push($)),$}function D(U){if(--U.usedTimes===0){const z=g.indexOf(U);g[z]=g[g.length-1],g.pop(),U.destroy()}}function P(U){u.remove(U)}function F(){u.dispose()}return{getParameters:m,getProgramCacheKey:b,getUniforms:R,acquireProgram:O,releaseProgram:D,releaseShaderCache:P,programs:g,dispose:F}}function jue(){let n=new WeakMap;function e(l){return n.has(l)}function t(l){let s=n.get(l);return s===void 0&&(s={},n.set(l,s)),s}function r(l){n.delete(l)}function a(l,s,u){n.get(l)[s]=u}function o(){n=new WeakMap}return{has:e,get:t,remove:r,update:a,dispose:o}}function Wue(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function dN(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function hN(){const n=[];let e=0;const t=[],r=[],a=[];function o(){e=0,t.length=0,r.length=0,a.length=0}function l(y,_,C,c,p,m){let b=n[e];return b===void 0?(b={id:y.id,object:y,geometry:_,material:C,groupOrder:c,renderOrder:y.renderOrder,z:p,group:m},n[e]=b):(b.id=y.id,b.object=y,b.geometry=_,b.material=C,b.groupOrder=c,b.renderOrder=y.renderOrder,b.z=p,b.group=m),e++,b}function s(y,_,C,c,p,m){const b=l(y,_,C,c,p,m);C.transmission>0?r.push(b):C.transparent===!0?a.push(b):t.push(b)}function u(y,_,C,c,p,m){const b=l(y,_,C,c,p,m);C.transmission>0?r.unshift(b):C.transparent===!0?a.unshift(b):t.unshift(b)}function d(y,_){t.length>1&&t.sort(y||Wue),r.length>1&&r.sort(_||dN),a.length>1&&a.sort(_||dN)}function g(){for(let y=e,_=n.length;y<_;y++){const C=n[y];if(C.id===null)break;C.id=null,C.object=null,C.geometry=null,C.material=null,C.group=null}}return{opaque:t,transmissive:r,transparent:a,init:o,push:s,unshift:u,finish:g,sort:d}}function Xue(){let n=new WeakMap;function e(r,a){const o=n.get(r);let l;return o===void 0?(l=new hN,n.set(r,[l])):a>=o.length?(l=new hN,o.push(l)):l=o[a],l}function t(){n=new WeakMap}return{get:e,dispose:t}}function Yue(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new be,color:new en};break;case"SpotLight":t={position:new be,direction:new be,color:new en,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new be,color:new en,distance:0,decay:0};break;case"HemisphereLight":t={direction:new be,skyColor:new en,groundColor:new en};break;case"RectAreaLight":t={color:new en,position:new be,halfWidth:new be,halfHeight:new be};break}return n[e.id]=t,t}}}function que(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Mt};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Mt};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Mt,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let Kue=0;function Jue(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function Que(n){const e=new Yue,t=que(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let d=0;d<9;d++)r.probe.push(new be);const a=new be,o=new Pn,l=new Pn;function s(d){let g=0,y=0,_=0;for(let U=0;U<9;U++)r.probe[U].set(0,0,0);let C=0,c=0,p=0,m=0,b=0,E=0,T=0,R=0,O=0,D=0,P=0;d.sort(Jue);for(let U=0,z=d.length;U<z;U++){const $=d[U],J=$.color,W=$.intensity,Z=$.distance,oe=$.shadow&&$.shadow.map?$.shadow.map.texture:null;if($.isAmbientLight)g+=J.r*W,y+=J.g*W,_+=J.b*W;else if($.isLightProbe){for(let Y=0;Y<9;Y++)r.probe[Y].addScaledVector($.sh.coefficients[Y],W);P++}else if($.isDirectionalLight){const Y=e.get($);if(Y.color.copy($.color).multiplyScalar($.intensity),$.castShadow){const K=$.shadow,ee=t.get($);ee.shadowIntensity=K.intensity,ee.shadowBias=K.bias,ee.shadowNormalBias=K.normalBias,ee.shadowRadius=K.radius,ee.shadowMapSize=K.mapSize,r.directionalShadow[C]=ee,r.directionalShadowMap[C]=oe,r.directionalShadowMatrix[C]=$.shadow.matrix,E++}r.directional[C]=Y,C++}else if($.isSpotLight){const Y=e.get($);Y.position.setFromMatrixPosition($.matrixWorld),Y.color.copy(J).multiplyScalar(W),Y.distance=Z,Y.coneCos=Math.cos($.angle),Y.penumbraCos=Math.cos($.angle*(1-$.penumbra)),Y.decay=$.decay,r.spot[p]=Y;const K=$.shadow;if($.map&&(r.spotLightMap[O]=$.map,O++,K.updateMatrices($),$.castShadow&&D++),r.spotLightMatrix[p]=K.matrix,$.castShadow){const ee=t.get($);ee.shadowIntensity=K.intensity,ee.shadowBias=K.bias,ee.shadowNormalBias=K.normalBias,ee.shadowRadius=K.radius,ee.shadowMapSize=K.mapSize,r.spotShadow[p]=ee,r.spotShadowMap[p]=oe,R++}p++}else if($.isRectAreaLight){const Y=e.get($);Y.color.copy(J).multiplyScalar(W),Y.halfWidth.set($.width*.5,0,0),Y.halfHeight.set(0,$.height*.5,0),r.rectArea[m]=Y,m++}else if($.isPointLight){const Y=e.get($);if(Y.color.copy($.color).multiplyScalar($.intensity),Y.distance=$.distance,Y.decay=$.decay,$.castShadow){const K=$.shadow,ee=t.get($);ee.shadowIntensity=K.intensity,ee.shadowBias=K.bias,ee.shadowNormalBias=K.normalBias,ee.shadowRadius=K.radius,ee.shadowMapSize=K.mapSize,ee.shadowCameraNear=K.camera.near,ee.shadowCameraFar=K.camera.far,r.pointShadow[c]=ee,r.pointShadowMap[c]=oe,r.pointShadowMatrix[c]=$.shadow.matrix,T++}r.point[c]=Y,c++}else if($.isHemisphereLight){const Y=e.get($);Y.skyColor.copy($.color).multiplyScalar(W),Y.groundColor.copy($.groundColor).multiplyScalar(W),r.hemi[b]=Y,b++}}m>0&&(n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=rn.LTC_FLOAT_1,r.rectAreaLTC2=rn.LTC_FLOAT_2):(r.rectAreaLTC1=rn.LTC_HALF_1,r.rectAreaLTC2=rn.LTC_HALF_2)),r.ambient[0]=g,r.ambient[1]=y,r.ambient[2]=_;const F=r.hash;(F.directionalLength!==C||F.pointLength!==c||F.spotLength!==p||F.rectAreaLength!==m||F.hemiLength!==b||F.numDirectionalShadows!==E||F.numPointShadows!==T||F.numSpotShadows!==R||F.numSpotMaps!==O||F.numLightProbes!==P)&&(r.directional.length=C,r.spot.length=p,r.rectArea.length=m,r.point.length=c,r.hemi.length=b,r.directionalShadow.length=E,r.directionalShadowMap.length=E,r.pointShadow.length=T,r.pointShadowMap.length=T,r.spotShadow.length=R,r.spotShadowMap.length=R,r.directionalShadowMatrix.length=E,r.pointShadowMatrix.length=T,r.spotLightMatrix.length=R+O-D,r.spotLightMap.length=O,r.numSpotLightShadowsWithMaps=D,r.numLightProbes=P,F.directionalLength=C,F.pointLength=c,F.spotLength=p,F.rectAreaLength=m,F.hemiLength=b,F.numDirectionalShadows=E,F.numPointShadows=T,F.numSpotShadows=R,F.numSpotMaps=O,F.numLightProbes=P,r.version=Kue++)}function u(d,g){let y=0,_=0,C=0,c=0,p=0;const m=g.matrixWorldInverse;for(let b=0,E=d.length;b<E;b++){const T=d[b];if(T.isDirectionalLight){const R=r.directional[y];R.direction.setFromMatrixPosition(T.matrixWorld),a.setFromMatrixPosition(T.target.matrixWorld),R.direction.sub(a),R.direction.transformDirection(m),y++}else if(T.isSpotLight){const R=r.spot[C];R.position.setFromMatrixPosition(T.matrixWorld),R.position.applyMatrix4(m),R.direction.setFromMatrixPosition(T.matrixWorld),a.setFromMatrixPosition(T.target.matrixWorld),R.direction.sub(a),R.direction.transformDirection(m),C++}else if(T.isRectAreaLight){const R=r.rectArea[c];R.position.setFromMatrixPosition(T.matrixWorld),R.position.applyMatrix4(m),l.identity(),o.copy(T.matrixWorld),o.premultiply(m),l.extractRotation(o),R.halfWidth.set(T.width*.5,0,0),R.halfHeight.set(0,T.height*.5,0),R.halfWidth.applyMatrix4(l),R.halfHeight.applyMatrix4(l),c++}else if(T.isPointLight){const R=r.point[_];R.position.setFromMatrixPosition(T.matrixWorld),R.position.applyMatrix4(m),_++}else if(T.isHemisphereLight){const R=r.hemi[p];R.direction.setFromMatrixPosition(T.matrixWorld),R.direction.transformDirection(m),p++}}}return{setup:s,setupView:u,state:r}}function pN(n){const e=new Que(n),t=[],r=[];function a(g){d.camera=g,t.length=0,r.length=0}function o(g){t.push(g)}function l(g){r.push(g)}function s(){e.setup(t)}function u(g){e.setupView(t,g)}const d={lightsArray:t,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:a,state:d,setupLights:s,setupLightsView:u,pushLight:o,pushShadow:l}}function Zue(n){let e=new WeakMap;function t(a,o=0){const l=e.get(a);let s;return l===void 0?(s=new pN(n),e.set(a,[s])):o>=l.length?(s=new pN(n),l.push(s)):s=l[o],s}function r(){e=new WeakMap}return{get:t,dispose:r}}const efe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,tfe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function nfe(n,e,t){let r=new VS;const a=new Mt,o=new Mt,l=new Gi,s=new DI({depthPacking:A8}),u=new PI,d={},g=t.maxTextureSize,y={[ef]:ss,[ss]:ef,[zc]:zc},_=new jc({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Mt},radius:{value:4}},vertexShader:efe,fragmentShader:tfe}),C=_.clone();C.defines.HORIZONTAL_PASS=1;const c=new ni;c.setAttribute("position",new ki(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const p=new pa(c,_),m=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Dw;let b=this.type;this.render=function(D,P,F){if(m.enabled===!1||m.autoUpdate===!1&&m.needsUpdate===!1||D.length===0)return;const U=n.getRenderTarget(),z=n.getActiveCubeFace(),$=n.getActiveMipmapLevel(),J=n.state;J.setBlending(ud),J.buffers.color.setClear(1,1,1,1),J.buffers.depth.setTest(!0),J.setScissorTest(!1);const W=b!==Rc&&this.type===Rc,Z=b===Rc&&this.type!==Rc;for(let oe=0,Y=D.length;oe<Y;oe++){const K=D[oe],ee=K.shadow;if(ee===void 0){console.warn("THREE.WebGLShadowMap:",K,"has no shadow.");continue}if(ee.autoUpdate===!1&&ee.needsUpdate===!1)continue;a.copy(ee.mapSize);const ue=ee.getFrameExtents();if(a.multiply(ue),o.copy(ee.mapSize),(a.x>g||a.y>g)&&(a.x>g&&(o.x=Math.floor(g/ue.x),a.x=o.x*ue.x,ee.mapSize.x=o.x),a.y>g&&(o.y=Math.floor(g/ue.y),a.y=o.y*ue.y,ee.mapSize.y=o.y)),ee.map===null||W===!0||Z===!0){const ie=this.type!==Rc?{minFilter:Ka,magFilter:Ka}:{};ee.map!==null&&ee.map.dispose(),ee.map=new tf(a.x,a.y,ie),ee.map.texture.name=K.name+".shadowMap",ee.camera.updateProjectionMatrix()}n.setRenderTarget(ee.map),n.clear();const q=ee.getViewportCount();for(let ie=0;ie<q;ie++){const me=ee.getViewport(ie);l.set(o.x*me.x,o.y*me.y,o.x*me.z,o.y*me.w),J.viewport(l),ee.updateMatrices(K,ie),r=ee.getFrustum(),R(P,F,ee.camera,K,this.type)}ee.isPointLightShadow!==!0&&this.type===Rc&&E(ee,F),ee.needsUpdate=!1}b=this.type,m.needsUpdate=!1,n.setRenderTarget(U,z,$)};function E(D,P){const F=e.update(p);_.defines.VSM_SAMPLES!==D.blurSamples&&(_.defines.VSM_SAMPLES=D.blurSamples,C.defines.VSM_SAMPLES=D.blurSamples,_.needsUpdate=!0,C.needsUpdate=!0),D.mapPass===null&&(D.mapPass=new tf(a.x,a.y)),_.uniforms.shadow_pass.value=D.map.texture,_.uniforms.resolution.value=D.mapSize,_.uniforms.radius.value=D.radius,n.setRenderTarget(D.mapPass),n.clear(),n.renderBufferDirect(P,null,F,_,p,null),C.uniforms.shadow_pass.value=D.mapPass.texture,C.uniforms.resolution.value=D.mapSize,C.uniforms.radius.value=D.radius,n.setRenderTarget(D.map),n.clear(),n.renderBufferDirect(P,null,F,C,p,null)}function T(D,P,F,U){let z=null;const $=F.isPointLight===!0?D.customDistanceMaterial:D.customDepthMaterial;if($!==void 0)z=$;else if(z=F.isPointLight===!0?u:s,n.localClippingEnabled&&P.clipShadows===!0&&Array.isArray(P.clippingPlanes)&&P.clippingPlanes.length!==0||P.displacementMap&&P.displacementScale!==0||P.alphaMap&&P.alphaTest>0||P.map&&P.alphaTest>0){const J=z.uuid,W=P.uuid;let Z=d[J];Z===void 0&&(Z={},d[J]=Z);let oe=Z[W];oe===void 0&&(oe=z.clone(),Z[W]=oe,P.addEventListener("dispose",O)),z=oe}if(z.visible=P.visible,z.wireframe=P.wireframe,U===Rc?z.side=P.shadowSide!==null?P.shadowSide:P.side:z.side=P.shadowSide!==null?P.shadowSide:y[P.side],z.alphaMap=P.alphaMap,z.alphaTest=P.alphaTest,z.map=P.map,z.clipShadows=P.clipShadows,z.clippingPlanes=P.clippingPlanes,z.clipIntersection=P.clipIntersection,z.displacementMap=P.displacementMap,z.displacementScale=P.displacementScale,z.displacementBias=P.displacementBias,z.wireframeLinewidth=P.wireframeLinewidth,z.linewidth=P.linewidth,F.isPointLight===!0&&z.isMeshDistanceMaterial===!0){const J=n.properties.get(z);J.light=F}return z}function R(D,P,F,U,z){if(D.visible===!1)return;if(D.layers.test(P.layers)&&(D.isMesh||D.isLine||D.isPoints)&&(D.castShadow||D.receiveShadow&&z===Rc)&&(!D.frustumCulled||r.intersectsObject(D))){D.modelViewMatrix.multiplyMatrices(F.matrixWorldInverse,D.matrixWorld);const W=e.update(D),Z=D.material;if(Array.isArray(Z)){const oe=W.groups;for(let Y=0,K=oe.length;Y<K;Y++){const ee=oe[Y],ue=Z[ee.materialIndex];if(ue&&ue.visible){const q=T(D,ue,U,z);D.onBeforeShadow(n,D,P,F,W,q,ee),n.renderBufferDirect(F,null,W,q,D,ee),D.onAfterShadow(n,D,P,F,W,q,ee)}}}else if(Z.visible){const oe=T(D,Z,U,z);D.onBeforeShadow(n,D,P,F,W,oe,null),n.renderBufferDirect(F,null,W,oe,D,null),D.onAfterShadow(n,D,P,F,W,oe,null)}}const J=D.children;for(let W=0,Z=J.length;W<Z;W++)R(J[W],P,F,U,z)}function O(D){D.target.removeEventListener("dispose",O);for(const F in d){const U=d[F],z=D.target.uuid;z in U&&(U[z].dispose(),delete U[z])}}}const ife={[J1]:Q1,[Z1]:nE,[eE]:iE,[Am]:tE,[Q1]:J1,[nE]:Z1,[iE]:eE,[tE]:Am};function rfe(n,e){function t(){let Me=!1;const xt=new Gi;let Qe=null;const mt=new Gi(0,0,0,0);return{setMask:function(Lt){Qe!==Lt&&!Me&&(n.colorMask(Lt,Lt,Lt,Lt),Qe=Lt)},setLocked:function(Lt){Me=Lt},setClear:function(Lt,It,Qt,sn,qt){qt===!0&&(Lt*=sn,It*=sn,Qt*=sn),xt.set(Lt,It,Qt,sn),mt.equals(xt)===!1&&(n.clearColor(Lt,It,Qt,sn),mt.copy(xt))},reset:function(){Me=!1,Qe=null,mt.set(-1,0,0,0)}}}function r(){let Me=!1,xt=!1,Qe=null,mt=null,Lt=null;return{setReversed:function(It){if(xt!==It){const Qt=e.get("EXT_clip_control");xt?Qt.clipControlEXT(Qt.LOWER_LEFT_EXT,Qt.ZERO_TO_ONE_EXT):Qt.clipControlEXT(Qt.LOWER_LEFT_EXT,Qt.NEGATIVE_ONE_TO_ONE_EXT);const sn=Lt;Lt=null,this.setClear(sn)}xt=It},getReversed:function(){return xt},setTest:function(It){It?Oe(n.DEPTH_TEST):Ae(n.DEPTH_TEST)},setMask:function(It){Qe!==It&&!Me&&(n.depthMask(It),Qe=It)},setFunc:function(It){if(xt&&(It=ife[It]),mt!==It){switch(It){case J1:n.depthFunc(n.NEVER);break;case Q1:n.depthFunc(n.ALWAYS);break;case Z1:n.depthFunc(n.LESS);break;case Am:n.depthFunc(n.LEQUAL);break;case eE:n.depthFunc(n.EQUAL);break;case tE:n.depthFunc(n.GEQUAL);break;case nE:n.depthFunc(n.GREATER);break;case iE:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}mt=It}},setLocked:function(It){Me=It},setClear:function(It){Lt!==It&&(xt&&(It=1-It),n.clearDepth(It),Lt=It)},reset:function(){Me=!1,Qe=null,mt=null,Lt=null,xt=!1}}}function a(){let Me=!1,xt=null,Qe=null,mt=null,Lt=null,It=null,Qt=null,sn=null,qt=null;return{setTest:function(Dt){Me||(Dt?Oe(n.STENCIL_TEST):Ae(n.STENCIL_TEST))},setMask:function(Dt){xt!==Dt&&!Me&&(n.stencilMask(Dt),xt=Dt)},setFunc:function(Dt,Yt,yn){(Qe!==Dt||mt!==Yt||Lt!==yn)&&(n.stencilFunc(Dt,Yt,yn),Qe=Dt,mt=Yt,Lt=yn)},setOp:function(Dt,Yt,yn){(It!==Dt||Qt!==Yt||sn!==yn)&&(n.stencilOp(Dt,Yt,yn),It=Dt,Qt=Yt,sn=yn)},setLocked:function(Dt){Me=Dt},setClear:function(Dt){qt!==Dt&&(n.clearStencil(Dt),qt=Dt)},reset:function(){Me=!1,xt=null,Qe=null,mt=null,Lt=null,It=null,Qt=null,sn=null,qt=null}}}const o=new t,l=new r,s=new a,u=new WeakMap,d=new WeakMap;let g={},y={},_=new WeakMap,C=[],c=null,p=!1,m=null,b=null,E=null,T=null,R=null,O=null,D=null,P=new en(0,0,0),F=0,U=!1,z=null,$=null,J=null,W=null,Z=null;const oe=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let Y=!1,K=0;const ee=n.getParameter(n.VERSION);ee.indexOf("WebGL")!==-1?(K=parseFloat(/^WebGL (\d)/.exec(ee)[1]),Y=K>=1):ee.indexOf("OpenGL ES")!==-1&&(K=parseFloat(/^OpenGL ES (\d)/.exec(ee)[1]),Y=K>=2);let ue=null,q={};const ie=n.getParameter(n.SCISSOR_BOX),me=n.getParameter(n.VIEWPORT),de=new Gi().fromArray(ie),Q=new Gi().fromArray(me);function he(Me,xt,Qe,mt){const Lt=new Uint8Array(4),It=n.createTexture();n.bindTexture(Me,It),n.texParameteri(Me,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(Me,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Qt=0;Qt<Qe;Qt++)Me===n.TEXTURE_3D||Me===n.TEXTURE_2D_ARRAY?n.texImage3D(xt,0,n.RGBA,1,1,mt,0,n.RGBA,n.UNSIGNED_BYTE,Lt):n.texImage2D(xt+Qt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Lt);return It}const xe={};xe[n.TEXTURE_2D]=he(n.TEXTURE_2D,n.TEXTURE_2D,1),xe[n.TEXTURE_CUBE_MAP]=he(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),xe[n.TEXTURE_2D_ARRAY]=he(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),xe[n.TEXTURE_3D]=he(n.TEXTURE_3D,n.TEXTURE_3D,1,1),o.setClear(0,0,0,1),l.setClear(1),s.setClear(0),Oe(n.DEPTH_TEST),l.setFunc(Am),Ie(!1),Ye(_2),Oe(n.CULL_FACE),re(ud);function Oe(Me){g[Me]!==!0&&(n.enable(Me),g[Me]=!0)}function Ae(Me){g[Me]!==!1&&(n.disable(Me),g[Me]=!1)}function Te(Me,xt){return y[Me]!==xt?(n.bindFramebuffer(Me,xt),y[Me]=xt,Me===n.DRAW_FRAMEBUFFER&&(y[n.FRAMEBUFFER]=xt),Me===n.FRAMEBUFFER&&(y[n.DRAW_FRAMEBUFFER]=xt),!0):!1}function ze(Me,xt){let Qe=C,mt=!1;if(Me){Qe=_.get(xt),Qe===void 0&&(Qe=[],_.set(xt,Qe));const Lt=Me.textures;if(Qe.length!==Lt.length||Qe[0]!==n.COLOR_ATTACHMENT0){for(let It=0,Qt=Lt.length;It<Qt;It++)Qe[It]=n.COLOR_ATTACHMENT0+It;Qe.length=Lt.length,mt=!0}}else Qe[0]!==n.BACK&&(Qe[0]=n.BACK,mt=!0);mt&&n.drawBuffers(Qe)}function vt(Me){return c!==Me?(n.useProgram(Me),c=Me,!0):!1}const Be={[_h]:n.FUNC_ADD,[qH]:n.FUNC_SUBTRACT,[KH]:n.FUNC_REVERSE_SUBTRACT};Be[JH]=n.MIN,Be[QH]=n.MAX;const Ce={[ZH]:n.ZERO,[e8]:n.ONE,[t8]:n.SRC_COLOR,[q1]:n.SRC_ALPHA,[s8]:n.SRC_ALPHA_SATURATE,[a8]:n.DST_COLOR,[i8]:n.DST_ALPHA,[n8]:n.ONE_MINUS_SRC_COLOR,[K1]:n.ONE_MINUS_SRC_ALPHA,[o8]:n.ONE_MINUS_DST_COLOR,[r8]:n.ONE_MINUS_DST_ALPHA,[l8]:n.CONSTANT_COLOR,[c8]:n.ONE_MINUS_CONSTANT_COLOR,[u8]:n.CONSTANT_ALPHA,[f8]:n.ONE_MINUS_CONSTANT_ALPHA};function re(Me,xt,Qe,mt,Lt,It,Qt,sn,qt,Dt){if(Me===ud){p===!0&&(Ae(n.BLEND),p=!1);return}if(p===!1&&(Oe(n.BLEND),p=!0),Me!==YH){if(Me!==m||Dt!==U){if((b!==_h||R!==_h)&&(n.blendEquation(n.FUNC_ADD),b=_h,R=_h),Dt)switch(Me){case _m:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case x2:n.blendFunc(n.ONE,n.ONE);break;case C2:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case E2:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Me);break}else switch(Me){case _m:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case x2:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case C2:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case E2:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Me);break}E=null,T=null,O=null,D=null,P.set(0,0,0),F=0,m=Me,U=Dt}return}Lt=Lt||xt,It=It||Qe,Qt=Qt||mt,(xt!==b||Lt!==R)&&(n.blendEquationSeparate(Be[xt],Be[Lt]),b=xt,R=Lt),(Qe!==E||mt!==T||It!==O||Qt!==D)&&(n.blendFuncSeparate(Ce[Qe],Ce[mt],Ce[It],Ce[Qt]),E=Qe,T=mt,O=It,D=Qt),(sn.equals(P)===!1||qt!==F)&&(n.blendColor(sn.r,sn.g,sn.b,qt),P.copy(sn),F=qt),m=Me,U=!1}function Fe(Me,xt){Me.side===zc?Ae(n.CULL_FACE):Oe(n.CULL_FACE);let Qe=Me.side===ss;xt&&(Qe=!Qe),Ie(Qe),Me.blending===_m&&Me.transparent===!1?re(ud):re(Me.blending,Me.blendEquation,Me.blendSrc,Me.blendDst,Me.blendEquationAlpha,Me.blendSrcAlpha,Me.blendDstAlpha,Me.blendColor,Me.blendAlpha,Me.premultipliedAlpha),l.setFunc(Me.depthFunc),l.setTest(Me.depthTest),l.setMask(Me.depthWrite),o.setMask(Me.colorWrite);const mt=Me.stencilWrite;s.setTest(mt),mt&&(s.setMask(Me.stencilWriteMask),s.setFunc(Me.stencilFunc,Me.stencilRef,Me.stencilFuncMask),s.setOp(Me.stencilFail,Me.stencilZFail,Me.stencilZPass)),lt(Me.polygonOffset,Me.polygonOffsetFactor,Me.polygonOffsetUnits),Me.alphaToCoverage===!0?Oe(n.SAMPLE_ALPHA_TO_COVERAGE):Ae(n.SAMPLE_ALPHA_TO_COVERAGE)}function Ie(Me){z!==Me&&(Me?n.frontFace(n.CW):n.frontFace(n.CCW),z=Me)}function Ye(Me){Me!==jH?(Oe(n.CULL_FACE),Me!==$&&(Me===_2?n.cullFace(n.BACK):Me===WH?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Ae(n.CULL_FACE),$=Me}function ke(Me){Me!==J&&(Y&&n.lineWidth(Me),J=Me)}function lt(Me,xt,Qe){Me?(Oe(n.POLYGON_OFFSET_FILL),(W!==xt||Z!==Qe)&&(n.polygonOffset(xt,Qe),W=xt,Z=Qe)):Ae(n.POLYGON_OFFSET_FILL)}function ot(Me){Me?Oe(n.SCISSOR_TEST):Ae(n.SCISSOR_TEST)}function ce(Me){Me===void 0&&(Me=n.TEXTURE0+oe-1),ue!==Me&&(n.activeTexture(Me),ue=Me)}function ae(Me,xt,Qe){Qe===void 0&&(ue===null?Qe=n.TEXTURE0+oe-1:Qe=ue);let mt=q[Qe];mt===void 0&&(mt={type:void 0,texture:void 0},q[Qe]=mt),(mt.type!==Me||mt.texture!==xt)&&(ue!==Qe&&(n.activeTexture(Qe),ue=Qe),n.bindTexture(Me,xt||xe[Me]),mt.type=Me,mt.texture=xt)}function we(){const Me=q[ue];Me!==void 0&&Me.type!==void 0&&(n.bindTexture(Me.type,null),Me.type=void 0,Me.texture=void 0)}function De(){try{n.compressedTexImage2D(...arguments)}catch(Me){console.error("THREE.WebGLState:",Me)}}function qe(){try{n.compressedTexImage3D(...arguments)}catch(Me){console.error("THREE.WebGLState:",Me)}}function He(){try{n.texSubImage2D(...arguments)}catch(Me){console.error("THREE.WebGLState:",Me)}}function gt(){try{n.texSubImage3D(...arguments)}catch(Me){console.error("THREE.WebGLState:",Me)}}function st(){try{n.compressedTexSubImage2D(...arguments)}catch(Me){console.error("THREE.WebGLState:",Me)}}function pt(){try{n.compressedTexSubImage3D(...arguments)}catch(Me){console.error("THREE.WebGLState:",Me)}}function Ot(){try{n.texStorage2D(...arguments)}catch(Me){console.error("THREE.WebGLState:",Me)}}function at(){try{n.texStorage3D(...arguments)}catch(Me){console.error("THREE.WebGLState:",Me)}}function _t(){try{n.texImage2D(...arguments)}catch(Me){console.error("THREE.WebGLState:",Me)}}function Ct(){try{n.texImage3D(...arguments)}catch(Me){console.error("THREE.WebGLState:",Me)}}function je(Me){de.equals(Me)===!1&&(n.scissor(Me.x,Me.y,Me.z,Me.w),de.copy(Me))}function it(Me){Q.equals(Me)===!1&&(n.viewport(Me.x,Me.y,Me.z,Me.w),Q.copy(Me))}function Se(Me,xt){let Qe=d.get(xt);Qe===void 0&&(Qe=new WeakMap,d.set(xt,Qe));let mt=Qe.get(Me);mt===void 0&&(mt=n.getUniformBlockIndex(xt,Me.name),Qe.set(Me,mt))}function Ge(Me,xt){const mt=d.get(xt).get(Me);u.get(xt)!==mt&&(n.uniformBlockBinding(xt,mt,Me.__bindingPointIndex),u.set(xt,mt))}function St(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),l.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),g={},ue=null,q={},y={},_=new WeakMap,C=[],c=null,p=!1,m=null,b=null,E=null,T=null,R=null,O=null,D=null,P=new en(0,0,0),F=0,U=!1,z=null,$=null,J=null,W=null,Z=null,de.set(0,0,n.canvas.width,n.canvas.height),Q.set(0,0,n.canvas.width,n.canvas.height),o.reset(),l.reset(),s.reset()}return{buffers:{color:o,depth:l,stencil:s},enable:Oe,disable:Ae,bindFramebuffer:Te,drawBuffers:ze,useProgram:vt,setBlending:re,setMaterial:Fe,setFlipSided:Ie,setCullFace:Ye,setLineWidth:ke,setPolygonOffset:lt,setScissorTest:ot,activeTexture:ce,bindTexture:ae,unbindTexture:we,compressedTexImage2D:De,compressedTexImage3D:qe,texImage2D:_t,texImage3D:Ct,updateUBOMapping:Se,uniformBlockBinding:Ge,texStorage2D:Ot,texStorage3D:at,texSubImage2D:He,texSubImage3D:gt,compressedTexSubImage2D:st,compressedTexSubImage3D:pt,scissor:je,viewport:it,reset:St}}function afe(n,e,t,r,a,o,l){const s=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,u=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),d=new Mt,g=new WeakMap;let y;const _=new WeakMap;let C=!1;try{C=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function c(ce,ae){return C?new OffscreenCanvas(ce,ae):fS("canvas")}function p(ce,ae,we){let De=1;const qe=ot(ce);if((qe.width>we||qe.height>we)&&(De=we/Math.max(qe.width,qe.height)),De<1)if(typeof HTMLImageElement<"u"&&ce instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ce instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ce instanceof ImageBitmap||typeof VideoFrame<"u"&&ce instanceof VideoFrame){const He=Math.floor(De*qe.width),gt=Math.floor(De*qe.height);y===void 0&&(y=c(He,gt));const st=ae?c(He,gt):y;return st.width=He,st.height=gt,st.getContext("2d").drawImage(ce,0,0,He,gt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+qe.width+"x"+qe.height+") to ("+He+"x"+gt+")."),st}else return"data"in ce&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+qe.width+"x"+qe.height+")."),ce;return ce}function m(ce){return ce.generateMipmaps}function b(ce){n.generateMipmap(ce)}function E(ce){return ce.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:ce.isWebGL3DRenderTarget?n.TEXTURE_3D:ce.isWebGLArrayRenderTarget||ce.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function T(ce,ae,we,De,qe=!1){if(ce!==null){if(n[ce]!==void 0)return n[ce];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ce+"'")}let He=ae;if(ae===n.RED&&(we===n.FLOAT&&(He=n.R32F),we===n.HALF_FLOAT&&(He=n.R16F),we===n.UNSIGNED_BYTE&&(He=n.R8)),ae===n.RED_INTEGER&&(we===n.UNSIGNED_BYTE&&(He=n.R8UI),we===n.UNSIGNED_SHORT&&(He=n.R16UI),we===n.UNSIGNED_INT&&(He=n.R32UI),we===n.BYTE&&(He=n.R8I),we===n.SHORT&&(He=n.R16I),we===n.INT&&(He=n.R32I)),ae===n.RG&&(we===n.FLOAT&&(He=n.RG32F),we===n.HALF_FLOAT&&(He=n.RG16F),we===n.UNSIGNED_BYTE&&(He=n.RG8)),ae===n.RG_INTEGER&&(we===n.UNSIGNED_BYTE&&(He=n.RG8UI),we===n.UNSIGNED_SHORT&&(He=n.RG16UI),we===n.UNSIGNED_INT&&(He=n.RG32UI),we===n.BYTE&&(He=n.RG8I),we===n.SHORT&&(He=n.RG16I),we===n.INT&&(He=n.RG32I)),ae===n.RGB_INTEGER&&(we===n.UNSIGNED_BYTE&&(He=n.RGB8UI),we===n.UNSIGNED_SHORT&&(He=n.RGB16UI),we===n.UNSIGNED_INT&&(He=n.RGB32UI),we===n.BYTE&&(He=n.RGB8I),we===n.SHORT&&(He=n.RGB16I),we===n.INT&&(He=n.RGB32I)),ae===n.RGBA_INTEGER&&(we===n.UNSIGNED_BYTE&&(He=n.RGBA8UI),we===n.UNSIGNED_SHORT&&(He=n.RGBA16UI),we===n.UNSIGNED_INT&&(He=n.RGBA32UI),we===n.BYTE&&(He=n.RGBA8I),we===n.SHORT&&(He=n.RGBA16I),we===n.INT&&(He=n.RGBA32I)),ae===n.RGB&&we===n.UNSIGNED_INT_5_9_9_9_REV&&(He=n.RGB9_E5),ae===n.RGBA){const gt=qe?lS:Ii.getTransfer(De);we===n.FLOAT&&(He=n.RGBA32F),we===n.HALF_FLOAT&&(He=n.RGBA16F),we===n.UNSIGNED_BYTE&&(He=gt===or?n.SRGB8_ALPHA8:n.RGBA8),we===n.UNSIGNED_SHORT_4_4_4_4&&(He=n.RGBA4),we===n.UNSIGNED_SHORT_5_5_5_1&&(He=n.RGB5_A1)}return(He===n.R16F||He===n.R32F||He===n.RG16F||He===n.RG32F||He===n.RGBA16F||He===n.RGBA32F)&&e.get("EXT_color_buffer_float"),He}function R(ce,ae){let we;return ce?ae===null||ae===vd||ae===Mm?we=n.DEPTH24_STENCIL8:ae===Rs?we=n.DEPTH32F_STENCIL8:ae===h0&&(we=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):ae===null||ae===vd||ae===Mm?we=n.DEPTH_COMPONENT24:ae===Rs?we=n.DEPTH_COMPONENT32F:ae===h0&&(we=n.DEPTH_COMPONENT16),we}function O(ce,ae){return m(ce)===!0||ce.isFramebufferTexture&&ce.minFilter!==Ka&&ce.minFilter!==ha?Math.log2(Math.max(ae.width,ae.height))+1:ce.mipmaps!==void 0&&ce.mipmaps.length>0?ce.mipmaps.length:ce.isCompressedTexture&&Array.isArray(ce.image)?ae.mipmaps.length:1}function D(ce){const ae=ce.target;ae.removeEventListener("dispose",D),F(ae),ae.isVideoTexture&&g.delete(ae)}function P(ce){const ae=ce.target;ae.removeEventListener("dispose",P),z(ae)}function F(ce){const ae=r.get(ce);if(ae.__webglInit===void 0)return;const we=ce.source,De=_.get(we);if(De){const qe=De[ae.__cacheKey];qe.usedTimes--,qe.usedTimes===0&&U(ce),Object.keys(De).length===0&&_.delete(we)}r.remove(ce)}function U(ce){const ae=r.get(ce);n.deleteTexture(ae.__webglTexture);const we=ce.source,De=_.get(we);delete De[ae.__cacheKey],l.memory.textures--}function z(ce){const ae=r.get(ce);if(ce.depthTexture&&(ce.depthTexture.dispose(),r.remove(ce.depthTexture)),ce.isWebGLCubeRenderTarget)for(let De=0;De<6;De++){if(Array.isArray(ae.__webglFramebuffer[De]))for(let qe=0;qe<ae.__webglFramebuffer[De].length;qe++)n.deleteFramebuffer(ae.__webglFramebuffer[De][qe]);else n.deleteFramebuffer(ae.__webglFramebuffer[De]);ae.__webglDepthbuffer&&n.deleteRenderbuffer(ae.__webglDepthbuffer[De])}else{if(Array.isArray(ae.__webglFramebuffer))for(let De=0;De<ae.__webglFramebuffer.length;De++)n.deleteFramebuffer(ae.__webglFramebuffer[De]);else n.deleteFramebuffer(ae.__webglFramebuffer);if(ae.__webglDepthbuffer&&n.deleteRenderbuffer(ae.__webglDepthbuffer),ae.__webglMultisampledFramebuffer&&n.deleteFramebuffer(ae.__webglMultisampledFramebuffer),ae.__webglColorRenderbuffer)for(let De=0;De<ae.__webglColorRenderbuffer.length;De++)ae.__webglColorRenderbuffer[De]&&n.deleteRenderbuffer(ae.__webglColorRenderbuffer[De]);ae.__webglDepthRenderbuffer&&n.deleteRenderbuffer(ae.__webglDepthRenderbuffer)}const we=ce.textures;for(let De=0,qe=we.length;De<qe;De++){const He=r.get(we[De]);He.__webglTexture&&(n.deleteTexture(He.__webglTexture),l.memory.textures--),r.remove(we[De])}r.remove(ce)}let $=0;function J(){$=0}function W(){const ce=$;return ce>=a.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+ce+" texture units while this GPU supports only "+a.maxTextures),$+=1,ce}function Z(ce){const ae=[];return ae.push(ce.wrapS),ae.push(ce.wrapT),ae.push(ce.wrapR||0),ae.push(ce.magFilter),ae.push(ce.minFilter),ae.push(ce.anisotropy),ae.push(ce.internalFormat),ae.push(ce.format),ae.push(ce.type),ae.push(ce.generateMipmaps),ae.push(ce.premultiplyAlpha),ae.push(ce.flipY),ae.push(ce.unpackAlignment),ae.push(ce.colorSpace),ae.join()}function oe(ce,ae){const we=r.get(ce);if(ce.isVideoTexture&&ke(ce),ce.isRenderTargetTexture===!1&&ce.version>0&&we.__version!==ce.version){const De=ce.image;if(De===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(De.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Q(we,ce,ae);return}}t.bindTexture(n.TEXTURE_2D,we.__webglTexture,n.TEXTURE0+ae)}function Y(ce,ae){const we=r.get(ce);if(ce.version>0&&we.__version!==ce.version){Q(we,ce,ae);return}t.bindTexture(n.TEXTURE_2D_ARRAY,we.__webglTexture,n.TEXTURE0+ae)}function K(ce,ae){const we=r.get(ce);if(ce.version>0&&we.__version!==ce.version){Q(we,ce,ae);return}t.bindTexture(n.TEXTURE_3D,we.__webglTexture,n.TEXTURE0+ae)}function ee(ce,ae){const we=r.get(ce);if(ce.version>0&&we.__version!==ce.version){he(we,ce,ae);return}t.bindTexture(n.TEXTURE_CUBE_MAP,we.__webglTexture,n.TEXTURE0+ae)}const ue={[Hh]:n.REPEAT,[el]:n.CLAMP_TO_EDGE,[d0]:n.MIRRORED_REPEAT},q={[Ka]:n.NEAREST,[Lw]:n.NEAREST_MIPMAP_NEAREST,[hm]:n.NEAREST_MIPMAP_LINEAR,[ha]:n.LINEAR,[Jv]:n.LINEAR_MIPMAP_NEAREST,[Fl]:n.LINEAR_MIPMAP_LINEAR},ie={[T8]:n.NEVER,[P8]:n.ALWAYS,[R8]:n.LESS,[gI]:n.LEQUAL,[O8]:n.EQUAL,[D8]:n.GEQUAL,[I8]:n.GREATER,[B8]:n.NOTEQUAL};function me(ce,ae){if(ae.type===Rs&&e.has("OES_texture_float_linear")===!1&&(ae.magFilter===ha||ae.magFilter===Jv||ae.magFilter===hm||ae.magFilter===Fl||ae.minFilter===ha||ae.minFilter===Jv||ae.minFilter===hm||ae.minFilter===Fl)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(ce,n.TEXTURE_WRAP_S,ue[ae.wrapS]),n.texParameteri(ce,n.TEXTURE_WRAP_T,ue[ae.wrapT]),(ce===n.TEXTURE_3D||ce===n.TEXTURE_2D_ARRAY)&&n.texParameteri(ce,n.TEXTURE_WRAP_R,ue[ae.wrapR]),n.texParameteri(ce,n.TEXTURE_MAG_FILTER,q[ae.magFilter]),n.texParameteri(ce,n.TEXTURE_MIN_FILTER,q[ae.minFilter]),ae.compareFunction&&(n.texParameteri(ce,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(ce,n.TEXTURE_COMPARE_FUNC,ie[ae.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(ae.magFilter===Ka||ae.minFilter!==hm&&ae.minFilter!==Fl||ae.type===Rs&&e.has("OES_texture_float_linear")===!1)return;if(ae.anisotropy>1||r.get(ae).__currentAnisotropy){const we=e.get("EXT_texture_filter_anisotropic");n.texParameterf(ce,we.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(ae.anisotropy,a.getMaxAnisotropy())),r.get(ae).__currentAnisotropy=ae.anisotropy}}}function de(ce,ae){let we=!1;ce.__webglInit===void 0&&(ce.__webglInit=!0,ae.addEventListener("dispose",D));const De=ae.source;let qe=_.get(De);qe===void 0&&(qe={},_.set(De,qe));const He=Z(ae);if(He!==ce.__cacheKey){qe[He]===void 0&&(qe[He]={texture:n.createTexture(),usedTimes:0},l.memory.textures++,we=!0),qe[He].usedTimes++;const gt=qe[ce.__cacheKey];gt!==void 0&&(qe[ce.__cacheKey].usedTimes--,gt.usedTimes===0&&U(ae)),ce.__cacheKey=He,ce.__webglTexture=qe[He].texture}return we}function Q(ce,ae,we){let De=n.TEXTURE_2D;(ae.isDataArrayTexture||ae.isCompressedArrayTexture)&&(De=n.TEXTURE_2D_ARRAY),ae.isData3DTexture&&(De=n.TEXTURE_3D);const qe=de(ce,ae),He=ae.source;t.bindTexture(De,ce.__webglTexture,n.TEXTURE0+we);const gt=r.get(He);if(He.version!==gt.__version||qe===!0){t.activeTexture(n.TEXTURE0+we);const st=Ii.getPrimaries(Ii.workingColorSpace),pt=ae.colorSpace===nd?null:Ii.getPrimaries(ae.colorSpace),Ot=ae.colorSpace===nd||st===pt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,ae.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ae.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,ae.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ot);let at=p(ae.image,!1,a.maxTextureSize);at=lt(ae,at);const _t=o.convert(ae.format,ae.colorSpace),Ct=o.convert(ae.type);let je=T(ae.internalFormat,_t,Ct,ae.colorSpace,ae.isVideoTexture);me(De,ae);let it;const Se=ae.mipmaps,Ge=ae.isVideoTexture!==!0,St=gt.__version===void 0||qe===!0,Me=He.dataReady,xt=O(ae,at);if(ae.isDepthTexture)je=R(ae.format===Tm,ae.type),St&&(Ge?t.texStorage2D(n.TEXTURE_2D,1,je,at.width,at.height):t.texImage2D(n.TEXTURE_2D,0,je,at.width,at.height,0,_t,Ct,null));else if(ae.isDataTexture)if(Se.length>0){Ge&&St&&t.texStorage2D(n.TEXTURE_2D,xt,je,Se[0].width,Se[0].height);for(let Qe=0,mt=Se.length;Qe<mt;Qe++)it=Se[Qe],Ge?Me&&t.texSubImage2D(n.TEXTURE_2D,Qe,0,0,it.width,it.height,_t,Ct,it.data):t.texImage2D(n.TEXTURE_2D,Qe,je,it.width,it.height,0,_t,Ct,it.data);ae.generateMipmaps=!1}else Ge?(St&&t.texStorage2D(n.TEXTURE_2D,xt,je,at.width,at.height),Me&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,at.width,at.height,_t,Ct,at.data)):t.texImage2D(n.TEXTURE_2D,0,je,at.width,at.height,0,_t,Ct,at.data);else if(ae.isCompressedTexture)if(ae.isCompressedArrayTexture){Ge&&St&&t.texStorage3D(n.TEXTURE_2D_ARRAY,xt,je,Se[0].width,Se[0].height,at.depth);for(let Qe=0,mt=Se.length;Qe<mt;Qe++)if(it=Se[Qe],ae.format!==Lo)if(_t!==null)if(Ge){if(Me)if(ae.layerUpdates.size>0){const Lt=P2(it.width,it.height,ae.format,ae.type);for(const It of ae.layerUpdates){const Qt=it.data.subarray(It*Lt/it.data.BYTES_PER_ELEMENT,(It+1)*Lt/it.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Qe,0,0,It,it.width,it.height,1,_t,Qt)}ae.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Qe,0,0,0,it.width,it.height,at.depth,_t,it.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,Qe,je,it.width,it.height,at.depth,0,it.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Ge?Me&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,Qe,0,0,0,it.width,it.height,at.depth,_t,Ct,it.data):t.texImage3D(n.TEXTURE_2D_ARRAY,Qe,je,it.width,it.height,at.depth,0,_t,Ct,it.data)}else{Ge&&St&&t.texStorage2D(n.TEXTURE_2D,xt,je,Se[0].width,Se[0].height);for(let Qe=0,mt=Se.length;Qe<mt;Qe++)it=Se[Qe],ae.format!==Lo?_t!==null?Ge?Me&&t.compressedTexSubImage2D(n.TEXTURE_2D,Qe,0,0,it.width,it.height,_t,it.data):t.compressedTexImage2D(n.TEXTURE_2D,Qe,je,it.width,it.height,0,it.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ge?Me&&t.texSubImage2D(n.TEXTURE_2D,Qe,0,0,it.width,it.height,_t,Ct,it.data):t.texImage2D(n.TEXTURE_2D,Qe,je,it.width,it.height,0,_t,Ct,it.data)}else if(ae.isDataArrayTexture)if(Ge){if(St&&t.texStorage3D(n.TEXTURE_2D_ARRAY,xt,je,at.width,at.height,at.depth),Me)if(ae.layerUpdates.size>0){const Qe=P2(at.width,at.height,ae.format,ae.type);for(const mt of ae.layerUpdates){const Lt=at.data.subarray(mt*Qe/at.data.BYTES_PER_ELEMENT,(mt+1)*Qe/at.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,mt,at.width,at.height,1,_t,Ct,Lt)}ae.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,at.width,at.height,at.depth,_t,Ct,at.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,je,at.width,at.height,at.depth,0,_t,Ct,at.data);else if(ae.isData3DTexture)Ge?(St&&t.texStorage3D(n.TEXTURE_3D,xt,je,at.width,at.height,at.depth),Me&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,at.width,at.height,at.depth,_t,Ct,at.data)):t.texImage3D(n.TEXTURE_3D,0,je,at.width,at.height,at.depth,0,_t,Ct,at.data);else if(ae.isFramebufferTexture){if(St)if(Ge)t.texStorage2D(n.TEXTURE_2D,xt,je,at.width,at.height);else{let Qe=at.width,mt=at.height;for(let Lt=0;Lt<xt;Lt++)t.texImage2D(n.TEXTURE_2D,Lt,je,Qe,mt,0,_t,Ct,null),Qe>>=1,mt>>=1}}else if(Se.length>0){if(Ge&&St){const Qe=ot(Se[0]);t.texStorage2D(n.TEXTURE_2D,xt,je,Qe.width,Qe.height)}for(let Qe=0,mt=Se.length;Qe<mt;Qe++)it=Se[Qe],Ge?Me&&t.texSubImage2D(n.TEXTURE_2D,Qe,0,0,_t,Ct,it):t.texImage2D(n.TEXTURE_2D,Qe,je,_t,Ct,it);ae.generateMipmaps=!1}else if(Ge){if(St){const Qe=ot(at);t.texStorage2D(n.TEXTURE_2D,xt,je,Qe.width,Qe.height)}Me&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,_t,Ct,at)}else t.texImage2D(n.TEXTURE_2D,0,je,_t,Ct,at);m(ae)&&b(De),gt.__version=He.version,ae.onUpdate&&ae.onUpdate(ae)}ce.__version=ae.version}function he(ce,ae,we){if(ae.image.length!==6)return;const De=de(ce,ae),qe=ae.source;t.bindTexture(n.TEXTURE_CUBE_MAP,ce.__webglTexture,n.TEXTURE0+we);const He=r.get(qe);if(qe.version!==He.__version||De===!0){t.activeTexture(n.TEXTURE0+we);const gt=Ii.getPrimaries(Ii.workingColorSpace),st=ae.colorSpace===nd?null:Ii.getPrimaries(ae.colorSpace),pt=ae.colorSpace===nd||gt===st?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,ae.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ae.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,ae.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,pt);const Ot=ae.isCompressedTexture||ae.image[0].isCompressedTexture,at=ae.image[0]&&ae.image[0].isDataTexture,_t=[];for(let mt=0;mt<6;mt++)!Ot&&!at?_t[mt]=p(ae.image[mt],!0,a.maxCubemapSize):_t[mt]=at?ae.image[mt].image:ae.image[mt],_t[mt]=lt(ae,_t[mt]);const Ct=_t[0],je=o.convert(ae.format,ae.colorSpace),it=o.convert(ae.type),Se=T(ae.internalFormat,je,it,ae.colorSpace),Ge=ae.isVideoTexture!==!0,St=He.__version===void 0||De===!0,Me=qe.dataReady;let xt=O(ae,Ct);me(n.TEXTURE_CUBE_MAP,ae);let Qe;if(Ot){Ge&&St&&t.texStorage2D(n.TEXTURE_CUBE_MAP,xt,Se,Ct.width,Ct.height);for(let mt=0;mt<6;mt++){Qe=_t[mt].mipmaps;for(let Lt=0;Lt<Qe.length;Lt++){const It=Qe[Lt];ae.format!==Lo?je!==null?Ge?Me&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+mt,Lt,0,0,It.width,It.height,je,It.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+mt,Lt,Se,It.width,It.height,0,It.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ge?Me&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+mt,Lt,0,0,It.width,It.height,je,it,It.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+mt,Lt,Se,It.width,It.height,0,je,it,It.data)}}}else{if(Qe=ae.mipmaps,Ge&&St){Qe.length>0&&xt++;const mt=ot(_t[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,xt,Se,mt.width,mt.height)}for(let mt=0;mt<6;mt++)if(at){Ge?Me&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+mt,0,0,0,_t[mt].width,_t[mt].height,je,it,_t[mt].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+mt,0,Se,_t[mt].width,_t[mt].height,0,je,it,_t[mt].data);for(let Lt=0;Lt<Qe.length;Lt++){const Qt=Qe[Lt].image[mt].image;Ge?Me&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+mt,Lt+1,0,0,Qt.width,Qt.height,je,it,Qt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+mt,Lt+1,Se,Qt.width,Qt.height,0,je,it,Qt.data)}}else{Ge?Me&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+mt,0,0,0,je,it,_t[mt]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+mt,0,Se,je,it,_t[mt]);for(let Lt=0;Lt<Qe.length;Lt++){const It=Qe[Lt];Ge?Me&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+mt,Lt+1,0,0,je,it,It.image[mt]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+mt,Lt+1,Se,je,it,It.image[mt])}}}m(ae)&&b(n.TEXTURE_CUBE_MAP),He.__version=qe.version,ae.onUpdate&&ae.onUpdate(ae)}ce.__version=ae.version}function xe(ce,ae,we,De,qe,He){const gt=o.convert(we.format,we.colorSpace),st=o.convert(we.type),pt=T(we.internalFormat,gt,st,we.colorSpace),Ot=r.get(ae),at=r.get(we);if(at.__renderTarget=ae,!Ot.__hasExternalTextures){const _t=Math.max(1,ae.width>>He),Ct=Math.max(1,ae.height>>He);qe===n.TEXTURE_3D||qe===n.TEXTURE_2D_ARRAY?t.texImage3D(qe,He,pt,_t,Ct,ae.depth,0,gt,st,null):t.texImage2D(qe,He,pt,_t,Ct,0,gt,st,null)}t.bindFramebuffer(n.FRAMEBUFFER,ce),Ye(ae)?s.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,De,qe,at.__webglTexture,0,Ie(ae)):(qe===n.TEXTURE_2D||qe>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&qe<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,De,qe,at.__webglTexture,He),t.bindFramebuffer(n.FRAMEBUFFER,null)}function Oe(ce,ae,we){if(n.bindRenderbuffer(n.RENDERBUFFER,ce),ae.depthBuffer){const De=ae.depthTexture,qe=De&&De.isDepthTexture?De.type:null,He=R(ae.stencilBuffer,qe),gt=ae.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,st=Ie(ae);Ye(ae)?s.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,st,He,ae.width,ae.height):we?n.renderbufferStorageMultisample(n.RENDERBUFFER,st,He,ae.width,ae.height):n.renderbufferStorage(n.RENDERBUFFER,He,ae.width,ae.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,gt,n.RENDERBUFFER,ce)}else{const De=ae.textures;for(let qe=0;qe<De.length;qe++){const He=De[qe],gt=o.convert(He.format,He.colorSpace),st=o.convert(He.type),pt=T(He.internalFormat,gt,st,He.colorSpace),Ot=Ie(ae);we&&Ye(ae)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Ot,pt,ae.width,ae.height):Ye(ae)?s.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ot,pt,ae.width,ae.height):n.renderbufferStorage(n.RENDERBUFFER,pt,ae.width,ae.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function Ae(ce,ae){if(ae&&ae.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,ce),!(ae.depthTexture&&ae.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const De=r.get(ae.depthTexture);De.__renderTarget=ae,(!De.__webglTexture||ae.depthTexture.image.width!==ae.width||ae.depthTexture.image.height!==ae.height)&&(ae.depthTexture.image.width=ae.width,ae.depthTexture.image.height=ae.height,ae.depthTexture.needsUpdate=!0),oe(ae.depthTexture,0);const qe=De.__webglTexture,He=Ie(ae);if(ae.depthTexture.format===xm)Ye(ae)?s.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,qe,0,He):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,qe,0);else if(ae.depthTexture.format===Tm)Ye(ae)?s.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,qe,0,He):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,qe,0);else throw new Error("Unknown depthTexture format")}function Te(ce){const ae=r.get(ce),we=ce.isWebGLCubeRenderTarget===!0;if(ae.__boundDepthTexture!==ce.depthTexture){const De=ce.depthTexture;if(ae.__depthDisposeCallback&&ae.__depthDisposeCallback(),De){const qe=()=>{delete ae.__boundDepthTexture,delete ae.__depthDisposeCallback,De.removeEventListener("dispose",qe)};De.addEventListener("dispose",qe),ae.__depthDisposeCallback=qe}ae.__boundDepthTexture=De}if(ce.depthTexture&&!ae.__autoAllocateDepthBuffer){if(we)throw new Error("target.depthTexture not supported in Cube render targets");Ae(ae.__webglFramebuffer,ce)}else if(we){ae.__webglDepthbuffer=[];for(let De=0;De<6;De++)if(t.bindFramebuffer(n.FRAMEBUFFER,ae.__webglFramebuffer[De]),ae.__webglDepthbuffer[De]===void 0)ae.__webglDepthbuffer[De]=n.createRenderbuffer(),Oe(ae.__webglDepthbuffer[De],ce,!1);else{const qe=ce.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,He=ae.__webglDepthbuffer[De];n.bindRenderbuffer(n.RENDERBUFFER,He),n.framebufferRenderbuffer(n.FRAMEBUFFER,qe,n.RENDERBUFFER,He)}}else if(t.bindFramebuffer(n.FRAMEBUFFER,ae.__webglFramebuffer),ae.__webglDepthbuffer===void 0)ae.__webglDepthbuffer=n.createRenderbuffer(),Oe(ae.__webglDepthbuffer,ce,!1);else{const De=ce.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,qe=ae.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,qe),n.framebufferRenderbuffer(n.FRAMEBUFFER,De,n.RENDERBUFFER,qe)}t.bindFramebuffer(n.FRAMEBUFFER,null)}function ze(ce,ae,we){const De=r.get(ce);ae!==void 0&&xe(De.__webglFramebuffer,ce,ce.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),we!==void 0&&Te(ce)}function vt(ce){const ae=ce.texture,we=r.get(ce),De=r.get(ae);ce.addEventListener("dispose",P);const qe=ce.textures,He=ce.isWebGLCubeRenderTarget===!0,gt=qe.length>1;if(gt||(De.__webglTexture===void 0&&(De.__webglTexture=n.createTexture()),De.__version=ae.version,l.memory.textures++),He){we.__webglFramebuffer=[];for(let st=0;st<6;st++)if(ae.mipmaps&&ae.mipmaps.length>0){we.__webglFramebuffer[st]=[];for(let pt=0;pt<ae.mipmaps.length;pt++)we.__webglFramebuffer[st][pt]=n.createFramebuffer()}else we.__webglFramebuffer[st]=n.createFramebuffer()}else{if(ae.mipmaps&&ae.mipmaps.length>0){we.__webglFramebuffer=[];for(let st=0;st<ae.mipmaps.length;st++)we.__webglFramebuffer[st]=n.createFramebuffer()}else we.__webglFramebuffer=n.createFramebuffer();if(gt)for(let st=0,pt=qe.length;st<pt;st++){const Ot=r.get(qe[st]);Ot.__webglTexture===void 0&&(Ot.__webglTexture=n.createTexture(),l.memory.textures++)}if(ce.samples>0&&Ye(ce)===!1){we.__webglMultisampledFramebuffer=n.createFramebuffer(),we.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,we.__webglMultisampledFramebuffer);for(let st=0;st<qe.length;st++){const pt=qe[st];we.__webglColorRenderbuffer[st]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,we.__webglColorRenderbuffer[st]);const Ot=o.convert(pt.format,pt.colorSpace),at=o.convert(pt.type),_t=T(pt.internalFormat,Ot,at,pt.colorSpace,ce.isXRRenderTarget===!0),Ct=Ie(ce);n.renderbufferStorageMultisample(n.RENDERBUFFER,Ct,_t,ce.width,ce.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+st,n.RENDERBUFFER,we.__webglColorRenderbuffer[st])}n.bindRenderbuffer(n.RENDERBUFFER,null),ce.depthBuffer&&(we.__webglDepthRenderbuffer=n.createRenderbuffer(),Oe(we.__webglDepthRenderbuffer,ce,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(He){t.bindTexture(n.TEXTURE_CUBE_MAP,De.__webglTexture),me(n.TEXTURE_CUBE_MAP,ae);for(let st=0;st<6;st++)if(ae.mipmaps&&ae.mipmaps.length>0)for(let pt=0;pt<ae.mipmaps.length;pt++)xe(we.__webglFramebuffer[st][pt],ce,ae,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+st,pt);else xe(we.__webglFramebuffer[st],ce,ae,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+st,0);m(ae)&&b(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(gt){for(let st=0,pt=qe.length;st<pt;st++){const Ot=qe[st],at=r.get(Ot);t.bindTexture(n.TEXTURE_2D,at.__webglTexture),me(n.TEXTURE_2D,Ot),xe(we.__webglFramebuffer,ce,Ot,n.COLOR_ATTACHMENT0+st,n.TEXTURE_2D,0),m(Ot)&&b(n.TEXTURE_2D)}t.unbindTexture()}else{let st=n.TEXTURE_2D;if((ce.isWebGL3DRenderTarget||ce.isWebGLArrayRenderTarget)&&(st=ce.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(st,De.__webglTexture),me(st,ae),ae.mipmaps&&ae.mipmaps.length>0)for(let pt=0;pt<ae.mipmaps.length;pt++)xe(we.__webglFramebuffer[pt],ce,ae,n.COLOR_ATTACHMENT0,st,pt);else xe(we.__webglFramebuffer,ce,ae,n.COLOR_ATTACHMENT0,st,0);m(ae)&&b(st),t.unbindTexture()}ce.depthBuffer&&Te(ce)}function Be(ce){const ae=ce.textures;for(let we=0,De=ae.length;we<De;we++){const qe=ae[we];if(m(qe)){const He=E(ce),gt=r.get(qe).__webglTexture;t.bindTexture(He,gt),b(He),t.unbindTexture()}}}const Ce=[],re=[];function Fe(ce){if(ce.samples>0){if(Ye(ce)===!1){const ae=ce.textures,we=ce.width,De=ce.height;let qe=n.COLOR_BUFFER_BIT;const He=ce.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,gt=r.get(ce),st=ae.length>1;if(st)for(let pt=0;pt<ae.length;pt++)t.bindFramebuffer(n.FRAMEBUFFER,gt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+pt,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,gt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+pt,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,gt.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,gt.__webglFramebuffer);for(let pt=0;pt<ae.length;pt++){if(ce.resolveDepthBuffer&&(ce.depthBuffer&&(qe|=n.DEPTH_BUFFER_BIT),ce.stencilBuffer&&ce.resolveStencilBuffer&&(qe|=n.STENCIL_BUFFER_BIT)),st){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,gt.__webglColorRenderbuffer[pt]);const Ot=r.get(ae[pt]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Ot,0)}n.blitFramebuffer(0,0,we,De,0,0,we,De,qe,n.NEAREST),u===!0&&(Ce.length=0,re.length=0,Ce.push(n.COLOR_ATTACHMENT0+pt),ce.depthBuffer&&ce.resolveDepthBuffer===!1&&(Ce.push(He),re.push(He),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,re)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Ce))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),st)for(let pt=0;pt<ae.length;pt++){t.bindFramebuffer(n.FRAMEBUFFER,gt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+pt,n.RENDERBUFFER,gt.__webglColorRenderbuffer[pt]);const Ot=r.get(ae[pt]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,gt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+pt,n.TEXTURE_2D,Ot,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,gt.__webglMultisampledFramebuffer)}else if(ce.depthBuffer&&ce.resolveDepthBuffer===!1&&u){const ae=ce.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[ae])}}}function Ie(ce){return Math.min(a.maxSamples,ce.samples)}function Ye(ce){const ae=r.get(ce);return ce.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&ae.__useRenderToTexture!==!1}function ke(ce){const ae=l.render.frame;g.get(ce)!==ae&&(g.set(ce,ae),ce.update())}function lt(ce,ae){const we=ce.colorSpace,De=ce.format,qe=ce.type;return ce.isCompressedTexture===!0||ce.isVideoTexture===!0||we!==Gh&&we!==nd&&(Ii.getTransfer(we)===or?(De!==Lo||qe!==Vc)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",we)),ae}function ot(ce){return typeof HTMLImageElement<"u"&&ce instanceof HTMLImageElement?(d.width=ce.naturalWidth||ce.width,d.height=ce.naturalHeight||ce.height):typeof VideoFrame<"u"&&ce instanceof VideoFrame?(d.width=ce.displayWidth,d.height=ce.displayHeight):(d.width=ce.width,d.height=ce.height),d}this.allocateTextureUnit=W,this.resetTextureUnits=J,this.setTexture2D=oe,this.setTexture2DArray=Y,this.setTexture3D=K,this.setTextureCube=ee,this.rebindTextures=ze,this.setupRenderTarget=vt,this.updateRenderTargetMipmap=Be,this.updateMultisampleRenderTarget=Fe,this.setupDepthRenderbuffer=Te,this.setupFrameBufferTexture=xe,this.useMultisampledRTT=Ye}function F6(n,e){function t(r,a=nd){let o;const l=Ii.getTransfer(a);if(r===Vc)return n.UNSIGNED_BYTE;if(r===zw)return n.UNSIGNED_SHORT_4_4_4_4;if(r===Uw)return n.UNSIGNED_SHORT_5_5_5_1;if(r===sI)return n.UNSIGNED_INT_5_9_9_9_REV;if(r===aI)return n.BYTE;if(r===oI)return n.SHORT;if(r===h0)return n.UNSIGNED_SHORT;if(r===Nw)return n.INT;if(r===vd)return n.UNSIGNED_INT;if(r===Rs)return n.FLOAT;if(r===L0)return n.HALF_FLOAT;if(r===lI)return n.ALPHA;if(r===cI)return n.RGB;if(r===Lo)return n.RGBA;if(r===uI)return n.LUMINANCE;if(r===fI)return n.LUMINANCE_ALPHA;if(r===xm)return n.DEPTH_COMPONENT;if(r===Tm)return n.DEPTH_STENCIL;if(r===Fw)return n.RED;if(r===FS)return n.RED_INTEGER;if(r===dI)return n.RG;if(r===Hw)return n.RG_INTEGER;if(r===Gw)return n.RGBA_INTEGER;if(r===Bb||r===Db||r===Pb||r===Lb)if(l===or)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(r===Bb)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===Db)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===Pb)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===Lb)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(r===Bb)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===Db)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===Pb)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===Lb)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===rE||r===aE||r===oE||r===sE)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(r===rE)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===aE)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===oE)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===sE)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===lE||r===cE||r===uE)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(r===lE||r===cE)return l===or?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(r===uE)return l===or?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===fE||r===dE||r===hE||r===pE||r===mE||r===gE||r===vE||r===yE||r===bE||r===SE||r===_E||r===xE||r===CE||r===EE)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(r===fE)return l===or?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===dE)return l===or?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===hE)return l===or?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===pE)return l===or?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===mE)return l===or?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===gE)return l===or?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===vE)return l===or?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===yE)return l===or?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===bE)return l===or?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===SE)return l===or?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===_E)return l===or?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===xE)return l===or?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===CE)return l===or?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===EE)return l===or?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===Nb||r===wE||r===AE)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(r===Nb)return l===or?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===wE)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===AE)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===hI||r===ME||r===TE||r===RE)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(r===Nb)return o.COMPRESSED_RED_RGTC1_EXT;if(r===ME)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===TE)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===RE)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===Mm?n.UNSIGNED_INT_24_8:n[r]!==void 0?n[r]:null}return{convert:t}}const ofe=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,sfe=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class lfe{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,r){if(this.texture===null){const a=new Pr,o=e.properties.get(a);o.__webglTexture=t.texture,(t.depthNear!==r.depthNear||t.depthFar!==r.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=a}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,r=new jc({vertexShader:ofe,fragmentShader:sfe,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new pa(new z0(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class cfe extends sf{constructor(e,t){super();const r=this;let a=null,o=1,l=null,s="local-floor",u=1,d=null,g=null,y=null,_=null,C=null,c=null;const p=new lfe,m=t.getContextAttributes();let b=null,E=null;const T=[],R=[],O=new Mt;let D=null;const P=new jr;P.viewport=new Gi;const F=new jr;F.viewport=new Gi;const U=[P,F],z=new T6;let $=null,J=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Q){let he=T[Q];return he===void 0&&(he=new WC,T[Q]=he),he.getTargetRaySpace()},this.getControllerGrip=function(Q){let he=T[Q];return he===void 0&&(he=new WC,T[Q]=he),he.getGripSpace()},this.getHand=function(Q){let he=T[Q];return he===void 0&&(he=new WC,T[Q]=he),he.getHandSpace()};function W(Q){const he=R.indexOf(Q.inputSource);if(he===-1)return;const xe=T[he];xe!==void 0&&(xe.update(Q.inputSource,Q.frame,d||l),xe.dispatchEvent({type:Q.type,data:Q.inputSource}))}function Z(){a.removeEventListener("select",W),a.removeEventListener("selectstart",W),a.removeEventListener("selectend",W),a.removeEventListener("squeeze",W),a.removeEventListener("squeezestart",W),a.removeEventListener("squeezeend",W),a.removeEventListener("end",Z),a.removeEventListener("inputsourceschange",oe);for(let Q=0;Q<T.length;Q++){const he=R[Q];he!==null&&(R[Q]=null,T[Q].disconnect(he))}$=null,J=null,p.reset(),e.setRenderTarget(b),C=null,_=null,y=null,a=null,E=null,de.stop(),r.isPresenting=!1,e.setPixelRatio(D),e.setSize(O.width,O.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Q){o=Q,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Q){s=Q,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return d||l},this.setReferenceSpace=function(Q){d=Q},this.getBaseLayer=function(){return _!==null?_:C},this.getBinding=function(){return y},this.getFrame=function(){return c},this.getSession=function(){return a},this.setSession=async function(Q){if(a=Q,a!==null){if(b=e.getRenderTarget(),a.addEventListener("select",W),a.addEventListener("selectstart",W),a.addEventListener("selectend",W),a.addEventListener("squeeze",W),a.addEventListener("squeezestart",W),a.addEventListener("squeezeend",W),a.addEventListener("end",Z),a.addEventListener("inputsourceschange",oe),m.xrCompatible!==!0&&await t.makeXRCompatible(),D=e.getPixelRatio(),e.getSize(O),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let xe=null,Oe=null,Ae=null;m.depth&&(Ae=m.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,xe=m.stencil?Tm:xm,Oe=m.stencil?Mm:vd);const Te={colorFormat:t.RGBA8,depthFormat:Ae,scaleFactor:o};y=new XRWebGLBinding(a,t),_=y.createProjectionLayer(Te),a.updateRenderState({layers:[_]}),e.setPixelRatio(1),e.setSize(_.textureWidth,_.textureHeight,!1),E=new tf(_.textureWidth,_.textureHeight,{format:Lo,type:Vc,depthTexture:new AI(_.textureWidth,_.textureHeight,Oe,void 0,void 0,void 0,void 0,void 0,void 0,xe),stencilBuffer:m.stencil,colorSpace:e.outputColorSpace,samples:m.antialias?4:0,resolveDepthBuffer:_.ignoreDepthValues===!1,resolveStencilBuffer:_.ignoreDepthValues===!1})}else{const xe={antialias:m.antialias,alpha:!0,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:o};C=new XRWebGLLayer(a,t,xe),a.updateRenderState({baseLayer:C}),e.setPixelRatio(1),e.setSize(C.framebufferWidth,C.framebufferHeight,!1),E=new tf(C.framebufferWidth,C.framebufferHeight,{format:Lo,type:Vc,colorSpace:e.outputColorSpace,stencilBuffer:m.stencil,resolveDepthBuffer:C.ignoreDepthValues===!1,resolveStencilBuffer:C.ignoreDepthValues===!1})}E.isXRRenderTarget=!0,this.setFoveation(u),d=null,l=await a.requestReferenceSpace(s),de.setContext(a),de.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(a!==null)return a.environmentBlendMode},this.getDepthTexture=function(){return p.getDepthTexture()};function oe(Q){for(let he=0;he<Q.removed.length;he++){const xe=Q.removed[he],Oe=R.indexOf(xe);Oe>=0&&(R[Oe]=null,T[Oe].disconnect(xe))}for(let he=0;he<Q.added.length;he++){const xe=Q.added[he];let Oe=R.indexOf(xe);if(Oe===-1){for(let Te=0;Te<T.length;Te++)if(Te>=R.length){R.push(xe),Oe=Te;break}else if(R[Te]===null){R[Te]=xe,Oe=Te;break}if(Oe===-1)break}const Ae=T[Oe];Ae&&Ae.connect(xe)}}const Y=new be,K=new be;function ee(Q,he,xe){Y.setFromMatrixPosition(he.matrixWorld),K.setFromMatrixPosition(xe.matrixWorld);const Oe=Y.distanceTo(K),Ae=he.projectionMatrix.elements,Te=xe.projectionMatrix.elements,ze=Ae[14]/(Ae[10]-1),vt=Ae[14]/(Ae[10]+1),Be=(Ae[9]+1)/Ae[5],Ce=(Ae[9]-1)/Ae[5],re=(Ae[8]-1)/Ae[0],Fe=(Te[8]+1)/Te[0],Ie=ze*re,Ye=ze*Fe,ke=Oe/(-re+Fe),lt=ke*-re;if(he.matrixWorld.decompose(Q.position,Q.quaternion,Q.scale),Q.translateX(lt),Q.translateZ(ke),Q.matrixWorld.compose(Q.position,Q.quaternion,Q.scale),Q.matrixWorldInverse.copy(Q.matrixWorld).invert(),Ae[10]===-1)Q.projectionMatrix.copy(he.projectionMatrix),Q.projectionMatrixInverse.copy(he.projectionMatrixInverse);else{const ot=ze+ke,ce=vt+ke,ae=Ie-lt,we=Ye+(Oe-lt),De=Be*vt/ce*ot,qe=Ce*vt/ce*ot;Q.projectionMatrix.makePerspective(ae,we,De,qe,ot,ce),Q.projectionMatrixInverse.copy(Q.projectionMatrix).invert()}}function ue(Q,he){he===null?Q.matrixWorld.copy(Q.matrix):Q.matrixWorld.multiplyMatrices(he.matrixWorld,Q.matrix),Q.matrixWorldInverse.copy(Q.matrixWorld).invert()}this.updateCamera=function(Q){if(a===null)return;let he=Q.near,xe=Q.far;p.texture!==null&&(p.depthNear>0&&(he=p.depthNear),p.depthFar>0&&(xe=p.depthFar)),z.near=F.near=P.near=he,z.far=F.far=P.far=xe,($!==z.near||J!==z.far)&&(a.updateRenderState({depthNear:z.near,depthFar:z.far}),$=z.near,J=z.far),P.layers.mask=Q.layers.mask|2,F.layers.mask=Q.layers.mask|4,z.layers.mask=P.layers.mask|F.layers.mask;const Oe=Q.parent,Ae=z.cameras;ue(z,Oe);for(let Te=0;Te<Ae.length;Te++)ue(Ae[Te],Oe);Ae.length===2?ee(z,P,F):z.projectionMatrix.copy(P.projectionMatrix),q(Q,z,Oe)};function q(Q,he,xe){xe===null?Q.matrix.copy(he.matrixWorld):(Q.matrix.copy(xe.matrixWorld),Q.matrix.invert(),Q.matrix.multiply(he.matrixWorld)),Q.matrix.decompose(Q.position,Q.quaternion,Q.scale),Q.updateMatrixWorld(!0),Q.projectionMatrix.copy(he.projectionMatrix),Q.projectionMatrixInverse.copy(he.projectionMatrixInverse),Q.isPerspectiveCamera&&(Q.fov=g0*2*Math.atan(1/Q.projectionMatrix.elements[5]),Q.zoom=1)}this.getCamera=function(){return z},this.getFoveation=function(){if(!(_===null&&C===null))return u},this.setFoveation=function(Q){u=Q,_!==null&&(_.fixedFoveation=Q),C!==null&&C.fixedFoveation!==void 0&&(C.fixedFoveation=Q)},this.hasDepthSensing=function(){return p.texture!==null},this.getDepthSensingMesh=function(){return p.getMesh(z)};let ie=null;function me(Q,he){if(g=he.getViewerPose(d||l),c=he,g!==null){const xe=g.views;C!==null&&(e.setRenderTargetFramebuffer(E,C.framebuffer),e.setRenderTarget(E));let Oe=!1;xe.length!==z.cameras.length&&(z.cameras.length=0,Oe=!0);for(let ze=0;ze<xe.length;ze++){const vt=xe[ze];let Be=null;if(C!==null)Be=C.getViewport(vt);else{const re=y.getViewSubImage(_,vt);Be=re.viewport,ze===0&&(e.setRenderTargetTextures(E,re.colorTexture,_.ignoreDepthValues?void 0:re.depthStencilTexture),e.setRenderTarget(E))}let Ce=U[ze];Ce===void 0&&(Ce=new jr,Ce.layers.enable(ze),Ce.viewport=new Gi,U[ze]=Ce),Ce.matrix.fromArray(vt.transform.matrix),Ce.matrix.decompose(Ce.position,Ce.quaternion,Ce.scale),Ce.projectionMatrix.fromArray(vt.projectionMatrix),Ce.projectionMatrixInverse.copy(Ce.projectionMatrix).invert(),Ce.viewport.set(Be.x,Be.y,Be.width,Be.height),ze===0&&(z.matrix.copy(Ce.matrix),z.matrix.decompose(z.position,z.quaternion,z.scale)),Oe===!0&&z.cameras.push(Ce)}const Ae=a.enabledFeatures;if(Ae&&Ae.includes("depth-sensing")&&a.depthUsage=="gpu-optimized"&&y){const ze=y.getDepthInformation(xe[0]);ze&&ze.isValid&&ze.texture&&p.init(e,ze,a.renderState)}}for(let xe=0;xe<T.length;xe++){const Oe=R[xe],Ae=T[xe];Oe!==null&&Ae!==void 0&&Ae.update(Oe,he,d||l)}ie&&ie(Q,he),he.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:he}),c=null}const de=new P6;de.setAnimationLoop(me),this.setAnimationLoop=function(Q){ie=Q},this.dispose=function(){}}}const Fp=new al,ufe=new Pn;function ffe(n,e){function t(m,b){m.matrixAutoUpdate===!0&&m.updateMatrix(),b.value.copy(m.matrix)}function r(m,b){b.color.getRGB(m.fogColor.value,H8(n)),b.isFog?(m.fogNear.value=b.near,m.fogFar.value=b.far):b.isFogExp2&&(m.fogDensity.value=b.density)}function a(m,b,E,T,R){b.isMeshBasicMaterial||b.isMeshLambertMaterial?o(m,b):b.isMeshToonMaterial?(o(m,b),y(m,b)):b.isMeshPhongMaterial?(o(m,b),g(m,b)):b.isMeshStandardMaterial?(o(m,b),_(m,b),b.isMeshPhysicalMaterial&&C(m,b,R)):b.isMeshMatcapMaterial?(o(m,b),c(m,b)):b.isMeshDepthMaterial?o(m,b):b.isMeshDistanceMaterial?(o(m,b),p(m,b)):b.isMeshNormalMaterial?o(m,b):b.isLineBasicMaterial?(l(m,b),b.isLineDashedMaterial&&s(m,b)):b.isPointsMaterial?u(m,b,E,T):b.isSpriteMaterial?d(m,b):b.isShadowMaterial?(m.color.value.copy(b.color),m.opacity.value=b.opacity):b.isShaderMaterial&&(b.uniformsNeedUpdate=!1)}function o(m,b){m.opacity.value=b.opacity,b.color&&m.diffuse.value.copy(b.color),b.emissive&&m.emissive.value.copy(b.emissive).multiplyScalar(b.emissiveIntensity),b.map&&(m.map.value=b.map,t(b.map,m.mapTransform)),b.alphaMap&&(m.alphaMap.value=b.alphaMap,t(b.alphaMap,m.alphaMapTransform)),b.bumpMap&&(m.bumpMap.value=b.bumpMap,t(b.bumpMap,m.bumpMapTransform),m.bumpScale.value=b.bumpScale,b.side===ss&&(m.bumpScale.value*=-1)),b.normalMap&&(m.normalMap.value=b.normalMap,t(b.normalMap,m.normalMapTransform),m.normalScale.value.copy(b.normalScale),b.side===ss&&m.normalScale.value.negate()),b.displacementMap&&(m.displacementMap.value=b.displacementMap,t(b.displacementMap,m.displacementMapTransform),m.displacementScale.value=b.displacementScale,m.displacementBias.value=b.displacementBias),b.emissiveMap&&(m.emissiveMap.value=b.emissiveMap,t(b.emissiveMap,m.emissiveMapTransform)),b.specularMap&&(m.specularMap.value=b.specularMap,t(b.specularMap,m.specularMapTransform)),b.alphaTest>0&&(m.alphaTest.value=b.alphaTest);const E=e.get(b),T=E.envMap,R=E.envMapRotation;T&&(m.envMap.value=T,Fp.copy(R),Fp.x*=-1,Fp.y*=-1,Fp.z*=-1,T.isCubeTexture&&T.isRenderTargetTexture===!1&&(Fp.y*=-1,Fp.z*=-1),m.envMapRotation.value.setFromMatrix4(ufe.makeRotationFromEuler(Fp)),m.flipEnvMap.value=T.isCubeTexture&&T.isRenderTargetTexture===!1?-1:1,m.reflectivity.value=b.reflectivity,m.ior.value=b.ior,m.refractionRatio.value=b.refractionRatio),b.lightMap&&(m.lightMap.value=b.lightMap,m.lightMapIntensity.value=b.lightMapIntensity,t(b.lightMap,m.lightMapTransform)),b.aoMap&&(m.aoMap.value=b.aoMap,m.aoMapIntensity.value=b.aoMapIntensity,t(b.aoMap,m.aoMapTransform))}function l(m,b){m.diffuse.value.copy(b.color),m.opacity.value=b.opacity,b.map&&(m.map.value=b.map,t(b.map,m.mapTransform))}function s(m,b){m.dashSize.value=b.dashSize,m.totalSize.value=b.dashSize+b.gapSize,m.scale.value=b.scale}function u(m,b,E,T){m.diffuse.value.copy(b.color),m.opacity.value=b.opacity,m.size.value=b.size*E,m.scale.value=T*.5,b.map&&(m.map.value=b.map,t(b.map,m.uvTransform)),b.alphaMap&&(m.alphaMap.value=b.alphaMap,t(b.alphaMap,m.alphaMapTransform)),b.alphaTest>0&&(m.alphaTest.value=b.alphaTest)}function d(m,b){m.diffuse.value.copy(b.color),m.opacity.value=b.opacity,m.rotation.value=b.rotation,b.map&&(m.map.value=b.map,t(b.map,m.mapTransform)),b.alphaMap&&(m.alphaMap.value=b.alphaMap,t(b.alphaMap,m.alphaMapTransform)),b.alphaTest>0&&(m.alphaTest.value=b.alphaTest)}function g(m,b){m.specular.value.copy(b.specular),m.shininess.value=Math.max(b.shininess,1e-4)}function y(m,b){b.gradientMap&&(m.gradientMap.value=b.gradientMap)}function _(m,b){m.metalness.value=b.metalness,b.metalnessMap&&(m.metalnessMap.value=b.metalnessMap,t(b.metalnessMap,m.metalnessMapTransform)),m.roughness.value=b.roughness,b.roughnessMap&&(m.roughnessMap.value=b.roughnessMap,t(b.roughnessMap,m.roughnessMapTransform)),b.envMap&&(m.envMapIntensity.value=b.envMapIntensity)}function C(m,b,E){m.ior.value=b.ior,b.sheen>0&&(m.sheenColor.value.copy(b.sheenColor).multiplyScalar(b.sheen),m.sheenRoughness.value=b.sheenRoughness,b.sheenColorMap&&(m.sheenColorMap.value=b.sheenColorMap,t(b.sheenColorMap,m.sheenColorMapTransform)),b.sheenRoughnessMap&&(m.sheenRoughnessMap.value=b.sheenRoughnessMap,t(b.sheenRoughnessMap,m.sheenRoughnessMapTransform))),b.clearcoat>0&&(m.clearcoat.value=b.clearcoat,m.clearcoatRoughness.value=b.clearcoatRoughness,b.clearcoatMap&&(m.clearcoatMap.value=b.clearcoatMap,t(b.clearcoatMap,m.clearcoatMapTransform)),b.clearcoatRoughnessMap&&(m.clearcoatRoughnessMap.value=b.clearcoatRoughnessMap,t(b.clearcoatRoughnessMap,m.clearcoatRoughnessMapTransform)),b.clearcoatNormalMap&&(m.clearcoatNormalMap.value=b.clearcoatNormalMap,t(b.clearcoatNormalMap,m.clearcoatNormalMapTransform),m.clearcoatNormalScale.value.copy(b.clearcoatNormalScale),b.side===ss&&m.clearcoatNormalScale.value.negate())),b.dispersion>0&&(m.dispersion.value=b.dispersion),b.iridescence>0&&(m.iridescence.value=b.iridescence,m.iridescenceIOR.value=b.iridescenceIOR,m.iridescenceThicknessMinimum.value=b.iridescenceThicknessRange[0],m.iridescenceThicknessMaximum.value=b.iridescenceThicknessRange[1],b.iridescenceMap&&(m.iridescenceMap.value=b.iridescenceMap,t(b.iridescenceMap,m.iridescenceMapTransform)),b.iridescenceThicknessMap&&(m.iridescenceThicknessMap.value=b.iridescenceThicknessMap,t(b.iridescenceThicknessMap,m.iridescenceThicknessMapTransform))),b.transmission>0&&(m.transmission.value=b.transmission,m.transmissionSamplerMap.value=E.texture,m.transmissionSamplerSize.value.set(E.width,E.height),b.transmissionMap&&(m.transmissionMap.value=b.transmissionMap,t(b.transmissionMap,m.transmissionMapTransform)),m.thickness.value=b.thickness,b.thicknessMap&&(m.thicknessMap.value=b.thicknessMap,t(b.thicknessMap,m.thicknessMapTransform)),m.attenuationDistance.value=b.attenuationDistance,m.attenuationColor.value.copy(b.attenuationColor)),b.anisotropy>0&&(m.anisotropyVector.value.set(b.anisotropy*Math.cos(b.anisotropyRotation),b.anisotropy*Math.sin(b.anisotropyRotation)),b.anisotropyMap&&(m.anisotropyMap.value=b.anisotropyMap,t(b.anisotropyMap,m.anisotropyMapTransform))),m.specularIntensity.value=b.specularIntensity,m.specularColor.value.copy(b.specularColor),b.specularColorMap&&(m.specularColorMap.value=b.specularColorMap,t(b.specularColorMap,m.specularColorMapTransform)),b.specularIntensityMap&&(m.specularIntensityMap.value=b.specularIntensityMap,t(b.specularIntensityMap,m.specularIntensityMapTransform))}function c(m,b){b.matcap&&(m.matcap.value=b.matcap)}function p(m,b){const E=e.get(b).light;m.referencePosition.value.setFromMatrixPosition(E.matrixWorld),m.nearDistance.value=E.shadow.camera.near,m.farDistance.value=E.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:a}}function dfe(n,e,t,r){let a={},o={},l=[];const s=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function u(E,T){const R=T.program;r.uniformBlockBinding(E,R)}function d(E,T){let R=a[E.id];R===void 0&&(c(E),R=g(E),a[E.id]=R,E.addEventListener("dispose",m));const O=T.program;r.updateUBOMapping(E,O);const D=e.render.frame;o[E.id]!==D&&(_(E),o[E.id]=D)}function g(E){const T=y();E.__bindingPointIndex=T;const R=n.createBuffer(),O=E.__size,D=E.usage;return n.bindBuffer(n.UNIFORM_BUFFER,R),n.bufferData(n.UNIFORM_BUFFER,O,D),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,T,R),R}function y(){for(let E=0;E<s;E++)if(l.indexOf(E)===-1)return l.push(E),E;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function _(E){const T=a[E.id],R=E.uniforms,O=E.__cache;n.bindBuffer(n.UNIFORM_BUFFER,T);for(let D=0,P=R.length;D<P;D++){const F=Array.isArray(R[D])?R[D]:[R[D]];for(let U=0,z=F.length;U<z;U++){const $=F[U];if(C($,D,U,O)===!0){const J=$.__offset,W=Array.isArray($.value)?$.value:[$.value];let Z=0;for(let oe=0;oe<W.length;oe++){const Y=W[oe],K=p(Y);typeof Y=="number"||typeof Y=="boolean"?($.__data[0]=Y,n.bufferSubData(n.UNIFORM_BUFFER,J+Z,$.__data)):Y.isMatrix3?($.__data[0]=Y.elements[0],$.__data[1]=Y.elements[1],$.__data[2]=Y.elements[2],$.__data[3]=0,$.__data[4]=Y.elements[3],$.__data[5]=Y.elements[4],$.__data[6]=Y.elements[5],$.__data[7]=0,$.__data[8]=Y.elements[6],$.__data[9]=Y.elements[7],$.__data[10]=Y.elements[8],$.__data[11]=0):(Y.toArray($.__data,Z),Z+=K.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,J,$.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function C(E,T,R,O){const D=E.value,P=T+"_"+R;if(O[P]===void 0)return typeof D=="number"||typeof D=="boolean"?O[P]=D:O[P]=D.clone(),!0;{const F=O[P];if(typeof D=="number"||typeof D=="boolean"){if(F!==D)return O[P]=D,!0}else if(F.equals(D)===!1)return F.copy(D),!0}return!1}function c(E){const T=E.uniforms;let R=0;const O=16;for(let P=0,F=T.length;P<F;P++){const U=Array.isArray(T[P])?T[P]:[T[P]];for(let z=0,$=U.length;z<$;z++){const J=U[z],W=Array.isArray(J.value)?J.value:[J.value];for(let Z=0,oe=W.length;Z<oe;Z++){const Y=W[Z],K=p(Y),ee=R%O,ue=ee%K.boundary,q=ee+ue;R+=ue,q!==0&&O-q<K.storage&&(R+=O-q),J.__data=new Float32Array(K.storage/Float32Array.BYTES_PER_ELEMENT),J.__offset=R,R+=K.storage}}}const D=R%O;return D>0&&(R+=O-D),E.__size=R,E.__cache={},this}function p(E){const T={boundary:0,storage:0};return typeof E=="number"||typeof E=="boolean"?(T.boundary=4,T.storage=4):E.isVector2?(T.boundary=8,T.storage=8):E.isVector3||E.isColor?(T.boundary=16,T.storage=12):E.isVector4?(T.boundary=16,T.storage=16):E.isMatrix3?(T.boundary=48,T.storage=48):E.isMatrix4?(T.boundary=64,T.storage=64):E.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",E),T}function m(E){const T=E.target;T.removeEventListener("dispose",m);const R=l.indexOf(T.__bindingPointIndex);l.splice(R,1),n.deleteBuffer(a[T.id]),delete a[T.id],delete o[T.id]}function b(){for(const E in a)n.deleteBuffer(a[E]);l=[],a={},o={}}return{bind:u,update:d,dispose:b}}class H6{constructor(e={}){const{canvas:t=z8(),context:r=null,depth:a=!0,stencil:o=!1,alpha:l=!1,antialias:s=!1,premultipliedAlpha:u=!0,preserveDrawingBuffer:d=!1,powerPreference:g="default",failIfMajorPerformanceCaveat:y=!1,reverseDepthBuffer:_=!1}=e;this.isWebGLRenderer=!0;let C;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");C=r.getContextAttributes().alpha}else C=l;const c=new Uint32Array(4),p=new Int32Array(4);let m=null,b=null;const E=[],T=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Do,this.toneMapping=Yu,this.toneMappingExposure=1;const R=this;let O=!1,D=0,P=0,F=null,U=-1,z=null;const $=new Gi,J=new Gi;let W=null;const Z=new en(0);let oe=0,Y=t.width,K=t.height,ee=1,ue=null,q=null;const ie=new Gi(0,0,Y,K),me=new Gi(0,0,Y,K);let de=!1;const Q=new VS;let he=!1,xe=!1;this.transmissionResolutionScale=1;const Oe=new Pn,Ae=new Pn,Te=new be,ze=new Gi,vt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Be=!1;function Ce(){return F===null?ee:1}let re=r;function Fe(le,Ue){return t.getContext(le,Ue)}try{const le={alpha:!0,depth:a,stencil:o,antialias:s,premultipliedAlpha:u,preserveDrawingBuffer:d,powerPreference:g,failIfMajorPerformanceCaveat:y};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${zS}`),t.addEventListener("webglcontextlost",mt,!1),t.addEventListener("webglcontextrestored",Lt,!1),t.addEventListener("webglcontextcreationerror",It,!1),re===null){const Ue="webgl2";if(re=Fe(Ue,le),re===null)throw Fe(Ue)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(le){throw console.error("THREE.WebGLRenderer: "+le.message),le}let Ie,Ye,ke,lt,ot,ce,ae,we,De,qe,He,gt,st,pt,Ot,at,_t,Ct,je,it,Se,Ge,St,Me;function xt(){Ie=new Ece(re),Ie.init(),Ge=new F6(re,Ie),Ye=new vce(re,Ie,e,Ge),ke=new rfe(re,Ie),Ye.reverseDepthBuffer&&_&&ke.buffers.depth.setReversed(!0),lt=new Mce(re),ot=new jue,ce=new afe(re,Ie,ke,ot,Ye,Ge,lt),ae=new bce(R),we=new Cce(R),De=new Doe(re),St=new mce(re,De),qe=new wce(re,De,lt,St),He=new Rce(re,qe,De,lt),je=new Tce(re,Ye,ce),at=new yce(ot),gt=new Vue(R,ae,we,Ie,Ye,St,at),st=new ffe(R,ot),pt=new Xue,Ot=new Zue(Ie),Ct=new pce(R,ae,we,ke,He,C,u),_t=new nfe(R,He,Ye),Me=new dfe(re,lt,Ye,ke),it=new gce(re,Ie,lt),Se=new Ace(re,Ie,lt),lt.programs=gt.programs,R.capabilities=Ye,R.extensions=Ie,R.properties=ot,R.renderLists=pt,R.shadowMap=_t,R.state=ke,R.info=lt}xt();const Qe=new cfe(R,re);this.xr=Qe,this.getContext=function(){return re},this.getContextAttributes=function(){return re.getContextAttributes()},this.forceContextLoss=function(){const le=Ie.get("WEBGL_lose_context");le&&le.loseContext()},this.forceContextRestore=function(){const le=Ie.get("WEBGL_lose_context");le&&le.restoreContext()},this.getPixelRatio=function(){return ee},this.setPixelRatio=function(le){le!==void 0&&(ee=le,this.setSize(Y,K,!1))},this.getSize=function(le){return le.set(Y,K)},this.setSize=function(le,Ue,rt=!0){if(Qe.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}Y=le,K=Ue,t.width=Math.floor(le*ee),t.height=Math.floor(Ue*ee),rt===!0&&(t.style.width=le+"px",t.style.height=Ue+"px"),this.setViewport(0,0,le,Ue)},this.getDrawingBufferSize=function(le){return le.set(Y*ee,K*ee).floor()},this.setDrawingBufferSize=function(le,Ue,rt){Y=le,K=Ue,ee=rt,t.width=Math.floor(le*rt),t.height=Math.floor(Ue*rt),this.setViewport(0,0,le,Ue)},this.getCurrentViewport=function(le){return le.copy($)},this.getViewport=function(le){return le.copy(ie)},this.setViewport=function(le,Ue,rt,Je){le.isVector4?ie.set(le.x,le.y,le.z,le.w):ie.set(le,Ue,rt,Je),ke.viewport($.copy(ie).multiplyScalar(ee).round())},this.getScissor=function(le){return le.copy(me)},this.setScissor=function(le,Ue,rt,Je){le.isVector4?me.set(le.x,le.y,le.z,le.w):me.set(le,Ue,rt,Je),ke.scissor(J.copy(me).multiplyScalar(ee).round())},this.getScissorTest=function(){return de},this.setScissorTest=function(le){ke.setScissorTest(de=le)},this.setOpaqueSort=function(le){ue=le},this.setTransparentSort=function(le){q=le},this.getClearColor=function(le){return le.copy(Ct.getClearColor())},this.setClearColor=function(){Ct.setClearColor(...arguments)},this.getClearAlpha=function(){return Ct.getClearAlpha()},this.setClearAlpha=function(){Ct.setClearAlpha(...arguments)},this.clear=function(le=!0,Ue=!0,rt=!0){let Je=0;if(le){let $e=!1;if(F!==null){const Tt=F.texture.format;$e=Tt===Gw||Tt===Hw||Tt===FS}if($e){const Tt=F.texture.type,Vt=Tt===Vc||Tt===vd||Tt===h0||Tt===Mm||Tt===zw||Tt===Uw,Kt=Ct.getClearColor(),Wt=Ct.getClearAlpha(),gn=Kt.r,fn=Kt.g,on=Kt.b;Vt?(c[0]=gn,c[1]=fn,c[2]=on,c[3]=Wt,re.clearBufferuiv(re.COLOR,0,c)):(p[0]=gn,p[1]=fn,p[2]=on,p[3]=Wt,re.clearBufferiv(re.COLOR,0,p))}else Je|=re.COLOR_BUFFER_BIT}Ue&&(Je|=re.DEPTH_BUFFER_BIT),rt&&(Je|=re.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),re.clear(Je)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",mt,!1),t.removeEventListener("webglcontextrestored",Lt,!1),t.removeEventListener("webglcontextcreationerror",It,!1),Ct.dispose(),pt.dispose(),Ot.dispose(),ot.dispose(),ae.dispose(),we.dispose(),He.dispose(),St.dispose(),Me.dispose(),gt.dispose(),Qe.dispose(),Qe.removeEventListener("sessionstart",lr),Qe.removeEventListener("sessionend",Kr),zn.stop()};function mt(le){le.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),O=!0}function Lt(){console.log("THREE.WebGLRenderer: Context Restored."),O=!1;const le=lt.autoReset,Ue=_t.enabled,rt=_t.autoUpdate,Je=_t.needsUpdate,$e=_t.type;xt(),lt.autoReset=le,_t.enabled=Ue,_t.autoUpdate=rt,_t.needsUpdate=Je,_t.type=$e}function It(le){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",le.statusMessage)}function Qt(le){const Ue=le.target;Ue.removeEventListener("dispose",Qt),sn(Ue)}function sn(le){qt(le),ot.remove(le)}function qt(le){const Ue=ot.get(le).programs;Ue!==void 0&&(Ue.forEach(function(rt){gt.releaseProgram(rt)}),le.isShaderMaterial&&gt.releaseShaderCache(le))}this.renderBufferDirect=function(le,Ue,rt,Je,$e,Tt){Ue===null&&(Ue=vt);const Vt=$e.isMesh&&$e.matrixWorld.determinant()<0,Kt=Lr(le,Ue,rt,Je,$e);ke.setMaterial(Je,Vt);let Wt=rt.index,gn=1;if(Je.wireframe===!0){if(Wt=qe.getWireframeAttribute(rt),Wt===void 0)return;gn=2}const fn=rt.drawRange,on=rt.attributes.position;let Hn=fn.start*gn,kn=(fn.start+fn.count)*gn;Tt!==null&&(Hn=Math.max(Hn,Tt.start*gn),kn=Math.min(kn,(Tt.start+Tt.count)*gn)),Wt!==null?(Hn=Math.max(Hn,0),kn=Math.min(kn,Wt.count)):on!=null&&(Hn=Math.max(Hn,0),kn=Math.min(kn,on.count));const Vn=kn-Hn;if(Vn<0||Vn===1/0)return;St.setup($e,Je,Kt,rt,Wt);let In,bn=it;if(Wt!==null&&(In=De.get(Wt),bn=Se,bn.setIndex(In)),$e.isMesh)Je.wireframe===!0?(ke.setLineWidth(Je.wireframeLinewidth*Ce()),bn.setMode(re.LINES)):bn.setMode(re.TRIANGLES);else if($e.isLine){let cn=Je.linewidth;cn===void 0&&(cn=1),ke.setLineWidth(cn*Ce()),$e.isLineSegments?bn.setMode(re.LINES):$e.isLineLoop?bn.setMode(re.LINE_LOOP):bn.setMode(re.LINE_STRIP)}else $e.isPoints?bn.setMode(re.POINTS):$e.isSprite&&bn.setMode(re.TRIANGLES);if($e.isBatchedMesh)if($e._multiDrawInstances!==null)jp("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),bn.renderMultiDrawInstances($e._multiDrawStarts,$e._multiDrawCounts,$e._multiDrawCount,$e._multiDrawInstances);else if(Ie.get("WEBGL_multi_draw"))bn.renderMultiDraw($e._multiDrawStarts,$e._multiDrawCounts,$e._multiDrawCount);else{const cn=$e._multiDrawStarts,bi=$e._multiDrawCounts,jn=$e._multiDrawCount,Gn=Wt?De.get(Wt).bytesPerElement:1,Tn=ot.get(Je).currentProgram.getUniforms();for(let Cn=0;Cn<jn;Cn++)Tn.setValue(re,"_gl_DrawID",Cn),bn.render(cn[Cn]/Gn,bi[Cn])}else if($e.isInstancedMesh)bn.renderInstances(Hn,Vn,$e.count);else if(rt.isInstancedBufferGeometry){const cn=rt._maxInstanceCount!==void 0?rt._maxInstanceCount:1/0,bi=Math.min(rt.instanceCount,cn);bn.renderInstances(Hn,Vn,bi)}else bn.render(Hn,Vn)};function Dt(le,Ue,rt){le.transparent===!0&&le.side===zc&&le.forceSinglePass===!1?(le.side=ss,le.needsUpdate=!0,un(le,Ue,rt),le.side=ef,le.needsUpdate=!0,un(le,Ue,rt),le.side=zc):un(le,Ue,rt)}this.compile=function(le,Ue,rt=null){rt===null&&(rt=le),b=Ot.get(rt),b.init(Ue),T.push(b),rt.traverseVisible(function($e){$e.isLight&&$e.layers.test(Ue.layers)&&(b.pushLight($e),$e.castShadow&&b.pushShadow($e))}),le!==rt&&le.traverseVisible(function($e){$e.isLight&&$e.layers.test(Ue.layers)&&(b.pushLight($e),$e.castShadow&&b.pushShadow($e))}),b.setupLights();const Je=new Set;return le.traverse(function($e){if(!($e.isMesh||$e.isPoints||$e.isLine||$e.isSprite))return;const Tt=$e.material;if(Tt)if(Array.isArray(Tt))for(let Vt=0;Vt<Tt.length;Vt++){const Kt=Tt[Vt];Dt(Kt,rt,$e),Je.add(Kt)}else Dt(Tt,rt,$e),Je.add(Tt)}),b=T.pop(),Je},this.compileAsync=function(le,Ue,rt=null){const Je=this.compile(le,Ue,rt);return new Promise($e=>{function Tt(){if(Je.forEach(function(Vt){ot.get(Vt).currentProgram.isReady()&&Je.delete(Vt)}),Je.size===0){$e(le);return}setTimeout(Tt,10)}Ie.get("KHR_parallel_shader_compile")!==null?Tt():setTimeout(Tt,10)})};let Yt=null;function yn(le){Yt&&Yt(le)}function lr(){zn.stop()}function Kr(){zn.start()}const zn=new P6;zn.setAnimationLoop(yn),typeof self<"u"&&zn.setContext(self),this.setAnimationLoop=function(le){Yt=le,Qe.setAnimationLoop(le),le===null?zn.stop():zn.start()},Qe.addEventListener("sessionstart",lr),Qe.addEventListener("sessionend",Kr),this.render=function(le,Ue){if(Ue!==void 0&&Ue.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(O===!0)return;if(le.matrixWorldAutoUpdate===!0&&le.updateMatrixWorld(),Ue.parent===null&&Ue.matrixWorldAutoUpdate===!0&&Ue.updateMatrixWorld(),Qe.enabled===!0&&Qe.isPresenting===!0&&(Qe.cameraAutoUpdate===!0&&Qe.updateCamera(Ue),Ue=Qe.getCamera()),le.isScene===!0&&le.onBeforeRender(R,le,Ue,F),b=Ot.get(le,T.length),b.init(Ue),T.push(b),Ae.multiplyMatrices(Ue.projectionMatrix,Ue.matrixWorldInverse),Q.setFromProjectionMatrix(Ae),xe=this.localClippingEnabled,he=at.init(this.clippingPlanes,xe),m=pt.get(le,E.length),m.init(),E.push(m),Qe.enabled===!0&&Qe.isPresenting===!0){const Tt=R.xr.getDepthSensingMesh();Tt!==null&&Ai(Tt,Ue,-1/0,R.sortObjects)}Ai(le,Ue,0,R.sortObjects),m.finish(),R.sortObjects===!0&&m.sort(ue,q),Be=Qe.enabled===!1||Qe.isPresenting===!1||Qe.hasDepthSensing()===!1,Be&&Ct.addToRenderList(m,le),this.info.render.frame++,he===!0&&at.beginShadows();const rt=b.state.shadowsArray;_t.render(rt,le,Ue),he===!0&&at.endShadows(),this.info.autoReset===!0&&this.info.reset();const Je=m.opaque,$e=m.transmissive;if(b.setupLights(),Ue.isArrayCamera){const Tt=Ue.cameras;if($e.length>0)for(let Vt=0,Kt=Tt.length;Vt<Kt;Vt++){const Wt=Tt[Vt];wn(Je,$e,le,Wt)}Be&&Ct.render(le);for(let Vt=0,Kt=Tt.length;Vt<Kt;Vt++){const Wt=Tt[Vt];br(m,le,Wt,Wt.viewport)}}else $e.length>0&&wn(Je,$e,le,Ue),Be&&Ct.render(le),br(m,le,Ue);F!==null&&P===0&&(ce.updateMultisampleRenderTarget(F),ce.updateRenderTargetMipmap(F)),le.isScene===!0&&le.onAfterRender(R,le,Ue),St.resetDefaultState(),U=-1,z=null,T.pop(),T.length>0?(b=T[T.length-1],he===!0&&at.setGlobalState(R.clippingPlanes,b.state.camera)):b=null,E.pop(),E.length>0?m=E[E.length-1]:m=null};function Ai(le,Ue,rt,Je){if(le.visible===!1)return;if(le.layers.test(Ue.layers)){if(le.isGroup)rt=le.renderOrder;else if(le.isLOD)le.autoUpdate===!0&&le.update(Ue);else if(le.isLight)b.pushLight(le),le.castShadow&&b.pushShadow(le);else if(le.isSprite){if(!le.frustumCulled||Q.intersectsSprite(le)){Je&&ze.setFromMatrixPosition(le.matrixWorld).applyMatrix4(Ae);const Vt=He.update(le),Kt=le.material;Kt.visible&&m.push(le,Vt,Kt,rt,ze.z,null)}}else if((le.isMesh||le.isLine||le.isPoints)&&(!le.frustumCulled||Q.intersectsObject(le))){const Vt=He.update(le),Kt=le.material;if(Je&&(le.boundingSphere!==void 0?(le.boundingSphere===null&&le.computeBoundingSphere(),ze.copy(le.boundingSphere.center)):(Vt.boundingSphere===null&&Vt.computeBoundingSphere(),ze.copy(Vt.boundingSphere.center)),ze.applyMatrix4(le.matrixWorld).applyMatrix4(Ae)),Array.isArray(Kt)){const Wt=Vt.groups;for(let gn=0,fn=Wt.length;gn<fn;gn++){const on=Wt[gn],Hn=Kt[on.materialIndex];Hn&&Hn.visible&&m.push(le,Vt,Hn,rt,ze.z,on)}}else Kt.visible&&m.push(le,Vt,Kt,rt,ze.z,null)}}const Tt=le.children;for(let Vt=0,Kt=Tt.length;Vt<Kt;Vt++)Ai(Tt[Vt],Ue,rt,Je)}function br(le,Ue,rt,Je){const $e=le.opaque,Tt=le.transmissive,Vt=le.transparent;b.setupLightsView(rt),he===!0&&at.setGlobalState(R.clippingPlanes,rt),Je&&ke.viewport($.copy(Je)),$e.length>0&&Mn($e,Ue,rt),Tt.length>0&&Mn(Tt,Ue,rt),Vt.length>0&&Mn(Vt,Ue,rt),ke.buffers.depth.setTest(!0),ke.buffers.depth.setMask(!0),ke.buffers.color.setMask(!0),ke.setPolygonOffset(!1)}function wn(le,Ue,rt,Je){if((rt.isScene===!0?rt.overrideMaterial:null)!==null)return;b.state.transmissionRenderTarget[Je.id]===void 0&&(b.state.transmissionRenderTarget[Je.id]=new tf(1,1,{generateMipmaps:!0,type:Ie.has("EXT_color_buffer_half_float")||Ie.has("EXT_color_buffer_float")?L0:Vc,minFilter:Fl,samples:4,stencilBuffer:o,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Ii.workingColorSpace}));const Tt=b.state.transmissionRenderTarget[Je.id],Vt=Je.viewport||$;Tt.setSize(Vt.z*R.transmissionResolutionScale,Vt.w*R.transmissionResolutionScale);const Kt=R.getRenderTarget();R.setRenderTarget(Tt),R.getClearColor(Z),oe=R.getClearAlpha(),oe<1&&R.setClearColor(16777215,.5),R.clear(),Be&&Ct.render(rt);const Wt=R.toneMapping;R.toneMapping=Yu;const gn=Je.viewport;if(Je.viewport!==void 0&&(Je.viewport=void 0),b.setupLightsView(Je),he===!0&&at.setGlobalState(R.clippingPlanes,Je),Mn(le,rt,Je),ce.updateMultisampleRenderTarget(Tt),ce.updateRenderTargetMipmap(Tt),Ie.has("WEBGL_multisampled_render_to_texture")===!1){let fn=!1;for(let on=0,Hn=Ue.length;on<Hn;on++){const kn=Ue[on],Vn=kn.object,In=kn.geometry,bn=kn.material,cn=kn.group;if(bn.side===zc&&Vn.layers.test(Je.layers)){const bi=bn.side;bn.side=ss,bn.needsUpdate=!0,Qn(Vn,rt,Je,In,bn,cn),bn.side=bi,bn.needsUpdate=!0,fn=!0}}fn===!0&&(ce.updateMultisampleRenderTarget(Tt),ce.updateRenderTargetMipmap(Tt))}R.setRenderTarget(Kt),R.setClearColor(Z,oe),gn!==void 0&&(Je.viewport=gn),R.toneMapping=Wt}function Mn(le,Ue,rt){const Je=Ue.isScene===!0?Ue.overrideMaterial:null;for(let $e=0,Tt=le.length;$e<Tt;$e++){const Vt=le[$e],Kt=Vt.object,Wt=Vt.geometry,gn=Je===null?Vt.material:Je,fn=Vt.group;Kt.layers.test(rt.layers)&&Qn(Kt,Ue,rt,Wt,gn,fn)}}function Qn(le,Ue,rt,Je,$e,Tt){le.onBeforeRender(R,Ue,rt,Je,$e,Tt),le.modelViewMatrix.multiplyMatrices(rt.matrixWorldInverse,le.matrixWorld),le.normalMatrix.getNormalMatrix(le.modelViewMatrix),$e.onBeforeRender(R,Ue,rt,Je,le,Tt),$e.transparent===!0&&$e.side===zc&&$e.forceSinglePass===!1?($e.side=ss,$e.needsUpdate=!0,R.renderBufferDirect(rt,Ue,Je,$e,le,Tt),$e.side=ef,$e.needsUpdate=!0,R.renderBufferDirect(rt,Ue,Je,$e,le,Tt),$e.side=zc):R.renderBufferDirect(rt,Ue,Je,$e,le,Tt),le.onAfterRender(R,Ue,rt,Je,$e,Tt)}function un(le,Ue,rt){Ue.isScene!==!0&&(Ue=vt);const Je=ot.get(le),$e=b.state.lights,Tt=b.state.shadowsArray,Vt=$e.state.version,Kt=gt.getParameters(le,$e.state,Tt,Ue,rt),Wt=gt.getProgramCacheKey(Kt);let gn=Je.programs;Je.environment=le.isMeshStandardMaterial?Ue.environment:null,Je.fog=Ue.fog,Je.envMap=(le.isMeshStandardMaterial?we:ae).get(le.envMap||Je.environment),Je.envMapRotation=Je.environment!==null&&le.envMap===null?Ue.environmentRotation:le.envMapRotation,gn===void 0&&(le.addEventListener("dispose",Qt),gn=new Map,Je.programs=gn);let fn=gn.get(Wt);if(fn!==void 0){if(Je.currentProgram===fn&&Je.lightsStateVersion===Vt)return ln(le,Kt),fn}else Kt.uniforms=gt.getUniforms(le),le.onBeforeCompile(Kt,R),fn=gt.acquireProgram(Kt,Wt),gn.set(Wt,fn),Je.uniforms=Kt.uniforms;const on=Je.uniforms;return(!le.isShaderMaterial&&!le.isRawShaderMaterial||le.clipping===!0)&&(on.clippingPlanes=at.uniform),ln(le,Kt),Je.needsLights=Tr(le),Je.lightsStateVersion=Vt,Je.needsLights&&(on.ambientLightColor.value=$e.state.ambient,on.lightProbe.value=$e.state.probe,on.directionalLights.value=$e.state.directional,on.directionalLightShadows.value=$e.state.directionalShadow,on.spotLights.value=$e.state.spot,on.spotLightShadows.value=$e.state.spotShadow,on.rectAreaLights.value=$e.state.rectArea,on.ltc_1.value=$e.state.rectAreaLTC1,on.ltc_2.value=$e.state.rectAreaLTC2,on.pointLights.value=$e.state.point,on.pointLightShadows.value=$e.state.pointShadow,on.hemisphereLights.value=$e.state.hemi,on.directionalShadowMap.value=$e.state.directionalShadowMap,on.directionalShadowMatrix.value=$e.state.directionalShadowMatrix,on.spotShadowMap.value=$e.state.spotShadowMap,on.spotLightMatrix.value=$e.state.spotLightMatrix,on.spotLightMap.value=$e.state.spotLightMap,on.pointShadowMap.value=$e.state.pointShadowMap,on.pointShadowMatrix.value=$e.state.pointShadowMatrix),Je.currentProgram=fn,Je.uniformsList=null,fn}function ii(le){if(le.uniformsList===null){const Ue=le.currentProgram.getUniforms();le.uniformsList=XC.seqWithValue(Ue.seq,le.uniforms)}return le.uniformsList}function ln(le,Ue){const rt=ot.get(le);rt.outputColorSpace=Ue.outputColorSpace,rt.batching=Ue.batching,rt.batchingColor=Ue.batchingColor,rt.instancing=Ue.instancing,rt.instancingColor=Ue.instancingColor,rt.instancingMorph=Ue.instancingMorph,rt.skinning=Ue.skinning,rt.morphTargets=Ue.morphTargets,rt.morphNormals=Ue.morphNormals,rt.morphColors=Ue.morphColors,rt.morphTargetsCount=Ue.morphTargetsCount,rt.numClippingPlanes=Ue.numClippingPlanes,rt.numIntersection=Ue.numClipIntersection,rt.vertexAlphas=Ue.vertexAlphas,rt.vertexTangents=Ue.vertexTangents,rt.toneMapping=Ue.toneMapping}function Lr(le,Ue,rt,Je,$e){Ue.isScene!==!0&&(Ue=vt),ce.resetTextureUnits();const Tt=Ue.fog,Vt=Je.isMeshStandardMaterial?Ue.environment:null,Kt=F===null?R.outputColorSpace:F.isXRRenderTarget===!0?F.texture.colorSpace:Gh,Wt=(Je.isMeshStandardMaterial?we:ae).get(Je.envMap||Vt),gn=Je.vertexColors===!0&&!!rt.attributes.color&&rt.attributes.color.itemSize===4,fn=!!rt.attributes.tangent&&(!!Je.normalMap||Je.anisotropy>0),on=!!rt.morphAttributes.position,Hn=!!rt.morphAttributes.normal,kn=!!rt.morphAttributes.color;let Vn=Yu;Je.toneMapped&&(F===null||F.isXRRenderTarget===!0)&&(Vn=R.toneMapping);const In=rt.morphAttributes.position||rt.morphAttributes.normal||rt.morphAttributes.color,bn=In!==void 0?In.length:0,cn=ot.get(Je),bi=b.state.lights;if(he===!0&&(xe===!0||le!==z)){const $i=le===z&&Je.id===U;at.setState(Je,le,$i)}let jn=!1;Je.version===cn.__version?(cn.needsLights&&cn.lightsStateVersion!==bi.state.version||cn.outputColorSpace!==Kt||$e.isBatchedMesh&&cn.batching===!1||!$e.isBatchedMesh&&cn.batching===!0||$e.isBatchedMesh&&cn.batchingColor===!0&&$e.colorTexture===null||$e.isBatchedMesh&&cn.batchingColor===!1&&$e.colorTexture!==null||$e.isInstancedMesh&&cn.instancing===!1||!$e.isInstancedMesh&&cn.instancing===!0||$e.isSkinnedMesh&&cn.skinning===!1||!$e.isSkinnedMesh&&cn.skinning===!0||$e.isInstancedMesh&&cn.instancingColor===!0&&$e.instanceColor===null||$e.isInstancedMesh&&cn.instancingColor===!1&&$e.instanceColor!==null||$e.isInstancedMesh&&cn.instancingMorph===!0&&$e.morphTexture===null||$e.isInstancedMesh&&cn.instancingMorph===!1&&$e.morphTexture!==null||cn.envMap!==Wt||Je.fog===!0&&cn.fog!==Tt||cn.numClippingPlanes!==void 0&&(cn.numClippingPlanes!==at.numPlanes||cn.numIntersection!==at.numIntersection)||cn.vertexAlphas!==gn||cn.vertexTangents!==fn||cn.morphTargets!==on||cn.morphNormals!==Hn||cn.morphColors!==kn||cn.toneMapping!==Vn||cn.morphTargetsCount!==bn)&&(jn=!0):(jn=!0,cn.__version=Je.version);let Gn=cn.currentProgram;jn===!0&&(Gn=un(Je,Ue,$e));let Tn=!1,Cn=!1,Zn=!1;const An=Gn.getUniforms(),_i=cn.uniforms;if(ke.useProgram(Gn.program)&&(Tn=!0,Cn=!0,Zn=!0),Je.id!==U&&(U=Je.id,Cn=!0),Tn||z!==le){ke.buffers.depth.getReversed()?(Oe.copy(le.projectionMatrix),rre(Oe),are(Oe),An.setValue(re,"projectionMatrix",Oe)):An.setValue(re,"projectionMatrix",le.projectionMatrix),An.setValue(re,"viewMatrix",le.matrixWorldInverse);const qi=An.map.cameraPosition;qi!==void 0&&qi.setValue(re,Te.setFromMatrixPosition(le.matrixWorld)),Ye.logarithmicDepthBuffer&&An.setValue(re,"logDepthBufFC",2/(Math.log(le.far+1)/Math.LN2)),(Je.isMeshPhongMaterial||Je.isMeshToonMaterial||Je.isMeshLambertMaterial||Je.isMeshBasicMaterial||Je.isMeshStandardMaterial||Je.isShaderMaterial)&&An.setValue(re,"isOrthographic",le.isOrthographicCamera===!0),z!==le&&(z=le,Cn=!0,Zn=!0)}if($e.isSkinnedMesh){An.setOptional(re,$e,"bindMatrix"),An.setOptional(re,$e,"bindMatrixInverse");const $i=$e.skeleton;$i&&($i.boneTexture===null&&$i.computeBoneTexture(),An.setValue(re,"boneTexture",$i.boneTexture,ce))}$e.isBatchedMesh&&(An.setOptional(re,$e,"batchingTexture"),An.setValue(re,"batchingTexture",$e._matricesTexture,ce),An.setOptional(re,$e,"batchingIdTexture"),An.setValue(re,"batchingIdTexture",$e._indirectTexture,ce),An.setOptional(re,$e,"batchingColorTexture"),$e._colorsTexture!==null&&An.setValue(re,"batchingColorTexture",$e._colorsTexture,ce));const Pi=rt.morphAttributes;if((Pi.position!==void 0||Pi.normal!==void 0||Pi.color!==void 0)&&je.update($e,rt,Gn),(Cn||cn.receiveShadow!==$e.receiveShadow)&&(cn.receiveShadow=$e.receiveShadow,An.setValue(re,"receiveShadow",$e.receiveShadow)),Je.isMeshGouraudMaterial&&Je.envMap!==null&&(_i.envMap.value=Wt,_i.flipEnvMap.value=Wt.isCubeTexture&&Wt.isRenderTargetTexture===!1?-1:1),Je.isMeshStandardMaterial&&Je.envMap===null&&Ue.environment!==null&&(_i.envMapIntensity.value=Ue.environmentIntensity),Cn&&(An.setValue(re,"toneMappingExposure",R.toneMappingExposure),cn.needsLights&&Nr(_i,Zn),Tt&&Je.fog===!0&&st.refreshFogUniforms(_i,Tt),st.refreshMaterialUniforms(_i,Je,ee,K,b.state.transmissionRenderTarget[le.id]),XC.upload(re,ii(cn),_i,ce)),Je.isShaderMaterial&&Je.uniformsNeedUpdate===!0&&(XC.upload(re,ii(cn),_i,ce),Je.uniformsNeedUpdate=!1),Je.isSpriteMaterial&&An.setValue(re,"center",$e.center),An.setValue(re,"modelViewMatrix",$e.modelViewMatrix),An.setValue(re,"normalMatrix",$e.normalMatrix),An.setValue(re,"modelMatrix",$e.matrixWorld),Je.isShaderMaterial||Je.isRawShaderMaterial){const $i=Je.uniformsGroups;for(let qi=0,Or=$i.length;qi<Or;qi++){const Wi=$i[qi];Me.update(Wi,Gn),Me.bind(Wi,Gn)}}return Gn}function Nr(le,Ue){le.ambientLightColor.needsUpdate=Ue,le.lightProbe.needsUpdate=Ue,le.directionalLights.needsUpdate=Ue,le.directionalLightShadows.needsUpdate=Ue,le.pointLights.needsUpdate=Ue,le.pointLightShadows.needsUpdate=Ue,le.spotLights.needsUpdate=Ue,le.spotLightShadows.needsUpdate=Ue,le.rectAreaLights.needsUpdate=Ue,le.hemisphereLights.needsUpdate=Ue}function Tr(le){return le.isMeshLambertMaterial||le.isMeshToonMaterial||le.isMeshPhongMaterial||le.isMeshStandardMaterial||le.isShadowMaterial||le.isShaderMaterial&&le.lights===!0}this.getActiveCubeFace=function(){return D},this.getActiveMipmapLevel=function(){return P},this.getRenderTarget=function(){return F},this.setRenderTargetTextures=function(le,Ue,rt){ot.get(le.texture).__webglTexture=Ue,ot.get(le.depthTexture).__webglTexture=rt;const Je=ot.get(le);Je.__hasExternalTextures=!0,Je.__autoAllocateDepthBuffer=rt===void 0,Je.__autoAllocateDepthBuffer||Ie.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Je.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(le,Ue){const rt=ot.get(le);rt.__webglFramebuffer=Ue,rt.__useDefaultFramebuffer=Ue===void 0};const Rr=re.createFramebuffer();this.setRenderTarget=function(le,Ue=0,rt=0){F=le,D=Ue,P=rt;let Je=!0,$e=null,Tt=!1,Vt=!1;if(le){const Wt=ot.get(le);if(Wt.__useDefaultFramebuffer!==void 0)ke.bindFramebuffer(re.FRAMEBUFFER,null),Je=!1;else if(Wt.__webglFramebuffer===void 0)ce.setupRenderTarget(le);else if(Wt.__hasExternalTextures)ce.rebindTextures(le,ot.get(le.texture).__webglTexture,ot.get(le.depthTexture).__webglTexture);else if(le.depthBuffer){const on=le.depthTexture;if(Wt.__boundDepthTexture!==on){if(on!==null&&ot.has(on)&&(le.width!==on.image.width||le.height!==on.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");ce.setupDepthRenderbuffer(le)}}const gn=le.texture;(gn.isData3DTexture||gn.isDataArrayTexture||gn.isCompressedArrayTexture)&&(Vt=!0);const fn=ot.get(le).__webglFramebuffer;le.isWebGLCubeRenderTarget?(Array.isArray(fn[Ue])?$e=fn[Ue][rt]:$e=fn[Ue],Tt=!0):le.samples>0&&ce.useMultisampledRTT(le)===!1?$e=ot.get(le).__webglMultisampledFramebuffer:Array.isArray(fn)?$e=fn[rt]:$e=fn,$.copy(le.viewport),J.copy(le.scissor),W=le.scissorTest}else $.copy(ie).multiplyScalar(ee).floor(),J.copy(me).multiplyScalar(ee).floor(),W=de;if(rt!==0&&($e=Rr),ke.bindFramebuffer(re.FRAMEBUFFER,$e)&&Je&&ke.drawBuffers(le,$e),ke.viewport($),ke.scissor(J),ke.setScissorTest(W),Tt){const Wt=ot.get(le.texture);re.framebufferTexture2D(re.FRAMEBUFFER,re.COLOR_ATTACHMENT0,re.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,Wt.__webglTexture,rt)}else if(Vt){const Wt=ot.get(le.texture),gn=Ue;re.framebufferTextureLayer(re.FRAMEBUFFER,re.COLOR_ATTACHMENT0,Wt.__webglTexture,rt,gn)}else if(le!==null&&rt!==0){const Wt=ot.get(le.texture);re.framebufferTexture2D(re.FRAMEBUFFER,re.COLOR_ATTACHMENT0,re.TEXTURE_2D,Wt.__webglTexture,rt)}U=-1},this.readRenderTargetPixels=function(le,Ue,rt,Je,$e,Tt,Vt){if(!(le&&le.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Kt=ot.get(le).__webglFramebuffer;if(le.isWebGLCubeRenderTarget&&Vt!==void 0&&(Kt=Kt[Vt]),Kt){ke.bindFramebuffer(re.FRAMEBUFFER,Kt);try{const Wt=le.texture,gn=Wt.format,fn=Wt.type;if(!Ye.textureFormatReadable(gn)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Ye.textureTypeReadable(fn)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Ue>=0&&Ue<=le.width-Je&&rt>=0&&rt<=le.height-$e&&re.readPixels(Ue,rt,Je,$e,Ge.convert(gn),Ge.convert(fn),Tt)}finally{const Wt=F!==null?ot.get(F).__webglFramebuffer:null;ke.bindFramebuffer(re.FRAMEBUFFER,Wt)}}},this.readRenderTargetPixelsAsync=async function(le,Ue,rt,Je,$e,Tt,Vt){if(!(le&&le.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Kt=ot.get(le).__webglFramebuffer;if(le.isWebGLCubeRenderTarget&&Vt!==void 0&&(Kt=Kt[Vt]),Kt){const Wt=le.texture,gn=Wt.format,fn=Wt.type;if(!Ye.textureFormatReadable(gn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Ye.textureTypeReadable(fn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(Ue>=0&&Ue<=le.width-Je&&rt>=0&&rt<=le.height-$e){ke.bindFramebuffer(re.FRAMEBUFFER,Kt);const on=re.createBuffer();re.bindBuffer(re.PIXEL_PACK_BUFFER,on),re.bufferData(re.PIXEL_PACK_BUFFER,Tt.byteLength,re.STREAM_READ),re.readPixels(Ue,rt,Je,$e,Ge.convert(gn),Ge.convert(fn),0);const Hn=F!==null?ot.get(F).__webglFramebuffer:null;ke.bindFramebuffer(re.FRAMEBUFFER,Hn);const kn=re.fenceSync(re.SYNC_GPU_COMMANDS_COMPLETE,0);return re.flush(),await ire(re,kn,4),re.bindBuffer(re.PIXEL_PACK_BUFFER,on),re.getBufferSubData(re.PIXEL_PACK_BUFFER,0,Tt),re.deleteBuffer(on),re.deleteSync(kn),Tt}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(le,Ue=null,rt=0){le.isTexture!==!0&&(jp("WebGLRenderer: copyFramebufferToTexture function signature has changed."),Ue=arguments[0]||null,le=arguments[1]);const Je=Math.pow(2,-rt),$e=Math.floor(le.image.width*Je),Tt=Math.floor(le.image.height*Je),Vt=Ue!==null?Ue.x:0,Kt=Ue!==null?Ue.y:0;ce.setTexture2D(le,0),re.copyTexSubImage2D(re.TEXTURE_2D,rt,0,0,Vt,Kt,$e,Tt),ke.unbindTexture()};const cr=re.createFramebuffer(),Sr=re.createFramebuffer();this.copyTextureToTexture=function(le,Ue,rt=null,Je=null,$e=0,Tt=null){le.isTexture!==!0&&(jp("WebGLRenderer: copyTextureToTexture function signature has changed."),Je=arguments[0]||null,le=arguments[1],Ue=arguments[2],Tt=arguments[3]||0,rt=null),Tt===null&&($e!==0?(jp("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Tt=$e,$e=0):Tt=0);let Vt,Kt,Wt,gn,fn,on,Hn,kn,Vn;const In=le.isCompressedTexture?le.mipmaps[Tt]:le.image;if(rt!==null)Vt=rt.max.x-rt.min.x,Kt=rt.max.y-rt.min.y,Wt=rt.isBox3?rt.max.z-rt.min.z:1,gn=rt.min.x,fn=rt.min.y,on=rt.isBox3?rt.min.z:0;else{const Pi=Math.pow(2,-$e);Vt=Math.floor(In.width*Pi),Kt=Math.floor(In.height*Pi),le.isDataArrayTexture?Wt=In.depth:le.isData3DTexture?Wt=Math.floor(In.depth*Pi):Wt=1,gn=0,fn=0,on=0}Je!==null?(Hn=Je.x,kn=Je.y,Vn=Je.z):(Hn=0,kn=0,Vn=0);const bn=Ge.convert(Ue.format),cn=Ge.convert(Ue.type);let bi;Ue.isData3DTexture?(ce.setTexture3D(Ue,0),bi=re.TEXTURE_3D):Ue.isDataArrayTexture||Ue.isCompressedArrayTexture?(ce.setTexture2DArray(Ue,0),bi=re.TEXTURE_2D_ARRAY):(ce.setTexture2D(Ue,0),bi=re.TEXTURE_2D),re.pixelStorei(re.UNPACK_FLIP_Y_WEBGL,Ue.flipY),re.pixelStorei(re.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ue.premultiplyAlpha),re.pixelStorei(re.UNPACK_ALIGNMENT,Ue.unpackAlignment);const jn=re.getParameter(re.UNPACK_ROW_LENGTH),Gn=re.getParameter(re.UNPACK_IMAGE_HEIGHT),Tn=re.getParameter(re.UNPACK_SKIP_PIXELS),Cn=re.getParameter(re.UNPACK_SKIP_ROWS),Zn=re.getParameter(re.UNPACK_SKIP_IMAGES);re.pixelStorei(re.UNPACK_ROW_LENGTH,In.width),re.pixelStorei(re.UNPACK_IMAGE_HEIGHT,In.height),re.pixelStorei(re.UNPACK_SKIP_PIXELS,gn),re.pixelStorei(re.UNPACK_SKIP_ROWS,fn),re.pixelStorei(re.UNPACK_SKIP_IMAGES,on);const An=le.isDataArrayTexture||le.isData3DTexture,_i=Ue.isDataArrayTexture||Ue.isData3DTexture;if(le.isDepthTexture){const Pi=ot.get(le),$i=ot.get(Ue),qi=ot.get(Pi.__renderTarget),Or=ot.get($i.__renderTarget);ke.bindFramebuffer(re.READ_FRAMEBUFFER,qi.__webglFramebuffer),ke.bindFramebuffer(re.DRAW_FRAMEBUFFER,Or.__webglFramebuffer);for(let Wi=0;Wi<Wt;Wi++)An&&(re.framebufferTextureLayer(re.READ_FRAMEBUFFER,re.COLOR_ATTACHMENT0,ot.get(le).__webglTexture,$e,on+Wi),re.framebufferTextureLayer(re.DRAW_FRAMEBUFFER,re.COLOR_ATTACHMENT0,ot.get(Ue).__webglTexture,Tt,Vn+Wi)),re.blitFramebuffer(gn,fn,Vt,Kt,Hn,kn,Vt,Kt,re.DEPTH_BUFFER_BIT,re.NEAREST);ke.bindFramebuffer(re.READ_FRAMEBUFFER,null),ke.bindFramebuffer(re.DRAW_FRAMEBUFFER,null)}else if($e!==0||le.isRenderTargetTexture||ot.has(le)){const Pi=ot.get(le),$i=ot.get(Ue);ke.bindFramebuffer(re.READ_FRAMEBUFFER,cr),ke.bindFramebuffer(re.DRAW_FRAMEBUFFER,Sr);for(let qi=0;qi<Wt;qi++)An?re.framebufferTextureLayer(re.READ_FRAMEBUFFER,re.COLOR_ATTACHMENT0,Pi.__webglTexture,$e,on+qi):re.framebufferTexture2D(re.READ_FRAMEBUFFER,re.COLOR_ATTACHMENT0,re.TEXTURE_2D,Pi.__webglTexture,$e),_i?re.framebufferTextureLayer(re.DRAW_FRAMEBUFFER,re.COLOR_ATTACHMENT0,$i.__webglTexture,Tt,Vn+qi):re.framebufferTexture2D(re.DRAW_FRAMEBUFFER,re.COLOR_ATTACHMENT0,re.TEXTURE_2D,$i.__webglTexture,Tt),$e!==0?re.blitFramebuffer(gn,fn,Vt,Kt,Hn,kn,Vt,Kt,re.COLOR_BUFFER_BIT,re.NEAREST):_i?re.copyTexSubImage3D(bi,Tt,Hn,kn,Vn+qi,gn,fn,Vt,Kt):re.copyTexSubImage2D(bi,Tt,Hn,kn,gn,fn,Vt,Kt);ke.bindFramebuffer(re.READ_FRAMEBUFFER,null),ke.bindFramebuffer(re.DRAW_FRAMEBUFFER,null)}else _i?le.isDataTexture||le.isData3DTexture?re.texSubImage3D(bi,Tt,Hn,kn,Vn,Vt,Kt,Wt,bn,cn,In.data):Ue.isCompressedArrayTexture?re.compressedTexSubImage3D(bi,Tt,Hn,kn,Vn,Vt,Kt,Wt,bn,In.data):re.texSubImage3D(bi,Tt,Hn,kn,Vn,Vt,Kt,Wt,bn,cn,In):le.isDataTexture?re.texSubImage2D(re.TEXTURE_2D,Tt,Hn,kn,Vt,Kt,bn,cn,In.data):le.isCompressedTexture?re.compressedTexSubImage2D(re.TEXTURE_2D,Tt,Hn,kn,In.width,In.height,bn,In.data):re.texSubImage2D(re.TEXTURE_2D,Tt,Hn,kn,Vt,Kt,bn,cn,In);re.pixelStorei(re.UNPACK_ROW_LENGTH,jn),re.pixelStorei(re.UNPACK_IMAGE_HEIGHT,Gn),re.pixelStorei(re.UNPACK_SKIP_PIXELS,Tn),re.pixelStorei(re.UNPACK_SKIP_ROWS,Cn),re.pixelStorei(re.UNPACK_SKIP_IMAGES,Zn),Tt===0&&Ue.generateMipmaps&&re.generateMipmap(bi),ke.unbindTexture()},this.copyTextureToTexture3D=function(le,Ue,rt=null,Je=null,$e=0){return le.isTexture!==!0&&(jp("WebGLRenderer: copyTextureToTexture3D function signature has changed."),rt=arguments[0]||null,Je=arguments[1]||null,le=arguments[2],Ue=arguments[3],$e=arguments[4]||0),jp('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(le,Ue,rt,Je,$e)},this.initRenderTarget=function(le){ot.get(le).__webglFramebuffer===void 0&&ce.setupRenderTarget(le)},this.initTexture=function(le){le.isCubeTexture?ce.setTextureCube(le,0):le.isData3DTexture?ce.setTexture3D(le,0):le.isDataArrayTexture||le.isCompressedArrayTexture?ce.setTexture2DArray(le,0):ce.setTexture2D(le,0),ke.unbindTexture()},this.resetState=function(){D=0,P=0,F=null,ke.reset(),St.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Fc}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorspace=Ii._getDrawingBufferColorSpace(e),t.unpackColorSpace=Ii._getUnpackColorSpace()}}const hfe=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:rI,AddEquation:_h,AddOperation:h8,AdditiveAnimationBlendMode:pI,AdditiveBlending:x2,AgXToneMapping:y8,AlphaFormat:lI,AlwaysCompare:P8,AlwaysDepth:Q1,AlwaysStencilFunc:A2,AmbientLight:_6,AnimationAction:I6,AnimationClip:b0,AnimationLoader:Rae,AnimationMixer:noe,AnimationObjectGroup:eoe,AnimationUtils:wae,ArcCurve:q8,ArrayCamera:T6,ArrowHelper:Eoe,AttachedBindMode:w2,Audio:R6,AudioAnalyser:Vae,AudioContext:$I,AudioListener:Gae,AudioLoader:Uae,AxesHelper:woe,BackSide:ss,BasicDepthPacking:w8,BasicShadowMap:XH,BatchedMesh:X8,Bone:Yw,BooleanKeyframeTrack:jm,Box2:uoe,Box3:po,Box3Helper:xoe,BoxGeometry:Vm,BoxHelper:_oe,BufferAttribute:ki,BufferGeometry:ni,BufferGeometryLoader:A6,ByteType:aI,Cache:od,Camera:jw,CameraHelper:Soe,CanvasTexture:qre,CapsuleGeometry:Qw,CatmullRomCurve3:K8,CineonToneMapping:g8,CircleGeometry:Zw,ClampToEdgeWrapping:el,Clock:VI,Color:en,ColorKeyframeTrack:zI,ColorManagement:Ii,CompressedArrayTexture:Xre,CompressedCubeTexture:Yre,CompressedTexture:Kw,CompressedTextureLoader:Oae,ConeGeometry:eA,ConstantAlphaFactor:u8,ConstantColorFactor:l8,Controls:Moe,CubeCamera:k8,CubeReflectionMapping:gd,CubeRefractionMapping:Fh,CubeTexture:GS,CubeTextureLoader:Iae,CubeUVReflectionMapping:P0,CubicBezierCurve:TI,CubicBezierCurve3:J8,CubicInterpolant:m6,CullFaceBack:_2,CullFaceFront:WH,CullFaceFrontBack:lie,CullFaceNone:jH,Curve:Kc,CurvePath:Z8,CustomBlending:YH,CustomToneMapping:v8,CylinderGeometry:N0,Cylindrical:coe,Data3DTexture:Vw,DataArrayTexture:HS,DataTexture:qu,DataTextureLoader:Bae,DataUtils:Sre,DecrementStencilOp:bie,DecrementWrapStencilOp:_ie,DefaultLoadingManager:y6,DepthFormat:xm,DepthStencilFormat:Tm,DepthTexture:AI,DetachedBindMode:S8,DirectionalLight:kI,DirectionalLightHelper:boe,DiscreteInterpolant:g6,DodecahedronGeometry:tA,DoubleSide:zc,DstAlphaFactor:i8,DstColorFactor:a8,DynamicCopyUsage:Nie,DynamicDrawUsage:Oie,DynamicReadUsage:Die,EdgesGeometry:e6,EllipseCurve:Jw,EqualCompare:O8,EqualDepth:eE,EqualStencilFunc:wie,EquirectangularReflectionMapping:aS,EquirectangularRefractionMapping:oS,Euler:al,EventDispatcher:sf,ExtrudeGeometry:iA,FileLoader:ol,Float16BufferAttribute:Mre,Float32BufferAttribute:vn,FloatType:Rs,Fog:Xw,FogExp2:Ww,FramebufferTexture:Wre,FrontSide:ef,Frustum:VS,GLBufferAttribute:loe,GLSL1:Uie,GLSL3:M2,GreaterCompare:I8,GreaterDepth:nE,GreaterEqualCompare:D8,GreaterEqualDepth:tE,GreaterEqualStencilFunc:Rie,GreaterStencilFunc:Mie,GridHelper:voe,Group:ad,HalfFloatType:L0,HemisphereLight:S6,HemisphereLightHelper:goe,IcosahedronGeometry:rA,ImageBitmapLoader:M6,ImageLoader:gS,ImageUtils:U8,IncrementStencilOp:yie,IncrementWrapStencilOp:Sie,InstancedBufferAttribute:Rm,InstancedBufferGeometry:w6,InstancedInterleavedBuffer:soe,InstancedMesh:CI,Int16BufferAttribute:wre,Int32BufferAttribute:Are,Int8BufferAttribute:xre,IntType:Nw,InterleavedBuffer:kS,InterleavedBufferAttribute:kh,Interpolant:U0,InterpolateDiscrete:p0,InterpolateLinear:m0,InterpolateSmooth:jC,InvertStencilOp:xie,KeepStencilOp:Vp,KeyframeTrack:Jc,LOD:W8,LatheGeometry:jS,Layers:v0,LessCompare:R8,LessDepth:Z1,LessEqualCompare:gI,LessEqualDepth:Am,LessEqualStencilFunc:Aie,LessStencilFunc:Eie,Light:Xh,LightProbe:E6,Line:yd,Line3:foe,LineBasicMaterial:Fo,LineCurve:RI,LineCurve3:Q8,LineDashedMaterial:d6,LineLoop:EI,LineSegments:qc,LinearFilter:ha,LinearInterpolant:NI,LinearMipMapLinearFilter:die,LinearMipMapNearestFilter:fie,LinearMipmapLinearFilter:Fl,LinearMipmapNearestFilter:Jv,LinearSRGBColorSpace:Gh,LinearToneMapping:p8,LinearTransfer:lS,Loader:Ho,LoaderUtils:Bh,LoadingManager:UI,LoopOnce:_8,LoopPingPong:C8,LoopRepeat:x8,LuminanceAlphaFormat:fI,LuminanceFormat:uI,MOUSE:kp,Material:Ia,MaterialLoader:fA,MathUtils:L8,Matrix2:YI,Matrix3:ti,Matrix4:Pn,MaxEquation:QH,Mesh:pa,MeshBasicMaterial:tl,MeshDepthMaterial:DI,MeshDistanceMaterial:PI,MeshLambertMaterial:u6,MeshMatcapMaterial:f6,MeshNormalMaterial:c6,MeshPhongMaterial:s6,MeshPhysicalMaterial:$l,MeshStandardMaterial:YS,MeshToonMaterial:l6,MinEquation:JH,MirroredRepeatWrapping:d0,MixOperation:d8,MultiplyBlending:E2,MultiplyOperation:US,NearestFilter:Ka,NearestMipMapLinearFilter:uie,NearestMipMapNearestFilter:cie,NearestMipmapLinearFilter:hm,NearestMipmapNearestFilter:Lw,NeutralToneMapping:b8,NeverCompare:T8,NeverDepth:J1,NeverStencilFunc:Cie,NoBlending:ud,NoColorSpace:nd,NoToneMapping:Yu,NormalAnimationBlendMode:kw,NormalBlending:_m,NotEqualCompare:B8,NotEqualDepth:iE,NotEqualStencilFunc:Tie,NumberKeyframeTrack:Im,Object3D:Bi,ObjectLoader:Nae,ObjectSpaceNormalMap:M8,OctahedronGeometry:WS,OneFactor:e8,OneMinusConstantAlphaFactor:f8,OneMinusConstantColorFactor:c8,OneMinusDstAlphaFactor:r8,OneMinusDstColorFactor:o8,OneMinusSrcAlphaFactor:K1,OneMinusSrcColorFactor:n8,OrthographicCamera:dd,PCFShadowMap:Dw,PCFSoftShadowMap:Ib,PMREMGenerator:L2,Path:dS,PerspectiveCamera:jr,Plane:ed,PlaneGeometry:z0,PlaneHelper:Coe,PointLight:GI,PointLightHelper:poe,Points:wI,PointsMaterial:qw,PolarGridHelper:yoe,PolyhedronGeometry:Wh,PositionalAudio:$ae,PropertyBinding:Ui,PropertyMixer:O6,QuadraticBezierCurve:OI,QuadraticBezierCurve3:II,Quaternion:Ja,QuaternionKeyframeTrack:Bm,QuaternionLinearInterpolant:v6,RED_GREEN_RGTC2_Format:TE,RED_RGTC1_Format:hI,REVISION:zS,RGBADepthPacking:A8,RGBAFormat:Lo,RGBAIntegerFormat:Gw,RGBA_ASTC_10x10_Format:xE,RGBA_ASTC_10x5_Format:bE,RGBA_ASTC_10x6_Format:SE,RGBA_ASTC_10x8_Format:_E,RGBA_ASTC_12x10_Format:CE,RGBA_ASTC_12x12_Format:EE,RGBA_ASTC_4x4_Format:fE,RGBA_ASTC_5x4_Format:dE,RGBA_ASTC_5x5_Format:hE,RGBA_ASTC_6x5_Format:pE,RGBA_ASTC_6x6_Format:mE,RGBA_ASTC_8x5_Format:gE,RGBA_ASTC_8x6_Format:vE,RGBA_ASTC_8x8_Format:yE,RGBA_BPTC_Format:Nb,RGBA_ETC2_EAC_Format:uE,RGBA_PVRTC_2BPPV1_Format:sE,RGBA_PVRTC_4BPPV1_Format:oE,RGBA_S3TC_DXT1_Format:Db,RGBA_S3TC_DXT3_Format:Pb,RGBA_S3TC_DXT5_Format:Lb,RGBDepthPacking:pie,RGBFormat:cI,RGBIntegerFormat:hie,RGB_BPTC_SIGNED_Format:wE,RGB_BPTC_UNSIGNED_Format:AE,RGB_ETC1_Format:lE,RGB_ETC2_Format:cE,RGB_PVRTC_2BPPV1_Format:aE,RGB_PVRTC_4BPPV1_Format:rE,RGB_S3TC_DXT1_Format:Bb,RGDepthPacking:mie,RGFormat:dI,RGIntegerFormat:Hw,RawShaderMaterial:o6,Ray:$m,Raycaster:B6,RectAreaLight:x6,RedFormat:Fw,RedIntegerFormat:FS,ReinhardToneMapping:m8,RenderTarget:$w,RenderTarget3D:ioe,RenderTargetArray:roe,RepeatWrapping:Hh,ReplaceStencilOp:vie,ReverseSubtractEquation:KH,RingGeometry:aA,SIGNED_RED_GREEN_RGTC2_Format:RE,SIGNED_RED_RGTC1_Format:ME,SRGBColorSpace:Do,SRGBTransfer:or,Scene:SI,ShaderChunk:ui,ShaderLib:Pc,ShaderMaterial:jc,ShadowMaterial:a6,Shape:Em,ShapeGeometry:oA,ShapePath:Aoe,ShapeUtils:Ku,ShortType:oI,Skeleton:$S,SkeletonHelper:hoe,SkinnedMesh:xI,Source:Th,Sphere:mo,SphereGeometry:XS,Spherical:D2,SphericalHarmonics3:C6,SplineCurve:BI,SpotLight:HI,SpotLightHelper:doe,Sprite:j8,SpriteMaterial:_I,SrcAlphaFactor:q1,SrcAlphaSaturateFactor:s8,SrcColorFactor:t8,StaticCopyUsage:Lie,StaticDrawUsage:cS,StaticReadUsage:Bie,StereoCamera:Fae,StreamCopyUsage:zie,StreamDrawUsage:Iie,StreamReadUsage:Pie,StringKeyframeTrack:Wm,SubtractEquation:qH,SubtractiveBlending:C2,TOUCH:$p,TangentSpaceNormalMap:jh,TetrahedronGeometry:sA,Texture:Pr,TextureLoader:b6,TextureUtils:Boe,TimestampQuery:Fie,TorusGeometry:lA,TorusKnotGeometry:cA,Triangle:Ts,TriangleFanDrawMode:OE,TriangleStripDrawMode:mI,TrianglesDrawMode:E8,TubeGeometry:uA,UVMapping:Pw,Uint16BufferAttribute:yI,Uint32BufferAttribute:bI,Uint8BufferAttribute:Cre,Uint8ClampedBufferAttribute:Ere,Uniform:XI,UniformsGroup:ooe,UniformsLib:rn,UniformsUtils:G8,UnsignedByteType:Vc,UnsignedInt248Type:Mm,UnsignedInt5999Type:sI,UnsignedIntType:vd,UnsignedShort4444Type:zw,UnsignedShort5551Type:Uw,UnsignedShortType:h0,VSMShadowMap:Rc,Vector2:Mt,Vector3:be,Vector4:Gi,VectorKeyframeTrack:Dm,VideoFrameTexture:jre,VideoTexture:Y8,WebGL3DRenderTarget:ure,WebGLArrayRenderTarget:cre,WebGLCoordinateSystem:Fc,WebGLCubeRenderTarget:$8,WebGLRenderTarget:tf,WebGLRenderer:H6,WebGLUtils:F6,WebGPUCoordinateSystem:uS,WebXRController:WC,WireframeGeometry:r6,WrapAroundEnding:sS,ZeroCurvatureEnding:pm,ZeroFactor:ZH,ZeroSlopeEnding:mm,ZeroStencilOp:gie,createCanvasElement:z8},Symbol.toStringTag,{value:"Module"}));var BT={exports:{}},kf={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mN;function pfe(){return mN||(mN=1,kf.ConcurrentRoot=1,kf.ContinuousEventPriority=8,kf.DefaultEventPriority=32,kf.DiscreteEventPriority=2,kf.IdleEventPriority=268435456,kf.LegacyRoot=0,kf.NoEventPriority=0),kf}var gN;function mfe(){return gN||(gN=1,BT.exports=pfe()),BT.exports}var YC=mfe(),DT={exports:{}},PT={},LT={exports:{}},NT={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vN;function gfe(){if(vN)return NT;vN=1;var n=E0();function e(y,_){return y===_&&(y!==0||1/y===1/_)||y!==y&&_!==_}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,a=n.useEffect,o=n.useLayoutEffect,l=n.useDebugValue;function s(y,_){var C=_(),c=r({inst:{value:C,getSnapshot:_}}),p=c[0].inst,m=c[1];return o(function(){p.value=C,p.getSnapshot=_,u(p)&&m({inst:p})},[y,C,_]),a(function(){return u(p)&&m({inst:p}),y(function(){u(p)&&m({inst:p})})},[y]),l(C),C}function u(y){var _=y.getSnapshot;y=y.value;try{var C=_();return!t(y,C)}catch{return!0}}function d(y,_){return _()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:s;return NT.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:g,NT}var yN;function vfe(){return yN||(yN=1,LT.exports=gfe()),LT.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bN;function yfe(){if(bN)return PT;bN=1;var n=E0(),e=vfe();function t(d,g){return d===g&&(d!==0||1/d===1/g)||d!==d&&g!==g}var r=typeof Object.is=="function"?Object.is:t,a=e.useSyncExternalStore,o=n.useRef,l=n.useEffect,s=n.useMemo,u=n.useDebugValue;return PT.useSyncExternalStoreWithSelector=function(d,g,y,_,C){var c=o(null);if(c.current===null){var p={hasValue:!1,value:null};c.current=p}else p=c.current;c=s(function(){function b(D){if(!E){if(E=!0,T=D,D=_(D),C!==void 0&&p.hasValue){var P=p.value;if(C(P,D))return R=P}return R=D}if(P=R,r(T,D))return P;var F=_(D);return C!==void 0&&C(P,F)?(T=D,P):(T=D,R=F)}var E=!1,T,R,O=y===void 0?null:y;return[function(){return b(g())},O===null?void 0:function(){return b(O())}]},[g,y,_,C]);var m=a(d,c[0],c[1]);return l(function(){p.hasValue=!0,p.value=m},[m]),u(m),m},PT}var SN;function bfe(){return SN||(SN=1,DT.exports=yfe()),DT.exports}var Sfe=bfe();const _fe=zm(Sfe),_N=n=>{let e;const t=new Set,r=(d,g)=>{const y=typeof d=="function"?d(e):d;if(!Object.is(y,e)){const _=e;e=g??(typeof y!="object"||y===null)?y:Object.assign({},e,y),t.forEach(C=>C(e,_))}},a=()=>e,s={setState:r,getState:a,getInitialState:()=>u,subscribe:d=>(t.add(d),()=>t.delete(d))},u=e=n(r,a,s);return s},xfe=n=>n?_N(n):_N,{useSyncExternalStoreWithSelector:Cfe}=_fe,Efe=n=>n;function wfe(n,e=Efe,t){const r=Cfe(n.subscribe,n.getState,n.getInitialState,e,t);return We.useDebugValue(r),r}const xN=(n,e)=>{const t=xfe(n),r=(a,o=e)=>wfe(t,a,o);return Object.assign(r,t),r},Afe=(n,e)=>n?xN(n,e):xN;var zT={exports:{}},UT={exports:{}};/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CN;function Mfe(){return CN||(CN=1,function(n){n.exports=function(e){function t(v,S,M,N){return new o_(v,S,M,N)}function r(){}function a(v){var S="https://react.dev/errors/"+v;if(1<arguments.length){S+="?args[]="+encodeURIComponent(arguments[1]);for(var M=2;M<arguments.length;M++)S+="&args[]="+encodeURIComponent(arguments[M])}return"Minified React error #"+v+"; visit "+S+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(v){return v===null||typeof v!="object"?null:(v=Xi&&v[Xi]||v["@@iterator"],typeof v=="function"?v:null)}function l(v){if(v==null)return null;if(typeof v=="function")return v.$$typeof===Zr?null:v.displayName||v.name||null;if(typeof v=="string")return v;switch(v){case mu:return"Fragment";case yl:return"Portal";case gu:return"Profiler";case Sf:return"StrictMode";case sc:return"Suspense";case dp:return"SuspenseList"}if(typeof v=="object")switch(v.$$typeof){case vu:return(v.displayName||"Context")+".Provider";case Y0:return(v._context.displayName||"Context")+".Consumer";case cg:var S=v.render;return v=v.displayName,v||(v=S.displayName||S.name||"",v=v!==""?"ForwardRef("+v+")":"ForwardRef"),v;case Pd:return S=v.displayName||null,S!==null?S:l(v.type)||"Memo";case lc:S=v._payload,v=v._init;try{return l(v(S))}catch{}}return null}function s(v){if(yu===void 0)try{throw Error()}catch(M){var S=M.stack.trim().match(/\n( *(at )?)/);yu=S&&S[1]||"",bu=-1<M.stack.indexOf(`
    at`)?" (<anonymous>)":-1<M.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yu+v+bu}function u(v,S){if(!v||Ld)return"";Ld=!0;var M=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var N={DetermineComponentFrameRoot:function(){try{if(S){var nn=function(){throw Error()};if(Object.defineProperty(nn.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nn,[])}catch(Yn){var Ht=Yn}Reflect.construct(v,[],nn)}else{try{nn.call()}catch(Yn){Ht=Yn}v.call(nn.prototype)}}else{try{throw Error()}catch(Yn){Ht=Yn}(nn=v())&&typeof nn.catch=="function"&&nn.catch(function(){})}}catch(Yn){if(Yn&&Ht&&typeof Yn.stack=="string")return[Yn.stack,Ht.stack]}return[null,null]}};N.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var k=Object.getOwnPropertyDescriptor(N.DetermineComponentFrameRoot,"name");k&&k.configurable&&Object.defineProperty(N.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var j=N.DetermineComponentFrameRoot(),ve=j[0],Le=j[1];if(ve&&Le){var nt=ve.split(`
`),wt=Le.split(`
`);for(k=N=0;N<nt.length&&!nt[N].includes("DetermineComponentFrameRoot");)N++;for(;k<wt.length&&!wt[k].includes("DetermineComponentFrameRoot");)k++;if(N===nt.length||k===wt.length)for(N=nt.length-1,k=wt.length-1;1<=N&&0<=k&&nt[N]!==wt[k];)k--;for(;1<=N&&0<=k;N--,k--)if(nt[N]!==wt[k]){if(N!==1||k!==1)do if(N--,k--,0>k||nt[N]!==wt[k]){var jt=`
`+nt[N].replace(" at new "," at ");return v.displayName&&jt.includes("<anonymous>")&&(jt=jt.replace("<anonymous>",v.displayName)),jt}while(1<=N&&0<=k);break}}}finally{Ld=!1,Error.prepareStackTrace=M}return(M=v?v.displayName||v.name:"")?s(M):""}function d(v){switch(v.tag){case 26:case 27:case 5:return s(v.type);case 16:return s("Lazy");case 13:return s("Suspense");case 19:return s("SuspenseList");case 0:case 15:return v=u(v.type,!1),v;case 11:return v=u(v.type.render,!1),v;case 1:return v=u(v.type,!0),v;default:return""}}function g(v){try{var S="";do S+=d(v),v=v.return;while(v);return S}catch(M){return`
Error generating stack: `+M.message+`
`+M.stack}}function y(v){var S=v,M=v;if(v.alternate)for(;S.return;)S=S.return;else{v=S;do S=v,(S.flags&4098)!==0&&(M=S.return),v=S.return;while(v)}return S.tag===3?M:null}function _(v){if(y(v)!==v)throw Error(a(188))}function C(v){var S=v.alternate;if(!S){if(S=y(v),S===null)throw Error(a(188));return S!==v?null:v}for(var M=v,N=S;;){var k=M.return;if(k===null)break;var j=k.alternate;if(j===null){if(N=k.return,N!==null){M=N;continue}break}if(k.child===j.child){for(j=k.child;j;){if(j===M)return _(k),v;if(j===N)return _(k),S;j=j.sibling}throw Error(a(188))}if(M.return!==N.return)M=k,N=j;else{for(var ve=!1,Le=k.child;Le;){if(Le===M){ve=!0,M=k,N=j;break}if(Le===N){ve=!0,N=k,M=j;break}Le=Le.sibling}if(!ve){for(Le=j.child;Le;){if(Le===M){ve=!0,M=j,N=k;break}if(Le===N){ve=!0,N=j,M=k;break}Le=Le.sibling}if(!ve)throw Error(a(189))}}if(M.alternate!==N)throw Error(a(190))}if(M.tag!==3)throw Error(a(188));return M.stateNode.current===M?v:S}function c(v){var S=v.tag;if(S===5||S===26||S===27||S===6)return v;for(v=v.child;v!==null;){if(S=c(v),S!==null)return S;v=v.sibling}return null}function p(v){var S=v.tag;if(S===5||S===26||S===27||S===6)return v;for(v=v.child;v!==null;){if(v.tag!==4&&(S=p(v),S!==null))return S;v=v.sibling}return null}function m(v){return{current:v}}function b(v){0>Cu||(v.current=xg[Cu],xg[Cu]=null,Cu--)}function E(v,S){Cu++,xg[Cu]=v.current,v.current=S}function T(v){return v>>>=0,v===0?32:31-(yy(v)/MA|0)|0}function R(v){var S=v&42;if(S!==0)return S;switch(v&-v){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return v&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return v&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return v}}function O(v,S){var M=v.pendingLanes;if(M===0)return 0;var N=0,k=v.suspendedLanes,j=v.pingedLanes,ve=v.warmLanes;v=v.finishedLanes!==0;var Le=M&134217727;return Le!==0?(M=Le&~k,M!==0?N=R(M):(j&=Le,j!==0?N=R(j):v||(ve=Le&~ve,ve!==0&&(N=R(ve))))):(Le=M&~k,Le!==0?N=R(Le):j!==0?N=R(j):v||(ve=M&~ve,ve!==0&&(N=R(ve)))),N===0?0:S!==0&&S!==N&&(S&k)===0&&(k=N&-N,ve=S&-S,k>=ve||k===32&&(ve&4194176)!==0)?S:N}function D(v,S){return(v.pendingLanes&~(v.suspendedLanes&~v.pingedLanes)&S)===0}function P(v,S){switch(v){case 1:case 2:case 4:case 8:return S+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return S+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function F(){var v=gp;return gp<<=1,(gp&4194176)===0&&(gp=128),v}function U(){var v=Hd;return Hd<<=1,(Hd&62914560)===0&&(Hd=4194304),v}function z(v){for(var S=[],M=0;31>M;M++)S.push(v);return S}function $(v,S){v.pendingLanes|=S,S!==268435456&&(v.suspendedLanes=0,v.pingedLanes=0,v.warmLanes=0)}function J(v,S,M,N,k,j){var ve=v.pendingLanes;v.pendingLanes=M,v.suspendedLanes=0,v.pingedLanes=0,v.warmLanes=0,v.expiredLanes&=M,v.entangledLanes&=M,v.errorRecoveryDisabledLanes&=M,v.shellSuspendCounter=0;var Le=v.entanglements,nt=v.expirationTimes,wt=v.hiddenUpdates;for(M=ve&~M;0<M;){var jt=31-Fr(M),nn=1<<jt;Le[jt]=0,nt[jt]=-1;var Ht=wt[jt];if(Ht!==null)for(wt[jt]=null,jt=0;jt<Ht.length;jt++){var Yn=Ht[jt];Yn!==null&&(Yn.lane&=-536870913)}M&=~nn}N!==0&&W(v,N,0),j!==0&&k===0&&v.tag!==0&&(v.suspendedLanes|=j&~(ve&~S))}function W(v,S,M){v.pendingLanes|=S,v.suspendedLanes&=~S;var N=31-Fr(S);v.entangledLanes|=S,v.entanglements[N]=v.entanglements[N]|1073741824|M&4194218}function Z(v,S){var M=v.entangledLanes|=S;for(v=v.entanglements;M;){var N=31-Fr(M),k=1<<N;k&S|v[N]&S&&(v[N]|=S),M&=~k}}function oe(v){return v&=-v,2<v?8<v?(v&134217727)!==0?32:268435456:8:2}function Y(v){if(ea&&typeof ea.onCommitFiberRoot=="function")try{ea.onCommitFiberRoot(kd,v,void 0,(v.current.flags&128)===128)}catch{}}function K(v){if(typeof Ha=="function"&&Eg(v),ea&&typeof ea.setStrictMode=="function")try{ea.setStrictMode(kd,v)}catch{}}function ee(v,S){return v===S&&(v!==0||1/v===1/S)||v!==v&&S!==S}function ue(v,S){if(typeof v=="object"&&v!==null){var M=wg.get(v);return M!==void 0?M:(S={value:v,source:S,stack:g(S)},wg.set(v,S),S)}return{value:v,source:S,stack:g(S)}}function q(v,S){Ko[Jo++]=$d,Ko[Jo++]=wu,wu=v,$d=S}function ie(v,S,M){Eo[Ga++]=xl,Eo[Ga++]=Cl,Eo[Ga++]=Us,Us=v;var N=xl;v=Cl;var k=32-Fr(N)-1;N&=~(1<<k),M+=1;var j=32-Fr(S)+k;if(30<j){var ve=k-k%5;j=(N&(1<<ve)-1).toString(32),N>>=ve,k-=ve,xl=1<<32-Fr(S)+k|M<<k|N,Cl=j+v}else xl=1<<j|M<<k|N,Cl=v}function me(v){v.return!==null&&(q(v,1),ie(v,1,0))}function de(v){for(;v===wu;)wu=Ko[--Jo],Ko[Jo]=null,$d=Ko[--Jo],Ko[Jo]=null;for(;v===Us;)Us=Eo[--Ga],Eo[Ga]=null,Cl=Eo[--Ga],Eo[Ga]=null,xl=Eo[--Ga],Eo[Ga]=null}function Q(v,S){E(hc,S),E(hs,v),E(Hr,null),v=q0(S),b(Hr),E(Hr,v)}function he(){b(Hr),b(hs),b(hc)}function xe(v){v.memoizedState!==null&&E(yp,v);var S=Hr.current,M=s_(S,v.type);S!==M&&(E(hs,v),E(Hr,M))}function Oe(v){hs.current===v&&(b(Hr),b(hs)),yp.current===v&&(b(yp),Ls?uc._currentValue=xf:uc._currentValue2=xf)}function Ae(v){var S=Error(a(418,""));throw Ce(ue(S,v)),bp}function Te(v,S){if(!Co)throw Error(a(175));wf(v.stateNode,v.type,v.memoizedProps,S,v)||Ae(v)}function ze(v){for(Gr=v.return;Gr;)switch(Gr.tag){case 3:case 27:Fs=!0;return;case 5:case 13:Fs=!1;return;default:Gr=Gr.return}}function vt(v){if(!Co||v!==Gr)return!1;if(!Ri)return ze(v),Ri=!0,!1;var S=!1;if(Sa?v.tag!==3&&v.tag!==27&&(v.tag!==5||ly(v.type)&&!Ta(v.type,v.memoizedProps))&&(S=!0):v.tag!==3&&(v.tag!==5||ly(v.type)&&!Ta(v.type,v.memoizedProps))&&(S=!0),S&&Ji&&Ae(v),ze(v),v.tag===13){if(!Co)throw Error(a(316));if(v=v.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(a(317));Ji=F_(v)}else Ji=Gr?xu(v.stateNode):null;return!0}function Be(){Co&&(Ji=Gr=null,Ri=!1)}function Ce(v){ps===null?ps=[v]:ps.push(v)}function re(){for(var v=pc,S=Hs=pc=0;S<v;){var M=wo[S];wo[S++]=null;var N=wo[S];wo[S++]=null;var k=wo[S];wo[S++]=null;var j=wo[S];if(wo[S++]=null,N!==null&&k!==null){var ve=N.pending;ve===null?k.next=k:(k.next=ve.next,ve.next=k),N.pending=k}j!==0&&ke(M,k,j)}}function Fe(v,S,M,N){wo[pc++]=v,wo[pc++]=S,wo[pc++]=M,wo[pc++]=N,Hs|=N,v.lanes|=N,v=v.alternate,v!==null&&(v.lanes|=N)}function Ie(v,S,M,N){return Fe(v,S,M,N),lt(v)}function Ye(v,S){return Fe(v,null,null,S),lt(v)}function ke(v,S,M){v.lanes|=M;var N=v.alternate;N!==null&&(N.lanes|=M);for(var k=!1,j=v.return;j!==null;)j.childLanes|=M,N=j.alternate,N!==null&&(N.childLanes|=M),j.tag===22&&(v=j.stateNode,v===null||v._visibility&1||(k=!0)),v=j,j=j.return;k&&S!==null&&v.tag===3&&(j=v.stateNode,k=31-Fr(M),j=j.hiddenUpdates,v=j[k],v===null?j[k]=[S]:v.push(S),S.lane=M|536870912)}function lt(v){if(50<Df)throw Df=0,Cy=null,Error(a(185));for(var S=v.return;S!==null;)v=S,S=v.return;return v.tag===3?v.stateNode:null}function ot(v){v!==Au&&v.next===null&&(Au===null?pr=Au=v:Au=Au.next=v),kr=!0,Ag||(Ag=!0,He(ae))}function ce(v,S){if(!Mg&&kr){Mg=!0;do for(var M=!1,N=pr;N!==null;){if(v!==0){var k=N.pendingLanes;if(k===0)var j=0;else{var ve=N.suspendedLanes,Le=N.pingedLanes;j=(1<<31-Fr(42|v)+1)-1,j&=k&~(ve&~Le),j=j&201326677?j&201326677|1:j?j|2:0}j!==0&&(M=!0,qe(N,j))}else j=gi,j=O(N,N===Zi?j:0),(j&3)===0||D(N,j)||(M=!0,qe(N,j));N=N.next}while(M);Mg=!1}}function ae(){kr=Ag=!1;var v=0;Vd!==0&&(f_()&&(v=Vd),Vd=0);for(var S=qo(),M=null,N=pr;N!==null;){var k=N.next,j=we(N,S);j===0?(N.next=null,M===null?pr=k:M.next=k,k===null&&(Au=M)):(M=N,(v!==0||(j&3)!==0)&&(kr=!0)),N=k}ce(v)}function we(v,S){for(var M=v.suspendedLanes,N=v.pingedLanes,k=v.expirationTimes,j=v.pendingLanes&-62914561;0<j;){var ve=31-Fr(j),Le=1<<ve,nt=k[ve];nt===-1?((Le&M)===0||(Le&N)!==0)&&(k[ve]=P(Le,S)):nt<=S&&(v.expiredLanes|=Le),j&=~Le}if(S=Zi,M=gi,M=O(v,v===S?M:0),N=v.callbackNode,M===0||v===S&&Yi===2||v.cancelPendingCommit!==null)return N!==null&&N!==null&&zs(N),v.callbackNode=null,v.callbackPriority=0;if((M&3)===0||D(v,M)){if(S=M&-M,S===v.callbackPriority)return S;switch(N!==null&&zs(N),oe(M)){case 2:case 8:M=vp;break;case 32:M=Gd;break;case 268435456:M=Mf;break;default:M=Gd}return N=De.bind(null,v),M=_l(M,N),v.callbackPriority=S,v.callbackNode=M,S}return N!==null&&N!==null&&zs(N),v.callbackPriority=2,v.callbackNode=null,2}function De(v,S){var M=v.callbackNode;if(fu()&&v.callbackNode!==M)return null;var N=gi;return N=O(v,v===Zi?N:0),N===0?null:(Wo(v,N,S),we(v,qo()),v.callbackNode!=null&&v.callbackNode===M?De.bind(null,v):null)}function qe(v,S){if(fu())return null;Wo(v,S,!0)}function He(v){m_?g_(function(){(mi&6)!==0?_l(Cg,v):v()}):_l(Cg,v)}function gt(){return Vd===0&&(Vd=F()),Vd}function st(v,S){if(jd===null){var M=jd=[];Tg=0,mr=gt(),_a={status:"pending",value:void 0,then:function(N){M.push(N)}}}return Tg++,S.then(pt,pt),S}function pt(){if(--Tg===0&&jd!==null){_a!==null&&(_a.status="fulfilled");var v=jd;jd=null,mr=0,_a=null;for(var S=0;S<v.length;S++)(0,v[S])()}}function Ot(v,S){var M=[],N={status:"pending",value:null,reason:null,then:function(k){M.push(k)}};return v.then(function(){N.status="fulfilled",N.value=S;for(var k=0;k<M.length;k++)(0,M[k])(S)},function(k){for(N.status="rejected",N.reason=k,k=0;k<M.length;k++)(0,M[k])(void 0)}),N}function at(v){v.updateQueue={baseState:v.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _t(v,S){v=v.updateQueue,S.updateQueue===v&&(S.updateQueue={baseState:v.baseState,firstBaseUpdate:v.firstBaseUpdate,lastBaseUpdate:v.lastBaseUpdate,shared:v.shared,callbacks:null})}function Ct(v){return{lane:v,tag:0,payload:null,callback:null,next:null}}function je(v,S,M){var N=v.updateQueue;if(N===null)return null;if(N=N.shared,(mi&2)!==0){var k=N.pending;return k===null?S.next=S:(S.next=k.next,k.next=S),N.pending=S,S=lt(v),ke(v,null,M),S}return Fe(v,N,S,M),lt(v)}function it(v,S,M){if(S=S.updateQueue,S!==null&&(S=S.shared,(M&4194176)!==0)){var N=S.lanes;N&=v.pendingLanes,M|=N,S.lanes=M,Z(v,M)}}function Se(v,S){var M=v.updateQueue,N=v.alternate;if(N!==null&&(N=N.updateQueue,M===N)){var k=null,j=null;if(M=M.firstBaseUpdate,M!==null){do{var ve={lane:M.lane,tag:M.tag,payload:M.payload,callback:null,next:null};j===null?k=j=ve:j=j.next=ve,M=M.next}while(M!==null);j===null?k=j=S:j=j.next=S}else k=j=S;M={baseState:N.baseState,firstBaseUpdate:k,lastBaseUpdate:j,shared:N.shared,callbacks:N.callbacks},v.updateQueue=M;return}v=M.lastBaseUpdate,v===null?M.firstBaseUpdate=S:v.next=S,M.lastBaseUpdate=S}function Ge(){if(Rg){var v=_a;if(v!==null)throw v}}function St(v,S,M,N){Rg=!1;var k=v.updateQueue;ka=!1;var j=k.firstBaseUpdate,ve=k.lastBaseUpdate,Le=k.shared.pending;if(Le!==null){k.shared.pending=null;var nt=Le,wt=nt.next;nt.next=null,ve===null?j=wt:ve.next=wt,ve=nt;var jt=v.alternate;jt!==null&&(jt=jt.updateQueue,Le=jt.lastBaseUpdate,Le!==ve&&(Le===null?jt.firstBaseUpdate=wt:Le.next=wt,jt.lastBaseUpdate=nt))}if(j!==null){var nn=k.baseState;ve=0,jt=wt=nt=null,Le=j;do{var Ht=Le.lane&-536870913,Yn=Ht!==Le.lane;if(Yn?(gi&Ht)===Ht:(N&Ht)===Ht){Ht!==0&&Ht===mr&&(Rg=!0),jt!==null&&(jt=jt.next={lane:0,tag:Le.tag,payload:Le.payload,callback:null,next:null});e:{var xs=v,Jd=Le;Ht=S;var Pf=M;switch(Jd.tag){case 1:if(xs=Jd.payload,typeof xs=="function"){nn=xs.call(Pf,nn,Ht);break e}nn=xs;break e;case 3:xs.flags=xs.flags&-65537|128;case 0:if(xs=Jd.payload,Ht=typeof xs=="function"?xs.call(Pf,nn,Ht):xs,Ht==null)break e;nn=zr({},nn,Ht);break e;case 2:ka=!0}}Ht=Le.callback,Ht!==null&&(v.flags|=64,Yn&&(v.flags|=8192),Yn=k.callbacks,Yn===null?k.callbacks=[Ht]:Yn.push(Ht))}else Yn={lane:Ht,tag:Le.tag,payload:Le.payload,callback:Le.callback,next:null},jt===null?(wt=jt=Yn,nt=nn):jt=jt.next=Yn,ve|=Ht;if(Le=Le.next,Le===null){if(Le=k.shared.pending,Le===null)break;Yn=Le,Le=Yn.next,Yn.next=null,k.lastBaseUpdate=Yn,k.shared.pending=null}}while(!0);jt===null&&(nt=nn),k.baseState=nt,k.firstBaseUpdate=wt,k.lastBaseUpdate=jt,j===null&&(k.shared.lanes=0),Ss|=ve,v.lanes=ve,v.memoizedState=nn}}function Me(v,S){if(typeof v!="function")throw Error(a(191,v));v.call(S)}function xt(v,S){var M=v.callbacks;if(M!==null)for(v.callbacks=null,v=0;v<M.length;v++)Me(M[v],S)}function Qe(v,S){if(no(v,S))return!0;if(typeof v!="object"||v===null||typeof S!="object"||S===null)return!1;var M=Object.keys(v),N=Object.keys(S);if(M.length!==N.length)return!1;for(N=0;N<M.length;N++){var k=M[N];if(!X_.call(S,k)||!no(v[k],S[k]))return!1}return!0}function mt(v){return v=v.status,v==="fulfilled"||v==="rejected"}function Lt(){}function It(v,S,M){switch(M=v[M],M===void 0?v.push(S):M!==S&&(S.then(Lt,Lt),S=M),S.status){case"fulfilled":return S.value;case"rejected":throw v=S.reason,v===Sp?Error(a(483)):v;default:if(typeof S.status=="string")S.then(Lt,Lt);else{if(v=Zi,v!==null&&100<v.shellSuspendCounter)throw Error(a(482));v=S,v.status="pending",v.then(function(N){if(S.status==="pending"){var k=S;k.status="fulfilled",k.value=N}},function(N){if(S.status==="pending"){var k=S;k.status="rejected",k.reason=N}})}switch(S.status){case"fulfilled":return S.value;case"rejected":throw v=S.reason,v===Sp?Error(a(483)):v}throw $a=S,Sp}}function Qt(){if($a===null)throw Error(a(459));var v=$a;return $a=null,v}function sn(v){var S=Va;return Va+=1,Tf===null&&(Tf=[]),It(Tf,v,S)}function qt(v,S){S=S.props.ref,v.ref=S!==void 0?S:null}function Dt(v,S){throw S.$$typeof===X0?Error(a(525)):(v=Object.prototype.toString.call(S),Error(a(31,v==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":v)))}function Yt(v){var S=v._init;return S(v._payload)}function yn(v){function S(ft,Ze){if(v){var ht=ft.deletions;ht===null?(ft.deletions=[Ze],ft.flags|=16):ht.push(Ze)}}function M(ft,Ze){if(!v)return null;for(;Ze!==null;)S(ft,Ze),Ze=Ze.sibling;return null}function N(ft){for(var Ze=new Map;ft!==null;)ft.key!==null?Ze.set(ft.key,ft):Ze.set(ft.index,ft),ft=ft.sibling;return Ze}function k(ft,Ze){return ft=rc(ft,Ze),ft.index=0,ft.sibling=null,ft}function j(ft,Ze,ht){return ft.index=ht,v?(ht=ft.alternate,ht!==null?(ht=ht.index,ht<Ze?(ft.flags|=33554434,Ze):ht):(ft.flags|=33554434,Ze)):(ft.flags|=1048576,Ze)}function ve(ft){return v&&ft.alternate===null&&(ft.flags|=33554434),ft}function Le(ft,Ze,ht,Ft){return Ze===null||Ze.tag!==6?(Ze=fp(ht,ft.mode,Ft),Ze.return=ft,Ze):(Ze=k(Ze,ht),Ze.return=ft,Ze)}function nt(ft,Ze,ht,Ft){var _n=ht.type;return _n===mu?jt(ft,Ze,ht.props.children,Ft,ht.key):Ze!==null&&(Ze.elementType===_n||typeof _n=="object"&&_n!==null&&_n.$$typeof===lc&&Yt(_n)===Ze.type)?(Ze=k(Ze,ht.props),qt(Ze,ht),Ze.return=ft,Ze):(Ze=bf(ht.type,ht.key,ht.props,null,ft.mode,Ft),qt(Ze,ht),Ze.return=ft,Ze)}function wt(ft,Ze,ht,Ft){return Ze===null||Ze.tag!==4||Ze.stateNode.containerInfo!==ht.containerInfo||Ze.stateNode.implementation!==ht.implementation?(Ze=xo(ht,ft.mode,Ft),Ze.return=ft,Ze):(Ze=k(Ze,ht.children||[]),Ze.return=ft,Ze)}function jt(ft,Ze,ht,Ft,_n){return Ze===null||Ze.tag!==7?(Ze=hu(ht,ft.mode,Ft,_n),Ze.return=ft,Ze):(Ze=k(Ze,ht),Ze.return=ft,Ze)}function nn(ft,Ze,ht){if(typeof Ze=="string"&&Ze!==""||typeof Ze=="number"||typeof Ze=="bigint")return Ze=fp(""+Ze,ft.mode,ht),Ze.return=ft,Ze;if(typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case pu:return ht=bf(Ze.type,Ze.key,Ze.props,null,ft.mode,ht),qt(ht,Ze),ht.return=ft,ht;case yl:return Ze=xo(Ze,ft.mode,ht),Ze.return=ft,Ze;case lc:var Ft=Ze._init;return Ze=Ft(Ze._payload),nn(ft,Ze,ht)}if(Su(Ze)||o(Ze))return Ze=hu(Ze,ft.mode,ht,null),Ze.return=ft,Ze;if(typeof Ze.then=="function")return nn(ft,sn(Ze),ht);if(Ze.$$typeof===vu)return nn(ft,hf(ft,Ze),ht);Dt(ft,Ze)}return null}function Ht(ft,Ze,ht,Ft){var _n=Ze!==null?Ze.key:null;if(typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint")return _n!==null?null:Le(ft,Ze,""+ht,Ft);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case pu:return ht.key===_n?nt(ft,Ze,ht,Ft):null;case yl:return ht.key===_n?wt(ft,Ze,ht,Ft):null;case lc:return _n=ht._init,ht=_n(ht._payload),Ht(ft,Ze,ht,Ft)}if(Su(ht)||o(ht))return _n!==null?null:jt(ft,Ze,ht,Ft,null);if(typeof ht.then=="function")return Ht(ft,Ze,sn(ht),Ft);if(ht.$$typeof===vu)return Ht(ft,Ze,hf(ft,ht),Ft);Dt(ft,ht)}return null}function Yn(ft,Ze,ht,Ft,_n){if(typeof Ft=="string"&&Ft!==""||typeof Ft=="number"||typeof Ft=="bigint")return ft=ft.get(ht)||null,Le(Ze,ft,""+Ft,_n);if(typeof Ft=="object"&&Ft!==null){switch(Ft.$$typeof){case pu:return ft=ft.get(Ft.key===null?ht:Ft.key)||null,nt(Ze,ft,Ft,_n);case yl:return ft=ft.get(Ft.key===null?ht:Ft.key)||null,wt(Ze,ft,Ft,_n);case lc:var er=Ft._init;return Ft=er(Ft._payload),Yn(ft,Ze,ht,Ft,_n)}if(Su(Ft)||o(Ft))return ft=ft.get(ht)||null,jt(Ze,ft,Ft,_n,null);if(typeof Ft.then=="function")return Yn(ft,Ze,ht,sn(Ft),_n);if(Ft.$$typeof===vu)return Yn(ft,Ze,ht,hf(Ze,Ft),_n);Dt(Ze,Ft)}return null}function xs(ft,Ze,ht,Ft){for(var _n=null,er=null,Nn=Ze,hi=Ze=0,ar=null;Nn!==null&&hi<ht.length;hi++){Nn.index>hi?(ar=Nn,Nn=null):ar=Nn.sibling;var vi=Ht(ft,Nn,ht[hi],Ft);if(vi===null){Nn===null&&(Nn=ar);break}v&&Nn&&vi.alternate===null&&S(ft,Nn),Ze=j(vi,Ze,hi),er===null?_n=vi:er.sibling=vi,er=vi,Nn=ar}if(hi===ht.length)return M(ft,Nn),Ri&&q(ft,hi),_n;if(Nn===null){for(;hi<ht.length;hi++)Nn=nn(ft,ht[hi],Ft),Nn!==null&&(Ze=j(Nn,Ze,hi),er===null?_n=Nn:er.sibling=Nn,er=Nn);return Ri&&q(ft,hi),_n}for(Nn=N(Nn);hi<ht.length;hi++)ar=Yn(Nn,ft,hi,ht[hi],Ft),ar!==null&&(v&&ar.alternate!==null&&Nn.delete(ar.key===null?hi:ar.key),Ze=j(ar,Ze,hi),er===null?_n=ar:er.sibling=ar,er=ar);return v&&Nn.forEach(function(Lu){return S(ft,Lu)}),Ri&&q(ft,hi),_n}function Jd(ft,Ze,ht,Ft){if(ht==null)throw Error(a(151));for(var _n=null,er=null,Nn=Ze,hi=Ze=0,ar=null,vi=ht.next();Nn!==null&&!vi.done;hi++,vi=ht.next()){Nn.index>hi?(ar=Nn,Nn=null):ar=Nn.sibling;var Lu=Ht(ft,Nn,vi.value,Ft);if(Lu===null){Nn===null&&(Nn=ar);break}v&&Nn&&Lu.alternate===null&&S(ft,Nn),Ze=j(Lu,Ze,hi),er===null?_n=Lu:er.sibling=Lu,er=Lu,Nn=ar}if(vi.done)return M(ft,Nn),Ri&&q(ft,hi),_n;if(Nn===null){for(;!vi.done;hi++,vi=ht.next())vi=nn(ft,vi.value,Ft),vi!==null&&(Ze=j(vi,Ze,hi),er===null?_n=vi:er.sibling=vi,er=vi);return Ri&&q(ft,hi),_n}for(Nn=N(Nn);!vi.done;hi++,vi=ht.next())vi=Yn(Nn,ft,hi,vi.value,Ft),vi!==null&&(v&&vi.alternate!==null&&Nn.delete(vi.key===null?hi:vi.key),Ze=j(vi,Ze,hi),er===null?_n=vi:er.sibling=vi,er=vi);return v&&Nn.forEach(function(q_){return S(ft,q_)}),Ri&&q(ft,hi),_n}function Pf(ft,Ze,ht,Ft){if(typeof ht=="object"&&ht!==null&&ht.type===mu&&ht.key===null&&(ht=ht.props.children),typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case pu:e:{for(var _n=ht.key;Ze!==null;){if(Ze.key===_n){if(_n=ht.type,_n===mu){if(Ze.tag===7){M(ft,Ze.sibling),Ft=k(Ze,ht.props.children),Ft.return=ft,ft=Ft;break e}}else if(Ze.elementType===_n||typeof _n=="object"&&_n!==null&&_n.$$typeof===lc&&Yt(_n)===Ze.type){M(ft,Ze.sibling),Ft=k(Ze,ht.props),qt(Ft,ht),Ft.return=ft,ft=Ft;break e}M(ft,Ze);break}else S(ft,Ze);Ze=Ze.sibling}ht.type===mu?(Ft=hu(ht.props.children,ft.mode,Ft,ht.key),Ft.return=ft,ft=Ft):(Ft=bf(ht.type,ht.key,ht.props,null,ft.mode,Ft),qt(Ft,ht),Ft.return=ft,ft=Ft)}return ve(ft);case yl:e:{for(_n=ht.key;Ze!==null;){if(Ze.key===_n)if(Ze.tag===4&&Ze.stateNode.containerInfo===ht.containerInfo&&Ze.stateNode.implementation===ht.implementation){M(ft,Ze.sibling),Ft=k(Ze,ht.children||[]),Ft.return=ft,ft=Ft;break e}else{M(ft,Ze);break}else S(ft,Ze);Ze=Ze.sibling}Ft=xo(ht,ft.mode,Ft),Ft.return=ft,ft=Ft}return ve(ft);case lc:return _n=ht._init,ht=_n(ht._payload),Pf(ft,Ze,ht,Ft)}if(Su(ht))return xs(ft,Ze,ht,Ft);if(o(ht)){if(_n=o(ht),typeof _n!="function")throw Error(a(150));return ht=_n.call(ht),Jd(ft,Ze,ht,Ft)}if(typeof ht.then=="function")return Pf(ft,Ze,sn(ht),Ft);if(ht.$$typeof===vu)return Pf(ft,Ze,hf(ft,ht),Ft);Dt(ft,ht)}return typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint"?(ht=""+ht,Ze!==null&&Ze.tag===6?(M(ft,Ze.sibling),Ft=k(Ze,ht),Ft.return=ft,ft=Ft):(M(ft,Ze),Ft=fp(ht,ft.mode,Ft),Ft.return=ft,ft=Ft),ve(ft)):M(ft,Ze)}return function(ft,Ze,ht,Ft){try{Va=0;var _n=Pf(ft,Ze,ht,Ft);return Tf=null,_n}catch(Nn){if(Nn===Sp)throw Nn;var er=t(29,Nn,null,ft.mode);return er.lanes=Ft,er.return=ft,er}finally{}}}function lr(v,S){v=Vs,E(ks,v),E(Gs,S),Vs=v|S.baseLanes}function Kr(){E(ks,Vs),E(Gs,Gs.current)}function zn(){Vs=ks.current,b(Gs),b(ks)}function Ai(v){var S=v.alternate;E(fr,fr.current&1),E(Ao,v),ms===null&&(S===null||Gs.current!==null||S.memoizedState!==null)&&(ms=v)}function br(v){if(v.tag===22){if(E(fr,fr.current),E(Ao,v),ms===null){var S=v.alternate;S!==null&&S.memoizedState!==null&&(ms=v)}}else wn()}function wn(){E(fr,fr.current),E(Ao,Ao.current)}function Mn(v){b(Ao),ms===v&&(ms=null),b(fr)}function Qn(v){for(var S=v;S!==null;){if(S.tag===13){var M=S.memoizedState;if(M!==null&&(M=M.dehydrated,M===null||Cf(M)||mp(M)))return S}else if(S.tag===19&&S.memoizedProps.revealOrder!==void 0){if((S.flags&128)!==0)return S}else if(S.child!==null){S.child.return=S,S=S.child;continue}if(S===v)break;for(;S.sibling===null;){if(S.return===null||S.return===v)return null;S=S.return}S.sibling.return=S.return,S=S.sibling}return null}function un(){throw Error(a(321))}function ii(v,S){if(S===null)return!1;for(var M=0;M<S.length&&M<v.length;M++)if(!no(v[M],S[M]))return!1;return!0}function ln(v,S,M,N,k,j){return mc=j,Wn=S,S.memoizedState=null,S.updateQueue=null,S.lanes=0,Un.H=v===null||v.memoizedState===null?yc:ro,Tu=!1,j=M(N,k),Tu=!1,Rf&&(j=Nr(S,M,N,k)),Lr(v),j}function Lr(v){Un.H=$r;var S=Ni!==null&&Ni.next!==null;if(mc=0,Cr=Ni=Wn=null,gc=!1,Wd=0,vc=null,S)throw Error(a(300));v===null||ta||(v=v.dependencies,v!==null&&df(v)&&(ta=!0))}function Nr(v,S,M,N){Wn=v;var k=0;do{if(Rf&&(vc=null),Wd=0,Rf=!1,25<=k)throw Error(a(301));if(k+=1,Cr=Ni=null,v.updateQueue!=null){var j=v.updateQueue;j.lastEffect=null,j.events=null,j.stores=null,j.memoCache!=null&&(j.memoCache.index=0)}Un.H=Ou,j=S(M,N)}while(Rf);return j}function Tr(){var v=Un.H,S=v.useState()[0];return S=typeof S.then=="function"?rt(S):S,v=v.useState()[0],(Ni!==null?Ni.memoizedState:null)!==v&&(Wn.flags|=1024),S}function Rr(){var v=Ru!==0;return Ru=0,v}function cr(v,S,M){S.updateQueue=v.updateQueue,S.flags&=-2053,v.lanes&=~M}function Sr(v){if(gc){for(v=v.memoizedState;v!==null;){var S=v.queue;S!==null&&(S.pending=null),v=v.next}gc=!1}mc=0,Cr=Ni=Wn=null,Rf=!1,Wd=Ru=0,vc=null}function le(){var v={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cr===null?Wn.memoizedState=Cr=v:Cr=Cr.next=v,Cr}function Ue(){if(Ni===null){var v=Wn.alternate;v=v!==null?v.memoizedState:null}else v=Ni.next;var S=Cr===null?Wn.memoizedState:Cr.next;if(S!==null)Cr=S,Ni=v;else{if(v===null)throw Wn.alternate===null?Error(a(467)):Error(a(310));Ni=v,v={memoizedState:Ni.memoizedState,baseState:Ni.baseState,baseQueue:Ni.baseQueue,queue:Ni.queue,next:null},Cr===null?Wn.memoizedState=Cr=v:Cr=Cr.next=v}return Cr}function rt(v){var S=Wd;return Wd+=1,vc===null&&(vc=[]),v=It(vc,v,S),S=Wn,(Cr===null?S.memoizedState:Cr.next)===null&&(S=S.alternate,Un.H=S===null||S.memoizedState===null?yc:ro),v}function Je(v){if(v!==null&&typeof v=="object"){if(typeof v.then=="function")return rt(v);if(v.$$typeof===vu)return sa(v)}throw Error(a(438,String(v)))}function $e(v){var S=null,M=Wn.updateQueue;if(M!==null&&(S=M.memoCache),S==null){var N=Wn.alternate;N!==null&&(N=N.updateQueue,N!==null&&(N=N.memoCache,N!=null&&(S={data:N.data.map(function(k){return k.slice()}),index:0})))}if(S==null&&(S={data:[],index:0}),M===null&&(M=by(),Wn.updateQueue=M),M.memoCache=S,M=S.data[S.index],M===void 0)for(M=S.data[S.index]=Array(v),N=0;N<v;N++)M[N]=si;return S.index++,M}function Tt(v,S){return typeof S=="function"?S(v):S}function Vt(v){var S=Ue();return Kt(S,Ni,v)}function Kt(v,S,M){var N=v.queue;if(N===null)throw Error(a(311));N.lastRenderedReducer=M;var k=v.baseQueue,j=N.pending;if(j!==null){if(k!==null){var ve=k.next;k.next=j.next,j.next=ve}S.baseQueue=k=j,N.pending=null}if(j=v.baseState,k===null)v.memoizedState=j;else{S=k.next;var Le=ve=null,nt=null,wt=S,jt=!1;do{var nn=wt.lane&-536870913;if(nn!==wt.lane?(gi&nn)===nn:(mc&nn)===nn){var Ht=wt.revertLane;if(Ht===0)nt!==null&&(nt=nt.next={lane:0,revertLane:0,action:wt.action,hasEagerState:wt.hasEagerState,eagerState:wt.eagerState,next:null}),nn===mr&&(jt=!0);else if((mc&Ht)===Ht){wt=wt.next,Ht===mr&&(jt=!0);continue}else nn={lane:0,revertLane:wt.revertLane,action:wt.action,hasEagerState:wt.hasEagerState,eagerState:wt.eagerState,next:null},nt===null?(Le=nt=nn,ve=j):nt=nt.next=nn,Wn.lanes|=Ht,Ss|=Ht;nn=wt.action,Tu&&M(j,nn),j=wt.hasEagerState?wt.eagerState:M(j,nn)}else Ht={lane:nn,revertLane:wt.revertLane,action:wt.action,hasEagerState:wt.hasEagerState,eagerState:wt.eagerState,next:null},nt===null?(Le=nt=Ht,ve=j):nt=nt.next=Ht,Wn.lanes|=nn,Ss|=nn;wt=wt.next}while(wt!==null&&wt!==S);if(nt===null?ve=j:nt.next=Le,!no(j,v.memoizedState)&&(ta=!0,jt&&(M=_a,M!==null)))throw M;v.memoizedState=j,v.baseState=ve,v.baseQueue=nt,N.lastRenderedState=j}return k===null&&(N.lanes=0),[v.memoizedState,N.dispatch]}function Wt(v){var S=Ue(),M=S.queue;if(M===null)throw Error(a(311));M.lastRenderedReducer=v;var N=M.dispatch,k=M.pending,j=S.memoizedState;if(k!==null){M.pending=null;var ve=k=k.next;do j=v(j,ve.action),ve=ve.next;while(ve!==k);no(j,S.memoizedState)||(ta=!0),S.memoizedState=j,S.baseQueue===null&&(S.baseState=j),M.lastRenderedState=j}return[j,N]}function gn(v,S,M){var N=Wn,k=Ue(),j=Ri;if(j){if(M===void 0)throw Error(a(407));M=M()}else M=S();var ve=!no((Ni||k).memoizedState,M);if(ve&&(k.memoizedState=M,ta=!0),k=k.queue,Os(Hn.bind(null,N,k,v),[v]),k.getSnapshot!==S||ve||Cr!==null&&Cr.memoizedState.tag&1){if(N.flags|=2048,Or(9,on.bind(null,N,k,M,S),{destroy:void 0},null),Zi===null)throw Error(a(349));j||(mc&60)!==0||fn(N,S,M)}return M}function fn(v,S,M){v.flags|=16384,v={getSnapshot:S,value:M},S=Wn.updateQueue,S===null?(S=by(),Wn.updateQueue=S,S.stores=[v]):(M=S.stores,M===null?S.stores=[v]:M.push(v))}function on(v,S,M,N){S.value=M,S.getSnapshot=N,kn(S)&&Vn(v)}function Hn(v,S,M){return M(function(){kn(S)&&Vn(v)})}function kn(v){var S=v.getSnapshot;v=v.value;try{var M=S();return!no(v,M)}catch{return!0}}function Vn(v){var S=Ye(v,2);S!==null&&ur(S,v,2)}function In(v){var S=le();if(typeof v=="function"){var M=v;if(v=M(),Tu){K(!0);try{M()}finally{K(!1)}}}return S.memoizedState=S.baseState=v,S.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tt,lastRenderedState:v},S}function bn(v,S,M,N){return v.baseState=M,Kt(v,Ni,typeof N=="function"?N:Tt)}function cn(v,S,M,N,k){if(jl(v))throw Error(a(485));if(v=S.action,v!==null){var j={payload:k,action:v,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ve){j.listeners.push(ve)}};Un.T!==null?M(!0):j.isTransition=!1,N(j),M=S.pending,M===null?(j.next=S.pending=j,bi(S,j)):(j.next=M.next,S.pending=M.next=j)}}function bi(v,S){var M=S.action,N=S.payload,k=v.state;if(S.isTransition){var j=Un.T,ve={};Un.T=ve;try{var Le=M(k,N),nt=Un.S;nt!==null&&nt(ve,Le),jn(v,S,Le)}catch(wt){Tn(v,S,wt)}finally{Un.T=j}}else try{j=M(k,N),jn(v,S,j)}catch(wt){Tn(v,S,wt)}}function jn(v,S,M){M!==null&&typeof M=="object"&&typeof M.then=="function"?M.then(function(N){Gn(v,S,N)},function(N){return Tn(v,S,N)}):Gn(v,S,M)}function Gn(v,S,M){S.status="fulfilled",S.value=M,Cn(S),v.state=M,S=v.pending,S!==null&&(M=S.next,M===S?v.pending=null:(M=M.next,S.next=M,bi(v,M)))}function Tn(v,S,M){var N=v.pending;if(v.pending=null,N!==null){N=N.next;do S.status="rejected",S.reason=M,Cn(S),S=S.next;while(S!==N)}v.action=null}function Cn(v){v=v.listeners;for(var S=0;S<v.length;S++)(0,v[S])()}function Zn(v,S){return S}function An(v,S){if(Ri){var M=Zi.formState;if(M!==null){e:{var N=Wn;if(Ri){if(Ji){var k=L_(Ji,Fs);if(k){Ji=xu(k),N=Sl(k);break e}}Ae(N)}N=!1}N&&(S=M[0])}}M=le(),M.memoizedState=M.baseState=S,N={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zn,lastRenderedState:S},M.queue=N,M=ko.bind(null,Wn,N),N.dispatch=M,N=In(!1);var j=$o.bind(null,Wn,!1,N.queue);return N=le(),k={state:S,dispatch:null,action:v,pending:null},N.queue=k,M=cn.bind(null,Wn,k,j,M),k.dispatch=M,N.memoizedState=v,[S,M,!1]}function _i(v){var S=Ue();return Pi(S,Ni,v)}function Pi(v,S,M){S=Kt(v,S,Zn)[0],v=Vt(Tt)[0],S=typeof S=="object"&&S!==null&&typeof S.then=="function"?rt(S):S;var N=Ue(),k=N.queue,j=k.dispatch;return M!==N.memoizedState&&(Wn.flags|=2048,Or(9,$i.bind(null,k,M),{destroy:void 0},null)),[S,j,v]}function $i(v,S){v.action=S}function qi(v){var S=Ue(),M=Ni;if(M!==null)return Pi(S,M,v);Ue(),S=S.memoizedState,M=Ue();var N=M.queue.dispatch;return M.memoizedState=v,[S,N,!1]}function Or(v,S,M,N){return v={tag:v,create:S,inst:M,deps:N,next:null},S=Wn.updateQueue,S===null&&(S=by(),Wn.updateQueue=S),M=S.lastEffect,M===null?S.lastEffect=v.next=v:(N=M.next,M.next=v,v.next=N,S.lastEffect=v),v}function Wi(){return Ue().memoizedState}function vo(v,S,M,N){var k=le();Wn.flags|=v,k.memoizedState=Or(1|S,M,{destroy:void 0},N===void 0?null:N)}function Qa(v,S,M,N){var k=Ue();N=N===void 0?null:N;var j=k.memoizedState.inst;Ni!==null&&N!==null&&ii(N,Ni.memoizedState.deps)?k.memoizedState=Or(S,M,j,N):(Wn.flags|=v,k.memoizedState=Or(1|S,M,j,N))}function wa(v,S){vo(8390656,8,v,S)}function Os(v,S){Qa(2048,8,v,S)}function lf(v,S){return Qa(4,2,v,S)}function Qc(v,S){return Qa(4,4,v,S)}function _r(v,S){if(typeof S=="function"){v=v();var M=S(v);return function(){typeof M=="function"?M():S(null)}}if(S!=null)return v=v(),S.current=v,function(){S.current=null}}function Go(v,S,M){M=M!=null?M.concat([v]):null,Qa(4,4,_r.bind(null,S,v),M)}function La(){}function ma(v,S){var M=Ue();S=S===void 0?null:S;var N=M.memoizedState;return S!==null&&ii(S,N[1])?N[0]:(M.memoizedState=[v,S],v)}function Aa(v,S){var M=Ue();S=S===void 0?null:S;var N=M.memoizedState;if(S!==null&&ii(S,N[1]))return N[0];if(N=v(),Tu){K(!0);try{v()}finally{K(!1)}}return M.memoizedState=[N,S],N}function Is(v,S,M){return M===void 0||(mc&1073741824)!==0?v.memoizedState=S:(v.memoizedState=M,v=rp(),Wn.lanes|=v,Ss|=v,M)}function yo(v,S,M,N){return no(M,S)?M:Gs.current!==null?(v=Is(v,M,N),no(v,S)||(ta=!0),v):(mc&42)===0?(ta=!0,v.memoizedState=M):(v=rp(),Wn.lanes|=v,Ss|=v,S)}function Vl(v,S,M,N,k){var j=_u();to(j!==0&&8>j?j:8);var ve=Un.T,Le={};Un.T=Le,$o(v,!1,S,M);try{var nt=k(),wt=Un.S;if(wt!==null&&wt(Le,nt),nt!==null&&typeof nt=="object"&&typeof nt.then=="function"){var jt=Ot(nt,N);Na(v,S,jt,Ua(v))}else Na(v,S,N,Ua(v))}catch(nn){Na(v,S,{then:function(){},status:"rejected",reason:nn},Ua())}finally{to(j),Un.T=ve}}function tn(v){var S=v.memoizedState;if(S!==null)return S;S={memoizedState:xf,baseState:xf,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tt,lastRenderedState:xf},next:null};var M={};return S.next={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tt,lastRenderedState:M},next:null},v.memoizedState=S,v=v.alternate,v!==null&&(v.memoizedState=S),S}function Sn(){return sa(uc)}function Mi(){return Ue().memoizedState}function xi(){return Ue().memoizedState}function Hi(v){for(var S=v.return;S!==null;){switch(S.tag){case 24:case 3:var M=Ua();v=Ct(M);var N=je(S,v,M);N!==null&&(ur(N,S,M),it(N,S,M)),S={cache:bo()},v.payload=S;return}S=S.return}}function Bs(v,S,M){var N=Ua();M={lane:N,revertLane:0,action:M,hasEagerState:!1,eagerState:null,next:null},jl(v)?ga(S,M):(M=Ie(v,S,M,N),M!==null&&(ur(M,v,N),sl(M,S,N)))}function ko(v,S,M){var N=Ua();Na(v,S,M,N)}function Na(v,S,M,N){var k={lane:N,revertLane:0,action:M,hasEagerState:!1,eagerState:null,next:null};if(jl(v))ga(S,k);else{var j=v.alternate;if(v.lanes===0&&(j===null||j.lanes===0)&&(j=S.lastRenderedReducer,j!==null))try{var ve=S.lastRenderedState,Le=j(ve,M);if(k.hasEagerState=!0,k.eagerState=Le,no(Le,ve))return Fe(v,S,k,0),Zi===null&&re(),!1}catch{}finally{}if(M=Ie(v,S,k,N),M!==null)return ur(M,v,N),sl(M,S,N),!0}return!1}function $o(v,S,M,N){if(N={lane:2,revertLane:gt(),action:N,hasEagerState:!1,eagerState:null,next:null},jl(v)){if(S)throw Error(a(479))}else S=Ie(v,M,N,2),S!==null&&ur(S,v,2)}function jl(v){var S=v.alternate;return v===Wn||S!==null&&S===Wn}function ga(v,S){Rf=gc=!0;var M=v.pending;M===null?S.next=S:(S.next=M.next,M.next=S),v.pending=S}function sl(v,S,M){if((M&4194176)!==0){var N=S.lanes;N&=v.pendingLanes,M|=N,S.lanes=M,Z(v,M)}}function ll(v,S,M,N){S=v.memoizedState,M=M(N,S),M=M==null?S:zr({},S,M),v.memoizedState=M,v.lanes===0&&(v.updateQueue.baseState=M)}function Wl(v,S,M,N,k,j,ve){return v=v.stateNode,typeof v.shouldComponentUpdate=="function"?v.shouldComponentUpdate(N,j,ve):S.prototype&&S.prototype.isPureReactComponent?!Qe(M,N)||!Qe(k,j):!0}function Yh(v,S,M,N){v=S.state,typeof S.componentWillReceiveProps=="function"&&S.componentWillReceiveProps(M,N),typeof S.UNSAFE_componentWillReceiveProps=="function"&&S.UNSAFE_componentWillReceiveProps(M,N),S.state!==v&&Xd.enqueueReplaceState(S,S.state,null)}function Vo(v,S){var M=S;if("ref"in S){M={};for(var N in S)N!=="ref"&&(M[N]=S[N])}if(v=v.defaultProps){M===S&&(M=zr({},M));for(var k in v)M[k]===void 0&&(M[k]=v[k])}return M}function Zc(v,S){try{var M=v.onUncaughtError;M(S.value,{componentStack:S.stack})}catch(N){setTimeout(function(){throw N})}}function eu(v,S,M){try{var N=v.onCaughtError;N(M.value,{componentStack:M.stack,errorBoundary:S.tag===1?S.stateNode:null})}catch(k){setTimeout(function(){throw k})}}function Za(v,S,M){return M=Ct(M),M.tag=3,M.payload={element:null},M.callback=function(){Zc(v,S)},M}function qh(v){return v=Ct(v),v.tag=3,v}function Ym(v,S,M,N){var k=M.type.getDerivedStateFromError;if(typeof k=="function"){var j=N.value;v.payload=function(){return k(j)},v.callback=function(){eu(S,M,N)}}var ve=M.stateNode;ve!==null&&typeof ve.componentDidCatch=="function"&&(v.callback=function(){eu(S,M,N),typeof k!="function"&&(Ml===null?Ml=new Set([this]):Ml.add(this));var Le=N.stack;this.componentDidCatch(N.value,{componentStack:Le!==null?Le:""})})}function k0(v,S,M,N,k){if(M.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){if(S=M.alternate,S!==null&&dl(S,M,k,!0),M=Ao.current,M!==null){switch(M.tag){case 13:return ms===null?ds():M.alternate===null&&Er===0&&(Er=3),M.flags&=-257,M.flags|=65536,M.lanes=k,N===io?M.flags|=16384:(S=M.updateQueue,S===null?M.updateQueue=new Set([N]):S.add(N),du(v,N,k)),!1;case 22:return M.flags|=65536,N===io?M.flags|=16384:(S=M.updateQueue,S===null?(S={transitions:null,markerInstances:null,retryQueue:new Set([N])},M.updateQueue=S):(M=S.retryQueue,M===null?S.retryQueue=new Set([N]):M.add(N)),du(v,N,k)),!1}throw Error(a(435,M.tag))}return du(v,N,k),ds(),!1}if(Ri)return S=Ao.current,S!==null?((S.flags&65536)===0&&(S.flags|=256),S.flags|=65536,S.lanes=k,N!==bp&&(v=Error(a(422),{cause:N}),Ce(ue(v,M)))):(N!==bp&&(S=Error(a(423),{cause:N}),Ce(ue(S,M))),v=v.current.alternate,v.flags|=65536,k&=-k,v.lanes|=k,N=ue(N,M),k=Za(v.stateNode,N,k),Se(v,k),Er!==4&&(Er=2)),!1;var j=Error(a(520),{cause:N});if(j=ue(j,M),qd===null?qd=[j]:qd.push(j),Er!==4&&(Er=2),S===null)return!0;N=ue(N,M),M=S;do{switch(M.tag){case 3:return M.flags|=65536,v=k&-k,M.lanes|=v,v=Za(M.stateNode,N,v),Se(M,v),!1;case 1:if(S=M.type,j=M.stateNode,(M.flags&128)===0&&(typeof S.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Ml===null||!Ml.has(j))))return M.flags|=65536,k&=-k,M.lanes|=k,k=qh(k),Ym(k,v,M,N),Se(M,k),!1}M=M.return}while(M!==null);return!1}function Jr(v,S,M,N){S.child=v===null?El(S,null,M,N):Mu(S,v.child,M,N)}function cf(v,S,M,N,k){M=M.render;var j=S.ref;if("ref"in N){var ve={};for(var Le in N)Le!=="ref"&&(ve[Le]=N[Le])}else ve=N;return cs(S),N=ln(v,S,M,ve,j,k),Le=Rr(),v!==null&&!ta?(cr(v,S,k),Ds(v,S,k)):(Ri&&Le&&me(S),S.flags|=1,Jr(v,S,N,k),S.child)}function va(v,S,M,N,k){if(v===null){var j=M.type;return typeof j=="function"&&!ic(j)&&j.defaultProps===void 0&&M.compare===null?(S.tag=15,S.type=j,qm(v,S,j,N,k)):(v=bf(M.type,null,N,S,S.mode,k),v.ref=S.ref,v.return=S,S.child=v)}if(j=v.child,!Qh(v,k)){var ve=j.memoizedProps;if(M=M.compare,M=M!==null?M:Qe,M(ve,N)&&v.ref===S.ref)return Ds(v,S,k)}return S.flags|=1,v=rc(j,N),v.ref=S.ref,v.return=S,S.child=v}function qm(v,S,M,N,k){if(v!==null){var j=v.memoizedProps;if(Qe(j,N)&&v.ref===S.ref)if(ta=!1,S.pendingProps=N=j,Qh(v,k))(v.flags&131072)!==0&&(ta=!0);else return S.lanes=v.lanes,Ds(v,S,k)}return _d(v,S,M,N,k)}function Km(v,S,M){var N=S.pendingProps,k=N.children,j=(S.stateNode._pendingVisibility&2)!==0,ve=v!==null?v.memoizedState:null;if(uf(v,S),N.mode==="hidden"||j){if((S.flags&128)!==0){if(N=ve!==null?ve.baseLanes|M:M,v!==null){for(k=S.child=v.child,j=0;k!==null;)j=j|k.lanes|k.childLanes,k=k.sibling;S.childLanes=j&~N}else S.childLanes=0,S.child=null;return Jm(v,S,N,M)}if((M&536870912)!==0)S.memoizedState={baseLanes:0,cachePool:null},v!==null&&iu(S,ve!==null?ve.cachePool:null),ve!==null?lr(S,ve):Kr(),br(S);else return S.lanes=S.childLanes=536870912,Jm(v,S,ve!==null?ve.baseLanes|M:M,M)}else ve!==null?(iu(S,ve.cachePool),lr(S,ve),wn(),S.memoizedState=null):(v!==null&&iu(S,null),Kr(),wn());return Jr(v,S,k,M),S.child}function Jm(v,S,M,N){var k=wd();return k=k===null?null:{parent:Ls?Br._currentValue:Br._currentValue2,pool:k},S.memoizedState={baseLanes:M,cachePool:k},v!==null&&iu(S,null),Kr(),br(S),v!==null&&dl(v,S,N,!0),null}function uf(v,S){var M=S.ref;if(M===null)v!==null&&v.ref!==null&&(S.flags|=2097664);else{if(typeof M!="function"&&typeof M!="object")throw Error(a(284));(v===null||v.ref!==M)&&(S.flags|=2097664)}}function _d(v,S,M,N,k){return cs(S),M=ln(v,S,M,N,void 0,k),N=Rr(),v!==null&&!ta?(cr(v,S,k),Ds(v,S,k)):(Ri&&N&&me(S),S.flags|=1,Jr(v,S,M,k),S.child)}function Qm(v,S,M,N,k,j){return cs(S),S.updateQueue=null,M=Nr(S,N,M,k),Lr(v),N=Rr(),v!==null&&!ta?(cr(v,S,j),Ds(v,S,j)):(Ri&&N&&me(S),S.flags|=1,Jr(v,S,M,j),S.child)}function Zm(v,S,M,N,k){if(cs(S),S.stateNode===null){var j=Af,ve=M.contextType;typeof ve=="object"&&ve!==null&&(j=sa(ve)),j=new M(N,j),S.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,j.updater=Xd,S.stateNode=j,j._reactInternals=S,j=S.stateNode,j.props=N,j.state=S.memoizedState,j.refs={},at(S),ve=M.contextType,j.context=typeof ve=="object"&&ve!==null?sa(ve):Af,j.state=S.memoizedState,ve=M.getDerivedStateFromProps,typeof ve=="function"&&(ll(S,M,ve,N),j.state=S.memoizedState),typeof M.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(ve=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),ve!==j.state&&Xd.enqueueReplaceState(j,j.state,null),St(S,N,j,k),Ge(),j.state=S.memoizedState),typeof j.componentDidMount=="function"&&(S.flags|=4194308),N=!0}else if(v===null){j=S.stateNode;var Le=S.memoizedProps,nt=Vo(M,Le);j.props=nt;var wt=j.context,jt=M.contextType;ve=Af,typeof jt=="object"&&jt!==null&&(ve=sa(jt));var nn=M.getDerivedStateFromProps;jt=typeof nn=="function"||typeof j.getSnapshotBeforeUpdate=="function",Le=S.pendingProps!==Le,jt||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(Le||wt!==ve)&&Yh(S,j,N,ve),ka=!1;var Ht=S.memoizedState;j.state=Ht,St(S,N,j,k),Ge(),wt=S.memoizedState,Le||Ht!==wt||ka?(typeof nn=="function"&&(ll(S,M,nn,N),wt=S.memoizedState),(nt=ka||Wl(S,M,nt,N,Ht,wt,ve))?(jt||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(S.flags|=4194308)):(typeof j.componentDidMount=="function"&&(S.flags|=4194308),S.memoizedProps=N,S.memoizedState=wt),j.props=N,j.state=wt,j.context=ve,N=nt):(typeof j.componentDidMount=="function"&&(S.flags|=4194308),N=!1)}else{j=S.stateNode,_t(v,S),ve=S.memoizedProps,jt=Vo(M,ve),j.props=jt,nn=S.pendingProps,Ht=j.context,wt=M.contextType,nt=Af,typeof wt=="object"&&wt!==null&&(nt=sa(wt)),Le=M.getDerivedStateFromProps,(wt=typeof Le=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(ve!==nn||Ht!==nt)&&Yh(S,j,N,nt),ka=!1,Ht=S.memoizedState,j.state=Ht,St(S,N,j,k),Ge();var Yn=S.memoizedState;ve!==nn||Ht!==Yn||ka||v!==null&&v.dependencies!==null&&df(v.dependencies)?(typeof Le=="function"&&(ll(S,M,Le,N),Yn=S.memoizedState),(jt=ka||Wl(S,M,jt,N,Ht,Yn,nt)||v!==null&&v.dependencies!==null&&df(v.dependencies))?(wt||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(N,Yn,nt),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(N,Yn,nt)),typeof j.componentDidUpdate=="function"&&(S.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(S.flags|=1024)):(typeof j.componentDidUpdate!="function"||ve===v.memoizedProps&&Ht===v.memoizedState||(S.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||ve===v.memoizedProps&&Ht===v.memoizedState||(S.flags|=1024),S.memoizedProps=N,S.memoizedState=Yn),j.props=N,j.state=Yn,j.context=nt,N=jt):(typeof j.componentDidUpdate!="function"||ve===v.memoizedProps&&Ht===v.memoizedState||(S.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||ve===v.memoizedProps&&Ht===v.memoizedState||(S.flags|=1024),N=!1)}return j=N,uf(v,S),N=(S.flags&128)!==0,j||N?(j=S.stateNode,M=N&&typeof M.getDerivedStateFromError!="function"?null:j.render(),S.flags|=1,v!==null&&N?(S.child=Mu(S,v.child,null,k),S.child=Mu(S,null,M,k)):Jr(v,S,M,k),S.memoizedState=j.state,v=S.child):v=Ds(v,S,k),v}function eg(v,S,M,N){return Be(),S.flags|=256,Jr(v,S,M,N),S.child}function xd(v){return{baseLanes:v,cachePool:Zh()}}function cl(v,S,M){return v=v!==null?v.childLanes&~M:0,S&&(v|=Qo),v}function ul(v,S,M){var N=S.pendingProps,k=!1,j=(S.flags&128)!==0,ve;if((ve=j)||(ve=v!==null&&v.memoizedState===null?!1:(fr.current&2)!==0),ve&&(k=!0,S.flags&=-129),ve=(S.flags&32)!==0,S.flags&=-33,v===null){if(Ri){if(k?Ai(S):wn(),Ri){var Le=Ji,nt;(nt=Le)&&(Le=z_(Le,Fs),Le!==null?(S.memoizedState={dehydrated:Le,treeContext:Us!==null?{id:xl,overflow:Cl}:null,retryLane:536870912},nt=t(18,null,null,0),nt.stateNode=Le,nt.return=S,S.child=nt,Gr=S,Ji=null,nt=!0):nt=!1),nt||Ae(S)}if(Le=S.memoizedState,Le!==null&&(Le=Le.dehydrated,Le!==null))return mp(Le)?S.lanes=16:S.lanes=536870912,null;Mn(S)}return Le=N.children,N=N.fallback,k?(wn(),k=S.mode,Le=Kh({mode:"hidden",children:Le},k),N=hu(N,k,M,null),Le.return=S,N.return=S,Le.sibling=N,S.child=Le,k=S.child,k.memoizedState=xd(M),k.childLanes=cl(v,ve,M),S.memoizedState=xp,N):(Ai(S),tu(S,Le))}if(nt=v.memoizedState,nt!==null&&(Le=nt.dehydrated,Le!==null)){if(j)S.flags&256?(Ai(S),S.flags&=-257,S=ff(v,S,M)):S.memoizedState!==null?(wn(),S.child=v.child,S.flags|=128,S=null):(wn(),k=N.fallback,Le=S.mode,N=Kh({mode:"visible",children:N.children},Le),k=hu(k,Le,M,null),k.flags|=2,N.return=S,k.return=S,N.sibling=k,S.child=N,Mu(S,v.child,null,M),N=S.child,N.memoizedState=xd(M),N.childLanes=cl(v,ve,M),S.memoizedState=xp,S=k);else if(Ai(S),mp(Le))ve=vg(Le).digest,N=Error(a(419)),N.stack="",N.digest=ve,Ce({value:N,source:null,stack:null}),S=ff(v,S,M);else if(ta||dl(v,S,M,!1),ve=(M&v.childLanes)!==0,ta||ve){if(ve=Zi,ve!==null){if(N=M&-M,(N&42)!==0)N=1;else switch(N){case 2:N=1;break;case 8:N=4;break;case 32:N=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:N=64;break;case 268435456:N=134217728;break;default:N=0}if(N=(N&(ve.suspendedLanes|M))!==0?0:N,N!==0&&N!==nt.retryLane)throw nt.retryLane=N,Ye(v,N),ur(ve,v,N),Sy}Cf(Le)||ds(),S=ff(v,S,M)}else Cf(Le)?(S.flags|=128,S.child=v.child,S=up.bind(null,v),P_(Le,S),S=null):(v=nt.treeContext,Co&&(Ji=ay(Le),Gr=S,Ri=!0,ps=null,Fs=!1,v!==null&&(Eo[Ga++]=xl,Eo[Ga++]=Cl,Eo[Ga++]=Us,xl=v.id,Cl=v.overflow,Us=S)),S=tu(S,N.children),S.flags|=4096);return S}return k?(wn(),k=N.fallback,Le=S.mode,nt=v.child,j=nt.sibling,N=rc(nt,{mode:"hidden",children:N.children}),N.subtreeFlags=nt.subtreeFlags&31457280,j!==null?k=rc(j,k):(k=hu(k,Le,M,null),k.flags|=2),k.return=S,N.return=S,N.sibling=k,S.child=N,N=k,k=S.child,Le=v.child.memoizedState,Le===null?Le=xd(M):(nt=Le.cachePool,nt!==null?(j=Ls?Br._currentValue:Br._currentValue2,nt=nt.parent!==j?{parent:j,pool:j}:nt):nt=Zh(),Le={baseLanes:Le.baseLanes|M,cachePool:nt}),k.memoizedState=Le,k.childLanes=cl(v,ve,M),S.memoizedState=xp,N):(Ai(S),M=v.child,v=M.sibling,M=rc(M,{mode:"visible",children:N.children}),M.return=S,M.sibling=null,v!==null&&(ve=S.deletions,ve===null?(S.deletions=[v],S.flags|=16):ve.push(v)),S.child=M,S.memoizedState=null,M)}function tu(v,S){return S=Kh({mode:"visible",children:S},v.mode),S.return=v,v.child=S}function Kh(v,S){return lg(v,S,0,null)}function ff(v,S,M){return Mu(S,v.child,null,M),v=tu(S,S.pendingProps.children),v.flags|=2,S.memoizedState=null,v}function Jh(v,S,M){v.lanes|=S;var N=v.alternate;N!==null&&(N.lanes|=S),Xl(v.return,S,M)}function Cd(v,S,M,N,k){var j=v.memoizedState;j===null?v.memoizedState={isBackwards:S,rendering:null,renderingStartTime:0,last:N,tail:M,tailMode:k}:(j.isBackwards=S,j.rendering=null,j.renderingStartTime=0,j.last=N,j.tail=M,j.tailMode=k)}function nu(v,S,M){var N=S.pendingProps,k=N.revealOrder,j=N.tail;if(Jr(v,S,N.children,M),N=fr.current,(N&2)!==0)N=N&1|2,S.flags|=128;else{if(v!==null&&(v.flags&128)!==0)e:for(v=S.child;v!==null;){if(v.tag===13)v.memoizedState!==null&&Jh(v,M,S);else if(v.tag===19)Jh(v,M,S);else if(v.child!==null){v.child.return=v,v=v.child;continue}if(v===S)break e;for(;v.sibling===null;){if(v.return===null||v.return===S)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}N&=1}switch(E(fr,N),k){case"forwards":for(M=S.child,k=null;M!==null;)v=M.alternate,v!==null&&Qn(v)===null&&(k=M),M=M.sibling;M=k,M===null?(k=S.child,S.child=null):(k=M.sibling,M.sibling=null),Cd(S,!1,k,M,j);break;case"backwards":for(M=null,k=S.child,S.child=null;k!==null;){if(v=k.alternate,v!==null&&Qn(v)===null){S.child=k;break}v=k.sibling,k.sibling=M,M=k,k=v}Cd(S,!0,M,null,j);break;case"together":Cd(S,!1,null,null,void 0);break;default:S.memoizedState=null}return S.child}function Ds(v,S,M){if(v!==null&&(S.dependencies=v.dependencies),Ss|=S.lanes,(M&S.childLanes)===0)if(v!==null){if(dl(v,S,M,!1),(M&S.childLanes)===0)return null}else return null;if(v!==null&&S.child!==v.child)throw Error(a(153));if(S.child!==null){for(v=S.child,M=rc(v,v.pendingProps),S.child=M,M.return=S;v.sibling!==null;)v=v.sibling,M=M.sibling=rc(v,v.pendingProps),M.return=S;M.sibling=null}return S.child}function Qh(v,S){return(v.lanes&S)!==0?!0:(v=v.dependencies,!!(v!==null&&df(v)))}function $0(v,S,M){switch(S.tag){case 3:Q(S,S.stateNode.containerInfo),fl(S,Br,v.memoizedState.cache),Be();break;case 27:case 5:xe(S);break;case 4:Q(S,S.stateNode.containerInfo);break;case 10:fl(S,S.type,S.memoizedProps.value);break;case 13:var N=S.memoizedState;if(N!==null)return N.dehydrated!==null?(Ai(S),S.flags|=128,null):(M&S.child.childLanes)!==0?ul(v,S,M):(Ai(S),v=Ds(v,S,M),v!==null?v.sibling:null);Ai(S);break;case 19:var k=(v.flags&128)!==0;if(N=(M&S.childLanes)!==0,N||(dl(v,S,M,!1),N=(M&S.childLanes)!==0),k){if(N)return nu(v,S,M);S.flags|=128}if(k=S.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),E(fr,fr.current),N)break;return null;case 22:case 23:return S.lanes=0,Km(v,S,M);case 24:fl(S,Br,v.memoizedState.cache)}return Ds(v,S,M)}function tg(v,S,M){if(v!==null)if(v.memoizedProps!==S.pendingProps)ta=!0;else{if(!Qh(v,M)&&(S.flags&128)===0)return ta=!1,$0(v,S,M);ta=(v.flags&131072)!==0}else ta=!1,Ri&&(S.flags&1048576)!==0&&ie(S,$d,S.index);switch(S.lanes=0,S.tag){case 16:e:{v=S.pendingProps;var N=S.elementType,k=N._init;if(N=k(N._payload),S.type=N,typeof N=="function")ic(N)?(v=Vo(N,v),S.tag=1,S=Zm(null,S,N,v,M)):(S.tag=0,S=_d(null,S,N,v,M));else{if(N!=null){if(k=N.$$typeof,k===cg){S.tag=11,S=cf(null,S,N,v,M);break e}else if(k===Pd){S.tag=14,S=va(null,S,N,v,M);break e}}throw S=l(N)||N,Error(a(306,S,""))}}return S;case 0:return _d(v,S,S.type,S.pendingProps,M);case 1:return N=S.type,k=Vo(N,S.pendingProps),Zm(v,S,N,k,M);case 3:e:{if(Q(S,S.stateNode.containerInfo),v===null)throw Error(a(387));var j=S.pendingProps;k=S.memoizedState,N=k.element,_t(v,S),St(S,j,null,M);var ve=S.memoizedState;if(j=ve.cache,fl(S,Br,j),j!==k.cache&&Yl(S,[Br],M,!0),Ge(),j=ve.element,Co&&k.isDehydrated)if(k={element:j,isDehydrated:!1,cache:ve.cache},S.updateQueue.baseState=k,S.memoizedState=k,S.flags&256){S=eg(v,S,j,M);break e}else if(j!==N){N=ue(Error(a(424)),S),Ce(N),S=eg(v,S,j,M);break e}else for(Co&&(Ji=Ef(S.stateNode.containerInfo),Gr=S,Ri=!0,ps=null,Fs=!0),M=El(S,null,j,M),S.child=M;M;)M.flags=M.flags&-3|4096,M=M.sibling;else{if(Be(),j===N){S=Ds(v,S,M);break e}Jr(v,S,j,M)}S=S.child}return S;case 26:if(Yo)return uf(v,S),v===null?(M=cy(S.type,null,S.pendingProps,null))?S.memoizedState=M:Ri||(S.stateNode=hy(S.type,S.pendingProps,hc.current,S)):S.memoizedState=cy(S.type,v.memoizedProps,S.pendingProps,v.memoizedState),null;case 27:if(Sa)return xe(S),v===null&&Sa&&Ri&&(N=S.stateNode=Sg(S.type,S.pendingProps,hc.current,Hr.current,!1),Gr=S,Fs=!0,Ji=fc(N)),N=S.pendingProps.children,v!==null||Ri?Jr(v,S,N,M):S.child=Mu(S,null,N,M),uf(v,S),S.child;case 5:return v===null&&Ri&&(k_(S.type,S.pendingProps,Hr.current),(k=N=Ji)&&(N=oy(N,S.type,S.pendingProps,Fs),N!==null?(S.stateNode=N,Gr=S,Ji=fc(N),Fs=!1,k=!0):k=!1),k||Ae(S)),xe(S),k=S.type,j=S.pendingProps,ve=v!==null?v.memoizedProps:null,N=j.children,Ta(k,j)?N=null:ve!==null&&Ta(k,ve)&&(S.flags|=32),S.memoizedState!==null&&(k=ln(v,S,Tr,null,null,M),Ls?uc._currentValue=k:uc._currentValue2=k),uf(v,S),Jr(v,S,N,M),S.child;case 6:return v===null&&Ri&&(AA(S.pendingProps,Hr.current),(v=M=Ji)&&(M=N_(M,S.pendingProps,Fs),M!==null?(S.stateNode=M,Gr=S,Ji=null,v=!0):v=!1),v||Ae(S)),null;case 13:return ul(v,S,M);case 4:return Q(S,S.stateNode.containerInfo),N=S.pendingProps,v===null?S.child=Mu(S,null,N,M):Jr(v,S,N,M),S.child;case 11:return cf(v,S,S.type,S.pendingProps,M);case 7:return Jr(v,S,S.pendingProps,M),S.child;case 8:return Jr(v,S,S.pendingProps.children,M),S.child;case 12:return Jr(v,S,S.pendingProps.children,M),S.child;case 10:return N=S.pendingProps,fl(S,S.type,N.value),Jr(v,S,N.children,M),S.child;case 9:return k=S.type._context,N=S.pendingProps.children,cs(S),k=sa(k),N=N(k),S.flags|=1,Jr(v,S,N,M),S.child;case 14:return va(v,S,S.type,S.pendingProps,M);case 15:return qm(v,S,S.type,S.pendingProps,M);case 19:return nu(v,S,M);case 22:return Km(v,S,M);case 24:return cs(S),N=sa(Br),v===null?(k=wd(),k===null&&(k=Zi,j=bo(),k.pooledCache=j,j.refCount++,j!==null&&(k.pooledCacheLanes|=M),k=j),S.memoizedState={parent:N,cache:k},at(S),fl(S,Br,k)):((v.lanes&M)!==0&&(_t(v,S),St(S,null,null,M),Ge()),k=v.memoizedState,j=S.memoizedState,k.parent!==N?(k={parent:N,cache:N},S.memoizedState=k,S.lanes===0&&(S.memoizedState=S.updateQueue.baseState=k),fl(S,Br,N)):(N=j.cache,fl(S,Br,N),N!==k.cache&&Yl(S,[Br],M,!0))),Jr(v,S,S.pendingProps.children,M),S.child;case 29:throw S.pendingProps}throw Error(a(156,S.tag))}function fl(v,S,M){Ls?(E(gs,S._currentValue),S._currentValue=M):(E(gs,S._currentValue2),S._currentValue2=M)}function Ps(v){var S=gs.current;Ls?v._currentValue=S:v._currentValue2=S,b(gs)}function Xl(v,S,M){for(;v!==null;){var N=v.alternate;if((v.childLanes&S)!==S?(v.childLanes|=S,N!==null&&(N.childLanes|=S)):N!==null&&(N.childLanes&S)!==S&&(N.childLanes|=S),v===M)break;v=v.return}}function Yl(v,S,M,N){var k=v.child;for(k!==null&&(k.return=v);k!==null;){var j=k.dependencies;if(j!==null){var ve=k.child;j=j.firstContext;e:for(;j!==null;){var Le=j;j=k;for(var nt=0;nt<S.length;nt++)if(Le.context===S[nt]){j.lanes|=M,Le=j.alternate,Le!==null&&(Le.lanes|=M),Xl(j.return,M,v),N||(ve=null);break e}j=Le.next}}else if(k.tag===18){if(ve=k.return,ve===null)throw Error(a(341));ve.lanes|=M,j=ve.alternate,j!==null&&(j.lanes|=M),Xl(ve,M,v),ve=null}else ve=k.child;if(ve!==null)ve.return=k;else for(ve=k;ve!==null;){if(ve===v){ve=null;break}if(k=ve.sibling,k!==null){k.return=ve.return,ve=k;break}ve=ve.return}k=ve}}function dl(v,S,M,N){v=null;for(var k=S,j=!1;k!==null;){if(!j){if((k.flags&524288)!==0)j=!0;else if((k.flags&262144)!==0)break}if(k.tag===10){var ve=k.alternate;if(ve===null)throw Error(a(387));if(ve=ve.memoizedProps,ve!==null){var Le=k.type;no(k.pendingProps.value,ve.value)||(v!==null?v.push(Le):v=[Le])}}else if(k===yp.current){if(ve=k.alternate,ve===null)throw Error(a(387));ve.memoizedState.memoizedState!==k.memoizedState.memoizedState&&(v!==null?v.push(uc):v=[uc])}k=k.return}v!==null&&Yl(S,v,M,N),S.flags|=262144}function df(v){for(v=v.firstContext;v!==null;){var S=v.context;if(!no(Ls?S._currentValue:S._currentValue2,v.memoizedValue))return!0;v=v.next}return!1}function cs(v){Bu=v,vs=null,v=v.dependencies,v!==null&&(v.firstContext=null)}function sa(v){return Ed(Bu,v)}function hf(v,S){return Bu===null&&cs(v),Ed(v,S)}function Ed(v,S){var M=Ls?S._currentValue:S._currentValue2;if(S={context:S,memoizedValue:M,next:null},vs===null){if(v===null)throw Error(a(308));vs=S,v.dependencies={lanes:0,firstContext:S},v.flags|=524288}else vs=vs.next=S;return M}function bo(){return{controller:new Cp,data:new Map,refCount:0}}function So(v){v.refCount--,v.refCount===0&&Mr(TA,function(){v.controller.abort()})}function wd(){var v=Of.current;return v!==null?v:Zi.pooledCache}function iu(v,S){S===null?E(Of,Of.current):E(Of,S.pool)}function Zh(){var v=wd();return v===null?null:{parent:Ls?Br._currentValue:Br._currentValue2,pool:v}}function za(v){v.flags|=4}function ru(v,S){if(v!==null&&v.child===S.child)return!1;if((S.flags&16)!==0)return!0;for(v=S.child;v!==null;){if((v.flags&13878)!==0||(v.subtreeFlags&13878)!==0)return!0;v=v.sibling}return!1}function ql(v,S,M,N){if(xr)for(M=S.child;M!==null;){if(M.tag===5||M.tag===6)hp(v,M.stateNode);else if(!(M.tag===4||Sa&&M.tag===27)&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===S)break;for(;M.sibling===null;){if(M.return===null||M.return===S)return;M=M.return}M.sibling.return=M.return,M=M.sibling}else if(Ns)for(var k=S.child;k!==null;){if(k.tag===5){var j=k.stateNode;M&&N&&(j=D_(j,k.type,k.memoizedProps)),hp(v,j)}else if(k.tag===6)j=k.stateNode,M&&N&&(j=ry(j,k.memoizedProps)),hp(v,j);else if(k.tag!==4){if(k.tag===22&&k.memoizedState!==null)j=k.child,j!==null&&(j.return=k),ql(v,k,!0,!0);else if(k.child!==null){k.child.return=k,k=k.child;continue}}if(k===S)break;for(;k.sibling===null;){if(k.return===null||k.return===S)return;k=k.return}k.sibling.return=k.return,k=k.sibling}}function ng(v,S,M,N){if(Ns)for(var k=S.child;k!==null;){if(k.tag===5){var j=k.stateNode;M&&N&&(j=D_(j,k.type,k.memoizedProps)),iy(v,j)}else if(k.tag===6)j=k.stateNode,M&&N&&(j=ry(j,k.memoizedProps)),iy(v,j);else if(k.tag!==4){if(k.tag===22&&k.memoizedState!==null)j=k.child,j!==null&&(j.return=k),ng(v,k,!(k.memoizedProps!==null&&k.memoizedProps.mode==="manual"),!0);else if(k.child!==null){k.child.return=k,k=k.child;continue}}if(k===S)break;for(;k.sibling===null;){if(k.return===null||k.return===S)return;k=k.return}k.sibling.return=k.return,k=k.sibling}}function pf(v,S){if(Ns&&ru(v,S)){v=S.stateNode;var M=v.containerInfo,N=gg();ng(N,S,!1,!1),v.pendingChildren=N,za(S),I_(M,N)}}function Ad(v,S,M,N){if(xr)v.memoizedProps!==N&&za(S);else if(Ns){var k=v.stateNode,j=v.memoizedProps;if((v=ru(v,S))||j!==N){var ve=Hr.current;j=O_(k,M,j,N,!v,null),j===k?S.stateNode=k:(ug(j,M,N,ve)&&za(S),S.stateNode=j,v?ql(j,S,!1,!1):za(S))}else S.stateNode=k}}function Md(v,S,M){if(J0(S,M)){if(v.flags|=16777216,!Q0(S,M))if(ba())v.flags|=8192;else throw $a=io,_p}else v.flags&=-16777217}function Td(v,S){if(j_(S)){if(v.flags|=16777216,!py(S))if(ba())v.flags|=8192;else throw $a=io,_p}else v.flags&=-16777217}function au(v,S){S!==null&&(v.flags|=4),v.flags&16384&&(S=v.tag!==22?U():536870912,v.lanes|=S,ia|=S)}function B(v,S){if(!Ri)switch(v.tailMode){case"hidden":S=v.tail;for(var M=null;S!==null;)S.alternate!==null&&(M=S),S=S.sibling;M===null?v.tail=null:M.sibling=null;break;case"collapsed":M=v.tail;for(var N=null;M!==null;)M.alternate!==null&&(N=M),M=M.sibling;N===null?S||v.tail===null?v.tail=null:v.tail.sibling=null:N.sibling=null}}function I(v){var S=v.alternate!==null&&v.alternate.child===v.child,M=0,N=0;if(S)for(var k=v.child;k!==null;)M|=k.lanes|k.childLanes,N|=k.subtreeFlags&31457280,N|=k.flags&31457280,k.return=v,k=k.sibling;else for(k=v.child;k!==null;)M|=k.lanes|k.childLanes,N|=k.subtreeFlags,N|=k.flags,k.return=v,k=k.sibling;return v.subtreeFlags|=N,v.childLanes=M,S}function H(v,S,M){var N=S.pendingProps;switch(de(S),S.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return I(S),null;case 1:return I(S),null;case 3:return M=S.stateNode,N=null,v!==null&&(N=v.memoizedState.cache),S.memoizedState.cache!==N&&(S.flags|=2048),Ps(Br),he(),M.pendingContext&&(M.context=M.pendingContext,M.pendingContext=null),(v===null||v.child===null)&&(vt(S)?za(S):v===null||v.memoizedState.isDehydrated&&(S.flags&256)===0||(S.flags|=1024,ps!==null&&(tc(ps),ps=null))),pf(v,S),I(S),null;case 26:if(Yo){M=S.type;var k=S.memoizedState;return v===null?(za(S),k!==null?(I(S),Td(S,k)):(I(S),Md(S,M,N))):k?k!==v.memoizedState?(za(S),I(S),Td(S,k)):(I(S),S.flags&=-16777217):(xr?v.memoizedProps!==N&&za(S):Ad(v,S,M,N),I(S),Md(S,M,N)),null}case 27:if(Sa){if(Oe(S),M=hc.current,k=S.type,v!==null&&S.stateNode!=null)xr?v.memoizedProps!==N&&za(S):Ad(v,S,k,N);else{if(!N){if(S.stateNode===null)throw Error(a(166));return I(S),null}v=Hr.current,vt(S)?Te(S,v):(v=Sg(k,N,M,v,!0),S.stateNode=v,za(S))}return I(S),null}case 5:if(Oe(S),M=S.type,v!==null&&S.stateNode!=null)Ad(v,S,M,N);else{if(!N){if(S.stateNode===null)throw Error(a(166));return I(S),null}v=Hr.current,vt(S)?Te(S,v):(k=K0(M,N,hc.current,v,S),ql(k,S,!1,!1),S.stateNode=k,ug(k,M,N,v)&&za(S))}return I(S),Md(S,S.type,S.pendingProps),null;case 6:if(v&&S.stateNode!=null)M=v.memoizedProps,xr?M!==N&&za(S):Ns&&(M!==N?(S.stateNode=Ur(N,hc.current,Hr.current,S),za(S)):S.stateNode=v.stateNode);else{if(typeof N!="string"&&S.stateNode===null)throw Error(a(166));if(v=hc.current,M=Hr.current,vt(S)){if(!Co)throw Error(a(176));if(v=S.stateNode,M=S.memoizedProps,N=null,k=Gr,k!==null)switch(k.tag){case 27:case 5:N=k.memoizedProps}yg(v,M,S,N)||Ae(S)}else S.stateNode=Ur(N,v,M,S)}return I(S),null;case 13:if(N=S.memoizedState,v===null||v.memoizedState!==null&&v.memoizedState.dehydrated!==null){if(k=vt(S),N!==null&&N.dehydrated!==null){if(v===null){if(!k)throw Error(a(318));if(!Co)throw Error(a(344));if(k=S.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(a(317));U_(k,S)}else Be(),(S.flags&128)===0&&(S.memoizedState=null),S.flags|=4;I(S),k=!1}else ps!==null&&(tc(ps),ps=null),k=!0;if(!k)return S.flags&256?(Mn(S),S):(Mn(S),null)}if(Mn(S),(S.flags&128)!==0)return S.lanes=M,S;if(M=N!==null,v=v!==null&&v.memoizedState!==null,M){N=S.child,k=null,N.alternate!==null&&N.alternate.memoizedState!==null&&N.alternate.memoizedState.cachePool!==null&&(k=N.alternate.memoizedState.cachePool.pool);var j=null;N.memoizedState!==null&&N.memoizedState.cachePool!==null&&(j=N.memoizedState.cachePool.pool),j!==k&&(N.flags|=2048)}return M!==v&&M&&(S.child.flags|=8192),au(S,S.updateQueue),I(S),null;case 4:return he(),pf(v,S),v===null&&c_(S.stateNode.containerInfo),I(S),null;case 10:return Ps(S.type),I(S),null;case 19:if(b(fr),k=S.memoizedState,k===null)return I(S),null;if(N=(S.flags&128)!==0,j=k.rendering,j===null)if(N)B(k,!1);else{if(Er!==0||v!==null&&(v.flags&128)!==0)for(v=S.child;v!==null;){if(j=Qn(v),j!==null){for(S.flags|=128,B(k,!1),v=j.updateQueue,S.updateQueue=v,au(S,v),S.subtreeFlags=0,v=M,M=S.child;M!==null;)yf(M,v),M=M.sibling;return E(fr,fr.current&1|2),S.child}v=v.sibling}k.tail!==null&&qo()>Zo&&(S.flags|=128,N=!0,B(k,!1),S.lanes=4194304)}else{if(!N)if(v=Qn(j),v!==null){if(S.flags|=128,N=!0,v=v.updateQueue,S.updateQueue=v,au(S,v),B(k,!0),k.tail===null&&k.tailMode==="hidden"&&!j.alternate&&!Ri)return I(S),null}else 2*qo()-k.renderingStartTime>Zo&&M!==536870912&&(S.flags|=128,N=!0,B(k,!1),S.lanes=4194304);k.isBackwards?(j.sibling=S.child,S.child=j):(v=k.last,v!==null?v.sibling=j:S.child=j,k.last=j)}return k.tail!==null?(S=k.tail,k.rendering=S,k.tail=S.sibling,k.renderingStartTime=qo(),S.sibling=null,v=fr.current,E(fr,N?v&1|2:v&1),S):(I(S),null);case 22:case 23:return Mn(S),zn(),N=S.memoizedState!==null,v!==null?v.memoizedState!==null!==N&&(S.flags|=8192):N&&(S.flags|=8192),N?(M&536870912)!==0&&(S.flags&128)===0&&(I(S),S.subtreeFlags&6&&(S.flags|=8192)):I(S),M=S.updateQueue,M!==null&&au(S,M.retryQueue),M=null,v!==null&&v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(M=v.memoizedState.cachePool.pool),N=null,S.memoizedState!==null&&S.memoizedState.cachePool!==null&&(N=S.memoizedState.cachePool.pool),N!==M&&(S.flags|=2048),v!==null&&b(Of),null;case 24:return M=null,v!==null&&(M=v.memoizedState.cache),S.memoizedState.cache!==M&&(S.flags|=2048),Ps(Br),I(S),null;case 25:return null}throw Error(a(156,S.tag))}function V(v,S){switch(de(S),S.tag){case 1:return v=S.flags,v&65536?(S.flags=v&-65537|128,S):null;case 3:return Ps(Br),he(),v=S.flags,(v&65536)!==0&&(v&128)===0?(S.flags=v&-65537|128,S):null;case 26:case 27:case 5:return Oe(S),null;case 13:if(Mn(S),v=S.memoizedState,v!==null&&v.dehydrated!==null){if(S.alternate===null)throw Error(a(340));Be()}return v=S.flags,v&65536?(S.flags=v&-65537|128,S):null;case 19:return b(fr),null;case 4:return he(),null;case 10:return Ps(S.type),null;case 22:case 23:return Mn(S),zn(),v!==null&&b(Of),v=S.flags,v&65536?(S.flags=v&-65537|128,S):null;case 24:return Ps(Br),null;case 25:return null;default:return null}}function X(v,S){switch(de(S),S.tag){case 3:Ps(Br),he();break;case 26:case 27:case 5:Oe(S);break;case 4:he();break;case 13:Mn(S);break;case 19:b(fr);break;case 10:Ps(S.type);break;case 22:case 23:Mn(S),zn(),v!==null&&b(Of);break;case 24:Ps(Br)}}function te(v,S){try{var M=S.updateQueue,N=M!==null?M.lastEffect:null;if(N!==null){var k=N.next;M=k;do{if((M.tag&v)===v){N=void 0;var j=M.create,ve=M.inst;N=j(),ve.destroy=N}M=M.next}while(M!==k)}}catch(Le){Vi(S,S.return,Le)}}function se(v,S,M){try{var N=S.updateQueue,k=N!==null?N.lastEffect:null;if(k!==null){var j=k.next;N=j;do{if((N.tag&v)===v){var ve=N.inst,Le=ve.destroy;if(Le!==void 0){ve.destroy=void 0,k=S;var nt=M;try{Le()}catch(wt){Vi(k,nt,wt)}}}N=N.next}while(N!==j)}}catch(wt){Vi(S,S.return,wt)}}function pe(v){var S=v.updateQueue;if(S!==null){var M=v.stateNode;try{xt(S,M)}catch(N){Vi(v,v.return,N)}}}function ye(v,S,M){M.props=Vo(v.type,v.memoizedProps),M.state=v.memoizedState;try{M.componentWillUnmount()}catch(N){Vi(v,S,N)}}function Pe(v,S){try{var M=v.ref;if(M!==null){var N=v.stateNode;switch(v.tag){case 26:case 27:case 5:var k=_f(N);break;default:k=N}typeof M=="function"?v.refCleanup=M(k):M.current=k}}catch(j){Vi(v,S,j)}}function Ee(v,S){var M=v.ref,N=v.refCleanup;if(M!==null)if(typeof N=="function")try{N()}catch(k){Vi(v,S,k)}finally{v.refCleanup=null,v=v.alternate,v!=null&&(v.refCleanup=null)}else if(typeof M=="function")try{M(null)}catch(k){Vi(v,S,k)}else M.current=null}function Ke(v){var S=v.type,M=v.memoizedProps,N=v.stateNode;try{x_(N,S,M,v)}catch(k){Vi(v,v.return,k)}}function yt(v,S,M){try{C_(v.stateNode,v.type,M,S,v)}catch(N){Vi(v,v.return,N)}}function zt(v){return v.tag===5||v.tag===3||(Yo?v.tag===26:!1)||(Sa?v.tag===27:!1)||v.tag===4}function Bt(v){e:for(;;){for(;v.sibling===null;){if(v.return===null||zt(v.return))return null;v=v.return}for(v.sibling.return=v.return,v=v.sibling;v.tag!==5&&v.tag!==6&&(!Sa||v.tag!==27)&&v.tag!==18;){if(v.flags&2||v.child===null||v.tag===4)continue e;v.child.return=v,v=v.child}if(!(v.flags&2))return v.stateNode}}function kt(v,S,M){var N=v.tag;if(N===5||N===6)v=v.stateNode,S?ty(M,v,S):ey(M,v);else if(!(N===4||Sa&&N===27)&&(v=v.child,v!==null))for(kt(v,S,M),v=v.sibling;v!==null;)kt(v,S,M),v=v.sibling}function an(v,S,M){var N=v.tag;if(N===5||N===6)v=v.stateNode,S?E_(M,v,S):S_(M,v);else if(!(N===4||Sa&&N===27)&&(v=v.child,v!==null))for(an(v,S,M),v=v.sibling;v!==null;)an(v,S,M),v=v.sibling}function Zt(v,S,M){v=v.containerInfo;try{B_(v,M)}catch(N){Vi(S,S.return,N)}}function hn(v,S){for(l_(v.containerInfo),On=S;On!==null;)if(v=On,S=v.child,(v.subtreeFlags&1028)!==0&&S!==null)S.return=v,On=S;else for(;On!==null;){v=On;var M=v.alternate;switch(S=v.flags,v.tag){case 0:break;case 11:case 15:break;case 1:if((S&1024)!==0&&M!==null){S=void 0;var N=v,k=M.memoizedProps;M=M.memoizedState;var j=N.stateNode;try{var ve=Vo(N.type,k,N.elementType===N.type);S=j.getSnapshotBeforeUpdate(ve,M),j.__reactInternalSnapshotBeforeUpdate=S}catch(Le){Vi(N,N.return,Le)}}break;case 3:(S&1024)!==0&&xr&&R_(v.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((S&1024)!==0)throw Error(a(163))}if(S=v.sibling,S!==null){S.return=v.return,On=S;break}On=v.return}return ve=rr,rr=!1,ve}function Ln(v,S,M){var N=M.flags;switch(M.tag){case 0:case 11:case 15:Jl(v,M),N&4&&te(5,M);break;case 1:if(Jl(v,M),N&4)if(v=M.stateNode,S===null)try{v.componentDidMount()}catch(Le){Vi(M,M.return,Le)}else{var k=Vo(M.type,S.memoizedProps);S=S.memoizedState;try{v.componentDidUpdate(k,S,v.__reactInternalSnapshotBeforeUpdate)}catch(Le){Vi(M,M.return,Le)}}N&64&&pe(M),N&512&&Pe(M,M.return);break;case 3:if(Jl(v,M),N&64&&(N=M.updateQueue,N!==null)){if(v=null,M.child!==null)switch(M.child.tag){case 27:case 5:v=_f(M.child.stateNode);break;case 1:v=M.child.stateNode}try{xt(N,v)}catch(Le){Vi(M,M.return,Le)}}break;case 26:if(Yo){Jl(v,M),N&512&&Pe(M,M.return);break}case 27:case 5:Jl(v,M),S===null&&N&4&&Ke(M),N&512&&Pe(M,M.return);break;case 12:Jl(v,M);break;case 13:Jl(v,M),N&4&&Ar(v,M);break;case 22:if(k=M.memoizedState!==null||bc,!k){S=S!==null&&S.memoizedState!==null||Xn;var j=bc,ve=Xn;bc=k,(Xn=S)&&!ve?ou(v,M,(M.subtreeFlags&8772)!==0):Jl(v,M),bc=j,Xn=ve}N&512&&(M.memoizedProps.mode==="manual"?Pe(M,M.return):Ee(M,M.return));break;default:Jl(v,M)}}function ei(v){var S=v.alternate;S!==null&&(v.alternate=null,ei(S)),v.child=null,v.deletions=null,v.sibling=null,v.tag===5&&(S=v.stateNode,S!==null&&d_(S)),v.stateNode=null,v.return=null,v.dependencies=null,v.memoizedProps=null,v.memoizedState=null,v.pendingProps=null,v.stateNode=null,v.updateQueue=null}function pn(v,S,M){for(M=M.child;M!==null;)Rn(v,S,M),M=M.sibling}function Rn(v,S,M){if(ea&&typeof ea.onCommitFiberUnmount=="function")try{ea.onCommitFiberUnmount(kd,M)}catch{}switch(M.tag){case 26:if(Yo){Xn||Ee(M,S),pn(v,S,M),M.memoizedState?fy(M.memoizedState):M.stateNode&&Fd(M.stateNode);break}case 27:if(Sa){Xn||Ee(M,S);var N=zi,k=Vr;zi=M.stateNode,pn(v,S,M),vy(M.stateNode),zi=N,Vr=k;break}case 5:Xn||Ee(M,S);case 6:if(xr){if(N=zi,k=Vr,zi=null,pn(v,S,M),zi=N,Vr=k,zi!==null)if(Vr)try{A_(zi,M.stateNode)}catch(j){Vi(M,S,j)}else try{w_(zi,M.stateNode)}catch(j){Vi(M,S,j)}}else pn(v,S,M);break;case 18:xr&&zi!==null&&(Vr?sy(zi,M.stateNode):G_(zi,M.stateNode));break;case 4:xr?(N=zi,k=Vr,zi=M.stateNode.containerInfo,Vr=!0,pn(v,S,M),zi=N,Vr=k):(Ns&&Zt(M.stateNode,M,gg()),pn(v,S,M));break;case 0:case 11:case 14:case 15:Xn||se(2,M,S),Xn||se(4,M,S),pn(v,S,M);break;case 1:Xn||(Ee(M,S),N=M.stateNode,typeof N.componentWillUnmount=="function"&&ye(M,S,N)),pn(v,S,M);break;case 21:pn(v,S,M);break;case 22:Xn||Ee(M,S),Xn=(N=Xn)||M.memoizedState!==null,pn(v,S,M),Xn=N;break;default:pn(v,S,M)}}function Ar(v,S){if(Co&&S.memoizedState===null&&(v=S.alternate,v!==null&&(v=v.memoizedState,v!==null&&(v=v.dehydrated,v!==null))))try{bg(v)}catch(M){Vi(S,S.return,M)}}function Ki(v){switch(v.tag){case 13:case 19:var S=v.stateNode;return S===null&&(S=v.stateNode=new di),S;case 22:return v=v.stateNode,S=v._retryCache,S===null&&(S=v._retryCache=new di),S;default:throw Error(a(435,v.tag))}}function ya(v,S){var M=Ki(v);S.forEach(function(N){var k=sg.bind(null,v,N);M.has(N)||(M.add(N),N.then(k,k))})}function Li(v,S){var M=S.deletions;if(M!==null)for(var N=0;N<M.length;N++){var k=M[N],j=v,ve=S;if(xr){var Le=ve;e:for(;Le!==null;){switch(Le.tag){case 27:case 5:zi=Le.stateNode,Vr=!1;break e;case 3:zi=Le.stateNode.containerInfo,Vr=!0;break e;case 4:zi=Le.stateNode.containerInfo,Vr=!0;break e}Le=Le.return}if(zi===null)throw Error(a(160));Rn(j,ve,k),zi=null,Vr=!1}else Rn(j,ve,k);j=k.alternate,j!==null&&(j.return=null),k.return=null}if(S.subtreeFlags&13878)for(S=S.child;S!==null;)jo(S,v),S=S.sibling}function jo(v,S){var M=v.alternate,N=v.flags;switch(v.tag){case 0:case 11:case 14:case 15:Li(S,v),la(v),N&4&&(se(3,v,v.return),te(3,v),se(5,v,v.return));break;case 1:Li(S,v),la(v),N&512&&(Xn||M===null||Ee(M,M.return)),N&64&&bc&&(v=v.updateQueue,v!==null&&(N=v.callbacks,N!==null&&(M=v.shared.hiddenCallbacks,v.shared.hiddenCallbacks=M===null?N:M.concat(N))));break;case 26:if(Yo){var k=ja;Li(S,v),la(v),N&512&&(Xn||M===null||Ee(M,M.return)),N&4&&(N=M!==null?M.memoizedState:null,S=v.memoizedState,M===null?S===null?v.stateNode===null?v.stateNode=$_(k,v.type,v.memoizedProps,v):dy(k,v.type,v.stateNode):v.stateNode=uy(k,S,v.memoizedProps):N!==S?(N===null?M.stateNode!==null&&Fd(M.stateNode):fy(N),S===null?dy(k,v.type,v.stateNode):uy(k,S,v.memoizedProps)):S===null&&v.stateNode!==null&&yt(v,v.memoizedProps,M.memoizedProps));break}case 27:if(Sa&&N&4&&v.alternate===null){k=v.stateNode;var j=v.memoizedProps;try{W_(k),gy(v.type,j,k,v)}catch(jt){Vi(v,v.return,jt)}}case 5:if(Li(S,v),la(v),N&512&&(Xn||M===null||Ee(M,M.return)),xr){if(v.flags&32){S=v.stateNode;try{mg(S)}catch(jt){Vi(v,v.return,jt)}}N&4&&v.stateNode!=null&&(S=v.memoizedProps,yt(v,S,M!==null?M.memoizedProps:S)),N&1024&&(Qi=!0)}break;case 6:if(Li(S,v),la(v),N&4&&xr){if(v.stateNode===null)throw Error(a(162));N=v.memoizedProps,M=M!==null?M.memoizedProps:N,S=v.stateNode;try{__(S,M,N)}catch(jt){Vi(v,v.return,jt)}}break;case 3:if(Yo?(V_(),k=ja,ja=ua(S.containerInfo),Li(S,v),ja=k):Li(S,v),la(v),N&4){if(xr&&Co&&M!==null&&M.memoizedState.isDehydrated)try{H_(S.containerInfo)}catch(jt){Vi(v,v.return,jt)}if(Ns){N=S.containerInfo,M=S.pendingChildren;try{B_(N,M)}catch(jt){Vi(v,v.return,jt)}}}Qi&&(Qi=!1,Kl(v));break;case 4:Yo?(M=ja,ja=ua(v.stateNode.containerInfo),Li(S,v),la(v),ja=M):(Li(S,v),la(v)),N&4&&Ns&&Zt(v.stateNode,v,v.stateNode.pendingChildren);break;case 12:Li(S,v),la(v);break;case 13:Li(S,v),la(v),v.child.flags&8192&&v.memoizedState!==null!=(M!==null&&M.memoizedState!==null)&&(xy=qo()),N&4&&(N=v.updateQueue,N!==null&&(v.updateQueue=null,ya(v,N)));break;case 22:N&512&&(Xn||M===null||Ee(M,M.return)),k=v.memoizedState!==null;var ve=M!==null&&M.memoizedState!==null,Le=bc,nt=Xn;if(bc=Le||k,Xn=nt||ve,Li(S,v),Xn=nt,bc=Le,la(v),S=v.stateNode,S._current=v,S._visibility&=-3,S._visibility|=S._pendingVisibility&2,N&8192&&(S._visibility=k?S._visibility&-2:S._visibility|1,k&&(S=bc||Xn,M===null||ve||S||Rd(v)),xr&&(v.memoizedProps===null||v.memoizedProps.mode!=="manual"))){e:if(M=null,xr)for(S=v;;){if(S.tag===5||Yo&&S.tag===26||Sa&&S.tag===27){if(M===null){ve=M=S;try{j=ve.stateNode,k?M_(j):wA(ve.stateNode,ve.memoizedProps)}catch(jt){Vi(ve,ve.return,jt)}}}else if(S.tag===6){if(M===null){ve=S;try{var wt=ve.stateNode;k?T_(wt):ny(wt,ve.memoizedProps)}catch(jt){Vi(ve,ve.return,jt)}}}else if((S.tag!==22&&S.tag!==23||S.memoizedState===null||S===v)&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===v)break e;for(;S.sibling===null;){if(S.return===null||S.return===v)break e;M===S&&(M=null),S=S.return}M===S&&(M=null),S.sibling.return=S.return,S=S.sibling}}N&4&&(N=v.updateQueue,N!==null&&(M=N.retryQueue,M!==null&&(N.retryQueue=null,ya(v,M))));break;case 19:Li(S,v),la(v),N&4&&(N=v.updateQueue,N!==null&&(v.updateQueue=null,ya(v,N)));break;case 21:break;default:Li(S,v),la(v)}}function la(v){var S=v.flags;if(S&2){try{if(xr&&(!Sa||v.tag!==27)){e:{for(var M=v.return;M!==null;){if(zt(M)){var N=M;break e}M=M.return}throw Error(a(160))}switch(N.tag){case 27:if(Sa){var k=N.stateNode,j=Bt(v);an(v,j,k);break}case 5:var ve=N.stateNode;N.flags&32&&(mg(ve),N.flags&=-33);var Le=Bt(v);an(v,Le,ve);break;case 3:case 4:var nt=N.stateNode.containerInfo,wt=Bt(v);kt(v,wt,nt);break;default:throw Error(a(161))}}}catch(jt){Vi(v,v.return,jt)}v.flags&=-3}S&4096&&(v.flags&=-4097)}function Kl(v){if(v.subtreeFlags&1024)for(v=v.child;v!==null;){var S=v;Kl(S),S.tag===5&&S.flags&1024&&p_(S.stateNode),v=v.sibling}}function Jl(v,S){if(S.subtreeFlags&8772)for(S=S.child;S!==null;)Ln(v,S.alternate,S),S=S.sibling}function Rd(v){for(v=v.child;v!==null;){var S=v;switch(S.tag){case 0:case 11:case 14:case 15:se(4,S,S.return),Rd(S);break;case 1:Ee(S,S.return);var M=S.stateNode;typeof M.componentWillUnmount=="function"&&ye(S,S.return,M),Rd(S);break;case 26:case 27:case 5:Ee(S,S.return),Rd(S);break;case 22:Ee(S,S.return),S.memoizedState===null&&Rd(S);break;default:Rd(S)}v=v.sibling}}function ou(v,S,M){for(M=M&&(S.subtreeFlags&8772)!==0,S=S.child;S!==null;){var N=S.alternate,k=v,j=S,ve=j.flags;switch(j.tag){case 0:case 11:case 15:ou(k,j,M),te(4,j);break;case 1:if(ou(k,j,M),N=j,k=N.stateNode,typeof k.componentDidMount=="function")try{k.componentDidMount()}catch(wt){Vi(N,N.return,wt)}if(N=j,k=N.updateQueue,k!==null){var Le=N.stateNode;try{var nt=k.shared.hiddenCallbacks;if(nt!==null)for(k.shared.hiddenCallbacks=null,k=0;k<nt.length;k++)Me(nt[k],Le)}catch(wt){Vi(N,N.return,wt)}}M&&ve&64&&pe(j),Pe(j,j.return);break;case 26:case 27:case 5:ou(k,j,M),M&&N===null&&ve&4&&Ke(j),Pe(j,j.return);break;case 12:ou(k,j,M);break;case 13:ou(k,j,M),M&&ve&4&&Ar(k,j);break;case 22:j.memoizedState===null&&ou(k,j,M),Pe(j,j.return);break;default:ou(k,j,M)}S=S.sibling}}function ig(v,S){var M=null;v!==null&&v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(M=v.memoizedState.cachePool.pool),v=null,S.memoizedState!==null&&S.memoizedState.cachePool!==null&&(v=S.memoizedState.cachePool.pool),v!==M&&(v!=null&&v.refCount++,M!=null&&So(M))}function rg(v,S){v=null,S.alternate!==null&&(v=S.alternate.memoizedState.cache),S=S.memoizedState.cache,S!==v&&(S.refCount++,v!=null&&So(v))}function Ql(v,S,M,N){if(S.subtreeFlags&10256)for(S=S.child;S!==null;)us(v,S,M,N),S=S.sibling}function us(v,S,M,N){var k=S.flags;switch(S.tag){case 0:case 11:case 15:Ql(v,S,M,N),k&2048&&te(9,S);break;case 3:Ql(v,S,M,N),k&2048&&(v=null,S.alternate!==null&&(v=S.alternate.memoizedState.cache),S=S.memoizedState.cache,S!==v&&(S.refCount++,v!=null&&So(v)));break;case 12:if(k&2048){Ql(v,S,M,N),v=S.stateNode;try{var j=S.memoizedProps,ve=j.id,Le=j.onPostCommit;typeof Le=="function"&&Le(ve,S.alternate===null?"mount":"update",v.passiveEffectDuration,-0)}catch(nt){Vi(S,S.return,nt)}}else Ql(v,S,M,N);break;case 23:break;case 22:j=S.stateNode,S.memoizedState!==null?j._visibility&4?Ql(v,S,M,N):hl(v,S):j._visibility&4?Ql(v,S,M,N):(j._visibility|=4,Ma(v,S,M,N,(S.subtreeFlags&10256)!==0)),k&2048&&ig(S.alternate,S);break;case 24:Ql(v,S,M,N),k&2048&&rg(S.alternate,S);break;default:Ql(v,S,M,N)}}function Ma(v,S,M,N,k){for(k=k&&(S.subtreeFlags&10256)!==0,S=S.child;S!==null;){var j=v,ve=S,Le=M,nt=N,wt=ve.flags;switch(ve.tag){case 0:case 11:case 15:Ma(j,ve,Le,nt,k),te(8,ve);break;case 23:break;case 22:var jt=ve.stateNode;ve.memoizedState!==null?jt._visibility&4?Ma(j,ve,Le,nt,k):hl(j,ve):(jt._visibility|=4,Ma(j,ve,Le,nt,k)),k&&wt&2048&&ig(ve.alternate,ve);break;case 24:Ma(j,ve,Le,nt,k),k&&wt&2048&&rg(ve.alternate,ve);break;default:Ma(j,ve,Le,nt,k)}S=S.sibling}}function hl(v,S){if(S.subtreeFlags&10256)for(S=S.child;S!==null;){var M=v,N=S,k=N.flags;switch(N.tag){case 22:hl(M,N),k&2048&&ig(N.alternate,N);break;case 24:hl(M,N),k&2048&&rg(N.alternate,N);break;default:hl(M,N)}S=S.sibling}}function Zl(v){if(v.subtreeFlags&Du)for(v=v.child;v!==null;)ep(v),v=v.sibling}function ep(v){switch(v.tag){case 26:Zl(v),v.flags&Du&&(v.memoizedState!==null?my(ja,v.memoizedState,v.memoizedProps):Z0(v.type,v.memoizedProps));break;case 5:Zl(v),v.flags&Du&&Z0(v.type,v.memoizedProps);break;case 3:case 4:if(Yo){var S=ja;ja=ua(v.stateNode.containerInfo),Zl(v),ja=S}else Zl(v);break;case 22:v.memoizedState===null&&(S=v.alternate,S!==null&&S.memoizedState!==null?(S=Du,Du=16777216,Zl(v),Du=S):Zl(v));break;default:Zl(v)}}function tp(v){var S=v.alternate;if(S!==null&&(v=S.child,v!==null)){S.child=null;do S=v.sibling,v.sibling=null,v=S;while(v!==null)}}function mf(v){var S=v.deletions;if((v.flags&16)!==0){if(S!==null)for(var M=0;M<S.length;M++){var N=S[M];On=N,ip(N,v)}tp(v)}if(v.subtreeFlags&10256)for(v=v.child;v!==null;)ec(v),v=v.sibling}function ec(v){switch(v.tag){case 0:case 11:case 15:mf(v),v.flags&2048&&se(9,v,v.return);break;case 3:mf(v);break;case 12:mf(v);break;case 22:var S=v.stateNode;v.memoizedState!==null&&S._visibility&4&&(v.return===null||v.return.tag!==13)?(S._visibility&=-5,np(v)):mf(v);break;default:mf(v)}}function np(v){var S=v.deletions;if((v.flags&16)!==0){if(S!==null)for(var M=0;M<S.length;M++){var N=S[M];On=N,ip(N,v)}tp(v)}for(v=v.child;v!==null;){switch(S=v,S.tag){case 0:case 11:case 15:se(8,S,S.return),np(S);break;case 22:M=S.stateNode,M._visibility&4&&(M._visibility&=-5,np(S));break;default:np(S)}v=v.sibling}}function ip(v,S){for(;On!==null;){var M=On;switch(M.tag){case 0:case 11:case 15:se(8,M,S);break;case 23:case 22:if(M.memoizedState!==null&&M.memoizedState.cachePool!==null){var N=M.memoizedState.cachePool.pool;N!=null&&N.refCount++}break;case 24:So(M.memoizedState.cache)}if(N=M.child,N!==null)N.return=M,On=N;else e:for(M=v;On!==null;){N=On;var k=N.sibling,j=N.return;if(ei(N),N===M){On=null;break e}if(k!==null){k.return=j,On=k;break e}On=j}}}function su(v){var S=dg(v);if(S!=null){if(typeof S.memoizedProps["data-testname"]!="string")throw Error(a(364));return S}if(v=v_(v),v===null)throw Error(a(362));return v.stateNode.current}function ag(v,S){var M=v.tag;switch(S.$$typeof){case gr:if(v.type===S.value)return!0;break;case $s:e:{for(S=S.value,v=[v,0],M=0;M<v.length;){var N=v[M++],k=N.tag,j=v[M++],ve=S[j];if(k!==5&&k!==26&&k!==27||!bl(N)){for(;ve!=null&&ag(N,ve);)j++,ve=S[j];if(j===S.length){S=!0;break e}else for(N=N.child;N!==null;)v.push(N,j),N=N.sibling}}S=!1}return S;case wl:if((M===5||M===26||M===27)&&b_(v.stateNode,S.value))return!0;break;case ao:if((M===5||M===6||M===26||M===27)&&(v=y_(v),v!==null&&0<=v.indexOf(S.value)))return!0;break;case Yd:if((M===5||M===26||M===27)&&(v=v.memoizedProps["data-testname"],typeof v=="string"&&v.toLowerCase()===S.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function _o(v){switch(v.$$typeof){case gr:return"<"+(l(v.value)||"Unknown")+">";case $s:return":has("+(_o(v)||"")+")";case wl:return'[role="'+v.value+'"]';case ao:return'"'+v.value+'"';case Yd:return'[data-testname="'+v.value+'"]';default:throw Error(a(365))}}function gf(v,S){var M=[];v=[v,0];for(var N=0;N<v.length;){var k=v[N++],j=k.tag,ve=v[N++],Le=S[ve];if(j!==5&&j!==26&&j!==27||!bl(k)){for(;Le!=null&&ag(k,Le);)ve++,Le=S[ve];if(ve===S.length)M.push(k);else for(k=k.child;k!==null;)v.push(k,ve),k=k.sibling}}return M}function lu(v,S){if(!Ud)throw Error(a(363));v=su(v),v=gf(v,S),S=[],v=Array.from(v);for(var M=0;M<v.length;){var N=v[M++],k=N.tag;if(k===5||k===26||k===27)bl(N)||S.push(N.stateNode);else for(N=N.child;N!==null;)v.push(N),N=N.sibling}return S}function Ua(){if((mi&2)!==0&&gi!==0)return gi&-gi;if(Un.T!==null){var v=mr;return v!==0?v:gt()}return u_()}function rp(){Qo===0&&(Qo=(gi&536870912)===0||Ri?F():536870912);var v=Ao.current;return v!==null&&(v.flags|=32),Qo}function ur(v,S,M){(v===Zi&&Yi===2||v.cancelPendingCommit!==null)&&(cu(v,0),eo(v,gi,Qo,!1)),$(v,M),((mi&2)===0||v!==Zi)&&(v===Zi&&((mi&2)===0&&(_c|=M),Er===4&&eo(v,gi,Qo,!1)),ot(v))}function Wo(v,S,M){if((mi&6)!==0)throw Error(a(327));var N=!M&&(S&60)===0&&(S&v.expiredLanes)===0||D(v,S),k=N?n_(v,S):op(v,S,!0),j=N;do{if(k===0){bs&&!N&&eo(v,S,0,!1);break}else if(k===6)eo(v,S,0,!ys);else{if(M=v.current.alternate,j&&!nc(M)){k=op(v,S,!1),j=!1;continue}if(k===2){if(j=S,v.errorRecoveryDisabledLanes&j)var ve=0;else ve=v.pendingLanes&-536870913,ve=ve!==0?ve:ve&536870912?536870912:0;if(ve!==0){S=ve;e:{var Le=v;k=qd;var nt=Co&&Le.current.memoizedState.isDehydrated;if(nt&&(cu(Le,ve).flags|=256),ve=op(Le,ve,!1),ve!==2){if(If&&!nt){Le.errorRecoveryDisabledLanes|=j,_c|=j,k=4;break e}j=_s,_s=k,j!==null&&tc(j)}k=ve}if(j=!1,k!==2)continue}}if(k===1){cu(v,0),eo(v,S,0,!0);break}e:{switch(N=v,k){case 0:case 1:throw Error(a(345));case 4:if((S&4194176)===S){eo(N,S,Qo,!ys);break e}break;case 2:_s=null;break;case 3:case 5:break;default:throw Error(a(329))}if(N.finishedWork=M,N.finishedLanes=S,(S&62914560)===S&&(j=xy+300-qo(),10<j)){if(eo(N,S,Qo,!ys),O(N,0)!==0)break e;N.timeoutHandle=fg(pl.bind(null,N,M,_s,Bf,Og,S,Qo,_c,ia,ys,2,-0,0),j);break e}pl(N,M,_s,Bf,Og,S,Qo,_c,ia,ys,0,-0,0)}}break}while(!0);ot(v)}function tc(v){_s===null?_s=v:_s.push.apply(_s,v)}function pl(v,S,M,N,k,j,ve,Le,nt,wt,jt,nn,Ht){var Yn=S.subtreeFlags;if((Yn&8192||(Yn&16785408)===16785408)&&(CA(),ep(S),S=h_(),S!==null)){v.cancelPendingCommit=S(og.bind(null,v,M,N,k,ve,Le,nt,1,nn,Ht)),eo(v,j,ve,!wt);return}og(v,M,N,k,ve,Le,nt,jt,nn,Ht)}function nc(v){for(var S=v;;){var M=S.tag;if((M===0||M===11||M===15)&&S.flags&16384&&(M=S.updateQueue,M!==null&&(M=M.stores,M!==null)))for(var N=0;N<M.length;N++){var k=M[N],j=k.getSnapshot;k=k.value;try{if(!no(j(),k))return!1}catch{return!1}}if(M=S.child,S.subtreeFlags&16384&&M!==null)M.return=S,S=M;else{if(S===v)break;for(;S.sibling===null;){if(S.return===null||S.return===v)return!0;S=S.return}S.sibling.return=S.return,S=S.sibling}}return!0}function eo(v,S,M,N){S&=~oo,S&=~_c,v.suspendedLanes|=S,v.pingedLanes&=~S,N&&(v.warmLanes|=S),N=v.expirationTimes;for(var k=S;0<k;){var j=31-Fr(k),ve=1<<j;N[j]=-1,k&=~ve}M!==0&&W(v,M,S)}function V0(){return(mi&6)===0?(ce(0),!1):!0}function ap(){if(li!==null){if(Yi===0)var v=li.return;else v=li,vs=Bu=null,Sr(v),Tf=null,Va=0,v=li;for(;v!==null;)X(v.alternate,v),v=v.return;li=null}}function cu(v,S){v.finishedWork=null,v.finishedLanes=0;var M=v.timeoutHandle;M!==zd&&(v.timeoutHandle=zd,pp(M)),M=v.cancelPendingCommit,M!==null&&(v.cancelPendingCommit=null,M()),ap(),Zi=v,li=M=rc(v.current,null),gi=S,Yi=0,na=null,ys=!1,bs=D(v,S),If=!1,ia=Qo=oo=_c=Ss=Er=0,_s=qd=null,Og=!1,(S&8)!==0&&(S|=S&32);var N=v.entangledLanes;if(N!==0)for(v=v.entanglements,N&=S;0<N;){var k=31-Fr(N),j=1<<k;S|=v[k],N&=~j}return Vs=S,re(),M}function Fa(v,S){Wn=null,Un.H=$r,S===Sp?(S=Qt(),Yi=3):S===_p?(S=Qt(),Yi=4):Yi=S===Sy?8:S!==null&&typeof S=="object"&&typeof S.then=="function"?6:1,na=S,li===null&&(Er=1,Zc(v,ue(S,v.current)))}function ba(){var v=Ao.current;return v===null?!0:(gi&4194176)===gi?ms===null:(gi&62914560)===gi||(gi&536870912)!==0?v===ms:!1}function Ti(){var v=Un.H;return Un.H=$r,v===null?$r:v}function fs(){var v=Un.A;return Un.A=Sc,v}function ds(){Er=4,ys||(gi&4194176)!==gi&&Ao.current!==null||(bs=!0),(Ss&134217727)===0&&(_c&134217727)===0||Zi===null||eo(Zi,gi,Qo,!1)}function op(v,S,M){var N=mi;mi|=2;var k=Ti(),j=fs();(Zi!==v||gi!==S)&&(Bf=null,cu(v,S)),S=!1;var ve=Er;e:do try{if(Yi!==0&&li!==null){var Le=li,nt=na;switch(Yi){case 8:ap(),ve=6;break e;case 3:case 2:case 6:Ao.current===null&&(S=!0);var wt=Yi;if(Yi=0,na=null,ml(v,Le,nt,wt),M&&bs){ve=0;break e}break;default:wt=Yi,Yi=0,na=null,ml(v,Le,nt,wt)}}vf(),ve=Er;break}catch(jt){Fa(v,jt)}while(!0);return S&&v.shellSuspendCounter++,vs=Bu=null,mi=N,Un.H=k,Un.A=j,li===null&&(Zi=null,gi=0,re()),ve}function vf(){for(;li!==null;)Od(li)}function n_(v,S){var M=mi;mi|=2;var N=Ti(),k=fs();Zi!==v||gi!==S?(Bf=null,Zo=qo()+500,cu(v,S)):bs=D(v,S);e:do try{if(Yi!==0&&li!==null){S=li;var j=na;t:switch(Yi){case 1:Yi=0,na=null,ml(v,S,j,1);break;case 2:if(mt(j)){Yi=0,na=null,Id(S);break}S=function(){Yi===2&&Zi===v&&(Yi=7),ot(v)},j.then(S,S);break e;case 3:Yi=7;break e;case 4:Yi=5;break e;case 7:mt(j)?(Yi=0,na=null,Id(S)):(Yi=0,na=null,ml(v,S,j,7));break;case 5:var ve=null;switch(li.tag){case 26:ve=li.memoizedState;case 5:case 27:var Le=li,nt=Le.type,wt=Le.pendingProps;if(ve?py(ve):Q0(nt,wt)){Yi=0,na=null;var jt=Le.sibling;if(jt!==null)li=jt;else{var nn=Le.return;nn!==null?(li=nn,uu(nn)):li=null}break t}}Yi=0,na=null,ml(v,S,j,5);break;case 6:Yi=0,na=null,ml(v,S,j,6);break;case 8:ap(),Er=6;break e;default:throw Error(a(462))}}i_();break}catch(Ht){Fa(v,Ht)}while(!0);return vs=Bu=null,Un.H=N,Un.A=k,mi=M,li!==null?0:(Zi=null,gi=0,re(),Er)}function i_(){for(;li!==null&&!Eu();)Od(li)}function Od(v){var S=tg(v.alternate,v,Vs);v.memoizedProps=v.pendingProps,S===null?uu(v):li=S}function Id(v){var S=v,M=S.alternate;switch(S.tag){case 15:case 0:S=Qm(M,S,S.pendingProps,S.type,void 0,gi);break;case 11:S=Qm(M,S,S.pendingProps,S.type.render,S.ref,gi);break;case 5:Sr(S);default:X(M,S),S=li=yf(S,Vs),S=tg(M,S,Vs)}v.memoizedProps=v.pendingProps,S===null?uu(v):li=S}function ml(v,S,M,N){vs=Bu=null,Sr(S),Tf=null,Va=0;var k=S.return;try{if(k0(v,k,S,M,gi)){Er=1,Zc(v,ue(M,v.current)),li=null;return}}catch(j){if(k!==null)throw li=k,j;Er=1,Zc(v,ue(M,v.current)),li=null;return}S.flags&32768?(Ri||N===1?v=!0:bs||(gi&536870912)!==0?v=!1:(ys=v=!0,(N===2||N===3||N===6)&&(N=Ao.current,N!==null&&N.tag===13&&(N.flags|=16384))),j0(S,v)):uu(S)}function uu(v){var S=v;do{if((S.flags&32768)!==0){j0(S,ys);return}v=S.return;var M=H(S.alternate,S,Vs);if(M!==null){li=M;return}if(S=S.sibling,S!==null){li=S;return}li=S=v}while(S!==null);Er===0&&(Er=5)}function j0(v,S){do{var M=V(v.alternate,v);if(M!==null){M.flags&=32767,li=M;return}if(M=v.return,M!==null&&(M.flags|=32768,M.subtreeFlags=0,M.deletions=null),!S&&(v=v.sibling,v!==null)){li=v;return}li=v=M}while(v!==null);Er=6,li=null}function og(v,S,M,N,k,j,ve,Le,nt,wt){var jt=Un.T,nn=_u();try{to(2),Un.T=null,r_(v,S,M,N,nn,k,j,ve,Le,nt,wt)}finally{Un.T=jt,to(nn)}}function r_(v,S,M,N,k,j,ve,Le){do fu();while(Pu!==null);if((mi&6)!==0)throw Error(a(327));var nt=v.finishedWork;if(N=v.finishedLanes,nt===null)return null;if(v.finishedWork=null,v.finishedLanes=0,nt===v.current)throw Error(a(177));v.callbackNode=null,v.callbackPriority=0,v.cancelPendingCommit=null;var wt=nt.lanes|nt.childLanes;if(wt|=Hs,J(v,N,wt,j,ve,Le),v===Zi&&(li=Zi=null,gi=0),(nt.subtreeFlags&10256)===0&&(nt.flags&10256)===0||xc||(xc=!0,Ig=wt,wp=M,a_(Gd,function(){return fu(),null})),M=(nt.flags&15990)!==0,(nt.subtreeFlags&15990)!==0||M?(M=Un.T,Un.T=null,j=_u(),to(2),ve=mi,mi|=4,hn(v,nt),jo(nt,v),xA(v.containerInfo),v.current=nt,Ln(v,nt.alternate,nt),dc(),mi=ve,to(j),Un.T=M):v.current=nt,xc?(xc=!1,Pu=v,Kd=N):sp(v,wt),wt=v.pendingLanes,wt===0&&(Ml=null),Y(nt.stateNode),ot(v),S!==null)for(k=v.onRecoverableError,nt=0;nt<S.length;nt++)wt=S[nt],k(wt.value,{componentStack:wt.stack});return(Kd&3)!==0&&fu(),wt=v.pendingLanes,(N&4194218)!==0&&(wt&42)!==0?v===Cy?Df++:(Df=0,Cy=v):Df=0,ce(0),null}function sp(v,S){(v.pooledCacheLanes&=S)===0&&(S=v.pooledCache,S!=null&&(v.pooledCache=null,So(S)))}function fu(){if(Pu!==null){var v=Pu,S=Ig;Ig=0;var M=oe(Kd),N=32>M?32:M;M=Un.T;var k=_u();try{if(to(N),Un.T=null,Pu===null)var j=!1;else{N=wp,wp=null;var ve=Pu,Le=Kd;if(Pu=null,Kd=0,(mi&6)!==0)throw Error(a(331));var nt=mi;if(mi|=4,ec(ve.current),us(ve,ve.current,Le,N),mi=nt,ce(0,!1),ea&&typeof ea.onPostCommitFiberRoot=="function")try{ea.onPostCommitFiberRoot(kd,ve)}catch{}j=!0}return j}finally{to(k),Un.T=M,sp(v,S)}}return!1}function Bd(v,S,M){S=ue(M,S),S=Za(v.stateNode,S,2),v=je(v,S,2),v!==null&&($(v,2),ot(v))}function Vi(v,S,M){if(v.tag===3)Bd(v,v,M);else for(;S!==null;){if(S.tag===3){Bd(S,v,M);break}else if(S.tag===1){var N=S.stateNode;if(typeof S.type.getDerivedStateFromError=="function"||typeof N.componentDidCatch=="function"&&(Ml===null||!Ml.has(N))){v=ue(M,v),M=qh(2),N=je(S,M,2),N!==null&&(Ym(M,N,S,v),$(N,2),ot(N));break}}S=S.return}}function du(v,S,M){var N=v.pingCache;if(N===null){N=v.pingCache=new Ep;var k=new Set;N.set(S,k)}else k=N.get(S),k===void 0&&(k=new Set,N.set(S,k));k.has(M)||(If=!0,k.add(M),v=lp.bind(null,v,S,M),S.then(v,v))}function lp(v,S,M){var N=v.pingCache;N!==null&&N.delete(S),v.pingedLanes|=v.suspendedLanes&M,v.warmLanes&=~M,Zi===v&&(gi&M)===M&&(Er===4||Er===3&&(gi&62914560)===gi&&300>qo()-xy?(mi&2)===0&&cu(v,0):oo|=M,ia===gi&&(ia=0)),ot(v)}function cp(v,S){S===0&&(S=U()),v=Ye(v,S),v!==null&&($(v,S),ot(v))}function up(v){var S=v.memoizedState,M=0;S!==null&&(M=S.retryLane),cp(v,M)}function sg(v,S){var M=0;switch(v.tag){case 13:var N=v.stateNode,k=v.memoizedState;k!==null&&(M=k.retryLane);break;case 19:N=v.stateNode;break;case 22:N=v.stateNode._retryCache;break;default:throw Error(a(314))}N!==null&&N.delete(S),cp(v,M)}function a_(v,S){return _l(v,S)}function o_(v,S,M,N){this.tag=v,this.key=M,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=S,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=N,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ic(v){return v=v.prototype,!(!v||!v.isReactComponent)}function rc(v,S){var M=v.alternate;return M===null?(M=t(v.tag,S,v.key,v.mode),M.elementType=v.elementType,M.type=v.type,M.stateNode=v.stateNode,M.alternate=v,v.alternate=M):(M.pendingProps=S,M.type=v.type,M.flags=0,M.subtreeFlags=0,M.deletions=null),M.flags=v.flags&31457280,M.childLanes=v.childLanes,M.lanes=v.lanes,M.child=v.child,M.memoizedProps=v.memoizedProps,M.memoizedState=v.memoizedState,M.updateQueue=v.updateQueue,S=v.dependencies,M.dependencies=S===null?null:{lanes:S.lanes,firstContext:S.firstContext},M.sibling=v.sibling,M.index=v.index,M.ref=v.ref,M.refCleanup=v.refCleanup,M}function yf(v,S){v.flags&=31457282;var M=v.alternate;return M===null?(v.childLanes=0,v.lanes=S,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=M.childLanes,v.lanes=M.lanes,v.child=M.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=M.memoizedProps,v.memoizedState=M.memoizedState,v.updateQueue=M.updateQueue,v.type=M.type,S=M.dependencies,v.dependencies=S===null?null:{lanes:S.lanes,firstContext:S.firstContext}),v}function bf(v,S,M,N,k,j){var ve=0;if(N=v,typeof v=="function")ic(v)&&(ve=1);else if(typeof v=="string")ve=Yo&&Sa?ca(v,M,Hr.current)?26:_g(v)?27:5:Yo?ca(v,M,Hr.current)?26:5:Sa&&_g(v)?27:5;else e:switch(v){case mu:return hu(M.children,k,j,S);case Sf:ve=8,k|=24;break;case gu:return v=t(12,M,S,k|2),v.elementType=gu,v.lanes=j,v;case sc:return v=t(13,M,S,k),v.elementType=sc,v.lanes=j,v;case dp:return v=t(19,M,S,k),v.elementType=dp,v.lanes=j,v;case cc:return lg(M,k,j,S);default:if(typeof v=="object"&&v!==null)switch(v.$$typeof){case SA:case vu:ve=10;break e;case Y0:ve=9;break e;case cg:ve=11;break e;case Pd:ve=14;break e;case lc:ve=16,N=null;break e}ve=29,M=Error(a(130,v===null?"null":typeof v,"")),N=null}return S=t(ve,M,S,k),S.elementType=v,S.type=N,S.lanes=j,S}function hu(v,S,M,N){return v=t(7,v,N,S),v.lanes=M,v}function lg(v,S,M,N){v=t(22,v,N,S),v.elementType=cc,v.lanes=M;var k={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var j=k._current;if(j===null)throw Error(a(456));if((k._pendingVisibility&2)===0){var ve=Ye(j,2);ve!==null&&(k._pendingVisibility|=2,ur(ve,j,2))}},attach:function(){var j=k._current;if(j===null)throw Error(a(456));if((k._pendingVisibility&2)!==0){var ve=Ye(j,2);ve!==null&&(k._pendingVisibility&=-3,ur(ve,j,2))}}};return v.stateNode=k,v}function fp(v,S,M){return v=t(6,v,null,S),v.lanes=M,v}function xo(v,S,M){return S=t(4,v.children!==null?v.children:[],v.key,S),S.lanes=M,S.stateNode={containerInfo:v.containerInfo,pendingChildren:null,implementation:v.implementation},S}function gl(v,S,M,N,k,j,ve,Le){this.tag=1,this.containerInfo=v,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=zd,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=z(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=z(0),this.hiddenUpdates=z(null),this.identifierPrefix=N,this.onUncaughtError=k,this.onCaughtError=j,this.onRecoverableError=ve,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Le,this.incompleteTransitions=new Map}function ac(v,S,M,N,k,j,ve,Le,nt,wt,jt,nn){return v=new gl(v,S,M,ve,Le,nt,wt,nn),S=1,j===!0&&(S|=24),j=t(3,null,null,S),v.current=j,j.stateNode=v,S=bo(),S.refCount++,v.pooledCache=S,S.refCount++,j.memoizedState={element:N,isDehydrated:M,cache:S},at(j),v}function W0(v){return v?(v=Af,v):Af}function oc(v){var S=v._reactInternals;if(S===void 0)throw typeof v.render=="function"?Error(a(188)):(v=Object.keys(v).join(","),Error(a(268,v)));return v=C(S),v=v!==null?c(v):null,v===null?null:_f(v.stateNode)}function vl(v,S,M,N,k,j){k=W0(k),N.context===null?N.context=k:N.pendingContext=k,N=Ct(S),N.payload={element:M},j=j===void 0?null:j,j!==null&&(N.callback=j),M=je(v,N,S),M!==null&&(ur(M,v,S),it(M,v,S))}function Qr(v,S){if(v=v.memoizedState,v!==null&&v.dehydrated!==null){var M=v.retryLane;v.retryLane=M!==0&&M<S?M:S}}function Dd(v,S){Qr(v,S),(v=v.alternate)&&Qr(v,S)}var pi={},bA=E0(),Xo=fO(),zr=Object.assign,X0=Symbol.for("react.element"),pu=Symbol.for("react.transitional.element"),yl=Symbol.for("react.portal"),mu=Symbol.for("react.fragment"),Sf=Symbol.for("react.strict_mode"),gu=Symbol.for("react.profiler"),SA=Symbol.for("react.provider"),Y0=Symbol.for("react.consumer"),vu=Symbol.for("react.context"),cg=Symbol.for("react.forward_ref"),sc=Symbol.for("react.suspense"),dp=Symbol.for("react.suspense_list"),Pd=Symbol.for("react.memo"),lc=Symbol.for("react.lazy"),cc=Symbol.for("react.offscreen"),si=Symbol.for("react.memo_cache_sentinel"),Xi=Symbol.iterator,Zr=Symbol.for("react.client.reference"),Un=bA.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yu,bu,Ld=!1,Su=Array.isArray,Nd=e.rendererVersion,_A=e.rendererPackageName,Ir=e.extraDevToolsConfig,_f=e.getPublicInstance,q0=e.getRootHostContext,s_=e.getChildHostContext,l_=e.prepareForCommit,xA=e.resetAfterCommit,K0=e.createInstance,hp=e.appendInitialChild,ug=e.finalizeInitialChildren,Ta=e.shouldSetTextContent,Ur=e.createTextInstance,fg=e.scheduleTimeout,pp=e.cancelTimeout,zd=e.noTimeout,Ls=e.isPrimaryRenderer;e.warnsIfNotActing;var xr=e.supportsMutation,Ns=e.supportsPersistence,Co=e.supportsHydration,dg=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var c_=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var to=e.setCurrentUpdatePriority,_u=e.getCurrentUpdatePriority,u_=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var f_=e.shouldAttemptEagerTransition,d_=e.detachDeletedInstance;e.requestPostPaintCallback;var J0=e.maySuspendCommit,Q0=e.preloadInstance,CA=e.startSuspendingCommit,Z0=e.suspendInstance,h_=e.waitForCommitToBeReady,xf=e.NotPendingTransition,uc=e.HostTransitionContext,p_=e.resetFormInstance;e.bindToConsole;var m_=e.supportsMicrotasks,g_=e.scheduleMicrotask,Ud=e.supportsTestSelectors,v_=e.findFiberRoot,EA=e.getBoundingRect,y_=e.getTextContent,bl=e.isHiddenSubtree,b_=e.matchAccessibilityRole,hg=e.setFocusIfFocusable,pg=e.setupIntersectionObserver,S_=e.appendChild,ey=e.appendChildToContainer,__=e.commitTextUpdate,x_=e.commitMount,C_=e.commitUpdate,E_=e.insertBefore,ty=e.insertInContainerBefore,w_=e.removeChild,A_=e.removeChildFromContainer,mg=e.resetTextContent,M_=e.hideInstance,T_=e.hideTextInstance,wA=e.unhideInstance,ny=e.unhideTextInstance,R_=e.clearContainer,O_=e.cloneInstance,gg=e.createContainerChildSet,iy=e.appendChildToContainerChildSet,I_=e.finalizeContainerChildren,B_=e.replaceContainerChildren,D_=e.cloneHiddenInstance,ry=e.cloneHiddenTextInstance,Cf=e.isSuspenseInstancePending,mp=e.isSuspenseInstanceFallback,vg=e.getSuspenseInstanceFallbackErrorDetails,P_=e.registerSuspenseInstanceRetry,L_=e.canHydrateFormStateMarker,Sl=e.isFormStateMarkerMatching,xu=e.getNextHydratableSibling,fc=e.getFirstHydratableChild,Ef=e.getFirstHydratableChildWithinContainer,ay=e.getFirstHydratableChildWithinSuspenseInstance,oy=e.canHydrateInstance,N_=e.canHydrateTextInstance,z_=e.canHydrateSuspenseInstance,wf=e.hydrateInstance,yg=e.hydrateTextInstance,U_=e.hydrateSuspenseInstance,F_=e.getNextHydratableInstanceAfterSuspenseInstance,H_=e.commitHydratedContainer,bg=e.commitHydratedSuspenseInstance,G_=e.clearSuspenseBoundary,sy=e.clearSuspenseBoundaryFromContainer,ly=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var k_=e.validateHydratableInstance,AA=e.validateHydratableTextInstance,Yo=e.supportsResources,ca=e.isHostHoistableType,ua=e.getHoistableRoot,cy=e.getResource,uy=e.acquireResource,fy=e.releaseResource,$_=e.hydrateHoistable,dy=e.mountHoistable,Fd=e.unmountHoistable,hy=e.createHoistableInstance,V_=e.prepareToCommitHoistables,j_=e.mayResourceSuspendCommit,py=e.preloadResource,my=e.suspendResource,Sa=e.supportsSingletons,Sg=e.resolveSingletonInstance,W_=e.clearSingleton,gy=e.acquireSingletonInstance,vy=e.releaseSingletonInstance,_g=e.isHostSingletonType,xg=[],Cu=-1,Af={},Fr=Math.clz32?Math.clz32:T,yy=Math.log,MA=Math.LN2,gp=128,Hd=4194304,_l=Xo.unstable_scheduleCallback,zs=Xo.unstable_cancelCallback,Eu=Xo.unstable_shouldYield,dc=Xo.unstable_requestPaint,qo=Xo.unstable_now,Cg=Xo.unstable_ImmediatePriority,vp=Xo.unstable_UserBlockingPriority,Gd=Xo.unstable_NormalPriority,Mf=Xo.unstable_IdlePriority,Ha=Xo.log,Eg=Xo.unstable_setDisableYieldValue,kd=null,ea=null,no=typeof Object.is=="function"?Object.is:ee,wg=new WeakMap,Ko=[],Jo=0,wu=null,$d=0,Eo=[],Ga=0,Us=null,xl=1,Cl="",Hr=m(null),hs=m(null),hc=m(null),yp=m(null),Gr=null,Ji=null,Ri=!1,ps=null,Fs=!1,bp=Error(a(519)),wo=[],pc=0,Hs=0,pr=null,Au=null,Ag=!1,kr=!1,Mg=!1,Vd=0,jd=null,Tg=0,mr=0,_a=null,ka=!1,Rg=!1,X_=Object.prototype.hasOwnProperty,Sp=Error(a(460)),_p=Error(a(474)),io={then:function(){}},$a=null,Tf=null,Va=0,Mu=yn(!0),El=yn(!1),Gs=m(null),ks=m(0),Ao=m(null),ms=null,fr=m(0),mc=0,Wn=null,Ni=null,Cr=null,gc=!1,Rf=!1,Tu=!1,Ru=0,Wd=0,vc=null,Y_=0,by=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},$r={readContext:sa,use:Je,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useLayoutEffect:un,useInsertionEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useSyncExternalStore:un,useId:un};$r.useCacheRefresh=un,$r.useMemoCache=un,$r.useHostTransitionStatus=un,$r.useFormState=un,$r.useActionState=un,$r.useOptimistic=un;var yc={readContext:sa,use:Je,useCallback:function(v,S){return le().memoizedState=[v,S===void 0?null:S],v},useContext:sa,useEffect:wa,useImperativeHandle:function(v,S,M){M=M!=null?M.concat([v]):null,vo(4194308,4,_r.bind(null,S,v),M)},useLayoutEffect:function(v,S){return vo(4194308,4,v,S)},useInsertionEffect:function(v,S){vo(4,2,v,S)},useMemo:function(v,S){var M=le();S=S===void 0?null:S;var N=v();if(Tu){K(!0);try{v()}finally{K(!1)}}return M.memoizedState=[N,S],N},useReducer:function(v,S,M){var N=le();if(M!==void 0){var k=M(S);if(Tu){K(!0);try{M(S)}finally{K(!1)}}}else k=S;return N.memoizedState=N.baseState=k,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:v,lastRenderedState:k},N.queue=v,v=v.dispatch=Bs.bind(null,Wn,v),[N.memoizedState,v]},useRef:function(v){var S=le();return v={current:v},S.memoizedState=v},useState:function(v){v=In(v);var S=v.queue,M=ko.bind(null,Wn,S);return S.dispatch=M,[v.memoizedState,M]},useDebugValue:La,useDeferredValue:function(v,S){var M=le();return Is(M,v,S)},useTransition:function(){var v=In(!1);return v=Vl.bind(null,Wn,v.queue,!0,!1),le().memoizedState=v,[!1,v]},useSyncExternalStore:function(v,S,M){var N=Wn,k=le();if(Ri){if(M===void 0)throw Error(a(407));M=M()}else{if(M=S(),Zi===null)throw Error(a(349));(gi&60)!==0||fn(N,S,M)}k.memoizedState=M;var j={value:M,getSnapshot:S};return k.queue=j,wa(Hn.bind(null,N,j,v),[v]),N.flags|=2048,Or(9,on.bind(null,N,j,M,S),{destroy:void 0},null),M},useId:function(){var v=le(),S=Zi.identifierPrefix;if(Ri){var M=Cl,N=xl;M=(N&~(1<<32-Fr(N)-1)).toString(32)+M,S=":"+S+"R"+M,M=Ru++,0<M&&(S+="H"+M.toString(32)),S+=":"}else M=Y_++,S=":"+S+"r"+M.toString(32)+":";return v.memoizedState=S},useCacheRefresh:function(){return le().memoizedState=Hi.bind(null,Wn)}};yc.useMemoCache=$e,yc.useHostTransitionStatus=Sn,yc.useFormState=An,yc.useActionState=An,yc.useOptimistic=function(v){var S=le();S.memoizedState=S.baseState=v;var M={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return S.queue=M,S=$o.bind(null,Wn,!0,M),M.dispatch=S,[v,S]};var ro={readContext:sa,use:Je,useCallback:ma,useContext:sa,useEffect:Os,useImperativeHandle:Go,useInsertionEffect:lf,useLayoutEffect:Qc,useMemo:Aa,useReducer:Vt,useRef:Wi,useState:function(){return Vt(Tt)},useDebugValue:La,useDeferredValue:function(v,S){var M=Ue();return yo(M,Ni.memoizedState,v,S)},useTransition:function(){var v=Vt(Tt)[0],S=Ue().memoizedState;return[typeof v=="boolean"?v:rt(v),S]},useSyncExternalStore:gn,useId:Mi};ro.useCacheRefresh=xi,ro.useMemoCache=$e,ro.useHostTransitionStatus=Sn,ro.useFormState=_i,ro.useActionState=_i,ro.useOptimistic=function(v,S){var M=Ue();return bn(M,Ni,v,S)};var Ou={readContext:sa,use:Je,useCallback:ma,useContext:sa,useEffect:Os,useImperativeHandle:Go,useInsertionEffect:lf,useLayoutEffect:Qc,useMemo:Aa,useReducer:Wt,useRef:Wi,useState:function(){return Wt(Tt)},useDebugValue:La,useDeferredValue:function(v,S){var M=Ue();return Ni===null?Is(M,v,S):yo(M,Ni.memoizedState,v,S)},useTransition:function(){var v=Wt(Tt)[0],S=Ue().memoizedState;return[typeof v=="boolean"?v:rt(v),S]},useSyncExternalStore:gn,useId:Mi};Ou.useCacheRefresh=xi,Ou.useMemoCache=$e,Ou.useHostTransitionStatus=Sn,Ou.useFormState=qi,Ou.useActionState=qi,Ou.useOptimistic=function(v,S){var M=Ue();return Ni!==null?bn(M,Ni,v,S):(M.baseState=v,[v,M.queue.dispatch])};var Xd={isMounted:function(v){return(v=v._reactInternals)?y(v)===v:!1},enqueueSetState:function(v,S,M){v=v._reactInternals;var N=Ua(),k=Ct(N);k.payload=S,M!=null&&(k.callback=M),S=je(v,k,N),S!==null&&(ur(S,v,N),it(S,v,N))},enqueueReplaceState:function(v,S,M){v=v._reactInternals;var N=Ua(),k=Ct(N);k.tag=1,k.payload=S,M!=null&&(k.callback=M),S=je(v,k,N),S!==null&&(ur(S,v,N),it(S,v,N))},enqueueForceUpdate:function(v,S){v=v._reactInternals;var M=Ua(),N=Ct(M);N.tag=2,S!=null&&(N.callback=S),S=je(v,N,M),S!==null&&(ur(S,v,M),it(S,v,M))}},Iu=typeof reportError=="function"?reportError:function(v){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var S=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof v=="object"&&v!==null&&typeof v.message=="string"?String(v.message):String(v),error:v});if(!window.dispatchEvent(S))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",v);return}console.error(v)},Sy=Error(a(461)),ta=!1,xp={dehydrated:null,treeContext:null,retryLane:0},gs=m(null),Bu=null,vs=null,Cp=typeof AbortController<"u"?AbortController:function(){var v=[],S=this.signal={aborted:!1,addEventListener:function(M,N){v.push(N)}};this.abort=function(){S.aborted=!0,v.forEach(function(M){return M()})}},Mr=Xo.unstable_scheduleCallback,TA=Xo.unstable_NormalPriority,Br={$$typeof:vu,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},_y=Un.S;Un.S=function(v,S){typeof S=="object"&&S!==null&&typeof S.then=="function"&&st(v,S),_y!==null&&_y(v,S)};var Of=m(null),bc=!1,Xn=!1,Qi=!1,di=typeof WeakSet=="function"?WeakSet:Set,On=null,rr=!1,zi=null,Vr=!1,ja=null,Du=8192,Sc={getCacheForType:function(v){var S=sa(Br),M=S.data.get(v);return M===void 0&&(M=v(),S.data.set(v,M)),M}},gr=0,$s=1,wl=2,Yd=3,ao=4;if(typeof Symbol=="function"&&Symbol.for){var Al=Symbol.for;gr=Al("selector.component"),$s=Al("selector.has_pseudo_class"),wl=Al("selector.role"),Yd=Al("selector.test_id"),ao=Al("selector.text")}var Ep=typeof WeakMap=="function"?WeakMap:Map,mi=0,Zi=null,li=null,gi=0,Yi=0,na=null,ys=!1,bs=!1,If=!1,Vs=0,Er=0,Ss=0,_c=0,oo=0,Qo=0,ia=0,qd=null,_s=null,Og=!1,xy=0,Zo=1/0,Bf=null,Ml=null,xc=!1,Pu=null,Kd=0,Ig=0,wp=null,Df=0,Cy=null;return pi.attemptContinuousHydration=function(v){if(v.tag===13){var S=Ye(v,67108864);S!==null&&ur(S,v,67108864),Dd(v,67108864)}},pi.attemptHydrationAtCurrentPriority=function(v){if(v.tag===13){var S=Ua(),M=Ye(v,S);M!==null&&ur(M,v,S),Dd(v,S)}},pi.attemptSynchronousHydration=function(v){switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var S=R(v.pendingLanes);if(S!==0){for(v.pendingLanes|=2,v.entangledLanes|=2;S;){var M=1<<31-Fr(S);v.entanglements[1]|=M,S&=~M}ot(v),(mi&6)===0&&(Zo=qo()+500,ce(0))}}break;case 13:S=Ye(v,2),S!==null&&ur(S,v,2),V0(),Dd(v,2)}},pi.batchedUpdates=function(v,S){return v(S)},pi.createComponentSelector=function(v){return{$$typeof:gr,value:v}},pi.createContainer=function(v,S,M,N,k,j,ve,Le,nt,wt){return ac(v,S,!1,null,M,N,j,ve,Le,nt,wt,null)},pi.createHasPseudoClassSelector=function(v){return{$$typeof:$s,value:v}},pi.createHydrationContainer=function(v,S,M,N,k,j,ve,Le,nt,wt,jt,nn,Ht){return v=ac(M,N,!0,v,k,j,Le,nt,wt,jt,nn,Ht),v.context=W0(null),M=v.current,N=Ua(),k=Ct(N),k.callback=S??null,je(M,k,N),v.current.lanes=N,$(v,N),ot(v),v},pi.createPortal=function(v,S,M){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yl,key:N==null?null:""+N,children:v,containerInfo:S,implementation:M}},pi.createRoleSelector=function(v){return{$$typeof:wl,value:v}},pi.createTestNameSelector=function(v){return{$$typeof:Yd,value:v}},pi.createTextSelector=function(v){return{$$typeof:ao,value:v}},pi.defaultOnCaughtError=function(v){console.error(v)},pi.defaultOnRecoverableError=function(v){Iu(v)},pi.defaultOnUncaughtError=function(v){Iu(v)},pi.deferredUpdates=function(v){var S=Un.T,M=_u();try{return to(32),Un.T=null,v()}finally{to(M),Un.T=S}},pi.discreteUpdates=function(v,S,M,N,k){var j=Un.T,ve=_u();try{return to(2),Un.T=null,v(S,M,N,k)}finally{to(ve),Un.T=j,mi===0&&(Zo=qo()+500)}},pi.findAllNodes=lu,pi.findBoundingRects=function(v,S){if(!Ud)throw Error(a(363));S=lu(v,S),v=[];for(var M=0;M<S.length;M++)v.push(EA(S[M]));for(S=v.length-1;0<S;S--){M=v[S];for(var N=M.x,k=N+M.width,j=M.y,ve=j+M.height,Le=S-1;0<=Le;Le--)if(S!==Le){var nt=v[Le],wt=nt.x,jt=wt+nt.width,nn=nt.y,Ht=nn+nt.height;if(N>=wt&&j>=nn&&k<=jt&&ve<=Ht){v.splice(S,1);break}else if(N!==wt||M.width!==nt.width||Ht<j||nn>ve){if(!(j!==nn||M.height!==nt.height||jt<N||wt>k)){wt>N&&(nt.width+=wt-N,nt.x=N),jt<k&&(nt.width=k-wt),v.splice(S,1);break}}else{nn>j&&(nt.height+=nn-j,nt.y=j),Ht<ve&&(nt.height=ve-nn),v.splice(S,1);break}}}return v},pi.findHostInstance=oc,pi.findHostInstanceWithNoPortals=function(v){return v=C(v),v=v!==null?p(v):null,v===null?null:_f(v.stateNode)},pi.findHostInstanceWithWarning=function(v){return oc(v)},pi.flushPassiveEffects=fu,pi.flushSyncFromReconciler=function(v){var S=mi;mi|=1;var M=Un.T,N=_u();try{if(to(2),Un.T=null,v)return v()}finally{to(N),Un.T=M,mi=S,(mi&6)===0&&ce(0)}},pi.flushSyncWork=V0,pi.focusWithin=function(v,S){if(!Ud)throw Error(a(363));for(v=su(v),S=gf(v,S),S=Array.from(S),v=0;v<S.length;){var M=S[v++],N=M.tag;if(!bl(M)){if((N===5||N===26||N===27)&&hg(M.stateNode))return!0;for(M=M.child;M!==null;)S.push(M),M=M.sibling}}return!1},pi.getFindAllNodesFailureDescription=function(v,S){if(!Ud)throw Error(a(363));var M=0,N=[];v=[su(v),0];for(var k=0;k<v.length;){var j=v[k++],ve=j.tag,Le=v[k++],nt=S[Le];if((ve!==5&&ve!==26&&ve!==27||!bl(j))&&(ag(j,nt)&&(N.push(_o(nt)),Le++,Le>M&&(M=Le)),Le<S.length))for(j=j.child;j!==null;)v.push(j,Le),j=j.sibling}if(M<S.length){for(v=[];M<S.length;M++)v.push(_o(S[M]));return`findAllNodes was able to match part of the selector:
  `+(N.join(" > ")+`

No matching component was found for:
  `)+v.join(" > ")}return null},pi.getPublicRootInstance=function(v){if(v=v.current,!v.child)return null;switch(v.child.tag){case 27:case 5:return _f(v.child.stateNode);default:return v.child.stateNode}},pi.injectIntoDevTools=function(){var v={bundleType:0,version:Nd,rendererPackageName:_A,currentDispatcherRef:Un,findFiberByHostInstance:dg,reconcilerVersion:"19.0.0"};if(Ir!==null&&(v.rendererConfig=Ir),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")v=!1;else{var S=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(S.isDisabled||!S.supportsFiber)v=!0;else{try{kd=S.inject(v),ea=S}catch{}v=!!S.checkDCE}}return v},pi.isAlreadyRendering=function(){return!1},pi.observeVisibleRects=function(v,S,M,N){if(!Ud)throw Error(a(363));v=lu(v,S);var k=pg(v,M,N).disconnect;return{disconnect:function(){k()}}},pi.shouldError=function(){return null},pi.shouldSuspend=function(){return!1},pi.startHostTransition=function(v,S,M,N){if(v.tag!==5)throw Error(a(476));var k=tn(v).queue;Vl(v,k,S,xf,M===null?r:function(){var j=tn(v).next.queue;return Na(v,j,{},Ua()),M(N)})},pi.updateContainer=function(v,S,M,N){var k=S.current,j=Ua();return vl(k,j,v,S,M,N),j},pi.updateContainerSync=function(v,S,M,N){return S.tag===0&&fu(),vl(S.current,2,v,S,M,N),2},pi},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})}(UT)),UT.exports}var EN;function Tfe(){return EN||(EN=1,zT.exports=Mfe()),zT.exports}var Rfe=Tfe();const Ofe=zm(Rfe);var wN=fO();const Ife=n=>typeof n=="object"&&typeof n.then=="function",vm=[];function G6(n,e,t=(r,a)=>r===a){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let a=0;a<r;a++)if(!t(n[a],e[a]))return!1;return!0}function k6(n,e=null,t=!1,r={}){e===null&&(e=[n]);for(const o of vm)if(G6(e,o.keys,o.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(o,"error"))throw o.error;if(Object.prototype.hasOwnProperty.call(o,"response"))return r.lifespan&&r.lifespan>0&&(o.timeout&&clearTimeout(o.timeout),o.timeout=setTimeout(o.remove,r.lifespan)),o.response;if(!t)throw o.promise}const a={keys:e,equal:r.equal,remove:()=>{const o=vm.indexOf(a);o!==-1&&vm.splice(o,1)},promise:(Ife(n)?n:n(...e)).then(o=>{a.response=o,r.lifespan&&r.lifespan>0&&(a.timeout=setTimeout(a.remove,r.lifespan))}).catch(o=>a.error=o)};if(vm.push(a),!t)throw a.promise}const Bfe=(n,e,t)=>k6(n,e,!1,t),Dfe=(n,e,t)=>void k6(n,e,!0,t),Pfe=n=>{if(n===void 0||n.length===0)vm.splice(0,vm.length);else{const e=vm.find(t=>G6(n,t.keys,t.equal));e&&e.remove()}};function KI(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=e?n.return:n.child;for(;r;){const a=KI(r,e,t);if(a)return a;r=e?null:r.sibling}}function $6(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const JI=$6(A.createContext(null));let V6=class extends A.Component{render(){return A.createElement(JI.Provider,{value:this._reactInternals},this.props.children)}};function j6(){const n=A.useContext(JI);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=A.useId();return A.useMemo(()=>{for(const t of[n,n==null?void 0:n.alternate]){if(!t)continue;const r=KI(t,!1,a=>{let o=a.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(r)return r}},[n,e])}const Lfe=Symbol.for("react.context"),Nfe=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===Lfe;function zfe(){const n=j6(),[e]=A.useState(()=>new Map);e.clear();let t=n;for(;t;){const r=t.type;Nfe(r)&&r!==JI&&!e.has(r)&&e.set(r,A.use($6(r))),t=t.return}return e}function Ufe(){const n=zfe();return A.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>A.createElement(e,null,A.createElement(t.Provider,{...r,value:n.get(t)})),e=>A.createElement(V6,{...e})),[n])}function W6(n){let e=n.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const X6=n=>n&&n.isOrthographicCamera,Ffe=n=>n&&n.hasOwnProperty("current"),Hfe=n=>n!=null&&(typeof n=="string"||typeof n=="number"||n.isColor),qS=((n,e)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?A.useLayoutEffect:A.useEffect;function Y6(n){const e=A.useRef(n);return qS(()=>void(e.current=n),[n]),e}function Gfe(){const n=j6(),e=Ufe();return A.useMemo(()=>({children:t})=>{const a=!!KI(n,!0,o=>o.type===A.StrictMode)?A.StrictMode:A.Fragment;return ut.jsx(a,{children:ut.jsx(e,{children:t})})},[n,e])}function kfe({set:n}){return qS(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const $fe=(n=>(n=class extends A.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function q6(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}function sv(n){var e;return(e=n.__r3f)==null?void 0:e.root.getState()}const Dr={obj:n=>n===Object(n)&&!Dr.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,nul:n=>n===null,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:a=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Dr.str(n)||Dr.num(n)||Dr.boo(n))return n===e;const o=Dr.obj(n);if(o&&r==="reference")return n===e;const l=Dr.arr(n);if(l&&t==="reference")return n===e;if((l||o)&&n===e)return!0;let s;for(s in n)if(!(s in e))return!1;if(o&&t==="shallow"&&r==="shallow"){for(s in a?e:n)if(!Dr.equ(n[s],e[s],{strict:a,objects:"reference"}))return!1}else for(s in a?e:n)if(n[s]!==e[s])return!1;if(Dr.und(s)){if(l&&n.length===0&&e.length===0||o&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function Vfe(n){const e={nodes:{},materials:{},meshes:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material),t.isMesh&&!e.meshes[t.name]&&(e.meshes[t.name]=t)}),e}function jfe(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const e in n){const t=n[e];(t==null?void 0:t.type)!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const K6=["children","key","ref"];function Wfe(n){const e={};for(const t in n)K6.includes(t)||(e[t]=n[t]);return e}function PE(n,e,t,r){const a=n;let o=a==null?void 0:a.__r3f;return o||(o={root:e,type:t,parent:null,children:[],props:Wfe(r),object:a,eventCount:0,handlers:{},isHidden:!1},a&&(a.__r3f=o)),o}function vS(n,e){let t=n[e];if(!e.includes("-"))return{root:n,key:e,target:t};t=n;for(const a of e.split("-")){var r;e=a,n=t,t=(r=t)==null?void 0:r[e]}return{root:n,key:e,target:t}}const AN=/-\d+$/;function LE(n,e){if(Dr.str(e.props.attach)){if(AN.test(e.props.attach)){const a=e.props.attach.replace(AN,""),{root:o,key:l}=vS(n.object,a);Array.isArray(o[l])||(o[l]=[])}const{root:t,key:r}=vS(n.object,e.props.attach);e.previousAttach=t[r],t[r]=e.object}else Dr.fun(e.props.attach)&&(e.previousAttach=e.props.attach(n.object,e.object))}function NE(n,e){if(Dr.str(e.props.attach)){const{root:t,key:r}=vS(n.object,e.props.attach),a=e.previousAttach;a===void 0?delete t[r]:t[r]=a}else e.previousAttach==null||e.previousAttach(n.object,e.object);delete e.previousAttach}const z2=[...K6,"args","dispose","attach","object","onUpdate","dispose"],MN=new Map;function Xfe(n){let e=MN.get(n.constructor);try{e||(e=new n.constructor,MN.set(n.constructor,e))}catch{}return e}function Yfe(n,e){const t={};for(const r in e)if(!z2.includes(r)&&!Dr.equ(e[r],n.props[r])){t[r]=e[r];for(const a in e)a.startsWith(`${r}-`)&&(t[a]=e[a])}for(const r in n.props){if(z2.includes(r)||e.hasOwnProperty(r))continue;const{root:a,key:o}=vS(n.object,r);if(a.constructor&&a.constructor.length===0){const l=Xfe(a);Dr.und(l)||(t[o]=l[o])}else t[o]=0}return t}const qfe=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],Kfe=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function xh(n,e){var t;const r=n.__r3f,a=r&&W6(r).getState(),o=r==null?void 0:r.eventCount;for(const s in e){let u=e[s];if(z2.includes(s))continue;if(r&&Kfe.test(s)){typeof u=="function"?r.handlers[s]=u:delete r.handlers[s],r.eventCount=Object.keys(r.handlers).length;continue}if(u===void 0)continue;let{root:d,key:g,target:y}=vS(n,s);if(y instanceof v0&&u instanceof v0)y.mask=u.mask;else if(y instanceof en&&Hfe(u))y.set(u);else if(y!==null&&typeof y=="object"&&typeof y.set=="function"&&typeof y.copy=="function"&&u!=null&&u.constructor&&y.constructor===u.constructor)y.copy(u);else if(y!==null&&typeof y=="object"&&typeof y.set=="function"&&Array.isArray(u))typeof y.fromArray=="function"?y.fromArray(u):y.set(...u);else if(y!==null&&typeof y=="object"&&typeof y.set=="function"&&typeof u=="number")typeof y.setScalar=="function"?y.setScalar(u):y.set(u);else{var l;d[g]=u,a&&!a.linear&&qfe.includes(g)&&(l=d[g])!=null&&l.isTexture&&d[g].format===Lo&&d[g].type===Vc&&(d[g].colorSpace=Do)}}if(r!=null&&r.parent&&a!=null&&a.internal&&(t=r.object)!=null&&t.isObject3D&&o!==r.eventCount){const s=r.object,u=a.internal.interaction.indexOf(s);u>-1&&a.internal.interaction.splice(u,1),r.eventCount&&s.raycast!==null&&a.internal.interaction.push(s)}return r&&r.props.attach===void 0&&(r.object.isBufferGeometry?r.props.attach="geometry":r.object.isMaterial&&(r.props.attach="material")),r&&H0(r),n}function H0(n){var e;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const t=(e=n.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function Jfe(n,e){n.manual||(X6(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix())}const rs=n=>n==null?void 0:n.isObject3D;function yC(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function J6(n,e,t,r){const a=t.get(e);a&&(t.delete(e),t.size===0&&(n.delete(r),a.target.releasePointerCapture(r)))}function Qfe(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,a)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(a)}),t.capturedMap.forEach((r,a)=>{J6(t.capturedMap,e,r,a)})}function Zfe(n){function e(u){const{internal:d}=n.getState(),g=u.offsetX-d.initialClick[0],y=u.offsetY-d.initialClick[1];return Math.round(Math.sqrt(g*g+y*y))}function t(u){return u.filter(d=>["Move","Over","Enter","Out","Leave"].some(g=>{var y;return(y=d.__r3f)==null?void 0:y.handlers["onPointer"+g]}))}function r(u,d){const g=n.getState(),y=new Set,_=[],C=d?d(g.internal.interaction):g.internal.interaction;for(let b=0;b<C.length;b++){const E=sv(C[b]);E&&(E.raycaster.camera=void 0)}g.previousRoot||g.events.compute==null||g.events.compute(u,g);function c(b){const E=sv(b);if(!E||!E.events.enabled||E.raycaster.camera===null)return[];if(E.raycaster.camera===void 0){var T;E.events.compute==null||E.events.compute(u,E,(T=E.previousRoot)==null?void 0:T.getState()),E.raycaster.camera===void 0&&(E.raycaster.camera=null)}return E.raycaster.camera?E.raycaster.intersectObject(b,!0):[]}let p=C.flatMap(c).sort((b,E)=>{const T=sv(b.object),R=sv(E.object);return!T||!R?b.distance-E.distance:R.events.priority-T.events.priority||b.distance-E.distance}).filter(b=>{const E=yC(b);return y.has(E)?!1:(y.add(E),!0)});g.events.filter&&(p=g.events.filter(p,g));for(const b of p){let E=b.object;for(;E;){var m;(m=E.__r3f)!=null&&m.eventCount&&_.push({...b,eventObject:E}),E=E.parent}}if("pointerId"in u&&g.internal.capturedMap.has(u.pointerId))for(let b of g.internal.capturedMap.get(u.pointerId).values())y.has(yC(b.intersection))||_.push(b.intersection);return _}function a(u,d,g,y){if(u.length){const _={stopped:!1};for(const C of u){let c=sv(C.object);if(c||C.object.traverseAncestors(p=>{const m=sv(p);if(m)return c=m,!1}),c){const{raycaster:p,pointer:m,camera:b,internal:E}=c,T=new be(m.x,m.y,0).unproject(b),R=U=>{var z,$;return(z=($=E.capturedMap.get(U))==null?void 0:$.has(C.eventObject))!=null?z:!1},O=U=>{const z={intersection:C,target:d.target};E.capturedMap.has(U)?E.capturedMap.get(U).set(C.eventObject,z):E.capturedMap.set(U,new Map([[C.eventObject,z]])),d.target.setPointerCapture(U)},D=U=>{const z=E.capturedMap.get(U);z&&J6(E.capturedMap,C.eventObject,z,U)};let P={};for(let U in d){let z=d[U];typeof z!="function"&&(P[U]=z)}let F={...C,...P,pointer:m,intersections:u,stopped:_.stopped,delta:g,unprojectedPoint:T,ray:p.ray,camera:b,stopPropagation(){const U="pointerId"in d&&E.capturedMap.get(d.pointerId);if((!U||U.has(C.eventObject))&&(F.stopped=_.stopped=!0,E.hovered.size&&Array.from(E.hovered.values()).find(z=>z.eventObject===C.eventObject))){const z=u.slice(0,u.indexOf(C));o([...z,C])}},target:{hasPointerCapture:R,setPointerCapture:O,releasePointerCapture:D},currentTarget:{hasPointerCapture:R,setPointerCapture:O,releasePointerCapture:D},nativeEvent:d};if(y(F),_.stopped===!0)break}}}return u}function o(u){const{internal:d}=n.getState();for(const g of d.hovered.values())if(!u.length||!u.find(y=>y.object===g.object&&y.index===g.index&&y.instanceId===g.instanceId)){const _=g.eventObject.__r3f;if(d.hovered.delete(yC(g)),_!=null&&_.eventCount){const C=_.handlers,c={...g,intersections:u};C.onPointerOut==null||C.onPointerOut(c),C.onPointerLeave==null||C.onPointerLeave(c)}}}function l(u,d){for(let g=0;g<d.length;g++){const y=d[g].__r3f;y==null||y.handlers.onPointerMissed==null||y.handlers.onPointerMissed(u)}}function s(u){switch(u){case"onPointerLeave":case"onPointerCancel":return()=>o([]);case"onLostPointerCapture":return d=>{const{internal:g}=n.getState();"pointerId"in d&&g.capturedMap.has(d.pointerId)&&requestAnimationFrame(()=>{g.capturedMap.has(d.pointerId)&&(g.capturedMap.delete(d.pointerId),o([]))})}}return function(g){const{onPointerMissed:y,internal:_}=n.getState();_.lastEvent.current=g;const C=u==="onPointerMove",c=u==="onClick"||u==="onContextMenu"||u==="onDoubleClick",m=r(g,C?t:void 0),b=c?e(g):0;u==="onPointerDown"&&(_.initialClick=[g.offsetX,g.offsetY],_.initialHits=m.map(T=>T.eventObject)),c&&!m.length&&b<=2&&(l(g,_.interaction),y&&y(g)),C&&o(m);function E(T){const R=T.eventObject,O=R.__r3f;if(!(O!=null&&O.eventCount))return;const D=O.handlers;if(C){if(D.onPointerOver||D.onPointerEnter||D.onPointerOut||D.onPointerLeave){const P=yC(T),F=_.hovered.get(P);F?F.stopped&&T.stopPropagation():(_.hovered.set(P,T),D.onPointerOver==null||D.onPointerOver(T),D.onPointerEnter==null||D.onPointerEnter(T))}D.onPointerMove==null||D.onPointerMove(T)}else{const P=D[u];P?(!c||_.initialHits.includes(R))&&(l(g,_.interaction.filter(F=>!_.initialHits.includes(F))),P(T)):c&&_.initialHits.includes(R)&&l(g,_.interaction.filter(F=>!_.initialHits.includes(F)))}}a(m,g,b,E)}}return{handlePointer:s}}const TN=n=>!!(n!=null&&n.render),Q6=A.createContext(null),ede=(n,e)=>{const t=Afe((s,u)=>{const d=new be,g=new be,y=new be;function _(b=u().camera,E=g,T=u().size){const{width:R,height:O,top:D,left:P}=T,F=R/O;E.isVector3?y.copy(E):y.set(...E);const U=b.getWorldPosition(d).distanceTo(y);if(X6(b))return{width:R/b.zoom,height:O/b.zoom,top:D,left:P,factor:1,distance:U,aspect:F};{const z=b.fov*Math.PI/180,$=2*Math.tan(z/2)*U,J=$*(R/O);return{width:J,height:$,top:D,left:P,factor:R/J,distance:U,aspect:F}}}let C;const c=b=>s(E=>({performance:{...E.performance,current:b}})),p=new Mt;return{set:s,get:u,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(b=1)=>n(u(),b),advance:(b,E)=>e(b,E,u()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new VI,pointer:p,mouse:p,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const b=u();C&&clearTimeout(C),b.performance.current!==b.performance.min&&c(b.performance.min),C=setTimeout(()=>c(u().performance.max),b.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:_},setEvents:b=>s(E=>({...E,events:{...E.events,...b}})),setSize:(b,E,T=0,R=0)=>{const O=u().camera,D={width:b,height:E,top:T,left:R};s(P=>({size:D,viewport:{...P.viewport,..._(O,g,D)}}))},setDpr:b=>s(E=>{const T=q6(b);return{viewport:{...E.viewport,dpr:T,initialDpr:E.viewport.initialDpr||T}}}),setFrameloop:(b="always")=>{const E=u().clock;E.stop(),E.elapsedTime=0,b!=="never"&&(E.start(),E.elapsedTime=0),s(()=>({frameloop:b}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:A.createRef(),active:!1,frames:0,priority:0,subscribe:(b,E,T)=>{const R=u().internal;return R.priority=R.priority+(E>0?1:0),R.subscribers.push({ref:b,priority:E,store:T}),R.subscribers=R.subscribers.sort((O,D)=>O.priority-D.priority),()=>{const O=u().internal;O!=null&&O.subscribers&&(O.priority=O.priority-(E>0?1:0),O.subscribers=O.subscribers.filter(D=>D.ref!==b))}}}}}),r=t.getState();let a=r.size,o=r.viewport.dpr,l=r.camera;return t.subscribe(()=>{const{camera:s,size:u,viewport:d,gl:g,set:y}=t.getState();if(u.width!==a.width||u.height!==a.height||d.dpr!==o){a=u,o=d.dpr,Jfe(s,u),d.dpr>0&&g.setPixelRatio(d.dpr);const _=typeof HTMLCanvasElement<"u"&&g.domElement instanceof HTMLCanvasElement;g.setSize(u.width,u.height,_)}s!==l&&(l=s,y(_=>({viewport:{..._.viewport,..._.viewport.getCurrentViewport(s)}})))}),t.subscribe(s=>n(s)),t};function Z6(){const n=A.useContext(Q6);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function $f(n=t=>t,e){return Z6()(n,e)}function tde(n,e=0){const t=Z6(),r=t.getState().internal.subscribe,a=Y6(n);return qS(()=>r(a,e,t),[e,r,t]),null}const RN=new WeakMap,nde=n=>{var e;return typeof n=="function"&&(n==null||(e=n.prototype)==null?void 0:e.constructor)===n};function eG(n,e){return function(t,...r){let a;return nde(t)?(a=RN.get(t),a||(a=new t,RN.set(t,a))):a=t,n&&n(a),Promise.all(r.map(o=>new Promise((l,s)=>a.load(o,u=>{rs(u==null?void 0:u.scene)&&Object.assign(u,Vfe(u.scene)),l(u)},e,u=>s(new Error(`Could not load ${o}: ${u==null?void 0:u.message}`))))))}}function KS(n,e,t,r){const a=Array.isArray(e)?e:[e],o=Bfe(eG(t,r),[n,...a],{equal:Dr.equ});return Array.isArray(e)?o:o[0]}KS.preload=function(n,e,t){const r=Array.isArray(e)?e:[e];return Dfe(eG(t),[n,...r])};KS.clear=function(n,e){const t=Array.isArray(e)?e:[e];return Pfe([n,...t])};function ide(n){const e=Ofe(n);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:A.version}),e}const tG=0,S0={},rde=/^three(?=[A-Z])/,hA=n=>`${n[0].toUpperCase()}${n.slice(1)}`;let ade=0;const ode=n=>typeof n=="function";function sde(n){if(ode(n)){const e=`${ade++}`;return S0[e]=n,e}else Object.assign(S0,n)}function nG(n,e){const t=hA(n),r=S0[t];if(n!=="primitive"&&!r)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function lde(n,e,t){var r;return n=hA(n)in S0?n:n.replace(rde,""),nG(n,e),n==="primitive"&&(r=e.object)!=null&&r.__r3f&&delete e.object.__r3f,PE(e.object,t,n,e)}function cde(n){if(!n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?NE(n.parent,n):rs(n.object)&&(n.object.visible=!1),n.isHidden=!0,H0(n)}}function iG(n){if(n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?LE(n.parent,n):rs(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,H0(n)}}function QI(n,e,t){const r=e.root.getState();if(!(!n.parent&&n.object!==r.scene)){if(!e.object){var a,o;const l=S0[hA(e.type)];e.object=(a=e.props.object)!=null?a:new l(...(o=e.props.args)!=null?o:[]),e.object.__r3f=e}if(xh(e.object,e.props),e.props.attach)LE(n,e);else if(rs(e.object)&&rs(n.object)){const l=n.object.children.indexOf(t==null?void 0:t.object);if(t&&l!==-1){const s=n.object.children.indexOf(e.object);if(s!==-1){n.object.children.splice(s,1);const u=s<l?l-1:l;n.object.children.splice(u,0,e.object)}else e.object.parent=n.object,n.object.children.splice(l,0,e.object),e.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:e.object})}else n.object.add(e.object)}for(const l of e.children)QI(e,l);H0(e)}}function FT(n,e){e&&(e.parent=n,n.children.push(e),QI(n,e))}function ON(n,e,t){if(!e||!t)return;e.parent=n;const r=n.children.indexOf(t);r!==-1?n.children.splice(r,0,e):n.children.push(e),QI(n,e,t)}function rG(n){if(typeof n.dispose=="function"){const e=()=>{try{n.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():wN.unstable_scheduleCallback(wN.unstable_IdlePriority,e)}}function U2(n,e,t){if(!e)return;e.parent=null;const r=n.children.indexOf(e);r!==-1&&n.children.splice(r,1),e.props.attach?NE(n,e):rs(e.object)&&rs(n.object)&&(n.object.remove(e.object),Qfe(W6(e),e.object));const a=e.props.dispose!==null&&t!==!1;for(let o=e.children.length-1;o>=0;o--){const l=e.children[o];U2(e,l,a)}e.children.length=0,delete e.object.__r3f,a&&e.type!=="primitive"&&e.object.type!=="Scene"&&rG(e.object),t===void 0&&H0(e)}function ude(n,e){for(const t of[n,n.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const r=t.ref(e);typeof r=="function"&&(t.refCleanup=r)}else t.ref&&(t.ref.current=e)}const qC=[];function fde(){for(const[t]of qC){const r=t.parent;if(r){t.props.attach?NE(r,t):rs(t.object)&&rs(r.object)&&r.object.remove(t.object);for(const a of t.children)a.props.attach?NE(t,a):rs(a.object)&&rs(t.object)&&t.object.remove(a.object)}t.isHidden&&iG(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&rG(t.object)}for(const[t,r,a]of qC){t.props=r;const o=t.parent;if(o){var n,e;const l=S0[hA(t.type)];t.object=(n=t.props.object)!=null?n:new l(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,ude(a,t.object),xh(t.object,t.props),t.props.attach?LE(o,t):rs(t.object)&&rs(o.object)&&o.object.add(t.object);for(const s of t.children)s.props.attach?LE(t,s):rs(s.object)&&rs(t.object)&&t.object.add(s.object);H0(t)}}qC.length=0}const HT=()=>{},IN={};let bC=tG;const dde=0,hde=4,F2=ide({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:lde,removeChild:U2,appendChild:FT,appendInitialChild:FT,insertBefore:ON,appendChildToContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||FT(t,e)},removeChildFromContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||U2(t,e)},insertInContainerBefore(n,e,t){const r=n.getState().scene.__r3f;!e||!t||!r||ON(r,e,t)},getRootHostContext:()=>IN,getChildHostContext:()=>IN,commitUpdate(n,e,t,r,a){var o,l,s;nG(e,r);let u=!1;if((n.type==="primitive"&&t.object!==r.object||((o=r.args)==null?void 0:o.length)!==((l=t.args)==null?void 0:l.length)||(s=r.args)!=null&&s.some((g,y)=>{var _;return g!==((_=t.args)==null?void 0:_[y])}))&&(u=!0),u)qC.push([n,{...r},a]);else{const g=Yfe(n,r);Object.keys(g).length&&(Object.assign(n.props,g),xh(n.object,g))}(a.sibling===null||(a.flags&hde)===dde)&&fde()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n==null?void 0:n.object,prepareForCommit:()=>null,preparePortalMount:n=>PE(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:cde,unhideInstance:iG,createTextInstance:HT,hideTextInstance:HT,unhideTextInstance:HT,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:A.createContext(null),setCurrentUpdatePriority(n){bC=n},getCurrentUpdatePriority(){return bC},resolveUpdatePriority(){var n;if(bC!==tG)return bC;switch(typeof window<"u"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return YC.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return YC.ContinuousEventPriority;default:return YC.DefaultEventPriority}},resetFormInstance(){}}),Pm=new Map,lv={objects:"shallow",strict:!1};function pde(n,e){if(!e&&typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:r,top:a,left:o}=n.parentElement.getBoundingClientRect();return{width:t,height:r,top:a,left:o}}else if(!e&&typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function mde(n){const e=Pm.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const a=typeof reportError=="function"?reportError:console.error,o=r||ede(k2,DN),l=t||F2.createContainer(o,YC.ConcurrentRoot,null,!1,null,"",a,a,a,null);e||Pm.set(n,{fiber:l,store:o});let s,u,d=!1,g=null;return{async configure(y={}){let _;g=new Promise(ie=>_=ie);let{gl:C,size:c,scene:p,events:m,onCreated:b,shadows:E=!1,linear:T=!1,flat:R=!1,legacy:O=!1,orthographic:D=!1,frameloop:P="always",dpr:F=[1,2],performance:U,raycaster:z,camera:$,onPointerMissed:J}=y,W=o.getState(),Z=W.gl;if(!W.gl){const ie={canvas:n,powerPreference:"high-performance",antialias:!0,alpha:!0},me=typeof C=="function"?await C(ie):C;TN(me)?Z=me:Z=new H6({...ie,...C}),W.set({gl:Z})}let oe=W.raycaster;oe||W.set({raycaster:oe=new B6});const{params:Y,...K}=z||{};if(Dr.equ(K,oe,lv)||xh(oe,{...K}),Dr.equ(Y,oe.params,lv)||xh(oe,{params:{...oe.params,...Y}}),!W.camera||W.camera===u&&!Dr.equ(u,$,lv)){u=$;const ie=$==null?void 0:$.isCamera,me=ie?$:D?new dd(0,0,0,0,.1,1e3):new jr(75,0,.1,1e3);ie||(me.position.z=5,$&&(xh(me,$),me.manual||("aspect"in $||"left"in $||"right"in $||"bottom"in $||"top"in $)&&(me.manual=!0,me.updateProjectionMatrix())),!W.camera&&!($!=null&&$.rotation)&&me.lookAt(0,0,0)),W.set({camera:me}),oe.camera=me}if(!W.scene){let ie;p!=null&&p.isScene?(ie=p,PE(ie,o,"",{})):(ie=new SI,PE(ie,o,"",{}),p&&xh(ie,p)),W.set({scene:ie})}m&&!W.events.handlers&&W.set({events:m(o)});const ee=pde(n,c);if(Dr.equ(ee,W.size,lv)||W.setSize(ee.width,ee.height,ee.top,ee.left),F&&W.viewport.dpr!==q6(F)&&W.setDpr(F),W.frameloop!==P&&W.setFrameloop(P),W.onPointerMissed||W.set({onPointerMissed:J}),U&&!Dr.equ(U,W.performance,lv)&&W.set(ie=>({performance:{...ie.performance,...U}})),!W.xr){var ue;const ie=(Q,he)=>{const xe=o.getState();xe.frameloop!=="never"&&DN(Q,!0,xe,he)},me=()=>{const Q=o.getState();Q.gl.xr.enabled=Q.gl.xr.isPresenting,Q.gl.xr.setAnimationLoop(Q.gl.xr.isPresenting?ie:null),Q.gl.xr.isPresenting||k2(Q)},de={connect(){const Q=o.getState().gl;Q.xr.addEventListener("sessionstart",me),Q.xr.addEventListener("sessionend",me)},disconnect(){const Q=o.getState().gl;Q.xr.removeEventListener("sessionstart",me),Q.xr.removeEventListener("sessionend",me)}};typeof((ue=Z.xr)==null?void 0:ue.addEventListener)=="function"&&de.connect(),W.set({xr:de})}if(Z.shadowMap){const ie=Z.shadowMap.enabled,me=Z.shadowMap.type;if(Z.shadowMap.enabled=!!E,Dr.boo(E))Z.shadowMap.type=Ib;else if(Dr.str(E)){var q;const de={basic:XH,percentage:Dw,soft:Ib,variance:Rc};Z.shadowMap.type=(q=de[E])!=null?q:Ib}else Dr.obj(E)&&Object.assign(Z.shadowMap,E);(ie!==Z.shadowMap.enabled||me!==Z.shadowMap.type)&&(Z.shadowMap.needsUpdate=!0)}return Ii.enabled=!O,d||(Z.outputColorSpace=T?Gh:Do,Z.toneMapping=R?Yu:rI),W.legacy!==O&&W.set(()=>({legacy:O})),W.linear!==T&&W.set(()=>({linear:T})),W.flat!==R&&W.set(()=>({flat:R})),C&&!Dr.fun(C)&&!TN(C)&&!Dr.equ(C,Z,lv)&&xh(Z,C),s=b,d=!0,_(),this},render(y){return!d&&!g&&this.configure(),g.then(()=>{F2.updateContainer(ut.jsx(gde,{store:o,children:y,onCreated:s,rootElement:n}),l,null,()=>{})}),o},unmount(){aG(n)}}}function gde({store:n,children:e,onCreated:t,rootElement:r}){return qS(()=>{const a=n.getState();a.set(o=>({internal:{...o.internal,active:!0}})),t&&t(a),n.getState().events.connected||a.events.connect==null||a.events.connect(r)},[]),ut.jsx(Q6.Provider,{value:n,children:e})}function aG(n,e){const t=Pm.get(n),r=t==null?void 0:t.fiber;if(r){const a=t==null?void 0:t.store.getState();a&&(a.internal.active=!1),F2.updateContainer(null,r,null,()=>{a&&setTimeout(()=>{try{var o,l,s,u;a.events.disconnect==null||a.events.disconnect(),(o=a.gl)==null||(l=o.renderLists)==null||l.dispose==null||l.dispose(),(s=a.gl)==null||s.forceContextLoss==null||s.forceContextLoss(),(u=a.gl)!=null&&u.xr&&a.xr.disconnect(),jfe(a.scene),Pm.delete(n)}catch{}},500)})}}const vde=new Set,yde=new Set,bde=new Set;function GT(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function Hb(n,e){switch(n){case"before":return GT(vde,e);case"after":return GT(yde,e);case"tail":return GT(bde,e)}}let kT,$T;function H2(n,e,t){let r=e.clock.getDelta();e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),kT=e.internal.subscribers;for(let a=0;a<kT.length;a++)$T=kT[a],$T.ref.current($T.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let zE=!1,G2=!1,VT,BN,cv;function oG(n){BN=requestAnimationFrame(oG),zE=!0,VT=0,Hb("before",n),G2=!0;for(const t of Pm.values()){var e;cv=t.store.getState(),cv.internal.active&&(cv.frameloop==="always"||cv.internal.frames>0)&&!((e=cv.gl.xr)!=null&&e.isPresenting)&&(VT+=H2(n,cv))}if(G2=!1,Hb("after",n),VT===0)return Hb("tail",n),zE=!1,cancelAnimationFrame(BN)}function k2(n,e=1){var t;if(!n)return Pm.forEach(r=>k2(r.store.getState(),e));(t=n.gl.xr)!=null&&t.isPresenting||!n.internal.active||n.frameloop==="never"||(e>1?n.internal.frames=Math.min(60,n.internal.frames+e):G2?n.internal.frames=2:n.internal.frames=1,zE||(zE=!0,requestAnimationFrame(oG)))}function DN(n,e=!0,t,r){if(e&&Hb("before",n),t)H2(n,t,r);else for(const a of Pm.values())H2(n,a.store.getState());e&&Hb("after",n)}const jT={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Sde(n){const{handlePointer:e}=Zfe(n);return{priority:1,enabled:!0,compute(t,r,a){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(jT).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:a}=n.getState();(t=a.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(a.lastEvent.current)},connect:t=>{const{set:r,events:a}=n.getState();if(a.disconnect==null||a.disconnect(),r(o=>({events:{...o.events,connected:t}})),a.handlers)for(const o in a.handlers){const l=a.handlers[o],[s,u]=jT[o];t.addEventListener(s,l,{passive:u})}},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){if(r.handlers)for(const a in r.handlers){const o=r.handlers[a],[l]=jT[a];r.connected.removeEventListener(l,o)}t(a=>({events:{...a.events,connected:void 0}}))}}}}function PN(n,e){let t;return(...r)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...r),e)}}function _de({debounce:n,scroll:e,polyfill:t,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const a=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!a)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,l]=A.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),s=A.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o,orientationHandler:null}),u=n?typeof n=="number"?n:n.scroll:null,d=n?typeof n=="number"?n:n.resize:null,g=A.useRef(!1);A.useEffect(()=>(g.current=!0,()=>void(g.current=!1)));const[y,_,C]=A.useMemo(()=>{const b=()=>{if(!s.current.element)return;const{left:E,top:T,width:R,height:O,bottom:D,right:P,x:F,y:U}=s.current.element.getBoundingClientRect(),z={left:E,top:T,width:R,height:O,bottom:D,right:P,x:F,y:U};s.current.element instanceof HTMLElement&&r&&(z.height=s.current.element.offsetHeight,z.width=s.current.element.offsetWidth),Object.freeze(z),g.current&&!wde(s.current.lastBounds,z)&&l(s.current.lastBounds=z)};return[b,d?PN(b,d):b,u?PN(b,u):b]},[l,r,u,d]);function c(){s.current.scrollContainers&&(s.current.scrollContainers.forEach(b=>b.removeEventListener("scroll",C,!0)),s.current.scrollContainers=null),s.current.resizeObserver&&(s.current.resizeObserver.disconnect(),s.current.resizeObserver=null),s.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",s.current.orientationHandler))}function p(){s.current.element&&(s.current.resizeObserver=new a(C),s.current.resizeObserver.observe(s.current.element),e&&s.current.scrollContainers&&s.current.scrollContainers.forEach(b=>b.addEventListener("scroll",C,{capture:!0,passive:!0})),s.current.orientationHandler=()=>{C()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",s.current.orientationHandler))}const m=b=>{!b||b===s.current.element||(c(),s.current.element=b,s.current.scrollContainers=sG(b),p())};return Cde(C,!!e),xde(_),A.useEffect(()=>{c(),p()},[e,C,_]),A.useEffect(()=>c,[]),[m,o,y]}function xde(n){A.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function Cde(n,e){A.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function sG(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:a}=window.getComputedStyle(n);return[t,r,a].some(o=>o==="auto"||o==="scroll")&&e.push(n),[...e,...sG(n.parentElement)]}const Ede=["x","y","top","bottom","left","right","width","height"],wde=(n,e)=>Ede.every(t=>n[t]===e[t]);function Ade({ref:n,children:e,fallback:t,resize:r,style:a,gl:o,events:l=Sde,eventSource:s,eventPrefix:u,shadows:d,linear:g,flat:y,legacy:_,orthographic:C,frameloop:c,dpr:p,performance:m,raycaster:b,camera:E,scene:T,onPointerMissed:R,onCreated:O,...D}){A.useMemo(()=>sde(hfe),[]);const P=Gfe(),[F,U]=_de({scroll:!0,debounce:{scroll:50,resize:0},...r}),z=A.useRef(null),$=A.useRef(null);A.useImperativeHandle(n,()=>z.current);const J=Y6(R),[W,Z]=A.useState(!1),[oe,Y]=A.useState(!1);if(W)throw W;if(oe)throw oe;const K=A.useRef(null);qS(()=>{const ue=z.current;if(U.width>0&&U.height>0&&ue){K.current||(K.current=mde(ue));async function q(){await K.current.configure({gl:o,scene:T,events:l,shadows:d,linear:g,flat:y,legacy:_,orthographic:C,frameloop:c,dpr:p,performance:m,raycaster:b,camera:E,size:U,onPointerMissed:(...ie)=>J.current==null?void 0:J.current(...ie),onCreated:ie=>{ie.events.connect==null||ie.events.connect(s?Ffe(s)?s.current:s:$.current),u&&ie.setEvents({compute:(me,de)=>{const Q=me[u+"X"],he=me[u+"Y"];de.pointer.set(Q/de.size.width*2-1,-(he/de.size.height)*2+1),de.raycaster.setFromCamera(de.pointer,de.camera)}}),O==null||O(ie)}}),K.current.render(ut.jsx(P,{children:ut.jsx($fe,{set:Y,children:ut.jsx(A.Suspense,{fallback:ut.jsx(kfe,{set:Z}),children:e??null})})}))}q()}}),A.useEffect(()=>{const ue=z.current;if(ue)return()=>aG(ue)},[]);const ee=s?"none":"auto";return ut.jsx("div",{ref:$,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:ee,...a},...D,children:ut.jsx("div",{ref:F,style:{width:"100%",height:"100%"},children:ut.jsx("canvas",{ref:z,style:{display:"block"},children:t})})})}function Mde(n){return ut.jsx(V6,{children:ut.jsx(Ade,{...n})})}const Tde=parseInt(zS.replace(/\D+/g,""));function LN(n,e){if(e===E8)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===OE||e===mI){let t=n.getIndex();if(t===null){const l=[],s=n.getAttribute("position");if(s!==void 0){for(let u=0;u<s.count;u++)l.push(u);n.setIndex(l),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const r=t.count-2,a=[];if(t)if(e===OE)for(let l=1;l<=r;l++)a.push(t.getX(0)),a.push(t.getX(l)),a.push(t.getX(l+1));else for(let l=0;l<r;l++)l%2===0?(a.push(t.getX(l)),a.push(t.getX(l+1)),a.push(t.getX(l+2))):(a.push(t.getX(l+2)),a.push(t.getX(l+1)),a.push(t.getX(l)));a.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const o=n.clone();return o.setIndex(a),o.clearGroups(),o}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}var Rde=Object.defineProperty,Ode=(n,e,t)=>e in n?Rde(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ide=(n,e,t)=>(Ode(n,e+"",t),t);class Bde{constructor(){Ide(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const a=this._listeners[e];if(a!==void 0){const o=a.indexOf(t);o!==-1&&a.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const a=r.slice(0);for(let o=0,l=a.length;o<l;o++)a[o].call(this,e);e.target=null}}}var Dde=Object.defineProperty,Pde=(n,e,t)=>e in n?Dde(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Bn=(n,e,t)=>(Pde(n,typeof e!="symbol"?e+"":e,t),t);const SC=new $m,NN=new ed,Lde=Math.cos(70*(Math.PI/180)),zN=(n,e)=>(n%e+e)%e;let Nde=class extends Bde{constructor(e,t){super(),Bn(this,"object"),Bn(this,"domElement"),Bn(this,"enabled",!0),Bn(this,"target",new be),Bn(this,"minDistance",0),Bn(this,"maxDistance",1/0),Bn(this,"minZoom",0),Bn(this,"maxZoom",1/0),Bn(this,"minPolarAngle",0),Bn(this,"maxPolarAngle",Math.PI),Bn(this,"minAzimuthAngle",-1/0),Bn(this,"maxAzimuthAngle",1/0),Bn(this,"enableDamping",!1),Bn(this,"dampingFactor",.05),Bn(this,"enableZoom",!0),Bn(this,"zoomSpeed",1),Bn(this,"enableRotate",!0),Bn(this,"rotateSpeed",1),Bn(this,"enablePan",!0),Bn(this,"panSpeed",1),Bn(this,"screenSpacePanning",!0),Bn(this,"keyPanSpeed",7),Bn(this,"zoomToCursor",!1),Bn(this,"autoRotate",!1),Bn(this,"autoRotateSpeed",2),Bn(this,"reverseOrbit",!1),Bn(this,"reverseHorizontalOrbit",!1),Bn(this,"reverseVerticalOrbit",!1),Bn(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Bn(this,"mouseButtons",{LEFT:kp.ROTATE,MIDDLE:kp.DOLLY,RIGHT:kp.PAN}),Bn(this,"touches",{ONE:$p.ROTATE,TWO:$p.DOLLY_PAN}),Bn(this,"target0"),Bn(this,"position0"),Bn(this,"zoom0"),Bn(this,"_domElementKeyEvents",null),Bn(this,"getPolarAngle"),Bn(this,"getAzimuthalAngle"),Bn(this,"setPolarAngle"),Bn(this,"setAzimuthalAngle"),Bn(this,"getDistance"),Bn(this,"getZoomScale"),Bn(this,"listenToKeyEvents"),Bn(this,"stopListenToKeyEvents"),Bn(this,"saveState"),Bn(this,"reset"),Bn(this,"update"),Bn(this,"connect"),Bn(this,"dispose"),Bn(this,"dollyIn"),Bn(this,"dollyOut"),Bn(this,"getScale"),Bn(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>g.phi,this.getAzimuthalAngle=()=>g.theta,this.setPolarAngle=Se=>{let Ge=zN(Se,2*Math.PI),St=g.phi;St<0&&(St+=2*Math.PI),Ge<0&&(Ge+=2*Math.PI);let Me=Math.abs(Ge-St);2*Math.PI-Me<Me&&(Ge<St?Ge+=2*Math.PI:St+=2*Math.PI),y.phi=Ge-St,r.update()},this.setAzimuthalAngle=Se=>{let Ge=zN(Se,2*Math.PI),St=g.theta;St<0&&(St+=2*Math.PI),Ge<0&&(Ge+=2*Math.PI);let Me=Math.abs(Ge-St);2*Math.PI-Me<Me&&(Ge<St?Ge+=2*Math.PI:St+=2*Math.PI),y.theta=Ge-St,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=Se=>{Se.addEventListener("keydown",st),this._domElementKeyEvents=Se},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",st),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(a),r.update(),u=s.NONE},this.update=(()=>{const Se=new be,Ge=new be(0,1,0),St=new Ja().setFromUnitVectors(e.up,Ge),Me=St.clone().invert(),xt=new be,Qe=new Ja,mt=2*Math.PI;return function(){const It=r.object.position;St.setFromUnitVectors(e.up,Ge),Me.copy(St).invert(),Se.copy(It).sub(r.target),Se.applyQuaternion(St),g.setFromVector3(Se),r.autoRotate&&u===s.NONE&&Z(J()),r.enableDamping?(g.theta+=y.theta*r.dampingFactor,g.phi+=y.phi*r.dampingFactor):(g.theta+=y.theta,g.phi+=y.phi);let Qt=r.minAzimuthAngle,sn=r.maxAzimuthAngle;isFinite(Qt)&&isFinite(sn)&&(Qt<-Math.PI?Qt+=mt:Qt>Math.PI&&(Qt-=mt),sn<-Math.PI?sn+=mt:sn>Math.PI&&(sn-=mt),Qt<=sn?g.theta=Math.max(Qt,Math.min(sn,g.theta)):g.theta=g.theta>(Qt+sn)/2?Math.max(Qt,g.theta):Math.min(sn,g.theta)),g.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,g.phi)),g.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(C,r.dampingFactor):r.target.add(C),r.zoomToCursor&&U||r.object.isOrthographicCamera?g.radius=de(g.radius):g.radius=de(g.radius*_),Se.setFromSpherical(g),Se.applyQuaternion(Me),It.copy(r.target).add(Se),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(y.theta*=1-r.dampingFactor,y.phi*=1-r.dampingFactor,C.multiplyScalar(1-r.dampingFactor)):(y.set(0,0,0),C.set(0,0,0));let qt=!1;if(r.zoomToCursor&&U){let Dt=null;if(r.object instanceof jr&&r.object.isPerspectiveCamera){const Yt=Se.length();Dt=de(Yt*_);const yn=Yt-Dt;r.object.position.addScaledVector(P,yn),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const Yt=new be(F.x,F.y,0);Yt.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/_)),r.object.updateProjectionMatrix(),qt=!0;const yn=new be(F.x,F.y,0);yn.unproject(r.object),r.object.position.sub(yn).add(Yt),r.object.updateMatrixWorld(),Dt=Se.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;Dt!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(Dt).add(r.object.position):(SC.origin.copy(r.object.position),SC.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(SC.direction))<Lde?e.lookAt(r.target):(NN.setFromNormalAndCoplanarPoint(r.object.up,r.target),SC.intersectPlane(NN,r.target))))}else r.object instanceof dd&&r.object.isOrthographicCamera&&(qt=_!==1,qt&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/_)),r.object.updateProjectionMatrix()));return _=1,U=!1,qt||xt.distanceToSquared(r.object.position)>d||8*(1-Qe.dot(r.object.quaternion))>d?(r.dispatchEvent(a),xt.copy(r.object.position),Qe.copy(r.object.quaternion),qt=!1,!0):!1}})(),this.connect=Se=>{r.domElement=Se,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",at),r.domElement.addEventListener("pointerdown",ae),r.domElement.addEventListener("pointercancel",De),r.domElement.addEventListener("wheel",gt)},this.dispose=()=>{var Se,Ge,St,Me,xt,Qe;r.domElement&&(r.domElement.style.touchAction="auto"),(Se=r.domElement)==null||Se.removeEventListener("contextmenu",at),(Ge=r.domElement)==null||Ge.removeEventListener("pointerdown",ae),(St=r.domElement)==null||St.removeEventListener("pointercancel",De),(Me=r.domElement)==null||Me.removeEventListener("wheel",gt),(xt=r.domElement)==null||xt.ownerDocument.removeEventListener("pointermove",we),(Qe=r.domElement)==null||Qe.ownerDocument.removeEventListener("pointerup",De),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",st)};const r=this,a={type:"change"},o={type:"start"},l={type:"end"},s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let u=s.NONE;const d=1e-6,g=new D2,y=new D2;let _=1;const C=new be,c=new Mt,p=new Mt,m=new Mt,b=new Mt,E=new Mt,T=new Mt,R=new Mt,O=new Mt,D=new Mt,P=new be,F=new Mt;let U=!1;const z=[],$={};function J(){return 2*Math.PI/60/60*r.autoRotateSpeed}function W(){return Math.pow(.95,r.zoomSpeed)}function Z(Se){r.reverseOrbit||r.reverseHorizontalOrbit?y.theta+=Se:y.theta-=Se}function oe(Se){r.reverseOrbit||r.reverseVerticalOrbit?y.phi+=Se:y.phi-=Se}const Y=(()=>{const Se=new be;return function(St,Me){Se.setFromMatrixColumn(Me,0),Se.multiplyScalar(-St),C.add(Se)}})(),K=(()=>{const Se=new be;return function(St,Me){r.screenSpacePanning===!0?Se.setFromMatrixColumn(Me,1):(Se.setFromMatrixColumn(Me,0),Se.crossVectors(r.object.up,Se)),Se.multiplyScalar(St),C.add(Se)}})(),ee=(()=>{const Se=new be;return function(St,Me){const xt=r.domElement;if(xt&&r.object instanceof jr&&r.object.isPerspectiveCamera){const Qe=r.object.position;Se.copy(Qe).sub(r.target);let mt=Se.length();mt*=Math.tan(r.object.fov/2*Math.PI/180),Y(2*St*mt/xt.clientHeight,r.object.matrix),K(2*Me*mt/xt.clientHeight,r.object.matrix)}else xt&&r.object instanceof dd&&r.object.isOrthographicCamera?(Y(St*(r.object.right-r.object.left)/r.object.zoom/xt.clientWidth,r.object.matrix),K(Me*(r.object.top-r.object.bottom)/r.object.zoom/xt.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function ue(Se){r.object instanceof jr&&r.object.isPerspectiveCamera||r.object instanceof dd&&r.object.isOrthographicCamera?_=Se:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function q(Se){ue(_/Se)}function ie(Se){ue(_*Se)}function me(Se){if(!r.zoomToCursor||!r.domElement)return;U=!0;const Ge=r.domElement.getBoundingClientRect(),St=Se.clientX-Ge.left,Me=Se.clientY-Ge.top,xt=Ge.width,Qe=Ge.height;F.x=St/xt*2-1,F.y=-(Me/Qe)*2+1,P.set(F.x,F.y,1).unproject(r.object).sub(r.object.position).normalize()}function de(Se){return Math.max(r.minDistance,Math.min(r.maxDistance,Se))}function Q(Se){c.set(Se.clientX,Se.clientY)}function he(Se){me(Se),R.set(Se.clientX,Se.clientY)}function xe(Se){b.set(Se.clientX,Se.clientY)}function Oe(Se){p.set(Se.clientX,Se.clientY),m.subVectors(p,c).multiplyScalar(r.rotateSpeed);const Ge=r.domElement;Ge&&(Z(2*Math.PI*m.x/Ge.clientHeight),oe(2*Math.PI*m.y/Ge.clientHeight)),c.copy(p),r.update()}function Ae(Se){O.set(Se.clientX,Se.clientY),D.subVectors(O,R),D.y>0?q(W()):D.y<0&&ie(W()),R.copy(O),r.update()}function Te(Se){E.set(Se.clientX,Se.clientY),T.subVectors(E,b).multiplyScalar(r.panSpeed),ee(T.x,T.y),b.copy(E),r.update()}function ze(Se){me(Se),Se.deltaY<0?ie(W()):Se.deltaY>0&&q(W()),r.update()}function vt(Se){let Ge=!1;switch(Se.code){case r.keys.UP:ee(0,r.keyPanSpeed),Ge=!0;break;case r.keys.BOTTOM:ee(0,-r.keyPanSpeed),Ge=!0;break;case r.keys.LEFT:ee(r.keyPanSpeed,0),Ge=!0;break;case r.keys.RIGHT:ee(-r.keyPanSpeed,0),Ge=!0;break}Ge&&(Se.preventDefault(),r.update())}function Be(){if(z.length==1)c.set(z[0].pageX,z[0].pageY);else{const Se=.5*(z[0].pageX+z[1].pageX),Ge=.5*(z[0].pageY+z[1].pageY);c.set(Se,Ge)}}function Ce(){if(z.length==1)b.set(z[0].pageX,z[0].pageY);else{const Se=.5*(z[0].pageX+z[1].pageX),Ge=.5*(z[0].pageY+z[1].pageY);b.set(Se,Ge)}}function re(){const Se=z[0].pageX-z[1].pageX,Ge=z[0].pageY-z[1].pageY,St=Math.sqrt(Se*Se+Ge*Ge);R.set(0,St)}function Fe(){r.enableZoom&&re(),r.enablePan&&Ce()}function Ie(){r.enableZoom&&re(),r.enableRotate&&Be()}function Ye(Se){if(z.length==1)p.set(Se.pageX,Se.pageY);else{const St=it(Se),Me=.5*(Se.pageX+St.x),xt=.5*(Se.pageY+St.y);p.set(Me,xt)}m.subVectors(p,c).multiplyScalar(r.rotateSpeed);const Ge=r.domElement;Ge&&(Z(2*Math.PI*m.x/Ge.clientHeight),oe(2*Math.PI*m.y/Ge.clientHeight)),c.copy(p)}function ke(Se){if(z.length==1)E.set(Se.pageX,Se.pageY);else{const Ge=it(Se),St=.5*(Se.pageX+Ge.x),Me=.5*(Se.pageY+Ge.y);E.set(St,Me)}T.subVectors(E,b).multiplyScalar(r.panSpeed),ee(T.x,T.y),b.copy(E)}function lt(Se){const Ge=it(Se),St=Se.pageX-Ge.x,Me=Se.pageY-Ge.y,xt=Math.sqrt(St*St+Me*Me);O.set(0,xt),D.set(0,Math.pow(O.y/R.y,r.zoomSpeed)),q(D.y),R.copy(O)}function ot(Se){r.enableZoom&&lt(Se),r.enablePan&&ke(Se)}function ce(Se){r.enableZoom&&lt(Se),r.enableRotate&&Ye(Se)}function ae(Se){var Ge,St;r.enabled!==!1&&(z.length===0&&((Ge=r.domElement)==null||Ge.ownerDocument.addEventListener("pointermove",we),(St=r.domElement)==null||St.ownerDocument.addEventListener("pointerup",De)),_t(Se),Se.pointerType==="touch"?pt(Se):qe(Se))}function we(Se){r.enabled!==!1&&(Se.pointerType==="touch"?Ot(Se):He(Se))}function De(Se){var Ge,St,Me;Ct(Se),z.length===0&&((Ge=r.domElement)==null||Ge.releasePointerCapture(Se.pointerId),(St=r.domElement)==null||St.ownerDocument.removeEventListener("pointermove",we),(Me=r.domElement)==null||Me.ownerDocument.removeEventListener("pointerup",De)),r.dispatchEvent(l),u=s.NONE}function qe(Se){let Ge;switch(Se.button){case 0:Ge=r.mouseButtons.LEFT;break;case 1:Ge=r.mouseButtons.MIDDLE;break;case 2:Ge=r.mouseButtons.RIGHT;break;default:Ge=-1}switch(Ge){case kp.DOLLY:if(r.enableZoom===!1)return;he(Se),u=s.DOLLY;break;case kp.ROTATE:if(Se.ctrlKey||Se.metaKey||Se.shiftKey){if(r.enablePan===!1)return;xe(Se),u=s.PAN}else{if(r.enableRotate===!1)return;Q(Se),u=s.ROTATE}break;case kp.PAN:if(Se.ctrlKey||Se.metaKey||Se.shiftKey){if(r.enableRotate===!1)return;Q(Se),u=s.ROTATE}else{if(r.enablePan===!1)return;xe(Se),u=s.PAN}break;default:u=s.NONE}u!==s.NONE&&r.dispatchEvent(o)}function He(Se){if(r.enabled!==!1)switch(u){case s.ROTATE:if(r.enableRotate===!1)return;Oe(Se);break;case s.DOLLY:if(r.enableZoom===!1)return;Ae(Se);break;case s.PAN:if(r.enablePan===!1)return;Te(Se);break}}function gt(Se){r.enabled===!1||r.enableZoom===!1||u!==s.NONE&&u!==s.ROTATE||(Se.preventDefault(),r.dispatchEvent(o),ze(Se),r.dispatchEvent(l))}function st(Se){r.enabled===!1||r.enablePan===!1||vt(Se)}function pt(Se){switch(je(Se),z.length){case 1:switch(r.touches.ONE){case $p.ROTATE:if(r.enableRotate===!1)return;Be(),u=s.TOUCH_ROTATE;break;case $p.PAN:if(r.enablePan===!1)return;Ce(),u=s.TOUCH_PAN;break;default:u=s.NONE}break;case 2:switch(r.touches.TWO){case $p.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Fe(),u=s.TOUCH_DOLLY_PAN;break;case $p.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Ie(),u=s.TOUCH_DOLLY_ROTATE;break;default:u=s.NONE}break;default:u=s.NONE}u!==s.NONE&&r.dispatchEvent(o)}function Ot(Se){switch(je(Se),u){case s.TOUCH_ROTATE:if(r.enableRotate===!1)return;Ye(Se),r.update();break;case s.TOUCH_PAN:if(r.enablePan===!1)return;ke(Se),r.update();break;case s.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;ot(Se),r.update();break;case s.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;ce(Se),r.update();break;default:u=s.NONE}}function at(Se){r.enabled!==!1&&Se.preventDefault()}function _t(Se){z.push(Se)}function Ct(Se){delete $[Se.pointerId];for(let Ge=0;Ge<z.length;Ge++)if(z[Ge].pointerId==Se.pointerId){z.splice(Ge,1);return}}function je(Se){let Ge=$[Se.pointerId];Ge===void 0&&(Ge=new Mt,$[Se.pointerId]=Ge),Ge.set(Se.pageX,Se.pageY)}function it(Se){const Ge=Se.pointerId===z[0].pointerId?z[1]:z[0];return $[Ge.pointerId]}this.dollyIn=(Se=W())=>{ie(Se),r.update()},this.dollyOut=(Se=W())=>{q(Se),r.update()},this.getScale=()=>_,this.setScale=Se=>{ue(Se),r.update()},this.getZoomScale=()=>W(),t!==void 0&&this.connect(t),this.update()}};function UE(n){if(typeof TextDecoder<"u")return new TextDecoder().decode(n);let e="";for(let t=0,r=n.length;t<r;t++)e+=String.fromCharCode(n[t]);try{return decodeURIComponent(escape(e))}catch{return e}}const ym="srgb",hd="srgb-linear",UN=3001,zde=3e3;class ZI extends Ho{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new kde(t)}),this.register(function(t){return new $de(t)}),this.register(function(t){return new Qde(t)}),this.register(function(t){return new Zde(t)}),this.register(function(t){return new ehe(t)}),this.register(function(t){return new jde(t)}),this.register(function(t){return new Wde(t)}),this.register(function(t){return new Xde(t)}),this.register(function(t){return new Yde(t)}),this.register(function(t){return new Gde(t)}),this.register(function(t){return new qde(t)}),this.register(function(t){return new Vde(t)}),this.register(function(t){return new Jde(t)}),this.register(function(t){return new Kde(t)}),this.register(function(t){return new Fde(t)}),this.register(function(t){return new the(t)}),this.register(function(t){return new nhe(t)})}load(e,t,r,a){const o=this;let l;if(this.resourcePath!=="")l=this.resourcePath;else if(this.path!==""){const d=Bh.extractUrlBase(e);l=Bh.resolveURL(d,this.path)}else l=Bh.extractUrlBase(e);this.manager.itemStart(e);const s=function(d){a?a(d):console.error(d),o.manager.itemError(e),o.manager.itemEnd(e)},u=new ol(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(e,function(d){try{o.parse(d,l,function(g){t(g),o.manager.itemEnd(e)},s)}catch(g){s(g)}},r,s)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,a){let o;const l={},s={};if(typeof e=="string")o=JSON.parse(e);else if(e instanceof ArrayBuffer)if(UE(new Uint8Array(e.slice(0,4)))===lG){try{l[Si.KHR_BINARY_GLTF]=new ihe(e)}catch(g){a&&a(g);return}o=JSON.parse(l[Si.KHR_BINARY_GLTF].content)}else o=JSON.parse(UE(new Uint8Array(e)));else o=e;if(o.asset===void 0||o.asset.version[0]<2){a&&a(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const u=new ghe(o,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(let d=0;d<this.pluginCallbacks.length;d++){const g=this.pluginCallbacks[d](u);g.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),s[g.name]=g,l[g.name]=!0}if(o.extensionsUsed)for(let d=0;d<o.extensionsUsed.length;++d){const g=o.extensionsUsed[d],y=o.extensionsRequired||[];switch(g){case Si.KHR_MATERIALS_UNLIT:l[g]=new Hde;break;case Si.KHR_DRACO_MESH_COMPRESSION:l[g]=new rhe(o,this.dracoLoader);break;case Si.KHR_TEXTURE_TRANSFORM:l[g]=new ahe;break;case Si.KHR_MESH_QUANTIZATION:l[g]=new ohe;break;default:y.indexOf(g)>=0&&s[g]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+g+'".')}}u.setExtensions(l),u.setPlugins(s),u.parse(r,a)}parseAsync(e,t){const r=this;return new Promise(function(a,o){r.parse(e,t,a,o)})}}function Ude(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const Si={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Fde{constructor(e){this.parser=e,this.name=Si.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,a=t.length;r<a;r++){const o=t[r];o.extensions&&o.extensions[this.name]&&o.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,o.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let a=t.cache.get(r);if(a)return a;const o=t.json,u=((o.extensions&&o.extensions[this.name]||{}).lights||[])[e];let d;const g=new en(16777215);u.color!==void 0&&g.setRGB(u.color[0],u.color[1],u.color[2],hd);const y=u.range!==void 0?u.range:0;switch(u.type){case"directional":d=new kI(g),d.target.position.set(0,0,-1),d.add(d.target);break;case"point":d=new GI(g),d.distance=y;break;case"spot":d=new HI(g),d.distance=y,u.spot=u.spot||{},u.spot.innerConeAngle=u.spot.innerConeAngle!==void 0?u.spot.innerConeAngle:0,u.spot.outerConeAngle=u.spot.outerConeAngle!==void 0?u.spot.outerConeAngle:Math.PI/4,d.angle=u.spot.outerConeAngle,d.penumbra=1-u.spot.innerConeAngle/u.spot.outerConeAngle,d.target.position.set(0,0,-1),d.add(d.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+u.type)}return d.position.set(0,0,0),d.decay=2,Jf(d,u),u.intensity!==void 0&&(d.intensity=u.intensity),d.name=t.createUniqueName(u.name||"light_"+e),a=Promise.resolve(d),t.cache.add(r,a),a}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,r=this.parser,o=r.json.nodes[e],s=(o.extensions&&o.extensions[this.name]||{}).light;return s===void 0?null:this._loadLight(s).then(function(u){return r._getNodeRef(t.cache,s,u)})}}class Hde{constructor(){this.name=Si.KHR_MATERIALS_UNLIT}getMaterialType(){return tl}extendParams(e,t,r){const a=[];e.color=new en(1,1,1),e.opacity=1;const o=t.pbrMetallicRoughness;if(o){if(Array.isArray(o.baseColorFactor)){const l=o.baseColorFactor;e.color.setRGB(l[0],l[1],l[2],hd),e.opacity=l[3]}o.baseColorTexture!==void 0&&a.push(r.assignTexture(e,"map",o.baseColorTexture,ym))}return Promise.all(a)}}class Gde{constructor(e){this.parser=e,this.name=Si.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const a=this.parser.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const o=a.extensions[this.name].emissiveStrength;return o!==void 0&&(t.emissiveIntensity=o),Promise.resolve()}}class kde{constructor(e){this.parser=e,this.name=Si.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:$l}extendMaterialParams(e,t){const r=this.parser,a=r.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const o=[],l=a.extensions[this.name];if(l.clearcoatFactor!==void 0&&(t.clearcoat=l.clearcoatFactor),l.clearcoatTexture!==void 0&&o.push(r.assignTexture(t,"clearcoatMap",l.clearcoatTexture)),l.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=l.clearcoatRoughnessFactor),l.clearcoatRoughnessTexture!==void 0&&o.push(r.assignTexture(t,"clearcoatRoughnessMap",l.clearcoatRoughnessTexture)),l.clearcoatNormalTexture!==void 0&&(o.push(r.assignTexture(t,"clearcoatNormalMap",l.clearcoatNormalTexture)),l.clearcoatNormalTexture.scale!==void 0)){const s=l.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Mt(s,s)}return Promise.all(o)}}class $de{constructor(e){this.parser=e,this.name=Si.KHR_MATERIALS_DISPERSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:$l}extendMaterialParams(e,t){const a=this.parser.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const o=a.extensions[this.name];return t.dispersion=o.dispersion!==void 0?o.dispersion:0,Promise.resolve()}}class Vde{constructor(e){this.parser=e,this.name=Si.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:$l}extendMaterialParams(e,t){const r=this.parser,a=r.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const o=[],l=a.extensions[this.name];return l.iridescenceFactor!==void 0&&(t.iridescence=l.iridescenceFactor),l.iridescenceTexture!==void 0&&o.push(r.assignTexture(t,"iridescenceMap",l.iridescenceTexture)),l.iridescenceIor!==void 0&&(t.iridescenceIOR=l.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),l.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=l.iridescenceThicknessMinimum),l.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=l.iridescenceThicknessMaximum),l.iridescenceThicknessTexture!==void 0&&o.push(r.assignTexture(t,"iridescenceThicknessMap",l.iridescenceThicknessTexture)),Promise.all(o)}}class jde{constructor(e){this.parser=e,this.name=Si.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:$l}extendMaterialParams(e,t){const r=this.parser,a=r.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const o=[];t.sheenColor=new en(0,0,0),t.sheenRoughness=0,t.sheen=1;const l=a.extensions[this.name];if(l.sheenColorFactor!==void 0){const s=l.sheenColorFactor;t.sheenColor.setRGB(s[0],s[1],s[2],hd)}return l.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=l.sheenRoughnessFactor),l.sheenColorTexture!==void 0&&o.push(r.assignTexture(t,"sheenColorMap",l.sheenColorTexture,ym)),l.sheenRoughnessTexture!==void 0&&o.push(r.assignTexture(t,"sheenRoughnessMap",l.sheenRoughnessTexture)),Promise.all(o)}}class Wde{constructor(e){this.parser=e,this.name=Si.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:$l}extendMaterialParams(e,t){const r=this.parser,a=r.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const o=[],l=a.extensions[this.name];return l.transmissionFactor!==void 0&&(t.transmission=l.transmissionFactor),l.transmissionTexture!==void 0&&o.push(r.assignTexture(t,"transmissionMap",l.transmissionTexture)),Promise.all(o)}}class Xde{constructor(e){this.parser=e,this.name=Si.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:$l}extendMaterialParams(e,t){const r=this.parser,a=r.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const o=[],l=a.extensions[this.name];t.thickness=l.thicknessFactor!==void 0?l.thicknessFactor:0,l.thicknessTexture!==void 0&&o.push(r.assignTexture(t,"thicknessMap",l.thicknessTexture)),t.attenuationDistance=l.attenuationDistance||1/0;const s=l.attenuationColor||[1,1,1];return t.attenuationColor=new en().setRGB(s[0],s[1],s[2],hd),Promise.all(o)}}class Yde{constructor(e){this.parser=e,this.name=Si.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:$l}extendMaterialParams(e,t){const a=this.parser.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const o=a.extensions[this.name];return t.ior=o.ior!==void 0?o.ior:1.5,Promise.resolve()}}class qde{constructor(e){this.parser=e,this.name=Si.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:$l}extendMaterialParams(e,t){const r=this.parser,a=r.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const o=[],l=a.extensions[this.name];t.specularIntensity=l.specularFactor!==void 0?l.specularFactor:1,l.specularTexture!==void 0&&o.push(r.assignTexture(t,"specularIntensityMap",l.specularTexture));const s=l.specularColorFactor||[1,1,1];return t.specularColor=new en().setRGB(s[0],s[1],s[2],hd),l.specularColorTexture!==void 0&&o.push(r.assignTexture(t,"specularColorMap",l.specularColorTexture,ym)),Promise.all(o)}}class Kde{constructor(e){this.parser=e,this.name=Si.EXT_MATERIALS_BUMP}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:$l}extendMaterialParams(e,t){const r=this.parser,a=r.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const o=[],l=a.extensions[this.name];return t.bumpScale=l.bumpFactor!==void 0?l.bumpFactor:1,l.bumpTexture!==void 0&&o.push(r.assignTexture(t,"bumpMap",l.bumpTexture)),Promise.all(o)}}class Jde{constructor(e){this.parser=e,this.name=Si.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:$l}extendMaterialParams(e,t){const r=this.parser,a=r.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const o=[],l=a.extensions[this.name];return l.anisotropyStrength!==void 0&&(t.anisotropy=l.anisotropyStrength),l.anisotropyRotation!==void 0&&(t.anisotropyRotation=l.anisotropyRotation),l.anisotropyTexture!==void 0&&o.push(r.assignTexture(t,"anisotropyMap",l.anisotropyTexture)),Promise.all(o)}}class Qde{constructor(e){this.parser=e,this.name=Si.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,a=r.textures[e];if(!a.extensions||!a.extensions[this.name])return null;const o=a.extensions[this.name],l=t.options.ktx2Loader;if(!l){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,o.source,l)}}class Zde{constructor(e){this.parser=e,this.name=Si.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,a=r.json,o=a.textures[e];if(!o.extensions||!o.extensions[t])return null;const l=o.extensions[t],s=a.images[l.source];let u=r.textureLoader;if(s.uri){const d=r.options.manager.getHandler(s.uri);d!==null&&(u=d)}return this.detectSupport().then(function(d){if(d)return r.loadTextureImage(e,l.source,u);if(a.extensionsRequired&&a.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class ehe{constructor(e){this.parser=e,this.name=Si.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,a=r.json,o=a.textures[e];if(!o.extensions||!o.extensions[t])return null;const l=o.extensions[t],s=a.images[l.source];let u=r.textureLoader;if(s.uri){const d=r.options.manager.getHandler(s.uri);d!==null&&(u=d)}return this.detectSupport().then(function(d){if(d)return r.loadTextureImage(e,l.source,u);if(a.extensionsRequired&&a.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class the{constructor(e){this.name=Si.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const a=r.extensions[this.name],o=this.parser.getDependency("buffer",a.buffer),l=this.parser.options.meshoptDecoder;if(!l||!l.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return o.then(function(s){const u=a.byteOffset||0,d=a.byteLength||0,g=a.count,y=a.byteStride,_=new Uint8Array(s,u,d);return l.decodeGltfBufferAsync?l.decodeGltfBufferAsync(g,y,_,a.mode,a.filter).then(function(C){return C.buffer}):l.ready.then(function(){const C=new ArrayBuffer(g*y);return l.decodeGltfBuffer(new Uint8Array(C),g,y,_,a.mode,a.filter),C})})}else return null}}class nhe{constructor(e){this.name=Si.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,r=t.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const a=t.meshes[r.mesh];for(const d of a.primitives)if(d.mode!==Ll.TRIANGLES&&d.mode!==Ll.TRIANGLE_STRIP&&d.mode!==Ll.TRIANGLE_FAN&&d.mode!==void 0)return null;const l=r.extensions[this.name].attributes,s=[],u={};for(const d in l)s.push(this.parser.getDependency("accessor",l[d]).then(g=>(u[d]=g,u[d])));return s.length<1?null:(s.push(this.parser.createNodeMesh(e)),Promise.all(s).then(d=>{const g=d.pop(),y=g.isGroup?g.children:[g],_=d[0].count,C=[];for(const c of y){const p=new Pn,m=new be,b=new Ja,E=new be(1,1,1),T=new CI(c.geometry,c.material,_);for(let R=0;R<_;R++)u.TRANSLATION&&m.fromBufferAttribute(u.TRANSLATION,R),u.ROTATION&&b.fromBufferAttribute(u.ROTATION,R),u.SCALE&&E.fromBufferAttribute(u.SCALE,R),T.setMatrixAt(R,p.compose(m,b,E));for(const R in u)if(R==="_COLOR_0"){const O=u[R];T.instanceColor=new Rm(O.array,O.itemSize,O.normalized)}else R!=="TRANSLATION"&&R!=="ROTATION"&&R!=="SCALE"&&c.geometry.setAttribute(R,u[R]);Bi.prototype.copy.call(T,c),this.parser.assignFinalMaterial(T),C.push(T)}return g.isGroup?(g.clear(),g.add(...C),g):C[0]}))}}const lG="glTF",ib=12,FN={JSON:1313821514,BIN:5130562};class ihe{constructor(e){this.name=Si.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,ib);if(this.header={magic:UE(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==lG)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-ib,a=new DataView(e,ib);let o=0;for(;o<r;){const l=a.getUint32(o,!0);o+=4;const s=a.getUint32(o,!0);if(o+=4,s===FN.JSON){const u=new Uint8Array(e,ib+o,l);this.content=UE(u)}else if(s===FN.BIN){const u=ib+o;this.body=e.slice(u,u+l)}o+=l}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class rhe{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Si.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,a=this.dracoLoader,o=e.extensions[this.name].bufferView,l=e.extensions[this.name].attributes,s={},u={},d={};for(const g in l){const y=$2[g]||g.toLowerCase();s[y]=l[g]}for(const g in e.attributes){const y=$2[g]||g.toLowerCase();if(l[g]!==void 0){const _=r.accessors[e.attributes[g]],C=Zv[_.componentType];d[y]=C.name,u[y]=_.normalized===!0}}return t.getDependency("bufferView",o).then(function(g){return new Promise(function(y,_){a.decodeDracoFile(g,function(C){for(const c in C.attributes){const p=C.attributes[c],m=u[c];m!==void 0&&(p.normalized=m)}y(C)},s,d,hd,_)})})}}class ahe{constructor(){this.name=Si.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class ohe{constructor(){this.name=Si.KHR_MESH_QUANTIZATION}}class cG extends U0{constructor(e,t,r,a){super(e,t,r,a)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,a=this.valueSize,o=e*a*3+a;for(let l=0;l!==a;l++)t[l]=r[o+l];return t}interpolate_(e,t,r,a){const o=this.resultBuffer,l=this.sampleValues,s=this.valueSize,u=s*2,d=s*3,g=a-t,y=(r-t)/g,_=y*y,C=_*y,c=e*d,p=c-d,m=-2*C+3*_,b=C-_,E=1-m,T=b-_+y;for(let R=0;R!==s;R++){const O=l[p+R+s],D=l[p+R+u]*g,P=l[c+R+s],F=l[c+R]*g;o[R]=E*O+T*D+m*P+b*F}return o}}const she=new Ja;class lhe extends cG{interpolate_(e,t,r,a){const o=super.interpolate_(e,t,r,a);return she.fromArray(o).normalize().toArray(o),o}}const Ll={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},Zv={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},HN={9728:Ka,9729:ha,9984:Lw,9985:Jv,9986:hm,9987:Fl},GN={33071:el,33648:d0,10497:Hh},WT={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},$2={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...Tde>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},dh={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},che={CUBICSPLINE:void 0,LINEAR:m0,STEP:p0},XT={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function uhe(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new YS({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:ef})),n.DefaultMaterial}function Hp(n,e,t){for(const r in t.extensions)n[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=t.extensions[r])}function Jf(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function fhe(n,e,t){let r=!1,a=!1,o=!1;for(let d=0,g=e.length;d<g;d++){const y=e[d];if(y.POSITION!==void 0&&(r=!0),y.NORMAL!==void 0&&(a=!0),y.COLOR_0!==void 0&&(o=!0),r&&a&&o)break}if(!r&&!a&&!o)return Promise.resolve(n);const l=[],s=[],u=[];for(let d=0,g=e.length;d<g;d++){const y=e[d];if(r){const _=y.POSITION!==void 0?t.getDependency("accessor",y.POSITION):n.attributes.position;l.push(_)}if(a){const _=y.NORMAL!==void 0?t.getDependency("accessor",y.NORMAL):n.attributes.normal;s.push(_)}if(o){const _=y.COLOR_0!==void 0?t.getDependency("accessor",y.COLOR_0):n.attributes.color;u.push(_)}}return Promise.all([Promise.all(l),Promise.all(s),Promise.all(u)]).then(function(d){const g=d[0],y=d[1],_=d[2];return r&&(n.morphAttributes.position=g),a&&(n.morphAttributes.normal=y),o&&(n.morphAttributes.color=_),n.morphTargetsRelative=!0,n})}function dhe(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,r=e.weights.length;t<r;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let r=0,a=t.length;r<a;r++)n.morphTargetDictionary[t[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function hhe(n){let e;const t=n.extensions&&n.extensions[Si.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+YT(t.attributes):e=n.indices+":"+YT(n.attributes)+":"+n.mode,n.targets!==void 0)for(let r=0,a=n.targets.length;r<a;r++)e+=":"+YT(n.targets[r]);return e}function YT(n){let e="";const t=Object.keys(n).sort();for(let r=0,a=t.length;r<a;r++)e+=t[r]+":"+n[t[r]]+";";return e}function V2(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function phe(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const mhe=new Pn;class ghe{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new Ude,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,a=!1,o=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,a=navigator.userAgent.indexOf("Firefox")>-1,o=a?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||a&&o<98?this.textureLoader=new b6(this.options.manager):this.textureLoader=new M6(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new ol(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,a=this.json,o=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(l){return l._markDefs&&l._markDefs()}),Promise.all(this._invokeAll(function(l){return l.beforeRoot&&l.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(l){const s={scene:l[0][a.scene||0],scenes:l[0],animations:l[1],cameras:l[2],asset:a.asset,parser:r,userData:{}};return Hp(o,s,a),Jf(s,a),Promise.all(r._invokeAll(function(u){return u.afterRoot&&u.afterRoot(s)})).then(function(){for(const u of s.scenes)u.updateMatrixWorld();e(s)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let a=0,o=t.length;a<o;a++){const l=t[a].joints;for(let s=0,u=l.length;s<u;s++)e[l[s]].isBone=!0}for(let a=0,o=e.length;a<o;a++){const l=e[a];l.mesh!==void 0&&(this._addNodeRef(this.meshCache,l.mesh),l.skin!==void 0&&(r[l.mesh].isSkinnedMesh=!0)),l.camera!==void 0&&this._addNodeRef(this.cameraCache,l.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const a=r.clone(),o=(l,s)=>{const u=this.associations.get(l);u!=null&&this.associations.set(s,u);for(const[d,g]of l.children.entries())o(g,s.children[d])};return o(r,a),a.name+="_instance_"+e.uses[t]++,a}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const a=e(t[r]);if(a)return a}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let a=0;a<t.length;a++){const o=e(t[a]);o&&r.push(o)}return r}getDependency(e,t){const r=e+":"+t;let a=this.cache.get(r);if(!a){switch(e){case"scene":a=this.loadScene(t);break;case"node":a=this._invokeOne(function(o){return o.loadNode&&o.loadNode(t)});break;case"mesh":a=this._invokeOne(function(o){return o.loadMesh&&o.loadMesh(t)});break;case"accessor":a=this.loadAccessor(t);break;case"bufferView":a=this._invokeOne(function(o){return o.loadBufferView&&o.loadBufferView(t)});break;case"buffer":a=this.loadBuffer(t);break;case"material":a=this._invokeOne(function(o){return o.loadMaterial&&o.loadMaterial(t)});break;case"texture":a=this._invokeOne(function(o){return o.loadTexture&&o.loadTexture(t)});break;case"skin":a=this.loadSkin(t);break;case"animation":a=this._invokeOne(function(o){return o.loadAnimation&&o.loadAnimation(t)});break;case"camera":a=this.loadCamera(t);break;default:if(a=this._invokeOne(function(o){return o!=this&&o.getDependency&&o.getDependency(e,t)}),!a)throw new Error("Unknown type: "+e);break}this.cache.add(r,a)}return a}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,a=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(a.map(function(o,l){return r.getDependency(e,l)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Si.KHR_BINARY_GLTF].body);const a=this.options;return new Promise(function(o,l){r.load(Bh.resolveURL(t.uri,a.path),o,void 0,function(){l(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(r){const a=t.byteLength||0,o=t.byteOffset||0;return r.slice(o,o+a)})}loadAccessor(e){const t=this,r=this.json,a=this.json.accessors[e];if(a.bufferView===void 0&&a.sparse===void 0){const l=WT[a.type],s=Zv[a.componentType],u=a.normalized===!0,d=new s(a.count*l);return Promise.resolve(new ki(d,l,u))}const o=[];return a.bufferView!==void 0?o.push(this.getDependency("bufferView",a.bufferView)):o.push(null),a.sparse!==void 0&&(o.push(this.getDependency("bufferView",a.sparse.indices.bufferView)),o.push(this.getDependency("bufferView",a.sparse.values.bufferView))),Promise.all(o).then(function(l){const s=l[0],u=WT[a.type],d=Zv[a.componentType],g=d.BYTES_PER_ELEMENT,y=g*u,_=a.byteOffset||0,C=a.bufferView!==void 0?r.bufferViews[a.bufferView].byteStride:void 0,c=a.normalized===!0;let p,m;if(C&&C!==y){const b=Math.floor(_/C),E="InterleavedBuffer:"+a.bufferView+":"+a.componentType+":"+b+":"+a.count;let T=t.cache.get(E);T||(p=new d(s,b*C,a.count*C/g),T=new kS(p,C/g),t.cache.add(E,T)),m=new kh(T,u,_%C/g,c)}else s===null?p=new d(a.count*u):p=new d(s,_,a.count*u),m=new ki(p,u,c);if(a.sparse!==void 0){const b=WT.SCALAR,E=Zv[a.sparse.indices.componentType],T=a.sparse.indices.byteOffset||0,R=a.sparse.values.byteOffset||0,O=new E(l[1],T,a.sparse.count*b),D=new d(l[2],R,a.sparse.count*u);s!==null&&(m=new ki(m.array.slice(),m.itemSize,m.normalized));for(let P=0,F=O.length;P<F;P++){const U=O[P];if(m.setX(U,D[P*u]),u>=2&&m.setY(U,D[P*u+1]),u>=3&&m.setZ(U,D[P*u+2]),u>=4&&m.setW(U,D[P*u+3]),u>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return m})}loadTexture(e){const t=this.json,r=this.options,o=t.textures[e].source,l=t.images[o];let s=this.textureLoader;if(l.uri){const u=r.manager.getHandler(l.uri);u!==null&&(s=u)}return this.loadTextureImage(e,o,s)}loadTextureImage(e,t,r){const a=this,o=this.json,l=o.textures[e],s=o.images[t],u=(s.uri||s.bufferView)+":"+l.sampler;if(this.textureCache[u])return this.textureCache[u];const d=this.loadImageSource(t,r).then(function(g){g.flipY=!1,g.name=l.name||s.name||"",g.name===""&&typeof s.uri=="string"&&s.uri.startsWith("data:image/")===!1&&(g.name=s.uri);const _=(o.samplers||{})[l.sampler]||{};return g.magFilter=HN[_.magFilter]||ha,g.minFilter=HN[_.minFilter]||Fl,g.wrapS=GN[_.wrapS]||Hh,g.wrapT=GN[_.wrapT]||Hh,a.associations.set(g,{textures:e}),g}).catch(function(){return null});return this.textureCache[u]=d,d}loadImageSource(e,t){const r=this,a=this.json,o=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(y=>y.clone());const l=a.images[e],s=self.URL||self.webkitURL;let u=l.uri||"",d=!1;if(l.bufferView!==void 0)u=r.getDependency("bufferView",l.bufferView).then(function(y){d=!0;const _=new Blob([y],{type:l.mimeType});return u=s.createObjectURL(_),u});else if(l.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const g=Promise.resolve(u).then(function(y){return new Promise(function(_,C){let c=_;t.isImageBitmapLoader===!0&&(c=function(p){const m=new Pr(p);m.needsUpdate=!0,_(m)}),t.load(Bh.resolveURL(y,o.path),c,void 0,C)})}).then(function(y){return d===!0&&s.revokeObjectURL(u),Jf(y,l),y.userData.mimeType=l.mimeType||phe(l.uri),y}).catch(function(y){throw console.error("THREE.GLTFLoader: Couldn't load texture",u),y});return this.sourceCache[e]=g,g}assignTexture(e,t,r,a){const o=this;return this.getDependency("texture",r.index).then(function(l){if(!l)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(l=l.clone(),l.channel=r.texCoord),o.extensions[Si.KHR_TEXTURE_TRANSFORM]){const s=r.extensions!==void 0?r.extensions[Si.KHR_TEXTURE_TRANSFORM]:void 0;if(s){const u=o.associations.get(l);l=o.extensions[Si.KHR_TEXTURE_TRANSFORM].extendTexture(l,s),o.associations.set(l,u)}}return a!==void 0&&(typeof a=="number"&&(a=a===UN?ym:hd),"colorSpace"in l?l.colorSpace=a:l.encoding=a===ym?UN:zde),e[t]=l,l})}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const a=t.attributes.tangent===void 0,o=t.attributes.color!==void 0,l=t.attributes.normal===void 0;if(e.isPoints){const s="PointsMaterial:"+r.uuid;let u=this.cache.get(s);u||(u=new qw,Ia.prototype.copy.call(u,r),u.color.copy(r.color),u.map=r.map,u.sizeAttenuation=!1,this.cache.add(s,u)),r=u}else if(e.isLine){const s="LineBasicMaterial:"+r.uuid;let u=this.cache.get(s);u||(u=new Fo,Ia.prototype.copy.call(u,r),u.color.copy(r.color),u.map=r.map,this.cache.add(s,u)),r=u}if(a||o||l){let s="ClonedMaterial:"+r.uuid+":";a&&(s+="derivative-tangents:"),o&&(s+="vertex-colors:"),l&&(s+="flat-shading:");let u=this.cache.get(s);u||(u=r.clone(),o&&(u.vertexColors=!0),l&&(u.flatShading=!0),a&&(u.normalScale&&(u.normalScale.y*=-1),u.clearcoatNormalScale&&(u.clearcoatNormalScale.y*=-1)),this.cache.add(s,u),this.associations.set(u,this.associations.get(r))),r=u}e.material=r}getMaterialType(){return YS}loadMaterial(e){const t=this,r=this.json,a=this.extensions,o=r.materials[e];let l;const s={},u=o.extensions||{},d=[];if(u[Si.KHR_MATERIALS_UNLIT]){const y=a[Si.KHR_MATERIALS_UNLIT];l=y.getMaterialType(),d.push(y.extendParams(s,o,t))}else{const y=o.pbrMetallicRoughness||{};if(s.color=new en(1,1,1),s.opacity=1,Array.isArray(y.baseColorFactor)){const _=y.baseColorFactor;s.color.setRGB(_[0],_[1],_[2],hd),s.opacity=_[3]}y.baseColorTexture!==void 0&&d.push(t.assignTexture(s,"map",y.baseColorTexture,ym)),s.metalness=y.metallicFactor!==void 0?y.metallicFactor:1,s.roughness=y.roughnessFactor!==void 0?y.roughnessFactor:1,y.metallicRoughnessTexture!==void 0&&(d.push(t.assignTexture(s,"metalnessMap",y.metallicRoughnessTexture)),d.push(t.assignTexture(s,"roughnessMap",y.metallicRoughnessTexture))),l=this._invokeOne(function(_){return _.getMaterialType&&_.getMaterialType(e)}),d.push(Promise.all(this._invokeAll(function(_){return _.extendMaterialParams&&_.extendMaterialParams(e,s)})))}o.doubleSided===!0&&(s.side=zc);const g=o.alphaMode||XT.OPAQUE;if(g===XT.BLEND?(s.transparent=!0,s.depthWrite=!1):(s.transparent=!1,g===XT.MASK&&(s.alphaTest=o.alphaCutoff!==void 0?o.alphaCutoff:.5)),o.normalTexture!==void 0&&l!==tl&&(d.push(t.assignTexture(s,"normalMap",o.normalTexture)),s.normalScale=new Mt(1,1),o.normalTexture.scale!==void 0)){const y=o.normalTexture.scale;s.normalScale.set(y,y)}if(o.occlusionTexture!==void 0&&l!==tl&&(d.push(t.assignTexture(s,"aoMap",o.occlusionTexture)),o.occlusionTexture.strength!==void 0&&(s.aoMapIntensity=o.occlusionTexture.strength)),o.emissiveFactor!==void 0&&l!==tl){const y=o.emissiveFactor;s.emissive=new en().setRGB(y[0],y[1],y[2],hd)}return o.emissiveTexture!==void 0&&l!==tl&&d.push(t.assignTexture(s,"emissiveMap",o.emissiveTexture,ym)),Promise.all(d).then(function(){const y=new l(s);return o.name&&(y.name=o.name),Jf(y,o),t.associations.set(y,{materials:e}),o.extensions&&Hp(a,y,o),y})}createUniqueName(e){const t=Ui.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,r=this.extensions,a=this.primitiveCache;function o(s){return r[Si.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(s,t).then(function(u){return kN(u,s,t)})}const l=[];for(let s=0,u=e.length;s<u;s++){const d=e[s],g=hhe(d),y=a[g];if(y)l.push(y.promise);else{let _;d.extensions&&d.extensions[Si.KHR_DRACO_MESH_COMPRESSION]?_=o(d):_=kN(new ni,d,t),a[g]={primitive:d,promise:_},l.push(_)}}return Promise.all(l)}loadMesh(e){const t=this,r=this.json,a=this.extensions,o=r.meshes[e],l=o.primitives,s=[];for(let u=0,d=l.length;u<d;u++){const g=l[u].material===void 0?uhe(this.cache):this.getDependency("material",l[u].material);s.push(g)}return s.push(t.loadGeometries(l)),Promise.all(s).then(function(u){const d=u.slice(0,u.length-1),g=u[u.length-1],y=[];for(let C=0,c=g.length;C<c;C++){const p=g[C],m=l[C];let b;const E=d[C];if(m.mode===Ll.TRIANGLES||m.mode===Ll.TRIANGLE_STRIP||m.mode===Ll.TRIANGLE_FAN||m.mode===void 0)b=o.isSkinnedMesh===!0?new xI(p,E):new pa(p,E),b.isSkinnedMesh===!0&&b.normalizeSkinWeights(),m.mode===Ll.TRIANGLE_STRIP?b.geometry=LN(b.geometry,mI):m.mode===Ll.TRIANGLE_FAN&&(b.geometry=LN(b.geometry,OE));else if(m.mode===Ll.LINES)b=new qc(p,E);else if(m.mode===Ll.LINE_STRIP)b=new yd(p,E);else if(m.mode===Ll.LINE_LOOP)b=new EI(p,E);else if(m.mode===Ll.POINTS)b=new wI(p,E);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+m.mode);Object.keys(b.geometry.morphAttributes).length>0&&dhe(b,o),b.name=t.createUniqueName(o.name||"mesh_"+e),Jf(b,o),m.extensions&&Hp(a,b,m),t.assignFinalMaterial(b),y.push(b)}for(let C=0,c=y.length;C<c;C++)t.associations.set(y[C],{meshes:e,primitives:C});if(y.length===1)return o.extensions&&Hp(a,y[0],o),y[0];const _=new ad;o.extensions&&Hp(a,_,o),t.associations.set(_,{meshes:e});for(let C=0,c=y.length;C<c;C++)_.add(y[C]);return _})}loadCamera(e){let t;const r=this.json.cameras[e],a=r[r.type];if(!a){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?t=new jr(L8.radToDeg(a.yfov),a.aspectRatio||1,a.znear||1,a.zfar||2e6):r.type==="orthographic"&&(t=new dd(-a.xmag,a.xmag,a.ymag,-a.ymag,a.znear,a.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),Jf(t,r),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],r=[];for(let a=0,o=t.joints.length;a<o;a++)r.push(this._loadNodeShallow(t.joints[a]));return t.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",t.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(a){const o=a.pop(),l=a,s=[],u=[];for(let d=0,g=l.length;d<g;d++){const y=l[d];if(y){s.push(y);const _=new Pn;o!==null&&_.fromArray(o.array,d*16),u.push(_)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[d])}return new $S(s,u)})}loadAnimation(e){const t=this.json,r=this,a=t.animations[e],o=a.name?a.name:"animation_"+e,l=[],s=[],u=[],d=[],g=[];for(let y=0,_=a.channels.length;y<_;y++){const C=a.channels[y],c=a.samplers[C.sampler],p=C.target,m=p.node,b=a.parameters!==void 0?a.parameters[c.input]:c.input,E=a.parameters!==void 0?a.parameters[c.output]:c.output;p.node!==void 0&&(l.push(this.getDependency("node",m)),s.push(this.getDependency("accessor",b)),u.push(this.getDependency("accessor",E)),d.push(c),g.push(p))}return Promise.all([Promise.all(l),Promise.all(s),Promise.all(u),Promise.all(d),Promise.all(g)]).then(function(y){const _=y[0],C=y[1],c=y[2],p=y[3],m=y[4],b=[];for(let E=0,T=_.length;E<T;E++){const R=_[E],O=C[E],D=c[E],P=p[E],F=m[E];if(R===void 0)continue;R.updateMatrix&&R.updateMatrix();const U=r._createAnimationTracks(R,O,D,P,F);if(U)for(let z=0;z<U.length;z++)b.push(U[z])}return new b0(o,void 0,b)})}createNodeMesh(e){const t=this.json,r=this,a=t.nodes[e];return a.mesh===void 0?null:r.getDependency("mesh",a.mesh).then(function(o){const l=r._getNodeRef(r.meshCache,a.mesh,o);return a.weights!==void 0&&l.traverse(function(s){if(s.isMesh)for(let u=0,d=a.weights.length;u<d;u++)s.morphTargetInfluences[u]=a.weights[u]}),l})}loadNode(e){const t=this.json,r=this,a=t.nodes[e],o=r._loadNodeShallow(e),l=[],s=a.children||[];for(let d=0,g=s.length;d<g;d++)l.push(r.getDependency("node",s[d]));const u=a.skin===void 0?Promise.resolve(null):r.getDependency("skin",a.skin);return Promise.all([o,Promise.all(l),u]).then(function(d){const g=d[0],y=d[1],_=d[2];_!==null&&g.traverse(function(C){C.isSkinnedMesh&&C.bind(_,mhe)});for(let C=0,c=y.length;C<c;C++)g.add(y[C]);return g})}_loadNodeShallow(e){const t=this.json,r=this.extensions,a=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const o=t.nodes[e],l=o.name?a.createUniqueName(o.name):"",s=[],u=a._invokeOne(function(d){return d.createNodeMesh&&d.createNodeMesh(e)});return u&&s.push(u),o.camera!==void 0&&s.push(a.getDependency("camera",o.camera).then(function(d){return a._getNodeRef(a.cameraCache,o.camera,d)})),a._invokeAll(function(d){return d.createNodeAttachment&&d.createNodeAttachment(e)}).forEach(function(d){s.push(d)}),this.nodeCache[e]=Promise.all(s).then(function(d){let g;if(o.isBone===!0?g=new Yw:d.length>1?g=new ad:d.length===1?g=d[0]:g=new Bi,g!==d[0])for(let y=0,_=d.length;y<_;y++)g.add(d[y]);if(o.name&&(g.userData.name=o.name,g.name=l),Jf(g,o),o.extensions&&Hp(r,g,o),o.matrix!==void 0){const y=new Pn;y.fromArray(o.matrix),g.applyMatrix4(y)}else o.translation!==void 0&&g.position.fromArray(o.translation),o.rotation!==void 0&&g.quaternion.fromArray(o.rotation),o.scale!==void 0&&g.scale.fromArray(o.scale);return a.associations.has(g)||a.associations.set(g,{}),a.associations.get(g).nodes=e,g}),this.nodeCache[e]}loadScene(e){const t=this.extensions,r=this.json.scenes[e],a=this,o=new ad;r.name&&(o.name=a.createUniqueName(r.name)),Jf(o,r),r.extensions&&Hp(t,o,r);const l=r.nodes||[],s=[];for(let u=0,d=l.length;u<d;u++)s.push(a.getDependency("node",l[u]));return Promise.all(s).then(function(u){for(let g=0,y=u.length;g<y;g++)o.add(u[g]);const d=g=>{const y=new Map;for(const[_,C]of a.associations)(_ instanceof Ia||_ instanceof Pr)&&y.set(_,C);return g.traverse(_=>{const C=a.associations.get(_);C!=null&&y.set(_,C)}),y};return a.associations=d(o),o})}_createAnimationTracks(e,t,r,a,o){const l=[],s=e.name?e.name:e.uuid,u=[];dh[o.path]===dh.weights?e.traverse(function(_){_.morphTargetInfluences&&u.push(_.name?_.name:_.uuid)}):u.push(s);let d;switch(dh[o.path]){case dh.weights:d=Im;break;case dh.rotation:d=Bm;break;case dh.position:case dh.scale:d=Dm;break;default:switch(r.itemSize){case 1:d=Im;break;case 2:case 3:default:d=Dm;break}break}const g=a.interpolation!==void 0?che[a.interpolation]:m0,y=this._getArrayFromAccessor(r);for(let _=0,C=u.length;_<C;_++){const c=new d(u[_]+"."+dh[o.path],t.array,y,g);a.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(c),l.push(c)}return l}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const r=V2(t.constructor),a=new Float32Array(t.length);for(let o=0,l=t.length;o<l;o++)a[o]=t[o]*r;t=a}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(r){const a=this instanceof Bm?lhe:cG;return new a(this.times,this.values,this.getValueSize()/3,r)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function vhe(n,e,t){const r=e.attributes,a=new po;if(r.POSITION!==void 0){const s=t.json.accessors[r.POSITION],u=s.min,d=s.max;if(u!==void 0&&d!==void 0){if(a.set(new be(u[0],u[1],u[2]),new be(d[0],d[1],d[2])),s.normalized){const g=V2(Zv[s.componentType]);a.min.multiplyScalar(g),a.max.multiplyScalar(g)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const o=e.targets;if(o!==void 0){const s=new be,u=new be;for(let d=0,g=o.length;d<g;d++){const y=o[d];if(y.POSITION!==void 0){const _=t.json.accessors[y.POSITION],C=_.min,c=_.max;if(C!==void 0&&c!==void 0){if(u.setX(Math.max(Math.abs(C[0]),Math.abs(c[0]))),u.setY(Math.max(Math.abs(C[1]),Math.abs(c[1]))),u.setZ(Math.max(Math.abs(C[2]),Math.abs(c[2]))),_.normalized){const p=V2(Zv[_.componentType]);u.multiplyScalar(p)}s.max(u)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}a.expandByVector(s)}n.boundingBox=a;const l=new mo;a.getCenter(l.center),l.radius=a.min.distanceTo(a.max)/2,n.boundingSphere=l}function kN(n,e,t){const r=e.attributes,a=[];function o(l,s){return t.getDependency("accessor",l).then(function(u){n.setAttribute(s,u)})}for(const l in r){const s=$2[l]||l.toLowerCase();s in n.attributes||a.push(o(r[l],s))}if(e.indices!==void 0&&!n.index){const l=t.getDependency("accessor",e.indices).then(function(s){n.setIndex(s)});a.push(l)}return Jf(n,e),vhe(n,e,t),Promise.all(a).then(function(){return e.targets!==void 0?fhe(n,e.targets,t):n})}const qT=new WeakMap;class yhe extends Ho{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,a){const o=new ol(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,l=>{const s={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(l,s).then(t).catch(a)},r,a)}decodeDracoFile(e,t,r,a){const o={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:a||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,o).then(t)}decodeGeometry(e,t){for(const u in t.attributeTypes){const d=t.attributeTypes[u];d.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[u]=d.name)}const r=JSON.stringify(t);if(qT.has(e)){const u=qT.get(e);if(u.key===r)return u.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let a;const o=this.workerNextTaskID++,l=e.byteLength,s=this._getWorker(o,l).then(u=>(a=u,new Promise((d,g)=>{a._callbacks[o]={resolve:d,reject:g},a.postMessage({type:"decode",id:o,taskConfig:t,buffer:e},[e])}))).then(u=>this._createGeometry(u.geometry));return s.catch(()=>!0).then(()=>{a&&o&&this._releaseTask(a,o)}),qT.set(e,{key:r,promise:s}),s}_createGeometry(e){const t=new ni;e.index&&t.setIndex(new ki(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const a=e.attributes[r],o=a.name,l=a.array,s=a.itemSize;t.setAttribute(o,new ki(l,s))}return t}_loadLibrary(e,t){const r=new ol(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((a,o)=>{r.load(e,a,void 0,o)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(r=>{const a=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const o=bhe.toString(),l=["/* draco decoder */",a,"","/* worker */",o.substring(o.indexOf("{")+1,o.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([l]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const a=new Worker(this.workerSourceURL);a._callbacks={},a._taskCosts={},a._taskLoad=0,a.postMessage({type:"init",decoderConfig:this.decoderConfig}),a.onmessage=function(o){const l=o.data;switch(l.type){case"decode":a._callbacks[l.id].resolve(l);break;case"error":a._callbacks[l.id].reject(l);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+l.type+'"')}},this.workerPool.push(a)}else this.workerPool.sort(function(a,o){return a._taskLoad>o._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function bhe(){let n,e;onmessage=function(l){const s=l.data;switch(s.type){case"init":n=s.decoderConfig,e=new Promise(function(g){n.onModuleLoaded=function(y){g({draco:y})},DracoDecoderModule(n)});break;case"decode":const u=s.buffer,d=s.taskConfig;e.then(g=>{const y=g.draco,_=new y.Decoder,C=new y.DecoderBuffer;C.Init(new Int8Array(u),u.byteLength);try{const c=t(y,_,C,d),p=c.attributes.map(m=>m.array.buffer);c.index&&p.push(c.index.array.buffer),self.postMessage({type:"decode",id:s.id,geometry:c},p)}catch(c){console.error(c),self.postMessage({type:"error",id:s.id,error:c.message})}finally{y.destroy(C),y.destroy(_)}});break}};function t(l,s,u,d){const g=d.attributeIDs,y=d.attributeTypes;let _,C;const c=s.GetEncodedGeometryType(u);if(c===l.TRIANGULAR_MESH)_=new l.Mesh,C=s.DecodeBufferToMesh(u,_);else if(c===l.POINT_CLOUD)_=new l.PointCloud,C=s.DecodeBufferToPointCloud(u,_);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!C.ok()||_.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+C.error_msg());const p={index:null,attributes:[]};for(const m in g){const b=self[y[m]];let E,T;if(d.useUniqueIDs)T=g[m],E=s.GetAttributeByUniqueId(_,T);else{if(T=s.GetAttributeId(_,l[g[m]]),T===-1)continue;E=s.GetAttribute(_,T)}p.attributes.push(a(l,s,_,m,b,E))}return c===l.TRIANGULAR_MESH&&(p.index=r(l,s,_)),l.destroy(_),p}function r(l,s,u){const g=u.num_faces()*3,y=g*4,_=l._malloc(y);s.GetTrianglesUInt32Array(u,y,_);const C=new Uint32Array(l.HEAPF32.buffer,_,g).slice();return l._free(_),{array:C,itemSize:1}}function a(l,s,u,d,g,y){const _=y.num_components(),c=u.num_points()*_,p=c*g.BYTES_PER_ELEMENT,m=o(l,g),b=l._malloc(p);s.GetAttributeDataArrayForAllPoints(u,y,m,p,b);const E=new g(l.HEAPF32.buffer,b,c).slice();return l._free(b),{name:d,array:E,itemSize:_}}function o(l,s){switch(s){case Float32Array:return l.DT_FLOAT32;case Int8Array:return l.DT_INT8;case Int16Array:return l.DT_INT16;case Int32Array:return l.DT_INT32;case Uint8Array:return l.DT_UINT8;case Uint16Array:return l.DT_UINT16;case Uint32Array:return l.DT_UINT32}}}let _C;const KT=()=>{if(_C)return _C;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let a=n;WebAssembly.validate(t)&&(a=e);let o;const l=WebAssembly.instantiate(s(a),{}).then(y=>{o=y.instance,o.exports.__wasm_call_ctors()});function s(y){const _=new Uint8Array(y.length);for(let c=0;c<y.length;++c){const p=y.charCodeAt(c);_[c]=p>96?p-71:p>64?p-65:p>47?p+4:p>46?63:62}let C=0;for(let c=0;c<y.length;++c)_[C++]=_[c]<60?r[_[c]]:(_[c]-60)*64+_[++c];return _.buffer.slice(0,C)}function u(y,_,C,c,p,m){const b=o.exports.sbrk,E=C+3&-4,T=b(E*c),R=b(p.length),O=new Uint8Array(o.exports.memory.buffer);O.set(p,R);const D=y(T,C,c,R,p.length);if(D===0&&m&&m(T,E,c),_.set(O.subarray(T,T+C*c)),b(T-b(0)),D!==0)throw new Error(`Malformed buffer data: ${D}`)}const d={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},g={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return _C={ready:l,supported:!0,decodeVertexBuffer(y,_,C,c,p){u(o.exports.meshopt_decodeVertexBuffer,y,_,C,c,o.exports[d[p]])},decodeIndexBuffer(y,_,C,c){u(o.exports.meshopt_decodeIndexBuffer,y,_,C,c)},decodeIndexSequence(y,_,C,c){u(o.exports.meshopt_decodeIndexSequence,y,_,C,c)},decodeGltfBuffer(y,_,C,c,p,m){u(o.exports[g[p]],y,_,C,c,o.exports[d[m]])}},_C};let xC=null,uG="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function fG(n=!0,e=!0,t){return r=>{t&&t(r),n&&(xC||(xC=new yhe),xC.setDecoderPath(typeof n=="string"?n:uG),r.setDRACOLoader(xC)),e&&r.setMeshoptDecoder(typeof KT=="function"?KT():KT)}}const pA=(n,e,t,r)=>KS(ZI,n,fG(e,t,r));pA.preload=(n,e,t,r)=>KS.preload(ZI,n,fG(e,t,r));pA.clear=n=>KS.clear(ZI,n);pA.setDecoderPath=n=>{uG=n};const She=A.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:r,enableDamping:a=!0,keyEvents:o=!1,onChange:l,onStart:s,onEnd:u,...d},g)=>{const y=$f(D=>D.invalidate),_=$f(D=>D.camera),C=$f(D=>D.gl),c=$f(D=>D.events),p=$f(D=>D.setEvents),m=$f(D=>D.set),b=$f(D=>D.get),E=$f(D=>D.performance),T=e||_,R=r||c.connected||C.domElement,O=A.useMemo(()=>new Nde(T),[T]);return tde(()=>{O.enabled&&O.update()},-1),A.useEffect(()=>(o&&O.connect(o===!0?R:o),O.connect(R),()=>void O.dispose()),[o,R,t,O,y]),A.useEffect(()=>{const D=U=>{y(),t&&E.regress(),l&&l(U)},P=U=>{s&&s(U)},F=U=>{u&&u(U)};return O.addEventListener("change",D),O.addEventListener("start",P),O.addEventListener("end",F),()=>{O.removeEventListener("start",P),O.removeEventListener("end",F),O.removeEventListener("change",D)}},[l,s,u,O,y,p]),A.useEffect(()=>{if(n){const D=b().controls;return m({controls:O}),()=>m({controls:D})}},[n,O]),A.createElement("primitive",Nt({ref:g,object:O,enableDamping:a},d))}),_he="/SyncWorld/assets/model-But4_8fk.glb",xhe=()=>{const{scene:n}=pA(_he),{camera:e}=$f();return A.useEffect(()=>{if(n&&e instanceof jr){const t=new po().setFromObject(n),r=t.getCenter(new be);n.position.sub(r);const a=t.getSize(new be),o=Math.max(a.x,a.y,a.z),l=e.fov*(Math.PI/180),s=Math.abs(o/2/Math.tan(l/2));e.position.set(0,0,s*2),e.lookAt(0,0,0);const u=Math.PI/5,d=e.position.x*Math.cos(u)-e.position.z*Math.sin(u),g=e.position.x*Math.sin(u)+e.position.z*Math.cos(u);e.position.set(d,e.position.y,g),e.lookAt(0,0,0)}},[n,e]),n?ut.jsx("primitive",{object:n}):null},$N=n=>{const{position:e,intensity:t=1,showPointLight:r=!1}=n,a=new be(e.x,e.y,e.z),o=A.useRef(null);return A.useEffect(()=>{o.current&&o.current.position.copy(a)},[]),ut.jsxs(ut.Fragment,{children:[r&&ut.jsxs("mesh",{position:a,children:[ut.jsx("sphereGeometry",{args:[1]}),ut.jsx("meshBasicMaterial",{color:"red"})]}),ut.jsx("directionalLight",{ref:o,intensity:t})]})},Che=()=>ut.jsxs(Mde,{camera:{position:[0,2,5],fov:75},children:[ut.jsx("color",{attach:"background",args:["#25272c"]}),ut.jsx("ambientLight",{intensity:2}),ut.jsx($N,{position:new be(2,2,-0)}),ut.jsx($N,{position:new be(0,0,2),intensity:4}),ut.jsx(xhe,{}),ut.jsx(She,{})]}),Ehe="/SyncWorld/assets/cutout-C252wD3k.png",whe="/SyncWorld/assets/mask-Hsm5_ShS.png",Ahe="/SyncWorld/assets/env1-DLKe21cq.webp",Mhe="/SyncWorld/assets/env2-G4dkyjcA.webp",The="/SyncWorld/assets/env3-B8PKSVLk.webp",Rhe="/SyncWorld/assets/env4-BT5ECu7E.webp",Ohe="/SyncWorld/assets/env5-BQ0aX3QW.webp",Ihe="/SyncWorld/assets/env6-9Z5gxGUl.webp",Bhe="/SyncWorld/assets/env7-DwTDAoBh.webp",Dhe="/SyncWorld/assets/env8-DRiCzIrd.webp",Phe="/SyncWorld/assets/output1-CO21h2Yk.png",Lhe="/SyncWorld/assets/output2-C0r_6mN3.png",Nhe="/SyncWorld/assets/output3-HH0ftwG3.png",zhe="/SyncWorld/assets/output4-D13zknOE.png",Uhe="/SyncWorld/assets/output5-B-YprGxj.png",Fhe="/SyncWorld/assets/output6-u_vR8aCJ.png",Hhe="/SyncWorld/assets/output7-CG1oWXBa.png",Ghe="/SyncWorld/assets/output8-DEE2rHza.png",khe="_imageContainer_fldjf_2",$he="_imageItem_fldjf_19",VN={imageContainer:khe,imageItem:$he},Vhe=({images:n,onSelect:e})=>{const[t,r]=A.useState(null),a=(o,l)=>{r(o),e(o,l)};return ut.jsx(Dc,{gutter:[16,16],justify:"center",children:n.map((o,l)=>ut.jsx(co,{xs:6,sm:6,md:6,lg:6,xl:6,children:ut.jsx("div",{onClick:()=>a(o.src,l),className:`${VN.imageContainer} ${t===o.src?"selected":""}`,children:ut.jsx(Kv,{src:o.src,alt:o.alt,width:"100%",height:"auto",preview:!1,className:VN.imageItem})})},l))})},jhe=[{src:Ahe,alt:"场景1"},{src:Mhe,alt:"场景2"},{src:The,alt:"场景3"},{src:Rhe,alt:"场景4"},{src:Ohe,alt:"场景5"},{src:Ihe,alt:"场景6"},{src:Bhe,alt:"场景7"},{src:Dhe,alt:"场景8"}],Whe=[{src:Phe,alt:"场景1"},{src:Lhe,alt:"场景2"},{src:Nhe,alt:"场景3"},{src:zhe,alt:"场景4"},{src:Uhe,alt:"场景5"},{src:Fhe,alt:"场景6"},{src:Hhe,alt:"场景7"},{src:Ghe,alt:"场景8"}],{TextArea:jN}=B0,JT="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAYAAADQvc6UAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAwSDCIMogwMCcmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsis7PPOq3QdDFcvjV3jOD1boQVTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRAQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDrkl1AuO+pmgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAwqADAAQAAAABAAAAwwAAAAD9b/HnAAAHlklEQVR4Ae3dP3PTWBSGcbGzM6GCKqlIBRV0dHRJFarQ0eUT8LH4BnRU0NHR0UEFVdIlFRV7TzRksomPY8uykTk/zewQfKw/9znv4yvJynLv4uLiV2dBoDiBf4qP3/ARuCRABEFAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghgg0Aj8i0JO4OzsrPv69Wv+hi2qPHr0qNvf39+iI97soRIh4f3z58/u7du3SXX7Xt7Z2enevHmzfQe+oSN2apSAPj09TSrb+XKI/f379+08+A0cNRE2ANkupk+ACNPvkSPcAAEibACyXUyfABGm3yNHuAECRNgAZLuYPgEirKlHu7u7XdyytGwHAd8jjNyng4OD7vnz51dbPT8/7z58+NB9+/bt6jU/TI+AGWHEnrx48eJ/EsSmHzx40L18+fLyzxF3ZVMjEyDCiEDjMYZZS5wiPXnyZFbJaxMhQIQRGzHvWR7XCyOCXsOmiDAi1HmPMMQjDpbpEiDCiL358eNHurW/5SnWdIBbXiDCiA38/Pnzrce2YyZ4//59F3ePLNMl4PbpiL2J0L979+7yDtHDhw8vtzzvdGnEXdvUigSIsCLAWavHp/+qM0BcXMd/q25n1vF57TYBp0a3mUzilePj4+7k5KSLb6gt6ydAhPUzXnoPR0dHl79WGTNCfBnn1uvSCJdegQhLI1vvCk+fPu2ePXt2tZOYEV6/fn31dz+shwAR1sP1cqvLntbEN9MxA9xcYjsxS1jWR4AIa2Ibzx0tc44fYX/16lV6NDFLXH+YL32jwiACRBiEbf5KcXoTIsQSpzXx4N28Ja4BQoK7rgXiydbHjx/P25TaQAJEGAguWy0+2Q8PD6/Ki4R8EVl+bzBOnZY95fq9rj9zAkTI2SxdidBHqG9+skdw43borCXO/ZcJdraPWdv22uIEiLA4q7nvvCug8WTqzQveOH26fodo7g6uFe/a17W3+nFBAkRYENRdb1vkkz1CH9cPsVy/jrhr27PqMYvENYNlHAIesRiBYwRy0V+8iXP8+/fvX11Mr7L7ECueb/r48eMqm7FuI2BGWDEG8cm+7G3NEOfmdcTQw4h9/55lhm7DekRYKQPZF2ArbXTAyu4kDYB2YxUzwg0gi/41ztHnfQG26HbGel/crVrm7tNY+/1btkOEAZ2M05r4FB7r9GbAIdxaZYrHdOsgJ/wCEQY0J74TmOKnbxxT9n3FgGGWWsVdowHtjt9Nnvf7yQM2aZU/TIAIAxrw6dOnAWtZZcoEnBpNuTuObWMEiLAx1HY0ZQJEmHJ3HNvGCBBhY6jtaMoEiJB0Z29vL6ls58vxPcO8/zfrdo5qvKO+d3Fx8Wu8zf1dW4p/cPzLly/dtv9Ts/EbcvGAHhHyfBIhZ6NSiIBTo0LNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiEC/wGgKKC4YMA4TAAAAABJRU5ErkJggg==",Xhe=()=>{const[n,e]=A.useState(!1),[t,r]=A.useState(!0),[a,o]=A.useState(""),l=()=>{r(!0)},s=(u,d)=>{o(Whe[d].src)};return ut.jsxs(ut.Fragment,{children:[ut.jsx("div",{className:Nu.formContent,children:ut.jsxs(cH,{direction:"vertical",size:12,children:[ut.jsx(Dc,{children:ut.jsx(sie,{onChange:l})}),t&&ut.jsxs(ut.Fragment,{children:[ut.jsxs(Dc,{gutter:4,children:[ut.jsx(co,{span:8,children:ut.jsx(HC,{color:"#2b2c3a",children:"抠图"})}),ut.jsx(co,{span:8,children:ut.jsx(HC,{color:"#2b2c3a",children:"Mask"})}),ut.jsx(co,{span:8,children:ut.jsx(HC,{color:"#2b2c3a",children:"3D模型"})})]}),ut.jsxs(Dc,{gutter:4,justify:"space-around",align:"middle",children:[ut.jsx(co,{span:8,children:ut.jsx(Kv,{src:Ehe,fallback:JT,className:Nu.imageSelect,width:"100%"})}),ut.jsx(co,{span:8,children:ut.jsx(Kv,{src:whe,fallback:JT,className:Nu.imageSelect,width:"100%"})}),ut.jsx(co,{span:8,children:ut.jsx(Che,{})})]})]}),ut.jsx("label",{children:"场景"}),ut.jsxs(Dc,{gutter:[12,12],children:[ut.jsx(co,{span:24,children:ut.jsx(Vhe,{images:jhe,onSelect:s})}),ut.jsxs(co,{span:24,children:[ut.jsx(fo,{size:"large",color:"default",variant:"solid",className:Nu.customButton,onClick:()=>e(!0),children:"Custom"}),ut.jsx(kl,{title:"动作录入",centered:!0,open:n,onOk:()=>e(!1),onCancel:()=>e(!1),width:1e3,children:ut.jsx("iframe",{width:"950",height:"600",src:"https://threejs.org/editor/"})})]}),a&&ut.jsx(co,{children:ut.jsx(Kv,{src:a,fallback:JT,className:Nu.imageSelect,width:"100%"})})]}),ut.jsx(Dc,{children:ut.jsx(jN,{className:Nu.textarea,rows:4,placeholder:"Positive Prompt",maxLength:6})}),ut.jsx(Dc,{children:ut.jsx(jN,{className:Nu.textarea,rows:4,placeholder:"Negative Prompt",maxLength:6})})]})}),ut.jsx("div",{className:Nu.formFooter,children:ut.jsx(fo,{className:et(Nu.linearGradientButton,Nu.footerButton),type:"primary",size:"large",onClick:()=>b2.emit(S2.ADD_FAKE_VIDEO),children:"Create"})})]})};var QT={},WN;function Yhe(){return WN||(WN=1,function(n){var e=function(){var c=new Date,p=4,m=3,b=2,E=1,T=p,R={setLogLevel:function(O){O==this.debug?T=E:O==this.info?T=b:O==this.warn?T=m:(O==this.error,T=p)},debug:function(O,D){console.debug===void 0&&(console.debug=console.log),E>=T&&console.debug("["+e.getDurationString(new Date-c,1e3)+"]","["+O+"]",D)},log:function(O,D){this.debug(O.msg)},info:function(O,D){b>=T&&console.info("["+e.getDurationString(new Date-c,1e3)+"]","["+O+"]",D)},warn:function(O,D){m>=T&&console.warn("["+e.getDurationString(new Date-c,1e3)+"]","["+O+"]",D)},error:function(O,D){p>=T&&console.error("["+e.getDurationString(new Date-c,1e3)+"]","["+O+"]",D)}};return R}();e.getDurationString=function(c,p){var m;function b(P,F){for(var U=""+P,z=U.split(".");z[0].length<F;)z[0]="0"+z[0];return z.join(".")}c<0?(m=!0,c=-c):m=!1;var E=p||1,T=c/E,R=Math.floor(T/3600);T-=R*3600;var O=Math.floor(T/60);T-=O*60;var D=T*1e3;return T=Math.floor(T),D-=T*1e3,D=Math.floor(D),(m?"-":"")+R+":"+b(O,2)+":"+b(T,2)+"."+b(D,3)},e.printRanges=function(c){var p=c.length;if(p>0){for(var m="",b=0;b<p;b++)b>0&&(m+=","),m+="["+e.getDurationString(c.start(b))+","+e.getDurationString(c.end(b))+"]";return m}else return"(empty)"},n.Log=e;var t=function(c){if(c instanceof ArrayBuffer)this.buffer=c,this.dataview=new DataView(c);else throw"Needs an array buffer";this.position=0};t.prototype.getPosition=function(){return this.position},t.prototype.getEndPosition=function(){return this.buffer.byteLength},t.prototype.getLength=function(){return this.buffer.byteLength},t.prototype.seek=function(c){var p=Math.max(0,Math.min(this.buffer.byteLength,c));return this.position=isNaN(p)||!isFinite(p)?0:p,!0},t.prototype.isEos=function(){return this.getPosition()>=this.getEndPosition()},t.prototype.readAnyInt=function(c,p){var m=0;if(this.position+c<=this.buffer.byteLength){switch(c){case 1:p?m=this.dataview.getInt8(this.position):m=this.dataview.getUint8(this.position);break;case 2:p?m=this.dataview.getInt16(this.position):m=this.dataview.getUint16(this.position);break;case 3:if(p)throw"No method for reading signed 24 bits values";m=this.dataview.getUint8(this.position)<<16,m|=this.dataview.getUint8(this.position+1)<<8,m|=this.dataview.getUint8(this.position+2);break;case 4:p?m=this.dataview.getInt32(this.position):m=this.dataview.getUint32(this.position);break;case 8:if(p)throw"No method for reading signed 64 bits values";m=this.dataview.getUint32(this.position)<<32,m|=this.dataview.getUint32(this.position+4);break;default:throw"readInt method not implemented for size: "+c}return this.position+=c,m}else throw"Not enough bytes in buffer"},t.prototype.readUint8=function(){return this.readAnyInt(1,!1)},t.prototype.readUint16=function(){return this.readAnyInt(2,!1)},t.prototype.readUint24=function(){return this.readAnyInt(3,!1)},t.prototype.readUint32=function(){return this.readAnyInt(4,!1)},t.prototype.readUint64=function(){return this.readAnyInt(8,!1)},t.prototype.readString=function(c){if(this.position+c<=this.buffer.byteLength){for(var p="",m=0;m<c;m++)p+=String.fromCharCode(this.readUint8());return p}else throw"Not enough bytes in buffer"},t.prototype.readCString=function(){for(var c=[];;){var p=this.readUint8();if(p!==0)c.push(p);else break}return String.fromCharCode.apply(null,c)},t.prototype.readInt8=function(){return this.readAnyInt(1,!0)},t.prototype.readInt16=function(){return this.readAnyInt(2,!0)},t.prototype.readInt32=function(){return this.readAnyInt(4,!0)},t.prototype.readInt64=function(){return this.readAnyInt(8,!1)},t.prototype.readUint8Array=function(c){for(var p=new Uint8Array(c),m=0;m<c;m++)p[m]=this.readUint8();return p},t.prototype.readInt16Array=function(c){for(var p=new Int16Array(c),m=0;m<c;m++)p[m]=this.readInt16();return p},t.prototype.readUint16Array=function(c){for(var p=new Int16Array(c),m=0;m<c;m++)p[m]=this.readUint16();return p},t.prototype.readUint32Array=function(c){for(var p=new Uint32Array(c),m=0;m<c;m++)p[m]=this.readUint32();return p},t.prototype.readInt32Array=function(c){for(var p=new Int32Array(c),m=0;m<c;m++)p[m]=this.readInt32();return p},n.MP4BoxStream=t;var r=function(c,p,m){this._byteOffset=p||0,c instanceof ArrayBuffer?this.buffer=c:typeof c=="object"?(this.dataView=c,p&&(this._byteOffset+=p)):this.buffer=new ArrayBuffer(c||0),this.position=0,this.endianness=m??r.LITTLE_ENDIAN};r.prototype={},r.prototype.getPosition=function(){return this.position},r.prototype._realloc=function(c){if(this._dynamicSize){var p=this._byteOffset+this.position+c,m=this._buffer.byteLength;if(p<=m){p>this._byteLength&&(this._byteLength=p);return}for(m<1&&(m=1);p>m;)m*=2;var b=new ArrayBuffer(m),E=new Uint8Array(this._buffer),T=new Uint8Array(b,0,E.length);T.set(E),this.buffer=b,this._byteLength=p}},r.prototype._trimAlloc=function(){if(this._byteLength!=this._buffer.byteLength){var c=new ArrayBuffer(this._byteLength),p=new Uint8Array(c),m=new Uint8Array(this._buffer,0,p.length);p.set(m),this.buffer=c}},r.BIG_ENDIAN=!1,r.LITTLE_ENDIAN=!0,r.prototype._byteLength=0,Object.defineProperty(r.prototype,"byteLength",{get:function(){return this._byteLength-this._byteOffset}}),Object.defineProperty(r.prototype,"buffer",{get:function(){return this._trimAlloc(),this._buffer},set:function(c){this._buffer=c,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(r.prototype,"byteOffset",{get:function(){return this._byteOffset},set:function(c){this._byteOffset=c,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(r.prototype,"dataView",{get:function(){return this._dataView},set:function(c){this._byteOffset=c.byteOffset,this._buffer=c.buffer,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._byteOffset+c.byteLength}}),r.prototype.seek=function(c){var p=Math.max(0,Math.min(this.byteLength,c));this.position=isNaN(p)||!isFinite(p)?0:p},r.prototype.isEof=function(){return this.position>=this._byteLength},r.prototype.mapUint8Array=function(c){this._realloc(c*1);var p=new Uint8Array(this._buffer,this.byteOffset+this.position,c);return this.position+=c*1,p},r.prototype.readInt32Array=function(c,p){c=c??this.byteLength-this.position/4;var m=new Int32Array(c);return r.memcpy(m.buffer,0,this.buffer,this.byteOffset+this.position,c*m.BYTES_PER_ELEMENT),r.arrayToNative(m,p??this.endianness),this.position+=m.byteLength,m},r.prototype.readInt16Array=function(c,p){c=c??this.byteLength-this.position/2;var m=new Int16Array(c);return r.memcpy(m.buffer,0,this.buffer,this.byteOffset+this.position,c*m.BYTES_PER_ELEMENT),r.arrayToNative(m,p??this.endianness),this.position+=m.byteLength,m},r.prototype.readInt8Array=function(c){c=c??this.byteLength-this.position;var p=new Int8Array(c);return r.memcpy(p.buffer,0,this.buffer,this.byteOffset+this.position,c*p.BYTES_PER_ELEMENT),this.position+=p.byteLength,p},r.prototype.readUint32Array=function(c,p){c=c??this.byteLength-this.position/4;var m=new Uint32Array(c);return r.memcpy(m.buffer,0,this.buffer,this.byteOffset+this.position,c*m.BYTES_PER_ELEMENT),r.arrayToNative(m,p??this.endianness),this.position+=m.byteLength,m},r.prototype.readUint16Array=function(c,p){c=c??this.byteLength-this.position/2;var m=new Uint16Array(c);return r.memcpy(m.buffer,0,this.buffer,this.byteOffset+this.position,c*m.BYTES_PER_ELEMENT),r.arrayToNative(m,p??this.endianness),this.position+=m.byteLength,m},r.prototype.readUint8Array=function(c){c=c??this.byteLength-this.position;var p=new Uint8Array(c);return r.memcpy(p.buffer,0,this.buffer,this.byteOffset+this.position,c*p.BYTES_PER_ELEMENT),this.position+=p.byteLength,p},r.prototype.readFloat64Array=function(c,p){c=c??this.byteLength-this.position/8;var m=new Float64Array(c);return r.memcpy(m.buffer,0,this.buffer,this.byteOffset+this.position,c*m.BYTES_PER_ELEMENT),r.arrayToNative(m,p??this.endianness),this.position+=m.byteLength,m},r.prototype.readFloat32Array=function(c,p){c=c??this.byteLength-this.position/4;var m=new Float32Array(c);return r.memcpy(m.buffer,0,this.buffer,this.byteOffset+this.position,c*m.BYTES_PER_ELEMENT),r.arrayToNative(m,p??this.endianness),this.position+=m.byteLength,m},r.prototype.readInt32=function(c){var p=this._dataView.getInt32(this.position,c??this.endianness);return this.position+=4,p},r.prototype.readInt16=function(c){var p=this._dataView.getInt16(this.position,c??this.endianness);return this.position+=2,p},r.prototype.readInt8=function(){var c=this._dataView.getInt8(this.position);return this.position+=1,c},r.prototype.readUint32=function(c){var p=this._dataView.getUint32(this.position,c??this.endianness);return this.position+=4,p},r.prototype.readUint16=function(c){var p=this._dataView.getUint16(this.position,c??this.endianness);return this.position+=2,p},r.prototype.readUint8=function(){var c=this._dataView.getUint8(this.position);return this.position+=1,c},r.prototype.readFloat32=function(c){var p=this._dataView.getFloat32(this.position,c??this.endianness);return this.position+=4,p},r.prototype.readFloat64=function(c){var p=this._dataView.getFloat64(this.position,c??this.endianness);return this.position+=8,p},r.endianness=new Int8Array(new Int16Array([1]).buffer)[0]>0,r.memcpy=function(c,p,m,b,E){var T=new Uint8Array(c,p,E),R=new Uint8Array(m,b,E);T.set(R)},r.arrayToNative=function(c,p){return p==this.endianness?c:this.flipArrayEndianness(c)},r.nativeToEndian=function(c,p){return this.endianness==p?c:this.flipArrayEndianness(c)},r.flipArrayEndianness=function(c){for(var p=new Uint8Array(c.buffer,c.byteOffset,c.byteLength),m=0;m<c.byteLength;m+=c.BYTES_PER_ELEMENT)for(var b=m+c.BYTES_PER_ELEMENT-1,E=m;b>E;b--,E++){var T=p[E];p[E]=p[b],p[b]=T}return c},r.prototype.failurePosition=0,String.fromCharCodeUint8=function(c){for(var p=[],m=0;m<c.length;m++)p[m]=c[m];return String.fromCharCode.apply(null,p)},r.prototype.readString=function(c,p){return p==null||p=="ASCII"?String.fromCharCodeUint8.apply(null,[this.mapUint8Array(c??this.byteLength-this.position)]):new TextDecoder(p).decode(this.mapUint8Array(c))},r.prototype.readCString=function(c){var p=this.byteLength-this.position,m=new Uint8Array(this._buffer,this._byteOffset+this.position),b=p;c!=null&&(b=Math.min(c,p));for(var E=0;E<b&&m[E]!==0;E++);var T=String.fromCharCodeUint8.apply(null,[this.mapUint8Array(E)]);return c!=null?this.position+=b-E:E!=p&&(this.position+=1),T};var a=Math.pow(2,32);r.prototype.readInt64=function(){return this.readInt32()*a+this.readUint32()},r.prototype.readUint64=function(){return this.readUint32()*a+this.readUint32()},r.prototype.readInt64=function(){return this.readUint32()*a+this.readUint32()},r.prototype.readUint24=function(){return(this.readUint8()<<16)+(this.readUint8()<<8)+this.readUint8()},n.DataStream=r,r.prototype.save=function(c){var p=new Blob([this.buffer]);if(window.URL&&URL.createObjectURL){var m=window.URL.createObjectURL(p),b=document.createElement("a");document.body.appendChild(b),b.setAttribute("href",m),b.setAttribute("download",c),b.setAttribute("target","_self"),b.click(),window.URL.revokeObjectURL(m)}else throw"DataStream.save: Can't create object URL."},r.prototype._dynamicSize=!0,Object.defineProperty(r.prototype,"dynamicSize",{get:function(){return this._dynamicSize},set:function(c){c||this._trimAlloc(),this._dynamicSize=c}}),r.prototype.shift=function(c){var p=new ArrayBuffer(this._byteLength-c),m=new Uint8Array(p),b=new Uint8Array(this._buffer,c,m.length);m.set(b),this.buffer=p,this.position-=c},r.prototype.writeInt32Array=function(c,p){if(this._realloc(c.length*4),c instanceof Int32Array&&this.byteOffset+this.position%c.BYTES_PER_ELEMENT===0)r.memcpy(this._buffer,this.byteOffset+this.position,c.buffer,0,c.byteLength),this.mapInt32Array(c.length,p);else for(var m=0;m<c.length;m++)this.writeInt32(c[m],p)},r.prototype.writeInt16Array=function(c,p){if(this._realloc(c.length*2),c instanceof Int16Array&&this.byteOffset+this.position%c.BYTES_PER_ELEMENT===0)r.memcpy(this._buffer,this.byteOffset+this.position,c.buffer,0,c.byteLength),this.mapInt16Array(c.length,p);else for(var m=0;m<c.length;m++)this.writeInt16(c[m],p)},r.prototype.writeInt8Array=function(c){if(this._realloc(c.length*1),c instanceof Int8Array&&this.byteOffset+this.position%c.BYTES_PER_ELEMENT===0)r.memcpy(this._buffer,this.byteOffset+this.position,c.buffer,0,c.byteLength),this.mapInt8Array(c.length);else for(var p=0;p<c.length;p++)this.writeInt8(c[p])},r.prototype.writeUint32Array=function(c,p){if(this._realloc(c.length*4),c instanceof Uint32Array&&this.byteOffset+this.position%c.BYTES_PER_ELEMENT===0)r.memcpy(this._buffer,this.byteOffset+this.position,c.buffer,0,c.byteLength),this.mapUint32Array(c.length,p);else for(var m=0;m<c.length;m++)this.writeUint32(c[m],p)},r.prototype.writeUint16Array=function(c,p){if(this._realloc(c.length*2),c instanceof Uint16Array&&this.byteOffset+this.position%c.BYTES_PER_ELEMENT===0)r.memcpy(this._buffer,this.byteOffset+this.position,c.buffer,0,c.byteLength),this.mapUint16Array(c.length,p);else for(var m=0;m<c.length;m++)this.writeUint16(c[m],p)},r.prototype.writeUint8Array=function(c){if(this._realloc(c.length*1),c instanceof Uint8Array&&this.byteOffset+this.position%c.BYTES_PER_ELEMENT===0)r.memcpy(this._buffer,this.byteOffset+this.position,c.buffer,0,c.byteLength),this.mapUint8Array(c.length);else for(var p=0;p<c.length;p++)this.writeUint8(c[p])},r.prototype.writeFloat64Array=function(c,p){if(this._realloc(c.length*8),c instanceof Float64Array&&this.byteOffset+this.position%c.BYTES_PER_ELEMENT===0)r.memcpy(this._buffer,this.byteOffset+this.position,c.buffer,0,c.byteLength),this.mapFloat64Array(c.length,p);else for(var m=0;m<c.length;m++)this.writeFloat64(c[m],p)},r.prototype.writeFloat32Array=function(c,p){if(this._realloc(c.length*4),c instanceof Float32Array&&this.byteOffset+this.position%c.BYTES_PER_ELEMENT===0)r.memcpy(this._buffer,this.byteOffset+this.position,c.buffer,0,c.byteLength),this.mapFloat32Array(c.length,p);else for(var m=0;m<c.length;m++)this.writeFloat32(c[m],p)},r.prototype.writeInt32=function(c,p){this._realloc(4),this._dataView.setInt32(this.position,c,p??this.endianness),this.position+=4},r.prototype.writeInt16=function(c,p){this._realloc(2),this._dataView.setInt16(this.position,c,p??this.endianness),this.position+=2},r.prototype.writeInt8=function(c){this._realloc(1),this._dataView.setInt8(this.position,c),this.position+=1},r.prototype.writeUint32=function(c,p){this._realloc(4),this._dataView.setUint32(this.position,c,p??this.endianness),this.position+=4},r.prototype.writeUint16=function(c,p){this._realloc(2),this._dataView.setUint16(this.position,c,p??this.endianness),this.position+=2},r.prototype.writeUint8=function(c){this._realloc(1),this._dataView.setUint8(this.position,c),this.position+=1},r.prototype.writeFloat32=function(c,p){this._realloc(4),this._dataView.setFloat32(this.position,c,p??this.endianness),this.position+=4},r.prototype.writeFloat64=function(c,p){this._realloc(8),this._dataView.setFloat64(this.position,c,p??this.endianness),this.position+=8},r.prototype.writeUCS2String=function(c,p,m){m==null&&(m=c.length);for(var b=0;b<c.length&&b<m;b++)this.writeUint16(c.charCodeAt(b),p);for(;b<m;b++)this.writeUint16(0)},r.prototype.writeString=function(c,p,m){var b=0;if(p==null||p=="ASCII")if(m!=null){var E=Math.min(c.length,m);for(b=0;b<E;b++)this.writeUint8(c.charCodeAt(b));for(;b<m;b++)this.writeUint8(0)}else for(b=0;b<c.length;b++)this.writeUint8(c.charCodeAt(b));else this.writeUint8Array(new TextEncoder(p).encode(c.substring(0,m)))},r.prototype.writeCString=function(c,p){var m=0;if(p!=null){var b=Math.min(c.length,p);for(m=0;m<b;m++)this.writeUint8(c.charCodeAt(m));for(;m<p;m++)this.writeUint8(0)}else{for(m=0;m<c.length;m++)this.writeUint8(c.charCodeAt(m));this.writeUint8(0)}},r.prototype.writeStruct=function(c,p){for(var m=0;m<c.length;m+=2){var b=c[m+1];this.writeType(b,p[c[m]],p)}},r.prototype.writeType=function(c,p,m){var b;if(typeof c=="function")return c(this,p);if(typeof c=="object"&&!(c instanceof Array))return c.set(this,p,m);var E=null,T="ASCII",R=this.position;switch(typeof c=="string"&&/:/.test(c)&&(b=c.split(":"),c=b[0],E=parseInt(b[1])),typeof c=="string"&&/,/.test(c)&&(b=c.split(","),c=b[0],T=parseInt(b[1])),c){case"uint8":this.writeUint8(p);break;case"int8":this.writeInt8(p);break;case"uint16":this.writeUint16(p,this.endianness);break;case"int16":this.writeInt16(p,this.endianness);break;case"uint32":this.writeUint32(p,this.endianness);break;case"int32":this.writeInt32(p,this.endianness);break;case"float32":this.writeFloat32(p,this.endianness);break;case"float64":this.writeFloat64(p,this.endianness);break;case"uint16be":this.writeUint16(p,r.BIG_ENDIAN);break;case"int16be":this.writeInt16(p,r.BIG_ENDIAN);break;case"uint32be":this.writeUint32(p,r.BIG_ENDIAN);break;case"int32be":this.writeInt32(p,r.BIG_ENDIAN);break;case"float32be":this.writeFloat32(p,r.BIG_ENDIAN);break;case"float64be":this.writeFloat64(p,r.BIG_ENDIAN);break;case"uint16le":this.writeUint16(p,r.LITTLE_ENDIAN);break;case"int16le":this.writeInt16(p,r.LITTLE_ENDIAN);break;case"uint32le":this.writeUint32(p,r.LITTLE_ENDIAN);break;case"int32le":this.writeInt32(p,r.LITTLE_ENDIAN);break;case"float32le":this.writeFloat32(p,r.LITTLE_ENDIAN);break;case"float64le":this.writeFloat64(p,r.LITTLE_ENDIAN);break;case"cstring":this.writeCString(p,E);break;case"string":this.writeString(p,T,E);break;case"u16string":this.writeUCS2String(p,this.endianness,E);break;case"u16stringle":this.writeUCS2String(p,r.LITTLE_ENDIAN,E);break;case"u16stringbe":this.writeUCS2String(p,r.BIG_ENDIAN,E);break;default:if(c.length==3){for(var O=c[1],D=0;D<p.length;D++)this.writeType(O,p[D]);break}else{this.writeStruct(c,p);break}}E!=null&&(this.position=R,this._realloc(E),this.position=R+E)},r.prototype.writeUint64=function(c){var p=Math.floor(c/a);this.writeUint32(p),this.writeUint32(c&4294967295)},r.prototype.writeUint24=function(c){this.writeUint8((c&16711680)>>16),this.writeUint8((c&65280)>>8),this.writeUint8(c&255)},r.prototype.adjustUint32=function(c,p){var m=this.position;this.seek(c),this.writeUint32(p),this.seek(m)},r.prototype.mapInt32Array=function(c,p){this._realloc(c*4);var m=new Int32Array(this._buffer,this.byteOffset+this.position,c);return r.arrayToNative(m,p??this.endianness),this.position+=c*4,m},r.prototype.mapInt16Array=function(c,p){this._realloc(c*2);var m=new Int16Array(this._buffer,this.byteOffset+this.position,c);return r.arrayToNative(m,p??this.endianness),this.position+=c*2,m},r.prototype.mapInt8Array=function(c){this._realloc(c*1);var p=new Int8Array(this._buffer,this.byteOffset+this.position,c);return this.position+=c*1,p},r.prototype.mapUint32Array=function(c,p){this._realloc(c*4);var m=new Uint32Array(this._buffer,this.byteOffset+this.position,c);return r.arrayToNative(m,p??this.endianness),this.position+=c*4,m},r.prototype.mapUint16Array=function(c,p){this._realloc(c*2);var m=new Uint16Array(this._buffer,this.byteOffset+this.position,c);return r.arrayToNative(m,p??this.endianness),this.position+=c*2,m},r.prototype.mapFloat64Array=function(c,p){this._realloc(c*8);var m=new Float64Array(this._buffer,this.byteOffset+this.position,c);return r.arrayToNative(m,p??this.endianness),this.position+=c*8,m},r.prototype.mapFloat32Array=function(c,p){this._realloc(c*4);var m=new Float32Array(this._buffer,this.byteOffset+this.position,c);return r.arrayToNative(m,p??this.endianness),this.position+=c*4,m};var o=function(c){this.buffers=[],this.bufferIndex=-1,c&&(this.insertBuffer(c),this.bufferIndex=0)};o.prototype=new r(new ArrayBuffer,0,r.BIG_ENDIAN),o.prototype.initialized=function(){var c;return this.bufferIndex>-1?!0:this.buffers.length>0?(c=this.buffers[0],c.fileStart===0?(this.buffer=c,this.bufferIndex=0,e.debug("MultiBufferStream","Stream ready for parsing"),!0):(e.warn("MultiBufferStream","The first buffer should have a fileStart of 0"),this.logBufferLevel(),!1)):(e.warn("MultiBufferStream","No buffer to start parsing from"),this.logBufferLevel(),!1)},ArrayBuffer.concat=function(c,p){e.debug("ArrayBuffer","Trying to create a new buffer of size: "+(c.byteLength+p.byteLength));var m=new Uint8Array(c.byteLength+p.byteLength);return m.set(new Uint8Array(c),0),m.set(new Uint8Array(p),c.byteLength),m.buffer},o.prototype.reduceBuffer=function(c,p,m){var b;return b=new Uint8Array(m),b.set(new Uint8Array(c,p,m)),b.buffer.fileStart=c.fileStart+p,b.buffer.usedBytes=0,b.buffer},o.prototype.insertBuffer=function(c){for(var p=!0,m=0;m<this.buffers.length;m++){var b=this.buffers[m];if(c.fileStart<=b.fileStart){if(c.fileStart===b.fileStart)if(c.byteLength>b.byteLength){this.buffers.splice(m,1),m--;continue}else e.warn("MultiBufferStream","Buffer (fileStart: "+c.fileStart+" - Length: "+c.byteLength+") already appended, ignoring");else c.fileStart+c.byteLength<=b.fileStart||(c=this.reduceBuffer(c,0,b.fileStart-c.fileStart)),e.debug("MultiBufferStream","Appending new buffer (fileStart: "+c.fileStart+" - Length: "+c.byteLength+")"),this.buffers.splice(m,0,c),m===0&&(this.buffer=c);p=!1;break}else if(c.fileStart<b.fileStart+b.byteLength){var E=b.fileStart+b.byteLength-c.fileStart,T=c.byteLength-E;if(T>0)c=this.reduceBuffer(c,E,T);else{p=!1;break}}}p&&(e.debug("MultiBufferStream","Appending new buffer (fileStart: "+c.fileStart+" - Length: "+c.byteLength+")"),this.buffers.push(c),m===0&&(this.buffer=c))},o.prototype.logBufferLevel=function(c){var p,m,b,E,T=[],R,O="";for(b=0,E=0,p=0;p<this.buffers.length;p++)m=this.buffers[p],p===0?(R={},T.push(R),R.start=m.fileStart,R.end=m.fileStart+m.byteLength,O+="["+R.start+"-"):R.end===m.fileStart?R.end=m.fileStart+m.byteLength:(R={},R.start=m.fileStart,O+=T[T.length-1].end-1+"], ["+R.start+"-",R.end=m.fileStart+m.byteLength,T.push(R)),b+=m.usedBytes,E+=m.byteLength;T.length>0&&(O+=R.end-1+"]");var D=c?e.info:e.debug;this.buffers.length===0?D("MultiBufferStream","No more buffer in memory"):D("MultiBufferStream",""+this.buffers.length+" stored buffer(s) ("+b+"/"+E+" bytes), continuous ranges: "+O)},o.prototype.cleanBuffers=function(){var c,p;for(c=0;c<this.buffers.length;c++)p=this.buffers[c],p.usedBytes===p.byteLength&&(e.debug("MultiBufferStream","Removing buffer #"+c),this.buffers.splice(c,1),c--)},o.prototype.mergeNextBuffer=function(){var c;if(this.bufferIndex+1<this.buffers.length)if(c=this.buffers[this.bufferIndex+1],c.fileStart===this.buffer.fileStart+this.buffer.byteLength){var p=this.buffer.byteLength,m=this.buffer.usedBytes,b=this.buffer.fileStart;return this.buffers[this.bufferIndex]=ArrayBuffer.concat(this.buffer,c),this.buffer=this.buffers[this.bufferIndex],this.buffers.splice(this.bufferIndex+1,1),this.buffer.usedBytes=m,this.buffer.fileStart=b,e.debug("ISOFile","Concatenating buffer for box parsing (length: "+p+"->"+this.buffer.byteLength+")"),!0}else return!1;else return!1},o.prototype.findPosition=function(c,p,m){var b,E=null,T=-1;for(c===!0?b=0:b=this.bufferIndex;b<this.buffers.length&&(E=this.buffers[b],E.fileStart<=p);){T=b,m&&(E.fileStart+E.byteLength<=p?E.usedBytes=E.byteLength:E.usedBytes=p-E.fileStart,this.logBufferLevel());b++}return T!==-1?(E=this.buffers[T],E.fileStart+E.byteLength>=p?(e.debug("MultiBufferStream","Found position in existing buffer #"+T),T):-1):-1},o.prototype.findEndContiguousBuf=function(c){var p,m,b,E=c!==void 0?c:this.bufferIndex;if(m=this.buffers[E],this.buffers.length>E+1)for(p=E+1;p<this.buffers.length&&(b=this.buffers[p],b.fileStart===m.fileStart+m.byteLength);p++)m=b;return m.fileStart+m.byteLength},o.prototype.getEndFilePositionAfter=function(c){var p=this.findPosition(!0,c,!1);return p!==-1?this.findEndContiguousBuf(p):c},o.prototype.addUsedBytes=function(c){this.buffer.usedBytes+=c,this.logBufferLevel()},o.prototype.setAllUsedBytes=function(){this.buffer.usedBytes=this.buffer.byteLength,this.logBufferLevel()},o.prototype.seek=function(c,p,m){var b;return b=this.findPosition(p,c,m),b!==-1?(this.buffer=this.buffers[b],this.bufferIndex=b,this.position=c-this.buffer.fileStart,e.debug("MultiBufferStream","Repositioning parser at buffer position: "+this.position),!0):(e.debug("MultiBufferStream","Position "+c+" not found in buffered data"),!1)},o.prototype.getPosition=function(){if(this.bufferIndex===-1||this.buffers[this.bufferIndex]===null)throw"Error accessing position in the MultiBufferStream";return this.buffers[this.bufferIndex].fileStart+this.position},o.prototype.getLength=function(){return this.byteLength},o.prototype.getEndPosition=function(){if(this.bufferIndex===-1||this.buffers[this.bufferIndex]===null)throw"Error accessing position in the MultiBufferStream";return this.buffers[this.bufferIndex].fileStart+this.byteLength},n.MultiBufferStream=o;var l=function(){var c=3,p=4,m=5,b=6,E=[];E[c]="ES_Descriptor",E[p]="DecoderConfigDescriptor",E[m]="DecoderSpecificInfo",E[b]="SLConfigDescriptor",this.getDescriptorName=function(O){return E[O]};var T=this,R={};return this.parseOneDescriptor=function(O){var D=0,P,F,U;for(P=O.readUint8(),U=O.readUint8();U&128;)D=(U&127)<<7,U=O.readUint8();return D+=U&127,e.debug("MPEG4DescriptorParser","Found "+(E[P]||"Descriptor "+P)+", size "+D+" at position "+O.getPosition()),E[P]?F=new R[E[P]](D):F=new R.Descriptor(D),F.parse(O),F},R.Descriptor=function(O,D){this.tag=O,this.size=D,this.descs=[]},R.Descriptor.prototype.parse=function(O){this.data=O.readUint8Array(this.size)},R.Descriptor.prototype.findDescriptor=function(O){for(var D=0;D<this.descs.length;D++)if(this.descs[D].tag==O)return this.descs[D];return null},R.Descriptor.prototype.parseRemainingDescriptors=function(O){for(var D=O.position;O.position<D+this.size;){var P=T.parseOneDescriptor(O);this.descs.push(P)}},R.ES_Descriptor=function(O){R.Descriptor.call(this,c,O)},R.ES_Descriptor.prototype=new R.Descriptor,R.ES_Descriptor.prototype.parse=function(O){if(this.ES_ID=O.readUint16(),this.flags=O.readUint8(),this.size-=3,this.flags&128?(this.dependsOn_ES_ID=O.readUint16(),this.size-=2):this.dependsOn_ES_ID=0,this.flags&64){var D=O.readUint8();this.URL=O.readString(D),this.size-=D+1}else this.URL="";this.flags&32?(this.OCR_ES_ID=O.readUint16(),this.size-=2):this.OCR_ES_ID=0,this.parseRemainingDescriptors(O)},R.ES_Descriptor.prototype.getOTI=function(O){var D=this.findDescriptor(p);return D?D.oti:0},R.ES_Descriptor.prototype.getAudioConfig=function(O){var D=this.findDescriptor(p);if(!D)return null;var P=D.findDescriptor(m);if(P&&P.data){var F=(P.data[0]&248)>>3;return F===31&&P.data.length>=2&&(F=32+((P.data[0]&7)<<3)+((P.data[1]&224)>>5)),F}else return null},R.DecoderConfigDescriptor=function(O){R.Descriptor.call(this,p,O)},R.DecoderConfigDescriptor.prototype=new R.Descriptor,R.DecoderConfigDescriptor.prototype.parse=function(O){this.oti=O.readUint8(),this.streamType=O.readUint8(),this.upStream=(this.streamType>>1&1)!==0,this.streamType=this.streamType>>>2,this.bufferSize=O.readUint24(),this.maxBitrate=O.readUint32(),this.avgBitrate=O.readUint32(),this.size-=13,this.parseRemainingDescriptors(O)},R.DecoderSpecificInfo=function(O){R.Descriptor.call(this,m,O)},R.DecoderSpecificInfo.prototype=new R.Descriptor,R.SLConfigDescriptor=function(O){R.Descriptor.call(this,b,O)},R.SLConfigDescriptor.prototype=new R.Descriptor,this};n.MPEG4DescriptorParser=l;var s={ERR_INVALID_DATA:-1,ERR_NOT_ENOUGH_DATA:0,OK:1,BASIC_BOXES:["mdat","idat","free","skip","meco","strk"],FULL_BOXES:["hmhd","nmhd","iods","xml ","bxml","ipro","mere"],CONTAINER_BOXES:[["moov",["trak","pssh"]],["trak"],["edts"],["mdia"],["minf"],["dinf"],["stbl",["sgpd","sbgp"]],["mvex",["trex"]],["moof",["traf"]],["traf",["trun","sgpd","sbgp"]],["vttc"],["tref"],["iref"],["mfra",["tfra"]],["meco"],["hnti"],["hinf"],["strk"],["strd"],["sinf"],["rinf"],["schi"],["trgr"],["udta",["kind"]],["iprp",["ipma"]],["ipco"],["grpl"],["j2kH"],["etyp",["tyco"]]],boxCodes:[],fullBoxCodes:[],containerBoxCodes:[],sampleEntryCodes:{},sampleGroupEntryCodes:[],trackGroupTypes:[],UUIDBoxes:{},UUIDs:[],initialize:function(){s.FullBox.prototype=new s.Box,s.ContainerBox.prototype=new s.Box,s.SampleEntry.prototype=new s.Box,s.TrackGroupTypeBox.prototype=new s.FullBox,s.BASIC_BOXES.forEach(function(c){s.createBoxCtor(c)}),s.FULL_BOXES.forEach(function(c){s.createFullBoxCtor(c)}),s.CONTAINER_BOXES.forEach(function(c){s.createContainerBoxCtor(c[0],null,c[1])})},Box:function(c,p,m){this.type=c,this.size=p,this.uuid=m},FullBox:function(c,p,m){s.Box.call(this,c,p,m),this.flags=0,this.version=0},ContainerBox:function(c,p,m){s.Box.call(this,c,p,m),this.boxes=[]},SampleEntry:function(c,p,m,b){s.ContainerBox.call(this,c,p),this.hdr_size=m,this.start=b},SampleGroupEntry:function(c){this.grouping_type=c},TrackGroupTypeBox:function(c,p){s.FullBox.call(this,c,p)},createBoxCtor:function(c,p){s.boxCodes.push(c),s[c+"Box"]=function(m){s.Box.call(this,c,m)},s[c+"Box"].prototype=new s.Box,p&&(s[c+"Box"].prototype.parse=p)},createFullBoxCtor:function(c,p){s[c+"Box"]=function(m){s.FullBox.call(this,c,m)},s[c+"Box"].prototype=new s.FullBox,s[c+"Box"].prototype.parse=function(m){this.parseFullHeader(m),p&&p.call(this,m)}},addSubBoxArrays:function(c){if(c){this.subBoxNames=c;for(var p=c.length,m=0;m<p;m++)this[c[m]+"s"]=[]}},createContainerBoxCtor:function(c,p,m){s[c+"Box"]=function(b){s.ContainerBox.call(this,c,b),s.addSubBoxArrays.call(this,m)},s[c+"Box"].prototype=new s.ContainerBox,p&&(s[c+"Box"].prototype.parse=p)},createMediaSampleEntryCtor:function(c,p,m){s.sampleEntryCodes[c]=[],s[c+"SampleEntry"]=function(b,E){s.SampleEntry.call(this,b,E),s.addSubBoxArrays.call(this,m)},s[c+"SampleEntry"].prototype=new s.SampleEntry,p&&(s[c+"SampleEntry"].prototype.parse=p)},createSampleEntryCtor:function(c,p,m,b){s.sampleEntryCodes[c].push(p),s[p+"SampleEntry"]=function(E){s[c+"SampleEntry"].call(this,p,E),s.addSubBoxArrays.call(this,b)},s[p+"SampleEntry"].prototype=new s[c+"SampleEntry"],m&&(s[p+"SampleEntry"].prototype.parse=m)},createEncryptedSampleEntryCtor:function(c,p,m){s.createSampleEntryCtor.call(this,c,p,m,["sinf"])},createSampleGroupCtor:function(c,p){s[c+"SampleGroupEntry"]=function(m){s.SampleGroupEntry.call(this,c,m)},s[c+"SampleGroupEntry"].prototype=new s.SampleGroupEntry,p&&(s[c+"SampleGroupEntry"].prototype.parse=p)},createTrackGroupCtor:function(c,p){s[c+"TrackGroupTypeBox"]=function(m){s.TrackGroupTypeBox.call(this,c,m)},s[c+"TrackGroupTypeBox"].prototype=new s.TrackGroupTypeBox,p&&(s[c+"TrackGroupTypeBox"].prototype.parse=p)},createUUIDBox:function(c,p,m,b){s.UUIDs.push(c),s.UUIDBoxes[c]=function(E){p?s.FullBox.call(this,"uuid",E,c):m?s.ContainerBox.call(this,"uuid",E,c):s.Box.call(this,"uuid",E,c)},s.UUIDBoxes[c].prototype=p?new s.FullBox:m?new s.ContainerBox:new s.Box,b&&(p?s.UUIDBoxes[c].prototype.parse=function(E){this.parseFullHeader(E),b&&b.call(this,E)}:s.UUIDBoxes[c].prototype.parse=b)}};s.initialize(),s.TKHD_FLAG_ENABLED=1,s.TKHD_FLAG_IN_MOVIE=2,s.TKHD_FLAG_IN_PREVIEW=4,s.TFHD_FLAG_BASE_DATA_OFFSET=1,s.TFHD_FLAG_SAMPLE_DESC=2,s.TFHD_FLAG_SAMPLE_DUR=8,s.TFHD_FLAG_SAMPLE_SIZE=16,s.TFHD_FLAG_SAMPLE_FLAGS=32,s.TFHD_FLAG_DUR_EMPTY=65536,s.TFHD_FLAG_DEFAULT_BASE_IS_MOOF=131072,s.TRUN_FLAGS_DATA_OFFSET=1,s.TRUN_FLAGS_FIRST_FLAG=4,s.TRUN_FLAGS_DURATION=256,s.TRUN_FLAGS_SIZE=512,s.TRUN_FLAGS_FLAGS=1024,s.TRUN_FLAGS_CTS_OFFSET=2048,s.Box.prototype.add=function(c){return this.addBox(new s[c+"Box"])},s.Box.prototype.addBox=function(c){return this.boxes.push(c),this[c.type+"s"]?this[c.type+"s"].push(c):this[c.type]=c,c},s.Box.prototype.set=function(c,p){return this[c]=p,this},s.Box.prototype.addEntry=function(c,p){var m=p||"entries";return this[m]||(this[m]=[]),this[m].push(c),this},n.BoxParser=s,s.parseUUID=function(c){return s.parseHex16(c)},s.parseHex16=function(c){for(var p="",m=0;m<16;m++){var b=c.readUint8().toString(16);p+=b.length===1?"0"+b:b}return p},s.parseOneBox=function(c,p,m){var b,E=c.getPosition(),T=0,R,O;if(c.getEndPosition()-E<8)return e.debug("BoxParser","Not enough data in stream to parse the type and size of the box"),{code:s.ERR_NOT_ENOUGH_DATA};if(m&&m<8)return e.debug("BoxParser","Not enough bytes left in the parent box to parse a new box"),{code:s.ERR_NOT_ENOUGH_DATA};var D=c.readUint32(),P=c.readString(4),F=P;if(e.debug("BoxParser","Found box of type '"+P+"' and size "+D+" at position "+E),T=8,P=="uuid"){if(c.getEndPosition()-c.getPosition()<16||m-T<16)return c.seek(E),e.debug("BoxParser","Not enough bytes left in the parent box to parse a UUID box"),{code:s.ERR_NOT_ENOUGH_DATA};O=s.parseUUID(c),T+=16,F=O}if(D==1){if(c.getEndPosition()-c.getPosition()<8||m&&m-T<8)return c.seek(E),e.warn("BoxParser",'Not enough data in stream to parse the extended size of the "'+P+'" box'),{code:s.ERR_NOT_ENOUGH_DATA};D=c.readUint64(),T+=8}else if(D===0){if(m)D=m;else if(P!=="mdat")return e.error("BoxParser","Unlimited box size not supported for type: '"+P+"'"),b=new s.Box(P,D),{code:s.OK,box:b,size:b.size}}return D!==0&&D<T?(e.error("BoxParser","Box of type "+P+" has an invalid size "+D+" (too small to be a box)"),{code:s.ERR_NOT_ENOUGH_DATA,type:P,size:D,hdr_size:T,start:E}):D!==0&&m&&D>m?(e.error("BoxParser","Box of type '"+P+"' has a size "+D+" greater than its container size "+m),{code:s.ERR_NOT_ENOUGH_DATA,type:P,size:D,hdr_size:T,start:E}):D!==0&&E+D>c.getEndPosition()?(c.seek(E),e.info("BoxParser","Not enough data in stream to parse the entire '"+P+"' box"),{code:s.ERR_NOT_ENOUGH_DATA,type:P,size:D,hdr_size:T,start:E}):p?{code:s.OK,type:P,size:D,hdr_size:T,start:E}:(s[P+"Box"]?b=new s[P+"Box"](D):P!=="uuid"?(e.warn("BoxParser","Unknown box type: '"+P+"'"),b=new s.Box(P,D),b.has_unparsed_data=!0):s.UUIDBoxes[O]?b=new s.UUIDBoxes[O](D):(e.warn("BoxParser","Unknown uuid type: '"+O+"'"),b=new s.Box(P,D),b.uuid=O,b.has_unparsed_data=!0),b.hdr_size=T,b.start=E,b.write===s.Box.prototype.write&&b.type!=="mdat"&&(e.info("BoxParser","'"+F+"' box writing not yet implemented, keeping unparsed data in memory for later write"),b.parseDataAndRewind(c)),b.parse(c),R=c.getPosition()-(b.start+b.size),R<0?(e.warn("BoxParser","Parsing of box '"+F+"' did not read the entire indicated box data size (missing "+-R+" bytes), seeking forward"),c.seek(b.start+b.size)):R>0&&(e.error("BoxParser","Parsing of box '"+F+"' read "+R+" more bytes than the indicated box data size, seeking backwards"),b.size!==0&&c.seek(b.start+b.size)),{code:s.OK,box:b,size:b.size})},s.Box.prototype.parse=function(c){this.type!="mdat"?this.data=c.readUint8Array(this.size-this.hdr_size):this.size===0?c.seek(c.getEndPosition()):c.seek(this.start+this.size)},s.Box.prototype.parseDataAndRewind=function(c){this.data=c.readUint8Array(this.size-this.hdr_size),c.position-=this.size-this.hdr_size},s.FullBox.prototype.parseDataAndRewind=function(c){this.parseFullHeader(c),this.data=c.readUint8Array(this.size-this.hdr_size),this.hdr_size-=4,c.position-=this.size-this.hdr_size},s.FullBox.prototype.parseFullHeader=function(c){this.version=c.readUint8(),this.flags=c.readUint24(),this.hdr_size+=4},s.FullBox.prototype.parse=function(c){this.parseFullHeader(c),this.data=c.readUint8Array(this.size-this.hdr_size)},s.ContainerBox.prototype.parse=function(c){for(var p,m;c.getPosition()<this.start+this.size;)if(p=s.parseOneBox(c,!1,this.size-(c.getPosition()-this.start)),p.code===s.OK)if(m=p.box,this.boxes.push(m),this.subBoxNames&&this.subBoxNames.indexOf(m.type)!=-1)this[this.subBoxNames[this.subBoxNames.indexOf(m.type)]+"s"].push(m);else{var b=m.type!=="uuid"?m.type:m.uuid;this[b]?e.warn("Box of type "+b+" already stored in field of this type"):this[b]=m}else return},s.Box.prototype.parseLanguage=function(c){this.language=c.readUint16();var p=[];p[0]=this.language>>10&31,p[1]=this.language>>5&31,p[2]=this.language&31,this.languageString=String.fromCharCode(p[0]+96,p[1]+96,p[2]+96)},s.SAMPLE_ENTRY_TYPE_VISUAL="Visual",s.SAMPLE_ENTRY_TYPE_AUDIO="Audio",s.SAMPLE_ENTRY_TYPE_HINT="Hint",s.SAMPLE_ENTRY_TYPE_METADATA="Metadata",s.SAMPLE_ENTRY_TYPE_SUBTITLE="Subtitle",s.SAMPLE_ENTRY_TYPE_SYSTEM="System",s.SAMPLE_ENTRY_TYPE_TEXT="Text",s.SampleEntry.prototype.parseHeader=function(c){c.readUint8Array(6),this.data_reference_index=c.readUint16(),this.hdr_size+=8},s.SampleEntry.prototype.parse=function(c){this.parseHeader(c),this.data=c.readUint8Array(this.size-this.hdr_size)},s.SampleEntry.prototype.parseDataAndRewind=function(c){this.parseHeader(c),this.data=c.readUint8Array(this.size-this.hdr_size),this.hdr_size-=8,c.position-=this.size-this.hdr_size},s.SampleEntry.prototype.parseFooter=function(c){s.ContainerBox.prototype.parse.call(this,c)},s.createMediaSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_HINT),s.createMediaSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_METADATA),s.createMediaSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_SUBTITLE),s.createMediaSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_SYSTEM),s.createMediaSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_TEXT),s.createMediaSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,function(c){var p;this.parseHeader(c),c.readUint16(),c.readUint16(),c.readUint32Array(3),this.width=c.readUint16(),this.height=c.readUint16(),this.horizresolution=c.readUint32(),this.vertresolution=c.readUint32(),c.readUint32(),this.frame_count=c.readUint16(),p=Math.min(31,c.readUint8()),this.compressorname=c.readString(p),p<31&&c.readString(31-p),this.depth=c.readUint16(),c.readUint16(),this.parseFooter(c)}),s.createMediaSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_AUDIO,function(c){this.parseHeader(c),c.readUint32Array(2),this.channel_count=c.readUint16(),this.samplesize=c.readUint16(),c.readUint16(),c.readUint16(),this.samplerate=c.readUint32()/65536,this.parseFooter(c)}),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"avc1"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"avc2"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"avc3"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"avc4"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"av01"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"dav1"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"hvc1"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"hev1"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"hvt1"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"lhe1"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"dvh1"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"dvhe"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"vvc1"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"vvi1"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"vvs1"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"vvcN"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"vp08"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"vp09"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"avs3"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"j2ki"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"mjp2"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"mjpg"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"uncv"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_AUDIO,"mp4a"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_AUDIO,"ac-3"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_AUDIO,"ac-4"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_AUDIO,"ec-3"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_AUDIO,"Opus"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_AUDIO,"mha1"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_AUDIO,"mha2"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_AUDIO,"mhm1"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_AUDIO,"mhm2"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_AUDIO,"fLaC"),s.createEncryptedSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"encv"),s.createEncryptedSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_AUDIO,"enca"),s.createEncryptedSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_SUBTITLE,"encu"),s.createEncryptedSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_SYSTEM,"encs"),s.createEncryptedSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_TEXT,"enct"),s.createEncryptedSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_METADATA,"encm"),s.createBoxCtor("a1lx",function(c){var p=c.readUint8()&1,m=((p&1)+1)*16;this.layer_size=[];for(var b=0;b<3;b++)m==16?this.layer_size[b]=c.readUint16():this.layer_size[b]=c.readUint32()}),s.createBoxCtor("a1op",function(c){this.op_index=c.readUint8()}),s.createFullBoxCtor("auxC",function(c){this.aux_type=c.readCString();var p=this.size-this.hdr_size-(this.aux_type.length+1);this.aux_subtype=c.readUint8Array(p)}),s.createBoxCtor("av1C",function(c){var p=c.readUint8();if(p>>7&!1){e.error("av1C marker problem");return}if(this.version=p&127,this.version!==1){e.error("av1C version "+this.version+" not supported");return}if(p=c.readUint8(),this.seq_profile=p>>5&7,this.seq_level_idx_0=p&31,p=c.readUint8(),this.seq_tier_0=p>>7&1,this.high_bitdepth=p>>6&1,this.twelve_bit=p>>5&1,this.monochrome=p>>4&1,this.chroma_subsampling_x=p>>3&1,this.chroma_subsampling_y=p>>2&1,this.chroma_sample_position=p&3,p=c.readUint8(),this.reserved_1=p>>5&7,this.reserved_1!==0){e.error("av1C reserved_1 parsing problem");return}if(this.initial_presentation_delay_present=p>>4&1,this.initial_presentation_delay_present===1)this.initial_presentation_delay_minus_one=p&15;else if(this.reserved_2=p&15,this.reserved_2!==0){e.error("av1C reserved_2 parsing problem");return}var m=this.size-this.hdr_size-4;this.configOBUs=c.readUint8Array(m)}),s.createBoxCtor("avcC",function(c){var p,m;for(this.configurationVersion=c.readUint8(),this.AVCProfileIndication=c.readUint8(),this.profile_compatibility=c.readUint8(),this.AVCLevelIndication=c.readUint8(),this.lengthSizeMinusOne=c.readUint8()&3,this.nb_SPS_nalus=c.readUint8()&31,m=this.size-this.hdr_size-6,this.SPS=[],p=0;p<this.nb_SPS_nalus;p++)this.SPS[p]={},this.SPS[p].length=c.readUint16(),this.SPS[p].nalu=c.readUint8Array(this.SPS[p].length),m-=2+this.SPS[p].length;for(this.nb_PPS_nalus=c.readUint8(),m--,this.PPS=[],p=0;p<this.nb_PPS_nalus;p++)this.PPS[p]={},this.PPS[p].length=c.readUint16(),this.PPS[p].nalu=c.readUint8Array(this.PPS[p].length),m-=2+this.PPS[p].length;m>0&&(this.ext=c.readUint8Array(m))}),s.createBoxCtor("btrt",function(c){this.bufferSizeDB=c.readUint32(),this.maxBitrate=c.readUint32(),this.avgBitrate=c.readUint32()}),s.createFullBoxCtor("ccst",function(c){var p=c.readUint8();this.all_ref_pics_intra=(p&128)==128,this.intra_pred_used=(p&64)==64,this.max_ref_per_pic=(p&63)>>2,c.readUint24()}),s.createBoxCtor("cdef",function(c){var p;for(this.channel_count=c.readUint16(),this.channel_indexes=[],this.channel_types=[],this.channel_associations=[],p=0;p<this.channel_count;p++)this.channel_indexes.push(c.readUint16()),this.channel_types.push(c.readUint16()),this.channel_associations.push(c.readUint16())}),s.createBoxCtor("clap",function(c){this.cleanApertureWidthN=c.readUint32(),this.cleanApertureWidthD=c.readUint32(),this.cleanApertureHeightN=c.readUint32(),this.cleanApertureHeightD=c.readUint32(),this.horizOffN=c.readUint32(),this.horizOffD=c.readUint32(),this.vertOffN=c.readUint32(),this.vertOffD=c.readUint32()}),s.createBoxCtor("clli",function(c){this.max_content_light_level=c.readUint16(),this.max_pic_average_light_level=c.readUint16()}),s.createFullBoxCtor("cmex",function(c){this.flags&1&&(this.pos_x=c.readInt32()),this.flags&2&&(this.pos_y=c.readInt32()),this.flags&4&&(this.pos_z=c.readInt32()),this.flags&8&&(this.version==0?this.flags&16?(this.quat_x=c.readInt32(),this.quat_y=c.readInt32(),this.quat_z=c.readInt32()):(this.quat_x=c.readInt16(),this.quat_y=c.readInt16(),this.quat_z=c.readInt16()):this.version==1),this.flags&32&&(this.id=c.readUint32())}),s.createFullBoxCtor("cmin",function(c){this.focal_length_x=c.readInt32(),this.principal_point_x=c.readInt32(),this.principal_point_y=c.readInt32(),this.flags&1&&(this.focal_length_y=c.readInt32(),this.skew_factor=c.readInt32())}),s.createBoxCtor("cmpd",function(c){for(this.component_count=c.readUint32(),this.component_types=[],this.component_type_urls=[],i=0;i<this.component_count;i++){var p=c.readUint16();this.component_types.push(p),p>=32768&&this.component_type_urls.push(c.readCString())}}),s.createFullBoxCtor("co64",function(c){var p,m;if(p=c.readUint32(),this.chunk_offsets=[],this.version===0)for(m=0;m<p;m++)this.chunk_offsets.push(c.readUint64())}),s.createFullBoxCtor("CoLL",function(c){this.maxCLL=c.readUint16(),this.maxFALL=c.readUint16()}),s.createBoxCtor("colr",function(c){if(this.colour_type=c.readString(4),this.colour_type==="nclx"){this.colour_primaries=c.readUint16(),this.transfer_characteristics=c.readUint16(),this.matrix_coefficients=c.readUint16();var p=c.readUint8();this.full_range_flag=p>>7}else this.colour_type==="rICC"?this.ICC_profile=c.readUint8Array(this.size-4):this.colour_type==="prof"&&(this.ICC_profile=c.readUint8Array(this.size-4))}),s.createFullBoxCtor("cprt",function(c){this.parseLanguage(c),this.notice=c.readCString()}),s.createFullBoxCtor("cslg",function(c){this.version===0&&(this.compositionToDTSShift=c.readInt32(),this.leastDecodeToDisplayDelta=c.readInt32(),this.greatestDecodeToDisplayDelta=c.readInt32(),this.compositionStartTime=c.readInt32(),this.compositionEndTime=c.readInt32())}),s.createFullBoxCtor("ctts",function(c){var p,m;if(p=c.readUint32(),this.sample_counts=[],this.sample_offsets=[],this.version===0)for(m=0;m<p;m++){this.sample_counts.push(c.readUint32());var b=c.readInt32();b<0&&e.warn("BoxParser","ctts box uses negative values without using version 1"),this.sample_offsets.push(b)}else if(this.version==1)for(m=0;m<p;m++)this.sample_counts.push(c.readUint32()),this.sample_offsets.push(c.readInt32())}),s.createBoxCtor("dac3",function(c){var p=c.readUint8(),m=c.readUint8(),b=c.readUint8();this.fscod=p>>6,this.bsid=p>>1&31,this.bsmod=(p&1)<<2|m>>6&3,this.acmod=m>>3&7,this.lfeon=m>>2&1,this.bit_rate_code=m&3|b>>5&7}),s.createBoxCtor("dec3",function(c){var p=c.readUint16();this.data_rate=p>>3,this.num_ind_sub=p&7,this.ind_subs=[];for(var m=0;m<this.num_ind_sub+1;m++){var b={};this.ind_subs.push(b);var E=c.readUint8(),T=c.readUint8(),R=c.readUint8();b.fscod=E>>6,b.bsid=E>>1&31,b.bsmod=(E&1)<<4|T>>4&15,b.acmod=T>>1&7,b.lfeon=T&1,b.num_dep_sub=R>>1&15,b.num_dep_sub>0&&(b.chan_loc=(R&1)<<8|c.readUint8())}}),s.createFullBoxCtor("dfLa",function(c){var p=127,m=128,b=[],E=["STREAMINFO","PADDING","APPLICATION","SEEKTABLE","VORBIS_COMMENT","CUESHEET","PICTURE","RESERVED"];do{var T=c.readUint8(),R=Math.min(T&p,E.length-1);if(R?c.readUint8Array(c.readUint24()):(c.readUint8Array(13),this.samplerate=c.readUint32()>>12,c.readUint8Array(20)),b.push(E[R]),T&m)break}while(!0);this.numMetadataBlocks=b.length+" ("+b.join(", ")+")"}),s.createBoxCtor("dimm",function(c){this.bytessent=c.readUint64()}),s.createBoxCtor("dmax",function(c){this.time=c.readUint32()}),s.createBoxCtor("dmed",function(c){this.bytessent=c.readUint64()}),s.createBoxCtor("dOps",function(c){if(this.Version=c.readUint8(),this.OutputChannelCount=c.readUint8(),this.PreSkip=c.readUint16(),this.InputSampleRate=c.readUint32(),this.OutputGain=c.readInt16(),this.ChannelMappingFamily=c.readUint8(),this.ChannelMappingFamily!==0){this.StreamCount=c.readUint8(),this.CoupledCount=c.readUint8(),this.ChannelMapping=[];for(var p=0;p<this.OutputChannelCount;p++)this.ChannelMapping[p]=c.readUint8()}}),s.createFullBoxCtor("dref",function(c){var p,m;this.entries=[];for(var b=c.readUint32(),E=0;E<b;E++)if(p=s.parseOneBox(c,!1,this.size-(c.getPosition()-this.start)),p.code===s.OK)m=p.box,this.entries.push(m);else return}),s.createBoxCtor("drep",function(c){this.bytessent=c.readUint64()}),s.createFullBoxCtor("elng",function(c){this.extended_language=c.readString(this.size-this.hdr_size)}),s.createFullBoxCtor("elst",function(c){this.entries=[];for(var p=c.readUint32(),m=0;m<p;m++){var b={};this.entries.push(b),this.version===1?(b.segment_duration=c.readUint64(),b.media_time=c.readInt64()):(b.segment_duration=c.readUint32(),b.media_time=c.readInt32()),b.media_rate_integer=c.readInt16(),b.media_rate_fraction=c.readInt16()}}),s.createFullBoxCtor("emsg",function(c){this.version==1?(this.timescale=c.readUint32(),this.presentation_time=c.readUint64(),this.event_duration=c.readUint32(),this.id=c.readUint32(),this.scheme_id_uri=c.readCString(),this.value=c.readCString()):(this.scheme_id_uri=c.readCString(),this.value=c.readCString(),this.timescale=c.readUint32(),this.presentation_time_delta=c.readUint32(),this.event_duration=c.readUint32(),this.id=c.readUint32());var p=this.size-this.hdr_size-(4*4+(this.scheme_id_uri.length+1)+(this.value.length+1));this.version==1&&(p-=4),this.message_data=c.readUint8Array(p)}),s.createEntityToGroupCtor=function(c,p){s[c+"Box"]=function(m){s.FullBox.call(this,c,m)},s[c+"Box"].prototype=new s.FullBox,s[c+"Box"].prototype.parse=function(m){if(this.parseFullHeader(m),p)p.call(this,m);else for(this.group_id=m.readUint32(),this.num_entities_in_group=m.readUint32(),this.entity_ids=[],i=0;i<this.num_entities_in_group;i++){var b=m.readUint32();this.entity_ids.push(b)}}},s.createEntityToGroupCtor("aebr"),s.createEntityToGroupCtor("afbr"),s.createEntityToGroupCtor("albc"),s.createEntityToGroupCtor("altr"),s.createEntityToGroupCtor("brst"),s.createEntityToGroupCtor("dobr"),s.createEntityToGroupCtor("eqiv"),s.createEntityToGroupCtor("favc"),s.createEntityToGroupCtor("fobr"),s.createEntityToGroupCtor("iaug"),s.createEntityToGroupCtor("pano"),s.createEntityToGroupCtor("slid"),s.createEntityToGroupCtor("ster"),s.createEntityToGroupCtor("tsyn"),s.createEntityToGroupCtor("wbbr"),s.createEntityToGroupCtor("prgr"),s.createEntityToGroupCtor("pymd",function(c){this.group_id=c.readUint32(),this.num_entities_in_group=c.readUint32(),this.entity_ids=[];for(var p=0;p<this.num_entities_in_group;p++){var m=c.readUint32();this.entity_ids.push(m)}for(this.tile_size_x=c.readUint16(),this.tile_size_y=c.readUint16(),this.layer_binning=[],this.tiles_in_layer_column_minus1=[],this.tiles_in_layer_row_minus1=[],p=0;p<this.num_entities_in_group;p++)this.layer_binning[p]=c.readUint16(),this.tiles_in_layer_row_minus1[p]=c.readUint16(),this.tiles_in_layer_column_minus1[p]=c.readUint16()}),s.createFullBoxCtor("esds",function(c){var p=c.readUint8Array(this.size-this.hdr_size);if(this.data=p,typeof l<"u"){var m=new l;this.esd=m.parseOneDescriptor(new r(p.buffer,0,r.BIG_ENDIAN))}}),s.createBoxCtor("fiel",function(c){this.fieldCount=c.readUint8(),this.fieldOrdering=c.readUint8()}),s.createBoxCtor("frma",function(c){this.data_format=c.readString(4)}),s.createBoxCtor("ftyp",function(c){var p=this.size-this.hdr_size;this.major_brand=c.readString(4),this.minor_version=c.readUint32(),p-=8,this.compatible_brands=[];for(var m=0;p>=4;)this.compatible_brands[m]=c.readString(4),p-=4,m++}),s.createFullBoxCtor("hdlr",function(c){this.version===0&&(c.readUint32(),this.handler=c.readString(4),c.readUint32Array(3),this.name=c.readString(this.size-this.hdr_size-20),this.name[this.name.length-1]==="\0"&&(this.name=this.name.slice(0,-1)))}),s.createBoxCtor("hvcC",function(c){var p,m,b,E;this.configurationVersion=c.readUint8(),E=c.readUint8(),this.general_profile_space=E>>6,this.general_tier_flag=(E&32)>>5,this.general_profile_idc=E&31,this.general_profile_compatibility=c.readUint32(),this.general_constraint_indicator=c.readUint8Array(6),this.general_level_idc=c.readUint8(),this.min_spatial_segmentation_idc=c.readUint16()&4095,this.parallelismType=c.readUint8()&3,this.chroma_format_idc=c.readUint8()&3,this.bit_depth_luma_minus8=c.readUint8()&7,this.bit_depth_chroma_minus8=c.readUint8()&7,this.avgFrameRate=c.readUint16(),E=c.readUint8(),this.constantFrameRate=E>>6,this.numTemporalLayers=(E&13)>>3,this.temporalIdNested=(E&4)>>2,this.lengthSizeMinusOne=E&3,this.nalu_arrays=[];var T=c.readUint8();for(p=0;p<T;p++){var R=[];this.nalu_arrays.push(R),E=c.readUint8(),R.completeness=(E&128)>>7,R.nalu_type=E&63;var O=c.readUint16();for(m=0;m<O;m++){var D={};R.push(D),b=c.readUint16(),D.data=c.readUint8Array(b)}}}),s.createFullBoxCtor("iinf",function(c){var p;this.version===0?this.entry_count=c.readUint16():this.entry_count=c.readUint32(),this.item_infos=[];for(var m=0;m<this.entry_count;m++)if(p=s.parseOneBox(c,!1,this.size-(c.getPosition()-this.start)),p.code===s.OK)p.box.type!=="infe"&&e.error("BoxParser","Expected 'infe' box, got "+p.box.type),this.item_infos[m]=p.box;else return}),s.createFullBoxCtor("iloc",function(c){var p;p=c.readUint8(),this.offset_size=p>>4&15,this.length_size=p&15,p=c.readUint8(),this.base_offset_size=p>>4&15,this.version===1||this.version===2?this.index_size=p&15:this.index_size=0,this.items=[];var m=0;if(this.version<2)m=c.readUint16();else if(this.version===2)m=c.readUint32();else throw"version of iloc box not supported";for(var b=0;b<m;b++){var E={};if(this.items.push(E),this.version<2)E.item_ID=c.readUint16();else if(this.version===2)E.item_ID=c.readUint32();else throw"version of iloc box not supported";switch(this.version===1||this.version===2?E.construction_method=c.readUint16()&15:E.construction_method=0,E.data_reference_index=c.readUint16(),this.base_offset_size){case 0:E.base_offset=0;break;case 4:E.base_offset=c.readUint32();break;case 8:E.base_offset=c.readUint64();break;default:throw"Error reading base offset size"}var T=c.readUint16();E.extents=[];for(var R=0;R<T;R++){var O={};if(E.extents.push(O),this.version===1||this.version===2)switch(this.index_size){case 0:O.extent_index=0;break;case 4:O.extent_index=c.readUint32();break;case 8:O.extent_index=c.readUint64();break;default:throw"Error reading extent index"}switch(this.offset_size){case 0:O.extent_offset=0;break;case 4:O.extent_offset=c.readUint32();break;case 8:O.extent_offset=c.readUint64();break;default:throw"Error reading extent index"}switch(this.length_size){case 0:O.extent_length=0;break;case 4:O.extent_length=c.readUint32();break;case 8:O.extent_length=c.readUint64();break;default:throw"Error reading extent index"}}}}),s.createBoxCtor("imir",function(c){var p=c.readUint8();this.reserved=p>>7,this.axis=p&1}),s.createFullBoxCtor("infe",function(c){if((this.version===0||this.version===1)&&(this.item_ID=c.readUint16(),this.item_protection_index=c.readUint16(),this.item_name=c.readCString(),this.content_type=c.readCString(),this.content_encoding=c.readCString()),this.version===1){this.extension_type=c.readString(4),e.warn("BoxParser","Cannot parse extension type"),c.seek(this.start+this.size);return}this.version>=2&&(this.version===2?this.item_ID=c.readUint16():this.version===3&&(this.item_ID=c.readUint32()),this.item_protection_index=c.readUint16(),this.item_type=c.readString(4),this.item_name=c.readCString(),this.item_type==="mime"?(this.content_type=c.readCString(),this.content_encoding=c.readCString()):this.item_type==="uri "&&(this.item_uri_type=c.readCString()))}),s.createFullBoxCtor("ipma",function(c){var p,m;for(entry_count=c.readUint32(),this.associations=[],p=0;p<entry_count;p++){var b={};this.associations.push(b),this.version<1?b.id=c.readUint16():b.id=c.readUint32();var E=c.readUint8();for(b.props=[],m=0;m<E;m++){var T=c.readUint8(),R={};b.props.push(R),R.essential=(T&128)>>7===1,this.flags&1?R.property_index=(T&127)<<8|c.readUint8():R.property_index=T&127}}}),s.createFullBoxCtor("iref",function(c){var p,m;for(this.references=[];c.getPosition()<this.start+this.size;)if(p=s.parseOneBox(c,!0,this.size-(c.getPosition()-this.start)),p.code===s.OK)this.version===0?m=new s.SingleItemTypeReferenceBox(p.type,p.size,p.hdr_size,p.start):m=new s.SingleItemTypeReferenceBoxLarge(p.type,p.size,p.hdr_size,p.start),m.write===s.Box.prototype.write&&m.type!=="mdat"&&(e.warn("BoxParser",m.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),m.parseDataAndRewind(c)),m.parse(c),this.references.push(m);else return}),s.createBoxCtor("irot",function(c){this.angle=c.readUint8()&3}),s.createFullBoxCtor("ispe",function(c){this.image_width=c.readUint32(),this.image_height=c.readUint32()}),s.createFullBoxCtor("kind",function(c){this.schemeURI=c.readCString(),this.value=c.readCString()}),s.createFullBoxCtor("leva",function(c){var p=c.readUint8();this.levels=[];for(var m=0;m<p;m++){var b={};this.levels[m]=b,b.track_ID=c.readUint32();var E=c.readUint8();switch(b.padding_flag=E>>7,b.assignment_type=E&127,b.assignment_type){case 0:b.grouping_type=c.readString(4);break;case 1:b.grouping_type=c.readString(4),b.grouping_type_parameter=c.readUint32();break;case 2:break;case 3:break;case 4:b.sub_track_id=c.readUint32();break;default:e.warn("BoxParser","Unknown leva assignement type")}}}),s.createBoxCtor("lhvC",function(c){var p,m,b;this.configurationVersion=c.readUint8(),this.min_spatial_segmentation_idc=c.readUint16()&4095,this.parallelismType=c.readUint8()&3,b=c.readUint8(),this.numTemporalLayers=(b&13)>>3,this.temporalIdNested=(b&4)>>2,this.lengthSizeMinusOne=b&3,this.nalu_arrays=[];var E=c.readUint8();for(p=0;p<E;p++){var T=[];this.nalu_arrays.push(T),b=c.readUint8(),T.completeness=(b&128)>>7,T.nalu_type=b&63;var R=c.readUint16();for(m=0;m<R;m++){var O={};T.push(O);var D=c.readUint16();O.data=c.readUint8Array(D)}}}),s.createBoxCtor("lsel",function(c){this.layer_id=c.readUint16()}),s.createBoxCtor("maxr",function(c){this.period=c.readUint32(),this.bytes=c.readUint32()});function u(c,p){this.x=c,this.y=p}u.prototype.toString=function(){return"("+this.x+","+this.y+")"},s.createBoxCtor("mdcv",function(c){this.display_primaries=[],this.display_primaries[0]=new u(c.readUint16(),c.readUint16()),this.display_primaries[1]=new u(c.readUint16(),c.readUint16()),this.display_primaries[2]=new u(c.readUint16(),c.readUint16()),this.white_point=new u(c.readUint16(),c.readUint16()),this.max_display_mastering_luminance=c.readUint32(),this.min_display_mastering_luminance=c.readUint32()}),s.createFullBoxCtor("mdhd",function(c){this.version==1?(this.creation_time=c.readUint64(),this.modification_time=c.readUint64(),this.timescale=c.readUint32(),this.duration=c.readUint64()):(this.creation_time=c.readUint32(),this.modification_time=c.readUint32(),this.timescale=c.readUint32(),this.duration=c.readUint32()),this.parseLanguage(c),c.readUint16()}),s.createFullBoxCtor("mehd",function(c){this.flags&1&&(e.warn("BoxParser","mehd box incorrectly uses flags set to 1, converting version to 1"),this.version=1),this.version==1?this.fragment_duration=c.readUint64():this.fragment_duration=c.readUint32()}),s.createFullBoxCtor("meta",function(c){this.boxes=[],s.ContainerBox.prototype.parse.call(this,c)}),s.createFullBoxCtor("mfhd",function(c){this.sequence_number=c.readUint32()}),s.createFullBoxCtor("mfro",function(c){this._size=c.readUint32()}),s.createFullBoxCtor("mskC",function(c){this.bits_per_pixel=c.readUint8()}),s.createFullBoxCtor("mvhd",function(c){this.version==1?(this.creation_time=c.readUint64(),this.modification_time=c.readUint64(),this.timescale=c.readUint32(),this.duration=c.readUint64()):(this.creation_time=c.readUint32(),this.modification_time=c.readUint32(),this.timescale=c.readUint32(),this.duration=c.readUint32()),this.rate=c.readUint32(),this.volume=c.readUint16()>>8,c.readUint16(),c.readUint32Array(2),this.matrix=c.readUint32Array(9),c.readUint32Array(6),this.next_track_id=c.readUint32()}),s.createBoxCtor("npck",function(c){this.packetssent=c.readUint32()}),s.createBoxCtor("nump",function(c){this.packetssent=c.readUint64()}),s.createFullBoxCtor("padb",function(c){var p=c.readUint32();this.padbits=[];for(var m=0;m<Math.floor((p+1)/2);m++)this.padbits=c.readUint8()}),s.createBoxCtor("pasp",function(c){this.hSpacing=c.readUint32(),this.vSpacing=c.readUint32()}),s.createBoxCtor("payl",function(c){this.text=c.readString(this.size-this.hdr_size)}),s.createBoxCtor("payt",function(c){this.payloadID=c.readUint32();var p=c.readUint8();this.rtpmap_string=c.readString(p)}),s.createFullBoxCtor("pdin",function(c){var p=(this.size-this.hdr_size)/8;this.rate=[],this.initial_delay=[];for(var m=0;m<p;m++)this.rate[m]=c.readUint32(),this.initial_delay[m]=c.readUint32()}),s.createFullBoxCtor("pitm",function(c){this.version===0?this.item_id=c.readUint16():this.item_id=c.readUint32()}),s.createFullBoxCtor("pixi",function(c){var p;for(this.num_channels=c.readUint8(),this.bits_per_channels=[],p=0;p<this.num_channels;p++)this.bits_per_channels[p]=c.readUint8()}),s.createBoxCtor("pmax",function(c){this.bytes=c.readUint32()}),s.createFullBoxCtor("prdi",function(c){if(this.step_count=c.readUint16(),this.item_count=[],this.flags&2)for(var p=0;p<this.step_count;p++)this.item_count[p]=c.readUint16()}),s.createFullBoxCtor("prft",function(c){this.ref_track_id=c.readUint32(),this.ntp_timestamp=c.readUint64(),this.version===0?this.media_time=c.readUint32():this.media_time=c.readUint64()}),s.createFullBoxCtor("pssh",function(c){if(this.system_id=s.parseHex16(c),this.version>0){var p=c.readUint32();this.kid=[];for(var m=0;m<p;m++)this.kid[m]=s.parseHex16(c)}var b=c.readUint32();b>0&&(this.data=c.readUint8Array(b))}),s.createFullBoxCtor("clef",function(c){this.width=c.readUint32(),this.height=c.readUint32()}),s.createFullBoxCtor("enof",function(c){this.width=c.readUint32(),this.height=c.readUint32()}),s.createFullBoxCtor("prof",function(c){this.width=c.readUint32(),this.height=c.readUint32()}),s.createContainerBoxCtor("tapt",null,["clef","prof","enof"]),s.createBoxCtor("rtp ",function(c){this.descriptionformat=c.readString(4),this.sdptext=c.readString(this.size-this.hdr_size-4)}),s.createFullBoxCtor("saio",function(c){this.flags&1&&(this.aux_info_type=c.readUint32(),this.aux_info_type_parameter=c.readUint32());var p=c.readUint32();this.offset=[];for(var m=0;m<p;m++)this.version===0?this.offset[m]=c.readUint32():this.offset[m]=c.readUint64()}),s.createFullBoxCtor("saiz",function(c){this.flags&1&&(this.aux_info_type=c.readUint32(),this.aux_info_type_parameter=c.readUint32()),this.default_sample_info_size=c.readUint8();var p=c.readUint32();if(this.sample_info_size=[],this.default_sample_info_size===0)for(var m=0;m<p;m++)this.sample_info_size[m]=c.readUint8()}),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_METADATA,"mett",function(c){this.parseHeader(c),this.content_encoding=c.readCString(),this.mime_format=c.readCString(),this.parseFooter(c)}),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_METADATA,"metx",function(c){this.parseHeader(c),this.content_encoding=c.readCString(),this.namespace=c.readCString(),this.schema_location=c.readCString(),this.parseFooter(c)}),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_SUBTITLE,"sbtt",function(c){this.parseHeader(c),this.content_encoding=c.readCString(),this.mime_format=c.readCString(),this.parseFooter(c)}),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_SUBTITLE,"stpp",function(c){this.parseHeader(c),this.namespace=c.readCString(),this.schema_location=c.readCString(),this.auxiliary_mime_types=c.readCString(),this.parseFooter(c)}),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_SUBTITLE,"stxt",function(c){this.parseHeader(c),this.content_encoding=c.readCString(),this.mime_format=c.readCString(),this.parseFooter(c)}),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_SUBTITLE,"tx3g",function(c){this.parseHeader(c),this.displayFlags=c.readUint32(),this.horizontal_justification=c.readInt8(),this.vertical_justification=c.readInt8(),this.bg_color_rgba=c.readUint8Array(4),this.box_record=c.readInt16Array(4),this.style_record=c.readUint8Array(12),this.parseFooter(c)}),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_METADATA,"wvtt",function(c){this.parseHeader(c),this.parseFooter(c)}),s.createSampleGroupCtor("alst",function(c){var p,m=c.readUint16();for(this.first_output_sample=c.readUint16(),this.sample_offset=[],p=0;p<m;p++)this.sample_offset[p]=c.readUint32();var b=this.description_length-4-4*m;for(this.num_output_samples=[],this.num_total_samples=[],p=0;p<b/4;p++)this.num_output_samples[p]=c.readUint16(),this.num_total_samples[p]=c.readUint16()}),s.createSampleGroupCtor("avll",function(c){this.layerNumber=c.readUint8(),this.accurateStatisticsFlag=c.readUint8(),this.avgBitRate=c.readUint16(),this.avgFrameRate=c.readUint16()}),s.createSampleGroupCtor("avss",function(c){this.subSequenceIdentifier=c.readUint16(),this.layerNumber=c.readUint8();var p=c.readUint8();this.durationFlag=p>>7,this.avgRateFlag=p>>6&1,this.durationFlag&&(this.duration=c.readUint32()),this.avgRateFlag&&(this.accurateStatisticsFlag=c.readUint8(),this.avgBitRate=c.readUint16(),this.avgFrameRate=c.readUint16()),this.dependency=[];for(var m=c.readUint8(),b=0;b<m;b++){var E={};this.dependency.push(E),E.subSeqDirectionFlag=c.readUint8(),E.layerNumber=c.readUint8(),E.subSequenceIdentifier=c.readUint16()}}),s.createSampleGroupCtor("dtrt",function(c){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),s.createSampleGroupCtor("mvif",function(c){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),s.createSampleGroupCtor("prol",function(c){this.roll_distance=c.readInt16()}),s.createSampleGroupCtor("rap ",function(c){var p=c.readUint8();this.num_leading_samples_known=p>>7,this.num_leading_samples=p&127}),s.createSampleGroupCtor("rash",function(c){if(this.operation_point_count=c.readUint16(),this.description_length!==2+(this.operation_point_count===1?2:this.operation_point_count*6)+9)e.warn("BoxParser","Mismatch in "+this.grouping_type+" sample group length"),this.data=c.readUint8Array(this.description_length-2);else{if(this.operation_point_count===1)this.target_rate_share=c.readUint16();else{this.target_rate_share=[],this.available_bitrate=[];for(var p=0;p<this.operation_point_count;p++)this.available_bitrate[p]=c.readUint32(),this.target_rate_share[p]=c.readUint16()}this.maximum_bitrate=c.readUint32(),this.minimum_bitrate=c.readUint32(),this.discard_priority=c.readUint8()}}),s.createSampleGroupCtor("roll",function(c){this.roll_distance=c.readInt16()}),s.SampleGroupEntry.prototype.parse=function(c){e.warn("BoxParser","Unknown Sample Group type: "+this.grouping_type),this.data=c.readUint8Array(this.description_length)},s.createSampleGroupCtor("scif",function(c){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),s.createSampleGroupCtor("scnm",function(c){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),s.createSampleGroupCtor("seig",function(c){this.reserved=c.readUint8();var p=c.readUint8();this.crypt_byte_block=p>>4,this.skip_byte_block=p&15,this.isProtected=c.readUint8(),this.Per_Sample_IV_Size=c.readUint8(),this.KID=s.parseHex16(c),this.constant_IV_size=0,this.constant_IV=0,this.isProtected===1&&this.Per_Sample_IV_Size===0&&(this.constant_IV_size=c.readUint8(),this.constant_IV=c.readUint8Array(this.constant_IV_size))}),s.createSampleGroupCtor("stsa",function(c){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),s.createSampleGroupCtor("sync",function(c){var p=c.readUint8();this.NAL_unit_type=p&63}),s.createSampleGroupCtor("tele",function(c){var p=c.readUint8();this.level_independently_decodable=p>>7}),s.createSampleGroupCtor("tsas",function(c){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),s.createSampleGroupCtor("tscl",function(c){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),s.createSampleGroupCtor("vipr",function(c){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),s.createFullBoxCtor("sbgp",function(c){this.grouping_type=c.readString(4),this.version===1?this.grouping_type_parameter=c.readUint32():this.grouping_type_parameter=0,this.entries=[];for(var p=c.readUint32(),m=0;m<p;m++){var b={};this.entries.push(b),b.sample_count=c.readInt32(),b.group_description_index=c.readInt32()}});function d(c,p){this.bad_pixel_row=c,this.bad_pixel_column=p}d.prototype.toString=function(){return"[row: "+this.bad_pixel_row+", column: "+this.bad_pixel_column+"]"},s.createFullBoxCtor("sbpm",function(c){var p;for(this.component_count=c.readUint16(),this.component_index=[],p=0;p<this.component_count;p++)this.component_index.push(c.readUint16());var m=c.readUint8();for(this.correction_applied=(m&128)==128,this.num_bad_rows=c.readUint32(),this.num_bad_cols=c.readUint32(),this.num_bad_pixels=c.readUint32(),this.bad_rows=[],this.bad_columns=[],this.bad_pixels=[],p=0;p<this.num_bad_rows;p++)this.bad_rows.push(c.readUint32());for(p=0;p<this.num_bad_cols;p++)this.bad_columns.push(c.readUint32());for(p=0;p<this.num_bad_pixels;p++){var b=c.readUint32(),E=c.readUint32();this.bad_pixels.push(new d(b,E))}}),s.createFullBoxCtor("schm",function(c){this.scheme_type=c.readString(4),this.scheme_version=c.readUint32(),this.flags&1&&(this.scheme_uri=c.readString(this.size-this.hdr_size-8))}),s.createBoxCtor("sdp ",function(c){this.sdptext=c.readString(this.size-this.hdr_size)}),s.createFullBoxCtor("sdtp",function(c){var p,m=this.size-this.hdr_size;this.is_leading=[],this.sample_depends_on=[],this.sample_is_depended_on=[],this.sample_has_redundancy=[];for(var b=0;b<m;b++)p=c.readUint8(),this.is_leading[b]=p>>6,this.sample_depends_on[b]=p>>4&3,this.sample_is_depended_on[b]=p>>2&3,this.sample_has_redundancy[b]=p&3}),s.createFullBoxCtor("senc"),s.createFullBoxCtor("sgpd",function(c){this.grouping_type=c.readString(4),e.debug("BoxParser","Found Sample Groups of type "+this.grouping_type),this.version===1?this.default_length=c.readUint32():this.default_length=0,this.version>=2&&(this.default_group_description_index=c.readUint32()),this.entries=[];for(var p=c.readUint32(),m=0;m<p;m++){var b;s[this.grouping_type+"SampleGroupEntry"]?b=new s[this.grouping_type+"SampleGroupEntry"](this.grouping_type):b=new s.SampleGroupEntry(this.grouping_type),this.entries.push(b),this.version===1?this.default_length===0?b.description_length=c.readUint32():b.description_length=this.default_length:b.description_length=this.default_length,b.write===s.SampleGroupEntry.prototype.write&&(e.info("BoxParser","SampleGroup for type "+this.grouping_type+" writing not yet implemented, keeping unparsed data in memory for later write"),b.data=c.readUint8Array(b.description_length),c.position-=b.description_length),b.parse(c)}}),s.createFullBoxCtor("sidx",function(c){this.reference_ID=c.readUint32(),this.timescale=c.readUint32(),this.version===0?(this.earliest_presentation_time=c.readUint32(),this.first_offset=c.readUint32()):(this.earliest_presentation_time=c.readUint64(),this.first_offset=c.readUint64()),c.readUint16(),this.references=[];for(var p=c.readUint16(),m=0;m<p;m++){var b={};this.references.push(b);var E=c.readUint32();b.reference_type=E>>31&1,b.referenced_size=E&2147483647,b.subsegment_duration=c.readUint32(),E=c.readUint32(),b.starts_with_SAP=E>>31&1,b.SAP_type=E>>28&7,b.SAP_delta_time=E&268435455}}),s.SingleItemTypeReferenceBox=function(c,p,m,b){s.Box.call(this,c,p),this.hdr_size=m,this.start=b},s.SingleItemTypeReferenceBox.prototype=new s.Box,s.SingleItemTypeReferenceBox.prototype.parse=function(c){this.from_item_ID=c.readUint16();var p=c.readUint16();this.references=[];for(var m=0;m<p;m++)this.references[m]={},this.references[m].to_item_ID=c.readUint16()},s.SingleItemTypeReferenceBoxLarge=function(c,p,m,b){s.Box.call(this,c,p),this.hdr_size=m,this.start=b},s.SingleItemTypeReferenceBoxLarge.prototype=new s.Box,s.SingleItemTypeReferenceBoxLarge.prototype.parse=function(c){this.from_item_ID=c.readUint32();var p=c.readUint16();this.references=[];for(var m=0;m<p;m++)this.references[m]={},this.references[m].to_item_ID=c.readUint32()},s.createFullBoxCtor("SmDm",function(c){this.primaryRChromaticity_x=c.readUint16(),this.primaryRChromaticity_y=c.readUint16(),this.primaryGChromaticity_x=c.readUint16(),this.primaryGChromaticity_y=c.readUint16(),this.primaryBChromaticity_x=c.readUint16(),this.primaryBChromaticity_y=c.readUint16(),this.whitePointChromaticity_x=c.readUint16(),this.whitePointChromaticity_y=c.readUint16(),this.luminanceMax=c.readUint32(),this.luminanceMin=c.readUint32()}),s.createFullBoxCtor("smhd",function(c){this.balance=c.readUint16(),c.readUint16()}),s.createFullBoxCtor("ssix",function(c){this.subsegments=[];for(var p=c.readUint32(),m=0;m<p;m++){var b={};this.subsegments.push(b),b.ranges=[];for(var E=c.readUint32(),T=0;T<E;T++){var R={};b.ranges.push(R),R.level=c.readUint8(),R.range_size=c.readUint24()}}}),s.createFullBoxCtor("stco",function(c){var p;if(p=c.readUint32(),this.chunk_offsets=[],this.version===0)for(var m=0;m<p;m++)this.chunk_offsets.push(c.readUint32())}),s.createFullBoxCtor("stdp",function(c){var p=(this.size-this.hdr_size)/2;this.priority=[];for(var m=0;m<p;m++)this.priority[m]=c.readUint16()}),s.createFullBoxCtor("sthd"),s.createFullBoxCtor("stri",function(c){this.switch_group=c.readUint16(),this.alternate_group=c.readUint16(),this.sub_track_id=c.readUint32();var p=(this.size-this.hdr_size-8)/4;this.attribute_list=[];for(var m=0;m<p;m++)this.attribute_list[m]=c.readUint32()}),s.createFullBoxCtor("stsc",function(c){var p,m;if(p=c.readUint32(),this.first_chunk=[],this.samples_per_chunk=[],this.sample_description_index=[],this.version===0)for(m=0;m<p;m++)this.first_chunk.push(c.readUint32()),this.samples_per_chunk.push(c.readUint32()),this.sample_description_index.push(c.readUint32())}),s.createFullBoxCtor("stsd",function(c){var p,m,b,E;for(this.entries=[],b=c.readUint32(),p=1;p<=b;p++)if(m=s.parseOneBox(c,!0,this.size-(c.getPosition()-this.start)),m.code===s.OK)s[m.type+"SampleEntry"]?(E=new s[m.type+"SampleEntry"](m.size),E.hdr_size=m.hdr_size,E.start=m.start):(e.warn("BoxParser","Unknown sample entry type: "+m.type),E=new s.SampleEntry(m.type,m.size,m.hdr_size,m.start)),E.write===s.SampleEntry.prototype.write&&(e.info("BoxParser","SampleEntry "+E.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),E.parseDataAndRewind(c)),E.parse(c),this.entries.push(E);else return}),s.createFullBoxCtor("stsg",function(c){this.grouping_type=c.readUint32();var p=c.readUint16();this.group_description_index=[];for(var m=0;m<p;m++)this.group_description_index[m]=c.readUint32()}),s.createFullBoxCtor("stsh",function(c){var p,m;if(p=c.readUint32(),this.shadowed_sample_numbers=[],this.sync_sample_numbers=[],this.version===0)for(m=0;m<p;m++)this.shadowed_sample_numbers.push(c.readUint32()),this.sync_sample_numbers.push(c.readUint32())}),s.createFullBoxCtor("stss",function(c){var p,m;if(m=c.readUint32(),this.version===0)for(this.sample_numbers=[],p=0;p<m;p++)this.sample_numbers.push(c.readUint32())}),s.createFullBoxCtor("stsz",function(c){var p;if(this.sample_sizes=[],this.version===0)for(this.sample_size=c.readUint32(),this.sample_count=c.readUint32(),p=0;p<this.sample_count;p++)this.sample_size===0?this.sample_sizes.push(c.readUint32()):this.sample_sizes[p]=this.sample_size}),s.createFullBoxCtor("stts",function(c){var p,m,b;if(p=c.readUint32(),this.sample_counts=[],this.sample_deltas=[],this.version===0)for(m=0;m<p;m++)this.sample_counts.push(c.readUint32()),b=c.readInt32(),b<0&&(e.warn("BoxParser","File uses negative stts sample delta, using value 1 instead, sync may be lost!"),b=1),this.sample_deltas.push(b)}),s.createFullBoxCtor("stvi",function(c){var p=c.readUint32();this.single_view_allowed=p&3,this.stereo_scheme=c.readUint32();var m=c.readUint32();this.stereo_indication_type=c.readString(m);var b,E;for(this.boxes=[];c.getPosition()<this.start+this.size;)if(b=s.parseOneBox(c,!1,this.size-(c.getPosition()-this.start)),b.code===s.OK)E=b.box,this.boxes.push(E),this[E.type]=E;else return}),s.createBoxCtor("styp",function(c){s.ftypBox.prototype.parse.call(this,c)}),s.createFullBoxCtor("stz2",function(c){var p,m;if(this.sample_sizes=[],this.version===0)if(this.reserved=c.readUint24(),this.field_size=c.readUint8(),m=c.readUint32(),this.field_size===4)for(p=0;p<m;p+=2){var b=c.readUint8();this.sample_sizes[p]=b>>4&15,this.sample_sizes[p+1]=b&15}else if(this.field_size===8)for(p=0;p<m;p++)this.sample_sizes[p]=c.readUint8();else if(this.field_size===16)for(p=0;p<m;p++)this.sample_sizes[p]=c.readUint16();else e.error("BoxParser","Error in length field in stz2 box")}),s.createFullBoxCtor("subs",function(c){var p,m,b,E;for(b=c.readUint32(),this.entries=[],p=0;p<b;p++){var T={};if(this.entries[p]=T,T.sample_delta=c.readUint32(),T.subsamples=[],E=c.readUint16(),E>0)for(m=0;m<E;m++){var R={};T.subsamples.push(R),this.version==1?R.size=c.readUint32():R.size=c.readUint16(),R.priority=c.readUint8(),R.discardable=c.readUint8(),R.codec_specific_parameters=c.readUint32()}}}),s.createFullBoxCtor("tenc",function(c){if(c.readUint8(),this.version===0)c.readUint8();else{var p=c.readUint8();this.default_crypt_byte_block=p>>4&15,this.default_skip_byte_block=p&15}this.default_isProtected=c.readUint8(),this.default_Per_Sample_IV_Size=c.readUint8(),this.default_KID=s.parseHex16(c),this.default_isProtected===1&&this.default_Per_Sample_IV_Size===0&&(this.default_constant_IV_size=c.readUint8(),this.default_constant_IV=c.readUint8Array(this.default_constant_IV_size))}),s.createFullBoxCtor("tfdt",function(c){this.version==1?this.baseMediaDecodeTime=c.readUint64():this.baseMediaDecodeTime=c.readUint32()}),s.createFullBoxCtor("tfhd",function(c){var p=0;this.track_id=c.readUint32(),this.size-this.hdr_size>p&&this.flags&s.TFHD_FLAG_BASE_DATA_OFFSET?(this.base_data_offset=c.readUint64(),p+=8):this.base_data_offset=0,this.size-this.hdr_size>p&&this.flags&s.TFHD_FLAG_SAMPLE_DESC?(this.default_sample_description_index=c.readUint32(),p+=4):this.default_sample_description_index=0,this.size-this.hdr_size>p&&this.flags&s.TFHD_FLAG_SAMPLE_DUR?(this.default_sample_duration=c.readUint32(),p+=4):this.default_sample_duration=0,this.size-this.hdr_size>p&&this.flags&s.TFHD_FLAG_SAMPLE_SIZE?(this.default_sample_size=c.readUint32(),p+=4):this.default_sample_size=0,this.size-this.hdr_size>p&&this.flags&s.TFHD_FLAG_SAMPLE_FLAGS?(this.default_sample_flags=c.readUint32(),p+=4):this.default_sample_flags=0}),s.createFullBoxCtor("tfra",function(c){this.track_ID=c.readUint32(),c.readUint24();var p=c.readUint8();this.length_size_of_traf_num=p>>4&3,this.length_size_of_trun_num=p>>2&3,this.length_size_of_sample_num=p&3,this.entries=[];for(var m=c.readUint32(),b=0;b<m;b++)this.version===1?(this.time=c.readUint64(),this.moof_offset=c.readUint64()):(this.time=c.readUint32(),this.moof_offset=c.readUint32()),this.traf_number=c["readUint"+8*(this.length_size_of_traf_num+1)](),this.trun_number=c["readUint"+8*(this.length_size_of_trun_num+1)](),this.sample_number=c["readUint"+8*(this.length_size_of_sample_num+1)]()}),s.createFullBoxCtor("tkhd",function(c){this.version==1?(this.creation_time=c.readUint64(),this.modification_time=c.readUint64(),this.track_id=c.readUint32(),c.readUint32(),this.duration=c.readUint64()):(this.creation_time=c.readUint32(),this.modification_time=c.readUint32(),this.track_id=c.readUint32(),c.readUint32(),this.duration=c.readUint32()),c.readUint32Array(2),this.layer=c.readInt16(),this.alternate_group=c.readInt16(),this.volume=c.readInt16()>>8,c.readUint16(),this.matrix=c.readInt32Array(9),this.width=c.readUint32(),this.height=c.readUint32()}),s.createBoxCtor("tmax",function(c){this.time=c.readUint32()}),s.createBoxCtor("tmin",function(c){this.time=c.readUint32()}),s.createBoxCtor("totl",function(c){this.bytessent=c.readUint32()}),s.createBoxCtor("tpay",function(c){this.bytessent=c.readUint32()}),s.createBoxCtor("tpyl",function(c){this.bytessent=c.readUint64()}),s.TrackGroupTypeBox.prototype.parse=function(c){this.parseFullHeader(c),this.track_group_id=c.readUint32()},s.createTrackGroupCtor("msrc"),s.TrackReferenceTypeBox=function(c,p,m,b){s.Box.call(this,c,p),this.hdr_size=m,this.start=b},s.TrackReferenceTypeBox.prototype=new s.Box,s.TrackReferenceTypeBox.prototype.parse=function(c){this.track_ids=c.readUint32Array((this.size-this.hdr_size)/4)},s.trefBox.prototype.parse=function(c){for(var p,m;c.getPosition()<this.start+this.size;)if(p=s.parseOneBox(c,!0,this.size-(c.getPosition()-this.start)),p.code===s.OK)m=new s.TrackReferenceTypeBox(p.type,p.size,p.hdr_size,p.start),m.write===s.Box.prototype.write&&m.type!=="mdat"&&(e.info("BoxParser","TrackReference "+m.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),m.parseDataAndRewind(c)),m.parse(c),this.boxes.push(m);else return},s.createFullBoxCtor("trep",function(c){for(this.track_ID=c.readUint32(),this.boxes=[];c.getPosition()<this.start+this.size;)if(ret=s.parseOneBox(c,!1,this.size-(c.getPosition()-this.start)),ret.code===s.OK)box=ret.box,this.boxes.push(box);else return}),s.createFullBoxCtor("trex",function(c){this.track_id=c.readUint32(),this.default_sample_description_index=c.readUint32(),this.default_sample_duration=c.readUint32(),this.default_sample_size=c.readUint32(),this.default_sample_flags=c.readUint32()}),s.createBoxCtor("trpy",function(c){this.bytessent=c.readUint64()}),s.createFullBoxCtor("trun",function(c){var p=0;if(this.sample_count=c.readUint32(),p+=4,this.size-this.hdr_size>p&&this.flags&s.TRUN_FLAGS_DATA_OFFSET?(this.data_offset=c.readInt32(),p+=4):this.data_offset=0,this.size-this.hdr_size>p&&this.flags&s.TRUN_FLAGS_FIRST_FLAG?(this.first_sample_flags=c.readUint32(),p+=4):this.first_sample_flags=0,this.sample_duration=[],this.sample_size=[],this.sample_flags=[],this.sample_composition_time_offset=[],this.size-this.hdr_size>p)for(var m=0;m<this.sample_count;m++)this.flags&s.TRUN_FLAGS_DURATION&&(this.sample_duration[m]=c.readUint32()),this.flags&s.TRUN_FLAGS_SIZE&&(this.sample_size[m]=c.readUint32()),this.flags&s.TRUN_FLAGS_FLAGS&&(this.sample_flags[m]=c.readUint32()),this.flags&s.TRUN_FLAGS_CTS_OFFSET&&(this.version===0?this.sample_composition_time_offset[m]=c.readUint32():this.sample_composition_time_offset[m]=c.readInt32())}),s.createFullBoxCtor("tsel",function(c){this.switch_group=c.readUint32();var p=(this.size-this.hdr_size-4)/4;this.attribute_list=[];for(var m=0;m<p;m++)this.attribute_list[m]=c.readUint32()}),s.createFullBoxCtor("txtC",function(c){this.config=c.readCString()}),s.createBoxCtor("tyco",function(c){var p=(this.size-this.hdr_size)/4;this.compatible_brands=[];for(var m=0;m<p;m++)this.compatible_brands[m]=c.readString(4)}),s.createFullBoxCtor("udes",function(c){this.lang=c.readCString(),this.name=c.readCString(),this.description=c.readCString(),this.tags=c.readCString()}),s.createFullBoxCtor("uncC",function(c){var p;if(this.profile=c.readUint32(),this.version!=1){if(this.version==0){for(this.component_count=c.readUint32(),this.component_index=[],this.component_bit_depth_minus_one=[],this.component_format=[],this.component_align_size=[],p=0;p<this.component_count;p++)this.component_index.push(c.readUint16()),this.component_bit_depth_minus_one.push(c.readUint8()),this.component_format.push(c.readUint8()),this.component_align_size.push(c.readUint8());this.sampling_type=c.readUint8(),this.interleave_type=c.readUint8(),this.block_size=c.readUint8();var m=c.readUint8();this.component_little_endian=m>>7&1,this.block_pad_lsb=m>>6&1,this.block_little_endian=m>>5&1,this.block_reversed=m>>4&1,this.pad_unknown=m>>3&1,this.pixel_size=c.readUint32(),this.row_align_size=c.readUint32(),this.tile_align_size=c.readUint32(),this.num_tile_cols_minus_one=c.readUint32(),this.num_tile_rows_minus_one=c.readUint32()}}}),s.createFullBoxCtor("url ",function(c){this.flags!==1&&(this.location=c.readCString())}),s.createFullBoxCtor("urn ",function(c){this.name=c.readCString(),this.size-this.hdr_size-this.name.length-1>0&&(this.location=c.readCString())}),s.createUUIDBox("a5d40b30e81411ddba2f0800200c9a66",!0,!1,function(c){this.LiveServerManifest=c.readString(this.size-this.hdr_size).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}),s.createUUIDBox("d08a4f1810f34a82b6c832d8aba183d3",!0,!1,function(c){this.system_id=s.parseHex16(c);var p=c.readUint32();p>0&&(this.data=c.readUint8Array(p))}),s.createUUIDBox("a2394f525a9b4f14a2446c427c648df4",!0,!1),s.createUUIDBox("8974dbce7be74c5184f97148f9882554",!0,!1,function(c){this.default_AlgorithmID=c.readUint24(),this.default_IV_size=c.readUint8(),this.default_KID=s.parseHex16(c)}),s.createUUIDBox("d4807ef2ca3946958e5426cb9e46a79f",!0,!1,function(c){this.fragment_count=c.readUint8(),this.entries=[];for(var p=0;p<this.fragment_count;p++){var m={},b=0,E=0;this.version===1?(b=c.readUint64(),E=c.readUint64()):(b=c.readUint32(),E=c.readUint32()),m.absolute_time=b,m.absolute_duration=E,this.entries.push(m)}}),s.createUUIDBox("6d1d9b0542d544e680e2141daff757b2",!0,!1,function(c){this.version===1?(this.absolute_time=c.readUint64(),this.duration=c.readUint64()):(this.absolute_time=c.readUint32(),this.duration=c.readUint32())}),s.createFullBoxCtor("vmhd",function(c){this.graphicsmode=c.readUint16(),this.opcolor=c.readUint16Array(3)}),s.createFullBoxCtor("vpcC",function(c){var p;this.version===1?(this.profile=c.readUint8(),this.level=c.readUint8(),p=c.readUint8(),this.bitDepth=p>>4,this.chromaSubsampling=p>>1&7,this.videoFullRangeFlag=p&1,this.colourPrimaries=c.readUint8(),this.transferCharacteristics=c.readUint8(),this.matrixCoefficients=c.readUint8(),this.codecIntializationDataSize=c.readUint16(),this.codecIntializationData=c.readUint8Array(this.codecIntializationDataSize)):(this.profile=c.readUint8(),this.level=c.readUint8(),p=c.readUint8(),this.bitDepth=p>>4&15,this.colorSpace=p&15,p=c.readUint8(),this.chromaSubsampling=p>>4&15,this.transferFunction=p>>1&7,this.videoFullRangeFlag=p&1,this.codecIntializationDataSize=c.readUint16(),this.codecIntializationData=c.readUint8Array(this.codecIntializationDataSize))}),s.createBoxCtor("vttC",function(c){this.text=c.readString(this.size-this.hdr_size)}),s.createFullBoxCtor("vvcC",function(c){var p,m,b={held_bits:void 0,num_held_bits:0,stream_read_1_bytes:function($){this.held_bits=$.readUint8(),this.num_held_bits=8},stream_read_2_bytes:function($){this.held_bits=$.readUint16(),this.num_held_bits=16},extract_bits:function($){var J=this.held_bits>>this.num_held_bits-$&(1<<$)-1;return this.num_held_bits-=$,J}};if(b.stream_read_1_bytes(c),b.extract_bits(5),this.lengthSizeMinusOne=b.extract_bits(2),this.ptl_present_flag=b.extract_bits(1),this.ptl_present_flag){b.stream_read_2_bytes(c),this.ols_idx=b.extract_bits(9),this.num_sublayers=b.extract_bits(3),this.constant_frame_rate=b.extract_bits(2),this.chroma_format_idc=b.extract_bits(2),b.stream_read_1_bytes(c),this.bit_depth_minus8=b.extract_bits(3),b.extract_bits(5);{if(b.stream_read_2_bytes(c),b.extract_bits(2),this.num_bytes_constraint_info=b.extract_bits(6),this.general_profile_idc=b.extract_bits(7),this.general_tier_flag=b.extract_bits(1),this.general_level_idc=c.readUint8(),b.stream_read_1_bytes(c),this.ptl_frame_only_constraint_flag=b.extract_bits(1),this.ptl_multilayer_enabled_flag=b.extract_bits(1),this.general_constraint_info=new Uint8Array(this.num_bytes_constraint_info),this.num_bytes_constraint_info){for(p=0;p<this.num_bytes_constraint_info-1;p++){var E=b.extract_bits(6);b.stream_read_1_bytes(c);var T=b.extract_bits(2);this.general_constraint_info[p]=E<<2|T}this.general_constraint_info[this.num_bytes_constraint_info-1]=b.extract_bits(6)}else b.extract_bits(6);if(this.num_sublayers>1){for(b.stream_read_1_bytes(c),this.ptl_sublayer_present_mask=0,m=this.num_sublayers-2;m>=0;--m){var R=b.extract_bits(1);this.ptl_sublayer_present_mask|=R<<m}for(m=this.num_sublayers;m<=8&&this.num_sublayers>1;++m)b.extract_bits(1);for(this.sublayer_level_idc=[],m=this.num_sublayers-2;m>=0;--m)this.ptl_sublayer_present_mask&1<<m&&(this.sublayer_level_idc[m]=c.readUint8())}if(this.ptl_num_sub_profiles=c.readUint8(),this.general_sub_profile_idc=[],this.ptl_num_sub_profiles)for(p=0;p<this.ptl_num_sub_profiles;p++)this.general_sub_profile_idc.push(c.readUint32())}this.max_picture_width=c.readUint16(),this.max_picture_height=c.readUint16(),this.avg_frame_rate=c.readUint16()}var O=12,D=13;this.nalu_arrays=[];var P=c.readUint8();for(p=0;p<P;p++){var F=[];this.nalu_arrays.push(F),b.stream_read_1_bytes(c),F.completeness=b.extract_bits(1),b.extract_bits(2),F.nalu_type=b.extract_bits(5);var U=1;for(F.nalu_type!=D&&F.nalu_type!=O&&(U=c.readUint16()),m=0;m<U;m++){var z=c.readUint16();F.push({data:c.readUint8Array(z),length:z})}}}),s.createFullBoxCtor("vvnC",function(c){var p=strm.readUint8();this.lengthSizeMinusOne=p&3}),s.SampleEntry.prototype.isVideo=function(){return!1},s.SampleEntry.prototype.isAudio=function(){return!1},s.SampleEntry.prototype.isSubtitle=function(){return!1},s.SampleEntry.prototype.isMetadata=function(){return!1},s.SampleEntry.prototype.isHint=function(){return!1},s.SampleEntry.prototype.getCodec=function(){return this.type.replace(".","")},s.SampleEntry.prototype.getWidth=function(){return""},s.SampleEntry.prototype.getHeight=function(){return""},s.SampleEntry.prototype.getChannelCount=function(){return""},s.SampleEntry.prototype.getSampleRate=function(){return""},s.SampleEntry.prototype.getSampleSize=function(){return""},s.VisualSampleEntry.prototype.isVideo=function(){return!0},s.VisualSampleEntry.prototype.getWidth=function(){return this.width},s.VisualSampleEntry.prototype.getHeight=function(){return this.height},s.AudioSampleEntry.prototype.isAudio=function(){return!0},s.AudioSampleEntry.prototype.getChannelCount=function(){return this.channel_count},s.AudioSampleEntry.prototype.getSampleRate=function(){return this.samplerate},s.AudioSampleEntry.prototype.getSampleSize=function(){return this.samplesize},s.SubtitleSampleEntry.prototype.isSubtitle=function(){return!0},s.MetadataSampleEntry.prototype.isMetadata=function(){return!0},s.decimalToHex=function(c,p){var m=Number(c).toString(16);for(p=typeof p>"u"||p===null?p=2:p;m.length<p;)m="0"+m;return m},s.avc1SampleEntry.prototype.getCodec=s.avc2SampleEntry.prototype.getCodec=s.avc3SampleEntry.prototype.getCodec=s.avc4SampleEntry.prototype.getCodec=function(){var c=s.SampleEntry.prototype.getCodec.call(this);return this.avcC?c+"."+s.decimalToHex(this.avcC.AVCProfileIndication)+s.decimalToHex(this.avcC.profile_compatibility)+s.decimalToHex(this.avcC.AVCLevelIndication):c},s.hev1SampleEntry.prototype.getCodec=s.hvc1SampleEntry.prototype.getCodec=function(){var c,p=s.SampleEntry.prototype.getCodec.call(this);if(this.hvcC){switch(p+=".",this.hvcC.general_profile_space){case 0:p+="";break;case 1:p+="A";break;case 2:p+="B";break;case 3:p+="C";break}p+=this.hvcC.general_profile_idc,p+=".";var m=this.hvcC.general_profile_compatibility,b=0;for(c=0;c<32&&(b|=m&1,c!=31);c++)b<<=1,m>>=1;p+=s.decimalToHex(b,0),p+=".",this.hvcC.general_tier_flag===0?p+="L":p+="H",p+=this.hvcC.general_level_idc;var E=!1,T="";for(c=5;c>=0;c--)(this.hvcC.general_constraint_indicator[c]||E)&&(T="."+s.decimalToHex(this.hvcC.general_constraint_indicator[c],0)+T,E=!0);p+=T}return p},s.vvc1SampleEntry.prototype.getCodec=s.vvi1SampleEntry.prototype.getCodec=function(){var c,p=s.SampleEntry.prototype.getCodec.call(this);if(this.vvcC){p+="."+this.vvcC.general_profile_idc,this.vvcC.general_tier_flag?p+=".H":p+=".L",p+=this.vvcC.general_level_idc;var m="";if(this.vvcC.general_constraint_info){var b=[],E=0;E|=this.vvcC.ptl_frame_only_constraint<<7,E|=this.vvcC.ptl_multilayer_enabled<<6;var T;for(c=0;c<this.vvcC.general_constraint_info.length;++c)E|=this.vvcC.general_constraint_info[c]>>2&63,b.push(E),E&&(T=c),E=this.vvcC.general_constraint_info[c]>>2&3;if(T===void 0)m=".CA";else{m=".C";var R="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",O=0,D=0;for(c=0;c<=T;++c)for(O=O<<8|b[c],D+=8;D>=5;){var P=O>>D-5&31;m+=R[P],D-=5,O&=(1<<D)-1}D&&(O<<=5-D,m+=R[O&31])}}p+=m}return p},s.mp4aSampleEntry.prototype.getCodec=function(){var c=s.SampleEntry.prototype.getCodec.call(this);if(this.esds&&this.esds.esd){var p=this.esds.esd.getOTI(),m=this.esds.esd.getAudioConfig();return c+"."+s.decimalToHex(p)+(m?"."+m:"")}else return c},s.stxtSampleEntry.prototype.getCodec=function(){var c=s.SampleEntry.prototype.getCodec.call(this);return this.mime_format?c+"."+this.mime_format:c},s.vp08SampleEntry.prototype.getCodec=s.vp09SampleEntry.prototype.getCodec=function(){var c=s.SampleEntry.prototype.getCodec.call(this),p=this.vpcC.level;p==0&&(p="00");var m=this.vpcC.bitDepth;return m==8&&(m="08"),c+".0"+this.vpcC.profile+"."+p+"."+m},s.av01SampleEntry.prototype.getCodec=function(){var c=s.SampleEntry.prototype.getCodec.call(this),p=this.av1C.seq_level_idx_0;p<10&&(p="0"+p);var m;return this.av1C.seq_profile===2&&this.av1C.high_bitdepth===1?m=this.av1C.twelve_bit===1?"12":"10":this.av1C.seq_profile<=2&&(m=this.av1C.high_bitdepth===1?"10":"08"),c+"."+this.av1C.seq_profile+"."+p+(this.av1C.seq_tier_0?"H":"M")+"."+m},s.Box.prototype.writeHeader=function(c,p){this.size+=8,this.size>a&&(this.size+=8),this.type==="uuid"&&(this.size+=16),e.debug("BoxWriter","Writing box "+this.type+" of size: "+this.size+" at position "+c.getPosition()+(p||"")),this.size>a?c.writeUint32(1):(this.sizePosition=c.getPosition(),c.writeUint32(this.size)),c.writeString(this.type,null,4),this.type==="uuid"&&c.writeUint8Array(this.uuid),this.size>a&&c.writeUint64(this.size)},s.FullBox.prototype.writeHeader=function(c){this.size+=4,s.Box.prototype.writeHeader.call(this,c," v="+this.version+" f="+this.flags),c.writeUint8(this.version),c.writeUint24(this.flags)},s.Box.prototype.write=function(c){this.type==="mdat"?this.data&&(this.size=this.data.length,this.writeHeader(c),c.writeUint8Array(this.data)):(this.size=this.data?this.data.length:0,this.writeHeader(c),this.data&&c.writeUint8Array(this.data))},s.ContainerBox.prototype.write=function(c){this.size=0,this.writeHeader(c);for(var p=0;p<this.boxes.length;p++)this.boxes[p]&&(this.boxes[p].write(c),this.size+=this.boxes[p].size);e.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),c.adjustUint32(this.sizePosition,this.size)},s.TrackReferenceTypeBox.prototype.write=function(c){this.size=this.track_ids.length*4,this.writeHeader(c),c.writeUint32Array(this.track_ids)},s.avcCBox.prototype.write=function(c){var p;for(this.size=7,p=0;p<this.SPS.length;p++)this.size+=2+this.SPS[p].length;for(p=0;p<this.PPS.length;p++)this.size+=2+this.PPS[p].length;for(this.ext&&(this.size+=this.ext.length),this.writeHeader(c),c.writeUint8(this.configurationVersion),c.writeUint8(this.AVCProfileIndication),c.writeUint8(this.profile_compatibility),c.writeUint8(this.AVCLevelIndication),c.writeUint8(this.lengthSizeMinusOne+252),c.writeUint8(this.SPS.length+224),p=0;p<this.SPS.length;p++)c.writeUint16(this.SPS[p].length),c.writeUint8Array(this.SPS[p].nalu);for(c.writeUint8(this.PPS.length),p=0;p<this.PPS.length;p++)c.writeUint16(this.PPS[p].length),c.writeUint8Array(this.PPS[p].nalu);this.ext&&c.writeUint8Array(this.ext)},s.co64Box.prototype.write=function(c){var p;for(this.version=0,this.flags=0,this.size=4+8*this.chunk_offsets.length,this.writeHeader(c),c.writeUint32(this.chunk_offsets.length),p=0;p<this.chunk_offsets.length;p++)c.writeUint64(this.chunk_offsets[p])},s.cslgBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=4*5,this.writeHeader(c),c.writeInt32(this.compositionToDTSShift),c.writeInt32(this.leastDecodeToDisplayDelta),c.writeInt32(this.greatestDecodeToDisplayDelta),c.writeInt32(this.compositionStartTime),c.writeInt32(this.compositionEndTime)},s.cttsBox.prototype.write=function(c){var p;for(this.version=0,this.flags=0,this.size=4+8*this.sample_counts.length,this.writeHeader(c),c.writeUint32(this.sample_counts.length),p=0;p<this.sample_counts.length;p++)c.writeUint32(this.sample_counts[p]),this.version===1?c.writeInt32(this.sample_offsets[p]):c.writeUint32(this.sample_offsets[p])},s.drefBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=4,this.writeHeader(c),c.writeUint32(this.entries.length);for(var p=0;p<this.entries.length;p++)this.entries[p].write(c),this.size+=this.entries[p].size;e.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),c.adjustUint32(this.sizePosition,this.size)},s.elngBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=this.extended_language.length,this.writeHeader(c),c.writeString(this.extended_language)},s.elstBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=4+12*this.entries.length,this.writeHeader(c),c.writeUint32(this.entries.length);for(var p=0;p<this.entries.length;p++){var m=this.entries[p];c.writeUint32(m.segment_duration),c.writeInt32(m.media_time),c.writeInt16(m.media_rate_integer),c.writeInt16(m.media_rate_fraction)}},s.emsgBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=4*4+this.message_data.length+(this.scheme_id_uri.length+1)+(this.value.length+1),this.writeHeader(c),c.writeCString(this.scheme_id_uri),c.writeCString(this.value),c.writeUint32(this.timescale),c.writeUint32(this.presentation_time_delta),c.writeUint32(this.event_duration),c.writeUint32(this.id),c.writeUint8Array(this.message_data)},s.ftypBox.prototype.write=function(c){this.size=8+4*this.compatible_brands.length,this.writeHeader(c),c.writeString(this.major_brand,null,4),c.writeUint32(this.minor_version);for(var p=0;p<this.compatible_brands.length;p++)c.writeString(this.compatible_brands[p],null,4)},s.hdlrBox.prototype.write=function(c){this.size=5*4+this.name.length+1,this.version=0,this.flags=0,this.writeHeader(c),c.writeUint32(0),c.writeString(this.handler,null,4),c.writeUint32(0),c.writeUint32(0),c.writeUint32(0),c.writeCString(this.name)},s.hvcCBox.prototype.write=function(c){var p,m;for(this.size=23,p=0;p<this.nalu_arrays.length;p++)for(this.size+=3,m=0;m<this.nalu_arrays[p].length;m++)this.size+=2+this.nalu_arrays[p][m].data.length;for(this.writeHeader(c),c.writeUint8(this.configurationVersion),c.writeUint8((this.general_profile_space<<6)+(this.general_tier_flag<<5)+this.general_profile_idc),c.writeUint32(this.general_profile_compatibility),c.writeUint8Array(this.general_constraint_indicator),c.writeUint8(this.general_level_idc),c.writeUint16(this.min_spatial_segmentation_idc+(15<<24)),c.writeUint8(this.parallelismType+252),c.writeUint8(this.chroma_format_idc+252),c.writeUint8(this.bit_depth_luma_minus8+248),c.writeUint8(this.bit_depth_chroma_minus8+248),c.writeUint16(this.avgFrameRate),c.writeUint8((this.constantFrameRate<<6)+(this.numTemporalLayers<<3)+(this.temporalIdNested<<2)+this.lengthSizeMinusOne),c.writeUint8(this.nalu_arrays.length),p=0;p<this.nalu_arrays.length;p++)for(c.writeUint8((this.nalu_arrays[p].completeness<<7)+this.nalu_arrays[p].nalu_type),c.writeUint16(this.nalu_arrays[p].length),m=0;m<this.nalu_arrays[p].length;m++)c.writeUint16(this.nalu_arrays[p][m].data.length),c.writeUint8Array(this.nalu_arrays[p][m].data)},s.kindBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=this.schemeURI.length+1+(this.value.length+1),this.writeHeader(c),c.writeCString(this.schemeURI),c.writeCString(this.value)},s.mdhdBox.prototype.write=function(c){this.size=4*4+2*2,this.flags=0,this.version=0,this.writeHeader(c),c.writeUint32(this.creation_time),c.writeUint32(this.modification_time),c.writeUint32(this.timescale),c.writeUint32(this.duration),c.writeUint16(this.language),c.writeUint16(0)},s.mehdBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=4,this.writeHeader(c),c.writeUint32(this.fragment_duration)},s.mfhdBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=4,this.writeHeader(c),c.writeUint32(this.sequence_number)},s.mvhdBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=23*4+2*2,this.writeHeader(c),c.writeUint32(this.creation_time),c.writeUint32(this.modification_time),c.writeUint32(this.timescale),c.writeUint32(this.duration),c.writeUint32(this.rate),c.writeUint16(this.volume<<8),c.writeUint16(0),c.writeUint32(0),c.writeUint32(0),c.writeUint32Array(this.matrix),c.writeUint32(0),c.writeUint32(0),c.writeUint32(0),c.writeUint32(0),c.writeUint32(0),c.writeUint32(0),c.writeUint32(this.next_track_id)},s.SampleEntry.prototype.writeHeader=function(c){this.size=8,s.Box.prototype.writeHeader.call(this,c),c.writeUint8(0),c.writeUint8(0),c.writeUint8(0),c.writeUint8(0),c.writeUint8(0),c.writeUint8(0),c.writeUint16(this.data_reference_index)},s.SampleEntry.prototype.writeFooter=function(c){for(var p=0;p<this.boxes.length;p++)this.boxes[p].write(c),this.size+=this.boxes[p].size;e.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),c.adjustUint32(this.sizePosition,this.size)},s.SampleEntry.prototype.write=function(c){this.writeHeader(c),c.writeUint8Array(this.data),this.size+=this.data.length,e.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),c.adjustUint32(this.sizePosition,this.size)},s.VisualSampleEntry.prototype.write=function(c){this.writeHeader(c),this.size+=2*7+6*4+32,c.writeUint16(0),c.writeUint16(0),c.writeUint32(0),c.writeUint32(0),c.writeUint32(0),c.writeUint16(this.width),c.writeUint16(this.height),c.writeUint32(this.horizresolution),c.writeUint32(this.vertresolution),c.writeUint32(0),c.writeUint16(this.frame_count),c.writeUint8(Math.min(31,this.compressorname.length)),c.writeString(this.compressorname,null,31),c.writeUint16(this.depth),c.writeInt16(-1),this.writeFooter(c)},s.AudioSampleEntry.prototype.write=function(c){this.writeHeader(c),this.size+=2*4+3*4,c.writeUint32(0),c.writeUint32(0),c.writeUint16(this.channel_count),c.writeUint16(this.samplesize),c.writeUint16(0),c.writeUint16(0),c.writeUint32(this.samplerate<<16),this.writeFooter(c)},s.stppSampleEntry.prototype.write=function(c){this.writeHeader(c),this.size+=this.namespace.length+1+this.schema_location.length+1+this.auxiliary_mime_types.length+1,c.writeCString(this.namespace),c.writeCString(this.schema_location),c.writeCString(this.auxiliary_mime_types),this.writeFooter(c)},s.SampleGroupEntry.prototype.write=function(c){c.writeUint8Array(this.data)},s.sbgpBox.prototype.write=function(c){this.version=1,this.flags=0,this.size=12+8*this.entries.length,this.writeHeader(c),c.writeString(this.grouping_type,null,4),c.writeUint32(this.grouping_type_parameter),c.writeUint32(this.entries.length);for(var p=0;p<this.entries.length;p++){var m=this.entries[p];c.writeInt32(m.sample_count),c.writeInt32(m.group_description_index)}},s.sgpdBox.prototype.write=function(c){var p,m;for(this.flags=0,this.size=12,p=0;p<this.entries.length;p++)m=this.entries[p],this.version===1&&(this.default_length===0&&(this.size+=4),this.size+=m.data.length);for(this.writeHeader(c),c.writeString(this.grouping_type,null,4),this.version===1&&c.writeUint32(this.default_length),this.version>=2&&c.writeUint32(this.default_sample_description_index),c.writeUint32(this.entries.length),p=0;p<this.entries.length;p++)m=this.entries[p],this.version===1&&this.default_length===0&&c.writeUint32(m.description_length),m.write(c)},s.sidxBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=4*4+2+2+12*this.references.length,this.writeHeader(c),c.writeUint32(this.reference_ID),c.writeUint32(this.timescale),c.writeUint32(this.earliest_presentation_time),c.writeUint32(this.first_offset),c.writeUint16(0),c.writeUint16(this.references.length);for(var p=0;p<this.references.length;p++){var m=this.references[p];c.writeUint32(m.reference_type<<31|m.referenced_size),c.writeUint32(m.subsegment_duration),c.writeUint32(m.starts_with_SAP<<31|m.SAP_type<<28|m.SAP_delta_time)}},s.smhdBox.prototype.write=function(c){this.version=0,this.flags=1,this.size=4,this.writeHeader(c),c.writeUint16(this.balance),c.writeUint16(0)},s.stcoBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=4+4*this.chunk_offsets.length,this.writeHeader(c),c.writeUint32(this.chunk_offsets.length),c.writeUint32Array(this.chunk_offsets)},s.stscBox.prototype.write=function(c){var p;for(this.version=0,this.flags=0,this.size=4+12*this.first_chunk.length,this.writeHeader(c),c.writeUint32(this.first_chunk.length),p=0;p<this.first_chunk.length;p++)c.writeUint32(this.first_chunk[p]),c.writeUint32(this.samples_per_chunk[p]),c.writeUint32(this.sample_description_index[p])},s.stsdBox.prototype.write=function(c){var p;for(this.version=0,this.flags=0,this.size=0,this.writeHeader(c),c.writeUint32(this.entries.length),this.size+=4,p=0;p<this.entries.length;p++)this.entries[p].write(c),this.size+=this.entries[p].size;e.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),c.adjustUint32(this.sizePosition,this.size)},s.stshBox.prototype.write=function(c){var p;for(this.version=0,this.flags=0,this.size=4+8*this.shadowed_sample_numbers.length,this.writeHeader(c),c.writeUint32(this.shadowed_sample_numbers.length),p=0;p<this.shadowed_sample_numbers.length;p++)c.writeUint32(this.shadowed_sample_numbers[p]),c.writeUint32(this.sync_sample_numbers[p])},s.stssBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=4+4*this.sample_numbers.length,this.writeHeader(c),c.writeUint32(this.sample_numbers.length),c.writeUint32Array(this.sample_numbers)},s.stszBox.prototype.write=function(c){var p,m=!0;if(this.version=0,this.flags=0,this.sample_sizes.length>0)for(p=0;p+1<this.sample_sizes.length;)if(this.sample_sizes[p+1]!==this.sample_sizes[0]){m=!1;break}else p++;else m=!1;this.size=8,m||(this.size+=4*this.sample_sizes.length),this.writeHeader(c),m?c.writeUint32(this.sample_sizes[0]):c.writeUint32(0),c.writeUint32(this.sample_sizes.length),m||c.writeUint32Array(this.sample_sizes)},s.sttsBox.prototype.write=function(c){var p;for(this.version=0,this.flags=0,this.size=4+8*this.sample_counts.length,this.writeHeader(c),c.writeUint32(this.sample_counts.length),p=0;p<this.sample_counts.length;p++)c.writeUint32(this.sample_counts[p]),c.writeUint32(this.sample_deltas[p])},s.tfdtBox.prototype.write=function(c){var p=Math.pow(2,32)-1;this.version=this.baseMediaDecodeTime>p?1:0,this.flags=0,this.size=4,this.version===1&&(this.size+=4),this.writeHeader(c),this.version===1?c.writeUint64(this.baseMediaDecodeTime):c.writeUint32(this.baseMediaDecodeTime)},s.tfhdBox.prototype.write=function(c){this.version=0,this.size=4,this.flags&s.TFHD_FLAG_BASE_DATA_OFFSET&&(this.size+=8),this.flags&s.TFHD_FLAG_SAMPLE_DESC&&(this.size+=4),this.flags&s.TFHD_FLAG_SAMPLE_DUR&&(this.size+=4),this.flags&s.TFHD_FLAG_SAMPLE_SIZE&&(this.size+=4),this.flags&s.TFHD_FLAG_SAMPLE_FLAGS&&(this.size+=4),this.writeHeader(c),c.writeUint32(this.track_id),this.flags&s.TFHD_FLAG_BASE_DATA_OFFSET&&c.writeUint64(this.base_data_offset),this.flags&s.TFHD_FLAG_SAMPLE_DESC&&c.writeUint32(this.default_sample_description_index),this.flags&s.TFHD_FLAG_SAMPLE_DUR&&c.writeUint32(this.default_sample_duration),this.flags&s.TFHD_FLAG_SAMPLE_SIZE&&c.writeUint32(this.default_sample_size),this.flags&s.TFHD_FLAG_SAMPLE_FLAGS&&c.writeUint32(this.default_sample_flags)},s.tkhdBox.prototype.write=function(c){this.version=0,this.size=4*18+2*4,this.writeHeader(c),c.writeUint32(this.creation_time),c.writeUint32(this.modification_time),c.writeUint32(this.track_id),c.writeUint32(0),c.writeUint32(this.duration),c.writeUint32(0),c.writeUint32(0),c.writeInt16(this.layer),c.writeInt16(this.alternate_group),c.writeInt16(this.volume<<8),c.writeUint16(0),c.writeInt32Array(this.matrix),c.writeUint32(this.width),c.writeUint32(this.height)},s.trexBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=4*5,this.writeHeader(c),c.writeUint32(this.track_id),c.writeUint32(this.default_sample_description_index),c.writeUint32(this.default_sample_duration),c.writeUint32(this.default_sample_size),c.writeUint32(this.default_sample_flags)},s.trunBox.prototype.write=function(c){this.version=0,this.size=4,this.flags&s.TRUN_FLAGS_DATA_OFFSET&&(this.size+=4),this.flags&s.TRUN_FLAGS_FIRST_FLAG&&(this.size+=4),this.flags&s.TRUN_FLAGS_DURATION&&(this.size+=4*this.sample_duration.length),this.flags&s.TRUN_FLAGS_SIZE&&(this.size+=4*this.sample_size.length),this.flags&s.TRUN_FLAGS_FLAGS&&(this.size+=4*this.sample_flags.length),this.flags&s.TRUN_FLAGS_CTS_OFFSET&&(this.size+=4*this.sample_composition_time_offset.length),this.writeHeader(c),c.writeUint32(this.sample_count),this.flags&s.TRUN_FLAGS_DATA_OFFSET&&(this.data_offset_position=c.getPosition(),c.writeInt32(this.data_offset)),this.flags&s.TRUN_FLAGS_FIRST_FLAG&&c.writeUint32(this.first_sample_flags);for(var p=0;p<this.sample_count;p++)this.flags&s.TRUN_FLAGS_DURATION&&c.writeUint32(this.sample_duration[p]),this.flags&s.TRUN_FLAGS_SIZE&&c.writeUint32(this.sample_size[p]),this.flags&s.TRUN_FLAGS_FLAGS&&c.writeUint32(this.sample_flags[p]),this.flags&s.TRUN_FLAGS_CTS_OFFSET&&(this.version===0?c.writeUint32(this.sample_composition_time_offset[p]):c.writeInt32(this.sample_composition_time_offset[p]))},s["url Box"].prototype.write=function(c){this.version=0,this.location?(this.flags=0,this.size=this.location.length+1):(this.flags=1,this.size=0),this.writeHeader(c),this.location&&c.writeCString(this.location)},s["urn Box"].prototype.write=function(c){this.version=0,this.flags=0,this.size=this.name.length+1+(this.location?this.location.length+1:0),this.writeHeader(c),c.writeCString(this.name),this.location&&c.writeCString(this.location)},s.vmhdBox.prototype.write=function(c){this.version=0,this.flags=1,this.size=8,this.writeHeader(c),c.writeUint16(this.graphicsmode),c.writeUint16Array(this.opcolor)},s.cttsBox.prototype.unpack=function(c){var p,m,b;for(b=0,p=0;p<this.sample_counts.length;p++)for(m=0;m<this.sample_counts[p];m++)c[b].pts=c[b].dts+this.sample_offsets[p],b++},s.sttsBox.prototype.unpack=function(c){var p,m,b;for(b=0,p=0;p<this.sample_counts.length;p++)for(m=0;m<this.sample_counts[p];m++)b===0?c[b].dts=0:c[b].dts=c[b-1].dts+this.sample_deltas[p],b++},s.stcoBox.prototype.unpack=function(c){var p;for(p=0;p<this.chunk_offsets.length;p++)c[p].offset=this.chunk_offsets[p]},s.stscBox.prototype.unpack=function(c){var p,m,b,E,T;for(E=0,T=0,p=0;p<this.first_chunk.length;p++)for(m=0;m<(p+1<this.first_chunk.length?this.first_chunk[p+1]:1/0);m++)for(T++,b=0;b<this.samples_per_chunk[p];b++){if(c[E])c[E].description_index=this.sample_description_index[p],c[E].chunk_index=T;else return;E++}},s.stszBox.prototype.unpack=function(c){var p;for(p=0;p<this.sample_sizes.length;p++)c[p].size=this.sample_sizes[p]},s.DIFF_BOXES_PROP_NAMES=["boxes","entries","references","subsamples","items","item_infos","extents","associations","subsegments","ranges","seekLists","seekPoints","esd","levels"],s.DIFF_PRIMITIVE_ARRAY_PROP_NAMES=["compatible_brands","matrix","opcolor","sample_counts","sample_counts","sample_deltas","first_chunk","samples_per_chunk","sample_sizes","chunk_offsets","sample_offsets","sample_description_index","sample_duration"],s.boxEqualFields=function(c,p){if(c&&!p)return!1;var m;for(m in c)if(!(s.DIFF_BOXES_PROP_NAMES.indexOf(m)>-1)){if(c[m]instanceof s.Box||p[m]instanceof s.Box)continue;if(typeof c[m]>"u"||typeof p[m]>"u")continue;if(typeof c[m]=="function"||typeof p[m]=="function")continue;if(c.subBoxNames&&c.subBoxNames.indexOf(m.slice(0,4))>-1||p.subBoxNames&&p.subBoxNames.indexOf(m.slice(0,4))>-1)continue;if(m==="data"||m==="start"||m==="size"||m==="creation_time"||m==="modification_time")continue;if(s.DIFF_PRIMITIVE_ARRAY_PROP_NAMES.indexOf(m)>-1)continue;if(c[m]!==p[m])return!1}return!0},s.boxEqual=function(c,p){if(!s.boxEqualFields(c,p))return!1;for(var m=0;m<s.DIFF_BOXES_PROP_NAMES.length;m++){var b=s.DIFF_BOXES_PROP_NAMES[m];if(c[b]&&p[b]&&!s.boxEqual(c[b],p[b]))return!1}return!0};var g=function(){};g.prototype.parseSample=function(c){var p={},m;p.resources=[];var b=new t(c.data.buffer);if(!c.subsamples||c.subsamples.length===0)p.documentString=b.readString(c.data.length);else if(p.documentString=b.readString(c.subsamples[0].size),c.subsamples.length>1)for(m=1;m<c.subsamples.length;m++)p.resources[m]=b.readUint8Array(c.subsamples[m].size);return typeof DOMParser<"u"&&(p.document=new DOMParser().parseFromString(p.documentString,"application/xml")),p};var y=function(){};y.prototype.parseSample=function(c){var p,m=new t(c.data.buffer);return p=m.readString(c.data.length),p},y.prototype.parseConfig=function(c){var p,m=new t(c.buffer);return m.readUint32(),p=m.readCString(),p},n.XMLSubtitlein4Parser=g,n.Textin4Parser=y;var _=function(c){this.stream=c||new o,this.boxes=[],this.mdats=[],this.moofs=[],this.isProgressive=!1,this.moovStartFound=!1,this.onMoovStart=null,this.moovStartSent=!1,this.onReady=null,this.readySent=!1,this.onSegment=null,this.onSamples=null,this.onError=null,this.sampleListBuilt=!1,this.fragmentedTracks=[],this.extractedTracks=[],this.isFragmentationInitialized=!1,this.sampleProcessingStarted=!1,this.nextMoofNumber=0,this.itemListBuilt=!1,this.onSidx=null,this.sidxSent=!1};_.prototype.setSegmentOptions=function(c,p,m){var b=this.getTrackById(c);if(b){var E={};this.fragmentedTracks.push(E),E.id=c,E.user=p,E.trak=b,b.nextSample=0,E.segmentStream=null,E.nb_samples=1e3,E.rapAlignement=!0,m&&(m.nbSamples&&(E.nb_samples=m.nbSamples),m.rapAlignement&&(E.rapAlignement=m.rapAlignement))}},_.prototype.unsetSegmentOptions=function(c){for(var p=-1,m=0;m<this.fragmentedTracks.length;m++){var b=this.fragmentedTracks[m];b.id==c&&(p=m)}p>-1&&this.fragmentedTracks.splice(p,1)},_.prototype.setExtractionOptions=function(c,p,m){var b=this.getTrackById(c);if(b){var E={};this.extractedTracks.push(E),E.id=c,E.user=p,E.trak=b,b.nextSample=0,E.nb_samples=1e3,E.samples=[],m&&m.nbSamples&&(E.nb_samples=m.nbSamples)}},_.prototype.unsetExtractionOptions=function(c){for(var p=-1,m=0;m<this.extractedTracks.length;m++){var b=this.extractedTracks[m];b.id==c&&(p=m)}p>-1&&this.extractedTracks.splice(p,1)},_.prototype.parse=function(){var c,p,m=!1;if(!(this.restoreParsePosition&&!this.restoreParsePosition()))for(;;)if(this.hasIncompleteMdat&&this.hasIncompleteMdat()){if(this.processIncompleteMdat())continue;return}else if(this.saveParsePosition&&this.saveParsePosition(),c=s.parseOneBox(this.stream,m),c.code===s.ERR_NOT_ENOUGH_DATA)if(this.processIncompleteBox){if(this.processIncompleteBox(c))continue;return}else return;else{var b;switch(p=c.box,b=p.type!=="uuid"?p.type:p.uuid,this.boxes.push(p),b){case"mdat":this.mdats.push(p);break;case"moof":this.moofs.push(p);break;case"moov":this.moovStartFound=!0,this.mdats.length===0&&(this.isProgressive=!0);default:this[b]!==void 0&&e.warn("ISOFile","Duplicate Box of type: "+b+", overriding previous occurrence"),this[b]=p;break}this.updateUsedBytes&&this.updateUsedBytes(p,c)}},_.prototype.checkBuffer=function(c){if(c==null)throw"Buffer must be defined and non empty";if(c.fileStart===void 0)throw"Buffer must have a fileStart property";return c.byteLength===0?(e.warn("ISOFile","Ignoring empty buffer (fileStart: "+c.fileStart+")"),this.stream.logBufferLevel(),!1):(e.info("ISOFile","Processing buffer (fileStart: "+c.fileStart+")"),c.usedBytes=0,this.stream.insertBuffer(c),this.stream.logBufferLevel(),this.stream.initialized()?!0:(e.warn("ISOFile","Not ready to start parsing"),!1))},_.prototype.appendBuffer=function(c,p){var m;if(this.checkBuffer(c))return this.parse(),this.moovStartFound&&!this.moovStartSent&&(this.moovStartSent=!0,this.onMoovStart&&this.onMoovStart()),this.moov?(this.sampleListBuilt||(this.buildSampleLists(),this.sampleListBuilt=!0),this.updateSampleLists(),this.onReady&&!this.readySent&&(this.readySent=!0,this.onReady(this.getInfo())),this.processSamples(p),this.nextSeekPosition?(m=this.nextSeekPosition,this.nextSeekPosition=void 0):m=this.nextParsePosition,this.stream.getEndFilePositionAfter&&(m=this.stream.getEndFilePositionAfter(m))):this.nextParsePosition?m=this.nextParsePosition:m=0,this.sidx&&this.onSidx&&!this.sidxSent&&(this.onSidx(this.sidx),this.sidxSent=!0),this.meta&&(this.flattenItemInfo&&!this.itemListBuilt&&(this.flattenItemInfo(),this.itemListBuilt=!0),this.processItems&&this.processItems(this.onItem)),this.stream.cleanBuffers&&(e.info("ISOFile","Done processing buffer (fileStart: "+c.fileStart+") - next buffer to fetch should have a fileStart position of "+m),this.stream.logBufferLevel(),this.stream.cleanBuffers(),this.stream.logBufferLevel(!0),e.info("ISOFile","Sample data size in memory: "+this.getAllocatedSampleDataSize())),m},_.prototype.getInfo=function(){var c,p,m={},b,E,T,R,O=new Date("1904-01-01T00:00:00Z").getTime();if(this.moov)for(m.hasMoov=!0,m.duration=this.moov.mvhd.duration,m.timescale=this.moov.mvhd.timescale,m.isFragmented=this.moov.mvex!=null,m.isFragmented&&this.moov.mvex.mehd&&(m.fragment_duration=this.moov.mvex.mehd.fragment_duration),m.isProgressive=this.isProgressive,m.hasIOD=this.moov.iods!=null,m.brands=[],m.brands.push(this.ftyp.major_brand),m.brands=m.brands.concat(this.ftyp.compatible_brands),m.created=new Date(O+this.moov.mvhd.creation_time*1e3),m.modified=new Date(O+this.moov.mvhd.modification_time*1e3),m.tracks=[],m.audioTracks=[],m.videoTracks=[],m.subtitleTracks=[],m.metadataTracks=[],m.hintTracks=[],m.otherTracks=[],c=0;c<this.moov.traks.length;c++){if(b=this.moov.traks[c],R=b.mdia.minf.stbl.stsd.entries[0],E={},m.tracks.push(E),E.id=b.tkhd.track_id,E.name=b.mdia.hdlr.name,E.references=[],b.tref)for(p=0;p<b.tref.boxes.length;p++)T={},E.references.push(T),T.type=b.tref.boxes[p].type,T.track_ids=b.tref.boxes[p].track_ids;b.edts&&(E.edits=b.edts.elst.entries),E.created=new Date(O+b.tkhd.creation_time*1e3),E.modified=new Date(O+b.tkhd.modification_time*1e3),E.movie_duration=b.tkhd.duration,E.movie_timescale=m.timescale,E.layer=b.tkhd.layer,E.alternate_group=b.tkhd.alternate_group,E.volume=b.tkhd.volume,E.matrix=b.tkhd.matrix,E.track_width=b.tkhd.width/65536,E.track_height=b.tkhd.height/65536,E.timescale=b.mdia.mdhd.timescale,E.cts_shift=b.mdia.minf.stbl.cslg,E.duration=b.mdia.mdhd.duration,E.samples_duration=b.samples_duration,E.codec=R.getCodec(),E.kind=b.udta&&b.udta.kinds.length?b.udta.kinds[0]:{schemeURI:"",value:""},E.language=b.mdia.elng?b.mdia.elng.extended_language:b.mdia.mdhd.languageString,E.nb_samples=b.samples.length,E.size=b.samples_size,E.bitrate=E.size*8*E.timescale/E.samples_duration,R.isAudio()?(E.type="audio",m.audioTracks.push(E),E.audio={},E.audio.sample_rate=R.getSampleRate(),E.audio.channel_count=R.getChannelCount(),E.audio.sample_size=R.getSampleSize()):R.isVideo()?(E.type="video",m.videoTracks.push(E),E.video={},E.video.width=R.getWidth(),E.video.height=R.getHeight()):R.isSubtitle()?(E.type="subtitles",m.subtitleTracks.push(E)):R.isHint()?(E.type="metadata",m.hintTracks.push(E)):R.isMetadata()?(E.type="metadata",m.metadataTracks.push(E)):(E.type="metadata",m.otherTracks.push(E))}else m.hasMoov=!1;if(m.mime="",m.hasMoov&&m.tracks){for(m.videoTracks&&m.videoTracks.length>0?m.mime+='video/mp4; codecs="':m.audioTracks&&m.audioTracks.length>0?m.mime+='audio/mp4; codecs="':m.mime+='application/mp4; codecs="',c=0;c<m.tracks.length;c++)c!==0&&(m.mime+=","),m.mime+=m.tracks[c].codec;m.mime+='"; profiles="',m.mime+=this.ftyp.compatible_brands.join(),m.mime+='"'}return m},_.prototype.setNextSeekPositionFromSample=function(c){c&&(this.nextSeekPosition?this.nextSeekPosition=Math.min(c.offset+c.alreadyRead,this.nextSeekPosition):this.nextSeekPosition=c.offset+c.alreadyRead)},_.prototype.processSamples=function(c){var p,m;if(this.sampleProcessingStarted){if(this.isFragmentationInitialized&&this.onSegment!==null)for(p=0;p<this.fragmentedTracks.length;p++){var b=this.fragmentedTracks[p];for(m=b.trak;m.nextSample<m.samples.length&&this.sampleProcessingStarted;){e.debug("ISOFile","Creating media fragment on track #"+b.id+" for sample "+m.nextSample);var E=this.createFragment(b.id,m.nextSample,b.segmentStream);if(E)b.segmentStream=E,m.nextSample++;else break;if((m.nextSample%b.nb_samples===0||c||m.nextSample>=m.samples.length)&&(e.info("ISOFile","Sending fragmented data on track #"+b.id+" for samples ["+Math.max(0,m.nextSample-b.nb_samples)+","+(m.nextSample-1)+"]"),e.info("ISOFile","Sample data size in memory: "+this.getAllocatedSampleDataSize()),this.onSegment&&this.onSegment(b.id,b.user,b.segmentStream.buffer,m.nextSample,c||m.nextSample>=m.samples.length),b.segmentStream=null,b!==this.fragmentedTracks[p]))break}}if(this.onSamples!==null)for(p=0;p<this.extractedTracks.length;p++){var T=this.extractedTracks[p];for(m=T.trak;m.nextSample<m.samples.length&&this.sampleProcessingStarted;){e.debug("ISOFile","Exporting on track #"+T.id+" sample #"+m.nextSample);var R=this.getSample(m,m.nextSample);if(R)m.nextSample++,T.samples.push(R);else{this.setNextSeekPositionFromSample(m.samples[m.nextSample]);break}if((m.nextSample%T.nb_samples===0||m.nextSample>=m.samples.length)&&(e.debug("ISOFile","Sending samples on track #"+T.id+" for sample "+m.nextSample),this.onSamples&&this.onSamples(T.id,T.user,T.samples),T.samples=[],T!==this.extractedTracks[p]))break}}}},_.prototype.getBox=function(c){var p=this.getBoxes(c,!0);return p.length?p[0]:null},_.prototype.getBoxes=function(c,p){var m=[];return _._sweep.call(this,c,m,p),m},_._sweep=function(c,p,m){this.type&&this.type==c&&p.push(this);for(var b in this.boxes){if(p.length&&m)return;_._sweep.call(this.boxes[b],c,p,m)}},_.prototype.getTrackSamplesInfo=function(c){var p=this.getTrackById(c);if(p)return p.samples},_.prototype.getTrackSample=function(c,p){var m=this.getTrackById(c),b=this.getSample(m,p);return b},_.prototype.releaseUsedSamples=function(c,p){var m=0,b=this.getTrackById(c);b.lastValidSample||(b.lastValidSample=0);for(var E=b.lastValidSample;E<p;E++)m+=this.releaseSample(b,E);e.info("ISOFile","Track #"+c+" released samples up to "+p+" (released size: "+m+", remaining: "+this.samplesDataSize+")"),b.lastValidSample=p},_.prototype.start=function(){this.sampleProcessingStarted=!0,this.processSamples(!1)},_.prototype.stop=function(){this.sampleProcessingStarted=!1},_.prototype.flush=function(){e.info("ISOFile","Flushing remaining samples"),this.updateSampleLists(),this.processSamples(!0),this.stream.cleanBuffers(),this.stream.logBufferLevel(!0)},_.prototype.seekTrack=function(c,p,m){var b,E,T=1/0,R=0,O=0,D;if(m.samples.length===0)return e.info("ISOFile","No sample in track, cannot seek! Using time "+e.getDurationString(0,1)+" and offset: 0"),{offset:0,time:0};for(b=0;b<m.samples.length;b++){if(E=m.samples[b],b===0)O=0,D=E.timescale;else if(E.cts>c*E.timescale){O=b-1;break}p&&E.is_sync&&(R=b)}for(p&&(O=R),c=m.samples[O].cts,m.nextSample=O;m.samples[O].alreadyRead===m.samples[O].size&&m.samples[O+1];)O++;return T=m.samples[O].offset+m.samples[O].alreadyRead,e.info("ISOFile","Seeking to "+(p?"RAP":"")+" sample #"+m.nextSample+" on track "+m.tkhd.track_id+", time "+e.getDurationString(c,D)+" and offset: "+T),{offset:T,time:c/D}},_.prototype.getTrackDuration=function(c){var p;return c.samples?(p=c.samples[c.samples.length-1],(p.cts+p.duration)/p.timescale):1/0},_.prototype.seek=function(c,p){var m=this.moov,b,E,T,R={offset:1/0,time:1/0};if(this.moov){for(T=0;T<m.traks.length;T++)b=m.traks[T],!(c>this.getTrackDuration(b))&&(E=this.seekTrack(c,p,b),E.offset<R.offset&&(R.offset=E.offset),E.time<R.time&&(R.time=E.time));return e.info("ISOFile","Seeking at time "+e.getDurationString(R.time,1)+" needs a buffer with a fileStart position of "+R.offset),R.offset===1/0?R={offset:this.nextParsePosition,time:0}:R.offset=this.stream.getEndFilePositionAfter(R.offset),e.info("ISOFile","Adjusted seek position (after checking data already in buffer): "+R.offset),R}else throw"Cannot seek: moov not received!"},_.prototype.equal=function(c){for(var p=0;p<this.boxes.length&&p<c.boxes.length;){var m=this.boxes[p],b=c.boxes[p];if(!s.boxEqual(m,b))return!1;p++}return!0},n.ISOFile=_,_.prototype.lastBoxStartPosition=0,_.prototype.parsingMdat=null,_.prototype.nextParsePosition=0,_.prototype.discardMdatData=!1,_.prototype.processIncompleteBox=function(c){var p,m,b;return c.type==="mdat"?(p=new s[c.type+"Box"](c.size),this.parsingMdat=p,this.boxes.push(p),this.mdats.push(p),p.start=c.start,p.hdr_size=c.hdr_size,this.stream.addUsedBytes(p.hdr_size),this.lastBoxStartPosition=p.start+p.size,b=this.stream.seek(p.start+p.size,!1,this.discardMdatData),b?(this.parsingMdat=null,!0):(this.moovStartFound?this.nextParsePosition=this.stream.findEndContiguousBuf():this.nextParsePosition=p.start+p.size,!1)):(c.type==="moov"&&(this.moovStartFound=!0,this.mdats.length===0&&(this.isProgressive=!0)),m=this.stream.mergeNextBuffer?this.stream.mergeNextBuffer():!1,m?(this.nextParsePosition=this.stream.getEndPosition(),!0):(c.type?this.moovStartFound?this.nextParsePosition=this.stream.getEndPosition():this.nextParsePosition=this.stream.getPosition()+c.size:this.nextParsePosition=this.stream.getEndPosition(),!1))},_.prototype.hasIncompleteMdat=function(){return this.parsingMdat!==null},_.prototype.processIncompleteMdat=function(){var c,p;return c=this.parsingMdat,p=this.stream.seek(c.start+c.size,!1,this.discardMdatData),p?(e.debug("ISOFile","Found 'mdat' end in buffered data"),this.parsingMdat=null,!0):(this.nextParsePosition=this.stream.findEndContiguousBuf(),!1)},_.prototype.restoreParsePosition=function(){return this.stream.seek(this.lastBoxStartPosition,!0,this.discardMdatData)},_.prototype.saveParsePosition=function(){this.lastBoxStartPosition=this.stream.getPosition()},_.prototype.updateUsedBytes=function(c,p){this.stream.addUsedBytes&&(c.type==="mdat"?(this.stream.addUsedBytes(c.hdr_size),this.discardMdatData&&this.stream.addUsedBytes(c.size-c.hdr_size)):this.stream.addUsedBytes(c.size))},_.prototype.add=s.Box.prototype.add,_.prototype.addBox=s.Box.prototype.addBox,_.prototype.init=function(c){var p=c||{};this.add("ftyp").set("major_brand",p.brands&&p.brands[0]||"iso4").set("minor_version",0).set("compatible_brands",p.brands||["iso4"]);var m=this.add("moov");return m.add("mvhd").set("timescale",p.timescale||600).set("rate",p.rate||65536).set("creation_time",0).set("modification_time",0).set("duration",p.duration||0).set("volume",p.width?0:256).set("matrix",[65536,0,0,0,65536,0,0,0,1073741824]).set("next_track_id",1),m.add("mvex"),this},_.prototype.addTrack=function(c){this.moov||this.init(c);var p=c||{};p.width=p.width||320,p.height=p.height||320,p.id=p.id||this.moov.mvhd.next_track_id,p.type=p.type||"avc1";var m=this.moov.add("trak");this.moov.mvhd.next_track_id=p.id+1,m.add("tkhd").set("flags",s.TKHD_FLAG_ENABLED|s.TKHD_FLAG_IN_MOVIE|s.TKHD_FLAG_IN_PREVIEW).set("creation_time",0).set("modification_time",0).set("track_id",p.id).set("duration",p.duration||0).set("layer",p.layer||0).set("alternate_group",0).set("volume",1).set("matrix",[65536,0,0,0,65536,0,0,0,1073741824]).set("width",p.width<<16).set("height",p.height<<16);var b=m.add("mdia");b.add("mdhd").set("creation_time",0).set("modification_time",0).set("timescale",p.timescale||1).set("duration",p.media_duration||0).set("language",p.language||"und"),b.add("hdlr").set("handler",p.hdlr||"vide").set("name",p.name||"Track created with MP4Box.js"),b.add("elng").set("extended_language",p.language||"fr-FR");var E=b.add("minf");if(s[p.type+"SampleEntry"]!==void 0){var T=new s[p.type+"SampleEntry"];T.data_reference_index=1;var R="";for(var O in s.sampleEntryCodes)for(var D=s.sampleEntryCodes[O],P=0;P<D.length;P++)if(D.indexOf(p.type)>-1){R=O;break}switch(R){case"Visual":if(E.add("vmhd").set("graphicsmode",0).set("opcolor",[0,0,0]),T.set("width",p.width).set("height",p.height).set("horizresolution",72<<16).set("vertresolution",72<<16).set("frame_count",1).set("compressorname",p.type+" Compressor").set("depth",24),p.avcDecoderConfigRecord){var F=new s.avcCBox;F.parse(new t(p.avcDecoderConfigRecord)),T.addBox(F)}else if(p.hevcDecoderConfigRecord){var U=new s.hvcCBox;U.parse(new t(p.hevcDecoderConfigRecord)),T.addBox(U)}break;case"Audio":E.add("smhd").set("balance",p.balance||0),T.set("channel_count",p.channel_count||2).set("samplesize",p.samplesize||16).set("samplerate",p.samplerate||65536);break;case"Hint":E.add("hmhd");break;case"Subtitle":switch(E.add("sthd"),p.type){case"stpp":T.set("namespace",p.namespace||"nonamespace").set("schema_location",p.schema_location||"").set("auxiliary_mime_types",p.auxiliary_mime_types||"");break}break;case"Metadata":E.add("nmhd");break;case"System":E.add("nmhd");break;default:E.add("nmhd");break}p.description&&T.addBox(p.description),p.description_boxes&&p.description_boxes.forEach(function($){T.addBox($)}),E.add("dinf").add("dref").addEntry(new s["url Box"]().set("flags",1));var z=E.add("stbl");return z.add("stsd").addEntry(T),z.add("stts").set("sample_counts",[]).set("sample_deltas",[]),z.add("stsc").set("first_chunk",[]).set("samples_per_chunk",[]).set("sample_description_index",[]),z.add("stco").set("chunk_offsets",[]),z.add("stsz").set("sample_sizes",[]),this.moov.mvex.add("trex").set("track_id",p.id).set("default_sample_description_index",p.default_sample_description_index||1).set("default_sample_duration",p.default_sample_duration||0).set("default_sample_size",p.default_sample_size||0).set("default_sample_flags",p.default_sample_flags||0),this.buildTrakSampleLists(m),p.id}},s.Box.prototype.computeSize=function(c){var p=c||new r;p.endianness=r.BIG_ENDIAN,this.write(p)},_.prototype.addSample=function(c,p,m){var b=m||{},E={},T=this.getTrackById(c);if(T!==null){E.number=T.samples.length,E.track_id=T.tkhd.track_id,E.timescale=T.mdia.mdhd.timescale,E.description_index=b.sample_description_index?b.sample_description_index-1:0,E.description=T.mdia.minf.stbl.stsd.entries[E.description_index],E.data=p,E.size=p.byteLength,E.alreadyRead=E.size,E.duration=b.duration||1,E.cts=b.cts||0,E.dts=b.dts||0,E.is_sync=b.is_sync||!1,E.is_leading=b.is_leading||0,E.depends_on=b.depends_on||0,E.is_depended_on=b.is_depended_on||0,E.has_redundancy=b.has_redundancy||0,E.degradation_priority=b.degradation_priority||0,E.offset=0,E.subsamples=b.subsamples,T.samples.push(E),T.samples_size+=E.size,T.samples_duration+=E.duration,T.first_dts===void 0&&(T.first_dts=b.dts),this.processSamples();var R=this.createSingleSampleMoof(E);return this.addBox(R),R.computeSize(),R.trafs[0].truns[0].data_offset=R.size+8,this.add("mdat").data=new Uint8Array(p),E}},_.prototype.createSingleSampleMoof=function(c){var p=0;c.is_sync?p=1<<25:p=65536;var m=new s.moofBox;m.add("mfhd").set("sequence_number",this.nextMoofNumber),this.nextMoofNumber++;var b=m.add("traf"),E=this.getTrackById(c.track_id);return b.add("tfhd").set("track_id",c.track_id).set("flags",s.TFHD_FLAG_DEFAULT_BASE_IS_MOOF),b.add("tfdt").set("baseMediaDecodeTime",c.dts-(E.first_dts||0)),b.add("trun").set("flags",s.TRUN_FLAGS_DATA_OFFSET|s.TRUN_FLAGS_DURATION|s.TRUN_FLAGS_SIZE|s.TRUN_FLAGS_FLAGS|s.TRUN_FLAGS_CTS_OFFSET).set("data_offset",0).set("first_sample_flags",0).set("sample_count",1).set("sample_duration",[c.duration]).set("sample_size",[c.size]).set("sample_flags",[p]).set("sample_composition_time_offset",[c.cts-c.dts]),m},_.prototype.lastMoofIndex=0,_.prototype.samplesDataSize=0,_.prototype.resetTables=function(){var c,p,m,b,E,T,R,O;for(this.initial_duration=this.moov.mvhd.duration,this.moov.mvhd.duration=0,c=0;c<this.moov.traks.length;c++){p=this.moov.traks[c],p.tkhd.duration=0,p.mdia.mdhd.duration=0,m=p.mdia.minf.stbl.stco||p.mdia.minf.stbl.co64,m.chunk_offsets=[],b=p.mdia.minf.stbl.stsc,b.first_chunk=[],b.samples_per_chunk=[],b.sample_description_index=[],E=p.mdia.minf.stbl.stsz||p.mdia.minf.stbl.stz2,E.sample_sizes=[],T=p.mdia.minf.stbl.stts,T.sample_counts=[],T.sample_deltas=[],R=p.mdia.minf.stbl.ctts,R&&(R.sample_counts=[],R.sample_offsets=[]),O=p.mdia.minf.stbl.stss;var D=p.mdia.minf.stbl.boxes.indexOf(O);D!=-1&&(p.mdia.minf.stbl.boxes[D]=null)}},_.initSampleGroups=function(c,p,m,b,E){var T,R,O,D;function P(F,U,z){this.grouping_type=F,this.grouping_type_parameter=U,this.sbgp=z,this.last_sample_in_run=-1,this.entry_index=-1}for(p&&(p.sample_groups_info=[]),c.sample_groups_info||(c.sample_groups_info=[]),R=0;R<m.length;R++){for(D=m[R].grouping_type+"/"+m[R].grouping_type_parameter,O=new P(m[R].grouping_type,m[R].grouping_type_parameter,m[R]),p&&(p.sample_groups_info[D]=O),c.sample_groups_info[D]||(c.sample_groups_info[D]=O),T=0;T<b.length;T++)b[T].grouping_type===m[R].grouping_type&&(O.description=b[T],O.description.used=!0);if(E)for(T=0;T<E.length;T++)E[T].grouping_type===m[R].grouping_type&&(O.fragment_description=E[T],O.fragment_description.used=!0,O.is_fragment=!0)}if(p){if(E)for(R=0;R<E.length;R++)!E[R].used&&E[R].version>=2&&(D=E[R].grouping_type+"/0",O=new P(E[R].grouping_type,0),O.is_fragment=!0,p.sample_groups_info[D]||(p.sample_groups_info[D]=O))}else for(R=0;R<b.length;R++)!b[R].used&&b[R].version>=2&&(D=b[R].grouping_type+"/0",O=new P(b[R].grouping_type,0),c.sample_groups_info[D]||(c.sample_groups_info[D]=O))},_.setSampleGroupProperties=function(c,p,m,b){var E,T;p.sample_groups=[];for(E in b)if(p.sample_groups[E]={},p.sample_groups[E].grouping_type=b[E].grouping_type,p.sample_groups[E].grouping_type_parameter=b[E].grouping_type_parameter,m>=b[E].last_sample_in_run&&(b[E].last_sample_in_run<0&&(b[E].last_sample_in_run=0),b[E].entry_index++,b[E].entry_index<=b[E].sbgp.entries.length-1&&(b[E].last_sample_in_run+=b[E].sbgp.entries[b[E].entry_index].sample_count)),b[E].entry_index<=b[E].sbgp.entries.length-1?p.sample_groups[E].group_description_index=b[E].sbgp.entries[b[E].entry_index].group_description_index:p.sample_groups[E].group_description_index=-1,p.sample_groups[E].group_description_index!==0){var R;b[E].fragment_description?R=b[E].fragment_description:R=b[E].description,p.sample_groups[E].group_description_index>0?(p.sample_groups[E].group_description_index>65535?T=(p.sample_groups[E].group_description_index>>16)-1:T=p.sample_groups[E].group_description_index-1,R&&T>=0&&(p.sample_groups[E].description=R.entries[T])):R&&R.version>=2&&R.default_group_description_index>0&&(p.sample_groups[E].description=R.entries[R.default_group_description_index-1])}},_.process_sdtp=function(c,p,m){p&&(c?(p.is_leading=c.is_leading[m],p.depends_on=c.sample_depends_on[m],p.is_depended_on=c.sample_is_depended_on[m],p.has_redundancy=c.sample_has_redundancy[m]):(p.is_leading=0,p.depends_on=0,p.is_depended_on=0,p.has_redundancy=0))},_.prototype.buildSampleLists=function(){var c,p;for(c=0;c<this.moov.traks.length;c++)p=this.moov.traks[c],this.buildTrakSampleLists(p)},_.prototype.buildTrakSampleLists=function(c){var p,m,b,E,T,R,O,D,P,F,U,z,$,J,W,Z,oe,Y,K,ee,ue,q,ie,me;if(c.samples=[],c.samples_duration=0,c.samples_size=0,m=c.mdia.minf.stbl.stco||c.mdia.minf.stbl.co64,b=c.mdia.minf.stbl.stsc,E=c.mdia.minf.stbl.stsz||c.mdia.minf.stbl.stz2,T=c.mdia.minf.stbl.stts,R=c.mdia.minf.stbl.ctts,O=c.mdia.minf.stbl.stss,D=c.mdia.minf.stbl.stsd,P=c.mdia.minf.stbl.subs,z=c.mdia.minf.stbl.stdp,F=c.mdia.minf.stbl.sbgps,U=c.mdia.minf.stbl.sgpds,Y=-1,K=-1,ee=-1,ue=-1,q=0,ie=0,me=0,_.initSampleGroups(c,null,F,U),!(typeof E>"u")){for(p=0;p<E.sample_sizes.length;p++){var de={};de.number=p,de.track_id=c.tkhd.track_id,de.timescale=c.mdia.mdhd.timescale,de.alreadyRead=0,c.samples[p]=de,de.size=E.sample_sizes[p],c.samples_size+=de.size,p===0?(J=1,$=0,de.chunk_index=J,de.chunk_run_index=$,oe=b.samples_per_chunk[$],Z=0,$+1<b.first_chunk.length?W=b.first_chunk[$+1]-1:W=1/0):p<oe?(de.chunk_index=J,de.chunk_run_index=$):(J++,de.chunk_index=J,Z=0,J<=W||($++,$+1<b.first_chunk.length?W=b.first_chunk[$+1]-1:W=1/0),de.chunk_run_index=$,oe+=b.samples_per_chunk[$]),de.description_index=b.sample_description_index[de.chunk_run_index]-1,de.description=D.entries[de.description_index],de.offset=m.chunk_offsets[de.chunk_index-1]+Z,Z+=de.size,p>Y&&(K++,Y<0&&(Y=0),Y+=T.sample_counts[K]),p>0?(c.samples[p-1].duration=T.sample_deltas[K],c.samples_duration+=c.samples[p-1].duration,de.dts=c.samples[p-1].dts+c.samples[p-1].duration):de.dts=0,R?(p>=ee&&(ue++,ee<0&&(ee=0),ee+=R.sample_counts[ue]),de.cts=c.samples[p].dts+R.sample_offsets[ue]):de.cts=de.dts,O?(p==O.sample_numbers[q]-1?(de.is_sync=!0,q++):(de.is_sync=!1,de.degradation_priority=0),P&&P.entries[ie].sample_delta+me==p+1&&(de.subsamples=P.entries[ie].subsamples,me+=P.entries[ie].sample_delta,ie++)):de.is_sync=!0,_.process_sdtp(c.mdia.minf.stbl.sdtp,de,de.number),z?de.degradation_priority=z.priority[p]:de.degradation_priority=0,P&&P.entries[ie].sample_delta+me==p&&(de.subsamples=P.entries[ie].subsamples,me+=P.entries[ie].sample_delta),(F.length>0||U.length>0)&&_.setSampleGroupProperties(c,de,p,c.sample_groups_info)}p>0&&(c.samples[p-1].duration=Math.max(c.mdia.mdhd.duration-c.samples[p-1].dts,0),c.samples_duration+=c.samples[p-1].duration)}},_.prototype.updateSampleLists=function(){var c,p,m,b,E,T,R,O,D,P,F,U,z,$,J;if(this.moov!==void 0){for(;this.lastMoofIndex<this.moofs.length;)if(D=this.moofs[this.lastMoofIndex],this.lastMoofIndex++,D.type=="moof")for(P=D,c=0;c<P.trafs.length;c++){for(F=P.trafs[c],U=this.getTrackById(F.tfhd.track_id),U.samples==null&&(U.samples=[]),z=this.getTrexById(F.tfhd.track_id),F.tfhd.flags&s.TFHD_FLAG_SAMPLE_DESC?b=F.tfhd.default_sample_description_index:b=z?z.default_sample_description_index:1,F.tfhd.flags&s.TFHD_FLAG_SAMPLE_DUR?E=F.tfhd.default_sample_duration:E=z?z.default_sample_duration:0,F.tfhd.flags&s.TFHD_FLAG_SAMPLE_SIZE?T=F.tfhd.default_sample_size:T=z?z.default_sample_size:0,F.tfhd.flags&s.TFHD_FLAG_SAMPLE_FLAGS?R=F.tfhd.default_sample_flags:R=z?z.default_sample_flags:0,F.sample_number=0,F.sbgps.length>0&&_.initSampleGroups(U,F,F.sbgps,U.mdia.minf.stbl.sgpds,F.sgpds),p=0;p<F.truns.length;p++){var W=F.truns[p];for(m=0;m<W.sample_count;m++){$={},$.moof_number=this.lastMoofIndex,$.number_in_traf=F.sample_number,F.sample_number++,$.number=U.samples.length,F.first_sample_index=U.samples.length,U.samples.push($),$.track_id=U.tkhd.track_id,$.timescale=U.mdia.mdhd.timescale,$.description_index=b-1,$.description=U.mdia.minf.stbl.stsd.entries[$.description_index],$.size=T,W.flags&s.TRUN_FLAGS_SIZE&&($.size=W.sample_size[m]),U.samples_size+=$.size,$.duration=E,W.flags&s.TRUN_FLAGS_DURATION&&($.duration=W.sample_duration[m]),U.samples_duration+=$.duration,U.first_traf_merged||m>0?$.dts=U.samples[U.samples.length-2].dts+U.samples[U.samples.length-2].duration:(F.tfdt?$.dts=F.tfdt.baseMediaDecodeTime:$.dts=0,U.first_traf_merged=!0),$.cts=$.dts,W.flags&s.TRUN_FLAGS_CTS_OFFSET&&($.cts=$.dts+W.sample_composition_time_offset[m]),J=R,W.flags&s.TRUN_FLAGS_FLAGS?J=W.sample_flags[m]:m===0&&W.flags&s.TRUN_FLAGS_FIRST_FLAG&&(J=W.first_sample_flags),$.is_sync=!(J>>16&1),$.is_leading=J>>26&3,$.depends_on=J>>24&3,$.is_depended_on=J>>22&3,$.has_redundancy=J>>20&3,$.degradation_priority=J&65535;var Z=!!(F.tfhd.flags&s.TFHD_FLAG_BASE_DATA_OFFSET),oe=!!(F.tfhd.flags&s.TFHD_FLAG_DEFAULT_BASE_IS_MOOF),Y=!!(W.flags&s.TRUN_FLAGS_DATA_OFFSET),K=0;Z?K=F.tfhd.base_data_offset:oe||p===0?K=P.start:K=O,p===0&&m===0?Y?$.offset=K+W.data_offset:$.offset=K:$.offset=O,O=$.offset+$.size,(F.sbgps.length>0||F.sgpds.length>0||U.mdia.minf.stbl.sbgps.length>0||U.mdia.minf.stbl.sgpds.length>0)&&_.setSampleGroupProperties(U,$,$.number_in_traf,F.sample_groups_info)}}if(F.subs){U.has_fragment_subsamples=!0;var ee=F.first_sample_index;for(p=0;p<F.subs.entries.length;p++)ee+=F.subs.entries[p].sample_delta,$=U.samples[ee-1],$.subsamples=F.subs.entries[p].subsamples}}}},_.prototype.getSample=function(c,p){var m,b=c.samples[p];if(!this.moov)return null;if(!b.data)b.data=new Uint8Array(b.size),b.alreadyRead=0,this.samplesDataSize+=b.size,e.debug("ISOFile","Allocating sample #"+p+" on track #"+c.tkhd.track_id+" of size "+b.size+" (total: "+this.samplesDataSize+")");else if(b.alreadyRead==b.size)return b;for(;;){var E=this.stream.findPosition(!0,b.offset+b.alreadyRead,!1);if(E>-1){m=this.stream.buffers[E];var T=m.byteLength-(b.offset+b.alreadyRead-m.fileStart);if(b.size-b.alreadyRead<=T)return e.debug("ISOFile","Getting sample #"+p+" data (alreadyRead: "+b.alreadyRead+" offset: "+(b.offset+b.alreadyRead-m.fileStart)+" read size: "+(b.size-b.alreadyRead)+" full size: "+b.size+")"),r.memcpy(b.data.buffer,b.alreadyRead,m,b.offset+b.alreadyRead-m.fileStart,b.size-b.alreadyRead),m.usedBytes+=b.size-b.alreadyRead,this.stream.logBufferLevel(),b.alreadyRead=b.size,b;if(T===0)return null;e.debug("ISOFile","Getting sample #"+p+" partial data (alreadyRead: "+b.alreadyRead+" offset: "+(b.offset+b.alreadyRead-m.fileStart)+" read size: "+T+" full size: "+b.size+")"),r.memcpy(b.data.buffer,b.alreadyRead,m,b.offset+b.alreadyRead-m.fileStart,T),b.alreadyRead+=T,m.usedBytes+=T,this.stream.logBufferLevel()}else return null}},_.prototype.releaseSample=function(c,p){var m=c.samples[p];return m.data?(this.samplesDataSize-=m.size,m.data=null,m.alreadyRead=0,m.size):0},_.prototype.getAllocatedSampleDataSize=function(){return this.samplesDataSize},_.prototype.getCodecs=function(){var c,p="";for(c=0;c<this.moov.traks.length;c++){var m=this.moov.traks[c];c>0&&(p+=","),p+=m.mdia.minf.stbl.stsd.entries[0].getCodec()}return p},_.prototype.getTrexById=function(c){var p;if(!this.moov||!this.moov.mvex)return null;for(p=0;p<this.moov.mvex.trexs.length;p++){var m=this.moov.mvex.trexs[p];if(m.track_id==c)return m}return null},_.prototype.getTrackById=function(c){if(this.moov===void 0)return null;for(var p=0;p<this.moov.traks.length;p++){var m=this.moov.traks[p];if(m.tkhd.track_id==c)return m}return null},_.prototype.items=[],_.prototype.entity_groups=[],_.prototype.itemsDataSize=0,_.prototype.flattenItemInfo=function(){var c=this.items,p=this.entity_groups,m,b,E,T=this.meta;if(T!=null&&T.hdlr!==void 0&&T.iinf!==void 0){for(m=0;m<T.iinf.item_infos.length;m++)E={},E.id=T.iinf.item_infos[m].item_ID,c[E.id]=E,E.ref_to=[],E.name=T.iinf.item_infos[m].item_name,T.iinf.item_infos[m].protection_index>0&&(E.protection=T.ipro.protections[T.iinf.item_infos[m].protection_index-1]),T.iinf.item_infos[m].item_type?E.type=T.iinf.item_infos[m].item_type:E.type="mime",E.content_type=T.iinf.item_infos[m].content_type,E.content_encoding=T.iinf.item_infos[m].content_encoding;if(T.grpl)for(m=0;m<T.grpl.boxes.length;m++)entity_group={},entity_group.id=T.grpl.boxes[m].group_id,entity_group.entity_ids=T.grpl.boxes[m].entity_ids,entity_group.type=T.grpl.boxes[m].type,p[entity_group.id]=entity_group;if(T.iloc)for(m=0;m<T.iloc.items.length;m++){var R=T.iloc.items[m];switch(E=c[R.item_ID],R.data_reference_index!==0&&(e.warn("Item storage with reference to other files: not supported"),E.source=T.dinf.boxes[R.data_reference_index-1]),R.construction_method){case 0:break;case 1:e.warn("Item storage with construction_method : not supported");break;case 2:e.warn("Item storage with construction_method : not supported");break}for(E.extents=[],E.size=0,b=0;b<R.extents.length;b++)E.extents[b]={},E.extents[b].offset=R.extents[b].extent_offset+R.base_offset,E.extents[b].length=R.extents[b].extent_length,E.extents[b].alreadyRead=0,E.size+=E.extents[b].length}if(T.pitm&&(c[T.pitm.item_id].primary=!0),T.iref)for(m=0;m<T.iref.references.length;m++){var O=T.iref.references[m];for(b=0;b<O.references.length;b++)c[O.from_item_ID].ref_to.push({type:O.type,id:O.references[b]})}if(T.iprp)for(var D=0;D<T.iprp.ipmas.length;D++){var P=T.iprp.ipmas[D];for(m=0;m<P.associations.length;m++){var F=P.associations[m];if(E=c[F.id],E||(E=p[F.id]),E)for(E.properties===void 0&&(E.properties={},E.properties.boxes=[]),b=0;b<F.props.length;b++){var U=F.props[b];if(U.property_index>0&&U.property_index-1<T.iprp.ipco.boxes.length){var z=T.iprp.ipco.boxes[U.property_index-1];E.properties[z.type]=z,E.properties.boxes.push(z)}}}}}},_.prototype.getItem=function(c){var p,m;if(!this.meta)return null;if(m=this.items[c],!m.data&&m.size)m.data=new Uint8Array(m.size),m.alreadyRead=0,this.itemsDataSize+=m.size,e.debug("ISOFile","Allocating item #"+c+" of size "+m.size+" (total: "+this.itemsDataSize+")");else if(m.alreadyRead===m.size)return m;for(var b=0;b<m.extents.length;b++){var E=m.extents[b];if(E.alreadyRead!==E.length){var T=this.stream.findPosition(!0,E.offset+E.alreadyRead,!1);if(T>-1){p=this.stream.buffers[T];var R=p.byteLength-(E.offset+E.alreadyRead-p.fileStart);if(E.length-E.alreadyRead<=R)e.debug("ISOFile","Getting item #"+c+" extent #"+b+" data (alreadyRead: "+E.alreadyRead+" offset: "+(E.offset+E.alreadyRead-p.fileStart)+" read size: "+(E.length-E.alreadyRead)+" full extent size: "+E.length+" full item size: "+m.size+")"),r.memcpy(m.data.buffer,m.alreadyRead,p,E.offset+E.alreadyRead-p.fileStart,E.length-E.alreadyRead),p.usedBytes+=E.length-E.alreadyRead,this.stream.logBufferLevel(),m.alreadyRead+=E.length-E.alreadyRead,E.alreadyRead=E.length;else return e.debug("ISOFile","Getting item #"+c+" extent #"+b+" partial data (alreadyRead: "+E.alreadyRead+" offset: "+(E.offset+E.alreadyRead-p.fileStart)+" read size: "+R+" full extent size: "+E.length+" full item size: "+m.size+")"),r.memcpy(m.data.buffer,m.alreadyRead,p,E.offset+E.alreadyRead-p.fileStart,R),E.alreadyRead+=R,m.alreadyRead+=R,p.usedBytes+=R,this.stream.logBufferLevel(),null}else return null}}return m.alreadyRead===m.size?m:null},_.prototype.releaseItem=function(c){var p=this.items[c];if(p.data){this.itemsDataSize-=p.size,p.data=null,p.alreadyRead=0;for(var m=0;m<p.extents.length;m++){var b=p.extents[m];b.alreadyRead=0}return p.size}else return 0},_.prototype.processItems=function(c){for(var p in this.items){var m=this.items[p];this.getItem(m.id),c&&!m.sent&&(c(m),m.sent=!0,m.data=null)}},_.prototype.hasItem=function(c){for(var p in this.items){var m=this.items[p];if(m.name===c)return m.id}return-1},_.prototype.getMetaHandler=function(){return this.meta?this.meta.hdlr.handler:null},_.prototype.getPrimaryItem=function(){return!this.meta||!this.meta.pitm?null:this.getItem(this.meta.pitm.item_id)},_.prototype.itemToFragmentedTrackFile=function(c){var p=c||{},m=null;if(p.itemId?m=this.getItem(p.itemId):m=this.getPrimaryItem(),m==null)return null;var b=new _;b.discardMdatData=!1;var E={type:m.type,description_boxes:m.properties.boxes};m.properties.ispe&&(E.width=m.properties.ispe.image_width,E.height=m.properties.ispe.image_height);var T=b.addTrack(E);return T?(b.addSample(T,m.data),b):null},_.prototype.write=function(c){for(var p=0;p<this.boxes.length;p++)this.boxes[p].write(c)},_.prototype.createFragment=function(c,p,m){var b=this.getTrackById(c),E=this.getSample(b,p);if(E==null)return this.setNextSeekPositionFromSample(b.samples[p]),null;var T=m||new r;T.endianness=r.BIG_ENDIAN;var R=this.createSingleSampleMoof(E);R.write(T),R.trafs[0].truns[0].data_offset=R.size+8,e.debug("MP4Box","Adjusting data_offset with new value "+R.trafs[0].truns[0].data_offset),T.adjustUint32(R.trafs[0].truns[0].data_offset_position,R.trafs[0].truns[0].data_offset);var O=new s.mdatBox;return O.data=E.data,O.write(T),T},_.writeInitializationSegment=function(c,p,m,b){var E;e.debug("ISOFile","Generating initialization segment");var T=new r;T.endianness=r.BIG_ENDIAN,c.write(T);var R=p.add("mvex");for(m&&R.add("mehd").set("fragment_duration",m),E=0;E<p.traks.length;E++)R.add("trex").set("track_id",p.traks[E].tkhd.track_id).set("default_sample_description_index",1).set("default_sample_duration",b).set("default_sample_size",0).set("default_sample_flags",65536);return p.write(T),T.buffer},_.prototype.save=function(c){var p=new r;p.endianness=r.BIG_ENDIAN,this.write(p),p.save(c)},_.prototype.getBuffer=function(){var c=new r;return c.endianness=r.BIG_ENDIAN,this.write(c),c.buffer},_.prototype.initializeSegmentation=function(){var c,p,m,b;for(this.onSegment===null&&e.warn("MP4Box","No segmentation callback set!"),this.isFragmentationInitialized||(this.isFragmentationInitialized=!0,this.nextMoofNumber=0,this.resetTables()),p=[],c=0;c<this.fragmentedTracks.length;c++){var E=new s.moovBox;E.mvhd=this.moov.mvhd,E.boxes.push(E.mvhd),m=this.getTrackById(this.fragmentedTracks[c].id),E.boxes.push(m),E.traks.push(m),b={},b.id=m.tkhd.track_id,b.user=this.fragmentedTracks[c].user,b.buffer=_.writeInitializationSegment(this.ftyp,E,this.moov.mvex&&this.moov.mvex.mehd?this.moov.mvex.mehd.fragment_duration:void 0,this.moov.traks[c].samples.length>0?this.moov.traks[c].samples[0].duration:0),p.push(b)}return p},s.Box.prototype.printHeader=function(c){this.size+=8,this.size>a&&(this.size+=8),this.type==="uuid"&&(this.size+=16),c.log(c.indent+"size:"+this.size),c.log(c.indent+"type:"+this.type)},s.FullBox.prototype.printHeader=function(c){this.size+=4,s.Box.prototype.printHeader.call(this,c),c.log(c.indent+"version:"+this.version),c.log(c.indent+"flags:"+this.flags)},s.Box.prototype.print=function(c){this.printHeader(c)},s.ContainerBox.prototype.print=function(c){this.printHeader(c);for(var p=0;p<this.boxes.length;p++)if(this.boxes[p]){var m=c.indent;c.indent+=" ",this.boxes[p].print(c),c.indent=m}},_.prototype.print=function(c){c.indent="";for(var p=0;p<this.boxes.length;p++)this.boxes[p]&&this.boxes[p].print(c)},s.mvhdBox.prototype.print=function(c){s.FullBox.prototype.printHeader.call(this,c),c.log(c.indent+"creation_time: "+this.creation_time),c.log(c.indent+"modification_time: "+this.modification_time),c.log(c.indent+"timescale: "+this.timescale),c.log(c.indent+"duration: "+this.duration),c.log(c.indent+"rate: "+this.rate),c.log(c.indent+"volume: "+(this.volume>>8)),c.log(c.indent+"matrix: "+this.matrix.join(", ")),c.log(c.indent+"next_track_id: "+this.next_track_id)},s.tkhdBox.prototype.print=function(c){s.FullBox.prototype.printHeader.call(this,c),c.log(c.indent+"creation_time: "+this.creation_time),c.log(c.indent+"modification_time: "+this.modification_time),c.log(c.indent+"track_id: "+this.track_id),c.log(c.indent+"duration: "+this.duration),c.log(c.indent+"volume: "+(this.volume>>8)),c.log(c.indent+"matrix: "+this.matrix.join(", ")),c.log(c.indent+"layer: "+this.layer),c.log(c.indent+"alternate_group: "+this.alternate_group),c.log(c.indent+"width: "+this.width),c.log(c.indent+"height: "+this.height)};var C={};C.createFile=function(c,p){var m=c!==void 0?c:!0,b=new _(p);return b.discardMdatData=!m,b},n.createFile=C.createFile}(QT)),QT}var qhe=Yhe();const pd=zm(qhe);var Khe=Object.defineProperty,dG=n=>{throw TypeError(n)},Jhe=(n,e,t)=>e in n?Khe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ZT=(n,e,t)=>Jhe(n,typeof e!="symbol"?e+"":e,t),Qhe=(n,e,t)=>e.has(n)||dG("Cannot "+t),uv=(n,e,t)=>(Qhe(n,e,"read from private field"),t?t.call(n):e.get(n)),Zhe=(n,e,t)=>e.has(n)?dG("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),gh;let Lm=class{constructor(){Zhe(this,gh,new Map),ZT(this,"on",(e,t)=>{const r=uv(this,gh).get(e)??new Set;return r.add(t),uv(this,gh).has(e)||uv(this,gh).set(e,r),()=>{r.delete(t),r.size===0&&uv(this,gh).delete(e)}}),ZT(this,"once",(e,t)=>{const r=this.on(e,(...a)=>{r(),t(...a)});return r}),ZT(this,"emit",(e,...t)=>{const r=uv(this,gh).get(e);r!=null&&r.forEach(a=>a(...t))})}static forwardEvent(e,t,r){const a=r.map(o=>{const[l,s]=Array.isArray(o)?o:[o,o];return e.on(l,(...u)=>{t.emit(s,...u)})});return()=>{a.forEach(o=>o())}}destroy(){uv(this,gh).clear()}};gh=new WeakMap;const epe=()=>{let n,e=16.6;self.onmessage=t=>{t.data.event==="start"&&(self.clearInterval(n),n=self.setInterval(()=>{self.postMessage({})},e)),t.data.event==="stop"&&self.clearInterval(n)}},tpe=()=>{const n=new Blob([`(${epe.toString()})()`]),e=URL.createObjectURL(n);return new Worker(e)},pv=new Map;let j2=1,Fv=null;globalThis.Worker!=null&&(Fv=tpe(),Fv.onmessage=()=>{j2+=1;for(const[n,e]of pv)if(j2%n===0)for(const t of e)t()});const eB=(n,e)=>{const t=Math.round(e/16.6),r=pv.get(t)??new Set;return r.add(n),pv.set(t,r),pv.size===1&&r.size===1&&(Fv==null||Fv.postMessage({event:"start"})),()=>{r.delete(n),r.size===0&&pv.delete(t),pv.size===0&&(j2=0,Fv==null||Fv.postMessage({event:"stop"}))}};function npe(n,e){let t=!1;async function r(){const a=n.getReader();for(;!t;){const{value:o,done:l}=await a.read();if(l){e.onDone();return}await e.onChunk(o)}a.releaseLock(),await n.cancel()}return r().catch(console.error),()=>{t=!0}}function ipe(n,e,t){let r=0,a=0;const o=n.boxes;let l=!1;const s=()=>{var y;if(!l)if(o.find(c=>c.type==="moof")!=null)l=!0;else return null;if(a>=o.length)return null;const _=new pd.DataStream;_.endianness=pd.DataStream.BIG_ENDIAN;let C=a;try{for(;C<o.length;)o[C].write(_),delete o[C],C+=1}catch(c){const p=o[C];throw c instanceof Error&&p!=null?Error(`${c.message} | deltaBuf( boxType: ${p.type}, boxSize: ${p.size}, boxDataLen: ${((y=p.data)==null?void 0:y.length)??-1})`):c}return rpe(n),a=o.length,new Uint8Array(_.buffer)};let u=!1,d=!1,g=null;return{stream:new ReadableStream({start(y){r=self.setInterval(()=>{const _=s();_!=null&&!d&&y.enqueue(_)},e),g=_=>{if(clearInterval(r),n.flush(),_!=null){y.error(_);return}const C=s();C!=null&&!d&&y.enqueue(C),d||y.close()},u&&g()},cancel(){d=!0,clearInterval(r),t==null||t()}}),stop:y=>{u||(u=!0,g==null||g(y))}}}function rpe(n){if(n.moov!=null){for(var e=0;e<n.moov.traks.length;e++)n.moov.traks[e].samples=[];n.mdats=[],n.moofs=[]}}const tB=(n,e)=>{const t=new Uint8Array(8);new DataView(t.buffer).setUint32(0,e);for(let r=0;r<4;r++)t[4+r]=n.charCodeAt(r);return t},ape=()=>{const n=new TextEncoder,e=n.encode("mdta"),t=n.encode("mp4 handler"),r=32+t.byteLength+1,a=new Uint8Array(r),o=new DataView(a.buffer);return a.set(tB("hdlr",r),0),o.setUint32(8,0),a.set(e,16),a.set(t,32),a},ope=n=>{const e=new TextEncoder,t=e.encode("mdta"),r=n.map(u=>{const d=e.encode(u),g=8+d.byteLength,y=new Uint8Array(g);return new DataView(y.buffer).setUint32(0,g),y.set(t,4),y.set(d,4+t.byteLength),y}),a=16+r.reduce((u,d)=>u+d.byteLength,0),o=new Uint8Array(a),l=new DataView(o.buffer);o.set(tB("keys",a),0),l.setUint32(8,0),l.setUint32(12,n.length);let s=16;for(const u of r)o.set(u,s),s+=u.byteLength;return o},spe=n=>{const e=new TextEncoder,t=e.encode("data"),r=Object.entries(n).map(([s,u],d)=>{const g=d+1,y=e.encode(u),_=24+y.byteLength,C=new Uint8Array(_),c=new DataView(C.buffer);return c.setUint32(0,_),c.setUint32(4,g),c.setUint32(8,16+y.byteLength),C.set(t,12),c.setUint32(16,1),C.set(y,24),C}),a=8+r.reduce((s,u)=>s+u.byteLength,0),o=new Uint8Array(a);o.set(tB("ilst",a),0);let l=8;for(const s of r)o.set(s,l),l+=s.byteLength;return o},lpe=n=>{const e=ape(),t=ope(Object.keys(n)),r=spe(n),a=e.length+t.length+r.length,o=new Uint8Array(a);return o.set(e,0),o.set(t,e.length),o.set(r,e.length+t.length),o};function cpe(n){return n instanceof Error?String(n):typeof n=="object"?JSON.stringify(n,(e,t)=>t instanceof Error?String(t):t):String(n)}function upe(){const n=new Date;return`${n.getHours()}:${n.getMinutes()}:${n.getSeconds()}.${n.getMilliseconds()}`}let hG=1;const pG=[],XN=["debug","info","warn","error"].reduce((n,e,t)=>Object.assign(n,{[e]:(...r)=>{hG<=t&&(console[e](...r),pG.push({lvName:e,timeStr:upe(),args:r}))}}),{}),JS=new Map,fi={setLogLevel:n=>{hG=JS.get(n)??1},...XN,create:n=>Object.fromEntries(Object.entries(XN).map(([e,t])=>[e,(...r)=>t(n,...r)])),async dump(){return pG.reduce((n,{lvName:e,timeStr:t,args:r})=>n+`[${e}][${t}]  ${r.map(a=>cpe(a)).join(" ")}
`,"")}};JS.set(fi.debug,0);JS.set(fi.info,1);JS.set(fi.warn,2);JS.set(fi.error,3);(async function(){await Promise.resolve(),!(globalThis.navigator==null||globalThis.document==null)&&(fi.info(`@webav version: 1.0.19, date: ${new Date().toLocaleDateString()}`),fi.info(globalThis.navigator.userAgent),document.addEventListener("visibilitychange",()=>{fi.info(`visibilitychange: ${document.visibilityState}`)}),"PressureObserver"in globalThis&&new PressureObserver(n=>{fi.info(`cpu state change: ${JSON.stringify(n.map(e=>e.state))}`)}).observe("cpu"))})();function fpe(n){fi.info("recodemux opts:",n);const e=pd.createFile(),t=new Lm,r=(u,d)=>{const g=u.add("udta").add("meta");g.data=lpe(d),g.size=g.data.byteLength};let a=!1;const o=()=>{e.moov==null||a||(a=!0,n.metaDataTags!=null&&r(e.moov,n.metaDataTags),n.duration!=null&&(e.moov.mvhd.duration=n.duration))};t.once("VideoReady",o),t.once("AudioReady",o);let l=n.video!=null?dpe(n.video,e,t):null,s=n.audio!=null?ppe(n.audio,e,t):null;return n.video==null&&t.emit("VideoReady"),n.audio==null&&t.emit("AudioReady"),{encodeVideo:(u,d)=>{l==null||l.encode(u,d),u.close()},encodeAudio:u=>{if(s!=null)try{s.encode(u),u.close()}catch(d){const g=`encode audio chunk error: ${d.message}, state: ${JSON.stringify({qSize:s.encodeQueueSize,state:s.state})}`;throw fi.error(g),Error(g)}},getEncodeQueueSize:()=>(l==null?void 0:l.encodeQueueSize)??(s==null?void 0:s.encodeQueueSize)??0,flush:async()=>{await Promise.all([l==null?void 0:l.flush(),(s==null?void 0:s.state)==="configured"?s.flush():null])},close:()=>{t.destroy(),l==null||l.close(),(s==null?void 0:s.state)==="configured"&&s.close()},mp4file:e}}function dpe(n,e,t){const r={timescale:1e6,width:n.width,height:n.height,brands:["isom","iso2","avc1","mp42","mp41"],avcDecoderConfigRecord:null,name:"Track created with WebAV"};let a=-1,o=!1;t.once("AudioReady",()=>{o=!0});const l={encoder0:[],encoder1:[]},s=(b,E,T)=>{var R;if(a===-1&&T!=null){const O=(R=T.decoderConfig)==null?void 0:R.description;hpe(O),r.avcDecoderConfigRecord=O,a=e.addTrack(r),t.emit("VideoReady"),fi.info("VideoEncoder, video track ready, trackId:",a)}l[b].push(W2(E))};let u="encoder1",d=0;const g=Math.floor(1e3/n.expectFPS*1e3);function y(){if(!o)return;const b=u==="encoder1"?"encoder0":"encoder1",E=l[u],T=l[b];if(E.length===0&&T.length===0)return;let R=E[0];if(R!=null&&(!R.is_sync||R.cts-d<g)){const D=_(E);D>d&&(d=D)}const O=T[0];if(O!=null&&O.is_sync&&O.cts-d<g){u=b,y();return}if(R!=null&&R.is_sync&&O!=null&&O.is_sync)if(R.cts<=O.cts){const D=_(E);D>d&&(d=D)}else{u=b,y();return}}function _(b){let E=-1,T=0;for(;T<b.length;T++){const R=b[T];if(T>0&&R.is_sync)break;e.addSample(a,R.data,R),E=R.cts+R.duration}return b.splice(0,T),E}const C=eB(y,15),c=YN(n,(b,E)=>s("encoder0",b,E)),p=YN(n,(b,E)=>s("encoder1",b,E));let m=0;return{get encodeQueueSize(){return c.encodeQueueSize+p.encodeQueueSize},encode:(b,E)=>{try{E.keyFrame&&(m+=1),(m%2===0?c:p).encode(b,E)}catch(T){const R=`encode video frame error: ${T.message}, state: ${JSON.stringify({ts:b.timestamp,keyFrame:E.keyFrame,duration:b.duration,gopId:m})}`;throw fi.error(R),Error(R)}},flush:async()=>{await Promise.all([c.state==="configured"?await c.flush():null,p.state==="configured"?await p.flush():null]),C(),y()},close:()=>{c.state==="configured"&&c.close(),p.state==="configured"&&p.close()}}}function hpe(n){const e=new Uint8Array(n);e[2].toString(2).slice(-2).includes("1")&&(e[2]=0)}function YN(n,e){const t={codec:n.codec,framerate:n.expectFPS,hardwareAcceleration:n.__unsafe_hardwareAcceleration__,bitrate:n.bitrate,width:n.width,height:n.height,alpha:"discard",avc:{format:"avc"}},r=new VideoEncoder({error:a=>{const o=`VideoEncoder error: ${a.message}, config: ${JSON.stringify(t)}, state: ${JSON.stringify({qSize:r.encodeQueueSize,state:r.state})}`;throw fi.error(o),Error(o)},output:e});return r.configure(t),r}function ppe(n,e,t){const r={timescale:1e6,samplerate:n.sampleRate,channel_count:n.channelCount,hdlr:"soun",type:n.codec==="aac"?"mp4a":"Opus",name:"Track created with WebAV"};let a=-1,o=[],l=!1;t.once("VideoReady",()=>{l=!0,o.forEach(d=>{const g=W2(d);e.addSample(a,g.data,g)}),o=[]});const s={codec:n.codec==="aac"?"mp4a.40.2":"opus",sampleRate:n.sampleRate,numberOfChannels:n.channelCount,bitrate:128e3},u=new AudioEncoder({error:d=>{const g=`AudioEncoder error: ${d.message}, config: ${JSON.stringify(s)}, state: ${JSON.stringify({qSize:u.encodeQueueSize,state:u.state})}`;throw fi.error(g),Error(g)},output:(d,g)=>{var y;if(a===-1){const _=(y=g.decoderConfig)==null?void 0:y.description;a=e.addTrack({...r,description:_==null?void 0:mpe(_)}),t.emit("AudioReady"),fi.info("AudioEncoder, audio track ready, trackId:",a)}if(l){const _=W2(d);e.addSample(a,_.data,_)}else o.push(d)}});return u.configure(s),u}function mpe(n){const e=n.byteLength,t=new Uint8Array([0,0,0,0,3,23+e,0,2,0,4,18+e,64,21,0,0,0,0,0,0,0,0,0,0,0,5,e,...new Uint8Array(n instanceof ArrayBuffer?n:n.buffer),6,1,2]),r=new pd.BoxParser.esdsBox(t.byteLength);return r.hdr_size=0,r.parse(new pd.DataStream(t,0,pd.DataStream.BIG_ENDIAN)),r}function W2(n){const e=new ArrayBuffer(n.byteLength);n.copyTo(e);const t=n.timestamp;return{duration:n.duration??0,dts:t,cts:t,is_sync:n.type==="key",data:e}}class gpe{constructor(e,t,r){this.length_=e,this.scaleFactor_=(e-1)/t,this.interpolate=this.cubic,r.method==="point"?this.interpolate=this.point:r.method==="linear"?this.interpolate=this.linear:r.method==="sinc"&&(this.interpolate=this.sinc),this.tangentFactor_=1-Math.max(0,Math.min(1,r.tension||0)),this.sincFilterSize_=r.sincFilterSize||1,this.kernel_=ype(r.sincWindow||vpe)}point(e,t){return this.getClippedInput_(Math.round(this.scaleFactor_*e),t)}linear(e,t){e=this.scaleFactor_*e;let r=Math.floor(e);return e-=r,(1-e)*this.getClippedInput_(r,t)+e*this.getClippedInput_(r+1,t)}cubic(e,t){e=this.scaleFactor_*e;let r=Math.floor(e),a=[this.getTangent_(r,t),this.getTangent_(r+1,t)],o=[this.getClippedInput_(r,t),this.getClippedInput_(r+1,t)];e-=r;let l=e*e,s=e*l;return(2*s-3*l+1)*o[0]+(s-2*l+e)*a[0]+(-2*s+3*l)*o[1]+(s-l)*a[1]}sinc(e,t){e=this.scaleFactor_*e;let r=Math.floor(e),a=r-this.sincFilterSize_+1,o=r+this.sincFilterSize_,l=0;for(let s=a;s<=o;s++)l+=this.kernel_(e-s)*this.getClippedInput_(s,t);return l}getTangent_(e,t){return this.tangentFactor_*(this.getClippedInput_(e+1,t)-this.getClippedInput_(e-1,t))/2}getClippedInput_(e,t){return 0<=e&&e<this.length_?t[e]:0}}function vpe(n){return Math.exp(-n/2*n/2)}function ype(n){return function(e){return bpe(e)*n(e)}}function bpe(n){return n===0?1:Math.sin(Math.PI*n)/(Math.PI*n)}class Spe{constructor(e,t,r){let a=2*Math.PI*r/t,o=0;this.filters=[];for(let l=0;l<=e;l++)l-e/2===0?this.filters[l]=a:(this.filters[l]=Math.sin(a*(l-e/2))/(l-e/2),this.filters[l]*=.54-.46*Math.cos(2*Math.PI*l/e)),o=o+this.filters[l];for(let l=0;l<=e;l++)this.filters[l]/=o;this.z=this.initZ_()}filter(e){this.z.buf[this.z.pointer]=e;let t=0;for(let r=0,a=this.z.buf.length;r<a;r++)t+=this.filters[r]*this.z.buf[(this.z.pointer+r)%this.z.buf.length];return this.z.pointer=(this.z.pointer+1)%this.z.buf.length,t}reset(){this.z=this.initZ_()}initZ_(){let e=[];for(let t=0;t<this.filters.length-1;t++)e.push(0);return{buf:e,pointer:0}}}class _pe{constructor(e,t,r){let a=[];for(let o=0;o<e;o++)a.push(this.getCoeffs_({Fs:t,Fc:r,Q:.5/Math.sin(Math.PI/(e*2)*(o+.5))}));this.stages=[];for(let o=0;o<a.length;o++)this.stages[o]={b0:a[o].b[0],b1:a[o].b[1],b2:a[o].b[2],a1:a[o].a[0],a2:a[o].a[1],k:a[o].k,z:[0,0]}}filter(e){let t=e;for(let r=0,a=this.stages.length;r<a;r++)t=this.runStage_(r,t);return t}getCoeffs_(e){let t={};t.z=[0,0],t.a=[],t.b=[];let r=this.preCalc_(e,t);return t.k=1,t.b.push((1-r.cw)/(2*r.a0)),t.b.push(2*t.b[0]),t.b.push(t.b[0]),t}preCalc_(e,t){let r={},a=2*Math.PI*e.Fc/e.Fs;return r.alpha=Math.sin(a)/(2*e.Q),r.cw=Math.cos(a),r.a0=1+r.alpha,t.a0=r.a0,t.a.push(-2*r.cw/r.a0),t.k=1,t.a.push((1-r.alpha)/r.a0),r}runStage_(e,t){let r=t*this.stages[e].k-this.stages[e].a1*this.stages[e].z[0]-this.stages[e].a2*this.stages[e].z[1],a=this.stages[e].b0*r+this.stages[e].b1*this.stages[e].z[0]+this.stages[e].b2*this.stages[e].z[1];return this.stages[e].z[1]=this.stages[e].z[0],this.stages[e].z[0]=r,a}reset(){for(let e=0;e<this.stages.length;e++)this.stages[e].z=[0,0]}}const xpe={point:!1,linear:!1,cubic:!0,sinc:!0},qN={IIR:16,FIR:71},Cpe={IIR:_pe,FIR:Spe};function Epe(n,e,t,r={}){let a=(t-e)/e+1,o=new Float64Array(n.length*a);r.method=r.method||"cubic";let l=new gpe(n.length,o.length,{method:r.method,tension:r.tension||0,sincFilterSize:r.sincFilterSize||6,sincWindow:r.sincWindow||void 0});if(r.LPF===void 0&&(r.LPF=xpe[r.method]),r.LPF){r.LPFType=r.LPFType||"IIR";const s=Cpe[r.LPFType];if(t>e){let u=new s(r.LPFOrder||qN[r.LPFType],t,e/2);wpe(n,o,l,u)}else{let u=new s(r.LPFOrder||qN[r.LPFType],e,t/2);Ape(n,o,l,u)}}else mG(n,o,l);return o}function mG(n,e,t){for(let r=0,a=e.length;r<a;r++)e[r]=t.interpolate(r,n)}function wpe(n,e,t,r){for(let a=0,o=e.length;a<o;a++)e[a]=r.filter(t.interpolate(a,n));r.reset();for(let a=e.length-1;a>=0;a--)e[a]=r.filter(e[a])}function Ape(n,e,t,r){for(let a=0,o=n.length;a<o;a++)n[a]=r.filter(n[a]);r.reset();for(let a=n.length-1;a>=0;a--)n[a]=r.filter(n[a]);mG(n,e,t)}var gG=n=>{throw TypeError(n)},vG=(n,e,t)=>e.has(n)||gG("Cannot "+t),nr=(n,e,t)=>(vG(n,e,"read from private field"),t?t.call(n):e.get(n)),Oc=(n,e,t)=>e.has(n)?gG("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Nl=(n,e,t,r)=>(vG(n,e,"write to private field"),e.set(n,t),t);const yG="KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHUobil7aWYobj09PSIvIilyZXR1cm57cGFyZW50Om51bGwsbmFtZToiIn07Y29uc3QgZT1uLnNwbGl0KCIvIikuZmlsdGVyKGk9PmkubGVuZ3RoPjApO2lmKGUubGVuZ3RoPT09MCl0aHJvdyBFcnJvcigiSW52YWxpZCBwYXRoIik7Y29uc3QgYT1lW2UubGVuZ3RoLTFdLHI9Ii8iK2Uuc2xpY2UoMCwtMSkuam9pbigiLyIpO3JldHVybntuYW1lOmEscGFyZW50OnJ9fWFzeW5jIGZ1bmN0aW9uIHcobixlKXtjb25zdHtwYXJlbnQ6YSxuYW1lOnJ9PXUobik7aWYoYT09bnVsbClyZXR1cm4gYXdhaXQgbmF2aWdhdG9yLnN0b3JhZ2UuZ2V0RGlyZWN0b3J5KCk7Y29uc3QgaT1hLnNwbGl0KCIvIikuZmlsdGVyKHQ9PnQubGVuZ3RoPjApO3RyeXtsZXQgdD1hd2FpdCBuYXZpZ2F0b3Iuc3RvcmFnZS5nZXREaXJlY3RvcnkoKTtmb3IoY29uc3QgcyBvZiBpKXQ9YXdhaXQgdC5nZXREaXJlY3RvcnlIYW5kbGUocyx7Y3JlYXRlOmUuY3JlYXRlfSk7aWYoZS5pc0ZpbGUpcmV0dXJuIGF3YWl0IHQuZ2V0RmlsZUhhbmRsZShyLHtjcmVhdGU6ZS5jcmVhdGV9KX1jYXRjaCh0KXtpZih0Lm5hbWU9PT0iTm90Rm91bmRFcnJvciIpcmV0dXJuIG51bGw7dGhyb3cgdH19Y29uc3QgZj17fTtzZWxmLm9ubWVzc2FnZT1hc3luYyBuPT57dmFyIGk7Y29uc3R7ZXZ0VHlwZTplLGFyZ3M6YX09bi5kYXRhO2xldCByPWZbYS5maWxlSWRdO3RyeXtsZXQgdDtjb25zdCBzPVtdO2lmKGU9PT0icmVnaXN0ZXIiKXtjb25zdCBsPWF3YWl0IHcoYS5maWxlUGF0aCx7Y3JlYXRlOiEwLGlzRmlsZTohMH0pO2lmKGw9PW51bGwpdGhyb3cgRXJyb3IoYG5vdCBmb3VuZCBmaWxlOiAke2EuZmlsZUlkfWApO3I9YXdhaXQgbC5jcmVhdGVTeW5jQWNjZXNzSGFuZGxlKHttb2RlOmEubW9kZX0pLGZbYS5maWxlSWRdPXJ9ZWxzZSBpZihlPT09ImNsb3NlIilhd2FpdCByLmNsb3NlKCksZGVsZXRlIGZbYS5maWxlSWRdO2Vsc2UgaWYoZT09PSJ0cnVuY2F0ZSIpYXdhaXQgci50cnVuY2F0ZShhLm5ld1NpemUpO2Vsc2UgaWYoZT09PSJ3cml0ZSIpe2NvbnN0e2RhdGE6bCxvcHRzOm99PW4uZGF0YS5hcmdzO3Q9YXdhaXQgci53cml0ZShsLG8pfWVsc2UgaWYoZT09PSJyZWFkIil7Y29uc3R7b2Zmc2V0Omwsc2l6ZTpvfT1uLmRhdGEuYXJncyxnPW5ldyBVaW50OEFycmF5KG8pLGQ9YXdhaXQgci5yZWFkKGcse2F0Omx9KSxjPWcuYnVmZmVyO3Q9ZD09PW8/YzooKGk9Yy50cmFuc2Zlcik9PW51bGw/dm9pZCAwOmkuY2FsbChjLGQpKT8/Yy5zbGljZSgwLGQpLHMucHVzaCh0KX1lbHNlIGU9PT0iZ2V0U2l6ZSI/dD1hd2FpdCByLmdldFNpemUoKTplPT09ImZsdXNoIiYmYXdhaXQgci5mbHVzaCgpO3NlbGYucG9zdE1lc3NhZ2Uoe2V2dFR5cGU6ImNhbGxiYWNrIixjYklkOm4uZGF0YS5jYklkLHJldHVyblZhbDp0fSxzKX1jYXRjaCh0KXtjb25zdCBzPXQ7c2VsZi5wb3N0TWVzc2FnZSh7ZXZ0VHlwZToidGhyb3dFcnJvciIsY2JJZDpuLmRhdGEuY2JJZCxlcnJNc2c6cy5uYW1lKyI6ICIrcy5tZXNzYWdlK2AKYCtKU09OLnN0cmluZ2lmeShuLmRhdGEpfSl9fX0pKCk7Ci8vIyBzb3VyY2VNYXBwaW5nVVJMPW9wZnMtd29ya2VyLUY0UldscWNfLmpzLm1hcAo=",Mpe=n=>Uint8Array.from(atob(n),e=>e.charCodeAt(0)),KN=typeof self<"u"&&self.Blob&&new Blob([Mpe(yG)],{type:"text/javascript;charset=utf-8"});function Tpe(n){let e;try{if(e=KN&&(self.URL||self.webkitURL).createObjectURL(KN),!e)throw"";const t=new Worker(e,{name:n==null?void 0:n.name});return t.addEventListener("error",()=>{(self.URL||self.webkitURL).revokeObjectURL(e)}),t}catch{return new Worker("data:text/javascript;base64,"+yG,{name:n==null?void 0:n.name})}finally{e&&(self.URL||self.webkitURL).revokeObjectURL(e)}}async function Rpe(n,e,t){const r=Ope();return await r("register",{fileId:n,filePath:e,mode:t}),{read:async(a,o)=>await r("read",{fileId:n,offset:a,size:o}),write:async(a,o)=>await r("write",{fileId:n,data:a,opts:o},[ArrayBuffer.isView(a)?a.buffer:a]),close:async()=>await r("close",{fileId:n}),truncate:async a=>await r("truncate",{fileId:n,newSize:a}),getSize:async()=>await r("getSize",{fileId:n}),flush:async()=>await r("flush",{fileId:n})}}const CC=[];let eR=0;function Ope(){if(CC.length<3){const e=n();return CC.push(e),e}else{const e=CC[eR];return eR=(eR+1)%CC.length,e}function n(){const e=new Tpe;let t=0,r={};return e.onmessage=({data:a})=>{var o,l;a.evtType==="callback"?(o=r[a.cbId])==null||o.resolve(a.returnVal):a.evtType==="throwError"&&((l=r[a.cbId])==null||l.reject(Error(a.errMsg))),delete r[a.cbId]},async function(a,o,l=[]){t+=1;const s=new Promise((u,d)=>{r[t]={resolve:u,reject:d}});return e.postMessage({cbId:t,evtType:a,args:o},l),s}}}function mA(n){if(n==="/")return{parent:null,name:""};const e=n.split("/").filter(a=>a.length>0);if(e.length===0)throw Error("Invalid path");const t=e[e.length-1],r="/"+e.slice(0,-1).join("/");return{name:t,parent:r}}async function Rh(n,e){const{parent:t,name:r}=mA(n);if(t==null)return await navigator.storage.getDirectory();const a=t.split("/").filter(o=>o.length>0);try{let o=await navigator.storage.getDirectory();for(const l of a)o=await o.getDirectoryHandle(l,{create:e.create});return e.isFile?await o.getFileHandle(r,{create:e.create}):await o.getDirectoryHandle(r,{create:e.create})}catch(o){if(o.name==="NotFoundError")return null;throw o}}async function bG(n){const{parent:e,name:t}=mA(n);if(e==null){const a=await navigator.storage.getDirectory();for await(const o of a.keys())await a.removeEntry(o,{recursive:!0});return}const r=await Rh(e,{create:!1,isFile:!1});r!=null&&await r.removeEntry(t,{recursive:!0})}function X2(n,e){return`${n}/${e}`.replace("//","/")}function Hv(n){return new _G(n)}var Uu,KC,hb;const Ipe=class SG{constructor(e){Oc(this,Uu),Oc(this,KC),Oc(this,hb),Nl(this,Uu,e);const{parent:t,name:r}=mA(e);Nl(this,KC,r),Nl(this,hb,t)}get kind(){return"dir"}get name(){return nr(this,KC)}get path(){return nr(this,Uu)}get parent(){return nr(this,hb)==null?null:Hv(nr(this,hb))}async create(){return await Rh(nr(this,Uu),{create:!0,isFile:!1}),Hv(nr(this,Uu))}async exists(){return await Rh(nr(this,Uu),{create:!1,isFile:!1})instanceof FileSystemDirectoryHandle}async remove(){for(const e of await this.children())try{await e.remove()}catch(t){console.warn(t)}try{await bG(nr(this,Uu))}catch(e){console.warn(e)}}async children(){const e=await Rh(nr(this,Uu),{create:!1,isFile:!1});if(e==null)return[];const t=[];for await(const r of e.values())t.push((r.kind==="file"?QS:Hv)(X2(nr(this,Uu),r.name)));return t}async copyTo(e){if(!await this.exists())throw Error(`dir ${this.path} not exists`);if(e instanceof SG){const t=await e.exists()?Hv(X2(e.path,this.name)):e;await t.create(),await Promise.all((await this.children()).map(r=>r.copyTo(t)));return}else if(e instanceof FileSystemDirectoryHandle){await Promise.all((await this.children()).map(async t=>{t.kind==="file"?await t.copyTo(await e.getFileHandle(t.name,{create:!0})):await t.copyTo(await e.getDirectoryHandle(t.name,{create:!0}))}));return}throw Error("Illegal target type")}async moveTo(e){await this.copyTo(e),await this.remove()}};Uu=new WeakMap,KC=new WeakMap,hb=new WeakMap;let _G=Ipe;const JN=new Map;function QS(n,e="rw"){if(e==="rw"){const t=JN.get(n)??new FE(n,e);return JN.set(n,t),t}return new FE(n,e)}async function nB(n,e,t={overwrite:!0}){if(e instanceof FE){await nB(n,await e.stream(),t);return}const r=await(n instanceof FE?n:QS(n,"rw")).createWriter();try{if(t.overwrite&&await r.truncate(0),e instanceof ReadableStream){const a=e.getReader();for(;;){const{done:o,value:l}=await a.read();if(o)break;await r.write(l)}}else await r.write(e)}catch(a){throw a}finally{await r.close()}}let Bpe=0;const Dpe=()=>++Bpe;var Fu,pb,JC,mb,QC,vh,ZC,gb;const Ppe=class xG{constructor(e,t){Oc(this,Fu),Oc(this,pb),Oc(this,JC),Oc(this,mb),Oc(this,QC),Oc(this,vh,0),Oc(this,ZC,(()=>{let o=null;return()=>(Nl(this,vh,nr(this,vh)+1),o??(o=new Promise(async(l,s)=>{try{const u=await Rpe(nr(this,QC),nr(this,Fu),nr(this,mb));l([u,async()=>{Nl(this,vh,nr(this,vh)-1),!(nr(this,vh)>0)&&(o=null,await u.close())}])}catch(u){s(u)}})))})()),Oc(this,gb,!1),Nl(this,QC,Dpe()),Nl(this,Fu,e),Nl(this,mb,{r:"read-only",rw:"readwrite","rw-unsafe":"readwrite-unsafe"}[t]);const{parent:r,name:a}=mA(e);if(r==null)throw Error("Invalid path");Nl(this,JC,a),Nl(this,pb,r)}get kind(){return"file"}get path(){return nr(this,Fu)}get name(){return nr(this,JC)}get parent(){return nr(this,pb)==null?null:Hv(nr(this,pb))}async createWriter(){if(nr(this,mb)==="read-only")throw Error("file is read-only");if(nr(this,gb))throw Error("Other writer have not been closed");Nl(this,gb,!0);const e=new TextEncoder,[t,r]=await nr(this,ZC).call(this);let a=await t.getSize(),o=!1;return{write:async(l,s={})=>{if(o)throw Error("Writer is closed");const u=typeof l=="string"?e.encode(l):l,d=s.at??a,g=u.byteLength;return a=d+g,await t.write(u,{at:d})},truncate:async l=>{if(o)throw Error("Writer is closed");await t.truncate(l),a>l&&(a=l)},flush:async()=>{if(o)throw Error("Writer is closed");await t.flush()},close:async()=>{if(o)throw Error("Writer is closed");o=!0,Nl(this,gb,!1),await r()}}}async createReader(){const[e,t]=await nr(this,ZC).call(this);let r=!1,a=0;return{read:async(o,l={})=>{if(r)throw Error("Reader is closed");const s=l.at??a,u=await e.read(s,o);return a=s+u.byteLength,u},getSize:async()=>{if(r)throw Error("Reader is closed");return await e.getSize()},close:async()=>{r||(r=!0,await t())}}}async text(){return new TextDecoder().decode(await this.arrayBuffer())}async arrayBuffer(){const e=await Rh(nr(this,Fu),{create:!1,isFile:!0});return e==null?new ArrayBuffer(0):(await e.getFile()).arrayBuffer()}async stream(){const e=await this.getOriginFile();return e==null?new ReadableStream({pull:t=>{t.close()}}):e.stream()}async getOriginFile(){var e;return(e=await Rh(nr(this,Fu),{create:!1,isFile:!0}))==null?void 0:e.getFile()}async getSize(){const e=await Rh(nr(this,Fu),{create:!1,isFile:!0});return e==null?0:(await e.getFile()).size}async exists(){return await Rh(nr(this,Fu),{create:!1,isFile:!0})instanceof FileSystemFileHandle}async remove(){if(nr(this,vh))throw Error("exists unclosed reader/writer");await bG(nr(this,Fu))}async copyTo(e){if(e instanceof xG){if(e.path===this.path)return;await nB(e.path,this);return}else if(e instanceof _G){if(!await this.exists())throw Error(`file ${this.path} not exists`);return await this.copyTo(QS(X2(e.path,this.name)))}else if(e instanceof FileSystemFileHandle){await(await this.stream()).pipeTo(await e.createWritable());return}throw Error("Illegal target type")}async moveTo(e){await this.copyTo(e),await this.remove()}};Fu=new WeakMap,pb=new WeakMap,JC=new WeakMap,mb=new WeakMap,QC=new WeakMap,vh=new WeakMap,ZC=new WeakMap,gb=new WeakMap;let FE=Ppe;const iB="/.opfs-tools-temp-dir";async function CG(n){try{if(n.kind==="file"){if(!await n.exists())return!0;const e=await n.createWriter();await e.truncate(0),await e.close(),await n.remove()}else await n.remove();return!0}catch(e){return console.warn(e),!1}}function Lpe(){setInterval(async()=>{for(const n of await Hv(iB).children()){const e=/^\d+-(\d+)$/.exec(n.name);(e==null||Date.now()-Number(e[1])>2592e5)&&await CG(n)}},60*1e3)}const Y2=[];let QN=!1;async function Npe(){if(globalThis.localStorage==null)return;const n="OPFS_TOOLS_EXPIRES_TMP_FILES";QN||(QN=!0,globalThis.addEventListener("unload",()=>{Y2.length!==0&&localStorage.setItem(n,`${localStorage.getItem(n)??""},${Y2.join(",")}`)}));let e=localStorage.getItem(n)??"";for(const t of e.split(","))t.length!==0&&await CG(QS(`${iB}/${t}`))&&(e=e.replace(t,""));localStorage.setItem(n,e.replace(/,{2,}/g,","))}(async function(){var n;globalThis.__opfs_tools_tmpfile_init__!==!0&&(globalThis.__opfs_tools_tmpfile_init__=!0,!(globalThis.FileSystemDirectoryHandle==null||globalThis.FileSystemFileHandle==null||((n=globalThis.navigator)==null?void 0:n.storage.getDirectory)==null)&&(Lpe(),await Npe()))})();function zpe(){const n=`${Math.random().toString().slice(2)}-${Date.now()}`;return Y2.push(n),QS(`${iB}/${n}`)}var Upe=Object.defineProperty,EG=n=>{throw TypeError(n)},Fpe=(n,e,t)=>e in n?Upe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Yr=(n,e,t)=>Fpe(n,typeof e!="symbol"?e+"":e,t),rB=(n,e,t)=>e.has(n)||EG("Cannot "+t),_e=(n,e,t)=>(rB(n,e,"read from private field"),t?t.call(n):e.get(n)),Xt=(n,e,t)=>e.has(n)?EG("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),$t=(n,e,t,r)=>(rB(n,e,"write to private field"),e.set(n,t),t),Uc=(n,e,t)=>(rB(n,e,"access private method"),t);function Hpe(n){if(n.format==="f32-planar"){const e=[];for(let t=0;t<n.numberOfChannels;t+=1){const r=n.allocationSize({planeIndex:t}),a=new ArrayBuffer(r);n.copyTo(a,{planeIndex:t}),e.push(new Float32Array(a))}return e}else if(n.format==="f32"){const e=new ArrayBuffer(n.allocationSize({planeIndex:0}));return n.copyTo(e,{planeIndex:0}),kpe(new Float32Array(e),n.numberOfChannels)}else if(n.format==="s16"){const e=new ArrayBuffer(n.allocationSize({planeIndex:0}));return n.copyTo(e,{planeIndex:0}),Gpe(new Int16Array(e),n.numberOfChannels)}throw Error("Unsupported audio data format")}function Gpe(n,e){const t=n.length/e,r=Array.from({length:e},()=>new Float32Array(t));for(let a=0;a<t;a++)for(let o=0;o<e;o++){const l=n[a*e+o];r[o][a]=l/32768}return r}function kpe(n,e){const t=n.length/e,r=Array.from({length:e},()=>new Float32Array(t));for(let a=0;a<t;a++)for(let o=0;o<e;o++)r[o][a]=n[a*e+o];return r}function wG(n){return Array(n.numberOfChannels).fill(0).map((e,t)=>n.getChannelData(t))}async function $pe(n,e){var t;const r={type:e,data:n},a=new ImageDecoder(r);await Promise.all([a.completed,a.tracks.ready]);let o=((t=a.tracks.selectedTrack)==null?void 0:t.frameCount)??1;const l=[];for(let s=0;s<o;s+=1)l.push((await a.decode({frameIndex:s})).image);return l}async function Vpe(n,e,t){const r=n.length,a=Array(t.chanCount).fill(0).map(()=>new Float32Array(0));if(r===0)return a;const o=Math.max(...n.map(d=>d.length));if(o===0)return a;if(globalThis.OfflineAudioContext==null)return n.map(d=>new Float32Array(Epe(d,e,t.rate,{method:"sinc",LPF:!1})));const l=new globalThis.OfflineAudioContext(t.chanCount,o*t.rate/e,t.rate),s=l.createBufferSource(),u=l.createBuffer(r,o,e);return n.forEach((d,g)=>u.copyToChannel(d,g)),s.buffer=u,s.connect(l.destination),s.start(),wG(await l.startRendering())}function aB(n){return new Promise(e=>{const t=eB(()=>{t(),e()},n)})}function ZN(n,e,t){const r=t-e,a=new Float32Array(r);let o=0;for(;o<r;)a[o]=n[(e+o)%n.length],o+=1;return a}function AG(n,e){const t=Math.floor(n.length/e),r=new Float32Array(t);for(let a=0;a<t;a++){const o=a*e,l=Math.floor(o),s=o-l;l+1<n.length?r[a]=n[l]*(1-s)+n[l+1]*s:r[a]=n[l]}return r}const Wr={sampleRate:48e3,channelCount:2,codec:"mp4a.40.2"};function jpe(n,e){const t=e.videoTracks[0],r={};if(t!=null){const o=Wpe(n.getTrackById(t.id)).buffer,{descKey:l,type:s}=t.codec.startsWith("avc1")?{descKey:"avcDecoderConfigRecord",type:"avc1"}:t.codec.startsWith("hvc1")?{descKey:"hevcDecoderConfigRecord",type:"hvc1"}:{descKey:"",type:""};l!==""&&(r.videoTrackConf={timescale:t.timescale,duration:t.duration,width:t.video.width,height:t.video.height,brands:e.brands,type:s,[l]:o}),r.videoDecoderConf={codec:t.codec,codedHeight:t.video.height,codedWidth:t.video.width,description:o}}const a=e.audioTracks[0];if(a!=null){const o=ez(n);r.audioTrackConf={timescale:a.timescale,samplerate:a.audio.sample_rate,channel_count:a.audio.channel_count,hdlr:"soun",type:a.codec.startsWith("mp4a")?"mp4a":a.codec,description:ez(n)},r.audioDecoderConf={codec:a.codec.startsWith("mp4a")?Wr.codec:a.codec,numberOfChannels:a.audio.channel_count,sampleRate:a.audio.sample_rate,...o==null?{}:Xpe(o)}}return r}function Wpe(n){for(const e of n.mdia.minf.stbl.stsd.entries){const t=e.avcC??e.hvcC??e.av1C??e.vpcC;if(t!=null){const r=new pd.DataStream(void 0,0,pd.DataStream.BIG_ENDIAN);return t.write(r),new Uint8Array(r.buffer.slice(8))}}throw Error("avcC, hvcC, av1C or VPX not found")}function ez(n,e="mp4a"){var t;const r=(t=n.moov)==null?void 0:t.traks.map(a=>a.mdia.minf.stbl.stsd.entries).flat().find(({type:a})=>a===e);return r==null?void 0:r.esds}function Xpe(n){var e;const t=(e=n.esd.descs[0])==null?void 0:e.descs[0];if(t==null)return{};const[r,a]=t.data,o=((r&7)<<1)+(a>>7),l=(a&127)>>3;return{sampleRate:[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350][o],numberOfChannels:l}}async function Ype(n,e,t){const r=pd.createFile(!1);r.onReady=o=>{var l,s;e({mp4boxFile:r,info:o});const u=(l=o.videoTracks[0])==null?void 0:l.id;u!=null&&r.setExtractionOptions(u,"video",{nbSamples:100});const d=(s=o.audioTracks[0])==null?void 0:s.id;d!=null&&r.setExtractionOptions(d,"audio",{nbSamples:100}),r.start()},r.onSamples=t,await a();async function a(){let o=0;const l=30*1024*1024;for(;;){const s=await n.read(l,{at:o});if(s.byteLength===0)break;s.fileStart=o;const u=r.appendBuffer(s);if(u==null)break;o=u}r.stop()}}let oB=0;function tR(n){return n.kind==="file"&&n.createReader instanceof Function}var q2,e1,t1,Hu,As,Vf,n1,Gu,Xp,vb,mv,jf,Ks,yb;const qpe=class gv{constructor(e,t={}){if(Xt(this,q2,oB++),Xt(this,e1,fi.create(`MP4Clip id:${_e(this,q2)},`)),Yr(this,"ready"),Xt(this,t1,!1),Xt(this,Hu,{duration:0,width:0,height:0,audioSampleRate:0,audioChanCount:0}),Xt(this,As),Xt(this,Vf,[]),Xt(this,n1,1),Xt(this,Gu,[]),Xt(this,Xp,[]),Xt(this,vb,null),Xt(this,mv,null),Xt(this,jf,{video:null,audio:null}),Xt(this,Ks,{audio:!0}),Yr(this,"tickInterceptor",async(a,o)=>o),Xt(this,yb,new AbortController),!(e instanceof ReadableStream)&&!tR(e)&&!Array.isArray(e.videoSamples))throw Error("Illegal argument");$t(this,Ks,{audio:!0,...t}),$t(this,n1,typeof t.audio=="object"&&"volume"in t.audio?t.audio.volume:1);const r=async a=>(await nB(_e(this,As),a),_e(this,As));$t(this,As,tR(e)?e:"localFile"in e?e.localFile:zpe()),this.ready=(e instanceof ReadableStream?r(e).then(a=>nz(a,_e(this,Ks))):tR(e)?nz(e,_e(this,Ks)):Promise.resolve(e)).then(async({videoSamples:a,audioSamples:o,decoderConf:l,headerBoxPos:s})=>{$t(this,Gu,a),$t(this,Xp,o),$t(this,jf,l),$t(this,Vf,s);const{videoFrameFinder:u,audioFrameFinder:d}=Jpe({video:l.video==null?null:{...l.video,hardwareAcceleration:_e(this,Ks).__unsafe_hardwareAcceleration__},audio:l.audio},await _e(this,As).createReader(),a,o,_e(this,Ks).audio!==!1?_e(this,n1):0);return $t(this,vb,u),$t(this,mv,d),$t(this,Hu,Kpe(l,a,o)),_e(this,e1).info("MP4Clip meta:",_e(this,Hu)),{..._e(this,Hu)}})}get meta(){return{..._e(this,Hu)}}async getFileHeaderBinData(){await this.ready;const e=await _e(this,As).getOriginFile();if(e==null)throw Error("MP4Clip localFile is not origin file");return await new Blob(_e(this,Vf).map(({start:t,size:r})=>e.slice(t,t+r))).arrayBuffer()}async tick(e){var t,r,a;if(e>=_e(this,Hu).duration)return await this.tickInterceptor(e,{audio:await((t=_e(this,mv))==null?void 0:t.find(e))??[],state:"done"});const[o,l]=await Promise.all([((r=_e(this,mv))==null?void 0:r.find(e))??[],(a=_e(this,vb))==null?void 0:a.find(e)]);return l==null?await this.tickInterceptor(e,{audio:o,state:"success"}):await this.tickInterceptor(e,{video:l,audio:o,state:"success"})}async thumbnails(e=100,t){_e(this,yb).abort(),$t(this,yb,new AbortController);const r=_e(this,yb).signal;await this.ready;const a="generate thumbnails aborted";if(r.aborted)throw Error(a);const{width:o,height:l}=_e(this,Hu),s=nme(e,Math.round(l*(e/o)),{quality:.1,type:"image/png"});return new Promise(async(u,d)=>{let g=[];const y=_e(this,jf).video;if(y==null||_e(this,Gu).length===0){_();return}r.addEventListener("abort",()=>{d(Error(a))});async function _(){r.aborted||u(await Promise.all(g.map(async b=>({ts:b.ts,img:await b.img}))))}function C(b){g.push({ts:b.timestamp,img:s(b)})}const{start:c=0,end:p=_e(this,Hu).duration,step:m}=t??{};if(m){let b=c;const E=new MG(await _e(this,As).createReader(),_e(this,Gu),{...y,hardwareAcceleration:_e(this,Ks).__unsafe_hardwareAcceleration__});for(;b<=p&&!r.aborted;){const T=await E.find(b);T&&C(T),b+=m}E.destroy(),_()}else await ome(_e(this,Gu),_e(this,As),y,r,{start:c,end:p},(b,E)=>{b!=null&&C(b),E&&_()})})}async split(e){if(await this.ready,e<=0||e>=_e(this,Hu).duration)throw Error('"time" out of bounds');const[t,r]=ime(_e(this,Gu),e),[a,o]=rme(_e(this,Xp),e),l=new gv({localFile:_e(this,As),videoSamples:t??[],audioSamples:a??[],decoderConf:_e(this,jf),headerBoxPos:_e(this,Vf)},_e(this,Ks)),s=new gv({localFile:_e(this,As),videoSamples:r??[],audioSamples:o??[],decoderConf:_e(this,jf),headerBoxPos:_e(this,Vf)},_e(this,Ks));return await Promise.all([l.ready,s.ready]),[l,s]}async clone(){await this.ready;const e=new gv({localFile:_e(this,As),videoSamples:[..._e(this,Gu)],audioSamples:[..._e(this,Xp)],decoderConf:_e(this,jf),headerBoxPos:_e(this,Vf)},_e(this,Ks));return await e.ready,e.tickInterceptor=this.tickInterceptor,e}async splitTrack(){await this.ready;const e=[];if(_e(this,Gu).length>0){const t=new gv({localFile:_e(this,As),videoSamples:[..._e(this,Gu)],audioSamples:[],decoderConf:{video:_e(this,jf).video,audio:null},headerBoxPos:_e(this,Vf)},_e(this,Ks));await t.ready,t.tickInterceptor=this.tickInterceptor,e.push(t)}if(_e(this,Xp).length>0){const t=new gv({localFile:_e(this,As),videoSamples:[],audioSamples:[..._e(this,Xp)],decoderConf:{audio:_e(this,jf).audio,video:null},headerBoxPos:_e(this,Vf)},_e(this,Ks));await t.ready,t.tickInterceptor=this.tickInterceptor,e.push(t)}return e}destroy(){var e,t;_e(this,t1)||(_e(this,e1).info("MP4Clip destroy"),$t(this,t1,!0),(e=_e(this,vb))==null||e.destroy(),(t=_e(this,mv))==null||t.destroy())}};q2=new WeakMap,e1=new WeakMap,t1=new WeakMap,Hu=new WeakMap,As=new WeakMap,Vf=new WeakMap,n1=new WeakMap,Gu=new WeakMap,Xp=new WeakMap,vb=new WeakMap,mv=new WeakMap,jf=new WeakMap,Ks=new WeakMap,yb=new WeakMap;let tz=qpe;function Kpe(n,e,t){const r={duration:0,width:0,height:0,audioSampleRate:0,audioChanCount:0};n.video!=null&&e.length>0&&(r.width=n.video.codedWidth??0,r.height=n.video.codedHeight??0),n.audio!=null&&t.length>0&&(r.audioSampleRate=Wr.sampleRate,r.audioChanCount=Wr.channelCount);let a=0,o=0;if(e.length>0)for(let l=e.length-1;l>=0;l--){const s=e[l];if(!s.deleted){a=s.cts+s.duration;break}}if(t.length>0){const l=t.at(-1);o=l.cts+l.duration}return r.duration=Math.max(a,o),r}function Jpe(n,e,t,r,a){return{audioFrameFinder:a===0||n.audio==null||r.length===0?null:new Zpe(e,r,n.audio,{volume:a,targetSampleRate:Wr.sampleRate}),videoFrameFinder:n.video==null||t.length===0?null:new MG(e,t,n.video)}}async function nz(n,e={}){let t=null;const r={video:null,audio:null};let a=[],o=[],l=[],s=-1,u=-1;const d=await n.createReader();await Ype(d,_=>{t=_.info;const C=_.mp4boxFile.ftyp;l.push({start:C.start,size:C.size});const c=_.mp4boxFile.moov;l.push({start:c.start,size:c.size});let{videoDecoderConf:p,audioDecoderConf:m}=jpe(_.mp4boxFile,_.info);r.video=p??null,r.audio=m??null,p==null&&m==null&&fi.error("MP4Clip no video and audio track"),fi.info("mp4BoxFile moov ready",{..._.info,tracks:null,videoTracks:null,audioTracks:null},r)},(_,C,c)=>{if(C==="video"){s===-1&&(s=c[0].dts);for(const p of c)a.push(y(p,s,"video"))}else if(C==="audio"&&e.audio){u===-1&&(u=c[0].dts);for(const p of c)o.push(y(p,u,"audio"))}}),await d.close();const g=a.at(-1)??o.at(-1);if(t==null)throw Error("MP4Clip stream is done, but not emit ready");if(g==null)throw Error("MP4Clip stream not contain any sample");return Z2(a),fi.info("mp4 stream parsed"),{videoSamples:a,audioSamples:o,decoderConf:r,headerBoxPos:l};function y(_,C=0,c){const p=c==="video"&&_.is_sync?ame(_.data,_.description.type):-1;let m=_.offset,b=_.size;return p>=0&&(m+=p,b-=p),{..._,is_idr:p>=0,offset:m,size:b,cts:(_.cts-C)/_.timescale*1e6,dts:(_.dts-C)/_.timescale*1e6,duration:_.duration/_.timescale*1e6,timescale:1e6,data:c==="video"?null:_.data}}}var ts,vv,yv,i1,bv,Wf,Dl,yh,Yp,Sv,r1,bb,qp,a1,_v,o1;class MG{constructor(e,t,r){Xt(this,ts,null),Xt(this,vv,0),Xt(this,yv,{abort:!1,st:performance.now()}),Yr(this,"find",async a=>{(_e(this,ts)==null||_e(this,ts).state==="closed"||a<=_e(this,vv)||a-_e(this,vv)>3e6)&&_e(this,_v).call(this,a),_e(this,yv).abort=!0,$t(this,vv,a),$t(this,yv,{abort:!1,st:performance.now()});const o=await _e(this,bb).call(this,a,_e(this,ts),_e(this,yv));return $t(this,Sv,0),o}),Xt(this,i1,0),Xt(this,bv,!1),Xt(this,Wf,0),Xt(this,Dl,[]),Xt(this,yh,0),Xt(this,Yp,0),Xt(this,Sv,0),Xt(this,r1,!1),Xt(this,bb,async(a,o,l)=>{if(o==null||o.state==="closed"||l.abort)return null;if(_e(this,Dl).length>0){const s=_e(this,Dl)[0];return a<s.timestamp?null:(_e(this,Dl).shift(),a>s.timestamp+(s.duration??0)?(s.close(),await _e(this,bb).call(this,a,o,l)):(!_e(this,r1)&&_e(this,Dl).length<10&&_e(this,a1).call(this,o).catch(u=>{throw $t(this,r1,!0),_e(this,_v).call(this,a),u}),s))}if(_e(this,qp)||_e(this,yh)<_e(this,Yp)&&o.decodeQueueSize>0){if(performance.now()-l.st>6e3)throw Error(`MP4Clip.tick video timeout, ${JSON.stringify(_e(this,o1).call(this))}`);$t(this,Sv,_e(this,Sv)+1),await aB(15)}else{if(_e(this,Wf)>=this.samples.length)return null;try{await _e(this,a1).call(this,o)}catch(s){throw _e(this,_v).call(this,a),s}}return await _e(this,bb).call(this,a,o,l)}),Xt(this,qp,!1),Xt(this,a1,async a=>{var o,l;if(_e(this,qp)||a.decodeQueueSize>600)return;let s=_e(this,Wf)+1;if(s>this.samples.length)return;$t(this,qp,!0);let u=!1;for(;s<this.samples.length;s++){const d=this.samples[s];if(!u&&!d.deleted&&(u=!0),d.is_idr)break}if(u){const d=this.samples.slice(_e(this,Wf),s);if(((o=d[0])==null?void 0:o.is_idr)!==!0)fi.warn("First sample not idr frame");else{const g=performance.now(),y=await TG(d,this.localFileReader),_=performance.now()-g;if(_>1e3){const C=d[0],c=d.at(-1),p=c.offset+c.size-C.offset;fi.warn(`Read video samples time cost: ${Math.round(_)}ms, file chunk size: ${p}`)}if(a.state==="closed")return;$t(this,i1,((l=y[0])==null?void 0:l.duration)??0),Q2(a,y,{onDecodingError:C=>{if(_e(this,bv))throw C;_e(this,yh)===0&&($t(this,bv,!0),fi.warn("Downgrade to software decode"),_e(this,_v).call(this))}}),$t(this,Yp,_e(this,Yp)+y.length)}}$t(this,Wf,s),$t(this,qp,!1)}),Xt(this,_v,a=>{var o,l;if($t(this,qp,!1),_e(this,Dl).forEach(u=>u.close()),$t(this,Dl,[]),a==null||a===0)$t(this,Wf,0);else{let u=0;for(let d=0;d<this.samples.length;d++){const g=this.samples[d];if(g.is_idr&&(u=d),!(g.cts<a)){$t(this,Wf,u);break}}}$t(this,Yp,0),$t(this,yh,0),((o=_e(this,ts))==null?void 0:o.state)!=="closed"&&((l=_e(this,ts))==null||l.close());const s={...this.conf,..._e(this,bv)?{hardwareAcceleration:"prefer-software"}:{}};$t(this,ts,new VideoDecoder({output:u=>{if($t(this,yh,_e(this,yh)+1),u.timestamp===-1){u.close();return}let d=u;u.duration==null&&(d=new VideoFrame(u,{duration:_e(this,i1)}),u.close()),_e(this,Dl).push(d)},error:u=>{if(u.message.includes("Codec reclaimed due to inactivity")){$t(this,ts,null),fi.warn(u.message);return}const d=`VideoFinder VideoDecoder err: ${u.message}, config: ${JSON.stringify(s)}, state: ${JSON.stringify(_e(this,o1).call(this))}`;throw fi.error(d),Error(d)}})),_e(this,ts).configure(s)}),Xt(this,o1,()=>{var a,o;return{time:_e(this,vv),decState:(a=_e(this,ts))==null?void 0:a.state,decQSize:(o=_e(this,ts))==null?void 0:o.decodeQueueSize,decCusorIdx:_e(this,Wf),sampleLen:this.samples.length,inputCnt:_e(this,Yp),outputCnt:_e(this,yh),cacheFrameLen:_e(this,Dl).length,softDeocde:_e(this,bv),clipIdCnt:oB,sleepCnt:_e(this,Sv),memInfo:RG()}}),Yr(this,"destroy",()=>{var a,o;((a=_e(this,ts))==null?void 0:a.state)!=="closed"&&((o=_e(this,ts))==null||o.close()),$t(this,ts,null),_e(this,yv).abort=!0,_e(this,Dl).forEach(l=>l.close()),$t(this,Dl,[]),this.localFileReader.close()}),this.localFileReader=e,this.samples=t,this.conf=r}}ts=new WeakMap,vv=new WeakMap,yv=new WeakMap,i1=new WeakMap,bv=new WeakMap,Wf=new WeakMap,Dl=new WeakMap,yh=new WeakMap,Yp=new WeakMap,Sv=new WeakMap,r1=new WeakMap,bb=new WeakMap,qp=new WeakMap,a1=new WeakMap,_v=new WeakMap,o1=new WeakMap;function Qpe(n,e){for(let t=0;t<e.length;t++){const r=e[t];if(n>=r.cts&&n<r.cts+r.duration)return t;if(r.cts>n)break}return 0}var s1,l1,ku,xv,Xf,bh,Mc,Cv,c1,u1,K2,J2;class Zpe{constructor(e,t,r,a){Xt(this,s1,1),Xt(this,l1),Xt(this,ku,null),Xt(this,xv,{abort:!1,st:performance.now()}),Yr(this,"find",async o=>{const l=o<=_e(this,Xf)||o-_e(this,Xf)>1e5;(_e(this,ku)==null||_e(this,ku).state==="closed"||l)&&_e(this,K2).call(this),l&&($t(this,Xf,o),$t(this,bh,Qpe(o,this.samples))),_e(this,xv).abort=!0;const s=o-_e(this,Xf);$t(this,Xf,o),$t(this,xv,{abort:!1,st:performance.now()});const u=await _e(this,c1).call(this,Math.ceil(s*(_e(this,l1)/1e6)),_e(this,ku),_e(this,xv));return $t(this,Cv,0),u}),Xt(this,Xf,0),Xt(this,bh,0),Xt(this,Mc,{frameCnt:0,data:[]}),Xt(this,Cv,0),Xt(this,c1,async(o,l=null,s)=>{if(l==null||s.abort||l.state==="closed"||o===0)return[];const u=_e(this,Mc).frameCnt-o;if(u>0)return u<Wr.sampleRate/10&&_e(this,u1).call(this,l),iz(_e(this,Mc),o);if(l.decoding){if(performance.now()-s.st>3e3)throw s.abort=!0,Error(`MP4Clip.tick audio timeout, ${JSON.stringify(_e(this,J2).call(this))}`);$t(this,Cv,_e(this,Cv)+1),await aB(15)}else{if(_e(this,bh)>=this.samples.length-1)return iz(_e(this,Mc),_e(this,Mc).frameCnt);_e(this,u1).call(this,l)}return _e(this,c1).call(this,o,l,s)}),Xt(this,u1,o=>{if(o.decodeQueueSize>10)return;const l=[];let s=_e(this,bh);for(;s<this.samples.length;){const u=this.samples[s];if(s+=1,!u.deleted&&(l.push(u),l.length>=10))break}$t(this,bh,s),o.decode(l.map(u=>new EncodedAudioChunk({type:"key",timestamp:u.cts,duration:u.duration,data:u.data})))}),Xt(this,K2,()=>{var o;$t(this,Xf,0),$t(this,bh,0),$t(this,Mc,{frameCnt:0,data:[]}),(o=_e(this,ku))==null||o.close(),$t(this,ku,eme(this.conf,{resampleRate:Wr.sampleRate,volume:_e(this,s1)},l=>{_e(this,Mc).data.push(l),_e(this,Mc).frameCnt+=l[0].length}))}),Xt(this,J2,()=>{var o,l;return{time:_e(this,Xf),decState:(o=_e(this,ku))==null?void 0:o.state,decQSize:(l=_e(this,ku))==null?void 0:l.decodeQueueSize,decCusorIdx:_e(this,bh),sampleLen:this.samples.length,pcmLen:_e(this,Mc).frameCnt,clipIdCnt:oB,sleepCnt:_e(this,Cv),memInfo:RG()}}),Yr(this,"destroy",()=>{$t(this,ku,null),_e(this,xv).abort=!0,$t(this,Mc,{frameCnt:0,data:[]}),this.localFileReader.close()}),this.localFileReader=e,this.samples=t,this.conf=r,$t(this,s1,a.volume),$t(this,l1,a.targetSampleRate)}}s1=new WeakMap,l1=new WeakMap,ku=new WeakMap,xv=new WeakMap,Xf=new WeakMap,bh=new WeakMap,Mc=new WeakMap,Cv=new WeakMap,c1=new WeakMap,u1=new WeakMap,K2=new WeakMap,J2=new WeakMap;function eme(n,e,t){let r=0,a=0;const o=g=>{if(a+=1,g.length!==0){if(e.volume!==1)for(const y of g)for(let _=0;_<y.length;_++)y[_]*=e.volume;g.length===1&&(g=[g[0],g[0]]),t(g)}},l=tme(o),s=e.resampleRate!==n.sampleRate;let u=new AudioDecoder({output:g=>{const y=Hpe(g);s?l(()=>Vpe(y,g.sampleRate,{rate:e.resampleRate,chanCount:g.numberOfChannels})):o(y),g.close()},error:g=>{g.message.includes("Codec reclaimed due to inactivity")||d("MP4Clip AudioDecoder err",g)}});u.configure(n);function d(g,y){const _=`${g}: ${y.message}, state: ${JSON.stringify({qSize:u.decodeQueueSize,state:u.state,inputCnt:r,outputCnt:a})}`;throw fi.error(_),Error(_)}return{decode(g){r+=g.length;try{for(const y of g)u.decode(y)}catch(y){d("decode audio chunk error",y)}},close(){u.state!=="closed"&&u.close()},get decoding(){return r>a&&u.decodeQueueSize>0},get state(){return u.state},get decodeQueueSize(){return u.decodeQueueSize}}}function tme(n){const e=[];let t=0;function r(l,s){e[s]=l,a()}function a(){const l=e[t];l!=null&&(n(l),t+=1,a())}let o=0;return l=>{const s=o;o+=1,l().then(u=>r(u,s)).catch(u=>r(u,s))}}function iz(n,e){const t=[new Float32Array(e),new Float32Array(e)];let r=0,a=0;for(;a<n.data.length;){const[o,l]=n.data[a];if(r+o.length>e){const s=e-r;t[0].set(o.subarray(0,s),r),t[1].set(l.subarray(0,s),r),n.data[a][0]=o.subarray(s,o.length),n.data[a][1]=l.subarray(s,l.length);break}else t[0].set(o,r),t[1].set(l,r),r+=o.length,a++}return n.data=n.data.slice(a),n.frameCnt-=e,t}async function TG(n,e){const t=n[0],r=n.at(-1);if(r==null)return[];const a=r.offset+r.size-t.offset;if(a<3e7){const o=new Uint8Array(await e.read(a,{at:t.offset}));return n.map(l=>{const s=l.offset-t.offset;return new EncodedVideoChunk({type:l.is_sync?"key":"delta",timestamp:l.cts,duration:l.duration,data:o.subarray(s,s+l.size)})})}return await Promise.all(n.map(async o=>new EncodedVideoChunk({type:o.is_sync?"key":"delta",timestamp:o.cts,duration:o.duration,data:await e.read(o.size,{at:o.offset})})))}function nme(n,e,t){const r=new OffscreenCanvas(n,e),a=r.getContext("2d");return async o=>(a.drawImage(o,0,0,n,e),o.close(),await r.convertToBlob(t))}function ime(n,e){if(n.length===0)return[];let t=0,r=0,a=-1;for(let u=0;u<n.length;u++){const d=n[u];if(a===-1&&e<d.cts&&(a=u-1),d.is_idr)if(a===-1)t=u;else{r=u;break}}const o=n[a];if(o==null)throw Error("Not found video sample by time");const l=n.slice(0,r===0?n.length:r).map(u=>({...u}));for(let u=t;u<l.length;u++){const d=l[u];e<d.cts&&(d.deleted=!0,d.cts=-1)}Z2(l);const s=n.slice(o.is_idr?a:t).map(u=>({...u,cts:u.cts-e}));for(const u of s)u.cts<0&&(u.deleted=!0,u.cts=-1);return Z2(s),[l,s]}function rme(n,e){if(n.length===0)return[];let t=-1;for(let o=0;o<n.length;o++){const l=n[o];if(!(e>l.cts)){t=o;break}}if(t===-1)throw Error("Not found audio sample by time");const r=n.slice(0,t).map(o=>({...o})),a=n.slice(t).map(o=>({...o,cts:o.cts-e}));return[r,a]}function Q2(n,e,t){let r=0;if(n.state==="configured"){for(;r<e.length;r++)n.decode(e[r]);n.flush().catch(a=>{if(!(a instanceof Error))throw a;if(a.message.includes("Decoding error")&&t.onDecodingError!=null){t.onDecodingError(a);return}if(!a.message.includes("Aborted due to close"))throw a})}}function ame(n,e){if(e!=="avc1"&&e!=="hvc1")return 0;const t=new DataView(n.buffer);let r=0;for(;r<n.byteLength-4;){if(e==="avc1"&&(t.getUint8(r+4)&31)===5)return r;if(e==="hvc1"){const a=t.getUint8(r+4)>>1&63;if(a===19||a===20)return r}r+=t.getUint32(r)+4}return-1}async function ome(n,e,t,r,a,o){const l=await e.createReader(),s=await TG(n.filter(g=>!g.deleted&&g.is_sync&&g.cts>=a.start&&g.cts<=a.end),l);if(s.length===0||r.aborted)return;let u=0;Q2(d(),s,{onDecodingError:g=>{fi.warn("thumbnailsByKeyFrame",g),u===0?Q2(d(!0),s,{onDecodingError:y=>{l.close(),fi.error("thumbnailsByKeyFrame retry soft deocde",y)}}):(o(null,!0),l.close())}});function d(g=!1){const y={...t,...g?{hardwareAcceleration:"prefer-software"}:{}},_=new VideoDecoder({output:C=>{u+=1;const c=u===s.length;o(C,c),c&&(l.close(),_.state!=="closed"&&_.close())},error:C=>{const c=`thumbnails decoder error: ${C.message}, config: ${JSON.stringify(y)}, state: ${JSON.stringify({qSize:_.decodeQueueSize,state:_.state,outputCnt:u,inputCnt:s.length})}`;throw fi.error(c),Error(c)}});return r.addEventListener("abort",()=>{l.close(),_.state!=="closed"&&_.close()}),_.configure(y),_}}function Z2(n){let e=0,t=null;for(const r of n)if(!r.deleted){if(r.is_sync&&(e+=1),e>=2)break;(t==null||r.cts<t.cts)&&(t=r)}t!=null&&t.cts<2e5&&(t.duration+=t.cts,t.cts=0)}function RG(){try{const n=performance.memory;return{jsHeapSizeLimit:n.jsHeapSizeLimit,totalJSHeapSize:n.totalJSHeapSize,usedJSHeapSize:n.usedJSHeapSize,percentUsed:(n.usedJSHeapSize/n.jsHeapSizeLimit).toFixed(3),percentTotal:(n.totalJSHeapSize/n.jsHeapSizeLimit).toFixed(3)}}catch{return{}}}var Ms,Tc,Io,eO,OG;const sme=class Ev{constructor(e){Xt(this,eO),Yr(this,"ready"),Xt(this,Ms,{duration:0,width:0,height:0}),Xt(this,Tc,null),Xt(this,Io,[]);const t=r=>($t(this,Tc,r),_e(this,Ms).width=r.width,_e(this,Ms).height=r.height,_e(this,Ms).duration=1/0,{..._e(this,Ms)});if(e instanceof ReadableStream)this.ready=new Response(e).blob().then(r=>createImageBitmap(r)).then(t);else if(e instanceof ImageBitmap)this.ready=Promise.resolve(t(e));else if(Array.isArray(e)&&e.every(r=>r instanceof VideoFrame)){$t(this,Io,e);const r=_e(this,Io)[0];if(r==null)throw Error("The frame count must be greater than 0");$t(this,Ms,{width:r.displayWidth,height:r.displayHeight,duration:_e(this,Io).reduce((a,o)=>a+(o.duration??0),0)}),this.ready=Promise.resolve({..._e(this,Ms),duration:1/0})}else if("type"in e)this.ready=Uc(this,eO,OG).call(this,e.stream,e.type).then(()=>({width:_e(this,Ms).width,height:_e(this,Ms).height,duration:1/0}));else throw Error("Illegal arguments")}get meta(){return{..._e(this,Ms)}}async tick(e){if(_e(this,Tc)!=null)return{video:await createImageBitmap(_e(this,Tc)),state:"success"};const t=e%_e(this,Ms).duration;return{video:(_e(this,Io).find(r=>t>=r.timestamp&&t<=r.timestamp+(r.duration??0))??_e(this,Io)[0]).clone(),state:"success"}}async split(e){if(await this.ready,_e(this,Tc)!=null)return[new Ev(await createImageBitmap(_e(this,Tc))),new Ev(await createImageBitmap(_e(this,Tc)))];let t=-1;for(let o=0;o<_e(this,Io).length;o++){const l=_e(this,Io)[o];if(!(e>l.timestamp)){t=o;break}}if(t===-1)throw Error("Not found frame by time");const r=_e(this,Io).slice(0,t).map(o=>new VideoFrame(o)),a=_e(this,Io).slice(t).map(o=>new VideoFrame(o,{timestamp:o.timestamp-e}));return[new Ev(r),new Ev(a)]}async clone(){await this.ready;const e=_e(this,Tc)==null?_e(this,Io).map(t=>t.clone()):await createImageBitmap(_e(this,Tc));return new Ev(e)}destroy(){var e;fi.info("ImgClip destroy"),(e=_e(this,Tc))==null||e.close(),_e(this,Io).forEach(t=>t.close())}};Ms=new WeakMap,Tc=new WeakMap,Io=new WeakMap,eO=new WeakSet,OG=async function(n,e){$t(this,Io,await $pe(n,e));const t=_e(this,Io)[0];if(t==null)throw Error("No frame available in gif");$t(this,Ms,{duration:_e(this,Io).reduce((r,a)=>r+(a.duration??0),0),width:t.codedWidth,height:t.codedHeight}),fi.info("ImgClip ready:",_e(this,Ms))};let lme=sme;var Gv,Ch,am,Qf,tO,IG,Kp,Yf;const EC=class f1{constructor(e,t={}){Xt(this,tO),Yr(this,"ready"),Xt(this,Gv,{duration:0,width:0,height:0}),Xt(this,Ch,new Float32Array),Xt(this,am,new Float32Array),Xt(this,Qf),Yr(this,"tickInterceptor",async(r,a)=>a),Xt(this,Kp,0),Xt(this,Yf,0),$t(this,Qf,{loop:!1,volume:1,...t}),this.ready=Uc(this,tO,IG).call(this,e).then(()=>({width:0,height:0,duration:t.loop?1/0:_e(this,Gv).duration}))}get meta(){return{..._e(this,Gv),sampleRate:Wr.sampleRate,chanCount:2}}getPCMData(){return[_e(this,Ch),_e(this,am)]}async tick(e){if(!_e(this,Qf).loop&&e>=_e(this,Gv).duration)return await this.tickInterceptor(e,{audio:[],state:"done"});const t=e-_e(this,Kp);if(e<_e(this,Kp)||t>3e6)return $t(this,Kp,e),$t(this,Yf,Math.ceil(_e(this,Kp)/1e6*Wr.sampleRate)),await this.tickInterceptor(e,{audio:[new Float32Array(0),new Float32Array(0)],state:"success"});$t(this,Kp,e);const r=Math.ceil(t/1e6*Wr.sampleRate),a=_e(this,Yf)+r,o=_e(this,Qf).loop?[ZN(_e(this,Ch),_e(this,Yf),a),ZN(_e(this,am),_e(this,Yf),a)]:[_e(this,Ch).slice(_e(this,Yf),a),_e(this,am).slice(_e(this,Yf),a)];return $t(this,Yf,a),await this.tickInterceptor(e,{audio:o,state:"success"})}async split(e){await this.ready;const t=Math.ceil(e/1e6*Wr.sampleRate),r=new f1(this.getPCMData().map(o=>o.slice(0,t)),_e(this,Qf)),a=new f1(this.getPCMData().map(o=>o.slice(t)),_e(this,Qf));return[r,a]}async clone(){await this.ready;const e=new f1(this.getPCMData(),_e(this,Qf));return await e.ready,e}destroy(){$t(this,Ch,new Float32Array(0)),$t(this,am,new Float32Array(0)),fi.info("---- audioclip destroy ----")}};Gv=new WeakMap,Ch=new WeakMap,am=new WeakMap,Qf=new WeakMap,tO=new WeakSet,IG=async function(n){EC.ctx==null&&(EC.ctx=new AudioContext({sampleRate:Wr.sampleRate}));const e=performance.now(),t=n instanceof ReadableStream?await cme(n,EC.ctx):n;fi.info("Audio clip decoded complete:",performance.now()-e);const r=_e(this,Qf).volume;if(r!==1)for(const a of t)for(let o=0;o<a.length;o+=1)a[o]*=r;_e(this,Gv).duration=t[0].length/Wr.sampleRate*1e6,$t(this,Ch,t[0]),$t(this,am,t[1]??_e(this,Ch)),fi.info("Audio clip convert to AudioData, time:",performance.now()-e)},Kp=new WeakMap,Yf=new WeakMap,Yr(EC,"ctx",null);async function cme(n,e){const t=await new Response(n).arrayBuffer();return wG(await e.decodeAudioData(t))}var wv,d1,Sb,_b;const BG=class DG{constructor(e){Yr(this,"ready"),Xt(this,wv,{duration:0,width:0,height:0}),Xt(this,d1,()=>{}),Yr(this,"audioTrack"),Xt(this,Sb,null),Xt(this,_b),$t(this,_b,e),this.audioTrack=e.getAudioTracks()[0]??null,_e(this,wv).duration=1/0;const t=e.getVideoTracks()[0];t!=null?(t.contentHint="motion",this.ready=new Promise(r=>{$t(this,d1,fme(t,a=>{_e(this,wv).width=a.width,_e(this,wv).height=a.height,$t(this,Sb,a),r(this.meta)}))})):this.ready=Promise.resolve(this.meta)}get meta(){return{..._e(this,wv)}}async tick(){return{video:_e(this,Sb)==null?null:await createImageBitmap(_e(this,Sb)),audio:[],state:"success"}}async split(){return[await this.clone(),await this.clone()]}async clone(){return new DG(_e(this,_b).clone())}destroy(){_e(this,_b).getTracks().forEach(e=>e.stop()),_e(this,d1).call(this)}};wv=new WeakMap,d1=new WeakMap,Sb=new WeakMap,_b=new WeakMap,Yr(BG,"ctx",null);let ume=BG;function fme(n,e){let t=!1,r;return npe(new MediaStreamTrackProcessor({track:n}).readable,{onChunk:async a=>{if(!t){const{displayHeight:o,displayWidth:l}=a,s=l??0,u=o??0,d=new OffscreenCanvas(s,u);r=d.getContext("2d"),e(d),t=!0}r.drawImage(a,0,0),a.close()},onDone:async()=>{}})}var HE,GE,kE,$E,VE,jE,Jp,Av,Qp;const dme=class PG{constructor(e,t,r,a,o){Xt(this,Jp),Xt(this,HE,new Lm),Yr(this,"on",_e(this,HE).on),Xt(this,GE,0),Xt(this,kE,0),Xt(this,$E,0),Xt(this,VE,0),Xt(this,jE,0),Xt(this,Qp,null),Yr(this,"fixedAspectRatio",!1),Yr(this,"fixedScaleCenter",!1),this.x=e??0,this.y=t??0,this.w=r??0,this.h=a??0,$t(this,Qp,o??null)}get x(){return _e(this,GE)}set x(e){Uc(this,Jp,Av).call(this,"x",e)}get y(){return _e(this,kE)}set y(e){Uc(this,Jp,Av).call(this,"y",e)}get w(){return _e(this,$E)}set w(e){Uc(this,Jp,Av).call(this,"w",e)}get h(){return _e(this,VE)}set h(e){Uc(this,Jp,Av).call(this,"h",e)}get angle(){return _e(this,jE)}set angle(e){Uc(this,Jp,Av).call(this,"angle",e)}get center(){const{x:e,y:t,w:r,h:a}=this;return{x:e+r/2,y:t+a/2}}clone(){const{x:e,y:t,w:r,h:a}=this,o=new PG(e,t,r,a,_e(this,Qp));return o.angle=this.angle,o.fixedAspectRatio=this.fixedAspectRatio,o.fixedScaleCenter=this.fixedScaleCenter,o}checkHit(e,t){var r,a;let{angle:o,center:l,x:s,y:u,w:d,h:g}=this;const y=((r=_e(this,Qp))==null?void 0:r.center)??l,_=((a=_e(this,Qp))==null?void 0:a.angle)??o;_e(this,Qp)==null&&(s=s-y.x,u=u-y.y);const C=e-y.x,c=t-y.y;let p=C,m=c;return _!==0&&(p=C*Math.cos(_)+c*Math.sin(_),m=c*Math.cos(_)-C*Math.sin(_)),!(p<s||p>s+d||m<u||m>u+g)}};HE=new WeakMap,GE=new WeakMap,kE=new WeakMap,$E=new WeakMap,VE=new WeakMap,jE=new WeakMap,Jp=new WeakSet,Av=function(n,e){const t=this[n]!==e;switch(n){case"x":$t(this,GE,e);break;case"y":$t(this,kE,e);break;case"w":$t(this,$E,e);break;case"h":$t(this,VE,e);break;case"angle":$t(this,jE,e);break}t&&_e(this,HE).emit("propsChange",{[n]:e})},Qp=new WeakMap;let $u=dme;var h1,Mv,xb,Zp,qf;class LG{constructor(){Yr(this,"rect",new $u),Xt(this,h1,{offset:0,duration:0,playbackRate:1}),Xt(this,Mv,new Lm),Yr(this,"on",_e(this,Mv).on),Xt(this,xb,0),Yr(this,"opacity",1),Yr(this,"flip",null),Xt(this,Zp,null),Xt(this,qf,null),Yr(this,"ready",Promise.resolve()),this.rect.on("propsChange",e=>{_e(this,Mv).emit("propsChange",{rect:e})})}get time(){return _e(this,h1)}set time(e){Object.assign(_e(this,h1),e)}get zIndex(){return _e(this,xb)}set zIndex(e){const t=_e(this,xb)!==e;$t(this,xb,e),t&&_e(this,Mv).emit("propsChange",{zIndex:e})}_render(e){const{rect:{center:t,angle:r}}=this;e.setTransform(this.flip==="horizontal"?-1:1,0,0,this.flip==="vertical"?-1:1,t.x,t.y),e.rotate((this.flip==null?1:-1)*r),e.globalAlpha=this.opacity}setAnimation(e,t){$t(this,Zp,Object.entries(e).map(([r,a])=>{const o={from:0,to:100}[r]??Number(r.slice(0,-1));if(isNaN(o)||o>100||o<0)throw Error("keyFrame must between 0~100");return[o/100,a]})),$t(this,qf,Object.assign({},_e(this,qf),{duration:t.duration,delay:t.delay??0,iterCount:t.iterCount??1/0}))}animate(e){if(_e(this,Zp)==null||_e(this,qf)==null||e<_e(this,qf).delay)return;const t=hme(e,_e(this,Zp),_e(this,qf));for(const r in t)switch(r){case"opacity":this.opacity=t[r];break;case"x":case"y":case"w":case"h":case"angle":this.rect[r]=t[r];break}}copyStateTo(e){$t(e,Zp,_e(this,Zp)),$t(e,qf,_e(this,qf)),e.zIndex=this.zIndex,e.opacity=this.opacity,e.flip=this.flip,e.rect=this.rect.clone(),e.time={...this.time}}destroy(){_e(this,Mv).destroy()}}h1=new WeakMap,Mv=new WeakMap,xb=new WeakMap,Zp=new WeakMap,qf=new WeakMap;function hme(n,e,t){const r=n-t.delay;if(r/t.duration>=t.iterCount)return{};const a=r%t.duration,o=r===t.duration?1:a/t.duration,l=e.findIndex(C=>C[0]>=o);if(l===-1)return{};const s=e[l-1],u=e[l],d=u[1];if(s==null)return d;const g=s[1],y={},_=(o-s[0])/(u[0]-s[0]);for(const C in d){const c=C;g[c]!=null&&(y[c]=(d[c]-g[c])*_+g[c])}return y}var Tv,em,p1;const pme=class NG extends LG{constructor(e){super(),Xt(this,Tv),Xt(this,em,null),Xt(this,p1,!1),$t(this,Tv,e),this.ready=e.ready.then(({width:t,height:r,duration:a})=>{this.rect.w=this.rect.w===0?t:this.rect.w,this.rect.h=this.rect.h===0?r:this.rect.h,this.time.duration=this.time.duration===0?a:this.time.duration})}async offscreenRender(e,t){var r;const a=t*this.time.playbackRate;this.animate(a),super._render(e);const{w:o,h:l}=this.rect,{video:s,audio:u,state:d}=await _e(this,Tv).tick(a);let g=u??[];if(u!=null&&this.time.playbackRate!==1&&(g=u.map(_=>AG(_,this.time.playbackRate))),d==="done")return{audio:g,done:!0};const y=s??_e(this,em);return y!=null&&e.drawImage(y,-o/2,-l/2,o,l),s!=null&&((r=_e(this,em))==null||r.close(),$t(this,em,s)),{audio:g,done:!1}}async clone(){const e=new NG(await _e(this,Tv).clone());return await e.ready,this.copyStateTo(e),e}destroy(){var e;_e(this,p1)||($t(this,p1,!0),fi.info("OffscreenSprite destroy"),super.destroy(),(e=_e(this,em))==null||e.close(),$t(this,em,null),_e(this,Tv).destroy())}};Tv=new WeakMap,em=new WeakMap,p1=new WeakMap;let mme=pme;var kv,bm,e0,Cb,m1,nO,g1,v1;const gme=class zG extends LG{constructor(e){super(),Xt(this,m1),Xt(this,kv),Yr(this,"visible",!0),Xt(this,bm,null),Xt(this,e0,[]),Xt(this,Cb,!1),Xt(this,g1,-1),Xt(this,v1,!1),$t(this,kv,e),this.ready=e.ready.then(({width:t,height:r,duration:a})=>{this.rect.w=this.rect.w===0?t:this.rect.w,this.rect.h=this.rect.h===0?r:this.rect.h,this.time.duration=this.time.duration===0?a:this.time.duration})}getClip(){return _e(this,kv)}preFrame(e){Uc(this,m1,nO).call(this,e)}render(e,t){this.animate(t),super._render(e);const{w:r,h:a}=this.rect;_e(this,g1)!==t&&Uc(this,m1,nO).call(this,t),$t(this,g1,t);const o=_e(this,e0);$t(this,e0,[]);const l=_e(this,bm);return l!=null&&e.drawImage(l,-r/2,-a/2,r,a),{audio:o}}copyStateTo(e){super.copyStateTo(e),e instanceof zG&&(e.visible=this.visible)}destroy(){var e;_e(this,v1)||($t(this,v1,!0),fi.info("VisibleSprite destroy"),super.destroy(),(e=_e(this,bm))==null||e.close(),$t(this,bm,null),_e(this,kv).destroy())}};kv=new WeakMap,bm=new WeakMap,e0=new WeakMap,Cb=new WeakMap,m1=new WeakSet,nO=function(n){_e(this,Cb)||($t(this,Cb,!0),_e(this,kv).tick(n*this.time.playbackRate).then(({video:e,audio:t})=>{var r;e!=null&&((r=_e(this,bm))==null||r.close(),$t(this,bm,e??null)),$t(this,e0,t??[]),t!=null&&this.time.playbackRate!==1&&$t(this,e0,t.map(a=>AG(a,this.time.playbackRate)))}).finally(()=>{$t(this,Cb,!1)}))},g1=new WeakMap,v1=new WeakMap;let nR=gme,vme=0;async function UG(n){n()>50&&(await aB(15),await UG(n))}var Zf,y1,ju,Gb,WE,b1,$v,kb,tm,S1,FG,HG;class yme{constructor(e={}){Xt(this,S1),Xt(this,Zf,fi.create(`id:${vme++},`)),Xt(this,y1,!1),Xt(this,ju,[]),Xt(this,Gb),Xt(this,WE),Xt(this,b1,null),Xt(this,$v),Xt(this,kb),Xt(this,tm,new Lm),Yr(this,"on",_e(this,tm).on);const{width:t=0,height:r=0}=e;$t(this,Gb,new OffscreenCanvas(t,r));const a=_e(this,Gb).getContext("2d",{alpha:!1});if(a==null)throw Error("Can not create 2d offscreen context");$t(this,WE,a),$t(this,$v,Object.assign({bgColor:"#000",width:0,height:0,videoCodec:"avc1.42E032",audio:!0,bitrate:5e6,fps:30,metaDataTags:null},e)),$t(this,kb,t*r>0)}static async isSupported(e={}){return(self.OffscreenCanvas!=null&&self.VideoEncoder!=null&&self.VideoDecoder!=null&&self.VideoFrame!=null&&self.AudioEncoder!=null&&self.AudioDecoder!=null&&self.AudioData!=null&&((await self.VideoEncoder.isConfigSupported({codec:e.videoCodec??"avc1.42E032",width:e.width??1920,height:e.height??1080,bitrate:e.bitrate??7e6})).supported??!1)&&(await self.AudioEncoder.isConfigSupported({codec:Wr.codec,sampleRate:Wr.sampleRate,numberOfChannels:Wr.channelCount})).supported)??!1}async addSprite(e,t={}){const r={rect:xme(["x","y","w","h"],e.rect),time:{...e.time},zIndex:e.zIndex};_e(this,Zf).info("Combinator add sprite",r);const a=await e.clone();_e(this,Zf).info("Combinator add sprite ready"),_e(this,ju).push(Object.assign(a,{main:t.main??!1,expired:!1})),_e(this,ju).sort((o,l)=>o.zIndex-l.zIndex)}output(){if(_e(this,ju).length===0)throw Error("No sprite added");const e=_e(this,ju).find(u=>u.main),t=e!=null?e.time.offset+e.time.duration:Math.max(..._e(this,ju).map(u=>u.time.offset+u.time.duration));if(t===1/0)throw Error("Unable to determine the end time, please specify a main sprite, or limit the duration of ImgClip, AudioCli");t===-1&&_e(this,Zf).warn("Unable to determine the end time, process value don't update"),_e(this,Zf).info(`start combinate video, maxTime:${t}`);const r=Uc(this,S1,FG).call(this,t);let a=performance.now();const o=Uc(this,S1,HG).call(this,r,t,{onProgress:u=>{_e(this,Zf).debug("OutputProgress:",u),_e(this,tm).emit("OutputProgress",u)},onEnded:async()=>{await r.flush(),_e(this,Zf).info("===== output ended =====, cost:",performance.now()-a),_e(this,tm).emit("OutputProgress",1),this.destroy()},onError:u=>{_e(this,tm).emit("error",u),s(u),this.destroy()}});$t(this,b1,()=>{o(),r.close(),s()});const{stream:l,stop:s}=ipe(r.mp4file,500,this.destroy);return l}destroy(){var e;_e(this,y1)||($t(this,y1,!0),(e=_e(this,b1))==null||e.call(this),_e(this,tm).destroy())}}Zf=new WeakMap,y1=new WeakMap,ju=new WeakMap,Gb=new WeakMap,WE=new WeakMap,b1=new WeakMap,$v=new WeakMap,kb=new WeakMap,tm=new WeakMap,S1=new WeakSet,FG=function(n){const{fps:e,width:t,height:r,videoCodec:a,bitrate:o,audio:l,metaDataTags:s}=_e(this,$v);return fpe({video:_e(this,kb)?{width:t,height:r,expectFPS:e,codec:a,bitrate:o,__unsafe_hardwareAcceleration__:_e(this,$v).__unsafe_hardwareAcceleration__}:null,audio:l===!1?null:{codec:"aac",sampleRate:Wr.sampleRate,channelCount:Wr.channelCount},duration:n,metaDataTags:s})},HG=function(n,e,{onProgress:t,onEnded:r,onError:a}){let o=0;const l={aborted:!1};let s=null;(async()=>{const{fps:g,bgColor:y,audio:_}=_e(this,$v),C=Math.round(1e6/g),c=_e(this,WE),p=bme({ctx:c,bgColor:y,sprites:_e(this,ju),aborter:l}),m=Sme({remux:n,ctx:c,cvs:_e(this,Gb),outputAudio:_,hasVideoTrack:_e(this,kb),timeSlice:C,fps:g});let b=0;for(;;){if(s!=null)return;if(l.aborted||e!==-1&&b>e||_e(this,ju).length===0){d(),await r();return}o=b/e;const{audios:E,mainSprDone:T}=await p(b);if(T){d(),await r();return}if(l.aborted)return;m(b,E),b+=C,await UG(n.getEncodeQueueSize)}})().catch(g=>{s=g,_e(this,Zf).error(g),d(),a(g)});const u=setInterval(()=>{t(o)},500),d=()=>{l.aborted||(l.aborted=!0,clearInterval(u),_e(this,ju).forEach(g=>g.destroy()))};return d};function bme(n){const{ctx:e,bgColor:t,sprites:r,aborter:a}=n,{width:o,height:l}=e.canvas;return async s=>{e.fillStyle=t,e.fillRect(0,0,o,l);const u=[];let d=!1;for(const g of r){if(a.aborted)break;if(s<g.time.offset||g.expired)continue;e.save();const{audio:y,done:_}=await g.offscreenRender(e,s-g.time.offset);u.push(y),e.restore(),(g.time.duration>0&&s>g.time.offset+g.time.duration||_)&&(g.main&&(d=!0),g.destroy(),g.expired=!0)}return{audios:u,mainSprDone:d}}}function Sme(n){const{ctx:e,cvs:t,outputAudio:r,remux:a,hasVideoTrack:o,timeSlice:l}=n,{width:s,height:u}=t;let d=0;const g=Math.floor(3*n.fps),y=_me(1024);return(_,C)=>{if(r!==!1)for(const c of y(_,C))a.encodeAudio(c);if(o){const c=new VideoFrame(t,{duration:l,timestamp:_});a.encodeVideo(c,{keyFrame:d%g===0}),e.resetTransform(),e.clearRect(0,0,s,u),d+=1}}}function _me(n){const e=n*Wr.channelCount,t=new Float32Array(e*3);let r=0,a=0;const o=n/Wr.sampleRate*1e6,l=new Float32Array(e),s=u=>{let d=0;const g=Math.floor(r/e),y=[];for(let _=0;_<g;_++)y.push(new AudioData({timestamp:a,numberOfChannels:Wr.channelCount,numberOfFrames:n,sampleRate:Wr.sampleRate,format:"f32",data:t.subarray(d,d+e)})),d+=e,a+=o;for(t.set(t.subarray(d,r),0),r-=d;u-a>o;)y.push(new AudioData({timestamp:a,numberOfChannels:Wr.channelCount,numberOfFrames:n,sampleRate:Wr.sampleRate,format:"f32",data:l})),a+=o;return y};return(u,d)=>{var g,y;const _=Math.max(...d.map(C=>{var c;return((c=C[0])==null?void 0:c.length)??0}));for(let C=0;C<_;C++){let c=0,p=0;for(let m=0;m<d.length;m++){const b=((g=d[m][0])==null?void 0:g[C])??0,E=((y=d[m][1])==null?void 0:y[C])??b;c+=b,p+=E}t[r]=c,t[r+1]=p,r+=2}return s(u)}}function xme(n,e){return n.reduce((t,r)=>(t[r]=e[r],t),{})}var Cme=Object.defineProperty,GG=n=>{throw TypeError(n)},Eme=(n,e,t)=>e in n?Cme(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,_1=(n,e,t)=>Eme(n,typeof e!="symbol"?e+"":e,t),sB=(n,e,t)=>e.has(n)||GG("Cannot "+t),Gt=(n,e,t)=>(sB(n,e,"read from private field"),t?t.call(n):e.get(n)),Oa=(n,e,t)=>e.has(n)?GG("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Js=(n,e,t,r)=>(sB(n,e,"write to private field"),e.set(n,t),t),om=(n,e,t)=>(sB(n,e,"access private method"),t);const wme=["t","b","l","r","lt","lb","rt","rb","rotate"];function _0(n){return document.createElement(n)}function Ame(n){let e=16;const t=new ResizeObserver(a=>{const o=a[0];o!=null&&(e=10/(o.contentRect.width/n.width))});t.observe(n);function r(a){const{w:o,h:l}=a,s=e,u=s/2,d=o/2,g=l/2,y=s*1.5,_=y/2;return{...a.fixedAspectRatio?{}:{t:new $u(-u,-g-u,s,s,a),b:new $u(-u,g-u,s,s,a),l:new $u(-d-u,-u,s,s,a),r:new $u(d-u,-u,s,s,a)},lt:new $u(-d-u,-g-u,s,s,a),lb:new $u(-d-u,g-u,s,s,a),rt:new $u(d-u,-g-u,s,s,a),rb:new $u(d-u,g-u,s,s,a),rotate:new $u(-_,-g-s*2-_,y,y,a)}}return{rectCtrlsGetter:r,destroy:()=>{t.disconnect()}}}var yS=(n=>(n.ActiveSpriteChange="activeSpriteChange",n.AddSprite="addSprite",n))(yS||{}),Pl,Rv,Ov,Eb;class Mme{constructor(){Oa(this,Pl,[]),Oa(this,Rv,null),Oa(this,Ov,new Lm),_1(this,"on",Gt(this,Ov).on),Oa(this,Eb,0)}get activeSprite(){return Gt(this,Rv)}set activeSprite(e){e!==Gt(this,Rv)&&(Js(this,Rv,e),Gt(this,Ov).emit("activeSpriteChange",e))}async addSprite(e){await e.ready,Gt(this,Pl).push(e),Js(this,Pl,Gt(this,Pl).sort((t,r)=>t.zIndex-r.zIndex)),e.on("propsChange",t=>{t.zIndex!=null&&Js(this,Pl,Gt(this,Pl).sort((r,a)=>r.zIndex-a.zIndex))}),Gt(this,Ov).emit("addSprite",e)}removeSprite(e){Gt(this,Rv)===e&&(this.activeSprite=null),Js(this,Pl,Gt(this,Pl).filter(t=>t!==e)),e.destroy()}getSprites(e={time:!0}){return Gt(this,Pl).filter(t=>t.visible&&(e.time?Gt(this,Eb)>=t.time.offset&&Gt(this,Eb)<=t.time.offset+t.time.duration:!0))}updateRenderTime(e){Js(this,Eb,e);const t=this.activeSprite;t!=null&&(e<t.time.offset||e>t.time.offset+t.time.duration)&&(this.activeSprite=null)}destroy(){Gt(this,Ov).destroy(),Gt(this,Pl).forEach(e=>e.destroy()),Js(this,Pl,[])}}Pl=new WeakMap,Rv=new WeakMap,Ov=new WeakMap,Eb=new WeakMap;function Tme(n,e,t,r){const a={w:e.clientWidth/e.width,h:e.clientHeight/e.height},o=new ResizeObserver(()=>{a.w=e.clientWidth/e.width,a.h=e.clientHeight/e.height,t.activeSprite!=null&&iR(t.activeSprite,l,s,a,r)});o.observe(e);const{rectEl:l,ctrlsEl:s}=Rme(n),u=t.on(yS.ActiveSpriteChange,C=>{if(C==null){l.style.display="none";return}iR(C,l,s,a,r),l.style.display=""});let d=!1;const g=C=>{C.button===0&&(d=!0)},y=()=>{d=!1},_=()=>{!d||t.activeSprite==null||iR(t.activeSprite,l,s,a,r)};return e.addEventListener("pointerdown",g),window.addEventListener("pointerup",y),window.addEventListener("pointermove",_),()=>{o.disconnect(),u(),l.remove(),e.removeEventListener("pointerdown",g),window.removeEventListener("pointerup",y),window.removeEventListener("pointermove",_)}}function Rme(n){const e=_0("div");e.style.cssText=`
    position: absolute;
    pointer-events: none;
    border: 1px solid #eee;
    box-sizing: border-box;
    display: none;
  `;const t=Object.fromEntries(wme.map(r=>{const a=_0("div");return a.style.cssText=`
        display: none;
        position: absolute;
        border: 1px solid #3ee; border-radius: 50%;
        box-sizing: border-box;
        background-color: #fff;
      `,[r,a]}));return Object.values(t).forEach(r=>e.appendChild(r)),n.appendChild(e),{rectEl:e,ctrlsEl:t}}function iR(n,e,t,r,a){const{x:o,y:l,w:s,h:u,angle:d}=n.rect;Object.assign(e.style,{left:`${o*r.w}px`,top:`${l*r.h}px`,width:`${s*r.w}px`,height:`${u*r.h}px`,rotate:`${d}rad`}),Object.entries(a(n.rect)).forEach(([g,{x:y,y:_,w:C,h:c}])=>{Object.assign(t[g].style,{display:"block",left:"50%",top:"50%",width:`${C*r.w}px`,height:`${c*r.h}px`,transform:`translate(${y*r.w}px, ${_*r.h}px)`})})}function Ome(n,e,t){const r={w:n.clientWidth/n.width,h:n.clientHeight/n.height},a=new ResizeObserver(()=>{r.w=n.clientWidth/n.width,r.h=n.clientHeight/n.height});a.observe(n);const o=l=>{if(l.button!==0)return;const{offsetX:s,offsetY:u}=l,d=s/r.w,g=u/r.h;if(e.activeSprite!=null){const[y]=Object.entries(t(e.activeSprite.rect)).find(([,_])=>_.checkHit(d,g))??[];if(y!=null)return}e.activeSprite=e.getSprites().reverse().find(y=>y.visible&&y.rect.checkHit(d,g))??null};return n.addEventListener("pointerdown",o),()=>{a.disconnect(),n.removeEventListener("pointerdown",o)}}function Ime(n,e,t,r){const a={w:n.clientWidth/n.width,h:n.clientHeight/n.height},o=new ResizeObserver(()=>{a.w=n.clientWidth/n.width,a.h=n.clientHeight/n.height});o.observe(n);let l=0,s=0,u=null;const d=Ume(n,t);let g=null;const y=c=>{if(c.button!==0||e.activeSprite==null)return;g=e.activeSprite;const{offsetX:p,offsetY:m,clientX:b,clientY:E}=c;Lme({rect:g.rect,offsetX:p,offsetY:m,clientX:b,clientY:E,cvsRatio:a,cvsEl:n,rectCtrlsGetter:r})||(u=g.rect.clone(),d.magneticEffect(g.rect.x,g.rect.y,g.rect),l=b,s=E,window.addEventListener("pointermove",_),window.addEventListener("pointerup",C))},_=c=>{if(g==null||u==null)return;const{clientX:p,clientY:m}=c;let b=u.x+(p-l)/a.w,E=u.y+(m-s)/a.h;kG(g.rect,n,d.magneticEffect(b,E,g.rect))};n.addEventListener("pointerdown",y);const C=()=>{d.hide(),window.removeEventListener("pointermove",_),window.removeEventListener("pointerup",C)};return()=>{o.disconnect(),d.destroy(),C(),n.removeEventListener("pointerdown",y)}}function Bme({sprRect:n,startX:e,startY:t,ctrlKey:r,cvsRatio:a,cvsEl:o}){const l=n.clone(),s=d=>{const{clientX:g,clientY:y}=d,_=(g-e)/a.w,C=(y-t)/a.h,c=r.length===1?Dme:Pme,{x:p,y:m,w:b,h:E}=l,T=Math.atan2(E,b),{incW:R,incH:O,incS:D,rotateAngle:P}=c({deltaX:_,deltaY:C,angle:n.angle,ctrlKey:r,diagonalAngle:T}),F=10;let U=b,z=E,$=l.fixedScaleCenter?R*2:R,J=l.fixedScaleCenter?O*2:O,W=D;const Z=Math.sqrt(E**2+b**2),oe=Math.sqrt((F*(E/b))**2+F**2);switch(r){case"l":U=Math.max(b+$,F),W=Math.min(D,b-F);break;case"r":U=Math.max(b+$,F),W=Math.max(D,F-b);break;case"b":z=Math.max(E+J,F),W=Math.min(D,E-F);break;case"t":z=Math.max(E+J,F),W=Math.max(D,F-E);break;case"lt":case"lb":U=Math.max(b+$,F),z=U===F?E/b*U:E+J,W=Math.min(D,Z-oe);break;case"rt":case"rb":U=Math.max(b+$,F),z=U===F?E/b*U:E+J,W=Math.max(D,oe-Z);break}let Y=p,K=m;if(l.fixedScaleCenter)Y=p+b/2-U/2,K=m+E/2-z/2;else{const ee=W/2*Math.cos(P)+p+b/2,ue=W/2*Math.sin(P)+m+E/2;Y=ee-U/2,K=ue-z/2}kG(n,o,{x:Y,y:K,w:U,h:z})},u=()=>{window.removeEventListener("pointermove",s),window.removeEventListener("pointerup",u)};window.addEventListener("pointermove",s),window.addEventListener("pointerup",u)}function Dme({deltaX:n,deltaY:e,angle:t,ctrlKey:r}){let a=0,o=0,l=0,s=t;return r==="l"||r==="r"?(a=n*Math.cos(t)+e*Math.sin(t),o=a*(r==="l"?-1:1)):(r==="t"||r==="b")&&(s=t-Math.PI/2,a=n*Math.cos(s)+e*Math.sin(s),l=a*(r==="b"?-1:1)),{incW:o,incH:l,incS:a,rotateAngle:s}}function Pme({deltaX:n,deltaY:e,angle:t,ctrlKey:r,diagonalAngle:a}){const o=(r==="lt"||r==="rb"?1:-1)*a+t,l=n*Math.cos(o)+e*Math.sin(o),s=r==="lt"||r==="lb"?-1:1,u=l*Math.cos(a)*s,d=l*Math.sin(a)*s;return{incW:u,incH:d,incS:l,rotateAngle:o}}function Lme({rect:n,cvsRatio:e,offsetX:t,offsetY:r,clientX:a,clientY:o,cvsEl:l,rectCtrlsGetter:s}){const u=t/e.w,d=r/e.h,[g]=Object.entries(s(n)).find(([,y])=>y.checkHit(u,d))??[];return g==null?!1:(g==="rotate"?Nme(n,zme(n.center,e,l)):Bme({sprRect:n,ctrlKey:g,startX:a,startY:o,cvsRatio:e,cvsEl:l}),!0)}function Nme(n,e){const t=({clientX:a,clientY:o})=>{const l=a-e.x,s=o-e.y,u=Math.atan2(s,l)+Math.PI/2;n.angle=u},r=()=>{window.removeEventListener("pointermove",t),window.removeEventListener("pointerup",r)};window.addEventListener("pointermove",t),window.addEventListener("pointerup",r)}function zme(n,e,t){const r=n.x*e.w,a=n.y*e.h,{left:o,top:l}=t.getBoundingClientRect();return{x:r+o,y:a+l}}function kG(n,e,t){const r={x:n.x,y:n.y,w:n.w,h:n.h,...t},a=e.width*.05,o=e.height*.05;r.x<-r.w+a?r.x=-r.w+a:r.x>e.width-a&&(r.x=e.width-a),r.y<-r.h+o?r.y=-r.h+o:r.y>e.height-o&&(r.y=e.height-o),n.x=r.x,n.y=r.y,n.w=r.w,n.h=r.h}function Ume(n,e){const t="display: none; position: absolute;",r={w:0,h:0,x:0,y:0},a={vertMiddle:{...r,h:100,x:50,ref:{prop:"x",val:({w:u})=>(n.width-u)/2}},horMiddle:{...r,w:100,y:50,ref:{prop:"y",val:({h:u})=>(n.height-u)/2}},top:{...r,w:100,ref:{prop:"y",val:()=>0}},bottom:{...r,w:100,y:100,ref:{prop:"y",val:({h:u})=>n.height-u}},left:{...r,h:100,ref:{prop:"x",val:()=>0}},right:{...r,h:100,x:100,ref:{prop:"x",val:({w:u})=>n.width-u}}},o=_0("div");o.style.cssText=`
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    pointer-events: none;
    box-sizing: border-box;
  `;const l=Object.fromEntries(Object.entries(a).map(([u,{w:d,h:g,x:y,y:_}])=>{const C=_0("div");return C.style.cssText=`
        ${t}
        border-${d>0?"top":"left"}: 1px solid #3ee;
        top: ${_}%; left: ${y}%;
        ${y===100?"margin-left: -1px":""};
        ${_===100?"margin-top: -1px":""};
        width: ${d}%; height: ${g}%;
      `,o.appendChild(C),[u,C]}));e.appendChild(o);const s=6/(900/n.width);return{magneticEffect(u,d,g){const y={x:u,y:d};let _,C={x:!1,y:!1};for(_ in a){const{prop:c,val:p}=a[_].ref;if(C[c])continue;const m=p(g);Math.abs(g[c]-m)<=s&&Math.abs(g[c]-(c==="x"?u:d))<=s?(y[c]=m,l[_].style.display="block",C[c]=!0):l[_].style.display="none"}return y},hide(){Object.values(l).forEach(u=>u.style.display="none")},destroy(){o.remove()}}}function Fme(n,e,t){const r={w:n.clientWidth/n.width,h:n.clientHeight/n.height},a=new ResizeObserver(()=>{r.w=n.clientWidth/n.width,r.h=n.clientHeight/n.height});a.observe(n);const o=n.style;let l=e.activeSprite;e.on(yS.ActiveSpriteChange,C=>{l=C,C==null&&(o.cursor="")});let s=!1;const u=({offsetX:C,offsetY:c})=>{s=!0;const p=C/r.w,m=c/r.h;(l==null?void 0:l.rect.checkHit(p,m))===!0&&o.cursor===""&&(o.cursor="move")},d=()=>{s=!1},g=["ns-resize","nesw-resize","ew-resize","nwse-resize","ns-resize","nesw-resize","ew-resize","nwse-resize"],y={t:0,rt:1,r:2,rb:3,b:4,lb:5,l:6,lt:7},_=C=>{if(l==null||s)return;const{offsetX:c,offsetY:p}=C,m=c/r.w,b=p/r.h,[E]=Object.entries(t(l.rect)).find(([,T])=>T.checkHit(m,b))??[];if(E!=null){if(E==="rotate"){o.cursor="crosshair";return}const T=l.rect.angle,R=T<0?T+2*Math.PI:T,O=(y[E]+Math.floor((R+Math.PI/8)/(Math.PI/4)))%8;o.cursor=g[O];return}if(l.rect.checkHit(m,b)){o.cursor="move";return}o.cursor=""};return n.addEventListener("pointermove",_),n.addEventListener("pointerdown",u),window.addEventListener("pointerup",d),()=>{a.disconnect(),n.removeEventListener("pointermove",_),n.removeEventListener("pointerdown",u),window.removeEventListener("pointerup",d)}}const Hme={sampleRate:48e3};function Gme(n){const e=_0("canvas");return e.style.cssText=`
    width: 100%;
    height: 100%;
    display: block;
    touch-action: none;
  `,e.width=n.width,e.height=n.height,e}var lo,Ra,Vv,x1,C1,E1,Sh,w1,Eh,td,XE,YE,is,sm,lm,$G,Lc,A1;class kme{constructor(e,t){Oa(this,td),Oa(this,lo),Oa(this,Ra),Oa(this,Vv),Oa(this,x1,!1),Oa(this,C1,[]),Oa(this,E1),Oa(this,Sh,new Lm),_1(this,"on",Gt(this,Sh).on),Oa(this,w1),Oa(this,Eh,0),Oa(this,is,new AudioContext),Oa(this,sm,Gt(this,is).createMediaStreamDestination()),Oa(this,lm,new Set),Oa(this,Lc,{start:0,end:0,step:0,audioPlayAt:0}),Oa(this,A1,new WeakMap),_1(this,"addSprite",async y=>{Gt(this,is).state==="suspended"&&Gt(this,is).resume().catch(fi.error);const _=y.getClip();if(_ instanceof ume&&_.audioTrack!=null){const C=Gt(this,is).createMediaStreamSource(new MediaStream([_.audioTrack]));C.connect(Gt(this,sm)),Gt(this,A1).set(y,C)}await Gt(this,Ra).addSprite(y)}),_1(this,"removeSprite",y=>{var _;(_=Gt(this,A1).get(y))==null||_.disconnect(),Gt(this,Ra).removeSprite(y)}),Js(this,w1,t),Js(this,lo,Gme(t));const r=Gt(this,lo).getContext("2d",{alpha:!1});if(r==null)throw Error("canvas context is null");Js(this,Vv,r);const a=_0("div");a.style.cssText="width: 100%; height: 100%; position: relative; overflow: hidden;",a.appendChild(Gt(this,lo)),e.appendChild(a),Vme(Gt(this,is)).connect(Gt(this,sm)),Js(this,Ra,new Mme);const{rectCtrlsGetter:o,destroy:l}=Ame(Gt(this,lo));Gt(this,C1).push(l,Ome(Gt(this,lo),Gt(this,Ra),o),Fme(Gt(this,lo),Gt(this,Ra),o),Ime(Gt(this,lo),Gt(this,Ra),a,o),Tme(a,Gt(this,lo),Gt(this,Ra),o),Gt(this,Ra).on(yS.AddSprite,y=>{const{rect:_}=y;_.x===0&&_.y===0&&(_.x=(Gt(this,lo).width-_.w)/2,_.y=(Gt(this,lo).height-_.h)/2)}),Lm.forwardEvent(Gt(this,Ra),Gt(this,Sh),[yS.ActiveSpriteChange]));let s=Gt(this,Eh),u=performance.now(),d=0;const g=1e3/30;Js(this,E1,eB(()=>{(performance.now()-u)/(g*d)<1||(d+=1,Gt(this,Vv).fillStyle=t.bgColor,Gt(this,Vv).fillRect(0,0,Gt(this,lo).width,Gt(this,lo).height),om(this,td,$G).call(this),s!==Gt(this,Eh)&&(s=Gt(this,Eh),Gt(this,Sh).emit("timeupdate",Math.round(s))))},g))}play(e){const t=Gt(this,Ra).getSprites({time:!1}).map(a=>a.time.offset+a.time.duration),r=e.end??(t.length>0?Math.max(...t):1/0);if(e.start>=r||e.start<0)throw Error(`Invalid time parameter, ${JSON.stringify({start:e.start,end:r})}`);om(this,td,XE).call(this,e.start),Gt(this,Ra).getSprites({time:!1}).forEach(a=>{const{offset:o,duration:l}=a.time,s=Gt(this,Eh)-o;a.preFrame(s>0&&s<l?s:0)}),Gt(this,Lc).start=e.start,Gt(this,Lc).end=r,Gt(this,Lc).step=(e.playbackRate??1)*(1e3/30)*1e3,Gt(this,is).resume(),Gt(this,Lc).audioPlayAt=0,Gt(this,Sh).emit("playing"),fi.info("AVCanvs play by:",Gt(this,Lc))}pause(){om(this,td,YE).call(this)}previewFrame(e){om(this,td,XE).call(this,e),om(this,td,YE).call(this)}captureImage(){return Gt(this,lo).toDataURL()}get activeSprite(){return Gt(this,Ra).activeSprite}set activeSprite(e){Gt(this,Ra).activeSprite=e}destroy(){var e;Gt(this,x1)||(Js(this,x1,!0),Gt(this,is).close(),Gt(this,sm).disconnect(),Gt(this,Sh).destroy(),Gt(this,E1).call(this),(e=Gt(this,lo).parentElement)==null||e.remove(),Gt(this,C1).forEach(t=>t()),Gt(this,lm).clear(),Gt(this,Ra).destroy())}captureStream(){Gt(this,is).state==="suspended"&&Gt(this,is).resume().catch(fi.error);const e=new MediaStream(Gt(this,lo).captureStream().getTracks().concat(Gt(this,sm).stream.getTracks()));return fi.info("AVCanvas.captureStream, tracks:",e.getTracks().map(t=>t.kind)),e}async createCombinator(e={}){fi.info("AVCanvas.createCombinator, opts:",e);const t=new yme({...Gt(this,w1),...e}),r=Gt(this,Ra).getSprites({time:!1});if(r.length===0)throw Error("No sprite added");for(const a of r){const o=new mme(a.getClip());o.time={...a.time},a.copyStateTo(o),await t.addSprite(o)}return t}}lo=new WeakMap,Ra=new WeakMap,Vv=new WeakMap,x1=new WeakMap,C1=new WeakMap,E1=new WeakMap,Sh=new WeakMap,w1=new WeakMap,Eh=new WeakMap,td=new WeakSet,XE=function(n){Js(this,Eh,n),Gt(this,Ra).updateRenderTime(n)},YE=function(){const n=Gt(this,Lc).step!==0;Gt(this,Lc).step=0,n&&(Gt(this,Sh).emit("paused"),Gt(this,is).suspend());for(const e of Gt(this,lm))e.stop(),e.disconnect();Gt(this,lm).clear()},is=new WeakMap,sm=new WeakMap,lm=new WeakMap,$G=function(){var n;const e=Gt(this,Vv);let t=Gt(this,Eh);const{start:r,end:a,step:o,audioPlayAt:l}=Gt(this,Lc);o!==0&&t>=r&&t<a?t+=o:om(this,td,YE).call(this),om(this,td,XE).call(this,t);const s=[];for(const u of Gt(this,Ra).getSprites()){e.save();const{audio:d}=u.render(e,t-u.time.offset);e.restore(),s.push(d)}if(e.resetTransform(),o!==0){const u=Math.max(Gt(this,is).currentTime,l),d=$me(s,Gt(this,is));let g=0;for(const y of d)y.start(u),y.connect(Gt(this,is).destination),y.connect(Gt(this,sm)),Gt(this,lm).add(y),y.onended=()=>{y.disconnect(),Gt(this,lm).delete(y)},g=Math.max(g,((n=y.buffer)==null?void 0:n.duration)??0);Gt(this,Lc).audioPlayAt=u+g}},Lc=new WeakMap,A1=new WeakMap;function $me(n,e){const t=[];if(n.length===0)return t;for(const[r,a]of n){if(r==null||r.length<=0)continue;const o=e.createBuffer(2,r.length,Hme.sampleRate);o.copyToChannel(r,0),o.copyToChannel(a??r,1);const l=e.createBufferSource();l.buffer=o,t.push(l)}return t}function Vme(n){const e=n.createOscillator(),t=new Float32Array([0,0]),r=new Float32Array([0,0]),a=n.createPeriodicWave(t,r,{disableNormalization:!0});return e.setPeriodicWave(a),e.start(),e}function VG(){var n=this.constructor.getDerivedStateFromProps(this.props,this.state);n!=null&&this.setState(n)}function jG(n){function e(t){var r=this.constructor.getDerivedStateFromProps(n,t);return r??null}this.setState(e.bind(this))}function WG(n,e){try{var t=this.props,r=this.state;this.props=n,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(t,r)}finally{this.props=t,this.state=r}}VG.__suppressDeprecationWarning=!0;jG.__suppressDeprecationWarning=!0;WG.__suppressDeprecationWarning=!0;function ZS(n){var e=n.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof n.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return n;var t=null,r=null,a=null;if(typeof e.componentWillMount=="function"?t="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(t="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?a="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(a="UNSAFE_componentWillUpdate"),t!==null||r!==null||a!==null){var o=n.displayName||n.name,l=typeof n.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+l+" but also contains the following legacy lifecycles:"+(t!==null?`
  `+t:"")+(r!==null?`
  `+r:"")+(a!==null?`
  `+a:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof n.getDerivedStateFromProps=="function"&&(e.componentWillMount=VG,e.componentWillReceiveProps=jG),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=WG;var s=e.componentDidUpdate;e.componentDidUpdate=function(d,g,y){var _=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:y;s.call(this,d,g,_)}}return n}function rz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function az(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?rz(Object(t),!0).forEach(function(r){fe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):rz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function jme(n,e,t){return e=Di(e),Uo(n,XG()?Reflect.construct(e,t||[],Di(n).constructor):e.apply(n,t))}function XG(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XG=function(){return!!n})()}var YG=function(n){function e(){var t;ai(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=jme(this,e,[].concat(a)),fe(t,"state",{scrollToColumn:0,scrollToRow:0,instanceProps:{prevScrollToColumn:0,prevScrollToRow:0}}),fe(t,"_columnStartIndex",0),fe(t,"_columnStopIndex",0),fe(t,"_rowStartIndex",0),fe(t,"_rowStopIndex",0),fe(t,"_onKeyDown",function(l){var s=t.props,u=s.columnCount,d=s.disabled,g=s.mode,y=s.rowCount;if(!d){var _=t._getScrollState(),C=_.scrollToColumn,c=_.scrollToRow,p=t._getScrollState(),m=p.scrollToColumn,b=p.scrollToRow;switch(l.key){case"ArrowDown":b=Math.min(g==="cells"?b+1:t._rowStopIndex+1,y-1);break;case"ArrowLeft":m=Math.max(g==="cells"?m-1:t._columnStartIndex-1,0);break;case"ArrowRight":m=Math.min(g==="cells"?m+1:t._columnStopIndex+1,u-1);break;case"ArrowUp":b=Math.max(g==="cells"?b-1:t._rowStartIndex-1,0);break}(m!==C||b!==c)&&(l.preventDefault(),t._updateScrollState({scrollToColumn:m,scrollToRow:b}))}}),fe(t,"_onSectionRendered",function(l){var s=l.columnStartIndex,u=l.columnStopIndex,d=l.rowStartIndex,g=l.rowStopIndex;t._columnStartIndex=s,t._columnStopIndex=u,t._rowStartIndex=d,t._rowStopIndex=g}),t}return wr(e,n),oi(e,[{key:"setScrollIndexes",value:function(r){var a=r.scrollToColumn,o=r.scrollToRow;this.setState({scrollToRow:o,scrollToColumn:a})}},{key:"render",value:function(){var r=this.props,a=r.className,o=r.children,l=this._getScrollState(),s=l.scrollToColumn,u=l.scrollToRow;return A.createElement("div",{className:a,onKeyDown:this._onKeyDown},o({onSectionRendered:this._onSectionRendered,scrollToColumn:s,scrollToRow:u}))}},{key:"_getScrollState",value:function(){return this.props.isControlled?this.props:this.state}},{key:"_updateScrollState",value:function(r){var a=r.scrollToColumn,o=r.scrollToRow,l=this.props,s=l.isControlled,u=l.onScrollToChange;typeof u=="function"&&u({scrollToColumn:a,scrollToRow:o}),s||this.setState({scrollToColumn:a,scrollToRow:o})}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.isControlled?{}:r.scrollToColumn!==a.instanceProps.prevScrollToColumn||r.scrollToRow!==a.instanceProps.prevScrollToRow?az(az({},a),{},{scrollToColumn:r.scrollToColumn,scrollToRow:r.scrollToRow,instanceProps:{prevScrollToColumn:r.scrollToColumn,prevScrollToRow:r.scrollToRow}}):{}}}])}(A.PureComponent);fe(YG,"defaultProps",{disabled:!1,isControlled:!1,mode:"edges",scrollToColumn:0,scrollToRow:0});ZS(YG);function qG(n,e){var t;typeof e<"u"?t=e:typeof window<"u"?t=window:typeof self<"u"?t=self:t=global;var r=typeof t.document<"u"&&t.document.attachEvent;if(!r){var a=function(){var P=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||function(F){return t.setTimeout(F,20)};return function(F){return P(F)}}(),o=function(){var P=t.cancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelAnimationFrame||t.clearTimeout;return function(F){return P(F)}}(),l=function(F){var U=F.__resizeTriggers__,z=U.firstElementChild,$=U.lastElementChild,J=z.firstElementChild;$.scrollLeft=$.scrollWidth,$.scrollTop=$.scrollHeight,J.style.width=z.offsetWidth+1+"px",J.style.height=z.offsetHeight+1+"px",z.scrollLeft=z.scrollWidth,z.scrollTop=z.scrollHeight},s=function(F){return F.offsetWidth!=F.__resizeLast__.width||F.offsetHeight!=F.__resizeLast__.height},u=function(F){if(!(F.target.className&&typeof F.target.className.indexOf=="function"&&F.target.className.indexOf("contract-trigger")<0&&F.target.className.indexOf("expand-trigger")<0)){var U=this;l(this),this.__resizeRAF__&&o(this.__resizeRAF__),this.__resizeRAF__=a(function(){s(U)&&(U.__resizeLast__.width=U.offsetWidth,U.__resizeLast__.height=U.offsetHeight,U.__resizeListeners__.forEach(function(z){z.call(U,F)}))})}},d=!1,g="",y="animationstart",_="Webkit Moz O ms".split(" "),C="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),c="";{var p=t.document.createElement("fakeelement");if(p.style.animationName!==void 0&&(d=!0),d===!1){for(var m=0;m<_.length;m++)if(p.style[_[m]+"AnimationName"]!==void 0){c=_[m],g="-"+c.toLowerCase()+"-",y=C[m],d=!0;break}}}var b="resizeanim",E="@"+g+"keyframes "+b+" { from { opacity: 0; } to { opacity: 0; } } ",T=g+"animation: 1ms "+b+"; "}var R=function(F){if(!F.getElementById("detectElementResize")){var U=(E||"")+".resize-triggers { "+(T||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',z=F.head||F.getElementsByTagName("head")[0],$=F.createElement("style");$.id="detectElementResize",$.type="text/css",n!=null&&$.setAttribute("nonce",n),$.styleSheet?$.styleSheet.cssText=U:$.appendChild(F.createTextNode(U)),z.appendChild($)}},O=function(F,U){if(r)F.attachEvent("onresize",U);else{if(!F.__resizeTriggers__){var z=F.ownerDocument,$=t.getComputedStyle(F);$&&$.position=="static"&&(F.style.position="relative"),R(z),F.__resizeLast__={},F.__resizeListeners__=[],(F.__resizeTriggers__=z.createElement("div")).className="resize-triggers";var J=z.createElement("div");J.className="expand-trigger",J.appendChild(z.createElement("div"));var W=z.createElement("div");W.className="contract-trigger",F.__resizeTriggers__.appendChild(J),F.__resizeTriggers__.appendChild(W),F.appendChild(F.__resizeTriggers__),l(F),F.addEventListener("scroll",u,!0),y&&(F.__resizeTriggers__.__animationListener__=function(oe){oe.animationName==b&&l(F)},F.__resizeTriggers__.addEventListener(y,F.__resizeTriggers__.__animationListener__))}F.__resizeListeners__.push(U)}},D=function(F,U){if(r)F.detachEvent("onresize",U);else if(F.__resizeListeners__.splice(F.__resizeListeners__.indexOf(U),1),!F.__resizeListeners__.length){F.removeEventListener("scroll",u,!0),F.__resizeTriggers__.__animationListener__&&(F.__resizeTriggers__.removeEventListener(y,F.__resizeTriggers__.__animationListener__),F.__resizeTriggers__.__animationListener__=null);try{F.__resizeTriggers__=!F.removeChild(F.__resizeTriggers__)}catch{}}};return{addResizeListener:O,removeResizeListener:D}}function oz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function sz(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?oz(Object(t),!0).forEach(function(r){fe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):oz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Wme(n,e,t){return e=Di(e),Uo(n,KG()?Reflect.construct(e,t||[],Di(n).constructor):e.apply(n,t))}function KG(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KG=function(){return!!n})()}var lB=function(n){function e(){var t;ai(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=Wme(this,e,[].concat(a)),fe(t,"state",{height:t.props.defaultHeight||0,width:t.props.defaultWidth||0}),fe(t,"_parentNode",void 0),fe(t,"_autoSizer",void 0),fe(t,"_window",void 0),fe(t,"_detectElementResize",void 0),fe(t,"_onResize",function(){var l=t.props,s=l.disableHeight,u=l.disableWidth,d=l.onResize;if(t._parentNode){var g=t._parentNode.offsetHeight||0,y=t._parentNode.offsetWidth||0,_=t._window||window,C=_.getComputedStyle(t._parentNode)||{},c=parseInt(C.paddingLeft,10)||0,p=parseInt(C.paddingRight,10)||0,m=parseInt(C.paddingTop,10)||0,b=parseInt(C.paddingBottom,10)||0,E=g-m-b,T=y-c-p;(!s&&t.state.height!==E||!u&&t.state.width!==T)&&(t.setState({height:g-m-b,width:y-c-p}),d({height:g,width:y}))}}),fe(t,"_setRef",function(l){t._autoSizer=l}),t}return wr(e,n),oi(e,[{key:"componentDidMount",value:function(){var r=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._window=this._autoSizer.parentNode.ownerDocument.defaultView,this._detectElementResize=qG(r,this._window),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var r=this.props,a=r.children,o=r.className,l=r.disableHeight,s=r.disableWidth,u=r.style,d=this.state,g=d.height,y=d.width,_={overflow:"visible"},C={};return l||(_.height=0,C.height=g),s||(_.width=0,C.width=y),A.createElement("div",{className:o,ref:this._setRef,style:sz(sz({},_),u)},a(C))}}])}(A.Component);fe(lB,"defaultProps",{onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}});function Xme(n,e,t){return e=Di(e),Uo(n,JG()?Reflect.construct(e,t||[],Di(n).constructor):e.apply(n,t))}function JG(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JG=function(){return!!n})()}var Yme=function(n){function e(){var t;ai(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=Xme(this,e,[].concat(a)),fe(t,"_child",A.createRef()),fe(t,"_measure",function(){var l=t.props,s=l.cache,u=l.columnIndex,d=u===void 0?0:u,g=l.parent,y=l.rowIndex,_=y===void 0?t.props.index||0:y,C=t._getCellMeasurements(),c=C.height,p=C.width;(c!==s.getHeight(_,d)||p!==s.getWidth(_,d))&&(s.set(_,d,p,c),g&&typeof g.recomputeGridSize=="function"&&g.recomputeGridSize({columnIndex:d,rowIndex:_}))}),fe(t,"_registerChild",function(l){l&&!(l instanceof Element)&&console.warn("CellMeasurer registerChild expects to be passed Element or null"),t._child.current=l,l&&t._maybeMeasureCell()}),t}return wr(e,n),oi(e,[{key:"componentDidMount",value:function(){this._maybeMeasureCell()}},{key:"componentDidUpdate",value:function(){this._maybeMeasureCell()}},{key:"render",value:function(){var r=this,a=this.props.children,o=typeof a=="function"?a({measure:this._measure,registerChild:this._registerChild}):a;return o===null?o:A.cloneElement(o,{ref:function(s){typeof o.ref=="function"?o.ref(s):o.ref&&(o.ref.current=s),r._child.current=s}})}},{key:"_getCellMeasurements",value:function(){var r=this.props.cache,a=this._child.current;if(a&&a.ownerDocument&&a.ownerDocument.defaultView&&a instanceof a.ownerDocument.defaultView.HTMLElement){var o=a.style.width,l=a.style.height;r.hasFixedWidth()||(a.style.width="auto"),r.hasFixedHeight()||(a.style.height="auto");var s=Math.ceil(a.offsetHeight),u=Math.ceil(a.offsetWidth);return o&&(a.style.width=o),l&&(a.style.height=l),{height:s,width:u}}else return{height:0,width:0}}},{key:"_maybeMeasureCell",value:function(){var r=this.props,a=r.cache,o=r.columnIndex,l=o===void 0?0:o,s=r.parent,u=r.rowIndex,d=u===void 0?this.props.index||0:u;if(!a.has(d,l)){var g=this._getCellMeasurements(),y=g.height,_=g.width;a.set(d,l,_,y),s&&typeof s.invalidateCellSizeAfterRender=="function"&&s.invalidateCellSizeAfterRender({columnIndex:l,rowIndex:d})}}}])}(A.PureComponent);fe(Yme,"__internalCellMeasurerFlag",!1);function QG(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=QG(n[e]))&&(r&&(r+=" "),r+=t);else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function Nc(){for(var n,e,t=0,r="";t<arguments.length;)(n=arguments[t++])&&(e=QG(n))&&(r&&(r+=" "),r+=e);return r}function x0(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e={};return function(t){var r=t.callback,a=t.indices,o=Object.keys(a),l=!n||o.every(function(u){var d=a[u];return Array.isArray(d)?d.length>0:d>=0}),s=o.length!==Object.keys(e).length||o.some(function(u){var d=e[u],g=a[u];return Array.isArray(g)?d.join(",")!==g.join(","):d!==g});e=a,l&&s&&r(a)}}const qme=!!(typeof window<"u"&&window.document&&window.document.createElement);var wC;function iO(n){if((!wC&&wC!==0||n)&&qme){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),wC=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return wC}function lz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function cz(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?lz(Object(t),!0).forEach(function(r){fe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):lz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Kme(n,e,t){return e=Di(e),Uo(n,ZG()?Reflect.construct(e,t||[],Di(n).constructor):e.apply(n,t))}function ZG(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZG=function(){return!!n})()}var Jme=150,fv={OBSERVED:"observed",REQUESTED:"requested"},gA=function(n){function e(){var t;ai(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=Kme(this,e,[].concat(a)),fe(t,"state",{isScrolling:!1,scrollLeft:0,scrollTop:0}),fe(t,"_calculateSizeAndPositionDataOnNextUpdate",!1),fe(t,"_onSectionRenderedMemoizer",x0()),fe(t,"_onScrollMemoizer",x0(!1)),fe(t,"_invokeOnSectionRenderedHelper",function(){var l=t.props,s=l.cellLayoutManager,u=l.onSectionRendered;t._onSectionRenderedMemoizer({callback:u,indices:{indices:s.getLastRenderedIndices()}})}),fe(t,"_setScrollingContainerRef",function(l){t._scrollingContainer=l}),fe(t,"_updateScrollPositionForScrollToCell",function(){var l=t.props,s=l.cellLayoutManager,u=l.height,d=l.scrollToAlignment,g=l.scrollToCell,y=l.width,_=t.state,C=_.scrollLeft,c=_.scrollTop;if(g>=0){var p=s.getScrollPositionForCell({align:d,cellIndex:g,height:u,scrollLeft:C,scrollTop:c,width:y});(p.scrollLeft!==C||p.scrollTop!==c)&&t._setScrollPosition(p)}}),fe(t,"_onScroll",function(l){if(l.target===t._scrollingContainer){t._enablePointerEventsAfterDelay();var s=t.props,u=s.cellLayoutManager,d=s.height,g=s.isScrollingChange,y=s.width,_=t._scrollbarSize,C=u.getTotalSize(),c=C.height,p=C.width,m=Math.max(0,Math.min(p-y+_,l.target.scrollLeft)),b=Math.max(0,Math.min(c-d+_,l.target.scrollTop));if(t.state.scrollLeft!==m||t.state.scrollTop!==b){var E=l.cancelable?fv.OBSERVED:fv.REQUESTED;t.state.isScrolling||g(!0),t.setState({isScrolling:!0,scrollLeft:m,scrollPositionChangeReason:E,scrollTop:b})}t._invokeOnScrollMemoizer({scrollLeft:m,scrollTop:b,totalWidth:p,totalHeight:c})}}),t._scrollbarSize=iO(),t._scrollbarSize===void 0?(t._scrollbarSizeMeasured=!1,t._scrollbarSize=0):t._scrollbarSizeMeasured=!0,t}return wr(e,n),oi(e,[{key:"recomputeCellSizesAndPositions",value:function(){this._calculateSizeAndPositionDataOnNextUpdate=!0,this.forceUpdate()}},{key:"componentDidMount",value:function(){var r=this.props,a=r.cellLayoutManager,o=r.scrollLeft,l=r.scrollToCell,s=r.scrollTop;this._scrollbarSizeMeasured||(this._scrollbarSize=iO(),this._scrollbarSizeMeasured=!0,this.setState({})),l>=0?this._updateScrollPositionForScrollToCell():(o>=0||s>=0)&&this._setScrollPosition({scrollLeft:o,scrollTop:s}),this._invokeOnSectionRenderedHelper();var u=a.getTotalSize(),d=u.height,g=u.width;this._invokeOnScrollMemoizer({scrollLeft:o||0,scrollTop:s||0,totalHeight:d,totalWidth:g})}},{key:"componentDidUpdate",value:function(r,a){var o=this.props,l=o.height,s=o.scrollToAlignment,u=o.scrollToCell,d=o.width,g=this.state,y=g.scrollLeft,_=g.scrollPositionChangeReason,C=g.scrollTop;_===fv.REQUESTED&&(y>=0&&y!==a.scrollLeft&&y!==this._scrollingContainer.scrollLeft&&(this._scrollingContainer.scrollLeft=y),C>=0&&C!==a.scrollTop&&C!==this._scrollingContainer.scrollTop&&(this._scrollingContainer.scrollTop=C)),(l!==r.height||s!==r.scrollToAlignment||u!==r.scrollToCell||d!==r.width)&&this._updateScrollPositionForScrollToCell(),this._invokeOnSectionRenderedHelper()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var r=this.props,a=r.autoHeight,o=r.cellCount,l=r.cellLayoutManager,s=r.className,u=r.height,d=r.horizontalOverscanSize,g=r.id,y=r.noContentRenderer,_=r.style,C=r.verticalOverscanSize,c=r.width,p=this.state,m=p.isScrolling,b=p.scrollLeft,E=p.scrollTop;(this._lastRenderedCellCount!==o||this._lastRenderedCellLayoutManager!==l||this._calculateSizeAndPositionDataOnNextUpdate)&&(this._lastRenderedCellCount=o,this._lastRenderedCellLayoutManager=l,this._calculateSizeAndPositionDataOnNextUpdate=!1,l.calculateSizeAndPositionData());var T=l.getTotalSize(),R=T.height,O=T.width,D=Math.max(0,b-d),P=Math.max(0,E-C),F=Math.min(O,b+c+d),U=Math.min(R,E+u+C),z=u>0&&c>0?l.cellRenderers({height:U-P,isScrolling:m,width:F-D,x:D,y:P}):[],$={boxSizing:"border-box",direction:"ltr",height:a?"auto":u,position:"relative",WebkitOverflowScrolling:"touch",width:c,willChange:"transform"},J=R>u?this._scrollbarSize:0,W=O>c?this._scrollbarSize:0;return $.overflowX=O+J<=c?"hidden":"auto",$.overflowY=R+W<=u?"hidden":"auto",A.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:Nc("ReactVirtualized__Collection",s),id:g,onScroll:this._onScroll,role:"grid",style:cz(cz({},$),_),tabIndex:0},o>0&&A.createElement("div",{className:"ReactVirtualized__Collection__innerScrollContainer",style:{height:R,maxHeight:R,maxWidth:O,overflow:"hidden",pointerEvents:m?"none":"",width:O}},z),o===0&&y())}},{key:"_enablePointerEventsAfterDelay",value:function(){var r=this;this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=setTimeout(function(){var a=r.props.isScrollingChange;a(!1),r._disablePointerEventsTimeoutId=null,r.setState({isScrolling:!1})},Jme)}},{key:"_invokeOnScrollMemoizer",value:function(r){var a=this,o=r.scrollLeft,l=r.scrollTop,s=r.totalHeight,u=r.totalWidth;this._onScrollMemoizer({callback:function(g){var y=g.scrollLeft,_=g.scrollTop,C=a.props,c=C.height,p=C.onScroll,m=C.width;p({clientHeight:c,clientWidth:m,scrollHeight:s,scrollLeft:y,scrollTop:_,scrollWidth:u})},indices:{scrollLeft:o,scrollTop:l}})}},{key:"_setScrollPosition",value:function(r){var a=r.scrollLeft,o=r.scrollTop,l={scrollPositionChangeReason:fv.REQUESTED};a>=0&&(l.scrollLeft=a),o>=0&&(l.scrollTop=o),(a>=0&&a!==this.state.scrollLeft||o>=0&&o!==this.state.scrollTop)&&this.setState(l)}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.cellCount===0&&(a.scrollLeft!==0||a.scrollTop!==0)?{scrollLeft:0,scrollTop:0,scrollPositionChangeReason:fv.REQUESTED}:r.scrollLeft!==a.scrollLeft||r.scrollTop!==a.scrollTop?{scrollLeft:r.scrollLeft!=null?r.scrollLeft:a.scrollLeft,scrollTop:r.scrollTop!=null?r.scrollTop:a.scrollTop,scrollPositionChangeReason:fv.REQUESTED}:null}}])}(A.PureComponent);fe(gA,"defaultProps",{"aria-label":"grid",horizontalOverscanSize:0,noContentRenderer:function(){return null},onScroll:function(){return null},onSectionRendered:function(){return null},scrollToAlignment:"auto",scrollToCell:-1,style:{},verticalOverscanSize:0});gA.propTypes={};ZS(gA);var Qme=function(){function n(e){var t=e.height,r=e.width,a=e.x,o=e.y;ai(this,n),this.height=t,this.width=r,this.x=a,this.y=o,this._indexMap={},this._indices=[]}return oi(n,[{key:"addCellIndex",value:function(t){var r=t.index;this._indexMap[r]||(this._indexMap[r]=!0,this._indices.push(r))}},{key:"getCellIndices",value:function(){return this._indices}},{key:"toString",value:function(){return"".concat(this.x,",").concat(this.y," ").concat(this.width,"x").concat(this.height)}}])}(),Zme=100,ege=function(){function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Zme;ai(this,n),this._sectionSize=e,this._cellMetadata=[],this._sections={}}return oi(n,[{key:"getCellIndices",value:function(t){var r=t.height,a=t.width,o=t.x,l=t.y,s={};return this.getSections({height:r,width:a,x:o,y:l}).forEach(function(u){return u.getCellIndices().forEach(function(d){s[d]=d})}),Object.keys(s).map(function(u){return s[u]})}},{key:"getCellMetadata",value:function(t){var r=t.index;return this._cellMetadata[r]}},{key:"getSections",value:function(t){for(var r=t.height,a=t.width,o=t.x,l=t.y,s=Math.floor(o/this._sectionSize),u=Math.floor((o+a-1)/this._sectionSize),d=Math.floor(l/this._sectionSize),g=Math.floor((l+r-1)/this._sectionSize),y=[],_=s;_<=u;_++)for(var C=d;C<=g;C++){var c="".concat(_,".").concat(C);this._sections[c]||(this._sections[c]=new Qme({height:this._sectionSize,width:this._sectionSize,x:_*this._sectionSize,y:C*this._sectionSize})),y.push(this._sections[c])}return y}},{key:"getTotalSectionCount",value:function(){return Object.keys(this._sections).length}},{key:"toString",value:function(){var t=this;return Object.keys(this._sections).map(function(r){return t._sections[r].toString()})}},{key:"registerCell",value:function(t){var r=t.cellMetadatum,a=t.index;this._cellMetadata[a]=r,this.getSections(r).forEach(function(o){return o.addCellIndex({index:a})})}}])}();function tge(n){for(var e=n.cellCount,t=n.cellSizeAndPositionGetter,r=n.sectionSize,a=[],o=new ege(r),l=0,s=0,u=0;u<e;u++){var d=t({index:u});if(d.height==null||isNaN(d.height)||d.width==null||isNaN(d.width)||d.x==null||isNaN(d.x)||d.y==null||isNaN(d.y))throw Error("Invalid metadata returned for cell ".concat(u,`:
        x:`).concat(d.x,", y:").concat(d.y,", width:").concat(d.width,", height:").concat(d.height));l=Math.max(l,d.y+d.height),s=Math.max(s,d.x+d.width),a[u]=d,o.registerCell({cellMetadatum:d,index:u})}return{cellMetadata:a,height:l,sectionManager:o,width:s}}function uz(n){var e=n.align,t=e===void 0?"auto":e,r=n.cellOffset,a=n.cellSize,o=n.containerSize,l=n.currentOffset,s=r,u=s-o+a;switch(t){case"start":return s;case"end":return u;case"center":return s-(o-a)/2;default:return Math.max(u,Math.min(s,l))}}function nge(n,e,t){return e=Di(e),Uo(n,e5()?Reflect.construct(e,t||[],Di(n).constructor):e.apply(n,t))}function e5(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e5=function(){return!!n})()}var t5=function(n){function e(t,r){var a;return ai(this,e),a=nge(this,e,[t,r]),a._cellMetadata=[],a._lastRenderedCellIndices=[],a._cellCache=[],a._isScrollingChange=a._isScrollingChange.bind(a),a._setCollectionViewRef=a._setCollectionViewRef.bind(a),a}return wr(e,n),oi(e,[{key:"forceUpdate",value:function(){this._collectionView!==void 0&&this._collectionView.forceUpdate()}},{key:"recomputeCellSizesAndPositions",value:function(){this._cellCache=[],this._collectionView.recomputeCellSizesAndPositions()}},{key:"render",value:function(){var r=Nt({},(Fee(this.props),this.props));return A.createElement(gA,Nt({cellLayoutManager:this,isScrollingChange:this._isScrollingChange,ref:this._setCollectionViewRef},r))}},{key:"calculateSizeAndPositionData",value:function(){var r=this.props,a=r.cellCount,o=r.cellSizeAndPositionGetter,l=r.sectionSize,s=tge({cellCount:a,cellSizeAndPositionGetter:o,sectionSize:l});this._cellMetadata=s.cellMetadata,this._sectionManager=s.sectionManager,this._height=s.height,this._width=s.width}},{key:"getLastRenderedIndices",value:function(){return this._lastRenderedCellIndices}},{key:"getScrollPositionForCell",value:function(r){var a=r.align,o=r.cellIndex,l=r.height,s=r.scrollLeft,u=r.scrollTop,d=r.width,g=this.props.cellCount;if(o>=0&&o<g){var y=this._cellMetadata[o];s=uz({align:a,cellOffset:y.x,cellSize:y.width,containerSize:d,currentOffset:s}),u=uz({align:a,cellOffset:y.y,cellSize:y.height,containerSize:l,currentOffset:u})}return{scrollLeft:s,scrollTop:u}}},{key:"getTotalSize",value:function(){return{height:this._height,width:this._width}}},{key:"cellRenderers",value:function(r){var a=this,o=r.height,l=r.isScrolling,s=r.width,u=r.x,d=r.y,g=this.props,y=g.cellGroupRenderer,_=g.cellRenderer;return this._lastRenderedCellIndices=this._sectionManager.getCellIndices({height:o,width:s,x:u,y:d}),y({cellCache:this._cellCache,cellRenderer:_,cellSizeAndPositionGetter:function(c){var p=c.index;return a._sectionManager.getCellMetadata({index:p})},indices:this._lastRenderedCellIndices,isScrolling:l})}},{key:"_isScrollingChange",value:function(r){r||(this._cellCache=[])}},{key:"_setCollectionViewRef",value:function(r){this._collectionView=r}}])}(A.PureComponent);fe(t5,"defaultProps",{"aria-label":"grid",cellGroupRenderer:ige});t5.propTypes={};function ige(n){var e=n.cellCache,t=n.cellRenderer,r=n.cellSizeAndPositionGetter,a=n.indices,o=n.isScrolling;return a.map(function(l){var s=r({index:l}),u={index:l,isScrolling:o,key:l,style:{height:s.height,left:s.x,position:"absolute",top:s.y,width:s.width}};return o?(l in e||(e[l]=t(u)),e[l]):t(u)}).filter(function(l){return!!l})}function rge(n,e,t){return e=Di(e),Uo(n,n5()?Reflect.construct(e,t||[],Di(n).constructor):e.apply(n,t))}function n5(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n5=function(){return!!n})()}var age=function(n){function e(t,r){var a;return ai(this,e),a=rge(this,e,[t,r]),a._registerChild=a._registerChild.bind(a),a}return wr(e,n),oi(e,[{key:"componentDidUpdate",value:function(r){var a=this.props,o=a.columnMaxWidth,l=a.columnMinWidth,s=a.columnCount,u=a.width;(o!==r.columnMaxWidth||l!==r.columnMinWidth||s!==r.columnCount||u!==r.width)&&this._registeredChild&&this._registeredChild.recomputeGridSize()}},{key:"render",value:function(){var r=this.props,a=r.children,o=r.columnMaxWidth,l=r.columnMinWidth,s=r.columnCount,u=r.width,d=l||1,g=o?Math.min(o,u):u,y=u/s;y=Math.max(d,y),y=Math.min(g,y),y=Math.floor(y);var _=Math.min(u,y*s);return a({adjustedWidth:_,columnWidth:y,getColumnWidth:function(){return y},registerChild:this._registerChild})}},{key:"_registerChild",value:function(r){if(r&&typeof r.recomputeGridSize!="function")throw Error("Unexpected child type registered; only Grid/MultiGrid children are supported.");this._registeredChild=r,this._registeredChild&&this._registeredChild.recomputeGridSize()}}])}(A.PureComponent);age.propTypes={};function fz(n){var e=n.cellCount,t=n.cellSize,r=n.computeMetadataCallback,a=n.computeMetadataCallbackProps,o=n.nextCellsCount,l=n.nextCellSize,s=n.nextScrollToIndex,u=n.scrollToIndex,d=n.updateScrollOffsetForScrollToIndex;(e!==o||(typeof t=="number"||typeof l=="number")&&t!==l)&&(r(a),u>=0&&u===s&&d())}var oge=function(){function n(e){var t=e.cellCount,r=e.cellSizeGetter,a=e.estimatedCellSize;ai(this,n),fe(this,"_cellSizeAndPositionData",{}),fe(this,"_lastMeasuredIndex",-1),fe(this,"_lastBatchedIndex",-1),fe(this,"_cellCount",void 0),fe(this,"_cellSizeGetter",void 0),fe(this,"_estimatedCellSize",void 0),this._cellSizeGetter=r,this._cellCount=t,this._estimatedCellSize=a}return oi(n,[{key:"areOffsetsAdjusted",value:function(){return!1}},{key:"configure",value:function(t){var r=t.cellCount,a=t.estimatedCellSize,o=t.cellSizeGetter;this._cellCount=r,this._estimatedCellSize=a,this._cellSizeGetter=o}},{key:"getCellCount",value:function(){return this._cellCount}},{key:"getEstimatedCellSize",value:function(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function(){return this._lastMeasuredIndex}},{key:"getOffsetAdjustment",value:function(){return 0}},{key:"getSizeAndPositionOfCell",value:function(t){if(t<0||t>=this._cellCount)throw Error("Requested index ".concat(t," is outside of range 0..").concat(this._cellCount));if(t>this._lastMeasuredIndex)for(var r=this.getSizeAndPositionOfLastMeasuredCell(),a=r.offset+r.size,o=this._lastMeasuredIndex+1;o<=t;o++){var l=this._cellSizeGetter({index:o});if(l===void 0||isNaN(l))throw Error("Invalid size returned for cell ".concat(o," of value ").concat(l));l===null?(this._cellSizeAndPositionData[o]={offset:a,size:0},this._lastBatchedIndex=t):(this._cellSizeAndPositionData[o]={offset:a,size:l},a+=l,this._lastMeasuredIndex=t)}return this._cellSizeAndPositionData[t]}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._lastMeasuredIndex>=0?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}}},{key:"getTotalSize",value:function(){var t=this.getSizeAndPositionOfLastMeasuredCell(),r=t.offset+t.size,a=this._cellCount-this._lastMeasuredIndex-1,o=a*this._estimatedCellSize;return r+o}},{key:"getUpdatedOffsetForIndex",value:function(t){var r=t.align,a=r===void 0?"auto":r,o=t.containerSize,l=t.currentOffset,s=t.targetIndex;if(o<=0)return 0;var u=this.getSizeAndPositionOfCell(s),d=u.offset,g=d-o+u.size,y;switch(a){case"start":y=d;break;case"end":y=g;break;case"center":y=d-(o-u.size)/2;break;default:y=Math.max(g,Math.min(d,l));break}var _=this.getTotalSize();return Math.max(0,Math.min(_-o,y))}},{key:"getVisibleCellRange",value:function(t){var r=t.containerSize,a=t.offset,o=this.getTotalSize();if(o===0)return{};var l=a+r,s=this._findNearestCell(a),u=this.getSizeAndPositionOfCell(s);a=u.offset+u.size;for(var d=s;a<l&&d<this._cellCount-1;)d++,a+=this.getSizeAndPositionOfCell(d).size;return{start:s,stop:d}}},{key:"resetCell",value:function(t){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,t-1)}},{key:"_binarySearch",value:function(t,r,a){for(;r<=t;){var o=r+Math.floor((t-r)/2),l=this.getSizeAndPositionOfCell(o).offset;if(l===a)return o;l<a?r=o+1:l>a&&(t=o-1)}return r>0?r-1:0}},{key:"_exponentialSearch",value:function(t,r){for(var a=1;t<this._cellCount&&this.getSizeAndPositionOfCell(t).offset<r;)t+=a,a*=2;return this._binarySearch(Math.min(t,this._cellCount-1),Math.floor(t/2),r)}},{key:"_findNearestCell",value:function(t){if(isNaN(t))throw Error("Invalid offset ".concat(t," specified"));t=Math.max(0,t);var r=this.getSizeAndPositionOfLastMeasuredCell(),a=Math.max(0,this._lastMeasuredIndex);return r.offset>=t?this._binarySearch(a,0,t):this._exponentialSearch(a,t)}}])}(),sge=15e5,lge=16777100,cge=function(){return typeof window<"u"},uge=function(){return!!window.chrome},fge=function(){return cge()&&uge()?lge:sge},dge=["maxScrollSize"],dz=function(){function n(e){var t=e.maxScrollSize,r=t===void 0?fge():t,a=$n(e,dge);ai(this,n),fe(this,"_cellSizeAndPositionManager",void 0),fe(this,"_maxScrollSize",void 0),this._cellSizeAndPositionManager=new oge(a),this._maxScrollSize=r}return oi(n,[{key:"areOffsetsAdjusted",value:function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:"configure",value:function(t){this._cellSizeAndPositionManager.configure(t)}},{key:"getCellCount",value:function(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function(t){var r=t.containerSize,a=t.offset,o=this._cellSizeAndPositionManager.getTotalSize(),l=this.getTotalSize(),s=this._getOffsetPercentage({containerSize:r,offset:a,totalSize:l});return Math.round(s*(l-o))}},{key:"getSizeAndPositionOfCell",value:function(t){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(t)}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function(t){var r=t.align,a=r===void 0?"auto":r,o=t.containerSize,l=t.currentOffset,s=t.targetIndex;l=this._safeOffsetToOffset({containerSize:o,offset:l});var u=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:a,containerSize:o,currentOffset:l,targetIndex:s});return this._offsetToSafeOffset({containerSize:o,offset:u})}},{key:"getVisibleCellRange",value:function(t){var r=t.containerSize,a=t.offset;return a=this._safeOffsetToOffset({containerSize:r,offset:a}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:r,offset:a})}},{key:"resetCell",value:function(t){this._cellSizeAndPositionManager.resetCell(t)}},{key:"_getOffsetPercentage",value:function(t){var r=t.containerSize,a=t.offset,o=t.totalSize;return o<=r?0:a/(o-r)}},{key:"_offsetToSafeOffset",value:function(t){var r=t.containerSize,a=t.offset,o=this._cellSizeAndPositionManager.getTotalSize(),l=this.getTotalSize();if(o===l)return a;var s=this._getOffsetPercentage({containerSize:r,offset:a,totalSize:o});return Math.round(s*(l-r))}},{key:"_safeOffsetToOffset",value:function(t){var r=t.containerSize,a=t.offset,o=this._cellSizeAndPositionManager.getTotalSize(),l=this.getTotalSize();if(o===l)return a;var s=this._getOffsetPercentage({containerSize:r,offset:a,totalSize:l});return Math.round(s*(o-r))}}])}(),AC=-1,Kf=1;function hge(n){var e=n.cellCount,t=n.overscanCellsCount,r=n.scrollDirection,a=n.startIndex,o=n.stopIndex;return r===Kf?{overscanStartIndex:Math.max(0,a),overscanStopIndex:Math.min(e-1,o+t)}:{overscanStartIndex:Math.max(0,a-t),overscanStopIndex:Math.min(e-1,o)}}function hz(n){var e=n.cellSize,t=n.cellSizeAndPositionManager,r=n.previousCellsCount,a=n.previousCellSize,o=n.previousScrollToAlignment,l=n.previousScrollToIndex,s=n.previousSize,u=n.scrollOffset,d=n.scrollToAlignment,g=n.scrollToIndex,y=n.size,_=n.sizeJustIncreasedFromZero,C=n.updateScrollIndexCallback,c=t.getCellCount(),p=g>=0&&g<c,m=y!==s||_||!a||typeof e=="number"&&e!==a;p&&(m||d!==o||g!==l)?C(g):!p&&c>0&&(y<s||c<r)&&u>t.getTotalSize()-y&&C(c-1)}function pge(n){for(var e=n.cellCache,t=n.cellRenderer,r=n.columnSizeAndPositionManager,a=n.columnStartIndex,o=n.columnStopIndex,l=n.deferredMeasurementCache,s=n.horizontalOffsetAdjustment,u=n.isScrolling,d=n.isScrollingOptOut,g=n.parent,y=n.rowSizeAndPositionManager,_=n.rowStartIndex,C=n.rowStopIndex,c=n.styleCache,p=n.verticalOffsetAdjustment,m=n.visibleColumnIndices,b=n.visibleRowIndices,E=[],T=r.areOffsetsAdjusted()||y.areOffsetsAdjusted(),R=!u&&!T,O=_;O<=C;O++)for(var D=y.getSizeAndPositionOfCell(O),P=a;P<=o;P++){var F=r.getSizeAndPositionOfCell(P),U=P>=m.start&&P<=m.stop&&O>=b.start&&O<=b.stop,z="".concat(O,"-").concat(P),$=void 0;R&&c[z]?$=c[z]:l&&!l.has(O,P)?$={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:($={height:D.size,left:F.offset+s,position:"absolute",top:D.offset+p,width:F.size},c[z]=$);var J={columnIndex:P,isScrolling:u,isVisible:U,key:z,parent:g,rowIndex:O,style:$},W=void 0;(d||u)&&!s&&!p?(e[z]||(e[z]=t(J)),W=e[z]):W=t(J),!(W==null||W===!1)&&(W.props.role||(W=We.cloneElement(W,{role:"gridcell"})),E.push(W))}return E}var as;typeof window<"u"?as=window:typeof self<"u"?as=self:as={};var mge=as.requestAnimationFrame||as.webkitRequestAnimationFrame||as.mozRequestAnimationFrame||as.oRequestAnimationFrame||as.msRequestAnimationFrame||function(n){return as.setTimeout(n,1e3/60)},gge=as.cancelAnimationFrame||as.webkitCancelAnimationFrame||as.mozCancelAnimationFrame||as.oCancelAnimationFrame||as.msCancelAnimationFrame||function(n){as.clearTimeout(n)},pz=mge,vge=gge,C0=function(e){return vge(e.id)},cB=function(e,t){var r;Promise.resolve().then(function(){r=Date.now()});var a=function(){Date.now()-r>=t?e.call():o.id=pz(a)},o={id:pz(a)};return o};function mz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function Es(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?mz(Object(t),!0).forEach(function(r){fe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):mz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function yge(n,e,t){return e=Di(e),Uo(n,i5()?Reflect.construct(e,t||[],Di(n).constructor):e.apply(n,t))}function i5(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i5=function(){return!!n})()}var bge=150,rR={OBSERVED:"observed",REQUESTED:"requested"},Sge=function(){return null},Xu=function(n){function e(t){var r;ai(this,e),r=yge(this,e,[t]),fe(r,"_onGridRenderedMemoizer",x0()),fe(r,"_onScrollMemoizer",x0(!1)),fe(r,"_deferredInvalidateColumnIndex",null),fe(r,"_deferredInvalidateRowIndex",null),fe(r,"_recomputeScrollLeftFlag",!1),fe(r,"_recomputeScrollTopFlag",!1),fe(r,"_horizontalScrollBarSize",0),fe(r,"_verticalScrollBarSize",0),fe(r,"_scrollbarPresenceChanged",!1),fe(r,"_scrollingContainer",void 0),fe(r,"_childrenToDisplay",void 0),fe(r,"_columnStartIndex",void 0),fe(r,"_columnStopIndex",void 0),fe(r,"_rowStartIndex",void 0),fe(r,"_rowStopIndex",void 0),fe(r,"_renderedColumnStartIndex",0),fe(r,"_renderedColumnStopIndex",0),fe(r,"_renderedRowStartIndex",0),fe(r,"_renderedRowStopIndex",0),fe(r,"_initialScrollTop",void 0),fe(r,"_initialScrollLeft",void 0),fe(r,"_disablePointerEventsTimeoutId",void 0),fe(r,"_styleCache",{}),fe(r,"_cellCache",{}),fe(r,"_debounceScrollEndedCallback",function(){r._disablePointerEventsTimeoutId=null,r.setState({isScrolling:!1,needToResetStyleCache:!1})}),fe(r,"_invokeOnGridRenderedHelper",function(){var l=r.props.onSectionRendered;r._onGridRenderedMemoizer({callback:l,indices:{columnOverscanStartIndex:r._columnStartIndex,columnOverscanStopIndex:r._columnStopIndex,columnStartIndex:r._renderedColumnStartIndex,columnStopIndex:r._renderedColumnStopIndex,rowOverscanStartIndex:r._rowStartIndex,rowOverscanStopIndex:r._rowStopIndex,rowStartIndex:r._renderedRowStartIndex,rowStopIndex:r._renderedRowStopIndex}})}),fe(r,"_setScrollingContainerRef",function(l){r._scrollingContainer=l,typeof r.props.elementRef=="function"?r.props.elementRef(l):mn(r.props.elementRef)==="object"&&(r.props.elementRef.current=l)}),fe(r,"_onScroll",function(l){l.target===r._scrollingContainer&&r.handleScrollEvent(l.target)});var a=new dz({cellCount:t.columnCount,cellSizeGetter:function(s){return e._wrapSizeGetter(t.columnWidth)(s)},estimatedCellSize:e._getEstimatedColumnSize(t)}),o=new dz({cellCount:t.rowCount,cellSizeGetter:function(s){return e._wrapSizeGetter(t.rowHeight)(s)},estimatedCellSize:e._getEstimatedRowSize(t)});return r.state={instanceProps:{columnSizeAndPositionManager:a,rowSizeAndPositionManager:o,prevColumnWidth:t.columnWidth,prevRowHeight:t.rowHeight,prevColumnCount:t.columnCount,prevRowCount:t.rowCount,prevIsScrolling:t.isScrolling===!0,prevScrollToColumn:t.scrollToColumn,prevScrollToRow:t.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:Kf,scrollDirectionVertical:Kf,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1},t.scrollToRow>0&&(r._initialScrollTop=r._getCalculatedScrollTop(t,r.state)),t.scrollToColumn>0&&(r._initialScrollLeft=r._getCalculatedScrollLeft(t,r.state)),r}return wr(e,n),oi(e,[{key:"getOffsetForCell",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=r.alignment,o=a===void 0?this.props.scrollToAlignment:a,l=r.columnIndex,s=l===void 0?this.props.scrollToColumn:l,u=r.rowIndex,d=u===void 0?this.props.scrollToRow:u,g=Es(Es({},this.props),{},{scrollToAlignment:o,scrollToColumn:s,scrollToRow:d});return{scrollLeft:this._getCalculatedScrollLeft(g),scrollTop:this._getCalculatedScrollTop(g)}}},{key:"getTotalRowsHeight",value:function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()}},{key:"getTotalColumnsWidth",value:function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()}},{key:"handleScrollEvent",value:function(r){var a=r.scrollLeft,o=a===void 0?0:a,l=r.scrollTop,s=l===void 0?0:l;if(!(s<0)){this._debounceScrollEnded();var u=this.props,d=u.autoHeight,g=u.autoWidth,y=u.height,_=u.width,C=this.state.instanceProps,c=C.scrollbarSize,p=C.rowSizeAndPositionManager.getTotalSize(),m=C.columnSizeAndPositionManager.getTotalSize(),b=Math.min(Math.max(0,m-_+c),o),E=Math.min(Math.max(0,p-y+c),s);if(this.state.scrollLeft!==b||this.state.scrollTop!==E){var T=b!==this.state.scrollLeft?b>this.state.scrollLeft?Kf:AC:this.state.scrollDirectionHorizontal,R=E!==this.state.scrollTop?E>this.state.scrollTop?Kf:AC:this.state.scrollDirectionVertical,O={isScrolling:!0,scrollDirectionHorizontal:T,scrollDirectionVertical:R,scrollPositionChangeReason:rR.OBSERVED};d||(O.scrollTop=E),g||(O.scrollLeft=b),O.needToResetStyleCache=!1,this.setState(O)}this._invokeOnScrollMemoizer({scrollLeft:b,scrollTop:E,totalColumnsWidth:m,totalRowsHeight:p})}}},{key:"invalidateCellSizeAfterRender",value:function(r){var a=r.columnIndex,o=r.rowIndex;this._deferredInvalidateColumnIndex=typeof this._deferredInvalidateColumnIndex=="number"?Math.min(this._deferredInvalidateColumnIndex,a):a,this._deferredInvalidateRowIndex=typeof this._deferredInvalidateRowIndex=="number"?Math.min(this._deferredInvalidateRowIndex,o):o}},{key:"measureAllCells",value:function(){var r=this.props,a=r.columnCount,o=r.rowCount,l=this.state.instanceProps;l.columnSizeAndPositionManager.getSizeAndPositionOfCell(a-1),l.rowSizeAndPositionManager.getSizeAndPositionOfCell(o-1)}},{key:"recomputeGridSize",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=r.columnIndex,o=a===void 0?0:a,l=r.rowIndex,s=l===void 0?0:l,u=this.props,d=u.scrollToColumn,g=u.scrollToRow,y=this.state.instanceProps;y.columnSizeAndPositionManager.resetCell(o),y.rowSizeAndPositionManager.resetCell(s),this._recomputeScrollLeftFlag=d>=0&&(this.state.scrollDirectionHorizontal===Kf?o<=d:o>=d),this._recomputeScrollTopFlag=g>=0&&(this.state.scrollDirectionVertical===Kf?s<=g:s>=g),this._styleCache={},this._cellCache={},this.forceUpdate()}},{key:"scrollToCell",value:function(r){var a=r.columnIndex,o=r.rowIndex,l=this.props.columnCount,s=this.props;l>1&&a!==void 0&&this._updateScrollLeftForScrollToColumn(Es(Es({},s),{},{scrollToColumn:a})),o!==void 0&&this._updateScrollTopForScrollToRow(Es(Es({},s),{},{scrollToRow:o}))}},{key:"componentDidMount",value:function(){var r=this.props,a=r.getScrollbarSize,o=r.height,l=r.scrollLeft,s=r.scrollToColumn,u=r.scrollTop,d=r.scrollToRow,g=r.width,y=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),y.scrollbarSizeMeasured||this.setState(function(c){var p=Es(Es({},c),{},{needToResetStyleCache:!1});return p.instanceProps.scrollbarSize=a(),p.instanceProps.scrollbarSizeMeasured=!0,p}),typeof l=="number"&&l>=0||typeof u=="number"&&u>=0){var _=e._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:l,scrollTop:u});_&&(_.needToResetStyleCache=!1,this.setState(_))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var C=o>0&&g>0;s>=0&&C&&this._updateScrollLeftForScrollToColumn(),d>=0&&C&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:l||0,scrollTop:u||0,totalColumnsWidth:y.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:y.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()}},{key:"componentDidUpdate",value:function(r,a){var o=this,l=this.props,s=l.autoHeight,u=l.autoWidth,d=l.columnCount,g=l.height,y=l.rowCount,_=l.scrollToAlignment,C=l.scrollToColumn,c=l.scrollToRow,p=l.width,m=this.state,b=m.scrollLeft,E=m.scrollPositionChangeReason,T=m.scrollTop,R=m.instanceProps;this._handleInvalidatedGridSize();var O=d>0&&r.columnCount===0||y>0&&r.rowCount===0;E===rR.REQUESTED&&(!u&&b>=0&&(b!==this._scrollingContainer.scrollLeft||O)&&(this._scrollingContainer.scrollLeft=b),!s&&T>=0&&(T!==this._scrollingContainer.scrollTop||O)&&(this._scrollingContainer.scrollTop=T));var D=(r.width===0||r.height===0)&&g>0&&p>0;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):hz({cellSizeAndPositionManager:R.columnSizeAndPositionManager,previousCellsCount:r.columnCount,previousCellSize:r.columnWidth,previousScrollToAlignment:r.scrollToAlignment,previousScrollToIndex:r.scrollToColumn,previousSize:r.width,scrollOffset:b,scrollToAlignment:_,scrollToIndex:C,size:p,sizeJustIncreasedFromZero:D,updateScrollIndexCallback:function(){return o._updateScrollLeftForScrollToColumn(o.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):hz({cellSizeAndPositionManager:R.rowSizeAndPositionManager,previousCellsCount:r.rowCount,previousCellSize:r.rowHeight,previousScrollToAlignment:r.scrollToAlignment,previousScrollToIndex:r.scrollToRow,previousSize:r.height,scrollOffset:T,scrollToAlignment:_,scrollToIndex:c,size:g,sizeJustIncreasedFromZero:D,updateScrollIndexCallback:function(){return o._updateScrollTopForScrollToRow(o.props)}}),this._invokeOnGridRenderedHelper(),b!==a.scrollLeft||T!==a.scrollTop){var P=R.rowSizeAndPositionManager.getTotalSize(),F=R.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:b,scrollTop:T,totalColumnsWidth:F,totalRowsHeight:P})}this._maybeCallOnScrollbarPresenceChange()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&C0(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var r=this.props,a=r.autoContainerWidth,o=r.autoHeight,l=r.autoWidth,s=r.className,u=r.containerProps,d=r.containerRole,g=r.containerStyle,y=r.height,_=r.id,C=r.noContentRenderer,c=r.role,p=r.style,m=r.tabIndex,b=r.width,E=this.state,T=E.instanceProps,R=E.needToResetStyleCache,O=this._isScrolling(),D={boxSizing:"border-box",direction:"ltr",height:o?"auto":y,position:"relative",width:l?"auto":b,WebkitOverflowScrolling:"touch",willChange:"transform"};R&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var P=T.columnSizeAndPositionManager.getTotalSize(),F=T.rowSizeAndPositionManager.getTotalSize(),U=F>y?T.scrollbarSize:0,z=P>b?T.scrollbarSize:0;(z!==this._horizontalScrollBarSize||U!==this._verticalScrollBarSize)&&(this._horizontalScrollBarSize=z,this._verticalScrollBarSize=U,this._scrollbarPresenceChanged=!0),D.overflowX=P+U<=b?"hidden":"auto",D.overflowY=F+z<=y?"hidden":"auto";var $=this._childrenToDisplay,J=$.length===0&&y>0&&b>0;return A.createElement("div",Nt({ref:this._setScrollingContainerRef},u,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:Nc("ReactVirtualized__Grid",s),id:_,onScroll:this._onScroll,role:c,style:Es(Es({},D),p),tabIndex:m}),$.length>0&&A.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:d,style:Es({width:a?"auto":P,height:F,maxWidth:P,maxHeight:F,overflow:"hidden",pointerEvents:O?"none":"",position:"relative"},g)},$),J&&C())}},{key:"_calculateChildrenToRender",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,o=r.cellRenderer,l=r.cellRangeRenderer,s=r.columnCount,u=r.deferredMeasurementCache,d=r.height,g=r.overscanColumnCount,y=r.overscanIndicesGetter,_=r.overscanRowCount,C=r.rowCount,c=r.width,p=r.isScrollingOptOut,m=a.scrollDirectionHorizontal,b=a.scrollDirectionVertical,E=a.instanceProps,T=this._initialScrollTop>0?this._initialScrollTop:a.scrollTop,R=this._initialScrollLeft>0?this._initialScrollLeft:a.scrollLeft,O=this._isScrolling(r,a);if(this._childrenToDisplay=[],d>0&&c>0){var D=E.columnSizeAndPositionManager.getVisibleCellRange({containerSize:c,offset:R}),P=E.rowSizeAndPositionManager.getVisibleCellRange({containerSize:d,offset:T}),F=E.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:c,offset:R}),U=E.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:d,offset:T});this._renderedColumnStartIndex=D.start,this._renderedColumnStopIndex=D.stop,this._renderedRowStartIndex=P.start,this._renderedRowStopIndex=P.stop;var z=y({direction:"horizontal",cellCount:s,overscanCellsCount:g,scrollDirection:m,startIndex:typeof D.start=="number"?D.start:0,stopIndex:typeof D.stop=="number"?D.stop:-1}),$=y({direction:"vertical",cellCount:C,overscanCellsCount:_,scrollDirection:b,startIndex:typeof P.start=="number"?P.start:0,stopIndex:typeof P.stop=="number"?P.stop:-1}),J=z.overscanStartIndex,W=z.overscanStopIndex,Z=$.overscanStartIndex,oe=$.overscanStopIndex;if(u){if(!u.hasFixedHeight()){for(var Y=Z;Y<=oe;Y++)if(!u.has(Y,0)){J=0,W=s-1;break}}if(!u.hasFixedWidth()){for(var K=J;K<=W;K++)if(!u.has(0,K)){Z=0,oe=C-1;break}}}this._childrenToDisplay=l({cellCache:this._cellCache,cellRenderer:o,columnSizeAndPositionManager:E.columnSizeAndPositionManager,columnStartIndex:J,columnStopIndex:W,deferredMeasurementCache:u,horizontalOffsetAdjustment:F,isScrolling:O,isScrollingOptOut:p,parent:this,rowSizeAndPositionManager:E.rowSizeAndPositionManager,rowStartIndex:Z,rowStopIndex:oe,scrollLeft:R,scrollTop:T,styleCache:this._styleCache,verticalOffsetAdjustment:U,visibleColumnIndices:D,visibleRowIndices:P}),this._columnStartIndex=J,this._columnStopIndex=W,this._rowStartIndex=Z,this._rowStopIndex=oe}}},{key:"_debounceScrollEnded",value:function(){var r=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&C0(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=cB(this._debounceScrollEndedCallback,r)}},{key:"_handleInvalidatedGridSize",value:function(){if(typeof this._deferredInvalidateColumnIndex=="number"&&typeof this._deferredInvalidateRowIndex=="number"){var r=this._deferredInvalidateColumnIndex,a=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:r,rowIndex:a})}}},{key:"_invokeOnScrollMemoizer",value:function(r){var a=this,o=r.scrollLeft,l=r.scrollTop,s=r.totalColumnsWidth,u=r.totalRowsHeight;this._onScrollMemoizer({callback:function(g){var y=g.scrollLeft,_=g.scrollTop,C=a.props,c=C.height,p=C.onScroll,m=C.width;p({clientHeight:c,clientWidth:m,scrollHeight:u,scrollLeft:y,scrollTop:_,scrollWidth:s})},indices:{scrollLeft:o,scrollTop:l}})}},{key:"_isScrolling",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return Object.hasOwnProperty.call(r,"isScrolling")?!!r.isScrolling:!!a.isScrolling}},{key:"_maybeCallOnScrollbarPresenceChange",value:function(){if(this._scrollbarPresenceChanged){var r=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,r({horizontal:this._horizontalScrollBarSize>0,size:this.state.instanceProps.scrollbarSize,vertical:this._verticalScrollBarSize>0})}}},{key:"scrollToPosition",value:function(r){var a=r.scrollLeft,o=r.scrollTop,l=e._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:a,scrollTop:o});l&&(l.needToResetStyleCache=!1,this.setState(l))}},{key:"_getCalculatedScrollLeft",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return e._getCalculatedScrollLeft(r,a)}},{key:"_updateScrollLeftForScrollToColumn",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,o=e._getScrollLeftForScrollToColumnStateUpdate(r,a);o&&(o.needToResetStyleCache=!1,this.setState(o))}},{key:"_getCalculatedScrollTop",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return e._getCalculatedScrollTop(r,a)}},{key:"_resetStyleCache",value:function(){var r=this._styleCache,a=this._cellCache,o=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var l=this._rowStartIndex;l<=this._rowStopIndex;l++)for(var s=this._columnStartIndex;s<=this._columnStopIndex;s++){var u="".concat(l,"-").concat(s);this._styleCache[u]=r[u],o&&(this._cellCache[u]=a[u])}}},{key:"_updateScrollTopForScrollToRow",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,o=e._getScrollTopForScrollToRowStateUpdate(r,a);o&&(o.needToResetStyleCache=!1,this.setState(o))}}],[{key:"getDerivedStateFromProps",value:function(r,a){var o={};r.columnCount===0&&a.scrollLeft!==0||r.rowCount===0&&a.scrollTop!==0?(o.scrollLeft=0,o.scrollTop=0):(r.scrollLeft!==a.scrollLeft&&r.scrollToColumn<0||r.scrollTop!==a.scrollTop&&r.scrollToRow<0)&&Object.assign(o,e._getScrollToPositionStateUpdate({prevState:a,scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}));var l=a.instanceProps;o.needToResetStyleCache=!1,(r.columnWidth!==l.prevColumnWidth||r.rowHeight!==l.prevRowHeight)&&(o.needToResetStyleCache=!0),l.columnSizeAndPositionManager.configure({cellCount:r.columnCount,estimatedCellSize:e._getEstimatedColumnSize(r),cellSizeGetter:e._wrapSizeGetter(r.columnWidth)}),l.rowSizeAndPositionManager.configure({cellCount:r.rowCount,estimatedCellSize:e._getEstimatedRowSize(r),cellSizeGetter:e._wrapSizeGetter(r.rowHeight)}),(l.prevColumnCount===0||l.prevRowCount===0)&&(l.prevColumnCount=0,l.prevRowCount=0),r.autoHeight&&r.isScrolling===!1&&l.prevIsScrolling===!0&&Object.assign(o,{isScrolling:!1});var s,u;return fz({cellCount:l.prevColumnCount,cellSize:typeof l.prevColumnWidth=="number"?l.prevColumnWidth:null,computeMetadataCallback:function(){return l.columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:r,nextCellsCount:r.columnCount,nextCellSize:typeof r.columnWidth=="number"?r.columnWidth:null,nextScrollToIndex:r.scrollToColumn,scrollToIndex:l.prevScrollToColumn,updateScrollOffsetForScrollToIndex:function(){s=e._getScrollLeftForScrollToColumnStateUpdate(r,a)}}),fz({cellCount:l.prevRowCount,cellSize:typeof l.prevRowHeight=="number"?l.prevRowHeight:null,computeMetadataCallback:function(){return l.rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:r,nextCellsCount:r.rowCount,nextCellSize:typeof r.rowHeight=="number"?r.rowHeight:null,nextScrollToIndex:r.scrollToRow,scrollToIndex:l.prevScrollToRow,updateScrollOffsetForScrollToIndex:function(){u=e._getScrollTopForScrollToRowStateUpdate(r,a)}}),l.prevColumnCount=r.columnCount,l.prevColumnWidth=r.columnWidth,l.prevIsScrolling=r.isScrolling===!0,l.prevRowCount=r.rowCount,l.prevRowHeight=r.rowHeight,l.prevScrollToColumn=r.scrollToColumn,l.prevScrollToRow=r.scrollToRow,l.scrollbarSize=r.getScrollbarSize(),l.scrollbarSize===void 0?(l.scrollbarSizeMeasured=!1,l.scrollbarSize=0):l.scrollbarSizeMeasured=!0,o.instanceProps=l,Es(Es(Es({},o),s),u)}},{key:"_getEstimatedColumnSize",value:function(r){return typeof r.columnWidth=="number"?r.columnWidth:r.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function(r){return typeof r.rowHeight=="number"?r.rowHeight:r.estimatedRowSize}},{key:"_getScrollToPositionStateUpdate",value:function(r){var a=r.prevState,o=r.scrollLeft,l=r.scrollTop,s={scrollPositionChangeReason:rR.REQUESTED};return typeof o=="number"&&o>=0&&(s.scrollDirectionHorizontal=o>a.scrollLeft?Kf:AC,s.scrollLeft=o),typeof l=="number"&&l>=0&&(s.scrollDirectionVertical=l>a.scrollTop?Kf:AC,s.scrollTop=l),typeof o=="number"&&o>=0&&o!==a.scrollLeft||typeof l=="number"&&l>=0&&l!==a.scrollTop?s:{}}},{key:"_wrapSizeGetter",value:function(r){return typeof r=="function"?r:function(){return r}}},{key:"_getCalculatedScrollLeft",value:function(r,a){var o=r.columnCount,l=r.height,s=r.scrollToAlignment,u=r.scrollToColumn,d=r.width,g=a.scrollLeft,y=a.instanceProps;if(o>0){var _=o-1,C=u<0?_:Math.min(_,u),c=y.rowSizeAndPositionManager.getTotalSize(),p=y.scrollbarSizeMeasured&&c>l?y.scrollbarSize:0;return y.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:s,containerSize:d-p,currentOffset:g,targetIndex:C})}return 0}},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:function(r,a){var o=a.scrollLeft,l=e._getCalculatedScrollLeft(r,a);return typeof l=="number"&&l>=0&&o!==l?e._getScrollToPositionStateUpdate({prevState:a,scrollLeft:l,scrollTop:-1}):{}}},{key:"_getCalculatedScrollTop",value:function(r,a){var o=r.height,l=r.rowCount,s=r.scrollToAlignment,u=r.scrollToRow,d=r.width,g=a.scrollTop,y=a.instanceProps;if(l>0){var _=l-1,C=u<0?_:Math.min(_,u),c=y.columnSizeAndPositionManager.getTotalSize(),p=y.scrollbarSizeMeasured&&c>d?y.scrollbarSize:0;return y.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:s,containerSize:o-p,currentOffset:g,targetIndex:C})}return 0}},{key:"_getScrollTopForScrollToRowStateUpdate",value:function(r,a){var o=a.scrollTop,l=e._getCalculatedScrollTop(r,a);return typeof l=="number"&&l>=0&&o!==l?e._getScrollToPositionStateUpdate({prevState:a,scrollLeft:-1,scrollTop:l}):{}}}])}(A.PureComponent);fe(Xu,"defaultProps",{"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:pge,containerRole:"row",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:iO,noContentRenderer:Sge,onScroll:function(){},onScrollbarPresenceChange:function(){},onSectionRendered:function(){},overscanColumnCount:0,overscanIndicesGetter:hge,overscanRowCount:10,role:"grid",scrollingResetTimeInterval:bge,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1});ZS(Xu);var _ge=1;function r5(n){var e=n.cellCount,t=n.overscanCellsCount,r=n.scrollDirection,a=n.startIndex,o=n.stopIndex;return t=Math.max(1,t),r===_ge?{overscanStartIndex:Math.max(0,a-1),overscanStopIndex:Math.min(e-1,o+t)}:{overscanStartIndex:Math.max(0,a-t),overscanStopIndex:Math.min(e-1,o+1)}}function xge(n,e,t){return e=Di(e),Uo(n,a5()?Reflect.construct(e,t||[],Di(n).constructor):e.apply(n,t))}function a5(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a5=function(){return!!n})()}var o5=function(n){function e(t,r){var a;return ai(this,e),a=xge(this,e,[t,r]),a._loadMoreRowsMemoizer=x0(),a._onRowsRendered=a._onRowsRendered.bind(a),a._registerChild=a._registerChild.bind(a),a}return wr(e,n),oi(e,[{key:"resetLoadMoreRowsCache",value:function(r){this._loadMoreRowsMemoizer=x0(),r&&this._doStuff(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"render",value:function(){var r=this.props.children;return r({onRowsRendered:this._onRowsRendered,registerChild:this._registerChild})}},{key:"_loadUnloadedRanges",value:function(r){var a=this,o=this.props.loadMoreRows;r.forEach(function(l){var s=o(l);s&&s.then(function(){Cge({lastRenderedStartIndex:a._lastRenderedStartIndex,lastRenderedStopIndex:a._lastRenderedStopIndex,startIndex:l.startIndex,stopIndex:l.stopIndex})&&a._registeredChild&&wge(a._registeredChild,a._lastRenderedStartIndex)})})}},{key:"_onRowsRendered",value:function(r){var a=r.startIndex,o=r.stopIndex;this._lastRenderedStartIndex=a,this._lastRenderedStopIndex=o,this._doStuff(a,o)}},{key:"_doStuff",value:function(r,a){var o,l=this,s=this.props,u=s.isRowLoaded,d=s.minimumBatchSize,g=s.rowCount,y=s.threshold,_=Ege({isRowLoaded:u,minimumBatchSize:d,rowCount:g,startIndex:Math.max(0,r-y),stopIndex:Math.min(g-1,a+y)}),C=(o=[]).concat.apply(o,Jt(_.map(function(c){var p=c.startIndex,m=c.stopIndex;return[p,m]})));this._loadMoreRowsMemoizer({callback:function(){l._loadUnloadedRanges(_)},indices:{squashedUnloadedRanges:C}})}},{key:"_registerChild",value:function(r){this._registeredChild=r}}])}(A.PureComponent);fe(o5,"defaultProps",{minimumBatchSize:10,rowCount:0,threshold:15});o5.propTypes={};function Cge(n){var e=n.lastRenderedStartIndex,t=n.lastRenderedStopIndex,r=n.startIndex,a=n.stopIndex;return!(r>t||a<e)}function Ege(n){for(var e=n.isRowLoaded,t=n.minimumBatchSize,r=n.rowCount,a=n.startIndex,o=n.stopIndex,l=[],s=null,u=null,d=a;d<=o;d++){var g=e({index:d});g?u!==null&&(l.push({startIndex:s,stopIndex:u}),s=u=null):(u=d,s===null&&(s=d))}if(u!==null){for(var y=Math.min(Math.max(u,s+t-1),r-1),_=u+1;_<=y&&!e({index:_});_++)u=_;l.push({startIndex:s,stopIndex:u})}if(l.length)for(var C=l[0];C.stopIndex-C.startIndex+1<t&&C.startIndex>0;){var c=C.startIndex-1;if(!e({index:c}))C.startIndex=c;else break}return l}function wge(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=typeof n.recomputeGridSize=="function"?n.recomputeGridSize:n.recomputeRowHeights;t?t.call(n,e):n.forceUpdate()}function Age(n,e,t){return e=Di(e),Uo(n,s5()?Reflect.construct(e,t||[],Di(n).constructor):e.apply(n,t))}function s5(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s5=function(){return!!n})()}var Mge=function(n){function e(){var t;ai(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=Age(this,e,[].concat(a)),fe(t,"Grid",void 0),fe(t,"_cellRenderer",function(l){var s=l.parent,u=l.rowIndex,d=l.style,g=l.isScrolling,y=l.isVisible,_=l.key,C=t.props.rowRenderer,c=Object.getOwnPropertyDescriptor(d,"width");return c&&c.writable&&(d.width="100%"),C({index:u,style:d,isScrolling:g,isVisible:y,key:_,parent:s})}),fe(t,"_setRef",function(l){t.Grid=l}),fe(t,"_onScroll",function(l){var s=l.clientHeight,u=l.scrollHeight,d=l.scrollTop,g=t.props.onScroll;g({clientHeight:s,scrollHeight:u,scrollTop:d})}),fe(t,"_onSectionRendered",function(l){var s=l.rowOverscanStartIndex,u=l.rowOverscanStopIndex,d=l.rowStartIndex,g=l.rowStopIndex,y=t.props.onRowsRendered;y({overscanStartIndex:s,overscanStopIndex:u,startIndex:d,stopIndex:g})}),t}return wr(e,n),oi(e,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(r){var a=r.alignment,o=r.index;if(this.Grid){var l=this.Grid.getOffsetForCell({alignment:a,rowIndex:o,columnIndex:0}),s=l.scrollTop;return s}return 0}},{key:"invalidateCellSizeAfterRender",value:function(r){var a=r.columnIndex,o=r.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:o,columnIndex:a})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=r.columnIndex,o=a===void 0?0:a,l=r.rowIndex,s=l===void 0?0:l;this.Grid&&this.Grid.recomputeGridSize({rowIndex:s,columnIndex:o})}},{key:"recomputeRowHeights",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:r,columnIndex:0})}},{key:"scrollToPosition",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:r})}},{key:"scrollToRow",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:r})}},{key:"render",value:function(){var r=this.props,a=r.className,o=r.noRowsRenderer,l=r.scrollToIndex,s=r.width,u=Nc("ReactVirtualized__List",a);return A.createElement(Xu,Nt({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:u,columnWidth:s,columnCount:1,noContentRenderer:o,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:l}))}}])}(A.PureComponent);fe(Mge,"defaultProps",{autoHeight:!1,estimatedRowSize:30,onScroll:function(){},noRowsRenderer:function(){return null},onRowsRendered:function(){},overscanIndicesGetter:r5,overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,style:{}});function Tge(n,e,t,r){for(var a=t+1;e<=t;){var o=e+t>>>1,l=n[o];l>=r?(a=o,t=o-1):e=o+1}return a}function Rge(n,e,t,r,a){for(var o=t+1;e<=t;){var l=e+t>>>1,s=n[l];a(s,r)>=0?(o=l,t=l-1):e=l+1}return o}function Oge(n,e,t,r,a){return typeof t=="function"?Rge(n,r===void 0?0:r|0,a===void 0?n.length-1:a|0,e,t):Tge(n,t===void 0?0:t|0,r===void 0?n.length-1:r|0,e)}function Ige(n,e,t,r){for(var a=t+1;e<=t;){var o=e+t>>>1,l=n[o];l>r?(a=o,t=o-1):e=o+1}return a}function Bge(n,e,t,r,a){for(var o=t+1;e<=t;){var l=e+t>>>1,s=n[l];a(s,r)>0?(o=l,t=l-1):e=l+1}return o}function Dge(n,e,t,r,a){return typeof t=="function"?Bge(n,r===void 0?0:r|0,a===void 0?n.length-1:a|0,e,t):Ige(n,t===void 0?0:t|0,r===void 0?n.length-1:r|0,e)}function Pge(n,e,t,r){for(var a=e-1;e<=t;){var o=e+t>>>1,l=n[o];l<r?(a=o,e=o+1):t=o-1}return a}function Lge(n,e,t,r,a){for(var o=e-1;e<=t;){var l=e+t>>>1,s=n[l];a(s,r)<0?(o=l,e=l+1):t=l-1}return o}function Nge(n,e,t,r,a){return typeof t=="function"?Lge(n,r===void 0?0:r|0,a===void 0?n.length-1:a|0,e,t):Pge(n,t===void 0?0:t|0,r===void 0?n.length-1:r|0,e)}function zge(n,e,t,r){for(var a=e-1;e<=t;){var o=e+t>>>1,l=n[o];l<=r?(a=o,e=o+1):t=o-1}return a}function Uge(n,e,t,r,a){for(var o=e-1;e<=t;){var l=e+t>>>1,s=n[l];a(s,r)<=0?(o=l,e=l+1):t=l-1}return o}function Fge(n,e,t,r,a){return typeof t=="function"?Uge(n,r===void 0?0:r|0,a===void 0?n.length-1:a|0,e,t):zge(n,t===void 0?0:t|0,r===void 0?n.length-1:r|0,e)}function Hge(n,e,t,r){for(;e<=t;){var a=e+t>>>1,o=n[a];if(o===r)return a;o<=r?e=a+1:t=a-1}return-1}function Gge(n,e,t,r,a){for(;e<=t;){var o=e+t>>>1,l=n[o],s=a(l,r);if(s===0)return o;s<=0?e=o+1:t=o-1}return-1}function kge(n,e,t,r,a){return typeof t=="function"?Gge(n,r===void 0?0:r|0,a===void 0?n.length-1:a|0,e,t):Hge(n,t===void 0?0:t|0,r===void 0?n.length-1:r|0,e)}const qE={ge:Oge,gt:Dge,lt:Nge,le:Fge,eq:kge};var jv=0,nm=1,M1=2;function uB(n,e,t,r,a){this.mid=n,this.left=e,this.right=t,this.leftPoints=r,this.rightPoints=a,this.count=(e?e.count:0)+(t?t.count:0)+r.length}var e_=uB.prototype;function aR(n,e){n.mid=e.mid,n.left=e.left,n.right=e.right,n.leftPoints=e.leftPoints,n.rightPoints=e.rightPoints,n.count=e.count}function l5(n,e){var t=bS(e);n.mid=t.mid,n.left=t.left,n.right=t.right,n.leftPoints=t.leftPoints,n.rightPoints=t.rightPoints,n.count=t.count}function gz(n,e){var t=n.intervals([]);t.push(e),l5(n,t)}function vz(n,e){var t=n.intervals([]),r=t.indexOf(e);return r<0?jv:(t.splice(r,1),l5(n,t),nm)}e_.intervals=function(n){return n.push.apply(n,this.leftPoints),this.left&&this.left.intervals(n),this.right&&this.right.intervals(n),n};e_.insert=function(n){var e=this.count-this.leftPoints.length;if(this.count+=1,n[1]<this.mid)this.left?4*(this.left.count+1)>3*(e+1)?gz(this,n):this.left.insert(n):this.left=bS([n]);else if(n[0]>this.mid)this.right?4*(this.right.count+1)>3*(e+1)?gz(this,n):this.right.insert(n):this.right=bS([n]);else{var t=qE.ge(this.leftPoints,n,fB),r=qE.ge(this.rightPoints,n,dB);this.leftPoints.splice(t,0,n),this.rightPoints.splice(r,0,n)}};e_.remove=function(n){var e=this.count-this.leftPoints;if(n[1]<this.mid){if(!this.left)return jv;var t=this.right?this.right.count:0;if(4*t>3*(e-1))return vz(this,n);var r=this.left.remove(n);return r===M1?(this.left=null,this.count-=1,nm):(r===nm&&(this.count-=1),r)}else if(n[0]>this.mid){if(!this.right)return jv;var a=this.left?this.left.count:0;if(4*a>3*(e-1))return vz(this,n);var r=this.right.remove(n);return r===M1?(this.right=null,this.count-=1,nm):(r===nm&&(this.count-=1),r)}else{if(this.count===1)return this.leftPoints[0]===n?M1:jv;if(this.leftPoints.length===1&&this.leftPoints[0]===n){if(this.left&&this.right){for(var o=this,l=this.left;l.right;)o=l,l=l.right;if(o===this)l.right=this.right;else{var s=this.left,r=this.right;o.count-=l.count,o.right=l.left,l.left=s,l.right=r}aR(this,l),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?aR(this,this.left):aR(this,this.right);return nm}for(var s=qE.ge(this.leftPoints,n,fB);s<this.leftPoints.length&&this.leftPoints[s][0]===n[0];++s)if(this.leftPoints[s]===n){this.count-=1,this.leftPoints.splice(s,1);for(var r=qE.ge(this.rightPoints,n,dB);r<this.rightPoints.length&&this.rightPoints[r][1]===n[1];++r)if(this.rightPoints[r]===n)return this.rightPoints.splice(r,1),nm}return jv}};function c5(n,e,t){for(var r=0;r<n.length&&n[r][0]<=e;++r){var a=t(n[r]);if(a)return a}}function u5(n,e,t){for(var r=n.length-1;r>=0&&n[r][1]>=e;--r){var a=t(n[r]);if(a)return a}}function f5(n,e){for(var t=0;t<n.length;++t){var r=e(n[t]);if(r)return r}}e_.queryPoint=function(n,e){if(n<this.mid){if(this.left){var t=this.left.queryPoint(n,e);if(t)return t}return c5(this.leftPoints,n,e)}else if(n>this.mid){if(this.right){var t=this.right.queryPoint(n,e);if(t)return t}return u5(this.rightPoints,n,e)}else return f5(this.leftPoints,e)};e_.queryInterval=function(n,e,t){if(n<this.mid&&this.left){var r=this.left.queryInterval(n,e,t);if(r)return r}if(e>this.mid&&this.right){var r=this.right.queryInterval(n,e,t);if(r)return r}return e<this.mid?c5(this.leftPoints,e,t):n>this.mid?u5(this.rightPoints,n,t):f5(this.leftPoints,t)};function $ge(n,e){return n-e}function fB(n,e){var t=n[0]-e[0];return t||n[1]-e[1]}function dB(n,e){var t=n[1]-e[1];return t||n[0]-e[0]}function bS(n){if(n.length===0)return null;for(var e=[],t=0;t<n.length;++t)e.push(n[t][0],n[t][1]);e.sort($ge);for(var r=e[e.length>>1],a=[],o=[],l=[],t=0;t<n.length;++t){var s=n[t];s[1]<r?a.push(s):r<s[0]?o.push(s):l.push(s)}var u=l,d=l.slice();return u.sort(fB),d.sort(dB),new uB(r,bS(a),bS(o),u,d)}function d5(n){this.root=n}var G0=d5.prototype;G0.insert=function(n){this.root?this.root.insert(n):this.root=new uB(n[0],null,null,[n],[n])};G0.remove=function(n){if(this.root){var e=this.root.remove(n);return e===M1&&(this.root=null),e!==jv}return!1};G0.queryPoint=function(n,e){if(this.root)return this.root.queryPoint(n,e)};G0.queryInterval=function(n,e,t){if(n<=e&&this.root)return this.root.queryInterval(n,e,t)};Object.defineProperty(G0,"count",{get:function(){return this.root?this.root.count:0}});Object.defineProperty(G0,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function Vge(n){return new d5(null)}var oR=function(){function n(){ai(this,n),fe(this,"_columnSizeMap",{}),fe(this,"_intervalTree",Vge()),fe(this,"_leftMap",{})}return oi(n,[{key:"estimateTotalHeight",value:function(t,r,a){var o=t-this.count;return this.tallestColumnSize+Math.ceil(o/r)*a}},{key:"range",value:function(t,r,a){var o=this;this._intervalTree.queryInterval(t,t+r,function(l){var s=bt(l,3),u=s[0];s[1];var d=s[2];return a(d,o._leftMap[d],u)})}},{key:"setPosition",value:function(t,r,a,o){this._intervalTree.insert([a,a+o,t]),this._leftMap[t]=r;var l=this._columnSizeMap,s=l[r];s===void 0?l[r]=a+o:l[r]=Math.max(s,a+o)}},{key:"count",get:function(){return this._intervalTree.count}},{key:"shortestColumnSize",get:function(){var t=this._columnSizeMap,r=0;for(var a in t){var o=t[a];r=r===0?o:Math.min(r,o)}return r}},{key:"tallestColumnSize",get:function(){var t=this._columnSizeMap,r=0;for(var a in t){var o=t[a];r=Math.max(r,o)}return r}}])}();function yz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function jge(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?yz(Object(t),!0).forEach(function(r){fe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):yz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Wge(n,e,t){return e=Di(e),Uo(n,h5()?Reflect.construct(e,t||[],Di(n).constructor):e.apply(n,t))}function h5(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h5=function(){return!!n})()}var Xge={},Yge=150,p5=function(n){function e(){var t;ai(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=Wge(this,e,[].concat(a)),fe(t,"state",{isScrolling:!1,scrollTop:0}),fe(t,"_debounceResetIsScrollingId",void 0),fe(t,"_invalidateOnUpdateStartIndex",null),fe(t,"_invalidateOnUpdateStopIndex",null),fe(t,"_positionCache",new oR),fe(t,"_startIndex",null),fe(t,"_startIndexMemoized",null),fe(t,"_stopIndex",null),fe(t,"_stopIndexMemoized",null),fe(t,"_debounceResetIsScrollingCallback",function(){t.setState({isScrolling:!1})}),fe(t,"_setScrollingContainerRef",function(l){t._scrollingContainer=l}),fe(t,"_onScroll",function(l){var s=t.props.height,u=l.currentTarget.scrollTop,d=Math.min(Math.max(0,t._getEstimatedTotalHeight()-s),u);u===d&&(t._debounceResetIsScrolling(),t.state.scrollTop!==d&&t.setState({isScrolling:!0,scrollTop:d}))}),t}return wr(e,n),oi(e,[{key:"clearCellPositions",value:function(){this._positionCache=new oR,this.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(r){var a=r.rowIndex;this._invalidateOnUpdateStartIndex===null?(this._invalidateOnUpdateStartIndex=a,this._invalidateOnUpdateStopIndex=a):(this._invalidateOnUpdateStartIndex=Math.min(this._invalidateOnUpdateStartIndex,a),this._invalidateOnUpdateStopIndex=Math.max(this._invalidateOnUpdateStopIndex,a))}},{key:"recomputeCellPositions",value:function(){var r=this._positionCache.count-1;this._positionCache=new oR,this._populatePositionCache(0,r),this.forceUpdate()}},{key:"componentDidMount",value:function(){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback()}},{key:"componentDidUpdate",value:function(r,a){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback(),this.props.scrollTop!==r.scrollTop&&this._debounceResetIsScrolling()}},{key:"componentWillUnmount",value:function(){this._debounceResetIsScrollingId&&C0(this._debounceResetIsScrollingId)}},{key:"render",value:function(){var r=this,a=this.props,o=a.autoHeight,l=a.cellCount,s=a.cellMeasurerCache,u=a.cellRenderer,d=a.className,g=a.height,y=a.id,_=a.keyMapper,C=a.overscanByPixels,c=a.role,p=a.style,m=a.tabIndex,b=a.width,E=a.rowDirection,T=this.state,R=T.isScrolling,O=T.scrollTop,D=[],P=this._getEstimatedTotalHeight(),F=this._positionCache.shortestColumnSize,U=this._positionCache.count,z=0,$;if(this._positionCache.range(Math.max(0,O-C),g+C*2,function(Z,oe,Y){typeof $>"u"?(z=Z,$=Z):(z=Math.min(z,Z),$=Math.max($,Z)),D.push(u({index:Z,isScrolling:R,key:_(Z),parent:r,style:fe(fe(fe(fe({height:s.getHeight(Z)},E==="ltr"?"left":"right",oe),"position","absolute"),"top",Y),"width",s.getWidth(Z))}))}),F<O+g+C&&U<l)for(var J=Math.min(l-U,Math.ceil((O+g+C-F)/s.defaultHeight*b/s.defaultWidth)),W=U;W<U+J;W++)$=W,D.push(u({index:W,isScrolling:R,key:_(W),parent:this,style:{width:s.getWidth(W)}}));return this._startIndex=z,this._stopIndex=$,A.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:Nc("ReactVirtualized__Masonry",d),id:y,onScroll:this._onScroll,role:c,style:jge({boxSizing:"border-box",direction:"ltr",height:o?"auto":g,overflowX:"hidden",overflowY:P<g?"hidden":"auto",position:"relative",width:b,WebkitOverflowScrolling:"touch",willChange:"transform"},p),tabIndex:m},A.createElement("div",{className:"ReactVirtualized__Masonry__innerScrollContainer",style:{width:"100%",height:P,maxWidth:"100%",maxHeight:P,overflow:"hidden",pointerEvents:R?"none":"",position:"relative"}},D))}},{key:"_checkInvalidateOnUpdate",value:function(){if(typeof this._invalidateOnUpdateStartIndex=="number"){var r=this._invalidateOnUpdateStartIndex,a=this._invalidateOnUpdateStopIndex;this._invalidateOnUpdateStartIndex=null,this._invalidateOnUpdateStopIndex=null,this._populatePositionCache(r,a),this.forceUpdate()}}},{key:"_debounceResetIsScrolling",value:function(){var r=this.props.scrollingResetTimeInterval;this._debounceResetIsScrollingId&&C0(this._debounceResetIsScrollingId),this._debounceResetIsScrollingId=cB(this._debounceResetIsScrollingCallback,r)}},{key:"_getEstimatedTotalHeight",value:function(){var r=this.props,a=r.cellCount,o=r.cellMeasurerCache,l=r.width,s=Math.max(1,Math.floor(l/o.defaultWidth));return this._positionCache.estimateTotalHeight(a,s,o.defaultHeight)}},{key:"_invokeOnScrollCallback",value:function(){var r=this.props,a=r.height,o=r.onScroll,l=this.state.scrollTop;this._onScrollMemoized!==l&&(o({clientHeight:a,scrollHeight:this._getEstimatedTotalHeight(),scrollTop:l}),this._onScrollMemoized=l)}},{key:"_invokeOnCellsRenderedCallback",value:function(){if(this._startIndexMemoized!==this._startIndex||this._stopIndexMemoized!==this._stopIndex){var r=this.props.onCellsRendered;r({startIndex:this._startIndex,stopIndex:this._stopIndex}),this._startIndexMemoized=this._startIndex,this._stopIndexMemoized=this._stopIndex}}},{key:"_populatePositionCache",value:function(r,a){for(var o=this.props,l=o.cellMeasurerCache,s=o.cellPositioner,u=r;u<=a;u++){var d=s(u),g=d.left,y=d.top;this._positionCache.setPosition(u,g,y,l.getHeight(u))}}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.scrollTop!==void 0&&a.scrollTop!==r.scrollTop?{isScrolling:!0,scrollTop:r.scrollTop}:null}}])}(A.PureComponent);fe(p5,"defaultProps",{autoHeight:!1,keyMapper:qge,onCellsRendered:bz,onScroll:bz,overscanByPixels:20,role:"grid",scrollingResetTimeInterval:Yge,style:Xge,tabIndex:0,rowDirection:"ltr"});function qge(n){return n}function bz(){}ZS(p5);var sR=function(){function n(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ai(this,n),fe(this,"_cellMeasurerCache",void 0),fe(this,"_columnIndexOffset",void 0),fe(this,"_rowIndexOffset",void 0),fe(this,"columnWidth",function(u){var d=u.index;e._cellMeasurerCache.columnWidth({index:d+e._columnIndexOffset})}),fe(this,"rowHeight",function(u){var d=u.index;e._cellMeasurerCache.rowHeight({index:d+e._rowIndexOffset})});var r=t.cellMeasurerCache,a=t.columnIndexOffset,o=a===void 0?0:a,l=t.rowIndexOffset,s=l===void 0?0:l;this._cellMeasurerCache=r,this._columnIndexOffset=o,this._rowIndexOffset=s}return oi(n,[{key:"clear",value:function(t,r){this._cellMeasurerCache.clear(t+this._rowIndexOffset,r+this._columnIndexOffset)}},{key:"clearAll",value:function(){this._cellMeasurerCache.clearAll()}},{key:"defaultHeight",get:function(){return this._cellMeasurerCache.defaultHeight}},{key:"defaultWidth",get:function(){return this._cellMeasurerCache.defaultWidth}},{key:"hasFixedHeight",value:function(){return this._cellMeasurerCache.hasFixedHeight()}},{key:"hasFixedWidth",value:function(){return this._cellMeasurerCache.hasFixedWidth()}},{key:"getHeight",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.getHeight(t+this._rowIndexOffset,r+this._columnIndexOffset)}},{key:"getWidth",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.getWidth(t+this._rowIndexOffset,r+this._columnIndexOffset)}},{key:"has",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.has(t+this._rowIndexOffset,r+this._columnIndexOffset)}},{key:"set",value:function(t,r,a,o){this._cellMeasurerCache.set(t+this._rowIndexOffset,r+this._columnIndexOffset,a,o)}}])}(),Kge=["rowIndex"],Jge=["columnIndex","rowIndex"],Qge=["columnIndex"],Zge=["onScroll","onSectionRendered","onScrollbarPresenceChange","scrollLeft","scrollToColumn","scrollTop","scrollToRow"];function Sz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function vr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Sz(Object(t),!0).forEach(function(r){fe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Sz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function eve(n,e,t){return e=Di(e),Uo(n,m5()?Reflect.construct(e,t||[],Di(n).constructor):e.apply(n,t))}function m5(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m5=function(){return!!n})()}var _z=20,hB=function(n){function e(t,r){var a;ai(this,e),a=eve(this,e,[t,r]),fe(a,"state",{scrollLeft:0,scrollTop:0,scrollbarSize:0,showHorizontalScrollbar:!1,showVerticalScrollbar:!1}),fe(a,"_deferredInvalidateColumnIndex",null),fe(a,"_deferredInvalidateRowIndex",null),fe(a,"_bottomLeftGridRef",function(u){a._bottomLeftGrid=u}),fe(a,"_bottomRightGridRef",function(u){a._bottomRightGrid=u}),fe(a,"_cellRendererBottomLeftGrid",function(u){var d=u.rowIndex,g=$n(u,Kge),y=a.props,_=y.cellRenderer,C=y.fixedRowCount,c=y.rowCount;return d===c-C?A.createElement("div",{key:g.key,style:vr(vr({},g.style),{},{height:_z})}):_(vr(vr({},g),{},{parent:a,rowIndex:d+C}))}),fe(a,"_cellRendererBottomRightGrid",function(u){var d=u.columnIndex,g=u.rowIndex,y=$n(u,Jge),_=a.props,C=_.cellRenderer,c=_.fixedColumnCount,p=_.fixedRowCount;return C(vr(vr({},y),{},{columnIndex:d+c,parent:a,rowIndex:g+p}))}),fe(a,"_cellRendererTopRightGrid",function(u){var d=u.columnIndex,g=$n(u,Qge),y=a.props,_=y.cellRenderer,C=y.columnCount,c=y.fixedColumnCount;return d===C-c?A.createElement("div",{key:g.key,style:vr(vr({},g.style),{},{width:_z})}):_(vr(vr({},g),{},{columnIndex:d+c,parent:a}))}),fe(a,"_columnWidthRightGrid",function(u){var d=u.index,g=a.props,y=g.columnCount,_=g.fixedColumnCount,C=g.columnWidth,c=a.state,p=c.scrollbarSize,m=c.showHorizontalScrollbar;return m&&d===y-_?p:typeof C=="function"?C({index:d+_}):C}),fe(a,"_onScroll",function(u){var d=u.scrollLeft,g=u.scrollTop;a.setState({scrollLeft:d,scrollTop:g});var y=a.props.onScroll;y&&y(u)}),fe(a,"_onScrollbarPresenceChange",function(u){var d=u.horizontal,g=u.size,y=u.vertical,_=a.state,C=_.showHorizontalScrollbar,c=_.showVerticalScrollbar;if(d!==C||y!==c){a.setState({scrollbarSize:g,showHorizontalScrollbar:d,showVerticalScrollbar:y});var p=a.props.onScrollbarPresenceChange;typeof p=="function"&&p({horizontal:d,size:g,vertical:y})}}),fe(a,"_onScrollLeft",function(u){var d=u.scrollLeft;a._onScroll({scrollLeft:d,scrollTop:a.state.scrollTop})}),fe(a,"_onScrollTop",function(u){var d=u.scrollTop;a._onScroll({scrollTop:d,scrollLeft:a.state.scrollLeft})}),fe(a,"_rowHeightBottomGrid",function(u){var d=u.index,g=a.props,y=g.fixedRowCount,_=g.rowCount,C=g.rowHeight,c=a.state,p=c.scrollbarSize,m=c.showVerticalScrollbar;return m&&d===_-y?p:typeof C=="function"?C({index:d+y}):C}),fe(a,"_topLeftGridRef",function(u){a._topLeftGrid=u}),fe(a,"_topRightGridRef",function(u){a._topRightGrid=u});var o=t.deferredMeasurementCache,l=t.fixedColumnCount,s=t.fixedRowCount;return a._maybeCalculateCachedStyles(!0),o&&(a._deferredMeasurementCacheBottomLeftGrid=s>0?new sR({cellMeasurerCache:o,columnIndexOffset:0,rowIndexOffset:s}):o,a._deferredMeasurementCacheBottomRightGrid=l>0||s>0?new sR({cellMeasurerCache:o,columnIndexOffset:l,rowIndexOffset:s}):o,a._deferredMeasurementCacheTopRightGrid=l>0?new sR({cellMeasurerCache:o,columnIndexOffset:l,rowIndexOffset:0}):o),a}return wr(e,n),oi(e,[{key:"forceUpdateGrids",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.forceUpdate(),this._bottomRightGrid&&this._bottomRightGrid.forceUpdate(),this._topLeftGrid&&this._topLeftGrid.forceUpdate(),this._topRightGrid&&this._topRightGrid.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=r.columnIndex,o=a===void 0?0:a,l=r.rowIndex,s=l===void 0?0:l;this._deferredInvalidateColumnIndex=typeof this._deferredInvalidateColumnIndex=="number"?Math.min(this._deferredInvalidateColumnIndex,o):o,this._deferredInvalidateRowIndex=typeof this._deferredInvalidateRowIndex=="number"?Math.min(this._deferredInvalidateRowIndex,s):s}},{key:"measureAllCells",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.measureAllCells(),this._bottomRightGrid&&this._bottomRightGrid.measureAllCells(),this._topLeftGrid&&this._topLeftGrid.measureAllCells(),this._topRightGrid&&this._topRightGrid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=r.columnIndex,o=a===void 0?0:a,l=r.rowIndex,s=l===void 0?0:l,u=this.props,d=u.fixedColumnCount,g=u.fixedRowCount,y=Math.max(0,o-d),_=Math.max(0,s-g);this._bottomLeftGrid&&this._bottomLeftGrid.recomputeGridSize({columnIndex:o,rowIndex:_}),this._bottomRightGrid&&this._bottomRightGrid.recomputeGridSize({columnIndex:y,rowIndex:_}),this._topLeftGrid&&this._topLeftGrid.recomputeGridSize({columnIndex:o,rowIndex:s}),this._topRightGrid&&this._topRightGrid.recomputeGridSize({columnIndex:y,rowIndex:s}),this._leftGridWidth=null,this._topGridHeight=null,this._maybeCalculateCachedStyles(!0)}},{key:"componentDidMount",value:function(){var r=this.props,a=r.scrollLeft,o=r.scrollTop;if(a>0||o>0){var l={};a>0&&(l.scrollLeft=a),o>0&&(l.scrollTop=o),this.setState(l)}this._handleInvalidatedGridSize()}},{key:"componentDidUpdate",value:function(){this._handleInvalidatedGridSize()}},{key:"render",value:function(){var r=this.props,a=r.onScroll,o=r.onSectionRendered;r.onScrollbarPresenceChange,r.scrollLeft;var l=r.scrollToColumn;r.scrollTop;var s=r.scrollToRow,u=$n(r,Zge);if(this._prepareForRender(),this.props.width===0||this.props.height===0)return null;var d=this.state,g=d.scrollLeft,y=d.scrollTop;return A.createElement("div",{style:this._containerOuterStyle},A.createElement("div",{style:this._containerTopStyle},this._renderTopLeftGrid(u),this._renderTopRightGrid(vr(vr({},u),{},{onScroll:a,scrollLeft:g}))),A.createElement("div",{style:this._containerBottomStyle},this._renderBottomLeftGrid(vr(vr({},u),{},{onScroll:a,scrollTop:y})),this._renderBottomRightGrid(vr(vr({},u),{},{onScroll:a,onSectionRendered:o,scrollLeft:g,scrollToColumn:l,scrollToRow:s,scrollTop:y}))))}},{key:"_getBottomGridHeight",value:function(r){var a=r.height,o=this._getTopGridHeight(r);return a-o}},{key:"_getLeftGridWidth",value:function(r){var a=r.fixedColumnCount,o=r.columnWidth;if(this._leftGridWidth==null)if(typeof o=="function"){for(var l=0,s=0;s<a;s++)l+=o({index:s});this._leftGridWidth=l}else this._leftGridWidth=o*a;return this._leftGridWidth}},{key:"_getRightGridWidth",value:function(r){var a=r.width,o=this._getLeftGridWidth(r);return a-o}},{key:"_getTopGridHeight",value:function(r){var a=r.fixedRowCount,o=r.rowHeight;if(this._topGridHeight==null)if(typeof o=="function"){for(var l=0,s=0;s<a;s++)l+=o({index:s});this._topGridHeight=l}else this._topGridHeight=o*a;return this._topGridHeight}},{key:"_handleInvalidatedGridSize",value:function(){if(typeof this._deferredInvalidateColumnIndex=="number"){var r=this._deferredInvalidateColumnIndex,a=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:r,rowIndex:a}),this.forceUpdate()}}},{key:"_maybeCalculateCachedStyles",value:function(r){var a=this.props,o=a.columnWidth,l=a.enableFixedColumnScroll,s=a.enableFixedRowScroll,u=a.height,d=a.fixedColumnCount,g=a.fixedRowCount,y=a.rowHeight,_=a.style,C=a.styleBottomLeftGrid,c=a.styleBottomRightGrid,p=a.styleTopLeftGrid,m=a.styleTopRightGrid,b=a.width,E=r||u!==this._lastRenderedHeight||b!==this._lastRenderedWidth,T=r||o!==this._lastRenderedColumnWidth||d!==this._lastRenderedFixedColumnCount,R=r||g!==this._lastRenderedFixedRowCount||y!==this._lastRenderedRowHeight;(r||E||_!==this._lastRenderedStyle)&&(this._containerOuterStyle=vr({height:u,overflow:"visible",width:b},_)),(r||E||R)&&(this._containerTopStyle={height:this._getTopGridHeight(this.props),position:"relative",width:b},this._containerBottomStyle={height:u-this._getTopGridHeight(this.props),overflow:"visible",position:"relative",width:b}),(r||C!==this._lastRenderedStyleBottomLeftGrid)&&(this._bottomLeftGridStyle=vr({left:0,overflowX:"hidden",overflowY:l?"auto":"hidden",position:"absolute"},C)),(r||T||c!==this._lastRenderedStyleBottomRightGrid)&&(this._bottomRightGridStyle=vr({left:this._getLeftGridWidth(this.props),position:"absolute"},c)),(r||p!==this._lastRenderedStyleTopLeftGrid)&&(this._topLeftGridStyle=vr({left:0,overflowX:"hidden",overflowY:"hidden",position:"absolute",top:0},p)),(r||T||m!==this._lastRenderedStyleTopRightGrid)&&(this._topRightGridStyle=vr({left:this._getLeftGridWidth(this.props),overflowX:s?"auto":"hidden",overflowY:"hidden",position:"absolute",top:0},m)),this._lastRenderedColumnWidth=o,this._lastRenderedFixedColumnCount=d,this._lastRenderedFixedRowCount=g,this._lastRenderedHeight=u,this._lastRenderedRowHeight=y,this._lastRenderedStyle=_,this._lastRenderedStyleBottomLeftGrid=C,this._lastRenderedStyleBottomRightGrid=c,this._lastRenderedStyleTopLeftGrid=p,this._lastRenderedStyleTopRightGrid=m,this._lastRenderedWidth=b}},{key:"_prepareForRender",value:function(){(this._lastRenderedColumnWidth!==this.props.columnWidth||this._lastRenderedFixedColumnCount!==this.props.fixedColumnCount)&&(this._leftGridWidth=null),(this._lastRenderedFixedRowCount!==this.props.fixedRowCount||this._lastRenderedRowHeight!==this.props.rowHeight)&&(this._topGridHeight=null),this._maybeCalculateCachedStyles(),this._lastRenderedColumnWidth=this.props.columnWidth,this._lastRenderedFixedColumnCount=this.props.fixedColumnCount,this._lastRenderedFixedRowCount=this.props.fixedRowCount,this._lastRenderedRowHeight=this.props.rowHeight}},{key:"_renderBottomLeftGrid",value:function(r){var a=r.enableFixedColumnScroll,o=r.fixedColumnCount,l=r.fixedRowCount,s=r.rowCount,u=r.hideBottomLeftGridScrollbar,d=this.state.showVerticalScrollbar;if(!o)return null;var g=d?1:0,y=this._getBottomGridHeight(r),_=this._getLeftGridWidth(r),C=this.state.showVerticalScrollbar?this.state.scrollbarSize:0,c=u?_+C:_,p=A.createElement(Xu,Nt({},r,{cellRenderer:this._cellRendererBottomLeftGrid,className:this.props.classNameBottomLeftGrid,columnCount:o,deferredMeasurementCache:this._deferredMeasurementCacheBottomLeftGrid,height:y,onScroll:a?this._onScrollTop:void 0,ref:this._bottomLeftGridRef,rowCount:Math.max(0,s-l)+g,rowHeight:this._rowHeightBottomGrid,style:this._bottomLeftGridStyle,tabIndex:null,width:c}));return u?A.createElement("div",{className:"BottomLeftGrid_ScrollWrapper",style:vr(vr({},this._bottomLeftGridStyle),{},{height:y,width:_,overflowY:"hidden"})},p):p}},{key:"_renderBottomRightGrid",value:function(r){var a=r.columnCount,o=r.fixedColumnCount,l=r.fixedRowCount,s=r.rowCount,u=r.scrollToColumn,d=r.scrollToRow;return A.createElement(Xu,Nt({},r,{cellRenderer:this._cellRendererBottomRightGrid,className:this.props.classNameBottomRightGrid,columnCount:Math.max(0,a-o),columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheBottomRightGrid,height:this._getBottomGridHeight(r),onScroll:this._onScroll,onScrollbarPresenceChange:this._onScrollbarPresenceChange,ref:this._bottomRightGridRef,rowCount:Math.max(0,s-l),rowHeight:this._rowHeightBottomGrid,scrollToColumn:u-o,scrollToRow:d-l,style:this._bottomRightGridStyle,width:this._getRightGridWidth(r)}))}},{key:"_renderTopLeftGrid",value:function(r){var a=r.fixedColumnCount,o=r.fixedRowCount;return!a||!o?null:A.createElement(Xu,Nt({},r,{className:this.props.classNameTopLeftGrid,columnCount:a,height:this._getTopGridHeight(r),ref:this._topLeftGridRef,rowCount:o,style:this._topLeftGridStyle,tabIndex:null,width:this._getLeftGridWidth(r)}))}},{key:"_renderTopRightGrid",value:function(r){var a=r.columnCount,o=r.enableFixedRowScroll,l=r.fixedColumnCount,s=r.fixedRowCount,u=r.scrollLeft,d=r.hideTopRightGridScrollbar,g=this.state,y=g.showHorizontalScrollbar,_=g.scrollbarSize;if(!s)return null;var C=y?1:0,c=this._getTopGridHeight(r),p=this._getRightGridWidth(r),m=y?_:0,b=c,E=this._topRightGridStyle;d&&(b=c+m,E=vr(vr({},this._topRightGridStyle),{},{left:0}));var T=A.createElement(Xu,Nt({},r,{cellRenderer:this._cellRendererTopRightGrid,className:this.props.classNameTopRightGrid,columnCount:Math.max(0,a-l)+C,columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheTopRightGrid,height:b,onScroll:o?this._onScrollLeft:void 0,ref:this._topRightGridRef,rowCount:s,scrollLeft:u,style:E,tabIndex:null,width:p}));return d?A.createElement("div",{className:"TopRightGrid_ScrollWrapper",style:vr(vr({},this._topRightGridStyle),{},{height:c,width:p,overflowX:"hidden"})},T):T}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.scrollLeft!==a.scrollLeft||r.scrollTop!==a.scrollTop?{scrollLeft:r.scrollLeft!=null&&r.scrollLeft>=0?r.scrollLeft:a.scrollLeft,scrollTop:r.scrollTop!=null&&r.scrollTop>=0?r.scrollTop:a.scrollTop}:null}}])}(A.PureComponent);fe(hB,"defaultProps",{classNameBottomLeftGrid:"",classNameBottomRightGrid:"",classNameTopLeftGrid:"",classNameTopRightGrid:"",enableFixedColumnScroll:!1,enableFixedRowScroll:!1,fixedColumnCount:0,fixedRowCount:0,scrollToColumn:-1,scrollToRow:-1,style:{},styleBottomLeftGrid:{},styleBottomRightGrid:{},styleTopLeftGrid:{},styleTopRightGrid:{},hideTopRightGridScrollbar:!1,hideBottomLeftGridScrollbar:!1});hB.propTypes={};ZS(hB);function tve(n,e,t){return e=Di(e),Uo(n,g5()?Reflect.construct(e,t||[],Di(n).constructor):e.apply(n,t))}function g5(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g5=function(){return!!n})()}var v5=function(n){function e(t,r){var a;return ai(this,e),a=tve(this,e,[t,r]),a.state={clientHeight:0,clientWidth:0,scrollHeight:0,scrollLeft:0,scrollTop:0,scrollWidth:0},a._onScroll=a._onScroll.bind(a),a}return wr(e,n),oi(e,[{key:"render",value:function(){var r=this.props.children,a=this.state,o=a.clientHeight,l=a.clientWidth,s=a.scrollHeight,u=a.scrollLeft,d=a.scrollTop,g=a.scrollWidth;return r({clientHeight:o,clientWidth:l,onScroll:this._onScroll,scrollHeight:s,scrollLeft:u,scrollTop:d,scrollWidth:g})}},{key:"_onScroll",value:function(r){var a=r.clientHeight,o=r.clientWidth,l=r.scrollHeight,s=r.scrollLeft,u=r.scrollTop,d=r.scrollWidth;this.setState({clientHeight:a,clientWidth:o,scrollHeight:l,scrollLeft:s,scrollTop:u,scrollWidth:d})}}])}(A.PureComponent);v5.propTypes={};function nve(n){var e=n.dataKey,t=n.rowData;return typeof t.get=="function"?t.get(e):t[e]}function ive(n){var e=n.cellData;return e==null?"":String(e)}function rve(n){var e=n.className,t=n.columns,r=n.style;return A.createElement("div",{className:e,role:"row",style:r},t)}var Oh={ASC:"ASC",DESC:"DESC"};function y5(n){var e=n.sortDirection,t=Nc("ReactVirtualized__Table__sortableHeaderIcon",{"ReactVirtualized__Table__sortableHeaderIcon--ASC":e===Oh.ASC,"ReactVirtualized__Table__sortableHeaderIcon--DESC":e===Oh.DESC});return A.createElement("svg",{className:t,width:18,height:18,viewBox:"0 0 24 24"},e===Oh.ASC?A.createElement("path",{d:"M7 14l5-5 5 5z"}):A.createElement("path",{d:"M7 10l5 5 5-5z"}),A.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}y5.propTypes={};function ave(n){var e=n.dataKey,t=n.label,r=n.sortBy,a=n.sortDirection,o=r===e,l=[A.createElement("span",{className:"ReactVirtualized__Table__headerTruncatedText",key:"label",title:typeof t=="string"?t:null},t)];return o&&l.push(A.createElement(y5,{key:"SortIndicator",sortDirection:a})),l}function ove(n){var e=n.className,t=n.columns,r=n.index,a=n.key,o=n.onRowClick,l=n.onRowDoubleClick,s=n.onRowMouseOut,u=n.onRowMouseOver,d=n.onRowRightClick,g=n.rowData,y=n.style,_={"aria-rowindex":r+1};return(o||l||s||u||d)&&(_["aria-label"]="row",_.tabIndex=0,o&&(_.onClick=function(C){return o({event:C,index:r,rowData:g})}),l&&(_.onDoubleClick=function(C){return l({event:C,index:r,rowData:g})}),s&&(_.onMouseOut=function(C){return s({event:C,index:r,rowData:g})}),u&&(_.onMouseOver=function(C){return u({event:C,index:r,rowData:g})}),d&&(_.onContextMenu=function(C){return d({event:C,index:r,rowData:g})})),A.createElement("div",Nt({},_,{className:e,key:a,role:"row",style:y}),t)}function sve(n,e,t){return e=Di(e),Uo(n,b5()?Reflect.construct(e,t||[],Di(n).constructor):e.apply(n,t))}function b5(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b5=function(){return!!n})()}var pB=function(n){function e(){return ai(this,e),sve(this,e,arguments)}return wr(e,n),oi(e)}(A.Component);fe(pB,"defaultProps",{cellDataGetter:nve,cellRenderer:ive,defaultSortDirection:Oh.ASC,flexGrow:0,flexShrink:1,headerRenderer:ave,style:{}});pB.propTypes={};function xz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function zu(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?xz(Object(t),!0).forEach(function(r){fe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):xz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function lve(n,e,t){return e=Di(e),Uo(n,S5()?Reflect.construct(e,t||[],Di(n).constructor):e.apply(n,t))}function S5(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S5=function(){return!!n})()}var _5=function(n){function e(t){var r;return ai(this,e),r=lve(this,e,[t]),r.state={scrollbarWidth:0},r._createColumn=r._createColumn.bind(r),r._createRow=r._createRow.bind(r),r._onScroll=r._onScroll.bind(r),r._onSectionRendered=r._onSectionRendered.bind(r),r._setRef=r._setRef.bind(r),r._setGridElementRef=r._setGridElementRef.bind(r),r}return wr(e,n),oi(e,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(r){var a=r.alignment,o=r.index;if(this.Grid){var l=this.Grid.getOffsetForCell({alignment:a,rowIndex:o}),s=l.scrollTop;return s}return 0}},{key:"invalidateCellSizeAfterRender",value:function(r){var a=r.columnIndex,o=r.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:o,columnIndex:a})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=r.columnIndex,o=a===void 0?0:a,l=r.rowIndex,s=l===void 0?0:l;this.Grid&&this.Grid.recomputeGridSize({rowIndex:s,columnIndex:o})}},{key:"recomputeRowHeights",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:r})}},{key:"scrollToPosition",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:r})}},{key:"scrollToRow",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:r})}},{key:"getScrollbarWidth",value:function(){if(this.GridElement){var r=this.GridElement,a=r.clientWidth||0,o=r.offsetWidth||0;return o-a}return 0}},{key:"componentDidMount",value:function(){this._setScrollbarWidth()}},{key:"componentDidUpdate",value:function(){this._setScrollbarWidth()}},{key:"render",value:function(){var r=this,a=this.props,o=a.children,l=a.className,s=a.disableHeader,u=a.gridClassName,d=a.gridStyle,g=a.headerHeight,y=a.headerRowRenderer,_=a.height,C=a.id,c=a.noRowsRenderer,p=a.rowClassName,m=a.rowStyle,b=a.scrollToIndex,E=a.style,T=a.width,R=this.state.scrollbarWidth,O=s?_:_-g,D=typeof p=="function"?p({index:-1}):p,P=typeof m=="function"?m({index:-1}):m;return this._cachedColumnStyles=[],A.Children.toArray(o).forEach(function(F,U){var z=r._getFlexStyleForColumn(F,F.props.style||pB.defaultProps.style);r._cachedColumnStyles[U]=zu({overflow:"hidden"},z)}),A.createElement("div",{"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-colcount":A.Children.toArray(o).length,"aria-rowcount":this.props.rowCount,className:Nc("ReactVirtualized__Table",l),id:C,role:"grid",style:E},!s&&y({className:Nc("ReactVirtualized__Table__headerRow",D),columns:this._getHeaderColumns(),style:zu({height:g,overflow:"hidden",paddingRight:R,width:T},P)}),A.createElement(Xu,Nt({},this.props,{elementRef:this._setGridElementRef,"aria-readonly":null,autoContainerWidth:!0,className:Nc("ReactVirtualized__Table__Grid",u),cellRenderer:this._createRow,columnWidth:T,columnCount:1,height:O,id:void 0,noContentRenderer:c,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,role:"rowgroup",scrollbarWidth:R,scrollToRow:b,style:zu(zu({},d),{},{overflowX:"hidden"})})))}},{key:"_createColumn",value:function(r){var a=r.column,o=r.columnIndex,l=r.isScrolling,s=r.parent,u=r.rowData,d=r.rowIndex,g=this.props.onColumnClick,y=a.props,_=y.cellDataGetter,C=y.cellRenderer,c=y.className,p=y.columnData,m=y.dataKey,b=y.id,E=_({columnData:p,dataKey:m,rowData:u}),T=C({cellData:E,columnData:p,columnIndex:o,dataKey:m,isScrolling:l,parent:s,rowData:u,rowIndex:d}),R=function(F){g&&g({columnData:p,dataKey:m,event:F})},O=this._cachedColumnStyles[o],D=typeof T=="string"?T:null;return A.createElement("div",{"aria-colindex":o+1,"aria-describedby":b,className:Nc("ReactVirtualized__Table__rowColumn",c),key:"Row"+d+"-Col"+o,onClick:R,role:"gridcell",style:O,title:D},T)}},{key:"_createHeader",value:function(r){var a=r.column,o=r.index,l=this.props,s=l.headerClassName,u=l.headerStyle,d=l.onHeaderClick,g=l.sort,y=l.sortBy,_=l.sortDirection,C=a.props,c=C.columnData,p=C.dataKey,m=C.defaultSortDirection,b=C.disableSort,E=C.headerRenderer,T=C.id,R=C.label,O=!b&&g,D=Nc("ReactVirtualized__Table__headerColumn",s,a.props.headerClassName,{ReactVirtualized__Table__sortableHeaderColumn:O}),P=this._getFlexStyleForColumn(a,zu(zu({},u),a.props.headerStyle)),F=E({columnData:c,dataKey:p,disableSort:b,label:R,sortBy:y,sortDirection:_}),U,z,$,J,W;if(O||d){var Z=y!==p,oe=Z?m:_===Oh.DESC?Oh.ASC:Oh.DESC,Y=function(ue){O&&g({defaultSortDirection:m,event:ue,sortBy:p,sortDirection:oe}),d&&d({columnData:c,dataKey:p,event:ue})},K=function(ue){(ue.key==="Enter"||ue.key===" ")&&Y(ue)};W=a.props["aria-label"]||R||p,J="none",$=0,U=Y,z=K}return y===p&&(J=_===Oh.ASC?"ascending":"descending"),A.createElement("div",{"aria-label":W,"aria-sort":J,className:D,id:T,key:"Header-Col"+o,onClick:U,onKeyDown:z,role:"columnheader",style:P,tabIndex:$},F)}},{key:"_createRow",value:function(r){var a=this,o=r.rowIndex,l=r.isScrolling,s=r.key,u=r.parent,d=r.style,g=this.props,y=g.children,_=g.onRowClick,C=g.onRowDoubleClick,c=g.onRowRightClick,p=g.onRowMouseOver,m=g.onRowMouseOut,b=g.rowClassName,E=g.rowGetter,T=g.rowRenderer,R=g.rowStyle,O=this.state.scrollbarWidth,D=typeof b=="function"?b({index:o}):b,P=typeof R=="function"?R({index:o}):R,F=E({index:o}),U=A.Children.toArray(y).map(function(J,W){return a._createColumn({column:J,columnIndex:W,isScrolling:l,parent:u,rowData:F,rowIndex:o,scrollbarWidth:O})}),z=Nc("ReactVirtualized__Table__row",D),$=zu(zu({},d),{},{height:this._getRowHeight(o),overflow:"hidden",paddingRight:O},P);return T({className:z,columns:U,index:o,isScrolling:l,key:s,onRowClick:_,onRowDoubleClick:C,onRowRightClick:c,onRowMouseOver:p,onRowMouseOut:m,rowData:F,style:$})}},{key:"_getFlexStyleForColumn",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o="".concat(r.props.flexGrow," ").concat(r.props.flexShrink," ").concat(r.props.width,"px"),l=zu(zu({},a),{},{flex:o,msFlex:o,WebkitFlex:o});return r.props.maxWidth&&(l.maxWidth=r.props.maxWidth),r.props.minWidth&&(l.minWidth=r.props.minWidth),l}},{key:"_getHeaderColumns",value:function(){var r=this,a=this.props,o=a.children,l=a.disableHeader,s=l?[]:A.Children.toArray(o);return s.map(function(u,d){return r._createHeader({column:u,index:d})})}},{key:"_getRowHeight",value:function(r){var a=this.props.rowHeight;return typeof a=="function"?a({index:r}):a}},{key:"_onScroll",value:function(r){var a=r.clientHeight,o=r.scrollHeight,l=r.scrollTop,s=this.props.onScroll;s({clientHeight:a,scrollHeight:o,scrollTop:l})}},{key:"_onSectionRendered",value:function(r){var a=r.rowOverscanStartIndex,o=r.rowOverscanStopIndex,l=r.rowStartIndex,s=r.rowStopIndex,u=this.props.onRowsRendered;u({overscanStartIndex:a,overscanStopIndex:o,startIndex:l,stopIndex:s})}},{key:"_setRef",value:function(r){this.Grid=r}},{key:"_setGridElementRef",value:function(r){this.GridElement=r}},{key:"_setScrollbarWidth",value:function(){var r=this.getScrollbarWidth();this.setState({scrollbarWidth:r})}}])}(A.PureComponent);fe(_5,"defaultProps",{disableHeader:!1,estimatedRowSize:30,headerHeight:0,headerStyle:{},noRowsRenderer:function(){return null},onRowsRendered:function(){return null},onScroll:function(){return null},overscanIndicesGetter:r5,overscanRowCount:10,rowRenderer:ove,headerRowRenderer:rve,rowStyle:{},scrollToAlignment:"auto",scrollToIndex:-1,style:{}});_5.propTypes={};var Dh=[],$b=null,wm=null;function x5(){wm&&(wm=null,document.body&&$b!=null&&(document.body.style.pointerEvents=$b),$b=null)}function cve(){x5(),Dh.forEach(function(n){return n.__resetIsScrolling()})}function uve(){wm&&C0(wm);var n=0;Dh.forEach(function(e){n=Math.max(n,e.props.scrollingResetTimeInterval)}),wm=cB(cve,n)}function C5(n){n.currentTarget===window&&$b==null&&document.body&&($b=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),uve(),Dh.forEach(function(e){e.props.scrollElement===n.currentTarget&&e.__handleWindowScrollEvent()})}function Cz(n,e){Dh.some(function(t){return t.props.scrollElement===e})||e.addEventListener("scroll",C5),Dh.push(n)}function Ez(n,e){Dh=Dh.filter(function(t){return t!==n}),Dh.length||(e.removeEventListener("scroll",C5),wm&&(C0(wm),x5()))}var mB=function(e){return e===window},wb=function(e){return e.getBoundingClientRect()};function wz(n,e){if(n)if(mB(n)){var t=window,r=t.innerHeight,a=t.innerWidth;return{height:typeof r=="number"?r:0,width:typeof a=="number"?a:0}}else return wb(n);else return{height:e.serverHeight,width:e.serverWidth}}function fve(n,e){if(mB(e)&&document.documentElement){var t=document.documentElement,r=wb(n),a=wb(t);return{top:r.top-a.top,left:r.left-a.left}}else{var o=E5(e),l=wb(n),s=wb(e);return{top:l.top+o.top-s.top,left:l.left+o.left-s.left}}}function E5(n){return mB(n)&&document.documentElement?{top:"scrollY"in window?window.scrollY:document.documentElement.scrollTop,left:"scrollX"in window?window.scrollX:document.documentElement.scrollLeft}:{top:n.scrollTop,left:n.scrollLeft}}function Az(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function Mz(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Az(Object(t),!0).forEach(function(r){fe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Az(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function dve(n,e,t){return e=Di(e),Uo(n,w5()?Reflect.construct(e,t||[],Di(n).constructor):e.apply(n,t))}function w5(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w5=function(){return!!n})()}var hve=150,A5=function(){return typeof window<"u"?window:void 0},pve=function(n){function e(){var t;ai(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=dve(this,e,[].concat(a)),fe(t,"_window",A5()),fe(t,"_isMounted",!1),fe(t,"_positionFromTop",0),fe(t,"_positionFromLeft",0),fe(t,"_detectElementResize",void 0),fe(t,"_child",void 0),fe(t,"_windowScrollerRef",A.createRef()),fe(t,"state",Mz(Mz({},wz(t.props.scrollElement,t.props)),{},{isScrolling:!1,scrollLeft:0,scrollTop:0})),fe(t,"_registerChild",function(l){l&&!(l instanceof Element)&&console.warn("WindowScroller registerChild expects to be passed Element or null"),t._child=l,t.updatePosition()}),fe(t,"_onChildScroll",function(l){var s=l.scrollTop;if(t.state.scrollTop!==s){var u=t.props.scrollElement;u&&(typeof u.scrollTo=="function"?u.scrollTo(0,s+t._positionFromTop):u.scrollTop=s+t._positionFromTop)}}),fe(t,"_registerResizeListener",function(l){l===window?window.addEventListener("resize",t._onResize,!1):t._detectElementResize.addResizeListener(l,t._onResize)}),fe(t,"_unregisterResizeListener",function(l){l===window?window.removeEventListener("resize",t._onResize,!1):l&&t._detectElementResize.removeResizeListener(l,t._onResize)}),fe(t,"_onResize",function(){t.updatePosition()}),fe(t,"__handleWindowScrollEvent",function(){if(t._isMounted){var l=t.props.onScroll,s=t.props.scrollElement;if(s){var u=E5(s),d=Math.max(0,u.left-t._positionFromLeft),g=Math.max(0,u.top-t._positionFromTop);t.setState({isScrolling:!0,scrollLeft:d,scrollTop:g}),l({scrollLeft:d,scrollTop:g})}}}),fe(t,"__resetIsScrolling",function(){t.setState({isScrolling:!1})}),t}return wr(e,n),oi(e,[{key:"updatePosition",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollElement,a=this.props.onResize,o=this.state,l=o.height,s=o.width,u=this._child||this._windowScrollerRef.current;if(u instanceof Element&&r){var d=fve(u,r);this._positionFromTop=d.top,this._positionFromLeft=d.left}var g=wz(r,this.props);(l!==g.height||s!==g.width)&&(this.setState({height:g.height,width:g.width}),a({height:g.height,width:g.width})),this.props.updateScrollTopOnUpdatePosition===!0&&(this.__handleWindowScrollEvent(),this.__resetIsScrolling())}},{key:"componentDidMount",value:function(){var r=this.props.scrollElement;this._detectElementResize=qG(),this.updatePosition(r),r&&(Cz(this,r),this._registerResizeListener(r)),this._isMounted=!0}},{key:"componentDidUpdate",value:function(r,a){var o=this.props.scrollElement,l=r.scrollElement;l!==o&&l!=null&&o!=null&&(this.updatePosition(o),Ez(this,l),Cz(this,o),this._unregisterResizeListener(l),this._registerResizeListener(o))}},{key:"componentWillUnmount",value:function(){var r=this.props.scrollElement;r&&(Ez(this,r),this._unregisterResizeListener(r)),this._isMounted=!1}},{key:"render",value:function(){var r=this.props.children,a=this.state,o=a.isScrolling,l=a.scrollTop,s=a.scrollLeft,u=a.height,d=a.width;return A.createElement("div",{ref:this._windowScrollerRef},r({onChildScroll:this._onChildScroll,registerChild:this._registerChild,height:u,isScrolling:o,scrollLeft:s,scrollTop:l,width:d}))}}])}(A.PureComponent);fe(pve,"defaultProps",{onResize:function(){},onScroll:function(){},scrollingResetTimeInterval:hve,scrollElement:A5(),serverHeight:0,serverWidth:0});function mve(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.map(function(r){return r.split(" ").map(function(a){return a?""+n+a:""}).join(" ")}).join(" ")}var Ab={exports:{}},gve=Ab.exports,Tz;function vve(){return Tz||(Tz=1,function(n,e){(function(t,r){n.exports=r()})(gve,function(){function t(B,I){var H=Object.keys(B);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(B);I&&(V=V.filter(function(X){return Object.getOwnPropertyDescriptor(B,X).enumerable})),H.push.apply(H,V)}return H}function r(B){for(var I=1;I<arguments.length;I++){var H=arguments[I]!=null?arguments[I]:{};I%2?t(Object(H),!0).forEach(function(V){u(B,V,H[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(H)):t(Object(H)).forEach(function(V){Object.defineProperty(B,V,Object.getOwnPropertyDescriptor(H,V))})}return B}function a(B){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},a(B)}function o(B,I){if(!(B instanceof I))throw new TypeError("Cannot call a class as a function")}function l(B,I){for(var H=0;H<I.length;H++){var V=I[H];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(B,p(V.key),V)}}function s(B,I,H){return I&&l(B.prototype,I),Object.defineProperty(B,"prototype",{writable:!1}),B}function u(B,I,H){return(I=p(I))in B?Object.defineProperty(B,I,{value:H,enumerable:!0,configurable:!0,writable:!0}):B[I]=H,B}function d(B,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function");B.prototype=Object.create(I&&I.prototype,{constructor:{value:B,writable:!0,configurable:!0}}),Object.defineProperty(B,"prototype",{writable:!1}),I&&y(B,I)}function g(B){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)},g(B)}function y(B,I){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(H,V){return H.__proto__=V,H},y(B,I)}function _(B){if(B===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}function C(B){var I=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var H,V=g(B);if(I){var X=g(this).constructor;H=Reflect.construct(V,arguments,X)}else H=V.apply(this,arguments);return function(te,se){if(se&&(typeof se=="object"||typeof se=="function"))return se;if(se!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _(te)}(this,H)}}function c(){return c=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(B,I,H){var V=function(te,se){for(;!Object.prototype.hasOwnProperty.call(te,se)&&(te=g(te))!==null;);return te}(B,I);if(V){var X=Object.getOwnPropertyDescriptor(V,I);return X.get?X.get.call(arguments.length<3?B:H):X.value}},c.apply(this,arguments)}function p(B){var I=function(H,V){if(typeof H!="object"||H===null)return H;var X=H[Symbol.toPrimitive];if(X!==void 0){var te=X.call(H,V);if(typeof te!="object")return te;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(H)}(B,"string");return typeof I=="symbol"?I:I+""}var m=function(B){return!(!B||!B.Window)&&B instanceof B.Window},b=void 0,E=void 0;function T(B){b=B;var I=B.document.createTextNode("");I.ownerDocument!==B.document&&typeof B.wrap=="function"&&B.wrap(I)===I&&(B=B.wrap(B)),E=B}function R(B){return m(B)?B:(B.ownerDocument||B).defaultView||E.window}typeof window<"u"&&window&&T(window);var O=function(B){return!!B&&a(B)==="object"},D=function(B){return typeof B=="function"},P={window:function(B){return B===E||m(B)},docFrag:function(B){return O(B)&&B.nodeType===11},object:O,func:D,number:function(B){return typeof B=="number"},bool:function(B){return typeof B=="boolean"},string:function(B){return typeof B=="string"},element:function(B){if(!B||a(B)!=="object")return!1;var I=R(B)||E;return/object|function/.test(typeof Element>"u"?"undefined":a(Element))?B instanceof Element||B instanceof I.Element:B.nodeType===1&&typeof B.nodeName=="string"},plainObject:function(B){return O(B)&&!!B.constructor&&/function Object\b/.test(B.constructor.toString())},array:function(B){return O(B)&&B.length!==void 0&&D(B.splice)}};function F(B){var I=B.interaction;if(I.prepared.name==="drag"){var H=I.prepared.axis;H==="x"?(I.coords.cur.page.y=I.coords.start.page.y,I.coords.cur.client.y=I.coords.start.client.y,I.coords.velocity.client.y=0,I.coords.velocity.page.y=0):H==="y"&&(I.coords.cur.page.x=I.coords.start.page.x,I.coords.cur.client.x=I.coords.start.client.x,I.coords.velocity.client.x=0,I.coords.velocity.page.x=0)}}function U(B){var I=B.iEvent,H=B.interaction;if(H.prepared.name==="drag"){var V=H.prepared.axis;if(V==="x"||V==="y"){var X=V==="x"?"y":"x";I.page[X]=H.coords.start.page[X],I.client[X]=H.coords.start.client[X],I.delta[X]=0}}}var z={id:"actions/drag",install:function(B){var I=B.actions,H=B.Interactable,V=B.defaults;H.prototype.draggable=z.draggable,I.map.drag=z,I.methodDict.drag="draggable",V.actions.drag=z.defaults},listeners:{"interactions:before-action-move":F,"interactions:action-resume":F,"interactions:action-move":U,"auto-start:check":function(B){var I=B.interaction,H=B.interactable,V=B.buttons,X=H.options.drag;if(X&&X.enabled&&(!I.pointerIsDown||!/mouse|pointer/.test(I.pointerType)||(V&H.options.drag.mouseButtons)!=0))return B.action={name:"drag",axis:X.lockAxis==="start"?X.startAxis:X.lockAxis},!1}},draggable:function(B){return P.object(B)?(this.options.drag.enabled=B.enabled!==!1,this.setPerAction("drag",B),this.setOnEvents("drag",B),/^(xy|x|y|start)$/.test(B.lockAxis)&&(this.options.drag.lockAxis=B.lockAxis),/^(xy|x|y)$/.test(B.startAxis)&&(this.options.drag.startAxis=B.startAxis),this):P.bool(B)?(this.options.drag.enabled=B,this):this.options.drag},beforeMove:F,move:U,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"},filterEventType:function(B){return B.search("drag")===0}},$=z,J={init:function(B){var I=B;J.document=I.document,J.DocumentFragment=I.DocumentFragment||W,J.SVGElement=I.SVGElement||W,J.SVGSVGElement=I.SVGSVGElement||W,J.SVGElementInstance=I.SVGElementInstance||W,J.Element=I.Element||W,J.HTMLElement=I.HTMLElement||J.Element,J.Event=I.Event,J.Touch=I.Touch||W,J.PointerEvent=I.PointerEvent||I.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function W(){}var Z=J,oe={init:function(B){var I=Z.Element,H=B.navigator||{};oe.supportsTouch="ontouchstart"in B||P.func(B.DocumentTouch)&&Z.document instanceof B.DocumentTouch,oe.supportsPointerEvent=H.pointerEnabled!==!1&&!!Z.PointerEvent,oe.isIOS=/iP(hone|od|ad)/.test(H.platform),oe.isIOS7=/iP(hone|od|ad)/.test(H.platform)&&/OS 7[^\d]/.test(H.appVersion),oe.isIe9=/MSIE 9/.test(H.userAgent),oe.isOperaMobile=H.appName==="Opera"&&oe.supportsTouch&&/Presto/.test(H.userAgent),oe.prefixedMatchesSelector="matches"in I.prototype?"matches":"webkitMatchesSelector"in I.prototype?"webkitMatchesSelector":"mozMatchesSelector"in I.prototype?"mozMatchesSelector":"oMatchesSelector"in I.prototype?"oMatchesSelector":"msMatchesSelector",oe.pEventTypes=oe.supportsPointerEvent?Z.PointerEvent===B.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,oe.wheelEvent=Z.document&&"onmousewheel"in Z.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},Y=oe;function K(B,I){if(B.contains)return B.contains(I);for(;I;){if(I===B)return!0;I=I.parentNode}return!1}function ee(B,I){for(;P.element(B);){if(q(B,I))return B;B=ue(B)}return null}function ue(B){var I=B.parentNode;if(P.docFrag(I)){for(;(I=I.host)&&P.docFrag(I););return I}return I}function q(B,I){return E!==b&&(I=I.replace(/\/deep\//g," ")),B[Y.prefixedMatchesSelector](I)}var ie=function(B){return B.parentNode||B.host};function me(B,I){for(var H,V=[],X=B;(H=ie(X))&&X!==I&&H!==X.ownerDocument;)V.unshift(X),X=H;return V}function de(B,I,H){for(;P.element(B);){if(q(B,I))return!0;if((B=ue(B))===H)return q(B,I)}return!1}function Q(B){return B.correspondingUseElement||B}function he(B){var I=B instanceof Z.SVGElement?B.getBoundingClientRect():B.getClientRects()[0];return I&&{left:I.left,right:I.right,top:I.top,bottom:I.bottom,width:I.width||I.right-I.left,height:I.height||I.bottom-I.top}}function xe(B){var I,H=he(B);if(!Y.isIOS7&&H){var V={x:(I=(I=R(B))||E).scrollX||I.document.documentElement.scrollLeft,y:I.scrollY||I.document.documentElement.scrollTop};H.left+=V.x,H.right+=V.x,H.top+=V.y,H.bottom+=V.y}return H}function Oe(B){for(var I=[];B;)I.push(B),B=ue(B);return I}function Ae(B){return!!P.string(B)&&(Z.document.querySelector(B),!0)}function Te(B,I){for(var H in I)B[H]=I[H];return B}function ze(B,I,H){return B==="parent"?ue(H):B==="self"?I.getRect(H):ee(H,B)}function vt(B,I,H,V){var X=B;return P.string(X)?X=ze(X,I,H):P.func(X)&&(X=X.apply(void 0,V)),P.element(X)&&(X=xe(X)),X}function Be(B){return B&&{x:"x"in B?B.x:B.left,y:"y"in B?B.y:B.top}}function Ce(B){return!B||"x"in B&&"y"in B||((B=Te({},B)).x=B.left||0,B.y=B.top||0,B.width=B.width||(B.right||0)-B.x,B.height=B.height||(B.bottom||0)-B.y),B}function re(B,I,H){B.left&&(I.left+=H.x),B.right&&(I.right+=H.x),B.top&&(I.top+=H.y),B.bottom&&(I.bottom+=H.y),I.width=I.right-I.left,I.height=I.bottom-I.top}function Fe(B,I,H){var V=H&&B.options[H];return Be(vt(V&&V.origin||B.options.origin,B,I,[B&&I]))||{x:0,y:0}}function Ie(B,I){var H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(ye){return!0},V=arguments.length>3?arguments[3]:void 0;if(V=V||{},P.string(B)&&B.search(" ")!==-1&&(B=Ye(B)),P.array(B))return B.forEach(function(ye){return Ie(ye,I,H,V)}),V;if(P.object(B)&&(I=B,B=""),P.func(I)&&H(B))V[B]=V[B]||[],V[B].push(I);else if(P.array(I))for(var X=0,te=I;X<te.length;X++){var se=te[X];Ie(B,se,H,V)}else if(P.object(I))for(var pe in I)Ie(Ye(pe).map(function(ye){return"".concat(B).concat(ye)}),I[pe],H,V);return V}function Ye(B){return B.trim().split(/ +/)}var ke=function(B,I){return Math.sqrt(B*B+I*I)},lt=["webkit","moz"];function ot(B,I){B.__set||(B.__set={});var H=function(X){if(lt.some(function(te){return X.indexOf(te)===0}))return 1;typeof B[X]!="function"&&X!=="__set"&&Object.defineProperty(B,X,{get:function(){return X in B.__set?B.__set[X]:B.__set[X]=I[X]},set:function(te){B.__set[X]=te},configurable:!0})};for(var V in I)H(V);return B}function ce(B,I){B.page=B.page||{},B.page.x=I.page.x,B.page.y=I.page.y,B.client=B.client||{},B.client.x=I.client.x,B.client.y=I.client.y,B.timeStamp=I.timeStamp}function ae(B){B.page.x=0,B.page.y=0,B.client.x=0,B.client.y=0}function we(B){return B instanceof Z.Event||B instanceof Z.Touch}function De(B,I,H){return B=B||"page",(H=H||{}).x=I[B+"X"],H.y=I[B+"Y"],H}function qe(B,I){return I=I||{x:0,y:0},Y.isOperaMobile&&we(B)?(De("screen",B,I),I.x+=window.scrollX,I.y+=window.scrollY):De("page",B,I),I}function He(B){return P.number(B.pointerId)?B.pointerId:B.identifier}function gt(B,I,H){var V=I.length>1?pt(I):I[0];qe(V,B.page),function(X,te){te=te||{},Y.isOperaMobile&&we(X)?De("screen",X,te):De("client",X,te)}(V,B.client),B.timeStamp=H}function st(B){var I=[];return P.array(B)?(I[0]=B[0],I[1]=B[1]):B.type==="touchend"?B.touches.length===1?(I[0]=B.touches[0],I[1]=B.changedTouches[0]):B.touches.length===0&&(I[0]=B.changedTouches[0],I[1]=B.changedTouches[1]):(I[0]=B.touches[0],I[1]=B.touches[1]),I}function pt(B){for(var I={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},H=0;H<B.length;H++){var V=B[H];for(var X in I)I[X]+=V[X]}for(var te in I)I[te]/=B.length;return I}function Ot(B){if(!B.length)return null;var I=st(B),H=Math.min(I[0].pageX,I[1].pageX),V=Math.min(I[0].pageY,I[1].pageY),X=Math.max(I[0].pageX,I[1].pageX),te=Math.max(I[0].pageY,I[1].pageY);return{x:H,y:V,left:H,top:V,right:X,bottom:te,width:X-H,height:te-V}}function at(B,I){var H=I+"X",V=I+"Y",X=st(B),te=X[0][H]-X[1][H],se=X[0][V]-X[1][V];return ke(te,se)}function _t(B,I){var H=I+"X",V=I+"Y",X=st(B),te=X[1][H]-X[0][H],se=X[1][V]-X[0][V];return 180*Math.atan2(se,te)/Math.PI}function Ct(B){return P.string(B.pointerType)?B.pointerType:P.number(B.pointerType)?[void 0,void 0,"touch","pen","mouse"][B.pointerType]:/touch/.test(B.type||"")||B instanceof Z.Touch?"touch":"mouse"}function je(B){var I=P.func(B.composedPath)?B.composedPath():B.path;return[Q(I?I[0]:B.target),Q(B.currentTarget)]}var it=function(){function B(I){o(this,B),this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=I}return s(B,[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),B}();Object.defineProperty(it.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var Se=function(B,I){for(var H=0;H<I.length;H++){var V=I[H];B.push(V)}return B},Ge=function(B){return Se([],B)},St=function(B,I){for(var H=0;H<B.length;H++)if(I(B[H],H,B))return H;return-1},Me=function(B,I){return B[St(B,I)]},xt=function(B){d(H,B);var I=C(H);function H(V,X,te){var se;o(this,H),(se=I.call(this,X._interaction)).dropzone=void 0,se.dragEvent=void 0,se.relatedTarget=void 0,se.draggable=void 0,se.propagationStopped=!1,se.immediatePropagationStopped=!1;var pe=te==="dragleave"?V.prev:V.cur,ye=pe.element,Pe=pe.dropzone;return se.type=te,se.target=ye,se.currentTarget=ye,se.dropzone=Pe,se.dragEvent=X,se.relatedTarget=X.target,se.draggable=X.interactable,se.timeStamp=X.timeStamp,se}return s(H,[{key:"reject",value:function(){var V=this,X=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&X.cur.dropzone===this.dropzone&&X.cur.element===this.target)if(X.prev.dropzone=this.dropzone,X.prev.element=this.target,X.rejected=!0,X.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var te=X.activeDrops,se=St(te,function(ye){var Pe=ye.dropzone,Ee=ye.element;return Pe===V.dropzone&&Ee===V.target});X.activeDrops.splice(se,1);var pe=new H(X,this.dragEvent,"dropdeactivate");pe.dropzone=this.dropzone,pe.target=this.target,this.dropzone.fire(pe)}else this.dropzone.fire(new H(X,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),H}(it);function Qe(B,I){for(var H=0,V=B.slice();H<V.length;H++){var X=V[H],te=X.dropzone,se=X.element;I.dropzone=te,I.target=se,te.fire(I),I.propagationStopped=I.immediatePropagationStopped=!1}}function mt(B,I){for(var H=function(te,se){for(var pe=[],ye=0,Pe=te.interactables.list;ye<Pe.length;ye++){var Ee=Pe[ye];if(Ee.options.drop.enabled){var Ke=Ee.options.drop.accept;if(!(P.element(Ke)&&Ke!==se||P.string(Ke)&&!q(se,Ke)||P.func(Ke)&&!Ke({dropzone:Ee,draggableElement:se})))for(var yt=0,zt=Ee.getAllElements();yt<zt.length;yt++){var Bt=zt[yt];Bt!==se&&pe.push({dropzone:Ee,element:Bt,rect:Ee.getRect(Bt)})}}}return pe}(B,I),V=0;V<H.length;V++){var X=H[V];X.rect=X.dropzone.getRect(X.element)}return H}function Lt(B,I,H){for(var V=B.dropState,X=B.interactable,te=B.element,se=[],pe=0,ye=V.activeDrops;pe<ye.length;pe++){var Pe=ye[pe],Ee=Pe.dropzone,Ke=Pe.element,yt=Pe.rect,zt=Ee.dropCheck(I,H,X,te,Ke,yt);se.push(zt?Ke:null)}var Bt=function(kt){for(var an,Zt,hn,Ln=[],ei=0;ei<kt.length;ei++){var pn=kt[ei],Rn=kt[an];if(pn&&ei!==an)if(Rn){var Ar=ie(pn),Ki=ie(Rn);if(Ar!==pn.ownerDocument)if(Ki!==pn.ownerDocument)if(Ar!==Ki){Ln=Ln.length?Ln:me(Rn);var ya=void 0;if(Rn instanceof Z.HTMLElement&&pn instanceof Z.SVGElement&&!(pn instanceof Z.SVGSVGElement)){if(pn===Ki)continue;ya=pn.ownerSVGElement}else ya=pn;for(var Li=me(ya,Rn.ownerDocument),jo=0;Li[jo]&&Li[jo]===Ln[jo];)jo++;var la=[Li[jo-1],Li[jo],Ln[jo]];if(la[0])for(var Kl=la[0].lastChild;Kl;){if(Kl===la[1]){an=ei,Ln=Li;break}if(Kl===la[2])break;Kl=Kl.previousSibling}}else hn=Rn,(parseInt(R(Zt=pn).getComputedStyle(Zt).zIndex,10)||0)>=(parseInt(R(hn).getComputedStyle(hn).zIndex,10)||0)&&(an=ei);else an=ei}else an=ei}return an}(se);return V.activeDrops[Bt]||null}function It(B,I,H){var V=B.dropState,X={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return H.type==="dragstart"&&(X.activate=new xt(V,H,"dropactivate"),X.activate.target=null,X.activate.dropzone=null),H.type==="dragend"&&(X.deactivate=new xt(V,H,"dropdeactivate"),X.deactivate.target=null,X.deactivate.dropzone=null),V.rejected||(V.cur.element!==V.prev.element&&(V.prev.dropzone&&(X.leave=new xt(V,H,"dragleave"),H.dragLeave=X.leave.target=V.prev.element,H.prevDropzone=X.leave.dropzone=V.prev.dropzone),V.cur.dropzone&&(X.enter=new xt(V,H,"dragenter"),H.dragEnter=V.cur.element,H.dropzone=V.cur.dropzone)),H.type==="dragend"&&V.cur.dropzone&&(X.drop=new xt(V,H,"drop"),H.dropzone=V.cur.dropzone,H.relatedTarget=V.cur.element),H.type==="dragmove"&&V.cur.dropzone&&(X.move=new xt(V,H,"dropmove"),H.dropzone=V.cur.dropzone)),X}function Qt(B,I){var H=B.dropState,V=H.activeDrops,X=H.cur,te=H.prev;I.leave&&te.dropzone.fire(I.leave),I.enter&&X.dropzone.fire(I.enter),I.move&&X.dropzone.fire(I.move),I.drop&&X.dropzone.fire(I.drop),I.deactivate&&Qe(V,I.deactivate),H.prev.dropzone=X.dropzone,H.prev.element=X.element}function sn(B,I){var H=B.interaction,V=B.iEvent,X=B.event;if(V.type==="dragmove"||V.type==="dragend"){var te=H.dropState;I.dynamicDrop&&(te.activeDrops=mt(I,H.element));var se=V,pe=Lt(H,se,X);te.rejected=te.rejected&&!!pe&&pe.dropzone===te.cur.dropzone&&pe.element===te.cur.element,te.cur.dropzone=pe&&pe.dropzone,te.cur.element=pe&&pe.element,te.events=It(H,0,se)}}var qt={id:"actions/drop",install:function(B){var I=B.actions,H=B.interactStatic,V=B.Interactable,X=B.defaults;B.usePlugin($),V.prototype.dropzone=function(te){return function(se,pe){if(P.object(pe)){if(se.options.drop.enabled=pe.enabled!==!1,pe.listeners){var ye=Ie(pe.listeners),Pe=Object.keys(ye).reduce(function(Ke,yt){return Ke[/^(enter|leave)/.test(yt)?"drag".concat(yt):/^(activate|deactivate|move)/.test(yt)?"drop".concat(yt):yt]=ye[yt],Ke},{}),Ee=se.options.drop.listeners;Ee&&se.off(Ee),se.on(Pe),se.options.drop.listeners=Pe}return P.func(pe.ondrop)&&se.on("drop",pe.ondrop),P.func(pe.ondropactivate)&&se.on("dropactivate",pe.ondropactivate),P.func(pe.ondropdeactivate)&&se.on("dropdeactivate",pe.ondropdeactivate),P.func(pe.ondragenter)&&se.on("dragenter",pe.ondragenter),P.func(pe.ondragleave)&&se.on("dragleave",pe.ondragleave),P.func(pe.ondropmove)&&se.on("dropmove",pe.ondropmove),/^(pointer|center)$/.test(pe.overlap)?se.options.drop.overlap=pe.overlap:P.number(pe.overlap)&&(se.options.drop.overlap=Math.max(Math.min(1,pe.overlap),0)),"accept"in pe&&(se.options.drop.accept=pe.accept),"checker"in pe&&(se.options.drop.checker=pe.checker),se}return P.bool(pe)?(se.options.drop.enabled=pe,se):se.options.drop}(this,te)},V.prototype.dropCheck=function(te,se,pe,ye,Pe,Ee){return function(Ke,yt,zt,Bt,kt,an,Zt){var hn=!1;if(!(Zt=Zt||Ke.getRect(an)))return!!Ke.options.drop.checker&&Ke.options.drop.checker(yt,zt,hn,Ke,an,Bt,kt);var Ln=Ke.options.drop.overlap;if(Ln==="pointer"){var ei=Fe(Bt,kt,"drag"),pn=qe(yt);pn.x+=ei.x,pn.y+=ei.y;var Rn=pn.x>Zt.left&&pn.x<Zt.right,Ar=pn.y>Zt.top&&pn.y<Zt.bottom;hn=Rn&&Ar}var Ki=Bt.getRect(kt);if(Ki&&Ln==="center"){var ya=Ki.left+Ki.width/2,Li=Ki.top+Ki.height/2;hn=ya>=Zt.left&&ya<=Zt.right&&Li>=Zt.top&&Li<=Zt.bottom}return Ki&&P.number(Ln)&&(hn=Math.max(0,Math.min(Zt.right,Ki.right)-Math.max(Zt.left,Ki.left))*Math.max(0,Math.min(Zt.bottom,Ki.bottom)-Math.max(Zt.top,Ki.top))/(Ki.width*Ki.height)>=Ln),Ke.options.drop.checker&&(hn=Ke.options.drop.checker(yt,zt,hn,Ke,an,Bt,kt)),hn}(this,te,se,pe,ye,Pe,Ee)},H.dynamicDrop=function(te){return P.bool(te)?(B.dynamicDrop=te,H):B.dynamicDrop},Te(I.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),I.methodDict.drop="dropzone",B.dynamicDrop=!1,X.actions.drop=qt.defaults},listeners:{"interactions:before-action-start":function(B){var I=B.interaction;I.prepared.name==="drag"&&(I.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(B,I){var H=B.interaction,V=(B.event,B.iEvent);if(H.prepared.name==="drag"){var X=H.dropState;X.activeDrops=[],X.events={},X.activeDrops=mt(I,H.element),X.events=It(H,0,V),X.events.activate&&(Qe(X.activeDrops,X.events.activate),I.fire("actions/drop:start",{interaction:H,dragEvent:V}))}},"interactions:action-move":sn,"interactions:after-action-move":function(B,I){var H=B.interaction,V=B.iEvent;if(H.prepared.name==="drag"){var X=H.dropState;Qt(H,X.events),I.fire("actions/drop:move",{interaction:H,dragEvent:V}),X.events={}}},"interactions:action-end":function(B,I){if(B.interaction.prepared.name==="drag"){var H=B.interaction,V=B.iEvent;sn(B,I),Qt(H,H.dropState.events),I.fire("actions/drop:end",{interaction:H,dragEvent:V})}},"interactions:stop":function(B){var I=B.interaction;if(I.prepared.name==="drag"){var H=I.dropState;H&&(H.activeDrops=null,H.events=null,H.cur.dropzone=null,H.cur.element=null,H.prev.dropzone=null,H.prev.element=null,H.rejected=!1)}}},getActiveDrops:mt,getDrop:Lt,getDropEvents:It,fireDropEvents:Qt,filterEventType:function(B){return B.search("drag")===0||B.search("drop")===0},defaults:{enabled:!1,accept:null,overlap:"pointer"}},Dt=qt;function Yt(B){var I=B.interaction,H=B.iEvent,V=B.phase;if(I.prepared.name==="gesture"){var X=I.pointers.map(function(Pe){return Pe.pointer}),te=V==="start",se=V==="end",pe=I.interactable.options.deltaSource;if(H.touches=[X[0],X[1]],te)H.distance=at(X,pe),H.box=Ot(X),H.scale=1,H.ds=0,H.angle=_t(X,pe),H.da=0,I.gesture.startDistance=H.distance,I.gesture.startAngle=H.angle;else if(se||I.pointers.length<2){var ye=I.prevEvent;H.distance=ye.distance,H.box=ye.box,H.scale=ye.scale,H.ds=0,H.angle=ye.angle,H.da=0}else H.distance=at(X,pe),H.box=Ot(X),H.scale=H.distance/I.gesture.startDistance,H.angle=_t(X,pe),H.ds=H.scale-I.gesture.scale,H.da=H.angle-I.gesture.angle;I.gesture.distance=H.distance,I.gesture.angle=H.angle,P.number(H.scale)&&H.scale!==1/0&&!isNaN(H.scale)&&(I.gesture.scale=H.scale)}}var yn={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(B){var I=B.actions,H=B.Interactable,V=B.defaults;H.prototype.gesturable=function(X){return P.object(X)?(this.options.gesture.enabled=X.enabled!==!1,this.setPerAction("gesture",X),this.setOnEvents("gesture",X),this):P.bool(X)?(this.options.gesture.enabled=X,this):this.options.gesture},I.map.gesture=yn,I.methodDict.gesture="gesturable",V.actions.gesture=yn.defaults},listeners:{"interactions:action-start":Yt,"interactions:action-move":Yt,"interactions:action-end":Yt,"interactions:new":function(B){B.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(B){if(!(B.interaction.pointers.length<2)){var I=B.interactable.options.gesture;if(I&&I.enabled)return B.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""},filterEventType:function(B){return B.search("gesture")===0}},lr=yn;function Kr(B,I,H,V,X,te,se){if(!I)return!1;if(I===!0){var pe=P.number(te.width)?te.width:te.right-te.left,ye=P.number(te.height)?te.height:te.bottom-te.top;if(se=Math.min(se,Math.abs((B==="left"||B==="right"?pe:ye)/2)),pe<0&&(B==="left"?B="right":B==="right"&&(B="left")),ye<0&&(B==="top"?B="bottom":B==="bottom"&&(B="top")),B==="left"){var Pe=pe>=0?te.left:te.right;return H.x<Pe+se}if(B==="top"){var Ee=ye>=0?te.top:te.bottom;return H.y<Ee+se}if(B==="right")return H.x>(pe>=0?te.right:te.left)-se;if(B==="bottom")return H.y>(ye>=0?te.bottom:te.top)-se}return!!P.element(V)&&(P.element(I)?I===V:de(V,I,X))}function zn(B){var I=B.iEvent,H=B.interaction;if(H.prepared.name==="resize"&&H.resizeAxes){var V=I;H.interactable.options.resize.square?(H.resizeAxes==="y"?V.delta.x=V.delta.y:V.delta.y=V.delta.x,V.axes="xy"):(V.axes=H.resizeAxes,H.resizeAxes==="x"?V.delta.y=0:H.resizeAxes==="y"&&(V.delta.x=0))}}var Ai,br,wn={id:"actions/resize",before:["actions/drag"],install:function(B){var I=B.actions,H=B.browser,V=B.Interactable,X=B.defaults;wn.cursors=function(te){return te.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(H),wn.defaultMargin=H.supportsTouch||H.supportsPointerEvent?20:10,V.prototype.resizable=function(te){return function(se,pe,ye){return P.object(pe)?(se.options.resize.enabled=pe.enabled!==!1,se.setPerAction("resize",pe),se.setOnEvents("resize",pe),P.string(pe.axis)&&/^x$|^y$|^xy$/.test(pe.axis)?se.options.resize.axis=pe.axis:pe.axis===null&&(se.options.resize.axis=ye.defaults.actions.resize.axis),P.bool(pe.preserveAspectRatio)?se.options.resize.preserveAspectRatio=pe.preserveAspectRatio:P.bool(pe.square)&&(se.options.resize.square=pe.square),se):P.bool(pe)?(se.options.resize.enabled=pe,se):se.options.resize}(this,te,B)},I.map.resize=wn,I.methodDict.resize="resizable",X.actions.resize=wn.defaults},listeners:{"interactions:new":function(B){B.interaction.resizeAxes="xy"},"interactions:action-start":function(B){(function(I){var H=I.iEvent,V=I.interaction;if(V.prepared.name==="resize"&&V.prepared.edges){var X=H,te=V.rect;V._rects={start:Te({},te),corrected:Te({},te),previous:Te({},te),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},X.edges=V.prepared.edges,X.rect=V._rects.corrected,X.deltaRect=V._rects.delta}})(B),zn(B)},"interactions:action-move":function(B){(function(I){var H=I.iEvent,V=I.interaction;if(V.prepared.name==="resize"&&V.prepared.edges){var X=H,te=V.interactable.options.resize.invert,se=te==="reposition"||te==="negate",pe=V.rect,ye=V._rects,Pe=ye.start,Ee=ye.corrected,Ke=ye.delta,yt=ye.previous;if(Te(yt,Ee),se){if(Te(Ee,pe),te==="reposition"){if(Ee.top>Ee.bottom){var zt=Ee.top;Ee.top=Ee.bottom,Ee.bottom=zt}if(Ee.left>Ee.right){var Bt=Ee.left;Ee.left=Ee.right,Ee.right=Bt}}}else Ee.top=Math.min(pe.top,Pe.bottom),Ee.bottom=Math.max(pe.bottom,Pe.top),Ee.left=Math.min(pe.left,Pe.right),Ee.right=Math.max(pe.right,Pe.left);for(var kt in Ee.width=Ee.right-Ee.left,Ee.height=Ee.bottom-Ee.top,Ee)Ke[kt]=Ee[kt]-yt[kt];X.edges=V.prepared.edges,X.rect=Ee,X.deltaRect=Ke}})(B),zn(B)},"interactions:action-end":function(B){var I=B.iEvent,H=B.interaction;if(H.prepared.name==="resize"&&H.prepared.edges){var V=I;V.edges=H.prepared.edges,V.rect=H._rects.corrected,V.deltaRect=H._rects.delta}},"auto-start:check":function(B){var I=B.interaction,H=B.interactable,V=B.element,X=B.rect,te=B.buttons;if(X){var se=Te({},I.coords.cur.page),pe=H.options.resize;if(pe&&pe.enabled&&(!I.pointerIsDown||!/mouse|pointer/.test(I.pointerType)||(te&pe.mouseButtons)!=0)){if(P.object(pe.edges)){var ye={left:!1,right:!1,top:!1,bottom:!1};for(var Pe in ye)ye[Pe]=Kr(Pe,pe.edges[Pe],se,I._latestPointer.eventTarget,V,X,pe.margin||wn.defaultMargin);ye.left=ye.left&&!ye.right,ye.top=ye.top&&!ye.bottom,(ye.left||ye.right||ye.top||ye.bottom)&&(B.action={name:"resize",edges:ye})}else{var Ee=pe.axis!=="y"&&se.x>X.right-wn.defaultMargin,Ke=pe.axis!=="x"&&se.y>X.bottom-wn.defaultMargin;(Ee||Ke)&&(B.action={name:"resize",axes:(Ee?"x":"")+(Ke?"y":"")})}return!B.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(B){var I=B.edges,H=B.axis,V=B.name,X=wn.cursors,te=null;if(H)te=X[V+H];else if(I){for(var se="",pe=0,ye=["top","bottom","left","right"];pe<ye.length;pe++){var Pe=ye[pe];I[Pe]&&(se+=Pe)}te=X[se]}return te},filterEventType:function(B){return B.search("resize")===0},defaultMargin:null},Mn=wn,Qn={id:"actions",install:function(B){B.usePlugin(lr),B.usePlugin(Mn),B.usePlugin($),B.usePlugin(Dt)}},un=0,ii={request:function(B){return Ai(B)},cancel:function(B){return br(B)},init:function(B){if(Ai=B.requestAnimationFrame,br=B.cancelAnimationFrame,!Ai)for(var I=["ms","moz","webkit","o"],H=0;H<I.length;H++){var V=I[H];Ai=B["".concat(V,"RequestAnimationFrame")],br=B["".concat(V,"CancelAnimationFrame")]||B["".concat(V,"CancelRequestAnimationFrame")]}Ai=Ai&&Ai.bind(B),br=br&&br.bind(B),Ai||(Ai=function(X){var te=Date.now(),se=Math.max(0,16-(te-un)),pe=B.setTimeout(function(){X(te+se)},se);return un=te+se,pe},br=function(X){return clearTimeout(X)})}},ln={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(B){ln.isScrolling=!0,ii.cancel(ln.i),B.autoScroll=ln,ln.interaction=B,ln.prevTime=ln.now(),ln.i=ii.request(ln.scroll)},stop:function(){ln.isScrolling=!1,ln.interaction&&(ln.interaction.autoScroll=null),ii.cancel(ln.i)},scroll:function(){var B=ln.interaction,I=B.interactable,H=B.element,V=B.prepared.name,X=I.options[V].autoScroll,te=Lr(X.container,I,H),se=ln.now(),pe=(se-ln.prevTime)/1e3,ye=X.speed*pe;if(ye>=1){var Pe={x:ln.x*ye,y:ln.y*ye};if(Pe.x||Pe.y){var Ee=Nr(te);P.window(te)?te.scrollBy(Pe.x,Pe.y):te&&(te.scrollLeft+=Pe.x,te.scrollTop+=Pe.y);var Ke=Nr(te),yt={x:Ke.x-Ee.x,y:Ke.y-Ee.y};(yt.x||yt.y)&&I.fire({type:"autoscroll",target:H,interactable:I,delta:yt,interaction:B,container:te})}ln.prevTime=se}ln.isScrolling&&(ii.cancel(ln.i),ln.i=ii.request(ln.scroll))},check:function(B,I){var H;return(H=B.options[I].autoScroll)==null?void 0:H.enabled},onInteractionMove:function(B){var I=B.interaction,H=B.pointer;if(I.interacting()&&ln.check(I.interactable,I.prepared.name))if(I.simulation)ln.x=ln.y=0;else{var V,X,te,se,pe=I.interactable,ye=I.element,Pe=I.prepared.name,Ee=pe.options[Pe].autoScroll,Ke=Lr(Ee.container,pe,ye);if(P.window(Ke))se=H.clientX<ln.margin,V=H.clientY<ln.margin,X=H.clientX>Ke.innerWidth-ln.margin,te=H.clientY>Ke.innerHeight-ln.margin;else{var yt=he(Ke);se=H.clientX<yt.left+ln.margin,V=H.clientY<yt.top+ln.margin,X=H.clientX>yt.right-ln.margin,te=H.clientY>yt.bottom-ln.margin}ln.x=X?1:se?-1:0,ln.y=te?1:V?-1:0,ln.isScrolling||(ln.margin=Ee.margin,ln.speed=Ee.speed,ln.start(I))}}};function Lr(B,I,H){return(P.string(B)?ze(B,I,H):B)||R(H)}function Nr(B){return P.window(B)&&(B=window.document.body),{x:B.scrollLeft,y:B.scrollTop}}var Tr={id:"auto-scroll",install:function(B){var I=B.defaults,H=B.actions;B.autoScroll=ln,ln.now=function(){return B.now()},H.phaselessTypes.autoscroll=!0,I.perAction.autoScroll=ln.defaults},listeners:{"interactions:new":function(B){B.interaction.autoScroll=null},"interactions:destroy":function(B){B.interaction.autoScroll=null,ln.stop(),ln.interaction&&(ln.interaction=null)},"interactions:stop":ln.stop,"interactions:action-move":function(B){return ln.onInteractionMove(B)}}},Rr=Tr;function cr(B,I){var H=!1;return function(){return H||(E.console.warn(I),H=!0),B.apply(this,arguments)}}function Sr(B,I){return B.name=I.name,B.axis=I.axis,B.edges=I.edges,B}function le(B){return P.bool(B)?(this.options.styleCursor=B,this):B===null?(delete this.options.styleCursor,this):this.options.styleCursor}function Ue(B){return P.func(B)?(this.options.actionChecker=B,this):B===null?(delete this.options.actionChecker,this):this.options.actionChecker}var rt={id:"auto-start/interactableMethods",install:function(B){var I=B.Interactable;I.prototype.getAction=function(H,V,X,te){var se=function(pe,ye,Pe,Ee,Ke){var yt=pe.getRect(Ee),zt=ye.buttons||{0:1,1:4,3:8,4:16}[ye.button],Bt={action:null,interactable:pe,interaction:Pe,element:Ee,rect:yt,buttons:zt};return Ke.fire("auto-start:check",Bt),Bt.action}(this,V,X,te,B);return this.options.actionChecker?this.options.actionChecker(H,V,se,this,te,X):se},I.prototype.ignoreFrom=cr(function(H){return this._backCompatOption("ignoreFrom",H)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),I.prototype.allowFrom=cr(function(H){return this._backCompatOption("allowFrom",H)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),I.prototype.actionChecker=Ue,I.prototype.styleCursor=le}};function Je(B,I,H,V,X){return I.testIgnoreAllow(I.options[B.name],H,V)&&I.options[B.name].enabled&&Kt(I,H,B,X)?B:null}function $e(B,I,H,V,X,te,se){for(var pe=0,ye=V.length;pe<ye;pe++){var Pe=V[pe],Ee=X[pe],Ke=Pe.getAction(I,H,B,Ee);if(Ke){var yt=Je(Ke,Pe,Ee,te,se);if(yt)return{action:yt,interactable:Pe,element:Ee}}}return{action:null,interactable:null,element:null}}function Tt(B,I,H,V,X){var te=[],se=[],pe=V;function ye(Ee){te.push(Ee),se.push(pe)}for(;P.element(pe);){te=[],se=[],X.interactables.forEachMatch(pe,ye);var Pe=$e(B,I,H,te,se,V,X);if(Pe.action&&!Pe.interactable.options[Pe.action.name].manualStart)return Pe;pe=ue(pe)}return{action:null,interactable:null,element:null}}function Vt(B,I,H){var V=I.action,X=I.interactable,te=I.element;V=V||{name:null},B.interactable=X,B.element=te,Sr(B.prepared,V),B.rect=X&&V.name?X.getRect(te):null,fn(B,H),H.fire("autoStart:prepared",{interaction:B})}function Kt(B,I,H,V){var X=B.options,te=X[H.name].max,se=X[H.name].maxPerElement,pe=V.autoStart.maxInteractions,ye=0,Pe=0,Ee=0;if(!(te&&se&&pe))return!1;for(var Ke=0,yt=V.interactions.list;Ke<yt.length;Ke++){var zt=yt[Ke],Bt=zt.prepared.name;if(zt.interacting()&&(++ye>=pe||zt.interactable===B&&((Pe+=Bt===H.name?1:0)>=te||zt.element===I&&(Ee++,Bt===H.name&&Ee>=se))))return!1}return pe>0}function Wt(B,I){return P.number(B)?(I.autoStart.maxInteractions=B,this):I.autoStart.maxInteractions}function gn(B,I,H){var V=H.autoStart.cursorElement;V&&V!==B&&(V.style.cursor=""),B.ownerDocument.documentElement.style.cursor=I,B.style.cursor=I,H.autoStart.cursorElement=I?B:null}function fn(B,I){var H=B.interactable,V=B.element,X=B.prepared;if(B.pointerType==="mouse"&&H&&H.options.styleCursor){var te="";if(X.name){var se=H.options[X.name].cursorChecker;te=P.func(se)?se(X,H,V,B._interacting):I.actions.map[X.name].getCursor(X)}gn(B.element,te||"",I)}else I.autoStart.cursorElement&&gn(I.autoStart.cursorElement,"",I)}var on={id:"auto-start/base",before:["actions"],install:function(B){var I=B.interactStatic,H=B.defaults;B.usePlugin(rt),H.base.actionChecker=null,H.base.styleCursor=!0,Te(H.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),I.maxInteractions=function(V){return Wt(V,B)},B.autoStart={maxInteractions:1/0,withinInteractionLimit:Kt,cursorElement:null}},listeners:{"interactions:down":function(B,I){var H=B.interaction,V=B.pointer,X=B.event,te=B.eventTarget;H.interacting()||Vt(H,Tt(H,V,X,te,I),I)},"interactions:move":function(B,I){(function(H,V){var X=H.interaction,te=H.pointer,se=H.event,pe=H.eventTarget;X.pointerType!=="mouse"||X.pointerIsDown||X.interacting()||Vt(X,Tt(X,te,se,pe,V),V)})(B,I),function(H,V){var X=H.interaction;if(X.pointerIsDown&&!X.interacting()&&X.pointerWasMoved&&X.prepared.name){V.fire("autoStart:before-start",H);var te=X.interactable,se=X.prepared.name;se&&te&&(te.options[se].manualStart||!Kt(te,X.element,X.prepared,V)?X.stop():(X.start(X.prepared,te,X.element),fn(X,V)))}}(B,I)},"interactions:stop":function(B,I){var H=B.interaction,V=H.interactable;V&&V.options.styleCursor&&gn(H.element,"",I)}},maxInteractions:Wt,withinInteractionLimit:Kt,validateAction:Je},Hn=on,kn={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(B,I){var H=B.interaction,V=B.eventTarget,X=B.dx,te=B.dy;if(H.prepared.name==="drag"){var se=Math.abs(X),pe=Math.abs(te),ye=H.interactable.options.drag,Pe=ye.startAxis,Ee=se>pe?"x":se<pe?"y":"xy";if(H.prepared.axis=ye.lockAxis==="start"?Ee[0]:ye.lockAxis,Ee!=="xy"&&Pe!=="xy"&&Pe!==Ee){H.prepared.name=null;for(var Ke=V,yt=function(Bt){if(Bt!==H.interactable){var kt=H.interactable.options.drag;if(!kt.manualStart&&Bt.testIgnoreAllow(kt,Ke,V)){var an=Bt.getAction(H.downPointer,H.downEvent,H,Ke);if(an&&an.name==="drag"&&function(Zt,hn){if(!hn)return!1;var Ln=hn.options.drag.startAxis;return Zt==="xy"||Ln==="xy"||Ln===Zt}(Ee,Bt)&&Hn.validateAction(an,Bt,Ke,V,I))return Bt}}};P.element(Ke);){var zt=I.interactables.forEachMatch(Ke,yt);if(zt){H.prepared.name="drag",H.interactable=zt,H.element=Ke;break}Ke=ue(Ke)}}}}}};function Vn(B){var I=B.prepared&&B.prepared.name;if(!I)return null;var H=B.interactable.options;return H[I].hold||H[I].delay}var In={id:"auto-start/hold",install:function(B){var I=B.defaults;B.usePlugin(Hn),I.perAction.hold=0,I.perAction.delay=0},listeners:{"interactions:new":function(B){B.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(B){var I=B.interaction,H=Vn(I);H>0&&(I.autoStartHoldTimer=setTimeout(function(){I.start(I.prepared,I.interactable,I.element)},H))},"interactions:move":function(B){var I=B.interaction,H=B.duplicate;I.autoStartHoldTimer&&I.pointerWasMoved&&!H&&(clearTimeout(I.autoStartHoldTimer),I.autoStartHoldTimer=null)},"autoStart:before-start":function(B){var I=B.interaction;Vn(I)>0&&(I.prepared.name=null)}},getHoldDuration:Vn},bn=In,cn={id:"auto-start",install:function(B){B.usePlugin(Hn),B.usePlugin(bn),B.usePlugin(kn)}},bi=function(B){return/^(always|never|auto)$/.test(B)?(this.options.preventDefault=B,this):P.bool(B)?(this.options.preventDefault=B?"always":"never",this):this.options.preventDefault};function jn(B){var I=B.interaction,H=B.event;I.interactable&&I.interactable.checkAndPreventDefault(H)}var Gn={id:"core/interactablePreventDefault",install:function(B){var I=B.Interactable;I.prototype.preventDefault=bi,I.prototype.checkAndPreventDefault=function(H){return function(V,X,te){var se=V.options.preventDefault;if(se!=="never")if(se!=="always"){if(X.events.supportsPassive&&/^touch(start|move)$/.test(te.type)){var pe=R(te.target).document,ye=X.getDocOptions(pe);if(!ye||!ye.events||ye.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(te.type)||P.element(te.target)&&q(te.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||te.preventDefault()}else te.preventDefault()}(this,B,H)},B.interactions.docEvents.push({type:"dragstart",listener:function(H){for(var V=0,X=B.interactions.list;V<X.length;V++){var te=X[V];if(te.element&&(te.element===H.target||K(te.element,H.target)))return void te.interactable.checkAndPreventDefault(H)}}})},listeners:["down","move","up","cancel"].reduce(function(B,I){return B["interactions:".concat(I)]=jn,B},{})};function Tn(B,I){if(I.phaselessTypes[B])return!0;for(var H in I.map)if(B.indexOf(H)===0&&B.substr(H.length)in I.phases)return!0;return!1}function Cn(B){var I={};for(var H in B){var V=B[H];P.plainObject(V)?I[H]=Cn(V):P.array(V)?I[H]=Ge(V):I[H]=V}return I}var Zn=function(){function B(I){o(this,B),this.states=[],this.startOffset={left:0,right:0,top:0,bottom:0},this.startDelta=void 0,this.result=void 0,this.endResult=void 0,this.startEdges=void 0,this.edges=void 0,this.interaction=void 0,this.interaction=I,this.result=An(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}return s(B,[{key:"start",value:function(I,H){var V,X,te=I.phase,se=this.interaction,pe=function(Pe){var Ee=Pe.interactable.options[Pe.prepared.name],Ke=Ee.modifiers;return Ke&&Ke.length?Ke:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(yt){var zt=Ee[yt];return zt&&zt.enabled&&{options:zt,methods:zt._methods}}).filter(function(yt){return!!yt})}(se);this.prepareStates(pe),this.startEdges=Te({},se.edges),this.edges=Te({},this.startEdges),this.startOffset=(V=se.rect,X=H,V?{left:X.x-V.left,top:X.y-V.top,right:V.right-X.x,bottom:V.bottom-X.y}:{left:0,top:0,right:0,bottom:0}),this.startDelta={x:0,y:0};var ye=this.fillArg({phase:te,pageCoords:H,preEnd:!1});return this.result=An(),this.startAll(ye),this.result=this.setAll(ye)}},{key:"fillArg",value:function(I){var H=this.interaction;return I.interaction=H,I.interactable=H.interactable,I.element=H.element,I.rect||(I.rect=H.rect),I.edges||(I.edges=this.startEdges),I.startOffset=this.startOffset,I}},{key:"startAll",value:function(I){for(var H=0,V=this.states;H<V.length;H++){var X=V[H];X.methods.start&&(I.state=X,X.methods.start(I))}}},{key:"setAll",value:function(I){var H=I.phase,V=I.preEnd,X=I.skipModifiers,te=I.rect,se=I.edges;I.coords=Te({},I.pageCoords),I.rect=Te({},te),I.edges=Te({},se);for(var pe=X?this.states.slice(X):this.states,ye=An(I.coords,I.rect),Pe=0;Pe<pe.length;Pe++){var Ee,Ke=pe[Pe],yt=Ke.options,zt=Te({},I.coords),Bt=null;(Ee=Ke.methods)!=null&&Ee.set&&this.shouldDo(yt,V,H)&&(I.state=Ke,Bt=Ke.methods.set(I),re(I.edges,I.rect,{x:I.coords.x-zt.x,y:I.coords.y-zt.y})),ye.eventProps.push(Bt)}Te(this.edges,I.edges),ye.delta.x=I.coords.x-I.pageCoords.x,ye.delta.y=I.coords.y-I.pageCoords.y,ye.rectDelta.left=I.rect.left-te.left,ye.rectDelta.right=I.rect.right-te.right,ye.rectDelta.top=I.rect.top-te.top,ye.rectDelta.bottom=I.rect.bottom-te.bottom;var kt=this.result.coords,an=this.result.rect;if(kt&&an){var Zt=ye.rect.left!==an.left||ye.rect.right!==an.right||ye.rect.top!==an.top||ye.rect.bottom!==an.bottom;ye.changed=Zt||kt.x!==ye.coords.x||kt.y!==ye.coords.y}return ye}},{key:"applyToInteraction",value:function(I){var H=this.interaction,V=I.phase,X=H.coords.cur,te=H.coords.start,se=this.result,pe=this.startDelta,ye=se.delta;V==="start"&&Te(this.startDelta,se.delta);for(var Pe=0,Ee=[[te,pe],[X,ye]];Pe<Ee.length;Pe++){var Ke=Ee[Pe],yt=Ke[0],zt=Ke[1];yt.page.x+=zt.x,yt.page.y+=zt.y,yt.client.x+=zt.x,yt.client.y+=zt.y}var Bt=this.result.rectDelta,kt=I.rect||H.rect;kt.left+=Bt.left,kt.right+=Bt.right,kt.top+=Bt.top,kt.bottom+=Bt.bottom,kt.width=kt.right-kt.left,kt.height=kt.bottom-kt.top}},{key:"setAndApply",value:function(I){var H=this.interaction,V=I.phase,X=I.preEnd,te=I.skipModifiers,se=this.setAll(this.fillArg({preEnd:X,phase:V,pageCoords:I.modifiedCoords||H.coords.cur.page}));if(this.result=se,!se.changed&&(!te||te<this.states.length)&&H.interacting())return!1;if(I.modifiedCoords){var pe=H.coords.cur.page,ye={x:I.modifiedCoords.x-pe.x,y:I.modifiedCoords.y-pe.y};se.coords.x+=ye.x,se.coords.y+=ye.y,se.delta.x+=ye.x,se.delta.y+=ye.y}this.applyToInteraction(I)}},{key:"beforeEnd",value:function(I){var H=I.interaction,V=I.event,X=this.states;if(X&&X.length){for(var te=!1,se=0;se<X.length;se++){var pe=X[se];I.state=pe;var ye=pe.options,Pe=pe.methods,Ee=Pe.beforeEnd&&Pe.beforeEnd(I);if(Ee)return this.endResult=Ee,!1;te=te||!te&&this.shouldDo(ye,!0,I.phase,!0)}te&&H.move({event:V,preEnd:!0})}}},{key:"stop",value:function(I){var H=I.interaction;if(this.states&&this.states.length){var V=Te({states:this.states,interactable:H.interactable,element:H.element,rect:null},I);this.fillArg(V);for(var X=0,te=this.states;X<te.length;X++){var se=te[X];V.state=se,se.methods.stop&&se.methods.stop(V)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(I){this.states=[];for(var H=0;H<I.length;H++){var V=I[H],X=V.options,te=V.methods,se=V.name;this.states.push({options:X,methods:te,index:H,name:se})}return this.states}},{key:"restoreInteractionCoords",value:function(I){var H=I.interaction,V=H.coords,X=H.rect,te=H.modification;if(te.result){for(var se=te.startDelta,pe=te.result,ye=pe.delta,Pe=pe.rectDelta,Ee=0,Ke=[[V.start,se],[V.cur,ye]];Ee<Ke.length;Ee++){var yt=Ke[Ee],zt=yt[0],Bt=yt[1];zt.page.x-=Bt.x,zt.page.y-=Bt.y,zt.client.x-=Bt.x,zt.client.y-=Bt.y}X.left-=Pe.left,X.right-=Pe.right,X.top-=Pe.top,X.bottom-=Pe.bottom}}},{key:"shouldDo",value:function(I,H,V,X){return!(!I||I.enabled===!1||X&&!I.endOnly||I.endOnly&&!H||V==="start"&&!I.setStart)}},{key:"copyFrom",value:function(I){this.startOffset=I.startOffset,this.startDelta=I.startDelta,this.startEdges=I.startEdges,this.edges=I.edges,this.states=I.states.map(function(H){return Cn(H)}),this.result=An(Te({},I.result.coords),Te({},I.result.rect))}},{key:"destroy",value:function(){for(var I in this)this[I]=null}}]),B}();function An(B,I){return{rect:I,coords:B,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function _i(B,I){var H=B.defaults,V={start:B.start,set:B.set,beforeEnd:B.beforeEnd,stop:B.stop},X=function(te){var se=te||{};for(var pe in se.enabled=se.enabled!==!1,H)pe in se||(se[pe]=H[pe]);var ye={options:se,methods:V,name:I,enable:function(){return se.enabled=!0,ye},disable:function(){return se.enabled=!1,ye}};return ye};return I&&typeof I=="string"&&(X._defaults=H,X._methods=V),X}function Pi(B){var I=B.iEvent,H=B.interaction.modification.result;H&&(I.modifiers=H.eventProps)}var $i={id:"modifiers/base",before:["actions"],install:function(B){B.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(B){var I=B.interaction;I.modification=new Zn(I)},"interactions:before-action-start":function(B){var I=B.interaction,H=B.interaction.modification;H.start(B,I.coords.start.page),I.edges=H.edges,H.applyToInteraction(B)},"interactions:before-action-move":function(B){var I=B.interaction,H=I.modification,V=H.setAndApply(B);return I.edges=H.edges,V},"interactions:before-action-end":function(B){var I=B.interaction,H=I.modification,V=H.beforeEnd(B);return I.edges=H.startEdges,V},"interactions:action-start":Pi,"interactions:action-move":Pi,"interactions:action-end":Pi,"interactions:after-action-start":function(B){return B.interaction.modification.restoreInteractionCoords(B)},"interactions:after-action-move":function(B){return B.interaction.modification.restoreInteractionCoords(B)},"interactions:stop":function(B){return B.interaction.modification.stop(B)}}},qi=$i,Or={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}},Wi=function(B){d(H,B);var I=C(H);function H(V,X,te,se,pe,ye,Pe){var Ee;o(this,H),(Ee=I.call(this,V)).relatedTarget=null,Ee.screenX=void 0,Ee.screenY=void 0,Ee.button=void 0,Ee.buttons=void 0,Ee.ctrlKey=void 0,Ee.shiftKey=void 0,Ee.altKey=void 0,Ee.metaKey=void 0,Ee.page=void 0,Ee.client=void 0,Ee.delta=void 0,Ee.rect=void 0,Ee.x0=void 0,Ee.y0=void 0,Ee.t0=void 0,Ee.dt=void 0,Ee.duration=void 0,Ee.clientX0=void 0,Ee.clientY0=void 0,Ee.velocity=void 0,Ee.speed=void 0,Ee.swipe=void 0,Ee.axes=void 0,Ee.preEnd=void 0,pe=pe||V.element;var Ke=V.interactable,yt=(Ke&&Ke.options||Or).deltaSource,zt=Fe(Ke,pe,te),Bt=se==="start",kt=se==="end",an=Bt?_(Ee):V.prevEvent,Zt=Bt?V.coords.start:kt?{page:an.page,client:an.client,timeStamp:V.coords.cur.timeStamp}:V.coords.cur;return Ee.page=Te({},Zt.page),Ee.client=Te({},Zt.client),Ee.rect=Te({},V.rect),Ee.timeStamp=Zt.timeStamp,kt||(Ee.page.x-=zt.x,Ee.page.y-=zt.y,Ee.client.x-=zt.x,Ee.client.y-=zt.y),Ee.ctrlKey=X.ctrlKey,Ee.altKey=X.altKey,Ee.shiftKey=X.shiftKey,Ee.metaKey=X.metaKey,Ee.button=X.button,Ee.buttons=X.buttons,Ee.target=pe,Ee.currentTarget=pe,Ee.preEnd=ye,Ee.type=Pe||te+(se||""),Ee.interactable=Ke,Ee.t0=Bt?V.pointers[V.pointers.length-1].downTime:an.t0,Ee.x0=V.coords.start.page.x-zt.x,Ee.y0=V.coords.start.page.y-zt.y,Ee.clientX0=V.coords.start.client.x-zt.x,Ee.clientY0=V.coords.start.client.y-zt.y,Ee.delta=Bt||kt?{x:0,y:0}:{x:Ee[yt].x-an[yt].x,y:Ee[yt].y-an[yt].y},Ee.dt=V.coords.delta.timeStamp,Ee.duration=Ee.timeStamp-Ee.t0,Ee.velocity=Te({},V.coords.velocity[yt]),Ee.speed=ke(Ee.velocity.x,Ee.velocity.y),Ee.swipe=kt||se==="inertiastart"?Ee.getSwipe():null,Ee}return s(H,[{key:"getSwipe",value:function(){var V=this._interaction;if(V.prevEvent.speed<600||this.timeStamp-V.prevEvent.timeStamp>150)return null;var X=180*Math.atan2(V.prevEvent.velocityY,V.prevEvent.velocityX)/Math.PI;X<0&&(X+=360);var te=112.5<=X&&X<247.5,se=202.5<=X&&X<337.5;return{up:se,down:!se&&22.5<=X&&X<157.5,left:te,right:!te&&(292.5<=X||X<67.5),angle:X,speed:V.prevEvent.speed,velocity:{x:V.prevEvent.velocityX,y:V.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}]),H}(it);Object.defineProperties(Wi.prototype,{pageX:{get:function(){return this.page.x},set:function(B){this.page.x=B}},pageY:{get:function(){return this.page.y},set:function(B){this.page.y=B}},clientX:{get:function(){return this.client.x},set:function(B){this.client.x=B}},clientY:{get:function(){return this.client.y},set:function(B){this.client.y=B}},dx:{get:function(){return this.delta.x},set:function(B){this.delta.x=B}},dy:{get:function(){return this.delta.y},set:function(B){this.delta.y=B}},velocityX:{get:function(){return this.velocity.x},set:function(B){this.velocity.x=B}},velocityY:{get:function(){return this.velocity.y},set:function(B){this.velocity.y=B}}});var vo=s(function B(I,H,V,X,te){o(this,B),this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=I,this.pointer=H,this.event=V,this.downTime=X,this.downTarget=te}),Qa=function(B){return B.interactable="",B.element="",B.prepared="",B.pointerIsDown="",B.pointerWasMoved="",B._proxy="",B}({}),wa=function(B){return B.start="",B.move="",B.end="",B.stop="",B.interacting="",B}({}),Os=0,lf=function(){function B(I){var H=this,V=I.pointerType,X=I.scopeFire;o(this,B),this.interactable=null,this.element=null,this.rect=null,this._rects=void 0,this.edges=null,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=void 0,this.simulation=null,this.doMove=cr(function(Ee){this.move(Ee)},"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},prev:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},cur:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},delta:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},velocity:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},this._id=Os++,this._scopeFire=X,this.pointerType=V;var te=this;this._proxy={};var se=function(Ee){Object.defineProperty(H._proxy,Ee,{get:function(){return te[Ee]}})};for(var pe in Qa)se(pe);var ye=function(Ee){Object.defineProperty(H._proxy,Ee,{value:function(){return te[Ee].apply(te,arguments)}})};for(var Pe in wa)ye(Pe);this._scopeFire("interactions:new",{interaction:this})}return s(B,[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(I,H,V){var X=this.updatePointer(I,H,V,!0),te=this.pointers[X];this._scopeFire("interactions:down",{pointer:I,event:H,eventTarget:V,pointerIndex:X,pointerInfo:te,type:"down",interaction:this})}},{key:"start",value:function(I,H,V){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(I.name==="gesture"?2:1)||!H.options[I.name].enabled)&&(Sr(this.prepared,I),this.interactable=H,this.element=V,this.rect=H.getRect(V),this.edges=this.prepared.edges?Te({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(I,H,V){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(I,H,V,!1);var X,te,se=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(X=this.coords.cur.client.x-this.coords.start.client.x,te=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=ke(X,te)>this.pointerMoveTolerance);var pe,ye,Pe,Ee=this.getPointerIndex(I),Ke={pointer:I,pointerIndex:Ee,pointerInfo:this.pointers[Ee],event:H,type:"move",eventTarget:V,dx:X,dy:te,duplicate:se,interaction:this};se||(pe=this.coords.velocity,ye=this.coords.delta,Pe=Math.max(ye.timeStamp/1e3,.001),pe.page.x=ye.page.x/Pe,pe.page.y=ye.page.y/Pe,pe.client.x=ye.client.x/Pe,pe.client.y=ye.client.y/Pe,pe.timeStamp=Pe),this._scopeFire("interactions:move",Ke),se||this.simulation||(this.interacting()&&(Ke.type=null,this.move(Ke)),this.pointerWasMoved&&ce(this.coords.prev,this.coords.cur))}},{key:"move",value:function(I){I&&I.event||ae(this.coords.delta),(I=Te({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},I||{})).phase="move",this._doPhase(I)}},{key:"pointerUp",value:function(I,H,V,X){var te=this.getPointerIndex(I);te===-1&&(te=this.updatePointer(I,H,V,!1));var se=/cancel$/i.test(H.type)?"cancel":"up";this._scopeFire("interactions:".concat(se),{pointer:I,pointerIndex:te,pointerInfo:this.pointers[te],event:H,eventTarget:V,type:se,curEventTarget:X,interaction:this}),this.simulation||this.end(H),this.removePointer(I,H)}},{key:"documentBlur",value:function(I){this.end(I),this._scopeFire("interactions:blur",{event:I,type:"blur",interaction:this})}},{key:"end",value:function(I){var H;this._ending=!0,I=I||this._latestPointer.event,this.interacting()&&(H=this._doPhase({event:I,interaction:this,phase:"end"})),this._ending=!1,H===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(I){var H=He(I);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:St(this.pointers,function(V){return V.id===H})}},{key:"getPointerInfo",value:function(I){return this.pointers[this.getPointerIndex(I)]}},{key:"updatePointer",value:function(I,H,V,X){var te,se,pe,ye=He(I),Pe=this.getPointerIndex(I),Ee=this.pointers[Pe];return X=X!==!1&&(X||/(down|start)$/i.test(H.type)),Ee?Ee.pointer=I:(Ee=new vo(ye,I,H,null,null),Pe=this.pointers.length,this.pointers.push(Ee)),gt(this.coords.cur,this.pointers.map(function(Ke){return Ke.pointer}),this._now()),te=this.coords.delta,se=this.coords.prev,pe=this.coords.cur,te.page.x=pe.page.x-se.page.x,te.page.y=pe.page.y-se.page.y,te.client.x=pe.client.x-se.client.x,te.client.y=pe.client.y-se.client.y,te.timeStamp=pe.timeStamp-se.timeStamp,X&&(this.pointerIsDown=!0,Ee.downTime=this.coords.cur.timeStamp,Ee.downTarget=V,ot(this.downPointer,I),this.interacting()||(ce(this.coords.start,this.coords.cur),ce(this.coords.prev,this.coords.cur),this.downEvent=H,this.pointerWasMoved=!1)),this._updateLatestPointer(I,H,V),this._scopeFire("interactions:update-pointer",{pointer:I,event:H,eventTarget:V,down:X,pointerInfo:Ee,pointerIndex:Pe,interaction:this}),Pe}},{key:"removePointer",value:function(I,H){var V=this.getPointerIndex(I);if(V!==-1){var X=this.pointers[V];this._scopeFire("interactions:remove-pointer",{pointer:I,event:H,eventTarget:null,pointerIndex:V,pointerInfo:X,interaction:this}),this.pointers.splice(V,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(I,H,V){this._latestPointer.pointer=I,this._latestPointer.event=H,this._latestPointer.eventTarget=V}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(I,H,V,X){return new Wi(this,I,this.prepared.name,H,this.element,V,X)}},{key:"_fireEvent",value:function(I){var H;(H=this.interactable)==null||H.fire(I),(!this.prevEvent||I.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=I)}},{key:"_doPhase",value:function(I){var H=I.event,V=I.phase,X=I.preEnd,te=I.type,se=this.rect;if(se&&V==="move"&&(re(this.edges,se,this.coords.delta[this.interactable.options.deltaSource]),se.width=se.right-se.left,se.height=se.bottom-se.top),this._scopeFire("interactions:before-action-".concat(V),I)===!1)return!1;var pe=I.iEvent=this._createPreparedEvent(H,V,X,te);return this._scopeFire("interactions:action-".concat(V),I),V==="start"&&(this.prevEvent=pe),this._fireEvent(pe),this._scopeFire("interactions:after-action-".concat(V),I),!0}},{key:"_now",value:function(){return Date.now()}}]),B}();function Qc(B){_r(B.interaction)}function _r(B){if(!function(H){return!(!H.offset.pending.x&&!H.offset.pending.y)}(B))return!1;var I=B.offset.pending;return La(B.coords.cur,I),La(B.coords.delta,I),re(B.edges,B.rect,I),I.x=0,I.y=0,!0}function Go(B){var I=B.x,H=B.y;this.offset.pending.x+=I,this.offset.pending.y+=H,this.offset.total.x+=I,this.offset.total.y+=H}function La(B,I){var H=B.page,V=B.client,X=I.x,te=I.y;H.x+=X,H.y+=te,V.x+=X,V.y+=te}wa.offsetBy="";var ma={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(B){B.Interaction.prototype.offsetBy=Go},listeners:{"interactions:new":function(B){B.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(B){return function(I){I.pointerIsDown&&(La(I.coords.cur,I.offset.total),I.offset.pending.x=0,I.offset.pending.y=0)}(B.interaction)},"interactions:before-action-start":Qc,"interactions:before-action-move":Qc,"interactions:before-action-end":function(B){var I=B.interaction;if(_r(I))return I.move({offset:!0}),I.end(),!1},"interactions:stop":function(B){var I=B.interaction;I.offset.total.x=0,I.offset.total.y=0,I.offset.pending.x=0,I.offset.pending.y=0}}},Aa=ma,Is=function(){function B(I){o(this,B),this.active=!1,this.isModified=!1,this.smoothEnd=!1,this.allowResume=!1,this.modification=void 0,this.modifierCount=0,this.modifierArg=void 0,this.startCoords=void 0,this.t0=0,this.v0=0,this.te=0,this.targetOffset=void 0,this.modifiedOffset=void 0,this.currentOffset=void 0,this.lambda_v0=0,this.one_ve_v0=0,this.timeout=void 0,this.interaction=void 0,this.interaction=I}return s(B,[{key:"start",value:function(I){var H=this.interaction,V=yo(H);if(!V||!V.enabled)return!1;var X=H.coords.velocity.client,te=ke(X.x,X.y),se=this.modification||(this.modification=new Zn(H));if(se.copyFrom(H.modification),this.t0=H._now(),this.allowResume=V.allowResume,this.v0=te,this.currentOffset={x:0,y:0},this.startCoords=H.coords.cur.page,this.modifierArg=se.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-H.coords.cur.timeStamp<50&&te>V.minSpeed&&te>V.endSpeed)this.startInertia();else{if(se.result=se.setAll(this.modifierArg),!se.result.changed)return!1;this.startSmoothEnd()}return H.modification.result.rect=null,H.offsetBy(this.targetOffset),H._doPhase({interaction:H,event:I,phase:"inertiastart"}),H.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),H.modification.result.rect=null,this.active=!0,H.simulation=this,!0}},{key:"startInertia",value:function(){var I=this,H=this.interaction.coords.velocity.client,V=yo(this.interaction),X=V.resistance,te=-Math.log(V.endSpeed/this.v0)/X;this.targetOffset={x:(H.x-te)/X,y:(H.y-te)/X},this.te=te,this.lambda_v0=X/this.v0,this.one_ve_v0=1-V.endSpeed/this.v0;var se=this.modification,pe=this.modifierArg;pe.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},se.result=se.setAll(pe),se.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+se.result.delta.x,y:this.targetOffset.y+se.result.delta.y}),this.onNextFrame(function(){return I.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var I=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return I.smoothEndTick()})}},{key:"onNextFrame",value:function(I){var H=this;this.timeout=ii.request(function(){H.active&&I()})}},{key:"inertiaTick",value:function(){var I,H,V,X,te,se,pe,ye=this,Pe=this.interaction,Ee=yo(Pe).resistance,Ke=(Pe._now()-this.t0)/1e3;if(Ke<this.te){var yt,zt=1-(Math.exp(-Ee*Ke)-this.lambda_v0)/this.one_ve_v0;this.isModified?(I=0,H=0,V=this.targetOffset.x,X=this.targetOffset.y,te=this.modifiedOffset.x,se=this.modifiedOffset.y,yt={x:tn(pe=zt,I,V,te),y:tn(pe,H,X,se)}):yt={x:this.targetOffset.x*zt,y:this.targetOffset.y*zt};var Bt={x:yt.x-this.currentOffset.x,y:yt.y-this.currentOffset.y};this.currentOffset.x+=Bt.x,this.currentOffset.y+=Bt.y,Pe.offsetBy(Bt),Pe.move(),this.onNextFrame(function(){return ye.inertiaTick()})}else Pe.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var I=this,H=this.interaction,V=H._now()-this.t0,X=yo(H).smoothEndDuration;if(V<X){var te={x:Sn(V,0,this.targetOffset.x,X),y:Sn(V,0,this.targetOffset.y,X)},se={x:te.x-this.currentOffset.x,y:te.y-this.currentOffset.y};this.currentOffset.x+=se.x,this.currentOffset.y+=se.y,H.offsetBy(se),H.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return I.smoothEndTick()})}else H.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(I){var H=I.pointer,V=I.event,X=I.eventTarget,te=this.interaction;te.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),te.updatePointer(H,V,X,!0),te._doPhase({interaction:te,event:V,phase:"resume"}),ce(te.coords.prev,te.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,ii.cancel(this.timeout)}}]),B}();function yo(B){var I=B.interactable,H=B.prepared;return I&&I.options&&H.name&&I.options[H.name].inertia}var Vl={id:"inertia",before:["modifiers","actions"],install:function(B){var I=B.defaults;B.usePlugin(Aa),B.usePlugin(qi),B.actions.phases.inertiastart=!0,B.actions.phases.resume=!0,I.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(B){var I=B.interaction;I.inertia=new Is(I)},"interactions:before-action-end":function(B){var I=B.interaction,H=B.event;return(!I._interacting||I.simulation||!I.inertia.start(H))&&null},"interactions:down":function(B){var I=B.interaction,H=B.eventTarget,V=I.inertia;if(V.active)for(var X=H;P.element(X);){if(X===I.element){V.resume(B);break}X=ue(X)}},"interactions:stop":function(B){var I=B.interaction.inertia;I.active&&I.stop()},"interactions:before-action-resume":function(B){var I=B.interaction.modification;I.stop(B),I.start(B,B.interaction.coords.cur.page),I.applyToInteraction(B)},"interactions:before-action-inertiastart":function(B){return B.interaction.modification.setAndApply(B)},"interactions:action-resume":Pi,"interactions:action-inertiastart":Pi,"interactions:after-action-inertiastart":function(B){return B.interaction.modification.restoreInteractionCoords(B)},"interactions:after-action-resume":function(B){return B.interaction.modification.restoreInteractionCoords(B)}}};function tn(B,I,H,V){var X=1-B;return X*X*I+2*X*B*H+B*B*V}function Sn(B,I,H,V){return-H*(B/=V)*(B-2)+I}var Mi=Vl;function xi(B,I){for(var H=0;H<I.length;H++){var V=I[H];if(B.immediatePropagationStopped)break;V(B)}}var Hi=function(){function B(I){o(this,B),this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=Te({},I||{})}return s(B,[{key:"fire",value:function(I){var H,V=this.global;(H=this.types[I.type])&&xi(I,H),!I.propagationStopped&&V&&(H=V[I.type])&&xi(I,H)}},{key:"on",value:function(I,H){var V=Ie(I,H);for(I in V)this.types[I]=Se(this.types[I]||[],V[I])}},{key:"off",value:function(I,H){var V=Ie(I,H);for(I in V){var X=this.types[I];if(X&&X.length)for(var te=0,se=V[I];te<se.length;te++){var pe=se[te],ye=X.indexOf(pe);ye!==-1&&X.splice(ye,1)}}}},{key:"getRect",value:function(I){return null}}]),B}(),Bs=function(){function B(I){o(this,B),this.currentTarget=void 0,this.originalEvent=void 0,this.type=void 0,this.originalEvent=I,ot(this,I)}return s(B,[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}]),B}();function ko(B){return P.object(B)?{capture:!!B.capture,passive:!!B.passive}:{capture:!!B,passive:!1}}function Na(B,I){return B===I||(typeof B=="boolean"?!!I.capture===B&&!I.passive:!!B.capture==!!I.capture&&!!B.passive==!!I.passive)}var $o={id:"events",install:function(B){var I,H=[],V={},X=[],te={add:se,remove:pe,addDelegate:function(Ee,Ke,yt,zt,Bt){var kt=ko(Bt);if(!V[yt]){V[yt]=[];for(var an=0;an<X.length;an++){var Zt=X[an];se(Zt,yt,ye),se(Zt,yt,Pe,!0)}}var hn=V[yt],Ln=Me(hn,function(ei){return ei.selector===Ee&&ei.context===Ke});Ln||(Ln={selector:Ee,context:Ke,listeners:[]},hn.push(Ln)),Ln.listeners.push({func:zt,options:kt})},removeDelegate:function(Ee,Ke,yt,zt,Bt){var kt,an=ko(Bt),Zt=V[yt],hn=!1;if(Zt)for(kt=Zt.length-1;kt>=0;kt--){var Ln=Zt[kt];if(Ln.selector===Ee&&Ln.context===Ke){for(var ei=Ln.listeners,pn=ei.length-1;pn>=0;pn--){var Rn=ei[pn];if(Rn.func===zt&&Na(Rn.options,an)){ei.splice(pn,1),ei.length||(Zt.splice(kt,1),pe(Ke,yt,ye),pe(Ke,yt,Pe,!0)),hn=!0;break}}if(hn)break}}},delegateListener:ye,delegateUseCapture:Pe,delegatedEvents:V,documents:X,targets:H,supportsOptions:!1,supportsPassive:!1};function se(Ee,Ke,yt,zt){if(Ee.addEventListener){var Bt=ko(zt),kt=Me(H,function(an){return an.eventTarget===Ee});kt||(kt={eventTarget:Ee,events:{}},H.push(kt)),kt.events[Ke]||(kt.events[Ke]=[]),Me(kt.events[Ke],function(an){return an.func===yt&&Na(an.options,Bt)})||(Ee.addEventListener(Ke,yt,te.supportsOptions?Bt:Bt.capture),kt.events[Ke].push({func:yt,options:Bt}))}}function pe(Ee,Ke,yt,zt){if(Ee.addEventListener&&Ee.removeEventListener){var Bt=St(H,function(Ar){return Ar.eventTarget===Ee}),kt=H[Bt];if(kt&&kt.events)if(Ke!=="all"){var an=!1,Zt=kt.events[Ke];if(Zt){if(yt==="all"){for(var hn=Zt.length-1;hn>=0;hn--){var Ln=Zt[hn];pe(Ee,Ke,Ln.func,Ln.options)}return}for(var ei=ko(zt),pn=0;pn<Zt.length;pn++){var Rn=Zt[pn];if(Rn.func===yt&&Na(Rn.options,ei)){Ee.removeEventListener(Ke,yt,te.supportsOptions?ei:ei.capture),Zt.splice(pn,1),Zt.length===0&&(delete kt.events[Ke],an=!0);break}}}an&&!Object.keys(kt.events).length&&H.splice(Bt,1)}else for(Ke in kt.events)kt.events.hasOwnProperty(Ke)&&pe(Ee,Ke,"all")}}function ye(Ee,Ke){for(var yt=ko(Ke),zt=new Bs(Ee),Bt=V[Ee.type],kt=je(Ee)[0],an=kt;P.element(an);){for(var Zt=0;Zt<Bt.length;Zt++){var hn=Bt[Zt],Ln=hn.selector,ei=hn.context;if(q(an,Ln)&&K(ei,kt)&&K(ei,an)){var pn=hn.listeners;zt.currentTarget=an;for(var Rn=0;Rn<pn.length;Rn++){var Ar=pn[Rn];Na(Ar.options,yt)&&Ar.func(zt)}}}an=ue(an)}}function Pe(Ee){return ye(Ee,!0)}return(I=B.document)==null||I.createElement("div").addEventListener("test",null,{get capture(){return te.supportsOptions=!0},get passive(){return te.supportsPassive=!0}}),B.events=te,te}},jl={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(B){for(var I=0,H=jl.methodOrder;I<H.length;I++){var V=H[I],X=jl[V](B);if(X)return X}return null},simulationResume:function(B){var I=B.pointerType,H=B.eventType,V=B.eventTarget,X=B.scope;if(!/down|start/i.test(H))return null;for(var te=0,se=X.interactions.list;te<se.length;te++){var pe=se[te],ye=V;if(pe.simulation&&pe.simulation.allowResume&&pe.pointerType===I)for(;ye;){if(ye===pe.element)return pe;ye=ue(ye)}}return null},mouseOrPen:function(B){var I,H=B.pointerId,V=B.pointerType,X=B.eventType,te=B.scope;if(V!=="mouse"&&V!=="pen")return null;for(var se=0,pe=te.interactions.list;se<pe.length;se++){var ye=pe[se];if(ye.pointerType===V){if(ye.simulation&&!ga(ye,H))continue;if(ye.interacting())return ye;I||(I=ye)}}if(I)return I;for(var Pe=0,Ee=te.interactions.list;Pe<Ee.length;Pe++){var Ke=Ee[Pe];if(!(Ke.pointerType!==V||/down/i.test(X)&&Ke.simulation))return Ke}return null},hasPointer:function(B){for(var I=B.pointerId,H=0,V=B.scope.interactions.list;H<V.length;H++){var X=V[H];if(ga(X,I))return X}return null},idle:function(B){for(var I=B.pointerType,H=0,V=B.scope.interactions.list;H<V.length;H++){var X=V[H];if(X.pointers.length===1){var te=X.interactable;if(te&&(!te.options.gesture||!te.options.gesture.enabled))continue}else if(X.pointers.length>=2)continue;if(!X.interacting()&&I===X.pointerType)return X}return null}};function ga(B,I){return B.pointers.some(function(H){return H.id===I})}var sl=jl,ll=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function Wl(B,I){return function(H){var V=I.interactions.list,X=Ct(H),te=je(H),se=te[0],pe=te[1],ye=[];if(/^touch/.test(H.type)){I.prevTouchTime=I.now();for(var Pe=0,Ee=H.changedTouches;Pe<Ee.length;Pe++){var Ke=Ee[Pe],yt={pointer:Ke,pointerId:He(Ke),pointerType:X,eventType:H.type,eventTarget:se,curEventTarget:pe,scope:I},zt=Yh(yt);ye.push([yt.pointer,yt.eventTarget,yt.curEventTarget,zt])}}else{var Bt=!1;if(!Y.supportsPointerEvent&&/mouse/.test(H.type)){for(var kt=0;kt<V.length&&!Bt;kt++)Bt=V[kt].pointerType!=="mouse"&&V[kt].pointerIsDown;Bt=Bt||I.now()-I.prevTouchTime<500||H.timeStamp===0}if(!Bt){var an={pointer:H,pointerId:He(H),pointerType:X,eventType:H.type,curEventTarget:pe,eventTarget:se,scope:I},Zt=Yh(an);ye.push([an.pointer,an.eventTarget,an.curEventTarget,Zt])}}for(var hn=0;hn<ye.length;hn++){var Ln=ye[hn],ei=Ln[0],pn=Ln[1],Rn=Ln[2];Ln[3][B](ei,H,pn,Rn)}}}function Yh(B){var I=B.pointerType,H=B.scope,V={interaction:sl.search(B),searchDetails:B};return H.fire("interactions:find",V),V.interaction||H.interactions.new({pointerType:I})}function Vo(B,I){var H=B.doc,V=B.scope,X=B.options,te=V.interactions.docEvents,se=V.events,pe=se[I];for(var ye in V.browser.isIOS&&!X.events&&(X.events={passive:!1}),se.delegatedEvents)pe(H,ye,se.delegateListener),pe(H,ye,se.delegateUseCapture,!0);for(var Pe=X&&X.events,Ee=0;Ee<te.length;Ee++){var Ke=te[Ee];pe(H,Ke.type,Ke.listener,Pe)}}var Zc={id:"core/interactions",install:function(B){for(var I={},H=0;H<ll.length;H++){var V=ll[H];I[V]=Wl(V,B)}var X,te=Y.pEventTypes;function se(){for(var pe=0,ye=B.interactions.list;pe<ye.length;pe++){var Pe=ye[pe];if(Pe.pointerIsDown&&Pe.pointerType==="touch"&&!Pe._interacting)for(var Ee=function(){var zt=yt[Ke];B.documents.some(function(Bt){return K(Bt.doc,zt.downTarget)})||Pe.removePointer(zt.pointer,zt.event)},Ke=0,yt=Pe.pointers;Ke<yt.length;Ke++)Ee()}}(X=Z.PointerEvent?[{type:te.down,listener:se},{type:te.down,listener:I.pointerDown},{type:te.move,listener:I.pointerMove},{type:te.up,listener:I.pointerUp},{type:te.cancel,listener:I.pointerUp}]:[{type:"mousedown",listener:I.pointerDown},{type:"mousemove",listener:I.pointerMove},{type:"mouseup",listener:I.pointerUp},{type:"touchstart",listener:se},{type:"touchstart",listener:I.pointerDown},{type:"touchmove",listener:I.pointerMove},{type:"touchend",listener:I.pointerUp},{type:"touchcancel",listener:I.pointerUp}]).push({type:"blur",listener:function(pe){for(var ye=0,Pe=B.interactions.list;ye<Pe.length;ye++)Pe[ye].documentBlur(pe)}}),B.prevTouchTime=0,B.Interaction=function(pe){d(Pe,pe);var ye=C(Pe);function Pe(){return o(this,Pe),ye.apply(this,arguments)}return s(Pe,[{key:"pointerMoveTolerance",get:function(){return B.interactions.pointerMoveTolerance},set:function(Ee){B.interactions.pointerMoveTolerance=Ee}},{key:"_now",value:function(){return B.now()}}]),Pe}(lf),B.interactions={list:[],new:function(pe){pe.scopeFire=function(Pe,Ee){return B.fire(Pe,Ee)};var ye=new B.Interaction(pe);return B.interactions.list.push(ye),ye},listeners:I,docEvents:X,pointerMoveTolerance:1},B.usePlugin(Gn)},listeners:{"scope:add-document":function(B){return Vo(B,"add")},"scope:remove-document":function(B){return Vo(B,"remove")},"interactable:unset":function(B,I){for(var H=B.interactable,V=I.interactions.list.length-1;V>=0;V--){var X=I.interactions.list[V];X.interactable===H&&(X.stop(),I.fire("interactions:destroy",{interaction:X}),X.destroy(),I.interactions.list.length>2&&I.interactions.list.splice(V,1))}}},onDocSignal:Vo,doOnInteractions:Wl,methodNames:ll},eu=Zc,Za=function(B){return B[B.On=0]="On",B[B.Off=1]="Off",B}(Za||{}),qh=function(){function B(I,H,V,X){o(this,B),this.target=void 0,this.options=void 0,this._actions=void 0,this.events=new Hi,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._actions=H.actions,this.target=I,this._context=H.context||V,this._win=R(Ae(I)?this._context:I),this._doc=this._win.document,this._scopeEvents=X,this.set(H)}return s(B,[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(I,H){return P.func(H.onstart)&&this.on("".concat(I,"start"),H.onstart),P.func(H.onmove)&&this.on("".concat(I,"move"),H.onmove),P.func(H.onend)&&this.on("".concat(I,"end"),H.onend),P.func(H.oninertiastart)&&this.on("".concat(I,"inertiastart"),H.oninertiastart),this}},{key:"updatePerActionListeners",value:function(I,H,V){var X,te=this,se=(X=this._actions.map[I])==null?void 0:X.filterEventType,pe=function(ye){return(se==null||se(ye))&&Tn(ye,te._actions)};(P.array(H)||P.object(H))&&this._onOff(Za.Off,I,H,void 0,pe),(P.array(V)||P.object(V))&&this._onOff(Za.On,I,V,void 0,pe)}},{key:"setPerAction",value:function(I,H){var V=this._defaults;for(var X in H){var te=X,se=this.options[I],pe=H[te];te==="listeners"&&this.updatePerActionListeners(I,se.listeners,pe),P.array(pe)?se[te]=Ge(pe):P.plainObject(pe)?(se[te]=Te(se[te]||{},Cn(pe)),P.object(V.perAction[te])&&"enabled"in V.perAction[te]&&(se[te].enabled=pe.enabled!==!1)):P.bool(pe)&&P.object(V.perAction[te])?se[te].enabled=pe:se[te]=pe}}},{key:"getRect",value:function(I){return I=I||(P.element(this.target)?this.target:null),P.string(this.target)&&(I=I||this._context.querySelector(this.target)),xe(I)}},{key:"rectChecker",value:function(I){var H=this;return P.func(I)?(this.getRect=function(V){var X=Te({},I.apply(H,V));return"width"in X||(X.width=X.right-X.left,X.height=X.bottom-X.top),X},this):I===null?(delete this.getRect,this):this.getRect}},{key:"_backCompatOption",value:function(I,H){if(Ae(H)||P.object(H)){for(var V in this.options[I]=H,this._actions.map)this.options[V][I]=H;return this}return this.options[I]}},{key:"origin",value:function(I){return this._backCompatOption("origin",I)}},{key:"deltaSource",value:function(I){return I==="page"||I==="client"?(this.options.deltaSource=I,this):this.options.deltaSource}},{key:"getAllElements",value:function(){var I=this.target;return P.string(I)?Array.from(this._context.querySelectorAll(I)):P.func(I)&&I.getAllElements?I.getAllElements():P.element(I)?[I]:[]}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(I){return this._context===I.ownerDocument||K(this._context,I)}},{key:"testIgnoreAllow",value:function(I,H,V){return!this.testIgnore(I.ignoreFrom,H,V)&&this.testAllow(I.allowFrom,H,V)}},{key:"testAllow",value:function(I,H,V){return!I||!!P.element(V)&&(P.string(I)?de(V,I,H):!!P.element(I)&&K(I,V))}},{key:"testIgnore",value:function(I,H,V){return!(!I||!P.element(V))&&(P.string(I)?de(V,I,H):!!P.element(I)&&K(I,V))}},{key:"fire",value:function(I){return this.events.fire(I),this}},{key:"_onOff",value:function(I,H,V,X,te){P.object(H)&&!P.array(H)&&(X=V,V=null);var se=Ie(H,V,te);for(var pe in se){pe==="wheel"&&(pe=Y.wheelEvent);for(var ye=0,Pe=se[pe];ye<Pe.length;ye++){var Ee=Pe[ye];Tn(pe,this._actions)?this.events[I===Za.On?"on":"off"](pe,Ee):P.string(this.target)?this._scopeEvents[I===Za.On?"addDelegate":"removeDelegate"](this.target,this._context,pe,Ee,X):this._scopeEvents[I===Za.On?"add":"remove"](this.target,pe,Ee,X)}}return this}},{key:"on",value:function(I,H,V){return this._onOff(Za.On,I,H,V)}},{key:"off",value:function(I,H,V){return this._onOff(Za.Off,I,H,V)}},{key:"set",value:function(I){var H=this._defaults;for(var V in P.object(I)||(I={}),this.options=Cn(H.base),this._actions.methodDict){var X=V,te=this._actions.methodDict[X];this.options[X]={},this.setPerAction(X,Te(Te({},H.perAction),H.actions[X])),this[te](I[X])}for(var se in I)se!=="getRect"?P.func(this[se])&&this[se](I[se]):this.rectChecker(I.getRect);return this}},{key:"unset",value:function(){if(P.string(this.target))for(var I in this._scopeEvents.delegatedEvents)for(var H=this._scopeEvents.delegatedEvents[I],V=H.length-1;V>=0;V--){var X=H[V],te=X.selector,se=X.context,pe=X.listeners;te===this.target&&se===this._context&&H.splice(V,1);for(var ye=pe.length-1;ye>=0;ye--)this._scopeEvents.removeDelegate(this.target,this._context,I,pe[ye][0],pe[ye][1])}else this._scopeEvents.remove(this.target,"all")}}]),B}(),Ym=function(){function B(I){var H=this;o(this,B),this.list=[],this.selectorMap={},this.scope=void 0,this.scope=I,I.addListeners({"interactable:unset":function(V){var X=V.interactable,te=X.target,se=P.string(te)?H.selectorMap[te]:te[H.scope.id],pe=St(se,function(ye){return ye===X});se.splice(pe,1)}})}return s(B,[{key:"new",value:function(I,H){H=Te(H||{},{actions:this.scope.actions});var V=new this.scope.Interactable(I,H,this.scope.document,this.scope.events);return this.scope.addDocument(V._doc),this.list.push(V),P.string(I)?(this.selectorMap[I]||(this.selectorMap[I]=[]),this.selectorMap[I].push(V)):(V.target[this.scope.id]||Object.defineProperty(I,this.scope.id,{value:[],configurable:!0}),I[this.scope.id].push(V)),this.scope.fire("interactable:new",{target:I,options:H,interactable:V,win:this.scope._win}),V}},{key:"getExisting",value:function(I,H){var V=H&&H.context||this.scope.document,X=P.string(I),te=X?this.selectorMap[I]:I[this.scope.id];if(te)return Me(te,function(se){return se._context===V&&(X||se.inContext(I))})}},{key:"forEachMatch",value:function(I,H){for(var V=0,X=this.list;V<X.length;V++){var te=X[V],se=void 0;if((P.string(te.target)?P.element(I)&&q(I,te.target):I===te.target)&&te.inContext(I)&&(se=H(te)),se!==void 0)return se}}}]),B}(),k0=function(){function B(){var I=this;o(this,B),this.id="__interact_scope_".concat(Math.floor(100*Math.random())),this.isInitialized=!1,this.listenerMaps=[],this.browser=Y,this.defaults=Cn(Or),this.Eventable=Hi,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=function(V){var X=function te(se,pe){var ye=V.interactables.getExisting(se,pe);return ye||((ye=V.interactables.new(se,pe)).events.global=te.globalEvents),ye};return X.getPointerAverage=pt,X.getTouchBBox=Ot,X.getTouchDistance=at,X.getTouchAngle=_t,X.getElementRect=xe,X.getElementClientRect=he,X.matchesSelector=q,X.closest=ee,X.globalEvents={},X.version="1.10.27",X.scope=V,X.use=function(te,se){return this.scope.usePlugin(te,se),this},X.isSet=function(te,se){return!!this.scope.interactables.get(te,se&&se.context)},X.on=cr(function(te,se,pe){if(P.string(te)&&te.search(" ")!==-1&&(te=te.trim().split(/ +/)),P.array(te)){for(var ye=0,Pe=te;ye<Pe.length;ye++){var Ee=Pe[ye];this.on(Ee,se,pe)}return this}if(P.object(te)){for(var Ke in te)this.on(Ke,te[Ke],se);return this}return Tn(te,this.scope.actions)?this.globalEvents[te]?this.globalEvents[te].push(se):this.globalEvents[te]=[se]:this.scope.events.add(this.scope.document,te,se,{options:pe}),this},"The interact.on() method is being deprecated"),X.off=cr(function(te,se,pe){if(P.string(te)&&te.search(" ")!==-1&&(te=te.trim().split(/ +/)),P.array(te)){for(var ye=0,Pe=te;ye<Pe.length;ye++){var Ee=Pe[ye];this.off(Ee,se,pe)}return this}if(P.object(te)){for(var Ke in te)this.off(Ke,te[Ke],se);return this}var yt;return Tn(te,this.scope.actions)?te in this.globalEvents&&(yt=this.globalEvents[te].indexOf(se))!==-1&&this.globalEvents[te].splice(yt,1):this.scope.events.remove(this.scope.document,te,se,pe),this},"The interact.off() method is being deprecated"),X.debug=function(){return this.scope},X.supportsTouch=function(){return Y.supportsTouch},X.supportsPointerEvent=function(){return Y.supportsPointerEvent},X.stop=function(){for(var te=0,se=this.scope.interactions.list;te<se.length;te++)se[te].stop();return this},X.pointerMoveTolerance=function(te){return P.number(te)?(this.scope.interactions.pointerMoveTolerance=te,this):this.scope.interactions.pointerMoveTolerance},X.addDocument=function(te,se){this.scope.addDocument(te,se)},X.removeDocument=function(te){this.scope.removeDocument(te)},X}(this),this.InteractEvent=Wi,this.Interactable=void 0,this.interactables=new Ym(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=function(V){return I.removeDocument(V.target)};var H=this;this.Interactable=function(V){d(te,V);var X=C(te);function te(){return o(this,te),X.apply(this,arguments)}return s(te,[{key:"_defaults",get:function(){return H.defaults}},{key:"set",value:function(se){return c(g(te.prototype),"set",this).call(this,se),H.fire("interactable:set",{options:se,interactable:this}),this}},{key:"unset",value:function(){c(g(te.prototype),"unset",this).call(this);var se=H.interactables.list.indexOf(this);se<0||(H.interactables.list.splice(se,1),H.fire("interactable:unset",{interactable:this}))}}]),te}(qh)}return s(B,[{key:"addListeners",value:function(I,H){this.listenerMaps.push({id:H,map:I})}},{key:"fire",value:function(I,H){for(var V=0,X=this.listenerMaps;V<X.length;V++){var te=X[V].map[I];if(te&&te(H,this,I)===!1)return!1}}},{key:"init",value:function(I){return this.isInitialized?this:function(H,V){return H.isInitialized=!0,P.window(V)&&T(V),Z.init(V),Y.init(V),ii.init(V),H.window=V,H.document=V.document,H.usePlugin(eu),H.usePlugin($o),H}(this,I)}},{key:"pluginIsInstalled",value:function(I){var H=I.id;return H?!!this._plugins.map[H]:this._plugins.list.indexOf(I)!==-1}},{key:"usePlugin",value:function(I,H){if(!this.isInitialized)return this;if(this.pluginIsInstalled(I))return this;if(I.id&&(this._plugins.map[I.id]=I),this._plugins.list.push(I),I.install&&I.install(this,H),I.listeners&&I.before){for(var V=0,X=this.listenerMaps.length,te=I.before.reduce(function(pe,ye){return pe[ye]=!0,pe[Jr(ye)]=!0,pe},{});V<X;V++){var se=this.listenerMaps[V].id;if(se&&(te[se]||te[Jr(se)]))break}this.listenerMaps.splice(V,0,{id:I.id,map:I.listeners})}else I.listeners&&this.listenerMaps.push({id:I.id,map:I.listeners});return this}},{key:"addDocument",value:function(I,H){if(this.getDocIndex(I)!==-1)return!1;var V=R(I);H=H?Te({},H):{},this.documents.push({doc:I,options:H}),this.events.documents.push(I),I!==this.document&&this.events.add(V,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:I,window:V,scope:this,options:H})}},{key:"removeDocument",value:function(I){var H=this.getDocIndex(I),V=R(I),X=this.documents[H].options;this.events.remove(V,"unload",this.onWindowUnload),this.documents.splice(H,1),this.events.documents.splice(H,1),this.fire("scope:remove-document",{doc:I,window:V,scope:this,options:X})}},{key:"getDocIndex",value:function(I){for(var H=0;H<this.documents.length;H++)if(this.documents[H].doc===I)return H;return-1}},{key:"getDocOptions",value:function(I){var H=this.getDocIndex(I);return H===-1?null:this.documents[H].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),B}();function Jr(B){return B&&B.replace(/\/.*$/,"")}var cf=new k0,va=cf.interactStatic,qm=typeof globalThis<"u"?globalThis:window;cf.init(qm);var Km=Object.freeze({__proto__:null,edgeTarget:function(){},elements:function(){},grid:function(B){var I=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(V){var X=V[0],te=V[1];return X in B||te in B}),H=function(V,X){for(var te=B.range,se=B.limits,pe=se===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:se,ye=B.offset,Pe=ye===void 0?{x:0,y:0}:ye,Ee={range:te,grid:B,x:null,y:null},Ke=0;Ke<I.length;Ke++){var yt=I[Ke],zt=yt[0],Bt=yt[1],kt=Math.round((V-Pe.x)/B[zt]),an=Math.round((X-Pe.y)/B[Bt]);Ee[zt]=Math.max(pe.left,Math.min(pe.right,kt*B[zt]+Pe.x)),Ee[Bt]=Math.max(pe.top,Math.min(pe.bottom,an*B[Bt]+Pe.y))}return Ee};return H.grid=B,H.coordFields=I,H}}),Jm={id:"snappers",install:function(B){var I=B.interactStatic;I.snappers=Te(I.snappers||{},Km),I.createSnapGrid=I.snappers.grid}},uf=Jm,_d={start:function(B){var I=B.state,H=B.rect,V=B.edges,X=B.pageCoords,te=I.options,se=te.ratio,pe=te.enabled,ye=I.options,Pe=ye.equalDelta,Ee=ye.modifiers;se==="preserve"&&(se=H.width/H.height),I.startCoords=Te({},X),I.startRect=Te({},H),I.ratio=se,I.equalDelta=Pe;var Ke=I.linkedEdges={top:V.top||V.left&&!V.bottom,left:V.left||V.top&&!V.right,bottom:V.bottom||V.right&&!V.top,right:V.right||V.bottom&&!V.left};if(I.xIsPrimaryAxis=!(!V.left&&!V.right),I.equalDelta){var yt=(Ke.left?1:-1)*(Ke.top?1:-1);I.edgeSign={x:yt,y:yt}}else I.edgeSign={x:Ke.left?-1:1,y:Ke.top?-1:1};if(pe!==!1&&Te(V,Ke),Ee!=null&&Ee.length){var zt=new Zn(B.interaction);zt.copyFrom(B.interaction.modification),zt.prepareStates(Ee),I.subModification=zt,zt.startAll(r({},B))}},set:function(B){var I=B.state,H=B.rect,V=B.coords,X=I.linkedEdges,te=Te({},V),se=I.equalDelta?Qm:Zm;if(Te(B.edges,X),se(I,I.xIsPrimaryAxis,V,H),!I.subModification)return null;var pe=Te({},H);re(X,pe,{x:V.x-te.x,y:V.y-te.y});var ye=I.subModification.setAll(r(r({},B),{},{rect:pe,edges:X,pageCoords:V,prevCoords:V,prevRect:pe})),Pe=ye.delta;return ye.changed&&(se(I,Math.abs(Pe.x)>Math.abs(Pe.y),ye.coords,ye.rect),Te(V,ye.coords)),ye.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function Qm(B,I,H){var V=B.startCoords,X=B.edgeSign;I?H.y=V.y+(H.x-V.x)*X.y:H.x=V.x+(H.y-V.y)*X.x}function Zm(B,I,H,V){var X=B.startRect,te=B.startCoords,se=B.ratio,pe=B.edgeSign;if(I){var ye=V.width/se;H.y=te.y+(ye-X.height)*pe.y}else{var Pe=V.height*se;H.x=te.x+(Pe-X.width)*pe.x}}var eg=_i(_d,"aspectRatio"),xd=function(){};xd._defaults={};var cl=xd;function ul(B,I,H){return P.func(B)?vt(B,I.interactable,I.element,[H.x,H.y,I]):vt(B,I.interactable,I.element)}var tu={start:function(B){var I=B.rect,H=B.startOffset,V=B.state,X=B.interaction,te=B.pageCoords,se=V.options,pe=se.elementRect,ye=Te({left:0,top:0,right:0,bottom:0},se.offset||{});if(I&&pe){var Pe=ul(se.restriction,X,te);if(Pe){var Ee=Pe.right-Pe.left-I.width,Ke=Pe.bottom-Pe.top-I.height;Ee<0&&(ye.left+=Ee,ye.right+=Ee),Ke<0&&(ye.top+=Ke,ye.bottom+=Ke)}ye.left+=H.left-I.width*pe.left,ye.top+=H.top-I.height*pe.top,ye.right+=H.right-I.width*(1-pe.right),ye.bottom+=H.bottom-I.height*(1-pe.bottom)}V.offset=ye},set:function(B){var I=B.coords,H=B.interaction,V=B.state,X=V.options,te=V.offset,se=ul(X.restriction,H,I);if(se){var pe=function(ye){return!ye||"left"in ye&&"top"in ye||((ye=Te({},ye)).left=ye.x||0,ye.top=ye.y||0,ye.right=ye.right||ye.left+ye.width,ye.bottom=ye.bottom||ye.top+ye.height),ye}(se);I.x=Math.max(Math.min(pe.right-te.right,I.x),pe.left+te.left),I.y=Math.max(Math.min(pe.bottom-te.bottom,I.y),pe.top+te.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}},Kh=_i(tu,"restrict"),ff={top:1/0,left:1/0,bottom:-1/0,right:-1/0},Jh={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function Cd(B,I){for(var H=0,V=["top","left","bottom","right"];H<V.length;H++){var X=V[H];X in B||(B[X]=I[X])}return B}var nu={noInner:ff,noOuter:Jh,start:function(B){var I,H=B.interaction,V=B.startOffset,X=B.state,te=X.options;te&&(I=Be(ul(te.offset,H,H.coords.start.page))),I=I||{x:0,y:0},X.offset={top:I.y+V.top,left:I.x+V.left,bottom:I.y-V.bottom,right:I.x-V.right}},set:function(B){var I=B.coords,H=B.edges,V=B.interaction,X=B.state,te=X.offset,se=X.options;if(H){var pe=Te({},I),ye=ul(se.inner,V,pe)||{},Pe=ul(se.outer,V,pe)||{};Cd(ye,ff),Cd(Pe,Jh),H.top?I.y=Math.min(Math.max(Pe.top+te.top,pe.y),ye.top+te.top):H.bottom&&(I.y=Math.max(Math.min(Pe.bottom+te.bottom,pe.y),ye.bottom+te.bottom)),H.left?I.x=Math.min(Math.max(Pe.left+te.left,pe.x),ye.left+te.left):H.right&&(I.x=Math.max(Math.min(Pe.right+te.right,pe.x),ye.right+te.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}},Ds=_i(nu,"restrictEdges"),Qh=Te({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(B){}},tu.defaults),$0=_i({start:tu.start,set:tu.set,defaults:Qh},"restrictRect"),tg={width:-1/0,height:-1/0},fl={width:1/0,height:1/0},Ps=_i({start:function(B){return nu.start(B)},set:function(B){var I=B.interaction,H=B.state,V=B.rect,X=B.edges,te=H.options;if(X){var se=Ce(ul(te.min,I,B.coords))||tg,pe=Ce(ul(te.max,I,B.coords))||fl;H.options={endOnly:te.endOnly,inner:Te({},nu.noInner),outer:Te({},nu.noOuter)},X.top?(H.options.inner.top=V.bottom-se.height,H.options.outer.top=V.bottom-pe.height):X.bottom&&(H.options.inner.bottom=V.top+se.height,H.options.outer.bottom=V.top+pe.height),X.left?(H.options.inner.left=V.right-se.width,H.options.outer.left=V.right-pe.width):X.right&&(H.options.inner.right=V.left+se.width,H.options.outer.right=V.left+pe.width),nu.set(B),H.options=te}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}},"restrictSize"),Xl={start:function(B){var I,H=B.interaction,V=B.interactable,X=B.element,te=B.rect,se=B.state,pe=B.startOffset,ye=se.options,Pe=ye.offsetWithOrigin?function(yt){var zt=yt.interaction.element,Bt=Be(vt(yt.state.options.origin,null,null,[zt])),kt=Bt||Fe(yt.interactable,zt,yt.interaction.prepared.name);return kt}(B):{x:0,y:0};if(ye.offset==="startCoords")I={x:H.coords.start.page.x,y:H.coords.start.page.y};else{var Ee=vt(ye.offset,V,X,[H]);(I=Be(Ee)||{x:0,y:0}).x+=Pe.x,I.y+=Pe.y}var Ke=ye.relativePoints;se.offsets=te&&Ke&&Ke.length?Ke.map(function(yt,zt){return{index:zt,relativePoint:yt,x:pe.left-te.width*yt.x+I.x,y:pe.top-te.height*yt.y+I.y}}):[{index:0,relativePoint:null,x:I.x,y:I.y}]},set:function(B){var I=B.interaction,H=B.coords,V=B.state,X=V.options,te=V.offsets,se=Fe(I.interactable,I.element,I.prepared.name),pe=Te({},H),ye=[];X.offsetWithOrigin||(pe.x-=se.x,pe.y-=se.y);for(var Pe=0,Ee=te;Pe<Ee.length;Pe++)for(var Ke=Ee[Pe],yt=pe.x-Ke.x,zt=pe.y-Ke.y,Bt=0,kt=X.targets.length;Bt<kt;Bt++){var an=X.targets[Bt],Zt=void 0;(Zt=P.func(an)?an(yt,zt,I._proxy,Ke,Bt):an)&&ye.push({x:(P.number(Zt.x)?Zt.x:yt)+Ke.x,y:(P.number(Zt.y)?Zt.y:zt)+Ke.y,range:P.number(Zt.range)?Zt.range:X.range,source:an,index:Bt,offset:Ke})}for(var hn={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},Ln=0;Ln<ye.length;Ln++){var ei=ye[Ln],pn=ei.range,Rn=ei.x-pe.x,Ar=ei.y-pe.y,Ki=ke(Rn,Ar),ya=Ki<=pn;pn===1/0&&hn.inRange&&hn.range!==1/0&&(ya=!1),hn.target&&!(ya?hn.inRange&&pn!==1/0?Ki/pn<hn.distance/hn.range:pn===1/0&&hn.range!==1/0||Ki<hn.distance:!hn.inRange&&Ki<hn.distance)||(hn.target=ei,hn.distance=Ki,hn.range=pn,hn.inRange=ya,hn.delta.x=Rn,hn.delta.y=Ar)}return hn.inRange&&(H.x=hn.target.x,H.y=hn.target.y),V.closest=hn,hn},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}},Yl=_i(Xl,"snap"),dl={start:function(B){var I=B.state,H=B.edges,V=I.options;if(!H)return null;B.state={options:{targets:null,relativePoints:[{x:H.left?0:1,y:H.top?0:1}],offset:V.offset||"self",origin:{x:0,y:0},range:V.range}},I.targetFields=I.targetFields||[["width","height"],["x","y"]],Xl.start(B),I.offsets=B.state.offsets,B.state=I},set:function(B){var I=B.interaction,H=B.state,V=B.coords,X=H.options,te=H.offsets,se={x:V.x-te[0].x,y:V.y-te[0].y};H.options=Te({},X),H.options.targets=[];for(var pe=0,ye=X.targets||[];pe<ye.length;pe++){var Pe=ye[pe],Ee=void 0;if(Ee=P.func(Pe)?Pe(se.x,se.y,I):Pe){for(var Ke=0,yt=H.targetFields;Ke<yt.length;Ke++){var zt=yt[Ke],Bt=zt[0],kt=zt[1];if(Bt in Ee||kt in Ee){Ee.x=Ee[Bt],Ee.y=Ee[kt];break}}H.options.targets.push(Ee)}}var an=Xl.set(B);return H.options=X,an},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}},df=_i(dl,"snapSize"),cs={aspectRatio:eg,restrictEdges:Ds,restrict:Kh,restrictRect:$0,restrictSize:Ps,snapEdges:_i({start:function(B){var I=B.edges;return I?(B.state.targetFields=B.state.targetFields||[[I.left?"left":"right",I.top?"top":"bottom"]],dl.start(B)):null},set:dl.set,defaults:Te(Cn(dl.defaults),{targets:void 0,range:void 0,offset:{x:0,y:0}})},"snapEdges"),snap:Yl,snapSize:df,spring:cl,avoid:cl,transform:cl,rubberband:cl},sa={id:"modifiers",install:function(B){var I=B.interactStatic;for(var H in B.usePlugin(qi),B.usePlugin(uf),I.modifiers=cs,cs){var V=cs[H],X=V._defaults,te=V._methods;X._methods=te,B.defaults.perAction[H]=X}}},hf=sa,Ed=function(B){d(H,B);var I=C(H);function H(V,X,te,se,pe,ye){var Pe;if(o(this,H),ot(_(Pe=I.call(this,pe)),te),te!==X&&ot(_(Pe),X),Pe.timeStamp=ye,Pe.originalEvent=te,Pe.type=V,Pe.pointerId=He(X),Pe.pointerType=Ct(X),Pe.target=se,Pe.currentTarget=null,V==="tap"){var Ee=pe.getPointerIndex(X);Pe.dt=Pe.timeStamp-pe.pointers[Ee].downTime;var Ke=Pe.timeStamp-pe.tapTime;Pe.double=!!pe.prevTap&&pe.prevTap.type!=="doubletap"&&pe.prevTap.target===Pe.target&&Ke<500}else V==="doubletap"&&(Pe.dt=X.timeStamp-pe.tapTime,Pe.double=!0);return Pe}return s(H,[{key:"_subtractOrigin",value:function(V){var X=V.x,te=V.y;return this.pageX-=X,this.pageY-=te,this.clientX-=X,this.clientY-=te,this}},{key:"_addOrigin",value:function(V){var X=V.x,te=V.y;return this.pageX+=X,this.pageY+=te,this.clientX+=X,this.clientY+=te,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}]),H}(it),bo={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(B){B.pointerEvents=bo,B.defaults.actions.pointerEvents=bo.defaults,Te(B.actions.phaselessTypes,bo.types)},listeners:{"interactions:new":function(B){var I=B.interaction;I.prevTap=null,I.tapTime=0},"interactions:update-pointer":function(B){var I=B.down,H=B.pointerInfo;!I&&H.hold||(H.hold={duration:1/0,timeout:null})},"interactions:move":function(B,I){var H=B.interaction,V=B.pointer,X=B.event,te=B.eventTarget;B.duplicate||H.pointerIsDown&&!H.pointerWasMoved||(H.pointerIsDown&&iu(B),So({interaction:H,pointer:V,event:X,eventTarget:te,type:"move"},I))},"interactions:down":function(B,I){(function(H,V){for(var X=H.interaction,te=H.pointer,se=H.event,pe=H.eventTarget,ye=H.pointerIndex,Pe=X.pointers[ye].hold,Ee=Oe(pe),Ke={interaction:X,pointer:te,event:se,eventTarget:pe,type:"hold",targets:[],path:Ee,node:null},yt=0;yt<Ee.length;yt++){var zt=Ee[yt];Ke.node=zt,V.fire("pointerEvents:collect-targets",Ke)}if(Ke.targets.length){for(var Bt=1/0,kt=0,an=Ke.targets;kt<an.length;kt++){var Zt=an[kt].eventable.options.holdDuration;Zt<Bt&&(Bt=Zt)}Pe.duration=Bt,Pe.timeout=setTimeout(function(){So({interaction:X,eventTarget:pe,pointer:te,event:se,type:"hold"},V)},Bt)}})(B,I),So(B,I)},"interactions:up":function(B,I){iu(B),So(B,I),function(H,V){var X=H.interaction,te=H.pointer,se=H.event,pe=H.eventTarget;X.pointerWasMoved||So({interaction:X,eventTarget:pe,pointer:te,event:se,type:"tap"},V)}(B,I)},"interactions:cancel":function(B,I){iu(B),So(B,I)}},PointerEvent:Ed,fire:So,collectEventTargets:wd,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function So(B,I){var H=B.interaction,V=B.pointer,X=B.event,te=B.eventTarget,se=B.type,pe=B.targets,ye=pe===void 0?wd(B,I):pe,Pe=new Ed(se,V,X,te,H,I.now());I.fire("pointerEvents:new",{pointerEvent:Pe});for(var Ee={interaction:H,pointer:V,event:X,eventTarget:te,targets:ye,type:se,pointerEvent:Pe},Ke=0;Ke<ye.length;Ke++){var yt=ye[Ke];for(var zt in yt.props||{})Pe[zt]=yt.props[zt];var Bt=Fe(yt.eventable,yt.node);if(Pe._subtractOrigin(Bt),Pe.eventable=yt.eventable,Pe.currentTarget=yt.node,yt.eventable.fire(Pe),Pe._addOrigin(Bt),Pe.immediatePropagationStopped||Pe.propagationStopped&&Ke+1<ye.length&&ye[Ke+1].node!==Pe.currentTarget)break}if(I.fire("pointerEvents:fired",Ee),se==="tap"){var kt=Pe.double?So({interaction:H,pointer:V,event:X,eventTarget:te,type:"doubletap"},I):Pe;H.prevTap=kt,H.tapTime=kt.timeStamp}return Pe}function wd(B,I){var H=B.interaction,V=B.pointer,X=B.event,te=B.eventTarget,se=B.type,pe=H.getPointerIndex(V),ye=H.pointers[pe];if(se==="tap"&&(H.pointerWasMoved||!ye||ye.downTarget!==te))return[];for(var Pe=Oe(te),Ee={interaction:H,pointer:V,event:X,eventTarget:te,type:se,path:Pe,targets:[],node:null},Ke=0;Ke<Pe.length;Ke++){var yt=Pe[Ke];Ee.node=yt,I.fire("pointerEvents:collect-targets",Ee)}return se==="hold"&&(Ee.targets=Ee.targets.filter(function(zt){var Bt,kt;return zt.eventable.options.holdDuration===((Bt=H.pointers[pe])==null||(kt=Bt.hold)==null?void 0:kt.duration)})),Ee.targets}function iu(B){var I=B.interaction,H=B.pointerIndex,V=I.pointers[H].hold;V&&V.timeout&&(clearTimeout(V.timeout),V.timeout=null)}var Zh=Object.freeze({__proto__:null,default:bo});function za(B){var I=B.interaction;I.holdIntervalHandle&&(clearInterval(I.holdIntervalHandle),I.holdIntervalHandle=null)}var ru={id:"pointer-events/holdRepeat",install:function(B){B.usePlugin(bo);var I=B.pointerEvents;I.defaults.holdRepeatInterval=0,I.types.holdrepeat=B.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(B,I){return B["pointerEvents:".concat(I)]=za,B},{"pointerEvents:new":function(B){var I=B.pointerEvent;I.type==="hold"&&(I.count=(I.count||0)+1)},"pointerEvents:fired":function(B,I){var H=B.interaction,V=B.pointerEvent,X=B.eventTarget,te=B.targets;if(V.type==="hold"&&te.length){var se=te[0].eventable.options.holdRepeatInterval;se<=0||(H.holdIntervalHandle=setTimeout(function(){I.pointerEvents.fire({interaction:H,eventTarget:X,type:"hold",pointer:V,event:V},I)},se))}}})},ql=ru,ng={id:"pointer-events/interactableTargets",install:function(B){var I=B.Interactable;I.prototype.pointerEvents=function(V){return Te(this.events.options,V),this};var H=I.prototype._backCompatOption;I.prototype._backCompatOption=function(V,X){var te=H.call(this,V,X);return te===this&&(this.events.options[V]=X),te}},listeners:{"pointerEvents:collect-targets":function(B,I){var H=B.targets,V=B.node,X=B.type,te=B.eventTarget;I.interactables.forEachMatch(V,function(se){var pe=se.events,ye=pe.options;pe.types[X]&&pe.types[X].length&&se.testIgnoreAllow(ye,V,te)&&H.push({node:V,eventable:pe,props:{interactable:se}})})},"interactable:new":function(B){var I=B.interactable;I.events.getRect=function(H){return I.getRect(H)}},"interactable:set":function(B,I){var H=B.interactable,V=B.options;Te(H.events.options,I.pointerEvents.defaults),Te(H.events.options,V.pointerEvents||{})}}},pf=ng,Ad={id:"pointer-events",install:function(B){B.usePlugin(Zh),B.usePlugin(ql),B.usePlugin(pf)}},Md=Ad,Td={id:"reflow",install:function(B){var I=B.Interactable;B.actions.phases.reflow=!0,I.prototype.reflow=function(H){return function(V,X,te){for(var se=V.getAllElements(),pe=te.window.Promise,ye=pe?[]:null,Pe=function(){var Ke=se[Ee],yt=V.getRect(Ke);if(!yt)return 1;var zt,Bt=Me(te.interactions.list,function(Zt){return Zt.interacting()&&Zt.interactable===V&&Zt.element===Ke&&Zt.prepared.name===X.name});if(Bt)Bt.move(),ye&&(zt=Bt._reflowPromise||new pe(function(Zt){Bt._reflowResolve=Zt}));else{var kt=Ce(yt),an=function(Zt){return{coords:Zt,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}}({page:{x:kt.x,y:kt.y},client:{x:kt.x,y:kt.y},timeStamp:te.now()});zt=function(Zt,hn,Ln,ei,pn){var Rn=Zt.interactions.new({pointerType:"reflow"}),Ar={interaction:Rn,event:pn,pointer:pn,eventTarget:Ln,phase:"reflow"};Rn.interactable=hn,Rn.element=Ln,Rn.prevEvent=pn,Rn.updatePointer(pn,pn,Ln,!0),ae(Rn.coords.delta),Sr(Rn.prepared,ei),Rn._doPhase(Ar);var Ki=Zt.window,ya=Ki.Promise,Li=ya?new ya(function(jo){Rn._reflowResolve=jo}):void 0;return Rn._reflowPromise=Li,Rn.start(ei,hn,Ln),Rn._interacting?(Rn.move(Ar),Rn.end(pn)):(Rn.stop(),Rn._reflowResolve()),Rn.removePointer(pn,pn),Li}(te,V,Ke,X,an)}ye&&ye.push(zt)},Ee=0;Ee<se.length&&!Pe();Ee++);return ye&&pe.all(ye).then(function(){return V})}(this,H,B)}},listeners:{"interactions:stop":function(B,I){var H=B.interaction;H.pointerType==="reflow"&&(H._reflowResolve&&H._reflowResolve(),function(V,X){V.splice(V.indexOf(X),1)}(I.interactions.list,H))}}},au=Td;if(va.use(Gn),va.use(Aa),va.use(Md),va.use(Mi),va.use(hf),va.use(cn),va.use(Qn),va.use(Rr),va.use(au),va.default=va,a(n)==="object"&&n)try{n.exports=va}catch{}return va.default=va,va})}(Ab,Ab.exports)),Ab.exports}var yve=vve();const bve=zm(yve);function Rz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function Ci(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Rz(Object(t),!0).forEach(function(r){Sve(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Rz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function vA(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Oz(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function yA(n,e,t){return e&&Oz(n.prototype,e),t&&Oz(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Sve(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function _ve(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&rO(n,e)}function KE(n){return KE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},KE(n)}function rO(n,e){return rO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},rO(n,e)}function xve(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Cve(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Eve(n,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cve(n)}function wve(n){var e=xve();return function(){var r=KE(n),a;if(e){var o=KE(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return Eve(this,a)}}function cm(n,e){return Mve(n)||Rve(n,e)||M5(n,e)||Ive()}function gB(n){return Ave(n)||Tve(n)||M5(n)||Ove()}function Ave(n){if(Array.isArray(n))return aO(n)}function Mve(n){if(Array.isArray(n))return n}function Tve(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Rve(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],a=!0,o=!1,l,s;try{for(t=t.call(n);!(a=(l=t.next()).done)&&(r.push(l.value),!(e&&r.length===e));a=!0);}catch(u){o=!0,s=u}finally{try{!a&&t.return!=null&&t.return()}finally{if(o)throw s}}return r}}function M5(n,e){if(n){if(typeof n=="string")return aO(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return aO(n,e)}}function aO(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Ove(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ive(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Bve=function(){function n(e){vA(this,n),this.events={},this.events=e.handlers}return yA(n,[{key:"on",value:function(t,r){var a=this,o=t instanceof Array?t:t.split(" ");return o.forEach(function(l){if(!a.events[l])throw new Error("The event ".concat(l," does not exist"));a.events[l].push(r)}),this}},{key:"trigger",value:function(t,r){if(!(t in this.events))throw new Error("The event ".concat(String(t)," cannot be triggered"));return this.events[t].reduce(function(a,o){return o(r)!==!1&&a},!0)}},{key:"bind",value:function(t){if(this.events[t])throw new Error("The event ".concat(t," is already bound"));this.events[t]=[]}},{key:"exist",value:function(t){return Array.isArray(this.events[t])}},{key:"off",value:function(t,r){if(this.events[t]){var a=this.events[t];if(!r)this.events[t]=[];else{var o=a.indexOf(r);o!==-1&&a.splice(o,1)}}}},{key:"offAll",value:function(){this.events=Object.fromEntries(Object.keys(this.events).map(function(t){return[t,[]]}))}}]),n}(),Dve=yA(function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};vA(this,n),this.handlers={},this.handlers=Ci({beforeSetTime:[],afterSetTime:[],setTimeByTick:[],beforeSetPlayRate:[],afterSetPlayRate:[],setActiveActionIds:[],play:[],paused:[],ended:[]},e)}),Pve="playing",Lve="paused",Nve=function(n){_ve(t,n);var e=wve(t);function t(){var r;return vA(this,t),r=e.call(this,new Dve),r._timerId=void 0,r._playRate=1,r._currentTime=0,r._playState="paused",r._prev=void 0,r._effectMap={},r._actionMap={},r._actionSortIds=[],r._next=0,r._activeActionIds=[],r}return yA(t,[{key:"isPlaying",get:function(){return this._playState==="playing"}},{key:"isPaused",get:function(){return this._playState==="paused"}},{key:"effects",set:function(a){this._effectMap=a}},{key:"data",set:function(a){this.isPlaying&&this.pause(),this._dealData(a),this._dealClear(),this._dealEnter(this._currentTime)}},{key:"setPlayRate",value:function(a){if(a<=0){console.error("Error: rate cannot be less than 0!");return}var o=this.trigger("beforeSetPlayRate",{rate:a,engine:this});return o?(this._playRate=a,this.trigger("afterSetPlayRate",{rate:a,engine:this}),!0):!1}},{key:"getPlayRate",value:function(){return this._playRate}},{key:"reRender",value:function(){this.isPlaying||this._tickAction(this._currentTime)}},{key:"setTime",value:function(a,o){var l=o||this.trigger("beforeSetTime",{time:a,engine:this});return l?(this._currentTime=a,this._next=0,this._dealLeave(a),this._dealEnter(a),o?this.trigger("setTimeByTick",{time:a,engine:this}):this.trigger("afterSetTime",{time:a,engine:this}),!0):!1}},{key:"getTime",value:function(){return this._currentTime}},{key:"play",value:function(a){var o=this,l=a.toTime,s=a.autoEnd,u=this.getTime();return this.isPlaying||l&&l<=u?!1:(this._playState=Pve,this._startOrStop("start"),this.trigger("play",{engine:this}),this._timerId=requestAnimationFrame(function(d){o._prev=d,o._tick({now:d,autoEnd:s,to:l})}),!0)}},{key:"pause",value:function(){this.isPlaying&&(this._playState=Lve,this._startOrStop("stop"),this.trigger("paused",{engine:this})),cancelAnimationFrame(this._timerId)}},{key:"_end",value:function(){this.pause(),this.trigger("ended",{engine:this})}},{key:"_startOrStop",value:function(a){for(var o=0;o<this._activeActionIds.length;o++){var l=this._activeActionIds[o],s=this._actionMap[l],u=this._effectMap[s==null?void 0:s.effectId];if(a==="start"){var d;!(u==null||(d=u.source)===null||d===void 0)&&d.start&&u.source.start({action:s,effect:u,engine:this,isPlaying:this.isPlaying,time:this.getTime()})}else if(a==="stop"){var g;!(u==null||(g=u.source)===null||g===void 0)&&g.stop&&u.source.stop({action:s,effect:u,engine:this,isPlaying:this.isPlaying,time:this.getTime()})}}}},{key:"_tick",value:function(a){var o=this;if(!this.isPaused){var l=a.now,s=a.autoEnd,u=a.to,d=this.getTime()+Math.min(1e3,l-this._prev)/1e3*this._playRate;if(this._prev=l,u&&u<=d&&(d=u),this.setTime(d,!0),this._tickAction(d),!u&&s&&this._next>=this._actionSortIds.length&&this._activeActionIds.length===0){this._end();return}u&&u<=d&&this._end(),!this.isPaused&&(this._timerId=requestAnimationFrame(function(g){o._tick({now:g,autoEnd:s,to:u})}))}}},{key:"_tickAction",value:function(a){this._dealEnter(a),this._dealLeave(a);for(var o=this._activeActionIds.length,l=0;l<o;l++){var s,u=this._activeActionIds[l],d=this._actionMap[u],g=this._effectMap[d.effectId];g&&(!((s=g.source)===null||s===void 0)&&s.update)&&g.source.update({time:a,action:d,isPlaying:this.isPlaying,effect:g,engine:this})}}},{key:"_dealClear",value:function(){for(;this._activeActionIds.length;){var a,o=this._activeActionIds.shift(),l=this._actionMap[o],s=this._effectMap[l==null?void 0:l.effectId];!(s==null||(a=s.source)===null||a===void 0)&&a.leave&&s.source.leave({action:l,effect:s,engine:this,isPlaying:this.isPlaying,time:this.getTime()})}this._next=0}},{key:"_dealEnter",value:function(a){for(;this._actionSortIds[this._next];){var o=this._actionSortIds[this._next],l=this._actionMap[o];if(!l.disable){if(l.start>a)break;if(l.end>a&&!this._activeActionIds.includes(o)){var s,u=this._effectMap[l.effectId];u&&(!((s=u.source)===null||s===void 0)&&s.enter)&&u.source.enter({action:l,effect:u,isPlaying:this.isPlaying,time:a,engine:this}),this._activeActionIds.push(o)}}this._next++}}},{key:"_dealLeave",value:function(a){for(var o=0;this._activeActionIds[o];){var l=this._activeActionIds[o],s=this._actionMap[l];if(s.start>a||s.end<a){var u,d=this._effectMap[s.effectId];d&&(!((u=d.source)===null||u===void 0)&&u.leave)&&d.source.leave({action:s,effect:d,isPlaying:this.isPlaying,time:a,engine:this}),this._activeActionIds.splice(o,1);continue}o++}}},{key:"_dealData",value:function(a){var o=[];a.map(function(d){o.push.apply(o,gB(d.actions))});var l=o.sort(function(d,g){return d.start-g.start}),s={},u=[];l.forEach(function(d){u.push(d.id),s[d.id]=Ci({},d)}),this._actionMap=s,this._actionSortIds=u}}]),t}(Bve),oO="timeline-editor",zve=0,Iz=1,Uve=10,Bz=160,T5=20,sO=1,lO=8,Dz=32,cO=20,R5=5,uo;(function(n){n[n.VERBOSE=0]="VERBOSE",n[n.LOG=1]="LOG",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.FATAL=5]="FATAL",n[n.SILENT=1/0]="SILENT"})(uo||(uo={}));var O5={VERBOSE:uo.VERBOSE,LOG:uo.LOG,INFO:uo.INFO,WARN:uo.WARN,ERROR:uo.ERROR,SILENT:uo.SILENT};function dv(n,e){return"color:".concat(n,";font-size:").concat(e,"px;")}var t_=function(){function n(e){vA(this,n),this.Levels=O5,this.level=uo.LOG,this.prefix="",this.enabled=!0,this.debugColor=dv("#cccccc",12),this.logColor=dv("#bbbbbb",12),this.infoColor=dv("#2196f3",12),this.warnColor=dv("#ff00ff",12),this.errorColor=dv("#e91e63",12),this.fatalColor=dv("#9a0101",13),this.setPrefix(e),this.level=n.level,n.instances.push(this)}return yA(n,[{key:"setPrefix",value:function(t){this.prefix=t}},{key:"enable",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.level;this.level=t,this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1}},{key:"setLevel",value:function(t){this.level=t}},{key:"trace",value:function(t){if(!(!this.enabled||this.level>uo.VERBOSE)){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];if(n.noColor){var l;(l=console).trace.apply(l,["[".concat(this.prefix,"] ").concat(t)].concat(a))}else{var s;(s=console).trace.apply(s,["%c[".concat(this.prefix,"] ").concat(t),this.debugColor].concat(a))}}}},{key:"debug",value:function(t){if(!(!this.enabled||this.level>uo.VERBOSE)){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];if(n.noColor){var l;(l=console).debug.apply(l,["[".concat(this.prefix,"] ").concat(t)].concat(a))}else{var s;(s=console).debug.apply(s,["%c[".concat(this.prefix,"] ").concat(t),this.debugColor].concat(a))}}}},{key:"log",value:function(t){if(!(!this.enabled||this.level>uo.LOG)){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];if(n.noColor){var l;(l=console).log.apply(l,["[".concat(this.prefix,"] ").concat(t)].concat(a))}else{var s;(s=console).log.apply(s,["%c[".concat(this.prefix,"] ").concat(t),this.logColor].concat(a))}}}},{key:"info",value:function(t){if(!(!this.enabled||this.level>uo.INFO)){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];if(n.noColor){var l;(l=console).info.apply(l,["[".concat(this.prefix,"] ").concat(t)].concat(a))}else{var s;(s=console).info.apply(s,["%c[".concat(this.prefix,"] ").concat(t),this.infoColor].concat(a))}}}},{key:"warn",value:function(t){if(!(!this.enabled||this.level>uo.WARN)){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];if(n.noColor){var l;(l=console).warn.apply(l,["[".concat(this.prefix,"] ").concat(t)].concat(a))}else{var s;(s=console).warn.apply(s,["%c[".concat(this.prefix,"] ").concat(t),this.warnColor].concat(a))}}}},{key:"error",value:function(t){if(!(!this.enabled||this.level>uo.ERROR)){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];if(n.noColor){var l;(l=console).error.apply(l,["[".concat(this.prefix,"] ").concat(t)].concat(a))}else{var s;(s=console).error.apply(s,["%c[".concat(this.prefix,"] ").concat(t),this.errorColor].concat(a))}}}},{key:"fatal",value:function(t){if(!(!this.enabled||this.level>uo.FATAL)){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];if(n.noColor){var l;(l=console).error.apply(l,["[".concat(this.prefix,"] ").concat(t)].concat(a))}else{var s;(s=console).error.apply(s,["%c[".concat(this.prefix,"] ").concat(t),this.fatalColor].concat(a))}}}},{key:"group",value:function(){if(console.group){var t;(t=console).group.apply(t,arguments)}}},{key:"groupEnd",value:function(){console.groupEnd&&console.groupEnd()}},{key:"groupCollapsed",value:function(){if(console.groupCollapsed){var t;(t=console).groupCollapsed.apply(t,arguments)}}}],[{key:"setLevel",value:function(t){this.level=t,this.instances.forEach(function(r){return r.setLevel(t)})}},{key:"enable",value:function(t){t&&(this.level=t),this.instances.forEach(function(r){return r.enable()})}},{key:"disable",value:function(){this.instances.forEach(function(t){return t.disable()})}}]),n}();t_.instances=[];t_.level=uo.LOG;t_.Levels=O5;t_.noColor=!1;var hh=new t_("timeline");function Fve(n){var e=n.editorData,t=e===void 0?[]:e,r=n.effects,a=r===void 0?{}:r,o=n.scrollTop,l=o===void 0?0:o,s=n.scale,u=s===void 0?Iz:s,d=n.scaleSplitCount,g=d===void 0?Uve:d,y=n.scaleWidth,_=y===void 0?Bz:y,C=n.startLeft,c=C===void 0?T5:C,p=n.minScaleCount,m=p===void 0?cO:p,b=n.maxScaleCount,E=b===void 0?1/0:b,T=n.rowHeight,R=T===void 0?Dz:T;u<=0&&(hh.error("Error: scale must be greater than 0!"),u=Iz),l<0&&(hh.warn("Warning: scrollTop cannot be less than 0!"),l=0),g<=0&&(hh.warn("Warning: scaleSplitCount cannot be less than 1!"),g=1),_<=0&&(hh.warn("Warning: scaleWidth must be greater than 0!"),_=Bz),c<0&&(hh.warn("Warning: startLeft cannot be less than 0!"),c=0),m<1&&(hh.warn("Warning: minScaleCount must be greater than 1!"),m=cO),m=parseInt(m+""),E<m&&(hh.warn("Warning: maxScaleCount cannot be less than minScaleCount!"),E=m),E=E===1/0?1/0:parseInt(E+""),R<=0&&(hh.warn("Warning: rowHeight must be greater than 0!"),R=Dz);var O=Ci({},n);return delete O.style,Ci(Ci({},O),{},{editorData:t,effects:a,scrollTop:l,scale:u,scaleSplitCount:g,scaleWidth:_,startLeft:c,minScaleCount:m,maxScaleCount:E,rowHeight:R})}function nf(n,e){var t=e.startLeft,r=e.scale,a=e.scaleWidth;return t+n/r*a}function Nm(n,e){var t=e.startLeft,r=e.scale,a=e.scaleWidth;return(n-t)/a*r}function rb(n,e){var t=n.left,r=n.width,a=Nm(t,e),o=Nm(t+r,e);return{start:a,end:o}}function uO(n,e){var t=n.start,r=n.end,a=nf(t,e),o=nf(r,e)-a;return{left:a,width:o}}function Hve(n,e){var t=0;n.forEach(function(a){a.actions.forEach(function(o){t=Math.max(t,o.end)})});var r=Math.ceil(t/e.scale);return r+R5}function Gve(n,e){var t=e.startLeft,r=e.scaleWidth,a=Math.ceil((n-t)/r);return Math.max(a+R5,e.scaleCount)}function kve(n,e){var t=[];return n.forEach(function(r){t.push(nf(r.start,e)),t.push(nf(r.end,e))}),t}function Po(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return mve.apply(void 0,["".concat(oO,"-")].concat(e))}var MC=1,Pz=3,Lz=10;function $ve(n){var e=A.useRef(Number.MIN_SAFE_INTEGER),t=A.useRef(Number.MAX_SAFE_INTEGER),r=A.useRef(MC),a=A.useRef(),o=function(){if(n!=null&&n.current){var g=n.current.getBoundingClientRect(),y=g.left,_=g.width;e.current=y,t.current=y+_}},l=function(g,y){if(g.clientX>=t.current||g.clientX<=e.current){cancelAnimationFrame(a.current);var _=Math.abs(g.clientX>=t.current?g.clientX-t.current:g.clientX-e.current);r.current=Math.min(Number((_/Lz).toFixed(0))*MC,Pz);var C=g.clientX>=t.current?1:-1,c=C*r.current,p=function m(){y&&y(c),a.current=requestAnimationFrame(m)};return a.current=requestAnimationFrame(p),!1}else cancelAnimationFrame(a.current);return!0},s=function(g,y,_){if(g.clientX>=t.current||g.clientX<e.current){cancelAnimationFrame(a.current);var C=Math.abs(g.clientX>=t.current?g.clientX-t.current:g.clientX-e.current);r.current=Math.min(Number((C/Lz).toFixed(0))*MC,Pz);var c=g.clientX>=t.current?1:-1,p=c*r.current,m=function b(){_&&_(p),a.current=requestAnimationFrame(b)};return a.current=requestAnimationFrame(m),!1}else cancelAnimationFrame(a.current);return!0},u=function(){e.current=Number.MIN_SAFE_INTEGER,t.current=Number.MAX_SAFE_INTEGER,r.current=MC,cancelAnimationFrame(a.current)};return{initAutoScroll:o,dealDragAutoScroll:l,dealResizeAutoScroll:s,stopAutoScroll:u}}var Vve=function(e){var t=e.children,r=e.interactRef,a=e.draggable,o=e.resizable,l=e.draggableOptions,s=e.resizableOptions,u=A.useRef(),d=A.useRef(),g=A.useRef(),y=A.useRef();A.useEffect(function(){g.current=Ci({},l),y.current=Ci({},s)},[l,s]),A.useEffect(function(){d.current&&d.current.unset(),d.current=bve(u.current),r.current=d.current,_()},[a,o]);var _=function(){a&&d.current.draggable(Ci(Ci({},g.current),{},{onstart:function(p){return g.current.onstart&&g.current.onstart(p)},onmove:function(p){return g.current.onmove&&g.current.onmove(p)},onend:function(p){return g.current.onend&&g.current.onend(p)}})),o&&d.current.resizable(Ci(Ci({},y.current),{},{onstart:function(p){return y.current.onstart&&y.current.onstart(p)},onmove:function(p){return y.current.onmove&&y.current.onmove(p)},onend:function(p){return y.current.onend&&y.current.onend(p)}}))};return A.cloneElement(t,{ref:u,draggable:!1})},I5=We.forwardRef(function(n,e){var t=n.children,r=n.edges,a=n.left,o=n.width,l=n.start,s=l===void 0?T5:l,u=n.grid,d=u===void 0?sO:u,g=n.bounds,y=g===void 0?{left:Number.MIN_SAFE_INTEGER,right:Number.MAX_SAFE_INTEGER}:g,_=n.enableResizing,C=_===void 0?!0:_,c=n.enableDragging,p=c===void 0?!0:c,m=n.adsorptionDistance,b=m===void 0?lO:m,E=n.adsorptionPositions,T=E===void 0?[]:E,R=n.onResizeStart,O=n.onResize,D=n.onResizeEnd,P=n.onDragStart,F=n.onDragEnd,U=n.onDrag,z=n.parentRef,$=n.deltaScrollLeft,J=A.useRef(),W=A.useRef(0),Z=A.useRef(!1),oe=$ve(z),Y=oe.initAutoScroll,K=oe.dealDragAutoScroll,ee=oe.dealResizeAutoScroll,ue=oe.stopAutoScroll;A.useEffect(function(){return function(){J.current&&J.current.unset()}},[]),A.useImperativeHandle(e,function(){return{updateLeft:function(Ce){return q(Ce||0,!1)},updateWidth:function(Ce){return ie(Ce,!1)},getLeft:me,getWidth:de}}),A.useEffect(function(){var Be=J.current.target;ie(typeof o>"u"?Be.offsetWidth:o,!1)},[o]),A.useEffect(function(){q(a||0,!1)},[a]);var q=function(Ce){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!J.current||!J.current.target)){re&&(W.current=0);var Fe=J.current.target;Fe.style.left="".concat(Ce,"px"),Object.assign(Fe.dataset,{left:Ce})}},ie=function(Ce){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!J.current||!J.current.target)){re&&(W.current=0);var Fe=J.current.target;Fe.style.width="".concat(Ce,"px"),Object.assign(Fe.dataset,{width:Ce})}},me=function(){var Ce,re=J.current.target;return parseFloat((re==null||(Ce=re.dataset)===null||Ce===void 0?void 0:Ce.left)||"0")},de=function(){var Ce,re=J.current.target;return parseFloat((re==null||(Ce=re.dataset)===null||Ce===void 0?void 0:Ce.width)||"0")},Q=function(Ce){W.current=0,Z.current=!1,Y(),P&&P()},he=function(Ce){var re=Ce.preLeft,Fe=Ce.preWidth,Ie=Ce.scrollDelta,Ye=Z.current?b:d;if(Math.abs(W.current)>=Ye){var ke=parseInt(W.current/Ye+""),lt=re+ke*Ye,ot=lt,ce=Number.MAX_SAFE_INTEGER;if(T.forEach(function(we){var De=Math.abs(we-lt);De<b&&De<ce&&(ot=we);var qe=Math.abs(we-(lt+Fe));qe<b&&qe<ce&&(ot=we-Fe)}),ot!==lt?(Z.current=!0,lt=ot):((lt-s)%d!==0&&(lt=s+d*Math.round((lt-s)/d)),Z.current=!1),W.current=W.current%Ye,lt<y.left?lt=y.left:lt+Fe>y.right&&(lt=y.right-Fe),U){var ae=U({lastLeft:re,left:lt,lastWidth:Fe,width:Fe},Ie);if(ae===!1)return}q(lt,!1)}},xe=function(Ce){var re=Ce.target;if($&&(z!=null&&z.current)){var Fe=K(Ce,function(ce){$(ce);var ae=re.dataset,we=ae.left,De=ae.width,qe=parseFloat(we),He=parseFloat(De);W.current+=ce,he({preLeft:qe,preWidth:He,scrollDelta:ce})});if(!Fe)return}var Ie=re.dataset,Ye=Ie.left,ke=Ie.width,lt=parseFloat(Ye),ot=parseFloat(ke);W.current+=Ce.dx,he({preLeft:lt,preWidth:ot})},Oe=function(Ce){W.current=0,Z.current=!1,ue();var re=Ce.target,Fe=re.dataset,Ie=Fe.left,Ye=Fe.width;F&&F({left:parseFloat(Ie),width:parseFloat(Ye)})},Ae=function(Ce){var re;W.current=0,Z.current=!1,Y();var Fe=!((re=Ce.edges)===null||re===void 0)&&re.right?"right":"left";R&&R(Fe)},Te=function(Ce){var re=Ce.dir,Fe=Ce.preWidth,Ie=Ce.preLeft,Ye=Z.current?b:d;if(re==="left"){if(Math.abs(W.current)>=Ye){var ke=parseInt(W.current/Ye+""),lt=Ie+ke*Ye,ot=lt,ce=Number.MAX_SAFE_INTEGER;T.forEach(function(at){var _t=Math.abs(at-lt);_t<b&&_t<ce&&(ot=at)}),ot!==lt?(Z.current=!0,lt=ot):((lt-s)%d!==0&&(lt=s+d*Math.round((lt-s)/d)),Z.current=!1),W.current=W.current%Ye;var ae=Ie+Fe;lt<y.left&&(lt=y.left);var we=ae-lt;if(O){var De=O("left",{lastLeft:Ie,lastWidth:Fe,left:lt,width:we});if(De===!1)return}q(lt,!1),ie(we,!1)}}else if(re==="right"&&Math.abs(W.current)>=Ye){var qe=parseInt(W.current/d+""),He=Fe+qe*d,gt=Ie+He,st=Number.MAX_SAFE_INTEGER;if(T.forEach(function(at){var _t=Math.abs(at-(Ie+He));_t<b&&_t<st&&(gt=at)}),gt!==Ie+He)Z.current=!0,He=gt-Ie;else{var pt=Ie+He;(pt-s)%d!==0&&(pt=s+d*Math.round((pt-s)/d),He=pt-Ie),Z.current=!1}if(W.current=W.current%Ye,Ie+He>y.right&&(He=y.right-Ie),O){var Ot=O("right",{lastLeft:Ie,lastWidth:Fe,left:Ie,width:He});if(Ot===!1)return}ie(He,!1)}},ze=function(Ce){var re,Fe=Ce.target,Ie=!((re=Ce.edges)===null||re===void 0)&&re.left?"left":"right";if($&&(z!=null&&z.current)){var Ye=ee(Ce,Ie,function(we){$(we);var De=Fe.dataset,qe=De.left,He=De.width,gt=parseFloat(qe),st=parseFloat(He);W.current+=we,Te({preLeft:gt,preWidth:st,dir:Ie})});if(!Ye)return}var ke=Fe.dataset,lt=ke.left,ot=ke.width,ce=parseFloat(lt),ae=parseFloat(ot);W.current+=Ie==="left"?Ce.deltaRect.left:Ce.deltaRect.right,Te({preLeft:ce,preWidth:ae,dir:Ie})},vt=function(Ce){var re;W.current=0,Z.current=!1,ue();var Fe=Ce.target,Ie=Fe.dataset,Ye=Ie.left,ke=Ie.width,lt=!((re=Ce.edges)===null||re===void 0)&&re.right?"right":"left";D&&D(lt,{left:parseFloat(Ye),width:parseFloat(ke)})};return We.createElement(Vve,{interactRef:J,draggable:p,resizable:C,draggableOptions:{lockAxis:"x",onmove:xe,onstart:Q,onend:Oe,cursorChecker:function(){return null}},resizableOptions:{axis:"x",invert:"none",edges:Ci({left:!0,right:!0,top:!1,bottom:!1},r||{}),onmove:ze,onstart:Ae,onend:vt}},We.cloneElement(t,{style:Ci(Ci({},t.props.style||{}),{},{left:a,width:o})}))});function Xm(n,e){e===void 0&&(e={});var t=e.insertAt;if(!(!n||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",t==="top"&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=n:a.appendChild(document.createTextNode(n))}}var jve=`.timeline-editor-cursor {
  cursor: ew-resize;
  position: absolute;
  top: 32px;
  height: calc(100% - 32px);
  box-sizing: border-box;
  border-left: 1px solid #5297FF;
  border-right: 1px solid #5297FF;
  transform: translateX(-25%) scaleX(0.5);
}
.timeline-editor-cursor-top {
  position: absolute;
  top: 0;
  left: 50%;
  transform: translate(-50%, 0) scaleX(2);
  margin: auto;
}
.timeline-editor-cursor-area {
  width: 16px;
  height: 100%;
  cursor: ew-resize;
  position: absolute;
  top: 0;
  left: 50%;
  transform: translateX(-50%);
}
`;Xm(jve);var Wve=function(e){var t=e.disableDrag,r=e.cursorTime,a=e.setCursor,o=e.startLeft,l=e.timelineWidth,s=e.scaleWidth,u=e.scale,d=e.scrollLeft,g=e.scrollSync,y=e.areaRef,_=e.maxScaleCount,C=e.deltaScrollLeft,c=e.onCursorDragStart,p=e.onCursorDrag,m=e.onCursorDragEnd,b=A.useRef(),E=A.useRef();return A.useEffect(function(){typeof E.current>"u"&&b.current.updateLeft(nf(r,{startLeft:o,scaleWidth:s,scale:u})-d)},[r,o,s,u,d]),We.createElement(I5,{start:o,ref:b,parentRef:y,bounds:{left:0,right:Math.min(l,_*s+o-d)},deltaScrollLeft:C,enableDragging:!t,enableResizing:!1,onDragStart:function(){c&&c(r),E.current=nf(r,{startLeft:o,scaleWidth:s,scale:u})-d,b.current.updateLeft(E.current)},onDragEnd:function(){var R=Nm(E.current+d,{startLeft:o,scale:u,scaleWidth:s});a({time:R}),m&&m(R),E.current=void 0},onDrag:function(R){var O=R.left,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,P=g.current.state.scrollLeft;!D||P===0?O<o-P?E.current=o-P:E.current=O:E.current<o-P-D&&(E.current=o-P-D),b.current.updateLeft(E.current);var F=Nm(E.current+P,{startLeft:o,scale:u,scaleWidth:s});return a({time:F}),p&&p(F),!1}},We.createElement("div",{className:Po("cursor")},We.createElement("svg",{className:Po("cursor-top"),width:"8",height:"12",viewBox:"0 0 8 12",fill:"none"},We.createElement("path",{d:"M0 1C0 0.447715 0.447715 0 1 0H7C7.55228 0 8 0.447715 8 1V9.38197C8 9.76074 7.786 10.107 7.44721 10.2764L4.44721 11.7764C4.16569 11.9172 3.83431 11.9172 3.55279 11.7764L0.552786 10.2764C0.214002 10.107 0 9.76074 0 9.38197V1Z",fill:"#5297FF"})),We.createElement("div",{className:Po("cursor-area")})))},Xve=`.timeline-editor-drag-line-container {
  position: absolute;
  height: 100%;
  top: 0;
  left: 0;
}
.timeline-editor-drag-line {
  width: 0;
  position: absolute;
  top: 0;
  height: 99%;
  border-left: 1px dashed rgba(82, 151, 255, 0.6);
}
`;Xm(Xve);var Yve=function(e){var t=e.isMoving,r=e.movePositions,a=r===void 0?[]:r,o=e.assistPositions,l=o===void 0?[]:o,s=e.scrollLeft;return We.createElement("div",{className:Po("drag-line-container")},t&&a.filter(function(u){return l.includes(u)}).map(function(u,d){return We.createElement("div",{key:d,className:Po("drag-line"),style:{left:u-s}})}))},qve=`.timeline-editor:hover .timeline-editor-edit-area .ReactVirtualized__Grid::-webkit-scrollbar {
  height: 4px;
}
.timeline-editor-edit-area {
  flex: 1 1 auto;
  margin-top: 10px;
  overflow: hidden;
  position: relative;
}
.timeline-editor-edit-area .ReactVirtualized__Grid {
  outline: none !important;
  overflow: overlay !important;
}
.timeline-editor-edit-area .ReactVirtualized__Grid::-webkit-scrollbar {
  width: 0;
  height: 0;
}
.timeline-editor-edit-area .ReactVirtualized__Grid::-webkit-scrollbar-track {
  background-color: transparent !important;
}
.timeline-editor-edit-area .ReactVirtualized__Grid::-webkit-scrollbar-thumb {
  background: #313132;
  border-radius: 16px;
}
`;Xm(qve);var Kve=`.timeline-editor-action {
  position: absolute;
  left: 0;
  top: 0;
  background-color: #2f3134;
}
.timeline-editor-action .timeline-editor-action-left-stretch,
.timeline-editor-action .timeline-editor-action-right-stretch {
  position: absolute;
  top: 0;
  width: 10px;
  border-radius: 4px;
  height: 100%;
  overflow: hidden;
}
.timeline-editor-action .timeline-editor-action-left-stretch::after,
.timeline-editor-action .timeline-editor-action-right-stretch::after {
  position: absolute;
  top: 0;
  bottom: 0;
  margin: auto;
  border-radius: 4px;
  border-top: 28px solid transparent;
  border-bottom: 28px solid transparent;
}
.timeline-editor-action .timeline-editor-action-left-stretch {
  left: 0;
}
.timeline-editor-action .timeline-editor-action-left-stretch::after {
  left: 0;
  content: "";
  border-left: 7px solid rgba(255, 255, 255, 0.1);
  border-right: 7px solid transparent;
}
.timeline-editor-action .timeline-editor-action-right-stretch {
  right: 0;
}
.timeline-editor-action .timeline-editor-action-right-stretch::after {
  right: 0;
  content: "";
  border-right: 7px solid rgba(255, 255, 255, 0.1);
  border-left: 7px solid transparent;
}
`;Xm(Kve);var Jve=function(e){var t=e.editorData,r=e.row,a=e.action,o=e.effects,l=e.rowHeight,s=e.scale,u=e.scaleWidth,d=e.scaleSplitCount,g=e.startLeft,y=e.gridSnap,_=e.disableDrag,C=e.scaleCount,c=e.maxScaleCount,p=e.setScaleCount,m=e.onActionMoveStart,b=e.onActionMoving,E=e.onActionMoveEnd,T=e.onActionResizeStart,R=e.onActionResizeEnd,O=e.onActionResizing,D=e.dragLineData,P=e.setEditorData,F=e.onClickAction,U=e.onClickActionOnly,z=e.onDoubleClickAction,$=e.onContextMenuAction,J=e.getActionRender,W=e.handleTime,Z=e.areaRef,oe=e.deltaScrollLeft,Y=A.useRef(),K=A.useRef(!1),ee=a.id,ue=a.maxEnd,q=a.minStart,ie=a.end,me=a.start,de=a.selected,Q=a.flexible,he=Q===void 0?!0:Q,xe=a.movable,Oe=xe===void 0?!0:xe,Ae=a.effectId,Te=nf(q||0,{startLeft:g,scale:s,scaleWidth:u}),ze=Math.min(c*u+g,nf(ue||Number.MAX_VALUE,{startLeft:g,scale:s,scaleWidth:u})),vt=A.useState(function(){return uO({start:me,end:ie},{startLeft:g,scale:s,scaleWidth:u})}),Be=cm(vt,2),Ce=Be[0],re=Be[1];A.useLayoutEffect(function(){re(uO({start:me,end:ie},{startLeft:g,scale:s,scaleWidth:u}))},[ie,me,g,u,s]);var Fe=u/d,Ie=["action"];Oe&&Ie.push("action-movable"),de&&Ie.push("action-selected"),he&&Ie.push("action-flexible"),o[Ae]&&Ie.push("action-effect-".concat(Ae));var Ye=function(gt,st){var pt=Gve(gt+st,{startLeft:g,scaleCount:C,scaleWidth:u});pt!==C&&p(pt)},ke=function(){m&&m({action:a,row:r})},lt=function(gt){var st=gt.left,pt=gt.width;if(K.current=!0,b){var Ot=rb({left:st,width:pt},{scaleWidth:u,scale:s,startLeft:g}),at=Ot.start,_t=Ot.end,Ct=b({action:a,row:r,start:at,end:_t});if(Ct===!1)return!1}re({left:st,width:pt}),Ye(st,pt)},ot=function(gt){var st=gt.left,pt=gt.width,Ot=rb({left:st,width:pt},{scaleWidth:u,scale:s,startLeft:g}),at=Ot.start,_t=Ot.end,Ct=t.find(function(it){return it.id===r.id}),je=Ct.actions.find(function(it){return it.id===ee});je.start=at,je.end=_t,P(t),E&&E({action:je,row:r,start:at,end:_t})},ce=function(gt){T&&T({action:a,row:r,dir:gt})},ae=function(gt,st){var pt=st.left,Ot=st.width;if(K.current=!0,O){var at=rb({left:pt,width:Ot},{scaleWidth:u,scale:s,startLeft:g}),_t=at.start,Ct=at.end,je=O({action:a,row:r,start:_t,end:Ct,dir:gt});if(je===!1)return!1}re({left:pt,width:Ot}),Ye(pt,Ot)},we=function(gt,st){var pt=st.left,Ot=st.width,at=rb({left:pt,width:Ot},{scaleWidth:u,scale:s,startLeft:g}),_t=at.start,Ct=at.end,je=t.find(function(Se){return Se.id===r.id}),it=je.actions.find(function(Se){return Se.id===ee});it.start=_t,it.end=Ct,P(t),R&&R({action:it,row:r,start:_t,end:Ct,dir:gt})},De=Ci(Ci({},a),rb({left:Ce.left,width:Ce.width},{startLeft:g,scaleWidth:u,scale:s})),qe=Ci(Ci({},r),{},{actions:gB(r.actions)});return r.actions.includes(a)&&(qe.actions[r.actions.indexOf(a)]=De),We.createElement(I5,{ref:Y,parentRef:Z,start:g,left:Ce.left,width:Ce.width,grid:y&&Fe||sO,adsorptionDistance:y?Math.max((Fe||sO)/2,lO):lO,adsorptionPositions:D.assistPositions,bounds:{left:Te,right:ze},edges:{left:!_&&he&&".".concat(Po("action-left-stretch")),right:!_&&he&&".".concat(Po("action-right-stretch"))},enableDragging:!_&&Oe,enableResizing:!_&&he,onDragStart:ke,onDrag:lt,onDragEnd:ot,onResizeStart:ce,onResize:ae,onResizeEnd:we,deltaScrollLeft:oe},We.createElement("div",{onMouseDown:function(){K.current=!1},onClick:function(gt){var st;F&&(st=W(gt),F(gt,{row:r,action:a,time:st})),!K.current&&U&&(st||(st=W(gt)),U(gt,{row:r,action:a,time:st}))},onDoubleClick:function(gt){if(z){var st=W(gt);z(gt,{row:r,action:a,time:st})}},onContextMenu:function(gt){if($){var st=W(gt);$(gt,{row:r,action:a,time:st})}},className:Po((Ie||[]).join(" ")),style:{height:l}},J&&J(De,qe),he&&We.createElement("div",{className:Po("action-left-stretch")}),he&&We.createElement("div",{className:Po("action-right-stretch")})))},Qve=`.timeline-editor-edit-row {
  background-repeat: no-repeat, repeat;
  background-image: linear-gradient(#191b1d, #191b1d), linear-gradient(90deg, rgba(255, 255, 255, 0.08) 1px, transparent 0);
  display: flex;
  flex-direction: row;
  box-sizing: border-box;
}
`;Xm(Qve);var Zve=function(e){var t=e.rowData,r=e.style,a=r===void 0?{}:r,o=e.onClickRow,l=e.onDoubleClickRow,s=e.onContextMenuRow,u=e.areaRef,d=e.scrollLeft,g=e.startLeft,y=e.scale,_=e.scaleWidth,C=["edit-row"];t!=null&&t.selected&&C.push("edit-row-selected");var c=function(m){if(u.current){var b=u.current.getBoundingClientRect(),E=m.clientX-b.x,T=E+d,R=Nm(T,{startLeft:g,scale:y,scaleWidth:_});return R}};return We.createElement("div",{className:"".concat(Po.apply(void 0,C)," ").concat(((t==null?void 0:t.classNames)||[]).join(" ")),style:a,onClick:function(m){if(t&&o){var b=c(m);o(m,{row:t,time:b})}},onDoubleClick:function(m){if(t&&l){var b=c(m);l(m,{row:t,time:b})}},onContextMenu:function(m){if(t&&s){var b=c(m);s(m,{row:t,time:b})}}},((t==null?void 0:t.actions)||[]).map(function(p){return We.createElement(Jve,Ci(Ci({key:p.id},e),{},{handleTime:c,row:t,action:p}))}))};function e0e(){var n=A.useState({isMoving:!1,movePositions:[],assistPositions:[]}),e=cm(n,2),t=e[0],r=e[1],a=function(g){var y=g.editorData,_=g.assistActionIds,C=g.action,c=g.row,p=g.scale,m=g.scaleWidth,b=g.startLeft,E=g.cursorLeft,T=g.hideCursor,R=[];_?y.forEach(function(D){D.actions.forEach(function(P){_.includes(P.id)&&R.push(P)})}):y.forEach(function(D){D.id!==c.id?R.push.apply(R,gB(D.actions)):D.actions.forEach(function(P){P.id!==C.id&&R.push(P)})});var O=kve(R,{startLeft:b,scale:p,scaleWidth:m});return T||O.push(E),O},o=function(g){var y=g.start,_=g.end,C=g.dir,c=g.scale,p=g.scaleWidth,m=g.startLeft,b=uO({start:y,end:_},{startLeft:m,scaleWidth:p,scale:c}),E=b.left,T=b.width;return C?C==="right"?[E+T]:[E]:[E,E+T]},l=function(g){var y=g.movePositions,_=g.assistPositions;r({isMoving:!0,movePositions:y||[],assistPositions:_||[]})},s=function(g){var y=g.movePositions,_=g.assistPositions;r(function(C){return Ci(Ci({},C),{},{movePositions:y||C.movePositions,assistPositions:_||C.assistPositions})})},u=function(){r({isMoving:!1,movePositions:[],assistPositions:[]})};return{initDragLine:l,updateDragLine:s,disposeDragLine:u,dragLineData:t,defaultGetAssistPosition:a,defaultGetMovePosition:o}}var t0e=We.forwardRef(function(n,e){var t=n.editorData,r=n.rowHeight,a=n.scaleWidth,o=n.scaleCount,l=n.startLeft,s=n.scrollLeft,u=n.scrollTop,d=n.scale,g=n.hideCursor,y=n.cursorTime,_=n.onScroll,C=n.dragLine,c=n.getAssistDragLineActionIds,p=n.onActionMoveEnd,m=n.onActionMoveStart,b=n.onActionMoving,E=n.onActionResizeEnd,T=n.onActionResizeStart,R=n.onActionResizing,O=e0e(),D=O.dragLineData,P=O.initDragLine,F=O.updateDragLine,U=O.disposeDragLine,z=O.defaultGetAssistPosition,$=O.defaultGetMovePosition,J=A.useRef(),W=A.useRef(),Z=A.useRef(-1);A.useImperativeHandle(e,function(){return{get domRef(){return J}}});var oe=function(ue){if(C){var q=c&&c({action:ue.action,row:ue.row,editorData:t}),ie=nf(y,{scaleWidth:a,scale:d,startLeft:l}),me=z({editorData:t,assistActionIds:q,action:ue.action,row:ue.row,scale:d,scaleWidth:a,startLeft:l,hideCursor:g,cursorLeft:ie});P({assistPositions:me})}},Y=function(ue){if(C){var q=$(Ci(Ci({},ue),{},{startLeft:l,scaleWidth:a,scale:d}));F({movePositions:q})}},K=function(ue){var q=ue.rowIndex,ie=ue.key,me=ue.style,de=t[q];return We.createElement(Zve,Ci(Ci({},n),{},{style:Ci(Ci({},me),{},{backgroundPositionX:"0, ".concat(l,"px"),backgroundSize:"".concat(l,"px, ").concat(a,"px")}),areaRef:J,key:ie,rowHeight:(de==null?void 0:de.rowHeight)||r,rowData:de,dragLineData:D,onActionMoveStart:function(he){return oe(he),m&&m(he)},onActionResizeStart:function(he){return oe(he),T&&T(he)},onActionMoving:function(he){return Y(he),b&&b(he)},onActionResizing:function(he){return Y(he),R&&R(he)},onActionResizeEnd:function(he){return U(),E&&E(he)},onActionMoveEnd:function(he){return U(),p&&p(he)}}))};return A.useLayoutEffect(function(){var ee;(ee=W.current)===null||ee===void 0||ee.scrollToPosition({scrollTop:u,scrollLeft:s})},[u,s]),A.useEffect(function(){W.current.recomputeGridSize()},[t]),We.createElement("div",{ref:J,className:Po("edit-area")},We.createElement(lB,null,function(ee){var ue=ee.width,q=ee.height,ie=0,me=t.map(function(de){var Q=de.rowHeight||r;return ie+=Q,Q});return ie<q&&(me.push(q-ie),Z.current!==q&&Z.current>=0&&setTimeout(function(){var de;return(de=W.current)===null||de===void 0?void 0:de.recomputeGridSize({rowIndex:me.length-1})})),Z.current=q,We.createElement(Xu,{columnCount:1,rowCount:me.length,ref:W,cellRenderer:K,columnWidth:Math.max(o*a+l,ue),width:ue,height:q,rowHeight:function(Q){var he=Q.index;return me[he]||r},overscanRowCount:10,overscanColumnCount:0,onScroll:function(Q){_(Q)}})}),C&&We.createElement(Yve,Ci({scrollLeft:s},D)))}),n0e=`.timeline-editor {
  height: 600px;
  width: 600px;
  min-height: 32px;
  position: relative;
  font-size: 12px;
  font-family: "PingFang SC";
  background-color: #191b1d;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}
`;Xm(n0e);var i0e=`.timeline-editor-time-area {
  position: relative;
  height: 32px;
  flex: 0 0 auto;
}
.timeline-editor-time-area .ReactVirtualized__Grid {
  outline: none;
}
.timeline-editor-time-area .ReactVirtualized__Grid::-webkit-scrollbar {
  display: none;
}
.timeline-editor-time-area-interact {
  position: absolute;
  cursor: pointer;
  left: 0;
  top: 0;
}
.timeline-editor-time-unit {
  border-right: 1px solid rgba(255, 255, 255, 0.2);
  position: relative;
  box-sizing: content-box;
  height: 4px !important;
  bottom: 0 !important;
  top: auto !important;
}
.timeline-editor-time-unit-big {
  height: 8px !important;
}
.timeline-editor-time-unit-scale {
  color: rgba(255, 255, 255, 0.6);
  position: absolute;
  right: 0;
  top: 0;
  transform: translate(50%, -100%);
}
`;Xm(i0e);var r0e=function(e){var t=e.setCursor,r=e.maxScaleCount,a=e.hideCursor,o=e.scale,l=e.scaleWidth,s=e.scaleCount,u=e.scaleSplitCount,d=e.startLeft,g=e.scrollLeft,y=e.onClickTimeArea,_=e.getScaleRender,C=A.useRef(),c=u>0,p=function(E){var T=E.columnIndex,R=E.key,O=E.style,D=c?T%u===0:!0,P=["time-unit"];D&&P.push("time-unit-big");var F=(c?T/u:T)*o;return We.createElement("div",{key:R,style:O,className:Po.apply(void 0,P)},D&&We.createElement("div",{className:Po("time-unit-scale")},_?_(F):F))};A.useEffect(function(){var b;(b=C.current)===null||b===void 0||b.recomputeGridSize()},[l,d]);var m=function(E){switch(E.index){case 0:return d;default:return c?l/u:l}};return We.createElement("div",{className:Po("time-area")},We.createElement(lB,null,function(b){var E=b.width,T=b.height;return We.createElement(We.Fragment,null,We.createElement(Xu,{ref:C,columnCount:c?s*u+1:s,columnWidth:m,rowCount:1,rowHeight:T,width:E,height:T,overscanRowCount:0,overscanColumnCount:10,cellRenderer:p,scrollLeft:g}),We.createElement("div",{style:{width:E,height:T},onClick:function(O){if(!a){var D=O.currentTarget.getBoundingClientRect(),P=O.clientX-D.x,F=Math.max(P+g,d);if(!(F>r*l+d-g)){var U=Nm(F,{startLeft:d,scale:o,scaleWidth:l}),z=y&&y(U,O);z!==!1&&t({time:U})}}},className:Po("time-area-interact")}))}))},a0e=We.forwardRef(function(n,e){var t=Fve(n),r=n.style,a=t.effects,o=t.editorData,l=t.scrollTop,s=t.autoScroll,u=t.hideCursor,d=t.disableDrag,g=t.scale,y=t.scaleWidth,_=t.startLeft,C=t.minScaleCount,c=t.maxScaleCount,p=t.onChange,m=t.engine,b=t.autoReRender,E=b===void 0?!0:b,T=t.onScroll,R=A.useRef(m||new Nve),O=A.useRef(),D=A.useRef(),P=A.useRef(),F=A.useState(o),U=cm(F,2),z=U[0],$=U[1],J=A.useState(cO),W=cm(J,2),Z=W[0],oe=W[1],Y=A.useState(zve),K=cm(Y,2),ee=K[0],ue=K[1],q=A.useState(!1),ie=cm(q,2),me=ie[0],de=ie[1],Q=A.useState(Number.MAX_SAFE_INTEGER),he=cm(Q,2),xe=he[0],Oe=he[1];A.useLayoutEffect(function(){Ae(Hve(o,{scale:g})),$(o)},[o,C,c,g]),A.useEffect(function(){R.current.effects=a},[a]),A.useEffect(function(){R.current.data=z},[z]),A.useEffect(function(){E&&R.current.reRender()},[z]),A.useEffect(function(){P.current&&P.current.setState({scrollTop:l})},[l]);var Ae=function(Ce){var re=Math.min(c,Math.max(C,Ce));oe(re)},Te=function(Ce){var re=p(Ce);re!==!1&&(R.current.data=Ce,E&&R.current.reRender())},ze=function(Ce){var re=Ce.left,Fe=Ce.time,Ie=Ce.updateTime,Ye=Ie===void 0?!0:Ie;if(!(typeof re>"u"&&typeof Fe>"u")){typeof Fe>"u"&&(typeof re>"u"&&(re=nf(Fe,{startLeft:_,scale:g,scaleWidth:y})),Fe=Nm(re,{startLeft:_,scale:g,scaleWidth:y}));var ke=!0;return Ye&&(ke=R.current.setTime(Fe),E&&R.current.reRender()),ke&&ue(Fe),ke}},vt=function(Ce){var re=P.current.state.scrollLeft+Ce;re>Z*(y-1)+_-xe||P.current&&P.current.setState({scrollLeft:Math.max(P.current.state.scrollLeft+Ce,0)})};return A.useEffect(function(){var Be=function(Ie){var Ye=Ie.time;ze({time:Ye,updateTime:!1})},Ce=function(){return de(!0)},re=function(){return de(!1)};R.current.on("setTimeByTick",Be),R.current.on("play",Ce),R.current.on("paused",re)},[]),A.useImperativeHandle(e,function(){return{get target(){return O.current},get listener(){return R.current},get isPlaying(){return R.current.isPlaying},get isPaused(){return R.current.isPaused},setPlayRate:R.current.setPlayRate.bind(R.current),getPlayRate:R.current.getPlayRate.bind(R.current),setTime:function(Ce){return ze({time:Ce})},getTime:R.current.getTime.bind(R.current),reRender:R.current.reRender.bind(R.current),play:function(Ce){return R.current.play(Ci({},Ce))},pause:R.current.pause.bind(R.current),setScrollLeft:function(Ce){P.current&&P.current.setState({scrollLeft:Math.max(Ce,0)})},setScrollTop:function(Ce){P.current&&P.current.setState({scrollTop:Math.max(Ce,0)})}}}),A.useEffect(function(){if(D.current){var Be=new ResizeObserver(function(){D.current&&Oe(D.current.getBoundingClientRect().width)});return Be.observe(D.current),function(){Be&&Be.disconnect()}}},[]),We.createElement("div",{ref:O,style:r,className:"".concat(oO," ").concat(d?oO+"-disable":"")},We.createElement(v5,{ref:P},function(Be){var Ce=Be.scrollLeft,re=Be.scrollTop,Fe=Be.onScroll;return We.createElement(We.Fragment,null,We.createElement(r0e,Ci(Ci({},t),{},{timelineWidth:xe,disableDrag:d||me,setCursor:ze,cursorTime:ee,editorData:z,scaleCount:Z,setScaleCount:Ae,onScroll:Fe,scrollLeft:Ce})),We.createElement(t0e,Ci(Ci({},t),{},{timelineWidth:xe,ref:function(Ye){return D.current=Ye==null?void 0:Ye.domRef.current},disableDrag:d||me,editorData:z,cursorTime:ee,scaleCount:Z,setScaleCount:Ae,scrollTop:re,scrollLeft:Ce,setEditorData:Te,deltaScrollLeft:s&&vt,onScroll:function(Ye){Fe(Ye),T&&T(Ye)}})),!u&&We.createElement(Wve,Ci(Ci({},t),{},{timelineWidth:xe,disableDrag:me,scrollLeft:Ce,scaleCount:Z,setScaleCount:Ae,setCursor:ze,cursorTime:ee,editorData:z,areaRef:D,scrollSync:P,deltaScrollLeft:s&&vt})))}))});const o0e="/SyncWorld/assets/01-SVCgjpr3.mp4",s0e="/SyncWorld/assets/02-Rc06ZH0H.mp4",l0e="/SyncWorld/assets/03-Ld3QXp4t.mp4",c0e="_canvasWrap_3zlrq_1",u0e="_videoIcon_3zlrq_4",rd={canvasWrap:c0e,videoIcon:u0e};async function f0e(n="mp4"){return(await window.showSaveFilePicker({suggestedName:`WebAV-export-${Date.now()}.${n}`})).createWritable()}const Nz=new URLSearchParams(location.search).get("UHA"),lR=["no-preference","prefer-hardware","prefer-software"].includes(Nz)?Nz:void 0,d0e=({timelineData:n,onPreviewTime:e,onOffsetChange:t,onDurationChange:r,onDeleteAction:a,timelineState:o,onSplitAction:l})=>{const[s,u]=A.useState(10),[d,g]=A.useState(null);return ut.jsxs(ut.Fragment,{children:[ut.jsx(Ul,{title:"缩放",children:ut.jsx(fo,{type:"text",icon:ut.jsx(sU,{className:rd.videoIcon}),onClick:()=>u(s+1)})}),ut.jsx(Ul,{title:"缩放",children:ut.jsx(fo,{type:"text",icon:ut.jsx(oU,{className:rd.videoIcon}),onClick:()=>u(s-1>1?s-1:1)})}),ut.jsx(Ul,{title:"删除",children:ut.jsx(fo,{type:"text",icon:ut.jsx(nU,{className:rd.videoIcon}),disabled:d==null,onClick:()=>{d!=null&&a(d)}})}),ut.jsx(Ul,{title:"分割",children:ut.jsx(fo,{type:"text",icon:ut.jsx(hV,{className:rd.videoIcon}),disabled:d==null,onClick:()=>{d!=null&&l(d)}})}),ut.jsx(a0e,{ref:y=>{y!=null&&(o.current=y)},onChange:()=>{},style:{width:"100%",height:"200px"},scale:s,editorData:n,effects:{},scaleSplitCount:5,onClickTimeArea:y=>(e(y),!0),onCursorDragEnd:y=>{e(y)},onActionResizing:({dir:y,action:_,start:C,end:c})=>y==="left"?!1:r({action:_,start:C,end:c}),onActionMoveEnd:({action:y})=>{t(y)},onClickAction:(y,{action:_})=>{g(_)},getActionRender:y=>{const _="h-full justify-center items-center flex text-white";return y.id===(d==null?void 0:d.id)?ut.jsx("div",{className:`${_} border border-red-300 border-solid box-border`,children:y.name}):ut.jsx("div",{className:_,children:y.name})},autoScroll:!0})]})},Gp=new WeakMap;let zz=0;const Uz=[o0e,s0e,l0e];function h0e(){const[n,e]=A.useState(null),t=A.useRef(void 0),[r,a]=A.useState(!1),[o,l]=A.useState(null),[s,u]=A.useState(null),[d,g]=A.useState([{id:"1-video",actions:[]},{id:"2-audio",actions:[]},{id:"3-img",actions:[]},{id:"4-text",actions:[]}]),y=()=>{if(s==null)return;n==null||n.destroy();const C=o==null?void 0:o.parentElement;if(!C)return;const{width:c,height:p}=C.getBoundingClientRect(),m=new kme(s,{bgColor:"#1A1B1E",width:c-24,height:p-270});e(m),m.on("timeupdate",b=>{t.current!=null&&t.current.setTime(b/1e6)}),m.on("playing",()=>{a(!0)}),m.on("paused",()=>{a(!1)})};A.useEffect(()=>(y(),window.addEventListener("resize",y),()=>{window.removeEventListener("resize",y)}),[s]),A.useEffect(()=>{if(!n)return;const C=async()=>{const c=(await fetch(Uz[zz%Uz.length])).body;zz++;const p=new nR(new tz(c,{__unsafe_hardwareAcceleration__:lR}));await(n==null?void 0:n.addSprite(p)),_("1-video",p,"视频")};return window.addEventListener("resize",y),b2.on(S2.ADD_FAKE_VIDEO,C),()=>{b2.off(S2.ADD_FAKE_VIDEO,C)}},[n]);function _(C,c,p=""){const m=d.find(({id:T})=>T===C);if(m==null)return null;const b=c.time.offset===0?Math.max(...m.actions.map(T=>T.end),0)*1e6:c.time.offset;c.time.offset=b,c.time.duration===1/0&&(c.time.duration=1e7);const E={id:Math.random().toString(),start:b/1e6,end:(c.time.offset+c.time.duration)/1e6,effectId:"",name:p};return Gp.set(E,c),m.actions.push(E),g(d.filter(T=>T!==m).concat({...m}).sort((T,R)=>T.id.charCodeAt(0)-R.id.charCodeAt(0))),E}return ut.jsxs("div",{className:rd.canvasWrap,ref:C=>l(C),children:[ut.jsx("div",{ref:C=>u(C)}),ut.jsx(Ul,{title:"本地导入",children:ut.jsx(fo,{type:"text",icon:ut.jsx(yV,{className:rd.videoIcon}),onClick:async()=>{const C=(await p0e({"video/*":[".mp4",".mov"]})).stream(),c=new nR(new tz(C,{__unsafe_hardwareAcceleration__:lR}));await(n==null?void 0:n.addSprite(c)),_("1-video",c,"视频")}})}),ut.jsx(Ul,{title:"播放",children:ut.jsx(fo,{type:"text",icon:r?ut.jsx(V$,{className:rd.videoIcon}):ut.jsx(K$,{className:rd.videoIcon}),onClick:async()=>{n==null||t.current==null||(r?n.pause():n.play({start:t.current.getTime()*1e6}))}})}),ut.jsx(Ul,{title:"导出",children:ut.jsx(fo,{type:"text",icon:ut.jsx(E$,{className:rd.videoIcon}),onClick:async()=>{n!=null&&(await n.createCombinator({__unsafe_hardwareAcceleration__:lR})).output().pipeTo(await f0e())}})}),ut.jsx(d0e,{timelineData:d,timelineState:t,onPreviewTime:C=>{n==null||n.previewFrame(C*1e6)},onOffsetChange:C=>{const c=Gp.get(C);c!=null&&(c.time.offset=C.start*1e6)},onDurationChange:({action:C,start:c,end:p})=>{const m=Gp.get(C);if(m==null)return!1;const b=(p-c)*1e6;return b>m.getClip().meta.duration?!1:(m.time.duration=b,!0)},onDeleteAction:C=>{const c=Gp.get(C);if(c==null)return;n==null||n.removeSprite(c),Gp.delete(C);const p=d.map(m=>m.actions).find(m=>m.includes(C));p!=null&&(p.splice(p.indexOf(C),1),g([...d]))},onSplitAction:async C=>{const c=Gp.get(C);if(n==null||c==null||t.current==null)return;const p=await c.getClip().split(t.current.getTime()*1e6-c.time.offset);n.removeSprite(c),Gp.delete(C);const m=d.find(T=>T.actions.includes(C));if(m==null)return;m.actions.splice(m.actions.indexOf(C),1),g([...d]);const b=[t.current.getTime()*1e6-c.time.offset,c.time.duration-(t.current.getTime()*1e6-c.time.offset)],E=[c.time.offset,c.time.offset+b[0]];for(let T=0;T<p.length;T++){const R=p[T],O=new nR(R);R instanceof lme&&(O.time.duration=b[T]),O.time.offset=E[T],await n.addSprite(O),_(m.id,O,C.name)}}})]})}async function p0e(n){const[e]=await window.showOpenFilePicker({types:[{accept:n}]});return await e.getFile()}const m0e=()=>ut.jsxs(Dc,{style:{height:"100%"},children:[ut.jsx(co,{flex:"436px",className:NL.formPanel,children:ut.jsx(Xhe,{})}),ut.jsx(co,{flex:"auto",className:NL.videoWrapper,children:ut.jsx(h0e,{})})]});function g0e(n,e){if(n==null)return{};var t=v0e(n,e),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(a=0;a<o.length;a++)r=o[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function v0e(n,e){if(n==null)return{};var t={},r=Object.keys(n),a,o;for(o=0;o<r.length;o++)a=r[o],!(e.indexOf(a)>=0)&&(t[a]=n[a]);return t}function JE(){return JE=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},JE.apply(this,arguments)}function Fz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function ab(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Fz(Object(t),!0).forEach(function(r){y0e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Fz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function y0e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const b0e={breakpointCols:void 0,className:void 0,columnClassName:void 0,children:void 0,columnAttrs:void 0,column:void 0},cR=2;class B5 extends We.Component{constructor(e){super(e),this.reCalculateColumnCount=this.reCalculateColumnCount.bind(this),this.reCalculateColumnCountDebounce=this.reCalculateColumnCountDebounce.bind(this);let t;this.props.breakpointCols&&this.props.breakpointCols.default?t=this.props.breakpointCols.default:t=parseInt(this.props.breakpointCols)||cR,this.state={columnCount:t}}componentDidMount(){this.reCalculateColumnCount(),window&&window.addEventListener("resize",this.reCalculateColumnCountDebounce)}componentDidUpdate(){this.reCalculateColumnCount()}componentWillUnmount(){window&&window.removeEventListener("resize",this.reCalculateColumnCountDebounce)}reCalculateColumnCountDebounce(){if(!window||!window.requestAnimationFrame){this.reCalculateColumnCount();return}window.cancelAnimationFrame&&window.cancelAnimationFrame(this._lastRecalculateAnimationFrame),this._lastRecalculateAnimationFrame=window.requestAnimationFrame(()=>{this.reCalculateColumnCount()})}reCalculateColumnCount(){const e=window&&window.innerWidth||1/0;let t=this.props.breakpointCols;typeof t!="object"&&(t={default:parseInt(t)||cR});let r=1/0,a=t.default||cR;for(let o in t){const l=parseInt(o);l>0&&e<=l&&l<r&&(r=l,a=t[o])}a=Math.max(1,parseInt(a)||1),this.state.columnCount!==a&&this.setState({columnCount:a})}itemsInColumns(){const e=this.state.columnCount,t=new Array(e),r=We.Children.toArray(this.props.children);for(let a=0;a<r.length;a++){const o=a%e;t[o]||(t[o]=[]),t[o].push(r[a])}return t}renderColumns(){const{column:e,columnAttrs:t={},columnClassName:r}=this.props,a=this.itemsInColumns(),o=`${100/a.length}%`;let l=r;l&&typeof l!="string"&&(this.logDeprecated('The property "columnClassName" requires a string'),typeof l>"u"&&(l="my-masonry-grid_column"));const s=ab(ab(ab({},e),t),{},{style:ab(ab({},t.style),{},{width:o}),className:l});return a.map((u,d)=>We.createElement("div",JE({},s,{key:d}),u))}logDeprecated(e){console.error("[Masonry]",e)}render(){const e=this.props,{children:t,breakpointCols:r,columnClassName:a,columnAttrs:o,column:l,className:s}=e,u=g0e(e,["children","breakpointCols","columnClassName","columnAttrs","column","className"]);let d=s;return typeof s!="string"&&(this.logDeprecated('The property "className" requires a string'),typeof s>"u"&&(d="my-masonry-grid")),We.createElement("div",JE({},u,{className:d}),this.renderColumns())}}B5.defaultProps=b0e;const S0e="_masonryGrid_ejt6d_2",_0e="_masonryColumn_ejt6d_10",x0e="_masonryItem_ejt6d_14",C0e="_skeleton_ejt6d_17",E0e="_loadingTrigger_ejt6d_26",hv={masonryGrid:S0e,masonryColumn:_0e,masonryItem:x0e,skeleton:C0e,loadingTrigger:E0e},Hz=()=>{const n=Math.floor(Math.random()*300+200);return{width:300,height:n,src:`https://picsum.photos/300/${n}`,loaded:!1}},w0e=()=>{const[n,e]=A.useState(Array.from({length:10},Hz)),[t,r]=A.useState(!1),a=A.useRef(null),o=A.useCallback(()=>{t||(r(!0),setTimeout(()=>{e(s=>[...s,...Array.from({length:10},Hz)]),r(!1)},1500))},[t]);A.useEffect(()=>{const s=new IntersectionObserver(u=>{u[0].isIntersecting&&o()},{rootMargin:"100px"});return a.current&&s.observe(a.current),()=>s.disconnect()},[o]);const l=s=>{e(u=>u.map((d,g)=>g===s?{...d,loaded:!0}:d))};return ut.jsxs("div",{className:hv.waterfallContainer,children:[ut.jsx(B5,{breakpointCols:{default:4,1100:3,768:2,500:1},className:hv.masonryGrid,columnClassName:hv.masonryColumn,children:n.map((s,u)=>ut.jsxs("div",{className:hv.masonryItem,children:[!s.loaded&&ut.jsx(Hm.Image,{className:hv.skeleton}),ut.jsx(Kv,{src:s.src,width:"100%",style:{display:s.loaded?"block":"none"},onLoad:()=>l(u)})]},u))}),ut.jsx("div",{ref:a,className:hv.loadingTrigger,children:t&&ut.jsx(SH,{size:"large"})})]})},A0e="_userContainer_138vs_1",M0e={userContainer:A0e},T0e=()=>ut.jsxs("div",{className:M0e.userContainer,children:[ut.jsx(Dc,{children:ut.jsx(T4,{size:100,icon:ut.jsx(aU,{}),style:{margin:"0 auto"}})}),ut.jsx(Dc,{children:ut.jsxs(co,{span:24,children:[ut.jsx("p",{children:"用户名: 张三"}),ut.jsx("p",{children:"用户简介: 一个热爱编程的开发者"})]})}),ut.jsxs(Dc,{gutter:16,style:{marginTop:20},children:[ut.jsx(co,{span:12,children:ut.jsx("p",{children:"粉丝: 1200"})}),ut.jsx(co,{span:12,children:ut.jsx("p",{children:"关注: 800"})}),ut.jsx(co,{span:12,children:ut.jsx("p",{children:"作品被使用: 50 次"})}),ut.jsx(co,{span:12,children:ut.jsx("p",{children:"作品获赞: 500 次"})})]})]}),R0e="/SyncWorld/assets/logo-bKxNxiH-.png",{Header:O0e,Content:I0e,Sider:B0e}=Gm,D0e=[{key:"/preview",icon:ut.jsx(n$,{}),label:"灵感广场"},{key:"/video",icon:ut.jsx(CV,{}),label:"视频生成"},{key:"/user",icon:ut.jsx(aU,{}),label:"用户中心"}],P0e=()=>{const n=Vh(),e=NH();return ut.jsx(BS,{className:GC.sideMenu,mode:"inline",selectedKeys:[n.pathname],onClick:t=>e(t.key),items:D0e})},L0e=()=>ut.jsxs(Une,{children:[ut.jsx(O0e,{className:GC.navBar,style:{display:"flex",alignItems:"center"},children:ut.jsx("img",{src:R0e,alt:"logo",style:{width:"40px",height:"40px"}})}),ut.jsxs(Gm,{children:[ut.jsx(B0e,{width:200,style:{borderTop:"1px"},className:GC.sideBar,children:ut.jsx(P0e,{})}),ut.jsx(I0e,{className:GC.content,children:ut.jsxs(mne,{children:[ut.jsx(kC,{path:"/preview",element:ut.jsx(w0e,{})}),ut.jsx(kC,{path:"/video",element:ut.jsx(m0e,{})}),ut.jsx(kC,{path:"/user",element:ut.jsx(T0e,{})})]})})]})]});Ck.createRoot(document.getElementById("root")).render(ut.jsx(A.StrictMode,{children:ut.jsx(L0e,{})}));
