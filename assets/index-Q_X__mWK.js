function ZN(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in n)){const o=Object.getOwnPropertyDescriptor(r,a);o&&Object.defineProperty(n,a,o.get?o:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();function Mm(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var EM={exports:{}},gy={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h3;function gk(){if(h3)return gy;h3=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,o){var l=null;if(o!==void 0&&(l=""+o),a.key!==void 0&&(l=""+a.key),"key"in a){o={};for(var s in a)s!=="key"&&(o[s]=a[s])}else o=a;return a=o.ref,{$$typeof:n,type:r,key:l,ref:a!==void 0?a:null,props:o}}return gy.Fragment=e,gy.jsx=t,gy.jsxs=t,gy}var p3;function vk(){return p3||(p3=1,EM.exports=gk()),EM.exports}var xt=vk(),MM={exports:{}},fi={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m3;function yk(){if(m3)return fi;m3=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.iterator;function x(q){return q===null||typeof q!="object"?null:(q=_&&q[_]||q["@@iterator"],typeof q=="function"?q:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},c=Object.assign,p={};function m(q,J,he){this.props=q,this.context=J,this.refs=p,this.updater=he||C}m.prototype.isReactComponent={},m.prototype.setState=function(q,J){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,J,"setState")},m.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function b(){}b.prototype=m.prototype;function w(q,J,he){this.props=q,this.context=J,this.refs=p,this.updater=he||C}var A=w.prototype=new b;A.constructor=w,c(A,m.prototype),A.isPureReactComponent=!0;var R=Array.isArray,O={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function D(q,J,he,ue,j,pe){return he=pe.ref,{$$typeof:n,type:q,key:J,ref:he!==void 0?he:null,props:pe}}function F(q,J){return D(q.type,J,void 0,void 0,void 0,q.props)}function B(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function U(q){var J={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(he){return J[he]})}var V=/\/+/g;function Q(q,J){return typeof q=="object"&&q!==null&&q.key!=null?U(""+q.key):J.toString(36)}function X(){}function ee(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(X,X):(q.status="pending",q.then(function(J){q.status==="pending"&&(q.status="fulfilled",q.value=J)},function(J){q.status==="pending"&&(q.status="rejected",q.reason=J)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function ae(q,J,he,ue,j){var pe=typeof q;(pe==="undefined"||pe==="boolean")&&(q=null);var _e=!1;if(q===null)_e=!0;else switch(pe){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(q.$$typeof){case n:case e:_e=!0;break;case v:return _e=q._init,ae(_e(q._payload),J,he,ue,j)}}if(_e)return j=j(q),_e=ue===""?"."+Q(q,0):ue,R(j)?(he="",_e!=null&&(he=_e.replace(V,"$&/")+"/"),ae(j,J,he,"",function(Ae){return Ae})):j!=null&&(B(j)&&(j=F(j,he+(j.key==null||q&&q.key===j.key?"":(""+j.key).replace(V,"$&/")+"/")+_e)),J.push(j)),1;_e=0;var Re=ue===""?".":ue+":";if(R(q))for(var Me=0;Me<q.length;Me++)ue=q[Me],pe=Re+Q(ue,Me),_e+=ae(ue,J,he,pe,j);else if(Me=x(q),typeof Me=="function")for(q=Me.call(q),Me=0;!(ue=q.next()).done;)ue=ue.value,pe=Re+Q(ue,Me++),_e+=ae(ue,J,he,pe,j);else if(pe==="object"){if(typeof q.then=="function")return ae(ee(q),J,he,ue,j);throw J=String(q),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return _e}function Z(q,J,he){if(q==null)return q;var ue=[],j=0;return ae(q,ue,"","",function(pe){return J.call(he,pe,j++)}),ue}function K(q){if(q._status===-1){var J=q._result;J=J(),J.then(function(he){(q._status===0||q._status===-1)&&(q._status=1,q._result=he)},function(he){(q._status===0||q._status===-1)&&(q._status=2,q._result=he)}),q._status===-1&&(q._status=0,q._result=J)}if(q._status===1)return q._result.default;throw q._result}var te=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)};function ce(){}return fi.Children={map:Z,forEach:function(q,J,he){Z(q,function(){J.apply(this,arguments)},he)},count:function(q){var J=0;return Z(q,function(){J++}),J},toArray:function(q){return Z(q,function(J){return J})||[]},only:function(q){if(!B(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},fi.Component=m,fi.Fragment=t,fi.Profiler=a,fi.PureComponent=w,fi.StrictMode=r,fi.Suspense=f,fi.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,fi.act=function(){throw Error("act(...) is not supported in production builds of React.")},fi.cache=function(q){return function(){return q.apply(null,arguments)}},fi.cloneElement=function(q,J,he){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var ue=c({},q.props),j=q.key,pe=void 0;if(J!=null)for(_e in J.ref!==void 0&&(pe=void 0),J.key!==void 0&&(j=""+J.key),J)!P.call(J,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&J.ref===void 0||(ue[_e]=J[_e]);var _e=arguments.length-2;if(_e===1)ue.children=he;else if(1<_e){for(var Re=Array(_e),Me=0;Me<_e;Me++)Re[Me]=arguments[Me+2];ue.children=Re}return D(q.type,j,void 0,void 0,pe,ue)},fi.createContext=function(q){return q={$$typeof:l,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:o,_context:q},q},fi.createElement=function(q,J,he){var ue,j={},pe=null;if(J!=null)for(ue in J.key!==void 0&&(pe=""+J.key),J)P.call(J,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(j[ue]=J[ue]);var _e=arguments.length-2;if(_e===1)j.children=he;else if(1<_e){for(var Re=Array(_e),Me=0;Me<_e;Me++)Re[Me]=arguments[Me+2];j.children=Re}if(q&&q.defaultProps)for(ue in _e=q.defaultProps,_e)j[ue]===void 0&&(j[ue]=_e[ue]);return D(q,pe,void 0,void 0,null,j)},fi.createRef=function(){return{current:null}},fi.forwardRef=function(q){return{$$typeof:s,render:q}},fi.isValidElement=B,fi.lazy=function(q){return{$$typeof:v,_payload:{_status:-1,_result:q},_init:K}},fi.memo=function(q,J){return{$$typeof:h,type:q,compare:J===void 0?null:J}},fi.startTransition=function(q){var J=O.T,he={};O.T=he;try{var ue=q(),j=O.S;j!==null&&j(he,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(ce,te)}catch(pe){te(pe)}finally{O.T=J}},fi.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},fi.use=function(q){return O.H.use(q)},fi.useActionState=function(q,J,he){return O.H.useActionState(q,J,he)},fi.useCallback=function(q,J){return O.H.useCallback(q,J)},fi.useContext=function(q){return O.H.useContext(q)},fi.useDebugValue=function(){},fi.useDeferredValue=function(q,J){return O.H.useDeferredValue(q,J)},fi.useEffect=function(q,J){return O.H.useEffect(q,J)},fi.useId=function(){return O.H.useId()},fi.useImperativeHandle=function(q,J,he){return O.H.useImperativeHandle(q,J,he)},fi.useInsertionEffect=function(q,J){return O.H.useInsertionEffect(q,J)},fi.useLayoutEffect=function(q,J){return O.H.useLayoutEffect(q,J)},fi.useMemo=function(q,J){return O.H.useMemo(q,J)},fi.useOptimistic=function(q,J){return O.H.useOptimistic(q,J)},fi.useReducer=function(q,J,he){return O.H.useReducer(q,J,he)},fi.useRef=function(q){return O.H.useRef(q)},fi.useState=function(q){return O.H.useState(q)},fi.useSyncExternalStore=function(q,J,he){return O.H.useSyncExternalStore(q,J,he)},fi.useTransition=function(){return O.H.useTransition()},fi.version="19.0.0",fi}var g3;function l0(){return g3||(g3=1,MM.exports=yk()),MM.exports}var M=l0();const We=Mm(M),RC=ZN({__proto__:null,default:We},[M]);var TM={exports:{}},vy={},AM={exports:{}},RM={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v3;function bk(){return v3||(v3=1,function(n){function e(Z,K){var te=Z.length;Z.push(K);e:for(;0<te;){var ce=te-1>>>1,q=Z[ce];if(0<a(q,K))Z[ce]=K,Z[te]=q,te=ce;else break e}}function t(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var K=Z[0],te=Z.pop();if(te!==K){Z[0]=te;e:for(var ce=0,q=Z.length,J=q>>>1;ce<J;){var he=2*(ce+1)-1,ue=Z[he],j=he+1,pe=Z[j];if(0>a(ue,te))j<q&&0>a(pe,ue)?(Z[ce]=pe,Z[j]=te,ce=j):(Z[ce]=ue,Z[he]=te,ce=he);else if(j<q&&0>a(pe,te))Z[ce]=pe,Z[j]=te,ce=j;else break e}}return K}function a(Z,K){var te=Z.sortIndex-K.sortIndex;return te!==0?te:Z.id-K.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,s=l.now();n.unstable_now=function(){return l.now()-s}}var f=[],h=[],v=1,_=null,x=3,C=!1,c=!1,p=!1,m=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function A(Z){for(var K=t(h);K!==null;){if(K.callback===null)r(h);else if(K.startTime<=Z)r(h),K.sortIndex=K.expirationTime,e(f,K);else break;K=t(h)}}function R(Z){if(p=!1,A(Z),!c)if(t(f)!==null)c=!0,ee();else{var K=t(h);K!==null&&ae(R,K.startTime-Z)}}var O=!1,P=-1,D=5,F=-1;function B(){return!(n.unstable_now()-F<D)}function U(){if(O){var Z=n.unstable_now();F=Z;var K=!0;try{e:{c=!1,p&&(p=!1,b(P),P=-1),C=!0;var te=x;try{t:{for(A(Z),_=t(f);_!==null&&!(_.expirationTime>Z&&B());){var ce=_.callback;if(typeof ce=="function"){_.callback=null,x=_.priorityLevel;var q=ce(_.expirationTime<=Z);if(Z=n.unstable_now(),typeof q=="function"){_.callback=q,A(Z),K=!0;break t}_===t(f)&&r(f),A(Z)}else r(f);_=t(f)}if(_!==null)K=!0;else{var J=t(h);J!==null&&ae(R,J.startTime-Z),K=!1}}break e}finally{_=null,x=te,C=!1}K=void 0}}finally{K?V():O=!1}}}var V;if(typeof w=="function")V=function(){w(U)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,X=Q.port2;Q.port1.onmessage=U,V=function(){X.postMessage(null)}}else V=function(){m(U,0)};function ee(){O||(O=!0,V())}function ae(Z,K){P=m(function(){Z(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Z){Z.callback=null},n.unstable_continueExecution=function(){c||C||(c=!0,ee())},n.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<Z?Math.floor(1e3/Z):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(Z){switch(x){case 1:case 2:case 3:var K=3;break;default:K=x}var te=x;x=K;try{return Z()}finally{x=te}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Z,K){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var te=x;x=Z;try{return K()}finally{x=te}},n.unstable_scheduleCallback=function(Z,K,te){var ce=n.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ce+te:ce):te=ce,Z){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=te+q,Z={id:v++,callback:K,priorityLevel:Z,startTime:te,expirationTime:q,sortIndex:-1},te>ce?(Z.sortIndex=te,e(h,Z),t(f)===null&&Z===t(h)&&(p?(b(P),P=-1):p=!0,ae(R,te-ce))):(Z.sortIndex=q,e(f,Z),c||C||(c=!0,ee())),Z},n.unstable_shouldYield=B,n.unstable_wrapCallback=function(Z){var K=x;return function(){var te=x;x=K;try{return Z.apply(this,arguments)}finally{x=te}}}}(RM)),RM}var y3;function zR(){return y3||(y3=1,AM.exports=bk()),AM.exports}var OM={exports:{}},Co={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b3;function _k(){if(b3)return Co;b3=1;var n=l0();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,h,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:f,containerInfo:h,implementation:v}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function s(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Co.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Co.createPortal=function(f,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(f,h,null,v)},Co.flushSync=function(f){var h=l.T,v=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=h,r.p=v,r.d.f()}},Co.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},Co.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Co.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var v=h.as,_=s(v,h.crossOrigin),x=typeof h.integrity=="string"?h.integrity:void 0,C=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;v==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:_,integrity:x,fetchPriority:C}):v==="script"&&r.d.X(f,{crossOrigin:_,integrity:x,fetchPriority:C,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Co.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var v=s(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},Co.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var v=h.as,_=s(v,h.crossOrigin);r.d.L(f,v,{crossOrigin:_,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Co.preloadModule=function(f,h){if(typeof f=="string")if(h){var v=s(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},Co.requestFormReset=function(f){r.d.r(f)},Co.unstable_batchedUpdates=function(f,h){return f(h)},Co.useFormState=function(f,h,v){return l.H.useFormState(f,h,v)},Co.useFormStatus=function(){return l.H.useHostTransitionStatus()},Co.version="19.0.0",Co}var _3;function KN(){if(_3)return OM.exports;_3=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),OM.exports=_k(),OM.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S3;function Sk(){if(S3)return vy;S3=1;var n=zR(),e=l0(),t=KN();function r(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)d+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}var o=Symbol.for("react.element"),l=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),C=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),R=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function P(u){return u===null||typeof u!="object"?null:(u=O&&u[O]||u["@@iterator"],typeof u=="function"?u:null)}var D=Symbol.for("react.client.reference");function F(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===D?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case f:return"Fragment";case s:return"Portal";case v:return"Profiler";case h:return"StrictMode";case p:return"Suspense";case m:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case C:return(u.displayName||"Context")+".Provider";case x:return(u._context.displayName||"Context")+".Consumer";case c:var d=u.render;return u=u.displayName,u||(u=d.displayName||d.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case b:return d=u.displayName||null,d!==null?d:F(u.type)||"Memo";case w:d=u._payload,u=u._init;try{return F(u(d))}catch{}}return null}var B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=Object.assign,V,Q;function X(u){if(V===void 0)try{throw Error()}catch(S){var d=S.stack.trim().match(/\n( *(at )?)/);V=d&&d[1]||"",Q=-1<S.stack.indexOf(`
    at`)?" (<anonymous>)":-1<S.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V+u+Q}var ee=!1;function ae(u,d){if(!u||ee)return"";ee=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var E={DetermineComponentFrameRoot:function(){try{if(d){var Ft=function(){throw Error()};if(Object.defineProperty(Ft.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ft,[])}catch(Et){var ft=Et}Reflect.construct(u,[],Ft)}else{try{Ft.call()}catch(Et){ft=Et}u.call(Ft.prototype)}}else{try{throw Error()}catch(Et){ft=Et}(Ft=u())&&typeof Ft.catch=="function"&&Ft.catch(function(){})}}catch(Et){if(Et&&ft&&typeof Et.stack=="string")return[Et.stack,ft.stack]}return[null,null]}};E.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var L=Object.getOwnPropertyDescriptor(E.DetermineComponentFrameRoot,"name");L&&L.configurable&&Object.defineProperty(E.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var k=E.DetermineComponentFrameRoot(),ie=k[0],ge=k[1];if(ie&&ge){var Oe=ie.split(`
`),Xe=ge.split(`
`);for(L=E=0;E<Oe.length&&!Oe[E].includes("DetermineComponentFrameRoot");)E++;for(;L<Xe.length&&!Xe[L].includes("DetermineComponentFrameRoot");)L++;if(E===Oe.length||L===Xe.length)for(E=Oe.length-1,L=Xe.length-1;1<=E&&0<=L&&Oe[E]!==Xe[L];)L--;for(;1<=E&&0<=L;E--,L--)if(Oe[E]!==Xe[L]){if(E!==1||L!==1)do if(E--,L--,0>L||Oe[E]!==Xe[L]){var Tt=`
`+Oe[E].replace(" at new "," at ");return u.displayName&&Tt.includes("<anonymous>")&&(Tt=Tt.replace("<anonymous>",u.displayName)),Tt}while(1<=E&&0<=L);break}}}finally{ee=!1,Error.prepareStackTrace=S}return(S=u?u.displayName||u.name:"")?X(S):""}function Z(u){switch(u.tag){case 26:case 27:case 5:return X(u.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 15:return u=ae(u.type,!1),u;case 11:return u=ae(u.type.render,!1),u;case 1:return u=ae(u.type,!0),u;default:return""}}function K(u){try{var d="";do d+=Z(u),u=u.return;while(u);return d}catch(S){return`
Error generating stack: `+S.message+`
`+S.stack}}function te(u){var d=u,S=u;if(u.alternate)for(;d.return;)d=d.return;else{u=d;do d=u,(d.flags&4098)!==0&&(S=d.return),u=d.return;while(u)}return d.tag===3?S:null}function ce(u){if(u.tag===13){var d=u.memoizedState;if(d===null&&(u=u.alternate,u!==null&&(d=u.memoizedState)),d!==null)return d.dehydrated}return null}function q(u){if(te(u)!==u)throw Error(r(188))}function J(u){var d=u.alternate;if(!d){if(d=te(u),d===null)throw Error(r(188));return d!==u?null:u}for(var S=u,E=d;;){var L=S.return;if(L===null)break;var k=L.alternate;if(k===null){if(E=L.return,E!==null){S=E;continue}break}if(L.child===k.child){for(k=L.child;k;){if(k===S)return q(L),u;if(k===E)return q(L),d;k=k.sibling}throw Error(r(188))}if(S.return!==E.return)S=L,E=k;else{for(var ie=!1,ge=L.child;ge;){if(ge===S){ie=!0,S=L,E=k;break}if(ge===E){ie=!0,E=L,S=k;break}ge=ge.sibling}if(!ie){for(ge=k.child;ge;){if(ge===S){ie=!0,S=k,E=L;break}if(ge===E){ie=!0,E=k,S=L;break}ge=ge.sibling}if(!ie)throw Error(r(189))}}if(S.alternate!==E)throw Error(r(190))}if(S.tag!==3)throw Error(r(188));return S.stateNode.current===S?u:d}function he(u){var d=u.tag;if(d===5||d===26||d===27||d===6)return u;for(u=u.child;u!==null;){if(d=he(u),d!==null)return d;u=u.sibling}return null}var ue=Array.isArray,j=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},_e=[],Re=-1;function Me(u){return{current:u}}function Ae(u){0>Re||(u.current=_e[Re],_e[Re]=null,Re--)}function Ue(u,d){Re++,_e[Re]=u.current,u.current=d}var gt=Me(null),ze=Me(null),we=Me(null),re=Me(null);function Fe(u,d){switch(Ue(we,d),Ue(ze,u),Ue(gt,null),u=d.nodeType,u){case 9:case 11:d=(d=d.documentElement)&&(d=d.namespaceURI)?$I(d):0;break;default:if(u=u===8?d.parentNode:d,d=u.tagName,u=u.namespaceURI)u=$I(u),d=VI(u,d);else switch(d){case"svg":d=1;break;case"math":d=2;break;default:d=0}}Ae(gt),Ue(gt,d)}function Ie(){Ae(gt),Ae(ze),Ae(we)}function Ye(u){u.memoizedState!==null&&Ue(re,u);var d=gt.current,S=VI(d,u.type);d!==S&&(Ue(ze,u),Ue(gt,S))}function $e(u){ze.current===u&&(Ae(gt),Ae(ze)),re.current===u&&(Ae(re),fy._currentValue=pe)}var lt=Object.prototype.hasOwnProperty,ot=n.unstable_scheduleCallback,fe=n.unstable_cancelCallback,oe=n.unstable_shouldYield,Ee=n.unstable_requestPaint,Pe=n.unstable_now,qe=n.unstable_getCurrentPriorityLevel,He=n.unstable_ImmediatePriority,mt=n.unstable_UserBlockingPriority,st=n.unstable_NormalPriority,ht=n.unstable_LowPriority,It=n.unstable_IdlePriority,at=n.log,_t=n.unstable_setDisableYieldValue,wt=null,je=null;function it(u){if(je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(wt,u,void 0,(u.current.flags&128)===128)}catch{}}function Se(u){if(typeof at=="function"&&_t(u),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(wt,u)}catch{}}var ke=Math.clz32?Math.clz32:St,bt=Math.log,Te=Math.LN2;function St(u){return u>>>=0,u===0?32:31-(bt(u)/Te|0)|0}var Qe=128,pt=4194304;function Lt(u){var d=u&42;if(d!==0)return d;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function zt(u,d){var S=u.pendingLanes;if(S===0)return 0;var E=0,L=u.suspendedLanes,k=u.pingedLanes,ie=u.warmLanes;u=u.finishedLanes!==0;var ge=S&134217727;return ge!==0?(S=ge&~L,S!==0?E=Lt(S):(k&=ge,k!==0?E=Lt(k):u||(ie=ge&~ie,ie!==0&&(E=Lt(ie))))):(ge=S&~L,ge!==0?E=Lt(ge):k!==0?E=Lt(k):u||(ie=S&~ie,ie!==0&&(E=Lt(ie)))),E===0?0:d!==0&&d!==E&&(d&L)===0&&(L=E&-E,ie=d&-d,L>=ie||L===32&&(ie&4194176)!==0)?d:E}function Jt(u,d){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&d)===0}function cn(u,d){switch(u){case 1:case 2:case 4:case 8:return d+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zt(){var u=Qe;return Qe<<=1,(Qe&4194176)===0&&(Qe=128),u}function Dt(){var u=pt;return pt<<=1,(pt&62914560)===0&&(pt=4194304),u}function qt(u){for(var d=[],S=0;31>S;S++)d.push(u);return d}function _n(u,d){u.pendingLanes|=d,d!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function cr(u,d,S,E,L,k){var ie=u.pendingLanes;u.pendingLanes=S,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=S,u.entangledLanes&=S,u.errorRecoveryDisabledLanes&=S,u.shellSuspendCounter=0;var ge=u.entanglements,Oe=u.expirationTimes,Xe=u.hiddenUpdates;for(S=ie&~S;0<S;){var Tt=31-ke(S),Ft=1<<Tt;ge[Tt]=0,Oe[Tt]=-1;var ft=Xe[Tt];if(ft!==null)for(Xe[Tt]=null,Tt=0;Tt<ft.length;Tt++){var Et=ft[Tt];Et!==null&&(Et.lane&=-536870913)}S&=~Ft}E!==0&&Kr(u,E,0),k!==0&&L===0&&u.tag!==0&&(u.suspendedLanes|=k&~(ie&~d))}function Kr(u,d,S){u.pendingLanes|=d,u.suspendedLanes&=~d;var E=31-ke(d);u.entangledLanes|=d,u.entanglements[E]=u.entanglements[E]|1073741824|S&4194218}function Bn(u,d){var S=u.entangledLanes|=d;for(u=u.entanglements;S;){var E=31-ke(S),L=1<<E;L&d|u[E]&d&&(u[E]|=d),S&=~L}}function Ri(u){return u&=-u,2<u?8<u?(u&134217727)!==0?32:268435456:8:2}function xr(){var u=j.p;return u!==0?u:(u=window.event,u===void 0?32:s3(u.type))}function Tn(u,d){var S=j.p;try{return j.p=u,d()}finally{j.p=S}}var Rn=Math.random().toString(36).slice(2),ti="__reactFiber$"+Rn,dn="__reactProps$"+Rn,ai="__reactContainer$"+Rn,un="__reactEvents$"+Rn,Nr="__reactListeners$"+Rn,Ur="__reactHandles$"+Rn,Ir="__reactResources$"+Rn,zr="__reactMarker$"+Rn;function ur(u){delete u[ti],delete u[dn],delete u[un],delete u[Nr],delete u[Ur]}function wr(u){var d=u[ti];if(d)return d;for(var S=u.parentNode;S;){if(d=S[ai]||S[ti]){if(S=d.alternate,d.child!==null||S!==null&&S.child!==null)for(u=WI(u);u!==null;){if(S=u[ti])return S;u=WI(u)}return d}u=S,S=u.parentNode}return null}function le(u){if(u=u[ti]||u[ai]){var d=u.tag;if(d===5||d===6||d===13||d===26||d===27||d===3)return u}return null}function Be(u){var d=u.tag;if(d===5||d===26||d===27||d===6)return u.stateNode;throw Error(r(33))}function rt(u){var d=u[Ir];return d||(d=u[Ir]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function Ke(u){u[zr]=!0}var Ve=new Set,Rt={};function jt(u,d){Kt(u,d),Kt(u+"Capture",d)}function Kt(u,d){for(Rt[u]=d,u=0;u<d.length;u++)Ve.add(d[u])}var Xt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hn={},sn={};function $n(u){return lt.call(sn,u)?!0:lt.call(hn,u)?!1:bn.test(u)?sn[u]=!0:(hn[u]=!0,!1)}function Gn(u,d,S){if($n(d))if(S===null)u.removeAttribute(d);else{switch(typeof S){case"undefined":case"function":case"symbol":u.removeAttribute(d);return;case"boolean":var E=d.toLowerCase().slice(0,5);if(E!=="data-"&&E!=="aria-"){u.removeAttribute(d);return}}u.setAttribute(d,""+S)}}function Wn(u,d,S){if(S===null)u.removeAttribute(d);else{switch(typeof S){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(d);return}u.setAttribute(d,""+S)}}function Pn(u,d,S,E){if(E===null)u.removeAttribute(S);else{switch(typeof E){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(S);return}u.setAttributeNS(d,S,""+E)}}function Sn(u){switch(typeof u){case"bigint":case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function fn(u){var d=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function wi(u){var d=fn(u)?"checked":"value",S=Object.getOwnPropertyDescriptor(u.constructor.prototype,d),E=""+u[d];if(!u.hasOwnProperty(d)&&typeof S<"u"&&typeof S.get=="function"&&typeof S.set=="function"){var L=S.get,k=S.set;return Object.defineProperty(u,d,{configurable:!0,get:function(){return L.call(this)},set:function(ie){E=""+ie,k.call(this,ie)}}),Object.defineProperty(u,d,{enumerable:S.enumerable}),{getValue:function(){return E},setValue:function(ie){E=""+ie},stopTracking:function(){u._valueTracker=null,delete u[d]}}}}function Xn(u){u._valueTracker||(u._valueTracker=wi(u))}function Vn(u){if(!u)return!1;var d=u._valueTracker;if(!d)return!0;var S=d.getValue(),E="";return u&&(E=fn(u)?u.checked?"true":"false":u.value),u=E,u!==S?(d.setValue(u),!0):!1}function On(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}var En=/[\n"\\]/g;function ni(u){return u.replace(En,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function An(u,d,S,E,L,k,ie,ge){u.name="",ie!=null&&typeof ie!="function"&&typeof ie!="symbol"&&typeof ie!="boolean"?u.type=ie:u.removeAttribute("type"),d!=null?ie==="number"?(d===0&&u.value===""||u.value!=d)&&(u.value=""+Sn(d)):u.value!==""+Sn(d)&&(u.value=""+Sn(d)):ie!=="submit"&&ie!=="reset"||u.removeAttribute("value"),d!=null?Ni(u,ie,Sn(d)):S!=null?Ni(u,ie,Sn(S)):E!=null&&u.removeAttribute("value"),L==null&&k!=null&&(u.defaultChecked=!!k),L!=null&&(u.checked=L&&typeof L!="function"&&typeof L!="symbol"),ge!=null&&typeof ge!="function"&&typeof ge!="symbol"&&typeof ge!="boolean"?u.name=""+Sn(ge):u.removeAttribute("name")}function Ci(u,d,S,E,L,k,ie,ge){if(k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(u.type=k),d!=null||S!=null){if(!(k!=="submit"&&k!=="reset"||d!=null))return;S=S!=null?""+Sn(S):"",d=d!=null?""+Sn(d):S,ge||d===u.value||(u.value=d),u.defaultValue=d}E=E??L,E=typeof E!="function"&&typeof E!="symbol"&&!!E,u.checked=ge?u.checked:!!E,u.defaultChecked=!!E,ie!=null&&typeof ie!="function"&&typeof ie!="symbol"&&typeof ie!="boolean"&&(u.name=ie)}function Ni(u,d,S){d==="number"&&On(u.ownerDocument)===u||u.defaultValue===""+S||(u.defaultValue=""+S)}function Gi(u,d,S,E){if(u=u.options,d){d={};for(var L=0;L<S.length;L++)d["$"+S[L]]=!0;for(S=0;S<u.length;S++)L=d.hasOwnProperty("$"+u[S].value),u[S].selected!==L&&(u[S].selected=L),L&&E&&(u[S].defaultSelected=!0)}else{for(S=""+Sn(S),d=null,L=0;L<u.length;L++){if(u[L].value===S){u[L].selected=!0,E&&(u[L].defaultSelected=!0);return}d!==null||u[L].disabled||(d=u[L])}d!==null&&(d.selected=!0)}}function Ki(u,d,S){if(d!=null&&(d=""+Sn(d),d!==u.value&&(u.value=d),S==null)){u.defaultValue!==d&&(u.defaultValue=d);return}u.defaultValue=S!=null?""+Sn(S):""}function Pr(u,d,S,E){if(d==null){if(E!=null){if(S!=null)throw Error(r(92));if(ue(E)){if(1<E.length)throw Error(r(93));E=E[0]}S=E}S==null&&(S=""),d=S}S=Sn(d),u.defaultValue=S,E=u.textContent,E===S&&E!==""&&E!==null&&(u.value=E)}function Yi(u,d){if(d){var S=u.firstChild;if(S&&S===u.lastChild&&S.nodeType===3){S.nodeValue=d;return}}u.textContent=d}var po=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ka(u,d,S){var E=d.indexOf("--")===0;S==null||typeof S=="boolean"||S===""?E?u.setProperty(d,""):d==="float"?u.cssFloat="":u[d]="":E?u.setProperty(d,S):typeof S!="number"||S===0||po.has(d)?d==="float"?u.cssFloat=S:u[d]=(""+S).trim():u[d]=S+"px"}function Ma(u,d,S){if(d!=null&&typeof d!="object")throw Error(r(62));if(u=u.style,S!=null){for(var E in S)!S.hasOwnProperty(E)||d!=null&&d.hasOwnProperty(E)||(E.indexOf("--")===0?u.setProperty(E,""):E==="float"?u.cssFloat="":u[E]="");for(var L in d)E=d[L],d.hasOwnProperty(L)&&S[L]!==E&&Ka(u,L,E)}else for(var k in d)d.hasOwnProperty(k)&&Ka(u,k,d[k])}function Ds(u){if(u.indexOf("-")===-1)return!1;switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cr(u){return Zc.test(""+u)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":u}var Ho=null;function Na(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var ga=null,Ta=null;function Ls(u){var d=le(u);if(d&&(u=d.stateNode)){var S=u[dn]||null;e:switch(u=d.stateNode,d.type){case"input":if(An(u,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name),d=S.name,S.type==="radio"&&d!=null){for(S=u;S.parentNode;)S=S.parentNode;for(S=S.querySelectorAll('input[name="'+ni(""+d)+'"][type="radio"]'),d=0;d<S.length;d++){var E=S[d];if(E!==u&&E.form===u.form){var L=E[dn]||null;if(!L)throw Error(r(90));An(E,L.value,L.defaultValue,L.defaultValue,L.checked,L.defaultChecked,L.type,L.name)}}for(d=0;d<S.length;d++)E=S[d],E.form===u.form&&Vn(E)}break e;case"textarea":Ki(u,S.value,S.defaultValue);break e;case"select":d=S.value,d!=null&&Gi(u,!!S.multiple,d,!1)}}}var mo=!1;function Gl(u,d,S){if(mo)return u(d,S);mo=!0;try{var E=u(d);return E}finally{if(mo=!1,(ga!==null||Ta!==null)&&(If(),ga&&(d=ga,u=Ta,Ta=ga=null,Ls(d),u)))for(d=0;d<u.length;d++)Ls(u[d])}}function tn(u,d){var S=u.stateNode;if(S===null)return null;var E=S[dn]||null;if(E===null)return null;S=E[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(E=!E.disabled)||(u=u.type,E=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!E;break e;default:u=!1}if(u)return null;if(S&&typeof S!="function")throw Error(r(231,d,typeof S));return S}var xn=!1;if(Xt)try{var Oi={};Object.defineProperty(Oi,"passive",{get:function(){xn=!0}}),window.addEventListener("test",Oi,Oi),window.removeEventListener("test",Oi,Oi)}catch{xn=!1}var Ei=null,Hi=null,Ns=null;function ko(){if(Ns)return Ns;var u,d=Hi,S=d.length,E,L="value"in Ei?Ei.value:Ei.textContent,k=L.length;for(u=0;u<S&&d[u]===L[u];u++);var ie=S-u;for(E=1;E<=ie&&d[S-E]===L[k-E];E++);return Ns=L.slice(u,1<E?1-E:void 0)}function Ua(u){var d=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&d===13&&(u=13)):u=d,u===10&&(u=13),32<=u||u===13?u:0}function $o(){return!0}function jl(){return!1}function va(u){function d(S,E,L,k,ie){this._reactName=S,this._targetInst=L,this.type=E,this.nativeEvent=k,this.target=ie,this.currentTarget=null;for(var ge in u)u.hasOwnProperty(ge)&&(S=u[ge],this[ge]=S?S(k):k[ge]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?$o:jl,this.isPropagationStopped=jl,this}return U(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var S=this.nativeEvent;S&&(S.preventDefault?S.preventDefault():typeof S.returnValue!="unknown"&&(S.returnValue=!1),this.isDefaultPrevented=$o)},stopPropagation:function(){var S=this.nativeEvent;S&&(S.stopPropagation?S.stopPropagation():typeof S.cancelBubble!="unknown"&&(S.cancelBubble=!0),this.isPropagationStopped=$o)},persist:function(){},isPersistent:$o}),d}var ll={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cl=va(ll),Wl=U({},ll,{view:0,detail:0}),Gh=va(Wl),Vo,Kc,Qc,Qa=U({},Wl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ul,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==Qc&&(Qc&&u.type==="mousemove"?(Vo=u.screenX-Qc.screenX,Kc=u.screenY-Qc.screenY):Kc=Vo=0,Qc=u),Vo)},movementY:function(u){return"movementY"in u?u.movementY:Kc}}),jh=va(Qa),Nm=U({},Qa,{dataTransfer:0}),C0=va(Nm),Qr=U({},Wl,{relatedTarget:0}),lf=va(Qr),ya=U({},ll,{animationName:0,elapsedTime:0,pseudoElement:0}),Um=va(ya),Bm=U({},ll,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),Fm=va(Bm),cf=U({},ll,{data:0}),yd=va(cf),Hm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},km={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$m={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bd(u){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(u):(u=$m[u])?!!d[u]:!1}function ul(){return bd}var fl=U({},Wl,{key:function(u){if(u.key){var d=Hm[u.key]||u.key;if(d!=="Unidentified")return d}return u.type==="keypress"?(u=Ua(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?km[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ul,charCode:function(u){return u.type==="keypress"?Ua(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?Ua(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),Jc=va(fl),Wh=U({},Qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uf=va(Wh),Xh=U({},Wl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ul}),_d=va(Xh),eu=U({},ll,{propertyName:0,elapsedTime:0,pseudoElement:0}),Us=va(eu),Yh=U({},Qa,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),E0=va(Yh),Vm=U({},ll,{newState:0,oldState:0}),dl=va(Vm),Bs=[9,13,27,32],Xl=Xt&&"CompositionEvent"in window,Yl=null;Xt&&"documentMode"in document&&(Yl=document.documentMode);var hl=Xt&&"TextEvent"in window&&!Yl,ff=Xt&&(!Xl||Yl&&8<Yl&&11>=Yl),cs=" ",la=!1;function df(u,d){switch(u){case"keyup":return Bs.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sd(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var go=!1;function vo(u,d){switch(u){case"compositionend":return Sd(d);case"keypress":return d.which!==32?null:(la=!0,cs);case"textInput":return u=d.data,u===cs&&la?null:u;default:return null}}function xd(u,d){if(go)return u==="compositionend"||!Xl&&df(u,d)?(u=ko(),Ns=Hi=Ei=null,go=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return ff&&d.locale!=="ko"?null:d.data;default:return null}}var tu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qh(u){var d=u&&u.nodeName&&u.nodeName.toLowerCase();return d==="input"?!!tu[u.type]:d==="textarea"}function Ba(u,d,S,E){ga?Ta?Ta.push(E):Ta=[E]:ga=E,d=DS(d,"onChange"),0<d.length&&(S=new cl("onChange","change",null,S,E),u.push({event:S,listeners:d}))}var nu=null,ql=null;function Gm(u){UI(u,0)}function hf(u){var d=Be(u);if(Vn(d))return u}function wd(u,d){if(u==="change")return d}var Cd=!1;if(Xt){var Ed;if(Xt){var iu="oninput"in document;if(!iu){var z=document.createElement("div");z.setAttribute("oninput","return;"),iu=typeof z.oninput=="function"}Ed=iu}else Ed=!1;Cd=Ed&&(!document.documentMode||9<document.documentMode)}function I(){nu&&(nu.detachEvent("onpropertychange",H),ql=nu=null)}function H(u){if(u.propertyName==="value"&&hf(ql)){var d=[];Ba(d,ql,u,Na(u)),Gl(Gm,d)}}function G(u,d,S){u==="focusin"?(I(),nu=d,ql=S,nu.attachEvent("onpropertychange",H)):u==="focusout"&&I()}function Y(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return hf(ql)}function ne(u,d){if(u==="click")return hf(d)}function se(u,d){if(u==="input"||u==="change")return hf(d)}function me(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var be=typeof Object.is=="function"?Object.is:me;function De(u,d){if(be(u,d))return!0;if(typeof u!="object"||u===null||typeof d!="object"||d===null)return!1;var S=Object.keys(u),E=Object.keys(d);if(S.length!==E.length)return!1;for(E=0;E<S.length;E++){var L=S[E];if(!lt.call(d,L)||!be(u[L],d[L]))return!1}return!0}function Ce(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function Ze(u,d){var S=Ce(u);u=0;for(var E;S;){if(S.nodeType===3){if(E=u+S.textContent.length,u<=d&&E>=d)return{node:S,offset:d-u};u=E}e:{for(;S;){if(S.nextSibling){S=S.nextSibling;break e}S=S.parentNode}S=void 0}S=Ce(S)}}function vt(u,d){return u&&d?u===d?!0:u&&u.nodeType===3?!1:d&&d.nodeType===3?vt(u,d.parentNode):"contains"in u?u.contains(d):u.compareDocumentPosition?!!(u.compareDocumentPosition(d)&16):!1:!1}function Bt(u){u=u!=null&&u.ownerDocument!=null&&u.ownerDocument.defaultView!=null?u.ownerDocument.defaultView:window;for(var d=On(u.document);d instanceof u.HTMLIFrameElement;){try{var S=typeof d.contentWindow.location.href=="string"}catch{S=!1}if(S)u=d.contentWindow;else break;d=On(u.document)}return d}function Pt(u){var d=u&&u.nodeName&&u.nodeName.toLowerCase();return d&&(d==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||d==="textarea"||u.contentEditable==="true")}function Vt(u,d){var S=Bt(d);d=u.focusedElem;var E=u.selectionRange;if(S!==d&&d&&d.ownerDocument&&vt(d.ownerDocument.documentElement,d)){if(E!==null&&Pt(d)){if(u=E.start,S=E.end,S===void 0&&(S=u),"selectionStart"in d)d.selectionStart=u,d.selectionEnd=Math.min(S,d.value.length);else if(S=(u=d.ownerDocument||document)&&u.defaultView||window,S.getSelection){S=S.getSelection();var L=d.textContent.length,k=Math.min(E.start,L);E=E.end===void 0?k:Math.min(E.end,L),!S.extend&&k>E&&(L=E,E=k,k=L),L=Ze(d,k);var ie=Ze(d,E);L&&ie&&(S.rangeCount!==1||S.anchorNode!==L.node||S.anchorOffset!==L.offset||S.focusNode!==ie.node||S.focusOffset!==ie.offset)&&(u=u.createRange(),u.setStart(L.node,L.offset),S.removeAllRanges(),k>E?(S.addRange(u),S.extend(ie.node,ie.offset)):(u.setEnd(ie.node,ie.offset),S.addRange(u)))}}for(u=[],S=d;S=S.parentNode;)S.nodeType===1&&u.push({element:S,left:S.scrollLeft,top:S.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<u.length;d++)S=u[d],S.element.scrollLeft=S.left,S.element.scrollTop=S.top}}var an=Xt&&"documentMode"in document&&11>=document.documentMode,en=null,gn=null,Nn=null,ii=!1;function vn(u,d,S){var E=S.window===S?S.document:S.nodeType===9?S:S.ownerDocument;ii||en==null||en!==On(E)||(E=en,"selectionStart"in E&&Pt(E)?E={start:E.selectionStart,end:E.selectionEnd}:(E=(E.ownerDocument&&E.ownerDocument.defaultView||window).getSelection(),E={anchorNode:E.anchorNode,anchorOffset:E.anchorOffset,focusNode:E.focusNode,focusOffset:E.focusOffset}),Nn&&De(Nn,E)||(Nn=E,E=DS(gn,"onSelect"),0<E.length&&(d=new cl("onSelect","select",null,d,S),u.push({event:d,listeners:E}),d.target=en)))}function In(u,d){var S={};return S[u.toLowerCase()]=d.toLowerCase(),S["Webkit"+u]="webkit"+d,S["Moz"+u]="moz"+d,S}var Rr={animationend:In("Animation","AnimationEnd"),animationiteration:In("Animation","AnimationIteration"),animationstart:In("Animation","AnimationStart"),transitionrun:In("Transition","TransitionRun"),transitionstart:In("Transition","TransitionStart"),transitioncancel:In("Transition","TransitionCancel"),transitionend:In("Transition","TransitionEnd")},Qi={},ba={};Xt&&(ba=document.createElement("div").style,"AnimationEvent"in window||(delete Rr.animationend.animation,delete Rr.animationiteration.animation,delete Rr.animationstart.animation),"TransitionEvent"in window||delete Rr.transitionend.transition);function Ui(u){if(Qi[u])return Qi[u];if(!Rr[u])return u;var d=Rr[u],S;for(S in d)if(d.hasOwnProperty(S)&&S in ba)return Qi[u]=d[S];return u}var Go=Ui("animationend"),ca=Ui("animationiteration"),Zl=Ui("animationstart"),Kl=Ui("transitionrun"),Md=Ui("transitionstart"),ru=Ui("transitioncancel"),jm=Ui("transitionend"),Wm=new Map,Ql="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function us(u,d){Wm.set(u,d),jt(d,[u])}var Aa=[],pl=0,Jl=0;function Zh(){for(var u=pl,d=Jl=pl=0;d<u;){var S=Aa[d];Aa[d++]=null;var E=Aa[d];Aa[d++]=null;var L=Aa[d];Aa[d++]=null;var k=Aa[d];if(Aa[d++]=null,E!==null&&L!==null){var ie=E.pending;ie===null?L.next=L:(L.next=ie.next,ie.next=L),E.pending=L}k!==0&&Qh(S,L,k)}}function Kh(u,d,S,E){Aa[pl++]=u,Aa[pl++]=d,Aa[pl++]=S,Aa[pl++]=E,Jl|=E,u.lanes|=E,u=u.alternate,u!==null&&(u.lanes|=E)}function pf(u,d,S,E){return Kh(u,d,S,E),Jh(u)}function ec(u,d){return Kh(u,null,null,d),Jh(u)}function Qh(u,d,S){u.lanes|=S;var E=u.alternate;E!==null&&(E.lanes|=S);for(var L=!1,k=u.return;k!==null;)k.childLanes|=S,E=k.alternate,E!==null&&(E.childLanes|=S),k.tag===22&&(u=k.stateNode,u===null||u._visibility&1||(L=!0)),u=k,k=k.return;L&&d!==null&&u.tag===3&&(k=u.stateNode,L=31-ke(S),k=k.hiddenUpdates,u=k[L],u===null?k[L]=[d]:u.push(d),d.lane=S|536870912)}function Jh(u){if(50<_s)throw _s=0,Sc=null,Error(r(185));for(var d=u.return;d!==null;)u=d,d=u.return;return u.tag===3?u.stateNode:null}var au={},Xm=new WeakMap;function yo(u,d){if(typeof u=="object"&&u!==null){var S=Xm.get(u);return S!==void 0?S:(d={value:u,source:d,stack:K(d)},Xm.set(u,d),d)}return{value:u,source:d,stack:K(d)}}var mf=[],ou=0,Fa=null,ep=0,fr=[],jo=0,tc=null,ml=1,nc="";function Ja(u,d){mf[ou++]=ep,mf[ou++]=Fa,Fa=u,ep=d}function M0(u,d,S){fr[jo++]=ml,fr[jo++]=nc,fr[jo++]=tc,tc=u;var E=ml;u=nc;var L=32-ke(E)-1;E&=~(1<<L),S+=1;var k=32-ke(d)+L;if(30<k){var ie=L-L%5;k=(E&(1<<ie)-1).toString(32),E>>=ie,L-=ie,ml=1<<32-ke(d)+L|S<<L|E,nc=k+u}else ml=1<<k|S<<L|E,nc=u}function tp(u){u.return!==null&&(Ja(u,1),M0(u,1,0))}function su(u){for(;u===Fa;)Fa=mf[--ou],mf[ou]=null,ep=mf[--ou],mf[ou]=null;for(;u===tc;)tc=fr[--jo],fr[jo]=null,nc=fr[--jo],fr[jo]=null,ml=fr[--jo],fr[jo]=null}var Ha=null,_a=null,Ii=!1,fs=null,ds=!1,np=Error(r(519));function gf(u){var d=Error(r(418,""));throw gl(yo(d,u)),np}function F_(u){var d=u.stateNode,S=u.type,E=u.memoizedProps;switch(d[ti]=u,d[dn]=E,S){case"dialog":Pi("cancel",d),Pi("close",d);break;case"iframe":case"object":case"embed":Pi("load",d);break;case"video":case"audio":for(S=0;S<oy.length;S++)Pi(oy[S],d);break;case"source":Pi("error",d);break;case"img":case"image":case"link":Pi("error",d),Pi("load",d);break;case"details":Pi("toggle",d);break;case"input":Pi("invalid",d),Ci(d,E.value,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name,!0),Xn(d);break;case"select":Pi("invalid",d);break;case"textarea":Pi("invalid",d),Pr(d,E.value,E.defaultValue,E.children),Xn(d)}S=E.children,typeof S!="string"&&typeof S!="number"&&typeof S!="bigint"||d.textContent===""+S||E.suppressHydrationWarning===!0||kI(d.textContent,S)?(E.popover!=null&&(Pi("beforetoggle",d),Pi("toggle",d)),E.onScroll!=null&&Pi("scroll",d),E.onScrollEnd!=null&&Pi("scrollend",d),E.onClick!=null&&(d.onclick=LS),d=!0):d=!1,d||gf(u)}function H_(u){for(Ha=u.return;Ha;)switch(Ha.tag){case 3:case 27:ds=!0;return;case 5:case 13:ds=!1;return;default:Ha=Ha.return}}function Td(u){if(u!==Ha)return!1;if(!Ii)return H_(u),Ii=!0,!1;var d=!1,S;if((S=u.tag!==3&&u.tag!==27)&&((S=u.tag===5)&&(S=u.type,S=!(S!=="form"&&S!=="button")||dM(u.type,u.memoizedProps)),S=!S),S&&(d=!0),d&&_a&&gf(u),H_(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));e:{for(u=u.nextSibling,d=0;u;){if(u.nodeType===8)if(S=u.data,S==="/$"){if(d===0){_a=wc(u.nextSibling);break e}d--}else S!=="$"&&S!=="$!"&&S!=="$?"||d++;u=u.nextSibling}_a=null}}else _a=Ha?wc(u.stateNode.nextSibling):null;return!0}function Ad(){_a=Ha=null,Ii=!1}function gl(u){fs===null?fs=[u]:fs.push(u)}var lu=Error(r(460)),T0=Error(r(474)),Ym={then:function(){}};function k_(u){return u=u.status,u==="fulfilled"||u==="rejected"}function ip(){}function cu(u,d,S){switch(S=u[S],S===void 0?u.push(d):S!==d&&(d.then(ip,ip),d=S),d.status){case"fulfilled":return d.value;case"rejected":throw u=d.reason,u===lu?Error(r(483)):u;default:if(typeof d.status=="string")d.then(ip,ip);else{if(u=er,u!==null&&100<u.shellSuspendCounter)throw Error(r(482));u=d,u.status="pending",u.then(function(E){if(d.status==="pending"){var L=d;L.status="fulfilled",L.value=E}},function(E){if(d.status==="pending"){var L=d;L.status="rejected",L.reason=E}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw u=d.reason,u===lu?Error(r(483)):u}throw Rd=d,lu}}var Rd=null;function ji(){if(Rd===null)throw Error(r(459));var u=Rd;return Rd=null,u}var uu=null,rp=0;function ap(u){var d=rp;return rp+=1,uu===null&&(uu=[]),cu(uu,u,d)}function op(u,d){d=d.props.ref,u.ref=d!==void 0?d:null}function qm(u,d){throw d.$$typeof===o?Error(r(525)):(u=Object.prototype.toString.call(d),Error(r(31,u==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":u)))}function $_(u){var d=u._init;return d(u._payload)}function V_(u){function d(tt,Ge){if(u){var ct=tt.deletions;ct===null?(tt.deletions=[Ge],tt.flags|=16):ct.push(Ge)}}function S(tt,Ge){if(!u)return null;for(;Ge!==null;)d(tt,Ge),Ge=Ge.sibling;return null}function E(tt){for(var Ge=new Map;tt!==null;)tt.key!==null?Ge.set(tt.key,tt):Ge.set(tt.index,tt),tt=tt.sibling;return Ge}function L(tt,Ge){return tt=io(tt,Ge),tt.index=0,tt.sibling=null,tt}function k(tt,Ge,ct){return tt.index=ct,u?(ct=tt.alternate,ct!==null?(ct=ct.index,ct<Ge?(tt.flags|=33554434,Ge):ct):(tt.flags|=33554434,Ge)):(tt.flags|=1048576,Ge)}function ie(tt){return u&&tt.alternate===null&&(tt.flags|=33554434),tt}function ge(tt,Ge,ct,Ot){return Ge===null||Ge.tag!==6?(Ge=na(ct,tt.mode,Ot),Ge.return=tt,Ge):(Ge=L(Ge,ct),Ge.return=tt,Ge)}function Oe(tt,Ge,ct,Ot){var pn=ct.type;return pn===f?Tt(tt,Ge,ct.props.children,Ot,ct.key):Ge!==null&&(Ge.elementType===pn||typeof pn=="object"&&pn!==null&&pn.$$typeof===w&&$_(pn)===Ge.type)?(Ge=L(Ge,ct.props),op(Ge,ct),Ge.return=tt,Ge):(Ge=Gd(ct.type,ct.key,ct.props,null,tt.mode,Ot),op(Ge,ct),Ge.return=tt,Ge)}function Xe(tt,Ge,ct,Ot){return Ge===null||Ge.tag!==4||Ge.stateNode.containerInfo!==ct.containerInfo||Ge.stateNode.implementation!==ct.implementation?(Ge=yp(ct,tt.mode,Ot),Ge.return=tt,Ge):(Ge=L(Ge,ct.children||[]),Ge.return=tt,Ge)}function Tt(tt,Ge,ct,Ot,pn){return Ge===null||Ge.tag!==7?(Ge=Ru(ct,tt.mode,Ot,pn),Ge.return=tt,Ge):(Ge=L(Ge,ct),Ge.return=tt,Ge)}function Ft(tt,Ge,ct){if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number"||typeof Ge=="bigint")return Ge=na(""+Ge,tt.mode,ct),Ge.return=tt,Ge;if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case l:return ct=Gd(Ge.type,Ge.key,Ge.props,null,tt.mode,ct),op(ct,Ge),ct.return=tt,ct;case s:return Ge=yp(Ge,tt.mode,ct),Ge.return=tt,Ge;case w:var Ot=Ge._init;return Ge=Ot(Ge._payload),Ft(tt,Ge,ct)}if(ue(Ge)||P(Ge))return Ge=Ru(Ge,tt.mode,ct,null),Ge.return=tt,Ge;if(typeof Ge.then=="function")return Ft(tt,ap(Ge),ct);if(Ge.$$typeof===C)return Ft(tt,dg(tt,Ge),ct);qm(tt,Ge)}return null}function ft(tt,Ge,ct,Ot){var pn=Ge!==null?Ge.key:null;if(typeof ct=="string"&&ct!==""||typeof ct=="number"||typeof ct=="bigint")return pn!==null?null:ge(tt,Ge,""+ct,Ot);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case l:return ct.key===pn?Oe(tt,Ge,ct,Ot):null;case s:return ct.key===pn?Xe(tt,Ge,ct,Ot):null;case w:return pn=ct._init,ct=pn(ct._payload),ft(tt,Ge,ct,Ot)}if(ue(ct)||P(ct))return pn!==null?null:Tt(tt,Ge,ct,Ot,null);if(typeof ct.then=="function")return ft(tt,Ge,ap(ct),Ot);if(ct.$$typeof===C)return ft(tt,Ge,dg(tt,ct),Ot);qm(tt,ct)}return null}function Et(tt,Ge,ct,Ot,pn){if(typeof Ot=="string"&&Ot!==""||typeof Ot=="number"||typeof Ot=="bigint")return tt=tt.get(ct)||null,ge(Ge,tt,""+Ot,pn);if(typeof Ot=="object"&&Ot!==null){switch(Ot.$$typeof){case l:return tt=tt.get(Ot.key===null?ct:Ot.key)||null,Oe(Ge,tt,Ot,pn);case s:return tt=tt.get(Ot.key===null?ct:Ot.key)||null,Xe(Ge,tt,Ot,pn);case w:var Si=Ot._init;return Ot=Si(Ot._payload),Et(tt,Ge,ct,Ot,pn)}if(ue(Ot)||P(Ot))return tt=tt.get(ct)||null,Tt(Ge,tt,Ot,pn,null);if(typeof Ot.then=="function")return Et(tt,Ge,ct,ap(Ot),pn);if(Ot.$$typeof===C)return Et(tt,Ge,ct,dg(Ge,Ot),pn);qm(Ge,Ot)}return null}function Cn(tt,Ge,ct,Ot){for(var pn=null,Si=null,Mn=Ge,Hn=Ge=0,Xa=null;Mn!==null&&Hn<ct.length;Hn++){Mn.index>Hn?(Xa=Mn,Mn=null):Xa=Mn.sibling;var Wi=ft(tt,Mn,ct[Hn],Ot);if(Wi===null){Mn===null&&(Mn=Xa);break}u&&Mn&&Wi.alternate===null&&d(tt,Mn),Ge=k(Wi,Ge,Hn),Si===null?pn=Wi:Si.sibling=Wi,Si=Wi,Mn=Xa}if(Hn===ct.length)return S(tt,Mn),Ii&&Ja(tt,Hn),pn;if(Mn===null){for(;Hn<ct.length;Hn++)Mn=Ft(tt,ct[Hn],Ot),Mn!==null&&(Ge=k(Mn,Ge,Hn),Si===null?pn=Mn:Si.sibling=Mn,Si=Mn);return Ii&&Ja(tt,Hn),pn}for(Mn=E(Mn);Hn<ct.length;Hn++)Xa=Et(Mn,tt,Hn,ct[Hn],Ot),Xa!==null&&(u&&Xa.alternate!==null&&Mn.delete(Xa.key===null?Hn:Xa.key),Ge=k(Xa,Ge,Hn),Si===null?pn=Xa:Si.sibling=Xa,Si=Xa);return u&&Mn.forEach(function(Jd){return d(tt,Jd)}),Ii&&Ja(tt,Hn),pn}function Kn(tt,Ge,ct,Ot){if(ct==null)throw Error(r(151));for(var pn=null,Si=null,Mn=Ge,Hn=Ge=0,Xa=null,Wi=ct.next();Mn!==null&&!Wi.done;Hn++,Wi=ct.next()){Mn.index>Hn?(Xa=Mn,Mn=null):Xa=Mn.sibling;var Jd=ft(tt,Mn,Wi.value,Ot);if(Jd===null){Mn===null&&(Mn=Xa);break}u&&Mn&&Jd.alternate===null&&d(tt,Mn),Ge=k(Jd,Ge,Hn),Si===null?pn=Jd:Si.sibling=Jd,Si=Jd,Mn=Xa}if(Wi.done)return S(tt,Mn),Ii&&Ja(tt,Hn),pn;if(Mn===null){for(;!Wi.done;Hn++,Wi=ct.next())Wi=Ft(tt,Wi.value,Ot),Wi!==null&&(Ge=k(Wi,Ge,Hn),Si===null?pn=Wi:Si.sibling=Wi,Si=Wi);return Ii&&Ja(tt,Hn),pn}for(Mn=E(Mn);!Wi.done;Hn++,Wi=ct.next())Wi=Et(Mn,tt,Hn,Wi.value,Ot),Wi!==null&&(u&&Wi.alternate!==null&&Mn.delete(Wi.key===null?Hn:Wi.key),Ge=k(Wi,Ge,Hn),Si===null?pn=Wi:Si.sibling=Wi,Si=Wi);return u&&Mn.forEach(function(mk){return d(tt,mk)}),Ii&&Ja(tt,Hn),pn}function aa(tt,Ge,ct,Ot){if(typeof ct=="object"&&ct!==null&&ct.type===f&&ct.key===null&&(ct=ct.props.children),typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case l:e:{for(var pn=ct.key;Ge!==null;){if(Ge.key===pn){if(pn=ct.type,pn===f){if(Ge.tag===7){S(tt,Ge.sibling),Ot=L(Ge,ct.props.children),Ot.return=tt,tt=Ot;break e}}else if(Ge.elementType===pn||typeof pn=="object"&&pn!==null&&pn.$$typeof===w&&$_(pn)===Ge.type){S(tt,Ge.sibling),Ot=L(Ge,ct.props),op(Ot,ct),Ot.return=tt,tt=Ot;break e}S(tt,Ge);break}else d(tt,Ge);Ge=Ge.sibling}ct.type===f?(Ot=Ru(ct.props.children,tt.mode,Ot,ct.key),Ot.return=tt,tt=Ot):(Ot=Gd(ct.type,ct.key,ct.props,null,tt.mode,Ot),op(Ot,ct),Ot.return=tt,tt=Ot)}return ie(tt);case s:e:{for(pn=ct.key;Ge!==null;){if(Ge.key===pn)if(Ge.tag===4&&Ge.stateNode.containerInfo===ct.containerInfo&&Ge.stateNode.implementation===ct.implementation){S(tt,Ge.sibling),Ot=L(Ge,ct.children||[]),Ot.return=tt,tt=Ot;break e}else{S(tt,Ge);break}else d(tt,Ge);Ge=Ge.sibling}Ot=yp(ct,tt.mode,Ot),Ot.return=tt,tt=Ot}return ie(tt);case w:return pn=ct._init,ct=pn(ct._payload),aa(tt,Ge,ct,Ot)}if(ue(ct))return Cn(tt,Ge,ct,Ot);if(P(ct)){if(pn=P(ct),typeof pn!="function")throw Error(r(150));return ct=pn.call(ct),Kn(tt,Ge,ct,Ot)}if(typeof ct.then=="function")return aa(tt,Ge,ap(ct),Ot);if(ct.$$typeof===C)return aa(tt,Ge,dg(tt,ct),Ot);qm(tt,ct)}return typeof ct=="string"&&ct!==""||typeof ct=="number"||typeof ct=="bigint"?(ct=""+ct,Ge!==null&&Ge.tag===6?(S(tt,Ge.sibling),Ot=L(Ge,ct),Ot.return=tt,tt=Ot):(S(tt,Ge),Ot=na(ct,tt.mode,Ot),Ot.return=tt,tt=Ot),ie(tt)):S(tt,Ge)}return function(tt,Ge,ct,Ot){try{rp=0;var pn=aa(tt,Ge,ct,Ot);return uu=null,pn}catch(Mn){if(Mn===lu)throw Mn;var Si=Gr(29,Mn,null,tt.mode);return Si.lanes=Ot,Si.return=tt,Si}finally{}}}var ic=V_(!0),rc=V_(!1),vf=Me(null),yf=Me(0);function fu(u,d){u=_c,Ue(yf,u),Ue(vf,d),_c=u|d.baseLanes}function Zm(){Ue(yf,_c),Ue(vf,vf.current)}function sp(){_c=yf.current,Ae(vf),Ae(yf)}var bo=Me(null),vl=null;function ac(u){var d=u.alternate;Ue(Jr,Jr.current&1),Ue(bo,u),vl===null&&(d===null||vf.current!==null||d.memoizedState!==null)&&(vl=u)}function A0(u){if(u.tag===22){if(Ue(Jr,Jr.current),Ue(bo,u),vl===null){var d=u.alternate;d!==null&&d.memoizedState!==null&&(vl=u)}}else oc()}function oc(){Ue(Jr,Jr.current),Ue(bo,bo.current)}function yl(u){Ae(bo),vl===u&&(vl=null),Ae(Jr)}var Jr=Me(0);function Od(u){for(var d=u;d!==null;){if(d.tag===13){var S=d.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||S.data==="$?"||S.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var gi=typeof AbortController<"u"?AbortController:function(){var u=[],d=this.signal={aborted:!1,addEventListener:function(S,E){u.push(E)}};this.abort=function(){d.aborted=!0,u.forEach(function(S){return S()})}},XE=n.unstable_scheduleCallback,Wo=n.unstable_NormalPriority,Br={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function R0(){return{controller:new gi,data:new Map,refCount:0}}function du(u){u.refCount--,u.refCount===0&&XE(Wo,function(){u.controller.abort()})}var bl=null,hu=0,bf=0,pu=null;function YE(u,d){if(bl===null){var S=bl=[];hu=0,bf=iM(),pu={status:"pending",value:void 0,then:function(E){S.push(E)}}}return hu++,d.then(O0,O0),d}function O0(){if(--hu===0&&bl!==null){pu!==null&&(pu.status="fulfilled");var u=bl;bl=null,bf=0,pu=null;for(var d=0;d<u.length;d++)(0,u[d])()}}function mu(u,d){var S=[],E={status:"pending",value:null,reason:null,then:function(L){S.push(L)}};return u.then(function(){E.status="fulfilled",E.value=d;for(var L=0;L<S.length;L++)(0,S[L])(d)},function(L){for(E.status="rejected",E.reason=L,L=0;L<S.length;L++)(0,S[L])(void 0)}),E}var Km=B.S;B.S=function(u,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&YE(u,d),Km!==null&&Km(u,d)};var sc=Me(null);function lp(){var u=sc.current;return u!==null?u:er.pooledCache}function Id(u,d){d===null?Ue(sc,sc.current):Ue(sc,d.pool)}function lc(){var u=lp();return u===null?null:{parent:Br._currentValue,pool:u}}var cc=0,ci=null,qi=null,ea=null,Fn=!1,gu=!1,vu=!1,zd=0,yu=0,Pd=null,qE=0;function Dr(){throw Error(r(321))}function _f(u,d){if(d===null)return!1;for(var S=0;S<d.length&&S<u.length;S++)if(!be(u[S],d[S]))return!1;return!0}function I0(u,d,S,E,L,k){return cc=k,ci=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,B.H=u===null||u.memoizedState===null?_u:fc,vu=!1,k=S(E,L),vu=!1,gu&&(k=j_(d,S,E,L)),G_(u),k}function G_(u){B.H=Sl;var d=qi!==null&&qi.next!==null;if(cc=0,ea=qi=ci=null,Fn=!1,yu=0,Pd=null,d)throw Error(r(300));u===null||ua||(u=u.dependencies,u!==null&&Bd(u)&&(ua=!0))}function j_(u,d,S,E){ci=u;var L=0;do{if(gu&&(Pd=null),yu=0,gu=!1,25<=L)throw Error(r(301));if(L+=1,ea=qi=null,u.updateQueue!=null){var k=u.updateQueue;k.lastEffect=null,k.events=null,k.stores=null,k.memoCache!=null&&(k.memoCache.index=0)}B.H=wf,k=d(S,E)}while(gu);return k}function ZE(){var u=B.H,d=u.useState()[0];return d=typeof d.then=="function"?up(d):d,u=u.useState()[0],(qi!==null?qi.memoizedState:null)!==u&&(ci.flags|=1024),d}function z0(){var u=zd!==0;return zd=0,u}function cp(u,d,S){d.updateQueue=u.updateQueue,d.flags&=-2053,u.lanes&=~S}function Qm(u){if(Fn){for(u=u.memoizedState;u!==null;){var d=u.queue;d!==null&&(d.pending=null),u=u.next}Fn=!1}cc=0,ea=qi=ci=null,gu=!1,yu=zd=0,Pd=null}function Ra(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ea===null?ci.memoizedState=ea=u:ea=ea.next=u,ea}function Fr(){if(qi===null){var u=ci.alternate;u=u!==null?u.memoizedState:null}else u=qi.next;var d=ea===null?ci.memoizedState:ea.next;if(d!==null)ea=d,qi=u;else{if(u===null)throw ci.alternate===null?Error(r(467)):Error(r(310));qi=u,u={memoizedState:qi.memoizedState,baseState:qi.baseState,baseQueue:qi.baseQueue,queue:qi.queue,next:null},ea===null?ci.memoizedState=ea=u:ea=ea.next=u}return ea}var Jm;Jm=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function up(u){var d=yu;return yu+=1,Pd===null&&(Pd=[]),u=cu(Pd,u,d),d=ci,(ea===null?d.memoizedState:ea.next)===null&&(d=d.alternate,B.H=d===null||d.memoizedState===null?_u:fc),u}function Dd(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return up(u);if(u.$$typeof===C)return ka(u)}throw Error(r(438,String(u)))}function Fs(u){var d=null,S=ci.updateQueue;if(S!==null&&(d=S.memoCache),d==null){var E=ci.alternate;E!==null&&(E=E.updateQueue,E!==null&&(E=E.memoCache,E!=null&&(d={data:E.data.map(function(L){return L.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),S===null&&(S=Jm(),ci.updateQueue=S),S.memoCache=d,S=d.data[d.index],S===void 0)for(S=d.data[d.index]=Array(u),E=0;E<u;E++)S[E]=R;return d.index++,S}function Er(u,d){return typeof d=="function"?d(u):d}function Hs(u){var d=Fr();return _o(d,qi,u)}function _o(u,d,S){var E=u.queue;if(E===null)throw Error(r(311));E.lastRenderedReducer=S;var L=u.baseQueue,k=E.pending;if(k!==null){if(L!==null){var ie=L.next;L.next=k.next,k.next=ie}d.baseQueue=L=k,E.pending=null}if(k=u.baseState,L===null)u.memoizedState=k;else{d=L.next;var ge=ie=null,Oe=null,Xe=d,Tt=!1;do{var Ft=Xe.lane&-536870913;if(Ft!==Xe.lane?(zn&Ft)===Ft:(cc&Ft)===Ft){var ft=Xe.revertLane;if(ft===0)Oe!==null&&(Oe=Oe.next={lane:0,revertLane:0,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null}),Ft===bf&&(Tt=!0);else if((cc&ft)===ft){Xe=Xe.next,ft===bf&&(Tt=!0);continue}else Ft={lane:0,revertLane:Xe.revertLane,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null},Oe===null?(ge=Oe=Ft,ie=k):Oe=Oe.next=Ft,ci.lanes|=ft,Xs|=ft;Ft=Xe.action,vu&&S(k,Ft),k=Xe.hasEagerState?Xe.eagerState:S(k,Ft)}else ft={lane:Ft,revertLane:Xe.revertLane,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null},Oe===null?(ge=Oe=ft,ie=k):Oe=Oe.next=ft,ci.lanes|=Ft,Xs|=Ft;Xe=Xe.next}while(Xe!==null&&Xe!==d);if(Oe===null?ie=k:Oe.next=ge,!be(k,u.memoizedState)&&(ua=!0,Tt&&(S=pu,S!==null)))throw S;u.memoizedState=k,u.baseState=ie,u.baseQueue=Oe,E.lastRenderedState=k}return L===null&&(E.lanes=0),[u.memoizedState,E.dispatch]}function eg(u){var d=Fr(),S=d.queue;if(S===null)throw Error(r(311));S.lastRenderedReducer=u;var E=S.dispatch,L=S.pending,k=d.memoizedState;if(L!==null){S.pending=null;var ie=L=L.next;do k=u(k,ie.action),ie=ie.next;while(ie!==L);be(k,d.memoizedState)||(ua=!0),d.memoizedState=k,d.baseQueue===null&&(d.baseState=k),S.lastRenderedState=k}return[k,E]}function W_(u,d,S){var E=ci,L=Fr(),k=Ii;if(k){if(S===void 0)throw Error(r(407));S=S()}else S=d();var ie=!be((qi||L).memoizedState,S);if(ie&&(L.memoizedState=S,ua=!0),L=L.queue,N0(X_.bind(null,E,L,u),[u]),L.getSnapshot!==d||ie||ea!==null&&ea.memoizedState.tag&1){if(E.flags|=2048,_l(9,bu.bind(null,E,L,S,d),{destroy:void 0},null),er===null)throw Error(r(349));k||(cc&60)!==0||eo(E,d,S)}return S}function eo(u,d,S){u.flags|=16384,u={getSnapshot:d,value:S},d=ci.updateQueue,d===null?(d=Jm(),ci.updateQueue=d,d.stores=[u]):(S=d.stores,S===null?d.stores=[u]:S.push(u))}function bu(u,d,S,E){d.value=S,d.getSnapshot=E,Y_(d)&&q_(u)}function X_(u,d,S){return S(function(){Y_(d)&&q_(u)})}function Y_(u){var d=u.getSnapshot;u=u.value;try{var S=d();return!be(u,S)}catch{return!0}}function q_(u){var d=ec(u,2);d!==null&&ra(d,u,2)}function P0(u){var d=Ra();if(typeof u=="function"){var S=u;if(u=S(),vu){Se(!0);try{S()}finally{Se(!1)}}}return d.memoizedState=d.baseState=u,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Er,lastRenderedState:u},d}function D0(u,d,S,E){return u.baseState=S,_o(u,qi,typeof E=="function"?E:Er)}function KE(u,d,S,E,L){if(ag(u))throw Error(r(485));if(u=d.action,u!==null){var k={payload:L,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ie){k.listeners.push(ie)}};B.T!==null?S(!0):k.isTransition=!1,E(k),S=d.pending,S===null?(k.next=d.pending=k,L0(d,k)):(k.next=S.next,d.pending=S.next=k)}}function L0(u,d){var S=d.action,E=d.payload,L=u.state;if(d.isTransition){var k=B.T,ie={};B.T=ie;try{var ge=S(L,E),Oe=B.S;Oe!==null&&Oe(ie,ge),Z_(u,d,ge)}catch(Xe){uc(u,d,Xe)}finally{B.T=k}}else try{k=S(L,E),Z_(u,d,k)}catch(Xe){uc(u,d,Xe)}}function Z_(u,d,S){S!==null&&typeof S=="object"&&typeof S.then=="function"?S.then(function(E){Sf(u,d,E)},function(E){return uc(u,d,E)}):Sf(u,d,S)}function Sf(u,d,S){d.status="fulfilled",d.value=S,K_(d),u.state=S,d=u.pending,d!==null&&(S=d.next,S===d?u.pending=null:(S=S.next,d.next=S,L0(u,S)))}function uc(u,d,S){var E=u.pending;if(u.pending=null,E!==null){E=E.next;do d.status="rejected",d.reason=S,K_(d),d=d.next;while(d!==E)}u.action=null}function K_(u){u=u.listeners;for(var d=0;d<u.length;d++)(0,u[d])()}function Q_(u,d){return d}function J_(u,d){if(Ii){var S=er.formState;if(S!==null){e:{var E=ci;if(Ii){if(_a){t:{for(var L=_a,k=ds;L.nodeType!==8;){if(!k){L=null;break t}if(L=wc(L.nextSibling),L===null){L=null;break t}}k=L.data,L=k==="F!"||k==="F"?L:null}if(L){_a=wc(L.nextSibling),E=L.data==="F!";break e}}gf(E)}E=!1}E&&(d=S[0])}}return S=Ra(),S.memoizedState=S.baseState=d,E={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Q_,lastRenderedState:d},S.queue=E,S=H0.bind(null,ci,E),E.dispatch=S,E=P0(!1),k=fp.bind(null,ci,!1,E.queue),E=Ra(),L={state:d,dispatch:null,action:u,pending:null},E.queue=L,S=KE.bind(null,ci,L,k,S),L.dispatch=S,E.memoizedState=u,[d,S,!1]}function Ld(u){var d=Fr();return eS(d,qi,u)}function eS(u,d,S){d=_o(u,d,Q_)[0],u=Hs(Er)[0],d=typeof d=="object"&&d!==null&&typeof d.then=="function"?up(d):d;var E=Fr(),L=E.queue,k=L.dispatch;return S!==E.memoizedState&&(ci.flags|=2048,_l(9,QE.bind(null,L,S),{destroy:void 0},null)),[d,k,u]}function QE(u,d){u.action=d}function tS(u){var d=Fr(),S=qi;if(S!==null)return eS(d,S,u);Fr(),d=d.memoizedState,S=Fr();var E=S.queue.dispatch;return S.memoizedState=u,[d,E,!1]}function _l(u,d,S,E){return u={tag:u,create:d,inst:S,deps:E,next:null},d=ci.updateQueue,d===null&&(d=Jm(),ci.updateQueue=d),S=d.lastEffect,S===null?d.lastEffect=u.next=u:(E=S.next,S.next=u,u.next=E,d.lastEffect=u),u}function nS(){return Fr().memoizedState}function tg(u,d,S,E){var L=Ra();ci.flags|=u,L.memoizedState=_l(1|d,S,{destroy:void 0},E===void 0?null:E)}function ng(u,d,S,E){var L=Fr();E=E===void 0?null:E;var k=L.memoizedState.inst;qi!==null&&E!==null&&_f(E,qi.memoizedState.deps)?L.memoizedState=_l(d,S,k,E):(ci.flags|=u,L.memoizedState=_l(1|d,S,k,E))}function iS(u,d){tg(8390656,8,u,d)}function N0(u,d){ng(2048,8,u,d)}function rS(u,d){return ng(4,2,u,d)}function aS(u,d){return ng(4,4,u,d)}function oS(u,d){if(typeof d=="function"){u=u();var S=d(u);return function(){typeof S=="function"?S():d(null)}}if(d!=null)return u=u(),d.current=u,function(){d.current=null}}function sS(u,d,S){S=S!=null?S.concat([u]):null,ng(4,4,oS.bind(null,d,u),S)}function U0(){}function lS(u,d){var S=Fr();d=d===void 0?null:d;var E=S.memoizedState;return d!==null&&_f(d,E[1])?E[0]:(S.memoizedState=[u,d],u)}function cS(u,d){var S=Fr();d=d===void 0?null:d;var E=S.memoizedState;if(d!==null&&_f(d,E[1]))return E[0];if(E=u(),vu){Se(!0);try{u()}finally{Se(!1)}}return S.memoizedState=[E,d],E}function ig(u,d,S){return S===void 0||(cc&1073741824)!==0?u.memoizedState=d:(u.memoizedState=S,u=Ko(),ci.lanes|=u,Xs|=u,S)}function uS(u,d,S,E){return be(S,d)?S:vf.current!==null?(u=ig(u,S,E),be(u,d)||(ua=!0),u):(cc&42)===0?(ua=!0,u.memoizedState=S):(u=Ko(),ci.lanes|=u,Xs|=u,d)}function fS(u,d,S,E,L){var k=j.p;j.p=k!==0&&8>k?k:8;var ie=B.T,ge={};B.T=ge,fp(u,!1,d,S);try{var Oe=L(),Xe=B.S;if(Xe!==null&&Xe(ge,Oe),Oe!==null&&typeof Oe=="object"&&typeof Oe.then=="function"){var Tt=mu(Oe,E);xf(u,d,Tt,ao(u))}else xf(u,d,E,ao(u))}catch(Ft){xf(u,d,{then:function(){},status:"rejected",reason:Ft},ao())}finally{j.p=k,B.T=ie}}function JE(){}function B0(u,d,S,E){if(u.tag!==5)throw Error(r(476));var L=dS(u).queue;fS(u,L,d,pe,S===null?JE:function(){return hS(u),S(E)})}function dS(u){var d=u.memoizedState;if(d!==null)return d;d={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Er,lastRenderedState:pe},next:null};var S={};return d.next={memoizedState:S,baseState:S,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Er,lastRenderedState:S},next:null},u.memoizedState=d,u=u.alternate,u!==null&&(u.memoizedState=d),d}function hS(u){var d=dS(u).next.queue;xf(u,d,{},ao())}function rg(){return ka(fy)}function F0(){return Fr().memoizedState}function pS(){return Fr().memoizedState}function mS(u){for(var d=u.return;d!==null;){switch(d.tag){case 24:case 3:var S=ao();u=qo(S);var E=Zo(d,u,S);E!==null&&(ra(E,d,S),wu(E,d,S)),d={cache:R0()},u.payload=d;return}d=d.return}}function gS(u,d,S){var E=ao();S={lane:E,revertLane:0,action:S,hasEagerState:!1,eagerState:null,next:null},ag(u)?vS(d,S):(S=pf(u,d,S,E),S!==null&&(ra(S,u,E),yS(S,d,E)))}function H0(u,d,S){var E=ao();xf(u,d,S,E)}function xf(u,d,S,E){var L={lane:E,revertLane:0,action:S,hasEagerState:!1,eagerState:null,next:null};if(ag(u))vS(d,L);else{var k=u.alternate;if(u.lanes===0&&(k===null||k.lanes===0)&&(k=d.lastRenderedReducer,k!==null))try{var ie=d.lastRenderedState,ge=k(ie,S);if(L.hasEagerState=!0,L.eagerState=ge,be(ge,ie))return Kh(u,d,L,0),er===null&&Zh(),!1}catch{}finally{}if(S=pf(u,d,L,E),S!==null)return ra(S,u,E),yS(S,d,E),!0}return!1}function fp(u,d,S,E){if(E={lane:2,revertLane:iM(),action:E,hasEagerState:!1,eagerState:null,next:null},ag(u)){if(d)throw Error(r(479))}else d=pf(u,S,E,2),d!==null&&ra(d,u,2)}function ag(u){var d=u.alternate;return u===ci||d!==null&&d===ci}function vS(u,d){gu=Fn=!0;var S=u.pending;S===null?d.next=d:(d.next=S.next,S.next=d),u.pending=d}function yS(u,d,S){if((S&4194176)!==0){var E=d.lanes;E&=u.pendingLanes,S|=E,d.lanes=S,Bn(u,S)}}var Sl={readContext:ka,use:Dd,useCallback:Dr,useContext:Dr,useEffect:Dr,useImperativeHandle:Dr,useLayoutEffect:Dr,useInsertionEffect:Dr,useMemo:Dr,useReducer:Dr,useRef:Dr,useState:Dr,useDebugValue:Dr,useDeferredValue:Dr,useTransition:Dr,useSyncExternalStore:Dr,useId:Dr};Sl.useCacheRefresh=Dr,Sl.useMemoCache=Dr,Sl.useHostTransitionStatus=Dr,Sl.useFormState=Dr,Sl.useActionState=Dr,Sl.useOptimistic=Dr;var _u={readContext:ka,use:Dd,useCallback:function(u,d){return Ra().memoizedState=[u,d===void 0?null:d],u},useContext:ka,useEffect:iS,useImperativeHandle:function(u,d,S){S=S!=null?S.concat([u]):null,tg(4194308,4,oS.bind(null,d,u),S)},useLayoutEffect:function(u,d){return tg(4194308,4,u,d)},useInsertionEffect:function(u,d){tg(4,2,u,d)},useMemo:function(u,d){var S=Ra();d=d===void 0?null:d;var E=u();if(vu){Se(!0);try{u()}finally{Se(!1)}}return S.memoizedState=[E,d],E},useReducer:function(u,d,S){var E=Ra();if(S!==void 0){var L=S(d);if(vu){Se(!0);try{S(d)}finally{Se(!1)}}}else L=d;return E.memoizedState=E.baseState=L,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:L},E.queue=u,u=u.dispatch=gS.bind(null,ci,u),[E.memoizedState,u]},useRef:function(u){var d=Ra();return u={current:u},d.memoizedState=u},useState:function(u){u=P0(u);var d=u.queue,S=H0.bind(null,ci,d);return d.dispatch=S,[u.memoizedState,S]},useDebugValue:U0,useDeferredValue:function(u,d){var S=Ra();return ig(S,u,d)},useTransition:function(){var u=P0(!1);return u=fS.bind(null,ci,u.queue,!0,!1),Ra().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,d,S){var E=ci,L=Ra();if(Ii){if(S===void 0)throw Error(r(407));S=S()}else{if(S=d(),er===null)throw Error(r(349));(zn&60)!==0||eo(E,d,S)}L.memoizedState=S;var k={value:S,getSnapshot:d};return L.queue=k,iS(X_.bind(null,E,k,u),[u]),E.flags|=2048,_l(9,bu.bind(null,E,k,S,d),{destroy:void 0},null),S},useId:function(){var u=Ra(),d=er.identifierPrefix;if(Ii){var S=nc,E=ml;S=(E&~(1<<32-ke(E)-1)).toString(32)+S,d=":"+d+"R"+S,S=zd++,0<S&&(d+="H"+S.toString(32)),d+=":"}else S=qE++,d=":"+d+"r"+S.toString(32)+":";return u.memoizedState=d},useCacheRefresh:function(){return Ra().memoizedState=mS.bind(null,ci)}};_u.useMemoCache=Fs,_u.useHostTransitionStatus=rg,_u.useFormState=J_,_u.useActionState=J_,_u.useOptimistic=function(u){var d=Ra();d.memoizedState=d.baseState=u;var S={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=S,d=fp.bind(null,ci,!0,S),S.dispatch=d,[u,d]};var fc={readContext:ka,use:Dd,useCallback:lS,useContext:ka,useEffect:N0,useImperativeHandle:sS,useInsertionEffect:rS,useLayoutEffect:aS,useMemo:cS,useReducer:Hs,useRef:nS,useState:function(){return Hs(Er)},useDebugValue:U0,useDeferredValue:function(u,d){var S=Fr();return uS(S,qi.memoizedState,u,d)},useTransition:function(){var u=Hs(Er)[0],d=Fr().memoizedState;return[typeof u=="boolean"?u:up(u),d]},useSyncExternalStore:W_,useId:F0};fc.useCacheRefresh=pS,fc.useMemoCache=Fs,fc.useHostTransitionStatus=rg,fc.useFormState=Ld,fc.useActionState=Ld,fc.useOptimistic=function(u,d){var S=Fr();return D0(S,qi,u,d)};var wf={readContext:ka,use:Dd,useCallback:lS,useContext:ka,useEffect:N0,useImperativeHandle:sS,useInsertionEffect:rS,useLayoutEffect:aS,useMemo:cS,useReducer:eg,useRef:nS,useState:function(){return eg(Er)},useDebugValue:U0,useDeferredValue:function(u,d){var S=Fr();return qi===null?ig(S,u,d):uS(S,qi.memoizedState,u,d)},useTransition:function(){var u=eg(Er)[0],d=Fr().memoizedState;return[typeof u=="boolean"?u:up(u),d]},useSyncExternalStore:W_,useId:F0};wf.useCacheRefresh=pS,wf.useMemoCache=Fs,wf.useHostTransitionStatus=rg,wf.useFormState=tS,wf.useActionState=tS,wf.useOptimistic=function(u,d){var S=Fr();return qi!==null?D0(S,qi,u,d):(S.baseState=u,[u,S.queue.dispatch])};function k0(u,d,S,E){d=u.memoizedState,S=S(E,d),S=S==null?d:U({},d,S),u.memoizedState=S,u.lanes===0&&(u.updateQueue.baseState=S)}var $0={isMounted:function(u){return(u=u._reactInternals)?te(u)===u:!1},enqueueSetState:function(u,d,S){u=u._reactInternals;var E=ao(),L=qo(E);L.payload=d,S!=null&&(L.callback=S),d=Zo(u,L,E),d!==null&&(ra(d,u,E),wu(d,u,E))},enqueueReplaceState:function(u,d,S){u=u._reactInternals;var E=ao(),L=qo(E);L.tag=1,L.payload=d,S!=null&&(L.callback=S),d=Zo(u,L,E),d!==null&&(ra(d,u,E),wu(d,u,E))},enqueueForceUpdate:function(u,d){u=u._reactInternals;var S=ao(),E=qo(S);E.tag=2,d!=null&&(E.callback=d),d=Zo(u,E,S),d!==null&&(ra(d,u,S),wu(d,u,S))}};function bS(u,d,S,E,L,k,ie){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(E,k,ie):d.prototype&&d.prototype.isPureReactComponent?!De(S,E)||!De(L,k):!0}function _S(u,d,S,E){u=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(S,E),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(S,E),d.state!==u&&$0.enqueueReplaceState(d,d.state,null)}function Cf(u,d){var S=d;if("ref"in d){S={};for(var E in d)E!=="ref"&&(S[E]=d[E])}if(u=u.defaultProps){S===d&&(S=U({},S));for(var L in u)S[L]===void 0&&(S[L]=u[L])}return S}var og=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)};function SS(u){og(u)}function xS(u){console.error(u)}function wS(u){og(u)}function sg(u,d){try{var S=u.onUncaughtError;S(d.value,{componentStack:d.stack})}catch(E){setTimeout(function(){throw E})}}function CS(u,d,S){try{var E=u.onCaughtError;E(S.value,{componentStack:S.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(L){setTimeout(function(){throw L})}}function V0(u,d,S){return S=qo(S),S.tag=3,S.payload={element:null},S.callback=function(){sg(u,d)},S}function G0(u){return u=qo(u),u.tag=3,u}function ES(u,d,S,E){var L=S.type.getDerivedStateFromError;if(typeof L=="function"){var k=E.value;u.payload=function(){return L(k)},u.callback=function(){CS(d,S,E)}}var ie=S.stateNode;ie!==null&&typeof ie.componentDidCatch=="function"&&(u.callback=function(){CS(d,S,E),typeof L!="function"&&(ia===null?ia=new Set([this]):ia.add(this));var ge=E.stack;this.componentDidCatch(E.value,{componentStack:ge!==null?ge:""})})}function eM(u,d,S,E,L){if(S.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){if(d=S.alternate,d!==null&&hp(d,S,L,!0),S=bo.current,S!==null){switch(S.tag){case 13:return vl===null?Sp():S.alternate===null&&br===0&&(br=3),S.flags&=-257,S.flags|=65536,S.lanes=L,E===Ym?S.flags|=16384:(d=S.updateQueue,d===null?S.updateQueue=new Set([E]):d.add(E),Zn(u,E,L)),!1;case 22:return S.flags|=65536,E===Ym?S.flags|=16384:(d=S.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([E])},S.updateQueue=d):(S=d.retryQueue,S===null?d.retryQueue=new Set([E]):S.add(E)),Zn(u,E,L)),!1}throw Error(r(435,S.tag))}return Zn(u,E,L),Sp(),!1}if(Ii)return d=bo.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=L,E!==np&&(u=Error(r(422),{cause:E}),gl(yo(u,S)))):(E!==np&&(d=Error(r(423),{cause:E}),gl(yo(d,S))),u=u.current.alternate,u.flags|=65536,L&=-L,u.lanes|=L,E=yo(E,S),L=V0(u.stateNode,E,L),Hd(u,L),br!==4&&(br=2)),!1;var k=Error(r(520),{cause:E});if(k=yo(k,S),_p===null?_p=[k]:_p.push(k),br!==4&&(br=2),d===null)return!0;E=yo(E,S),S=d;do{switch(S.tag){case 3:return S.flags|=65536,u=L&-L,S.lanes|=u,u=V0(S.stateNode,E,u),Hd(S,u),!1;case 1:if(d=S.type,k=S.stateNode,(S.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(ia===null||!ia.has(k))))return S.flags|=65536,L&=-L,S.lanes|=L,L=G0(L),ES(L,u,S,E),Hd(S,L),!1}S=S.return}while(S!==null);return!1}var Xo=Error(r(461)),ua=!1;function fa(u,d,S,E){d.child=u===null?rc(d,null,S,E):ic(d,u.child,S,E)}function j0(u,d,S,E,L){S=S.render;var k=d.ref;if("ref"in E){var ie={};for(var ge in E)ge!=="ref"&&(ie[ge]=E[ge])}else ie=E;return Mf(d),E=I0(u,d,S,ie,k,L),ge=z0(),u!==null&&!ua?(cp(u,d,L),Hr(u,d,L)):(Ii&&ge&&tp(d),d.flags|=1,fa(u,d,E,L),d.child)}function W0(u,d,S,E,L){if(u===null){var k=S.type;return typeof k=="function"&&!yc(k)&&k.defaultProps===void 0&&S.compare===null?(d.tag=15,d.type=k,X0(u,d,k,E,L)):(u=Gd(S.type,null,E,d,d.mode,L),u.ref=d.ref,u.return=d,d.child=u)}if(k=u.child,!ey(u,L)){var ie=k.memoizedProps;if(S=S.compare,S=S!==null?S:De,S(ie,E)&&u.ref===d.ref)return Hr(u,d,L)}return d.flags|=1,u=io(k,E),u.ref=d.ref,u.return=d,d.child=u}function X0(u,d,S,E,L){if(u!==null){var k=u.memoizedProps;if(De(k,E)&&u.ref===d.ref)if(ua=!1,d.pendingProps=E=k,ey(u,L))(u.flags&131072)!==0&&(ua=!0);else return d.lanes=u.lanes,Hr(u,d,L)}return q0(u,d,S,E,L)}function MS(u,d,S){var E=d.pendingProps,L=E.children,k=(d.stateNode._pendingVisibility&2)!==0,ie=u!==null?u.memoizedState:null;if(Nd(u,d),E.mode==="hidden"||k){if((d.flags&128)!==0){if(E=ie!==null?ie.baseLanes|S:S,u!==null){for(L=d.child=u.child,k=0;L!==null;)k=k|L.lanes|L.childLanes,L=L.sibling;d.childLanes=k&~E}else d.childLanes=0,d.child=null;return Y0(u,d,E,S)}if((S&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},u!==null&&Id(d,ie!==null?ie.cachePool:null),ie!==null?fu(d,ie):Zm(),A0(d);else return d.lanes=d.childLanes=536870912,Y0(u,d,ie!==null?ie.baseLanes|S:S,S)}else ie!==null?(Id(d,ie.cachePool),fu(d,ie),oc(),d.memoizedState=null):(u!==null&&Id(d,null),Zm(),oc());return fa(u,d,L,S),d.child}function Y0(u,d,S,E){var L=lp();return L=L===null?null:{parent:Br._currentValue,pool:L},d.memoizedState={baseLanes:S,cachePool:L},u!==null&&Id(d,null),Zm(),A0(d),u!==null&&hp(u,d,E,!0),null}function Nd(u,d){var S=d.ref;if(S===null)u!==null&&u.ref!==null&&(d.flags|=2097664);else{if(typeof S!="function"&&typeof S!="object")throw Error(r(284));(u===null||u.ref!==S)&&(d.flags|=2097664)}}function q0(u,d,S,E,L){return Mf(d),S=I0(u,d,S,E,void 0,L),E=z0(),u!==null&&!ua?(cp(u,d,L),Hr(u,d,L)):(Ii&&E&&tp(d),d.flags|=1,fa(u,d,S,L),d.child)}function TS(u,d,S,E,L,k){return Mf(d),d.updateQueue=null,S=j_(d,E,S,L),G_(u),E=z0(),u!==null&&!ua?(cp(u,d,k),Hr(u,d,k)):(Ii&&E&&tp(d),d.flags|=1,fa(u,d,S,k),d.child)}function AS(u,d,S,E,L){if(Mf(d),d.stateNode===null){var k=au,ie=S.contextType;typeof ie=="object"&&ie!==null&&(k=ka(ie)),k=new S(E,k),d.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,k.updater=$0,d.stateNode=k,k._reactInternals=d,k=d.stateNode,k.props=E,k.state=d.memoizedState,k.refs={},to(d),ie=S.contextType,k.context=typeof ie=="object"&&ie!==null?ka(ie):au,k.state=d.memoizedState,ie=S.getDerivedStateFromProps,typeof ie=="function"&&(k0(d,S,ie,E),k.state=d.memoizedState),typeof S.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(ie=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),ie!==k.state&&$0.enqueueReplaceState(k,k.state,null),$s(d,E,k,L),$a(),k.state=d.memoizedState),typeof k.componentDidMount=="function"&&(d.flags|=4194308),E=!0}else if(u===null){k=d.stateNode;var ge=d.memoizedProps,Oe=Cf(S,ge);k.props=Oe;var Xe=k.context,Tt=S.contextType;ie=au,typeof Tt=="object"&&Tt!==null&&(ie=ka(Tt));var Ft=S.getDerivedStateFromProps;Tt=typeof Ft=="function"||typeof k.getSnapshotBeforeUpdate=="function",ge=d.pendingProps!==ge,Tt||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(ge||Xe!==ie)&&_S(d,k,E,ie),ta=!1;var ft=d.memoizedState;k.state=ft,$s(d,E,k,L),$a(),Xe=d.memoizedState,ge||ft!==Xe||ta?(typeof Ft=="function"&&(k0(d,S,Ft,E),Xe=d.memoizedState),(Oe=ta||bS(d,S,Oe,E,ft,Xe,ie))?(Tt||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(d.flags|=4194308)):(typeof k.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=E,d.memoizedState=Xe),k.props=E,k.state=Xe,k.context=ie,E=Oe):(typeof k.componentDidMount=="function"&&(d.flags|=4194308),E=!1)}else{k=d.stateNode,hg(u,d),ie=d.memoizedProps,Tt=Cf(S,ie),k.props=Tt,Ft=d.pendingProps,ft=k.context,Xe=S.contextType,Oe=au,typeof Xe=="object"&&Xe!==null&&(Oe=ka(Xe)),ge=S.getDerivedStateFromProps,(Xe=typeof ge=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(ie!==Ft||ft!==Oe)&&_S(d,k,E,Oe),ta=!1,ft=d.memoizedState,k.state=ft,$s(d,E,k,L),$a();var Et=d.memoizedState;ie!==Ft||ft!==Et||ta||u!==null&&u.dependencies!==null&&Bd(u.dependencies)?(typeof ge=="function"&&(k0(d,S,ge,E),Et=d.memoizedState),(Tt=ta||bS(d,S,Tt,E,ft,Et,Oe)||u!==null&&u.dependencies!==null&&Bd(u.dependencies))?(Xe||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(E,Et,Oe),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(E,Et,Oe)),typeof k.componentDidUpdate=="function"&&(d.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof k.componentDidUpdate!="function"||ie===u.memoizedProps&&ft===u.memoizedState||(d.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||ie===u.memoizedProps&&ft===u.memoizedState||(d.flags|=1024),d.memoizedProps=E,d.memoizedState=Et),k.props=E,k.state=Et,k.context=Oe,E=Tt):(typeof k.componentDidUpdate!="function"||ie===u.memoizedProps&&ft===u.memoizedState||(d.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||ie===u.memoizedProps&&ft===u.memoizedState||(d.flags|=1024),E=!1)}return k=E,Nd(u,d),E=(d.flags&128)!==0,k||E?(k=d.stateNode,S=E&&typeof S.getDerivedStateFromError!="function"?null:k.render(),d.flags|=1,u!==null&&E?(d.child=ic(d,u.child,null,L),d.child=ic(d,null,S,L)):fa(u,d,S,L),d.memoizedState=k.state,u=d.child):u=Hr(u,d,L),u}function Z0(u,d,S,E){return Ad(),d.flags|=256,fa(u,d,S,E),d.child}var K0={dehydrated:null,treeContext:null,retryLane:0};function Sa(u){return{baseLanes:u,cachePool:lc()}}function lg(u,d,S){return u=u!==null?u.childLanes&~S:0,d&&(u|=ro),u}function RS(u,d,S){var E=d.pendingProps,L=!1,k=(d.flags&128)!==0,ie;if((ie=k)||(ie=u!==null&&u.memoizedState===null?!1:(Jr.current&2)!==0),ie&&(L=!0,d.flags&=-129),ie=(d.flags&32)!==0,d.flags&=-33,u===null){if(Ii){if(L?ac(d):oc(),Ii){var ge=_a,Oe;if(Oe=ge){e:{for(Oe=ge,ge=ds;Oe.nodeType!==8;){if(!ge){ge=null;break e}if(Oe=wc(Oe.nextSibling),Oe===null){ge=null;break e}}ge=Oe}ge!==null?(d.memoizedState={dehydrated:ge,treeContext:tc!==null?{id:ml,overflow:nc}:null,retryLane:536870912},Oe=Gr(18,null,null,0),Oe.stateNode=ge,Oe.return=d,d.child=Oe,Ha=d,_a=null,Oe=!0):Oe=!1}Oe||gf(d)}if(ge=d.memoizedState,ge!==null&&(ge=ge.dehydrated,ge!==null))return ge.data==="$!"?d.lanes=16:d.lanes=536870912,null;yl(d)}return ge=E.children,E=E.fallback,L?(oc(),L=d.mode,ge=J0({mode:"hidden",children:ge},L),E=Ru(E,L,S,null),ge.return=d,E.return=d,ge.sibling=E,d.child=ge,L=d.child,L.memoizedState=Sa(S),L.childLanes=lg(u,ie,S),d.memoizedState=K0,E):(ac(d),Q0(d,ge))}if(Oe=u.memoizedState,Oe!==null&&(ge=Oe.dehydrated,ge!==null)){if(k)d.flags&256?(ac(d),d.flags&=-257,d=cg(u,d,S)):d.memoizedState!==null?(oc(),d.child=u.child,d.flags|=128,d=null):(oc(),L=E.fallback,ge=d.mode,E=J0({mode:"visible",children:E.children},ge),L=Ru(L,ge,S,null),L.flags|=2,E.return=d,L.return=d,E.sibling=L,d.child=E,ic(d,u.child,null,S),E=d.child,E.memoizedState=Sa(S),E.childLanes=lg(u,ie,S),d.memoizedState=K0,d=L);else if(ac(d),ge.data==="$!"){if(ie=ge.nextSibling&&ge.nextSibling.dataset,ie)var Xe=ie.dgst;ie=Xe,E=Error(r(419)),E.stack="",E.digest=ie,gl({value:E,source:null,stack:null}),d=cg(u,d,S)}else if(ua||hp(u,d,S,!1),ie=(S&u.childLanes)!==0,ua||ie){if(ie=er,ie!==null){if(E=S&-S,(E&42)!==0)E=1;else switch(E){case 2:E=1;break;case 8:E=4;break;case 32:E=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:E=64;break;case 268435456:E=134217728;break;default:E=0}if(E=(E&(ie.suspendedLanes|S))!==0?0:E,E!==0&&E!==Oe.retryLane)throw Oe.retryLane=E,ec(u,E),ra(ie,u,E),Xo}ge.data==="$?"||Sp(),d=cg(u,d,S)}else ge.data==="$?"?(d.flags|=128,d.child=u.child,d=Pf.bind(null,u),ge._reactRetry=d,d=null):(u=Oe.treeContext,_a=wc(ge.nextSibling),Ha=d,Ii=!0,fs=null,ds=!1,u!==null&&(fr[jo++]=ml,fr[jo++]=nc,fr[jo++]=tc,ml=u.id,nc=u.overflow,tc=d),d=Q0(d,E.children),d.flags|=4096);return d}return L?(oc(),L=E.fallback,ge=d.mode,Oe=u.child,Xe=Oe.sibling,E=io(Oe,{mode:"hidden",children:E.children}),E.subtreeFlags=Oe.subtreeFlags&31457280,Xe!==null?L=io(Xe,L):(L=Ru(L,ge,S,null),L.flags|=2),L.return=d,E.return=d,E.sibling=L,d.child=E,E=L,L=d.child,ge=u.child.memoizedState,ge===null?ge=Sa(S):(Oe=ge.cachePool,Oe!==null?(Xe=Br._currentValue,Oe=Oe.parent!==Xe?{parent:Xe,pool:Xe}:Oe):Oe=lc(),ge={baseLanes:ge.baseLanes|S,cachePool:Oe}),L.memoizedState=ge,L.childLanes=lg(u,ie,S),d.memoizedState=K0,E):(ac(d),S=u.child,u=S.sibling,S=io(S,{mode:"visible",children:E.children}),S.return=d,S.sibling=null,u!==null&&(ie=d.deletions,ie===null?(d.deletions=[u],d.flags|=16):ie.push(u)),d.child=S,d.memoizedState=null,S)}function Q0(u,d){return d=J0({mode:"visible",children:d},u.mode),d.return=u,u.child=d}function J0(u,d){return ny(u,d,0,null)}function cg(u,d,S){return ic(d,u.child,null,S),u=Q0(d,d.pendingProps.children),u.flags|=2,d.memoizedState=null,u}function ug(u,d,S){u.lanes|=d;var E=u.alternate;E!==null&&(E.lanes|=d),Yo(u.return,d,S)}function Su(u,d,S,E,L){var k=u.memoizedState;k===null?u.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:E,tail:S,tailMode:L}:(k.isBackwards=d,k.rendering=null,k.renderingStartTime=0,k.last=E,k.tail=S,k.tailMode=L)}function Ef(u,d,S){var E=d.pendingProps,L=E.revealOrder,k=E.tail;if(fa(u,d,E.children,S),E=Jr.current,(E&2)!==0)E=E&1|2,d.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=d.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&ug(u,S,d);else if(u.tag===19)ug(u,S,d);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===d)break e;for(;u.sibling===null;){if(u.return===null||u.return===d)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}E&=1}switch(Ue(Jr,E),L){case"forwards":for(S=d.child,L=null;S!==null;)u=S.alternate,u!==null&&Od(u)===null&&(L=S),S=S.sibling;S=L,S===null?(L=d.child,d.child=null):(L=S.sibling,S.sibling=null),Su(d,!1,L,S,k);break;case"backwards":for(S=null,L=d.child,d.child=null;L!==null;){if(u=L.alternate,u!==null&&Od(u)===null){d.child=L;break}u=L.sibling,L.sibling=S,S=L,L=u}Su(d,!0,S,null,k);break;case"together":Su(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Hr(u,d,S){if(u!==null&&(d.dependencies=u.dependencies),Xs|=d.lanes,(S&d.childLanes)===0)if(u!==null){if(hp(u,d,S,!1),(S&d.childLanes)===0)return null}else return null;if(u!==null&&d.child!==u.child)throw Error(r(153));if(d.child!==null){for(u=d.child,S=io(u,u.pendingProps),d.child=S,S.return=d;u.sibling!==null;)u=u.sibling,S=S.sibling=io(u,u.pendingProps),S.return=d;S.sibling=null}return d.child}function ey(u,d){return(u.lanes&d)!==0?!0:(u=u.dependencies,!!(u!==null&&Bd(u)))}function tM(u,d,S){switch(d.tag){case 3:Fe(d,d.stateNode.containerInfo),xu(d,Br,u.memoizedState.cache),Ad();break;case 27:case 5:Ye(d);break;case 4:Fe(d,d.stateNode.containerInfo);break;case 10:xu(d,d.type,d.memoizedProps.value);break;case 13:var E=d.memoizedState;if(E!==null)return E.dehydrated!==null?(ac(d),d.flags|=128,null):(S&d.child.childLanes)!==0?RS(u,d,S):(ac(d),u=Hr(u,d,S),u!==null?u.sibling:null);ac(d);break;case 19:var L=(u.flags&128)!==0;if(E=(S&d.childLanes)!==0,E||(hp(u,d,S,!1),E=(S&d.childLanes)!==0),L){if(E)return Ef(u,d,S);d.flags|=128}if(L=d.memoizedState,L!==null&&(L.rendering=null,L.tail=null,L.lastEffect=null),Ue(Jr,Jr.current),E)break;return null;case 22:case 23:return d.lanes=0,MS(u,d,S);case 24:xu(d,Br,u.memoizedState.cache)}return Hr(u,d,S)}function dp(u,d,S){if(u!==null)if(u.memoizedProps!==d.pendingProps)ua=!0;else{if(!ey(u,S)&&(d.flags&128)===0)return ua=!1,tM(u,d,S);ua=(u.flags&131072)!==0}else ua=!1,Ii&&(d.flags&1048576)!==0&&M0(d,ep,d.index);switch(d.lanes=0,d.tag){case 16:e:{u=d.pendingProps;var E=d.elementType,L=E._init;if(E=L(E._payload),d.type=E,typeof E=="function")yc(E)?(u=Cf(E,u),d.tag=1,d=AS(null,d,E,u,S)):(d.tag=0,d=q0(null,d,E,u,S));else{if(E!=null){if(L=E.$$typeof,L===c){d.tag=11,d=j0(null,d,E,u,S);break e}else if(L===b){d.tag=14,d=W0(null,d,E,u,S);break e}}throw d=F(E)||E,Error(r(306,d,""))}}return d;case 0:return q0(u,d,d.type,d.pendingProps,S);case 1:return E=d.type,L=Cf(E,d.pendingProps),AS(u,d,E,L,S);case 3:e:{if(Fe(d,d.stateNode.containerInfo),u===null)throw Error(r(387));var k=d.pendingProps;L=d.memoizedState,E=L.element,hg(u,d),$s(d,k,null,S);var ie=d.memoizedState;if(k=ie.cache,xu(d,Br,k),k!==L.cache&&fg(d,[Br],S,!0),$a(),k=ie.element,L.isDehydrated)if(L={element:k,isDehydrated:!1,cache:ie.cache},d.updateQueue.baseState=L,d.memoizedState=L,d.flags&256){d=Z0(u,d,k,S);break e}else if(k!==E){E=yo(Error(r(424)),d),gl(E),d=Z0(u,d,k,S);break e}else for(_a=wc(d.stateNode.containerInfo.firstChild),Ha=d,Ii=!0,fs=null,ds=!0,S=rc(d,null,k,S),d.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if(Ad(),k===E){d=Hr(u,d,S);break e}fa(u,d,k,S)}d=d.child}return d;case 26:return Nd(u,d),u===null?(S=ZI(d.type,null,d.pendingProps,null))?d.memoizedState=S:Ii||(S=d.type,u=d.pendingProps,E=NS(we.current).createElement(S),E[ti]=d,E[dn]=u,oo(E,S,u),Ke(E),d.stateNode=E):d.memoizedState=ZI(d.type,u.memoizedProps,d.pendingProps,u.memoizedState),null;case 27:return Ye(d),u===null&&Ii&&(E=d.stateNode=XI(d.type,d.pendingProps,we.current),Ha=d,ds=!0,_a=wc(E.firstChild)),E=d.pendingProps.children,u!==null||Ii?fa(u,d,E,S):d.child=ic(d,null,E,S),Nd(u,d),d.child;case 5:return u===null&&Ii&&((L=E=_a)&&(E=jH(E,d.type,d.pendingProps,ds),E!==null?(d.stateNode=E,Ha=d,_a=wc(E.firstChild),ds=!1,L=!0):L=!1),L||gf(d)),Ye(d),L=d.type,k=d.pendingProps,ie=u!==null?u.memoizedProps:null,E=k.children,dM(L,k)?E=null:ie!==null&&dM(L,ie)&&(d.flags|=32),d.memoizedState!==null&&(L=I0(u,d,ZE,null,null,S),fy._currentValue=L),Nd(u,d),fa(u,d,E,S),d.child;case 6:return u===null&&Ii&&((u=S=_a)&&(S=WH(S,d.pendingProps,ds),S!==null?(d.stateNode=S,Ha=d,_a=null,u=!0):u=!1),u||gf(d)),null;case 13:return RS(u,d,S);case 4:return Fe(d,d.stateNode.containerInfo),E=d.pendingProps,u===null?d.child=ic(d,null,E,S):fa(u,d,E,S),d.child;case 11:return j0(u,d,d.type,d.pendingProps,S);case 7:return fa(u,d,d.pendingProps,S),d.child;case 8:return fa(u,d,d.pendingProps.children,S),d.child;case 12:return fa(u,d,d.pendingProps.children,S),d.child;case 10:return E=d.pendingProps,xu(d,d.type,E.value),fa(u,d,E.children,S),d.child;case 9:return L=d.type._context,E=d.pendingProps.children,Mf(d),L=ka(L),E=E(L),d.flags|=1,fa(u,d,E,S),d.child;case 14:return W0(u,d,d.type,d.pendingProps,S);case 15:return X0(u,d,d.type,d.pendingProps,S);case 19:return Ef(u,d,S);case 22:return MS(u,d,S);case 24:return Mf(d),E=ka(Br),u===null?(L=lp(),L===null&&(L=er,k=R0(),L.pooledCache=k,k.refCount++,k!==null&&(L.pooledCacheLanes|=S),L=k),d.memoizedState={parent:E,cache:L},to(d),xu(d,Br,L)):((u.lanes&S)!==0&&(hg(u,d),$s(d,null,null,S),$a()),L=u.memoizedState,k=d.memoizedState,L.parent!==E?(L={parent:E,cache:E},d.memoizedState=L,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=L),xu(d,Br,E)):(E=k.cache,xu(d,Br,E),E!==L.cache&&fg(d,[Br],S,!0))),fa(u,d,d.pendingProps.children,S),d.child;case 29:throw d.pendingProps}throw Error(r(156,d.tag))}var Ud=Me(null),xl=null,ks=null;function xu(u,d,S){Ue(Ud,d._currentValue),d._currentValue=S}function dc(u){u._currentValue=Ud.current,Ae(Ud)}function Yo(u,d,S){for(;u!==null;){var E=u.alternate;if((u.childLanes&d)!==d?(u.childLanes|=d,E!==null&&(E.childLanes|=d)):E!==null&&(E.childLanes&d)!==d&&(E.childLanes|=d),u===S)break;u=u.return}}function fg(u,d,S,E){var L=u.child;for(L!==null&&(L.return=u);L!==null;){var k=L.dependencies;if(k!==null){var ie=L.child;k=k.firstContext;e:for(;k!==null;){var ge=k;k=L;for(var Oe=0;Oe<d.length;Oe++)if(ge.context===d[Oe]){k.lanes|=S,ge=k.alternate,ge!==null&&(ge.lanes|=S),Yo(k.return,S,u),E||(ie=null);break e}k=ge.next}}else if(L.tag===18){if(ie=L.return,ie===null)throw Error(r(341));ie.lanes|=S,k=ie.alternate,k!==null&&(k.lanes|=S),Yo(ie,S,u),ie=null}else ie=L.child;if(ie!==null)ie.return=L;else for(ie=L;ie!==null;){if(ie===u){ie=null;break}if(L=ie.sibling,L!==null){L.return=ie.return,ie=L;break}ie=ie.return}L=ie}}function hp(u,d,S,E){u=null;for(var L=d,k=!1;L!==null;){if(!k){if((L.flags&524288)!==0)k=!0;else if((L.flags&262144)!==0)break}if(L.tag===10){var ie=L.alternate;if(ie===null)throw Error(r(387));if(ie=ie.memoizedProps,ie!==null){var ge=L.type;be(L.pendingProps.value,ie.value)||(u!==null?u.push(ge):u=[ge])}}else if(L===re.current){if(ie=L.alternate,ie===null)throw Error(r(387));ie.memoizedState.memoizedState!==L.memoizedState.memoizedState&&(u!==null?u.push(fy):u=[fy])}L=L.return}u!==null&&fg(d,u,S,E),d.flags|=262144}function Bd(u){for(u=u.firstContext;u!==null;){if(!be(u.context._currentValue,u.memoizedValue))return!0;u=u.next}return!1}function Mf(u){xl=u,ks=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function ka(u){return Fd(xl,u)}function dg(u,d){return xl===null&&Mf(u),Fd(u,d)}function Fd(u,d){var S=d._currentValue;if(d={context:d,memoizedValue:S,next:null},ks===null){if(u===null)throw Error(r(308));ks=d,u.dependencies={lanes:0,firstContext:d},u.flags|=524288}else ks=ks.next=d;return S}var ta=!1;function to(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hg(u,d){u=u.updateQueue,d.updateQueue===u&&(d.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function qo(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function Zo(u,d,S){var E=u.updateQueue;if(E===null)return null;if(E=E.shared,(qn&2)!==0){var L=E.pending;return L===null?d.next=d:(d.next=L.next,L.next=d),E.pending=d,d=Jh(u),Qh(u,null,S),d}return Kh(u,E,d,S),Jh(u)}function wu(u,d,S){if(d=d.updateQueue,d!==null&&(d=d.shared,(S&4194176)!==0)){var E=d.lanes;E&=u.pendingLanes,S|=E,d.lanes=S,Bn(u,S)}}function Hd(u,d){var S=u.updateQueue,E=u.alternate;if(E!==null&&(E=E.updateQueue,S===E)){var L=null,k=null;if(S=S.firstBaseUpdate,S!==null){do{var ie={lane:S.lane,tag:S.tag,payload:S.payload,callback:null,next:null};k===null?L=k=ie:k=k.next=ie,S=S.next}while(S!==null);k===null?L=k=d:k=k.next=d}else L=k=d;S={baseState:E.baseState,firstBaseUpdate:L,lastBaseUpdate:k,shared:E.shared,callbacks:E.callbacks},u.updateQueue=S;return}u=S.lastBaseUpdate,u===null?S.firstBaseUpdate=d:u.next=d,S.lastBaseUpdate=d}var So=!1;function $a(){if(So){var u=pu;if(u!==null)throw u}}function $s(u,d,S,E){So=!1;var L=u.updateQueue;ta=!1;var k=L.firstBaseUpdate,ie=L.lastBaseUpdate,ge=L.shared.pending;if(ge!==null){L.shared.pending=null;var Oe=ge,Xe=Oe.next;Oe.next=null,ie===null?k=Xe:ie.next=Xe,ie=Oe;var Tt=u.alternate;Tt!==null&&(Tt=Tt.updateQueue,ge=Tt.lastBaseUpdate,ge!==ie&&(ge===null?Tt.firstBaseUpdate=Xe:ge.next=Xe,Tt.lastBaseUpdate=Oe))}if(k!==null){var Ft=L.baseState;ie=0,Tt=Xe=Oe=null,ge=k;do{var ft=ge.lane&-536870913,Et=ft!==ge.lane;if(Et?(zn&ft)===ft:(E&ft)===ft){ft!==0&&ft===bf&&(So=!0),Tt!==null&&(Tt=Tt.next={lane:0,tag:ge.tag,payload:ge.payload,callback:null,next:null});e:{var Cn=u,Kn=ge;ft=d;var aa=S;switch(Kn.tag){case 1:if(Cn=Kn.payload,typeof Cn=="function"){Ft=Cn.call(aa,Ft,ft);break e}Ft=Cn;break e;case 3:Cn.flags=Cn.flags&-65537|128;case 0:if(Cn=Kn.payload,ft=typeof Cn=="function"?Cn.call(aa,Ft,ft):Cn,ft==null)break e;Ft=U({},Ft,ft);break e;case 2:ta=!0}}ft=ge.callback,ft!==null&&(u.flags|=64,Et&&(u.flags|=8192),Et=L.callbacks,Et===null?L.callbacks=[ft]:Et.push(ft))}else Et={lane:ft,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null},Tt===null?(Xe=Tt=Et,Oe=Ft):Tt=Tt.next=Et,ie|=ft;if(ge=ge.next,ge===null){if(ge=L.shared.pending,ge===null)break;Et=ge,ge=Et.next,Et.next=null,L.lastBaseUpdate=Et,L.shared.pending=null}}while(!0);Tt===null&&(Oe=Ft),L.baseState=Oe,L.firstBaseUpdate=Xe,L.lastBaseUpdate=Tt,k===null&&(L.shared.lanes=0),Xs|=ie,u.lanes=ie,u.memoizedState=Ft}}function wl(u,d){if(typeof u!="function")throw Error(r(191,u));u.call(d)}function Cl(u,d){var S=u.callbacks;if(S!==null)for(u.callbacks=null,u=0;u<S.length;u++)wl(S[u],d)}function kr(u,d){try{var S=d.updateQueue,E=S!==null?S.lastEffect:null;if(E!==null){var L=E.next;S=L;do{if((S.tag&u)===u){E=void 0;var k=S.create,ie=S.inst;E=k(),ie.destroy=E}S=S.next}while(S!==L)}}catch(ge){kt(d,d.return,ge)}}function hs(u,d,S){try{var E=d.updateQueue,L=E!==null?E.lastEffect:null;if(L!==null){var k=L.next;E=k;do{if((E.tag&u)===u){var ie=E.inst,ge=ie.destroy;if(ge!==void 0){ie.destroy=void 0,L=d;var Oe=S;try{ge()}catch(Xe){kt(L,Oe,Xe)}}}E=E.next}while(E!==k)}}catch(Xe){kt(d,d.return,Xe)}}function hc(u){var d=u.updateQueue;if(d!==null){var S=u.stateNode;try{Cl(d,S)}catch(E){kt(u,u.return,E)}}}function pp(u,d,S){S.props=Cf(u.type,u.memoizedProps),S.state=u.memoizedState;try{S.componentWillUnmount()}catch(E){kt(u,d,E)}}function $r(u,d){try{var S=u.ref;if(S!==null){var E=u.stateNode;switch(u.tag){case 26:case 27:case 5:var L=E;break;default:L=E}typeof S=="function"?u.refCleanup=S(L):S.current=L}}catch(k){kt(u,d,k)}}function Ji(u,d){var S=u.ref,E=u.refCleanup;if(S!==null)if(typeof E=="function")try{E()}catch(L){kt(u,d,L)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof S=="function")try{S(null)}catch(L){kt(u,d,L)}else S.current=null}function zi(u){var d=u.type,S=u.memoizedProps,E=u.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":S.autoFocus&&E.focus();break e;case"img":S.src?E.src=S.src:S.srcSet&&(E.srcset=S.srcSet)}}catch(L){kt(u,u.return,L)}}function ps(u,d,S){try{var E=u.stateNode;HH(E,u.type,S,d),E[dn]=d}catch(L){kt(u,u.return,L)}}function Vs(u){return u.tag===5||u.tag===3||u.tag===26||u.tag===27||u.tag===4}function mp(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||Vs(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==27&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function xo(u,d,S){var E=u.tag;if(E===5||E===6)u=u.stateNode,d?S.nodeType===8?S.parentNode.insertBefore(u,d):S.insertBefore(u,d):(S.nodeType===8?(d=S.parentNode,d.insertBefore(u,S)):(d=S,d.appendChild(u)),S=S._reactRootContainer,S!=null||d.onclick!==null||(d.onclick=LS));else if(E!==4&&E!==27&&(u=u.child,u!==null))for(xo(u,d,S),u=u.sibling;u!==null;)xo(u,d,S),u=u.sibling}function pc(u,d,S){var E=u.tag;if(E===5||E===6)u=u.stateNode,d?S.insertBefore(u,d):S.appendChild(u);else if(E!==4&&E!==27&&(u=u.child,u!==null))for(pc(u,d,S),u=u.sibling;u!==null;)pc(u,d,S),u=u.sibling}var Gs=!1,vr=!1,Cu=!1,pg=typeof WeakSet=="function"?WeakSet:Set,Vr=null,mg=!1;function kd(u,d){if(u=u.containerInfo,uM=$S,u=Bt(u),Pt(u)){if("selectionStart"in u)var S={start:u.selectionStart,end:u.selectionEnd};else e:{S=(S=u.ownerDocument)&&S.defaultView||window;var E=S.getSelection&&S.getSelection();if(E&&E.rangeCount!==0){S=E.anchorNode;var L=E.anchorOffset,k=E.focusNode;E=E.focusOffset;try{S.nodeType,k.nodeType}catch{S=null;break e}var ie=0,ge=-1,Oe=-1,Xe=0,Tt=0,Ft=u,ft=null;t:for(;;){for(var Et;Ft!==S||L!==0&&Ft.nodeType!==3||(ge=ie+L),Ft!==k||E!==0&&Ft.nodeType!==3||(Oe=ie+E),Ft.nodeType===3&&(ie+=Ft.nodeValue.length),(Et=Ft.firstChild)!==null;)ft=Ft,Ft=Et;for(;;){if(Ft===u)break t;if(ft===S&&++Xe===L&&(ge=ie),ft===k&&++Tt===E&&(Oe=ie),(Et=Ft.nextSibling)!==null)break;Ft=ft,ft=Ft.parentNode}Ft=Et}S=ge===-1||Oe===-1?null:{start:ge,end:Oe}}else S=null}S=S||{start:0,end:0}}else S=null;for(fM={focusedElem:u,selectionRange:S},$S=!1,Vr=d;Vr!==null;)if(d=Vr,u=d.child,(d.subtreeFlags&1028)!==0&&u!==null)u.return=d,Vr=u;else for(;Vr!==null;){switch(d=Vr,k=d.alternate,u=d.flags,d.tag){case 0:break;case 11:case 15:break;case 1:if((u&1024)!==0&&k!==null){u=void 0,S=d,L=k.memoizedProps,k=k.memoizedState,E=S.stateNode;try{var Cn=Cf(S.type,L,S.elementType===S.type);u=E.getSnapshotBeforeUpdate(Cn,k),E.__reactInternalSnapshotBeforeUpdate=u}catch(Kn){kt(S,S.return,Kn)}}break;case 3:if((u&1024)!==0){if(u=d.stateNode.containerInfo,S=u.nodeType,S===9)mM(u);else if(S===1)switch(u.nodeName){case"HEAD":case"HTML":case"BODY":mM(u);break;default:u.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((u&1024)!==0)throw Error(r(163))}if(u=d.sibling,u!==null){u.return=d.return,Vr=u;break}Vr=d.return}return Cn=mg,mg=!1,Cn}function $d(u,d,S){var E=S.flags;switch(S.tag){case 0:case 11:case 15:El(u,S),E&4&&kr(5,S);break;case 1:if(El(u,S),E&4)if(u=S.stateNode,d===null)try{u.componentDidMount()}catch(ge){kt(S,S.return,ge)}else{var L=Cf(S.type,d.memoizedProps);d=d.memoizedState;try{u.componentDidUpdate(L,d,u.__reactInternalSnapshotBeforeUpdate)}catch(ge){kt(S,S.return,ge)}}E&64&&hc(S),E&512&&$r(S,S.return);break;case 3:if(El(u,S),E&64&&(E=S.updateQueue,E!==null)){if(u=null,S.child!==null)switch(S.child.tag){case 27:case 5:u=S.child.stateNode;break;case 1:u=S.child.stateNode}try{Cl(E,u)}catch(ge){kt(S,S.return,ge)}}break;case 26:El(u,S),E&512&&$r(S,S.return);break;case 27:case 5:El(u,S),d===null&&E&4&&zi(S),E&512&&$r(S,S.return);break;case 12:El(u,S);break;case 13:El(u,S),E&4&&OS(u,S);break;case 22:if(L=S.memoizedState!==null||Gs,!L){d=d!==null&&d.memoizedState!==null||vr;var k=Gs,ie=vr;Gs=L,(vr=d)&&!ie?Ws(u,S,(S.subtreeFlags&8772)!==0):El(u,S),Gs=k,vr=ie}E&512&&(S.memoizedProps.mode==="manual"?$r(S,S.return):Ji(S,S.return));break;default:El(u,S)}}function gg(u){var d=u.alternate;d!==null&&(u.alternate=null,gg(d)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(d=u.stateNode,d!==null&&ur(d)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}var yr=null,xa=!1;function Va(u,d,S){for(S=S.child;S!==null;)vg(u,d,S),S=S.sibling}function vg(u,d,S){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(wt,S)}catch{}switch(S.tag){case 26:vr||Ji(S,d),Va(u,d,S),S.memoizedState?S.memoizedState.count--:S.stateNode&&(S=S.stateNode,S.parentNode.removeChild(S));break;case 27:vr||Ji(S,d);var E=yr,L=xa;for(yr=S.stateNode,Va(u,d,S),S=S.stateNode,d=S.attributes;d.length;)S.removeAttributeNode(d[0]);ur(S),yr=E,xa=L;break;case 5:vr||Ji(S,d);case 6:L=yr;var k=xa;if(yr=null,Va(u,d,S),yr=L,xa=k,yr!==null)if(xa)try{u=yr,E=S.stateNode,u.nodeType===8?u.parentNode.removeChild(E):u.removeChild(E)}catch(ie){kt(S,d,ie)}else try{yr.removeChild(S.stateNode)}catch(ie){kt(S,d,ie)}break;case 18:yr!==null&&(xa?(d=yr,S=S.stateNode,d.nodeType===8?pM(d.parentNode,S):d.nodeType===1&&pM(d,S),my(d)):pM(yr,S.stateNode));break;case 4:E=yr,L=xa,yr=S.stateNode.containerInfo,xa=!0,Va(u,d,S),yr=E,xa=L;break;case 0:case 11:case 14:case 15:vr||hs(2,S,d),vr||hs(4,S,d),Va(u,d,S);break;case 1:vr||(Ji(S,d),E=S.stateNode,typeof E.componentWillUnmount=="function"&&pp(S,d,E)),Va(u,d,S);break;case 21:Va(u,d,S);break;case 22:vr||Ji(S,d),vr=(E=vr)||S.memoizedState!==null,Va(u,d,S),vr=E;break;default:Va(u,d,S)}}function OS(u,d){if(d.memoizedState===null&&(u=d.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{my(u)}catch(S){kt(d,d.return,S)}}function gp(u){switch(u.tag){case 13:case 19:var d=u.stateNode;return d===null&&(d=u.stateNode=new pg),d;case 22:return u=u.stateNode,d=u._retryCache,d===null&&(d=u._retryCache=new pg),d;default:throw Error(r(435,u.tag))}}function vp(u,d){var S=gp(u);d.forEach(function(E){var L=ut.bind(null,u,E);S.has(E)||(S.add(E),E.then(L,L))})}function no(u,d){var S=d.deletions;if(S!==null)for(var E=0;E<S.length;E++){var L=S[E],k=u,ie=d,ge=ie;e:for(;ge!==null;){switch(ge.tag){case 27:case 5:yr=ge.stateNode,xa=!1;break e;case 3:yr=ge.stateNode.containerInfo,xa=!0;break e;case 4:yr=ge.stateNode.containerInfo,xa=!0;break e}ge=ge.return}if(yr===null)throw Error(r(160));vg(k,ie,L),yr=null,xa=!1,k=L.alternate,k!==null&&(k.return=null),L.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)Tf(d,u),d=d.sibling}var Ga=null;function Tf(u,d){var S=u.alternate,E=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:no(d,u),ja(u),E&4&&(hs(3,u,u.return),kr(3,u),hs(5,u,u.return));break;case 1:no(d,u),ja(u),E&512&&(vr||S===null||Ji(S,S.return)),E&64&&Gs&&(u=u.updateQueue,u!==null&&(E=u.callbacks,E!==null&&(S=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=S===null?E:S.concat(E))));break;case 26:var L=Ga;if(no(d,u),ja(u),E&512&&(vr||S===null||Ji(S,S.return)),E&4){var k=S!==null?S.memoizedState:null;if(E=u.memoizedState,S===null)if(E===null)if(u.stateNode===null){e:{E=u.type,S=u.memoizedProps,L=L.ownerDocument||L;t:switch(E){case"title":k=L.getElementsByTagName("title")[0],(!k||k[zr]||k[ti]||k.namespaceURI==="http://www.w3.org/2000/svg"||k.hasAttribute("itemprop"))&&(k=L.createElement(E),L.head.insertBefore(k,L.querySelector("head > title"))),oo(k,E,S),k[ti]=u,Ke(k),E=k;break e;case"link":var ie=JI("link","href",L).get(E+(S.href||""));if(ie){for(var ge=0;ge<ie.length;ge++)if(k=ie[ge],k.getAttribute("href")===(S.href==null?null:S.href)&&k.getAttribute("rel")===(S.rel==null?null:S.rel)&&k.getAttribute("title")===(S.title==null?null:S.title)&&k.getAttribute("crossorigin")===(S.crossOrigin==null?null:S.crossOrigin)){ie.splice(ge,1);break t}}k=L.createElement(E),oo(k,E,S),L.head.appendChild(k);break;case"meta":if(ie=JI("meta","content",L).get(E+(S.content||""))){for(ge=0;ge<ie.length;ge++)if(k=ie[ge],k.getAttribute("content")===(S.content==null?null:""+S.content)&&k.getAttribute("name")===(S.name==null?null:S.name)&&k.getAttribute("property")===(S.property==null?null:S.property)&&k.getAttribute("http-equiv")===(S.httpEquiv==null?null:S.httpEquiv)&&k.getAttribute("charset")===(S.charSet==null?null:S.charSet)){ie.splice(ge,1);break t}}k=L.createElement(E),oo(k,E,S),L.head.appendChild(k);break;default:throw Error(r(468,E))}k[ti]=u,Ke(k),E=k}u.stateNode=E}else e3(L,u.type,u.stateNode);else u.stateNode=QI(L,E,u.memoizedProps);else k!==E?(k===null?S.stateNode!==null&&(S=S.stateNode,S.parentNode.removeChild(S)):k.count--,E===null?e3(L,u.type,u.stateNode):QI(L,E,u.memoizedProps)):E===null&&u.stateNode!==null&&ps(u,u.memoizedProps,S.memoizedProps)}break;case 27:if(E&4&&u.alternate===null){L=u.stateNode,k=u.memoizedProps;try{for(var Oe=L.firstChild;Oe;){var Xe=Oe.nextSibling,Tt=Oe.nodeName;Oe[zr]||Tt==="HEAD"||Tt==="BODY"||Tt==="SCRIPT"||Tt==="STYLE"||Tt==="LINK"&&Oe.rel.toLowerCase()==="stylesheet"||L.removeChild(Oe),Oe=Xe}for(var Ft=u.type,ft=L.attributes;ft.length;)L.removeAttributeNode(ft[0]);oo(L,Ft,k),L[ti]=u,L[dn]=k}catch(Cn){kt(u,u.return,Cn)}}case 5:if(no(d,u),ja(u),E&512&&(vr||S===null||Ji(S,S.return)),u.flags&32){L=u.stateNode;try{Yi(L,"")}catch(Cn){kt(u,u.return,Cn)}}E&4&&u.stateNode!=null&&(L=u.memoizedProps,ps(u,L,S!==null?S.memoizedProps:L)),E&1024&&(Cu=!0);break;case 6:if(no(d,u),ja(u),E&4){if(u.stateNode===null)throw Error(r(162));E=u.memoizedProps,S=u.stateNode;try{S.nodeValue=E}catch(Cn){kt(u,u.return,Cn)}}break;case 3:if(FS=null,L=Ga,Ga=US(d.containerInfo),no(d,u),Ga=L,ja(u),E&4&&S!==null&&S.memoizedState.isDehydrated)try{my(d.containerInfo)}catch(Cn){kt(u,u.return,Cn)}Cu&&(Cu=!1,Eu(u));break;case 4:E=Ga,Ga=US(u.stateNode.containerInfo),no(d,u),ja(u),Ga=E;break;case 12:no(d,u),ja(u);break;case 13:no(d,u),ja(u),u.child.flags&8192&&u.memoizedState!==null!=(S!==null&&S.memoizedState!==null)&&(ui=Pe()),E&4&&(E=u.updateQueue,E!==null&&(u.updateQueue=null,vp(u,E)));break;case 22:if(E&512&&(vr||S===null||Ji(S,S.return)),Oe=u.memoizedState!==null,Xe=S!==null&&S.memoizedState!==null,Tt=Gs,Ft=vr,Gs=Tt||Oe,vr=Ft||Xe,no(d,u),vr=Ft,Gs=Tt,ja(u),d=u.stateNode,d._current=u,d._visibility&=-3,d._visibility|=d._pendingVisibility&2,E&8192&&(d._visibility=Oe?d._visibility&-2:d._visibility|1,Oe&&(d=Gs||vr,S===null||Xe||d||js(u)),u.memoizedProps===null||u.memoizedProps.mode!=="manual"))e:for(S=null,d=u;;){if(d.tag===5||d.tag===26||d.tag===27){if(S===null){Xe=S=d;try{if(L=Xe.stateNode,Oe)k=L.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{ie=Xe.stateNode,ge=Xe.memoizedProps.style;var Et=ge!=null&&ge.hasOwnProperty("display")?ge.display:null;ie.style.display=Et==null||typeof Et=="boolean"?"":(""+Et).trim()}}catch(Cn){kt(Xe,Xe.return,Cn)}}}else if(d.tag===6){if(S===null){Xe=d;try{Xe.stateNode.nodeValue=Oe?"":Xe.memoizedProps}catch(Cn){kt(Xe,Xe.return,Cn)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===u)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===u)break e;for(;d.sibling===null;){if(d.return===null||d.return===u)break e;S===d&&(S=null),d=d.return}S===d&&(S=null),d.sibling.return=d.return,d=d.sibling}E&4&&(E=u.updateQueue,E!==null&&(S=E.retryQueue,S!==null&&(E.retryQueue=null,vp(u,S))));break;case 19:no(d,u),ja(u),E&4&&(E=u.updateQueue,E!==null&&(u.updateQueue=null,vp(u,E)));break;case 21:break;default:no(d,u),ja(u)}}function ja(u){var d=u.flags;if(d&2){try{if(u.tag!==27){e:{for(var S=u.return;S!==null;){if(Vs(S)){var E=S;break e}S=S.return}throw Error(r(160))}switch(E.tag){case 27:var L=E.stateNode,k=mp(u);pc(u,k,L);break;case 5:var ie=E.stateNode;E.flags&32&&(Yi(ie,""),E.flags&=-33);var ge=mp(u);pc(u,ge,ie);break;case 3:case 4:var Oe=E.stateNode.containerInfo,Xe=mp(u);xo(u,Xe,Oe);break;default:throw Error(r(161))}}}catch(Tt){kt(u,u.return,Tt)}u.flags&=-3}d&4096&&(u.flags&=-4097)}function Eu(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var d=u;Eu(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),u=u.sibling}}function El(u,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)$d(u,d.alternate,d),d=d.sibling}function js(u){for(u=u.child;u!==null;){var d=u;switch(d.tag){case 0:case 11:case 14:case 15:hs(4,d,d.return),js(d);break;case 1:Ji(d,d.return);var S=d.stateNode;typeof S.componentWillUnmount=="function"&&pp(d,d.return,S),js(d);break;case 26:case 27:case 5:Ji(d,d.return),js(d);break;case 22:Ji(d,d.return),d.memoizedState===null&&js(d);break;default:js(d)}u=u.sibling}}function Ws(u,d,S){for(S=S&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var E=d.alternate,L=u,k=d,ie=k.flags;switch(k.tag){case 0:case 11:case 15:Ws(L,k,S),kr(4,k);break;case 1:if(Ws(L,k,S),E=k,L=E.stateNode,typeof L.componentDidMount=="function")try{L.componentDidMount()}catch(Xe){kt(E,E.return,Xe)}if(E=k,L=E.updateQueue,L!==null){var ge=E.stateNode;try{var Oe=L.shared.hiddenCallbacks;if(Oe!==null)for(L.shared.hiddenCallbacks=null,L=0;L<Oe.length;L++)wl(Oe[L],ge)}catch(Xe){kt(E,E.return,Xe)}}S&&ie&64&&hc(k),$r(k,k.return);break;case 26:case 27:case 5:Ws(L,k,S),S&&E===null&&ie&4&&zi(k),$r(k,k.return);break;case 12:Ws(L,k,S);break;case 13:Ws(L,k,S),S&&ie&4&&OS(L,k);break;case 22:k.memoizedState===null&&Ws(L,k,S),$r(k,k.return);break;default:Ws(L,k,S)}d=d.sibling}}function wo(u,d){var S=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(S=u.memoizedState.cachePool.pool),u=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(u=d.memoizedState.cachePool.pool),u!==S&&(u!=null&&u.refCount++,S!=null&&du(S))}function ms(u,d){u=null,d.alternate!==null&&(u=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==u&&(d.refCount++,u!=null&&du(u))}function dr(u,d,S,E){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)mc(u,d,S,E),d=d.sibling}function mc(u,d,S,E){var L=d.flags;switch(d.tag){case 0:case 11:case 15:dr(u,d,S,E),L&2048&&kr(9,d);break;case 3:dr(u,d,S,E),L&2048&&(u=null,d.alternate!==null&&(u=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==u&&(d.refCount++,u!=null&&du(u)));break;case 12:if(L&2048){dr(u,d,S,E),u=d.stateNode;try{var k=d.memoizedProps,ie=k.id,ge=k.onPostCommit;typeof ge=="function"&&ge(ie,d.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(Oe){kt(d,d.return,Oe)}}else dr(u,d,S,E);break;case 23:break;case 22:k=d.stateNode,d.memoizedState!==null?k._visibility&4?dr(u,d,S,E):Bi(u,d):k._visibility&4?dr(u,d,S,E):(k._visibility|=4,Yn(u,d,S,E,(d.subtreeFlags&10256)!==0)),L&2048&&wo(d.alternate,d);break;case 24:dr(u,d,S,E),L&2048&&ms(d.alternate,d);break;default:dr(u,d,S,E)}}function Yn(u,d,S,E,L){for(L=L&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var k=u,ie=d,ge=S,Oe=E,Xe=ie.flags;switch(ie.tag){case 0:case 11:case 15:Yn(k,ie,ge,Oe,L),kr(8,ie);break;case 23:break;case 22:var Tt=ie.stateNode;ie.memoizedState!==null?Tt._visibility&4?Yn(k,ie,ge,Oe,L):Bi(k,ie):(Tt._visibility|=4,Yn(k,ie,ge,Oe,L)),L&&Xe&2048&&wo(ie.alternate,ie);break;case 24:Yn(k,ie,ge,Oe,L),L&&Xe&2048&&ms(ie.alternate,ie);break;default:Yn(k,ie,ge,Oe,L)}d=d.sibling}}function Bi(u,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var S=u,E=d,L=E.flags;switch(E.tag){case 22:Bi(S,E),L&2048&&wo(E.alternate,E);break;case 24:Bi(S,E),L&2048&&ms(E.alternate,E);break;default:Bi(S,E)}d=d.sibling}}var Mr=8192;function gc(u){if(u.subtreeFlags&Mr)for(u=u.child;u!==null;)Af(u),u=u.sibling}function Af(u){switch(u.tag){case 26:gc(u),u.flags&Mr&&u.memoizedState!==null&&ak(Ga,u.memoizedState,u.memoizedProps);break;case 5:gc(u);break;case 3:case 4:var d=Ga;Ga=US(u.stateNode.containerInfo),gc(u),Ga=d;break;case 22:u.memoizedState===null&&(d=u.alternate,d!==null&&d.memoizedState!==null?(d=Mr,Mr=16777216,gc(u),Mr=d):gc(u));break;default:gc(u)}}function Mu(u){var d=u.alternate;if(d!==null&&(u=d.child,u!==null)){d.child=null;do d=u.sibling,u.sibling=null,u=d;while(u!==null)}}function Tu(u){var d=u.deletions;if((u.flags&16)!==0){if(d!==null)for(var S=0;S<d.length;S++){var E=d[S];Vr=E,IS(E,u)}Mu(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)Vd(u),u=u.sibling}function Vd(u){switch(u.tag){case 0:case 11:case 15:Tu(u),u.flags&2048&&hs(9,u,u.return);break;case 3:Tu(u);break;case 12:Tu(u);break;case 22:var d=u.stateNode;u.memoizedState!==null&&d._visibility&4&&(u.return===null||u.return.tag!==13)?(d._visibility&=-5,vc(u)):Tu(u);break;default:Tu(u)}}function vc(u){var d=u.deletions;if((u.flags&16)!==0){if(d!==null)for(var S=0;S<d.length;S++){var E=d[S];Vr=E,IS(E,u)}Mu(u)}for(u=u.child;u!==null;){switch(d=u,d.tag){case 0:case 11:case 15:hs(8,d,d.return),vc(d);break;case 22:S=d.stateNode,S._visibility&4&&(S._visibility&=-5,vc(d));break;default:vc(d)}u=u.sibling}}function IS(u,d){for(;Vr!==null;){var S=Vr;switch(S.tag){case 0:case 11:case 15:hs(8,S,d);break;case 23:case 22:if(S.memoizedState!==null&&S.memoizedState.cachePool!==null){var E=S.memoizedState.cachePool.pool;E!=null&&E.refCount++}break;case 24:du(S.memoizedState.cache)}if(E=S.child,E!==null)E.return=S,Vr=E;else e:for(S=u;Vr!==null;){E=Vr;var L=E.sibling,k=E.return;if(gg(E),E===S){Vr=null;break e}if(L!==null){L.return=k,Vr=L;break e}Vr=k}}}function ty(u,d,S,E){this.tag=u,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gr(u,d,S,E){return new ty(u,d,S,E)}function yc(u){return u=u.prototype,!(!u||!u.isReactComponent)}function io(u,d){var S=u.alternate;return S===null?(S=Gr(u.tag,d,u.key,u.mode),S.elementType=u.elementType,S.type=u.type,S.stateNode=u.stateNode,S.alternate=u,u.alternate=S):(S.pendingProps=d,S.type=u.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=u.flags&31457280,S.childLanes=u.childLanes,S.lanes=u.lanes,S.child=u.child,S.memoizedProps=u.memoizedProps,S.memoizedState=u.memoizedState,S.updateQueue=u.updateQueue,d=u.dependencies,S.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},S.sibling=u.sibling,S.index=u.index,S.ref=u.ref,S.refCleanup=u.refCleanup,S}function Au(u,d){u.flags&=31457282;var S=u.alternate;return S===null?(u.childLanes=0,u.lanes=d,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=S.childLanes,u.lanes=S.lanes,u.child=S.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=S.memoizedProps,u.memoizedState=S.memoizedState,u.updateQueue=S.updateQueue,u.type=S.type,d=S.dependencies,u.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),u}function Gd(u,d,S,E,L,k){var ie=0;if(E=u,typeof u=="function")yc(u)&&(ie=1);else if(typeof u=="string")ie=ik(u,S,gt.current)?26:u==="html"||u==="head"||u==="body"?27:5;else e:switch(u){case f:return Ru(S.children,L,k,d);case h:ie=8,L|=24;break;case v:return u=Gr(12,S,d,L|2),u.elementType=v,u.lanes=k,u;case p:return u=Gr(13,S,d,L),u.elementType=p,u.lanes=k,u;case m:return u=Gr(19,S,d,L),u.elementType=m,u.lanes=k,u;case A:return ny(S,L,k,d);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case _:case C:ie=10;break e;case x:ie=9;break e;case c:ie=11;break e;case b:ie=14;break e;case w:ie=16,E=null;break e}ie=29,S=Error(r(130,u===null?"null":typeof u,"")),E=null}return d=Gr(ie,S,d,L),d.elementType=u,d.type=E,d.lanes=k,d}function Ru(u,d,S,E){return u=Gr(7,u,E,d),u.lanes=S,u}function ny(u,d,S,E){u=Gr(22,u,E,d),u.elementType=A,u.lanes=S;var L={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var k=L._current;if(k===null)throw Error(r(456));if((L._pendingVisibility&2)===0){var ie=ec(k,2);ie!==null&&(L._pendingVisibility|=2,ra(ie,k,2))}},attach:function(){var k=L._current;if(k===null)throw Error(r(456));if((L._pendingVisibility&2)!==0){var ie=ec(k,2);ie!==null&&(L._pendingVisibility&=-3,ra(ie,k,2))}}};return u.stateNode=L,u}function na(u,d,S){return u=Gr(6,u,null,d),u.lanes=S,u}function yp(u,d,S){return d=Gr(4,u.children!==null?u.children:[],u.key,d),d.lanes=S,d.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},d}function gs(u){u.flags|=4}function Ou(u,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)u.flags&=-16777217;else if(u.flags|=16777216,!t3(d)){if(d=bo.current,d!==null&&((zn&4194176)===zn?vl!==null:(zn&62914560)!==zn&&(zn&536870912)===0||d!==vl))throw Rd=Ym,T0;u.flags|=8192}}function vs(u,d){d!==null&&(u.flags|=4),u.flags&16384&&(d=u.tag!==22?Dt():536870912,u.lanes|=d,Tl|=d)}function bp(u,d){if(!Ii)switch(u.tailMode){case"hidden":d=u.tail;for(var S=null;d!==null;)d.alternate!==null&&(S=d),d=d.sibling;S===null?u.tail=null:S.sibling=null;break;case"collapsed":S=u.tail;for(var E=null;S!==null;)S.alternate!==null&&(E=S),S=S.sibling;E===null?d||u.tail===null?u.tail=null:u.tail.sibling=null:E.sibling=null}}function Or(u){var d=u.alternate!==null&&u.alternate.child===u.child,S=0,E=0;if(d)for(var L=u.child;L!==null;)S|=L.lanes|L.childLanes,E|=L.subtreeFlags&31457280,E|=L.flags&31457280,L.return=u,L=L.sibling;else for(L=u.child;L!==null;)S|=L.lanes|L.childLanes,E|=L.subtreeFlags,E|=L.flags,L.return=u,L=L.sibling;return u.subtreeFlags|=E,u.childLanes=S,d}function nM(u,d,S){var E=d.pendingProps;switch(su(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Or(d),null;case 1:return Or(d),null;case 3:return S=d.stateNode,E=null,u!==null&&(E=u.memoizedState.cache),d.memoizedState.cache!==E&&(d.flags|=2048),dc(Br),Ie(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(u===null||u.child===null)&&(Td(d)?gs(d):u===null||u.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,fs!==null&&(Ss(fs),fs=null))),Or(d),null;case 26:return S=d.memoizedState,u===null?(gs(d),S!==null?(Or(d),Ou(d,S)):(Or(d),d.flags&=-16777217)):S?S!==u.memoizedState?(gs(d),Or(d),Ou(d,S)):(Or(d),d.flags&=-16777217):(u.memoizedProps!==E&&gs(d),Or(d),d.flags&=-16777217),null;case 27:$e(d),S=we.current;var L=d.type;if(u!==null&&d.stateNode!=null)u.memoizedProps!==E&&gs(d);else{if(!E){if(d.stateNode===null)throw Error(r(166));return Or(d),null}u=gt.current,Td(d)?F_(d):(u=XI(L,E,S),d.stateNode=u,gs(d))}return Or(d),null;case 5:if($e(d),S=d.type,u!==null&&d.stateNode!=null)u.memoizedProps!==E&&gs(d);else{if(!E){if(d.stateNode===null)throw Error(r(166));return Or(d),null}if(u=gt.current,Td(d))F_(d);else{switch(L=NS(we.current),u){case 1:u=L.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:u=L.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":u=L.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":u=L.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":u=L.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof E.is=="string"?L.createElement("select",{is:E.is}):L.createElement("select"),E.multiple?u.multiple=!0:E.size&&(u.size=E.size);break;default:u=typeof E.is=="string"?L.createElement(S,{is:E.is}):L.createElement(S)}}u[ti]=d,u[dn]=E;e:for(L=d.child;L!==null;){if(L.tag===5||L.tag===6)u.appendChild(L.stateNode);else if(L.tag!==4&&L.tag!==27&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===d)break e;for(;L.sibling===null;){if(L.return===null||L.return===d)break e;L=L.return}L.sibling.return=L.return,L=L.sibling}d.stateNode=u;e:switch(oo(u,S,E),S){case"button":case"input":case"select":case"textarea":u=!!E.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&gs(d)}}return Or(d),d.flags&=-16777217,null;case 6:if(u&&d.stateNode!=null)u.memoizedProps!==E&&gs(d);else{if(typeof E!="string"&&d.stateNode===null)throw Error(r(166));if(u=we.current,Td(d)){if(u=d.stateNode,S=d.memoizedProps,E=null,L=Ha,L!==null)switch(L.tag){case 27:case 5:E=L.memoizedProps}u[ti]=d,u=!!(u.nodeValue===S||E!==null&&E.suppressHydrationWarning===!0||kI(u.nodeValue,S)),u||gf(d)}else u=NS(u).createTextNode(E),u[ti]=d,d.stateNode=u}return Or(d),null;case 13:if(E=d.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(L=Td(d),E!==null&&E.dehydrated!==null){if(u===null){if(!L)throw Error(r(318));if(L=d.memoizedState,L=L!==null?L.dehydrated:null,!L)throw Error(r(317));L[ti]=d}else Ad(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Or(d),L=!1}else fs!==null&&(Ss(fs),fs=null),L=!0;if(!L)return d.flags&256?(yl(d),d):(yl(d),null)}if(yl(d),(d.flags&128)!==0)return d.lanes=S,d;if(S=E!==null,u=u!==null&&u.memoizedState!==null,S){E=d.child,L=null,E.alternate!==null&&E.alternate.memoizedState!==null&&E.alternate.memoizedState.cachePool!==null&&(L=E.alternate.memoizedState.cachePool.pool);var k=null;E.memoizedState!==null&&E.memoizedState.cachePool!==null&&(k=E.memoizedState.cachePool.pool),k!==L&&(E.flags|=2048)}return S!==u&&S&&(d.child.flags|=8192),vs(d,d.updateQueue),Or(d),null;case 4:return Ie(),u===null&&sM(d.stateNode.containerInfo),Or(d),null;case 10:return dc(d.type),Or(d),null;case 19:if(Ae(Jr),L=d.memoizedState,L===null)return Or(d),null;if(E=(d.flags&128)!==0,k=L.rendering,k===null)if(E)bp(L,!1);else{if(br!==0||u!==null&&(u.flags&128)!==0)for(u=d.child;u!==null;){if(k=Od(u),k!==null){for(d.flags|=128,bp(L,!1),u=k.updateQueue,d.updateQueue=u,vs(d,u),d.subtreeFlags=0,u=S,S=d.child;S!==null;)Au(S,u),S=S.sibling;return Ue(Jr,Jr.current&1|2),d.child}u=u.sibling}L.tail!==null&&Pe()>yi&&(d.flags|=128,E=!0,bp(L,!1),d.lanes=4194304)}else{if(!E)if(u=Od(k),u!==null){if(d.flags|=128,E=!0,u=u.updateQueue,d.updateQueue=u,vs(d,u),bp(L,!0),L.tail===null&&L.tailMode==="hidden"&&!k.alternate&&!Ii)return Or(d),null}else 2*Pe()-L.renderingStartTime>yi&&S!==536870912&&(d.flags|=128,E=!0,bp(L,!1),d.lanes=4194304);L.isBackwards?(k.sibling=d.child,d.child=k):(u=L.last,u!==null?u.sibling=k:d.child=k,L.last=k)}return L.tail!==null?(d=L.tail,L.rendering=d,L.tail=d.sibling,L.renderingStartTime=Pe(),d.sibling=null,u=Jr.current,Ue(Jr,E?u&1|2:u&1),d):(Or(d),null);case 22:case 23:return yl(d),sp(),E=d.memoizedState!==null,u!==null?u.memoizedState!==null!==E&&(d.flags|=8192):E&&(d.flags|=8192),E?(S&536870912)!==0&&(d.flags&128)===0&&(Or(d),d.subtreeFlags&6&&(d.flags|=8192)):Or(d),S=d.updateQueue,S!==null&&vs(d,S.retryQueue),S=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(S=u.memoizedState.cachePool.pool),E=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(E=d.memoizedState.cachePool.pool),E!==S&&(d.flags|=2048),u!==null&&Ae(sc),null;case 24:return S=null,u!==null&&(S=u.memoizedState.cache),d.memoizedState.cache!==S&&(d.flags|=2048),dc(Br),Or(d),null;case 25:return null}throw Error(r(156,d.tag))}function Lr(u,d){switch(su(d),d.tag){case 1:return u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 3:return dc(Br),Ie(),u=d.flags,(u&65536)!==0&&(u&128)===0?(d.flags=u&-65537|128,d):null;case 26:case 27:case 5:return $e(d),null;case 13:if(yl(d),u=d.memoizedState,u!==null&&u.dehydrated!==null){if(d.alternate===null)throw Error(r(340));Ad()}return u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 19:return Ae(Jr),null;case 4:return Ie(),null;case 10:return dc(d.type),null;case 22:case 23:return yl(d),sp(),u!==null&&Ae(sc),u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 24:return dc(Br),null;case 25:return null;default:return null}}function iy(u,d){switch(su(d),d.tag){case 3:dc(Br),Ie();break;case 26:case 27:case 5:$e(d);break;case 4:Ie();break;case 13:yl(d);break;case 19:Ae(Jr);break;case 10:dc(d.type);break;case 22:case 23:yl(d),sp(),u!==null&&Ae(sc);break;case 24:dc(Br)}}var Rf={getCacheForType:function(u){var d=ka(Br),S=d.data.get(u);return S===void 0&&(S=u(),d.data.set(u,S)),S}},bc=typeof WeakMap=="function"?WeakMap:Map,qn=0,er=null,pi=null,zn=0,or=0,Fi=null,jr=!1,Wa=!1,Iu=!1,_c=0,br=0,Xs=0,Ml=0,jd=0,ro=0,Tl=0,_p=null,vi=null,tr=!1,ui=0,yi=1/0,Zi=null,ia=null,ys=!1,bs=null,Of=0,Ys=0,Tr=null,_s=0,Sc=null;function ao(){if((qn&2)!==0&&zn!==0)return zn&-zn;if(B.T!==null){var u=bf;return u!==0?u:iM()}return xr()}function Ko(){ro===0&&(ro=(zn&536870912)===0||Ii?Zt():536870912);var u=bo.current;return u!==null&&(u.flags|=32),ro}function ra(u,d,S){(u===er&&or===2||u.cancelPendingCommit!==null)&&(xc(u,0),Qo(u,zn,ro,!1)),_n(u,S),((qn&2)===0||u!==er)&&(u===er&&((qn&2)===0&&(Ml|=S),br===4&&Qo(u,zn,ro,!1)),sr(u))}function Wd(u,d,S){if((qn&6)!==0)throw Error(r(327));var E=!S&&(d&60)===0&&(d&u.expiredLanes)===0||Jt(u,d),L=E?g(u,d):zf(u,d,!0),k=E;do{if(L===0){Wa&&!E&&Qo(u,d,0,!1);break}else if(L===6)Qo(u,d,0,!jr);else{if(S=u.current.alternate,k&&!ry(S)){L=zf(u,d,!1),k=!1;continue}if(L===2){if(k=d,u.errorRecoveryDisabledLanes&k)var ie=0;else ie=u.pendingLanes&-536870913,ie=ie!==0?ie:ie&536870912?536870912:0;if(ie!==0){d=ie;e:{var ge=u;L=_p;var Oe=ge.current.memoizedState.isDehydrated;if(Oe&&(xc(ge,ie).flags|=256),ie=zf(ge,ie,!1),ie!==2){if(Iu&&!Oe){ge.errorRecoveryDisabledLanes|=k,Ml|=k,L=4;break e}k=vi,vi=L,k!==null&&Ss(k)}L=ie}if(k=!1,L!==2)continue}}if(L===1){xc(u,0),Qo(u,d,0,!0);break}e:{switch(E=u,L){case 0:case 1:throw Error(r(345));case 4:if((d&4194176)===d){Qo(E,d,ro,!jr);break e}break;case 2:vi=null;break;case 3:case 5:break;default:throw Error(r(329))}if(E.finishedWork=S,E.finishedLanes=d,(d&62914560)===d&&(k=ui+300-Pe(),10<k)){if(Qo(E,d,ro,!jr),zt(E,0)!==0)break e;E.timeoutHandle=GI(yg.bind(null,E,S,vi,Zi,tr,d,ro,Ml,Tl,jr,2,-0,0),k);break e}yg(E,S,vi,Zi,tr,d,ro,Ml,Tl,jr,0,-0,0)}}break}while(!0);sr(u)}function Ss(u){vi===null?vi=u:vi.push.apply(vi,u)}function yg(u,d,S,E,L,k,ie,ge,Oe,Xe,Tt,Ft,ft){var Et=d.subtreeFlags;if((Et&8192||(Et&16785408)===16785408)&&(uy={stylesheets:null,count:0,unsuspend:rk},Af(d),d=ok(),d!==null)){u.cancelPendingCommit=d(Le.bind(null,u,S,E,L,ie,ge,Oe,1,Ft,ft)),Qo(u,k,ie,!Xe);return}Le(u,S,E,L,ie,ge,Oe,Tt,Ft,ft)}function ry(u){for(var d=u;;){var S=d.tag;if((S===0||S===11||S===15)&&d.flags&16384&&(S=d.updateQueue,S!==null&&(S=S.stores,S!==null)))for(var E=0;E<S.length;E++){var L=S[E],k=L.getSnapshot;L=L.value;try{if(!be(k(),L))return!1}catch{return!1}}if(S=d.child,d.subtreeFlags&16384&&S!==null)S.return=d,d=S;else{if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Qo(u,d,S,E){d&=~jd,d&=~Ml,u.suspendedLanes|=d,u.pingedLanes&=~d,E&&(u.warmLanes|=d),E=u.expirationTimes;for(var L=d;0<L;){var k=31-ke(L),ie=1<<k;E[k]=-1,L&=~ie}S!==0&&Kr(u,S,d)}function If(){return(qn&6)===0?(_i(0),!1):!0}function Al(){if(pi!==null){if(or===0)var u=pi.return;else u=pi,ks=xl=null,Qm(u),uu=null,rp=0,u=pi;for(;u!==null;)iy(u.alternate,u),u=u.return;pi=null}}function xc(u,d){u.finishedWork=null,u.finishedLanes=0;var S=u.timeoutHandle;S!==-1&&(u.timeoutHandle=-1,$H(S)),S=u.cancelPendingCommit,S!==null&&(u.cancelPendingCommit=null,S()),Al(),er=u,pi=S=io(u.current,null),zn=d,or=0,Fi=null,jr=!1,Wa=Jt(u,d),Iu=!1,Tl=ro=jd=Ml=Xs=br=0,vi=_p=null,tr=!1,(d&8)!==0&&(d|=d&32);var E=u.entangledLanes;if(E!==0)for(u=u.entanglements,E&=d;0<E;){var L=31-ke(E),k=1<<L;d|=u[L],E&=~k}return _c=d,Zh(),S}function zu(u,d){ci=null,B.H=Sl,d===lu?(d=ji(),or=3):d===T0?(d=ji(),or=4):or=d===Xo?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,Fi=d,pi===null&&(br=1,sg(u,yo(d,u.current)))}function Xd(){var u=B.H;return B.H=Sl,u===null?Sl:u}function bg(){var u=B.A;return B.A=Rf,u}function Sp(){br=4,jr||(zn&4194176)!==zn&&bo.current!==null||(Wa=!0),(Xs&134217727)===0&&(Ml&134217727)===0||er===null||Qo(er,zn,ro,!1)}function zf(u,d,S){var E=qn;qn|=2;var L=Xd(),k=bg();(er!==u||zn!==d)&&(Zi=null,xc(u,d)),d=!1;var ie=br;e:do try{if(or!==0&&pi!==null){var ge=pi,Oe=Fi;switch(or){case 8:Al(),ie=6;break e;case 3:case 2:case 6:bo.current===null&&(d=!0);var Xe=or;if(or=0,Fi=null,$(u,ge,Oe,Xe),S&&Wa){ie=0;break e}break;default:Xe=or,or=0,Fi=null,$(u,ge,Oe,Xe)}}ay(),ie=br;break}catch(Tt){zu(u,Tt)}while(!0);return d&&u.shellSuspendCounter++,ks=xl=null,qn=E,B.H=L,B.A=k,pi===null&&(er=null,zn=0,Zh()),ie}function ay(){for(;pi!==null;)T(pi)}function g(u,d){var S=qn;qn|=2;var E=Xd(),L=bg();er!==u||zn!==d?(Zi=null,yi=Pe()+500,xc(u,d)):Wa=Jt(u,d);e:do try{if(or!==0&&pi!==null){d=pi;var k=Fi;t:switch(or){case 1:or=0,Fi=null,$(u,d,k,1);break;case 2:if(k_(k)){or=0,Fi=null,N(d);break}d=function(){or===2&&er===u&&(or=7),sr(u)},k.then(d,d);break e;case 3:or=7;break e;case 4:or=5;break e;case 7:k_(k)?(or=0,Fi=null,N(d)):(or=0,Fi=null,$(u,d,k,7));break;case 5:var ie=null;switch(pi.tag){case 26:ie=pi.memoizedState;case 5:case 27:var ge=pi;if(!ie||t3(ie)){or=0,Fi=null;var Oe=ge.sibling;if(Oe!==null)pi=Oe;else{var Xe=ge.return;Xe!==null?(pi=Xe,W(Xe)):pi=null}break t}}or=0,Fi=null,$(u,d,k,5);break;case 6:or=0,Fi=null,$(u,d,k,6);break;case 8:Al(),br=6;break e;default:throw Error(r(462))}}y();break}catch(Tt){zu(u,Tt)}while(!0);return ks=xl=null,B.H=E,B.A=L,qn=S,pi!==null?0:(er=null,zn=0,Zh(),br)}function y(){for(;pi!==null&&!oe();)T(pi)}function T(u){var d=dp(u.alternate,u,_c);u.memoizedProps=u.pendingProps,d===null?W(u):pi=d}function N(u){var d=u,S=d.alternate;switch(d.tag){case 15:case 0:d=TS(S,d,d.pendingProps,d.type,void 0,zn);break;case 11:d=TS(S,d,d.pendingProps,d.type.render,d.ref,zn);break;case 5:Qm(d);default:iy(S,d),d=pi=Au(d,_c),d=dp(S,d,_c)}u.memoizedProps=u.pendingProps,d===null?W(u):pi=d}function $(u,d,S,E){ks=xl=null,Qm(d),uu=null,rp=0;var L=d.return;try{if(eM(u,L,d,S,zn)){br=1,sg(u,yo(S,u.current)),pi=null;return}}catch(k){if(L!==null)throw pi=L,k;br=1,sg(u,yo(S,u.current)),pi=null;return}d.flags&32768?(Ii||E===1?u=!0:Wa||(zn&536870912)!==0?u=!1:(jr=u=!0,(E===2||E===3||E===6)&&(E=bo.current,E!==null&&E.tag===13&&(E.flags|=16384))),ve(d,u)):W(d)}function W(u){var d=u;do{if((d.flags&32768)!==0){ve(d,jr);return}u=d.return;var S=nM(d.alternate,d,_c);if(S!==null){pi=S;return}if(d=d.sibling,d!==null){pi=d;return}pi=d=u}while(d!==null);br===0&&(br=5)}function ve(u,d){do{var S=Lr(u.alternate,u);if(S!==null){S.flags&=32767,pi=S;return}if(S=u.return,S!==null&&(S.flags|=32768,S.subtreeFlags=0,S.deletions=null),!d&&(u=u.sibling,u!==null)){pi=u;return}pi=u=S}while(u!==null);br=6,pi=null}function Le(u,d,S,E,L,k,ie,ge,Oe,Xe){var Tt=B.T,Ft=j.p;try{j.p=2,B.T=null,nt(u,d,S,E,Ft,L,k,ie,ge,Oe,Xe)}finally{B.T=Tt,j.p=Ft}}function nt(u,d,S,E,L,k,ie,ge){do Wt();while(bs!==null);if((qn&6)!==0)throw Error(r(327));var Oe=u.finishedWork;if(E=u.finishedLanes,Oe===null)return null;if(u.finishedWork=null,u.finishedLanes=0,Oe===u.current)throw Error(r(177));u.callbackNode=null,u.callbackPriority=0,u.cancelPendingCommit=null;var Xe=Oe.lanes|Oe.childLanes;if(Xe|=Jl,cr(u,E,Xe,k,ie,ge),u===er&&(pi=er=null,zn=0),(Oe.subtreeFlags&10256)===0&&(Oe.flags&10256)===0||ys||(ys=!0,Ys=Xe,Tr=S,Je(st,function(){return Wt(),null})),S=(Oe.flags&15990)!==0,(Oe.subtreeFlags&15990)!==0||S?(S=B.T,B.T=null,k=j.p,j.p=2,ie=qn,qn|=4,kd(u,Oe),Tf(Oe,u),Vt(fM,u.containerInfo),$S=!!uM,fM=uM=null,u.current=Oe,$d(u,Oe.alternate,Oe),Ee(),qn=ie,j.p=k,B.T=S):u.current=Oe,ys?(ys=!1,bs=u,Of=E):Mt(u,Xe),Xe=u.pendingLanes,Xe===0&&(ia=null),it(Oe.stateNode),sr(u),d!==null)for(L=u.onRecoverableError,Oe=0;Oe<d.length;Oe++)Xe=d[Oe],L(Xe.value,{componentStack:Xe.stack});return(Of&3)!==0&&Wt(),Xe=u.pendingLanes,(E&4194218)!==0&&(Xe&42)!==0?u===Sc?_s++:(_s=0,Sc=u):_s=0,_i(0),null}function Mt(u,d){(u.pooledCacheLanes&=d)===0&&(d=u.pooledCache,d!=null&&(u.pooledCache=null,du(d)))}function Wt(){if(bs!==null){var u=bs,d=Ys;Ys=0;var S=Ri(Of),E=B.T,L=j.p;try{if(j.p=32>S?32:S,B.T=null,bs===null)var k=!1;else{S=Tr,Tr=null;var ie=bs,ge=Of;if(bs=null,Of=0,(qn&6)!==0)throw Error(r(331));var Oe=qn;if(qn|=4,Vd(ie.current),mc(ie,ie.current,ge,S),qn=Oe,_i(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(wt,ie)}catch{}k=!0}return k}finally{j.p=L,B.T=E,Mt(u,d)}}return!1}function nn(u,d,S){d=yo(S,d),d=V0(u.stateNode,d,2),u=Zo(u,d,2),u!==null&&(_n(u,2),sr(u))}function kt(u,d,S){if(u.tag===3)nn(u,u,S);else for(;d!==null;){if(d.tag===3){nn(d,u,S);break}else if(d.tag===1){var E=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(ia===null||!ia.has(E))){u=yo(S,u),S=G0(2),E=Zo(d,S,2),E!==null&&(ES(S,E,d,u),_n(E,2),sr(E));break}}d=d.return}}function Zn(u,d,S){var E=u.pingCache;if(E===null){E=u.pingCache=new bc;var L=new Set;E.set(d,L)}else L=E.get(d),L===void 0&&(L=new Set,E.set(d,L));L.has(S)||(Iu=!0,L.add(S),u=xs.bind(null,u,d,S),d.then(u,u))}function xs(u,d,S){var E=u.pingCache;E!==null&&E.delete(d),u.pingedLanes|=u.suspendedLanes&S,u.warmLanes&=~S,er===u&&(zn&S)===S&&(br===4||br===3&&(zn&62914560)===zn&&300>Pe()-ui?(qn&2)===0&&xc(u,0):jd|=S,Tl===zn&&(Tl=0)),sr(u)}function Yd(u,d){d===0&&(d=Dt()),u=ec(u,d),u!==null&&(_n(u,d),sr(u))}function Pf(u){var d=u.memoizedState,S=0;d!==null&&(S=d.retryLane),Yd(u,S)}function ut(u,d){var S=0;switch(u.tag){case 13:var E=u.stateNode,L=u.memoizedState;L!==null&&(S=L.retryLane);break;case 19:E=u.stateNode;break;case 22:E=u.stateNode._retryCache;break;default:throw Error(r(314))}E!==null&&E.delete(d),Yd(u,S)}function Je(u,d){return ot(u,d)}var dt=null,Ht=null,wn=!1,nr=!1,Un=!1,mi=0;function sr(u){u!==Ht&&u.next===null&&(Ht===null?dt=Ht=u:Ht=Ht.next=u),nr=!0,wn||(wn=!0,PH(Pu))}function _i(u,d){if(!Un&&nr){Un=!0;do for(var S=!1,E=dt;E!==null;){if(u!==0){var L=E.pendingLanes;if(L===0)var k=0;else{var ie=E.suspendedLanes,ge=E.pingedLanes;k=(1<<31-ke(42|u)+1)-1,k&=L&~(ie&~ge),k=k&201326677?k&201326677|1:k?k|2:0}k!==0&&(S=!0,DI(E,k))}else k=zn,k=zt(E,E===er?k:0),(k&3)===0||Jt(E,k)||(S=!0,DI(E,k));E=E.next}while(S);Un=!1}}function Pu(){nr=wn=!1;var u=0;mi!==0&&(kH()&&(u=mi),mi=0);for(var d=Pe(),S=null,E=dt;E!==null;){var L=E.next,k=zS(E,d);k===0?(E.next=null,S===null?dt=L:S.next=L,L===null&&(Ht=S)):(S=E,(u!==0||(k&3)!==0)&&(nr=!0)),E=L}_i(u)}function zS(u,d){for(var S=u.suspendedLanes,E=u.pingedLanes,L=u.expirationTimes,k=u.pendingLanes&-62914561;0<k;){var ie=31-ke(k),ge=1<<ie,Oe=L[ie];Oe===-1?((ge&S)===0||(ge&E)!==0)&&(L[ie]=cn(ge,d)):Oe<=d&&(u.expiredLanes|=ge),k&=~ge}if(d=er,S=zn,S=zt(u,u===d?S:0),E=u.callbackNode,S===0||u===d&&or===2||u.cancelPendingCommit!==null)return E!==null&&E!==null&&fe(E),u.callbackNode=null,u.callbackPriority=0;if((S&3)===0||Jt(u,S)){if(d=S&-S,d===u.callbackPriority)return d;switch(E!==null&&fe(E),Ri(S)){case 2:case 8:S=mt;break;case 32:S=st;break;case 268435456:S=It;break;default:S=st}return E=PI.bind(null,u),S=ot(S,E),u.callbackPriority=d,u.callbackNode=S,d}return E!==null&&E!==null&&fe(E),u.callbackPriority=2,u.callbackNode=null,2}function PI(u,d){var S=u.callbackNode;if(Wt()&&u.callbackNode!==S)return null;var E=zn;return E=zt(u,u===er?E:0),E===0?null:(Wd(u,E,d),zS(u,Pe()),u.callbackNode!=null&&u.callbackNode===S?PI.bind(null,u):null)}function DI(u,d){if(Wt())return null;Wd(u,d,!0)}function PH(u){VH(function(){(qn&6)!==0?ot(He,u):u()})}function iM(){return mi===0&&(mi=Zt()),mi}function LI(u){return u==null||typeof u=="symbol"||typeof u=="boolean"?null:typeof u=="function"?u:Cr(""+u)}function NI(u,d){var S=d.ownerDocument.createElement("input");return S.name=d.name,S.value=d.value,u.id&&S.setAttribute("form",u.id),d.parentNode.insertBefore(S,d),u=new FormData(u),S.parentNode.removeChild(S),u}function DH(u,d,S,E,L){if(d==="submit"&&S&&S.stateNode===L){var k=LI((L[dn]||null).action),ie=E.submitter;ie&&(d=(d=ie[dn]||null)?LI(d.formAction):ie.getAttribute("formAction"),d!==null&&(k=d,ie=null));var ge=new cl("action","action",null,E,L);u.push({event:ge,listeners:[{instance:null,listener:function(){if(E.defaultPrevented){if(mi!==0){var Oe=ie?NI(L,ie):new FormData(L);B0(S,{pending:!0,data:Oe,method:L.method,action:k},null,Oe)}}else typeof k=="function"&&(ge.preventDefault(),Oe=ie?NI(L,ie):new FormData(L),B0(S,{pending:!0,data:Oe,method:L.method,action:k},k,Oe))},currentTarget:L}]})}}for(var rM=0;rM<Ql.length;rM++){var aM=Ql[rM],LH=aM.toLowerCase(),NH=aM[0].toUpperCase()+aM.slice(1);us(LH,"on"+NH)}us(Go,"onAnimationEnd"),us(ca,"onAnimationIteration"),us(Zl,"onAnimationStart"),us("dblclick","onDoubleClick"),us("focusin","onFocus"),us("focusout","onBlur"),us(Kl,"onTransitionRun"),us(Md,"onTransitionStart"),us(ru,"onTransitionCancel"),us(jm,"onTransitionEnd"),Kt("onMouseEnter",["mouseout","mouseover"]),Kt("onMouseLeave",["mouseout","mouseover"]),Kt("onPointerEnter",["pointerout","pointerover"]),Kt("onPointerLeave",["pointerout","pointerover"]),jt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),jt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),jt("onBeforeInput",["compositionend","keypress","textInput","paste"]),jt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),jt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),jt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oy="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UH=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(oy));function UI(u,d){d=(d&4)!==0;for(var S=0;S<u.length;S++){var E=u[S],L=E.event;E=E.listeners;e:{var k=void 0;if(d)for(var ie=E.length-1;0<=ie;ie--){var ge=E[ie],Oe=ge.instance,Xe=ge.currentTarget;if(ge=ge.listener,Oe!==k&&L.isPropagationStopped())break e;k=ge,L.currentTarget=Xe;try{k(L)}catch(Tt){og(Tt)}L.currentTarget=null,k=Oe}else for(ie=0;ie<E.length;ie++){if(ge=E[ie],Oe=ge.instance,Xe=ge.currentTarget,ge=ge.listener,Oe!==k&&L.isPropagationStopped())break e;k=ge,L.currentTarget=Xe;try{k(L)}catch(Tt){og(Tt)}L.currentTarget=null,k=Oe}}}}function Pi(u,d){var S=d[un];S===void 0&&(S=d[un]=new Set);var E=u+"__bubble";S.has(E)||(BI(d,u,2,!1),S.add(E))}function oM(u,d,S){var E=0;d&&(E|=4),BI(S,u,E,d)}var PS="_reactListening"+Math.random().toString(36).slice(2);function sM(u){if(!u[PS]){u[PS]=!0,Ve.forEach(function(S){S!=="selectionchange"&&(UH.has(S)||oM(S,!1,u),oM(S,!0,u))});var d=u.nodeType===9?u:u.ownerDocument;d===null||d[PS]||(d[PS]=!0,oM("selectionchange",!1,d))}}function BI(u,d,S,E){switch(s3(d)){case 2:var L=ck;break;case 8:L=uk;break;default:L=_M}S=L.bind(null,d,S,u),L=void 0,!xn||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(L=!0),E?L!==void 0?u.addEventListener(d,S,{capture:!0,passive:L}):u.addEventListener(d,S,!0):L!==void 0?u.addEventListener(d,S,{passive:L}):u.addEventListener(d,S,!1)}function lM(u,d,S,E,L){var k=E;if((d&1)===0&&(d&2)===0&&E!==null)e:for(;;){if(E===null)return;var ie=E.tag;if(ie===3||ie===4){var ge=E.stateNode.containerInfo;if(ge===L||ge.nodeType===8&&ge.parentNode===L)break;if(ie===4)for(ie=E.return;ie!==null;){var Oe=ie.tag;if((Oe===3||Oe===4)&&(Oe=ie.stateNode.containerInfo,Oe===L||Oe.nodeType===8&&Oe.parentNode===L))return;ie=ie.return}for(;ge!==null;){if(ie=wr(ge),ie===null)return;if(Oe=ie.tag,Oe===5||Oe===6||Oe===26||Oe===27){E=k=ie;continue e}ge=ge.parentNode}}E=E.return}Gl(function(){var Xe=k,Tt=Na(S),Ft=[];e:{var ft=Wm.get(u);if(ft!==void 0){var Et=cl,Cn=u;switch(u){case"keypress":if(Ua(S)===0)break e;case"keydown":case"keyup":Et=Jc;break;case"focusin":Cn="focus",Et=lf;break;case"focusout":Cn="blur",Et=lf;break;case"beforeblur":case"afterblur":Et=lf;break;case"click":if(S.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Et=jh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Et=C0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Et=_d;break;case Go:case ca:case Zl:Et=Um;break;case jm:Et=Us;break;case"scroll":case"scrollend":Et=Gh;break;case"wheel":Et=E0;break;case"copy":case"cut":case"paste":Et=Fm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Et=uf;break;case"toggle":case"beforetoggle":Et=dl}var Kn=(d&4)!==0,aa=!Kn&&(u==="scroll"||u==="scrollend"),tt=Kn?ft!==null?ft+"Capture":null:ft;Kn=[];for(var Ge=Xe,ct;Ge!==null;){var Ot=Ge;if(ct=Ot.stateNode,Ot=Ot.tag,Ot!==5&&Ot!==26&&Ot!==27||ct===null||tt===null||(Ot=tn(Ge,tt),Ot!=null&&Kn.push(sy(Ge,Ot,ct))),aa)break;Ge=Ge.return}0<Kn.length&&(ft=new Et(ft,Cn,null,S,Tt),Ft.push({event:ft,listeners:Kn}))}}if((d&7)===0){e:{if(ft=u==="mouseover"||u==="pointerover",Et=u==="mouseout"||u==="pointerout",ft&&S!==Ho&&(Cn=S.relatedTarget||S.fromElement)&&(wr(Cn)||Cn[ai]))break e;if((Et||ft)&&(ft=Tt.window===Tt?Tt:(ft=Tt.ownerDocument)?ft.defaultView||ft.parentWindow:window,Et?(Cn=S.relatedTarget||S.toElement,Et=Xe,Cn=Cn?wr(Cn):null,Cn!==null&&(aa=te(Cn),Kn=Cn.tag,Cn!==aa||Kn!==5&&Kn!==27&&Kn!==6)&&(Cn=null)):(Et=null,Cn=Xe),Et!==Cn)){if(Kn=jh,Ot="onMouseLeave",tt="onMouseEnter",Ge="mouse",(u==="pointerout"||u==="pointerover")&&(Kn=uf,Ot="onPointerLeave",tt="onPointerEnter",Ge="pointer"),aa=Et==null?ft:Be(Et),ct=Cn==null?ft:Be(Cn),ft=new Kn(Ot,Ge+"leave",Et,S,Tt),ft.target=aa,ft.relatedTarget=ct,Ot=null,wr(Tt)===Xe&&(Kn=new Kn(tt,Ge+"enter",Cn,S,Tt),Kn.target=ct,Kn.relatedTarget=aa,Ot=Kn),aa=Ot,Et&&Cn)t:{for(Kn=Et,tt=Cn,Ge=0,ct=Kn;ct;ct=_g(ct))Ge++;for(ct=0,Ot=tt;Ot;Ot=_g(Ot))ct++;for(;0<Ge-ct;)Kn=_g(Kn),Ge--;for(;0<ct-Ge;)tt=_g(tt),ct--;for(;Ge--;){if(Kn===tt||tt!==null&&Kn===tt.alternate)break t;Kn=_g(Kn),tt=_g(tt)}Kn=null}else Kn=null;Et!==null&&FI(Ft,ft,Et,Kn,!1),Cn!==null&&aa!==null&&FI(Ft,aa,Cn,Kn,!0)}}e:{if(ft=Xe?Be(Xe):window,Et=ft.nodeName&&ft.nodeName.toLowerCase(),Et==="select"||Et==="input"&&ft.type==="file")var pn=wd;else if(qh(ft))if(Cd)pn=se;else{pn=Y;var Si=G}else Et=ft.nodeName,!Et||Et.toLowerCase()!=="input"||ft.type!=="checkbox"&&ft.type!=="radio"?Xe&&Ds(Xe.elementType)&&(pn=wd):pn=ne;if(pn&&(pn=pn(u,Xe))){Ba(Ft,pn,S,Tt);break e}Si&&Si(u,ft,Xe),u==="focusout"&&Xe&&ft.type==="number"&&Xe.memoizedProps.value!=null&&Ni(ft,"number",ft.value)}switch(Si=Xe?Be(Xe):window,u){case"focusin":(qh(Si)||Si.contentEditable==="true")&&(en=Si,gn=Xe,Nn=null);break;case"focusout":Nn=gn=en=null;break;case"mousedown":ii=!0;break;case"contextmenu":case"mouseup":case"dragend":ii=!1,vn(Ft,S,Tt);break;case"selectionchange":if(an)break;case"keydown":case"keyup":vn(Ft,S,Tt)}var Mn;if(Xl)e:{switch(u){case"compositionstart":var Hn="onCompositionStart";break e;case"compositionend":Hn="onCompositionEnd";break e;case"compositionupdate":Hn="onCompositionUpdate";break e}Hn=void 0}else go?df(u,S)&&(Hn="onCompositionEnd"):u==="keydown"&&S.keyCode===229&&(Hn="onCompositionStart");Hn&&(ff&&S.locale!=="ko"&&(go||Hn!=="onCompositionStart"?Hn==="onCompositionEnd"&&go&&(Mn=ko()):(Ei=Tt,Hi="value"in Ei?Ei.value:Ei.textContent,go=!0)),Si=DS(Xe,Hn),0<Si.length&&(Hn=new yd(Hn,u,null,S,Tt),Ft.push({event:Hn,listeners:Si}),Mn?Hn.data=Mn:(Mn=Sd(S),Mn!==null&&(Hn.data=Mn)))),(Mn=hl?vo(u,S):xd(u,S))&&(Hn=DS(Xe,"onBeforeInput"),0<Hn.length&&(Si=new yd("onBeforeInput","beforeinput",null,S,Tt),Ft.push({event:Si,listeners:Hn}),Si.data=Mn)),DH(Ft,u,Xe,S,Tt)}UI(Ft,d)})}function sy(u,d,S){return{instance:u,listener:d,currentTarget:S}}function DS(u,d){for(var S=d+"Capture",E=[];u!==null;){var L=u,k=L.stateNode;L=L.tag,L!==5&&L!==26&&L!==27||k===null||(L=tn(u,S),L!=null&&E.unshift(sy(u,L,k)),L=tn(u,d),L!=null&&E.push(sy(u,L,k))),u=u.return}return E}function _g(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5&&u.tag!==27);return u||null}function FI(u,d,S,E,L){for(var k=d._reactName,ie=[];S!==null&&S!==E;){var ge=S,Oe=ge.alternate,Xe=ge.stateNode;if(ge=ge.tag,Oe!==null&&Oe===E)break;ge!==5&&ge!==26&&ge!==27||Xe===null||(Oe=Xe,L?(Xe=tn(S,k),Xe!=null&&ie.unshift(sy(S,Xe,Oe))):L||(Xe=tn(S,k),Xe!=null&&ie.push(sy(S,Xe,Oe)))),S=S.return}ie.length!==0&&u.push({event:d,listeners:ie})}var BH=/\r\n?/g,FH=/\u0000|\uFFFD/g;function HI(u){return(typeof u=="string"?u:""+u).replace(BH,`
`).replace(FH,"")}function kI(u,d){return d=HI(d),HI(u)===d}function LS(){}function hr(u,d,S,E,L,k){switch(S){case"children":typeof E=="string"?d==="body"||d==="textarea"&&E===""||Yi(u,E):(typeof E=="number"||typeof E=="bigint")&&d!=="body"&&Yi(u,""+E);break;case"className":Wn(u,"class",E);break;case"tabIndex":Wn(u,"tabindex",E);break;case"dir":case"role":case"viewBox":case"width":case"height":Wn(u,S,E);break;case"style":Ma(u,E,k);break;case"data":if(d!=="object"){Wn(u,"data",E);break}case"src":case"href":if(E===""&&(d!=="a"||S!=="href")){u.removeAttribute(S);break}if(E==null||typeof E=="function"||typeof E=="symbol"||typeof E=="boolean"){u.removeAttribute(S);break}E=Cr(""+E),u.setAttribute(S,E);break;case"action":case"formAction":if(typeof E=="function"){u.setAttribute(S,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof k=="function"&&(S==="formAction"?(d!=="input"&&hr(u,d,"name",L.name,L,null),hr(u,d,"formEncType",L.formEncType,L,null),hr(u,d,"formMethod",L.formMethod,L,null),hr(u,d,"formTarget",L.formTarget,L,null)):(hr(u,d,"encType",L.encType,L,null),hr(u,d,"method",L.method,L,null),hr(u,d,"target",L.target,L,null)));if(E==null||typeof E=="symbol"||typeof E=="boolean"){u.removeAttribute(S);break}E=Cr(""+E),u.setAttribute(S,E);break;case"onClick":E!=null&&(u.onclick=LS);break;case"onScroll":E!=null&&Pi("scroll",u);break;case"onScrollEnd":E!=null&&Pi("scrollend",u);break;case"dangerouslySetInnerHTML":if(E!=null){if(typeof E!="object"||!("__html"in E))throw Error(r(61));if(S=E.__html,S!=null){if(L.children!=null)throw Error(r(60));u.innerHTML=S}}break;case"multiple":u.multiple=E&&typeof E!="function"&&typeof E!="symbol";break;case"muted":u.muted=E&&typeof E!="function"&&typeof E!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(E==null||typeof E=="function"||typeof E=="boolean"||typeof E=="symbol"){u.removeAttribute("xlink:href");break}S=Cr(""+E),u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",S);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":E!=null&&typeof E!="function"&&typeof E!="symbol"?u.setAttribute(S,""+E):u.removeAttribute(S);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":E&&typeof E!="function"&&typeof E!="symbol"?u.setAttribute(S,""):u.removeAttribute(S);break;case"capture":case"download":E===!0?u.setAttribute(S,""):E!==!1&&E!=null&&typeof E!="function"&&typeof E!="symbol"?u.setAttribute(S,E):u.removeAttribute(S);break;case"cols":case"rows":case"size":case"span":E!=null&&typeof E!="function"&&typeof E!="symbol"&&!isNaN(E)&&1<=E?u.setAttribute(S,E):u.removeAttribute(S);break;case"rowSpan":case"start":E==null||typeof E=="function"||typeof E=="symbol"||isNaN(E)?u.removeAttribute(S):u.setAttribute(S,E);break;case"popover":Pi("beforetoggle",u),Pi("toggle",u),Gn(u,"popover",E);break;case"xlinkActuate":Pn(u,"http://www.w3.org/1999/xlink","xlink:actuate",E);break;case"xlinkArcrole":Pn(u,"http://www.w3.org/1999/xlink","xlink:arcrole",E);break;case"xlinkRole":Pn(u,"http://www.w3.org/1999/xlink","xlink:role",E);break;case"xlinkShow":Pn(u,"http://www.w3.org/1999/xlink","xlink:show",E);break;case"xlinkTitle":Pn(u,"http://www.w3.org/1999/xlink","xlink:title",E);break;case"xlinkType":Pn(u,"http://www.w3.org/1999/xlink","xlink:type",E);break;case"xmlBase":Pn(u,"http://www.w3.org/XML/1998/namespace","xml:base",E);break;case"xmlLang":Pn(u,"http://www.w3.org/XML/1998/namespace","xml:lang",E);break;case"xmlSpace":Pn(u,"http://www.w3.org/XML/1998/namespace","xml:space",E);break;case"is":Gn(u,"is",E);break;case"innerText":case"textContent":break;default:(!(2<S.length)||S[0]!=="o"&&S[0]!=="O"||S[1]!=="n"&&S[1]!=="N")&&(S=sf.get(S)||S,Gn(u,S,E))}}function cM(u,d,S,E,L,k){switch(S){case"style":Ma(u,E,k);break;case"dangerouslySetInnerHTML":if(E!=null){if(typeof E!="object"||!("__html"in E))throw Error(r(61));if(S=E.__html,S!=null){if(L.children!=null)throw Error(r(60));u.innerHTML=S}}break;case"children":typeof E=="string"?Yi(u,E):(typeof E=="number"||typeof E=="bigint")&&Yi(u,""+E);break;case"onScroll":E!=null&&Pi("scroll",u);break;case"onScrollEnd":E!=null&&Pi("scrollend",u);break;case"onClick":E!=null&&(u.onclick=LS);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rt.hasOwnProperty(S))e:{if(S[0]==="o"&&S[1]==="n"&&(L=S.endsWith("Capture"),d=S.slice(2,L?S.length-7:void 0),k=u[dn]||null,k=k!=null?k[S]:null,typeof k=="function"&&u.removeEventListener(d,k,L),typeof E=="function")){typeof k!="function"&&k!==null&&(S in u?u[S]=null:u.hasAttribute(S)&&u.removeAttribute(S)),u.addEventListener(d,E,L);break e}S in u?u[S]=E:E===!0?u.setAttribute(S,""):Gn(u,S,E)}}}function oo(u,d,S){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pi("error",u),Pi("load",u);var E=!1,L=!1,k;for(k in S)if(S.hasOwnProperty(k)){var ie=S[k];if(ie!=null)switch(k){case"src":E=!0;break;case"srcSet":L=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:hr(u,d,k,ie,S,null)}}L&&hr(u,d,"srcSet",S.srcSet,S,null),E&&hr(u,d,"src",S.src,S,null);return;case"input":Pi("invalid",u);var ge=k=ie=L=null,Oe=null,Xe=null;for(E in S)if(S.hasOwnProperty(E)){var Tt=S[E];if(Tt!=null)switch(E){case"name":L=Tt;break;case"type":ie=Tt;break;case"checked":Oe=Tt;break;case"defaultChecked":Xe=Tt;break;case"value":k=Tt;break;case"defaultValue":ge=Tt;break;case"children":case"dangerouslySetInnerHTML":if(Tt!=null)throw Error(r(137,d));break;default:hr(u,d,E,Tt,S,null)}}Ci(u,k,ge,Oe,Xe,ie,L,!1),Xn(u);return;case"select":Pi("invalid",u),E=ie=k=null;for(L in S)if(S.hasOwnProperty(L)&&(ge=S[L],ge!=null))switch(L){case"value":k=ge;break;case"defaultValue":ie=ge;break;case"multiple":E=ge;default:hr(u,d,L,ge,S,null)}d=k,S=ie,u.multiple=!!E,d!=null?Gi(u,!!E,d,!1):S!=null&&Gi(u,!!E,S,!0);return;case"textarea":Pi("invalid",u),k=L=E=null;for(ie in S)if(S.hasOwnProperty(ie)&&(ge=S[ie],ge!=null))switch(ie){case"value":E=ge;break;case"defaultValue":L=ge;break;case"children":k=ge;break;case"dangerouslySetInnerHTML":if(ge!=null)throw Error(r(91));break;default:hr(u,d,ie,ge,S,null)}Pr(u,E,L,k),Xn(u);return;case"option":for(Oe in S)if(S.hasOwnProperty(Oe)&&(E=S[Oe],E!=null))switch(Oe){case"selected":u.selected=E&&typeof E!="function"&&typeof E!="symbol";break;default:hr(u,d,Oe,E,S,null)}return;case"dialog":Pi("cancel",u),Pi("close",u);break;case"iframe":case"object":Pi("load",u);break;case"video":case"audio":for(E=0;E<oy.length;E++)Pi(oy[E],u);break;case"image":Pi("error",u),Pi("load",u);break;case"details":Pi("toggle",u);break;case"embed":case"source":case"link":Pi("error",u),Pi("load",u);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Xe in S)if(S.hasOwnProperty(Xe)&&(E=S[Xe],E!=null))switch(Xe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:hr(u,d,Xe,E,S,null)}return;default:if(Ds(d)){for(Tt in S)S.hasOwnProperty(Tt)&&(E=S[Tt],E!==void 0&&cM(u,d,Tt,E,S,void 0));return}}for(ge in S)S.hasOwnProperty(ge)&&(E=S[ge],E!=null&&hr(u,d,ge,E,S,null))}function HH(u,d,S,E){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var L=null,k=null,ie=null,ge=null,Oe=null,Xe=null,Tt=null;for(Et in S){var Ft=S[Et];if(S.hasOwnProperty(Et)&&Ft!=null)switch(Et){case"checked":break;case"value":break;case"defaultValue":Oe=Ft;default:E.hasOwnProperty(Et)||hr(u,d,Et,null,E,Ft)}}for(var ft in E){var Et=E[ft];if(Ft=S[ft],E.hasOwnProperty(ft)&&(Et!=null||Ft!=null))switch(ft){case"type":k=Et;break;case"name":L=Et;break;case"checked":Xe=Et;break;case"defaultChecked":Tt=Et;break;case"value":ie=Et;break;case"defaultValue":ge=Et;break;case"children":case"dangerouslySetInnerHTML":if(Et!=null)throw Error(r(137,d));break;default:Et!==Ft&&hr(u,d,ft,Et,E,Ft)}}An(u,ie,ge,Oe,Xe,Tt,k,L);return;case"select":Et=ie=ge=ft=null;for(k in S)if(Oe=S[k],S.hasOwnProperty(k)&&Oe!=null)switch(k){case"value":break;case"multiple":Et=Oe;default:E.hasOwnProperty(k)||hr(u,d,k,null,E,Oe)}for(L in E)if(k=E[L],Oe=S[L],E.hasOwnProperty(L)&&(k!=null||Oe!=null))switch(L){case"value":ft=k;break;case"defaultValue":ge=k;break;case"multiple":ie=k;default:k!==Oe&&hr(u,d,L,k,E,Oe)}d=ge,S=ie,E=Et,ft!=null?Gi(u,!!S,ft,!1):!!E!=!!S&&(d!=null?Gi(u,!!S,d,!0):Gi(u,!!S,S?[]:"",!1));return;case"textarea":Et=ft=null;for(ge in S)if(L=S[ge],S.hasOwnProperty(ge)&&L!=null&&!E.hasOwnProperty(ge))switch(ge){case"value":break;case"children":break;default:hr(u,d,ge,null,E,L)}for(ie in E)if(L=E[ie],k=S[ie],E.hasOwnProperty(ie)&&(L!=null||k!=null))switch(ie){case"value":ft=L;break;case"defaultValue":Et=L;break;case"children":break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(91));break;default:L!==k&&hr(u,d,ie,L,E,k)}Ki(u,ft,Et);return;case"option":for(var Cn in S)if(ft=S[Cn],S.hasOwnProperty(Cn)&&ft!=null&&!E.hasOwnProperty(Cn))switch(Cn){case"selected":u.selected=!1;break;default:hr(u,d,Cn,null,E,ft)}for(Oe in E)if(ft=E[Oe],Et=S[Oe],E.hasOwnProperty(Oe)&&ft!==Et&&(ft!=null||Et!=null))switch(Oe){case"selected":u.selected=ft&&typeof ft!="function"&&typeof ft!="symbol";break;default:hr(u,d,Oe,ft,E,Et)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Kn in S)ft=S[Kn],S.hasOwnProperty(Kn)&&ft!=null&&!E.hasOwnProperty(Kn)&&hr(u,d,Kn,null,E,ft);for(Xe in E)if(ft=E[Xe],Et=S[Xe],E.hasOwnProperty(Xe)&&ft!==Et&&(ft!=null||Et!=null))switch(Xe){case"children":case"dangerouslySetInnerHTML":if(ft!=null)throw Error(r(137,d));break;default:hr(u,d,Xe,ft,E,Et)}return;default:if(Ds(d)){for(var aa in S)ft=S[aa],S.hasOwnProperty(aa)&&ft!==void 0&&!E.hasOwnProperty(aa)&&cM(u,d,aa,void 0,E,ft);for(Tt in E)ft=E[Tt],Et=S[Tt],!E.hasOwnProperty(Tt)||ft===Et||ft===void 0&&Et===void 0||cM(u,d,Tt,ft,E,Et);return}}for(var tt in S)ft=S[tt],S.hasOwnProperty(tt)&&ft!=null&&!E.hasOwnProperty(tt)&&hr(u,d,tt,null,E,ft);for(Ft in E)ft=E[Ft],Et=S[Ft],!E.hasOwnProperty(Ft)||ft===Et||ft==null&&Et==null||hr(u,d,Ft,ft,E,Et)}var uM=null,fM=null;function NS(u){return u.nodeType===9?u:u.ownerDocument}function $I(u){switch(u){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function VI(u,d){if(u===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return u===1&&d==="foreignObject"?0:u}function dM(u,d){return u==="textarea"||u==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var hM=null;function kH(){var u=window.event;return u&&u.type==="popstate"?u===hM?!1:(hM=u,!0):(hM=null,!1)}var GI=typeof setTimeout=="function"?setTimeout:void 0,$H=typeof clearTimeout=="function"?clearTimeout:void 0,jI=typeof Promise=="function"?Promise:void 0,VH=typeof queueMicrotask=="function"?queueMicrotask:typeof jI<"u"?function(u){return jI.resolve(null).then(u).catch(GH)}:GI;function GH(u){setTimeout(function(){throw u})}function pM(u,d){var S=d,E=0;do{var L=S.nextSibling;if(u.removeChild(S),L&&L.nodeType===8)if(S=L.data,S==="/$"){if(E===0){u.removeChild(L),my(d);return}E--}else S!=="$"&&S!=="$?"&&S!=="$!"||E++;S=L}while(S);my(d)}function mM(u){var d=u.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var S=d;switch(d=d.nextSibling,S.nodeName){case"HTML":case"HEAD":case"BODY":mM(S),ur(S);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(S.rel.toLowerCase()==="stylesheet")continue}u.removeChild(S)}}function jH(u,d,S,E){for(;u.nodeType===1;){var L=S;if(u.nodeName.toLowerCase()!==d.toLowerCase()){if(!E&&(u.nodeName!=="INPUT"||u.type!=="hidden"))break}else if(E){if(!u[zr])switch(d){case"meta":if(!u.hasAttribute("itemprop"))break;return u;case"link":if(k=u.getAttribute("rel"),k==="stylesheet"&&u.hasAttribute("data-precedence"))break;if(k!==L.rel||u.getAttribute("href")!==(L.href==null?null:L.href)||u.getAttribute("crossorigin")!==(L.crossOrigin==null?null:L.crossOrigin)||u.getAttribute("title")!==(L.title==null?null:L.title))break;return u;case"style":if(u.hasAttribute("data-precedence"))break;return u;case"script":if(k=u.getAttribute("src"),(k!==(L.src==null?null:L.src)||u.getAttribute("type")!==(L.type==null?null:L.type)||u.getAttribute("crossorigin")!==(L.crossOrigin==null?null:L.crossOrigin))&&k&&u.hasAttribute("async")&&!u.hasAttribute("itemprop"))break;return u;default:return u}}else if(d==="input"&&u.type==="hidden"){var k=L.name==null?null:""+L.name;if(L.type==="hidden"&&u.getAttribute("name")===k)return u}else return u;if(u=wc(u.nextSibling),u===null)break}return null}function WH(u,d,S){if(d==="")return null;for(;u.nodeType!==3;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!S||(u=wc(u.nextSibling),u===null))return null;return u}function wc(u){for(;u!=null;u=u.nextSibling){var d=u.nodeType;if(d===1||d===3)break;if(d===8){if(d=u.data,d==="$"||d==="$!"||d==="$?"||d==="F!"||d==="F")break;if(d==="/$")return null}}return u}function WI(u){u=u.previousSibling;for(var d=0;u;){if(u.nodeType===8){var S=u.data;if(S==="$"||S==="$!"||S==="$?"){if(d===0)return u;d--}else S==="/$"&&d++}u=u.previousSibling}return null}function XI(u,d,S){switch(d=NS(S),u){case"html":if(u=d.documentElement,!u)throw Error(r(452));return u;case"head":if(u=d.head,!u)throw Error(r(453));return u;case"body":if(u=d.body,!u)throw Error(r(454));return u;default:throw Error(r(451))}}var Rl=new Map,YI=new Set;function US(u){return typeof u.getRootNode=="function"?u.getRootNode():u.ownerDocument}var Df=j.d;j.d={f:XH,r:YH,D:qH,C:ZH,L:KH,m:QH,X:ek,S:JH,M:tk};function XH(){var u=Df.f(),d=If();return u||d}function YH(u){var d=le(u);d!==null&&d.tag===5&&d.type==="form"?hS(d):Df.r(u)}var Sg=typeof document>"u"?null:document;function qI(u,d,S){var E=Sg;if(E&&typeof d=="string"&&d){var L=ni(d);L='link[rel="'+u+'"][href="'+L+'"]',typeof S=="string"&&(L+='[crossorigin="'+S+'"]'),YI.has(L)||(YI.add(L),u={rel:u,crossOrigin:S,href:d},E.querySelector(L)===null&&(d=E.createElement("link"),oo(d,"link",u),Ke(d),E.head.appendChild(d)))}}function qH(u){Df.D(u),qI("dns-prefetch",u,null)}function ZH(u,d){Df.C(u,d),qI("preconnect",u,d)}function KH(u,d,S){Df.L(u,d,S);var E=Sg;if(E&&u&&d){var L='link[rel="preload"][as="'+ni(d)+'"]';d==="image"&&S&&S.imageSrcSet?(L+='[imagesrcset="'+ni(S.imageSrcSet)+'"]',typeof S.imageSizes=="string"&&(L+='[imagesizes="'+ni(S.imageSizes)+'"]')):L+='[href="'+ni(u)+'"]';var k=L;switch(d){case"style":k=xg(u);break;case"script":k=wg(u)}Rl.has(k)||(u=U({rel:"preload",href:d==="image"&&S&&S.imageSrcSet?void 0:u,as:d},S),Rl.set(k,u),E.querySelector(L)!==null||d==="style"&&E.querySelector(ly(k))||d==="script"&&E.querySelector(cy(k))||(d=E.createElement("link"),oo(d,"link",u),Ke(d),E.head.appendChild(d)))}}function QH(u,d){Df.m(u,d);var S=Sg;if(S&&u){var E=d&&typeof d.as=="string"?d.as:"script",L='link[rel="modulepreload"][as="'+ni(E)+'"][href="'+ni(u)+'"]',k=L;switch(E){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":k=wg(u)}if(!Rl.has(k)&&(u=U({rel:"modulepreload",href:u},d),Rl.set(k,u),S.querySelector(L)===null)){switch(E){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(S.querySelector(cy(k)))return}E=S.createElement("link"),oo(E,"link",u),Ke(E),S.head.appendChild(E)}}}function JH(u,d,S){Df.S(u,d,S);var E=Sg;if(E&&u){var L=rt(E).hoistableStyles,k=xg(u);d=d||"default";var ie=L.get(k);if(!ie){var ge={loading:0,preload:null};if(ie=E.querySelector(ly(k)))ge.loading=5;else{u=U({rel:"stylesheet",href:u,"data-precedence":d},S),(S=Rl.get(k))&&gM(u,S);var Oe=ie=E.createElement("link");Ke(Oe),oo(Oe,"link",u),Oe._p=new Promise(function(Xe,Tt){Oe.onload=Xe,Oe.onerror=Tt}),Oe.addEventListener("load",function(){ge.loading|=1}),Oe.addEventListener("error",function(){ge.loading|=2}),ge.loading|=4,BS(ie,d,E)}ie={type:"stylesheet",instance:ie,count:1,state:ge},L.set(k,ie)}}}function ek(u,d){Df.X(u,d);var S=Sg;if(S&&u){var E=rt(S).hoistableScripts,L=wg(u),k=E.get(L);k||(k=S.querySelector(cy(L)),k||(u=U({src:u,async:!0},d),(d=Rl.get(L))&&vM(u,d),k=S.createElement("script"),Ke(k),oo(k,"link",u),S.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},E.set(L,k))}}function tk(u,d){Df.M(u,d);var S=Sg;if(S&&u){var E=rt(S).hoistableScripts,L=wg(u),k=E.get(L);k||(k=S.querySelector(cy(L)),k||(u=U({src:u,async:!0,type:"module"},d),(d=Rl.get(L))&&vM(u,d),k=S.createElement("script"),Ke(k),oo(k,"link",u),S.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},E.set(L,k))}}function ZI(u,d,S,E){var L=(L=we.current)?US(L):null;if(!L)throw Error(r(446));switch(u){case"meta":case"title":return null;case"style":return typeof S.precedence=="string"&&typeof S.href=="string"?(d=xg(S.href),S=rt(L).hoistableStyles,E=S.get(d),E||(E={type:"style",instance:null,count:0,state:null},S.set(d,E)),E):{type:"void",instance:null,count:0,state:null};case"link":if(S.rel==="stylesheet"&&typeof S.href=="string"&&typeof S.precedence=="string"){u=xg(S.href);var k=rt(L).hoistableStyles,ie=k.get(u);if(ie||(L=L.ownerDocument||L,ie={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},k.set(u,ie),(k=L.querySelector(ly(u)))&&!k._p&&(ie.instance=k,ie.state.loading=5),Rl.has(u)||(S={rel:"preload",as:"style",href:S.href,crossOrigin:S.crossOrigin,integrity:S.integrity,media:S.media,hrefLang:S.hrefLang,referrerPolicy:S.referrerPolicy},Rl.set(u,S),k||nk(L,u,S,ie.state))),d&&E===null)throw Error(r(528,""));return ie}if(d&&E!==null)throw Error(r(529,""));return null;case"script":return d=S.async,S=S.src,typeof S=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=wg(S),S=rt(L).hoistableScripts,E=S.get(d),E||(E={type:"script",instance:null,count:0,state:null},S.set(d,E)),E):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,u))}}function xg(u){return'href="'+ni(u)+'"'}function ly(u){return'link[rel="stylesheet"]['+u+"]"}function KI(u){return U({},u,{"data-precedence":u.precedence,precedence:null})}function nk(u,d,S,E){u.querySelector('link[rel="preload"][as="style"]['+d+"]")?E.loading=1:(d=u.createElement("link"),E.preload=d,d.addEventListener("load",function(){return E.loading|=1}),d.addEventListener("error",function(){return E.loading|=2}),oo(d,"link",S),Ke(d),u.head.appendChild(d))}function wg(u){return'[src="'+ni(u)+'"]'}function cy(u){return"script[async]"+u}function QI(u,d,S){if(d.count++,d.instance===null)switch(d.type){case"style":var E=u.querySelector('style[data-href~="'+ni(S.href)+'"]');if(E)return d.instance=E,Ke(E),E;var L=U({},S,{"data-href":S.href,"data-precedence":S.precedence,href:null,precedence:null});return E=(u.ownerDocument||u).createElement("style"),Ke(E),oo(E,"style",L),BS(E,S.precedence,u),d.instance=E;case"stylesheet":L=xg(S.href);var k=u.querySelector(ly(L));if(k)return d.state.loading|=4,d.instance=k,Ke(k),k;E=KI(S),(L=Rl.get(L))&&gM(E,L),k=(u.ownerDocument||u).createElement("link"),Ke(k);var ie=k;return ie._p=new Promise(function(ge,Oe){ie.onload=ge,ie.onerror=Oe}),oo(k,"link",E),d.state.loading|=4,BS(k,S.precedence,u),d.instance=k;case"script":return k=wg(S.src),(L=u.querySelector(cy(k)))?(d.instance=L,Ke(L),L):(E=S,(L=Rl.get(k))&&(E=U({},S),vM(E,L)),u=u.ownerDocument||u,L=u.createElement("script"),Ke(L),oo(L,"link",E),u.head.appendChild(L),d.instance=L);case"void":return null;default:throw Error(r(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(E=d.instance,d.state.loading|=4,BS(E,S.precedence,u));return d.instance}function BS(u,d,S){for(var E=S.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),L=E.length?E[E.length-1]:null,k=L,ie=0;ie<E.length;ie++){var ge=E[ie];if(ge.dataset.precedence===d)k=ge;else if(k!==L)break}k?k.parentNode.insertBefore(u,k.nextSibling):(d=S.nodeType===9?S.head:S,d.insertBefore(u,d.firstChild))}function gM(u,d){u.crossOrigin==null&&(u.crossOrigin=d.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=d.referrerPolicy),u.title==null&&(u.title=d.title)}function vM(u,d){u.crossOrigin==null&&(u.crossOrigin=d.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=d.referrerPolicy),u.integrity==null&&(u.integrity=d.integrity)}var FS=null;function JI(u,d,S){if(FS===null){var E=new Map,L=FS=new Map;L.set(S,E)}else L=FS,E=L.get(S),E||(E=new Map,L.set(S,E));if(E.has(u))return E;for(E.set(u,null),S=S.getElementsByTagName(u),L=0;L<S.length;L++){var k=S[L];if(!(k[zr]||k[ti]||u==="link"&&k.getAttribute("rel")==="stylesheet")&&k.namespaceURI!=="http://www.w3.org/2000/svg"){var ie=k.getAttribute(d)||"";ie=u+ie;var ge=E.get(ie);ge?ge.push(k):E.set(ie,[k])}}return E}function e3(u,d,S){u=u.ownerDocument||u,u.head.insertBefore(S,d==="title"?u.querySelector("head > title"):null)}function ik(u,d,S){if(S===1||d.itemProp!=null)return!1;switch(u){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return u=d.disabled,typeof d.precedence=="string"&&u==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function t3(u){return!(u.type==="stylesheet"&&(u.state.loading&3)===0)}var uy=null;function rk(){}function ak(u,d,S){if(uy===null)throw Error(r(475));var E=uy;if(d.type==="stylesheet"&&(typeof S.media!="string"||matchMedia(S.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var L=xg(S.href),k=u.querySelector(ly(L));if(k){u=k._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(E.count++,E=HS.bind(E),u.then(E,E)),d.state.loading|=4,d.instance=k,Ke(k);return}k=u.ownerDocument||u,S=KI(S),(L=Rl.get(L))&&gM(S,L),k=k.createElement("link"),Ke(k);var ie=k;ie._p=new Promise(function(ge,Oe){ie.onload=ge,ie.onerror=Oe}),oo(k,"link",S),d.instance=k}E.stylesheets===null&&(E.stylesheets=new Map),E.stylesheets.set(d,u),(u=d.state.preload)&&(d.state.loading&3)===0&&(E.count++,d=HS.bind(E),u.addEventListener("load",d),u.addEventListener("error",d))}}function ok(){if(uy===null)throw Error(r(475));var u=uy;return u.stylesheets&&u.count===0&&yM(u,u.stylesheets),0<u.count?function(d){var S=setTimeout(function(){if(u.stylesheets&&yM(u,u.stylesheets),u.unsuspend){var E=u.unsuspend;u.unsuspend=null,E()}},6e4);return u.unsuspend=d,function(){u.unsuspend=null,clearTimeout(S)}}:null}function HS(){if(this.count--,this.count===0){if(this.stylesheets)yM(this,this.stylesheets);else if(this.unsuspend){var u=this.unsuspend;this.unsuspend=null,u()}}}var kS=null;function yM(u,d){u.stylesheets=null,u.unsuspend!==null&&(u.count++,kS=new Map,d.forEach(sk,u),kS=null,HS.call(u))}function sk(u,d){if(!(d.state.loading&4)){var S=kS.get(u);if(S)var E=S.get(null);else{S=new Map,kS.set(u,S);for(var L=u.querySelectorAll("link[data-precedence],style[data-precedence]"),k=0;k<L.length;k++){var ie=L[k];(ie.nodeName==="LINK"||ie.getAttribute("media")!=="not all")&&(S.set(ie.dataset.precedence,ie),E=ie)}E&&S.set(null,E)}L=d.instance,ie=L.getAttribute("data-precedence"),k=S.get(ie)||E,k===E&&S.set(null,L),S.set(ie,L),this.count++,E=HS.bind(this),L.addEventListener("load",E),L.addEventListener("error",E),k?k.parentNode.insertBefore(L,k.nextSibling):(u=u.nodeType===9?u.head:u,u.insertBefore(L,u.firstChild)),d.state.loading|=4}}var fy={$$typeof:C,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function lk(u,d,S,E,L,k,ie,ge){this.tag=1,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qt(0),this.hiddenUpdates=qt(null),this.identifierPrefix=E,this.onUncaughtError=L,this.onCaughtError=k,this.onRecoverableError=ie,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ge,this.incompleteTransitions=new Map}function n3(u,d,S,E,L,k,ie,ge,Oe,Xe,Tt,Ft){return u=new lk(u,d,S,ie,ge,Oe,Xe,Ft),d=1,k===!0&&(d|=24),k=Gr(3,null,null,d),u.current=k,k.stateNode=u,d=R0(),d.refCount++,u.pooledCache=d,d.refCount++,k.memoizedState={element:E,isDehydrated:S,cache:d},to(k),u}function i3(u){return u?(u=au,u):au}function r3(u,d,S,E,L,k){L=i3(L),E.context===null?E.context=L:E.pendingContext=L,E=qo(d),E.payload={element:S},k=k===void 0?null:k,k!==null&&(E.callback=k),S=Zo(u,E,d),S!==null&&(ra(S,u,d),wu(S,u,d))}function a3(u,d){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var S=u.retryLane;u.retryLane=S!==0&&S<d?S:d}}function bM(u,d){a3(u,d),(u=u.alternate)&&a3(u,d)}function o3(u){if(u.tag===13){var d=ec(u,67108864);d!==null&&ra(d,u,67108864),bM(u,67108864)}}var $S=!0;function ck(u,d,S,E){var L=B.T;B.T=null;var k=j.p;try{j.p=2,_M(u,d,S,E)}finally{j.p=k,B.T=L}}function uk(u,d,S,E){var L=B.T;B.T=null;var k=j.p;try{j.p=8,_M(u,d,S,E)}finally{j.p=k,B.T=L}}function _M(u,d,S,E){if($S){var L=SM(E);if(L===null)lM(u,d,E,VS,S),l3(u,E);else if(dk(L,u,d,S,E))E.stopPropagation();else if(l3(u,E),d&4&&-1<fk.indexOf(u)){for(;L!==null;){var k=le(L);if(k!==null)switch(k.tag){case 3:if(k=k.stateNode,k.current.memoizedState.isDehydrated){var ie=Lt(k.pendingLanes);if(ie!==0){var ge=k;for(ge.pendingLanes|=2,ge.entangledLanes|=2;ie;){var Oe=1<<31-ke(ie);ge.entanglements[1]|=Oe,ie&=~Oe}sr(k),(qn&6)===0&&(yi=Pe()+500,_i(0))}}break;case 13:ge=ec(k,2),ge!==null&&ra(ge,k,2),If(),bM(k,2)}if(k=SM(E),k===null&&lM(u,d,E,VS,S),k===L)break;L=k}L!==null&&E.stopPropagation()}else lM(u,d,E,null,S)}}function SM(u){return u=Na(u),xM(u)}var VS=null;function xM(u){if(VS=null,u=wr(u),u!==null){var d=te(u);if(d===null)u=null;else{var S=d.tag;if(S===13){if(u=ce(d),u!==null)return u;u=null}else if(S===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;u=null}else d!==u&&(u=null)}}return VS=u,null}function s3(u){switch(u){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qe()){case He:return 2;case mt:return 8;case st:case ht:return 32;case It:return 268435456;default:return 32}default:return 32}}var wM=!1,qd=null,Zd=null,Kd=null,dy=new Map,hy=new Map,Qd=[],fk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function l3(u,d){switch(u){case"focusin":case"focusout":qd=null;break;case"dragenter":case"dragleave":Zd=null;break;case"mouseover":case"mouseout":Kd=null;break;case"pointerover":case"pointerout":dy.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":hy.delete(d.pointerId)}}function py(u,d,S,E,L,k){return u===null||u.nativeEvent!==k?(u={blockedOn:d,domEventName:S,eventSystemFlags:E,nativeEvent:k,targetContainers:[L]},d!==null&&(d=le(d),d!==null&&o3(d)),u):(u.eventSystemFlags|=E,d=u.targetContainers,L!==null&&d.indexOf(L)===-1&&d.push(L),u)}function dk(u,d,S,E,L){switch(d){case"focusin":return qd=py(qd,u,d,S,E,L),!0;case"dragenter":return Zd=py(Zd,u,d,S,E,L),!0;case"mouseover":return Kd=py(Kd,u,d,S,E,L),!0;case"pointerover":var k=L.pointerId;return dy.set(k,py(dy.get(k)||null,u,d,S,E,L)),!0;case"gotpointercapture":return k=L.pointerId,hy.set(k,py(hy.get(k)||null,u,d,S,E,L)),!0}return!1}function c3(u){var d=wr(u.target);if(d!==null){var S=te(d);if(S!==null){if(d=S.tag,d===13){if(d=ce(S),d!==null){u.blockedOn=d,Tn(u.priority,function(){if(S.tag===13){var E=ao(),L=ec(S,E);L!==null&&ra(L,S,E),bM(S,E)}});return}}else if(d===3&&S.stateNode.current.memoizedState.isDehydrated){u.blockedOn=S.tag===3?S.stateNode.containerInfo:null;return}}}u.blockedOn=null}function GS(u){if(u.blockedOn!==null)return!1;for(var d=u.targetContainers;0<d.length;){var S=SM(u.nativeEvent);if(S===null){S=u.nativeEvent;var E=new S.constructor(S.type,S);Ho=E,S.target.dispatchEvent(E),Ho=null}else return d=le(S),d!==null&&o3(d),u.blockedOn=S,!1;d.shift()}return!0}function u3(u,d,S){GS(u)&&S.delete(d)}function hk(){wM=!1,qd!==null&&GS(qd)&&(qd=null),Zd!==null&&GS(Zd)&&(Zd=null),Kd!==null&&GS(Kd)&&(Kd=null),dy.forEach(u3),hy.forEach(u3)}function jS(u,d){u.blockedOn===d&&(u.blockedOn=null,wM||(wM=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,hk)))}var WS=null;function f3(u){WS!==u&&(WS=u,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){WS===u&&(WS=null);for(var d=0;d<u.length;d+=3){var S=u[d],E=u[d+1],L=u[d+2];if(typeof E!="function"){if(xM(E||S)===null)continue;break}var k=le(S);k!==null&&(u.splice(d,3),d-=3,B0(k,{pending:!0,data:L,method:S.method,action:E},E,L))}}))}function my(u){function d(Oe){return jS(Oe,u)}qd!==null&&jS(qd,u),Zd!==null&&jS(Zd,u),Kd!==null&&jS(Kd,u),dy.forEach(d),hy.forEach(d);for(var S=0;S<Qd.length;S++){var E=Qd[S];E.blockedOn===u&&(E.blockedOn=null)}for(;0<Qd.length&&(S=Qd[0],S.blockedOn===null);)c3(S),S.blockedOn===null&&Qd.shift();if(S=(u.ownerDocument||u).$$reactFormReplay,S!=null)for(E=0;E<S.length;E+=3){var L=S[E],k=S[E+1],ie=L[dn]||null;if(typeof k=="function")ie||f3(S);else if(ie){var ge=null;if(k&&k.hasAttribute("formAction")){if(L=k,ie=k[dn]||null)ge=ie.formAction;else if(xM(L)!==null)continue}else ge=ie.action;typeof ge=="function"?S[E+1]=ge:(S.splice(E,3),E-=3),f3(S)}}}function CM(u){this._internalRoot=u}XS.prototype.render=CM.prototype.render=function(u){var d=this._internalRoot;if(d===null)throw Error(r(409));var S=d.current,E=ao();r3(S,E,u,d,null,null)},XS.prototype.unmount=CM.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var d=u.containerInfo;u.tag===0&&Wt(),r3(u.current,2,null,u,null,null),If(),d[ai]=null}};function XS(u){this._internalRoot=u}XS.prototype.unstable_scheduleHydration=function(u){if(u){var d=xr();u={blockedOn:null,target:u,priority:d};for(var S=0;S<Qd.length&&d!==0&&d<Qd[S].priority;S++);Qd.splice(S,0,u),S===0&&c3(u)}};var d3=e.version;if(d3!=="19.0.0")throw Error(r(527,d3,"19.0.0"));j.findDOMNode=function(u){var d=u._reactInternals;if(d===void 0)throw typeof u.render=="function"?Error(r(188)):(u=Object.keys(u).join(","),Error(r(268,u)));return u=J(d),u=u!==null?he(u):null,u=u===null?null:u.stateNode,u};var pk={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:B,findFiberByHostInstance:wr,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var YS=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!YS.isDisabled&&YS.supportsFiber)try{wt=YS.inject(pk),je=YS}catch{}}return vy.createRoot=function(u,d){if(!a(u))throw Error(r(299));var S=!1,E="",L=SS,k=xS,ie=wS,ge=null;return d!=null&&(d.unstable_strictMode===!0&&(S=!0),d.identifierPrefix!==void 0&&(E=d.identifierPrefix),d.onUncaughtError!==void 0&&(L=d.onUncaughtError),d.onCaughtError!==void 0&&(k=d.onCaughtError),d.onRecoverableError!==void 0&&(ie=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(ge=d.unstable_transitionCallbacks)),d=n3(u,1,!1,null,null,S,E,L,k,ie,ge,null),u[ai]=d.current,sM(u.nodeType===8?u.parentNode:u),new CM(d)},vy.hydrateRoot=function(u,d,S){if(!a(u))throw Error(r(299));var E=!1,L="",k=SS,ie=xS,ge=wS,Oe=null,Xe=null;return S!=null&&(S.unstable_strictMode===!0&&(E=!0),S.identifierPrefix!==void 0&&(L=S.identifierPrefix),S.onUncaughtError!==void 0&&(k=S.onUncaughtError),S.onCaughtError!==void 0&&(ie=S.onCaughtError),S.onRecoverableError!==void 0&&(ge=S.onRecoverableError),S.unstable_transitionCallbacks!==void 0&&(Oe=S.unstable_transitionCallbacks),S.formState!==void 0&&(Xe=S.formState)),d=n3(u,1,!0,d,S??null,E,L,k,ie,ge,Oe,Xe),d.context=i3(null),S=d.current,E=ao(),L=qo(E),L.callback=null,Zo(S,L,E),d.current.lanes=E,_n(d,E),sr(d),u[ai]=d.current,sM(u),new XS(d)},vy.version="19.0.0",vy}var x3;function xk(){if(x3)return TM.exports;x3=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),TM.exports=Sk(),TM.exports}var wk=xk(),PR=M.createContext({});function Nt(){return Nt=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Nt.apply(null,arguments)}function QN(n){if(Array.isArray(n))return n}function Ck(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,a,o,l,s=[],f=!0,h=!1;try{if(o=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;f=!1}else for(;!(f=(r=o.call(t)).done)&&(s.push(r.value),s.length!==e);f=!0);}catch(v){h=!0,a=v}finally{try{if(!f&&t.return!=null&&(l=t.return(),Object(l)!==l))return}finally{if(h)throw a}}return s}}function zA(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function DR(n,e){if(n){if(typeof n=="string")return zA(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?zA(n,e):void 0}}function JN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yt(n,e){return QN(n)||Ck(n,e)||DR(n,e)||JN()}function yn(n){"@babel/helpers - typeof";return yn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yn(n)}function Ek(n,e){if(yn(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(yn(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function eU(n){var e=Ek(n,"string");return yn(e)=="symbol"?e:e+""}function de(n,e,t){return(e=eU(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Mk(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function jn(n,e){if(n==null)return{};var t,r,a=Mk(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(a[t]=n[t])}return a}var IM={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var w3;function Tk(){return w3||(w3=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var o="",l=0;l<arguments.length;l++){var s=arguments[l];s&&(o=a(o,r(s)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var l="";for(var s in o)e.call(o,s)&&o[s]&&(l=a(l,s));return l}function a(o,l){return l?o?o+" "+l:o+l:o}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(IM)),IM.exports}var Ak=Tk();const et=Mm(Ak),Ya=Math.round;function zM(n,e){const t=n.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],r=t.map(a=>parseFloat(a));for(let a=0;a<3;a+=1)r[a]=e(r[a]||0,t[a]||"",a);return t[3]?r[3]=t[3].includes("%")?r[3]/100:r[3]:r[3]=1,r}const C3=(n,e,t)=>t===0?n:n/100;function yy(n,e){const t=e||255;return n>t?t:n<0?0:n}class Vi{constructor(e){de(this,"isValid",!0),de(this,"r",0),de(this,"g",0),de(this,"b",0),de(this,"a",1),de(this,"_h",void 0),de(this,"_s",void 0),de(this,"_l",void 0),de(this,"_v",void 0),de(this,"_max",void 0),de(this,"_min",void 0),de(this,"_brightness",void 0);function t(a){return a[0]in e&&a[1]in e&&a[2]in e}if(e)if(typeof e=="string"){let o=function(l){return a.startsWith(l)};var r=o;const a=e.trim();/^#?[A-F\d]{3,8}$/i.test(a)?this.fromHexString(a):o("rgb")?this.fromRgbString(a):o("hsl")?this.fromHslString(a):(o("hsv")||o("hsb"))&&this.fromHsvString(a)}else if(e instanceof Vi)this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this._h=e._h,this._s=e._s,this._l=e._l,this._v=e._v;else if(t("rgb"))this.r=yy(e.r),this.g=yy(e.g),this.b=yy(e.b),this.a=typeof e.a=="number"?yy(e.a,1):1;else if(t("hsl"))this.fromHsl(e);else if(t("hsv"))this.fromHsv(e);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(e))}setR(e){return this._sc("r",e)}setG(e){return this._sc("g",e)}setB(e){return this._sc("b",e)}setA(e){return this._sc("a",e,1)}setHue(e){const t=this.toHsv();return t.h=e,this._c(t)}getLuminance(){function e(o){const l=o/255;return l<=.03928?l/12.92:Math.pow((l+.055)/1.055,2.4)}const t=e(this.r),r=e(this.g),a=e(this.b);return .2126*t+.7152*r+.0722*a}getHue(){if(typeof this._h>"u"){const e=this.getMax()-this.getMin();e===0?this._h=0:this._h=Ya(60*(this.r===this.getMax()?(this.g-this.b)/e+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/e+2:(this.r-this.g)/e+4))}return this._h}getSaturation(){if(typeof this._s>"u"){const e=this.getMax()-this.getMin();e===0?this._s=0:this._s=e/this.getMax()}return this._s}getLightness(){return typeof this._l>"u"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v>"u"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness>"u"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(e=10){const t=this.getHue(),r=this.getSaturation();let a=this.getLightness()-e/100;return a<0&&(a=0),this._c({h:t,s:r,l:a,a:this.a})}lighten(e=10){const t=this.getHue(),r=this.getSaturation();let a=this.getLightness()+e/100;return a>1&&(a=1),this._c({h:t,s:r,l:a,a:this.a})}mix(e,t=50){const r=this._c(e),a=t/100,o=s=>(r[s]-this[s])*a+this[s],l={r:Ya(o("r")),g:Ya(o("g")),b:Ya(o("b")),a:Ya(o("a")*100)/100};return this._c(l)}tint(e=10){return this.mix({r:255,g:255,b:255,a:1},e)}shade(e=10){return this.mix({r:0,g:0,b:0,a:1},e)}onBackground(e){const t=this._c(e),r=this.a+t.a*(1-this.a),a=o=>Ya((this[o]*this.a+t[o]*t.a*(1-this.a))/r);return this._c({r:a("r"),g:a("g"),b:a("b"),a:r})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}clone(){return this._c(this)}toHexString(){let e="#";const t=(this.r||0).toString(16);e+=t.length===2?t:"0"+t;const r=(this.g||0).toString(16);e+=r.length===2?r:"0"+r;const a=(this.b||0).toString(16);if(e+=a.length===2?a:"0"+a,typeof this.a=="number"&&this.a>=0&&this.a<1){const o=Ya(this.a*255).toString(16);e+=o.length===2?o:"0"+o}return e}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const e=this.getHue(),t=Ya(this.getSaturation()*100),r=Ya(this.getLightness()*100);return this.a!==1?`hsla(${e},${t}%,${r}%,${this.a})`:`hsl(${e},${t}%,${r}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(e,t,r){const a=this.clone();return a[e]=yy(t,r),a}_c(e){return new this.constructor(e)}getMax(){return typeof this._max>"u"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min>"u"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(e){const t=e.replace("#","");function r(a,o){return parseInt(t[a]+t[o||a],16)}t.length<6?(this.r=r(0),this.g=r(1),this.b=r(2),this.a=t[3]?r(3)/255:1):(this.r=r(0,1),this.g=r(2,3),this.b=r(4,5),this.a=t[6]?r(6,7)/255:1)}fromHsl({h:e,s:t,l:r,a}){if(this._h=e%360,this._s=t,this._l=r,this.a=typeof a=="number"?a:1,t<=0){const x=Ya(r*255);this.r=x,this.g=x,this.b=x}let o=0,l=0,s=0;const f=e/60,h=(1-Math.abs(2*r-1))*t,v=h*(1-Math.abs(f%2-1));f>=0&&f<1?(o=h,l=v):f>=1&&f<2?(o=v,l=h):f>=2&&f<3?(l=h,s=v):f>=3&&f<4?(l=v,s=h):f>=4&&f<5?(o=v,s=h):f>=5&&f<6&&(o=h,s=v);const _=r-h/2;this.r=Ya((o+_)*255),this.g=Ya((l+_)*255),this.b=Ya((s+_)*255)}fromHsv({h:e,s:t,v:r,a}){this._h=e%360,this._s=t,this._v=r,this.a=typeof a=="number"?a:1;const o=Ya(r*255);if(this.r=o,this.g=o,this.b=o,t<=0)return;const l=e/60,s=Math.floor(l),f=l-s,h=Ya(r*(1-t)*255),v=Ya(r*(1-t*f)*255),_=Ya(r*(1-t*(1-f))*255);switch(s){case 0:this.g=_,this.b=h;break;case 1:this.r=v,this.b=h;break;case 2:this.r=h,this.b=_;break;case 3:this.r=h,this.g=v;break;case 4:this.r=_,this.g=h;break;case 5:default:this.g=h,this.b=v;break}}fromHsvString(e){const t=zM(e,C3);this.fromHsv({h:t[0],s:t[1],v:t[2],a:t[3]})}fromHslString(e){const t=zM(e,C3);this.fromHsl({h:t[0],s:t[1],l:t[2],a:t[3]})}fromRgbString(e){const t=zM(e,(r,a)=>a.includes("%")?Ya(r/100*255):r);this.r=t[0],this.g=t[1],this.b=t[2],this.a=t[3]}}var qS=2,E3=.16,Rk=.05,Ok=.05,Ik=.15,tU=5,nU=4,zk=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function M3(n,e,t){var r;return Math.round(n.h)>=60&&Math.round(n.h)<=240?r=t?Math.round(n.h)-qS*e:Math.round(n.h)+qS*e:r=t?Math.round(n.h)+qS*e:Math.round(n.h)-qS*e,r<0?r+=360:r>=360&&(r-=360),r}function T3(n,e,t){if(n.h===0&&n.s===0)return n.s;var r;return t?r=n.s-E3*e:e===nU?r=n.s+E3:r=n.s+Rk*e,r>1&&(r=1),t&&e===tU&&r>.1&&(r=.1),r<.06&&(r=.06),Math.round(r*100)/100}function A3(n,e,t){var r;return t?r=n.v+Ok*e:r=n.v-Ik*e,r=Math.max(0,Math.min(1,r)),Math.round(r*100)/100}function Mb(n){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[],r=new Vi(n),a=r.toHsv(),o=tU;o>0;o-=1){var l=new Vi({h:M3(a,o,!0),s:T3(a,o,!0),v:A3(a,o,!0)});t.push(l)}t.push(r);for(var s=1;s<=nU;s+=1){var f=new Vi({h:M3(a,s),s:T3(a,s),v:A3(a,s)});t.push(f)}return e.theme==="dark"?zk.map(function(h){var v=h.index,_=h.amount;return new Vi(e.backgroundColor||"#141414").mix(t[v],_).toHexString()}):t.map(function(h){return h.toHexString()})}var Nv={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},PA=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];PA.primary=PA[5];var DA=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];DA.primary=DA[5];var LA=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];LA.primary=LA[5];var NA=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];NA.primary=NA[5];var UA=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];UA.primary=UA[5];var BA=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];BA.primary=BA[5];var FA=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];FA.primary=FA[5];var HA=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];HA.primary=HA[5];var $v=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];$v.primary=$v[5];var kA=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];kA.primary=kA[5];var $A=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];$A.primary=$A[5];var VA=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];VA.primary=VA[5];var GA=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];GA.primary=GA[5];var PM={red:PA,volcano:DA,orange:LA,gold:NA,yellow:UA,lime:BA,green:FA,cyan:HA,blue:$v,geekblue:kA,purple:$A,magenta:VA,grey:GA};function R3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function Ne(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?R3(Object(t),!0).forEach(function(r){de(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):R3(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function ls(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function jA(n,e){if(!n)return!1;if(n.contains)return n.contains(e);for(var t=e;t;){if(t===n)return!0;t=t.parentNode}return!1}var O3="data-rc-order",I3="data-rc-priority",Pk="rc-util-key",WA=new Map;function iU(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.mark;return e?e.startsWith("data-")?e:"data-".concat(e):Pk}function OC(n){if(n.attachTo)return n.attachTo;var e=document.querySelector("head");return e||document.body}function Dk(n){return n==="queue"?"prependQueue":n?"prepend":"append"}function LR(n){return Array.from((WA.get(n)||n).children).filter(function(e){return e.tagName==="STYLE"})}function rU(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!ls())return null;var t=e.csp,r=e.prepend,a=e.priority,o=a===void 0?0:a,l=Dk(r),s=l==="prependQueue",f=document.createElement("style");f.setAttribute(O3,l),s&&o&&f.setAttribute(I3,"".concat(o)),t!=null&&t.nonce&&(f.nonce=t==null?void 0:t.nonce),f.innerHTML=n;var h=OC(e),v=h.firstChild;if(r){if(s){var _=(e.styles||LR(h)).filter(function(x){if(!["prepend","prependQueue"].includes(x.getAttribute(O3)))return!1;var C=Number(x.getAttribute(I3)||0);return o>=C});if(_.length)return h.insertBefore(f,_[_.length-1].nextSibling),f}h.insertBefore(f,v)}else h.appendChild(f);return f}function aU(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=OC(e);return(e.styles||LR(t)).find(function(r){return r.getAttribute(iU(e))===n})}function Tb(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=aU(n,e);if(t){var r=OC(e);r.removeChild(t)}}function Lk(n,e){var t=WA.get(n);if(!t||!jA(document,t)){var r=rU("",e),a=r.parentNode;WA.set(n,a),n.removeChild(r)}}function ad(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=OC(t),a=LR(r),o=Ne(Ne({},t),{},{styles:a});Lk(r,o);var l=aU(e,o);if(l){var s,f;if((s=o.csp)!==null&&s!==void 0&&s.nonce&&l.nonce!==((f=o.csp)===null||f===void 0?void 0:f.nonce)){var h;l.nonce=(h=o.csp)===null||h===void 0?void 0:h.nonce}return l.innerHTML!==n&&(l.innerHTML=n),l}var v=rU(n,o);return v.setAttribute(iU(o),e),v}function oU(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}function Nk(n){return oU(n)instanceof ShadowRoot}function sw(n){return Nk(n)?oU(n):null}var XA={},Uk=function(e){};function Bk(n,e){}function Fk(n,e){}function Hk(){XA={}}function sU(n,e,t){!e&&!XA[t]&&(n(!1,t),XA[t]=!0)}function Po(n,e){sU(Bk,n,e)}function kk(n,e){sU(Fk,n,e)}Po.preMessage=Uk;Po.resetWarned=Hk;Po.noteOnce=kk;function $k(n){return n.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}function Vk(n,e){Po(n,"[@ant-design/icons] ".concat(e))}function z3(n){return yn(n)==="object"&&typeof n.name=="string"&&typeof n.theme=="string"&&(yn(n.icon)==="object"||typeof n.icon=="function")}function P3(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(n).reduce(function(e,t){var r=n[t];switch(t){case"class":e.className=r,delete e.class;break;default:delete e[t],e[$k(t)]=r}return e},{})}function YA(n,e,t){return t?We.createElement(n.tag,Ne(Ne({key:e},P3(n.attrs)),t),(n.children||[]).map(function(r,a){return YA(r,"".concat(e,"-").concat(n.tag,"-").concat(a))})):We.createElement(n.tag,Ne({key:e},P3(n.attrs)),(n.children||[]).map(function(r,a){return YA(r,"".concat(e,"-").concat(n.tag,"-").concat(a))}))}function lU(n){return Mb(n)[0]}function cU(n){return n?Array.isArray(n)?n:[n]:[]}var Gk=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,jk=function(e){var t=M.useContext(PR),r=t.csp,a=t.prefixCls,o=t.layer,l=Gk;a&&(l=l.replace(/anticon/g,a)),o&&(l="@layer ".concat(o,` {
`).concat(l,`
}`)),M.useEffect(function(){var s=e.current,f=sw(s);ad(l,"@ant-design-icons",{prepend:!o,csp:r,attachTo:f})},[])},Wk=["icon","className","onClick","style","primaryColor","secondaryColor"],lb={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function Xk(n){var e=n.primaryColor,t=n.secondaryColor;lb.primaryColor=e,lb.secondaryColor=t||lU(e),lb.calculated=!!t}function Yk(){return Ne({},lb)}var c0=function(e){var t=e.icon,r=e.className,a=e.onClick,o=e.style,l=e.primaryColor,s=e.secondaryColor,f=jn(e,Wk),h=M.useRef(),v=lb;if(l&&(v={primaryColor:l,secondaryColor:s||lU(l)}),jk(h),Vk(z3(t),"icon should be icon definiton, but got ".concat(t)),!z3(t))return null;var _=t;return _&&typeof _.icon=="function"&&(_=Ne(Ne({},_),{},{icon:_.icon(v.primaryColor,v.secondaryColor)})),YA(_.icon,"svg-".concat(_.name),Ne(Ne({className:r,onClick:a,style:o,"data-icon":_.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},f),{},{ref:h}))};c0.displayName="IconReact";c0.getTwoToneColors=Yk;c0.setTwoToneColors=Xk;function uU(n){var e=cU(n),t=yt(e,2),r=t[0],a=t[1];return c0.setTwoToneColors({primaryColor:r,secondaryColor:a})}function qk(){var n=c0.getTwoToneColors();return n.calculated?[n.primaryColor,n.secondaryColor]:n.primaryColor}var Zk=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];uU($v.primary);var Ai=M.forwardRef(function(n,e){var t=n.className,r=n.icon,a=n.spin,o=n.rotate,l=n.tabIndex,s=n.onClick,f=n.twoToneColor,h=jn(n,Zk),v=M.useContext(PR),_=v.prefixCls,x=_===void 0?"anticon":_,C=v.rootClassName,c=et(C,x,de(de({},"".concat(x,"-").concat(r.name),!!r.name),"".concat(x,"-spin"),!!a||r.name==="loading"),t),p=l;p===void 0&&s&&(p=-1);var m=o?{msTransform:"rotate(".concat(o,"deg)"),transform:"rotate(".concat(o,"deg)")}:void 0,b=cU(f),w=yt(b,2),A=w[0],R=w[1];return M.createElement("span",Nt({role:"img","aria-label":r.name},h,{ref:e,tabIndex:p,onClick:s,className:c}),M.createElement(c0,{icon:r,primaryColor:A,secondaryColor:R,style:m}))});Ai.displayName="AntdIcon";Ai.getTwoToneColor=qk;Ai.setTwoToneColor=uU;var Kk={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"bars",theme:"outlined"},Qk=function(e,t){return M.createElement(Ai,Nt({},e,{ref:t,icon:Kk}))},Jk=M.forwardRef(Qk),e$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M632 888H392c-4.4 0-8 3.6-8 8v32c0 17.7 14.3 32 32 32h192c17.7 0 32-14.3 32-32v-32c0-4.4-3.6-8-8-8zM512 64c-181.1 0-328 146.9-328 328 0 121.4 66 227.4 164 284.1V792c0 17.7 14.3 32 32 32h264c17.7 0 32-14.3 32-32V676.1c98-56.7 164-162.7 164-284.1 0-181.1-146.9-328-328-328zm127.9 549.8L604 634.6V752H420V634.6l-35.9-20.8C305.4 568.3 256 484.5 256 392c0-141.4 114.6-256 256-256s256 114.6 256 256c0 92.5-49.4 176.3-128.1 221.8z"}}]},name:"bulb",theme:"outlined"},t$=function(e,t){return M.createElement(Ai,Nt({},e,{ref:t,icon:e$}))},n$=M.forwardRef(t$),i$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},r$=function(e,t){return M.createElement(Ai,Nt({},e,{ref:t,icon:i$}))},NR=M.forwardRef(r$),a$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},o$=function(e,t){return M.createElement(Ai,Nt({},e,{ref:t,icon:a$}))},s$=M.forwardRef(o$),l$={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"},c$=function(e,t){return M.createElement(Ai,Nt({},e,{ref:t,icon:l$}))},IC=M.forwardRef(c$),u$={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"},f$=function(e,t){return M.createElement(Ai,Nt({},e,{ref:t,icon:u$}))},u0=M.forwardRef(f$),d$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},h$=function(e,t){return M.createElement(Ai,Nt({},e,{ref:t,icon:d$}))},fU=M.forwardRef(h$),p$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},m$=function(e,t){return M.createElement(Ai,Nt({},e,{ref:t,icon:p$}))},g$=M.forwardRef(m$),v$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"},y$=function(e,t){return M.createElement(Ai,Nt({},e,{ref:t,icon:v$}))},b$=M.forwardRef(y$),_$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},S$=function(e,t){return M.createElement(Ai,Nt({},e,{ref:t,icon:_$}))},dU=M.forwardRef(S$),x$={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM770.87 199.13l-52.2-52.2a8.01 8.01 0 014.7-13.6l179.4-21c5.1-.6 9.5 3.7 8.9 8.9l-21 179.4c-.8 6.6-8.9 9.4-13.6 4.7l-52.4-52.4-256.2 256.2a8.03 8.03 0 01-11.3 0l-42.4-42.4a8.03 8.03 0 010-11.3l256.1-256.3z"}}]},name:"export",theme:"outlined"},w$=function(e,t){return M.createElement(Ai,Nt({},e,{ref:t,icon:x$}))},C$=M.forwardRef(w$),E$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},M$=function(e,t){return M.createElement(Ai,Nt({},e,{ref:t,icon:E$}))},T$=M.forwardRef(M$),A$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},R$=function(e,t){return M.createElement(Ai,Nt({},e,{ref:t,icon:A$}))},UR=M.forwardRef(R$),O$={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z",fill:t}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:e}}]}},name:"file",theme:"twotone"},I$=function(e,t){return M.createElement(Ai,Nt({},e,{ref:t,icon:O$}))},z$=M.forwardRef(I$),P$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},D$=function(e,t){return M.createElement(Ai,Nt({},e,{ref:t,icon:P$}))},hU=M.forwardRef(D$),L$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},N$=function(e,t){return M.createElement(Ai,Nt({},e,{ref:t,icon:L$}))},qA=M.forwardRef(N$),U$={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},B$=function(e,t){return M.createElement(Ai,Nt({},e,{ref:t,icon:U$}))},lw=M.forwardRef(B$),F$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"},H$=function(e,t){return M.createElement(Ai,Nt({},e,{ref:t,icon:F$}))},k$=M.forwardRef(H$),$$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm-88-532h-48c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8zm224 0h-48c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8z"}}]},name:"pause-circle",theme:"outlined"},V$=function(e,t){return M.createElement(Ai,Nt({},e,{ref:t,icon:$$}))},G$=M.forwardRef(V$),j$={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z",fill:e}},{tag:"path",attrs:{d:"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z",fill:t}},{tag:"path",attrs:{d:"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z",fill:t}},{tag:"path",attrs:{d:"M276 368a28 28 0 1056 0 28 28 0 10-56 0z",fill:t}},{tag:"path",attrs:{d:"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z",fill:e}}]}},name:"picture",theme:"twotone"},W$=function(e,t){return M.createElement(Ai,Nt({},e,{ref:t,icon:j$}))},X$=M.forwardRef(W$),Y$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M719.4 499.1l-296.1-215A15.9 15.9 0 00398 297v430c0 13.1 14.8 20.5 25.3 12.9l296.1-215a15.9 15.9 0 000-25.8zm-257.6 134V390.9L628.5 512 461.8 633.1z"}}]},name:"play-circle",theme:"outlined"},q$=function(e,t){return M.createElement(Ai,Nt({},e,{ref:t,icon:Y$}))},Z$=M.forwardRef(q$),K$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},Q$=function(e,t){return M.createElement(Ai,Nt({},e,{ref:t,icon:K$}))},J$=M.forwardRef(Q$),eV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"},tV=function(e,t){return M.createElement(Ai,Nt({},e,{ref:t,icon:eV}))},ZA=M.forwardRef(tV),nV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"},iV=function(e,t){return M.createElement(Ai,Nt({},e,{ref:t,icon:nV}))},rV=M.forwardRef(iV),aV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"},oV=function(e,t){return M.createElement(Ai,Nt({},e,{ref:t,icon:aV}))},sV=M.forwardRef(oV),lV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},cV=function(e,t){return M.createElement(Ai,Nt({},e,{ref:t,icon:lV}))},uV=M.forwardRef(cV),fV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M938.2 508.4L787.3 389c-3-2.4-7.3-.2-7.3 3.6V478H636V184h204v128c0 2.2 1.8 4 4 4h60c2.2 0 4-1.8 4-4V144c0-15.5-12.5-28-28-28H596c-15.5 0-28 12.5-28 28v736c0 15.5 12.5 28 28 28h284c15.5 0 28-12.5 28-28V712c0-2.2-1.8-4-4-4h-60c-2.2 0-4 1.8-4 4v128H636V546h144v85.4c0 3.8 4.4 6 7.3 3.6l150.9-119.4a4.5 4.5 0 000-7.2zM428 116H144c-15.5 0-28 12.5-28 28v168c0 2.2 1.8 4 4 4h60c2.2 0 4-1.8 4-4V184h204v294H244v-85.4c0-3.8-4.3-6-7.3-3.6l-151 119.4a4.52 4.52 0 000 7.1l151 119.5c2.9 2.3 7.3.2 7.3-3.6V546h144v294H184V712c0-2.2-1.8-4-4-4h-60c-2.2 0-4 1.8-4 4v168c0 15.5 12.5 28 28 28h284c15.5 0 28-12.5 28-28V144c0-15.5-12.5-28-28-28z"}}]},name:"split-cells",theme:"outlined"},dV=function(e,t){return M.createElement(Ai,Nt({},e,{ref:t,icon:fV}))},hV=M.forwardRef(dV),pV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"swap",theme:"outlined"},mV=function(e,t){return M.createElement(Ai,Nt({},e,{ref:t,icon:pV}))},D3=M.forwardRef(mV),gV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},vV=function(e,t){return M.createElement(Ai,Nt({},e,{ref:t,icon:gV}))},yV=M.forwardRef(vV),bV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"},_V=function(e,t){return M.createElement(Ai,Nt({},e,{ref:t,icon:bV}))},pU=M.forwardRef(_V),SV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 302.3L784 376V224c0-35.3-28.7-64-64-64H128c-35.3 0-64 28.7-64 64v576c0 35.3 28.7 64 64 64h592c35.3 0 64-28.7 64-64V648l128 73.7c21.3 12.3 48-3.1 48-27.6V330c0-24.6-26.7-40-48-27.7zM712 792H136V232h576v560zm176-167l-104-59.8V458.9L888 399v226zM208 360h112c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H208c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}}]},name:"video-camera",theme:"outlined"},xV=function(e,t){return M.createElement(Ai,Nt({},e,{ref:t,icon:SV}))},wV=M.forwardRef(xV),CV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"},EV=function(e,t){return M.createElement(Ai,Nt({},e,{ref:t,icon:CV}))},mU=M.forwardRef(EV),MV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"},TV=function(e,t){return M.createElement(Ai,Nt({},e,{ref:t,icon:MV}))},gU=M.forwardRef(TV),DM={exports:{}},ir={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L3;function AV(){if(L3)return ir;L3=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),s=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.for("react.offscreen"),c;c=Symbol.for("react.module.reference");function p(m){if(typeof m=="object"&&m!==null){var b=m.$$typeof;switch(b){case n:switch(m=m.type,m){case t:case a:case r:case h:case v:return m;default:switch(m=m&&m.$$typeof,m){case s:case l:case f:case x:case _:case o:return m;default:return b}}case e:return b}}}return ir.ContextConsumer=l,ir.ContextProvider=o,ir.Element=n,ir.ForwardRef=f,ir.Fragment=t,ir.Lazy=x,ir.Memo=_,ir.Portal=e,ir.Profiler=a,ir.StrictMode=r,ir.Suspense=h,ir.SuspenseList=v,ir.isAsyncMode=function(){return!1},ir.isConcurrentMode=function(){return!1},ir.isContextConsumer=function(m){return p(m)===l},ir.isContextProvider=function(m){return p(m)===o},ir.isElement=function(m){return typeof m=="object"&&m!==null&&m.$$typeof===n},ir.isForwardRef=function(m){return p(m)===f},ir.isFragment=function(m){return p(m)===t},ir.isLazy=function(m){return p(m)===x},ir.isMemo=function(m){return p(m)===_},ir.isPortal=function(m){return p(m)===e},ir.isProfiler=function(m){return p(m)===a},ir.isStrictMode=function(m){return p(m)===r},ir.isSuspense=function(m){return p(m)===h},ir.isSuspenseList=function(m){return p(m)===v},ir.isValidElementType=function(m){return typeof m=="string"||typeof m=="function"||m===t||m===a||m===r||m===h||m===v||m===C||typeof m=="object"&&m!==null&&(m.$$typeof===x||m.$$typeof===_||m.$$typeof===o||m.$$typeof===l||m.$$typeof===f||m.$$typeof===c||m.getModuleId!==void 0)},ir.typeOf=p,ir}var N3;function RV(){return N3||(N3=1,DM.exports=AV()),DM.exports}var LM=RV();function zC(n,e,t){var r=M.useRef({});return(!("value"in r.current)||t(r.current.condition,e))&&(r.current.value=n(),r.current.condition=e),r.current.value}var OV=Symbol.for("react.element"),IV=Symbol.for("react.transitional.element"),zV=Symbol.for("react.fragment");function vU(n){return n&&yn(n)==="object"&&(n.$$typeof===OV||n.$$typeof===IV)&&n.type===zV}var PV=Number(M.version.split(".")[0]),BR=function(e,t){typeof e=="function"?e(t):yn(e)==="object"&&e&&"current"in e&&(e.current=t)},Fh=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var a=t.filter(Boolean);return a.length<=1?a[0]:function(o){t.forEach(function(l){BR(l,o)})}},f0=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return zC(function(){return Fh.apply(void 0,t)},t,function(a,o){return a.length!==o.length||a.every(function(l,s){return l!==o[s]})})},l_=function(e){var t,r;if(!e)return!1;if(yU(e)&&PV>=19)return!0;var a=LM.isMemo(e)?e.type.type:e.type;return!(typeof a=="function"&&!((t=a.prototype)!==null&&t!==void 0&&t.render)&&a.$$typeof!==LM.ForwardRef||typeof e=="function"&&!((r=e.prototype)!==null&&r!==void 0&&r.render)&&e.$$typeof!==LM.ForwardRef)};function yU(n){return M.isValidElement(n)&&!vU(n)}var PC=function(e){if(e&&yU(e)){var t=e;return t.props.propertyIsEnumerable("ref")?t.props.ref:t.ref}return null};function qu(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[];return We.Children.forEach(n,function(r){r==null&&!e.keepEmpty||(Array.isArray(r)?t=t.concat(qu(r)):vU(r)&&r.props?t=t.concat(qu(r.props.children,e)):t.push(r))}),t}var zh=KN();const Ab=Mm(zh),DV=ZN({__proto__:null,default:Ab},[zh]);function Rb(n){return n instanceof HTMLElement||n instanceof SVGElement}function LV(n){return n&&yn(n)==="object"&&Rb(n.nativeElement)?n.nativeElement:Rb(n)?n:null}function l1(n){var e=LV(n);if(e)return e;if(n instanceof We.Component){var t;return(t=Ab.findDOMNode)===null||t===void 0?void 0:t.call(Ab,n)}return null}var KA=M.createContext(null);function NV(n){var e=n.children,t=n.onBatchResize,r=M.useRef(0),a=M.useRef([]),o=M.useContext(KA),l=M.useCallback(function(s,f,h){r.current+=1;var v=r.current;a.current.push({size:s,element:f,data:h}),Promise.resolve().then(function(){v===r.current&&(t==null||t(a.current),a.current=[])}),o==null||o(s,f,h)},[t,o]);return M.createElement(KA.Provider,{value:l},e)}var bU=function(){if(typeof Map<"u")return Map;function n(e,t){var r=-1;return e.some(function(a,o){return a[0]===t?(r=o,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var r=n(this.__entries__,t),a=this.__entries__[r];return a&&a[1]},e.prototype.set=function(t,r){var a=n(this.__entries__,t);~a?this.__entries__[a][1]=r:this.__entries__.push([t,r])},e.prototype.delete=function(t){var r=this.__entries__,a=n(r,t);~a&&r.splice(a,1)},e.prototype.has=function(t){return!!~n(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,r){r===void 0&&(r=null);for(var a=0,o=this.__entries__;a<o.length;a++){var l=o[a];t.call(r,l[1],l[0])}},e}()}(),QA=typeof window<"u"&&typeof document<"u"&&window.document===document,cw=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),UV=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(cw):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)}}(),BV=2;function FV(n,e){var t=!1,r=!1,a=0;function o(){t&&(t=!1,n()),r&&s()}function l(){UV(o)}function s(){var f=Date.now();if(t){if(f-a<BV)return;r=!0}else t=!0,r=!1,setTimeout(l,e);a=f}return s}var HV=20,kV=["top","right","bottom","left","width","height","size","weight"],$V=typeof MutationObserver<"u",VV=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=FV(this.refresh.bind(this),HV)}return n.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},n.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},n.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},n.prototype.connect_=function(){!QA||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),$V?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){!QA||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=t===void 0?"":t,a=kV.some(function(o){return!!~r.indexOf(o)});a&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),_U=function(n,e){for(var t=0,r=Object.keys(e);t<r.length;t++){var a=r[t];Object.defineProperty(n,a,{value:e[a],enumerable:!1,writable:!1,configurable:!0})}return n},Vv=function(n){var e=n&&n.ownerDocument&&n.ownerDocument.defaultView;return e||cw},SU=DC(0,0,0,0);function uw(n){return parseFloat(n)||0}function U3(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(r,a){var o=n["border-"+a+"-width"];return r+uw(o)},0)}function GV(n){for(var e=["top","right","bottom","left"],t={},r=0,a=e;r<a.length;r++){var o=a[r],l=n["padding-"+o];t[o]=uw(l)}return t}function jV(n){var e=n.getBBox();return DC(0,0,e.width,e.height)}function WV(n){var e=n.clientWidth,t=n.clientHeight;if(!e&&!t)return SU;var r=Vv(n).getComputedStyle(n),a=GV(r),o=a.left+a.right,l=a.top+a.bottom,s=uw(r.width),f=uw(r.height);if(r.boxSizing==="border-box"&&(Math.round(s+o)!==e&&(s-=U3(r,"left","right")+o),Math.round(f+l)!==t&&(f-=U3(r,"top","bottom")+l)),!YV(n)){var h=Math.round(s+o)-e,v=Math.round(f+l)-t;Math.abs(h)!==1&&(s-=h),Math.abs(v)!==1&&(f-=v)}return DC(a.left,a.top,s,f)}var XV=function(){return typeof SVGGraphicsElement<"u"?function(n){return n instanceof Vv(n).SVGGraphicsElement}:function(n){return n instanceof Vv(n).SVGElement&&typeof n.getBBox=="function"}}();function YV(n){return n===Vv(n).document.documentElement}function qV(n){return QA?XV(n)?jV(n):WV(n):SU}function ZV(n){var e=n.x,t=n.y,r=n.width,a=n.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,l=Object.create(o.prototype);return _U(l,{x:e,y:t,width:r,height:a,top:t,right:e+r,bottom:a+t,left:e}),l}function DC(n,e,t,r){return{x:n,y:e,width:t,height:r}}var KV=function(){function n(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=DC(0,0,0,0),this.target=e}return n.prototype.isActive=function(){var e=qV(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},n}(),QV=function(){function n(e,t){var r=ZV(t);_U(this,{target:e,contentRect:r})}return n}(),JV=function(){function n(e,t,r){if(this.activeObservations_=[],this.observations_=new bU,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return n.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Vv(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new KV(e)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Vv(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(r){return new QV(r.target,r.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),xU=typeof WeakMap<"u"?new WeakMap:new bU,wU=function(){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=VV.getInstance(),r=new JV(e,t,this);xU.set(this,r)}return n}();["observe","unobserve","disconnect"].forEach(function(n){wU.prototype[n]=function(){var e;return(e=xU.get(this))[n].apply(e,arguments)}});var eG=function(){return typeof cw.ResizeObserver<"u"?cw.ResizeObserver:wU}(),xh=new Map;function tG(n){n.forEach(function(e){var t,r=e.target;(t=xh.get(r))===null||t===void 0||t.forEach(function(a){return a(r)})})}var CU=new eG(tG);function nG(n,e){xh.has(n)||(xh.set(n,new Set),CU.observe(n)),xh.get(n).add(e)}function iG(n,e){xh.has(n)&&(xh.get(n).delete(e),xh.get(n).size||(CU.unobserve(n),xh.delete(n)))}function si(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function B3(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,eU(r.key),r)}}function li(n,e,t){return e&&B3(n.prototype,e),t&&B3(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Ob(n,e){return Ob=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},Ob(n,e)}function Ar(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Ob(n,e)}function Li(n){return Li=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Li(n)}function FR(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FR=function(){return!!n})()}function Ln(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function No(n,e){if(e&&(yn(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ln(n)}function Gc(n){var e=FR();return function(){var t,r=Li(n);if(e){var a=Li(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return No(this,t)}}var rG=function(n){Ar(t,n);var e=Gc(t);function t(){return si(this,t),e.apply(this,arguments)}return li(t,[{key:"render",value:function(){return this.props.children}}]),t}(M.Component);function aG(n,e){var t=n.children,r=n.disabled,a=M.useRef(null),o=M.useRef(null),l=M.useContext(KA),s=typeof t=="function",f=s?t(a):t,h=M.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),v=!s&&M.isValidElement(f)&&l_(f),_=v?PC(f):null,x=f0(_,a),C=function(){var b;return l1(a.current)||(a.current&&yn(a.current)==="object"?l1((b=a.current)===null||b===void 0?void 0:b.nativeElement):null)||l1(o.current)};M.useImperativeHandle(e,function(){return C()});var c=M.useRef(n);c.current=n;var p=M.useCallback(function(m){var b=c.current,w=b.onResize,A=b.data,R=m.getBoundingClientRect(),O=R.width,P=R.height,D=m.offsetWidth,F=m.offsetHeight,B=Math.floor(O),U=Math.floor(P);if(h.current.width!==B||h.current.height!==U||h.current.offsetWidth!==D||h.current.offsetHeight!==F){var V={width:B,height:U,offsetWidth:D,offsetHeight:F};h.current=V;var Q=D===Math.round(O)?O:D,X=F===Math.round(P)?P:F,ee=Ne(Ne({},V),{},{offsetWidth:Q,offsetHeight:X});l==null||l(ee,m,A),w&&Promise.resolve().then(function(){w(ee,m)})}},[]);return M.useEffect(function(){var m=C();return m&&!r&&nG(m,p),function(){return iG(m,p)}},[a.current,r]),M.createElement(rG,{ref:o},v?M.cloneElement(f,{ref:x}):f)}var oG=M.forwardRef(aG),sG="rc-observer-key";function lG(n,e){var t=n.children,r=typeof t=="function"?[t]:qu(t);return r.map(function(a,o){var l=(a==null?void 0:a.key)||"".concat(sG,"-").concat(o);return M.createElement(oG,Nt({},n,{key:l,ref:o===0?e:void 0}),a)})}var Tm=M.forwardRef(lG);Tm.Collection=NV;function cG(n){if(Array.isArray(n))return zA(n)}function EU(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function uG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qt(n){return cG(n)||EU(n)||DR(n)||uG()}var MU=function(e){return+setTimeout(e,16)},TU=function(e){return clearTimeout(e)};typeof window<"u"&&"requestAnimationFrame"in window&&(MU=function(e){return window.requestAnimationFrame(e)},TU=function(e){return window.cancelAnimationFrame(e)});var F3=0,HR=new Map;function AU(n){HR.delete(n)}var fo=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;F3+=1;var r=F3;function a(o){if(o===0)AU(r),e();else{var l=MU(function(){a(o-1)});HR.set(r,l)}}return a(t),r};fo.cancel=function(n){var e=HR.get(n);return AU(n),TU(e)};function Ib(n){for(var e=0,t,r=0,a=n.length;a>=4;++r,a-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(a){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}function Gv(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=new Set;function a(o,l){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,f=r.has(o);if(Po(!f,"Warning: There may be circular references"),f)return!1;if(o===l)return!0;if(t&&s>1)return!1;r.add(o);var h=s+1;if(Array.isArray(o)){if(!Array.isArray(l)||o.length!==l.length)return!1;for(var v=0;v<o.length;v++)if(!a(o[v],l[v],h))return!1;return!0}if(o&&l&&yn(o)==="object"&&yn(l)==="object"){var _=Object.keys(o);return _.length!==Object.keys(l).length?!1:_.every(function(x){return a(o[x],l[x],h)})}return!1}return a(n,e)}var fG="%";function JA(n){return n.join(fG)}var dG=function(){function n(e){si(this,n),de(this,"instanceId",void 0),de(this,"cache",new Map),this.instanceId=e}return li(n,[{key:"get",value:function(t){return this.opGet(JA(t))}},{key:"opGet",value:function(t){return this.cache.get(t)||null}},{key:"update",value:function(t,r){return this.opUpdate(JA(t),r)}},{key:"opUpdate",value:function(t,r){var a=this.cache.get(t),o=r(a);o===null?this.cache.delete(t):this.cache.set(t,o)}}]),n}(),jv="data-token-hash",Bc="data-css-hash",wh="__cssinjs_instance__";function hG(){var n=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){var e=document.body.querySelectorAll("style[".concat(Bc,"]"))||[],t=document.head.firstChild;Array.from(e).forEach(function(a){a[wh]=a[wh]||n,a[wh]===n&&document.head.insertBefore(a,t)});var r={};Array.from(document.querySelectorAll("style[".concat(Bc,"]"))).forEach(function(a){var o=a.getAttribute(Bc);if(r[o]){if(a[wh]===n){var l;(l=a.parentNode)===null||l===void 0||l.removeChild(a)}}else r[o]=!0})}return new dG(n)}var c_=M.createContext({hashPriority:"low",cache:hG(),defaultCache:!0});function pG(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}var kR=function(){function n(){si(this,n),de(this,"cache",void 0),de(this,"keys",void 0),de(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return li(n,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(t){var r,a,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l={map:this.cache};return t.forEach(function(s){if(!l)l=void 0;else{var f;l=(f=l)===null||f===void 0||(f=f.map)===null||f===void 0?void 0:f.get(s)}}),(r=l)!==null&&r!==void 0&&r.value&&o&&(l.value[1]=this.cacheCallTimes++),(a=l)===null||a===void 0?void 0:a.value}},{key:"get",value:function(t){var r;return(r=this.internalGet(t,!0))===null||r===void 0?void 0:r[0]}},{key:"has",value:function(t){return!!this.internalGet(t)}},{key:"set",value:function(t,r){var a=this;if(!this.has(t)){if(this.size()+1>n.MAX_CACHE_SIZE+n.MAX_CACHE_OFFSET){var o=this.keys.reduce(function(h,v){var _=yt(h,2),x=_[1];return a.internalGet(v)[1]<x?[v,a.internalGet(v)[1]]:h},[this.keys[0],this.cacheCallTimes]),l=yt(o,1),s=l[0];this.delete(s)}this.keys.push(t)}var f=this.cache;t.forEach(function(h,v){if(v===t.length-1)f.set(h,{value:[r,a.cacheCallTimes++]});else{var _=f.get(h);_?_.map||(_.map=new Map):f.set(h,{map:new Map}),f=f.get(h).map}})}},{key:"deleteByPath",value:function(t,r){var a=t.get(r[0]);if(r.length===1){var o;return a.map?t.set(r[0],{map:a.map}):t.delete(r[0]),(o=a.value)===null||o===void 0?void 0:o[0]}var l=this.deleteByPath(a.map,r.slice(1));return(!a.map||a.map.size===0)&&!a.value&&t.delete(r[0]),l}},{key:"delete",value:function(t){if(this.has(t))return this.keys=this.keys.filter(function(r){return!pG(r,t)}),this.deleteByPath(this.cache,t)}}]),n}();de(kR,"MAX_CACHE_SIZE",20);de(kR,"MAX_CACHE_OFFSET",5);var H3=0,RU=function(){function n(e){si(this,n),de(this,"derivatives",void 0),de(this,"id",void 0),this.derivatives=Array.isArray(e)?e:[e],this.id=H3,e.length===0&&(e.length>0,void 0),H3+=1}return li(n,[{key:"getDerivativeToken",value:function(t){return this.derivatives.reduce(function(r,a){return a(t,r)},void 0)}}]),n}(),NM=new kR;function e2(n){var e=Array.isArray(n)?n:[n];return NM.has(e)||NM.set(e,new RU(e)),NM.get(e)}var mG=new WeakMap,UM={};function gG(n,e){for(var t=mG,r=0;r<e.length;r+=1){var a=e[r];t.has(a)||t.set(a,new WeakMap),t=t.get(a)}return t.has(UM)||t.set(UM,n()),t.get(UM)}var k3=new WeakMap;function cb(n){var e=k3.get(n)||"";return e||(Object.keys(n).forEach(function(t){var r=n[t];e+=t,r instanceof RU?e+=r.id:r&&yn(r)==="object"?e+=cb(r):e+=r}),e=Ib(e),k3.set(n,e)),e}function $3(n,e){return Ib("".concat(e,"_").concat(cb(n)))}var t2=ls();function Ut(n){return typeof n=="number"?"".concat(n,"px"):n}function fw(n,e,t){var r,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(o)return n;var l=Ne(Ne({},a),{},(r={},de(r,jv,e),de(r,Bc,t),r)),s=Object.keys(l).map(function(f){var h=l[f];return h?"".concat(f,'="').concat(h,'"'):null}).filter(function(f){return f}).join(" ");return"<style ".concat(s,">").concat(n,"</style>")}var c1=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(t?"".concat(t,"-"):"").concat(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},vG=function(e,t,r){return Object.keys(e).length?".".concat(t).concat(r!=null&&r.scope?".".concat(r.scope):"","{").concat(Object.entries(e).map(function(a){var o=yt(a,2),l=o[0],s=o[1];return"".concat(l,":").concat(s,";")}).join(""),"}"):""},OU=function(e,t,r){var a={},o={};return Object.entries(e).forEach(function(l){var s,f,h=yt(l,2),v=h[0],_=h[1];if(r!=null&&(s=r.preserve)!==null&&s!==void 0&&s[v])o[v]=_;else if((typeof _=="string"||typeof _=="number")&&!(r!=null&&(f=r.ignore)!==null&&f!==void 0&&f[v])){var x,C=c1(v,r==null?void 0:r.prefix);a[C]=typeof _=="number"&&!(r!=null&&(x=r.unitless)!==null&&x!==void 0&&x[v])?"".concat(_,"px"):String(_),o[v]="var(".concat(C,")")}}),[o,vG(a,t,{scope:r==null?void 0:r.scope})]},V3=ls()?M.useLayoutEffect:M.useEffect,Ca=function(e,t){var r=M.useRef(!0);V3(function(){return e(r.current)},t),V3(function(){return r.current=!1,function(){r.current=!0}},[])},G3=function(e,t){Ca(function(r){if(!r)return e()},t)},yG=Ne({},RC),j3=yG.useInsertionEffect,bG=function(e,t,r){M.useMemo(e,r),Ca(function(){return t(!0)},r)},_G=j3?function(n,e,t){return j3(function(){return n(),e()},t)}:bG,SG=Ne({},RC),xG=SG.useInsertionEffect,wG=function(e){var t=[],r=!1;function a(o){r||t.push(o)}return M.useEffect(function(){return r=!1,function(){r=!0,t.length&&t.forEach(function(o){return o()})}},e),a},CG=function(){return function(e){e()}},EG=typeof xG<"u"?wG:CG;function $R(n,e,t,r,a){var o=M.useContext(c_),l=o.cache,s=[n].concat(Qt(e)),f=JA(s),h=EG([f]),v=function(c){l.opUpdate(f,function(p){var m=p||[void 0,void 0],b=yt(m,2),w=b[0],A=w===void 0?0:w,R=b[1],O=R,P=O||t(),D=[A,P];return c?c(D):D})};M.useMemo(function(){v()},[f]);var _=l.opGet(f),x=_[1];return _G(function(){a==null||a(x)},function(C){return v(function(c){var p=yt(c,2),m=p[0],b=p[1];return C&&m===0&&(a==null||a(x)),[m+1,b]}),function(){l.opUpdate(f,function(c){var p=c||[],m=yt(p,2),b=m[0],w=b===void 0?0:b,A=m[1],R=w-1;return R===0?(h(function(){(C||!l.opGet(f))&&(r==null||r(A,!1))}),null):[w-1,A]})}},[f]),x}var MG={},TG="css",Qp=new Map;function AG(n){Qp.set(n,(Qp.get(n)||0)+1)}function RG(n,e){if(typeof document<"u"){var t=document.querySelectorAll("style[".concat(jv,'="').concat(n,'"]'));t.forEach(function(r){if(r[wh]===e){var a;(a=r.parentNode)===null||a===void 0||a.removeChild(r)}})}}var OG=0;function IG(n,e){Qp.set(n,(Qp.get(n)||0)-1);var t=Array.from(Qp.keys()),r=t.filter(function(a){var o=Qp.get(a)||0;return o<=0});t.length-r.length>OG&&r.forEach(function(a){RG(a,e),Qp.delete(a)})}var zG=function(e,t,r,a){var o=r.getDerivativeToken(e),l=Ne(Ne({},o),t);return a&&(l=a(l)),l},IU="token";function PG(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=M.useContext(c_),a=r.cache.instanceId,o=r.container,l=t.salt,s=l===void 0?"":l,f=t.override,h=f===void 0?MG:f,v=t.formatToken,_=t.getComputedToken,x=t.cssVar,C=gG(function(){return Object.assign.apply(Object,[{}].concat(Qt(e)))},e),c=cb(C),p=cb(h),m=x?cb(x):"",b=$R(IU,[s,n.id,c,p,m],function(){var w,A=_?_(C,h,n):zG(C,h,n,v),R=Ne({},A),O="";if(x){var P=OU(A,x.key,{prefix:x.prefix,ignore:x.ignore,unitless:x.unitless,preserve:x.preserve}),D=yt(P,2);A=D[0],O=D[1]}var F=$3(A,s);A._tokenKey=F,R._tokenKey=$3(R,s);var B=(w=x==null?void 0:x.key)!==null&&w!==void 0?w:F;A._themeKey=B,AG(B);var U="".concat(TG,"-").concat(Ib(F));return A._hashId=U,[A,U,R,O,(x==null?void 0:x.key)||""]},function(w){IG(w[0]._themeKey,a)},function(w){var A=yt(w,4),R=A[0],O=A[3];if(x&&O){var P=ad(O,Ib("css-variables-".concat(R._themeKey)),{mark:Bc,prepend:"queue",attachTo:o,priority:-999});P[wh]=a,P.setAttribute(jv,R._themeKey)}});return b}var DG=function(e,t,r){var a=yt(e,5),o=a[2],l=a[3],s=a[4],f=r||{},h=f.plain;if(!l)return null;var v=o._tokenKey,_=-999,x={"data-rc-order":"prependQueue","data-rc-priority":"".concat(_)},C=fw(l,s,v,x,h);return[_,v,C]},LG={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},zU="comm",PU="rule",DU="decl",NG="@import",UG="@namespace",BG="@keyframes",FG="@layer",LU=Math.abs,VR=String.fromCharCode;function NU(n){return n.trim()}function u1(n,e,t){return n.replace(e,t)}function HG(n,e,t){return n.indexOf(e,t)}function Uv(n,e){return n.charCodeAt(e)|0}function Wv(n,e,t){return n.slice(e,t)}function ku(n){return n.length}function kG(n){return n.length}function ZS(n,e){return e.push(n),n}var LC=1,Xv=1,UU=0,$l=0,Ea=0,d0="";function GR(n,e,t,r,a,o,l,s){return{value:n,root:e,parent:t,type:r,props:a,children:o,line:LC,column:Xv,length:l,return:"",siblings:s}}function $G(){return Ea}function VG(){return Ea=$l>0?Uv(d0,--$l):0,Xv--,Ea===10&&(Xv=1,LC--),Ea}function Fc(){return Ea=$l<UU?Uv(d0,$l++):0,Xv++,Ea===10&&(Xv=1,LC++),Ea}function Ch(){return Uv(d0,$l)}function f1(){return $l}function NC(n,e){return Wv(d0,n,e)}function zb(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function GG(n){return LC=Xv=1,UU=ku(d0=n),$l=0,[]}function jG(n){return d0="",n}function BM(n){return NU(NC($l-1,n2(n===91?n+2:n===40?n+1:n)))}function WG(n){for(;(Ea=Ch())&&Ea<33;)Fc();return zb(n)>2||zb(Ea)>3?"":" "}function XG(n,e){for(;--e&&Fc()&&!(Ea<48||Ea>102||Ea>57&&Ea<65||Ea>70&&Ea<97););return NC(n,f1()+(e<6&&Ch()==32&&Fc()==32))}function n2(n){for(;Fc();)switch(Ea){case n:return $l;case 34:case 39:n!==34&&n!==39&&n2(Ea);break;case 40:n===41&&n2(n);break;case 92:Fc();break}return $l}function YG(n,e){for(;Fc()&&n+Ea!==57;)if(n+Ea===84&&Ch()===47)break;return"/*"+NC(e,$l-1)+"*"+VR(n===47?n:Fc())}function qG(n){for(;!zb(Ch());)Fc();return NC(n,$l)}function ZG(n){return jG(d1("",null,null,null,[""],n=GG(n),0,[0],n))}function d1(n,e,t,r,a,o,l,s,f){for(var h=0,v=0,_=l,x=0,C=0,c=0,p=1,m=1,b=1,w=0,A="",R=a,O=o,P=r,D=A;m;)switch(c=w,w=Fc()){case 40:if(c!=108&&Uv(D,_-1)==58){HG(D+=u1(BM(w),"&","&\f"),"&\f",LU(h?s[h-1]:0))!=-1&&(b=-1);break}case 34:case 39:case 91:D+=BM(w);break;case 9:case 10:case 13:case 32:D+=WG(c);break;case 92:D+=XG(f1()-1,7);continue;case 47:switch(Ch()){case 42:case 47:ZS(KG(YG(Fc(),f1()),e,t,f),f),(zb(c||1)==5||zb(Ch()||1)==5)&&ku(D)&&Wv(D,-1,void 0)!==" "&&(D+=" ");break;default:D+="/"}break;case 123*p:s[h++]=ku(D)*b;case 125*p:case 59:case 0:switch(w){case 0:case 125:m=0;case 59+v:b==-1&&(D=u1(D,/\f/g,"")),C>0&&(ku(D)-_||p===0&&c===47)&&ZS(C>32?X3(D+";",r,t,_-1,f):X3(u1(D," ","")+";",r,t,_-2,f),f);break;case 59:D+=";";default:if(ZS(P=W3(D,e,t,h,v,a,s,A,R=[],O=[],_,o),o),w===123)if(v===0)d1(D,e,P,P,R,o,_,s,O);else{switch(x){case 99:if(Uv(D,3)===110)break;case 108:if(Uv(D,2)===97)break;default:v=0;case 100:case 109:case 115:}v?d1(n,P,P,r&&ZS(W3(n,P,P,0,0,a,s,A,a,R=[],_,O),O),a,O,_,s,r?R:O):d1(D,P,P,P,[""],O,0,s,O)}}h=v=C=0,p=b=1,A=D="",_=l;break;case 58:_=1+ku(D),C=c;default:if(p<1){if(w==123)--p;else if(w==125&&p++==0&&VG()==125)continue}switch(D+=VR(w),w*p){case 38:b=v>0?1:(D+="\f",-1);break;case 44:s[h++]=(ku(D)-1)*b,b=1;break;case 64:Ch()===45&&(D+=BM(Fc())),x=Ch(),v=_=ku(A=D+=qG(f1())),w++;break;case 45:c===45&&ku(D)==2&&(p=0)}}return o}function W3(n,e,t,r,a,o,l,s,f,h,v,_){for(var x=a-1,C=a===0?o:[""],c=kG(C),p=0,m=0,b=0;p<r;++p)for(var w=0,A=Wv(n,x+1,x=LU(m=l[p])),R=n;w<c;++w)(R=NU(m>0?C[w]+" "+A:u1(A,/&\f/g,C[w])))&&(f[b++]=R);return GR(n,e,t,a===0?PU:s,f,h,v,_)}function KG(n,e,t,r){return GR(n,e,t,zU,VR($G()),Wv(n,2,-2),0,r)}function X3(n,e,t,r,a){return GR(n,e,t,DU,Wv(n,0,r),Wv(n,r+1,-1),r,a)}function i2(n,e){for(var t="",r=0;r<n.length;r++)t+=e(n[r],r,n,e)||"";return t}function QG(n,e,t,r){switch(n.type){case FG:if(n.children.length)break;case NG:case UG:case DU:return n.return=n.return||n.value;case zU:return"";case BG:return n.return=n.value+"{"+i2(n.children,r)+"}";case PU:if(!ku(n.value=n.props.join(",")))return""}return ku(t=i2(n.children,r))?n.return=n.value+"{"+t+"}":""}var Y3="data-ant-cssinjs-cache-path",BU="_FILE_STYLE__",dm,FU=!0;function JG(){if(!dm&&(dm={},ls())){var n=document.createElement("div");n.className=Y3,n.style.position="fixed",n.style.visibility="hidden",n.style.top="-9999px",document.body.appendChild(n);var e=getComputedStyle(n).content||"";e=e.replace(/^"/,"").replace(/"$/,""),e.split(";").forEach(function(a){var o=a.split(":"),l=yt(o,2),s=l[0],f=l[1];dm[s]=f});var t=document.querySelector("style[".concat(Y3,"]"));if(t){var r;FU=!1,(r=t.parentNode)===null||r===void 0||r.removeChild(t)}document.body.removeChild(n)}}function ej(n){return JG(),!!dm[n]}function tj(n){var e=dm[n],t=null;if(e&&ls())if(FU)t=BU;else{var r=document.querySelector("style[".concat(Bc,'="').concat(dm[n],'"]'));r?t=r.innerHTML:delete dm[n]}return[t,e]}var nj="_skip_check_",HU="_multi_value_";function h1(n){var e=i2(ZG(n),QG);return e.replace(/\{%%%\:[^;];}/g,";")}function ij(n){return yn(n)==="object"&&n&&(nj in n||HU in n)}function q3(n,e,t){if(!e)return n;var r=".".concat(e),a=t==="low"?":where(".concat(r,")"):r,o=n.split(",").map(function(l){var s,f=l.trim().split(/\s+/),h=f[0]||"",v=((s=h.match(/^\w+/))===null||s===void 0?void 0:s[0])||"";return h="".concat(v).concat(a).concat(h.slice(v.length)),[h].concat(Qt(f.slice(1))).join(" ")});return o.join(",")}var rj=function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},a=r.root,o=r.injectHash,l=r.parentSelectors,s=t.hashId,f=t.layer;t.path;var h=t.hashPriority,v=t.transformers,_=v===void 0?[]:v;t.linters;var x="",C={};function c(b){var w=b.getName(s);if(!C[w]){var A=n(b.style,t,{root:!1,parentSelectors:l}),R=yt(A,1),O=R[0];C[w]="@keyframes ".concat(b.getName(s)).concat(O)}}function p(b){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return b.forEach(function(A){Array.isArray(A)?p(A,w):A&&w.push(A)}),w}var m=p(Array.isArray(e)?e:[e]);return m.forEach(function(b){var w=typeof b=="string"&&!a?{}:b;if(typeof w=="string")x+="".concat(w,`
`);else if(w._keyframe)c(w);else{var A=_.reduce(function(R,O){var P;return(O==null||(P=O.visit)===null||P===void 0?void 0:P.call(O,R))||R},w);Object.keys(A).forEach(function(R){var O=A[R];if(yn(O)==="object"&&O&&(R!=="animationName"||!O._keyframe)&&!ij(O)){var P=!1,D=R.trim(),F=!1;(a||o)&&s?D.startsWith("@")?P=!0:D==="&"?D=q3("",s,h):D=q3(R,s,h):a&&!s&&(D==="&"||D==="")&&(D="",F=!0);var B=n(O,t,{root:F,injectHash:P,parentSelectors:[].concat(Qt(l),[D])}),U=yt(B,2),V=U[0],Q=U[1];C=Ne(Ne({},C),Q),x+="".concat(D).concat(V)}else{let ae=function(Z,K){var te=Z.replace(/[A-Z]/g,function(q){return"-".concat(q.toLowerCase())}),ce=K;!LG[Z]&&typeof ce=="number"&&ce!==0&&(ce="".concat(ce,"px")),Z==="animationName"&&K!==null&&K!==void 0&&K._keyframe&&(c(K),ce=K.getName(s)),x+="".concat(te,":").concat(ce,";")};var X,ee=(X=O==null?void 0:O.value)!==null&&X!==void 0?X:O;yn(O)==="object"&&O!==null&&O!==void 0&&O[HU]&&Array.isArray(ee)?ee.forEach(function(Z){ae(R,Z)}):ae(R,ee)}})}}),a?f&&(x&&(x="@layer ".concat(f.name," {").concat(x,"}")),f.dependencies&&(C["@layer ".concat(f.name)]=f.dependencies.map(function(b){return"@layer ".concat(b,", ").concat(f.name,";")}).join(`
`))):x="{".concat(x,"}"),[x,C]};function kU(n,e){return Ib("".concat(n.join("%")).concat(e))}function aj(){return null}var $U="style";function r2(n,e){var t=n.token,r=n.path,a=n.hashId,o=n.layer,l=n.nonce,s=n.clientOnly,f=n.order,h=f===void 0?0:f,v=M.useContext(c_),_=v.autoClear;v.mock;var x=v.defaultCache,C=v.hashPriority,c=v.container,p=v.ssrInline,m=v.transformers,b=v.linters,w=v.cache,A=v.layer,R=t._tokenKey,O=[R];A&&O.push("layer"),O.push.apply(O,Qt(r));var P=t2,D=$R($U,O,function(){var Q=O.join("|");if(ej(Q)){var X=tj(Q),ee=yt(X,2),ae=ee[0],Z=ee[1];if(ae)return[ae,R,Z,{},s,h]}var K=e(),te=rj(K,{hashId:a,hashPriority:C,layer:A?o:void 0,path:r.join("-"),transformers:m,linters:b}),ce=yt(te,2),q=ce[0],J=ce[1],he=h1(q),ue=kU(O,he);return[he,R,ue,J,s,h]},function(Q,X){var ee=yt(Q,3),ae=ee[2];(X||_)&&t2&&Tb(ae,{mark:Bc})},function(Q){var X=yt(Q,4),ee=X[0];X[1];var ae=X[2],Z=X[3];if(P&&ee!==BU){var K={mark:Bc,prepend:A?!1:"queue",attachTo:c,priority:h},te=typeof l=="function"?l():l;te&&(K.csp={nonce:te});var ce=[],q=[];Object.keys(Z).forEach(function(he){he.startsWith("@layer")?ce.push(he):q.push(he)}),ce.forEach(function(he){ad(h1(Z[he]),"_layer-".concat(he),Ne(Ne({},K),{},{prepend:!0}))});var J=ad(ee,ae,K);J[wh]=w.instanceId,J.setAttribute(jv,R),q.forEach(function(he){ad(h1(Z[he]),"_effect-".concat(he),K)})}}),F=yt(D,3),B=F[0],U=F[1],V=F[2];return function(Q){var X;if(!p||P||!x)X=M.createElement(aj,null);else{var ee;X=M.createElement("style",Nt({},(ee={},de(ee,jv,U),de(ee,Bc,V),ee),{dangerouslySetInnerHTML:{__html:B}}))}return M.createElement(M.Fragment,null,X,Q)}}var oj=function(e,t,r){var a=yt(e,6),o=a[0],l=a[1],s=a[2],f=a[3],h=a[4],v=a[5],_=r||{},x=_.plain;if(h)return null;var C=o,c={"data-rc-order":"prependQueue","data-rc-priority":"".concat(v)};return C=fw(o,l,s,c,x),f&&Object.keys(f).forEach(function(p){if(!t[p]){t[p]=!0;var m=h1(f[p]),b=fw(m,l,"_effect-".concat(p),c,x);p.startsWith("@layer")?C=b+C:C+=b}}),[v,s,C]},VU="cssVar",sj=function(e,t){var r=e.key,a=e.prefix,o=e.unitless,l=e.ignore,s=e.token,f=e.scope,h=f===void 0?"":f,v=M.useContext(c_),_=v.cache.instanceId,x=v.container,C=s._tokenKey,c=[].concat(Qt(e.path),[r,h,C]),p=$R(VU,c,function(){var m=t(),b=OU(m,r,{prefix:a,unitless:o,ignore:l,scope:h}),w=yt(b,2),A=w[0],R=w[1],O=kU(c,R);return[A,R,O,r]},function(m){var b=yt(m,3),w=b[2];t2&&Tb(w,{mark:Bc})},function(m){var b=yt(m,3),w=b[1],A=b[2];if(w){var R=ad(w,A,{mark:Bc,prepend:"queue",attachTo:x,priority:-999});R[wh]=_,R.setAttribute(jv,r)}});return p},lj=function(e,t,r){var a=yt(e,4),o=a[1],l=a[2],s=a[3],f=r||{},h=f.plain;if(!o)return null;var v=-999,_={"data-rc-order":"prependQueue","data-rc-priority":"".concat(v)},x=fw(o,s,l,_,h);return[v,l,x]},by;by={},de(by,$U,oj),de(by,IU,DG),de(by,VU,lj);var ar=function(){function n(e,t){si(this,n),de(this,"name",void 0),de(this,"style",void 0),de(this,"_keyframe",!0),this.name=e,this.style=t}return li(n,[{key:"getName",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return t?"".concat(t,"-").concat(this.name):this.name}}]),n}();function Cg(n){return n.notSplit=!0,n}Cg(["borderTop","borderBottom"]),Cg(["borderTop"]),Cg(["borderBottom"]),Cg(["borderLeft","borderRight"]),Cg(["borderLeft"]),Cg(["borderRight"]);function cj(n){return QN(n)||EU(n)||DR(n)||JN()}function Vu(n,e){for(var t=n,r=0;r<e.length;r+=1){if(t==null)return;t=t[e[r]]}return t}function GU(n,e,t,r){if(!e.length)return t;var a=cj(e),o=a[0],l=a.slice(1),s;return!n&&typeof o=="number"?s=[]:Array.isArray(n)?s=Qt(n):s=Ne({},n),r&&t===void 0&&l.length===1?delete s[o][l[0]]:s[o]=GU(s[o],l,t,r),s}function Ic(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.length&&r&&t===void 0&&!Vu(n,e.slice(0,-1))?n:GU(n,e,t,r)}function uj(n){return yn(n)==="object"&&n!==null&&Object.getPrototypeOf(n)===Object.prototype}function Z3(n){return Array.isArray(n)?[]:{}}var fj=typeof Reflect>"u"?Object.keys:Reflect.ownKeys;function bv(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var r=Z3(e[0]);return e.forEach(function(a){function o(l,s){var f=new Set(s),h=Vu(a,l),v=Array.isArray(h);if(v||uj(h)){if(!f.has(h)){f.add(h);var _=Vu(r,l);v?r=Ic(r,l,[]):(!_||yn(_)!=="object")&&(r=Ic(r,l,Z3(h))),fj(h).forEach(function(x){o([].concat(Qt(l),[x]),f)})}}else r=Ic(r,l,h)}o([])}),r}function dj(){}const hj=M.createContext({}),jR=()=>{const n=()=>{};return n.deprecated=dj,n},pj=M.createContext(void 0);var mj={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},gj={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0},vj=Ne(Ne({},gj),{},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",week:"Week",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",dateFormat:"M/D/YYYY",dateTimeFormat:"M/D/YYYY HH:mm:ss",previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"});const jU={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},K3={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},vj),timePickerLocale:Object.assign({},jU)},qs="${label} is not a valid ${type}",Ph={locale:"en",Pagination:mj,DatePicker:K3,TimePicker:jU,Calendar:K3,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckAll:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:qs,method:qs,array:qs,object:qs,number:qs,date:qs,boolean:qs,integer:qs,float:qs,regexp:qs,email:qs,url:qs,hex:qs},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty",transparent:"Transparent",singleColor:"Single",gradientColor:"Gradient"}};let p1=Object.assign({},Ph.Modal),m1=[];const Q3=()=>m1.reduce((n,e)=>Object.assign(Object.assign({},n),e),Ph.Modal);function yj(n){if(n){const e=Object.assign({},n);return m1.push(e),p1=Q3(),()=>{m1=m1.filter(t=>t!==e),p1=Q3()}}p1=Object.assign({},Ph.Modal)}function WU(){return p1}const WR=M.createContext(void 0),u_=(n,e)=>{const t=M.useContext(WR),r=M.useMemo(()=>{var o;const l=e||Ph[n],s=(o=t==null?void 0:t[n])!==null&&o!==void 0?o:{};return Object.assign(Object.assign({},typeof l=="function"?l():l),s||{})},[n,e,t]),a=M.useMemo(()=>{const o=t==null?void 0:t.locale;return t!=null&&t.exist&&!o?Ph.locale:o},[t]);return[r,a]},bj="internalMark",_j=n=>{const{locale:e={},children:t,_ANT_MARK__:r}=n;M.useEffect(()=>yj(e==null?void 0:e.Modal),[e]);const a=M.useMemo(()=>Object.assign(Object.assign({},e),{exist:!0}),[e]);return M.createElement(WR.Provider,{value:a},t)},XU={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},Pb=Object.assign(Object.assign({},XU),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0});function Sj(n,e){let{generateColorPalettes:t,generateNeutralColorPalettes:r}=e;const{colorSuccess:a,colorWarning:o,colorError:l,colorInfo:s,colorPrimary:f,colorBgBase:h,colorTextBase:v}=n,_=t(f),x=t(a),C=t(o),c=t(l),p=t(s),m=r(h,v),b=n.colorLink||n.colorInfo,w=t(b),A=new Vi(c[1]).mix(new Vi(c[3]),50).toHexString();return Object.assign(Object.assign({},m),{colorPrimaryBg:_[1],colorPrimaryBgHover:_[2],colorPrimaryBorder:_[3],colorPrimaryBorderHover:_[4],colorPrimaryHover:_[5],colorPrimary:_[6],colorPrimaryActive:_[7],colorPrimaryTextHover:_[8],colorPrimaryText:_[9],colorPrimaryTextActive:_[10],colorSuccessBg:x[1],colorSuccessBgHover:x[2],colorSuccessBorder:x[3],colorSuccessBorderHover:x[4],colorSuccessHover:x[4],colorSuccess:x[6],colorSuccessActive:x[7],colorSuccessTextHover:x[8],colorSuccessText:x[9],colorSuccessTextActive:x[10],colorErrorBg:c[1],colorErrorBgHover:c[2],colorErrorBgFilledHover:A,colorErrorBgActive:c[3],colorErrorBorder:c[3],colorErrorBorderHover:c[4],colorErrorHover:c[5],colorError:c[6],colorErrorActive:c[7],colorErrorTextHover:c[8],colorErrorText:c[9],colorErrorTextActive:c[10],colorWarningBg:C[1],colorWarningBgHover:C[2],colorWarningBorder:C[3],colorWarningBorderHover:C[4],colorWarningHover:C[4],colorWarning:C[6],colorWarningActive:C[7],colorWarningTextHover:C[8],colorWarningText:C[9],colorWarningTextActive:C[10],colorInfoBg:p[1],colorInfoBgHover:p[2],colorInfoBorder:p[3],colorInfoBorderHover:p[4],colorInfoHover:p[4],colorInfo:p[6],colorInfoActive:p[7],colorInfoTextHover:p[8],colorInfoText:p[9],colorInfoTextActive:p[10],colorLinkHover:w[4],colorLink:w[6],colorLinkActive:w[7],colorBgMask:new Vi("#000").setA(.45).toRgbString(),colorWhite:"#fff"})}const xj=n=>{let e=n,t=n,r=n,a=n;return n<6&&n>=5?e=n+1:n<16&&n>=6?e=n+2:n>=16&&(e=16),n<7&&n>=5?t=4:n<8&&n>=7?t=5:n<14&&n>=8?t=6:n<16&&n>=14?t=7:n>=16&&(t=8),n<6&&n>=2?r=1:n>=6&&(r=2),n>4&&n<8?a=4:n>=8&&(a=6),{borderRadius:n,borderRadiusXS:r,borderRadiusSM:t,borderRadiusLG:e,borderRadiusOuter:a}};function wj(n){const{motionUnit:e,motionBase:t,borderRadius:r,lineWidth:a}=n;return Object.assign({motionDurationFast:`${(t+e).toFixed(1)}s`,motionDurationMid:`${(t+e*2).toFixed(1)}s`,motionDurationSlow:`${(t+e*3).toFixed(1)}s`,lineWidthBold:a+1},xj(r))}const Cj=n=>{const{controlHeight:e}=n;return{controlHeightSM:e*.75,controlHeightXS:e*.5,controlHeightLG:e*1.25}};function g1(n){return(n+8)/n}function Ej(n){const e=Array.from({length:10}).map((t,r)=>{const a=r-1,o=n*Math.pow(Math.E,a/5),l=r>1?Math.floor(o):Math.ceil(o);return Math.floor(l/2)*2});return e[1]=n,e.map(t=>({size:t,lineHeight:g1(t)}))}const Mj=n=>{const e=Ej(n),t=e.map(v=>v.size),r=e.map(v=>v.lineHeight),a=t[1],o=t[0],l=t[2],s=r[1],f=r[0],h=r[2];return{fontSizeSM:o,fontSize:a,fontSizeLG:l,fontSizeXL:t[3],fontSizeHeading1:t[6],fontSizeHeading2:t[5],fontSizeHeading3:t[4],fontSizeHeading4:t[3],fontSizeHeading5:t[2],lineHeight:s,lineHeightLG:h,lineHeightSM:f,fontHeight:Math.round(s*a),fontHeightLG:Math.round(h*l),fontHeightSM:Math.round(f*o),lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}};function Tj(n){const{sizeUnit:e,sizeStep:t}=n;return{sizeXXL:e*(t+8),sizeXL:e*(t+4),sizeLG:e*(t+2),sizeMD:e*(t+1),sizeMS:e*t,size:e*t,sizeSM:e*(t-1),sizeXS:e*(t-2),sizeXXS:e*(t-3)}}const Ol=(n,e)=>new Vi(n).setA(e).toRgbString(),_y=(n,e)=>new Vi(n).darken(e).toHexString(),Aj=n=>{const e=Mb(n);return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[4],6:e[5],7:e[6],8:e[4],9:e[5],10:e[6]}},Rj=(n,e)=>{const t=n||"#fff",r=e||"#000";return{colorBgBase:t,colorTextBase:r,colorText:Ol(r,.88),colorTextSecondary:Ol(r,.65),colorTextTertiary:Ol(r,.45),colorTextQuaternary:Ol(r,.25),colorFill:Ol(r,.15),colorFillSecondary:Ol(r,.06),colorFillTertiary:Ol(r,.04),colorFillQuaternary:Ol(r,.02),colorBgSolid:Ol(r,1),colorBgSolidHover:Ol(r,.75),colorBgSolidActive:Ol(r,.95),colorBgLayout:_y(t,4),colorBgContainer:_y(t,0),colorBgElevated:_y(t,0),colorBgSpotlight:Ol(r,.85),colorBgBlur:"transparent",colorBorder:_y(t,15),colorBorderSecondary:_y(t,6)}};function Oj(n){Nv.pink=Nv.magenta,PM.pink=PM.magenta;const e=Object.keys(XU).map(t=>{const r=n[t]===Nv[t]?PM[t]:Mb(n[t]);return Array.from({length:10},()=>1).reduce((a,o,l)=>(a[`${t}-${l+1}`]=r[l],a[`${t}${l+1}`]=r[l],a),{})}).reduce((t,r)=>(t=Object.assign(Object.assign({},t),r),t),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n),e),Sj(n,{generateColorPalettes:Aj,generateNeutralColorPalettes:Rj})),Mj(n.fontSize)),Tj(n)),Cj(n)),wj(n))}const YU=e2(Oj),a2={token:Pb,override:{override:Pb},hashed:!0},qU=We.createContext(a2),Db="ant",UC="anticon",Ij=["outlined","borderless","filled","underlined"],zj=(n,e)=>e||(n?`${Db}-${n}`:Db),ei=M.createContext({getPrefixCls:zj,iconPrefixCls:UC}),{Consumer:Tge}=ei,J3={};function ef(n){const e=M.useContext(ei),{getPrefixCls:t,direction:r,getPopupContainer:a}=e,o=e[n];return Object.assign(Object.assign({classNames:J3,styles:J3},o),{getPrefixCls:t,direction:r,getPopupContainer:a})}const Pj=`-ant-${Date.now()}-${Math.random()}`;function Dj(n,e){const t={},r=(l,s)=>{let f=l.clone();return f=(s==null?void 0:s(f))||f,f.toRgbString()},a=(l,s)=>{const f=new Vi(l),h=Mb(f.toRgbString());t[`${s}-color`]=r(f),t[`${s}-color-disabled`]=h[1],t[`${s}-color-hover`]=h[4],t[`${s}-color-active`]=h[6],t[`${s}-color-outline`]=f.clone().setA(.2).toRgbString(),t[`${s}-color-deprecated-bg`]=h[0],t[`${s}-color-deprecated-border`]=h[2]};if(e.primaryColor){a(e.primaryColor,"primary");const l=new Vi(e.primaryColor),s=Mb(l.toRgbString());s.forEach((h,v)=>{t[`primary-${v+1}`]=h}),t["primary-color-deprecated-l-35"]=r(l,h=>h.lighten(35)),t["primary-color-deprecated-l-20"]=r(l,h=>h.lighten(20)),t["primary-color-deprecated-t-20"]=r(l,h=>h.tint(20)),t["primary-color-deprecated-t-50"]=r(l,h=>h.tint(50)),t["primary-color-deprecated-f-12"]=r(l,h=>h.setA(h.a*.12));const f=new Vi(s[0]);t["primary-color-active-deprecated-f-30"]=r(f,h=>h.setA(h.a*.3)),t["primary-color-active-deprecated-d-02"]=r(f,h=>h.darken(2))}return e.successColor&&a(e.successColor,"success"),e.warningColor&&a(e.warningColor,"warning"),e.errorColor&&a(e.errorColor,"error"),e.infoColor&&a(e.infoColor,"info"),`
  :root {
    ${Object.keys(t).map(l=>`--${n}-${l}: ${t[l]};`).join(`
`)}
  }
  `.trim()}function Lj(n,e){const t=Dj(n,e);ls()&&ad(t,`${Pj}-dynamic-theme`)}const Dh=M.createContext(!1),ZU=n=>{let{children:e,disabled:t}=n;const r=M.useContext(Dh);return M.createElement(Dh.Provider,{value:t??r},e)},Yv=M.createContext(void 0),Nj=n=>{let{children:e,size:t}=n;const r=M.useContext(Yv);return M.createElement(Yv.Provider,{value:t||r},e)};function Uj(){const n=M.useContext(Dh),e=M.useContext(Yv);return{componentDisabled:n,componentSize:e}}var KU=li(function n(){si(this,n)}),QU="CALC_UNIT",Bj=new RegExp(QU,"g");function FM(n){return typeof n=="number"?"".concat(n).concat(QU):n}var Fj=function(n){Ar(t,n);var e=Gc(t);function t(r,a){var o;si(this,t),o=e.call(this),de(Ln(o),"result",""),de(Ln(o),"unitlessCssVar",void 0),de(Ln(o),"lowPriority",void 0);var l=yn(r);return o.unitlessCssVar=a,r instanceof t?o.result="(".concat(r.result,")"):l==="number"?o.result=FM(r):l==="string"&&(o.result=r),o}return li(t,[{key:"add",value:function(a){return a instanceof t?this.result="".concat(this.result," + ").concat(a.getResult()):(typeof a=="number"||typeof a=="string")&&(this.result="".concat(this.result," + ").concat(FM(a))),this.lowPriority=!0,this}},{key:"sub",value:function(a){return a instanceof t?this.result="".concat(this.result," - ").concat(a.getResult()):(typeof a=="number"||typeof a=="string")&&(this.result="".concat(this.result," - ").concat(FM(a))),this.lowPriority=!0,this}},{key:"mul",value:function(a){return this.lowPriority&&(this.result="(".concat(this.result,")")),a instanceof t?this.result="".concat(this.result," * ").concat(a.getResult(!0)):(typeof a=="number"||typeof a=="string")&&(this.result="".concat(this.result," * ").concat(a)),this.lowPriority=!1,this}},{key:"div",value:function(a){return this.lowPriority&&(this.result="(".concat(this.result,")")),a instanceof t?this.result="".concat(this.result," / ").concat(a.getResult(!0)):(typeof a=="number"||typeof a=="string")&&(this.result="".concat(this.result," / ").concat(a)),this.lowPriority=!1,this}},{key:"getResult",value:function(a){return this.lowPriority||a?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(a){var o=this,l=a||{},s=l.unit,f=!0;return typeof s=="boolean"?f=s:Array.from(this.unitlessCssVar).some(function(h){return o.result.includes(h)})&&(f=!1),this.result=this.result.replace(Bj,f?"px":""),typeof this.lowPriority<"u"?"calc(".concat(this.result,")"):this.result}}]),t}(KU),Hj=function(n){Ar(t,n);var e=Gc(t);function t(r){var a;return si(this,t),a=e.call(this),de(Ln(a),"result",0),r instanceof t?a.result=r.result:typeof r=="number"&&(a.result=r),a}return li(t,[{key:"add",value:function(a){return a instanceof t?this.result+=a.result:typeof a=="number"&&(this.result+=a),this}},{key:"sub",value:function(a){return a instanceof t?this.result-=a.result:typeof a=="number"&&(this.result-=a),this}},{key:"mul",value:function(a){return a instanceof t?this.result*=a.result:typeof a=="number"&&(this.result*=a),this}},{key:"div",value:function(a){return a instanceof t?this.result/=a.result:typeof a=="number"&&(this.result/=a),this}},{key:"equal",value:function(){return this.result}}]),t}(KU),kj=function(e,t){var r=e==="css"?Fj:Hj;return function(a){return new r(a,t)}},ez=function(e,t){return"".concat([t,e.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))};function Za(n){var e=M.useRef();e.current=n;var t=M.useCallback(function(){for(var r,a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(r=e.current)===null||r===void 0?void 0:r.call.apply(r,[e].concat(o))},[]);return t}function qv(n){var e=M.useRef(!1),t=M.useState(n),r=yt(t,2),a=r[0],o=r[1];M.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]);function l(s,f){f&&e.current||o(s)}return[a,l]}function HM(n){return n!==void 0}function al(n,e){var t=e||{},r=t.defaultValue,a=t.value,o=t.onChange,l=t.postState,s=qv(function(){return HM(a)?a:HM(r)?typeof r=="function"?r():r:typeof n=="function"?n():n}),f=yt(s,2),h=f[0],v=f[1],_=a!==void 0?a:h,x=l?l(_):_,C=Za(o),c=qv([_]),p=yt(c,2),m=p[0],b=p[1];G3(function(){var A=m[0];h!==A&&C(h,A)},[m]),G3(function(){HM(a)||v(a)},[a]);var w=Za(function(A,R){v(A,R),b([_],R)});return[x,w]}function tz(n,e,t,r){var a=Ne({},e[n]);if(r!=null&&r.deprecatedTokens){var o=r.deprecatedTokens;o.forEach(function(s){var f=yt(s,2),h=f[0],v=f[1];if(a!=null&&a[h]||a!=null&&a[v]){var _;(_=a[v])!==null&&_!==void 0||(a[v]=a==null?void 0:a[h])}})}var l=Ne(Ne({},t),a);return Object.keys(l).forEach(function(s){l[s]===e[s]&&delete l[s]}),l}var JU=typeof CSSINJS_STATISTIC<"u",o2=!0;function gr(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];if(!JU)return Object.assign.apply(Object,[{}].concat(e));o2=!1;var r={};return e.forEach(function(a){if(yn(a)==="object"){var o=Object.keys(a);o.forEach(function(l){Object.defineProperty(r,l,{configurable:!0,enumerable:!0,get:function(){return a[l]}})})}}),o2=!0,r}var nz={};function $j(){}var Vj=function(e){var t,r=e,a=$j;return JU&&typeof Proxy<"u"&&(t=new Set,r=new Proxy(e,{get:function(l,s){if(o2){var f;(f=t)===null||f===void 0||f.add(s)}return l[s]}}),a=function(l,s){var f;nz[l]={global:Array.from(t),component:Ne(Ne({},(f=nz[l])===null||f===void 0?void 0:f.component),s)}}),{token:r,keys:t,flush:a}};function iz(n,e,t){if(typeof t=="function"){var r;return t(gr(e,(r=e[n])!==null&&r!==void 0?r:{}))}return t??{}}function Gj(n){return n==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return"max(".concat(r.map(function(o){return Ut(o)}).join(","),")")},min:function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return"min(".concat(r.map(function(o){return Ut(o)}).join(","),")")}}}var jj=1e3*60*10,Wj=function(){function n(){si(this,n),de(this,"map",new Map),de(this,"objectIDMap",new WeakMap),de(this,"nextID",0),de(this,"lastAccessBeat",new Map),de(this,"accessBeat",0)}return li(n,[{key:"set",value:function(t,r){this.clear();var a=this.getCompositeKey(t);this.map.set(a,r),this.lastAccessBeat.set(a,Date.now())}},{key:"get",value:function(t){var r=this.getCompositeKey(t),a=this.map.get(r);return this.lastAccessBeat.set(r,Date.now()),this.accessBeat+=1,a}},{key:"getCompositeKey",value:function(t){var r=this,a=t.map(function(o){return o&&yn(o)==="object"?"obj_".concat(r.getObjectID(o)):"".concat(yn(o),"_").concat(o)});return a.join("|")}},{key:"getObjectID",value:function(t){if(this.objectIDMap.has(t))return this.objectIDMap.get(t);var r=this.nextID;return this.objectIDMap.set(t,r),this.nextID+=1,r}},{key:"clear",value:function(){var t=this;if(this.accessBeat>1e4){var r=Date.now();this.lastAccessBeat.forEach(function(a,o){r-a>jj&&(t.map.delete(o),t.lastAccessBeat.delete(o))}),this.accessBeat=0}}}]),n}(),rz=new Wj;function Xj(n,e){return We.useMemo(function(){var t=rz.get(e);if(t)return t;var r=n();return rz.set(e,r),r},e)}var Yj=function(){return{}};function qj(n){var e=n.useCSP,t=e===void 0?Yj:e,r=n.useToken,a=n.usePrefix,o=n.getResetStyles,l=n.getCommonStyle,s=n.getCompUnitless;function f(x,C,c,p){var m=Array.isArray(x)?x[0]:x;function b(F){return"".concat(String(m)).concat(F.slice(0,1).toUpperCase()).concat(F.slice(1))}var w=(p==null?void 0:p.unitless)||{},A=typeof s=="function"?s(x):{},R=Ne(Ne({},A),{},de({},b("zIndexPopup"),!0));Object.keys(w).forEach(function(F){R[b(F)]=w[F]});var O=Ne(Ne({},p),{},{unitless:R,prefixToken:b}),P=v(x,C,c,O),D=h(m,c,O);return function(F){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:F,U=P(F,B),V=yt(U,2),Q=V[1],X=D(B),ee=yt(X,2),ae=ee[0],Z=ee[1];return[ae,Q,Z]}}function h(x,C,c){var p=c.unitless,m=c.injectStyle,b=m===void 0?!0:m,w=c.prefixToken,A=c.ignore,R=function(D){var F=D.rootCls,B=D.cssVar,U=B===void 0?{}:B,V=r(),Q=V.realToken;return sj({path:[x],prefix:U.prefix,key:U.key,unitless:p,ignore:A,token:Q,scope:F},function(){var X=iz(x,Q,C),ee=tz(x,Q,X,{deprecatedTokens:c==null?void 0:c.deprecatedTokens});return Object.keys(X).forEach(function(ae){ee[w(ae)]=ee[ae],delete ee[ae]}),ee}),null},O=function(D){var F=r(),B=F.cssVar;return[function(U){return b&&B?We.createElement(We.Fragment,null,We.createElement(R,{rootCls:D,cssVar:B,component:x}),U):U},B==null?void 0:B.key]};return O}function v(x,C,c){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},m=Array.isArray(x)?x:[x,x],b=yt(m,1),w=b[0],A=m.join("-"),R=n.layer||{name:"antd"};return function(O){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:O,D=r(),F=D.theme,B=D.realToken,U=D.hashId,V=D.token,Q=D.cssVar,X=a(),ee=X.rootPrefixCls,ae=X.iconPrefixCls,Z=t(),K=Q?"css":"js",te=Xj(function(){var j=new Set;return Q&&Object.keys(p.unitless||{}).forEach(function(pe){j.add(c1(pe,Q.prefix)),j.add(c1(pe,ez(w,Q.prefix)))}),kj(K,j)},[K,w,Q==null?void 0:Q.prefix]),ce=Gj(K),q=ce.max,J=ce.min,he={theme:F,token:V,hashId:U,nonce:function(){return Z.nonce},clientOnly:p.clientOnly,layer:R,order:p.order||-999};typeof o=="function"&&r2(Ne(Ne({},he),{},{clientOnly:!1,path:["Shared",ee]}),function(){return o(V,{prefix:{rootPrefixCls:ee,iconPrefixCls:ae},csp:Z})});var ue=r2(Ne(Ne({},he),{},{path:[A,O,ae]}),function(){if(p.injectStyle===!1)return[];var j=Vj(V),pe=j.token,_e=j.flush,Re=iz(w,B,c),Me=".".concat(O),Ae=tz(w,B,Re,{deprecatedTokens:p.deprecatedTokens});Q&&Re&&yn(Re)==="object"&&Object.keys(Re).forEach(function(we){Re[we]="var(".concat(c1(we,ez(w,Q.prefix)),")")});var Ue=gr(pe,{componentCls:Me,prefixCls:O,iconCls:".".concat(ae),antCls:".".concat(ee),calc:te,max:q,min:J},Q?Re:Ae),gt=C(Ue,{hashId:U,prefixCls:O,rootPrefixCls:ee,iconPrefixCls:ae});_e(w,Ae);var ze=typeof l=="function"?l(Ue,O,P,p.resetFont):null;return[p.resetStyle===!1?null:ze,gt]});return[ue,U]}}function _(x,C,c){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},m=v(x,C,c,Ne({resetStyle:!1,order:-998},p)),b=function(A){var R=A.prefixCls,O=A.rootCls,P=O===void 0?R:O;return m(R,P),null};return b}return{genStyleHooks:f,genSubStyleComponent:_,genComponentStyleHook:v}}const Lh=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"],Zj="5.24.3";function kM(n){return n>=0&&n<=255}function ky(n,e){const{r:t,g:r,b:a,a:o}=new Vi(n).toRgb();if(o<1)return n;const{r:l,g:s,b:f}=new Vi(e).toRgb();for(let h=.01;h<=1;h+=.01){const v=Math.round((t-l*(1-h))/h),_=Math.round((r-s*(1-h))/h),x=Math.round((a-f*(1-h))/h);if(kM(v)&&kM(_)&&kM(x))return new Vi({r:v,g:_,b:x,a:Math.round(h*100)/100}).toRgbString()}return new Vi({r:t,g:r,b:a,a:1}).toRgbString()}var Kj=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};function eB(n){const{override:e}=n,t=Kj(n,["override"]),r=Object.assign({},e);Object.keys(Pb).forEach(x=>{delete r[x]});const a=Object.assign(Object.assign({},t),r),o=480,l=576,s=768,f=992,h=1200,v=1600;if(a.motion===!1){const x="0s";a.motionDurationFast=x,a.motionDurationMid=x,a.motionDurationSlow=x}return Object.assign(Object.assign(Object.assign({},a),{colorFillContent:a.colorFillSecondary,colorFillContentHover:a.colorFill,colorFillAlter:a.colorFillQuaternary,colorBgContainerDisabled:a.colorFillTertiary,colorBorderBg:a.colorBgContainer,colorSplit:ky(a.colorBorderSecondary,a.colorBgContainer),colorTextPlaceholder:a.colorTextQuaternary,colorTextDisabled:a.colorTextQuaternary,colorTextHeading:a.colorText,colorTextLabel:a.colorTextSecondary,colorTextDescription:a.colorTextTertiary,colorTextLightSolid:a.colorWhite,colorHighlight:a.colorError,colorBgTextHover:a.colorFillSecondary,colorBgTextActive:a.colorFill,colorIcon:a.colorTextTertiary,colorIconHover:a.colorText,colorErrorOutline:ky(a.colorErrorBg,a.colorBgContainer),colorWarningOutline:ky(a.colorWarningBg,a.colorBgContainer),fontSizeIcon:a.fontSizeSM,lineWidthFocus:a.lineWidth*3,lineWidth:a.lineWidth,controlOutlineWidth:a.lineWidth*2,controlInteractiveSize:a.controlHeight/2,controlItemBgHover:a.colorFillTertiary,controlItemBgActive:a.colorPrimaryBg,controlItemBgActiveHover:a.colorPrimaryBgHover,controlItemBgActiveDisabled:a.colorFill,controlTmpOutline:a.colorFillQuaternary,controlOutline:ky(a.colorPrimaryBg,a.colorBgContainer),lineType:a.lineType,borderRadius:a.borderRadius,borderRadiusXS:a.borderRadiusXS,borderRadiusSM:a.borderRadiusSM,borderRadiusLG:a.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:a.sizeXXS,paddingXS:a.sizeXS,paddingSM:a.sizeSM,padding:a.size,paddingMD:a.sizeMD,paddingLG:a.sizeLG,paddingXL:a.sizeXL,paddingContentHorizontalLG:a.sizeLG,paddingContentVerticalLG:a.sizeMS,paddingContentHorizontal:a.sizeMS,paddingContentVertical:a.sizeSM,paddingContentHorizontalSM:a.size,paddingContentVerticalSM:a.sizeXS,marginXXS:a.sizeXXS,marginXS:a.sizeXS,marginSM:a.sizeSM,margin:a.size,marginMD:a.sizeMD,marginLG:a.sizeLG,marginXL:a.sizeXL,marginXXL:a.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:o,screenXSMin:o,screenXSMax:l-1,screenSM:l,screenSMMin:l,screenSMMax:s-1,screenMD:s,screenMDMin:s,screenMDMax:f-1,screenLG:f,screenLGMin:f,screenLGMax:h-1,screenXL:h,screenXLMin:h,screenXLMax:v-1,screenXXL:v,screenXXLMin:v,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new Vi("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new Vi("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new Vi("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}var az=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const tB={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},Qj={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},Jj={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},nB=(n,e,t)=>{const r=t.getDerivativeToken(n),{override:a}=e,o=az(e,["override"]);let l=Object.assign(Object.assign({},r),{override:a});return l=eB(l),o&&Object.entries(o).forEach(s=>{let[f,h]=s;const{theme:v}=h,_=az(h,["theme"]);let x=_;v&&(x=nB(Object.assign(Object.assign({},l),_),{override:_},v)),l[f]=x}),l};function tf(){const{token:n,hashed:e,theme:t,override:r,cssVar:a}=We.useContext(qU),o=`${Zj}-${e||""}`,l=t||YU,[s,f,h]=PG(l,[Pb,n],{salt:o,override:r,getComputedToken:nB,formatToken:eB,cssVar:a&&{prefix:a.prefix,key:a.key,unitless:tB,ignore:Qj,preserve:Jj}});return[l,h,e?f:"",s,a]}const BC={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},jc=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{boxSizing:"border-box",margin:0,padding:0,color:n.colorText,fontSize:n.fontSize,lineHeight:n.lineHeight,listStyle:"none",fontFamily:e?"inherit":n.fontFamily}},XR=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),Zv=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),e7=n=>({a:{color:n.colorLink,textDecoration:n.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${n.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:n.colorLinkHover},"&:active":{color:n.colorLinkActive},"&:active, &:hover":{textDecoration:n.linkHoverDecoration,outline:0},"&:focus":{textDecoration:n.linkFocusDecoration,outline:0},"&[disabled]":{color:n.colorTextDisabled,cursor:"not-allowed"}}}),t7=(n,e,t,r)=>{const a=`[class^="${e}"], [class*=" ${e}"]`,o=t?`.${t}`:a,l={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let s={};return r!==!1&&(s={fontFamily:n.fontFamily,fontSize:n.fontSize}),{[o]:Object.assign(Object.assign(Object.assign({},s),l),{[a]:l})}},iB=(n,e)=>({outline:`${Ut(n.lineWidthFocus)} solid ${n.colorPrimaryBorder}`,outlineOffset:e??1,transition:"outline-offset 0s, outline 0s"}),rB=(n,e)=>({"&:focus-visible":Object.assign({},iB(n,e))}),aB=n=>({[`.${n}`]:Object.assign(Object.assign({},XR()),{[`.${n} .${n}-icon`]:{display:"block"}})}),{genStyleHooks:ma,genComponentStyleHook:n7,genSubStyleComponent:oB}=qj({usePrefix:()=>{const{getPrefixCls:n,iconPrefixCls:e}=M.useContext(ei);return{rootPrefixCls:n(),iconPrefixCls:e}},useToken:()=>{const[n,e,t,r,a]=tf();return{theme:n,realToken:e,hashId:t,token:r,cssVar:a}},useCSP:()=>{const{csp:n}=M.useContext(ei);return n??{}},getResetStyles:(n,e)=>{var t;const r=e7(n);return[r,{"&":r},aB((t=e==null?void 0:e.prefix.iconPrefixCls)!==null&&t!==void 0?t:UC)]},getCommonStyle:t7,getCompUnitless:()=>tB});function i7(n,e){return Lh.reduce((t,r)=>{const a=n[`${r}1`],o=n[`${r}3`],l=n[`${r}6`],s=n[`${r}7`];return Object.assign(Object.assign({},t),e(r,{lightColor:a,lightBorderColor:o,darkColor:l,textColor:s}))},{})}const r7=(n,e)=>{const[t,r]=tf();return r2({token:r,hashId:"",path:["ant-design-icons",n],nonce:()=>e==null?void 0:e.nonce,layer:{name:"antd"}},()=>[aB(n)])},a7=Object.assign({},RC),{useId:oz}=a7,o7=()=>"",s7=typeof oz>"u"?o7:oz;function l7(n,e,t){var r;jR();const a=n||{},o=a.inherit===!1||!e?Object.assign(Object.assign({},a2),{hashed:(r=e==null?void 0:e.hashed)!==null&&r!==void 0?r:a2.hashed,cssVar:e==null?void 0:e.cssVar}):e,l=s7();return zC(()=>{var s,f;if(!n)return e;const h=Object.assign({},o.components);Object.keys(n.components||{}).forEach(x=>{h[x]=Object.assign(Object.assign({},h[x]),n.components[x])});const v=`css-var-${l.replace(/:/g,"")}`,_=((s=a.cssVar)!==null&&s!==void 0?s:o.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:t==null?void 0:t.prefixCls},typeof o.cssVar=="object"?o.cssVar:{}),typeof a.cssVar=="object"?a.cssVar:{}),{key:typeof a.cssVar=="object"&&((f=a.cssVar)===null||f===void 0?void 0:f.key)||v});return Object.assign(Object.assign(Object.assign({},o),a),{token:Object.assign(Object.assign({},o.token),a.token),components:h,cssVar:_})},[a,o],(s,f)=>s.some((h,v)=>{const _=f[v];return!Gv(h,_,!0)}))}var c7=["children"],sB=M.createContext({});function u7(n){var e=n.children,t=jn(n,c7);return M.createElement(sB.Provider,{value:t},e)}var f7=function(n){Ar(t,n);var e=Gc(t);function t(){return si(this,t),e.apply(this,arguments)}return li(t,[{key:"render",value:function(){return this.props.children}}]),t}(M.Component);function d7(n){var e=M.useReducer(function(s){return s+1},0),t=yt(e,2),r=t[1],a=M.useRef(n),o=Za(function(){return a.current}),l=Za(function(s){a.current=typeof s=="function"?s(a.current):s,r()});return[o,l]}var fh="none",KS="appear",QS="enter",JS="leave",sz="none",zc="prepare",_v="start",Sv="active",YR="end",lB="prepared";function lz(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit".concat(n)]="webkit".concat(e),t["Moz".concat(n)]="moz".concat(e),t["ms".concat(n)]="MS".concat(e),t["O".concat(n)]="o".concat(e.toLowerCase()),t}function h7(n,e){var t={animationend:lz("Animation","AnimationEnd"),transitionend:lz("Transition","TransitionEnd")};return n&&("AnimationEvent"in e||delete t.animationend.animation,"TransitionEvent"in e||delete t.transitionend.transition),t}var p7=h7(ls(),typeof window<"u"?window:{}),cB={};if(ls()){var m7=document.createElement("div");cB=m7.style}var ex={};function uB(n){if(ex[n])return ex[n];var e=p7[n];if(e)for(var t=Object.keys(e),r=t.length,a=0;a<r;a+=1){var o=t[a];if(Object.prototype.hasOwnProperty.call(e,o)&&o in cB)return ex[n]=e[o],ex[n]}return""}var fB=uB("animationend"),dB=uB("transitionend"),hB=!!(fB&&dB),cz=fB||"animationend",uz=dB||"transitionend";function fz(n,e){if(!n)return null;if(yn(n)==="object"){var t=e.replace(/-\w/g,function(r){return r[1].toUpperCase()});return n[t]}return"".concat(n,"-").concat(e)}const g7=function(n){var e=M.useRef();function t(a){a&&(a.removeEventListener(uz,n),a.removeEventListener(cz,n))}function r(a){e.current&&e.current!==a&&t(e.current),a&&a!==e.current&&(a.addEventListener(uz,n),a.addEventListener(cz,n),e.current=a)}return M.useEffect(function(){return function(){t(e.current)}},[]),[r,t]};var pB=ls()?M.useLayoutEffect:M.useEffect;const v7=function(){var n=M.useRef(null);function e(){fo.cancel(n.current)}function t(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;e();var o=fo(function(){a<=1?r({isCanceled:function(){return o!==n.current}}):t(r,a-1)});n.current=o}return M.useEffect(function(){return function(){e()}},[]),[t,e]};var y7=[zc,_v,Sv,YR],b7=[zc,lB],mB=!1,_7=!0;function gB(n){return n===Sv||n===YR}const S7=function(n,e,t){var r=qv(sz),a=yt(r,2),o=a[0],l=a[1],s=v7(),f=yt(s,2),h=f[0],v=f[1];function _(){l(zc,!0)}var x=e?b7:y7;return pB(function(){if(o!==sz&&o!==YR){var C=x.indexOf(o),c=x[C+1],p=t(o);p===mB?l(c,!0):c&&h(function(m){function b(){m.isCanceled()||l(c,!0)}p===!0?b():Promise.resolve(p).then(b)})}},[n,o]),M.useEffect(function(){return function(){v()}},[]),[_,o]};function x7(n,e,t,r){var a=r.motionEnter,o=a===void 0?!0:a,l=r.motionAppear,s=l===void 0?!0:l,f=r.motionLeave,h=f===void 0?!0:f,v=r.motionDeadline,_=r.motionLeaveImmediately,x=r.onAppearPrepare,C=r.onEnterPrepare,c=r.onLeavePrepare,p=r.onAppearStart,m=r.onEnterStart,b=r.onLeaveStart,w=r.onAppearActive,A=r.onEnterActive,R=r.onLeaveActive,O=r.onAppearEnd,P=r.onEnterEnd,D=r.onLeaveEnd,F=r.onVisibleChanged,B=qv(),U=yt(B,2),V=U[0],Q=U[1],X=d7(fh),ee=yt(X,2),ae=ee[0],Z=ee[1],K=qv(null),te=yt(K,2),ce=te[0],q=te[1],J=ae(),he=M.useRef(!1),ue=M.useRef(null);function j(){return t()}var pe=M.useRef(!1);function _e(){Z(fh),q(null,!0)}var Re=Za(function(fe){var oe=ae();if(oe!==fh){var Ee=j();if(!(fe&&!fe.deadline&&fe.target!==Ee)){var Pe=pe.current,qe;oe===KS&&Pe?qe=O==null?void 0:O(Ee,fe):oe===QS&&Pe?qe=P==null?void 0:P(Ee,fe):oe===JS&&Pe&&(qe=D==null?void 0:D(Ee,fe)),Pe&&qe!==!1&&_e()}}}),Me=g7(Re),Ae=yt(Me,1),Ue=Ae[0],gt=function(oe){switch(oe){case KS:return de(de(de({},zc,x),_v,p),Sv,w);case QS:return de(de(de({},zc,C),_v,m),Sv,A);case JS:return de(de(de({},zc,c),_v,b),Sv,R);default:return{}}},ze=M.useMemo(function(){return gt(J)},[J]),we=S7(J,!n,function(fe){if(fe===zc){var oe=ze[zc];return oe?oe(j()):mB}if(Ie in ze){var Ee;q(((Ee=ze[Ie])===null||Ee===void 0?void 0:Ee.call(ze,j(),null))||null)}return Ie===Sv&&J!==fh&&(Ue(j()),v>0&&(clearTimeout(ue.current),ue.current=setTimeout(function(){Re({deadline:!0})},v))),Ie===lB&&_e(),_7}),re=yt(we,2),Fe=re[0],Ie=re[1],Ye=gB(Ie);pe.current=Ye;var $e=M.useRef(null);pB(function(){if(!(he.current&&$e.current===e)){Q(e);var fe=he.current;he.current=!0;var oe;!fe&&e&&s&&(oe=KS),fe&&e&&o&&(oe=QS),(fe&&!e&&h||!fe&&_&&!e&&h)&&(oe=JS);var Ee=gt(oe);oe&&(n||Ee[zc])?(Z(oe),Fe()):Z(fh),$e.current=e}},[e]),M.useEffect(function(){(J===KS&&!s||J===QS&&!o||J===JS&&!h)&&Z(fh)},[s,o,h]),M.useEffect(function(){return function(){he.current=!1,clearTimeout(ue.current)}},[]);var lt=M.useRef(!1);M.useEffect(function(){V&&(lt.current=!0),V!==void 0&&J===fh&&((lt.current||V)&&(F==null||F(V)),lt.current=!0)},[V,J]);var ot=ce;return ze[zc]&&Ie===_v&&(ot=Ne({transition:"none"},ot)),[J,Ie,ot,V??e]}function w7(n){var e=n;yn(n)==="object"&&(e=n.transitionSupport);function t(a,o){return!!(a.motionName&&e&&o!==!1)}var r=M.forwardRef(function(a,o){var l=a.visible,s=l===void 0?!0:l,f=a.removeOnLeave,h=f===void 0?!0:f,v=a.forceRender,_=a.children,x=a.motionName,C=a.leavedClassName,c=a.eventProps,p=M.useContext(sB),m=p.motion,b=t(a,m),w=M.useRef(),A=M.useRef();function R(){try{return w.current instanceof HTMLElement?w.current:l1(A.current)}catch{return null}}var O=x7(b,s,R,a),P=yt(O,4),D=P[0],F=P[1],B=P[2],U=P[3],V=M.useRef(U);U&&(V.current=!0);var Q=M.useCallback(function(te){w.current=te,BR(o,te)},[o]),X,ee=Ne(Ne({},c),{},{visible:s});if(!_)X=null;else if(D===fh)U?X=_(Ne({},ee),Q):!h&&V.current&&C?X=_(Ne(Ne({},ee),{},{className:C}),Q):v||!h&&!C?X=_(Ne(Ne({},ee),{},{style:{display:"none"}}),Q):X=null;else{var ae;F===zc?ae="prepare":gB(F)?ae="active":F===_v&&(ae="start");var Z=fz(x,"".concat(D,"-").concat(ae));X=_(Ne(Ne({},ee),{},{className:et(fz(x,D),de(de({},Z,Z&&ae),x,typeof x=="string")),style:B}),Q)}if(M.isValidElement(X)&&l_(X)){var K=PC(X);K||(X=M.cloneElement(X,{ref:Q}))}return M.createElement(f7,{ref:A},X)});return r.displayName="CSSMotion",r}const Wc=w7(hB);var s2="add",l2="keep",c2="remove",$M="removed";function C7(n){var e;return n&&yn(n)==="object"&&"key"in n?e=n:e={key:n},Ne(Ne({},e),{},{key:String(e.key)})}function u2(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return n.map(C7)}function E7(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=[],r=0,a=e.length,o=u2(n),l=u2(e);o.forEach(function(h){for(var v=!1,_=r;_<a;_+=1){var x=l[_];if(x.key===h.key){r<_&&(t=t.concat(l.slice(r,_).map(function(C){return Ne(Ne({},C),{},{status:s2})})),r=_),t.push(Ne(Ne({},x),{},{status:l2})),r+=1,v=!0;break}}v||t.push(Ne(Ne({},h),{},{status:c2}))}),r<a&&(t=t.concat(l.slice(r).map(function(h){return Ne(Ne({},h),{},{status:s2})})));var s={};t.forEach(function(h){var v=h.key;s[v]=(s[v]||0)+1});var f=Object.keys(s).filter(function(h){return s[h]>1});return f.forEach(function(h){t=t.filter(function(v){var _=v.key,x=v.status;return _!==h||x!==c2}),t.forEach(function(v){v.key===h&&(v.status=l2)})}),t}var M7=["component","children","onVisibleChanged","onAllRemoved"],T7=["status"],A7=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function R7(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Wc,t=function(r){Ar(o,r);var a=Gc(o);function o(){var l;si(this,o);for(var s=arguments.length,f=new Array(s),h=0;h<s;h++)f[h]=arguments[h];return l=a.call.apply(a,[this].concat(f)),de(Ln(l),"state",{keyEntities:[]}),de(Ln(l),"removeKey",function(v){l.setState(function(_){var x=_.keyEntities.map(function(C){return C.key!==v?C:Ne(Ne({},C),{},{status:$M})});return{keyEntities:x}},function(){var _=l.state.keyEntities,x=_.filter(function(C){var c=C.status;return c!==$M}).length;x===0&&l.props.onAllRemoved&&l.props.onAllRemoved()})}),l}return li(o,[{key:"render",value:function(){var s=this,f=this.state.keyEntities,h=this.props,v=h.component,_=h.children,x=h.onVisibleChanged;h.onAllRemoved;var C=jn(h,M7),c=v||M.Fragment,p={};return A7.forEach(function(m){p[m]=C[m],delete C[m]}),delete C.keys,M.createElement(c,C,f.map(function(m,b){var w=m.status,A=jn(m,T7),R=w===s2||w===l2;return M.createElement(e,Nt({},p,{key:A.key,visible:R,eventProps:A,onVisibleChanged:function(P){x==null||x(P,{key:A.key}),P||s.removeKey(A.key)}}),function(O,P){return _(Ne(Ne({},O),{},{index:b}),P)})}))}}],[{key:"getDerivedStateFromProps",value:function(s,f){var h=s.keys,v=f.keyEntities,_=u2(h),x=E7(v,_);return{keyEntities:x.filter(function(C){var c=v.find(function(p){var m=p.key;return C.key===m});return!(c&&c.status===$M&&C.status===c2)})}}}]),o}(M.Component);return de(t,"defaultProps",{component:"div"}),t}const vB=R7(hB);function O7(n){const{children:e}=n,[,t]=tf(),{motion:r}=t,a=M.useRef(!1);return a.current=a.current||r===!1,a.current?M.createElement(u7,{motion:r},e):e}const I7=()=>null;var z7=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const P7=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"];let dw,yB,bB,_B;function v1(){return dw||Db}function D7(){return yB||UC}function L7(n){return Object.keys(n).some(e=>e.endsWith("Color"))}const N7=n=>{const{prefixCls:e,iconPrefixCls:t,theme:r,holderRender:a}=n;e!==void 0&&(dw=e),t!==void 0&&(yB=t),"holderRender"in n&&(_B=a),r&&(L7(r)?Lj(v1(),r):bB=r)},SB=()=>({getPrefixCls:(n,e)=>e||(n?`${v1()}-${n}`:v1()),getIconPrefixCls:D7,getRootPrefixCls:()=>dw||v1(),getTheme:()=>bB,holderRender:_B}),U7=n=>{const{children:e,csp:t,autoInsertSpaceInButton:r,alert:a,anchor:o,form:l,locale:s,componentSize:f,direction:h,space:v,splitter:_,virtual:x,dropdownMatchSelectWidth:C,popupMatchSelectWidth:c,popupOverflow:p,legacyLocale:m,parentContext:b,iconPrefixCls:w,theme:A,componentDisabled:R,segmented:O,statistic:P,spin:D,calendar:F,carousel:B,cascader:U,collapse:V,typography:Q,checkbox:X,descriptions:ee,divider:ae,drawer:Z,skeleton:K,steps:te,image:ce,layout:q,list:J,mentions:he,modal:ue,progress:j,result:pe,slider:_e,breadcrumb:Re,menu:Me,pagination:Ae,input:Ue,textArea:gt,empty:ze,badge:we,radio:re,rate:Fe,switch:Ie,transfer:Ye,avatar:$e,message:lt,tag:ot,table:fe,card:oe,tabs:Ee,timeline:Pe,timePicker:qe,upload:He,notification:mt,tree:st,colorPicker:ht,datePicker:It,rangePicker:at,flex:_t,wave:wt,dropdown:je,warning:it,tour:Se,tooltip:ke,popover:bt,popconfirm:Te,floatButtonGroup:St,variant:Qe,inputNumber:pt,treeSelect:Lt}=n,zt=M.useCallback((Tn,Rn)=>{const{prefixCls:ti}=n;if(Rn)return Rn;const dn=ti||b.getPrefixCls("");return Tn?`${dn}-${Tn}`:dn},[b.getPrefixCls,n.prefixCls]),Jt=w||b.iconPrefixCls||UC,cn=t||b.csp;r7(Jt,cn);const Zt=l7(A,b.theme,{prefixCls:zt("")}),Dt={csp:cn,autoInsertSpaceInButton:r,alert:a,anchor:o,locale:s||m,direction:h,space:v,splitter:_,virtual:x,popupMatchSelectWidth:c??C,popupOverflow:p,getPrefixCls:zt,iconPrefixCls:Jt,theme:Zt,segmented:O,statistic:P,spin:D,calendar:F,carousel:B,cascader:U,collapse:V,typography:Q,checkbox:X,descriptions:ee,divider:ae,drawer:Z,skeleton:K,steps:te,image:ce,input:Ue,textArea:gt,layout:q,list:J,mentions:he,modal:ue,progress:j,result:pe,slider:_e,breadcrumb:Re,menu:Me,pagination:Ae,empty:ze,badge:we,radio:re,rate:Fe,switch:Ie,transfer:Ye,avatar:$e,message:lt,tag:ot,table:fe,card:oe,tabs:Ee,timeline:Pe,timePicker:qe,upload:He,notification:mt,tree:st,colorPicker:ht,datePicker:It,rangePicker:at,flex:_t,wave:wt,dropdown:je,warning:it,tour:Se,tooltip:ke,popover:bt,popconfirm:Te,floatButtonGroup:St,variant:Qe,inputNumber:pt,treeSelect:Lt},qt=Object.assign({},b);Object.keys(Dt).forEach(Tn=>{Dt[Tn]!==void 0&&(qt[Tn]=Dt[Tn])}),P7.forEach(Tn=>{const Rn=n[Tn];Rn&&(qt[Tn]=Rn)}),typeof r<"u"&&(qt.button=Object.assign({autoInsertSpace:r},qt.button));const _n=zC(()=>qt,qt,(Tn,Rn)=>{const ti=Object.keys(Tn),dn=Object.keys(Rn);return ti.length!==dn.length||ti.some(ai=>Tn[ai]!==Rn[ai])}),{layer:cr}=M.useContext(c_),Kr=M.useMemo(()=>({prefixCls:Jt,csp:cn,layer:cr?"antd":void 0}),[Jt,cn,cr]);let Bn=M.createElement(M.Fragment,null,M.createElement(I7,{dropdownMatchSelectWidth:C}),e);const Ri=M.useMemo(()=>{var Tn,Rn,ti,dn;return bv(((Tn=Ph.Form)===null||Tn===void 0?void 0:Tn.defaultValidateMessages)||{},((ti=(Rn=_n.locale)===null||Rn===void 0?void 0:Rn.Form)===null||ti===void 0?void 0:ti.defaultValidateMessages)||{},((dn=_n.form)===null||dn===void 0?void 0:dn.validateMessages)||{},(l==null?void 0:l.validateMessages)||{})},[_n,l==null?void 0:l.validateMessages]);Object.keys(Ri).length>0&&(Bn=M.createElement(pj.Provider,{value:Ri},Bn)),s&&(Bn=M.createElement(_j,{locale:s,_ANT_MARK__:bj},Bn)),Bn=M.createElement(PR.Provider,{value:Kr},Bn),f&&(Bn=M.createElement(Nj,{size:f},Bn)),Bn=M.createElement(O7,null,Bn);const xr=M.useMemo(()=>{const Tn=Zt||{},{algorithm:Rn,token:ti,components:dn,cssVar:ai}=Tn,un=z7(Tn,["algorithm","token","components","cssVar"]),Nr=Rn&&(!Array.isArray(Rn)||Rn.length>0)?e2(Rn):YU,Ur={};Object.entries(dn||{}).forEach(zr=>{let[ur,wr]=zr;const le=Object.assign({},wr);"algorithm"in le&&(le.algorithm===!0?le.theme=Nr:(Array.isArray(le.algorithm)||typeof le.algorithm=="function")&&(le.theme=e2(le.algorithm)),delete le.algorithm),Ur[ur]=le});const Ir=Object.assign(Object.assign({},Pb),ti);return Object.assign(Object.assign({},un),{theme:Nr,token:Ir,components:Ur,override:Object.assign({override:Ir},Ur),cssVar:ai})},[Zt]);return A&&(Bn=M.createElement(qU.Provider,{value:xr},Bn)),_n.warning&&(Bn=M.createElement(hj.Provider,{value:_n.warning},Bn)),R!==void 0&&(Bn=M.createElement(ZU,{disabled:R},Bn)),M.createElement(ei.Provider,{value:_n},Bn)},gd=n=>{const e=M.useContext(ei),t=M.useContext(WR);return M.createElement(U7,Object.assign({parentContext:e,legacyLocale:t},n))};gd.ConfigContext=ei;gd.SizeContext=Yv;gd.config=N7;gd.useConfig=Uj;Object.defineProperty(gd,"SizeContext",{get:()=>Yv});var B7=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,F7=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,H7="".concat(B7," ").concat(F7).split(/[\s\n]+/),k7="aria-",$7="data-";function dz(n,e){return n.indexOf(e)===0}function h0(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t;e===!1?t={aria:!0,data:!0,attr:!0}:e===!0?t={aria:!0}:t=Ne({},e);var r={};return Object.keys(n).forEach(function(a){(t.aria&&(a==="role"||dz(a,k7))||t.data&&dz(a,$7)||t.attr&&H7.includes(a))&&(r[a]=n[a])}),r}function xB(n){return n&&We.isValidElement(n)&&n.type===We.Fragment}const V7=(n,e,t)=>We.isValidElement(n)?We.cloneElement(n,typeof t=="function"?t(n.props||{}):t):e;function sl(n,e){return V7(n,n,e)}const Xc=n=>{const[,,,,e]=tf();return e?`${n}-css-var`:""};var Lo={TAB:9,ENTER:13,ESC:27,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40},wB=M.forwardRef(function(n,e){var t=n.prefixCls,r=n.style,a=n.className,o=n.duration,l=o===void 0?4.5:o,s=n.showProgress,f=n.pauseOnHover,h=f===void 0?!0:f,v=n.eventKey,_=n.content,x=n.closable,C=n.closeIcon,c=C===void 0?"x":C,p=n.props,m=n.onClick,b=n.onNoticeClose,w=n.times,A=n.hovering,R=M.useState(!1),O=yt(R,2),P=O[0],D=O[1],F=M.useState(0),B=yt(F,2),U=B[0],V=B[1],Q=M.useState(0),X=yt(Q,2),ee=X[0],ae=X[1],Z=A||P,K=l>0&&s,te=function(){b(v)},ce=function(pe){(pe.key==="Enter"||pe.code==="Enter"||pe.keyCode===Lo.ENTER)&&te()};M.useEffect(function(){if(!Z&&l>0){var j=Date.now()-ee,pe=setTimeout(function(){te()},l*1e3-ee);return function(){h&&clearTimeout(pe),ae(Date.now()-j)}}},[l,Z,w]),M.useEffect(function(){if(!Z&&K&&(h||ee===0)){var j=performance.now(),pe,_e=function Re(){cancelAnimationFrame(pe),pe=requestAnimationFrame(function(Me){var Ae=Me+ee-j,Ue=Math.min(Ae/(l*1e3),1);V(Ue*100),Ue<1&&Re()})};return _e(),function(){h&&cancelAnimationFrame(pe)}}},[l,ee,Z,K,w]);var q=M.useMemo(function(){return yn(x)==="object"&&x!==null?x:x?{closeIcon:c}:{}},[x,c]),J=h0(q,!0),he=100-(!U||U<0?0:U>100?100:U),ue="".concat(t,"-notice");return M.createElement("div",Nt({},p,{ref:e,className:et(ue,a,de({},"".concat(ue,"-closable"),x)),style:r,onMouseEnter:function(pe){var _e;D(!0),p==null||(_e=p.onMouseEnter)===null||_e===void 0||_e.call(p,pe)},onMouseLeave:function(pe){var _e;D(!1),p==null||(_e=p.onMouseLeave)===null||_e===void 0||_e.call(p,pe)},onClick:m}),M.createElement("div",{className:"".concat(ue,"-content")},_),x&&M.createElement("a",Nt({tabIndex:0,className:"".concat(ue,"-close"),onKeyDown:ce,"aria-label":"Close"},J,{onClick:function(pe){pe.preventDefault(),pe.stopPropagation(),te()}}),q.closeIcon),K&&M.createElement("progress",{className:"".concat(ue,"-progress"),max:"100",value:he},he+"%"))}),CB=We.createContext({}),G7=function(e){var t=e.children,r=e.classNames;return We.createElement(CB.Provider,{value:{classNames:r}},t)},hz=8,pz=3,mz=16,j7=function(e){var t={offset:hz,threshold:pz,gap:mz};if(e&&yn(e)==="object"){var r,a,o;t.offset=(r=e.offset)!==null&&r!==void 0?r:hz,t.threshold=(a=e.threshold)!==null&&a!==void 0?a:pz,t.gap=(o=e.gap)!==null&&o!==void 0?o:mz}return[!!e,t]},W7=["className","style","classNames","styles"],X7=function(e){var t=e.configList,r=e.placement,a=e.prefixCls,o=e.className,l=e.style,s=e.motion,f=e.onAllNoticeRemoved,h=e.onNoticeClose,v=e.stack,_=M.useContext(CB),x=_.classNames,C=M.useRef({}),c=M.useState(null),p=yt(c,2),m=p[0],b=p[1],w=M.useState([]),A=yt(w,2),R=A[0],O=A[1],P=t.map(function(Z){return{config:Z,key:String(Z.key)}}),D=j7(v),F=yt(D,2),B=F[0],U=F[1],V=U.offset,Q=U.threshold,X=U.gap,ee=B&&(R.length>0||P.length<=Q),ae=typeof s=="function"?s(r):s;return M.useEffect(function(){B&&R.length>1&&O(function(Z){return Z.filter(function(K){return P.some(function(te){var ce=te.key;return K===ce})})})},[R,P,B]),M.useEffect(function(){var Z;if(B&&C.current[(Z=P[P.length-1])===null||Z===void 0?void 0:Z.key]){var K;b(C.current[(K=P[P.length-1])===null||K===void 0?void 0:K.key])}},[P,B]),We.createElement(vB,Nt({key:r,className:et(a,"".concat(a,"-").concat(r),x==null?void 0:x.list,o,de(de({},"".concat(a,"-stack"),!!B),"".concat(a,"-stack-expanded"),ee)),style:l,keys:P,motionAppear:!0},ae,{onAllRemoved:function(){f(r)}}),function(Z,K){var te=Z.config,ce=Z.className,q=Z.style,J=Z.index,he=te,ue=he.key,j=he.times,pe=String(ue),_e=te,Re=_e.className,Me=_e.style,Ae=_e.classNames,Ue=_e.styles,gt=jn(_e,W7),ze=P.findIndex(function(Pe){return Pe.key===pe}),we={};if(B){var re=P.length-1-(ze>-1?ze:J-1),Fe=r==="top"||r==="bottom"?"-50%":"0";if(re>0){var Ie,Ye,$e;we.height=ee?(Ie=C.current[pe])===null||Ie===void 0?void 0:Ie.offsetHeight:m==null?void 0:m.offsetHeight;for(var lt=0,ot=0;ot<re;ot++){var fe;lt+=((fe=C.current[P[P.length-1-ot].key])===null||fe===void 0?void 0:fe.offsetHeight)+X}var oe=(ee?lt:re*V)*(r.startsWith("top")?1:-1),Ee=!ee&&m!==null&&m!==void 0&&m.offsetWidth&&(Ye=C.current[pe])!==null&&Ye!==void 0&&Ye.offsetWidth?((m==null?void 0:m.offsetWidth)-V*2*(re<3?re:3))/(($e=C.current[pe])===null||$e===void 0?void 0:$e.offsetWidth):1;we.transform="translate3d(".concat(Fe,", ").concat(oe,"px, 0) scaleX(").concat(Ee,")")}else we.transform="translate3d(".concat(Fe,", 0, 0)")}return We.createElement("div",{ref:K,className:et("".concat(a,"-notice-wrapper"),ce,Ae==null?void 0:Ae.wrapper),style:Ne(Ne(Ne({},q),we),Ue==null?void 0:Ue.wrapper),onMouseEnter:function(){return O(function(qe){return qe.includes(pe)?qe:[].concat(Qt(qe),[pe])})},onMouseLeave:function(){return O(function(qe){return qe.filter(function(He){return He!==pe})})}},We.createElement(wB,Nt({},gt,{ref:function(qe){ze>-1?C.current[pe]=qe:delete C.current[pe]},prefixCls:a,classNames:Ae,styles:Ue,className:et(Re,x==null?void 0:x.notice),style:Me,times:j,key:ue,eventKey:ue,onNoticeClose:h,hovering:B&&R.length>0})))})},Y7=M.forwardRef(function(n,e){var t=n.prefixCls,r=t===void 0?"rc-notification":t,a=n.container,o=n.motion,l=n.maxCount,s=n.className,f=n.style,h=n.onAllRemoved,v=n.stack,_=n.renderNotifications,x=M.useState([]),C=yt(x,2),c=C[0],p=C[1],m=function(B){var U,V=c.find(function(Q){return Q.key===B});V==null||(U=V.onClose)===null||U===void 0||U.call(V),p(function(Q){return Q.filter(function(X){return X.key!==B})})};M.useImperativeHandle(e,function(){return{open:function(B){p(function(U){var V=Qt(U),Q=V.findIndex(function(ae){return ae.key===B.key}),X=Ne({},B);if(Q>=0){var ee;X.times=(((ee=U[Q])===null||ee===void 0?void 0:ee.times)||0)+1,V[Q]=X}else X.times=0,V.push(X);return l>0&&V.length>l&&(V=V.slice(-l)),V})},close:function(B){m(B)},destroy:function(){p([])}}});var b=M.useState({}),w=yt(b,2),A=w[0],R=w[1];M.useEffect(function(){var F={};c.forEach(function(B){var U=B.placement,V=U===void 0?"topRight":U;V&&(F[V]=F[V]||[],F[V].push(B))}),Object.keys(A).forEach(function(B){F[B]=F[B]||[]}),R(F)},[c]);var O=function(B){R(function(U){var V=Ne({},U),Q=V[B]||[];return Q.length||delete V[B],V})},P=M.useRef(!1);if(M.useEffect(function(){Object.keys(A).length>0?P.current=!0:P.current&&(h==null||h(),P.current=!1)},[A]),!a)return null;var D=Object.keys(A);return zh.createPortal(M.createElement(M.Fragment,null,D.map(function(F){var B=A[F],U=M.createElement(X7,{key:F,configList:B,placement:F,prefixCls:r,className:s==null?void 0:s(F),style:f==null?void 0:f(F),motion:o,onNoticeClose:m,onAllNoticeRemoved:O,stack:v});return _?_(U,{prefixCls:r,key:F}):U})),a)}),q7=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],Z7=function(){return document.body},gz=0;function K7(){for(var n={},e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.forEach(function(a){a&&Object.keys(a).forEach(function(o){var l=a[o];l!==void 0&&(n[o]=l)})}),n}function Q7(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.getContainer,t=e===void 0?Z7:e,r=n.motion,a=n.prefixCls,o=n.maxCount,l=n.className,s=n.style,f=n.onAllRemoved,h=n.stack,v=n.renderNotifications,_=jn(n,q7),x=M.useState(),C=yt(x,2),c=C[0],p=C[1],m=M.useRef(),b=M.createElement(Y7,{container:c,ref:m,prefixCls:a,motion:r,maxCount:o,className:l,style:s,onAllRemoved:f,stack:h,renderNotifications:v}),w=M.useState([]),A=yt(w,2),R=A[0],O=A[1],P=M.useMemo(function(){return{open:function(F){var B=K7(_,F);(B.key===null||B.key===void 0)&&(B.key="rc-notification-".concat(gz),gz+=1),O(function(U){return[].concat(Qt(U),[{type:"open",config:B}])})},close:function(F){O(function(B){return[].concat(Qt(B),[{type:"close",key:F}])})},destroy:function(){O(function(F){return[].concat(Qt(F),[{type:"destroy"}])})}}},[]);return M.useEffect(function(){p(t())}),M.useEffect(function(){if(m.current&&R.length){R.forEach(function(B){switch(B.type){case"open":m.current.open(B.config);break;case"close":m.current.close(B.key);break;case"destroy":m.current.destroy();break}});var D,F;O(function(B){return(D!==B||!F)&&(D=B,F=B.filter(function(U){return!R.includes(U)})),F})}},[R]),[P,b]}const qR=We.createContext(void 0),dh=100,J7=10,EB=dh*J7,MB={Modal:dh,Drawer:dh,Popover:dh,Popconfirm:dh,Tooltip:dh,Tour:dh,FloatButton:dh},e9={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function t9(n){return n in MB}const f_=(n,e)=>{const[,t]=tf(),r=We.useContext(qR),a=t9(n);let o;if(e!==void 0)o=[e,e];else{let l=r??0;a?l+=(r?0:t.zIndexPopupBase)+MB[n]:l+=e9[n],o=[r===void 0?e:l,l]}return o},n9=n=>{const{componentCls:e,iconCls:t,boxShadow:r,colorText:a,colorSuccess:o,colorError:l,colorWarning:s,colorInfo:f,fontSizeLG:h,motionEaseInOutCirc:v,motionDurationSlow:_,marginXS:x,paddingXS:C,borderRadiusLG:c,zIndexPopup:p,contentPadding:m,contentBg:b}=n,w=`${e}-notice`,A=new ar("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:C,transform:"translateY(0)",opacity:1}}),R=new ar("MessageMoveOut",{"0%":{maxHeight:n.height,padding:C,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),O={padding:C,textAlign:"center",[`${e}-custom-content`]:{display:"flex",alignItems:"center"},[`${e}-custom-content > ${t}`]:{marginInlineEnd:x,fontSize:h},[`${w}-content`]:{display:"inline-block",padding:m,background:b,borderRadius:c,boxShadow:r,pointerEvents:"all"},[`${e}-success > ${t}`]:{color:o},[`${e}-error > ${t}`]:{color:l},[`${e}-warning > ${t}`]:{color:s},[`${e}-info > ${t},
      ${e}-loading > ${t}`]:{color:f}};return[{[e]:Object.assign(Object.assign({},jc(n)),{color:a,position:"fixed",top:x,width:"100%",pointerEvents:"none",zIndex:p,[`${e}-move-up`]:{animationFillMode:"forwards"},[`
        ${e}-move-up-appear,
        ${e}-move-up-enter
      `]:{animationName:A,animationDuration:_,animationPlayState:"paused",animationTimingFunction:v},[`
        ${e}-move-up-appear${e}-move-up-appear-active,
        ${e}-move-up-enter${e}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${e}-move-up-leave`]:{animationName:R,animationDuration:_,animationPlayState:"paused",animationTimingFunction:v},[`${e}-move-up-leave${e}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[e]:{[`${w}-wrapper`]:Object.assign({},O)}},{[`${e}-notice-pure-panel`]:Object.assign(Object.assign({},O),{padding:0,textAlign:"start"})}]},i9=n=>({zIndexPopup:n.zIndexPopupBase+EB+10,contentBg:n.colorBgElevated,contentPadding:`${(n.controlHeightLG-n.fontSize*n.lineHeight)/2}px ${n.paddingSM}px`}),TB=ma("Message",n=>{const e=gr(n,{height:150});return[n9(e)]},i9);var r9=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const a9={info:M.createElement(hU,null),success:M.createElement(NR,null),error:M.createElement(IC,null),warning:M.createElement(dU,null),loading:M.createElement(lw,null)},AB=n=>{let{prefixCls:e,type:t,icon:r,children:a}=n;return M.createElement("div",{className:et(`${e}-custom-content`,`${e}-${t}`)},r||a9[t],M.createElement("span",null,a))},o9=n=>{const{prefixCls:e,className:t,type:r,icon:a,content:o}=n,l=r9(n,["prefixCls","className","type","icon","content"]),{getPrefixCls:s}=M.useContext(ei),f=e||s("message"),h=Xc(f),[v,_,x]=TB(f,h);return v(M.createElement(wB,Object.assign({},l,{prefixCls:f,className:et(t,_,`${f}-notice-pure-panel`,x,h),eventKey:"pure",duration:null,content:M.createElement(AB,{prefixCls:f,type:r,icon:a},o)})))};function s9(n,e){return{motionName:e??`${n}-move-up`}}function ZR(n){let e;const t=new Promise(a=>{e=n(()=>{a(!0)})}),r=()=>{e==null||e()};return r.then=(a,o)=>t.then(a,o),r.promise=t,r}var l9=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const c9=8,u9=3,f9=n=>{let{children:e,prefixCls:t}=n;const r=Xc(t),[a,o,l]=TB(t,r);return a(M.createElement(G7,{classNames:{list:et(o,l,r)}},e))},d9=(n,e)=>{let{prefixCls:t,key:r}=e;return M.createElement(f9,{prefixCls:t,key:r},n)},h9=M.forwardRef((n,e)=>{const{top:t,prefixCls:r,getContainer:a,maxCount:o,duration:l=u9,rtl:s,transitionName:f,onAllRemoved:h}=n,{getPrefixCls:v,getPopupContainer:_,message:x,direction:C}=M.useContext(ei),c=r||v("message"),p=()=>({left:"50%",transform:"translateX(-50%)",top:t??c9}),m=()=>et({[`${c}-rtl`]:s??C==="rtl"}),b=()=>s9(c,f),w=M.createElement("span",{className:`${c}-close-x`},M.createElement(u0,{className:`${c}-close-icon`})),[A,R]=Q7({prefixCls:c,style:p,className:m,motion:b,closable:!1,closeIcon:w,duration:l,getContainer:()=>(a==null?void 0:a())||(_==null?void 0:_())||document.body,maxCount:o,onAllRemoved:h,renderNotifications:d9});return M.useImperativeHandle(e,()=>Object.assign(Object.assign({},A),{prefixCls:c,message:x})),R});let vz=0;function RB(n){const e=M.useRef(null);return jR(),[M.useMemo(()=>{const r=f=>{var h;(h=e.current)===null||h===void 0||h.close(f)},a=f=>{if(!e.current){const P=()=>{};return P.then=()=>{},P}const{open:h,prefixCls:v,message:_}=e.current,x=`${v}-notice`,{content:C,icon:c,type:p,key:m,className:b,style:w,onClose:A}=f,R=l9(f,["content","icon","type","key","className","style","onClose"]);let O=m;return O==null&&(vz+=1,O=`antd-message-${vz}`),ZR(P=>(h(Object.assign(Object.assign({},R),{key:O,content:M.createElement(AB,{prefixCls:v,type:p,icon:c},C),placement:"top",className:et(p&&`${x}-${p}`,b,_==null?void 0:_.className),style:Object.assign(Object.assign({},_==null?void 0:_.style),w),onClose:()=>{A==null||A(),P()}})),()=>{r(O)}))},l={open:a,destroy:f=>{var h;f!==void 0?r(f):(h=e.current)===null||h===void 0||h.destroy()}};return["info","success","warning","error","loading"].forEach(f=>{const h=(v,_,x)=>{let C;v&&typeof v=="object"&&"content"in v?C=v:C={content:v};let c,p;typeof _=="function"?p=_:(c=_,p=x);const m=Object.assign(Object.assign({onClose:p,duration:c},C),{type:f});return a(m)};l[f]=h}),l},[]),M.createElement(h9,Object.assign({key:"message-holder"},n,{ref:e}))]}function p9(n){return RB(n)}function m9(){const[n,e]=M.useState([]),t=M.useCallback(r=>(e(a=>[].concat(Qt(a),[r])),()=>{e(a=>a.filter(o=>o!==r))}),[]);return[n,t]}function Sr(){Sr=function(){return e};var n,e={},t=Object.prototype,r=t.hasOwnProperty,a=Object.defineProperty||function(Z,K,te){Z[K]=te.value},o=typeof Symbol=="function"?Symbol:{},l=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",f=o.toStringTag||"@@toStringTag";function h(Z,K,te){return Object.defineProperty(Z,K,{value:te,enumerable:!0,configurable:!0,writable:!0}),Z[K]}try{h({},"")}catch{h=function(te,ce,q){return te[ce]=q}}function v(Z,K,te,ce){var q=K&&K.prototype instanceof b?K:b,J=Object.create(q.prototype),he=new ee(ce||[]);return a(J,"_invoke",{value:U(Z,te,he)}),J}function _(Z,K,te){try{return{type:"normal",arg:Z.call(K,te)}}catch(ce){return{type:"throw",arg:ce}}}e.wrap=v;var x="suspendedStart",C="suspendedYield",c="executing",p="completed",m={};function b(){}function w(){}function A(){}var R={};h(R,l,function(){return this});var O=Object.getPrototypeOf,P=O&&O(O(ae([])));P&&P!==t&&r.call(P,l)&&(R=P);var D=A.prototype=b.prototype=Object.create(R);function F(Z){["next","throw","return"].forEach(function(K){h(Z,K,function(te){return this._invoke(K,te)})})}function B(Z,K){function te(q,J,he,ue){var j=_(Z[q],Z,J);if(j.type!=="throw"){var pe=j.arg,_e=pe.value;return _e&&yn(_e)=="object"&&r.call(_e,"__await")?K.resolve(_e.__await).then(function(Re){te("next",Re,he,ue)},function(Re){te("throw",Re,he,ue)}):K.resolve(_e).then(function(Re){pe.value=Re,he(pe)},function(Re){return te("throw",Re,he,ue)})}ue(j.arg)}var ce;a(this,"_invoke",{value:function(J,he){function ue(){return new K(function(j,pe){te(J,he,j,pe)})}return ce=ce?ce.then(ue,ue):ue()}})}function U(Z,K,te){var ce=x;return function(q,J){if(ce===c)throw Error("Generator is already running");if(ce===p){if(q==="throw")throw J;return{value:n,done:!0}}for(te.method=q,te.arg=J;;){var he=te.delegate;if(he){var ue=V(he,te);if(ue){if(ue===m)continue;return ue}}if(te.method==="next")te.sent=te._sent=te.arg;else if(te.method==="throw"){if(ce===x)throw ce=p,te.arg;te.dispatchException(te.arg)}else te.method==="return"&&te.abrupt("return",te.arg);ce=c;var j=_(Z,K,te);if(j.type==="normal"){if(ce=te.done?p:C,j.arg===m)continue;return{value:j.arg,done:te.done}}j.type==="throw"&&(ce=p,te.method="throw",te.arg=j.arg)}}}function V(Z,K){var te=K.method,ce=Z.iterator[te];if(ce===n)return K.delegate=null,te==="throw"&&Z.iterator.return&&(K.method="return",K.arg=n,V(Z,K),K.method==="throw")||te!=="return"&&(K.method="throw",K.arg=new TypeError("The iterator does not provide a '"+te+"' method")),m;var q=_(ce,Z.iterator,K.arg);if(q.type==="throw")return K.method="throw",K.arg=q.arg,K.delegate=null,m;var J=q.arg;return J?J.done?(K[Z.resultName]=J.value,K.next=Z.nextLoc,K.method!=="return"&&(K.method="next",K.arg=n),K.delegate=null,m):J:(K.method="throw",K.arg=new TypeError("iterator result is not an object"),K.delegate=null,m)}function Q(Z){var K={tryLoc:Z[0]};1 in Z&&(K.catchLoc=Z[1]),2 in Z&&(K.finallyLoc=Z[2],K.afterLoc=Z[3]),this.tryEntries.push(K)}function X(Z){var K=Z.completion||{};K.type="normal",delete K.arg,Z.completion=K}function ee(Z){this.tryEntries=[{tryLoc:"root"}],Z.forEach(Q,this),this.reset(!0)}function ae(Z){if(Z||Z===""){var K=Z[l];if(K)return K.call(Z);if(typeof Z.next=="function")return Z;if(!isNaN(Z.length)){var te=-1,ce=function q(){for(;++te<Z.length;)if(r.call(Z,te))return q.value=Z[te],q.done=!1,q;return q.value=n,q.done=!0,q};return ce.next=ce}}throw new TypeError(yn(Z)+" is not iterable")}return w.prototype=A,a(D,"constructor",{value:A,configurable:!0}),a(A,"constructor",{value:w,configurable:!0}),w.displayName=h(A,f,"GeneratorFunction"),e.isGeneratorFunction=function(Z){var K=typeof Z=="function"&&Z.constructor;return!!K&&(K===w||(K.displayName||K.name)==="GeneratorFunction")},e.mark=function(Z){return Object.setPrototypeOf?Object.setPrototypeOf(Z,A):(Z.__proto__=A,h(Z,f,"GeneratorFunction")),Z.prototype=Object.create(D),Z},e.awrap=function(Z){return{__await:Z}},F(B.prototype),h(B.prototype,s,function(){return this}),e.AsyncIterator=B,e.async=function(Z,K,te,ce,q){q===void 0&&(q=Promise);var J=new B(v(Z,K,te,ce),q);return e.isGeneratorFunction(K)?J:J.next().then(function(he){return he.done?he.value:J.next()})},F(D),h(D,f,"Generator"),h(D,l,function(){return this}),h(D,"toString",function(){return"[object Generator]"}),e.keys=function(Z){var K=Object(Z),te=[];for(var ce in K)te.push(ce);return te.reverse(),function q(){for(;te.length;){var J=te.pop();if(J in K)return q.value=J,q.done=!1,q}return q.done=!0,q}},e.values=ae,ee.prototype={constructor:ee,reset:function(K){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(X),!K)for(var te in this)te.charAt(0)==="t"&&r.call(this,te)&&!isNaN(+te.slice(1))&&(this[te]=n)},stop:function(){this.done=!0;var K=this.tryEntries[0].completion;if(K.type==="throw")throw K.arg;return this.rval},dispatchException:function(K){if(this.done)throw K;var te=this;function ce(pe,_e){return he.type="throw",he.arg=K,te.next=pe,_e&&(te.method="next",te.arg=n),!!_e}for(var q=this.tryEntries.length-1;q>=0;--q){var J=this.tryEntries[q],he=J.completion;if(J.tryLoc==="root")return ce("end");if(J.tryLoc<=this.prev){var ue=r.call(J,"catchLoc"),j=r.call(J,"finallyLoc");if(ue&&j){if(this.prev<J.catchLoc)return ce(J.catchLoc,!0);if(this.prev<J.finallyLoc)return ce(J.finallyLoc)}else if(ue){if(this.prev<J.catchLoc)return ce(J.catchLoc,!0)}else{if(!j)throw Error("try statement without catch or finally");if(this.prev<J.finallyLoc)return ce(J.finallyLoc)}}}},abrupt:function(K,te){for(var ce=this.tryEntries.length-1;ce>=0;--ce){var q=this.tryEntries[ce];if(q.tryLoc<=this.prev&&r.call(q,"finallyLoc")&&this.prev<q.finallyLoc){var J=q;break}}J&&(K==="break"||K==="continue")&&J.tryLoc<=te&&te<=J.finallyLoc&&(J=null);var he=J?J.completion:{};return he.type=K,he.arg=te,J?(this.method="next",this.next=J.finallyLoc,m):this.complete(he)},complete:function(K,te){if(K.type==="throw")throw K.arg;return K.type==="break"||K.type==="continue"?this.next=K.arg:K.type==="return"?(this.rval=this.arg=K.arg,this.method="return",this.next="end"):K.type==="normal"&&te&&(this.next=te),m},finish:function(K){for(var te=this.tryEntries.length-1;te>=0;--te){var ce=this.tryEntries[te];if(ce.finallyLoc===K)return this.complete(ce.completion,ce.afterLoc),X(ce),m}},catch:function(K){for(var te=this.tryEntries.length-1;te>=0;--te){var ce=this.tryEntries[te];if(ce.tryLoc===K){var q=ce.completion;if(q.type==="throw"){var J=q.arg;X(ce)}return J}}throw Error("illegal catch attempt")},delegateYield:function(K,te,ce){return this.delegate={iterator:ae(K),resultName:te,nextLoc:ce},this.method==="next"&&(this.arg=n),m}},e}function yz(n,e,t,r,a,o,l){try{var s=n[o](l),f=s.value}catch(h){return void t(h)}s.done?e(f):Promise.resolve(f).then(r,a)}function il(n){return function(){var e=this,t=arguments;return new Promise(function(r,a){var o=n.apply(e,t);function l(f){yz(o,r,a,l,s,"next",f)}function s(f){yz(o,r,a,l,s,"throw",f)}l(void 0)})}}var d_=Ne({},DV),g9=d_.version,VM=d_.render,v9=d_.unmountComponentAtNode,FC;try{var y9=Number((g9||"").split(".")[0]);y9>=18&&(FC=d_.createRoot)}catch{}function bz(n){var e=d_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e&&yn(e)==="object"&&(e.usingClientEntryPoint=n)}var hw="__rc_react_root__";function b9(n,e){bz(!0);var t=e[hw]||FC(e);bz(!1),t.render(n),e[hw]=t}function _9(n,e){VM==null||VM(n,e)}function S9(n,e){if(FC){b9(n,e);return}_9(n,e)}function x9(n){return f2.apply(this,arguments)}function f2(){return f2=il(Sr().mark(function n(e){return Sr().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.resolve().then(function(){var a;(a=e[hw])===null||a===void 0||a.unmount(),delete e[hw]}));case 1:case"end":return r.stop()}},n)})),f2.apply(this,arguments)}function w9(n){v9(n)}function C9(n){return d2.apply(this,arguments)}function d2(){return d2=il(Sr().mark(function n(e){return Sr().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(FC===void 0){r.next=2;break}return r.abrupt("return",x9(e));case 2:w9(e);case 3:case"end":return r.stop()}},n)})),d2.apply(this,arguments)}const E9=(n,e)=>(S9(n,e),()=>C9(e));let M9=E9;function KR(){return M9}const GM=()=>({height:0,opacity:0}),_z=n=>{const{scrollHeight:e}=n;return{height:e,opacity:1}},T9=n=>({height:n?n.offsetHeight:0}),jM=(n,e)=>(e==null?void 0:e.deadline)===!0||e.propertyName==="height",OB=function(){return{motionName:`${arguments.length>0&&arguments[0]!==void 0?arguments[0]:Db}-motion-collapse`,onAppearStart:GM,onEnterStart:GM,onAppearActive:_z,onEnterActive:_z,onLeaveStart:T9,onLeaveActive:GM,onAppearEnd:jM,onEnterEnd:jM,onLeaveEnd:jM,motionDeadline:500}},Zu=(n,e,t)=>t!==void 0?t:`${n}-${e}`;function Uo(n,e){var t=Object.assign({},n);return Array.isArray(e)&&e.forEach(function(r){delete t[r]}),t}const QR=function(n){if(!n)return!1;if(n instanceof Element){if(n.offsetParent)return!0;if(n.getBBox){var e=n.getBBox(),t=e.width,r=e.height;if(t||r)return!0}if(n.getBoundingClientRect){var a=n.getBoundingClientRect(),o=a.width,l=a.height;if(o||l)return!0}}return!1},A9=n=>{const{componentCls:e,colorPrimary:t}=n;return{[e]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${t})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${n.motionEaseOutCirc}`,`opacity 2s ${n.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow ${n.motionDurationSlow} ${n.motionEaseInOut}`,`opacity ${n.motionDurationSlow} ${n.motionEaseInOut}`].join(",")}}}}},R9=n7("Wave",n=>[A9(n)]),IB=`${Db}-wave-target`;function WM(n){return n&&n!=="#fff"&&n!=="#ffffff"&&n!=="rgb(255, 255, 255)"&&n!=="rgba(255, 255, 255, 1)"&&!/rgba\((?:\d*, ){3}0\)/.test(n)&&n!=="transparent"}function O9(n){const{borderTopColor:e,borderColor:t,backgroundColor:r}=getComputedStyle(n);return WM(e)?e:WM(t)?t:WM(r)?r:null}function XM(n){return Number.isNaN(n)?0:n}const I9=n=>{const{className:e,target:t,component:r,registerUnmount:a}=n,o=M.useRef(null),l=M.useRef(null);M.useEffect(()=>{l.current=a()},[]);const[s,f]=M.useState(null),[h,v]=M.useState([]),[_,x]=M.useState(0),[C,c]=M.useState(0),[p,m]=M.useState(0),[b,w]=M.useState(0),[A,R]=M.useState(!1),O={left:_,top:C,width:p,height:b,borderRadius:h.map(F=>`${F}px`).join(" ")};s&&(O["--wave-color"]=s);function P(){const F=getComputedStyle(t);f(O9(t));const B=F.position==="static",{borderLeftWidth:U,borderTopWidth:V}=F;x(B?t.offsetLeft:XM(-parseFloat(U))),c(B?t.offsetTop:XM(-parseFloat(V))),m(t.offsetWidth),w(t.offsetHeight);const{borderTopLeftRadius:Q,borderTopRightRadius:X,borderBottomLeftRadius:ee,borderBottomRightRadius:ae}=F;v([Q,X,ae,ee].map(Z=>XM(parseFloat(Z))))}if(M.useEffect(()=>{if(t){const F=fo(()=>{P(),R(!0)});let B;return typeof ResizeObserver<"u"&&(B=new ResizeObserver(P),B.observe(t)),()=>{fo.cancel(F),B==null||B.disconnect()}}},[]),!A)return null;const D=(r==="Checkbox"||r==="Radio")&&(t==null?void 0:t.classList.contains(IB));return M.createElement(Wc,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(F,B)=>{var U,V;if(B.deadline||B.propertyName==="opacity"){const Q=(U=o.current)===null||U===void 0?void 0:U.parentElement;(V=l.current)===null||V===void 0||V.call(l).then(()=>{Q==null||Q.remove()})}return!1}},(F,B)=>{let{className:U}=F;return M.createElement("div",{ref:Fh(o,B),className:et(e,U,{"wave-quick":D}),style:O})})},z9=(n,e)=>{var t;const{component:r}=e;if(r==="Checkbox"&&!(!((t=n.querySelector("input"))===null||t===void 0)&&t.checked))return;const a=document.createElement("div");a.style.position="absolute",a.style.left="0px",a.style.top="0px",n==null||n.insertBefore(a,n==null?void 0:n.firstChild);const o=KR();let l=null;function s(){return l}l=o(M.createElement(I9,Object.assign({},e,{target:n,registerUnmount:s})),a)},P9=(n,e,t)=>{const{wave:r}=M.useContext(ei),[,a,o]=tf(),l=Za(h=>{const v=n.current;if(r!=null&&r.disabled||!v)return;const _=v.querySelector(`.${IB}`)||v,{showEffect:x}=r||{};(x||z9)(_,{className:e,token:a,component:t,event:h,hashId:o})}),s=M.useRef(null);return h=>{fo.cancel(s.current),s.current=fo(()=>{l(h)})}},D9=n=>{const{children:e,disabled:t,component:r}=n,{getPrefixCls:a}=M.useContext(ei),o=M.useRef(null),l=a("wave"),[,s]=R9(l),f=P9(o,et(l,s),r);if(We.useEffect(()=>{const v=o.current;if(!v||v.nodeType!==1||t)return;const _=x=>{!QR(x.target)||!v.getAttribute||v.getAttribute("disabled")||v.disabled||v.className.includes("disabled")||v.className.includes("-leave")||f(x)};return v.addEventListener("click",_,!0),()=>{v.removeEventListener("click",_,!0)}},[t]),!We.isValidElement(e))return e??null;const h=l_(e)?Fh(PC(e),o):o;return sl(e,{ref:h})},Am=n=>{const e=We.useContext(Yv);return We.useMemo(()=>n?typeof n=="string"?n??e:n instanceof Function?n(e):e:e,[n,e])},L9=n=>{const{componentCls:e}=n;return{[e]:{"&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}}}},N9=n=>{const{componentCls:e,antCls:t}=n;return{[e]:{display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}},[`${e}-item:empty`]:{display:"none"},[`${e}-item > ${t}-badge-not-a-wrapper:only-child`]:{display:"block"}}}},U9=n=>{const{componentCls:e}=n;return{[e]:{"&-gap-row-small":{rowGap:n.spaceGapSmallSize},"&-gap-row-middle":{rowGap:n.spaceGapMiddleSize},"&-gap-row-large":{rowGap:n.spaceGapLargeSize},"&-gap-col-small":{columnGap:n.spaceGapSmallSize},"&-gap-col-middle":{columnGap:n.spaceGapMiddleSize},"&-gap-col-large":{columnGap:n.spaceGapLargeSize}}}},zB=ma("Space",n=>{const e=gr(n,{spaceGapSmallSize:n.paddingXS,spaceGapMiddleSize:n.padding,spaceGapLargeSize:n.paddingLG});return[N9(e),U9(e),L9(e)]},()=>({}),{resetStyle:!1});var PB=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const HC=M.createContext(null),kC=(n,e)=>{const t=M.useContext(HC),r=M.useMemo(()=>{if(!t)return"";const{compactDirection:a,isFirstItem:o,isLastItem:l}=t,s=a==="vertical"?"-vertical-":"-";return et(`${n}-compact${s}item`,{[`${n}-compact${s}first-item`]:o,[`${n}-compact${s}last-item`]:l,[`${n}-compact${s}item-rtl`]:e==="rtl"})},[n,e,t]);return{compactSize:t==null?void 0:t.compactSize,compactDirection:t==null?void 0:t.compactDirection,compactItemClassnames:r}},B9=n=>{const{children:e}=n;return M.createElement(HC.Provider,{value:null},e)},F9=n=>{const{children:e}=n,t=PB(n,["children"]);return M.createElement(HC.Provider,{value:M.useMemo(()=>t,[t])},e)},H9=n=>{const{getPrefixCls:e,direction:t}=M.useContext(ei),{size:r,direction:a,block:o,prefixCls:l,className:s,rootClassName:f,children:h}=n,v=PB(n,["size","direction","block","prefixCls","className","rootClassName","children"]),_=Am(A=>r??A),x=e("space-compact",l),[C,c]=zB(x),p=et(x,c,{[`${x}-rtl`]:t==="rtl",[`${x}-block`]:o,[`${x}-vertical`]:a==="vertical"},s,f),m=M.useContext(HC),b=qu(h),w=M.useMemo(()=>b.map((A,R)=>{const O=(A==null?void 0:A.key)||`${x}-item-${R}`;return M.createElement(F9,{key:O,compactSize:_,compactDirection:a,isFirstItem:R===0&&(!m||(m==null?void 0:m.isFirstItem)),isLastItem:R===b.length-1&&(!m||(m==null?void 0:m.isLastItem))},A)}),[r,b,m]);return b.length===0?null:C(M.createElement("div",Object.assign({className:p},v),w))};var k9=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const DB=M.createContext(void 0),$9=n=>{const{getPrefixCls:e,direction:t}=M.useContext(ei),{prefixCls:r,size:a,className:o}=n,l=k9(n,["prefixCls","size","className"]),s=e("btn-group",r),[,,f]=tf(),h=M.useMemo(()=>{switch(a){case"large":return"lg";case"small":return"sm";default:return""}},[a]),v=et(s,{[`${s}-${h}`]:h,[`${s}-rtl`]:t==="rtl"},o,f);return M.createElement(DB.Provider,{value:a},M.createElement("div",Object.assign({},l,{className:v})))},Sz=/^[\u4E00-\u9FA5]{2}$/,h2=Sz.test.bind(Sz);function LB(n){return n==="danger"?{danger:!0}:{type:n}}function xz(n){return typeof n=="string"}function YM(n){return n==="text"||n==="link"}function V9(n,e){if(n==null)return;const t=e?" ":"";return typeof n!="string"&&typeof n!="number"&&xz(n.type)&&h2(n.props.children)?sl(n,{children:n.props.children.split("").join(t)}):xz(n)?h2(n)?We.createElement("span",null,n.split("").join(t)):We.createElement("span",null,n):xB(n)?We.createElement("span",null,n):n}function G9(n,e){let t=!1;const r=[];return We.Children.forEach(n,a=>{const o=typeof a,l=o==="string"||o==="number";if(t&&l){const s=r.length-1,f=r[s];r[s]=`${f}${a}`}else r.push(a);t=l}),We.Children.map(r,a=>V9(a,e))}["default","primary","danger"].concat(Qt(Lh));const p2=M.forwardRef((n,e)=>{const{className:t,style:r,children:a,prefixCls:o}=n,l=et(`${o}-icon`,t);return We.createElement("span",{ref:e,className:l,style:r},a)}),wz=M.forwardRef((n,e)=>{const{prefixCls:t,className:r,style:a,iconClassName:o}=n,l=et(`${t}-loading-icon`,r);return We.createElement(p2,{prefixCls:t,className:l,style:a,ref:e},We.createElement(lw,{className:o}))}),qM=()=>({width:0,opacity:0,transform:"scale(0)"}),ZM=n=>({width:n.scrollWidth,opacity:1,transform:"scale(1)"}),j9=n=>{const{prefixCls:e,loading:t,existIcon:r,className:a,style:o,mount:l}=n,s=!!t;return r?We.createElement(wz,{prefixCls:e,className:a,style:o}):We.createElement(Wc,{visible:s,motionName:`${e}-loading-icon-motion`,motionAppear:!l,motionEnter:!l,motionLeave:!l,removeOnLeave:!0,onAppearStart:qM,onAppearActive:ZM,onEnterStart:qM,onEnterActive:ZM,onLeaveStart:ZM,onLeaveActive:qM},(f,h)=>{let{className:v,style:_}=f;const x=Object.assign(Object.assign({},o),_);return We.createElement(wz,{prefixCls:e,className:et(a,v),style:x,ref:h})})},Cz=(n,e)=>({[`> span, > ${n}`]:{"&:not(:last-child)":{[`&, & > ${n}`]:{"&:not(:disabled)":{borderInlineEndColor:e}}},"&:not(:first-child)":{[`&, & > ${n}`]:{"&:not(:disabled)":{borderInlineStartColor:e}}}}}),W9=n=>{const{componentCls:e,fontSize:t,lineWidth:r,groupBorderColor:a,colorErrorHover:o}=n;return{[`${e}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:n.calc(r).mul(-1).equal(),[`&, & > ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[e]:{position:"relative",zIndex:1,"&:hover, &:focus, &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${e}-icon-only`]:{fontSize:t}},Cz(`${e}-primary`,a),Cz(`${e}-danger`,o)]}};var X9=["b"],Y9=["v"],KM=function(e){return Math.round(Number(e||0))},q9=function(e){if(e instanceof Vi)return e;if(e&&yn(e)==="object"&&"h"in e&&"b"in e){var t=e,r=t.b,a=jn(t,X9);return Ne(Ne({},a),{},{v:r})}return typeof e=="string"&&/hsb/.test(e)?e.replace(/hsb/,"hsv"):e},Lb=function(n){Ar(t,n);var e=Gc(t);function t(r){return si(this,t),e.call(this,q9(r))}return li(t,[{key:"toHsbString",value:function(){var a=this.toHsb(),o=KM(a.s*100),l=KM(a.b*100),s=KM(a.h),f=a.a,h="hsb(".concat(s,", ").concat(o,"%, ").concat(l,"%)"),v="hsba(".concat(s,", ").concat(o,"%, ").concat(l,"%, ").concat(f.toFixed(f===0?0:2),")");return f===1?h:v}},{key:"toHsb",value:function(){var a=this.toHsv(),o=a.v,l=jn(a,Y9);return Ne(Ne({},l),{},{b:o,a:this.a})}}]),t}(Vi),Z9=function(e){return e instanceof Lb?e:new Lb(e)};Z9("#1677ff");const K9=(n,e)=>(n==null?void 0:n.replace(/[^\w/]/g,"").slice(0,e?8:6))||"",Q9=(n,e)=>n?K9(n,e):"";let J9=function(){function n(e){si(this,n);var t;if(this.cleared=!1,e instanceof n){this.metaColor=e.metaColor.clone(),this.colors=(t=e.colors)===null||t===void 0?void 0:t.map(a=>({color:new n(a.color),percent:a.percent})),this.cleared=e.cleared;return}const r=Array.isArray(e);r&&e.length?(this.colors=e.map(a=>{let{color:o,percent:l}=a;return{color:new n(o),percent:l}}),this.metaColor=new Lb(this.colors[0].color.metaColor)):this.metaColor=new Lb(r?"":e),(!e||r&&!this.colors)&&(this.metaColor=this.metaColor.setA(0),this.cleared=!0)}return li(n,[{key:"toHsb",value:function(){return this.metaColor.toHsb()}},{key:"toHsbString",value:function(){return this.metaColor.toHsbString()}},{key:"toHex",value:function(){return Q9(this.toHexString(),this.metaColor.a<1)}},{key:"toHexString",value:function(){return this.metaColor.toHexString()}},{key:"toRgb",value:function(){return this.metaColor.toRgb()}},{key:"toRgbString",value:function(){return this.metaColor.toRgbString()}},{key:"isGradient",value:function(){return!!this.colors&&!this.cleared}},{key:"getColors",value:function(){return this.colors||[{color:this,percent:0}]}},{key:"toCssString",value:function(){const{colors:t}=this;return t?`linear-gradient(90deg, ${t.map(a=>`${a.color.toRgbString()} ${a.percent}%`).join(", ")})`:this.metaColor.toRgbString()}},{key:"equals",value:function(t){return!t||this.isGradient()!==t.isGradient()?!1:this.isGradient()?this.colors.length===t.colors.length&&this.colors.every((r,a)=>{const o=t.colors[a];return r.percent===o.percent&&r.color.equals(o.color)}):this.toHexString()===t.toHexString()}}])}();const NB=n=>({[n.componentCls]:{[`${n.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${n.motionDurationMid} ${n.motionEaseInOut},
        opacity ${n.motionDurationMid} ${n.motionEaseInOut} !important`}},[`${n.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${n.motionDurationMid} ${n.motionEaseInOut},
        opacity ${n.motionDurationMid} ${n.motionEaseInOut} !important`}}}),eW=n=>({animationDuration:n,animationFillMode:"both"}),tW=n=>({animationDuration:n,animationFillMode:"both"}),JR=function(n,e,t,r){const o=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${o}${n}-enter,
      ${o}${n}-appear
    `]:Object.assign(Object.assign({},eW(r)),{animationPlayState:"paused"}),[`${o}${n}-leave`]:Object.assign(Object.assign({},tW(r)),{animationPlayState:"paused"}),[`
      ${o}${n}-enter${n}-enter-active,
      ${o}${n}-appear${n}-appear-active
    `]:{animationName:e,animationPlayState:"running"},[`${o}${n}-leave${n}-leave-active`]:{animationName:t,animationPlayState:"running",pointerEvents:"none"}}},nW=new ar("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),iW=new ar("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),eO=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{antCls:t}=n,r=`${t}-fade`,a=e?"&":"";return[JR(r,nW,iW,n.motionDurationMid,e),{[`
        ${a}${r}-enter,
        ${a}${r}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${a}${r}-leave`]:{animationTimingFunction:"linear"}}]},rW=new ar("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),aW=new ar("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),oW=new ar("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),sW=new ar("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),lW=new ar("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),cW=new ar("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),uW=new ar("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),fW=new ar("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),dW={"slide-up":{inKeyframes:rW,outKeyframes:aW},"slide-down":{inKeyframes:oW,outKeyframes:sW},"slide-left":{inKeyframes:lW,outKeyframes:cW},"slide-right":{inKeyframes:uW,outKeyframes:fW}},Ez=(n,e)=>{const{antCls:t}=n,r=`${t}-${e}`,{inKeyframes:a,outKeyframes:o}=dW[e];return[JR(r,a,o,n.motionDurationMid),{[`
      ${r}-enter,
      ${r}-appear
    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:n.motionEaseOutQuint,"&-prepare":{transform:"scale(1)"}},[`${r}-leave`]:{animationTimingFunction:n.motionEaseInQuint}}]},hW=new ar("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),pW=new ar("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),Mz=new ar("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),Tz=new ar("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),mW=new ar("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),gW=new ar("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),vW=new ar("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),yW=new ar("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),bW=new ar("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),_W=new ar("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),SW=new ar("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),xW=new ar("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),wW={zoom:{inKeyframes:hW,outKeyframes:pW},"zoom-big":{inKeyframes:Mz,outKeyframes:Tz},"zoom-big-fast":{inKeyframes:Mz,outKeyframes:Tz},"zoom-left":{inKeyframes:vW,outKeyframes:yW},"zoom-right":{inKeyframes:bW,outKeyframes:_W},"zoom-up":{inKeyframes:mW,outKeyframes:gW},"zoom-down":{inKeyframes:SW,outKeyframes:xW}},h_=(n,e)=>{const{antCls:t}=n,r=`${t}-${e}`,{inKeyframes:a,outKeyframes:o}=wW[e];return[JR(r,a,o,e==="zoom-big-fast"?n.motionDurationFast:n.motionDurationMid),{[`
        ${r}-enter,
        ${r}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:n.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${r}-leave`]:{animationTimingFunction:n.motionEaseInOutCirc}}]},CW=(n,e)=>{const{r:t,g:r,b:a,a:o}=n.toRgb(),l=new Lb(n.toRgbString()).onBackground(e).toHsv();return o<=.5?l.v>.5:t*.299+r*.587+a*.114>192},UB=n=>{const{paddingInline:e,onlyIconSize:t}=n;return gr(n,{buttonPaddingHorizontal:e,buttonPaddingVertical:0,buttonIconOnlyFontSize:t})},BB=n=>{var e,t,r,a,o,l;const s=(e=n.contentFontSize)!==null&&e!==void 0?e:n.fontSize,f=(t=n.contentFontSizeSM)!==null&&t!==void 0?t:n.fontSize,h=(r=n.contentFontSizeLG)!==null&&r!==void 0?r:n.fontSizeLG,v=(a=n.contentLineHeight)!==null&&a!==void 0?a:g1(s),_=(o=n.contentLineHeightSM)!==null&&o!==void 0?o:g1(f),x=(l=n.contentLineHeightLG)!==null&&l!==void 0?l:g1(h),C=CW(new J9(n.colorBgSolid),"#fff")?"#000":"#fff",c=Lh.reduce((p,m)=>Object.assign(Object.assign({},p),{[`${m}ShadowColor`]:`0 ${Ut(n.controlOutlineWidth)} 0 ${ky(n[`${m}1`],n.colorBgContainer)}`}),{});return Object.assign(Object.assign({},c),{fontWeight:400,defaultShadow:`0 ${n.controlOutlineWidth}px 0 ${n.controlTmpOutline}`,primaryShadow:`0 ${n.controlOutlineWidth}px 0 ${n.controlOutline}`,dangerShadow:`0 ${n.controlOutlineWidth}px 0 ${n.colorErrorOutline}`,primaryColor:n.colorTextLightSolid,dangerColor:n.colorTextLightSolid,borderColorDisabled:n.colorBorder,defaultGhostColor:n.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:n.colorBgContainer,paddingInline:n.paddingContentHorizontal-n.lineWidth,paddingInlineLG:n.paddingContentHorizontal-n.lineWidth,paddingInlineSM:8-n.lineWidth,onlyIconSize:"inherit",onlyIconSizeSM:"inherit",onlyIconSizeLG:"inherit",groupBorderColor:n.colorPrimaryHover,linkHoverBg:"transparent",textTextColor:n.colorText,textTextHoverColor:n.colorText,textTextActiveColor:n.colorText,textHoverBg:n.colorFillTertiary,defaultColor:n.colorText,defaultBg:n.colorBgContainer,defaultBorderColor:n.colorBorder,defaultBorderColorDisabled:n.colorBorder,defaultHoverBg:n.colorBgContainer,defaultHoverColor:n.colorPrimaryHover,defaultHoverBorderColor:n.colorPrimaryHover,defaultActiveBg:n.colorBgContainer,defaultActiveColor:n.colorPrimaryActive,defaultActiveBorderColor:n.colorPrimaryActive,solidTextColor:C,contentFontSize:s,contentFontSizeSM:f,contentFontSizeLG:h,contentLineHeight:v,contentLineHeightSM:_,contentLineHeightLG:x,paddingBlock:Math.max((n.controlHeight-s*v)/2-n.lineWidth,0),paddingBlockSM:Math.max((n.controlHeightSM-f*_)/2-n.lineWidth,0),paddingBlockLG:Math.max((n.controlHeightLG-h*x)/2-n.lineWidth,0)})},EW=n=>{const{componentCls:e,iconCls:t,fontWeight:r,opacityLoading:a,motionDurationSlow:o,motionEaseInOut:l,marginXS:s,calc:f}=n;return{[e]:{outline:"none",position:"relative",display:"inline-flex",gap:n.marginXS,alignItems:"center",justifyContent:"center",fontWeight:r,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",background:"transparent",border:`${Ut(n.lineWidth)} ${n.lineType} transparent`,cursor:"pointer",transition:`all ${n.motionDurationMid} ${n.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",color:n.colorText,"&:disabled > *":{pointerEvents:"none"},[`${e}-icon > svg`]:XR(),"> a":{color:"currentColor"},"&:not(:disabled)":rB(n),[`&${e}-two-chinese-chars::first-letter`]:{letterSpacing:"0.34em"},[`&${e}-two-chinese-chars > *:not(${t})`]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},[`&${e}-icon-only`]:{paddingInline:0,[`&${e}-compact-item`]:{flex:"none"},[`&${e}-round`]:{width:"auto"}},[`&${e}-loading`]:{opacity:a,cursor:"default"},[`${e}-loading-icon`]:{transition:["width","opacity","margin"].map(h=>`${h} ${o} ${l}`).join(",")},[`&:not(${e}-icon-end)`]:{[`${e}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineEnd:f(s).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineEnd:0},"&-leave-start":{marginInlineEnd:0},"&-leave-active":{marginInlineEnd:f(s).mul(-1).equal()}}},"&-icon-end":{flexDirection:"row-reverse",[`${e}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineStart:f(s).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineStart:0},"&-leave-start":{marginInlineStart:0},"&-leave-active":{marginInlineStart:f(s).mul(-1).equal()}}}}}},FB=(n,e,t)=>({[`&:not(:disabled):not(${n}-disabled)`]:{"&:hover":e,"&:active":t}}),MW=n=>({minWidth:n.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),TW=n=>({borderRadius:n.controlHeight,paddingInlineStart:n.calc(n.controlHeight).div(2).equal(),paddingInlineEnd:n.calc(n.controlHeight).div(2).equal()}),AW=n=>({cursor:"not-allowed",borderColor:n.borderColorDisabled,color:n.colorTextDisabled,background:n.colorBgContainerDisabled,boxShadow:"none"}),$C=(n,e,t,r,a,o,l,s)=>({[`&${n}-background-ghost`]:Object.assign(Object.assign({color:t||void 0,background:e,borderColor:r||void 0,boxShadow:"none"},FB(n,Object.assign({background:e},l),Object.assign({background:e},s))),{"&:disabled":{cursor:"not-allowed",color:a||void 0,borderColor:o||void 0}})}),RW=n=>({[`&:disabled, &${n.componentCls}-disabled`]:Object.assign({},AW(n))}),OW=n=>({[`&:disabled, &${n.componentCls}-disabled`]:{cursor:"not-allowed",color:n.colorTextDisabled}}),VC=(n,e,t,r)=>{const o=r&&["link","text"].includes(r)?OW:RW;return Object.assign(Object.assign({},o(n)),FB(n.componentCls,e,t))},GC=(n,e,t,r,a)=>({[`&${n.componentCls}-variant-solid`]:Object.assign({color:e,background:t},VC(n,r,a))}),jC=(n,e,t,r,a)=>({[`&${n.componentCls}-variant-outlined, &${n.componentCls}-variant-dashed`]:Object.assign({borderColor:e,background:t},VC(n,r,a))}),WC=n=>({[`&${n.componentCls}-variant-dashed`]:{borderStyle:"dashed"}}),XC=(n,e,t,r)=>({[`&${n.componentCls}-variant-filled`]:Object.assign({boxShadow:"none",background:e},VC(n,t,r))}),Ku=(n,e,t,r,a)=>({[`&${n.componentCls}-variant-${t}`]:Object.assign({color:e,boxShadow:"none"},VC(n,r,a,t))}),IW=n=>{const{componentCls:e}=n;return Lh.reduce((t,r)=>{const a=n[`${r}6`],o=n[`${r}1`],l=n[`${r}5`],s=n[`${r}2`],f=n[`${r}3`],h=n[`${r}7`];return Object.assign(Object.assign({},t),{[`&${e}-color-${r}`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:a,boxShadow:n[`${r}ShadowColor`]},GC(n,n.colorTextLightSolid,a,{background:l},{background:h})),jC(n,a,n.colorBgContainer,{color:l,borderColor:l,background:n.colorBgContainer},{color:h,borderColor:h,background:n.colorBgContainer})),WC(n)),XC(n,o,{background:s},{background:f})),Ku(n,a,"link",{color:l},{color:h})),Ku(n,a,"text",{color:l,background:o},{color:h,background:f}))})},{})},zW=n=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:n.defaultColor,boxShadow:n.defaultShadow},GC(n,n.solidTextColor,n.colorBgSolid,{color:n.solidTextColor,background:n.colorBgSolidHover},{color:n.solidTextColor,background:n.colorBgSolidActive})),WC(n)),XC(n,n.colorFillTertiary,{background:n.colorFillSecondary},{background:n.colorFill})),$C(n.componentCls,n.ghostBg,n.defaultGhostColor,n.defaultGhostBorderColor,n.colorTextDisabled,n.colorBorder)),Ku(n,n.textTextColor,"link",{color:n.colorLinkHover,background:n.linkHoverBg},{color:n.colorLinkActive})),PW=n=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:n.colorPrimary,boxShadow:n.primaryShadow},jC(n,n.colorPrimary,n.colorBgContainer,{color:n.colorPrimaryTextHover,borderColor:n.colorPrimaryHover,background:n.colorBgContainer},{color:n.colorPrimaryTextActive,borderColor:n.colorPrimaryActive,background:n.colorBgContainer})),WC(n)),XC(n,n.colorPrimaryBg,{background:n.colorPrimaryBgHover},{background:n.colorPrimaryBorder})),Ku(n,n.colorPrimaryText,"text",{color:n.colorPrimaryTextHover,background:n.colorPrimaryBg},{color:n.colorPrimaryTextActive,background:n.colorPrimaryBorder})),Ku(n,n.colorPrimaryText,"link",{color:n.colorPrimaryTextHover,background:n.linkHoverBg},{color:n.colorPrimaryTextActive})),$C(n.componentCls,n.ghostBg,n.colorPrimary,n.colorPrimary,n.colorTextDisabled,n.colorBorder,{color:n.colorPrimaryHover,borderColor:n.colorPrimaryHover},{color:n.colorPrimaryActive,borderColor:n.colorPrimaryActive})),DW=n=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:n.colorError,boxShadow:n.dangerShadow},GC(n,n.dangerColor,n.colorError,{background:n.colorErrorHover},{background:n.colorErrorActive})),jC(n,n.colorError,n.colorBgContainer,{color:n.colorErrorHover,borderColor:n.colorErrorBorderHover},{color:n.colorErrorActive,borderColor:n.colorErrorActive})),WC(n)),XC(n,n.colorErrorBg,{background:n.colorErrorBgFilledHover},{background:n.colorErrorBgActive})),Ku(n,n.colorError,"text",{color:n.colorErrorHover,background:n.colorErrorBg},{color:n.colorErrorHover,background:n.colorErrorBgActive})),Ku(n,n.colorError,"link",{color:n.colorErrorHover},{color:n.colorErrorActive})),$C(n.componentCls,n.ghostBg,n.colorError,n.colorError,n.colorTextDisabled,n.colorBorder,{color:n.colorErrorHover,borderColor:n.colorErrorHover},{color:n.colorErrorActive,borderColor:n.colorErrorActive})),LW=n=>Object.assign(Object.assign({},Ku(n,n.colorLink,"link",{color:n.colorLinkHover},{color:n.colorLinkActive})),$C(n.componentCls,n.ghostBg,n.colorInfo,n.colorInfo,n.colorTextDisabled,n.colorBorder,{color:n.colorInfoHover,borderColor:n.colorInfoHover},{color:n.colorInfoActive,borderColor:n.colorInfoActive})),NW=n=>{const{componentCls:e}=n;return Object.assign({[`${e}-color-default`]:zW(n),[`${e}-color-primary`]:PW(n),[`${e}-color-dangerous`]:DW(n),[`${e}-color-link`]:LW(n)},IW(n))},UW=n=>Object.assign(Object.assign(Object.assign(Object.assign({},jC(n,n.defaultBorderColor,n.defaultBg,{color:n.defaultHoverColor,borderColor:n.defaultHoverBorderColor,background:n.defaultHoverBg},{color:n.defaultActiveColor,borderColor:n.defaultActiveBorderColor,background:n.defaultActiveBg})),Ku(n,n.textTextColor,"text",{color:n.textTextHoverColor,background:n.textHoverBg},{color:n.textTextActiveColor,background:n.colorBgTextActive})),GC(n,n.primaryColor,n.colorPrimary,{background:n.colorPrimaryHover,color:n.primaryColor},{background:n.colorPrimaryActive,color:n.primaryColor})),Ku(n,n.colorLink,"link",{color:n.colorLinkHover,background:n.linkHoverBg},{color:n.colorLinkActive})),tO=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const{componentCls:t,controlHeight:r,fontSize:a,borderRadius:o,buttonPaddingHorizontal:l,iconCls:s,buttonPaddingVertical:f,buttonIconOnlyFontSize:h}=n;return[{[e]:{fontSize:a,height:r,padding:`${Ut(f)} ${Ut(l)}`,borderRadius:o,[`&${t}-icon-only`]:{width:r,[s]:{fontSize:h}}}},{[`${t}${t}-circle${e}`]:MW(n)},{[`${t}${t}-round${e}`]:TW(n)}]},BW=n=>{const e=gr(n,{fontSize:n.contentFontSize});return tO(e,n.componentCls)},FW=n=>{const e=gr(n,{controlHeight:n.controlHeightSM,fontSize:n.contentFontSizeSM,padding:n.paddingXS,buttonPaddingHorizontal:n.paddingInlineSM,buttonPaddingVertical:0,borderRadius:n.borderRadiusSM,buttonIconOnlyFontSize:n.onlyIconSizeSM});return tO(e,`${n.componentCls}-sm`)},HW=n=>{const e=gr(n,{controlHeight:n.controlHeightLG,fontSize:n.contentFontSizeLG,buttonPaddingHorizontal:n.paddingInlineLG,buttonPaddingVertical:0,borderRadius:n.borderRadiusLG,buttonIconOnlyFontSize:n.onlyIconSizeLG});return tO(e,`${n.componentCls}-lg`)},kW=n=>{const{componentCls:e}=n;return{[e]:{[`&${e}-block`]:{width:"100%"}}}},$W=ma("Button",n=>{const e=UB(n);return[EW(e),BW(e),FW(e),HW(e),kW(e),NW(e),UW(e),W9(e)]},BB,{unitless:{fontWeight:!0,contentLineHeight:!0,contentLineHeightSM:!0,contentLineHeightLG:!0}});function VW(n,e,t){const{focusElCls:r,focus:a,borderElCls:o}=t,l=o?"> *":"",s=["hover",a?"focus":null,"active"].filter(Boolean).map(f=>`&:${f} ${l}`).join(",");return{[`&-item:not(${e}-last-item)`]:{marginInlineEnd:n.calc(n.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[s]:{zIndex:2}},r?{[`&${r}`]:{zIndex:2}}:{}),{[`&[disabled] ${l}`]:{zIndex:0}})}}function GW(n,e,t){const{borderElCls:r}=t,a=r?`> ${r}`:"";return{[`&-item:not(${e}-first-item):not(${e}-last-item) ${a}`]:{borderRadius:0},[`&-item:not(${e}-last-item)${e}-first-item`]:{[`& ${a}, &${n}-sm ${a}, &${n}-lg ${a}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${e}-first-item)${e}-last-item`]:{[`& ${a}, &${n}-sm ${a}, &${n}-lg ${a}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function HB(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:t}=n,r=`${t}-compact`;return{[r]:Object.assign(Object.assign({},VW(n,r,e)),GW(t,r,e))}}function jW(n,e){return{[`&-item:not(${e}-last-item)`]:{marginBottom:n.calc(n.lineWidth).mul(-1).equal()},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function WW(n,e){return{[`&-item:not(${e}-first-item):not(${e}-last-item)`]:{borderRadius:0},[`&-item${e}-first-item:not(${e}-last-item)`]:{[`&, &${n}-sm, &${n}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${e}-last-item:not(${e}-first-item)`]:{[`&, &${n}-sm, &${n}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function XW(n){const e=`${n.componentCls}-compact-vertical`;return{[e]:Object.assign(Object.assign({},jW(n,e)),WW(n.componentCls,e))}}const YW=n=>{const{componentCls:e,colorPrimaryHover:t,lineWidth:r,calc:a}=n,o=a(r).mul(-1).equal(),l=s=>{const f=`${e}-compact${s?"-vertical":""}-item${e}-primary:not([disabled])`;return{[`${f} + ${f}::before`]:{position:"absolute",top:s?o:0,insetInlineStart:s?0:o,backgroundColor:t,content:'""',width:s?"100%":r,height:s?r:"100%"}}};return Object.assign(Object.assign({},l()),l(!0))},qW=oB(["Button","compact"],n=>{const e=UB(n);return[HB(e),XW(e),YW(e)]},BB);var ZW=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};function KW(n){if(typeof n=="object"&&n){let e=n==null?void 0:n.delay;return e=!Number.isNaN(e)&&typeof e=="number"?e:0,{loading:e<=0,delay:e}}return{loading:!!n,delay:0}}const QW={default:["default","outlined"],primary:["primary","solid"],dashed:["default","dashed"],link:["link","link"],text:["default","text"]},JW=We.forwardRef((n,e)=>{var t,r;const{loading:a=!1,prefixCls:o,color:l,variant:s,type:f,danger:h=!1,shape:v="default",size:_,styles:x,disabled:C,className:c,rootClassName:p,children:m,icon:b,iconPosition:w="start",ghost:A=!1,block:R=!1,htmlType:O="button",classNames:P,style:D={},autoInsertSpace:F,autoFocus:B}=n,U=ZW(n,["loading","prefixCls","color","variant","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","iconPosition","ghost","block","htmlType","classNames","style","autoInsertSpace","autoFocus"]),V=f||"default",[Q,X]=M.useMemo(()=>{if(l&&s)return[l,s];const it=QW[V]||[];return h?["danger",it[1]]:it},[f,l,s,h]),ae=Q==="danger"?"dangerous":Q,{getPrefixCls:Z,direction:K,autoInsertSpace:te,className:ce,style:q,classNames:J,styles:he}=ef("button"),ue=(t=F??te)!==null&&t!==void 0?t:!0,j=Z("btn",o),[pe,_e,Re]=$W(j),Me=M.useContext(Dh),Ae=C??Me,Ue=M.useContext(DB),gt=M.useMemo(()=>KW(a),[a]),[ze,we]=M.useState(gt.loading),[re,Fe]=M.useState(!1),Ie=M.useRef(null),Ye=f0(e,Ie),$e=M.Children.count(m)===1&&!b&&!YM(X),lt=M.useRef(!0);We.useEffect(()=>(lt.current=!1,()=>{lt.current=!0}),[]),M.useEffect(()=>{let it=null;gt.delay>0?it=setTimeout(()=>{it=null,we(!0)},gt.delay):we(gt.loading);function Se(){it&&(clearTimeout(it),it=null)}return Se},[gt]),M.useEffect(()=>{if(!Ie.current||!ue)return;const it=Ie.current.textContent||"";$e&&h2(it)?re||Fe(!0):re&&Fe(!1)}),M.useEffect(()=>{B&&Ie.current&&Ie.current.focus()},[]);const ot=We.useCallback(it=>{var Se;if(ze||Ae){it.preventDefault();return}(Se=n.onClick)===null||Se===void 0||Se.call(n,("href"in n,it))},[n.onClick,ze,Ae]),{compactSize:fe,compactItemClassnames:oe}=kC(j,K),Ee={large:"lg",small:"sm",middle:void 0},Pe=Am(it=>{var Se,ke;return(ke=(Se=_??fe)!==null&&Se!==void 0?Se:Ue)!==null&&ke!==void 0?ke:it}),qe=Pe&&(r=Ee[Pe])!==null&&r!==void 0?r:"",He=ze?"loading":b,mt=Uo(U,["navigate"]),st=et(j,_e,Re,{[`${j}-${v}`]:v!=="default"&&v,[`${j}-${V}`]:V,[`${j}-dangerous`]:h,[`${j}-color-${ae}`]:ae,[`${j}-variant-${X}`]:X,[`${j}-${qe}`]:qe,[`${j}-icon-only`]:!m&&m!==0&&!!He,[`${j}-background-ghost`]:A&&!YM(X),[`${j}-loading`]:ze,[`${j}-two-chinese-chars`]:re&&ue&&!ze,[`${j}-block`]:R,[`${j}-rtl`]:K==="rtl",[`${j}-icon-end`]:w==="end"},oe,c,p,ce),ht=Object.assign(Object.assign({},q),D),It=et(P==null?void 0:P.icon,J.icon),at=Object.assign(Object.assign({},(x==null?void 0:x.icon)||{}),he.icon||{}),_t=b&&!ze?We.createElement(p2,{prefixCls:j,className:It,style:at},b):a&&typeof a=="object"&&a.icon?We.createElement(p2,{prefixCls:j,className:It,style:at},a.icon):We.createElement(j9,{existIcon:!!b,prefixCls:j,loading:ze,mount:lt.current}),wt=m||m===0?G9(m,$e&&ue):null;if(mt.href!==void 0)return pe(We.createElement("a",Object.assign({},mt,{className:et(st,{[`${j}-disabled`]:Ae}),href:Ae?void 0:mt.href,style:ht,onClick:ot,ref:Ye,tabIndex:Ae?-1:0}),_t,wt));let je=We.createElement("button",Object.assign({},U,{type:O,className:st,style:ht,onClick:ot,disabled:Ae,ref:Ye}),_t,wt,oe&&We.createElement(qW,{prefixCls:j}));return YM(X)||(je=We.createElement(D9,{component:"Button",disabled:ze},je)),pe(je)}),uo=JW;uo.Group=$9;uo.__ANT_BUTTON=!0;function QM(n){return!!(n!=null&&n.then)}const kB=n=>{const{type:e,children:t,prefixCls:r,buttonProps:a,close:o,autoFocus:l,emitEvent:s,isSilent:f,quitOnNullishReturnValue:h,actionFn:v}=n,_=M.useRef(!1),x=M.useRef(null),[C,c]=qv(!1),p=function(){o==null||o.apply(void 0,arguments)};M.useEffect(()=>{let w=null;return l&&(w=setTimeout(()=>{var A;(A=x.current)===null||A===void 0||A.focus({preventScroll:!0})})),()=>{w&&clearTimeout(w)}},[]);const m=w=>{QM(w)&&(c(!0),w.then(function(){c(!1,!0),p.apply(void 0,arguments),_.current=!1},A=>{if(c(!1,!0),_.current=!1,!(f!=null&&f()))return Promise.reject(A)}))},b=w=>{if(_.current)return;if(_.current=!0,!v){p();return}let A;if(s){if(A=v(w),h&&!QM(A)){_.current=!1,p(w);return}}else if(v.length)A=v(o),_.current=!1;else if(A=v(),!QM(A)){p();return}m(A)};return M.createElement(uo,Object.assign({},LB(e),{onClick:b,loading:C,prefixCls:r},a,{ref:x}),t)},p_=We.createContext({}),{Provider:$B}=p_,Az=()=>{const{autoFocusButton:n,cancelButtonProps:e,cancelTextLocale:t,isSilent:r,mergedOkCancel:a,rootPrefixCls:o,close:l,onCancel:s,onConfirm:f}=M.useContext(p_);return a?We.createElement(kB,{isSilent:r,actionFn:s,close:function(){l==null||l.apply(void 0,arguments),f==null||f(!1)},autoFocus:n==="cancel",buttonProps:e,prefixCls:`${o}-btn`},t):null},Rz=()=>{const{autoFocusButton:n,close:e,isSilent:t,okButtonProps:r,rootPrefixCls:a,okTextLocale:o,okType:l,onConfirm:s,onOk:f}=M.useContext(p_);return We.createElement(kB,{isSilent:t,type:l||"primary",actionFn:f,close:function(){e==null||e.apply(void 0,arguments),s==null||s(!0)},autoFocus:n==="ok",buttonProps:r,prefixCls:`${a}-btn`},o)};var VB=M.createContext(null),Oz=[];function eX(n,e){var t=M.useState(function(){if(!ls())return null;var c=document.createElement("div");return c}),r=yt(t,1),a=r[0],o=M.useRef(!1),l=M.useContext(VB),s=M.useState(Oz),f=yt(s,2),h=f[0],v=f[1],_=l||(o.current?void 0:function(c){v(function(p){var m=[c].concat(Qt(p));return m})});function x(){a.parentElement||document.body.appendChild(a),o.current=!0}function C(){var c;(c=a.parentElement)===null||c===void 0||c.removeChild(a),o.current=!1}return Ca(function(){return n?l?l(x):x():C(),C},[n]),Ca(function(){h.length&&(h.forEach(function(c){return c()}),v(Oz))},[h]),[a,_]}function tX(n){var e="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),t=document.createElement("div");t.id=e;var r=t.style;r.position="absolute",r.left="0",r.top="0",r.width="100px",r.height="100px",r.overflow="scroll";var a,o;if(n){var l=getComputedStyle(n);r.scrollbarColor=l.scrollbarColor,r.scrollbarWidth=l.scrollbarWidth;var s=getComputedStyle(n,"::-webkit-scrollbar"),f=parseInt(s.width,10),h=parseInt(s.height,10);try{var v=f?"width: ".concat(s.width,";"):"",_=h?"height: ".concat(s.height,";"):"";ad(`
#`.concat(e,`::-webkit-scrollbar {
`).concat(v,`
`).concat(_,`
}`),e)}catch(c){console.error(c),a=f,o=h}}document.body.appendChild(t);var x=n&&a&&!isNaN(a)?a:t.offsetWidth-t.clientWidth,C=n&&o&&!isNaN(o)?o:t.offsetHeight-t.clientHeight;return document.body.removeChild(t),Tb(e),{width:x,height:C}}function nX(n){return typeof document>"u"||!n||!(n instanceof Element)?{width:0,height:0}:tX(n)}function iX(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var rX="rc-util-locker-".concat(Date.now()),Iz=0;function aX(n){var e=!!n,t=M.useState(function(){return Iz+=1,"".concat(rX,"_").concat(Iz)}),r=yt(t,1),a=r[0];Ca(function(){if(e){var o=nX(document.body).width,l=iX();ad(`
html body {
  overflow-y: hidden;
  `.concat(l?"width: calc(100% - ".concat(o,"px);"):"",`
}`),a)}else Tb(a);return function(){Tb(a)}},[e,a])}var oX=!1;function sX(n){return oX}var zz=function(e){return e===!1?!1:!ls()||!e?null:typeof e=="string"?document.querySelector(e):typeof e=="function"?e():e},YC=M.forwardRef(function(n,e){var t=n.open,r=n.autoLock,a=n.getContainer;n.debug;var o=n.autoDestroy,l=o===void 0?!0:o,s=n.children,f=M.useState(t),h=yt(f,2),v=h[0],_=h[1],x=v||t;M.useEffect(function(){(l||t)&&_(t)},[t,l]);var C=M.useState(function(){return zz(a)}),c=yt(C,2),p=c[0],m=c[1];M.useEffect(function(){var V=zz(a);m(V??null)});var b=eX(x&&!p),w=yt(b,2),A=w[0],R=w[1],O=p??A;aX(r&&t&&ls()&&(O===A||O===document.body));var P=null;if(s&&l_(s)&&e){var D=s;P=D.ref}var F=f0(P,e);if(!x||!ls()||p===void 0)return null;var B=O===!1||sX(),U=s;return e&&(U=M.cloneElement(s,{ref:F})),M.createElement(VB.Provider,{value:R},B?U:zh.createPortal(U,O))}),GB=M.createContext({});function lX(){var n=Ne({},RC);return n.useId}var Pz=0,Dz=lX();const nO=Dz?function(e){var t=Dz();return e||t}:function(e){var t=M.useState("ssr-id"),r=yt(t,2),a=r[0],o=r[1];return M.useEffect(function(){var l=Pz;Pz+=1,o("rc_unique_".concat(l))},[]),e||a};function Lz(n,e,t){var r=e;return!r&&t&&(r="".concat(n,"-").concat(t)),r}function Nz(n,e){var t=n["page".concat(e?"Y":"X","Offset")],r="scroll".concat(e?"Top":"Left");if(typeof t!="number"){var a=n.document;t=a.documentElement[r],typeof t!="number"&&(t=a.body[r])}return t}function cX(n){var e=n.getBoundingClientRect(),t={left:e.left,top:e.top},r=n.ownerDocument,a=r.defaultView||r.parentWindow;return t.left+=Nz(a),t.top+=Nz(a,!0),t}const uX=M.memo(function(n){var e=n.children;return e},function(n,e){var t=e.shouldUpdate;return!t});var fX={width:0,height:0,overflow:"hidden",outline:"none"},dX={outline:"none"},jB=We.forwardRef(function(n,e){var t=n.prefixCls,r=n.className,a=n.style,o=n.title,l=n.ariaId,s=n.footer,f=n.closable,h=n.closeIcon,v=n.onClose,_=n.children,x=n.bodyStyle,C=n.bodyProps,c=n.modalRender,p=n.onMouseDown,m=n.onMouseUp,b=n.holderRef,w=n.visible,A=n.forceRender,R=n.width,O=n.height,P=n.classNames,D=n.styles,F=We.useContext(GB),B=F.panel,U=f0(b,B),V=M.useRef(),Q=M.useRef();We.useImperativeHandle(e,function(){return{focus:function(){var he;(he=V.current)===null||he===void 0||he.focus({preventScroll:!0})},changeActive:function(he){var ue=document,j=ue.activeElement;he&&j===Q.current?V.current.focus({preventScroll:!0}):!he&&j===V.current&&Q.current.focus({preventScroll:!0})}}});var X={};R!==void 0&&(X.width=R),O!==void 0&&(X.height=O);var ee=s?We.createElement("div",{className:et("".concat(t,"-footer"),P==null?void 0:P.footer),style:Ne({},D==null?void 0:D.footer)},s):null,ae=o?We.createElement("div",{className:et("".concat(t,"-header"),P==null?void 0:P.header),style:Ne({},D==null?void 0:D.header)},We.createElement("div",{className:"".concat(t,"-title"),id:l},o)):null,Z=M.useMemo(function(){return yn(f)==="object"&&f!==null?f:f?{closeIcon:h??We.createElement("span",{className:"".concat(t,"-close-x")})}:{}},[f,h,t]),K=h0(Z,!0),te=yn(f)==="object"&&f.disabled,ce=f?We.createElement("button",Nt({type:"button",onClick:v,"aria-label":"Close"},K,{className:"".concat(t,"-close"),disabled:te}),Z.closeIcon):null,q=We.createElement("div",{className:et("".concat(t,"-content"),P==null?void 0:P.content),style:D==null?void 0:D.content},ce,ae,We.createElement("div",Nt({className:et("".concat(t,"-body"),P==null?void 0:P.body),style:Ne(Ne({},x),D==null?void 0:D.body)},C),_),ee);return We.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":o?l:null,"aria-modal":"true",ref:U,style:Ne(Ne({},a),X),className:et(t,r),onMouseDown:p,onMouseUp:m},We.createElement("div",{ref:V,tabIndex:0,style:dX},We.createElement(uX,{shouldUpdate:w||A},c?c(q):q)),We.createElement("div",{tabIndex:0,ref:Q,style:fX}))}),WB=M.forwardRef(function(n,e){var t=n.prefixCls,r=n.title,a=n.style,o=n.className,l=n.visible,s=n.forceRender,f=n.destroyOnClose,h=n.motionName,v=n.ariaId,_=n.onVisibleChanged,x=n.mousePosition,C=M.useRef(),c=M.useState(),p=yt(c,2),m=p[0],b=p[1],w={};m&&(w.transformOrigin=m);function A(){var R=cX(C.current);b(x&&(x.x||x.y)?"".concat(x.x-R.left,"px ").concat(x.y-R.top,"px"):"")}return M.createElement(Wc,{visible:l,onVisibleChanged:_,onAppearPrepare:A,onEnterPrepare:A,forceRender:s,motionName:h,removeOnLeave:f,ref:C},function(R,O){var P=R.className,D=R.style;return M.createElement(jB,Nt({},n,{ref:e,title:r,ariaId:v,prefixCls:t,holderRef:O,style:Ne(Ne(Ne({},D),a),w),className:et(o,P)}))})});WB.displayName="Content";var hX=function(e){var t=e.prefixCls,r=e.style,a=e.visible,o=e.maskProps,l=e.motionName,s=e.className;return M.createElement(Wc,{key:"mask",visible:a,motionName:l,leavedClassName:"".concat(t,"-mask-hidden")},function(f,h){var v=f.className,_=f.style;return M.createElement("div",Nt({ref:h,style:Ne(Ne({},_),r),className:et("".concat(t,"-mask"),v,s)},o))})},pX=function(e){var t=e.prefixCls,r=t===void 0?"rc-dialog":t,a=e.zIndex,o=e.visible,l=o===void 0?!1:o,s=e.keyboard,f=s===void 0?!0:s,h=e.focusTriggerAfterClose,v=h===void 0?!0:h,_=e.wrapStyle,x=e.wrapClassName,C=e.wrapProps,c=e.onClose,p=e.afterOpenChange,m=e.afterClose,b=e.transitionName,w=e.animation,A=e.closable,R=A===void 0?!0:A,O=e.mask,P=O===void 0?!0:O,D=e.maskTransitionName,F=e.maskAnimation,B=e.maskClosable,U=B===void 0?!0:B,V=e.maskStyle,Q=e.maskProps,X=e.rootClassName,ee=e.classNames,ae=e.styles,Z=M.useRef(),K=M.useRef(),te=M.useRef(),ce=M.useState(l),q=yt(ce,2),J=q[0],he=q[1],ue=nO();function j(){jA(K.current,document.activeElement)||(Z.current=document.activeElement)}function pe(){if(!jA(K.current,document.activeElement)){var Fe;(Fe=te.current)===null||Fe===void 0||Fe.focus()}}function _e(Fe){if(Fe)pe();else{if(he(!1),P&&Z.current&&v){try{Z.current.focus({preventScroll:!0})}catch{}Z.current=null}J&&(m==null||m())}p==null||p(Fe)}function Re(Fe){c==null||c(Fe)}var Me=M.useRef(!1),Ae=M.useRef(),Ue=function(){clearTimeout(Ae.current),Me.current=!0},gt=function(){Ae.current=setTimeout(function(){Me.current=!1})},ze=null;U&&(ze=function(Ie){Me.current?Me.current=!1:K.current===Ie.target&&Re(Ie)});function we(Fe){if(f&&Fe.keyCode===Lo.ESC){Fe.stopPropagation(),Re(Fe);return}l&&Fe.keyCode===Lo.TAB&&te.current.changeActive(!Fe.shiftKey)}M.useEffect(function(){l&&(he(!0),j())},[l]),M.useEffect(function(){return function(){clearTimeout(Ae.current)}},[]);var re=Ne(Ne(Ne({zIndex:a},_),ae==null?void 0:ae.wrapper),{},{display:J?null:"none"});return M.createElement("div",Nt({className:et("".concat(r,"-root"),X)},h0(e,{data:!0})),M.createElement(hX,{prefixCls:r,visible:P&&l,motionName:Lz(r,D,F),style:Ne(Ne({zIndex:a},V),ae==null?void 0:ae.mask),maskProps:Q,className:ee==null?void 0:ee.mask}),M.createElement("div",Nt({tabIndex:-1,onKeyDown:we,className:et("".concat(r,"-wrap"),x,ee==null?void 0:ee.wrapper),ref:K,onClick:ze,style:re},C),M.createElement(WB,Nt({},e,{onMouseDown:Ue,onMouseUp:gt,ref:te,closable:R,ariaId:ue,prefixCls:r,visible:l&&J,onClose:Re,onVisibleChanged:_e,motionName:Lz(r,b,w)}))))},iO=function(e){var t=e.visible,r=e.getContainer,a=e.forceRender,o=e.destroyOnClose,l=o===void 0?!1:o,s=e.afterClose,f=e.panelRef,h=M.useState(t),v=yt(h,2),_=v[0],x=v[1],C=M.useMemo(function(){return{panel:f}},[f]);return M.useEffect(function(){t&&x(!0)},[t]),!a&&l&&!_?null:M.createElement(GB.Provider,{value:C},M.createElement(YC,{open:t||a||_,autoDestroy:!1,getContainer:r,autoLock:t||_},M.createElement(pX,Nt({},e,{destroyOnClose:l,afterClose:function(){s==null||s(),x(!1)}}))))};iO.displayName="Dialog";var am="RC_FORM_INTERNAL_HOOKS",pr=function(){Po(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},Kv=M.createContext({getFieldValue:pr,getFieldsValue:pr,getFieldError:pr,getFieldWarning:pr,getFieldsError:pr,isFieldsTouched:pr,isFieldTouched:pr,isFieldValidating:pr,isFieldsValidating:pr,resetFields:pr,setFields:pr,setFieldValue:pr,setFieldsValue:pr,validateFields:pr,submit:pr,getInternalHooks:function(){return pr(),{dispatch:pr,initEntityValue:pr,registerField:pr,useSubscribe:pr,setInitialValues:pr,destroyForm:pr,setCallbacks:pr,registerWatch:pr,getFields:pr,setValidateMessages:pr,setPreserve:pr,getInitialValue:pr}}}),pw=M.createContext(null);function m2(n){return n==null?[]:Array.isArray(n)?n:[n]}function mX(n){return n&&!!n._init}function g2(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var v2=g2();function gX(n){try{return Function.toString.call(n).indexOf("[native code]")!==-1}catch{return typeof n=="function"}}function vX(n,e,t){if(FR())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var a=new(n.bind.apply(n,r));return t&&Ob(a,t.prototype),a}function y2(n){var e=typeof Map=="function"?new Map:void 0;return y2=function(r){if(r===null||!gX(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(r))return e.get(r);e.set(r,a)}function a(){return vX(r,arguments,Li(this).constructor)}return a.prototype=Object.create(r.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),Ob(a,r)},y2(n)}var yX=/%[sdj%]/g,bX=function(){};function b2(n){if(!n||!n.length)return null;var e={};return n.forEach(function(t){var r=t.field;e[r]=e[r]||[],e[r].push(t)}),e}function rl(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var a=0,o=t.length;if(typeof n=="function")return n.apply(null,t);if(typeof n=="string"){var l=n.replace(yX,function(s){if(s==="%%")return"%";if(a>=o)return s;switch(s){case"%s":return String(t[a++]);case"%d":return Number(t[a++]);case"%j":try{return JSON.stringify(t[a++])}catch{return"[Circular]"}break;default:return s}});return l}return n}function _X(n){return n==="string"||n==="url"||n==="hex"||n==="email"||n==="date"||n==="pattern"}function Pa(n,e){return!!(n==null||e==="array"&&Array.isArray(n)&&!n.length||_X(e)&&typeof n=="string"&&!n)}function SX(n,e,t){var r=[],a=0,o=n.length;function l(s){r.push.apply(r,Qt(s||[])),a++,a===o&&t(r)}n.forEach(function(s){e(s,l)})}function Uz(n,e,t){var r=0,a=n.length;function o(l){if(l&&l.length){t(l);return}var s=r;r=r+1,s<a?e(n[s],o):t([])}o([])}function xX(n){var e=[];return Object.keys(n).forEach(function(t){e.push.apply(e,Qt(n[t]||[]))}),e}var Bz=function(n){Ar(t,n);var e=Gc(t);function t(r,a){var o;return si(this,t),o=e.call(this,"Async Validation Error"),de(Ln(o),"errors",void 0),de(Ln(o),"fields",void 0),o.errors=r,o.fields=a,o}return li(t)}(y2(Error));function wX(n,e,t,r,a){if(e.first){var o=new Promise(function(x,C){var c=function(b){return r(b),b.length?C(new Bz(b,b2(b))):x(a)},p=xX(n);Uz(p,t,c)});return o.catch(function(x){return x}),o}var l=e.firstFields===!0?Object.keys(n):e.firstFields||[],s=Object.keys(n),f=s.length,h=0,v=[],_=new Promise(function(x,C){var c=function(m){if(v.push.apply(v,m),h++,h===f)return r(v),v.length?C(new Bz(v,b2(v))):x(a)};s.length||(r(v),x(a)),s.forEach(function(p){var m=n[p];l.indexOf(p)!==-1?Uz(m,t,c):SX(m,t,c)})});return _.catch(function(x){return x}),_}function CX(n){return!!(n&&n.message!==void 0)}function EX(n,e){for(var t=n,r=0;r<e.length;r++){if(t==null)return t;t=t[e[r]]}return t}function Fz(n,e){return function(t){var r;return n.fullFields?r=EX(e,n.fullFields):r=e[t.field||n.fullField],CX(t)?(t.field=t.field||n.fullField,t.fieldValue=r,t):{message:typeof t=="function"?t():t,fieldValue:r,field:t.field||n.fullField}}}function Hz(n,e){if(e){for(var t in e)if(e.hasOwnProperty(t)){var r=e[t];yn(r)==="object"&&yn(n[t])==="object"?n[t]=Ne(Ne({},n[t]),r):n[t]=r}}return n}var Eg="enum",MX=function(e,t,r,a,o){e[Eg]=Array.isArray(e[Eg])?e[Eg]:[],e[Eg].indexOf(t)===-1&&a.push(rl(o.messages[Eg],e.fullField,e[Eg].join(", ")))},TX=function(e,t,r,a,o){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||a.push(rl(o.messages.pattern.mismatch,e.fullField,t,e.pattern));else if(typeof e.pattern=="string"){var l=new RegExp(e.pattern);l.test(t)||a.push(rl(o.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},AX=function(e,t,r,a,o){var l=typeof e.len=="number",s=typeof e.min=="number",f=typeof e.max=="number",h=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,v=t,_=null,x=typeof t=="number",C=typeof t=="string",c=Array.isArray(t);if(x?_="number":C?_="string":c&&(_="array"),!_)return!1;c&&(v=t.length),C&&(v=t.replace(h,"_").length),l?v!==e.len&&a.push(rl(o.messages[_].len,e.fullField,e.len)):s&&!f&&v<e.min?a.push(rl(o.messages[_].min,e.fullField,e.min)):f&&!s&&v>e.max?a.push(rl(o.messages[_].max,e.fullField,e.max)):s&&f&&(v<e.min||v>e.max)&&a.push(rl(o.messages[_].range,e.fullField,e.min,e.max))},XB=function(e,t,r,a,o,l){e.required&&(!r.hasOwnProperty(e.field)||Pa(t,l||e.type))&&a.push(rl(o.messages.required,e.fullField))},tx;const RX=function(){if(tx)return tx;var n="[a-fA-F\\d:]",e=function(P){return P&&P.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(n,")|(?<=").concat(n,")(?=\\s|$))"):""},t="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",a=["(?:".concat(r,":){7}(?:").concat(r,"|:)"),"(?:".concat(r,":){6}(?:").concat(t,"|:").concat(r,"|:)"),"(?:".concat(r,":){5}(?::").concat(t,"|(?::").concat(r,"){1,2}|:)"),"(?:".concat(r,":){4}(?:(?::").concat(r,"){0,1}:").concat(t,"|(?::").concat(r,"){1,3}|:)"),"(?:".concat(r,":){3}(?:(?::").concat(r,"){0,2}:").concat(t,"|(?::").concat(r,"){1,4}|:)"),"(?:".concat(r,":){2}(?:(?::").concat(r,"){0,3}:").concat(t,"|(?::").concat(r,"){1,5}|:)"),"(?:".concat(r,":){1}(?:(?::").concat(r,"){0,4}:").concat(t,"|(?::").concat(r,"){1,6}|:)"),"(?::(?:(?::".concat(r,"){0,5}:").concat(t,"|(?::").concat(r,"){1,7}|:))")],o="(?:%[0-9a-zA-Z]{1,})?",l="(?:".concat(a.join("|"),")").concat(o),s=new RegExp("(?:^".concat(t,"$)|(?:^").concat(l,"$)")),f=new RegExp("^".concat(t,"$")),h=new RegExp("^".concat(l,"$")),v=function(P){return P&&P.exact?s:new RegExp("(?:".concat(e(P)).concat(t).concat(e(P),")|(?:").concat(e(P)).concat(l).concat(e(P),")"),"g")};v.v4=function(O){return O&&O.exact?f:new RegExp("".concat(e(O)).concat(t).concat(e(O)),"g")},v.v6=function(O){return O&&O.exact?h:new RegExp("".concat(e(O)).concat(l).concat(e(O)),"g")};var _="(?:(?:[a-z]+:)?//)",x="(?:\\S+(?::\\S*)?@)?",C=v.v4().source,c=v.v6().source,p="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",m="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",b="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",w="(?::\\d{2,5})?",A='(?:[/?#][^\\s"]*)?',R="(?:".concat(_,"|www\\.)").concat(x,"(?:localhost|").concat(C,"|").concat(c,"|").concat(p).concat(m).concat(b,")").concat(w).concat(A);return tx=new RegExp("(?:^".concat(R,"$)"),"i"),tx};var kz={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},$y={integer:function(e){return $y.number(e)&&parseInt(e,10)===e},float:function(e){return $y.number(e)&&!$y.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return yn(e)==="object"&&!$y.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(kz.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(RX())},hex:function(e){return typeof e=="string"&&!!e.match(kz.hex)}},OX=function(e,t,r,a,o){if(e.required&&t===void 0){XB(e,t,r,a,o);return}var l=["integer","float","array","regexp","object","method","email","number","date","url","hex"],s=e.type;l.indexOf(s)>-1?$y[s](t)||a.push(rl(o.messages.types[s],e.fullField,e.type)):s&&yn(t)!==e.type&&a.push(rl(o.messages.types[s],e.fullField,e.type))},IX=function(e,t,r,a,o){(/^\s+$/.test(t)||t==="")&&a.push(rl(o.messages.whitespace,e.fullField))};const Ti={required:XB,whitespace:IX,type:OX,range:AX,enum:MX,pattern:TX};var zX=function(e,t,r,a,o){var l=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(Pa(t)&&!e.required)return r();Ti.required(e,t,a,l,o)}r(l)},PX=function(e,t,r,a,o){var l=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(t==null&&!e.required)return r();Ti.required(e,t,a,l,o,"array"),t!=null&&(Ti.type(e,t,a,l,o),Ti.range(e,t,a,l,o))}r(l)},DX=function(e,t,r,a,o){var l=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(Pa(t)&&!e.required)return r();Ti.required(e,t,a,l,o),t!==void 0&&Ti.type(e,t,a,l,o)}r(l)},LX=function(e,t,r,a,o){var l=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(Pa(t,"date")&&!e.required)return r();if(Ti.required(e,t,a,l,o),!Pa(t,"date")){var f;t instanceof Date?f=t:f=new Date(t),Ti.type(e,f,a,l,o),f&&Ti.range(e,f.getTime(),a,l,o)}}r(l)},NX="enum",UX=function(e,t,r,a,o){var l=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(Pa(t)&&!e.required)return r();Ti.required(e,t,a,l,o),t!==void 0&&Ti[NX](e,t,a,l,o)}r(l)},BX=function(e,t,r,a,o){var l=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(Pa(t)&&!e.required)return r();Ti.required(e,t,a,l,o),t!==void 0&&(Ti.type(e,t,a,l,o),Ti.range(e,t,a,l,o))}r(l)},FX=function(e,t,r,a,o){var l=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(Pa(t)&&!e.required)return r();Ti.required(e,t,a,l,o),t!==void 0&&(Ti.type(e,t,a,l,o),Ti.range(e,t,a,l,o))}r(l)},HX=function(e,t,r,a,o){var l=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(Pa(t)&&!e.required)return r();Ti.required(e,t,a,l,o),t!==void 0&&Ti.type(e,t,a,l,o)}r(l)},kX=function(e,t,r,a,o){var l=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(t===""&&(t=void 0),Pa(t)&&!e.required)return r();Ti.required(e,t,a,l,o),t!==void 0&&(Ti.type(e,t,a,l,o),Ti.range(e,t,a,l,o))}r(l)},$X=function(e,t,r,a,o){var l=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(Pa(t)&&!e.required)return r();Ti.required(e,t,a,l,o),t!==void 0&&Ti.type(e,t,a,l,o)}r(l)},VX=function(e,t,r,a,o){var l=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(Pa(t,"string")&&!e.required)return r();Ti.required(e,t,a,l,o),Pa(t,"string")||Ti.pattern(e,t,a,l,o)}r(l)},GX=function(e,t,r,a,o){var l=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(Pa(t)&&!e.required)return r();Ti.required(e,t,a,l,o),Pa(t)||Ti.type(e,t,a,l,o)}r(l)},jX=function(e,t,r,a,o){var l=[],s=Array.isArray(t)?"array":yn(t);Ti.required(e,t,a,l,o,s),r(l)},WX=function(e,t,r,a,o){var l=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(Pa(t,"string")&&!e.required)return r();Ti.required(e,t,a,l,o,"string"),Pa(t,"string")||(Ti.type(e,t,a,l,o),Ti.range(e,t,a,l,o),Ti.pattern(e,t,a,l,o),e.whitespace===!0&&Ti.whitespace(e,t,a,l,o))}r(l)},JM=function(e,t,r,a,o){var l=e.type,s=[],f=e.required||!e.required&&a.hasOwnProperty(e.field);if(f){if(Pa(t,l)&&!e.required)return r();Ti.required(e,t,a,s,o,l),Pa(t,l)||Ti.type(e,t,a,s,o)}r(s)};const ub={string:WX,method:HX,number:kX,boolean:DX,regexp:GX,integer:FX,float:BX,array:PX,object:$X,enum:UX,pattern:VX,date:LX,url:JM,hex:JM,email:JM,required:jX,any:zX};var m_=function(){function n(e){si(this,n),de(this,"rules",null),de(this,"_messages",v2),this.define(e)}return li(n,[{key:"define",value:function(t){var r=this;if(!t)throw new Error("Cannot configure a schema with no rules");if(yn(t)!=="object"||Array.isArray(t))throw new Error("Rules must be an object");this.rules={},Object.keys(t).forEach(function(a){var o=t[a];r.rules[a]=Array.isArray(o)?o:[o]})}},{key:"messages",value:function(t){return t&&(this._messages=Hz(g2(),t)),this._messages}},{key:"validate",value:function(t){var r=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},l=t,s=a,f=o;if(typeof s=="function"&&(f=s,s={}),!this.rules||Object.keys(this.rules).length===0)return f&&f(null,l),Promise.resolve(l);function h(c){var p=[],m={};function b(A){if(Array.isArray(A)){var R;p=(R=p).concat.apply(R,Qt(A))}else p.push(A)}for(var w=0;w<c.length;w++)b(c[w]);p.length?(m=b2(p),f(p,m)):f(null,l)}if(s.messages){var v=this.messages();v===v2&&(v=g2()),Hz(v,s.messages),s.messages=v}else s.messages=this.messages();var _={},x=s.keys||Object.keys(this.rules);x.forEach(function(c){var p=r.rules[c],m=l[c];p.forEach(function(b){var w=b;typeof w.transform=="function"&&(l===t&&(l=Ne({},l)),m=l[c]=w.transform(m),m!=null&&(w.type=w.type||(Array.isArray(m)?"array":yn(m)))),typeof w=="function"?w={validator:w}:w=Ne({},w),w.validator=r.getValidationMethod(w),w.validator&&(w.field=c,w.fullField=w.fullField||c,w.type=r.getType(w),_[c]=_[c]||[],_[c].push({rule:w,value:m,source:l,field:c}))})});var C={};return wX(_,s,function(c,p){var m=c.rule,b=(m.type==="object"||m.type==="array")&&(yn(m.fields)==="object"||yn(m.defaultField)==="object");b=b&&(m.required||!m.required&&c.value),m.field=c.field;function w(D,F){return Ne(Ne({},F),{},{fullField:"".concat(m.fullField,".").concat(D),fullFields:m.fullFields?[].concat(Qt(m.fullFields),[D]):[D]})}function A(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],F=Array.isArray(D)?D:[D];!s.suppressWarning&&F.length&&n.warning("async-validator:",F),F.length&&m.message!==void 0&&(F=[].concat(m.message));var B=F.map(Fz(m,l));if(s.first&&B.length)return C[m.field]=1,p(B);if(!b)p(B);else{if(m.required&&!c.value)return m.message!==void 0?B=[].concat(m.message).map(Fz(m,l)):s.error&&(B=[s.error(m,rl(s.messages.required,m.field))]),p(B);var U={};m.defaultField&&Object.keys(c.value).map(function(X){U[X]=m.defaultField}),U=Ne(Ne({},U),c.rule.fields);var V={};Object.keys(U).forEach(function(X){var ee=U[X],ae=Array.isArray(ee)?ee:[ee];V[X]=ae.map(w.bind(null,X))});var Q=new n(V);Q.messages(s.messages),c.rule.options&&(c.rule.options.messages=s.messages,c.rule.options.error=s.error),Q.validate(c.value,c.rule.options||s,function(X){var ee=[];B&&B.length&&ee.push.apply(ee,Qt(B)),X&&X.length&&ee.push.apply(ee,Qt(X)),p(ee.length?ee:null)})}}var R;if(m.asyncValidator)R=m.asyncValidator(m,c.value,A,c.source,s);else if(m.validator){try{R=m.validator(m,c.value,A,c.source,s)}catch(D){var O,P;(O=(P=console).error)===null||O===void 0||O.call(P,D),s.suppressValidatorError||setTimeout(function(){throw D},0),A(D.message)}R===!0?A():R===!1?A(typeof m.message=="function"?m.message(m.fullField||m.field):m.message||"".concat(m.fullField||m.field," fails")):R instanceof Array?A(R):R instanceof Error&&A(R.message)}R&&R.then&&R.then(function(){return A()},function(D){return A(D)})},function(c){h(c)},l)}},{key:"getType",value:function(t){if(t.type===void 0&&t.pattern instanceof RegExp&&(t.type="pattern"),typeof t.validator!="function"&&t.type&&!ub.hasOwnProperty(t.type))throw new Error(rl("Unknown rule type %s",t.type));return t.type||"string"}},{key:"getValidationMethod",value:function(t){if(typeof t.validator=="function")return t.validator;var r=Object.keys(t),a=r.indexOf("message");return a!==-1&&r.splice(a,1),r.length===1&&r[0]==="required"?ub.required:ub[this.getType(t)]||void 0}}]),n}();de(m_,"register",function(e,t){if(typeof t!="function")throw new Error("Cannot register a validator by type, validator is not a function");ub[e]=t});de(m_,"warning",bX);de(m_,"messages",v2);de(m_,"validators",ub);var Zs="'${name}' is not a valid ${type}",YB={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:Zs,method:Zs,array:Zs,object:Zs,number:Zs,date:Zs,boolean:Zs,integer:Zs,float:Zs,regexp:Zs,email:Zs,url:Zs,hex:Zs},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},$z=m_;function XX(n,e){return n.replace(/\\?\$\{\w+\}/g,function(t){if(t.startsWith("\\"))return t.slice(1);var r=t.slice(2,-1);return e[r]})}var Vz="CODE_LOGIC_ERROR";function _2(n,e,t,r,a){return S2.apply(this,arguments)}function S2(){return S2=il(Sr().mark(function n(e,t,r,a,o){var l,s,f,h,v,_,x,C,c;return Sr().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return l=Ne({},r),delete l.ruleIndex,$z.warning=function(){},l.validator&&(s=l.validator,l.validator=function(){try{return s.apply(void 0,arguments)}catch(b){return console.error(b),Promise.reject(Vz)}}),f=null,l&&l.type==="array"&&l.defaultField&&(f=l.defaultField,delete l.defaultField),h=new $z(de({},e,[l])),v=bv(YB,a.validateMessages),h.messages(v),_=[],m.prev=10,m.next=13,Promise.resolve(h.validate(de({},e,t),Ne({},a)));case 13:m.next=18;break;case 15:m.prev=15,m.t0=m.catch(10),m.t0.errors&&(_=m.t0.errors.map(function(b,w){var A=b.message,R=A===Vz?v.default:A;return M.isValidElement(R)?M.cloneElement(R,{key:"error_".concat(w)}):R}));case 18:if(!(!_.length&&f)){m.next=23;break}return m.next=21,Promise.all(t.map(function(b,w){return _2("".concat(e,".").concat(w),b,f,a,o)}));case 21:return x=m.sent,m.abrupt("return",x.reduce(function(b,w){return[].concat(Qt(b),Qt(w))},[]));case 23:return C=Ne(Ne({},r),{},{name:e,enum:(r.enum||[]).join(", ")},o),c=_.map(function(b){return typeof b=="string"?XX(b,C):b}),m.abrupt("return",c);case 26:case"end":return m.stop()}},n,null,[[10,15]])})),S2.apply(this,arguments)}function YX(n,e,t,r,a,o){var l=n.join("."),s=t.map(function(v,_){var x=v.validator,C=Ne(Ne({},v),{},{ruleIndex:_});return x&&(C.validator=function(c,p,m){var b=!1,w=function(){for(var O=arguments.length,P=new Array(O),D=0;D<O;D++)P[D]=arguments[D];Promise.resolve().then(function(){Po(!b,"Your validator function has already return a promise. `callback` will be ignored."),b||m.apply(void 0,P)})},A=x(c,p,w);b=A&&typeof A.then=="function"&&typeof A.catch=="function",Po(b,"`callback` is deprecated. Please return a promise instead."),b&&A.then(function(){m()}).catch(function(R){m(R||" ")})}),C}).sort(function(v,_){var x=v.warningOnly,C=v.ruleIndex,c=_.warningOnly,p=_.ruleIndex;return!!x==!!c?C-p:x?1:-1}),f;if(a===!0)f=new Promise(function(){var v=il(Sr().mark(function _(x,C){var c,p,m;return Sr().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:c=0;case 1:if(!(c<s.length)){w.next=12;break}return p=s[c],w.next=5,_2(l,e,p,r,o);case 5:if(m=w.sent,!m.length){w.next=9;break}return C([{errors:m,rule:p}]),w.abrupt("return");case 9:c+=1,w.next=1;break;case 12:x([]);case 13:case"end":return w.stop()}},_)}));return function(_,x){return v.apply(this,arguments)}}());else{var h=s.map(function(v){return _2(l,e,v,r,o).then(function(_){return{errors:_,rule:v}})});f=(a?ZX(h):qX(h)).then(function(v){return Promise.reject(v)})}return f.catch(function(v){return v}),f}function qX(n){return x2.apply(this,arguments)}function x2(){return x2=il(Sr().mark(function n(e){return Sr().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.all(e).then(function(a){var o,l=(o=[]).concat.apply(o,Qt(a));return l}));case 1:case"end":return r.stop()}},n)})),x2.apply(this,arguments)}function ZX(n){return w2.apply(this,arguments)}function w2(){return w2=il(Sr().mark(function n(e){var t;return Sr().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=0,a.abrupt("return",new Promise(function(o){e.forEach(function(l){l.then(function(s){s.errors.length&&o([s]),t+=1,t===e.length&&o([])})})}));case 2:case"end":return a.stop()}},n)})),w2.apply(this,arguments)}function ha(n){return m2(n)}function Gz(n,e){var t={};return e.forEach(function(r){var a=Vu(n,r);t=Ic(t,r,a)}),t}function Bv(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return n&&n.some(function(r){return qB(e,r,t)})}function qB(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!n||!e||!t&&n.length!==e.length?!1:e.every(function(r,a){return n[a]===r})}function KX(n,e){if(n===e)return!0;if(!n&&e||n&&!e||!n||!e||yn(n)!=="object"||yn(e)!=="object")return!1;var t=Object.keys(n),r=Object.keys(e),a=new Set([].concat(t,r));return Qt(a).every(function(o){var l=n[o],s=e[o];return typeof l=="function"&&typeof s=="function"?!0:l===s})}function QX(n){var e=arguments.length<=1?void 0:arguments[1];return e&&e.target&&yn(e.target)==="object"&&n in e.target?e.target[n]:e}function jz(n,e,t){var r=n.length;if(e<0||e>=r||t<0||t>=r)return n;var a=n[e],o=e-t;return o>0?[].concat(Qt(n.slice(0,t)),[a],Qt(n.slice(t,e)),Qt(n.slice(e+1,r))):o<0?[].concat(Qt(n.slice(0,e)),Qt(n.slice(e+1,t+1)),[a],Qt(n.slice(t+1,r))):n}var JX=["name"],Il=[];function eT(n,e,t,r,a,o){return typeof n=="function"?n(e,t,"source"in o?{source:o.source}:{}):r!==a}var rO=function(n){Ar(t,n);var e=Gc(t);function t(r){var a;if(si(this,t),a=e.call(this,r),de(Ln(a),"state",{resetCount:0}),de(Ln(a),"cancelRegisterFunc",null),de(Ln(a),"mounted",!1),de(Ln(a),"touched",!1),de(Ln(a),"dirty",!1),de(Ln(a),"validatePromise",void 0),de(Ln(a),"prevValidating",void 0),de(Ln(a),"errors",Il),de(Ln(a),"warnings",Il),de(Ln(a),"cancelRegister",function(){var f=a.props,h=f.preserve,v=f.isListField,_=f.name;a.cancelRegisterFunc&&a.cancelRegisterFunc(v,h,ha(_)),a.cancelRegisterFunc=null}),de(Ln(a),"getNamePath",function(){var f=a.props,h=f.name,v=f.fieldContext,_=v.prefixName,x=_===void 0?[]:_;return h!==void 0?[].concat(Qt(x),Qt(h)):[]}),de(Ln(a),"getRules",function(){var f=a.props,h=f.rules,v=h===void 0?[]:h,_=f.fieldContext;return v.map(function(x){return typeof x=="function"?x(_):x})}),de(Ln(a),"refresh",function(){a.mounted&&a.setState(function(f){var h=f.resetCount;return{resetCount:h+1}})}),de(Ln(a),"metaCache",null),de(Ln(a),"triggerMetaEvent",function(f){var h=a.props.onMetaChange;if(h){var v=Ne(Ne({},a.getMeta()),{},{destroy:f});Gv(a.metaCache,v)||h(v),a.metaCache=v}else a.metaCache=null}),de(Ln(a),"onStoreChange",function(f,h,v){var _=a.props,x=_.shouldUpdate,C=_.dependencies,c=C===void 0?[]:C,p=_.onReset,m=v.store,b=a.getNamePath(),w=a.getValue(f),A=a.getValue(m),R=h&&Bv(h,b);switch(v.type==="valueUpdate"&&v.source==="external"&&!Gv(w,A)&&(a.touched=!0,a.dirty=!0,a.validatePromise=null,a.errors=Il,a.warnings=Il,a.triggerMetaEvent()),v.type){case"reset":if(!h||R){a.touched=!1,a.dirty=!1,a.validatePromise=void 0,a.errors=Il,a.warnings=Il,a.triggerMetaEvent(),p==null||p(),a.refresh();return}break;case"remove":{if(x&&eT(x,f,m,w,A,v)){a.reRender();return}break}case"setField":{var O=v.data;if(R){"touched"in O&&(a.touched=O.touched),"validating"in O&&!("originRCField"in O)&&(a.validatePromise=O.validating?Promise.resolve([]):null),"errors"in O&&(a.errors=O.errors||Il),"warnings"in O&&(a.warnings=O.warnings||Il),a.dirty=!0,a.triggerMetaEvent(),a.reRender();return}else if("value"in O&&Bv(h,b,!0)){a.reRender();return}if(x&&!b.length&&eT(x,f,m,w,A,v)){a.reRender();return}break}case"dependenciesUpdate":{var P=c.map(ha);if(P.some(function(D){return Bv(v.relatedFields,D)})){a.reRender();return}break}default:if(R||(!c.length||b.length||x)&&eT(x,f,m,w,A,v)){a.reRender();return}break}x===!0&&a.reRender()}),de(Ln(a),"validateRules",function(f){var h=a.getNamePath(),v=a.getValue(),_=f||{},x=_.triggerName,C=_.validateOnly,c=C===void 0?!1:C,p=Promise.resolve().then(il(Sr().mark(function m(){var b,w,A,R,O,P,D;return Sr().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(a.mounted){B.next=2;break}return B.abrupt("return",[]);case 2:if(b=a.props,w=b.validateFirst,A=w===void 0?!1:w,R=b.messageVariables,O=b.validateDebounce,P=a.getRules(),x&&(P=P.filter(function(U){return U}).filter(function(U){var V=U.validateTrigger;if(!V)return!0;var Q=m2(V);return Q.includes(x)})),!(O&&x)){B.next=10;break}return B.next=8,new Promise(function(U){setTimeout(U,O)});case 8:if(a.validatePromise===p){B.next=10;break}return B.abrupt("return",[]);case 10:return D=YX(h,v,P,f,A,R),D.catch(function(U){return U}).then(function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Il;if(a.validatePromise===p){var V;a.validatePromise=null;var Q=[],X=[];(V=U.forEach)===null||V===void 0||V.call(U,function(ee){var ae=ee.rule.warningOnly,Z=ee.errors,K=Z===void 0?Il:Z;ae?X.push.apply(X,Qt(K)):Q.push.apply(Q,Qt(K))}),a.errors=Q,a.warnings=X,a.triggerMetaEvent(),a.reRender()}}),B.abrupt("return",D);case 13:case"end":return B.stop()}},m)})));return c||(a.validatePromise=p,a.dirty=!0,a.errors=Il,a.warnings=Il,a.triggerMetaEvent(),a.reRender()),p}),de(Ln(a),"isFieldValidating",function(){return!!a.validatePromise}),de(Ln(a),"isFieldTouched",function(){return a.touched}),de(Ln(a),"isFieldDirty",function(){if(a.dirty||a.props.initialValue!==void 0)return!0;var f=a.props.fieldContext,h=f.getInternalHooks(am),v=h.getInitialValue;return v(a.getNamePath())!==void 0}),de(Ln(a),"getErrors",function(){return a.errors}),de(Ln(a),"getWarnings",function(){return a.warnings}),de(Ln(a),"isListField",function(){return a.props.isListField}),de(Ln(a),"isList",function(){return a.props.isList}),de(Ln(a),"isPreserve",function(){return a.props.preserve}),de(Ln(a),"getMeta",function(){a.prevValidating=a.isFieldValidating();var f={touched:a.isFieldTouched(),validating:a.prevValidating,errors:a.errors,warnings:a.warnings,name:a.getNamePath(),validated:a.validatePromise===null};return f}),de(Ln(a),"getOnlyChild",function(f){if(typeof f=="function"){var h=a.getMeta();return Ne(Ne({},a.getOnlyChild(f(a.getControlled(),h,a.props.fieldContext))),{},{isFunction:!0})}var v=qu(f);return v.length!==1||!M.isValidElement(v[0])?{child:v,isFunction:!1}:{child:v[0],isFunction:!1}}),de(Ln(a),"getValue",function(f){var h=a.props.fieldContext.getFieldsValue,v=a.getNamePath();return Vu(f||h(!0),v)}),de(Ln(a),"getControlled",function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=a.props,v=h.name,_=h.trigger,x=h.validateTrigger,C=h.getValueFromEvent,c=h.normalize,p=h.valuePropName,m=h.getValueProps,b=h.fieldContext,w=x!==void 0?x:b.validateTrigger,A=a.getNamePath(),R=b.getInternalHooks,O=b.getFieldsValue,P=R(am),D=P.dispatch,F=a.getValue(),B=m||function(ee){return de({},p,ee)},U=f[_],V=v!==void 0?B(F):{},Q=Ne(Ne({},f),V);Q[_]=function(){a.touched=!0,a.dirty=!0,a.triggerMetaEvent();for(var ee,ae=arguments.length,Z=new Array(ae),K=0;K<ae;K++)Z[K]=arguments[K];C?ee=C.apply(void 0,Z):ee=QX.apply(void 0,[p].concat(Z)),c&&(ee=c(ee,F,O(!0))),ee!==F&&D({type:"updateValue",namePath:A,value:ee}),U&&U.apply(void 0,Z)};var X=m2(w||[]);return X.forEach(function(ee){var ae=Q[ee];Q[ee]=function(){ae&&ae.apply(void 0,arguments);var Z=a.props.rules;Z&&Z.length&&D({type:"validateField",namePath:A,triggerName:ee})}}),Q}),r.fieldContext){var o=r.fieldContext.getInternalHooks,l=o(am),s=l.initEntityValue;s(Ln(a))}return a}return li(t,[{key:"componentDidMount",value:function(){var a=this.props,o=a.shouldUpdate,l=a.fieldContext;if(this.mounted=!0,l){var s=l.getInternalHooks,f=s(am),h=f.registerField;this.cancelRegisterFunc=h(this)}o===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var a=this.state.resetCount,o=this.props.children,l=this.getOnlyChild(o),s=l.child,f=l.isFunction,h;return f?h=s:M.isValidElement(s)?h=M.cloneElement(s,this.getControlled(s.props)):(Po(!s,"`children` of Field is not validate ReactElement."),h=s),M.createElement(M.Fragment,{key:a},h)}}]),t}(M.Component);de(rO,"contextType",Kv);de(rO,"defaultProps",{trigger:"onChange",valuePropName:"value"});function ZB(n){var e,t=n.name,r=jn(n,JX),a=M.useContext(Kv),o=M.useContext(pw),l=t!==void 0?ha(t):void 0,s=(e=r.isListField)!==null&&e!==void 0?e:!!o,f="keep";return s||(f="_".concat((l||[]).join("_"))),M.createElement(rO,Nt({key:f,name:l,isListField:s},r,{fieldContext:a}))}function eY(n){var e=n.name,t=n.initialValue,r=n.children,a=n.rules,o=n.validateTrigger,l=n.isListField,s=M.useContext(Kv),f=M.useContext(pw),h=M.useRef({keys:[],id:0}),v=h.current,_=M.useMemo(function(){var p=ha(s.prefixName)||[];return[].concat(Qt(p),Qt(ha(e)))},[s.prefixName,e]),x=M.useMemo(function(){return Ne(Ne({},s),{},{prefixName:_})},[s,_]),C=M.useMemo(function(){return{getKey:function(m){var b=_.length,w=m[b];return[v.keys[w],m.slice(b+1)]}}},[_]);if(typeof r!="function")return Po(!1,"Form.List only accepts function as children."),null;var c=function(m,b,w){var A=w.source;return A==="internal"?!1:m!==b};return M.createElement(pw.Provider,{value:C},M.createElement(Kv.Provider,{value:x},M.createElement(ZB,{name:[],shouldUpdate:c,rules:a,validateTrigger:o,initialValue:t,isList:!0,isListField:l??!!f},function(p,m){var b=p.value,w=b===void 0?[]:b,A=p.onChange,R=s.getFieldValue,O=function(){var B=R(_||[]);return B||[]},P={add:function(B,U){var V=O();U>=0&&U<=V.length?(v.keys=[].concat(Qt(v.keys.slice(0,U)),[v.id],Qt(v.keys.slice(U))),A([].concat(Qt(V.slice(0,U)),[B],Qt(V.slice(U))))):(v.keys=[].concat(Qt(v.keys),[v.id]),A([].concat(Qt(V),[B]))),v.id+=1},remove:function(B){var U=O(),V=new Set(Array.isArray(B)?B:[B]);V.size<=0||(v.keys=v.keys.filter(function(Q,X){return!V.has(X)}),A(U.filter(function(Q,X){return!V.has(X)})))},move:function(B,U){if(B!==U){var V=O();B<0||B>=V.length||U<0||U>=V.length||(v.keys=jz(v.keys,B,U),A(jz(V,B,U)))}}},D=w||[];return Array.isArray(D)||(D=[]),r(D.map(function(F,B){var U=v.keys[B];return U===void 0&&(v.keys[B]=v.id,U=v.keys[B],v.id+=1),{name:B,key:U,isListField:!0}}),P,m)})))}function tY(n){var e=!1,t=n.length,r=[];return n.length?new Promise(function(a,o){n.forEach(function(l,s){l.catch(function(f){return e=!0,f}).then(function(f){t-=1,r[s]=f,!(t>0)&&(e&&o(r),a(r))})})}):Promise.resolve([])}var KB="__@field_split__";function tT(n){return n.map(function(e){return"".concat(yn(e),":").concat(e)}).join(KB)}var Mg=function(){function n(){si(this,n),de(this,"kvs",new Map)}return li(n,[{key:"set",value:function(t,r){this.kvs.set(tT(t),r)}},{key:"get",value:function(t){return this.kvs.get(tT(t))}},{key:"update",value:function(t,r){var a=this.get(t),o=r(a);o?this.set(t,o):this.delete(t)}},{key:"delete",value:function(t){this.kvs.delete(tT(t))}},{key:"map",value:function(t){return Qt(this.kvs.entries()).map(function(r){var a=yt(r,2),o=a[0],l=a[1],s=o.split(KB);return t({key:s.map(function(f){var h=f.match(/^([^:]*):(.*)$/),v=yt(h,3),_=v[1],x=v[2];return _==="number"?Number(x):x}),value:l})})}},{key:"toJSON",value:function(){var t={};return this.map(function(r){var a=r.key,o=r.value;return t[a.join(".")]=o,null}),t}}]),n}(),nY=["name"],iY=li(function n(e){var t=this;si(this,n),de(this,"formHooked",!1),de(this,"forceRootUpdate",void 0),de(this,"subscribable",!0),de(this,"store",{}),de(this,"fieldEntities",[]),de(this,"initialValues",{}),de(this,"callbacks",{}),de(this,"validateMessages",null),de(this,"preserve",null),de(this,"lastValidatePromise",null),de(this,"getForm",function(){return{getFieldValue:t.getFieldValue,getFieldsValue:t.getFieldsValue,getFieldError:t.getFieldError,getFieldWarning:t.getFieldWarning,getFieldsError:t.getFieldsError,isFieldsTouched:t.isFieldsTouched,isFieldTouched:t.isFieldTouched,isFieldValidating:t.isFieldValidating,isFieldsValidating:t.isFieldsValidating,resetFields:t.resetFields,setFields:t.setFields,setFieldValue:t.setFieldValue,setFieldsValue:t.setFieldsValue,validateFields:t.validateFields,submit:t.submit,_init:!0,getInternalHooks:t.getInternalHooks}}),de(this,"getInternalHooks",function(r){return r===am?(t.formHooked=!0,{dispatch:t.dispatch,initEntityValue:t.initEntityValue,registerField:t.registerField,useSubscribe:t.useSubscribe,setInitialValues:t.setInitialValues,destroyForm:t.destroyForm,setCallbacks:t.setCallbacks,setValidateMessages:t.setValidateMessages,getFields:t.getFields,setPreserve:t.setPreserve,getInitialValue:t.getInitialValue,registerWatch:t.registerWatch}):(Po(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),de(this,"useSubscribe",function(r){t.subscribable=r}),de(this,"prevWithoutPreserves",null),de(this,"setInitialValues",function(r,a){if(t.initialValues=r||{},a){var o,l=bv(r,t.store);(o=t.prevWithoutPreserves)===null||o===void 0||o.map(function(s){var f=s.key;l=Ic(l,f,Vu(r,f))}),t.prevWithoutPreserves=null,t.updateStore(l)}}),de(this,"destroyForm",function(r){if(r)t.updateStore({});else{var a=new Mg;t.getFieldEntities(!0).forEach(function(o){t.isMergedPreserve(o.isPreserve())||a.set(o.getNamePath(),!0)}),t.prevWithoutPreserves=a}}),de(this,"getInitialValue",function(r){var a=Vu(t.initialValues,r);return r.length?bv(a):a}),de(this,"setCallbacks",function(r){t.callbacks=r}),de(this,"setValidateMessages",function(r){t.validateMessages=r}),de(this,"setPreserve",function(r){t.preserve=r}),de(this,"watchList",[]),de(this,"registerWatch",function(r){return t.watchList.push(r),function(){t.watchList=t.watchList.filter(function(a){return a!==r})}}),de(this,"notifyWatch",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(t.watchList.length){var a=t.getFieldsValue(),o=t.getFieldsValue(!0);t.watchList.forEach(function(l){l(a,o,r)})}}),de(this,"timeoutId",null),de(this,"warningUnhooked",function(){}),de(this,"updateStore",function(r){t.store=r}),de(this,"getFieldEntities",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return r?t.fieldEntities.filter(function(a){return a.getNamePath().length}):t.fieldEntities}),de(this,"getFieldsMap",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,a=new Mg;return t.getFieldEntities(r).forEach(function(o){var l=o.getNamePath();a.set(l,o)}),a}),de(this,"getFieldEntitiesForNamePathList",function(r){if(!r)return t.getFieldEntities(!0);var a=t.getFieldsMap(!0);return r.map(function(o){var l=ha(o);return a.get(l)||{INVALIDATE_NAME_PATH:ha(o)}})}),de(this,"getFieldsValue",function(r,a){t.warningUnhooked();var o,l,s;if(r===!0||Array.isArray(r)?(o=r,l=a):r&&yn(r)==="object"&&(s=r.strict,l=r.filter),o===!0&&!l)return t.store;var f=t.getFieldEntitiesForNamePathList(Array.isArray(o)?o:null),h=[];return f.forEach(function(v){var _,x,C="INVALIDATE_NAME_PATH"in v?v.INVALIDATE_NAME_PATH:v.getNamePath();if(s){var c,p;if((c=(p=v).isList)!==null&&c!==void 0&&c.call(p))return}else if(!o&&(_=(x=v).isListField)!==null&&_!==void 0&&_.call(x))return;if(!l)h.push(C);else{var m="getMeta"in v?v.getMeta():null;l(m)&&h.push(C)}}),Gz(t.store,h.map(ha))}),de(this,"getFieldValue",function(r){t.warningUnhooked();var a=ha(r);return Vu(t.store,a)}),de(this,"getFieldsError",function(r){t.warningUnhooked();var a=t.getFieldEntitiesForNamePathList(r);return a.map(function(o,l){return o&&!("INVALIDATE_NAME_PATH"in o)?{name:o.getNamePath(),errors:o.getErrors(),warnings:o.getWarnings()}:{name:ha(r[l]),errors:[],warnings:[]}})}),de(this,"getFieldError",function(r){t.warningUnhooked();var a=ha(r),o=t.getFieldsError([a])[0];return o.errors}),de(this,"getFieldWarning",function(r){t.warningUnhooked();var a=ha(r),o=t.getFieldsError([a])[0];return o.warnings}),de(this,"isFieldsTouched",function(){t.warningUnhooked();for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];var l=a[0],s=a[1],f,h=!1;a.length===0?f=null:a.length===1?Array.isArray(l)?(f=l.map(ha),h=!1):(f=null,h=l):(f=l.map(ha),h=s);var v=t.getFieldEntities(!0),_=function(m){return m.isFieldTouched()};if(!f)return h?v.every(function(p){return _(p)||p.isList()}):v.some(_);var x=new Mg;f.forEach(function(p){x.set(p,[])}),v.forEach(function(p){var m=p.getNamePath();f.forEach(function(b){b.every(function(w,A){return m[A]===w})&&x.update(b,function(w){return[].concat(Qt(w),[p])})})});var C=function(m){return m.some(_)},c=x.map(function(p){var m=p.value;return m});return h?c.every(C):c.some(C)}),de(this,"isFieldTouched",function(r){return t.warningUnhooked(),t.isFieldsTouched([r])}),de(this,"isFieldsValidating",function(r){t.warningUnhooked();var a=t.getFieldEntities();if(!r)return a.some(function(l){return l.isFieldValidating()});var o=r.map(ha);return a.some(function(l){var s=l.getNamePath();return Bv(o,s)&&l.isFieldValidating()})}),de(this,"isFieldValidating",function(r){return t.warningUnhooked(),t.isFieldsValidating([r])}),de(this,"resetWithFieldInitialValue",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=new Mg,o=t.getFieldEntities(!0);o.forEach(function(f){var h=f.props.initialValue,v=f.getNamePath();if(h!==void 0){var _=a.get(v)||new Set;_.add({entity:f,value:h}),a.set(v,_)}});var l=function(h){h.forEach(function(v){var _=v.props.initialValue;if(_!==void 0){var x=v.getNamePath(),C=t.getInitialValue(x);if(C!==void 0)Po(!1,"Form already set 'initialValues' with path '".concat(x.join("."),"'. Field can not overwrite it."));else{var c=a.get(x);if(c&&c.size>1)Po(!1,"Multiple Field with path '".concat(x.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(c){var p=t.getFieldValue(x),m=v.isListField();!m&&(!r.skipExist||p===void 0)&&t.updateStore(Ic(t.store,x,Qt(c)[0].value))}}}})},s;r.entities?s=r.entities:r.namePathList?(s=[],r.namePathList.forEach(function(f){var h=a.get(f);if(h){var v;(v=s).push.apply(v,Qt(Qt(h).map(function(_){return _.entity})))}})):s=o,l(s)}),de(this,"resetFields",function(r){t.warningUnhooked();var a=t.store;if(!r){t.updateStore(bv(t.initialValues)),t.resetWithFieldInitialValue(),t.notifyObservers(a,null,{type:"reset"}),t.notifyWatch();return}var o=r.map(ha);o.forEach(function(l){var s=t.getInitialValue(l);t.updateStore(Ic(t.store,l,s))}),t.resetWithFieldInitialValue({namePathList:o}),t.notifyObservers(a,o,{type:"reset"}),t.notifyWatch(o)}),de(this,"setFields",function(r){t.warningUnhooked();var a=t.store,o=[];r.forEach(function(l){var s=l.name,f=jn(l,nY),h=ha(s);o.push(h),"value"in f&&t.updateStore(Ic(t.store,h,f.value)),t.notifyObservers(a,[h],{type:"setField",data:l})}),t.notifyWatch(o)}),de(this,"getFields",function(){var r=t.getFieldEntities(!0),a=r.map(function(o){var l=o.getNamePath(),s=o.getMeta(),f=Ne(Ne({},s),{},{name:l,value:t.getFieldValue(l)});return Object.defineProperty(f,"originRCField",{value:!0}),f});return a}),de(this,"initEntityValue",function(r){var a=r.props.initialValue;if(a!==void 0){var o=r.getNamePath(),l=Vu(t.store,o);l===void 0&&t.updateStore(Ic(t.store,o,a))}}),de(this,"isMergedPreserve",function(r){var a=r!==void 0?r:t.preserve;return a??!0}),de(this,"registerField",function(r){t.fieldEntities.push(r);var a=r.getNamePath();if(t.notifyWatch([a]),r.props.initialValue!==void 0){var o=t.store;t.resetWithFieldInitialValue({entities:[r],skipExist:!0}),t.notifyObservers(o,[r.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(l,s){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(t.fieldEntities=t.fieldEntities.filter(function(_){return _!==r}),!t.isMergedPreserve(s)&&(!l||f.length>1)){var h=l?void 0:t.getInitialValue(a);if(a.length&&t.getFieldValue(a)!==h&&t.fieldEntities.every(function(_){return!qB(_.getNamePath(),a)})){var v=t.store;t.updateStore(Ic(v,a,h,!0)),t.notifyObservers(v,[a],{type:"remove"}),t.triggerDependenciesUpdate(v,a)}}t.notifyWatch([a])}}),de(this,"dispatch",function(r){switch(r.type){case"updateValue":{var a=r.namePath,o=r.value;t.updateValue(a,o);break}case"validateField":{var l=r.namePath,s=r.triggerName;t.validateFields([l],{triggerName:s});break}}}),de(this,"notifyObservers",function(r,a,o){if(t.subscribable){var l=Ne(Ne({},o),{},{store:t.getFieldsValue(!0)});t.getFieldEntities().forEach(function(s){var f=s.onStoreChange;f(r,a,l)})}else t.forceRootUpdate()}),de(this,"triggerDependenciesUpdate",function(r,a){var o=t.getDependencyChildrenFields(a);return o.length&&t.validateFields(o),t.notifyObservers(r,o,{type:"dependenciesUpdate",relatedFields:[a].concat(Qt(o))}),o}),de(this,"updateValue",function(r,a){var o=ha(r),l=t.store;t.updateStore(Ic(t.store,o,a)),t.notifyObservers(l,[o],{type:"valueUpdate",source:"internal"}),t.notifyWatch([o]);var s=t.triggerDependenciesUpdate(l,o),f=t.callbacks.onValuesChange;if(f){var h=Gz(t.store,[o]);f(h,t.getFieldsValue())}t.triggerOnFieldsChange([o].concat(Qt(s)))}),de(this,"setFieldsValue",function(r){t.warningUnhooked();var a=t.store;if(r){var o=bv(t.store,r);t.updateStore(o)}t.notifyObservers(a,null,{type:"valueUpdate",source:"external"}),t.notifyWatch()}),de(this,"setFieldValue",function(r,a){t.setFields([{name:r,value:a,errors:[],warnings:[]}])}),de(this,"getDependencyChildrenFields",function(r){var a=new Set,o=[],l=new Mg;t.getFieldEntities().forEach(function(f){var h=f.props.dependencies;(h||[]).forEach(function(v){var _=ha(v);l.update(_,function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return x.add(f),x})})});var s=function f(h){var v=l.get(h)||new Set;v.forEach(function(_){if(!a.has(_)){a.add(_);var x=_.getNamePath();_.isFieldDirty()&&x.length&&(o.push(x),f(x))}})};return s(r),o}),de(this,"triggerOnFieldsChange",function(r,a){var o=t.callbacks.onFieldsChange;if(o){var l=t.getFields();if(a){var s=new Mg;a.forEach(function(h){var v=h.name,_=h.errors;s.set(v,_)}),l.forEach(function(h){h.errors=s.get(h.name)||h.errors})}var f=l.filter(function(h){var v=h.name;return Bv(r,v)});f.length&&o(f,l)}}),de(this,"validateFields",function(r,a){t.warningUnhooked();var o,l;Array.isArray(r)||typeof r=="string"||typeof a=="string"?(o=r,l=a):l=r;var s=!!o,f=s?o.map(ha):[],h=[],v=String(Date.now()),_=new Set,x=l||{},C=x.recursive,c=x.dirty;t.getFieldEntities(!0).forEach(function(w){if(s||f.push(w.getNamePath()),!(!w.props.rules||!w.props.rules.length)&&!(c&&!w.isFieldDirty())){var A=w.getNamePath();if(_.add(A.join(v)),!s||Bv(f,A,C)){var R=w.validateRules(Ne({validateMessages:Ne(Ne({},YB),t.validateMessages)},l));h.push(R.then(function(){return{name:A,errors:[],warnings:[]}}).catch(function(O){var P,D=[],F=[];return(P=O.forEach)===null||P===void 0||P.call(O,function(B){var U=B.rule.warningOnly,V=B.errors;U?F.push.apply(F,Qt(V)):D.push.apply(D,Qt(V))}),D.length?Promise.reject({name:A,errors:D,warnings:F}):{name:A,errors:D,warnings:F}}))}}});var p=tY(h);t.lastValidatePromise=p,p.catch(function(w){return w}).then(function(w){var A=w.map(function(R){var O=R.name;return O});t.notifyObservers(t.store,A,{type:"validateFinish"}),t.triggerOnFieldsChange(A,w)});var m=p.then(function(){return t.lastValidatePromise===p?Promise.resolve(t.getFieldsValue(f)):Promise.reject([])}).catch(function(w){var A=w.filter(function(R){return R&&R.errors.length});return Promise.reject({values:t.getFieldsValue(f),errorFields:A,outOfDate:t.lastValidatePromise!==p})});m.catch(function(w){return w});var b=f.filter(function(w){return _.has(w.join(v))});return t.triggerOnFieldsChange(b),m}),de(this,"submit",function(){t.warningUnhooked(),t.validateFields().then(function(r){var a=t.callbacks.onFinish;if(a)try{a(r)}catch(o){console.error(o)}}).catch(function(r){var a=t.callbacks.onFinishFailed;a&&a(r)})}),this.forceRootUpdate=e});function QB(n){var e=M.useRef(),t=M.useState({}),r=yt(t,2),a=r[1];if(!e.current)if(n)e.current=n;else{var o=function(){a({})},l=new iY(o);e.current=l.getForm()}return[e.current]}var C2=M.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),rY=function(e){var t=e.validateMessages,r=e.onFormChange,a=e.onFormFinish,o=e.children,l=M.useContext(C2),s=M.useRef({});return M.createElement(C2.Provider,{value:Ne(Ne({},l),{},{validateMessages:Ne(Ne({},l.validateMessages),t),triggerFormChange:function(h,v){r&&r(h,{changedFields:v,forms:s.current}),l.triggerFormChange(h,v)},triggerFormFinish:function(h,v){a&&a(h,{values:v,forms:s.current}),l.triggerFormFinish(h,v)},registerForm:function(h,v){h&&(s.current=Ne(Ne({},s.current),{},de({},h,v))),l.registerForm(h,v)},unregisterForm:function(h){var v=Ne({},s.current);delete v[h],s.current=v,l.unregisterForm(h)}})},o)},aY=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"],oY=function(e,t){var r=e.name,a=e.initialValues,o=e.fields,l=e.form,s=e.preserve,f=e.children,h=e.component,v=h===void 0?"form":h,_=e.validateMessages,x=e.validateTrigger,C=x===void 0?"onChange":x,c=e.onValuesChange,p=e.onFieldsChange,m=e.onFinish,b=e.onFinishFailed,w=e.clearOnDestroy,A=jn(e,aY),R=M.useRef(null),O=M.useContext(C2),P=QB(l),D=yt(P,1),F=D[0],B=F.getInternalHooks(am),U=B.useSubscribe,V=B.setInitialValues,Q=B.setCallbacks,X=B.setValidateMessages,ee=B.setPreserve,ae=B.destroyForm;M.useImperativeHandle(t,function(){return Ne(Ne({},F),{},{nativeElement:R.current})}),M.useEffect(function(){return O.registerForm(r,F),function(){O.unregisterForm(r)}},[O,F,r]),X(Ne(Ne({},O.validateMessages),_)),Q({onValuesChange:c,onFieldsChange:function(j){if(O.triggerFormChange(r,j),p){for(var pe=arguments.length,_e=new Array(pe>1?pe-1:0),Re=1;Re<pe;Re++)_e[Re-1]=arguments[Re];p.apply(void 0,[j].concat(_e))}},onFinish:function(j){O.triggerFormFinish(r,j),m&&m(j)},onFinishFailed:b}),ee(s);var Z=M.useRef(null);V(a,!Z.current),Z.current||(Z.current=!0),M.useEffect(function(){return function(){return ae(w)}},[]);var K,te=typeof f=="function";if(te){var ce=F.getFieldsValue(!0);K=f(ce,F)}else K=f;U(!te);var q=M.useRef();M.useEffect(function(){KX(q.current||[],o||[])||F.setFields(o||[]),q.current=o},[o,F]);var J=M.useMemo(function(){return Ne(Ne({},F),{},{validateTrigger:C})},[F,C]),he=M.createElement(pw.Provider,{value:null},M.createElement(Kv.Provider,{value:J},K));return v===!1?he:M.createElement(v,Nt({},A,{ref:R,onSubmit:function(j){j.preventDefault(),j.stopPropagation(),F.submit()},onReset:function(j){var pe;j.preventDefault(),F.resetFields(),(pe=A.onReset)===null||pe===void 0||pe.call(A,j)}}),he)};function Wz(n){try{return JSON.stringify(n)}catch{return Math.random()}}function sY(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var r=e[0],a=e[1],o=a===void 0?{}:a,l=mX(o)?{form:o}:o,s=l.form,f=M.useState(),h=yt(f,2),v=h[0],_=h[1],x=M.useMemo(function(){return Wz(v)},[v]),C=M.useRef(x);C.current=x;var c=M.useContext(Kv),p=s||c,m=p&&p._init,b=ha(r),w=M.useRef(b);return w.current=b,M.useEffect(function(){if(m){var A=p.getFieldsValue,R=p.getInternalHooks,O=R(am),P=O.registerWatch,D=function(V,Q){var X=l.preserve?Q:V;return typeof r=="function"?r(X):Vu(X,w.current)},F=P(function(U,V){var Q=D(U,V),X=Wz(Q);C.current!==X&&(C.current=X,_(Q))}),B=D(A(),A(!0));return v!==B&&_(B),F}},[m]),v}var lY=M.forwardRef(oY),g_=lY;g_.FormProvider=rY;g_.Field=ZB;g_.List=eY;g_.useForm=QB;g_.useWatch=sY;const Nh=M.createContext({}),cY=n=>{let{children:e,status:t,override:r}=n;const a=M.useContext(Nh),o=M.useMemo(()=>{const l=Object.assign({},a);return r&&delete l.isFormItemInput,t&&(delete l.status,delete l.hasFeedback,delete l.feedbackIcon),l},[t,r,a]);return M.createElement(Nh.Provider,{value:o},e)},uY=M.createContext(void 0),mw=n=>{const{space:e,form:t,children:r}=n;if(r==null)return null;let a=r;return t&&(a=We.createElement(cY,{override:!0,status:!0},a)),e&&(a=We.createElement(B9,null,a)),a};function Xz(n){if(n)return{closable:n.closable,closeIcon:n.closeIcon}}function Yz(n){const{closable:e,closeIcon:t}=n||{};return We.useMemo(()=>{if(!e&&(e===!1||t===!1||t===null))return!1;if(e===void 0&&t===void 0)return null;let r={closeIcon:typeof t!="boolean"&&t!==null?t:void 0};return e&&typeof e=="object"&&(r=Object.assign(Object.assign({},r),e)),r},[e,t])}function qz(){const n={};for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.forEach(a=>{a&&Object.keys(a).forEach(o=>{a[o]!==void 0&&(n[o]=a[o])})}),n}const fY={};function dY(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:fY;const r=Yz(n),a=Yz(e),o=typeof r!="boolean"?!!(r!=null&&r.disabled):!1,l=We.useMemo(()=>Object.assign({closeIcon:We.createElement(u0,null)},t),[t]),s=We.useMemo(()=>r===!1?!1:r?qz(l,a,r):a===!1?!1:a?qz(l,a):l.closable?l:!1,[r,a,l]);return We.useMemo(()=>{if(s===!1)return[!1,null,o];const{closeIconRender:f}=l,{closeIcon:h}=s;let v=h;if(v!=null){f&&(v=f(h));const _=h0(s,!0);Object.keys(_).length&&(v=We.isValidElement(v)?We.cloneElement(v,_):We.createElement("span",Object.assign({},_),v))}return[!0,v,o]},[s,l])}const hY=()=>ls()&&window.document.documentElement,qC=n=>{const{prefixCls:e,className:t,style:r,size:a,shape:o}=n,l=et({[`${e}-lg`]:a==="large",[`${e}-sm`]:a==="small"}),s=et({[`${e}-circle`]:o==="circle",[`${e}-square`]:o==="square",[`${e}-round`]:o==="round"}),f=M.useMemo(()=>typeof a=="number"?{width:a,height:a,lineHeight:`${a}px`}:{},[a]);return M.createElement("span",{className:et(e,l,s,t),style:Object.assign(Object.assign({},f),r)})},pY=new ar("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),ZC=n=>({height:n,lineHeight:Ut(n)}),Fv=n=>Object.assign({width:n},ZC(n)),mY=n=>({background:n.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:pY,animationDuration:n.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}),nT=(n,e)=>Object.assign({width:e(n).mul(5).equal(),minWidth:e(n).mul(5).equal()},ZC(n)),gY=n=>{const{skeletonAvatarCls:e,gradientFromColor:t,controlHeight:r,controlHeightLG:a,controlHeightSM:o}=n;return{[e]:Object.assign({display:"inline-block",verticalAlign:"top",background:t},Fv(r)),[`${e}${e}-circle`]:{borderRadius:"50%"},[`${e}${e}-lg`]:Object.assign({},Fv(a)),[`${e}${e}-sm`]:Object.assign({},Fv(o))}},vY=n=>{const{controlHeight:e,borderRadiusSM:t,skeletonInputCls:r,controlHeightLG:a,controlHeightSM:o,gradientFromColor:l,calc:s}=n;return{[r]:Object.assign({display:"inline-block",verticalAlign:"top",background:l,borderRadius:t},nT(e,s)),[`${r}-lg`]:Object.assign({},nT(a,s)),[`${r}-sm`]:Object.assign({},nT(o,s))}},Zz=n=>Object.assign({width:n},ZC(n)),yY=n=>{const{skeletonImageCls:e,imageSizeBase:t,gradientFromColor:r,borderRadiusSM:a,calc:o}=n;return{[e]:Object.assign(Object.assign({display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"middle",background:r,borderRadius:a},Zz(o(t).mul(2).equal())),{[`${e}-path`]:{fill:"#bfbfbf"},[`${e}-svg`]:Object.assign(Object.assign({},Zz(t)),{maxWidth:o(t).mul(4).equal(),maxHeight:o(t).mul(4).equal()}),[`${e}-svg${e}-svg-circle`]:{borderRadius:"50%"}}),[`${e}${e}-circle`]:{borderRadius:"50%"}}},iT=(n,e,t)=>{const{skeletonButtonCls:r}=n;return{[`${t}${r}-circle`]:{width:e,minWidth:e,borderRadius:"50%"},[`${t}${r}-round`]:{borderRadius:e}}},rT=(n,e)=>Object.assign({width:e(n).mul(2).equal(),minWidth:e(n).mul(2).equal()},ZC(n)),bY=n=>{const{borderRadiusSM:e,skeletonButtonCls:t,controlHeight:r,controlHeightLG:a,controlHeightSM:o,gradientFromColor:l,calc:s}=n;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[t]:Object.assign({display:"inline-block",verticalAlign:"top",background:l,borderRadius:e,width:s(r).mul(2).equal(),minWidth:s(r).mul(2).equal()},rT(r,s))},iT(n,r,t)),{[`${t}-lg`]:Object.assign({},rT(a,s))}),iT(n,a,`${t}-lg`)),{[`${t}-sm`]:Object.assign({},rT(o,s))}),iT(n,o,`${t}-sm`))},_Y=n=>{const{componentCls:e,skeletonAvatarCls:t,skeletonTitleCls:r,skeletonParagraphCls:a,skeletonButtonCls:o,skeletonInputCls:l,skeletonImageCls:s,controlHeight:f,controlHeightLG:h,controlHeightSM:v,gradientFromColor:_,padding:x,marginSM:C,borderRadius:c,titleHeight:p,blockRadius:m,paragraphLiHeight:b,controlHeightXS:w,paragraphMarginTop:A}=n;return{[e]:{display:"table",width:"100%",[`${e}-header`]:{display:"table-cell",paddingInlineEnd:x,verticalAlign:"top",[t]:Object.assign({display:"inline-block",verticalAlign:"top",background:_},Fv(f)),[`${t}-circle`]:{borderRadius:"50%"},[`${t}-lg`]:Object.assign({},Fv(h)),[`${t}-sm`]:Object.assign({},Fv(v))},[`${e}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[r]:{width:"100%",height:p,background:_,borderRadius:m,[`+ ${a}`]:{marginBlockStart:v}},[a]:{padding:0,"> li":{width:"100%",height:b,listStyle:"none",background:_,borderRadius:m,"+ li":{marginBlockStart:w}}},[`${a}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${e}-content`]:{[`${r}, ${a} > li`]:{borderRadius:c}}},[`${e}-with-avatar ${e}-content`]:{[r]:{marginBlockStart:C,[`+ ${a}`]:{marginBlockStart:A}}},[`${e}${e}-element`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},bY(n)),gY(n)),vY(n)),yY(n)),[`${e}${e}-block`]:{width:"100%",[o]:{width:"100%"},[l]:{width:"100%"}},[`${e}${e}-active`]:{[`
        ${r},
        ${a} > li,
        ${t},
        ${o},
        ${l},
        ${s}
      `]:Object.assign({},mY(n))}}},SY=n=>{const{colorFillContent:e,colorFill:t}=n,r=e,a=t;return{color:r,colorGradientEnd:a,gradientFromColor:r,gradientToColor:a,titleHeight:n.controlHeight/2,blockRadius:n.borderRadiusSM,paragraphMarginTop:n.marginLG+n.marginXXS,paragraphLiHeight:n.controlHeight/2}},p0=ma("Skeleton",n=>{const{componentCls:e,calc:t}=n,r=gr(n,{skeletonAvatarCls:`${e}-avatar`,skeletonTitleCls:`${e}-title`,skeletonParagraphCls:`${e}-paragraph`,skeletonButtonCls:`${e}-button`,skeletonInputCls:`${e}-input`,skeletonImageCls:`${e}-image`,imageSizeBase:t(n.controlHeight).mul(1.5).equal(),borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${n.gradientFromColor} 25%, ${n.gradientToColor} 37%, ${n.gradientFromColor} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return[_Y(r)]},SY,{deprecatedTokens:[["color","gradientFromColor"],["colorGradientEnd","gradientToColor"]]}),xY=n=>{const{prefixCls:e,className:t,rootClassName:r,active:a,shape:o="circle",size:l="default"}=n,{getPrefixCls:s}=M.useContext(ei),f=s("skeleton",e),[h,v,_]=p0(f),x=Uo(n,["prefixCls","className"]),C=et(f,`${f}-element`,{[`${f}-active`]:a},t,r,v,_);return h(M.createElement("div",{className:C},M.createElement(qC,Object.assign({prefixCls:`${f}-avatar`,shape:o,size:l},x))))},wY=n=>{const{prefixCls:e,className:t,rootClassName:r,active:a,block:o=!1,size:l="default"}=n,{getPrefixCls:s}=M.useContext(ei),f=s("skeleton",e),[h,v,_]=p0(f),x=Uo(n,["prefixCls"]),C=et(f,`${f}-element`,{[`${f}-active`]:a,[`${f}-block`]:o},t,r,v,_);return h(M.createElement("div",{className:C},M.createElement(qC,Object.assign({prefixCls:`${f}-button`,size:l},x))))},CY="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",EY=n=>{const{prefixCls:e,className:t,rootClassName:r,style:a,active:o}=n,{getPrefixCls:l}=M.useContext(ei),s=l("skeleton",e),[f,h,v]=p0(s),_=et(s,`${s}-element`,{[`${s}-active`]:o},t,r,h,v);return f(M.createElement("div",{className:_},M.createElement("div",{className:et(`${s}-image`,t),style:a},M.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:`${s}-image-svg`},M.createElement("title",null,"Image placeholder"),M.createElement("path",{d:CY,className:`${s}-image-path`})))))},MY=n=>{const{prefixCls:e,className:t,rootClassName:r,active:a,block:o,size:l="default"}=n,{getPrefixCls:s}=M.useContext(ei),f=s("skeleton",e),[h,v,_]=p0(f),x=Uo(n,["prefixCls"]),C=et(f,`${f}-element`,{[`${f}-active`]:a,[`${f}-block`]:o},t,r,v,_);return h(M.createElement("div",{className:C},M.createElement(qC,Object.assign({prefixCls:`${f}-input`,size:l},x))))},TY=n=>{const{prefixCls:e,className:t,rootClassName:r,style:a,active:o,children:l}=n,{getPrefixCls:s}=M.useContext(ei),f=s("skeleton",e),[h,v,_]=p0(f),x=et(f,`${f}-element`,{[`${f}-active`]:o},v,t,r,_);return h(M.createElement("div",{className:x},M.createElement("div",{className:et(`${f}-image`,t),style:a},l)))},AY=(n,e)=>{const{width:t,rows:r=2}=e;if(Array.isArray(t))return t[n];if(r-1===n)return t},RY=n=>{const{prefixCls:e,className:t,style:r,rows:a=0}=n,o=Array.from({length:a}).map((l,s)=>M.createElement("li",{key:s,style:{width:AY(s,n)}}));return M.createElement("ul",{className:et(e,t),style:r},o)},OY=n=>{let{prefixCls:e,className:t,width:r,style:a}=n;return M.createElement("h3",{className:et(e,t),style:Object.assign({width:r},a)})};function aT(n){return n&&typeof n=="object"?n:{}}function IY(n,e){return n&&!e?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function zY(n,e){return!n&&e?{width:"38%"}:n&&e?{width:"50%"}:{}}function PY(n,e){const t={};return(!n||!e)&&(t.width="61%"),!n&&e?t.rows=3:t.rows=2,t}const Rm=n=>{const{prefixCls:e,loading:t,className:r,rootClassName:a,style:o,children:l,avatar:s=!1,title:f=!0,paragraph:h=!0,active:v,round:_}=n,{getPrefixCls:x,direction:C,className:c,style:p}=ef("skeleton"),m=x("skeleton",e),[b,w,A]=p0(m);if(t||!("loading"in n)){const R=!!s,O=!!f,P=!!h;let D;if(R){const U=Object.assign(Object.assign({prefixCls:`${m}-avatar`},IY(O,P)),aT(s));D=M.createElement("div",{className:`${m}-header`},M.createElement(qC,Object.assign({},U)))}let F;if(O||P){let U;if(O){const Q=Object.assign(Object.assign({prefixCls:`${m}-title`},zY(R,P)),aT(f));U=M.createElement(OY,Object.assign({},Q))}let V;if(P){const Q=Object.assign(Object.assign({prefixCls:`${m}-paragraph`},PY(R,O)),aT(h));V=M.createElement(RY,Object.assign({},Q))}F=M.createElement("div",{className:`${m}-content`},U,V)}const B=et(m,{[`${m}-with-avatar`]:R,[`${m}-active`]:v,[`${m}-rtl`]:C==="rtl",[`${m}-round`]:_},c,r,a,w,A);return b(M.createElement("div",{className:B,style:Object.assign(Object.assign({},p),o)},D,F))}return l??null};Rm.Button=wY;Rm.Avatar=xY;Rm.Input=MY;Rm.Image=EY;Rm.Node=TY;function Kz(){}const DY=M.createContext({add:Kz,remove:Kz});function LY(n){const e=M.useContext(DY),t=M.useRef(null);return Za(a=>{if(a){const o=n?a.querySelector(n):a;e.add(o),t.current=o}else e.remove(t.current)})}const Qz=()=>{const{cancelButtonProps:n,cancelTextLocale:e,onCancel:t}=M.useContext(p_);return We.createElement(uo,Object.assign({onClick:t},n),e)},Jz=()=>{const{confirmLoading:n,okButtonProps:e,okType:t,okTextLocale:r,onOk:a}=M.useContext(p_);return We.createElement(uo,Object.assign({},LB(t),{loading:n,onClick:a},e),r)};function JB(n,e){return We.createElement("span",{className:`${n}-close-x`},e||We.createElement(u0,{className:`${n}-close-icon`}))}const e4=n=>{const{okText:e,okType:t="primary",cancelText:r,confirmLoading:a,onOk:o,onCancel:l,okButtonProps:s,cancelButtonProps:f,footer:h}=n,[v]=u_("Modal",WU()),_=e||(v==null?void 0:v.okText),x=r||(v==null?void 0:v.cancelText),C={confirmLoading:a,okButtonProps:s,cancelButtonProps:f,okTextLocale:_,cancelTextLocale:x,okType:t,onOk:o,onCancel:l},c=We.useMemo(()=>C,Qt(Object.values(C)));let p;return typeof h=="function"||typeof h>"u"?(p=We.createElement(We.Fragment,null,We.createElement(Qz,null),We.createElement(Jz,null)),typeof h=="function"&&(p=h(p,{OkBtn:Jz,CancelBtn:Qz})),p=We.createElement($B,{value:c},p)):p=h,We.createElement(ZU,{disabled:!1},p)},NY=n=>{const{componentCls:e}=n;return{[e]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},UY=n=>{const{componentCls:e}=n;return{[e]:{position:"relative",maxWidth:"100%",minHeight:1}}},BY=(n,e)=>{const{prefixCls:t,componentCls:r,gridColumns:a}=n,o={};for(let l=a;l>=0;l--)l===0?(o[`${r}${e}-${l}`]={display:"none"},o[`${r}-push-${l}`]={insetInlineStart:"auto"},o[`${r}-pull-${l}`]={insetInlineEnd:"auto"},o[`${r}${e}-push-${l}`]={insetInlineStart:"auto"},o[`${r}${e}-pull-${l}`]={insetInlineEnd:"auto"},o[`${r}${e}-offset-${l}`]={marginInlineStart:0},o[`${r}${e}-order-${l}`]={order:0}):(o[`${r}${e}-${l}`]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:`0 0 ${l/a*100}%`,maxWidth:`${l/a*100}%`}],o[`${r}${e}-push-${l}`]={insetInlineStart:`${l/a*100}%`},o[`${r}${e}-pull-${l}`]={insetInlineEnd:`${l/a*100}%`},o[`${r}${e}-offset-${l}`]={marginInlineStart:`${l/a*100}%`},o[`${r}${e}-order-${l}`]={order:l});return o[`${r}${e}-flex`]={flex:`var(--${t}${e}-flex)`},o},E2=(n,e)=>BY(n,e),FY=(n,e,t)=>({[`@media (min-width: ${Ut(e)})`]:Object.assign({},E2(n,t))}),HY=()=>({}),kY=()=>({}),$Y=ma("Grid",NY,HY),t4=n=>({xs:n.screenXSMin,sm:n.screenSMMin,md:n.screenMDMin,lg:n.screenLGMin,xl:n.screenXLMin,xxl:n.screenXXLMin}),VY=ma("Grid",n=>{const e=gr(n,{gridColumns:24}),t=t4(e);return delete t.xs,[UY(e),E2(e,""),E2(e,"-xs"),Object.keys(t).map(r=>FY(e,t[r],`-${r}`)).reduce((r,a)=>Object.assign(Object.assign({},r),a),{})]},kY);function eP(n){return{position:n,inset:0}}const n4=n=>{const{componentCls:e,antCls:t}=n;return[{[`${e}-root`]:{[`${e}${t}-zoom-enter, ${e}${t}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:n.motionDurationSlow,userSelect:"none"},[`${e}${t}-zoom-leave ${e}-content`]:{pointerEvents:"none"},[`${e}-mask`]:Object.assign(Object.assign({},eP("fixed")),{zIndex:n.zIndexPopupBase,height:"100%",backgroundColor:n.colorBgMask,pointerEvents:"none",[`${e}-hidden`]:{display:"none"}}),[`${e}-wrap`]:Object.assign(Object.assign({},eP("fixed")),{zIndex:n.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{[`${e}-root`]:eO(n)}]},GY=n=>{const{componentCls:e}=n;return[{[`${e}-root`]:{[`${e}-wrap-rtl`]:{direction:"rtl"},[`${e}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[e]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${n.screenSMMax}px)`]:{[e]:{maxWidth:"calc(100vw - 16px)",margin:`${Ut(n.marginXS)} auto`},[`${e}-centered`]:{[e]:{flex:1}}}}},{[e]:Object.assign(Object.assign({},jc(n)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${Ut(n.calc(n.margin).mul(2).equal())})`,margin:"0 auto",paddingBottom:n.paddingLG,[`${e}-title`]:{margin:0,color:n.titleColor,fontWeight:n.fontWeightStrong,fontSize:n.titleFontSize,lineHeight:n.titleLineHeight,wordWrap:"break-word"},[`${e}-content`]:{position:"relative",backgroundColor:n.contentBg,backgroundClip:"padding-box",border:0,borderRadius:n.borderRadiusLG,boxShadow:n.boxShadow,pointerEvents:"auto",padding:n.contentPadding},[`${e}-close`]:Object.assign({position:"absolute",top:n.calc(n.modalHeaderHeight).sub(n.modalCloseBtnSize).div(2).equal(),insetInlineEnd:n.calc(n.modalHeaderHeight).sub(n.modalCloseBtnSize).div(2).equal(),zIndex:n.calc(n.zIndexPopupBase).add(10).equal(),padding:0,color:n.modalCloseIconColor,fontWeight:n.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:n.borderRadiusSM,width:n.modalCloseBtnSize,height:n.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${n.motionDurationMid}, background-color ${n.motionDurationMid}`,"&-x":{display:"flex",fontSize:n.fontSizeLG,fontStyle:"normal",lineHeight:Ut(n.modalCloseBtnSize),justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:disabled":{pointerEvents:"none"},"&:hover":{color:n.modalCloseIconHoverColor,backgroundColor:n.colorBgTextHover,textDecoration:"none"},"&:active":{backgroundColor:n.colorBgTextActive}},rB(n)),[`${e}-header`]:{color:n.colorText,background:n.headerBg,borderRadius:`${Ut(n.borderRadiusLG)} ${Ut(n.borderRadiusLG)} 0 0`,marginBottom:n.headerMarginBottom,padding:n.headerPadding,borderBottom:n.headerBorderBottom},[`${e}-body`]:{fontSize:n.fontSize,lineHeight:n.lineHeight,wordWrap:"break-word",padding:n.bodyPadding,[`${e}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:`${Ut(n.margin)} auto`}},[`${e}-footer`]:{textAlign:"end",background:n.footerBg,marginTop:n.footerMarginTop,padding:n.footerPadding,borderTop:n.footerBorderTop,borderRadius:n.footerBorderRadius,[`> ${n.antCls}-btn + ${n.antCls}-btn`]:{marginInlineStart:n.marginXS}},[`${e}-open`]:{overflow:"hidden"}})},{[`${e}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${e}-content,
          ${e}-body,
          ${e}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${e}-confirm-body`]:{marginBottom:"auto"}}}]},jY=n=>{const{componentCls:e}=n;return{[`${e}-root`]:{[`${e}-wrap-rtl`]:{direction:"rtl",[`${e}-confirm-body`]:{direction:"rtl"}}}}},WY=n=>{const{componentCls:e}=n,t=t4(n);delete t.xs;const r=Object.keys(t).map(a=>({[`@media (min-width: ${Ut(t[a])})`]:{width:`var(--${e.replace(".","")}-${a}-width)`}}));return{[`${e}-root`]:{[e]:[{width:`var(--${e.replace(".","")}-xs-width)`}].concat(Qt(r))}}},i4=n=>{const e=n.padding,t=n.fontSizeHeading5,r=n.lineHeightHeading5;return gr(n,{modalHeaderHeight:n.calc(n.calc(r).mul(t).equal()).add(n.calc(e).mul(2).equal()).equal(),modalFooterBorderColorSplit:n.colorSplit,modalFooterBorderStyle:n.lineType,modalFooterBorderWidth:n.lineWidth,modalCloseIconColor:n.colorIcon,modalCloseIconHoverColor:n.colorIconHover,modalCloseBtnSize:n.controlHeight,modalConfirmIconSize:n.fontHeight,modalTitleHeight:n.calc(n.titleFontSize).mul(n.titleLineHeight).equal()})},r4=n=>({footerBg:"transparent",headerBg:n.colorBgElevated,titleLineHeight:n.lineHeightHeading5,titleFontSize:n.fontSizeHeading5,contentBg:n.colorBgElevated,titleColor:n.colorTextHeading,contentPadding:n.wireframe?0:`${Ut(n.paddingMD)} ${Ut(n.paddingContentHorizontalLG)}`,headerPadding:n.wireframe?`${Ut(n.padding)} ${Ut(n.paddingLG)}`:0,headerBorderBottom:n.wireframe?`${Ut(n.lineWidth)} ${n.lineType} ${n.colorSplit}`:"none",headerMarginBottom:n.wireframe?0:n.marginXS,bodyPadding:n.wireframe?n.paddingLG:0,footerPadding:n.wireframe?`${Ut(n.paddingXS)} ${Ut(n.padding)}`:0,footerBorderTop:n.wireframe?`${Ut(n.lineWidth)} ${n.lineType} ${n.colorSplit}`:"none",footerBorderRadius:n.wireframe?`0 0 ${Ut(n.borderRadiusLG)} ${Ut(n.borderRadiusLG)}`:0,footerMarginTop:n.wireframe?0:n.marginSM,confirmBodyPadding:n.wireframe?`${Ut(n.padding*2)} ${Ut(n.padding*2)} ${Ut(n.paddingLG)}`:0,confirmIconMarginInlineEnd:n.wireframe?n.margin:n.marginSM,confirmBtnsMarginTop:n.wireframe?n.marginLG:n.marginSM}),a4=ma("Modal",n=>{const e=i4(n);return[GY(e),jY(e),n4(e),h_(e,"zoom"),WY(e)]},r4,{unitless:{titleLineHeight:!0}});var XY=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};let M2;const YY=n=>{M2={x:n.pageX,y:n.pageY},setTimeout(()=>{M2=null},100)};hY()&&document.documentElement.addEventListener("click",YY,!0);const o4=n=>{var e;const{getPopupContainer:t,getPrefixCls:r,direction:a,modal:o}=M.useContext(ei),l=_e=>{const{onCancel:Re}=n;Re==null||Re(_e)},s=_e=>{const{onOk:Re}=n;Re==null||Re(_e)},{prefixCls:f,className:h,rootClassName:v,open:_,wrapClassName:x,centered:C,getContainer:c,focusTriggerAfterClose:p=!0,style:m,visible:b,width:w=520,footer:A,classNames:R,styles:O,children:P,loading:D}=n,F=XY(n,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading"]),B=r("modal",f),U=r(),V=Xc(B),[Q,X,ee]=a4(B,V),ae=et(x,{[`${B}-centered`]:C??(o==null?void 0:o.centered),[`${B}-wrap-rtl`]:a==="rtl"}),Z=A!==null&&!D?M.createElement(e4,Object.assign({},n,{onOk:s,onCancel:l})):null,[K,te,ce]=dY(Xz(n),Xz(o),{closable:!0,closeIcon:M.createElement(u0,{className:`${B}-close-icon`}),closeIconRender:_e=>JB(B,_e)}),q=LY(`.${B}-content`),[J,he]=f_("Modal",F.zIndex),[ue,j]=M.useMemo(()=>w&&typeof w=="object"?[void 0,w]:[w,void 0],[w]),pe=M.useMemo(()=>{const _e={};return j&&Object.keys(j).forEach(Re=>{const Me=j[Re];Me!==void 0&&(_e[`--${B}-${Re}-width`]=typeof Me=="number"?`${Me}px`:Me)}),_e},[j]);return Q(M.createElement(mw,{form:!0,space:!0},M.createElement(qR.Provider,{value:he},M.createElement(iO,Object.assign({width:ue},F,{zIndex:J,getContainer:c===void 0?t:c,prefixCls:B,rootClassName:et(X,v,ee,V),footer:Z,visible:_??b,mousePosition:(e=F.mousePosition)!==null&&e!==void 0?e:M2,onClose:l,closable:K&&{disabled:ce,closeIcon:te},closeIcon:te,focusTriggerAfterClose:p,transitionName:Zu(U,"zoom",n.transitionName),maskTransitionName:Zu(U,"fade",n.maskTransitionName),className:et(X,h,o==null?void 0:o.className),style:Object.assign(Object.assign(Object.assign({},o==null?void 0:o.style),m),pe),classNames:Object.assign(Object.assign(Object.assign({},o==null?void 0:o.classNames),R),{wrapper:et(ae,R==null?void 0:R.wrapper)}),styles:Object.assign(Object.assign({},o==null?void 0:o.styles),O),panelRef:q}),D?M.createElement(Rm,{active:!0,title:!1,paragraph:{rows:4},className:`${B}-body-skeleton`}):P))))},qY=n=>{const{componentCls:e,titleFontSize:t,titleLineHeight:r,modalConfirmIconSize:a,fontSize:o,lineHeight:l,modalTitleHeight:s,fontHeight:f,confirmBodyPadding:h}=n,v=`${e}-confirm`;return{[v]:{"&-rtl":{direction:"rtl"},[`${n.antCls}-modal-header`]:{display:"none"},[`${v}-body-wrapper`]:Object.assign({},Zv()),[`&${e} ${e}-body`]:{padding:h},[`${v}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${n.iconCls}`]:{flex:"none",fontSize:a,marginInlineEnd:n.confirmIconMarginInlineEnd,marginTop:n.calc(n.calc(f).sub(a).equal()).div(2).equal()},[`&-has-title > ${n.iconCls}`]:{marginTop:n.calc(n.calc(s).sub(a).equal()).div(2).equal()}},[`${v}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:n.marginXS,maxWidth:`calc(100% - ${Ut(n.marginSM)})`},[`${n.iconCls} + ${v}-paragraph`]:{maxWidth:`calc(100% - ${Ut(n.calc(n.modalConfirmIconSize).add(n.marginSM).equal())})`},[`${v}-title`]:{color:n.colorTextHeading,fontWeight:n.fontWeightStrong,fontSize:t,lineHeight:r},[`${v}-content`]:{color:n.colorText,fontSize:o,lineHeight:l},[`${v}-btns`]:{textAlign:"end",marginTop:n.confirmBtnsMarginTop,[`${n.antCls}-btn + ${n.antCls}-btn`]:{marginBottom:0,marginInlineStart:n.marginXS}}},[`${v}-error ${v}-body > ${n.iconCls}`]:{color:n.colorError},[`${v}-warning ${v}-body > ${n.iconCls},
        ${v}-confirm ${v}-body > ${n.iconCls}`]:{color:n.colorWarning},[`${v}-info ${v}-body > ${n.iconCls}`]:{color:n.colorInfo},[`${v}-success ${v}-body > ${n.iconCls}`]:{color:n.colorSuccess}}},ZY=oB(["Modal","confirm"],n=>{const e=i4(n);return[qY(e)]},r4,{order:-1e3});var KY=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};function s4(n){const{prefixCls:e,icon:t,okText:r,cancelText:a,confirmPrefixCls:o,type:l,okCancel:s,footer:f,locale:h}=n,v=KY(n,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let _=t;if(!t&&t!==null)switch(l){case"info":_=M.createElement(hU,null);break;case"success":_=M.createElement(NR,null);break;case"error":_=M.createElement(IC,null);break;default:_=M.createElement(dU,null)}const x=s??l==="confirm",C=n.autoFocusButton===null?!1:n.autoFocusButton||"ok",[c]=u_("Modal"),p=h||c,m=r||(x?p==null?void 0:p.okText:p==null?void 0:p.justOkText),b=a||(p==null?void 0:p.cancelText),w=Object.assign({autoFocusButton:C,cancelTextLocale:b,okTextLocale:m,mergedOkCancel:x},v),A=M.useMemo(()=>w,Qt(Object.values(w))),R=M.createElement(M.Fragment,null,M.createElement(Az,null),M.createElement(Rz,null)),O=n.title!==void 0&&n.title!==null,P=`${o}-body`;return M.createElement("div",{className:`${o}-body-wrapper`},M.createElement("div",{className:et(P,{[`${P}-has-title`]:O})},_,M.createElement("div",{className:`${o}-paragraph`},O&&M.createElement("span",{className:`${o}-title`},n.title),M.createElement("div",{className:`${o}-content`},n.content))),f===void 0||typeof f=="function"?M.createElement($B,{value:A},M.createElement("div",{className:`${o}-btns`},typeof f=="function"?f(R,{OkBtn:Rz,CancelBtn:Az}):R)):f,M.createElement(ZY,{prefixCls:e}))}const QY=n=>{const{close:e,zIndex:t,maskStyle:r,direction:a,prefixCls:o,wrapClassName:l,rootPrefixCls:s,bodyStyle:f,closable:h=!1,onConfirm:v,styles:_}=n,x=`${o}-confirm`,C=n.width||416,c=n.style||{},p=n.mask===void 0?!0:n.mask,m=n.maskClosable===void 0?!1:n.maskClosable,b=et(x,`${x}-${n.type}`,{[`${x}-rtl`]:a==="rtl"},n.className),[,w]=tf(),A=M.useMemo(()=>t!==void 0?t:w.zIndexPopupBase+EB,[t,w]);return M.createElement(o4,Object.assign({},n,{className:b,wrapClassName:et({[`${x}-centered`]:!!n.centered},l),onCancel:()=>{e==null||e({triggerCancel:!0}),v==null||v(!1)},title:"",footer:null,transitionName:Zu(s||"","zoom",n.transitionName),maskTransitionName:Zu(s||"","fade",n.maskTransitionName),mask:p,maskClosable:m,style:c,styles:Object.assign({body:f,mask:r},_),width:C,zIndex:A,closable:h}),M.createElement(s4,Object.assign({},n,{confirmPrefixCls:x})))},l4=n=>{const{rootPrefixCls:e,iconPrefixCls:t,direction:r,theme:a}=n;return M.createElement(gd,{prefixCls:e,iconPrefixCls:t,direction:r,theme:a},M.createElement(QY,Object.assign({},n)))},om=[];let c4="";function u4(){return c4}const JY=n=>{var e,t;const{prefixCls:r,getContainer:a,direction:o}=n,l=WU(),s=M.useContext(ei),f=u4()||s.getPrefixCls(),h=r||`${f}-modal`;let v=a;return v===!1&&(v=void 0),We.createElement(l4,Object.assign({},n,{rootPrefixCls:f,prefixCls:h,iconPrefixCls:s.iconPrefixCls,theme:s.theme,direction:o??s.direction,locale:(t=(e=s.locale)===null||e===void 0?void 0:e.Modal)!==null&&t!==void 0?t:l,getContainer:v}))};function v_(n){const e=SB(),t=document.createDocumentFragment();let r=Object.assign(Object.assign({},n),{close:f,open:!0}),a,o;function l(){for(var v,_=arguments.length,x=new Array(_),C=0;C<_;C++)x[C]=arguments[C];if(x.some(m=>m==null?void 0:m.triggerCancel)){var p;(v=n.onCancel)===null||v===void 0||(p=v).call.apply(p,[n,()=>{}].concat(Qt(x.slice(1))))}for(let m=0;m<om.length;m++)if(om[m]===f){om.splice(m,1);break}o()}function s(v){clearTimeout(a),a=setTimeout(()=>{const _=e.getPrefixCls(void 0,u4()),x=e.getIconPrefixCls(),C=e.getTheme(),c=We.createElement(JY,Object.assign({},v));o=KR()(We.createElement(gd,{prefixCls:_,iconPrefixCls:x,theme:C},e.holderRender?e.holderRender(c):c),t)})}function f(){for(var v=arguments.length,_=new Array(v),x=0;x<v;x++)_[x]=arguments[x];r=Object.assign(Object.assign({},r),{open:!1,afterClose:()=>{typeof n.afterClose=="function"&&n.afterClose(),l.apply(this,_)}}),r.visible&&delete r.visible,s(r)}function h(v){typeof v=="function"?r=v(r):r=Object.assign(Object.assign({},r),v),s(r)}return s(r),om.push(f),{destroy:f,update:h}}function f4(n){return Object.assign(Object.assign({},n),{type:"warning"})}function d4(n){return Object.assign(Object.assign({},n),{type:"info"})}function h4(n){return Object.assign(Object.assign({},n),{type:"success"})}function p4(n){return Object.assign(Object.assign({},n),{type:"error"})}function m4(n){return Object.assign(Object.assign({},n),{type:"confirm"})}function eq(n){let{rootPrefixCls:e}=n;c4=e}var tq=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const nq=(n,e)=>{var t,{afterClose:r,config:a}=n,o=tq(n,["afterClose","config"]);const[l,s]=M.useState(!0),[f,h]=M.useState(a),{direction:v,getPrefixCls:_}=M.useContext(ei),x=_("modal"),C=_(),c=()=>{var w;r(),(w=f.afterClose)===null||w===void 0||w.call(f)},p=function(){var w;s(!1);for(var A=arguments.length,R=new Array(A),O=0;O<A;O++)R[O]=arguments[O];if(R.some(F=>F==null?void 0:F.triggerCancel)){var D;(w=f.onCancel)===null||w===void 0||(D=w).call.apply(D,[f,()=>{}].concat(Qt(R.slice(1))))}};M.useImperativeHandle(e,()=>({destroy:p,update:w=>{h(A=>Object.assign(Object.assign({},A),w))}}));const m=(t=f.okCancel)!==null&&t!==void 0?t:f.type==="confirm",[b]=u_("Modal",Ph.Modal);return M.createElement(l4,Object.assign({prefixCls:x,rootPrefixCls:C},f,{close:p,open:l,afterClose:c,okText:f.okText||(m?b==null?void 0:b.okText:b==null?void 0:b.justOkText),direction:f.direction||v,cancelText:f.cancelText||(b==null?void 0:b.cancelText)},o))},iq=M.forwardRef(nq);let tP=0;const rq=M.memo(M.forwardRef((n,e)=>{const[t,r]=m9();return M.useImperativeHandle(e,()=>({patchElement:r}),[]),M.createElement(M.Fragment,null,t)}));function aq(){const n=M.useRef(null),[e,t]=M.useState([]);M.useEffect(()=>{e.length&&(Qt(e).forEach(l=>{l()}),t([]))},[e]);const r=M.useCallback(o=>function(s){var f;tP+=1;const h=M.createRef();let v;const _=new Promise(m=>{v=m});let x=!1,C;const c=M.createElement(iq,{key:`modal-${tP}`,config:o(s),ref:h,afterClose:()=>{C==null||C()},isSilent:()=>x,onConfirm:m=>{v(m)}});return C=(f=n.current)===null||f===void 0?void 0:f.patchElement(c),C&&om.push(C),{destroy:()=>{function m(){var b;(b=h.current)===null||b===void 0||b.destroy()}h.current?m():t(b=>[].concat(Qt(b),[m]))},update:m=>{function b(){var w;(w=h.current)===null||w===void 0||w.update(m)}h.current?b():t(w=>[].concat(Qt(w),[b]))},then:m=>(x=!0,_.then(m))}},[]);return[M.useMemo(()=>({info:r(d4),success:r(h4),error:r(p4),warning:r(f4),confirm:r(m4)}),[]),M.createElement(rq,{key:"modal-holder",ref:n})]}const oq=We.createContext({});function sq(n){return e=>M.createElement(gd,{theme:{token:{motion:!1,zIndexPopupBase:0}}},M.createElement(n,Object.assign({},e)))}const lq=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var n=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(n)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(n==null?void 0:n.substr(0,4))};var cq=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],Tg=void 0;function uq(n,e){var t=n.prefixCls,r=n.invalidate,a=n.item,o=n.renderItem,l=n.responsive,s=n.responsiveDisabled,f=n.registerSize,h=n.itemKey,v=n.className,_=n.style,x=n.children,C=n.display,c=n.order,p=n.component,m=p===void 0?"div":p,b=jn(n,cq),w=l&&!C;function A(F){f(h,F)}M.useEffect(function(){return function(){A(null)}},[]);var R=o&&a!==Tg?o(a,{index:c}):x,O;r||(O={opacity:w?0:1,height:w?0:Tg,overflowY:w?"hidden":Tg,order:l?c:Tg,pointerEvents:w?"none":Tg,position:w?"absolute":Tg});var P={};w&&(P["aria-hidden"]=!0);var D=M.createElement(m,Nt({className:et(!r&&t,v),style:Ne(Ne({},O),_)},P,b,{ref:e}),R);return l&&(D=M.createElement(Tm,{onResize:function(B){var U=B.offsetWidth;A(U)},disabled:s},D)),D}var fb=M.forwardRef(uq);fb.displayName="Item";function fq(n){if(typeof MessageChannel>"u")fo(n);else{var e=new MessageChannel;e.port1.onmessage=function(){return n()},e.port2.postMessage(void 0)}}function dq(){var n=M.useRef(null),e=function(r){n.current||(n.current=[],fq(function(){zh.unstable_batchedUpdates(function(){n.current.forEach(function(a){a()}),n.current=null})})),n.current.push(r)};return e}function Sy(n,e){var t=M.useState(e),r=yt(t,2),a=r[0],o=r[1],l=Za(function(s){n(function(){o(s)})});return[a,l]}var gw=We.createContext(null),hq=["component"],pq=["className"],mq=["className"],gq=function(e,t){var r=M.useContext(gw);if(!r){var a=e.component,o=a===void 0?"div":a,l=jn(e,hq);return M.createElement(o,Nt({},l,{ref:t}))}var s=r.className,f=jn(r,pq),h=e.className,v=jn(e,mq);return M.createElement(gw.Provider,{value:null},M.createElement(fb,Nt({ref:t,className:et(s,h)},f,v)))},g4=M.forwardRef(gq);g4.displayName="RawItem";var vq=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],v4="responsive",y4="invalidate";function yq(n){return"+ ".concat(n.length," ...")}function bq(n,e){var t=n.prefixCls,r=t===void 0?"rc-overflow":t,a=n.data,o=a===void 0?[]:a,l=n.renderItem,s=n.renderRawItem,f=n.itemKey,h=n.itemWidth,v=h===void 0?10:h,_=n.ssr,x=n.style,C=n.className,c=n.maxCount,p=n.renderRest,m=n.renderRawRest,b=n.suffix,w=n.component,A=w===void 0?"div":w,R=n.itemComponent,O=n.onVisibleChange,P=jn(n,vq),D=_==="full",F=dq(),B=Sy(F,null),U=yt(B,2),V=U[0],Q=U[1],X=V||0,ee=Sy(F,new Map),ae=yt(ee,2),Z=ae[0],K=ae[1],te=Sy(F,0),ce=yt(te,2),q=ce[0],J=ce[1],he=Sy(F,0),ue=yt(he,2),j=ue[0],pe=ue[1],_e=Sy(F,0),Re=yt(_e,2),Me=Re[0],Ae=Re[1],Ue=M.useState(null),gt=yt(Ue,2),ze=gt[0],we=gt[1],re=M.useState(null),Fe=yt(re,2),Ie=Fe[0],Ye=Fe[1],$e=M.useMemo(function(){return Ie===null&&D?Number.MAX_SAFE_INTEGER:Ie||0},[Ie,V]),lt=M.useState(!1),ot=yt(lt,2),fe=ot[0],oe=ot[1],Ee="".concat(r,"-item"),Pe=Math.max(q,j),qe=c===v4,He=o.length&&qe,mt=c===y4,st=He||typeof c=="number"&&o.length>c,ht=M.useMemo(function(){var Zt=o;return He?V===null&&D?Zt=o:Zt=o.slice(0,Math.min(o.length,X/v)):typeof c=="number"&&(Zt=o.slice(0,c)),Zt},[o,v,V,c,He]),It=M.useMemo(function(){return He?o.slice($e+1):o.slice(ht.length)},[o,ht,He,$e]),at=M.useCallback(function(Zt,Dt){var qt;return typeof f=="function"?f(Zt):(qt=f&&(Zt==null?void 0:Zt[f]))!==null&&qt!==void 0?qt:Dt},[f]),_t=M.useCallback(l||function(Zt){return Zt},[l]);function wt(Zt,Dt,qt){Ie===Zt&&(Dt===void 0||Dt===ze)||(Ye(Zt),qt||(oe(Zt<o.length-1),O==null||O(Zt)),Dt!==void 0&&we(Dt))}function je(Zt,Dt){Q(Dt.clientWidth)}function it(Zt,Dt){K(function(qt){var _n=new Map(qt);return Dt===null?_n.delete(Zt):_n.set(Zt,Dt),_n})}function Se(Zt,Dt){pe(Dt),J(j)}function ke(Zt,Dt){Ae(Dt)}function bt(Zt){return Z.get(at(ht[Zt],Zt))}Ca(function(){if(X&&typeof Pe=="number"&&ht){var Zt=Me,Dt=ht.length,qt=Dt-1;if(!Dt){wt(0,null);return}for(var _n=0;_n<Dt;_n+=1){var cr=bt(_n);if(D&&(cr=cr||0),cr===void 0){wt(_n-1,void 0,!0);break}if(Zt+=cr,qt===0&&Zt<=X||_n===qt-1&&Zt+bt(qt)<=X){wt(qt,null);break}else if(Zt+Pe>X){wt(_n-1,Zt-cr-Me+j);break}}b&&bt(0)+Me>X&&we(null)}},[X,Z,j,Me,at,ht]);var Te=fe&&!!It.length,St={};ze!==null&&He&&(St={position:"absolute",left:ze,top:0});var Qe={prefixCls:Ee,responsive:He,component:R,invalidate:mt},pt=s?function(Zt,Dt){var qt=at(Zt,Dt);return M.createElement(gw.Provider,{key:qt,value:Ne(Ne({},Qe),{},{order:Dt,item:Zt,itemKey:qt,registerSize:it,display:Dt<=$e})},s(Zt,Dt))}:function(Zt,Dt){var qt=at(Zt,Dt);return M.createElement(fb,Nt({},Qe,{order:Dt,key:qt,item:Zt,renderItem:_t,itemKey:qt,registerSize:it,display:Dt<=$e}))},Lt={order:Te?$e:Number.MAX_SAFE_INTEGER,className:"".concat(Ee,"-rest"),registerSize:Se,display:Te},zt=p||yq,Jt=m?M.createElement(gw.Provider,{value:Ne(Ne({},Qe),Lt)},m(It)):M.createElement(fb,Nt({},Qe,Lt),typeof zt=="function"?zt(It):zt),cn=M.createElement(A,Nt({className:et(!mt&&r,C),style:x,ref:e},P),ht.map(pt),st?Jt:null,b&&M.createElement(fb,Nt({},Qe,{responsive:qe,responsiveDisabled:!He,order:$e,className:"".concat(Ee,"-suffix"),registerSize:ke,display:!0,style:St}),b));return qe?M.createElement(Tm,{onResize:je,disabled:!He},cn):cn}var od=M.forwardRef(bq);od.displayName="Overflow";od.Item=g4;od.RESPONSIVE=v4;od.INVALIDATE=y4;function _q(n){var e=n.prefixCls,t=n.align,r=n.arrow,a=n.arrowPos,o=r||{},l=o.className,s=o.content,f=a.x,h=f===void 0?0:f,v=a.y,_=v===void 0?0:v,x=M.useRef();if(!t||!t.points)return null;var C={position:"absolute"};if(t.autoArrow!==!1){var c=t.points[0],p=t.points[1],m=c[0],b=c[1],w=p[0],A=p[1];m===w||!["t","b"].includes(m)?C.top=_:m==="t"?C.top=0:C.bottom=0,b===A||!["l","r"].includes(b)?C.left=h:b==="l"?C.left=0:C.right=0}return M.createElement("div",{ref:x,className:et("".concat(e,"-arrow"),l),style:C},s)}function Sq(n){var e=n.prefixCls,t=n.open,r=n.zIndex,a=n.mask,o=n.motion;return a?M.createElement(Wc,Nt({},o,{motionAppear:!0,visible:t,removeOnLeave:!0}),function(l){var s=l.className;return M.createElement("div",{style:{zIndex:r},className:et("".concat(e,"-mask"),s)})}):null}var xq=M.memo(function(n){var e=n.children;return e},function(n,e){return e.cache}),wq=M.forwardRef(function(n,e){var t=n.popup,r=n.className,a=n.prefixCls,o=n.style,l=n.target,s=n.onVisibleChanged,f=n.open,h=n.keepDom,v=n.fresh,_=n.onClick,x=n.mask,C=n.arrow,c=n.arrowPos,p=n.align,m=n.motion,b=n.maskMotion,w=n.forceRender,A=n.getPopupContainer,R=n.autoDestroy,O=n.portal,P=n.zIndex,D=n.onMouseEnter,F=n.onMouseLeave,B=n.onPointerEnter,U=n.onPointerDownCapture,V=n.ready,Q=n.offsetX,X=n.offsetY,ee=n.offsetR,ae=n.offsetB,Z=n.onAlign,K=n.onPrepare,te=n.stretch,ce=n.targetWidth,q=n.targetHeight,J=typeof t=="function"?t():t,he=f||h,ue=(A==null?void 0:A.length)>0,j=M.useState(!A||!ue),pe=yt(j,2),_e=pe[0],Re=pe[1];if(Ca(function(){!_e&&ue&&l&&Re(!0)},[_e,ue,l]),!_e)return null;var Me="auto",Ae={left:"-1000vw",top:"-1000vh",right:Me,bottom:Me};if(V||!f){var Ue,gt=p.points,ze=p.dynamicInset||((Ue=p._experimental)===null||Ue===void 0?void 0:Ue.dynamicInset),we=ze&&gt[0][1]==="r",re=ze&&gt[0][0]==="b";we?(Ae.right=ee,Ae.left=Me):(Ae.left=Q,Ae.right=Me),re?(Ae.bottom=ae,Ae.top=Me):(Ae.top=X,Ae.bottom=Me)}var Fe={};return te&&(te.includes("height")&&q?Fe.height=q:te.includes("minHeight")&&q&&(Fe.minHeight=q),te.includes("width")&&ce?Fe.width=ce:te.includes("minWidth")&&ce&&(Fe.minWidth=ce)),f||(Fe.pointerEvents="none"),M.createElement(O,{open:w||he,getContainer:A&&function(){return A(l)},autoDestroy:R},M.createElement(Sq,{prefixCls:a,open:f,zIndex:P,mask:x,motion:b}),M.createElement(Tm,{onResize:Z,disabled:!f},function(Ie){return M.createElement(Wc,Nt({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:w,leavedClassName:"".concat(a,"-hidden")},m,{onAppearPrepare:K,onEnterPrepare:K,visible:f,onVisibleChanged:function($e){var lt;m==null||(lt=m.onVisibleChanged)===null||lt===void 0||lt.call(m,$e),s($e)}}),function(Ye,$e){var lt=Ye.className,ot=Ye.style,fe=et(a,lt,r);return M.createElement("div",{ref:Fh(Ie,e,$e),className:fe,style:Ne(Ne(Ne(Ne({"--arrow-x":"".concat(c.x||0,"px"),"--arrow-y":"".concat(c.y||0,"px")},Ae),Fe),ot),{},{boxSizing:"border-box",zIndex:P},o),onMouseEnter:D,onMouseLeave:F,onPointerEnter:B,onClick:_,onPointerDownCapture:U},C&&M.createElement(_q,{prefixCls:a,arrow:C,arrowPos:c,align:p}),M.createElement(xq,{cache:!f&&!v},J))})}))}),Cq=M.forwardRef(function(n,e){var t=n.children,r=n.getTriggerDOMNode,a=l_(t),o=M.useCallback(function(s){BR(e,r?r(s):s)},[r]),l=f0(o,PC(t));return a?M.cloneElement(t,{ref:l}):t}),nP=M.createContext(null);function iP(n){return n?Array.isArray(n)?n:[n]:[]}function Eq(n,e,t,r){return M.useMemo(function(){var a=iP(t??e),o=iP(r??e),l=new Set(a),s=new Set(o);return n&&(l.has("hover")&&(l.delete("hover"),l.add("click")),s.has("hover")&&(s.delete("hover"),s.add("click"))),[l,s]},[n,e,t,r])}function Mq(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=arguments.length>2?arguments[2]:void 0;return t?n[0]===e[0]:n[0]===e[0]&&n[1]===e[1]}function Tq(n,e,t,r){for(var a=t.points,o=Object.keys(n),l=0;l<o.length;l+=1){var s,f=o[l];if(Mq((s=n[f])===null||s===void 0?void 0:s.points,a,r))return"".concat(e,"-placement-").concat(f)}return""}function rP(n,e,t,r){return e||(t?{motionName:"".concat(n,"-").concat(t)}:r?{motionName:r}:null)}function y_(n){return n.ownerDocument.defaultView}function T2(n){for(var e=[],t=n==null?void 0:n.parentElement,r=["hidden","scroll","clip","auto"];t;){var a=y_(t).getComputedStyle(t),o=a.overflowX,l=a.overflowY,s=a.overflow;[o,l,s].some(function(f){return r.includes(f)})&&e.push(t),t=t.parentElement}return e}function Nb(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(n)?e:n}function xy(n){return Nb(parseFloat(n),0)}function aP(n,e){var t=Ne({},n);return(e||[]).forEach(function(r){if(!(r instanceof HTMLBodyElement||r instanceof HTMLHtmlElement)){var a=y_(r).getComputedStyle(r),o=a.overflow,l=a.overflowClipMargin,s=a.borderTopWidth,f=a.borderBottomWidth,h=a.borderLeftWidth,v=a.borderRightWidth,_=r.getBoundingClientRect(),x=r.offsetHeight,C=r.clientHeight,c=r.offsetWidth,p=r.clientWidth,m=xy(s),b=xy(f),w=xy(h),A=xy(v),R=Nb(Math.round(_.width/c*1e3)/1e3),O=Nb(Math.round(_.height/x*1e3)/1e3),P=(c-p-w-A)*R,D=(x-C-m-b)*O,F=m*O,B=b*O,U=w*R,V=A*R,Q=0,X=0;if(o==="clip"){var ee=xy(l);Q=ee*R,X=ee*O}var ae=_.x+U-Q,Z=_.y+F-X,K=ae+_.width+2*Q-U-V-P,te=Z+_.height+2*X-F-B-D;t.left=Math.max(t.left,ae),t.top=Math.max(t.top,Z),t.right=Math.min(t.right,K),t.bottom=Math.min(t.bottom,te)}}),t}function oP(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t="".concat(e),r=t.match(/^(.*)\%$/);return r?n*(parseFloat(r[1])/100):parseFloat(t)}function sP(n,e){var t=e||[],r=yt(t,2),a=r[0],o=r[1];return[oP(n.width,a),oP(n.height,o)]}function lP(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[n[0],n[1]]}function Ag(n,e){var t=e[0],r=e[1],a,o;return t==="t"?o=n.y:t==="b"?o=n.y+n.height:o=n.y+n.height/2,r==="l"?a=n.x:r==="r"?a=n.x+n.width:a=n.x+n.width/2,{x:a,y:o}}function eh(n,e){var t={t:"b",b:"t",l:"r",r:"l"};return n.map(function(r,a){return a===e?t[r]||"c":r}).join("")}function Aq(n,e,t,r,a,o,l){var s=M.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:a[r]||{}}),f=yt(s,2),h=f[0],v=f[1],_=M.useRef(0),x=M.useMemo(function(){return e?T2(e):[]},[e]),C=M.useRef({}),c=function(){C.current={}};n||c();var p=Za(function(){if(e&&t&&n){let Cr=function(Na,ga){var Ta=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Pe,Ls=j.x+Na,mo=j.y+ga,Gl=Ls+we,tn=mo+ze,xn=Math.max(Ls,Ta.left),Oi=Math.max(mo,Ta.top),Ei=Math.min(Gl,Ta.right),Hi=Math.min(tn,Ta.bottom);return Math.max(0,(Ei-xn)*(Hi-Oi))},Ho=function(){Nr=j.y+qt,Ur=Nr+ze,Ir=j.x+Dt,zr=Ir+we};var sf=Cr,Zc=Ho,w,A,R,O,P=e,D=P.ownerDocument,F=y_(P),B=F.getComputedStyle(P),U=B.width,V=B.height,Q=B.position,X=P.style.left,ee=P.style.top,ae=P.style.right,Z=P.style.bottom,K=P.style.overflow,te=Ne(Ne({},a[r]),o),ce=D.createElement("div");(w=P.parentElement)===null||w===void 0||w.appendChild(ce),ce.style.left="".concat(P.offsetLeft,"px"),ce.style.top="".concat(P.offsetTop,"px"),ce.style.position=Q,ce.style.height="".concat(P.offsetHeight,"px"),ce.style.width="".concat(P.offsetWidth,"px"),P.style.left="0",P.style.top="0",P.style.right="auto",P.style.bottom="auto",P.style.overflow="hidden";var q;if(Array.isArray(t))q={x:t[0],y:t[1],width:0,height:0};else{var J,he,ue=t.getBoundingClientRect();ue.x=(J=ue.x)!==null&&J!==void 0?J:ue.left,ue.y=(he=ue.y)!==null&&he!==void 0?he:ue.top,q={x:ue.x,y:ue.y,width:ue.width,height:ue.height}}var j=P.getBoundingClientRect();j.x=(A=j.x)!==null&&A!==void 0?A:j.left,j.y=(R=j.y)!==null&&R!==void 0?R:j.top;var pe=D.documentElement,_e=pe.clientWidth,Re=pe.clientHeight,Me=pe.scrollWidth,Ae=pe.scrollHeight,Ue=pe.scrollTop,gt=pe.scrollLeft,ze=j.height,we=j.width,re=q.height,Fe=q.width,Ie={left:0,top:0,right:_e,bottom:Re},Ye={left:-gt,top:-Ue,right:Me-gt,bottom:Ae-Ue},$e=te.htmlRegion,lt="visible",ot="visibleFirst";$e!=="scroll"&&$e!==ot&&($e=lt);var fe=$e===ot,oe=aP(Ye,x),Ee=aP(Ie,x),Pe=$e===lt?Ee:oe,qe=fe?Ee:Pe;P.style.left="auto",P.style.top="auto",P.style.right="0",P.style.bottom="0";var He=P.getBoundingClientRect();P.style.left=X,P.style.top=ee,P.style.right=ae,P.style.bottom=Z,P.style.overflow=K,(O=P.parentElement)===null||O===void 0||O.removeChild(ce);var mt=Nb(Math.round(we/parseFloat(U)*1e3)/1e3),st=Nb(Math.round(ze/parseFloat(V)*1e3)/1e3);if(mt===0||st===0||Rb(t)&&!QR(t))return;var ht=te.offset,It=te.targetOffset,at=sP(j,ht),_t=yt(at,2),wt=_t[0],je=_t[1],it=sP(q,It),Se=yt(it,2),ke=Se[0],bt=Se[1];q.x-=ke,q.y-=bt;var Te=te.points||[],St=yt(Te,2),Qe=St[0],pt=St[1],Lt=lP(pt),zt=lP(Qe),Jt=Ag(q,Lt),cn=Ag(j,zt),Zt=Ne({},te),Dt=Jt.x-cn.x+wt,qt=Jt.y-cn.y+je,_n=Cr(Dt,qt),cr=Cr(Dt,qt,Ee),Kr=Ag(q,["t","l"]),Bn=Ag(j,["t","l"]),Ri=Ag(q,["b","r"]),xr=Ag(j,["b","r"]),Tn=te.overflow||{},Rn=Tn.adjustX,ti=Tn.adjustY,dn=Tn.shiftX,ai=Tn.shiftY,un=function(ga){return typeof ga=="boolean"?ga:ga>=0},Nr,Ur,Ir,zr;Ho();var ur=un(ti),wr=zt[0]===Lt[0];if(ur&&zt[0]==="t"&&(Ur>qe.bottom||C.current.bt)){var le=qt;wr?le-=ze-re:le=Kr.y-xr.y-je;var Be=Cr(Dt,le),rt=Cr(Dt,le,Ee);Be>_n||Be===_n&&(!fe||rt>=cr)?(C.current.bt=!0,qt=le,je=-je,Zt.points=[eh(zt,0),eh(Lt,0)]):C.current.bt=!1}if(ur&&zt[0]==="b"&&(Nr<qe.top||C.current.tb)){var Ke=qt;wr?Ke+=ze-re:Ke=Ri.y-Bn.y-je;var Ve=Cr(Dt,Ke),Rt=Cr(Dt,Ke,Ee);Ve>_n||Ve===_n&&(!fe||Rt>=cr)?(C.current.tb=!0,qt=Ke,je=-je,Zt.points=[eh(zt,0),eh(Lt,0)]):C.current.tb=!1}var jt=un(Rn),Kt=zt[1]===Lt[1];if(jt&&zt[1]==="l"&&(zr>qe.right||C.current.rl)){var Xt=Dt;Kt?Xt-=we-Fe:Xt=Kr.x-xr.x-wt;var bn=Cr(Xt,qt),hn=Cr(Xt,qt,Ee);bn>_n||bn===_n&&(!fe||hn>=cr)?(C.current.rl=!0,Dt=Xt,wt=-wt,Zt.points=[eh(zt,1),eh(Lt,1)]):C.current.rl=!1}if(jt&&zt[1]==="r"&&(Ir<qe.left||C.current.lr)){var sn=Dt;Kt?sn+=we-Fe:sn=Ri.x-Bn.x-wt;var $n=Cr(sn,qt),Gn=Cr(sn,qt,Ee);$n>_n||$n===_n&&(!fe||Gn>=cr)?(C.current.lr=!0,Dt=sn,wt=-wt,Zt.points=[eh(zt,1),eh(Lt,1)]):C.current.lr=!1}Ho();var Wn=dn===!0?0:dn;typeof Wn=="number"&&(Ir<Ee.left&&(Dt-=Ir-Ee.left-wt,q.x+Fe<Ee.left+Wn&&(Dt+=q.x-Ee.left+Fe-Wn)),zr>Ee.right&&(Dt-=zr-Ee.right-wt,q.x>Ee.right-Wn&&(Dt+=q.x-Ee.right+Wn)));var Pn=ai===!0?0:ai;typeof Pn=="number"&&(Nr<Ee.top&&(qt-=Nr-Ee.top-je,q.y+re<Ee.top+Pn&&(qt+=q.y-Ee.top+re-Pn)),Ur>Ee.bottom&&(qt-=Ur-Ee.bottom-je,q.y>Ee.bottom-Pn&&(qt+=q.y-Ee.bottom+Pn)));var Sn=j.x+Dt,fn=Sn+we,wi=j.y+qt,Xn=wi+ze,Vn=q.x,On=Vn+Fe,En=q.y,ni=En+re,An=Math.max(Sn,Vn),Ci=Math.min(fn,On),Ni=(An+Ci)/2,Gi=Ni-Sn,Ki=Math.max(wi,En),Pr=Math.min(Xn,ni),Yi=(Ki+Pr)/2,po=Yi-wi;l==null||l(e,Zt);var Ka=He.right-j.x-(Dt+j.width),Ma=He.bottom-j.y-(qt+j.height);mt===1&&(Dt=Math.round(Dt),Ka=Math.round(Ka)),st===1&&(qt=Math.round(qt),Ma=Math.round(Ma));var Ds={ready:!0,offsetX:Dt/mt,offsetY:qt/st,offsetR:Ka/mt,offsetB:Ma/st,arrowX:Gi/mt,arrowY:po/st,scaleX:mt,scaleY:st,align:Zt};v(Ds)}}),m=function(){_.current+=1;var A=_.current;Promise.resolve().then(function(){_.current===A&&p()})},b=function(){v(function(A){return Ne(Ne({},A),{},{ready:!1})})};return Ca(b,[r]),Ca(function(){n||b()},[n]),[h.ready,h.offsetX,h.offsetY,h.offsetR,h.offsetB,h.arrowX,h.arrowY,h.scaleX,h.scaleY,h.align,m]}function Rq(n,e,t,r,a){Ca(function(){if(n&&e&&t){let x=function(){r(),a()};var _=x,o=e,l=t,s=T2(o),f=T2(l),h=y_(l),v=new Set([h].concat(Qt(s),Qt(f)));return v.forEach(function(C){C.addEventListener("scroll",x,{passive:!0})}),h.addEventListener("resize",x,{passive:!0}),r(),function(){v.forEach(function(C){C.removeEventListener("scroll",x),h.removeEventListener("resize",x)})}}},[n,e,t])}function Oq(n,e,t,r,a,o,l,s){var f=M.useRef(n);f.current=n;var h=M.useRef(!1);M.useEffect(function(){if(e&&r&&(!a||o)){var _=function(){h.current=!1},x=function(m){var b;f.current&&!l(((b=m.composedPath)===null||b===void 0||(b=b.call(m))===null||b===void 0?void 0:b[0])||m.target)&&!h.current&&s(!1)},C=y_(r);C.addEventListener("pointerdown",_,!0),C.addEventListener("mousedown",x,!0),C.addEventListener("contextmenu",x,!0);var c=sw(t);return c&&(c.addEventListener("mousedown",x,!0),c.addEventListener("contextmenu",x,!0)),function(){C.removeEventListener("pointerdown",_,!0),C.removeEventListener("mousedown",x,!0),C.removeEventListener("contextmenu",x,!0),c&&(c.removeEventListener("mousedown",x,!0),c.removeEventListener("contextmenu",x,!0))}}},[e,t,r,a,o]);function v(){h.current=!0}return v}var Iq=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function zq(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:YC,e=M.forwardRef(function(t,r){var a=t.prefixCls,o=a===void 0?"rc-trigger-popup":a,l=t.children,s=t.action,f=s===void 0?"hover":s,h=t.showAction,v=t.hideAction,_=t.popupVisible,x=t.defaultPopupVisible,C=t.onPopupVisibleChange,c=t.afterPopupVisibleChange,p=t.mouseEnterDelay,m=t.mouseLeaveDelay,b=m===void 0?.1:m,w=t.focusDelay,A=t.blurDelay,R=t.mask,O=t.maskClosable,P=O===void 0?!0:O,D=t.getPopupContainer,F=t.forceRender,B=t.autoDestroy,U=t.destroyPopupOnHide,V=t.popup,Q=t.popupClassName,X=t.popupStyle,ee=t.popupPlacement,ae=t.builtinPlacements,Z=ae===void 0?{}:ae,K=t.popupAlign,te=t.zIndex,ce=t.stretch,q=t.getPopupClassNameFromAlign,J=t.fresh,he=t.alignPoint,ue=t.onPopupClick,j=t.onPopupAlign,pe=t.arrow,_e=t.popupMotion,Re=t.maskMotion,Me=t.popupTransitionName,Ae=t.popupAnimation,Ue=t.maskTransitionName,gt=t.maskAnimation,ze=t.className,we=t.getTriggerDOMNode,re=jn(t,Iq),Fe=B||U||!1,Ie=M.useState(!1),Ye=yt(Ie,2),$e=Ye[0],lt=Ye[1];Ca(function(){lt(lq())},[]);var ot=M.useRef({}),fe=M.useContext(nP),oe=M.useMemo(function(){return{registerSubPopup:function(xn,Oi){ot.current[xn]=Oi,fe==null||fe.registerSubPopup(xn,Oi)}}},[fe]),Ee=nO(),Pe=M.useState(null),qe=yt(Pe,2),He=qe[0],mt=qe[1],st=M.useRef(null),ht=Za(function(tn){st.current=tn,Rb(tn)&&He!==tn&&mt(tn),fe==null||fe.registerSubPopup(Ee,tn)}),It=M.useState(null),at=yt(It,2),_t=at[0],wt=at[1],je=M.useRef(null),it=Za(function(tn){Rb(tn)&&_t!==tn&&(wt(tn),je.current=tn)}),Se=M.Children.only(l),ke=(Se==null?void 0:Se.props)||{},bt={},Te=Za(function(tn){var xn,Oi,Ei=_t;return(Ei==null?void 0:Ei.contains(tn))||((xn=sw(Ei))===null||xn===void 0?void 0:xn.host)===tn||tn===Ei||(He==null?void 0:He.contains(tn))||((Oi=sw(He))===null||Oi===void 0?void 0:Oi.host)===tn||tn===He||Object.values(ot.current).some(function(Hi){return(Hi==null?void 0:Hi.contains(tn))||tn===Hi})}),St=rP(o,_e,Ae,Me),Qe=rP(o,Re,gt,Ue),pt=M.useState(x||!1),Lt=yt(pt,2),zt=Lt[0],Jt=Lt[1],cn=_??zt,Zt=Za(function(tn){_===void 0&&Jt(tn)});Ca(function(){Jt(_||!1)},[_]);var Dt=M.useRef(cn);Dt.current=cn;var qt=M.useRef([]);qt.current=[];var _n=Za(function(tn){var xn;Zt(tn),((xn=qt.current[qt.current.length-1])!==null&&xn!==void 0?xn:cn)!==tn&&(qt.current.push(tn),C==null||C(tn))}),cr=M.useRef(),Kr=function(){clearTimeout(cr.current)},Bn=function(xn){var Oi=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Kr(),Oi===0?_n(xn):cr.current=setTimeout(function(){_n(xn)},Oi*1e3)};M.useEffect(function(){return Kr},[]);var Ri=M.useState(!1),xr=yt(Ri,2),Tn=xr[0],Rn=xr[1];Ca(function(tn){(!tn||cn)&&Rn(!0)},[cn]);var ti=M.useState(null),dn=yt(ti,2),ai=dn[0],un=dn[1],Nr=M.useState(null),Ur=yt(Nr,2),Ir=Ur[0],zr=Ur[1],ur=function(xn){zr([xn.clientX,xn.clientY])},wr=Aq(cn,He,he&&Ir!==null?Ir:_t,ee,Z,K,j),le=yt(wr,11),Be=le[0],rt=le[1],Ke=le[2],Ve=le[3],Rt=le[4],jt=le[5],Kt=le[6],Xt=le[7],bn=le[8],hn=le[9],sn=le[10],$n=Eq($e,f,h,v),Gn=yt($n,2),Wn=Gn[0],Pn=Gn[1],Sn=Wn.has("click"),fn=Pn.has("click")||Pn.has("contextMenu"),wi=Za(function(){Tn||sn()}),Xn=function(){Dt.current&&he&&fn&&Bn(!1)};Rq(cn,_t,He,wi,Xn),Ca(function(){wi()},[Ir,ee]),Ca(function(){cn&&!(Z!=null&&Z[ee])&&wi()},[JSON.stringify(K)]);var Vn=M.useMemo(function(){var tn=Tq(Z,o,hn,he);return et(tn,q==null?void 0:q(hn))},[hn,q,Z,o,he]);M.useImperativeHandle(r,function(){return{nativeElement:je.current,popupElement:st.current,forceAlign:wi}});var On=M.useState(0),En=yt(On,2),ni=En[0],An=En[1],Ci=M.useState(0),Ni=yt(Ci,2),Gi=Ni[0],Ki=Ni[1],Pr=function(){if(ce&&_t){var xn=_t.getBoundingClientRect();An(xn.width),Ki(xn.height)}},Yi=function(){Pr(),wi()},po=function(xn){Rn(!1),sn(),c==null||c(xn)},Ka=function(){return new Promise(function(xn){Pr(),un(function(){return xn})})};Ca(function(){ai&&(sn(),ai(),un(null))},[ai]);function Ma(tn,xn,Oi,Ei){bt[tn]=function(Hi){var Ns;Ei==null||Ei(Hi),Bn(xn,Oi);for(var ko=arguments.length,Ua=new Array(ko>1?ko-1:0),$o=1;$o<ko;$o++)Ua[$o-1]=arguments[$o];(Ns=ke[tn])===null||Ns===void 0||Ns.call.apply(Ns,[ke,Hi].concat(Ua))}}(Sn||fn)&&(bt.onClick=function(tn){var xn;Dt.current&&fn?Bn(!1):!Dt.current&&Sn&&(ur(tn),Bn(!0));for(var Oi=arguments.length,Ei=new Array(Oi>1?Oi-1:0),Hi=1;Hi<Oi;Hi++)Ei[Hi-1]=arguments[Hi];(xn=ke.onClick)===null||xn===void 0||xn.call.apply(xn,[ke,tn].concat(Ei))});var Ds=Oq(cn,fn,_t,He,R,P,Te,Bn),sf=Wn.has("hover"),Zc=Pn.has("hover"),Cr,Ho;sf&&(Ma("onMouseEnter",!0,p,function(tn){ur(tn)}),Ma("onPointerEnter",!0,p,function(tn){ur(tn)}),Cr=function(xn){(cn||Tn)&&He!==null&&He!==void 0&&He.contains(xn.target)&&Bn(!0,p)},he&&(bt.onMouseMove=function(tn){var xn;(xn=ke.onMouseMove)===null||xn===void 0||xn.call(ke,tn)})),Zc&&(Ma("onMouseLeave",!1,b),Ma("onPointerLeave",!1,b),Ho=function(){Bn(!1,b)}),Wn.has("focus")&&Ma("onFocus",!0,w),Pn.has("focus")&&Ma("onBlur",!1,A),Wn.has("contextMenu")&&(bt.onContextMenu=function(tn){var xn;Dt.current&&Pn.has("contextMenu")?Bn(!1):(ur(tn),Bn(!0)),tn.preventDefault();for(var Oi=arguments.length,Ei=new Array(Oi>1?Oi-1:0),Hi=1;Hi<Oi;Hi++)Ei[Hi-1]=arguments[Hi];(xn=ke.onContextMenu)===null||xn===void 0||xn.call.apply(xn,[ke,tn].concat(Ei))}),ze&&(bt.className=et(ke.className,ze));var Na=Ne(Ne({},ke),bt),ga={},Ta=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];Ta.forEach(function(tn){re[tn]&&(ga[tn]=function(){for(var xn,Oi=arguments.length,Ei=new Array(Oi),Hi=0;Hi<Oi;Hi++)Ei[Hi]=arguments[Hi];(xn=Na[tn])===null||xn===void 0||xn.call.apply(xn,[Na].concat(Ei)),re[tn].apply(re,Ei)})});var Ls=M.cloneElement(Se,Ne(Ne({},Na),ga)),mo={x:jt,y:Kt},Gl=pe?Ne({},pe!==!0?pe:{}):null;return M.createElement(M.Fragment,null,M.createElement(Tm,{disabled:!cn,ref:it,onResize:Yi},M.createElement(Cq,{getTriggerDOMNode:we},Ls)),M.createElement(nP.Provider,{value:oe},M.createElement(wq,{portal:n,ref:ht,prefixCls:o,popup:V,className:et(Q,Vn),style:X,target:_t,onMouseEnter:Cr,onMouseLeave:Ho,onPointerEnter:Cr,zIndex:te,open:cn,keepDom:Tn,fresh:J,onClick:ue,onPointerDownCapture:Ds,mask:R,motion:St,maskMotion:Qe,onVisibleChanged:po,onPrepare:Ka,forceRender:F,autoDestroy:Fe,getPopupContainer:D,align:hn,arrow:Gl,arrowPos:mo,ready:Be,offsetX:rt,offsetY:Ke,offsetR:Ve,offsetB:Rt,onAlign:wi,stretch:ce,targetWidth:ni/Xt,targetHeight:Gi/bn})))});return e}const b4=zq(YC);function A2(n,e,t){return et({[`${n}-status-success`]:e==="success",[`${n}-status-warning`]:e==="warning",[`${n}-status-error`]:e==="error",[`${n}-status-validating`]:e==="validating",[`${n}-has-feedback`]:t})}const aO=(n,e)=>e||n,_4=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;var r,a;const{variant:o,[n]:l}=M.useContext(ei),s=M.useContext(uY),f=l==null?void 0:l.variant;let h;typeof e<"u"?h=e:t===!1?h="borderless":h=(a=(r=s??f)!==null&&r!==void 0?r:o)!==null&&a!==void 0?a:"outlined";const v=Ij.includes(h);return[h,v]},Qv=["xxl","xl","lg","md","sm","xs"],Pq=n=>({xs:`(max-width: ${n.screenXSMax}px)`,sm:`(min-width: ${n.screenSM}px)`,md:`(min-width: ${n.screenMD}px)`,lg:`(min-width: ${n.screenLG}px)`,xl:`(min-width: ${n.screenXL}px)`,xxl:`(min-width: ${n.screenXXL}px)`}),Dq=n=>{const e=n,t=[].concat(Qv).reverse();return t.forEach((r,a)=>{const o=r.toUpperCase(),l=`screen${o}Min`,s=`screen${o}`;if(!(e[l]<=e[s]))throw new Error(`${l}<=${s} fails : !(${e[l]}<=${e[s]})`);if(a<t.length-1){const f=`screen${o}Max`;if(!(e[s]<=e[f]))throw new Error(`${s}<=${f} fails : !(${e[s]}<=${e[f]})`);const v=`screen${t[a+1].toUpperCase()}Min`;if(!(e[f]<=e[v]))throw new Error(`${f}<=${v} fails : !(${e[f]}<=${e[v]})`)}}),n};function Lq(){const[,n]=tf(),e=Pq(Dq(n));return We.useMemo(()=>{const t=new Map;let r=-1,a={};return{matchHandlers:{},dispatch(o){return a=o,t.forEach(l=>l(a)),t.size>=1},subscribe(o){return t.size||this.register(),r+=1,t.set(r,o),o(a),r},unsubscribe(o){t.delete(o),t.size||this.unregister()},unregister(){Object.keys(e).forEach(o=>{const l=e[o],s=this.matchHandlers[l];s==null||s.mql.removeListener(s==null?void 0:s.listener)}),t.clear()},register(){Object.keys(e).forEach(o=>{const l=e[o],s=h=>{let{matches:v}=h;this.dispatch(Object.assign(Object.assign({},a),{[o]:v}))},f=window.matchMedia(l);f.addListener(s),this.matchHandlers[l]={mql:f,listener:s},s(f)})},responsiveMap:e}},[n])}function S4(){const[,n]=M.useReducer(e=>e+1,0);return n}function x4(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const t=M.useRef(e),r=S4(),a=Lq();return Ca(()=>{const o=a.subscribe(l=>{t.current=l,n&&r()});return()=>a.unsubscribe(o)},[]),t.current}const R2=M.createContext({}),Nq=n=>{const{antCls:e,componentCls:t,iconCls:r,avatarBg:a,avatarColor:o,containerSize:l,containerSizeLG:s,containerSizeSM:f,textFontSize:h,textFontSizeLG:v,textFontSizeSM:_,borderRadius:x,borderRadiusLG:C,borderRadiusSM:c,lineWidth:p,lineType:m}=n,b=(w,A,R)=>({width:w,height:w,borderRadius:"50%",[`&${t}-square`]:{borderRadius:R},[`&${t}-icon`]:{fontSize:A,[`> ${r}`]:{margin:0}}});return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},jc(n)),{position:"relative",display:"inline-flex",justifyContent:"center",alignItems:"center",overflow:"hidden",color:o,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:a,border:`${Ut(p)} ${m} transparent`,"&-image":{background:"transparent"},[`${e}-image-img`]:{display:"block"}}),b(l,h,x)),{"&-lg":Object.assign({},b(s,v,C)),"&-sm":Object.assign({},b(f,_,c)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},Uq=n=>{const{componentCls:e,groupBorderColor:t,groupOverlapping:r,groupSpace:a}=n;return{[`${e}-group`]:{display:"inline-flex",[e]:{borderColor:t},"> *:not(:first-child)":{marginInlineStart:r}},[`${e}-group-popover`]:{[`${e} + ${e}`]:{marginInlineStart:a}}}},Bq=n=>{const{controlHeight:e,controlHeightLG:t,controlHeightSM:r,fontSize:a,fontSizeLG:o,fontSizeXL:l,fontSizeHeading3:s,marginXS:f,marginXXS:h,colorBorderBg:v}=n;return{containerSize:e,containerSizeLG:t,containerSizeSM:r,textFontSize:Math.round((o+l)/2),textFontSizeLG:s,textFontSizeSM:a,groupSpace:h,groupOverlapping:-f,groupBorderColor:v}},w4=ma("Avatar",n=>{const{colorTextLightSolid:e,colorTextPlaceholder:t}=n,r=gr(n,{avatarBg:t,avatarColor:e});return[Nq(r),Uq(r)]},Bq);var Fq=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const Hq=(n,e)=>{const[t,r]=M.useState(1),[a,o]=M.useState(!1),[l,s]=M.useState(!0),f=M.useRef(null),h=M.useRef(null),v=Fh(e,f),{getPrefixCls:_,avatar:x}=M.useContext(ei),C=M.useContext(R2),c=()=>{if(!h.current||!f.current)return;const Me=h.current.offsetWidth,Ae=f.current.offsetWidth;if(Me!==0&&Ae!==0){const{gap:Ue=4}=n;Ue*2<Ae&&r(Ae-Ue*2<Me?(Ae-Ue*2)/Me:1)}};M.useEffect(()=>{o(!0)},[]),M.useEffect(()=>{s(!0),r(1)},[n.src]),M.useEffect(c,[n.gap]);const p=()=>{const{onError:Me}=n;(Me==null?void 0:Me())!==!1&&s(!1)},{prefixCls:m,shape:b,size:w,src:A,srcSet:R,icon:O,className:P,rootClassName:D,alt:F,draggable:B,children:U,crossOrigin:V}=n,Q=Fq(n,["prefixCls","shape","size","src","srcSet","icon","className","rootClassName","alt","draggable","children","crossOrigin"]),X=Am(Me=>{var Ae,Ue;return(Ue=(Ae=w??(C==null?void 0:C.size))!==null&&Ae!==void 0?Ae:Me)!==null&&Ue!==void 0?Ue:"default"}),ee=Object.keys(typeof X=="object"?X||{}:{}).some(Me=>["xs","sm","md","lg","xl","xxl"].includes(Me)),ae=x4(ee),Z=M.useMemo(()=>{if(typeof X!="object")return{};const Me=Qv.find(Ue=>ae[Ue]),Ae=X[Me];return Ae?{width:Ae,height:Ae,fontSize:Ae&&(O||U)?Ae/2:18}:{}},[ae,X]),K=_("avatar",m),te=Xc(K),[ce,q,J]=w4(K,te),he=et({[`${K}-lg`]:X==="large",[`${K}-sm`]:X==="small"}),ue=M.isValidElement(A),j=b||(C==null?void 0:C.shape)||"circle",pe=et(K,he,x==null?void 0:x.className,`${K}-${j}`,{[`${K}-image`]:ue||A&&l,[`${K}-icon`]:!!O},J,te,P,D,q),_e=typeof X=="number"?{width:X,height:X,fontSize:O?X/2:18}:{};let Re;if(typeof A=="string"&&l)Re=M.createElement("img",{src:A,draggable:B,srcSet:R,onError:p,alt:F,crossOrigin:V});else if(ue)Re=A;else if(O)Re=O;else if(a||t!==1){const Me=`scale(${t})`,Ae={msTransform:Me,WebkitTransform:Me,transform:Me};Re=M.createElement(Tm,{onResize:c},M.createElement("span",{className:`${K}-string`,ref:h,style:Object.assign({},Ae)},U))}else Re=M.createElement("span",{className:`${K}-string`,style:{opacity:0},ref:h},U);return delete Q.onError,delete Q.gap,ce(M.createElement("span",Object.assign({},Q,{style:Object.assign(Object.assign(Object.assign(Object.assign({},_e),Z),x==null?void 0:x.style),Q.style),className:pe,ref:v}),Re))},C4=M.forwardRef(Hq),vw=n=>n?typeof n=="function"?n():n:null;function oO(n){var e=n.children,t=n.prefixCls,r=n.id,a=n.overlayInnerStyle,o=n.bodyClassName,l=n.className,s=n.style;return M.createElement("div",{className:et("".concat(t,"-content"),l),style:s},M.createElement("div",{className:et("".concat(t,"-inner"),o),id:r,role:"tooltip",style:a},typeof e=="function"?e():e))}var Rg={shiftX:64,adjustY:1},Og={adjustX:1,shiftY:!0},zl=[0,0],kq={left:{points:["cr","cl"],overflow:Og,offset:[-4,0],targetOffset:zl},right:{points:["cl","cr"],overflow:Og,offset:[4,0],targetOffset:zl},top:{points:["bc","tc"],overflow:Rg,offset:[0,-4],targetOffset:zl},bottom:{points:["tc","bc"],overflow:Rg,offset:[0,4],targetOffset:zl},topLeft:{points:["bl","tl"],overflow:Rg,offset:[0,-4],targetOffset:zl},leftTop:{points:["tr","tl"],overflow:Og,offset:[-4,0],targetOffset:zl},topRight:{points:["br","tr"],overflow:Rg,offset:[0,-4],targetOffset:zl},rightTop:{points:["tl","tr"],overflow:Og,offset:[4,0],targetOffset:zl},bottomRight:{points:["tr","br"],overflow:Rg,offset:[0,4],targetOffset:zl},rightBottom:{points:["bl","br"],overflow:Og,offset:[4,0],targetOffset:zl},bottomLeft:{points:["tl","bl"],overflow:Rg,offset:[0,4],targetOffset:zl},leftBottom:{points:["br","bl"],overflow:Og,offset:[-4,0],targetOffset:zl}},$q=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow","classNames","styles"],Vq=function(e,t){var r=e.overlayClassName,a=e.trigger,o=a===void 0?["hover"]:a,l=e.mouseEnterDelay,s=l===void 0?0:l,f=e.mouseLeaveDelay,h=f===void 0?.1:f,v=e.overlayStyle,_=e.prefixCls,x=_===void 0?"rc-tooltip":_,C=e.children,c=e.onVisibleChange,p=e.afterVisibleChange,m=e.transitionName,b=e.animation,w=e.motion,A=e.placement,R=A===void 0?"right":A,O=e.align,P=O===void 0?{}:O,D=e.destroyTooltipOnHide,F=D===void 0?!1:D,B=e.defaultVisible,U=e.getTooltipContainer,V=e.overlayInnerStyle;e.arrowContent;var Q=e.overlay,X=e.id,ee=e.showArrow,ae=ee===void 0?!0:ee,Z=e.classNames,K=e.styles,te=jn(e,$q),ce=nO(X),q=M.useRef(null);M.useImperativeHandle(t,function(){return q.current});var J=Ne({},te);"visible"in e&&(J.popupVisible=e.visible);var he=function(){return M.createElement(oO,{key:"content",prefixCls:x,id:ce,bodyClassName:Z==null?void 0:Z.body,overlayInnerStyle:Ne(Ne({},V),K==null?void 0:K.body)},Q)},ue=function(){var pe=M.Children.only(C),_e=(pe==null?void 0:pe.props)||{},Re=Ne(Ne({},_e),{},{"aria-describedby":Q?ce:null});return M.cloneElement(C,Re)};return M.createElement(b4,Nt({popupClassName:et(r,Z==null?void 0:Z.root),prefixCls:x,popup:he,action:o,builtinPlacements:kq,popupPlacement:R,ref:q,popupAlign:P,getPopupContainer:U,onPopupVisibleChange:c,afterPopupVisibleChange:p,popupTransitionName:m,popupAnimation:b,popupMotion:w,defaultPopupVisible:B,autoDestroy:F,mouseLeaveDelay:h,popupStyle:Ne(Ne({},v),K==null?void 0:K.root),mouseEnterDelay:s,arrow:ae},J),ue())};const Gq=M.forwardRef(Vq);function E4(n){const{sizePopupArrow:e,borderRadiusXS:t,borderRadiusOuter:r}=n,a=e/2,o=0,l=a,s=r*1/Math.sqrt(2),f=a-r*(1-1/Math.sqrt(2)),h=a-t*(1/Math.sqrt(2)),v=r*(Math.sqrt(2)-1)+t*(1/Math.sqrt(2)),_=2*a-h,x=v,C=2*a-s,c=f,p=2*a-o,m=l,b=a*Math.sqrt(2)+r*(Math.sqrt(2)-2),w=r*(Math.sqrt(2)-1),A=`polygon(${w}px 100%, 50% ${w}px, ${2*a-w}px 100%, ${w}px 100%)`,R=`path('M ${o} ${l} A ${r} ${r} 0 0 0 ${s} ${f} L ${h} ${v} A ${t} ${t} 0 0 1 ${_} ${x} L ${C} ${c} A ${r} ${r} 0 0 0 ${p} ${m} Z')`;return{arrowShadowWidth:b,arrowPath:R,arrowPolygon:A}}const jq=(n,e,t)=>{const{sizePopupArrow:r,arrowPolygon:a,arrowPath:o,arrowShadowWidth:l,borderRadiusXS:s,calc:f}=n;return{pointerEvents:"none",width:r,height:r,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:r,height:f(r).div(2).equal(),background:e,clipPath:{_multi_value_:!0,value:[a,o]},content:'""'},"&::after":{content:'""',position:"absolute",width:l,height:l,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${Ut(s)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:t,zIndex:0,background:"transparent"}}},M4=8;function sO(n){const{contentRadius:e,limitVerticalRadius:t}=n,r=e>12?e+2:12;return{arrowOffsetHorizontal:r,arrowOffsetVertical:t?M4:r}}function nx(n,e){return n?e:{}}function T4(n,e,t){const{componentCls:r,boxShadowPopoverArrow:a,arrowOffsetVertical:o,arrowOffsetHorizontal:l}=n,{arrowDistance:s=0,arrowPlacement:f={left:!0,right:!0,top:!0,bottom:!0}}={};return{[r]:Object.assign(Object.assign(Object.assign(Object.assign({[`${r}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},jq(n,e,a)),{"&:before":{background:e}})]},nx(!!f.top,{[[`&-placement-top > ${r}-arrow`,`&-placement-topLeft > ${r}-arrow`,`&-placement-topRight > ${r}-arrow`].join(",")]:{bottom:s,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},"&-placement-topLeft":{"--arrow-offset-horizontal":l,[`> ${r}-arrow`]:{left:{_skip_check_:!0,value:l}}},"&-placement-topRight":{"--arrow-offset-horizontal":`calc(100% - ${Ut(l)})`,[`> ${r}-arrow`]:{right:{_skip_check_:!0,value:l}}}})),nx(!!f.bottom,{[[`&-placement-bottom > ${r}-arrow`,`&-placement-bottomLeft > ${r}-arrow`,`&-placement-bottomRight > ${r}-arrow`].join(",")]:{top:s,transform:"translateY(-100%)"},[`&-placement-bottom > ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},"&-placement-bottomLeft":{"--arrow-offset-horizontal":l,[`> ${r}-arrow`]:{left:{_skip_check_:!0,value:l}}},"&-placement-bottomRight":{"--arrow-offset-horizontal":`calc(100% - ${Ut(l)})`,[`> ${r}-arrow`]:{right:{_skip_check_:!0,value:l}}}})),nx(!!f.left,{[[`&-placement-left > ${r}-arrow`,`&-placement-leftTop > ${r}-arrow`,`&-placement-leftBottom > ${r}-arrow`].join(",")]:{right:{_skip_check_:!0,value:s},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left > ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop > ${r}-arrow`]:{top:o},[`&-placement-leftBottom > ${r}-arrow`]:{bottom:o}})),nx(!!f.right,{[[`&-placement-right > ${r}-arrow`,`&-placement-rightTop > ${r}-arrow`,`&-placement-rightBottom > ${r}-arrow`].join(",")]:{left:{_skip_check_:!0,value:s},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right > ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop > ${r}-arrow`]:{top:o},[`&-placement-rightBottom > ${r}-arrow`]:{bottom:o}}))}}function Wq(n,e,t,r){if(r===!1)return{adjustX:!1,adjustY:!1};const a=r&&typeof r=="object"?r:{},o={};switch(n){case"top":case"bottom":o.shiftX=e.arrowOffsetHorizontal*2+t,o.shiftY=!0,o.adjustY=!0;break;case"left":case"right":o.shiftY=e.arrowOffsetVertical*2+t,o.shiftX=!0,o.adjustX=!0;break}const l=Object.assign(Object.assign({},o),a);return l.shiftX||(l.adjustX=!0),l.shiftY||(l.adjustY=!0),l}const cP={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},Xq={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},Yq=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function qq(n){const{arrowWidth:e,autoAdjustOverflow:t,arrowPointAtCenter:r,offset:a,borderRadius:o}=n,l=e/2,s={};return Object.keys(cP).forEach(f=>{const h=r&&Xq[f]||cP[f],v=Object.assign(Object.assign({},h),{offset:[0,0],dynamicInset:!0});switch(s[f]=v,Yq.has(f)&&(v.autoArrow=!1),f){case"top":case"topLeft":case"topRight":v.offset[1]=-l-a;break;case"bottom":case"bottomLeft":case"bottomRight":v.offset[1]=l+a;break;case"left":case"leftTop":case"leftBottom":v.offset[0]=-l-a;break;case"right":case"rightTop":case"rightBottom":v.offset[0]=l+a;break}const _=sO({contentRadius:o,limitVerticalRadius:!0});if(r)switch(f){case"topLeft":case"bottomLeft":v.offset[0]=-_.arrowOffsetHorizontal-l;break;case"topRight":case"bottomRight":v.offset[0]=_.arrowOffsetHorizontal+l;break;case"leftTop":case"rightTop":v.offset[1]=-_.arrowOffsetHorizontal*2+l;break;case"leftBottom":case"rightBottom":v.offset[1]=_.arrowOffsetHorizontal*2-l;break}v.overflow=Wq(f,_,e,t),v.htmlRegion="visibleFirst"}),s}const Zq=n=>{const{calc:e,componentCls:t,tooltipMaxWidth:r,tooltipColor:a,tooltipBg:o,tooltipBorderRadius:l,zIndexPopup:s,controlHeight:f,boxShadowSecondary:h,paddingSM:v,paddingXS:_,arrowOffsetHorizontal:x,sizePopupArrow:C}=n,c=e(l).add(C).add(x).equal(),p=e(l).mul(2).add(C).equal();return[{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},jc(n)),{position:"absolute",zIndex:s,display:"block",width:"max-content",maxWidth:r,visibility:"visible","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"&-hidden":{display:"none"},"--antd-arrow-background-color":o,[`${t}-inner`]:{minWidth:p,minHeight:f,padding:`${Ut(n.calc(v).div(2).equal())} ${Ut(_)}`,color:a,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:o,borderRadius:l,boxShadow:h,boxSizing:"border-box"},[["&-placement-topLeft","&-placement-topRight","&-placement-bottomLeft","&-placement-bottomRight"].join(",")]:{minWidth:c},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${t}-inner`]:{borderRadius:n.min(l,M4)}},[`${t}-content`]:{position:"relative"}}),i7(n,(m,b)=>{let{darkColor:w}=b;return{[`&${t}-${m}`]:{[`${t}-inner`]:{backgroundColor:w},[`${t}-arrow`]:{"--antd-arrow-background-color":w}}}})),{"&-rtl":{direction:"rtl"}})},T4(n,"var(--antd-arrow-background-color)"),{[`${t}-pure`]:{position:"relative",maxWidth:"none",margin:n.sizePopupArrow}}]},Kq=n=>Object.assign(Object.assign({zIndexPopup:n.zIndexPopupBase+70},sO({contentRadius:n.borderRadius,limitVerticalRadius:!0})),E4(gr(n,{borderRadiusOuter:Math.min(n.borderRadiusOuter,4)}))),A4=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return ma("Tooltip",r=>{const{borderRadius:a,colorTextLightSolid:o,colorBgSpotlight:l}=r,s=gr(r,{tooltipMaxWidth:250,tooltipColor:o,tooltipBorderRadius:a,tooltipBg:l});return[Zq(s),h_(r,"zoom-big-fast")]},Kq,{resetStyle:!1,injectStyle:e})(n)},Qq=Lh.map(n=>`${n}-inverse`);function Jq(n){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?[].concat(Qt(Qq),Qt(Lh)).includes(n):Lh.includes(n)}function R4(n,e){const t=Jq(e),r=et({[`${n}-${e}`]:e&&t}),a={},o={};return e&&!t&&(a.background=e,o["--antd-arrow-background-color"]=e),{className:r,overlayStyle:a,arrowStyle:o}}const eZ=n=>{const{prefixCls:e,className:t,placement:r="top",title:a,color:o,overlayInnerStyle:l}=n,{getPrefixCls:s}=M.useContext(ei),f=s("tooltip",e),[h,v,_]=A4(f),x=R4(f,o),C=x.arrowStyle,c=Object.assign(Object.assign({},l),x.overlayStyle),p=et(v,_,f,`${f}-pure`,`${f}-placement-${r}`,t,x.className);return h(M.createElement("div",{className:p,style:C},M.createElement("div",{className:`${f}-arrow`}),M.createElement(oO,Object.assign({},n,{className:v,prefixCls:f,overlayInnerStyle:c}),a)))};var tZ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const nZ=M.forwardRef((n,e)=>{var t,r;const{prefixCls:a,openClassName:o,getTooltipContainer:l,color:s,overlayInnerStyle:f,children:h,afterOpenChange:v,afterVisibleChange:_,destroyTooltipOnHide:x,arrow:C=!0,title:c,overlay:p,builtinPlacements:m,arrowPointAtCenter:b=!1,autoAdjustOverflow:w=!0,motion:A,getPopupContainer:R,placement:O="top",mouseEnterDelay:P=.1,mouseLeaveDelay:D=.1,overlayStyle:F,rootClassName:B,overlayClassName:U,styles:V,classNames:Q}=n,X=tZ(n,["prefixCls","openClassName","getTooltipContainer","color","overlayInnerStyle","children","afterOpenChange","afterVisibleChange","destroyTooltipOnHide","arrow","title","overlay","builtinPlacements","arrowPointAtCenter","autoAdjustOverflow","motion","getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName","overlayClassName","styles","classNames"]),ee=!!C,[,ae]=tf(),{getPopupContainer:Z,getPrefixCls:K,direction:te,className:ce,style:q,classNames:J,styles:he}=ef("tooltip"),ue=jR(),j=M.useRef(null),pe=()=>{var It;(It=j.current)===null||It===void 0||It.forceAlign()};M.useImperativeHandle(e,()=>{var It,at;return{forceAlign:pe,forcePopupAlign:()=>{ue.deprecated(!1,"forcePopupAlign","forceAlign"),pe()},nativeElement:(It=j.current)===null||It===void 0?void 0:It.nativeElement,popupElement:(at=j.current)===null||at===void 0?void 0:at.popupElement}});const[_e,Re]=al(!1,{value:(t=n.open)!==null&&t!==void 0?t:n.visible,defaultValue:(r=n.defaultOpen)!==null&&r!==void 0?r:n.defaultVisible}),Me=!c&&!p&&c!==0,Ae=It=>{var at,_t;Re(Me?!1:It),Me||((at=n.onOpenChange)===null||at===void 0||at.call(n,It),(_t=n.onVisibleChange)===null||_t===void 0||_t.call(n,It))},Ue=M.useMemo(()=>{var It,at;let _t=b;return typeof C=="object"&&(_t=(at=(It=C.pointAtCenter)!==null&&It!==void 0?It:C.arrowPointAtCenter)!==null&&at!==void 0?at:b),m||qq({arrowPointAtCenter:_t,autoAdjustOverflow:w,arrowWidth:ee?ae.sizePopupArrow:0,borderRadius:ae.borderRadius,offset:ae.marginXXS})},[b,C,m,ae]),gt=M.useMemo(()=>c===0?c:p||c||"",[p,c]),ze=M.createElement(mw,{space:!0},typeof gt=="function"?gt():gt),we=K("tooltip",a),re=K(),Fe=n["data-popover-inject"];let Ie=_e;!("open"in n)&&!("visible"in n)&&Me&&(Ie=!1);const Ye=M.isValidElement(h)&&!xB(h)?h:M.createElement("span",null,h),$e=Ye.props,lt=!$e.className||typeof $e.className=="string"?et($e.className,o||`${we}-open`):$e.className,[ot,fe,oe]=A4(we,!Fe),Ee=R4(we,s),Pe=Ee.arrowStyle,qe=et(U,{[`${we}-rtl`]:te==="rtl"},Ee.className,B,fe,oe,ce,J.root,Q==null?void 0:Q.root),He=et(J.body,Q==null?void 0:Q.body),[mt,st]=f_("Tooltip",X.zIndex),ht=M.createElement(Gq,Object.assign({},X,{zIndex:mt,showArrow:ee,placement:O,mouseEnterDelay:P,mouseLeaveDelay:D,prefixCls:we,classNames:{root:qe,body:He},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Pe),he.root),q),F),V==null?void 0:V.root),body:Object.assign(Object.assign(Object.assign(Object.assign({},he.body),f),V==null?void 0:V.body),Ee.overlayStyle)},getTooltipContainer:R||l||Z,ref:j,builtinPlacements:Ue,overlay:ze,visible:Ie,onVisibleChange:Ae,afterVisibleChange:v??_,arrowContent:M.createElement("span",{className:`${we}-arrow-content`}),motion:{motionName:Zu(re,"zoom-big-fast",n.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!x}),Ie?sl(Ye,{className:lt}):Ye);return ot(M.createElement(qR.Provider,{value:st},ht))}),Hl=nZ;Hl._InternalPanelDoNotUseOrYouWillBeFired=eZ;const iZ=n=>{const{componentCls:e,popoverColor:t,titleMinWidth:r,fontWeightStrong:a,innerPadding:o,boxShadowSecondary:l,colorTextHeading:s,borderRadiusLG:f,zIndexPopup:h,titleMarginBottom:v,colorBgElevated:_,popoverBg:x,titleBorderBottom:C,innerContentPadding:c,titlePadding:p}=n;return[{[e]:Object.assign(Object.assign({},jc(n)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:h,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"--antd-arrow-background-color":_,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${e}-content`]:{position:"relative"},[`${e}-inner`]:{backgroundColor:x,backgroundClip:"padding-box",borderRadius:f,boxShadow:l,padding:o},[`${e}-title`]:{minWidth:r,marginBottom:v,color:s,fontWeight:a,borderBottom:C,padding:p},[`${e}-inner-content`]:{color:t,padding:c}})},T4(n,"var(--antd-arrow-background-color)"),{[`${e}-pure`]:{position:"relative",maxWidth:"none",margin:n.sizePopupArrow,display:"inline-block",[`${e}-content`]:{display:"inline-block"}}}]},rZ=n=>{const{componentCls:e}=n;return{[e]:Lh.map(t=>{const r=n[`${t}6`];return{[`&${e}-${t}`]:{"--antd-arrow-background-color":r,[`${e}-inner`]:{backgroundColor:r},[`${e}-arrow`]:{background:"transparent"}}}})}},aZ=n=>{const{lineWidth:e,controlHeight:t,fontHeight:r,padding:a,wireframe:o,zIndexPopupBase:l,borderRadiusLG:s,marginXS:f,lineType:h,colorSplit:v,paddingSM:_}=n,x=t-r,C=x/2,c=x/2-e,p=a;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:l+30},E4(n)),sO({contentRadius:s,limitVerticalRadius:!0})),{innerPadding:o?0:12,titleMarginBottom:o?0:f,titlePadding:o?`${C}px ${p}px ${c}px`:0,titleBorderBottom:o?`${e}px ${h} ${v}`:"none",innerContentPadding:o?`${_}px ${p}px`:0})},O4=ma("Popover",n=>{const{colorBgElevated:e,colorText:t}=n,r=gr(n,{popoverBg:e,popoverColor:t});return[iZ(r),rZ(r),h_(r,"zoom-big")]},aZ,{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]});var oZ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const I4=n=>{let{title:e,content:t,prefixCls:r}=n;return!e&&!t?null:M.createElement(M.Fragment,null,e&&M.createElement("div",{className:`${r}-title`},e),t&&M.createElement("div",{className:`${r}-inner-content`},t))},sZ=n=>{const{hashId:e,prefixCls:t,className:r,style:a,placement:o="top",title:l,content:s,children:f}=n,h=vw(l),v=vw(s),_=et(e,t,`${t}-pure`,`${t}-placement-${o}`,r);return M.createElement("div",{className:_,style:a},M.createElement("div",{className:`${t}-arrow`}),M.createElement(oO,Object.assign({},n,{className:e,prefixCls:t}),f||M.createElement(I4,{prefixCls:t,title:h,content:v})))},lZ=n=>{const{prefixCls:e,className:t}=n,r=oZ(n,["prefixCls","className"]),{getPrefixCls:a}=M.useContext(ei),o=a("popover",e),[l,s,f]=O4(o);return l(M.createElement(sZ,Object.assign({},r,{prefixCls:o,hashId:s,className:et(t,f)})))};var cZ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const uZ=M.forwardRef((n,e)=>{var t,r;const{prefixCls:a,title:o,content:l,overlayClassName:s,placement:f="top",trigger:h="hover",children:v,mouseEnterDelay:_=.1,mouseLeaveDelay:x=.1,onOpenChange:C,overlayStyle:c={},styles:p,classNames:m}=n,b=cZ(n,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle","styles","classNames"]),{getPrefixCls:w,className:A,style:R,classNames:O,styles:P}=ef("popover"),D=w("popover",a),[F,B,U]=O4(D),V=w(),Q=et(s,B,U,A,O.root,m==null?void 0:m.root),X=et(O.body,m==null?void 0:m.body),[ee,ae]=al(!1,{value:(t=n.open)!==null&&t!==void 0?t:n.visible,defaultValue:(r=n.defaultOpen)!==null&&r!==void 0?r:n.defaultVisible}),Z=(J,he)=>{ae(J,!0),C==null||C(J,he)},K=J=>{J.keyCode===Lo.ESC&&Z(!1,J)},te=J=>{Z(J)},ce=vw(o),q=vw(l);return F(M.createElement(Hl,Object.assign({placement:f,trigger:h,mouseEnterDelay:_,mouseLeaveDelay:x},b,{prefixCls:D,classNames:{root:Q,body:X},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign({},P.root),R),c),p==null?void 0:p.root),body:Object.assign(Object.assign({},P.body),p==null?void 0:p.body)},ref:e,open:ee,onOpenChange:te,overlay:ce||q?M.createElement(I4,{prefixCls:D,title:ce,content:q}):null,transitionName:Zu(V,"zoom-big",b.transitionName),"data-popover-inject":!0}),sl(v,{onKeyDown:J=>{var he,ue;M.isValidElement(v)&&((ue=v==null?void 0:(he=v.props).onKeyDown)===null||ue===void 0||ue.call(he,J)),K(J)}})))}),z4=uZ;z4._InternalPanelDoNotUseOrYouWillBeFired=lZ;const uP=n=>{const{size:e,shape:t}=M.useContext(R2),r=M.useMemo(()=>({size:n.size||e,shape:n.shape||t}),[n.size,n.shape,e,t]);return M.createElement(R2.Provider,{value:r},n.children)},fZ=n=>{var e,t,r,a;const{getPrefixCls:o,direction:l}=M.useContext(ei),{prefixCls:s,className:f,rootClassName:h,style:v,maxCount:_,maxStyle:x,size:C,shape:c,maxPopoverPlacement:p,maxPopoverTrigger:m,children:b,max:w}=n,A=o("avatar",s),R=`${A}-group`,O=Xc(A),[P,D,F]=w4(A,O),B=et(R,{[`${R}-rtl`]:l==="rtl"},F,O,f,h,D),U=qu(b).map((X,ee)=>sl(X,{key:`avatar-key-${ee}`})),V=(w==null?void 0:w.count)||_,Q=U.length;if(V&&V<Q){const X=U.slice(0,V),ee=U.slice(V,Q),ae=(w==null?void 0:w.style)||x,Z=((e=w==null?void 0:w.popover)===null||e===void 0?void 0:e.trigger)||m||"hover",K=((t=w==null?void 0:w.popover)===null||t===void 0?void 0:t.placement)||p||"top",te=Object.assign(Object.assign({content:ee},w==null?void 0:w.popover),{classNames:{root:et(`${R}-popover`,(a=(r=w==null?void 0:w.popover)===null||r===void 0?void 0:r.classNames)===null||a===void 0?void 0:a.root)},placement:K,trigger:Z});return X.push(M.createElement(z4,Object.assign({key:"avatar-popover-key",destroyTooltipOnHide:!0},te),M.createElement(C4,{style:ae},`+${Q-V}`))),P(M.createElement(uP,{shape:c,size:C},M.createElement("div",{className:B,style:v},X)))}return P(M.createElement(uP,{shape:c,size:C},M.createElement("div",{className:B,style:v},U)))},P4=C4;P4.Group=fZ;var D4=M.createContext(null);function L4(n,e){return n===void 0?null:"".concat(n,"-").concat(e)}function N4(n){var e=M.useContext(D4);return L4(e,n)}var dZ=["children","locked"],Hc=M.createContext(null);function hZ(n,e){var t=Ne({},n);return Object.keys(e).forEach(function(r){var a=e[r];a!==void 0&&(t[r]=a)}),t}function Ub(n){var e=n.children,t=n.locked,r=jn(n,dZ),a=M.useContext(Hc),o=zC(function(){return hZ(a,r)},[a,r],function(l,s){return!t&&(l[0]!==s[0]||!Gv(l[1],s[1],!0))});return M.createElement(Hc.Provider,{value:o},e)}var pZ=[],U4=M.createContext(null);function KC(){return M.useContext(U4)}var B4=M.createContext(pZ);function m0(n){var e=M.useContext(B4);return M.useMemo(function(){return n!==void 0?[].concat(Qt(e),[n]):e},[e,n])}var F4=M.createContext(null),lO=M.createContext({});function fP(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(QR(n)){var t=n.nodeName.toLowerCase(),r=["input","select","textarea","button"].includes(t)||n.isContentEditable||t==="a"&&!!n.getAttribute("href"),a=n.getAttribute("tabindex"),o=Number(a),l=null;return a&&!Number.isNaN(o)?l=o:r&&l===null&&(l=0),r&&n.disabled&&(l=null),l!==null&&(l>=0||e&&l<0)}return!1}function mZ(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=Qt(n.querySelectorAll("*")).filter(function(r){return fP(r,e)});return fP(n,e)&&t.unshift(n),t}var O2=Lo.LEFT,I2=Lo.RIGHT,z2=Lo.UP,y1=Lo.DOWN,b1=Lo.ENTER,H4=Lo.ESC,wy=Lo.HOME,Cy=Lo.END,dP=[z2,y1,O2,I2];function gZ(n,e,t,r){var a,o="prev",l="next",s="children",f="parent";if(n==="inline"&&r===b1)return{inlineTrigger:!0};var h=de(de({},z2,o),y1,l),v=de(de(de(de({},O2,t?l:o),I2,t?o:l),y1,s),b1,s),_=de(de(de(de(de(de({},z2,o),y1,l),b1,s),H4,f),O2,t?s:f),I2,t?f:s),x={inline:h,horizontal:v,vertical:_,inlineSub:h,horizontalSub:_,verticalSub:_},C=(a=x["".concat(n).concat(e?"":"Sub")])===null||a===void 0?void 0:a[r];switch(C){case o:return{offset:-1,sibling:!0};case l:return{offset:1,sibling:!0};case f:return{offset:-1,sibling:!1};case s:return{offset:1,sibling:!1};default:return null}}function vZ(n){for(var e=n;e;){if(e.getAttribute("data-menu-list"))return e;e=e.parentElement}return null}function yZ(n,e){for(var t=n||document.activeElement;t;){if(e.has(t))return t;t=t.parentElement}return null}function cO(n,e){var t=mZ(n,!0);return t.filter(function(r){return e.has(r)})}function hP(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;if(!n)return null;var a=cO(n,e),o=a.length,l=a.findIndex(function(s){return t===s});return r<0?l===-1?l=o-1:l-=1:r>0&&(l+=1),l=(l+o)%o,a[l]}var P2=function(e,t){var r=new Set,a=new Map,o=new Map;return e.forEach(function(l){var s=document.querySelector("[data-menu-id='".concat(L4(t,l),"']"));s&&(r.add(s),o.set(s,l),a.set(l,s))}),{elements:r,key2element:a,element2key:o}};function bZ(n,e,t,r,a,o,l,s,f,h){var v=M.useRef(),_=M.useRef();_.current=e;var x=function(){fo.cancel(v.current)};return M.useEffect(function(){return function(){x()}},[]),function(C){var c=C.which;if([].concat(dP,[b1,H4,wy,Cy]).includes(c)){var p=o(),m=P2(p,r),b=m,w=b.elements,A=b.key2element,R=b.element2key,O=A.get(e),P=yZ(O,w),D=R.get(P),F=gZ(n,l(D,!0).length===1,t,c);if(!F&&c!==wy&&c!==Cy)return;(dP.includes(c)||[wy,Cy].includes(c))&&C.preventDefault();var B=function(K){if(K){var te=K,ce=K.querySelector("a");ce!=null&&ce.getAttribute("href")&&(te=ce);var q=R.get(K);s(q),x(),v.current=fo(function(){_.current===q&&te.focus()})}};if([wy,Cy].includes(c)||F.sibling||!P){var U;!P||n==="inline"?U=a.current:U=vZ(P);var V,Q=cO(U,w);c===wy?V=Q[0]:c===Cy?V=Q[Q.length-1]:V=hP(U,w,P,F.offset),B(V)}else if(F.inlineTrigger)f(D);else if(F.offset>0)f(D,!0),x(),v.current=fo(function(){m=P2(p,r);var Z=P.getAttribute("aria-controls"),K=document.getElementById(Z),te=hP(K,m.elements);B(te)},5);else if(F.offset<0){var X=l(D,!0),ee=X[X.length-2],ae=A.get(ee);f(ee,!1),B(ae)}}h==null||h(C)}}function _Z(n){Promise.resolve().then(n)}var uO="__RC_UTIL_PATH_SPLIT__",pP=function(e){return e.join(uO)},SZ=function(e){return e.split(uO)},D2="rc-menu-more";function xZ(){var n=M.useState({}),e=yt(n,2),t=e[1],r=M.useRef(new Map),a=M.useRef(new Map),o=M.useState([]),l=yt(o,2),s=l[0],f=l[1],h=M.useRef(0),v=M.useRef(!1),_=function(){v.current||t({})},x=M.useCallback(function(A,R){var O=pP(R);a.current.set(O,A),r.current.set(A,O),h.current+=1;var P=h.current;_Z(function(){P===h.current&&_()})},[]),C=M.useCallback(function(A,R){var O=pP(R);a.current.delete(O),r.current.delete(A)},[]),c=M.useCallback(function(A){f(A)},[]),p=M.useCallback(function(A,R){var O=r.current.get(A)||"",P=SZ(O);return R&&s.includes(P[0])&&P.unshift(D2),P},[s]),m=M.useCallback(function(A,R){return A.filter(function(O){return O!==void 0}).some(function(O){var P=p(O,!0);return P.includes(R)})},[p]),b=function(){var R=Qt(r.current.keys());return s.length&&R.push(D2),R},w=M.useCallback(function(A){var R="".concat(r.current.get(A)).concat(uO),O=new Set;return Qt(a.current.keys()).forEach(function(P){P.startsWith(R)&&O.add(a.current.get(P))}),O},[]);return M.useEffect(function(){return function(){v.current=!0}},[]),{registerPath:x,unregisterPath:C,refreshOverflowKeys:c,isSubPathKey:m,getKeyPath:p,getKeys:b,getSubPathKeys:w}}function Vy(n){var e=M.useRef(n);e.current=n;var t=M.useCallback(function(){for(var r,a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(r=e.current)===null||r===void 0?void 0:r.call.apply(r,[e].concat(o))},[]);return n?t:void 0}var wZ=Math.random().toFixed(5).toString().slice(2),mP=0;function CZ(n){var e=al(n,{value:n}),t=yt(e,2),r=t[0],a=t[1];return M.useEffect(function(){mP+=1;var o="".concat(wZ,"-").concat(mP);a("rc-menu-uuid-".concat(o))},[]),r}function k4(n,e,t,r){var a=M.useContext(Hc),o=a.activeKey,l=a.onActive,s=a.onInactive,f={active:o===n};return e||(f.onMouseEnter=function(h){t==null||t({key:n,domEvent:h}),l(n)},f.onMouseLeave=function(h){r==null||r({key:n,domEvent:h}),s(n)}),f}function $4(n){var e=M.useContext(Hc),t=e.mode,r=e.rtl,a=e.inlineIndent;if(t!=="inline")return null;var o=n;return r?{paddingRight:o*a}:{paddingLeft:o*a}}function V4(n){var e=n.icon,t=n.props,r=n.children,a;return e===null||e===!1?null:(typeof e=="function"?a=M.createElement(e,Ne({},t)):typeof e!="boolean"&&(a=e),a||r||null)}var EZ=["item"];function yw(n){var e=n.item,t=jn(n,EZ);return Object.defineProperty(t,"item",{get:function(){return Po(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),e}}),t}var MZ=["title","attribute","elementRef"],TZ=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],AZ=["active"],RZ=function(n){Ar(t,n);var e=Gc(t);function t(){return si(this,t),e.apply(this,arguments)}return li(t,[{key:"render",value:function(){var a=this.props,o=a.title,l=a.attribute,s=a.elementRef,f=jn(a,MZ),h=Uo(f,["eventKey","popupClassName","popupOffset","onTitleClick"]);return Po(!l,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),M.createElement(od.Item,Nt({},l,{title:typeof o=="string"?o:void 0},h,{ref:s}))}}]),t}(M.Component),OZ=M.forwardRef(function(n,e){var t=n.style,r=n.className,a=n.eventKey;n.warnKey;var o=n.disabled,l=n.itemIcon,s=n.children,f=n.role,h=n.onMouseEnter,v=n.onMouseLeave,_=n.onClick,x=n.onKeyDown,C=n.onFocus,c=jn(n,TZ),p=N4(a),m=M.useContext(Hc),b=m.prefixCls,w=m.onItemClick,A=m.disabled,R=m.overflowDisabled,O=m.itemIcon,P=m.selectedKeys,D=m.onActive,F=M.useContext(lO),B=F._internalRenderMenuItem,U="".concat(b,"-item"),V=M.useRef(),Q=M.useRef(),X=A||o,ee=f0(e,Q),ae=m0(a),Z=function(Ae){return{key:a,keyPath:Qt(ae).reverse(),item:V.current,domEvent:Ae}},K=l||O,te=k4(a,X,h,v),ce=te.active,q=jn(te,AZ),J=P.includes(a),he=$4(ae.length),ue=function(Ae){if(!X){var Ue=Z(Ae);_==null||_(yw(Ue)),w(Ue)}},j=function(Ae){if(x==null||x(Ae),Ae.which===Lo.ENTER){var Ue=Z(Ae);_==null||_(yw(Ue)),w(Ue)}},pe=function(Ae){D(a),C==null||C(Ae)},_e={};n.role==="option"&&(_e["aria-selected"]=J);var Re=M.createElement(RZ,Nt({ref:V,elementRef:ee,role:f===null?"none":f||"menuitem",tabIndex:o?null:-1,"data-menu-id":R&&p?null:p},Uo(c,["extra"]),q,_e,{component:"li","aria-disabled":o,style:Ne(Ne({},he),t),className:et(U,de(de(de({},"".concat(U,"-active"),ce),"".concat(U,"-selected"),J),"".concat(U,"-disabled"),X),r),onClick:ue,onKeyDown:j,onFocus:pe}),s,M.createElement(V4,{props:Ne(Ne({},n),{},{isSelected:J}),icon:K}));return B&&(Re=B(Re,n,{selected:J})),Re});function IZ(n,e){var t=n.eventKey,r=KC(),a=m0(t);return M.useEffect(function(){if(r)return r.registerPath(t,a),function(){r.unregisterPath(t,a)}},[a]),r?null:M.createElement(OZ,Nt({},n,{ref:e}))}const QC=M.forwardRef(IZ);var zZ=["className","children"],PZ=function(e,t){var r=e.className,a=e.children,o=jn(e,zZ),l=M.useContext(Hc),s=l.prefixCls,f=l.mode,h=l.rtl;return M.createElement("ul",Nt({className:et(s,h&&"".concat(s,"-rtl"),"".concat(s,"-sub"),"".concat(s,"-").concat(f==="inline"?"inline":"vertical"),r),role:"menu"},o,{"data-menu-list":!0,ref:t}),a)},fO=M.forwardRef(PZ);fO.displayName="SubMenuList";function dO(n,e){return qu(n).map(function(t,r){if(M.isValidElement(t)){var a,o,l=t.key,s=(a=(o=t.props)===null||o===void 0?void 0:o.eventKey)!==null&&a!==void 0?a:l,f=s==null;f&&(s="tmp_key-".concat([].concat(Qt(e),[r]).join("-")));var h={key:s,eventKey:s};return M.cloneElement(t,h)}return t})}var Ro={adjustX:1,adjustY:1},DZ={topLeft:{points:["bl","tl"],overflow:Ro},topRight:{points:["br","tr"],overflow:Ro},bottomLeft:{points:["tl","bl"],overflow:Ro},bottomRight:{points:["tr","br"],overflow:Ro},leftTop:{points:["tr","tl"],overflow:Ro},leftBottom:{points:["br","bl"],overflow:Ro},rightTop:{points:["tl","tr"],overflow:Ro},rightBottom:{points:["bl","br"],overflow:Ro}},LZ={topLeft:{points:["bl","tl"],overflow:Ro},topRight:{points:["br","tr"],overflow:Ro},bottomLeft:{points:["tl","bl"],overflow:Ro},bottomRight:{points:["tr","br"],overflow:Ro},rightTop:{points:["tr","tl"],overflow:Ro},rightBottom:{points:["br","bl"],overflow:Ro},leftTop:{points:["tl","tr"],overflow:Ro},leftBottom:{points:["bl","br"],overflow:Ro}};function G4(n,e,t){if(e)return e;if(t)return t[n]||t.other}var NZ={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function UZ(n){var e=n.prefixCls,t=n.visible,r=n.children,a=n.popup,o=n.popupStyle,l=n.popupClassName,s=n.popupOffset,f=n.disabled,h=n.mode,v=n.onVisibleChange,_=M.useContext(Hc),x=_.getPopupContainer,C=_.rtl,c=_.subMenuOpenDelay,p=_.subMenuCloseDelay,m=_.builtinPlacements,b=_.triggerSubMenuAction,w=_.forceSubMenuRender,A=_.rootClassName,R=_.motion,O=_.defaultMotions,P=M.useState(!1),D=yt(P,2),F=D[0],B=D[1],U=Ne(C?Ne({},LZ):Ne({},DZ),m),V=NZ[h],Q=G4(h,R,O),X=M.useRef(Q);h!=="inline"&&(X.current=Q);var ee=Ne(Ne({},X.current),{},{leavedClassName:"".concat(e,"-hidden"),removeOnLeave:!1,motionAppear:!0}),ae=M.useRef();return M.useEffect(function(){return ae.current=fo(function(){B(t)}),function(){fo.cancel(ae.current)}},[t]),M.createElement(b4,{prefixCls:e,popupClassName:et("".concat(e,"-popup"),de({},"".concat(e,"-rtl"),C),l,A),stretch:h==="horizontal"?"minWidth":null,getPopupContainer:x,builtinPlacements:U,popupPlacement:V,popupVisible:F,popup:a,popupStyle:o,popupAlign:s&&{offset:s},action:f?[]:[b],mouseEnterDelay:c,mouseLeaveDelay:p,onPopupVisibleChange:v,forceRender:w,popupMotion:ee,fresh:!0},r)}function BZ(n){var e=n.id,t=n.open,r=n.keyPath,a=n.children,o="inline",l=M.useContext(Hc),s=l.prefixCls,f=l.forceSubMenuRender,h=l.motion,v=l.defaultMotions,_=l.mode,x=M.useRef(!1);x.current=_===o;var C=M.useState(!x.current),c=yt(C,2),p=c[0],m=c[1],b=x.current?t:!1;M.useEffect(function(){x.current&&m(!1)},[_]);var w=Ne({},G4(o,h,v));r.length>1&&(w.motionAppear=!1);var A=w.onVisibleChanged;return w.onVisibleChanged=function(R){return!x.current&&!R&&m(!0),A==null?void 0:A(R)},p?null:M.createElement(Ub,{mode:o,locked:!x.current},M.createElement(Wc,Nt({visible:b},w,{forceRender:f,removeOnLeave:!1,leavedClassName:"".concat(s,"-hidden")}),function(R){var O=R.className,P=R.style;return M.createElement(fO,{id:e,className:O,style:P},a)}))}var FZ=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","popupStyle","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],HZ=["active"],kZ=M.forwardRef(function(n,e){var t=n.style,r=n.className,a=n.title,o=n.eventKey;n.warnKey;var l=n.disabled,s=n.internalPopupClose,f=n.children,h=n.itemIcon,v=n.expandIcon,_=n.popupClassName,x=n.popupOffset,C=n.popupStyle,c=n.onClick,p=n.onMouseEnter,m=n.onMouseLeave,b=n.onTitleClick,w=n.onTitleMouseEnter,A=n.onTitleMouseLeave,R=jn(n,FZ),O=N4(o),P=M.useContext(Hc),D=P.prefixCls,F=P.mode,B=P.openKeys,U=P.disabled,V=P.overflowDisabled,Q=P.activeKey,X=P.selectedKeys,ee=P.itemIcon,ae=P.expandIcon,Z=P.onItemClick,K=P.onOpenChange,te=P.onActive,ce=M.useContext(lO),q=ce._internalRenderSubMenuItem,J=M.useContext(F4),he=J.isSubPathKey,ue=m0(),j="".concat(D,"-submenu"),pe=U||l,_e=M.useRef(),Re=M.useRef(),Me=h??ee,Ae=v??ae,Ue=B.includes(o),gt=!V&&Ue,ze=he(X,o),we=k4(o,pe,w,A),re=we.active,Fe=jn(we,HZ),Ie=M.useState(!1),Ye=yt(Ie,2),$e=Ye[0],lt=Ye[1],ot=function(Se){pe||lt(Se)},fe=function(Se){ot(!0),p==null||p({key:o,domEvent:Se})},oe=function(Se){ot(!1),m==null||m({key:o,domEvent:Se})},Ee=M.useMemo(function(){return re||(F!=="inline"?$e||he([Q],o):!1)},[F,re,Q,$e,o,he]),Pe=$4(ue.length),qe=function(Se){pe||(b==null||b({key:o,domEvent:Se}),F==="inline"&&K(o,!Ue))},He=Vy(function(it){c==null||c(yw(it)),Z(it)}),mt=function(Se){F!=="inline"&&K(o,Se)},st=function(){te(o)},ht=O&&"".concat(O,"-popup"),It=M.useMemo(function(){return M.createElement(V4,{icon:F!=="horizontal"?Ae:void 0,props:Ne(Ne({},n),{},{isOpen:gt,isSubMenu:!0})},M.createElement("i",{className:"".concat(j,"-arrow")}))},[F,Ae,n,gt,j]),at=M.createElement("div",Nt({role:"menuitem",style:Pe,className:"".concat(j,"-title"),tabIndex:pe?null:-1,ref:_e,title:typeof a=="string"?a:null,"data-menu-id":V&&O?null:O,"aria-expanded":gt,"aria-haspopup":!0,"aria-controls":ht,"aria-disabled":pe,onClick:qe,onFocus:st},Fe),a,It),_t=M.useRef(F);if(F!=="inline"&&ue.length>1?_t.current="vertical":_t.current=F,!V){var wt=_t.current;at=M.createElement(UZ,{mode:wt,prefixCls:j,visible:!s&&gt&&F!=="inline",popupClassName:_,popupOffset:x,popupStyle:C,popup:M.createElement(Ub,{mode:wt==="horizontal"?"vertical":wt},M.createElement(fO,{id:ht,ref:Re},f)),disabled:pe,onVisibleChange:mt},at)}var je=M.createElement(od.Item,Nt({ref:e,role:"none"},R,{component:"li",style:t,className:et(j,"".concat(j,"-").concat(F),r,de(de(de(de({},"".concat(j,"-open"),gt),"".concat(j,"-active"),Ee),"".concat(j,"-selected"),ze),"".concat(j,"-disabled"),pe)),onMouseEnter:fe,onMouseLeave:oe}),at,!V&&M.createElement(BZ,{id:ht,open:gt,keyPath:ue},f));return q&&(je=q(je,n,{selected:ze,active:Ee,open:gt,disabled:pe})),M.createElement(Ub,{onItemClick:He,mode:F==="horizontal"?"vertical":F,itemIcon:Me,expandIcon:Ae},je)}),JC=M.forwardRef(function(n,e){var t=n.eventKey,r=n.children,a=m0(t),o=dO(r,a),l=KC();M.useEffect(function(){if(l)return l.registerPath(t,a),function(){l.unregisterPath(t,a)}},[a]);var s;return l?s=o:s=M.createElement(kZ,Nt({ref:e},n),o),M.createElement(B4.Provider,{value:a},s)});function hO(n){var e=n.className,t=n.style,r=M.useContext(Hc),a=r.prefixCls,o=KC();return o?null:M.createElement("li",{role:"separator",className:et("".concat(a,"-item-divider"),e),style:t})}var $Z=["className","title","eventKey","children"],VZ=M.forwardRef(function(n,e){var t=n.className,r=n.title;n.eventKey;var a=n.children,o=jn(n,$Z),l=M.useContext(Hc),s=l.prefixCls,f="".concat(s,"-item-group");return M.createElement("li",Nt({ref:e,role:"presentation"},o,{onClick:function(v){return v.stopPropagation()},className:et(f,t)}),M.createElement("div",{role:"presentation",className:"".concat(f,"-title"),title:typeof r=="string"?r:void 0},r),M.createElement("ul",{role:"group",className:"".concat(f,"-list")},a))}),pO=M.forwardRef(function(n,e){var t=n.eventKey,r=n.children,a=m0(t),o=dO(r,a),l=KC();return l?o:M.createElement(VZ,Nt({ref:e},Uo(n,["warnKey"])),o)}),GZ=["label","children","key","type","extra"];function L2(n,e,t){var r=e.item,a=e.group,o=e.submenu,l=e.divider;return(n||[]).map(function(s,f){if(s&&yn(s)==="object"){var h=s,v=h.label,_=h.children,x=h.key,C=h.type,c=h.extra,p=jn(h,GZ),m=x??"tmp-".concat(f);return _||C==="group"?C==="group"?M.createElement(a,Nt({key:m},p,{title:v}),L2(_,e,t)):M.createElement(o,Nt({key:m},p,{title:v}),L2(_,e,t)):C==="divider"?M.createElement(l,Nt({key:m},p)):M.createElement(r,Nt({key:m},p,{extra:c}),v,(!!c||c===0)&&M.createElement("span",{className:"".concat(t,"-item-extra")},c))}return null}).filter(function(s){return s})}function gP(n,e,t,r,a){var o=n,l=Ne({divider:hO,item:QC,group:pO,submenu:JC},r);return e&&(o=L2(e,l,a)),dO(o,t)}var jZ=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem","_internalComponents"],xp=[],WZ=M.forwardRef(function(n,e){var t,r=n,a=r.prefixCls,o=a===void 0?"rc-menu":a,l=r.rootClassName,s=r.style,f=r.className,h=r.tabIndex,v=h===void 0?0:h,_=r.items,x=r.children,C=r.direction,c=r.id,p=r.mode,m=p===void 0?"vertical":p,b=r.inlineCollapsed,w=r.disabled,A=r.disabledOverflow,R=r.subMenuOpenDelay,O=R===void 0?.1:R,P=r.subMenuCloseDelay,D=P===void 0?.1:P,F=r.forceSubMenuRender,B=r.defaultOpenKeys,U=r.openKeys,V=r.activeKey,Q=r.defaultActiveFirst,X=r.selectable,ee=X===void 0?!0:X,ae=r.multiple,Z=ae===void 0?!1:ae,K=r.defaultSelectedKeys,te=r.selectedKeys,ce=r.onSelect,q=r.onDeselect,J=r.inlineIndent,he=J===void 0?24:J,ue=r.motion,j=r.defaultMotions,pe=r.triggerSubMenuAction,_e=pe===void 0?"hover":pe,Re=r.builtinPlacements,Me=r.itemIcon,Ae=r.expandIcon,Ue=r.overflowedIndicator,gt=Ue===void 0?"...":Ue,ze=r.overflowedIndicatorPopupClassName,we=r.getPopupContainer,re=r.onClick,Fe=r.onOpenChange,Ie=r.onKeyDown;r.openAnimation,r.openTransitionName;var Ye=r._internalRenderMenuItem,$e=r._internalRenderSubMenuItem,lt=r._internalComponents,ot=jn(r,jZ),fe=M.useMemo(function(){return[gP(x,_,xp,lt,o),gP(x,_,xp,{},o)]},[x,_,lt]),oe=yt(fe,2),Ee=oe[0],Pe=oe[1],qe=M.useState(!1),He=yt(qe,2),mt=He[0],st=He[1],ht=M.useRef(),It=CZ(c),at=C==="rtl",_t=al(B,{value:U,postState:function(On){return On||xp}}),wt=yt(_t,2),je=wt[0],it=wt[1],Se=function(On){var En=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;function ni(){it(On),Fe==null||Fe(On)}En?zh.flushSync(ni):ni()},ke=M.useState(je),bt=yt(ke,2),Te=bt[0],St=bt[1],Qe=M.useRef(!1),pt=M.useMemo(function(){return(m==="inline"||m==="vertical")&&b?["vertical",b]:[m,!1]},[m,b]),Lt=yt(pt,2),zt=Lt[0],Jt=Lt[1],cn=zt==="inline",Zt=M.useState(zt),Dt=yt(Zt,2),qt=Dt[0],_n=Dt[1],cr=M.useState(Jt),Kr=yt(cr,2),Bn=Kr[0],Ri=Kr[1];M.useEffect(function(){_n(zt),Ri(Jt),Qe.current&&(cn?it(Te):Se(xp))},[zt,Jt]);var xr=M.useState(0),Tn=yt(xr,2),Rn=Tn[0],ti=Tn[1],dn=Rn>=Ee.length-1||qt!=="horizontal"||A;M.useEffect(function(){cn&&St(je)},[je]),M.useEffect(function(){return Qe.current=!0,function(){Qe.current=!1}},[]);var ai=xZ(),un=ai.registerPath,Nr=ai.unregisterPath,Ur=ai.refreshOverflowKeys,Ir=ai.isSubPathKey,zr=ai.getKeyPath,ur=ai.getKeys,wr=ai.getSubPathKeys,le=M.useMemo(function(){return{registerPath:un,unregisterPath:Nr}},[un,Nr]),Be=M.useMemo(function(){return{isSubPathKey:Ir}},[Ir]);M.useEffect(function(){Ur(dn?xp:Ee.slice(Rn+1).map(function(Vn){return Vn.key}))},[Rn,dn]);var rt=al(V||Q&&((t=Ee[0])===null||t===void 0?void 0:t.key),{value:V}),Ke=yt(rt,2),Ve=Ke[0],Rt=Ke[1],jt=Vy(function(Vn){Rt(Vn)}),Kt=Vy(function(){Rt(void 0)});M.useImperativeHandle(e,function(){return{list:ht.current,focus:function(On){var En,ni=ur(),An=P2(ni,It),Ci=An.elements,Ni=An.key2element,Gi=An.element2key,Ki=cO(ht.current,Ci),Pr=Ve??(Ki[0]?Gi.get(Ki[0]):(En=Ee.find(function(Ka){return!Ka.props.disabled}))===null||En===void 0?void 0:En.key),Yi=Ni.get(Pr);if(Pr&&Yi){var po;Yi==null||(po=Yi.focus)===null||po===void 0||po.call(Yi,On)}}}});var Xt=al(K||[],{value:te,postState:function(On){return Array.isArray(On)?On:On==null?xp:[On]}}),bn=yt(Xt,2),hn=bn[0],sn=bn[1],$n=function(On){if(ee){var En=On.key,ni=hn.includes(En),An;Z?ni?An=hn.filter(function(Ni){return Ni!==En}):An=[].concat(Qt(hn),[En]):An=[En],sn(An);var Ci=Ne(Ne({},On),{},{selectedKeys:An});ni?q==null||q(Ci):ce==null||ce(Ci)}!Z&&je.length&&qt!=="inline"&&Se(xp)},Gn=Vy(function(Vn){re==null||re(yw(Vn)),$n(Vn)}),Wn=Vy(function(Vn,On){var En=je.filter(function(An){return An!==Vn});if(On)En.push(Vn);else if(qt!=="inline"){var ni=wr(Vn);En=En.filter(function(An){return!ni.has(An)})}Gv(je,En,!0)||Se(En,!0)}),Pn=function(On,En){var ni=En??!je.includes(On);Wn(On,ni)},Sn=bZ(qt,Ve,at,It,ht,ur,zr,Rt,Pn,Ie);M.useEffect(function(){st(!0)},[]);var fn=M.useMemo(function(){return{_internalRenderMenuItem:Ye,_internalRenderSubMenuItem:$e}},[Ye,$e]),wi=qt!=="horizontal"||A?Ee:Ee.map(function(Vn,On){return M.createElement(Ub,{key:Vn.key,overflowDisabled:On>Rn},Vn)}),Xn=M.createElement(od,Nt({id:c,ref:ht,prefixCls:"".concat(o,"-overflow"),component:"ul",itemComponent:QC,className:et(o,"".concat(o,"-root"),"".concat(o,"-").concat(qt),f,de(de({},"".concat(o,"-inline-collapsed"),Bn),"".concat(o,"-rtl"),at),l),dir:C,style:s,role:"menu",tabIndex:v,data:wi,renderRawItem:function(On){return On},renderRawRest:function(On){var En=On.length,ni=En?Ee.slice(-En):null;return M.createElement(JC,{eventKey:D2,title:gt,disabled:dn,internalPopupClose:En===0,popupClassName:ze},ni)},maxCount:qt!=="horizontal"||A?od.INVALIDATE:od.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(On){ti(On)},onKeyDown:Sn},ot));return M.createElement(lO.Provider,{value:fn},M.createElement(D4.Provider,{value:It},M.createElement(Ub,{prefixCls:o,rootClassName:l,mode:qt,openKeys:je,rtl:at,disabled:w,motion:mt?ue:null,defaultMotions:mt?j:null,activeKey:Ve,onActive:jt,onInactive:Kt,selectedKeys:hn,inlineIndent:he,subMenuOpenDelay:O,subMenuCloseDelay:D,forceSubMenuRender:F,builtinPlacements:Re,triggerSubMenuAction:_e,getPopupContainer:we,itemIcon:Me,expandIcon:Ae,onItemClick:Gn,onOpenChange:Wn},M.createElement(F4.Provider,{value:Be},Xn),M.createElement("div",{style:{display:"none"},"aria-hidden":!0},M.createElement(U4.Provider,{value:le},Pe)))))}),b_=WZ;b_.Item=QC;b_.SubMenu=JC;b_.ItemGroup=pO;b_.Divider=hO;const j4=M.createContext({siderHook:{addSider:()=>null,removeSider:()=>null}}),XZ=n=>{const{antCls:e,componentCls:t,colorText:r,footerBg:a,headerHeight:o,headerPadding:l,headerColor:s,footerPadding:f,fontSize:h,bodyBg:v,headerBg:_}=n;return{[t]:{display:"flex",flex:"auto",flexDirection:"column",minHeight:0,background:v,"&, *":{boxSizing:"border-box"},[`&${t}-has-sider`]:{flexDirection:"row",[`> ${t}, > ${t}-content`]:{width:0}},[`${t}-header, &${t}-footer`]:{flex:"0 0 auto"},"&-rtl":{direction:"rtl"}},[`${t}-header`]:{height:o,padding:l,color:s,lineHeight:Ut(o),background:_,[`${e}-menu`]:{lineHeight:"inherit"}},[`${t}-footer`]:{padding:f,color:r,fontSize:h,background:a},[`${t}-content`]:{flex:"auto",color:r,minHeight:0}}},W4=n=>{const{colorBgLayout:e,controlHeight:t,controlHeightLG:r,colorText:a,controlHeightSM:o,marginXXS:l,colorTextLightSolid:s,colorBgContainer:f}=n,h=r*1.25;return{colorBgHeader:"#001529",colorBgBody:e,colorBgTrigger:"#002140",bodyBg:e,headerBg:"#001529",headerHeight:t*2,headerPadding:`0 ${h}px`,headerColor:a,footerPadding:`${o}px ${h}px`,footerBg:e,siderBg:"#001529",triggerHeight:r+l*2,triggerBg:"#002140",triggerColor:s,zeroTriggerWidth:r,zeroTriggerHeight:r,lightSiderBg:f,lightTriggerBg:f,lightTriggerColor:a}},X4=[["colorBgBody","bodyBg"],["colorBgHeader","headerBg"],["colorBgTrigger","triggerBg"]],Y4=ma("Layout",n=>[XZ(n)],W4,{deprecatedTokens:X4}),YZ=n=>{const{componentCls:e,siderBg:t,motionDurationMid:r,motionDurationSlow:a,antCls:o,triggerHeight:l,triggerColor:s,triggerBg:f,headerHeight:h,zeroTriggerWidth:v,zeroTriggerHeight:_,borderRadiusLG:x,lightSiderBg:C,lightTriggerColor:c,lightTriggerBg:p,bodyBg:m}=n;return{[e]:{position:"relative",minWidth:0,background:t,transition:`all ${r}, background 0s`,"&-has-trigger":{paddingBottom:l},"&-right":{order:1},[`${e}-children`]:{height:"100%",marginTop:-.1,paddingTop:.1,[`${o}-menu${o}-menu-inline-collapsed`]:{width:"auto"}},[`&-zero-width ${e}-children`]:{overflow:"hidden"},[`${e}-trigger`]:{position:"fixed",bottom:0,zIndex:1,height:l,color:s,lineHeight:Ut(l),textAlign:"center",background:f,cursor:"pointer",transition:`all ${r}`},[`${e}-zero-width-trigger`]:{position:"absolute",top:h,insetInlineEnd:n.calc(v).mul(-1).equal(),zIndex:1,width:v,height:_,color:s,fontSize:n.fontSizeXL,display:"flex",alignItems:"center",justifyContent:"center",background:t,borderRadius:`0 ${Ut(x)} ${Ut(x)} 0`,cursor:"pointer",transition:`background ${a} ease`,"&::after":{position:"absolute",inset:0,background:"transparent",transition:`all ${a}`,content:'""'},"&:hover::after":{background:"rgba(255, 255, 255, 0.2)"},"&-right":{insetInlineStart:n.calc(v).mul(-1).equal(),borderRadius:`${Ut(x)} 0 0 ${Ut(x)}`}},"&-light":{background:C,[`${e}-trigger`]:{color:c,background:p},[`${e}-zero-width-trigger`]:{color:c,background:p,border:`1px solid ${m}`,borderInlineStart:0}}}}},qZ=ma(["Layout","Sider"],n=>[YZ(n)],W4,{deprecatedTokens:X4});var ZZ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const vP={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px"},KZ=n=>!Number.isNaN(Number.parseFloat(n))&&isFinite(n),eE=M.createContext({}),QZ=(()=>{let n=0;return function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return n+=1,`${e}${n}`}})(),q4=M.forwardRef((n,e)=>{const{prefixCls:t,className:r,trigger:a,children:o,defaultCollapsed:l=!1,theme:s="dark",style:f={},collapsible:h=!1,reverseArrow:v=!1,width:_=200,collapsedWidth:x=80,zeroWidthTriggerStyle:C,breakpoint:c,onCollapse:p,onBreakpoint:m}=n,b=ZZ(n,["prefixCls","className","trigger","children","defaultCollapsed","theme","style","collapsible","reverseArrow","width","collapsedWidth","zeroWidthTriggerStyle","breakpoint","onCollapse","onBreakpoint"]),{siderHook:w}=M.useContext(j4),[A,R]=M.useState("collapsed"in n?n.collapsed:l),[O,P]=M.useState(!1);M.useEffect(()=>{"collapsed"in n&&R(n.collapsed)},[n.collapsed]);const D=(Me,Ae)=>{"collapsed"in n||R(Me),p==null||p(Me,Ae)},{getPrefixCls:F,direction:B}=M.useContext(ei),U=F("layout-sider",t),[V,Q,X]=qZ(U),ee=M.useRef(null);ee.current=Me=>{P(Me.matches),m==null||m(Me.matches),A!==Me.matches&&D(Me.matches,"responsive")},M.useEffect(()=>{function Me(Ue){return ee.current(Ue)}let Ae;if(typeof window<"u"){const{matchMedia:Ue}=window;if(Ue&&c&&c in vP){Ae=Ue(`screen and (max-width: ${vP[c]})`);try{Ae.addEventListener("change",Me)}catch{Ae.addListener(Me)}Me(Ae)}}return()=>{try{Ae==null||Ae.removeEventListener("change",Me)}catch{Ae==null||Ae.removeListener(Me)}}},[c]),M.useEffect(()=>{const Me=QZ("ant-sider-");return w.addSider(Me),()=>w.removeSider(Me)},[]);const ae=()=>{D(!A,"clickTrigger")},Z=Uo(b,["collapsed"]),K=A?x:_,te=KZ(K)?`${K}px`:String(K),ce=parseFloat(String(x||0))===0?M.createElement("span",{onClick:ae,className:et(`${U}-zero-width-trigger`,`${U}-zero-width-trigger-${v?"right":"left"}`),style:C},a||M.createElement(Jk,null)):null,q=B==="rtl"==!v,ue={expanded:q?M.createElement(ZA,null):M.createElement(qA,null),collapsed:q?M.createElement(qA,null):M.createElement(ZA,null)}[A?"collapsed":"expanded"],j=a!==null?ce||M.createElement("div",{className:`${U}-trigger`,onClick:ae,style:{width:te}},a||ue):null,pe=Object.assign(Object.assign({},f),{flex:`0 0 ${te}`,maxWidth:te,minWidth:te,width:te}),_e=et(U,`${U}-${s}`,{[`${U}-collapsed`]:!!A,[`${U}-has-trigger`]:h&&a!==null&&!ce,[`${U}-below`]:!!O,[`${U}-zero-width`]:parseFloat(te)===0},r,Q,X),Re=M.useMemo(()=>({siderCollapsed:A}),[A]);return V(M.createElement(eE.Provider,{value:Re},M.createElement("aside",Object.assign({className:_e},Z,{style:pe,ref:e}),M.createElement("div",{className:`${U}-children`},o),h||O&&ce?j:null)))}),bw=M.createContext({prefixCls:"",firstLevel:!0,inlineCollapsed:!1});var JZ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const Z4=n=>{const{prefixCls:e,className:t,dashed:r}=n,a=JZ(n,["prefixCls","className","dashed"]),{getPrefixCls:o}=M.useContext(ei),l=o("menu",e),s=et({[`${l}-item-divider-dashed`]:!!r},t);return M.createElement(hO,Object.assign({className:s},a))},K4=n=>{var e;const{className:t,children:r,icon:a,title:o,danger:l,extra:s}=n,{prefixCls:f,firstLevel:h,direction:v,disableMenuItemTitleTooltip:_,inlineCollapsed:x}=M.useContext(bw),C=A=>{const R=r==null?void 0:r[0],O=M.createElement("span",{className:et(`${f}-title-content`,{[`${f}-title-content-with-extra`]:!!s||s===0})},r);return(!a||M.isValidElement(r)&&r.type==="span")&&r&&A&&h&&typeof R=="string"?M.createElement("div",{className:`${f}-inline-collapsed-noicon`},R.charAt(0)):O},{siderCollapsed:c}=M.useContext(eE);let p=o;typeof o>"u"?p=h?r:"":o===!1&&(p="");const m={title:p};!c&&!x&&(m.title=null,m.open=!1);const b=qu(r).length;let w=M.createElement(QC,Object.assign({},Uo(n,["title","icon","danger"]),{className:et({[`${f}-item-danger`]:l,[`${f}-item-only-child`]:(a?b+1:b)===1},t),title:typeof o=="string"?o:void 0}),sl(a,{className:et(M.isValidElement(a)?(e=a.props)===null||e===void 0?void 0:e.className:"",`${f}-item-icon`)}),C(x));return _||(w=M.createElement(Hl,Object.assign({},m,{placement:v==="rtl"?"left":"right",classNames:{root:`${f}-inline-collapsed-tooltip`}}),w)),w},yP=M.createContext(null),eK=n=>{const{componentCls:e,motionDurationSlow:t,horizontalLineHeight:r,colorSplit:a,lineWidth:o,lineType:l,itemPaddingInline:s}=n;return{[`${e}-horizontal`]:{lineHeight:r,border:0,borderBottom:`${Ut(o)} ${l} ${a}`,boxShadow:"none","&::after":{display:"block",clear:"both",height:0,content:'"\\20"'},[`${e}-item, ${e}-submenu`]:{position:"relative",display:"inline-block",verticalAlign:"bottom",paddingInline:s},[`> ${e}-item:hover,
        > ${e}-item-active,
        > ${e}-submenu ${e}-submenu-title:hover`]:{backgroundColor:"transparent"},[`${e}-item, ${e}-submenu-title`]:{transition:[`border-color ${t}`,`background ${t}`].join(",")},[`${e}-submenu-arrow`]:{display:"none"}}}},tK=n=>{let{componentCls:e,menuArrowOffset:t,calc:r}=n;return{[`${e}-rtl`]:{direction:"rtl"},[`${e}-submenu-rtl`]:{transformOrigin:"100% 0"},[`${e}-rtl${e}-vertical,
    ${e}-submenu-rtl ${e}-vertical`]:{[`${e}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateY(${Ut(r(t).mul(-1).equal())})`},"&::after":{transform:`rotate(45deg) translateY(${Ut(t)})`}}}}},bP=n=>Object.assign({},iB(n)),_P=(n,e)=>{const{componentCls:t,itemColor:r,itemSelectedColor:a,subMenuItemSelectedColor:o,groupTitleColor:l,itemBg:s,subMenuItemBg:f,itemSelectedBg:h,activeBarHeight:v,activeBarWidth:_,activeBarBorderWidth:x,motionDurationSlow:C,motionEaseInOut:c,motionEaseOut:p,itemPaddingInline:m,motionDurationMid:b,itemHoverColor:w,lineType:A,colorSplit:R,itemDisabledColor:O,dangerItemColor:P,dangerItemHoverColor:D,dangerItemSelectedColor:F,dangerItemActiveBg:B,dangerItemSelectedBg:U,popupBg:V,itemHoverBg:Q,itemActiveBg:X,menuSubMenuBg:ee,horizontalItemSelectedColor:ae,horizontalItemSelectedBg:Z,horizontalItemBorderRadius:K,horizontalItemHoverBg:te}=n;return{[`${t}-${e}, ${t}-${e} > ${t}`]:{color:r,background:s,[`&${t}-root:focus-visible`]:Object.assign({},bP(n)),[`${t}-item`]:{"&-group-title, &-extra":{color:l}},[`${t}-submenu-selected > ${t}-submenu-title`]:{color:o},[`${t}-item, ${t}-submenu-title`]:{color:r,[`&:not(${t}-item-disabled):focus-visible`]:Object.assign({},bP(n))},[`${t}-item-disabled, ${t}-submenu-disabled`]:{color:`${O} !important`},[`${t}-item:not(${t}-item-selected):not(${t}-submenu-selected)`]:{[`&:hover, > ${t}-submenu-title:hover`]:{color:w}},[`&:not(${t}-horizontal)`]:{[`${t}-item:not(${t}-item-selected)`]:{"&:hover":{backgroundColor:Q},"&:active":{backgroundColor:X}},[`${t}-submenu-title`]:{"&:hover":{backgroundColor:Q},"&:active":{backgroundColor:X}}},[`${t}-item-danger`]:{color:P,[`&${t}-item:hover`]:{[`&:not(${t}-item-selected):not(${t}-submenu-selected)`]:{color:D}},[`&${t}-item:active`]:{background:B}},[`${t}-item a`]:{"&, &:hover":{color:"inherit"}},[`${t}-item-selected`]:{color:a,[`&${t}-item-danger`]:{color:F},"a, a:hover":{color:"inherit"}},[`& ${t}-item-selected`]:{backgroundColor:h,[`&${t}-item-danger`]:{backgroundColor:U}},[`&${t}-submenu > ${t}`]:{backgroundColor:ee},[`&${t}-popup > ${t}`]:{backgroundColor:V},[`&${t}-submenu-popup > ${t}`]:{backgroundColor:V},[`&${t}-horizontal`]:Object.assign(Object.assign({},e==="dark"?{borderBottom:0}:{}),{[`> ${t}-item, > ${t}-submenu`]:{top:x,marginTop:n.calc(x).mul(-1).equal(),marginBottom:0,borderRadius:K,"&::after":{position:"absolute",insetInline:m,bottom:0,borderBottom:`${Ut(v)} solid transparent`,transition:`border-color ${C} ${c}`,content:'""'},"&:hover, &-active, &-open":{background:te,"&::after":{borderBottomWidth:v,borderBottomColor:ae}},"&-selected":{color:ae,backgroundColor:Z,"&:hover":{backgroundColor:Z},"&::after":{borderBottomWidth:v,borderBottomColor:ae}}}}),[`&${t}-root`]:{[`&${t}-inline, &${t}-vertical`]:{borderInlineEnd:`${Ut(x)} ${A} ${R}`}},[`&${t}-inline`]:{[`${t}-sub${t}-inline`]:{background:f},[`${t}-item`]:{position:"relative","&::after":{position:"absolute",insetBlock:0,insetInlineEnd:0,borderInlineEnd:`${Ut(_)} solid ${a}`,transform:"scaleY(0.0001)",opacity:0,transition:[`transform ${b} ${p}`,`opacity ${b} ${p}`].join(","),content:'""'},[`&${t}-item-danger`]:{"&::after":{borderInlineEndColor:F}}},[`${t}-selected, ${t}-item-selected`]:{"&::after":{transform:"scaleY(1)",opacity:1,transition:[`transform ${b} ${c}`,`opacity ${b} ${c}`].join(",")}}}}}},SP=n=>{const{componentCls:e,itemHeight:t,itemMarginInline:r,padding:a,menuArrowSize:o,marginXS:l,itemMarginBlock:s,itemWidth:f,itemPaddingInline:h}=n,v=n.calc(o).add(a).add(l).equal();return{[`${e}-item`]:{position:"relative",overflow:"hidden"},[`${e}-item, ${e}-submenu-title`]:{height:t,lineHeight:Ut(t),paddingInline:h,overflow:"hidden",textOverflow:"ellipsis",marginInline:r,marginBlock:s,width:f},[`> ${e}-item,
            > ${e}-submenu > ${e}-submenu-title`]:{height:t,lineHeight:Ut(t)},[`${e}-item-group-list ${e}-submenu-title,
            ${e}-submenu-title`]:{paddingInlineEnd:v}}},nK=n=>{const{componentCls:e,iconCls:t,itemHeight:r,colorTextLightSolid:a,dropdownWidth:o,controlHeightLG:l,motionEaseOut:s,paddingXL:f,itemMarginInline:h,fontSizeLG:v,motionDurationFast:_,motionDurationSlow:x,paddingXS:C,boxShadowSecondary:c,collapsedWidth:p,collapsedIconSize:m}=n,b={height:r,lineHeight:Ut(r),listStylePosition:"inside",listStyleType:"disc"};return[{[e]:{"&-inline, &-vertical":Object.assign({[`&${e}-root`]:{boxShadow:"none"}},SP(n))},[`${e}-submenu-popup`]:{[`${e}-vertical`]:Object.assign(Object.assign({},SP(n)),{boxShadow:c})}},{[`${e}-submenu-popup ${e}-vertical${e}-sub`]:{minWidth:o,maxHeight:`calc(100vh - ${Ut(n.calc(l).mul(2.5).equal())})`,padding:"0",overflow:"hidden",borderInlineEnd:0,"&:not([class*='-active'])":{overflowX:"hidden",overflowY:"auto"}}},{[`${e}-inline`]:{width:"100%",[`&${e}-root`]:{[`${e}-item, ${e}-submenu-title`]:{display:"flex",alignItems:"center",transition:[`border-color ${x}`,`background ${x}`,`padding ${_} ${s}`].join(","),[`> ${e}-title-content`]:{flex:"auto",minWidth:0,overflow:"hidden",textOverflow:"ellipsis"},"> *":{flex:"none"}}},[`${e}-sub${e}-inline`]:{padding:0,border:0,borderRadius:0,boxShadow:"none",[`& > ${e}-submenu > ${e}-submenu-title`]:b,[`& ${e}-item-group-title`]:{paddingInlineStart:f}},[`${e}-item`]:b}},{[`${e}-inline-collapsed`]:{width:p,[`&${e}-root`]:{[`${e}-item, ${e}-submenu ${e}-submenu-title`]:{[`> ${e}-inline-collapsed-noicon`]:{fontSize:v,textAlign:"center"}}},[`> ${e}-item,
          > ${e}-item-group > ${e}-item-group-list > ${e}-item,
          > ${e}-item-group > ${e}-item-group-list > ${e}-submenu > ${e}-submenu-title,
          > ${e}-submenu > ${e}-submenu-title`]:{insetInlineStart:0,paddingInline:`calc(50% - ${Ut(n.calc(m).div(2).equal())} - ${Ut(h)})`,textOverflow:"clip",[`
            ${e}-submenu-arrow,
            ${e}-submenu-expand-icon
          `]:{opacity:0},[`${e}-item-icon, ${t}`]:{margin:0,fontSize:m,lineHeight:Ut(r),"+ span":{display:"inline-block",opacity:0}}},[`${e}-item-icon, ${t}`]:{display:"inline-block"},"&-tooltip":{pointerEvents:"none",[`${e}-item-icon, ${t}`]:{display:"none"},"a, a:hover":{color:a}},[`${e}-item-group-title`]:Object.assign(Object.assign({},BC),{paddingInline:C})}}]},xP=n=>{const{componentCls:e,motionDurationSlow:t,motionDurationMid:r,motionEaseInOut:a,motionEaseOut:o,iconCls:l,iconSize:s,iconMarginInlineEnd:f}=n;return{[`${e}-item, ${e}-submenu-title`]:{position:"relative",display:"block",margin:0,whiteSpace:"nowrap",cursor:"pointer",transition:[`border-color ${t}`,`background ${t}`,`padding calc(${t} + 0.1s) ${a}`].join(","),[`${e}-item-icon, ${l}`]:{minWidth:s,fontSize:s,transition:[`font-size ${r} ${o}`,`margin ${t} ${a}`,`color ${t}`].join(","),"+ span":{marginInlineStart:f,opacity:1,transition:[`opacity ${t} ${a}`,`margin ${t}`,`color ${t}`].join(",")}},[`${e}-item-icon`]:Object.assign({},XR()),[`&${e}-item-only-child`]:{[`> ${l}, > ${e}-item-icon`]:{marginInlineEnd:0}}},[`${e}-item-disabled, ${e}-submenu-disabled`]:{background:"none !important",cursor:"not-allowed","&::after":{borderColor:"transparent !important"},a:{color:"inherit !important",cursor:"not-allowed",pointerEvents:"none"},[`> ${e}-submenu-title`]:{color:"inherit !important",cursor:"not-allowed"}}}},wP=n=>{const{componentCls:e,motionDurationSlow:t,motionEaseInOut:r,borderRadius:a,menuArrowSize:o,menuArrowOffset:l}=n;return{[`${e}-submenu`]:{"&-expand-icon, &-arrow":{position:"absolute",top:"50%",insetInlineEnd:n.margin,width:o,color:"currentcolor",transform:"translateY(-50%)",transition:`transform ${t} ${r}, opacity ${t}`},"&-arrow":{"&::before, &::after":{position:"absolute",width:n.calc(o).mul(.6).equal(),height:n.calc(o).mul(.15).equal(),backgroundColor:"currentcolor",borderRadius:a,transition:[`background ${t} ${r}`,`transform ${t} ${r}`,`top ${t} ${r}`,`color ${t} ${r}`].join(","),content:'""'},"&::before":{transform:`rotate(45deg) translateY(${Ut(n.calc(l).mul(-1).equal())})`},"&::after":{transform:`rotate(-45deg) translateY(${Ut(l)})`}}}}},iK=n=>{const{antCls:e,componentCls:t,fontSize:r,motionDurationSlow:a,motionDurationMid:o,motionEaseInOut:l,paddingXS:s,padding:f,colorSplit:h,lineWidth:v,zIndexPopup:_,borderRadiusLG:x,subMenuItemBorderRadius:C,menuArrowSize:c,menuArrowOffset:p,lineType:m,groupTitleLineHeight:b,groupTitleFontSize:w}=n;return[{"":{[t]:Object.assign(Object.assign({},Zv()),{"&-hidden":{display:"none"}})},[`${t}-submenu-hidden`]:{display:"none"}},{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},jc(n)),Zv()),{marginBottom:0,paddingInlineStart:0,fontSize:r,lineHeight:0,listStyle:"none",outline:"none",transition:`width ${a} cubic-bezier(0.2, 0, 0, 1) 0s`,"ul, ol":{margin:0,padding:0,listStyle:"none"},"&-overflow":{display:"flex",[`${t}-item`]:{flex:"none"}},[`${t}-item, ${t}-submenu, ${t}-submenu-title`]:{borderRadius:n.itemBorderRadius},[`${t}-item-group-title`]:{padding:`${Ut(s)} ${Ut(f)}`,fontSize:w,lineHeight:b,transition:`all ${a}`},[`&-horizontal ${t}-submenu`]:{transition:[`border-color ${a} ${l}`,`background ${a} ${l}`].join(",")},[`${t}-submenu, ${t}-submenu-inline`]:{transition:[`border-color ${a} ${l}`,`background ${a} ${l}`,`padding ${o} ${l}`].join(",")},[`${t}-submenu ${t}-sub`]:{cursor:"initial",transition:[`background ${a} ${l}`,`padding ${a} ${l}`].join(",")},[`${t}-title-content`]:{transition:`color ${a}`,"&-with-extra":{display:"inline-flex",alignItems:"center",width:"100%"},[`> ${e}-typography-ellipsis-single-line`]:{display:"inline",verticalAlign:"unset"},[`${t}-item-extra`]:{marginInlineStart:"auto",paddingInlineStart:n.padding}},[`${t}-item a`]:{"&::before":{position:"absolute",inset:0,backgroundColor:"transparent",content:'""'}},[`${t}-item-divider`]:{overflow:"hidden",lineHeight:0,borderColor:h,borderStyle:m,borderWidth:0,borderTopWidth:v,marginBlock:v,padding:0,"&-dashed":{borderStyle:"dashed"}}}),xP(n)),{[`${t}-item-group`]:{[`${t}-item-group-list`]:{margin:0,padding:0,[`${t}-item, ${t}-submenu-title`]:{paddingInline:`${Ut(n.calc(r).mul(2).equal())} ${Ut(f)}`}}},"&-submenu":{"&-popup":{position:"absolute",zIndex:_,borderRadius:x,boxShadow:"none",transformOrigin:"0 0",[`&${t}-submenu`]:{background:"transparent"},"&::before":{position:"absolute",inset:0,zIndex:-1,width:"100%",height:"100%",opacity:0,content:'""'},[`> ${t}`]:Object.assign(Object.assign(Object.assign({borderRadius:x},xP(n)),wP(n)),{[`${t}-item, ${t}-submenu > ${t}-submenu-title`]:{borderRadius:C},[`${t}-submenu-title::after`]:{transition:`transform ${a} ${l}`}})},"\n          &-placement-leftTop,\n          &-placement-bottomRight,\n          ":{transformOrigin:"100% 0"},"\n          &-placement-leftBottom,\n          &-placement-topRight,\n          ":{transformOrigin:"100% 100%"},"\n          &-placement-rightBottom,\n          &-placement-topLeft,\n          ":{transformOrigin:"0 100%"},"\n          &-placement-bottomLeft,\n          &-placement-rightTop,\n          ":{transformOrigin:"0 0"},"\n          &-placement-leftTop,\n          &-placement-leftBottom\n          ":{paddingInlineEnd:n.paddingXS},"\n          &-placement-rightTop,\n          &-placement-rightBottom\n          ":{paddingInlineStart:n.paddingXS},"\n          &-placement-topRight,\n          &-placement-topLeft\n          ":{paddingBottom:n.paddingXS},"\n          &-placement-bottomRight,\n          &-placement-bottomLeft\n          ":{paddingTop:n.paddingXS}}}),wP(n)),{[`&-inline-collapsed ${t}-submenu-arrow,
        &-inline ${t}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateX(${Ut(p)})`},"&::after":{transform:`rotate(45deg) translateX(${Ut(n.calc(p).mul(-1).equal())})`}},[`${t}-submenu-open${t}-submenu-inline > ${t}-submenu-title > ${t}-submenu-arrow`]:{transform:`translateY(${Ut(n.calc(c).mul(.2).mul(-1).equal())})`,"&::after":{transform:`rotate(-45deg) translateX(${Ut(n.calc(p).mul(-1).equal())})`},"&::before":{transform:`rotate(45deg) translateX(${Ut(p)})`}}})},{[`${e}-layout-header`]:{[t]:{lineHeight:"inherit"}}}]},rK=n=>{var e,t,r;const{colorPrimary:a,colorError:o,colorTextDisabled:l,colorErrorBg:s,colorText:f,colorTextDescription:h,colorBgContainer:v,colorFillAlter:_,colorFillContent:x,lineWidth:C,lineWidthBold:c,controlItemBgActive:p,colorBgTextHover:m,controlHeightLG:b,lineHeight:w,colorBgElevated:A,marginXXS:R,padding:O,fontSize:P,controlHeightSM:D,fontSizeLG:F,colorTextLightSolid:B,colorErrorHover:U}=n,V=(e=n.activeBarWidth)!==null&&e!==void 0?e:0,Q=(t=n.activeBarBorderWidth)!==null&&t!==void 0?t:C,X=(r=n.itemMarginInline)!==null&&r!==void 0?r:n.marginXXS,ee=new Vi(B).setA(.65).toRgbString();return{dropdownWidth:160,zIndexPopup:n.zIndexPopupBase+50,radiusItem:n.borderRadiusLG,itemBorderRadius:n.borderRadiusLG,radiusSubMenuItem:n.borderRadiusSM,subMenuItemBorderRadius:n.borderRadiusSM,colorItemText:f,itemColor:f,colorItemTextHover:f,itemHoverColor:f,colorItemTextHoverHorizontal:a,horizontalItemHoverColor:a,colorGroupTitle:h,groupTitleColor:h,colorItemTextSelected:a,itemSelectedColor:a,subMenuItemSelectedColor:a,colorItemTextSelectedHorizontal:a,horizontalItemSelectedColor:a,colorItemBg:v,itemBg:v,colorItemBgHover:m,itemHoverBg:m,colorItemBgActive:x,itemActiveBg:p,colorSubItemBg:_,subMenuItemBg:_,colorItemBgSelected:p,itemSelectedBg:p,colorItemBgSelectedHorizontal:"transparent",horizontalItemSelectedBg:"transparent",colorActiveBarWidth:0,activeBarWidth:V,colorActiveBarHeight:c,activeBarHeight:c,colorActiveBarBorderSize:C,activeBarBorderWidth:Q,colorItemTextDisabled:l,itemDisabledColor:l,colorDangerItemText:o,dangerItemColor:o,colorDangerItemTextHover:o,dangerItemHoverColor:o,colorDangerItemTextSelected:o,dangerItemSelectedColor:o,colorDangerItemBgActive:s,dangerItemActiveBg:s,colorDangerItemBgSelected:s,dangerItemSelectedBg:s,itemMarginInline:X,horizontalItemBorderRadius:0,horizontalItemHoverBg:"transparent",itemHeight:b,groupTitleLineHeight:w,collapsedWidth:b*2,popupBg:A,itemMarginBlock:R,itemPaddingInline:O,horizontalLineHeight:`${b*1.15}px`,iconSize:P,iconMarginInlineEnd:D-P,collapsedIconSize:F,groupTitleFontSize:P,darkItemDisabledColor:new Vi(B).setA(.25).toRgbString(),darkItemColor:ee,darkDangerItemColor:o,darkItemBg:"#001529",darkPopupBg:"#001529",darkSubMenuItemBg:"#000c17",darkItemSelectedColor:B,darkItemSelectedBg:a,darkDangerItemSelectedBg:o,darkItemHoverBg:"transparent",darkGroupTitleColor:ee,darkItemHoverColor:B,darkDangerItemHoverColor:U,darkDangerItemSelectedColor:B,darkDangerItemActiveBg:o,itemWidth:V?`calc(100% + ${Q}px)`:`calc(100% - ${X*2}px)`}},aK=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return ma("Menu",a=>{const{colorBgElevated:o,controlHeightLG:l,fontSize:s,darkItemColor:f,darkDangerItemColor:h,darkItemBg:v,darkSubMenuItemBg:_,darkItemSelectedColor:x,darkItemSelectedBg:C,darkDangerItemSelectedBg:c,darkItemHoverBg:p,darkGroupTitleColor:m,darkItemHoverColor:b,darkItemDisabledColor:w,darkDangerItemHoverColor:A,darkDangerItemSelectedColor:R,darkDangerItemActiveBg:O,popupBg:P,darkPopupBg:D}=a,F=a.calc(s).div(7).mul(5).equal(),B=gr(a,{menuArrowSize:F,menuHorizontalHeight:a.calc(l).mul(1.15).equal(),menuArrowOffset:a.calc(F).mul(.25).equal(),menuSubMenuBg:o,calc:a.calc,popupBg:P}),U=gr(B,{itemColor:f,itemHoverColor:b,groupTitleColor:m,itemSelectedColor:x,subMenuItemSelectedColor:x,itemBg:v,popupBg:D,subMenuItemBg:_,itemActiveBg:"transparent",itemSelectedBg:C,activeBarHeight:0,activeBarBorderWidth:0,itemHoverBg:p,itemDisabledColor:w,dangerItemColor:h,dangerItemHoverColor:A,dangerItemSelectedColor:R,dangerItemActiveBg:O,dangerItemSelectedBg:c,menuSubMenuBg:_,horizontalItemSelectedColor:x,horizontalItemSelectedBg:C});return[iK(B),eK(B),nK(B),_P(B,"light"),_P(U,"dark"),tK(B),NB(B),Ez(B,"slide-up"),Ez(B,"slide-down"),h_(B,"zoom-big")]},rK,{deprecatedTokens:[["colorGroupTitle","groupTitleColor"],["radiusItem","itemBorderRadius"],["radiusSubMenuItem","subMenuItemBorderRadius"],["colorItemText","itemColor"],["colorItemTextHover","itemHoverColor"],["colorItemTextHoverHorizontal","horizontalItemHoverColor"],["colorItemTextSelected","itemSelectedColor"],["colorItemTextSelectedHorizontal","horizontalItemSelectedColor"],["colorItemTextDisabled","itemDisabledColor"],["colorDangerItemText","dangerItemColor"],["colorDangerItemTextHover","dangerItemHoverColor"],["colorDangerItemTextSelected","dangerItemSelectedColor"],["colorDangerItemBgActive","dangerItemActiveBg"],["colorDangerItemBgSelected","dangerItemSelectedBg"],["colorItemBg","itemBg"],["colorItemBgHover","itemHoverBg"],["colorSubItemBg","subMenuItemBg"],["colorItemBgActive","itemActiveBg"],["colorItemBgSelectedHorizontal","horizontalItemSelectedBg"],["colorActiveBarWidth","activeBarWidth"],["colorActiveBarHeight","activeBarHeight"],["colorActiveBarBorderSize","activeBarBorderWidth"],["colorItemBgSelected","itemSelectedBg"]],injectStyle:t,unitless:{groupTitleLineHeight:!0}})(n,e)},Q4=n=>{var e;const{popupClassName:t,icon:r,title:a,theme:o}=n,l=M.useContext(bw),{prefixCls:s,inlineCollapsed:f,theme:h}=l,v=m0();let _;if(!r)_=f&&!v.length&&a&&typeof a=="string"?M.createElement("div",{className:`${s}-inline-collapsed-noicon`},a.charAt(0)):M.createElement("span",{className:`${s}-title-content`},a);else{const c=M.isValidElement(a)&&a.type==="span";_=M.createElement(M.Fragment,null,sl(r,{className:et(M.isValidElement(r)?(e=r.props)===null||e===void 0?void 0:e.className:"",`${s}-item-icon`)}),c?a:M.createElement("span",{className:`${s}-title-content`},a))}const x=M.useMemo(()=>Object.assign(Object.assign({},l),{firstLevel:!1}),[l]),[C]=f_("Menu");return M.createElement(bw.Provider,{value:x},M.createElement(JC,Object.assign({},Uo(n,["icon"]),{title:_,popupClassName:et(s,t,`${s}-${o||h}`),popupStyle:Object.assign({zIndex:C},n.popupStyle)})))};var oK=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};function oT(n){return n===null||n===!1}const sK={item:K4,submenu:Q4,divider:Z4},lK=M.forwardRef((n,e)=>{var t;const r=M.useContext(yP),a=r||{},{getPrefixCls:o,getPopupContainer:l,direction:s,menu:f}=M.useContext(ei),h=o(),{prefixCls:v,className:_,style:x,theme:C="light",expandIcon:c,_internalDisableMenuItemTitleTooltip:p,inlineCollapsed:m,siderCollapsed:b,rootClassName:w,mode:A,selectable:R,onClick:O,overflowedIndicatorPopupClassName:P}=n,D=oK(n,["prefixCls","className","style","theme","expandIcon","_internalDisableMenuItemTitleTooltip","inlineCollapsed","siderCollapsed","rootClassName","mode","selectable","onClick","overflowedIndicatorPopupClassName"]),F=Uo(D,["collapsedWidth"]);(t=a.validator)===null||t===void 0||t.call(a,{mode:A});const B=Za(function(){var he;O==null||O.apply(void 0,arguments),(he=a.onClick)===null||he===void 0||he.call(a)}),U=a.mode||A,V=R??a.selectable,Q=m??b,X={horizontal:{motionName:`${h}-slide-up`},inline:OB(h),other:{motionName:`${h}-zoom-big`}},ee=o("menu",v||a.prefixCls),ae=Xc(ee),[Z,K,te]=aK(ee,ae,!r),ce=et(`${ee}-${C}`,f==null?void 0:f.className,_),q=M.useMemo(()=>{var he,ue;if(typeof c=="function"||oT(c))return c||null;if(typeof a.expandIcon=="function"||oT(a.expandIcon))return a.expandIcon||null;if(typeof(f==null?void 0:f.expandIcon)=="function"||oT(f==null?void 0:f.expandIcon))return(f==null?void 0:f.expandIcon)||null;const j=(he=c??(a==null?void 0:a.expandIcon))!==null&&he!==void 0?he:f==null?void 0:f.expandIcon;return sl(j,{className:et(`${ee}-submenu-expand-icon`,M.isValidElement(j)?(ue=j.props)===null||ue===void 0?void 0:ue.className:void 0)})},[c,a==null?void 0:a.expandIcon,f==null?void 0:f.expandIcon,ee]),J=M.useMemo(()=>({prefixCls:ee,inlineCollapsed:Q||!1,direction:s,firstLevel:!0,theme:C,mode:U,disableMenuItemTitleTooltip:p}),[ee,Q,s,p,C]);return Z(M.createElement(yP.Provider,{value:null},M.createElement(bw.Provider,{value:J},M.createElement(b_,Object.assign({getPopupContainer:l,overflowedIndicator:M.createElement(b$,null),overflowedIndicatorPopupClassName:et(ee,`${ee}-${C}`,P),mode:U,selectable:V,onClick:B},F,{inlineCollapsed:Q,style:Object.assign(Object.assign({},f==null?void 0:f.style),x),className:ce,prefixCls:ee,direction:s,defaultMotions:X,expandIcon:q,ref:e,rootClassName:et(w,K,a.rootClassName,te,ae),_internalComponents:sK})))))}),__=M.forwardRef((n,e)=>{const t=M.useRef(null),r=M.useContext(eE);return M.useImperativeHandle(e,()=>({menu:t.current,focus:a=>{var o;(o=t.current)===null||o===void 0||o.focus(a)}})),M.createElement(lK,Object.assign({ref:t},n,r))});__.Item=K4;__.SubMenu=Q4;__.Divider=Z4;__.ItemGroup=pO;function tE(n){return gr(n,{inputAffixPadding:n.paddingXXS})}const nE=n=>{const{controlHeight:e,fontSize:t,lineHeight:r,lineWidth:a,controlHeightSM:o,controlHeightLG:l,fontSizeLG:s,lineHeightLG:f,paddingSM:h,controlPaddingHorizontalSM:v,controlPaddingHorizontal:_,colorFillAlter:x,colorPrimaryHover:C,colorPrimary:c,controlOutlineWidth:p,controlOutline:m,colorErrorOutline:b,colorWarningOutline:w,colorBgContainer:A,inputFontSize:R,inputFontSizeLG:O,inputFontSizeSM:P}=n,D=R||t,F=P||D,B=O||s,U=Math.round((e-D*r)/2*10)/10-a,V=Math.round((o-F*r)/2*10)/10-a,Q=Math.ceil((l-B*f)/2*10)/10-a;return{paddingBlock:Math.max(U,0),paddingBlockSM:Math.max(V,0),paddingBlockLG:Math.max(Q,0),paddingInline:h-a,paddingInlineSM:v-a,paddingInlineLG:_-a,addonBg:x,activeBorderColor:c,hoverBorderColor:C,activeShadow:`0 0 0 ${p}px ${m}`,errorActiveShadow:`0 0 0 ${p}px ${b}`,warningActiveShadow:`0 0 0 ${p}px ${w}`,hoverBg:A,activeBg:A,inputFontSize:D,inputFontSizeLG:B,inputFontSizeSM:F}},cK=n=>({borderColor:n.hoverBorderColor,backgroundColor:n.hoverBg}),mO=n=>({color:n.colorTextDisabled,backgroundColor:n.colorBgContainerDisabled,borderColor:n.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"input[disabled], textarea[disabled]":{cursor:"not-allowed"},"&:hover:not([disabled])":Object.assign({},cK(gr(n,{hoverBorderColor:n.colorBorder,hoverBg:n.colorBgContainerDisabled})))}),J4=(n,e)=>({background:n.colorBgContainer,borderWidth:n.lineWidth,borderStyle:n.lineType,borderColor:e.borderColor,"&:hover":{borderColor:e.hoverBorderColor,backgroundColor:n.hoverBg},"&:focus, &:focus-within":{borderColor:e.activeBorderColor,boxShadow:e.activeShadow,outline:0,backgroundColor:n.activeBg}}),CP=(n,e)=>({[`&${n.componentCls}-status-${e.status}:not(${n.componentCls}-disabled)`]:Object.assign(Object.assign({},J4(n,e)),{[`${n.componentCls}-prefix, ${n.componentCls}-suffix`]:{color:e.affixColor}}),[`&${n.componentCls}-status-${e.status}${n.componentCls}-disabled`]:{borderColor:e.borderColor}}),uK=(n,e)=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},J4(n,{borderColor:n.colorBorder,hoverBorderColor:n.hoverBorderColor,activeBorderColor:n.activeBorderColor,activeShadow:n.activeShadow})),{[`&${n.componentCls}-disabled, &[disabled]`]:Object.assign({},mO(n))}),CP(n,{status:"error",borderColor:n.colorError,hoverBorderColor:n.colorErrorBorderHover,activeBorderColor:n.colorError,activeShadow:n.errorActiveShadow,affixColor:n.colorError})),CP(n,{status:"warning",borderColor:n.colorWarning,hoverBorderColor:n.colorWarningBorderHover,activeBorderColor:n.colorWarning,activeShadow:n.warningActiveShadow,affixColor:n.colorWarning})),e)}),EP=(n,e)=>({[`&${n.componentCls}-group-wrapper-status-${e.status}`]:{[`${n.componentCls}-group-addon`]:{borderColor:e.addonBorderColor,color:e.addonColor}}}),fK=n=>({"&-outlined":Object.assign(Object.assign(Object.assign({[`${n.componentCls}-group`]:{"&-addon":{background:n.addonBg,border:`${Ut(n.lineWidth)} ${n.lineType} ${n.colorBorder}`},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}}},EP(n,{status:"error",addonBorderColor:n.colorError,addonColor:n.colorErrorText})),EP(n,{status:"warning",addonBorderColor:n.colorWarning,addonColor:n.colorWarningText})),{[`&${n.componentCls}-group-wrapper-disabled`]:{[`${n.componentCls}-group-addon`]:Object.assign({},mO(n))}})}),dK=(n,e)=>{const{componentCls:t}=n;return{"&-borderless":Object.assign({background:"transparent",border:"none","&:focus, &:focus-within":{outline:"none"},[`&${t}-disabled, &[disabled]`]:{color:n.colorTextDisabled,cursor:"not-allowed"},[`&${t}-status-error`]:{"&, & input, & textarea":{color:n.colorError}},[`&${t}-status-warning`]:{"&, & input, & textarea":{color:n.colorWarning}}},e)}},eF=(n,e)=>({background:e.bg,borderWidth:n.lineWidth,borderStyle:n.lineType,borderColor:"transparent","input&, & input, textarea&, & textarea":{color:e==null?void 0:e.inputColor},"&:hover":{background:e.hoverBg},"&:focus, &:focus-within":{outline:0,borderColor:e.activeBorderColor,backgroundColor:n.activeBg}}),MP=(n,e)=>({[`&${n.componentCls}-status-${e.status}:not(${n.componentCls}-disabled)`]:Object.assign(Object.assign({},eF(n,e)),{[`${n.componentCls}-prefix, ${n.componentCls}-suffix`]:{color:e.affixColor}})}),hK=(n,e)=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},eF(n,{bg:n.colorFillTertiary,hoverBg:n.colorFillSecondary,activeBorderColor:n.activeBorderColor})),{[`&${n.componentCls}-disabled, &[disabled]`]:Object.assign({},mO(n))}),MP(n,{status:"error",bg:n.colorErrorBg,hoverBg:n.colorErrorBgHover,activeBorderColor:n.colorError,inputColor:n.colorErrorText,affixColor:n.colorError})),MP(n,{status:"warning",bg:n.colorWarningBg,hoverBg:n.colorWarningBgHover,activeBorderColor:n.colorWarning,inputColor:n.colorWarningText,affixColor:n.colorWarning})),e)}),TP=(n,e)=>({[`&${n.componentCls}-group-wrapper-status-${e.status}`]:{[`${n.componentCls}-group-addon`]:{background:e.addonBg,color:e.addonColor}}}),pK=n=>({"&-filled":Object.assign(Object.assign(Object.assign({[`${n.componentCls}-group`]:{"&-addon":{background:n.colorFillTertiary},[`${n.componentCls}-filled:not(:focus):not(:focus-within)`]:{"&:not(:first-child)":{borderInlineStart:`${Ut(n.lineWidth)} ${n.lineType} ${n.colorSplit}`},"&:not(:last-child)":{borderInlineEnd:`${Ut(n.lineWidth)} ${n.lineType} ${n.colorSplit}`}}}},TP(n,{status:"error",addonBg:n.colorErrorBg,addonColor:n.colorErrorText})),TP(n,{status:"warning",addonBg:n.colorWarningBg,addonColor:n.colorWarningText})),{[`&${n.componentCls}-group-wrapper-disabled`]:{[`${n.componentCls}-group`]:{"&-addon":{background:n.colorFillTertiary,color:n.colorTextDisabled},"&-addon:first-child":{borderInlineStart:`${Ut(n.lineWidth)} ${n.lineType} ${n.colorBorder}`,borderTop:`${Ut(n.lineWidth)} ${n.lineType} ${n.colorBorder}`,borderBottom:`${Ut(n.lineWidth)} ${n.lineType} ${n.colorBorder}`},"&-addon:last-child":{borderInlineEnd:`${Ut(n.lineWidth)} ${n.lineType} ${n.colorBorder}`,borderTop:`${Ut(n.lineWidth)} ${n.lineType} ${n.colorBorder}`,borderBottom:`${Ut(n.lineWidth)} ${n.lineType} ${n.colorBorder}`}}}})}),tF=(n,e)=>({background:n.colorBgContainer,borderWidth:`${Ut(n.lineWidth)} 0`,borderStyle:`${n.lineType} none`,borderColor:`transparent transparent ${e.borderColor} transparent`,borderRadius:0,"&:hover":{borderColor:`transparent transparent ${e.borderColor} transparent`,backgroundColor:n.hoverBg},"&:focus, &:focus-within":{borderColor:`transparent transparent ${e.borderColor} transparent`,outline:0,backgroundColor:n.activeBg}}),AP=(n,e)=>({[`&${n.componentCls}-status-${e.status}:not(${n.componentCls}-disabled)`]:Object.assign(Object.assign({},tF(n,e)),{[`${n.componentCls}-prefix, ${n.componentCls}-suffix`]:{color:e.affixColor}}),[`&${n.componentCls}-status-${e.status}${n.componentCls}-disabled`]:{borderColor:`transparent transparent ${e.borderColor} transparent`}}),mK=(n,e)=>({"&-underlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},tF(n,{borderColor:n.colorBorder,hoverBorderColor:n.hoverBorderColor,activeBorderColor:n.activeBorderColor,activeShadow:n.activeShadow})),{[`&${n.componentCls}-disabled, &[disabled]`]:{color:n.colorTextDisabled,boxShadow:"none",cursor:"not-allowed","&:hover":{borderColor:`transparent transparent ${n.colorBorder} transparent`}},"input[disabled], textarea[disabled]":{cursor:"not-allowed"}}),AP(n,{status:"error",borderColor:n.colorError,hoverBorderColor:n.colorErrorBorderHover,activeBorderColor:n.colorError,activeShadow:n.errorActiveShadow,affixColor:n.colorError})),AP(n,{status:"warning",borderColor:n.colorWarning,hoverBorderColor:n.colorWarningBorderHover,activeBorderColor:n.colorWarning,activeShadow:n.warningActiveShadow,affixColor:n.colorWarning})),e)}),gK=n=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:n,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),nF=n=>{const{paddingBlockLG:e,lineHeightLG:t,borderRadiusLG:r,paddingInlineLG:a}=n;return{padding:`${Ut(e)} ${Ut(a)}`,fontSize:n.inputFontSizeLG,lineHeight:t,borderRadius:r}},iF=n=>({padding:`${Ut(n.paddingBlockSM)} ${Ut(n.paddingInlineSM)}`,fontSize:n.inputFontSizeSM,borderRadius:n.borderRadiusSM}),rF=n=>Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${Ut(n.paddingBlock)} ${Ut(n.paddingInline)}`,color:n.colorText,fontSize:n.inputFontSize,lineHeight:n.lineHeight,borderRadius:n.borderRadius,transition:`all ${n.motionDurationMid}`},gK(n.colorTextPlaceholder)),{"textarea&":{maxWidth:"100%",height:"auto",minHeight:n.controlHeight,lineHeight:n.lineHeight,verticalAlign:"bottom",transition:`all ${n.motionDurationSlow}, height 0s`,resize:"vertical"},"&-lg":Object.assign({},nF(n)),"&-sm":Object.assign({},iF(n)),"&-rtl, &-textarea-rtl":{direction:"rtl"}}),vK=n=>{const{componentCls:e,antCls:t}=n;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:n.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${e}, &-lg > ${e}-group-addon`]:Object.assign({},nF(n)),[`&-sm ${e}, &-sm > ${e}-group-addon`]:Object.assign({},iF(n)),[`&-lg ${t}-select-single ${t}-select-selector`]:{height:n.controlHeightLG},[`&-sm ${t}-select-single ${t}-select-selector`]:{height:n.controlHeightSM},[`> ${e}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${e}-group`]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${Ut(n.paddingInline)}`,color:n.colorText,fontWeight:"normal",fontSize:n.inputFontSize,textAlign:"center",borderRadius:n.borderRadius,transition:`all ${n.motionDurationSlow}`,lineHeight:1,[`${t}-select`]:{margin:`${Ut(n.calc(n.paddingBlock).add(1).mul(-1).equal())} ${Ut(n.calc(n.paddingInline).mul(-1).equal())}`,[`&${t}-select-single:not(${t}-select-customize-input):not(${t}-pagination-size-changer)`]:{[`${t}-select-selector`]:{backgroundColor:"inherit",border:`${Ut(n.lineWidth)} ${n.lineType} transparent`,boxShadow:"none"}}},[`${t}-cascader-picker`]:{margin:`-9px ${Ut(n.calc(n.paddingInline).mul(-1).equal())}`,backgroundColor:"transparent",[`${t}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}}},[e]:{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,[`${e}-search-with-button &`]:{zIndex:0}}},[`> ${e}:first-child, ${e}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${t}-select ${t}-select-selector`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${e}-affix-wrapper`]:{[`&:not(:first-child) ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${e}:last-child, ${e}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${t}-select ${t}-select-selector`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${e}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,[`${e}-search &`]:{borderStartStartRadius:n.borderRadius,borderEndStartRadius:n.borderRadius}},[`&:not(:first-child), ${e}-search &:not(:first-child)`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&${e}-group-compact`]:Object.assign(Object.assign({display:"block"},Zv()),{[`${e}-group-addon, ${e}-group-wrap, > ${e}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:n.lineWidth,"&:hover, &:focus":{zIndex:1}}},"& > *":{display:"inline-flex",float:"none",verticalAlign:"top",borderRadius:0},[`
        & > ${e}-affix-wrapper,
        & > ${e}-number-affix-wrapper,
        & > ${t}-picker-range
      `]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:n.calc(n.lineWidth).mul(-1).equal(),borderInlineEndWidth:n.lineWidth},[e]:{float:"none"},[`& > ${t}-select > ${t}-select-selector,
      & > ${t}-select-auto-complete ${e},
      & > ${t}-cascader-picker ${e},
      & > ${e}-group-wrapper ${e}`]:{borderInlineEndWidth:n.lineWidth,borderRadius:0,"&:hover, &:focus":{zIndex:1}},[`& > ${t}-select-focused`]:{zIndex:1},[`& > ${t}-select > ${t}-select-arrow`]:{zIndex:1},[`& > *:first-child,
      & > ${t}-select:first-child > ${t}-select-selector,
      & > ${t}-select-auto-complete:first-child ${e},
      & > ${t}-cascader-picker:first-child ${e}`]:{borderStartStartRadius:n.borderRadius,borderEndStartRadius:n.borderRadius},[`& > *:last-child,
      & > ${t}-select:last-child > ${t}-select-selector,
      & > ${t}-cascader-picker:last-child ${e},
      & > ${t}-cascader-picker-focused:last-child ${e}`]:{borderInlineEndWidth:n.lineWidth,borderStartEndRadius:n.borderRadius,borderEndEndRadius:n.borderRadius},[`& > ${t}-select-auto-complete ${e}`]:{verticalAlign:"top"},[`${e}-group-wrapper + ${e}-group-wrapper`]:{marginInlineStart:n.calc(n.lineWidth).mul(-1).equal(),[`${e}-affix-wrapper`]:{borderRadius:0}},[`${e}-group-wrapper:not(:last-child)`]:{[`&${e}-search > ${e}-group`]:{[`& > ${e}-group-addon > ${e}-search-button`]:{borderRadius:0},[`& > ${e}`]:{borderStartStartRadius:n.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:n.borderRadius}}}})}},yK=n=>{const{componentCls:e,controlHeightSM:t,lineWidth:r,calc:a}=n,l=a(t).sub(a(r).mul(2)).sub(16).div(2).equal();return{[e]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},jc(n)),rF(n)),uK(n)),hK(n)),dK(n)),mK(n)),{'&[type="color"]':{height:n.controlHeight,[`&${e}-lg`]:{height:n.controlHeightLG},[`&${e}-sm`]:{height:t,paddingTop:l,paddingBottom:l}},'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{"-webkit-appearance":"none"}})}},bK=n=>{const{componentCls:e}=n;return{[`${e}-clear-icon`]:{margin:0,padding:0,lineHeight:0,color:n.colorTextQuaternary,fontSize:n.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${n.motionDurationSlow}`,border:"none",outline:"none",backgroundColor:"transparent","&:hover":{color:n.colorTextTertiary},"&:active":{color:n.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${Ut(n.inputAffixPadding)}`}}}},_K=n=>{const{componentCls:e,inputAffixPadding:t,colorTextDescription:r,motionDurationSlow:a,colorIcon:o,colorIconHover:l,iconCls:s}=n,f=`${e}-affix-wrapper`,h=`${e}-affix-wrapper-disabled`;return{[f]:Object.assign(Object.assign(Object.assign(Object.assign({},rF(n)),{display:"inline-flex",[`&:not(${e}-disabled):hover`]:{zIndex:1,[`${e}-search-with-button &`]:{zIndex:0}},"&-focused, &:focus":{zIndex:1},[`> input${e}`]:{padding:0},[`> input${e}, > textarea${e}`]:{fontSize:"inherit",border:"none",borderRadius:0,outline:"none",background:"transparent",color:"inherit","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[e]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:n.paddingXS}},"&-show-count-suffix":{color:r},"&-show-count-has-suffix":{marginInlineEnd:n.paddingXXS},"&-prefix":{marginInlineEnd:t},"&-suffix":{marginInlineStart:t}}}),bK(n)),{[`${s}${e}-password-icon`]:{color:o,cursor:"pointer",transition:`all ${a}`,"&:hover":{color:l}}}),[`${e}-underlined`]:{borderRadius:0},[h]:{[`${s}${e}-password-icon`]:{color:o,cursor:"not-allowed","&:hover":{color:o}}}}},SK=n=>{const{componentCls:e,borderRadiusLG:t,borderRadiusSM:r}=n;return{[`${e}-group`]:Object.assign(Object.assign(Object.assign({},jc(n)),vK(n)),{"&-rtl":{direction:"rtl"},"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${e}-group-addon`]:{borderRadius:t,fontSize:n.inputFontSizeLG}},"&-sm":{[`${e}-group-addon`]:{borderRadius:r}}},fK(n)),pK(n)),{[`&:not(${e}-compact-first-item):not(${e}-compact-last-item)${e}-compact-item`]:{[`${e}, ${e}-group-addon`]:{borderRadius:0}},[`&:not(${e}-compact-last-item)${e}-compact-first-item`]:{[`${e}, ${e}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${e}-compact-first-item)${e}-compact-last-item`]:{[`${e}, ${e}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&:not(${e}-compact-last-item)${e}-compact-item`]:{[`${e}-affix-wrapper`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${e}-compact-first-item)${e}-compact-item`]:{[`${e}-affix-wrapper`]:{borderStartStartRadius:0,borderEndStartRadius:0}}})})}},xK=n=>{const{componentCls:e,antCls:t}=n,r=`${e}-search`;return{[r]:{[e]:{"&:hover, &:focus":{[`+ ${e}-group-addon ${r}-button:not(${t}-btn-primary)`]:{borderInlineStartColor:n.colorPrimaryHover}}},[`${e}-affix-wrapper`]:{height:n.controlHeight,borderRadius:0},[`${e}-lg`]:{lineHeight:n.calc(n.lineHeightLG).sub(2e-4).equal()},[`> ${e}-group`]:{[`> ${e}-group-addon:last-child`]:{insetInlineStart:-1,padding:0,border:0,[`${r}-button`]:{marginInlineEnd:-1,borderStartStartRadius:0,borderEndStartRadius:0,boxShadow:"none"},[`${r}-button:not(${t}-btn-primary)`]:{color:n.colorTextDescription,"&:hover":{color:n.colorPrimaryHover},"&:active":{color:n.colorPrimaryActive},[`&${t}-btn-loading::before`]:{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0}}}},[`${r}-button`]:{height:n.controlHeight,"&:hover, &:focus":{zIndex:1}},"&-large":{[`${e}-affix-wrapper, ${r}-button`]:{height:n.controlHeightLG}},"&-small":{[`${e}-affix-wrapper, ${r}-button`]:{height:n.controlHeightSM}},"&-rtl":{direction:"rtl"},[`&${e}-compact-item`]:{[`&:not(${e}-compact-last-item)`]:{[`${e}-group-addon`]:{[`${e}-search-button`]:{marginInlineEnd:n.calc(n.lineWidth).mul(-1).equal(),borderRadius:0}}},[`&:not(${e}-compact-first-item)`]:{[`${e},${e}-affix-wrapper`]:{borderRadius:0}},[`> ${e}-group-addon ${e}-search-button,
        > ${e},
        ${e}-affix-wrapper`]:{"&:hover, &:focus, &:active":{zIndex:2}},[`> ${e}-affix-wrapper-focused`]:{zIndex:2}}}}},wK=n=>{const{componentCls:e}=n;return{[`${e}-out-of-range`]:{[`&, & input, & textarea, ${e}-show-count-suffix, ${e}-data-count`]:{color:n.colorError}}}},aF=ma(["Input","Shared"],n=>{const e=gr(n,tE(n));return[yK(e),_K(e)]},nE,{resetFont:!1}),oF=ma(["Input","Component"],n=>{const e=gr(n,tE(n));return[SK(e),xK(e),wK(e),HB(e)]},nE,{resetFont:!1});function CK(n,e,t){var r=t||{},a=r.noTrailing,o=a===void 0?!1:a,l=r.noLeading,s=l===void 0?!1:l,f=r.debounceMode,h=f===void 0?void 0:f,v,_=!1,x=0;function C(){v&&clearTimeout(v)}function c(m){var b=m||{},w=b.upcomingOnly,A=w===void 0?!1:w;C(),_=!A}function p(){for(var m=arguments.length,b=new Array(m),w=0;w<m;w++)b[w]=arguments[w];var A=this,R=Date.now()-x;if(_)return;function O(){x=Date.now(),e.apply(A,b)}function P(){v=void 0}!s&&h&&!v&&O(),C(),h===void 0&&R>n?s?(x=Date.now(),o||(v=setTimeout(h?P:O,n))):O():o!==!0&&(v=setTimeout(h?P:O,h===void 0?n-R:n))}return p.cancel=c,p}function EK(n,e,t){var r={},a=r.atBegin,o=a===void 0?!1:a;return CK(n,e,{debounceMode:o!==!1})}const sF=M.createContext({});var MK=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};function RP(n){return typeof n=="number"?`${n} ${n} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(n)?`0 0 ${n}`:n}const TK=["xs","sm","md","lg","xl","xxl"],Jf=M.forwardRef((n,e)=>{const{getPrefixCls:t,direction:r}=M.useContext(ei),{gutter:a,wrap:o}=M.useContext(sF),{prefixCls:l,span:s,order:f,offset:h,push:v,pull:_,className:x,children:C,flex:c,style:p}=n,m=MK(n,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),b=t("col",l),[w,A,R]=VY(b),O={};let P={};TK.forEach(B=>{let U={};const V=n[B];typeof V=="number"?U.span=V:typeof V=="object"&&(U=V||{}),delete m[B],P=Object.assign(Object.assign({},P),{[`${b}-${B}-${U.span}`]:U.span!==void 0,[`${b}-${B}-order-${U.order}`]:U.order||U.order===0,[`${b}-${B}-offset-${U.offset}`]:U.offset||U.offset===0,[`${b}-${B}-push-${U.push}`]:U.push||U.push===0,[`${b}-${B}-pull-${U.pull}`]:U.pull||U.pull===0,[`${b}-rtl`]:r==="rtl"}),U.flex&&(P[`${b}-${B}-flex`]=!0,O[`--${b}-${B}-flex`]=RP(U.flex))});const D=et(b,{[`${b}-${s}`]:s!==void 0,[`${b}-order-${f}`]:f,[`${b}-offset-${h}`]:h,[`${b}-push-${v}`]:v,[`${b}-pull-${_}`]:_},x,P,A,R),F={};if(a&&a[0]>0){const B=a[0]/2;F.paddingLeft=B,F.paddingRight=B}return c&&(F.flex=RP(c),o===!1&&!F.minWidth&&(F.minWidth=0)),w(M.createElement("div",Object.assign({},m,{style:Object.assign(Object.assign(Object.assign({},F),p),O),className:D,ref:e}),C))});function AK(n,e){const t=[void 0,void 0],r=Array.isArray(n)?n:[n,void 0],a=e||{xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0};return r.forEach((o,l)=>{if(typeof o=="object"&&o!==null)for(let s=0;s<Qv.length;s++){const f=Qv[s];if(a[f]&&o[f]!==void 0){t[l]=o[f];break}}else t[l]=o}),t}var RK=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};function OP(n,e){const[t,r]=M.useState(typeof n=="string"?n:""),a=()=>{if(typeof n=="string"&&r(n),typeof n=="object")for(let o=0;o<Qv.length;o++){const l=Qv[o];if(!e||!e[l])continue;const s=n[l];if(s!==void 0){r(s);return}}};return M.useEffect(()=>{a()},[JSON.stringify(n),e]),t}const ed=M.forwardRef((n,e)=>{const{prefixCls:t,justify:r,align:a,className:o,style:l,children:s,gutter:f=0,wrap:h}=n,v=RK(n,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:_,direction:x}=M.useContext(ei),C=x4(!0,null),c=OP(a,C),p=OP(r,C),m=_("row",t),[b,w,A]=$Y(m),R=AK(f,C),O=et(m,{[`${m}-no-wrap`]:h===!1,[`${m}-${p}`]:p,[`${m}-${c}`]:c,[`${m}-rtl`]:x==="rtl"},o,w,A),P={},D=R[0]!=null&&R[0]>0?R[0]/-2:void 0;D&&(P.marginLeft=D,P.marginRight=D);const[F,B]=R;P.rowGap=B;const U=M.useMemo(()=>({gutter:[F,B],wrap:h}),[F,B,h]);return b(M.createElement(sF.Provider,{value:U},M.createElement("div",Object.assign({},v,{className:O,style:Object.assign(Object.assign({},P),l),ref:e}),s)))});function OK(n){return!!(n.addonBefore||n.addonAfter)}function IK(n){return!!(n.prefix||n.suffix||n.allowClear)}function IP(n,e,t){var r=e.cloneNode(!0),a=Object.create(n,{target:{value:r},currentTarget:{value:r}});return r.value=t,typeof e.selectionStart=="number"&&typeof e.selectionEnd=="number"&&(r.selectionStart=e.selectionStart,r.selectionEnd=e.selectionEnd),r.setSelectionRange=function(){e.setSelectionRange.apply(e,arguments)},a}function _w(n,e,t,r){if(t){var a=e;if(e.type==="click"){a=IP(e,n,""),t(a);return}if(n.type!=="file"&&r!==void 0){a=IP(e,n,r),t(a);return}t(a)}}function lF(n,e){if(n){n.focus(e);var t=e||{},r=t.cursor;if(r){var a=n.value.length;switch(r){case"start":n.setSelectionRange(0,0);break;case"end":n.setSelectionRange(a,a);break;default:n.setSelectionRange(0,a)}}}}var cF=We.forwardRef(function(n,e){var t,r,a,o=n.inputElement,l=n.children,s=n.prefixCls,f=n.prefix,h=n.suffix,v=n.addonBefore,_=n.addonAfter,x=n.className,C=n.style,c=n.disabled,p=n.readOnly,m=n.focused,b=n.triggerFocus,w=n.allowClear,A=n.value,R=n.handleReset,O=n.hidden,P=n.classes,D=n.classNames,F=n.dataAttrs,B=n.styles,U=n.components,V=n.onClear,Q=l??o,X=(U==null?void 0:U.affixWrapper)||"span",ee=(U==null?void 0:U.groupWrapper)||"span",ae=(U==null?void 0:U.wrapper)||"span",Z=(U==null?void 0:U.groupAddon)||"span",K=M.useRef(null),te=function(Fe){var Ie;(Ie=K.current)!==null&&Ie!==void 0&&Ie.contains(Fe.target)&&(b==null||b())},ce=IK(n),q=M.cloneElement(Q,{value:A,className:et((t=Q.props)===null||t===void 0?void 0:t.className,!ce&&(D==null?void 0:D.variant))||null}),J=M.useRef(null);if(We.useImperativeHandle(e,function(){return{nativeElement:J.current||K.current}}),ce){var he=null;if(w){var ue=!c&&!p&&A,j="".concat(s,"-clear-icon"),pe=yn(w)==="object"&&w!==null&&w!==void 0&&w.clearIcon?w.clearIcon:"✖";he=We.createElement("button",{type:"button",tabIndex:-1,onClick:function(Fe){R==null||R(Fe),V==null||V()},onMouseDown:function(Fe){return Fe.preventDefault()},className:et(j,de(de({},"".concat(j,"-hidden"),!ue),"".concat(j,"-has-suffix"),!!h))},pe)}var _e="".concat(s,"-affix-wrapper"),Re=et(_e,de(de(de(de(de({},"".concat(s,"-disabled"),c),"".concat(_e,"-disabled"),c),"".concat(_e,"-focused"),m),"".concat(_e,"-readonly"),p),"".concat(_e,"-input-with-clear-btn"),h&&w&&A),P==null?void 0:P.affixWrapper,D==null?void 0:D.affixWrapper,D==null?void 0:D.variant),Me=(h||w)&&We.createElement("span",{className:et("".concat(s,"-suffix"),D==null?void 0:D.suffix),style:B==null?void 0:B.suffix},he,h);q=We.createElement(X,Nt({className:Re,style:B==null?void 0:B.affixWrapper,onClick:te},F==null?void 0:F.affixWrapper,{ref:K}),f&&We.createElement("span",{className:et("".concat(s,"-prefix"),D==null?void 0:D.prefix),style:B==null?void 0:B.prefix},f),q,Me)}if(OK(n)){var Ae="".concat(s,"-group"),Ue="".concat(Ae,"-addon"),gt="".concat(Ae,"-wrapper"),ze=et("".concat(s,"-wrapper"),Ae,P==null?void 0:P.wrapper,D==null?void 0:D.wrapper),we=et(gt,de({},"".concat(gt,"-disabled"),c),P==null?void 0:P.group,D==null?void 0:D.groupWrapper);q=We.createElement(ee,{className:we,ref:J},We.createElement(ae,{className:ze},v&&We.createElement(Z,{className:Ue},v),q,_&&We.createElement(Z,{className:Ue},_)))}return We.cloneElement(q,{className:et((r=q.props)===null||r===void 0?void 0:r.className,x)||null,style:Ne(Ne({},(a=q.props)===null||a===void 0?void 0:a.style),C),hidden:O})}),zK=["show"];function uF(n,e){return M.useMemo(function(){var t={};e&&(t.show=yn(e)==="object"&&e.formatter?e.formatter:!!e),t=Ne(Ne({},t),n);var r=t,a=r.show,o=jn(r,zK);return Ne(Ne({},o),{},{show:!!a,showFormatter:typeof a=="function"?a:void 0,strategy:o.strategy||function(l){return l.length}})},[n,e])}var PK=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","onKeyUp","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"],DK=M.forwardRef(function(n,e){var t=n.autoComplete,r=n.onChange,a=n.onFocus,o=n.onBlur,l=n.onPressEnter,s=n.onKeyDown,f=n.onKeyUp,h=n.prefixCls,v=h===void 0?"rc-input":h,_=n.disabled,x=n.htmlSize,C=n.className,c=n.maxLength,p=n.suffix,m=n.showCount,b=n.count,w=n.type,A=w===void 0?"text":w,R=n.classes,O=n.classNames,P=n.styles,D=n.onCompositionStart,F=n.onCompositionEnd,B=jn(n,PK),U=M.useState(!1),V=yt(U,2),Q=V[0],X=V[1],ee=M.useRef(!1),ae=M.useRef(!1),Z=M.useRef(null),K=M.useRef(null),te=function(Pe){Z.current&&lF(Z.current,Pe)},ce=al(n.defaultValue,{value:n.value}),q=yt(ce,2),J=q[0],he=q[1],ue=J==null?"":String(J),j=M.useState(null),pe=yt(j,2),_e=pe[0],Re=pe[1],Me=uF(b,m),Ae=Me.max||c,Ue=Me.strategy(ue),gt=!!Ae&&Ue>Ae;M.useImperativeHandle(e,function(){var Ee;return{focus:te,blur:function(){var qe;(qe=Z.current)===null||qe===void 0||qe.blur()},setSelectionRange:function(qe,He,mt){var st;(st=Z.current)===null||st===void 0||st.setSelectionRange(qe,He,mt)},select:function(){var qe;(qe=Z.current)===null||qe===void 0||qe.select()},input:Z.current,nativeElement:((Ee=K.current)===null||Ee===void 0?void 0:Ee.nativeElement)||Z.current}}),M.useEffect(function(){ae.current&&(ae.current=!1),X(function(Ee){return Ee&&_?!1:Ee})},[_]);var ze=function(Pe,qe,He){var mt=qe;if(!ee.current&&Me.exceedFormatter&&Me.max&&Me.strategy(qe)>Me.max){if(mt=Me.exceedFormatter(qe,{max:Me.max}),qe!==mt){var st,ht;Re([((st=Z.current)===null||st===void 0?void 0:st.selectionStart)||0,((ht=Z.current)===null||ht===void 0?void 0:ht.selectionEnd)||0])}}else if(He.source==="compositionEnd")return;he(mt),Z.current&&_w(Z.current,Pe,r,mt)};M.useEffect(function(){if(_e){var Ee;(Ee=Z.current)===null||Ee===void 0||Ee.setSelectionRange.apply(Ee,Qt(_e))}},[_e]);var we=function(Pe){ze(Pe,Pe.target.value,{source:"change"})},re=function(Pe){ee.current=!1,ze(Pe,Pe.currentTarget.value,{source:"compositionEnd"}),F==null||F(Pe)},Fe=function(Pe){l&&Pe.key==="Enter"&&!ae.current&&(ae.current=!0,l(Pe)),s==null||s(Pe)},Ie=function(Pe){Pe.key==="Enter"&&(ae.current=!1),f==null||f(Pe)},Ye=function(Pe){X(!0),a==null||a(Pe)},$e=function(Pe){ae.current&&(ae.current=!1),X(!1),o==null||o(Pe)},lt=function(Pe){he(""),te(),Z.current&&_w(Z.current,Pe,r)},ot=gt&&"".concat(v,"-out-of-range"),fe=function(){var Pe=Uo(n,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames","onClear"]);return We.createElement("input",Nt({autoComplete:t},Pe,{onChange:we,onFocus:Ye,onBlur:$e,onKeyDown:Fe,onKeyUp:Ie,className:et(v,de({},"".concat(v,"-disabled"),_),O==null?void 0:O.input),style:P==null?void 0:P.input,ref:Z,size:x,type:A,onCompositionStart:function(He){ee.current=!0,D==null||D(He)},onCompositionEnd:re}))},oe=function(){var Pe=Number(Ae)>0;if(p||Me.show){var qe=Me.showFormatter?Me.showFormatter({value:ue,count:Ue,maxLength:Ae}):"".concat(Ue).concat(Pe?" / ".concat(Ae):"");return We.createElement(We.Fragment,null,Me.show&&We.createElement("span",{className:et("".concat(v,"-show-count-suffix"),de({},"".concat(v,"-show-count-has-suffix"),!!p),O==null?void 0:O.count),style:Ne({},P==null?void 0:P.count)},qe),p)}return null};return We.createElement(cF,Nt({},B,{prefixCls:v,className:et(C,ot),handleReset:lt,value:ue,focused:Q,triggerFocus:te,suffix:oe(),disabled:_,classes:R,classNames:O,styles:P}),fe())});const fF=n=>{let e;return typeof n=="object"&&(n!=null&&n.clearIcon)?e=n:n&&(e={clearIcon:We.createElement(IC,null)}),e};function dF(n,e){const t=M.useRef([]),r=()=>{t.current.push(setTimeout(()=>{var a,o,l,s;!((a=n.current)===null||a===void 0)&&a.input&&((o=n.current)===null||o===void 0?void 0:o.input.getAttribute("type"))==="password"&&(!((l=n.current)===null||l===void 0)&&l.input.hasAttribute("value"))&&((s=n.current)===null||s===void 0||s.input.removeAttribute("value"))}))};return M.useEffect(()=>(e&&r(),()=>t.current.forEach(a=>{a&&clearTimeout(a)})),[]),r}function LK(n){return!!(n.prefix||n.suffix||n.allowClear||n.showCount)}var NK=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const iE=M.forwardRef((n,e)=>{const{prefixCls:t,bordered:r=!0,status:a,size:o,disabled:l,onBlur:s,onFocus:f,suffix:h,allowClear:v,addonAfter:_,addonBefore:x,className:C,style:c,styles:p,rootClassName:m,onChange:b,classNames:w,variant:A}=n,R=NK(n,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames","variant"]),{getPrefixCls:O,direction:P,allowClear:D,autoComplete:F,className:B,style:U,classNames:V,styles:Q}=ef("input"),X=O("input",t),ee=M.useRef(null),ae=Xc(X),[Z,K,te]=aF(X,m),[ce]=oF(X,ae),{compactSize:q,compactItemClassnames:J}=kC(X,P),he=Am($e=>{var lt;return(lt=o??q)!==null&&lt!==void 0?lt:$e}),ue=We.useContext(Dh),j=l??ue,{status:pe,hasFeedback:_e,feedbackIcon:Re}=M.useContext(Nh),Me=aO(pe,a),Ae=LK(n)||!!_e;M.useRef(Ae);const Ue=dF(ee,!0),gt=$e=>{Ue(),s==null||s($e)},ze=$e=>{Ue(),f==null||f($e)},we=$e=>{Ue(),b==null||b($e)},re=(_e||h)&&We.createElement(We.Fragment,null,h,_e&&Re),Fe=fF(v??D),[Ie,Ye]=_4("input",A,r);return Z(ce(We.createElement(DK,Object.assign({ref:Fh(e,ee),prefixCls:X,autoComplete:F},R,{disabled:j,onBlur:gt,onFocus:ze,style:Object.assign(Object.assign({},U),c),styles:Object.assign(Object.assign({},Q),p),suffix:re,allowClear:Fe,className:et(C,m,te,ae,J,B),onChange:we,addonBefore:x&&We.createElement(mw,{form:!0,space:!0},x),addonAfter:_&&We.createElement(mw,{form:!0,space:!0},_),classNames:Object.assign(Object.assign(Object.assign({},w),V),{input:et({[`${X}-sm`]:he==="small",[`${X}-lg`]:he==="large",[`${X}-rtl`]:P==="rtl"},w==null?void 0:w.input,V.input,K),variant:et({[`${X}-${Ie}`]:Ye},A2(X,Me)),affixWrapper:et({[`${X}-affix-wrapper-sm`]:he==="small",[`${X}-affix-wrapper-lg`]:he==="large",[`${X}-affix-wrapper-rtl`]:P==="rtl"},K),wrapper:et({[`${X}-group-rtl`]:P==="rtl"},K),groupWrapper:et({[`${X}-group-wrapper-sm`]:he==="small",[`${X}-group-wrapper-lg`]:he==="large",[`${X}-group-wrapper-rtl`]:P==="rtl",[`${X}-group-wrapper-${Ie}`]:Ye},A2(`${X}-group-wrapper`,Me,_e),K)})}))))});function zP(n){return["small","middle","large"].includes(n)}function PP(n){return n?typeof n=="number"&&!Number.isNaN(n):!1}const hF=We.createContext({latestIndex:0}),UK=hF.Provider,BK=n=>{let{className:e,index:t,children:r,split:a,style:o}=n;const{latestIndex:l}=M.useContext(hF);return r==null?null:M.createElement(M.Fragment,null,M.createElement("div",{className:e,style:o},r),t<l&&a&&M.createElement("span",{className:`${e}-split`},a))};var FK=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const HK=M.forwardRef((n,e)=>{var t;const{getPrefixCls:r,direction:a,size:o,className:l,style:s,classNames:f,styles:h}=ef("space"),{size:v=o??"small",align:_,className:x,rootClassName:C,children:c,direction:p="horizontal",prefixCls:m,split:b,style:w,wrap:A=!1,classNames:R,styles:O}=n,P=FK(n,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[D,F]=Array.isArray(v)?v:[v,v],B=zP(F),U=zP(D),V=PP(F),Q=PP(D),X=qu(c,{keepEmpty:!0}),ee=_===void 0&&p==="horizontal"?"center":_,ae=r("space",m),[Z,K,te]=zB(ae),ce=et(ae,l,K,`${ae}-${p}`,{[`${ae}-rtl`]:a==="rtl",[`${ae}-align-${ee}`]:ee,[`${ae}-gap-row-${F}`]:B,[`${ae}-gap-col-${D}`]:U},x,C,te),q=et(`${ae}-item`,(t=R==null?void 0:R.item)!==null&&t!==void 0?t:f.item);let J=0;const he=X.map((pe,_e)=>{var Re;pe!=null&&(J=_e);const Me=(pe==null?void 0:pe.key)||`${q}-${_e}`;return M.createElement(BK,{className:q,key:Me,index:_e,split:b,style:(Re=O==null?void 0:O.item)!==null&&Re!==void 0?Re:h.item},pe)}),ue=M.useMemo(()=>({latestIndex:J}),[J]);if(X.length===0)return null;const j={};return A&&(j.flexWrap="wrap"),!U&&Q&&(j.columnGap=D),!B&&V&&(j.rowGap=F),Z(M.createElement("div",Object.assign({ref:e,className:ce,style:Object.assign(Object.assign(Object.assign({},j),s),w)},P),M.createElement(UK,{value:ue},he)))}),pF=HK;pF.Compact=H9;function mF(){var n=document.documentElement.clientWidth,e=window.innerHeight||document.documentElement.clientHeight;return{width:n,height:e}}function kK(n){var e=n.getBoundingClientRect(),t=document.documentElement;return{left:e.left+(window.pageXOffset||t.scrollLeft)-(t.clientLeft||document.body.clientLeft||0),top:e.top+(window.pageYOffset||t.scrollTop)-(t.clientTop||document.body.clientTop||0)}}function xv(n,e,t,r){var a=Ab.unstable_batchedUpdates?function(l){Ab.unstable_batchedUpdates(t,l)}:t;return n!=null&&n.addEventListener&&n.addEventListener(e,a,r),{remove:function(){n!=null&&n.removeEventListener&&n.removeEventListener(e,a,r)}}}var S_=M.createContext(null),$K=function(e){var t=e.visible,r=e.maskTransitionName,a=e.getContainer,o=e.prefixCls,l=e.rootClassName,s=e.icons,f=e.countRender,h=e.showSwitch,v=e.showProgress,_=e.current,x=e.transform,C=e.count,c=e.scale,p=e.minScale,m=e.maxScale,b=e.closeIcon,w=e.onActive,A=e.onClose,R=e.onZoomIn,O=e.onZoomOut,P=e.onRotateRight,D=e.onRotateLeft,F=e.onFlipX,B=e.onFlipY,U=e.onReset,V=e.toolbarRender,Q=e.zIndex,X=e.image,ee=M.useContext(S_),ae=s.rotateLeft,Z=s.rotateRight,K=s.zoomIn,te=s.zoomOut,ce=s.close,q=s.left,J=s.right,he=s.flipX,ue=s.flipY,j="".concat(o,"-operations-operation");M.useEffect(function(){var Ie=function($e){$e.keyCode===Lo.ESC&&A()};return t&&window.addEventListener("keydown",Ie),function(){window.removeEventListener("keydown",Ie)}},[t]);var pe=function(Ye,$e){Ye.preventDefault(),Ye.stopPropagation(),w($e)},_e=M.useCallback(function(Ie){var Ye=Ie.type,$e=Ie.disabled,lt=Ie.onClick,ot=Ie.icon;return M.createElement("div",{key:Ye,className:et(j,"".concat(o,"-operations-operation-").concat(Ye),de({},"".concat(o,"-operations-operation-disabled"),!!$e)),onClick:lt},ot)},[j,o]),Re=h?_e({icon:q,onClick:function(Ye){return pe(Ye,-1)},type:"prev",disabled:_===0}):void 0,Me=h?_e({icon:J,onClick:function(Ye){return pe(Ye,1)},type:"next",disabled:_===C-1}):void 0,Ae=_e({icon:ue,onClick:B,type:"flipY"}),Ue=_e({icon:he,onClick:F,type:"flipX"}),gt=_e({icon:ae,onClick:D,type:"rotateLeft"}),ze=_e({icon:Z,onClick:P,type:"rotateRight"}),we=_e({icon:te,onClick:O,type:"zoomOut",disabled:c<=p}),re=_e({icon:K,onClick:R,type:"zoomIn",disabled:c===m}),Fe=M.createElement("div",{className:"".concat(o,"-operations")},Ae,Ue,gt,ze,we,re);return M.createElement(Wc,{visible:t,motionName:r},function(Ie){var Ye=Ie.className,$e=Ie.style;return M.createElement(YC,{open:!0,getContainer:a??document.body},M.createElement("div",{className:et("".concat(o,"-operations-wrapper"),Ye,l),style:Ne(Ne({},$e),{},{zIndex:Q})},b===null?null:M.createElement("button",{className:"".concat(o,"-close"),onClick:A},b||ce),h&&M.createElement(M.Fragment,null,M.createElement("div",{className:et("".concat(o,"-switch-left"),de({},"".concat(o,"-switch-left-disabled"),_===0)),onClick:function(ot){return pe(ot,-1)}},q),M.createElement("div",{className:et("".concat(o,"-switch-right"),de({},"".concat(o,"-switch-right-disabled"),_===C-1)),onClick:function(ot){return pe(ot,1)}},J)),M.createElement("div",{className:"".concat(o,"-footer")},v&&M.createElement("div",{className:"".concat(o,"-progress")},f?f(_+1,C):"".concat(_+1," / ").concat(C)),V?V(Fe,Ne(Ne({icons:{prevIcon:Re,nextIcon:Me,flipYIcon:Ae,flipXIcon:Ue,rotateLeftIcon:gt,rotateRightIcon:ze,zoomOutIcon:we,zoomInIcon:re},actions:{onActive:w,onFlipY:B,onFlipX:F,onRotateLeft:D,onRotateRight:P,onZoomOut:O,onZoomIn:R,onReset:U,onClose:A},transform:x},ee?{current:_,total:C}:{}),{},{image:X})):Fe)))})},ix={x:0,y:0,rotate:0,scale:1,flipX:!1,flipY:!1};function VK(n,e,t,r){var a=M.useRef(null),o=M.useRef([]),l=M.useState(ix),s=yt(l,2),f=s[0],h=s[1],v=function(c){h(ix),Gv(ix,f)||r==null||r({transform:ix,action:c})},_=function(c,p){a.current===null&&(o.current=[],a.current=fo(function(){h(function(m){var b=m;return o.current.forEach(function(w){b=Ne(Ne({},b),w)}),a.current=null,r==null||r({transform:b,action:p}),b})})),o.current.push(Ne(Ne({},f),c))},x=function(c,p,m,b,w){var A=n.current,R=A.width,O=A.height,P=A.offsetWidth,D=A.offsetHeight,F=A.offsetLeft,B=A.offsetTop,U=c,V=f.scale*c;V>t?(V=t,U=t/f.scale):V<e&&(V=w?V:e,U=V/f.scale);var Q=m??innerWidth/2,X=b??innerHeight/2,ee=U-1,ae=ee*R*.5,Z=ee*O*.5,K=ee*(Q-f.x-F),te=ee*(X-f.y-B),ce=f.x-(K-ae),q=f.y-(te-Z);if(c<1&&V===1){var J=P*V,he=D*V,ue=mF(),j=ue.width,pe=ue.height;J<=j&&he<=pe&&(ce=0,q=0)}_({x:ce,y:q,scale:V},p)};return{transform:f,resetTransform:v,updateTransform:_,dispatchZoomChange:x}}function DP(n,e,t,r){var a=e+t,o=(t-r)/2;if(t>r){if(e>0)return de({},n,o);if(e<0&&a<r)return de({},n,-o)}else if(e<0||a>r)return de({},n,e<0?o:-o);return{}}function gF(n,e,t,r){var a=mF(),o=a.width,l=a.height,s=null;return n<=o&&e<=l?s={x:0,y:0}:(n>o||e>l)&&(s=Ne(Ne({},DP("x",t,n,o)),DP("y",r,e,l))),s}var wv=1,GK=1;function jK(n,e,t,r,a,o,l){var s=a.rotate,f=a.scale,h=a.x,v=a.y,_=M.useState(!1),x=yt(_,2),C=x[0],c=x[1],p=M.useRef({diffX:0,diffY:0,transformX:0,transformY:0}),m=function(O){!e||O.button!==0||(O.preventDefault(),O.stopPropagation(),p.current={diffX:O.pageX-h,diffY:O.pageY-v,transformX:h,transformY:v},c(!0))},b=function(O){t&&C&&o({x:O.pageX-p.current.diffX,y:O.pageY-p.current.diffY},"move")},w=function(){if(t&&C){c(!1);var O=p.current,P=O.transformX,D=O.transformY,F=h!==P&&v!==D;if(!F)return;var B=n.current.offsetWidth*f,U=n.current.offsetHeight*f,V=n.current.getBoundingClientRect(),Q=V.left,X=V.top,ee=s%180!==0,ae=gF(ee?U:B,ee?B:U,Q,X);ae&&o(Ne({},ae),"dragRebound")}},A=function(O){if(!(!t||O.deltaY==0)){var P=Math.abs(O.deltaY/100),D=Math.min(P,GK),F=wv+D*r;O.deltaY>0&&(F=wv/F),l(F,"wheel",O.clientX,O.clientY)}};return M.useEffect(function(){var R,O,P,D;if(e){P=xv(window,"mouseup",w,!1),D=xv(window,"mousemove",b,!1);try{window.top!==window.self&&(R=xv(window.top,"mouseup",w,!1),O=xv(window.top,"mousemove",b,!1))}catch{}}return function(){var F,B,U,V;(F=P)===null||F===void 0||F.remove(),(B=D)===null||B===void 0||B.remove(),(U=R)===null||U===void 0||U.remove(),(V=O)===null||V===void 0||V.remove()}},[t,C,h,v,s,e]),{isMoving:C,onMouseDown:m,onMouseMove:b,onMouseUp:w,onWheel:A}}function WK(n){return new Promise(function(e){var t=document.createElement("img");t.onerror=function(){return e(!1)},t.onload=function(){return e(!0)},t.src=n})}function vF(n){var e=n.src,t=n.isCustomPlaceholder,r=n.fallback,a=M.useState(t?"loading":"normal"),o=yt(a,2),l=o[0],s=o[1],f=M.useRef(!1),h=l==="error";M.useEffect(function(){var C=!0;return WK(e).then(function(c){!c&&C&&s("error")}),function(){C=!1}},[e]),M.useEffect(function(){t&&!f.current?s("loading"):h&&s("normal")},[e]);var v=function(){s("normal")},_=function(c){f.current=!1,l==="loading"&&c!==null&&c!==void 0&&c.complete&&(c.naturalWidth||c.naturalHeight)&&(f.current=!0,v())},x=h&&r?{src:r}:{onLoad:v,src:e};return[_,x,l]}function Sw(n,e){var t=n.x-e.x,r=n.y-e.y;return Math.hypot(t,r)}function XK(n,e,t,r){var a=Sw(n,t),o=Sw(e,r);if(a===0&&o===0)return[n.x,n.y];var l=a/(a+o),s=n.x+l*(e.x-n.x),f=n.y+l*(e.y-n.y);return[s,f]}function YK(n,e,t,r,a,o,l){var s=a.rotate,f=a.scale,h=a.x,v=a.y,_=M.useState(!1),x=yt(_,2),C=x[0],c=x[1],p=M.useRef({point1:{x:0,y:0},point2:{x:0,y:0},eventType:"none"}),m=function(O){p.current=Ne(Ne({},p.current),O)},b=function(O){if(e){O.stopPropagation(),c(!0);var P=O.touches,D=P===void 0?[]:P;D.length>1?m({point1:{x:D[0].clientX,y:D[0].clientY},point2:{x:D[1].clientX,y:D[1].clientY},eventType:"touchZoom"}):m({point1:{x:D[0].clientX-h,y:D[0].clientY-v},eventType:"move"})}},w=function(O){var P=O.touches,D=P===void 0?[]:P,F=p.current,B=F.point1,U=F.point2,V=F.eventType;if(D.length>1&&V==="touchZoom"){var Q={x:D[0].clientX,y:D[0].clientY},X={x:D[1].clientX,y:D[1].clientY},ee=XK(B,U,Q,X),ae=yt(ee,2),Z=ae[0],K=ae[1],te=Sw(Q,X)/Sw(B,U);l(te,"touchZoom",Z,K,!0),m({point1:Q,point2:X,eventType:"touchZoom"})}else V==="move"&&(o({x:D[0].clientX-B.x,y:D[0].clientY-B.y},"move"),m({eventType:"move"}))},A=function(){if(t){if(C&&c(!1),m({eventType:"none"}),r>f)return o({x:0,y:0,scale:r},"touchZoom");var O=n.current.offsetWidth*f,P=n.current.offsetHeight*f,D=n.current.getBoundingClientRect(),F=D.left,B=D.top,U=s%180!==0,V=gF(U?P:O,U?O:P,F,B);V&&o(Ne({},V),"dragRebound")}};return M.useEffect(function(){var R;return t&&e&&(R=xv(window,"touchmove",function(O){return O.preventDefault()},{passive:!1})),function(){var O;(O=R)===null||O===void 0||O.remove()}},[t,e]),{isTouching:C,onTouchStart:b,onTouchMove:w,onTouchEnd:A}}var qK=["fallback","src","imgRef"],ZK=["prefixCls","src","alt","imageInfo","fallback","movable","onClose","visible","icons","rootClassName","closeIcon","getContainer","current","count","countRender","scaleStep","minScale","maxScale","transitionName","maskTransitionName","imageRender","imgCommonProps","toolbarRender","onTransform","onChange"],KK=function(e){var t=e.fallback,r=e.src,a=e.imgRef,o=jn(e,qK),l=vF({src:r,fallback:t}),s=yt(l,2),f=s[0],h=s[1];return We.createElement("img",Nt({ref:function(_){a.current=_,f(_)}},o,h))},yF=function(e){var t=e.prefixCls,r=e.src,a=e.alt,o=e.imageInfo,l=e.fallback,s=e.movable,f=s===void 0?!0:s,h=e.onClose,v=e.visible,_=e.icons,x=_===void 0?{}:_,C=e.rootClassName,c=e.closeIcon,p=e.getContainer,m=e.current,b=m===void 0?0:m,w=e.count,A=w===void 0?1:w,R=e.countRender,O=e.scaleStep,P=O===void 0?.5:O,D=e.minScale,F=D===void 0?1:D,B=e.maxScale,U=B===void 0?50:B,V=e.transitionName,Q=V===void 0?"zoom":V,X=e.maskTransitionName,ee=X===void 0?"fade":X,ae=e.imageRender,Z=e.imgCommonProps,K=e.toolbarRender,te=e.onTransform,ce=e.onChange,q=jn(e,ZK),J=M.useRef(),he=M.useContext(S_),ue=he&&A>1,j=he&&A>=1,pe=M.useState(!0),_e=yt(pe,2),Re=_e[0],Me=_e[1],Ae=VK(J,F,U,te),Ue=Ae.transform,gt=Ae.resetTransform,ze=Ae.updateTransform,we=Ae.dispatchZoomChange,re=jK(J,f,v,P,Ue,ze,we),Fe=re.isMoving,Ie=re.onMouseDown,Ye=re.onWheel,$e=YK(J,f,v,F,Ue,ze,we),lt=$e.isTouching,ot=$e.onTouchStart,fe=$e.onTouchMove,oe=$e.onTouchEnd,Ee=Ue.rotate,Pe=Ue.scale,qe=et(de({},"".concat(t,"-moving"),Fe));M.useEffect(function(){Re||Me(!0)},[Re]);var He=function(){gt("close")},mt=function(){we(wv+P,"zoomIn")},st=function(){we(wv/(wv+P),"zoomOut")},ht=function(){ze({rotate:Ee+90},"rotateRight")},It=function(){ze({rotate:Ee-90},"rotateLeft")},at=function(){ze({flipX:!Ue.flipX},"flipX")},_t=function(){ze({flipY:!Ue.flipY},"flipY")},wt=function(){gt("reset")},je=function(St){var Qe=b+St;!Number.isInteger(Qe)||Qe<0||Qe>A-1||(Me(!1),gt(St<0?"prev":"next"),ce==null||ce(Qe,b))},it=function(St){!v||!ue||(St.keyCode===Lo.LEFT?je(-1):St.keyCode===Lo.RIGHT&&je(1))},Se=function(St){v&&(Pe!==1?ze({x:0,y:0,scale:1},"doubleClick"):we(wv+P,"doubleClick",St.clientX,St.clientY))};M.useEffect(function(){var Te=xv(window,"keydown",it,!1);return function(){Te.remove()}},[v,ue,b]);var ke=We.createElement(KK,Nt({},Z,{width:e.width,height:e.height,imgRef:J,className:"".concat(t,"-img"),alt:a,style:{transform:"translate3d(".concat(Ue.x,"px, ").concat(Ue.y,"px, 0) scale3d(").concat(Ue.flipX?"-":"").concat(Pe,", ").concat(Ue.flipY?"-":"").concat(Pe,", 1) rotate(").concat(Ee,"deg)"),transitionDuration:(!Re||lt)&&"0s"},fallback:l,src:r,onWheel:Ye,onMouseDown:Ie,onDoubleClick:Se,onTouchStart:ot,onTouchMove:fe,onTouchEnd:oe,onTouchCancel:oe})),bt=Ne({url:r,alt:a},o);return We.createElement(We.Fragment,null,We.createElement(iO,Nt({transitionName:Q,maskTransitionName:ee,closable:!1,keyboard:!0,prefixCls:t,onClose:h,visible:v,classNames:{wrapper:qe},rootClassName:C,getContainer:p},q,{afterClose:He}),We.createElement("div",{className:"".concat(t,"-img-wrapper")},ae?ae(ke,Ne({transform:Ue,image:bt},he?{current:b}:{})):ke)),We.createElement($K,{visible:v,transform:Ue,maskTransitionName:ee,closeIcon:c,getContainer:p,prefixCls:t,rootClassName:C,icons:x,countRender:R,showSwitch:ue,showProgress:j,current:b,count:A,scale:Pe,minScale:F,maxScale:U,toolbarRender:K,onActive:je,onZoomIn:mt,onZoomOut:st,onRotateRight:ht,onRotateLeft:It,onFlipX:at,onFlipY:_t,onClose:h,onReset:wt,zIndex:q.zIndex!==void 0?q.zIndex+1:void 0,image:bt}))},N2=["crossOrigin","decoding","draggable","loading","referrerPolicy","sizes","srcSet","useMap","alt"];function QK(n){var e=M.useState({}),t=yt(e,2),r=t[0],a=t[1],o=M.useCallback(function(s,f){return a(function(h){return Ne(Ne({},h),{},de({},s,f))}),function(){a(function(h){var v=Ne({},h);return delete v[s],v})}},[]),l=M.useMemo(function(){return n?n.map(function(s){if(typeof s=="string")return{data:{src:s}};var f={};return Object.keys(s).forEach(function(h){["src"].concat(Qt(N2)).includes(h)&&(f[h]=s[h])}),{data:f}}):Object.keys(r).reduce(function(s,f){var h=r[f],v=h.canPreview,_=h.data;return v&&s.push({data:_,id:f}),s},[])},[n,r]);return[l,o,!!n]}var JK=["visible","onVisibleChange","getContainer","current","movable","minScale","maxScale","countRender","closeIcon","onChange","onTransform","toolbarRender","imageRender"],eQ=["src"],tQ=function(e){var t,r=e.previewPrefixCls,a=r===void 0?"rc-image-preview":r,o=e.children,l=e.icons,s=l===void 0?{}:l,f=e.items,h=e.preview,v=e.fallback,_=yn(h)==="object"?h:{},x=_.visible,C=_.onVisibleChange,c=_.getContainer,p=_.current,m=_.movable,b=_.minScale,w=_.maxScale,A=_.countRender,R=_.closeIcon,O=_.onChange,P=_.onTransform,D=_.toolbarRender,F=_.imageRender,B=jn(_,JK),U=QK(f),V=yt(U,3),Q=V[0],X=V[1],ee=V[2],ae=al(0,{value:p}),Z=yt(ae,2),K=Z[0],te=Z[1],ce=M.useState(!1),q=yt(ce,2),J=q[0],he=q[1],ue=((t=Q[K])===null||t===void 0?void 0:t.data)||{},j=ue.src,pe=jn(ue,eQ),_e=al(!!x,{value:x,onChange:function(lt,ot){C==null||C(lt,ot,K)}}),Re=yt(_e,2),Me=Re[0],Ae=Re[1],Ue=M.useState(null),gt=yt(Ue,2),ze=gt[0],we=gt[1],re=M.useCallback(function($e,lt,ot,fe){var oe=ee?Q.findIndex(function(Ee){return Ee.data.src===lt}):Q.findIndex(function(Ee){return Ee.id===$e});te(oe<0?0:oe),Ae(!0),we({x:ot,y:fe}),he(!0)},[Q,ee]);M.useEffect(function(){Me?J||te(0):he(!1)},[Me]);var Fe=function(lt,ot){te(lt),O==null||O(lt,ot)},Ie=function(){Ae(!1),we(null)},Ye=M.useMemo(function(){return{register:X,onPreview:re}},[X,re]);return M.createElement(S_.Provider,{value:Ye},o,M.createElement(yF,Nt({"aria-hidden":!Me,movable:m,visible:Me,prefixCls:a,closeIcon:R,onClose:Ie,mousePosition:ze,imgCommonProps:pe,src:j,fallback:v,icons:s,minScale:b,maxScale:w,getContainer:c,current:K,count:Q.length,countRender:A,onTransform:P,toolbarRender:D,imageRender:F,onChange:Fe},B)))},LP=0;function nQ(n,e){var t=M.useState(function(){return LP+=1,String(LP)}),r=yt(t,1),a=r[0],o=M.useContext(S_),l={data:e,canPreview:n};return M.useEffect(function(){if(o)return o.register(a,l)},[]),M.useEffect(function(){o&&o.register(a,l)},[n,e]),a}var iQ=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","rootClassName"],rQ=["src","visible","onVisibleChange","getContainer","mask","maskClassName","movable","icons","scaleStep","minScale","maxScale","imageRender","toolbarRender"],gO=function(e){var t=e.src,r=e.alt,a=e.onPreviewClose,o=e.prefixCls,l=o===void 0?"rc-image":o,s=e.previewPrefixCls,f=s===void 0?"".concat(l,"-preview"):s,h=e.placeholder,v=e.fallback,_=e.width,x=e.height,C=e.style,c=e.preview,p=c===void 0?!0:c,m=e.className,b=e.onClick,w=e.onError,A=e.wrapperClassName,R=e.wrapperStyle,O=e.rootClassName,P=jn(e,iQ),D=h&&h!==!0,F=yn(p)==="object"?p:{},B=F.src,U=F.visible,V=U===void 0?void 0:U,Q=F.onVisibleChange,X=Q===void 0?a:Q,ee=F.getContainer,ae=ee===void 0?void 0:ee,Z=F.mask,K=F.maskClassName,te=F.movable,ce=F.icons,q=F.scaleStep,J=F.minScale,he=F.maxScale,ue=F.imageRender,j=F.toolbarRender,pe=jn(F,rQ),_e=B??t,Re=al(!!V,{value:V,onChange:X}),Me=yt(Re,2),Ae=Me[0],Ue=Me[1],gt=vF({src:t,isCustomPlaceholder:D,fallback:v}),ze=yt(gt,3),we=ze[0],re=ze[1],Fe=ze[2],Ie=M.useState(null),Ye=yt(Ie,2),$e=Ye[0],lt=Ye[1],ot=M.useContext(S_),fe=!!p,oe=function(){Ue(!1),lt(null)},Ee=et(l,A,O,de({},"".concat(l,"-error"),Fe==="error")),Pe=M.useMemo(function(){var st={};return N2.forEach(function(ht){e[ht]!==void 0&&(st[ht]=e[ht])}),st},N2.map(function(st){return e[st]})),qe=M.useMemo(function(){return Ne(Ne({},Pe),{},{src:_e})},[_e,Pe]),He=nQ(fe,qe),mt=function(ht){var It=kK(ht.target),at=It.left,_t=It.top;ot?ot.onPreview(He,_e,at,_t):(lt({x:at,y:_t}),Ue(!0)),b==null||b(ht)};return M.createElement(M.Fragment,null,M.createElement("div",Nt({},P,{className:Ee,onClick:fe?mt:b,style:Ne({width:_,height:x},R)}),M.createElement("img",Nt({},Pe,{className:et("".concat(l,"-img"),de({},"".concat(l,"-img-placeholder"),h===!0),m),style:Ne({height:x},C),ref:we},re,{width:_,height:x,onError:w})),Fe==="loading"&&M.createElement("div",{"aria-hidden":"true",className:"".concat(l,"-placeholder")},h),Z&&fe&&M.createElement("div",{className:et("".concat(l,"-mask"),K),style:{display:(C==null?void 0:C.display)==="none"?"none":void 0}},Z)),!ot&&fe&&M.createElement(yF,Nt({"aria-hidden":!Ae,visible:Ae,prefixCls:f,onClose:oe,mousePosition:$e,src:_e,alt:r,imageInfo:{width:_,height:x},fallback:v,getContainer:ae,icons:ce,movable:te,scaleStep:q,minScale:J,maxScale:he,rootClassName:O,imageRender:ue,imgCommonProps:Pe,toolbarRender:j},pe)))};gO.PreviewGroup=tQ;const U2=n=>({position:n||"absolute",inset:0}),aQ=n=>{const{iconCls:e,motionDurationSlow:t,paddingXXS:r,marginXXS:a,prefixCls:o,colorTextLightSolid:l}=n;return{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:l,background:new Vi("#000").setA(.5).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${t}`,[`.${o}-mask-info`]:Object.assign(Object.assign({},BC),{padding:`0 ${Ut(r)}`,[e]:{marginInlineEnd:a,svg:{verticalAlign:"baseline"}}})}},oQ=n=>{const{previewCls:e,modalMaskBg:t,paddingSM:r,marginXL:a,margin:o,paddingLG:l,previewOperationColorDisabled:s,previewOperationHoverColor:f,motionDurationSlow:h,iconCls:v,colorTextLightSolid:_}=n,x=new Vi(t).setA(.1),C=x.clone().setA(.2);return{[`${e}-footer`]:{position:"fixed",bottom:a,left:{_skip_check_:!0,value:"50%"},display:"flex",flexDirection:"column",alignItems:"center",color:n.previewOperationColor,transform:"translateX(-50%)"},[`${e}-progress`]:{marginBottom:o},[`${e}-close`]:{position:"fixed",top:a,right:{_skip_check_:!0,value:a},display:"flex",color:_,backgroundColor:x.toRgbString(),borderRadius:"50%",padding:r,outline:0,border:0,cursor:"pointer",transition:`all ${h}`,"&:hover":{backgroundColor:C.toRgbString()},[`& > ${v}`]:{fontSize:n.previewOperationSize}},[`${e}-operations`]:{display:"flex",alignItems:"center",padding:`0 ${Ut(l)}`,backgroundColor:x.toRgbString(),borderRadius:100,"&-operation":{marginInlineStart:r,padding:r,cursor:"pointer",transition:`all ${h}`,userSelect:"none",[`&:not(${e}-operations-operation-disabled):hover > ${v}`]:{color:f},"&-disabled":{color:s,cursor:"not-allowed"},"&:first-of-type":{marginInlineStart:0},[`& > ${v}`]:{fontSize:n.previewOperationSize}}}}},sQ=n=>{const{modalMaskBg:e,iconCls:t,previewOperationColorDisabled:r,previewCls:a,zIndexPopup:o,motionDurationSlow:l}=n,s=new Vi(e).setA(.1),f=s.clone().setA(.2);return{[`${a}-switch-left, ${a}-switch-right`]:{position:"fixed",insetBlockStart:"50%",zIndex:n.calc(o).add(1).equal(),display:"flex",alignItems:"center",justifyContent:"center",width:n.imagePreviewSwitchSize,height:n.imagePreviewSwitchSize,marginTop:n.calc(n.imagePreviewSwitchSize).mul(-1).div(2).equal(),color:n.previewOperationColor,background:s.toRgbString(),borderRadius:"50%",transform:"translateY(-50%)",cursor:"pointer",transition:`all ${l}`,userSelect:"none","&:hover":{background:f.toRgbString()},"&-disabled":{"&, &:hover":{color:r,background:"transparent",cursor:"not-allowed",[`> ${t}`]:{cursor:"not-allowed"}}},[`> ${t}`]:{fontSize:n.previewOperationSize}},[`${a}-switch-left`]:{insetInlineStart:n.marginSM},[`${a}-switch-right`]:{insetInlineEnd:n.marginSM}}},lQ=n=>{const{motionEaseOut:e,previewCls:t,motionDurationSlow:r,componentCls:a}=n;return[{[`${a}-preview-root`]:{[t]:{height:"100%",textAlign:"center",pointerEvents:"none"},[`${t}-body`]:Object.assign(Object.assign({},U2()),{overflow:"hidden"}),[`${t}-img`]:{maxWidth:"100%",maxHeight:"70%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${r} ${e} 0s`,userSelect:"none","&-wrapper":Object.assign(Object.assign({},U2()),{transition:`transform ${r} ${e} 0s`,display:"flex",justifyContent:"center",alignItems:"center","& > *":{pointerEvents:"auto"},"&::before":{display:"inline-block",width:1,height:"50%",marginInlineEnd:-1,content:'""'}})},[`${t}-moving`]:{[`${t}-preview-img`]:{cursor:"grabbing","&-wrapper":{transitionDuration:"0s"}}}}},{[`${a}-preview-root`]:{[`${t}-wrap`]:{zIndex:n.zIndexPopup}}},{[`${a}-preview-operations-wrapper`]:{position:"fixed",zIndex:n.calc(n.zIndexPopup).add(1).equal()},"&":[oQ(n),sQ(n)]}]},cQ=n=>{const{componentCls:e}=n;return{[e]:{position:"relative",display:"inline-block",[`${e}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${e}-img-placeholder`]:{backgroundColor:n.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${e}-mask`]:Object.assign({},aQ(n)),[`${e}-mask:hover`]:{opacity:1},[`${e}-placeholder`]:Object.assign({},U2())}}},uQ=n=>{const{previewCls:e}=n;return{[`${e}-root`]:h_(n,"zoom"),"&":eO(n,!0)}},fQ=n=>({zIndexPopup:n.zIndexPopupBase+80,previewOperationColor:new Vi(n.colorTextLightSolid).setA(.65).toRgbString(),previewOperationHoverColor:new Vi(n.colorTextLightSolid).setA(.85).toRgbString(),previewOperationColorDisabled:new Vi(n.colorTextLightSolid).setA(.25).toRgbString(),previewOperationSize:n.fontSizeIcon*1.5}),bF=ma("Image",n=>{const e=`${n.componentCls}-preview`,t=gr(n,{previewCls:e,modalMaskBg:new Vi("#000").setA(.45).toRgbString(),imagePreviewSwitchSize:n.controlHeightLG});return[cQ(t),lQ(t),n4(gr(t,{componentCls:e})),uQ(t)]},fQ);var dQ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const _F={rotateLeft:M.createElement(rV,null),rotateRight:M.createElement(sV,null),zoomIn:M.createElement(mU,null),zoomOut:M.createElement(gU,null),close:M.createElement(u0,null),left:M.createElement(qA,null),right:M.createElement(ZA,null),flipX:M.createElement(D3,null),flipY:M.createElement(D3,{rotate:90})},hQ=n=>{var{previewPrefixCls:e,preview:t}=n,r=dQ(n,["previewPrefixCls","preview"]);const{getPrefixCls:a}=M.useContext(ei),o=a("image",e),l=`${o}-preview`,s=a(),f=Xc(o),[h,v,_]=bF(o,f),[x]=f_("ImagePreview",typeof t=="object"?t.zIndex:void 0),C=M.useMemo(()=>{var c;if(t===!1)return t;const p=typeof t=="object"?t:{},m=et(v,_,f,(c=p.rootClassName)!==null&&c!==void 0?c:"");return Object.assign(Object.assign({},p),{transitionName:Zu(s,"zoom",p.transitionName),maskTransitionName:Zu(s,"fade",p.maskTransitionName),rootClassName:m,zIndex:x})},[t]);return h(M.createElement(gO.PreviewGroup,Object.assign({preview:C,previewPrefixCls:l,icons:_F},r)))};var NP=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const vO=n=>{const{prefixCls:e,preview:t,className:r,rootClassName:a,style:o}=n,l=NP(n,["prefixCls","preview","className","rootClassName","style"]),{getPrefixCls:s,getPopupContainer:f,className:h,style:v,preview:_}=ef("image"),[x]=u_("Image"),C=s("image",e),c=s(),p=Xc(C),[m,b,w]=bF(C,p),A=et(a,b,w,p),R=et(r,b,h),[O]=f_("ImagePreview",typeof t=="object"?t.zIndex:void 0),P=M.useMemo(()=>{if(t===!1)return t;const F=typeof t=="object"?t:{},{getContainer:B,closeIcon:U,rootClassName:V}=F,Q=NP(F,["getContainer","closeIcon","rootClassName"]);return Object.assign(Object.assign({mask:M.createElement("div",{className:`${C}-mask-info`},M.createElement(UR,null),x==null?void 0:x.preview),icons:_F},Q),{rootClassName:et(A,V),getContainer:B??f,transitionName:Zu(c,"zoom",F.transitionName),maskTransitionName:Zu(c,"fade",F.maskTransitionName),zIndex:O,closeIcon:U??(_==null?void 0:_.closeIcon)})},[t,x,_==null?void 0:_.closeIcon]),D=Object.assign(Object.assign({},v),o);return m(M.createElement(gO,Object.assign({prefixCls:C,preview:P,rootClassName:A,className:R,style:D},l)))};vO.PreviewGroup=hQ;const pQ=n=>{const{getPrefixCls:e,direction:t}=M.useContext(ei),{prefixCls:r,className:a}=n,o=e("input-group",r),l=e("input"),[s,f,h]=oF(l),v=et(o,h,{[`${o}-lg`]:n.size==="large",[`${o}-sm`]:n.size==="small",[`${o}-compact`]:n.compact,[`${o}-rtl`]:t==="rtl"},f,a),_=M.useContext(Nh),x=M.useMemo(()=>Object.assign(Object.assign({},_),{isFormItemInput:!1}),[_]);return s(M.createElement("span",{className:v,style:n.style,onMouseEnter:n.onMouseEnter,onMouseLeave:n.onMouseLeave,onFocus:n.onFocus,onBlur:n.onBlur},M.createElement(Nh.Provider,{value:x},n.children)))},mQ=n=>{const{componentCls:e,paddingXS:t}=n;return{[e]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:t,"&-rtl":{direction:"rtl"},[`${e}-input`]:{textAlign:"center",paddingInline:n.paddingXXS},[`&${e}-sm ${e}-input`]:{paddingInline:n.calc(n.paddingXXS).div(2).equal()},[`&${e}-lg ${e}-input`]:{paddingInline:n.paddingXS}}}},gQ=ma(["Input","OTP"],n=>{const e=gr(n,tE(n));return[mQ(e)]},nE);var vQ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const yQ=M.forwardRef((n,e)=>{const{value:t,onChange:r,onActiveChange:a,index:o,mask:l}=n,s=vQ(n,["value","onChange","onActiveChange","index","mask"]),f=t&&typeof l=="string"?l:t,h=c=>{r(o,c.target.value)},v=M.useRef(null);M.useImperativeHandle(e,()=>v.current);const _=()=>{fo(()=>{var c;const p=(c=v.current)===null||c===void 0?void 0:c.input;document.activeElement===p&&p&&p.select()})},x=c=>{const{key:p,ctrlKey:m,metaKey:b}=c;p==="ArrowLeft"?a(o-1):p==="ArrowRight"?a(o+1):p==="z"&&(m||b)&&c.preventDefault(),_()},C=c=>{c.key==="Backspace"&&!t&&a(o-1),_()};return M.createElement(iE,Object.assign({type:l===!0?"password":"text"},s,{ref:v,value:f,onInput:h,onFocus:_,onKeyDown:x,onKeyUp:C,onMouseDown:_,onMouseUp:_}))});var bQ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};function rx(n){return(n||"").split("")}const _Q=n=>{const{index:e,prefixCls:t,separator:r}=n,a=typeof r=="function"?r(e):r;return a?M.createElement("span",{className:`${t}-separator`},a):null},SQ=M.forwardRef((n,e)=>{const{prefixCls:t,length:r=6,size:a,defaultValue:o,value:l,onChange:s,formatter:f,separator:h,variant:v,disabled:_,status:x,autoFocus:C,mask:c,type:p,onInput:m,inputMode:b}=n,w=bQ(n,["prefixCls","length","size","defaultValue","value","onChange","formatter","separator","variant","disabled","status","autoFocus","mask","type","onInput","inputMode"]),{getPrefixCls:A,direction:R}=M.useContext(ei),O=A("otp",t),P=h0(w,{aria:!0,data:!0,attr:!0}),[D,F,B]=gQ(O),U=Am(j=>a??j),V=M.useContext(Nh),Q=aO(V.status,x),X=M.useMemo(()=>Object.assign(Object.assign({},V),{status:Q,hasFeedback:!1,feedbackIcon:null}),[V,Q]),ee=M.useRef(null),ae=M.useRef({});M.useImperativeHandle(e,()=>({focus:()=>{var j;(j=ae.current[0])===null||j===void 0||j.focus()},blur:()=>{var j;for(let pe=0;pe<r;pe+=1)(j=ae.current[pe])===null||j===void 0||j.blur()},nativeElement:ee.current}));const Z=j=>f?f(j):j,[K,te]=M.useState(()=>rx(Z(o||"")));M.useEffect(()=>{l!==void 0&&te(rx(l))},[l]);const ce=Za(j=>{te(j),m&&m(j),s&&j.length===r&&j.every(pe=>pe)&&j.some((pe,_e)=>K[_e]!==pe)&&s(j.join(""))}),q=Za((j,pe)=>{let _e=Qt(K);for(let Me=0;Me<j;Me+=1)_e[Me]||(_e[Me]="");pe.length<=1?_e[j]=pe:_e=_e.slice(0,j).concat(rx(pe)),_e=_e.slice(0,r);for(let Me=_e.length-1;Me>=0&&!_e[Me];Me-=1)_e.pop();const Re=Z(_e.map(Me=>Me||" ").join(""));return _e=rx(Re).map((Me,Ae)=>Me===" "&&!_e[Ae]?_e[Ae]:Me),_e}),J=(j,pe)=>{var _e;const Re=q(j,pe),Me=Math.min(j+pe.length,r-1);Me!==j&&Re[j]!==void 0&&((_e=ae.current[Me])===null||_e===void 0||_e.focus()),ce(Re)},he=j=>{var pe;(pe=ae.current[j])===null||pe===void 0||pe.focus()},ue={variant:v,disabled:_,status:Q,mask:c,type:p,inputMode:b};return D(M.createElement("div",Object.assign({},P,{ref:ee,className:et(O,{[`${O}-sm`]:U==="small",[`${O}-lg`]:U==="large",[`${O}-rtl`]:R==="rtl"},B,F)}),M.createElement(Nh.Provider,{value:X},Array.from({length:r}).map((j,pe)=>{const _e=`otp-${pe}`,Re=K[pe]||"";return M.createElement(M.Fragment,{key:_e},M.createElement(yQ,Object.assign({ref:Me=>{ae.current[pe]=Me},index:pe,size:U,htmlSize:1,className:`${O}-input`,onChange:J,value:Re,onActiveChange:he,autoFocus:pe===0&&C},ue)),pe<r-1&&M.createElement(_Q,{separator:h,index:pe,prefixCls:O}))}))))});var xQ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const wQ=n=>n?M.createElement(UR,null):M.createElement(T$,null),CQ={click:"onClick",hover:"onMouseOver"},EQ=M.forwardRef((n,e)=>{const{disabled:t,action:r="click",visibilityToggle:a=!0,iconRender:o=wQ}=n,l=M.useContext(Dh),s=t??l,f=typeof a=="object"&&a.visible!==void 0,[h,v]=M.useState(()=>f?a.visible:!1),_=M.useRef(null);M.useEffect(()=>{f&&v(a.visible)},[f,a]);const x=dF(_),C=()=>{var U;if(s)return;h&&x();const V=!h;v(V),typeof a=="object"&&((U=a.onVisibleChange)===null||U===void 0||U.call(a,V))},c=U=>{const V=CQ[r]||"",Q=o(h),X={[V]:C,className:`${U}-icon`,key:"passwordIcon",onMouseDown:ee=>{ee.preventDefault()},onMouseUp:ee=>{ee.preventDefault()}};return M.cloneElement(M.isValidElement(Q)?Q:M.createElement("span",null,Q),X)},{className:p,prefixCls:m,inputPrefixCls:b,size:w}=n,A=xQ(n,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:R}=M.useContext(ei),O=R("input",b),P=R("input-password",m),D=a&&c(P),F=et(P,p,{[`${P}-${w}`]:!!w}),B=Object.assign(Object.assign({},Uo(A,["suffix","iconRender","visibilityToggle"])),{type:h?"text":"password",className:F,prefixCls:O,suffix:D});return w&&(B.size=w),M.createElement(iE,Object.assign({ref:Fh(e,_)},B))});var MQ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const TQ=M.forwardRef((n,e)=>{const{prefixCls:t,inputPrefixCls:r,className:a,size:o,suffix:l,enterButton:s=!1,addonAfter:f,loading:h,disabled:v,onSearch:_,onChange:x,onCompositionStart:C,onCompositionEnd:c}=n,p=MQ(n,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:m,direction:b}=M.useContext(ei),w=M.useRef(!1),A=m("input-search",t),R=m("input",r),{compactSize:O}=kC(A,b),P=Am(J=>{var he;return(he=o??O)!==null&&he!==void 0?he:J}),D=M.useRef(null),F=J=>{J!=null&&J.target&&J.type==="click"&&_&&_(J.target.value,J,{source:"clear"}),x==null||x(J)},B=J=>{var he;document.activeElement===((he=D.current)===null||he===void 0?void 0:he.input)&&J.preventDefault()},U=J=>{var he,ue;_&&_((ue=(he=D.current)===null||he===void 0?void 0:he.input)===null||ue===void 0?void 0:ue.value,J,{source:"input"})},V=J=>{w.current||h||U(J)},Q=typeof s=="boolean"?M.createElement(uV,null):null,X=`${A}-button`;let ee;const ae=s||{},Z=ae.type&&ae.type.__ANT_BUTTON===!0;Z||ae.type==="button"?ee=sl(ae,Object.assign({onMouseDown:B,onClick:J=>{var he,ue;(ue=(he=ae==null?void 0:ae.props)===null||he===void 0?void 0:he.onClick)===null||ue===void 0||ue.call(he,J),U(J)},key:"enterButton"},Z?{className:X,size:P}:{})):ee=M.createElement(uo,{className:X,type:s?"primary":void 0,size:P,disabled:v,key:"enterButton",onMouseDown:B,onClick:U,loading:h,icon:Q},s),f&&(ee=[ee,sl(f,{key:"addonAfter"})]);const K=et(A,{[`${A}-rtl`]:b==="rtl",[`${A}-${P}`]:!!P,[`${A}-with-button`]:!!s},a),te=Object.assign(Object.assign({},p),{className:K,prefixCls:R,type:"search"}),ce=J=>{w.current=!0,C==null||C(J)},q=J=>{w.current=!1,c==null||c(J)};return M.createElement(iE,Object.assign({ref:Fh(D,e),onPressEnter:V},te,{size:P,onCompositionStart:ce,onCompositionEnd:q,addonAfter:ee,suffix:l,onChange:F,disabled:v}))});var AQ=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,RQ=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],sT={},Ks;function OQ(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=n.getAttribute("id")||n.getAttribute("data-reactid")||n.getAttribute("name");if(e&&sT[t])return sT[t];var r=window.getComputedStyle(n),a=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),o=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),l=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),s=RQ.map(function(h){return"".concat(h,":").concat(r.getPropertyValue(h))}).join(";"),f={sizingStyle:s,paddingSize:o,borderSize:l,boxSizing:a};return e&&t&&(sT[t]=f),f}function IQ(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;Ks||(Ks=document.createElement("textarea"),Ks.setAttribute("tab-index","-1"),Ks.setAttribute("aria-hidden","true"),Ks.setAttribute("name","hiddenTextarea"),document.body.appendChild(Ks)),n.getAttribute("wrap")?Ks.setAttribute("wrap",n.getAttribute("wrap")):Ks.removeAttribute("wrap");var a=OQ(n,e),o=a.paddingSize,l=a.borderSize,s=a.boxSizing,f=a.sizingStyle;Ks.setAttribute("style","".concat(f,";").concat(AQ)),Ks.value=n.value||n.placeholder||"";var h=void 0,v=void 0,_,x=Ks.scrollHeight;if(s==="border-box"?x+=l:s==="content-box"&&(x-=o),t!==null||r!==null){Ks.value=" ";var C=Ks.scrollHeight-o;t!==null&&(h=C*t,s==="border-box"&&(h=h+o+l),x=Math.max(h,x)),r!==null&&(v=C*r,s==="border-box"&&(v=v+o+l),_=x>v?"":"hidden",x=Math.min(v,x))}var c={height:x,overflowY:_,resize:"none"};return h&&(c.minHeight=h),v&&(c.maxHeight=v),c}var zQ=["prefixCls","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],lT=0,cT=1,uT=2,PQ=M.forwardRef(function(n,e){var t=n,r=t.prefixCls,a=t.defaultValue,o=t.value,l=t.autoSize,s=t.onResize,f=t.className,h=t.style,v=t.disabled,_=t.onChange;t.onInternalAutoSize;var x=jn(t,zQ),C=al(a,{value:o,postState:function(j){return j??""}}),c=yt(C,2),p=c[0],m=c[1],b=function(j){m(j.target.value),_==null||_(j)},w=M.useRef();M.useImperativeHandle(e,function(){return{textArea:w.current}});var A=M.useMemo(function(){return l&&yn(l)==="object"?[l.minRows,l.maxRows]:[]},[l]),R=yt(A,2),O=R[0],P=R[1],D=!!l,F=function(){try{if(document.activeElement===w.current){var j=w.current,pe=j.selectionStart,_e=j.selectionEnd,Re=j.scrollTop;w.current.setSelectionRange(pe,_e),w.current.scrollTop=Re}}catch{}},B=M.useState(uT),U=yt(B,2),V=U[0],Q=U[1],X=M.useState(),ee=yt(X,2),ae=ee[0],Z=ee[1],K=function(){Q(lT)};Ca(function(){D&&K()},[o,O,P,D]),Ca(function(){if(V===lT)Q(cT);else if(V===cT){var ue=IQ(w.current,!1,O,P);Q(uT),Z(ue)}else F()},[V]);var te=M.useRef(),ce=function(){fo.cancel(te.current)},q=function(j){V===uT&&(s==null||s(j),l&&(ce(),te.current=fo(function(){K()})))};M.useEffect(function(){return ce},[]);var J=D?ae:null,he=Ne(Ne({},h),J);return(V===lT||V===cT)&&(he.overflowY="hidden",he.overflowX="hidden"),M.createElement(Tm,{onResize:q,disabled:!(l||s)},M.createElement("textarea",Nt({},x,{ref:w,style:he,className:et(r,f,de({},"".concat(r,"-disabled"),v)),disabled:v,value:p,onChange:b})))}),DQ=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","showCount","count","className","style","disabled","hidden","classNames","styles","onResize","onClear","onPressEnter","readOnly","autoSize","onKeyDown"],LQ=We.forwardRef(function(n,e){var t,r=n.defaultValue,a=n.value,o=n.onFocus,l=n.onBlur,s=n.onChange,f=n.allowClear,h=n.maxLength,v=n.onCompositionStart,_=n.onCompositionEnd,x=n.suffix,C=n.prefixCls,c=C===void 0?"rc-textarea":C,p=n.showCount,m=n.count,b=n.className,w=n.style,A=n.disabled,R=n.hidden,O=n.classNames,P=n.styles,D=n.onResize,F=n.onClear,B=n.onPressEnter,U=n.readOnly,V=n.autoSize,Q=n.onKeyDown,X=jn(n,DQ),ee=al(r,{value:a,defaultValue:r}),ae=yt(ee,2),Z=ae[0],K=ae[1],te=Z==null?"":String(Z),ce=We.useState(!1),q=yt(ce,2),J=q[0],he=q[1],ue=We.useRef(!1),j=We.useState(null),pe=yt(j,2),_e=pe[0],Re=pe[1],Me=M.useRef(null),Ae=M.useRef(null),Ue=function(){var je;return(je=Ae.current)===null||je===void 0?void 0:je.textArea},gt=function(){Ue().focus()};M.useImperativeHandle(e,function(){var wt;return{resizableTextArea:Ae.current,focus:gt,blur:function(){Ue().blur()},nativeElement:((wt=Me.current)===null||wt===void 0?void 0:wt.nativeElement)||Ue()}}),M.useEffect(function(){he(function(wt){return!A&&wt})},[A]);var ze=We.useState(null),we=yt(ze,2),re=we[0],Fe=we[1];We.useEffect(function(){if(re){var wt;(wt=Ue()).setSelectionRange.apply(wt,Qt(re))}},[re]);var Ie=uF(m,p),Ye=(t=Ie.max)!==null&&t!==void 0?t:h,$e=Number(Ye)>0,lt=Ie.strategy(te),ot=!!Ye&&lt>Ye,fe=function(je,it){var Se=it;!ue.current&&Ie.exceedFormatter&&Ie.max&&Ie.strategy(it)>Ie.max&&(Se=Ie.exceedFormatter(it,{max:Ie.max}),it!==Se&&Fe([Ue().selectionStart||0,Ue().selectionEnd||0])),K(Se),_w(je.currentTarget,je,s,Se)},oe=function(je){ue.current=!0,v==null||v(je)},Ee=function(je){ue.current=!1,fe(je,je.currentTarget.value),_==null||_(je)},Pe=function(je){fe(je,je.target.value)},qe=function(je){je.key==="Enter"&&B&&B(je),Q==null||Q(je)},He=function(je){he(!0),o==null||o(je)},mt=function(je){he(!1),l==null||l(je)},st=function(je){K(""),gt(),_w(Ue(),je,s)},ht=x,It;Ie.show&&(Ie.showFormatter?It=Ie.showFormatter({value:te,count:lt,maxLength:Ye}):It="".concat(lt).concat($e?" / ".concat(Ye):""),ht=We.createElement(We.Fragment,null,ht,We.createElement("span",{className:et("".concat(c,"-data-count"),O==null?void 0:O.count),style:P==null?void 0:P.count},It)));var at=function(je){var it;D==null||D(je),(it=Ue())!==null&&it!==void 0&&it.style.height&&Re(!0)},_t=!V&&!p&&!f;return We.createElement(cF,{ref:Me,value:te,allowClear:f,handleReset:st,suffix:ht,prefixCls:c,classNames:Ne(Ne({},O),{},{affixWrapper:et(O==null?void 0:O.affixWrapper,de(de({},"".concat(c,"-show-count"),p),"".concat(c,"-textarea-allow-clear"),f))}),disabled:A,focused:J,className:et(b,ot&&"".concat(c,"-out-of-range")),style:Ne(Ne({},w),_e&&!_t?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":typeof It=="string"?It:void 0}},hidden:R,readOnly:U,onClear:F},We.createElement(PQ,Nt({},X,{autoSize:V,maxLength:h,onKeyDown:qe,onChange:Pe,onFocus:He,onBlur:mt,onCompositionStart:oe,onCompositionEnd:Ee,className:et(O==null?void 0:O.textarea),style:Ne(Ne({},P==null?void 0:P.textarea),{},{resize:w==null?void 0:w.resize}),disabled:A,prefixCls:c,onResize:at,ref:Ae,readOnly:U})))});const NQ=n=>{const{componentCls:e,paddingLG:t}=n,r=`${e}-textarea`;return{[r]:{position:"relative","&-show-count":{[`> ${e}`]:{height:"100%"},[`${e}-data-count`]:{position:"absolute",bottom:n.calc(n.fontSize).mul(n.lineHeight).mul(-1).equal(),insetInlineEnd:0,color:n.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},[`
        &-allow-clear > ${e},
        &-affix-wrapper${r}-has-feedback ${e}
      `]:{paddingInlineEnd:t},[`&-affix-wrapper${e}-affix-wrapper`]:{padding:0,[`> textarea${e}`]:{fontSize:"inherit",border:"none",outline:"none",background:"transparent",minHeight:n.calc(n.controlHeight).sub(n.calc(n.lineWidth).mul(2)).equal(),"&:focus":{boxShadow:"none !important"}},[`${e}-suffix`]:{margin:0,"> *:not(:last-child)":{marginInline:0},[`${e}-clear-icon`]:{position:"absolute",insetInlineEnd:n.paddingInline,insetBlockStart:n.paddingXS},[`${r}-suffix`]:{position:"absolute",top:0,insetInlineEnd:n.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}},[`&-affix-wrapper${e}-affix-wrapper-sm`]:{[`${e}-suffix`]:{[`${e}-clear-icon`]:{insetInlineEnd:n.paddingInlineSM}}}}}},UQ=ma(["Input","TextArea"],n=>{const e=gr(n,tE(n));return[NQ(e)]},nE,{resetFont:!1});var BQ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const FQ=M.forwardRef((n,e)=>{var t;const{prefixCls:r,bordered:a=!0,size:o,disabled:l,status:s,allowClear:f,classNames:h,rootClassName:v,className:_,style:x,styles:C,variant:c}=n,p=BQ(n,["prefixCls","bordered","size","disabled","status","allowClear","classNames","rootClassName","className","style","styles","variant"]),{getPrefixCls:m,direction:b,allowClear:w,autoComplete:A,className:R,style:O,classNames:P,styles:D}=ef("textArea"),F=M.useContext(Dh),B=l??F,{status:U,hasFeedback:V,feedbackIcon:Q}=M.useContext(Nh),X=aO(U,s),ee=M.useRef(null);M.useImperativeHandle(e,()=>{var Re;return{resizableTextArea:(Re=ee.current)===null||Re===void 0?void 0:Re.resizableTextArea,focus:Me=>{var Ae,Ue;lF((Ue=(Ae=ee.current)===null||Ae===void 0?void 0:Ae.resizableTextArea)===null||Ue===void 0?void 0:Ue.textArea,Me)},blur:()=>{var Me;return(Me=ee.current)===null||Me===void 0?void 0:Me.blur()}}});const ae=m("input",r),Z=Xc(ae),[K,te,ce]=aF(ae,v),[q]=UQ(ae,Z),{compactSize:J,compactItemClassnames:he}=kC(ae,b),ue=Am(Re=>{var Me;return(Me=o??J)!==null&&Me!==void 0?Me:Re}),[j,pe]=_4("textArea",c,a),_e=fF(f??w);return K(q(M.createElement(LQ,Object.assign({autoComplete:A},p,{style:Object.assign(Object.assign({},O),x),styles:Object.assign(Object.assign({},D),C),disabled:B,allowClear:_e,className:et(ce,Z,_,v,he,R),classNames:Object.assign(Object.assign(Object.assign({},h),P),{textarea:et({[`${ae}-sm`]:ue==="small",[`${ae}-lg`]:ue==="large"},te,h==null?void 0:h.textarea,P.textarea),variant:et({[`${ae}-${j}`]:pe},A2(ae,X)),affixWrapper:et(`${ae}-textarea-affix-wrapper`,{[`${ae}-affix-wrapper-rtl`]:b==="rtl",[`${ae}-affix-wrapper-sm`]:ue==="small",[`${ae}-affix-wrapper-lg`]:ue==="large",[`${ae}-textarea-show-count`]:n.showCount||((t=n.count)===null||t===void 0?void 0:t.show)},te)}),prefixCls:ae,suffix:V&&M.createElement("span",{className:`${ae}-textarea-suffix`},Q),ref:ee}))))}),g0=iE;g0.Group=pQ;g0.Search=TQ;g0.TextArea=FQ;g0.Password=EQ;g0.OTP=SQ;function HQ(n,e,t){return typeof t=="boolean"?t:n.length?!0:qu(e).some(a=>a.type===q4)}var SF=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};function rE(n){let{suffixCls:e,tagName:t,displayName:r}=n;return a=>M.forwardRef((l,s)=>M.createElement(a,Object.assign({ref:s,suffixCls:e,tagName:t},l)))}const yO=M.forwardRef((n,e)=>{const{prefixCls:t,suffixCls:r,className:a,tagName:o}=n,l=SF(n,["prefixCls","suffixCls","className","tagName"]),{getPrefixCls:s}=M.useContext(ei),f=s("layout",t),[h,v,_]=Y4(f),x=r?`${f}-${r}`:f;return h(M.createElement(o,Object.assign({className:et(t||x,a,v,_),ref:e},l)))}),kQ=M.forwardRef((n,e)=>{const{direction:t}=M.useContext(ei),[r,a]=M.useState([]),{prefixCls:o,className:l,rootClassName:s,children:f,hasSider:h,tagName:v,style:_}=n,x=SF(n,["prefixCls","className","rootClassName","children","hasSider","tagName","style"]),C=Uo(x,["suffixCls"]),{getPrefixCls:c,className:p,style:m}=ef("layout"),b=c("layout",o),w=HQ(r,f,h),[A,R,O]=Y4(b),P=et(b,{[`${b}-has-sider`]:w,[`${b}-rtl`]:t==="rtl"},p,l,s,R,O),D=M.useMemo(()=>({siderHook:{addSider:F=>{a(B=>[].concat(Qt(B),[F]))},removeSider:F=>{a(B=>B.filter(U=>U!==F))}}}),[]);return A(M.createElement(j4.Provider,{value:D},M.createElement(v,Object.assign({ref:e,className:P,style:Object.assign(Object.assign({},m),_)},C),f)))}),$Q=rE({tagName:"div",displayName:"Layout"})(kQ),VQ=rE({suffixCls:"header",tagName:"header",displayName:"Header"})(yO),GQ=rE({suffixCls:"footer",tagName:"footer",displayName:"Footer"})(yO),jQ=rE({suffixCls:"content",tagName:"main",displayName:"Content"})(yO),Om=$Q;Om.Header=VQ;Om.Footer=GQ;Om.Content=jQ;Om.Sider=q4;Om._InternalSiderContext=eE;const xw=100,xF=xw/5,wF=xw/2-xF/2,fT=wF*2*Math.PI,UP=50,BP=n=>{const{dotClassName:e,style:t,hasCircleCls:r}=n;return M.createElement("circle",{className:et(`${e}-circle`,{[`${e}-circle-bg`]:r}),r:wF,cx:UP,cy:UP,strokeWidth:xF,style:t})},WQ=n=>{let{percent:e,prefixCls:t}=n;const r=`${t}-dot`,a=`${r}-holder`,o=`${a}-hidden`,[l,s]=M.useState(!1);Ca(()=>{e!==0&&s(!0)},[e!==0]);const f=Math.max(Math.min(e,100),0);if(!l)return null;const h={strokeDashoffset:`${fT/4}`,strokeDasharray:`${fT*f/100} ${fT*(100-f)/100}`};return M.createElement("span",{className:et(a,`${r}-progress`,f<=0&&o)},M.createElement("svg",{viewBox:`0 0 ${xw} ${xw}`,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":f},M.createElement(BP,{dotClassName:r,hasCircleCls:!0}),M.createElement(BP,{dotClassName:r,style:h})))};function XQ(n){const{prefixCls:e,percent:t=0}=n,r=`${e}-dot`,a=`${r}-holder`,o=`${a}-hidden`;return M.createElement(M.Fragment,null,M.createElement("span",{className:et(a,t>0&&o)},M.createElement("span",{className:et(r,`${e}-dot-spin`)},[1,2,3,4].map(l=>M.createElement("i",{className:`${e}-dot-item`,key:l})))),M.createElement(WQ,{prefixCls:e,percent:t}))}function YQ(n){const{prefixCls:e,indicator:t,percent:r}=n,a=`${e}-dot`;return t&&M.isValidElement(t)?sl(t,{className:et(t.props.className,a),percent:r}):M.createElement(XQ,{prefixCls:e,percent:r})}const qQ=new ar("antSpinMove",{to:{opacity:1}}),ZQ=new ar("antRotate",{to:{transform:"rotate(405deg)"}}),KQ=n=>{const{componentCls:e,calc:t}=n;return{[e]:Object.assign(Object.assign({},jc(n)),{position:"absolute",display:"none",color:n.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${n.motionDurationSlow} ${n.motionEaseInOutCirc}`,"&-spinning":{position:"relative",display:"inline-block",opacity:1},[`${e}-text`]:{fontSize:n.fontSize,paddingTop:t(t(n.dotSize).sub(n.fontSize)).div(2).add(2).equal()},"&-fullscreen":{position:"fixed",width:"100vw",height:"100vh",backgroundColor:n.colorBgMask,zIndex:n.zIndexPopupBase,inset:0,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",opacity:0,visibility:"hidden",transition:`all ${n.motionDurationMid}`,"&-show":{opacity:1,visibility:"visible"},[e]:{[`${e}-dot-holder`]:{color:n.colorWhite},[`${e}-text`]:{color:n.colorTextLightSolid}}},"&-nested-loading":{position:"relative",[`> div > ${e}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:n.contentHeight,[`${e}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:t(n.dotSize).mul(-1).div(2).equal()},[`${e}-text`]:{position:"absolute",top:"50%",width:"100%",textShadow:`0 1px 2px ${n.colorBgContainer}`},[`&${e}-show-text ${e}-dot`]:{marginTop:t(n.dotSize).div(2).mul(-1).sub(10).equal()},"&-sm":{[`${e}-dot`]:{margin:t(n.dotSizeSM).mul(-1).div(2).equal()},[`${e}-text`]:{paddingTop:t(t(n.dotSizeSM).sub(n.fontSize)).div(2).add(2).equal()},[`&${e}-show-text ${e}-dot`]:{marginTop:t(n.dotSizeSM).div(2).mul(-1).sub(10).equal()}},"&-lg":{[`${e}-dot`]:{margin:t(n.dotSizeLG).mul(-1).div(2).equal()},[`${e}-text`]:{paddingTop:t(t(n.dotSizeLG).sub(n.fontSize)).div(2).add(2).equal()},[`&${e}-show-text ${e}-dot`]:{marginTop:t(n.dotSizeLG).div(2).mul(-1).sub(10).equal()}}},[`${e}-container`]:{position:"relative",transition:`opacity ${n.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:n.colorBgContainer,opacity:0,transition:`all ${n.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${e}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:n.spinDotDefault},[`${e}-dot-holder`]:{width:"1em",height:"1em",fontSize:n.dotSize,display:"inline-block",transition:`transform ${n.motionDurationSlow} ease, opacity ${n.motionDurationSlow} ease`,transformOrigin:"50% 50%",lineHeight:1,color:n.colorPrimary,"&-hidden":{transform:"scale(0.3)",opacity:0}},[`${e}-dot-progress`]:{position:"absolute",inset:0},[`${e}-dot`]:{position:"relative",display:"inline-block",fontSize:n.dotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:t(n.dotSize).sub(t(n.marginXXS).div(2)).div(2).equal(),height:t(n.dotSize).sub(t(n.marginXXS).div(2)).div(2).equal(),background:"currentColor",borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:qQ,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0,animationDelay:"0s"},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:ZQ,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"},"&-circle":{strokeLinecap:"round",transition:["stroke-dashoffset","stroke-dasharray","stroke","stroke-width","opacity"].map(r=>`${r} ${n.motionDurationSlow} ease`).join(","),fillOpacity:0,stroke:"currentcolor"},"&-circle-bg":{stroke:n.colorFillSecondary}},[`&-sm ${e}-dot`]:{"&, &-holder":{fontSize:n.dotSizeSM}},[`&-sm ${e}-dot-holder`]:{i:{width:t(t(n.dotSizeSM).sub(t(n.marginXXS).div(2))).div(2).equal(),height:t(t(n.dotSizeSM).sub(t(n.marginXXS).div(2))).div(2).equal()}},[`&-lg ${e}-dot`]:{"&, &-holder":{fontSize:n.dotSizeLG}},[`&-lg ${e}-dot-holder`]:{i:{width:t(t(n.dotSizeLG).sub(n.marginXXS)).div(2).equal(),height:t(t(n.dotSizeLG).sub(n.marginXXS)).div(2).equal()}},[`&${e}-show-text ${e}-text`]:{display:"block"}})}},QQ=n=>{const{controlHeightLG:e,controlHeight:t}=n;return{contentHeight:400,dotSize:e/2,dotSizeSM:e*.35,dotSizeLG:t}},JQ=ma("Spin",n=>{const e=gr(n,{spinDotDefault:n.colorTextDescription});return[KQ(e)]},QQ),eJ=200,FP=[[30,.05],[70,.03],[96,.01]];function tJ(n,e){const[t,r]=M.useState(0),a=M.useRef(null),o=e==="auto";return M.useEffect(()=>(o&&n&&(r(0),a.current=setInterval(()=>{r(l=>{const s=100-l;for(let f=0;f<FP.length;f+=1){const[h,v]=FP[f];if(l<=h)return l+s*v}return l})},eJ)),()=>{clearInterval(a.current)}),[o,n]),o?t:e}var nJ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};let CF;function iJ(n,e){return!!n&&!!e&&!Number.isNaN(Number(e))}const EF=n=>{var e;const{prefixCls:t,spinning:r=!0,delay:a=0,className:o,rootClassName:l,size:s="default",tip:f,wrapperClassName:h,style:v,children:_,fullscreen:x=!1,indicator:C,percent:c}=n,p=nJ(n,["prefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","fullscreen","indicator","percent"]),{getPrefixCls:m,direction:b,className:w,style:A,indicator:R}=ef("spin"),O=m("spin",t),[P,D,F]=JQ(O),[B,U]=M.useState(()=>r&&!iJ(r,a)),V=tJ(B,c);M.useEffect(()=>{if(r){const te=EK(a,()=>{U(!0)});return te(),()=>{var ce;(ce=te==null?void 0:te.cancel)===null||ce===void 0||ce.call(te)}}U(!1)},[a,r]);const Q=M.useMemo(()=>typeof _<"u"&&!x,[_,x]),X=et(O,w,{[`${O}-sm`]:s==="small",[`${O}-lg`]:s==="large",[`${O}-spinning`]:B,[`${O}-show-text`]:!!f,[`${O}-rtl`]:b==="rtl"},o,!x&&l,D,F),ee=et(`${O}-container`,{[`${O}-blur`]:B}),ae=(e=C??R)!==null&&e!==void 0?e:CF,Z=Object.assign(Object.assign({},A),v),K=M.createElement("div",Object.assign({},p,{style:Z,className:X,"aria-live":"polite","aria-busy":B}),M.createElement(YQ,{prefixCls:O,indicator:ae,percent:V}),f&&(Q||x)?M.createElement("div",{className:`${O}-text`},f):null);return P(Q?M.createElement("div",Object.assign({},p,{className:et(`${O}-nested-loading`,h,D,F)}),B&&M.createElement("div",{key:"loading"},K),M.createElement("div",{className:ee,key:"container"},_)):x?M.createElement("div",{className:et(`${O}-fullscreen`,{[`${O}-fullscreen-show`]:B},l,D,F)},K):K)};EF.setDefaultIndicator=n=>{CF=n};let Ul=null,sm=n=>n(),Bb=[],Fb={};function HP(){const{getContainer:n,duration:e,rtl:t,maxCount:r,top:a}=Fb,o=(n==null?void 0:n())||document.body;return{getContainer:()=>o,duration:e,rtl:t,maxCount:r,top:a}}const rJ=We.forwardRef((n,e)=>{const{messageConfig:t,sync:r}=n,{getPrefixCls:a}=M.useContext(ei),o=Fb.prefixCls||a("message"),l=M.useContext(oq),[s,f]=RB(Object.assign(Object.assign(Object.assign({},t),{prefixCls:o}),l.message));return We.useImperativeHandle(e,()=>{const h=Object.assign({},s);return Object.keys(h).forEach(v=>{h[v]=function(){return r(),s[v].apply(s,arguments)}}),{instance:h,sync:r}}),f}),aJ=We.forwardRef((n,e)=>{const[t,r]=We.useState(HP),a=()=>{r(HP)};We.useEffect(a,[]);const o=SB(),l=o.getRootPrefixCls(),s=o.getIconPrefixCls(),f=o.getTheme(),h=We.createElement(rJ,{ref:e,sync:a,messageConfig:t});return We.createElement(gd,{prefixCls:l,iconPrefixCls:s,theme:f},o.holderRender?o.holderRender(h):h)});function aE(){if(!Ul){const n=document.createDocumentFragment(),e={fragment:n};Ul=e,sm(()=>{KR()(We.createElement(aJ,{ref:r=>{const{instance:a,sync:o}=r||{};Promise.resolve().then(()=>{!e.instance&&a&&(e.instance=a,e.sync=o,aE())})}}),n)});return}Ul.instance&&(Bb.forEach(n=>{const{type:e,skipped:t}=n;if(!t)switch(e){case"open":{sm(()=>{const r=Ul.instance.open(Object.assign(Object.assign({},Fb),n.config));r==null||r.then(n.resolve),n.setCloseFn(r)});break}case"destroy":sm(()=>{Ul==null||Ul.instance.destroy(n.key)});break;default:sm(()=>{var r;const a=(r=Ul.instance)[e].apply(r,Qt(n.args));a==null||a.then(n.resolve),n.setCloseFn(a)})}}),Bb=[])}function oJ(n){Fb=Object.assign(Object.assign({},Fb),n),sm(()=>{var e;(e=Ul==null?void 0:Ul.sync)===null||e===void 0||e.call(Ul)})}function sJ(n){const e=ZR(t=>{let r;const a={type:"open",config:n,resolve:t,setCloseFn:o=>{r=o}};return Bb.push(a),()=>{r?sm(()=>{r()}):a.skipped=!0}});return aE(),e}function lJ(n,e){const t=ZR(r=>{let a;const o={type:n,args:e,resolve:r,setCloseFn:l=>{a=l}};return Bb.push(o),()=>{a?sm(()=>{a()}):o.skipped=!0}});return aE(),t}const cJ=n=>{Bb.push({type:"destroy",key:n}),aE()},uJ=["success","info","warning","error","loading"],fJ={open:sJ,destroy:cJ,config:oJ,useMessage:p9,_InternalPanelDoNotUseOrYouWillBeFired:o9},MF=fJ;uJ.forEach(n=>{MF[n]=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return lJ(n,t)}});var dJ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const hJ=n=>{const{prefixCls:e,className:t,closeIcon:r,closable:a,type:o,title:l,children:s,footer:f}=n,h=dJ(n,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:v}=M.useContext(ei),_=v(),x=e||v("modal"),C=Xc(_),[c,p,m]=a4(x,C),b=`${x}-confirm`;let w={};return o?w={closable:a??!1,title:"",footer:"",children:M.createElement(s4,Object.assign({},n,{prefixCls:x,confirmPrefixCls:b,rootPrefixCls:_,content:s}))}:w={closable:a??!0,title:l,footer:f!==null&&M.createElement(e4,Object.assign({},n)),children:s},c(M.createElement(jB,Object.assign({prefixCls:x,className:et(p,`${x}-pure-panel`,o&&b,o&&`${b}-${o}`,t,m,C)},h,{closeIcon:JB(x,r),closable:a},w)))},pJ=sq(hJ);function TF(n){return v_(f4(n))}const Vl=o4;Vl.useModal=aq;Vl.info=function(e){return v_(d4(e))};Vl.success=function(e){return v_(h4(e))};Vl.error=function(e){return v_(p4(e))};Vl.warning=TF;Vl.warn=TF;Vl.confirm=function(e){return v_(m4(e))};Vl.destroyAll=function(){for(;om.length;){const e=om.pop();e&&e()}};Vl.config=eq;Vl._InternalPanelDoNotUseOrYouWillBeFired=pJ;var mJ={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},gJ=function(){var e=M.useRef([]),t=M.useRef(null);return M.useEffect(function(){var r=Date.now(),a=!1;e.current.forEach(function(o){if(o){a=!0;var l=o.style;l.transitionDuration=".3s, .3s, .3s, .06s",t.current&&r-t.current<100&&(l.transitionDuration="0s, 0s")}}),a&&(t.current=Date.now())}),e.current},kP=0,vJ=ls();function yJ(){var n;return vJ?(n=kP,kP+=1):n="TEST_OR_SSR",n}const bJ=function(n){var e=M.useState(),t=yt(e,2),r=t[0],a=t[1];return M.useEffect(function(){a("rc_progress_".concat(yJ()))},[]),n||r};var $P=function(e){var t=e.bg,r=e.children;return M.createElement("div",{style:{width:"100%",height:"100%",background:t}},r)};function VP(n,e){return Object.keys(n).map(function(t){var r=parseFloat(t),a="".concat(Math.floor(r*e),"%");return"".concat(n[t]," ").concat(a)})}var _J=M.forwardRef(function(n,e){var t=n.prefixCls,r=n.color,a=n.gradientId,o=n.radius,l=n.style,s=n.ptg,f=n.strokeLinecap,h=n.strokeWidth,v=n.size,_=n.gapDegree,x=r&&yn(r)==="object",C=x?"#FFF":void 0,c=v/2,p=M.createElement("circle",{className:"".concat(t,"-circle-path"),r:o,cx:c,cy:c,stroke:C,strokeLinecap:f,strokeWidth:h,opacity:s===0?0:1,style:l,ref:e});if(!x)return p;var m="".concat(a,"-conic"),b=_?"".concat(180+_/2,"deg"):"0deg",w=VP(r,(360-_)/360),A=VP(r,1),R="conic-gradient(from ".concat(b,", ").concat(w.join(", "),")"),O="linear-gradient(to ".concat(_?"bottom":"top",", ").concat(A.join(", "),")");return M.createElement(M.Fragment,null,M.createElement("mask",{id:m},p),M.createElement("foreignObject",{x:0,y:0,width:v,height:v,mask:"url(#".concat(m,")")},M.createElement($P,{bg:O},M.createElement($P,{bg:R}))))}),Gy=100,dT=function(e,t,r,a,o,l,s,f,h,v){var _=arguments.length>10&&arguments[10]!==void 0?arguments[10]:0,x=r/100*360*((360-l)/360),C=l===0?0:{bottom:0,top:180,left:90,right:-90}[s],c=(100-a)/100*t;h==="round"&&a!==100&&(c+=v/2,c>=t&&(c=t-.01));var p=Gy/2;return{stroke:typeof f=="string"?f:void 0,strokeDasharray:"".concat(t,"px ").concat(e),strokeDashoffset:c+_,transform:"rotate(".concat(o+x+C,"deg)"),transformOrigin:"".concat(p,"px ").concat(p,"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},SJ=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function GP(n){var e=n??[];return Array.isArray(e)?e:[e]}var xJ=function(e){var t=Ne(Ne({},mJ),e),r=t.id,a=t.prefixCls,o=t.steps,l=t.strokeWidth,s=t.trailWidth,f=t.gapDegree,h=f===void 0?0:f,v=t.gapPosition,_=t.trailColor,x=t.strokeLinecap,C=t.style,c=t.className,p=t.strokeColor,m=t.percent,b=jn(t,SJ),w=Gy/2,A=bJ(r),R="".concat(A,"-gradient"),O=w-l/2,P=Math.PI*2*O,D=h>0?90+h/2:-90,F=P*((360-h)/360),B=yn(o)==="object"?o:{count:o,gap:2},U=B.count,V=B.gap,Q=GP(m),X=GP(p),ee=X.find(function(J){return J&&yn(J)==="object"}),ae=ee&&yn(ee)==="object",Z=ae?"butt":x,K=dT(P,F,0,100,D,h,v,_,Z,l),te=gJ(),ce=function(){var he=0;return Q.map(function(ue,j){var pe=X[j]||X[X.length-1],_e=dT(P,F,he,ue,D,h,v,pe,Z,l);return he+=ue,M.createElement(_J,{key:j,color:pe,ptg:ue,radius:O,prefixCls:a,gradientId:R,style:_e,strokeLinecap:Z,strokeWidth:l,gapDegree:h,ref:function(Me){te[j]=Me},size:Gy})}).reverse()},q=function(){var he=Math.round(U*(Q[0]/100)),ue=100/U,j=0;return new Array(U).fill(null).map(function(pe,_e){var Re=_e<=he-1?X[0]:_,Me=Re&&yn(Re)==="object"?"url(#".concat(R,")"):void 0,Ae=dT(P,F,j,ue,D,h,v,Re,"butt",l,V);return j+=(F-Ae.strokeDashoffset+V)*100/F,M.createElement("circle",{key:_e,className:"".concat(a,"-circle-path"),r:O,cx:w,cy:w,stroke:Me,strokeWidth:l,opacity:1,style:Ae,ref:function(gt){te[_e]=gt}})})};return M.createElement("svg",Nt({className:et("".concat(a,"-circle"),c),viewBox:"0 0 ".concat(Gy," ").concat(Gy),style:C,id:r,role:"presentation"},b),!U&&M.createElement("circle",{className:"".concat(a,"-circle-trail"),r:O,cx:w,cy:w,stroke:_,strokeLinecap:Z,strokeWidth:s||l,style:K}),U?q():ce())};function Rh(n){return!n||n<0?0:n>100?100:n}function ww(n){let{success:e,successPercent:t}=n,r=t;return e&&"progress"in e&&(r=e.progress),e&&"percent"in e&&(r=e.percent),r}const wJ=n=>{let{percent:e,success:t,successPercent:r}=n;const a=Rh(ww({success:t,successPercent:r}));return[a,Rh(Rh(e)-a)]},CJ=n=>{let{success:e={},strokeColor:t}=n;const{strokeColor:r}=e;return[r||Nv.green,t||null]},oE=(n,e,t)=>{var r,a,o,l;let s=-1,f=-1;if(e==="step"){const h=t.steps,v=t.strokeWidth;typeof n=="string"||typeof n>"u"?(s=n==="small"?2:14,f=v??8):typeof n=="number"?[s,f]=[n,n]:[s=14,f=8]=Array.isArray(n)?n:[n.width,n.height],s*=h}else if(e==="line"){const h=t==null?void 0:t.strokeWidth;typeof n=="string"||typeof n>"u"?f=h||(n==="small"?6:8):typeof n=="number"?[s,f]=[n,n]:[s=-1,f=8]=Array.isArray(n)?n:[n.width,n.height]}else(e==="circle"||e==="dashboard")&&(typeof n=="string"||typeof n>"u"?[s,f]=n==="small"?[60,60]:[120,120]:typeof n=="number"?[s,f]=[n,n]:Array.isArray(n)&&(s=(a=(r=n[0])!==null&&r!==void 0?r:n[1])!==null&&a!==void 0?a:120,f=(l=(o=n[0])!==null&&o!==void 0?o:n[1])!==null&&l!==void 0?l:120));return[s,f]},EJ=3,MJ=n=>EJ/n*100,TJ=n=>{const{prefixCls:e,trailColor:t=null,strokeLinecap:r="round",gapPosition:a,gapDegree:o,width:l=120,type:s,children:f,success:h,size:v=l,steps:_}=n,[x,C]=oE(v,"circle");let{strokeWidth:c}=n;c===void 0&&(c=Math.max(MJ(x),6));const p={width:x,height:C,fontSize:x*.15+6},m=M.useMemo(()=>{if(o||o===0)return o;if(s==="dashboard")return 75},[o,s]),b=wJ(n),w=a||s==="dashboard"&&"bottom"||void 0,A=Object.prototype.toString.call(n.strokeColor)==="[object Object]",R=CJ({success:h,strokeColor:n.strokeColor}),O=et(`${e}-inner`,{[`${e}-circle-gradient`]:A}),P=M.createElement(xJ,{steps:_,percent:_?b[1]:b,strokeWidth:c,trailWidth:c,strokeColor:_?R[1]:R,strokeLinecap:r,trailColor:t,prefixCls:e,gapDegree:m,gapPosition:w}),D=x<=20,F=M.createElement("div",{className:O,style:p},P,!D&&f);return D?M.createElement(Hl,{title:f},F):F},Cw="--progress-line-stroke-color",AF="--progress-percent",jP=n=>{const e=n?"100%":"-100%";return new ar(`antProgress${n?"RTL":"LTR"}Active`,{"0%":{transform:`translateX(${e}) scaleX(0)`,opacity:.1},"20%":{transform:`translateX(${e}) scaleX(0)`,opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}})},AJ=n=>{const{componentCls:e,iconCls:t}=n;return{[e]:Object.assign(Object.assign({},jc(n)),{display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:n.fontSize},[`${e}-outer`]:{display:"inline-flex",alignItems:"center",width:"100%"},[`${e}-inner`]:{position:"relative",display:"inline-block",width:"100%",flex:1,overflow:"hidden",verticalAlign:"middle",backgroundColor:n.remainingColor,borderRadius:n.lineBorderRadius},[`${e}-inner:not(${e}-circle-gradient)`]:{[`${e}-circle-path`]:{stroke:n.defaultColor}},[`${e}-success-bg, ${e}-bg`]:{position:"relative",background:n.defaultColor,borderRadius:n.lineBorderRadius,transition:`all ${n.motionDurationSlow} ${n.motionEaseInOutCirc}`},[`${e}-layout-bottom`]:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",[`${e}-text`]:{width:"max-content",marginInlineStart:0,marginTop:n.marginXXS}},[`${e}-bg`]:{overflow:"hidden","&::after":{content:'""',background:{_multi_value_:!0,value:["inherit",`var(${Cw})`]},height:"100%",width:`calc(1 / var(${AF}) * 100%)`,display:"block"},[`&${e}-bg-inner`]:{minWidth:"max-content","&::after":{content:"none"},[`${e}-text-inner`]:{color:n.colorWhite,[`&${e}-text-bright`]:{color:"rgba(0, 0, 0, 0.45)"}}}},[`${e}-success-bg`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:n.colorSuccess},[`${e}-text`]:{display:"inline-block",marginInlineStart:n.marginXS,color:n.colorText,lineHeight:1,width:"2em",whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal",[t]:{fontSize:n.fontSize},[`&${e}-text-outer`]:{width:"max-content"},[`&${e}-text-outer${e}-text-start`]:{width:"max-content",marginInlineStart:0,marginInlineEnd:n.marginXS}},[`${e}-text-inner`]:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",marginInlineStart:0,padding:`0 ${Ut(n.paddingXXS)}`,[`&${e}-text-start`]:{justifyContent:"start"},[`&${e}-text-end`]:{justifyContent:"end"}},[`&${e}-status-active`]:{[`${e}-bg::before`]:{position:"absolute",inset:0,backgroundColor:n.colorBgContainer,borderRadius:n.lineBorderRadius,opacity:0,animationName:jP(),animationDuration:n.progressActiveMotionDuration,animationTimingFunction:n.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'}},[`&${e}-rtl${e}-status-active`]:{[`${e}-bg::before`]:{animationName:jP(!0)}},[`&${e}-status-exception`]:{[`${e}-bg`]:{backgroundColor:n.colorError},[`${e}-text`]:{color:n.colorError}},[`&${e}-status-exception ${e}-inner:not(${e}-circle-gradient)`]:{[`${e}-circle-path`]:{stroke:n.colorError}},[`&${e}-status-success`]:{[`${e}-bg`]:{backgroundColor:n.colorSuccess},[`${e}-text`]:{color:n.colorSuccess}},[`&${e}-status-success ${e}-inner:not(${e}-circle-gradient)`]:{[`${e}-circle-path`]:{stroke:n.colorSuccess}}})}},RJ=n=>{const{componentCls:e,iconCls:t}=n;return{[e]:{[`${e}-circle-trail`]:{stroke:n.remainingColor},[`&${e}-circle ${e}-inner`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`&${e}-circle ${e}-text`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:n.circleTextColor,fontSize:n.circleTextFontSize,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[t]:{fontSize:n.circleIconFontSize}},[`${e}-circle&-status-exception`]:{[`${e}-text`]:{color:n.colorError}},[`${e}-circle&-status-success`]:{[`${e}-text`]:{color:n.colorSuccess}}},[`${e}-inline-circle`]:{lineHeight:1,[`${e}-inner`]:{verticalAlign:"bottom"}}}},OJ=n=>{const{componentCls:e}=n;return{[e]:{[`${e}-steps`]:{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:n.progressStepMinWidth,marginInlineEnd:n.progressStepMarginInlineEnd,backgroundColor:n.remainingColor,transition:`all ${n.motionDurationSlow}`,"&-active":{backgroundColor:n.defaultColor}}}}}},IJ=n=>{const{componentCls:e,iconCls:t}=n;return{[e]:{[`${e}-small&-line, ${e}-small&-line ${e}-text ${t}`]:{fontSize:n.fontSizeSM}}}},zJ=n=>({circleTextColor:n.colorText,defaultColor:n.colorInfo,remainingColor:n.colorFillSecondary,lineBorderRadius:100,circleTextFontSize:"1em",circleIconFontSize:`${n.fontSize/n.fontSizeSM}em`}),PJ=ma("Progress",n=>{const e=n.calc(n.marginXXS).div(2).equal(),t=gr(n,{progressStepMarginInlineEnd:e,progressStepMinWidth:e,progressActiveMotionDuration:"2.4s"});return[AJ(t),RJ(t),OJ(t),IJ(t)]},zJ);var DJ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const LJ=n=>{let e=[];return Object.keys(n).forEach(t=>{const r=parseFloat(t.replace(/%/g,""));Number.isNaN(r)||e.push({key:r,value:n[t]})}),e=e.sort((t,r)=>t.key-r.key),e.map(t=>{let{key:r,value:a}=t;return`${a} ${r}%`}).join(", ")},NJ=(n,e)=>{const{from:t=Nv.blue,to:r=Nv.blue,direction:a=e==="rtl"?"to left":"to right"}=n,o=DJ(n,["from","to","direction"]);if(Object.keys(o).length!==0){const s=LJ(o),f=`linear-gradient(${a}, ${s})`;return{background:f,[Cw]:f}}const l=`linear-gradient(${a}, ${t}, ${r})`;return{background:l,[Cw]:l}},UJ=n=>{const{prefixCls:e,direction:t,percent:r,size:a,strokeWidth:o,strokeColor:l,strokeLinecap:s="round",children:f,trailColor:h=null,percentPosition:v,success:_}=n,{align:x,type:C}=v,c=l&&typeof l!="string"?NJ(l,t):{[Cw]:l,background:l},p=s==="square"||s==="butt"?0:void 0,m=a??[-1,o||(a==="small"?6:8)],[b,w]=oE(m,"line",{strokeWidth:o}),A={backgroundColor:h||void 0,borderRadius:p},R=Object.assign(Object.assign({width:`${Rh(r)}%`,height:w,borderRadius:p},c),{[AF]:Rh(r)/100}),O=ww(n),P={width:`${Rh(O)}%`,height:w,borderRadius:p,backgroundColor:_==null?void 0:_.strokeColor},D={width:b<0?"100%":b},F=M.createElement("div",{className:`${e}-inner`,style:A},M.createElement("div",{className:et(`${e}-bg`,`${e}-bg-${C}`),style:R},C==="inner"&&f),O!==void 0&&M.createElement("div",{className:`${e}-success-bg`,style:P})),B=C==="outer"&&x==="start",U=C==="outer"&&x==="end";return C==="outer"&&x==="center"?M.createElement("div",{className:`${e}-layout-bottom`},F,f):M.createElement("div",{className:`${e}-outer`,style:D},B&&f,F,U&&f)},BJ=n=>{const{size:e,steps:t,rounding:r=Math.round,percent:a=0,strokeWidth:o=8,strokeColor:l,trailColor:s=null,prefixCls:f,children:h}=n,v=r(t*(a/100)),x=e??[e==="small"?2:14,o],[C,c]=oE(x,"step",{steps:t,strokeWidth:o}),p=C/t,m=Array.from({length:t});for(let b=0;b<t;b++){const w=Array.isArray(l)?l[b]:l;m[b]=M.createElement("div",{key:b,className:et(`${f}-steps-item`,{[`${f}-steps-item-active`]:b<=v-1}),style:{backgroundColor:b<=v-1?w:s,width:p,height:c}})}return M.createElement("div",{className:`${f}-steps-outer`},m,h)};var FJ=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const HJ=["normal","exception","active","success"],kJ=M.forwardRef((n,e)=>{const{prefixCls:t,className:r,rootClassName:a,steps:o,strokeColor:l,percent:s=0,size:f="default",showInfo:h=!0,type:v="line",status:_,format:x,style:C,percentPosition:c={}}=n,p=FJ(n,["prefixCls","className","rootClassName","steps","strokeColor","percent","size","showInfo","type","status","format","style","percentPosition"]),{align:m="end",type:b="outer"}=c,w=Array.isArray(l)?l[0]:l,A=typeof l=="string"||Array.isArray(l)?l:void 0,R=M.useMemo(()=>{if(w){const ce=typeof w=="string"?w:Object.values(w)[0];return new Vi(ce).isLight()}return!1},[l]),O=M.useMemo(()=>{var ce,q;const J=ww(n);return parseInt(J!==void 0?(ce=J??0)===null||ce===void 0?void 0:ce.toString():(q=s??0)===null||q===void 0?void 0:q.toString(),10)},[s,n.success,n.successPercent]),P=M.useMemo(()=>!HJ.includes(_)&&O>=100?"success":_||"normal",[_,O]),{getPrefixCls:D,direction:F,progress:B}=M.useContext(ei),U=D("progress",t),[V,Q,X]=PJ(U),ee=v==="line",ae=ee&&!o,Z=M.useMemo(()=>{if(!h)return null;const ce=ww(n);let q;const J=x||(ue=>`${ue}%`),he=ee&&R&&b==="inner";return b==="inner"||x||P!=="exception"&&P!=="success"?q=J(Rh(s),Rh(ce)):P==="exception"?q=ee?M.createElement(IC,null):M.createElement(u0,null):P==="success"&&(q=ee?M.createElement(NR,null):M.createElement(s$,null)),M.createElement("span",{className:et(`${U}-text`,{[`${U}-text-bright`]:he,[`${U}-text-${m}`]:ae,[`${U}-text-${b}`]:ae}),title:typeof q=="string"?q:void 0},q)},[h,s,O,P,v,U,x]);let K;v==="line"?K=o?M.createElement(BJ,Object.assign({},n,{strokeColor:A,prefixCls:U,steps:typeof o=="object"?o.count:o}),Z):M.createElement(UJ,Object.assign({},n,{strokeColor:w,prefixCls:U,direction:F,percentPosition:{align:m,type:b}}),Z):(v==="circle"||v==="dashboard")&&(K=M.createElement(TJ,Object.assign({},n,{strokeColor:w,prefixCls:U,progressStatus:P}),Z));const te=et(U,`${U}-status-${P}`,{[`${U}-${v==="dashboard"&&"circle"||v}`]:v!=="line",[`${U}-inline-circle`]:v==="circle"&&oE(f,"circle")[0]<=20,[`${U}-line`]:ae,[`${U}-line-align-${m}`]:ae,[`${U}-line-position-${b}`]:ae,[`${U}-steps`]:o,[`${U}-show-info`]:h,[`${U}-${f}`]:typeof f=="string",[`${U}-rtl`]:F==="rtl"},B==null?void 0:B.className,r,a,Q,X);return V(M.createElement("div",Object.assign({ref:e,style:Object.assign(Object.assign({},B==null?void 0:B.style),C),className:te,role:"progressbar","aria-valuenow":O,"aria-valuemin":0,"aria-valuemax":100},Uo(p,["trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"])),K))});function $J(n){if(n==null)throw new TypeError("Cannot destructure "+n)}const hT=function(n,e){if(n&&e){var t=Array.isArray(e)?e:e.split(","),r=n.name||"",a=n.type||"",o=a.replace(/\/.*$/,"");return t.some(function(l){var s=l.trim();if(/^\*(\/\*)?$/.test(l))return!0;if(s.charAt(0)==="."){var f=r.toLowerCase(),h=s.toLowerCase(),v=[h];return(h===".jpg"||h===".jpeg")&&(v=[".jpg",".jpeg"]),v.some(function(_){return f.endsWith(_)})}return/\/\*$/.test(s)?o===s.replace(/\/.*$/,""):a===s?!0:/^\w+$/.test(s)?(Po(!1,"Upload takes an invalidate 'accept' type '".concat(s,"'.Skip for check.")),!0):!1})}return!0};function VJ(n,e){var t="cannot ".concat(n.method," ").concat(n.action," ").concat(e.status,"'"),r=new Error(t);return r.status=e.status,r.method=n.method,r.url=n.action,r}function WP(n){var e=n.responseText||n.response;if(!e)return e;try{return JSON.parse(e)}catch{return e}}function GJ(n){var e=new XMLHttpRequest;n.onProgress&&e.upload&&(e.upload.onprogress=function(o){o.total>0&&(o.percent=o.loaded/o.total*100),n.onProgress(o)});var t=new FormData;n.data&&Object.keys(n.data).forEach(function(a){var o=n.data[a];if(Array.isArray(o)){o.forEach(function(l){t.append("".concat(a,"[]"),l)});return}t.append(a,o)}),n.file instanceof Blob?t.append(n.filename,n.file,n.file.name):t.append(n.filename,n.file),e.onerror=function(o){n.onError(o)},e.onload=function(){return e.status<200||e.status>=300?n.onError(VJ(n,e),WP(e)):n.onSuccess(WP(e),e)},e.open(n.method,n.action,!0),n.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);var r=n.headers||{};return r["X-Requested-With"]!==null&&e.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(r).forEach(function(a){r[a]!==null&&e.setRequestHeader(a,r[a])}),e.send(t),{abort:function(){e.abort()}}}var jJ=function(){var n=il(Sr().mark(function e(t,r){var a,o,l,s,f,h,v,_;return Sr().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:h=function(){return h=il(Sr().mark(function p(m){return Sr().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.abrupt("return",new Promise(function(A){m.file(function(R){r(R)?(m.fullPath&&!R.webkitRelativePath&&(Object.defineProperties(R,{webkitRelativePath:{writable:!0}}),R.webkitRelativePath=m.fullPath.replace(/^\//,""),Object.defineProperties(R,{webkitRelativePath:{writable:!1}})),A(R)):A(null)})}));case 1:case"end":return w.stop()}},p)})),h.apply(this,arguments)},f=function(p){return h.apply(this,arguments)},s=function(){return s=il(Sr().mark(function p(m){var b,w,A,R,O;return Sr().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:b=m.createReader(),w=[];case 2:return D.next=5,new Promise(function(F){b.readEntries(F,function(){return F([])})});case 5:if(A=D.sent,R=A.length,R){D.next=9;break}return D.abrupt("break",12);case 9:for(O=0;O<R;O++)w.push(A[O]);D.next=2;break;case 12:return D.abrupt("return",w);case 13:case"end":return D.stop()}},p)})),s.apply(this,arguments)},l=function(p){return s.apply(this,arguments)},a=[],o=[],t.forEach(function(c){return o.push(c.webkitGetAsEntry())}),v=function(){var c=il(Sr().mark(function p(m,b){var w,A;return Sr().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(m){O.next=2;break}return O.abrupt("return");case 2:if(m.path=b||"",!m.isFile){O.next=10;break}return O.next=6,f(m);case 6:w=O.sent,w&&a.push(w),O.next=15;break;case 10:if(!m.isDirectory){O.next=15;break}return O.next=13,l(m);case 13:A=O.sent,o.push.apply(o,Qt(A));case 15:case"end":return O.stop()}},p)}));return function(m,b){return c.apply(this,arguments)}}(),_=0;case 9:if(!(_<o.length)){C.next=15;break}return C.next=12,v(o[_]);case 12:_++,C.next=9;break;case 15:return C.abrupt("return",a);case 16:case"end":return C.stop()}},e)}));return function(t,r){return n.apply(this,arguments)}}(),WJ=+new Date,XJ=0;function pT(){return"rc-upload-".concat(WJ,"-").concat(++XJ)}var YJ=["component","prefixCls","className","classNames","disabled","id","name","style","styles","multiple","accept","capture","children","directory","openFileDialogOnClick","onMouseEnter","onMouseLeave","hasControlInside"],qJ=function(n){Ar(t,n);var e=Gc(t);function t(){var r;si(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o)),de(Ln(r),"state",{uid:pT()}),de(Ln(r),"reqs",{}),de(Ln(r),"fileInput",void 0),de(Ln(r),"_isMounted",void 0),de(Ln(r),"onChange",function(s){var f=r.props,h=f.accept,v=f.directory,_=s.target.files,x=Qt(_).filter(function(C){return!v||hT(C,h)});r.uploadFiles(x),r.reset()}),de(Ln(r),"onClick",function(s){var f=r.fileInput;if(f){var h=s.target,v=r.props.onClick;if(h&&h.tagName==="BUTTON"){var _=f.parentNode;_.focus(),h.blur()}f.click(),v&&v(s)}}),de(Ln(r),"onKeyDown",function(s){s.key==="Enter"&&r.onClick(s)}),de(Ln(r),"onFileDrop",function(){var s=il(Sr().mark(function f(h){var v,_,x;return Sr().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(v=r.props.multiple,h.preventDefault(),h.type!=="dragover"){c.next=4;break}return c.abrupt("return");case 4:if(!r.props.directory){c.next=11;break}return c.next=7,jJ(Array.prototype.slice.call(h.dataTransfer.items),function(p){return hT(p,r.props.accept)});case 7:_=c.sent,r.uploadFiles(_),c.next=14;break;case 11:x=Qt(h.dataTransfer.files).filter(function(p){return hT(p,r.props.accept)}),v===!1&&(x=x.slice(0,1)),r.uploadFiles(x);case 14:case"end":return c.stop()}},f)}));return function(f){return s.apply(this,arguments)}}()),de(Ln(r),"uploadFiles",function(s){var f=Qt(s),h=f.map(function(v){return v.uid=pT(),r.processFile(v,f)});Promise.all(h).then(function(v){var _=r.props.onBatchStart;_==null||_(v.map(function(x){var C=x.origin,c=x.parsedFile;return{file:C,parsedFile:c}})),v.filter(function(x){return x.parsedFile!==null}).forEach(function(x){r.post(x)})})}),de(Ln(r),"processFile",function(){var s=il(Sr().mark(function f(h,v){var _,x,C,c,p,m,b,w,A;return Sr().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(_=r.props.beforeUpload,x=h,!_){O.next=14;break}return O.prev=3,O.next=6,_(h,v);case 6:x=O.sent,O.next=12;break;case 9:O.prev=9,O.t0=O.catch(3),x=!1;case 12:if(x!==!1){O.next=14;break}return O.abrupt("return",{origin:h,parsedFile:null,action:null,data:null});case 14:if(C=r.props.action,typeof C!="function"){O.next=21;break}return O.next=18,C(h);case 18:c=O.sent,O.next=22;break;case 21:c=C;case 22:if(p=r.props.data,typeof p!="function"){O.next=29;break}return O.next=26,p(h);case 26:m=O.sent,O.next=30;break;case 29:m=p;case 30:return b=(yn(x)==="object"||typeof x=="string")&&x?x:h,b instanceof File?w=b:w=new File([b],h.name,{type:h.type}),A=w,A.uid=h.uid,O.abrupt("return",{origin:h,data:m,parsedFile:A,action:c});case 35:case"end":return O.stop()}},f,null,[[3,9]])}));return function(f,h){return s.apply(this,arguments)}}()),de(Ln(r),"saveFileInput",function(s){r.fileInput=s}),r}return li(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.abort()}},{key:"post",value:function(a){var o=this,l=a.data,s=a.origin,f=a.action,h=a.parsedFile;if(this._isMounted){var v=this.props,_=v.onStart,x=v.customRequest,C=v.name,c=v.headers,p=v.withCredentials,m=v.method,b=s.uid,w=x||GJ,A={action:f,filename:C,data:l,file:h,headers:c,withCredentials:p,method:m||"post",onProgress:function(O){var P=o.props.onProgress;P==null||P(O,h)},onSuccess:function(O,P){var D=o.props.onSuccess;D==null||D(O,h,P),delete o.reqs[b]},onError:function(O,P){var D=o.props.onError;D==null||D(O,P,h),delete o.reqs[b]}};_(s),this.reqs[b]=w(A)}}},{key:"reset",value:function(){this.setState({uid:pT()})}},{key:"abort",value:function(a){var o=this.reqs;if(a){var l=a.uid?a.uid:a;o[l]&&o[l].abort&&o[l].abort(),delete o[l]}else Object.keys(o).forEach(function(s){o[s]&&o[s].abort&&o[s].abort(),delete o[s]})}},{key:"render",value:function(){var a=this.props,o=a.component,l=a.prefixCls,s=a.className,f=a.classNames,h=f===void 0?{}:f,v=a.disabled,_=a.id,x=a.name,C=a.style,c=a.styles,p=c===void 0?{}:c,m=a.multiple,b=a.accept,w=a.capture,A=a.children,R=a.directory,O=a.openFileDialogOnClick,P=a.onMouseEnter,D=a.onMouseLeave,F=a.hasControlInside,B=jn(a,YJ),U=et(de(de(de({},l,!0),"".concat(l,"-disabled"),v),s,s)),V=R?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},Q=v?{}:{onClick:O?this.onClick:function(){},onKeyDown:O?this.onKeyDown:function(){},onMouseEnter:P,onMouseLeave:D,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,tabIndex:F?void 0:"0"};return We.createElement(o,Nt({},Q,{className:U,role:F?void 0:"button",style:C}),We.createElement("input",Nt({},h0(B,{aria:!0,data:!0}),{id:_,name:x,disabled:v,type:"file",ref:this.saveFileInput,onClick:function(ee){return ee.stopPropagation()},key:this.state.uid,style:Ne({display:"none"},p.input),className:h.input,accept:b},V,{multiple:m,onChange:this.onChange},w!=null?{capture:w}:{})),A)}}]),t}(M.Component);function mT(){}var B2=function(n){Ar(t,n);var e=Gc(t);function t(){var r;si(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o)),de(Ln(r),"uploader",void 0),de(Ln(r),"saveUploader",function(s){r.uploader=s}),r}return li(t,[{key:"abort",value:function(a){this.uploader.abort(a)}},{key:"render",value:function(){return We.createElement(qJ,Nt({},this.props,{ref:this.saveUploader}))}}]),t}(M.Component);de(B2,"defaultProps",{component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:mT,onError:mT,onSuccess:mT,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0,hasControlInside:!1});const ZJ=n=>{const{componentCls:e,iconCls:t}=n;return{[`${e}-wrapper`]:{[`${e}-drag`]:{position:"relative",width:"100%",height:"100%",textAlign:"center",background:n.colorFillAlter,border:`${Ut(n.lineWidth)} dashed ${n.colorBorder}`,borderRadius:n.borderRadiusLG,cursor:"pointer",transition:`border-color ${n.motionDurationSlow}`,[e]:{padding:n.padding},[`${e}-btn`]:{display:"table",width:"100%",height:"100%",outline:"none",borderRadius:n.borderRadiusLG,"&:focus-visible":{outline:`${Ut(n.lineWidthFocus)} solid ${n.colorPrimaryBorder}`}},[`${e}-drag-container`]:{display:"table-cell",verticalAlign:"middle"},[`
          &:not(${e}-disabled):hover,
          &-hover:not(${e}-disabled)
        `]:{borderColor:n.colorPrimaryHover},[`p${e}-drag-icon`]:{marginBottom:n.margin,[t]:{color:n.colorPrimary,fontSize:n.uploadThumbnailSize}},[`p${e}-text`]:{margin:`0 0 ${Ut(n.marginXXS)}`,color:n.colorTextHeading,fontSize:n.fontSizeLG},[`p${e}-hint`]:{color:n.colorTextDescription,fontSize:n.fontSize},[`&${e}-disabled`]:{[`p${e}-drag-icon ${t},
            p${e}-text,
            p${e}-hint
          `]:{color:n.colorTextDisabled}}}}}},KJ=n=>{const{componentCls:e,iconCls:t,fontSize:r,lineHeight:a,calc:o}=n,l=`${e}-list-item`,s=`${l}-actions`,f=`${l}-action`;return{[`${e}-wrapper`]:{[`${e}-list`]:Object.assign(Object.assign({},Zv()),{lineHeight:n.lineHeight,[l]:{position:"relative",height:o(n.lineHeight).mul(r).equal(),marginTop:n.marginXS,fontSize:r,display:"flex",alignItems:"center",transition:`background-color ${n.motionDurationSlow}`,borderRadius:n.borderRadiusSM,"&:hover":{backgroundColor:n.controlItemBgHover},[`${l}-name`]:Object.assign(Object.assign({},BC),{padding:`0 ${Ut(n.paddingXS)}`,lineHeight:a,flex:"auto",transition:`all ${n.motionDurationSlow}`}),[s]:{whiteSpace:"nowrap",[f]:{opacity:0},[t]:{color:n.actionsColor,transition:`all ${n.motionDurationSlow}`},[`
              ${f}:focus-visible,
              &.picture ${f}
            `]:{opacity:1}},[`${e}-icon ${t}`]:{color:n.colorTextDescription,fontSize:r},[`${l}-progress`]:{position:"absolute",bottom:n.calc(n.uploadProgressOffset).mul(-1).equal(),width:"100%",paddingInlineStart:o(r).add(n.paddingXS).equal(),fontSize:r,lineHeight:0,pointerEvents:"none","> div":{margin:0}}},[`${l}:hover ${f}`]:{opacity:1},[`${l}-error`]:{color:n.colorError,[`${l}-name, ${e}-icon ${t}`]:{color:n.colorError},[s]:{[`${t}, ${t}:hover`]:{color:n.colorError},[f]:{opacity:1}}},[`${e}-list-item-container`]:{transition:`opacity ${n.motionDurationSlow}, height ${n.motionDurationSlow}`,"&::before":{display:"table",width:0,height:0,content:'""'}}})}}},QJ=n=>{const{componentCls:e}=n,t=new ar("uploadAnimateInlineIn",{from:{width:0,height:0,padding:0,opacity:0,margin:n.calc(n.marginXS).div(-2).equal()}}),r=new ar("uploadAnimateInlineOut",{to:{width:0,height:0,padding:0,opacity:0,margin:n.calc(n.marginXS).div(-2).equal()}}),a=`${e}-animate-inline`;return[{[`${e}-wrapper`]:{[`${a}-appear, ${a}-enter, ${a}-leave`]:{animationDuration:n.motionDurationSlow,animationTimingFunction:n.motionEaseInOutCirc,animationFillMode:"forwards"},[`${a}-appear, ${a}-enter`]:{animationName:t},[`${a}-leave`]:{animationName:r}}},{[`${e}-wrapper`]:eO(n)},t,r]},JJ=n=>{const{componentCls:e,iconCls:t,uploadThumbnailSize:r,uploadProgressOffset:a,calc:o}=n,l=`${e}-list`,s=`${l}-item`;return{[`${e}-wrapper`]:{[`
        ${l}${l}-picture,
        ${l}${l}-picture-card,
        ${l}${l}-picture-circle
      `]:{[s]:{position:"relative",height:o(r).add(o(n.lineWidth).mul(2)).add(o(n.paddingXS).mul(2)).equal(),padding:n.paddingXS,border:`${Ut(n.lineWidth)} ${n.lineType} ${n.colorBorder}`,borderRadius:n.borderRadiusLG,"&:hover":{background:"transparent"},[`${s}-thumbnail`]:Object.assign(Object.assign({},BC),{width:r,height:r,lineHeight:Ut(o(r).add(n.paddingSM).equal()),textAlign:"center",flex:"none",[t]:{fontSize:n.fontSizeHeading2,color:n.colorPrimary},img:{display:"block",width:"100%",height:"100%",overflow:"hidden"}}),[`${s}-progress`]:{bottom:a,width:`calc(100% - ${Ut(o(n.paddingSM).mul(2).equal())})`,marginTop:0,paddingInlineStart:o(r).add(n.paddingXS).equal()}},[`${s}-error`]:{borderColor:n.colorError,[`${s}-thumbnail ${t}`]:{[`svg path[fill='${$v[0]}']`]:{fill:n.colorErrorBg},[`svg path[fill='${$v.primary}']`]:{fill:n.colorError}}},[`${s}-uploading`]:{borderStyle:"dashed",[`${s}-name`]:{marginBottom:a}}},[`${l}${l}-picture-circle ${s}`]:{[`&, &::before, ${s}-thumbnail`]:{borderRadius:"50%"}}}}},eee=n=>{const{componentCls:e,iconCls:t,fontSizeLG:r,colorTextLightSolid:a,calc:o}=n,l=`${e}-list`,s=`${l}-item`,f=n.uploadPicCardSize;return{[`
      ${e}-wrapper${e}-picture-card-wrapper,
      ${e}-wrapper${e}-picture-circle-wrapper
    `]:Object.assign(Object.assign({},Zv()),{display:"block",[`${e}${e}-select`]:{width:f,height:f,textAlign:"center",verticalAlign:"top",backgroundColor:n.colorFillAlter,border:`${Ut(n.lineWidth)} dashed ${n.colorBorder}`,borderRadius:n.borderRadiusLG,cursor:"pointer",transition:`border-color ${n.motionDurationSlow}`,[`> ${e}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center"},[`&:not(${e}-disabled):hover`]:{borderColor:n.colorPrimary}},[`${l}${l}-picture-card, ${l}${l}-picture-circle`]:{display:"flex",flexWrap:"wrap","@supports not (gap: 1px)":{"& > *":{marginBlockEnd:n.marginXS,marginInlineEnd:n.marginXS}},"@supports (gap: 1px)":{gap:n.marginXS},[`${l}-item-container`]:{display:"inline-block",width:f,height:f,verticalAlign:"top"},"&::after":{display:"none"},"&::before":{display:"none"},[s]:{height:"100%",margin:0,"&::before":{position:"absolute",zIndex:1,width:`calc(100% - ${Ut(o(n.paddingXS).mul(2).equal())})`,height:`calc(100% - ${Ut(o(n.paddingXS).mul(2).equal())})`,backgroundColor:n.colorBgMask,opacity:0,transition:`all ${n.motionDurationSlow}`,content:'" "'}},[`${s}:hover`]:{[`&::before, ${s}-actions`]:{opacity:1}},[`${s}-actions`]:{position:"absolute",insetInlineStart:0,zIndex:10,width:"100%",whiteSpace:"nowrap",textAlign:"center",opacity:0,transition:`all ${n.motionDurationSlow}`,[`
            ${t}-eye,
            ${t}-download,
            ${t}-delete
          `]:{zIndex:10,width:r,margin:`0 ${Ut(n.marginXXS)}`,fontSize:r,cursor:"pointer",transition:`all ${n.motionDurationSlow}`,color:a,"&:hover":{color:a},svg:{verticalAlign:"baseline"}}},[`${s}-thumbnail, ${s}-thumbnail img`]:{position:"static",display:"block",width:"100%",height:"100%",objectFit:"contain"},[`${s}-name`]:{display:"none",textAlign:"center"},[`${s}-file + ${s}-name`]:{position:"absolute",bottom:n.margin,display:"block",width:`calc(100% - ${Ut(o(n.paddingXS).mul(2).equal())})`},[`${s}-uploading`]:{[`&${s}`]:{backgroundColor:n.colorFillAlter},[`&::before, ${t}-eye, ${t}-download, ${t}-delete`]:{display:"none"}},[`${s}-progress`]:{bottom:n.marginXL,width:`calc(100% - ${Ut(o(n.paddingXS).mul(2).equal())})`,paddingInlineStart:0}}}),[`${e}-wrapper${e}-picture-circle-wrapper`]:{[`${e}${e}-select`]:{borderRadius:"50%"}}}},tee=n=>{const{componentCls:e}=n;return{[`${e}-rtl`]:{direction:"rtl"}}},nee=n=>{const{componentCls:e,colorTextDisabled:t}=n;return{[`${e}-wrapper`]:Object.assign(Object.assign({},jc(n)),{[e]:{outline:0,"input[type='file']":{cursor:"pointer"}},[`${e}-select`]:{display:"inline-block"},[`${e}-hidden`]:{display:"none"},[`${e}-disabled`]:{color:t,cursor:"not-allowed"}})}},iee=n=>({actionsColor:n.colorTextDescription}),ree=ma("Upload",n=>{const{fontSizeHeading3:e,fontHeight:t,lineWidth:r,controlHeightLG:a,calc:o}=n,l=gr(n,{uploadThumbnailSize:o(e).mul(2).equal(),uploadProgressOffset:o(o(t).div(2)).add(r).equal(),uploadPicCardSize:o(a).mul(2.55).equal()});return[nee(l),ZJ(l),JJ(l),eee(l),KJ(l),QJ(l),tee(l),NB(l)]},iee);function ax(n){return Object.assign(Object.assign({},n),{lastModified:n.lastModified,lastModifiedDate:n.lastModifiedDate,name:n.name,size:n.size,type:n.type,uid:n.uid,percent:0,originFileObj:n})}function ox(n,e){const t=Qt(e),r=t.findIndex(a=>{let{uid:o}=a;return o===n.uid});return r===-1?t.push(n):t[r]=n,t}function gT(n,e){const t=n.uid!==void 0?"uid":"name";return e.filter(r=>r[t]===n[t])[0]}function aee(n,e){const t=n.uid!==void 0?"uid":"name",r=e.filter(a=>a[t]!==n[t]);return r.length===e.length?null:r}const oee=function(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").split("/"),r=e[e.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(r)||[""])[0]},RF=n=>n.indexOf("image/")===0,see=n=>{if(n.type&&!n.thumbUrl)return RF(n.type);const e=n.thumbUrl||n.url||"",t=oee(e);return/^data:image\//.test(e)||/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(t)?!0:!(/^data:/.test(e)||t)},th=200;function lee(n){return new Promise(e=>{if(!n.type||!RF(n.type)){e("");return}const t=document.createElement("canvas");t.width=th,t.height=th,t.style.cssText=`position: fixed; left: 0; top: 0; width: ${th}px; height: ${th}px; z-index: 9999; display: none;`,document.body.appendChild(t);const r=t.getContext("2d"),a=new Image;if(a.onload=()=>{const{width:o,height:l}=a;let s=th,f=th,h=0,v=0;o>l?(f=l*(th/o),v=-(f-s)/2):(s=o*(th/l),h=-(s-f)/2),r.drawImage(a,h,v,s,f);const _=t.toDataURL();document.body.removeChild(t),window.URL.revokeObjectURL(a.src),e(_)},a.crossOrigin="anonymous",n.type.startsWith("image/svg+xml")){const o=new FileReader;o.onload=()=>{o.result&&typeof o.result=="string"&&(a.src=o.result)},o.readAsDataURL(n)}else if(n.type.startsWith("image/gif")){const o=new FileReader;o.onload=()=>{o.result&&e(o.result)},o.readAsDataURL(n)}else a.src=window.URL.createObjectURL(n)})}const cee=M.forwardRef((n,e)=>{let{prefixCls:t,className:r,style:a,locale:o,listType:l,file:s,items:f,progress:h,iconRender:v,actionIconRender:_,itemRender:x,isImgUrl:C,showPreviewIcon:c,showRemoveIcon:p,showDownloadIcon:m,previewIcon:b,removeIcon:w,downloadIcon:A,extra:R,onPreview:O,onDownload:P,onClose:D}=n;var F,B;const{status:U}=s,[V,Q]=M.useState(U);M.useEffect(()=>{U!=="removed"&&Q(U)},[U]);const[X,ee]=M.useState(!1);M.useEffect(()=>{const we=setTimeout(()=>{ee(!0)},300);return()=>{clearTimeout(we)}},[]);const ae=v(s);let Z=M.createElement("div",{className:`${t}-icon`},ae);if(l==="picture"||l==="picture-card"||l==="picture-circle")if(V==="uploading"||!s.thumbUrl&&!s.url){const we=et(`${t}-list-item-thumbnail`,{[`${t}-list-item-file`]:V!=="uploading"});Z=M.createElement("div",{className:we},ae)}else{const we=C!=null&&C(s)?M.createElement("img",{src:s.thumbUrl||s.url,alt:s.name,className:`${t}-list-item-image`,crossOrigin:s.crossOrigin}):ae,re=et(`${t}-list-item-thumbnail`,{[`${t}-list-item-file`]:C&&!C(s)});Z=M.createElement("a",{className:re,onClick:Fe=>O(s,Fe),href:s.url||s.thumbUrl,target:"_blank",rel:"noopener noreferrer"},we)}const K=et(`${t}-list-item`,`${t}-list-item-${V}`),te=typeof s.linkProps=="string"?JSON.parse(s.linkProps):s.linkProps,ce=(typeof p=="function"?p(s):p)?_((typeof w=="function"?w(s):w)||M.createElement(fU,null),()=>D(s),t,o.removeFile,!0):null,q=(typeof m=="function"?m(s):m)&&V==="done"?_((typeof A=="function"?A(s):A)||M.createElement(g$,null),()=>P(s),t,o.downloadFile):null,J=l!=="picture-card"&&l!=="picture-circle"&&M.createElement("span",{key:"download-delete",className:et(`${t}-list-item-actions`,{picture:l==="picture"})},q,ce),he=typeof R=="function"?R(s):R,ue=he&&M.createElement("span",{className:`${t}-list-item-extra`},he),j=et(`${t}-list-item-name`),pe=s.url?M.createElement("a",Object.assign({key:"view",target:"_blank",rel:"noopener noreferrer",className:j,title:s.name},te,{href:s.url,onClick:we=>O(s,we)}),s.name,ue):M.createElement("span",{key:"view",className:j,onClick:we=>O(s,we),title:s.name},s.name,ue),_e=(typeof c=="function"?c(s):c)&&(s.url||s.thumbUrl)?M.createElement("a",{href:s.url||s.thumbUrl,target:"_blank",rel:"noopener noreferrer",onClick:we=>O(s,we),title:o.previewFile},typeof b=="function"?b(s):b||M.createElement(UR,null)):null,Re=(l==="picture-card"||l==="picture-circle")&&V!=="uploading"&&M.createElement("span",{className:`${t}-list-item-actions`},_e,V==="done"&&q,ce),{getPrefixCls:Me}=M.useContext(ei),Ae=Me(),Ue=M.createElement("div",{className:K},Z,pe,J,Re,X&&M.createElement(Wc,{motionName:`${Ae}-fade`,visible:V==="uploading",motionDeadline:2e3},we=>{let{className:re}=we;const Fe="percent"in s?M.createElement(kJ,Object.assign({},h,{type:"line",percent:s.percent,"aria-label":s["aria-label"],"aria-labelledby":s["aria-labelledby"]})):null;return M.createElement("div",{className:et(`${t}-list-item-progress`,re)},Fe)})),gt=s.response&&typeof s.response=="string"?s.response:((F=s.error)===null||F===void 0?void 0:F.statusText)||((B=s.error)===null||B===void 0?void 0:B.message)||o.uploadError,ze=V==="error"?M.createElement(Hl,{title:gt,getPopupContainer:we=>we.parentNode},Ue):Ue;return M.createElement("div",{className:et(`${t}-list-item-container`,r),style:a,ref:e},x?x(ze,s,f,{download:P.bind(null,s),preview:O.bind(null,s),remove:D.bind(null,s)}):ze)}),uee=(n,e)=>{const{listType:t="text",previewFile:r=lee,onPreview:a,onDownload:o,onRemove:l,locale:s,iconRender:f,isImageUrl:h=see,prefixCls:v,items:_=[],showPreviewIcon:x=!0,showRemoveIcon:C=!0,showDownloadIcon:c=!1,removeIcon:p,previewIcon:m,downloadIcon:b,extra:w,progress:A={size:[-1,2],showInfo:!1},appendAction:R,appendActionVisible:O=!0,itemRender:P,disabled:D}=n,F=S4(),[B,U]=M.useState(!1),V=["picture-card","picture-circle"].includes(t);M.useEffect(()=>{t.startsWith("picture")&&(_||[]).forEach(ue=>{!(ue.originFileObj instanceof File||ue.originFileObj instanceof Blob)||ue.thumbUrl!==void 0||(ue.thumbUrl="",r==null||r(ue.originFileObj).then(j=>{ue.thumbUrl=j||"",F()}))})},[t,_,r]),M.useEffect(()=>{U(!0)},[]);const Q=(ue,j)=>{if(a)return j==null||j.preventDefault(),a(ue)},X=ue=>{typeof o=="function"?o(ue):ue.url&&window.open(ue.url)},ee=ue=>{l==null||l(ue)},ae=ue=>{if(f)return f(ue,t);const j=ue.status==="uploading";if(t.startsWith("picture")){const pe=t==="picture"?M.createElement(lw,null):s.uploading,_e=h!=null&&h(ue)?M.createElement(X$,null):M.createElement(z$,null);return j?pe:_e}return j?M.createElement(lw,null):M.createElement(k$,null)},Z=(ue,j,pe,_e,Re)=>{const Me={type:"text",size:"small",title:_e,onClick:Ae=>{var Ue,gt;j(),M.isValidElement(ue)&&((gt=(Ue=ue.props).onClick)===null||gt===void 0||gt.call(Ue,Ae))},className:`${pe}-list-item-action`};return Re&&(Me.disabled=D),M.isValidElement(ue)?M.createElement(uo,Object.assign({},Me,{icon:sl(ue,Object.assign(Object.assign({},ue.props),{onClick:()=>{}}))})):M.createElement(uo,Object.assign({},Me),M.createElement("span",null,ue))};M.useImperativeHandle(e,()=>({handlePreview:Q,handleDownload:X}));const{getPrefixCls:K}=M.useContext(ei),te=K("upload",v),ce=K(),q=et(`${te}-list`,`${te}-list-${t}`),J=M.useMemo(()=>Uo(OB(ce),["onAppearEnd","onEnterEnd","onLeaveEnd"]),[ce]),he=Object.assign(Object.assign({},V?{}:J),{motionDeadline:2e3,motionName:`${te}-${V?"animate-inline":"animate"}`,keys:Qt(_.map(ue=>({key:ue.uid,file:ue}))),motionAppear:B});return M.createElement("div",{className:q},M.createElement(vB,Object.assign({},he,{component:!1}),ue=>{let{key:j,file:pe,className:_e,style:Re}=ue;return M.createElement(cee,{key:j,locale:s,prefixCls:te,className:_e,style:Re,file:pe,items:_,progress:A,listType:t,isImgUrl:h,showPreviewIcon:x,showRemoveIcon:C,showDownloadIcon:c,removeIcon:p,previewIcon:m,downloadIcon:b,extra:w,iconRender:ae,actionIconRender:Z,itemRender:P,onPreview:Q,onDownload:X,onClose:ee})}),R&&M.createElement(Wc,Object.assign({},he,{visible:O,forceRender:!0}),ue=>{let{className:j,style:pe}=ue;return sl(R,_e=>({className:et(_e.className,j),style:Object.assign(Object.assign(Object.assign({},pe),{pointerEvents:j?"none":void 0}),_e.style)}))}))},fee=M.forwardRef(uee);var dee=function(n,e,t,r){function a(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function s(v){try{h(r.next(v))}catch(_){l(_)}}function f(v){try{h(r.throw(v))}catch(_){l(_)}}function h(v){v.done?o(v.value):a(v.value).then(s,f)}h((r=r.apply(n,[])).next())})};const jy=`__LIST_IGNORE_${Date.now()}__`,hee=(n,e)=>{const{fileList:t,defaultFileList:r,onRemove:a,showUploadList:o=!0,listType:l="text",onPreview:s,onDownload:f,onChange:h,onDrop:v,previewFile:_,disabled:x,locale:C,iconRender:c,isImageUrl:p,progress:m,prefixCls:b,className:w,type:A="select",children:R,style:O,itemRender:P,maxCount:D,data:F={},multiple:B=!1,hasControlInside:U=!0,action:V="",accept:Q="",supportServerRender:X=!0,rootClassName:ee}=n,ae=M.useContext(Dh),Z=x??ae,[K,te]=al(r||[],{value:t,postState:je=>je??[]}),[ce,q]=M.useState("drop"),J=M.useRef(null),he=M.useRef(null);M.useMemo(()=>{const je=Date.now();(t||[]).forEach((it,Se)=>{!it.uid&&!Object.isFrozen(it)&&(it.uid=`__AUTO__${je}_${Se}__`)})},[t]);const ue=(je,it,Se)=>{let ke=Qt(it),bt=!1;D===1?ke=ke.slice(-1):D&&(bt=ke.length>D,ke=ke.slice(0,D)),zh.flushSync(()=>{te(ke)});const Te={file:je,fileList:ke};Se&&(Te.event=Se),(!bt||je.status==="removed"||ke.some(St=>St.uid===je.uid))&&zh.flushSync(()=>{h==null||h(Te)})},j=(je,it)=>dee(void 0,void 0,void 0,function*(){const{beforeUpload:Se,transformFile:ke}=n;let bt=je;if(Se){const Te=yield Se(je,it);if(Te===!1)return!1;if(delete je[jy],Te===jy)return Object.defineProperty(je,jy,{value:!0,configurable:!0}),!1;typeof Te=="object"&&Te&&(bt=Te)}return ke&&(bt=yield ke(bt)),bt}),pe=je=>{const it=je.filter(bt=>!bt.file[jy]);if(!it.length)return;const Se=it.map(bt=>ax(bt.file));let ke=Qt(K);Se.forEach(bt=>{ke=ox(bt,ke)}),Se.forEach((bt,Te)=>{let St=bt;if(it[Te].parsedFile)bt.status="uploading";else{const{originFileObj:Qe}=bt;let pt;try{pt=new File([Qe],Qe.name,{type:Qe.type})}catch{pt=new Blob([Qe],{type:Qe.type}),pt.name=Qe.name,pt.lastModifiedDate=new Date,pt.lastModified=new Date().getTime()}pt.uid=bt.uid,St=pt}ue(St,ke)})},_e=(je,it,Se)=>{try{typeof je=="string"&&(je=JSON.parse(je))}catch{}if(!gT(it,K))return;const ke=ax(it);ke.status="done",ke.percent=100,ke.response=je,ke.xhr=Se;const bt=ox(ke,K);ue(ke,bt)},Re=(je,it)=>{if(!gT(it,K))return;const Se=ax(it);Se.status="uploading",Se.percent=je.percent;const ke=ox(Se,K);ue(Se,ke,je)},Me=(je,it,Se)=>{if(!gT(Se,K))return;const ke=ax(Se);ke.error=je,ke.response=it,ke.status="error";const bt=ox(ke,K);ue(ke,bt)},Ae=je=>{let it;Promise.resolve(typeof a=="function"?a(je):a).then(Se=>{var ke;if(Se===!1)return;const bt=aee(je,K);bt&&(it=Object.assign(Object.assign({},je),{status:"removed"}),K==null||K.forEach(Te=>{const St=it.uid!==void 0?"uid":"name";Te[St]===it[St]&&!Object.isFrozen(Te)&&(Te.status="removed")}),(ke=J.current)===null||ke===void 0||ke.abort(it),ue(it,bt))})},Ue=je=>{q(je.type),je.type==="drop"&&(v==null||v(je))};M.useImperativeHandle(e,()=>({onBatchStart:pe,onSuccess:_e,onProgress:Re,onError:Me,fileList:K,upload:J.current,nativeElement:he.current}));const{getPrefixCls:gt,direction:ze,upload:we}=M.useContext(ei),re=gt("upload",b),Fe=Object.assign(Object.assign({onBatchStart:pe,onError:Me,onProgress:Re,onSuccess:_e},n),{data:F,multiple:B,action:V,accept:Q,supportServerRender:X,prefixCls:re,disabled:Z,beforeUpload:j,onChange:void 0,hasControlInside:U});delete Fe.className,delete Fe.style,(!R||Z)&&delete Fe.id;const Ie=`${re}-wrapper`,[Ye,$e,lt]=ree(re,Ie),[ot]=u_("Upload",Ph.Upload),{showRemoveIcon:fe,showPreviewIcon:oe,showDownloadIcon:Ee,removeIcon:Pe,previewIcon:qe,downloadIcon:He,extra:mt}=typeof o=="boolean"?{}:o,st=typeof fe>"u"?!Z:fe,ht=(je,it)=>o?M.createElement(fee,{prefixCls:re,listType:l,items:K,previewFile:_,onPreview:s,onDownload:f,onRemove:Ae,showRemoveIcon:st,showPreviewIcon:oe,showDownloadIcon:Ee,removeIcon:Pe,previewIcon:qe,downloadIcon:He,iconRender:c,extra:mt,locale:Object.assign(Object.assign({},ot),C),isImageUrl:p,progress:m,appendAction:je,appendActionVisible:it,itemRender:P,disabled:Z}):je,It=et(Ie,w,ee,$e,lt,we==null?void 0:we.className,{[`${re}-rtl`]:ze==="rtl",[`${re}-picture-card-wrapper`]:l==="picture-card",[`${re}-picture-circle-wrapper`]:l==="picture-circle"}),at=Object.assign(Object.assign({},we==null?void 0:we.style),O);if(A==="drag"){const je=et($e,re,`${re}-drag`,{[`${re}-drag-uploading`]:K.some(it=>it.status==="uploading"),[`${re}-drag-hover`]:ce==="dragover",[`${re}-disabled`]:Z,[`${re}-rtl`]:ze==="rtl"});return Ye(M.createElement("span",{className:It,ref:he},M.createElement("div",{className:je,style:at,onDrop:Ue,onDragOver:Ue,onDragLeave:Ue},M.createElement(B2,Object.assign({},Fe,{ref:J,className:`${re}-btn`}),M.createElement("div",{className:`${re}-drag-container`},R))),ht()))}const _t=et(re,`${re}-select`,{[`${re}-disabled`]:Z,[`${re}-hidden`]:!R}),wt=M.createElement("div",{className:_t},M.createElement(B2,Object.assign({},Fe,{ref:J})));return Ye(l==="picture-card"||l==="picture-circle"?M.createElement("span",{className:It,ref:he},ht(wt,!!R)):M.createElement("span",{className:It,ref:he},wt,ht()))},OF=M.forwardRef(hee);var pee=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t};const mee=M.forwardRef((n,e)=>{var{style:t,height:r,hasControlInside:a=!1}=n,o=pee(n,["style","height","hasControlInside"]);return M.createElement(OF,Object.assign({ref:e,hasControlInside:a},o,{type:"drag",style:Object.assign(Object.assign({},t),{height:r})}))}),Ew=OF;Ew.Dragger=mee;Ew.LIST_IGNORE=jy;const gee="_navBar_1481f_1",vee="_sideBar_1481f_5",yee="_sideMenu_1481f_9",bee="_content_1481f_23",_1={navBar:gee,sideBar:vee,sideMenu:yee,content:bee};var Ey={},XP;function _ee(){if(XP)return Ey;XP=1,Object.defineProperty(Ey,"__esModule",{value:!0}),Ey.parse=l,Ey.serialize=h;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function l(x,C){const c=new o,p=x.length;if(p<2)return c;const m=(C==null?void 0:C.decode)||v;let b=0;do{const w=x.indexOf("=",b);if(w===-1)break;const A=x.indexOf(";",b),R=A===-1?p:A;if(w>R){b=x.lastIndexOf(";",w-1)+1;continue}const O=s(x,b,w),P=f(x,w,O),D=x.slice(O,P);if(c[D]===void 0){let F=s(x,w+1,R),B=f(x,R,F);const U=m(x.slice(F,B));c[D]=U}b=R+1}while(b<p);return c}function s(x,C,c){do{const p=x.charCodeAt(C);if(p!==32&&p!==9)return C}while(++C<c);return c}function f(x,C,c){for(;C>c;){const p=x.charCodeAt(--C);if(p!==32&&p!==9)return C+1}return c}function h(x,C,c){const p=(c==null?void 0:c.encode)||encodeURIComponent;if(!n.test(x))throw new TypeError(`argument name is invalid: ${x}`);const m=p(C);if(!e.test(m))throw new TypeError(`argument val is invalid: ${C}`);let b=x+"="+m;if(!c)return b;if(c.maxAge!==void 0){if(!Number.isInteger(c.maxAge))throw new TypeError(`option maxAge is invalid: ${c.maxAge}`);b+="; Max-Age="+c.maxAge}if(c.domain){if(!t.test(c.domain))throw new TypeError(`option domain is invalid: ${c.domain}`);b+="; Domain="+c.domain}if(c.path){if(!r.test(c.path))throw new TypeError(`option path is invalid: ${c.path}`);b+="; Path="+c.path}if(c.expires){if(!_(c.expires)||!Number.isFinite(c.expires.valueOf()))throw new TypeError(`option expires is invalid: ${c.expires}`);b+="; Expires="+c.expires.toUTCString()}if(c.httpOnly&&(b+="; HttpOnly"),c.secure&&(b+="; Secure"),c.partitioned&&(b+="; Partitioned"),c.priority)switch(typeof c.priority=="string"?c.priority.toLowerCase():void 0){case"low":b+="; Priority=Low";break;case"medium":b+="; Priority=Medium";break;case"high":b+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${c.priority}`)}if(c.sameSite)switch(typeof c.sameSite=="string"?c.sameSite.toLowerCase():c.sameSite){case!0:case"strict":b+="; SameSite=Strict";break;case"lax":b+="; SameSite=Lax";break;case"none":b+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${c.sameSite}`)}return b}function v(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function _(x){return a.call(x)==="[object Date]"}return Ey}_ee();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var YP="popstate";function See(n={}){function e(a,o){let{pathname:l="/",search:s="",hash:f=""}=Im(a.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),F2("",{pathname:l,search:s,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(a,o){let l=a.document.querySelector("base"),s="";if(l&&l.getAttribute("href")){let f=a.location.href,h=f.indexOf("#");s=h===-1?f:f.slice(0,h)}return s+"#"+(typeof o=="string"?o:Hb(o))}function r(a,o){kc(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return wee(e,t,r,n)}function Zr(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function kc(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xee(){return Math.random().toString(36).substring(2,10)}function qP(n,e){return{usr:n.state,key:n.key,idx:e}}function F2(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Im(e):e,state:t,key:e&&e.key||r||xee()}}function Hb({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Im(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function wee(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,l=a.history,s="POP",f=null,h=v();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function v(){return(l.state||{idx:null}).idx}function _(){s="POP";let m=v(),b=m==null?null:m-h;h=m,f&&f({action:s,location:p.location,delta:b})}function x(m,b){s="PUSH";let w=F2(p.location,m,b);t&&t(w,m),h=v()+1;let A=qP(w,h),R=p.createHref(w);try{l.pushState(A,"",R)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;a.location.assign(R)}o&&f&&f({action:s,location:p.location,delta:1})}function C(m,b){s="REPLACE";let w=F2(p.location,m,b);t&&t(w,m),h=v();let A=qP(w,h),R=p.createHref(w);l.replaceState(A,"",R),o&&f&&f({action:s,location:p.location,delta:0})}function c(m){let b=a.location.origin!=="null"?a.location.origin:a.location.href,w=typeof m=="string"?m:Hb(m);return w=w.replace(/ $/,"%20"),Zr(b,`No window.location.(origin|href) available to create URL for href: ${w}`),new URL(w,b)}let p={get action(){return s},get location(){return n(a,l)},listen(m){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(YP,_),f=m,()=>{a.removeEventListener(YP,_),f=null}},createHref(m){return e(a,m)},createURL:c,encodeLocation(m){let b=c(m);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:x,replace:C,go(m){return l.go(m)}};return p}function IF(n,e,t="/"){return Cee(n,e,t,!1)}function Cee(n,e,t,r){let a=typeof e=="string"?Im(e):e,o=fd(a.pathname||"/",t);if(o==null)return null;let l=zF(n);Eee(l);let s=null;for(let f=0;s==null&&f<l.length;++f){let h=Nee(o);s=Dee(l[f],h,r)}return s}function zF(n,e=[],t=[],r=""){let a=(o,l,s)=>{let f={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};f.relativePath.startsWith("/")&&(Zr(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let h=sd([r,f.relativePath]),v=t.concat(f);o.children&&o.children.length>0&&(Zr(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),zF(o.children,e,v,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:zee(h,o.index),routesMeta:v})};return n.forEach((o,l)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))a(o,l);else for(let f of PF(o.path))a(o,l,f)}),e}function PF(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let l=PF(r.join("/")),s=[];return s.push(...l.map(f=>f===""?o:[o,f].join("/"))),a&&s.push(...l),s.map(f=>n.startsWith("/")&&f===""?"/":f)}function Eee(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Pee(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var Mee=/^:[\w-]+$/,Tee=3,Aee=2,Ree=1,Oee=10,Iee=-2,ZP=n=>n==="*";function zee(n,e){let t=n.split("/"),r=t.length;return t.some(ZP)&&(r+=Iee),e&&(r+=Aee),t.filter(a=>!ZP(a)).reduce((a,o)=>a+(Mee.test(o)?Tee:o===""?Ree:Oee),r)}function Pee(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function Dee(n,e,t=!1){let{routesMeta:r}=n,a={},o="/",l=[];for(let s=0;s<r.length;++s){let f=r[s],h=s===r.length-1,v=o==="/"?e:e.slice(o.length)||"/",_=Mw({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},v),x=f.route;if(!_&&h&&t&&!r[r.length-1].route.index&&(_=Mw({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!_)return null;Object.assign(a,_.params),l.push({params:a,pathname:sd([o,_.pathname]),pathnameBase:Hee(sd([o,_.pathnameBase])),route:x}),_.pathnameBase!=="/"&&(o=sd([o,_.pathnameBase]))}return l}function Mw(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=Lee(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let o=a[0],l=o.replace(/(.)\/+$/,"$1"),s=a.slice(1);return{params:r.reduce((h,{paramName:v,isOptional:_},x)=>{if(v==="*"){let c=s[x]||"";l=o.slice(0,o.length-c.length).replace(/(.)\/+$/,"$1")}const C=s[x];return _&&!C?h[v]=void 0:h[v]=(C||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:n}}function Lee(n,e=!1,t=!0){kc(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,s,f)=>(r.push({paramName:s,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function Nee(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kc(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function fd(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function Uee(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?Im(n):n;return{pathname:t?t.startsWith("/")?t:Bee(t,e):e,search:kee(r),hash:$ee(a)}}function Bee(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function vT(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Fee(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function DF(n){let e=Fee(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function LF(n,e,t,r=!1){let a;typeof n=="string"?a=Im(n):(a={...n},Zr(!a.pathname||!a.pathname.includes("?"),vT("?","pathname","search",a)),Zr(!a.pathname||!a.pathname.includes("#"),vT("#","pathname","hash",a)),Zr(!a.search||!a.search.includes("#"),vT("#","search","hash",a)));let o=n===""||a.pathname==="",l=o?"/":a.pathname,s;if(l==null)s=t;else{let _=e.length-1;if(!r&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),_-=1;a.pathname=x.join("/")}s=_>=0?e[_]:"/"}let f=Uee(a,s),h=l&&l!=="/"&&l.endsWith("/"),v=(o||l===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(h||v)&&(f.pathname+="/"),f}var sd=n=>n.join("/").replace(/\/\/+/g,"/"),Hee=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),kee=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,$ee=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Vee(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var NF=["POST","PUT","PATCH","DELETE"];new Set(NF);var Gee=["GET",...NF];new Set(Gee);var v0=M.createContext(null);v0.displayName="DataRouter";var sE=M.createContext(null);sE.displayName="DataRouterState";var UF=M.createContext({isTransitioning:!1});UF.displayName="ViewTransition";var jee=M.createContext(new Map);jee.displayName="Fetchers";var Wee=M.createContext(null);Wee.displayName="Await";var nf=M.createContext(null);nf.displayName="Navigation";var x_=M.createContext(null);x_.displayName="Location";var vd=M.createContext({outlet:null,matches:[],isDataRoute:!1});vd.displayName="Route";var bO=M.createContext(null);bO.displayName="RouteError";function Xee(n,{relative:e}={}){Zr(w_(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=M.useContext(nf),{hash:a,pathname:o,search:l}=C_(n,{relative:e}),s=o;return t!=="/"&&(s=o==="/"?t:sd([t,o])),r.createHref({pathname:s,search:l,hash:a})}function w_(){return M.useContext(x_)!=null}function Hh(){return Zr(w_(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(x_).location}var BF="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function FF(n){M.useContext(nf).static||M.useLayoutEffect(n)}function HF(){let{isDataRoute:n}=M.useContext(vd);return n?ote():Yee()}function Yee(){Zr(w_(),"useNavigate() may be used only in the context of a <Router> component.");let n=M.useContext(v0),{basename:e,navigator:t}=M.useContext(nf),{matches:r}=M.useContext(vd),{pathname:a}=Hh(),o=JSON.stringify(DF(r)),l=M.useRef(!1);return FF(()=>{l.current=!0}),M.useCallback((f,h={})=>{if(kc(l.current,BF),!l.current)return;if(typeof f=="number"){t.go(f);return}let v=LF(f,JSON.parse(o),a,h.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:sd([e,v.pathname])),(h.replace?t.replace:t.push)(v,h.state,h)},[e,t,o,a,n])}M.createContext(null);function C_(n,{relative:e}={}){let{matches:t}=M.useContext(vd),{pathname:r}=Hh(),a=JSON.stringify(DF(t));return M.useMemo(()=>LF(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function qee(n,e){return kF(n,e)}function kF(n,e,t,r){var w;Zr(w_(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:o}=M.useContext(nf),{matches:l}=M.useContext(vd),s=l[l.length-1],f=s?s.params:{},h=s?s.pathname:"/",v=s?s.pathnameBase:"/",_=s&&s.route;{let A=_&&_.path||"";$F(h,!_||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let x=Hh(),C;if(e){let A=typeof e=="string"?Im(e):e;Zr(v==="/"||((w=A.pathname)==null?void 0:w.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${A.pathname}" was given in the \`location\` prop.`),C=A}else C=x;let c=C.pathname||"/",p=c;if(v!=="/"){let A=v.replace(/^\//,"").split("/");p="/"+c.replace(/^\//,"").split("/").slice(A.length).join("/")}let m=!o&&t&&t.matches&&t.matches.length>0?t.matches:IF(n,{pathname:p});kc(_||m!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),kc(m==null||m[m.length-1].route.element!==void 0||m[m.length-1].route.Component!==void 0||m[m.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=ete(m&&m.map(A=>Object.assign({},A,{params:Object.assign({},f,A.params),pathname:sd([v,a.encodeLocation?a.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?v:sd([v,a.encodeLocation?a.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),l,t,r);return e&&b?M.createElement(x_.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},b):b}function Zee(){let n=ate(),e=Vee(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=M.createElement(M.Fragment,null,M.createElement("p",null,"💿 Hey developer 👋"),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:o},"ErrorBoundary")," or"," ",M.createElement("code",{style:o},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),t?M.createElement("pre",{style:a},t):null,l)}var Kee=M.createElement(Zee,null),Qee=class extends M.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?M.createElement(vd.Provider,{value:this.props.routeContext},M.createElement(bO.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Jee({routeContext:n,match:e,children:t}){let r=M.useContext(v0);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(vd.Provider,{value:n},t)}function ete(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=t==null?void 0:t.errors;if(o!=null){let f=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);Zr(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let l=!1,s=-1;if(t)for(let f=0;f<a.length;f++){let h=a[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(s=f),h.route.id){let{loaderData:v,errors:_}=t,x=h.route.loader&&!v.hasOwnProperty(h.route.id)&&(!_||_[h.route.id]===void 0);if(h.route.lazy||x){l=!0,s>=0?a=a.slice(0,s+1):a=[a[0]];break}}}return a.reduceRight((f,h,v)=>{let _,x=!1,C=null,c=null;t&&(_=o&&h.route.id?o[h.route.id]:void 0,C=h.route.errorElement||Kee,l&&(s<0&&v===0?($F("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,c=null):s===v&&(x=!0,c=h.route.hydrateFallbackElement||null)));let p=e.concat(a.slice(0,v+1)),m=()=>{let b;return _?b=C:x?b=c:h.route.Component?b=M.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=f,M.createElement(Jee,{match:h,routeContext:{outlet:f,matches:p,isDataRoute:t!=null},children:b})};return t&&(h.route.ErrorBoundary||h.route.errorElement||v===0)?M.createElement(Qee,{location:t.location,revalidation:t.revalidation,component:C,error:_,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}function _O(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tte(n){let e=M.useContext(v0);return Zr(e,_O(n)),e}function nte(n){let e=M.useContext(sE);return Zr(e,_O(n)),e}function ite(n){let e=M.useContext(vd);return Zr(e,_O(n)),e}function SO(n){let e=ite(n),t=e.matches[e.matches.length-1];return Zr(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function rte(){return SO("useRouteId")}function ate(){var r;let n=M.useContext(bO),e=nte("useRouteError"),t=SO("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function ote(){let{router:n}=tte("useNavigate"),e=SO("useNavigate"),t=M.useRef(!1);return FF(()=>{t.current=!0}),M.useCallback(async(a,o={})=>{kc(t.current,BF),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...o}))},[n,e])}var KP={};function $F(n,e,t){!e&&!KP[n]&&(KP[n]=!0,kc(!1,t))}M.memo(ste);function ste({routes:n,future:e,state:t}){return kF(n,void 0,t,e)}function S1(n){Zr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lte({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:o=!1}){Zr(!w_(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),s=M.useMemo(()=>({basename:l,navigator:a,static:o,future:{}}),[l,a,o]);typeof t=="string"&&(t=Im(t));let{pathname:f="/",search:h="",hash:v="",state:_=null,key:x="default"}=t,C=M.useMemo(()=>{let c=fd(f,l);return c==null?null:{location:{pathname:c,search:h,hash:v,state:_,key:x},navigationType:r}},[l,f,h,v,_,x,r]);return kc(C!=null,`<Router basename="${l}"> is not able to match the URL "${f}${h}${v}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:M.createElement(nf.Provider,{value:s},M.createElement(x_.Provider,{children:e,value:C}))}function cte({children:n,location:e}){return qee(H2(n),e)}function H2(n,e=[]){let t=[];return M.Children.forEach(n,(r,a)=>{if(!M.isValidElement(r))return;let o=[...e,a];if(r.type===M.Fragment){t.push.apply(t,H2(r.props.children,o));return}Zr(r.type===S1,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Zr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=H2(r.props.children,o)),t.push(l)}),t}var x1="get",w1="application/x-www-form-urlencoded";function lE(n){return n!=null&&typeof n.tagName=="string"}function ute(n){return lE(n)&&n.tagName.toLowerCase()==="button"}function fte(n){return lE(n)&&n.tagName.toLowerCase()==="form"}function dte(n){return lE(n)&&n.tagName.toLowerCase()==="input"}function hte(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function pte(n,e){return n.button===0&&(!e||e==="_self")&&!hte(n)}var sx=null;function mte(){if(sx===null)try{new FormData(document.createElement("form"),0),sx=!1}catch{sx=!0}return sx}var gte=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yT(n){return n!=null&&!gte.has(n)?(kc(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${w1}"`),null):n}function vte(n,e){let t,r,a,o,l;if(fte(n)){let s=n.getAttribute("action");r=s?fd(s,e):null,t=n.getAttribute("method")||x1,a=yT(n.getAttribute("enctype"))||w1,o=new FormData(n)}else if(ute(n)||dte(n)&&(n.type==="submit"||n.type==="image")){let s=n.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||s.getAttribute("action");if(r=f?fd(f,e):null,t=n.getAttribute("formmethod")||s.getAttribute("method")||x1,a=yT(n.getAttribute("formenctype"))||yT(s.getAttribute("enctype"))||w1,o=new FormData(s,n),!mte()){let{name:h,type:v,value:_}=n;if(v==="image"){let x=h?`${h}.`:"";o.append(`${x}x`,"0"),o.append(`${x}y`,"0")}else h&&o.append(h,_)}}else{if(lE(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=x1,r=null,a=w1,l=n}return o&&a==="text/plain"&&(l=o,o=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:o,body:l}}function xO(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function yte(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bte(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function _te(n,e,t){let r=await Promise.all(n.map(async a=>{let o=e.routes[a.route.id];if(o){let l=await yte(o,t);return l.links?l.links():[]}return[]}));return Cte(r.flat(1).filter(bte).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function QP(n,e,t,r,a,o){let l=(f,h)=>t[h]?f.route.id!==t[h].route.id:!0,s=(f,h)=>{var v;return t[h].pathname!==f.pathname||((v=t[h].route.path)==null?void 0:v.endsWith("*"))&&t[h].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,h)=>l(f,h)||s(f,h)):o==="data"?e.filter((f,h)=>{var _;let v=r.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(l(f,h)||s(f,h))return!0;if(f.route.shouldRevalidate){let x=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function Ste(n,e,{includeHydrateFallback:t}={}){return xte(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function xte(n){return[...new Set(n)]}function wte(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function Cte(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let o=JSON.stringify(wte(a));return t.has(o)||(t.add(o),r.push({key:o,link:a})),r},[])}function Ete(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&fd(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function VF(){let n=M.useContext(v0);return xO(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Mte(){let n=M.useContext(sE);return xO(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var wO=M.createContext(void 0);wO.displayName="FrameworkContext";function GF(){let n=M.useContext(wO);return xO(n,"You must render this element inside a <HydratedRouter> element"),n}function Tte(n,e){let t=M.useContext(wO),[r,a]=M.useState(!1),[o,l]=M.useState(!1),{onFocus:s,onBlur:f,onMouseEnter:h,onMouseLeave:v,onTouchStart:_}=e,x=M.useRef(null);M.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let p=b=>{b.forEach(w=>{l(w.isIntersecting)})},m=new IntersectionObserver(p,{threshold:.5});return x.current&&m.observe(x.current),()=>{m.disconnect()}}},[n]),M.useEffect(()=>{if(r){let p=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(p)}}},[r]);let C=()=>{a(!0)},c=()=>{a(!1),l(!1)};return t?n!=="intent"?[o,x,{}]:[o,x,{onFocus:My(s,C),onBlur:My(f,c),onMouseEnter:My(h,C),onMouseLeave:My(v,c),onTouchStart:My(_,C)}]:[!1,x,{}]}function My(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function Ate({page:n,...e}){let{router:t}=VF(),r=M.useMemo(()=>IF(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?M.createElement(Ote,{page:n,matches:r,...e}):null}function Rte(n){let{manifest:e,routeModules:t}=GF(),[r,a]=M.useState([]);return M.useEffect(()=>{let o=!1;return _te(n,e,t).then(l=>{o||a(l)}),()=>{o=!0}},[n,e,t]),r}function Ote({page:n,matches:e,...t}){let r=Hh(),{manifest:a,routeModules:o}=GF(),{basename:l}=VF(),{loaderData:s,matches:f}=Mte(),h=M.useMemo(()=>QP(n,e,f,a,r,"data"),[n,e,f,a,r]),v=M.useMemo(()=>QP(n,e,f,a,r,"assets"),[n,e,f,a,r]),_=M.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let c=new Set,p=!1;if(e.forEach(b=>{var A;let w=a.routes[b.route.id];!w||!w.hasLoader||(!h.some(R=>R.route.id===b.route.id)&&b.route.id in s&&((A=o[b.route.id])!=null&&A.shouldRevalidate)||w.hasClientLoader?p=!0:c.add(b.route.id))}),c.size===0)return[];let m=Ete(n,l);return p&&c.size>0&&m.searchParams.set("_routes",e.filter(b=>c.has(b.route.id)).map(b=>b.route.id).join(",")),[m.pathname+m.search]},[l,s,r,a,h,e,n,o]),x=M.useMemo(()=>Ste(v,a),[v,a]),C=Rte(v);return M.createElement(M.Fragment,null,_.map(c=>M.createElement("link",{key:c,rel:"prefetch",as:"fetch",href:c,...t})),x.map(c=>M.createElement("link",{key:c,rel:"modulepreload",href:c,...t})),C.map(({key:c,link:p})=>M.createElement("link",{key:c,...p})))}function Ite(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var jF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jF&&(window.__reactRouterVersion="7.3.0")}catch{}function zte({basename:n,children:e,window:t}){let r=M.useRef();r.current==null&&(r.current=See({window:t,v5Compat:!0}));let a=r.current,[o,l]=M.useState({action:a.action,location:a.location}),s=M.useCallback(f=>{M.startTransition(()=>l(f))},[l]);return M.useLayoutEffect(()=>a.listen(s),[a,s]),M.createElement(lte,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:a})}var WF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,XF=M.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:o,replace:l,state:s,target:f,to:h,preventScrollReset:v,viewTransition:_,...x},C){let{basename:c}=M.useContext(nf),p=typeof h=="string"&&WF.test(h),m,b=!1;if(typeof h=="string"&&p&&(m=h,jF))try{let B=new URL(window.location.href),U=h.startsWith("//")?new URL(B.protocol+h):new URL(h),V=fd(U.pathname,c);U.origin===B.origin&&V!=null?h=V+U.search+U.hash:b=!0}catch{kc(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=Xee(h,{relative:a}),[A,R,O]=Tte(r,x),P=Nte(h,{replace:l,state:s,target:f,preventScrollReset:v,relative:a,viewTransition:_});function D(B){e&&e(B),B.defaultPrevented||P(B)}let F=M.createElement("a",{...x,...O,href:m||w,onClick:b||o?e:D,ref:Ite(C,R),target:f,"data-discover":!p&&t==="render"?"true":void 0});return A&&!p?M.createElement(M.Fragment,null,F,M.createElement(Ate,{page:w})):F});XF.displayName="Link";var Pte=M.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:o,to:l,viewTransition:s,children:f,...h},v){let _=C_(l,{relative:h.relative}),x=Hh(),C=M.useContext(sE),{navigator:c,basename:p}=M.useContext(nf),m=C!=null&&kte(_)&&s===!0,b=c.encodeLocation?c.encodeLocation(_).pathname:_.pathname,w=x.pathname,A=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(w=w.toLowerCase(),A=A?A.toLowerCase():null,b=b.toLowerCase()),A&&p&&(A=fd(A,p)||A);const R=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let O=w===b||!a&&w.startsWith(b)&&w.charAt(R)==="/",P=A!=null&&(A===b||!a&&A.startsWith(b)&&A.charAt(b.length)==="/"),D={isActive:O,isPending:P,isTransitioning:m},F=O?e:void 0,B;typeof r=="function"?B=r(D):B=[r,O?"active":null,P?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let U=typeof o=="function"?o(D):o;return M.createElement(XF,{...h,"aria-current":F,className:B,ref:v,style:U,to:l,viewTransition:s},typeof f=="function"?f(D):f)});Pte.displayName="NavLink";var Dte=M.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:o,method:l=x1,action:s,onSubmit:f,relative:h,preventScrollReset:v,viewTransition:_,...x},C)=>{let c=Fte(),p=Hte(s,{relative:h}),m=l.toLowerCase()==="get"?"get":"post",b=typeof s=="string"&&WF.test(s),w=A=>{if(f&&f(A),A.defaultPrevented)return;A.preventDefault();let R=A.nativeEvent.submitter,O=(R==null?void 0:R.getAttribute("formmethod"))||l;c(R||A.currentTarget,{fetcherKey:e,method:O,navigate:t,replace:a,state:o,relative:h,preventScrollReset:v,viewTransition:_})};return M.createElement("form",{ref:C,method:m,action:p,onSubmit:r?f:w,...x,"data-discover":!b&&n==="render"?"true":void 0})});Dte.displayName="Form";function Lte(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YF(n){let e=M.useContext(v0);return Zr(e,Lte(n)),e}function Nte(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:o,viewTransition:l}={}){let s=HF(),f=Hh(),h=C_(n,{relative:o});return M.useCallback(v=>{if(pte(v,e)){v.preventDefault();let _=t!==void 0?t:Hb(f)===Hb(h);s(n,{replace:_,state:r,preventScrollReset:a,relative:o,viewTransition:l})}},[f,s,h,t,r,e,n,a,o,l])}var Ute=0,Bte=()=>`__${String(++Ute)}__`;function Fte(){let{router:n}=YF("useSubmit"),{basename:e}=M.useContext(nf),t=rte();return M.useCallback(async(r,a={})=>{let{action:o,method:l,encType:s,formData:f,body:h}=vte(r,e);if(a.navigate===!1){let v=a.fetcherKey||Bte();await n.fetch(v,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:h,formMethod:a.method||l,formEncType:a.encType||s,flushSync:a.flushSync})}else await n.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:h,formMethod:a.method||l,formEncType:a.encType||s,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function Hte(n,{relative:e}={}){let{basename:t}=M.useContext(nf),r=M.useContext(vd);Zr(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...C_(n||".",{relative:e})},l=Hh();if(n==null){o.search=l.search;let s=new URLSearchParams(o.search),f=s.getAll("index");if(f.some(v=>v==="")){s.delete("index"),f.filter(_=>_).forEach(_=>s.append("index",_));let v=s.toString();o.search=v?`?${v}`:""}}return(!n||n===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:sd([t,o.pathname])),Hb(o)}function kte(n,e={}){let t=M.useContext(UF);Zr(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=YF("useViewTransitionState"),a=C_(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=fd(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=fd(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Mw(a.pathname,l)!=null||Mw(a.pathname,o)!=null}new TextEncoder;const $te="_videoWrapper_9iz5a_1",Vte="_formPanel_9iz5a_6",JP={videoWrapper:$te,formPanel:Vte},Gte="_linearGradientButton_1kpe8_1",jte="_formContent_1kpe8_16",Wte="_imageSelect_1kpe8_23",Xte="_customButton_1kpe8_27",Yte="_textarea_1kpe8_31",qte="_formFooter_1kpe8_39",Zte="_footerButton_1kpe8_45",nh={linearGradientButton:Gte,formContent:jte,imageSelect:Wte,customButton:Xte,textarea:Yte,formFooter:qte,footerButton:Zte};var lx={exports:{}},eD;function Kte(){if(eD)return lx.exports;eD=1;var n=typeof Reflect=="object"?Reflect:null,e=n&&typeof n.apply=="function"?n.apply:function(O,P,D){return Function.prototype.apply.call(O,P,D)},t;n&&typeof n.ownKeys=="function"?t=n.ownKeys:Object.getOwnPropertySymbols?t=function(O){return Object.getOwnPropertyNames(O).concat(Object.getOwnPropertySymbols(O))}:t=function(O){return Object.getOwnPropertyNames(O)};function r(R){console&&console.warn&&console.warn(R)}var a=Number.isNaN||function(O){return O!==O};function o(){o.init.call(this)}lx.exports=o,lx.exports.once=b,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var l=10;function s(R){if(typeof R!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof R)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(R){if(typeof R!="number"||R<0||a(R))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+R+".");l=R}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(O){if(typeof O!="number"||O<0||a(O))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+O+".");return this._maxListeners=O,this};function f(R){return R._maxListeners===void 0?o.defaultMaxListeners:R._maxListeners}o.prototype.getMaxListeners=function(){return f(this)},o.prototype.emit=function(O){for(var P=[],D=1;D<arguments.length;D++)P.push(arguments[D]);var F=O==="error",B=this._events;if(B!==void 0)F=F&&B.error===void 0;else if(!F)return!1;if(F){var U;if(P.length>0&&(U=P[0]),U instanceof Error)throw U;var V=new Error("Unhandled error."+(U?" ("+U.message+")":""));throw V.context=U,V}var Q=B[O];if(Q===void 0)return!1;if(typeof Q=="function")e(Q,this,P);else for(var X=Q.length,ee=c(Q,X),D=0;D<X;++D)e(ee[D],this,P);return!0};function h(R,O,P,D){var F,B,U;if(s(P),B=R._events,B===void 0?(B=R._events=Object.create(null),R._eventsCount=0):(B.newListener!==void 0&&(R.emit("newListener",O,P.listener?P.listener:P),B=R._events),U=B[O]),U===void 0)U=B[O]=P,++R._eventsCount;else if(typeof U=="function"?U=B[O]=D?[P,U]:[U,P]:D?U.unshift(P):U.push(P),F=f(R),F>0&&U.length>F&&!U.warned){U.warned=!0;var V=new Error("Possible EventEmitter memory leak detected. "+U.length+" "+String(O)+" listeners added. Use emitter.setMaxListeners() to increase limit");V.name="MaxListenersExceededWarning",V.emitter=R,V.type=O,V.count=U.length,r(V)}return R}o.prototype.addListener=function(O,P){return h(this,O,P,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(O,P){return h(this,O,P,!0)};function v(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _(R,O,P){var D={fired:!1,wrapFn:void 0,target:R,type:O,listener:P},F=v.bind(D);return F.listener=P,D.wrapFn=F,F}o.prototype.once=function(O,P){return s(P),this.on(O,_(this,O,P)),this},o.prototype.prependOnceListener=function(O,P){return s(P),this.prependListener(O,_(this,O,P)),this},o.prototype.removeListener=function(O,P){var D,F,B,U,V;if(s(P),F=this._events,F===void 0)return this;if(D=F[O],D===void 0)return this;if(D===P||D.listener===P)--this._eventsCount===0?this._events=Object.create(null):(delete F[O],F.removeListener&&this.emit("removeListener",O,D.listener||P));else if(typeof D!="function"){for(B=-1,U=D.length-1;U>=0;U--)if(D[U]===P||D[U].listener===P){V=D[U].listener,B=U;break}if(B<0)return this;B===0?D.shift():p(D,B),D.length===1&&(F[O]=D[0]),F.removeListener!==void 0&&this.emit("removeListener",O,V||P)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(O){var P,D,F;if(D=this._events,D===void 0)return this;if(D.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):D[O]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete D[O]),this;if(arguments.length===0){var B=Object.keys(D),U;for(F=0;F<B.length;++F)U=B[F],U!=="removeListener"&&this.removeAllListeners(U);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(P=D[O],typeof P=="function")this.removeListener(O,P);else if(P!==void 0)for(F=P.length-1;F>=0;F--)this.removeListener(O,P[F]);return this};function x(R,O,P){var D=R._events;if(D===void 0)return[];var F=D[O];return F===void 0?[]:typeof F=="function"?P?[F.listener||F]:[F]:P?m(F):c(F,F.length)}o.prototype.listeners=function(O){return x(this,O,!0)},o.prototype.rawListeners=function(O){return x(this,O,!1)},o.listenerCount=function(R,O){return typeof R.listenerCount=="function"?R.listenerCount(O):C.call(R,O)},o.prototype.listenerCount=C;function C(R){var O=this._events;if(O!==void 0){var P=O[R];if(typeof P=="function")return 1;if(P!==void 0)return P.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]};function c(R,O){for(var P=new Array(O),D=0;D<O;++D)P[D]=R[D];return P}function p(R,O){for(;O+1<R.length;O++)R[O]=R[O+1];R.pop()}function m(R){for(var O=new Array(R.length),P=0;P<O.length;++P)O[P]=R[P].listener||R[P];return O}function b(R,O){return new Promise(function(P,D){function F(U){R.removeListener(O,B),D(U)}function B(){typeof R.removeListener=="function"&&R.removeListener("error",F),P([].slice.call(arguments))}A(R,O,B,{once:!0}),O!=="error"&&w(R,F,{once:!0})})}function w(R,O,P){typeof R.on=="function"&&A(R,"error",O,P)}function A(R,O,P,D){if(typeof R.on=="function")D.once?R.once(O,P):R.on(O,P);else if(typeof R.addEventListener=="function")R.addEventListener(O,function F(B){D.once&&R.removeEventListener(O,F),P(B)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof R)}return lx.exports}var Qte=Kte();const k2=new Qte.EventEmitter,$2={ADD_FAKE_VIDEO:"add-fake-video"},Jte="_imageUpload_19an3_1",ene={imageUpload:Jte},tne=({multiple:n=!1})=>{const[e,t]=M.useState([]),[r,a]=M.useState(!1),[o,l]=M.useState(""),[s,f]=M.useState(""),h=async x=>{!x.url&&!x.preview&&(x.preview=await new Promise(C=>{const c=new FileReader;c.onload=p=>{var m;return C((m=p.target)==null?void 0:m.result)},c.readAsDataURL(x.originFileObj)})),l(x.url||x.preview),f(x.name||"预览"),a(!0)},v=({fileList:x})=>{t(x)},_=x=>["image/jpeg","image/png","image/webp"].includes(x.type)?!1:(MF.error("只支持 JPEG, PNG, WEBP 格式的图片"),Ew.LIST_IGNORE);return xt.jsxs(xt.Fragment,{children:[xt.jsx(Ew,{className:ene.imageUpload,accept:"image/jpeg,image/png,image/webp",listType:n?"picture":"picture-card",fileList:e,onPreview:h,onChange:v,beforeUpload:_,multiple:n,showUploadList:!0,children:!n&&e.length>0?null:xt.jsxs("div",{children:[xt.jsx(J$,{}),xt.jsx("div",{style:{marginTop:8},children:"上传或拖入图片，支持JPEG，PNG，WEBP"})]})}),xt.jsx(Vl,{open:r,footer:null,onCancel:()=>a(!1),title:s,children:xt.jsx("img",{alt:"preview",style:{width:"100%"},src:o})})]})};/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const cE="174",Up={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Bp={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},qF=0,V2=1,ZF=2,nne=3,KF=0,uE=1,db=2,Rc=3,dd=0,os=1,Fl=2,ld=0,hm=1,G2=2,j2=3,W2=4,QF=5,yh=100,JF=101,e6=102,t6=103,n6=104,i6=200,r6=201,a6=202,o6=203,Tw=204,Aw=205,s6=206,l6=207,c6=208,u6=209,f6=210,d6=211,h6=212,p6=213,m6=214,Rw=0,Ow=1,Iw=2,ym=3,zw=4,Pw=5,Dw=6,Lw=7,E_=0,g6=1,v6=2,Wu=0,y6=1,b6=2,_6=3,CO=4,S6=5,x6=6,w6=7,X2="attached",C6="detached",fE=300,hd=301,Uh=302,kb=303,$b=304,y0=306,Vb=1e3,kl=1001,Gb=1002,ho=1003,EO=1004,ine=1004,Cv=1005,rne=1005,za=1006,hb=1007,ane=1007,Gu=1008,one=1008,$c=1009,MO=1010,TO=1011,Jv=1012,dE=1013,pd=1014,Is=1015,b0=1016,hE=1017,pE=1018,bm=1020,AO=35902,RO=1021,OO=1022,zo=1023,IO=1024,zO=1025,pm=1026,_m=1027,mE=1028,M_=1029,PO=1030,gE=1031,sne=1032,vE=1033,pb=33776,mb=33777,gb=33778,vb=33779,Nw=35840,Uw=35841,Bw=35842,Fw=35843,Hw=36196,kw=37492,$w=37496,Vw=37808,Gw=37809,jw=37810,Ww=37811,Xw=37812,Yw=37813,qw=37814,Zw=37815,Kw=37816,Qw=37817,Jw=37818,eC=37819,tC=37820,nC=37821,yb=36492,iC=36494,rC=36495,DO=36283,aC=36284,oC=36285,sC=36286,E6=2200,M6=2201,T6=2202,jb=2300,lC=2301,C1=2302,lm=2400,cm=2401,Wb=2402,yE=2500,LO=2501,lne=0,cne=1,une=2,A6=3200,R6=3201,fne=3202,dne=3203,kh=0,O6=1,td="",Oo="srgb",Bh="srgb-linear",Xb="linear",lr="srgb",hne=0,Fp=7680,pne=7681,mne=7682,gne=7683,vne=34055,yne=34056,bne=5386,_ne=512,Sne=513,xne=514,wne=515,Cne=516,Ene=517,Mne=518,Y2=519,I6=512,z6=513,P6=514,NO=515,D6=516,L6=517,N6=518,U6=519,Yb=35044,Tne=35048,Ane=35040,Rne=35045,One=35049,Ine=35041,zne=35046,Pne=35050,Dne=35042,Lne="100",q2="300 es",Uc=2e3,qb=2001,Nne={COMPUTE:"compute",RENDER:"render"};let rf=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){const r=this._listeners;return r===void 0?!1:r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){const r=this._listeners;if(r===void 0)return;const a=r[e];if(a!==void 0){const o=a.indexOf(t);o!==-1&&a.splice(o,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const r=t[e.type];if(r!==void 0){e.target=this;const a=r.slice(0);for(let o=0,l=a.length;o<l;o++)a[o].call(this,e);e.target=null}}};const Eo=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let tD=1234567;const mm=Math.PI/180,e0=180/Math.PI;function ol(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Eo[n&255]+Eo[n>>8&255]+Eo[n>>16&255]+Eo[n>>24&255]+"-"+Eo[e&255]+Eo[e>>8&255]+"-"+Eo[e>>16&15|64]+Eo[e>>24&255]+"-"+Eo[t&63|128]+Eo[t>>8&255]+"-"+Eo[t>>16&255]+Eo[t>>24&255]+Eo[r&255]+Eo[r>>8&255]+Eo[r>>16&255]+Eo[r>>24&255]).toLowerCase()}function Qn(n,e,t){return Math.max(e,Math.min(t,n))}function UO(n,e){return(n%e+e)%e}function Une(n,e,t,r,a){return r+(n-e)*(a-r)/(t-e)}function Bne(n,e,t){return n!==e?(t-n)/(e-n):0}function bb(n,e,t){return(1-t)*n+t*e}function Fne(n,e,t,r){return bb(n,e,1-Math.exp(-t*r))}function Hne(n,e=1){return e-Math.abs(UO(n,e*2)-e)}function kne(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function $ne(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function Vne(n,e){return n+Math.floor(Math.random()*(e-n+1))}function Gne(n,e){return n+Math.random()*(e-n)}function jne(n){return n*(.5-Math.random())}function Wne(n){n!==void 0&&(tD=n);let e=tD+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Xne(n){return n*mm}function Yne(n){return n*e0}function qne(n){return(n&n-1)===0&&n!==0}function Zne(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function Kne(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function Qne(n,e,t,r,a){const o=Math.cos,l=Math.sin,s=o(t/2),f=l(t/2),h=o((e+r)/2),v=l((e+r)/2),_=o((e-r)/2),x=l((e-r)/2),C=o((r-e)/2),c=l((r-e)/2);switch(a){case"XYX":n.set(s*v,f*_,f*x,s*h);break;case"YZY":n.set(f*x,s*v,f*_,s*h);break;case"ZXZ":n.set(f*_,f*x,s*v,s*h);break;case"XZX":n.set(s*v,f*c,f*C,s*h);break;case"YXY":n.set(f*C,s*v,f*c,s*h);break;case"ZYZ":n.set(f*c,f*C,s*v,s*h);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+a)}}function as(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function oi(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const Jne={DEG2RAD:mm,RAD2DEG:e0,generateUUID:ol,clamp:Qn,euclideanModulo:UO,mapLinear:Une,inverseLerp:Bne,lerp:bb,damp:Fne,pingpong:Hne,smoothstep:kne,smootherstep:$ne,randInt:Vne,randFloat:Gne,randFloatSpread:jne,seededRandom:Wne,degToRad:Xne,radToDeg:Yne,isPowerOfTwo:qne,ceilPowerOfTwo:Zne,floorPowerOfTwo:Kne,setQuaternionFromProperEuler:Qne,normalize:oi,denormalize:as};class At{constructor(e=0,t=0){At.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,a=e.elements;return this.x=a[0]*t+a[3]*r+a[6],this.y=a[1]*t+a[4]*r+a[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Qn(this.x,e.x,t.x),this.y=Qn(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Qn(this.x,e,t),this.y=Qn(this.y,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Qn(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Qn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),a=Math.sin(t),o=this.x-e.x,l=this.y-e.y;return this.x=o*r-l*a+e.x,this.y=o*a+l*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class ri{constructor(e,t,r,a,o,l,s,f,h){ri.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,r,a,o,l,s,f,h)}set(e,t,r,a,o,l,s,f,h){const v=this.elements;return v[0]=e,v[1]=a,v[2]=s,v[3]=t,v[4]=o,v[5]=f,v[6]=r,v[7]=l,v[8]=h,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,a=t.elements,o=this.elements,l=r[0],s=r[3],f=r[6],h=r[1],v=r[4],_=r[7],x=r[2],C=r[5],c=r[8],p=a[0],m=a[3],b=a[6],w=a[1],A=a[4],R=a[7],O=a[2],P=a[5],D=a[8];return o[0]=l*p+s*w+f*O,o[3]=l*m+s*A+f*P,o[6]=l*b+s*R+f*D,o[1]=h*p+v*w+_*O,o[4]=h*m+v*A+_*P,o[7]=h*b+v*R+_*D,o[2]=x*p+C*w+c*O,o[5]=x*m+C*A+c*P,o[8]=x*b+C*R+c*D,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],a=e[2],o=e[3],l=e[4],s=e[5],f=e[6],h=e[7],v=e[8];return t*l*v-t*s*h-r*o*v+r*s*f+a*o*h-a*l*f}invert(){const e=this.elements,t=e[0],r=e[1],a=e[2],o=e[3],l=e[4],s=e[5],f=e[6],h=e[7],v=e[8],_=v*l-s*h,x=s*f-v*o,C=h*o-l*f,c=t*_+r*x+a*C;if(c===0)return this.set(0,0,0,0,0,0,0,0,0);const p=1/c;return e[0]=_*p,e[1]=(a*h-v*r)*p,e[2]=(s*r-a*l)*p,e[3]=x*p,e[4]=(v*t-a*f)*p,e[5]=(a*o-s*t)*p,e[6]=C*p,e[7]=(r*f-h*t)*p,e[8]=(l*t-r*o)*p,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,a,o,l,s){const f=Math.cos(o),h=Math.sin(o);return this.set(r*f,r*h,-r*(f*l+h*s)+l+e,-a*h,a*f,-a*(-h*l+f*s)+s+t,0,0,1),this}scale(e,t){return this.premultiply(bT.makeScale(e,t)),this}rotate(e){return this.premultiply(bT.makeRotation(-e)),this}translate(e,t){return this.premultiply(bT.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let a=0;a<9;a++)if(t[a]!==r[a])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const bT=new ri;function B6(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const eie={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Ev(n,e){return new eie[n](e)}function Zb(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function F6(){const n=Zb("canvas");return n.style.display="block",n}const nD={};function Hp(n){n in nD||(nD[n]=!0,console.warn(n))}function tie(n,e,t){return new Promise(function(r,a){function o(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:a();break;case n.TIMEOUT_EXPIRED:setTimeout(o,t);break;default:r()}}setTimeout(o,t)})}function nie(n){const e=n.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function iie(n){const e=n.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const iD=new ri().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),rD=new ri().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function rie(){const n={enabled:!0,workingColorSpace:Bh,spaces:{},convert:function(a,o,l){return this.enabled===!1||o===l||!o||!l||(this.spaces[o].transfer===lr&&(a.r=cd(a.r),a.g=cd(a.g),a.b=cd(a.b)),this.spaces[o].primaries!==this.spaces[l].primaries&&(a.applyMatrix3(this.spaces[o].toXYZ),a.applyMatrix3(this.spaces[l].fromXYZ)),this.spaces[l].transfer===lr&&(a.r=Hv(a.r),a.g=Hv(a.g),a.b=Hv(a.b))),a},fromWorkingColorSpace:function(a,o){return this.convert(a,this.workingColorSpace,o)},toWorkingColorSpace:function(a,o){return this.convert(a,o,this.workingColorSpace)},getPrimaries:function(a){return this.spaces[a].primaries},getTransfer:function(a){return a===td?Xb:this.spaces[a].transfer},getLuminanceCoefficients:function(a,o=this.workingColorSpace){return a.fromArray(this.spaces[o].luminanceCoefficients)},define:function(a){Object.assign(this.spaces,a)},_getMatrix:function(a,o,l){return a.copy(this.spaces[o].toXYZ).multiply(this.spaces[l].fromXYZ)},_getDrawingBufferColorSpace:function(a){return this.spaces[a].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(a=this.workingColorSpace){return this.spaces[a].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],r=[.3127,.329];return n.define({[Bh]:{primaries:e,whitePoint:r,transfer:Xb,toXYZ:iD,fromXYZ:rD,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:Oo},outputColorSpaceConfig:{drawingBufferColorSpace:Oo}},[Oo]:{primaries:e,whitePoint:r,transfer:lr,toXYZ:iD,fromXYZ:rD,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:Oo}}}),n}const Di=rie();function cd(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Hv(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let Ig;class H6{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Ig===void 0&&(Ig=Zb("canvas")),Ig.width=e.width,Ig.height=e.height;const r=Ig.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=Ig}return t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Zb("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const a=r.getImageData(0,0,e.width,e.height),o=a.data;for(let l=0;l<o.length;l++)o[l]=cd(o[l]/255)*255;return r.putImageData(a,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(cd(t[r]/255)*255):t[r]=cd(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let aie=0;class Eh{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:aie++}),this.uuid=ol(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},a=this.data;if(a!==null){let o;if(Array.isArray(a)){o=[];for(let l=0,s=a.length;l<s;l++)a[l].isDataTexture?o.push(_T(a[l].image)):o.push(_T(a[l]))}else o=_T(a);r.url=o}return t||(e.images[this.uuid]=r),r}}function _T(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?H6.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let oie=0;class sa extends rf{constructor(e=sa.DEFAULT_IMAGE,t=sa.DEFAULT_MAPPING,r=kl,a=kl,o=za,l=Gu,s=zo,f=$c,h=sa.DEFAULT_ANISOTROPY,v=td){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:oie++}),this.uuid=ol(),this.name="",this.source=new Eh(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=r,this.wrapT=a,this.magFilter=o,this.minFilter=l,this.anisotropy=h,this.format=s,this.internalFormat=null,this.type=f,this.offset=new At(0,0),this.repeat=new At(1,1),this.center=new At(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ri,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=v,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==fE)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Vb:e.x=e.x-Math.floor(e.x);break;case kl:e.x=e.x<0?0:1;break;case Gb:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Vb:e.y=e.y-Math.floor(e.y);break;case kl:e.y=e.y<0?0:1;break;case Gb:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}sa.DEFAULT_IMAGE=null;sa.DEFAULT_MAPPING=fE;sa.DEFAULT_ANISOTROPY=1;class $i{constructor(e=0,t=0,r=0,a=1){$i.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=a}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,a){return this.x=e,this.y=t,this.z=r,this.w=a,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,a=this.z,o=this.w,l=e.elements;return this.x=l[0]*t+l[4]*r+l[8]*a+l[12]*o,this.y=l[1]*t+l[5]*r+l[9]*a+l[13]*o,this.z=l[2]*t+l[6]*r+l[10]*a+l[14]*o,this.w=l[3]*t+l[7]*r+l[11]*a+l[15]*o,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,a,o;const f=e.elements,h=f[0],v=f[4],_=f[8],x=f[1],C=f[5],c=f[9],p=f[2],m=f[6],b=f[10];if(Math.abs(v-x)<.01&&Math.abs(_-p)<.01&&Math.abs(c-m)<.01){if(Math.abs(v+x)<.1&&Math.abs(_+p)<.1&&Math.abs(c+m)<.1&&Math.abs(h+C+b-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const A=(h+1)/2,R=(C+1)/2,O=(b+1)/2,P=(v+x)/4,D=(_+p)/4,F=(c+m)/4;return A>R&&A>O?A<.01?(r=0,a=.707106781,o=.707106781):(r=Math.sqrt(A),a=P/r,o=D/r):R>O?R<.01?(r=.707106781,a=0,o=.707106781):(a=Math.sqrt(R),r=P/a,o=F/a):O<.01?(r=.707106781,a=.707106781,o=0):(o=Math.sqrt(O),r=D/o,a=F/o),this.set(r,a,o,t),this}let w=Math.sqrt((m-c)*(m-c)+(_-p)*(_-p)+(x-v)*(x-v));return Math.abs(w)<.001&&(w=1),this.x=(m-c)/w,this.y=(_-p)/w,this.z=(x-v)/w,this.w=Math.acos((h+C+b-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Qn(this.x,e.x,t.x),this.y=Qn(this.y,e.y,t.y),this.z=Qn(this.z,e.z,t.z),this.w=Qn(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Qn(this.x,e,t),this.y=Qn(this.y,e,t),this.z=Qn(this.z,e,t),this.w=Qn(this.w,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Qn(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class bE extends rf{constructor(e=1,t=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new $i(0,0,e,t),this.scissorTest=!1,this.viewport=new $i(0,0,e,t);const a={width:e,height:t,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:za,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},r);const o=new sa(a,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);o.flipY=!1,o.generateMipmaps=r.generateMipmaps,o.internalFormat=r.internalFormat,this.textures=[];const l=r.count;for(let s=0;s<l;s++)this.textures[s]=o.clone(),this.textures[s].isRenderTargetTexture=!0,this.textures[s].renderTarget=this;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let a=0,o=this.textures.length;a<o;a++)this.textures[a].image.width=e,this.textures[a].image.height=t,this.textures[a].image.depth=r;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,r=e.textures.length;t<r;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const a=Object.assign({},e.textures[t].image);this.textures[t].source=new Eh(a)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Qu extends bE{constructor(e=1,t=1,r={}){super(e,t,r),this.isWebGLRenderTarget=!0}}class T_ extends sa{constructor(e=null,t=1,r=1,a=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:a},this.magFilter=ho,this.minFilter=ho,this.wrapR=kl,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class sie extends Qu{constructor(e=1,t=1,r=1,a={}){super(e,t,a),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new T_(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class _E extends sa{constructor(e=null,t=1,r=1,a=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:a},this.magFilter=ho,this.minFilter=ho,this.wrapR=kl,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class lie extends Qu{constructor(e=1,t=1,r=1,a={}){super(e,t,a),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new _E(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class Xi{constructor(e=0,t=0,r=0,a=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=a}static slerpFlat(e,t,r,a,o,l,s){let f=r[a+0],h=r[a+1],v=r[a+2],_=r[a+3];const x=o[l+0],C=o[l+1],c=o[l+2],p=o[l+3];if(s===0){e[t+0]=f,e[t+1]=h,e[t+2]=v,e[t+3]=_;return}if(s===1){e[t+0]=x,e[t+1]=C,e[t+2]=c,e[t+3]=p;return}if(_!==p||f!==x||h!==C||v!==c){let m=1-s;const b=f*x+h*C+v*c+_*p,w=b>=0?1:-1,A=1-b*b;if(A>Number.EPSILON){const O=Math.sqrt(A),P=Math.atan2(O,b*w);m=Math.sin(m*P)/O,s=Math.sin(s*P)/O}const R=s*w;if(f=f*m+x*R,h=h*m+C*R,v=v*m+c*R,_=_*m+p*R,m===1-s){const O=1/Math.sqrt(f*f+h*h+v*v+_*_);f*=O,h*=O,v*=O,_*=O}}e[t]=f,e[t+1]=h,e[t+2]=v,e[t+3]=_}static multiplyQuaternionsFlat(e,t,r,a,o,l){const s=r[a],f=r[a+1],h=r[a+2],v=r[a+3],_=o[l],x=o[l+1],C=o[l+2],c=o[l+3];return e[t]=s*c+v*_+f*C-h*x,e[t+1]=f*c+v*x+h*_-s*C,e[t+2]=h*c+v*C+s*x-f*_,e[t+3]=v*c-s*_-f*x-h*C,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,a){return this._x=e,this._y=t,this._z=r,this._w=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const r=e._x,a=e._y,o=e._z,l=e._order,s=Math.cos,f=Math.sin,h=s(r/2),v=s(a/2),_=s(o/2),x=f(r/2),C=f(a/2),c=f(o/2);switch(l){case"XYZ":this._x=x*v*_+h*C*c,this._y=h*C*_-x*v*c,this._z=h*v*c+x*C*_,this._w=h*v*_-x*C*c;break;case"YXZ":this._x=x*v*_+h*C*c,this._y=h*C*_-x*v*c,this._z=h*v*c-x*C*_,this._w=h*v*_+x*C*c;break;case"ZXY":this._x=x*v*_-h*C*c,this._y=h*C*_+x*v*c,this._z=h*v*c+x*C*_,this._w=h*v*_-x*C*c;break;case"ZYX":this._x=x*v*_-h*C*c,this._y=h*C*_+x*v*c,this._z=h*v*c-x*C*_,this._w=h*v*_+x*C*c;break;case"YZX":this._x=x*v*_+h*C*c,this._y=h*C*_+x*v*c,this._z=h*v*c-x*C*_,this._w=h*v*_-x*C*c;break;case"XZY":this._x=x*v*_-h*C*c,this._y=h*C*_-x*v*c,this._z=h*v*c+x*C*_,this._w=h*v*_+x*C*c;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+l)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,a=Math.sin(r);return this._x=e.x*a,this._y=e.y*a,this._z=e.z*a,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],a=t[4],o=t[8],l=t[1],s=t[5],f=t[9],h=t[2],v=t[6],_=t[10],x=r+s+_;if(x>0){const C=.5/Math.sqrt(x+1);this._w=.25/C,this._x=(v-f)*C,this._y=(o-h)*C,this._z=(l-a)*C}else if(r>s&&r>_){const C=2*Math.sqrt(1+r-s-_);this._w=(v-f)/C,this._x=.25*C,this._y=(a+l)/C,this._z=(o+h)/C}else if(s>_){const C=2*Math.sqrt(1+s-r-_);this._w=(o-h)/C,this._x=(a+l)/C,this._y=.25*C,this._z=(f+v)/C}else{const C=2*Math.sqrt(1+_-r-s);this._w=(l-a)/C,this._x=(o+h)/C,this._y=(f+v)/C,this._z=.25*C}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Qn(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const a=Math.min(1,t/r);return this.slerp(e,a),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,a=e._y,o=e._z,l=e._w,s=t._x,f=t._y,h=t._z,v=t._w;return this._x=r*v+l*s+a*h-o*f,this._y=a*v+l*f+o*s-r*h,this._z=o*v+l*h+r*f-a*s,this._w=l*v-r*s-a*f-o*h,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,a=this._y,o=this._z,l=this._w;let s=l*e._w+r*e._x+a*e._y+o*e._z;if(s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),s>=1)return this._w=l,this._x=r,this._y=a,this._z=o,this;const f=1-s*s;if(f<=Number.EPSILON){const C=1-t;return this._w=C*l+t*this._w,this._x=C*r+t*this._x,this._y=C*a+t*this._y,this._z=C*o+t*this._z,this.normalize(),this}const h=Math.sqrt(f),v=Math.atan2(h,s),_=Math.sin((1-t)*v)/h,x=Math.sin(t*v)/h;return this._w=l*_+this._w*x,this._x=r*_+this._x*x,this._y=a*_+this._y*x,this._z=o*_+this._z*x,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),r=Math.random(),a=Math.sqrt(1-r),o=Math.sqrt(r);return this.set(a*Math.sin(e),a*Math.cos(e),o*Math.sin(t),o*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ye{constructor(e=0,t=0,r=0){ye.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(aD.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(aD.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,a=this.z,o=e.elements;return this.x=o[0]*t+o[3]*r+o[6]*a,this.y=o[1]*t+o[4]*r+o[7]*a,this.z=o[2]*t+o[5]*r+o[8]*a,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,a=this.z,o=e.elements,l=1/(o[3]*t+o[7]*r+o[11]*a+o[15]);return this.x=(o[0]*t+o[4]*r+o[8]*a+o[12])*l,this.y=(o[1]*t+o[5]*r+o[9]*a+o[13])*l,this.z=(o[2]*t+o[6]*r+o[10]*a+o[14])*l,this}applyQuaternion(e){const t=this.x,r=this.y,a=this.z,o=e.x,l=e.y,s=e.z,f=e.w,h=2*(l*a-s*r),v=2*(s*t-o*a),_=2*(o*r-l*t);return this.x=t+f*h+l*_-s*v,this.y=r+f*v+s*h-o*_,this.z=a+f*_+o*v-l*h,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,a=this.z,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*a,this.y=o[1]*t+o[5]*r+o[9]*a,this.z=o[2]*t+o[6]*r+o[10]*a,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Qn(this.x,e.x,t.x),this.y=Qn(this.y,e.y,t.y),this.z=Qn(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Qn(this.x,e,t),this.y=Qn(this.y,e,t),this.z=Qn(this.z,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Qn(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,a=e.y,o=e.z,l=t.x,s=t.y,f=t.z;return this.x=a*f-o*s,this.y=o*l-r*f,this.z=r*s-a*l,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return ST.copy(this).projectOnVector(e),this.sub(ST)}reflect(e){return this.sub(ST.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Qn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,a=this.z-e.z;return t*t+r*r+a*a}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const a=Math.sin(t)*e;return this.x=a*Math.sin(r),this.y=Math.cos(t)*e,this.z=a*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),a=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=a,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,r=Math.sqrt(1-t*t);return this.x=r*Math.cos(e),this.y=t,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const ST=new ye,aD=new Xi;class ss{constructor(e=new ye(1/0,1/0,1/0),t=new ye(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(Cc.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(Cc.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=Cc.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const o=r.getAttribute("position");if(t===!0&&o!==void 0&&e.isInstancedMesh!==!0)for(let l=0,s=o.count;l<s;l++)e.isMesh===!0?e.getVertexPosition(l,Cc):Cc.fromBufferAttribute(o,l),Cc.applyMatrix4(e.matrixWorld),this.expandByPoint(Cc);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),cx.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),cx.copy(r.boundingBox)),cx.applyMatrix4(e.matrixWorld),this.union(cx)}const a=e.children;for(let o=0,l=a.length;o<l;o++)this.expandByObject(a[o],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Cc),Cc.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Ty),ux.subVectors(this.max,Ty),zg.subVectors(e.a,Ty),Pg.subVectors(e.b,Ty),Dg.subVectors(e.c,Ty),ih.subVectors(Pg,zg),rh.subVectors(Dg,Pg),wp.subVectors(zg,Dg);let t=[0,-ih.z,ih.y,0,-rh.z,rh.y,0,-wp.z,wp.y,ih.z,0,-ih.x,rh.z,0,-rh.x,wp.z,0,-wp.x,-ih.y,ih.x,0,-rh.y,rh.x,0,-wp.y,wp.x,0];return!xT(t,zg,Pg,Dg,ux)||(t=[1,0,0,0,1,0,0,0,1],!xT(t,zg,Pg,Dg,ux))?!1:(fx.crossVectors(ih,rh),t=[fx.x,fx.y,fx.z],xT(t,zg,Pg,Dg,ux))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Cc).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Cc).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Lf[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Lf[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Lf[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Lf[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Lf[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Lf[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Lf[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Lf[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Lf),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Lf=[new ye,new ye,new ye,new ye,new ye,new ye,new ye,new ye],Cc=new ye,cx=new ss,zg=new ye,Pg=new ye,Dg=new ye,ih=new ye,rh=new ye,wp=new ye,Ty=new ye,ux=new ye,fx=new ye,Cp=new ye;function xT(n,e,t,r,a){for(let o=0,l=n.length-3;o<=l;o+=3){Cp.fromArray(n,o);const s=a.x*Math.abs(Cp.x)+a.y*Math.abs(Cp.y)+a.z*Math.abs(Cp.z),f=e.dot(Cp),h=t.dot(Cp),v=r.dot(Cp);if(Math.max(-Math.max(f,h,v),Math.min(f,h,v))>s)return!1}return!0}const cie=new ss,Ay=new ye,wT=new ye;class Do{constructor(e=new ye,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):cie.setFromPoints(e).getCenter(r);let a=0;for(let o=0,l=e.length;o<l;o++)a=Math.max(a,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(a),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Ay.subVectors(e,this.center);const t=Ay.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),a=(r-this.radius)*.5;this.center.addScaledVector(Ay,a/r),this.radius+=a}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(wT.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Ay.copy(e.center).add(wT)),this.expandByPoint(Ay.copy(e.center).sub(wT))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Nf=new ye,CT=new ye,dx=new ye,ah=new ye,ET=new ye,hx=new ye,MT=new ye;class zm{constructor(e=new ye,t=new ye(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Nf)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Nf.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Nf.copy(this.origin).addScaledVector(this.direction,t),Nf.distanceToSquared(e))}distanceSqToSegment(e,t,r,a){CT.copy(e).add(t).multiplyScalar(.5),dx.copy(t).sub(e).normalize(),ah.copy(this.origin).sub(CT);const o=e.distanceTo(t)*.5,l=-this.direction.dot(dx),s=ah.dot(this.direction),f=-ah.dot(dx),h=ah.lengthSq(),v=Math.abs(1-l*l);let _,x,C,c;if(v>0)if(_=l*f-s,x=l*s-f,c=o*v,_>=0)if(x>=-c)if(x<=c){const p=1/v;_*=p,x*=p,C=_*(_+l*x+2*s)+x*(l*_+x+2*f)+h}else x=o,_=Math.max(0,-(l*x+s)),C=-_*_+x*(x+2*f)+h;else x=-o,_=Math.max(0,-(l*x+s)),C=-_*_+x*(x+2*f)+h;else x<=-c?(_=Math.max(0,-(-l*o+s)),x=_>0?-o:Math.min(Math.max(-o,-f),o),C=-_*_+x*(x+2*f)+h):x<=c?(_=0,x=Math.min(Math.max(-o,-f),o),C=x*(x+2*f)+h):(_=Math.max(0,-(l*o+s)),x=_>0?o:Math.min(Math.max(-o,-f),o),C=-_*_+x*(x+2*f)+h);else x=l>0?-o:o,_=Math.max(0,-(l*x+s)),C=-_*_+x*(x+2*f)+h;return r&&r.copy(this.origin).addScaledVector(this.direction,_),a&&a.copy(CT).addScaledVector(dx,x),C}intersectSphere(e,t){Nf.subVectors(e.center,this.origin);const r=Nf.dot(this.direction),a=Nf.dot(Nf)-r*r,o=e.radius*e.radius;if(a>o)return null;const l=Math.sqrt(o-a),s=r-l,f=r+l;return f<0?null:s<0?this.at(f,t):this.at(s,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,a,o,l,s,f;const h=1/this.direction.x,v=1/this.direction.y,_=1/this.direction.z,x=this.origin;return h>=0?(r=(e.min.x-x.x)*h,a=(e.max.x-x.x)*h):(r=(e.max.x-x.x)*h,a=(e.min.x-x.x)*h),v>=0?(o=(e.min.y-x.y)*v,l=(e.max.y-x.y)*v):(o=(e.max.y-x.y)*v,l=(e.min.y-x.y)*v),r>l||o>a||((o>r||isNaN(r))&&(r=o),(l<a||isNaN(a))&&(a=l),_>=0?(s=(e.min.z-x.z)*_,f=(e.max.z-x.z)*_):(s=(e.max.z-x.z)*_,f=(e.min.z-x.z)*_),r>f||s>a)||((s>r||r!==r)&&(r=s),(f<a||a!==a)&&(a=f),a<0)?null:this.at(r>=0?r:a,t)}intersectsBox(e){return this.intersectBox(e,Nf)!==null}intersectTriangle(e,t,r,a,o){ET.subVectors(t,e),hx.subVectors(r,e),MT.crossVectors(ET,hx);let l=this.direction.dot(MT),s;if(l>0){if(a)return null;s=1}else if(l<0)s=-1,l=-l;else return null;ah.subVectors(this.origin,e);const f=s*this.direction.dot(hx.crossVectors(ah,hx));if(f<0)return null;const h=s*this.direction.dot(ET.cross(ah));if(h<0||f+h>l)return null;const v=-s*ah.dot(MT);return v<0?null:this.at(v/l,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class kn{constructor(e,t,r,a,o,l,s,f,h,v,_,x,C,c,p,m){kn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,r,a,o,l,s,f,h,v,_,x,C,c,p,m)}set(e,t,r,a,o,l,s,f,h,v,_,x,C,c,p,m){const b=this.elements;return b[0]=e,b[4]=t,b[8]=r,b[12]=a,b[1]=o,b[5]=l,b[9]=s,b[13]=f,b[2]=h,b[6]=v,b[10]=_,b[14]=x,b[3]=C,b[7]=c,b[11]=p,b[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new kn().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,a=1/Lg.setFromMatrixColumn(e,0).length(),o=1/Lg.setFromMatrixColumn(e,1).length(),l=1/Lg.setFromMatrixColumn(e,2).length();return t[0]=r[0]*a,t[1]=r[1]*a,t[2]=r[2]*a,t[3]=0,t[4]=r[4]*o,t[5]=r[5]*o,t[6]=r[6]*o,t[7]=0,t[8]=r[8]*l,t[9]=r[9]*l,t[10]=r[10]*l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,a=e.y,o=e.z,l=Math.cos(r),s=Math.sin(r),f=Math.cos(a),h=Math.sin(a),v=Math.cos(o),_=Math.sin(o);if(e.order==="XYZ"){const x=l*v,C=l*_,c=s*v,p=s*_;t[0]=f*v,t[4]=-f*_,t[8]=h,t[1]=C+c*h,t[5]=x-p*h,t[9]=-s*f,t[2]=p-x*h,t[6]=c+C*h,t[10]=l*f}else if(e.order==="YXZ"){const x=f*v,C=f*_,c=h*v,p=h*_;t[0]=x+p*s,t[4]=c*s-C,t[8]=l*h,t[1]=l*_,t[5]=l*v,t[9]=-s,t[2]=C*s-c,t[6]=p+x*s,t[10]=l*f}else if(e.order==="ZXY"){const x=f*v,C=f*_,c=h*v,p=h*_;t[0]=x-p*s,t[4]=-l*_,t[8]=c+C*s,t[1]=C+c*s,t[5]=l*v,t[9]=p-x*s,t[2]=-l*h,t[6]=s,t[10]=l*f}else if(e.order==="ZYX"){const x=l*v,C=l*_,c=s*v,p=s*_;t[0]=f*v,t[4]=c*h-C,t[8]=x*h+p,t[1]=f*_,t[5]=p*h+x,t[9]=C*h-c,t[2]=-h,t[6]=s*f,t[10]=l*f}else if(e.order==="YZX"){const x=l*f,C=l*h,c=s*f,p=s*h;t[0]=f*v,t[4]=p-x*_,t[8]=c*_+C,t[1]=_,t[5]=l*v,t[9]=-s*v,t[2]=-h*v,t[6]=C*_+c,t[10]=x-p*_}else if(e.order==="XZY"){const x=l*f,C=l*h,c=s*f,p=s*h;t[0]=f*v,t[4]=-_,t[8]=h*v,t[1]=x*_+p,t[5]=l*v,t[9]=C*_-c,t[2]=c*_-C,t[6]=s*v,t[10]=p*_+x}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(uie,e,fie)}lookAt(e,t,r){const a=this.elements;return Qs.subVectors(e,t),Qs.lengthSq()===0&&(Qs.z=1),Qs.normalize(),oh.crossVectors(r,Qs),oh.lengthSq()===0&&(Math.abs(r.z)===1?Qs.x+=1e-4:Qs.z+=1e-4,Qs.normalize(),oh.crossVectors(r,Qs)),oh.normalize(),px.crossVectors(Qs,oh),a[0]=oh.x,a[4]=px.x,a[8]=Qs.x,a[1]=oh.y,a[5]=px.y,a[9]=Qs.y,a[2]=oh.z,a[6]=px.z,a[10]=Qs.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,a=t.elements,o=this.elements,l=r[0],s=r[4],f=r[8],h=r[12],v=r[1],_=r[5],x=r[9],C=r[13],c=r[2],p=r[6],m=r[10],b=r[14],w=r[3],A=r[7],R=r[11],O=r[15],P=a[0],D=a[4],F=a[8],B=a[12],U=a[1],V=a[5],Q=a[9],X=a[13],ee=a[2],ae=a[6],Z=a[10],K=a[14],te=a[3],ce=a[7],q=a[11],J=a[15];return o[0]=l*P+s*U+f*ee+h*te,o[4]=l*D+s*V+f*ae+h*ce,o[8]=l*F+s*Q+f*Z+h*q,o[12]=l*B+s*X+f*K+h*J,o[1]=v*P+_*U+x*ee+C*te,o[5]=v*D+_*V+x*ae+C*ce,o[9]=v*F+_*Q+x*Z+C*q,o[13]=v*B+_*X+x*K+C*J,o[2]=c*P+p*U+m*ee+b*te,o[6]=c*D+p*V+m*ae+b*ce,o[10]=c*F+p*Q+m*Z+b*q,o[14]=c*B+p*X+m*K+b*J,o[3]=w*P+A*U+R*ee+O*te,o[7]=w*D+A*V+R*ae+O*ce,o[11]=w*F+A*Q+R*Z+O*q,o[15]=w*B+A*X+R*K+O*J,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],a=e[8],o=e[12],l=e[1],s=e[5],f=e[9],h=e[13],v=e[2],_=e[6],x=e[10],C=e[14],c=e[3],p=e[7],m=e[11],b=e[15];return c*(+o*f*_-a*h*_-o*s*x+r*h*x+a*s*C-r*f*C)+p*(+t*f*C-t*h*x+o*l*x-a*l*C+a*h*v-o*f*v)+m*(+t*h*_-t*s*C-o*l*_+r*l*C+o*s*v-r*h*v)+b*(-a*s*v-t*f*_+t*s*x+a*l*_-r*l*x+r*f*v)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const a=this.elements;return e.isVector3?(a[12]=e.x,a[13]=e.y,a[14]=e.z):(a[12]=e,a[13]=t,a[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],a=e[2],o=e[3],l=e[4],s=e[5],f=e[6],h=e[7],v=e[8],_=e[9],x=e[10],C=e[11],c=e[12],p=e[13],m=e[14],b=e[15],w=_*m*h-p*x*h+p*f*C-s*m*C-_*f*b+s*x*b,A=c*x*h-v*m*h-c*f*C+l*m*C+v*f*b-l*x*b,R=v*p*h-c*_*h+c*s*C-l*p*C-v*s*b+l*_*b,O=c*_*f-v*p*f-c*s*x+l*p*x+v*s*m-l*_*m,P=t*w+r*A+a*R+o*O;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const D=1/P;return e[0]=w*D,e[1]=(p*x*o-_*m*o-p*a*C+r*m*C+_*a*b-r*x*b)*D,e[2]=(s*m*o-p*f*o+p*a*h-r*m*h-s*a*b+r*f*b)*D,e[3]=(_*f*o-s*x*o-_*a*h+r*x*h+s*a*C-r*f*C)*D,e[4]=A*D,e[5]=(v*m*o-c*x*o+c*a*C-t*m*C-v*a*b+t*x*b)*D,e[6]=(c*f*o-l*m*o-c*a*h+t*m*h+l*a*b-t*f*b)*D,e[7]=(l*x*o-v*f*o+v*a*h-t*x*h-l*a*C+t*f*C)*D,e[8]=R*D,e[9]=(c*_*o-v*p*o-c*r*C+t*p*C+v*r*b-t*_*b)*D,e[10]=(l*p*o-c*s*o+c*r*h-t*p*h-l*r*b+t*s*b)*D,e[11]=(v*s*o-l*_*o-v*r*h+t*_*h+l*r*C-t*s*C)*D,e[12]=O*D,e[13]=(v*p*a-c*_*a+c*r*x-t*p*x-v*r*m+t*_*m)*D,e[14]=(c*s*a-l*p*a-c*r*f+t*p*f+l*r*m-t*s*m)*D,e[15]=(l*_*a-v*s*a+v*r*f-t*_*f-l*r*x+t*s*x)*D,this}scale(e){const t=this.elements,r=e.x,a=e.y,o=e.z;return t[0]*=r,t[4]*=a,t[8]*=o,t[1]*=r,t[5]*=a,t[9]*=o,t[2]*=r,t[6]*=a,t[10]*=o,t[3]*=r,t[7]*=a,t[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],a=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,a))}makeTranslation(e,t,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),a=Math.sin(t),o=1-r,l=e.x,s=e.y,f=e.z,h=o*l,v=o*s;return this.set(h*l+r,h*s-a*f,h*f+a*s,0,h*s+a*f,v*s+r,v*f-a*l,0,h*f-a*s,v*f+a*l,o*f*f+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,a,o,l){return this.set(1,r,o,0,e,1,l,0,t,a,1,0,0,0,0,1),this}compose(e,t,r){const a=this.elements,o=t._x,l=t._y,s=t._z,f=t._w,h=o+o,v=l+l,_=s+s,x=o*h,C=o*v,c=o*_,p=l*v,m=l*_,b=s*_,w=f*h,A=f*v,R=f*_,O=r.x,P=r.y,D=r.z;return a[0]=(1-(p+b))*O,a[1]=(C+R)*O,a[2]=(c-A)*O,a[3]=0,a[4]=(C-R)*P,a[5]=(1-(x+b))*P,a[6]=(m+w)*P,a[7]=0,a[8]=(c+A)*D,a[9]=(m-w)*D,a[10]=(1-(x+p))*D,a[11]=0,a[12]=e.x,a[13]=e.y,a[14]=e.z,a[15]=1,this}decompose(e,t,r){const a=this.elements;let o=Lg.set(a[0],a[1],a[2]).length();const l=Lg.set(a[4],a[5],a[6]).length(),s=Lg.set(a[8],a[9],a[10]).length();this.determinant()<0&&(o=-o),e.x=a[12],e.y=a[13],e.z=a[14],Ec.copy(this);const h=1/o,v=1/l,_=1/s;return Ec.elements[0]*=h,Ec.elements[1]*=h,Ec.elements[2]*=h,Ec.elements[4]*=v,Ec.elements[5]*=v,Ec.elements[6]*=v,Ec.elements[8]*=_,Ec.elements[9]*=_,Ec.elements[10]*=_,t.setFromRotationMatrix(Ec),r.x=o,r.y=l,r.z=s,this}makePerspective(e,t,r,a,o,l,s=Uc){const f=this.elements,h=2*o/(t-e),v=2*o/(r-a),_=(t+e)/(t-e),x=(r+a)/(r-a);let C,c;if(s===Uc)C=-(l+o)/(l-o),c=-2*l*o/(l-o);else if(s===qb)C=-l/(l-o),c=-l*o/(l-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+s);return f[0]=h,f[4]=0,f[8]=_,f[12]=0,f[1]=0,f[5]=v,f[9]=x,f[13]=0,f[2]=0,f[6]=0,f[10]=C,f[14]=c,f[3]=0,f[7]=0,f[11]=-1,f[15]=0,this}makeOrthographic(e,t,r,a,o,l,s=Uc){const f=this.elements,h=1/(t-e),v=1/(r-a),_=1/(l-o),x=(t+e)*h,C=(r+a)*v;let c,p;if(s===Uc)c=(l+o)*_,p=-2*_;else if(s===qb)c=o*_,p=-1*_;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+s);return f[0]=2*h,f[4]=0,f[8]=0,f[12]=-x,f[1]=0,f[5]=2*v,f[9]=0,f[13]=-C,f[2]=0,f[6]=0,f[10]=p,f[14]=-c,f[3]=0,f[7]=0,f[11]=0,f[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let a=0;a<16;a++)if(t[a]!==r[a])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const Lg=new ye,Ec=new kn,uie=new ye(0,0,0),fie=new ye(1,1,1),oh=new ye,px=new ye,Qs=new ye,oD=new kn,sD=new Xi;class zs{constructor(e=0,t=0,r=0,a=zs.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=a}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,a=this._order){return this._x=e,this._y=t,this._z=r,this._order=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const a=e.elements,o=a[0],l=a[4],s=a[8],f=a[1],h=a[5],v=a[9],_=a[2],x=a[6],C=a[10];switch(t){case"XYZ":this._y=Math.asin(Qn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-v,C),this._z=Math.atan2(-l,o)):(this._x=Math.atan2(x,h),this._z=0);break;case"YXZ":this._x=Math.asin(-Qn(v,-1,1)),Math.abs(v)<.9999999?(this._y=Math.atan2(s,C),this._z=Math.atan2(f,h)):(this._y=Math.atan2(-_,o),this._z=0);break;case"ZXY":this._x=Math.asin(Qn(x,-1,1)),Math.abs(x)<.9999999?(this._y=Math.atan2(-_,C),this._z=Math.atan2(-l,h)):(this._y=0,this._z=Math.atan2(f,o));break;case"ZYX":this._y=Math.asin(-Qn(_,-1,1)),Math.abs(_)<.9999999?(this._x=Math.atan2(x,C),this._z=Math.atan2(f,o)):(this._x=0,this._z=Math.atan2(-l,h));break;case"YZX":this._z=Math.asin(Qn(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(-v,h),this._y=Math.atan2(-_,o)):(this._x=0,this._y=Math.atan2(s,C));break;case"XZY":this._z=Math.asin(-Qn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(x,h),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-v,C),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return oD.makeRotationFromQuaternion(e),this.setFromRotationMatrix(oD,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return sD.setFromEuler(this),this.setFromQuaternion(sD,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}zs.DEFAULT_ORDER="XYZ";class t0{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let die=0;const lD=new ye,Ng=new Xi,Uf=new kn,mx=new ye,Ry=new ye,hie=new ye,pie=new Xi,cD=new ye(1,0,0),uD=new ye(0,1,0),fD=new ye(0,0,1),dD={type:"added"},mie={type:"removed"},Ug={type:"childadded",child:null},TT={type:"childremoved",child:null};class xi extends rf{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:die++}),this.uuid=ol(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=xi.DEFAULT_UP.clone();const e=new ye,t=new zs,r=new Xi,a=new ye(1,1,1);function o(){r.setFromEuler(t,!1)}function l(){t.setFromQuaternion(r,void 0,!1)}t._onChange(o),r._onChange(l),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:a},modelViewMatrix:{value:new kn},normalMatrix:{value:new ri}}),this.matrix=new kn,this.matrixWorld=new kn,this.matrixAutoUpdate=xi.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=xi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new t0,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Ng.setFromAxisAngle(e,t),this.quaternion.multiply(Ng),this}rotateOnWorldAxis(e,t){return Ng.setFromAxisAngle(e,t),this.quaternion.premultiply(Ng),this}rotateX(e){return this.rotateOnAxis(cD,e)}rotateY(e){return this.rotateOnAxis(uD,e)}rotateZ(e){return this.rotateOnAxis(fD,e)}translateOnAxis(e,t){return lD.copy(e).applyQuaternion(this.quaternion),this.position.add(lD.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(cD,e)}translateY(e){return this.translateOnAxis(uD,e)}translateZ(e){return this.translateOnAxis(fD,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Uf.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?mx.copy(e):mx.set(e,t,r);const a=this.parent;this.updateWorldMatrix(!0,!1),Ry.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Uf.lookAt(Ry,mx,this.up):Uf.lookAt(mx,Ry,this.up),this.quaternion.setFromRotationMatrix(Uf),a&&(Uf.extractRotation(a.matrixWorld),Ng.setFromRotationMatrix(Uf),this.quaternion.premultiply(Ng.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(dD),Ug.child=e,this.dispatchEvent(Ug),Ug.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(mie),TT.child=e,this.dispatchEvent(TT),TT.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Uf.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Uf.multiply(e.parent.matrixWorld)),e.applyMatrix4(Uf),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(dD),Ug.child=e,this.dispatchEvent(Ug),Ug.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,a=this.children.length;r<a;r++){const l=this.children[r].getObjectByProperty(e,t);if(l!==void 0)return l}}getObjectsByProperty(e,t,r=[]){this[e]===t&&r.push(this);const a=this.children;for(let o=0,l=a.length;o<l;o++)a[o].getObjectsByProperty(e,t,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ry,e,hie),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ry,pie,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,a=t.length;r<a;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,a=t.length;r<a;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,a=t.length;r<a;r++)t[r].updateMatrixWorld(e)}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const a=this.children;for(let o=0,l=a.length;o<l;o++)a[o].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const a={};a.uuid=this.uuid,a.type=this.type,this.name!==""&&(a.name=this.name),this.castShadow===!0&&(a.castShadow=!0),this.receiveShadow===!0&&(a.receiveShadow=!0),this.visible===!1&&(a.visible=!1),this.frustumCulled===!1&&(a.frustumCulled=!1),this.renderOrder!==0&&(a.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(a.userData=this.userData),a.layers=this.layers.mask,a.matrix=this.matrix.toArray(),a.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(a.matrixAutoUpdate=!1),this.isInstancedMesh&&(a.type="InstancedMesh",a.count=this.count,a.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(a.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(a.type="BatchedMesh",a.perObjectFrustumCulled=this.perObjectFrustumCulled,a.sortObjects=this.sortObjects,a.drawRanges=this._drawRanges,a.reservedRanges=this._reservedRanges,a.visibility=this._visibility,a.active=this._active,a.bounds=this._bounds.map(s=>({boxInitialized:s.boxInitialized,boxMin:s.box.min.toArray(),boxMax:s.box.max.toArray(),sphereInitialized:s.sphereInitialized,sphereRadius:s.sphere.radius,sphereCenter:s.sphere.center.toArray()})),a.maxInstanceCount=this._maxInstanceCount,a.maxVertexCount=this._maxVertexCount,a.maxIndexCount=this._maxIndexCount,a.geometryInitialized=this._geometryInitialized,a.geometryCount=this._geometryCount,a.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(a.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(a.boundingSphere={center:a.boundingSphere.center.toArray(),radius:a.boundingSphere.radius}),this.boundingBox!==null&&(a.boundingBox={min:a.boundingBox.min.toArray(),max:a.boundingBox.max.toArray()}));function o(s,f){return s[f.uuid]===void 0&&(s[f.uuid]=f.toJSON(e)),f.uuid}if(this.isScene)this.background&&(this.background.isColor?a.background=this.background.toJSON():this.background.isTexture&&(a.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(a.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){a.geometry=o(e.geometries,this.geometry);const s=this.geometry.parameters;if(s!==void 0&&s.shapes!==void 0){const f=s.shapes;if(Array.isArray(f))for(let h=0,v=f.length;h<v;h++){const _=f[h];o(e.shapes,_)}else o(e.shapes,f)}}if(this.isSkinnedMesh&&(a.bindMode=this.bindMode,a.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),a.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const s=[];for(let f=0,h=this.material.length;f<h;f++)s.push(o(e.materials,this.material[f]));a.material=s}else a.material=o(e.materials,this.material);if(this.children.length>0){a.children=[];for(let s=0;s<this.children.length;s++)a.children.push(this.children[s].toJSON(e).object)}if(this.animations.length>0){a.animations=[];for(let s=0;s<this.animations.length;s++){const f=this.animations[s];a.animations.push(o(e.animations,f))}}if(t){const s=l(e.geometries),f=l(e.materials),h=l(e.textures),v=l(e.images),_=l(e.shapes),x=l(e.skeletons),C=l(e.animations),c=l(e.nodes);s.length>0&&(r.geometries=s),f.length>0&&(r.materials=f),h.length>0&&(r.textures=h),v.length>0&&(r.images=v),_.length>0&&(r.shapes=_),x.length>0&&(r.skeletons=x),C.length>0&&(r.animations=C),c.length>0&&(r.nodes=c)}return r.object=a,r;function l(s){const f=[];for(const h in s){const v=s[h];delete v.metadata,f.push(v)}return f}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const a=e.children[r];this.add(a.clone())}return this}}xi.DEFAULT_UP=new ye(0,1,0);xi.DEFAULT_MATRIX_AUTO_UPDATE=!0;xi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Mc=new ye,Bf=new ye,AT=new ye,Ff=new ye,Bg=new ye,Fg=new ye,hD=new ye,RT=new ye,OT=new ye,IT=new ye,zT=new $i,PT=new $i,DT=new $i;class Os{constructor(e=new ye,t=new ye,r=new ye){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,a){a.subVectors(r,t),Mc.subVectors(e,t),a.cross(Mc);const o=a.lengthSq();return o>0?a.multiplyScalar(1/Math.sqrt(o)):a.set(0,0,0)}static getBarycoord(e,t,r,a,o){Mc.subVectors(a,t),Bf.subVectors(r,t),AT.subVectors(e,t);const l=Mc.dot(Mc),s=Mc.dot(Bf),f=Mc.dot(AT),h=Bf.dot(Bf),v=Bf.dot(AT),_=l*h-s*s;if(_===0)return o.set(0,0,0),null;const x=1/_,C=(h*f-s*v)*x,c=(l*v-s*f)*x;return o.set(1-C-c,c,C)}static containsPoint(e,t,r,a){return this.getBarycoord(e,t,r,a,Ff)===null?!1:Ff.x>=0&&Ff.y>=0&&Ff.x+Ff.y<=1}static getInterpolation(e,t,r,a,o,l,s,f){return this.getBarycoord(e,t,r,a,Ff)===null?(f.x=0,f.y=0,"z"in f&&(f.z=0),"w"in f&&(f.w=0),null):(f.setScalar(0),f.addScaledVector(o,Ff.x),f.addScaledVector(l,Ff.y),f.addScaledVector(s,Ff.z),f)}static getInterpolatedAttribute(e,t,r,a,o,l){return zT.setScalar(0),PT.setScalar(0),DT.setScalar(0),zT.fromBufferAttribute(e,t),PT.fromBufferAttribute(e,r),DT.fromBufferAttribute(e,a),l.setScalar(0),l.addScaledVector(zT,o.x),l.addScaledVector(PT,o.y),l.addScaledVector(DT,o.z),l}static isFrontFacing(e,t,r,a){return Mc.subVectors(r,t),Bf.subVectors(e,t),Mc.cross(Bf).dot(a)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,a){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[a]),this}setFromAttributeAndIndices(e,t,r,a){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,a),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Mc.subVectors(this.c,this.b),Bf.subVectors(this.a,this.b),Mc.cross(Bf).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Os.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Os.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,r,a,o){return Os.getInterpolation(e,this.a,this.b,this.c,t,r,a,o)}containsPoint(e){return Os.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Os.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,a=this.b,o=this.c;let l,s;Bg.subVectors(a,r),Fg.subVectors(o,r),RT.subVectors(e,r);const f=Bg.dot(RT),h=Fg.dot(RT);if(f<=0&&h<=0)return t.copy(r);OT.subVectors(e,a);const v=Bg.dot(OT),_=Fg.dot(OT);if(v>=0&&_<=v)return t.copy(a);const x=f*_-v*h;if(x<=0&&f>=0&&v<=0)return l=f/(f-v),t.copy(r).addScaledVector(Bg,l);IT.subVectors(e,o);const C=Bg.dot(IT),c=Fg.dot(IT);if(c>=0&&C<=c)return t.copy(o);const p=C*h-f*c;if(p<=0&&h>=0&&c<=0)return s=h/(h-c),t.copy(r).addScaledVector(Fg,s);const m=v*c-C*_;if(m<=0&&_-v>=0&&C-c>=0)return hD.subVectors(o,a),s=(_-v)/(_-v+(C-c)),t.copy(a).addScaledVector(hD,s);const b=1/(m+p+x);return l=p*b,s=x*b,t.copy(r).addScaledVector(Bg,l).addScaledVector(Fg,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const k6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},sh={h:0,s:0,l:0},gx={h:0,s:0,l:0};function LT(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class on{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,r)}set(e,t,r){if(t===void 0&&r===void 0){const a=e;a&&a.isColor?this.copy(a):typeof a=="number"?this.setHex(a):typeof a=="string"&&this.setStyle(a)}else this.setRGB(e,t,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Oo){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Di.toWorkingColorSpace(this,t),this}setRGB(e,t,r,a=Di.workingColorSpace){return this.r=e,this.g=t,this.b=r,Di.toWorkingColorSpace(this,a),this}setHSL(e,t,r,a=Di.workingColorSpace){if(e=UO(e,1),t=Qn(t,0,1),r=Qn(r,0,1),t===0)this.r=this.g=this.b=r;else{const o=r<=.5?r*(1+t):r+t-r*t,l=2*r-o;this.r=LT(l,o,e+1/3),this.g=LT(l,o,e),this.b=LT(l,o,e-1/3)}return Di.toWorkingColorSpace(this,a),this}setStyle(e,t=Oo){function r(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let a;if(a=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const l=a[1],s=a[2];switch(l){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,t);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,t);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(a=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=a[1],l=o.length;if(l===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,t);if(l===6)return this.setHex(parseInt(o,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Oo){const r=k6[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=cd(e.r),this.g=cd(e.g),this.b=cd(e.b),this}copyLinearToSRGB(e){return this.r=Hv(e.r),this.g=Hv(e.g),this.b=Hv(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Oo){return Di.fromWorkingColorSpace(Mo.copy(this),e),Math.round(Qn(Mo.r*255,0,255))*65536+Math.round(Qn(Mo.g*255,0,255))*256+Math.round(Qn(Mo.b*255,0,255))}getHexString(e=Oo){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Di.workingColorSpace){Di.fromWorkingColorSpace(Mo.copy(this),t);const r=Mo.r,a=Mo.g,o=Mo.b,l=Math.max(r,a,o),s=Math.min(r,a,o);let f,h;const v=(s+l)/2;if(s===l)f=0,h=0;else{const _=l-s;switch(h=v<=.5?_/(l+s):_/(2-l-s),l){case r:f=(a-o)/_+(a<o?6:0);break;case a:f=(o-r)/_+2;break;case o:f=(r-a)/_+4;break}f/=6}return e.h=f,e.s=h,e.l=v,e}getRGB(e,t=Di.workingColorSpace){return Di.fromWorkingColorSpace(Mo.copy(this),t),e.r=Mo.r,e.g=Mo.g,e.b=Mo.b,e}getStyle(e=Oo){Di.fromWorkingColorSpace(Mo.copy(this),e);const t=Mo.r,r=Mo.g,a=Mo.b;return e!==Oo?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${a.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(r*255)},${Math.round(a*255)})`}offsetHSL(e,t,r){return this.getHSL(sh),this.setHSL(sh.h+e,sh.s+t,sh.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(sh),e.getHSL(gx);const r=bb(sh.h,gx.h,t),a=bb(sh.s,gx.s,t),o=bb(sh.l,gx.l,t);return this.setHSL(r,a,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,a=this.b,o=e.elements;return this.r=o[0]*t+o[3]*r+o[6]*a,this.g=o[1]*t+o[4]*r+o[7]*a,this.b=o[2]*t+o[5]*r+o[8]*a,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Mo=new on;on.NAMES=k6;let gie=0;class Bo extends rf{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:gie++}),this.uuid=ol(),this.name="",this.type="Material",this.blending=hm,this.side=dd,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Tw,this.blendDst=Aw,this.blendEquation=yh,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new on(0,0,0),this.blendAlpha=0,this.depthFunc=ym,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Y2,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Fp,this.stencilZFail=Fp,this.stencilZPass=Fp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const a=this[t];if(a===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}a&&a.isColor?a.set(r):a&&a.isVector3&&r&&r.isVector3?a.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==hm&&(r.blending=this.blending),this.side!==dd&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==Tw&&(r.blendSrc=this.blendSrc),this.blendDst!==Aw&&(r.blendDst=this.blendDst),this.blendEquation!==yh&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==ym&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==Y2&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Fp&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Fp&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Fp&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function a(o){const l=[];for(const s in o){const f=o[s];delete f.metadata,l.push(f)}return l}if(t){const o=a(e.textures),l=a(e.images);o.length>0&&(r.textures=o),l.length>0&&(r.images=l)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const a=t.length;r=new Array(a);for(let o=0;o!==a;++o)r[o]=t[o].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class af extends Bo{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new on(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new zs,this.combine=E_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const nd=vie();function vie(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),a=new Uint32Array(512);for(let f=0;f<256;++f){const h=f-127;h<-27?(r[f]=0,r[f|256]=32768,a[f]=24,a[f|256]=24):h<-14?(r[f]=1024>>-h-14,r[f|256]=1024>>-h-14|32768,a[f]=-h-1,a[f|256]=-h-1):h<=15?(r[f]=h+15<<10,r[f|256]=h+15<<10|32768,a[f]=13,a[f|256]=13):h<128?(r[f]=31744,r[f|256]=64512,a[f]=24,a[f|256]=24):(r[f]=31744,r[f|256]=64512,a[f]=13,a[f|256]=13)}const o=new Uint32Array(2048),l=new Uint32Array(64),s=new Uint32Array(64);for(let f=1;f<1024;++f){let h=f<<13,v=0;for(;(h&8388608)===0;)h<<=1,v-=8388608;h&=-8388609,v+=947912704,o[f]=h|v}for(let f=1024;f<2048;++f)o[f]=939524096+(f-1024<<13);for(let f=1;f<31;++f)l[f]=f<<23;l[31]=1199570944,l[32]=2147483648;for(let f=33;f<63;++f)l[f]=2147483648+(f-32<<23);l[63]=3347054592;for(let f=1;f<64;++f)f!==32&&(s[f]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:a,mantissaTable:o,exponentTable:l,offsetTable:s}}function Es(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Qn(n,-65504,65504),nd.floatView[0]=n;const e=nd.uint32View[0],t=e>>23&511;return nd.baseTable[t]+((e&8388607)>>nd.shiftTable[t])}function Wy(n){const e=n>>10;return nd.uint32View[0]=nd.mantissaTable[nd.offsetTable[e]+(n&1023)]+nd.exponentTable[e],nd.floatView[0]}class yie{static toHalfFloat(e){return Es(e)}static fromHalfFloat(e){return Wy(e)}}const wa=new ye,vx=new At;let bie=0;class mr{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:bie++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=Yb,this.updateRanges=[],this.gpuType=Is,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let a=0,o=this.itemSize;a<o;a++)this.array[e+a]=t.array[r+a];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)vx.fromBufferAttribute(this,t),vx.applyMatrix3(e),this.setXY(t,vx.x,vx.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)wa.fromBufferAttribute(this,t),wa.applyMatrix3(e),this.setXYZ(t,wa.x,wa.y,wa.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)wa.fromBufferAttribute(this,t),wa.applyMatrix4(e),this.setXYZ(t,wa.x,wa.y,wa.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)wa.fromBufferAttribute(this,t),wa.applyNormalMatrix(e),this.setXYZ(t,wa.x,wa.y,wa.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)wa.fromBufferAttribute(this,t),wa.transformDirection(e),this.setXYZ(t,wa.x,wa.y,wa.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let r=this.array[e*this.itemSize+t];return this.normalized&&(r=as(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=oi(r,this.array)),this.array[e*this.itemSize+t]=r,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=as(t,this.array)),t}setX(e,t){return this.normalized&&(t=oi(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=as(t,this.array)),t}setY(e,t){return this.normalized&&(t=oi(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=as(t,this.array)),t}setZ(e,t){return this.normalized&&(t=oi(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=as(t,this.array)),t}setW(e,t){return this.normalized&&(t=oi(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=oi(t,this.array),r=oi(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,a){return e*=this.itemSize,this.normalized&&(t=oi(t,this.array),r=oi(r,this.array),a=oi(a,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=a,this}setXYZW(e,t,r,a,o){return e*=this.itemSize,this.normalized&&(t=oi(t,this.array),r=oi(r,this.array),a=oi(a,this.array),o=oi(o,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=a,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Yb&&(e.usage=this.usage),e}}class _ie extends mr{constructor(e,t,r){super(new Int8Array(e),t,r)}}class Sie extends mr{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class xie extends mr{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class wie extends mr{constructor(e,t,r){super(new Int16Array(e),t,r)}}class BO extends mr{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class Cie extends mr{constructor(e,t,r){super(new Int32Array(e),t,r)}}class FO extends mr{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class Eie extends mr{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}getX(e){let t=Wy(this.array[e*this.itemSize]);return this.normalized&&(t=as(t,this.array)),t}setX(e,t){return this.normalized&&(t=oi(t,this.array)),this.array[e*this.itemSize]=Es(t),this}getY(e){let t=Wy(this.array[e*this.itemSize+1]);return this.normalized&&(t=as(t,this.array)),t}setY(e,t){return this.normalized&&(t=oi(t,this.array)),this.array[e*this.itemSize+1]=Es(t),this}getZ(e){let t=Wy(this.array[e*this.itemSize+2]);return this.normalized&&(t=as(t,this.array)),t}setZ(e,t){return this.normalized&&(t=oi(t,this.array)),this.array[e*this.itemSize+2]=Es(t),this}getW(e){let t=Wy(this.array[e*this.itemSize+3]);return this.normalized&&(t=as(t,this.array)),t}setW(e,t){return this.normalized&&(t=oi(t,this.array)),this.array[e*this.itemSize+3]=Es(t),this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=oi(t,this.array),r=oi(r,this.array)),this.array[e+0]=Es(t),this.array[e+1]=Es(r),this}setXYZ(e,t,r,a){return e*=this.itemSize,this.normalized&&(t=oi(t,this.array),r=oi(r,this.array),a=oi(a,this.array)),this.array[e+0]=Es(t),this.array[e+1]=Es(r),this.array[e+2]=Es(a),this}setXYZW(e,t,r,a,o){return e*=this.itemSize,this.normalized&&(t=oi(t,this.array),r=oi(r,this.array),a=oi(a,this.array),o=oi(o,this.array)),this.array[e+0]=Es(t),this.array[e+1]=Es(r),this.array[e+2]=Es(a),this.array[e+3]=Es(o),this}}class mn extends mr{constructor(e,t,r){super(new Float32Array(e),t,r)}}let Mie=0;const Pl=new kn,NT=new xi,Hg=new ye,Js=new ss,Oy=new ss,qa=new ye;class Jn extends rf{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Mie++}),this.uuid=ol(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(B6(e)?FO:BO)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const o=new ri().getNormalMatrix(e);r.applyNormalMatrix(o),r.needsUpdate=!0}const a=this.attributes.tangent;return a!==void 0&&(a.transformDirection(e),a.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Pl.makeRotationFromQuaternion(e),this.applyMatrix4(Pl),this}rotateX(e){return Pl.makeRotationX(e),this.applyMatrix4(Pl),this}rotateY(e){return Pl.makeRotationY(e),this.applyMatrix4(Pl),this}rotateZ(e){return Pl.makeRotationZ(e),this.applyMatrix4(Pl),this}translate(e,t,r){return Pl.makeTranslation(e,t,r),this.applyMatrix4(Pl),this}scale(e,t,r){return Pl.makeScale(e,t,r),this.applyMatrix4(Pl),this}lookAt(e){return NT.lookAt(e),NT.updateMatrix(),this.applyMatrix4(NT.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Hg).negate(),this.translate(Hg.x,Hg.y,Hg.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const r=[];for(let a=0,o=e.length;a<o;a++){const l=e[a];r.push(l.x,l.y,l.z||0)}this.setAttribute("position",new mn(r,3))}else{const r=Math.min(e.length,t.count);for(let a=0;a<r;a++){const o=e[a];t.setXYZ(a,o.x,o.y,o.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ss);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new ye(-1/0,-1/0,-1/0),new ye(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,a=t.length;r<a;r++){const o=t[r];Js.setFromBufferAttribute(o),this.morphTargetsRelative?(qa.addVectors(this.boundingBox.min,Js.min),this.boundingBox.expandByPoint(qa),qa.addVectors(this.boundingBox.max,Js.max),this.boundingBox.expandByPoint(qa)):(this.boundingBox.expandByPoint(Js.min),this.boundingBox.expandByPoint(Js.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Do);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new ye,1/0);return}if(e){const r=this.boundingSphere.center;if(Js.setFromBufferAttribute(e),t)for(let o=0,l=t.length;o<l;o++){const s=t[o];Oy.setFromBufferAttribute(s),this.morphTargetsRelative?(qa.addVectors(Js.min,Oy.min),Js.expandByPoint(qa),qa.addVectors(Js.max,Oy.max),Js.expandByPoint(qa)):(Js.expandByPoint(Oy.min),Js.expandByPoint(Oy.max))}Js.getCenter(r);let a=0;for(let o=0,l=e.count;o<l;o++)qa.fromBufferAttribute(e,o),a=Math.max(a,r.distanceToSquared(qa));if(t)for(let o=0,l=t.length;o<l;o++){const s=t[o],f=this.morphTargetsRelative;for(let h=0,v=s.count;h<v;h++)qa.fromBufferAttribute(s,h),f&&(Hg.fromBufferAttribute(e,h),qa.add(Hg)),a=Math.max(a,r.distanceToSquared(qa))}this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=t.position,a=t.normal,o=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new mr(new Float32Array(4*r.count),4));const l=this.getAttribute("tangent"),s=[],f=[];for(let F=0;F<r.count;F++)s[F]=new ye,f[F]=new ye;const h=new ye,v=new ye,_=new ye,x=new At,C=new At,c=new At,p=new ye,m=new ye;function b(F,B,U){h.fromBufferAttribute(r,F),v.fromBufferAttribute(r,B),_.fromBufferAttribute(r,U),x.fromBufferAttribute(o,F),C.fromBufferAttribute(o,B),c.fromBufferAttribute(o,U),v.sub(h),_.sub(h),C.sub(x),c.sub(x);const V=1/(C.x*c.y-c.x*C.y);isFinite(V)&&(p.copy(v).multiplyScalar(c.y).addScaledVector(_,-C.y).multiplyScalar(V),m.copy(_).multiplyScalar(C.x).addScaledVector(v,-c.x).multiplyScalar(V),s[F].add(p),s[B].add(p),s[U].add(p),f[F].add(m),f[B].add(m),f[U].add(m))}let w=this.groups;w.length===0&&(w=[{start:0,count:e.count}]);for(let F=0,B=w.length;F<B;++F){const U=w[F],V=U.start,Q=U.count;for(let X=V,ee=V+Q;X<ee;X+=3)b(e.getX(X+0),e.getX(X+1),e.getX(X+2))}const A=new ye,R=new ye,O=new ye,P=new ye;function D(F){O.fromBufferAttribute(a,F),P.copy(O);const B=s[F];A.copy(B),A.sub(O.multiplyScalar(O.dot(B))).normalize(),R.crossVectors(P,B);const V=R.dot(f[F])<0?-1:1;l.setXYZW(F,A.x,A.y,A.z,V)}for(let F=0,B=w.length;F<B;++F){const U=w[F],V=U.start,Q=U.count;for(let X=V,ee=V+Q;X<ee;X+=3)D(e.getX(X+0)),D(e.getX(X+1)),D(e.getX(X+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new mr(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let x=0,C=r.count;x<C;x++)r.setXYZ(x,0,0,0);const a=new ye,o=new ye,l=new ye,s=new ye,f=new ye,h=new ye,v=new ye,_=new ye;if(e)for(let x=0,C=e.count;x<C;x+=3){const c=e.getX(x+0),p=e.getX(x+1),m=e.getX(x+2);a.fromBufferAttribute(t,c),o.fromBufferAttribute(t,p),l.fromBufferAttribute(t,m),v.subVectors(l,o),_.subVectors(a,o),v.cross(_),s.fromBufferAttribute(r,c),f.fromBufferAttribute(r,p),h.fromBufferAttribute(r,m),s.add(v),f.add(v),h.add(v),r.setXYZ(c,s.x,s.y,s.z),r.setXYZ(p,f.x,f.y,f.z),r.setXYZ(m,h.x,h.y,h.z)}else for(let x=0,C=t.count;x<C;x+=3)a.fromBufferAttribute(t,x+0),o.fromBufferAttribute(t,x+1),l.fromBufferAttribute(t,x+2),v.subVectors(l,o),_.subVectors(a,o),v.cross(_),r.setXYZ(x+0,v.x,v.y,v.z),r.setXYZ(x+1,v.x,v.y,v.z),r.setXYZ(x+2,v.x,v.y,v.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)qa.fromBufferAttribute(e,t),qa.normalize(),e.setXYZ(t,qa.x,qa.y,qa.z)}toNonIndexed(){function e(s,f){const h=s.array,v=s.itemSize,_=s.normalized,x=new h.constructor(f.length*v);let C=0,c=0;for(let p=0,m=f.length;p<m;p++){s.isInterleavedBufferAttribute?C=f[p]*s.data.stride+s.offset:C=f[p]*v;for(let b=0;b<v;b++)x[c++]=h[C++]}return new mr(x,v,_)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Jn,r=this.index.array,a=this.attributes;for(const s in a){const f=a[s],h=e(f,r);t.setAttribute(s,h)}const o=this.morphAttributes;for(const s in o){const f=[],h=o[s];for(let v=0,_=h.length;v<_;v++){const x=h[v],C=e(x,r);f.push(C)}t.morphAttributes[s]=f}t.morphTargetsRelative=this.morphTargetsRelative;const l=this.groups;for(let s=0,f=l.length;s<f;s++){const h=l[s];t.addGroup(h.start,h.count,h.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const f=this.parameters;for(const h in f)f[h]!==void 0&&(e[h]=f[h]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const f in r){const h=r[f];e.data.attributes[f]=h.toJSON(e.data)}const a={};let o=!1;for(const f in this.morphAttributes){const h=this.morphAttributes[f],v=[];for(let _=0,x=h.length;_<x;_++){const C=h[_];v.push(C.toJSON(e.data))}v.length>0&&(a[f]=v,o=!0)}o&&(e.data.morphAttributes=a,e.data.morphTargetsRelative=this.morphTargetsRelative);const l=this.groups;l.length>0&&(e.data.groups=JSON.parse(JSON.stringify(l)));const s=this.boundingSphere;return s!==null&&(e.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const a=e.attributes;for(const h in a){const v=a[h];this.setAttribute(h,v.clone(t))}const o=e.morphAttributes;for(const h in o){const v=[],_=o[h];for(let x=0,C=_.length;x<C;x++)v.push(_[x].clone(t));this.morphAttributes[h]=v}this.morphTargetsRelative=e.morphTargetsRelative;const l=e.groups;for(let h=0,v=l.length;h<v;h++){const _=l[h];this.addGroup(_.start,_.count,_.materialIndex)}const s=e.boundingBox;s!==null&&(this.boundingBox=s.clone());const f=e.boundingSphere;return f!==null&&(this.boundingSphere=f.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const pD=new kn,Ep=new zm,yx=new Do,mD=new ye,bx=new ye,_x=new ye,Sx=new ye,UT=new ye,xx=new ye,gD=new ye,wx=new ye;class ln extends xi{constructor(e=new Jn,t=new af){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const a=t[r[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,l=a.length;o<l;o++){const s=a[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}getVertexPosition(e,t){const r=this.geometry,a=r.attributes.position,o=r.morphAttributes.position,l=r.morphTargetsRelative;t.fromBufferAttribute(a,e);const s=this.morphTargetInfluences;if(o&&s){xx.set(0,0,0);for(let f=0,h=o.length;f<h;f++){const v=s[f],_=o[f];v!==0&&(UT.fromBufferAttribute(_,e),l?xx.addScaledVector(UT,v):xx.addScaledVector(UT.sub(t),v))}t.add(xx)}return t}raycast(e,t){const r=this.geometry,a=this.material,o=this.matrixWorld;a!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),yx.copy(r.boundingSphere),yx.applyMatrix4(o),Ep.copy(e.ray).recast(e.near),!(yx.containsPoint(Ep.origin)===!1&&(Ep.intersectSphere(yx,mD)===null||Ep.origin.distanceToSquared(mD)>(e.far-e.near)**2))&&(pD.copy(o).invert(),Ep.copy(e.ray).applyMatrix4(pD),!(r.boundingBox!==null&&Ep.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,t,Ep)))}_computeIntersections(e,t,r){let a;const o=this.geometry,l=this.material,s=o.index,f=o.attributes.position,h=o.attributes.uv,v=o.attributes.uv1,_=o.attributes.normal,x=o.groups,C=o.drawRange;if(s!==null)if(Array.isArray(l))for(let c=0,p=x.length;c<p;c++){const m=x[c],b=l[m.materialIndex],w=Math.max(m.start,C.start),A=Math.min(s.count,Math.min(m.start+m.count,C.start+C.count));for(let R=w,O=A;R<O;R+=3){const P=s.getX(R),D=s.getX(R+1),F=s.getX(R+2);a=Cx(this,b,e,r,h,v,_,P,D,F),a&&(a.faceIndex=Math.floor(R/3),a.face.materialIndex=m.materialIndex,t.push(a))}}else{const c=Math.max(0,C.start),p=Math.min(s.count,C.start+C.count);for(let m=c,b=p;m<b;m+=3){const w=s.getX(m),A=s.getX(m+1),R=s.getX(m+2);a=Cx(this,l,e,r,h,v,_,w,A,R),a&&(a.faceIndex=Math.floor(m/3),t.push(a))}}else if(f!==void 0)if(Array.isArray(l))for(let c=0,p=x.length;c<p;c++){const m=x[c],b=l[m.materialIndex],w=Math.max(m.start,C.start),A=Math.min(f.count,Math.min(m.start+m.count,C.start+C.count));for(let R=w,O=A;R<O;R+=3){const P=R,D=R+1,F=R+2;a=Cx(this,b,e,r,h,v,_,P,D,F),a&&(a.faceIndex=Math.floor(R/3),a.face.materialIndex=m.materialIndex,t.push(a))}}else{const c=Math.max(0,C.start),p=Math.min(f.count,C.start+C.count);for(let m=c,b=p;m<b;m+=3){const w=m,A=m+1,R=m+2;a=Cx(this,l,e,r,h,v,_,w,A,R),a&&(a.faceIndex=Math.floor(m/3),t.push(a))}}}}function Tie(n,e,t,r,a,o,l,s){let f;if(e.side===os?f=r.intersectTriangle(l,o,a,!0,s):f=r.intersectTriangle(a,o,l,e.side===dd,s),f===null)return null;wx.copy(s),wx.applyMatrix4(n.matrixWorld);const h=t.ray.origin.distanceTo(wx);return h<t.near||h>t.far?null:{distance:h,point:wx.clone(),object:n}}function Cx(n,e,t,r,a,o,l,s,f,h){n.getVertexPosition(s,bx),n.getVertexPosition(f,_x),n.getVertexPosition(h,Sx);const v=Tie(n,e,t,r,bx,_x,Sx,gD);if(v){const _=new ye;Os.getBarycoord(gD,bx,_x,Sx,_),a&&(v.uv=Os.getInterpolatedAttribute(a,s,f,h,_,new At)),o&&(v.uv1=Os.getInterpolatedAttribute(o,s,f,h,_,new At)),l&&(v.normal=Os.getInterpolatedAttribute(l,s,f,h,_,new ye),v.normal.dot(r.direction)>0&&v.normal.multiplyScalar(-1));const x={a:s,b:f,c:h,normal:new ye,materialIndex:0};Os.getNormal(bx,_x,Sx,x.normal),v.face=x,v.barycoord=_}return v}class Rs extends Jn{constructor(e=1,t=1,r=1,a=1,o=1,l=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:a,heightSegments:o,depthSegments:l};const s=this;a=Math.floor(a),o=Math.floor(o),l=Math.floor(l);const f=[],h=[],v=[],_=[];let x=0,C=0;c("z","y","x",-1,-1,r,t,e,l,o,0),c("z","y","x",1,-1,r,t,-e,l,o,1),c("x","z","y",1,1,e,r,t,a,l,2),c("x","z","y",1,-1,e,r,-t,a,l,3),c("x","y","z",1,-1,e,t,r,a,o,4),c("x","y","z",-1,-1,e,t,-r,a,o,5),this.setIndex(f),this.setAttribute("position",new mn(h,3)),this.setAttribute("normal",new mn(v,3)),this.setAttribute("uv",new mn(_,2));function c(p,m,b,w,A,R,O,P,D,F,B){const U=R/D,V=O/F,Q=R/2,X=O/2,ee=P/2,ae=D+1,Z=F+1;let K=0,te=0;const ce=new ye;for(let q=0;q<Z;q++){const J=q*V-X;for(let he=0;he<ae;he++){const ue=he*U-Q;ce[p]=ue*w,ce[m]=J*A,ce[b]=ee,h.push(ce.x,ce.y,ce.z),ce[p]=0,ce[m]=0,ce[b]=P>0?1:-1,v.push(ce.x,ce.y,ce.z),_.push(he/D),_.push(1-q/F),K+=1}}for(let q=0;q<F;q++)for(let J=0;J<D;J++){const he=x+J+ae*q,ue=x+J+ae*(q+1),j=x+(J+1)+ae*(q+1),pe=x+(J+1)+ae*q;f.push(he,ue,pe),f.push(ue,j,pe),te+=6}s.addGroup(C,te,B),C+=te,x+=K}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Rs(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function n0(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const a=n[t][r];a&&(a.isColor||a.isMatrix3||a.isMatrix4||a.isVector2||a.isVector3||a.isVector4||a.isTexture||a.isQuaternion)?a.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][r]=null):e[t][r]=a.clone():Array.isArray(a)?e[t][r]=a.slice():e[t][r]=a}}return e}function ts(n){const e={};for(let t=0;t<n.length;t++){const r=n0(n[t]);for(const a in r)e[a]=r[a]}return e}function Aie(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function $6(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Di.workingColorSpace}const V6={clone:n0,merge:ts};var Rie=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Oie=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Vc extends Bo{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Rie,this.fragmentShader=Oie,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=n0(e.uniforms),this.uniformsGroups=Aie(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const a in this.uniforms){const l=this.uniforms[a].value;l&&l.isTexture?t.uniforms[a]={type:"t",value:l.toJSON(e).uuid}:l&&l.isColor?t.uniforms[a]={type:"c",value:l.getHex()}:l&&l.isVector2?t.uniforms[a]={type:"v2",value:l.toArray()}:l&&l.isVector3?t.uniforms[a]={type:"v3",value:l.toArray()}:l&&l.isVector4?t.uniforms[a]={type:"v4",value:l.toArray()}:l&&l.isMatrix3?t.uniforms[a]={type:"m3",value:l.toArray()}:l&&l.isMatrix4?t.uniforms[a]={type:"m4",value:l.toArray()}:t.uniforms[a]={value:l}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const r={};for(const a in this.extensions)this.extensions[a]===!0&&(r[a]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class SE extends xi{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new kn,this.projectionMatrix=new kn,this.projectionMatrixInverse=new kn,this.coordinateSystem=Uc}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const lh=new ye,vD=new At,yD=new At;class pa extends SE{constructor(e=50,t=1,r=.1,a=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=a,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=e0*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(mm*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return e0*2*Math.atan(Math.tan(mm*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,r){lh.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(lh.x,lh.y).multiplyScalar(-e/lh.z),lh.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(lh.x,lh.y).multiplyScalar(-e/lh.z)}getViewSize(e,t){return this.getViewBounds(e,vD,yD),t.subVectors(yD,vD)}setViewOffset(e,t,r,a,o,l){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=a,this.view.width=o,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(mm*.5*this.fov)/this.zoom,r=2*t,a=this.aspect*r,o=-.5*a;const l=this.view;if(this.view!==null&&this.view.enabled){const f=l.fullWidth,h=l.fullHeight;o+=l.offsetX*a/f,t-=l.offsetY*r/h,a*=l.width/f,r*=l.height/h}const s=this.filmOffset;s!==0&&(o+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+a,t,t-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const kg=-90,$g=1;class G6 extends xi{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const a=new pa(kg,$g,e,t);a.layers=this.layers,this.add(a);const o=new pa(kg,$g,e,t);o.layers=this.layers,this.add(o);const l=new pa(kg,$g,e,t);l.layers=this.layers,this.add(l);const s=new pa(kg,$g,e,t);s.layers=this.layers,this.add(s);const f=new pa(kg,$g,e,t);f.layers=this.layers,this.add(f);const h=new pa(kg,$g,e,t);h.layers=this.layers,this.add(h)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[r,a,o,l,s,f]=t;for(const h of t)this.remove(h);if(e===Uc)r.up.set(0,1,0),r.lookAt(1,0,0),a.up.set(0,1,0),a.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),l.up.set(0,0,1),l.lookAt(0,-1,0),s.up.set(0,1,0),s.lookAt(0,0,1),f.up.set(0,1,0),f.lookAt(0,0,-1);else if(e===qb)r.up.set(0,-1,0),r.lookAt(-1,0,0),a.up.set(0,-1,0),a.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),l.up.set(0,0,-1),l.lookAt(0,-1,0),s.up.set(0,-1,0),s.lookAt(0,0,1),f.up.set(0,-1,0),f.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const h of t)this.add(h),h.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:a}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[o,l,s,f,h,v]=this.children,_=e.getRenderTarget(),x=e.getActiveCubeFace(),C=e.getActiveMipmapLevel(),c=e.xr.enabled;e.xr.enabled=!1;const p=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,a),e.render(t,o),e.setRenderTarget(r,1,a),e.render(t,l),e.setRenderTarget(r,2,a),e.render(t,s),e.setRenderTarget(r,3,a),e.render(t,f),e.setRenderTarget(r,4,a),e.render(t,h),r.texture.generateMipmaps=p,e.setRenderTarget(r,5,a),e.render(t,v),e.setRenderTarget(_,x,C),e.xr.enabled=c,r.texture.needsPMREMUpdate=!0}}class A_ extends sa{constructor(e,t,r,a,o,l,s,f,h,v){e=e!==void 0?e:[],t=t!==void 0?t:hd,super(e,t,r,a,o,l,s,f,h,v),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class j6 extends Qu{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},a=[r,r,r,r,r,r];this.texture=new A_(a,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:za}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},a=new Rs(5,5,5),o=new Vc({name:"CubemapFromEquirect",uniforms:n0(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:os,blending:ld});o.uniforms.tEquirect.value=t;const l=new ln(a,o),s=t.minFilter;return t.minFilter===Gu&&(t.minFilter=za),new G6(1,10,this).update(e,l),t.minFilter=s,l.geometry.dispose(),l.material.dispose(),this}clear(e,t,r,a){const o=e.getRenderTarget();for(let l=0;l<6;l++)e.setRenderTarget(this,l),e.clear(t,r,a);e.setRenderTarget(o)}}class Mv extends xi{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Iie={type:"move"};class E1{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Mv,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Mv,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ye,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ye),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Mv,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ye,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ye),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let a=null,o=null,l=null;const s=this._targetRay,f=this._grip,h=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(h&&e.hand){l=!0;for(const p of e.hand.values()){const m=t.getJointPose(p,r),b=this._getHandJoint(h,p);m!==null&&(b.matrix.fromArray(m.transform.matrix),b.matrix.decompose(b.position,b.rotation,b.scale),b.matrixWorldNeedsUpdate=!0,b.jointRadius=m.radius),b.visible=m!==null}const v=h.joints["index-finger-tip"],_=h.joints["thumb-tip"],x=v.position.distanceTo(_.position),C=.02,c=.005;h.inputState.pinching&&x>C+c?(h.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!h.inputState.pinching&&x<=C-c&&(h.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else f!==null&&e.gripSpace&&(o=t.getPose(e.gripSpace,r),o!==null&&(f.matrix.fromArray(o.transform.matrix),f.matrix.decompose(f.position,f.rotation,f.scale),f.matrixWorldNeedsUpdate=!0,o.linearVelocity?(f.hasLinearVelocity=!0,f.linearVelocity.copy(o.linearVelocity)):f.hasLinearVelocity=!1,o.angularVelocity?(f.hasAngularVelocity=!0,f.angularVelocity.copy(o.angularVelocity)):f.hasAngularVelocity=!1));s!==null&&(a=t.getPose(e.targetRaySpace,r),a===null&&o!==null&&(a=o),a!==null&&(s.matrix.fromArray(a.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,a.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(a.linearVelocity)):s.hasLinearVelocity=!1,a.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(a.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(Iie)))}return s!==null&&(s.visible=a!==null),f!==null&&(f.visible=o!==null),h!==null&&(h.visible=l!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new Mv;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}class xE{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new on(e),this.density=t}clone(){return new xE(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class wE{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new on(e),this.near=t,this.far=r}clone(){return new wE(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class HO extends xi{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new zs,this.environmentIntensity=1,this.environmentRotation=new zs,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class CE{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Yb,this.updateRanges=[],this.version=0,this.uuid=ol()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let a=0,o=this.stride;a<o;a++)this.array[e+a]=t.array[r+a];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ol()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ol()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Jo=new ye;class Sm{constructor(e,t,r,a=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=a}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)Jo.fromBufferAttribute(this,t),Jo.applyMatrix4(e),this.setXYZ(t,Jo.x,Jo.y,Jo.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Jo.fromBufferAttribute(this,t),Jo.applyNormalMatrix(e),this.setXYZ(t,Jo.x,Jo.y,Jo.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Jo.fromBufferAttribute(this,t),Jo.transformDirection(e),this.setXYZ(t,Jo.x,Jo.y,Jo.z);return this}getComponent(e,t){let r=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(r=as(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=oi(r,this.array)),this.data.array[e*this.data.stride+this.offset+t]=r,this}setX(e,t){return this.normalized&&(t=oi(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=oi(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=oi(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=oi(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=as(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=as(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=as(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=as(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=oi(t,this.array),r=oi(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,a){return e=e*this.data.stride+this.offset,this.normalized&&(t=oi(t,this.array),r=oi(r,this.array),a=oi(a,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=a,this}setXYZW(e,t,r,a,o){return e=e*this.data.stride+this.offset,this.normalized&&(t=oi(t,this.array),r=oi(r,this.array),a=oi(a,this.array),o=oi(o,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=a,this.data.array[e+3]=o,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const a=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[a+o])}return new mr(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Sm(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const a=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[a+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class kO extends Bo{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new on(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Vg;const Iy=new ye,Gg=new ye,jg=new ye,Wg=new At,zy=new At,W6=new kn,Ex=new ye,Py=new ye,Mx=new ye,bD=new At,BT=new At,_D=new At;class X6 extends xi{constructor(e=new kO){if(super(),this.isSprite=!0,this.type="Sprite",Vg===void 0){Vg=new Jn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new CE(t,5);Vg.setIndex([0,1,2,0,2,3]),Vg.setAttribute("position",new Sm(r,3,0,!1)),Vg.setAttribute("uv",new Sm(r,2,3,!1))}this.geometry=Vg,this.material=e,this.center=new At(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Gg.setFromMatrixScale(this.matrixWorld),W6.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),jg.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Gg.multiplyScalar(-jg.z);const r=this.material.rotation;let a,o;r!==0&&(o=Math.cos(r),a=Math.sin(r));const l=this.center;Tx(Ex.set(-.5,-.5,0),jg,l,Gg,a,o),Tx(Py.set(.5,-.5,0),jg,l,Gg,a,o),Tx(Mx.set(.5,.5,0),jg,l,Gg,a,o),bD.set(0,0),BT.set(1,0),_D.set(1,1);let s=e.ray.intersectTriangle(Ex,Py,Mx,!1,Iy);if(s===null&&(Tx(Py.set(-.5,.5,0),jg,l,Gg,a,o),BT.set(0,1),s=e.ray.intersectTriangle(Ex,Mx,Py,!1,Iy),s===null))return;const f=e.ray.origin.distanceTo(Iy);f<e.near||f>e.far||t.push({distance:f,point:Iy.clone(),uv:Os.getInterpolation(Iy,Ex,Py,Mx,bD,BT,_D,new At),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Tx(n,e,t,r,a,o){Wg.subVectors(n,t).addScalar(.5).multiply(r),a!==void 0?(zy.x=o*Wg.x-a*Wg.y,zy.y=a*Wg.x+o*Wg.y):zy.copy(Wg),n.copy(e),n.x+=zy.x,n.y+=zy.y,n.applyMatrix4(W6)}const Ax=new ye,SD=new ye;class Y6 extends xi{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,a=t.length;r<a;r++){const o=t[r];this.addLevel(o.object.clone(),o.distance,o.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,r=0){t=Math.abs(t);const a=this.levels;let o;for(o=0;o<a.length&&!(t<a[o].distance);o++);return a.splice(o,0,{distance:t,hysteresis:r,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let r=0;r<t.length;r++)if(t[r].distance===e){const a=t.splice(r,1);return this.remove(a[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,a;for(r=1,a=t.length;r<a;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),e<o)break}return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){Ax.setFromMatrixPosition(this.matrixWorld);const a=e.ray.origin.distanceTo(Ax);this.getObjectForDistance(a).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Ax.setFromMatrixPosition(e.matrixWorld),SD.setFromMatrixPosition(this.matrixWorld);const r=Ax.distanceTo(SD)/e.zoom;t[0].object.visible=!0;let a,o;for(a=1,o=t.length;a<o;a++){let l=t[a].distance;if(t[a].object.visible&&(l-=l*t[a].hysteresis),r>=l)t[a-1].object.visible=!1,t[a].object.visible=!0;else break}for(this._currentLevel=a-1;a<o;a++)t[a].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let a=0,o=r.length;a<o;a++){const l=r[a];t.object.levels.push({object:l.object.uuid,distance:l.distance,hysteresis:l.hysteresis})}return t}}const xD=new ye,wD=new $i,CD=new $i,zie=new ye,ED=new kn,Rx=new ye,FT=new Do,MD=new kn,HT=new zm;class q6 extends ln{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=X2,this.bindMatrix=new kn,this.bindMatrixInverse=new kn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new ss),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,Rx),this.boundingBox.expandByPoint(Rx)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Do),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,Rx),this.boundingSphere.expandByPoint(Rx)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const r=this.material,a=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),FT.copy(this.boundingSphere),FT.applyMatrix4(a),e.ray.intersectsSphere(FT)!==!1&&(MD.copy(a).invert(),HT.copy(e.ray).applyMatrix4(MD),!(this.boundingBox!==null&&HT.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,HT)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new $i,t=this.geometry.attributes.skinWeight;for(let r=0,a=t.count;r<a;r++){e.fromBufferAttribute(t,r);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===X2?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===C6?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const r=this.skeleton,a=this.geometry;wD.fromBufferAttribute(a.attributes.skinIndex,e),CD.fromBufferAttribute(a.attributes.skinWeight,e),xD.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let o=0;o<4;o++){const l=CD.getComponent(o);if(l!==0){const s=wD.getComponent(o);ED.multiplyMatrices(r.bones[s].matrixWorld,r.boneInverses[s]),t.addScaledVector(zie.copy(xD).applyMatrix4(ED),l)}}return t.applyMatrix4(this.bindMatrixInverse)}}class $O extends xi{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Xu extends sa{constructor(e=null,t=1,r=1,a,o,l,s,f,h=ho,v=ho,_,x){super(null,l,s,f,h,v,a,o,_,x),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const TD=new kn,Pie=new kn;class EE{constructor(e=[],t=[]){this.uuid=ol(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,a=this.bones.length;r<a;r++)this.boneInverses.push(new kn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new kn;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,a=this.boneTexture;for(let o=0,l=e.length;o<l;o++){const s=e[o]?e[o].matrixWorld:Pie;TD.multiplyMatrices(s,t[o]),TD.toArray(r,o*16)}a!==null&&(a.needsUpdate=!0)}clone(){return new EE(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new Xu(t,e,e,zo,Is);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const a=this.bones[t];if(a.name===e)return a}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,a=e.bones.length;r<a;r++){const o=e.bones[r];let l=t[o];l===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),l=new $O),this.bones.push(l),this.boneInverses.push(new kn().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let a=0,o=t.length;a<o;a++){const l=t[a];e.bones.push(l.uuid);const s=r[a];e.boneInverses.push(s.toArray())}return e}}class i0 extends mr{constructor(e,t,r,a=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=a}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Xg=new kn,AD=new kn,Ox=[],RD=new ss,Die=new kn,Dy=new ln,Ly=new Do;class Z6 extends ln{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new i0(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let a=0;a<r;a++)this.setMatrixAt(a,Die)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new ss),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,Xg),RD.copy(e.boundingBox).applyMatrix4(Xg),this.boundingBox.union(RD)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Do),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,Xg),Ly.copy(e.boundingSphere).applyMatrix4(Xg),this.boundingSphere.union(Ly)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const r=t.morphTargetInfluences,a=this.morphTexture.source.data.data,o=r.length+1,l=e*o+1;for(let s=0;s<r.length;s++)r[s]=a[l+s]}raycast(e,t){const r=this.matrixWorld,a=this.count;if(Dy.geometry=this.geometry,Dy.material=this.material,Dy.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Ly.copy(this.boundingSphere),Ly.applyMatrix4(r),e.ray.intersectsSphere(Ly)!==!1))for(let o=0;o<a;o++){this.getMatrixAt(o,Xg),AD.multiplyMatrices(r,Xg),Dy.matrixWorld=AD,Dy.raycast(e,Ox);for(let l=0,s=Ox.length;l<s;l++){const f=Ox[l];f.instanceId=o,f.object=this,t.push(f)}Ox.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new i0(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const r=t.morphTargetInfluences,a=r.length+1;this.morphTexture===null&&(this.morphTexture=new Xu(new Float32Array(a*this.count),a,this.count,mE,Is));const o=this.morphTexture.source.data.data;let l=0;for(let h=0;h<r.length;h++)l+=r[h];const s=this.geometry.morphTargetsRelative?1:1-l,f=a*e;o[f]=s,o.set(r,f+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const kT=new ye,Lie=new ye,Nie=new ri;class Kf{constructor(e=new ye(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,a){return this.normal.set(e,t,r),this.constant=a,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const a=kT.subVectors(r,t).cross(Lie.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(a,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(kT),a=this.normal.dot(r);if(a===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/a;return o<0||o>1?null:t.copy(e.start).addScaledVector(r,o)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||Nie.getNormalMatrix(e),a=this.coplanarPoint(kT).applyMatrix4(e),o=this.normal.applyMatrix3(r).normalize();return this.constant=-a.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Mp=new Do,Ix=new ye;class R_{constructor(e=new Kf,t=new Kf,r=new Kf,a=new Kf,o=new Kf,l=new Kf){this.planes=[e,t,r,a,o,l]}set(e,t,r,a,o,l){const s=this.planes;return s[0].copy(e),s[1].copy(t),s[2].copy(r),s[3].copy(a),s[4].copy(o),s[5].copy(l),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,t=Uc){const r=this.planes,a=e.elements,o=a[0],l=a[1],s=a[2],f=a[3],h=a[4],v=a[5],_=a[6],x=a[7],C=a[8],c=a[9],p=a[10],m=a[11],b=a[12],w=a[13],A=a[14],R=a[15];if(r[0].setComponents(f-o,x-h,m-C,R-b).normalize(),r[1].setComponents(f+o,x+h,m+C,R+b).normalize(),r[2].setComponents(f+l,x+v,m+c,R+w).normalize(),r[3].setComponents(f-l,x-v,m-c,R-w).normalize(),r[4].setComponents(f-s,x-_,m-p,R-A).normalize(),t===Uc)r[5].setComponents(f+s,x+_,m+p,R+A).normalize();else if(t===qb)r[5].setComponents(s,_,p,A).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Mp.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Mp.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Mp)}intersectsSprite(e){return Mp.center.set(0,0,0),Mp.radius=.7071067811865476,Mp.applyMatrix4(e.matrixWorld),this.intersectsSphere(Mp)}intersectsSphere(e){const t=this.planes,r=e.center,a=-e.radius;for(let o=0;o<6;o++)if(t[o].distanceToPoint(r)<a)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const a=t[r];if(Ix.x=a.normal.x>0?e.max.x:e.min.x,Ix.y=a.normal.y>0?e.max.y:e.min.y,Ix.z=a.normal.z>0?e.max.z:e.min.z,a.distanceToPoint(Ix)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function $T(n,e){return n-e}function Uie(n,e){return n.z-e.z}function Bie(n,e){return e.z-n.z}class Fie{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,r,a){const o=this.pool,l=this.list;this.index>=o.length&&o.push({start:-1,count:-1,z:-1,index:-1});const s=o[this.index];l.push(s),this.index++,s.start=e,s.count=t,s.z=r,s.index=a}reset(){this.list.length=0,this.index=0}}const ws=new kn,Hie=new on(1,1,1),VT=new R_,zx=new ss,Tp=new Do,Ny=new ye,OD=new ye,kie=new ye,GT=new Fie,To=new ln,Px=[];function $ie(n,e,t=0){const r=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const a=n.count;for(let o=0;o<a;o++)for(let l=0;l<r;l++)e.setComponent(o+t,l,n.getComponent(o,l))}else e.array.set(n.array,t*r);e.needsUpdate=!0}function Ap(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++)e[r]=n[r]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class K6 extends ln{constructor(e,t,r=t*2,a){super(new Jn,a),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=r,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),r=new Xu(t,e,e,zo,Is);this._matricesTexture=r}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),r=new Xu(t,e,e,M_,pd);this._indirectTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),r=new Xu(t,e,e,zo,Is);r.colorSpace=Di.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const t=this.geometry,r=this._maxVertexCount,a=this._maxIndexCount;if(this._geometryInitialized===!1){for(const o in e.attributes){const l=e.getAttribute(o),{array:s,itemSize:f,normalized:h}=l,v=new s.constructor(r*f),_=new mr(v,f,h);t.setAttribute(o,_)}if(e.getIndex()!==null){const o=r>65535?new Uint32Array(a):new Uint16Array(a);t.setIndex(new mr(o,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const r in t.attributes){if(!e.hasAttribute(r))throw new Error(`THREE.BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const a=e.getAttribute(r),o=t.getAttribute(r);if(a.itemSize!==o.itemSize||a.normalized!==o.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ss);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let r=0,a=t.length;r<a;r++){if(t[r].active===!1)continue;const o=t[r].geometryIndex;this.getMatrixAt(r,ws),this.getBoundingBoxAt(o,zx).applyMatrix4(ws),e.union(zx)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Do);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let r=0,a=t.length;r<a;r++){if(t[r].active===!1)continue;const o=t[r].geometryIndex;this.getMatrixAt(r,ws),this.getBoundingSphereAt(o,Tp).applyMatrix4(ws),e.union(Tp)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const r={visible:!0,active:!0,geometryIndex:e};let a=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort($T),a=this._availableInstanceIds.shift(),this._instanceInfo[a]=r):(a=this._instanceInfo.length,this._instanceInfo.push(r));const o=this._matricesTexture;ws.identity().toArray(o.image.data,a*16),o.needsUpdate=!0;const l=this._colorsTexture;return l&&(Hie.toArray(l.image.data,a*4),l.needsUpdate=!0),this._visibilityChanged=!0,a}addGeometry(e,t=-1,r=-1){this._initializeGeometry(e),this._validateGeometry(e);const a={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},o=this._geometryInfo;a.vertexStart=this._nextVertexStart,a.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const l=e.getIndex();if(l!==null&&(a.indexStart=this._nextIndexStart,a.reservedIndexCount=r===-1?l.count:r),a.indexStart!==-1&&a.indexStart+a.reservedIndexCount>this._maxIndexCount||a.vertexStart+a.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let f;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort($T),f=this._availableGeometryIds.shift(),o[f]=a):(f=this._geometryCount,this._geometryCount++,o.push(a)),this.setGeometryAt(f,e),this._nextIndexStart=a.indexStart+a.reservedIndexCount,this._nextVertexStart=a.vertexStart+a.reservedVertexCount,f}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const r=this.geometry,a=r.getIndex()!==null,o=r.getIndex(),l=t.getIndex(),s=this._geometryInfo[e];if(a&&l.count>s.reservedIndexCount||t.attributes.position.count>s.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const f=s.vertexStart,h=s.reservedVertexCount;s.vertexCount=t.getAttribute("position").count;for(const v in r.attributes){const _=t.getAttribute(v),x=r.getAttribute(v);$ie(_,x,f);const C=_.itemSize;for(let c=_.count,p=h;c<p;c++){const m=f+c;for(let b=0;b<C;b++)x.setComponent(m,b,0)}x.needsUpdate=!0,x.addUpdateRange(f*C,h*C)}if(a){const v=s.indexStart,_=s.reservedIndexCount;s.indexCount=t.getIndex().count;for(let x=0;x<l.count;x++)o.setX(v+x,f+l.getX(x));for(let x=l.count,C=_;x<C;x++)o.setX(v+x,f);o.needsUpdate=!0,o.addUpdateRange(v,s.reservedIndexCount)}return s.start=a?s.indexStart:s.vertexStart,s.count=a?s.indexCount:s.vertexCount,s.boundingBox=null,t.boundingBox!==null&&(s.boundingBox=t.boundingBox.clone()),s.boundingSphere=null,t.boundingSphere!==null&&(s.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const r=this._instanceInfo;for(let a=0,o=r.length;a<o;a++)r[a].active&&r[a].geometryIndex===e&&this.deleteInstance(a);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const r=this._geometryInfo,a=r.map((l,s)=>s).sort((l,s)=>r[l].vertexStart-r[s].vertexStart),o=this.geometry;for(let l=0,s=r.length;l<s;l++){const f=a[l],h=r[f];if(h.active!==!1){if(o.index!==null){if(h.indexStart!==t){const{indexStart:v,vertexStart:_,reservedIndexCount:x}=h,C=o.index,c=C.array,p=e-_;for(let m=v;m<v+x;m++)c[m]=c[m]+p;C.array.copyWithin(t,v,v+x),C.addUpdateRange(t,x),h.indexStart=t}t+=h.reservedIndexCount}if(h.vertexStart!==e){const{vertexStart:v,reservedVertexCount:_}=h,x=o.attributes;for(const C in x){const c=x[C],{array:p,itemSize:m}=c;p.copyWithin(e*m,v*m,(v+_)*m),c.addUpdateRange(e*m,_*m)}h.vertexStart=e}e+=h.reservedVertexCount,h.start=o.index?h.indexStart:h.vertexStart,this._nextIndexStart=o.index?h.indexStart+h.reservedIndexCount:0,this._nextVertexStart=h.vertexStart+h.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const r=this.geometry,a=this._geometryInfo[e];if(a.boundingBox===null){const o=new ss,l=r.index,s=r.attributes.position;for(let f=a.start,h=a.start+a.count;f<h;f++){let v=f;l&&(v=l.getX(v)),o.expandByPoint(Ny.fromBufferAttribute(s,v))}a.boundingBox=o}return t.copy(a.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const r=this.geometry,a=this._geometryInfo[e];if(a.boundingSphere===null){const o=new Do;this.getBoundingBoxAt(e,zx),zx.getCenter(o.center);const l=r.index,s=r.attributes.position;let f=0;for(let h=a.start,v=a.start+a.count;h<v;h++){let _=h;l&&(_=l.getX(_)),Ny.fromBufferAttribute(s,_),f=Math.max(f,o.center.distanceToSquared(Ny))}o.radius=Math.sqrt(f),a.boundingSphere=o}return t.copy(a.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const r=this._matricesTexture,a=this._matricesTexture.image.data;return t.toArray(a,e*16),r.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const r=this._geometryInfo[e];return t.vertexStart=r.vertexStart,t.vertexCount=r.vertexCount,t.reservedVertexCount=r.reservedVertexCount,t.indexStart=r.indexStart,t.indexCount=r.indexCount,t.reservedIndexCount=r.reservedIndexCount,t.start=r.start,t.count=r.count,t}setInstanceCount(e){const t=this._availableInstanceIds,r=this._instanceInfo;for(t.sort($T);t[t.length-1]===r.length;)r.pop(),t.pop();if(e<r.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const a=new Int32Array(e),o=new Int32Array(e);Ap(this._multiDrawCounts,a),Ap(this._multiDrawStarts,o),this._multiDrawCounts=a,this._multiDrawStarts=o,this._maxInstanceCount=e;const l=this._indirectTexture,s=this._matricesTexture,f=this._colorsTexture;l.dispose(),this._initIndirectTexture(),Ap(l.image.data,this._indirectTexture.image.data),s.dispose(),this._initMatricesTexture(),Ap(s.image.data,this._matricesTexture.image.data),f&&(f.dispose(),this._initColorsTexture(),Ap(f.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const r=[...this._geometryInfo].filter(s=>s.active);if(Math.max(...r.map(s=>s.vertexStart+s.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...r.map(f=>f.indexStart+f.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const o=this.geometry;o.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Jn,this._initializeGeometry(o));const l=this.geometry;o.index&&Ap(o.index.array,l.index.array);for(const s in o.attributes)Ap(o.attributes[s].array,l.attributes[s].array)}raycast(e,t){const r=this._instanceInfo,a=this._geometryInfo,o=this.matrixWorld,l=this.geometry;To.material=this.material,To.geometry.index=l.index,To.geometry.attributes=l.attributes,To.geometry.boundingBox===null&&(To.geometry.boundingBox=new ss),To.geometry.boundingSphere===null&&(To.geometry.boundingSphere=new Do);for(let s=0,f=r.length;s<f;s++){if(!r[s].visible||!r[s].active)continue;const h=r[s].geometryIndex,v=a[h];To.geometry.setDrawRange(v.start,v.count),this.getMatrixAt(s,To.matrixWorld).premultiply(o),this.getBoundingBoxAt(h,To.geometry.boundingBox),this.getBoundingSphereAt(h,To.geometry.boundingSphere),To.raycast(e,Px);for(let _=0,x=Px.length;_<x;_++){const C=Px[_];C.object=this,C.batchId=s,t.push(C)}Px.length=0}To.material=null,To.geometry.index=null,To.geometry.attributes={},To.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,r,a,o){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const l=a.getIndex(),s=l===null?1:l.array.BYTES_PER_ELEMENT,f=this._instanceInfo,h=this._multiDrawStarts,v=this._multiDrawCounts,_=this._geometryInfo,x=this.perObjectFrustumCulled,C=this._indirectTexture,c=C.image.data;x&&(ws.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),VT.setFromProjectionMatrix(ws,e.coordinateSystem));let p=0;if(this.sortObjects){ws.copy(this.matrixWorld).invert(),Ny.setFromMatrixPosition(r.matrixWorld).applyMatrix4(ws),OD.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(ws);for(let w=0,A=f.length;w<A;w++)if(f[w].visible&&f[w].active){const R=f[w].geometryIndex;this.getMatrixAt(w,ws),this.getBoundingSphereAt(R,Tp).applyMatrix4(ws);let O=!1;if(x&&(O=!VT.intersectsSphere(Tp)),!O){const P=_[R],D=kie.subVectors(Tp.center,Ny).dot(OD);GT.push(P.start,P.count,D,w)}}const m=GT.list,b=this.customSort;b===null?m.sort(o.transparent?Bie:Uie):b.call(this,m,r);for(let w=0,A=m.length;w<A;w++){const R=m[w];h[p]=R.start*s,v[p]=R.count,c[p]=R.index,p++}GT.reset()}else for(let m=0,b=f.length;m<b;m++)if(f[m].visible&&f[m].active){const w=f[m].geometryIndex;let A=!1;if(x&&(this.getMatrixAt(m,ws),this.getBoundingSphereAt(w,Tp).applyMatrix4(ws),A=!VT.intersectsSphere(Tp)),!A){const R=_[w];h[p]=R.start*s,v[p]=R.count,c[p]=m,p++}}C.needsUpdate=!0,this._multiDrawCount=p,this._visibilityChanged=!1}onBeforeShadow(e,t,r,a,o,l){this.onBeforeRender(e,null,a,o,l)}}class Fo extends Bo{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new on(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const cC=new ye,uC=new ye,ID=new kn,Uy=new zm,Dx=new Do,jT=new ye,zD=new ye;class bi extends xi{constructor(e=new Jn,t=new Fo){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let a=1,o=t.count;a<o;a++)cC.fromBufferAttribute(t,a-1),uC.fromBufferAttribute(t,a),r[a]=r[a-1],r[a]+=cC.distanceTo(uC);e.setAttribute("lineDistance",new mn(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,a=this.matrixWorld,o=e.params.Line.threshold,l=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Dx.copy(r.boundingSphere),Dx.applyMatrix4(a),Dx.radius+=o,e.ray.intersectsSphere(Dx)===!1)return;ID.copy(a).invert(),Uy.copy(e.ray).applyMatrix4(ID);const s=o/((this.scale.x+this.scale.y+this.scale.z)/3),f=s*s,h=this.isLineSegments?2:1,v=r.index,x=r.attributes.position;if(v!==null){const C=Math.max(0,l.start),c=Math.min(v.count,l.start+l.count);for(let p=C,m=c-1;p<m;p+=h){const b=v.getX(p),w=v.getX(p+1),A=Lx(this,e,Uy,f,b,w,p);A&&t.push(A)}if(this.isLineLoop){const p=v.getX(c-1),m=v.getX(C),b=Lx(this,e,Uy,f,p,m,c-1);b&&t.push(b)}}else{const C=Math.max(0,l.start),c=Math.min(x.count,l.start+l.count);for(let p=C,m=c-1;p<m;p+=h){const b=Lx(this,e,Uy,f,p,p+1,p);b&&t.push(b)}if(this.isLineLoop){const p=Lx(this,e,Uy,f,c-1,C,c-1);p&&t.push(p)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const a=t[r[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,l=a.length;o<l;o++){const s=a[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}}function Lx(n,e,t,r,a,o,l){const s=n.geometry.attributes.position;if(cC.fromBufferAttribute(s,a),uC.fromBufferAttribute(s,o),t.distanceSqToSegment(cC,uC,jT,zD)>r)return;jT.applyMatrix4(n.matrixWorld);const h=e.ray.origin.distanceTo(jT);if(!(h<e.near||h>e.far))return{distance:h,point:zD.clone().applyMatrix4(n.matrixWorld),index:l,face:null,faceIndex:null,barycoord:null,object:n}}const PD=new ye,DD=new ye;class of extends bi{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let a=0,o=t.count;a<o;a+=2)PD.fromBufferAttribute(t,a),DD.fromBufferAttribute(t,a+1),r[a]=a===0?0:r[a-1],r[a+1]=r[a]+PD.distanceTo(DD);e.setAttribute("lineDistance",new mn(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Q6 extends bi{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class VO extends Bo{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new on(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const LD=new kn,Z2=new zm,Nx=new Do,Ux=new ye;class J6 extends xi{constructor(e=new Jn,t=new VO){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,a=this.matrixWorld,o=e.params.Points.threshold,l=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Nx.copy(r.boundingSphere),Nx.applyMatrix4(a),Nx.radius+=o,e.ray.intersectsSphere(Nx)===!1)return;LD.copy(a).invert(),Z2.copy(e.ray).applyMatrix4(LD);const s=o/((this.scale.x+this.scale.y+this.scale.z)/3),f=s*s,h=r.index,_=r.attributes.position;if(h!==null){const x=Math.max(0,l.start),C=Math.min(h.count,l.start+l.count);for(let c=x,p=C;c<p;c++){const m=h.getX(c);Ux.fromBufferAttribute(_,m),ND(Ux,m,f,a,e,t,this)}}else{const x=Math.max(0,l.start),C=Math.min(_.count,l.start+l.count);for(let c=x,p=C;c<p;c++)Ux.fromBufferAttribute(_,c),ND(Ux,c,f,a,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const a=t[r[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,l=a.length;o<l;o++){const s=a[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}}function ND(n,e,t,r,a,o,l){const s=Z2.distanceSqToPoint(n);if(s<t){const f=new ye;Z2.closestPointToPoint(n,f),f.applyMatrix4(r);const h=a.ray.origin.distanceTo(f);if(h<a.near||h>a.far)return;o.push({distance:h,distanceToRay:Math.sqrt(s),point:f,index:e,face:null,faceIndex:null,barycoord:null,object:l})}}class e8 extends sa{constructor(e,t,r,a,o,l,s,f,h){super(e,t,r,a,o,l,s,f,h),this.isVideoTexture=!0,this.minFilter=l!==void 0?l:za,this.magFilter=o!==void 0?o:za,this.generateMipmaps=!1;const v=this;function _(){v.needsUpdate=!0,e.requestVideoFrameCallback(_)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(_)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Vie extends e8{constructor(e,t,r,a,o,l,s,f){super({},e,t,r,a,o,l,s,f),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class Gie extends sa{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=ho,this.minFilter=ho,this.generateMipmaps=!1,this.needsUpdate=!0}}class ME extends sa{constructor(e,t,r,a,o,l,s,f,h,v,_,x){super(null,l,s,f,h,v,a,o,_,x),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class jie extends ME{constructor(e,t,r,a,o,l){super(e,t,r,o,l),this.isCompressedArrayTexture=!0,this.image.depth=a,this.wrapR=kl,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Wie extends ME{constructor(e,t,r){super(void 0,e[0].width,e[0].height,t,r,hd),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class Xie extends sa{constructor(e,t,r,a,o,l,s,f,h){super(e,t,r,a,o,l,s,f,h),this.isCanvasTexture=!0,this.needsUpdate=!0}}class GO extends sa{constructor(e,t,r,a,o,l,s,f,h,v=pm){if(v!==pm&&v!==_m)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&v===pm&&(r=pd),r===void 0&&v===_m&&(r=bm),super(null,a,o,l,s,f,v,r,h),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=s!==void 0?s:ho,this.minFilter=f!==void 0?f:ho,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Eh(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class Yc{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,a=this.getPoint(0),o=0;t.push(0);for(let l=1;l<=e;l++)r=this.getPoint(l/e),o+=r.distanceTo(a),t.push(o),a=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const r=this.getLengths();let a=0;const o=r.length;let l;t?l=t:l=e*r[o-1];let s=0,f=o-1,h;for(;s<=f;)if(a=Math.floor(s+(f-s)/2),h=r[a]-l,h<0)s=a+1;else if(h>0)f=a-1;else{f=a;break}if(a=f,r[a]===l)return a/(o-1);const v=r[a],x=r[a+1]-v,C=(l-v)/x;return(a+C)/(o-1)}getTangent(e,t){let a=e-1e-4,o=e+1e-4;a<0&&(a=0),o>1&&(o=1);const l=this.getPoint(a),s=this.getPoint(o),f=t||(l.isVector2?new At:new ye);return f.copy(s).sub(l).normalize(),f}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t=!1){const r=new ye,a=[],o=[],l=[],s=new ye,f=new kn;for(let C=0;C<=e;C++){const c=C/e;a[C]=this.getTangentAt(c,new ye)}o[0]=new ye,l[0]=new ye;let h=Number.MAX_VALUE;const v=Math.abs(a[0].x),_=Math.abs(a[0].y),x=Math.abs(a[0].z);v<=h&&(h=v,r.set(1,0,0)),_<=h&&(h=_,r.set(0,1,0)),x<=h&&r.set(0,0,1),s.crossVectors(a[0],r).normalize(),o[0].crossVectors(a[0],s),l[0].crossVectors(a[0],o[0]);for(let C=1;C<=e;C++){if(o[C]=o[C-1].clone(),l[C]=l[C-1].clone(),s.crossVectors(a[C-1],a[C]),s.length()>Number.EPSILON){s.normalize();const c=Math.acos(Qn(a[C-1].dot(a[C]),-1,1));o[C].applyMatrix4(f.makeRotationAxis(s,c))}l[C].crossVectors(a[C],o[C])}if(t===!0){let C=Math.acos(Qn(o[0].dot(o[e]),-1,1));C/=e,a[0].dot(s.crossVectors(o[0],o[e]))>0&&(C=-C);for(let c=1;c<=e;c++)o[c].applyMatrix4(f.makeRotationAxis(a[c],C*c)),l[c].crossVectors(a[c],o[c])}return{tangents:a,normals:o,binormals:l}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class TE extends Yc{constructor(e=0,t=0,r=1,a=1,o=0,l=Math.PI*2,s=!1,f=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=a,this.aStartAngle=o,this.aEndAngle=l,this.aClockwise=s,this.aRotation=f}getPoint(e,t=new At){const r=t,a=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const l=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=a;for(;o>a;)o-=a;o<Number.EPSILON&&(l?o=0:o=a),this.aClockwise===!0&&!l&&(o===a?o=-a:o=o-a);const s=this.aStartAngle+e*o;let f=this.aX+this.xRadius*Math.cos(s),h=this.aY+this.yRadius*Math.sin(s);if(this.aRotation!==0){const v=Math.cos(this.aRotation),_=Math.sin(this.aRotation),x=f-this.aX,C=h-this.aY;f=x*v-C*_+this.aX,h=x*_+C*v+this.aY}return r.set(f,h)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class t8 extends TE{constructor(e,t,r,a,o,l){super(e,t,r,r,a,o,l),this.isArcCurve=!0,this.type="ArcCurve"}}function jO(){let n=0,e=0,t=0,r=0;function a(o,l,s,f){n=o,e=s,t=-3*o+3*l-2*s-f,r=2*o-2*l+s+f}return{initCatmullRom:function(o,l,s,f,h){a(l,s,h*(s-o),h*(f-l))},initNonuniformCatmullRom:function(o,l,s,f,h,v,_){let x=(l-o)/h-(s-o)/(h+v)+(s-l)/v,C=(s-l)/v-(f-l)/(v+_)+(f-s)/_;x*=v,C*=v,a(l,s,x,C)},calc:function(o){const l=o*o,s=l*o;return n+e*o+t*l+r*s}}}const Bx=new ye,WT=new jO,XT=new jO,YT=new jO;class n8 extends Yc{constructor(e=[],t=!1,r="centripetal",a=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=a}getPoint(e,t=new ye){const r=t,a=this.points,o=a.length,l=(o-(this.closed?0:1))*e;let s=Math.floor(l),f=l-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/o)+1)*o:f===0&&s===o-1&&(s=o-2,f=1);let h,v;this.closed||s>0?h=a[(s-1)%o]:(Bx.subVectors(a[0],a[1]).add(a[0]),h=Bx);const _=a[s%o],x=a[(s+1)%o];if(this.closed||s+2<o?v=a[(s+2)%o]:(Bx.subVectors(a[o-1],a[o-2]).add(a[o-1]),v=Bx),this.curveType==="centripetal"||this.curveType==="chordal"){const C=this.curveType==="chordal"?.5:.25;let c=Math.pow(h.distanceToSquared(_),C),p=Math.pow(_.distanceToSquared(x),C),m=Math.pow(x.distanceToSquared(v),C);p<1e-4&&(p=1),c<1e-4&&(c=p),m<1e-4&&(m=p),WT.initNonuniformCatmullRom(h.x,_.x,x.x,v.x,c,p,m),XT.initNonuniformCatmullRom(h.y,_.y,x.y,v.y,c,p,m),YT.initNonuniformCatmullRom(h.z,_.z,x.z,v.z,c,p,m)}else this.curveType==="catmullrom"&&(WT.initCatmullRom(h.x,_.x,x.x,v.x,this.tension),XT.initCatmullRom(h.y,_.y,x.y,v.y,this.tension),YT.initCatmullRom(h.z,_.z,x.z,v.z,this.tension));return r.set(WT.calc(f),XT.calc(f),YT.calc(f)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const a=e.points[t];this.points.push(a.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const a=this.points[t];e.points.push(a.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const a=e.points[t];this.points.push(new ye().fromArray(a))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function UD(n,e,t,r,a){const o=(r-e)*.5,l=(a-t)*.5,s=n*n,f=n*s;return(2*t-2*r+o+l)*f+(-3*t+3*r-2*o-l)*s+o*n+t}function Yie(n,e){const t=1-n;return t*t*e}function qie(n,e){return 2*(1-n)*n*e}function Zie(n,e){return n*n*e}function _b(n,e,t,r){return Yie(n,e)+qie(n,t)+Zie(n,r)}function Kie(n,e){const t=1-n;return t*t*t*e}function Qie(n,e){const t=1-n;return 3*t*t*n*e}function Jie(n,e){return 3*(1-n)*n*n*e}function ere(n,e){return n*n*n*e}function Sb(n,e,t,r,a){return Kie(n,e)+Qie(n,t)+Jie(n,r)+ere(n,a)}class WO extends Yc{constructor(e=new At,t=new At,r=new At,a=new At){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=a}getPoint(e,t=new At){const r=t,a=this.v0,o=this.v1,l=this.v2,s=this.v3;return r.set(Sb(e,a.x,o.x,l.x,s.x),Sb(e,a.y,o.y,l.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class i8 extends Yc{constructor(e=new ye,t=new ye,r=new ye,a=new ye){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=a}getPoint(e,t=new ye){const r=t,a=this.v0,o=this.v1,l=this.v2,s=this.v3;return r.set(Sb(e,a.x,o.x,l.x,s.x),Sb(e,a.y,o.y,l.y,s.y),Sb(e,a.z,o.z,l.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class XO extends Yc{constructor(e=new At,t=new At){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new At){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new At){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class r8 extends Yc{constructor(e=new ye,t=new ye){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new ye){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new ye){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class YO extends Yc{constructor(e=new At,t=new At,r=new At){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new At){const r=t,a=this.v0,o=this.v1,l=this.v2;return r.set(_b(e,a.x,o.x,l.x),_b(e,a.y,o.y,l.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class qO extends Yc{constructor(e=new ye,t=new ye,r=new ye){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new ye){const r=t,a=this.v0,o=this.v1,l=this.v2;return r.set(_b(e,a.x,o.x,l.x),_b(e,a.y,o.y,l.y),_b(e,a.z,o.z,l.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class ZO extends Yc{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new At){const r=t,a=this.points,o=(a.length-1)*e,l=Math.floor(o),s=o-l,f=a[l===0?l:l-1],h=a[l],v=a[l>a.length-2?a.length-1:l+1],_=a[l>a.length-3?a.length-1:l+2];return r.set(UD(s,f.x,h.x,v.x,_.x),UD(s,f.y,h.y,v.y,_.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const a=e.points[t];this.points.push(a.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const a=this.points[t];e.points.push(a.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const a=e.points[t];this.points.push(new At().fromArray(a))}return this}}var fC=Object.freeze({__proto__:null,ArcCurve:t8,CatmullRomCurve3:n8,CubicBezierCurve:WO,CubicBezierCurve3:i8,EllipseCurve:TE,LineCurve:XO,LineCurve3:r8,QuadraticBezierCurve:YO,QuadraticBezierCurve3:qO,SplineCurve:ZO});class a8 extends Yc{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new fC[r](t,e))}return this}getPoint(e,t){const r=e*this.getLength(),a=this.getCurveLengths();let o=0;for(;o<a.length;){if(a[o]>=r){const l=a[o]-r,s=this.curves[o],f=s.getLength(),h=f===0?0:1-l/f;return s.getPointAt(h,t)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,a=this.curves.length;r<a;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let a=0,o=this.curves;a<o.length;a++){const l=o[a],s=l.isEllipseCurve?e*2:l.isLineCurve||l.isLineCurve3?1:l.isSplineCurve?e*l.points.length:e,f=l.getPoints(s);for(let h=0;h<f.length;h++){const v=f[h];r&&r.equals(v)||(t.push(v),r=v)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const a=e.curves[t];this.curves.push(a.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const a=this.curves[t];e.curves.push(a.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const a=e.curves[t];this.curves.push(new fC[a.type]().fromJSON(a))}return this}}class Kb extends a8{constructor(e){super(),this.type="Path",this.currentPoint=new At,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new XO(this.currentPoint.clone(),new At(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,a){const o=new YO(this.currentPoint.clone(),new At(e,t),new At(r,a));return this.curves.push(o),this.currentPoint.set(r,a),this}bezierCurveTo(e,t,r,a,o,l){const s=new WO(this.currentPoint.clone(),new At(e,t),new At(r,a),new At(o,l));return this.curves.push(s),this.currentPoint.set(o,l),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new ZO(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,a,o,l){const s=this.currentPoint.x,f=this.currentPoint.y;return this.absarc(e+s,t+f,r,a,o,l),this}absarc(e,t,r,a,o,l){return this.absellipse(e,t,r,r,a,o,l),this}ellipse(e,t,r,a,o,l,s,f){const h=this.currentPoint.x,v=this.currentPoint.y;return this.absellipse(e+h,t+v,r,a,o,l,s,f),this}absellipse(e,t,r,a,o,l,s,f){const h=new TE(e,t,r,a,o,l,s,f);if(this.curves.length>0){const _=h.getPoint(0);_.equals(this.currentPoint)||this.lineTo(_.x,_.y)}this.curves.push(h);const v=h.getPoint(1);return this.currentPoint.copy(v),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class O_ extends Jn{constructor(e=[new At(0,-.5),new At(.5,0),new At(0,.5)],t=12,r=0,a=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:a},t=Math.floor(t),a=Qn(a,0,Math.PI*2);const o=[],l=[],s=[],f=[],h=[],v=1/t,_=new ye,x=new At,C=new ye,c=new ye,p=new ye;let m=0,b=0;for(let w=0;w<=e.length-1;w++)switch(w){case 0:m=e[w+1].x-e[w].x,b=e[w+1].y-e[w].y,C.x=b*1,C.y=-m,C.z=b*0,p.copy(C),C.normalize(),f.push(C.x,C.y,C.z);break;case e.length-1:f.push(p.x,p.y,p.z);break;default:m=e[w+1].x-e[w].x,b=e[w+1].y-e[w].y,C.x=b*1,C.y=-m,C.z=b*0,c.copy(C),C.x+=p.x,C.y+=p.y,C.z+=p.z,C.normalize(),f.push(C.x,C.y,C.z),p.copy(c)}for(let w=0;w<=t;w++){const A=r+w*v*a,R=Math.sin(A),O=Math.cos(A);for(let P=0;P<=e.length-1;P++){_.x=e[P].x*R,_.y=e[P].y,_.z=e[P].x*O,l.push(_.x,_.y,_.z),x.x=w/t,x.y=P/(e.length-1),s.push(x.x,x.y);const D=f[3*P+0]*R,F=f[3*P+1],B=f[3*P+0]*O;h.push(D,F,B)}}for(let w=0;w<t;w++)for(let A=0;A<e.length-1;A++){const R=A+w*e.length,O=R,P=R+e.length,D=R+e.length+1,F=R+1;o.push(O,P,F),o.push(D,F,P)}this.setIndex(o),this.setAttribute("position",new mn(l,3)),this.setAttribute("uv",new mn(s,2)),this.setAttribute("normal",new mn(h,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new O_(e.points,e.segments,e.phiStart,e.phiLength)}}class AE extends O_{constructor(e=1,t=1,r=4,a=8){const o=new Kb;o.absarc(0,-t/2,e,Math.PI*1.5,0),o.absarc(0,t/2,e,0,Math.PI*.5),super(o.getPoints(r),a),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:r,radialSegments:a}}static fromJSON(e){return new AE(e.radius,e.length,e.capSegments,e.radialSegments)}}class RE extends Jn{constructor(e=1,t=32,r=0,a=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:a},t=Math.max(3,t);const o=[],l=[],s=[],f=[],h=new ye,v=new At;l.push(0,0,0),s.push(0,0,1),f.push(.5,.5);for(let _=0,x=3;_<=t;_++,x+=3){const C=r+_/t*a;h.x=e*Math.cos(C),h.y=e*Math.sin(C),l.push(h.x,h.y,h.z),s.push(0,0,1),v.x=(l[x]/e+1)/2,v.y=(l[x+1]/e+1)/2,f.push(v.x,v.y)}for(let _=1;_<=t;_++)o.push(_,_+1,0);this.setIndex(o),this.setAttribute("position",new mn(l,3)),this.setAttribute("normal",new mn(s,3)),this.setAttribute("uv",new mn(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new RE(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class lo extends Jn{constructor(e=1,t=1,r=1,a=32,o=1,l=!1,s=0,f=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:a,heightSegments:o,openEnded:l,thetaStart:s,thetaLength:f};const h=this;a=Math.floor(a),o=Math.floor(o);const v=[],_=[],x=[],C=[];let c=0;const p=[],m=r/2;let b=0;w(),l===!1&&(e>0&&A(!0),t>0&&A(!1)),this.setIndex(v),this.setAttribute("position",new mn(_,3)),this.setAttribute("normal",new mn(x,3)),this.setAttribute("uv",new mn(C,2));function w(){const R=new ye,O=new ye;let P=0;const D=(t-e)/r;for(let F=0;F<=o;F++){const B=[],U=F/o,V=U*(t-e)+e;for(let Q=0;Q<=a;Q++){const X=Q/a,ee=X*f+s,ae=Math.sin(ee),Z=Math.cos(ee);O.x=V*ae,O.y=-U*r+m,O.z=V*Z,_.push(O.x,O.y,O.z),R.set(ae,D,Z).normalize(),x.push(R.x,R.y,R.z),C.push(X,1-U),B.push(c++)}p.push(B)}for(let F=0;F<a;F++)for(let B=0;B<o;B++){const U=p[B][F],V=p[B+1][F],Q=p[B+1][F+1],X=p[B][F+1];(e>0||B!==0)&&(v.push(U,V,X),P+=3),(t>0||B!==o-1)&&(v.push(V,Q,X),P+=3)}h.addGroup(b,P,0),b+=P}function A(R){const O=c,P=new At,D=new ye;let F=0;const B=R===!0?e:t,U=R===!0?1:-1;for(let Q=1;Q<=a;Q++)_.push(0,m*U,0),x.push(0,U,0),C.push(.5,.5),c++;const V=c;for(let Q=0;Q<=a;Q++){const ee=Q/a*f+s,ae=Math.cos(ee),Z=Math.sin(ee);D.x=B*Z,D.y=m*U,D.z=B*ae,_.push(D.x,D.y,D.z),x.push(0,U,0),P.x=ae*.5+.5,P.y=Z*.5*U+.5,C.push(P.x,P.y),c++}for(let Q=0;Q<a;Q++){const X=O+Q,ee=V+Q;R===!0?v.push(ee,ee+1,X):v.push(ee+1,ee,X),F+=3}h.addGroup(b,F,R===!0?1:2),b+=F}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new lo(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class OE extends lo{constructor(e=1,t=1,r=32,a=1,o=!1,l=0,s=Math.PI*2){super(0,e,t,r,a,o,l,s),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:a,openEnded:o,thetaStart:l,thetaLength:s}}static fromJSON(e){return new OE(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class $h extends Jn{constructor(e=[],t=[],r=1,a=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:a};const o=[],l=[];s(a),h(r),v(),this.setAttribute("position",new mn(o,3)),this.setAttribute("normal",new mn(o.slice(),3)),this.setAttribute("uv",new mn(l,2)),a===0?this.computeVertexNormals():this.normalizeNormals();function s(w){const A=new ye,R=new ye,O=new ye;for(let P=0;P<t.length;P+=3)C(t[P+0],A),C(t[P+1],R),C(t[P+2],O),f(A,R,O,w)}function f(w,A,R,O){const P=O+1,D=[];for(let F=0;F<=P;F++){D[F]=[];const B=w.clone().lerp(R,F/P),U=A.clone().lerp(R,F/P),V=P-F;for(let Q=0;Q<=V;Q++)Q===0&&F===P?D[F][Q]=B:D[F][Q]=B.clone().lerp(U,Q/V)}for(let F=0;F<P;F++)for(let B=0;B<2*(P-F)-1;B++){const U=Math.floor(B/2);B%2===0?(x(D[F][U+1]),x(D[F+1][U]),x(D[F][U])):(x(D[F][U+1]),x(D[F+1][U+1]),x(D[F+1][U]))}}function h(w){const A=new ye;for(let R=0;R<o.length;R+=3)A.x=o[R+0],A.y=o[R+1],A.z=o[R+2],A.normalize().multiplyScalar(w),o[R+0]=A.x,o[R+1]=A.y,o[R+2]=A.z}function v(){const w=new ye;for(let A=0;A<o.length;A+=3){w.x=o[A+0],w.y=o[A+1],w.z=o[A+2];const R=m(w)/2/Math.PI+.5,O=b(w)/Math.PI+.5;l.push(R,1-O)}c(),_()}function _(){for(let w=0;w<l.length;w+=6){const A=l[w+0],R=l[w+2],O=l[w+4],P=Math.max(A,R,O),D=Math.min(A,R,O);P>.9&&D<.1&&(A<.2&&(l[w+0]+=1),R<.2&&(l[w+2]+=1),O<.2&&(l[w+4]+=1))}}function x(w){o.push(w.x,w.y,w.z)}function C(w,A){const R=w*3;A.x=e[R+0],A.y=e[R+1],A.z=e[R+2]}function c(){const w=new ye,A=new ye,R=new ye,O=new ye,P=new At,D=new At,F=new At;for(let B=0,U=0;B<o.length;B+=9,U+=6){w.set(o[B+0],o[B+1],o[B+2]),A.set(o[B+3],o[B+4],o[B+5]),R.set(o[B+6],o[B+7],o[B+8]),P.set(l[U+0],l[U+1]),D.set(l[U+2],l[U+3]),F.set(l[U+4],l[U+5]),O.copy(w).add(A).add(R).divideScalar(3);const V=m(O);p(P,U+0,w,V),p(D,U+2,A,V),p(F,U+4,R,V)}}function p(w,A,R,O){O<0&&w.x===1&&(l[A]=w.x-1),R.x===0&&R.z===0&&(l[A]=O/2/Math.PI+.5)}function m(w){return Math.atan2(w.z,-w.x)}function b(w){return Math.atan2(-w.y,Math.sqrt(w.x*w.x+w.z*w.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $h(e.vertices,e.indices,e.radius,e.details)}}class IE extends $h{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,a=1/r,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-a,-r,0,-a,r,0,a,-r,0,a,r,-a,-r,0,-a,r,0,a,-r,0,a,r,0,-r,0,-a,r,0,-a,-r,0,a,r,0,a],l=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,l,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new IE(e.radius,e.detail)}}const Fx=new ye,Hx=new ye,qT=new ye,kx=new Os;class o8 extends Jn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const a=Math.pow(10,4),o=Math.cos(mm*t),l=e.getIndex(),s=e.getAttribute("position"),f=l?l.count:s.count,h=[0,0,0],v=["a","b","c"],_=new Array(3),x={},C=[];for(let c=0;c<f;c+=3){l?(h[0]=l.getX(c),h[1]=l.getX(c+1),h[2]=l.getX(c+2)):(h[0]=c,h[1]=c+1,h[2]=c+2);const{a:p,b:m,c:b}=kx;if(p.fromBufferAttribute(s,h[0]),m.fromBufferAttribute(s,h[1]),b.fromBufferAttribute(s,h[2]),kx.getNormal(qT),_[0]=`${Math.round(p.x*a)},${Math.round(p.y*a)},${Math.round(p.z*a)}`,_[1]=`${Math.round(m.x*a)},${Math.round(m.y*a)},${Math.round(m.z*a)}`,_[2]=`${Math.round(b.x*a)},${Math.round(b.y*a)},${Math.round(b.z*a)}`,!(_[0]===_[1]||_[1]===_[2]||_[2]===_[0]))for(let w=0;w<3;w++){const A=(w+1)%3,R=_[w],O=_[A],P=kx[v[w]],D=kx[v[A]],F=`${R}_${O}`,B=`${O}_${R}`;B in x&&x[B]?(qT.dot(x[B].normal)<=o&&(C.push(P.x,P.y,P.z),C.push(D.x,D.y,D.z)),x[B]=null):F in x||(x[F]={index0:h[w],index1:h[A],normal:qT.clone()})}}for(const c in x)if(x[c]){const{index0:p,index1:m}=x[c];Fx.fromBufferAttribute(s,p),Hx.fromBufferAttribute(s,m),C.push(Fx.x,Fx.y,Fx.z),C.push(Hx.x,Hx.y,Hx.z)}this.setAttribute("position",new mn(C,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class gm extends Kb{constructor(e){super(e),this.uuid=ol(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,a=this.holes.length;r<a;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const a=e.holes[t];this.holes.push(a.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const a=this.holes[t];e.holes.push(a.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const a=e.holes[t];this.holes.push(new Kb().fromJSON(a))}return this}}class tre{static triangulate(e,t,r=2){const a=t&&t.length,o=a?t[0]*r:e.length;let l=s8(e,0,o,r,!0);const s=[];if(!l||l.next===l.prev)return s;let f,h,v,_,x,C,c;if(a&&(l=ore(e,t,l,r)),e.length>80*r){f=v=e[0],h=_=e[1];for(let p=r;p<o;p+=r)x=e[p],C=e[p+1],x<f&&(f=x),C<h&&(h=C),x>v&&(v=x),C>_&&(_=C);c=Math.max(v-f,_-h),c=c!==0?32767/c:0}return Qb(l,s,r,f,h,c,0),s}}function s8(n,e,t,r,a){let o,l;if(a===vre(n,e,t,r)>0)for(o=e;o<t;o+=r)l=BD(o,n[o],n[o+1],l);else for(o=t-r;o>=e;o-=r)l=BD(o,n[o],n[o+1],l);return l&&zE(l,l.next)&&(e_(l),l=l.next),l}function xm(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(zE(t,t.next)||Yr(t.prev,t,t.next)===0)){if(e_(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function Qb(n,e,t,r,a,o,l){if(!n)return;!l&&o&&fre(n,r,a,o);let s=n,f,h;for(;n.prev!==n.next;){if(f=n.prev,h=n.next,o?ire(n,r,a,o):nre(n)){e.push(f.i/t|0),e.push(n.i/t|0),e.push(h.i/t|0),e_(n),n=h.next,s=h.next;continue}if(n=h,n===s){l?l===1?(n=rre(xm(n),e,t),Qb(n,e,t,r,a,o,2)):l===2&&are(n,e,t,r,a,o):Qb(xm(n),e,t,r,a,o,1);break}}}function nre(n){const e=n.prev,t=n,r=n.next;if(Yr(e,t,r)>=0)return!1;const a=e.x,o=t.x,l=r.x,s=e.y,f=t.y,h=r.y,v=a<o?a<l?a:l:o<l?o:l,_=s<f?s<h?s:h:f<h?f:h,x=a>o?a>l?a:l:o>l?o:l,C=s>f?s>h?s:h:f>h?f:h;let c=r.next;for(;c!==e;){if(c.x>=v&&c.x<=x&&c.y>=_&&c.y<=C&&Tv(a,s,o,f,l,h,c.x,c.y)&&Yr(c.prev,c,c.next)>=0)return!1;c=c.next}return!0}function ire(n,e,t,r){const a=n.prev,o=n,l=n.next;if(Yr(a,o,l)>=0)return!1;const s=a.x,f=o.x,h=l.x,v=a.y,_=o.y,x=l.y,C=s<f?s<h?s:h:f<h?f:h,c=v<_?v<x?v:x:_<x?_:x,p=s>f?s>h?s:h:f>h?f:h,m=v>_?v>x?v:x:_>x?_:x,b=K2(C,c,e,t,r),w=K2(p,m,e,t,r);let A=n.prevZ,R=n.nextZ;for(;A&&A.z>=b&&R&&R.z<=w;){if(A.x>=C&&A.x<=p&&A.y>=c&&A.y<=m&&A!==a&&A!==l&&Tv(s,v,f,_,h,x,A.x,A.y)&&Yr(A.prev,A,A.next)>=0||(A=A.prevZ,R.x>=C&&R.x<=p&&R.y>=c&&R.y<=m&&R!==a&&R!==l&&Tv(s,v,f,_,h,x,R.x,R.y)&&Yr(R.prev,R,R.next)>=0))return!1;R=R.nextZ}for(;A&&A.z>=b;){if(A.x>=C&&A.x<=p&&A.y>=c&&A.y<=m&&A!==a&&A!==l&&Tv(s,v,f,_,h,x,A.x,A.y)&&Yr(A.prev,A,A.next)>=0)return!1;A=A.prevZ}for(;R&&R.z<=w;){if(R.x>=C&&R.x<=p&&R.y>=c&&R.y<=m&&R!==a&&R!==l&&Tv(s,v,f,_,h,x,R.x,R.y)&&Yr(R.prev,R,R.next)>=0)return!1;R=R.nextZ}return!0}function rre(n,e,t){let r=n;do{const a=r.prev,o=r.next.next;!zE(a,o)&&l8(a,r,r.next,o)&&Jb(a,o)&&Jb(o,a)&&(e.push(a.i/t|0),e.push(r.i/t|0),e.push(o.i/t|0),e_(r),e_(r.next),r=n=o),r=r.next}while(r!==n);return xm(r)}function are(n,e,t,r,a,o){let l=n;do{let s=l.next.next;for(;s!==l.prev;){if(l.i!==s.i&&pre(l,s)){let f=c8(l,s);l=xm(l,l.next),f=xm(f,f.next),Qb(l,e,t,r,a,o,0),Qb(f,e,t,r,a,o,0);return}s=s.next}l=l.next}while(l!==n)}function ore(n,e,t,r){const a=[];let o,l,s,f,h;for(o=0,l=e.length;o<l;o++)s=e[o]*r,f=o<l-1?e[o+1]*r:n.length,h=s8(n,s,f,r,!1),h===h.next&&(h.steiner=!0),a.push(hre(h));for(a.sort(sre),o=0;o<a.length;o++)t=lre(a[o],t);return t}function sre(n,e){return n.x-e.x}function lre(n,e){const t=cre(n,e);if(!t)return e;const r=c8(t,n);return xm(r,r.next),xm(t,t.next)}function cre(n,e){let t=e,r=-1/0,a;const o=n.x,l=n.y;do{if(l<=t.y&&l>=t.next.y&&t.next.y!==t.y){const x=t.x+(l-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(x<=o&&x>r&&(r=x,a=t.x<t.next.x?t:t.next,x===o))return a}t=t.next}while(t!==e);if(!a)return null;const s=a,f=a.x,h=a.y;let v=1/0,_;t=a;do o>=t.x&&t.x>=f&&o!==t.x&&Tv(l<h?o:r,l,f,h,l<h?r:o,l,t.x,t.y)&&(_=Math.abs(l-t.y)/(o-t.x),Jb(t,n)&&(_<v||_===v&&(t.x>a.x||t.x===a.x&&ure(a,t)))&&(a=t,v=_)),t=t.next;while(t!==s);return a}function ure(n,e){return Yr(n.prev,n,e.prev)<0&&Yr(e.next,n,n.next)<0}function fre(n,e,t,r){let a=n;do a.z===0&&(a.z=K2(a.x,a.y,e,t,r)),a.prevZ=a.prev,a.nextZ=a.next,a=a.next;while(a!==n);a.prevZ.nextZ=null,a.prevZ=null,dre(a)}function dre(n){let e,t,r,a,o,l,s,f,h=1;do{for(t=n,n=null,o=null,l=0;t;){for(l++,r=t,s=0,e=0;e<h&&(s++,r=r.nextZ,!!r);e++);for(f=h;s>0||f>0&&r;)s!==0&&(f===0||!r||t.z<=r.z)?(a=t,t=t.nextZ,s--):(a=r,r=r.nextZ,f--),o?o.nextZ=a:n=a,a.prevZ=o,o=a;t=r}o.nextZ=null,h*=2}while(l>1);return n}function K2(n,e,t,r,a){return n=(n-t)*a|0,e=(e-r)*a|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function hre(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Tv(n,e,t,r,a,o,l,s){return(a-l)*(e-s)>=(n-l)*(o-s)&&(n-l)*(r-s)>=(t-l)*(e-s)&&(t-l)*(o-s)>=(a-l)*(r-s)}function pre(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!mre(n,e)&&(Jb(n,e)&&Jb(e,n)&&gre(n,e)&&(Yr(n.prev,n,e.prev)||Yr(n,e.prev,e))||zE(n,e)&&Yr(n.prev,n,n.next)>0&&Yr(e.prev,e,e.next)>0)}function Yr(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function zE(n,e){return n.x===e.x&&n.y===e.y}function l8(n,e,t,r){const a=Vx(Yr(n,e,t)),o=Vx(Yr(n,e,r)),l=Vx(Yr(t,r,n)),s=Vx(Yr(t,r,e));return!!(a!==o&&l!==s||a===0&&$x(n,t,e)||o===0&&$x(n,r,e)||l===0&&$x(t,n,r)||s===0&&$x(t,e,r))}function $x(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Vx(n){return n>0?1:n<0?-1:0}function mre(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&l8(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Jb(n,e){return Yr(n.prev,n,n.next)<0?Yr(n,e,n.next)>=0&&Yr(n,n.prev,e)>=0:Yr(n,e,n.prev)<0||Yr(n,n.next,e)<0}function gre(n,e){let t=n,r=!1;const a=(n.x+e.x)/2,o=(n.y+e.y)/2;do t.y>o!=t.next.y>o&&t.next.y!==t.y&&a<(t.next.x-t.x)*(o-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function c8(n,e){const t=new Q2(n.i,n.x,n.y),r=new Q2(e.i,e.x,e.y),a=n.next,o=e.prev;return n.next=e,e.prev=n,t.next=a,a.prev=t,r.next=t,t.prev=r,o.next=r,r.prev=o,r}function BD(n,e,t,r){const a=new Q2(n,e,t);return r?(a.next=r.next,a.prev=r,r.next.prev=a,r.next=a):(a.prev=a,a.next=a),a}function e_(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function Q2(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function vre(n,e,t,r){let a=0;for(let o=e,l=t-r;o<t;o+=r)a+=(n[l]-n[o])*(n[o+1]+n[l+1]),l=o;return a}class Yu{static area(e){const t=e.length;let r=0;for(let a=t-1,o=0;o<t;a=o++)r+=e[a].x*e[o].y-e[o].x*e[a].y;return r*.5}static isClockWise(e){return Yu.area(e)<0}static triangulateShape(e,t){const r=[],a=[],o=[];FD(e),HD(r,e);let l=e.length;t.forEach(FD);for(let f=0;f<t.length;f++)a.push(l),l+=t[f].length,HD(r,t[f]);const s=tre.triangulate(r,a);for(let f=0;f<s.length;f+=3)o.push(s.slice(f,f+3));return o}}function FD(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function HD(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class PE extends Jn{constructor(e=new gm([new At(.5,.5),new At(-.5,.5),new At(-.5,-.5),new At(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,a=[],o=[];for(let s=0,f=e.length;s<f;s++){const h=e[s];l(h)}this.setAttribute("position",new mn(a,3)),this.setAttribute("uv",new mn(o,2)),this.computeVertexNormals();function l(s){const f=[],h=t.curveSegments!==void 0?t.curveSegments:12,v=t.steps!==void 0?t.steps:1,_=t.depth!==void 0?t.depth:1;let x=t.bevelEnabled!==void 0?t.bevelEnabled:!0,C=t.bevelThickness!==void 0?t.bevelThickness:.2,c=t.bevelSize!==void 0?t.bevelSize:C-.1,p=t.bevelOffset!==void 0?t.bevelOffset:0,m=t.bevelSegments!==void 0?t.bevelSegments:3;const b=t.extrudePath,w=t.UVGenerator!==void 0?t.UVGenerator:yre;let A,R=!1,O,P,D,F;b&&(A=b.getSpacedPoints(v),R=!0,x=!1,O=b.computeFrenetFrames(v,!1),P=new ye,D=new ye,F=new ye),x||(m=0,C=0,c=0,p=0);const B=s.extractPoints(h);let U=B.shape;const V=B.holes;if(!Yu.isClockWise(U)){U=U.reverse();for(let ze=0,we=V.length;ze<we;ze++){const re=V[ze];Yu.isClockWise(re)&&(V[ze]=re.reverse())}}const X=Yu.triangulateShape(U,V),ee=U;for(let ze=0,we=V.length;ze<we;ze++){const re=V[ze];U=U.concat(re)}function ae(ze,we,re){return we||console.error("THREE.ExtrudeGeometry: vec does not exist"),ze.clone().addScaledVector(we,re)}const Z=U.length,K=X.length;function te(ze,we,re){let Fe,Ie,Ye;const $e=ze.x-we.x,lt=ze.y-we.y,ot=re.x-ze.x,fe=re.y-ze.y,oe=$e*$e+lt*lt,Ee=$e*fe-lt*ot;if(Math.abs(Ee)>Number.EPSILON){const Pe=Math.sqrt(oe),qe=Math.sqrt(ot*ot+fe*fe),He=we.x-lt/Pe,mt=we.y+$e/Pe,st=re.x-fe/qe,ht=re.y+ot/qe,It=((st-He)*fe-(ht-mt)*ot)/($e*fe-lt*ot);Fe=He+$e*It-ze.x,Ie=mt+lt*It-ze.y;const at=Fe*Fe+Ie*Ie;if(at<=2)return new At(Fe,Ie);Ye=Math.sqrt(at/2)}else{let Pe=!1;$e>Number.EPSILON?ot>Number.EPSILON&&(Pe=!0):$e<-Number.EPSILON?ot<-Number.EPSILON&&(Pe=!0):Math.sign(lt)===Math.sign(fe)&&(Pe=!0),Pe?(Fe=-lt,Ie=$e,Ye=Math.sqrt(oe)):(Fe=$e,Ie=lt,Ye=Math.sqrt(oe/2))}return new At(Fe/Ye,Ie/Ye)}const ce=[];for(let ze=0,we=ee.length,re=we-1,Fe=ze+1;ze<we;ze++,re++,Fe++)re===we&&(re=0),Fe===we&&(Fe=0),ce[ze]=te(ee[ze],ee[re],ee[Fe]);const q=[];let J,he=ce.concat();for(let ze=0,we=V.length;ze<we;ze++){const re=V[ze];J=[];for(let Fe=0,Ie=re.length,Ye=Ie-1,$e=Fe+1;Fe<Ie;Fe++,Ye++,$e++)Ye===Ie&&(Ye=0),$e===Ie&&($e=0),J[Fe]=te(re[Fe],re[Ye],re[$e]);q.push(J),he=he.concat(J)}for(let ze=0;ze<m;ze++){const we=ze/m,re=C*Math.cos(we*Math.PI/2),Fe=c*Math.sin(we*Math.PI/2)+p;for(let Ie=0,Ye=ee.length;Ie<Ye;Ie++){const $e=ae(ee[Ie],ce[Ie],Fe);Re($e.x,$e.y,-re)}for(let Ie=0,Ye=V.length;Ie<Ye;Ie++){const $e=V[Ie];J=q[Ie];for(let lt=0,ot=$e.length;lt<ot;lt++){const fe=ae($e[lt],J[lt],Fe);Re(fe.x,fe.y,-re)}}}const ue=c+p;for(let ze=0;ze<Z;ze++){const we=x?ae(U[ze],he[ze],ue):U[ze];R?(D.copy(O.normals[0]).multiplyScalar(we.x),P.copy(O.binormals[0]).multiplyScalar(we.y),F.copy(A[0]).add(D).add(P),Re(F.x,F.y,F.z)):Re(we.x,we.y,0)}for(let ze=1;ze<=v;ze++)for(let we=0;we<Z;we++){const re=x?ae(U[we],he[we],ue):U[we];R?(D.copy(O.normals[ze]).multiplyScalar(re.x),P.copy(O.binormals[ze]).multiplyScalar(re.y),F.copy(A[ze]).add(D).add(P),Re(F.x,F.y,F.z)):Re(re.x,re.y,_/v*ze)}for(let ze=m-1;ze>=0;ze--){const we=ze/m,re=C*Math.cos(we*Math.PI/2),Fe=c*Math.sin(we*Math.PI/2)+p;for(let Ie=0,Ye=ee.length;Ie<Ye;Ie++){const $e=ae(ee[Ie],ce[Ie],Fe);Re($e.x,$e.y,_+re)}for(let Ie=0,Ye=V.length;Ie<Ye;Ie++){const $e=V[Ie];J=q[Ie];for(let lt=0,ot=$e.length;lt<ot;lt++){const fe=ae($e[lt],J[lt],Fe);R?Re(fe.x,fe.y+A[v-1].y,A[v-1].x+re):Re(fe.x,fe.y,_+re)}}}j(),pe();function j(){const ze=a.length/3;if(x){let we=0,re=Z*we;for(let Fe=0;Fe<K;Fe++){const Ie=X[Fe];Me(Ie[2]+re,Ie[1]+re,Ie[0]+re)}we=v+m*2,re=Z*we;for(let Fe=0;Fe<K;Fe++){const Ie=X[Fe];Me(Ie[0]+re,Ie[1]+re,Ie[2]+re)}}else{for(let we=0;we<K;we++){const re=X[we];Me(re[2],re[1],re[0])}for(let we=0;we<K;we++){const re=X[we];Me(re[0]+Z*v,re[1]+Z*v,re[2]+Z*v)}}r.addGroup(ze,a.length/3-ze,0)}function pe(){const ze=a.length/3;let we=0;_e(ee,we),we+=ee.length;for(let re=0,Fe=V.length;re<Fe;re++){const Ie=V[re];_e(Ie,we),we+=Ie.length}r.addGroup(ze,a.length/3-ze,1)}function _e(ze,we){let re=ze.length;for(;--re>=0;){const Fe=re;let Ie=re-1;Ie<0&&(Ie=ze.length-1);for(let Ye=0,$e=v+m*2;Ye<$e;Ye++){const lt=Z*Ye,ot=Z*(Ye+1),fe=we+Fe+lt,oe=we+Ie+lt,Ee=we+Ie+ot,Pe=we+Fe+ot;Ae(fe,oe,Ee,Pe)}}}function Re(ze,we,re){f.push(ze),f.push(we),f.push(re)}function Me(ze,we,re){Ue(ze),Ue(we),Ue(re);const Fe=a.length/3,Ie=w.generateTopUV(r,a,Fe-3,Fe-2,Fe-1);gt(Ie[0]),gt(Ie[1]),gt(Ie[2])}function Ae(ze,we,re,Fe){Ue(ze),Ue(we),Ue(Fe),Ue(we),Ue(re),Ue(Fe);const Ie=a.length/3,Ye=w.generateSideWallUV(r,a,Ie-6,Ie-3,Ie-2,Ie-1);gt(Ye[0]),gt(Ye[1]),gt(Ye[3]),gt(Ye[1]),gt(Ye[2]),gt(Ye[3])}function Ue(ze){a.push(f[ze*3+0]),a.push(f[ze*3+1]),a.push(f[ze*3+2])}function gt(ze){o.push(ze.x),o.push(ze.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return bre(t,r,e)}static fromJSON(e,t){const r=[];for(let o=0,l=e.shapes.length;o<l;o++){const s=t[e.shapes[o]];r.push(s)}const a=e.options.extrudePath;return a!==void 0&&(e.options.extrudePath=new fC[a.type]().fromJSON(a)),new PE(r,e.options)}}const yre={generateTopUV:function(n,e,t,r,a){const o=e[t*3],l=e[t*3+1],s=e[r*3],f=e[r*3+1],h=e[a*3],v=e[a*3+1];return[new At(o,l),new At(s,f),new At(h,v)]},generateSideWallUV:function(n,e,t,r,a,o){const l=e[t*3],s=e[t*3+1],f=e[t*3+2],h=e[r*3],v=e[r*3+1],_=e[r*3+2],x=e[a*3],C=e[a*3+1],c=e[a*3+2],p=e[o*3],m=e[o*3+1],b=e[o*3+2];return Math.abs(s-v)<Math.abs(l-h)?[new At(l,1-f),new At(h,1-_),new At(x,1-c),new At(p,1-b)]:[new At(s,1-f),new At(v,1-_),new At(C,1-c),new At(m,1-b)]}};function bre(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,a=n.length;r<a;r++){const o=n[r];t.shapes.push(o.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class DE extends $h{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,a=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(a,o,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new DE(e.radius,e.detail)}}class Bl extends $h{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],a=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,a,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Bl(e.radius,e.detail)}}class tl extends Jn{constructor(e=1,t=1,r=1,a=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:a};const o=e/2,l=t/2,s=Math.floor(r),f=Math.floor(a),h=s+1,v=f+1,_=e/s,x=t/f,C=[],c=[],p=[],m=[];for(let b=0;b<v;b++){const w=b*x-l;for(let A=0;A<h;A++){const R=A*_-o;c.push(R,-w,0),p.push(0,0,1),m.push(A/s),m.push(1-b/f)}}for(let b=0;b<f;b++)for(let w=0;w<s;w++){const A=w+h*b,R=w+h*(b+1),O=w+1+h*(b+1),P=w+1+h*b;C.push(A,R,P),C.push(R,O,P)}this.setIndex(C),this.setAttribute("position",new mn(c,3)),this.setAttribute("normal",new mn(p,3)),this.setAttribute("uv",new mn(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new tl(e.width,e.height,e.widthSegments,e.heightSegments)}}class LE extends Jn{constructor(e=.5,t=1,r=32,a=1,o=0,l=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:a,thetaStart:o,thetaLength:l},r=Math.max(3,r),a=Math.max(1,a);const s=[],f=[],h=[],v=[];let _=e;const x=(t-e)/a,C=new ye,c=new At;for(let p=0;p<=a;p++){for(let m=0;m<=r;m++){const b=o+m/r*l;C.x=_*Math.cos(b),C.y=_*Math.sin(b),f.push(C.x,C.y,C.z),h.push(0,0,1),c.x=(C.x/t+1)/2,c.y=(C.y/t+1)/2,v.push(c.x,c.y)}_+=x}for(let p=0;p<a;p++){const m=p*(r+1);for(let b=0;b<r;b++){const w=b+m,A=w,R=w+r+1,O=w+r+2,P=w+1;s.push(A,R,P),s.push(R,O,P)}}this.setIndex(s),this.setAttribute("position",new mn(f,3)),this.setAttribute("normal",new mn(h,3)),this.setAttribute("uv",new mn(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new LE(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class NE extends Jn{constructor(e=new gm([new At(0,.5),new At(-.5,-.5),new At(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],a=[],o=[],l=[];let s=0,f=0;if(Array.isArray(e)===!1)h(e);else for(let v=0;v<e.length;v++)h(e[v]),this.addGroup(s,f,v),s+=f,f=0;this.setIndex(r),this.setAttribute("position",new mn(a,3)),this.setAttribute("normal",new mn(o,3)),this.setAttribute("uv",new mn(l,2));function h(v){const _=a.length/3,x=v.extractPoints(t);let C=x.shape;const c=x.holes;Yu.isClockWise(C)===!1&&(C=C.reverse());for(let m=0,b=c.length;m<b;m++){const w=c[m];Yu.isClockWise(w)===!0&&(c[m]=w.reverse())}const p=Yu.triangulateShape(C,c);for(let m=0,b=c.length;m<b;m++){const w=c[m];C=C.concat(w)}for(let m=0,b=C.length;m<b;m++){const w=C[m];a.push(w.x,w.y,0),o.push(0,0,1),l.push(w.x,w.y)}for(let m=0,b=p.length;m<b;m++){const w=p[m],A=w[0]+_,R=w[1]+_,O=w[2]+_;r.push(A,R,O),f+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return _re(t,e)}static fromJSON(e,t){const r=[];for(let a=0,o=e.shapes.length;a<o;a++){const l=t[e.shapes[a]];r.push(l)}return new NE(r,e.curveSegments)}}function _re(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const a=n[t];e.shapes.push(a.uuid)}else e.shapes.push(n.uuid);return e}class _0 extends Jn{constructor(e=1,t=32,r=16,a=0,o=Math.PI*2,l=0,s=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:a,phiLength:o,thetaStart:l,thetaLength:s},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const f=Math.min(l+s,Math.PI);let h=0;const v=[],_=new ye,x=new ye,C=[],c=[],p=[],m=[];for(let b=0;b<=r;b++){const w=[],A=b/r;let R=0;b===0&&l===0?R=.5/t:b===r&&f===Math.PI&&(R=-.5/t);for(let O=0;O<=t;O++){const P=O/t;_.x=-e*Math.cos(a+P*o)*Math.sin(l+A*s),_.y=e*Math.cos(l+A*s),_.z=e*Math.sin(a+P*o)*Math.sin(l+A*s),c.push(_.x,_.y,_.z),x.copy(_).normalize(),p.push(x.x,x.y,x.z),m.push(P+R,1-A),w.push(h++)}v.push(w)}for(let b=0;b<r;b++)for(let w=0;w<t;w++){const A=v[b][w+1],R=v[b][w],O=v[b+1][w],P=v[b+1][w+1];(b!==0||l>0)&&C.push(A,R,P),(b!==r-1||f<Math.PI)&&C.push(R,O,P)}this.setIndex(C),this.setAttribute("position",new mn(c,3)),this.setAttribute("normal",new mn(p,3)),this.setAttribute("uv",new mn(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _0(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class UE extends $h{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],a=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,a,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new UE(e.radius,e.detail)}}class Mh extends Jn{constructor(e=1,t=.4,r=12,a=48,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:a,arc:o},r=Math.floor(r),a=Math.floor(a);const l=[],s=[],f=[],h=[],v=new ye,_=new ye,x=new ye;for(let C=0;C<=r;C++)for(let c=0;c<=a;c++){const p=c/a*o,m=C/r*Math.PI*2;_.x=(e+t*Math.cos(m))*Math.cos(p),_.y=(e+t*Math.cos(m))*Math.sin(p),_.z=t*Math.sin(m),s.push(_.x,_.y,_.z),v.x=e*Math.cos(p),v.y=e*Math.sin(p),x.subVectors(_,v).normalize(),f.push(x.x,x.y,x.z),h.push(c/a),h.push(C/r)}for(let C=1;C<=r;C++)for(let c=1;c<=a;c++){const p=(a+1)*C+c-1,m=(a+1)*(C-1)+c-1,b=(a+1)*(C-1)+c,w=(a+1)*C+c;l.push(p,m,w),l.push(m,b,w)}this.setIndex(l),this.setAttribute("position",new mn(s,3)),this.setAttribute("normal",new mn(f,3)),this.setAttribute("uv",new mn(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Mh(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class BE extends Jn{constructor(e=1,t=.4,r=64,a=8,o=2,l=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:a,p:o,q:l},r=Math.floor(r),a=Math.floor(a);const s=[],f=[],h=[],v=[],_=new ye,x=new ye,C=new ye,c=new ye,p=new ye,m=new ye,b=new ye;for(let A=0;A<=r;++A){const R=A/r*o*Math.PI*2;w(R,o,l,e,C),w(R+.01,o,l,e,c),m.subVectors(c,C),b.addVectors(c,C),p.crossVectors(m,b),b.crossVectors(p,m),p.normalize(),b.normalize();for(let O=0;O<=a;++O){const P=O/a*Math.PI*2,D=-t*Math.cos(P),F=t*Math.sin(P);_.x=C.x+(D*b.x+F*p.x),_.y=C.y+(D*b.y+F*p.y),_.z=C.z+(D*b.z+F*p.z),f.push(_.x,_.y,_.z),x.subVectors(_,C).normalize(),h.push(x.x,x.y,x.z),v.push(A/r),v.push(O/a)}}for(let A=1;A<=r;A++)for(let R=1;R<=a;R++){const O=(a+1)*(A-1)+(R-1),P=(a+1)*A+(R-1),D=(a+1)*A+R,F=(a+1)*(A-1)+R;s.push(O,P,F),s.push(P,D,F)}this.setIndex(s),this.setAttribute("position",new mn(f,3)),this.setAttribute("normal",new mn(h,3)),this.setAttribute("uv",new mn(v,2));function w(A,R,O,P,D){const F=Math.cos(A),B=Math.sin(A),U=O/R*A,V=Math.cos(U);D.x=P*(2+V)*.5*F,D.y=P*(2+V)*B*.5,D.z=P*Math.sin(U)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new BE(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class FE extends Jn{constructor(e=new qO(new ye(-1,-1,0),new ye(-1,1,0),new ye(1,1,0)),t=64,r=1,a=8,o=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:a,closed:o};const l=e.computeFrenetFrames(t,o);this.tangents=l.tangents,this.normals=l.normals,this.binormals=l.binormals;const s=new ye,f=new ye,h=new At;let v=new ye;const _=[],x=[],C=[],c=[];p(),this.setIndex(c),this.setAttribute("position",new mn(_,3)),this.setAttribute("normal",new mn(x,3)),this.setAttribute("uv",new mn(C,2));function p(){for(let A=0;A<t;A++)m(A);m(o===!1?t:0),w(),b()}function m(A){v=e.getPointAt(A/t,v);const R=l.normals[A],O=l.binormals[A];for(let P=0;P<=a;P++){const D=P/a*Math.PI*2,F=Math.sin(D),B=-Math.cos(D);f.x=B*R.x+F*O.x,f.y=B*R.y+F*O.y,f.z=B*R.z+F*O.z,f.normalize(),x.push(f.x,f.y,f.z),s.x=v.x+r*f.x,s.y=v.y+r*f.y,s.z=v.z+r*f.z,_.push(s.x,s.y,s.z)}}function b(){for(let A=1;A<=t;A++)for(let R=1;R<=a;R++){const O=(a+1)*(A-1)+(R-1),P=(a+1)*A+(R-1),D=(a+1)*A+R,F=(a+1)*(A-1)+R;c.push(O,P,F),c.push(P,D,F)}}function w(){for(let A=0;A<=t;A++)for(let R=0;R<=a;R++)h.x=A/t,h.y=R/a,C.push(h.x,h.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new FE(new fC[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class u8 extends Jn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,a=new ye,o=new ye;if(e.index!==null){const l=e.attributes.position,s=e.index;let f=e.groups;f.length===0&&(f=[{start:0,count:s.count,materialIndex:0}]);for(let h=0,v=f.length;h<v;++h){const _=f[h],x=_.start,C=_.count;for(let c=x,p=x+C;c<p;c+=3)for(let m=0;m<3;m++){const b=s.getX(c+m),w=s.getX(c+(m+1)%3);a.fromBufferAttribute(l,b),o.fromBufferAttribute(l,w),kD(a,o,r)===!0&&(t.push(a.x,a.y,a.z),t.push(o.x,o.y,o.z))}}}else{const l=e.attributes.position;for(let s=0,f=l.count/3;s<f;s++)for(let h=0;h<3;h++){const v=3*s+h,_=3*s+(h+1)%3;a.fromBufferAttribute(l,v),o.fromBufferAttribute(l,_),kD(a,o,r)===!0&&(t.push(a.x,a.y,a.z),t.push(o.x,o.y,o.z))}}this.setAttribute("position",new mn(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function kD(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,a=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(a)===!0?!1:(t.add(r),t.add(a),!0)}var $D=Object.freeze({__proto__:null,BoxGeometry:Rs,CapsuleGeometry:AE,CircleGeometry:RE,ConeGeometry:OE,CylinderGeometry:lo,DodecahedronGeometry:IE,EdgesGeometry:o8,ExtrudeGeometry:PE,IcosahedronGeometry:DE,LatheGeometry:O_,OctahedronGeometry:Bl,PlaneGeometry:tl,PolyhedronGeometry:$h,RingGeometry:LE,ShapeGeometry:NE,SphereGeometry:_0,TetrahedronGeometry:UE,TorusGeometry:Mh,TorusKnotGeometry:BE,TubeGeometry:FE,WireframeGeometry:u8});class f8 extends Bo{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new on(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class d8 extends Vc{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class KO extends Bo{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new on(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new on(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=kh,this.normalScale=new At(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new zs,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class h8 extends KO{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new At(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Qn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new on(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new on(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new on(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class p8 extends Bo{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new on(16777215),this.specular=new on(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new on(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=kh,this.normalScale=new At(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new zs,this.combine=E_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class m8 extends Bo{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new on(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new on(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=kh,this.normalScale=new At(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class g8 extends Bo{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=kh,this.normalScale=new At(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class v8 extends Bo{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new on(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new on(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=kh,this.normalScale=new At(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new zs,this.combine=E_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class QO extends Bo{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=A6,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class JO extends Bo{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class y8 extends Bo{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new on(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=kh,this.normalScale=new At(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class b8 extends Fo{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function um(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function _8(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function S8(n){function e(a,o){return n[a]-n[o]}const t=n.length,r=new Array(t);for(let a=0;a!==t;++a)r[a]=a;return r.sort(e),r}function J2(n,e,t){const r=n.length,a=new n.constructor(r);for(let o=0,l=0;l!==r;++o){const s=t[o]*e;for(let f=0;f!==e;++f)a[l++]=n[s+f]}return a}function eI(n,e,t,r){let a=1,o=n[0];for(;o!==void 0&&o[r]===void 0;)o=n[a++];if(o===void 0)return;let l=o[r];if(l!==void 0)if(Array.isArray(l))do l=o[r],l!==void 0&&(e.push(o.time),t.push(...l)),o=n[a++];while(o!==void 0);else if(l.toArray!==void 0)do l=o[r],l!==void 0&&(e.push(o.time),l.toArray(t,t.length)),o=n[a++];while(o!==void 0);else do l=o[r],l!==void 0&&(e.push(o.time),t.push(l)),o=n[a++];while(o!==void 0)}function Sre(n,e,t,r,a=30){const o=n.clone();o.name=e;const l=[];for(let f=0;f<o.tracks.length;++f){const h=o.tracks[f],v=h.getValueSize(),_=[],x=[];for(let C=0;C<h.times.length;++C){const c=h.times[C]*a;if(!(c<t||c>=r)){_.push(h.times[C]);for(let p=0;p<v;++p)x.push(h.values[C*v+p])}}_.length!==0&&(h.times=um(_,h.times.constructor),h.values=um(x,h.values.constructor),l.push(h))}o.tracks=l;let s=1/0;for(let f=0;f<o.tracks.length;++f)s>o.tracks[f].times[0]&&(s=o.tracks[f].times[0]);for(let f=0;f<o.tracks.length;++f)o.tracks[f].shift(-1*s);return o.resetDuration(),o}function xre(n,e=0,t=n,r=30){r<=0&&(r=30);const a=t.tracks.length,o=e/r;for(let l=0;l<a;++l){const s=t.tracks[l],f=s.ValueTypeName;if(f==="bool"||f==="string")continue;const h=n.tracks.find(function(b){return b.name===s.name&&b.ValueTypeName===f});if(h===void 0)continue;let v=0;const _=s.getValueSize();s.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(v=_/3);let x=0;const C=h.getValueSize();h.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(x=C/3);const c=s.times.length-1;let p;if(o<=s.times[0]){const b=v,w=_-v;p=s.values.slice(b,w)}else if(o>=s.times[c]){const b=c*_+v,w=b+_-v;p=s.values.slice(b,w)}else{const b=s.createInterpolant(),w=v,A=_-v;b.evaluate(o),p=b.resultBuffer.slice(w,A)}f==="quaternion"&&new Xi().fromArray(p).normalize().conjugate().toArray(p);const m=h.times.length;for(let b=0;b<m;++b){const w=b*C+x;if(f==="quaternion")Xi.multiplyQuaternionsFlat(h.values,w,p,0,h.values,w);else{const A=C-x*2;for(let R=0;R<A;++R)h.values[w+R]-=p[R]}}}return n.blendMode=LO,n}const wre={convertArray:um,isTypedArray:_8,getKeyframeOrder:S8,sortedArray:J2,flattenJSON:eI,subclip:Sre,makeClipAdditive:xre};class I_{constructor(e,t,r,a){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=a!==void 0?a:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,a=t[r],o=t[r-1];e:{t:{let l;n:{i:if(!(e<a)){for(let s=r+2;;){if(a===void 0){if(e<o)break i;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===s)break;if(o=a,a=t[++r],e<a)break t}l=t.length;break n}if(!(e>=o)){const s=t[1];e<s&&(r=2,o=s);for(let f=r-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===f)break;if(a=o,o=t[--r-1],e>=o)break t}l=r,r=0;break n}break e}for(;r<l;){const s=r+l>>>1;e<t[s]?l=s:r=s+1}if(a=t[r],o=t[r-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(a===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,o,a)}return this.interpolate_(r,o,e,a)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,a=this.valueSize,o=e*a;for(let l=0;l!==a;++l)t[l]=r[o+l];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class x8 extends I_{constructor(e,t,r,a){super(e,t,r,a),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:lm,endingEnd:lm}}intervalChanged_(e,t,r){const a=this.parameterPositions;let o=e-2,l=e+1,s=a[o],f=a[l];if(s===void 0)switch(this.getSettings_().endingStart){case cm:o=e,s=2*t-r;break;case Wb:o=a.length-2,s=t+a[o]-a[o+1];break;default:o=e,s=r}if(f===void 0)switch(this.getSettings_().endingEnd){case cm:l=e,f=2*r-t;break;case Wb:l=1,f=r+a[1]-a[0];break;default:l=e-1,f=t}const h=(r-t)*.5,v=this.valueSize;this._weightPrev=h/(t-s),this._weightNext=h/(f-r),this._offsetPrev=o*v,this._offsetNext=l*v}interpolate_(e,t,r,a){const o=this.resultBuffer,l=this.sampleValues,s=this.valueSize,f=e*s,h=f-s,v=this._offsetPrev,_=this._offsetNext,x=this._weightPrev,C=this._weightNext,c=(r-t)/(a-t),p=c*c,m=p*c,b=-x*m+2*x*p-x*c,w=(1+x)*m+(-1.5-2*x)*p+(-.5+x)*c+1,A=(-1-C)*m+(1.5+C)*p+.5*c,R=C*m-C*p;for(let O=0;O!==s;++O)o[O]=b*l[v+O]+w*l[h+O]+A*l[f+O]+R*l[_+O];return o}}class tI extends I_{constructor(e,t,r,a){super(e,t,r,a)}interpolate_(e,t,r,a){const o=this.resultBuffer,l=this.sampleValues,s=this.valueSize,f=e*s,h=f-s,v=(r-t)/(a-t),_=1-v;for(let x=0;x!==s;++x)o[x]=l[h+x]*_+l[f+x]*v;return o}}class w8 extends I_{constructor(e,t,r,a){super(e,t,r,a)}interpolate_(e){return this.copySampleValue_(e-1)}}class qc{constructor(e,t,r,a){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=um(t,this.TimeBufferType),this.values=um(r,this.ValueBufferType),this.setInterpolation(a||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:um(e.times,Array),values:um(e.values,Array)};const a=e.getInterpolation();a!==e.DefaultInterpolation&&(r.interpolation=a)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new w8(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new tI(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new x8(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case jb:t=this.InterpolantFactoryMethodDiscrete;break;case lC:t=this.InterpolantFactoryMethodLinear;break;case C1:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return jb;case this.InterpolantFactoryMethodLinear:return lC;case this.InterpolantFactoryMethodSmooth:return C1}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,a=t.length;r!==a;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,a=t.length;r!==a;++r)t[r]*=e}return this}trim(e,t){const r=this.times,a=r.length;let o=0,l=a-1;for(;o!==a&&r[o]<e;)++o;for(;l!==-1&&r[l]>t;)--l;if(++l,o!==0||l!==a){o>=l&&(l=Math.max(l,1),o=l-1);const s=this.getValueSize();this.times=r.slice(o,l),this.values=this.values.slice(o*s,l*s)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,a=this.values,o=r.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let l=null;for(let s=0;s!==o;s++){const f=r[s];if(typeof f=="number"&&isNaN(f)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,s,f),e=!1;break}if(l!==null&&l>f){console.error("THREE.KeyframeTrack: Out of order keys.",this,s,f,l),e=!1;break}l=f}if(a!==void 0&&_8(a))for(let s=0,f=a.length;s!==f;++s){const h=a[s];if(isNaN(h)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,h),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),r=this.getValueSize(),a=this.getInterpolation()===C1,o=e.length-1;let l=1;for(let s=1;s<o;++s){let f=!1;const h=e[s],v=e[s+1];if(h!==v&&(s!==1||h!==e[0]))if(a)f=!0;else{const _=s*r,x=_-r,C=_+r;for(let c=0;c!==r;++c){const p=t[_+c];if(p!==t[x+c]||p!==t[C+c]){f=!0;break}}}if(f){if(s!==l){e[l]=e[s];const _=s*r,x=l*r;for(let C=0;C!==r;++C)t[x+C]=t[_+C]}++l}}if(o>0){e[l]=e[o];for(let s=o*r,f=l*r,h=0;h!==r;++h)t[f+h]=t[s+h];++l}return l!==e.length?(this.times=e.slice(0,l),this.values=t.slice(0,l*r)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),r=this.constructor,a=new r(this.name,e,t);return a.createInterpolant=this.createInterpolant,a}}qc.prototype.TimeBufferType=Float32Array;qc.prototype.ValueBufferType=Float32Array;qc.prototype.DefaultInterpolation=lC;class Pm extends qc{constructor(e,t,r){super(e,t,r)}}Pm.prototype.ValueTypeName="bool";Pm.prototype.ValueBufferType=Array;Pm.prototype.DefaultInterpolation=jb;Pm.prototype.InterpolantFactoryMethodLinear=void 0;Pm.prototype.InterpolantFactoryMethodSmooth=void 0;class nI extends qc{}nI.prototype.ValueTypeName="color";class t_ extends qc{}t_.prototype.ValueTypeName="number";class C8 extends I_{constructor(e,t,r,a){super(e,t,r,a)}interpolate_(e,t,r,a){const o=this.resultBuffer,l=this.sampleValues,s=this.valueSize,f=(r-t)/(a-t);let h=e*s;for(let v=h+s;h!==v;h+=4)Xi.slerpFlat(o,0,l,h-s,l,h,f);return o}}class z_ extends qc{InterpolantFactoryMethodLinear(e){return new C8(this.times,this.values,this.getValueSize(),e)}}z_.prototype.ValueTypeName="quaternion";z_.prototype.InterpolantFactoryMethodSmooth=void 0;class Dm extends qc{constructor(e,t,r){super(e,t,r)}}Dm.prototype.ValueTypeName="string";Dm.prototype.ValueBufferType=Array;Dm.prototype.DefaultInterpolation=jb;Dm.prototype.InterpolantFactoryMethodLinear=void 0;Dm.prototype.InterpolantFactoryMethodSmooth=void 0;class n_ extends qc{}n_.prototype.ValueTypeName="vector";class i_{constructor(e="",t=-1,r=[],a=yE){this.name=e,this.tracks=r,this.duration=t,this.blendMode=a,this.uuid=ol(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,a=1/(e.fps||1);for(let l=0,s=r.length;l!==s;++l)t.push(Ere(r[l]).scale(a));const o=new this(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){const t=[],r=e.tracks,a={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,l=r.length;o!==l;++o)t.push(qc.toJSON(r[o]));return a}static CreateFromMorphTargetSequence(e,t,r,a){const o=t.length,l=[];for(let s=0;s<o;s++){let f=[],h=[];f.push((s+o-1)%o,s,(s+1)%o),h.push(0,1,0);const v=S8(f);f=J2(f,1,v),h=J2(h,1,v),!a&&f[0]===0&&(f.push(o),h.push(h[0])),l.push(new t_(".morphTargetInfluences["+t[s].name+"]",f,h).scale(1/r))}return new this(e,-1,l)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const a=e;r=a.geometry&&a.geometry.animations||a.animations}for(let a=0;a<r.length;a++)if(r[a].name===t)return r[a];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const a={},o=/^([\w-]*?)([\d]+)$/;for(let s=0,f=e.length;s<f;s++){const h=e[s],v=h.name.match(o);if(v&&v.length>1){const _=v[1];let x=a[_];x||(a[_]=x=[]),x.push(h)}}const l=[];for(const s in a)l.push(this.CreateFromMorphTargetSequence(s,a[s],t,r));return l}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(_,x,C,c,p){if(C.length!==0){const m=[],b=[];eI(C,m,b,c),m.length!==0&&p.push(new _(x,m,b))}},a=[],o=e.name||"default",l=e.fps||30,s=e.blendMode;let f=e.length||-1;const h=e.hierarchy||[];for(let _=0;_<h.length;_++){const x=h[_].keys;if(!(!x||x.length===0))if(x[0].morphTargets){const C={};let c;for(c=0;c<x.length;c++)if(x[c].morphTargets)for(let p=0;p<x[c].morphTargets.length;p++)C[x[c].morphTargets[p]]=-1;for(const p in C){const m=[],b=[];for(let w=0;w!==x[c].morphTargets.length;++w){const A=x[c];m.push(A.time),b.push(A.morphTarget===p?1:0)}a.push(new t_(".morphTargetInfluence["+p+"]",m,b))}f=C.length*l}else{const C=".bones["+t[_].name+"]";r(n_,C+".position",x,"pos",a),r(z_,C+".quaternion",x,"rot",a),r(n_,C+".scale",x,"scl",a)}}return a.length===0?null:new this(o,f,a,s)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,a=e.length;r!==a;++r){const o=this.tracks[r];t=Math.max(t,o.times[o.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Cre(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return t_;case"vector":case"vector2":case"vector3":case"vector4":return n_;case"color":return nI;case"quaternion":return z_;case"bool":case"boolean":return Pm;case"string":return Dm}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function Ere(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Cre(n.type);if(n.times===void 0){const t=[],r=[];eI(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const rd={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class iI{constructor(e,t,r){const a=this;let o=!1,l=0,s=0,f;const h=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(v){s++,o===!1&&a.onStart!==void 0&&a.onStart(v,l,s),o=!0},this.itemEnd=function(v){l++,a.onProgress!==void 0&&a.onProgress(v,l,s),l===s&&(o=!1,a.onLoad!==void 0&&a.onLoad())},this.itemError=function(v){a.onError!==void 0&&a.onError(v)},this.resolveURL=function(v){return f?f(v):v},this.setURLModifier=function(v){return f=v,this},this.addHandler=function(v,_){return h.push(v,_),this},this.removeHandler=function(v){const _=h.indexOf(v);return _!==-1&&h.splice(_,2),this},this.getHandler=function(v){for(let _=0,x=h.length;_<x;_+=2){const C=h[_],c=h[_+1];if(C.global&&(C.lastIndex=0),C.test(v))return c}return null}}}const E8=new iI;class Ps{constructor(e){this.manager=e!==void 0?e:E8,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(a,o){r.load(e,a,t,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Ps.DEFAULT_MATERIAL_NAME="__DEFAULT";const Hf={};class Mre extends Error{constructor(e,t){super(e),this.response=t}}class md extends Ps{constructor(e){super(e)}load(e,t,r,a){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=rd.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(o),this.manager.itemEnd(e)},0),o;if(Hf[e]!==void 0){Hf[e].push({onLoad:t,onProgress:r,onError:a});return}Hf[e]=[],Hf[e].push({onLoad:t,onProgress:r,onError:a});const l=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,f=this.responseType;fetch(l).then(h=>{if(h.status===200||h.status===0){if(h.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||h.body===void 0||h.body.getReader===void 0)return h;const v=Hf[e],_=h.body.getReader(),x=h.headers.get("X-File-Size")||h.headers.get("Content-Length"),C=x?parseInt(x):0,c=C!==0;let p=0;const m=new ReadableStream({start(b){w();function w(){_.read().then(({done:A,value:R})=>{if(A)b.close();else{p+=R.byteLength;const O=new ProgressEvent("progress",{lengthComputable:c,loaded:p,total:C});for(let P=0,D=v.length;P<D;P++){const F=v[P];F.onProgress&&F.onProgress(O)}b.enqueue(R),w()}},A=>{b.error(A)})}}});return new Response(m)}else throw new Mre(`fetch for "${h.url}" responded with ${h.status}: ${h.statusText}`,h)}).then(h=>{switch(f){case"arraybuffer":return h.arrayBuffer();case"blob":return h.blob();case"document":return h.text().then(v=>new DOMParser().parseFromString(v,s));case"json":return h.json();default:if(s===void 0)return h.text();{const _=/charset="?([^;"\s]*)"?/i.exec(s),x=_&&_[1]?_[1].toLowerCase():void 0,C=new TextDecoder(x);return h.arrayBuffer().then(c=>C.decode(c))}}}).then(h=>{rd.add(e,h);const v=Hf[e];delete Hf[e];for(let _=0,x=v.length;_<x;_++){const C=v[_];C.onLoad&&C.onLoad(h)}}).catch(h=>{const v=Hf[e];if(v===void 0)throw this.manager.itemError(e),h;delete Hf[e];for(let _=0,x=v.length;_<x;_++){const C=v[_];C.onError&&C.onError(h)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Tre extends Ps{constructor(e){super(e)}load(e,t,r,a){const o=this,l=new md(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(s){try{t(o.parse(JSON.parse(s)))}catch(f){a?a(f):console.error(f),o.manager.itemError(e)}},r,a)}parse(e){const t=[];for(let r=0;r<e.length;r++){const a=i_.parse(e[r]);t.push(a)}return t}}class Are extends Ps{constructor(e){super(e)}load(e,t,r,a){const o=this,l=[],s=new ME,f=new md(this.manager);f.setPath(this.path),f.setResponseType("arraybuffer"),f.setRequestHeader(this.requestHeader),f.setWithCredentials(o.withCredentials);let h=0;function v(_){f.load(e[_],function(x){const C=o.parse(x,!0);l[_]={width:C.width,height:C.height,format:C.format,mipmaps:C.mipmaps},h+=1,h===6&&(C.mipmapCount===1&&(s.minFilter=za),s.image=l,s.format=C.format,s.needsUpdate=!0,t&&t(s))},r,a)}if(Array.isArray(e))for(let _=0,x=e.length;_<x;++_)v(_);else f.load(e,function(_){const x=o.parse(_,!0);if(x.isCubemap){const C=x.mipmaps.length/x.mipmapCount;for(let c=0;c<C;c++){l[c]={mipmaps:[]};for(let p=0;p<x.mipmapCount;p++)l[c].mipmaps.push(x.mipmaps[c*x.mipmapCount+p]),l[c].format=x.format,l[c].width=x.width,l[c].height=x.height}s.image=l}else s.image.width=x.width,s.image.height=x.height,s.mipmaps=x.mipmaps;x.mipmapCount===1&&(s.minFilter=za),s.format=x.format,s.needsUpdate=!0,t&&t(s)},r,a);return s}}class r_ extends Ps{constructor(e){super(e)}load(e,t,r,a){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,l=rd.get(e);if(l!==void 0)return o.manager.itemStart(e),setTimeout(function(){t&&t(l),o.manager.itemEnd(e)},0),l;const s=Zb("img");function f(){v(),rd.add(e,this),t&&t(this),o.manager.itemEnd(e)}function h(_){v(),a&&a(_),o.manager.itemError(e),o.manager.itemEnd(e)}function v(){s.removeEventListener("load",f,!1),s.removeEventListener("error",h,!1)}return s.addEventListener("load",f,!1),s.addEventListener("error",h,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(s.crossOrigin=this.crossOrigin),o.manager.itemStart(e),s.src=e,s}}class Rre extends Ps{constructor(e){super(e)}load(e,t,r,a){const o=new A_;o.colorSpace=Oo;const l=new r_(this.manager);l.setCrossOrigin(this.crossOrigin),l.setPath(this.path);let s=0;function f(h){l.load(e[h],function(v){o.images[h]=v,s++,s===6&&(o.needsUpdate=!0,t&&t(o))},void 0,a)}for(let h=0;h<e.length;++h)f(h);return o}}class Ore extends Ps{constructor(e){super(e)}load(e,t,r,a){const o=this,l=new Xu,s=new md(this.manager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(o.withCredentials),s.load(e,function(f){let h;try{h=o.parse(f)}catch(v){if(a!==void 0)a(v);else{console.error(v);return}}h.image!==void 0?l.image=h.image:h.data!==void 0&&(l.image.width=h.width,l.image.height=h.height,l.image.data=h.data),l.wrapS=h.wrapS!==void 0?h.wrapS:kl,l.wrapT=h.wrapT!==void 0?h.wrapT:kl,l.magFilter=h.magFilter!==void 0?h.magFilter:za,l.minFilter=h.minFilter!==void 0?h.minFilter:za,l.anisotropy=h.anisotropy!==void 0?h.anisotropy:1,h.colorSpace!==void 0&&(l.colorSpace=h.colorSpace),h.flipY!==void 0&&(l.flipY=h.flipY),h.format!==void 0&&(l.format=h.format),h.type!==void 0&&(l.type=h.type),h.mipmaps!==void 0&&(l.mipmaps=h.mipmaps,l.minFilter=Gu),h.mipmapCount===1&&(l.minFilter=za),h.generateMipmaps!==void 0&&(l.generateMipmaps=h.generateMipmaps),l.needsUpdate=!0,t&&t(l,h)},r,a),l}}class Ire extends Ps{constructor(e){super(e)}load(e,t,r,a){const o=new sa,l=new r_(this.manager);return l.setCrossOrigin(this.crossOrigin),l.setPath(this.path),l.load(e,function(s){o.image=s,o.needsUpdate=!0,t!==void 0&&t(o)},r,a),o}}class Vh extends xi{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new on(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class M8 extends Vh{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(xi.DEFAULT_UP),this.updateMatrix(),this.groundColor=new on(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const ZT=new kn,VD=new ye,GD=new ye;class rI{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new At(512,512),this.map=null,this.mapPass=null,this.matrix=new kn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new R_,this._frameExtents=new At(1,1),this._viewportCount=1,this._viewports=[new $i(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;VD.setFromMatrixPosition(e.matrixWorld),t.position.copy(VD),GD.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(GD),t.updateMatrixWorld(),ZT.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(ZT),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(ZT)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class zre extends rI{constructor(){super(new pa(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=e0*2*e.angle*this.focus,a=this.mapSize.width/this.mapSize.height,o=e.distance||t.far;(r!==t.fov||a!==t.aspect||o!==t.far)&&(t.fov=r,t.aspect=a,t.far=o,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class T8 extends Vh{constructor(e,t,r=0,a=Math.PI/3,o=0,l=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(xi.DEFAULT_UP),this.updateMatrix(),this.target=new xi,this.distance=r,this.angle=a,this.penumbra=o,this.decay=l,this.map=null,this.shadow=new zre}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const jD=new kn,By=new ye,KT=new ye;class Pre extends rI{constructor(){super(new pa(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new At(4,2),this._viewportCount=6,this._viewports=[new $i(2,1,1,1),new $i(0,1,1,1),new $i(3,1,1,1),new $i(1,1,1,1),new $i(3,0,1,1),new $i(1,0,1,1)],this._cubeDirections=[new ye(1,0,0),new ye(-1,0,0),new ye(0,0,1),new ye(0,0,-1),new ye(0,1,0),new ye(0,-1,0)],this._cubeUps=[new ye(0,1,0),new ye(0,1,0),new ye(0,1,0),new ye(0,1,0),new ye(0,0,1),new ye(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,a=this.matrix,o=e.distance||r.far;o!==r.far&&(r.far=o,r.updateProjectionMatrix()),By.setFromMatrixPosition(e.matrixWorld),r.position.copy(By),KT.copy(r.position),KT.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(KT),r.updateMatrixWorld(),a.makeTranslation(-By.x,-By.y,-By.z),jD.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(jD)}}class A8 extends Vh{constructor(e,t,r=0,a=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=a,this.shadow=new Pre}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Oh extends SE{constructor(e=-1,t=1,r=1,a=-1,o=.1,l=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=a,this.near=o,this.far=l,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,a,o,l){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=a,this.view.width=o,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,a=(this.top+this.bottom)/2;let o=r-e,l=r+e,s=a+t,f=a-t;if(this.view!==null&&this.view.enabled){const h=(this.right-this.left)/this.view.fullWidth/this.zoom,v=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=h*this.view.offsetX,l=o+h*this.view.width,s-=v*this.view.offsetY,f=s-v*this.view.height}this.projectionMatrix.makeOrthographic(o,l,s,f,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class Dre extends rI{constructor(){super(new Oh(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class R8 extends Vh{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(xi.DEFAULT_UP),this.updateMatrix(),this.target=new xi,this.shadow=new Dre}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class O8 extends Vh{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class I8 extends Vh{constructor(e,t,r=10,a=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=a}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class z8{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ye)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,a=e.y,o=e.z,l=this.coefficients;return t.copy(l[0]).multiplyScalar(.282095),t.addScaledVector(l[1],.488603*a),t.addScaledVector(l[2],.488603*o),t.addScaledVector(l[3],.488603*r),t.addScaledVector(l[4],1.092548*(r*a)),t.addScaledVector(l[5],1.092548*(a*o)),t.addScaledVector(l[6],.315392*(3*o*o-1)),t.addScaledVector(l[7],1.092548*(r*o)),t.addScaledVector(l[8],.546274*(r*r-a*a)),t}getIrradianceAt(e,t){const r=e.x,a=e.y,o=e.z,l=this.coefficients;return t.copy(l[0]).multiplyScalar(.886227),t.addScaledVector(l[1],2*.511664*a),t.addScaledVector(l[2],2*.511664*o),t.addScaledVector(l[3],2*.511664*r),t.addScaledVector(l[4],2*.429043*r*a),t.addScaledVector(l[5],2*.429043*a*o),t.addScaledVector(l[6],.743125*o*o-.247708),t.addScaledVector(l[7],2*.429043*r*o),t.addScaledVector(l[8],.429043*(r*r-a*a)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let a=0;a<9;a++)r[a].fromArray(e,t+a*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let a=0;a<9;a++)r[a].toArray(e,t+a*3);return e}static getBasisAt(e,t){const r=e.x,a=e.y,o=e.z;t[0]=.282095,t[1]=.488603*a,t[2]=.488603*o,t[3]=.488603*r,t[4]=1.092548*r*a,t[5]=1.092548*a*o,t[6]=.315392*(3*o*o-1),t[7]=1.092548*r*o,t[8]=.546274*(r*r-a*a)}}class P8 extends Vh{constructor(e=new z8,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class HE extends Ps{constructor(e){super(e),this.textures={}}load(e,t,r,a){const o=this,l=new md(o.manager);l.setPath(o.path),l.setRequestHeader(o.requestHeader),l.setWithCredentials(o.withCredentials),l.load(e,function(s){try{t(o.parse(JSON.parse(s)))}catch(f){a?a(f):console.error(f),o.manager.itemError(e)}},r,a)}parse(e){const t=this.textures;function r(o){return t[o]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",o),t[o]}const a=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(a.uuid=e.uuid),e.name!==void 0&&(a.name=e.name),e.color!==void 0&&a.color!==void 0&&a.color.setHex(e.color),e.roughness!==void 0&&(a.roughness=e.roughness),e.metalness!==void 0&&(a.metalness=e.metalness),e.sheen!==void 0&&(a.sheen=e.sheen),e.sheenColor!==void 0&&(a.sheenColor=new on().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(a.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&a.emissive!==void 0&&a.emissive.setHex(e.emissive),e.specular!==void 0&&a.specular!==void 0&&a.specular.setHex(e.specular),e.specularIntensity!==void 0&&(a.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&a.specularColor!==void 0&&a.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(a.shininess=e.shininess),e.clearcoat!==void 0&&(a.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(a.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(a.dispersion=e.dispersion),e.iridescence!==void 0&&(a.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(a.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(a.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(a.transmission=e.transmission),e.thickness!==void 0&&(a.thickness=e.thickness),e.attenuationDistance!==void 0&&(a.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&a.attenuationColor!==void 0&&a.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(a.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(a.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(a.fog=e.fog),e.flatShading!==void 0&&(a.flatShading=e.flatShading),e.blending!==void 0&&(a.blending=e.blending),e.combine!==void 0&&(a.combine=e.combine),e.side!==void 0&&(a.side=e.side),e.shadowSide!==void 0&&(a.shadowSide=e.shadowSide),e.opacity!==void 0&&(a.opacity=e.opacity),e.transparent!==void 0&&(a.transparent=e.transparent),e.alphaTest!==void 0&&(a.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(a.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(a.depthFunc=e.depthFunc),e.depthTest!==void 0&&(a.depthTest=e.depthTest),e.depthWrite!==void 0&&(a.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(a.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(a.blendSrc=e.blendSrc),e.blendDst!==void 0&&(a.blendDst=e.blendDst),e.blendEquation!==void 0&&(a.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(a.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(a.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(a.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&a.blendColor!==void 0&&a.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(a.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(a.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(a.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(a.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(a.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(a.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(a.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(a.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(a.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(a.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(a.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(a.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(a.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(a.rotation=e.rotation),e.linewidth!==void 0&&(a.linewidth=e.linewidth),e.dashSize!==void 0&&(a.dashSize=e.dashSize),e.gapSize!==void 0&&(a.gapSize=e.gapSize),e.scale!==void 0&&(a.scale=e.scale),e.polygonOffset!==void 0&&(a.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(a.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(a.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(a.dithering=e.dithering),e.alphaToCoverage!==void 0&&(a.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(a.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(a.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(a.visible=e.visible),e.toneMapped!==void 0&&(a.toneMapped=e.toneMapped),e.userData!==void 0&&(a.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?a.vertexColors=e.vertexColors>0:a.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const o in e.uniforms){const l=e.uniforms[o];switch(a.uniforms[o]={},l.type){case"t":a.uniforms[o].value=r(l.value);break;case"c":a.uniforms[o].value=new on().setHex(l.value);break;case"v2":a.uniforms[o].value=new At().fromArray(l.value);break;case"v3":a.uniforms[o].value=new ye().fromArray(l.value);break;case"v4":a.uniforms[o].value=new $i().fromArray(l.value);break;case"m3":a.uniforms[o].value=new ri().fromArray(l.value);break;case"m4":a.uniforms[o].value=new kn().fromArray(l.value);break;default:a.uniforms[o].value=l.value}}if(e.defines!==void 0&&(a.defines=e.defines),e.vertexShader!==void 0&&(a.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(a.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(a.glslVersion=e.glslVersion),e.extensions!==void 0)for(const o in e.extensions)a.extensions[o]=e.extensions[o];if(e.lights!==void 0&&(a.lights=e.lights),e.clipping!==void 0&&(a.clipping=e.clipping),e.size!==void 0&&(a.size=e.size),e.sizeAttenuation!==void 0&&(a.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(a.map=r(e.map)),e.matcap!==void 0&&(a.matcap=r(e.matcap)),e.alphaMap!==void 0&&(a.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(a.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(a.bumpScale=e.bumpScale),e.normalMap!==void 0&&(a.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(a.normalMapType=e.normalMapType),e.normalScale!==void 0){let o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),a.normalScale=new At().fromArray(o)}return e.displacementMap!==void 0&&(a.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(a.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(a.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(a.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(a.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(a.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(a.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(a.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(a.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(a.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(a.envMap=r(e.envMap)),e.envMapRotation!==void 0&&a.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(a.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(a.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(a.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(a.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(a.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(a.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(a.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(a.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(a.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(a.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(a.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(a.clearcoatNormalScale=new At().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(a.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(a.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(a.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(a.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(a.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(a.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(a.sheenRoughnessMap=r(e.sheenRoughnessMap)),a}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return HE.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:f8,SpriteMaterial:kO,RawShaderMaterial:d8,ShaderMaterial:Vc,PointsMaterial:VO,MeshPhysicalMaterial:h8,MeshStandardMaterial:KO,MeshPhongMaterial:p8,MeshToonMaterial:m8,MeshNormalMaterial:g8,MeshLambertMaterial:v8,MeshDepthMaterial:QO,MeshDistanceMaterial:JO,MeshBasicMaterial:af,MeshMatcapMaterial:y8,LineDashedMaterial:b8,LineBasicMaterial:Fo,Material:Bo};return new t[e]}}class eR{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,a=e.length;r<a;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class D8 extends Jn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class L8 extends Ps{constructor(e){super(e)}load(e,t,r,a){const o=this,l=new md(o.manager);l.setPath(o.path),l.setRequestHeader(o.requestHeader),l.setWithCredentials(o.withCredentials),l.load(e,function(s){try{t(o.parse(JSON.parse(s)))}catch(f){a?a(f):console.error(f),o.manager.itemError(e)}},r,a)}parse(e){const t={},r={};function a(C,c){if(t[c]!==void 0)return t[c];const m=C.interleavedBuffers[c],b=o(C,m.buffer),w=Ev(m.type,b),A=new CE(w,m.stride);return A.uuid=m.uuid,t[c]=A,A}function o(C,c){if(r[c]!==void 0)return r[c];const m=C.arrayBuffers[c],b=new Uint32Array(m).buffer;return r[c]=b,b}const l=e.isInstancedBufferGeometry?new D8:new Jn,s=e.data.index;if(s!==void 0){const C=Ev(s.type,s.array);l.setIndex(new mr(C,1))}const f=e.data.attributes;for(const C in f){const c=f[C];let p;if(c.isInterleavedBufferAttribute){const m=a(e.data,c.data);p=new Sm(m,c.itemSize,c.offset,c.normalized)}else{const m=Ev(c.type,c.array),b=c.isInstancedBufferAttribute?i0:mr;p=new b(m,c.itemSize,c.normalized)}c.name!==void 0&&(p.name=c.name),c.usage!==void 0&&p.setUsage(c.usage),l.setAttribute(C,p)}const h=e.data.morphAttributes;if(h)for(const C in h){const c=h[C],p=[];for(let m=0,b=c.length;m<b;m++){const w=c[m];let A;if(w.isInterleavedBufferAttribute){const R=a(e.data,w.data);A=new Sm(R,w.itemSize,w.offset,w.normalized)}else{const R=Ev(w.type,w.array);A=new mr(R,w.itemSize,w.normalized)}w.name!==void 0&&(A.name=w.name),p.push(A)}l.morphAttributes[C]=p}e.data.morphTargetsRelative&&(l.morphTargetsRelative=!0);const _=e.data.groups||e.data.drawcalls||e.data.offsets;if(_!==void 0)for(let C=0,c=_.length;C!==c;++C){const p=_[C];l.addGroup(p.start,p.count,p.materialIndex)}const x=e.data.boundingSphere;if(x!==void 0){const C=new ye;x.center!==void 0&&C.fromArray(x.center),l.boundingSphere=new Do(C,x.radius)}return e.name&&(l.name=e.name),e.userData&&(l.userData=e.userData),l}}class Lre extends Ps{constructor(e){super(e)}load(e,t,r,a){const o=this,l=this.path===""?eR.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||l;const s=new md(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(f){let h=null;try{h=JSON.parse(f)}catch(_){a!==void 0&&a(_),console.error("THREE:ObjectLoader: Can't parse "+e+".",_.message);return}const v=h.metadata;if(v===void 0||v.type===void 0||v.type.toLowerCase()==="geometry"){a!==void 0&&a(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}o.parse(h,t)},r,a)}async loadAsync(e,t){const r=this,a=this.path===""?eR.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const o=new md(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);const l=await o.loadAsync(e,t),s=JSON.parse(l),f=s.metadata;if(f===void 0||f.type===void 0||f.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(s)}parse(e,t){const r=this.parseAnimations(e.animations),a=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,a),l=this.parseImages(e.images,function(){t!==void 0&&t(h)}),s=this.parseTextures(e.textures,l),f=this.parseMaterials(e.materials,s),h=this.parseObject(e.object,o,f,s,r),v=this.parseSkeletons(e.skeletons,h);if(this.bindSkeletons(h,v),this.bindLightTargets(h),t!==void 0){let _=!1;for(const x in l)if(l[x].data instanceof HTMLImageElement){_=!0;break}_===!1&&t(h)}return h}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,r),o=await this.parseImagesAsync(e.images),l=this.parseTextures(e.textures,o),s=this.parseMaterials(e.materials,l),f=this.parseObject(e.object,a,s,l,t),h=this.parseSkeletons(e.skeletons,f);return this.bindSkeletons(f,h),this.bindLightTargets(f),f}parseShapes(e){const t={};if(e!==void 0)for(let r=0,a=e.length;r<a;r++){const o=new gm().fromJSON(e[r]);t[o.uuid]=o}return t}parseSkeletons(e,t){const r={},a={};if(t.traverse(function(o){o.isBone&&(a[o.uuid]=o)}),e!==void 0)for(let o=0,l=e.length;o<l;o++){const s=new EE().fromJSON(e[o],a);r[s.uuid]=s}return r}parseGeometries(e,t){const r={};if(e!==void 0){const a=new L8;for(let o=0,l=e.length;o<l;o++){let s;const f=e[o];switch(f.type){case"BufferGeometry":case"InstancedBufferGeometry":s=a.parse(f);break;default:f.type in $D?s=$D[f.type].fromJSON(f,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${f.type}"`)}s.uuid=f.uuid,f.name!==void 0&&(s.name=f.name),f.userData!==void 0&&(s.userData=f.userData),r[f.uuid]=s}}return r}parseMaterials(e,t){const r={},a={};if(e!==void 0){const o=new HE;o.setTextures(t);for(let l=0,s=e.length;l<s;l++){const f=e[l];r[f.uuid]===void 0&&(r[f.uuid]=o.parse(f)),a[f.uuid]=r[f.uuid]}}return a}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const a=e[r],o=i_.parse(a);t[o.uuid]=o}return t}parseImages(e,t){const r=this,a={};let o;function l(f){return r.manager.itemStart(f),o.load(f,function(){r.manager.itemEnd(f)},void 0,function(){r.manager.itemError(f),r.manager.itemEnd(f)})}function s(f){if(typeof f=="string"){const h=f,v=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(h)?h:r.resourcePath+h;return l(v)}else return f.data?{data:Ev(f.type,f.data),width:f.width,height:f.height}:null}if(e!==void 0&&e.length>0){const f=new iI(t);o=new r_(f),o.setCrossOrigin(this.crossOrigin);for(let h=0,v=e.length;h<v;h++){const _=e[h],x=_.url;if(Array.isArray(x)){const C=[];for(let c=0,p=x.length;c<p;c++){const m=x[c],b=s(m);b!==null&&(b instanceof HTMLImageElement?C.push(b):C.push(new Xu(b.data,b.width,b.height)))}a[_.uuid]=new Eh(C)}else{const C=s(_.url);a[_.uuid]=new Eh(C)}}}return a}async parseImagesAsync(e){const t=this,r={};let a;async function o(l){if(typeof l=="string"){const s=l,f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(s)?s:t.resourcePath+s;return await a.loadAsync(f)}else return l.data?{data:Ev(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){a=new r_(this.manager),a.setCrossOrigin(this.crossOrigin);for(let l=0,s=e.length;l<s;l++){const f=e[l],h=f.url;if(Array.isArray(h)){const v=[];for(let _=0,x=h.length;_<x;_++){const C=h[_],c=await o(C);c!==null&&(c instanceof HTMLImageElement?v.push(c):v.push(new Xu(c.data,c.width,c.height)))}r[f.uuid]=new Eh(v)}else{const v=await o(f.url);r[f.uuid]=new Eh(v)}}}return r}parseTextures(e,t){function r(o,l){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),l[o])}const a={};if(e!==void 0)for(let o=0,l=e.length;o<l;o++){const s=e[o];s.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),t[s.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",s.image);const f=t[s.image],h=f.data;let v;Array.isArray(h)?(v=new A_,h.length===6&&(v.needsUpdate=!0)):(h&&h.data?v=new Xu:v=new sa,h&&(v.needsUpdate=!0)),v.source=f,v.uuid=s.uuid,s.name!==void 0&&(v.name=s.name),s.mapping!==void 0&&(v.mapping=r(s.mapping,Nre)),s.channel!==void 0&&(v.channel=s.channel),s.offset!==void 0&&v.offset.fromArray(s.offset),s.repeat!==void 0&&v.repeat.fromArray(s.repeat),s.center!==void 0&&v.center.fromArray(s.center),s.rotation!==void 0&&(v.rotation=s.rotation),s.wrap!==void 0&&(v.wrapS=r(s.wrap[0],WD),v.wrapT=r(s.wrap[1],WD)),s.format!==void 0&&(v.format=s.format),s.internalFormat!==void 0&&(v.internalFormat=s.internalFormat),s.type!==void 0&&(v.type=s.type),s.colorSpace!==void 0&&(v.colorSpace=s.colorSpace),s.minFilter!==void 0&&(v.minFilter=r(s.minFilter,XD)),s.magFilter!==void 0&&(v.magFilter=r(s.magFilter,XD)),s.anisotropy!==void 0&&(v.anisotropy=s.anisotropy),s.flipY!==void 0&&(v.flipY=s.flipY),s.generateMipmaps!==void 0&&(v.generateMipmaps=s.generateMipmaps),s.premultiplyAlpha!==void 0&&(v.premultiplyAlpha=s.premultiplyAlpha),s.unpackAlignment!==void 0&&(v.unpackAlignment=s.unpackAlignment),s.compareFunction!==void 0&&(v.compareFunction=s.compareFunction),s.userData!==void 0&&(v.userData=s.userData),a[s.uuid]=v}return a}parseObject(e,t,r,a,o){let l;function s(x){return t[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",x),t[x]}function f(x){if(x!==void 0){if(Array.isArray(x)){const C=[];for(let c=0,p=x.length;c<p;c++){const m=x[c];r[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",m),C.push(r[m])}return C}return r[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),r[x]}}function h(x){return a[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",x),a[x]}let v,_;switch(e.type){case"Scene":l=new HO,e.background!==void 0&&(Number.isInteger(e.background)?l.background=new on(e.background):l.background=h(e.background)),e.environment!==void 0&&(l.environment=h(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?l.fog=new wE(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(l.fog=new xE(e.fog.color,e.fog.density)),e.fog.name!==""&&(l.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(l.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(l.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&l.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(l.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&l.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":l=new pa(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(l.focus=e.focus),e.zoom!==void 0&&(l.zoom=e.zoom),e.filmGauge!==void 0&&(l.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(l.filmOffset=e.filmOffset),e.view!==void 0&&(l.view=Object.assign({},e.view));break;case"OrthographicCamera":l=new Oh(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(l.zoom=e.zoom),e.view!==void 0&&(l.view=Object.assign({},e.view));break;case"AmbientLight":l=new O8(e.color,e.intensity);break;case"DirectionalLight":l=new R8(e.color,e.intensity),l.target=e.target||"";break;case"PointLight":l=new A8(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":l=new I8(e.color,e.intensity,e.width,e.height);break;case"SpotLight":l=new T8(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),l.target=e.target||"";break;case"HemisphereLight":l=new M8(e.color,e.groundColor,e.intensity);break;case"LightProbe":l=new P8().fromJSON(e);break;case"SkinnedMesh":v=s(e.geometry),_=f(e.material),l=new q6(v,_),e.bindMode!==void 0&&(l.bindMode=e.bindMode),e.bindMatrix!==void 0&&l.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(l.skeleton=e.skeleton);break;case"Mesh":v=s(e.geometry),_=f(e.material),l=new ln(v,_);break;case"InstancedMesh":v=s(e.geometry),_=f(e.material);const x=e.count,C=e.instanceMatrix,c=e.instanceColor;l=new Z6(v,_,x),l.instanceMatrix=new i0(new Float32Array(C.array),16),c!==void 0&&(l.instanceColor=new i0(new Float32Array(c.array),c.itemSize));break;case"BatchedMesh":v=s(e.geometry),_=f(e.material),l=new K6(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,_),l.geometry=v,l.perObjectFrustumCulled=e.perObjectFrustumCulled,l.sortObjects=e.sortObjects,l._drawRanges=e.drawRanges,l._reservedRanges=e.reservedRanges,l._visibility=e.visibility,l._active=e.active,l._bounds=e.bounds.map(p=>{const m=new ss;m.min.fromArray(p.boxMin),m.max.fromArray(p.boxMax);const b=new Do;return b.radius=p.sphereRadius,b.center.fromArray(p.sphereCenter),{boxInitialized:p.boxInitialized,box:m,sphereInitialized:p.sphereInitialized,sphere:b}}),l._maxInstanceCount=e.maxInstanceCount,l._maxVertexCount=e.maxVertexCount,l._maxIndexCount=e.maxIndexCount,l._geometryInitialized=e.geometryInitialized,l._geometryCount=e.geometryCount,l._matricesTexture=h(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(l._colorsTexture=h(e.colorsTexture.uuid));break;case"LOD":l=new Y6;break;case"Line":l=new bi(s(e.geometry),f(e.material));break;case"LineLoop":l=new Q6(s(e.geometry),f(e.material));break;case"LineSegments":l=new of(s(e.geometry),f(e.material));break;case"PointCloud":case"Points":l=new J6(s(e.geometry),f(e.material));break;case"Sprite":l=new X6(f(e.material));break;case"Group":l=new Mv;break;case"Bone":l=new $O;break;default:l=new xi}if(l.uuid=e.uuid,e.name!==void 0&&(l.name=e.name),e.matrix!==void 0?(l.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(l.matrixAutoUpdate=e.matrixAutoUpdate),l.matrixAutoUpdate&&l.matrix.decompose(l.position,l.quaternion,l.scale)):(e.position!==void 0&&l.position.fromArray(e.position),e.rotation!==void 0&&l.rotation.fromArray(e.rotation),e.quaternion!==void 0&&l.quaternion.fromArray(e.quaternion),e.scale!==void 0&&l.scale.fromArray(e.scale)),e.up!==void 0&&l.up.fromArray(e.up),e.castShadow!==void 0&&(l.castShadow=e.castShadow),e.receiveShadow!==void 0&&(l.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(l.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(l.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(l.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(l.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&l.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(l.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(l.visible=e.visible),e.frustumCulled!==void 0&&(l.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(l.renderOrder=e.renderOrder),e.userData!==void 0&&(l.userData=e.userData),e.layers!==void 0&&(l.layers.mask=e.layers),e.children!==void 0){const x=e.children;for(let C=0;C<x.length;C++)l.add(this.parseObject(x[C],t,r,a,o))}if(e.animations!==void 0){const x=e.animations;for(let C=0;C<x.length;C++){const c=x[C];l.animations.push(o[c])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(l.autoUpdate=e.autoUpdate);const x=e.levels;for(let C=0;C<x.length;C++){const c=x[C],p=l.getObjectByProperty("uuid",c.object);p!==void 0&&l.addLevel(p,c.distance,c.hysteresis)}}return l}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const a=t[r.skeleton];a===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(a,r.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const r=t.target,a=e.getObjectByProperty("uuid",r);a!==void 0?t.target=a:t.target=new xi}})}}const Nre={UVMapping:fE,CubeReflectionMapping:hd,CubeRefractionMapping:Uh,EquirectangularReflectionMapping:kb,EquirectangularRefractionMapping:$b,CubeUVReflectionMapping:y0},WD={RepeatWrapping:Vb,ClampToEdgeWrapping:kl,MirroredRepeatWrapping:Gb},XD={NearestFilter:ho,NearestMipmapNearestFilter:EO,NearestMipmapLinearFilter:Cv,LinearFilter:za,LinearMipmapNearestFilter:hb,LinearMipmapLinearFilter:Gu};class Ure extends Ps{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,a){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,l=rd.get(e);if(l!==void 0){if(o.manager.itemStart(e),l.then){l.then(h=>{t&&t(h),o.manager.itemEnd(e)}).catch(h=>{a&&a(h)});return}return setTimeout(function(){t&&t(l),o.manager.itemEnd(e)},0),l}const s={};s.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",s.headers=this.requestHeader;const f=fetch(e,s).then(function(h){return h.blob()}).then(function(h){return createImageBitmap(h,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(h){return rd.add(e,h),t&&t(h),o.manager.itemEnd(e),h}).catch(function(h){a&&a(h),rd.remove(e),o.manager.itemError(e),o.manager.itemEnd(e)});rd.add(e,f),o.manager.itemStart(e)}}let Gx,aI=class{static getContext(){return Gx===void 0&&(Gx=new(window.AudioContext||window.webkitAudioContext)),Gx}static setContext(e){Gx=e}};class Bre extends Ps{constructor(e){super(e)}load(e,t,r,a){const o=this,l=new md(this.manager);l.setResponseType("arraybuffer"),l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(f){try{const h=f.slice(0);aI.getContext().decodeAudioData(h,function(_){t(_)}).catch(s)}catch(h){s(h)}},r,a);function s(f){a?a(f):console.error(f),o.manager.itemError(e)}}}const YD=new kn,qD=new kn,Rp=new kn;class Fre{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new pa,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new pa,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Rp.copy(e.projectionMatrix);const a=t.eyeSep/2,o=a*t.near/t.focus,l=t.near*Math.tan(mm*t.fov*.5)/t.zoom;let s,f;qD.elements[12]=-a,YD.elements[12]=a,s=-l*t.aspect+o,f=l*t.aspect+o,Rp.elements[0]=2*t.near/(f-s),Rp.elements[8]=(f+s)/(f-s),this.cameraL.projectionMatrix.copy(Rp),s=-l*t.aspect-o,f=l*t.aspect-o,Rp.elements[0]=2*t.near/(f-s),Rp.elements[8]=(f+s)/(f-s),this.cameraR.projectionMatrix.copy(Rp)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(qD),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(YD)}}class N8 extends pa{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e,this.index=0}}class oI{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=ZD(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=ZD();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function ZD(){return performance.now()}const Op=new ye,KD=new Xi,Hre=new ye,Ip=new ye;class kre extends xi{constructor(){super(),this.type="AudioListener",this.context=aI.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new oI}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Op,KD,Hre),Ip.set(0,0,-1).applyQuaternion(KD),t.positionX){const a=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Op.x,a),t.positionY.linearRampToValueAtTime(Op.y,a),t.positionZ.linearRampToValueAtTime(Op.z,a),t.forwardX.linearRampToValueAtTime(Ip.x,a),t.forwardY.linearRampToValueAtTime(Ip.y,a),t.forwardZ.linearRampToValueAtTime(Ip.z,a),t.upX.linearRampToValueAtTime(r.x,a),t.upY.linearRampToValueAtTime(r.y,a),t.upZ.linearRampToValueAtTime(r.z,a)}else t.setPosition(Op.x,Op.y,Op.z),t.setOrientation(Ip.x,Ip.y,Ip.z,r.x,r.y,r.z)}}class U8 extends xi{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const zp=new ye,QD=new Xi,$re=new ye,Pp=new ye;class Vre extends U8{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(zp,QD,$re),Pp.set(0,0,1).applyQuaternion(QD);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(zp.x,r),t.positionY.linearRampToValueAtTime(zp.y,r),t.positionZ.linearRampToValueAtTime(zp.z,r),t.orientationX.linearRampToValueAtTime(Pp.x,r),t.orientationY.linearRampToValueAtTime(Pp.y,r),t.orientationZ.linearRampToValueAtTime(Pp.z,r)}else t.setPosition(zp.x,zp.y,zp.z),t.setOrientation(Pp.x,Pp.y,Pp.z)}}class Gre{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class B8{constructor(e,t,r){this.binding=e,this.valueSize=r;let a,o,l;switch(t){case"quaternion":a=this._slerp,o=this._slerpAdditive,l=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":a=this._select,o=this._select,l=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:a=this._lerp,o=this._lerpAdditive,l=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=a,this._mixBufferRegionAdditive=o,this._setIdentity=l,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,a=this.valueSize,o=e*a+a;let l=this.cumulativeWeight;if(l===0){for(let s=0;s!==a;++s)r[o+s]=r[s];l=t}else{l+=t;const s=t/l;this._mixBufferRegion(r,o,0,s,a)}this.cumulativeWeight=l}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,a=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,a,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,a=e*t+t,o=this.cumulativeWeight,l=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const f=t*this._origIndex;this._mixBufferRegion(r,a,f,1-o,t)}l>0&&this._mixBufferRegionAdditive(r,a,this._addIndex*t,1,t);for(let f=t,h=t+t;f!==h;++f)if(r[f]!==r[f+t]){s.setValue(r,a);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,a=r*this._origIndex;e.getValue(t,a);for(let o=r,l=a;o!==l;++o)t[o]=t[a+o%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,a,o){if(a>=.5)for(let l=0;l!==o;++l)e[t+l]=e[r+l]}_slerp(e,t,r,a){Xi.slerpFlat(e,t,e,t,e,r,a)}_slerpAdditive(e,t,r,a,o){const l=this._workIndex*o;Xi.multiplyQuaternionsFlat(e,l,e,t,e,r),Xi.slerpFlat(e,t,e,t,e,l,a)}_lerp(e,t,r,a,o){const l=1-a;for(let s=0;s!==o;++s){const f=t+s;e[f]=e[f]*l+e[r+s]*a}}_lerpAdditive(e,t,r,a,o){for(let l=0;l!==o;++l){const s=t+l;e[s]=e[s]+e[r+l]*a}}}const sI="\\[\\]\\.:\\/",jre=new RegExp("["+sI+"]","g"),lI="[^"+sI+"]",Wre="[^"+sI.replace("\\.","")+"]",Xre=/((?:WC+[\/:])*)/.source.replace("WC",lI),Yre=/(WCOD+)?/.source.replace("WCOD",Wre),qre=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",lI),Zre=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",lI),Kre=new RegExp("^"+Xre+Yre+qre+Zre+"$"),Qre=["material","materials","bones","map"];class Jre{constructor(e,t,r){const a=r||ki.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,a)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,a=this._bindings[r];a!==void 0&&a.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let a=this._targetGroup.nCachedObjects_,o=r.length;a!==o;++a)r[a].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class ki{constructor(e,t,r){this.path=t,this.parsedPath=r||ki.parseTrackName(t),this.node=ki.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new ki.Composite(e,t,r):new ki(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(jre,"")}static parseTrackName(e){const t=Kre.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},a=r.nodeName&&r.nodeName.lastIndexOf(".");if(a!==void 0&&a!==-1){const o=r.nodeName.substring(a+1);Qre.indexOf(o)!==-1&&(r.nodeName=r.nodeName.substring(0,a),r.objectName=o)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(o){for(let l=0;l<o.length;l++){const s=o[l];if(s.name===t||s.uuid===t)return s;const f=r(s.children);if(f)return f}return null},a=r(e.children);if(a)return a}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let a=0,o=r.length;a!==o;++a)e[t++]=r[a]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let a=0,o=r.length;a!==o;++a)r[a]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let a=0,o=r.length;a!==o;++a)r[a]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let a=0,o=r.length;a!==o;++a)r[a]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,a=t.propertyName;let o=t.propertyIndex;if(e||(e=ki.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let h=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let v=0;v<e.length;v++)if(e[v].name===h){h=v;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(h!==void 0){if(e[h]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[h]}}const l=e[a];if(l===void 0){const h=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+h+"."+a+" but it wasn't found.",e);return}let s=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?s=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(s=this.Versioning.MatrixWorldNeedsUpdate);let f=this.BindingType.Direct;if(o!==void 0){if(a==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}f=this.BindingType.ArrayElement,this.resolvedProperty=l,this.propertyIndex=o}else l.fromArray!==void 0&&l.toArray!==void 0?(f=this.BindingType.HasFromToArray,this.resolvedProperty=l):Array.isArray(l)?(f=this.BindingType.EntireArray,this.resolvedProperty=l):this.propertyName=a;this.getValue=this.GetterByBindingType[f],this.setValue=this.SetterByBindingTypeAndVersioning[f][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}ki.Composite=Jre;ki.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};ki.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};ki.prototype.GetterByBindingType=[ki.prototype._getValue_direct,ki.prototype._getValue_array,ki.prototype._getValue_arrayElement,ki.prototype._getValue_toArray];ki.prototype.SetterByBindingTypeAndVersioning=[[ki.prototype._setValue_direct,ki.prototype._setValue_direct_setNeedsUpdate,ki.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[ki.prototype._setValue_array,ki.prototype._setValue_array_setNeedsUpdate,ki.prototype._setValue_array_setMatrixWorldNeedsUpdate],[ki.prototype._setValue_arrayElement,ki.prototype._setValue_arrayElement_setNeedsUpdate,ki.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[ki.prototype._setValue_fromArray,ki.prototype._setValue_fromArray_setNeedsUpdate,ki.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class eae{constructor(){this.isAnimationObjectGroup=!0,this.uuid=ol(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,a=arguments.length;r!==a;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,a=this._parsedPaths,o=this._bindings,l=o.length;let s,f=e.length,h=this.nCachedObjects_;for(let v=0,_=arguments.length;v!==_;++v){const x=arguments[v],C=x.uuid;let c=t[C];if(c===void 0){c=f++,t[C]=c,e.push(x);for(let p=0,m=l;p!==m;++p)o[p].push(new ki(x,r[p],a[p]))}else if(c<h){s=e[c];const p=--h,m=e[p];t[m.uuid]=c,e[c]=m,t[C]=p,e[p]=x;for(let b=0,w=l;b!==w;++b){const A=o[b],R=A[p];let O=A[c];A[c]=R,O===void 0&&(O=new ki(x,r[b],a[b])),A[p]=O}}else e[c]!==s&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=h}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,a=r.length;let o=this.nCachedObjects_;for(let l=0,s=arguments.length;l!==s;++l){const f=arguments[l],h=f.uuid,v=t[h];if(v!==void 0&&v>=o){const _=o++,x=e[_];t[x.uuid]=v,e[v]=x,t[h]=_,e[_]=f;for(let C=0,c=a;C!==c;++C){const p=r[C],m=p[_],b=p[v];p[v]=m,p[_]=b}}}this.nCachedObjects_=o}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,a=r.length;let o=this.nCachedObjects_,l=e.length;for(let s=0,f=arguments.length;s!==f;++s){const h=arguments[s],v=h.uuid,_=t[v];if(_!==void 0)if(delete t[v],_<o){const x=--o,C=e[x],c=--l,p=e[c];t[C.uuid]=_,e[_]=C,t[p.uuid]=x,e[x]=p,e.pop();for(let m=0,b=a;m!==b;++m){const w=r[m],A=w[x],R=w[c];w[_]=A,w[x]=R,w.pop()}}else{const x=--l,C=e[x];x>0&&(t[C.uuid]=_),e[_]=C,e.pop();for(let c=0,p=a;c!==p;++c){const m=r[c];m[_]=m[x],m.pop()}}}this.nCachedObjects_=o}subscribe_(e,t){const r=this._bindingsIndicesByPath;let a=r[e];const o=this._bindings;if(a!==void 0)return o[a];const l=this._paths,s=this._parsedPaths,f=this._objects,h=f.length,v=this.nCachedObjects_,_=new Array(h);a=o.length,r[e]=a,l.push(e),s.push(t),o.push(_);for(let x=v,C=f.length;x!==C;++x){const c=f[x];_[x]=new ki(c,e,t)}return _}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const a=this._paths,o=this._parsedPaths,l=this._bindings,s=l.length-1,f=l[s],h=e[s];t[h]=r,l[r]=f,l.pop(),o[r]=o[s],o.pop(),a[r]=a[s],a.pop()}}}class F8{constructor(e,t,r=null,a=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=a;const o=t.tracks,l=o.length,s=new Array(l),f={endingStart:lm,endingEnd:lm};for(let h=0;h!==l;++h){const v=o[h].createInterpolant(null);s[h]=v,v.settings=f}this._interpolantSettings=f,this._interpolants=s,this._propertyBindings=new Array(l),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=M6,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const a=this._clip.duration,o=e._clip.duration,l=o/a,s=a/o;e.warp(1,l,t),this.warp(s,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const a=this._mixer,o=a.time,l=this.timeScale;let s=this._timeScaleInterpolant;s===null&&(s=a._lendControlInterpolant(),this._timeScaleInterpolant=s);const f=s.parameterPositions,h=s.sampleValues;return f[0]=o,f[1]=o+r,h[0]=e/l,h[1]=t/l,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,a){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const f=(e-o)*r;f<0||r===0?t=0:(this._startTime=null,t=r*f)}t*=this._updateTimeScale(e);const l=this._updateTime(t),s=this._updateWeight(e);if(s>0){const f=this._interpolants,h=this._propertyBindings;switch(this.blendMode){case LO:for(let v=0,_=f.length;v!==_;++v)f[v].evaluate(l),h[v].accumulateAdditive(s);break;case yE:default:for(let v=0,_=f.length;v!==_;++v)f[v].evaluate(l),h[v].accumulate(a,s)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const a=r.evaluate(e)[0];t*=a,e>r.parameterPositions[1]&&(this.stopFading(),a===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const a=r.evaluate(e)[0];t*=a,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let a=this.time+e,o=this._loopCount;const l=r===T6;if(e===0)return o===-1?a:l&&(o&1)===1?t-a:a;if(r===E6){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(a>=t)a=t;else if(a<0)a=0;else{this.time=a;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=a,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,l)):this._setEndings(this.repetitions===0,!0,l)),a>=t||a<0){const s=Math.floor(a/t);a-=t*s,o+=Math.abs(s);const f=this.repetitions-o;if(f<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,a=e>0?t:0,this.time=a,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(f===1){const h=e<0;this._setEndings(h,!h,l)}else this._setEndings(!1,!1,l);this._loopCount=o,this.time=a,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:s})}}else this.time=a;if(l&&(o&1)===1)return t-a}return a}_setEndings(e,t,r){const a=this._interpolantSettings;r?(a.endingStart=cm,a.endingEnd=cm):(e?a.endingStart=this.zeroSlopeAtStart?cm:lm:a.endingStart=Wb,t?a.endingEnd=this.zeroSlopeAtEnd?cm:lm:a.endingEnd=Wb)}_scheduleFading(e,t,r){const a=this._mixer,o=a.time;let l=this._weightInterpolant;l===null&&(l=a._lendControlInterpolant(),this._weightInterpolant=l);const s=l.parameterPositions,f=l.sampleValues;return s[0]=o,f[0]=t,s[1]=o+e,f[1]=r,this}}const tae=new Float32Array(1);class nae extends rf{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,a=e._clip.tracks,o=a.length,l=e._propertyBindings,s=e._interpolants,f=r.uuid,h=this._bindingsByRootAndName;let v=h[f];v===void 0&&(v={},h[f]=v);for(let _=0;_!==o;++_){const x=a[_],C=x.name;let c=v[C];if(c!==void 0)++c.referenceCount,l[_]=c;else{if(c=l[_],c!==void 0){c._cacheIndex===null&&(++c.referenceCount,this._addInactiveBinding(c,f,C));continue}const p=t&&t._propertyBindings[_].binding.parsedPath;c=new B8(ki.create(r,C,p),x.ValueTypeName,x.getValueSize()),++c.referenceCount,this._addInactiveBinding(c,f,C),l[_]=c}s[_].resultBuffer=c.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,a=e._clip.uuid,o=this._actionsByClip[a];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,a,r)}const t=e._propertyBindings;for(let r=0,a=t.length;r!==a;++r){const o=t[r];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,a=t.length;r!==a;++r){const o=t[r];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const a=this._actions,o=this._actionsByClip;let l=o[t];if(l===void 0)l={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[t]=l;else{const s=l.knownActions;e._byClipCacheIndex=s.length,s.push(e)}e._cacheIndex=a.length,a.push(e),l.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],a=e._cacheIndex;r._cacheIndex=a,t[a]=r,t.pop(),e._cacheIndex=null;const o=e._clip.uuid,l=this._actionsByClip,s=l[o],f=s.knownActions,h=f[f.length-1],v=e._byClipCacheIndex;h._byClipCacheIndex=v,f[v]=h,f.pop(),e._byClipCacheIndex=null;const _=s.actionByRoot,x=(e._localRoot||this._root).uuid;delete _[x],f.length===0&&delete l[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,a=t.length;r!==a;++r){const o=t[r];--o.referenceCount===0&&this._removeInactiveBinding(o)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,a=this._nActiveActions++,o=t[a];e._cacheIndex=a,t[a]=e,o._cacheIndex=r,t[r]=o}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,a=--this._nActiveActions,o=t[a];e._cacheIndex=a,t[a]=e,o._cacheIndex=r,t[r]=o}_addInactiveBinding(e,t,r){const a=this._bindingsByRootAndName,o=this._bindings;let l=a[t];l===void 0&&(l={},a[t]=l),l[r]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,a=r.rootNode.uuid,o=r.path,l=this._bindingsByRootAndName,s=l[a],f=t[t.length-1],h=e._cacheIndex;f._cacheIndex=h,t[h]=f,t.pop(),delete s[o],Object.keys(s).length===0&&delete l[a]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,a=this._nActiveBindings++,o=t[a];e._cacheIndex=a,t[a]=e,o._cacheIndex=r,t[r]=o}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,a=--this._nActiveBindings,o=t[a];e._cacheIndex=a,t[a]=e,o._cacheIndex=r,t[r]=o}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new tI(new Float32Array(2),new Float32Array(2),1,tae),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,a=--this._nActiveControlInterpolants,o=t[a];e.__cacheIndex=a,t[a]=e,o.__cacheIndex=r,t[r]=o}clipAction(e,t,r){const a=t||this._root,o=a.uuid;let l=typeof e=="string"?i_.findByName(a,e):e;const s=l!==null?l.uuid:e,f=this._actionsByClip[s];let h=null;if(r===void 0&&(l!==null?r=l.blendMode:r=yE),f!==void 0){const _=f.actionByRoot[o];if(_!==void 0&&_.blendMode===r)return _;h=f.knownActions[0],l===null&&(l=h._clip)}if(l===null)return null;const v=new F8(this,l,t,r);return this._bindAction(v,h),this._addInactiveAction(v,s,o),v}existingAction(e,t){const r=t||this._root,a=r.uuid,o=typeof e=="string"?i_.findByName(r,e):e,l=o?o.uuid:e,s=this._actionsByClip[l];return s!==void 0&&s.actionByRoot[a]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,a=this.time+=e,o=Math.sign(e),l=this._accuIndex^=1;for(let h=0;h!==r;++h)t[h]._update(a,e,o,l);const s=this._bindings,f=this._nActiveBindings;for(let h=0;h!==f;++h)s[h].apply(l);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,a=this._actionsByClip,o=a[r];if(o!==void 0){const l=o.knownActions;for(let s=0,f=l.length;s!==f;++s){const h=l[s];this._deactivateAction(h);const v=h._cacheIndex,_=t[t.length-1];h._cacheIndex=null,h._byClipCacheIndex=null,_._cacheIndex=v,t[v]=_,t.pop(),this._removeInactiveBindingsForAction(h)}delete a[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const l in r){const s=r[l].actionByRoot,f=s[t];f!==void 0&&(this._deactivateAction(f),this._removeInactiveAction(f))}const a=this._bindingsByRootAndName,o=a[t];if(o!==void 0)for(const l in o){const s=o[l];s.restoreOriginalState(),this._removeInactiveBinding(s)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class iae extends bE{constructor(e=1,t=1,r=1,a={}){super(e,t,a),this.isRenderTarget3D=!0,this.depth=r,this.texture=new _E(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class rae extends bE{constructor(e=1,t=1,r=1,a={}){super(e,t,a),this.isRenderTargetArray=!0,this.depth=r,this.texture=new T_(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class cI{constructor(e){this.value=e}clone(){return new cI(this.value.clone===void 0?this.value:this.value.clone())}}let aae=0;class oae extends rf{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:aae++}),this.name="",this.usage=Yb,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,a=t.length;r<a;r++){const o=Array.isArray(t[r])?t[r]:[t[r]];for(let l=0;l<o.length;l++)this.uniforms.push(o[l].clone())}return this}clone(){return new this.constructor().copy(this)}}class sae extends CE{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class lae{constructor(e,t,r,a,o){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=a,this.count=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const JD=new kn;class uI{constructor(e,t,r=0,a=1/0){this.ray=new zm(e,t),this.near=r,this.far=a,this.camera=null,this.layers=new t0,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return JD.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(JD),this}intersectObject(e,t=!0,r=[]){return tR(e,this,r,t),r.sort(eL),r}intersectObjects(e,t=!0,r=[]){for(let a=0,o=e.length;a<o;a++)tR(e[a],this,r,t);return r.sort(eL),r}}function eL(n,e){return n.distance-e.distance}function tR(n,e,t,r){let a=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(a=!1),a===!0&&r===!0){const o=n.children;for(let l=0,s=o.length;l<s;l++)tR(o[l],e,t,!0)}}class nR{constructor(e=1,t=0,r=0){this.radius=e,this.phi=t,this.theta=r}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Qn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Qn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class cae{constructor(e=1,t=0,r=0){this.radius=e,this.theta=t,this.y=r}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}class fI{constructor(e,t,r,a){fI.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,r,a)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let r=0;r<4;r++)this.elements[r]=e[r+t];return this}set(e,t,r,a){const o=this.elements;return o[0]=e,o[2]=t,o[1]=r,o[3]=a,this}}const tL=new At;class uae{constructor(e=new At(1/0,1/0),t=new At(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=tL.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,tL).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const nL=new ye,jx=new ye;class fae{constructor(e=new ye,t=new ye){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){nL.subVectors(e,this.start),jx.subVectors(this.end,this.start);const r=jx.dot(jx);let o=jx.dot(nL)/r;return t&&(o=Qn(o,0,1)),o}closestPointToPoint(e,t,r){const a=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(a).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const iL=new ye;class dae extends xi{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const r=new Jn,a=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let l=0,s=1,f=32;l<f;l++,s++){const h=l/f*Math.PI*2,v=s/f*Math.PI*2;a.push(Math.cos(h),Math.sin(h),1,Math.cos(v),Math.sin(v),1)}r.setAttribute("position",new mn(a,3));const o=new Fo({fog:!1,toneMapped:!1});this.cone=new of(r,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),iL.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(iL),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const ch=new ye,Wx=new kn,QT=new kn;class hae extends of{constructor(e){const t=H8(e),r=new Jn,a=[],o=[],l=new on(0,0,1),s=new on(0,1,0);for(let h=0;h<t.length;h++){const v=t[h];v.parent&&v.parent.isBone&&(a.push(0,0,0),a.push(0,0,0),o.push(l.r,l.g,l.b),o.push(s.r,s.g,s.b))}r.setAttribute("position",new mn(a,3)),r.setAttribute("color",new mn(o,3));const f=new Fo({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,f),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,a=r.getAttribute("position");QT.copy(this.root.matrixWorld).invert();for(let o=0,l=0;o<t.length;o++){const s=t[o];s.parent&&s.parent.isBone&&(Wx.multiplyMatrices(QT,s.matrixWorld),ch.setFromMatrixPosition(Wx),a.setXYZ(l,ch.x,ch.y,ch.z),Wx.multiplyMatrices(QT,s.parent.matrixWorld),ch.setFromMatrixPosition(Wx),a.setXYZ(l+1,ch.x,ch.y,ch.z),l+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function H8(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push(...H8(n.children[t]));return e}class pae extends ln{constructor(e,t,r){const a=new _0(t,4,2),o=new af({wireframe:!0,fog:!1,toneMapped:!1});super(a,o),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const mae=new ye,rL=new on,aL=new on;class gae extends xi{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const a=new Bl(t);a.rotateY(Math.PI*.5),this.material=new af({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=a.getAttribute("position"),l=new Float32Array(o.count*3);a.setAttribute("color",new mr(l,3)),this.add(new ln(a,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");rL.copy(this.light.color),aL.copy(this.light.groundColor);for(let r=0,a=t.count;r<a;r++){const o=r<a/2?rL:aL;t.setXYZ(r,o.r,o.g,o.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(mae.setFromMatrixPosition(this.light.matrixWorld).negate())}}class vae extends of{constructor(e=10,t=10,r=4473924,a=8947848){r=new on(r),a=new on(a);const o=t/2,l=e/t,s=e/2,f=[],h=[];for(let x=0,C=0,c=-s;x<=t;x++,c+=l){f.push(-s,0,c,s,0,c),f.push(c,0,-s,c,0,s);const p=x===o?r:a;p.toArray(h,C),C+=3,p.toArray(h,C),C+=3,p.toArray(h,C),C+=3,p.toArray(h,C),C+=3}const v=new Jn;v.setAttribute("position",new mn(f,3)),v.setAttribute("color",new mn(h,3));const _=new Fo({vertexColors:!0,toneMapped:!1});super(v,_),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class yae extends of{constructor(e=10,t=16,r=8,a=64,o=4473924,l=8947848){o=new on(o),l=new on(l);const s=[],f=[];if(t>1)for(let _=0;_<t;_++){const x=_/t*(Math.PI*2),C=Math.sin(x)*e,c=Math.cos(x)*e;s.push(0,0,0),s.push(C,0,c);const p=_&1?o:l;f.push(p.r,p.g,p.b),f.push(p.r,p.g,p.b)}for(let _=0;_<r;_++){const x=_&1?o:l,C=e-e/r*_;for(let c=0;c<a;c++){let p=c/a*(Math.PI*2),m=Math.sin(p)*C,b=Math.cos(p)*C;s.push(m,0,b),f.push(x.r,x.g,x.b),p=(c+1)/a*(Math.PI*2),m=Math.sin(p)*C,b=Math.cos(p)*C,s.push(m,0,b),f.push(x.r,x.g,x.b)}}const h=new Jn;h.setAttribute("position",new mn(s,3)),h.setAttribute("color",new mn(f,3));const v=new Fo({vertexColors:!0,toneMapped:!1});super(h,v),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const oL=new ye,Xx=new ye,sL=new ye;class bae extends xi{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",t===void 0&&(t=1);let a=new Jn;a.setAttribute("position",new mn([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const o=new Fo({fog:!1,toneMapped:!1});this.lightPlane=new bi(a,o),this.add(this.lightPlane),a=new Jn,a.setAttribute("position",new mn([0,0,0,0,0,1],3)),this.targetLine=new bi(a,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),oL.setFromMatrixPosition(this.light.matrixWorld),Xx.setFromMatrixPosition(this.light.target.matrixWorld),sL.subVectors(Xx,oL),this.lightPlane.lookAt(Xx),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Xx),this.targetLine.scale.z=sL.length()}}const Yx=new ye,oa=new SE;class _ae extends of{constructor(e){const t=new Jn,r=new Fo({color:16777215,vertexColors:!0,toneMapped:!1}),a=[],o=[],l={};s("n1","n2"),s("n2","n4"),s("n4","n3"),s("n3","n1"),s("f1","f2"),s("f2","f4"),s("f4","f3"),s("f3","f1"),s("n1","f1"),s("n2","f2"),s("n3","f3"),s("n4","f4"),s("p","n1"),s("p","n2"),s("p","n3"),s("p","n4"),s("u1","u2"),s("u2","u3"),s("u3","u1"),s("c","t"),s("p","c"),s("cn1","cn2"),s("cn3","cn4"),s("cf1","cf2"),s("cf3","cf4");function s(c,p){f(c),f(p)}function f(c){a.push(0,0,0),o.push(0,0,0),l[c]===void 0&&(l[c]=[]),l[c].push(a.length/3-1)}t.setAttribute("position",new mn(a,3)),t.setAttribute("color",new mn(o,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=l,this.update();const h=new on(16755200),v=new on(16711680),_=new on(43775),x=new on(16777215),C=new on(3355443);this.setColors(h,v,_,x,C)}setColors(e,t,r,a,o){const s=this.geometry.getAttribute("color");s.setXYZ(0,e.r,e.g,e.b),s.setXYZ(1,e.r,e.g,e.b),s.setXYZ(2,e.r,e.g,e.b),s.setXYZ(3,e.r,e.g,e.b),s.setXYZ(4,e.r,e.g,e.b),s.setXYZ(5,e.r,e.g,e.b),s.setXYZ(6,e.r,e.g,e.b),s.setXYZ(7,e.r,e.g,e.b),s.setXYZ(8,e.r,e.g,e.b),s.setXYZ(9,e.r,e.g,e.b),s.setXYZ(10,e.r,e.g,e.b),s.setXYZ(11,e.r,e.g,e.b),s.setXYZ(12,e.r,e.g,e.b),s.setXYZ(13,e.r,e.g,e.b),s.setXYZ(14,e.r,e.g,e.b),s.setXYZ(15,e.r,e.g,e.b),s.setXYZ(16,e.r,e.g,e.b),s.setXYZ(17,e.r,e.g,e.b),s.setXYZ(18,e.r,e.g,e.b),s.setXYZ(19,e.r,e.g,e.b),s.setXYZ(20,e.r,e.g,e.b),s.setXYZ(21,e.r,e.g,e.b),s.setXYZ(22,e.r,e.g,e.b),s.setXYZ(23,e.r,e.g,e.b),s.setXYZ(24,t.r,t.g,t.b),s.setXYZ(25,t.r,t.g,t.b),s.setXYZ(26,t.r,t.g,t.b),s.setXYZ(27,t.r,t.g,t.b),s.setXYZ(28,t.r,t.g,t.b),s.setXYZ(29,t.r,t.g,t.b),s.setXYZ(30,t.r,t.g,t.b),s.setXYZ(31,t.r,t.g,t.b),s.setXYZ(32,r.r,r.g,r.b),s.setXYZ(33,r.r,r.g,r.b),s.setXYZ(34,r.r,r.g,r.b),s.setXYZ(35,r.r,r.g,r.b),s.setXYZ(36,r.r,r.g,r.b),s.setXYZ(37,r.r,r.g,r.b),s.setXYZ(38,a.r,a.g,a.b),s.setXYZ(39,a.r,a.g,a.b),s.setXYZ(40,o.r,o.g,o.b),s.setXYZ(41,o.r,o.g,o.b),s.setXYZ(42,o.r,o.g,o.b),s.setXYZ(43,o.r,o.g,o.b),s.setXYZ(44,o.r,o.g,o.b),s.setXYZ(45,o.r,o.g,o.b),s.setXYZ(46,o.r,o.g,o.b),s.setXYZ(47,o.r,o.g,o.b),s.setXYZ(48,o.r,o.g,o.b),s.setXYZ(49,o.r,o.g,o.b),s.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,r=1,a=1;oa.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const o=this.camera.coordinateSystem===Uc?-1:0;da("c",t,e,oa,0,0,o),da("t",t,e,oa,0,0,1),da("n1",t,e,oa,-1,-1,o),da("n2",t,e,oa,r,-1,o),da("n3",t,e,oa,-1,a,o),da("n4",t,e,oa,r,a,o),da("f1",t,e,oa,-1,-1,1),da("f2",t,e,oa,r,-1,1),da("f3",t,e,oa,-1,a,1),da("f4",t,e,oa,r,a,1),da("u1",t,e,oa,r*.7,a*1.1,o),da("u2",t,e,oa,-1*.7,a*1.1,o),da("u3",t,e,oa,0,a*2,o),da("cf1",t,e,oa,-1,0,1),da("cf2",t,e,oa,r,0,1),da("cf3",t,e,oa,0,-1,1),da("cf4",t,e,oa,0,a,1),da("cn1",t,e,oa,-1,0,o),da("cn2",t,e,oa,r,0,o),da("cn3",t,e,oa,0,-1,o),da("cn4",t,e,oa,0,a,o),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function da(n,e,t,r,a,o,l){Yx.set(a,o,l).unproject(r);const s=e[n];if(s!==void 0){const f=t.getAttribute("position");for(let h=0,v=s.length;h<v;h++)f.setXYZ(s[h],Yx.x,Yx.y,Yx.z)}}const qx=new ss;class Sae extends of{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),a=new Float32Array(8*3),o=new Jn;o.setIndex(new mr(r,1)),o.setAttribute("position",new mr(a,3)),super(o,new Fo({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&qx.setFromObject(this.object),qx.isEmpty())return;const e=qx.min,t=qx.max,r=this.geometry.attributes.position,a=r.array;a[0]=t.x,a[1]=t.y,a[2]=t.z,a[3]=e.x,a[4]=t.y,a[5]=t.z,a[6]=e.x,a[7]=e.y,a[8]=t.z,a[9]=t.x,a[10]=e.y,a[11]=t.z,a[12]=t.x,a[13]=t.y,a[14]=e.z,a[15]=e.x,a[16]=t.y,a[17]=e.z,a[18]=e.x,a[19]=e.y,a[20]=e.z,a[21]=t.x,a[22]=e.y,a[23]=e.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class xae extends of{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),a=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new Jn;o.setIndex(new mr(r,1)),o.setAttribute("position",new mn(a,3)),super(o,new Fo({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class wae extends bi{constructor(e,t=1,r=16776960){const a=r,o=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],l=new Jn;l.setAttribute("position",new mn(o,3)),l.computeBoundingSphere(),super(l,new Fo({color:a,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const s=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],f=new Jn;f.setAttribute("position",new mn(s,3)),f.computeBoundingSphere(),this.add(new ln(f,new af({color:a,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const lL=new ye;let Zx,JT;class Cae extends xi{constructor(e=new ye(0,0,1),t=new ye(0,0,0),r=1,a=16776960,o=r*.2,l=o*.2){super(),this.type="ArrowHelper",Zx===void 0&&(Zx=new Jn,Zx.setAttribute("position",new mn([0,0,0,0,1,0],3)),JT=new lo(0,.5,1,5,1),JT.translate(0,-.5,0)),this.position.copy(t),this.line=new bi(Zx,new Fo({color:a,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ln(JT,new af({color:a,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,o,l)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{lL.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(lL,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Eae extends of{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],a=new Jn;a.setAttribute("position",new mn(t,3)),a.setAttribute("color",new mn(r,3));const o=new Fo({vertexColors:!0,toneMapped:!1});super(a,o),this.type="AxesHelper"}setColors(e,t,r){const a=new on,o=this.geometry.attributes.color.array;return a.set(e),a.toArray(o,0),a.toArray(o,3),a.set(t),a.toArray(o,6),a.toArray(o,9),a.set(r),a.toArray(o,12),a.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Mae{constructor(){this.type="ShapePath",this.color=new on,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Kb,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,a){return this.currentPath.quadraticCurveTo(e,t,r,a),this}bezierCurveTo(e,t,r,a,o,l){return this.currentPath.bezierCurveTo(e,t,r,a,o,l),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(b){const w=[];for(let A=0,R=b.length;A<R;A++){const O=b[A],P=new gm;P.curves=O.curves,w.push(P)}return w}function r(b,w){const A=w.length;let R=!1;for(let O=A-1,P=0;P<A;O=P++){let D=w[O],F=w[P],B=F.x-D.x,U=F.y-D.y;if(Math.abs(U)>Number.EPSILON){if(U<0&&(D=w[P],B=-B,F=w[O],U=-U),b.y<D.y||b.y>F.y)continue;if(b.y===D.y){if(b.x===D.x)return!0}else{const V=U*(b.x-D.x)-B*(b.y-D.y);if(V===0)return!0;if(V<0)continue;R=!R}}else{if(b.y!==D.y)continue;if(F.x<=b.x&&b.x<=D.x||D.x<=b.x&&b.x<=F.x)return!0}}return R}const a=Yu.isClockWise,o=this.subPaths;if(o.length===0)return[];let l,s,f;const h=[];if(o.length===1)return s=o[0],f=new gm,f.curves=s.curves,h.push(f),h;let v=!a(o[0].getPoints());v=e?!v:v;const _=[],x=[];let C=[],c=0,p;x[c]=void 0,C[c]=[];for(let b=0,w=o.length;b<w;b++)s=o[b],p=s.getPoints(),l=a(p),l=e?!l:l,l?(!v&&x[c]&&c++,x[c]={s:new gm,p},x[c].s.curves=s.curves,v&&c++,C[c]=[]):C[c].push({h:s,p:p[0]});if(!x[0])return t(o);if(x.length>1){let b=!1,w=0;for(let A=0,R=x.length;A<R;A++)_[A]=[];for(let A=0,R=x.length;A<R;A++){const O=C[A];for(let P=0;P<O.length;P++){const D=O[P];let F=!0;for(let B=0;B<x.length;B++)r(D.p,x[B].p)&&(A!==B&&w++,F?(F=!1,_[B].push(D)):b=!0);F&&_[A].push(D)}}w>0&&b===!1&&(C=_)}let m;for(let b=0,w=x.length;b<w;b++){f=x[b].s,h.push(f),m=C[b];for(let A=0,R=m.length;A<R;A++)f.holes.push(m[A].h)}return h}}class Tae extends rf{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}function Aae(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function Rae(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function Oae(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function iR(n,e,t,r){const a=Iae(r);switch(t){case RO:return n*e;case IO:return n*e;case zO:return n*e*2;case mE:return n*e/a.components*a.byteLength;case M_:return n*e/a.components*a.byteLength;case PO:return n*e*2/a.components*a.byteLength;case gE:return n*e*2/a.components*a.byteLength;case OO:return n*e*3/a.components*a.byteLength;case zo:return n*e*4/a.components*a.byteLength;case vE:return n*e*4/a.components*a.byteLength;case pb:case mb:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case gb:case vb:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case Uw:case Fw:return Math.max(n,16)*Math.max(e,8)/4;case Nw:case Bw:return Math.max(n,8)*Math.max(e,8)/2;case Hw:case kw:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case $w:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case Vw:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case Gw:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case jw:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case Ww:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case Xw:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case Yw:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case qw:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case Zw:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case Kw:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case Qw:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case Jw:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case eC:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case tC:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case nC:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case yb:case iC:case rC:return Math.ceil(n/4)*Math.ceil(e/4)*16;case DO:case aC:return Math.ceil(n/4)*Math.ceil(e/4)*8;case oC:case sC:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function Iae(n){switch(n){case $c:case MO:return{byteLength:1,components:1};case Jv:case TO:case b0:return{byteLength:2,components:1};case hE:case pE:return{byteLength:2,components:4};case pd:case dE:case Is:return{byteLength:4,components:1};case AO:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class zae{static contain(e,t){return Aae(e,t)}static cover(e,t){return Rae(e,t)}static fill(e){return Oae(e)}static getByteLength(e,t,r,a){return iR(e,t,r,a)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:cE}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=cE);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function k8(){let n=null,e=!1,t=null,r=null;function a(o,l){t(o,l),r=n.requestAnimationFrame(a)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(a),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(o){t=o},setContext:function(o){n=o}}}function Pae(n){const e=new WeakMap;function t(s,f){const h=s.array,v=s.usage,_=h.byteLength,x=n.createBuffer();n.bindBuffer(f,x),n.bufferData(f,h,v),s.onUploadCallback();let C;if(h instanceof Float32Array)C=n.FLOAT;else if(h instanceof Uint16Array)s.isFloat16BufferAttribute?C=n.HALF_FLOAT:C=n.UNSIGNED_SHORT;else if(h instanceof Int16Array)C=n.SHORT;else if(h instanceof Uint32Array)C=n.UNSIGNED_INT;else if(h instanceof Int32Array)C=n.INT;else if(h instanceof Int8Array)C=n.BYTE;else if(h instanceof Uint8Array)C=n.UNSIGNED_BYTE;else if(h instanceof Uint8ClampedArray)C=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:x,type:C,bytesPerElement:h.BYTES_PER_ELEMENT,version:s.version,size:_}}function r(s,f,h){const v=f.array,_=f.updateRanges;if(n.bindBuffer(h,s),_.length===0)n.bufferSubData(h,0,v);else{_.sort((C,c)=>C.start-c.start);let x=0;for(let C=1;C<_.length;C++){const c=_[x],p=_[C];p.start<=c.start+c.count+1?c.count=Math.max(c.count,p.start+p.count-c.start):(++x,_[x]=p)}_.length=x+1;for(let C=0,c=_.length;C<c;C++){const p=_[C];n.bufferSubData(h,p.start*v.BYTES_PER_ELEMENT,v,p.start,p.count)}f.clearUpdateRanges()}f.onUploadCallback()}function a(s){return s.isInterleavedBufferAttribute&&(s=s.data),e.get(s)}function o(s){s.isInterleavedBufferAttribute&&(s=s.data);const f=e.get(s);f&&(n.deleteBuffer(f.buffer),e.delete(s))}function l(s,f){if(s.isInterleavedBufferAttribute&&(s=s.data),s.isGLBufferAttribute){const v=e.get(s);(!v||v.version<s.version)&&e.set(s,{buffer:s.buffer,type:s.type,bytesPerElement:s.elementSize,version:s.version});return}const h=e.get(s);if(h===void 0)e.set(s,t(s,f));else if(h.version<s.version){if(h.size!==s.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(h.buffer,s,f),h.version=s.version}}return{get:a,remove:o,update:l}}var Dae=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Lae=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Nae=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Uae=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Bae=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,Fae=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Hae=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,kae=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,$ae=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,Vae=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,Gae=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,jae=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Wae=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Xae=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Yae=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,qae=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Zae=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Kae=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Qae=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Jae=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,eoe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,toe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,noe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,ioe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,roe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,aoe=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,ooe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,soe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,loe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,coe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,uoe="gl_FragColor = linearToOutputTexel( gl_FragColor );",foe=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,doe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,hoe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,poe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,moe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,goe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,voe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,yoe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,boe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,_oe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Soe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,xoe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,woe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Coe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Eoe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Moe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Toe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Aoe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Roe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Ooe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Ioe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,zoe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Poe=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Doe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Loe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,Noe=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Uoe=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Boe=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Foe=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,Hoe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,koe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,$oe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Voe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Goe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,joe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Woe=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Xoe=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Yoe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,qoe=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,Zoe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Koe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Qoe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Joe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,ese=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,tse=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,nse=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,ise=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,rse=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,ase=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,ose=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,sse=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,lse=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,cse=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,use=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,fse=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dse=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,hse=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,pse=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,mse=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,gse=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,vse=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,yse=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,bse=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,_se=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Sse=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,xse=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,wse=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Cse=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Ese=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Mse=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Tse=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Ase=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Rse=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Ose=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Ise=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,zse=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Pse=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Dse=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Lse=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Nse=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Use=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Bse=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Fse=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Hse=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,kse=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,$se=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Vse=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Gse=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,jse=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Wse=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Xse=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Yse=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,qse=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Zse=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Kse=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Qse=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Jse=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,ele=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,tle=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,nle=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ile=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,rle=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ale=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ole=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,sle=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,lle=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,cle=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ule=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,fle=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,dle=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,di={alphahash_fragment:Dae,alphahash_pars_fragment:Lae,alphamap_fragment:Nae,alphamap_pars_fragment:Uae,alphatest_fragment:Bae,alphatest_pars_fragment:Fae,aomap_fragment:Hae,aomap_pars_fragment:kae,batching_pars_vertex:$ae,batching_vertex:Vae,begin_vertex:Gae,beginnormal_vertex:jae,bsdfs:Wae,iridescence_fragment:Xae,bumpmap_pars_fragment:Yae,clipping_planes_fragment:qae,clipping_planes_pars_fragment:Zae,clipping_planes_pars_vertex:Kae,clipping_planes_vertex:Qae,color_fragment:Jae,color_pars_fragment:eoe,color_pars_vertex:toe,color_vertex:noe,common:ioe,cube_uv_reflection_fragment:roe,defaultnormal_vertex:aoe,displacementmap_pars_vertex:ooe,displacementmap_vertex:soe,emissivemap_fragment:loe,emissivemap_pars_fragment:coe,colorspace_fragment:uoe,colorspace_pars_fragment:foe,envmap_fragment:doe,envmap_common_pars_fragment:hoe,envmap_pars_fragment:poe,envmap_pars_vertex:moe,envmap_physical_pars_fragment:Moe,envmap_vertex:goe,fog_vertex:voe,fog_pars_vertex:yoe,fog_fragment:boe,fog_pars_fragment:_oe,gradientmap_pars_fragment:Soe,lightmap_pars_fragment:xoe,lights_lambert_fragment:woe,lights_lambert_pars_fragment:Coe,lights_pars_begin:Eoe,lights_toon_fragment:Toe,lights_toon_pars_fragment:Aoe,lights_phong_fragment:Roe,lights_phong_pars_fragment:Ooe,lights_physical_fragment:Ioe,lights_physical_pars_fragment:zoe,lights_fragment_begin:Poe,lights_fragment_maps:Doe,lights_fragment_end:Loe,logdepthbuf_fragment:Noe,logdepthbuf_pars_fragment:Uoe,logdepthbuf_pars_vertex:Boe,logdepthbuf_vertex:Foe,map_fragment:Hoe,map_pars_fragment:koe,map_particle_fragment:$oe,map_particle_pars_fragment:Voe,metalnessmap_fragment:Goe,metalnessmap_pars_fragment:joe,morphinstance_vertex:Woe,morphcolor_vertex:Xoe,morphnormal_vertex:Yoe,morphtarget_pars_vertex:qoe,morphtarget_vertex:Zoe,normal_fragment_begin:Koe,normal_fragment_maps:Qoe,normal_pars_fragment:Joe,normal_pars_vertex:ese,normal_vertex:tse,normalmap_pars_fragment:nse,clearcoat_normal_fragment_begin:ise,clearcoat_normal_fragment_maps:rse,clearcoat_pars_fragment:ase,iridescence_pars_fragment:ose,opaque_fragment:sse,packing:lse,premultiplied_alpha_fragment:cse,project_vertex:use,dithering_fragment:fse,dithering_pars_fragment:dse,roughnessmap_fragment:hse,roughnessmap_pars_fragment:pse,shadowmap_pars_fragment:mse,shadowmap_pars_vertex:gse,shadowmap_vertex:vse,shadowmask_pars_fragment:yse,skinbase_vertex:bse,skinning_pars_vertex:_se,skinning_vertex:Sse,skinnormal_vertex:xse,specularmap_fragment:wse,specularmap_pars_fragment:Cse,tonemapping_fragment:Ese,tonemapping_pars_fragment:Mse,transmission_fragment:Tse,transmission_pars_fragment:Ase,uv_pars_fragment:Rse,uv_pars_vertex:Ose,uv_vertex:Ise,worldpos_vertex:zse,background_vert:Pse,background_frag:Dse,backgroundCube_vert:Lse,backgroundCube_frag:Nse,cube_vert:Use,cube_frag:Bse,depth_vert:Fse,depth_frag:Hse,distanceRGBA_vert:kse,distanceRGBA_frag:$se,equirect_vert:Vse,equirect_frag:Gse,linedashed_vert:jse,linedashed_frag:Wse,meshbasic_vert:Xse,meshbasic_frag:Yse,meshlambert_vert:qse,meshlambert_frag:Zse,meshmatcap_vert:Kse,meshmatcap_frag:Qse,meshnormal_vert:Jse,meshnormal_frag:ele,meshphong_vert:tle,meshphong_frag:nle,meshphysical_vert:ile,meshphysical_frag:rle,meshtoon_vert:ale,meshtoon_frag:ole,points_vert:sle,points_frag:lle,shadow_vert:cle,shadow_frag:ule,sprite_vert:fle,sprite_frag:dle},rn={common:{diffuse:{value:new on(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new ri},alphaMap:{value:null},alphaMapTransform:{value:new ri},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new ri}},envmap:{envMap:{value:null},envMapRotation:{value:new ri},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new ri}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new ri}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new ri},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new ri},normalScale:{value:new At(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new ri},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new ri}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new ri}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new ri}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new on(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new on(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new ri},alphaTest:{value:0},uvTransform:{value:new ri}},sprite:{diffuse:{value:new on(16777215)},opacity:{value:1},center:{value:new At(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new ri},alphaMap:{value:null},alphaMapTransform:{value:new ri},alphaTest:{value:0}}},Pc={basic:{uniforms:ts([rn.common,rn.specularmap,rn.envmap,rn.aomap,rn.lightmap,rn.fog]),vertexShader:di.meshbasic_vert,fragmentShader:di.meshbasic_frag},lambert:{uniforms:ts([rn.common,rn.specularmap,rn.envmap,rn.aomap,rn.lightmap,rn.emissivemap,rn.bumpmap,rn.normalmap,rn.displacementmap,rn.fog,rn.lights,{emissive:{value:new on(0)}}]),vertexShader:di.meshlambert_vert,fragmentShader:di.meshlambert_frag},phong:{uniforms:ts([rn.common,rn.specularmap,rn.envmap,rn.aomap,rn.lightmap,rn.emissivemap,rn.bumpmap,rn.normalmap,rn.displacementmap,rn.fog,rn.lights,{emissive:{value:new on(0)},specular:{value:new on(1118481)},shininess:{value:30}}]),vertexShader:di.meshphong_vert,fragmentShader:di.meshphong_frag},standard:{uniforms:ts([rn.common,rn.envmap,rn.aomap,rn.lightmap,rn.emissivemap,rn.bumpmap,rn.normalmap,rn.displacementmap,rn.roughnessmap,rn.metalnessmap,rn.fog,rn.lights,{emissive:{value:new on(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:di.meshphysical_vert,fragmentShader:di.meshphysical_frag},toon:{uniforms:ts([rn.common,rn.aomap,rn.lightmap,rn.emissivemap,rn.bumpmap,rn.normalmap,rn.displacementmap,rn.gradientmap,rn.fog,rn.lights,{emissive:{value:new on(0)}}]),vertexShader:di.meshtoon_vert,fragmentShader:di.meshtoon_frag},matcap:{uniforms:ts([rn.common,rn.bumpmap,rn.normalmap,rn.displacementmap,rn.fog,{matcap:{value:null}}]),vertexShader:di.meshmatcap_vert,fragmentShader:di.meshmatcap_frag},points:{uniforms:ts([rn.points,rn.fog]),vertexShader:di.points_vert,fragmentShader:di.points_frag},dashed:{uniforms:ts([rn.common,rn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:di.linedashed_vert,fragmentShader:di.linedashed_frag},depth:{uniforms:ts([rn.common,rn.displacementmap]),vertexShader:di.depth_vert,fragmentShader:di.depth_frag},normal:{uniforms:ts([rn.common,rn.bumpmap,rn.normalmap,rn.displacementmap,{opacity:{value:1}}]),vertexShader:di.meshnormal_vert,fragmentShader:di.meshnormal_frag},sprite:{uniforms:ts([rn.sprite,rn.fog]),vertexShader:di.sprite_vert,fragmentShader:di.sprite_frag},background:{uniforms:{uvTransform:{value:new ri},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:di.background_vert,fragmentShader:di.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new ri}},vertexShader:di.backgroundCube_vert,fragmentShader:di.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:di.cube_vert,fragmentShader:di.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:di.equirect_vert,fragmentShader:di.equirect_frag},distanceRGBA:{uniforms:ts([rn.common,rn.displacementmap,{referencePosition:{value:new ye},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:di.distanceRGBA_vert,fragmentShader:di.distanceRGBA_frag},shadow:{uniforms:ts([rn.lights,rn.fog,{color:{value:new on(0)},opacity:{value:1}}]),vertexShader:di.shadow_vert,fragmentShader:di.shadow_frag}};Pc.physical={uniforms:ts([Pc.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new ri},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new ri},clearcoatNormalScale:{value:new At(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new ri},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new ri},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new ri},sheen:{value:0},sheenColor:{value:new on(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new ri},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new ri},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new ri},transmissionSamplerSize:{value:new At},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new ri},attenuationDistance:{value:0},attenuationColor:{value:new on(0)},specularColor:{value:new on(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new ri},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new ri},anisotropyVector:{value:new At},anisotropyMap:{value:null},anisotropyMapTransform:{value:new ri}}]),vertexShader:di.meshphysical_vert,fragmentShader:di.meshphysical_frag};const Kx={r:0,b:0,g:0},Dp=new zs,hle=new kn;function ple(n,e,t,r,a,o,l){const s=new on(0);let f=o===!0?0:1,h,v,_=null,x=0,C=null;function c(A){let R=A.isScene===!0?A.background:null;return R&&R.isTexture&&(R=(A.backgroundBlurriness>0?t:e).get(R)),R}function p(A){let R=!1;const O=c(A);O===null?b(s,f):O&&O.isColor&&(b(O,1),R=!0);const P=n.xr.getEnvironmentBlendMode();P==="additive"?r.buffers.color.setClear(0,0,0,1,l):P==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,l),(n.autoClear||R)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function m(A,R){const O=c(R);O&&(O.isCubeTexture||O.mapping===y0)?(v===void 0&&(v=new ln(new Rs(1,1,1),new Vc({name:"BackgroundCubeMaterial",uniforms:n0(Pc.backgroundCube.uniforms),vertexShader:Pc.backgroundCube.vertexShader,fragmentShader:Pc.backgroundCube.fragmentShader,side:os,depthTest:!1,depthWrite:!1,fog:!1})),v.geometry.deleteAttribute("normal"),v.geometry.deleteAttribute("uv"),v.onBeforeRender=function(P,D,F){this.matrixWorld.copyPosition(F.matrixWorld)},Object.defineProperty(v.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),a.update(v)),Dp.copy(R.backgroundRotation),Dp.x*=-1,Dp.y*=-1,Dp.z*=-1,O.isCubeTexture&&O.isRenderTargetTexture===!1&&(Dp.y*=-1,Dp.z*=-1),v.material.uniforms.envMap.value=O,v.material.uniforms.flipEnvMap.value=O.isCubeTexture&&O.isRenderTargetTexture===!1?-1:1,v.material.uniforms.backgroundBlurriness.value=R.backgroundBlurriness,v.material.uniforms.backgroundIntensity.value=R.backgroundIntensity,v.material.uniforms.backgroundRotation.value.setFromMatrix4(hle.makeRotationFromEuler(Dp)),v.material.toneMapped=Di.getTransfer(O.colorSpace)!==lr,(_!==O||x!==O.version||C!==n.toneMapping)&&(v.material.needsUpdate=!0,_=O,x=O.version,C=n.toneMapping),v.layers.enableAll(),A.unshift(v,v.geometry,v.material,0,0,null)):O&&O.isTexture&&(h===void 0&&(h=new ln(new tl(2,2),new Vc({name:"BackgroundMaterial",uniforms:n0(Pc.background.uniforms),vertexShader:Pc.background.vertexShader,fragmentShader:Pc.background.fragmentShader,side:dd,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.deleteAttribute("normal"),Object.defineProperty(h.material,"map",{get:function(){return this.uniforms.t2D.value}}),a.update(h)),h.material.uniforms.t2D.value=O,h.material.uniforms.backgroundIntensity.value=R.backgroundIntensity,h.material.toneMapped=Di.getTransfer(O.colorSpace)!==lr,O.matrixAutoUpdate===!0&&O.updateMatrix(),h.material.uniforms.uvTransform.value.copy(O.matrix),(_!==O||x!==O.version||C!==n.toneMapping)&&(h.material.needsUpdate=!0,_=O,x=O.version,C=n.toneMapping),h.layers.enableAll(),A.unshift(h,h.geometry,h.material,0,0,null))}function b(A,R){A.getRGB(Kx,$6(n)),r.buffers.color.setClear(Kx.r,Kx.g,Kx.b,R,l)}function w(){v!==void 0&&(v.geometry.dispose(),v.material.dispose(),v=void 0),h!==void 0&&(h.geometry.dispose(),h.material.dispose(),h=void 0)}return{getClearColor:function(){return s},setClearColor:function(A,R=1){s.set(A),f=R,b(s,f)},getClearAlpha:function(){return f},setClearAlpha:function(A){f=A,b(s,f)},render:p,addToRenderList:m,dispose:w}}function mle(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),r={},a=x(null);let o=a,l=!1;function s(U,V,Q,X,ee){let ae=!1;const Z=_(X,Q,V);o!==Z&&(o=Z,h(o.object)),ae=C(U,X,Q,ee),ae&&c(U,X,Q,ee),ee!==null&&e.update(ee,n.ELEMENT_ARRAY_BUFFER),(ae||l)&&(l=!1,R(U,V,Q,X),ee!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(ee).buffer))}function f(){return n.createVertexArray()}function h(U){return n.bindVertexArray(U)}function v(U){return n.deleteVertexArray(U)}function _(U,V,Q){const X=Q.wireframe===!0;let ee=r[U.id];ee===void 0&&(ee={},r[U.id]=ee);let ae=ee[V.id];ae===void 0&&(ae={},ee[V.id]=ae);let Z=ae[X];return Z===void 0&&(Z=x(f()),ae[X]=Z),Z}function x(U){const V=[],Q=[],X=[];for(let ee=0;ee<t;ee++)V[ee]=0,Q[ee]=0,X[ee]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:V,enabledAttributes:Q,attributeDivisors:X,object:U,attributes:{},index:null}}function C(U,V,Q,X){const ee=o.attributes,ae=V.attributes;let Z=0;const K=Q.getAttributes();for(const te in K)if(K[te].location>=0){const q=ee[te];let J=ae[te];if(J===void 0&&(te==="instanceMatrix"&&U.instanceMatrix&&(J=U.instanceMatrix),te==="instanceColor"&&U.instanceColor&&(J=U.instanceColor)),q===void 0||q.attribute!==J||J&&q.data!==J.data)return!0;Z++}return o.attributesNum!==Z||o.index!==X}function c(U,V,Q,X){const ee={},ae=V.attributes;let Z=0;const K=Q.getAttributes();for(const te in K)if(K[te].location>=0){let q=ae[te];q===void 0&&(te==="instanceMatrix"&&U.instanceMatrix&&(q=U.instanceMatrix),te==="instanceColor"&&U.instanceColor&&(q=U.instanceColor));const J={};J.attribute=q,q&&q.data&&(J.data=q.data),ee[te]=J,Z++}o.attributes=ee,o.attributesNum=Z,o.index=X}function p(){const U=o.newAttributes;for(let V=0,Q=U.length;V<Q;V++)U[V]=0}function m(U){b(U,0)}function b(U,V){const Q=o.newAttributes,X=o.enabledAttributes,ee=o.attributeDivisors;Q[U]=1,X[U]===0&&(n.enableVertexAttribArray(U),X[U]=1),ee[U]!==V&&(n.vertexAttribDivisor(U,V),ee[U]=V)}function w(){const U=o.newAttributes,V=o.enabledAttributes;for(let Q=0,X=V.length;Q<X;Q++)V[Q]!==U[Q]&&(n.disableVertexAttribArray(Q),V[Q]=0)}function A(U,V,Q,X,ee,ae,Z){Z===!0?n.vertexAttribIPointer(U,V,Q,ee,ae):n.vertexAttribPointer(U,V,Q,X,ee,ae)}function R(U,V,Q,X){p();const ee=X.attributes,ae=Q.getAttributes(),Z=V.defaultAttributeValues;for(const K in ae){const te=ae[K];if(te.location>=0){let ce=ee[K];if(ce===void 0&&(K==="instanceMatrix"&&U.instanceMatrix&&(ce=U.instanceMatrix),K==="instanceColor"&&U.instanceColor&&(ce=U.instanceColor)),ce!==void 0){const q=ce.normalized,J=ce.itemSize,he=e.get(ce);if(he===void 0)continue;const ue=he.buffer,j=he.type,pe=he.bytesPerElement,_e=j===n.INT||j===n.UNSIGNED_INT||ce.gpuType===dE;if(ce.isInterleavedBufferAttribute){const Re=ce.data,Me=Re.stride,Ae=ce.offset;if(Re.isInstancedInterleavedBuffer){for(let Ue=0;Ue<te.locationSize;Ue++)b(te.location+Ue,Re.meshPerAttribute);U.isInstancedMesh!==!0&&X._maxInstanceCount===void 0&&(X._maxInstanceCount=Re.meshPerAttribute*Re.count)}else for(let Ue=0;Ue<te.locationSize;Ue++)m(te.location+Ue);n.bindBuffer(n.ARRAY_BUFFER,ue);for(let Ue=0;Ue<te.locationSize;Ue++)A(te.location+Ue,J/te.locationSize,j,q,Me*pe,(Ae+J/te.locationSize*Ue)*pe,_e)}else{if(ce.isInstancedBufferAttribute){for(let Re=0;Re<te.locationSize;Re++)b(te.location+Re,ce.meshPerAttribute);U.isInstancedMesh!==!0&&X._maxInstanceCount===void 0&&(X._maxInstanceCount=ce.meshPerAttribute*ce.count)}else for(let Re=0;Re<te.locationSize;Re++)m(te.location+Re);n.bindBuffer(n.ARRAY_BUFFER,ue);for(let Re=0;Re<te.locationSize;Re++)A(te.location+Re,J/te.locationSize,j,q,J*pe,J/te.locationSize*Re*pe,_e)}}else if(Z!==void 0){const q=Z[K];if(q!==void 0)switch(q.length){case 2:n.vertexAttrib2fv(te.location,q);break;case 3:n.vertexAttrib3fv(te.location,q);break;case 4:n.vertexAttrib4fv(te.location,q);break;default:n.vertexAttrib1fv(te.location,q)}}}}w()}function O(){F();for(const U in r){const V=r[U];for(const Q in V){const X=V[Q];for(const ee in X)v(X[ee].object),delete X[ee];delete V[Q]}delete r[U]}}function P(U){if(r[U.id]===void 0)return;const V=r[U.id];for(const Q in V){const X=V[Q];for(const ee in X)v(X[ee].object),delete X[ee];delete V[Q]}delete r[U.id]}function D(U){for(const V in r){const Q=r[V];if(Q[U.id]===void 0)continue;const X=Q[U.id];for(const ee in X)v(X[ee].object),delete X[ee];delete Q[U.id]}}function F(){B(),l=!0,o!==a&&(o=a,h(o.object))}function B(){a.geometry=null,a.program=null,a.wireframe=!1}return{setup:s,reset:F,resetDefaultState:B,dispose:O,releaseStatesOfGeometry:P,releaseStatesOfProgram:D,initAttributes:p,enableAttribute:m,disableUnusedAttributes:w}}function gle(n,e,t){let r;function a(h){r=h}function o(h,v){n.drawArrays(r,h,v),t.update(v,r,1)}function l(h,v,_){_!==0&&(n.drawArraysInstanced(r,h,v,_),t.update(v,r,_))}function s(h,v,_){if(_===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,h,0,v,0,_);let C=0;for(let c=0;c<_;c++)C+=v[c];t.update(C,r,1)}function f(h,v,_,x){if(_===0)return;const C=e.get("WEBGL_multi_draw");if(C===null)for(let c=0;c<h.length;c++)l(h[c],v[c],x[c]);else{C.multiDrawArraysInstancedWEBGL(r,h,0,v,0,x,0,_);let c=0;for(let p=0;p<_;p++)c+=v[p]*x[p];t.update(c,r,1)}}this.setMode=a,this.render=o,this.renderInstances=l,this.renderMultiDraw=s,this.renderMultiDrawInstances=f}function vle(n,e,t,r){let a;function o(){if(a!==void 0)return a;if(e.has("EXT_texture_filter_anisotropic")===!0){const D=e.get("EXT_texture_filter_anisotropic");a=n.getParameter(D.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else a=0;return a}function l(D){return!(D!==zo&&r.convert(D)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function s(D){const F=D===b0&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(D!==$c&&r.convert(D)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&D!==Is&&!F)}function f(D){if(D==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";D="mediump"}return D==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let h=t.precision!==void 0?t.precision:"highp";const v=f(h);v!==h&&(console.warn("THREE.WebGLRenderer:",h,"not supported, using",v,"instead."),h=v);const _=t.logarithmicDepthBuffer===!0,x=t.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),C=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),c=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),p=n.getParameter(n.MAX_TEXTURE_SIZE),m=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),b=n.getParameter(n.MAX_VERTEX_ATTRIBS),w=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),A=n.getParameter(n.MAX_VARYING_VECTORS),R=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),O=c>0,P=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:o,getMaxPrecision:f,textureFormatReadable:l,textureTypeReadable:s,precision:h,logarithmicDepthBuffer:_,reverseDepthBuffer:x,maxTextures:C,maxVertexTextures:c,maxTextureSize:p,maxCubemapSize:m,maxAttributes:b,maxVertexUniforms:w,maxVaryings:A,maxFragmentUniforms:R,vertexTextures:O,maxSamples:P}}function yle(n){const e=this;let t=null,r=0,a=!1,o=!1;const l=new Kf,s=new ri,f={value:null,needsUpdate:!1};this.uniform=f,this.numPlanes=0,this.numIntersection=0,this.init=function(_,x){const C=_.length!==0||x||r!==0||a;return a=x,r=_.length,C},this.beginShadows=function(){o=!0,v(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(_,x){t=v(_,x,0)},this.setState=function(_,x,C){const c=_.clippingPlanes,p=_.clipIntersection,m=_.clipShadows,b=n.get(_);if(!a||c===null||c.length===0||o&&!m)o?v(null):h();else{const w=o?0:r,A=w*4;let R=b.clippingState||null;f.value=R,R=v(c,x,A,C);for(let O=0;O!==A;++O)R[O]=t[O];b.clippingState=R,this.numIntersection=p?this.numPlanes:0,this.numPlanes+=w}};function h(){f.value!==t&&(f.value=t,f.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function v(_,x,C,c){const p=_!==null?_.length:0;let m=null;if(p!==0){if(m=f.value,c!==!0||m===null){const b=C+p*4,w=x.matrixWorldInverse;s.getNormalMatrix(w),(m===null||m.length<b)&&(m=new Float32Array(b));for(let A=0,R=C;A!==p;++A,R+=4)l.copy(_[A]).applyMatrix4(w,s),l.normal.toArray(m,R),m[R+3]=l.constant}f.value=m,f.needsUpdate=!0}return e.numPlanes=p,e.numIntersection=0,m}}function ble(n){let e=new WeakMap;function t(l,s){return s===kb?l.mapping=hd:s===$b&&(l.mapping=Uh),l}function r(l){if(l&&l.isTexture){const s=l.mapping;if(s===kb||s===$b)if(e.has(l)){const f=e.get(l).texture;return t(f,l.mapping)}else{const f=l.image;if(f&&f.height>0){const h=new j6(f.height);return h.fromEquirectangularTexture(n,l),e.set(l,h),l.addEventListener("dispose",a),t(h.texture,l.mapping)}else return null}}return l}function a(l){const s=l.target;s.removeEventListener("dispose",a);const f=e.get(s);f!==void 0&&(e.delete(s),f.dispose())}function o(){e=new WeakMap}return{get:r,dispose:o}}const Av=4,cL=[.125,.215,.35,.446,.526,.582],Jp=20,eA=new Oh,uL=new on;let tA=null,nA=0,iA=0,rA=!1;const kp=(1+Math.sqrt(5))/2,Yg=1/kp,fL=[new ye(-kp,Yg,0),new ye(kp,Yg,0),new ye(-Yg,0,kp),new ye(Yg,0,kp),new ye(0,kp,-Yg),new ye(0,kp,Yg),new ye(-1,1,-1),new ye(1,1,-1),new ye(-1,1,1),new ye(1,1,1)],_le=new ye;class rR{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,a=100,o={}){const{size:l=256,position:s=_le}=o;tA=this._renderer.getRenderTarget(),nA=this._renderer.getActiveCubeFace(),iA=this._renderer.getActiveMipmapLevel(),rA=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(l);const f=this._allocateTargets();return f.depthBuffer=!0,this._sceneToCubeUV(e,r,a,f,s),t>0&&this._blur(f,0,0,t),this._applyPMREM(f),this._cleanup(f),f}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=pL(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=hL(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(tA,nA,iA),this._renderer.xr.enabled=rA,e.scissorTest=!1,Qx(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===hd||e.mapping===Uh?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),tA=this._renderer.getRenderTarget(),nA=this._renderer.getActiveCubeFace(),iA=this._renderer.getActiveMipmapLevel(),rA=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:za,minFilter:za,generateMipmaps:!1,type:b0,format:zo,colorSpace:Bh,depthBuffer:!1},a=dL(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=dL(e,t,r);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Sle(o)),this._blurMaterial=xle(o,e,t)}return a}_compileMaterial(e){const t=new ln(this._lodPlanes[0],e);this._renderer.compile(t,eA)}_sceneToCubeUV(e,t,r,a,o){const f=new pa(90,1,t,r),h=[1,-1,1,1,1,1],v=[1,1,1,-1,-1,-1],_=this._renderer,x=_.autoClear,C=_.toneMapping;_.getClearColor(uL),_.toneMapping=Wu,_.autoClear=!1;const c=new af({name:"PMREM.Background",side:os,depthWrite:!1,depthTest:!1}),p=new ln(new Rs,c);let m=!1;const b=e.background;b?b.isColor&&(c.color.copy(b),e.background=null,m=!0):(c.color.copy(uL),m=!0);for(let w=0;w<6;w++){const A=w%3;A===0?(f.up.set(0,h[w],0),f.position.set(o.x,o.y,o.z),f.lookAt(o.x+v[w],o.y,o.z)):A===1?(f.up.set(0,0,h[w]),f.position.set(o.x,o.y,o.z),f.lookAt(o.x,o.y+v[w],o.z)):(f.up.set(0,h[w],0),f.position.set(o.x,o.y,o.z),f.lookAt(o.x,o.y,o.z+v[w]));const R=this._cubeSize;Qx(a,A*R,w>2?R:0,R,R),_.setRenderTarget(a),m&&_.render(p,f),_.render(e,f)}p.geometry.dispose(),p.material.dispose(),_.toneMapping=C,_.autoClear=x,e.background=b}_textureToCubeUV(e,t){const r=this._renderer,a=e.mapping===hd||e.mapping===Uh;a?(this._cubemapMaterial===null&&(this._cubemapMaterial=pL()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=hL());const o=a?this._cubemapMaterial:this._equirectMaterial,l=new ln(this._lodPlanes[0],o),s=o.uniforms;s.envMap.value=e;const f=this._cubeSize;Qx(t,0,0,3*f,2*f),r.setRenderTarget(t),r.render(l,eA)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;const a=this._lodPlanes.length;for(let o=1;o<a;o++){const l=Math.sqrt(this._sigmas[o]*this._sigmas[o]-this._sigmas[o-1]*this._sigmas[o-1]),s=fL[(a-o-1)%fL.length];this._blur(e,o-1,o,l,s)}t.autoClear=r}_blur(e,t,r,a,o){const l=this._pingPongRenderTarget;this._halfBlur(e,l,t,r,a,"latitudinal",o),this._halfBlur(l,e,r,r,a,"longitudinal",o)}_halfBlur(e,t,r,a,o,l,s){const f=this._renderer,h=this._blurMaterial;l!=="latitudinal"&&l!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const v=3,_=new ln(this._lodPlanes[a],h),x=h.uniforms,C=this._sizeLods[r]-1,c=isFinite(o)?Math.PI/(2*C):2*Math.PI/(2*Jp-1),p=o/c,m=isFinite(o)?1+Math.floor(v*p):Jp;m>Jp&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${m} samples when the maximum is set to ${Jp}`);const b=[];let w=0;for(let D=0;D<Jp;++D){const F=D/p,B=Math.exp(-F*F/2);b.push(B),D===0?w+=B:D<m&&(w+=2*B)}for(let D=0;D<b.length;D++)b[D]=b[D]/w;x.envMap.value=e.texture,x.samples.value=m,x.weights.value=b,x.latitudinal.value=l==="latitudinal",s&&(x.poleAxis.value=s);const{_lodMax:A}=this;x.dTheta.value=c,x.mipInt.value=A-r;const R=this._sizeLods[a],O=3*R*(a>A-Av?a-A+Av:0),P=4*(this._cubeSize-R);Qx(t,O,P,3*R,2*R),f.setRenderTarget(t),f.render(_,eA)}}function Sle(n){const e=[],t=[],r=[];let a=n;const o=n-Av+1+cL.length;for(let l=0;l<o;l++){const s=Math.pow(2,a);t.push(s);let f=1/s;l>n-Av?f=cL[l-n+Av-1]:l===0&&(f=0),r.push(f);const h=1/(s-2),v=-h,_=1+h,x=[v,v,_,v,_,_,v,v,_,_,v,_],C=6,c=6,p=3,m=2,b=1,w=new Float32Array(p*c*C),A=new Float32Array(m*c*C),R=new Float32Array(b*c*C);for(let P=0;P<C;P++){const D=P%3*2/3-1,F=P>2?0:-1,B=[D,F,0,D+2/3,F,0,D+2/3,F+1,0,D,F,0,D+2/3,F+1,0,D,F+1,0];w.set(B,p*c*P),A.set(x,m*c*P);const U=[P,P,P,P,P,P];R.set(U,b*c*P)}const O=new Jn;O.setAttribute("position",new mr(w,p)),O.setAttribute("uv",new mr(A,m)),O.setAttribute("faceIndex",new mr(R,b)),e.push(O),a>Av&&a--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function dL(n,e,t){const r=new Qu(n,e,t);return r.texture.mapping=y0,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Qx(n,e,t,r,a){n.viewport.set(e,t,r,a),n.scissor.set(e,t,r,a)}function xle(n,e,t){const r=new Float32Array(Jp),a=new ye(0,1,0);return new Vc({name:"SphericalGaussianBlur",defines:{n:Jp,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:a}},vertexShader:dI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:ld,depthTest:!1,depthWrite:!1})}function hL(){return new Vc({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:dI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:ld,depthTest:!1,depthWrite:!1})}function pL(){return new Vc({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:dI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:ld,depthTest:!1,depthWrite:!1})}function dI(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function wle(n){let e=new WeakMap,t=null;function r(s){if(s&&s.isTexture){const f=s.mapping,h=f===kb||f===$b,v=f===hd||f===Uh;if(h||v){let _=e.get(s);const x=_!==void 0?_.texture.pmremVersion:0;if(s.isRenderTargetTexture&&s.pmremVersion!==x)return t===null&&(t=new rR(n)),_=h?t.fromEquirectangular(s,_):t.fromCubemap(s,_),_.texture.pmremVersion=s.pmremVersion,e.set(s,_),_.texture;if(_!==void 0)return _.texture;{const C=s.image;return h&&C&&C.height>0||v&&C&&a(C)?(t===null&&(t=new rR(n)),_=h?t.fromEquirectangular(s):t.fromCubemap(s),_.texture.pmremVersion=s.pmremVersion,e.set(s,_),s.addEventListener("dispose",o),_.texture):null}}}return s}function a(s){let f=0;const h=6;for(let v=0;v<h;v++)s[v]!==void 0&&f++;return f===h}function o(s){const f=s.target;f.removeEventListener("dispose",o);const h=e.get(f);h!==void 0&&(e.delete(f),h.dispose())}function l(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:l}}function Cle(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let a;switch(r){case"WEBGL_depth_texture":a=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":a=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":a=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":a=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:a=n.getExtension(r)}return e[r]=a,a}return{has:function(r){return t(r)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(r){const a=t(r);return a===null&&Hp("THREE.WebGLRenderer: "+r+" extension not supported."),a}}}function Ele(n,e,t,r){const a={},o=new WeakMap;function l(_){const x=_.target;x.index!==null&&e.remove(x.index);for(const c in x.attributes)e.remove(x.attributes[c]);x.removeEventListener("dispose",l),delete a[x.id];const C=o.get(x);C&&(e.remove(C),o.delete(x)),r.releaseStatesOfGeometry(x),x.isInstancedBufferGeometry===!0&&delete x._maxInstanceCount,t.memory.geometries--}function s(_,x){return a[x.id]===!0||(x.addEventListener("dispose",l),a[x.id]=!0,t.memory.geometries++),x}function f(_){const x=_.attributes;for(const C in x)e.update(x[C],n.ARRAY_BUFFER)}function h(_){const x=[],C=_.index,c=_.attributes.position;let p=0;if(C!==null){const w=C.array;p=C.version;for(let A=0,R=w.length;A<R;A+=3){const O=w[A+0],P=w[A+1],D=w[A+2];x.push(O,P,P,D,D,O)}}else if(c!==void 0){const w=c.array;p=c.version;for(let A=0,R=w.length/3-1;A<R;A+=3){const O=A+0,P=A+1,D=A+2;x.push(O,P,P,D,D,O)}}else return;const m=new(B6(x)?FO:BO)(x,1);m.version=p;const b=o.get(_);b&&e.remove(b),o.set(_,m)}function v(_){const x=o.get(_);if(x){const C=_.index;C!==null&&x.version<C.version&&h(_)}else h(_);return o.get(_)}return{get:s,update:f,getWireframeAttribute:v}}function Mle(n,e,t){let r;function a(x){r=x}let o,l;function s(x){o=x.type,l=x.bytesPerElement}function f(x,C){n.drawElements(r,C,o,x*l),t.update(C,r,1)}function h(x,C,c){c!==0&&(n.drawElementsInstanced(r,C,o,x*l,c),t.update(C,r,c))}function v(x,C,c){if(c===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,C,0,o,x,0,c);let m=0;for(let b=0;b<c;b++)m+=C[b];t.update(m,r,1)}function _(x,C,c,p){if(c===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let b=0;b<x.length;b++)h(x[b]/l,C[b],p[b]);else{m.multiDrawElementsInstancedWEBGL(r,C,0,o,x,0,p,0,c);let b=0;for(let w=0;w<c;w++)b+=C[w]*p[w];t.update(b,r,1)}}this.setMode=a,this.setIndex=s,this.render=f,this.renderInstances=h,this.renderMultiDraw=v,this.renderMultiDrawInstances=_}function Tle(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(o,l,s){switch(t.calls++,l){case n.TRIANGLES:t.triangles+=s*(o/3);break;case n.LINES:t.lines+=s*(o/2);break;case n.LINE_STRIP:t.lines+=s*(o-1);break;case n.LINE_LOOP:t.lines+=s*o;break;case n.POINTS:t.points+=s*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",l);break}}function a(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:a,update:r}}function Ale(n,e,t){const r=new WeakMap,a=new $i;function o(l,s,f){const h=l.morphTargetInfluences,v=s.morphAttributes.position||s.morphAttributes.normal||s.morphAttributes.color,_=v!==void 0?v.length:0;let x=r.get(s);if(x===void 0||x.count!==_){let U=function(){F.dispose(),r.delete(s),s.removeEventListener("dispose",U)};var C=U;x!==void 0&&x.texture.dispose();const c=s.morphAttributes.position!==void 0,p=s.morphAttributes.normal!==void 0,m=s.morphAttributes.color!==void 0,b=s.morphAttributes.position||[],w=s.morphAttributes.normal||[],A=s.morphAttributes.color||[];let R=0;c===!0&&(R=1),p===!0&&(R=2),m===!0&&(R=3);let O=s.attributes.position.count*R,P=1;O>e.maxTextureSize&&(P=Math.ceil(O/e.maxTextureSize),O=e.maxTextureSize);const D=new Float32Array(O*P*4*_),F=new T_(D,O,P,_);F.type=Is,F.needsUpdate=!0;const B=R*4;for(let V=0;V<_;V++){const Q=b[V],X=w[V],ee=A[V],ae=O*P*4*V;for(let Z=0;Z<Q.count;Z++){const K=Z*B;c===!0&&(a.fromBufferAttribute(Q,Z),D[ae+K+0]=a.x,D[ae+K+1]=a.y,D[ae+K+2]=a.z,D[ae+K+3]=0),p===!0&&(a.fromBufferAttribute(X,Z),D[ae+K+4]=a.x,D[ae+K+5]=a.y,D[ae+K+6]=a.z,D[ae+K+7]=0),m===!0&&(a.fromBufferAttribute(ee,Z),D[ae+K+8]=a.x,D[ae+K+9]=a.y,D[ae+K+10]=a.z,D[ae+K+11]=ee.itemSize===4?a.w:1)}}x={count:_,texture:F,size:new At(O,P)},r.set(s,x),s.addEventListener("dispose",U)}if(l.isInstancedMesh===!0&&l.morphTexture!==null)f.getUniforms().setValue(n,"morphTexture",l.morphTexture,t);else{let c=0;for(let m=0;m<h.length;m++)c+=h[m];const p=s.morphTargetsRelative?1:1-c;f.getUniforms().setValue(n,"morphTargetBaseInfluence",p),f.getUniforms().setValue(n,"morphTargetInfluences",h)}f.getUniforms().setValue(n,"morphTargetsTexture",x.texture,t),f.getUniforms().setValue(n,"morphTargetsTextureSize",x.size)}return{update:o}}function Rle(n,e,t,r){let a=new WeakMap;function o(f){const h=r.render.frame,v=f.geometry,_=e.get(f,v);if(a.get(_)!==h&&(e.update(_),a.set(_,h)),f.isInstancedMesh&&(f.hasEventListener("dispose",s)===!1&&f.addEventListener("dispose",s),a.get(f)!==h&&(t.update(f.instanceMatrix,n.ARRAY_BUFFER),f.instanceColor!==null&&t.update(f.instanceColor,n.ARRAY_BUFFER),a.set(f,h))),f.isSkinnedMesh){const x=f.skeleton;a.get(x)!==h&&(x.update(),a.set(x,h))}return _}function l(){a=new WeakMap}function s(f){const h=f.target;h.removeEventListener("dispose",s),t.remove(h.instanceMatrix),h.instanceColor!==null&&t.remove(h.instanceColor)}return{update:o,dispose:l}}const $8=new sa,mL=new GO(1,1),V8=new T_,G8=new _E,j8=new A_,gL=[],vL=[],yL=new Float32Array(16),bL=new Float32Array(9),_L=new Float32Array(4);function S0(n,e,t){const r=n[0];if(r<=0||r>0)return n;const a=e*t;let o=gL[a];if(o===void 0&&(o=new Float32Array(a),gL[a]=o),e!==0){r.toArray(o,0);for(let l=1,s=0;l!==e;++l)s+=t,n[l].toArray(o,s)}return o}function Da(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function La(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function kE(n,e){let t=vL[e];t===void 0&&(t=new Int32Array(e),vL[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function Ole(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function Ile(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Da(t,e))return;n.uniform2fv(this.addr,e),La(t,e)}}function zle(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Da(t,e))return;n.uniform3fv(this.addr,e),La(t,e)}}function Ple(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Da(t,e))return;n.uniform4fv(this.addr,e),La(t,e)}}function Dle(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Da(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),La(t,e)}else{if(Da(t,r))return;_L.set(r),n.uniformMatrix2fv(this.addr,!1,_L),La(t,r)}}function Lle(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Da(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),La(t,e)}else{if(Da(t,r))return;bL.set(r),n.uniformMatrix3fv(this.addr,!1,bL),La(t,r)}}function Nle(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Da(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),La(t,e)}else{if(Da(t,r))return;yL.set(r),n.uniformMatrix4fv(this.addr,!1,yL),La(t,r)}}function Ule(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function Ble(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Da(t,e))return;n.uniform2iv(this.addr,e),La(t,e)}}function Fle(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Da(t,e))return;n.uniform3iv(this.addr,e),La(t,e)}}function Hle(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Da(t,e))return;n.uniform4iv(this.addr,e),La(t,e)}}function kle(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function $le(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Da(t,e))return;n.uniform2uiv(this.addr,e),La(t,e)}}function Vle(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Da(t,e))return;n.uniform3uiv(this.addr,e),La(t,e)}}function Gle(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Da(t,e))return;n.uniform4uiv(this.addr,e),La(t,e)}}function jle(n,e,t){const r=this.cache,a=t.allocateTextureUnit();r[0]!==a&&(n.uniform1i(this.addr,a),r[0]=a);let o;this.type===n.SAMPLER_2D_SHADOW?(mL.compareFunction=NO,o=mL):o=$8,t.setTexture2D(e||o,a)}function Wle(n,e,t){const r=this.cache,a=t.allocateTextureUnit();r[0]!==a&&(n.uniform1i(this.addr,a),r[0]=a),t.setTexture3D(e||G8,a)}function Xle(n,e,t){const r=this.cache,a=t.allocateTextureUnit();r[0]!==a&&(n.uniform1i(this.addr,a),r[0]=a),t.setTextureCube(e||j8,a)}function Yle(n,e,t){const r=this.cache,a=t.allocateTextureUnit();r[0]!==a&&(n.uniform1i(this.addr,a),r[0]=a),t.setTexture2DArray(e||V8,a)}function qle(n){switch(n){case 5126:return Ole;case 35664:return Ile;case 35665:return zle;case 35666:return Ple;case 35674:return Dle;case 35675:return Lle;case 35676:return Nle;case 5124:case 35670:return Ule;case 35667:case 35671:return Ble;case 35668:case 35672:return Fle;case 35669:case 35673:return Hle;case 5125:return kle;case 36294:return $le;case 36295:return Vle;case 36296:return Gle;case 35678:case 36198:case 36298:case 36306:case 35682:return jle;case 35679:case 36299:case 36307:return Wle;case 35680:case 36300:case 36308:case 36293:return Xle;case 36289:case 36303:case 36311:case 36292:return Yle}}function Zle(n,e){n.uniform1fv(this.addr,e)}function Kle(n,e){const t=S0(e,this.size,2);n.uniform2fv(this.addr,t)}function Qle(n,e){const t=S0(e,this.size,3);n.uniform3fv(this.addr,t)}function Jle(n,e){const t=S0(e,this.size,4);n.uniform4fv(this.addr,t)}function ece(n,e){const t=S0(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function tce(n,e){const t=S0(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function nce(n,e){const t=S0(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function ice(n,e){n.uniform1iv(this.addr,e)}function rce(n,e){n.uniform2iv(this.addr,e)}function ace(n,e){n.uniform3iv(this.addr,e)}function oce(n,e){n.uniform4iv(this.addr,e)}function sce(n,e){n.uniform1uiv(this.addr,e)}function lce(n,e){n.uniform2uiv(this.addr,e)}function cce(n,e){n.uniform3uiv(this.addr,e)}function uce(n,e){n.uniform4uiv(this.addr,e)}function fce(n,e,t){const r=this.cache,a=e.length,o=kE(t,a);Da(r,o)||(n.uniform1iv(this.addr,o),La(r,o));for(let l=0;l!==a;++l)t.setTexture2D(e[l]||$8,o[l])}function dce(n,e,t){const r=this.cache,a=e.length,o=kE(t,a);Da(r,o)||(n.uniform1iv(this.addr,o),La(r,o));for(let l=0;l!==a;++l)t.setTexture3D(e[l]||G8,o[l])}function hce(n,e,t){const r=this.cache,a=e.length,o=kE(t,a);Da(r,o)||(n.uniform1iv(this.addr,o),La(r,o));for(let l=0;l!==a;++l)t.setTextureCube(e[l]||j8,o[l])}function pce(n,e,t){const r=this.cache,a=e.length,o=kE(t,a);Da(r,o)||(n.uniform1iv(this.addr,o),La(r,o));for(let l=0;l!==a;++l)t.setTexture2DArray(e[l]||V8,o[l])}function mce(n){switch(n){case 5126:return Zle;case 35664:return Kle;case 35665:return Qle;case 35666:return Jle;case 35674:return ece;case 35675:return tce;case 35676:return nce;case 5124:case 35670:return ice;case 35667:case 35671:return rce;case 35668:case 35672:return ace;case 35669:case 35673:return oce;case 5125:return sce;case 36294:return lce;case 36295:return cce;case 36296:return uce;case 35678:case 36198:case 36298:case 36306:case 35682:return fce;case 35679:case 36299:case 36307:return dce;case 35680:case 36300:case 36308:case 36293:return hce;case 36289:case 36303:case 36311:case 36292:return pce}}class gce{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.setValue=qle(t.type)}}class vce{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=mce(t.type)}}class yce{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const a=this.seq;for(let o=0,l=a.length;o!==l;++o){const s=a[o];s.setValue(e,t[s.id],r)}}}const aA=/(\w+)(\])?(\[|\.)?/g;function SL(n,e){n.seq.push(e),n.map[e.id]=e}function bce(n,e,t){const r=n.name,a=r.length;for(aA.lastIndex=0;;){const o=aA.exec(r),l=aA.lastIndex;let s=o[1];const f=o[2]==="]",h=o[3];if(f&&(s=s|0),h===void 0||h==="["&&l+2===a){SL(t,h===void 0?new gce(s,n,e):new vce(s,n,e));break}else{let _=t.map[s];_===void 0&&(_=new yce(s),SL(t,_)),t=_}}}class M1{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let a=0;a<r;++a){const o=e.getActiveUniform(t,a),l=e.getUniformLocation(t,o.name);bce(o,l,this)}}setValue(e,t,r,a){const o=this.map[t];o!==void 0&&o.setValue(e,r,a)}setOptional(e,t,r){const a=t[r];a!==void 0&&this.setValue(e,r,a)}static upload(e,t,r,a){for(let o=0,l=t.length;o!==l;++o){const s=t[o],f=r[s.id];f.needsUpdate!==!1&&s.setValue(e,f.value,a)}}static seqWithValue(e,t){const r=[];for(let a=0,o=e.length;a!==o;++a){const l=e[a];l.id in t&&r.push(l)}return r}}function xL(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}const _ce=37297;let Sce=0;function xce(n,e){const t=n.split(`
`),r=[],a=Math.max(e-6,0),o=Math.min(e+6,t.length);for(let l=a;l<o;l++){const s=l+1;r.push(`${s===e?">":" "} ${s}: ${t[l]}`)}return r.join(`
`)}const wL=new ri;function wce(n){Di._getMatrix(wL,Di.workingColorSpace,n);const e=`mat3( ${wL.elements.map(t=>t.toFixed(4))} )`;switch(Di.getTransfer(n)){case Xb:return[e,"LinearTransferOETF"];case lr:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function CL(n,e,t){const r=n.getShaderParameter(e,n.COMPILE_STATUS),a=n.getShaderInfoLog(e).trim();if(r&&a==="")return"";const o=/ERROR: 0:(\d+)/.exec(a);if(o){const l=parseInt(o[1]);return t.toUpperCase()+`

`+a+`

`+xce(n.getShaderSource(e),l)}else return a}function Cce(n,e){const t=wce(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function Ece(n,e){let t;switch(e){case y6:t="Linear";break;case b6:t="Reinhard";break;case _6:t="Cineon";break;case CO:t="ACESFilmic";break;case x6:t="AgX";break;case w6:t="Neutral";break;case S6:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const Jx=new ye;function Mce(){Di.getLuminanceCoefficients(Jx);const n=Jx.x.toFixed(4),e=Jx.y.toFixed(4),t=Jx.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Tce(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Xy).join(`
`)}function Ace(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function Rce(n,e){const t={},r=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let a=0;a<r;a++){const o=n.getActiveAttrib(e,a),l=o.name;let s=1;o.type===n.FLOAT_MAT2&&(s=2),o.type===n.FLOAT_MAT3&&(s=3),o.type===n.FLOAT_MAT4&&(s=4),t[l]={type:o.type,location:n.getAttribLocation(e,l),locationSize:s}}return t}function Xy(n){return n!==""}function EL(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function ML(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Oce=/^[ \t]*#include +<([\w\d./]+)>/gm;function aR(n){return n.replace(Oce,zce)}const Ice=new Map;function zce(n,e){let t=di[e];if(t===void 0){const r=Ice.get(e);if(r!==void 0)t=di[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return aR(t)}const Pce=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function TL(n){return n.replace(Pce,Dce)}function Dce(n,e,t,r){let a="";for(let o=parseInt(e);o<parseInt(t);o++)a+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return a}function AL(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Lce(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===uE?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===db?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Rc&&(e="SHADOWMAP_TYPE_VSM"),e}function Nce(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case hd:case Uh:e="ENVMAP_TYPE_CUBE";break;case y0:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Uce(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Uh:e="ENVMAP_MODE_REFRACTION";break}return e}function Bce(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case E_:e="ENVMAP_BLENDING_MULTIPLY";break;case g6:e="ENVMAP_BLENDING_MIX";break;case v6:e="ENVMAP_BLENDING_ADD";break}return e}function Fce(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function Hce(n,e,t,r){const a=n.getContext(),o=t.defines;let l=t.vertexShader,s=t.fragmentShader;const f=Lce(t),h=Nce(t),v=Uce(t),_=Bce(t),x=Fce(t),C=Tce(t),c=Ace(o),p=a.createProgram();let m,b,w=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(m=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,c].filter(Xy).join(`
`),m.length>0&&(m+=`
`),b=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,c].filter(Xy).join(`
`),b.length>0&&(b+=`
`)):(m=[AL(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,c,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+v:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+f:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Xy).join(`
`),b=[AL(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,c,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+h:"",t.envMap?"#define "+v:"",t.envMap?"#define "+_:"",x?"#define CUBEUV_TEXEL_WIDTH "+x.texelWidth:"",x?"#define CUBEUV_TEXEL_HEIGHT "+x.texelHeight:"",x?"#define CUBEUV_MAX_MIP "+x.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+f:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Wu?"#define TONE_MAPPING":"",t.toneMapping!==Wu?di.tonemapping_pars_fragment:"",t.toneMapping!==Wu?Ece("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",di.colorspace_pars_fragment,Cce("linearToOutputTexel",t.outputColorSpace),Mce(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Xy).join(`
`)),l=aR(l),l=EL(l,t),l=ML(l,t),s=aR(s),s=EL(s,t),s=ML(s,t),l=TL(l),s=TL(s),t.isRawShaderMaterial!==!0&&(w=`#version 300 es
`,m=[C,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+m,b=["#define varying in",t.glslVersion===q2?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===q2?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+b);const A=w+m+l,R=w+b+s,O=xL(a,a.VERTEX_SHADER,A),P=xL(a,a.FRAGMENT_SHADER,R);a.attachShader(p,O),a.attachShader(p,P),t.index0AttributeName!==void 0?a.bindAttribLocation(p,0,t.index0AttributeName):t.morphTargets===!0&&a.bindAttribLocation(p,0,"position"),a.linkProgram(p);function D(V){if(n.debug.checkShaderErrors){const Q=a.getProgramInfoLog(p).trim(),X=a.getShaderInfoLog(O).trim(),ee=a.getShaderInfoLog(P).trim();let ae=!0,Z=!0;if(a.getProgramParameter(p,a.LINK_STATUS)===!1)if(ae=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(a,p,O,P);else{const K=CL(a,O,"vertex"),te=CL(a,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+a.getError()+" - VALIDATE_STATUS "+a.getProgramParameter(p,a.VALIDATE_STATUS)+`

Material Name: `+V.name+`
Material Type: `+V.type+`

Program Info Log: `+Q+`
`+K+`
`+te)}else Q!==""?console.warn("THREE.WebGLProgram: Program Info Log:",Q):(X===""||ee==="")&&(Z=!1);Z&&(V.diagnostics={runnable:ae,programLog:Q,vertexShader:{log:X,prefix:m},fragmentShader:{log:ee,prefix:b}})}a.deleteShader(O),a.deleteShader(P),F=new M1(a,p),B=Rce(a,p)}let F;this.getUniforms=function(){return F===void 0&&D(this),F};let B;this.getAttributes=function(){return B===void 0&&D(this),B};let U=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return U===!1&&(U=a.getProgramParameter(p,_ce)),U},this.destroy=function(){r.releaseStatesOfProgram(this),a.deleteProgram(p),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=Sce++,this.cacheKey=e,this.usedTimes=1,this.program=p,this.vertexShader=O,this.fragmentShader=P,this}let kce=0;class $ce{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,a=this._getShaderStage(t),o=this._getShaderStage(r),l=this._getShaderCacheForMaterial(e);return l.has(a)===!1&&(l.add(a),a.usedTimes++),l.has(o)===!1&&(l.add(o),o.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new Vce(e),t.set(e,r)),r}}class Vce{constructor(e){this.id=kce++,this.code=e,this.usedTimes=0}}function Gce(n,e,t,r,a,o,l){const s=new t0,f=new $ce,h=new Set,v=[],_=a.logarithmicDepthBuffer,x=a.vertexTextures;let C=a.precision;const c={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function p(B){return h.add(B),B===0?"uv":`uv${B}`}function m(B,U,V,Q,X){const ee=Q.fog,ae=X.geometry,Z=B.isMeshStandardMaterial?Q.environment:null,K=(B.isMeshStandardMaterial?t:e).get(B.envMap||Z),te=K&&K.mapping===y0?K.image.height:null,ce=c[B.type];B.precision!==null&&(C=a.getMaxPrecision(B.precision),C!==B.precision&&console.warn("THREE.WebGLProgram.getParameters:",B.precision,"not supported, using",C,"instead."));const q=ae.morphAttributes.position||ae.morphAttributes.normal||ae.morphAttributes.color,J=q!==void 0?q.length:0;let he=0;ae.morphAttributes.position!==void 0&&(he=1),ae.morphAttributes.normal!==void 0&&(he=2),ae.morphAttributes.color!==void 0&&(he=3);let ue,j,pe,_e;if(ce){const Dt=Pc[ce];ue=Dt.vertexShader,j=Dt.fragmentShader}else ue=B.vertexShader,j=B.fragmentShader,f.update(B),pe=f.getVertexShaderID(B),_e=f.getFragmentShaderID(B);const Re=n.getRenderTarget(),Me=n.state.buffers.depth.getReversed(),Ae=X.isInstancedMesh===!0,Ue=X.isBatchedMesh===!0,gt=!!B.map,ze=!!B.matcap,we=!!K,re=!!B.aoMap,Fe=!!B.lightMap,Ie=!!B.bumpMap,Ye=!!B.normalMap,$e=!!B.displacementMap,lt=!!B.emissiveMap,ot=!!B.metalnessMap,fe=!!B.roughnessMap,oe=B.anisotropy>0,Ee=B.clearcoat>0,Pe=B.dispersion>0,qe=B.iridescence>0,He=B.sheen>0,mt=B.transmission>0,st=oe&&!!B.anisotropyMap,ht=Ee&&!!B.clearcoatMap,It=Ee&&!!B.clearcoatNormalMap,at=Ee&&!!B.clearcoatRoughnessMap,_t=qe&&!!B.iridescenceMap,wt=qe&&!!B.iridescenceThicknessMap,je=He&&!!B.sheenColorMap,it=He&&!!B.sheenRoughnessMap,Se=!!B.specularMap,ke=!!B.specularColorMap,bt=!!B.specularIntensityMap,Te=mt&&!!B.transmissionMap,St=mt&&!!B.thicknessMap,Qe=!!B.gradientMap,pt=!!B.alphaMap,Lt=B.alphaTest>0,zt=!!B.alphaHash,Jt=!!B.extensions;let cn=Wu;B.toneMapped&&(Re===null||Re.isXRRenderTarget===!0)&&(cn=n.toneMapping);const Zt={shaderID:ce,shaderType:B.type,shaderName:B.name,vertexShader:ue,fragmentShader:j,defines:B.defines,customVertexShaderID:pe,customFragmentShaderID:_e,isRawShaderMaterial:B.isRawShaderMaterial===!0,glslVersion:B.glslVersion,precision:C,batching:Ue,batchingColor:Ue&&X._colorsTexture!==null,instancing:Ae,instancingColor:Ae&&X.instanceColor!==null,instancingMorph:Ae&&X.morphTexture!==null,supportsVertexTextures:x,outputColorSpace:Re===null?n.outputColorSpace:Re.isXRRenderTarget===!0?Re.texture.colorSpace:Bh,alphaToCoverage:!!B.alphaToCoverage,map:gt,matcap:ze,envMap:we,envMapMode:we&&K.mapping,envMapCubeUVHeight:te,aoMap:re,lightMap:Fe,bumpMap:Ie,normalMap:Ye,displacementMap:x&&$e,emissiveMap:lt,normalMapObjectSpace:Ye&&B.normalMapType===O6,normalMapTangentSpace:Ye&&B.normalMapType===kh,metalnessMap:ot,roughnessMap:fe,anisotropy:oe,anisotropyMap:st,clearcoat:Ee,clearcoatMap:ht,clearcoatNormalMap:It,clearcoatRoughnessMap:at,dispersion:Pe,iridescence:qe,iridescenceMap:_t,iridescenceThicknessMap:wt,sheen:He,sheenColorMap:je,sheenRoughnessMap:it,specularMap:Se,specularColorMap:ke,specularIntensityMap:bt,transmission:mt,transmissionMap:Te,thicknessMap:St,gradientMap:Qe,opaque:B.transparent===!1&&B.blending===hm&&B.alphaToCoverage===!1,alphaMap:pt,alphaTest:Lt,alphaHash:zt,combine:B.combine,mapUv:gt&&p(B.map.channel),aoMapUv:re&&p(B.aoMap.channel),lightMapUv:Fe&&p(B.lightMap.channel),bumpMapUv:Ie&&p(B.bumpMap.channel),normalMapUv:Ye&&p(B.normalMap.channel),displacementMapUv:$e&&p(B.displacementMap.channel),emissiveMapUv:lt&&p(B.emissiveMap.channel),metalnessMapUv:ot&&p(B.metalnessMap.channel),roughnessMapUv:fe&&p(B.roughnessMap.channel),anisotropyMapUv:st&&p(B.anisotropyMap.channel),clearcoatMapUv:ht&&p(B.clearcoatMap.channel),clearcoatNormalMapUv:It&&p(B.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:at&&p(B.clearcoatRoughnessMap.channel),iridescenceMapUv:_t&&p(B.iridescenceMap.channel),iridescenceThicknessMapUv:wt&&p(B.iridescenceThicknessMap.channel),sheenColorMapUv:je&&p(B.sheenColorMap.channel),sheenRoughnessMapUv:it&&p(B.sheenRoughnessMap.channel),specularMapUv:Se&&p(B.specularMap.channel),specularColorMapUv:ke&&p(B.specularColorMap.channel),specularIntensityMapUv:bt&&p(B.specularIntensityMap.channel),transmissionMapUv:Te&&p(B.transmissionMap.channel),thicknessMapUv:St&&p(B.thicknessMap.channel),alphaMapUv:pt&&p(B.alphaMap.channel),vertexTangents:!!ae.attributes.tangent&&(Ye||oe),vertexColors:B.vertexColors,vertexAlphas:B.vertexColors===!0&&!!ae.attributes.color&&ae.attributes.color.itemSize===4,pointsUvs:X.isPoints===!0&&!!ae.attributes.uv&&(gt||pt),fog:!!ee,useFog:B.fog===!0,fogExp2:!!ee&&ee.isFogExp2,flatShading:B.flatShading===!0,sizeAttenuation:B.sizeAttenuation===!0,logarithmicDepthBuffer:_,reverseDepthBuffer:Me,skinning:X.isSkinnedMesh===!0,morphTargets:ae.morphAttributes.position!==void 0,morphNormals:ae.morphAttributes.normal!==void 0,morphColors:ae.morphAttributes.color!==void 0,morphTargetsCount:J,morphTextureStride:he,numDirLights:U.directional.length,numPointLights:U.point.length,numSpotLights:U.spot.length,numSpotLightMaps:U.spotLightMap.length,numRectAreaLights:U.rectArea.length,numHemiLights:U.hemi.length,numDirLightShadows:U.directionalShadowMap.length,numPointLightShadows:U.pointShadowMap.length,numSpotLightShadows:U.spotShadowMap.length,numSpotLightShadowsWithMaps:U.numSpotLightShadowsWithMaps,numLightProbes:U.numLightProbes,numClippingPlanes:l.numPlanes,numClipIntersection:l.numIntersection,dithering:B.dithering,shadowMapEnabled:n.shadowMap.enabled&&V.length>0,shadowMapType:n.shadowMap.type,toneMapping:cn,decodeVideoTexture:gt&&B.map.isVideoTexture===!0&&Di.getTransfer(B.map.colorSpace)===lr,decodeVideoTextureEmissive:lt&&B.emissiveMap.isVideoTexture===!0&&Di.getTransfer(B.emissiveMap.colorSpace)===lr,premultipliedAlpha:B.premultipliedAlpha,doubleSided:B.side===Fl,flipSided:B.side===os,useDepthPacking:B.depthPacking>=0,depthPacking:B.depthPacking||0,index0AttributeName:B.index0AttributeName,extensionClipCullDistance:Jt&&B.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Jt&&B.extensions.multiDraw===!0||Ue)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:B.customProgramCacheKey()};return Zt.vertexUv1s=h.has(1),Zt.vertexUv2s=h.has(2),Zt.vertexUv3s=h.has(3),h.clear(),Zt}function b(B){const U=[];if(B.shaderID?U.push(B.shaderID):(U.push(B.customVertexShaderID),U.push(B.customFragmentShaderID)),B.defines!==void 0)for(const V in B.defines)U.push(V),U.push(B.defines[V]);return B.isRawShaderMaterial===!1&&(w(U,B),A(U,B),U.push(n.outputColorSpace)),U.push(B.customProgramCacheKey),U.join()}function w(B,U){B.push(U.precision),B.push(U.outputColorSpace),B.push(U.envMapMode),B.push(U.envMapCubeUVHeight),B.push(U.mapUv),B.push(U.alphaMapUv),B.push(U.lightMapUv),B.push(U.aoMapUv),B.push(U.bumpMapUv),B.push(U.normalMapUv),B.push(U.displacementMapUv),B.push(U.emissiveMapUv),B.push(U.metalnessMapUv),B.push(U.roughnessMapUv),B.push(U.anisotropyMapUv),B.push(U.clearcoatMapUv),B.push(U.clearcoatNormalMapUv),B.push(U.clearcoatRoughnessMapUv),B.push(U.iridescenceMapUv),B.push(U.iridescenceThicknessMapUv),B.push(U.sheenColorMapUv),B.push(U.sheenRoughnessMapUv),B.push(U.specularMapUv),B.push(U.specularColorMapUv),B.push(U.specularIntensityMapUv),B.push(U.transmissionMapUv),B.push(U.thicknessMapUv),B.push(U.combine),B.push(U.fogExp2),B.push(U.sizeAttenuation),B.push(U.morphTargetsCount),B.push(U.morphAttributeCount),B.push(U.numDirLights),B.push(U.numPointLights),B.push(U.numSpotLights),B.push(U.numSpotLightMaps),B.push(U.numHemiLights),B.push(U.numRectAreaLights),B.push(U.numDirLightShadows),B.push(U.numPointLightShadows),B.push(U.numSpotLightShadows),B.push(U.numSpotLightShadowsWithMaps),B.push(U.numLightProbes),B.push(U.shadowMapType),B.push(U.toneMapping),B.push(U.numClippingPlanes),B.push(U.numClipIntersection),B.push(U.depthPacking)}function A(B,U){s.disableAll(),U.supportsVertexTextures&&s.enable(0),U.instancing&&s.enable(1),U.instancingColor&&s.enable(2),U.instancingMorph&&s.enable(3),U.matcap&&s.enable(4),U.envMap&&s.enable(5),U.normalMapObjectSpace&&s.enable(6),U.normalMapTangentSpace&&s.enable(7),U.clearcoat&&s.enable(8),U.iridescence&&s.enable(9),U.alphaTest&&s.enable(10),U.vertexColors&&s.enable(11),U.vertexAlphas&&s.enable(12),U.vertexUv1s&&s.enable(13),U.vertexUv2s&&s.enable(14),U.vertexUv3s&&s.enable(15),U.vertexTangents&&s.enable(16),U.anisotropy&&s.enable(17),U.alphaHash&&s.enable(18),U.batching&&s.enable(19),U.dispersion&&s.enable(20),U.batchingColor&&s.enable(21),B.push(s.mask),s.disableAll(),U.fog&&s.enable(0),U.useFog&&s.enable(1),U.flatShading&&s.enable(2),U.logarithmicDepthBuffer&&s.enable(3),U.reverseDepthBuffer&&s.enable(4),U.skinning&&s.enable(5),U.morphTargets&&s.enable(6),U.morphNormals&&s.enable(7),U.morphColors&&s.enable(8),U.premultipliedAlpha&&s.enable(9),U.shadowMapEnabled&&s.enable(10),U.doubleSided&&s.enable(11),U.flipSided&&s.enable(12),U.useDepthPacking&&s.enable(13),U.dithering&&s.enable(14),U.transmission&&s.enable(15),U.sheen&&s.enable(16),U.opaque&&s.enable(17),U.pointsUvs&&s.enable(18),U.decodeVideoTexture&&s.enable(19),U.decodeVideoTextureEmissive&&s.enable(20),U.alphaToCoverage&&s.enable(21),B.push(s.mask)}function R(B){const U=c[B.type];let V;if(U){const Q=Pc[U];V=V6.clone(Q.uniforms)}else V=B.uniforms;return V}function O(B,U){let V;for(let Q=0,X=v.length;Q<X;Q++){const ee=v[Q];if(ee.cacheKey===U){V=ee,++V.usedTimes;break}}return V===void 0&&(V=new Hce(n,U,B,o),v.push(V)),V}function P(B){if(--B.usedTimes===0){const U=v.indexOf(B);v[U]=v[v.length-1],v.pop(),B.destroy()}}function D(B){f.remove(B)}function F(){f.dispose()}return{getParameters:m,getProgramCacheKey:b,getUniforms:R,acquireProgram:O,releaseProgram:P,releaseShaderCache:D,programs:v,dispose:F}}function jce(){let n=new WeakMap;function e(l){return n.has(l)}function t(l){let s=n.get(l);return s===void 0&&(s={},n.set(l,s)),s}function r(l){n.delete(l)}function a(l,s,f){n.get(l)[s]=f}function o(){n=new WeakMap}return{has:e,get:t,remove:r,update:a,dispose:o}}function Wce(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function RL(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function OL(){const n=[];let e=0;const t=[],r=[],a=[];function o(){e=0,t.length=0,r.length=0,a.length=0}function l(_,x,C,c,p,m){let b=n[e];return b===void 0?(b={id:_.id,object:_,geometry:x,material:C,groupOrder:c,renderOrder:_.renderOrder,z:p,group:m},n[e]=b):(b.id=_.id,b.object=_,b.geometry=x,b.material=C,b.groupOrder=c,b.renderOrder=_.renderOrder,b.z=p,b.group=m),e++,b}function s(_,x,C,c,p,m){const b=l(_,x,C,c,p,m);C.transmission>0?r.push(b):C.transparent===!0?a.push(b):t.push(b)}function f(_,x,C,c,p,m){const b=l(_,x,C,c,p,m);C.transmission>0?r.unshift(b):C.transparent===!0?a.unshift(b):t.unshift(b)}function h(_,x){t.length>1&&t.sort(_||Wce),r.length>1&&r.sort(x||RL),a.length>1&&a.sort(x||RL)}function v(){for(let _=e,x=n.length;_<x;_++){const C=n[_];if(C.id===null)break;C.id=null,C.object=null,C.geometry=null,C.material=null,C.group=null}}return{opaque:t,transmissive:r,transparent:a,init:o,push:s,unshift:f,finish:v,sort:h}}function Xce(){let n=new WeakMap;function e(r,a){const o=n.get(r);let l;return o===void 0?(l=new OL,n.set(r,[l])):a>=o.length?(l=new OL,o.push(l)):l=o[a],l}function t(){n=new WeakMap}return{get:e,dispose:t}}function Yce(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new ye,color:new on};break;case"SpotLight":t={position:new ye,direction:new ye,color:new on,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new ye,color:new on,distance:0,decay:0};break;case"HemisphereLight":t={direction:new ye,skyColor:new on,groundColor:new on};break;case"RectAreaLight":t={color:new on,position:new ye,halfWidth:new ye,halfHeight:new ye};break}return n[e.id]=t,t}}}function qce(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new At};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new At};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new At,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let Zce=0;function Kce(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function Qce(n){const e=new Yce,t=qce(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let h=0;h<9;h++)r.probe.push(new ye);const a=new ye,o=new kn,l=new kn;function s(h){let v=0,_=0,x=0;for(let B=0;B<9;B++)r.probe[B].set(0,0,0);let C=0,c=0,p=0,m=0,b=0,w=0,A=0,R=0,O=0,P=0,D=0;h.sort(Kce);for(let B=0,U=h.length;B<U;B++){const V=h[B],Q=V.color,X=V.intensity,ee=V.distance,ae=V.shadow&&V.shadow.map?V.shadow.map.texture:null;if(V.isAmbientLight)v+=Q.r*X,_+=Q.g*X,x+=Q.b*X;else if(V.isLightProbe){for(let Z=0;Z<9;Z++)r.probe[Z].addScaledVector(V.sh.coefficients[Z],X);D++}else if(V.isDirectionalLight){const Z=e.get(V);if(Z.color.copy(V.color).multiplyScalar(V.intensity),V.castShadow){const K=V.shadow,te=t.get(V);te.shadowIntensity=K.intensity,te.shadowBias=K.bias,te.shadowNormalBias=K.normalBias,te.shadowRadius=K.radius,te.shadowMapSize=K.mapSize,r.directionalShadow[C]=te,r.directionalShadowMap[C]=ae,r.directionalShadowMatrix[C]=V.shadow.matrix,w++}r.directional[C]=Z,C++}else if(V.isSpotLight){const Z=e.get(V);Z.position.setFromMatrixPosition(V.matrixWorld),Z.color.copy(Q).multiplyScalar(X),Z.distance=ee,Z.coneCos=Math.cos(V.angle),Z.penumbraCos=Math.cos(V.angle*(1-V.penumbra)),Z.decay=V.decay,r.spot[p]=Z;const K=V.shadow;if(V.map&&(r.spotLightMap[O]=V.map,O++,K.updateMatrices(V),V.castShadow&&P++),r.spotLightMatrix[p]=K.matrix,V.castShadow){const te=t.get(V);te.shadowIntensity=K.intensity,te.shadowBias=K.bias,te.shadowNormalBias=K.normalBias,te.shadowRadius=K.radius,te.shadowMapSize=K.mapSize,r.spotShadow[p]=te,r.spotShadowMap[p]=ae,R++}p++}else if(V.isRectAreaLight){const Z=e.get(V);Z.color.copy(Q).multiplyScalar(X),Z.halfWidth.set(V.width*.5,0,0),Z.halfHeight.set(0,V.height*.5,0),r.rectArea[m]=Z,m++}else if(V.isPointLight){const Z=e.get(V);if(Z.color.copy(V.color).multiplyScalar(V.intensity),Z.distance=V.distance,Z.decay=V.decay,V.castShadow){const K=V.shadow,te=t.get(V);te.shadowIntensity=K.intensity,te.shadowBias=K.bias,te.shadowNormalBias=K.normalBias,te.shadowRadius=K.radius,te.shadowMapSize=K.mapSize,te.shadowCameraNear=K.camera.near,te.shadowCameraFar=K.camera.far,r.pointShadow[c]=te,r.pointShadowMap[c]=ae,r.pointShadowMatrix[c]=V.shadow.matrix,A++}r.point[c]=Z,c++}else if(V.isHemisphereLight){const Z=e.get(V);Z.skyColor.copy(V.color).multiplyScalar(X),Z.groundColor.copy(V.groundColor).multiplyScalar(X),r.hemi[b]=Z,b++}}m>0&&(n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=rn.LTC_FLOAT_1,r.rectAreaLTC2=rn.LTC_FLOAT_2):(r.rectAreaLTC1=rn.LTC_HALF_1,r.rectAreaLTC2=rn.LTC_HALF_2)),r.ambient[0]=v,r.ambient[1]=_,r.ambient[2]=x;const F=r.hash;(F.directionalLength!==C||F.pointLength!==c||F.spotLength!==p||F.rectAreaLength!==m||F.hemiLength!==b||F.numDirectionalShadows!==w||F.numPointShadows!==A||F.numSpotShadows!==R||F.numSpotMaps!==O||F.numLightProbes!==D)&&(r.directional.length=C,r.spot.length=p,r.rectArea.length=m,r.point.length=c,r.hemi.length=b,r.directionalShadow.length=w,r.directionalShadowMap.length=w,r.pointShadow.length=A,r.pointShadowMap.length=A,r.spotShadow.length=R,r.spotShadowMap.length=R,r.directionalShadowMatrix.length=w,r.pointShadowMatrix.length=A,r.spotLightMatrix.length=R+O-P,r.spotLightMap.length=O,r.numSpotLightShadowsWithMaps=P,r.numLightProbes=D,F.directionalLength=C,F.pointLength=c,F.spotLength=p,F.rectAreaLength=m,F.hemiLength=b,F.numDirectionalShadows=w,F.numPointShadows=A,F.numSpotShadows=R,F.numSpotMaps=O,F.numLightProbes=D,r.version=Zce++)}function f(h,v){let _=0,x=0,C=0,c=0,p=0;const m=v.matrixWorldInverse;for(let b=0,w=h.length;b<w;b++){const A=h[b];if(A.isDirectionalLight){const R=r.directional[_];R.direction.setFromMatrixPosition(A.matrixWorld),a.setFromMatrixPosition(A.target.matrixWorld),R.direction.sub(a),R.direction.transformDirection(m),_++}else if(A.isSpotLight){const R=r.spot[C];R.position.setFromMatrixPosition(A.matrixWorld),R.position.applyMatrix4(m),R.direction.setFromMatrixPosition(A.matrixWorld),a.setFromMatrixPosition(A.target.matrixWorld),R.direction.sub(a),R.direction.transformDirection(m),C++}else if(A.isRectAreaLight){const R=r.rectArea[c];R.position.setFromMatrixPosition(A.matrixWorld),R.position.applyMatrix4(m),l.identity(),o.copy(A.matrixWorld),o.premultiply(m),l.extractRotation(o),R.halfWidth.set(A.width*.5,0,0),R.halfHeight.set(0,A.height*.5,0),R.halfWidth.applyMatrix4(l),R.halfHeight.applyMatrix4(l),c++}else if(A.isPointLight){const R=r.point[x];R.position.setFromMatrixPosition(A.matrixWorld),R.position.applyMatrix4(m),x++}else if(A.isHemisphereLight){const R=r.hemi[p];R.direction.setFromMatrixPosition(A.matrixWorld),R.direction.transformDirection(m),p++}}}return{setup:s,setupView:f,state:r}}function IL(n){const e=new Qce(n),t=[],r=[];function a(v){h.camera=v,t.length=0,r.length=0}function o(v){t.push(v)}function l(v){r.push(v)}function s(){e.setup(t)}function f(v){e.setupView(t,v)}const h={lightsArray:t,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:a,state:h,setupLights:s,setupLightsView:f,pushLight:o,pushShadow:l}}function Jce(n){let e=new WeakMap;function t(a,o=0){const l=e.get(a);let s;return l===void 0?(s=new IL(n),e.set(a,[s])):o>=l.length?(s=new IL(n),l.push(s)):s=l[o],s}function r(){e=new WeakMap}return{get:t,dispose:r}}const eue=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,tue=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function nue(n,e,t){let r=new R_;const a=new At,o=new At,l=new $i,s=new QO({depthPacking:R6}),f=new JO,h={},v=t.maxTextureSize,_={[dd]:os,[os]:dd,[Fl]:Fl},x=new Vc({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new At},radius:{value:4}},vertexShader:eue,fragmentShader:tue}),C=x.clone();C.defines.HORIZONTAL_PASS=1;const c=new Jn;c.setAttribute("position",new mr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const p=new ln(c,x),m=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=uE;let b=this.type;this.render=function(P,D,F){if(m.enabled===!1||m.autoUpdate===!1&&m.needsUpdate===!1||P.length===0)return;const B=n.getRenderTarget(),U=n.getActiveCubeFace(),V=n.getActiveMipmapLevel(),Q=n.state;Q.setBlending(ld),Q.buffers.color.setClear(1,1,1,1),Q.buffers.depth.setTest(!0),Q.setScissorTest(!1);const X=b!==Rc&&this.type===Rc,ee=b===Rc&&this.type!==Rc;for(let ae=0,Z=P.length;ae<Z;ae++){const K=P[ae],te=K.shadow;if(te===void 0){console.warn("THREE.WebGLShadowMap:",K,"has no shadow.");continue}if(te.autoUpdate===!1&&te.needsUpdate===!1)continue;a.copy(te.mapSize);const ce=te.getFrameExtents();if(a.multiply(ce),o.copy(te.mapSize),(a.x>v||a.y>v)&&(a.x>v&&(o.x=Math.floor(v/ce.x),a.x=o.x*ce.x,te.mapSize.x=o.x),a.y>v&&(o.y=Math.floor(v/ce.y),a.y=o.y*ce.y,te.mapSize.y=o.y)),te.map===null||X===!0||ee===!0){const J=this.type!==Rc?{minFilter:ho,magFilter:ho}:{};te.map!==null&&te.map.dispose(),te.map=new Qu(a.x,a.y,J),te.map.texture.name=K.name+".shadowMap",te.camera.updateProjectionMatrix()}n.setRenderTarget(te.map),n.clear();const q=te.getViewportCount();for(let J=0;J<q;J++){const he=te.getViewport(J);l.set(o.x*he.x,o.y*he.y,o.x*he.z,o.y*he.w),Q.viewport(l),te.updateMatrices(K,J),r=te.getFrustum(),R(D,F,te.camera,K,this.type)}te.isPointLightShadow!==!0&&this.type===Rc&&w(te,F),te.needsUpdate=!1}b=this.type,m.needsUpdate=!1,n.setRenderTarget(B,U,V)};function w(P,D){const F=e.update(p);x.defines.VSM_SAMPLES!==P.blurSamples&&(x.defines.VSM_SAMPLES=P.blurSamples,C.defines.VSM_SAMPLES=P.blurSamples,x.needsUpdate=!0,C.needsUpdate=!0),P.mapPass===null&&(P.mapPass=new Qu(a.x,a.y)),x.uniforms.shadow_pass.value=P.map.texture,x.uniforms.resolution.value=P.mapSize,x.uniforms.radius.value=P.radius,n.setRenderTarget(P.mapPass),n.clear(),n.renderBufferDirect(D,null,F,x,p,null),C.uniforms.shadow_pass.value=P.mapPass.texture,C.uniforms.resolution.value=P.mapSize,C.uniforms.radius.value=P.radius,n.setRenderTarget(P.map),n.clear(),n.renderBufferDirect(D,null,F,C,p,null)}function A(P,D,F,B){let U=null;const V=F.isPointLight===!0?P.customDistanceMaterial:P.customDepthMaterial;if(V!==void 0)U=V;else if(U=F.isPointLight===!0?f:s,n.localClippingEnabled&&D.clipShadows===!0&&Array.isArray(D.clippingPlanes)&&D.clippingPlanes.length!==0||D.displacementMap&&D.displacementScale!==0||D.alphaMap&&D.alphaTest>0||D.map&&D.alphaTest>0){const Q=U.uuid,X=D.uuid;let ee=h[Q];ee===void 0&&(ee={},h[Q]=ee);let ae=ee[X];ae===void 0&&(ae=U.clone(),ee[X]=ae,D.addEventListener("dispose",O)),U=ae}if(U.visible=D.visible,U.wireframe=D.wireframe,B===Rc?U.side=D.shadowSide!==null?D.shadowSide:D.side:U.side=D.shadowSide!==null?D.shadowSide:_[D.side],U.alphaMap=D.alphaMap,U.alphaTest=D.alphaTest,U.map=D.map,U.clipShadows=D.clipShadows,U.clippingPlanes=D.clippingPlanes,U.clipIntersection=D.clipIntersection,U.displacementMap=D.displacementMap,U.displacementScale=D.displacementScale,U.displacementBias=D.displacementBias,U.wireframeLinewidth=D.wireframeLinewidth,U.linewidth=D.linewidth,F.isPointLight===!0&&U.isMeshDistanceMaterial===!0){const Q=n.properties.get(U);Q.light=F}return U}function R(P,D,F,B,U){if(P.visible===!1)return;if(P.layers.test(D.layers)&&(P.isMesh||P.isLine||P.isPoints)&&(P.castShadow||P.receiveShadow&&U===Rc)&&(!P.frustumCulled||r.intersectsObject(P))){P.modelViewMatrix.multiplyMatrices(F.matrixWorldInverse,P.matrixWorld);const X=e.update(P),ee=P.material;if(Array.isArray(ee)){const ae=X.groups;for(let Z=0,K=ae.length;Z<K;Z++){const te=ae[Z],ce=ee[te.materialIndex];if(ce&&ce.visible){const q=A(P,ce,B,U);P.onBeforeShadow(n,P,D,F,X,q,te),n.renderBufferDirect(F,null,X,q,P,te),P.onAfterShadow(n,P,D,F,X,q,te)}}}else if(ee.visible){const ae=A(P,ee,B,U);P.onBeforeShadow(n,P,D,F,X,ae,null),n.renderBufferDirect(F,null,X,ae,P,null),P.onAfterShadow(n,P,D,F,X,ae,null)}}const Q=P.children;for(let X=0,ee=Q.length;X<ee;X++)R(Q[X],D,F,B,U)}function O(P){P.target.removeEventListener("dispose",O);for(const F in h){const B=h[F],U=P.target.uuid;U in B&&(B[U].dispose(),delete B[U])}}}const iue={[Rw]:Ow,[Iw]:Dw,[zw]:Lw,[ym]:Pw,[Ow]:Rw,[Dw]:Iw,[Lw]:zw,[Pw]:ym};function rue(n,e){function t(){let Te=!1;const St=new $i;let Qe=null;const pt=new $i(0,0,0,0);return{setMask:function(Lt){Qe!==Lt&&!Te&&(n.colorMask(Lt,Lt,Lt,Lt),Qe=Lt)},setLocked:function(Lt){Te=Lt},setClear:function(Lt,zt,Jt,cn,Zt){Zt===!0&&(Lt*=cn,zt*=cn,Jt*=cn),St.set(Lt,zt,Jt,cn),pt.equals(St)===!1&&(n.clearColor(Lt,zt,Jt,cn),pt.copy(St))},reset:function(){Te=!1,Qe=null,pt.set(-1,0,0,0)}}}function r(){let Te=!1,St=!1,Qe=null,pt=null,Lt=null;return{setReversed:function(zt){if(St!==zt){const Jt=e.get("EXT_clip_control");St?Jt.clipControlEXT(Jt.LOWER_LEFT_EXT,Jt.ZERO_TO_ONE_EXT):Jt.clipControlEXT(Jt.LOWER_LEFT_EXT,Jt.NEGATIVE_ONE_TO_ONE_EXT);const cn=Lt;Lt=null,this.setClear(cn)}St=zt},getReversed:function(){return St},setTest:function(zt){zt?Re(n.DEPTH_TEST):Me(n.DEPTH_TEST)},setMask:function(zt){Qe!==zt&&!Te&&(n.depthMask(zt),Qe=zt)},setFunc:function(zt){if(St&&(zt=iue[zt]),pt!==zt){switch(zt){case Rw:n.depthFunc(n.NEVER);break;case Ow:n.depthFunc(n.ALWAYS);break;case Iw:n.depthFunc(n.LESS);break;case ym:n.depthFunc(n.LEQUAL);break;case zw:n.depthFunc(n.EQUAL);break;case Pw:n.depthFunc(n.GEQUAL);break;case Dw:n.depthFunc(n.GREATER);break;case Lw:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}pt=zt}},setLocked:function(zt){Te=zt},setClear:function(zt){Lt!==zt&&(St&&(zt=1-zt),n.clearDepth(zt),Lt=zt)},reset:function(){Te=!1,Qe=null,pt=null,Lt=null,St=!1}}}function a(){let Te=!1,St=null,Qe=null,pt=null,Lt=null,zt=null,Jt=null,cn=null,Zt=null;return{setTest:function(Dt){Te||(Dt?Re(n.STENCIL_TEST):Me(n.STENCIL_TEST))},setMask:function(Dt){St!==Dt&&!Te&&(n.stencilMask(Dt),St=Dt)},setFunc:function(Dt,qt,_n){(Qe!==Dt||pt!==qt||Lt!==_n)&&(n.stencilFunc(Dt,qt,_n),Qe=Dt,pt=qt,Lt=_n)},setOp:function(Dt,qt,_n){(zt!==Dt||Jt!==qt||cn!==_n)&&(n.stencilOp(Dt,qt,_n),zt=Dt,Jt=qt,cn=_n)},setLocked:function(Dt){Te=Dt},setClear:function(Dt){Zt!==Dt&&(n.clearStencil(Dt),Zt=Dt)},reset:function(){Te=!1,St=null,Qe=null,pt=null,Lt=null,zt=null,Jt=null,cn=null,Zt=null}}}const o=new t,l=new r,s=new a,f=new WeakMap,h=new WeakMap;let v={},_={},x=new WeakMap,C=[],c=null,p=!1,m=null,b=null,w=null,A=null,R=null,O=null,P=null,D=new on(0,0,0),F=0,B=!1,U=null,V=null,Q=null,X=null,ee=null;const ae=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let Z=!1,K=0;const te=n.getParameter(n.VERSION);te.indexOf("WebGL")!==-1?(K=parseFloat(/^WebGL (\d)/.exec(te)[1]),Z=K>=1):te.indexOf("OpenGL ES")!==-1&&(K=parseFloat(/^OpenGL ES (\d)/.exec(te)[1]),Z=K>=2);let ce=null,q={};const J=n.getParameter(n.SCISSOR_BOX),he=n.getParameter(n.VIEWPORT),ue=new $i().fromArray(J),j=new $i().fromArray(he);function pe(Te,St,Qe,pt){const Lt=new Uint8Array(4),zt=n.createTexture();n.bindTexture(Te,zt),n.texParameteri(Te,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(Te,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Jt=0;Jt<Qe;Jt++)Te===n.TEXTURE_3D||Te===n.TEXTURE_2D_ARRAY?n.texImage3D(St,0,n.RGBA,1,1,pt,0,n.RGBA,n.UNSIGNED_BYTE,Lt):n.texImage2D(St+Jt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Lt);return zt}const _e={};_e[n.TEXTURE_2D]=pe(n.TEXTURE_2D,n.TEXTURE_2D,1),_e[n.TEXTURE_CUBE_MAP]=pe(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),_e[n.TEXTURE_2D_ARRAY]=pe(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),_e[n.TEXTURE_3D]=pe(n.TEXTURE_3D,n.TEXTURE_3D,1,1),o.setClear(0,0,0,1),l.setClear(1),s.setClear(0),Re(n.DEPTH_TEST),l.setFunc(ym),Ie(!1),Ye(V2),Re(n.CULL_FACE),re(ld);function Re(Te){v[Te]!==!0&&(n.enable(Te),v[Te]=!0)}function Me(Te){v[Te]!==!1&&(n.disable(Te),v[Te]=!1)}function Ae(Te,St){return _[Te]!==St?(n.bindFramebuffer(Te,St),_[Te]=St,Te===n.DRAW_FRAMEBUFFER&&(_[n.FRAMEBUFFER]=St),Te===n.FRAMEBUFFER&&(_[n.DRAW_FRAMEBUFFER]=St),!0):!1}function Ue(Te,St){let Qe=C,pt=!1;if(Te){Qe=x.get(St),Qe===void 0&&(Qe=[],x.set(St,Qe));const Lt=Te.textures;if(Qe.length!==Lt.length||Qe[0]!==n.COLOR_ATTACHMENT0){for(let zt=0,Jt=Lt.length;zt<Jt;zt++)Qe[zt]=n.COLOR_ATTACHMENT0+zt;Qe.length=Lt.length,pt=!0}}else Qe[0]!==n.BACK&&(Qe[0]=n.BACK,pt=!0);pt&&n.drawBuffers(Qe)}function gt(Te){return c!==Te?(n.useProgram(Te),c=Te,!0):!1}const ze={[yh]:n.FUNC_ADD,[JF]:n.FUNC_SUBTRACT,[e6]:n.FUNC_REVERSE_SUBTRACT};ze[t6]=n.MIN,ze[n6]=n.MAX;const we={[i6]:n.ZERO,[r6]:n.ONE,[a6]:n.SRC_COLOR,[Tw]:n.SRC_ALPHA,[f6]:n.SRC_ALPHA_SATURATE,[c6]:n.DST_COLOR,[s6]:n.DST_ALPHA,[o6]:n.ONE_MINUS_SRC_COLOR,[Aw]:n.ONE_MINUS_SRC_ALPHA,[u6]:n.ONE_MINUS_DST_COLOR,[l6]:n.ONE_MINUS_DST_ALPHA,[d6]:n.CONSTANT_COLOR,[h6]:n.ONE_MINUS_CONSTANT_COLOR,[p6]:n.CONSTANT_ALPHA,[m6]:n.ONE_MINUS_CONSTANT_ALPHA};function re(Te,St,Qe,pt,Lt,zt,Jt,cn,Zt,Dt){if(Te===ld){p===!0&&(Me(n.BLEND),p=!1);return}if(p===!1&&(Re(n.BLEND),p=!0),Te!==QF){if(Te!==m||Dt!==B){if((b!==yh||R!==yh)&&(n.blendEquation(n.FUNC_ADD),b=yh,R=yh),Dt)switch(Te){case hm:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case G2:n.blendFunc(n.ONE,n.ONE);break;case j2:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case W2:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Te);break}else switch(Te){case hm:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case G2:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case j2:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case W2:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Te);break}w=null,A=null,O=null,P=null,D.set(0,0,0),F=0,m=Te,B=Dt}return}Lt=Lt||St,zt=zt||Qe,Jt=Jt||pt,(St!==b||Lt!==R)&&(n.blendEquationSeparate(ze[St],ze[Lt]),b=St,R=Lt),(Qe!==w||pt!==A||zt!==O||Jt!==P)&&(n.blendFuncSeparate(we[Qe],we[pt],we[zt],we[Jt]),w=Qe,A=pt,O=zt,P=Jt),(cn.equals(D)===!1||Zt!==F)&&(n.blendColor(cn.r,cn.g,cn.b,Zt),D.copy(cn),F=Zt),m=Te,B=!1}function Fe(Te,St){Te.side===Fl?Me(n.CULL_FACE):Re(n.CULL_FACE);let Qe=Te.side===os;St&&(Qe=!Qe),Ie(Qe),Te.blending===hm&&Te.transparent===!1?re(ld):re(Te.blending,Te.blendEquation,Te.blendSrc,Te.blendDst,Te.blendEquationAlpha,Te.blendSrcAlpha,Te.blendDstAlpha,Te.blendColor,Te.blendAlpha,Te.premultipliedAlpha),l.setFunc(Te.depthFunc),l.setTest(Te.depthTest),l.setMask(Te.depthWrite),o.setMask(Te.colorWrite);const pt=Te.stencilWrite;s.setTest(pt),pt&&(s.setMask(Te.stencilWriteMask),s.setFunc(Te.stencilFunc,Te.stencilRef,Te.stencilFuncMask),s.setOp(Te.stencilFail,Te.stencilZFail,Te.stencilZPass)),lt(Te.polygonOffset,Te.polygonOffsetFactor,Te.polygonOffsetUnits),Te.alphaToCoverage===!0?Re(n.SAMPLE_ALPHA_TO_COVERAGE):Me(n.SAMPLE_ALPHA_TO_COVERAGE)}function Ie(Te){U!==Te&&(Te?n.frontFace(n.CW):n.frontFace(n.CCW),U=Te)}function Ye(Te){Te!==qF?(Re(n.CULL_FACE),Te!==V&&(Te===V2?n.cullFace(n.BACK):Te===ZF?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Me(n.CULL_FACE),V=Te}function $e(Te){Te!==Q&&(Z&&n.lineWidth(Te),Q=Te)}function lt(Te,St,Qe){Te?(Re(n.POLYGON_OFFSET_FILL),(X!==St||ee!==Qe)&&(n.polygonOffset(St,Qe),X=St,ee=Qe)):Me(n.POLYGON_OFFSET_FILL)}function ot(Te){Te?Re(n.SCISSOR_TEST):Me(n.SCISSOR_TEST)}function fe(Te){Te===void 0&&(Te=n.TEXTURE0+ae-1),ce!==Te&&(n.activeTexture(Te),ce=Te)}function oe(Te,St,Qe){Qe===void 0&&(ce===null?Qe=n.TEXTURE0+ae-1:Qe=ce);let pt=q[Qe];pt===void 0&&(pt={type:void 0,texture:void 0},q[Qe]=pt),(pt.type!==Te||pt.texture!==St)&&(ce!==Qe&&(n.activeTexture(Qe),ce=Qe),n.bindTexture(Te,St||_e[Te]),pt.type=Te,pt.texture=St)}function Ee(){const Te=q[ce];Te!==void 0&&Te.type!==void 0&&(n.bindTexture(Te.type,null),Te.type=void 0,Te.texture=void 0)}function Pe(){try{n.compressedTexImage2D(...arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function qe(){try{n.compressedTexImage3D(...arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function He(){try{n.texSubImage2D(...arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function mt(){try{n.texSubImage3D(...arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function st(){try{n.compressedTexSubImage2D(...arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function ht(){try{n.compressedTexSubImage3D(...arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function It(){try{n.texStorage2D(...arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function at(){try{n.texStorage3D(...arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function _t(){try{n.texImage2D(...arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function wt(){try{n.texImage3D(...arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function je(Te){ue.equals(Te)===!1&&(n.scissor(Te.x,Te.y,Te.z,Te.w),ue.copy(Te))}function it(Te){j.equals(Te)===!1&&(n.viewport(Te.x,Te.y,Te.z,Te.w),j.copy(Te))}function Se(Te,St){let Qe=h.get(St);Qe===void 0&&(Qe=new WeakMap,h.set(St,Qe));let pt=Qe.get(Te);pt===void 0&&(pt=n.getUniformBlockIndex(St,Te.name),Qe.set(Te,pt))}function ke(Te,St){const pt=h.get(St).get(Te);f.get(St)!==pt&&(n.uniformBlockBinding(St,pt,Te.__bindingPointIndex),f.set(St,pt))}function bt(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),l.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),v={},ce=null,q={},_={},x=new WeakMap,C=[],c=null,p=!1,m=null,b=null,w=null,A=null,R=null,O=null,P=null,D=new on(0,0,0),F=0,B=!1,U=null,V=null,Q=null,X=null,ee=null,ue.set(0,0,n.canvas.width,n.canvas.height),j.set(0,0,n.canvas.width,n.canvas.height),o.reset(),l.reset(),s.reset()}return{buffers:{color:o,depth:l,stencil:s},enable:Re,disable:Me,bindFramebuffer:Ae,drawBuffers:Ue,useProgram:gt,setBlending:re,setMaterial:Fe,setFlipSided:Ie,setCullFace:Ye,setLineWidth:$e,setPolygonOffset:lt,setScissorTest:ot,activeTexture:fe,bindTexture:oe,unbindTexture:Ee,compressedTexImage2D:Pe,compressedTexImage3D:qe,texImage2D:_t,texImage3D:wt,updateUBOMapping:Se,uniformBlockBinding:ke,texStorage2D:It,texStorage3D:at,texSubImage2D:He,texSubImage3D:mt,compressedTexSubImage2D:st,compressedTexSubImage3D:ht,scissor:je,viewport:it,reset:bt}}function aue(n,e,t,r,a,o,l){const s=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,f=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),h=new At,v=new WeakMap;let _;const x=new WeakMap;let C=!1;try{C=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function c(fe,oe){return C?new OffscreenCanvas(fe,oe):Zb("canvas")}function p(fe,oe,Ee){let Pe=1;const qe=ot(fe);if((qe.width>Ee||qe.height>Ee)&&(Pe=Ee/Math.max(qe.width,qe.height)),Pe<1)if(typeof HTMLImageElement<"u"&&fe instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&fe instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&fe instanceof ImageBitmap||typeof VideoFrame<"u"&&fe instanceof VideoFrame){const He=Math.floor(Pe*qe.width),mt=Math.floor(Pe*qe.height);_===void 0&&(_=c(He,mt));const st=oe?c(He,mt):_;return st.width=He,st.height=mt,st.getContext("2d").drawImage(fe,0,0,He,mt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+qe.width+"x"+qe.height+") to ("+He+"x"+mt+")."),st}else return"data"in fe&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+qe.width+"x"+qe.height+")."),fe;return fe}function m(fe){return fe.generateMipmaps}function b(fe){n.generateMipmap(fe)}function w(fe){return fe.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:fe.isWebGL3DRenderTarget?n.TEXTURE_3D:fe.isWebGLArrayRenderTarget||fe.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function A(fe,oe,Ee,Pe,qe=!1){if(fe!==null){if(n[fe]!==void 0)return n[fe];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+fe+"'")}let He=oe;if(oe===n.RED&&(Ee===n.FLOAT&&(He=n.R32F),Ee===n.HALF_FLOAT&&(He=n.R16F),Ee===n.UNSIGNED_BYTE&&(He=n.R8)),oe===n.RED_INTEGER&&(Ee===n.UNSIGNED_BYTE&&(He=n.R8UI),Ee===n.UNSIGNED_SHORT&&(He=n.R16UI),Ee===n.UNSIGNED_INT&&(He=n.R32UI),Ee===n.BYTE&&(He=n.R8I),Ee===n.SHORT&&(He=n.R16I),Ee===n.INT&&(He=n.R32I)),oe===n.RG&&(Ee===n.FLOAT&&(He=n.RG32F),Ee===n.HALF_FLOAT&&(He=n.RG16F),Ee===n.UNSIGNED_BYTE&&(He=n.RG8)),oe===n.RG_INTEGER&&(Ee===n.UNSIGNED_BYTE&&(He=n.RG8UI),Ee===n.UNSIGNED_SHORT&&(He=n.RG16UI),Ee===n.UNSIGNED_INT&&(He=n.RG32UI),Ee===n.BYTE&&(He=n.RG8I),Ee===n.SHORT&&(He=n.RG16I),Ee===n.INT&&(He=n.RG32I)),oe===n.RGB_INTEGER&&(Ee===n.UNSIGNED_BYTE&&(He=n.RGB8UI),Ee===n.UNSIGNED_SHORT&&(He=n.RGB16UI),Ee===n.UNSIGNED_INT&&(He=n.RGB32UI),Ee===n.BYTE&&(He=n.RGB8I),Ee===n.SHORT&&(He=n.RGB16I),Ee===n.INT&&(He=n.RGB32I)),oe===n.RGBA_INTEGER&&(Ee===n.UNSIGNED_BYTE&&(He=n.RGBA8UI),Ee===n.UNSIGNED_SHORT&&(He=n.RGBA16UI),Ee===n.UNSIGNED_INT&&(He=n.RGBA32UI),Ee===n.BYTE&&(He=n.RGBA8I),Ee===n.SHORT&&(He=n.RGBA16I),Ee===n.INT&&(He=n.RGBA32I)),oe===n.RGB&&Ee===n.UNSIGNED_INT_5_9_9_9_REV&&(He=n.RGB9_E5),oe===n.RGBA){const mt=qe?Xb:Di.getTransfer(Pe);Ee===n.FLOAT&&(He=n.RGBA32F),Ee===n.HALF_FLOAT&&(He=n.RGBA16F),Ee===n.UNSIGNED_BYTE&&(He=mt===lr?n.SRGB8_ALPHA8:n.RGBA8),Ee===n.UNSIGNED_SHORT_4_4_4_4&&(He=n.RGBA4),Ee===n.UNSIGNED_SHORT_5_5_5_1&&(He=n.RGB5_A1)}return(He===n.R16F||He===n.R32F||He===n.RG16F||He===n.RG32F||He===n.RGBA16F||He===n.RGBA32F)&&e.get("EXT_color_buffer_float"),He}function R(fe,oe){let Ee;return fe?oe===null||oe===pd||oe===bm?Ee=n.DEPTH24_STENCIL8:oe===Is?Ee=n.DEPTH32F_STENCIL8:oe===Jv&&(Ee=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):oe===null||oe===pd||oe===bm?Ee=n.DEPTH_COMPONENT24:oe===Is?Ee=n.DEPTH_COMPONENT32F:oe===Jv&&(Ee=n.DEPTH_COMPONENT16),Ee}function O(fe,oe){return m(fe)===!0||fe.isFramebufferTexture&&fe.minFilter!==ho&&fe.minFilter!==za?Math.log2(Math.max(oe.width,oe.height))+1:fe.mipmaps!==void 0&&fe.mipmaps.length>0?fe.mipmaps.length:fe.isCompressedTexture&&Array.isArray(fe.image)?oe.mipmaps.length:1}function P(fe){const oe=fe.target;oe.removeEventListener("dispose",P),F(oe),oe.isVideoTexture&&v.delete(oe)}function D(fe){const oe=fe.target;oe.removeEventListener("dispose",D),U(oe)}function F(fe){const oe=r.get(fe);if(oe.__webglInit===void 0)return;const Ee=fe.source,Pe=x.get(Ee);if(Pe){const qe=Pe[oe.__cacheKey];qe.usedTimes--,qe.usedTimes===0&&B(fe),Object.keys(Pe).length===0&&x.delete(Ee)}r.remove(fe)}function B(fe){const oe=r.get(fe);n.deleteTexture(oe.__webglTexture);const Ee=fe.source,Pe=x.get(Ee);delete Pe[oe.__cacheKey],l.memory.textures--}function U(fe){const oe=r.get(fe);if(fe.depthTexture&&(fe.depthTexture.dispose(),r.remove(fe.depthTexture)),fe.isWebGLCubeRenderTarget)for(let Pe=0;Pe<6;Pe++){if(Array.isArray(oe.__webglFramebuffer[Pe]))for(let qe=0;qe<oe.__webglFramebuffer[Pe].length;qe++)n.deleteFramebuffer(oe.__webglFramebuffer[Pe][qe]);else n.deleteFramebuffer(oe.__webglFramebuffer[Pe]);oe.__webglDepthbuffer&&n.deleteRenderbuffer(oe.__webglDepthbuffer[Pe])}else{if(Array.isArray(oe.__webglFramebuffer))for(let Pe=0;Pe<oe.__webglFramebuffer.length;Pe++)n.deleteFramebuffer(oe.__webglFramebuffer[Pe]);else n.deleteFramebuffer(oe.__webglFramebuffer);if(oe.__webglDepthbuffer&&n.deleteRenderbuffer(oe.__webglDepthbuffer),oe.__webglMultisampledFramebuffer&&n.deleteFramebuffer(oe.__webglMultisampledFramebuffer),oe.__webglColorRenderbuffer)for(let Pe=0;Pe<oe.__webglColorRenderbuffer.length;Pe++)oe.__webglColorRenderbuffer[Pe]&&n.deleteRenderbuffer(oe.__webglColorRenderbuffer[Pe]);oe.__webglDepthRenderbuffer&&n.deleteRenderbuffer(oe.__webglDepthRenderbuffer)}const Ee=fe.textures;for(let Pe=0,qe=Ee.length;Pe<qe;Pe++){const He=r.get(Ee[Pe]);He.__webglTexture&&(n.deleteTexture(He.__webglTexture),l.memory.textures--),r.remove(Ee[Pe])}r.remove(fe)}let V=0;function Q(){V=0}function X(){const fe=V;return fe>=a.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+fe+" texture units while this GPU supports only "+a.maxTextures),V+=1,fe}function ee(fe){const oe=[];return oe.push(fe.wrapS),oe.push(fe.wrapT),oe.push(fe.wrapR||0),oe.push(fe.magFilter),oe.push(fe.minFilter),oe.push(fe.anisotropy),oe.push(fe.internalFormat),oe.push(fe.format),oe.push(fe.type),oe.push(fe.generateMipmaps),oe.push(fe.premultiplyAlpha),oe.push(fe.flipY),oe.push(fe.unpackAlignment),oe.push(fe.colorSpace),oe.join()}function ae(fe,oe){const Ee=r.get(fe);if(fe.isVideoTexture&&$e(fe),fe.isRenderTargetTexture===!1&&fe.version>0&&Ee.__version!==fe.version){const Pe=fe.image;if(Pe===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Pe.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{j(Ee,fe,oe);return}}t.bindTexture(n.TEXTURE_2D,Ee.__webglTexture,n.TEXTURE0+oe)}function Z(fe,oe){const Ee=r.get(fe);if(fe.version>0&&Ee.__version!==fe.version){j(Ee,fe,oe);return}t.bindTexture(n.TEXTURE_2D_ARRAY,Ee.__webglTexture,n.TEXTURE0+oe)}function K(fe,oe){const Ee=r.get(fe);if(fe.version>0&&Ee.__version!==fe.version){j(Ee,fe,oe);return}t.bindTexture(n.TEXTURE_3D,Ee.__webglTexture,n.TEXTURE0+oe)}function te(fe,oe){const Ee=r.get(fe);if(fe.version>0&&Ee.__version!==fe.version){pe(Ee,fe,oe);return}t.bindTexture(n.TEXTURE_CUBE_MAP,Ee.__webglTexture,n.TEXTURE0+oe)}const ce={[Vb]:n.REPEAT,[kl]:n.CLAMP_TO_EDGE,[Gb]:n.MIRRORED_REPEAT},q={[ho]:n.NEAREST,[EO]:n.NEAREST_MIPMAP_NEAREST,[Cv]:n.NEAREST_MIPMAP_LINEAR,[za]:n.LINEAR,[hb]:n.LINEAR_MIPMAP_NEAREST,[Gu]:n.LINEAR_MIPMAP_LINEAR},J={[I6]:n.NEVER,[U6]:n.ALWAYS,[z6]:n.LESS,[NO]:n.LEQUAL,[P6]:n.EQUAL,[N6]:n.GEQUAL,[D6]:n.GREATER,[L6]:n.NOTEQUAL};function he(fe,oe){if(oe.type===Is&&e.has("OES_texture_float_linear")===!1&&(oe.magFilter===za||oe.magFilter===hb||oe.magFilter===Cv||oe.magFilter===Gu||oe.minFilter===za||oe.minFilter===hb||oe.minFilter===Cv||oe.minFilter===Gu)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(fe,n.TEXTURE_WRAP_S,ce[oe.wrapS]),n.texParameteri(fe,n.TEXTURE_WRAP_T,ce[oe.wrapT]),(fe===n.TEXTURE_3D||fe===n.TEXTURE_2D_ARRAY)&&n.texParameteri(fe,n.TEXTURE_WRAP_R,ce[oe.wrapR]),n.texParameteri(fe,n.TEXTURE_MAG_FILTER,q[oe.magFilter]),n.texParameteri(fe,n.TEXTURE_MIN_FILTER,q[oe.minFilter]),oe.compareFunction&&(n.texParameteri(fe,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(fe,n.TEXTURE_COMPARE_FUNC,J[oe.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(oe.magFilter===ho||oe.minFilter!==Cv&&oe.minFilter!==Gu||oe.type===Is&&e.has("OES_texture_float_linear")===!1)return;if(oe.anisotropy>1||r.get(oe).__currentAnisotropy){const Ee=e.get("EXT_texture_filter_anisotropic");n.texParameterf(fe,Ee.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(oe.anisotropy,a.getMaxAnisotropy())),r.get(oe).__currentAnisotropy=oe.anisotropy}}}function ue(fe,oe){let Ee=!1;fe.__webglInit===void 0&&(fe.__webglInit=!0,oe.addEventListener("dispose",P));const Pe=oe.source;let qe=x.get(Pe);qe===void 0&&(qe={},x.set(Pe,qe));const He=ee(oe);if(He!==fe.__cacheKey){qe[He]===void 0&&(qe[He]={texture:n.createTexture(),usedTimes:0},l.memory.textures++,Ee=!0),qe[He].usedTimes++;const mt=qe[fe.__cacheKey];mt!==void 0&&(qe[fe.__cacheKey].usedTimes--,mt.usedTimes===0&&B(oe)),fe.__cacheKey=He,fe.__webglTexture=qe[He].texture}return Ee}function j(fe,oe,Ee){let Pe=n.TEXTURE_2D;(oe.isDataArrayTexture||oe.isCompressedArrayTexture)&&(Pe=n.TEXTURE_2D_ARRAY),oe.isData3DTexture&&(Pe=n.TEXTURE_3D);const qe=ue(fe,oe),He=oe.source;t.bindTexture(Pe,fe.__webglTexture,n.TEXTURE0+Ee);const mt=r.get(He);if(He.version!==mt.__version||qe===!0){t.activeTexture(n.TEXTURE0+Ee);const st=Di.getPrimaries(Di.workingColorSpace),ht=oe.colorSpace===td?null:Di.getPrimaries(oe.colorSpace),It=oe.colorSpace===td||st===ht?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,oe.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,oe.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,oe.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,It);let at=p(oe.image,!1,a.maxTextureSize);at=lt(oe,at);const _t=o.convert(oe.format,oe.colorSpace),wt=o.convert(oe.type);let je=A(oe.internalFormat,_t,wt,oe.colorSpace,oe.isVideoTexture);he(Pe,oe);let it;const Se=oe.mipmaps,ke=oe.isVideoTexture!==!0,bt=mt.__version===void 0||qe===!0,Te=He.dataReady,St=O(oe,at);if(oe.isDepthTexture)je=R(oe.format===_m,oe.type),bt&&(ke?t.texStorage2D(n.TEXTURE_2D,1,je,at.width,at.height):t.texImage2D(n.TEXTURE_2D,0,je,at.width,at.height,0,_t,wt,null));else if(oe.isDataTexture)if(Se.length>0){ke&&bt&&t.texStorage2D(n.TEXTURE_2D,St,je,Se[0].width,Se[0].height);for(let Qe=0,pt=Se.length;Qe<pt;Qe++)it=Se[Qe],ke?Te&&t.texSubImage2D(n.TEXTURE_2D,Qe,0,0,it.width,it.height,_t,wt,it.data):t.texImage2D(n.TEXTURE_2D,Qe,je,it.width,it.height,0,_t,wt,it.data);oe.generateMipmaps=!1}else ke?(bt&&t.texStorage2D(n.TEXTURE_2D,St,je,at.width,at.height),Te&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,at.width,at.height,_t,wt,at.data)):t.texImage2D(n.TEXTURE_2D,0,je,at.width,at.height,0,_t,wt,at.data);else if(oe.isCompressedTexture)if(oe.isCompressedArrayTexture){ke&&bt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,St,je,Se[0].width,Se[0].height,at.depth);for(let Qe=0,pt=Se.length;Qe<pt;Qe++)if(it=Se[Qe],oe.format!==zo)if(_t!==null)if(ke){if(Te)if(oe.layerUpdates.size>0){const Lt=iR(it.width,it.height,oe.format,oe.type);for(const zt of oe.layerUpdates){const Jt=it.data.subarray(zt*Lt/it.data.BYTES_PER_ELEMENT,(zt+1)*Lt/it.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Qe,0,0,zt,it.width,it.height,1,_t,Jt)}oe.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Qe,0,0,0,it.width,it.height,at.depth,_t,it.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,Qe,je,it.width,it.height,at.depth,0,it.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else ke?Te&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,Qe,0,0,0,it.width,it.height,at.depth,_t,wt,it.data):t.texImage3D(n.TEXTURE_2D_ARRAY,Qe,je,it.width,it.height,at.depth,0,_t,wt,it.data)}else{ke&&bt&&t.texStorage2D(n.TEXTURE_2D,St,je,Se[0].width,Se[0].height);for(let Qe=0,pt=Se.length;Qe<pt;Qe++)it=Se[Qe],oe.format!==zo?_t!==null?ke?Te&&t.compressedTexSubImage2D(n.TEXTURE_2D,Qe,0,0,it.width,it.height,_t,it.data):t.compressedTexImage2D(n.TEXTURE_2D,Qe,je,it.width,it.height,0,it.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ke?Te&&t.texSubImage2D(n.TEXTURE_2D,Qe,0,0,it.width,it.height,_t,wt,it.data):t.texImage2D(n.TEXTURE_2D,Qe,je,it.width,it.height,0,_t,wt,it.data)}else if(oe.isDataArrayTexture)if(ke){if(bt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,St,je,at.width,at.height,at.depth),Te)if(oe.layerUpdates.size>0){const Qe=iR(at.width,at.height,oe.format,oe.type);for(const pt of oe.layerUpdates){const Lt=at.data.subarray(pt*Qe/at.data.BYTES_PER_ELEMENT,(pt+1)*Qe/at.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,pt,at.width,at.height,1,_t,wt,Lt)}oe.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,at.width,at.height,at.depth,_t,wt,at.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,je,at.width,at.height,at.depth,0,_t,wt,at.data);else if(oe.isData3DTexture)ke?(bt&&t.texStorage3D(n.TEXTURE_3D,St,je,at.width,at.height,at.depth),Te&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,at.width,at.height,at.depth,_t,wt,at.data)):t.texImage3D(n.TEXTURE_3D,0,je,at.width,at.height,at.depth,0,_t,wt,at.data);else if(oe.isFramebufferTexture){if(bt)if(ke)t.texStorage2D(n.TEXTURE_2D,St,je,at.width,at.height);else{let Qe=at.width,pt=at.height;for(let Lt=0;Lt<St;Lt++)t.texImage2D(n.TEXTURE_2D,Lt,je,Qe,pt,0,_t,wt,null),Qe>>=1,pt>>=1}}else if(Se.length>0){if(ke&&bt){const Qe=ot(Se[0]);t.texStorage2D(n.TEXTURE_2D,St,je,Qe.width,Qe.height)}for(let Qe=0,pt=Se.length;Qe<pt;Qe++)it=Se[Qe],ke?Te&&t.texSubImage2D(n.TEXTURE_2D,Qe,0,0,_t,wt,it):t.texImage2D(n.TEXTURE_2D,Qe,je,_t,wt,it);oe.generateMipmaps=!1}else if(ke){if(bt){const Qe=ot(at);t.texStorage2D(n.TEXTURE_2D,St,je,Qe.width,Qe.height)}Te&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,_t,wt,at)}else t.texImage2D(n.TEXTURE_2D,0,je,_t,wt,at);m(oe)&&b(Pe),mt.__version=He.version,oe.onUpdate&&oe.onUpdate(oe)}fe.__version=oe.version}function pe(fe,oe,Ee){if(oe.image.length!==6)return;const Pe=ue(fe,oe),qe=oe.source;t.bindTexture(n.TEXTURE_CUBE_MAP,fe.__webglTexture,n.TEXTURE0+Ee);const He=r.get(qe);if(qe.version!==He.__version||Pe===!0){t.activeTexture(n.TEXTURE0+Ee);const mt=Di.getPrimaries(Di.workingColorSpace),st=oe.colorSpace===td?null:Di.getPrimaries(oe.colorSpace),ht=oe.colorSpace===td||mt===st?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,oe.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,oe.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,oe.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,ht);const It=oe.isCompressedTexture||oe.image[0].isCompressedTexture,at=oe.image[0]&&oe.image[0].isDataTexture,_t=[];for(let pt=0;pt<6;pt++)!It&&!at?_t[pt]=p(oe.image[pt],!0,a.maxCubemapSize):_t[pt]=at?oe.image[pt].image:oe.image[pt],_t[pt]=lt(oe,_t[pt]);const wt=_t[0],je=o.convert(oe.format,oe.colorSpace),it=o.convert(oe.type),Se=A(oe.internalFormat,je,it,oe.colorSpace),ke=oe.isVideoTexture!==!0,bt=He.__version===void 0||Pe===!0,Te=qe.dataReady;let St=O(oe,wt);he(n.TEXTURE_CUBE_MAP,oe);let Qe;if(It){ke&&bt&&t.texStorage2D(n.TEXTURE_CUBE_MAP,St,Se,wt.width,wt.height);for(let pt=0;pt<6;pt++){Qe=_t[pt].mipmaps;for(let Lt=0;Lt<Qe.length;Lt++){const zt=Qe[Lt];oe.format!==zo?je!==null?ke?Te&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+pt,Lt,0,0,zt.width,zt.height,je,zt.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+pt,Lt,Se,zt.width,zt.height,0,zt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ke?Te&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+pt,Lt,0,0,zt.width,zt.height,je,it,zt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+pt,Lt,Se,zt.width,zt.height,0,je,it,zt.data)}}}else{if(Qe=oe.mipmaps,ke&&bt){Qe.length>0&&St++;const pt=ot(_t[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,St,Se,pt.width,pt.height)}for(let pt=0;pt<6;pt++)if(at){ke?Te&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+pt,0,0,0,_t[pt].width,_t[pt].height,je,it,_t[pt].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+pt,0,Se,_t[pt].width,_t[pt].height,0,je,it,_t[pt].data);for(let Lt=0;Lt<Qe.length;Lt++){const Jt=Qe[Lt].image[pt].image;ke?Te&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+pt,Lt+1,0,0,Jt.width,Jt.height,je,it,Jt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+pt,Lt+1,Se,Jt.width,Jt.height,0,je,it,Jt.data)}}else{ke?Te&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+pt,0,0,0,je,it,_t[pt]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+pt,0,Se,je,it,_t[pt]);for(let Lt=0;Lt<Qe.length;Lt++){const zt=Qe[Lt];ke?Te&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+pt,Lt+1,0,0,je,it,zt.image[pt]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+pt,Lt+1,Se,je,it,zt.image[pt])}}}m(oe)&&b(n.TEXTURE_CUBE_MAP),He.__version=qe.version,oe.onUpdate&&oe.onUpdate(oe)}fe.__version=oe.version}function _e(fe,oe,Ee,Pe,qe,He){const mt=o.convert(Ee.format,Ee.colorSpace),st=o.convert(Ee.type),ht=A(Ee.internalFormat,mt,st,Ee.colorSpace),It=r.get(oe),at=r.get(Ee);if(at.__renderTarget=oe,!It.__hasExternalTextures){const _t=Math.max(1,oe.width>>He),wt=Math.max(1,oe.height>>He);qe===n.TEXTURE_3D||qe===n.TEXTURE_2D_ARRAY?t.texImage3D(qe,He,ht,_t,wt,oe.depth,0,mt,st,null):t.texImage2D(qe,He,ht,_t,wt,0,mt,st,null)}t.bindFramebuffer(n.FRAMEBUFFER,fe),Ye(oe)?s.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Pe,qe,at.__webglTexture,0,Ie(oe)):(qe===n.TEXTURE_2D||qe>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&qe<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Pe,qe,at.__webglTexture,He),t.bindFramebuffer(n.FRAMEBUFFER,null)}function Re(fe,oe,Ee){if(n.bindRenderbuffer(n.RENDERBUFFER,fe),oe.depthBuffer){const Pe=oe.depthTexture,qe=Pe&&Pe.isDepthTexture?Pe.type:null,He=R(oe.stencilBuffer,qe),mt=oe.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,st=Ie(oe);Ye(oe)?s.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,st,He,oe.width,oe.height):Ee?n.renderbufferStorageMultisample(n.RENDERBUFFER,st,He,oe.width,oe.height):n.renderbufferStorage(n.RENDERBUFFER,He,oe.width,oe.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,mt,n.RENDERBUFFER,fe)}else{const Pe=oe.textures;for(let qe=0;qe<Pe.length;qe++){const He=Pe[qe],mt=o.convert(He.format,He.colorSpace),st=o.convert(He.type),ht=A(He.internalFormat,mt,st,He.colorSpace),It=Ie(oe);Ee&&Ye(oe)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,It,ht,oe.width,oe.height):Ye(oe)?s.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,It,ht,oe.width,oe.height):n.renderbufferStorage(n.RENDERBUFFER,ht,oe.width,oe.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function Me(fe,oe){if(oe&&oe.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,fe),!(oe.depthTexture&&oe.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Pe=r.get(oe.depthTexture);Pe.__renderTarget=oe,(!Pe.__webglTexture||oe.depthTexture.image.width!==oe.width||oe.depthTexture.image.height!==oe.height)&&(oe.depthTexture.image.width=oe.width,oe.depthTexture.image.height=oe.height,oe.depthTexture.needsUpdate=!0),ae(oe.depthTexture,0);const qe=Pe.__webglTexture,He=Ie(oe);if(oe.depthTexture.format===pm)Ye(oe)?s.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,qe,0,He):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,qe,0);else if(oe.depthTexture.format===_m)Ye(oe)?s.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,qe,0,He):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,qe,0);else throw new Error("Unknown depthTexture format")}function Ae(fe){const oe=r.get(fe),Ee=fe.isWebGLCubeRenderTarget===!0;if(oe.__boundDepthTexture!==fe.depthTexture){const Pe=fe.depthTexture;if(oe.__depthDisposeCallback&&oe.__depthDisposeCallback(),Pe){const qe=()=>{delete oe.__boundDepthTexture,delete oe.__depthDisposeCallback,Pe.removeEventListener("dispose",qe)};Pe.addEventListener("dispose",qe),oe.__depthDisposeCallback=qe}oe.__boundDepthTexture=Pe}if(fe.depthTexture&&!oe.__autoAllocateDepthBuffer){if(Ee)throw new Error("target.depthTexture not supported in Cube render targets");Me(oe.__webglFramebuffer,fe)}else if(Ee){oe.__webglDepthbuffer=[];for(let Pe=0;Pe<6;Pe++)if(t.bindFramebuffer(n.FRAMEBUFFER,oe.__webglFramebuffer[Pe]),oe.__webglDepthbuffer[Pe]===void 0)oe.__webglDepthbuffer[Pe]=n.createRenderbuffer(),Re(oe.__webglDepthbuffer[Pe],fe,!1);else{const qe=fe.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,He=oe.__webglDepthbuffer[Pe];n.bindRenderbuffer(n.RENDERBUFFER,He),n.framebufferRenderbuffer(n.FRAMEBUFFER,qe,n.RENDERBUFFER,He)}}else if(t.bindFramebuffer(n.FRAMEBUFFER,oe.__webglFramebuffer),oe.__webglDepthbuffer===void 0)oe.__webglDepthbuffer=n.createRenderbuffer(),Re(oe.__webglDepthbuffer,fe,!1);else{const Pe=fe.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,qe=oe.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,qe),n.framebufferRenderbuffer(n.FRAMEBUFFER,Pe,n.RENDERBUFFER,qe)}t.bindFramebuffer(n.FRAMEBUFFER,null)}function Ue(fe,oe,Ee){const Pe=r.get(fe);oe!==void 0&&_e(Pe.__webglFramebuffer,fe,fe.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),Ee!==void 0&&Ae(fe)}function gt(fe){const oe=fe.texture,Ee=r.get(fe),Pe=r.get(oe);fe.addEventListener("dispose",D);const qe=fe.textures,He=fe.isWebGLCubeRenderTarget===!0,mt=qe.length>1;if(mt||(Pe.__webglTexture===void 0&&(Pe.__webglTexture=n.createTexture()),Pe.__version=oe.version,l.memory.textures++),He){Ee.__webglFramebuffer=[];for(let st=0;st<6;st++)if(oe.mipmaps&&oe.mipmaps.length>0){Ee.__webglFramebuffer[st]=[];for(let ht=0;ht<oe.mipmaps.length;ht++)Ee.__webglFramebuffer[st][ht]=n.createFramebuffer()}else Ee.__webglFramebuffer[st]=n.createFramebuffer()}else{if(oe.mipmaps&&oe.mipmaps.length>0){Ee.__webglFramebuffer=[];for(let st=0;st<oe.mipmaps.length;st++)Ee.__webglFramebuffer[st]=n.createFramebuffer()}else Ee.__webglFramebuffer=n.createFramebuffer();if(mt)for(let st=0,ht=qe.length;st<ht;st++){const It=r.get(qe[st]);It.__webglTexture===void 0&&(It.__webglTexture=n.createTexture(),l.memory.textures++)}if(fe.samples>0&&Ye(fe)===!1){Ee.__webglMultisampledFramebuffer=n.createFramebuffer(),Ee.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,Ee.__webglMultisampledFramebuffer);for(let st=0;st<qe.length;st++){const ht=qe[st];Ee.__webglColorRenderbuffer[st]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,Ee.__webglColorRenderbuffer[st]);const It=o.convert(ht.format,ht.colorSpace),at=o.convert(ht.type),_t=A(ht.internalFormat,It,at,ht.colorSpace,fe.isXRRenderTarget===!0),wt=Ie(fe);n.renderbufferStorageMultisample(n.RENDERBUFFER,wt,_t,fe.width,fe.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+st,n.RENDERBUFFER,Ee.__webglColorRenderbuffer[st])}n.bindRenderbuffer(n.RENDERBUFFER,null),fe.depthBuffer&&(Ee.__webglDepthRenderbuffer=n.createRenderbuffer(),Re(Ee.__webglDepthRenderbuffer,fe,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(He){t.bindTexture(n.TEXTURE_CUBE_MAP,Pe.__webglTexture),he(n.TEXTURE_CUBE_MAP,oe);for(let st=0;st<6;st++)if(oe.mipmaps&&oe.mipmaps.length>0)for(let ht=0;ht<oe.mipmaps.length;ht++)_e(Ee.__webglFramebuffer[st][ht],fe,oe,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+st,ht);else _e(Ee.__webglFramebuffer[st],fe,oe,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+st,0);m(oe)&&b(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(mt){for(let st=0,ht=qe.length;st<ht;st++){const It=qe[st],at=r.get(It);t.bindTexture(n.TEXTURE_2D,at.__webglTexture),he(n.TEXTURE_2D,It),_e(Ee.__webglFramebuffer,fe,It,n.COLOR_ATTACHMENT0+st,n.TEXTURE_2D,0),m(It)&&b(n.TEXTURE_2D)}t.unbindTexture()}else{let st=n.TEXTURE_2D;if((fe.isWebGL3DRenderTarget||fe.isWebGLArrayRenderTarget)&&(st=fe.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(st,Pe.__webglTexture),he(st,oe),oe.mipmaps&&oe.mipmaps.length>0)for(let ht=0;ht<oe.mipmaps.length;ht++)_e(Ee.__webglFramebuffer[ht],fe,oe,n.COLOR_ATTACHMENT0,st,ht);else _e(Ee.__webglFramebuffer,fe,oe,n.COLOR_ATTACHMENT0,st,0);m(oe)&&b(st),t.unbindTexture()}fe.depthBuffer&&Ae(fe)}function ze(fe){const oe=fe.textures;for(let Ee=0,Pe=oe.length;Ee<Pe;Ee++){const qe=oe[Ee];if(m(qe)){const He=w(fe),mt=r.get(qe).__webglTexture;t.bindTexture(He,mt),b(He),t.unbindTexture()}}}const we=[],re=[];function Fe(fe){if(fe.samples>0){if(Ye(fe)===!1){const oe=fe.textures,Ee=fe.width,Pe=fe.height;let qe=n.COLOR_BUFFER_BIT;const He=fe.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,mt=r.get(fe),st=oe.length>1;if(st)for(let ht=0;ht<oe.length;ht++)t.bindFramebuffer(n.FRAMEBUFFER,mt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ht,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,mt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+ht,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,mt.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,mt.__webglFramebuffer);for(let ht=0;ht<oe.length;ht++){if(fe.resolveDepthBuffer&&(fe.depthBuffer&&(qe|=n.DEPTH_BUFFER_BIT),fe.stencilBuffer&&fe.resolveStencilBuffer&&(qe|=n.STENCIL_BUFFER_BIT)),st){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,mt.__webglColorRenderbuffer[ht]);const It=r.get(oe[ht]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,It,0)}n.blitFramebuffer(0,0,Ee,Pe,0,0,Ee,Pe,qe,n.NEAREST),f===!0&&(we.length=0,re.length=0,we.push(n.COLOR_ATTACHMENT0+ht),fe.depthBuffer&&fe.resolveDepthBuffer===!1&&(we.push(He),re.push(He),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,re)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,we))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),st)for(let ht=0;ht<oe.length;ht++){t.bindFramebuffer(n.FRAMEBUFFER,mt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ht,n.RENDERBUFFER,mt.__webglColorRenderbuffer[ht]);const It=r.get(oe[ht]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,mt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+ht,n.TEXTURE_2D,It,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,mt.__webglMultisampledFramebuffer)}else if(fe.depthBuffer&&fe.resolveDepthBuffer===!1&&f){const oe=fe.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[oe])}}}function Ie(fe){return Math.min(a.maxSamples,fe.samples)}function Ye(fe){const oe=r.get(fe);return fe.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&oe.__useRenderToTexture!==!1}function $e(fe){const oe=l.render.frame;v.get(fe)!==oe&&(v.set(fe,oe),fe.update())}function lt(fe,oe){const Ee=fe.colorSpace,Pe=fe.format,qe=fe.type;return fe.isCompressedTexture===!0||fe.isVideoTexture===!0||Ee!==Bh&&Ee!==td&&(Di.getTransfer(Ee)===lr?(Pe!==zo||qe!==$c)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Ee)),oe}function ot(fe){return typeof HTMLImageElement<"u"&&fe instanceof HTMLImageElement?(h.width=fe.naturalWidth||fe.width,h.height=fe.naturalHeight||fe.height):typeof VideoFrame<"u"&&fe instanceof VideoFrame?(h.width=fe.displayWidth,h.height=fe.displayHeight):(h.width=fe.width,h.height=fe.height),h}this.allocateTextureUnit=X,this.resetTextureUnits=Q,this.setTexture2D=ae,this.setTexture2DArray=Z,this.setTexture3D=K,this.setTextureCube=te,this.rebindTextures=Ue,this.setupRenderTarget=gt,this.updateRenderTargetMipmap=ze,this.updateMultisampleRenderTarget=Fe,this.setupDepthRenderbuffer=Ae,this.setupFrameBufferTexture=_e,this.useMultisampledRTT=Ye}function W8(n,e){function t(r,a=td){let o;const l=Di.getTransfer(a);if(r===$c)return n.UNSIGNED_BYTE;if(r===hE)return n.UNSIGNED_SHORT_4_4_4_4;if(r===pE)return n.UNSIGNED_SHORT_5_5_5_1;if(r===AO)return n.UNSIGNED_INT_5_9_9_9_REV;if(r===MO)return n.BYTE;if(r===TO)return n.SHORT;if(r===Jv)return n.UNSIGNED_SHORT;if(r===dE)return n.INT;if(r===pd)return n.UNSIGNED_INT;if(r===Is)return n.FLOAT;if(r===b0)return n.HALF_FLOAT;if(r===RO)return n.ALPHA;if(r===OO)return n.RGB;if(r===zo)return n.RGBA;if(r===IO)return n.LUMINANCE;if(r===zO)return n.LUMINANCE_ALPHA;if(r===pm)return n.DEPTH_COMPONENT;if(r===_m)return n.DEPTH_STENCIL;if(r===mE)return n.RED;if(r===M_)return n.RED_INTEGER;if(r===PO)return n.RG;if(r===gE)return n.RG_INTEGER;if(r===vE)return n.RGBA_INTEGER;if(r===pb||r===mb||r===gb||r===vb)if(l===lr)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(r===pb)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===mb)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===gb)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===vb)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(r===pb)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===mb)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===gb)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===vb)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===Nw||r===Uw||r===Bw||r===Fw)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(r===Nw)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===Uw)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===Bw)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===Fw)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===Hw||r===kw||r===$w)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(r===Hw||r===kw)return l===lr?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(r===$w)return l===lr?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===Vw||r===Gw||r===jw||r===Ww||r===Xw||r===Yw||r===qw||r===Zw||r===Kw||r===Qw||r===Jw||r===eC||r===tC||r===nC)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(r===Vw)return l===lr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===Gw)return l===lr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===jw)return l===lr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===Ww)return l===lr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===Xw)return l===lr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===Yw)return l===lr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===qw)return l===lr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===Zw)return l===lr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===Kw)return l===lr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===Qw)return l===lr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===Jw)return l===lr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===eC)return l===lr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===tC)return l===lr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===nC)return l===lr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===yb||r===iC||r===rC)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(r===yb)return l===lr?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===iC)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===rC)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===DO||r===aC||r===oC||r===sC)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(r===yb)return o.COMPRESSED_RED_RGTC1_EXT;if(r===aC)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===oC)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===sC)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===bm?n.UNSIGNED_INT_24_8:n[r]!==void 0?n[r]:null}return{convert:t}}const oue=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,sue=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class lue{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,r){if(this.texture===null){const a=new sa,o=e.properties.get(a);o.__webglTexture=t.texture,(t.depthNear!==r.depthNear||t.depthFar!==r.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=a}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,r=new Vc({vertexShader:oue,fragmentShader:sue,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new ln(new tl(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class cue extends rf{constructor(e,t){super();const r=this;let a=null,o=1,l=null,s="local-floor",f=1,h=null,v=null,_=null,x=null,C=null,c=null;const p=new lue,m=t.getContextAttributes();let b=null,w=null;const A=[],R=[],O=new At;let P=null;const D=new pa;D.viewport=new $i;const F=new pa;F.viewport=new $i;const B=[D,F],U=new N8;let V=null,Q=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(j){let pe=A[j];return pe===void 0&&(pe=new E1,A[j]=pe),pe.getTargetRaySpace()},this.getControllerGrip=function(j){let pe=A[j];return pe===void 0&&(pe=new E1,A[j]=pe),pe.getGripSpace()},this.getHand=function(j){let pe=A[j];return pe===void 0&&(pe=new E1,A[j]=pe),pe.getHandSpace()};function X(j){const pe=R.indexOf(j.inputSource);if(pe===-1)return;const _e=A[pe];_e!==void 0&&(_e.update(j.inputSource,j.frame,h||l),_e.dispatchEvent({type:j.type,data:j.inputSource}))}function ee(){a.removeEventListener("select",X),a.removeEventListener("selectstart",X),a.removeEventListener("selectend",X),a.removeEventListener("squeeze",X),a.removeEventListener("squeezestart",X),a.removeEventListener("squeezeend",X),a.removeEventListener("end",ee),a.removeEventListener("inputsourceschange",ae);for(let j=0;j<A.length;j++){const pe=R[j];pe!==null&&(R[j]=null,A[j].disconnect(pe))}V=null,Q=null,p.reset(),e.setRenderTarget(b),C=null,x=null,_=null,a=null,w=null,ue.stop(),r.isPresenting=!1,e.setPixelRatio(P),e.setSize(O.width,O.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(j){o=j,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(j){s=j,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return h||l},this.setReferenceSpace=function(j){h=j},this.getBaseLayer=function(){return x!==null?x:C},this.getBinding=function(){return _},this.getFrame=function(){return c},this.getSession=function(){return a},this.setSession=async function(j){if(a=j,a!==null){if(b=e.getRenderTarget(),a.addEventListener("select",X),a.addEventListener("selectstart",X),a.addEventListener("selectend",X),a.addEventListener("squeeze",X),a.addEventListener("squeezestart",X),a.addEventListener("squeezeend",X),a.addEventListener("end",ee),a.addEventListener("inputsourceschange",ae),m.xrCompatible!==!0&&await t.makeXRCompatible(),P=e.getPixelRatio(),e.getSize(O),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let _e=null,Re=null,Me=null;m.depth&&(Me=m.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,_e=m.stencil?_m:pm,Re=m.stencil?bm:pd);const Ae={colorFormat:t.RGBA8,depthFormat:Me,scaleFactor:o};_=new XRWebGLBinding(a,t),x=_.createProjectionLayer(Ae),a.updateRenderState({layers:[x]}),e.setPixelRatio(1),e.setSize(x.textureWidth,x.textureHeight,!1),w=new Qu(x.textureWidth,x.textureHeight,{format:zo,type:$c,depthTexture:new GO(x.textureWidth,x.textureHeight,Re,void 0,void 0,void 0,void 0,void 0,void 0,_e),stencilBuffer:m.stencil,colorSpace:e.outputColorSpace,samples:m.antialias?4:0,resolveDepthBuffer:x.ignoreDepthValues===!1,resolveStencilBuffer:x.ignoreDepthValues===!1})}else{const _e={antialias:m.antialias,alpha:!0,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:o};C=new XRWebGLLayer(a,t,_e),a.updateRenderState({baseLayer:C}),e.setPixelRatio(1),e.setSize(C.framebufferWidth,C.framebufferHeight,!1),w=new Qu(C.framebufferWidth,C.framebufferHeight,{format:zo,type:$c,colorSpace:e.outputColorSpace,stencilBuffer:m.stencil,resolveDepthBuffer:C.ignoreDepthValues===!1,resolveStencilBuffer:C.ignoreDepthValues===!1})}w.isXRRenderTarget=!0,this.setFoveation(f),h=null,l=await a.requestReferenceSpace(s),ue.setContext(a),ue.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(a!==null)return a.environmentBlendMode},this.getDepthTexture=function(){return p.getDepthTexture()};function ae(j){for(let pe=0;pe<j.removed.length;pe++){const _e=j.removed[pe],Re=R.indexOf(_e);Re>=0&&(R[Re]=null,A[Re].disconnect(_e))}for(let pe=0;pe<j.added.length;pe++){const _e=j.added[pe];let Re=R.indexOf(_e);if(Re===-1){for(let Ae=0;Ae<A.length;Ae++)if(Ae>=R.length){R.push(_e),Re=Ae;break}else if(R[Ae]===null){R[Ae]=_e,Re=Ae;break}if(Re===-1)break}const Me=A[Re];Me&&Me.connect(_e)}}const Z=new ye,K=new ye;function te(j,pe,_e){Z.setFromMatrixPosition(pe.matrixWorld),K.setFromMatrixPosition(_e.matrixWorld);const Re=Z.distanceTo(K),Me=pe.projectionMatrix.elements,Ae=_e.projectionMatrix.elements,Ue=Me[14]/(Me[10]-1),gt=Me[14]/(Me[10]+1),ze=(Me[9]+1)/Me[5],we=(Me[9]-1)/Me[5],re=(Me[8]-1)/Me[0],Fe=(Ae[8]+1)/Ae[0],Ie=Ue*re,Ye=Ue*Fe,$e=Re/(-re+Fe),lt=$e*-re;if(pe.matrixWorld.decompose(j.position,j.quaternion,j.scale),j.translateX(lt),j.translateZ($e),j.matrixWorld.compose(j.position,j.quaternion,j.scale),j.matrixWorldInverse.copy(j.matrixWorld).invert(),Me[10]===-1)j.projectionMatrix.copy(pe.projectionMatrix),j.projectionMatrixInverse.copy(pe.projectionMatrixInverse);else{const ot=Ue+$e,fe=gt+$e,oe=Ie-lt,Ee=Ye+(Re-lt),Pe=ze*gt/fe*ot,qe=we*gt/fe*ot;j.projectionMatrix.makePerspective(oe,Ee,Pe,qe,ot,fe),j.projectionMatrixInverse.copy(j.projectionMatrix).invert()}}function ce(j,pe){pe===null?j.matrixWorld.copy(j.matrix):j.matrixWorld.multiplyMatrices(pe.matrixWorld,j.matrix),j.matrixWorldInverse.copy(j.matrixWorld).invert()}this.updateCamera=function(j){if(a===null)return;let pe=j.near,_e=j.far;p.texture!==null&&(p.depthNear>0&&(pe=p.depthNear),p.depthFar>0&&(_e=p.depthFar)),U.near=F.near=D.near=pe,U.far=F.far=D.far=_e,(V!==U.near||Q!==U.far)&&(a.updateRenderState({depthNear:U.near,depthFar:U.far}),V=U.near,Q=U.far),D.layers.mask=j.layers.mask|2,F.layers.mask=j.layers.mask|4,U.layers.mask=D.layers.mask|F.layers.mask;const Re=j.parent,Me=U.cameras;ce(U,Re);for(let Ae=0;Ae<Me.length;Ae++)ce(Me[Ae],Re);Me.length===2?te(U,D,F):U.projectionMatrix.copy(D.projectionMatrix),q(j,U,Re)};function q(j,pe,_e){_e===null?j.matrix.copy(pe.matrixWorld):(j.matrix.copy(_e.matrixWorld),j.matrix.invert(),j.matrix.multiply(pe.matrixWorld)),j.matrix.decompose(j.position,j.quaternion,j.scale),j.updateMatrixWorld(!0),j.projectionMatrix.copy(pe.projectionMatrix),j.projectionMatrixInverse.copy(pe.projectionMatrixInverse),j.isPerspectiveCamera&&(j.fov=e0*2*Math.atan(1/j.projectionMatrix.elements[5]),j.zoom=1)}this.getCamera=function(){return U},this.getFoveation=function(){if(!(x===null&&C===null))return f},this.setFoveation=function(j){f=j,x!==null&&(x.fixedFoveation=j),C!==null&&C.fixedFoveation!==void 0&&(C.fixedFoveation=j)},this.hasDepthSensing=function(){return p.texture!==null},this.getDepthSensingMesh=function(){return p.getMesh(U)};let J=null;function he(j,pe){if(v=pe.getViewerPose(h||l),c=pe,v!==null){const _e=v.views;C!==null&&(e.setRenderTargetFramebuffer(w,C.framebuffer),e.setRenderTarget(w));let Re=!1;_e.length!==U.cameras.length&&(U.cameras.length=0,Re=!0);for(let Ue=0;Ue<_e.length;Ue++){const gt=_e[Ue];let ze=null;if(C!==null)ze=C.getViewport(gt);else{const re=_.getViewSubImage(x,gt);ze=re.viewport,Ue===0&&(e.setRenderTargetTextures(w,re.colorTexture,x.ignoreDepthValues?void 0:re.depthStencilTexture),e.setRenderTarget(w))}let we=B[Ue];we===void 0&&(we=new pa,we.layers.enable(Ue),we.viewport=new $i,B[Ue]=we),we.matrix.fromArray(gt.transform.matrix),we.matrix.decompose(we.position,we.quaternion,we.scale),we.projectionMatrix.fromArray(gt.projectionMatrix),we.projectionMatrixInverse.copy(we.projectionMatrix).invert(),we.viewport.set(ze.x,ze.y,ze.width,ze.height),Ue===0&&(U.matrix.copy(we.matrix),U.matrix.decompose(U.position,U.quaternion,U.scale)),Re===!0&&U.cameras.push(we)}const Me=a.enabledFeatures;if(Me&&Me.includes("depth-sensing")&&a.depthUsage=="gpu-optimized"&&_){const Ue=_.getDepthInformation(_e[0]);Ue&&Ue.isValid&&Ue.texture&&p.init(e,Ue,a.renderState)}}for(let _e=0;_e<A.length;_e++){const Re=R[_e],Me=A[_e];Re!==null&&Me!==void 0&&Me.update(Re,pe,h||l)}J&&J(j,pe),pe.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:pe}),c=null}const ue=new k8;ue.setAnimationLoop(he),this.setAnimationLoop=function(j){J=j},this.dispose=function(){}}}const Lp=new zs,uue=new kn;function fue(n,e){function t(m,b){m.matrixAutoUpdate===!0&&m.updateMatrix(),b.value.copy(m.matrix)}function r(m,b){b.color.getRGB(m.fogColor.value,$6(n)),b.isFog?(m.fogNear.value=b.near,m.fogFar.value=b.far):b.isFogExp2&&(m.fogDensity.value=b.density)}function a(m,b,w,A,R){b.isMeshBasicMaterial||b.isMeshLambertMaterial?o(m,b):b.isMeshToonMaterial?(o(m,b),_(m,b)):b.isMeshPhongMaterial?(o(m,b),v(m,b)):b.isMeshStandardMaterial?(o(m,b),x(m,b),b.isMeshPhysicalMaterial&&C(m,b,R)):b.isMeshMatcapMaterial?(o(m,b),c(m,b)):b.isMeshDepthMaterial?o(m,b):b.isMeshDistanceMaterial?(o(m,b),p(m,b)):b.isMeshNormalMaterial?o(m,b):b.isLineBasicMaterial?(l(m,b),b.isLineDashedMaterial&&s(m,b)):b.isPointsMaterial?f(m,b,w,A):b.isSpriteMaterial?h(m,b):b.isShadowMaterial?(m.color.value.copy(b.color),m.opacity.value=b.opacity):b.isShaderMaterial&&(b.uniformsNeedUpdate=!1)}function o(m,b){m.opacity.value=b.opacity,b.color&&m.diffuse.value.copy(b.color),b.emissive&&m.emissive.value.copy(b.emissive).multiplyScalar(b.emissiveIntensity),b.map&&(m.map.value=b.map,t(b.map,m.mapTransform)),b.alphaMap&&(m.alphaMap.value=b.alphaMap,t(b.alphaMap,m.alphaMapTransform)),b.bumpMap&&(m.bumpMap.value=b.bumpMap,t(b.bumpMap,m.bumpMapTransform),m.bumpScale.value=b.bumpScale,b.side===os&&(m.bumpScale.value*=-1)),b.normalMap&&(m.normalMap.value=b.normalMap,t(b.normalMap,m.normalMapTransform),m.normalScale.value.copy(b.normalScale),b.side===os&&m.normalScale.value.negate()),b.displacementMap&&(m.displacementMap.value=b.displacementMap,t(b.displacementMap,m.displacementMapTransform),m.displacementScale.value=b.displacementScale,m.displacementBias.value=b.displacementBias),b.emissiveMap&&(m.emissiveMap.value=b.emissiveMap,t(b.emissiveMap,m.emissiveMapTransform)),b.specularMap&&(m.specularMap.value=b.specularMap,t(b.specularMap,m.specularMapTransform)),b.alphaTest>0&&(m.alphaTest.value=b.alphaTest);const w=e.get(b),A=w.envMap,R=w.envMapRotation;A&&(m.envMap.value=A,Lp.copy(R),Lp.x*=-1,Lp.y*=-1,Lp.z*=-1,A.isCubeTexture&&A.isRenderTargetTexture===!1&&(Lp.y*=-1,Lp.z*=-1),m.envMapRotation.value.setFromMatrix4(uue.makeRotationFromEuler(Lp)),m.flipEnvMap.value=A.isCubeTexture&&A.isRenderTargetTexture===!1?-1:1,m.reflectivity.value=b.reflectivity,m.ior.value=b.ior,m.refractionRatio.value=b.refractionRatio),b.lightMap&&(m.lightMap.value=b.lightMap,m.lightMapIntensity.value=b.lightMapIntensity,t(b.lightMap,m.lightMapTransform)),b.aoMap&&(m.aoMap.value=b.aoMap,m.aoMapIntensity.value=b.aoMapIntensity,t(b.aoMap,m.aoMapTransform))}function l(m,b){m.diffuse.value.copy(b.color),m.opacity.value=b.opacity,b.map&&(m.map.value=b.map,t(b.map,m.mapTransform))}function s(m,b){m.dashSize.value=b.dashSize,m.totalSize.value=b.dashSize+b.gapSize,m.scale.value=b.scale}function f(m,b,w,A){m.diffuse.value.copy(b.color),m.opacity.value=b.opacity,m.size.value=b.size*w,m.scale.value=A*.5,b.map&&(m.map.value=b.map,t(b.map,m.uvTransform)),b.alphaMap&&(m.alphaMap.value=b.alphaMap,t(b.alphaMap,m.alphaMapTransform)),b.alphaTest>0&&(m.alphaTest.value=b.alphaTest)}function h(m,b){m.diffuse.value.copy(b.color),m.opacity.value=b.opacity,m.rotation.value=b.rotation,b.map&&(m.map.value=b.map,t(b.map,m.mapTransform)),b.alphaMap&&(m.alphaMap.value=b.alphaMap,t(b.alphaMap,m.alphaMapTransform)),b.alphaTest>0&&(m.alphaTest.value=b.alphaTest)}function v(m,b){m.specular.value.copy(b.specular),m.shininess.value=Math.max(b.shininess,1e-4)}function _(m,b){b.gradientMap&&(m.gradientMap.value=b.gradientMap)}function x(m,b){m.metalness.value=b.metalness,b.metalnessMap&&(m.metalnessMap.value=b.metalnessMap,t(b.metalnessMap,m.metalnessMapTransform)),m.roughness.value=b.roughness,b.roughnessMap&&(m.roughnessMap.value=b.roughnessMap,t(b.roughnessMap,m.roughnessMapTransform)),b.envMap&&(m.envMapIntensity.value=b.envMapIntensity)}function C(m,b,w){m.ior.value=b.ior,b.sheen>0&&(m.sheenColor.value.copy(b.sheenColor).multiplyScalar(b.sheen),m.sheenRoughness.value=b.sheenRoughness,b.sheenColorMap&&(m.sheenColorMap.value=b.sheenColorMap,t(b.sheenColorMap,m.sheenColorMapTransform)),b.sheenRoughnessMap&&(m.sheenRoughnessMap.value=b.sheenRoughnessMap,t(b.sheenRoughnessMap,m.sheenRoughnessMapTransform))),b.clearcoat>0&&(m.clearcoat.value=b.clearcoat,m.clearcoatRoughness.value=b.clearcoatRoughness,b.clearcoatMap&&(m.clearcoatMap.value=b.clearcoatMap,t(b.clearcoatMap,m.clearcoatMapTransform)),b.clearcoatRoughnessMap&&(m.clearcoatRoughnessMap.value=b.clearcoatRoughnessMap,t(b.clearcoatRoughnessMap,m.clearcoatRoughnessMapTransform)),b.clearcoatNormalMap&&(m.clearcoatNormalMap.value=b.clearcoatNormalMap,t(b.clearcoatNormalMap,m.clearcoatNormalMapTransform),m.clearcoatNormalScale.value.copy(b.clearcoatNormalScale),b.side===os&&m.clearcoatNormalScale.value.negate())),b.dispersion>0&&(m.dispersion.value=b.dispersion),b.iridescence>0&&(m.iridescence.value=b.iridescence,m.iridescenceIOR.value=b.iridescenceIOR,m.iridescenceThicknessMinimum.value=b.iridescenceThicknessRange[0],m.iridescenceThicknessMaximum.value=b.iridescenceThicknessRange[1],b.iridescenceMap&&(m.iridescenceMap.value=b.iridescenceMap,t(b.iridescenceMap,m.iridescenceMapTransform)),b.iridescenceThicknessMap&&(m.iridescenceThicknessMap.value=b.iridescenceThicknessMap,t(b.iridescenceThicknessMap,m.iridescenceThicknessMapTransform))),b.transmission>0&&(m.transmission.value=b.transmission,m.transmissionSamplerMap.value=w.texture,m.transmissionSamplerSize.value.set(w.width,w.height),b.transmissionMap&&(m.transmissionMap.value=b.transmissionMap,t(b.transmissionMap,m.transmissionMapTransform)),m.thickness.value=b.thickness,b.thicknessMap&&(m.thicknessMap.value=b.thicknessMap,t(b.thicknessMap,m.thicknessMapTransform)),m.attenuationDistance.value=b.attenuationDistance,m.attenuationColor.value.copy(b.attenuationColor)),b.anisotropy>0&&(m.anisotropyVector.value.set(b.anisotropy*Math.cos(b.anisotropyRotation),b.anisotropy*Math.sin(b.anisotropyRotation)),b.anisotropyMap&&(m.anisotropyMap.value=b.anisotropyMap,t(b.anisotropyMap,m.anisotropyMapTransform))),m.specularIntensity.value=b.specularIntensity,m.specularColor.value.copy(b.specularColor),b.specularColorMap&&(m.specularColorMap.value=b.specularColorMap,t(b.specularColorMap,m.specularColorMapTransform)),b.specularIntensityMap&&(m.specularIntensityMap.value=b.specularIntensityMap,t(b.specularIntensityMap,m.specularIntensityMapTransform))}function c(m,b){b.matcap&&(m.matcap.value=b.matcap)}function p(m,b){const w=e.get(b).light;m.referencePosition.value.setFromMatrixPosition(w.matrixWorld),m.nearDistance.value=w.shadow.camera.near,m.farDistance.value=w.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:a}}function due(n,e,t,r){let a={},o={},l=[];const s=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function f(w,A){const R=A.program;r.uniformBlockBinding(w,R)}function h(w,A){let R=a[w.id];R===void 0&&(c(w),R=v(w),a[w.id]=R,w.addEventListener("dispose",m));const O=A.program;r.updateUBOMapping(w,O);const P=e.render.frame;o[w.id]!==P&&(x(w),o[w.id]=P)}function v(w){const A=_();w.__bindingPointIndex=A;const R=n.createBuffer(),O=w.__size,P=w.usage;return n.bindBuffer(n.UNIFORM_BUFFER,R),n.bufferData(n.UNIFORM_BUFFER,O,P),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,A,R),R}function _(){for(let w=0;w<s;w++)if(l.indexOf(w)===-1)return l.push(w),w;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function x(w){const A=a[w.id],R=w.uniforms,O=w.__cache;n.bindBuffer(n.UNIFORM_BUFFER,A);for(let P=0,D=R.length;P<D;P++){const F=Array.isArray(R[P])?R[P]:[R[P]];for(let B=0,U=F.length;B<U;B++){const V=F[B];if(C(V,P,B,O)===!0){const Q=V.__offset,X=Array.isArray(V.value)?V.value:[V.value];let ee=0;for(let ae=0;ae<X.length;ae++){const Z=X[ae],K=p(Z);typeof Z=="number"||typeof Z=="boolean"?(V.__data[0]=Z,n.bufferSubData(n.UNIFORM_BUFFER,Q+ee,V.__data)):Z.isMatrix3?(V.__data[0]=Z.elements[0],V.__data[1]=Z.elements[1],V.__data[2]=Z.elements[2],V.__data[3]=0,V.__data[4]=Z.elements[3],V.__data[5]=Z.elements[4],V.__data[6]=Z.elements[5],V.__data[7]=0,V.__data[8]=Z.elements[6],V.__data[9]=Z.elements[7],V.__data[10]=Z.elements[8],V.__data[11]=0):(Z.toArray(V.__data,ee),ee+=K.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,Q,V.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function C(w,A,R,O){const P=w.value,D=A+"_"+R;if(O[D]===void 0)return typeof P=="number"||typeof P=="boolean"?O[D]=P:O[D]=P.clone(),!0;{const F=O[D];if(typeof P=="number"||typeof P=="boolean"){if(F!==P)return O[D]=P,!0}else if(F.equals(P)===!1)return F.copy(P),!0}return!1}function c(w){const A=w.uniforms;let R=0;const O=16;for(let D=0,F=A.length;D<F;D++){const B=Array.isArray(A[D])?A[D]:[A[D]];for(let U=0,V=B.length;U<V;U++){const Q=B[U],X=Array.isArray(Q.value)?Q.value:[Q.value];for(let ee=0,ae=X.length;ee<ae;ee++){const Z=X[ee],K=p(Z),te=R%O,ce=te%K.boundary,q=te+ce;R+=ce,q!==0&&O-q<K.storage&&(R+=O-q),Q.__data=new Float32Array(K.storage/Float32Array.BYTES_PER_ELEMENT),Q.__offset=R,R+=K.storage}}}const P=R%O;return P>0&&(R+=O-P),w.__size=R,w.__cache={},this}function p(w){const A={boundary:0,storage:0};return typeof w=="number"||typeof w=="boolean"?(A.boundary=4,A.storage=4):w.isVector2?(A.boundary=8,A.storage=8):w.isVector3||w.isColor?(A.boundary=16,A.storage=12):w.isVector4?(A.boundary=16,A.storage=16):w.isMatrix3?(A.boundary=48,A.storage=48):w.isMatrix4?(A.boundary=64,A.storage=64):w.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",w),A}function m(w){const A=w.target;A.removeEventListener("dispose",m);const R=l.indexOf(A.__bindingPointIndex);l.splice(R,1),n.deleteBuffer(a[A.id]),delete a[A.id],delete o[A.id]}function b(){for(const w in a)n.deleteBuffer(a[w]);l=[],a={},o={}}return{bind:f,update:h,dispose:b}}class X8{constructor(e={}){const{canvas:t=F6(),context:r=null,depth:a=!0,stencil:o=!1,alpha:l=!1,antialias:s=!1,premultipliedAlpha:f=!0,preserveDrawingBuffer:h=!1,powerPreference:v="default",failIfMajorPerformanceCaveat:_=!1,reverseDepthBuffer:x=!1}=e;this.isWebGLRenderer=!0;let C;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");C=r.getContextAttributes().alpha}else C=l;const c=new Uint32Array(4),p=new Int32Array(4);let m=null,b=null;const w=[],A=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Oo,this.toneMapping=Wu,this.toneMappingExposure=1;const R=this;let O=!1,P=0,D=0,F=null,B=-1,U=null;const V=new $i,Q=new $i;let X=null;const ee=new on(0);let ae=0,Z=t.width,K=t.height,te=1,ce=null,q=null;const J=new $i(0,0,Z,K),he=new $i(0,0,Z,K);let ue=!1;const j=new R_;let pe=!1,_e=!1;this.transmissionResolutionScale=1;const Re=new kn,Me=new kn,Ae=new ye,Ue=new $i,gt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let ze=!1;function we(){return F===null?te:1}let re=r;function Fe(le,Be){return t.getContext(le,Be)}try{const le={alpha:!0,depth:a,stencil:o,antialias:s,premultipliedAlpha:f,preserveDrawingBuffer:h,powerPreference:v,failIfMajorPerformanceCaveat:_};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${cE}`),t.addEventListener("webglcontextlost",pt,!1),t.addEventListener("webglcontextrestored",Lt,!1),t.addEventListener("webglcontextcreationerror",zt,!1),re===null){const Be="webgl2";if(re=Fe(Be,le),re===null)throw Fe(Be)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(le){throw console.error("THREE.WebGLRenderer: "+le.message),le}let Ie,Ye,$e,lt,ot,fe,oe,Ee,Pe,qe,He,mt,st,ht,It,at,_t,wt,je,it,Se,ke,bt,Te;function St(){Ie=new Cle(re),Ie.init(),ke=new W8(re,Ie),Ye=new vle(re,Ie,e,ke),$e=new rue(re,Ie),Ye.reverseDepthBuffer&&x&&$e.buffers.depth.setReversed(!0),lt=new Tle(re),ot=new jce,fe=new aue(re,Ie,$e,ot,Ye,ke,lt),oe=new ble(R),Ee=new wle(R),Pe=new Pae(re),bt=new mle(re,Pe),qe=new Ele(re,Pe,lt,bt),He=new Rle(re,qe,Pe,lt),je=new Ale(re,Ye,fe),at=new yle(ot),mt=new Gce(R,oe,Ee,Ie,Ye,bt,at),st=new fue(R,ot),ht=new Xce,It=new Jce(Ie),wt=new ple(R,oe,Ee,$e,He,C,f),_t=new nue(R,He,Ye),Te=new due(re,lt,Ye,$e),it=new gle(re,Ie,lt),Se=new Mle(re,Ie,lt),lt.programs=mt.programs,R.capabilities=Ye,R.extensions=Ie,R.properties=ot,R.renderLists=ht,R.shadowMap=_t,R.state=$e,R.info=lt}St();const Qe=new cue(R,re);this.xr=Qe,this.getContext=function(){return re},this.getContextAttributes=function(){return re.getContextAttributes()},this.forceContextLoss=function(){const le=Ie.get("WEBGL_lose_context");le&&le.loseContext()},this.forceContextRestore=function(){const le=Ie.get("WEBGL_lose_context");le&&le.restoreContext()},this.getPixelRatio=function(){return te},this.setPixelRatio=function(le){le!==void 0&&(te=le,this.setSize(Z,K,!1))},this.getSize=function(le){return le.set(Z,K)},this.setSize=function(le,Be,rt=!0){if(Qe.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}Z=le,K=Be,t.width=Math.floor(le*te),t.height=Math.floor(Be*te),rt===!0&&(t.style.width=le+"px",t.style.height=Be+"px"),this.setViewport(0,0,le,Be)},this.getDrawingBufferSize=function(le){return le.set(Z*te,K*te).floor()},this.setDrawingBufferSize=function(le,Be,rt){Z=le,K=Be,te=rt,t.width=Math.floor(le*rt),t.height=Math.floor(Be*rt),this.setViewport(0,0,le,Be)},this.getCurrentViewport=function(le){return le.copy(V)},this.getViewport=function(le){return le.copy(J)},this.setViewport=function(le,Be,rt,Ke){le.isVector4?J.set(le.x,le.y,le.z,le.w):J.set(le,Be,rt,Ke),$e.viewport(V.copy(J).multiplyScalar(te).round())},this.getScissor=function(le){return le.copy(he)},this.setScissor=function(le,Be,rt,Ke){le.isVector4?he.set(le.x,le.y,le.z,le.w):he.set(le,Be,rt,Ke),$e.scissor(Q.copy(he).multiplyScalar(te).round())},this.getScissorTest=function(){return ue},this.setScissorTest=function(le){$e.setScissorTest(ue=le)},this.setOpaqueSort=function(le){ce=le},this.setTransparentSort=function(le){q=le},this.getClearColor=function(le){return le.copy(wt.getClearColor())},this.setClearColor=function(){wt.setClearColor(...arguments)},this.getClearAlpha=function(){return wt.getClearAlpha()},this.setClearAlpha=function(){wt.setClearAlpha(...arguments)},this.clear=function(le=!0,Be=!0,rt=!0){let Ke=0;if(le){let Ve=!1;if(F!==null){const Rt=F.texture.format;Ve=Rt===vE||Rt===gE||Rt===M_}if(Ve){const Rt=F.texture.type,jt=Rt===$c||Rt===pd||Rt===Jv||Rt===bm||Rt===hE||Rt===pE,Kt=wt.getClearColor(),Xt=wt.getClearAlpha(),bn=Kt.r,hn=Kt.g,sn=Kt.b;jt?(c[0]=bn,c[1]=hn,c[2]=sn,c[3]=Xt,re.clearBufferuiv(re.COLOR,0,c)):(p[0]=bn,p[1]=hn,p[2]=sn,p[3]=Xt,re.clearBufferiv(re.COLOR,0,p))}else Ke|=re.COLOR_BUFFER_BIT}Be&&(Ke|=re.DEPTH_BUFFER_BIT),rt&&(Ke|=re.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),re.clear(Ke)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",pt,!1),t.removeEventListener("webglcontextrestored",Lt,!1),t.removeEventListener("webglcontextcreationerror",zt,!1),wt.dispose(),ht.dispose(),It.dispose(),ot.dispose(),oe.dispose(),Ee.dispose(),He.dispose(),bt.dispose(),Te.dispose(),mt.dispose(),Qe.dispose(),Qe.removeEventListener("sessionstart",cr),Qe.removeEventListener("sessionend",Kr),Bn.stop()};function pt(le){le.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),O=!0}function Lt(){console.log("THREE.WebGLRenderer: Context Restored."),O=!1;const le=lt.autoReset,Be=_t.enabled,rt=_t.autoUpdate,Ke=_t.needsUpdate,Ve=_t.type;St(),lt.autoReset=le,_t.enabled=Be,_t.autoUpdate=rt,_t.needsUpdate=Ke,_t.type=Ve}function zt(le){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",le.statusMessage)}function Jt(le){const Be=le.target;Be.removeEventListener("dispose",Jt),cn(Be)}function cn(le){Zt(le),ot.remove(le)}function Zt(le){const Be=ot.get(le).programs;Be!==void 0&&(Be.forEach(function(rt){mt.releaseProgram(rt)}),le.isShaderMaterial&&mt.releaseShaderCache(le))}this.renderBufferDirect=function(le,Be,rt,Ke,Ve,Rt){Be===null&&(Be=gt);const jt=Ve.isMesh&&Ve.matrixWorld.determinant()<0,Kt=Nr(le,Be,rt,Ke,Ve);$e.setMaterial(Ke,jt);let Xt=rt.index,bn=1;if(Ke.wireframe===!0){if(Xt=qe.getWireframeAttribute(rt),Xt===void 0)return;bn=2}const hn=rt.drawRange,sn=rt.attributes.position;let $n=hn.start*bn,Gn=(hn.start+hn.count)*bn;Rt!==null&&($n=Math.max($n,Rt.start*bn),Gn=Math.min(Gn,(Rt.start+Rt.count)*bn)),Xt!==null?($n=Math.max($n,0),Gn=Math.min(Gn,Xt.count)):sn!=null&&($n=Math.max($n,0),Gn=Math.min(Gn,sn.count));const Wn=Gn-$n;if(Wn<0||Wn===1/0)return;bt.setup(Ve,Ke,Kt,rt,Xt);let Pn,Sn=it;if(Xt!==null&&(Pn=Pe.get(Xt),Sn=Se,Sn.setIndex(Pn)),Ve.isMesh)Ke.wireframe===!0?($e.setLineWidth(Ke.wireframeLinewidth*we()),Sn.setMode(re.LINES)):Sn.setMode(re.TRIANGLES);else if(Ve.isLine){let fn=Ke.linewidth;fn===void 0&&(fn=1),$e.setLineWidth(fn*we()),Ve.isLineSegments?Sn.setMode(re.LINES):Ve.isLineLoop?Sn.setMode(re.LINE_LOOP):Sn.setMode(re.LINE_STRIP)}else Ve.isPoints?Sn.setMode(re.POINTS):Ve.isSprite&&Sn.setMode(re.TRIANGLES);if(Ve.isBatchedMesh)if(Ve._multiDrawInstances!==null)Hp("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Sn.renderMultiDrawInstances(Ve._multiDrawStarts,Ve._multiDrawCounts,Ve._multiDrawCount,Ve._multiDrawInstances);else if(Ie.get("WEBGL_multi_draw"))Sn.renderMultiDraw(Ve._multiDrawStarts,Ve._multiDrawCounts,Ve._multiDrawCount);else{const fn=Ve._multiDrawStarts,wi=Ve._multiDrawCounts,Xn=Ve._multiDrawCount,Vn=Xt?Pe.get(Xt).bytesPerElement:1,On=ot.get(Ke).currentProgram.getUniforms();for(let En=0;En<Xn;En++)On.setValue(re,"_gl_DrawID",En),Sn.render(fn[En]/Vn,wi[En])}else if(Ve.isInstancedMesh)Sn.renderInstances($n,Wn,Ve.count);else if(rt.isInstancedBufferGeometry){const fn=rt._maxInstanceCount!==void 0?rt._maxInstanceCount:1/0,wi=Math.min(rt.instanceCount,fn);Sn.renderInstances($n,Wn,wi)}else Sn.render($n,Wn)};function Dt(le,Be,rt){le.transparent===!0&&le.side===Fl&&le.forceSinglePass===!1?(le.side=os,le.needsUpdate=!0,dn(le,Be,rt),le.side=dd,le.needsUpdate=!0,dn(le,Be,rt),le.side=Fl):dn(le,Be,rt)}this.compile=function(le,Be,rt=null){rt===null&&(rt=le),b=It.get(rt),b.init(Be),A.push(b),rt.traverseVisible(function(Ve){Ve.isLight&&Ve.layers.test(Be.layers)&&(b.pushLight(Ve),Ve.castShadow&&b.pushShadow(Ve))}),le!==rt&&le.traverseVisible(function(Ve){Ve.isLight&&Ve.layers.test(Be.layers)&&(b.pushLight(Ve),Ve.castShadow&&b.pushShadow(Ve))}),b.setupLights();const Ke=new Set;return le.traverse(function(Ve){if(!(Ve.isMesh||Ve.isPoints||Ve.isLine||Ve.isSprite))return;const Rt=Ve.material;if(Rt)if(Array.isArray(Rt))for(let jt=0;jt<Rt.length;jt++){const Kt=Rt[jt];Dt(Kt,rt,Ve),Ke.add(Kt)}else Dt(Rt,rt,Ve),Ke.add(Rt)}),b=A.pop(),Ke},this.compileAsync=function(le,Be,rt=null){const Ke=this.compile(le,Be,rt);return new Promise(Ve=>{function Rt(){if(Ke.forEach(function(jt){ot.get(jt).currentProgram.isReady()&&Ke.delete(jt)}),Ke.size===0){Ve(le);return}setTimeout(Rt,10)}Ie.get("KHR_parallel_shader_compile")!==null?Rt():setTimeout(Rt,10)})};let qt=null;function _n(le){qt&&qt(le)}function cr(){Bn.stop()}function Kr(){Bn.start()}const Bn=new k8;Bn.setAnimationLoop(_n),typeof self<"u"&&Bn.setContext(self),this.setAnimationLoop=function(le){qt=le,Qe.setAnimationLoop(le),le===null?Bn.stop():Bn.start()},Qe.addEventListener("sessionstart",cr),Qe.addEventListener("sessionend",Kr),this.render=function(le,Be){if(Be!==void 0&&Be.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(O===!0)return;if(le.matrixWorldAutoUpdate===!0&&le.updateMatrixWorld(),Be.parent===null&&Be.matrixWorldAutoUpdate===!0&&Be.updateMatrixWorld(),Qe.enabled===!0&&Qe.isPresenting===!0&&(Qe.cameraAutoUpdate===!0&&Qe.updateCamera(Be),Be=Qe.getCamera()),le.isScene===!0&&le.onBeforeRender(R,le,Be,F),b=It.get(le,A.length),b.init(Be),A.push(b),Me.multiplyMatrices(Be.projectionMatrix,Be.matrixWorldInverse),j.setFromProjectionMatrix(Me),_e=this.localClippingEnabled,pe=at.init(this.clippingPlanes,_e),m=ht.get(le,w.length),m.init(),w.push(m),Qe.enabled===!0&&Qe.isPresenting===!0){const Rt=R.xr.getDepthSensingMesh();Rt!==null&&Ri(Rt,Be,-1/0,R.sortObjects)}Ri(le,Be,0,R.sortObjects),m.finish(),R.sortObjects===!0&&m.sort(ce,q),ze=Qe.enabled===!1||Qe.isPresenting===!1||Qe.hasDepthSensing()===!1,ze&&wt.addToRenderList(m,le),this.info.render.frame++,pe===!0&&at.beginShadows();const rt=b.state.shadowsArray;_t.render(rt,le,Be),pe===!0&&at.endShadows(),this.info.autoReset===!0&&this.info.reset();const Ke=m.opaque,Ve=m.transmissive;if(b.setupLights(),Be.isArrayCamera){const Rt=Be.cameras;if(Ve.length>0)for(let jt=0,Kt=Rt.length;jt<Kt;jt++){const Xt=Rt[jt];Tn(Ke,Ve,le,Xt)}ze&&wt.render(le);for(let jt=0,Kt=Rt.length;jt<Kt;jt++){const Xt=Rt[jt];xr(m,le,Xt,Xt.viewport)}}else Ve.length>0&&Tn(Ke,Ve,le,Be),ze&&wt.render(le),xr(m,le,Be);F!==null&&D===0&&(fe.updateMultisampleRenderTarget(F),fe.updateRenderTargetMipmap(F)),le.isScene===!0&&le.onAfterRender(R,le,Be),bt.resetDefaultState(),B=-1,U=null,A.pop(),A.length>0?(b=A[A.length-1],pe===!0&&at.setGlobalState(R.clippingPlanes,b.state.camera)):b=null,w.pop(),w.length>0?m=w[w.length-1]:m=null};function Ri(le,Be,rt,Ke){if(le.visible===!1)return;if(le.layers.test(Be.layers)){if(le.isGroup)rt=le.renderOrder;else if(le.isLOD)le.autoUpdate===!0&&le.update(Be);else if(le.isLight)b.pushLight(le),le.castShadow&&b.pushShadow(le);else if(le.isSprite){if(!le.frustumCulled||j.intersectsSprite(le)){Ke&&Ue.setFromMatrixPosition(le.matrixWorld).applyMatrix4(Me);const jt=He.update(le),Kt=le.material;Kt.visible&&m.push(le,jt,Kt,rt,Ue.z,null)}}else if((le.isMesh||le.isLine||le.isPoints)&&(!le.frustumCulled||j.intersectsObject(le))){const jt=He.update(le),Kt=le.material;if(Ke&&(le.boundingSphere!==void 0?(le.boundingSphere===null&&le.computeBoundingSphere(),Ue.copy(le.boundingSphere.center)):(jt.boundingSphere===null&&jt.computeBoundingSphere(),Ue.copy(jt.boundingSphere.center)),Ue.applyMatrix4(le.matrixWorld).applyMatrix4(Me)),Array.isArray(Kt)){const Xt=jt.groups;for(let bn=0,hn=Xt.length;bn<hn;bn++){const sn=Xt[bn],$n=Kt[sn.materialIndex];$n&&$n.visible&&m.push(le,jt,$n,rt,Ue.z,sn)}}else Kt.visible&&m.push(le,jt,Kt,rt,Ue.z,null)}}const Rt=le.children;for(let jt=0,Kt=Rt.length;jt<Kt;jt++)Ri(Rt[jt],Be,rt,Ke)}function xr(le,Be,rt,Ke){const Ve=le.opaque,Rt=le.transmissive,jt=le.transparent;b.setupLightsView(rt),pe===!0&&at.setGlobalState(R.clippingPlanes,rt),Ke&&$e.viewport(V.copy(Ke)),Ve.length>0&&Rn(Ve,Be,rt),Rt.length>0&&Rn(Rt,Be,rt),jt.length>0&&Rn(jt,Be,rt),$e.buffers.depth.setTest(!0),$e.buffers.depth.setMask(!0),$e.buffers.color.setMask(!0),$e.setPolygonOffset(!1)}function Tn(le,Be,rt,Ke){if((rt.isScene===!0?rt.overrideMaterial:null)!==null)return;b.state.transmissionRenderTarget[Ke.id]===void 0&&(b.state.transmissionRenderTarget[Ke.id]=new Qu(1,1,{generateMipmaps:!0,type:Ie.has("EXT_color_buffer_half_float")||Ie.has("EXT_color_buffer_float")?b0:$c,minFilter:Gu,samples:4,stencilBuffer:o,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Di.workingColorSpace}));const Rt=b.state.transmissionRenderTarget[Ke.id],jt=Ke.viewport||V;Rt.setSize(jt.z*R.transmissionResolutionScale,jt.w*R.transmissionResolutionScale);const Kt=R.getRenderTarget();R.setRenderTarget(Rt),R.getClearColor(ee),ae=R.getClearAlpha(),ae<1&&R.setClearColor(16777215,.5),R.clear(),ze&&wt.render(rt);const Xt=R.toneMapping;R.toneMapping=Wu;const bn=Ke.viewport;if(Ke.viewport!==void 0&&(Ke.viewport=void 0),b.setupLightsView(Ke),pe===!0&&at.setGlobalState(R.clippingPlanes,Ke),Rn(le,rt,Ke),fe.updateMultisampleRenderTarget(Rt),fe.updateRenderTargetMipmap(Rt),Ie.has("WEBGL_multisampled_render_to_texture")===!1){let hn=!1;for(let sn=0,$n=Be.length;sn<$n;sn++){const Gn=Be[sn],Wn=Gn.object,Pn=Gn.geometry,Sn=Gn.material,fn=Gn.group;if(Sn.side===Fl&&Wn.layers.test(Ke.layers)){const wi=Sn.side;Sn.side=os,Sn.needsUpdate=!0,ti(Wn,rt,Ke,Pn,Sn,fn),Sn.side=wi,Sn.needsUpdate=!0,hn=!0}}hn===!0&&(fe.updateMultisampleRenderTarget(Rt),fe.updateRenderTargetMipmap(Rt))}R.setRenderTarget(Kt),R.setClearColor(ee,ae),bn!==void 0&&(Ke.viewport=bn),R.toneMapping=Xt}function Rn(le,Be,rt){const Ke=Be.isScene===!0?Be.overrideMaterial:null;for(let Ve=0,Rt=le.length;Ve<Rt;Ve++){const jt=le[Ve],Kt=jt.object,Xt=jt.geometry,bn=Ke===null?jt.material:Ke,hn=jt.group;Kt.layers.test(rt.layers)&&ti(Kt,Be,rt,Xt,bn,hn)}}function ti(le,Be,rt,Ke,Ve,Rt){le.onBeforeRender(R,Be,rt,Ke,Ve,Rt),le.modelViewMatrix.multiplyMatrices(rt.matrixWorldInverse,le.matrixWorld),le.normalMatrix.getNormalMatrix(le.modelViewMatrix),Ve.onBeforeRender(R,Be,rt,Ke,le,Rt),Ve.transparent===!0&&Ve.side===Fl&&Ve.forceSinglePass===!1?(Ve.side=os,Ve.needsUpdate=!0,R.renderBufferDirect(rt,Be,Ke,Ve,le,Rt),Ve.side=dd,Ve.needsUpdate=!0,R.renderBufferDirect(rt,Be,Ke,Ve,le,Rt),Ve.side=Fl):R.renderBufferDirect(rt,Be,Ke,Ve,le,Rt),le.onAfterRender(R,Be,rt,Ke,Ve,Rt)}function dn(le,Be,rt){Be.isScene!==!0&&(Be=gt);const Ke=ot.get(le),Ve=b.state.lights,Rt=b.state.shadowsArray,jt=Ve.state.version,Kt=mt.getParameters(le,Ve.state,Rt,Be,rt),Xt=mt.getProgramCacheKey(Kt);let bn=Ke.programs;Ke.environment=le.isMeshStandardMaterial?Be.environment:null,Ke.fog=Be.fog,Ke.envMap=(le.isMeshStandardMaterial?Ee:oe).get(le.envMap||Ke.environment),Ke.envMapRotation=Ke.environment!==null&&le.envMap===null?Be.environmentRotation:le.envMapRotation,bn===void 0&&(le.addEventListener("dispose",Jt),bn=new Map,Ke.programs=bn);let hn=bn.get(Xt);if(hn!==void 0){if(Ke.currentProgram===hn&&Ke.lightsStateVersion===jt)return un(le,Kt),hn}else Kt.uniforms=mt.getUniforms(le),le.onBeforeCompile(Kt,R),hn=mt.acquireProgram(Kt,Xt),bn.set(Xt,hn),Ke.uniforms=Kt.uniforms;const sn=Ke.uniforms;return(!le.isShaderMaterial&&!le.isRawShaderMaterial||le.clipping===!0)&&(sn.clippingPlanes=at.uniform),un(le,Kt),Ke.needsLights=Ir(le),Ke.lightsStateVersion=jt,Ke.needsLights&&(sn.ambientLightColor.value=Ve.state.ambient,sn.lightProbe.value=Ve.state.probe,sn.directionalLights.value=Ve.state.directional,sn.directionalLightShadows.value=Ve.state.directionalShadow,sn.spotLights.value=Ve.state.spot,sn.spotLightShadows.value=Ve.state.spotShadow,sn.rectAreaLights.value=Ve.state.rectArea,sn.ltc_1.value=Ve.state.rectAreaLTC1,sn.ltc_2.value=Ve.state.rectAreaLTC2,sn.pointLights.value=Ve.state.point,sn.pointLightShadows.value=Ve.state.pointShadow,sn.hemisphereLights.value=Ve.state.hemi,sn.directionalShadowMap.value=Ve.state.directionalShadowMap,sn.directionalShadowMatrix.value=Ve.state.directionalShadowMatrix,sn.spotShadowMap.value=Ve.state.spotShadowMap,sn.spotLightMatrix.value=Ve.state.spotLightMatrix,sn.spotLightMap.value=Ve.state.spotLightMap,sn.pointShadowMap.value=Ve.state.pointShadowMap,sn.pointShadowMatrix.value=Ve.state.pointShadowMatrix),Ke.currentProgram=hn,Ke.uniformsList=null,hn}function ai(le){if(le.uniformsList===null){const Be=le.currentProgram.getUniforms();le.uniformsList=M1.seqWithValue(Be.seq,le.uniforms)}return le.uniformsList}function un(le,Be){const rt=ot.get(le);rt.outputColorSpace=Be.outputColorSpace,rt.batching=Be.batching,rt.batchingColor=Be.batchingColor,rt.instancing=Be.instancing,rt.instancingColor=Be.instancingColor,rt.instancingMorph=Be.instancingMorph,rt.skinning=Be.skinning,rt.morphTargets=Be.morphTargets,rt.morphNormals=Be.morphNormals,rt.morphColors=Be.morphColors,rt.morphTargetsCount=Be.morphTargetsCount,rt.numClippingPlanes=Be.numClippingPlanes,rt.numIntersection=Be.numClipIntersection,rt.vertexAlphas=Be.vertexAlphas,rt.vertexTangents=Be.vertexTangents,rt.toneMapping=Be.toneMapping}function Nr(le,Be,rt,Ke,Ve){Be.isScene!==!0&&(Be=gt),fe.resetTextureUnits();const Rt=Be.fog,jt=Ke.isMeshStandardMaterial?Be.environment:null,Kt=F===null?R.outputColorSpace:F.isXRRenderTarget===!0?F.texture.colorSpace:Bh,Xt=(Ke.isMeshStandardMaterial?Ee:oe).get(Ke.envMap||jt),bn=Ke.vertexColors===!0&&!!rt.attributes.color&&rt.attributes.color.itemSize===4,hn=!!rt.attributes.tangent&&(!!Ke.normalMap||Ke.anisotropy>0),sn=!!rt.morphAttributes.position,$n=!!rt.morphAttributes.normal,Gn=!!rt.morphAttributes.color;let Wn=Wu;Ke.toneMapped&&(F===null||F.isXRRenderTarget===!0)&&(Wn=R.toneMapping);const Pn=rt.morphAttributes.position||rt.morphAttributes.normal||rt.morphAttributes.color,Sn=Pn!==void 0?Pn.length:0,fn=ot.get(Ke),wi=b.state.lights;if(pe===!0&&(_e===!0||le!==U)){const Gi=le===U&&Ke.id===B;at.setState(Ke,le,Gi)}let Xn=!1;Ke.version===fn.__version?(fn.needsLights&&fn.lightsStateVersion!==wi.state.version||fn.outputColorSpace!==Kt||Ve.isBatchedMesh&&fn.batching===!1||!Ve.isBatchedMesh&&fn.batching===!0||Ve.isBatchedMesh&&fn.batchingColor===!0&&Ve.colorTexture===null||Ve.isBatchedMesh&&fn.batchingColor===!1&&Ve.colorTexture!==null||Ve.isInstancedMesh&&fn.instancing===!1||!Ve.isInstancedMesh&&fn.instancing===!0||Ve.isSkinnedMesh&&fn.skinning===!1||!Ve.isSkinnedMesh&&fn.skinning===!0||Ve.isInstancedMesh&&fn.instancingColor===!0&&Ve.instanceColor===null||Ve.isInstancedMesh&&fn.instancingColor===!1&&Ve.instanceColor!==null||Ve.isInstancedMesh&&fn.instancingMorph===!0&&Ve.morphTexture===null||Ve.isInstancedMesh&&fn.instancingMorph===!1&&Ve.morphTexture!==null||fn.envMap!==Xt||Ke.fog===!0&&fn.fog!==Rt||fn.numClippingPlanes!==void 0&&(fn.numClippingPlanes!==at.numPlanes||fn.numIntersection!==at.numIntersection)||fn.vertexAlphas!==bn||fn.vertexTangents!==hn||fn.morphTargets!==sn||fn.morphNormals!==$n||fn.morphColors!==Gn||fn.toneMapping!==Wn||fn.morphTargetsCount!==Sn)&&(Xn=!0):(Xn=!0,fn.__version=Ke.version);let Vn=fn.currentProgram;Xn===!0&&(Vn=dn(Ke,Be,Ve));let On=!1,En=!1,ni=!1;const An=Vn.getUniforms(),Ci=fn.uniforms;if($e.useProgram(Vn.program)&&(On=!0,En=!0,ni=!0),Ke.id!==B&&(B=Ke.id,En=!0),On||U!==le){$e.buffers.depth.getReversed()?(Re.copy(le.projectionMatrix),nie(Re),iie(Re),An.setValue(re,"projectionMatrix",Re)):An.setValue(re,"projectionMatrix",le.projectionMatrix),An.setValue(re,"viewMatrix",le.matrixWorldInverse);const Ki=An.map.cameraPosition;Ki!==void 0&&Ki.setValue(re,Ae.setFromMatrixPosition(le.matrixWorld)),Ye.logarithmicDepthBuffer&&An.setValue(re,"logDepthBufFC",2/(Math.log(le.far+1)/Math.LN2)),(Ke.isMeshPhongMaterial||Ke.isMeshToonMaterial||Ke.isMeshLambertMaterial||Ke.isMeshBasicMaterial||Ke.isMeshStandardMaterial||Ke.isShaderMaterial)&&An.setValue(re,"isOrthographic",le.isOrthographicCamera===!0),U!==le&&(U=le,En=!0,ni=!0)}if(Ve.isSkinnedMesh){An.setOptional(re,Ve,"bindMatrix"),An.setOptional(re,Ve,"bindMatrixInverse");const Gi=Ve.skeleton;Gi&&(Gi.boneTexture===null&&Gi.computeBoneTexture(),An.setValue(re,"boneTexture",Gi.boneTexture,fe))}Ve.isBatchedMesh&&(An.setOptional(re,Ve,"batchingTexture"),An.setValue(re,"batchingTexture",Ve._matricesTexture,fe),An.setOptional(re,Ve,"batchingIdTexture"),An.setValue(re,"batchingIdTexture",Ve._indirectTexture,fe),An.setOptional(re,Ve,"batchingColorTexture"),Ve._colorsTexture!==null&&An.setValue(re,"batchingColorTexture",Ve._colorsTexture,fe));const Ni=rt.morphAttributes;if((Ni.position!==void 0||Ni.normal!==void 0||Ni.color!==void 0)&&je.update(Ve,rt,Vn),(En||fn.receiveShadow!==Ve.receiveShadow)&&(fn.receiveShadow=Ve.receiveShadow,An.setValue(re,"receiveShadow",Ve.receiveShadow)),Ke.isMeshGouraudMaterial&&Ke.envMap!==null&&(Ci.envMap.value=Xt,Ci.flipEnvMap.value=Xt.isCubeTexture&&Xt.isRenderTargetTexture===!1?-1:1),Ke.isMeshStandardMaterial&&Ke.envMap===null&&Be.environment!==null&&(Ci.envMapIntensity.value=Be.environmentIntensity),En&&(An.setValue(re,"toneMappingExposure",R.toneMappingExposure),fn.needsLights&&Ur(Ci,ni),Rt&&Ke.fog===!0&&st.refreshFogUniforms(Ci,Rt),st.refreshMaterialUniforms(Ci,Ke,te,K,b.state.transmissionRenderTarget[le.id]),M1.upload(re,ai(fn),Ci,fe)),Ke.isShaderMaterial&&Ke.uniformsNeedUpdate===!0&&(M1.upload(re,ai(fn),Ci,fe),Ke.uniformsNeedUpdate=!1),Ke.isSpriteMaterial&&An.setValue(re,"center",Ve.center),An.setValue(re,"modelViewMatrix",Ve.modelViewMatrix),An.setValue(re,"normalMatrix",Ve.normalMatrix),An.setValue(re,"modelMatrix",Ve.matrixWorld),Ke.isShaderMaterial||Ke.isRawShaderMaterial){const Gi=Ke.uniformsGroups;for(let Ki=0,Pr=Gi.length;Ki<Pr;Ki++){const Yi=Gi[Ki];Te.update(Yi,Vn),Te.bind(Yi,Vn)}}return Vn}function Ur(le,Be){le.ambientLightColor.needsUpdate=Be,le.lightProbe.needsUpdate=Be,le.directionalLights.needsUpdate=Be,le.directionalLightShadows.needsUpdate=Be,le.pointLights.needsUpdate=Be,le.pointLightShadows.needsUpdate=Be,le.spotLights.needsUpdate=Be,le.spotLightShadows.needsUpdate=Be,le.rectAreaLights.needsUpdate=Be,le.hemisphereLights.needsUpdate=Be}function Ir(le){return le.isMeshLambertMaterial||le.isMeshToonMaterial||le.isMeshPhongMaterial||le.isMeshStandardMaterial||le.isShadowMaterial||le.isShaderMaterial&&le.lights===!0}this.getActiveCubeFace=function(){return P},this.getActiveMipmapLevel=function(){return D},this.getRenderTarget=function(){return F},this.setRenderTargetTextures=function(le,Be,rt){ot.get(le.texture).__webglTexture=Be,ot.get(le.depthTexture).__webglTexture=rt;const Ke=ot.get(le);Ke.__hasExternalTextures=!0,Ke.__autoAllocateDepthBuffer=rt===void 0,Ke.__autoAllocateDepthBuffer||Ie.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Ke.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(le,Be){const rt=ot.get(le);rt.__webglFramebuffer=Be,rt.__useDefaultFramebuffer=Be===void 0};const zr=re.createFramebuffer();this.setRenderTarget=function(le,Be=0,rt=0){F=le,P=Be,D=rt;let Ke=!0,Ve=null,Rt=!1,jt=!1;if(le){const Xt=ot.get(le);if(Xt.__useDefaultFramebuffer!==void 0)$e.bindFramebuffer(re.FRAMEBUFFER,null),Ke=!1;else if(Xt.__webglFramebuffer===void 0)fe.setupRenderTarget(le);else if(Xt.__hasExternalTextures)fe.rebindTextures(le,ot.get(le.texture).__webglTexture,ot.get(le.depthTexture).__webglTexture);else if(le.depthBuffer){const sn=le.depthTexture;if(Xt.__boundDepthTexture!==sn){if(sn!==null&&ot.has(sn)&&(le.width!==sn.image.width||le.height!==sn.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");fe.setupDepthRenderbuffer(le)}}const bn=le.texture;(bn.isData3DTexture||bn.isDataArrayTexture||bn.isCompressedArrayTexture)&&(jt=!0);const hn=ot.get(le).__webglFramebuffer;le.isWebGLCubeRenderTarget?(Array.isArray(hn[Be])?Ve=hn[Be][rt]:Ve=hn[Be],Rt=!0):le.samples>0&&fe.useMultisampledRTT(le)===!1?Ve=ot.get(le).__webglMultisampledFramebuffer:Array.isArray(hn)?Ve=hn[rt]:Ve=hn,V.copy(le.viewport),Q.copy(le.scissor),X=le.scissorTest}else V.copy(J).multiplyScalar(te).floor(),Q.copy(he).multiplyScalar(te).floor(),X=ue;if(rt!==0&&(Ve=zr),$e.bindFramebuffer(re.FRAMEBUFFER,Ve)&&Ke&&$e.drawBuffers(le,Ve),$e.viewport(V),$e.scissor(Q),$e.setScissorTest(X),Rt){const Xt=ot.get(le.texture);re.framebufferTexture2D(re.FRAMEBUFFER,re.COLOR_ATTACHMENT0,re.TEXTURE_CUBE_MAP_POSITIVE_X+Be,Xt.__webglTexture,rt)}else if(jt){const Xt=ot.get(le.texture),bn=Be;re.framebufferTextureLayer(re.FRAMEBUFFER,re.COLOR_ATTACHMENT0,Xt.__webglTexture,rt,bn)}else if(le!==null&&rt!==0){const Xt=ot.get(le.texture);re.framebufferTexture2D(re.FRAMEBUFFER,re.COLOR_ATTACHMENT0,re.TEXTURE_2D,Xt.__webglTexture,rt)}B=-1},this.readRenderTargetPixels=function(le,Be,rt,Ke,Ve,Rt,jt){if(!(le&&le.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Kt=ot.get(le).__webglFramebuffer;if(le.isWebGLCubeRenderTarget&&jt!==void 0&&(Kt=Kt[jt]),Kt){$e.bindFramebuffer(re.FRAMEBUFFER,Kt);try{const Xt=le.texture,bn=Xt.format,hn=Xt.type;if(!Ye.textureFormatReadable(bn)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Ye.textureTypeReadable(hn)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Be>=0&&Be<=le.width-Ke&&rt>=0&&rt<=le.height-Ve&&re.readPixels(Be,rt,Ke,Ve,ke.convert(bn),ke.convert(hn),Rt)}finally{const Xt=F!==null?ot.get(F).__webglFramebuffer:null;$e.bindFramebuffer(re.FRAMEBUFFER,Xt)}}},this.readRenderTargetPixelsAsync=async function(le,Be,rt,Ke,Ve,Rt,jt){if(!(le&&le.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Kt=ot.get(le).__webglFramebuffer;if(le.isWebGLCubeRenderTarget&&jt!==void 0&&(Kt=Kt[jt]),Kt){const Xt=le.texture,bn=Xt.format,hn=Xt.type;if(!Ye.textureFormatReadable(bn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Ye.textureTypeReadable(hn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(Be>=0&&Be<=le.width-Ke&&rt>=0&&rt<=le.height-Ve){$e.bindFramebuffer(re.FRAMEBUFFER,Kt);const sn=re.createBuffer();re.bindBuffer(re.PIXEL_PACK_BUFFER,sn),re.bufferData(re.PIXEL_PACK_BUFFER,Rt.byteLength,re.STREAM_READ),re.readPixels(Be,rt,Ke,Ve,ke.convert(bn),ke.convert(hn),0);const $n=F!==null?ot.get(F).__webglFramebuffer:null;$e.bindFramebuffer(re.FRAMEBUFFER,$n);const Gn=re.fenceSync(re.SYNC_GPU_COMMANDS_COMPLETE,0);return re.flush(),await tie(re,Gn,4),re.bindBuffer(re.PIXEL_PACK_BUFFER,sn),re.getBufferSubData(re.PIXEL_PACK_BUFFER,0,Rt),re.deleteBuffer(sn),re.deleteSync(Gn),Rt}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(le,Be=null,rt=0){le.isTexture!==!0&&(Hp("WebGLRenderer: copyFramebufferToTexture function signature has changed."),Be=arguments[0]||null,le=arguments[1]);const Ke=Math.pow(2,-rt),Ve=Math.floor(le.image.width*Ke),Rt=Math.floor(le.image.height*Ke),jt=Be!==null?Be.x:0,Kt=Be!==null?Be.y:0;fe.setTexture2D(le,0),re.copyTexSubImage2D(re.TEXTURE_2D,rt,0,0,jt,Kt,Ve,Rt),$e.unbindTexture()};const ur=re.createFramebuffer(),wr=re.createFramebuffer();this.copyTextureToTexture=function(le,Be,rt=null,Ke=null,Ve=0,Rt=null){le.isTexture!==!0&&(Hp("WebGLRenderer: copyTextureToTexture function signature has changed."),Ke=arguments[0]||null,le=arguments[1],Be=arguments[2],Rt=arguments[3]||0,rt=null),Rt===null&&(Ve!==0?(Hp("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Rt=Ve,Ve=0):Rt=0);let jt,Kt,Xt,bn,hn,sn,$n,Gn,Wn;const Pn=le.isCompressedTexture?le.mipmaps[Rt]:le.image;if(rt!==null)jt=rt.max.x-rt.min.x,Kt=rt.max.y-rt.min.y,Xt=rt.isBox3?rt.max.z-rt.min.z:1,bn=rt.min.x,hn=rt.min.y,sn=rt.isBox3?rt.min.z:0;else{const Ni=Math.pow(2,-Ve);jt=Math.floor(Pn.width*Ni),Kt=Math.floor(Pn.height*Ni),le.isDataArrayTexture?Xt=Pn.depth:le.isData3DTexture?Xt=Math.floor(Pn.depth*Ni):Xt=1,bn=0,hn=0,sn=0}Ke!==null?($n=Ke.x,Gn=Ke.y,Wn=Ke.z):($n=0,Gn=0,Wn=0);const Sn=ke.convert(Be.format),fn=ke.convert(Be.type);let wi;Be.isData3DTexture?(fe.setTexture3D(Be,0),wi=re.TEXTURE_3D):Be.isDataArrayTexture||Be.isCompressedArrayTexture?(fe.setTexture2DArray(Be,0),wi=re.TEXTURE_2D_ARRAY):(fe.setTexture2D(Be,0),wi=re.TEXTURE_2D),re.pixelStorei(re.UNPACK_FLIP_Y_WEBGL,Be.flipY),re.pixelStorei(re.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Be.premultiplyAlpha),re.pixelStorei(re.UNPACK_ALIGNMENT,Be.unpackAlignment);const Xn=re.getParameter(re.UNPACK_ROW_LENGTH),Vn=re.getParameter(re.UNPACK_IMAGE_HEIGHT),On=re.getParameter(re.UNPACK_SKIP_PIXELS),En=re.getParameter(re.UNPACK_SKIP_ROWS),ni=re.getParameter(re.UNPACK_SKIP_IMAGES);re.pixelStorei(re.UNPACK_ROW_LENGTH,Pn.width),re.pixelStorei(re.UNPACK_IMAGE_HEIGHT,Pn.height),re.pixelStorei(re.UNPACK_SKIP_PIXELS,bn),re.pixelStorei(re.UNPACK_SKIP_ROWS,hn),re.pixelStorei(re.UNPACK_SKIP_IMAGES,sn);const An=le.isDataArrayTexture||le.isData3DTexture,Ci=Be.isDataArrayTexture||Be.isData3DTexture;if(le.isDepthTexture){const Ni=ot.get(le),Gi=ot.get(Be),Ki=ot.get(Ni.__renderTarget),Pr=ot.get(Gi.__renderTarget);$e.bindFramebuffer(re.READ_FRAMEBUFFER,Ki.__webglFramebuffer),$e.bindFramebuffer(re.DRAW_FRAMEBUFFER,Pr.__webglFramebuffer);for(let Yi=0;Yi<Xt;Yi++)An&&(re.framebufferTextureLayer(re.READ_FRAMEBUFFER,re.COLOR_ATTACHMENT0,ot.get(le).__webglTexture,Ve,sn+Yi),re.framebufferTextureLayer(re.DRAW_FRAMEBUFFER,re.COLOR_ATTACHMENT0,ot.get(Be).__webglTexture,Rt,Wn+Yi)),re.blitFramebuffer(bn,hn,jt,Kt,$n,Gn,jt,Kt,re.DEPTH_BUFFER_BIT,re.NEAREST);$e.bindFramebuffer(re.READ_FRAMEBUFFER,null),$e.bindFramebuffer(re.DRAW_FRAMEBUFFER,null)}else if(Ve!==0||le.isRenderTargetTexture||ot.has(le)){const Ni=ot.get(le),Gi=ot.get(Be);$e.bindFramebuffer(re.READ_FRAMEBUFFER,ur),$e.bindFramebuffer(re.DRAW_FRAMEBUFFER,wr);for(let Ki=0;Ki<Xt;Ki++)An?re.framebufferTextureLayer(re.READ_FRAMEBUFFER,re.COLOR_ATTACHMENT0,Ni.__webglTexture,Ve,sn+Ki):re.framebufferTexture2D(re.READ_FRAMEBUFFER,re.COLOR_ATTACHMENT0,re.TEXTURE_2D,Ni.__webglTexture,Ve),Ci?re.framebufferTextureLayer(re.DRAW_FRAMEBUFFER,re.COLOR_ATTACHMENT0,Gi.__webglTexture,Rt,Wn+Ki):re.framebufferTexture2D(re.DRAW_FRAMEBUFFER,re.COLOR_ATTACHMENT0,re.TEXTURE_2D,Gi.__webglTexture,Rt),Ve!==0?re.blitFramebuffer(bn,hn,jt,Kt,$n,Gn,jt,Kt,re.COLOR_BUFFER_BIT,re.NEAREST):Ci?re.copyTexSubImage3D(wi,Rt,$n,Gn,Wn+Ki,bn,hn,jt,Kt):re.copyTexSubImage2D(wi,Rt,$n,Gn,bn,hn,jt,Kt);$e.bindFramebuffer(re.READ_FRAMEBUFFER,null),$e.bindFramebuffer(re.DRAW_FRAMEBUFFER,null)}else Ci?le.isDataTexture||le.isData3DTexture?re.texSubImage3D(wi,Rt,$n,Gn,Wn,jt,Kt,Xt,Sn,fn,Pn.data):Be.isCompressedArrayTexture?re.compressedTexSubImage3D(wi,Rt,$n,Gn,Wn,jt,Kt,Xt,Sn,Pn.data):re.texSubImage3D(wi,Rt,$n,Gn,Wn,jt,Kt,Xt,Sn,fn,Pn):le.isDataTexture?re.texSubImage2D(re.TEXTURE_2D,Rt,$n,Gn,jt,Kt,Sn,fn,Pn.data):le.isCompressedTexture?re.compressedTexSubImage2D(re.TEXTURE_2D,Rt,$n,Gn,Pn.width,Pn.height,Sn,Pn.data):re.texSubImage2D(re.TEXTURE_2D,Rt,$n,Gn,jt,Kt,Sn,fn,Pn);re.pixelStorei(re.UNPACK_ROW_LENGTH,Xn),re.pixelStorei(re.UNPACK_IMAGE_HEIGHT,Vn),re.pixelStorei(re.UNPACK_SKIP_PIXELS,On),re.pixelStorei(re.UNPACK_SKIP_ROWS,En),re.pixelStorei(re.UNPACK_SKIP_IMAGES,ni),Rt===0&&Be.generateMipmaps&&re.generateMipmap(wi),$e.unbindTexture()},this.copyTextureToTexture3D=function(le,Be,rt=null,Ke=null,Ve=0){return le.isTexture!==!0&&(Hp("WebGLRenderer: copyTextureToTexture3D function signature has changed."),rt=arguments[0]||null,Ke=arguments[1]||null,le=arguments[2],Be=arguments[3],Ve=arguments[4]||0),Hp('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(le,Be,rt,Ke,Ve)},this.initRenderTarget=function(le){ot.get(le).__webglFramebuffer===void 0&&fe.setupRenderTarget(le)},this.initTexture=function(le){le.isCubeTexture?fe.setTextureCube(le,0):le.isData3DTexture?fe.setTexture3D(le,0):le.isDataArrayTexture||le.isCompressedArrayTexture?fe.setTexture2DArray(le,0):fe.setTexture2D(le,0),$e.unbindTexture()},this.resetState=function(){P=0,D=0,F=null,$e.reset(),bt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Uc}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorspace=Di._getDrawingBufferColorSpace(e),t.unpackColorSpace=Di._getUnpackColorSpace()}}const hue=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:CO,AddEquation:yh,AddOperation:v6,AdditiveAnimationBlendMode:LO,AdditiveBlending:G2,AgXToneMapping:x6,AlphaFormat:RO,AlwaysCompare:U6,AlwaysDepth:Ow,AlwaysStencilFunc:Y2,AmbientLight:O8,AnimationAction:F8,AnimationClip:i_,AnimationLoader:Tre,AnimationMixer:nae,AnimationObjectGroup:eae,AnimationUtils:wre,ArcCurve:t8,ArrayCamera:N8,ArrowHelper:Cae,AttachedBindMode:X2,Audio:U8,AudioAnalyser:Gre,AudioContext:aI,AudioListener:kre,AudioLoader:Bre,AxesHelper:Eae,BackSide:os,BasicDepthPacking:A6,BasicShadowMap:KF,BatchedMesh:K6,Bone:$O,BooleanKeyframeTrack:Pm,Box2:uae,Box3:ss,Box3Helper:xae,BoxGeometry:Rs,BoxHelper:Sae,BufferAttribute:mr,BufferGeometry:Jn,BufferGeometryLoader:L8,ByteType:MO,Cache:rd,Camera:SE,CameraHelper:_ae,CanvasTexture:Xie,CapsuleGeometry:AE,CatmullRomCurve3:n8,CineonToneMapping:_6,CircleGeometry:RE,ClampToEdgeWrapping:kl,Clock:oI,Color:on,ColorKeyframeTrack:nI,ColorManagement:Di,CompressedArrayTexture:jie,CompressedCubeTexture:Wie,CompressedTexture:ME,CompressedTextureLoader:Are,ConeGeometry:OE,ConstantAlphaFactor:p6,ConstantColorFactor:d6,Controls:Tae,CubeCamera:G6,CubeReflectionMapping:hd,CubeRefractionMapping:Uh,CubeTexture:A_,CubeTextureLoader:Rre,CubeUVReflectionMapping:y0,CubicBezierCurve:WO,CubicBezierCurve3:i8,CubicInterpolant:x8,CullFaceBack:V2,CullFaceFront:ZF,CullFaceFrontBack:nne,CullFaceNone:qF,Curve:Yc,CurvePath:a8,CustomBlending:QF,CustomToneMapping:S6,CylinderGeometry:lo,Cylindrical:cae,Data3DTexture:_E,DataArrayTexture:T_,DataTexture:Xu,DataTextureLoader:Ore,DataUtils:yie,DecrementStencilOp:gne,DecrementWrapStencilOp:yne,DefaultLoadingManager:E8,DepthFormat:pm,DepthStencilFormat:_m,DepthTexture:GO,DetachedBindMode:C6,DirectionalLight:R8,DirectionalLightHelper:bae,DiscreteInterpolant:w8,DodecahedronGeometry:IE,DoubleSide:Fl,DstAlphaFactor:s6,DstColorFactor:c6,DynamicCopyUsage:Pne,DynamicDrawUsage:Tne,DynamicReadUsage:One,EdgesGeometry:o8,EllipseCurve:TE,EqualCompare:P6,EqualDepth:zw,EqualStencilFunc:xne,EquirectangularReflectionMapping:kb,EquirectangularRefractionMapping:$b,Euler:zs,EventDispatcher:rf,ExtrudeGeometry:PE,FileLoader:md,Float16BufferAttribute:Eie,Float32BufferAttribute:mn,FloatType:Is,Fog:wE,FogExp2:xE,FramebufferTexture:Gie,FrontSide:dd,Frustum:R_,GLBufferAttribute:lae,GLSL1:Lne,GLSL3:q2,GreaterCompare:D6,GreaterDepth:Dw,GreaterEqualCompare:N6,GreaterEqualDepth:Pw,GreaterEqualStencilFunc:Mne,GreaterStencilFunc:Cne,GridHelper:vae,Group:Mv,HalfFloatType:b0,HemisphereLight:M8,HemisphereLightHelper:gae,IcosahedronGeometry:DE,ImageBitmapLoader:Ure,ImageLoader:r_,ImageUtils:H6,IncrementStencilOp:mne,IncrementWrapStencilOp:vne,InstancedBufferAttribute:i0,InstancedBufferGeometry:D8,InstancedInterleavedBuffer:sae,InstancedMesh:Z6,Int16BufferAttribute:wie,Int32BufferAttribute:Cie,Int8BufferAttribute:_ie,IntType:dE,InterleavedBuffer:CE,InterleavedBufferAttribute:Sm,Interpolant:I_,InterpolateDiscrete:jb,InterpolateLinear:lC,InterpolateSmooth:C1,InvertStencilOp:bne,KeepStencilOp:Fp,KeyframeTrack:qc,LOD:Y6,LatheGeometry:O_,Layers:t0,LessCompare:z6,LessDepth:Iw,LessEqualCompare:NO,LessEqualDepth:ym,LessEqualStencilFunc:wne,LessStencilFunc:Sne,Light:Vh,LightProbe:P8,Line:bi,Line3:fae,LineBasicMaterial:Fo,LineCurve:XO,LineCurve3:r8,LineDashedMaterial:b8,LineLoop:Q6,LineSegments:of,LinearFilter:za,LinearInterpolant:tI,LinearMipMapLinearFilter:one,LinearMipMapNearestFilter:ane,LinearMipmapLinearFilter:Gu,LinearMipmapNearestFilter:hb,LinearSRGBColorSpace:Bh,LinearToneMapping:y6,LinearTransfer:Xb,Loader:Ps,LoaderUtils:eR,LoadingManager:iI,LoopOnce:E6,LoopPingPong:T6,LoopRepeat:M6,LuminanceAlphaFormat:zO,LuminanceFormat:IO,MOUSE:Up,Material:Bo,MaterialLoader:HE,MathUtils:Jne,Matrix2:fI,Matrix3:ri,Matrix4:kn,MaxEquation:n6,Mesh:ln,MeshBasicMaterial:af,MeshDepthMaterial:QO,MeshDistanceMaterial:JO,MeshLambertMaterial:v8,MeshMatcapMaterial:y8,MeshNormalMaterial:g8,MeshPhongMaterial:p8,MeshPhysicalMaterial:h8,MeshStandardMaterial:KO,MeshToonMaterial:m8,MinEquation:t6,MirroredRepeatWrapping:Gb,MixOperation:g6,MultiplyBlending:W2,MultiplyOperation:E_,NearestFilter:ho,NearestMipMapLinearFilter:rne,NearestMipMapNearestFilter:ine,NearestMipmapLinearFilter:Cv,NearestMipmapNearestFilter:EO,NeutralToneMapping:w6,NeverCompare:I6,NeverDepth:Rw,NeverStencilFunc:_ne,NoBlending:ld,NoColorSpace:td,NoToneMapping:Wu,NormalAnimationBlendMode:yE,NormalBlending:hm,NotEqualCompare:L6,NotEqualDepth:Lw,NotEqualStencilFunc:Ene,NumberKeyframeTrack:t_,Object3D:xi,ObjectLoader:Lre,ObjectSpaceNormalMap:O6,OctahedronGeometry:Bl,OneFactor:r6,OneMinusConstantAlphaFactor:m6,OneMinusConstantColorFactor:h6,OneMinusDstAlphaFactor:l6,OneMinusDstColorFactor:u6,OneMinusSrcAlphaFactor:Aw,OneMinusSrcColorFactor:o6,OrthographicCamera:Oh,PCFShadowMap:uE,PCFSoftShadowMap:db,PMREMGenerator:rR,Path:Kb,PerspectiveCamera:pa,Plane:Kf,PlaneGeometry:tl,PlaneHelper:wae,PointLight:A8,PointLightHelper:pae,Points:J6,PointsMaterial:VO,PolarGridHelper:yae,PolyhedronGeometry:$h,PositionalAudio:Vre,PropertyBinding:ki,PropertyMixer:B8,QuadraticBezierCurve:YO,QuadraticBezierCurve3:qO,Quaternion:Xi,QuaternionKeyframeTrack:z_,QuaternionLinearInterpolant:C8,RED_GREEN_RGTC2_Format:oC,RED_RGTC1_Format:DO,REVISION:cE,RGBADepthPacking:R6,RGBAFormat:zo,RGBAIntegerFormat:vE,RGBA_ASTC_10x10_Format:eC,RGBA_ASTC_10x5_Format:Kw,RGBA_ASTC_10x6_Format:Qw,RGBA_ASTC_10x8_Format:Jw,RGBA_ASTC_12x10_Format:tC,RGBA_ASTC_12x12_Format:nC,RGBA_ASTC_4x4_Format:Vw,RGBA_ASTC_5x4_Format:Gw,RGBA_ASTC_5x5_Format:jw,RGBA_ASTC_6x5_Format:Ww,RGBA_ASTC_6x6_Format:Xw,RGBA_ASTC_8x5_Format:Yw,RGBA_ASTC_8x6_Format:qw,RGBA_ASTC_8x8_Format:Zw,RGBA_BPTC_Format:yb,RGBA_ETC2_EAC_Format:$w,RGBA_PVRTC_2BPPV1_Format:Fw,RGBA_PVRTC_4BPPV1_Format:Bw,RGBA_S3TC_DXT1_Format:mb,RGBA_S3TC_DXT3_Format:gb,RGBA_S3TC_DXT5_Format:vb,RGBDepthPacking:fne,RGBFormat:OO,RGBIntegerFormat:sne,RGB_BPTC_SIGNED_Format:iC,RGB_BPTC_UNSIGNED_Format:rC,RGB_ETC1_Format:Hw,RGB_ETC2_Format:kw,RGB_PVRTC_2BPPV1_Format:Uw,RGB_PVRTC_4BPPV1_Format:Nw,RGB_S3TC_DXT1_Format:pb,RGDepthPacking:dne,RGFormat:PO,RGIntegerFormat:gE,RawShaderMaterial:d8,Ray:zm,Raycaster:uI,RectAreaLight:I8,RedFormat:mE,RedIntegerFormat:M_,ReinhardToneMapping:b6,RenderTarget:bE,RenderTarget3D:iae,RenderTargetArray:rae,RepeatWrapping:Vb,ReplaceStencilOp:pne,ReverseSubtractEquation:e6,RingGeometry:LE,SIGNED_RED_GREEN_RGTC2_Format:sC,SIGNED_RED_RGTC1_Format:aC,SRGBColorSpace:Oo,SRGBTransfer:lr,Scene:HO,ShaderChunk:di,ShaderLib:Pc,ShaderMaterial:Vc,ShadowMaterial:f8,Shape:gm,ShapeGeometry:NE,ShapePath:Mae,ShapeUtils:Yu,ShortType:TO,Skeleton:EE,SkeletonHelper:hae,SkinnedMesh:q6,Source:Eh,Sphere:Do,SphereGeometry:_0,Spherical:nR,SphericalHarmonics3:z8,SplineCurve:ZO,SpotLight:T8,SpotLightHelper:dae,Sprite:X6,SpriteMaterial:kO,SrcAlphaFactor:Tw,SrcAlphaSaturateFactor:f6,SrcColorFactor:a6,StaticCopyUsage:zne,StaticDrawUsage:Yb,StaticReadUsage:Rne,StereoCamera:Fre,StreamCopyUsage:Dne,StreamDrawUsage:Ane,StreamReadUsage:Ine,StringKeyframeTrack:Dm,SubtractEquation:JF,SubtractiveBlending:j2,TOUCH:Bp,TangentSpaceNormalMap:kh,TetrahedronGeometry:UE,Texture:sa,TextureLoader:Ire,TextureUtils:zae,TimestampQuery:Nne,TorusGeometry:Mh,TorusKnotGeometry:BE,Triangle:Os,TriangleFanDrawMode:une,TriangleStripDrawMode:cne,TrianglesDrawMode:lne,TubeGeometry:FE,UVMapping:fE,Uint16BufferAttribute:BO,Uint32BufferAttribute:FO,Uint8BufferAttribute:Sie,Uint8ClampedBufferAttribute:xie,Uniform:cI,UniformsGroup:oae,UniformsLib:rn,UniformsUtils:V6,UnsignedByteType:$c,UnsignedInt248Type:bm,UnsignedInt5999Type:AO,UnsignedIntType:pd,UnsignedShort4444Type:hE,UnsignedShort5551Type:pE,UnsignedShortType:Jv,VSMShadowMap:Rc,Vector2:At,Vector3:ye,Vector4:$i,VectorKeyframeTrack:n_,VideoFrameTexture:Vie,VideoTexture:e8,WebGL3DRenderTarget:lie,WebGLArrayRenderTarget:sie,WebGLCoordinateSystem:Uc,WebGLCubeRenderTarget:j6,WebGLRenderTarget:Qu,WebGLRenderer:X8,WebGLUtils:W8,WebGPUCoordinateSystem:qb,WebXRController:E1,WireframeGeometry:u8,WrapAroundEnding:Wb,ZeroCurvatureEnding:lm,ZeroFactor:i6,ZeroSlopeEnding:cm,ZeroStencilOp:hne,createCanvasElement:F6},Symbol.toStringTag,{value:"Module"}));var oA={exports:{}},kf={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zL;function pue(){return zL||(zL=1,kf.ConcurrentRoot=1,kf.ContinuousEventPriority=8,kf.DefaultEventPriority=32,kf.DiscreteEventPriority=2,kf.IdleEventPriority=268435456,kf.LegacyRoot=0,kf.NoEventPriority=0),kf}var PL;function mue(){return PL||(PL=1,oA.exports=pue()),oA.exports}var T1=mue(),sA={exports:{}},lA={},cA={exports:{}},uA={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DL;function gue(){if(DL)return uA;DL=1;var n=l0();function e(_,x){return _===x&&(_!==0||1/_===1/x)||_!==_&&x!==x}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,a=n.useEffect,o=n.useLayoutEffect,l=n.useDebugValue;function s(_,x){var C=x(),c=r({inst:{value:C,getSnapshot:x}}),p=c[0].inst,m=c[1];return o(function(){p.value=C,p.getSnapshot=x,f(p)&&m({inst:p})},[_,C,x]),a(function(){return f(p)&&m({inst:p}),_(function(){f(p)&&m({inst:p})})},[_]),l(C),C}function f(_){var x=_.getSnapshot;_=_.value;try{var C=x();return!t(_,C)}catch{return!0}}function h(_,x){return x()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:s;return uA.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:v,uA}var LL;function vue(){return LL||(LL=1,cA.exports=gue()),cA.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NL;function yue(){if(NL)return lA;NL=1;var n=l0(),e=vue();function t(h,v){return h===v&&(h!==0||1/h===1/v)||h!==h&&v!==v}var r=typeof Object.is=="function"?Object.is:t,a=e.useSyncExternalStore,o=n.useRef,l=n.useEffect,s=n.useMemo,f=n.useDebugValue;return lA.useSyncExternalStoreWithSelector=function(h,v,_,x,C){var c=o(null);if(c.current===null){var p={hasValue:!1,value:null};c.current=p}else p=c.current;c=s(function(){function b(P){if(!w){if(w=!0,A=P,P=x(P),C!==void 0&&p.hasValue){var D=p.value;if(C(D,P))return R=D}return R=P}if(D=R,r(A,P))return D;var F=x(P);return C!==void 0&&C(D,F)?(A=P,D):(A=P,R=F)}var w=!1,A,R,O=_===void 0?null:_;return[function(){return b(v())},O===null?void 0:function(){return b(O())}]},[v,_,x,C]);var m=a(h,c[0],c[1]);return l(function(){p.hasValue=!0,p.value=m},[m]),f(m),m},lA}var UL;function bue(){return UL||(UL=1,sA.exports=yue()),sA.exports}var _ue=bue();const Sue=Mm(_ue),BL=n=>{let e;const t=new Set,r=(h,v)=>{const _=typeof h=="function"?h(e):h;if(!Object.is(_,e)){const x=e;e=v??(typeof _!="object"||_===null)?_:Object.assign({},e,_),t.forEach(C=>C(e,x))}},a=()=>e,s={setState:r,getState:a,getInitialState:()=>f,subscribe:h=>(t.add(h),()=>t.delete(h))},f=e=n(r,a,s);return s},xue=n=>n?BL(n):BL,{useSyncExternalStoreWithSelector:wue}=Sue,Cue=n=>n;function Eue(n,e=Cue,t){const r=wue(n.subscribe,n.getState,n.getInitialState,e,t);return We.useDebugValue(r),r}const FL=(n,e)=>{const t=xue(n),r=(a,o=e)=>Eue(t,a,o);return Object.assign(r,t),r},Mue=(n,e)=>n?FL(n,e):FL;var fA={exports:{}},dA={exports:{}};/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HL;function Tue(){return HL||(HL=1,function(n){n.exports=function(e){function t(g,y,T,N){return new V_(g,y,T,N)}function r(){}function a(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(g){return g===null||typeof g!="object"?null:(g=qi&&g[qi]||g["@@iterator"],typeof g=="function"?g:null)}function l(g){if(g==null)return null;if(typeof g=="function")return g.$$typeof===ea?null:g.displayName||g.name||null;if(typeof g=="string")return g;switch(g){case hu:return"Fragment";case bl:return"Portal";case pu:return"Profiler";case bf:return"StrictMode";case sc:return"Suspense";case lp:return"SuspenseList"}if(typeof g=="object")switch(g.$$typeof){case mu:return(g.displayName||"Context")+".Provider";case O0:return(g._context.displayName||"Context")+".Consumer";case Km:var y=g.render;return g=g.displayName,g||(g=y.displayName||y.name||"",g=g!==""?"ForwardRef("+g+")":"ForwardRef"),g;case Id:return y=g.displayName||null,y!==null?y:l(g.type)||"Memo";case lc:y=g._payload,g=g._init;try{return l(g(y))}catch{}}return null}function s(g){if(gu===void 0)try{throw Error()}catch(T){var y=T.stack.trim().match(/\n( *(at )?)/);gu=y&&y[1]||"",vu=-1<T.stack.indexOf(`
    at`)?" (<anonymous>)":-1<T.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gu+g+vu}function f(g,y){if(!g||zd)return"";zd=!0;var T=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var N={DetermineComponentFrameRoot:function(){try{if(y){var nn=function(){throw Error()};if(Object.defineProperty(nn.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nn,[])}catch(Zn){var kt=Zn}Reflect.construct(g,[],nn)}else{try{nn.call()}catch(Zn){kt=Zn}g.call(nn.prototype)}}else{try{throw Error()}catch(Zn){kt=Zn}(nn=g())&&typeof nn.catch=="function"&&nn.catch(function(){})}}catch(Zn){if(Zn&&kt&&typeof Zn.stack=="string")return[Zn.stack,kt.stack]}return[null,null]}};N.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var $=Object.getOwnPropertyDescriptor(N.DetermineComponentFrameRoot,"name");$&&$.configurable&&Object.defineProperty(N.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var W=N.DetermineComponentFrameRoot(),ve=W[0],Le=W[1];if(ve&&Le){var nt=ve.split(`
`),Mt=Le.split(`
`);for($=N=0;N<nt.length&&!nt[N].includes("DetermineComponentFrameRoot");)N++;for(;$<Mt.length&&!Mt[$].includes("DetermineComponentFrameRoot");)$++;if(N===nt.length||$===Mt.length)for(N=nt.length-1,$=Mt.length-1;1<=N&&0<=$&&nt[N]!==Mt[$];)$--;for(;1<=N&&0<=$;N--,$--)if(nt[N]!==Mt[$]){if(N!==1||$!==1)do if(N--,$--,0>$||nt[N]!==Mt[$]){var Wt=`
`+nt[N].replace(" at new "," at ");return g.displayName&&Wt.includes("<anonymous>")&&(Wt=Wt.replace("<anonymous>",g.displayName)),Wt}while(1<=N&&0<=$);break}}}finally{zd=!1,Error.prepareStackTrace=T}return(T=g?g.displayName||g.name:"")?s(T):""}function h(g){switch(g.tag){case 26:case 27:case 5:return s(g.type);case 16:return s("Lazy");case 13:return s("Suspense");case 19:return s("SuspenseList");case 0:case 15:return g=f(g.type,!1),g;case 11:return g=f(g.type.render,!1),g;case 1:return g=f(g.type,!0),g;default:return""}}function v(g){try{var y="";do y+=h(g),g=g.return;while(g);return y}catch(T){return`
Error generating stack: `+T.message+`
`+T.stack}}function _(g){var y=g,T=g;if(g.alternate)for(;y.return;)y=y.return;else{g=y;do y=g,(y.flags&4098)!==0&&(T=y.return),g=y.return;while(g)}return y.tag===3?T:null}function x(g){if(_(g)!==g)throw Error(a(188))}function C(g){var y=g.alternate;if(!y){if(y=_(g),y===null)throw Error(a(188));return y!==g?null:g}for(var T=g,N=y;;){var $=T.return;if($===null)break;var W=$.alternate;if(W===null){if(N=$.return,N!==null){T=N;continue}break}if($.child===W.child){for(W=$.child;W;){if(W===T)return x($),g;if(W===N)return x($),y;W=W.sibling}throw Error(a(188))}if(T.return!==N.return)T=$,N=W;else{for(var ve=!1,Le=$.child;Le;){if(Le===T){ve=!0,T=$,N=W;break}if(Le===N){ve=!0,N=$,T=W;break}Le=Le.sibling}if(!ve){for(Le=W.child;Le;){if(Le===T){ve=!0,T=W,N=$;break}if(Le===N){ve=!0,N=W,T=$;break}Le=Le.sibling}if(!ve)throw Error(a(189))}}if(T.alternate!==N)throw Error(a(190))}if(T.tag!==3)throw Error(a(188));return T.stateNode.current===T?g:y}function c(g){var y=g.tag;if(y===5||y===26||y===27||y===6)return g;for(g=g.child;g!==null;){if(y=c(g),y!==null)return y;g=g.sibling}return null}function p(g){var y=g.tag;if(y===5||y===26||y===27||y===6)return g;for(g=g.child;g!==null;){if(g.tag!==4&&(y=p(g),y!==null))return y;g=g.sibling}return null}function m(g){return{current:g}}function b(g){0>Su||(g.current=ug[Su],ug[Su]=null,Su--)}function w(g,y){Su++,ug[Su]=g.current,g.current=y}function A(g){return g>>>=0,g===0?32:31-(ey(g)/tM|0)|0}function R(g){var y=g&42;if(y!==0)return y;switch(g&-g){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return g&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return g}}function O(g,y){var T=g.pendingLanes;if(T===0)return 0;var N=0,$=g.suspendedLanes,W=g.pingedLanes,ve=g.warmLanes;g=g.finishedLanes!==0;var Le=T&134217727;return Le!==0?(T=Le&~$,T!==0?N=R(T):(W&=Le,W!==0?N=R(W):g||(ve=Le&~ve,ve!==0&&(N=R(ve))))):(Le=T&~$,Le!==0?N=R(Le):W!==0?N=R(W):g||(ve=T&~ve,ve!==0&&(N=R(ve)))),N===0?0:y!==0&&y!==N&&(y&$)===0&&($=N&-N,ve=y&-y,$>=ve||$===32&&(ve&4194176)!==0)?y:N}function P(g,y){return(g.pendingLanes&~(g.suspendedLanes&~g.pingedLanes)&y)===0}function D(g,y){switch(g){case 1:case 2:case 4:case 8:return y+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return y+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function F(){var g=dp;return dp<<=1,(dp&4194176)===0&&(dp=128),g}function B(){var g=Ud;return Ud<<=1,(Ud&62914560)===0&&(Ud=4194304),g}function U(g){for(var y=[],T=0;31>T;T++)y.push(g);return y}function V(g,y){g.pendingLanes|=y,y!==268435456&&(g.suspendedLanes=0,g.pingedLanes=0,g.warmLanes=0)}function Q(g,y,T,N,$,W){var ve=g.pendingLanes;g.pendingLanes=T,g.suspendedLanes=0,g.pingedLanes=0,g.warmLanes=0,g.expiredLanes&=T,g.entangledLanes&=T,g.errorRecoveryDisabledLanes&=T,g.shellSuspendCounter=0;var Le=g.entanglements,nt=g.expirationTimes,Mt=g.hiddenUpdates;for(T=ve&~T;0<T;){var Wt=31-Hr(T),nn=1<<Wt;Le[Wt]=0,nt[Wt]=-1;var kt=Mt[Wt];if(kt!==null)for(Mt[Wt]=null,Wt=0;Wt<kt.length;Wt++){var Zn=kt[Wt];Zn!==null&&(Zn.lane&=-536870913)}T&=~nn}N!==0&&X(g,N,0),W!==0&&$===0&&g.tag!==0&&(g.suspendedLanes|=W&~(ve&~y))}function X(g,y,T){g.pendingLanes|=y,g.suspendedLanes&=~y;var N=31-Hr(y);g.entangledLanes|=y,g.entanglements[N]=g.entanglements[N]|1073741824|T&4194218}function ee(g,y){var T=g.entangledLanes|=y;for(g=g.entanglements;T;){var N=31-Hr(T),$=1<<N;$&y|g[N]&y&&(g[N]|=y),T&=~$}}function ae(g){return g&=-g,2<g?8<g?(g&134217727)!==0?32:268435456:8:2}function Z(g){if(ta&&typeof ta.onCommitFiberRoot=="function")try{ta.onCommitFiberRoot(Fd,g,void 0,(g.current.flags&128)===128)}catch{}}function K(g){if(typeof ka=="function"&&dg(g),ta&&typeof ta.setStrictMode=="function")try{ta.setStrictMode(Fd,g)}catch{}}function te(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}function ce(g,y){if(typeof g=="object"&&g!==null){var T=hg.get(g);return T!==void 0?T:(y={value:g,source:y,stack:v(y)},hg.set(g,y),y)}return{value:g,source:y,stack:v(y)}}function q(g,y){qo[Zo++]=Hd,qo[Zo++]=wu,wu=g,Hd=y}function J(g,y,T){So[$a++]=wl,So[$a++]=Cl,So[$a++]=$s,$s=g;var N=wl;g=Cl;var $=32-Hr(N)-1;N&=~(1<<$),T+=1;var W=32-Hr(y)+$;if(30<W){var ve=$-$%5;W=(N&(1<<ve)-1).toString(32),N>>=ve,$-=ve,wl=1<<32-Hr(y)+$|T<<$|N,Cl=W+g}else wl=1<<W|T<<$|N,Cl=g}function he(g){g.return!==null&&(q(g,1),J(g,1,0))}function ue(g){for(;g===wu;)wu=qo[--Zo],qo[Zo]=null,Hd=qo[--Zo],qo[Zo]=null;for(;g===$s;)$s=So[--$a],So[$a]=null,Cl=So[--$a],So[$a]=null,wl=So[--$a],So[$a]=null}function j(g,y){w(hc,y),w(hs,g),w(kr,null),g=I0(y),b(kr),w(kr,g)}function pe(){b(kr),b(hs),b(hc)}function _e(g){g.memoizedState!==null&&w(pp,g);var y=kr.current,T=G_(y,g.type);y!==T&&(w(hs,g),w(kr,T))}function Re(g){hs.current===g&&(b(kr),b(hs)),pp.current===g&&(b(pp),Fs?uc._currentValue=Sf:uc._currentValue2=Sf)}function Me(g){var y=Error(a(418,""));throw we(ce(y,g)),mp}function Ae(g,y){if(!_o)throw Error(a(175));Cf(g.stateNode,g.type,g.memoizedProps,y,g)||Me(g)}function Ue(g){for($r=g.return;$r;)switch($r.tag){case 3:case 27:Vs=!0;return;case 5:case 13:Vs=!1;return;default:$r=$r.return}}function gt(g){if(!_o||g!==$r)return!1;if(!zi)return Ue(g),zi=!0,!1;var y=!1;if(Sa?g.tag!==3&&g.tag!==27&&(g.tag!==5||G0(g.type)&&!Ra(g.type,g.memoizedProps))&&(y=!0):g.tag!==3&&(g.tag!==5||G0(g.type)&&!Ra(g.type,g.memoizedProps))&&(y=!0),y&&Ji&&Me(g),Ue(g),g.tag===13){if(!_o)throw Error(a(316));if(g=g.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(a(317));Ji=xS(g)}else Ji=$r?_u(g.stateNode):null;return!0}function ze(){_o&&(Ji=$r=null,zi=!1)}function we(g){ps===null?ps=[g]:ps.push(g)}function re(){for(var g=pc,y=Gs=pc=0;y<g;){var T=xo[y];xo[y++]=null;var N=xo[y];xo[y++]=null;var $=xo[y];xo[y++]=null;var W=xo[y];if(xo[y++]=null,N!==null&&$!==null){var ve=N.pending;ve===null?$.next=$:($.next=ve.next,ve.next=$),N.pending=$}W!==0&&$e(T,$,W)}}function Fe(g,y,T,N){xo[pc++]=g,xo[pc++]=y,xo[pc++]=T,xo[pc++]=N,Gs|=N,g.lanes|=N,g=g.alternate,g!==null&&(g.lanes|=N)}function Ie(g,y,T,N){return Fe(g,y,T,N),lt(g)}function Ye(g,y){return Fe(g,null,null,y),lt(g)}function $e(g,y,T){g.lanes|=T;var N=g.alternate;N!==null&&(N.lanes|=T);for(var $=!1,W=g.return;W!==null;)W.childLanes|=T,N=W.alternate,N!==null&&(N.childLanes|=T),W.tag===22&&(g=W.stateNode,g===null||g._visibility&1||($=!0)),g=W,W=W.return;$&&y!==null&&g.tag===3&&(W=g.stateNode,$=31-Hr(T),W=W.hiddenUpdates,g=W[$],g===null?W[$]=[y]:g.push(y),y.lane=T|536870912)}function lt(g){if(50<zf)throw zf=0,ay=null,Error(a(185));for(var y=g.return;y!==null;)g=y,y=g.return;return g.tag===3?g.stateNode:null}function ot(g){g!==Cu&&g.next===null&&(Cu===null?vr=Cu=g:Cu=Cu.next=g),Vr=!0,pg||(pg=!0,He(oe))}function fe(g,y){if(!mg&&Vr){mg=!0;do for(var T=!1,N=vr;N!==null;){if(g!==0){var $=N.pendingLanes;if($===0)var W=0;else{var ve=N.suspendedLanes,Le=N.pingedLanes;W=(1<<31-Hr(42|g)+1)-1,W&=$&~(ve&~Le),W=W&201326677?W&201326677|1:W?W|2:0}W!==0&&(T=!0,qe(N,W))}else W=yi,W=O(N,N===tr?W:0),(W&3)===0||P(N,W)||(T=!0,qe(N,W));N=N.next}while(T);mg=!1}}function oe(){Vr=pg=!1;var g=0;kd!==0&&(Y_()&&(g=kd),kd=0);for(var y=Yo(),T=null,N=vr;N!==null;){var $=N.next,W=Ee(N,y);W===0?(N.next=null,T===null?vr=$:T.next=$,$===null&&(Cu=T)):(T=N,(g!==0||(W&3)!==0)&&(Vr=!0)),N=$}fe(g)}function Ee(g,y){for(var T=g.suspendedLanes,N=g.pingedLanes,$=g.expirationTimes,W=g.pendingLanes&-62914561;0<W;){var ve=31-Hr(W),Le=1<<ve,nt=$[ve];nt===-1?((Le&T)===0||(Le&N)!==0)&&($[ve]=D(Le,y)):nt<=y&&(g.expiredLanes|=Le),W&=~Le}if(y=tr,T=yi,T=O(g,g===y?T:0),N=g.callbackNode,T===0||g===y&&Zi===2||g.cancelPendingCommit!==null)return N!==null&&N!==null&&ks(N),g.callbackNode=null,g.callbackPriority=0;if((T&3)===0||P(g,T)){if(y=T&-T,y===g.callbackPriority)return y;switch(N!==null&&ks(N),ae(T)){case 2:case 8:T=hp;break;case 32:T=Bd;break;case 268435456:T=Mf;break;default:T=Bd}return N=Pe.bind(null,g),T=xl(T,N),g.callbackPriority=y,g.callbackNode=T,y}return N!==null&&N!==null&&ks(N),g.callbackPriority=2,g.callbackNode=null,2}function Pe(g,y){var T=g.callbackNode;if(cu()&&g.callbackNode!==T)return null;var N=yi;return N=O(g,g===tr?N:0),N===0?null:(jo(g,N,y),Ee(g,Yo()),g.callbackNode!=null&&g.callbackNode===T?Pe.bind(null,g):null)}function qe(g,y){if(cu())return null;jo(g,y,!0)}function He(g){Q_?J_(function(){(vi&6)!==0?xl(fg,g):g()}):xl(fg,g)}function mt(){return kd===0&&(kd=F()),kd}function st(g,y){if($d===null){var T=$d=[];gg=0,yr=mt(),xa={status:"pending",value:void 0,then:function(N){T.push(N)}}}return gg++,y.then(ht,ht),y}function ht(){if(--gg===0&&$d!==null){xa!==null&&(xa.status="fulfilled");var g=$d;$d=null,yr=0,xa=null;for(var y=0;y<g.length;y++)(0,g[y])()}}function It(g,y){var T=[],N={status:"pending",value:null,reason:null,then:function($){T.push($)}};return g.then(function(){N.status="fulfilled",N.value=y;for(var $=0;$<T.length;$++)(0,T[$])(y)},function($){for(N.status="rejected",N.reason=$,$=0;$<T.length;$++)(0,T[$])(void 0)}),N}function at(g){g.updateQueue={baseState:g.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _t(g,y){g=g.updateQueue,y.updateQueue===g&&(y.updateQueue={baseState:g.baseState,firstBaseUpdate:g.firstBaseUpdate,lastBaseUpdate:g.lastBaseUpdate,shared:g.shared,callbacks:null})}function wt(g){return{lane:g,tag:0,payload:null,callback:null,next:null}}function je(g,y,T){var N=g.updateQueue;if(N===null)return null;if(N=N.shared,(vi&2)!==0){var $=N.pending;return $===null?y.next=y:(y.next=$.next,$.next=y),N.pending=y,y=lt(g),$e(g,null,T),y}return Fe(g,N,y,T),lt(g)}function it(g,y,T){if(y=y.updateQueue,y!==null&&(y=y.shared,(T&4194176)!==0)){var N=y.lanes;N&=g.pendingLanes,T|=N,y.lanes=T,ee(g,T)}}function Se(g,y){var T=g.updateQueue,N=g.alternate;if(N!==null&&(N=N.updateQueue,T===N)){var $=null,W=null;if(T=T.firstBaseUpdate,T!==null){do{var ve={lane:T.lane,tag:T.tag,payload:T.payload,callback:null,next:null};W===null?$=W=ve:W=W.next=ve,T=T.next}while(T!==null);W===null?$=W=y:W=W.next=y}else $=W=y;T={baseState:N.baseState,firstBaseUpdate:$,lastBaseUpdate:W,shared:N.shared,callbacks:N.callbacks},g.updateQueue=T;return}g=T.lastBaseUpdate,g===null?T.firstBaseUpdate=y:g.next=y,T.lastBaseUpdate=y}function ke(){if(vg){var g=xa;if(g!==null)throw g}}function bt(g,y,T,N){vg=!1;var $=g.updateQueue;Va=!1;var W=$.firstBaseUpdate,ve=$.lastBaseUpdate,Le=$.shared.pending;if(Le!==null){$.shared.pending=null;var nt=Le,Mt=nt.next;nt.next=null,ve===null?W=Mt:ve.next=Mt,ve=nt;var Wt=g.alternate;Wt!==null&&(Wt=Wt.updateQueue,Le=Wt.lastBaseUpdate,Le!==ve&&(Le===null?Wt.firstBaseUpdate=Mt:Le.next=Mt,Wt.lastBaseUpdate=nt))}if(W!==null){var nn=$.baseState;ve=0,Wt=Mt=nt=null,Le=W;do{var kt=Le.lane&-536870913,Zn=kt!==Le.lane;if(Zn?(yi&kt)===kt:(N&kt)===kt){kt!==0&&kt===yr&&(vg=!0),Wt!==null&&(Wt=Wt.next={lane:0,tag:Le.tag,payload:Le.payload,callback:null,next:null});e:{var xs=g,Yd=Le;kt=y;var Pf=T;switch(Yd.tag){case 1:if(xs=Yd.payload,typeof xs=="function"){nn=xs.call(Pf,nn,kt);break e}nn=xs;break e;case 3:xs.flags=xs.flags&-65537|128;case 0:if(xs=Yd.payload,kt=typeof xs=="function"?xs.call(Pf,nn,kt):xs,kt==null)break e;nn=Br({},nn,kt);break e;case 2:Va=!0}}kt=Le.callback,kt!==null&&(g.flags|=64,Zn&&(g.flags|=8192),Zn=$.callbacks,Zn===null?$.callbacks=[kt]:Zn.push(kt))}else Zn={lane:kt,tag:Le.tag,payload:Le.payload,callback:Le.callback,next:null},Wt===null?(Mt=Wt=Zn,nt=nn):Wt=Wt.next=Zn,ve|=kt;if(Le=Le.next,Le===null){if(Le=$.shared.pending,Le===null)break;Zn=Le,Le=Zn.next,Zn.next=null,$.lastBaseUpdate=Zn,$.shared.pending=null}}while(!0);Wt===null&&(nt=nn),$.baseState=nt,$.firstBaseUpdate=Mt,$.lastBaseUpdate=Wt,W===null&&($.shared.lanes=0),_s|=ve,g.lanes=ve,g.memoizedState=nn}}function Te(g,y){if(typeof g!="function")throw Error(a(191,g));g.call(y)}function St(g,y){var T=g.callbacks;if(T!==null)for(g.callbacks=null,g=0;g<T.length;g++)Te(T[g],y)}function Qe(g,y){if(to(g,y))return!0;if(typeof g!="object"||g===null||typeof y!="object"||y===null)return!1;var T=Object.keys(g),N=Object.keys(y);if(T.length!==N.length)return!1;for(N=0;N<T.length;N++){var $=T[N];if(!OS.call(y,$)||!to(g[$],y[$]))return!1}return!0}function pt(g){return g=g.status,g==="fulfilled"||g==="rejected"}function Lt(){}function zt(g,y,T){switch(T=g[T],T===void 0?g.push(y):T!==y&&(y.then(Lt,Lt),y=T),y.status){case"fulfilled":return y.value;case"rejected":throw g=y.reason,g===gp?Error(a(483)):g;default:if(typeof y.status=="string")y.then(Lt,Lt);else{if(g=tr,g!==null&&100<g.shellSuspendCounter)throw Error(a(482));g=y,g.status="pending",g.then(function(N){if(y.status==="pending"){var $=y;$.status="fulfilled",$.value=N}},function(N){if(y.status==="pending"){var $=y;$.status="rejected",$.reason=N}})}switch(y.status){case"fulfilled":return y.value;case"rejected":throw g=y.reason,g===gp?Error(a(483)):g}throw Ga=y,gp}}function Jt(){if(Ga===null)throw Error(a(459));var g=Ga;return Ga=null,g}function cn(g){var y=ja;return ja+=1,Tf===null&&(Tf=[]),zt(Tf,g,y)}function Zt(g,y){y=y.props.ref,g.ref=y!==void 0?y:null}function Dt(g,y){throw y.$$typeof===R0?Error(a(525)):(g=Object.prototype.toString.call(y),Error(a(31,g==="[object Object]"?"object with keys {"+Object.keys(y).join(", ")+"}":g)))}function qt(g){var y=g._init;return y(g._payload)}function _n(g){function y(ut,Je){if(g){var dt=ut.deletions;dt===null?(ut.deletions=[Je],ut.flags|=16):dt.push(Je)}}function T(ut,Je){if(!g)return null;for(;Je!==null;)y(ut,Je),Je=Je.sibling;return null}function N(ut){for(var Je=new Map;ut!==null;)ut.key!==null?Je.set(ut.key,ut):Je.set(ut.index,ut),ut=ut.sibling;return Je}function $(ut,Je){return ut=rc(ut,Je),ut.index=0,ut.sibling=null,ut}function W(ut,Je,dt){return ut.index=dt,g?(dt=ut.alternate,dt!==null?(dt=dt.index,dt<Je?(ut.flags|=33554434,Je):dt):(ut.flags|=33554434,Je)):(ut.flags|=1048576,Je)}function ve(ut){return g&&ut.alternate===null&&(ut.flags|=33554434),ut}function Le(ut,Je,dt,Ht){return Je===null||Je.tag!==6?(Je=sp(dt,ut.mode,Ht),Je.return=ut,Je):(Je=$(Je,dt),Je.return=ut,Je)}function nt(ut,Je,dt,Ht){var wn=dt.type;return wn===hu?Wt(ut,Je,dt.props.children,Ht,dt.key):Je!==null&&(Je.elementType===wn||typeof wn=="object"&&wn!==null&&wn.$$typeof===lc&&qt(wn)===Je.type)?(Je=$(Je,dt.props),Zt(Je,dt),Je.return=ut,Je):(Je=yf(dt.type,dt.key,dt.props,null,ut.mode,Ht),Zt(Je,dt),Je.return=ut,Je)}function Mt(ut,Je,dt,Ht){return Je===null||Je.tag!==4||Je.stateNode.containerInfo!==dt.containerInfo||Je.stateNode.implementation!==dt.implementation?(Je=bo(dt,ut.mode,Ht),Je.return=ut,Je):(Je=$(Je,dt.children||[]),Je.return=ut,Je)}function Wt(ut,Je,dt,Ht,wn){return Je===null||Je.tag!==7?(Je=fu(dt,ut.mode,Ht,wn),Je.return=ut,Je):(Je=$(Je,dt),Je.return=ut,Je)}function nn(ut,Je,dt){if(typeof Je=="string"&&Je!==""||typeof Je=="number"||typeof Je=="bigint")return Je=sp(""+Je,ut.mode,dt),Je.return=ut,Je;if(typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case du:return dt=yf(Je.type,Je.key,Je.props,null,ut.mode,dt),Zt(dt,Je),dt.return=ut,dt;case bl:return Je=bo(Je,ut.mode,dt),Je.return=ut,Je;case lc:var Ht=Je._init;return Je=Ht(Je._payload),nn(ut,Je,dt)}if(yu(Je)||o(Je))return Je=fu(Je,ut.mode,dt,null),Je.return=ut,Je;if(typeof Je.then=="function")return nn(ut,cn(Je),dt);if(Je.$$typeof===mu)return nn(ut,df(ut,Je),dt);Dt(ut,Je)}return null}function kt(ut,Je,dt,Ht){var wn=Je!==null?Je.key:null;if(typeof dt=="string"&&dt!==""||typeof dt=="number"||typeof dt=="bigint")return wn!==null?null:Le(ut,Je,""+dt,Ht);if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case du:return dt.key===wn?nt(ut,Je,dt,Ht):null;case bl:return dt.key===wn?Mt(ut,Je,dt,Ht):null;case lc:return wn=dt._init,dt=wn(dt._payload),kt(ut,Je,dt,Ht)}if(yu(dt)||o(dt))return wn!==null?null:Wt(ut,Je,dt,Ht,null);if(typeof dt.then=="function")return kt(ut,Je,cn(dt),Ht);if(dt.$$typeof===mu)return kt(ut,Je,df(ut,dt),Ht);Dt(ut,dt)}return null}function Zn(ut,Je,dt,Ht,wn){if(typeof Ht=="string"&&Ht!==""||typeof Ht=="number"||typeof Ht=="bigint")return ut=ut.get(dt)||null,Le(Je,ut,""+Ht,wn);if(typeof Ht=="object"&&Ht!==null){switch(Ht.$$typeof){case du:return ut=ut.get(Ht.key===null?dt:Ht.key)||null,nt(Je,ut,Ht,wn);case bl:return ut=ut.get(Ht.key===null?dt:Ht.key)||null,Mt(Je,ut,Ht,wn);case lc:var nr=Ht._init;return Ht=nr(Ht._payload),Zn(ut,Je,dt,Ht,wn)}if(yu(Ht)||o(Ht))return ut=ut.get(dt)||null,Wt(Je,ut,Ht,wn,null);if(typeof Ht.then=="function")return Zn(ut,Je,dt,cn(Ht),wn);if(Ht.$$typeof===mu)return Zn(ut,Je,dt,df(Je,Ht),wn);Dt(Je,Ht)}return null}function xs(ut,Je,dt,Ht){for(var wn=null,nr=null,Un=Je,mi=Je=0,sr=null;Un!==null&&mi<dt.length;mi++){Un.index>mi?(sr=Un,Un=null):sr=Un.sibling;var _i=kt(ut,Un,dt[mi],Ht);if(_i===null){Un===null&&(Un=sr);break}g&&Un&&_i.alternate===null&&y(ut,Un),Je=W(_i,Je,mi),nr===null?wn=_i:nr.sibling=_i,nr=_i,Un=sr}if(mi===dt.length)return T(ut,Un),zi&&q(ut,mi),wn;if(Un===null){for(;mi<dt.length;mi++)Un=nn(ut,dt[mi],Ht),Un!==null&&(Je=W(Un,Je,mi),nr===null?wn=Un:nr.sibling=Un,nr=Un);return zi&&q(ut,mi),wn}for(Un=N(Un);mi<dt.length;mi++)sr=Zn(Un,ut,mi,dt[mi],Ht),sr!==null&&(g&&sr.alternate!==null&&Un.delete(sr.key===null?mi:sr.key),Je=W(sr,Je,mi),nr===null?wn=sr:nr.sibling=sr,nr=sr);return g&&Un.forEach(function(Pu){return y(ut,Pu)}),zi&&q(ut,mi),wn}function Yd(ut,Je,dt,Ht){if(dt==null)throw Error(a(151));for(var wn=null,nr=null,Un=Je,mi=Je=0,sr=null,_i=dt.next();Un!==null&&!_i.done;mi++,_i=dt.next()){Un.index>mi?(sr=Un,Un=null):sr=Un.sibling;var Pu=kt(ut,Un,_i.value,Ht);if(Pu===null){Un===null&&(Un=sr);break}g&&Un&&Pu.alternate===null&&y(ut,Un),Je=W(Pu,Je,mi),nr===null?wn=Pu:nr.sibling=Pu,nr=Pu,Un=sr}if(_i.done)return T(ut,Un),zi&&q(ut,mi),wn;if(Un===null){for(;!_i.done;mi++,_i=dt.next())_i=nn(ut,_i.value,Ht),_i!==null&&(Je=W(_i,Je,mi),nr===null?wn=_i:nr.sibling=_i,nr=_i);return zi&&q(ut,mi),wn}for(Un=N(Un);!_i.done;mi++,_i=dt.next())_i=Zn(Un,ut,mi,_i.value,Ht),_i!==null&&(g&&_i.alternate!==null&&Un.delete(_i.key===null?mi:_i.key),Je=W(_i,Je,mi),nr===null?wn=_i:nr.sibling=_i,nr=_i);return g&&Un.forEach(function(zS){return y(ut,zS)}),zi&&q(ut,mi),wn}function Pf(ut,Je,dt,Ht){if(typeof dt=="object"&&dt!==null&&dt.type===hu&&dt.key===null&&(dt=dt.props.children),typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case du:e:{for(var wn=dt.key;Je!==null;){if(Je.key===wn){if(wn=dt.type,wn===hu){if(Je.tag===7){T(ut,Je.sibling),Ht=$(Je,dt.props.children),Ht.return=ut,ut=Ht;break e}}else if(Je.elementType===wn||typeof wn=="object"&&wn!==null&&wn.$$typeof===lc&&qt(wn)===Je.type){T(ut,Je.sibling),Ht=$(Je,dt.props),Zt(Ht,dt),Ht.return=ut,ut=Ht;break e}T(ut,Je);break}else y(ut,Je);Je=Je.sibling}dt.type===hu?(Ht=fu(dt.props.children,ut.mode,Ht,dt.key),Ht.return=ut,ut=Ht):(Ht=yf(dt.type,dt.key,dt.props,null,ut.mode,Ht),Zt(Ht,dt),Ht.return=ut,ut=Ht)}return ve(ut);case bl:e:{for(wn=dt.key;Je!==null;){if(Je.key===wn)if(Je.tag===4&&Je.stateNode.containerInfo===dt.containerInfo&&Je.stateNode.implementation===dt.implementation){T(ut,Je.sibling),Ht=$(Je,dt.children||[]),Ht.return=ut,ut=Ht;break e}else{T(ut,Je);break}else y(ut,Je);Je=Je.sibling}Ht=bo(dt,ut.mode,Ht),Ht.return=ut,ut=Ht}return ve(ut);case lc:return wn=dt._init,dt=wn(dt._payload),Pf(ut,Je,dt,Ht)}if(yu(dt))return xs(ut,Je,dt,Ht);if(o(dt)){if(wn=o(dt),typeof wn!="function")throw Error(a(150));return dt=wn.call(dt),Yd(ut,Je,dt,Ht)}if(typeof dt.then=="function")return Pf(ut,Je,cn(dt),Ht);if(dt.$$typeof===mu)return Pf(ut,Je,df(ut,dt),Ht);Dt(ut,dt)}return typeof dt=="string"&&dt!==""||typeof dt=="number"||typeof dt=="bigint"?(dt=""+dt,Je!==null&&Je.tag===6?(T(ut,Je.sibling),Ht=$(Je,dt),Ht.return=ut,ut=Ht):(T(ut,Je),Ht=sp(dt,ut.mode,Ht),Ht.return=ut,ut=Ht),ve(ut)):T(ut,Je)}return function(ut,Je,dt,Ht){try{ja=0;var wn=Pf(ut,Je,dt,Ht);return Tf=null,wn}catch(Un){if(Un===gp)throw Un;var nr=t(29,Un,null,ut.mode);return nr.lanes=Ht,nr.return=ut,nr}finally{}}}function cr(g,y){g=Ys,w(Ws,g),w(js,y),Ys=g|y.baseLanes}function Kr(){w(Ws,Ys),w(js,js.current)}function Bn(){Ys=Ws.current,b(js),b(Ws)}function Ri(g){var y=g.alternate;w(dr,dr.current&1),w(wo,g),ms===null&&(y===null||js.current!==null||y.memoizedState!==null)&&(ms=g)}function xr(g){if(g.tag===22){if(w(dr,dr.current),w(wo,g),ms===null){var y=g.alternate;y!==null&&y.memoizedState!==null&&(ms=g)}}else Tn()}function Tn(){w(dr,dr.current),w(wo,wo.current)}function Rn(g){b(wo),ms===g&&(ms=null),b(dr)}function ti(g){for(var y=g;y!==null;){if(y.tag===13){var T=y.memoizedState;if(T!==null&&(T=T.dehydrated,T===null||xf(T)||fp(T)))return y}else if(y.tag===19&&y.memoizedProps.revealOrder!==void 0){if((y.flags&128)!==0)return y}else if(y.child!==null){y.child.return=y,y=y.child;continue}if(y===g)break;for(;y.sibling===null;){if(y.return===null||y.return===g)return null;y=y.return}y.sibling.return=y.return,y=y.sibling}return null}function dn(){throw Error(a(321))}function ai(g,y){if(y===null)return!1;for(var T=0;T<y.length&&T<g.length;T++)if(!to(g[T],y[T]))return!1;return!0}function un(g,y,T,N,$,W){return mc=W,Yn=y,y.memoizedState=null,y.updateQueue=null,y.lanes=0,Fn.H=g===null||g.memoizedState===null?yc:io,Mu=!1,W=T(N,$),Mu=!1,Af&&(W=Ur(y,T,N,$)),Nr(g),W}function Nr(g){Fn.H=Gr;var y=Bi!==null&&Bi.next!==null;if(mc=0,Mr=Bi=Yn=null,gc=!1,Vd=0,vc=null,y)throw Error(a(300));g===null||na||(g=g.dependencies,g!==null&&ff(g)&&(na=!0))}function Ur(g,y,T,N){Yn=g;var $=0;do{if(Af&&(vc=null),Vd=0,Af=!1,25<=$)throw Error(a(301));if($+=1,Mr=Bi=null,g.updateQueue!=null){var W=g.updateQueue;W.lastEffect=null,W.events=null,W.stores=null,W.memoCache!=null&&(W.memoCache.index=0)}Fn.H=Au,W=y(T,N)}while(Af);return W}function Ir(){var g=Fn.H,y=g.useState()[0];return y=typeof y.then=="function"?rt(y):y,g=g.useState()[0],(Bi!==null?Bi.memoizedState:null)!==g&&(Yn.flags|=1024),y}function zr(){var g=Tu!==0;return Tu=0,g}function ur(g,y,T){y.updateQueue=g.updateQueue,y.flags&=-2053,g.lanes&=~T}function wr(g){if(gc){for(g=g.memoizedState;g!==null;){var y=g.queue;y!==null&&(y.pending=null),g=g.next}gc=!1}mc=0,Mr=Bi=Yn=null,Af=!1,Vd=Tu=0,vc=null}function le(){var g={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mr===null?Yn.memoizedState=Mr=g:Mr=Mr.next=g,Mr}function Be(){if(Bi===null){var g=Yn.alternate;g=g!==null?g.memoizedState:null}else g=Bi.next;var y=Mr===null?Yn.memoizedState:Mr.next;if(y!==null)Mr=y,Bi=g;else{if(g===null)throw Yn.alternate===null?Error(a(467)):Error(a(310));Bi=g,g={memoizedState:Bi.memoizedState,baseState:Bi.baseState,baseQueue:Bi.baseQueue,queue:Bi.queue,next:null},Mr===null?Yn.memoizedState=Mr=g:Mr=Mr.next=g}return Mr}function rt(g){var y=Vd;return Vd+=1,vc===null&&(vc=[]),g=zt(vc,g,y),y=Yn,(Mr===null?y.memoizedState:Mr.next)===null&&(y=y.alternate,Fn.H=y===null||y.memoizedState===null?yc:io),g}function Ke(g){if(g!==null&&typeof g=="object"){if(typeof g.then=="function")return rt(g);if(g.$$typeof===mu)return la(g)}throw Error(a(438,String(g)))}function Ve(g){var y=null,T=Yn.updateQueue;if(T!==null&&(y=T.memoCache),y==null){var N=Yn.alternate;N!==null&&(N=N.updateQueue,N!==null&&(N=N.memoCache,N!=null&&(y={data:N.data.map(function($){return $.slice()}),index:0})))}if(y==null&&(y={data:[],index:0}),T===null&&(T=ty(),Yn.updateQueue=T),T.memoCache=y,T=y.data[y.index],T===void 0)for(T=y.data[y.index]=Array(g),N=0;N<g;N++)T[N]=ci;return y.index++,T}function Rt(g,y){return typeof y=="function"?y(g):y}function jt(g){var y=Be();return Kt(y,Bi,g)}function Kt(g,y,T){var N=g.queue;if(N===null)throw Error(a(311));N.lastRenderedReducer=T;var $=g.baseQueue,W=N.pending;if(W!==null){if($!==null){var ve=$.next;$.next=W.next,W.next=ve}y.baseQueue=$=W,N.pending=null}if(W=g.baseState,$===null)g.memoizedState=W;else{y=$.next;var Le=ve=null,nt=null,Mt=y,Wt=!1;do{var nn=Mt.lane&-536870913;if(nn!==Mt.lane?(yi&nn)===nn:(mc&nn)===nn){var kt=Mt.revertLane;if(kt===0)nt!==null&&(nt=nt.next={lane:0,revertLane:0,action:Mt.action,hasEagerState:Mt.hasEagerState,eagerState:Mt.eagerState,next:null}),nn===yr&&(Wt=!0);else if((mc&kt)===kt){Mt=Mt.next,kt===yr&&(Wt=!0);continue}else nn={lane:0,revertLane:Mt.revertLane,action:Mt.action,hasEagerState:Mt.hasEagerState,eagerState:Mt.eagerState,next:null},nt===null?(Le=nt=nn,ve=W):nt=nt.next=nn,Yn.lanes|=kt,_s|=kt;nn=Mt.action,Mu&&T(W,nn),W=Mt.hasEagerState?Mt.eagerState:T(W,nn)}else kt={lane:nn,revertLane:Mt.revertLane,action:Mt.action,hasEagerState:Mt.hasEagerState,eagerState:Mt.eagerState,next:null},nt===null?(Le=nt=kt,ve=W):nt=nt.next=kt,Yn.lanes|=nn,_s|=nn;Mt=Mt.next}while(Mt!==null&&Mt!==y);if(nt===null?ve=W:nt.next=Le,!to(W,g.memoizedState)&&(na=!0,Wt&&(T=xa,T!==null)))throw T;g.memoizedState=W,g.baseState=ve,g.baseQueue=nt,N.lastRenderedState=W}return $===null&&(N.lanes=0),[g.memoizedState,N.dispatch]}function Xt(g){var y=Be(),T=y.queue;if(T===null)throw Error(a(311));T.lastRenderedReducer=g;var N=T.dispatch,$=T.pending,W=y.memoizedState;if($!==null){T.pending=null;var ve=$=$.next;do W=g(W,ve.action),ve=ve.next;while(ve!==$);to(W,y.memoizedState)||(na=!0),y.memoizedState=W,y.baseQueue===null&&(y.baseState=W),T.lastRenderedState=W}return[W,N]}function bn(g,y,T){var N=Yn,$=Be(),W=zi;if(W){if(T===void 0)throw Error(a(407));T=T()}else T=y();var ve=!to((Bi||$).memoizedState,T);if(ve&&($.memoizedState=T,na=!0),$=$.queue,Ds($n.bind(null,N,$,g),[g]),$.getSnapshot!==y||ve||Mr!==null&&Mr.memoizedState.tag&1){if(N.flags|=2048,Pr(9,sn.bind(null,N,$,T,y),{destroy:void 0},null),tr===null)throw Error(a(349));W||(mc&60)!==0||hn(N,y,T)}return T}function hn(g,y,T){g.flags|=16384,g={getSnapshot:y,value:T},y=Yn.updateQueue,y===null?(y=ty(),Yn.updateQueue=y,y.stores=[g]):(T=y.stores,T===null?y.stores=[g]:T.push(g))}function sn(g,y,T,N){y.value=T,y.getSnapshot=N,Gn(y)&&Wn(g)}function $n(g,y,T){return T(function(){Gn(y)&&Wn(g)})}function Gn(g){var y=g.getSnapshot;g=g.value;try{var T=y();return!to(g,T)}catch{return!0}}function Wn(g){var y=Ye(g,2);y!==null&&fr(y,g,2)}function Pn(g){var y=le();if(typeof g=="function"){var T=g;if(g=T(),Mu){K(!0);try{T()}finally{K(!1)}}}return y.memoizedState=y.baseState=g,y.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rt,lastRenderedState:g},y}function Sn(g,y,T,N){return g.baseState=T,Kt(g,Bi,typeof N=="function"?N:Rt)}function fn(g,y,T,N,$){if(jl(g))throw Error(a(485));if(g=y.action,g!==null){var W={payload:$,action:g,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ve){W.listeners.push(ve)}};Fn.T!==null?T(!0):W.isTransition=!1,N(W),T=y.pending,T===null?(W.next=y.pending=W,wi(y,W)):(W.next=T.next,y.pending=T.next=W)}}function wi(g,y){var T=y.action,N=y.payload,$=g.state;if(y.isTransition){var W=Fn.T,ve={};Fn.T=ve;try{var Le=T($,N),nt=Fn.S;nt!==null&&nt(ve,Le),Xn(g,y,Le)}catch(Mt){On(g,y,Mt)}finally{Fn.T=W}}else try{W=T($,N),Xn(g,y,W)}catch(Mt){On(g,y,Mt)}}function Xn(g,y,T){T!==null&&typeof T=="object"&&typeof T.then=="function"?T.then(function(N){Vn(g,y,N)},function(N){return On(g,y,N)}):Vn(g,y,T)}function Vn(g,y,T){y.status="fulfilled",y.value=T,En(y),g.state=T,y=g.pending,y!==null&&(T=y.next,T===y?g.pending=null:(T=T.next,y.next=T,wi(g,T)))}function On(g,y,T){var N=g.pending;if(g.pending=null,N!==null){N=N.next;do y.status="rejected",y.reason=T,En(y),y=y.next;while(y!==N)}g.action=null}function En(g){g=g.listeners;for(var y=0;y<g.length;y++)(0,g[y])()}function ni(g,y){return y}function An(g,y){if(zi){var T=tr.formState;if(T!==null){e:{var N=Yn;if(zi){if(Ji){var $=yS(Ji,Vs);if($){Ji=_u($),N=Sl($);break e}}Me(N)}N=!1}N&&(y=T[0])}}T=le(),T.memoizedState=T.baseState=y,N={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:y},T.queue=N,T=ko.bind(null,Yn,N),N.dispatch=T,N=Pn(!1);var W=$o.bind(null,Yn,!1,N.queue);return N=le(),$={state:y,dispatch:null,action:g,pending:null},N.queue=$,T=fn.bind(null,Yn,$,W,T),$.dispatch=T,N.memoizedState=g,[y,T,!1]}function Ci(g){var y=Be();return Ni(y,Bi,g)}function Ni(g,y,T){y=Kt(g,y,ni)[0],g=jt(Rt)[0],y=typeof y=="object"&&y!==null&&typeof y.then=="function"?rt(y):y;var N=Be(),$=N.queue,W=$.dispatch;return T!==N.memoizedState&&(Yn.flags|=2048,Pr(9,Gi.bind(null,$,T),{destroy:void 0},null)),[y,W,g]}function Gi(g,y){g.action=y}function Ki(g){var y=Be(),T=Bi;if(T!==null)return Ni(y,T,g);Be(),y=y.memoizedState,T=Be();var N=T.queue.dispatch;return T.memoizedState=g,[y,N,!1]}function Pr(g,y,T,N){return g={tag:g,create:y,inst:T,deps:N,next:null},y=Yn.updateQueue,y===null&&(y=ty(),Yn.updateQueue=y),T=y.lastEffect,T===null?y.lastEffect=g.next=g:(N=T.next,T.next=g,g.next=N,y.lastEffect=g),g}function Yi(){return Be().memoizedState}function po(g,y,T,N){var $=le();Yn.flags|=g,$.memoizedState=Pr(1|y,T,{destroy:void 0},N===void 0?null:N)}function Ka(g,y,T,N){var $=Be();N=N===void 0?null:N;var W=$.memoizedState.inst;Bi!==null&&N!==null&&ai(N,Bi.memoizedState.deps)?$.memoizedState=Pr(y,T,W,N):(Yn.flags|=g,$.memoizedState=Pr(1|y,T,W,N))}function Ma(g,y){po(8390656,8,g,y)}function Ds(g,y){Ka(2048,8,g,y)}function sf(g,y){return Ka(4,2,g,y)}function Zc(g,y){return Ka(4,4,g,y)}function Cr(g,y){if(typeof y=="function"){g=g();var T=y(g);return function(){typeof T=="function"?T():y(null)}}if(y!=null)return g=g(),y.current=g,function(){y.current=null}}function Ho(g,y,T){T=T!=null?T.concat([g]):null,Ka(4,4,Cr.bind(null,y,g),T)}function Na(){}function ga(g,y){var T=Be();y=y===void 0?null:y;var N=T.memoizedState;return y!==null&&ai(y,N[1])?N[0]:(T.memoizedState=[g,y],g)}function Ta(g,y){var T=Be();y=y===void 0?null:y;var N=T.memoizedState;if(y!==null&&ai(y,N[1]))return N[0];if(N=g(),Mu){K(!0);try{g()}finally{K(!1)}}return T.memoizedState=[N,y],N}function Ls(g,y,T){return T===void 0||(mc&1073741824)!==0?g.memoizedState=y:(g.memoizedState=T,g=ep(),Yn.lanes|=g,_s|=g,T)}function mo(g,y,T,N){return to(T,y)?T:js.current!==null?(g=Ls(g,T,N),to(g,y)||(na=!0),g):(mc&42)===0?(na=!0,g.memoizedState=T):(g=ep(),Yn.lanes|=g,_s|=g,y)}function Gl(g,y,T,N,$){var W=bu();eo(W!==0&&8>W?W:8);var ve=Fn.T,Le={};Fn.T=Le,$o(g,!1,y,T);try{var nt=$(),Mt=Fn.S;if(Mt!==null&&Mt(Le,nt),nt!==null&&typeof nt=="object"&&typeof nt.then=="function"){var Wt=It(nt,N);Ua(g,y,Wt,Fa(g))}else Ua(g,y,N,Fa(g))}catch(nn){Ua(g,y,{then:function(){},status:"rejected",reason:nn},Fa())}finally{eo(W),Fn.T=ve}}function tn(g){var y=g.memoizedState;if(y!==null)return y;y={memoizedState:Sf,baseState:Sf,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rt,lastRenderedState:Sf},next:null};var T={};return y.next={memoizedState:T,baseState:T,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rt,lastRenderedState:T},next:null},g.memoizedState=y,g=g.alternate,g!==null&&(g.memoizedState=y),y}function xn(){return la(uc)}function Oi(){return Be().memoizedState}function Ei(){return Be().memoizedState}function Hi(g){for(var y=g.return;y!==null;){switch(y.tag){case 24:case 3:var T=Fa();g=wt(T);var N=je(y,g,T);N!==null&&(fr(N,y,T),it(N,y,T)),y={cache:go()},g.payload=y;return}y=y.return}}function Ns(g,y,T){var N=Fa();T={lane:N,revertLane:0,action:T,hasEagerState:!1,eagerState:null,next:null},jl(g)?va(y,T):(T=Ie(g,y,T,N),T!==null&&(fr(T,g,N),ll(T,y,N)))}function ko(g,y,T){var N=Fa();Ua(g,y,T,N)}function Ua(g,y,T,N){var $={lane:N,revertLane:0,action:T,hasEagerState:!1,eagerState:null,next:null};if(jl(g))va(y,$);else{var W=g.alternate;if(g.lanes===0&&(W===null||W.lanes===0)&&(W=y.lastRenderedReducer,W!==null))try{var ve=y.lastRenderedState,Le=W(ve,T);if($.hasEagerState=!0,$.eagerState=Le,to(Le,ve))return Fe(g,y,$,0),tr===null&&re(),!1}catch{}finally{}if(T=Ie(g,y,$,N),T!==null)return fr(T,g,N),ll(T,y,N),!0}return!1}function $o(g,y,T,N){if(N={lane:2,revertLane:mt(),action:N,hasEagerState:!1,eagerState:null,next:null},jl(g)){if(y)throw Error(a(479))}else y=Ie(g,T,N,2),y!==null&&fr(y,g,2)}function jl(g){var y=g.alternate;return g===Yn||y!==null&&y===Yn}function va(g,y){Af=gc=!0;var T=g.pending;T===null?y.next=y:(y.next=T.next,T.next=y),g.pending=y}function ll(g,y,T){if((T&4194176)!==0){var N=y.lanes;N&=g.pendingLanes,T|=N,y.lanes=T,ee(g,T)}}function cl(g,y,T,N){y=g.memoizedState,T=T(N,y),T=T==null?y:Br({},y,T),g.memoizedState=T,g.lanes===0&&(g.updateQueue.baseState=T)}function Wl(g,y,T,N,$,W,ve){return g=g.stateNode,typeof g.shouldComponentUpdate=="function"?g.shouldComponentUpdate(N,W,ve):y.prototype&&y.prototype.isPureReactComponent?!Qe(T,N)||!Qe($,W):!0}function Gh(g,y,T,N){g=y.state,typeof y.componentWillReceiveProps=="function"&&y.componentWillReceiveProps(T,N),typeof y.UNSAFE_componentWillReceiveProps=="function"&&y.UNSAFE_componentWillReceiveProps(T,N),y.state!==g&&Gd.enqueueReplaceState(y,y.state,null)}function Vo(g,y){var T=y;if("ref"in y){T={};for(var N in y)N!=="ref"&&(T[N]=y[N])}if(g=g.defaultProps){T===y&&(T=Br({},T));for(var $ in g)T[$]===void 0&&(T[$]=g[$])}return T}function Kc(g,y){try{var T=g.onUncaughtError;T(y.value,{componentStack:y.stack})}catch(N){setTimeout(function(){throw N})}}function Qc(g,y,T){try{var N=g.onCaughtError;N(T.value,{componentStack:T.stack,errorBoundary:y.tag===1?y.stateNode:null})}catch($){setTimeout(function(){throw $})}}function Qa(g,y,T){return T=wt(T),T.tag=3,T.payload={element:null},T.callback=function(){Kc(g,y)},T}function jh(g){return g=wt(g),g.tag=3,g}function Nm(g,y,T,N){var $=T.type.getDerivedStateFromError;if(typeof $=="function"){var W=N.value;g.payload=function(){return $(W)},g.callback=function(){Qc(y,T,N)}}var ve=T.stateNode;ve!==null&&typeof ve.componentDidCatch=="function"&&(g.callback=function(){Qc(y,T,N),typeof $!="function"&&(Al===null?Al=new Set([this]):Al.add(this));var Le=N.stack;this.componentDidCatch(N.value,{componentStack:Le!==null?Le:""})})}function C0(g,y,T,N,$){if(T.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){if(y=T.alternate,y!==null&&hl(y,T,$,!0),T=wo.current,T!==null){switch(T.tag){case 13:return ms===null?ds():T.alternate===null&&Tr===0&&(Tr=3),T.flags&=-257,T.flags|=65536,T.lanes=$,N===no?T.flags|=16384:(y=T.updateQueue,y===null?T.updateQueue=new Set([N]):y.add(N),uu(g,N,$)),!1;case 22:return T.flags|=65536,N===no?T.flags|=16384:(y=T.updateQueue,y===null?(y={transitions:null,markerInstances:null,retryQueue:new Set([N])},T.updateQueue=y):(T=y.retryQueue,T===null?y.retryQueue=new Set([N]):T.add(N)),uu(g,N,$)),!1}throw Error(a(435,T.tag))}return uu(g,N,$),ds(),!1}if(zi)return y=wo.current,y!==null?((y.flags&65536)===0&&(y.flags|=256),y.flags|=65536,y.lanes=$,N!==mp&&(g=Error(a(422),{cause:N}),we(ce(g,T)))):(N!==mp&&(y=Error(a(423),{cause:N}),we(ce(y,T))),g=g.current.alternate,g.flags|=65536,$&=-$,g.lanes|=$,N=ce(N,T),$=Qa(g.stateNode,N,$),Se(g,$),Tr!==4&&(Tr=2)),!1;var W=Error(a(520),{cause:N});if(W=ce(W,T),Wd===null?Wd=[W]:Wd.push(W),Tr!==4&&(Tr=2),y===null)return!0;N=ce(N,T),T=y;do{switch(T.tag){case 3:return T.flags|=65536,g=$&-$,T.lanes|=g,g=Qa(T.stateNode,N,g),Se(T,g),!1;case 1:if(y=T.type,W=T.stateNode,(T.flags&128)===0&&(typeof y.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(Al===null||!Al.has(W))))return T.flags|=65536,$&=-$,T.lanes|=$,$=jh($),Nm($,g,T,N),Se(T,$),!1}T=T.return}while(T!==null);return!1}function Qr(g,y,T,N){y.child=g===null?El(y,null,T,N):Eu(y,g.child,T,N)}function lf(g,y,T,N,$){T=T.render;var W=y.ref;if("ref"in N){var ve={};for(var Le in N)Le!=="ref"&&(ve[Le]=N[Le])}else ve=N;return cs(y),N=un(g,y,T,ve,W,$),Le=zr(),g!==null&&!na?(ur(g,y,$),Us(g,y,$)):(zi&&Le&&he(y),y.flags|=1,Qr(g,y,N,$),y.child)}function ya(g,y,T,N,$){if(g===null){var W=T.type;return typeof W=="function"&&!ic(W)&&W.defaultProps===void 0&&T.compare===null?(y.tag=15,y.type=W,Um(g,y,W,N,$)):(g=yf(T.type,null,N,y,y.mode,$),g.ref=y.ref,g.return=y,y.child=g)}if(W=g.child,!Yh(g,$)){var ve=W.memoizedProps;if(T=T.compare,T=T!==null?T:Qe,T(ve,N)&&g.ref===y.ref)return Us(g,y,$)}return y.flags|=1,g=rc(W,N),g.ref=y.ref,g.return=y,y.child=g}function Um(g,y,T,N,$){if(g!==null){var W=g.memoizedProps;if(Qe(W,N)&&g.ref===y.ref)if(na=!1,y.pendingProps=N=W,Yh(g,$))(g.flags&131072)!==0&&(na=!0);else return y.lanes=g.lanes,Us(g,y,$)}return yd(g,y,T,N,$)}function Bm(g,y,T){var N=y.pendingProps,$=N.children,W=(y.stateNode._pendingVisibility&2)!==0,ve=g!==null?g.memoizedState:null;if(cf(g,y),N.mode==="hidden"||W){if((y.flags&128)!==0){if(N=ve!==null?ve.baseLanes|T:T,g!==null){for($=y.child=g.child,W=0;$!==null;)W=W|$.lanes|$.childLanes,$=$.sibling;y.childLanes=W&~N}else y.childLanes=0,y.child=null;return Fm(g,y,N,T)}if((T&536870912)!==0)y.memoizedState={baseLanes:0,cachePool:null},g!==null&&tu(y,ve!==null?ve.cachePool:null),ve!==null?cr(y,ve):Kr(),xr(y);else return y.lanes=y.childLanes=536870912,Fm(g,y,ve!==null?ve.baseLanes|T:T,T)}else ve!==null?(tu(y,ve.cachePool),cr(y,ve),Tn(),y.memoizedState=null):(g!==null&&tu(y,null),Kr(),Tn());return Qr(g,y,$,T),y.child}function Fm(g,y,T,N){var $=xd();return $=$===null?null:{parent:Fs?Lr._currentValue:Lr._currentValue2,pool:$},y.memoizedState={baseLanes:T,cachePool:$},g!==null&&tu(y,null),Kr(),xr(y),g!==null&&hl(g,y,N,!0),null}function cf(g,y){var T=y.ref;if(T===null)g!==null&&g.ref!==null&&(y.flags|=2097664);else{if(typeof T!="function"&&typeof T!="object")throw Error(a(284));(g===null||g.ref!==T)&&(y.flags|=2097664)}}function yd(g,y,T,N,$){return cs(y),T=un(g,y,T,N,void 0,$),N=zr(),g!==null&&!na?(ur(g,y,$),Us(g,y,$)):(zi&&N&&he(y),y.flags|=1,Qr(g,y,T,$),y.child)}function Hm(g,y,T,N,$,W){return cs(y),y.updateQueue=null,T=Ur(y,N,T,$),Nr(g),N=zr(),g!==null&&!na?(ur(g,y,W),Us(g,y,W)):(zi&&N&&he(y),y.flags|=1,Qr(g,y,T,W),y.child)}function km(g,y,T,N,$){if(cs(y),y.stateNode===null){var W=Ef,ve=T.contextType;typeof ve=="object"&&ve!==null&&(W=la(ve)),W=new T(N,W),y.memoizedState=W.state!==null&&W.state!==void 0?W.state:null,W.updater=Gd,y.stateNode=W,W._reactInternals=y,W=y.stateNode,W.props=N,W.state=y.memoizedState,W.refs={},at(y),ve=T.contextType,W.context=typeof ve=="object"&&ve!==null?la(ve):Ef,W.state=y.memoizedState,ve=T.getDerivedStateFromProps,typeof ve=="function"&&(cl(y,T,ve,N),W.state=y.memoizedState),typeof T.getDerivedStateFromProps=="function"||typeof W.getSnapshotBeforeUpdate=="function"||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(ve=W.state,typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount(),ve!==W.state&&Gd.enqueueReplaceState(W,W.state,null),bt(y,N,W,$),ke(),W.state=y.memoizedState),typeof W.componentDidMount=="function"&&(y.flags|=4194308),N=!0}else if(g===null){W=y.stateNode;var Le=y.memoizedProps,nt=Vo(T,Le);W.props=nt;var Mt=W.context,Wt=T.contextType;ve=Ef,typeof Wt=="object"&&Wt!==null&&(ve=la(Wt));var nn=T.getDerivedStateFromProps;Wt=typeof nn=="function"||typeof W.getSnapshotBeforeUpdate=="function",Le=y.pendingProps!==Le,Wt||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(Le||Mt!==ve)&&Gh(y,W,N,ve),Va=!1;var kt=y.memoizedState;W.state=kt,bt(y,N,W,$),ke(),Mt=y.memoizedState,Le||kt!==Mt||Va?(typeof nn=="function"&&(cl(y,T,nn,N),Mt=y.memoizedState),(nt=Va||Wl(y,T,nt,N,kt,Mt,ve))?(Wt||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount()),typeof W.componentDidMount=="function"&&(y.flags|=4194308)):(typeof W.componentDidMount=="function"&&(y.flags|=4194308),y.memoizedProps=N,y.memoizedState=Mt),W.props=N,W.state=Mt,W.context=ve,N=nt):(typeof W.componentDidMount=="function"&&(y.flags|=4194308),N=!1)}else{W=y.stateNode,_t(g,y),ve=y.memoizedProps,Wt=Vo(T,ve),W.props=Wt,nn=y.pendingProps,kt=W.context,Mt=T.contextType,nt=Ef,typeof Mt=="object"&&Mt!==null&&(nt=la(Mt)),Le=T.getDerivedStateFromProps,(Mt=typeof Le=="function"||typeof W.getSnapshotBeforeUpdate=="function")||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(ve!==nn||kt!==nt)&&Gh(y,W,N,nt),Va=!1,kt=y.memoizedState,W.state=kt,bt(y,N,W,$),ke();var Zn=y.memoizedState;ve!==nn||kt!==Zn||Va||g!==null&&g.dependencies!==null&&ff(g.dependencies)?(typeof Le=="function"&&(cl(y,T,Le,N),Zn=y.memoizedState),(Wt=Va||Wl(y,T,Wt,N,kt,Zn,nt)||g!==null&&g.dependencies!==null&&ff(g.dependencies))?(Mt||typeof W.UNSAFE_componentWillUpdate!="function"&&typeof W.componentWillUpdate!="function"||(typeof W.componentWillUpdate=="function"&&W.componentWillUpdate(N,Zn,nt),typeof W.UNSAFE_componentWillUpdate=="function"&&W.UNSAFE_componentWillUpdate(N,Zn,nt)),typeof W.componentDidUpdate=="function"&&(y.flags|=4),typeof W.getSnapshotBeforeUpdate=="function"&&(y.flags|=1024)):(typeof W.componentDidUpdate!="function"||ve===g.memoizedProps&&kt===g.memoizedState||(y.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||ve===g.memoizedProps&&kt===g.memoizedState||(y.flags|=1024),y.memoizedProps=N,y.memoizedState=Zn),W.props=N,W.state=Zn,W.context=nt,N=Wt):(typeof W.componentDidUpdate!="function"||ve===g.memoizedProps&&kt===g.memoizedState||(y.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||ve===g.memoizedProps&&kt===g.memoizedState||(y.flags|=1024),N=!1)}return W=N,cf(g,y),N=(y.flags&128)!==0,W||N?(W=y.stateNode,T=N&&typeof T.getDerivedStateFromError!="function"?null:W.render(),y.flags|=1,g!==null&&N?(y.child=Eu(y,g.child,null,$),y.child=Eu(y,null,T,$)):Qr(g,y,T,$),y.memoizedState=W.state,g=y.child):g=Us(g,y,$),g}function $m(g,y,T,N){return ze(),y.flags|=256,Qr(g,y,T,N),y.child}function bd(g){return{baseLanes:g,cachePool:qh()}}function ul(g,y,T){return g=g!==null?g.childLanes&~T:0,y&&(g|=Ko),g}function fl(g,y,T){var N=y.pendingProps,$=!1,W=(y.flags&128)!==0,ve;if((ve=W)||(ve=g!==null&&g.memoizedState===null?!1:(dr.current&2)!==0),ve&&($=!0,y.flags&=-129),ve=(y.flags&32)!==0,y.flags&=-33,g===null){if(zi){if($?Ri(y):Tn(),zi){var Le=Ji,nt;(nt=Le)&&(Le=_S(Le,Vs),Le!==null?(y.memoizedState={dehydrated:Le,treeContext:$s!==null?{id:wl,overflow:Cl}:null,retryLane:536870912},nt=t(18,null,null,0),nt.stateNode=Le,nt.return=y,y.child=nt,$r=y,Ji=null,nt=!0):nt=!1),nt||Me(y)}if(Le=y.memoizedState,Le!==null&&(Le=Le.dehydrated,Le!==null))return fp(Le)?y.lanes=16:y.lanes=536870912,null;Rn(y)}return Le=N.children,N=N.fallback,$?(Tn(),$=y.mode,Le=Wh({mode:"hidden",children:Le},$),N=fu(N,$,T,null),Le.return=y,N.return=y,Le.sibling=N,y.child=Le,$=y.child,$.memoizedState=bd(T),$.childLanes=ul(g,ve,T),y.memoizedState=yp,N):(Ri(y),Jc(y,Le))}if(nt=g.memoizedState,nt!==null&&(Le=nt.dehydrated,Le!==null)){if(W)y.flags&256?(Ri(y),y.flags&=-257,y=uf(g,y,T)):y.memoizedState!==null?(Tn(),y.child=g.child,y.flags|=128,y=null):(Tn(),$=N.fallback,Le=y.mode,N=Wh({mode:"visible",children:N.children},Le),$=fu($,Le,T,null),$.flags|=2,N.return=y,$.return=y,N.sibling=$,y.child=N,Eu(y,g.child,null,T),N=y.child,N.memoizedState=bd(T),N.childLanes=ul(g,ve,T),y.memoizedState=yp,y=$);else if(Ri(y),fp(Le))ve=ag(Le).digest,N=Error(a(419)),N.stack="",N.digest=ve,we({value:N,source:null,stack:null}),y=uf(g,y,T);else if(na||hl(g,y,T,!1),ve=(T&g.childLanes)!==0,na||ve){if(ve=tr,ve!==null){if(N=T&-T,(N&42)!==0)N=1;else switch(N){case 2:N=1;break;case 8:N=4;break;case 32:N=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:N=64;break;case 268435456:N=134217728;break;default:N=0}if(N=(N&(ve.suspendedLanes|T))!==0?0:N,N!==0&&N!==nt.retryLane)throw nt.retryLane=N,Ye(g,N),fr(ve,g,N),ny}xf(Le)||ds(),y=uf(g,y,T)}else xf(Le)?(y.flags|=128,y.child=g.child,y=op.bind(null,g),vS(Le,y),y=null):(g=nt.treeContext,_o&&(Ji=k0(Le),$r=y,zi=!0,ps=null,Vs=!1,g!==null&&(So[$a++]=wl,So[$a++]=Cl,So[$a++]=$s,wl=g.id,Cl=g.overflow,$s=y)),y=Jc(y,N.children),y.flags|=4096);return y}return $?(Tn(),$=N.fallback,Le=y.mode,nt=g.child,W=nt.sibling,N=rc(nt,{mode:"hidden",children:N.children}),N.subtreeFlags=nt.subtreeFlags&31457280,W!==null?$=rc(W,$):($=fu($,Le,T,null),$.flags|=2),$.return=y,N.return=y,N.sibling=$,y.child=N,N=$,$=y.child,Le=g.child.memoizedState,Le===null?Le=bd(T):(nt=Le.cachePool,nt!==null?(W=Fs?Lr._currentValue:Lr._currentValue2,nt=nt.parent!==W?{parent:W,pool:W}:nt):nt=qh(),Le={baseLanes:Le.baseLanes|T,cachePool:nt}),$.memoizedState=Le,$.childLanes=ul(g,ve,T),y.memoizedState=yp,N):(Ri(y),T=g.child,g=T.sibling,T=rc(T,{mode:"visible",children:N.children}),T.return=y,T.sibling=null,g!==null&&(ve=y.deletions,ve===null?(y.deletions=[g],y.flags|=16):ve.push(g)),y.child=T,y.memoizedState=null,T)}function Jc(g,y){return y=Wh({mode:"visible",children:y},g.mode),y.return=g,g.child=y}function Wh(g,y){return Zm(g,y,0,null)}function uf(g,y,T){return Eu(y,g.child,null,T),g=Jc(y,y.pendingProps.children),g.flags|=2,y.memoizedState=null,g}function Xh(g,y,T){g.lanes|=y;var N=g.alternate;N!==null&&(N.lanes|=y),Xl(g.return,y,T)}function _d(g,y,T,N,$){var W=g.memoizedState;W===null?g.memoizedState={isBackwards:y,rendering:null,renderingStartTime:0,last:N,tail:T,tailMode:$}:(W.isBackwards=y,W.rendering=null,W.renderingStartTime=0,W.last=N,W.tail=T,W.tailMode=$)}function eu(g,y,T){var N=y.pendingProps,$=N.revealOrder,W=N.tail;if(Qr(g,y,N.children,T),N=dr.current,(N&2)!==0)N=N&1|2,y.flags|=128;else{if(g!==null&&(g.flags&128)!==0)e:for(g=y.child;g!==null;){if(g.tag===13)g.memoizedState!==null&&Xh(g,T,y);else if(g.tag===19)Xh(g,T,y);else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===y)break e;for(;g.sibling===null;){if(g.return===null||g.return===y)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}N&=1}switch(w(dr,N),$){case"forwards":for(T=y.child,$=null;T!==null;)g=T.alternate,g!==null&&ti(g)===null&&($=T),T=T.sibling;T=$,T===null?($=y.child,y.child=null):($=T.sibling,T.sibling=null),_d(y,!1,$,T,W);break;case"backwards":for(T=null,$=y.child,y.child=null;$!==null;){if(g=$.alternate,g!==null&&ti(g)===null){y.child=$;break}g=$.sibling,$.sibling=T,T=$,$=g}_d(y,!0,T,null,W);break;case"together":_d(y,!1,null,null,void 0);break;default:y.memoizedState=null}return y.child}function Us(g,y,T){if(g!==null&&(y.dependencies=g.dependencies),_s|=y.lanes,(T&y.childLanes)===0)if(g!==null){if(hl(g,y,T,!1),(T&y.childLanes)===0)return null}else return null;if(g!==null&&y.child!==g.child)throw Error(a(153));if(y.child!==null){for(g=y.child,T=rc(g,g.pendingProps),y.child=T,T.return=y;g.sibling!==null;)g=g.sibling,T=T.sibling=rc(g,g.pendingProps),T.return=y;T.sibling=null}return y.child}function Yh(g,y){return(g.lanes&y)!==0?!0:(g=g.dependencies,!!(g!==null&&ff(g)))}function E0(g,y,T){switch(y.tag){case 3:j(y,y.stateNode.containerInfo),dl(y,Lr,g.memoizedState.cache),ze();break;case 27:case 5:_e(y);break;case 4:j(y,y.stateNode.containerInfo);break;case 10:dl(y,y.type,y.memoizedProps.value);break;case 13:var N=y.memoizedState;if(N!==null)return N.dehydrated!==null?(Ri(y),y.flags|=128,null):(T&y.child.childLanes)!==0?fl(g,y,T):(Ri(y),g=Us(g,y,T),g!==null?g.sibling:null);Ri(y);break;case 19:var $=(g.flags&128)!==0;if(N=(T&y.childLanes)!==0,N||(hl(g,y,T,!1),N=(T&y.childLanes)!==0),$){if(N)return eu(g,y,T);y.flags|=128}if($=y.memoizedState,$!==null&&($.rendering=null,$.tail=null,$.lastEffect=null),w(dr,dr.current),N)break;return null;case 22:case 23:return y.lanes=0,Bm(g,y,T);case 24:dl(y,Lr,g.memoizedState.cache)}return Us(g,y,T)}function Vm(g,y,T){if(g!==null)if(g.memoizedProps!==y.pendingProps)na=!0;else{if(!Yh(g,T)&&(y.flags&128)===0)return na=!1,E0(g,y,T);na=(g.flags&131072)!==0}else na=!1,zi&&(y.flags&1048576)!==0&&J(y,Hd,y.index);switch(y.lanes=0,y.tag){case 16:e:{g=y.pendingProps;var N=y.elementType,$=N._init;if(N=$(N._payload),y.type=N,typeof N=="function")ic(N)?(g=Vo(N,g),y.tag=1,y=km(null,y,N,g,T)):(y.tag=0,y=yd(null,y,N,g,T));else{if(N!=null){if($=N.$$typeof,$===Km){y.tag=11,y=lf(null,y,N,g,T);break e}else if($===Id){y.tag=14,y=ya(null,y,N,g,T);break e}}throw y=l(N)||N,Error(a(306,y,""))}}return y;case 0:return yd(g,y,y.type,y.pendingProps,T);case 1:return N=y.type,$=Vo(N,y.pendingProps),km(g,y,N,$,T);case 3:e:{if(j(y,y.stateNode.containerInfo),g===null)throw Error(a(387));var W=y.pendingProps;$=y.memoizedState,N=$.element,_t(g,y),bt(y,W,null,T);var ve=y.memoizedState;if(W=ve.cache,dl(y,Lr,W),W!==$.cache&&Yl(y,[Lr],T,!0),ke(),W=ve.element,_o&&$.isDehydrated)if($={element:W,isDehydrated:!1,cache:ve.cache},y.updateQueue.baseState=$,y.memoizedState=$,y.flags&256){y=$m(g,y,W,T);break e}else if(W!==N){N=ce(Error(a(424)),y),we(N),y=$m(g,y,W,T);break e}else for(_o&&(Ji=wf(y.stateNode.containerInfo),$r=y,zi=!0,ps=null,Vs=!0),T=El(y,null,W,T),y.child=T;T;)T.flags=T.flags&-3|4096,T=T.sibling;else{if(ze(),W===N){y=Us(g,y,T);break e}Qr(g,y,W,T)}y=y.child}return y;case 26:if(Xo)return cf(g,y),g===null?(T=j0(y.type,null,y.pendingProps,null))?y.memoizedState=T:zi||(y.stateNode=q0(y.type,y.pendingProps,hc.current,y)):y.memoizedState=j0(y.type,g.memoizedProps,y.pendingProps,g.memoizedState),null;case 27:if(Sa)return _e(y),g===null&&Sa&&zi&&(N=y.stateNode=lg(y.type,y.pendingProps,hc.current,kr.current,!1),$r=y,Vs=!0,Ji=fc(N)),N=y.pendingProps.children,g!==null||zi?Qr(g,y,N,T):y.child=Eu(y,null,N,T),cf(g,y),y.child;case 5:return g===null&&zi&&(ES(y.type,y.pendingProps,kr.current),($=N=Ji)&&(N=$0(N,y.type,y.pendingProps,Vs),N!==null?(y.stateNode=N,$r=y,Ji=fc(N),Vs=!1,$=!0):$=!1),$||Me(y)),_e(y),$=y.type,W=y.pendingProps,ve=g!==null?g.memoizedProps:null,N=W.children,Ra($,W)?N=null:ve!==null&&Ra($,ve)&&(y.flags|=32),y.memoizedState!==null&&($=un(g,y,Ir,null,null,T),Fs?uc._currentValue=$:uc._currentValue2=$),cf(g,y),Qr(g,y,N,T),y.child;case 6:return g===null&&zi&&(eM(y.pendingProps,kr.current),(g=T=Ji)&&(T=bS(T,y.pendingProps,Vs),T!==null?(y.stateNode=T,$r=y,Ji=null,g=!0):g=!1),g||Me(y)),null;case 13:return fl(g,y,T);case 4:return j(y,y.stateNode.containerInfo),N=y.pendingProps,g===null?y.child=Eu(y,null,N,T):Qr(g,y,N,T),y.child;case 11:return lf(g,y,y.type,y.pendingProps,T);case 7:return Qr(g,y,y.pendingProps,T),y.child;case 8:return Qr(g,y,y.pendingProps.children,T),y.child;case 12:return Qr(g,y,y.pendingProps.children,T),y.child;case 10:return N=y.pendingProps,dl(y,y.type,N.value),Qr(g,y,N.children,T),y.child;case 9:return $=y.type._context,N=y.pendingProps.children,cs(y),$=la($),N=N($),y.flags|=1,Qr(g,y,N,T),y.child;case 14:return ya(g,y,y.type,y.pendingProps,T);case 15:return Um(g,y,y.type,y.pendingProps,T);case 19:return eu(g,y,T);case 22:return Bm(g,y,T);case 24:return cs(y),N=la(Lr),g===null?($=xd(),$===null&&($=tr,W=go(),$.pooledCache=W,W.refCount++,W!==null&&($.pooledCacheLanes|=T),$=W),y.memoizedState={parent:N,cache:$},at(y),dl(y,Lr,$)):((g.lanes&T)!==0&&(_t(g,y),bt(y,null,null,T),ke()),$=g.memoizedState,W=y.memoizedState,$.parent!==N?($={parent:N,cache:N},y.memoizedState=$,y.lanes===0&&(y.memoizedState=y.updateQueue.baseState=$),dl(y,Lr,N)):(N=W.cache,dl(y,Lr,N),N!==$.cache&&Yl(y,[Lr],T,!0))),Qr(g,y,y.pendingProps.children,T),y.child;case 29:throw y.pendingProps}throw Error(a(156,y.tag))}function dl(g,y,T){Fs?(w(gs,y._currentValue),y._currentValue=T):(w(gs,y._currentValue2),y._currentValue2=T)}function Bs(g){var y=gs.current;Fs?g._currentValue=y:g._currentValue2=y,b(gs)}function Xl(g,y,T){for(;g!==null;){var N=g.alternate;if((g.childLanes&y)!==y?(g.childLanes|=y,N!==null&&(N.childLanes|=y)):N!==null&&(N.childLanes&y)!==y&&(N.childLanes|=y),g===T)break;g=g.return}}function Yl(g,y,T,N){var $=g.child;for($!==null&&($.return=g);$!==null;){var W=$.dependencies;if(W!==null){var ve=$.child;W=W.firstContext;e:for(;W!==null;){var Le=W;W=$;for(var nt=0;nt<y.length;nt++)if(Le.context===y[nt]){W.lanes|=T,Le=W.alternate,Le!==null&&(Le.lanes|=T),Xl(W.return,T,g),N||(ve=null);break e}W=Le.next}}else if($.tag===18){if(ve=$.return,ve===null)throw Error(a(341));ve.lanes|=T,W=ve.alternate,W!==null&&(W.lanes|=T),Xl(ve,T,g),ve=null}else ve=$.child;if(ve!==null)ve.return=$;else for(ve=$;ve!==null;){if(ve===g){ve=null;break}if($=ve.sibling,$!==null){$.return=ve.return,ve=$;break}ve=ve.return}$=ve}}function hl(g,y,T,N){g=null;for(var $=y,W=!1;$!==null;){if(!W){if(($.flags&524288)!==0)W=!0;else if(($.flags&262144)!==0)break}if($.tag===10){var ve=$.alternate;if(ve===null)throw Error(a(387));if(ve=ve.memoizedProps,ve!==null){var Le=$.type;to($.pendingProps.value,ve.value)||(g!==null?g.push(Le):g=[Le])}}else if($===pp.current){if(ve=$.alternate,ve===null)throw Error(a(387));ve.memoizedState.memoizedState!==$.memoizedState.memoizedState&&(g!==null?g.push(uc):g=[uc])}$=$.return}g!==null&&Yl(y,g,T,N),y.flags|=262144}function ff(g){for(g=g.firstContext;g!==null;){var y=g.context;if(!to(Fs?y._currentValue:y._currentValue2,g.memoizedValue))return!0;g=g.next}return!1}function cs(g){Ou=g,vs=null,g=g.dependencies,g!==null&&(g.firstContext=null)}function la(g){return Sd(Ou,g)}function df(g,y){return Ou===null&&cs(g),Sd(g,y)}function Sd(g,y){var T=Fs?y._currentValue:y._currentValue2;if(y={context:y,memoizedValue:T,next:null},vs===null){if(g===null)throw Error(a(308));vs=y,g.dependencies={lanes:0,firstContext:y},g.flags|=524288}else vs=vs.next=y;return T}function go(){return{controller:new bp,data:new Map,refCount:0}}function vo(g){g.refCount--,g.refCount===0&&Or(nM,function(){g.controller.abort()})}function xd(){var g=Rf.current;return g!==null?g:tr.pooledCache}function tu(g,y){y===null?w(Rf,Rf.current):w(Rf,y.pool)}function qh(){var g=xd();return g===null?null:{parent:Fs?Lr._currentValue:Lr._currentValue2,pool:g}}function Ba(g){g.flags|=4}function nu(g,y){if(g!==null&&g.child===y.child)return!1;if((y.flags&16)!==0)return!0;for(g=y.child;g!==null;){if((g.flags&13878)!==0||(g.subtreeFlags&13878)!==0)return!0;g=g.sibling}return!1}function ql(g,y,T,N){if(Er)for(T=y.child;T!==null;){if(T.tag===5||T.tag===6)cp(g,T.stateNode);else if(!(T.tag===4||Sa&&T.tag===27)&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===y)break;for(;T.sibling===null;){if(T.return===null||T.return===y)return;T=T.return}T.sibling.return=T.return,T=T.sibling}else if(Hs)for(var $=y.child;$!==null;){if($.tag===5){var W=$.stateNode;T&&N&&(W=gS(W,$.type,$.memoizedProps)),cp(g,W)}else if($.tag===6)W=$.stateNode,T&&N&&(W=H0(W,$.memoizedProps)),cp(g,W);else if($.tag!==4){if($.tag===22&&$.memoizedState!==null)W=$.child,W!==null&&(W.return=$),ql(g,$,!0,!0);else if($.child!==null){$.child.return=$,$=$.child;continue}}if($===y)break;for(;$.sibling===null;){if($.return===null||$.return===y)return;$=$.return}$.sibling.return=$.return,$=$.sibling}}function Gm(g,y,T,N){if(Hs)for(var $=y.child;$!==null;){if($.tag===5){var W=$.stateNode;T&&N&&(W=gS(W,$.type,$.memoizedProps)),F0(g,W)}else if($.tag===6)W=$.stateNode,T&&N&&(W=H0(W,$.memoizedProps)),F0(g,W);else if($.tag!==4){if($.tag===22&&$.memoizedState!==null)W=$.child,W!==null&&(W.return=$),Gm(g,$,!($.memoizedProps!==null&&$.memoizedProps.mode==="manual"),!0);else if($.child!==null){$.child.return=$,$=$.child;continue}}if($===y)break;for(;$.sibling===null;){if($.return===null||$.return===y)return;$=$.return}$.sibling.return=$.return,$=$.sibling}}function hf(g,y){if(Hs&&nu(g,y)){g=y.stateNode;var T=g.containerInfo,N=rg();Gm(N,y,!1,!1),g.pendingChildren=N,Ba(y),pS(T,N)}}function wd(g,y,T,N){if(Er)g.memoizedProps!==N&&Ba(y);else if(Hs){var $=g.stateNode,W=g.memoizedProps;if((g=nu(g,y))||W!==N){var ve=kr.current;W=hS($,T,W,N,!g,null),W===$?y.stateNode=$:(Qm(W,T,N,ve)&&Ba(y),y.stateNode=W,g?ql(W,y,!1,!1):Ba(y))}else y.stateNode=$}}function Cd(g,y,T){if(P0(y,T)){if(g.flags|=16777216,!D0(y,T))if(_a())g.flags|=8192;else throw Ga=no,vp}else g.flags&=-16777217}function Ed(g,y){if(AS(y)){if(g.flags|=16777216,!Z0(y))if(_a())g.flags|=8192;else throw Ga=no,vp}else g.flags&=-16777217}function iu(g,y){y!==null&&(g.flags|=4),g.flags&16384&&(y=g.tag!==22?B():536870912,g.lanes|=y,ra|=y)}function z(g,y){if(!zi)switch(g.tailMode){case"hidden":y=g.tail;for(var T=null;y!==null;)y.alternate!==null&&(T=y),y=y.sibling;T===null?g.tail=null:T.sibling=null;break;case"collapsed":T=g.tail;for(var N=null;T!==null;)T.alternate!==null&&(N=T),T=T.sibling;N===null?y||g.tail===null?g.tail=null:g.tail.sibling=null:N.sibling=null}}function I(g){var y=g.alternate!==null&&g.alternate.child===g.child,T=0,N=0;if(y)for(var $=g.child;$!==null;)T|=$.lanes|$.childLanes,N|=$.subtreeFlags&31457280,N|=$.flags&31457280,$.return=g,$=$.sibling;else for($=g.child;$!==null;)T|=$.lanes|$.childLanes,N|=$.subtreeFlags,N|=$.flags,$.return=g,$=$.sibling;return g.subtreeFlags|=N,g.childLanes=T,y}function H(g,y,T){var N=y.pendingProps;switch(ue(y),y.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return I(y),null;case 1:return I(y),null;case 3:return T=y.stateNode,N=null,g!==null&&(N=g.memoizedState.cache),y.memoizedState.cache!==N&&(y.flags|=2048),Bs(Lr),pe(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(g===null||g.child===null)&&(gt(y)?Ba(y):g===null||g.memoizedState.isDehydrated&&(y.flags&256)===0||(y.flags|=1024,ps!==null&&(tc(ps),ps=null))),hf(g,y),I(y),null;case 26:if(Xo){T=y.type;var $=y.memoizedState;return g===null?(Ba(y),$!==null?(I(y),Ed(y,$)):(I(y),Cd(y,T,N))):$?$!==g.memoizedState?(Ba(y),I(y),Ed(y,$)):(I(y),y.flags&=-16777217):(Er?g.memoizedProps!==N&&Ba(y):wd(g,y,T,N),I(y),Cd(y,T,N)),null}case 27:if(Sa){if(Re(y),T=hc.current,$=y.type,g!==null&&y.stateNode!=null)Er?g.memoizedProps!==N&&Ba(y):wd(g,y,$,N);else{if(!N){if(y.stateNode===null)throw Error(a(166));return I(y),null}g=kr.current,gt(y)?Ae(y,g):(g=lg($,N,T,g,!0),y.stateNode=g,Ba(y))}return I(y),null}case 5:if(Re(y),T=y.type,g!==null&&y.stateNode!=null)wd(g,y,T,N);else{if(!N){if(y.stateNode===null)throw Error(a(166));return I(y),null}g=kr.current,gt(y)?Ae(y,g):($=z0(T,N,hc.current,g,y),ql($,y,!1,!1),y.stateNode=$,Qm($,T,N,g)&&Ba(y))}return I(y),Cd(y,y.type,y.pendingProps),null;case 6:if(g&&y.stateNode!=null)T=g.memoizedProps,Er?T!==N&&Ba(y):Hs&&(T!==N?(y.stateNode=Fr(N,hc.current,kr.current,y),Ba(y)):y.stateNode=g.stateNode);else{if(typeof N!="string"&&y.stateNode===null)throw Error(a(166));if(g=hc.current,T=kr.current,gt(y)){if(!_o)throw Error(a(176));if(g=y.stateNode,T=y.memoizedProps,N=null,$=$r,$!==null)switch($.tag){case 27:case 5:N=$.memoizedProps}og(g,T,y,N)||Me(y)}else y.stateNode=Fr(N,g,T,y)}return I(y),null;case 13:if(N=y.memoizedState,g===null||g.memoizedState!==null&&g.memoizedState.dehydrated!==null){if($=gt(y),N!==null&&N.dehydrated!==null){if(g===null){if(!$)throw Error(a(318));if(!_o)throw Error(a(344));if($=y.memoizedState,$=$!==null?$.dehydrated:null,!$)throw Error(a(317));SS($,y)}else ze(),(y.flags&128)===0&&(y.memoizedState=null),y.flags|=4;I(y),$=!1}else ps!==null&&(tc(ps),ps=null),$=!0;if(!$)return y.flags&256?(Rn(y),y):(Rn(y),null)}if(Rn(y),(y.flags&128)!==0)return y.lanes=T,y;if(T=N!==null,g=g!==null&&g.memoizedState!==null,T){N=y.child,$=null,N.alternate!==null&&N.alternate.memoizedState!==null&&N.alternate.memoizedState.cachePool!==null&&($=N.alternate.memoizedState.cachePool.pool);var W=null;N.memoizedState!==null&&N.memoizedState.cachePool!==null&&(W=N.memoizedState.cachePool.pool),W!==$&&(N.flags|=2048)}return T!==g&&T&&(y.child.flags|=8192),iu(y,y.updateQueue),I(y),null;case 4:return pe(),hf(g,y),g===null&&W_(y.stateNode.containerInfo),I(y),null;case 10:return Bs(y.type),I(y),null;case 19:if(b(dr),$=y.memoizedState,$===null)return I(y),null;if(N=(y.flags&128)!==0,W=$.rendering,W===null)if(N)z($,!1);else{if(Tr!==0||g!==null&&(g.flags&128)!==0)for(g=y.child;g!==null;){if(W=ti(g),W!==null){for(y.flags|=128,z($,!1),g=W.updateQueue,y.updateQueue=g,iu(y,g),y.subtreeFlags=0,g=T,T=y.child;T!==null;)vf(T,g),T=T.sibling;return w(dr,dr.current&1|2),y.child}g=g.sibling}$.tail!==null&&Yo()>Qo&&(y.flags|=128,N=!0,z($,!1),y.lanes=4194304)}else{if(!N)if(g=ti(W),g!==null){if(y.flags|=128,N=!0,g=g.updateQueue,y.updateQueue=g,iu(y,g),z($,!0),$.tail===null&&$.tailMode==="hidden"&&!W.alternate&&!zi)return I(y),null}else 2*Yo()-$.renderingStartTime>Qo&&T!==536870912&&(y.flags|=128,N=!0,z($,!1),y.lanes=4194304);$.isBackwards?(W.sibling=y.child,y.child=W):(g=$.last,g!==null?g.sibling=W:y.child=W,$.last=W)}return $.tail!==null?(y=$.tail,$.rendering=y,$.tail=y.sibling,$.renderingStartTime=Yo(),y.sibling=null,g=dr.current,w(dr,N?g&1|2:g&1),y):(I(y),null);case 22:case 23:return Rn(y),Bn(),N=y.memoizedState!==null,g!==null?g.memoizedState!==null!==N&&(y.flags|=8192):N&&(y.flags|=8192),N?(T&536870912)!==0&&(y.flags&128)===0&&(I(y),y.subtreeFlags&6&&(y.flags|=8192)):I(y),T=y.updateQueue,T!==null&&iu(y,T.retryQueue),T=null,g!==null&&g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(T=g.memoizedState.cachePool.pool),N=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(N=y.memoizedState.cachePool.pool),N!==T&&(y.flags|=2048),g!==null&&b(Rf),null;case 24:return T=null,g!==null&&(T=g.memoizedState.cache),y.memoizedState.cache!==T&&(y.flags|=2048),Bs(Lr),I(y),null;case 25:return null}throw Error(a(156,y.tag))}function G(g,y){switch(ue(y),y.tag){case 1:return g=y.flags,g&65536?(y.flags=g&-65537|128,y):null;case 3:return Bs(Lr),pe(),g=y.flags,(g&65536)!==0&&(g&128)===0?(y.flags=g&-65537|128,y):null;case 26:case 27:case 5:return Re(y),null;case 13:if(Rn(y),g=y.memoizedState,g!==null&&g.dehydrated!==null){if(y.alternate===null)throw Error(a(340));ze()}return g=y.flags,g&65536?(y.flags=g&-65537|128,y):null;case 19:return b(dr),null;case 4:return pe(),null;case 10:return Bs(y.type),null;case 22:case 23:return Rn(y),Bn(),g!==null&&b(Rf),g=y.flags,g&65536?(y.flags=g&-65537|128,y):null;case 24:return Bs(Lr),null;case 25:return null;default:return null}}function Y(g,y){switch(ue(y),y.tag){case 3:Bs(Lr),pe();break;case 26:case 27:case 5:Re(y);break;case 4:pe();break;case 13:Rn(y);break;case 19:b(dr);break;case 10:Bs(y.type);break;case 22:case 23:Rn(y),Bn(),g!==null&&b(Rf);break;case 24:Bs(Lr)}}function ne(g,y){try{var T=y.updateQueue,N=T!==null?T.lastEffect:null;if(N!==null){var $=N.next;T=$;do{if((T.tag&g)===g){N=void 0;var W=T.create,ve=T.inst;N=W(),ve.destroy=N}T=T.next}while(T!==$)}}catch(Le){ji(y,y.return,Le)}}function se(g,y,T){try{var N=y.updateQueue,$=N!==null?N.lastEffect:null;if($!==null){var W=$.next;N=W;do{if((N.tag&g)===g){var ve=N.inst,Le=ve.destroy;if(Le!==void 0){ve.destroy=void 0,$=y;var nt=T;try{Le()}catch(Mt){ji($,nt,Mt)}}}N=N.next}while(N!==W)}}catch(Mt){ji(y,y.return,Mt)}}function me(g){var y=g.updateQueue;if(y!==null){var T=g.stateNode;try{St(y,T)}catch(N){ji(g,g.return,N)}}}function be(g,y,T){T.props=Vo(g.type,g.memoizedProps),T.state=g.memoizedState;try{T.componentWillUnmount()}catch(N){ji(g,y,N)}}function De(g,y){try{var T=g.ref;if(T!==null){var N=g.stateNode;switch(g.tag){case 26:case 27:case 5:var $=_f(N);break;default:$=N}typeof T=="function"?g.refCleanup=T($):T.current=$}}catch(W){ji(g,y,W)}}function Ce(g,y){var T=g.ref,N=g.refCleanup;if(T!==null)if(typeof N=="function")try{N()}catch($){ji(g,y,$)}finally{g.refCleanup=null,g=g.alternate,g!=null&&(g.refCleanup=null)}else if(typeof T=="function")try{T(null)}catch($){ji(g,y,$)}else T.current=null}function Ze(g){var y=g.type,T=g.memoizedProps,N=g.stateNode;try{aS(N,y,T,g)}catch($){ji(g,g.return,$)}}function vt(g,y,T){try{oS(g.stateNode,g.type,T,y,g)}catch(N){ji(g,g.return,N)}}function Bt(g){return g.tag===5||g.tag===3||(Xo?g.tag===26:!1)||(Sa?g.tag===27:!1)||g.tag===4}function Pt(g){e:for(;;){for(;g.sibling===null;){if(g.return===null||Bt(g.return))return null;g=g.return}for(g.sibling.return=g.return,g=g.sibling;g.tag!==5&&g.tag!==6&&(!Sa||g.tag!==27)&&g.tag!==18;){if(g.flags&2||g.child===null||g.tag===4)continue e;g.child.return=g,g=g.child}if(!(g.flags&2))return g.stateNode}}function Vt(g,y,T){var N=g.tag;if(N===5||N===6)g=g.stateNode,y?U0(T,g,y):N0(T,g);else if(!(N===4||Sa&&N===27)&&(g=g.child,g!==null))for(Vt(g,y,T),g=g.sibling;g!==null;)Vt(g,y,T),g=g.sibling}function an(g,y,T){var N=g.tag;if(N===5||N===6)g=g.stateNode,y?sS(T,g,y):iS(T,g);else if(!(N===4||Sa&&N===27)&&(g=g.child,g!==null))for(an(g,y,T),g=g.sibling;g!==null;)an(g,y,T),g=g.sibling}function en(g,y,T){g=g.containerInfo;try{mS(g,T)}catch(N){ji(y,y.return,N)}}function gn(g,y){for(j_(g.containerInfo),zn=y;zn!==null;)if(g=zn,y=g.child,(g.subtreeFlags&1028)!==0&&y!==null)y.return=g,zn=y;else for(;zn!==null;){g=zn;var T=g.alternate;switch(y=g.flags,g.tag){case 0:break;case 11:case 15:break;case 1:if((y&1024)!==0&&T!==null){y=void 0;var N=g,$=T.memoizedProps;T=T.memoizedState;var W=N.stateNode;try{var ve=Vo(N.type,$,N.elementType===N.type);y=W.getSnapshotBeforeUpdate(ve,T),W.__reactInternalSnapshotBeforeUpdate=y}catch(Le){ji(N,N.return,Le)}}break;case 3:(y&1024)!==0&&Er&&dS(g.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((y&1024)!==0)throw Error(a(163))}if(y=g.sibling,y!==null){y.return=g.return,zn=y;break}zn=g.return}return ve=or,or=!1,ve}function Nn(g,y,T){var N=T.flags;switch(T.tag){case 0:case 11:case 15:Kl(g,T),N&4&&ne(5,T);break;case 1:if(Kl(g,T),N&4)if(g=T.stateNode,y===null)try{g.componentDidMount()}catch(Le){ji(T,T.return,Le)}else{var $=Vo(T.type,y.memoizedProps);y=y.memoizedState;try{g.componentDidUpdate($,y,g.__reactInternalSnapshotBeforeUpdate)}catch(Le){ji(T,T.return,Le)}}N&64&&me(T),N&512&&De(T,T.return);break;case 3:if(Kl(g,T),N&64&&(N=T.updateQueue,N!==null)){if(g=null,T.child!==null)switch(T.child.tag){case 27:case 5:g=_f(T.child.stateNode);break;case 1:g=T.child.stateNode}try{St(N,g)}catch(Le){ji(T,T.return,Le)}}break;case 26:if(Xo){Kl(g,T),N&512&&De(T,T.return);break}case 27:case 5:Kl(g,T),y===null&&N&4&&Ze(T),N&512&&De(T,T.return);break;case 12:Kl(g,T);break;case 13:Kl(g,T),N&4&&Rr(g,T);break;case 22:if($=T.memoizedState!==null||bc,!$){y=y!==null&&y.memoizedState!==null||qn;var W=bc,ve=qn;bc=$,(qn=y)&&!ve?ru(g,T,(T.subtreeFlags&8772)!==0):Kl(g,T),bc=W,qn=ve}N&512&&(T.memoizedProps.mode==="manual"?De(T,T.return):Ce(T,T.return));break;default:Kl(g,T)}}function ii(g){var y=g.alternate;y!==null&&(g.alternate=null,ii(y)),g.child=null,g.deletions=null,g.sibling=null,g.tag===5&&(y=g.stateNode,y!==null&&q_(y)),g.stateNode=null,g.return=null,g.dependencies=null,g.memoizedProps=null,g.memoizedState=null,g.pendingProps=null,g.stateNode=null,g.updateQueue=null}function vn(g,y,T){for(T=T.child;T!==null;)In(g,y,T),T=T.sibling}function In(g,y,T){if(ta&&typeof ta.onCommitFiberUnmount=="function")try{ta.onCommitFiberUnmount(Fd,T)}catch{}switch(T.tag){case 26:if(Xo){qn||Ce(T,y),vn(g,y,T),T.memoizedState?X0(T.memoizedState):T.stateNode&&Nd(T.stateNode);break}case 27:if(Sa){qn||Ce(T,y);var N=Fi,$=jr;Fi=T.stateNode,vn(g,y,T),J0(T.stateNode),Fi=N,jr=$;break}case 5:qn||Ce(T,y);case 6:if(Er){if(N=Fi,$=jr,Fi=null,vn(g,y,T),Fi=N,jr=$,Fi!==null)if(jr)try{cS(Fi,T.stateNode)}catch(W){ji(T,y,W)}else try{lS(Fi,T.stateNode)}catch(W){ji(T,y,W)}}else vn(g,y,T);break;case 18:Er&&Fi!==null&&(jr?V0(Fi,T.stateNode):CS(Fi,T.stateNode));break;case 4:Er?(N=Fi,$=jr,Fi=T.stateNode.containerInfo,jr=!0,vn(g,y,T),Fi=N,jr=$):(Hs&&en(T.stateNode,T,rg()),vn(g,y,T));break;case 0:case 11:case 14:case 15:qn||se(2,T,y),qn||se(4,T,y),vn(g,y,T);break;case 1:qn||(Ce(T,y),N=T.stateNode,typeof N.componentWillUnmount=="function"&&be(T,y,N)),vn(g,y,T);break;case 21:vn(g,y,T);break;case 22:qn||Ce(T,y),qn=(N=qn)||T.memoizedState!==null,vn(g,y,T),qn=N;break;default:vn(g,y,T)}}function Rr(g,y){if(_o&&y.memoizedState===null&&(g=y.alternate,g!==null&&(g=g.memoizedState,g!==null&&(g=g.dehydrated,g!==null))))try{sg(g)}catch(T){ji(y,y.return,T)}}function Qi(g){switch(g.tag){case 13:case 19:var y=g.stateNode;return y===null&&(y=g.stateNode=new pi),y;case 22:return g=g.stateNode,y=g._retryCache,y===null&&(y=g._retryCache=new pi),y;default:throw Error(a(435,g.tag))}}function ba(g,y){var T=Qi(g);y.forEach(function(N){var $=qm.bind(null,g,N);T.has(N)||(T.add(N),N.then($,$))})}function Ui(g,y){var T=y.deletions;if(T!==null)for(var N=0;N<T.length;N++){var $=T[N],W=g,ve=y;if(Er){var Le=ve;e:for(;Le!==null;){switch(Le.tag){case 27:case 5:Fi=Le.stateNode,jr=!1;break e;case 3:Fi=Le.stateNode.containerInfo,jr=!0;break e;case 4:Fi=Le.stateNode.containerInfo,jr=!0;break e}Le=Le.return}if(Fi===null)throw Error(a(160));In(W,ve,$),Fi=null,jr=!1}else In(W,ve,$);W=$.alternate,W!==null&&(W.return=null),$.return=null}if(y.subtreeFlags&13878)for(y=y.child;y!==null;)Go(y,g),y=y.sibling}function Go(g,y){var T=g.alternate,N=g.flags;switch(g.tag){case 0:case 11:case 14:case 15:Ui(y,g),ca(g),N&4&&(se(3,g,g.return),ne(3,g),se(5,g,g.return));break;case 1:Ui(y,g),ca(g),N&512&&(qn||T===null||Ce(T,T.return)),N&64&&bc&&(g=g.updateQueue,g!==null&&(N=g.callbacks,N!==null&&(T=g.shared.hiddenCallbacks,g.shared.hiddenCallbacks=T===null?N:T.concat(N))));break;case 26:if(Xo){var $=Wa;Ui(y,g),ca(g),N&512&&(qn||T===null||Ce(T,T.return)),N&4&&(N=T!==null?T.memoizedState:null,y=g.memoizedState,T===null?y===null?g.stateNode===null?g.stateNode=MS($,g.type,g.memoizedProps,g):Y0($,g.type,g.stateNode):g.stateNode=W0($,y,g.memoizedProps):N!==y?(N===null?T.stateNode!==null&&Nd(T.stateNode):X0(N),y===null?Y0($,g.type,g.stateNode):W0($,y,g.memoizedProps)):y===null&&g.stateNode!==null&&vt(g,g.memoizedProps,T.memoizedProps));break}case 27:if(Sa&&N&4&&g.alternate===null){$=g.stateNode;var W=g.memoizedProps;try{RS($),Q0(g.type,W,$,g)}catch(Wt){ji(g,g.return,Wt)}}case 5:if(Ui(y,g),ca(g),N&512&&(qn||T===null||Ce(T,T.return)),Er){if(g.flags&32){y=g.stateNode;try{ig(y)}catch(Wt){ji(g,g.return,Wt)}}N&4&&g.stateNode!=null&&(y=g.memoizedProps,vt(g,y,T!==null?T.memoizedProps:y)),N&1024&&(er=!0)}break;case 6:if(Ui(y,g),ca(g),N&4&&Er){if(g.stateNode===null)throw Error(a(162));N=g.memoizedProps,T=T!==null?T.memoizedProps:N,y=g.stateNode;try{rS(y,T,N)}catch(Wt){ji(g,g.return,Wt)}}break;case 3:if(Xo?(TS(),$=Wa,Wa=fa(y.containerInfo),Ui(y,g),Wa=$):Ui(y,g),ca(g),N&4){if(Er&&_o&&T!==null&&T.memoizedState.isDehydrated)try{wS(y.containerInfo)}catch(Wt){ji(g,g.return,Wt)}if(Hs){N=y.containerInfo,T=y.pendingChildren;try{mS(N,T)}catch(Wt){ji(g,g.return,Wt)}}}er&&(er=!1,Zl(g));break;case 4:Xo?(T=Wa,Wa=fa(g.stateNode.containerInfo),Ui(y,g),ca(g),Wa=T):(Ui(y,g),ca(g)),N&4&&Hs&&en(g.stateNode,g,g.stateNode.pendingChildren);break;case 12:Ui(y,g),ca(g);break;case 13:Ui(y,g),ca(g),g.child.flags&8192&&g.memoizedState!==null!=(T!==null&&T.memoizedState!==null)&&(ry=Yo()),N&4&&(N=g.updateQueue,N!==null&&(g.updateQueue=null,ba(g,N)));break;case 22:N&512&&(qn||T===null||Ce(T,T.return)),$=g.memoizedState!==null;var ve=T!==null&&T.memoizedState!==null,Le=bc,nt=qn;if(bc=Le||$,qn=nt||ve,Ui(y,g),qn=nt,bc=Le,ca(g),y=g.stateNode,y._current=g,y._visibility&=-3,y._visibility|=y._pendingVisibility&2,N&8192&&(y._visibility=$?y._visibility&-2:y._visibility|1,$&&(y=bc||qn,T===null||ve||y||Md(g)),Er&&(g.memoizedProps===null||g.memoizedProps.mode!=="manual"))){e:if(T=null,Er)for(y=g;;){if(y.tag===5||Xo&&y.tag===26||Sa&&y.tag===27){if(T===null){ve=T=y;try{W=ve.stateNode,$?uS(W):JE(ve.stateNode,ve.memoizedProps)}catch(Wt){ji(ve,ve.return,Wt)}}}else if(y.tag===6){if(T===null){ve=y;try{var Mt=ve.stateNode;$?fS(Mt):B0(Mt,ve.memoizedProps)}catch(Wt){ji(ve,ve.return,Wt)}}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===g)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===g)break e;for(;y.sibling===null;){if(y.return===null||y.return===g)break e;T===y&&(T=null),y=y.return}T===y&&(T=null),y.sibling.return=y.return,y=y.sibling}}N&4&&(N=g.updateQueue,N!==null&&(T=N.retryQueue,T!==null&&(N.retryQueue=null,ba(g,T))));break;case 19:Ui(y,g),ca(g),N&4&&(N=g.updateQueue,N!==null&&(g.updateQueue=null,ba(g,N)));break;case 21:break;default:Ui(y,g),ca(g)}}function ca(g){var y=g.flags;if(y&2){try{if(Er&&(!Sa||g.tag!==27)){e:{for(var T=g.return;T!==null;){if(Bt(T)){var N=T;break e}T=T.return}throw Error(a(160))}switch(N.tag){case 27:if(Sa){var $=N.stateNode,W=Pt(g);an(g,W,$);break}case 5:var ve=N.stateNode;N.flags&32&&(ig(ve),N.flags&=-33);var Le=Pt(g);an(g,Le,ve);break;case 3:case 4:var nt=N.stateNode.containerInfo,Mt=Pt(g);Vt(g,Mt,nt);break;default:throw Error(a(161))}}}catch(Wt){ji(g,g.return,Wt)}g.flags&=-3}y&4096&&(g.flags&=-4097)}function Zl(g){if(g.subtreeFlags&1024)for(g=g.child;g!==null;){var y=g;Zl(y),y.tag===5&&y.flags&1024&&K_(y.stateNode),g=g.sibling}}function Kl(g,y){if(y.subtreeFlags&8772)for(y=y.child;y!==null;)Nn(g,y.alternate,y),y=y.sibling}function Md(g){for(g=g.child;g!==null;){var y=g;switch(y.tag){case 0:case 11:case 14:case 15:se(4,y,y.return),Md(y);break;case 1:Ce(y,y.return);var T=y.stateNode;typeof T.componentWillUnmount=="function"&&be(y,y.return,T),Md(y);break;case 26:case 27:case 5:Ce(y,y.return),Md(y);break;case 22:Ce(y,y.return),y.memoizedState===null&&Md(y);break;default:Md(y)}g=g.sibling}}function ru(g,y,T){for(T=T&&(y.subtreeFlags&8772)!==0,y=y.child;y!==null;){var N=y.alternate,$=g,W=y,ve=W.flags;switch(W.tag){case 0:case 11:case 15:ru($,W,T),ne(4,W);break;case 1:if(ru($,W,T),N=W,$=N.stateNode,typeof $.componentDidMount=="function")try{$.componentDidMount()}catch(Mt){ji(N,N.return,Mt)}if(N=W,$=N.updateQueue,$!==null){var Le=N.stateNode;try{var nt=$.shared.hiddenCallbacks;if(nt!==null)for($.shared.hiddenCallbacks=null,$=0;$<nt.length;$++)Te(nt[$],Le)}catch(Mt){ji(N,N.return,Mt)}}T&&ve&64&&me(W),De(W,W.return);break;case 26:case 27:case 5:ru($,W,T),T&&N===null&&ve&4&&Ze(W),De(W,W.return);break;case 12:ru($,W,T);break;case 13:ru($,W,T),T&&ve&4&&Rr($,W);break;case 22:W.memoizedState===null&&ru($,W,T),De(W,W.return);break;default:ru($,W,T)}y=y.sibling}}function jm(g,y){var T=null;g!==null&&g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(T=g.memoizedState.cachePool.pool),g=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(g=y.memoizedState.cachePool.pool),g!==T&&(g!=null&&g.refCount++,T!=null&&vo(T))}function Wm(g,y){g=null,y.alternate!==null&&(g=y.alternate.memoizedState.cache),y=y.memoizedState.cache,y!==g&&(y.refCount++,g!=null&&vo(g))}function Ql(g,y,T,N){if(y.subtreeFlags&10256)for(y=y.child;y!==null;)us(g,y,T,N),y=y.sibling}function us(g,y,T,N){var $=y.flags;switch(y.tag){case 0:case 11:case 15:Ql(g,y,T,N),$&2048&&ne(9,y);break;case 3:Ql(g,y,T,N),$&2048&&(g=null,y.alternate!==null&&(g=y.alternate.memoizedState.cache),y=y.memoizedState.cache,y!==g&&(y.refCount++,g!=null&&vo(g)));break;case 12:if($&2048){Ql(g,y,T,N),g=y.stateNode;try{var W=y.memoizedProps,ve=W.id,Le=W.onPostCommit;typeof Le=="function"&&Le(ve,y.alternate===null?"mount":"update",g.passiveEffectDuration,-0)}catch(nt){ji(y,y.return,nt)}}else Ql(g,y,T,N);break;case 23:break;case 22:W=y.stateNode,y.memoizedState!==null?W._visibility&4?Ql(g,y,T,N):pl(g,y):W._visibility&4?Ql(g,y,T,N):(W._visibility|=4,Aa(g,y,T,N,(y.subtreeFlags&10256)!==0)),$&2048&&jm(y.alternate,y);break;case 24:Ql(g,y,T,N),$&2048&&Wm(y.alternate,y);break;default:Ql(g,y,T,N)}}function Aa(g,y,T,N,$){for($=$&&(y.subtreeFlags&10256)!==0,y=y.child;y!==null;){var W=g,ve=y,Le=T,nt=N,Mt=ve.flags;switch(ve.tag){case 0:case 11:case 15:Aa(W,ve,Le,nt,$),ne(8,ve);break;case 23:break;case 22:var Wt=ve.stateNode;ve.memoizedState!==null?Wt._visibility&4?Aa(W,ve,Le,nt,$):pl(W,ve):(Wt._visibility|=4,Aa(W,ve,Le,nt,$)),$&&Mt&2048&&jm(ve.alternate,ve);break;case 24:Aa(W,ve,Le,nt,$),$&&Mt&2048&&Wm(ve.alternate,ve);break;default:Aa(W,ve,Le,nt,$)}y=y.sibling}}function pl(g,y){if(y.subtreeFlags&10256)for(y=y.child;y!==null;){var T=g,N=y,$=N.flags;switch(N.tag){case 22:pl(T,N),$&2048&&jm(N.alternate,N);break;case 24:pl(T,N),$&2048&&Wm(N.alternate,N);break;default:pl(T,N)}y=y.sibling}}function Jl(g){if(g.subtreeFlags&Iu)for(g=g.child;g!==null;)Zh(g),g=g.sibling}function Zh(g){switch(g.tag){case 26:Jl(g),g.flags&Iu&&(g.memoizedState!==null?K0(Wa,g.memoizedState,g.memoizedProps):L0(g.type,g.memoizedProps));break;case 5:Jl(g),g.flags&Iu&&L0(g.type,g.memoizedProps);break;case 3:case 4:if(Xo){var y=Wa;Wa=fa(g.stateNode.containerInfo),Jl(g),Wa=y}else Jl(g);break;case 22:g.memoizedState===null&&(y=g.alternate,y!==null&&y.memoizedState!==null?(y=Iu,Iu=16777216,Jl(g),Iu=y):Jl(g));break;default:Jl(g)}}function Kh(g){var y=g.alternate;if(y!==null&&(g=y.child,g!==null)){y.child=null;do y=g.sibling,g.sibling=null,g=y;while(g!==null)}}function pf(g){var y=g.deletions;if((g.flags&16)!==0){if(y!==null)for(var T=0;T<y.length;T++){var N=y[T];zn=N,Jh(N,g)}Kh(g)}if(g.subtreeFlags&10256)for(g=g.child;g!==null;)ec(g),g=g.sibling}function ec(g){switch(g.tag){case 0:case 11:case 15:pf(g),g.flags&2048&&se(9,g,g.return);break;case 3:pf(g);break;case 12:pf(g);break;case 22:var y=g.stateNode;g.memoizedState!==null&&y._visibility&4&&(g.return===null||g.return.tag!==13)?(y._visibility&=-5,Qh(g)):pf(g);break;default:pf(g)}}function Qh(g){var y=g.deletions;if((g.flags&16)!==0){if(y!==null)for(var T=0;T<y.length;T++){var N=y[T];zn=N,Jh(N,g)}Kh(g)}for(g=g.child;g!==null;){switch(y=g,y.tag){case 0:case 11:case 15:se(8,y,y.return),Qh(y);break;case 22:T=y.stateNode,T._visibility&4&&(T._visibility&=-5,Qh(y));break;default:Qh(y)}g=g.sibling}}function Jh(g,y){for(;zn!==null;){var T=zn;switch(T.tag){case 0:case 11:case 15:se(8,T,y);break;case 23:case 22:if(T.memoizedState!==null&&T.memoizedState.cachePool!==null){var N=T.memoizedState.cachePool.pool;N!=null&&N.refCount++}break;case 24:vo(T.memoizedState.cache)}if(N=T.child,N!==null)N.return=T,zn=N;else e:for(T=g;zn!==null;){N=zn;var $=N.sibling,W=N.return;if(ii(N),N===T){zn=null;break e}if($!==null){$.return=W,zn=$;break e}zn=W}}}function au(g){var y=eg(g);if(y!=null){if(typeof y.memoizedProps["data-testname"]!="string")throw Error(a(364));return y}if(g=eS(g),g===null)throw Error(a(362));return g.stateNode.current}function Xm(g,y){var T=g.tag;switch(y.$$typeof){case br:if(g.type===y.value)return!0;break;case Xs:e:{for(y=y.value,g=[g,0],T=0;T<g.length;){var N=g[T++],$=N.tag,W=g[T++],ve=y[W];if($!==5&&$!==26&&$!==27||!_l(N)){for(;ve!=null&&Xm(N,ve);)W++,ve=y[W];if(W===y.length){y=!0;break e}else for(N=N.child;N!==null;)g.push(N,W),N=N.sibling}}y=!1}return y;case Ml:if((T===5||T===26||T===27)&&nS(g.stateNode,y.value))return!0;break;case ro:if((T===5||T===6||T===26||T===27)&&(g=tS(g),g!==null&&0<=g.indexOf(y.value)))return!0;break;case jd:if((T===5||T===26||T===27)&&(g=g.memoizedProps["data-testname"],typeof g=="string"&&g.toLowerCase()===y.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function yo(g){switch(g.$$typeof){case br:return"<"+(l(g.value)||"Unknown")+">";case Xs:return":has("+(yo(g)||"")+")";case Ml:return'[role="'+g.value+'"]';case ro:return'"'+g.value+'"';case jd:return'[data-testname="'+g.value+'"]';default:throw Error(a(365))}}function mf(g,y){var T=[];g=[g,0];for(var N=0;N<g.length;){var $=g[N++],W=$.tag,ve=g[N++],Le=y[ve];if(W!==5&&W!==26&&W!==27||!_l($)){for(;Le!=null&&Xm($,Le);)ve++,Le=y[ve];if(ve===y.length)T.push($);else for($=$.child;$!==null;)g.push($,ve),$=$.sibling}}return T}function ou(g,y){if(!Ld)throw Error(a(363));g=au(g),g=mf(g,y),y=[],g=Array.from(g);for(var T=0;T<g.length;){var N=g[T++],$=N.tag;if($===5||$===26||$===27)_l(N)||y.push(N.stateNode);else for(N=N.child;N!==null;)g.push(N),N=N.sibling}return y}function Fa(){if((vi&2)!==0&&yi!==0)return yi&-yi;if(Fn.T!==null){var g=yr;return g!==0?g:mt()}return X_()}function ep(){Ko===0&&(Ko=(yi&536870912)===0||zi?F():536870912);var g=wo.current;return g!==null&&(g.flags|=32),Ko}function fr(g,y,T){(g===tr&&Zi===2||g.cancelPendingCommit!==null)&&(su(g,0),Ja(g,yi,Ko,!1)),V(g,T),((vi&2)===0||g!==tr)&&(g===tr&&((vi&2)===0&&(Sc|=T),Tr===4&&Ja(g,yi,Ko,!1)),ot(g))}function jo(g,y,T){if((vi&6)!==0)throw Error(a(327));var N=!T&&(y&60)===0&&(y&g.expiredLanes)===0||P(g,y),$=N?F_(g,y):np(g,y,!0),W=N;do{if($===0){bs&&!N&&Ja(g,y,0,!1);break}else if($===6)Ja(g,y,0,!ys);else{if(T=g.current.alternate,W&&!nc(T)){$=np(g,y,!1),W=!1;continue}if($===2){if(W=y,g.errorRecoveryDisabledLanes&W)var ve=0;else ve=g.pendingLanes&-536870913,ve=ve!==0?ve:ve&536870912?536870912:0;if(ve!==0){y=ve;e:{var Le=g;$=Wd;var nt=_o&&Le.current.memoizedState.isDehydrated;if(nt&&(su(Le,ve).flags|=256),ve=np(Le,ve,!1),ve!==2){if(Of&&!nt){Le.errorRecoveryDisabledLanes|=W,Sc|=W,$=4;break e}W=Ss,Ss=$,W!==null&&tc(W)}$=ve}if(W=!1,$!==2)continue}}if($===1){su(g,0),Ja(g,y,0,!0);break}e:{switch(N=g,$){case 0:case 1:throw Error(a(345));case 4:if((y&4194176)===y){Ja(N,y,Ko,!ys);break e}break;case 2:Ss=null;break;case 3:case 5:break;default:throw Error(a(329))}if(N.finishedWork=T,N.finishedLanes=y,(y&62914560)===y&&(W=ry+300-Yo(),10<W)){if(Ja(N,y,Ko,!ys),O(N,0)!==0)break e;N.timeoutHandle=Jm(ml.bind(null,N,T,Ss,If,yg,y,Ko,Sc,ra,ys,2,-0,0),W);break e}ml(N,T,Ss,If,yg,y,Ko,Sc,ra,ys,0,-0,0)}}break}while(!0);ot(g)}function tc(g){Ss===null?Ss=g:Ss.push.apply(Ss,g)}function ml(g,y,T,N,$,W,ve,Le,nt,Mt,Wt,nn,kt){var Zn=y.subtreeFlags;if((Zn&8192||(Zn&16785408)===16785408)&&(KE(),Zh(y),y=Z_(),y!==null)){g.cancelPendingCommit=y(Ym.bind(null,g,T,N,$,ve,Le,nt,1,nn,kt)),Ja(g,W,ve,!Mt);return}Ym(g,T,N,$,ve,Le,nt,Wt,nn,kt)}function nc(g){for(var y=g;;){var T=y.tag;if((T===0||T===11||T===15)&&y.flags&16384&&(T=y.updateQueue,T!==null&&(T=T.stores,T!==null)))for(var N=0;N<T.length;N++){var $=T[N],W=$.getSnapshot;$=$.value;try{if(!to(W(),$))return!1}catch{return!1}}if(T=y.child,y.subtreeFlags&16384&&T!==null)T.return=y,y=T;else{if(y===g)break;for(;y.sibling===null;){if(y.return===null||y.return===g)return!0;y=y.return}y.sibling.return=y.return,y=y.sibling}}return!0}function Ja(g,y,T,N){y&=~ao,y&=~Sc,g.suspendedLanes|=y,g.pingedLanes&=~y,N&&(g.warmLanes|=y),N=g.expirationTimes;for(var $=y;0<$;){var W=31-Hr($),ve=1<<W;N[W]=-1,$&=~ve}T!==0&&X(g,T,y)}function M0(){return(vi&6)===0?(fe(0),!1):!0}function tp(){if(ui!==null){if(Zi===0)var g=ui.return;else g=ui,vs=Ou=null,wr(g),Tf=null,ja=0,g=ui;for(;g!==null;)Y(g.alternate,g),g=g.return;ui=null}}function su(g,y){g.finishedWork=null,g.finishedLanes=0;var T=g.timeoutHandle;T!==Dd&&(g.timeoutHandle=Dd,up(T)),T=g.cancelPendingCommit,T!==null&&(g.cancelPendingCommit=null,T()),tp(),tr=g,ui=T=rc(g.current,null),yi=y,Zi=0,ia=null,ys=!1,bs=P(g,y),Of=!1,ra=Ko=ao=Sc=_s=Tr=0,Ss=Wd=null,yg=!1,(y&8)!==0&&(y|=y&32);var N=g.entangledLanes;if(N!==0)for(g=g.entanglements,N&=y;0<N;){var $=31-Hr(N),W=1<<$;y|=g[$],N&=~W}return Ys=y,re(),T}function Ha(g,y){Yn=null,Fn.H=Gr,y===gp?(y=Jt(),Zi=3):y===vp?(y=Jt(),Zi=4):Zi=y===ny?8:y!==null&&typeof y=="object"&&typeof y.then=="function"?6:1,ia=y,ui===null&&(Tr=1,Kc(g,ce(y,g.current)))}function _a(){var g=wo.current;return g===null?!0:(yi&4194176)===yi?ms===null:(yi&62914560)===yi||(yi&536870912)!==0?g===ms:!1}function Ii(){var g=Fn.H;return Fn.H=Gr,g===null?Gr:g}function fs(){var g=Fn.A;return Fn.A=_c,g}function ds(){Tr=4,ys||(yi&4194176)!==yi&&wo.current!==null||(bs=!0),(_s&134217727)===0&&(Sc&134217727)===0||tr===null||Ja(tr,yi,Ko,!1)}function np(g,y,T){var N=vi;vi|=2;var $=Ii(),W=fs();(tr!==g||yi!==y)&&(If=null,su(g,y)),y=!1;var ve=Tr;e:do try{if(Zi!==0&&ui!==null){var Le=ui,nt=ia;switch(Zi){case 8:tp(),ve=6;break e;case 3:case 2:case 6:wo.current===null&&(y=!0);var Mt=Zi;if(Zi=0,ia=null,gl(g,Le,nt,Mt),T&&bs){ve=0;break e}break;default:Mt=Zi,Zi=0,ia=null,gl(g,Le,nt,Mt)}}gf(),ve=Tr;break}catch(Wt){Ha(g,Wt)}while(!0);return y&&g.shellSuspendCounter++,vs=Ou=null,vi=N,Fn.H=$,Fn.A=W,ui===null&&(tr=null,yi=0,re()),ve}function gf(){for(;ui!==null;)Td(ui)}function F_(g,y){var T=vi;vi|=2;var N=Ii(),$=fs();tr!==g||yi!==y?(If=null,Qo=Yo()+500,su(g,y)):bs=P(g,y);e:do try{if(Zi!==0&&ui!==null){y=ui;var W=ia;t:switch(Zi){case 1:Zi=0,ia=null,gl(g,y,W,1);break;case 2:if(pt(W)){Zi=0,ia=null,Ad(y);break}y=function(){Zi===2&&tr===g&&(Zi=7),ot(g)},W.then(y,y);break e;case 3:Zi=7;break e;case 4:Zi=5;break e;case 7:pt(W)?(Zi=0,ia=null,Ad(y)):(Zi=0,ia=null,gl(g,y,W,7));break;case 5:var ve=null;switch(ui.tag){case 26:ve=ui.memoizedState;case 5:case 27:var Le=ui,nt=Le.type,Mt=Le.pendingProps;if(ve?Z0(ve):D0(nt,Mt)){Zi=0,ia=null;var Wt=Le.sibling;if(Wt!==null)ui=Wt;else{var nn=Le.return;nn!==null?(ui=nn,lu(nn)):ui=null}break t}}Zi=0,ia=null,gl(g,y,W,5);break;case 6:Zi=0,ia=null,gl(g,y,W,6);break;case 8:tp(),Tr=6;break e;default:throw Error(a(462))}}H_();break}catch(kt){Ha(g,kt)}while(!0);return vs=Ou=null,Fn.H=N,Fn.A=$,vi=T,ui!==null?0:(tr=null,yi=0,re(),Tr)}function H_(){for(;ui!==null&&!xu();)Td(ui)}function Td(g){var y=Vm(g.alternate,g,Ys);g.memoizedProps=g.pendingProps,y===null?lu(g):ui=y}function Ad(g){var y=g,T=y.alternate;switch(y.tag){case 15:case 0:y=Hm(T,y,y.pendingProps,y.type,void 0,yi);break;case 11:y=Hm(T,y,y.pendingProps,y.type.render,y.ref,yi);break;case 5:wr(y);default:Y(T,y),y=ui=vf(y,Ys),y=Vm(T,y,Ys)}g.memoizedProps=g.pendingProps,y===null?lu(g):ui=y}function gl(g,y,T,N){vs=Ou=null,wr(y),Tf=null,ja=0;var $=y.return;try{if(C0(g,$,y,T,yi)){Tr=1,Kc(g,ce(T,g.current)),ui=null;return}}catch(W){if($!==null)throw ui=$,W;Tr=1,Kc(g,ce(T,g.current)),ui=null;return}y.flags&32768?(zi||N===1?g=!0:bs||(yi&536870912)!==0?g=!1:(ys=g=!0,(N===2||N===3||N===6)&&(N=wo.current,N!==null&&N.tag===13&&(N.flags|=16384))),T0(y,g)):lu(y)}function lu(g){var y=g;do{if((y.flags&32768)!==0){T0(y,ys);return}g=y.return;var T=H(y.alternate,y,Ys);if(T!==null){ui=T;return}if(y=y.sibling,y!==null){ui=y;return}ui=y=g}while(y!==null);Tr===0&&(Tr=5)}function T0(g,y){do{var T=G(g.alternate,g);if(T!==null){T.flags&=32767,ui=T;return}if(T=g.return,T!==null&&(T.flags|=32768,T.subtreeFlags=0,T.deletions=null),!y&&(g=g.sibling,g!==null)){ui=g;return}ui=g=T}while(g!==null);Tr=6,ui=null}function Ym(g,y,T,N,$,W,ve,Le,nt,Mt){var Wt=Fn.T,nn=bu();try{eo(2),Fn.T=null,k_(g,y,T,N,nn,$,W,ve,Le,nt,Mt)}finally{Fn.T=Wt,eo(nn)}}function k_(g,y,T,N,$,W,ve,Le){do cu();while(zu!==null);if((vi&6)!==0)throw Error(a(327));var nt=g.finishedWork;if(N=g.finishedLanes,nt===null)return null;if(g.finishedWork=null,g.finishedLanes=0,nt===g.current)throw Error(a(177));g.callbackNode=null,g.callbackPriority=0,g.cancelPendingCommit=null;var Mt=nt.lanes|nt.childLanes;if(Mt|=Gs,Q(g,N,Mt,W,ve,Le),g===tr&&(ui=tr=null,yi=0),(nt.subtreeFlags&10256)===0&&(nt.flags&10256)===0||xc||(xc=!0,bg=Mt,Sp=T,$_(Bd,function(){return cu(),null})),T=(nt.flags&15990)!==0,(nt.subtreeFlags&15990)!==0||T?(T=Fn.T,Fn.T=null,W=bu(),eo(2),ve=vi,vi|=4,gn(g,nt),Go(nt,g),ZE(g.containerInfo),g.current=nt,Nn(g,nt.alternate,nt),dc(),vi=ve,eo(W),Fn.T=T):g.current=nt,xc?(xc=!1,zu=g,Xd=N):ip(g,Mt),Mt=g.pendingLanes,Mt===0&&(Al=null),Z(nt.stateNode),ot(g),y!==null)for($=g.onRecoverableError,nt=0;nt<y.length;nt++)Mt=y[nt],$(Mt.value,{componentStack:Mt.stack});return(Xd&3)!==0&&cu(),Mt=g.pendingLanes,(N&4194218)!==0&&(Mt&42)!==0?g===ay?zf++:(zf=0,ay=g):zf=0,fe(0),null}function ip(g,y){(g.pooledCacheLanes&=y)===0&&(y=g.pooledCache,y!=null&&(g.pooledCache=null,vo(y)))}function cu(){if(zu!==null){var g=zu,y=bg;bg=0;var T=ae(Xd),N=32>T?32:T;T=Fn.T;var $=bu();try{if(eo(N),Fn.T=null,zu===null)var W=!1;else{N=Sp,Sp=null;var ve=zu,Le=Xd;if(zu=null,Xd=0,(vi&6)!==0)throw Error(a(331));var nt=vi;if(vi|=4,ec(ve.current),us(ve,ve.current,Le,N),vi=nt,fe(0,!1),ta&&typeof ta.onPostCommitFiberRoot=="function")try{ta.onPostCommitFiberRoot(Fd,ve)}catch{}W=!0}return W}finally{eo($),Fn.T=T,ip(g,y)}}return!1}function Rd(g,y,T){y=ce(T,y),y=Qa(g.stateNode,y,2),g=je(g,y,2),g!==null&&(V(g,2),ot(g))}function ji(g,y,T){if(g.tag===3)Rd(g,g,T);else for(;y!==null;){if(y.tag===3){Rd(y,g,T);break}else if(y.tag===1){var N=y.stateNode;if(typeof y.type.getDerivedStateFromError=="function"||typeof N.componentDidCatch=="function"&&(Al===null||!Al.has(N))){g=ce(T,g),T=jh(2),N=je(y,T,2),N!==null&&(Nm(T,N,y,g),V(N,2),ot(N));break}}y=y.return}}function uu(g,y,T){var N=g.pingCache;if(N===null){N=g.pingCache=new _p;var $=new Set;N.set(y,$)}else $=N.get(y),$===void 0&&($=new Set,N.set(y,$));$.has(T)||(Of=!0,$.add(T),g=rp.bind(null,g,y,T),y.then(g,g))}function rp(g,y,T){var N=g.pingCache;N!==null&&N.delete(y),g.pingedLanes|=g.suspendedLanes&T,g.warmLanes&=~T,tr===g&&(yi&T)===T&&(Tr===4||Tr===3&&(yi&62914560)===yi&&300>Yo()-ry?(vi&2)===0&&su(g,0):ao|=T,ra===yi&&(ra=0)),ot(g)}function ap(g,y){y===0&&(y=B()),g=Ye(g,y),g!==null&&(V(g,y),ot(g))}function op(g){var y=g.memoizedState,T=0;y!==null&&(T=y.retryLane),ap(g,T)}function qm(g,y){var T=0;switch(g.tag){case 13:var N=g.stateNode,$=g.memoizedState;$!==null&&(T=$.retryLane);break;case 19:N=g.stateNode;break;case 22:N=g.stateNode._retryCache;break;default:throw Error(a(314))}N!==null&&N.delete(y),ap(g,T)}function $_(g,y){return xl(g,y)}function V_(g,y,T,N){this.tag=g,this.key=T,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=y,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=N,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ic(g){return g=g.prototype,!(!g||!g.isReactComponent)}function rc(g,y){var T=g.alternate;return T===null?(T=t(g.tag,y,g.key,g.mode),T.elementType=g.elementType,T.type=g.type,T.stateNode=g.stateNode,T.alternate=g,g.alternate=T):(T.pendingProps=y,T.type=g.type,T.flags=0,T.subtreeFlags=0,T.deletions=null),T.flags=g.flags&31457280,T.childLanes=g.childLanes,T.lanes=g.lanes,T.child=g.child,T.memoizedProps=g.memoizedProps,T.memoizedState=g.memoizedState,T.updateQueue=g.updateQueue,y=g.dependencies,T.dependencies=y===null?null:{lanes:y.lanes,firstContext:y.firstContext},T.sibling=g.sibling,T.index=g.index,T.ref=g.ref,T.refCleanup=g.refCleanup,T}function vf(g,y){g.flags&=31457282;var T=g.alternate;return T===null?(g.childLanes=0,g.lanes=y,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=T.childLanes,g.lanes=T.lanes,g.child=T.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=T.memoizedProps,g.memoizedState=T.memoizedState,g.updateQueue=T.updateQueue,g.type=T.type,y=T.dependencies,g.dependencies=y===null?null:{lanes:y.lanes,firstContext:y.firstContext}),g}function yf(g,y,T,N,$,W){var ve=0;if(N=g,typeof g=="function")ic(g)&&(ve=1);else if(typeof g=="string")ve=Xo&&Sa?ua(g,T,kr.current)?26:cg(g)?27:5:Xo?ua(g,T,kr.current)?26:5:Sa&&cg(g)?27:5;else e:switch(g){case hu:return fu(T.children,$,W,y);case bf:ve=8,$|=24;break;case pu:return g=t(12,T,y,$|2),g.elementType=pu,g.lanes=W,g;case sc:return g=t(13,T,y,$),g.elementType=sc,g.lanes=W,g;case lp:return g=t(19,T,y,$),g.elementType=lp,g.lanes=W,g;case cc:return Zm(T,$,W,y);default:if(typeof g=="object"&&g!==null)switch(g.$$typeof){case YE:case mu:ve=10;break e;case O0:ve=9;break e;case Km:ve=11;break e;case Id:ve=14;break e;case lc:ve=16,N=null;break e}ve=29,T=Error(a(130,g===null?"null":typeof g,"")),N=null}return y=t(ve,T,y,$),y.elementType=g,y.type=N,y.lanes=W,y}function fu(g,y,T,N){return g=t(7,g,N,y),g.lanes=T,g}function Zm(g,y,T,N){g=t(22,g,N,y),g.elementType=cc,g.lanes=T;var $={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var W=$._current;if(W===null)throw Error(a(456));if(($._pendingVisibility&2)===0){var ve=Ye(W,2);ve!==null&&($._pendingVisibility|=2,fr(ve,W,2))}},attach:function(){var W=$._current;if(W===null)throw Error(a(456));if(($._pendingVisibility&2)!==0){var ve=Ye(W,2);ve!==null&&($._pendingVisibility&=-3,fr(ve,W,2))}}};return g.stateNode=$,g}function sp(g,y,T){return g=t(6,g,null,y),g.lanes=T,g}function bo(g,y,T){return y=t(4,g.children!==null?g.children:[],g.key,y),y.lanes=T,y.stateNode={containerInfo:g.containerInfo,pendingChildren:null,implementation:g.implementation},y}function vl(g,y,T,N,$,W,ve,Le){this.tag=1,this.containerInfo=g,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Dd,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=U(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=U(0),this.hiddenUpdates=U(null),this.identifierPrefix=N,this.onUncaughtError=$,this.onCaughtError=W,this.onRecoverableError=ve,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Le,this.incompleteTransitions=new Map}function ac(g,y,T,N,$,W,ve,Le,nt,Mt,Wt,nn){return g=new vl(g,y,T,ve,Le,nt,Mt,nn),y=1,W===!0&&(y|=24),W=t(3,null,null,y),g.current=W,W.stateNode=g,y=go(),y.refCount++,g.pooledCache=y,y.refCount++,W.memoizedState={element:N,isDehydrated:T,cache:y},at(W),g}function A0(g){return g?(g=Ef,g):Ef}function oc(g){var y=g._reactInternals;if(y===void 0)throw typeof g.render=="function"?Error(a(188)):(g=Object.keys(g).join(","),Error(a(268,g)));return g=C(y),g=g!==null?c(g):null,g===null?null:_f(g.stateNode)}function yl(g,y,T,N,$,W){$=A0($),N.context===null?N.context=$:N.pendingContext=$,N=wt(y),N.payload={element:T},W=W===void 0?null:W,W!==null&&(N.callback=W),T=je(g,N,y),T!==null&&(fr(T,g,y),it(T,g,y))}function Jr(g,y){if(g=g.memoizedState,g!==null&&g.dehydrated!==null){var T=g.retryLane;g.retryLane=T!==0&&T<y?T:y}}function Od(g,y){Jr(g,y),(g=g.alternate)&&Jr(g,y)}var gi={},XE=l0(),Wo=zR(),Br=Object.assign,R0=Symbol.for("react.element"),du=Symbol.for("react.transitional.element"),bl=Symbol.for("react.portal"),hu=Symbol.for("react.fragment"),bf=Symbol.for("react.strict_mode"),pu=Symbol.for("react.profiler"),YE=Symbol.for("react.provider"),O0=Symbol.for("react.consumer"),mu=Symbol.for("react.context"),Km=Symbol.for("react.forward_ref"),sc=Symbol.for("react.suspense"),lp=Symbol.for("react.suspense_list"),Id=Symbol.for("react.memo"),lc=Symbol.for("react.lazy"),cc=Symbol.for("react.offscreen"),ci=Symbol.for("react.memo_cache_sentinel"),qi=Symbol.iterator,ea=Symbol.for("react.client.reference"),Fn=XE.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gu,vu,zd=!1,yu=Array.isArray,Pd=e.rendererVersion,qE=e.rendererPackageName,Dr=e.extraDevToolsConfig,_f=e.getPublicInstance,I0=e.getRootHostContext,G_=e.getChildHostContext,j_=e.prepareForCommit,ZE=e.resetAfterCommit,z0=e.createInstance,cp=e.appendInitialChild,Qm=e.finalizeInitialChildren,Ra=e.shouldSetTextContent,Fr=e.createTextInstance,Jm=e.scheduleTimeout,up=e.cancelTimeout,Dd=e.noTimeout,Fs=e.isPrimaryRenderer;e.warnsIfNotActing;var Er=e.supportsMutation,Hs=e.supportsPersistence,_o=e.supportsHydration,eg=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var W_=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var eo=e.setCurrentUpdatePriority,bu=e.getCurrentUpdatePriority,X_=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var Y_=e.shouldAttemptEagerTransition,q_=e.detachDeletedInstance;e.requestPostPaintCallback;var P0=e.maySuspendCommit,D0=e.preloadInstance,KE=e.startSuspendingCommit,L0=e.suspendInstance,Z_=e.waitForCommitToBeReady,Sf=e.NotPendingTransition,uc=e.HostTransitionContext,K_=e.resetFormInstance;e.bindToConsole;var Q_=e.supportsMicrotasks,J_=e.scheduleMicrotask,Ld=e.supportsTestSelectors,eS=e.findFiberRoot,QE=e.getBoundingRect,tS=e.getTextContent,_l=e.isHiddenSubtree,nS=e.matchAccessibilityRole,tg=e.setFocusIfFocusable,ng=e.setupIntersectionObserver,iS=e.appendChild,N0=e.appendChildToContainer,rS=e.commitTextUpdate,aS=e.commitMount,oS=e.commitUpdate,sS=e.insertBefore,U0=e.insertInContainerBefore,lS=e.removeChild,cS=e.removeChildFromContainer,ig=e.resetTextContent,uS=e.hideInstance,fS=e.hideTextInstance,JE=e.unhideInstance,B0=e.unhideTextInstance,dS=e.clearContainer,hS=e.cloneInstance,rg=e.createContainerChildSet,F0=e.appendChildToContainerChildSet,pS=e.finalizeContainerChildren,mS=e.replaceContainerChildren,gS=e.cloneHiddenInstance,H0=e.cloneHiddenTextInstance,xf=e.isSuspenseInstancePending,fp=e.isSuspenseInstanceFallback,ag=e.getSuspenseInstanceFallbackErrorDetails,vS=e.registerSuspenseInstanceRetry,yS=e.canHydrateFormStateMarker,Sl=e.isFormStateMarkerMatching,_u=e.getNextHydratableSibling,fc=e.getFirstHydratableChild,wf=e.getFirstHydratableChildWithinContainer,k0=e.getFirstHydratableChildWithinSuspenseInstance,$0=e.canHydrateInstance,bS=e.canHydrateTextInstance,_S=e.canHydrateSuspenseInstance,Cf=e.hydrateInstance,og=e.hydrateTextInstance,SS=e.hydrateSuspenseInstance,xS=e.getNextHydratableInstanceAfterSuspenseInstance,wS=e.commitHydratedContainer,sg=e.commitHydratedSuspenseInstance,CS=e.clearSuspenseBoundary,V0=e.clearSuspenseBoundaryFromContainer,G0=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var ES=e.validateHydratableInstance,eM=e.validateHydratableTextInstance,Xo=e.supportsResources,ua=e.isHostHoistableType,fa=e.getHoistableRoot,j0=e.getResource,W0=e.acquireResource,X0=e.releaseResource,MS=e.hydrateHoistable,Y0=e.mountHoistable,Nd=e.unmountHoistable,q0=e.createHoistableInstance,TS=e.prepareToCommitHoistables,AS=e.mayResourceSuspendCommit,Z0=e.preloadResource,K0=e.suspendResource,Sa=e.supportsSingletons,lg=e.resolveSingletonInstance,RS=e.clearSingleton,Q0=e.acquireSingletonInstance,J0=e.releaseSingletonInstance,cg=e.isHostSingletonType,ug=[],Su=-1,Ef={},Hr=Math.clz32?Math.clz32:A,ey=Math.log,tM=Math.LN2,dp=128,Ud=4194304,xl=Wo.unstable_scheduleCallback,ks=Wo.unstable_cancelCallback,xu=Wo.unstable_shouldYield,dc=Wo.unstable_requestPaint,Yo=Wo.unstable_now,fg=Wo.unstable_ImmediatePriority,hp=Wo.unstable_UserBlockingPriority,Bd=Wo.unstable_NormalPriority,Mf=Wo.unstable_IdlePriority,ka=Wo.log,dg=Wo.unstable_setDisableYieldValue,Fd=null,ta=null,to=typeof Object.is=="function"?Object.is:te,hg=new WeakMap,qo=[],Zo=0,wu=null,Hd=0,So=[],$a=0,$s=null,wl=1,Cl="",kr=m(null),hs=m(null),hc=m(null),pp=m(null),$r=null,Ji=null,zi=!1,ps=null,Vs=!1,mp=Error(a(519)),xo=[],pc=0,Gs=0,vr=null,Cu=null,pg=!1,Vr=!1,mg=!1,kd=0,$d=null,gg=0,yr=0,xa=null,Va=!1,vg=!1,OS=Object.prototype.hasOwnProperty,gp=Error(a(460)),vp=Error(a(474)),no={then:function(){}},Ga=null,Tf=null,ja=0,Eu=_n(!0),El=_n(!1),js=m(null),Ws=m(0),wo=m(null),ms=null,dr=m(0),mc=0,Yn=null,Bi=null,Mr=null,gc=!1,Af=!1,Mu=!1,Tu=0,Vd=0,vc=null,IS=0,ty=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},Gr={readContext:la,use:Ke,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useLayoutEffect:dn,useInsertionEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useSyncExternalStore:dn,useId:dn};Gr.useCacheRefresh=dn,Gr.useMemoCache=dn,Gr.useHostTransitionStatus=dn,Gr.useFormState=dn,Gr.useActionState=dn,Gr.useOptimistic=dn;var yc={readContext:la,use:Ke,useCallback:function(g,y){return le().memoizedState=[g,y===void 0?null:y],g},useContext:la,useEffect:Ma,useImperativeHandle:function(g,y,T){T=T!=null?T.concat([g]):null,po(4194308,4,Cr.bind(null,y,g),T)},useLayoutEffect:function(g,y){return po(4194308,4,g,y)},useInsertionEffect:function(g,y){po(4,2,g,y)},useMemo:function(g,y){var T=le();y=y===void 0?null:y;var N=g();if(Mu){K(!0);try{g()}finally{K(!1)}}return T.memoizedState=[N,y],N},useReducer:function(g,y,T){var N=le();if(T!==void 0){var $=T(y);if(Mu){K(!0);try{T(y)}finally{K(!1)}}}else $=y;return N.memoizedState=N.baseState=$,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:g,lastRenderedState:$},N.queue=g,g=g.dispatch=Ns.bind(null,Yn,g),[N.memoizedState,g]},useRef:function(g){var y=le();return g={current:g},y.memoizedState=g},useState:function(g){g=Pn(g);var y=g.queue,T=ko.bind(null,Yn,y);return y.dispatch=T,[g.memoizedState,T]},useDebugValue:Na,useDeferredValue:function(g,y){var T=le();return Ls(T,g,y)},useTransition:function(){var g=Pn(!1);return g=Gl.bind(null,Yn,g.queue,!0,!1),le().memoizedState=g,[!1,g]},useSyncExternalStore:function(g,y,T){var N=Yn,$=le();if(zi){if(T===void 0)throw Error(a(407));T=T()}else{if(T=y(),tr===null)throw Error(a(349));(yi&60)!==0||hn(N,y,T)}$.memoizedState=T;var W={value:T,getSnapshot:y};return $.queue=W,Ma($n.bind(null,N,W,g),[g]),N.flags|=2048,Pr(9,sn.bind(null,N,W,T,y),{destroy:void 0},null),T},useId:function(){var g=le(),y=tr.identifierPrefix;if(zi){var T=Cl,N=wl;T=(N&~(1<<32-Hr(N)-1)).toString(32)+T,y=":"+y+"R"+T,T=Tu++,0<T&&(y+="H"+T.toString(32)),y+=":"}else T=IS++,y=":"+y+"r"+T.toString(32)+":";return g.memoizedState=y},useCacheRefresh:function(){return le().memoizedState=Hi.bind(null,Yn)}};yc.useMemoCache=Ve,yc.useHostTransitionStatus=xn,yc.useFormState=An,yc.useActionState=An,yc.useOptimistic=function(g){var y=le();y.memoizedState=y.baseState=g;var T={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return y.queue=T,y=$o.bind(null,Yn,!0,T),T.dispatch=y,[g,y]};var io={readContext:la,use:Ke,useCallback:ga,useContext:la,useEffect:Ds,useImperativeHandle:Ho,useInsertionEffect:sf,useLayoutEffect:Zc,useMemo:Ta,useReducer:jt,useRef:Yi,useState:function(){return jt(Rt)},useDebugValue:Na,useDeferredValue:function(g,y){var T=Be();return mo(T,Bi.memoizedState,g,y)},useTransition:function(){var g=jt(Rt)[0],y=Be().memoizedState;return[typeof g=="boolean"?g:rt(g),y]},useSyncExternalStore:bn,useId:Oi};io.useCacheRefresh=Ei,io.useMemoCache=Ve,io.useHostTransitionStatus=xn,io.useFormState=Ci,io.useActionState=Ci,io.useOptimistic=function(g,y){var T=Be();return Sn(T,Bi,g,y)};var Au={readContext:la,use:Ke,useCallback:ga,useContext:la,useEffect:Ds,useImperativeHandle:Ho,useInsertionEffect:sf,useLayoutEffect:Zc,useMemo:Ta,useReducer:Xt,useRef:Yi,useState:function(){return Xt(Rt)},useDebugValue:Na,useDeferredValue:function(g,y){var T=Be();return Bi===null?Ls(T,g,y):mo(T,Bi.memoizedState,g,y)},useTransition:function(){var g=Xt(Rt)[0],y=Be().memoizedState;return[typeof g=="boolean"?g:rt(g),y]},useSyncExternalStore:bn,useId:Oi};Au.useCacheRefresh=Ei,Au.useMemoCache=Ve,Au.useHostTransitionStatus=xn,Au.useFormState=Ki,Au.useActionState=Ki,Au.useOptimistic=function(g,y){var T=Be();return Bi!==null?Sn(T,Bi,g,y):(T.baseState=g,[g,T.queue.dispatch])};var Gd={isMounted:function(g){return(g=g._reactInternals)?_(g)===g:!1},enqueueSetState:function(g,y,T){g=g._reactInternals;var N=Fa(),$=wt(N);$.payload=y,T!=null&&($.callback=T),y=je(g,$,N),y!==null&&(fr(y,g,N),it(y,g,N))},enqueueReplaceState:function(g,y,T){g=g._reactInternals;var N=Fa(),$=wt(N);$.tag=1,$.payload=y,T!=null&&($.callback=T),y=je(g,$,N),y!==null&&(fr(y,g,N),it(y,g,N))},enqueueForceUpdate:function(g,y){g=g._reactInternals;var T=Fa(),N=wt(T);N.tag=2,y!=null&&(N.callback=y),y=je(g,N,T),y!==null&&(fr(y,g,T),it(y,g,T))}},Ru=typeof reportError=="function"?reportError:function(g){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof g=="object"&&g!==null&&typeof g.message=="string"?String(g.message):String(g),error:g});if(!window.dispatchEvent(y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",g);return}console.error(g)},ny=Error(a(461)),na=!1,yp={dehydrated:null,treeContext:null,retryLane:0},gs=m(null),Ou=null,vs=null,bp=typeof AbortController<"u"?AbortController:function(){var g=[],y=this.signal={aborted:!1,addEventListener:function(T,N){g.push(N)}};this.abort=function(){y.aborted=!0,g.forEach(function(T){return T()})}},Or=Wo.unstable_scheduleCallback,nM=Wo.unstable_NormalPriority,Lr={$$typeof:mu,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},iy=Fn.S;Fn.S=function(g,y){typeof y=="object"&&y!==null&&typeof y.then=="function"&&st(g,y),iy!==null&&iy(g,y)};var Rf=m(null),bc=!1,qn=!1,er=!1,pi=typeof WeakSet=="function"?WeakSet:Set,zn=null,or=!1,Fi=null,jr=!1,Wa=null,Iu=8192,_c={getCacheForType:function(g){var y=la(Lr),T=y.data.get(g);return T===void 0&&(T=g(),y.data.set(g,T)),T}},br=0,Xs=1,Ml=2,jd=3,ro=4;if(typeof Symbol=="function"&&Symbol.for){var Tl=Symbol.for;br=Tl("selector.component"),Xs=Tl("selector.has_pseudo_class"),Ml=Tl("selector.role"),jd=Tl("selector.test_id"),ro=Tl("selector.text")}var _p=typeof WeakMap=="function"?WeakMap:Map,vi=0,tr=null,ui=null,yi=0,Zi=0,ia=null,ys=!1,bs=!1,Of=!1,Ys=0,Tr=0,_s=0,Sc=0,ao=0,Ko=0,ra=0,Wd=null,Ss=null,yg=!1,ry=0,Qo=1/0,If=null,Al=null,xc=!1,zu=null,Xd=0,bg=0,Sp=null,zf=0,ay=null;return gi.attemptContinuousHydration=function(g){if(g.tag===13){var y=Ye(g,67108864);y!==null&&fr(y,g,67108864),Od(g,67108864)}},gi.attemptHydrationAtCurrentPriority=function(g){if(g.tag===13){var y=Fa(),T=Ye(g,y);T!==null&&fr(T,g,y),Od(g,y)}},gi.attemptSynchronousHydration=function(g){switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var y=R(g.pendingLanes);if(y!==0){for(g.pendingLanes|=2,g.entangledLanes|=2;y;){var T=1<<31-Hr(y);g.entanglements[1]|=T,y&=~T}ot(g),(vi&6)===0&&(Qo=Yo()+500,fe(0))}}break;case 13:y=Ye(g,2),y!==null&&fr(y,g,2),M0(),Od(g,2)}},gi.batchedUpdates=function(g,y){return g(y)},gi.createComponentSelector=function(g){return{$$typeof:br,value:g}},gi.createContainer=function(g,y,T,N,$,W,ve,Le,nt,Mt){return ac(g,y,!1,null,T,N,W,ve,Le,nt,Mt,null)},gi.createHasPseudoClassSelector=function(g){return{$$typeof:Xs,value:g}},gi.createHydrationContainer=function(g,y,T,N,$,W,ve,Le,nt,Mt,Wt,nn,kt){return g=ac(T,N,!0,g,$,W,Le,nt,Mt,Wt,nn,kt),g.context=A0(null),T=g.current,N=Fa(),$=wt(N),$.callback=y??null,je(T,$,N),g.current.lanes=N,V(g,N),ot(g),g},gi.createPortal=function(g,y,T){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bl,key:N==null?null:""+N,children:g,containerInfo:y,implementation:T}},gi.createRoleSelector=function(g){return{$$typeof:Ml,value:g}},gi.createTestNameSelector=function(g){return{$$typeof:jd,value:g}},gi.createTextSelector=function(g){return{$$typeof:ro,value:g}},gi.defaultOnCaughtError=function(g){console.error(g)},gi.defaultOnRecoverableError=function(g){Ru(g)},gi.defaultOnUncaughtError=function(g){Ru(g)},gi.deferredUpdates=function(g){var y=Fn.T,T=bu();try{return eo(32),Fn.T=null,g()}finally{eo(T),Fn.T=y}},gi.discreteUpdates=function(g,y,T,N,$){var W=Fn.T,ve=bu();try{return eo(2),Fn.T=null,g(y,T,N,$)}finally{eo(ve),Fn.T=W,vi===0&&(Qo=Yo()+500)}},gi.findAllNodes=ou,gi.findBoundingRects=function(g,y){if(!Ld)throw Error(a(363));y=ou(g,y),g=[];for(var T=0;T<y.length;T++)g.push(QE(y[T]));for(y=g.length-1;0<y;y--){T=g[y];for(var N=T.x,$=N+T.width,W=T.y,ve=W+T.height,Le=y-1;0<=Le;Le--)if(y!==Le){var nt=g[Le],Mt=nt.x,Wt=Mt+nt.width,nn=nt.y,kt=nn+nt.height;if(N>=Mt&&W>=nn&&$<=Wt&&ve<=kt){g.splice(y,1);break}else if(N!==Mt||T.width!==nt.width||kt<W||nn>ve){if(!(W!==nn||T.height!==nt.height||Wt<N||Mt>$)){Mt>N&&(nt.width+=Mt-N,nt.x=N),Wt<$&&(nt.width=$-Mt),g.splice(y,1);break}}else{nn>W&&(nt.height+=nn-W,nt.y=W),kt<ve&&(nt.height=ve-nn),g.splice(y,1);break}}}return g},gi.findHostInstance=oc,gi.findHostInstanceWithNoPortals=function(g){return g=C(g),g=g!==null?p(g):null,g===null?null:_f(g.stateNode)},gi.findHostInstanceWithWarning=function(g){return oc(g)},gi.flushPassiveEffects=cu,gi.flushSyncFromReconciler=function(g){var y=vi;vi|=1;var T=Fn.T,N=bu();try{if(eo(2),Fn.T=null,g)return g()}finally{eo(N),Fn.T=T,vi=y,(vi&6)===0&&fe(0)}},gi.flushSyncWork=M0,gi.focusWithin=function(g,y){if(!Ld)throw Error(a(363));for(g=au(g),y=mf(g,y),y=Array.from(y),g=0;g<y.length;){var T=y[g++],N=T.tag;if(!_l(T)){if((N===5||N===26||N===27)&&tg(T.stateNode))return!0;for(T=T.child;T!==null;)y.push(T),T=T.sibling}}return!1},gi.getFindAllNodesFailureDescription=function(g,y){if(!Ld)throw Error(a(363));var T=0,N=[];g=[au(g),0];for(var $=0;$<g.length;){var W=g[$++],ve=W.tag,Le=g[$++],nt=y[Le];if((ve!==5&&ve!==26&&ve!==27||!_l(W))&&(Xm(W,nt)&&(N.push(yo(nt)),Le++,Le>T&&(T=Le)),Le<y.length))for(W=W.child;W!==null;)g.push(W,Le),W=W.sibling}if(T<y.length){for(g=[];T<y.length;T++)g.push(yo(y[T]));return`findAllNodes was able to match part of the selector:
  `+(N.join(" > ")+`

No matching component was found for:
  `)+g.join(" > ")}return null},gi.getPublicRootInstance=function(g){if(g=g.current,!g.child)return null;switch(g.child.tag){case 27:case 5:return _f(g.child.stateNode);default:return g.child.stateNode}},gi.injectIntoDevTools=function(){var g={bundleType:0,version:Pd,rendererPackageName:qE,currentDispatcherRef:Fn,findFiberByHostInstance:eg,reconcilerVersion:"19.0.0"};if(Dr!==null&&(g.rendererConfig=Dr),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")g=!1;else{var y=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(y.isDisabled||!y.supportsFiber)g=!0;else{try{Fd=y.inject(g),ta=y}catch{}g=!!y.checkDCE}}return g},gi.isAlreadyRendering=function(){return!1},gi.observeVisibleRects=function(g,y,T,N){if(!Ld)throw Error(a(363));g=ou(g,y);var $=ng(g,T,N).disconnect;return{disconnect:function(){$()}}},gi.shouldError=function(){return null},gi.shouldSuspend=function(){return!1},gi.startHostTransition=function(g,y,T,N){if(g.tag!==5)throw Error(a(476));var $=tn(g).queue;Gl(g,$,y,Sf,T===null?r:function(){var W=tn(g).next.queue;return Ua(g,W,{},Fa()),T(N)})},gi.updateContainer=function(g,y,T,N){var $=y.current,W=Fa();return yl($,W,g,y,T,N),W},gi.updateContainerSync=function(g,y,T,N){return y.tag===0&&cu(),yl(y.current,2,g,y,T,N),2},gi},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})}(dA)),dA.exports}var kL;function Aue(){return kL||(kL=1,fA.exports=Tue()),fA.exports}var Rue=Aue();const Oue=Mm(Rue);var $L=zR();function hI(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=e?n.return:n.child;for(;r;){const a=hI(r,e,t);if(a)return a;r=e?null:r.sibling}}function Y8(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const pI=Y8(M.createContext(null));let q8=class extends M.Component{render(){return M.createElement(pI.Provider,{value:this._reactInternals},this.props.children)}};function Z8(){const n=M.useContext(pI);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=M.useId();return M.useMemo(()=>{for(const t of[n,n==null?void 0:n.alternate]){if(!t)continue;const r=hI(t,!1,a=>{let o=a.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(r)return r}},[n,e])}const Iue=Symbol.for("react.context"),zue=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===Iue;function Pue(){const n=Z8(),[e]=M.useState(()=>new Map);e.clear();let t=n;for(;t;){const r=t.type;zue(r)&&r!==pI&&!e.has(r)&&e.set(r,M.use(Y8(r))),t=t.return}return e}function Due(){const n=Pue();return M.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>M.createElement(e,null,M.createElement(t.Provider,{...r,value:n.get(t)})),e=>M.createElement(q8,{...e})),[n])}function K8(n){let e=n.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const Q8=n=>n&&n.isOrthographicCamera,Lue=n=>n&&n.hasOwnProperty("current"),Nue=n=>n!=null&&(typeof n=="string"||typeof n=="number"||n.isColor),P_=((n,e)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?M.useLayoutEffect:M.useEffect;function J8(n){const e=M.useRef(n);return P_(()=>void(e.current=n),[n]),e}function Uue(){const n=Z8(),e=Due();return M.useMemo(()=>({children:t})=>{const a=!!hI(n,!0,o=>o.type===M.StrictMode)?M.StrictMode:M.Fragment;return xt.jsx(a,{children:xt.jsx(e,{children:t})})},[n,e])}function Bue({set:n}){return P_(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const Fue=(n=>(n=class extends M.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function e5(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}function qg(n){var e;return(e=n.__r3f)==null?void 0:e.root.getState()}const Wr={obj:n=>n===Object(n)&&!Wr.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,nul:n=>n===null,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:a=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Wr.str(n)||Wr.num(n)||Wr.boo(n))return n===e;const o=Wr.obj(n);if(o&&r==="reference")return n===e;const l=Wr.arr(n);if(l&&t==="reference")return n===e;if((l||o)&&n===e)return!0;let s;for(s in n)if(!(s in e))return!1;if(o&&t==="shallow"&&r==="shallow"){for(s in a?e:n)if(!Wr.equ(n[s],e[s],{strict:a,objects:"reference"}))return!1}else for(s in a?e:n)if(n[s]!==e[s])return!1;if(Wr.und(s)){if(l&&n.length===0&&e.length===0||o&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function Hue(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const e in n){const t=n[e];(t==null?void 0:t.type)!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const t5=["children","key","ref"];function kue(n){const e={};for(const t in n)t5.includes(t)||(e[t]=n[t]);return e}function dC(n,e,t,r){const a=n;let o=a==null?void 0:a.__r3f;return o||(o={root:e,type:t,parent:null,children:[],props:kue(r),object:a,eventCount:0,handlers:{},isHidden:!1},a&&(a.__r3f=o)),o}function a_(n,e){let t=n[e];if(!e.includes("-"))return{root:n,key:e,target:t};t=n;for(const a of e.split("-")){var r;e=a,n=t,t=(r=t)==null?void 0:r[e]}return{root:n,key:e,target:t}}const VL=/-\d+$/;function hC(n,e){if(Wr.str(e.props.attach)){if(VL.test(e.props.attach)){const a=e.props.attach.replace(VL,""),{root:o,key:l}=a_(n.object,a);Array.isArray(o[l])||(o[l]=[])}const{root:t,key:r}=a_(n.object,e.props.attach);e.previousAttach=t[r],t[r]=e.object}else Wr.fun(e.props.attach)&&(e.previousAttach=e.props.attach(n.object,e.object))}function pC(n,e){if(Wr.str(e.props.attach)){const{root:t,key:r}=a_(n.object,e.props.attach),a=e.previousAttach;a===void 0?delete t[r]:t[r]=a}else e.previousAttach==null||e.previousAttach(n.object,e.object);delete e.previousAttach}const oR=[...t5,"args","dispose","attach","object","onUpdate","dispose"],GL=new Map;function $ue(n){let e=GL.get(n.constructor);try{e||(e=new n.constructor,GL.set(n.constructor,e))}catch{}return e}function Vue(n,e){const t={};for(const r in e)if(!oR.includes(r)&&!Wr.equ(e[r],n.props[r])){t[r]=e[r];for(const a in e)a.startsWith(`${r}-`)&&(t[a]=e[a])}for(const r in n.props){if(oR.includes(r)||e.hasOwnProperty(r))continue;const{root:a,key:o}=a_(n.object,r);if(a.constructor&&a.constructor.length===0){const l=$ue(a);Wr.und(l)||(t[o]=l[o])}else t[o]=0}return t}const Gue=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],jue=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function bh(n,e){var t;const r=n.__r3f,a=r&&K8(r).getState(),o=r==null?void 0:r.eventCount;for(const s in e){let f=e[s];if(oR.includes(s))continue;if(r&&jue.test(s)){typeof f=="function"?r.handlers[s]=f:delete r.handlers[s],r.eventCount=Object.keys(r.handlers).length;continue}if(f===void 0)continue;let{root:h,key:v,target:_}=a_(n,s);if(_ instanceof t0&&f instanceof t0)_.mask=f.mask;else if(_ instanceof on&&Nue(f))_.set(f);else if(_!==null&&typeof _=="object"&&typeof _.set=="function"&&typeof _.copy=="function"&&f!=null&&f.constructor&&_.constructor===f.constructor)_.copy(f);else if(_!==null&&typeof _=="object"&&typeof _.set=="function"&&Array.isArray(f))typeof _.fromArray=="function"?_.fromArray(f):_.set(...f);else if(_!==null&&typeof _=="object"&&typeof _.set=="function"&&typeof f=="number")typeof _.setScalar=="function"?_.setScalar(f):_.set(f);else{var l;h[v]=f,a&&!a.linear&&Gue.includes(v)&&(l=h[v])!=null&&l.isTexture&&h[v].format===zo&&h[v].type===$c&&(h[v].colorSpace=Oo)}}if(r!=null&&r.parent&&a!=null&&a.internal&&(t=r.object)!=null&&t.isObject3D&&o!==r.eventCount){const s=r.object,f=a.internal.interaction.indexOf(s);f>-1&&a.internal.interaction.splice(f,1),r.eventCount&&s.raycast!==null&&a.internal.interaction.push(s)}return r&&r.props.attach===void 0&&(r.object.isBufferGeometry?r.props.attach="geometry":r.object.isMaterial&&(r.props.attach="material")),r&&x0(r),n}function x0(n){var e;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const t=(e=n.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function Wue(n,e){n.manual||(Q8(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix())}const As=n=>n==null?void 0:n.isObject3D;function e1(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function n5(n,e,t,r){const a=t.get(e);a&&(t.delete(e),t.size===0&&(n.delete(r),a.target.releasePointerCapture(r)))}function Xue(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,a)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(a)}),t.capturedMap.forEach((r,a)=>{n5(t.capturedMap,e,r,a)})}function Yue(n){function e(f){const{internal:h}=n.getState(),v=f.offsetX-h.initialClick[0],_=f.offsetY-h.initialClick[1];return Math.round(Math.sqrt(v*v+_*_))}function t(f){return f.filter(h=>["Move","Over","Enter","Out","Leave"].some(v=>{var _;return(_=h.__r3f)==null?void 0:_.handlers["onPointer"+v]}))}function r(f,h){const v=n.getState(),_=new Set,x=[],C=h?h(v.internal.interaction):v.internal.interaction;for(let b=0;b<C.length;b++){const w=qg(C[b]);w&&(w.raycaster.camera=void 0)}v.previousRoot||v.events.compute==null||v.events.compute(f,v);function c(b){const w=qg(b);if(!w||!w.events.enabled||w.raycaster.camera===null)return[];if(w.raycaster.camera===void 0){var A;w.events.compute==null||w.events.compute(f,w,(A=w.previousRoot)==null?void 0:A.getState()),w.raycaster.camera===void 0&&(w.raycaster.camera=null)}return w.raycaster.camera?w.raycaster.intersectObject(b,!0):[]}let p=C.flatMap(c).sort((b,w)=>{const A=qg(b.object),R=qg(w.object);return!A||!R?b.distance-w.distance:R.events.priority-A.events.priority||b.distance-w.distance}).filter(b=>{const w=e1(b);return _.has(w)?!1:(_.add(w),!0)});v.events.filter&&(p=v.events.filter(p,v));for(const b of p){let w=b.object;for(;w;){var m;(m=w.__r3f)!=null&&m.eventCount&&x.push({...b,eventObject:w}),w=w.parent}}if("pointerId"in f&&v.internal.capturedMap.has(f.pointerId))for(let b of v.internal.capturedMap.get(f.pointerId).values())_.has(e1(b.intersection))||x.push(b.intersection);return x}function a(f,h,v,_){if(f.length){const x={stopped:!1};for(const C of f){let c=qg(C.object);if(c||C.object.traverseAncestors(p=>{const m=qg(p);if(m)return c=m,!1}),c){const{raycaster:p,pointer:m,camera:b,internal:w}=c,A=new ye(m.x,m.y,0).unproject(b),R=B=>{var U,V;return(U=(V=w.capturedMap.get(B))==null?void 0:V.has(C.eventObject))!=null?U:!1},O=B=>{const U={intersection:C,target:h.target};w.capturedMap.has(B)?w.capturedMap.get(B).set(C.eventObject,U):w.capturedMap.set(B,new Map([[C.eventObject,U]])),h.target.setPointerCapture(B)},P=B=>{const U=w.capturedMap.get(B);U&&n5(w.capturedMap,C.eventObject,U,B)};let D={};for(let B in h){let U=h[B];typeof U!="function"&&(D[B]=U)}let F={...C,...D,pointer:m,intersections:f,stopped:x.stopped,delta:v,unprojectedPoint:A,ray:p.ray,camera:b,stopPropagation(){const B="pointerId"in h&&w.capturedMap.get(h.pointerId);if((!B||B.has(C.eventObject))&&(F.stopped=x.stopped=!0,w.hovered.size&&Array.from(w.hovered.values()).find(U=>U.eventObject===C.eventObject))){const U=f.slice(0,f.indexOf(C));o([...U,C])}},target:{hasPointerCapture:R,setPointerCapture:O,releasePointerCapture:P},currentTarget:{hasPointerCapture:R,setPointerCapture:O,releasePointerCapture:P},nativeEvent:h};if(_(F),x.stopped===!0)break}}}return f}function o(f){const{internal:h}=n.getState();for(const v of h.hovered.values())if(!f.length||!f.find(_=>_.object===v.object&&_.index===v.index&&_.instanceId===v.instanceId)){const x=v.eventObject.__r3f;if(h.hovered.delete(e1(v)),x!=null&&x.eventCount){const C=x.handlers,c={...v,intersections:f};C.onPointerOut==null||C.onPointerOut(c),C.onPointerLeave==null||C.onPointerLeave(c)}}}function l(f,h){for(let v=0;v<h.length;v++){const _=h[v].__r3f;_==null||_.handlers.onPointerMissed==null||_.handlers.onPointerMissed(f)}}function s(f){switch(f){case"onPointerLeave":case"onPointerCancel":return()=>o([]);case"onLostPointerCapture":return h=>{const{internal:v}=n.getState();"pointerId"in h&&v.capturedMap.has(h.pointerId)&&requestAnimationFrame(()=>{v.capturedMap.has(h.pointerId)&&(v.capturedMap.delete(h.pointerId),o([]))})}}return function(v){const{onPointerMissed:_,internal:x}=n.getState();x.lastEvent.current=v;const C=f==="onPointerMove",c=f==="onClick"||f==="onContextMenu"||f==="onDoubleClick",m=r(v,C?t:void 0),b=c?e(v):0;f==="onPointerDown"&&(x.initialClick=[v.offsetX,v.offsetY],x.initialHits=m.map(A=>A.eventObject)),c&&!m.length&&b<=2&&(l(v,x.interaction),_&&_(v)),C&&o(m);function w(A){const R=A.eventObject,O=R.__r3f;if(!(O!=null&&O.eventCount))return;const P=O.handlers;if(C){if(P.onPointerOver||P.onPointerEnter||P.onPointerOut||P.onPointerLeave){const D=e1(A),F=x.hovered.get(D);F?F.stopped&&A.stopPropagation():(x.hovered.set(D,A),P.onPointerOver==null||P.onPointerOver(A),P.onPointerEnter==null||P.onPointerEnter(A))}P.onPointerMove==null||P.onPointerMove(A)}else{const D=P[f];D?(!c||x.initialHits.includes(R))&&(l(v,x.interaction.filter(F=>!x.initialHits.includes(F))),D(A)):c&&x.initialHits.includes(R)&&l(v,x.interaction.filter(F=>!x.initialHits.includes(F)))}}a(m,v,b,w)}}return{handlePointer:s}}const jL=n=>!!(n!=null&&n.render),i5=M.createContext(null),que=(n,e)=>{const t=Mue((s,f)=>{const h=new ye,v=new ye,_=new ye;function x(b=f().camera,w=v,A=f().size){const{width:R,height:O,top:P,left:D}=A,F=R/O;w.isVector3?_.copy(w):_.set(...w);const B=b.getWorldPosition(h).distanceTo(_);if(Q8(b))return{width:R/b.zoom,height:O/b.zoom,top:P,left:D,factor:1,distance:B,aspect:F};{const U=b.fov*Math.PI/180,V=2*Math.tan(U/2)*B,Q=V*(R/O);return{width:Q,height:V,top:P,left:D,factor:R/Q,distance:B,aspect:F}}}let C;const c=b=>s(w=>({performance:{...w.performance,current:b}})),p=new At;return{set:s,get:f,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(b=1)=>n(f(),b),advance:(b,w)=>e(b,w,f()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new oI,pointer:p,mouse:p,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const b=f();C&&clearTimeout(C),b.performance.current!==b.performance.min&&c(b.performance.min),C=setTimeout(()=>c(f().performance.max),b.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:x},setEvents:b=>s(w=>({...w,events:{...w.events,...b}})),setSize:(b,w,A=0,R=0)=>{const O=f().camera,P={width:b,height:w,top:A,left:R};s(D=>({size:P,viewport:{...D.viewport,...x(O,v,P)}}))},setDpr:b=>s(w=>{const A=e5(b);return{viewport:{...w.viewport,dpr:A,initialDpr:w.viewport.initialDpr||A}}}),setFrameloop:(b="always")=>{const w=f().clock;w.stop(),w.elapsedTime=0,b!=="never"&&(w.start(),w.elapsedTime=0),s(()=>({frameloop:b}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:M.createRef(),active:!1,frames:0,priority:0,subscribe:(b,w,A)=>{const R=f().internal;return R.priority=R.priority+(w>0?1:0),R.subscribers.push({ref:b,priority:w,store:A}),R.subscribers=R.subscribers.sort((O,P)=>O.priority-P.priority),()=>{const O=f().internal;O!=null&&O.subscribers&&(O.priority=O.priority-(w>0?1:0),O.subscribers=O.subscribers.filter(P=>P.ref!==b))}}}}}),r=t.getState();let a=r.size,o=r.viewport.dpr,l=r.camera;return t.subscribe(()=>{const{camera:s,size:f,viewport:h,gl:v,set:_}=t.getState();if(f.width!==a.width||f.height!==a.height||h.dpr!==o){a=f,o=h.dpr,Wue(s,f),h.dpr>0&&v.setPixelRatio(h.dpr);const x=typeof HTMLCanvasElement<"u"&&v.domElement instanceof HTMLCanvasElement;v.setSize(f.width,f.height,x)}s!==l&&(l=s,_(x=>({viewport:{...x.viewport,...x.viewport.getCurrentViewport(s)}})))}),t.subscribe(s=>n(s)),t};function r5(){const n=M.useContext(i5);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function is(n=t=>t,e){return r5()(n,e)}function Zue(n,e=0){const t=r5(),r=t.getState().internal.subscribe,a=J8(n);return P_(()=>r(a,e,t),[e,r,t]),null}function Kue(n){const e=Oue(n);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:M.version}),e}const a5=0,r0={},Que=/^three(?=[A-Z])/,$E=n=>`${n[0].toUpperCase()}${n.slice(1)}`;let Jue=0;const efe=n=>typeof n=="function";function tfe(n){if(efe(n)){const e=`${Jue++}`;return r0[e]=n,e}else Object.assign(r0,n)}function o5(n,e){const t=$E(n),r=r0[t];if(n!=="primitive"&&!r)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function nfe(n,e,t){var r;return n=$E(n)in r0?n:n.replace(Que,""),o5(n,e),n==="primitive"&&(r=e.object)!=null&&r.__r3f&&delete e.object.__r3f,dC(e.object,t,n,e)}function ife(n){if(!n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?pC(n.parent,n):As(n.object)&&(n.object.visible=!1),n.isHidden=!0,x0(n)}}function s5(n){if(n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?hC(n.parent,n):As(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,x0(n)}}function mI(n,e,t){const r=e.root.getState();if(!(!n.parent&&n.object!==r.scene)){if(!e.object){var a,o;const l=r0[$E(e.type)];e.object=(a=e.props.object)!=null?a:new l(...(o=e.props.args)!=null?o:[]),e.object.__r3f=e}if(bh(e.object,e.props),e.props.attach)hC(n,e);else if(As(e.object)&&As(n.object)){const l=n.object.children.indexOf(t==null?void 0:t.object);if(t&&l!==-1){const s=n.object.children.indexOf(e.object);if(s!==-1){n.object.children.splice(s,1);const f=s<l?l-1:l;n.object.children.splice(f,0,e.object)}else e.object.parent=n.object,n.object.children.splice(l,0,e.object),e.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:e.object})}else n.object.add(e.object)}for(const l of e.children)mI(e,l);x0(e)}}function hA(n,e){e&&(e.parent=n,n.children.push(e),mI(n,e))}function WL(n,e,t){if(!e||!t)return;e.parent=n;const r=n.children.indexOf(t);r!==-1?n.children.splice(r,0,e):n.children.push(e),mI(n,e,t)}function l5(n){if(typeof n.dispose=="function"){const e=()=>{try{n.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():$L.unstable_scheduleCallback($L.unstable_IdlePriority,e)}}function sR(n,e,t){if(!e)return;e.parent=null;const r=n.children.indexOf(e);r!==-1&&n.children.splice(r,1),e.props.attach?pC(n,e):As(e.object)&&As(n.object)&&(n.object.remove(e.object),Xue(K8(e),e.object));const a=e.props.dispose!==null&&t!==!1;for(let o=e.children.length-1;o>=0;o--){const l=e.children[o];sR(e,l,a)}e.children.length=0,delete e.object.__r3f,a&&e.type!=="primitive"&&e.object.type!=="Scene"&&l5(e.object),t===void 0&&x0(e)}function rfe(n,e){for(const t of[n,n.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const r=t.ref(e);typeof r=="function"&&(t.refCleanup=r)}else t.ref&&(t.ref.current=e)}const A1=[];function afe(){for(const[t]of A1){const r=t.parent;if(r){t.props.attach?pC(r,t):As(t.object)&&As(r.object)&&r.object.remove(t.object);for(const a of t.children)a.props.attach?pC(t,a):As(a.object)&&As(t.object)&&t.object.remove(a.object)}t.isHidden&&s5(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&l5(t.object)}for(const[t,r,a]of A1){t.props=r;const o=t.parent;if(o){var n,e;const l=r0[$E(t.type)];t.object=(n=t.props.object)!=null?n:new l(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,rfe(a,t.object),bh(t.object,t.props),t.props.attach?hC(o,t):As(t.object)&&As(o.object)&&o.object.add(t.object);for(const s of t.children)s.props.attach?hC(t,s):As(s.object)&&As(t.object)&&t.object.add(s.object);x0(t)}}A1.length=0}const pA=()=>{},XL={};let t1=a5;const ofe=0,sfe=4,lR=Kue({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:nfe,removeChild:sR,appendChild:hA,appendInitialChild:hA,insertBefore:WL,appendChildToContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||hA(t,e)},removeChildFromContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||sR(t,e)},insertInContainerBefore(n,e,t){const r=n.getState().scene.__r3f;!e||!t||!r||WL(r,e,t)},getRootHostContext:()=>XL,getChildHostContext:()=>XL,commitUpdate(n,e,t,r,a){var o,l,s;o5(e,r);let f=!1;if((n.type==="primitive"&&t.object!==r.object||((o=r.args)==null?void 0:o.length)!==((l=t.args)==null?void 0:l.length)||(s=r.args)!=null&&s.some((v,_)=>{var x;return v!==((x=t.args)==null?void 0:x[_])}))&&(f=!0),f)A1.push([n,{...r},a]);else{const v=Vue(n,r);Object.keys(v).length&&(Object.assign(n.props,v),bh(n.object,v))}(a.sibling===null||(a.flags&sfe)===ofe)&&afe()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n==null?void 0:n.object,prepareForCommit:()=>null,preparePortalMount:n=>dC(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:ife,unhideInstance:s5,createTextInstance:pA,hideTextInstance:pA,unhideTextInstance:pA,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:M.createContext(null),setCurrentUpdatePriority(n){t1=n},getCurrentUpdatePriority(){return t1},resolveUpdatePriority(){var n;if(t1!==a5)return t1;switch(typeof window<"u"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return T1.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return T1.ContinuousEventPriority;default:return T1.DefaultEventPriority}},resetFormInstance(){}}),wm=new Map,Zg={objects:"shallow",strict:!1};function lfe(n,e){if(!e&&typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:r,top:a,left:o}=n.parentElement.getBoundingClientRect();return{width:t,height:r,top:a,left:o}}else if(!e&&typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function cfe(n){const e=wm.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const a=typeof reportError=="function"?reportError:console.error,o=r||que(fR,qL),l=t||lR.createContainer(o,T1.ConcurrentRoot,null,!1,null,"",a,a,a,null);e||wm.set(n,{fiber:l,store:o});let s,f,h=!1,v=null;return{async configure(_={}){let x;v=new Promise(J=>x=J);let{gl:C,size:c,scene:p,events:m,onCreated:b,shadows:w=!1,linear:A=!1,flat:R=!1,legacy:O=!1,orthographic:P=!1,frameloop:D="always",dpr:F=[1,2],performance:B,raycaster:U,camera:V,onPointerMissed:Q}=_,X=o.getState(),ee=X.gl;if(!X.gl){const J={canvas:n,powerPreference:"high-performance",antialias:!0,alpha:!0},he=typeof C=="function"?await C(J):C;jL(he)?ee=he:ee=new X8({...J,...C}),X.set({gl:ee})}let ae=X.raycaster;ae||X.set({raycaster:ae=new uI});const{params:Z,...K}=U||{};if(Wr.equ(K,ae,Zg)||bh(ae,{...K}),Wr.equ(Z,ae.params,Zg)||bh(ae,{params:{...ae.params,...Z}}),!X.camera||X.camera===f&&!Wr.equ(f,V,Zg)){f=V;const J=V==null?void 0:V.isCamera,he=J?V:P?new Oh(0,0,0,0,.1,1e3):new pa(75,0,.1,1e3);J||(he.position.z=5,V&&(bh(he,V),he.manual||("aspect"in V||"left"in V||"right"in V||"bottom"in V||"top"in V)&&(he.manual=!0,he.updateProjectionMatrix())),!X.camera&&!(V!=null&&V.rotation)&&he.lookAt(0,0,0)),X.set({camera:he}),ae.camera=he}if(!X.scene){let J;p!=null&&p.isScene?(J=p,dC(J,o,"",{})):(J=new HO,dC(J,o,"",{}),p&&bh(J,p)),X.set({scene:J})}m&&!X.events.handlers&&X.set({events:m(o)});const te=lfe(n,c);if(Wr.equ(te,X.size,Zg)||X.setSize(te.width,te.height,te.top,te.left),F&&X.viewport.dpr!==e5(F)&&X.setDpr(F),X.frameloop!==D&&X.setFrameloop(D),X.onPointerMissed||X.set({onPointerMissed:Q}),B&&!Wr.equ(B,X.performance,Zg)&&X.set(J=>({performance:{...J.performance,...B}})),!X.xr){var ce;const J=(j,pe)=>{const _e=o.getState();_e.frameloop!=="never"&&qL(j,!0,_e,pe)},he=()=>{const j=o.getState();j.gl.xr.enabled=j.gl.xr.isPresenting,j.gl.xr.setAnimationLoop(j.gl.xr.isPresenting?J:null),j.gl.xr.isPresenting||fR(j)},ue={connect(){const j=o.getState().gl;j.xr.addEventListener("sessionstart",he),j.xr.addEventListener("sessionend",he)},disconnect(){const j=o.getState().gl;j.xr.removeEventListener("sessionstart",he),j.xr.removeEventListener("sessionend",he)}};typeof((ce=ee.xr)==null?void 0:ce.addEventListener)=="function"&&ue.connect(),X.set({xr:ue})}if(ee.shadowMap){const J=ee.shadowMap.enabled,he=ee.shadowMap.type;if(ee.shadowMap.enabled=!!w,Wr.boo(w))ee.shadowMap.type=db;else if(Wr.str(w)){var q;const ue={basic:KF,percentage:uE,soft:db,variance:Rc};ee.shadowMap.type=(q=ue[w])!=null?q:db}else Wr.obj(w)&&Object.assign(ee.shadowMap,w);(J!==ee.shadowMap.enabled||he!==ee.shadowMap.type)&&(ee.shadowMap.needsUpdate=!0)}return Di.enabled=!O,h||(ee.outputColorSpace=A?Bh:Oo,ee.toneMapping=R?Wu:CO),X.legacy!==O&&X.set(()=>({legacy:O})),X.linear!==A&&X.set(()=>({linear:A})),X.flat!==R&&X.set(()=>({flat:R})),C&&!Wr.fun(C)&&!jL(C)&&!Wr.equ(C,ee,Zg)&&bh(ee,C),s=b,h=!0,x(),this},render(_){return!h&&!v&&this.configure(),v.then(()=>{lR.updateContainer(xt.jsx(ufe,{store:o,children:_,onCreated:s,rootElement:n}),l,null,()=>{})}),o},unmount(){c5(n)}}}function ufe({store:n,children:e,onCreated:t,rootElement:r}){return P_(()=>{const a=n.getState();a.set(o=>({internal:{...o.internal,active:!0}})),t&&t(a),n.getState().events.connected||a.events.connect==null||a.events.connect(r)},[]),xt.jsx(i5.Provider,{value:n,children:e})}function c5(n,e){const t=wm.get(n),r=t==null?void 0:t.fiber;if(r){const a=t==null?void 0:t.store.getState();a&&(a.internal.active=!1),lR.updateContainer(null,r,null,()=>{a&&setTimeout(()=>{try{var o,l,s,f;a.events.disconnect==null||a.events.disconnect(),(o=a.gl)==null||(l=o.renderLists)==null||l.dispose==null||l.dispose(),(s=a.gl)==null||s.forceContextLoss==null||s.forceContextLoss(),(f=a.gl)!=null&&f.xr&&a.xr.disconnect(),Hue(a.scene),wm.delete(n)}catch{}},500)})}}const ffe=new Set,dfe=new Set,hfe=new Set;function mA(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function xb(n,e){switch(n){case"before":return mA(ffe,e);case"after":return mA(dfe,e);case"tail":return mA(hfe,e)}}let gA,vA;function cR(n,e,t){let r=e.clock.getDelta();e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),gA=e.internal.subscribers;for(let a=0;a<gA.length;a++)vA=gA[a],vA.ref.current(vA.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let mC=!1,uR=!1,yA,YL,Kg;function u5(n){YL=requestAnimationFrame(u5),mC=!0,yA=0,xb("before",n),uR=!0;for(const t of wm.values()){var e;Kg=t.store.getState(),Kg.internal.active&&(Kg.frameloop==="always"||Kg.internal.frames>0)&&!((e=Kg.gl.xr)!=null&&e.isPresenting)&&(yA+=cR(n,Kg))}if(uR=!1,xb("after",n),yA===0)return xb("tail",n),mC=!1,cancelAnimationFrame(YL)}function fR(n,e=1){var t;if(!n)return wm.forEach(r=>fR(r.store.getState(),e));(t=n.gl.xr)!=null&&t.isPresenting||!n.internal.active||n.frameloop==="never"||(e>1?n.internal.frames=Math.min(60,n.internal.frames+e):uR?n.internal.frames=2:n.internal.frames=1,mC||(mC=!0,requestAnimationFrame(u5)))}function qL(n,e=!0,t,r){if(e&&xb("before",n),t)cR(n,t,r);else for(const a of wm.values())cR(n,a.store.getState());e&&xb("after",n)}const bA={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function pfe(n){const{handlePointer:e}=Yue(n);return{priority:1,enabled:!0,compute(t,r,a){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(bA).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:a}=n.getState();(t=a.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(a.lastEvent.current)},connect:t=>{const{set:r,events:a}=n.getState();if(a.disconnect==null||a.disconnect(),r(o=>({events:{...o.events,connected:t}})),a.handlers)for(const o in a.handlers){const l=a.handlers[o],[s,f]=bA[o];t.addEventListener(s,l,{passive:f})}},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){if(r.handlers)for(const a in r.handlers){const o=r.handlers[a],[l]=bA[a];r.connected.removeEventListener(l,o)}t(a=>({events:{...a.events,connected:void 0}}))}}}}function ZL(n,e){let t;return(...r)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...r),e)}}function mfe({debounce:n,scroll:e,polyfill:t,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const a=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!a)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,l]=M.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),s=M.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o,orientationHandler:null}),f=n?typeof n=="number"?n:n.scroll:null,h=n?typeof n=="number"?n:n.resize:null,v=M.useRef(!1);M.useEffect(()=>(v.current=!0,()=>void(v.current=!1)));const[_,x,C]=M.useMemo(()=>{const b=()=>{if(!s.current.element)return;const{left:w,top:A,width:R,height:O,bottom:P,right:D,x:F,y:B}=s.current.element.getBoundingClientRect(),U={left:w,top:A,width:R,height:O,bottom:P,right:D,x:F,y:B};s.current.element instanceof HTMLElement&&r&&(U.height=s.current.element.offsetHeight,U.width=s.current.element.offsetWidth),Object.freeze(U),v.current&&!bfe(s.current.lastBounds,U)&&l(s.current.lastBounds=U)};return[b,h?ZL(b,h):b,f?ZL(b,f):b]},[l,r,f,h]);function c(){s.current.scrollContainers&&(s.current.scrollContainers.forEach(b=>b.removeEventListener("scroll",C,!0)),s.current.scrollContainers=null),s.current.resizeObserver&&(s.current.resizeObserver.disconnect(),s.current.resizeObserver=null),s.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",s.current.orientationHandler))}function p(){s.current.element&&(s.current.resizeObserver=new a(C),s.current.resizeObserver.observe(s.current.element),e&&s.current.scrollContainers&&s.current.scrollContainers.forEach(b=>b.addEventListener("scroll",C,{capture:!0,passive:!0})),s.current.orientationHandler=()=>{C()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",s.current.orientationHandler))}const m=b=>{!b||b===s.current.element||(c(),s.current.element=b,s.current.scrollContainers=f5(b),p())};return vfe(C,!!e),gfe(x),M.useEffect(()=>{c(),p()},[e,C,x]),M.useEffect(()=>c,[]),[m,o,_]}function gfe(n){M.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function vfe(n,e){M.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function f5(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:a}=window.getComputedStyle(n);return[t,r,a].some(o=>o==="auto"||o==="scroll")&&e.push(n),[...e,...f5(n.parentElement)]}const yfe=["x","y","top","bottom","left","right","width","height"],bfe=(n,e)=>yfe.every(t=>n[t]===e[t]);function _fe({ref:n,children:e,fallback:t,resize:r,style:a,gl:o,events:l=pfe,eventSource:s,eventPrefix:f,shadows:h,linear:v,flat:_,legacy:x,orthographic:C,frameloop:c,dpr:p,performance:m,raycaster:b,camera:w,scene:A,onPointerMissed:R,onCreated:O,...P}){M.useMemo(()=>tfe(hue),[]);const D=Uue(),[F,B]=mfe({scroll:!0,debounce:{scroll:50,resize:0},...r}),U=M.useRef(null),V=M.useRef(null);M.useImperativeHandle(n,()=>U.current);const Q=J8(R),[X,ee]=M.useState(!1),[ae,Z]=M.useState(!1);if(X)throw X;if(ae)throw ae;const K=M.useRef(null);P_(()=>{const ce=U.current;if(B.width>0&&B.height>0&&ce){K.current||(K.current=cfe(ce));async function q(){await K.current.configure({gl:o,scene:A,events:l,shadows:h,linear:v,flat:_,legacy:x,orthographic:C,frameloop:c,dpr:p,performance:m,raycaster:b,camera:w,size:B,onPointerMissed:(...J)=>Q.current==null?void 0:Q.current(...J),onCreated:J=>{J.events.connect==null||J.events.connect(s?Lue(s)?s.current:s:V.current),f&&J.setEvents({compute:(he,ue)=>{const j=he[f+"X"],pe=he[f+"Y"];ue.pointer.set(j/ue.size.width*2-1,-(pe/ue.size.height)*2+1),ue.raycaster.setFromCamera(ue.pointer,ue.camera)}}),O==null||O(J)}}),K.current.render(xt.jsx(D,{children:xt.jsx(Fue,{set:Z,children:xt.jsx(M.Suspense,{fallback:xt.jsx(Bue,{set:ee}),children:e??null})})}))}q()}}),M.useEffect(()=>{const ce=U.current;if(ce)return()=>c5(ce)},[]);const te=s?"none":"auto";return xt.jsx("div",{ref:V,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:te,...a},...P,children:xt.jsx("div",{ref:F,style:{width:"100%",height:"100%"},children:xt.jsx("canvas",{ref:U,style:{display:"block"},children:t})})})}function Sfe(n){return xt.jsx(q8,{children:xt.jsx(_fe,{...n})})}var xfe=Object.defineProperty,wfe=(n,e,t)=>e in n?xfe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Cfe=(n,e,t)=>(wfe(n,e+"",t),t);class Efe{constructor(){Cfe(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const a=this._listeners[e];if(a!==void 0){const o=a.indexOf(t);o!==-1&&a.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const a=r.slice(0);for(let o=0,l=a.length;o<l;o++)a[o].call(this,e);e.target=null}}}var Mfe=Object.defineProperty,Tfe=(n,e,t)=>e in n?Mfe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ct=(n,e,t)=>(Tfe(n,typeof e!="symbol"?e+"":e,t),t);let Afe=class extends xi{constructor(e,t){super(),Ct(this,"isTransformControls",!0),Ct(this,"visible",!1),Ct(this,"domElement"),Ct(this,"raycaster",new uI),Ct(this,"gizmo"),Ct(this,"plane"),Ct(this,"tempVector",new ye),Ct(this,"tempVector2",new ye),Ct(this,"tempQuaternion",new Xi),Ct(this,"unit",{X:new ye(1,0,0),Y:new ye(0,1,0),Z:new ye(0,0,1)}),Ct(this,"pointStart",new ye),Ct(this,"pointEnd",new ye),Ct(this,"offset",new ye),Ct(this,"rotationAxis",new ye),Ct(this,"startNorm",new ye),Ct(this,"endNorm",new ye),Ct(this,"rotationAngle",0),Ct(this,"cameraPosition",new ye),Ct(this,"cameraQuaternion",new Xi),Ct(this,"cameraScale",new ye),Ct(this,"parentPosition",new ye),Ct(this,"parentQuaternion",new Xi),Ct(this,"parentQuaternionInv",new Xi),Ct(this,"parentScale",new ye),Ct(this,"worldPositionStart",new ye),Ct(this,"worldQuaternionStart",new Xi),Ct(this,"worldScaleStart",new ye),Ct(this,"worldPosition",new ye),Ct(this,"worldQuaternion",new Xi),Ct(this,"worldQuaternionInv",new Xi),Ct(this,"worldScale",new ye),Ct(this,"eye",new ye),Ct(this,"positionStart",new ye),Ct(this,"quaternionStart",new Xi),Ct(this,"scaleStart",new ye),Ct(this,"camera"),Ct(this,"object"),Ct(this,"enabled",!0),Ct(this,"axis",null),Ct(this,"mode","translate"),Ct(this,"translationSnap",null),Ct(this,"rotationSnap",null),Ct(this,"scaleSnap",null),Ct(this,"space","world"),Ct(this,"size",1),Ct(this,"dragging",!1),Ct(this,"showX",!0),Ct(this,"showY",!0),Ct(this,"showZ",!0),Ct(this,"changeEvent",{type:"change"}),Ct(this,"mouseDownEvent",{type:"mouseDown",mode:this.mode}),Ct(this,"mouseUpEvent",{type:"mouseUp",mode:this.mode}),Ct(this,"objectChangeEvent",{type:"objectChange"}),Ct(this,"intersectObjectWithRay",(a,o,l)=>{const s=o.intersectObject(a,!0);for(let f=0;f<s.length;f++)if(s[f].object.visible||l)return s[f];return!1}),Ct(this,"attach",a=>(this.object=a,this.visible=!0,this)),Ct(this,"detach",()=>(this.object=void 0,this.visible=!1,this.axis=null,this)),Ct(this,"reset",()=>this.enabled?(this.dragging&&this.object!==void 0&&(this.object.position.copy(this.positionStart),this.object.quaternion.copy(this.quaternionStart),this.object.scale.copy(this.scaleStart),this.dispatchEvent(this.changeEvent),this.dispatchEvent(this.objectChangeEvent),this.pointStart.copy(this.pointEnd)),this):this),Ct(this,"updateMatrixWorld",()=>{this.object!==void 0&&(this.object.updateMatrixWorld(),this.object.parent===null?console.error("TransformControls: The attached 3D object must be a part of the scene graph."):this.object.parent.matrixWorld.decompose(this.parentPosition,this.parentQuaternion,this.parentScale),this.object.matrixWorld.decompose(this.worldPosition,this.worldQuaternion,this.worldScale),this.parentQuaternionInv.copy(this.parentQuaternion).invert(),this.worldQuaternionInv.copy(this.worldQuaternion).invert()),this.camera.updateMatrixWorld(),this.camera.matrixWorld.decompose(this.cameraPosition,this.cameraQuaternion,this.cameraScale),this.eye.copy(this.cameraPosition).sub(this.worldPosition).normalize(),super.updateMatrixWorld()}),Ct(this,"pointerHover",a=>{if(this.object===void 0||this.dragging===!0)return;this.raycaster.setFromCamera(a,this.camera);const o=this.intersectObjectWithRay(this.gizmo.picker[this.mode],this.raycaster);o?this.axis=o.object.name:this.axis=null}),Ct(this,"pointerDown",a=>{if(!(this.object===void 0||this.dragging===!0||a.button!==0)&&this.axis!==null){this.raycaster.setFromCamera(a,this.camera);const o=this.intersectObjectWithRay(this.plane,this.raycaster,!0);if(o){let l=this.space;if(this.mode==="scale"?l="local":(this.axis==="E"||this.axis==="XYZE"||this.axis==="XYZ")&&(l="world"),l==="local"&&this.mode==="rotate"){const s=this.rotationSnap;this.axis==="X"&&s&&(this.object.rotation.x=Math.round(this.object.rotation.x/s)*s),this.axis==="Y"&&s&&(this.object.rotation.y=Math.round(this.object.rotation.y/s)*s),this.axis==="Z"&&s&&(this.object.rotation.z=Math.round(this.object.rotation.z/s)*s)}this.object.updateMatrixWorld(),this.object.parent&&this.object.parent.updateMatrixWorld(),this.positionStart.copy(this.object.position),this.quaternionStart.copy(this.object.quaternion),this.scaleStart.copy(this.object.scale),this.object.matrixWorld.decompose(this.worldPositionStart,this.worldQuaternionStart,this.worldScaleStart),this.pointStart.copy(o.point).sub(this.worldPositionStart)}this.dragging=!0,this.mouseDownEvent.mode=this.mode,this.dispatchEvent(this.mouseDownEvent)}}),Ct(this,"pointerMove",a=>{const o=this.axis,l=this.mode,s=this.object;let f=this.space;if(l==="scale"?f="local":(o==="E"||o==="XYZE"||o==="XYZ")&&(f="world"),s===void 0||o===null||this.dragging===!1||a.button!==-1)return;this.raycaster.setFromCamera(a,this.camera);const h=this.intersectObjectWithRay(this.plane,this.raycaster,!0);if(h){if(this.pointEnd.copy(h.point).sub(this.worldPositionStart),l==="translate")this.offset.copy(this.pointEnd).sub(this.pointStart),f==="local"&&o!=="XYZ"&&this.offset.applyQuaternion(this.worldQuaternionInv),o.indexOf("X")===-1&&(this.offset.x=0),o.indexOf("Y")===-1&&(this.offset.y=0),o.indexOf("Z")===-1&&(this.offset.z=0),f==="local"&&o!=="XYZ"?this.offset.applyQuaternion(this.quaternionStart).divide(this.parentScale):this.offset.applyQuaternion(this.parentQuaternionInv).divide(this.parentScale),s.position.copy(this.offset).add(this.positionStart),this.translationSnap&&(f==="local"&&(s.position.applyQuaternion(this.tempQuaternion.copy(this.quaternionStart).invert()),o.search("X")!==-1&&(s.position.x=Math.round(s.position.x/this.translationSnap)*this.translationSnap),o.search("Y")!==-1&&(s.position.y=Math.round(s.position.y/this.translationSnap)*this.translationSnap),o.search("Z")!==-1&&(s.position.z=Math.round(s.position.z/this.translationSnap)*this.translationSnap),s.position.applyQuaternion(this.quaternionStart)),f==="world"&&(s.parent&&s.position.add(this.tempVector.setFromMatrixPosition(s.parent.matrixWorld)),o.search("X")!==-1&&(s.position.x=Math.round(s.position.x/this.translationSnap)*this.translationSnap),o.search("Y")!==-1&&(s.position.y=Math.round(s.position.y/this.translationSnap)*this.translationSnap),o.search("Z")!==-1&&(s.position.z=Math.round(s.position.z/this.translationSnap)*this.translationSnap),s.parent&&s.position.sub(this.tempVector.setFromMatrixPosition(s.parent.matrixWorld))));else if(l==="scale"){if(o.search("XYZ")!==-1){let v=this.pointEnd.length()/this.pointStart.length();this.pointEnd.dot(this.pointStart)<0&&(v*=-1),this.tempVector2.set(v,v,v)}else this.tempVector.copy(this.pointStart),this.tempVector2.copy(this.pointEnd),this.tempVector.applyQuaternion(this.worldQuaternionInv),this.tempVector2.applyQuaternion(this.worldQuaternionInv),this.tempVector2.divide(this.tempVector),o.search("X")===-1&&(this.tempVector2.x=1),o.search("Y")===-1&&(this.tempVector2.y=1),o.search("Z")===-1&&(this.tempVector2.z=1);s.scale.copy(this.scaleStart).multiply(this.tempVector2),this.scaleSnap&&this.object&&(o.search("X")!==-1&&(this.object.scale.x=Math.round(s.scale.x/this.scaleSnap)*this.scaleSnap||this.scaleSnap),o.search("Y")!==-1&&(s.scale.y=Math.round(s.scale.y/this.scaleSnap)*this.scaleSnap||this.scaleSnap),o.search("Z")!==-1&&(s.scale.z=Math.round(s.scale.z/this.scaleSnap)*this.scaleSnap||this.scaleSnap))}else if(l==="rotate"){this.offset.copy(this.pointEnd).sub(this.pointStart);const v=20/this.worldPosition.distanceTo(this.tempVector.setFromMatrixPosition(this.camera.matrixWorld));o==="E"?(this.rotationAxis.copy(this.eye),this.rotationAngle=this.pointEnd.angleTo(this.pointStart),this.startNorm.copy(this.pointStart).normalize(),this.endNorm.copy(this.pointEnd).normalize(),this.rotationAngle*=this.endNorm.cross(this.startNorm).dot(this.eye)<0?1:-1):o==="XYZE"?(this.rotationAxis.copy(this.offset).cross(this.eye).normalize(),this.rotationAngle=this.offset.dot(this.tempVector.copy(this.rotationAxis).cross(this.eye))*v):(o==="X"||o==="Y"||o==="Z")&&(this.rotationAxis.copy(this.unit[o]),this.tempVector.copy(this.unit[o]),f==="local"&&this.tempVector.applyQuaternion(this.worldQuaternion),this.rotationAngle=this.offset.dot(this.tempVector.cross(this.eye).normalize())*v),this.rotationSnap&&(this.rotationAngle=Math.round(this.rotationAngle/this.rotationSnap)*this.rotationSnap),f==="local"&&o!=="E"&&o!=="XYZE"?(s.quaternion.copy(this.quaternionStart),s.quaternion.multiply(this.tempQuaternion.setFromAxisAngle(this.rotationAxis,this.rotationAngle)).normalize()):(this.rotationAxis.applyQuaternion(this.parentQuaternionInv),s.quaternion.copy(this.tempQuaternion.setFromAxisAngle(this.rotationAxis,this.rotationAngle)),s.quaternion.multiply(this.quaternionStart).normalize())}this.dispatchEvent(this.changeEvent),this.dispatchEvent(this.objectChangeEvent)}}),Ct(this,"pointerUp",a=>{a.button===0&&(this.dragging&&this.axis!==null&&(this.mouseUpEvent.mode=this.mode,this.dispatchEvent(this.mouseUpEvent)),this.dragging=!1,this.axis=null)}),Ct(this,"getPointer",a=>{var o;if(this.domElement&&((o=this.domElement.ownerDocument)!=null&&o.pointerLockElement))return{x:0,y:0,button:a.button};{const l=a.changedTouches?a.changedTouches[0]:a,s=this.domElement.getBoundingClientRect();return{x:(l.clientX-s.left)/s.width*2-1,y:-(l.clientY-s.top)/s.height*2+1,button:a.button}}}),Ct(this,"onPointerHover",a=>{if(this.enabled)switch(a.pointerType){case"mouse":case"pen":this.pointerHover(this.getPointer(a));break}}),Ct(this,"onPointerDown",a=>{!this.enabled||!this.domElement||(this.domElement.style.touchAction="none",this.domElement.ownerDocument.addEventListener("pointermove",this.onPointerMove),this.pointerHover(this.getPointer(a)),this.pointerDown(this.getPointer(a)))}),Ct(this,"onPointerMove",a=>{this.enabled&&this.pointerMove(this.getPointer(a))}),Ct(this,"onPointerUp",a=>{!this.enabled||!this.domElement||(this.domElement.style.touchAction="",this.domElement.ownerDocument.removeEventListener("pointermove",this.onPointerMove),this.pointerUp(this.getPointer(a)))}),Ct(this,"getMode",()=>this.mode),Ct(this,"setMode",a=>{this.mode=a}),Ct(this,"setTranslationSnap",a=>{this.translationSnap=a}),Ct(this,"setRotationSnap",a=>{this.rotationSnap=a}),Ct(this,"setScaleSnap",a=>{this.scaleSnap=a}),Ct(this,"setSize",a=>{this.size=a}),Ct(this,"setSpace",a=>{this.space=a}),Ct(this,"update",()=>{console.warn("THREE.TransformControls: update function has no more functionality and therefore has been deprecated.")}),Ct(this,"connect",a=>{a===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.domElement=a,this.domElement.addEventListener("pointerdown",this.onPointerDown),this.domElement.addEventListener("pointermove",this.onPointerHover),this.domElement.ownerDocument.addEventListener("pointerup",this.onPointerUp)}),Ct(this,"dispose",()=>{var a,o,l,s,f,h;(a=this.domElement)==null||a.removeEventListener("pointerdown",this.onPointerDown),(o=this.domElement)==null||o.removeEventListener("pointermove",this.onPointerHover),(s=(l=this.domElement)==null?void 0:l.ownerDocument)==null||s.removeEventListener("pointermove",this.onPointerMove),(h=(f=this.domElement)==null?void 0:f.ownerDocument)==null||h.removeEventListener("pointerup",this.onPointerUp),this.traverse(v=>{const _=v;_.geometry&&_.geometry.dispose(),_.material&&_.material.dispose()})}),this.domElement=t,this.camera=e,this.gizmo=new Rfe,this.add(this.gizmo),this.plane=new Ofe,this.add(this.plane);const r=(a,o)=>{let l=o;Object.defineProperty(this,a,{get:function(){return l!==void 0?l:o},set:function(s){l!==s&&(l=s,this.plane[a]=s,this.gizmo[a]=s,this.dispatchEvent({type:a+"-changed",value:s}),this.dispatchEvent(this.changeEvent))}}),this[a]=o,this.plane[a]=o,this.gizmo[a]=o};r("camera",this.camera),r("object",this.object),r("enabled",this.enabled),r("axis",this.axis),r("mode",this.mode),r("translationSnap",this.translationSnap),r("rotationSnap",this.rotationSnap),r("scaleSnap",this.scaleSnap),r("space",this.space),r("size",this.size),r("dragging",this.dragging),r("showX",this.showX),r("showY",this.showY),r("showZ",this.showZ),r("worldPosition",this.worldPosition),r("worldPositionStart",this.worldPositionStart),r("worldQuaternion",this.worldQuaternion),r("worldQuaternionStart",this.worldQuaternionStart),r("cameraPosition",this.cameraPosition),r("cameraQuaternion",this.cameraQuaternion),r("pointStart",this.pointStart),r("pointEnd",this.pointEnd),r("rotationAxis",this.rotationAxis),r("rotationAngle",this.rotationAngle),r("eye",this.eye),t!==void 0&&this.connect(t)}};class Rfe extends xi{constructor(){super(),Ct(this,"isTransformControlsGizmo",!0),Ct(this,"type","TransformControlsGizmo"),Ct(this,"tempVector",new ye(0,0,0)),Ct(this,"tempEuler",new zs),Ct(this,"alignVector",new ye(0,1,0)),Ct(this,"zeroVector",new ye(0,0,0)),Ct(this,"lookAtMatrix",new kn),Ct(this,"tempQuaternion",new Xi),Ct(this,"tempQuaternion2",new Xi),Ct(this,"identityQuaternion",new Xi),Ct(this,"unitX",new ye(1,0,0)),Ct(this,"unitY",new ye(0,1,0)),Ct(this,"unitZ",new ye(0,0,1)),Ct(this,"gizmo"),Ct(this,"picker"),Ct(this,"helper"),Ct(this,"rotationAxis",new ye),Ct(this,"cameraPosition",new ye),Ct(this,"worldPositionStart",new ye),Ct(this,"worldQuaternionStart",new Xi),Ct(this,"worldPosition",new ye),Ct(this,"worldQuaternion",new Xi),Ct(this,"eye",new ye),Ct(this,"camera",null),Ct(this,"enabled",!0),Ct(this,"axis",null),Ct(this,"mode","translate"),Ct(this,"space","world"),Ct(this,"size",1),Ct(this,"dragging",!1),Ct(this,"showX",!0),Ct(this,"showY",!0),Ct(this,"showZ",!0),Ct(this,"updateMatrixWorld",()=>{let q=this.space;this.mode==="scale"&&(q="local");const J=q==="local"?this.worldQuaternion:this.identityQuaternion;this.gizmo.translate.visible=this.mode==="translate",this.gizmo.rotate.visible=this.mode==="rotate",this.gizmo.scale.visible=this.mode==="scale",this.helper.translate.visible=this.mode==="translate",this.helper.rotate.visible=this.mode==="rotate",this.helper.scale.visible=this.mode==="scale";let he=[];he=he.concat(this.picker[this.mode].children),he=he.concat(this.gizmo[this.mode].children),he=he.concat(this.helper[this.mode].children);for(let ue=0;ue<he.length;ue++){const j=he[ue];j.visible=!0,j.rotation.set(0,0,0),j.position.copy(this.worldPosition);let pe;if(this.camera.isOrthographicCamera?pe=(this.camera.top-this.camera.bottom)/this.camera.zoom:pe=this.worldPosition.distanceTo(this.cameraPosition)*Math.min(1.9*Math.tan(Math.PI*this.camera.fov/360)/this.camera.zoom,7),j.scale.set(1,1,1).multiplyScalar(pe*this.size/7),j.tag==="helper"){j.visible=!1,j.name==="AXIS"?(j.position.copy(this.worldPositionStart),j.visible=!!this.axis,this.axis==="X"&&(this.tempQuaternion.setFromEuler(this.tempEuler.set(0,0,0)),j.quaternion.copy(J).multiply(this.tempQuaternion),Math.abs(this.alignVector.copy(this.unitX).applyQuaternion(J).dot(this.eye))>.9&&(j.visible=!1)),this.axis==="Y"&&(this.tempQuaternion.setFromEuler(this.tempEuler.set(0,0,Math.PI/2)),j.quaternion.copy(J).multiply(this.tempQuaternion),Math.abs(this.alignVector.copy(this.unitY).applyQuaternion(J).dot(this.eye))>.9&&(j.visible=!1)),this.axis==="Z"&&(this.tempQuaternion.setFromEuler(this.tempEuler.set(0,Math.PI/2,0)),j.quaternion.copy(J).multiply(this.tempQuaternion),Math.abs(this.alignVector.copy(this.unitZ).applyQuaternion(J).dot(this.eye))>.9&&(j.visible=!1)),this.axis==="XYZE"&&(this.tempQuaternion.setFromEuler(this.tempEuler.set(0,Math.PI/2,0)),this.alignVector.copy(this.rotationAxis),j.quaternion.setFromRotationMatrix(this.lookAtMatrix.lookAt(this.zeroVector,this.alignVector,this.unitY)),j.quaternion.multiply(this.tempQuaternion),j.visible=this.dragging),this.axis==="E"&&(j.visible=!1)):j.name==="START"?(j.position.copy(this.worldPositionStart),j.visible=this.dragging):j.name==="END"?(j.position.copy(this.worldPosition),j.visible=this.dragging):j.name==="DELTA"?(j.position.copy(this.worldPositionStart),j.quaternion.copy(this.worldQuaternionStart),this.tempVector.set(1e-10,1e-10,1e-10).add(this.worldPositionStart).sub(this.worldPosition).multiplyScalar(-1),this.tempVector.applyQuaternion(this.worldQuaternionStart.clone().invert()),j.scale.copy(this.tempVector),j.visible=this.dragging):(j.quaternion.copy(J),this.dragging?j.position.copy(this.worldPositionStart):j.position.copy(this.worldPosition),this.axis&&(j.visible=this.axis.search(j.name)!==-1));continue}j.quaternion.copy(J),this.mode==="translate"||this.mode==="scale"?((j.name==="X"||j.name==="XYZX")&&Math.abs(this.alignVector.copy(this.unitX).applyQuaternion(J).dot(this.eye))>.99&&(j.scale.set(1e-10,1e-10,1e-10),j.visible=!1),(j.name==="Y"||j.name==="XYZY")&&Math.abs(this.alignVector.copy(this.unitY).applyQuaternion(J).dot(this.eye))>.99&&(j.scale.set(1e-10,1e-10,1e-10),j.visible=!1),(j.name==="Z"||j.name==="XYZZ")&&Math.abs(this.alignVector.copy(this.unitZ).applyQuaternion(J).dot(this.eye))>.99&&(j.scale.set(1e-10,1e-10,1e-10),j.visible=!1),j.name==="XY"&&Math.abs(this.alignVector.copy(this.unitZ).applyQuaternion(J).dot(this.eye))<.2&&(j.scale.set(1e-10,1e-10,1e-10),j.visible=!1),j.name==="YZ"&&Math.abs(this.alignVector.copy(this.unitX).applyQuaternion(J).dot(this.eye))<.2&&(j.scale.set(1e-10,1e-10,1e-10),j.visible=!1),j.name==="XZ"&&Math.abs(this.alignVector.copy(this.unitY).applyQuaternion(J).dot(this.eye))<.2&&(j.scale.set(1e-10,1e-10,1e-10),j.visible=!1),j.name.search("X")!==-1&&(this.alignVector.copy(this.unitX).applyQuaternion(J).dot(this.eye)<0?j.tag==="fwd"?j.visible=!1:j.scale.x*=-1:j.tag==="bwd"&&(j.visible=!1)),j.name.search("Y")!==-1&&(this.alignVector.copy(this.unitY).applyQuaternion(J).dot(this.eye)<0?j.tag==="fwd"?j.visible=!1:j.scale.y*=-1:j.tag==="bwd"&&(j.visible=!1)),j.name.search("Z")!==-1&&(this.alignVector.copy(this.unitZ).applyQuaternion(J).dot(this.eye)<0?j.tag==="fwd"?j.visible=!1:j.scale.z*=-1:j.tag==="bwd"&&(j.visible=!1))):this.mode==="rotate"&&(this.tempQuaternion2.copy(J),this.alignVector.copy(this.eye).applyQuaternion(this.tempQuaternion.copy(J).invert()),j.name.search("E")!==-1&&j.quaternion.setFromRotationMatrix(this.lookAtMatrix.lookAt(this.eye,this.zeroVector,this.unitY)),j.name==="X"&&(this.tempQuaternion.setFromAxisAngle(this.unitX,Math.atan2(-this.alignVector.y,this.alignVector.z)),this.tempQuaternion.multiplyQuaternions(this.tempQuaternion2,this.tempQuaternion),j.quaternion.copy(this.tempQuaternion)),j.name==="Y"&&(this.tempQuaternion.setFromAxisAngle(this.unitY,Math.atan2(this.alignVector.x,this.alignVector.z)),this.tempQuaternion.multiplyQuaternions(this.tempQuaternion2,this.tempQuaternion),j.quaternion.copy(this.tempQuaternion)),j.name==="Z"&&(this.tempQuaternion.setFromAxisAngle(this.unitZ,Math.atan2(this.alignVector.y,this.alignVector.x)),this.tempQuaternion.multiplyQuaternions(this.tempQuaternion2,this.tempQuaternion),j.quaternion.copy(this.tempQuaternion))),j.visible=j.visible&&(j.name.indexOf("X")===-1||this.showX),j.visible=j.visible&&(j.name.indexOf("Y")===-1||this.showY),j.visible=j.visible&&(j.name.indexOf("Z")===-1||this.showZ),j.visible=j.visible&&(j.name.indexOf("E")===-1||this.showX&&this.showY&&this.showZ),j.material.tempOpacity=j.material.tempOpacity||j.material.opacity,j.material.tempColor=j.material.tempColor||j.material.color.clone(),j.material.color.copy(j.material.tempColor),j.material.opacity=j.material.tempOpacity,this.enabled?this.axis&&(j.name===this.axis?(j.material.opacity=1,j.material.color.lerp(new on(1,1,1),.5)):this.axis.split("").some(function(_e){return j.name===_e})?(j.material.opacity=1,j.material.color.lerp(new on(1,1,1),.5)):(j.material.opacity*=.25,j.material.color.lerp(new on(1,1,1),.5))):(j.material.opacity*=.5,j.material.color.lerp(new on(1,1,1),.5))}super.updateMatrixWorld()});const e=new af({depthTest:!1,depthWrite:!1,transparent:!0,side:Fl,fog:!1,toneMapped:!1}),t=new Fo({depthTest:!1,depthWrite:!1,transparent:!0,linewidth:1,fog:!1,toneMapped:!1}),r=e.clone();r.opacity=.15;const a=e.clone();a.opacity=.33;const o=e.clone();o.color.set(16711680);const l=e.clone();l.color.set(65280);const s=e.clone();s.color.set(255);const f=e.clone();f.opacity=.25;const h=f.clone();h.color.set(16776960);const v=f.clone();v.color.set(65535);const _=f.clone();_.color.set(16711935),e.clone().color.set(16776960);const C=t.clone();C.color.set(16711680);const c=t.clone();c.color.set(65280);const p=t.clone();p.color.set(255);const m=t.clone();m.color.set(65535);const b=t.clone();b.color.set(16711935);const w=t.clone();w.color.set(16776960);const A=t.clone();A.color.set(7895160);const R=w.clone();R.opacity=.25;const O=new lo(0,.05,.2,12,1,!1),P=new Rs(.125,.125,.125),D=new Jn;D.setAttribute("position",new mn([0,0,0,1,0,0],3));const F=(q,J)=>{const he=new Jn,ue=[];for(let j=0;j<=64*J;++j)ue.push(0,Math.cos(j/32*Math.PI)*q,Math.sin(j/32*Math.PI)*q);return he.setAttribute("position",new mn(ue,3)),he},B=()=>{const q=new Jn;return q.setAttribute("position",new mn([0,0,0,1,1,1],3)),q},U={X:[[new ln(O,o),[1,0,0],[0,0,-Math.PI/2],null,"fwd"],[new ln(O,o),[1,0,0],[0,0,Math.PI/2],null,"bwd"],[new bi(D,C)]],Y:[[new ln(O,l),[0,1,0],null,null,"fwd"],[new ln(O,l),[0,1,0],[Math.PI,0,0],null,"bwd"],[new bi(D,c),null,[0,0,Math.PI/2]]],Z:[[new ln(O,s),[0,0,1],[Math.PI/2,0,0],null,"fwd"],[new ln(O,s),[0,0,1],[-Math.PI/2,0,0],null,"bwd"],[new bi(D,p),null,[0,-Math.PI/2,0]]],XYZ:[[new ln(new Bl(.1,0),f.clone()),[0,0,0],[0,0,0]]],XY:[[new ln(new tl(.295,.295),h.clone()),[.15,.15,0]],[new bi(D,w),[.18,.3,0],null,[.125,1,1]],[new bi(D,w),[.3,.18,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new ln(new tl(.295,.295),v.clone()),[0,.15,.15],[0,Math.PI/2,0]],[new bi(D,m),[0,.18,.3],[0,0,Math.PI/2],[.125,1,1]],[new bi(D,m),[0,.3,.18],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new ln(new tl(.295,.295),_.clone()),[.15,0,.15],[-Math.PI/2,0,0]],[new bi(D,b),[.18,0,.3],null,[.125,1,1]],[new bi(D,b),[.3,0,.18],[0,-Math.PI/2,0],[.125,1,1]]]},V={X:[[new ln(new lo(.2,0,1,4,1,!1),r),[.6,0,0],[0,0,-Math.PI/2]]],Y:[[new ln(new lo(.2,0,1,4,1,!1),r),[0,.6,0]]],Z:[[new ln(new lo(.2,0,1,4,1,!1),r),[0,0,.6],[Math.PI/2,0,0]]],XYZ:[[new ln(new Bl(.2,0),r)]],XY:[[new ln(new tl(.4,.4),r),[.2,.2,0]]],YZ:[[new ln(new tl(.4,.4),r),[0,.2,.2],[0,Math.PI/2,0]]],XZ:[[new ln(new tl(.4,.4),r),[.2,0,.2],[-Math.PI/2,0,0]]]},Q={START:[[new ln(new Bl(.01,2),a),null,null,null,"helper"]],END:[[new ln(new Bl(.01,2),a),null,null,null,"helper"]],DELTA:[[new bi(B(),a),null,null,null,"helper"]],X:[[new bi(D,a.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new bi(D,a.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new bi(D,a.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},X={X:[[new bi(F(1,.5),C)],[new ln(new Bl(.04,0),o),[0,0,.99],null,[1,3,1]]],Y:[[new bi(F(1,.5),c),null,[0,0,-Math.PI/2]],[new ln(new Bl(.04,0),l),[0,0,.99],null,[3,1,1]]],Z:[[new bi(F(1,.5),p),null,[0,Math.PI/2,0]],[new ln(new Bl(.04,0),s),[.99,0,0],null,[1,3,1]]],E:[[new bi(F(1.25,1),R),null,[0,Math.PI/2,0]],[new ln(new lo(.03,0,.15,4,1,!1),R),[1.17,0,0],[0,0,-Math.PI/2],[1,1,.001]],[new ln(new lo(.03,0,.15,4,1,!1),R),[-1.17,0,0],[0,0,Math.PI/2],[1,1,.001]],[new ln(new lo(.03,0,.15,4,1,!1),R),[0,-1.17,0],[Math.PI,0,0],[1,1,.001]],[new ln(new lo(.03,0,.15,4,1,!1),R),[0,1.17,0],[0,0,0],[1,1,.001]]],XYZE:[[new bi(F(1,1),A),null,[0,Math.PI/2,0]]]},ee={AXIS:[[new bi(D,a.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]]},ae={X:[[new ln(new Mh(1,.1,4,24),r),[0,0,0],[0,-Math.PI/2,-Math.PI/2]]],Y:[[new ln(new Mh(1,.1,4,24),r),[0,0,0],[Math.PI/2,0,0]]],Z:[[new ln(new Mh(1,.1,4,24),r),[0,0,0],[0,0,-Math.PI/2]]],E:[[new ln(new Mh(1.25,.1,2,24),r)]],XYZE:[[new ln(new _0(.7,10,8),r)]]},Z={X:[[new ln(P,o),[.8,0,0],[0,0,-Math.PI/2]],[new bi(D,C),null,null,[.8,1,1]]],Y:[[new ln(P,l),[0,.8,0]],[new bi(D,c),null,[0,0,Math.PI/2],[.8,1,1]]],Z:[[new ln(P,s),[0,0,.8],[Math.PI/2,0,0]],[new bi(D,p),null,[0,-Math.PI/2,0],[.8,1,1]]],XY:[[new ln(P,h),[.85,.85,0],null,[2,2,.2]],[new bi(D,w),[.855,.98,0],null,[.125,1,1]],[new bi(D,w),[.98,.855,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new ln(P,v),[0,.85,.85],null,[.2,2,2]],[new bi(D,m),[0,.855,.98],[0,0,Math.PI/2],[.125,1,1]],[new bi(D,m),[0,.98,.855],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new ln(P,_),[.85,0,.85],null,[2,.2,2]],[new bi(D,b),[.855,0,.98],null,[.125,1,1]],[new bi(D,b),[.98,0,.855],[0,-Math.PI/2,0],[.125,1,1]]],XYZX:[[new ln(new Rs(.125,.125,.125),f.clone()),[1.1,0,0]]],XYZY:[[new ln(new Rs(.125,.125,.125),f.clone()),[0,1.1,0]]],XYZZ:[[new ln(new Rs(.125,.125,.125),f.clone()),[0,0,1.1]]]},K={X:[[new ln(new lo(.2,0,.8,4,1,!1),r),[.5,0,0],[0,0,-Math.PI/2]]],Y:[[new ln(new lo(.2,0,.8,4,1,!1),r),[0,.5,0]]],Z:[[new ln(new lo(.2,0,.8,4,1,!1),r),[0,0,.5],[Math.PI/2,0,0]]],XY:[[new ln(P,r),[.85,.85,0],null,[3,3,.2]]],YZ:[[new ln(P,r),[0,.85,.85],null,[.2,3,3]]],XZ:[[new ln(P,r),[.85,0,.85],null,[3,.2,3]]],XYZX:[[new ln(new Rs(.2,.2,.2),r),[1.1,0,0]]],XYZY:[[new ln(new Rs(.2,.2,.2),r),[0,1.1,0]]],XYZZ:[[new ln(new Rs(.2,.2,.2),r),[0,0,1.1]]]},te={X:[[new bi(D,a.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new bi(D,a.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new bi(D,a.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},ce=q=>{const J=new xi;for(let he in q)for(let ue=q[he].length;ue--;){const j=q[he][ue][0].clone(),pe=q[he][ue][1],_e=q[he][ue][2],Re=q[he][ue][3],Me=q[he][ue][4];j.name=he,j.tag=Me,pe&&j.position.set(pe[0],pe[1],pe[2]),_e&&j.rotation.set(_e[0],_e[1],_e[2]),Re&&j.scale.set(Re[0],Re[1],Re[2]),j.updateMatrix();const Ae=j.geometry.clone();Ae.applyMatrix4(j.matrix),j.geometry=Ae,j.renderOrder=1/0,j.position.set(0,0,0),j.rotation.set(0,0,0),j.scale.set(1,1,1),J.add(j)}return J};this.gizmo={},this.picker={},this.helper={},this.add(this.gizmo.translate=ce(U)),this.add(this.gizmo.rotate=ce(X)),this.add(this.gizmo.scale=ce(Z)),this.add(this.picker.translate=ce(V)),this.add(this.picker.rotate=ce(ae)),this.add(this.picker.scale=ce(K)),this.add(this.helper.translate=ce(Q)),this.add(this.helper.rotate=ce(ee)),this.add(this.helper.scale=ce(te)),this.picker.translate.visible=!1,this.picker.rotate.visible=!1,this.picker.scale.visible=!1}}class Ofe extends ln{constructor(){super(new tl(1e5,1e5,2,2),new af({visible:!1,wireframe:!0,side:Fl,transparent:!0,opacity:.1,toneMapped:!1})),Ct(this,"isTransformControlsPlane",!0),Ct(this,"type","TransformControlsPlane"),Ct(this,"unitX",new ye(1,0,0)),Ct(this,"unitY",new ye(0,1,0)),Ct(this,"unitZ",new ye(0,0,1)),Ct(this,"tempVector",new ye),Ct(this,"dirVector",new ye),Ct(this,"alignVector",new ye),Ct(this,"tempMatrix",new kn),Ct(this,"identityQuaternion",new Xi),Ct(this,"cameraQuaternion",new Xi),Ct(this,"worldPosition",new ye),Ct(this,"worldQuaternion",new Xi),Ct(this,"eye",new ye),Ct(this,"axis",null),Ct(this,"mode","translate"),Ct(this,"space","world"),Ct(this,"updateMatrixWorld",()=>{let e=this.space;switch(this.position.copy(this.worldPosition),this.mode==="scale"&&(e="local"),this.unitX.set(1,0,0).applyQuaternion(e==="local"?this.worldQuaternion:this.identityQuaternion),this.unitY.set(0,1,0).applyQuaternion(e==="local"?this.worldQuaternion:this.identityQuaternion),this.unitZ.set(0,0,1).applyQuaternion(e==="local"?this.worldQuaternion:this.identityQuaternion),this.alignVector.copy(this.unitY),this.mode){case"translate":case"scale":switch(this.axis){case"X":this.alignVector.copy(this.eye).cross(this.unitX),this.dirVector.copy(this.unitX).cross(this.alignVector);break;case"Y":this.alignVector.copy(this.eye).cross(this.unitY),this.dirVector.copy(this.unitY).cross(this.alignVector);break;case"Z":this.alignVector.copy(this.eye).cross(this.unitZ),this.dirVector.copy(this.unitZ).cross(this.alignVector);break;case"XY":this.dirVector.copy(this.unitZ);break;case"YZ":this.dirVector.copy(this.unitX);break;case"XZ":this.alignVector.copy(this.unitZ),this.dirVector.copy(this.unitY);break;case"XYZ":case"E":this.dirVector.set(0,0,0);break}break;case"rotate":default:this.dirVector.set(0,0,0)}this.dirVector.length()===0?this.quaternion.copy(this.cameraQuaternion):(this.tempMatrix.lookAt(this.tempVector.set(0,0,0),this.dirVector,this.alignVector),this.quaternion.setFromRotationMatrix(this.tempMatrix)),super.updateMatrixWorld()})}}var Ife=Object.defineProperty,zfe=(n,e,t)=>e in n?Ife(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Dn=(n,e,t)=>(zfe(n,typeof e!="symbol"?e+"":e,t),t);const n1=new zm,KL=new Kf,Pfe=Math.cos(70*(Math.PI/180)),QL=(n,e)=>(n%e+e)%e;let Dfe=class extends Efe{constructor(e,t){super(),Dn(this,"object"),Dn(this,"domElement"),Dn(this,"enabled",!0),Dn(this,"target",new ye),Dn(this,"minDistance",0),Dn(this,"maxDistance",1/0),Dn(this,"minZoom",0),Dn(this,"maxZoom",1/0),Dn(this,"minPolarAngle",0),Dn(this,"maxPolarAngle",Math.PI),Dn(this,"minAzimuthAngle",-1/0),Dn(this,"maxAzimuthAngle",1/0),Dn(this,"enableDamping",!1),Dn(this,"dampingFactor",.05),Dn(this,"enableZoom",!0),Dn(this,"zoomSpeed",1),Dn(this,"enableRotate",!0),Dn(this,"rotateSpeed",1),Dn(this,"enablePan",!0),Dn(this,"panSpeed",1),Dn(this,"screenSpacePanning",!0),Dn(this,"keyPanSpeed",7),Dn(this,"zoomToCursor",!1),Dn(this,"autoRotate",!1),Dn(this,"autoRotateSpeed",2),Dn(this,"reverseOrbit",!1),Dn(this,"reverseHorizontalOrbit",!1),Dn(this,"reverseVerticalOrbit",!1),Dn(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Dn(this,"mouseButtons",{LEFT:Up.ROTATE,MIDDLE:Up.DOLLY,RIGHT:Up.PAN}),Dn(this,"touches",{ONE:Bp.ROTATE,TWO:Bp.DOLLY_PAN}),Dn(this,"target0"),Dn(this,"position0"),Dn(this,"zoom0"),Dn(this,"_domElementKeyEvents",null),Dn(this,"getPolarAngle"),Dn(this,"getAzimuthalAngle"),Dn(this,"setPolarAngle"),Dn(this,"setAzimuthalAngle"),Dn(this,"getDistance"),Dn(this,"getZoomScale"),Dn(this,"listenToKeyEvents"),Dn(this,"stopListenToKeyEvents"),Dn(this,"saveState"),Dn(this,"reset"),Dn(this,"update"),Dn(this,"connect"),Dn(this,"dispose"),Dn(this,"dollyIn"),Dn(this,"dollyOut"),Dn(this,"getScale"),Dn(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>v.phi,this.getAzimuthalAngle=()=>v.theta,this.setPolarAngle=Se=>{let ke=QL(Se,2*Math.PI),bt=v.phi;bt<0&&(bt+=2*Math.PI),ke<0&&(ke+=2*Math.PI);let Te=Math.abs(ke-bt);2*Math.PI-Te<Te&&(ke<bt?ke+=2*Math.PI:bt+=2*Math.PI),_.phi=ke-bt,r.update()},this.setAzimuthalAngle=Se=>{let ke=QL(Se,2*Math.PI),bt=v.theta;bt<0&&(bt+=2*Math.PI),ke<0&&(ke+=2*Math.PI);let Te=Math.abs(ke-bt);2*Math.PI-Te<Te&&(ke<bt?ke+=2*Math.PI:bt+=2*Math.PI),_.theta=ke-bt,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=Se=>{Se.addEventListener("keydown",st),this._domElementKeyEvents=Se},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",st),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(a),r.update(),f=s.NONE},this.update=(()=>{const Se=new ye,ke=new ye(0,1,0),bt=new Xi().setFromUnitVectors(e.up,ke),Te=bt.clone().invert(),St=new ye,Qe=new Xi,pt=2*Math.PI;return function(){const zt=r.object.position;bt.setFromUnitVectors(e.up,ke),Te.copy(bt).invert(),Se.copy(zt).sub(r.target),Se.applyQuaternion(bt),v.setFromVector3(Se),r.autoRotate&&f===s.NONE&&ee(Q()),r.enableDamping?(v.theta+=_.theta*r.dampingFactor,v.phi+=_.phi*r.dampingFactor):(v.theta+=_.theta,v.phi+=_.phi);let Jt=r.minAzimuthAngle,cn=r.maxAzimuthAngle;isFinite(Jt)&&isFinite(cn)&&(Jt<-Math.PI?Jt+=pt:Jt>Math.PI&&(Jt-=pt),cn<-Math.PI?cn+=pt:cn>Math.PI&&(cn-=pt),Jt<=cn?v.theta=Math.max(Jt,Math.min(cn,v.theta)):v.theta=v.theta>(Jt+cn)/2?Math.max(Jt,v.theta):Math.min(cn,v.theta)),v.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,v.phi)),v.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(C,r.dampingFactor):r.target.add(C),r.zoomToCursor&&B||r.object.isOrthographicCamera?v.radius=ue(v.radius):v.radius=ue(v.radius*x),Se.setFromSpherical(v),Se.applyQuaternion(Te),zt.copy(r.target).add(Se),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(_.theta*=1-r.dampingFactor,_.phi*=1-r.dampingFactor,C.multiplyScalar(1-r.dampingFactor)):(_.set(0,0,0),C.set(0,0,0));let Zt=!1;if(r.zoomToCursor&&B){let Dt=null;if(r.object instanceof pa&&r.object.isPerspectiveCamera){const qt=Se.length();Dt=ue(qt*x);const _n=qt-Dt;r.object.position.addScaledVector(D,_n),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const qt=new ye(F.x,F.y,0);qt.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/x)),r.object.updateProjectionMatrix(),Zt=!0;const _n=new ye(F.x,F.y,0);_n.unproject(r.object),r.object.position.sub(_n).add(qt),r.object.updateMatrixWorld(),Dt=Se.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;Dt!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(Dt).add(r.object.position):(n1.origin.copy(r.object.position),n1.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(n1.direction))<Pfe?e.lookAt(r.target):(KL.setFromNormalAndCoplanarPoint(r.object.up,r.target),n1.intersectPlane(KL,r.target))))}else r.object instanceof Oh&&r.object.isOrthographicCamera&&(Zt=x!==1,Zt&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/x)),r.object.updateProjectionMatrix()));return x=1,B=!1,Zt||St.distanceToSquared(r.object.position)>h||8*(1-Qe.dot(r.object.quaternion))>h?(r.dispatchEvent(a),St.copy(r.object.position),Qe.copy(r.object.quaternion),Zt=!1,!0):!1}})(),this.connect=Se=>{r.domElement=Se,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",at),r.domElement.addEventListener("pointerdown",oe),r.domElement.addEventListener("pointercancel",Pe),r.domElement.addEventListener("wheel",mt)},this.dispose=()=>{var Se,ke,bt,Te,St,Qe;r.domElement&&(r.domElement.style.touchAction="auto"),(Se=r.domElement)==null||Se.removeEventListener("contextmenu",at),(ke=r.domElement)==null||ke.removeEventListener("pointerdown",oe),(bt=r.domElement)==null||bt.removeEventListener("pointercancel",Pe),(Te=r.domElement)==null||Te.removeEventListener("wheel",mt),(St=r.domElement)==null||St.ownerDocument.removeEventListener("pointermove",Ee),(Qe=r.domElement)==null||Qe.ownerDocument.removeEventListener("pointerup",Pe),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",st)};const r=this,a={type:"change"},o={type:"start"},l={type:"end"},s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let f=s.NONE;const h=1e-6,v=new nR,_=new nR;let x=1;const C=new ye,c=new At,p=new At,m=new At,b=new At,w=new At,A=new At,R=new At,O=new At,P=new At,D=new ye,F=new At;let B=!1;const U=[],V={};function Q(){return 2*Math.PI/60/60*r.autoRotateSpeed}function X(){return Math.pow(.95,r.zoomSpeed)}function ee(Se){r.reverseOrbit||r.reverseHorizontalOrbit?_.theta+=Se:_.theta-=Se}function ae(Se){r.reverseOrbit||r.reverseVerticalOrbit?_.phi+=Se:_.phi-=Se}const Z=(()=>{const Se=new ye;return function(bt,Te){Se.setFromMatrixColumn(Te,0),Se.multiplyScalar(-bt),C.add(Se)}})(),K=(()=>{const Se=new ye;return function(bt,Te){r.screenSpacePanning===!0?Se.setFromMatrixColumn(Te,1):(Se.setFromMatrixColumn(Te,0),Se.crossVectors(r.object.up,Se)),Se.multiplyScalar(bt),C.add(Se)}})(),te=(()=>{const Se=new ye;return function(bt,Te){const St=r.domElement;if(St&&r.object instanceof pa&&r.object.isPerspectiveCamera){const Qe=r.object.position;Se.copy(Qe).sub(r.target);let pt=Se.length();pt*=Math.tan(r.object.fov/2*Math.PI/180),Z(2*bt*pt/St.clientHeight,r.object.matrix),K(2*Te*pt/St.clientHeight,r.object.matrix)}else St&&r.object instanceof Oh&&r.object.isOrthographicCamera?(Z(bt*(r.object.right-r.object.left)/r.object.zoom/St.clientWidth,r.object.matrix),K(Te*(r.object.top-r.object.bottom)/r.object.zoom/St.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function ce(Se){r.object instanceof pa&&r.object.isPerspectiveCamera||r.object instanceof Oh&&r.object.isOrthographicCamera?x=Se:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function q(Se){ce(x/Se)}function J(Se){ce(x*Se)}function he(Se){if(!r.zoomToCursor||!r.domElement)return;B=!0;const ke=r.domElement.getBoundingClientRect(),bt=Se.clientX-ke.left,Te=Se.clientY-ke.top,St=ke.width,Qe=ke.height;F.x=bt/St*2-1,F.y=-(Te/Qe)*2+1,D.set(F.x,F.y,1).unproject(r.object).sub(r.object.position).normalize()}function ue(Se){return Math.max(r.minDistance,Math.min(r.maxDistance,Se))}function j(Se){c.set(Se.clientX,Se.clientY)}function pe(Se){he(Se),R.set(Se.clientX,Se.clientY)}function _e(Se){b.set(Se.clientX,Se.clientY)}function Re(Se){p.set(Se.clientX,Se.clientY),m.subVectors(p,c).multiplyScalar(r.rotateSpeed);const ke=r.domElement;ke&&(ee(2*Math.PI*m.x/ke.clientHeight),ae(2*Math.PI*m.y/ke.clientHeight)),c.copy(p),r.update()}function Me(Se){O.set(Se.clientX,Se.clientY),P.subVectors(O,R),P.y>0?q(X()):P.y<0&&J(X()),R.copy(O),r.update()}function Ae(Se){w.set(Se.clientX,Se.clientY),A.subVectors(w,b).multiplyScalar(r.panSpeed),te(A.x,A.y),b.copy(w),r.update()}function Ue(Se){he(Se),Se.deltaY<0?J(X()):Se.deltaY>0&&q(X()),r.update()}function gt(Se){let ke=!1;switch(Se.code){case r.keys.UP:te(0,r.keyPanSpeed),ke=!0;break;case r.keys.BOTTOM:te(0,-r.keyPanSpeed),ke=!0;break;case r.keys.LEFT:te(r.keyPanSpeed,0),ke=!0;break;case r.keys.RIGHT:te(-r.keyPanSpeed,0),ke=!0;break}ke&&(Se.preventDefault(),r.update())}function ze(){if(U.length==1)c.set(U[0].pageX,U[0].pageY);else{const Se=.5*(U[0].pageX+U[1].pageX),ke=.5*(U[0].pageY+U[1].pageY);c.set(Se,ke)}}function we(){if(U.length==1)b.set(U[0].pageX,U[0].pageY);else{const Se=.5*(U[0].pageX+U[1].pageX),ke=.5*(U[0].pageY+U[1].pageY);b.set(Se,ke)}}function re(){const Se=U[0].pageX-U[1].pageX,ke=U[0].pageY-U[1].pageY,bt=Math.sqrt(Se*Se+ke*ke);R.set(0,bt)}function Fe(){r.enableZoom&&re(),r.enablePan&&we()}function Ie(){r.enableZoom&&re(),r.enableRotate&&ze()}function Ye(Se){if(U.length==1)p.set(Se.pageX,Se.pageY);else{const bt=it(Se),Te=.5*(Se.pageX+bt.x),St=.5*(Se.pageY+bt.y);p.set(Te,St)}m.subVectors(p,c).multiplyScalar(r.rotateSpeed);const ke=r.domElement;ke&&(ee(2*Math.PI*m.x/ke.clientHeight),ae(2*Math.PI*m.y/ke.clientHeight)),c.copy(p)}function $e(Se){if(U.length==1)w.set(Se.pageX,Se.pageY);else{const ke=it(Se),bt=.5*(Se.pageX+ke.x),Te=.5*(Se.pageY+ke.y);w.set(bt,Te)}A.subVectors(w,b).multiplyScalar(r.panSpeed),te(A.x,A.y),b.copy(w)}function lt(Se){const ke=it(Se),bt=Se.pageX-ke.x,Te=Se.pageY-ke.y,St=Math.sqrt(bt*bt+Te*Te);O.set(0,St),P.set(0,Math.pow(O.y/R.y,r.zoomSpeed)),q(P.y),R.copy(O)}function ot(Se){r.enableZoom&&lt(Se),r.enablePan&&$e(Se)}function fe(Se){r.enableZoom&&lt(Se),r.enableRotate&&Ye(Se)}function oe(Se){var ke,bt;r.enabled!==!1&&(U.length===0&&((ke=r.domElement)==null||ke.ownerDocument.addEventListener("pointermove",Ee),(bt=r.domElement)==null||bt.ownerDocument.addEventListener("pointerup",Pe)),_t(Se),Se.pointerType==="touch"?ht(Se):qe(Se))}function Ee(Se){r.enabled!==!1&&(Se.pointerType==="touch"?It(Se):He(Se))}function Pe(Se){var ke,bt,Te;wt(Se),U.length===0&&((ke=r.domElement)==null||ke.releasePointerCapture(Se.pointerId),(bt=r.domElement)==null||bt.ownerDocument.removeEventListener("pointermove",Ee),(Te=r.domElement)==null||Te.ownerDocument.removeEventListener("pointerup",Pe)),r.dispatchEvent(l),f=s.NONE}function qe(Se){let ke;switch(Se.button){case 0:ke=r.mouseButtons.LEFT;break;case 1:ke=r.mouseButtons.MIDDLE;break;case 2:ke=r.mouseButtons.RIGHT;break;default:ke=-1}switch(ke){case Up.DOLLY:if(r.enableZoom===!1)return;pe(Se),f=s.DOLLY;break;case Up.ROTATE:if(Se.ctrlKey||Se.metaKey||Se.shiftKey){if(r.enablePan===!1)return;_e(Se),f=s.PAN}else{if(r.enableRotate===!1)return;j(Se),f=s.ROTATE}break;case Up.PAN:if(Se.ctrlKey||Se.metaKey||Se.shiftKey){if(r.enableRotate===!1)return;j(Se),f=s.ROTATE}else{if(r.enablePan===!1)return;_e(Se),f=s.PAN}break;default:f=s.NONE}f!==s.NONE&&r.dispatchEvent(o)}function He(Se){if(r.enabled!==!1)switch(f){case s.ROTATE:if(r.enableRotate===!1)return;Re(Se);break;case s.DOLLY:if(r.enableZoom===!1)return;Me(Se);break;case s.PAN:if(r.enablePan===!1)return;Ae(Se);break}}function mt(Se){r.enabled===!1||r.enableZoom===!1||f!==s.NONE&&f!==s.ROTATE||(Se.preventDefault(),r.dispatchEvent(o),Ue(Se),r.dispatchEvent(l))}function st(Se){r.enabled===!1||r.enablePan===!1||gt(Se)}function ht(Se){switch(je(Se),U.length){case 1:switch(r.touches.ONE){case Bp.ROTATE:if(r.enableRotate===!1)return;ze(),f=s.TOUCH_ROTATE;break;case Bp.PAN:if(r.enablePan===!1)return;we(),f=s.TOUCH_PAN;break;default:f=s.NONE}break;case 2:switch(r.touches.TWO){case Bp.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Fe(),f=s.TOUCH_DOLLY_PAN;break;case Bp.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Ie(),f=s.TOUCH_DOLLY_ROTATE;break;default:f=s.NONE}break;default:f=s.NONE}f!==s.NONE&&r.dispatchEvent(o)}function It(Se){switch(je(Se),f){case s.TOUCH_ROTATE:if(r.enableRotate===!1)return;Ye(Se),r.update();break;case s.TOUCH_PAN:if(r.enablePan===!1)return;$e(Se),r.update();break;case s.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;ot(Se),r.update();break;case s.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;fe(Se),r.update();break;default:f=s.NONE}}function at(Se){r.enabled!==!1&&Se.preventDefault()}function _t(Se){U.push(Se)}function wt(Se){delete V[Se.pointerId];for(let ke=0;ke<U.length;ke++)if(U[ke].pointerId==Se.pointerId){U.splice(ke,1);return}}function je(Se){let ke=V[Se.pointerId];ke===void 0&&(ke=new At,V[Se.pointerId]=ke),ke.set(Se.pageX,Se.pageY)}function it(Se){const ke=Se.pointerId===U[0].pointerId?U[1]:U[0];return V[ke.pointerId]}this.dollyIn=(Se=X())=>{J(Se),r.update()},this.dollyOut=(Se=X())=>{q(Se),r.update()},this.getScale=()=>x,this.setScale=Se=>{ce(Se),r.update()},this.getZoomScale=()=>X(),t!==void 0&&this.connect(t),this.update()}};const Lfe=M.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:r,enableDamping:a=!0,keyEvents:o=!1,onChange:l,onStart:s,onEnd:f,...h},v)=>{const _=is(P=>P.invalidate),x=is(P=>P.camera),C=is(P=>P.gl),c=is(P=>P.events),p=is(P=>P.setEvents),m=is(P=>P.set),b=is(P=>P.get),w=is(P=>P.performance),A=e||x,R=r||c.connected||C.domElement,O=M.useMemo(()=>new Dfe(A),[A]);return Zue(()=>{O.enabled&&O.update()},-1),M.useEffect(()=>(o&&O.connect(o===!0?R:o),O.connect(R),()=>void O.dispose()),[o,R,t,O,_]),M.useEffect(()=>{const P=B=>{_(),t&&w.regress(),l&&l(B)},D=B=>{s&&s(B)},F=B=>{f&&f(B)};return O.addEventListener("change",P),O.addEventListener("start",D),O.addEventListener("end",F),()=>{O.removeEventListener("start",D),O.removeEventListener("end",F),O.removeEventListener("change",P)}},[l,s,f,O,_,p]),M.useEffect(()=>{if(n){const P=b().controls;return m({controls:O}),()=>m({controls:P})}},[n,O]),M.createElement("primitive",Nt({ref:v,object:O,enableDamping:a},h))}),Nfe=M.forwardRef(({children:n,domElement:e,onChange:t,onMouseDown:r,onMouseUp:a,onObjectChange:o,object:l,makeDefault:s,camera:f,enabled:h,axis:v,mode:_,translationSnap:x,rotationSnap:C,scaleSnap:c,space:p,size:m,showX:b,showY:w,showZ:A,...R},O)=>{const P=is(J=>J.controls),D=is(J=>J.gl),F=is(J=>J.events),B=is(J=>J.camera),U=is(J=>J.invalidate),V=is(J=>J.get),Q=is(J=>J.set),X=f||B,ee=e||F.connected||D.domElement,ae=M.useMemo(()=>new Afe(X,ee),[X,ee]),Z=M.useRef(null);M.useLayoutEffect(()=>(l?ae.attach(l instanceof xi?l:l.current):Z.current instanceof xi&&ae.attach(Z.current),()=>void ae.detach()),[l,n,ae]),M.useEffect(()=>{if(P){const J=he=>P.enabled=!he.value;return ae.addEventListener("dragging-changed",J),()=>ae.removeEventListener("dragging-changed",J)}},[ae,P]);const K=M.useRef(void 0),te=M.useRef(void 0),ce=M.useRef(void 0),q=M.useRef(void 0);return M.useLayoutEffect(()=>void(K.current=t),[t]),M.useLayoutEffect(()=>void(te.current=r),[r]),M.useLayoutEffect(()=>void(ce.current=a),[a]),M.useLayoutEffect(()=>void(q.current=o),[o]),M.useEffect(()=>{const J=pe=>{U(),K.current==null||K.current(pe)},he=pe=>te.current==null?void 0:te.current(pe),ue=pe=>ce.current==null?void 0:ce.current(pe),j=pe=>q.current==null?void 0:q.current(pe);return ae.addEventListener("change",J),ae.addEventListener("mouseDown",he),ae.addEventListener("mouseUp",ue),ae.addEventListener("objectChange",j),()=>{ae.removeEventListener("change",J),ae.removeEventListener("mouseDown",he),ae.removeEventListener("mouseUp",ue),ae.removeEventListener("objectChange",j)}},[U,ae]),M.useEffect(()=>{if(s){const J=V().controls;return Q({controls:ae}),()=>Q({controls:J})}},[s,ae]),M.createElement(M.Fragment,null,M.createElement("primitive",{ref:O,object:ae,enabled:h,axis:v,mode:_,translationSnap:x,rotationSnap:C,scaleSnap:c,space:p,size:m,showX:b,showY:w,showZ:A}),M.createElement("group",Nt({ref:Z},R),n))}),Ufe=()=>{const n=M.useRef(null);return xt.jsxs(Sfe,{camera:{position:[0,2,5],fov:75},children:[xt.jsx("ambientLight",{}),xt.jsx("pointLight",{position:[10,10,10]}),xt.jsx(Nfe,{children:xt.jsxs("mesh",{ref:n,scale:[1,1,1],children:[xt.jsx("boxGeometry",{}),xt.jsx("meshStandardMaterial",{color:"orange"})]})}),xt.jsx(Lfe,{})]})},{TextArea:JL}=g0,eN="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAYAAADQvc6UAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAwSDCIMogwMCcmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsis7PPOq3QdDFcvjV3jOD1boQVTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRAQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDrkl1AuO+pmgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAwqADAAQAAAABAAAAwwAAAAD9b/HnAAAHlklEQVR4Ae3dP3PTWBSGcbGzM6GCKqlIBRV0dHRJFarQ0eUT8LH4BnRU0NHR0UEFVdIlFRV7TzRksomPY8uykTk/zewQfKw/9znv4yvJynLv4uLiV2dBoDiBf4qP3/ARuCRABEFAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghgg0Aj8i0JO4OzsrPv69Wv+hi2qPHr0qNvf39+iI97soRIh4f3z58/u7du3SXX7Xt7Z2enevHmzfQe+oSN2apSAPj09TSrb+XKI/f379+08+A0cNRE2ANkupk+ACNPvkSPcAAEibACyXUyfABGm3yNHuAECRNgAZLuYPgEirKlHu7u7XdyytGwHAd8jjNyng4OD7vnz51dbPT8/7z58+NB9+/bt6jU/TI+AGWHEnrx48eJ/EsSmHzx40L18+fLyzxF3ZVMjEyDCiEDjMYZZS5wiPXnyZFbJaxMhQIQRGzHvWR7XCyOCXsOmiDAi1HmPMMQjDpbpEiDCiL358eNHurW/5SnWdIBbXiDCiA38/Pnzrce2YyZ4//59F3ePLNMl4PbpiL2J0L979+7yDtHDhw8vtzzvdGnEXdvUigSIsCLAWavHp/+qM0BcXMd/q25n1vF57TYBp0a3mUzilePj4+7k5KSLb6gt6ydAhPUzXnoPR0dHl79WGTNCfBnn1uvSCJdegQhLI1vvCk+fPu2ePXt2tZOYEV6/fn31dz+shwAR1sP1cqvLntbEN9MxA9xcYjsxS1jWR4AIa2Ibzx0tc44fYX/16lV6NDFLXH+YL32jwiACRBiEbf5KcXoTIsQSpzXx4N28Ja4BQoK7rgXiydbHjx/P25TaQAJEGAguWy0+2Q8PD6/Ki4R8EVl+bzBOnZY95fq9rj9zAkTI2SxdidBHqG9+skdw43borCXO/ZcJdraPWdv22uIEiLA4q7nvvCug8WTqzQveOH26fodo7g6uFe/a17W3+nFBAkRYENRdb1vkkz1CH9cPsVy/jrhr27PqMYvENYNlHAIesRiBYwRy0V+8iXP8+/fvX11Mr7L7ECueb/r48eMqm7FuI2BGWDEG8cm+7G3NEOfmdcTQw4h9/55lhm7DekRYKQPZF2ArbXTAyu4kDYB2YxUzwg0gi/41ztHnfQG26HbGel/crVrm7tNY+/1btkOEAZ2M05r4FB7r9GbAIdxaZYrHdOsgJ/wCEQY0J74TmOKnbxxT9n3FgGGWWsVdowHtjt9Nnvf7yQM2aZU/TIAIAxrw6dOnAWtZZcoEnBpNuTuObWMEiLAx1HY0ZQJEmHJ3HNvGCBBhY6jtaMoEiJB0Z29vL6ls58vxPcO8/zfrdo5qvKO+d3Fx8Wu8zf1dW4p/cPzLly/dtv9Ts/EbcvGAHhHyfBIhZ6NSiIBTo0LNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiEC/wGgKKC4YMA4TAAAAABJRU5ErkJggg==",Bfe=()=>{const[n,e]=M.useState(!1);return xt.jsxs(xt.Fragment,{children:[xt.jsx("div",{className:nh.formContent,children:xt.jsxs(pF,{direction:"vertical",size:12,children:[xt.jsx(ed,{children:xt.jsx(tne,{})}),xt.jsx("label",{children:"相机"}),xt.jsx(ed,{children:xt.jsx(Ufe,{})}),xt.jsx("label",{children:"动作"}),xt.jsxs(ed,{gutter:[12,12],children:[new Array(11).fill(0).map(()=>xt.jsx(Jf,{span:6,children:xt.jsx(vO,{src:eN,fallback:eN,className:nh.imageSelect,width:"100%"})})),xt.jsx(Jf,{span:6,children:xt.jsx(uo,{size:"large",className:nh.customButton,onClick:()=>e(!0),children:"Custom"})})]}),xt.jsx(ed,{children:xt.jsx(JL,{className:nh.textarea,rows:4,placeholder:"Positive Prompt",maxLength:6})}),xt.jsx(ed,{children:xt.jsx(JL,{className:nh.textarea,rows:4,placeholder:"Negative Prompt",maxLength:6})})]})}),xt.jsx(Vl,{title:"动作录入",centered:!0,open:n,onOk:()=>e(!1),onCancel:()=>e(!1),width:1e3,children:xt.jsx("iframe",{width:"950",height:"600",src:"https://threejs.org/editor/"})}),xt.jsx("div",{className:nh.formFooter,children:xt.jsx(uo,{className:et(nh.linearGradientButton,nh.footerButton),type:"primary",size:"large",onClick:()=>k2.emit($2.ADD_FAKE_VIDEO),children:"Create"})})]})};var _A={},tN;function Ffe(){return tN||(tN=1,function(n){var e=function(){var c=new Date,p=4,m=3,b=2,w=1,A=p,R={setLogLevel:function(O){O==this.debug?A=w:O==this.info?A=b:O==this.warn?A=m:(O==this.error,A=p)},debug:function(O,P){console.debug===void 0&&(console.debug=console.log),w>=A&&console.debug("["+e.getDurationString(new Date-c,1e3)+"]","["+O+"]",P)},log:function(O,P){this.debug(O.msg)},info:function(O,P){b>=A&&console.info("["+e.getDurationString(new Date-c,1e3)+"]","["+O+"]",P)},warn:function(O,P){m>=A&&console.warn("["+e.getDurationString(new Date-c,1e3)+"]","["+O+"]",P)},error:function(O,P){p>=A&&console.error("["+e.getDurationString(new Date-c,1e3)+"]","["+O+"]",P)}};return R}();e.getDurationString=function(c,p){var m;function b(D,F){for(var B=""+D,U=B.split(".");U[0].length<F;)U[0]="0"+U[0];return U.join(".")}c<0?(m=!0,c=-c):m=!1;var w=p||1,A=c/w,R=Math.floor(A/3600);A-=R*3600;var O=Math.floor(A/60);A-=O*60;var P=A*1e3;return A=Math.floor(A),P-=A*1e3,P=Math.floor(P),(m?"-":"")+R+":"+b(O,2)+":"+b(A,2)+"."+b(P,3)},e.printRanges=function(c){var p=c.length;if(p>0){for(var m="",b=0;b<p;b++)b>0&&(m+=","),m+="["+e.getDurationString(c.start(b))+","+e.getDurationString(c.end(b))+"]";return m}else return"(empty)"},n.Log=e;var t=function(c){if(c instanceof ArrayBuffer)this.buffer=c,this.dataview=new DataView(c);else throw"Needs an array buffer";this.position=0};t.prototype.getPosition=function(){return this.position},t.prototype.getEndPosition=function(){return this.buffer.byteLength},t.prototype.getLength=function(){return this.buffer.byteLength},t.prototype.seek=function(c){var p=Math.max(0,Math.min(this.buffer.byteLength,c));return this.position=isNaN(p)||!isFinite(p)?0:p,!0},t.prototype.isEos=function(){return this.getPosition()>=this.getEndPosition()},t.prototype.readAnyInt=function(c,p){var m=0;if(this.position+c<=this.buffer.byteLength){switch(c){case 1:p?m=this.dataview.getInt8(this.position):m=this.dataview.getUint8(this.position);break;case 2:p?m=this.dataview.getInt16(this.position):m=this.dataview.getUint16(this.position);break;case 3:if(p)throw"No method for reading signed 24 bits values";m=this.dataview.getUint8(this.position)<<16,m|=this.dataview.getUint8(this.position+1)<<8,m|=this.dataview.getUint8(this.position+2);break;case 4:p?m=this.dataview.getInt32(this.position):m=this.dataview.getUint32(this.position);break;case 8:if(p)throw"No method for reading signed 64 bits values";m=this.dataview.getUint32(this.position)<<32,m|=this.dataview.getUint32(this.position+4);break;default:throw"readInt method not implemented for size: "+c}return this.position+=c,m}else throw"Not enough bytes in buffer"},t.prototype.readUint8=function(){return this.readAnyInt(1,!1)},t.prototype.readUint16=function(){return this.readAnyInt(2,!1)},t.prototype.readUint24=function(){return this.readAnyInt(3,!1)},t.prototype.readUint32=function(){return this.readAnyInt(4,!1)},t.prototype.readUint64=function(){return this.readAnyInt(8,!1)},t.prototype.readString=function(c){if(this.position+c<=this.buffer.byteLength){for(var p="",m=0;m<c;m++)p+=String.fromCharCode(this.readUint8());return p}else throw"Not enough bytes in buffer"},t.prototype.readCString=function(){for(var c=[];;){var p=this.readUint8();if(p!==0)c.push(p);else break}return String.fromCharCode.apply(null,c)},t.prototype.readInt8=function(){return this.readAnyInt(1,!0)},t.prototype.readInt16=function(){return this.readAnyInt(2,!0)},t.prototype.readInt32=function(){return this.readAnyInt(4,!0)},t.prototype.readInt64=function(){return this.readAnyInt(8,!1)},t.prototype.readUint8Array=function(c){for(var p=new Uint8Array(c),m=0;m<c;m++)p[m]=this.readUint8();return p},t.prototype.readInt16Array=function(c){for(var p=new Int16Array(c),m=0;m<c;m++)p[m]=this.readInt16();return p},t.prototype.readUint16Array=function(c){for(var p=new Int16Array(c),m=0;m<c;m++)p[m]=this.readUint16();return p},t.prototype.readUint32Array=function(c){for(var p=new Uint32Array(c),m=0;m<c;m++)p[m]=this.readUint32();return p},t.prototype.readInt32Array=function(c){for(var p=new Int32Array(c),m=0;m<c;m++)p[m]=this.readInt32();return p},n.MP4BoxStream=t;var r=function(c,p,m){this._byteOffset=p||0,c instanceof ArrayBuffer?this.buffer=c:typeof c=="object"?(this.dataView=c,p&&(this._byteOffset+=p)):this.buffer=new ArrayBuffer(c||0),this.position=0,this.endianness=m??r.LITTLE_ENDIAN};r.prototype={},r.prototype.getPosition=function(){return this.position},r.prototype._realloc=function(c){if(this._dynamicSize){var p=this._byteOffset+this.position+c,m=this._buffer.byteLength;if(p<=m){p>this._byteLength&&(this._byteLength=p);return}for(m<1&&(m=1);p>m;)m*=2;var b=new ArrayBuffer(m),w=new Uint8Array(this._buffer),A=new Uint8Array(b,0,w.length);A.set(w),this.buffer=b,this._byteLength=p}},r.prototype._trimAlloc=function(){if(this._byteLength!=this._buffer.byteLength){var c=new ArrayBuffer(this._byteLength),p=new Uint8Array(c),m=new Uint8Array(this._buffer,0,p.length);p.set(m),this.buffer=c}},r.BIG_ENDIAN=!1,r.LITTLE_ENDIAN=!0,r.prototype._byteLength=0,Object.defineProperty(r.prototype,"byteLength",{get:function(){return this._byteLength-this._byteOffset}}),Object.defineProperty(r.prototype,"buffer",{get:function(){return this._trimAlloc(),this._buffer},set:function(c){this._buffer=c,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(r.prototype,"byteOffset",{get:function(){return this._byteOffset},set:function(c){this._byteOffset=c,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(r.prototype,"dataView",{get:function(){return this._dataView},set:function(c){this._byteOffset=c.byteOffset,this._buffer=c.buffer,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._byteOffset+c.byteLength}}),r.prototype.seek=function(c){var p=Math.max(0,Math.min(this.byteLength,c));this.position=isNaN(p)||!isFinite(p)?0:p},r.prototype.isEof=function(){return this.position>=this._byteLength},r.prototype.mapUint8Array=function(c){this._realloc(c*1);var p=new Uint8Array(this._buffer,this.byteOffset+this.position,c);return this.position+=c*1,p},r.prototype.readInt32Array=function(c,p){c=c??this.byteLength-this.position/4;var m=new Int32Array(c);return r.memcpy(m.buffer,0,this.buffer,this.byteOffset+this.position,c*m.BYTES_PER_ELEMENT),r.arrayToNative(m,p??this.endianness),this.position+=m.byteLength,m},r.prototype.readInt16Array=function(c,p){c=c??this.byteLength-this.position/2;var m=new Int16Array(c);return r.memcpy(m.buffer,0,this.buffer,this.byteOffset+this.position,c*m.BYTES_PER_ELEMENT),r.arrayToNative(m,p??this.endianness),this.position+=m.byteLength,m},r.prototype.readInt8Array=function(c){c=c??this.byteLength-this.position;var p=new Int8Array(c);return r.memcpy(p.buffer,0,this.buffer,this.byteOffset+this.position,c*p.BYTES_PER_ELEMENT),this.position+=p.byteLength,p},r.prototype.readUint32Array=function(c,p){c=c??this.byteLength-this.position/4;var m=new Uint32Array(c);return r.memcpy(m.buffer,0,this.buffer,this.byteOffset+this.position,c*m.BYTES_PER_ELEMENT),r.arrayToNative(m,p??this.endianness),this.position+=m.byteLength,m},r.prototype.readUint16Array=function(c,p){c=c??this.byteLength-this.position/2;var m=new Uint16Array(c);return r.memcpy(m.buffer,0,this.buffer,this.byteOffset+this.position,c*m.BYTES_PER_ELEMENT),r.arrayToNative(m,p??this.endianness),this.position+=m.byteLength,m},r.prototype.readUint8Array=function(c){c=c??this.byteLength-this.position;var p=new Uint8Array(c);return r.memcpy(p.buffer,0,this.buffer,this.byteOffset+this.position,c*p.BYTES_PER_ELEMENT),this.position+=p.byteLength,p},r.prototype.readFloat64Array=function(c,p){c=c??this.byteLength-this.position/8;var m=new Float64Array(c);return r.memcpy(m.buffer,0,this.buffer,this.byteOffset+this.position,c*m.BYTES_PER_ELEMENT),r.arrayToNative(m,p??this.endianness),this.position+=m.byteLength,m},r.prototype.readFloat32Array=function(c,p){c=c??this.byteLength-this.position/4;var m=new Float32Array(c);return r.memcpy(m.buffer,0,this.buffer,this.byteOffset+this.position,c*m.BYTES_PER_ELEMENT),r.arrayToNative(m,p??this.endianness),this.position+=m.byteLength,m},r.prototype.readInt32=function(c){var p=this._dataView.getInt32(this.position,c??this.endianness);return this.position+=4,p},r.prototype.readInt16=function(c){var p=this._dataView.getInt16(this.position,c??this.endianness);return this.position+=2,p},r.prototype.readInt8=function(){var c=this._dataView.getInt8(this.position);return this.position+=1,c},r.prototype.readUint32=function(c){var p=this._dataView.getUint32(this.position,c??this.endianness);return this.position+=4,p},r.prototype.readUint16=function(c){var p=this._dataView.getUint16(this.position,c??this.endianness);return this.position+=2,p},r.prototype.readUint8=function(){var c=this._dataView.getUint8(this.position);return this.position+=1,c},r.prototype.readFloat32=function(c){var p=this._dataView.getFloat32(this.position,c??this.endianness);return this.position+=4,p},r.prototype.readFloat64=function(c){var p=this._dataView.getFloat64(this.position,c??this.endianness);return this.position+=8,p},r.endianness=new Int8Array(new Int16Array([1]).buffer)[0]>0,r.memcpy=function(c,p,m,b,w){var A=new Uint8Array(c,p,w),R=new Uint8Array(m,b,w);A.set(R)},r.arrayToNative=function(c,p){return p==this.endianness?c:this.flipArrayEndianness(c)},r.nativeToEndian=function(c,p){return this.endianness==p?c:this.flipArrayEndianness(c)},r.flipArrayEndianness=function(c){for(var p=new Uint8Array(c.buffer,c.byteOffset,c.byteLength),m=0;m<c.byteLength;m+=c.BYTES_PER_ELEMENT)for(var b=m+c.BYTES_PER_ELEMENT-1,w=m;b>w;b--,w++){var A=p[w];p[w]=p[b],p[b]=A}return c},r.prototype.failurePosition=0,String.fromCharCodeUint8=function(c){for(var p=[],m=0;m<c.length;m++)p[m]=c[m];return String.fromCharCode.apply(null,p)},r.prototype.readString=function(c,p){return p==null||p=="ASCII"?String.fromCharCodeUint8.apply(null,[this.mapUint8Array(c??this.byteLength-this.position)]):new TextDecoder(p).decode(this.mapUint8Array(c))},r.prototype.readCString=function(c){var p=this.byteLength-this.position,m=new Uint8Array(this._buffer,this._byteOffset+this.position),b=p;c!=null&&(b=Math.min(c,p));for(var w=0;w<b&&m[w]!==0;w++);var A=String.fromCharCodeUint8.apply(null,[this.mapUint8Array(w)]);return c!=null?this.position+=b-w:w!=p&&(this.position+=1),A};var a=Math.pow(2,32);r.prototype.readInt64=function(){return this.readInt32()*a+this.readUint32()},r.prototype.readUint64=function(){return this.readUint32()*a+this.readUint32()},r.prototype.readInt64=function(){return this.readUint32()*a+this.readUint32()},r.prototype.readUint24=function(){return(this.readUint8()<<16)+(this.readUint8()<<8)+this.readUint8()},n.DataStream=r,r.prototype.save=function(c){var p=new Blob([this.buffer]);if(window.URL&&URL.createObjectURL){var m=window.URL.createObjectURL(p),b=document.createElement("a");document.body.appendChild(b),b.setAttribute("href",m),b.setAttribute("download",c),b.setAttribute("target","_self"),b.click(),window.URL.revokeObjectURL(m)}else throw"DataStream.save: Can't create object URL."},r.prototype._dynamicSize=!0,Object.defineProperty(r.prototype,"dynamicSize",{get:function(){return this._dynamicSize},set:function(c){c||this._trimAlloc(),this._dynamicSize=c}}),r.prototype.shift=function(c){var p=new ArrayBuffer(this._byteLength-c),m=new Uint8Array(p),b=new Uint8Array(this._buffer,c,m.length);m.set(b),this.buffer=p,this.position-=c},r.prototype.writeInt32Array=function(c,p){if(this._realloc(c.length*4),c instanceof Int32Array&&this.byteOffset+this.position%c.BYTES_PER_ELEMENT===0)r.memcpy(this._buffer,this.byteOffset+this.position,c.buffer,0,c.byteLength),this.mapInt32Array(c.length,p);else for(var m=0;m<c.length;m++)this.writeInt32(c[m],p)},r.prototype.writeInt16Array=function(c,p){if(this._realloc(c.length*2),c instanceof Int16Array&&this.byteOffset+this.position%c.BYTES_PER_ELEMENT===0)r.memcpy(this._buffer,this.byteOffset+this.position,c.buffer,0,c.byteLength),this.mapInt16Array(c.length,p);else for(var m=0;m<c.length;m++)this.writeInt16(c[m],p)},r.prototype.writeInt8Array=function(c){if(this._realloc(c.length*1),c instanceof Int8Array&&this.byteOffset+this.position%c.BYTES_PER_ELEMENT===0)r.memcpy(this._buffer,this.byteOffset+this.position,c.buffer,0,c.byteLength),this.mapInt8Array(c.length);else for(var p=0;p<c.length;p++)this.writeInt8(c[p])},r.prototype.writeUint32Array=function(c,p){if(this._realloc(c.length*4),c instanceof Uint32Array&&this.byteOffset+this.position%c.BYTES_PER_ELEMENT===0)r.memcpy(this._buffer,this.byteOffset+this.position,c.buffer,0,c.byteLength),this.mapUint32Array(c.length,p);else for(var m=0;m<c.length;m++)this.writeUint32(c[m],p)},r.prototype.writeUint16Array=function(c,p){if(this._realloc(c.length*2),c instanceof Uint16Array&&this.byteOffset+this.position%c.BYTES_PER_ELEMENT===0)r.memcpy(this._buffer,this.byteOffset+this.position,c.buffer,0,c.byteLength),this.mapUint16Array(c.length,p);else for(var m=0;m<c.length;m++)this.writeUint16(c[m],p)},r.prototype.writeUint8Array=function(c){if(this._realloc(c.length*1),c instanceof Uint8Array&&this.byteOffset+this.position%c.BYTES_PER_ELEMENT===0)r.memcpy(this._buffer,this.byteOffset+this.position,c.buffer,0,c.byteLength),this.mapUint8Array(c.length);else for(var p=0;p<c.length;p++)this.writeUint8(c[p])},r.prototype.writeFloat64Array=function(c,p){if(this._realloc(c.length*8),c instanceof Float64Array&&this.byteOffset+this.position%c.BYTES_PER_ELEMENT===0)r.memcpy(this._buffer,this.byteOffset+this.position,c.buffer,0,c.byteLength),this.mapFloat64Array(c.length,p);else for(var m=0;m<c.length;m++)this.writeFloat64(c[m],p)},r.prototype.writeFloat32Array=function(c,p){if(this._realloc(c.length*4),c instanceof Float32Array&&this.byteOffset+this.position%c.BYTES_PER_ELEMENT===0)r.memcpy(this._buffer,this.byteOffset+this.position,c.buffer,0,c.byteLength),this.mapFloat32Array(c.length,p);else for(var m=0;m<c.length;m++)this.writeFloat32(c[m],p)},r.prototype.writeInt32=function(c,p){this._realloc(4),this._dataView.setInt32(this.position,c,p??this.endianness),this.position+=4},r.prototype.writeInt16=function(c,p){this._realloc(2),this._dataView.setInt16(this.position,c,p??this.endianness),this.position+=2},r.prototype.writeInt8=function(c){this._realloc(1),this._dataView.setInt8(this.position,c),this.position+=1},r.prototype.writeUint32=function(c,p){this._realloc(4),this._dataView.setUint32(this.position,c,p??this.endianness),this.position+=4},r.prototype.writeUint16=function(c,p){this._realloc(2),this._dataView.setUint16(this.position,c,p??this.endianness),this.position+=2},r.prototype.writeUint8=function(c){this._realloc(1),this._dataView.setUint8(this.position,c),this.position+=1},r.prototype.writeFloat32=function(c,p){this._realloc(4),this._dataView.setFloat32(this.position,c,p??this.endianness),this.position+=4},r.prototype.writeFloat64=function(c,p){this._realloc(8),this._dataView.setFloat64(this.position,c,p??this.endianness),this.position+=8},r.prototype.writeUCS2String=function(c,p,m){m==null&&(m=c.length);for(var b=0;b<c.length&&b<m;b++)this.writeUint16(c.charCodeAt(b),p);for(;b<m;b++)this.writeUint16(0)},r.prototype.writeString=function(c,p,m){var b=0;if(p==null||p=="ASCII")if(m!=null){var w=Math.min(c.length,m);for(b=0;b<w;b++)this.writeUint8(c.charCodeAt(b));for(;b<m;b++)this.writeUint8(0)}else for(b=0;b<c.length;b++)this.writeUint8(c.charCodeAt(b));else this.writeUint8Array(new TextEncoder(p).encode(c.substring(0,m)))},r.prototype.writeCString=function(c,p){var m=0;if(p!=null){var b=Math.min(c.length,p);for(m=0;m<b;m++)this.writeUint8(c.charCodeAt(m));for(;m<p;m++)this.writeUint8(0)}else{for(m=0;m<c.length;m++)this.writeUint8(c.charCodeAt(m));this.writeUint8(0)}},r.prototype.writeStruct=function(c,p){for(var m=0;m<c.length;m+=2){var b=c[m+1];this.writeType(b,p[c[m]],p)}},r.prototype.writeType=function(c,p,m){var b;if(typeof c=="function")return c(this,p);if(typeof c=="object"&&!(c instanceof Array))return c.set(this,p,m);var w=null,A="ASCII",R=this.position;switch(typeof c=="string"&&/:/.test(c)&&(b=c.split(":"),c=b[0],w=parseInt(b[1])),typeof c=="string"&&/,/.test(c)&&(b=c.split(","),c=b[0],A=parseInt(b[1])),c){case"uint8":this.writeUint8(p);break;case"int8":this.writeInt8(p);break;case"uint16":this.writeUint16(p,this.endianness);break;case"int16":this.writeInt16(p,this.endianness);break;case"uint32":this.writeUint32(p,this.endianness);break;case"int32":this.writeInt32(p,this.endianness);break;case"float32":this.writeFloat32(p,this.endianness);break;case"float64":this.writeFloat64(p,this.endianness);break;case"uint16be":this.writeUint16(p,r.BIG_ENDIAN);break;case"int16be":this.writeInt16(p,r.BIG_ENDIAN);break;case"uint32be":this.writeUint32(p,r.BIG_ENDIAN);break;case"int32be":this.writeInt32(p,r.BIG_ENDIAN);break;case"float32be":this.writeFloat32(p,r.BIG_ENDIAN);break;case"float64be":this.writeFloat64(p,r.BIG_ENDIAN);break;case"uint16le":this.writeUint16(p,r.LITTLE_ENDIAN);break;case"int16le":this.writeInt16(p,r.LITTLE_ENDIAN);break;case"uint32le":this.writeUint32(p,r.LITTLE_ENDIAN);break;case"int32le":this.writeInt32(p,r.LITTLE_ENDIAN);break;case"float32le":this.writeFloat32(p,r.LITTLE_ENDIAN);break;case"float64le":this.writeFloat64(p,r.LITTLE_ENDIAN);break;case"cstring":this.writeCString(p,w);break;case"string":this.writeString(p,A,w);break;case"u16string":this.writeUCS2String(p,this.endianness,w);break;case"u16stringle":this.writeUCS2String(p,r.LITTLE_ENDIAN,w);break;case"u16stringbe":this.writeUCS2String(p,r.BIG_ENDIAN,w);break;default:if(c.length==3){for(var O=c[1],P=0;P<p.length;P++)this.writeType(O,p[P]);break}else{this.writeStruct(c,p);break}}w!=null&&(this.position=R,this._realloc(w),this.position=R+w)},r.prototype.writeUint64=function(c){var p=Math.floor(c/a);this.writeUint32(p),this.writeUint32(c&4294967295)},r.prototype.writeUint24=function(c){this.writeUint8((c&16711680)>>16),this.writeUint8((c&65280)>>8),this.writeUint8(c&255)},r.prototype.adjustUint32=function(c,p){var m=this.position;this.seek(c),this.writeUint32(p),this.seek(m)},r.prototype.mapInt32Array=function(c,p){this._realloc(c*4);var m=new Int32Array(this._buffer,this.byteOffset+this.position,c);return r.arrayToNative(m,p??this.endianness),this.position+=c*4,m},r.prototype.mapInt16Array=function(c,p){this._realloc(c*2);var m=new Int16Array(this._buffer,this.byteOffset+this.position,c);return r.arrayToNative(m,p??this.endianness),this.position+=c*2,m},r.prototype.mapInt8Array=function(c){this._realloc(c*1);var p=new Int8Array(this._buffer,this.byteOffset+this.position,c);return this.position+=c*1,p},r.prototype.mapUint32Array=function(c,p){this._realloc(c*4);var m=new Uint32Array(this._buffer,this.byteOffset+this.position,c);return r.arrayToNative(m,p??this.endianness),this.position+=c*4,m},r.prototype.mapUint16Array=function(c,p){this._realloc(c*2);var m=new Uint16Array(this._buffer,this.byteOffset+this.position,c);return r.arrayToNative(m,p??this.endianness),this.position+=c*2,m},r.prototype.mapFloat64Array=function(c,p){this._realloc(c*8);var m=new Float64Array(this._buffer,this.byteOffset+this.position,c);return r.arrayToNative(m,p??this.endianness),this.position+=c*8,m},r.prototype.mapFloat32Array=function(c,p){this._realloc(c*4);var m=new Float32Array(this._buffer,this.byteOffset+this.position,c);return r.arrayToNative(m,p??this.endianness),this.position+=c*4,m};var o=function(c){this.buffers=[],this.bufferIndex=-1,c&&(this.insertBuffer(c),this.bufferIndex=0)};o.prototype=new r(new ArrayBuffer,0,r.BIG_ENDIAN),o.prototype.initialized=function(){var c;return this.bufferIndex>-1?!0:this.buffers.length>0?(c=this.buffers[0],c.fileStart===0?(this.buffer=c,this.bufferIndex=0,e.debug("MultiBufferStream","Stream ready for parsing"),!0):(e.warn("MultiBufferStream","The first buffer should have a fileStart of 0"),this.logBufferLevel(),!1)):(e.warn("MultiBufferStream","No buffer to start parsing from"),this.logBufferLevel(),!1)},ArrayBuffer.concat=function(c,p){e.debug("ArrayBuffer","Trying to create a new buffer of size: "+(c.byteLength+p.byteLength));var m=new Uint8Array(c.byteLength+p.byteLength);return m.set(new Uint8Array(c),0),m.set(new Uint8Array(p),c.byteLength),m.buffer},o.prototype.reduceBuffer=function(c,p,m){var b;return b=new Uint8Array(m),b.set(new Uint8Array(c,p,m)),b.buffer.fileStart=c.fileStart+p,b.buffer.usedBytes=0,b.buffer},o.prototype.insertBuffer=function(c){for(var p=!0,m=0;m<this.buffers.length;m++){var b=this.buffers[m];if(c.fileStart<=b.fileStart){if(c.fileStart===b.fileStart)if(c.byteLength>b.byteLength){this.buffers.splice(m,1),m--;continue}else e.warn("MultiBufferStream","Buffer (fileStart: "+c.fileStart+" - Length: "+c.byteLength+") already appended, ignoring");else c.fileStart+c.byteLength<=b.fileStart||(c=this.reduceBuffer(c,0,b.fileStart-c.fileStart)),e.debug("MultiBufferStream","Appending new buffer (fileStart: "+c.fileStart+" - Length: "+c.byteLength+")"),this.buffers.splice(m,0,c),m===0&&(this.buffer=c);p=!1;break}else if(c.fileStart<b.fileStart+b.byteLength){var w=b.fileStart+b.byteLength-c.fileStart,A=c.byteLength-w;if(A>0)c=this.reduceBuffer(c,w,A);else{p=!1;break}}}p&&(e.debug("MultiBufferStream","Appending new buffer (fileStart: "+c.fileStart+" - Length: "+c.byteLength+")"),this.buffers.push(c),m===0&&(this.buffer=c))},o.prototype.logBufferLevel=function(c){var p,m,b,w,A=[],R,O="";for(b=0,w=0,p=0;p<this.buffers.length;p++)m=this.buffers[p],p===0?(R={},A.push(R),R.start=m.fileStart,R.end=m.fileStart+m.byteLength,O+="["+R.start+"-"):R.end===m.fileStart?R.end=m.fileStart+m.byteLength:(R={},R.start=m.fileStart,O+=A[A.length-1].end-1+"], ["+R.start+"-",R.end=m.fileStart+m.byteLength,A.push(R)),b+=m.usedBytes,w+=m.byteLength;A.length>0&&(O+=R.end-1+"]");var P=c?e.info:e.debug;this.buffers.length===0?P("MultiBufferStream","No more buffer in memory"):P("MultiBufferStream",""+this.buffers.length+" stored buffer(s) ("+b+"/"+w+" bytes), continuous ranges: "+O)},o.prototype.cleanBuffers=function(){var c,p;for(c=0;c<this.buffers.length;c++)p=this.buffers[c],p.usedBytes===p.byteLength&&(e.debug("MultiBufferStream","Removing buffer #"+c),this.buffers.splice(c,1),c--)},o.prototype.mergeNextBuffer=function(){var c;if(this.bufferIndex+1<this.buffers.length)if(c=this.buffers[this.bufferIndex+1],c.fileStart===this.buffer.fileStart+this.buffer.byteLength){var p=this.buffer.byteLength,m=this.buffer.usedBytes,b=this.buffer.fileStart;return this.buffers[this.bufferIndex]=ArrayBuffer.concat(this.buffer,c),this.buffer=this.buffers[this.bufferIndex],this.buffers.splice(this.bufferIndex+1,1),this.buffer.usedBytes=m,this.buffer.fileStart=b,e.debug("ISOFile","Concatenating buffer for box parsing (length: "+p+"->"+this.buffer.byteLength+")"),!0}else return!1;else return!1},o.prototype.findPosition=function(c,p,m){var b,w=null,A=-1;for(c===!0?b=0:b=this.bufferIndex;b<this.buffers.length&&(w=this.buffers[b],w.fileStart<=p);){A=b,m&&(w.fileStart+w.byteLength<=p?w.usedBytes=w.byteLength:w.usedBytes=p-w.fileStart,this.logBufferLevel());b++}return A!==-1?(w=this.buffers[A],w.fileStart+w.byteLength>=p?(e.debug("MultiBufferStream","Found position in existing buffer #"+A),A):-1):-1},o.prototype.findEndContiguousBuf=function(c){var p,m,b,w=c!==void 0?c:this.bufferIndex;if(m=this.buffers[w],this.buffers.length>w+1)for(p=w+1;p<this.buffers.length&&(b=this.buffers[p],b.fileStart===m.fileStart+m.byteLength);p++)m=b;return m.fileStart+m.byteLength},o.prototype.getEndFilePositionAfter=function(c){var p=this.findPosition(!0,c,!1);return p!==-1?this.findEndContiguousBuf(p):c},o.prototype.addUsedBytes=function(c){this.buffer.usedBytes+=c,this.logBufferLevel()},o.prototype.setAllUsedBytes=function(){this.buffer.usedBytes=this.buffer.byteLength,this.logBufferLevel()},o.prototype.seek=function(c,p,m){var b;return b=this.findPosition(p,c,m),b!==-1?(this.buffer=this.buffers[b],this.bufferIndex=b,this.position=c-this.buffer.fileStart,e.debug("MultiBufferStream","Repositioning parser at buffer position: "+this.position),!0):(e.debug("MultiBufferStream","Position "+c+" not found in buffered data"),!1)},o.prototype.getPosition=function(){if(this.bufferIndex===-1||this.buffers[this.bufferIndex]===null)throw"Error accessing position in the MultiBufferStream";return this.buffers[this.bufferIndex].fileStart+this.position},o.prototype.getLength=function(){return this.byteLength},o.prototype.getEndPosition=function(){if(this.bufferIndex===-1||this.buffers[this.bufferIndex]===null)throw"Error accessing position in the MultiBufferStream";return this.buffers[this.bufferIndex].fileStart+this.byteLength},n.MultiBufferStream=o;var l=function(){var c=3,p=4,m=5,b=6,w=[];w[c]="ES_Descriptor",w[p]="DecoderConfigDescriptor",w[m]="DecoderSpecificInfo",w[b]="SLConfigDescriptor",this.getDescriptorName=function(O){return w[O]};var A=this,R={};return this.parseOneDescriptor=function(O){var P=0,D,F,B;for(D=O.readUint8(),B=O.readUint8();B&128;)P=(B&127)<<7,B=O.readUint8();return P+=B&127,e.debug("MPEG4DescriptorParser","Found "+(w[D]||"Descriptor "+D)+", size "+P+" at position "+O.getPosition()),w[D]?F=new R[w[D]](P):F=new R.Descriptor(P),F.parse(O),F},R.Descriptor=function(O,P){this.tag=O,this.size=P,this.descs=[]},R.Descriptor.prototype.parse=function(O){this.data=O.readUint8Array(this.size)},R.Descriptor.prototype.findDescriptor=function(O){for(var P=0;P<this.descs.length;P++)if(this.descs[P].tag==O)return this.descs[P];return null},R.Descriptor.prototype.parseRemainingDescriptors=function(O){for(var P=O.position;O.position<P+this.size;){var D=A.parseOneDescriptor(O);this.descs.push(D)}},R.ES_Descriptor=function(O){R.Descriptor.call(this,c,O)},R.ES_Descriptor.prototype=new R.Descriptor,R.ES_Descriptor.prototype.parse=function(O){if(this.ES_ID=O.readUint16(),this.flags=O.readUint8(),this.size-=3,this.flags&128?(this.dependsOn_ES_ID=O.readUint16(),this.size-=2):this.dependsOn_ES_ID=0,this.flags&64){var P=O.readUint8();this.URL=O.readString(P),this.size-=P+1}else this.URL="";this.flags&32?(this.OCR_ES_ID=O.readUint16(),this.size-=2):this.OCR_ES_ID=0,this.parseRemainingDescriptors(O)},R.ES_Descriptor.prototype.getOTI=function(O){var P=this.findDescriptor(p);return P?P.oti:0},R.ES_Descriptor.prototype.getAudioConfig=function(O){var P=this.findDescriptor(p);if(!P)return null;var D=P.findDescriptor(m);if(D&&D.data){var F=(D.data[0]&248)>>3;return F===31&&D.data.length>=2&&(F=32+((D.data[0]&7)<<3)+((D.data[1]&224)>>5)),F}else return null},R.DecoderConfigDescriptor=function(O){R.Descriptor.call(this,p,O)},R.DecoderConfigDescriptor.prototype=new R.Descriptor,R.DecoderConfigDescriptor.prototype.parse=function(O){this.oti=O.readUint8(),this.streamType=O.readUint8(),this.upStream=(this.streamType>>1&1)!==0,this.streamType=this.streamType>>>2,this.bufferSize=O.readUint24(),this.maxBitrate=O.readUint32(),this.avgBitrate=O.readUint32(),this.size-=13,this.parseRemainingDescriptors(O)},R.DecoderSpecificInfo=function(O){R.Descriptor.call(this,m,O)},R.DecoderSpecificInfo.prototype=new R.Descriptor,R.SLConfigDescriptor=function(O){R.Descriptor.call(this,b,O)},R.SLConfigDescriptor.prototype=new R.Descriptor,this};n.MPEG4DescriptorParser=l;var s={ERR_INVALID_DATA:-1,ERR_NOT_ENOUGH_DATA:0,OK:1,BASIC_BOXES:["mdat","idat","free","skip","meco","strk"],FULL_BOXES:["hmhd","nmhd","iods","xml ","bxml","ipro","mere"],CONTAINER_BOXES:[["moov",["trak","pssh"]],["trak"],["edts"],["mdia"],["minf"],["dinf"],["stbl",["sgpd","sbgp"]],["mvex",["trex"]],["moof",["traf"]],["traf",["trun","sgpd","sbgp"]],["vttc"],["tref"],["iref"],["mfra",["tfra"]],["meco"],["hnti"],["hinf"],["strk"],["strd"],["sinf"],["rinf"],["schi"],["trgr"],["udta",["kind"]],["iprp",["ipma"]],["ipco"],["grpl"],["j2kH"],["etyp",["tyco"]]],boxCodes:[],fullBoxCodes:[],containerBoxCodes:[],sampleEntryCodes:{},sampleGroupEntryCodes:[],trackGroupTypes:[],UUIDBoxes:{},UUIDs:[],initialize:function(){s.FullBox.prototype=new s.Box,s.ContainerBox.prototype=new s.Box,s.SampleEntry.prototype=new s.Box,s.TrackGroupTypeBox.prototype=new s.FullBox,s.BASIC_BOXES.forEach(function(c){s.createBoxCtor(c)}),s.FULL_BOXES.forEach(function(c){s.createFullBoxCtor(c)}),s.CONTAINER_BOXES.forEach(function(c){s.createContainerBoxCtor(c[0],null,c[1])})},Box:function(c,p,m){this.type=c,this.size=p,this.uuid=m},FullBox:function(c,p,m){s.Box.call(this,c,p,m),this.flags=0,this.version=0},ContainerBox:function(c,p,m){s.Box.call(this,c,p,m),this.boxes=[]},SampleEntry:function(c,p,m,b){s.ContainerBox.call(this,c,p),this.hdr_size=m,this.start=b},SampleGroupEntry:function(c){this.grouping_type=c},TrackGroupTypeBox:function(c,p){s.FullBox.call(this,c,p)},createBoxCtor:function(c,p){s.boxCodes.push(c),s[c+"Box"]=function(m){s.Box.call(this,c,m)},s[c+"Box"].prototype=new s.Box,p&&(s[c+"Box"].prototype.parse=p)},createFullBoxCtor:function(c,p){s[c+"Box"]=function(m){s.FullBox.call(this,c,m)},s[c+"Box"].prototype=new s.FullBox,s[c+"Box"].prototype.parse=function(m){this.parseFullHeader(m),p&&p.call(this,m)}},addSubBoxArrays:function(c){if(c){this.subBoxNames=c;for(var p=c.length,m=0;m<p;m++)this[c[m]+"s"]=[]}},createContainerBoxCtor:function(c,p,m){s[c+"Box"]=function(b){s.ContainerBox.call(this,c,b),s.addSubBoxArrays.call(this,m)},s[c+"Box"].prototype=new s.ContainerBox,p&&(s[c+"Box"].prototype.parse=p)},createMediaSampleEntryCtor:function(c,p,m){s.sampleEntryCodes[c]=[],s[c+"SampleEntry"]=function(b,w){s.SampleEntry.call(this,b,w),s.addSubBoxArrays.call(this,m)},s[c+"SampleEntry"].prototype=new s.SampleEntry,p&&(s[c+"SampleEntry"].prototype.parse=p)},createSampleEntryCtor:function(c,p,m,b){s.sampleEntryCodes[c].push(p),s[p+"SampleEntry"]=function(w){s[c+"SampleEntry"].call(this,p,w),s.addSubBoxArrays.call(this,b)},s[p+"SampleEntry"].prototype=new s[c+"SampleEntry"],m&&(s[p+"SampleEntry"].prototype.parse=m)},createEncryptedSampleEntryCtor:function(c,p,m){s.createSampleEntryCtor.call(this,c,p,m,["sinf"])},createSampleGroupCtor:function(c,p){s[c+"SampleGroupEntry"]=function(m){s.SampleGroupEntry.call(this,c,m)},s[c+"SampleGroupEntry"].prototype=new s.SampleGroupEntry,p&&(s[c+"SampleGroupEntry"].prototype.parse=p)},createTrackGroupCtor:function(c,p){s[c+"TrackGroupTypeBox"]=function(m){s.TrackGroupTypeBox.call(this,c,m)},s[c+"TrackGroupTypeBox"].prototype=new s.TrackGroupTypeBox,p&&(s[c+"TrackGroupTypeBox"].prototype.parse=p)},createUUIDBox:function(c,p,m,b){s.UUIDs.push(c),s.UUIDBoxes[c]=function(w){p?s.FullBox.call(this,"uuid",w,c):m?s.ContainerBox.call(this,"uuid",w,c):s.Box.call(this,"uuid",w,c)},s.UUIDBoxes[c].prototype=p?new s.FullBox:m?new s.ContainerBox:new s.Box,b&&(p?s.UUIDBoxes[c].prototype.parse=function(w){this.parseFullHeader(w),b&&b.call(this,w)}:s.UUIDBoxes[c].prototype.parse=b)}};s.initialize(),s.TKHD_FLAG_ENABLED=1,s.TKHD_FLAG_IN_MOVIE=2,s.TKHD_FLAG_IN_PREVIEW=4,s.TFHD_FLAG_BASE_DATA_OFFSET=1,s.TFHD_FLAG_SAMPLE_DESC=2,s.TFHD_FLAG_SAMPLE_DUR=8,s.TFHD_FLAG_SAMPLE_SIZE=16,s.TFHD_FLAG_SAMPLE_FLAGS=32,s.TFHD_FLAG_DUR_EMPTY=65536,s.TFHD_FLAG_DEFAULT_BASE_IS_MOOF=131072,s.TRUN_FLAGS_DATA_OFFSET=1,s.TRUN_FLAGS_FIRST_FLAG=4,s.TRUN_FLAGS_DURATION=256,s.TRUN_FLAGS_SIZE=512,s.TRUN_FLAGS_FLAGS=1024,s.TRUN_FLAGS_CTS_OFFSET=2048,s.Box.prototype.add=function(c){return this.addBox(new s[c+"Box"])},s.Box.prototype.addBox=function(c){return this.boxes.push(c),this[c.type+"s"]?this[c.type+"s"].push(c):this[c.type]=c,c},s.Box.prototype.set=function(c,p){return this[c]=p,this},s.Box.prototype.addEntry=function(c,p){var m=p||"entries";return this[m]||(this[m]=[]),this[m].push(c),this},n.BoxParser=s,s.parseUUID=function(c){return s.parseHex16(c)},s.parseHex16=function(c){for(var p="",m=0;m<16;m++){var b=c.readUint8().toString(16);p+=b.length===1?"0"+b:b}return p},s.parseOneBox=function(c,p,m){var b,w=c.getPosition(),A=0,R,O;if(c.getEndPosition()-w<8)return e.debug("BoxParser","Not enough data in stream to parse the type and size of the box"),{code:s.ERR_NOT_ENOUGH_DATA};if(m&&m<8)return e.debug("BoxParser","Not enough bytes left in the parent box to parse a new box"),{code:s.ERR_NOT_ENOUGH_DATA};var P=c.readUint32(),D=c.readString(4),F=D;if(e.debug("BoxParser","Found box of type '"+D+"' and size "+P+" at position "+w),A=8,D=="uuid"){if(c.getEndPosition()-c.getPosition()<16||m-A<16)return c.seek(w),e.debug("BoxParser","Not enough bytes left in the parent box to parse a UUID box"),{code:s.ERR_NOT_ENOUGH_DATA};O=s.parseUUID(c),A+=16,F=O}if(P==1){if(c.getEndPosition()-c.getPosition()<8||m&&m-A<8)return c.seek(w),e.warn("BoxParser",'Not enough data in stream to parse the extended size of the "'+D+'" box'),{code:s.ERR_NOT_ENOUGH_DATA};P=c.readUint64(),A+=8}else if(P===0){if(m)P=m;else if(D!=="mdat")return e.error("BoxParser","Unlimited box size not supported for type: '"+D+"'"),b=new s.Box(D,P),{code:s.OK,box:b,size:b.size}}return P!==0&&P<A?(e.error("BoxParser","Box of type "+D+" has an invalid size "+P+" (too small to be a box)"),{code:s.ERR_NOT_ENOUGH_DATA,type:D,size:P,hdr_size:A,start:w}):P!==0&&m&&P>m?(e.error("BoxParser","Box of type '"+D+"' has a size "+P+" greater than its container size "+m),{code:s.ERR_NOT_ENOUGH_DATA,type:D,size:P,hdr_size:A,start:w}):P!==0&&w+P>c.getEndPosition()?(c.seek(w),e.info("BoxParser","Not enough data in stream to parse the entire '"+D+"' box"),{code:s.ERR_NOT_ENOUGH_DATA,type:D,size:P,hdr_size:A,start:w}):p?{code:s.OK,type:D,size:P,hdr_size:A,start:w}:(s[D+"Box"]?b=new s[D+"Box"](P):D!=="uuid"?(e.warn("BoxParser","Unknown box type: '"+D+"'"),b=new s.Box(D,P),b.has_unparsed_data=!0):s.UUIDBoxes[O]?b=new s.UUIDBoxes[O](P):(e.warn("BoxParser","Unknown uuid type: '"+O+"'"),b=new s.Box(D,P),b.uuid=O,b.has_unparsed_data=!0),b.hdr_size=A,b.start=w,b.write===s.Box.prototype.write&&b.type!=="mdat"&&(e.info("BoxParser","'"+F+"' box writing not yet implemented, keeping unparsed data in memory for later write"),b.parseDataAndRewind(c)),b.parse(c),R=c.getPosition()-(b.start+b.size),R<0?(e.warn("BoxParser","Parsing of box '"+F+"' did not read the entire indicated box data size (missing "+-R+" bytes), seeking forward"),c.seek(b.start+b.size)):R>0&&(e.error("BoxParser","Parsing of box '"+F+"' read "+R+" more bytes than the indicated box data size, seeking backwards"),b.size!==0&&c.seek(b.start+b.size)),{code:s.OK,box:b,size:b.size})},s.Box.prototype.parse=function(c){this.type!="mdat"?this.data=c.readUint8Array(this.size-this.hdr_size):this.size===0?c.seek(c.getEndPosition()):c.seek(this.start+this.size)},s.Box.prototype.parseDataAndRewind=function(c){this.data=c.readUint8Array(this.size-this.hdr_size),c.position-=this.size-this.hdr_size},s.FullBox.prototype.parseDataAndRewind=function(c){this.parseFullHeader(c),this.data=c.readUint8Array(this.size-this.hdr_size),this.hdr_size-=4,c.position-=this.size-this.hdr_size},s.FullBox.prototype.parseFullHeader=function(c){this.version=c.readUint8(),this.flags=c.readUint24(),this.hdr_size+=4},s.FullBox.prototype.parse=function(c){this.parseFullHeader(c),this.data=c.readUint8Array(this.size-this.hdr_size)},s.ContainerBox.prototype.parse=function(c){for(var p,m;c.getPosition()<this.start+this.size;)if(p=s.parseOneBox(c,!1,this.size-(c.getPosition()-this.start)),p.code===s.OK)if(m=p.box,this.boxes.push(m),this.subBoxNames&&this.subBoxNames.indexOf(m.type)!=-1)this[this.subBoxNames[this.subBoxNames.indexOf(m.type)]+"s"].push(m);else{var b=m.type!=="uuid"?m.type:m.uuid;this[b]?e.warn("Box of type "+b+" already stored in field of this type"):this[b]=m}else return},s.Box.prototype.parseLanguage=function(c){this.language=c.readUint16();var p=[];p[0]=this.language>>10&31,p[1]=this.language>>5&31,p[2]=this.language&31,this.languageString=String.fromCharCode(p[0]+96,p[1]+96,p[2]+96)},s.SAMPLE_ENTRY_TYPE_VISUAL="Visual",s.SAMPLE_ENTRY_TYPE_AUDIO="Audio",s.SAMPLE_ENTRY_TYPE_HINT="Hint",s.SAMPLE_ENTRY_TYPE_METADATA="Metadata",s.SAMPLE_ENTRY_TYPE_SUBTITLE="Subtitle",s.SAMPLE_ENTRY_TYPE_SYSTEM="System",s.SAMPLE_ENTRY_TYPE_TEXT="Text",s.SampleEntry.prototype.parseHeader=function(c){c.readUint8Array(6),this.data_reference_index=c.readUint16(),this.hdr_size+=8},s.SampleEntry.prototype.parse=function(c){this.parseHeader(c),this.data=c.readUint8Array(this.size-this.hdr_size)},s.SampleEntry.prototype.parseDataAndRewind=function(c){this.parseHeader(c),this.data=c.readUint8Array(this.size-this.hdr_size),this.hdr_size-=8,c.position-=this.size-this.hdr_size},s.SampleEntry.prototype.parseFooter=function(c){s.ContainerBox.prototype.parse.call(this,c)},s.createMediaSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_HINT),s.createMediaSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_METADATA),s.createMediaSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_SUBTITLE),s.createMediaSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_SYSTEM),s.createMediaSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_TEXT),s.createMediaSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,function(c){var p;this.parseHeader(c),c.readUint16(),c.readUint16(),c.readUint32Array(3),this.width=c.readUint16(),this.height=c.readUint16(),this.horizresolution=c.readUint32(),this.vertresolution=c.readUint32(),c.readUint32(),this.frame_count=c.readUint16(),p=Math.min(31,c.readUint8()),this.compressorname=c.readString(p),p<31&&c.readString(31-p),this.depth=c.readUint16(),c.readUint16(),this.parseFooter(c)}),s.createMediaSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_AUDIO,function(c){this.parseHeader(c),c.readUint32Array(2),this.channel_count=c.readUint16(),this.samplesize=c.readUint16(),c.readUint16(),c.readUint16(),this.samplerate=c.readUint32()/65536,this.parseFooter(c)}),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"avc1"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"avc2"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"avc3"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"avc4"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"av01"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"dav1"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"hvc1"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"hev1"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"hvt1"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"lhe1"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"dvh1"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"dvhe"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"vvc1"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"vvi1"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"vvs1"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"vvcN"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"vp08"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"vp09"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"avs3"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"j2ki"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"mjp2"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"mjpg"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"uncv"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_AUDIO,"mp4a"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_AUDIO,"ac-3"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_AUDIO,"ac-4"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_AUDIO,"ec-3"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_AUDIO,"Opus"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_AUDIO,"mha1"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_AUDIO,"mha2"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_AUDIO,"mhm1"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_AUDIO,"mhm2"),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_AUDIO,"fLaC"),s.createEncryptedSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_VISUAL,"encv"),s.createEncryptedSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_AUDIO,"enca"),s.createEncryptedSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_SUBTITLE,"encu"),s.createEncryptedSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_SYSTEM,"encs"),s.createEncryptedSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_TEXT,"enct"),s.createEncryptedSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_METADATA,"encm"),s.createBoxCtor("a1lx",function(c){var p=c.readUint8()&1,m=((p&1)+1)*16;this.layer_size=[];for(var b=0;b<3;b++)m==16?this.layer_size[b]=c.readUint16():this.layer_size[b]=c.readUint32()}),s.createBoxCtor("a1op",function(c){this.op_index=c.readUint8()}),s.createFullBoxCtor("auxC",function(c){this.aux_type=c.readCString();var p=this.size-this.hdr_size-(this.aux_type.length+1);this.aux_subtype=c.readUint8Array(p)}),s.createBoxCtor("av1C",function(c){var p=c.readUint8();if(p>>7&!1){e.error("av1C marker problem");return}if(this.version=p&127,this.version!==1){e.error("av1C version "+this.version+" not supported");return}if(p=c.readUint8(),this.seq_profile=p>>5&7,this.seq_level_idx_0=p&31,p=c.readUint8(),this.seq_tier_0=p>>7&1,this.high_bitdepth=p>>6&1,this.twelve_bit=p>>5&1,this.monochrome=p>>4&1,this.chroma_subsampling_x=p>>3&1,this.chroma_subsampling_y=p>>2&1,this.chroma_sample_position=p&3,p=c.readUint8(),this.reserved_1=p>>5&7,this.reserved_1!==0){e.error("av1C reserved_1 parsing problem");return}if(this.initial_presentation_delay_present=p>>4&1,this.initial_presentation_delay_present===1)this.initial_presentation_delay_minus_one=p&15;else if(this.reserved_2=p&15,this.reserved_2!==0){e.error("av1C reserved_2 parsing problem");return}var m=this.size-this.hdr_size-4;this.configOBUs=c.readUint8Array(m)}),s.createBoxCtor("avcC",function(c){var p,m;for(this.configurationVersion=c.readUint8(),this.AVCProfileIndication=c.readUint8(),this.profile_compatibility=c.readUint8(),this.AVCLevelIndication=c.readUint8(),this.lengthSizeMinusOne=c.readUint8()&3,this.nb_SPS_nalus=c.readUint8()&31,m=this.size-this.hdr_size-6,this.SPS=[],p=0;p<this.nb_SPS_nalus;p++)this.SPS[p]={},this.SPS[p].length=c.readUint16(),this.SPS[p].nalu=c.readUint8Array(this.SPS[p].length),m-=2+this.SPS[p].length;for(this.nb_PPS_nalus=c.readUint8(),m--,this.PPS=[],p=0;p<this.nb_PPS_nalus;p++)this.PPS[p]={},this.PPS[p].length=c.readUint16(),this.PPS[p].nalu=c.readUint8Array(this.PPS[p].length),m-=2+this.PPS[p].length;m>0&&(this.ext=c.readUint8Array(m))}),s.createBoxCtor("btrt",function(c){this.bufferSizeDB=c.readUint32(),this.maxBitrate=c.readUint32(),this.avgBitrate=c.readUint32()}),s.createFullBoxCtor("ccst",function(c){var p=c.readUint8();this.all_ref_pics_intra=(p&128)==128,this.intra_pred_used=(p&64)==64,this.max_ref_per_pic=(p&63)>>2,c.readUint24()}),s.createBoxCtor("cdef",function(c){var p;for(this.channel_count=c.readUint16(),this.channel_indexes=[],this.channel_types=[],this.channel_associations=[],p=0;p<this.channel_count;p++)this.channel_indexes.push(c.readUint16()),this.channel_types.push(c.readUint16()),this.channel_associations.push(c.readUint16())}),s.createBoxCtor("clap",function(c){this.cleanApertureWidthN=c.readUint32(),this.cleanApertureWidthD=c.readUint32(),this.cleanApertureHeightN=c.readUint32(),this.cleanApertureHeightD=c.readUint32(),this.horizOffN=c.readUint32(),this.horizOffD=c.readUint32(),this.vertOffN=c.readUint32(),this.vertOffD=c.readUint32()}),s.createBoxCtor("clli",function(c){this.max_content_light_level=c.readUint16(),this.max_pic_average_light_level=c.readUint16()}),s.createFullBoxCtor("cmex",function(c){this.flags&1&&(this.pos_x=c.readInt32()),this.flags&2&&(this.pos_y=c.readInt32()),this.flags&4&&(this.pos_z=c.readInt32()),this.flags&8&&(this.version==0?this.flags&16?(this.quat_x=c.readInt32(),this.quat_y=c.readInt32(),this.quat_z=c.readInt32()):(this.quat_x=c.readInt16(),this.quat_y=c.readInt16(),this.quat_z=c.readInt16()):this.version==1),this.flags&32&&(this.id=c.readUint32())}),s.createFullBoxCtor("cmin",function(c){this.focal_length_x=c.readInt32(),this.principal_point_x=c.readInt32(),this.principal_point_y=c.readInt32(),this.flags&1&&(this.focal_length_y=c.readInt32(),this.skew_factor=c.readInt32())}),s.createBoxCtor("cmpd",function(c){for(this.component_count=c.readUint32(),this.component_types=[],this.component_type_urls=[],i=0;i<this.component_count;i++){var p=c.readUint16();this.component_types.push(p),p>=32768&&this.component_type_urls.push(c.readCString())}}),s.createFullBoxCtor("co64",function(c){var p,m;if(p=c.readUint32(),this.chunk_offsets=[],this.version===0)for(m=0;m<p;m++)this.chunk_offsets.push(c.readUint64())}),s.createFullBoxCtor("CoLL",function(c){this.maxCLL=c.readUint16(),this.maxFALL=c.readUint16()}),s.createBoxCtor("colr",function(c){if(this.colour_type=c.readString(4),this.colour_type==="nclx"){this.colour_primaries=c.readUint16(),this.transfer_characteristics=c.readUint16(),this.matrix_coefficients=c.readUint16();var p=c.readUint8();this.full_range_flag=p>>7}else this.colour_type==="rICC"?this.ICC_profile=c.readUint8Array(this.size-4):this.colour_type==="prof"&&(this.ICC_profile=c.readUint8Array(this.size-4))}),s.createFullBoxCtor("cprt",function(c){this.parseLanguage(c),this.notice=c.readCString()}),s.createFullBoxCtor("cslg",function(c){this.version===0&&(this.compositionToDTSShift=c.readInt32(),this.leastDecodeToDisplayDelta=c.readInt32(),this.greatestDecodeToDisplayDelta=c.readInt32(),this.compositionStartTime=c.readInt32(),this.compositionEndTime=c.readInt32())}),s.createFullBoxCtor("ctts",function(c){var p,m;if(p=c.readUint32(),this.sample_counts=[],this.sample_offsets=[],this.version===0)for(m=0;m<p;m++){this.sample_counts.push(c.readUint32());var b=c.readInt32();b<0&&e.warn("BoxParser","ctts box uses negative values without using version 1"),this.sample_offsets.push(b)}else if(this.version==1)for(m=0;m<p;m++)this.sample_counts.push(c.readUint32()),this.sample_offsets.push(c.readInt32())}),s.createBoxCtor("dac3",function(c){var p=c.readUint8(),m=c.readUint8(),b=c.readUint8();this.fscod=p>>6,this.bsid=p>>1&31,this.bsmod=(p&1)<<2|m>>6&3,this.acmod=m>>3&7,this.lfeon=m>>2&1,this.bit_rate_code=m&3|b>>5&7}),s.createBoxCtor("dec3",function(c){var p=c.readUint16();this.data_rate=p>>3,this.num_ind_sub=p&7,this.ind_subs=[];for(var m=0;m<this.num_ind_sub+1;m++){var b={};this.ind_subs.push(b);var w=c.readUint8(),A=c.readUint8(),R=c.readUint8();b.fscod=w>>6,b.bsid=w>>1&31,b.bsmod=(w&1)<<4|A>>4&15,b.acmod=A>>1&7,b.lfeon=A&1,b.num_dep_sub=R>>1&15,b.num_dep_sub>0&&(b.chan_loc=(R&1)<<8|c.readUint8())}}),s.createFullBoxCtor("dfLa",function(c){var p=127,m=128,b=[],w=["STREAMINFO","PADDING","APPLICATION","SEEKTABLE","VORBIS_COMMENT","CUESHEET","PICTURE","RESERVED"];do{var A=c.readUint8(),R=Math.min(A&p,w.length-1);if(R?c.readUint8Array(c.readUint24()):(c.readUint8Array(13),this.samplerate=c.readUint32()>>12,c.readUint8Array(20)),b.push(w[R]),A&m)break}while(!0);this.numMetadataBlocks=b.length+" ("+b.join(", ")+")"}),s.createBoxCtor("dimm",function(c){this.bytessent=c.readUint64()}),s.createBoxCtor("dmax",function(c){this.time=c.readUint32()}),s.createBoxCtor("dmed",function(c){this.bytessent=c.readUint64()}),s.createBoxCtor("dOps",function(c){if(this.Version=c.readUint8(),this.OutputChannelCount=c.readUint8(),this.PreSkip=c.readUint16(),this.InputSampleRate=c.readUint32(),this.OutputGain=c.readInt16(),this.ChannelMappingFamily=c.readUint8(),this.ChannelMappingFamily!==0){this.StreamCount=c.readUint8(),this.CoupledCount=c.readUint8(),this.ChannelMapping=[];for(var p=0;p<this.OutputChannelCount;p++)this.ChannelMapping[p]=c.readUint8()}}),s.createFullBoxCtor("dref",function(c){var p,m;this.entries=[];for(var b=c.readUint32(),w=0;w<b;w++)if(p=s.parseOneBox(c,!1,this.size-(c.getPosition()-this.start)),p.code===s.OK)m=p.box,this.entries.push(m);else return}),s.createBoxCtor("drep",function(c){this.bytessent=c.readUint64()}),s.createFullBoxCtor("elng",function(c){this.extended_language=c.readString(this.size-this.hdr_size)}),s.createFullBoxCtor("elst",function(c){this.entries=[];for(var p=c.readUint32(),m=0;m<p;m++){var b={};this.entries.push(b),this.version===1?(b.segment_duration=c.readUint64(),b.media_time=c.readInt64()):(b.segment_duration=c.readUint32(),b.media_time=c.readInt32()),b.media_rate_integer=c.readInt16(),b.media_rate_fraction=c.readInt16()}}),s.createFullBoxCtor("emsg",function(c){this.version==1?(this.timescale=c.readUint32(),this.presentation_time=c.readUint64(),this.event_duration=c.readUint32(),this.id=c.readUint32(),this.scheme_id_uri=c.readCString(),this.value=c.readCString()):(this.scheme_id_uri=c.readCString(),this.value=c.readCString(),this.timescale=c.readUint32(),this.presentation_time_delta=c.readUint32(),this.event_duration=c.readUint32(),this.id=c.readUint32());var p=this.size-this.hdr_size-(4*4+(this.scheme_id_uri.length+1)+(this.value.length+1));this.version==1&&(p-=4),this.message_data=c.readUint8Array(p)}),s.createEntityToGroupCtor=function(c,p){s[c+"Box"]=function(m){s.FullBox.call(this,c,m)},s[c+"Box"].prototype=new s.FullBox,s[c+"Box"].prototype.parse=function(m){if(this.parseFullHeader(m),p)p.call(this,m);else for(this.group_id=m.readUint32(),this.num_entities_in_group=m.readUint32(),this.entity_ids=[],i=0;i<this.num_entities_in_group;i++){var b=m.readUint32();this.entity_ids.push(b)}}},s.createEntityToGroupCtor("aebr"),s.createEntityToGroupCtor("afbr"),s.createEntityToGroupCtor("albc"),s.createEntityToGroupCtor("altr"),s.createEntityToGroupCtor("brst"),s.createEntityToGroupCtor("dobr"),s.createEntityToGroupCtor("eqiv"),s.createEntityToGroupCtor("favc"),s.createEntityToGroupCtor("fobr"),s.createEntityToGroupCtor("iaug"),s.createEntityToGroupCtor("pano"),s.createEntityToGroupCtor("slid"),s.createEntityToGroupCtor("ster"),s.createEntityToGroupCtor("tsyn"),s.createEntityToGroupCtor("wbbr"),s.createEntityToGroupCtor("prgr"),s.createEntityToGroupCtor("pymd",function(c){this.group_id=c.readUint32(),this.num_entities_in_group=c.readUint32(),this.entity_ids=[];for(var p=0;p<this.num_entities_in_group;p++){var m=c.readUint32();this.entity_ids.push(m)}for(this.tile_size_x=c.readUint16(),this.tile_size_y=c.readUint16(),this.layer_binning=[],this.tiles_in_layer_column_minus1=[],this.tiles_in_layer_row_minus1=[],p=0;p<this.num_entities_in_group;p++)this.layer_binning[p]=c.readUint16(),this.tiles_in_layer_row_minus1[p]=c.readUint16(),this.tiles_in_layer_column_minus1[p]=c.readUint16()}),s.createFullBoxCtor("esds",function(c){var p=c.readUint8Array(this.size-this.hdr_size);if(this.data=p,typeof l<"u"){var m=new l;this.esd=m.parseOneDescriptor(new r(p.buffer,0,r.BIG_ENDIAN))}}),s.createBoxCtor("fiel",function(c){this.fieldCount=c.readUint8(),this.fieldOrdering=c.readUint8()}),s.createBoxCtor("frma",function(c){this.data_format=c.readString(4)}),s.createBoxCtor("ftyp",function(c){var p=this.size-this.hdr_size;this.major_brand=c.readString(4),this.minor_version=c.readUint32(),p-=8,this.compatible_brands=[];for(var m=0;p>=4;)this.compatible_brands[m]=c.readString(4),p-=4,m++}),s.createFullBoxCtor("hdlr",function(c){this.version===0&&(c.readUint32(),this.handler=c.readString(4),c.readUint32Array(3),this.name=c.readString(this.size-this.hdr_size-20),this.name[this.name.length-1]==="\0"&&(this.name=this.name.slice(0,-1)))}),s.createBoxCtor("hvcC",function(c){var p,m,b,w;this.configurationVersion=c.readUint8(),w=c.readUint8(),this.general_profile_space=w>>6,this.general_tier_flag=(w&32)>>5,this.general_profile_idc=w&31,this.general_profile_compatibility=c.readUint32(),this.general_constraint_indicator=c.readUint8Array(6),this.general_level_idc=c.readUint8(),this.min_spatial_segmentation_idc=c.readUint16()&4095,this.parallelismType=c.readUint8()&3,this.chroma_format_idc=c.readUint8()&3,this.bit_depth_luma_minus8=c.readUint8()&7,this.bit_depth_chroma_minus8=c.readUint8()&7,this.avgFrameRate=c.readUint16(),w=c.readUint8(),this.constantFrameRate=w>>6,this.numTemporalLayers=(w&13)>>3,this.temporalIdNested=(w&4)>>2,this.lengthSizeMinusOne=w&3,this.nalu_arrays=[];var A=c.readUint8();for(p=0;p<A;p++){var R=[];this.nalu_arrays.push(R),w=c.readUint8(),R.completeness=(w&128)>>7,R.nalu_type=w&63;var O=c.readUint16();for(m=0;m<O;m++){var P={};R.push(P),b=c.readUint16(),P.data=c.readUint8Array(b)}}}),s.createFullBoxCtor("iinf",function(c){var p;this.version===0?this.entry_count=c.readUint16():this.entry_count=c.readUint32(),this.item_infos=[];for(var m=0;m<this.entry_count;m++)if(p=s.parseOneBox(c,!1,this.size-(c.getPosition()-this.start)),p.code===s.OK)p.box.type!=="infe"&&e.error("BoxParser","Expected 'infe' box, got "+p.box.type),this.item_infos[m]=p.box;else return}),s.createFullBoxCtor("iloc",function(c){var p;p=c.readUint8(),this.offset_size=p>>4&15,this.length_size=p&15,p=c.readUint8(),this.base_offset_size=p>>4&15,this.version===1||this.version===2?this.index_size=p&15:this.index_size=0,this.items=[];var m=0;if(this.version<2)m=c.readUint16();else if(this.version===2)m=c.readUint32();else throw"version of iloc box not supported";for(var b=0;b<m;b++){var w={};if(this.items.push(w),this.version<2)w.item_ID=c.readUint16();else if(this.version===2)w.item_ID=c.readUint32();else throw"version of iloc box not supported";switch(this.version===1||this.version===2?w.construction_method=c.readUint16()&15:w.construction_method=0,w.data_reference_index=c.readUint16(),this.base_offset_size){case 0:w.base_offset=0;break;case 4:w.base_offset=c.readUint32();break;case 8:w.base_offset=c.readUint64();break;default:throw"Error reading base offset size"}var A=c.readUint16();w.extents=[];for(var R=0;R<A;R++){var O={};if(w.extents.push(O),this.version===1||this.version===2)switch(this.index_size){case 0:O.extent_index=0;break;case 4:O.extent_index=c.readUint32();break;case 8:O.extent_index=c.readUint64();break;default:throw"Error reading extent index"}switch(this.offset_size){case 0:O.extent_offset=0;break;case 4:O.extent_offset=c.readUint32();break;case 8:O.extent_offset=c.readUint64();break;default:throw"Error reading extent index"}switch(this.length_size){case 0:O.extent_length=0;break;case 4:O.extent_length=c.readUint32();break;case 8:O.extent_length=c.readUint64();break;default:throw"Error reading extent index"}}}}),s.createBoxCtor("imir",function(c){var p=c.readUint8();this.reserved=p>>7,this.axis=p&1}),s.createFullBoxCtor("infe",function(c){if((this.version===0||this.version===1)&&(this.item_ID=c.readUint16(),this.item_protection_index=c.readUint16(),this.item_name=c.readCString(),this.content_type=c.readCString(),this.content_encoding=c.readCString()),this.version===1){this.extension_type=c.readString(4),e.warn("BoxParser","Cannot parse extension type"),c.seek(this.start+this.size);return}this.version>=2&&(this.version===2?this.item_ID=c.readUint16():this.version===3&&(this.item_ID=c.readUint32()),this.item_protection_index=c.readUint16(),this.item_type=c.readString(4),this.item_name=c.readCString(),this.item_type==="mime"?(this.content_type=c.readCString(),this.content_encoding=c.readCString()):this.item_type==="uri "&&(this.item_uri_type=c.readCString()))}),s.createFullBoxCtor("ipma",function(c){var p,m;for(entry_count=c.readUint32(),this.associations=[],p=0;p<entry_count;p++){var b={};this.associations.push(b),this.version<1?b.id=c.readUint16():b.id=c.readUint32();var w=c.readUint8();for(b.props=[],m=0;m<w;m++){var A=c.readUint8(),R={};b.props.push(R),R.essential=(A&128)>>7===1,this.flags&1?R.property_index=(A&127)<<8|c.readUint8():R.property_index=A&127}}}),s.createFullBoxCtor("iref",function(c){var p,m;for(this.references=[];c.getPosition()<this.start+this.size;)if(p=s.parseOneBox(c,!0,this.size-(c.getPosition()-this.start)),p.code===s.OK)this.version===0?m=new s.SingleItemTypeReferenceBox(p.type,p.size,p.hdr_size,p.start):m=new s.SingleItemTypeReferenceBoxLarge(p.type,p.size,p.hdr_size,p.start),m.write===s.Box.prototype.write&&m.type!=="mdat"&&(e.warn("BoxParser",m.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),m.parseDataAndRewind(c)),m.parse(c),this.references.push(m);else return}),s.createBoxCtor("irot",function(c){this.angle=c.readUint8()&3}),s.createFullBoxCtor("ispe",function(c){this.image_width=c.readUint32(),this.image_height=c.readUint32()}),s.createFullBoxCtor("kind",function(c){this.schemeURI=c.readCString(),this.value=c.readCString()}),s.createFullBoxCtor("leva",function(c){var p=c.readUint8();this.levels=[];for(var m=0;m<p;m++){var b={};this.levels[m]=b,b.track_ID=c.readUint32();var w=c.readUint8();switch(b.padding_flag=w>>7,b.assignment_type=w&127,b.assignment_type){case 0:b.grouping_type=c.readString(4);break;case 1:b.grouping_type=c.readString(4),b.grouping_type_parameter=c.readUint32();break;case 2:break;case 3:break;case 4:b.sub_track_id=c.readUint32();break;default:e.warn("BoxParser","Unknown leva assignement type")}}}),s.createBoxCtor("lhvC",function(c){var p,m,b;this.configurationVersion=c.readUint8(),this.min_spatial_segmentation_idc=c.readUint16()&4095,this.parallelismType=c.readUint8()&3,b=c.readUint8(),this.numTemporalLayers=(b&13)>>3,this.temporalIdNested=(b&4)>>2,this.lengthSizeMinusOne=b&3,this.nalu_arrays=[];var w=c.readUint8();for(p=0;p<w;p++){var A=[];this.nalu_arrays.push(A),b=c.readUint8(),A.completeness=(b&128)>>7,A.nalu_type=b&63;var R=c.readUint16();for(m=0;m<R;m++){var O={};A.push(O);var P=c.readUint16();O.data=c.readUint8Array(P)}}}),s.createBoxCtor("lsel",function(c){this.layer_id=c.readUint16()}),s.createBoxCtor("maxr",function(c){this.period=c.readUint32(),this.bytes=c.readUint32()});function f(c,p){this.x=c,this.y=p}f.prototype.toString=function(){return"("+this.x+","+this.y+")"},s.createBoxCtor("mdcv",function(c){this.display_primaries=[],this.display_primaries[0]=new f(c.readUint16(),c.readUint16()),this.display_primaries[1]=new f(c.readUint16(),c.readUint16()),this.display_primaries[2]=new f(c.readUint16(),c.readUint16()),this.white_point=new f(c.readUint16(),c.readUint16()),this.max_display_mastering_luminance=c.readUint32(),this.min_display_mastering_luminance=c.readUint32()}),s.createFullBoxCtor("mdhd",function(c){this.version==1?(this.creation_time=c.readUint64(),this.modification_time=c.readUint64(),this.timescale=c.readUint32(),this.duration=c.readUint64()):(this.creation_time=c.readUint32(),this.modification_time=c.readUint32(),this.timescale=c.readUint32(),this.duration=c.readUint32()),this.parseLanguage(c),c.readUint16()}),s.createFullBoxCtor("mehd",function(c){this.flags&1&&(e.warn("BoxParser","mehd box incorrectly uses flags set to 1, converting version to 1"),this.version=1),this.version==1?this.fragment_duration=c.readUint64():this.fragment_duration=c.readUint32()}),s.createFullBoxCtor("meta",function(c){this.boxes=[],s.ContainerBox.prototype.parse.call(this,c)}),s.createFullBoxCtor("mfhd",function(c){this.sequence_number=c.readUint32()}),s.createFullBoxCtor("mfro",function(c){this._size=c.readUint32()}),s.createFullBoxCtor("mskC",function(c){this.bits_per_pixel=c.readUint8()}),s.createFullBoxCtor("mvhd",function(c){this.version==1?(this.creation_time=c.readUint64(),this.modification_time=c.readUint64(),this.timescale=c.readUint32(),this.duration=c.readUint64()):(this.creation_time=c.readUint32(),this.modification_time=c.readUint32(),this.timescale=c.readUint32(),this.duration=c.readUint32()),this.rate=c.readUint32(),this.volume=c.readUint16()>>8,c.readUint16(),c.readUint32Array(2),this.matrix=c.readUint32Array(9),c.readUint32Array(6),this.next_track_id=c.readUint32()}),s.createBoxCtor("npck",function(c){this.packetssent=c.readUint32()}),s.createBoxCtor("nump",function(c){this.packetssent=c.readUint64()}),s.createFullBoxCtor("padb",function(c){var p=c.readUint32();this.padbits=[];for(var m=0;m<Math.floor((p+1)/2);m++)this.padbits=c.readUint8()}),s.createBoxCtor("pasp",function(c){this.hSpacing=c.readUint32(),this.vSpacing=c.readUint32()}),s.createBoxCtor("payl",function(c){this.text=c.readString(this.size-this.hdr_size)}),s.createBoxCtor("payt",function(c){this.payloadID=c.readUint32();var p=c.readUint8();this.rtpmap_string=c.readString(p)}),s.createFullBoxCtor("pdin",function(c){var p=(this.size-this.hdr_size)/8;this.rate=[],this.initial_delay=[];for(var m=0;m<p;m++)this.rate[m]=c.readUint32(),this.initial_delay[m]=c.readUint32()}),s.createFullBoxCtor("pitm",function(c){this.version===0?this.item_id=c.readUint16():this.item_id=c.readUint32()}),s.createFullBoxCtor("pixi",function(c){var p;for(this.num_channels=c.readUint8(),this.bits_per_channels=[],p=0;p<this.num_channels;p++)this.bits_per_channels[p]=c.readUint8()}),s.createBoxCtor("pmax",function(c){this.bytes=c.readUint32()}),s.createFullBoxCtor("prdi",function(c){if(this.step_count=c.readUint16(),this.item_count=[],this.flags&2)for(var p=0;p<this.step_count;p++)this.item_count[p]=c.readUint16()}),s.createFullBoxCtor("prft",function(c){this.ref_track_id=c.readUint32(),this.ntp_timestamp=c.readUint64(),this.version===0?this.media_time=c.readUint32():this.media_time=c.readUint64()}),s.createFullBoxCtor("pssh",function(c){if(this.system_id=s.parseHex16(c),this.version>0){var p=c.readUint32();this.kid=[];for(var m=0;m<p;m++)this.kid[m]=s.parseHex16(c)}var b=c.readUint32();b>0&&(this.data=c.readUint8Array(b))}),s.createFullBoxCtor("clef",function(c){this.width=c.readUint32(),this.height=c.readUint32()}),s.createFullBoxCtor("enof",function(c){this.width=c.readUint32(),this.height=c.readUint32()}),s.createFullBoxCtor("prof",function(c){this.width=c.readUint32(),this.height=c.readUint32()}),s.createContainerBoxCtor("tapt",null,["clef","prof","enof"]),s.createBoxCtor("rtp ",function(c){this.descriptionformat=c.readString(4),this.sdptext=c.readString(this.size-this.hdr_size-4)}),s.createFullBoxCtor("saio",function(c){this.flags&1&&(this.aux_info_type=c.readUint32(),this.aux_info_type_parameter=c.readUint32());var p=c.readUint32();this.offset=[];for(var m=0;m<p;m++)this.version===0?this.offset[m]=c.readUint32():this.offset[m]=c.readUint64()}),s.createFullBoxCtor("saiz",function(c){this.flags&1&&(this.aux_info_type=c.readUint32(),this.aux_info_type_parameter=c.readUint32()),this.default_sample_info_size=c.readUint8();var p=c.readUint32();if(this.sample_info_size=[],this.default_sample_info_size===0)for(var m=0;m<p;m++)this.sample_info_size[m]=c.readUint8()}),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_METADATA,"mett",function(c){this.parseHeader(c),this.content_encoding=c.readCString(),this.mime_format=c.readCString(),this.parseFooter(c)}),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_METADATA,"metx",function(c){this.parseHeader(c),this.content_encoding=c.readCString(),this.namespace=c.readCString(),this.schema_location=c.readCString(),this.parseFooter(c)}),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_SUBTITLE,"sbtt",function(c){this.parseHeader(c),this.content_encoding=c.readCString(),this.mime_format=c.readCString(),this.parseFooter(c)}),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_SUBTITLE,"stpp",function(c){this.parseHeader(c),this.namespace=c.readCString(),this.schema_location=c.readCString(),this.auxiliary_mime_types=c.readCString(),this.parseFooter(c)}),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_SUBTITLE,"stxt",function(c){this.parseHeader(c),this.content_encoding=c.readCString(),this.mime_format=c.readCString(),this.parseFooter(c)}),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_SUBTITLE,"tx3g",function(c){this.parseHeader(c),this.displayFlags=c.readUint32(),this.horizontal_justification=c.readInt8(),this.vertical_justification=c.readInt8(),this.bg_color_rgba=c.readUint8Array(4),this.box_record=c.readInt16Array(4),this.style_record=c.readUint8Array(12),this.parseFooter(c)}),s.createSampleEntryCtor(s.SAMPLE_ENTRY_TYPE_METADATA,"wvtt",function(c){this.parseHeader(c),this.parseFooter(c)}),s.createSampleGroupCtor("alst",function(c){var p,m=c.readUint16();for(this.first_output_sample=c.readUint16(),this.sample_offset=[],p=0;p<m;p++)this.sample_offset[p]=c.readUint32();var b=this.description_length-4-4*m;for(this.num_output_samples=[],this.num_total_samples=[],p=0;p<b/4;p++)this.num_output_samples[p]=c.readUint16(),this.num_total_samples[p]=c.readUint16()}),s.createSampleGroupCtor("avll",function(c){this.layerNumber=c.readUint8(),this.accurateStatisticsFlag=c.readUint8(),this.avgBitRate=c.readUint16(),this.avgFrameRate=c.readUint16()}),s.createSampleGroupCtor("avss",function(c){this.subSequenceIdentifier=c.readUint16(),this.layerNumber=c.readUint8();var p=c.readUint8();this.durationFlag=p>>7,this.avgRateFlag=p>>6&1,this.durationFlag&&(this.duration=c.readUint32()),this.avgRateFlag&&(this.accurateStatisticsFlag=c.readUint8(),this.avgBitRate=c.readUint16(),this.avgFrameRate=c.readUint16()),this.dependency=[];for(var m=c.readUint8(),b=0;b<m;b++){var w={};this.dependency.push(w),w.subSeqDirectionFlag=c.readUint8(),w.layerNumber=c.readUint8(),w.subSequenceIdentifier=c.readUint16()}}),s.createSampleGroupCtor("dtrt",function(c){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),s.createSampleGroupCtor("mvif",function(c){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),s.createSampleGroupCtor("prol",function(c){this.roll_distance=c.readInt16()}),s.createSampleGroupCtor("rap ",function(c){var p=c.readUint8();this.num_leading_samples_known=p>>7,this.num_leading_samples=p&127}),s.createSampleGroupCtor("rash",function(c){if(this.operation_point_count=c.readUint16(),this.description_length!==2+(this.operation_point_count===1?2:this.operation_point_count*6)+9)e.warn("BoxParser","Mismatch in "+this.grouping_type+" sample group length"),this.data=c.readUint8Array(this.description_length-2);else{if(this.operation_point_count===1)this.target_rate_share=c.readUint16();else{this.target_rate_share=[],this.available_bitrate=[];for(var p=0;p<this.operation_point_count;p++)this.available_bitrate[p]=c.readUint32(),this.target_rate_share[p]=c.readUint16()}this.maximum_bitrate=c.readUint32(),this.minimum_bitrate=c.readUint32(),this.discard_priority=c.readUint8()}}),s.createSampleGroupCtor("roll",function(c){this.roll_distance=c.readInt16()}),s.SampleGroupEntry.prototype.parse=function(c){e.warn("BoxParser","Unknown Sample Group type: "+this.grouping_type),this.data=c.readUint8Array(this.description_length)},s.createSampleGroupCtor("scif",function(c){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),s.createSampleGroupCtor("scnm",function(c){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),s.createSampleGroupCtor("seig",function(c){this.reserved=c.readUint8();var p=c.readUint8();this.crypt_byte_block=p>>4,this.skip_byte_block=p&15,this.isProtected=c.readUint8(),this.Per_Sample_IV_Size=c.readUint8(),this.KID=s.parseHex16(c),this.constant_IV_size=0,this.constant_IV=0,this.isProtected===1&&this.Per_Sample_IV_Size===0&&(this.constant_IV_size=c.readUint8(),this.constant_IV=c.readUint8Array(this.constant_IV_size))}),s.createSampleGroupCtor("stsa",function(c){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),s.createSampleGroupCtor("sync",function(c){var p=c.readUint8();this.NAL_unit_type=p&63}),s.createSampleGroupCtor("tele",function(c){var p=c.readUint8();this.level_independently_decodable=p>>7}),s.createSampleGroupCtor("tsas",function(c){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),s.createSampleGroupCtor("tscl",function(c){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),s.createSampleGroupCtor("vipr",function(c){e.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),s.createFullBoxCtor("sbgp",function(c){this.grouping_type=c.readString(4),this.version===1?this.grouping_type_parameter=c.readUint32():this.grouping_type_parameter=0,this.entries=[];for(var p=c.readUint32(),m=0;m<p;m++){var b={};this.entries.push(b),b.sample_count=c.readInt32(),b.group_description_index=c.readInt32()}});function h(c,p){this.bad_pixel_row=c,this.bad_pixel_column=p}h.prototype.toString=function(){return"[row: "+this.bad_pixel_row+", column: "+this.bad_pixel_column+"]"},s.createFullBoxCtor("sbpm",function(c){var p;for(this.component_count=c.readUint16(),this.component_index=[],p=0;p<this.component_count;p++)this.component_index.push(c.readUint16());var m=c.readUint8();for(this.correction_applied=(m&128)==128,this.num_bad_rows=c.readUint32(),this.num_bad_cols=c.readUint32(),this.num_bad_pixels=c.readUint32(),this.bad_rows=[],this.bad_columns=[],this.bad_pixels=[],p=0;p<this.num_bad_rows;p++)this.bad_rows.push(c.readUint32());for(p=0;p<this.num_bad_cols;p++)this.bad_columns.push(c.readUint32());for(p=0;p<this.num_bad_pixels;p++){var b=c.readUint32(),w=c.readUint32();this.bad_pixels.push(new h(b,w))}}),s.createFullBoxCtor("schm",function(c){this.scheme_type=c.readString(4),this.scheme_version=c.readUint32(),this.flags&1&&(this.scheme_uri=c.readString(this.size-this.hdr_size-8))}),s.createBoxCtor("sdp ",function(c){this.sdptext=c.readString(this.size-this.hdr_size)}),s.createFullBoxCtor("sdtp",function(c){var p,m=this.size-this.hdr_size;this.is_leading=[],this.sample_depends_on=[],this.sample_is_depended_on=[],this.sample_has_redundancy=[];for(var b=0;b<m;b++)p=c.readUint8(),this.is_leading[b]=p>>6,this.sample_depends_on[b]=p>>4&3,this.sample_is_depended_on[b]=p>>2&3,this.sample_has_redundancy[b]=p&3}),s.createFullBoxCtor("senc"),s.createFullBoxCtor("sgpd",function(c){this.grouping_type=c.readString(4),e.debug("BoxParser","Found Sample Groups of type "+this.grouping_type),this.version===1?this.default_length=c.readUint32():this.default_length=0,this.version>=2&&(this.default_group_description_index=c.readUint32()),this.entries=[];for(var p=c.readUint32(),m=0;m<p;m++){var b;s[this.grouping_type+"SampleGroupEntry"]?b=new s[this.grouping_type+"SampleGroupEntry"](this.grouping_type):b=new s.SampleGroupEntry(this.grouping_type),this.entries.push(b),this.version===1?this.default_length===0?b.description_length=c.readUint32():b.description_length=this.default_length:b.description_length=this.default_length,b.write===s.SampleGroupEntry.prototype.write&&(e.info("BoxParser","SampleGroup for type "+this.grouping_type+" writing not yet implemented, keeping unparsed data in memory for later write"),b.data=c.readUint8Array(b.description_length),c.position-=b.description_length),b.parse(c)}}),s.createFullBoxCtor("sidx",function(c){this.reference_ID=c.readUint32(),this.timescale=c.readUint32(),this.version===0?(this.earliest_presentation_time=c.readUint32(),this.first_offset=c.readUint32()):(this.earliest_presentation_time=c.readUint64(),this.first_offset=c.readUint64()),c.readUint16(),this.references=[];for(var p=c.readUint16(),m=0;m<p;m++){var b={};this.references.push(b);var w=c.readUint32();b.reference_type=w>>31&1,b.referenced_size=w&2147483647,b.subsegment_duration=c.readUint32(),w=c.readUint32(),b.starts_with_SAP=w>>31&1,b.SAP_type=w>>28&7,b.SAP_delta_time=w&268435455}}),s.SingleItemTypeReferenceBox=function(c,p,m,b){s.Box.call(this,c,p),this.hdr_size=m,this.start=b},s.SingleItemTypeReferenceBox.prototype=new s.Box,s.SingleItemTypeReferenceBox.prototype.parse=function(c){this.from_item_ID=c.readUint16();var p=c.readUint16();this.references=[];for(var m=0;m<p;m++)this.references[m]={},this.references[m].to_item_ID=c.readUint16()},s.SingleItemTypeReferenceBoxLarge=function(c,p,m,b){s.Box.call(this,c,p),this.hdr_size=m,this.start=b},s.SingleItemTypeReferenceBoxLarge.prototype=new s.Box,s.SingleItemTypeReferenceBoxLarge.prototype.parse=function(c){this.from_item_ID=c.readUint32();var p=c.readUint16();this.references=[];for(var m=0;m<p;m++)this.references[m]={},this.references[m].to_item_ID=c.readUint32()},s.createFullBoxCtor("SmDm",function(c){this.primaryRChromaticity_x=c.readUint16(),this.primaryRChromaticity_y=c.readUint16(),this.primaryGChromaticity_x=c.readUint16(),this.primaryGChromaticity_y=c.readUint16(),this.primaryBChromaticity_x=c.readUint16(),this.primaryBChromaticity_y=c.readUint16(),this.whitePointChromaticity_x=c.readUint16(),this.whitePointChromaticity_y=c.readUint16(),this.luminanceMax=c.readUint32(),this.luminanceMin=c.readUint32()}),s.createFullBoxCtor("smhd",function(c){this.balance=c.readUint16(),c.readUint16()}),s.createFullBoxCtor("ssix",function(c){this.subsegments=[];for(var p=c.readUint32(),m=0;m<p;m++){var b={};this.subsegments.push(b),b.ranges=[];for(var w=c.readUint32(),A=0;A<w;A++){var R={};b.ranges.push(R),R.level=c.readUint8(),R.range_size=c.readUint24()}}}),s.createFullBoxCtor("stco",function(c){var p;if(p=c.readUint32(),this.chunk_offsets=[],this.version===0)for(var m=0;m<p;m++)this.chunk_offsets.push(c.readUint32())}),s.createFullBoxCtor("stdp",function(c){var p=(this.size-this.hdr_size)/2;this.priority=[];for(var m=0;m<p;m++)this.priority[m]=c.readUint16()}),s.createFullBoxCtor("sthd"),s.createFullBoxCtor("stri",function(c){this.switch_group=c.readUint16(),this.alternate_group=c.readUint16(),this.sub_track_id=c.readUint32();var p=(this.size-this.hdr_size-8)/4;this.attribute_list=[];for(var m=0;m<p;m++)this.attribute_list[m]=c.readUint32()}),s.createFullBoxCtor("stsc",function(c){var p,m;if(p=c.readUint32(),this.first_chunk=[],this.samples_per_chunk=[],this.sample_description_index=[],this.version===0)for(m=0;m<p;m++)this.first_chunk.push(c.readUint32()),this.samples_per_chunk.push(c.readUint32()),this.sample_description_index.push(c.readUint32())}),s.createFullBoxCtor("stsd",function(c){var p,m,b,w;for(this.entries=[],b=c.readUint32(),p=1;p<=b;p++)if(m=s.parseOneBox(c,!0,this.size-(c.getPosition()-this.start)),m.code===s.OK)s[m.type+"SampleEntry"]?(w=new s[m.type+"SampleEntry"](m.size),w.hdr_size=m.hdr_size,w.start=m.start):(e.warn("BoxParser","Unknown sample entry type: "+m.type),w=new s.SampleEntry(m.type,m.size,m.hdr_size,m.start)),w.write===s.SampleEntry.prototype.write&&(e.info("BoxParser","SampleEntry "+w.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),w.parseDataAndRewind(c)),w.parse(c),this.entries.push(w);else return}),s.createFullBoxCtor("stsg",function(c){this.grouping_type=c.readUint32();var p=c.readUint16();this.group_description_index=[];for(var m=0;m<p;m++)this.group_description_index[m]=c.readUint32()}),s.createFullBoxCtor("stsh",function(c){var p,m;if(p=c.readUint32(),this.shadowed_sample_numbers=[],this.sync_sample_numbers=[],this.version===0)for(m=0;m<p;m++)this.shadowed_sample_numbers.push(c.readUint32()),this.sync_sample_numbers.push(c.readUint32())}),s.createFullBoxCtor("stss",function(c){var p,m;if(m=c.readUint32(),this.version===0)for(this.sample_numbers=[],p=0;p<m;p++)this.sample_numbers.push(c.readUint32())}),s.createFullBoxCtor("stsz",function(c){var p;if(this.sample_sizes=[],this.version===0)for(this.sample_size=c.readUint32(),this.sample_count=c.readUint32(),p=0;p<this.sample_count;p++)this.sample_size===0?this.sample_sizes.push(c.readUint32()):this.sample_sizes[p]=this.sample_size}),s.createFullBoxCtor("stts",function(c){var p,m,b;if(p=c.readUint32(),this.sample_counts=[],this.sample_deltas=[],this.version===0)for(m=0;m<p;m++)this.sample_counts.push(c.readUint32()),b=c.readInt32(),b<0&&(e.warn("BoxParser","File uses negative stts sample delta, using value 1 instead, sync may be lost!"),b=1),this.sample_deltas.push(b)}),s.createFullBoxCtor("stvi",function(c){var p=c.readUint32();this.single_view_allowed=p&3,this.stereo_scheme=c.readUint32();var m=c.readUint32();this.stereo_indication_type=c.readString(m);var b,w;for(this.boxes=[];c.getPosition()<this.start+this.size;)if(b=s.parseOneBox(c,!1,this.size-(c.getPosition()-this.start)),b.code===s.OK)w=b.box,this.boxes.push(w),this[w.type]=w;else return}),s.createBoxCtor("styp",function(c){s.ftypBox.prototype.parse.call(this,c)}),s.createFullBoxCtor("stz2",function(c){var p,m;if(this.sample_sizes=[],this.version===0)if(this.reserved=c.readUint24(),this.field_size=c.readUint8(),m=c.readUint32(),this.field_size===4)for(p=0;p<m;p+=2){var b=c.readUint8();this.sample_sizes[p]=b>>4&15,this.sample_sizes[p+1]=b&15}else if(this.field_size===8)for(p=0;p<m;p++)this.sample_sizes[p]=c.readUint8();else if(this.field_size===16)for(p=0;p<m;p++)this.sample_sizes[p]=c.readUint16();else e.error("BoxParser","Error in length field in stz2 box")}),s.createFullBoxCtor("subs",function(c){var p,m,b,w;for(b=c.readUint32(),this.entries=[],p=0;p<b;p++){var A={};if(this.entries[p]=A,A.sample_delta=c.readUint32(),A.subsamples=[],w=c.readUint16(),w>0)for(m=0;m<w;m++){var R={};A.subsamples.push(R),this.version==1?R.size=c.readUint32():R.size=c.readUint16(),R.priority=c.readUint8(),R.discardable=c.readUint8(),R.codec_specific_parameters=c.readUint32()}}}),s.createFullBoxCtor("tenc",function(c){if(c.readUint8(),this.version===0)c.readUint8();else{var p=c.readUint8();this.default_crypt_byte_block=p>>4&15,this.default_skip_byte_block=p&15}this.default_isProtected=c.readUint8(),this.default_Per_Sample_IV_Size=c.readUint8(),this.default_KID=s.parseHex16(c),this.default_isProtected===1&&this.default_Per_Sample_IV_Size===0&&(this.default_constant_IV_size=c.readUint8(),this.default_constant_IV=c.readUint8Array(this.default_constant_IV_size))}),s.createFullBoxCtor("tfdt",function(c){this.version==1?this.baseMediaDecodeTime=c.readUint64():this.baseMediaDecodeTime=c.readUint32()}),s.createFullBoxCtor("tfhd",function(c){var p=0;this.track_id=c.readUint32(),this.size-this.hdr_size>p&&this.flags&s.TFHD_FLAG_BASE_DATA_OFFSET?(this.base_data_offset=c.readUint64(),p+=8):this.base_data_offset=0,this.size-this.hdr_size>p&&this.flags&s.TFHD_FLAG_SAMPLE_DESC?(this.default_sample_description_index=c.readUint32(),p+=4):this.default_sample_description_index=0,this.size-this.hdr_size>p&&this.flags&s.TFHD_FLAG_SAMPLE_DUR?(this.default_sample_duration=c.readUint32(),p+=4):this.default_sample_duration=0,this.size-this.hdr_size>p&&this.flags&s.TFHD_FLAG_SAMPLE_SIZE?(this.default_sample_size=c.readUint32(),p+=4):this.default_sample_size=0,this.size-this.hdr_size>p&&this.flags&s.TFHD_FLAG_SAMPLE_FLAGS?(this.default_sample_flags=c.readUint32(),p+=4):this.default_sample_flags=0}),s.createFullBoxCtor("tfra",function(c){this.track_ID=c.readUint32(),c.readUint24();var p=c.readUint8();this.length_size_of_traf_num=p>>4&3,this.length_size_of_trun_num=p>>2&3,this.length_size_of_sample_num=p&3,this.entries=[];for(var m=c.readUint32(),b=0;b<m;b++)this.version===1?(this.time=c.readUint64(),this.moof_offset=c.readUint64()):(this.time=c.readUint32(),this.moof_offset=c.readUint32()),this.traf_number=c["readUint"+8*(this.length_size_of_traf_num+1)](),this.trun_number=c["readUint"+8*(this.length_size_of_trun_num+1)](),this.sample_number=c["readUint"+8*(this.length_size_of_sample_num+1)]()}),s.createFullBoxCtor("tkhd",function(c){this.version==1?(this.creation_time=c.readUint64(),this.modification_time=c.readUint64(),this.track_id=c.readUint32(),c.readUint32(),this.duration=c.readUint64()):(this.creation_time=c.readUint32(),this.modification_time=c.readUint32(),this.track_id=c.readUint32(),c.readUint32(),this.duration=c.readUint32()),c.readUint32Array(2),this.layer=c.readInt16(),this.alternate_group=c.readInt16(),this.volume=c.readInt16()>>8,c.readUint16(),this.matrix=c.readInt32Array(9),this.width=c.readUint32(),this.height=c.readUint32()}),s.createBoxCtor("tmax",function(c){this.time=c.readUint32()}),s.createBoxCtor("tmin",function(c){this.time=c.readUint32()}),s.createBoxCtor("totl",function(c){this.bytessent=c.readUint32()}),s.createBoxCtor("tpay",function(c){this.bytessent=c.readUint32()}),s.createBoxCtor("tpyl",function(c){this.bytessent=c.readUint64()}),s.TrackGroupTypeBox.prototype.parse=function(c){this.parseFullHeader(c),this.track_group_id=c.readUint32()},s.createTrackGroupCtor("msrc"),s.TrackReferenceTypeBox=function(c,p,m,b){s.Box.call(this,c,p),this.hdr_size=m,this.start=b},s.TrackReferenceTypeBox.prototype=new s.Box,s.TrackReferenceTypeBox.prototype.parse=function(c){this.track_ids=c.readUint32Array((this.size-this.hdr_size)/4)},s.trefBox.prototype.parse=function(c){for(var p,m;c.getPosition()<this.start+this.size;)if(p=s.parseOneBox(c,!0,this.size-(c.getPosition()-this.start)),p.code===s.OK)m=new s.TrackReferenceTypeBox(p.type,p.size,p.hdr_size,p.start),m.write===s.Box.prototype.write&&m.type!=="mdat"&&(e.info("BoxParser","TrackReference "+m.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),m.parseDataAndRewind(c)),m.parse(c),this.boxes.push(m);else return},s.createFullBoxCtor("trep",function(c){for(this.track_ID=c.readUint32(),this.boxes=[];c.getPosition()<this.start+this.size;)if(ret=s.parseOneBox(c,!1,this.size-(c.getPosition()-this.start)),ret.code===s.OK)box=ret.box,this.boxes.push(box);else return}),s.createFullBoxCtor("trex",function(c){this.track_id=c.readUint32(),this.default_sample_description_index=c.readUint32(),this.default_sample_duration=c.readUint32(),this.default_sample_size=c.readUint32(),this.default_sample_flags=c.readUint32()}),s.createBoxCtor("trpy",function(c){this.bytessent=c.readUint64()}),s.createFullBoxCtor("trun",function(c){var p=0;if(this.sample_count=c.readUint32(),p+=4,this.size-this.hdr_size>p&&this.flags&s.TRUN_FLAGS_DATA_OFFSET?(this.data_offset=c.readInt32(),p+=4):this.data_offset=0,this.size-this.hdr_size>p&&this.flags&s.TRUN_FLAGS_FIRST_FLAG?(this.first_sample_flags=c.readUint32(),p+=4):this.first_sample_flags=0,this.sample_duration=[],this.sample_size=[],this.sample_flags=[],this.sample_composition_time_offset=[],this.size-this.hdr_size>p)for(var m=0;m<this.sample_count;m++)this.flags&s.TRUN_FLAGS_DURATION&&(this.sample_duration[m]=c.readUint32()),this.flags&s.TRUN_FLAGS_SIZE&&(this.sample_size[m]=c.readUint32()),this.flags&s.TRUN_FLAGS_FLAGS&&(this.sample_flags[m]=c.readUint32()),this.flags&s.TRUN_FLAGS_CTS_OFFSET&&(this.version===0?this.sample_composition_time_offset[m]=c.readUint32():this.sample_composition_time_offset[m]=c.readInt32())}),s.createFullBoxCtor("tsel",function(c){this.switch_group=c.readUint32();var p=(this.size-this.hdr_size-4)/4;this.attribute_list=[];for(var m=0;m<p;m++)this.attribute_list[m]=c.readUint32()}),s.createFullBoxCtor("txtC",function(c){this.config=c.readCString()}),s.createBoxCtor("tyco",function(c){var p=(this.size-this.hdr_size)/4;this.compatible_brands=[];for(var m=0;m<p;m++)this.compatible_brands[m]=c.readString(4)}),s.createFullBoxCtor("udes",function(c){this.lang=c.readCString(),this.name=c.readCString(),this.description=c.readCString(),this.tags=c.readCString()}),s.createFullBoxCtor("uncC",function(c){var p;if(this.profile=c.readUint32(),this.version!=1){if(this.version==0){for(this.component_count=c.readUint32(),this.component_index=[],this.component_bit_depth_minus_one=[],this.component_format=[],this.component_align_size=[],p=0;p<this.component_count;p++)this.component_index.push(c.readUint16()),this.component_bit_depth_minus_one.push(c.readUint8()),this.component_format.push(c.readUint8()),this.component_align_size.push(c.readUint8());this.sampling_type=c.readUint8(),this.interleave_type=c.readUint8(),this.block_size=c.readUint8();var m=c.readUint8();this.component_little_endian=m>>7&1,this.block_pad_lsb=m>>6&1,this.block_little_endian=m>>5&1,this.block_reversed=m>>4&1,this.pad_unknown=m>>3&1,this.pixel_size=c.readUint32(),this.row_align_size=c.readUint32(),this.tile_align_size=c.readUint32(),this.num_tile_cols_minus_one=c.readUint32(),this.num_tile_rows_minus_one=c.readUint32()}}}),s.createFullBoxCtor("url ",function(c){this.flags!==1&&(this.location=c.readCString())}),s.createFullBoxCtor("urn ",function(c){this.name=c.readCString(),this.size-this.hdr_size-this.name.length-1>0&&(this.location=c.readCString())}),s.createUUIDBox("a5d40b30e81411ddba2f0800200c9a66",!0,!1,function(c){this.LiveServerManifest=c.readString(this.size-this.hdr_size).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}),s.createUUIDBox("d08a4f1810f34a82b6c832d8aba183d3",!0,!1,function(c){this.system_id=s.parseHex16(c);var p=c.readUint32();p>0&&(this.data=c.readUint8Array(p))}),s.createUUIDBox("a2394f525a9b4f14a2446c427c648df4",!0,!1),s.createUUIDBox("8974dbce7be74c5184f97148f9882554",!0,!1,function(c){this.default_AlgorithmID=c.readUint24(),this.default_IV_size=c.readUint8(),this.default_KID=s.parseHex16(c)}),s.createUUIDBox("d4807ef2ca3946958e5426cb9e46a79f",!0,!1,function(c){this.fragment_count=c.readUint8(),this.entries=[];for(var p=0;p<this.fragment_count;p++){var m={},b=0,w=0;this.version===1?(b=c.readUint64(),w=c.readUint64()):(b=c.readUint32(),w=c.readUint32()),m.absolute_time=b,m.absolute_duration=w,this.entries.push(m)}}),s.createUUIDBox("6d1d9b0542d544e680e2141daff757b2",!0,!1,function(c){this.version===1?(this.absolute_time=c.readUint64(),this.duration=c.readUint64()):(this.absolute_time=c.readUint32(),this.duration=c.readUint32())}),s.createFullBoxCtor("vmhd",function(c){this.graphicsmode=c.readUint16(),this.opcolor=c.readUint16Array(3)}),s.createFullBoxCtor("vpcC",function(c){var p;this.version===1?(this.profile=c.readUint8(),this.level=c.readUint8(),p=c.readUint8(),this.bitDepth=p>>4,this.chromaSubsampling=p>>1&7,this.videoFullRangeFlag=p&1,this.colourPrimaries=c.readUint8(),this.transferCharacteristics=c.readUint8(),this.matrixCoefficients=c.readUint8(),this.codecIntializationDataSize=c.readUint16(),this.codecIntializationData=c.readUint8Array(this.codecIntializationDataSize)):(this.profile=c.readUint8(),this.level=c.readUint8(),p=c.readUint8(),this.bitDepth=p>>4&15,this.colorSpace=p&15,p=c.readUint8(),this.chromaSubsampling=p>>4&15,this.transferFunction=p>>1&7,this.videoFullRangeFlag=p&1,this.codecIntializationDataSize=c.readUint16(),this.codecIntializationData=c.readUint8Array(this.codecIntializationDataSize))}),s.createBoxCtor("vttC",function(c){this.text=c.readString(this.size-this.hdr_size)}),s.createFullBoxCtor("vvcC",function(c){var p,m,b={held_bits:void 0,num_held_bits:0,stream_read_1_bytes:function(V){this.held_bits=V.readUint8(),this.num_held_bits=8},stream_read_2_bytes:function(V){this.held_bits=V.readUint16(),this.num_held_bits=16},extract_bits:function(V){var Q=this.held_bits>>this.num_held_bits-V&(1<<V)-1;return this.num_held_bits-=V,Q}};if(b.stream_read_1_bytes(c),b.extract_bits(5),this.lengthSizeMinusOne=b.extract_bits(2),this.ptl_present_flag=b.extract_bits(1),this.ptl_present_flag){b.stream_read_2_bytes(c),this.ols_idx=b.extract_bits(9),this.num_sublayers=b.extract_bits(3),this.constant_frame_rate=b.extract_bits(2),this.chroma_format_idc=b.extract_bits(2),b.stream_read_1_bytes(c),this.bit_depth_minus8=b.extract_bits(3),b.extract_bits(5);{if(b.stream_read_2_bytes(c),b.extract_bits(2),this.num_bytes_constraint_info=b.extract_bits(6),this.general_profile_idc=b.extract_bits(7),this.general_tier_flag=b.extract_bits(1),this.general_level_idc=c.readUint8(),b.stream_read_1_bytes(c),this.ptl_frame_only_constraint_flag=b.extract_bits(1),this.ptl_multilayer_enabled_flag=b.extract_bits(1),this.general_constraint_info=new Uint8Array(this.num_bytes_constraint_info),this.num_bytes_constraint_info){for(p=0;p<this.num_bytes_constraint_info-1;p++){var w=b.extract_bits(6);b.stream_read_1_bytes(c);var A=b.extract_bits(2);this.general_constraint_info[p]=w<<2|A}this.general_constraint_info[this.num_bytes_constraint_info-1]=b.extract_bits(6)}else b.extract_bits(6);if(this.num_sublayers>1){for(b.stream_read_1_bytes(c),this.ptl_sublayer_present_mask=0,m=this.num_sublayers-2;m>=0;--m){var R=b.extract_bits(1);this.ptl_sublayer_present_mask|=R<<m}for(m=this.num_sublayers;m<=8&&this.num_sublayers>1;++m)b.extract_bits(1);for(this.sublayer_level_idc=[],m=this.num_sublayers-2;m>=0;--m)this.ptl_sublayer_present_mask&1<<m&&(this.sublayer_level_idc[m]=c.readUint8())}if(this.ptl_num_sub_profiles=c.readUint8(),this.general_sub_profile_idc=[],this.ptl_num_sub_profiles)for(p=0;p<this.ptl_num_sub_profiles;p++)this.general_sub_profile_idc.push(c.readUint32())}this.max_picture_width=c.readUint16(),this.max_picture_height=c.readUint16(),this.avg_frame_rate=c.readUint16()}var O=12,P=13;this.nalu_arrays=[];var D=c.readUint8();for(p=0;p<D;p++){var F=[];this.nalu_arrays.push(F),b.stream_read_1_bytes(c),F.completeness=b.extract_bits(1),b.extract_bits(2),F.nalu_type=b.extract_bits(5);var B=1;for(F.nalu_type!=P&&F.nalu_type!=O&&(B=c.readUint16()),m=0;m<B;m++){var U=c.readUint16();F.push({data:c.readUint8Array(U),length:U})}}}),s.createFullBoxCtor("vvnC",function(c){var p=strm.readUint8();this.lengthSizeMinusOne=p&3}),s.SampleEntry.prototype.isVideo=function(){return!1},s.SampleEntry.prototype.isAudio=function(){return!1},s.SampleEntry.prototype.isSubtitle=function(){return!1},s.SampleEntry.prototype.isMetadata=function(){return!1},s.SampleEntry.prototype.isHint=function(){return!1},s.SampleEntry.prototype.getCodec=function(){return this.type.replace(".","")},s.SampleEntry.prototype.getWidth=function(){return""},s.SampleEntry.prototype.getHeight=function(){return""},s.SampleEntry.prototype.getChannelCount=function(){return""},s.SampleEntry.prototype.getSampleRate=function(){return""},s.SampleEntry.prototype.getSampleSize=function(){return""},s.VisualSampleEntry.prototype.isVideo=function(){return!0},s.VisualSampleEntry.prototype.getWidth=function(){return this.width},s.VisualSampleEntry.prototype.getHeight=function(){return this.height},s.AudioSampleEntry.prototype.isAudio=function(){return!0},s.AudioSampleEntry.prototype.getChannelCount=function(){return this.channel_count},s.AudioSampleEntry.prototype.getSampleRate=function(){return this.samplerate},s.AudioSampleEntry.prototype.getSampleSize=function(){return this.samplesize},s.SubtitleSampleEntry.prototype.isSubtitle=function(){return!0},s.MetadataSampleEntry.prototype.isMetadata=function(){return!0},s.decimalToHex=function(c,p){var m=Number(c).toString(16);for(p=typeof p>"u"||p===null?p=2:p;m.length<p;)m="0"+m;return m},s.avc1SampleEntry.prototype.getCodec=s.avc2SampleEntry.prototype.getCodec=s.avc3SampleEntry.prototype.getCodec=s.avc4SampleEntry.prototype.getCodec=function(){var c=s.SampleEntry.prototype.getCodec.call(this);return this.avcC?c+"."+s.decimalToHex(this.avcC.AVCProfileIndication)+s.decimalToHex(this.avcC.profile_compatibility)+s.decimalToHex(this.avcC.AVCLevelIndication):c},s.hev1SampleEntry.prototype.getCodec=s.hvc1SampleEntry.prototype.getCodec=function(){var c,p=s.SampleEntry.prototype.getCodec.call(this);if(this.hvcC){switch(p+=".",this.hvcC.general_profile_space){case 0:p+="";break;case 1:p+="A";break;case 2:p+="B";break;case 3:p+="C";break}p+=this.hvcC.general_profile_idc,p+=".";var m=this.hvcC.general_profile_compatibility,b=0;for(c=0;c<32&&(b|=m&1,c!=31);c++)b<<=1,m>>=1;p+=s.decimalToHex(b,0),p+=".",this.hvcC.general_tier_flag===0?p+="L":p+="H",p+=this.hvcC.general_level_idc;var w=!1,A="";for(c=5;c>=0;c--)(this.hvcC.general_constraint_indicator[c]||w)&&(A="."+s.decimalToHex(this.hvcC.general_constraint_indicator[c],0)+A,w=!0);p+=A}return p},s.vvc1SampleEntry.prototype.getCodec=s.vvi1SampleEntry.prototype.getCodec=function(){var c,p=s.SampleEntry.prototype.getCodec.call(this);if(this.vvcC){p+="."+this.vvcC.general_profile_idc,this.vvcC.general_tier_flag?p+=".H":p+=".L",p+=this.vvcC.general_level_idc;var m="";if(this.vvcC.general_constraint_info){var b=[],w=0;w|=this.vvcC.ptl_frame_only_constraint<<7,w|=this.vvcC.ptl_multilayer_enabled<<6;var A;for(c=0;c<this.vvcC.general_constraint_info.length;++c)w|=this.vvcC.general_constraint_info[c]>>2&63,b.push(w),w&&(A=c),w=this.vvcC.general_constraint_info[c]>>2&3;if(A===void 0)m=".CA";else{m=".C";var R="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",O=0,P=0;for(c=0;c<=A;++c)for(O=O<<8|b[c],P+=8;P>=5;){var D=O>>P-5&31;m+=R[D],P-=5,O&=(1<<P)-1}P&&(O<<=5-P,m+=R[O&31])}}p+=m}return p},s.mp4aSampleEntry.prototype.getCodec=function(){var c=s.SampleEntry.prototype.getCodec.call(this);if(this.esds&&this.esds.esd){var p=this.esds.esd.getOTI(),m=this.esds.esd.getAudioConfig();return c+"."+s.decimalToHex(p)+(m?"."+m:"")}else return c},s.stxtSampleEntry.prototype.getCodec=function(){var c=s.SampleEntry.prototype.getCodec.call(this);return this.mime_format?c+"."+this.mime_format:c},s.vp08SampleEntry.prototype.getCodec=s.vp09SampleEntry.prototype.getCodec=function(){var c=s.SampleEntry.prototype.getCodec.call(this),p=this.vpcC.level;p==0&&(p="00");var m=this.vpcC.bitDepth;return m==8&&(m="08"),c+".0"+this.vpcC.profile+"."+p+"."+m},s.av01SampleEntry.prototype.getCodec=function(){var c=s.SampleEntry.prototype.getCodec.call(this),p=this.av1C.seq_level_idx_0;p<10&&(p="0"+p);var m;return this.av1C.seq_profile===2&&this.av1C.high_bitdepth===1?m=this.av1C.twelve_bit===1?"12":"10":this.av1C.seq_profile<=2&&(m=this.av1C.high_bitdepth===1?"10":"08"),c+"."+this.av1C.seq_profile+"."+p+(this.av1C.seq_tier_0?"H":"M")+"."+m},s.Box.prototype.writeHeader=function(c,p){this.size+=8,this.size>a&&(this.size+=8),this.type==="uuid"&&(this.size+=16),e.debug("BoxWriter","Writing box "+this.type+" of size: "+this.size+" at position "+c.getPosition()+(p||"")),this.size>a?c.writeUint32(1):(this.sizePosition=c.getPosition(),c.writeUint32(this.size)),c.writeString(this.type,null,4),this.type==="uuid"&&c.writeUint8Array(this.uuid),this.size>a&&c.writeUint64(this.size)},s.FullBox.prototype.writeHeader=function(c){this.size+=4,s.Box.prototype.writeHeader.call(this,c," v="+this.version+" f="+this.flags),c.writeUint8(this.version),c.writeUint24(this.flags)},s.Box.prototype.write=function(c){this.type==="mdat"?this.data&&(this.size=this.data.length,this.writeHeader(c),c.writeUint8Array(this.data)):(this.size=this.data?this.data.length:0,this.writeHeader(c),this.data&&c.writeUint8Array(this.data))},s.ContainerBox.prototype.write=function(c){this.size=0,this.writeHeader(c);for(var p=0;p<this.boxes.length;p++)this.boxes[p]&&(this.boxes[p].write(c),this.size+=this.boxes[p].size);e.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),c.adjustUint32(this.sizePosition,this.size)},s.TrackReferenceTypeBox.prototype.write=function(c){this.size=this.track_ids.length*4,this.writeHeader(c),c.writeUint32Array(this.track_ids)},s.avcCBox.prototype.write=function(c){var p;for(this.size=7,p=0;p<this.SPS.length;p++)this.size+=2+this.SPS[p].length;for(p=0;p<this.PPS.length;p++)this.size+=2+this.PPS[p].length;for(this.ext&&(this.size+=this.ext.length),this.writeHeader(c),c.writeUint8(this.configurationVersion),c.writeUint8(this.AVCProfileIndication),c.writeUint8(this.profile_compatibility),c.writeUint8(this.AVCLevelIndication),c.writeUint8(this.lengthSizeMinusOne+252),c.writeUint8(this.SPS.length+224),p=0;p<this.SPS.length;p++)c.writeUint16(this.SPS[p].length),c.writeUint8Array(this.SPS[p].nalu);for(c.writeUint8(this.PPS.length),p=0;p<this.PPS.length;p++)c.writeUint16(this.PPS[p].length),c.writeUint8Array(this.PPS[p].nalu);this.ext&&c.writeUint8Array(this.ext)},s.co64Box.prototype.write=function(c){var p;for(this.version=0,this.flags=0,this.size=4+8*this.chunk_offsets.length,this.writeHeader(c),c.writeUint32(this.chunk_offsets.length),p=0;p<this.chunk_offsets.length;p++)c.writeUint64(this.chunk_offsets[p])},s.cslgBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=4*5,this.writeHeader(c),c.writeInt32(this.compositionToDTSShift),c.writeInt32(this.leastDecodeToDisplayDelta),c.writeInt32(this.greatestDecodeToDisplayDelta),c.writeInt32(this.compositionStartTime),c.writeInt32(this.compositionEndTime)},s.cttsBox.prototype.write=function(c){var p;for(this.version=0,this.flags=0,this.size=4+8*this.sample_counts.length,this.writeHeader(c),c.writeUint32(this.sample_counts.length),p=0;p<this.sample_counts.length;p++)c.writeUint32(this.sample_counts[p]),this.version===1?c.writeInt32(this.sample_offsets[p]):c.writeUint32(this.sample_offsets[p])},s.drefBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=4,this.writeHeader(c),c.writeUint32(this.entries.length);for(var p=0;p<this.entries.length;p++)this.entries[p].write(c),this.size+=this.entries[p].size;e.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),c.adjustUint32(this.sizePosition,this.size)},s.elngBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=this.extended_language.length,this.writeHeader(c),c.writeString(this.extended_language)},s.elstBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=4+12*this.entries.length,this.writeHeader(c),c.writeUint32(this.entries.length);for(var p=0;p<this.entries.length;p++){var m=this.entries[p];c.writeUint32(m.segment_duration),c.writeInt32(m.media_time),c.writeInt16(m.media_rate_integer),c.writeInt16(m.media_rate_fraction)}},s.emsgBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=4*4+this.message_data.length+(this.scheme_id_uri.length+1)+(this.value.length+1),this.writeHeader(c),c.writeCString(this.scheme_id_uri),c.writeCString(this.value),c.writeUint32(this.timescale),c.writeUint32(this.presentation_time_delta),c.writeUint32(this.event_duration),c.writeUint32(this.id),c.writeUint8Array(this.message_data)},s.ftypBox.prototype.write=function(c){this.size=8+4*this.compatible_brands.length,this.writeHeader(c),c.writeString(this.major_brand,null,4),c.writeUint32(this.minor_version);for(var p=0;p<this.compatible_brands.length;p++)c.writeString(this.compatible_brands[p],null,4)},s.hdlrBox.prototype.write=function(c){this.size=5*4+this.name.length+1,this.version=0,this.flags=0,this.writeHeader(c),c.writeUint32(0),c.writeString(this.handler,null,4),c.writeUint32(0),c.writeUint32(0),c.writeUint32(0),c.writeCString(this.name)},s.hvcCBox.prototype.write=function(c){var p,m;for(this.size=23,p=0;p<this.nalu_arrays.length;p++)for(this.size+=3,m=0;m<this.nalu_arrays[p].length;m++)this.size+=2+this.nalu_arrays[p][m].data.length;for(this.writeHeader(c),c.writeUint8(this.configurationVersion),c.writeUint8((this.general_profile_space<<6)+(this.general_tier_flag<<5)+this.general_profile_idc),c.writeUint32(this.general_profile_compatibility),c.writeUint8Array(this.general_constraint_indicator),c.writeUint8(this.general_level_idc),c.writeUint16(this.min_spatial_segmentation_idc+(15<<24)),c.writeUint8(this.parallelismType+252),c.writeUint8(this.chroma_format_idc+252),c.writeUint8(this.bit_depth_luma_minus8+248),c.writeUint8(this.bit_depth_chroma_minus8+248),c.writeUint16(this.avgFrameRate),c.writeUint8((this.constantFrameRate<<6)+(this.numTemporalLayers<<3)+(this.temporalIdNested<<2)+this.lengthSizeMinusOne),c.writeUint8(this.nalu_arrays.length),p=0;p<this.nalu_arrays.length;p++)for(c.writeUint8((this.nalu_arrays[p].completeness<<7)+this.nalu_arrays[p].nalu_type),c.writeUint16(this.nalu_arrays[p].length),m=0;m<this.nalu_arrays[p].length;m++)c.writeUint16(this.nalu_arrays[p][m].data.length),c.writeUint8Array(this.nalu_arrays[p][m].data)},s.kindBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=this.schemeURI.length+1+(this.value.length+1),this.writeHeader(c),c.writeCString(this.schemeURI),c.writeCString(this.value)},s.mdhdBox.prototype.write=function(c){this.size=4*4+2*2,this.flags=0,this.version=0,this.writeHeader(c),c.writeUint32(this.creation_time),c.writeUint32(this.modification_time),c.writeUint32(this.timescale),c.writeUint32(this.duration),c.writeUint16(this.language),c.writeUint16(0)},s.mehdBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=4,this.writeHeader(c),c.writeUint32(this.fragment_duration)},s.mfhdBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=4,this.writeHeader(c),c.writeUint32(this.sequence_number)},s.mvhdBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=23*4+2*2,this.writeHeader(c),c.writeUint32(this.creation_time),c.writeUint32(this.modification_time),c.writeUint32(this.timescale),c.writeUint32(this.duration),c.writeUint32(this.rate),c.writeUint16(this.volume<<8),c.writeUint16(0),c.writeUint32(0),c.writeUint32(0),c.writeUint32Array(this.matrix),c.writeUint32(0),c.writeUint32(0),c.writeUint32(0),c.writeUint32(0),c.writeUint32(0),c.writeUint32(0),c.writeUint32(this.next_track_id)},s.SampleEntry.prototype.writeHeader=function(c){this.size=8,s.Box.prototype.writeHeader.call(this,c),c.writeUint8(0),c.writeUint8(0),c.writeUint8(0),c.writeUint8(0),c.writeUint8(0),c.writeUint8(0),c.writeUint16(this.data_reference_index)},s.SampleEntry.prototype.writeFooter=function(c){for(var p=0;p<this.boxes.length;p++)this.boxes[p].write(c),this.size+=this.boxes[p].size;e.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),c.adjustUint32(this.sizePosition,this.size)},s.SampleEntry.prototype.write=function(c){this.writeHeader(c),c.writeUint8Array(this.data),this.size+=this.data.length,e.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),c.adjustUint32(this.sizePosition,this.size)},s.VisualSampleEntry.prototype.write=function(c){this.writeHeader(c),this.size+=2*7+6*4+32,c.writeUint16(0),c.writeUint16(0),c.writeUint32(0),c.writeUint32(0),c.writeUint32(0),c.writeUint16(this.width),c.writeUint16(this.height),c.writeUint32(this.horizresolution),c.writeUint32(this.vertresolution),c.writeUint32(0),c.writeUint16(this.frame_count),c.writeUint8(Math.min(31,this.compressorname.length)),c.writeString(this.compressorname,null,31),c.writeUint16(this.depth),c.writeInt16(-1),this.writeFooter(c)},s.AudioSampleEntry.prototype.write=function(c){this.writeHeader(c),this.size+=2*4+3*4,c.writeUint32(0),c.writeUint32(0),c.writeUint16(this.channel_count),c.writeUint16(this.samplesize),c.writeUint16(0),c.writeUint16(0),c.writeUint32(this.samplerate<<16),this.writeFooter(c)},s.stppSampleEntry.prototype.write=function(c){this.writeHeader(c),this.size+=this.namespace.length+1+this.schema_location.length+1+this.auxiliary_mime_types.length+1,c.writeCString(this.namespace),c.writeCString(this.schema_location),c.writeCString(this.auxiliary_mime_types),this.writeFooter(c)},s.SampleGroupEntry.prototype.write=function(c){c.writeUint8Array(this.data)},s.sbgpBox.prototype.write=function(c){this.version=1,this.flags=0,this.size=12+8*this.entries.length,this.writeHeader(c),c.writeString(this.grouping_type,null,4),c.writeUint32(this.grouping_type_parameter),c.writeUint32(this.entries.length);for(var p=0;p<this.entries.length;p++){var m=this.entries[p];c.writeInt32(m.sample_count),c.writeInt32(m.group_description_index)}},s.sgpdBox.prototype.write=function(c){var p,m;for(this.flags=0,this.size=12,p=0;p<this.entries.length;p++)m=this.entries[p],this.version===1&&(this.default_length===0&&(this.size+=4),this.size+=m.data.length);for(this.writeHeader(c),c.writeString(this.grouping_type,null,4),this.version===1&&c.writeUint32(this.default_length),this.version>=2&&c.writeUint32(this.default_sample_description_index),c.writeUint32(this.entries.length),p=0;p<this.entries.length;p++)m=this.entries[p],this.version===1&&this.default_length===0&&c.writeUint32(m.description_length),m.write(c)},s.sidxBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=4*4+2+2+12*this.references.length,this.writeHeader(c),c.writeUint32(this.reference_ID),c.writeUint32(this.timescale),c.writeUint32(this.earliest_presentation_time),c.writeUint32(this.first_offset),c.writeUint16(0),c.writeUint16(this.references.length);for(var p=0;p<this.references.length;p++){var m=this.references[p];c.writeUint32(m.reference_type<<31|m.referenced_size),c.writeUint32(m.subsegment_duration),c.writeUint32(m.starts_with_SAP<<31|m.SAP_type<<28|m.SAP_delta_time)}},s.smhdBox.prototype.write=function(c){this.version=0,this.flags=1,this.size=4,this.writeHeader(c),c.writeUint16(this.balance),c.writeUint16(0)},s.stcoBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=4+4*this.chunk_offsets.length,this.writeHeader(c),c.writeUint32(this.chunk_offsets.length),c.writeUint32Array(this.chunk_offsets)},s.stscBox.prototype.write=function(c){var p;for(this.version=0,this.flags=0,this.size=4+12*this.first_chunk.length,this.writeHeader(c),c.writeUint32(this.first_chunk.length),p=0;p<this.first_chunk.length;p++)c.writeUint32(this.first_chunk[p]),c.writeUint32(this.samples_per_chunk[p]),c.writeUint32(this.sample_description_index[p])},s.stsdBox.prototype.write=function(c){var p;for(this.version=0,this.flags=0,this.size=0,this.writeHeader(c),c.writeUint32(this.entries.length),this.size+=4,p=0;p<this.entries.length;p++)this.entries[p].write(c),this.size+=this.entries[p].size;e.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),c.adjustUint32(this.sizePosition,this.size)},s.stshBox.prototype.write=function(c){var p;for(this.version=0,this.flags=0,this.size=4+8*this.shadowed_sample_numbers.length,this.writeHeader(c),c.writeUint32(this.shadowed_sample_numbers.length),p=0;p<this.shadowed_sample_numbers.length;p++)c.writeUint32(this.shadowed_sample_numbers[p]),c.writeUint32(this.sync_sample_numbers[p])},s.stssBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=4+4*this.sample_numbers.length,this.writeHeader(c),c.writeUint32(this.sample_numbers.length),c.writeUint32Array(this.sample_numbers)},s.stszBox.prototype.write=function(c){var p,m=!0;if(this.version=0,this.flags=0,this.sample_sizes.length>0)for(p=0;p+1<this.sample_sizes.length;)if(this.sample_sizes[p+1]!==this.sample_sizes[0]){m=!1;break}else p++;else m=!1;this.size=8,m||(this.size+=4*this.sample_sizes.length),this.writeHeader(c),m?c.writeUint32(this.sample_sizes[0]):c.writeUint32(0),c.writeUint32(this.sample_sizes.length),m||c.writeUint32Array(this.sample_sizes)},s.sttsBox.prototype.write=function(c){var p;for(this.version=0,this.flags=0,this.size=4+8*this.sample_counts.length,this.writeHeader(c),c.writeUint32(this.sample_counts.length),p=0;p<this.sample_counts.length;p++)c.writeUint32(this.sample_counts[p]),c.writeUint32(this.sample_deltas[p])},s.tfdtBox.prototype.write=function(c){var p=Math.pow(2,32)-1;this.version=this.baseMediaDecodeTime>p?1:0,this.flags=0,this.size=4,this.version===1&&(this.size+=4),this.writeHeader(c),this.version===1?c.writeUint64(this.baseMediaDecodeTime):c.writeUint32(this.baseMediaDecodeTime)},s.tfhdBox.prototype.write=function(c){this.version=0,this.size=4,this.flags&s.TFHD_FLAG_BASE_DATA_OFFSET&&(this.size+=8),this.flags&s.TFHD_FLAG_SAMPLE_DESC&&(this.size+=4),this.flags&s.TFHD_FLAG_SAMPLE_DUR&&(this.size+=4),this.flags&s.TFHD_FLAG_SAMPLE_SIZE&&(this.size+=4),this.flags&s.TFHD_FLAG_SAMPLE_FLAGS&&(this.size+=4),this.writeHeader(c),c.writeUint32(this.track_id),this.flags&s.TFHD_FLAG_BASE_DATA_OFFSET&&c.writeUint64(this.base_data_offset),this.flags&s.TFHD_FLAG_SAMPLE_DESC&&c.writeUint32(this.default_sample_description_index),this.flags&s.TFHD_FLAG_SAMPLE_DUR&&c.writeUint32(this.default_sample_duration),this.flags&s.TFHD_FLAG_SAMPLE_SIZE&&c.writeUint32(this.default_sample_size),this.flags&s.TFHD_FLAG_SAMPLE_FLAGS&&c.writeUint32(this.default_sample_flags)},s.tkhdBox.prototype.write=function(c){this.version=0,this.size=4*18+2*4,this.writeHeader(c),c.writeUint32(this.creation_time),c.writeUint32(this.modification_time),c.writeUint32(this.track_id),c.writeUint32(0),c.writeUint32(this.duration),c.writeUint32(0),c.writeUint32(0),c.writeInt16(this.layer),c.writeInt16(this.alternate_group),c.writeInt16(this.volume<<8),c.writeUint16(0),c.writeInt32Array(this.matrix),c.writeUint32(this.width),c.writeUint32(this.height)},s.trexBox.prototype.write=function(c){this.version=0,this.flags=0,this.size=4*5,this.writeHeader(c),c.writeUint32(this.track_id),c.writeUint32(this.default_sample_description_index),c.writeUint32(this.default_sample_duration),c.writeUint32(this.default_sample_size),c.writeUint32(this.default_sample_flags)},s.trunBox.prototype.write=function(c){this.version=0,this.size=4,this.flags&s.TRUN_FLAGS_DATA_OFFSET&&(this.size+=4),this.flags&s.TRUN_FLAGS_FIRST_FLAG&&(this.size+=4),this.flags&s.TRUN_FLAGS_DURATION&&(this.size+=4*this.sample_duration.length),this.flags&s.TRUN_FLAGS_SIZE&&(this.size+=4*this.sample_size.length),this.flags&s.TRUN_FLAGS_FLAGS&&(this.size+=4*this.sample_flags.length),this.flags&s.TRUN_FLAGS_CTS_OFFSET&&(this.size+=4*this.sample_composition_time_offset.length),this.writeHeader(c),c.writeUint32(this.sample_count),this.flags&s.TRUN_FLAGS_DATA_OFFSET&&(this.data_offset_position=c.getPosition(),c.writeInt32(this.data_offset)),this.flags&s.TRUN_FLAGS_FIRST_FLAG&&c.writeUint32(this.first_sample_flags);for(var p=0;p<this.sample_count;p++)this.flags&s.TRUN_FLAGS_DURATION&&c.writeUint32(this.sample_duration[p]),this.flags&s.TRUN_FLAGS_SIZE&&c.writeUint32(this.sample_size[p]),this.flags&s.TRUN_FLAGS_FLAGS&&c.writeUint32(this.sample_flags[p]),this.flags&s.TRUN_FLAGS_CTS_OFFSET&&(this.version===0?c.writeUint32(this.sample_composition_time_offset[p]):c.writeInt32(this.sample_composition_time_offset[p]))},s["url Box"].prototype.write=function(c){this.version=0,this.location?(this.flags=0,this.size=this.location.length+1):(this.flags=1,this.size=0),this.writeHeader(c),this.location&&c.writeCString(this.location)},s["urn Box"].prototype.write=function(c){this.version=0,this.flags=0,this.size=this.name.length+1+(this.location?this.location.length+1:0),this.writeHeader(c),c.writeCString(this.name),this.location&&c.writeCString(this.location)},s.vmhdBox.prototype.write=function(c){this.version=0,this.flags=1,this.size=8,this.writeHeader(c),c.writeUint16(this.graphicsmode),c.writeUint16Array(this.opcolor)},s.cttsBox.prototype.unpack=function(c){var p,m,b;for(b=0,p=0;p<this.sample_counts.length;p++)for(m=0;m<this.sample_counts[p];m++)c[b].pts=c[b].dts+this.sample_offsets[p],b++},s.sttsBox.prototype.unpack=function(c){var p,m,b;for(b=0,p=0;p<this.sample_counts.length;p++)for(m=0;m<this.sample_counts[p];m++)b===0?c[b].dts=0:c[b].dts=c[b-1].dts+this.sample_deltas[p],b++},s.stcoBox.prototype.unpack=function(c){var p;for(p=0;p<this.chunk_offsets.length;p++)c[p].offset=this.chunk_offsets[p]},s.stscBox.prototype.unpack=function(c){var p,m,b,w,A;for(w=0,A=0,p=0;p<this.first_chunk.length;p++)for(m=0;m<(p+1<this.first_chunk.length?this.first_chunk[p+1]:1/0);m++)for(A++,b=0;b<this.samples_per_chunk[p];b++){if(c[w])c[w].description_index=this.sample_description_index[p],c[w].chunk_index=A;else return;w++}},s.stszBox.prototype.unpack=function(c){var p;for(p=0;p<this.sample_sizes.length;p++)c[p].size=this.sample_sizes[p]},s.DIFF_BOXES_PROP_NAMES=["boxes","entries","references","subsamples","items","item_infos","extents","associations","subsegments","ranges","seekLists","seekPoints","esd","levels"],s.DIFF_PRIMITIVE_ARRAY_PROP_NAMES=["compatible_brands","matrix","opcolor","sample_counts","sample_counts","sample_deltas","first_chunk","samples_per_chunk","sample_sizes","chunk_offsets","sample_offsets","sample_description_index","sample_duration"],s.boxEqualFields=function(c,p){if(c&&!p)return!1;var m;for(m in c)if(!(s.DIFF_BOXES_PROP_NAMES.indexOf(m)>-1)){if(c[m]instanceof s.Box||p[m]instanceof s.Box)continue;if(typeof c[m]>"u"||typeof p[m]>"u")continue;if(typeof c[m]=="function"||typeof p[m]=="function")continue;if(c.subBoxNames&&c.subBoxNames.indexOf(m.slice(0,4))>-1||p.subBoxNames&&p.subBoxNames.indexOf(m.slice(0,4))>-1)continue;if(m==="data"||m==="start"||m==="size"||m==="creation_time"||m==="modification_time")continue;if(s.DIFF_PRIMITIVE_ARRAY_PROP_NAMES.indexOf(m)>-1)continue;if(c[m]!==p[m])return!1}return!0},s.boxEqual=function(c,p){if(!s.boxEqualFields(c,p))return!1;for(var m=0;m<s.DIFF_BOXES_PROP_NAMES.length;m++){var b=s.DIFF_BOXES_PROP_NAMES[m];if(c[b]&&p[b]&&!s.boxEqual(c[b],p[b]))return!1}return!0};var v=function(){};v.prototype.parseSample=function(c){var p={},m;p.resources=[];var b=new t(c.data.buffer);if(!c.subsamples||c.subsamples.length===0)p.documentString=b.readString(c.data.length);else if(p.documentString=b.readString(c.subsamples[0].size),c.subsamples.length>1)for(m=1;m<c.subsamples.length;m++)p.resources[m]=b.readUint8Array(c.subsamples[m].size);return typeof DOMParser<"u"&&(p.document=new DOMParser().parseFromString(p.documentString,"application/xml")),p};var _=function(){};_.prototype.parseSample=function(c){var p,m=new t(c.data.buffer);return p=m.readString(c.data.length),p},_.prototype.parseConfig=function(c){var p,m=new t(c.buffer);return m.readUint32(),p=m.readCString(),p},n.XMLSubtitlein4Parser=v,n.Textin4Parser=_;var x=function(c){this.stream=c||new o,this.boxes=[],this.mdats=[],this.moofs=[],this.isProgressive=!1,this.moovStartFound=!1,this.onMoovStart=null,this.moovStartSent=!1,this.onReady=null,this.readySent=!1,this.onSegment=null,this.onSamples=null,this.onError=null,this.sampleListBuilt=!1,this.fragmentedTracks=[],this.extractedTracks=[],this.isFragmentationInitialized=!1,this.sampleProcessingStarted=!1,this.nextMoofNumber=0,this.itemListBuilt=!1,this.onSidx=null,this.sidxSent=!1};x.prototype.setSegmentOptions=function(c,p,m){var b=this.getTrackById(c);if(b){var w={};this.fragmentedTracks.push(w),w.id=c,w.user=p,w.trak=b,b.nextSample=0,w.segmentStream=null,w.nb_samples=1e3,w.rapAlignement=!0,m&&(m.nbSamples&&(w.nb_samples=m.nbSamples),m.rapAlignement&&(w.rapAlignement=m.rapAlignement))}},x.prototype.unsetSegmentOptions=function(c){for(var p=-1,m=0;m<this.fragmentedTracks.length;m++){var b=this.fragmentedTracks[m];b.id==c&&(p=m)}p>-1&&this.fragmentedTracks.splice(p,1)},x.prototype.setExtractionOptions=function(c,p,m){var b=this.getTrackById(c);if(b){var w={};this.extractedTracks.push(w),w.id=c,w.user=p,w.trak=b,b.nextSample=0,w.nb_samples=1e3,w.samples=[],m&&m.nbSamples&&(w.nb_samples=m.nbSamples)}},x.prototype.unsetExtractionOptions=function(c){for(var p=-1,m=0;m<this.extractedTracks.length;m++){var b=this.extractedTracks[m];b.id==c&&(p=m)}p>-1&&this.extractedTracks.splice(p,1)},x.prototype.parse=function(){var c,p,m=!1;if(!(this.restoreParsePosition&&!this.restoreParsePosition()))for(;;)if(this.hasIncompleteMdat&&this.hasIncompleteMdat()){if(this.processIncompleteMdat())continue;return}else if(this.saveParsePosition&&this.saveParsePosition(),c=s.parseOneBox(this.stream,m),c.code===s.ERR_NOT_ENOUGH_DATA)if(this.processIncompleteBox){if(this.processIncompleteBox(c))continue;return}else return;else{var b;switch(p=c.box,b=p.type!=="uuid"?p.type:p.uuid,this.boxes.push(p),b){case"mdat":this.mdats.push(p);break;case"moof":this.moofs.push(p);break;case"moov":this.moovStartFound=!0,this.mdats.length===0&&(this.isProgressive=!0);default:this[b]!==void 0&&e.warn("ISOFile","Duplicate Box of type: "+b+", overriding previous occurrence"),this[b]=p;break}this.updateUsedBytes&&this.updateUsedBytes(p,c)}},x.prototype.checkBuffer=function(c){if(c==null)throw"Buffer must be defined and non empty";if(c.fileStart===void 0)throw"Buffer must have a fileStart property";return c.byteLength===0?(e.warn("ISOFile","Ignoring empty buffer (fileStart: "+c.fileStart+")"),this.stream.logBufferLevel(),!1):(e.info("ISOFile","Processing buffer (fileStart: "+c.fileStart+")"),c.usedBytes=0,this.stream.insertBuffer(c),this.stream.logBufferLevel(),this.stream.initialized()?!0:(e.warn("ISOFile","Not ready to start parsing"),!1))},x.prototype.appendBuffer=function(c,p){var m;if(this.checkBuffer(c))return this.parse(),this.moovStartFound&&!this.moovStartSent&&(this.moovStartSent=!0,this.onMoovStart&&this.onMoovStart()),this.moov?(this.sampleListBuilt||(this.buildSampleLists(),this.sampleListBuilt=!0),this.updateSampleLists(),this.onReady&&!this.readySent&&(this.readySent=!0,this.onReady(this.getInfo())),this.processSamples(p),this.nextSeekPosition?(m=this.nextSeekPosition,this.nextSeekPosition=void 0):m=this.nextParsePosition,this.stream.getEndFilePositionAfter&&(m=this.stream.getEndFilePositionAfter(m))):this.nextParsePosition?m=this.nextParsePosition:m=0,this.sidx&&this.onSidx&&!this.sidxSent&&(this.onSidx(this.sidx),this.sidxSent=!0),this.meta&&(this.flattenItemInfo&&!this.itemListBuilt&&(this.flattenItemInfo(),this.itemListBuilt=!0),this.processItems&&this.processItems(this.onItem)),this.stream.cleanBuffers&&(e.info("ISOFile","Done processing buffer (fileStart: "+c.fileStart+") - next buffer to fetch should have a fileStart position of "+m),this.stream.logBufferLevel(),this.stream.cleanBuffers(),this.stream.logBufferLevel(!0),e.info("ISOFile","Sample data size in memory: "+this.getAllocatedSampleDataSize())),m},x.prototype.getInfo=function(){var c,p,m={},b,w,A,R,O=new Date("1904-01-01T00:00:00Z").getTime();if(this.moov)for(m.hasMoov=!0,m.duration=this.moov.mvhd.duration,m.timescale=this.moov.mvhd.timescale,m.isFragmented=this.moov.mvex!=null,m.isFragmented&&this.moov.mvex.mehd&&(m.fragment_duration=this.moov.mvex.mehd.fragment_duration),m.isProgressive=this.isProgressive,m.hasIOD=this.moov.iods!=null,m.brands=[],m.brands.push(this.ftyp.major_brand),m.brands=m.brands.concat(this.ftyp.compatible_brands),m.created=new Date(O+this.moov.mvhd.creation_time*1e3),m.modified=new Date(O+this.moov.mvhd.modification_time*1e3),m.tracks=[],m.audioTracks=[],m.videoTracks=[],m.subtitleTracks=[],m.metadataTracks=[],m.hintTracks=[],m.otherTracks=[],c=0;c<this.moov.traks.length;c++){if(b=this.moov.traks[c],R=b.mdia.minf.stbl.stsd.entries[0],w={},m.tracks.push(w),w.id=b.tkhd.track_id,w.name=b.mdia.hdlr.name,w.references=[],b.tref)for(p=0;p<b.tref.boxes.length;p++)A={},w.references.push(A),A.type=b.tref.boxes[p].type,A.track_ids=b.tref.boxes[p].track_ids;b.edts&&(w.edits=b.edts.elst.entries),w.created=new Date(O+b.tkhd.creation_time*1e3),w.modified=new Date(O+b.tkhd.modification_time*1e3),w.movie_duration=b.tkhd.duration,w.movie_timescale=m.timescale,w.layer=b.tkhd.layer,w.alternate_group=b.tkhd.alternate_group,w.volume=b.tkhd.volume,w.matrix=b.tkhd.matrix,w.track_width=b.tkhd.width/65536,w.track_height=b.tkhd.height/65536,w.timescale=b.mdia.mdhd.timescale,w.cts_shift=b.mdia.minf.stbl.cslg,w.duration=b.mdia.mdhd.duration,w.samples_duration=b.samples_duration,w.codec=R.getCodec(),w.kind=b.udta&&b.udta.kinds.length?b.udta.kinds[0]:{schemeURI:"",value:""},w.language=b.mdia.elng?b.mdia.elng.extended_language:b.mdia.mdhd.languageString,w.nb_samples=b.samples.length,w.size=b.samples_size,w.bitrate=w.size*8*w.timescale/w.samples_duration,R.isAudio()?(w.type="audio",m.audioTracks.push(w),w.audio={},w.audio.sample_rate=R.getSampleRate(),w.audio.channel_count=R.getChannelCount(),w.audio.sample_size=R.getSampleSize()):R.isVideo()?(w.type="video",m.videoTracks.push(w),w.video={},w.video.width=R.getWidth(),w.video.height=R.getHeight()):R.isSubtitle()?(w.type="subtitles",m.subtitleTracks.push(w)):R.isHint()?(w.type="metadata",m.hintTracks.push(w)):R.isMetadata()?(w.type="metadata",m.metadataTracks.push(w)):(w.type="metadata",m.otherTracks.push(w))}else m.hasMoov=!1;if(m.mime="",m.hasMoov&&m.tracks){for(m.videoTracks&&m.videoTracks.length>0?m.mime+='video/mp4; codecs="':m.audioTracks&&m.audioTracks.length>0?m.mime+='audio/mp4; codecs="':m.mime+='application/mp4; codecs="',c=0;c<m.tracks.length;c++)c!==0&&(m.mime+=","),m.mime+=m.tracks[c].codec;m.mime+='"; profiles="',m.mime+=this.ftyp.compatible_brands.join(),m.mime+='"'}return m},x.prototype.setNextSeekPositionFromSample=function(c){c&&(this.nextSeekPosition?this.nextSeekPosition=Math.min(c.offset+c.alreadyRead,this.nextSeekPosition):this.nextSeekPosition=c.offset+c.alreadyRead)},x.prototype.processSamples=function(c){var p,m;if(this.sampleProcessingStarted){if(this.isFragmentationInitialized&&this.onSegment!==null)for(p=0;p<this.fragmentedTracks.length;p++){var b=this.fragmentedTracks[p];for(m=b.trak;m.nextSample<m.samples.length&&this.sampleProcessingStarted;){e.debug("ISOFile","Creating media fragment on track #"+b.id+" for sample "+m.nextSample);var w=this.createFragment(b.id,m.nextSample,b.segmentStream);if(w)b.segmentStream=w,m.nextSample++;else break;if((m.nextSample%b.nb_samples===0||c||m.nextSample>=m.samples.length)&&(e.info("ISOFile","Sending fragmented data on track #"+b.id+" for samples ["+Math.max(0,m.nextSample-b.nb_samples)+","+(m.nextSample-1)+"]"),e.info("ISOFile","Sample data size in memory: "+this.getAllocatedSampleDataSize()),this.onSegment&&this.onSegment(b.id,b.user,b.segmentStream.buffer,m.nextSample,c||m.nextSample>=m.samples.length),b.segmentStream=null,b!==this.fragmentedTracks[p]))break}}if(this.onSamples!==null)for(p=0;p<this.extractedTracks.length;p++){var A=this.extractedTracks[p];for(m=A.trak;m.nextSample<m.samples.length&&this.sampleProcessingStarted;){e.debug("ISOFile","Exporting on track #"+A.id+" sample #"+m.nextSample);var R=this.getSample(m,m.nextSample);if(R)m.nextSample++,A.samples.push(R);else{this.setNextSeekPositionFromSample(m.samples[m.nextSample]);break}if((m.nextSample%A.nb_samples===0||m.nextSample>=m.samples.length)&&(e.debug("ISOFile","Sending samples on track #"+A.id+" for sample "+m.nextSample),this.onSamples&&this.onSamples(A.id,A.user,A.samples),A.samples=[],A!==this.extractedTracks[p]))break}}}},x.prototype.getBox=function(c){var p=this.getBoxes(c,!0);return p.length?p[0]:null},x.prototype.getBoxes=function(c,p){var m=[];return x._sweep.call(this,c,m,p),m},x._sweep=function(c,p,m){this.type&&this.type==c&&p.push(this);for(var b in this.boxes){if(p.length&&m)return;x._sweep.call(this.boxes[b],c,p,m)}},x.prototype.getTrackSamplesInfo=function(c){var p=this.getTrackById(c);if(p)return p.samples},x.prototype.getTrackSample=function(c,p){var m=this.getTrackById(c),b=this.getSample(m,p);return b},x.prototype.releaseUsedSamples=function(c,p){var m=0,b=this.getTrackById(c);b.lastValidSample||(b.lastValidSample=0);for(var w=b.lastValidSample;w<p;w++)m+=this.releaseSample(b,w);e.info("ISOFile","Track #"+c+" released samples up to "+p+" (released size: "+m+", remaining: "+this.samplesDataSize+")"),b.lastValidSample=p},x.prototype.start=function(){this.sampleProcessingStarted=!0,this.processSamples(!1)},x.prototype.stop=function(){this.sampleProcessingStarted=!1},x.prototype.flush=function(){e.info("ISOFile","Flushing remaining samples"),this.updateSampleLists(),this.processSamples(!0),this.stream.cleanBuffers(),this.stream.logBufferLevel(!0)},x.prototype.seekTrack=function(c,p,m){var b,w,A=1/0,R=0,O=0,P;if(m.samples.length===0)return e.info("ISOFile","No sample in track, cannot seek! Using time "+e.getDurationString(0,1)+" and offset: 0"),{offset:0,time:0};for(b=0;b<m.samples.length;b++){if(w=m.samples[b],b===0)O=0,P=w.timescale;else if(w.cts>c*w.timescale){O=b-1;break}p&&w.is_sync&&(R=b)}for(p&&(O=R),c=m.samples[O].cts,m.nextSample=O;m.samples[O].alreadyRead===m.samples[O].size&&m.samples[O+1];)O++;return A=m.samples[O].offset+m.samples[O].alreadyRead,e.info("ISOFile","Seeking to "+(p?"RAP":"")+" sample #"+m.nextSample+" on track "+m.tkhd.track_id+", time "+e.getDurationString(c,P)+" and offset: "+A),{offset:A,time:c/P}},x.prototype.getTrackDuration=function(c){var p;return c.samples?(p=c.samples[c.samples.length-1],(p.cts+p.duration)/p.timescale):1/0},x.prototype.seek=function(c,p){var m=this.moov,b,w,A,R={offset:1/0,time:1/0};if(this.moov){for(A=0;A<m.traks.length;A++)b=m.traks[A],!(c>this.getTrackDuration(b))&&(w=this.seekTrack(c,p,b),w.offset<R.offset&&(R.offset=w.offset),w.time<R.time&&(R.time=w.time));return e.info("ISOFile","Seeking at time "+e.getDurationString(R.time,1)+" needs a buffer with a fileStart position of "+R.offset),R.offset===1/0?R={offset:this.nextParsePosition,time:0}:R.offset=this.stream.getEndFilePositionAfter(R.offset),e.info("ISOFile","Adjusted seek position (after checking data already in buffer): "+R.offset),R}else throw"Cannot seek: moov not received!"},x.prototype.equal=function(c){for(var p=0;p<this.boxes.length&&p<c.boxes.length;){var m=this.boxes[p],b=c.boxes[p];if(!s.boxEqual(m,b))return!1;p++}return!0},n.ISOFile=x,x.prototype.lastBoxStartPosition=0,x.prototype.parsingMdat=null,x.prototype.nextParsePosition=0,x.prototype.discardMdatData=!1,x.prototype.processIncompleteBox=function(c){var p,m,b;return c.type==="mdat"?(p=new s[c.type+"Box"](c.size),this.parsingMdat=p,this.boxes.push(p),this.mdats.push(p),p.start=c.start,p.hdr_size=c.hdr_size,this.stream.addUsedBytes(p.hdr_size),this.lastBoxStartPosition=p.start+p.size,b=this.stream.seek(p.start+p.size,!1,this.discardMdatData),b?(this.parsingMdat=null,!0):(this.moovStartFound?this.nextParsePosition=this.stream.findEndContiguousBuf():this.nextParsePosition=p.start+p.size,!1)):(c.type==="moov"&&(this.moovStartFound=!0,this.mdats.length===0&&(this.isProgressive=!0)),m=this.stream.mergeNextBuffer?this.stream.mergeNextBuffer():!1,m?(this.nextParsePosition=this.stream.getEndPosition(),!0):(c.type?this.moovStartFound?this.nextParsePosition=this.stream.getEndPosition():this.nextParsePosition=this.stream.getPosition()+c.size:this.nextParsePosition=this.stream.getEndPosition(),!1))},x.prototype.hasIncompleteMdat=function(){return this.parsingMdat!==null},x.prototype.processIncompleteMdat=function(){var c,p;return c=this.parsingMdat,p=this.stream.seek(c.start+c.size,!1,this.discardMdatData),p?(e.debug("ISOFile","Found 'mdat' end in buffered data"),this.parsingMdat=null,!0):(this.nextParsePosition=this.stream.findEndContiguousBuf(),!1)},x.prototype.restoreParsePosition=function(){return this.stream.seek(this.lastBoxStartPosition,!0,this.discardMdatData)},x.prototype.saveParsePosition=function(){this.lastBoxStartPosition=this.stream.getPosition()},x.prototype.updateUsedBytes=function(c,p){this.stream.addUsedBytes&&(c.type==="mdat"?(this.stream.addUsedBytes(c.hdr_size),this.discardMdatData&&this.stream.addUsedBytes(c.size-c.hdr_size)):this.stream.addUsedBytes(c.size))},x.prototype.add=s.Box.prototype.add,x.prototype.addBox=s.Box.prototype.addBox,x.prototype.init=function(c){var p=c||{};this.add("ftyp").set("major_brand",p.brands&&p.brands[0]||"iso4").set("minor_version",0).set("compatible_brands",p.brands||["iso4"]);var m=this.add("moov");return m.add("mvhd").set("timescale",p.timescale||600).set("rate",p.rate||65536).set("creation_time",0).set("modification_time",0).set("duration",p.duration||0).set("volume",p.width?0:256).set("matrix",[65536,0,0,0,65536,0,0,0,1073741824]).set("next_track_id",1),m.add("mvex"),this},x.prototype.addTrack=function(c){this.moov||this.init(c);var p=c||{};p.width=p.width||320,p.height=p.height||320,p.id=p.id||this.moov.mvhd.next_track_id,p.type=p.type||"avc1";var m=this.moov.add("trak");this.moov.mvhd.next_track_id=p.id+1,m.add("tkhd").set("flags",s.TKHD_FLAG_ENABLED|s.TKHD_FLAG_IN_MOVIE|s.TKHD_FLAG_IN_PREVIEW).set("creation_time",0).set("modification_time",0).set("track_id",p.id).set("duration",p.duration||0).set("layer",p.layer||0).set("alternate_group",0).set("volume",1).set("matrix",[65536,0,0,0,65536,0,0,0,1073741824]).set("width",p.width<<16).set("height",p.height<<16);var b=m.add("mdia");b.add("mdhd").set("creation_time",0).set("modification_time",0).set("timescale",p.timescale||1).set("duration",p.media_duration||0).set("language",p.language||"und"),b.add("hdlr").set("handler",p.hdlr||"vide").set("name",p.name||"Track created with MP4Box.js"),b.add("elng").set("extended_language",p.language||"fr-FR");var w=b.add("minf");if(s[p.type+"SampleEntry"]!==void 0){var A=new s[p.type+"SampleEntry"];A.data_reference_index=1;var R="";for(var O in s.sampleEntryCodes)for(var P=s.sampleEntryCodes[O],D=0;D<P.length;D++)if(P.indexOf(p.type)>-1){R=O;break}switch(R){case"Visual":if(w.add("vmhd").set("graphicsmode",0).set("opcolor",[0,0,0]),A.set("width",p.width).set("height",p.height).set("horizresolution",72<<16).set("vertresolution",72<<16).set("frame_count",1).set("compressorname",p.type+" Compressor").set("depth",24),p.avcDecoderConfigRecord){var F=new s.avcCBox;F.parse(new t(p.avcDecoderConfigRecord)),A.addBox(F)}else if(p.hevcDecoderConfigRecord){var B=new s.hvcCBox;B.parse(new t(p.hevcDecoderConfigRecord)),A.addBox(B)}break;case"Audio":w.add("smhd").set("balance",p.balance||0),A.set("channel_count",p.channel_count||2).set("samplesize",p.samplesize||16).set("samplerate",p.samplerate||65536);break;case"Hint":w.add("hmhd");break;case"Subtitle":switch(w.add("sthd"),p.type){case"stpp":A.set("namespace",p.namespace||"nonamespace").set("schema_location",p.schema_location||"").set("auxiliary_mime_types",p.auxiliary_mime_types||"");break}break;case"Metadata":w.add("nmhd");break;case"System":w.add("nmhd");break;default:w.add("nmhd");break}p.description&&A.addBox(p.description),p.description_boxes&&p.description_boxes.forEach(function(V){A.addBox(V)}),w.add("dinf").add("dref").addEntry(new s["url Box"]().set("flags",1));var U=w.add("stbl");return U.add("stsd").addEntry(A),U.add("stts").set("sample_counts",[]).set("sample_deltas",[]),U.add("stsc").set("first_chunk",[]).set("samples_per_chunk",[]).set("sample_description_index",[]),U.add("stco").set("chunk_offsets",[]),U.add("stsz").set("sample_sizes",[]),this.moov.mvex.add("trex").set("track_id",p.id).set("default_sample_description_index",p.default_sample_description_index||1).set("default_sample_duration",p.default_sample_duration||0).set("default_sample_size",p.default_sample_size||0).set("default_sample_flags",p.default_sample_flags||0),this.buildTrakSampleLists(m),p.id}},s.Box.prototype.computeSize=function(c){var p=c||new r;p.endianness=r.BIG_ENDIAN,this.write(p)},x.prototype.addSample=function(c,p,m){var b=m||{},w={},A=this.getTrackById(c);if(A!==null){w.number=A.samples.length,w.track_id=A.tkhd.track_id,w.timescale=A.mdia.mdhd.timescale,w.description_index=b.sample_description_index?b.sample_description_index-1:0,w.description=A.mdia.minf.stbl.stsd.entries[w.description_index],w.data=p,w.size=p.byteLength,w.alreadyRead=w.size,w.duration=b.duration||1,w.cts=b.cts||0,w.dts=b.dts||0,w.is_sync=b.is_sync||!1,w.is_leading=b.is_leading||0,w.depends_on=b.depends_on||0,w.is_depended_on=b.is_depended_on||0,w.has_redundancy=b.has_redundancy||0,w.degradation_priority=b.degradation_priority||0,w.offset=0,w.subsamples=b.subsamples,A.samples.push(w),A.samples_size+=w.size,A.samples_duration+=w.duration,A.first_dts===void 0&&(A.first_dts=b.dts),this.processSamples();var R=this.createSingleSampleMoof(w);return this.addBox(R),R.computeSize(),R.trafs[0].truns[0].data_offset=R.size+8,this.add("mdat").data=new Uint8Array(p),w}},x.prototype.createSingleSampleMoof=function(c){var p=0;c.is_sync?p=1<<25:p=65536;var m=new s.moofBox;m.add("mfhd").set("sequence_number",this.nextMoofNumber),this.nextMoofNumber++;var b=m.add("traf"),w=this.getTrackById(c.track_id);return b.add("tfhd").set("track_id",c.track_id).set("flags",s.TFHD_FLAG_DEFAULT_BASE_IS_MOOF),b.add("tfdt").set("baseMediaDecodeTime",c.dts-(w.first_dts||0)),b.add("trun").set("flags",s.TRUN_FLAGS_DATA_OFFSET|s.TRUN_FLAGS_DURATION|s.TRUN_FLAGS_SIZE|s.TRUN_FLAGS_FLAGS|s.TRUN_FLAGS_CTS_OFFSET).set("data_offset",0).set("first_sample_flags",0).set("sample_count",1).set("sample_duration",[c.duration]).set("sample_size",[c.size]).set("sample_flags",[p]).set("sample_composition_time_offset",[c.cts-c.dts]),m},x.prototype.lastMoofIndex=0,x.prototype.samplesDataSize=0,x.prototype.resetTables=function(){var c,p,m,b,w,A,R,O;for(this.initial_duration=this.moov.mvhd.duration,this.moov.mvhd.duration=0,c=0;c<this.moov.traks.length;c++){p=this.moov.traks[c],p.tkhd.duration=0,p.mdia.mdhd.duration=0,m=p.mdia.minf.stbl.stco||p.mdia.minf.stbl.co64,m.chunk_offsets=[],b=p.mdia.minf.stbl.stsc,b.first_chunk=[],b.samples_per_chunk=[],b.sample_description_index=[],w=p.mdia.minf.stbl.stsz||p.mdia.minf.stbl.stz2,w.sample_sizes=[],A=p.mdia.minf.stbl.stts,A.sample_counts=[],A.sample_deltas=[],R=p.mdia.minf.stbl.ctts,R&&(R.sample_counts=[],R.sample_offsets=[]),O=p.mdia.minf.stbl.stss;var P=p.mdia.minf.stbl.boxes.indexOf(O);P!=-1&&(p.mdia.minf.stbl.boxes[P]=null)}},x.initSampleGroups=function(c,p,m,b,w){var A,R,O,P;function D(F,B,U){this.grouping_type=F,this.grouping_type_parameter=B,this.sbgp=U,this.last_sample_in_run=-1,this.entry_index=-1}for(p&&(p.sample_groups_info=[]),c.sample_groups_info||(c.sample_groups_info=[]),R=0;R<m.length;R++){for(P=m[R].grouping_type+"/"+m[R].grouping_type_parameter,O=new D(m[R].grouping_type,m[R].grouping_type_parameter,m[R]),p&&(p.sample_groups_info[P]=O),c.sample_groups_info[P]||(c.sample_groups_info[P]=O),A=0;A<b.length;A++)b[A].grouping_type===m[R].grouping_type&&(O.description=b[A],O.description.used=!0);if(w)for(A=0;A<w.length;A++)w[A].grouping_type===m[R].grouping_type&&(O.fragment_description=w[A],O.fragment_description.used=!0,O.is_fragment=!0)}if(p){if(w)for(R=0;R<w.length;R++)!w[R].used&&w[R].version>=2&&(P=w[R].grouping_type+"/0",O=new D(w[R].grouping_type,0),O.is_fragment=!0,p.sample_groups_info[P]||(p.sample_groups_info[P]=O))}else for(R=0;R<b.length;R++)!b[R].used&&b[R].version>=2&&(P=b[R].grouping_type+"/0",O=new D(b[R].grouping_type,0),c.sample_groups_info[P]||(c.sample_groups_info[P]=O))},x.setSampleGroupProperties=function(c,p,m,b){var w,A;p.sample_groups=[];for(w in b)if(p.sample_groups[w]={},p.sample_groups[w].grouping_type=b[w].grouping_type,p.sample_groups[w].grouping_type_parameter=b[w].grouping_type_parameter,m>=b[w].last_sample_in_run&&(b[w].last_sample_in_run<0&&(b[w].last_sample_in_run=0),b[w].entry_index++,b[w].entry_index<=b[w].sbgp.entries.length-1&&(b[w].last_sample_in_run+=b[w].sbgp.entries[b[w].entry_index].sample_count)),b[w].entry_index<=b[w].sbgp.entries.length-1?p.sample_groups[w].group_description_index=b[w].sbgp.entries[b[w].entry_index].group_description_index:p.sample_groups[w].group_description_index=-1,p.sample_groups[w].group_description_index!==0){var R;b[w].fragment_description?R=b[w].fragment_description:R=b[w].description,p.sample_groups[w].group_description_index>0?(p.sample_groups[w].group_description_index>65535?A=(p.sample_groups[w].group_description_index>>16)-1:A=p.sample_groups[w].group_description_index-1,R&&A>=0&&(p.sample_groups[w].description=R.entries[A])):R&&R.version>=2&&R.default_group_description_index>0&&(p.sample_groups[w].description=R.entries[R.default_group_description_index-1])}},x.process_sdtp=function(c,p,m){p&&(c?(p.is_leading=c.is_leading[m],p.depends_on=c.sample_depends_on[m],p.is_depended_on=c.sample_is_depended_on[m],p.has_redundancy=c.sample_has_redundancy[m]):(p.is_leading=0,p.depends_on=0,p.is_depended_on=0,p.has_redundancy=0))},x.prototype.buildSampleLists=function(){var c,p;for(c=0;c<this.moov.traks.length;c++)p=this.moov.traks[c],this.buildTrakSampleLists(p)},x.prototype.buildTrakSampleLists=function(c){var p,m,b,w,A,R,O,P,D,F,B,U,V,Q,X,ee,ae,Z,K,te,ce,q,J,he;if(c.samples=[],c.samples_duration=0,c.samples_size=0,m=c.mdia.minf.stbl.stco||c.mdia.minf.stbl.co64,b=c.mdia.minf.stbl.stsc,w=c.mdia.minf.stbl.stsz||c.mdia.minf.stbl.stz2,A=c.mdia.minf.stbl.stts,R=c.mdia.minf.stbl.ctts,O=c.mdia.minf.stbl.stss,P=c.mdia.minf.stbl.stsd,D=c.mdia.minf.stbl.subs,U=c.mdia.minf.stbl.stdp,F=c.mdia.minf.stbl.sbgps,B=c.mdia.minf.stbl.sgpds,Z=-1,K=-1,te=-1,ce=-1,q=0,J=0,he=0,x.initSampleGroups(c,null,F,B),!(typeof w>"u")){for(p=0;p<w.sample_sizes.length;p++){var ue={};ue.number=p,ue.track_id=c.tkhd.track_id,ue.timescale=c.mdia.mdhd.timescale,ue.alreadyRead=0,c.samples[p]=ue,ue.size=w.sample_sizes[p],c.samples_size+=ue.size,p===0?(Q=1,V=0,ue.chunk_index=Q,ue.chunk_run_index=V,ae=b.samples_per_chunk[V],ee=0,V+1<b.first_chunk.length?X=b.first_chunk[V+1]-1:X=1/0):p<ae?(ue.chunk_index=Q,ue.chunk_run_index=V):(Q++,ue.chunk_index=Q,ee=0,Q<=X||(V++,V+1<b.first_chunk.length?X=b.first_chunk[V+1]-1:X=1/0),ue.chunk_run_index=V,ae+=b.samples_per_chunk[V]),ue.description_index=b.sample_description_index[ue.chunk_run_index]-1,ue.description=P.entries[ue.description_index],ue.offset=m.chunk_offsets[ue.chunk_index-1]+ee,ee+=ue.size,p>Z&&(K++,Z<0&&(Z=0),Z+=A.sample_counts[K]),p>0?(c.samples[p-1].duration=A.sample_deltas[K],c.samples_duration+=c.samples[p-1].duration,ue.dts=c.samples[p-1].dts+c.samples[p-1].duration):ue.dts=0,R?(p>=te&&(ce++,te<0&&(te=0),te+=R.sample_counts[ce]),ue.cts=c.samples[p].dts+R.sample_offsets[ce]):ue.cts=ue.dts,O?(p==O.sample_numbers[q]-1?(ue.is_sync=!0,q++):(ue.is_sync=!1,ue.degradation_priority=0),D&&D.entries[J].sample_delta+he==p+1&&(ue.subsamples=D.entries[J].subsamples,he+=D.entries[J].sample_delta,J++)):ue.is_sync=!0,x.process_sdtp(c.mdia.minf.stbl.sdtp,ue,ue.number),U?ue.degradation_priority=U.priority[p]:ue.degradation_priority=0,D&&D.entries[J].sample_delta+he==p&&(ue.subsamples=D.entries[J].subsamples,he+=D.entries[J].sample_delta),(F.length>0||B.length>0)&&x.setSampleGroupProperties(c,ue,p,c.sample_groups_info)}p>0&&(c.samples[p-1].duration=Math.max(c.mdia.mdhd.duration-c.samples[p-1].dts,0),c.samples_duration+=c.samples[p-1].duration)}},x.prototype.updateSampleLists=function(){var c,p,m,b,w,A,R,O,P,D,F,B,U,V,Q;if(this.moov!==void 0){for(;this.lastMoofIndex<this.moofs.length;)if(P=this.moofs[this.lastMoofIndex],this.lastMoofIndex++,P.type=="moof")for(D=P,c=0;c<D.trafs.length;c++){for(F=D.trafs[c],B=this.getTrackById(F.tfhd.track_id),B.samples==null&&(B.samples=[]),U=this.getTrexById(F.tfhd.track_id),F.tfhd.flags&s.TFHD_FLAG_SAMPLE_DESC?b=F.tfhd.default_sample_description_index:b=U?U.default_sample_description_index:1,F.tfhd.flags&s.TFHD_FLAG_SAMPLE_DUR?w=F.tfhd.default_sample_duration:w=U?U.default_sample_duration:0,F.tfhd.flags&s.TFHD_FLAG_SAMPLE_SIZE?A=F.tfhd.default_sample_size:A=U?U.default_sample_size:0,F.tfhd.flags&s.TFHD_FLAG_SAMPLE_FLAGS?R=F.tfhd.default_sample_flags:R=U?U.default_sample_flags:0,F.sample_number=0,F.sbgps.length>0&&x.initSampleGroups(B,F,F.sbgps,B.mdia.minf.stbl.sgpds,F.sgpds),p=0;p<F.truns.length;p++){var X=F.truns[p];for(m=0;m<X.sample_count;m++){V={},V.moof_number=this.lastMoofIndex,V.number_in_traf=F.sample_number,F.sample_number++,V.number=B.samples.length,F.first_sample_index=B.samples.length,B.samples.push(V),V.track_id=B.tkhd.track_id,V.timescale=B.mdia.mdhd.timescale,V.description_index=b-1,V.description=B.mdia.minf.stbl.stsd.entries[V.description_index],V.size=A,X.flags&s.TRUN_FLAGS_SIZE&&(V.size=X.sample_size[m]),B.samples_size+=V.size,V.duration=w,X.flags&s.TRUN_FLAGS_DURATION&&(V.duration=X.sample_duration[m]),B.samples_duration+=V.duration,B.first_traf_merged||m>0?V.dts=B.samples[B.samples.length-2].dts+B.samples[B.samples.length-2].duration:(F.tfdt?V.dts=F.tfdt.baseMediaDecodeTime:V.dts=0,B.first_traf_merged=!0),V.cts=V.dts,X.flags&s.TRUN_FLAGS_CTS_OFFSET&&(V.cts=V.dts+X.sample_composition_time_offset[m]),Q=R,X.flags&s.TRUN_FLAGS_FLAGS?Q=X.sample_flags[m]:m===0&&X.flags&s.TRUN_FLAGS_FIRST_FLAG&&(Q=X.first_sample_flags),V.is_sync=!(Q>>16&1),V.is_leading=Q>>26&3,V.depends_on=Q>>24&3,V.is_depended_on=Q>>22&3,V.has_redundancy=Q>>20&3,V.degradation_priority=Q&65535;var ee=!!(F.tfhd.flags&s.TFHD_FLAG_BASE_DATA_OFFSET),ae=!!(F.tfhd.flags&s.TFHD_FLAG_DEFAULT_BASE_IS_MOOF),Z=!!(X.flags&s.TRUN_FLAGS_DATA_OFFSET),K=0;ee?K=F.tfhd.base_data_offset:ae||p===0?K=D.start:K=O,p===0&&m===0?Z?V.offset=K+X.data_offset:V.offset=K:V.offset=O,O=V.offset+V.size,(F.sbgps.length>0||F.sgpds.length>0||B.mdia.minf.stbl.sbgps.length>0||B.mdia.minf.stbl.sgpds.length>0)&&x.setSampleGroupProperties(B,V,V.number_in_traf,F.sample_groups_info)}}if(F.subs){B.has_fragment_subsamples=!0;var te=F.first_sample_index;for(p=0;p<F.subs.entries.length;p++)te+=F.subs.entries[p].sample_delta,V=B.samples[te-1],V.subsamples=F.subs.entries[p].subsamples}}}},x.prototype.getSample=function(c,p){var m,b=c.samples[p];if(!this.moov)return null;if(!b.data)b.data=new Uint8Array(b.size),b.alreadyRead=0,this.samplesDataSize+=b.size,e.debug("ISOFile","Allocating sample #"+p+" on track #"+c.tkhd.track_id+" of size "+b.size+" (total: "+this.samplesDataSize+")");else if(b.alreadyRead==b.size)return b;for(;;){var w=this.stream.findPosition(!0,b.offset+b.alreadyRead,!1);if(w>-1){m=this.stream.buffers[w];var A=m.byteLength-(b.offset+b.alreadyRead-m.fileStart);if(b.size-b.alreadyRead<=A)return e.debug("ISOFile","Getting sample #"+p+" data (alreadyRead: "+b.alreadyRead+" offset: "+(b.offset+b.alreadyRead-m.fileStart)+" read size: "+(b.size-b.alreadyRead)+" full size: "+b.size+")"),r.memcpy(b.data.buffer,b.alreadyRead,m,b.offset+b.alreadyRead-m.fileStart,b.size-b.alreadyRead),m.usedBytes+=b.size-b.alreadyRead,this.stream.logBufferLevel(),b.alreadyRead=b.size,b;if(A===0)return null;e.debug("ISOFile","Getting sample #"+p+" partial data (alreadyRead: "+b.alreadyRead+" offset: "+(b.offset+b.alreadyRead-m.fileStart)+" read size: "+A+" full size: "+b.size+")"),r.memcpy(b.data.buffer,b.alreadyRead,m,b.offset+b.alreadyRead-m.fileStart,A),b.alreadyRead+=A,m.usedBytes+=A,this.stream.logBufferLevel()}else return null}},x.prototype.releaseSample=function(c,p){var m=c.samples[p];return m.data?(this.samplesDataSize-=m.size,m.data=null,m.alreadyRead=0,m.size):0},x.prototype.getAllocatedSampleDataSize=function(){return this.samplesDataSize},x.prototype.getCodecs=function(){var c,p="";for(c=0;c<this.moov.traks.length;c++){var m=this.moov.traks[c];c>0&&(p+=","),p+=m.mdia.minf.stbl.stsd.entries[0].getCodec()}return p},x.prototype.getTrexById=function(c){var p;if(!this.moov||!this.moov.mvex)return null;for(p=0;p<this.moov.mvex.trexs.length;p++){var m=this.moov.mvex.trexs[p];if(m.track_id==c)return m}return null},x.prototype.getTrackById=function(c){if(this.moov===void 0)return null;for(var p=0;p<this.moov.traks.length;p++){var m=this.moov.traks[p];if(m.tkhd.track_id==c)return m}return null},x.prototype.items=[],x.prototype.entity_groups=[],x.prototype.itemsDataSize=0,x.prototype.flattenItemInfo=function(){var c=this.items,p=this.entity_groups,m,b,w,A=this.meta;if(A!=null&&A.hdlr!==void 0&&A.iinf!==void 0){for(m=0;m<A.iinf.item_infos.length;m++)w={},w.id=A.iinf.item_infos[m].item_ID,c[w.id]=w,w.ref_to=[],w.name=A.iinf.item_infos[m].item_name,A.iinf.item_infos[m].protection_index>0&&(w.protection=A.ipro.protections[A.iinf.item_infos[m].protection_index-1]),A.iinf.item_infos[m].item_type?w.type=A.iinf.item_infos[m].item_type:w.type="mime",w.content_type=A.iinf.item_infos[m].content_type,w.content_encoding=A.iinf.item_infos[m].content_encoding;if(A.grpl)for(m=0;m<A.grpl.boxes.length;m++)entity_group={},entity_group.id=A.grpl.boxes[m].group_id,entity_group.entity_ids=A.grpl.boxes[m].entity_ids,entity_group.type=A.grpl.boxes[m].type,p[entity_group.id]=entity_group;if(A.iloc)for(m=0;m<A.iloc.items.length;m++){var R=A.iloc.items[m];switch(w=c[R.item_ID],R.data_reference_index!==0&&(e.warn("Item storage with reference to other files: not supported"),w.source=A.dinf.boxes[R.data_reference_index-1]),R.construction_method){case 0:break;case 1:e.warn("Item storage with construction_method : not supported");break;case 2:e.warn("Item storage with construction_method : not supported");break}for(w.extents=[],w.size=0,b=0;b<R.extents.length;b++)w.extents[b]={},w.extents[b].offset=R.extents[b].extent_offset+R.base_offset,w.extents[b].length=R.extents[b].extent_length,w.extents[b].alreadyRead=0,w.size+=w.extents[b].length}if(A.pitm&&(c[A.pitm.item_id].primary=!0),A.iref)for(m=0;m<A.iref.references.length;m++){var O=A.iref.references[m];for(b=0;b<O.references.length;b++)c[O.from_item_ID].ref_to.push({type:O.type,id:O.references[b]})}if(A.iprp)for(var P=0;P<A.iprp.ipmas.length;P++){var D=A.iprp.ipmas[P];for(m=0;m<D.associations.length;m++){var F=D.associations[m];if(w=c[F.id],w||(w=p[F.id]),w)for(w.properties===void 0&&(w.properties={},w.properties.boxes=[]),b=0;b<F.props.length;b++){var B=F.props[b];if(B.property_index>0&&B.property_index-1<A.iprp.ipco.boxes.length){var U=A.iprp.ipco.boxes[B.property_index-1];w.properties[U.type]=U,w.properties.boxes.push(U)}}}}}},x.prototype.getItem=function(c){var p,m;if(!this.meta)return null;if(m=this.items[c],!m.data&&m.size)m.data=new Uint8Array(m.size),m.alreadyRead=0,this.itemsDataSize+=m.size,e.debug("ISOFile","Allocating item #"+c+" of size "+m.size+" (total: "+this.itemsDataSize+")");else if(m.alreadyRead===m.size)return m;for(var b=0;b<m.extents.length;b++){var w=m.extents[b];if(w.alreadyRead!==w.length){var A=this.stream.findPosition(!0,w.offset+w.alreadyRead,!1);if(A>-1){p=this.stream.buffers[A];var R=p.byteLength-(w.offset+w.alreadyRead-p.fileStart);if(w.length-w.alreadyRead<=R)e.debug("ISOFile","Getting item #"+c+" extent #"+b+" data (alreadyRead: "+w.alreadyRead+" offset: "+(w.offset+w.alreadyRead-p.fileStart)+" read size: "+(w.length-w.alreadyRead)+" full extent size: "+w.length+" full item size: "+m.size+")"),r.memcpy(m.data.buffer,m.alreadyRead,p,w.offset+w.alreadyRead-p.fileStart,w.length-w.alreadyRead),p.usedBytes+=w.length-w.alreadyRead,this.stream.logBufferLevel(),m.alreadyRead+=w.length-w.alreadyRead,w.alreadyRead=w.length;else return e.debug("ISOFile","Getting item #"+c+" extent #"+b+" partial data (alreadyRead: "+w.alreadyRead+" offset: "+(w.offset+w.alreadyRead-p.fileStart)+" read size: "+R+" full extent size: "+w.length+" full item size: "+m.size+")"),r.memcpy(m.data.buffer,m.alreadyRead,p,w.offset+w.alreadyRead-p.fileStart,R),w.alreadyRead+=R,m.alreadyRead+=R,p.usedBytes+=R,this.stream.logBufferLevel(),null}else return null}}return m.alreadyRead===m.size?m:null},x.prototype.releaseItem=function(c){var p=this.items[c];if(p.data){this.itemsDataSize-=p.size,p.data=null,p.alreadyRead=0;for(var m=0;m<p.extents.length;m++){var b=p.extents[m];b.alreadyRead=0}return p.size}else return 0},x.prototype.processItems=function(c){for(var p in this.items){var m=this.items[p];this.getItem(m.id),c&&!m.sent&&(c(m),m.sent=!0,m.data=null)}},x.prototype.hasItem=function(c){for(var p in this.items){var m=this.items[p];if(m.name===c)return m.id}return-1},x.prototype.getMetaHandler=function(){return this.meta?this.meta.hdlr.handler:null},x.prototype.getPrimaryItem=function(){return!this.meta||!this.meta.pitm?null:this.getItem(this.meta.pitm.item_id)},x.prototype.itemToFragmentedTrackFile=function(c){var p=c||{},m=null;if(p.itemId?m=this.getItem(p.itemId):m=this.getPrimaryItem(),m==null)return null;var b=new x;b.discardMdatData=!1;var w={type:m.type,description_boxes:m.properties.boxes};m.properties.ispe&&(w.width=m.properties.ispe.image_width,w.height=m.properties.ispe.image_height);var A=b.addTrack(w);return A?(b.addSample(A,m.data),b):null},x.prototype.write=function(c){for(var p=0;p<this.boxes.length;p++)this.boxes[p].write(c)},x.prototype.createFragment=function(c,p,m){var b=this.getTrackById(c),w=this.getSample(b,p);if(w==null)return this.setNextSeekPositionFromSample(b.samples[p]),null;var A=m||new r;A.endianness=r.BIG_ENDIAN;var R=this.createSingleSampleMoof(w);R.write(A),R.trafs[0].truns[0].data_offset=R.size+8,e.debug("MP4Box","Adjusting data_offset with new value "+R.trafs[0].truns[0].data_offset),A.adjustUint32(R.trafs[0].truns[0].data_offset_position,R.trafs[0].truns[0].data_offset);var O=new s.mdatBox;return O.data=w.data,O.write(A),A},x.writeInitializationSegment=function(c,p,m,b){var w;e.debug("ISOFile","Generating initialization segment");var A=new r;A.endianness=r.BIG_ENDIAN,c.write(A);var R=p.add("mvex");for(m&&R.add("mehd").set("fragment_duration",m),w=0;w<p.traks.length;w++)R.add("trex").set("track_id",p.traks[w].tkhd.track_id).set("default_sample_description_index",1).set("default_sample_duration",b).set("default_sample_size",0).set("default_sample_flags",65536);return p.write(A),A.buffer},x.prototype.save=function(c){var p=new r;p.endianness=r.BIG_ENDIAN,this.write(p),p.save(c)},x.prototype.getBuffer=function(){var c=new r;return c.endianness=r.BIG_ENDIAN,this.write(c),c.buffer},x.prototype.initializeSegmentation=function(){var c,p,m,b;for(this.onSegment===null&&e.warn("MP4Box","No segmentation callback set!"),this.isFragmentationInitialized||(this.isFragmentationInitialized=!0,this.nextMoofNumber=0,this.resetTables()),p=[],c=0;c<this.fragmentedTracks.length;c++){var w=new s.moovBox;w.mvhd=this.moov.mvhd,w.boxes.push(w.mvhd),m=this.getTrackById(this.fragmentedTracks[c].id),w.boxes.push(m),w.traks.push(m),b={},b.id=m.tkhd.track_id,b.user=this.fragmentedTracks[c].user,b.buffer=x.writeInitializationSegment(this.ftyp,w,this.moov.mvex&&this.moov.mvex.mehd?this.moov.mvex.mehd.fragment_duration:void 0,this.moov.traks[c].samples.length>0?this.moov.traks[c].samples[0].duration:0),p.push(b)}return p},s.Box.prototype.printHeader=function(c){this.size+=8,this.size>a&&(this.size+=8),this.type==="uuid"&&(this.size+=16),c.log(c.indent+"size:"+this.size),c.log(c.indent+"type:"+this.type)},s.FullBox.prototype.printHeader=function(c){this.size+=4,s.Box.prototype.printHeader.call(this,c),c.log(c.indent+"version:"+this.version),c.log(c.indent+"flags:"+this.flags)},s.Box.prototype.print=function(c){this.printHeader(c)},s.ContainerBox.prototype.print=function(c){this.printHeader(c);for(var p=0;p<this.boxes.length;p++)if(this.boxes[p]){var m=c.indent;c.indent+=" ",this.boxes[p].print(c),c.indent=m}},x.prototype.print=function(c){c.indent="";for(var p=0;p<this.boxes.length;p++)this.boxes[p]&&this.boxes[p].print(c)},s.mvhdBox.prototype.print=function(c){s.FullBox.prototype.printHeader.call(this,c),c.log(c.indent+"creation_time: "+this.creation_time),c.log(c.indent+"modification_time: "+this.modification_time),c.log(c.indent+"timescale: "+this.timescale),c.log(c.indent+"duration: "+this.duration),c.log(c.indent+"rate: "+this.rate),c.log(c.indent+"volume: "+(this.volume>>8)),c.log(c.indent+"matrix: "+this.matrix.join(", ")),c.log(c.indent+"next_track_id: "+this.next_track_id)},s.tkhdBox.prototype.print=function(c){s.FullBox.prototype.printHeader.call(this,c),c.log(c.indent+"creation_time: "+this.creation_time),c.log(c.indent+"modification_time: "+this.modification_time),c.log(c.indent+"track_id: "+this.track_id),c.log(c.indent+"duration: "+this.duration),c.log(c.indent+"volume: "+(this.volume>>8)),c.log(c.indent+"matrix: "+this.matrix.join(", ")),c.log(c.indent+"layer: "+this.layer),c.log(c.indent+"alternate_group: "+this.alternate_group),c.log(c.indent+"width: "+this.width),c.log(c.indent+"height: "+this.height)};var C={};C.createFile=function(c,p){var m=c!==void 0?c:!0,b=new x(p);return b.discardMdatData=!m,b},n.createFile=C.createFile}(_A)),_A}var Hfe=Ffe();const ud=Mm(Hfe);var kfe=Object.defineProperty,d5=n=>{throw TypeError(n)},$fe=(n,e,t)=>e in n?kfe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,SA=(n,e,t)=>$fe(n,typeof e!="symbol"?e+"":e,t),Vfe=(n,e,t)=>e.has(n)||d5("Cannot "+t),Qg=(n,e,t)=>(Vfe(n,e,"read from private field"),t?t.call(n):e.get(n)),Gfe=(n,e,t)=>e.has(n)?d5("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),hh;let Cm=class{constructor(){Gfe(this,hh,new Map),SA(this,"on",(e,t)=>{const r=Qg(this,hh).get(e)??new Set;return r.add(t),Qg(this,hh).has(e)||Qg(this,hh).set(e,r),()=>{r.delete(t),r.size===0&&Qg(this,hh).delete(e)}}),SA(this,"once",(e,t)=>{const r=this.on(e,(...a)=>{r(),t(...a)});return r}),SA(this,"emit",(e,...t)=>{const r=Qg(this,hh).get(e);r!=null&&r.forEach(a=>a(...t))})}static forwardEvent(e,t,r){const a=r.map(o=>{const[l,s]=Array.isArray(o)?o:[o,o];return e.on(l,(...f)=>{t.emit(s,...f)})});return()=>{a.forEach(o=>o())}}destroy(){Qg(this,hh).clear()}};hh=new WeakMap;const jfe=()=>{let n,e=16.6;self.onmessage=t=>{t.data.event==="start"&&(self.clearInterval(n),n=self.setInterval(()=>{self.postMessage({})},e)),t.data.event==="stop"&&self.clearInterval(n)}},Wfe=()=>{const n=new Blob([`(${jfe.toString()})()`]),e=URL.createObjectURL(n);return new Worker(e)},nv=new Map;let dR=1,Rv=null;globalThis.Worker!=null&&(Rv=Wfe(),Rv.onmessage=()=>{dR+=1;for(const[n,e]of nv)if(dR%n===0)for(const t of e)t()});const gI=(n,e)=>{const t=Math.round(e/16.6),r=nv.get(t)??new Set;return r.add(n),nv.set(t,r),nv.size===1&&r.size===1&&(Rv==null||Rv.postMessage({event:"start"})),()=>{r.delete(n),r.size===0&&nv.delete(t),nv.size===0&&(dR=0,Rv==null||Rv.postMessage({event:"stop"}))}};function Xfe(n,e){let t=!1;async function r(){const a=n.getReader();for(;!t;){const{value:o,done:l}=await a.read();if(l){e.onDone();return}await e.onChunk(o)}a.releaseLock(),await n.cancel()}return r().catch(console.error),()=>{t=!0}}function Yfe(n,e,t){let r=0,a=0;const o=n.boxes;let l=!1;const s=()=>{var _;if(!l)if(o.find(c=>c.type==="moof")!=null)l=!0;else return null;if(a>=o.length)return null;const x=new ud.DataStream;x.endianness=ud.DataStream.BIG_ENDIAN;let C=a;try{for(;C<o.length;)o[C].write(x),delete o[C],C+=1}catch(c){const p=o[C];throw c instanceof Error&&p!=null?Error(`${c.message} | deltaBuf( boxType: ${p.type}, boxSize: ${p.size}, boxDataLen: ${((_=p.data)==null?void 0:_.length)??-1})`):c}return qfe(n),a=o.length,new Uint8Array(x.buffer)};let f=!1,h=!1,v=null;return{stream:new ReadableStream({start(_){r=self.setInterval(()=>{const x=s();x!=null&&!h&&_.enqueue(x)},e),v=x=>{if(clearInterval(r),n.flush(),x!=null){_.error(x);return}const C=s();C!=null&&!h&&_.enqueue(C),h||_.close()},f&&v()},cancel(){h=!0,clearInterval(r),t==null||t()}}),stop:_=>{f||(f=!0,v==null||v(_))}}}function qfe(n){if(n.moov!=null){for(var e=0;e<n.moov.traks.length;e++)n.moov.traks[e].samples=[];n.mdats=[],n.moofs=[]}}const vI=(n,e)=>{const t=new Uint8Array(8);new DataView(t.buffer).setUint32(0,e);for(let r=0;r<4;r++)t[4+r]=n.charCodeAt(r);return t},Zfe=()=>{const n=new TextEncoder,e=n.encode("mdta"),t=n.encode("mp4 handler"),r=32+t.byteLength+1,a=new Uint8Array(r),o=new DataView(a.buffer);return a.set(vI("hdlr",r),0),o.setUint32(8,0),a.set(e,16),a.set(t,32),a},Kfe=n=>{const e=new TextEncoder,t=e.encode("mdta"),r=n.map(f=>{const h=e.encode(f),v=8+h.byteLength,_=new Uint8Array(v);return new DataView(_.buffer).setUint32(0,v),_.set(t,4),_.set(h,4+t.byteLength),_}),a=16+r.reduce((f,h)=>f+h.byteLength,0),o=new Uint8Array(a),l=new DataView(o.buffer);o.set(vI("keys",a),0),l.setUint32(8,0),l.setUint32(12,n.length);let s=16;for(const f of r)o.set(f,s),s+=f.byteLength;return o},Qfe=n=>{const e=new TextEncoder,t=e.encode("data"),r=Object.entries(n).map(([s,f],h)=>{const v=h+1,_=e.encode(f),x=24+_.byteLength,C=new Uint8Array(x),c=new DataView(C.buffer);return c.setUint32(0,x),c.setUint32(4,v),c.setUint32(8,16+_.byteLength),C.set(t,12),c.setUint32(16,1),C.set(_,24),C}),a=8+r.reduce((s,f)=>s+f.byteLength,0),o=new Uint8Array(a);o.set(vI("ilst",a),0);let l=8;for(const s of r)o.set(s,l),l+=s.byteLength;return o},Jfe=n=>{const e=Zfe(),t=Kfe(Object.keys(n)),r=Qfe(n),a=e.length+t.length+r.length,o=new Uint8Array(a);return o.set(e,0),o.set(t,e.length),o.set(r,e.length+t.length),o};function ede(n){return n instanceof Error?String(n):typeof n=="object"?JSON.stringify(n,(e,t)=>t instanceof Error?String(t):t):String(n)}function tde(){const n=new Date;return`${n.getHours()}:${n.getMinutes()}:${n.getSeconds()}.${n.getMilliseconds()}`}let h5=1;const p5=[],nN=["debug","info","warn","error"].reduce((n,e,t)=>Object.assign(n,{[e]:(...r)=>{h5<=t&&(console[e](...r),p5.push({lvName:e,timeStr:tde(),args:r}))}}),{}),D_=new Map,hi={setLogLevel:n=>{h5=D_.get(n)??1},...nN,create:n=>Object.fromEntries(Object.entries(nN).map(([e,t])=>[e,(...r)=>t(n,...r)])),async dump(){return p5.reduce((n,{lvName:e,timeStr:t,args:r})=>n+`[${e}][${t}]  ${r.map(a=>ede(a)).join(" ")}
`,"")}};D_.set(hi.debug,0);D_.set(hi.info,1);D_.set(hi.warn,2);D_.set(hi.error,3);(async function(){await Promise.resolve(),!(globalThis.navigator==null||globalThis.document==null)&&(hi.info(`@webav version: 1.0.19, date: ${new Date().toLocaleDateString()}`),hi.info(globalThis.navigator.userAgent),document.addEventListener("visibilitychange",()=>{hi.info(`visibilitychange: ${document.visibilityState}`)}),"PressureObserver"in globalThis&&new PressureObserver(n=>{hi.info(`cpu state change: ${JSON.stringify(n.map(e=>e.state))}`)}).observe("cpu"))})();function nde(n){hi.info("recodemux opts:",n);const e=ud.createFile(),t=new Cm,r=(f,h)=>{const v=f.add("udta").add("meta");v.data=Jfe(h),v.size=v.data.byteLength};let a=!1;const o=()=>{e.moov==null||a||(a=!0,n.metaDataTags!=null&&r(e.moov,n.metaDataTags),n.duration!=null&&(e.moov.mvhd.duration=n.duration))};t.once("VideoReady",o),t.once("AudioReady",o);let l=n.video!=null?ide(n.video,e,t):null,s=n.audio!=null?ade(n.audio,e,t):null;return n.video==null&&t.emit("VideoReady"),n.audio==null&&t.emit("AudioReady"),{encodeVideo:(f,h)=>{l==null||l.encode(f,h),f.close()},encodeAudio:f=>{if(s!=null)try{s.encode(f),f.close()}catch(h){const v=`encode audio chunk error: ${h.message}, state: ${JSON.stringify({qSize:s.encodeQueueSize,state:s.state})}`;throw hi.error(v),Error(v)}},getEncodeQueueSize:()=>(l==null?void 0:l.encodeQueueSize)??(s==null?void 0:s.encodeQueueSize)??0,flush:async()=>{await Promise.all([l==null?void 0:l.flush(),(s==null?void 0:s.state)==="configured"?s.flush():null])},close:()=>{t.destroy(),l==null||l.close(),(s==null?void 0:s.state)==="configured"&&s.close()},mp4file:e}}function ide(n,e,t){const r={timescale:1e6,width:n.width,height:n.height,brands:["isom","iso2","avc1","mp42","mp41"],avcDecoderConfigRecord:null,name:"Track created with WebAV"};let a=-1,o=!1;t.once("AudioReady",()=>{o=!0});const l={encoder0:[],encoder1:[]},s=(b,w,A)=>{var R;if(a===-1&&A!=null){const O=(R=A.decoderConfig)==null?void 0:R.description;rde(O),r.avcDecoderConfigRecord=O,a=e.addTrack(r),t.emit("VideoReady"),hi.info("VideoEncoder, video track ready, trackId:",a)}l[b].push(hR(w))};let f="encoder1",h=0;const v=Math.floor(1e3/n.expectFPS*1e3);function _(){if(!o)return;const b=f==="encoder1"?"encoder0":"encoder1",w=l[f],A=l[b];if(w.length===0&&A.length===0)return;let R=w[0];if(R!=null&&(!R.is_sync||R.cts-h<v)){const P=x(w);P>h&&(h=P)}const O=A[0];if(O!=null&&O.is_sync&&O.cts-h<v){f=b,_();return}if(R!=null&&R.is_sync&&O!=null&&O.is_sync)if(R.cts<=O.cts){const P=x(w);P>h&&(h=P)}else{f=b,_();return}}function x(b){let w=-1,A=0;for(;A<b.length;A++){const R=b[A];if(A>0&&R.is_sync)break;e.addSample(a,R.data,R),w=R.cts+R.duration}return b.splice(0,A),w}const C=gI(_,15),c=iN(n,(b,w)=>s("encoder0",b,w)),p=iN(n,(b,w)=>s("encoder1",b,w));let m=0;return{get encodeQueueSize(){return c.encodeQueueSize+p.encodeQueueSize},encode:(b,w)=>{try{w.keyFrame&&(m+=1),(m%2===0?c:p).encode(b,w)}catch(A){const R=`encode video frame error: ${A.message}, state: ${JSON.stringify({ts:b.timestamp,keyFrame:w.keyFrame,duration:b.duration,gopId:m})}`;throw hi.error(R),Error(R)}},flush:async()=>{await Promise.all([c.state==="configured"?await c.flush():null,p.state==="configured"?await p.flush():null]),C(),_()},close:()=>{c.state==="configured"&&c.close(),p.state==="configured"&&p.close()}}}function rde(n){const e=new Uint8Array(n);e[2].toString(2).slice(-2).includes("1")&&(e[2]=0)}function iN(n,e){const t={codec:n.codec,framerate:n.expectFPS,hardwareAcceleration:n.__unsafe_hardwareAcceleration__,bitrate:n.bitrate,width:n.width,height:n.height,alpha:"discard",avc:{format:"avc"}},r=new VideoEncoder({error:a=>{const o=`VideoEncoder error: ${a.message}, config: ${JSON.stringify(t)}, state: ${JSON.stringify({qSize:r.encodeQueueSize,state:r.state})}`;throw hi.error(o),Error(o)},output:e});return r.configure(t),r}function ade(n,e,t){const r={timescale:1e6,samplerate:n.sampleRate,channel_count:n.channelCount,hdlr:"soun",type:n.codec==="aac"?"mp4a":"Opus",name:"Track created with WebAV"};let a=-1,o=[],l=!1;t.once("VideoReady",()=>{l=!0,o.forEach(h=>{const v=hR(h);e.addSample(a,v.data,v)}),o=[]});const s={codec:n.codec==="aac"?"mp4a.40.2":"opus",sampleRate:n.sampleRate,numberOfChannels:n.channelCount,bitrate:128e3},f=new AudioEncoder({error:h=>{const v=`AudioEncoder error: ${h.message}, config: ${JSON.stringify(s)}, state: ${JSON.stringify({qSize:f.encodeQueueSize,state:f.state})}`;throw hi.error(v),Error(v)},output:(h,v)=>{var _;if(a===-1){const x=(_=v.decoderConfig)==null?void 0:_.description;a=e.addTrack({...r,description:x==null?void 0:ode(x)}),t.emit("AudioReady"),hi.info("AudioEncoder, audio track ready, trackId:",a)}if(l){const x=hR(h);e.addSample(a,x.data,x)}else o.push(h)}});return f.configure(s),f}function ode(n){const e=n.byteLength,t=new Uint8Array([0,0,0,0,3,23+e,0,2,0,4,18+e,64,21,0,0,0,0,0,0,0,0,0,0,0,5,e,...new Uint8Array(n instanceof ArrayBuffer?n:n.buffer),6,1,2]),r=new ud.BoxParser.esdsBox(t.byteLength);return r.hdr_size=0,r.parse(new ud.DataStream(t,0,ud.DataStream.BIG_ENDIAN)),r}function hR(n){const e=new ArrayBuffer(n.byteLength);n.copyTo(e);const t=n.timestamp;return{duration:n.duration??0,dts:t,cts:t,is_sync:n.type==="key",data:e}}class sde{constructor(e,t,r){this.length_=e,this.scaleFactor_=(e-1)/t,this.interpolate=this.cubic,r.method==="point"?this.interpolate=this.point:r.method==="linear"?this.interpolate=this.linear:r.method==="sinc"&&(this.interpolate=this.sinc),this.tangentFactor_=1-Math.max(0,Math.min(1,r.tension||0)),this.sincFilterSize_=r.sincFilterSize||1,this.kernel_=cde(r.sincWindow||lde)}point(e,t){return this.getClippedInput_(Math.round(this.scaleFactor_*e),t)}linear(e,t){e=this.scaleFactor_*e;let r=Math.floor(e);return e-=r,(1-e)*this.getClippedInput_(r,t)+e*this.getClippedInput_(r+1,t)}cubic(e,t){e=this.scaleFactor_*e;let r=Math.floor(e),a=[this.getTangent_(r,t),this.getTangent_(r+1,t)],o=[this.getClippedInput_(r,t),this.getClippedInput_(r+1,t)];e-=r;let l=e*e,s=e*l;return(2*s-3*l+1)*o[0]+(s-2*l+e)*a[0]+(-2*s+3*l)*o[1]+(s-l)*a[1]}sinc(e,t){e=this.scaleFactor_*e;let r=Math.floor(e),a=r-this.sincFilterSize_+1,o=r+this.sincFilterSize_,l=0;for(let s=a;s<=o;s++)l+=this.kernel_(e-s)*this.getClippedInput_(s,t);return l}getTangent_(e,t){return this.tangentFactor_*(this.getClippedInput_(e+1,t)-this.getClippedInput_(e-1,t))/2}getClippedInput_(e,t){return 0<=e&&e<this.length_?t[e]:0}}function lde(n){return Math.exp(-n/2*n/2)}function cde(n){return function(e){return ude(e)*n(e)}}function ude(n){return n===0?1:Math.sin(Math.PI*n)/(Math.PI*n)}class fde{constructor(e,t,r){let a=2*Math.PI*r/t,o=0;this.filters=[];for(let l=0;l<=e;l++)l-e/2===0?this.filters[l]=a:(this.filters[l]=Math.sin(a*(l-e/2))/(l-e/2),this.filters[l]*=.54-.46*Math.cos(2*Math.PI*l/e)),o=o+this.filters[l];for(let l=0;l<=e;l++)this.filters[l]/=o;this.z=this.initZ_()}filter(e){this.z.buf[this.z.pointer]=e;let t=0;for(let r=0,a=this.z.buf.length;r<a;r++)t+=this.filters[r]*this.z.buf[(this.z.pointer+r)%this.z.buf.length];return this.z.pointer=(this.z.pointer+1)%this.z.buf.length,t}reset(){this.z=this.initZ_()}initZ_(){let e=[];for(let t=0;t<this.filters.length-1;t++)e.push(0);return{buf:e,pointer:0}}}class dde{constructor(e,t,r){let a=[];for(let o=0;o<e;o++)a.push(this.getCoeffs_({Fs:t,Fc:r,Q:.5/Math.sin(Math.PI/(e*2)*(o+.5))}));this.stages=[];for(let o=0;o<a.length;o++)this.stages[o]={b0:a[o].b[0],b1:a[o].b[1],b2:a[o].b[2],a1:a[o].a[0],a2:a[o].a[1],k:a[o].k,z:[0,0]}}filter(e){let t=e;for(let r=0,a=this.stages.length;r<a;r++)t=this.runStage_(r,t);return t}getCoeffs_(e){let t={};t.z=[0,0],t.a=[],t.b=[];let r=this.preCalc_(e,t);return t.k=1,t.b.push((1-r.cw)/(2*r.a0)),t.b.push(2*t.b[0]),t.b.push(t.b[0]),t}preCalc_(e,t){let r={},a=2*Math.PI*e.Fc/e.Fs;return r.alpha=Math.sin(a)/(2*e.Q),r.cw=Math.cos(a),r.a0=1+r.alpha,t.a0=r.a0,t.a.push(-2*r.cw/r.a0),t.k=1,t.a.push((1-r.alpha)/r.a0),r}runStage_(e,t){let r=t*this.stages[e].k-this.stages[e].a1*this.stages[e].z[0]-this.stages[e].a2*this.stages[e].z[1],a=this.stages[e].b0*r+this.stages[e].b1*this.stages[e].z[0]+this.stages[e].b2*this.stages[e].z[1];return this.stages[e].z[1]=this.stages[e].z[0],this.stages[e].z[0]=r,a}reset(){for(let e=0;e<this.stages.length;e++)this.stages[e].z=[0,0]}}const hde={point:!1,linear:!1,cubic:!0,sinc:!0},rN={IIR:16,FIR:71},pde={IIR:dde,FIR:fde};function mde(n,e,t,r={}){let a=(t-e)/e+1,o=new Float64Array(n.length*a);r.method=r.method||"cubic";let l=new sde(n.length,o.length,{method:r.method,tension:r.tension||0,sincFilterSize:r.sincFilterSize||6,sincWindow:r.sincWindow||void 0});if(r.LPF===void 0&&(r.LPF=hde[r.method]),r.LPF){r.LPFType=r.LPFType||"IIR";const s=pde[r.LPFType];if(t>e){let f=new s(r.LPFOrder||rN[r.LPFType],t,e/2);gde(n,o,l,f)}else{let f=new s(r.LPFOrder||rN[r.LPFType],e,t/2);vde(n,o,l,f)}}else m5(n,o,l);return o}function m5(n,e,t){for(let r=0,a=e.length;r<a;r++)e[r]=t.interpolate(r,n)}function gde(n,e,t,r){for(let a=0,o=e.length;a<o;a++)e[a]=r.filter(t.interpolate(a,n));r.reset();for(let a=e.length-1;a>=0;a--)e[a]=r.filter(e[a])}function vde(n,e,t,r){for(let a=0,o=n.length;a<o;a++)n[a]=r.filter(n[a]);r.reset();for(let a=n.length-1;a>=0;a--)n[a]=r.filter(n[a]);m5(n,e,t)}var g5=n=>{throw TypeError(n)},v5=(n,e,t)=>e.has(n)||g5("Cannot "+t),rr=(n,e,t)=>(v5(n,e,"read from private field"),t?t.call(n):e.get(n)),Oc=(n,e,t)=>e.has(n)?g5("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Nl=(n,e,t,r)=>(v5(n,e,"write to private field"),e.set(n,t),t);const y5="KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHUobil7aWYobj09PSIvIilyZXR1cm57cGFyZW50Om51bGwsbmFtZToiIn07Y29uc3QgZT1uLnNwbGl0KCIvIikuZmlsdGVyKGk9PmkubGVuZ3RoPjApO2lmKGUubGVuZ3RoPT09MCl0aHJvdyBFcnJvcigiSW52YWxpZCBwYXRoIik7Y29uc3QgYT1lW2UubGVuZ3RoLTFdLHI9Ii8iK2Uuc2xpY2UoMCwtMSkuam9pbigiLyIpO3JldHVybntuYW1lOmEscGFyZW50OnJ9fWFzeW5jIGZ1bmN0aW9uIHcobixlKXtjb25zdHtwYXJlbnQ6YSxuYW1lOnJ9PXUobik7aWYoYT09bnVsbClyZXR1cm4gYXdhaXQgbmF2aWdhdG9yLnN0b3JhZ2UuZ2V0RGlyZWN0b3J5KCk7Y29uc3QgaT1hLnNwbGl0KCIvIikuZmlsdGVyKHQ9PnQubGVuZ3RoPjApO3RyeXtsZXQgdD1hd2FpdCBuYXZpZ2F0b3Iuc3RvcmFnZS5nZXREaXJlY3RvcnkoKTtmb3IoY29uc3QgcyBvZiBpKXQ9YXdhaXQgdC5nZXREaXJlY3RvcnlIYW5kbGUocyx7Y3JlYXRlOmUuY3JlYXRlfSk7aWYoZS5pc0ZpbGUpcmV0dXJuIGF3YWl0IHQuZ2V0RmlsZUhhbmRsZShyLHtjcmVhdGU6ZS5jcmVhdGV9KX1jYXRjaCh0KXtpZih0Lm5hbWU9PT0iTm90Rm91bmRFcnJvciIpcmV0dXJuIG51bGw7dGhyb3cgdH19Y29uc3QgZj17fTtzZWxmLm9ubWVzc2FnZT1hc3luYyBuPT57dmFyIGk7Y29uc3R7ZXZ0VHlwZTplLGFyZ3M6YX09bi5kYXRhO2xldCByPWZbYS5maWxlSWRdO3RyeXtsZXQgdDtjb25zdCBzPVtdO2lmKGU9PT0icmVnaXN0ZXIiKXtjb25zdCBsPWF3YWl0IHcoYS5maWxlUGF0aCx7Y3JlYXRlOiEwLGlzRmlsZTohMH0pO2lmKGw9PW51bGwpdGhyb3cgRXJyb3IoYG5vdCBmb3VuZCBmaWxlOiAke2EuZmlsZUlkfWApO3I9YXdhaXQgbC5jcmVhdGVTeW5jQWNjZXNzSGFuZGxlKHttb2RlOmEubW9kZX0pLGZbYS5maWxlSWRdPXJ9ZWxzZSBpZihlPT09ImNsb3NlIilhd2FpdCByLmNsb3NlKCksZGVsZXRlIGZbYS5maWxlSWRdO2Vsc2UgaWYoZT09PSJ0cnVuY2F0ZSIpYXdhaXQgci50cnVuY2F0ZShhLm5ld1NpemUpO2Vsc2UgaWYoZT09PSJ3cml0ZSIpe2NvbnN0e2RhdGE6bCxvcHRzOm99PW4uZGF0YS5hcmdzO3Q9YXdhaXQgci53cml0ZShsLG8pfWVsc2UgaWYoZT09PSJyZWFkIil7Y29uc3R7b2Zmc2V0Omwsc2l6ZTpvfT1uLmRhdGEuYXJncyxnPW5ldyBVaW50OEFycmF5KG8pLGQ9YXdhaXQgci5yZWFkKGcse2F0Omx9KSxjPWcuYnVmZmVyO3Q9ZD09PW8/YzooKGk9Yy50cmFuc2Zlcik9PW51bGw/dm9pZCAwOmkuY2FsbChjLGQpKT8/Yy5zbGljZSgwLGQpLHMucHVzaCh0KX1lbHNlIGU9PT0iZ2V0U2l6ZSI/dD1hd2FpdCByLmdldFNpemUoKTplPT09ImZsdXNoIiYmYXdhaXQgci5mbHVzaCgpO3NlbGYucG9zdE1lc3NhZ2Uoe2V2dFR5cGU6ImNhbGxiYWNrIixjYklkOm4uZGF0YS5jYklkLHJldHVyblZhbDp0fSxzKX1jYXRjaCh0KXtjb25zdCBzPXQ7c2VsZi5wb3N0TWVzc2FnZSh7ZXZ0VHlwZToidGhyb3dFcnJvciIsY2JJZDpuLmRhdGEuY2JJZCxlcnJNc2c6cy5uYW1lKyI6ICIrcy5tZXNzYWdlK2AKYCtKU09OLnN0cmluZ2lmeShuLmRhdGEpfSl9fX0pKCk7Ci8vIyBzb3VyY2VNYXBwaW5nVVJMPW9wZnMtd29ya2VyLUY0UldscWNfLmpzLm1hcAo=",yde=n=>Uint8Array.from(atob(n),e=>e.charCodeAt(0)),aN=typeof self<"u"&&self.Blob&&new Blob([yde(y5)],{type:"text/javascript;charset=utf-8"});function bde(n){let e;try{if(e=aN&&(self.URL||self.webkitURL).createObjectURL(aN),!e)throw"";const t=new Worker(e,{name:n==null?void 0:n.name});return t.addEventListener("error",()=>{(self.URL||self.webkitURL).revokeObjectURL(e)}),t}catch{return new Worker("data:text/javascript;base64,"+y5,{name:n==null?void 0:n.name})}finally{e&&(self.URL||self.webkitURL).revokeObjectURL(e)}}async function _de(n,e,t){const r=Sde();return await r("register",{fileId:n,filePath:e,mode:t}),{read:async(a,o)=>await r("read",{fileId:n,offset:a,size:o}),write:async(a,o)=>await r("write",{fileId:n,data:a,opts:o},[ArrayBuffer.isView(a)?a.buffer:a]),close:async()=>await r("close",{fileId:n}),truncate:async a=>await r("truncate",{fileId:n,newSize:a}),getSize:async()=>await r("getSize",{fileId:n}),flush:async()=>await r("flush",{fileId:n})}}const i1=[];let xA=0;function Sde(){if(i1.length<3){const e=n();return i1.push(e),e}else{const e=i1[xA];return xA=(xA+1)%i1.length,e}function n(){const e=new bde;let t=0,r={};return e.onmessage=({data:a})=>{var o,l;a.evtType==="callback"?(o=r[a.cbId])==null||o.resolve(a.returnVal):a.evtType==="throwError"&&((l=r[a.cbId])==null||l.reject(Error(a.errMsg))),delete r[a.cbId]},async function(a,o,l=[]){t+=1;const s=new Promise((f,h)=>{r[t]={resolve:f,reject:h}});return e.postMessage({cbId:t,evtType:a,args:o},l),s}}}function VE(n){if(n==="/")return{parent:null,name:""};const e=n.split("/").filter(a=>a.length>0);if(e.length===0)throw Error("Invalid path");const t=e[e.length-1],r="/"+e.slice(0,-1).join("/");return{name:t,parent:r}}async function Th(n,e){const{parent:t,name:r}=VE(n);if(t==null)return await navigator.storage.getDirectory();const a=t.split("/").filter(o=>o.length>0);try{let o=await navigator.storage.getDirectory();for(const l of a)o=await o.getDirectoryHandle(l,{create:e.create});return e.isFile?await o.getFileHandle(r,{create:e.create}):await o.getDirectoryHandle(r,{create:e.create})}catch(o){if(o.name==="NotFoundError")return null;throw o}}async function b5(n){const{parent:e,name:t}=VE(n);if(e==null){const a=await navigator.storage.getDirectory();for await(const o of a.keys())await a.removeEntry(o,{recursive:!0});return}const r=await Th(e,{create:!1,isFile:!1});r!=null&&await r.removeEntry(t,{recursive:!0})}function pR(n,e){return`${n}/${e}`.replace("//","/")}function Ov(n){return new S5(n)}var Lu,R1,Yy;const xde=class _5{constructor(e){Oc(this,Lu),Oc(this,R1),Oc(this,Yy),Nl(this,Lu,e);const{parent:t,name:r}=VE(e);Nl(this,R1,r),Nl(this,Yy,t)}get kind(){return"dir"}get name(){return rr(this,R1)}get path(){return rr(this,Lu)}get parent(){return rr(this,Yy)==null?null:Ov(rr(this,Yy))}async create(){return await Th(rr(this,Lu),{create:!0,isFile:!1}),Ov(rr(this,Lu))}async exists(){return await Th(rr(this,Lu),{create:!1,isFile:!1})instanceof FileSystemDirectoryHandle}async remove(){for(const e of await this.children())try{await e.remove()}catch(t){console.warn(t)}try{await b5(rr(this,Lu))}catch(e){console.warn(e)}}async children(){const e=await Th(rr(this,Lu),{create:!1,isFile:!1});if(e==null)return[];const t=[];for await(const r of e.values())t.push((r.kind==="file"?L_:Ov)(pR(rr(this,Lu),r.name)));return t}async copyTo(e){if(!await this.exists())throw Error(`dir ${this.path} not exists`);if(e instanceof _5){const t=await e.exists()?Ov(pR(e.path,this.name)):e;await t.create(),await Promise.all((await this.children()).map(r=>r.copyTo(t)));return}else if(e instanceof FileSystemDirectoryHandle){await Promise.all((await this.children()).map(async t=>{t.kind==="file"?await t.copyTo(await e.getFileHandle(t.name,{create:!0})):await t.copyTo(await e.getDirectoryHandle(t.name,{create:!0}))}));return}throw Error("Illegal target type")}async moveTo(e){await this.copyTo(e),await this.remove()}};Lu=new WeakMap,R1=new WeakMap,Yy=new WeakMap;let S5=xde;const oN=new Map;function L_(n,e="rw"){if(e==="rw"){const t=oN.get(n)??new gC(n,e);return oN.set(n,t),t}return new gC(n,e)}async function yI(n,e,t={overwrite:!0}){if(e instanceof gC){await yI(n,await e.stream(),t);return}const r=await(n instanceof gC?n:L_(n,"rw")).createWriter();try{if(t.overwrite&&await r.truncate(0),e instanceof ReadableStream){const a=e.getReader();for(;;){const{done:o,value:l}=await a.read();if(o)break;await r.write(l)}}else await r.write(e)}catch(a){throw a}finally{await r.close()}}let wde=0;const Cde=()=>++wde;var Nu,qy,O1,Zy,I1,ph,z1,Ky;const Ede=class x5{constructor(e,t){Oc(this,Nu),Oc(this,qy),Oc(this,O1),Oc(this,Zy),Oc(this,I1),Oc(this,ph,0),Oc(this,z1,(()=>{let o=null;return()=>(Nl(this,ph,rr(this,ph)+1),o??(o=new Promise(async(l,s)=>{try{const f=await _de(rr(this,I1),rr(this,Nu),rr(this,Zy));l([f,async()=>{Nl(this,ph,rr(this,ph)-1),!(rr(this,ph)>0)&&(o=null,await f.close())}])}catch(f){s(f)}})))})()),Oc(this,Ky,!1),Nl(this,I1,Cde()),Nl(this,Nu,e),Nl(this,Zy,{r:"read-only",rw:"readwrite","rw-unsafe":"readwrite-unsafe"}[t]);const{parent:r,name:a}=VE(e);if(r==null)throw Error("Invalid path");Nl(this,O1,a),Nl(this,qy,r)}get kind(){return"file"}get path(){return rr(this,Nu)}get name(){return rr(this,O1)}get parent(){return rr(this,qy)==null?null:Ov(rr(this,qy))}async createWriter(){if(rr(this,Zy)==="read-only")throw Error("file is read-only");if(rr(this,Ky))throw Error("Other writer have not been closed");Nl(this,Ky,!0);const e=new TextEncoder,[t,r]=await rr(this,z1).call(this);let a=await t.getSize(),o=!1;return{write:async(l,s={})=>{if(o)throw Error("Writer is closed");const f=typeof l=="string"?e.encode(l):l,h=s.at??a,v=f.byteLength;return a=h+v,await t.write(f,{at:h})},truncate:async l=>{if(o)throw Error("Writer is closed");await t.truncate(l),a>l&&(a=l)},flush:async()=>{if(o)throw Error("Writer is closed");await t.flush()},close:async()=>{if(o)throw Error("Writer is closed");o=!0,Nl(this,Ky,!1),await r()}}}async createReader(){const[e,t]=await rr(this,z1).call(this);let r=!1,a=0;return{read:async(o,l={})=>{if(r)throw Error("Reader is closed");const s=l.at??a,f=await e.read(s,o);return a=s+f.byteLength,f},getSize:async()=>{if(r)throw Error("Reader is closed");return await e.getSize()},close:async()=>{r||(r=!0,await t())}}}async text(){return new TextDecoder().decode(await this.arrayBuffer())}async arrayBuffer(){const e=await Th(rr(this,Nu),{create:!1,isFile:!0});return e==null?new ArrayBuffer(0):(await e.getFile()).arrayBuffer()}async stream(){const e=await this.getOriginFile();return e==null?new ReadableStream({pull:t=>{t.close()}}):e.stream()}async getOriginFile(){var e;return(e=await Th(rr(this,Nu),{create:!1,isFile:!0}))==null?void 0:e.getFile()}async getSize(){const e=await Th(rr(this,Nu),{create:!1,isFile:!0});return e==null?0:(await e.getFile()).size}async exists(){return await Th(rr(this,Nu),{create:!1,isFile:!0})instanceof FileSystemFileHandle}async remove(){if(rr(this,ph))throw Error("exists unclosed reader/writer");await b5(rr(this,Nu))}async copyTo(e){if(e instanceof x5){if(e.path===this.path)return;await yI(e.path,this);return}else if(e instanceof S5){if(!await this.exists())throw Error(`file ${this.path} not exists`);return await this.copyTo(L_(pR(e.path,this.name)))}else if(e instanceof FileSystemFileHandle){await(await this.stream()).pipeTo(await e.createWritable());return}throw Error("Illegal target type")}async moveTo(e){await this.copyTo(e),await this.remove()}};Nu=new WeakMap,qy=new WeakMap,O1=new WeakMap,Zy=new WeakMap,I1=new WeakMap,ph=new WeakMap,z1=new WeakMap,Ky=new WeakMap;let gC=Ede;const bI="/.opfs-tools-temp-dir";async function w5(n){try{if(n.kind==="file"){if(!await n.exists())return!0;const e=await n.createWriter();await e.truncate(0),await e.close(),await n.remove()}else await n.remove();return!0}catch(e){return console.warn(e),!1}}function Mde(){setInterval(async()=>{for(const n of await Ov(bI).children()){const e=/^\d+-(\d+)$/.exec(n.name);(e==null||Date.now()-Number(e[1])>2592e5)&&await w5(n)}},60*1e3)}const mR=[];let sN=!1;async function Tde(){if(globalThis.localStorage==null)return;const n="OPFS_TOOLS_EXPIRES_TMP_FILES";sN||(sN=!0,globalThis.addEventListener("unload",()=>{mR.length!==0&&localStorage.setItem(n,`${localStorage.getItem(n)??""},${mR.join(",")}`)}));let e=localStorage.getItem(n)??"";for(const t of e.split(","))t.length!==0&&await w5(L_(`${bI}/${t}`))&&(e=e.replace(t,""));localStorage.setItem(n,e.replace(/,{2,}/g,","))}(async function(){var n;globalThis.__opfs_tools_tmpfile_init__!==!0&&(globalThis.__opfs_tools_tmpfile_init__=!0,!(globalThis.FileSystemDirectoryHandle==null||globalThis.FileSystemFileHandle==null||((n=globalThis.navigator)==null?void 0:n.storage.getDirectory)==null)&&(Mde(),await Tde()))})();function Ade(){const n=`${Math.random().toString().slice(2)}-${Date.now()}`;return mR.push(n),L_(`${bI}/${n}`)}var Rde=Object.defineProperty,C5=n=>{throw TypeError(n)},Ode=(n,e,t)=>e in n?Rde(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,qr=(n,e,t)=>Ode(n,typeof e!="symbol"?e+"":e,t),_I=(n,e,t)=>e.has(n)||C5("Cannot "+t),xe=(n,e,t)=>(_I(n,e,"read from private field"),t?t.call(n):e.get(n)),Yt=(n,e,t)=>e.has(n)?C5("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Gt=(n,e,t,r)=>(_I(n,e,"write to private field"),e.set(n,t),t),Nc=(n,e,t)=>(_I(n,e,"access private method"),t);function Ide(n){if(n.format==="f32-planar"){const e=[];for(let t=0;t<n.numberOfChannels;t+=1){const r=n.allocationSize({planeIndex:t}),a=new ArrayBuffer(r);n.copyTo(a,{planeIndex:t}),e.push(new Float32Array(a))}return e}else if(n.format==="f32"){const e=new ArrayBuffer(n.allocationSize({planeIndex:0}));return n.copyTo(e,{planeIndex:0}),Pde(new Float32Array(e),n.numberOfChannels)}else if(n.format==="s16"){const e=new ArrayBuffer(n.allocationSize({planeIndex:0}));return n.copyTo(e,{planeIndex:0}),zde(new Int16Array(e),n.numberOfChannels)}throw Error("Unsupported audio data format")}function zde(n,e){const t=n.length/e,r=Array.from({length:e},()=>new Float32Array(t));for(let a=0;a<t;a++)for(let o=0;o<e;o++){const l=n[a*e+o];r[o][a]=l/32768}return r}function Pde(n,e){const t=n.length/e,r=Array.from({length:e},()=>new Float32Array(t));for(let a=0;a<t;a++)for(let o=0;o<e;o++)r[o][a]=n[a*e+o];return r}function E5(n){return Array(n.numberOfChannels).fill(0).map((e,t)=>n.getChannelData(t))}async function Dde(n,e){var t;const r={type:e,data:n},a=new ImageDecoder(r);await Promise.all([a.completed,a.tracks.ready]);let o=((t=a.tracks.selectedTrack)==null?void 0:t.frameCount)??1;const l=[];for(let s=0;s<o;s+=1)l.push((await a.decode({frameIndex:s})).image);return l}async function Lde(n,e,t){const r=n.length,a=Array(t.chanCount).fill(0).map(()=>new Float32Array(0));if(r===0)return a;const o=Math.max(...n.map(h=>h.length));if(o===0)return a;if(globalThis.OfflineAudioContext==null)return n.map(h=>new Float32Array(mde(h,e,t.rate,{method:"sinc",LPF:!1})));const l=new globalThis.OfflineAudioContext(t.chanCount,o*t.rate/e,t.rate),s=l.createBufferSource(),f=l.createBuffer(r,o,e);return n.forEach((h,v)=>f.copyToChannel(h,v)),s.buffer=f,s.connect(l.destination),s.start(),E5(await l.startRendering())}function SI(n){return new Promise(e=>{const t=gI(()=>{t(),e()},n)})}function lN(n,e,t){const r=t-e,a=new Float32Array(r);let o=0;for(;o<r;)a[o]=n[(e+o)%n.length],o+=1;return a}function M5(n,e){const t=Math.floor(n.length/e),r=new Float32Array(t);for(let a=0;a<t;a++){const o=a*e,l=Math.floor(o),s=o-l;l+1<n.length?r[a]=n[l]*(1-s)+n[l+1]*s:r[a]=n[l]}return r}const Xr={sampleRate:48e3,channelCount:2,codec:"mp4a.40.2"};function Nde(n,e){const t=e.videoTracks[0],r={};if(t!=null){const o=Ude(n.getTrackById(t.id)).buffer,{descKey:l,type:s}=t.codec.startsWith("avc1")?{descKey:"avcDecoderConfigRecord",type:"avc1"}:t.codec.startsWith("hvc1")?{descKey:"hevcDecoderConfigRecord",type:"hvc1"}:{descKey:"",type:""};l!==""&&(r.videoTrackConf={timescale:t.timescale,duration:t.duration,width:t.video.width,height:t.video.height,brands:e.brands,type:s,[l]:o}),r.videoDecoderConf={codec:t.codec,codedHeight:t.video.height,codedWidth:t.video.width,description:o}}const a=e.audioTracks[0];if(a!=null){const o=cN(n);r.audioTrackConf={timescale:a.timescale,samplerate:a.audio.sample_rate,channel_count:a.audio.channel_count,hdlr:"soun",type:a.codec.startsWith("mp4a")?"mp4a":a.codec,description:cN(n)},r.audioDecoderConf={codec:a.codec.startsWith("mp4a")?Xr.codec:a.codec,numberOfChannels:a.audio.channel_count,sampleRate:a.audio.sample_rate,...o==null?{}:Bde(o)}}return r}function Ude(n){for(const e of n.mdia.minf.stbl.stsd.entries){const t=e.avcC??e.hvcC??e.av1C??e.vpcC;if(t!=null){const r=new ud.DataStream(void 0,0,ud.DataStream.BIG_ENDIAN);return t.write(r),new Uint8Array(r.buffer.slice(8))}}throw Error("avcC, hvcC, av1C or VPX not found")}function cN(n,e="mp4a"){var t;const r=(t=n.moov)==null?void 0:t.traks.map(a=>a.mdia.minf.stbl.stsd.entries).flat().find(({type:a})=>a===e);return r==null?void 0:r.esds}function Bde(n){var e;const t=(e=n.esd.descs[0])==null?void 0:e.descs[0];if(t==null)return{};const[r,a]=t.data,o=((r&7)<<1)+(a>>7),l=(a&127)>>3;return{sampleRate:[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350][o],numberOfChannels:l}}async function Fde(n,e,t){const r=ud.createFile(!1);r.onReady=o=>{var l,s;e({mp4boxFile:r,info:o});const f=(l=o.videoTracks[0])==null?void 0:l.id;f!=null&&r.setExtractionOptions(f,"video",{nbSamples:100});const h=(s=o.audioTracks[0])==null?void 0:s.id;h!=null&&r.setExtractionOptions(h,"audio",{nbSamples:100}),r.start()},r.onSamples=t,await a();async function a(){let o=0;const l=30*1024*1024;for(;;){const s=await n.read(l,{at:o});if(s.byteLength===0)break;s.fileStart=o;const f=r.appendBuffer(s);if(f==null)break;o=f}r.stop()}}let xI=0;function wA(n){return n.kind==="file"&&n.createReader instanceof Function}var gR,P1,D1,Uu,Ms,$f,L1,Bu,$p,Qy,iv,Vf,el,Jy;const Hde=class rv{constructor(e,t={}){if(Yt(this,gR,xI++),Yt(this,P1,hi.create(`MP4Clip id:${xe(this,gR)},`)),qr(this,"ready"),Yt(this,D1,!1),Yt(this,Uu,{duration:0,width:0,height:0,audioSampleRate:0,audioChanCount:0}),Yt(this,Ms),Yt(this,$f,[]),Yt(this,L1,1),Yt(this,Bu,[]),Yt(this,$p,[]),Yt(this,Qy,null),Yt(this,iv,null),Yt(this,Vf,{video:null,audio:null}),Yt(this,el,{audio:!0}),qr(this,"tickInterceptor",async(a,o)=>o),Yt(this,Jy,new AbortController),!(e instanceof ReadableStream)&&!wA(e)&&!Array.isArray(e.videoSamples))throw Error("Illegal argument");Gt(this,el,{audio:!0,...t}),Gt(this,L1,typeof t.audio=="object"&&"volume"in t.audio?t.audio.volume:1);const r=async a=>(await yI(xe(this,Ms),a),xe(this,Ms));Gt(this,Ms,wA(e)?e:"localFile"in e?e.localFile:Ade()),this.ready=(e instanceof ReadableStream?r(e).then(a=>fN(a,xe(this,el))):wA(e)?fN(e,xe(this,el)):Promise.resolve(e)).then(async({videoSamples:a,audioSamples:o,decoderConf:l,headerBoxPos:s})=>{Gt(this,Bu,a),Gt(this,$p,o),Gt(this,Vf,l),Gt(this,$f,s);const{videoFrameFinder:f,audioFrameFinder:h}=$de({video:l.video==null?null:{...l.video,hardwareAcceleration:xe(this,el).__unsafe_hardwareAcceleration__},audio:l.audio},await xe(this,Ms).createReader(),a,o,xe(this,el).audio!==!1?xe(this,L1):0);return Gt(this,Qy,f),Gt(this,iv,h),Gt(this,Uu,kde(l,a,o)),xe(this,P1).info("MP4Clip meta:",xe(this,Uu)),{...xe(this,Uu)}})}get meta(){return{...xe(this,Uu)}}async getFileHeaderBinData(){await this.ready;const e=await xe(this,Ms).getOriginFile();if(e==null)throw Error("MP4Clip localFile is not origin file");return await new Blob(xe(this,$f).map(({start:t,size:r})=>e.slice(t,t+r))).arrayBuffer()}async tick(e){var t,r,a;if(e>=xe(this,Uu).duration)return await this.tickInterceptor(e,{audio:await((t=xe(this,iv))==null?void 0:t.find(e))??[],state:"done"});const[o,l]=await Promise.all([((r=xe(this,iv))==null?void 0:r.find(e))??[],(a=xe(this,Qy))==null?void 0:a.find(e)]);return l==null?await this.tickInterceptor(e,{audio:o,state:"success"}):await this.tickInterceptor(e,{video:l,audio:o,state:"success"})}async thumbnails(e=100,t){xe(this,Jy).abort(),Gt(this,Jy,new AbortController);const r=xe(this,Jy).signal;await this.ready;const a="generate thumbnails aborted";if(r.aborted)throw Error(a);const{width:o,height:l}=xe(this,Uu),s=Xde(e,Math.round(l*(e/o)),{quality:.1,type:"image/png"});return new Promise(async(f,h)=>{let v=[];const _=xe(this,Vf).video;if(_==null||xe(this,Bu).length===0){x();return}r.addEventListener("abort",()=>{h(Error(a))});async function x(){r.aborted||f(await Promise.all(v.map(async b=>({ts:b.ts,img:await b.img}))))}function C(b){v.push({ts:b.timestamp,img:s(b)})}const{start:c=0,end:p=xe(this,Uu).duration,step:m}=t??{};if(m){let b=c;const w=new T5(await xe(this,Ms).createReader(),xe(this,Bu),{..._,hardwareAcceleration:xe(this,el).__unsafe_hardwareAcceleration__});for(;b<=p&&!r.aborted;){const A=await w.find(b);A&&C(A),b+=m}w.destroy(),x()}else await Kde(xe(this,Bu),xe(this,Ms),_,r,{start:c,end:p},(b,w)=>{b!=null&&C(b),w&&x()})})}async split(e){if(await this.ready,e<=0||e>=xe(this,Uu).duration)throw Error('"time" out of bounds');const[t,r]=Yde(xe(this,Bu),e),[a,o]=qde(xe(this,$p),e),l=new rv({localFile:xe(this,Ms),videoSamples:t??[],audioSamples:a??[],decoderConf:xe(this,Vf),headerBoxPos:xe(this,$f)},xe(this,el)),s=new rv({localFile:xe(this,Ms),videoSamples:r??[],audioSamples:o??[],decoderConf:xe(this,Vf),headerBoxPos:xe(this,$f)},xe(this,el));return await Promise.all([l.ready,s.ready]),[l,s]}async clone(){await this.ready;const e=new rv({localFile:xe(this,Ms),videoSamples:[...xe(this,Bu)],audioSamples:[...xe(this,$p)],decoderConf:xe(this,Vf),headerBoxPos:xe(this,$f)},xe(this,el));return await e.ready,e.tickInterceptor=this.tickInterceptor,e}async splitTrack(){await this.ready;const e=[];if(xe(this,Bu).length>0){const t=new rv({localFile:xe(this,Ms),videoSamples:[...xe(this,Bu)],audioSamples:[],decoderConf:{video:xe(this,Vf).video,audio:null},headerBoxPos:xe(this,$f)},xe(this,el));await t.ready,t.tickInterceptor=this.tickInterceptor,e.push(t)}if(xe(this,$p).length>0){const t=new rv({localFile:xe(this,Ms),videoSamples:[],audioSamples:[...xe(this,$p)],decoderConf:{audio:xe(this,Vf).audio,video:null},headerBoxPos:xe(this,$f)},xe(this,el));await t.ready,t.tickInterceptor=this.tickInterceptor,e.push(t)}return e}destroy(){var e,t;xe(this,D1)||(xe(this,P1).info("MP4Clip destroy"),Gt(this,D1,!0),(e=xe(this,Qy))==null||e.destroy(),(t=xe(this,iv))==null||t.destroy())}};gR=new WeakMap,P1=new WeakMap,D1=new WeakMap,Uu=new WeakMap,Ms=new WeakMap,$f=new WeakMap,L1=new WeakMap,Bu=new WeakMap,$p=new WeakMap,Qy=new WeakMap,iv=new WeakMap,Vf=new WeakMap,el=new WeakMap,Jy=new WeakMap;let uN=Hde;function kde(n,e,t){const r={duration:0,width:0,height:0,audioSampleRate:0,audioChanCount:0};n.video!=null&&e.length>0&&(r.width=n.video.codedWidth??0,r.height=n.video.codedHeight??0),n.audio!=null&&t.length>0&&(r.audioSampleRate=Xr.sampleRate,r.audioChanCount=Xr.channelCount);let a=0,o=0;if(e.length>0)for(let l=e.length-1;l>=0;l--){const s=e[l];if(!s.deleted){a=s.cts+s.duration;break}}if(t.length>0){const l=t.at(-1);o=l.cts+l.duration}return r.duration=Math.max(a,o),r}function $de(n,e,t,r,a){return{audioFrameFinder:a===0||n.audio==null||r.length===0?null:new Gde(e,r,n.audio,{volume:a,targetSampleRate:Xr.sampleRate}),videoFrameFinder:n.video==null||t.length===0?null:new T5(e,t,n.video)}}async function fN(n,e={}){let t=null;const r={video:null,audio:null};let a=[],o=[],l=[],s=-1,f=-1;const h=await n.createReader();await Fde(h,x=>{t=x.info;const C=x.mp4boxFile.ftyp;l.push({start:C.start,size:C.size});const c=x.mp4boxFile.moov;l.push({start:c.start,size:c.size});let{videoDecoderConf:p,audioDecoderConf:m}=Nde(x.mp4boxFile,x.info);r.video=p??null,r.audio=m??null,p==null&&m==null&&hi.error("MP4Clip no video and audio track"),hi.info("mp4BoxFile moov ready",{...x.info,tracks:null,videoTracks:null,audioTracks:null},r)},(x,C,c)=>{if(C==="video"){s===-1&&(s=c[0].dts);for(const p of c)a.push(_(p,s,"video"))}else if(C==="audio"&&e.audio){f===-1&&(f=c[0].dts);for(const p of c)o.push(_(p,f,"audio"))}}),await h.close();const v=a.at(-1)??o.at(-1);if(t==null)throw Error("MP4Clip stream is done, but not emit ready");if(v==null)throw Error("MP4Clip stream not contain any sample");return _R(a),hi.info("mp4 stream parsed"),{videoSamples:a,audioSamples:o,decoderConf:r,headerBoxPos:l};function _(x,C=0,c){const p=c==="video"&&x.is_sync?Zde(x.data,x.description.type):-1;let m=x.offset,b=x.size;return p>=0&&(m+=p,b-=p),{...x,is_idr:p>=0,offset:m,size:b,cts:(x.cts-C)/x.timescale*1e6,dts:(x.dts-C)/x.timescale*1e6,duration:x.duration/x.timescale*1e6,timescale:1e6,data:c==="video"?null:x.data}}}var es,av,ov,N1,sv,Gf,Dl,mh,Vp,lv,U1,eb,Gp,B1,cv,F1;class T5{constructor(e,t,r){Yt(this,es,null),Yt(this,av,0),Yt(this,ov,{abort:!1,st:performance.now()}),qr(this,"find",async a=>{(xe(this,es)==null||xe(this,es).state==="closed"||a<=xe(this,av)||a-xe(this,av)>3e6)&&xe(this,cv).call(this,a),xe(this,ov).abort=!0,Gt(this,av,a),Gt(this,ov,{abort:!1,st:performance.now()});const o=await xe(this,eb).call(this,a,xe(this,es),xe(this,ov));return Gt(this,lv,0),o}),Yt(this,N1,0),Yt(this,sv,!1),Yt(this,Gf,0),Yt(this,Dl,[]),Yt(this,mh,0),Yt(this,Vp,0),Yt(this,lv,0),Yt(this,U1,!1),Yt(this,eb,async(a,o,l)=>{if(o==null||o.state==="closed"||l.abort)return null;if(xe(this,Dl).length>0){const s=xe(this,Dl)[0];return a<s.timestamp?null:(xe(this,Dl).shift(),a>s.timestamp+(s.duration??0)?(s.close(),await xe(this,eb).call(this,a,o,l)):(!xe(this,U1)&&xe(this,Dl).length<10&&xe(this,B1).call(this,o).catch(f=>{throw Gt(this,U1,!0),xe(this,cv).call(this,a),f}),s))}if(xe(this,Gp)||xe(this,mh)<xe(this,Vp)&&o.decodeQueueSize>0){if(performance.now()-l.st>6e3)throw Error(`MP4Clip.tick video timeout, ${JSON.stringify(xe(this,F1).call(this))}`);Gt(this,lv,xe(this,lv)+1),await SI(15)}else{if(xe(this,Gf)>=this.samples.length)return null;try{await xe(this,B1).call(this,o)}catch(s){throw xe(this,cv).call(this,a),s}}return await xe(this,eb).call(this,a,o,l)}),Yt(this,Gp,!1),Yt(this,B1,async a=>{var o,l;if(xe(this,Gp)||a.decodeQueueSize>600)return;let s=xe(this,Gf)+1;if(s>this.samples.length)return;Gt(this,Gp,!0);let f=!1;for(;s<this.samples.length;s++){const h=this.samples[s];if(!f&&!h.deleted&&(f=!0),h.is_idr)break}if(f){const h=this.samples.slice(xe(this,Gf),s);if(((o=h[0])==null?void 0:o.is_idr)!==!0)hi.warn("First sample not idr frame");else{const v=performance.now(),_=await A5(h,this.localFileReader),x=performance.now()-v;if(x>1e3){const C=h[0],c=h.at(-1),p=c.offset+c.size-C.offset;hi.warn(`Read video samples time cost: ${Math.round(x)}ms, file chunk size: ${p}`)}if(a.state==="closed")return;Gt(this,N1,((l=_[0])==null?void 0:l.duration)??0),bR(a,_,{onDecodingError:C=>{if(xe(this,sv))throw C;xe(this,mh)===0&&(Gt(this,sv,!0),hi.warn("Downgrade to software decode"),xe(this,cv).call(this))}}),Gt(this,Vp,xe(this,Vp)+_.length)}}Gt(this,Gf,s),Gt(this,Gp,!1)}),Yt(this,cv,a=>{var o,l;if(Gt(this,Gp,!1),xe(this,Dl).forEach(f=>f.close()),Gt(this,Dl,[]),a==null||a===0)Gt(this,Gf,0);else{let f=0;for(let h=0;h<this.samples.length;h++){const v=this.samples[h];if(v.is_idr&&(f=h),!(v.cts<a)){Gt(this,Gf,f);break}}}Gt(this,Vp,0),Gt(this,mh,0),((o=xe(this,es))==null?void 0:o.state)!=="closed"&&((l=xe(this,es))==null||l.close());const s={...this.conf,...xe(this,sv)?{hardwareAcceleration:"prefer-software"}:{}};Gt(this,es,new VideoDecoder({output:f=>{if(Gt(this,mh,xe(this,mh)+1),f.timestamp===-1){f.close();return}let h=f;f.duration==null&&(h=new VideoFrame(f,{duration:xe(this,N1)}),f.close()),xe(this,Dl).push(h)},error:f=>{if(f.message.includes("Codec reclaimed due to inactivity")){Gt(this,es,null),hi.warn(f.message);return}const h=`VideoFinder VideoDecoder err: ${f.message}, config: ${JSON.stringify(s)}, state: ${JSON.stringify(xe(this,F1).call(this))}`;throw hi.error(h),Error(h)}})),xe(this,es).configure(s)}),Yt(this,F1,()=>{var a,o;return{time:xe(this,av),decState:(a=xe(this,es))==null?void 0:a.state,decQSize:(o=xe(this,es))==null?void 0:o.decodeQueueSize,decCusorIdx:xe(this,Gf),sampleLen:this.samples.length,inputCnt:xe(this,Vp),outputCnt:xe(this,mh),cacheFrameLen:xe(this,Dl).length,softDeocde:xe(this,sv),clipIdCnt:xI,sleepCnt:xe(this,lv),memInfo:R5()}}),qr(this,"destroy",()=>{var a,o;((a=xe(this,es))==null?void 0:a.state)!=="closed"&&((o=xe(this,es))==null||o.close()),Gt(this,es,null),xe(this,ov).abort=!0,xe(this,Dl).forEach(l=>l.close()),Gt(this,Dl,[]),this.localFileReader.close()}),this.localFileReader=e,this.samples=t,this.conf=r}}es=new WeakMap,av=new WeakMap,ov=new WeakMap,N1=new WeakMap,sv=new WeakMap,Gf=new WeakMap,Dl=new WeakMap,mh=new WeakMap,Vp=new WeakMap,lv=new WeakMap,U1=new WeakMap,eb=new WeakMap,Gp=new WeakMap,B1=new WeakMap,cv=new WeakMap,F1=new WeakMap;function Vde(n,e){for(let t=0;t<e.length;t++){const r=e[t];if(n>=r.cts&&n<r.cts+r.duration)return t;if(r.cts>n)break}return 0}var H1,k1,Fu,uv,jf,gh,Tc,fv,$1,V1,vR,yR;class Gde{constructor(e,t,r,a){Yt(this,H1,1),Yt(this,k1),Yt(this,Fu,null),Yt(this,uv,{abort:!1,st:performance.now()}),qr(this,"find",async o=>{const l=o<=xe(this,jf)||o-xe(this,jf)>1e5;(xe(this,Fu)==null||xe(this,Fu).state==="closed"||l)&&xe(this,vR).call(this),l&&(Gt(this,jf,o),Gt(this,gh,Vde(o,this.samples))),xe(this,uv).abort=!0;const s=o-xe(this,jf);Gt(this,jf,o),Gt(this,uv,{abort:!1,st:performance.now()});const f=await xe(this,$1).call(this,Math.ceil(s*(xe(this,k1)/1e6)),xe(this,Fu),xe(this,uv));return Gt(this,fv,0),f}),Yt(this,jf,0),Yt(this,gh,0),Yt(this,Tc,{frameCnt:0,data:[]}),Yt(this,fv,0),Yt(this,$1,async(o,l=null,s)=>{if(l==null||s.abort||l.state==="closed"||o===0)return[];const f=xe(this,Tc).frameCnt-o;if(f>0)return f<Xr.sampleRate/10&&xe(this,V1).call(this,l),dN(xe(this,Tc),o);if(l.decoding){if(performance.now()-s.st>3e3)throw s.abort=!0,Error(`MP4Clip.tick audio timeout, ${JSON.stringify(xe(this,yR).call(this))}`);Gt(this,fv,xe(this,fv)+1),await SI(15)}else{if(xe(this,gh)>=this.samples.length-1)return dN(xe(this,Tc),xe(this,Tc).frameCnt);xe(this,V1).call(this,l)}return xe(this,$1).call(this,o,l,s)}),Yt(this,V1,o=>{if(o.decodeQueueSize>10)return;const l=[];let s=xe(this,gh);for(;s<this.samples.length;){const f=this.samples[s];if(s+=1,!f.deleted&&(l.push(f),l.length>=10))break}Gt(this,gh,s),o.decode(l.map(f=>new EncodedAudioChunk({type:"key",timestamp:f.cts,duration:f.duration,data:f.data})))}),Yt(this,vR,()=>{var o;Gt(this,jf,0),Gt(this,gh,0),Gt(this,Tc,{frameCnt:0,data:[]}),(o=xe(this,Fu))==null||o.close(),Gt(this,Fu,jde(this.conf,{resampleRate:Xr.sampleRate,volume:xe(this,H1)},l=>{xe(this,Tc).data.push(l),xe(this,Tc).frameCnt+=l[0].length}))}),Yt(this,yR,()=>{var o,l;return{time:xe(this,jf),decState:(o=xe(this,Fu))==null?void 0:o.state,decQSize:(l=xe(this,Fu))==null?void 0:l.decodeQueueSize,decCusorIdx:xe(this,gh),sampleLen:this.samples.length,pcmLen:xe(this,Tc).frameCnt,clipIdCnt:xI,sleepCnt:xe(this,fv),memInfo:R5()}}),qr(this,"destroy",()=>{Gt(this,Fu,null),xe(this,uv).abort=!0,Gt(this,Tc,{frameCnt:0,data:[]}),this.localFileReader.close()}),this.localFileReader=e,this.samples=t,this.conf=r,Gt(this,H1,a.volume),Gt(this,k1,a.targetSampleRate)}}H1=new WeakMap,k1=new WeakMap,Fu=new WeakMap,uv=new WeakMap,jf=new WeakMap,gh=new WeakMap,Tc=new WeakMap,fv=new WeakMap,$1=new WeakMap,V1=new WeakMap,vR=new WeakMap,yR=new WeakMap;function jde(n,e,t){let r=0,a=0;const o=v=>{if(a+=1,v.length!==0){if(e.volume!==1)for(const _ of v)for(let x=0;x<_.length;x++)_[x]*=e.volume;v.length===1&&(v=[v[0],v[0]]),t(v)}},l=Wde(o),s=e.resampleRate!==n.sampleRate;let f=new AudioDecoder({output:v=>{const _=Ide(v);s?l(()=>Lde(_,v.sampleRate,{rate:e.resampleRate,chanCount:v.numberOfChannels})):o(_),v.close()},error:v=>{v.message.includes("Codec reclaimed due to inactivity")||h("MP4Clip AudioDecoder err",v)}});f.configure(n);function h(v,_){const x=`${v}: ${_.message}, state: ${JSON.stringify({qSize:f.decodeQueueSize,state:f.state,inputCnt:r,outputCnt:a})}`;throw hi.error(x),Error(x)}return{decode(v){r+=v.length;try{for(const _ of v)f.decode(_)}catch(_){h("decode audio chunk error",_)}},close(){f.state!=="closed"&&f.close()},get decoding(){return r>a&&f.decodeQueueSize>0},get state(){return f.state},get decodeQueueSize(){return f.decodeQueueSize}}}function Wde(n){const e=[];let t=0;function r(l,s){e[s]=l,a()}function a(){const l=e[t];l!=null&&(n(l),t+=1,a())}let o=0;return l=>{const s=o;o+=1,l().then(f=>r(f,s)).catch(f=>r(f,s))}}function dN(n,e){const t=[new Float32Array(e),new Float32Array(e)];let r=0,a=0;for(;a<n.data.length;){const[o,l]=n.data[a];if(r+o.length>e){const s=e-r;t[0].set(o.subarray(0,s),r),t[1].set(l.subarray(0,s),r),n.data[a][0]=o.subarray(s,o.length),n.data[a][1]=l.subarray(s,l.length);break}else t[0].set(o,r),t[1].set(l,r),r+=o.length,a++}return n.data=n.data.slice(a),n.frameCnt-=e,t}async function A5(n,e){const t=n[0],r=n.at(-1);if(r==null)return[];const a=r.offset+r.size-t.offset;if(a<3e7){const o=new Uint8Array(await e.read(a,{at:t.offset}));return n.map(l=>{const s=l.offset-t.offset;return new EncodedVideoChunk({type:l.is_sync?"key":"delta",timestamp:l.cts,duration:l.duration,data:o.subarray(s,s+l.size)})})}return await Promise.all(n.map(async o=>new EncodedVideoChunk({type:o.is_sync?"key":"delta",timestamp:o.cts,duration:o.duration,data:await e.read(o.size,{at:o.offset})})))}function Xde(n,e,t){const r=new OffscreenCanvas(n,e),a=r.getContext("2d");return async o=>(a.drawImage(o,0,0,n,e),o.close(),await r.convertToBlob(t))}function Yde(n,e){if(n.length===0)return[];let t=0,r=0,a=-1;for(let f=0;f<n.length;f++){const h=n[f];if(a===-1&&e<h.cts&&(a=f-1),h.is_idr)if(a===-1)t=f;else{r=f;break}}const o=n[a];if(o==null)throw Error("Not found video sample by time");const l=n.slice(0,r===0?n.length:r).map(f=>({...f}));for(let f=t;f<l.length;f++){const h=l[f];e<h.cts&&(h.deleted=!0,h.cts=-1)}_R(l);const s=n.slice(o.is_idr?a:t).map(f=>({...f,cts:f.cts-e}));for(const f of s)f.cts<0&&(f.deleted=!0,f.cts=-1);return _R(s),[l,s]}function qde(n,e){if(n.length===0)return[];let t=-1;for(let o=0;o<n.length;o++){const l=n[o];if(!(e>l.cts)){t=o;break}}if(t===-1)throw Error("Not found audio sample by time");const r=n.slice(0,t).map(o=>({...o})),a=n.slice(t).map(o=>({...o,cts:o.cts-e}));return[r,a]}function bR(n,e,t){let r=0;if(n.state==="configured"){for(;r<e.length;r++)n.decode(e[r]);n.flush().catch(a=>{if(!(a instanceof Error))throw a;if(a.message.includes("Decoding error")&&t.onDecodingError!=null){t.onDecodingError(a);return}if(!a.message.includes("Aborted due to close"))throw a})}}function Zde(n,e){if(e!=="avc1"&&e!=="hvc1")return 0;const t=new DataView(n.buffer);let r=0;for(;r<n.byteLength-4;){if(e==="avc1"&&(t.getUint8(r+4)&31)===5)return r;if(e==="hvc1"){const a=t.getUint8(r+4)>>1&63;if(a===19||a===20)return r}r+=t.getUint32(r)+4}return-1}async function Kde(n,e,t,r,a,o){const l=await e.createReader(),s=await A5(n.filter(v=>!v.deleted&&v.is_sync&&v.cts>=a.start&&v.cts<=a.end),l);if(s.length===0||r.aborted)return;let f=0;bR(h(),s,{onDecodingError:v=>{hi.warn("thumbnailsByKeyFrame",v),f===0?bR(h(!0),s,{onDecodingError:_=>{l.close(),hi.error("thumbnailsByKeyFrame retry soft deocde",_)}}):(o(null,!0),l.close())}});function h(v=!1){const _={...t,...v?{hardwareAcceleration:"prefer-software"}:{}},x=new VideoDecoder({output:C=>{f+=1;const c=f===s.length;o(C,c),c&&(l.close(),x.state!=="closed"&&x.close())},error:C=>{const c=`thumbnails decoder error: ${C.message}, config: ${JSON.stringify(_)}, state: ${JSON.stringify({qSize:x.decodeQueueSize,state:x.state,outputCnt:f,inputCnt:s.length})}`;throw hi.error(c),Error(c)}});return r.addEventListener("abort",()=>{l.close(),x.state!=="closed"&&x.close()}),x.configure(_),x}}function _R(n){let e=0,t=null;for(const r of n)if(!r.deleted){if(r.is_sync&&(e+=1),e>=2)break;(t==null||r.cts<t.cts)&&(t=r)}t!=null&&t.cts<2e5&&(t.duration+=t.cts,t.cts=0)}function R5(){try{const n=performance.memory;return{jsHeapSizeLimit:n.jsHeapSizeLimit,totalJSHeapSize:n.totalJSHeapSize,usedJSHeapSize:n.usedJSHeapSize,percentUsed:(n.usedJSHeapSize/n.jsHeapSizeLimit).toFixed(3),percentTotal:(n.totalJSHeapSize/n.jsHeapSizeLimit).toFixed(3)}}catch{return{}}}var Ts,Ac,Ao,SR,O5;const Qde=class dv{constructor(e){Yt(this,SR),qr(this,"ready"),Yt(this,Ts,{duration:0,width:0,height:0}),Yt(this,Ac,null),Yt(this,Ao,[]);const t=r=>(Gt(this,Ac,r),xe(this,Ts).width=r.width,xe(this,Ts).height=r.height,xe(this,Ts).duration=1/0,{...xe(this,Ts)});if(e instanceof ReadableStream)this.ready=new Response(e).blob().then(r=>createImageBitmap(r)).then(t);else if(e instanceof ImageBitmap)this.ready=Promise.resolve(t(e));else if(Array.isArray(e)&&e.every(r=>r instanceof VideoFrame)){Gt(this,Ao,e);const r=xe(this,Ao)[0];if(r==null)throw Error("The frame count must be greater than 0");Gt(this,Ts,{width:r.displayWidth,height:r.displayHeight,duration:xe(this,Ao).reduce((a,o)=>a+(o.duration??0),0)}),this.ready=Promise.resolve({...xe(this,Ts),duration:1/0})}else if("type"in e)this.ready=Nc(this,SR,O5).call(this,e.stream,e.type).then(()=>({width:xe(this,Ts).width,height:xe(this,Ts).height,duration:1/0}));else throw Error("Illegal arguments")}get meta(){return{...xe(this,Ts)}}async tick(e){if(xe(this,Ac)!=null)return{video:await createImageBitmap(xe(this,Ac)),state:"success"};const t=e%xe(this,Ts).duration;return{video:(xe(this,Ao).find(r=>t>=r.timestamp&&t<=r.timestamp+(r.duration??0))??xe(this,Ao)[0]).clone(),state:"success"}}async split(e){if(await this.ready,xe(this,Ac)!=null)return[new dv(await createImageBitmap(xe(this,Ac))),new dv(await createImageBitmap(xe(this,Ac)))];let t=-1;for(let o=0;o<xe(this,Ao).length;o++){const l=xe(this,Ao)[o];if(!(e>l.timestamp)){t=o;break}}if(t===-1)throw Error("Not found frame by time");const r=xe(this,Ao).slice(0,t).map(o=>new VideoFrame(o)),a=xe(this,Ao).slice(t).map(o=>new VideoFrame(o,{timestamp:o.timestamp-e}));return[new dv(r),new dv(a)]}async clone(){await this.ready;const e=xe(this,Ac)==null?xe(this,Ao).map(t=>t.clone()):await createImageBitmap(xe(this,Ac));return new dv(e)}destroy(){var e;hi.info("ImgClip destroy"),(e=xe(this,Ac))==null||e.close(),xe(this,Ao).forEach(t=>t.close())}};Ts=new WeakMap,Ac=new WeakMap,Ao=new WeakMap,SR=new WeakSet,O5=async function(n,e){Gt(this,Ao,await Dde(n,e));const t=xe(this,Ao)[0];if(t==null)throw Error("No frame available in gif");Gt(this,Ts,{duration:xe(this,Ao).reduce((r,a)=>r+(a.duration??0),0),width:t.codedWidth,height:t.codedHeight}),hi.info("ImgClip ready:",xe(this,Ts))};let Jde=Qde;var Iv,_h,em,qf,xR,I5,jp,Wf;const r1=class G1{constructor(e,t={}){Yt(this,xR),qr(this,"ready"),Yt(this,Iv,{duration:0,width:0,height:0}),Yt(this,_h,new Float32Array),Yt(this,em,new Float32Array),Yt(this,qf),qr(this,"tickInterceptor",async(r,a)=>a),Yt(this,jp,0),Yt(this,Wf,0),Gt(this,qf,{loop:!1,volume:1,...t}),this.ready=Nc(this,xR,I5).call(this,e).then(()=>({width:0,height:0,duration:t.loop?1/0:xe(this,Iv).duration}))}get meta(){return{...xe(this,Iv),sampleRate:Xr.sampleRate,chanCount:2}}getPCMData(){return[xe(this,_h),xe(this,em)]}async tick(e){if(!xe(this,qf).loop&&e>=xe(this,Iv).duration)return await this.tickInterceptor(e,{audio:[],state:"done"});const t=e-xe(this,jp);if(e<xe(this,jp)||t>3e6)return Gt(this,jp,e),Gt(this,Wf,Math.ceil(xe(this,jp)/1e6*Xr.sampleRate)),await this.tickInterceptor(e,{audio:[new Float32Array(0),new Float32Array(0)],state:"success"});Gt(this,jp,e);const r=Math.ceil(t/1e6*Xr.sampleRate),a=xe(this,Wf)+r,o=xe(this,qf).loop?[lN(xe(this,_h),xe(this,Wf),a),lN(xe(this,em),xe(this,Wf),a)]:[xe(this,_h).slice(xe(this,Wf),a),xe(this,em).slice(xe(this,Wf),a)];return Gt(this,Wf,a),await this.tickInterceptor(e,{audio:o,state:"success"})}async split(e){await this.ready;const t=Math.ceil(e/1e6*Xr.sampleRate),r=new G1(this.getPCMData().map(o=>o.slice(0,t)),xe(this,qf)),a=new G1(this.getPCMData().map(o=>o.slice(t)),xe(this,qf));return[r,a]}async clone(){await this.ready;const e=new G1(this.getPCMData(),xe(this,qf));return await e.ready,e}destroy(){Gt(this,_h,new Float32Array(0)),Gt(this,em,new Float32Array(0)),hi.info("---- audioclip destroy ----")}};Iv=new WeakMap,_h=new WeakMap,em=new WeakMap,qf=new WeakMap,xR=new WeakSet,I5=async function(n){r1.ctx==null&&(r1.ctx=new AudioContext({sampleRate:Xr.sampleRate}));const e=performance.now(),t=n instanceof ReadableStream?await ehe(n,r1.ctx):n;hi.info("Audio clip decoded complete:",performance.now()-e);const r=xe(this,qf).volume;if(r!==1)for(const a of t)for(let o=0;o<a.length;o+=1)a[o]*=r;xe(this,Iv).duration=t[0].length/Xr.sampleRate*1e6,Gt(this,_h,t[0]),Gt(this,em,t[1]??xe(this,_h)),hi.info("Audio clip convert to AudioData, time:",performance.now()-e)},jp=new WeakMap,Wf=new WeakMap,qr(r1,"ctx",null);async function ehe(n,e){const t=await new Response(n).arrayBuffer();return E5(await e.decodeAudioData(t))}var hv,j1,tb,nb;const z5=class P5{constructor(e){qr(this,"ready"),Yt(this,hv,{duration:0,width:0,height:0}),Yt(this,j1,()=>{}),qr(this,"audioTrack"),Yt(this,tb,null),Yt(this,nb),Gt(this,nb,e),this.audioTrack=e.getAudioTracks()[0]??null,xe(this,hv).duration=1/0;const t=e.getVideoTracks()[0];t!=null?(t.contentHint="motion",this.ready=new Promise(r=>{Gt(this,j1,nhe(t,a=>{xe(this,hv).width=a.width,xe(this,hv).height=a.height,Gt(this,tb,a),r(this.meta)}))})):this.ready=Promise.resolve(this.meta)}get meta(){return{...xe(this,hv)}}async tick(){return{video:xe(this,tb)==null?null:await createImageBitmap(xe(this,tb)),audio:[],state:"success"}}async split(){return[await this.clone(),await this.clone()]}async clone(){return new P5(xe(this,nb).clone())}destroy(){xe(this,nb).getTracks().forEach(e=>e.stop()),xe(this,j1).call(this)}};hv=new WeakMap,j1=new WeakMap,tb=new WeakMap,nb=new WeakMap,qr(z5,"ctx",null);let the=z5;function nhe(n,e){let t=!1,r;return Xfe(new MediaStreamTrackProcessor({track:n}).readable,{onChunk:async a=>{if(!t){const{displayHeight:o,displayWidth:l}=a,s=l??0,f=o??0,h=new OffscreenCanvas(s,f);r=h.getContext("2d"),e(h),t=!0}r.drawImage(a,0,0),a.close()},onDone:async()=>{}})}var vC,yC,bC,_C,SC,xC,Wp,pv,Xp;const ihe=class D5{constructor(e,t,r,a,o){Yt(this,Wp),Yt(this,vC,new Cm),qr(this,"on",xe(this,vC).on),Yt(this,yC,0),Yt(this,bC,0),Yt(this,_C,0),Yt(this,SC,0),Yt(this,xC,0),Yt(this,Xp,null),qr(this,"fixedAspectRatio",!1),qr(this,"fixedScaleCenter",!1),this.x=e??0,this.y=t??0,this.w=r??0,this.h=a??0,Gt(this,Xp,o??null)}get x(){return xe(this,yC)}set x(e){Nc(this,Wp,pv).call(this,"x",e)}get y(){return xe(this,bC)}set y(e){Nc(this,Wp,pv).call(this,"y",e)}get w(){return xe(this,_C)}set w(e){Nc(this,Wp,pv).call(this,"w",e)}get h(){return xe(this,SC)}set h(e){Nc(this,Wp,pv).call(this,"h",e)}get angle(){return xe(this,xC)}set angle(e){Nc(this,Wp,pv).call(this,"angle",e)}get center(){const{x:e,y:t,w:r,h:a}=this;return{x:e+r/2,y:t+a/2}}clone(){const{x:e,y:t,w:r,h:a}=this,o=new D5(e,t,r,a,xe(this,Xp));return o.angle=this.angle,o.fixedAspectRatio=this.fixedAspectRatio,o.fixedScaleCenter=this.fixedScaleCenter,o}checkHit(e,t){var r,a;let{angle:o,center:l,x:s,y:f,w:h,h:v}=this;const _=((r=xe(this,Xp))==null?void 0:r.center)??l,x=((a=xe(this,Xp))==null?void 0:a.angle)??o;xe(this,Xp)==null&&(s=s-_.x,f=f-_.y);const C=e-_.x,c=t-_.y;let p=C,m=c;return x!==0&&(p=C*Math.cos(x)+c*Math.sin(x),m=c*Math.cos(x)-C*Math.sin(x)),!(p<s||p>s+h||m<f||m>f+v)}};vC=new WeakMap,yC=new WeakMap,bC=new WeakMap,_C=new WeakMap,SC=new WeakMap,xC=new WeakMap,Wp=new WeakSet,pv=function(n,e){const t=this[n]!==e;switch(n){case"x":Gt(this,yC,e);break;case"y":Gt(this,bC,e);break;case"w":Gt(this,_C,e);break;case"h":Gt(this,SC,e);break;case"angle":Gt(this,xC,e);break}t&&xe(this,vC).emit("propsChange",{[n]:e})},Xp=new WeakMap;let Hu=ihe;var W1,mv,ib,Yp,Xf;class L5{constructor(){qr(this,"rect",new Hu),Yt(this,W1,{offset:0,duration:0,playbackRate:1}),Yt(this,mv,new Cm),qr(this,"on",xe(this,mv).on),Yt(this,ib,0),qr(this,"opacity",1),qr(this,"flip",null),Yt(this,Yp,null),Yt(this,Xf,null),qr(this,"ready",Promise.resolve()),this.rect.on("propsChange",e=>{xe(this,mv).emit("propsChange",{rect:e})})}get time(){return xe(this,W1)}set time(e){Object.assign(xe(this,W1),e)}get zIndex(){return xe(this,ib)}set zIndex(e){const t=xe(this,ib)!==e;Gt(this,ib,e),t&&xe(this,mv).emit("propsChange",{zIndex:e})}_render(e){const{rect:{center:t,angle:r}}=this;e.setTransform(this.flip==="horizontal"?-1:1,0,0,this.flip==="vertical"?-1:1,t.x,t.y),e.rotate((this.flip==null?1:-1)*r),e.globalAlpha=this.opacity}setAnimation(e,t){Gt(this,Yp,Object.entries(e).map(([r,a])=>{const o={from:0,to:100}[r]??Number(r.slice(0,-1));if(isNaN(o)||o>100||o<0)throw Error("keyFrame must between 0~100");return[o/100,a]})),Gt(this,Xf,Object.assign({},xe(this,Xf),{duration:t.duration,delay:t.delay??0,iterCount:t.iterCount??1/0}))}animate(e){if(xe(this,Yp)==null||xe(this,Xf)==null||e<xe(this,Xf).delay)return;const t=rhe(e,xe(this,Yp),xe(this,Xf));for(const r in t)switch(r){case"opacity":this.opacity=t[r];break;case"x":case"y":case"w":case"h":case"angle":this.rect[r]=t[r];break}}copyStateTo(e){Gt(e,Yp,xe(this,Yp)),Gt(e,Xf,xe(this,Xf)),e.zIndex=this.zIndex,e.opacity=this.opacity,e.flip=this.flip,e.rect=this.rect.clone(),e.time={...this.time}}destroy(){xe(this,mv).destroy()}}W1=new WeakMap,mv=new WeakMap,ib=new WeakMap,Yp=new WeakMap,Xf=new WeakMap;function rhe(n,e,t){const r=n-t.delay;if(r/t.duration>=t.iterCount)return{};const a=r%t.duration,o=r===t.duration?1:a/t.duration,l=e.findIndex(C=>C[0]>=o);if(l===-1)return{};const s=e[l-1],f=e[l],h=f[1];if(s==null)return h;const v=s[1],_={},x=(o-s[0])/(f[0]-s[0]);for(const C in h){const c=C;v[c]!=null&&(_[c]=(h[c]-v[c])*x+v[c])}return _}var gv,qp,X1;const ahe=class N5 extends L5{constructor(e){super(),Yt(this,gv),Yt(this,qp,null),Yt(this,X1,!1),Gt(this,gv,e),this.ready=e.ready.then(({width:t,height:r,duration:a})=>{this.rect.w=this.rect.w===0?t:this.rect.w,this.rect.h=this.rect.h===0?r:this.rect.h,this.time.duration=this.time.duration===0?a:this.time.duration})}async offscreenRender(e,t){var r;const a=t*this.time.playbackRate;this.animate(a),super._render(e);const{w:o,h:l}=this.rect,{video:s,audio:f,state:h}=await xe(this,gv).tick(a);let v=f??[];if(f!=null&&this.time.playbackRate!==1&&(v=f.map(x=>M5(x,this.time.playbackRate))),h==="done")return{audio:v,done:!0};const _=s??xe(this,qp);return _!=null&&e.drawImage(_,-o/2,-l/2,o,l),s!=null&&((r=xe(this,qp))==null||r.close(),Gt(this,qp,s)),{audio:v,done:!1}}async clone(){const e=new N5(await xe(this,gv).clone());return await e.ready,this.copyStateTo(e),e}destroy(){var e;xe(this,X1)||(Gt(this,X1,!0),hi.info("OffscreenSprite destroy"),super.destroy(),(e=xe(this,qp))==null||e.close(),Gt(this,qp,null),xe(this,gv).destroy())}};gv=new WeakMap,qp=new WeakMap,X1=new WeakMap;let ohe=ahe;var zv,fm,kv,rb,Y1,wR,q1,Z1;const she=class U5 extends L5{constructor(e){super(),Yt(this,Y1),Yt(this,zv),qr(this,"visible",!0),Yt(this,fm,null),Yt(this,kv,[]),Yt(this,rb,!1),Yt(this,q1,-1),Yt(this,Z1,!1),Gt(this,zv,e),this.ready=e.ready.then(({width:t,height:r,duration:a})=>{this.rect.w=this.rect.w===0?t:this.rect.w,this.rect.h=this.rect.h===0?r:this.rect.h,this.time.duration=this.time.duration===0?a:this.time.duration})}getClip(){return xe(this,zv)}preFrame(e){Nc(this,Y1,wR).call(this,e)}render(e,t){this.animate(t),super._render(e);const{w:r,h:a}=this.rect;xe(this,q1)!==t&&Nc(this,Y1,wR).call(this,t),Gt(this,q1,t);const o=xe(this,kv);Gt(this,kv,[]);const l=xe(this,fm);return l!=null&&e.drawImage(l,-r/2,-a/2,r,a),{audio:o}}copyStateTo(e){super.copyStateTo(e),e instanceof U5&&(e.visible=this.visible)}destroy(){var e;xe(this,Z1)||(Gt(this,Z1,!0),hi.info("VisibleSprite destroy"),super.destroy(),(e=xe(this,fm))==null||e.close(),Gt(this,fm,null),xe(this,zv).destroy())}};zv=new WeakMap,fm=new WeakMap,kv=new WeakMap,rb=new WeakMap,Y1=new WeakSet,wR=function(n){xe(this,rb)||(Gt(this,rb,!0),xe(this,zv).tick(n*this.time.playbackRate).then(({video:e,audio:t})=>{var r;e!=null&&((r=xe(this,fm))==null||r.close(),Gt(this,fm,e??null)),Gt(this,kv,t??[]),t!=null&&this.time.playbackRate!==1&&Gt(this,kv,t.map(a=>M5(a,this.time.playbackRate)))}).finally(()=>{Gt(this,rb,!1)}))},q1=new WeakMap,Z1=new WeakMap;let CA=she,lhe=0;async function B5(n){n()>50&&(await SI(15),await B5(n))}var Zf,K1,$u,wb,wC,Q1,Pv,Cb,Zp,J1,F5,H5;class che{constructor(e={}){Yt(this,J1),Yt(this,Zf,hi.create(`id:${lhe++},`)),Yt(this,K1,!1),Yt(this,$u,[]),Yt(this,wb),Yt(this,wC),Yt(this,Q1,null),Yt(this,Pv),Yt(this,Cb),Yt(this,Zp,new Cm),qr(this,"on",xe(this,Zp).on);const{width:t=0,height:r=0}=e;Gt(this,wb,new OffscreenCanvas(t,r));const a=xe(this,wb).getContext("2d",{alpha:!1});if(a==null)throw Error("Can not create 2d offscreen context");Gt(this,wC,a),Gt(this,Pv,Object.assign({bgColor:"#000",width:0,height:0,videoCodec:"avc1.42E032",audio:!0,bitrate:5e6,fps:30,metaDataTags:null},e)),Gt(this,Cb,t*r>0)}static async isSupported(e={}){return(self.OffscreenCanvas!=null&&self.VideoEncoder!=null&&self.VideoDecoder!=null&&self.VideoFrame!=null&&self.AudioEncoder!=null&&self.AudioDecoder!=null&&self.AudioData!=null&&((await self.VideoEncoder.isConfigSupported({codec:e.videoCodec??"avc1.42E032",width:e.width??1920,height:e.height??1080,bitrate:e.bitrate??7e6})).supported??!1)&&(await self.AudioEncoder.isConfigSupported({codec:Xr.codec,sampleRate:Xr.sampleRate,numberOfChannels:Xr.channelCount})).supported)??!1}async addSprite(e,t={}){const r={rect:hhe(["x","y","w","h"],e.rect),time:{...e.time},zIndex:e.zIndex};xe(this,Zf).info("Combinator add sprite",r);const a=await e.clone();xe(this,Zf).info("Combinator add sprite ready"),xe(this,$u).push(Object.assign(a,{main:t.main??!1,expired:!1})),xe(this,$u).sort((o,l)=>o.zIndex-l.zIndex)}output(){if(xe(this,$u).length===0)throw Error("No sprite added");const e=xe(this,$u).find(f=>f.main),t=e!=null?e.time.offset+e.time.duration:Math.max(...xe(this,$u).map(f=>f.time.offset+f.time.duration));if(t===1/0)throw Error("Unable to determine the end time, please specify a main sprite, or limit the duration of ImgClip, AudioCli");t===-1&&xe(this,Zf).warn("Unable to determine the end time, process value don't update"),xe(this,Zf).info(`start combinate video, maxTime:${t}`);const r=Nc(this,J1,F5).call(this,t);let a=performance.now();const o=Nc(this,J1,H5).call(this,r,t,{onProgress:f=>{xe(this,Zf).debug("OutputProgress:",f),xe(this,Zp).emit("OutputProgress",f)},onEnded:async()=>{await r.flush(),xe(this,Zf).info("===== output ended =====, cost:",performance.now()-a),xe(this,Zp).emit("OutputProgress",1),this.destroy()},onError:f=>{xe(this,Zp).emit("error",f),s(f),this.destroy()}});Gt(this,Q1,()=>{o(),r.close(),s()});const{stream:l,stop:s}=Yfe(r.mp4file,500,this.destroy);return l}destroy(){var e;xe(this,K1)||(Gt(this,K1,!0),(e=xe(this,Q1))==null||e.call(this),xe(this,Zp).destroy())}}Zf=new WeakMap,K1=new WeakMap,$u=new WeakMap,wb=new WeakMap,wC=new WeakMap,Q1=new WeakMap,Pv=new WeakMap,Cb=new WeakMap,Zp=new WeakMap,J1=new WeakSet,F5=function(n){const{fps:e,width:t,height:r,videoCodec:a,bitrate:o,audio:l,metaDataTags:s}=xe(this,Pv);return nde({video:xe(this,Cb)?{width:t,height:r,expectFPS:e,codec:a,bitrate:o,__unsafe_hardwareAcceleration__:xe(this,Pv).__unsafe_hardwareAcceleration__}:null,audio:l===!1?null:{codec:"aac",sampleRate:Xr.sampleRate,channelCount:Xr.channelCount},duration:n,metaDataTags:s})},H5=function(n,e,{onProgress:t,onEnded:r,onError:a}){let o=0;const l={aborted:!1};let s=null;(async()=>{const{fps:v,bgColor:_,audio:x}=xe(this,Pv),C=Math.round(1e6/v),c=xe(this,wC),p=uhe({ctx:c,bgColor:_,sprites:xe(this,$u),aborter:l}),m=fhe({remux:n,ctx:c,cvs:xe(this,wb),outputAudio:x,hasVideoTrack:xe(this,Cb),timeSlice:C,fps:v});let b=0;for(;;){if(s!=null)return;if(l.aborted||e!==-1&&b>e||xe(this,$u).length===0){h(),await r();return}o=b/e;const{audios:w,mainSprDone:A}=await p(b);if(A){h(),await r();return}if(l.aborted)return;m(b,w),b+=C,await B5(n.getEncodeQueueSize)}})().catch(v=>{s=v,xe(this,Zf).error(v),h(),a(v)});const f=setInterval(()=>{t(o)},500),h=()=>{l.aborted||(l.aborted=!0,clearInterval(f),xe(this,$u).forEach(v=>v.destroy()))};return h};function uhe(n){const{ctx:e,bgColor:t,sprites:r,aborter:a}=n,{width:o,height:l}=e.canvas;return async s=>{e.fillStyle=t,e.fillRect(0,0,o,l);const f=[];let h=!1;for(const v of r){if(a.aborted)break;if(s<v.time.offset||v.expired)continue;e.save();const{audio:_,done:x}=await v.offscreenRender(e,s-v.time.offset);f.push(_),e.restore(),(v.time.duration>0&&s>v.time.offset+v.time.duration||x)&&(v.main&&(h=!0),v.destroy(),v.expired=!0)}return{audios:f,mainSprDone:h}}}function fhe(n){const{ctx:e,cvs:t,outputAudio:r,remux:a,hasVideoTrack:o,timeSlice:l}=n,{width:s,height:f}=t;let h=0;const v=Math.floor(3*n.fps),_=dhe(1024);return(x,C)=>{if(r!==!1)for(const c of _(x,C))a.encodeAudio(c);if(o){const c=new VideoFrame(t,{duration:l,timestamp:x});a.encodeVideo(c,{keyFrame:h%v===0}),e.resetTransform(),e.clearRect(0,0,s,f),h+=1}}}function dhe(n){const e=n*Xr.channelCount,t=new Float32Array(e*3);let r=0,a=0;const o=n/Xr.sampleRate*1e6,l=new Float32Array(e),s=f=>{let h=0;const v=Math.floor(r/e),_=[];for(let x=0;x<v;x++)_.push(new AudioData({timestamp:a,numberOfChannels:Xr.channelCount,numberOfFrames:n,sampleRate:Xr.sampleRate,format:"f32",data:t.subarray(h,h+e)})),h+=e,a+=o;for(t.set(t.subarray(h,r),0),r-=h;f-a>o;)_.push(new AudioData({timestamp:a,numberOfChannels:Xr.channelCount,numberOfFrames:n,sampleRate:Xr.sampleRate,format:"f32",data:l})),a+=o;return _};return(f,h)=>{var v,_;const x=Math.max(...h.map(C=>{var c;return((c=C[0])==null?void 0:c.length)??0}));for(let C=0;C<x;C++){let c=0,p=0;for(let m=0;m<h.length;m++){const b=((v=h[m][0])==null?void 0:v[C])??0,w=((_=h[m][1])==null?void 0:_[C])??b;c+=b,p+=w}t[r]=c,t[r+1]=p,r+=2}return s(f)}}function hhe(n,e){return n.reduce((t,r)=>(t[r]=e[r],t),{})}var phe=Object.defineProperty,k5=n=>{throw TypeError(n)},mhe=(n,e,t)=>e in n?phe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ew=(n,e,t)=>mhe(n,typeof e!="symbol"?e+"":e,t),wI=(n,e,t)=>e.has(n)||k5("Cannot "+t),$t=(n,e,t)=>(wI(n,e,"read from private field"),t?t.call(n):e.get(n)),Ia=(n,e,t)=>e.has(n)?k5("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),nl=(n,e,t,r)=>(wI(n,e,"write to private field"),e.set(n,t),t),tm=(n,e,t)=>(wI(n,e,"access private method"),t);const ghe=["t","b","l","r","lt","lb","rt","rb","rotate"];function a0(n){return document.createElement(n)}function vhe(n){let e=16;const t=new ResizeObserver(a=>{const o=a[0];o!=null&&(e=10/(o.contentRect.width/n.width))});t.observe(n);function r(a){const{w:o,h:l}=a,s=e,f=s/2,h=o/2,v=l/2,_=s*1.5,x=_/2;return{...a.fixedAspectRatio?{}:{t:new Hu(-f,-v-f,s,s,a),b:new Hu(-f,v-f,s,s,a),l:new Hu(-h-f,-f,s,s,a),r:new Hu(h-f,-f,s,s,a)},lt:new Hu(-h-f,-v-f,s,s,a),lb:new Hu(-h-f,v-f,s,s,a),rt:new Hu(h-f,-v-f,s,s,a),rb:new Hu(h-f,v-f,s,s,a),rotate:new Hu(-x,-v-s*2-x,_,_,a)}}return{rectCtrlsGetter:r,destroy:()=>{t.disconnect()}}}var o_=(n=>(n.ActiveSpriteChange="activeSpriteChange",n.AddSprite="addSprite",n))(o_||{}),Ll,vv,yv,ab;class yhe{constructor(){Ia(this,Ll,[]),Ia(this,vv,null),Ia(this,yv,new Cm),ew(this,"on",$t(this,yv).on),Ia(this,ab,0)}get activeSprite(){return $t(this,vv)}set activeSprite(e){e!==$t(this,vv)&&(nl(this,vv,e),$t(this,yv).emit("activeSpriteChange",e))}async addSprite(e){await e.ready,$t(this,Ll).push(e),nl(this,Ll,$t(this,Ll).sort((t,r)=>t.zIndex-r.zIndex)),e.on("propsChange",t=>{t.zIndex!=null&&nl(this,Ll,$t(this,Ll).sort((r,a)=>r.zIndex-a.zIndex))}),$t(this,yv).emit("addSprite",e)}removeSprite(e){$t(this,vv)===e&&(this.activeSprite=null),nl(this,Ll,$t(this,Ll).filter(t=>t!==e)),e.destroy()}getSprites(e={time:!0}){return $t(this,Ll).filter(t=>t.visible&&(e.time?$t(this,ab)>=t.time.offset&&$t(this,ab)<=t.time.offset+t.time.duration:!0))}updateRenderTime(e){nl(this,ab,e);const t=this.activeSprite;t!=null&&(e<t.time.offset||e>t.time.offset+t.time.duration)&&(this.activeSprite=null)}destroy(){$t(this,yv).destroy(),$t(this,Ll).forEach(e=>e.destroy()),nl(this,Ll,[])}}Ll=new WeakMap,vv=new WeakMap,yv=new WeakMap,ab=new WeakMap;function bhe(n,e,t,r){const a={w:e.clientWidth/e.width,h:e.clientHeight/e.height},o=new ResizeObserver(()=>{a.w=e.clientWidth/e.width,a.h=e.clientHeight/e.height,t.activeSprite!=null&&EA(t.activeSprite,l,s,a,r)});o.observe(e);const{rectEl:l,ctrlsEl:s}=_he(n),f=t.on(o_.ActiveSpriteChange,C=>{if(C==null){l.style.display="none";return}EA(C,l,s,a,r),l.style.display=""});let h=!1;const v=C=>{C.button===0&&(h=!0)},_=()=>{h=!1},x=()=>{!h||t.activeSprite==null||EA(t.activeSprite,l,s,a,r)};return e.addEventListener("pointerdown",v),window.addEventListener("pointerup",_),window.addEventListener("pointermove",x),()=>{o.disconnect(),f(),l.remove(),e.removeEventListener("pointerdown",v),window.removeEventListener("pointerup",_),window.removeEventListener("pointermove",x)}}function _he(n){const e=a0("div");e.style.cssText=`
    position: absolute;
    pointer-events: none;
    border: 1px solid #eee;
    box-sizing: border-box;
    display: none;
  `;const t=Object.fromEntries(ghe.map(r=>{const a=a0("div");return a.style.cssText=`
        display: none;
        position: absolute;
        border: 1px solid #3ee; border-radius: 50%;
        box-sizing: border-box;
        background-color: #fff;
      `,[r,a]}));return Object.values(t).forEach(r=>e.appendChild(r)),n.appendChild(e),{rectEl:e,ctrlsEl:t}}function EA(n,e,t,r,a){const{x:o,y:l,w:s,h:f,angle:h}=n.rect;Object.assign(e.style,{left:`${o*r.w}px`,top:`${l*r.h}px`,width:`${s*r.w}px`,height:`${f*r.h}px`,rotate:`${h}rad`}),Object.entries(a(n.rect)).forEach(([v,{x:_,y:x,w:C,h:c}])=>{Object.assign(t[v].style,{display:"block",left:"50%",top:"50%",width:`${C*r.w}px`,height:`${c*r.h}px`,transform:`translate(${_*r.w}px, ${x*r.h}px)`})})}function She(n,e,t){const r={w:n.clientWidth/n.width,h:n.clientHeight/n.height},a=new ResizeObserver(()=>{r.w=n.clientWidth/n.width,r.h=n.clientHeight/n.height});a.observe(n);const o=l=>{if(l.button!==0)return;const{offsetX:s,offsetY:f}=l,h=s/r.w,v=f/r.h;if(e.activeSprite!=null){const[_]=Object.entries(t(e.activeSprite.rect)).find(([,x])=>x.checkHit(h,v))??[];if(_!=null)return}e.activeSprite=e.getSprites().reverse().find(_=>_.visible&&_.rect.checkHit(h,v))??null};return n.addEventListener("pointerdown",o),()=>{a.disconnect(),n.removeEventListener("pointerdown",o)}}function xhe(n,e,t,r){const a={w:n.clientWidth/n.width,h:n.clientHeight/n.height},o=new ResizeObserver(()=>{a.w=n.clientWidth/n.width,a.h=n.clientHeight/n.height});o.observe(n);let l=0,s=0,f=null;const h=Rhe(n,t);let v=null;const _=c=>{if(c.button!==0||e.activeSprite==null)return;v=e.activeSprite;const{offsetX:p,offsetY:m,clientX:b,clientY:w}=c;Mhe({rect:v.rect,offsetX:p,offsetY:m,clientX:b,clientY:w,cvsRatio:a,cvsEl:n,rectCtrlsGetter:r})||(f=v.rect.clone(),h.magneticEffect(v.rect.x,v.rect.y,v.rect),l=b,s=w,window.addEventListener("pointermove",x),window.addEventListener("pointerup",C))},x=c=>{if(v==null||f==null)return;const{clientX:p,clientY:m}=c;let b=f.x+(p-l)/a.w,w=f.y+(m-s)/a.h;$5(v.rect,n,h.magneticEffect(b,w,v.rect))};n.addEventListener("pointerdown",_);const C=()=>{h.hide(),window.removeEventListener("pointermove",x),window.removeEventListener("pointerup",C)};return()=>{o.disconnect(),h.destroy(),C(),n.removeEventListener("pointerdown",_)}}function whe({sprRect:n,startX:e,startY:t,ctrlKey:r,cvsRatio:a,cvsEl:o}){const l=n.clone(),s=h=>{const{clientX:v,clientY:_}=h,x=(v-e)/a.w,C=(_-t)/a.h,c=r.length===1?Che:Ehe,{x:p,y:m,w:b,h:w}=l,A=Math.atan2(w,b),{incW:R,incH:O,incS:P,rotateAngle:D}=c({deltaX:x,deltaY:C,angle:n.angle,ctrlKey:r,diagonalAngle:A}),F=10;let B=b,U=w,V=l.fixedScaleCenter?R*2:R,Q=l.fixedScaleCenter?O*2:O,X=P;const ee=Math.sqrt(w**2+b**2),ae=Math.sqrt((F*(w/b))**2+F**2);switch(r){case"l":B=Math.max(b+V,F),X=Math.min(P,b-F);break;case"r":B=Math.max(b+V,F),X=Math.max(P,F-b);break;case"b":U=Math.max(w+Q,F),X=Math.min(P,w-F);break;case"t":U=Math.max(w+Q,F),X=Math.max(P,F-w);break;case"lt":case"lb":B=Math.max(b+V,F),U=B===F?w/b*B:w+Q,X=Math.min(P,ee-ae);break;case"rt":case"rb":B=Math.max(b+V,F),U=B===F?w/b*B:w+Q,X=Math.max(P,ae-ee);break}let Z=p,K=m;if(l.fixedScaleCenter)Z=p+b/2-B/2,K=m+w/2-U/2;else{const te=X/2*Math.cos(D)+p+b/2,ce=X/2*Math.sin(D)+m+w/2;Z=te-B/2,K=ce-U/2}$5(n,o,{x:Z,y:K,w:B,h:U})},f=()=>{window.removeEventListener("pointermove",s),window.removeEventListener("pointerup",f)};window.addEventListener("pointermove",s),window.addEventListener("pointerup",f)}function Che({deltaX:n,deltaY:e,angle:t,ctrlKey:r}){let a=0,o=0,l=0,s=t;return r==="l"||r==="r"?(a=n*Math.cos(t)+e*Math.sin(t),o=a*(r==="l"?-1:1)):(r==="t"||r==="b")&&(s=t-Math.PI/2,a=n*Math.cos(s)+e*Math.sin(s),l=a*(r==="b"?-1:1)),{incW:o,incH:l,incS:a,rotateAngle:s}}function Ehe({deltaX:n,deltaY:e,angle:t,ctrlKey:r,diagonalAngle:a}){const o=(r==="lt"||r==="rb"?1:-1)*a+t,l=n*Math.cos(o)+e*Math.sin(o),s=r==="lt"||r==="lb"?-1:1,f=l*Math.cos(a)*s,h=l*Math.sin(a)*s;return{incW:f,incH:h,incS:l,rotateAngle:o}}function Mhe({rect:n,cvsRatio:e,offsetX:t,offsetY:r,clientX:a,clientY:o,cvsEl:l,rectCtrlsGetter:s}){const f=t/e.w,h=r/e.h,[v]=Object.entries(s(n)).find(([,_])=>_.checkHit(f,h))??[];return v==null?!1:(v==="rotate"?The(n,Ahe(n.center,e,l)):whe({sprRect:n,ctrlKey:v,startX:a,startY:o,cvsRatio:e,cvsEl:l}),!0)}function The(n,e){const t=({clientX:a,clientY:o})=>{const l=a-e.x,s=o-e.y,f=Math.atan2(s,l)+Math.PI/2;n.angle=f},r=()=>{window.removeEventListener("pointermove",t),window.removeEventListener("pointerup",r)};window.addEventListener("pointermove",t),window.addEventListener("pointerup",r)}function Ahe(n,e,t){const r=n.x*e.w,a=n.y*e.h,{left:o,top:l}=t.getBoundingClientRect();return{x:r+o,y:a+l}}function $5(n,e,t){const r={x:n.x,y:n.y,w:n.w,h:n.h,...t},a=e.width*.05,o=e.height*.05;r.x<-r.w+a?r.x=-r.w+a:r.x>e.width-a&&(r.x=e.width-a),r.y<-r.h+o?r.y=-r.h+o:r.y>e.height-o&&(r.y=e.height-o),n.x=r.x,n.y=r.y,n.w=r.w,n.h=r.h}function Rhe(n,e){const t="display: none; position: absolute;",r={w:0,h:0,x:0,y:0},a={vertMiddle:{...r,h:100,x:50,ref:{prop:"x",val:({w:f})=>(n.width-f)/2}},horMiddle:{...r,w:100,y:50,ref:{prop:"y",val:({h:f})=>(n.height-f)/2}},top:{...r,w:100,ref:{prop:"y",val:()=>0}},bottom:{...r,w:100,y:100,ref:{prop:"y",val:({h:f})=>n.height-f}},left:{...r,h:100,ref:{prop:"x",val:()=>0}},right:{...r,h:100,x:100,ref:{prop:"x",val:({w:f})=>n.width-f}}},o=a0("div");o.style.cssText=`
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    pointer-events: none;
    box-sizing: border-box;
  `;const l=Object.fromEntries(Object.entries(a).map(([f,{w:h,h:v,x:_,y:x}])=>{const C=a0("div");return C.style.cssText=`
        ${t}
        border-${h>0?"top":"left"}: 1px solid #3ee;
        top: ${x}%; left: ${_}%;
        ${_===100?"margin-left: -1px":""};
        ${x===100?"margin-top: -1px":""};
        width: ${h}%; height: ${v}%;
      `,o.appendChild(C),[f,C]}));e.appendChild(o);const s=6/(900/n.width);return{magneticEffect(f,h,v){const _={x:f,y:h};let x,C={x:!1,y:!1};for(x in a){const{prop:c,val:p}=a[x].ref;if(C[c])continue;const m=p(v);Math.abs(v[c]-m)<=s&&Math.abs(v[c]-(c==="x"?f:h))<=s?(_[c]=m,l[x].style.display="block",C[c]=!0):l[x].style.display="none"}return _},hide(){Object.values(l).forEach(f=>f.style.display="none")},destroy(){o.remove()}}}function Ohe(n,e,t){const r={w:n.clientWidth/n.width,h:n.clientHeight/n.height},a=new ResizeObserver(()=>{r.w=n.clientWidth/n.width,r.h=n.clientHeight/n.height});a.observe(n);const o=n.style;let l=e.activeSprite;e.on(o_.ActiveSpriteChange,C=>{l=C,C==null&&(o.cursor="")});let s=!1;const f=({offsetX:C,offsetY:c})=>{s=!0;const p=C/r.w,m=c/r.h;(l==null?void 0:l.rect.checkHit(p,m))===!0&&o.cursor===""&&(o.cursor="move")},h=()=>{s=!1},v=["ns-resize","nesw-resize","ew-resize","nwse-resize","ns-resize","nesw-resize","ew-resize","nwse-resize"],_={t:0,rt:1,r:2,rb:3,b:4,lb:5,l:6,lt:7},x=C=>{if(l==null||s)return;const{offsetX:c,offsetY:p}=C,m=c/r.w,b=p/r.h,[w]=Object.entries(t(l.rect)).find(([,A])=>A.checkHit(m,b))??[];if(w!=null){if(w==="rotate"){o.cursor="crosshair";return}const A=l.rect.angle,R=A<0?A+2*Math.PI:A,O=(_[w]+Math.floor((R+Math.PI/8)/(Math.PI/4)))%8;o.cursor=v[O];return}if(l.rect.checkHit(m,b)){o.cursor="move";return}o.cursor=""};return n.addEventListener("pointermove",x),n.addEventListener("pointerdown",f),window.addEventListener("pointerup",h),()=>{a.disconnect(),n.removeEventListener("pointermove",x),n.removeEventListener("pointerdown",f),window.removeEventListener("pointerup",h)}}const Ihe={sampleRate:48e3};function zhe(n){const e=a0("canvas");return e.style.cssText=`
    width: 100%;
    height: 100%;
    display: block;
    touch-action: none;
  `,e.width=n.width,e.height=n.height,e}var so,Oa,Dv,tw,nw,iw,vh,rw,Sh,Qf,CC,EC,ns,nm,im,V5,Dc,aw;class Phe{constructor(e,t){Ia(this,Qf),Ia(this,so),Ia(this,Oa),Ia(this,Dv),Ia(this,tw,!1),Ia(this,nw,[]),Ia(this,iw),Ia(this,vh,new Cm),ew(this,"on",$t(this,vh).on),Ia(this,rw),Ia(this,Sh,0),Ia(this,ns,new AudioContext),Ia(this,nm,$t(this,ns).createMediaStreamDestination()),Ia(this,im,new Set),Ia(this,Dc,{start:0,end:0,step:0,audioPlayAt:0}),Ia(this,aw,new WeakMap),ew(this,"addSprite",async _=>{$t(this,ns).state==="suspended"&&$t(this,ns).resume().catch(hi.error);const x=_.getClip();if(x instanceof the&&x.audioTrack!=null){const C=$t(this,ns).createMediaStreamSource(new MediaStream([x.audioTrack]));C.connect($t(this,nm)),$t(this,aw).set(_,C)}await $t(this,Oa).addSprite(_)}),ew(this,"removeSprite",_=>{var x;(x=$t(this,aw).get(_))==null||x.disconnect(),$t(this,Oa).removeSprite(_)}),nl(this,rw,t),nl(this,so,zhe(t));const r=$t(this,so).getContext("2d",{alpha:!1});if(r==null)throw Error("canvas context is null");nl(this,Dv,r);const a=a0("div");a.style.cssText="width: 100%; height: 100%; position: relative; overflow: hidden;",a.appendChild($t(this,so)),e.appendChild(a),Lhe($t(this,ns)).connect($t(this,nm)),nl(this,Oa,new yhe);const{rectCtrlsGetter:o,destroy:l}=vhe($t(this,so));$t(this,nw).push(l,She($t(this,so),$t(this,Oa),o),Ohe($t(this,so),$t(this,Oa),o),xhe($t(this,so),$t(this,Oa),a,o),bhe(a,$t(this,so),$t(this,Oa),o),$t(this,Oa).on(o_.AddSprite,_=>{const{rect:x}=_;x.x===0&&x.y===0&&(x.x=($t(this,so).width-x.w)/2,x.y=($t(this,so).height-x.h)/2)}),Cm.forwardEvent($t(this,Oa),$t(this,vh),[o_.ActiveSpriteChange]));let s=$t(this,Sh),f=performance.now(),h=0;const v=1e3/30;nl(this,iw,gI(()=>{(performance.now()-f)/(v*h)<1||(h+=1,$t(this,Dv).fillStyle=t.bgColor,$t(this,Dv).fillRect(0,0,$t(this,so).width,$t(this,so).height),tm(this,Qf,V5).call(this),s!==$t(this,Sh)&&(s=$t(this,Sh),$t(this,vh).emit("timeupdate",Math.round(s))))},v))}play(e){const t=$t(this,Oa).getSprites({time:!1}).map(a=>a.time.offset+a.time.duration),r=e.end??(t.length>0?Math.max(...t):1/0);if(e.start>=r||e.start<0)throw Error(`Invalid time parameter, ${JSON.stringify({start:e.start,end:r})}`);tm(this,Qf,CC).call(this,e.start),$t(this,Oa).getSprites({time:!1}).forEach(a=>{const{offset:o,duration:l}=a.time,s=$t(this,Sh)-o;a.preFrame(s>0&&s<l?s:0)}),$t(this,Dc).start=e.start,$t(this,Dc).end=r,$t(this,Dc).step=(e.playbackRate??1)*(1e3/30)*1e3,$t(this,ns).resume(),$t(this,Dc).audioPlayAt=0,$t(this,vh).emit("playing"),hi.info("AVCanvs play by:",$t(this,Dc))}pause(){tm(this,Qf,EC).call(this)}previewFrame(e){tm(this,Qf,CC).call(this,e),tm(this,Qf,EC).call(this)}captureImage(){return $t(this,so).toDataURL()}get activeSprite(){return $t(this,Oa).activeSprite}set activeSprite(e){$t(this,Oa).activeSprite=e}destroy(){var e;$t(this,tw)||(nl(this,tw,!0),$t(this,ns).close(),$t(this,nm).disconnect(),$t(this,vh).destroy(),$t(this,iw).call(this),(e=$t(this,so).parentElement)==null||e.remove(),$t(this,nw).forEach(t=>t()),$t(this,im).clear(),$t(this,Oa).destroy())}captureStream(){$t(this,ns).state==="suspended"&&$t(this,ns).resume().catch(hi.error);const e=new MediaStream($t(this,so).captureStream().getTracks().concat($t(this,nm).stream.getTracks()));return hi.info("AVCanvas.captureStream, tracks:",e.getTracks().map(t=>t.kind)),e}async createCombinator(e={}){hi.info("AVCanvas.createCombinator, opts:",e);const t=new che({...$t(this,rw),...e}),r=$t(this,Oa).getSprites({time:!1});if(r.length===0)throw Error("No sprite added");for(const a of r){const o=new ohe(a.getClip());o.time={...a.time},a.copyStateTo(o),await t.addSprite(o)}return t}}so=new WeakMap,Oa=new WeakMap,Dv=new WeakMap,tw=new WeakMap,nw=new WeakMap,iw=new WeakMap,vh=new WeakMap,rw=new WeakMap,Sh=new WeakMap,Qf=new WeakSet,CC=function(n){nl(this,Sh,n),$t(this,Oa).updateRenderTime(n)},EC=function(){const n=$t(this,Dc).step!==0;$t(this,Dc).step=0,n&&($t(this,vh).emit("paused"),$t(this,ns).suspend());for(const e of $t(this,im))e.stop(),e.disconnect();$t(this,im).clear()},ns=new WeakMap,nm=new WeakMap,im=new WeakMap,V5=function(){var n;const e=$t(this,Dv);let t=$t(this,Sh);const{start:r,end:a,step:o,audioPlayAt:l}=$t(this,Dc);o!==0&&t>=r&&t<a?t+=o:tm(this,Qf,EC).call(this),tm(this,Qf,CC).call(this,t);const s=[];for(const f of $t(this,Oa).getSprites()){e.save();const{audio:h}=f.render(e,t-f.time.offset);e.restore(),s.push(h)}if(e.resetTransform(),o!==0){const f=Math.max($t(this,ns).currentTime,l),h=Dhe(s,$t(this,ns));let v=0;for(const _ of h)_.start(f),_.connect($t(this,ns).destination),_.connect($t(this,nm)),$t(this,im).add(_),_.onended=()=>{_.disconnect(),$t(this,im).delete(_)},v=Math.max(v,((n=_.buffer)==null?void 0:n.duration)??0);$t(this,Dc).audioPlayAt=f+v}},Dc=new WeakMap,aw=new WeakMap;function Dhe(n,e){const t=[];if(n.length===0)return t;for(const[r,a]of n){if(r==null||r.length<=0)continue;const o=e.createBuffer(2,r.length,Ihe.sampleRate);o.copyToChannel(r,0),o.copyToChannel(a??r,1);const l=e.createBufferSource();l.buffer=o,t.push(l)}return t}function Lhe(n){const e=n.createOscillator(),t=new Float32Array([0,0]),r=new Float32Array([0,0]),a=n.createPeriodicWave(t,r,{disableNormalization:!0});return e.setPeriodicWave(a),e.start(),e}function G5(){var n=this.constructor.getDerivedStateFromProps(this.props,this.state);n!=null&&this.setState(n)}function j5(n){function e(t){var r=this.constructor.getDerivedStateFromProps(n,t);return r??null}this.setState(e.bind(this))}function W5(n,e){try{var t=this.props,r=this.state;this.props=n,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(t,r)}finally{this.props=t,this.state=r}}G5.__suppressDeprecationWarning=!0;j5.__suppressDeprecationWarning=!0;W5.__suppressDeprecationWarning=!0;function N_(n){var e=n.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof n.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return n;var t=null,r=null,a=null;if(typeof e.componentWillMount=="function"?t="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(t="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?a="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(a="UNSAFE_componentWillUpdate"),t!==null||r!==null||a!==null){var o=n.displayName||n.name,l=typeof n.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+l+" but also contains the following legacy lifecycles:"+(t!==null?`
  `+t:"")+(r!==null?`
  `+r:"")+(a!==null?`
  `+a:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof n.getDerivedStateFromProps=="function"&&(e.componentWillMount=G5,e.componentWillReceiveProps=j5),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=W5;var s=e.componentDidUpdate;e.componentDidUpdate=function(h,v,_){var x=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:_;s.call(this,h,v,x)}}return n}function hN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function pN(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?hN(Object(t),!0).forEach(function(r){de(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):hN(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Nhe(n,e,t){return e=Li(e),No(n,X5()?Reflect.construct(e,t||[],Li(n).constructor):e.apply(n,t))}function X5(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X5=function(){return!!n})()}var Y5=function(n){function e(){var t;si(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=Nhe(this,e,[].concat(a)),de(t,"state",{scrollToColumn:0,scrollToRow:0,instanceProps:{prevScrollToColumn:0,prevScrollToRow:0}}),de(t,"_columnStartIndex",0),de(t,"_columnStopIndex",0),de(t,"_rowStartIndex",0),de(t,"_rowStopIndex",0),de(t,"_onKeyDown",function(l){var s=t.props,f=s.columnCount,h=s.disabled,v=s.mode,_=s.rowCount;if(!h){var x=t._getScrollState(),C=x.scrollToColumn,c=x.scrollToRow,p=t._getScrollState(),m=p.scrollToColumn,b=p.scrollToRow;switch(l.key){case"ArrowDown":b=Math.min(v==="cells"?b+1:t._rowStopIndex+1,_-1);break;case"ArrowLeft":m=Math.max(v==="cells"?m-1:t._columnStartIndex-1,0);break;case"ArrowRight":m=Math.min(v==="cells"?m+1:t._columnStopIndex+1,f-1);break;case"ArrowUp":b=Math.max(v==="cells"?b-1:t._rowStartIndex-1,0);break}(m!==C||b!==c)&&(l.preventDefault(),t._updateScrollState({scrollToColumn:m,scrollToRow:b}))}}),de(t,"_onSectionRendered",function(l){var s=l.columnStartIndex,f=l.columnStopIndex,h=l.rowStartIndex,v=l.rowStopIndex;t._columnStartIndex=s,t._columnStopIndex=f,t._rowStartIndex=h,t._rowStopIndex=v}),t}return Ar(e,n),li(e,[{key:"setScrollIndexes",value:function(r){var a=r.scrollToColumn,o=r.scrollToRow;this.setState({scrollToRow:o,scrollToColumn:a})}},{key:"render",value:function(){var r=this.props,a=r.className,o=r.children,l=this._getScrollState(),s=l.scrollToColumn,f=l.scrollToRow;return M.createElement("div",{className:a,onKeyDown:this._onKeyDown},o({onSectionRendered:this._onSectionRendered,scrollToColumn:s,scrollToRow:f}))}},{key:"_getScrollState",value:function(){return this.props.isControlled?this.props:this.state}},{key:"_updateScrollState",value:function(r){var a=r.scrollToColumn,o=r.scrollToRow,l=this.props,s=l.isControlled,f=l.onScrollToChange;typeof f=="function"&&f({scrollToColumn:a,scrollToRow:o}),s||this.setState({scrollToColumn:a,scrollToRow:o})}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.isControlled?{}:r.scrollToColumn!==a.instanceProps.prevScrollToColumn||r.scrollToRow!==a.instanceProps.prevScrollToRow?pN(pN({},a),{},{scrollToColumn:r.scrollToColumn,scrollToRow:r.scrollToRow,instanceProps:{prevScrollToColumn:r.scrollToColumn,prevScrollToRow:r.scrollToRow}}):{}}}])}(M.PureComponent);de(Y5,"defaultProps",{disabled:!1,isControlled:!1,mode:"edges",scrollToColumn:0,scrollToRow:0});N_(Y5);function q5(n,e){var t;typeof e<"u"?t=e:typeof window<"u"?t=window:typeof self<"u"?t=self:t=global;var r=typeof t.document<"u"&&t.document.attachEvent;if(!r){var a=function(){var D=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||function(F){return t.setTimeout(F,20)};return function(F){return D(F)}}(),o=function(){var D=t.cancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelAnimationFrame||t.clearTimeout;return function(F){return D(F)}}(),l=function(F){var B=F.__resizeTriggers__,U=B.firstElementChild,V=B.lastElementChild,Q=U.firstElementChild;V.scrollLeft=V.scrollWidth,V.scrollTop=V.scrollHeight,Q.style.width=U.offsetWidth+1+"px",Q.style.height=U.offsetHeight+1+"px",U.scrollLeft=U.scrollWidth,U.scrollTop=U.scrollHeight},s=function(F){return F.offsetWidth!=F.__resizeLast__.width||F.offsetHeight!=F.__resizeLast__.height},f=function(F){if(!(F.target.className&&typeof F.target.className.indexOf=="function"&&F.target.className.indexOf("contract-trigger")<0&&F.target.className.indexOf("expand-trigger")<0)){var B=this;l(this),this.__resizeRAF__&&o(this.__resizeRAF__),this.__resizeRAF__=a(function(){s(B)&&(B.__resizeLast__.width=B.offsetWidth,B.__resizeLast__.height=B.offsetHeight,B.__resizeListeners__.forEach(function(U){U.call(B,F)}))})}},h=!1,v="",_="animationstart",x="Webkit Moz O ms".split(" "),C="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),c="";{var p=t.document.createElement("fakeelement");if(p.style.animationName!==void 0&&(h=!0),h===!1){for(var m=0;m<x.length;m++)if(p.style[x[m]+"AnimationName"]!==void 0){c=x[m],v="-"+c.toLowerCase()+"-",_=C[m],h=!0;break}}}var b="resizeanim",w="@"+v+"keyframes "+b+" { from { opacity: 0; } to { opacity: 0; } } ",A=v+"animation: 1ms "+b+"; "}var R=function(F){if(!F.getElementById("detectElementResize")){var B=(w||"")+".resize-triggers { "+(A||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',U=F.head||F.getElementsByTagName("head")[0],V=F.createElement("style");V.id="detectElementResize",V.type="text/css",n!=null&&V.setAttribute("nonce",n),V.styleSheet?V.styleSheet.cssText=B:V.appendChild(F.createTextNode(B)),U.appendChild(V)}},O=function(F,B){if(r)F.attachEvent("onresize",B);else{if(!F.__resizeTriggers__){var U=F.ownerDocument,V=t.getComputedStyle(F);V&&V.position=="static"&&(F.style.position="relative"),R(U),F.__resizeLast__={},F.__resizeListeners__=[],(F.__resizeTriggers__=U.createElement("div")).className="resize-triggers";var Q=U.createElement("div");Q.className="expand-trigger",Q.appendChild(U.createElement("div"));var X=U.createElement("div");X.className="contract-trigger",F.__resizeTriggers__.appendChild(Q),F.__resizeTriggers__.appendChild(X),F.appendChild(F.__resizeTriggers__),l(F),F.addEventListener("scroll",f,!0),_&&(F.__resizeTriggers__.__animationListener__=function(ae){ae.animationName==b&&l(F)},F.__resizeTriggers__.addEventListener(_,F.__resizeTriggers__.__animationListener__))}F.__resizeListeners__.push(B)}},P=function(F,B){if(r)F.detachEvent("onresize",B);else if(F.__resizeListeners__.splice(F.__resizeListeners__.indexOf(B),1),!F.__resizeListeners__.length){F.removeEventListener("scroll",f,!0),F.__resizeTriggers__.__animationListener__&&(F.__resizeTriggers__.removeEventListener(_,F.__resizeTriggers__.__animationListener__),F.__resizeTriggers__.__animationListener__=null);try{F.__resizeTriggers__=!F.removeChild(F.__resizeTriggers__)}catch{}}};return{addResizeListener:O,removeResizeListener:P}}function mN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function gN(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?mN(Object(t),!0).forEach(function(r){de(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):mN(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Uhe(n,e,t){return e=Li(e),No(n,Z5()?Reflect.construct(e,t||[],Li(n).constructor):e.apply(n,t))}function Z5(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z5=function(){return!!n})()}var CI=function(n){function e(){var t;si(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=Uhe(this,e,[].concat(a)),de(t,"state",{height:t.props.defaultHeight||0,width:t.props.defaultWidth||0}),de(t,"_parentNode",void 0),de(t,"_autoSizer",void 0),de(t,"_window",void 0),de(t,"_detectElementResize",void 0),de(t,"_onResize",function(){var l=t.props,s=l.disableHeight,f=l.disableWidth,h=l.onResize;if(t._parentNode){var v=t._parentNode.offsetHeight||0,_=t._parentNode.offsetWidth||0,x=t._window||window,C=x.getComputedStyle(t._parentNode)||{},c=parseInt(C.paddingLeft,10)||0,p=parseInt(C.paddingRight,10)||0,m=parseInt(C.paddingTop,10)||0,b=parseInt(C.paddingBottom,10)||0,w=v-m-b,A=_-c-p;(!s&&t.state.height!==w||!f&&t.state.width!==A)&&(t.setState({height:v-m-b,width:_-c-p}),h({height:v,width:_}))}}),de(t,"_setRef",function(l){t._autoSizer=l}),t}return Ar(e,n),li(e,[{key:"componentDidMount",value:function(){var r=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._window=this._autoSizer.parentNode.ownerDocument.defaultView,this._detectElementResize=q5(r,this._window),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var r=this.props,a=r.children,o=r.className,l=r.disableHeight,s=r.disableWidth,f=r.style,h=this.state,v=h.height,_=h.width,x={overflow:"visible"},C={};return l||(x.height=0,C.height=v),s||(x.width=0,C.width=_),M.createElement("div",{className:o,ref:this._setRef,style:gN(gN({},x),f)},a(C))}}])}(M.Component);de(CI,"defaultProps",{onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}});function Bhe(n,e,t){return e=Li(e),No(n,K5()?Reflect.construct(e,t||[],Li(n).constructor):e.apply(n,t))}function K5(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K5=function(){return!!n})()}var Fhe=function(n){function e(){var t;si(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=Bhe(this,e,[].concat(a)),de(t,"_child",M.createRef()),de(t,"_measure",function(){var l=t.props,s=l.cache,f=l.columnIndex,h=f===void 0?0:f,v=l.parent,_=l.rowIndex,x=_===void 0?t.props.index||0:_,C=t._getCellMeasurements(),c=C.height,p=C.width;(c!==s.getHeight(x,h)||p!==s.getWidth(x,h))&&(s.set(x,h,p,c),v&&typeof v.recomputeGridSize=="function"&&v.recomputeGridSize({columnIndex:h,rowIndex:x}))}),de(t,"_registerChild",function(l){l&&!(l instanceof Element)&&console.warn("CellMeasurer registerChild expects to be passed Element or null"),t._child.current=l,l&&t._maybeMeasureCell()}),t}return Ar(e,n),li(e,[{key:"componentDidMount",value:function(){this._maybeMeasureCell()}},{key:"componentDidUpdate",value:function(){this._maybeMeasureCell()}},{key:"render",value:function(){var r=this,a=this.props.children,o=typeof a=="function"?a({measure:this._measure,registerChild:this._registerChild}):a;return o===null?o:M.cloneElement(o,{ref:function(s){typeof o.ref=="function"?o.ref(s):o.ref&&(o.ref.current=s),r._child.current=s}})}},{key:"_getCellMeasurements",value:function(){var r=this.props.cache,a=this._child.current;if(a&&a.ownerDocument&&a.ownerDocument.defaultView&&a instanceof a.ownerDocument.defaultView.HTMLElement){var o=a.style.width,l=a.style.height;r.hasFixedWidth()||(a.style.width="auto"),r.hasFixedHeight()||(a.style.height="auto");var s=Math.ceil(a.offsetHeight),f=Math.ceil(a.offsetWidth);return o&&(a.style.width=o),l&&(a.style.height=l),{height:s,width:f}}else return{height:0,width:0}}},{key:"_maybeMeasureCell",value:function(){var r=this.props,a=r.cache,o=r.columnIndex,l=o===void 0?0:o,s=r.parent,f=r.rowIndex,h=f===void 0?this.props.index||0:f;if(!a.has(h,l)){var v=this._getCellMeasurements(),_=v.height,x=v.width;a.set(h,l,x,_),s&&typeof s.invalidateCellSizeAfterRender=="function"&&s.invalidateCellSizeAfterRender({columnIndex:l,rowIndex:h})}}}])}(M.PureComponent);de(Fhe,"__internalCellMeasurerFlag",!1);function Q5(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=Q5(n[e]))&&(r&&(r+=" "),r+=t);else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function Lc(){for(var n,e,t=0,r="";t<arguments.length;)(n=arguments[t++])&&(e=Q5(n))&&(r&&(r+=" "),r+=e);return r}function o0(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e={};return function(t){var r=t.callback,a=t.indices,o=Object.keys(a),l=!n||o.every(function(f){var h=a[f];return Array.isArray(h)?h.length>0:h>=0}),s=o.length!==Object.keys(e).length||o.some(function(f){var h=e[f],v=a[f];return Array.isArray(v)?h.join(",")!==v.join(","):h!==v});e=a,l&&s&&r(a)}}const Hhe=!!(typeof window<"u"&&window.document&&window.document.createElement);var a1;function CR(n){if((!a1&&a1!==0||n)&&Hhe){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),a1=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return a1}function vN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function yN(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?vN(Object(t),!0).forEach(function(r){de(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):vN(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function khe(n,e,t){return e=Li(e),No(n,J5()?Reflect.construct(e,t||[],Li(n).constructor):e.apply(n,t))}function J5(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J5=function(){return!!n})()}var $he=150,Jg={OBSERVED:"observed",REQUESTED:"requested"},GE=function(n){function e(){var t;si(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=khe(this,e,[].concat(a)),de(t,"state",{isScrolling:!1,scrollLeft:0,scrollTop:0}),de(t,"_calculateSizeAndPositionDataOnNextUpdate",!1),de(t,"_onSectionRenderedMemoizer",o0()),de(t,"_onScrollMemoizer",o0(!1)),de(t,"_invokeOnSectionRenderedHelper",function(){var l=t.props,s=l.cellLayoutManager,f=l.onSectionRendered;t._onSectionRenderedMemoizer({callback:f,indices:{indices:s.getLastRenderedIndices()}})}),de(t,"_setScrollingContainerRef",function(l){t._scrollingContainer=l}),de(t,"_updateScrollPositionForScrollToCell",function(){var l=t.props,s=l.cellLayoutManager,f=l.height,h=l.scrollToAlignment,v=l.scrollToCell,_=l.width,x=t.state,C=x.scrollLeft,c=x.scrollTop;if(v>=0){var p=s.getScrollPositionForCell({align:h,cellIndex:v,height:f,scrollLeft:C,scrollTop:c,width:_});(p.scrollLeft!==C||p.scrollTop!==c)&&t._setScrollPosition(p)}}),de(t,"_onScroll",function(l){if(l.target===t._scrollingContainer){t._enablePointerEventsAfterDelay();var s=t.props,f=s.cellLayoutManager,h=s.height,v=s.isScrollingChange,_=s.width,x=t._scrollbarSize,C=f.getTotalSize(),c=C.height,p=C.width,m=Math.max(0,Math.min(p-_+x,l.target.scrollLeft)),b=Math.max(0,Math.min(c-h+x,l.target.scrollTop));if(t.state.scrollLeft!==m||t.state.scrollTop!==b){var w=l.cancelable?Jg.OBSERVED:Jg.REQUESTED;t.state.isScrolling||v(!0),t.setState({isScrolling:!0,scrollLeft:m,scrollPositionChangeReason:w,scrollTop:b})}t._invokeOnScrollMemoizer({scrollLeft:m,scrollTop:b,totalWidth:p,totalHeight:c})}}),t._scrollbarSize=CR(),t._scrollbarSize===void 0?(t._scrollbarSizeMeasured=!1,t._scrollbarSize=0):t._scrollbarSizeMeasured=!0,t}return Ar(e,n),li(e,[{key:"recomputeCellSizesAndPositions",value:function(){this._calculateSizeAndPositionDataOnNextUpdate=!0,this.forceUpdate()}},{key:"componentDidMount",value:function(){var r=this.props,a=r.cellLayoutManager,o=r.scrollLeft,l=r.scrollToCell,s=r.scrollTop;this._scrollbarSizeMeasured||(this._scrollbarSize=CR(),this._scrollbarSizeMeasured=!0,this.setState({})),l>=0?this._updateScrollPositionForScrollToCell():(o>=0||s>=0)&&this._setScrollPosition({scrollLeft:o,scrollTop:s}),this._invokeOnSectionRenderedHelper();var f=a.getTotalSize(),h=f.height,v=f.width;this._invokeOnScrollMemoizer({scrollLeft:o||0,scrollTop:s||0,totalHeight:h,totalWidth:v})}},{key:"componentDidUpdate",value:function(r,a){var o=this.props,l=o.height,s=o.scrollToAlignment,f=o.scrollToCell,h=o.width,v=this.state,_=v.scrollLeft,x=v.scrollPositionChangeReason,C=v.scrollTop;x===Jg.REQUESTED&&(_>=0&&_!==a.scrollLeft&&_!==this._scrollingContainer.scrollLeft&&(this._scrollingContainer.scrollLeft=_),C>=0&&C!==a.scrollTop&&C!==this._scrollingContainer.scrollTop&&(this._scrollingContainer.scrollTop=C)),(l!==r.height||s!==r.scrollToAlignment||f!==r.scrollToCell||h!==r.width)&&this._updateScrollPositionForScrollToCell(),this._invokeOnSectionRenderedHelper()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var r=this.props,a=r.autoHeight,o=r.cellCount,l=r.cellLayoutManager,s=r.className,f=r.height,h=r.horizontalOverscanSize,v=r.id,_=r.noContentRenderer,x=r.style,C=r.verticalOverscanSize,c=r.width,p=this.state,m=p.isScrolling,b=p.scrollLeft,w=p.scrollTop;(this._lastRenderedCellCount!==o||this._lastRenderedCellLayoutManager!==l||this._calculateSizeAndPositionDataOnNextUpdate)&&(this._lastRenderedCellCount=o,this._lastRenderedCellLayoutManager=l,this._calculateSizeAndPositionDataOnNextUpdate=!1,l.calculateSizeAndPositionData());var A=l.getTotalSize(),R=A.height,O=A.width,P=Math.max(0,b-h),D=Math.max(0,w-C),F=Math.min(O,b+c+h),B=Math.min(R,w+f+C),U=f>0&&c>0?l.cellRenderers({height:B-D,isScrolling:m,width:F-P,x:P,y:D}):[],V={boxSizing:"border-box",direction:"ltr",height:a?"auto":f,position:"relative",WebkitOverflowScrolling:"touch",width:c,willChange:"transform"},Q=R>f?this._scrollbarSize:0,X=O>c?this._scrollbarSize:0;return V.overflowX=O+Q<=c?"hidden":"auto",V.overflowY=R+X<=f?"hidden":"auto",M.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:Lc("ReactVirtualized__Collection",s),id:v,onScroll:this._onScroll,role:"grid",style:yN(yN({},V),x),tabIndex:0},o>0&&M.createElement("div",{className:"ReactVirtualized__Collection__innerScrollContainer",style:{height:R,maxHeight:R,maxWidth:O,overflow:"hidden",pointerEvents:m?"none":"",width:O}},U),o===0&&_())}},{key:"_enablePointerEventsAfterDelay",value:function(){var r=this;this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=setTimeout(function(){var a=r.props.isScrollingChange;a(!1),r._disablePointerEventsTimeoutId=null,r.setState({isScrolling:!1})},$he)}},{key:"_invokeOnScrollMemoizer",value:function(r){var a=this,o=r.scrollLeft,l=r.scrollTop,s=r.totalHeight,f=r.totalWidth;this._onScrollMemoizer({callback:function(v){var _=v.scrollLeft,x=v.scrollTop,C=a.props,c=C.height,p=C.onScroll,m=C.width;p({clientHeight:c,clientWidth:m,scrollHeight:s,scrollLeft:_,scrollTop:x,scrollWidth:f})},indices:{scrollLeft:o,scrollTop:l}})}},{key:"_setScrollPosition",value:function(r){var a=r.scrollLeft,o=r.scrollTop,l={scrollPositionChangeReason:Jg.REQUESTED};a>=0&&(l.scrollLeft=a),o>=0&&(l.scrollTop=o),(a>=0&&a!==this.state.scrollLeft||o>=0&&o!==this.state.scrollTop)&&this.setState(l)}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.cellCount===0&&(a.scrollLeft!==0||a.scrollTop!==0)?{scrollLeft:0,scrollTop:0,scrollPositionChangeReason:Jg.REQUESTED}:r.scrollLeft!==a.scrollLeft||r.scrollTop!==a.scrollTop?{scrollLeft:r.scrollLeft!=null?r.scrollLeft:a.scrollLeft,scrollTop:r.scrollTop!=null?r.scrollTop:a.scrollTop,scrollPositionChangeReason:Jg.REQUESTED}:null}}])}(M.PureComponent);de(GE,"defaultProps",{"aria-label":"grid",horizontalOverscanSize:0,noContentRenderer:function(){return null},onScroll:function(){return null},onSectionRendered:function(){return null},scrollToAlignment:"auto",scrollToCell:-1,style:{},verticalOverscanSize:0});GE.propTypes={};N_(GE);var Vhe=function(){function n(e){var t=e.height,r=e.width,a=e.x,o=e.y;si(this,n),this.height=t,this.width=r,this.x=a,this.y=o,this._indexMap={},this._indices=[]}return li(n,[{key:"addCellIndex",value:function(t){var r=t.index;this._indexMap[r]||(this._indexMap[r]=!0,this._indices.push(r))}},{key:"getCellIndices",value:function(){return this._indices}},{key:"toString",value:function(){return"".concat(this.x,",").concat(this.y," ").concat(this.width,"x").concat(this.height)}}])}(),Ghe=100,jhe=function(){function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ghe;si(this,n),this._sectionSize=e,this._cellMetadata=[],this._sections={}}return li(n,[{key:"getCellIndices",value:function(t){var r=t.height,a=t.width,o=t.x,l=t.y,s={};return this.getSections({height:r,width:a,x:o,y:l}).forEach(function(f){return f.getCellIndices().forEach(function(h){s[h]=h})}),Object.keys(s).map(function(f){return s[f]})}},{key:"getCellMetadata",value:function(t){var r=t.index;return this._cellMetadata[r]}},{key:"getSections",value:function(t){for(var r=t.height,a=t.width,o=t.x,l=t.y,s=Math.floor(o/this._sectionSize),f=Math.floor((o+a-1)/this._sectionSize),h=Math.floor(l/this._sectionSize),v=Math.floor((l+r-1)/this._sectionSize),_=[],x=s;x<=f;x++)for(var C=h;C<=v;C++){var c="".concat(x,".").concat(C);this._sections[c]||(this._sections[c]=new Vhe({height:this._sectionSize,width:this._sectionSize,x:x*this._sectionSize,y:C*this._sectionSize})),_.push(this._sections[c])}return _}},{key:"getTotalSectionCount",value:function(){return Object.keys(this._sections).length}},{key:"toString",value:function(){var t=this;return Object.keys(this._sections).map(function(r){return t._sections[r].toString()})}},{key:"registerCell",value:function(t){var r=t.cellMetadatum,a=t.index;this._cellMetadata[a]=r,this.getSections(r).forEach(function(o){return o.addCellIndex({index:a})})}}])}();function Whe(n){for(var e=n.cellCount,t=n.cellSizeAndPositionGetter,r=n.sectionSize,a=[],o=new jhe(r),l=0,s=0,f=0;f<e;f++){var h=t({index:f});if(h.height==null||isNaN(h.height)||h.width==null||isNaN(h.width)||h.x==null||isNaN(h.x)||h.y==null||isNaN(h.y))throw Error("Invalid metadata returned for cell ".concat(f,`:
        x:`).concat(h.x,", y:").concat(h.y,", width:").concat(h.width,", height:").concat(h.height));l=Math.max(l,h.y+h.height),s=Math.max(s,h.x+h.width),a[f]=h,o.registerCell({cellMetadatum:h,index:f})}return{cellMetadata:a,height:l,sectionManager:o,width:s}}function bN(n){var e=n.align,t=e===void 0?"auto":e,r=n.cellOffset,a=n.cellSize,o=n.containerSize,l=n.currentOffset,s=r,f=s-o+a;switch(t){case"start":return s;case"end":return f;case"center":return s-(o-a)/2;default:return Math.max(f,Math.min(s,l))}}function Xhe(n,e,t){return e=Li(e),No(n,eH()?Reflect.construct(e,t||[],Li(n).constructor):e.apply(n,t))}function eH(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eH=function(){return!!n})()}var tH=function(n){function e(t,r){var a;return si(this,e),a=Xhe(this,e,[t,r]),a._cellMetadata=[],a._lastRenderedCellIndices=[],a._cellCache=[],a._isScrollingChange=a._isScrollingChange.bind(a),a._setCollectionViewRef=a._setCollectionViewRef.bind(a),a}return Ar(e,n),li(e,[{key:"forceUpdate",value:function(){this._collectionView!==void 0&&this._collectionView.forceUpdate()}},{key:"recomputeCellSizesAndPositions",value:function(){this._cellCache=[],this._collectionView.recomputeCellSizesAndPositions()}},{key:"render",value:function(){var r=Nt({},($J(this.props),this.props));return M.createElement(GE,Nt({cellLayoutManager:this,isScrollingChange:this._isScrollingChange,ref:this._setCollectionViewRef},r))}},{key:"calculateSizeAndPositionData",value:function(){var r=this.props,a=r.cellCount,o=r.cellSizeAndPositionGetter,l=r.sectionSize,s=Whe({cellCount:a,cellSizeAndPositionGetter:o,sectionSize:l});this._cellMetadata=s.cellMetadata,this._sectionManager=s.sectionManager,this._height=s.height,this._width=s.width}},{key:"getLastRenderedIndices",value:function(){return this._lastRenderedCellIndices}},{key:"getScrollPositionForCell",value:function(r){var a=r.align,o=r.cellIndex,l=r.height,s=r.scrollLeft,f=r.scrollTop,h=r.width,v=this.props.cellCount;if(o>=0&&o<v){var _=this._cellMetadata[o];s=bN({align:a,cellOffset:_.x,cellSize:_.width,containerSize:h,currentOffset:s}),f=bN({align:a,cellOffset:_.y,cellSize:_.height,containerSize:l,currentOffset:f})}return{scrollLeft:s,scrollTop:f}}},{key:"getTotalSize",value:function(){return{height:this._height,width:this._width}}},{key:"cellRenderers",value:function(r){var a=this,o=r.height,l=r.isScrolling,s=r.width,f=r.x,h=r.y,v=this.props,_=v.cellGroupRenderer,x=v.cellRenderer;return this._lastRenderedCellIndices=this._sectionManager.getCellIndices({height:o,width:s,x:f,y:h}),_({cellCache:this._cellCache,cellRenderer:x,cellSizeAndPositionGetter:function(c){var p=c.index;return a._sectionManager.getCellMetadata({index:p})},indices:this._lastRenderedCellIndices,isScrolling:l})}},{key:"_isScrollingChange",value:function(r){r||(this._cellCache=[])}},{key:"_setCollectionViewRef",value:function(r){this._collectionView=r}}])}(M.PureComponent);de(tH,"defaultProps",{"aria-label":"grid",cellGroupRenderer:Yhe});tH.propTypes={};function Yhe(n){var e=n.cellCache,t=n.cellRenderer,r=n.cellSizeAndPositionGetter,a=n.indices,o=n.isScrolling;return a.map(function(l){var s=r({index:l}),f={index:l,isScrolling:o,key:l,style:{height:s.height,left:s.x,position:"absolute",top:s.y,width:s.width}};return o?(l in e||(e[l]=t(f)),e[l]):t(f)}).filter(function(l){return!!l})}function qhe(n,e,t){return e=Li(e),No(n,nH()?Reflect.construct(e,t||[],Li(n).constructor):e.apply(n,t))}function nH(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nH=function(){return!!n})()}var Zhe=function(n){function e(t,r){var a;return si(this,e),a=qhe(this,e,[t,r]),a._registerChild=a._registerChild.bind(a),a}return Ar(e,n),li(e,[{key:"componentDidUpdate",value:function(r){var a=this.props,o=a.columnMaxWidth,l=a.columnMinWidth,s=a.columnCount,f=a.width;(o!==r.columnMaxWidth||l!==r.columnMinWidth||s!==r.columnCount||f!==r.width)&&this._registeredChild&&this._registeredChild.recomputeGridSize()}},{key:"render",value:function(){var r=this.props,a=r.children,o=r.columnMaxWidth,l=r.columnMinWidth,s=r.columnCount,f=r.width,h=l||1,v=o?Math.min(o,f):f,_=f/s;_=Math.max(h,_),_=Math.min(v,_),_=Math.floor(_);var x=Math.min(f,_*s);return a({adjustedWidth:x,columnWidth:_,getColumnWidth:function(){return _},registerChild:this._registerChild})}},{key:"_registerChild",value:function(r){if(r&&typeof r.recomputeGridSize!="function")throw Error("Unexpected child type registered; only Grid/MultiGrid children are supported.");this._registeredChild=r,this._registeredChild&&this._registeredChild.recomputeGridSize()}}])}(M.PureComponent);Zhe.propTypes={};function _N(n){var e=n.cellCount,t=n.cellSize,r=n.computeMetadataCallback,a=n.computeMetadataCallbackProps,o=n.nextCellsCount,l=n.nextCellSize,s=n.nextScrollToIndex,f=n.scrollToIndex,h=n.updateScrollOffsetForScrollToIndex;(e!==o||(typeof t=="number"||typeof l=="number")&&t!==l)&&(r(a),f>=0&&f===s&&h())}var Khe=function(){function n(e){var t=e.cellCount,r=e.cellSizeGetter,a=e.estimatedCellSize;si(this,n),de(this,"_cellSizeAndPositionData",{}),de(this,"_lastMeasuredIndex",-1),de(this,"_lastBatchedIndex",-1),de(this,"_cellCount",void 0),de(this,"_cellSizeGetter",void 0),de(this,"_estimatedCellSize",void 0),this._cellSizeGetter=r,this._cellCount=t,this._estimatedCellSize=a}return li(n,[{key:"areOffsetsAdjusted",value:function(){return!1}},{key:"configure",value:function(t){var r=t.cellCount,a=t.estimatedCellSize,o=t.cellSizeGetter;this._cellCount=r,this._estimatedCellSize=a,this._cellSizeGetter=o}},{key:"getCellCount",value:function(){return this._cellCount}},{key:"getEstimatedCellSize",value:function(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function(){return this._lastMeasuredIndex}},{key:"getOffsetAdjustment",value:function(){return 0}},{key:"getSizeAndPositionOfCell",value:function(t){if(t<0||t>=this._cellCount)throw Error("Requested index ".concat(t," is outside of range 0..").concat(this._cellCount));if(t>this._lastMeasuredIndex)for(var r=this.getSizeAndPositionOfLastMeasuredCell(),a=r.offset+r.size,o=this._lastMeasuredIndex+1;o<=t;o++){var l=this._cellSizeGetter({index:o});if(l===void 0||isNaN(l))throw Error("Invalid size returned for cell ".concat(o," of value ").concat(l));l===null?(this._cellSizeAndPositionData[o]={offset:a,size:0},this._lastBatchedIndex=t):(this._cellSizeAndPositionData[o]={offset:a,size:l},a+=l,this._lastMeasuredIndex=t)}return this._cellSizeAndPositionData[t]}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._lastMeasuredIndex>=0?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}}},{key:"getTotalSize",value:function(){var t=this.getSizeAndPositionOfLastMeasuredCell(),r=t.offset+t.size,a=this._cellCount-this._lastMeasuredIndex-1,o=a*this._estimatedCellSize;return r+o}},{key:"getUpdatedOffsetForIndex",value:function(t){var r=t.align,a=r===void 0?"auto":r,o=t.containerSize,l=t.currentOffset,s=t.targetIndex;if(o<=0)return 0;var f=this.getSizeAndPositionOfCell(s),h=f.offset,v=h-o+f.size,_;switch(a){case"start":_=h;break;case"end":_=v;break;case"center":_=h-(o-f.size)/2;break;default:_=Math.max(v,Math.min(h,l));break}var x=this.getTotalSize();return Math.max(0,Math.min(x-o,_))}},{key:"getVisibleCellRange",value:function(t){var r=t.containerSize,a=t.offset,o=this.getTotalSize();if(o===0)return{};var l=a+r,s=this._findNearestCell(a),f=this.getSizeAndPositionOfCell(s);a=f.offset+f.size;for(var h=s;a<l&&h<this._cellCount-1;)h++,a+=this.getSizeAndPositionOfCell(h).size;return{start:s,stop:h}}},{key:"resetCell",value:function(t){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,t-1)}},{key:"_binarySearch",value:function(t,r,a){for(;r<=t;){var o=r+Math.floor((t-r)/2),l=this.getSizeAndPositionOfCell(o).offset;if(l===a)return o;l<a?r=o+1:l>a&&(t=o-1)}return r>0?r-1:0}},{key:"_exponentialSearch",value:function(t,r){for(var a=1;t<this._cellCount&&this.getSizeAndPositionOfCell(t).offset<r;)t+=a,a*=2;return this._binarySearch(Math.min(t,this._cellCount-1),Math.floor(t/2),r)}},{key:"_findNearestCell",value:function(t){if(isNaN(t))throw Error("Invalid offset ".concat(t," specified"));t=Math.max(0,t);var r=this.getSizeAndPositionOfLastMeasuredCell(),a=Math.max(0,this._lastMeasuredIndex);return r.offset>=t?this._binarySearch(a,0,t):this._exponentialSearch(a,t)}}])}(),Qhe=15e5,Jhe=16777100,epe=function(){return typeof window<"u"},tpe=function(){return!!window.chrome},npe=function(){return epe()&&tpe()?Jhe:Qhe},ipe=["maxScrollSize"],SN=function(){function n(e){var t=e.maxScrollSize,r=t===void 0?npe():t,a=jn(e,ipe);si(this,n),de(this,"_cellSizeAndPositionManager",void 0),de(this,"_maxScrollSize",void 0),this._cellSizeAndPositionManager=new Khe(a),this._maxScrollSize=r}return li(n,[{key:"areOffsetsAdjusted",value:function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:"configure",value:function(t){this._cellSizeAndPositionManager.configure(t)}},{key:"getCellCount",value:function(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function(t){var r=t.containerSize,a=t.offset,o=this._cellSizeAndPositionManager.getTotalSize(),l=this.getTotalSize(),s=this._getOffsetPercentage({containerSize:r,offset:a,totalSize:l});return Math.round(s*(l-o))}},{key:"getSizeAndPositionOfCell",value:function(t){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(t)}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function(t){var r=t.align,a=r===void 0?"auto":r,o=t.containerSize,l=t.currentOffset,s=t.targetIndex;l=this._safeOffsetToOffset({containerSize:o,offset:l});var f=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:a,containerSize:o,currentOffset:l,targetIndex:s});return this._offsetToSafeOffset({containerSize:o,offset:f})}},{key:"getVisibleCellRange",value:function(t){var r=t.containerSize,a=t.offset;return a=this._safeOffsetToOffset({containerSize:r,offset:a}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:r,offset:a})}},{key:"resetCell",value:function(t){this._cellSizeAndPositionManager.resetCell(t)}},{key:"_getOffsetPercentage",value:function(t){var r=t.containerSize,a=t.offset,o=t.totalSize;return o<=r?0:a/(o-r)}},{key:"_offsetToSafeOffset",value:function(t){var r=t.containerSize,a=t.offset,o=this._cellSizeAndPositionManager.getTotalSize(),l=this.getTotalSize();if(o===l)return a;var s=this._getOffsetPercentage({containerSize:r,offset:a,totalSize:o});return Math.round(s*(l-r))}},{key:"_safeOffsetToOffset",value:function(t){var r=t.containerSize,a=t.offset,o=this._cellSizeAndPositionManager.getTotalSize(),l=this.getTotalSize();if(o===l)return a;var s=this._getOffsetPercentage({containerSize:r,offset:a,totalSize:l});return Math.round(s*(o-r))}}])}(),o1=-1,Yf=1;function rpe(n){var e=n.cellCount,t=n.overscanCellsCount,r=n.scrollDirection,a=n.startIndex,o=n.stopIndex;return r===Yf?{overscanStartIndex:Math.max(0,a),overscanStopIndex:Math.min(e-1,o+t)}:{overscanStartIndex:Math.max(0,a-t),overscanStopIndex:Math.min(e-1,o)}}function xN(n){var e=n.cellSize,t=n.cellSizeAndPositionManager,r=n.previousCellsCount,a=n.previousCellSize,o=n.previousScrollToAlignment,l=n.previousScrollToIndex,s=n.previousSize,f=n.scrollOffset,h=n.scrollToAlignment,v=n.scrollToIndex,_=n.size,x=n.sizeJustIncreasedFromZero,C=n.updateScrollIndexCallback,c=t.getCellCount(),p=v>=0&&v<c,m=_!==s||x||!a||typeof e=="number"&&e!==a;p&&(m||h!==o||v!==l)?C(v):!p&&c>0&&(_<s||c<r)&&f>t.getTotalSize()-_&&C(c-1)}function ape(n){for(var e=n.cellCache,t=n.cellRenderer,r=n.columnSizeAndPositionManager,a=n.columnStartIndex,o=n.columnStopIndex,l=n.deferredMeasurementCache,s=n.horizontalOffsetAdjustment,f=n.isScrolling,h=n.isScrollingOptOut,v=n.parent,_=n.rowSizeAndPositionManager,x=n.rowStartIndex,C=n.rowStopIndex,c=n.styleCache,p=n.verticalOffsetAdjustment,m=n.visibleColumnIndices,b=n.visibleRowIndices,w=[],A=r.areOffsetsAdjusted()||_.areOffsetsAdjusted(),R=!f&&!A,O=x;O<=C;O++)for(var P=_.getSizeAndPositionOfCell(O),D=a;D<=o;D++){var F=r.getSizeAndPositionOfCell(D),B=D>=m.start&&D<=m.stop&&O>=b.start&&O<=b.stop,U="".concat(O,"-").concat(D),V=void 0;R&&c[U]?V=c[U]:l&&!l.has(O,D)?V={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:(V={height:P.size,left:F.offset+s,position:"absolute",top:P.offset+p,width:F.size},c[U]=V);var Q={columnIndex:D,isScrolling:f,isVisible:B,key:U,parent:v,rowIndex:O,style:V},X=void 0;(h||f)&&!s&&!p?(e[U]||(e[U]=t(Q)),X=e[U]):X=t(Q),!(X==null||X===!1)&&(X.props.role||(X=We.cloneElement(X,{role:"gridcell"})),w.push(X))}return w}var rs;typeof window<"u"?rs=window:typeof self<"u"?rs=self:rs={};var ope=rs.requestAnimationFrame||rs.webkitRequestAnimationFrame||rs.mozRequestAnimationFrame||rs.oRequestAnimationFrame||rs.msRequestAnimationFrame||function(n){return rs.setTimeout(n,1e3/60)},spe=rs.cancelAnimationFrame||rs.webkitCancelAnimationFrame||rs.mozCancelAnimationFrame||rs.oCancelAnimationFrame||rs.msCancelAnimationFrame||function(n){rs.clearTimeout(n)},wN=ope,lpe=spe,s0=function(e){return lpe(e.id)},EI=function(e,t){var r;Promise.resolve().then(function(){r=Date.now()});var a=function(){Date.now()-r>=t?e.call():o.id=wN(a)},o={id:wN(a)};return o};function CN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function Cs(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?CN(Object(t),!0).forEach(function(r){de(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):CN(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function cpe(n,e,t){return e=Li(e),No(n,iH()?Reflect.construct(e,t||[],Li(n).constructor):e.apply(n,t))}function iH(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iH=function(){return!!n})()}var upe=150,MA={OBSERVED:"observed",REQUESTED:"requested"},fpe=function(){return null},ju=function(n){function e(t){var r;si(this,e),r=cpe(this,e,[t]),de(r,"_onGridRenderedMemoizer",o0()),de(r,"_onScrollMemoizer",o0(!1)),de(r,"_deferredInvalidateColumnIndex",null),de(r,"_deferredInvalidateRowIndex",null),de(r,"_recomputeScrollLeftFlag",!1),de(r,"_recomputeScrollTopFlag",!1),de(r,"_horizontalScrollBarSize",0),de(r,"_verticalScrollBarSize",0),de(r,"_scrollbarPresenceChanged",!1),de(r,"_scrollingContainer",void 0),de(r,"_childrenToDisplay",void 0),de(r,"_columnStartIndex",void 0),de(r,"_columnStopIndex",void 0),de(r,"_rowStartIndex",void 0),de(r,"_rowStopIndex",void 0),de(r,"_renderedColumnStartIndex",0),de(r,"_renderedColumnStopIndex",0),de(r,"_renderedRowStartIndex",0),de(r,"_renderedRowStopIndex",0),de(r,"_initialScrollTop",void 0),de(r,"_initialScrollLeft",void 0),de(r,"_disablePointerEventsTimeoutId",void 0),de(r,"_styleCache",{}),de(r,"_cellCache",{}),de(r,"_debounceScrollEndedCallback",function(){r._disablePointerEventsTimeoutId=null,r.setState({isScrolling:!1,needToResetStyleCache:!1})}),de(r,"_invokeOnGridRenderedHelper",function(){var l=r.props.onSectionRendered;r._onGridRenderedMemoizer({callback:l,indices:{columnOverscanStartIndex:r._columnStartIndex,columnOverscanStopIndex:r._columnStopIndex,columnStartIndex:r._renderedColumnStartIndex,columnStopIndex:r._renderedColumnStopIndex,rowOverscanStartIndex:r._rowStartIndex,rowOverscanStopIndex:r._rowStopIndex,rowStartIndex:r._renderedRowStartIndex,rowStopIndex:r._renderedRowStopIndex}})}),de(r,"_setScrollingContainerRef",function(l){r._scrollingContainer=l,typeof r.props.elementRef=="function"?r.props.elementRef(l):yn(r.props.elementRef)==="object"&&(r.props.elementRef.current=l)}),de(r,"_onScroll",function(l){l.target===r._scrollingContainer&&r.handleScrollEvent(l.target)});var a=new SN({cellCount:t.columnCount,cellSizeGetter:function(s){return e._wrapSizeGetter(t.columnWidth)(s)},estimatedCellSize:e._getEstimatedColumnSize(t)}),o=new SN({cellCount:t.rowCount,cellSizeGetter:function(s){return e._wrapSizeGetter(t.rowHeight)(s)},estimatedCellSize:e._getEstimatedRowSize(t)});return r.state={instanceProps:{columnSizeAndPositionManager:a,rowSizeAndPositionManager:o,prevColumnWidth:t.columnWidth,prevRowHeight:t.rowHeight,prevColumnCount:t.columnCount,prevRowCount:t.rowCount,prevIsScrolling:t.isScrolling===!0,prevScrollToColumn:t.scrollToColumn,prevScrollToRow:t.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:Yf,scrollDirectionVertical:Yf,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1},t.scrollToRow>0&&(r._initialScrollTop=r._getCalculatedScrollTop(t,r.state)),t.scrollToColumn>0&&(r._initialScrollLeft=r._getCalculatedScrollLeft(t,r.state)),r}return Ar(e,n),li(e,[{key:"getOffsetForCell",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=r.alignment,o=a===void 0?this.props.scrollToAlignment:a,l=r.columnIndex,s=l===void 0?this.props.scrollToColumn:l,f=r.rowIndex,h=f===void 0?this.props.scrollToRow:f,v=Cs(Cs({},this.props),{},{scrollToAlignment:o,scrollToColumn:s,scrollToRow:h});return{scrollLeft:this._getCalculatedScrollLeft(v),scrollTop:this._getCalculatedScrollTop(v)}}},{key:"getTotalRowsHeight",value:function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()}},{key:"getTotalColumnsWidth",value:function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()}},{key:"handleScrollEvent",value:function(r){var a=r.scrollLeft,o=a===void 0?0:a,l=r.scrollTop,s=l===void 0?0:l;if(!(s<0)){this._debounceScrollEnded();var f=this.props,h=f.autoHeight,v=f.autoWidth,_=f.height,x=f.width,C=this.state.instanceProps,c=C.scrollbarSize,p=C.rowSizeAndPositionManager.getTotalSize(),m=C.columnSizeAndPositionManager.getTotalSize(),b=Math.min(Math.max(0,m-x+c),o),w=Math.min(Math.max(0,p-_+c),s);if(this.state.scrollLeft!==b||this.state.scrollTop!==w){var A=b!==this.state.scrollLeft?b>this.state.scrollLeft?Yf:o1:this.state.scrollDirectionHorizontal,R=w!==this.state.scrollTop?w>this.state.scrollTop?Yf:o1:this.state.scrollDirectionVertical,O={isScrolling:!0,scrollDirectionHorizontal:A,scrollDirectionVertical:R,scrollPositionChangeReason:MA.OBSERVED};h||(O.scrollTop=w),v||(O.scrollLeft=b),O.needToResetStyleCache=!1,this.setState(O)}this._invokeOnScrollMemoizer({scrollLeft:b,scrollTop:w,totalColumnsWidth:m,totalRowsHeight:p})}}},{key:"invalidateCellSizeAfterRender",value:function(r){var a=r.columnIndex,o=r.rowIndex;this._deferredInvalidateColumnIndex=typeof this._deferredInvalidateColumnIndex=="number"?Math.min(this._deferredInvalidateColumnIndex,a):a,this._deferredInvalidateRowIndex=typeof this._deferredInvalidateRowIndex=="number"?Math.min(this._deferredInvalidateRowIndex,o):o}},{key:"measureAllCells",value:function(){var r=this.props,a=r.columnCount,o=r.rowCount,l=this.state.instanceProps;l.columnSizeAndPositionManager.getSizeAndPositionOfCell(a-1),l.rowSizeAndPositionManager.getSizeAndPositionOfCell(o-1)}},{key:"recomputeGridSize",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=r.columnIndex,o=a===void 0?0:a,l=r.rowIndex,s=l===void 0?0:l,f=this.props,h=f.scrollToColumn,v=f.scrollToRow,_=this.state.instanceProps;_.columnSizeAndPositionManager.resetCell(o),_.rowSizeAndPositionManager.resetCell(s),this._recomputeScrollLeftFlag=h>=0&&(this.state.scrollDirectionHorizontal===Yf?o<=h:o>=h),this._recomputeScrollTopFlag=v>=0&&(this.state.scrollDirectionVertical===Yf?s<=v:s>=v),this._styleCache={},this._cellCache={},this.forceUpdate()}},{key:"scrollToCell",value:function(r){var a=r.columnIndex,o=r.rowIndex,l=this.props.columnCount,s=this.props;l>1&&a!==void 0&&this._updateScrollLeftForScrollToColumn(Cs(Cs({},s),{},{scrollToColumn:a})),o!==void 0&&this._updateScrollTopForScrollToRow(Cs(Cs({},s),{},{scrollToRow:o}))}},{key:"componentDidMount",value:function(){var r=this.props,a=r.getScrollbarSize,o=r.height,l=r.scrollLeft,s=r.scrollToColumn,f=r.scrollTop,h=r.scrollToRow,v=r.width,_=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),_.scrollbarSizeMeasured||this.setState(function(c){var p=Cs(Cs({},c),{},{needToResetStyleCache:!1});return p.instanceProps.scrollbarSize=a(),p.instanceProps.scrollbarSizeMeasured=!0,p}),typeof l=="number"&&l>=0||typeof f=="number"&&f>=0){var x=e._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:l,scrollTop:f});x&&(x.needToResetStyleCache=!1,this.setState(x))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var C=o>0&&v>0;s>=0&&C&&this._updateScrollLeftForScrollToColumn(),h>=0&&C&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:l||0,scrollTop:f||0,totalColumnsWidth:_.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:_.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()}},{key:"componentDidUpdate",value:function(r,a){var o=this,l=this.props,s=l.autoHeight,f=l.autoWidth,h=l.columnCount,v=l.height,_=l.rowCount,x=l.scrollToAlignment,C=l.scrollToColumn,c=l.scrollToRow,p=l.width,m=this.state,b=m.scrollLeft,w=m.scrollPositionChangeReason,A=m.scrollTop,R=m.instanceProps;this._handleInvalidatedGridSize();var O=h>0&&r.columnCount===0||_>0&&r.rowCount===0;w===MA.REQUESTED&&(!f&&b>=0&&(b!==this._scrollingContainer.scrollLeft||O)&&(this._scrollingContainer.scrollLeft=b),!s&&A>=0&&(A!==this._scrollingContainer.scrollTop||O)&&(this._scrollingContainer.scrollTop=A));var P=(r.width===0||r.height===0)&&v>0&&p>0;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):xN({cellSizeAndPositionManager:R.columnSizeAndPositionManager,previousCellsCount:r.columnCount,previousCellSize:r.columnWidth,previousScrollToAlignment:r.scrollToAlignment,previousScrollToIndex:r.scrollToColumn,previousSize:r.width,scrollOffset:b,scrollToAlignment:x,scrollToIndex:C,size:p,sizeJustIncreasedFromZero:P,updateScrollIndexCallback:function(){return o._updateScrollLeftForScrollToColumn(o.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):xN({cellSizeAndPositionManager:R.rowSizeAndPositionManager,previousCellsCount:r.rowCount,previousCellSize:r.rowHeight,previousScrollToAlignment:r.scrollToAlignment,previousScrollToIndex:r.scrollToRow,previousSize:r.height,scrollOffset:A,scrollToAlignment:x,scrollToIndex:c,size:v,sizeJustIncreasedFromZero:P,updateScrollIndexCallback:function(){return o._updateScrollTopForScrollToRow(o.props)}}),this._invokeOnGridRenderedHelper(),b!==a.scrollLeft||A!==a.scrollTop){var D=R.rowSizeAndPositionManager.getTotalSize(),F=R.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:b,scrollTop:A,totalColumnsWidth:F,totalRowsHeight:D})}this._maybeCallOnScrollbarPresenceChange()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&s0(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var r=this.props,a=r.autoContainerWidth,o=r.autoHeight,l=r.autoWidth,s=r.className,f=r.containerProps,h=r.containerRole,v=r.containerStyle,_=r.height,x=r.id,C=r.noContentRenderer,c=r.role,p=r.style,m=r.tabIndex,b=r.width,w=this.state,A=w.instanceProps,R=w.needToResetStyleCache,O=this._isScrolling(),P={boxSizing:"border-box",direction:"ltr",height:o?"auto":_,position:"relative",width:l?"auto":b,WebkitOverflowScrolling:"touch",willChange:"transform"};R&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var D=A.columnSizeAndPositionManager.getTotalSize(),F=A.rowSizeAndPositionManager.getTotalSize(),B=F>_?A.scrollbarSize:0,U=D>b?A.scrollbarSize:0;(U!==this._horizontalScrollBarSize||B!==this._verticalScrollBarSize)&&(this._horizontalScrollBarSize=U,this._verticalScrollBarSize=B,this._scrollbarPresenceChanged=!0),P.overflowX=D+B<=b?"hidden":"auto",P.overflowY=F+U<=_?"hidden":"auto";var V=this._childrenToDisplay,Q=V.length===0&&_>0&&b>0;return M.createElement("div",Nt({ref:this._setScrollingContainerRef},f,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:Lc("ReactVirtualized__Grid",s),id:x,onScroll:this._onScroll,role:c,style:Cs(Cs({},P),p),tabIndex:m}),V.length>0&&M.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:h,style:Cs({width:a?"auto":D,height:F,maxWidth:D,maxHeight:F,overflow:"hidden",pointerEvents:O?"none":"",position:"relative"},v)},V),Q&&C())}},{key:"_calculateChildrenToRender",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,o=r.cellRenderer,l=r.cellRangeRenderer,s=r.columnCount,f=r.deferredMeasurementCache,h=r.height,v=r.overscanColumnCount,_=r.overscanIndicesGetter,x=r.overscanRowCount,C=r.rowCount,c=r.width,p=r.isScrollingOptOut,m=a.scrollDirectionHorizontal,b=a.scrollDirectionVertical,w=a.instanceProps,A=this._initialScrollTop>0?this._initialScrollTop:a.scrollTop,R=this._initialScrollLeft>0?this._initialScrollLeft:a.scrollLeft,O=this._isScrolling(r,a);if(this._childrenToDisplay=[],h>0&&c>0){var P=w.columnSizeAndPositionManager.getVisibleCellRange({containerSize:c,offset:R}),D=w.rowSizeAndPositionManager.getVisibleCellRange({containerSize:h,offset:A}),F=w.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:c,offset:R}),B=w.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:h,offset:A});this._renderedColumnStartIndex=P.start,this._renderedColumnStopIndex=P.stop,this._renderedRowStartIndex=D.start,this._renderedRowStopIndex=D.stop;var U=_({direction:"horizontal",cellCount:s,overscanCellsCount:v,scrollDirection:m,startIndex:typeof P.start=="number"?P.start:0,stopIndex:typeof P.stop=="number"?P.stop:-1}),V=_({direction:"vertical",cellCount:C,overscanCellsCount:x,scrollDirection:b,startIndex:typeof D.start=="number"?D.start:0,stopIndex:typeof D.stop=="number"?D.stop:-1}),Q=U.overscanStartIndex,X=U.overscanStopIndex,ee=V.overscanStartIndex,ae=V.overscanStopIndex;if(f){if(!f.hasFixedHeight()){for(var Z=ee;Z<=ae;Z++)if(!f.has(Z,0)){Q=0,X=s-1;break}}if(!f.hasFixedWidth()){for(var K=Q;K<=X;K++)if(!f.has(0,K)){ee=0,ae=C-1;break}}}this._childrenToDisplay=l({cellCache:this._cellCache,cellRenderer:o,columnSizeAndPositionManager:w.columnSizeAndPositionManager,columnStartIndex:Q,columnStopIndex:X,deferredMeasurementCache:f,horizontalOffsetAdjustment:F,isScrolling:O,isScrollingOptOut:p,parent:this,rowSizeAndPositionManager:w.rowSizeAndPositionManager,rowStartIndex:ee,rowStopIndex:ae,scrollLeft:R,scrollTop:A,styleCache:this._styleCache,verticalOffsetAdjustment:B,visibleColumnIndices:P,visibleRowIndices:D}),this._columnStartIndex=Q,this._columnStopIndex=X,this._rowStartIndex=ee,this._rowStopIndex=ae}}},{key:"_debounceScrollEnded",value:function(){var r=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&s0(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=EI(this._debounceScrollEndedCallback,r)}},{key:"_handleInvalidatedGridSize",value:function(){if(typeof this._deferredInvalidateColumnIndex=="number"&&typeof this._deferredInvalidateRowIndex=="number"){var r=this._deferredInvalidateColumnIndex,a=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:r,rowIndex:a})}}},{key:"_invokeOnScrollMemoizer",value:function(r){var a=this,o=r.scrollLeft,l=r.scrollTop,s=r.totalColumnsWidth,f=r.totalRowsHeight;this._onScrollMemoizer({callback:function(v){var _=v.scrollLeft,x=v.scrollTop,C=a.props,c=C.height,p=C.onScroll,m=C.width;p({clientHeight:c,clientWidth:m,scrollHeight:f,scrollLeft:_,scrollTop:x,scrollWidth:s})},indices:{scrollLeft:o,scrollTop:l}})}},{key:"_isScrolling",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return Object.hasOwnProperty.call(r,"isScrolling")?!!r.isScrolling:!!a.isScrolling}},{key:"_maybeCallOnScrollbarPresenceChange",value:function(){if(this._scrollbarPresenceChanged){var r=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,r({horizontal:this._horizontalScrollBarSize>0,size:this.state.instanceProps.scrollbarSize,vertical:this._verticalScrollBarSize>0})}}},{key:"scrollToPosition",value:function(r){var a=r.scrollLeft,o=r.scrollTop,l=e._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:a,scrollTop:o});l&&(l.needToResetStyleCache=!1,this.setState(l))}},{key:"_getCalculatedScrollLeft",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return e._getCalculatedScrollLeft(r,a)}},{key:"_updateScrollLeftForScrollToColumn",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,o=e._getScrollLeftForScrollToColumnStateUpdate(r,a);o&&(o.needToResetStyleCache=!1,this.setState(o))}},{key:"_getCalculatedScrollTop",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return e._getCalculatedScrollTop(r,a)}},{key:"_resetStyleCache",value:function(){var r=this._styleCache,a=this._cellCache,o=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var l=this._rowStartIndex;l<=this._rowStopIndex;l++)for(var s=this._columnStartIndex;s<=this._columnStopIndex;s++){var f="".concat(l,"-").concat(s);this._styleCache[f]=r[f],o&&(this._cellCache[f]=a[f])}}},{key:"_updateScrollTopForScrollToRow",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,o=e._getScrollTopForScrollToRowStateUpdate(r,a);o&&(o.needToResetStyleCache=!1,this.setState(o))}}],[{key:"getDerivedStateFromProps",value:function(r,a){var o={};r.columnCount===0&&a.scrollLeft!==0||r.rowCount===0&&a.scrollTop!==0?(o.scrollLeft=0,o.scrollTop=0):(r.scrollLeft!==a.scrollLeft&&r.scrollToColumn<0||r.scrollTop!==a.scrollTop&&r.scrollToRow<0)&&Object.assign(o,e._getScrollToPositionStateUpdate({prevState:a,scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}));var l=a.instanceProps;o.needToResetStyleCache=!1,(r.columnWidth!==l.prevColumnWidth||r.rowHeight!==l.prevRowHeight)&&(o.needToResetStyleCache=!0),l.columnSizeAndPositionManager.configure({cellCount:r.columnCount,estimatedCellSize:e._getEstimatedColumnSize(r),cellSizeGetter:e._wrapSizeGetter(r.columnWidth)}),l.rowSizeAndPositionManager.configure({cellCount:r.rowCount,estimatedCellSize:e._getEstimatedRowSize(r),cellSizeGetter:e._wrapSizeGetter(r.rowHeight)}),(l.prevColumnCount===0||l.prevRowCount===0)&&(l.prevColumnCount=0,l.prevRowCount=0),r.autoHeight&&r.isScrolling===!1&&l.prevIsScrolling===!0&&Object.assign(o,{isScrolling:!1});var s,f;return _N({cellCount:l.prevColumnCount,cellSize:typeof l.prevColumnWidth=="number"?l.prevColumnWidth:null,computeMetadataCallback:function(){return l.columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:r,nextCellsCount:r.columnCount,nextCellSize:typeof r.columnWidth=="number"?r.columnWidth:null,nextScrollToIndex:r.scrollToColumn,scrollToIndex:l.prevScrollToColumn,updateScrollOffsetForScrollToIndex:function(){s=e._getScrollLeftForScrollToColumnStateUpdate(r,a)}}),_N({cellCount:l.prevRowCount,cellSize:typeof l.prevRowHeight=="number"?l.prevRowHeight:null,computeMetadataCallback:function(){return l.rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:r,nextCellsCount:r.rowCount,nextCellSize:typeof r.rowHeight=="number"?r.rowHeight:null,nextScrollToIndex:r.scrollToRow,scrollToIndex:l.prevScrollToRow,updateScrollOffsetForScrollToIndex:function(){f=e._getScrollTopForScrollToRowStateUpdate(r,a)}}),l.prevColumnCount=r.columnCount,l.prevColumnWidth=r.columnWidth,l.prevIsScrolling=r.isScrolling===!0,l.prevRowCount=r.rowCount,l.prevRowHeight=r.rowHeight,l.prevScrollToColumn=r.scrollToColumn,l.prevScrollToRow=r.scrollToRow,l.scrollbarSize=r.getScrollbarSize(),l.scrollbarSize===void 0?(l.scrollbarSizeMeasured=!1,l.scrollbarSize=0):l.scrollbarSizeMeasured=!0,o.instanceProps=l,Cs(Cs(Cs({},o),s),f)}},{key:"_getEstimatedColumnSize",value:function(r){return typeof r.columnWidth=="number"?r.columnWidth:r.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function(r){return typeof r.rowHeight=="number"?r.rowHeight:r.estimatedRowSize}},{key:"_getScrollToPositionStateUpdate",value:function(r){var a=r.prevState,o=r.scrollLeft,l=r.scrollTop,s={scrollPositionChangeReason:MA.REQUESTED};return typeof o=="number"&&o>=0&&(s.scrollDirectionHorizontal=o>a.scrollLeft?Yf:o1,s.scrollLeft=o),typeof l=="number"&&l>=0&&(s.scrollDirectionVertical=l>a.scrollTop?Yf:o1,s.scrollTop=l),typeof o=="number"&&o>=0&&o!==a.scrollLeft||typeof l=="number"&&l>=0&&l!==a.scrollTop?s:{}}},{key:"_wrapSizeGetter",value:function(r){return typeof r=="function"?r:function(){return r}}},{key:"_getCalculatedScrollLeft",value:function(r,a){var o=r.columnCount,l=r.height,s=r.scrollToAlignment,f=r.scrollToColumn,h=r.width,v=a.scrollLeft,_=a.instanceProps;if(o>0){var x=o-1,C=f<0?x:Math.min(x,f),c=_.rowSizeAndPositionManager.getTotalSize(),p=_.scrollbarSizeMeasured&&c>l?_.scrollbarSize:0;return _.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:s,containerSize:h-p,currentOffset:v,targetIndex:C})}return 0}},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:function(r,a){var o=a.scrollLeft,l=e._getCalculatedScrollLeft(r,a);return typeof l=="number"&&l>=0&&o!==l?e._getScrollToPositionStateUpdate({prevState:a,scrollLeft:l,scrollTop:-1}):{}}},{key:"_getCalculatedScrollTop",value:function(r,a){var o=r.height,l=r.rowCount,s=r.scrollToAlignment,f=r.scrollToRow,h=r.width,v=a.scrollTop,_=a.instanceProps;if(l>0){var x=l-1,C=f<0?x:Math.min(x,f),c=_.columnSizeAndPositionManager.getTotalSize(),p=_.scrollbarSizeMeasured&&c>h?_.scrollbarSize:0;return _.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:s,containerSize:o-p,currentOffset:v,targetIndex:C})}return 0}},{key:"_getScrollTopForScrollToRowStateUpdate",value:function(r,a){var o=a.scrollTop,l=e._getCalculatedScrollTop(r,a);return typeof l=="number"&&l>=0&&o!==l?e._getScrollToPositionStateUpdate({prevState:a,scrollLeft:-1,scrollTop:l}):{}}}])}(M.PureComponent);de(ju,"defaultProps",{"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:ape,containerRole:"row",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:CR,noContentRenderer:fpe,onScroll:function(){},onScrollbarPresenceChange:function(){},onSectionRendered:function(){},overscanColumnCount:0,overscanIndicesGetter:rpe,overscanRowCount:10,role:"grid",scrollingResetTimeInterval:upe,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1});N_(ju);var dpe=1;function rH(n){var e=n.cellCount,t=n.overscanCellsCount,r=n.scrollDirection,a=n.startIndex,o=n.stopIndex;return t=Math.max(1,t),r===dpe?{overscanStartIndex:Math.max(0,a-1),overscanStopIndex:Math.min(e-1,o+t)}:{overscanStartIndex:Math.max(0,a-t),overscanStopIndex:Math.min(e-1,o+1)}}function hpe(n,e,t){return e=Li(e),No(n,aH()?Reflect.construct(e,t||[],Li(n).constructor):e.apply(n,t))}function aH(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aH=function(){return!!n})()}var oH=function(n){function e(t,r){var a;return si(this,e),a=hpe(this,e,[t,r]),a._loadMoreRowsMemoizer=o0(),a._onRowsRendered=a._onRowsRendered.bind(a),a._registerChild=a._registerChild.bind(a),a}return Ar(e,n),li(e,[{key:"resetLoadMoreRowsCache",value:function(r){this._loadMoreRowsMemoizer=o0(),r&&this._doStuff(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"render",value:function(){var r=this.props.children;return r({onRowsRendered:this._onRowsRendered,registerChild:this._registerChild})}},{key:"_loadUnloadedRanges",value:function(r){var a=this,o=this.props.loadMoreRows;r.forEach(function(l){var s=o(l);s&&s.then(function(){ppe({lastRenderedStartIndex:a._lastRenderedStartIndex,lastRenderedStopIndex:a._lastRenderedStopIndex,startIndex:l.startIndex,stopIndex:l.stopIndex})&&a._registeredChild&&gpe(a._registeredChild,a._lastRenderedStartIndex)})})}},{key:"_onRowsRendered",value:function(r){var a=r.startIndex,o=r.stopIndex;this._lastRenderedStartIndex=a,this._lastRenderedStopIndex=o,this._doStuff(a,o)}},{key:"_doStuff",value:function(r,a){var o,l=this,s=this.props,f=s.isRowLoaded,h=s.minimumBatchSize,v=s.rowCount,_=s.threshold,x=mpe({isRowLoaded:f,minimumBatchSize:h,rowCount:v,startIndex:Math.max(0,r-_),stopIndex:Math.min(v-1,a+_)}),C=(o=[]).concat.apply(o,Qt(x.map(function(c){var p=c.startIndex,m=c.stopIndex;return[p,m]})));this._loadMoreRowsMemoizer({callback:function(){l._loadUnloadedRanges(x)},indices:{squashedUnloadedRanges:C}})}},{key:"_registerChild",value:function(r){this._registeredChild=r}}])}(M.PureComponent);de(oH,"defaultProps",{minimumBatchSize:10,rowCount:0,threshold:15});oH.propTypes={};function ppe(n){var e=n.lastRenderedStartIndex,t=n.lastRenderedStopIndex,r=n.startIndex,a=n.stopIndex;return!(r>t||a<e)}function mpe(n){for(var e=n.isRowLoaded,t=n.minimumBatchSize,r=n.rowCount,a=n.startIndex,o=n.stopIndex,l=[],s=null,f=null,h=a;h<=o;h++){var v=e({index:h});v?f!==null&&(l.push({startIndex:s,stopIndex:f}),s=f=null):(f=h,s===null&&(s=h))}if(f!==null){for(var _=Math.min(Math.max(f,s+t-1),r-1),x=f+1;x<=_&&!e({index:x});x++)f=x;l.push({startIndex:s,stopIndex:f})}if(l.length)for(var C=l[0];C.stopIndex-C.startIndex+1<t&&C.startIndex>0;){var c=C.startIndex-1;if(!e({index:c}))C.startIndex=c;else break}return l}function gpe(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=typeof n.recomputeGridSize=="function"?n.recomputeGridSize:n.recomputeRowHeights;t?t.call(n,e):n.forceUpdate()}function vpe(n,e,t){return e=Li(e),No(n,sH()?Reflect.construct(e,t||[],Li(n).constructor):e.apply(n,t))}function sH(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sH=function(){return!!n})()}var ype=function(n){function e(){var t;si(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=vpe(this,e,[].concat(a)),de(t,"Grid",void 0),de(t,"_cellRenderer",function(l){var s=l.parent,f=l.rowIndex,h=l.style,v=l.isScrolling,_=l.isVisible,x=l.key,C=t.props.rowRenderer,c=Object.getOwnPropertyDescriptor(h,"width");return c&&c.writable&&(h.width="100%"),C({index:f,style:h,isScrolling:v,isVisible:_,key:x,parent:s})}),de(t,"_setRef",function(l){t.Grid=l}),de(t,"_onScroll",function(l){var s=l.clientHeight,f=l.scrollHeight,h=l.scrollTop,v=t.props.onScroll;v({clientHeight:s,scrollHeight:f,scrollTop:h})}),de(t,"_onSectionRendered",function(l){var s=l.rowOverscanStartIndex,f=l.rowOverscanStopIndex,h=l.rowStartIndex,v=l.rowStopIndex,_=t.props.onRowsRendered;_({overscanStartIndex:s,overscanStopIndex:f,startIndex:h,stopIndex:v})}),t}return Ar(e,n),li(e,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(r){var a=r.alignment,o=r.index;if(this.Grid){var l=this.Grid.getOffsetForCell({alignment:a,rowIndex:o,columnIndex:0}),s=l.scrollTop;return s}return 0}},{key:"invalidateCellSizeAfterRender",value:function(r){var a=r.columnIndex,o=r.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:o,columnIndex:a})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=r.columnIndex,o=a===void 0?0:a,l=r.rowIndex,s=l===void 0?0:l;this.Grid&&this.Grid.recomputeGridSize({rowIndex:s,columnIndex:o})}},{key:"recomputeRowHeights",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:r,columnIndex:0})}},{key:"scrollToPosition",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:r})}},{key:"scrollToRow",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:r})}},{key:"render",value:function(){var r=this.props,a=r.className,o=r.noRowsRenderer,l=r.scrollToIndex,s=r.width,f=Lc("ReactVirtualized__List",a);return M.createElement(ju,Nt({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:f,columnWidth:s,columnCount:1,noContentRenderer:o,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:l}))}}])}(M.PureComponent);de(ype,"defaultProps",{autoHeight:!1,estimatedRowSize:30,onScroll:function(){},noRowsRenderer:function(){return null},onRowsRendered:function(){},overscanIndicesGetter:rH,overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,style:{}});function bpe(n,e,t,r){for(var a=t+1;e<=t;){var o=e+t>>>1,l=n[o];l>=r?(a=o,t=o-1):e=o+1}return a}function _pe(n,e,t,r,a){for(var o=t+1;e<=t;){var l=e+t>>>1,s=n[l];a(s,r)>=0?(o=l,t=l-1):e=l+1}return o}function Spe(n,e,t,r,a){return typeof t=="function"?_pe(n,r===void 0?0:r|0,a===void 0?n.length-1:a|0,e,t):bpe(n,t===void 0?0:t|0,r===void 0?n.length-1:r|0,e)}function xpe(n,e,t,r){for(var a=t+1;e<=t;){var o=e+t>>>1,l=n[o];l>r?(a=o,t=o-1):e=o+1}return a}function wpe(n,e,t,r,a){for(var o=t+1;e<=t;){var l=e+t>>>1,s=n[l];a(s,r)>0?(o=l,t=l-1):e=l+1}return o}function Cpe(n,e,t,r,a){return typeof t=="function"?wpe(n,r===void 0?0:r|0,a===void 0?n.length-1:a|0,e,t):xpe(n,t===void 0?0:t|0,r===void 0?n.length-1:r|0,e)}function Epe(n,e,t,r){for(var a=e-1;e<=t;){var o=e+t>>>1,l=n[o];l<r?(a=o,e=o+1):t=o-1}return a}function Mpe(n,e,t,r,a){for(var o=e-1;e<=t;){var l=e+t>>>1,s=n[l];a(s,r)<0?(o=l,e=l+1):t=l-1}return o}function Tpe(n,e,t,r,a){return typeof t=="function"?Mpe(n,r===void 0?0:r|0,a===void 0?n.length-1:a|0,e,t):Epe(n,t===void 0?0:t|0,r===void 0?n.length-1:r|0,e)}function Ape(n,e,t,r){for(var a=e-1;e<=t;){var o=e+t>>>1,l=n[o];l<=r?(a=o,e=o+1):t=o-1}return a}function Rpe(n,e,t,r,a){for(var o=e-1;e<=t;){var l=e+t>>>1,s=n[l];a(s,r)<=0?(o=l,e=l+1):t=l-1}return o}function Ope(n,e,t,r,a){return typeof t=="function"?Rpe(n,r===void 0?0:r|0,a===void 0?n.length-1:a|0,e,t):Ape(n,t===void 0?0:t|0,r===void 0?n.length-1:r|0,e)}function Ipe(n,e,t,r){for(;e<=t;){var a=e+t>>>1,o=n[a];if(o===r)return a;o<=r?e=a+1:t=a-1}return-1}function zpe(n,e,t,r,a){for(;e<=t;){var o=e+t>>>1,l=n[o],s=a(l,r);if(s===0)return o;s<=0?e=o+1:t=o-1}return-1}function Ppe(n,e,t,r,a){return typeof t=="function"?zpe(n,r===void 0?0:r|0,a===void 0?n.length-1:a|0,e,t):Ipe(n,t===void 0?0:t|0,r===void 0?n.length-1:r|0,e)}const MC={ge:Spe,gt:Cpe,lt:Tpe,le:Ope,eq:Ppe};var Lv=0,Kp=1,ow=2;function MI(n,e,t,r,a){this.mid=n,this.left=e,this.right=t,this.leftPoints=r,this.rightPoints=a,this.count=(e?e.count:0)+(t?t.count:0)+r.length}var U_=MI.prototype;function TA(n,e){n.mid=e.mid,n.left=e.left,n.right=e.right,n.leftPoints=e.leftPoints,n.rightPoints=e.rightPoints,n.count=e.count}function lH(n,e){var t=s_(e);n.mid=t.mid,n.left=t.left,n.right=t.right,n.leftPoints=t.leftPoints,n.rightPoints=t.rightPoints,n.count=t.count}function EN(n,e){var t=n.intervals([]);t.push(e),lH(n,t)}function MN(n,e){var t=n.intervals([]),r=t.indexOf(e);return r<0?Lv:(t.splice(r,1),lH(n,t),Kp)}U_.intervals=function(n){return n.push.apply(n,this.leftPoints),this.left&&this.left.intervals(n),this.right&&this.right.intervals(n),n};U_.insert=function(n){var e=this.count-this.leftPoints.length;if(this.count+=1,n[1]<this.mid)this.left?4*(this.left.count+1)>3*(e+1)?EN(this,n):this.left.insert(n):this.left=s_([n]);else if(n[0]>this.mid)this.right?4*(this.right.count+1)>3*(e+1)?EN(this,n):this.right.insert(n):this.right=s_([n]);else{var t=MC.ge(this.leftPoints,n,TI),r=MC.ge(this.rightPoints,n,AI);this.leftPoints.splice(t,0,n),this.rightPoints.splice(r,0,n)}};U_.remove=function(n){var e=this.count-this.leftPoints;if(n[1]<this.mid){if(!this.left)return Lv;var t=this.right?this.right.count:0;if(4*t>3*(e-1))return MN(this,n);var r=this.left.remove(n);return r===ow?(this.left=null,this.count-=1,Kp):(r===Kp&&(this.count-=1),r)}else if(n[0]>this.mid){if(!this.right)return Lv;var a=this.left?this.left.count:0;if(4*a>3*(e-1))return MN(this,n);var r=this.right.remove(n);return r===ow?(this.right=null,this.count-=1,Kp):(r===Kp&&(this.count-=1),r)}else{if(this.count===1)return this.leftPoints[0]===n?ow:Lv;if(this.leftPoints.length===1&&this.leftPoints[0]===n){if(this.left&&this.right){for(var o=this,l=this.left;l.right;)o=l,l=l.right;if(o===this)l.right=this.right;else{var s=this.left,r=this.right;o.count-=l.count,o.right=l.left,l.left=s,l.right=r}TA(this,l),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?TA(this,this.left):TA(this,this.right);return Kp}for(var s=MC.ge(this.leftPoints,n,TI);s<this.leftPoints.length&&this.leftPoints[s][0]===n[0];++s)if(this.leftPoints[s]===n){this.count-=1,this.leftPoints.splice(s,1);for(var r=MC.ge(this.rightPoints,n,AI);r<this.rightPoints.length&&this.rightPoints[r][1]===n[1];++r)if(this.rightPoints[r]===n)return this.rightPoints.splice(r,1),Kp}return Lv}};function cH(n,e,t){for(var r=0;r<n.length&&n[r][0]<=e;++r){var a=t(n[r]);if(a)return a}}function uH(n,e,t){for(var r=n.length-1;r>=0&&n[r][1]>=e;--r){var a=t(n[r]);if(a)return a}}function fH(n,e){for(var t=0;t<n.length;++t){var r=e(n[t]);if(r)return r}}U_.queryPoint=function(n,e){if(n<this.mid){if(this.left){var t=this.left.queryPoint(n,e);if(t)return t}return cH(this.leftPoints,n,e)}else if(n>this.mid){if(this.right){var t=this.right.queryPoint(n,e);if(t)return t}return uH(this.rightPoints,n,e)}else return fH(this.leftPoints,e)};U_.queryInterval=function(n,e,t){if(n<this.mid&&this.left){var r=this.left.queryInterval(n,e,t);if(r)return r}if(e>this.mid&&this.right){var r=this.right.queryInterval(n,e,t);if(r)return r}return e<this.mid?cH(this.leftPoints,e,t):n>this.mid?uH(this.rightPoints,n,t):fH(this.leftPoints,t)};function Dpe(n,e){return n-e}function TI(n,e){var t=n[0]-e[0];return t||n[1]-e[1]}function AI(n,e){var t=n[1]-e[1];return t||n[0]-e[0]}function s_(n){if(n.length===0)return null;for(var e=[],t=0;t<n.length;++t)e.push(n[t][0],n[t][1]);e.sort(Dpe);for(var r=e[e.length>>1],a=[],o=[],l=[],t=0;t<n.length;++t){var s=n[t];s[1]<r?a.push(s):r<s[0]?o.push(s):l.push(s)}var f=l,h=l.slice();return f.sort(TI),h.sort(AI),new MI(r,s_(a),s_(o),f,h)}function dH(n){this.root=n}var w0=dH.prototype;w0.insert=function(n){this.root?this.root.insert(n):this.root=new MI(n[0],null,null,[n],[n])};w0.remove=function(n){if(this.root){var e=this.root.remove(n);return e===ow&&(this.root=null),e!==Lv}return!1};w0.queryPoint=function(n,e){if(this.root)return this.root.queryPoint(n,e)};w0.queryInterval=function(n,e,t){if(n<=e&&this.root)return this.root.queryInterval(n,e,t)};Object.defineProperty(w0,"count",{get:function(){return this.root?this.root.count:0}});Object.defineProperty(w0,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function Lpe(n){return new dH(null)}var AA=function(){function n(){si(this,n),de(this,"_columnSizeMap",{}),de(this,"_intervalTree",Lpe()),de(this,"_leftMap",{})}return li(n,[{key:"estimateTotalHeight",value:function(t,r,a){var o=t-this.count;return this.tallestColumnSize+Math.ceil(o/r)*a}},{key:"range",value:function(t,r,a){var o=this;this._intervalTree.queryInterval(t,t+r,function(l){var s=yt(l,3),f=s[0];s[1];var h=s[2];return a(h,o._leftMap[h],f)})}},{key:"setPosition",value:function(t,r,a,o){this._intervalTree.insert([a,a+o,t]),this._leftMap[t]=r;var l=this._columnSizeMap,s=l[r];s===void 0?l[r]=a+o:l[r]=Math.max(s,a+o)}},{key:"count",get:function(){return this._intervalTree.count}},{key:"shortestColumnSize",get:function(){var t=this._columnSizeMap,r=0;for(var a in t){var o=t[a];r=r===0?o:Math.min(r,o)}return r}},{key:"tallestColumnSize",get:function(){var t=this._columnSizeMap,r=0;for(var a in t){var o=t[a];r=Math.max(r,o)}return r}}])}();function TN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function Npe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?TN(Object(t),!0).forEach(function(r){de(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):TN(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Upe(n,e,t){return e=Li(e),No(n,hH()?Reflect.construct(e,t||[],Li(n).constructor):e.apply(n,t))}function hH(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hH=function(){return!!n})()}var Bpe={},Fpe=150,pH=function(n){function e(){var t;si(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=Upe(this,e,[].concat(a)),de(t,"state",{isScrolling:!1,scrollTop:0}),de(t,"_debounceResetIsScrollingId",void 0),de(t,"_invalidateOnUpdateStartIndex",null),de(t,"_invalidateOnUpdateStopIndex",null),de(t,"_positionCache",new AA),de(t,"_startIndex",null),de(t,"_startIndexMemoized",null),de(t,"_stopIndex",null),de(t,"_stopIndexMemoized",null),de(t,"_debounceResetIsScrollingCallback",function(){t.setState({isScrolling:!1})}),de(t,"_setScrollingContainerRef",function(l){t._scrollingContainer=l}),de(t,"_onScroll",function(l){var s=t.props.height,f=l.currentTarget.scrollTop,h=Math.min(Math.max(0,t._getEstimatedTotalHeight()-s),f);f===h&&(t._debounceResetIsScrolling(),t.state.scrollTop!==h&&t.setState({isScrolling:!0,scrollTop:h}))}),t}return Ar(e,n),li(e,[{key:"clearCellPositions",value:function(){this._positionCache=new AA,this.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(r){var a=r.rowIndex;this._invalidateOnUpdateStartIndex===null?(this._invalidateOnUpdateStartIndex=a,this._invalidateOnUpdateStopIndex=a):(this._invalidateOnUpdateStartIndex=Math.min(this._invalidateOnUpdateStartIndex,a),this._invalidateOnUpdateStopIndex=Math.max(this._invalidateOnUpdateStopIndex,a))}},{key:"recomputeCellPositions",value:function(){var r=this._positionCache.count-1;this._positionCache=new AA,this._populatePositionCache(0,r),this.forceUpdate()}},{key:"componentDidMount",value:function(){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback()}},{key:"componentDidUpdate",value:function(r,a){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback(),this.props.scrollTop!==r.scrollTop&&this._debounceResetIsScrolling()}},{key:"componentWillUnmount",value:function(){this._debounceResetIsScrollingId&&s0(this._debounceResetIsScrollingId)}},{key:"render",value:function(){var r=this,a=this.props,o=a.autoHeight,l=a.cellCount,s=a.cellMeasurerCache,f=a.cellRenderer,h=a.className,v=a.height,_=a.id,x=a.keyMapper,C=a.overscanByPixels,c=a.role,p=a.style,m=a.tabIndex,b=a.width,w=a.rowDirection,A=this.state,R=A.isScrolling,O=A.scrollTop,P=[],D=this._getEstimatedTotalHeight(),F=this._positionCache.shortestColumnSize,B=this._positionCache.count,U=0,V;if(this._positionCache.range(Math.max(0,O-C),v+C*2,function(ee,ae,Z){typeof V>"u"?(U=ee,V=ee):(U=Math.min(U,ee),V=Math.max(V,ee)),P.push(f({index:ee,isScrolling:R,key:x(ee),parent:r,style:de(de(de(de({height:s.getHeight(ee)},w==="ltr"?"left":"right",ae),"position","absolute"),"top",Z),"width",s.getWidth(ee))}))}),F<O+v+C&&B<l)for(var Q=Math.min(l-B,Math.ceil((O+v+C-F)/s.defaultHeight*b/s.defaultWidth)),X=B;X<B+Q;X++)V=X,P.push(f({index:X,isScrolling:R,key:x(X),parent:this,style:{width:s.getWidth(X)}}));return this._startIndex=U,this._stopIndex=V,M.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:Lc("ReactVirtualized__Masonry",h),id:_,onScroll:this._onScroll,role:c,style:Npe({boxSizing:"border-box",direction:"ltr",height:o?"auto":v,overflowX:"hidden",overflowY:D<v?"hidden":"auto",position:"relative",width:b,WebkitOverflowScrolling:"touch",willChange:"transform"},p),tabIndex:m},M.createElement("div",{className:"ReactVirtualized__Masonry__innerScrollContainer",style:{width:"100%",height:D,maxWidth:"100%",maxHeight:D,overflow:"hidden",pointerEvents:R?"none":"",position:"relative"}},P))}},{key:"_checkInvalidateOnUpdate",value:function(){if(typeof this._invalidateOnUpdateStartIndex=="number"){var r=this._invalidateOnUpdateStartIndex,a=this._invalidateOnUpdateStopIndex;this._invalidateOnUpdateStartIndex=null,this._invalidateOnUpdateStopIndex=null,this._populatePositionCache(r,a),this.forceUpdate()}}},{key:"_debounceResetIsScrolling",value:function(){var r=this.props.scrollingResetTimeInterval;this._debounceResetIsScrollingId&&s0(this._debounceResetIsScrollingId),this._debounceResetIsScrollingId=EI(this._debounceResetIsScrollingCallback,r)}},{key:"_getEstimatedTotalHeight",value:function(){var r=this.props,a=r.cellCount,o=r.cellMeasurerCache,l=r.width,s=Math.max(1,Math.floor(l/o.defaultWidth));return this._positionCache.estimateTotalHeight(a,s,o.defaultHeight)}},{key:"_invokeOnScrollCallback",value:function(){var r=this.props,a=r.height,o=r.onScroll,l=this.state.scrollTop;this._onScrollMemoized!==l&&(o({clientHeight:a,scrollHeight:this._getEstimatedTotalHeight(),scrollTop:l}),this._onScrollMemoized=l)}},{key:"_invokeOnCellsRenderedCallback",value:function(){if(this._startIndexMemoized!==this._startIndex||this._stopIndexMemoized!==this._stopIndex){var r=this.props.onCellsRendered;r({startIndex:this._startIndex,stopIndex:this._stopIndex}),this._startIndexMemoized=this._startIndex,this._stopIndexMemoized=this._stopIndex}}},{key:"_populatePositionCache",value:function(r,a){for(var o=this.props,l=o.cellMeasurerCache,s=o.cellPositioner,f=r;f<=a;f++){var h=s(f),v=h.left,_=h.top;this._positionCache.setPosition(f,v,_,l.getHeight(f))}}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.scrollTop!==void 0&&a.scrollTop!==r.scrollTop?{isScrolling:!0,scrollTop:r.scrollTop}:null}}])}(M.PureComponent);de(pH,"defaultProps",{autoHeight:!1,keyMapper:Hpe,onCellsRendered:AN,onScroll:AN,overscanByPixels:20,role:"grid",scrollingResetTimeInterval:Fpe,style:Bpe,tabIndex:0,rowDirection:"ltr"});function Hpe(n){return n}function AN(){}N_(pH);var RA=function(){function n(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};si(this,n),de(this,"_cellMeasurerCache",void 0),de(this,"_columnIndexOffset",void 0),de(this,"_rowIndexOffset",void 0),de(this,"columnWidth",function(f){var h=f.index;e._cellMeasurerCache.columnWidth({index:h+e._columnIndexOffset})}),de(this,"rowHeight",function(f){var h=f.index;e._cellMeasurerCache.rowHeight({index:h+e._rowIndexOffset})});var r=t.cellMeasurerCache,a=t.columnIndexOffset,o=a===void 0?0:a,l=t.rowIndexOffset,s=l===void 0?0:l;this._cellMeasurerCache=r,this._columnIndexOffset=o,this._rowIndexOffset=s}return li(n,[{key:"clear",value:function(t,r){this._cellMeasurerCache.clear(t+this._rowIndexOffset,r+this._columnIndexOffset)}},{key:"clearAll",value:function(){this._cellMeasurerCache.clearAll()}},{key:"defaultHeight",get:function(){return this._cellMeasurerCache.defaultHeight}},{key:"defaultWidth",get:function(){return this._cellMeasurerCache.defaultWidth}},{key:"hasFixedHeight",value:function(){return this._cellMeasurerCache.hasFixedHeight()}},{key:"hasFixedWidth",value:function(){return this._cellMeasurerCache.hasFixedWidth()}},{key:"getHeight",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.getHeight(t+this._rowIndexOffset,r+this._columnIndexOffset)}},{key:"getWidth",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.getWidth(t+this._rowIndexOffset,r+this._columnIndexOffset)}},{key:"has",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.has(t+this._rowIndexOffset,r+this._columnIndexOffset)}},{key:"set",value:function(t,r,a,o){this._cellMeasurerCache.set(t+this._rowIndexOffset,r+this._columnIndexOffset,a,o)}}])}(),kpe=["rowIndex"],$pe=["columnIndex","rowIndex"],Vpe=["columnIndex"],Gpe=["onScroll","onSectionRendered","onScrollbarPresenceChange","scrollLeft","scrollToColumn","scrollTop","scrollToRow"];function RN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function _r(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?RN(Object(t),!0).forEach(function(r){de(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):RN(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function jpe(n,e,t){return e=Li(e),No(n,mH()?Reflect.construct(e,t||[],Li(n).constructor):e.apply(n,t))}function mH(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mH=function(){return!!n})()}var ON=20,RI=function(n){function e(t,r){var a;si(this,e),a=jpe(this,e,[t,r]),de(a,"state",{scrollLeft:0,scrollTop:0,scrollbarSize:0,showHorizontalScrollbar:!1,showVerticalScrollbar:!1}),de(a,"_deferredInvalidateColumnIndex",null),de(a,"_deferredInvalidateRowIndex",null),de(a,"_bottomLeftGridRef",function(f){a._bottomLeftGrid=f}),de(a,"_bottomRightGridRef",function(f){a._bottomRightGrid=f}),de(a,"_cellRendererBottomLeftGrid",function(f){var h=f.rowIndex,v=jn(f,kpe),_=a.props,x=_.cellRenderer,C=_.fixedRowCount,c=_.rowCount;return h===c-C?M.createElement("div",{key:v.key,style:_r(_r({},v.style),{},{height:ON})}):x(_r(_r({},v),{},{parent:a,rowIndex:h+C}))}),de(a,"_cellRendererBottomRightGrid",function(f){var h=f.columnIndex,v=f.rowIndex,_=jn(f,$pe),x=a.props,C=x.cellRenderer,c=x.fixedColumnCount,p=x.fixedRowCount;return C(_r(_r({},_),{},{columnIndex:h+c,parent:a,rowIndex:v+p}))}),de(a,"_cellRendererTopRightGrid",function(f){var h=f.columnIndex,v=jn(f,Vpe),_=a.props,x=_.cellRenderer,C=_.columnCount,c=_.fixedColumnCount;return h===C-c?M.createElement("div",{key:v.key,style:_r(_r({},v.style),{},{width:ON})}):x(_r(_r({},v),{},{columnIndex:h+c,parent:a}))}),de(a,"_columnWidthRightGrid",function(f){var h=f.index,v=a.props,_=v.columnCount,x=v.fixedColumnCount,C=v.columnWidth,c=a.state,p=c.scrollbarSize,m=c.showHorizontalScrollbar;return m&&h===_-x?p:typeof C=="function"?C({index:h+x}):C}),de(a,"_onScroll",function(f){var h=f.scrollLeft,v=f.scrollTop;a.setState({scrollLeft:h,scrollTop:v});var _=a.props.onScroll;_&&_(f)}),de(a,"_onScrollbarPresenceChange",function(f){var h=f.horizontal,v=f.size,_=f.vertical,x=a.state,C=x.showHorizontalScrollbar,c=x.showVerticalScrollbar;if(h!==C||_!==c){a.setState({scrollbarSize:v,showHorizontalScrollbar:h,showVerticalScrollbar:_});var p=a.props.onScrollbarPresenceChange;typeof p=="function"&&p({horizontal:h,size:v,vertical:_})}}),de(a,"_onScrollLeft",function(f){var h=f.scrollLeft;a._onScroll({scrollLeft:h,scrollTop:a.state.scrollTop})}),de(a,"_onScrollTop",function(f){var h=f.scrollTop;a._onScroll({scrollTop:h,scrollLeft:a.state.scrollLeft})}),de(a,"_rowHeightBottomGrid",function(f){var h=f.index,v=a.props,_=v.fixedRowCount,x=v.rowCount,C=v.rowHeight,c=a.state,p=c.scrollbarSize,m=c.showVerticalScrollbar;return m&&h===x-_?p:typeof C=="function"?C({index:h+_}):C}),de(a,"_topLeftGridRef",function(f){a._topLeftGrid=f}),de(a,"_topRightGridRef",function(f){a._topRightGrid=f});var o=t.deferredMeasurementCache,l=t.fixedColumnCount,s=t.fixedRowCount;return a._maybeCalculateCachedStyles(!0),o&&(a._deferredMeasurementCacheBottomLeftGrid=s>0?new RA({cellMeasurerCache:o,columnIndexOffset:0,rowIndexOffset:s}):o,a._deferredMeasurementCacheBottomRightGrid=l>0||s>0?new RA({cellMeasurerCache:o,columnIndexOffset:l,rowIndexOffset:s}):o,a._deferredMeasurementCacheTopRightGrid=l>0?new RA({cellMeasurerCache:o,columnIndexOffset:l,rowIndexOffset:0}):o),a}return Ar(e,n),li(e,[{key:"forceUpdateGrids",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.forceUpdate(),this._bottomRightGrid&&this._bottomRightGrid.forceUpdate(),this._topLeftGrid&&this._topLeftGrid.forceUpdate(),this._topRightGrid&&this._topRightGrid.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=r.columnIndex,o=a===void 0?0:a,l=r.rowIndex,s=l===void 0?0:l;this._deferredInvalidateColumnIndex=typeof this._deferredInvalidateColumnIndex=="number"?Math.min(this._deferredInvalidateColumnIndex,o):o,this._deferredInvalidateRowIndex=typeof this._deferredInvalidateRowIndex=="number"?Math.min(this._deferredInvalidateRowIndex,s):s}},{key:"measureAllCells",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.measureAllCells(),this._bottomRightGrid&&this._bottomRightGrid.measureAllCells(),this._topLeftGrid&&this._topLeftGrid.measureAllCells(),this._topRightGrid&&this._topRightGrid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=r.columnIndex,o=a===void 0?0:a,l=r.rowIndex,s=l===void 0?0:l,f=this.props,h=f.fixedColumnCount,v=f.fixedRowCount,_=Math.max(0,o-h),x=Math.max(0,s-v);this._bottomLeftGrid&&this._bottomLeftGrid.recomputeGridSize({columnIndex:o,rowIndex:x}),this._bottomRightGrid&&this._bottomRightGrid.recomputeGridSize({columnIndex:_,rowIndex:x}),this._topLeftGrid&&this._topLeftGrid.recomputeGridSize({columnIndex:o,rowIndex:s}),this._topRightGrid&&this._topRightGrid.recomputeGridSize({columnIndex:_,rowIndex:s}),this._leftGridWidth=null,this._topGridHeight=null,this._maybeCalculateCachedStyles(!0)}},{key:"componentDidMount",value:function(){var r=this.props,a=r.scrollLeft,o=r.scrollTop;if(a>0||o>0){var l={};a>0&&(l.scrollLeft=a),o>0&&(l.scrollTop=o),this.setState(l)}this._handleInvalidatedGridSize()}},{key:"componentDidUpdate",value:function(){this._handleInvalidatedGridSize()}},{key:"render",value:function(){var r=this.props,a=r.onScroll,o=r.onSectionRendered;r.onScrollbarPresenceChange,r.scrollLeft;var l=r.scrollToColumn;r.scrollTop;var s=r.scrollToRow,f=jn(r,Gpe);if(this._prepareForRender(),this.props.width===0||this.props.height===0)return null;var h=this.state,v=h.scrollLeft,_=h.scrollTop;return M.createElement("div",{style:this._containerOuterStyle},M.createElement("div",{style:this._containerTopStyle},this._renderTopLeftGrid(f),this._renderTopRightGrid(_r(_r({},f),{},{onScroll:a,scrollLeft:v}))),M.createElement("div",{style:this._containerBottomStyle},this._renderBottomLeftGrid(_r(_r({},f),{},{onScroll:a,scrollTop:_})),this._renderBottomRightGrid(_r(_r({},f),{},{onScroll:a,onSectionRendered:o,scrollLeft:v,scrollToColumn:l,scrollToRow:s,scrollTop:_}))))}},{key:"_getBottomGridHeight",value:function(r){var a=r.height,o=this._getTopGridHeight(r);return a-o}},{key:"_getLeftGridWidth",value:function(r){var a=r.fixedColumnCount,o=r.columnWidth;if(this._leftGridWidth==null)if(typeof o=="function"){for(var l=0,s=0;s<a;s++)l+=o({index:s});this._leftGridWidth=l}else this._leftGridWidth=o*a;return this._leftGridWidth}},{key:"_getRightGridWidth",value:function(r){var a=r.width,o=this._getLeftGridWidth(r);return a-o}},{key:"_getTopGridHeight",value:function(r){var a=r.fixedRowCount,o=r.rowHeight;if(this._topGridHeight==null)if(typeof o=="function"){for(var l=0,s=0;s<a;s++)l+=o({index:s});this._topGridHeight=l}else this._topGridHeight=o*a;return this._topGridHeight}},{key:"_handleInvalidatedGridSize",value:function(){if(typeof this._deferredInvalidateColumnIndex=="number"){var r=this._deferredInvalidateColumnIndex,a=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:r,rowIndex:a}),this.forceUpdate()}}},{key:"_maybeCalculateCachedStyles",value:function(r){var a=this.props,o=a.columnWidth,l=a.enableFixedColumnScroll,s=a.enableFixedRowScroll,f=a.height,h=a.fixedColumnCount,v=a.fixedRowCount,_=a.rowHeight,x=a.style,C=a.styleBottomLeftGrid,c=a.styleBottomRightGrid,p=a.styleTopLeftGrid,m=a.styleTopRightGrid,b=a.width,w=r||f!==this._lastRenderedHeight||b!==this._lastRenderedWidth,A=r||o!==this._lastRenderedColumnWidth||h!==this._lastRenderedFixedColumnCount,R=r||v!==this._lastRenderedFixedRowCount||_!==this._lastRenderedRowHeight;(r||w||x!==this._lastRenderedStyle)&&(this._containerOuterStyle=_r({height:f,overflow:"visible",width:b},x)),(r||w||R)&&(this._containerTopStyle={height:this._getTopGridHeight(this.props),position:"relative",width:b},this._containerBottomStyle={height:f-this._getTopGridHeight(this.props),overflow:"visible",position:"relative",width:b}),(r||C!==this._lastRenderedStyleBottomLeftGrid)&&(this._bottomLeftGridStyle=_r({left:0,overflowX:"hidden",overflowY:l?"auto":"hidden",position:"absolute"},C)),(r||A||c!==this._lastRenderedStyleBottomRightGrid)&&(this._bottomRightGridStyle=_r({left:this._getLeftGridWidth(this.props),position:"absolute"},c)),(r||p!==this._lastRenderedStyleTopLeftGrid)&&(this._topLeftGridStyle=_r({left:0,overflowX:"hidden",overflowY:"hidden",position:"absolute",top:0},p)),(r||A||m!==this._lastRenderedStyleTopRightGrid)&&(this._topRightGridStyle=_r({left:this._getLeftGridWidth(this.props),overflowX:s?"auto":"hidden",overflowY:"hidden",position:"absolute",top:0},m)),this._lastRenderedColumnWidth=o,this._lastRenderedFixedColumnCount=h,this._lastRenderedFixedRowCount=v,this._lastRenderedHeight=f,this._lastRenderedRowHeight=_,this._lastRenderedStyle=x,this._lastRenderedStyleBottomLeftGrid=C,this._lastRenderedStyleBottomRightGrid=c,this._lastRenderedStyleTopLeftGrid=p,this._lastRenderedStyleTopRightGrid=m,this._lastRenderedWidth=b}},{key:"_prepareForRender",value:function(){(this._lastRenderedColumnWidth!==this.props.columnWidth||this._lastRenderedFixedColumnCount!==this.props.fixedColumnCount)&&(this._leftGridWidth=null),(this._lastRenderedFixedRowCount!==this.props.fixedRowCount||this._lastRenderedRowHeight!==this.props.rowHeight)&&(this._topGridHeight=null),this._maybeCalculateCachedStyles(),this._lastRenderedColumnWidth=this.props.columnWidth,this._lastRenderedFixedColumnCount=this.props.fixedColumnCount,this._lastRenderedFixedRowCount=this.props.fixedRowCount,this._lastRenderedRowHeight=this.props.rowHeight}},{key:"_renderBottomLeftGrid",value:function(r){var a=r.enableFixedColumnScroll,o=r.fixedColumnCount,l=r.fixedRowCount,s=r.rowCount,f=r.hideBottomLeftGridScrollbar,h=this.state.showVerticalScrollbar;if(!o)return null;var v=h?1:0,_=this._getBottomGridHeight(r),x=this._getLeftGridWidth(r),C=this.state.showVerticalScrollbar?this.state.scrollbarSize:0,c=f?x+C:x,p=M.createElement(ju,Nt({},r,{cellRenderer:this._cellRendererBottomLeftGrid,className:this.props.classNameBottomLeftGrid,columnCount:o,deferredMeasurementCache:this._deferredMeasurementCacheBottomLeftGrid,height:_,onScroll:a?this._onScrollTop:void 0,ref:this._bottomLeftGridRef,rowCount:Math.max(0,s-l)+v,rowHeight:this._rowHeightBottomGrid,style:this._bottomLeftGridStyle,tabIndex:null,width:c}));return f?M.createElement("div",{className:"BottomLeftGrid_ScrollWrapper",style:_r(_r({},this._bottomLeftGridStyle),{},{height:_,width:x,overflowY:"hidden"})},p):p}},{key:"_renderBottomRightGrid",value:function(r){var a=r.columnCount,o=r.fixedColumnCount,l=r.fixedRowCount,s=r.rowCount,f=r.scrollToColumn,h=r.scrollToRow;return M.createElement(ju,Nt({},r,{cellRenderer:this._cellRendererBottomRightGrid,className:this.props.classNameBottomRightGrid,columnCount:Math.max(0,a-o),columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheBottomRightGrid,height:this._getBottomGridHeight(r),onScroll:this._onScroll,onScrollbarPresenceChange:this._onScrollbarPresenceChange,ref:this._bottomRightGridRef,rowCount:Math.max(0,s-l),rowHeight:this._rowHeightBottomGrid,scrollToColumn:f-o,scrollToRow:h-l,style:this._bottomRightGridStyle,width:this._getRightGridWidth(r)}))}},{key:"_renderTopLeftGrid",value:function(r){var a=r.fixedColumnCount,o=r.fixedRowCount;return!a||!o?null:M.createElement(ju,Nt({},r,{className:this.props.classNameTopLeftGrid,columnCount:a,height:this._getTopGridHeight(r),ref:this._topLeftGridRef,rowCount:o,style:this._topLeftGridStyle,tabIndex:null,width:this._getLeftGridWidth(r)}))}},{key:"_renderTopRightGrid",value:function(r){var a=r.columnCount,o=r.enableFixedRowScroll,l=r.fixedColumnCount,s=r.fixedRowCount,f=r.scrollLeft,h=r.hideTopRightGridScrollbar,v=this.state,_=v.showHorizontalScrollbar,x=v.scrollbarSize;if(!s)return null;var C=_?1:0,c=this._getTopGridHeight(r),p=this._getRightGridWidth(r),m=_?x:0,b=c,w=this._topRightGridStyle;h&&(b=c+m,w=_r(_r({},this._topRightGridStyle),{},{left:0}));var A=M.createElement(ju,Nt({},r,{cellRenderer:this._cellRendererTopRightGrid,className:this.props.classNameTopRightGrid,columnCount:Math.max(0,a-l)+C,columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheTopRightGrid,height:b,onScroll:o?this._onScrollLeft:void 0,ref:this._topRightGridRef,rowCount:s,scrollLeft:f,style:w,tabIndex:null,width:p}));return h?M.createElement("div",{className:"TopRightGrid_ScrollWrapper",style:_r(_r({},this._topRightGridStyle),{},{height:c,width:p,overflowX:"hidden"})},A):A}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.scrollLeft!==a.scrollLeft||r.scrollTop!==a.scrollTop?{scrollLeft:r.scrollLeft!=null&&r.scrollLeft>=0?r.scrollLeft:a.scrollLeft,scrollTop:r.scrollTop!=null&&r.scrollTop>=0?r.scrollTop:a.scrollTop}:null}}])}(M.PureComponent);de(RI,"defaultProps",{classNameBottomLeftGrid:"",classNameBottomRightGrid:"",classNameTopLeftGrid:"",classNameTopRightGrid:"",enableFixedColumnScroll:!1,enableFixedRowScroll:!1,fixedColumnCount:0,fixedRowCount:0,scrollToColumn:-1,scrollToRow:-1,style:{},styleBottomLeftGrid:{},styleBottomRightGrid:{},styleTopLeftGrid:{},styleTopRightGrid:{},hideTopRightGridScrollbar:!1,hideBottomLeftGridScrollbar:!1});RI.propTypes={};N_(RI);function Wpe(n,e,t){return e=Li(e),No(n,gH()?Reflect.construct(e,t||[],Li(n).constructor):e.apply(n,t))}function gH(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gH=function(){return!!n})()}var vH=function(n){function e(t,r){var a;return si(this,e),a=Wpe(this,e,[t,r]),a.state={clientHeight:0,clientWidth:0,scrollHeight:0,scrollLeft:0,scrollTop:0,scrollWidth:0},a._onScroll=a._onScroll.bind(a),a}return Ar(e,n),li(e,[{key:"render",value:function(){var r=this.props.children,a=this.state,o=a.clientHeight,l=a.clientWidth,s=a.scrollHeight,f=a.scrollLeft,h=a.scrollTop,v=a.scrollWidth;return r({clientHeight:o,clientWidth:l,onScroll:this._onScroll,scrollHeight:s,scrollLeft:f,scrollTop:h,scrollWidth:v})}},{key:"_onScroll",value:function(r){var a=r.clientHeight,o=r.clientWidth,l=r.scrollHeight,s=r.scrollLeft,f=r.scrollTop,h=r.scrollWidth;this.setState({clientHeight:a,clientWidth:o,scrollHeight:l,scrollLeft:s,scrollTop:f,scrollWidth:h})}}])}(M.PureComponent);vH.propTypes={};function Xpe(n){var e=n.dataKey,t=n.rowData;return typeof t.get=="function"?t.get(e):t[e]}function Ype(n){var e=n.cellData;return e==null?"":String(e)}function qpe(n){var e=n.className,t=n.columns,r=n.style;return M.createElement("div",{className:e,role:"row",style:r},t)}var Ah={ASC:"ASC",DESC:"DESC"};function yH(n){var e=n.sortDirection,t=Lc("ReactVirtualized__Table__sortableHeaderIcon",{"ReactVirtualized__Table__sortableHeaderIcon--ASC":e===Ah.ASC,"ReactVirtualized__Table__sortableHeaderIcon--DESC":e===Ah.DESC});return M.createElement("svg",{className:t,width:18,height:18,viewBox:"0 0 24 24"},e===Ah.ASC?M.createElement("path",{d:"M7 14l5-5 5 5z"}):M.createElement("path",{d:"M7 10l5 5 5-5z"}),M.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}yH.propTypes={};function Zpe(n){var e=n.dataKey,t=n.label,r=n.sortBy,a=n.sortDirection,o=r===e,l=[M.createElement("span",{className:"ReactVirtualized__Table__headerTruncatedText",key:"label",title:typeof t=="string"?t:null},t)];return o&&l.push(M.createElement(yH,{key:"SortIndicator",sortDirection:a})),l}function Kpe(n){var e=n.className,t=n.columns,r=n.index,a=n.key,o=n.onRowClick,l=n.onRowDoubleClick,s=n.onRowMouseOut,f=n.onRowMouseOver,h=n.onRowRightClick,v=n.rowData,_=n.style,x={"aria-rowindex":r+1};return(o||l||s||f||h)&&(x["aria-label"]="row",x.tabIndex=0,o&&(x.onClick=function(C){return o({event:C,index:r,rowData:v})}),l&&(x.onDoubleClick=function(C){return l({event:C,index:r,rowData:v})}),s&&(x.onMouseOut=function(C){return s({event:C,index:r,rowData:v})}),f&&(x.onMouseOver=function(C){return f({event:C,index:r,rowData:v})}),h&&(x.onContextMenu=function(C){return h({event:C,index:r,rowData:v})})),M.createElement("div",Nt({},x,{className:e,key:a,role:"row",style:_}),t)}function Qpe(n,e,t){return e=Li(e),No(n,bH()?Reflect.construct(e,t||[],Li(n).constructor):e.apply(n,t))}function bH(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bH=function(){return!!n})()}var OI=function(n){function e(){return si(this,e),Qpe(this,e,arguments)}return Ar(e,n),li(e)}(M.Component);de(OI,"defaultProps",{cellDataGetter:Xpe,cellRenderer:Ype,defaultSortDirection:Ah.ASC,flexGrow:0,flexShrink:1,headerRenderer:Zpe,style:{}});OI.propTypes={};function IN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function Du(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?IN(Object(t),!0).forEach(function(r){de(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):IN(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Jpe(n,e,t){return e=Li(e),No(n,_H()?Reflect.construct(e,t||[],Li(n).constructor):e.apply(n,t))}function _H(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_H=function(){return!!n})()}var SH=function(n){function e(t){var r;return si(this,e),r=Jpe(this,e,[t]),r.state={scrollbarWidth:0},r._createColumn=r._createColumn.bind(r),r._createRow=r._createRow.bind(r),r._onScroll=r._onScroll.bind(r),r._onSectionRendered=r._onSectionRendered.bind(r),r._setRef=r._setRef.bind(r),r._setGridElementRef=r._setGridElementRef.bind(r),r}return Ar(e,n),li(e,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(r){var a=r.alignment,o=r.index;if(this.Grid){var l=this.Grid.getOffsetForCell({alignment:a,rowIndex:o}),s=l.scrollTop;return s}return 0}},{key:"invalidateCellSizeAfterRender",value:function(r){var a=r.columnIndex,o=r.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:o,columnIndex:a})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=r.columnIndex,o=a===void 0?0:a,l=r.rowIndex,s=l===void 0?0:l;this.Grid&&this.Grid.recomputeGridSize({rowIndex:s,columnIndex:o})}},{key:"recomputeRowHeights",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:r})}},{key:"scrollToPosition",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:r})}},{key:"scrollToRow",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:r})}},{key:"getScrollbarWidth",value:function(){if(this.GridElement){var r=this.GridElement,a=r.clientWidth||0,o=r.offsetWidth||0;return o-a}return 0}},{key:"componentDidMount",value:function(){this._setScrollbarWidth()}},{key:"componentDidUpdate",value:function(){this._setScrollbarWidth()}},{key:"render",value:function(){var r=this,a=this.props,o=a.children,l=a.className,s=a.disableHeader,f=a.gridClassName,h=a.gridStyle,v=a.headerHeight,_=a.headerRowRenderer,x=a.height,C=a.id,c=a.noRowsRenderer,p=a.rowClassName,m=a.rowStyle,b=a.scrollToIndex,w=a.style,A=a.width,R=this.state.scrollbarWidth,O=s?x:x-v,P=typeof p=="function"?p({index:-1}):p,D=typeof m=="function"?m({index:-1}):m;return this._cachedColumnStyles=[],M.Children.toArray(o).forEach(function(F,B){var U=r._getFlexStyleForColumn(F,F.props.style||OI.defaultProps.style);r._cachedColumnStyles[B]=Du({overflow:"hidden"},U)}),M.createElement("div",{"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-colcount":M.Children.toArray(o).length,"aria-rowcount":this.props.rowCount,className:Lc("ReactVirtualized__Table",l),id:C,role:"grid",style:w},!s&&_({className:Lc("ReactVirtualized__Table__headerRow",P),columns:this._getHeaderColumns(),style:Du({height:v,overflow:"hidden",paddingRight:R,width:A},D)}),M.createElement(ju,Nt({},this.props,{elementRef:this._setGridElementRef,"aria-readonly":null,autoContainerWidth:!0,className:Lc("ReactVirtualized__Table__Grid",f),cellRenderer:this._createRow,columnWidth:A,columnCount:1,height:O,id:void 0,noContentRenderer:c,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,role:"rowgroup",scrollbarWidth:R,scrollToRow:b,style:Du(Du({},h),{},{overflowX:"hidden"})})))}},{key:"_createColumn",value:function(r){var a=r.column,o=r.columnIndex,l=r.isScrolling,s=r.parent,f=r.rowData,h=r.rowIndex,v=this.props.onColumnClick,_=a.props,x=_.cellDataGetter,C=_.cellRenderer,c=_.className,p=_.columnData,m=_.dataKey,b=_.id,w=x({columnData:p,dataKey:m,rowData:f}),A=C({cellData:w,columnData:p,columnIndex:o,dataKey:m,isScrolling:l,parent:s,rowData:f,rowIndex:h}),R=function(F){v&&v({columnData:p,dataKey:m,event:F})},O=this._cachedColumnStyles[o],P=typeof A=="string"?A:null;return M.createElement("div",{"aria-colindex":o+1,"aria-describedby":b,className:Lc("ReactVirtualized__Table__rowColumn",c),key:"Row"+h+"-Col"+o,onClick:R,role:"gridcell",style:O,title:P},A)}},{key:"_createHeader",value:function(r){var a=r.column,o=r.index,l=this.props,s=l.headerClassName,f=l.headerStyle,h=l.onHeaderClick,v=l.sort,_=l.sortBy,x=l.sortDirection,C=a.props,c=C.columnData,p=C.dataKey,m=C.defaultSortDirection,b=C.disableSort,w=C.headerRenderer,A=C.id,R=C.label,O=!b&&v,P=Lc("ReactVirtualized__Table__headerColumn",s,a.props.headerClassName,{ReactVirtualized__Table__sortableHeaderColumn:O}),D=this._getFlexStyleForColumn(a,Du(Du({},f),a.props.headerStyle)),F=w({columnData:c,dataKey:p,disableSort:b,label:R,sortBy:_,sortDirection:x}),B,U,V,Q,X;if(O||h){var ee=_!==p,ae=ee?m:x===Ah.DESC?Ah.ASC:Ah.DESC,Z=function(ce){O&&v({defaultSortDirection:m,event:ce,sortBy:p,sortDirection:ae}),h&&h({columnData:c,dataKey:p,event:ce})},K=function(ce){(ce.key==="Enter"||ce.key===" ")&&Z(ce)};X=a.props["aria-label"]||R||p,Q="none",V=0,B=Z,U=K}return _===p&&(Q=x===Ah.ASC?"ascending":"descending"),M.createElement("div",{"aria-label":X,"aria-sort":Q,className:P,id:A,key:"Header-Col"+o,onClick:B,onKeyDown:U,role:"columnheader",style:D,tabIndex:V},F)}},{key:"_createRow",value:function(r){var a=this,o=r.rowIndex,l=r.isScrolling,s=r.key,f=r.parent,h=r.style,v=this.props,_=v.children,x=v.onRowClick,C=v.onRowDoubleClick,c=v.onRowRightClick,p=v.onRowMouseOver,m=v.onRowMouseOut,b=v.rowClassName,w=v.rowGetter,A=v.rowRenderer,R=v.rowStyle,O=this.state.scrollbarWidth,P=typeof b=="function"?b({index:o}):b,D=typeof R=="function"?R({index:o}):R,F=w({index:o}),B=M.Children.toArray(_).map(function(Q,X){return a._createColumn({column:Q,columnIndex:X,isScrolling:l,parent:f,rowData:F,rowIndex:o,scrollbarWidth:O})}),U=Lc("ReactVirtualized__Table__row",P),V=Du(Du({},h),{},{height:this._getRowHeight(o),overflow:"hidden",paddingRight:O},D);return A({className:U,columns:B,index:o,isScrolling:l,key:s,onRowClick:x,onRowDoubleClick:C,onRowRightClick:c,onRowMouseOver:p,onRowMouseOut:m,rowData:F,style:V})}},{key:"_getFlexStyleForColumn",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o="".concat(r.props.flexGrow," ").concat(r.props.flexShrink," ").concat(r.props.width,"px"),l=Du(Du({},a),{},{flex:o,msFlex:o,WebkitFlex:o});return r.props.maxWidth&&(l.maxWidth=r.props.maxWidth),r.props.minWidth&&(l.minWidth=r.props.minWidth),l}},{key:"_getHeaderColumns",value:function(){var r=this,a=this.props,o=a.children,l=a.disableHeader,s=l?[]:M.Children.toArray(o);return s.map(function(f,h){return r._createHeader({column:f,index:h})})}},{key:"_getRowHeight",value:function(r){var a=this.props.rowHeight;return typeof a=="function"?a({index:r}):a}},{key:"_onScroll",value:function(r){var a=r.clientHeight,o=r.scrollHeight,l=r.scrollTop,s=this.props.onScroll;s({clientHeight:a,scrollHeight:o,scrollTop:l})}},{key:"_onSectionRendered",value:function(r){var a=r.rowOverscanStartIndex,o=r.rowOverscanStopIndex,l=r.rowStartIndex,s=r.rowStopIndex,f=this.props.onRowsRendered;f({overscanStartIndex:a,overscanStopIndex:o,startIndex:l,stopIndex:s})}},{key:"_setRef",value:function(r){this.Grid=r}},{key:"_setGridElementRef",value:function(r){this.GridElement=r}},{key:"_setScrollbarWidth",value:function(){var r=this.getScrollbarWidth();this.setState({scrollbarWidth:r})}}])}(M.PureComponent);de(SH,"defaultProps",{disableHeader:!1,estimatedRowSize:30,headerHeight:0,headerStyle:{},noRowsRenderer:function(){return null},onRowsRendered:function(){return null},onScroll:function(){return null},overscanIndicesGetter:rH,overscanRowCount:10,rowRenderer:Kpe,headerRowRenderer:qpe,rowStyle:{},scrollToAlignment:"auto",scrollToIndex:-1,style:{}});SH.propTypes={};var Ih=[],Eb=null,vm=null;function xH(){vm&&(vm=null,document.body&&Eb!=null&&(document.body.style.pointerEvents=Eb),Eb=null)}function eme(){xH(),Ih.forEach(function(n){return n.__resetIsScrolling()})}function tme(){vm&&s0(vm);var n=0;Ih.forEach(function(e){n=Math.max(n,e.props.scrollingResetTimeInterval)}),vm=EI(eme,n)}function wH(n){n.currentTarget===window&&Eb==null&&document.body&&(Eb=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),tme(),Ih.forEach(function(e){e.props.scrollElement===n.currentTarget&&e.__handleWindowScrollEvent()})}function zN(n,e){Ih.some(function(t){return t.props.scrollElement===e})||e.addEventListener("scroll",wH),Ih.push(n)}function PN(n,e){Ih=Ih.filter(function(t){return t!==n}),Ih.length||(e.removeEventListener("scroll",wH),vm&&(s0(vm),xH()))}var II=function(e){return e===window},ob=function(e){return e.getBoundingClientRect()};function DN(n,e){if(n)if(II(n)){var t=window,r=t.innerHeight,a=t.innerWidth;return{height:typeof r=="number"?r:0,width:typeof a=="number"?a:0}}else return ob(n);else return{height:e.serverHeight,width:e.serverWidth}}function nme(n,e){if(II(e)&&document.documentElement){var t=document.documentElement,r=ob(n),a=ob(t);return{top:r.top-a.top,left:r.left-a.left}}else{var o=CH(e),l=ob(n),s=ob(e);return{top:l.top+o.top-s.top,left:l.left+o.left-s.left}}}function CH(n){return II(n)&&document.documentElement?{top:"scrollY"in window?window.scrollY:document.documentElement.scrollTop,left:"scrollX"in window?window.scrollX:document.documentElement.scrollLeft}:{top:n.scrollTop,left:n.scrollLeft}}function LN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function NN(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?LN(Object(t),!0).forEach(function(r){de(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):LN(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function ime(n,e,t){return e=Li(e),No(n,EH()?Reflect.construct(e,t||[],Li(n).constructor):e.apply(n,t))}function EH(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EH=function(){return!!n})()}var rme=150,MH=function(){return typeof window<"u"?window:void 0},ame=function(n){function e(){var t;si(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=ime(this,e,[].concat(a)),de(t,"_window",MH()),de(t,"_isMounted",!1),de(t,"_positionFromTop",0),de(t,"_positionFromLeft",0),de(t,"_detectElementResize",void 0),de(t,"_child",void 0),de(t,"_windowScrollerRef",M.createRef()),de(t,"state",NN(NN({},DN(t.props.scrollElement,t.props)),{},{isScrolling:!1,scrollLeft:0,scrollTop:0})),de(t,"_registerChild",function(l){l&&!(l instanceof Element)&&console.warn("WindowScroller registerChild expects to be passed Element or null"),t._child=l,t.updatePosition()}),de(t,"_onChildScroll",function(l){var s=l.scrollTop;if(t.state.scrollTop!==s){var f=t.props.scrollElement;f&&(typeof f.scrollTo=="function"?f.scrollTo(0,s+t._positionFromTop):f.scrollTop=s+t._positionFromTop)}}),de(t,"_registerResizeListener",function(l){l===window?window.addEventListener("resize",t._onResize,!1):t._detectElementResize.addResizeListener(l,t._onResize)}),de(t,"_unregisterResizeListener",function(l){l===window?window.removeEventListener("resize",t._onResize,!1):l&&t._detectElementResize.removeResizeListener(l,t._onResize)}),de(t,"_onResize",function(){t.updatePosition()}),de(t,"__handleWindowScrollEvent",function(){if(t._isMounted){var l=t.props.onScroll,s=t.props.scrollElement;if(s){var f=CH(s),h=Math.max(0,f.left-t._positionFromLeft),v=Math.max(0,f.top-t._positionFromTop);t.setState({isScrolling:!0,scrollLeft:h,scrollTop:v}),l({scrollLeft:h,scrollTop:v})}}}),de(t,"__resetIsScrolling",function(){t.setState({isScrolling:!1})}),t}return Ar(e,n),li(e,[{key:"updatePosition",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollElement,a=this.props.onResize,o=this.state,l=o.height,s=o.width,f=this._child||this._windowScrollerRef.current;if(f instanceof Element&&r){var h=nme(f,r);this._positionFromTop=h.top,this._positionFromLeft=h.left}var v=DN(r,this.props);(l!==v.height||s!==v.width)&&(this.setState({height:v.height,width:v.width}),a({height:v.height,width:v.width})),this.props.updateScrollTopOnUpdatePosition===!0&&(this.__handleWindowScrollEvent(),this.__resetIsScrolling())}},{key:"componentDidMount",value:function(){var r=this.props.scrollElement;this._detectElementResize=q5(),this.updatePosition(r),r&&(zN(this,r),this._registerResizeListener(r)),this._isMounted=!0}},{key:"componentDidUpdate",value:function(r,a){var o=this.props.scrollElement,l=r.scrollElement;l!==o&&l!=null&&o!=null&&(this.updatePosition(o),PN(this,l),zN(this,o),this._unregisterResizeListener(l),this._registerResizeListener(o))}},{key:"componentWillUnmount",value:function(){var r=this.props.scrollElement;r&&(PN(this,r),this._unregisterResizeListener(r)),this._isMounted=!1}},{key:"render",value:function(){var r=this.props.children,a=this.state,o=a.isScrolling,l=a.scrollTop,s=a.scrollLeft,f=a.height,h=a.width;return M.createElement("div",{ref:this._windowScrollerRef},r({onChildScroll:this._onChildScroll,registerChild:this._registerChild,height:f,isScrolling:o,scrollLeft:s,scrollTop:l,width:h}))}}])}(M.PureComponent);de(ame,"defaultProps",{onResize:function(){},onScroll:function(){},scrollingResetTimeInterval:rme,scrollElement:MH(),serverHeight:0,serverWidth:0});function ome(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.map(function(r){return r.split(" ").map(function(a){return a?""+n+a:""}).join(" ")}).join(" ")}var sb={exports:{}},sme=sb.exports,UN;function lme(){return UN||(UN=1,function(n,e){(function(t,r){n.exports=r()})(sme,function(){function t(z,I){var H=Object.keys(z);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(z);I&&(G=G.filter(function(Y){return Object.getOwnPropertyDescriptor(z,Y).enumerable})),H.push.apply(H,G)}return H}function r(z){for(var I=1;I<arguments.length;I++){var H=arguments[I]!=null?arguments[I]:{};I%2?t(Object(H),!0).forEach(function(G){f(z,G,H[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(H)):t(Object(H)).forEach(function(G){Object.defineProperty(z,G,Object.getOwnPropertyDescriptor(H,G))})}return z}function a(z){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},a(z)}function o(z,I){if(!(z instanceof I))throw new TypeError("Cannot call a class as a function")}function l(z,I){for(var H=0;H<I.length;H++){var G=I[H];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(z,p(G.key),G)}}function s(z,I,H){return I&&l(z.prototype,I),Object.defineProperty(z,"prototype",{writable:!1}),z}function f(z,I,H){return(I=p(I))in z?Object.defineProperty(z,I,{value:H,enumerable:!0,configurable:!0,writable:!0}):z[I]=H,z}function h(z,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(I&&I.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),Object.defineProperty(z,"prototype",{writable:!1}),I&&_(z,I)}function v(z){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)},v(z)}function _(z,I){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(H,G){return H.__proto__=G,H},_(z,I)}function x(z){if(z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}function C(z){var I=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var H,G=v(z);if(I){var Y=v(this).constructor;H=Reflect.construct(G,arguments,Y)}else H=G.apply(this,arguments);return function(ne,se){if(se&&(typeof se=="object"||typeof se=="function"))return se;if(se!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x(ne)}(this,H)}}function c(){return c=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(z,I,H){var G=function(ne,se){for(;!Object.prototype.hasOwnProperty.call(ne,se)&&(ne=v(ne))!==null;);return ne}(z,I);if(G){var Y=Object.getOwnPropertyDescriptor(G,I);return Y.get?Y.get.call(arguments.length<3?z:H):Y.value}},c.apply(this,arguments)}function p(z){var I=function(H,G){if(typeof H!="object"||H===null)return H;var Y=H[Symbol.toPrimitive];if(Y!==void 0){var ne=Y.call(H,G);if(typeof ne!="object")return ne;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(H)}(z,"string");return typeof I=="symbol"?I:I+""}var m=function(z){return!(!z||!z.Window)&&z instanceof z.Window},b=void 0,w=void 0;function A(z){b=z;var I=z.document.createTextNode("");I.ownerDocument!==z.document&&typeof z.wrap=="function"&&z.wrap(I)===I&&(z=z.wrap(z)),w=z}function R(z){return m(z)?z:(z.ownerDocument||z).defaultView||w.window}typeof window<"u"&&window&&A(window);var O=function(z){return!!z&&a(z)==="object"},P=function(z){return typeof z=="function"},D={window:function(z){return z===w||m(z)},docFrag:function(z){return O(z)&&z.nodeType===11},object:O,func:P,number:function(z){return typeof z=="number"},bool:function(z){return typeof z=="boolean"},string:function(z){return typeof z=="string"},element:function(z){if(!z||a(z)!=="object")return!1;var I=R(z)||w;return/object|function/.test(typeof Element>"u"?"undefined":a(Element))?z instanceof Element||z instanceof I.Element:z.nodeType===1&&typeof z.nodeName=="string"},plainObject:function(z){return O(z)&&!!z.constructor&&/function Object\b/.test(z.constructor.toString())},array:function(z){return O(z)&&z.length!==void 0&&P(z.splice)}};function F(z){var I=z.interaction;if(I.prepared.name==="drag"){var H=I.prepared.axis;H==="x"?(I.coords.cur.page.y=I.coords.start.page.y,I.coords.cur.client.y=I.coords.start.client.y,I.coords.velocity.client.y=0,I.coords.velocity.page.y=0):H==="y"&&(I.coords.cur.page.x=I.coords.start.page.x,I.coords.cur.client.x=I.coords.start.client.x,I.coords.velocity.client.x=0,I.coords.velocity.page.x=0)}}function B(z){var I=z.iEvent,H=z.interaction;if(H.prepared.name==="drag"){var G=H.prepared.axis;if(G==="x"||G==="y"){var Y=G==="x"?"y":"x";I.page[Y]=H.coords.start.page[Y],I.client[Y]=H.coords.start.client[Y],I.delta[Y]=0}}}var U={id:"actions/drag",install:function(z){var I=z.actions,H=z.Interactable,G=z.defaults;H.prototype.draggable=U.draggable,I.map.drag=U,I.methodDict.drag="draggable",G.actions.drag=U.defaults},listeners:{"interactions:before-action-move":F,"interactions:action-resume":F,"interactions:action-move":B,"auto-start:check":function(z){var I=z.interaction,H=z.interactable,G=z.buttons,Y=H.options.drag;if(Y&&Y.enabled&&(!I.pointerIsDown||!/mouse|pointer/.test(I.pointerType)||(G&H.options.drag.mouseButtons)!=0))return z.action={name:"drag",axis:Y.lockAxis==="start"?Y.startAxis:Y.lockAxis},!1}},draggable:function(z){return D.object(z)?(this.options.drag.enabled=z.enabled!==!1,this.setPerAction("drag",z),this.setOnEvents("drag",z),/^(xy|x|y|start)$/.test(z.lockAxis)&&(this.options.drag.lockAxis=z.lockAxis),/^(xy|x|y)$/.test(z.startAxis)&&(this.options.drag.startAxis=z.startAxis),this):D.bool(z)?(this.options.drag.enabled=z,this):this.options.drag},beforeMove:F,move:B,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"},filterEventType:function(z){return z.search("drag")===0}},V=U,Q={init:function(z){var I=z;Q.document=I.document,Q.DocumentFragment=I.DocumentFragment||X,Q.SVGElement=I.SVGElement||X,Q.SVGSVGElement=I.SVGSVGElement||X,Q.SVGElementInstance=I.SVGElementInstance||X,Q.Element=I.Element||X,Q.HTMLElement=I.HTMLElement||Q.Element,Q.Event=I.Event,Q.Touch=I.Touch||X,Q.PointerEvent=I.PointerEvent||I.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function X(){}var ee=Q,ae={init:function(z){var I=ee.Element,H=z.navigator||{};ae.supportsTouch="ontouchstart"in z||D.func(z.DocumentTouch)&&ee.document instanceof z.DocumentTouch,ae.supportsPointerEvent=H.pointerEnabled!==!1&&!!ee.PointerEvent,ae.isIOS=/iP(hone|od|ad)/.test(H.platform),ae.isIOS7=/iP(hone|od|ad)/.test(H.platform)&&/OS 7[^\d]/.test(H.appVersion),ae.isIe9=/MSIE 9/.test(H.userAgent),ae.isOperaMobile=H.appName==="Opera"&&ae.supportsTouch&&/Presto/.test(H.userAgent),ae.prefixedMatchesSelector="matches"in I.prototype?"matches":"webkitMatchesSelector"in I.prototype?"webkitMatchesSelector":"mozMatchesSelector"in I.prototype?"mozMatchesSelector":"oMatchesSelector"in I.prototype?"oMatchesSelector":"msMatchesSelector",ae.pEventTypes=ae.supportsPointerEvent?ee.PointerEvent===z.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,ae.wheelEvent=ee.document&&"onmousewheel"in ee.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},Z=ae;function K(z,I){if(z.contains)return z.contains(I);for(;I;){if(I===z)return!0;I=I.parentNode}return!1}function te(z,I){for(;D.element(z);){if(q(z,I))return z;z=ce(z)}return null}function ce(z){var I=z.parentNode;if(D.docFrag(I)){for(;(I=I.host)&&D.docFrag(I););return I}return I}function q(z,I){return w!==b&&(I=I.replace(/\/deep\//g," ")),z[Z.prefixedMatchesSelector](I)}var J=function(z){return z.parentNode||z.host};function he(z,I){for(var H,G=[],Y=z;(H=J(Y))&&Y!==I&&H!==Y.ownerDocument;)G.unshift(Y),Y=H;return G}function ue(z,I,H){for(;D.element(z);){if(q(z,I))return!0;if((z=ce(z))===H)return q(z,I)}return!1}function j(z){return z.correspondingUseElement||z}function pe(z){var I=z instanceof ee.SVGElement?z.getBoundingClientRect():z.getClientRects()[0];return I&&{left:I.left,right:I.right,top:I.top,bottom:I.bottom,width:I.width||I.right-I.left,height:I.height||I.bottom-I.top}}function _e(z){var I,H=pe(z);if(!Z.isIOS7&&H){var G={x:(I=(I=R(z))||w).scrollX||I.document.documentElement.scrollLeft,y:I.scrollY||I.document.documentElement.scrollTop};H.left+=G.x,H.right+=G.x,H.top+=G.y,H.bottom+=G.y}return H}function Re(z){for(var I=[];z;)I.push(z),z=ce(z);return I}function Me(z){return!!D.string(z)&&(ee.document.querySelector(z),!0)}function Ae(z,I){for(var H in I)z[H]=I[H];return z}function Ue(z,I,H){return z==="parent"?ce(H):z==="self"?I.getRect(H):te(H,z)}function gt(z,I,H,G){var Y=z;return D.string(Y)?Y=Ue(Y,I,H):D.func(Y)&&(Y=Y.apply(void 0,G)),D.element(Y)&&(Y=_e(Y)),Y}function ze(z){return z&&{x:"x"in z?z.x:z.left,y:"y"in z?z.y:z.top}}function we(z){return!z||"x"in z&&"y"in z||((z=Ae({},z)).x=z.left||0,z.y=z.top||0,z.width=z.width||(z.right||0)-z.x,z.height=z.height||(z.bottom||0)-z.y),z}function re(z,I,H){z.left&&(I.left+=H.x),z.right&&(I.right+=H.x),z.top&&(I.top+=H.y),z.bottom&&(I.bottom+=H.y),I.width=I.right-I.left,I.height=I.bottom-I.top}function Fe(z,I,H){var G=H&&z.options[H];return ze(gt(G&&G.origin||z.options.origin,z,I,[z&&I]))||{x:0,y:0}}function Ie(z,I){var H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(be){return!0},G=arguments.length>3?arguments[3]:void 0;if(G=G||{},D.string(z)&&z.search(" ")!==-1&&(z=Ye(z)),D.array(z))return z.forEach(function(be){return Ie(be,I,H,G)}),G;if(D.object(z)&&(I=z,z=""),D.func(I)&&H(z))G[z]=G[z]||[],G[z].push(I);else if(D.array(I))for(var Y=0,ne=I;Y<ne.length;Y++){var se=ne[Y];Ie(z,se,H,G)}else if(D.object(I))for(var me in I)Ie(Ye(me).map(function(be){return"".concat(z).concat(be)}),I[me],H,G);return G}function Ye(z){return z.trim().split(/ +/)}var $e=function(z,I){return Math.sqrt(z*z+I*I)},lt=["webkit","moz"];function ot(z,I){z.__set||(z.__set={});var H=function(Y){if(lt.some(function(ne){return Y.indexOf(ne)===0}))return 1;typeof z[Y]!="function"&&Y!=="__set"&&Object.defineProperty(z,Y,{get:function(){return Y in z.__set?z.__set[Y]:z.__set[Y]=I[Y]},set:function(ne){z.__set[Y]=ne},configurable:!0})};for(var G in I)H(G);return z}function fe(z,I){z.page=z.page||{},z.page.x=I.page.x,z.page.y=I.page.y,z.client=z.client||{},z.client.x=I.client.x,z.client.y=I.client.y,z.timeStamp=I.timeStamp}function oe(z){z.page.x=0,z.page.y=0,z.client.x=0,z.client.y=0}function Ee(z){return z instanceof ee.Event||z instanceof ee.Touch}function Pe(z,I,H){return z=z||"page",(H=H||{}).x=I[z+"X"],H.y=I[z+"Y"],H}function qe(z,I){return I=I||{x:0,y:0},Z.isOperaMobile&&Ee(z)?(Pe("screen",z,I),I.x+=window.scrollX,I.y+=window.scrollY):Pe("page",z,I),I}function He(z){return D.number(z.pointerId)?z.pointerId:z.identifier}function mt(z,I,H){var G=I.length>1?ht(I):I[0];qe(G,z.page),function(Y,ne){ne=ne||{},Z.isOperaMobile&&Ee(Y)?Pe("screen",Y,ne):Pe("client",Y,ne)}(G,z.client),z.timeStamp=H}function st(z){var I=[];return D.array(z)?(I[0]=z[0],I[1]=z[1]):z.type==="touchend"?z.touches.length===1?(I[0]=z.touches[0],I[1]=z.changedTouches[0]):z.touches.length===0&&(I[0]=z.changedTouches[0],I[1]=z.changedTouches[1]):(I[0]=z.touches[0],I[1]=z.touches[1]),I}function ht(z){for(var I={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},H=0;H<z.length;H++){var G=z[H];for(var Y in I)I[Y]+=G[Y]}for(var ne in I)I[ne]/=z.length;return I}function It(z){if(!z.length)return null;var I=st(z),H=Math.min(I[0].pageX,I[1].pageX),G=Math.min(I[0].pageY,I[1].pageY),Y=Math.max(I[0].pageX,I[1].pageX),ne=Math.max(I[0].pageY,I[1].pageY);return{x:H,y:G,left:H,top:G,right:Y,bottom:ne,width:Y-H,height:ne-G}}function at(z,I){var H=I+"X",G=I+"Y",Y=st(z),ne=Y[0][H]-Y[1][H],se=Y[0][G]-Y[1][G];return $e(ne,se)}function _t(z,I){var H=I+"X",G=I+"Y",Y=st(z),ne=Y[1][H]-Y[0][H],se=Y[1][G]-Y[0][G];return 180*Math.atan2(se,ne)/Math.PI}function wt(z){return D.string(z.pointerType)?z.pointerType:D.number(z.pointerType)?[void 0,void 0,"touch","pen","mouse"][z.pointerType]:/touch/.test(z.type||"")||z instanceof ee.Touch?"touch":"mouse"}function je(z){var I=D.func(z.composedPath)?z.composedPath():z.path;return[j(I?I[0]:z.target),j(z.currentTarget)]}var it=function(){function z(I){o(this,z),this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=I}return s(z,[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),z}();Object.defineProperty(it.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var Se=function(z,I){for(var H=0;H<I.length;H++){var G=I[H];z.push(G)}return z},ke=function(z){return Se([],z)},bt=function(z,I){for(var H=0;H<z.length;H++)if(I(z[H],H,z))return H;return-1},Te=function(z,I){return z[bt(z,I)]},St=function(z){h(H,z);var I=C(H);function H(G,Y,ne){var se;o(this,H),(se=I.call(this,Y._interaction)).dropzone=void 0,se.dragEvent=void 0,se.relatedTarget=void 0,se.draggable=void 0,se.propagationStopped=!1,se.immediatePropagationStopped=!1;var me=ne==="dragleave"?G.prev:G.cur,be=me.element,De=me.dropzone;return se.type=ne,se.target=be,se.currentTarget=be,se.dropzone=De,se.dragEvent=Y,se.relatedTarget=Y.target,se.draggable=Y.interactable,se.timeStamp=Y.timeStamp,se}return s(H,[{key:"reject",value:function(){var G=this,Y=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&Y.cur.dropzone===this.dropzone&&Y.cur.element===this.target)if(Y.prev.dropzone=this.dropzone,Y.prev.element=this.target,Y.rejected=!0,Y.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var ne=Y.activeDrops,se=bt(ne,function(be){var De=be.dropzone,Ce=be.element;return De===G.dropzone&&Ce===G.target});Y.activeDrops.splice(se,1);var me=new H(Y,this.dragEvent,"dropdeactivate");me.dropzone=this.dropzone,me.target=this.target,this.dropzone.fire(me)}else this.dropzone.fire(new H(Y,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),H}(it);function Qe(z,I){for(var H=0,G=z.slice();H<G.length;H++){var Y=G[H],ne=Y.dropzone,se=Y.element;I.dropzone=ne,I.target=se,ne.fire(I),I.propagationStopped=I.immediatePropagationStopped=!1}}function pt(z,I){for(var H=function(ne,se){for(var me=[],be=0,De=ne.interactables.list;be<De.length;be++){var Ce=De[be];if(Ce.options.drop.enabled){var Ze=Ce.options.drop.accept;if(!(D.element(Ze)&&Ze!==se||D.string(Ze)&&!q(se,Ze)||D.func(Ze)&&!Ze({dropzone:Ce,draggableElement:se})))for(var vt=0,Bt=Ce.getAllElements();vt<Bt.length;vt++){var Pt=Bt[vt];Pt!==se&&me.push({dropzone:Ce,element:Pt,rect:Ce.getRect(Pt)})}}}return me}(z,I),G=0;G<H.length;G++){var Y=H[G];Y.rect=Y.dropzone.getRect(Y.element)}return H}function Lt(z,I,H){for(var G=z.dropState,Y=z.interactable,ne=z.element,se=[],me=0,be=G.activeDrops;me<be.length;me++){var De=be[me],Ce=De.dropzone,Ze=De.element,vt=De.rect,Bt=Ce.dropCheck(I,H,Y,ne,Ze,vt);se.push(Bt?Ze:null)}var Pt=function(Vt){for(var an,en,gn,Nn=[],ii=0;ii<Vt.length;ii++){var vn=Vt[ii],In=Vt[an];if(vn&&ii!==an)if(In){var Rr=J(vn),Qi=J(In);if(Rr!==vn.ownerDocument)if(Qi!==vn.ownerDocument)if(Rr!==Qi){Nn=Nn.length?Nn:he(In);var ba=void 0;if(In instanceof ee.HTMLElement&&vn instanceof ee.SVGElement&&!(vn instanceof ee.SVGSVGElement)){if(vn===Qi)continue;ba=vn.ownerSVGElement}else ba=vn;for(var Ui=he(ba,In.ownerDocument),Go=0;Ui[Go]&&Ui[Go]===Nn[Go];)Go++;var ca=[Ui[Go-1],Ui[Go],Nn[Go]];if(ca[0])for(var Zl=ca[0].lastChild;Zl;){if(Zl===ca[1]){an=ii,Nn=Ui;break}if(Zl===ca[2])break;Zl=Zl.previousSibling}}else gn=In,(parseInt(R(en=vn).getComputedStyle(en).zIndex,10)||0)>=(parseInt(R(gn).getComputedStyle(gn).zIndex,10)||0)&&(an=ii);else an=ii}else an=ii}return an}(se);return G.activeDrops[Pt]||null}function zt(z,I,H){var G=z.dropState,Y={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return H.type==="dragstart"&&(Y.activate=new St(G,H,"dropactivate"),Y.activate.target=null,Y.activate.dropzone=null),H.type==="dragend"&&(Y.deactivate=new St(G,H,"dropdeactivate"),Y.deactivate.target=null,Y.deactivate.dropzone=null),G.rejected||(G.cur.element!==G.prev.element&&(G.prev.dropzone&&(Y.leave=new St(G,H,"dragleave"),H.dragLeave=Y.leave.target=G.prev.element,H.prevDropzone=Y.leave.dropzone=G.prev.dropzone),G.cur.dropzone&&(Y.enter=new St(G,H,"dragenter"),H.dragEnter=G.cur.element,H.dropzone=G.cur.dropzone)),H.type==="dragend"&&G.cur.dropzone&&(Y.drop=new St(G,H,"drop"),H.dropzone=G.cur.dropzone,H.relatedTarget=G.cur.element),H.type==="dragmove"&&G.cur.dropzone&&(Y.move=new St(G,H,"dropmove"),H.dropzone=G.cur.dropzone)),Y}function Jt(z,I){var H=z.dropState,G=H.activeDrops,Y=H.cur,ne=H.prev;I.leave&&ne.dropzone.fire(I.leave),I.enter&&Y.dropzone.fire(I.enter),I.move&&Y.dropzone.fire(I.move),I.drop&&Y.dropzone.fire(I.drop),I.deactivate&&Qe(G,I.deactivate),H.prev.dropzone=Y.dropzone,H.prev.element=Y.element}function cn(z,I){var H=z.interaction,G=z.iEvent,Y=z.event;if(G.type==="dragmove"||G.type==="dragend"){var ne=H.dropState;I.dynamicDrop&&(ne.activeDrops=pt(I,H.element));var se=G,me=Lt(H,se,Y);ne.rejected=ne.rejected&&!!me&&me.dropzone===ne.cur.dropzone&&me.element===ne.cur.element,ne.cur.dropzone=me&&me.dropzone,ne.cur.element=me&&me.element,ne.events=zt(H,0,se)}}var Zt={id:"actions/drop",install:function(z){var I=z.actions,H=z.interactStatic,G=z.Interactable,Y=z.defaults;z.usePlugin(V),G.prototype.dropzone=function(ne){return function(se,me){if(D.object(me)){if(se.options.drop.enabled=me.enabled!==!1,me.listeners){var be=Ie(me.listeners),De=Object.keys(be).reduce(function(Ze,vt){return Ze[/^(enter|leave)/.test(vt)?"drag".concat(vt):/^(activate|deactivate|move)/.test(vt)?"drop".concat(vt):vt]=be[vt],Ze},{}),Ce=se.options.drop.listeners;Ce&&se.off(Ce),se.on(De),se.options.drop.listeners=De}return D.func(me.ondrop)&&se.on("drop",me.ondrop),D.func(me.ondropactivate)&&se.on("dropactivate",me.ondropactivate),D.func(me.ondropdeactivate)&&se.on("dropdeactivate",me.ondropdeactivate),D.func(me.ondragenter)&&se.on("dragenter",me.ondragenter),D.func(me.ondragleave)&&se.on("dragleave",me.ondragleave),D.func(me.ondropmove)&&se.on("dropmove",me.ondropmove),/^(pointer|center)$/.test(me.overlap)?se.options.drop.overlap=me.overlap:D.number(me.overlap)&&(se.options.drop.overlap=Math.max(Math.min(1,me.overlap),0)),"accept"in me&&(se.options.drop.accept=me.accept),"checker"in me&&(se.options.drop.checker=me.checker),se}return D.bool(me)?(se.options.drop.enabled=me,se):se.options.drop}(this,ne)},G.prototype.dropCheck=function(ne,se,me,be,De,Ce){return function(Ze,vt,Bt,Pt,Vt,an,en){var gn=!1;if(!(en=en||Ze.getRect(an)))return!!Ze.options.drop.checker&&Ze.options.drop.checker(vt,Bt,gn,Ze,an,Pt,Vt);var Nn=Ze.options.drop.overlap;if(Nn==="pointer"){var ii=Fe(Pt,Vt,"drag"),vn=qe(vt);vn.x+=ii.x,vn.y+=ii.y;var In=vn.x>en.left&&vn.x<en.right,Rr=vn.y>en.top&&vn.y<en.bottom;gn=In&&Rr}var Qi=Pt.getRect(Vt);if(Qi&&Nn==="center"){var ba=Qi.left+Qi.width/2,Ui=Qi.top+Qi.height/2;gn=ba>=en.left&&ba<=en.right&&Ui>=en.top&&Ui<=en.bottom}return Qi&&D.number(Nn)&&(gn=Math.max(0,Math.min(en.right,Qi.right)-Math.max(en.left,Qi.left))*Math.max(0,Math.min(en.bottom,Qi.bottom)-Math.max(en.top,Qi.top))/(Qi.width*Qi.height)>=Nn),Ze.options.drop.checker&&(gn=Ze.options.drop.checker(vt,Bt,gn,Ze,an,Pt,Vt)),gn}(this,ne,se,me,be,De,Ce)},H.dynamicDrop=function(ne){return D.bool(ne)?(z.dynamicDrop=ne,H):z.dynamicDrop},Ae(I.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),I.methodDict.drop="dropzone",z.dynamicDrop=!1,Y.actions.drop=Zt.defaults},listeners:{"interactions:before-action-start":function(z){var I=z.interaction;I.prepared.name==="drag"&&(I.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(z,I){var H=z.interaction,G=(z.event,z.iEvent);if(H.prepared.name==="drag"){var Y=H.dropState;Y.activeDrops=[],Y.events={},Y.activeDrops=pt(I,H.element),Y.events=zt(H,0,G),Y.events.activate&&(Qe(Y.activeDrops,Y.events.activate),I.fire("actions/drop:start",{interaction:H,dragEvent:G}))}},"interactions:action-move":cn,"interactions:after-action-move":function(z,I){var H=z.interaction,G=z.iEvent;if(H.prepared.name==="drag"){var Y=H.dropState;Jt(H,Y.events),I.fire("actions/drop:move",{interaction:H,dragEvent:G}),Y.events={}}},"interactions:action-end":function(z,I){if(z.interaction.prepared.name==="drag"){var H=z.interaction,G=z.iEvent;cn(z,I),Jt(H,H.dropState.events),I.fire("actions/drop:end",{interaction:H,dragEvent:G})}},"interactions:stop":function(z){var I=z.interaction;if(I.prepared.name==="drag"){var H=I.dropState;H&&(H.activeDrops=null,H.events=null,H.cur.dropzone=null,H.cur.element=null,H.prev.dropzone=null,H.prev.element=null,H.rejected=!1)}}},getActiveDrops:pt,getDrop:Lt,getDropEvents:zt,fireDropEvents:Jt,filterEventType:function(z){return z.search("drag")===0||z.search("drop")===0},defaults:{enabled:!1,accept:null,overlap:"pointer"}},Dt=Zt;function qt(z){var I=z.interaction,H=z.iEvent,G=z.phase;if(I.prepared.name==="gesture"){var Y=I.pointers.map(function(De){return De.pointer}),ne=G==="start",se=G==="end",me=I.interactable.options.deltaSource;if(H.touches=[Y[0],Y[1]],ne)H.distance=at(Y,me),H.box=It(Y),H.scale=1,H.ds=0,H.angle=_t(Y,me),H.da=0,I.gesture.startDistance=H.distance,I.gesture.startAngle=H.angle;else if(se||I.pointers.length<2){var be=I.prevEvent;H.distance=be.distance,H.box=be.box,H.scale=be.scale,H.ds=0,H.angle=be.angle,H.da=0}else H.distance=at(Y,me),H.box=It(Y),H.scale=H.distance/I.gesture.startDistance,H.angle=_t(Y,me),H.ds=H.scale-I.gesture.scale,H.da=H.angle-I.gesture.angle;I.gesture.distance=H.distance,I.gesture.angle=H.angle,D.number(H.scale)&&H.scale!==1/0&&!isNaN(H.scale)&&(I.gesture.scale=H.scale)}}var _n={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(z){var I=z.actions,H=z.Interactable,G=z.defaults;H.prototype.gesturable=function(Y){return D.object(Y)?(this.options.gesture.enabled=Y.enabled!==!1,this.setPerAction("gesture",Y),this.setOnEvents("gesture",Y),this):D.bool(Y)?(this.options.gesture.enabled=Y,this):this.options.gesture},I.map.gesture=_n,I.methodDict.gesture="gesturable",G.actions.gesture=_n.defaults},listeners:{"interactions:action-start":qt,"interactions:action-move":qt,"interactions:action-end":qt,"interactions:new":function(z){z.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(z){if(!(z.interaction.pointers.length<2)){var I=z.interactable.options.gesture;if(I&&I.enabled)return z.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""},filterEventType:function(z){return z.search("gesture")===0}},cr=_n;function Kr(z,I,H,G,Y,ne,se){if(!I)return!1;if(I===!0){var me=D.number(ne.width)?ne.width:ne.right-ne.left,be=D.number(ne.height)?ne.height:ne.bottom-ne.top;if(se=Math.min(se,Math.abs((z==="left"||z==="right"?me:be)/2)),me<0&&(z==="left"?z="right":z==="right"&&(z="left")),be<0&&(z==="top"?z="bottom":z==="bottom"&&(z="top")),z==="left"){var De=me>=0?ne.left:ne.right;return H.x<De+se}if(z==="top"){var Ce=be>=0?ne.top:ne.bottom;return H.y<Ce+se}if(z==="right")return H.x>(me>=0?ne.right:ne.left)-se;if(z==="bottom")return H.y>(be>=0?ne.bottom:ne.top)-se}return!!D.element(G)&&(D.element(I)?I===G:ue(G,I,Y))}function Bn(z){var I=z.iEvent,H=z.interaction;if(H.prepared.name==="resize"&&H.resizeAxes){var G=I;H.interactable.options.resize.square?(H.resizeAxes==="y"?G.delta.x=G.delta.y:G.delta.y=G.delta.x,G.axes="xy"):(G.axes=H.resizeAxes,H.resizeAxes==="x"?G.delta.y=0:H.resizeAxes==="y"&&(G.delta.x=0))}}var Ri,xr,Tn={id:"actions/resize",before:["actions/drag"],install:function(z){var I=z.actions,H=z.browser,G=z.Interactable,Y=z.defaults;Tn.cursors=function(ne){return ne.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(H),Tn.defaultMargin=H.supportsTouch||H.supportsPointerEvent?20:10,G.prototype.resizable=function(ne){return function(se,me,be){return D.object(me)?(se.options.resize.enabled=me.enabled!==!1,se.setPerAction("resize",me),se.setOnEvents("resize",me),D.string(me.axis)&&/^x$|^y$|^xy$/.test(me.axis)?se.options.resize.axis=me.axis:me.axis===null&&(se.options.resize.axis=be.defaults.actions.resize.axis),D.bool(me.preserveAspectRatio)?se.options.resize.preserveAspectRatio=me.preserveAspectRatio:D.bool(me.square)&&(se.options.resize.square=me.square),se):D.bool(me)?(se.options.resize.enabled=me,se):se.options.resize}(this,ne,z)},I.map.resize=Tn,I.methodDict.resize="resizable",Y.actions.resize=Tn.defaults},listeners:{"interactions:new":function(z){z.interaction.resizeAxes="xy"},"interactions:action-start":function(z){(function(I){var H=I.iEvent,G=I.interaction;if(G.prepared.name==="resize"&&G.prepared.edges){var Y=H,ne=G.rect;G._rects={start:Ae({},ne),corrected:Ae({},ne),previous:Ae({},ne),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},Y.edges=G.prepared.edges,Y.rect=G._rects.corrected,Y.deltaRect=G._rects.delta}})(z),Bn(z)},"interactions:action-move":function(z){(function(I){var H=I.iEvent,G=I.interaction;if(G.prepared.name==="resize"&&G.prepared.edges){var Y=H,ne=G.interactable.options.resize.invert,se=ne==="reposition"||ne==="negate",me=G.rect,be=G._rects,De=be.start,Ce=be.corrected,Ze=be.delta,vt=be.previous;if(Ae(vt,Ce),se){if(Ae(Ce,me),ne==="reposition"){if(Ce.top>Ce.bottom){var Bt=Ce.top;Ce.top=Ce.bottom,Ce.bottom=Bt}if(Ce.left>Ce.right){var Pt=Ce.left;Ce.left=Ce.right,Ce.right=Pt}}}else Ce.top=Math.min(me.top,De.bottom),Ce.bottom=Math.max(me.bottom,De.top),Ce.left=Math.min(me.left,De.right),Ce.right=Math.max(me.right,De.left);for(var Vt in Ce.width=Ce.right-Ce.left,Ce.height=Ce.bottom-Ce.top,Ce)Ze[Vt]=Ce[Vt]-vt[Vt];Y.edges=G.prepared.edges,Y.rect=Ce,Y.deltaRect=Ze}})(z),Bn(z)},"interactions:action-end":function(z){var I=z.iEvent,H=z.interaction;if(H.prepared.name==="resize"&&H.prepared.edges){var G=I;G.edges=H.prepared.edges,G.rect=H._rects.corrected,G.deltaRect=H._rects.delta}},"auto-start:check":function(z){var I=z.interaction,H=z.interactable,G=z.element,Y=z.rect,ne=z.buttons;if(Y){var se=Ae({},I.coords.cur.page),me=H.options.resize;if(me&&me.enabled&&(!I.pointerIsDown||!/mouse|pointer/.test(I.pointerType)||(ne&me.mouseButtons)!=0)){if(D.object(me.edges)){var be={left:!1,right:!1,top:!1,bottom:!1};for(var De in be)be[De]=Kr(De,me.edges[De],se,I._latestPointer.eventTarget,G,Y,me.margin||Tn.defaultMargin);be.left=be.left&&!be.right,be.top=be.top&&!be.bottom,(be.left||be.right||be.top||be.bottom)&&(z.action={name:"resize",edges:be})}else{var Ce=me.axis!=="y"&&se.x>Y.right-Tn.defaultMargin,Ze=me.axis!=="x"&&se.y>Y.bottom-Tn.defaultMargin;(Ce||Ze)&&(z.action={name:"resize",axes:(Ce?"x":"")+(Ze?"y":"")})}return!z.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(z){var I=z.edges,H=z.axis,G=z.name,Y=Tn.cursors,ne=null;if(H)ne=Y[G+H];else if(I){for(var se="",me=0,be=["top","bottom","left","right"];me<be.length;me++){var De=be[me];I[De]&&(se+=De)}ne=Y[se]}return ne},filterEventType:function(z){return z.search("resize")===0},defaultMargin:null},Rn=Tn,ti={id:"actions",install:function(z){z.usePlugin(cr),z.usePlugin(Rn),z.usePlugin(V),z.usePlugin(Dt)}},dn=0,ai={request:function(z){return Ri(z)},cancel:function(z){return xr(z)},init:function(z){if(Ri=z.requestAnimationFrame,xr=z.cancelAnimationFrame,!Ri)for(var I=["ms","moz","webkit","o"],H=0;H<I.length;H++){var G=I[H];Ri=z["".concat(G,"RequestAnimationFrame")],xr=z["".concat(G,"CancelAnimationFrame")]||z["".concat(G,"CancelRequestAnimationFrame")]}Ri=Ri&&Ri.bind(z),xr=xr&&xr.bind(z),Ri||(Ri=function(Y){var ne=Date.now(),se=Math.max(0,16-(ne-dn)),me=z.setTimeout(function(){Y(ne+se)},se);return dn=ne+se,me},xr=function(Y){return clearTimeout(Y)})}},un={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(z){un.isScrolling=!0,ai.cancel(un.i),z.autoScroll=un,un.interaction=z,un.prevTime=un.now(),un.i=ai.request(un.scroll)},stop:function(){un.isScrolling=!1,un.interaction&&(un.interaction.autoScroll=null),ai.cancel(un.i)},scroll:function(){var z=un.interaction,I=z.interactable,H=z.element,G=z.prepared.name,Y=I.options[G].autoScroll,ne=Nr(Y.container,I,H),se=un.now(),me=(se-un.prevTime)/1e3,be=Y.speed*me;if(be>=1){var De={x:un.x*be,y:un.y*be};if(De.x||De.y){var Ce=Ur(ne);D.window(ne)?ne.scrollBy(De.x,De.y):ne&&(ne.scrollLeft+=De.x,ne.scrollTop+=De.y);var Ze=Ur(ne),vt={x:Ze.x-Ce.x,y:Ze.y-Ce.y};(vt.x||vt.y)&&I.fire({type:"autoscroll",target:H,interactable:I,delta:vt,interaction:z,container:ne})}un.prevTime=se}un.isScrolling&&(ai.cancel(un.i),un.i=ai.request(un.scroll))},check:function(z,I){var H;return(H=z.options[I].autoScroll)==null?void 0:H.enabled},onInteractionMove:function(z){var I=z.interaction,H=z.pointer;if(I.interacting()&&un.check(I.interactable,I.prepared.name))if(I.simulation)un.x=un.y=0;else{var G,Y,ne,se,me=I.interactable,be=I.element,De=I.prepared.name,Ce=me.options[De].autoScroll,Ze=Nr(Ce.container,me,be);if(D.window(Ze))se=H.clientX<un.margin,G=H.clientY<un.margin,Y=H.clientX>Ze.innerWidth-un.margin,ne=H.clientY>Ze.innerHeight-un.margin;else{var vt=pe(Ze);se=H.clientX<vt.left+un.margin,G=H.clientY<vt.top+un.margin,Y=H.clientX>vt.right-un.margin,ne=H.clientY>vt.bottom-un.margin}un.x=Y?1:se?-1:0,un.y=ne?1:G?-1:0,un.isScrolling||(un.margin=Ce.margin,un.speed=Ce.speed,un.start(I))}}};function Nr(z,I,H){return(D.string(z)?Ue(z,I,H):z)||R(H)}function Ur(z){return D.window(z)&&(z=window.document.body),{x:z.scrollLeft,y:z.scrollTop}}var Ir={id:"auto-scroll",install:function(z){var I=z.defaults,H=z.actions;z.autoScroll=un,un.now=function(){return z.now()},H.phaselessTypes.autoscroll=!0,I.perAction.autoScroll=un.defaults},listeners:{"interactions:new":function(z){z.interaction.autoScroll=null},"interactions:destroy":function(z){z.interaction.autoScroll=null,un.stop(),un.interaction&&(un.interaction=null)},"interactions:stop":un.stop,"interactions:action-move":function(z){return un.onInteractionMove(z)}}},zr=Ir;function ur(z,I){var H=!1;return function(){return H||(w.console.warn(I),H=!0),z.apply(this,arguments)}}function wr(z,I){return z.name=I.name,z.axis=I.axis,z.edges=I.edges,z}function le(z){return D.bool(z)?(this.options.styleCursor=z,this):z===null?(delete this.options.styleCursor,this):this.options.styleCursor}function Be(z){return D.func(z)?(this.options.actionChecker=z,this):z===null?(delete this.options.actionChecker,this):this.options.actionChecker}var rt={id:"auto-start/interactableMethods",install:function(z){var I=z.Interactable;I.prototype.getAction=function(H,G,Y,ne){var se=function(me,be,De,Ce,Ze){var vt=me.getRect(Ce),Bt=be.buttons||{0:1,1:4,3:8,4:16}[be.button],Pt={action:null,interactable:me,interaction:De,element:Ce,rect:vt,buttons:Bt};return Ze.fire("auto-start:check",Pt),Pt.action}(this,G,Y,ne,z);return this.options.actionChecker?this.options.actionChecker(H,G,se,this,ne,Y):se},I.prototype.ignoreFrom=ur(function(H){return this._backCompatOption("ignoreFrom",H)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),I.prototype.allowFrom=ur(function(H){return this._backCompatOption("allowFrom",H)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),I.prototype.actionChecker=Be,I.prototype.styleCursor=le}};function Ke(z,I,H,G,Y){return I.testIgnoreAllow(I.options[z.name],H,G)&&I.options[z.name].enabled&&Kt(I,H,z,Y)?z:null}function Ve(z,I,H,G,Y,ne,se){for(var me=0,be=G.length;me<be;me++){var De=G[me],Ce=Y[me],Ze=De.getAction(I,H,z,Ce);if(Ze){var vt=Ke(Ze,De,Ce,ne,se);if(vt)return{action:vt,interactable:De,element:Ce}}}return{action:null,interactable:null,element:null}}function Rt(z,I,H,G,Y){var ne=[],se=[],me=G;function be(Ce){ne.push(Ce),se.push(me)}for(;D.element(me);){ne=[],se=[],Y.interactables.forEachMatch(me,be);var De=Ve(z,I,H,ne,se,G,Y);if(De.action&&!De.interactable.options[De.action.name].manualStart)return De;me=ce(me)}return{action:null,interactable:null,element:null}}function jt(z,I,H){var G=I.action,Y=I.interactable,ne=I.element;G=G||{name:null},z.interactable=Y,z.element=ne,wr(z.prepared,G),z.rect=Y&&G.name?Y.getRect(ne):null,hn(z,H),H.fire("autoStart:prepared",{interaction:z})}function Kt(z,I,H,G){var Y=z.options,ne=Y[H.name].max,se=Y[H.name].maxPerElement,me=G.autoStart.maxInteractions,be=0,De=0,Ce=0;if(!(ne&&se&&me))return!1;for(var Ze=0,vt=G.interactions.list;Ze<vt.length;Ze++){var Bt=vt[Ze],Pt=Bt.prepared.name;if(Bt.interacting()&&(++be>=me||Bt.interactable===z&&((De+=Pt===H.name?1:0)>=ne||Bt.element===I&&(Ce++,Pt===H.name&&Ce>=se))))return!1}return me>0}function Xt(z,I){return D.number(z)?(I.autoStart.maxInteractions=z,this):I.autoStart.maxInteractions}function bn(z,I,H){var G=H.autoStart.cursorElement;G&&G!==z&&(G.style.cursor=""),z.ownerDocument.documentElement.style.cursor=I,z.style.cursor=I,H.autoStart.cursorElement=I?z:null}function hn(z,I){var H=z.interactable,G=z.element,Y=z.prepared;if(z.pointerType==="mouse"&&H&&H.options.styleCursor){var ne="";if(Y.name){var se=H.options[Y.name].cursorChecker;ne=D.func(se)?se(Y,H,G,z._interacting):I.actions.map[Y.name].getCursor(Y)}bn(z.element,ne||"",I)}else I.autoStart.cursorElement&&bn(I.autoStart.cursorElement,"",I)}var sn={id:"auto-start/base",before:["actions"],install:function(z){var I=z.interactStatic,H=z.defaults;z.usePlugin(rt),H.base.actionChecker=null,H.base.styleCursor=!0,Ae(H.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),I.maxInteractions=function(G){return Xt(G,z)},z.autoStart={maxInteractions:1/0,withinInteractionLimit:Kt,cursorElement:null}},listeners:{"interactions:down":function(z,I){var H=z.interaction,G=z.pointer,Y=z.event,ne=z.eventTarget;H.interacting()||jt(H,Rt(H,G,Y,ne,I),I)},"interactions:move":function(z,I){(function(H,G){var Y=H.interaction,ne=H.pointer,se=H.event,me=H.eventTarget;Y.pointerType!=="mouse"||Y.pointerIsDown||Y.interacting()||jt(Y,Rt(Y,ne,se,me,G),G)})(z,I),function(H,G){var Y=H.interaction;if(Y.pointerIsDown&&!Y.interacting()&&Y.pointerWasMoved&&Y.prepared.name){G.fire("autoStart:before-start",H);var ne=Y.interactable,se=Y.prepared.name;se&&ne&&(ne.options[se].manualStart||!Kt(ne,Y.element,Y.prepared,G)?Y.stop():(Y.start(Y.prepared,ne,Y.element),hn(Y,G)))}}(z,I)},"interactions:stop":function(z,I){var H=z.interaction,G=H.interactable;G&&G.options.styleCursor&&bn(H.element,"",I)}},maxInteractions:Xt,withinInteractionLimit:Kt,validateAction:Ke},$n=sn,Gn={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(z,I){var H=z.interaction,G=z.eventTarget,Y=z.dx,ne=z.dy;if(H.prepared.name==="drag"){var se=Math.abs(Y),me=Math.abs(ne),be=H.interactable.options.drag,De=be.startAxis,Ce=se>me?"x":se<me?"y":"xy";if(H.prepared.axis=be.lockAxis==="start"?Ce[0]:be.lockAxis,Ce!=="xy"&&De!=="xy"&&De!==Ce){H.prepared.name=null;for(var Ze=G,vt=function(Pt){if(Pt!==H.interactable){var Vt=H.interactable.options.drag;if(!Vt.manualStart&&Pt.testIgnoreAllow(Vt,Ze,G)){var an=Pt.getAction(H.downPointer,H.downEvent,H,Ze);if(an&&an.name==="drag"&&function(en,gn){if(!gn)return!1;var Nn=gn.options.drag.startAxis;return en==="xy"||Nn==="xy"||Nn===en}(Ce,Pt)&&$n.validateAction(an,Pt,Ze,G,I))return Pt}}};D.element(Ze);){var Bt=I.interactables.forEachMatch(Ze,vt);if(Bt){H.prepared.name="drag",H.interactable=Bt,H.element=Ze;break}Ze=ce(Ze)}}}}}};function Wn(z){var I=z.prepared&&z.prepared.name;if(!I)return null;var H=z.interactable.options;return H[I].hold||H[I].delay}var Pn={id:"auto-start/hold",install:function(z){var I=z.defaults;z.usePlugin($n),I.perAction.hold=0,I.perAction.delay=0},listeners:{"interactions:new":function(z){z.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(z){var I=z.interaction,H=Wn(I);H>0&&(I.autoStartHoldTimer=setTimeout(function(){I.start(I.prepared,I.interactable,I.element)},H))},"interactions:move":function(z){var I=z.interaction,H=z.duplicate;I.autoStartHoldTimer&&I.pointerWasMoved&&!H&&(clearTimeout(I.autoStartHoldTimer),I.autoStartHoldTimer=null)},"autoStart:before-start":function(z){var I=z.interaction;Wn(I)>0&&(I.prepared.name=null)}},getHoldDuration:Wn},Sn=Pn,fn={id:"auto-start",install:function(z){z.usePlugin($n),z.usePlugin(Sn),z.usePlugin(Gn)}},wi=function(z){return/^(always|never|auto)$/.test(z)?(this.options.preventDefault=z,this):D.bool(z)?(this.options.preventDefault=z?"always":"never",this):this.options.preventDefault};function Xn(z){var I=z.interaction,H=z.event;I.interactable&&I.interactable.checkAndPreventDefault(H)}var Vn={id:"core/interactablePreventDefault",install:function(z){var I=z.Interactable;I.prototype.preventDefault=wi,I.prototype.checkAndPreventDefault=function(H){return function(G,Y,ne){var se=G.options.preventDefault;if(se!=="never")if(se!=="always"){if(Y.events.supportsPassive&&/^touch(start|move)$/.test(ne.type)){var me=R(ne.target).document,be=Y.getDocOptions(me);if(!be||!be.events||be.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(ne.type)||D.element(ne.target)&&q(ne.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||ne.preventDefault()}else ne.preventDefault()}(this,z,H)},z.interactions.docEvents.push({type:"dragstart",listener:function(H){for(var G=0,Y=z.interactions.list;G<Y.length;G++){var ne=Y[G];if(ne.element&&(ne.element===H.target||K(ne.element,H.target)))return void ne.interactable.checkAndPreventDefault(H)}}})},listeners:["down","move","up","cancel"].reduce(function(z,I){return z["interactions:".concat(I)]=Xn,z},{})};function On(z,I){if(I.phaselessTypes[z])return!0;for(var H in I.map)if(z.indexOf(H)===0&&z.substr(H.length)in I.phases)return!0;return!1}function En(z){var I={};for(var H in z){var G=z[H];D.plainObject(G)?I[H]=En(G):D.array(G)?I[H]=ke(G):I[H]=G}return I}var ni=function(){function z(I){o(this,z),this.states=[],this.startOffset={left:0,right:0,top:0,bottom:0},this.startDelta=void 0,this.result=void 0,this.endResult=void 0,this.startEdges=void 0,this.edges=void 0,this.interaction=void 0,this.interaction=I,this.result=An(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}return s(z,[{key:"start",value:function(I,H){var G,Y,ne=I.phase,se=this.interaction,me=function(De){var Ce=De.interactable.options[De.prepared.name],Ze=Ce.modifiers;return Ze&&Ze.length?Ze:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(vt){var Bt=Ce[vt];return Bt&&Bt.enabled&&{options:Bt,methods:Bt._methods}}).filter(function(vt){return!!vt})}(se);this.prepareStates(me),this.startEdges=Ae({},se.edges),this.edges=Ae({},this.startEdges),this.startOffset=(G=se.rect,Y=H,G?{left:Y.x-G.left,top:Y.y-G.top,right:G.right-Y.x,bottom:G.bottom-Y.y}:{left:0,top:0,right:0,bottom:0}),this.startDelta={x:0,y:0};var be=this.fillArg({phase:ne,pageCoords:H,preEnd:!1});return this.result=An(),this.startAll(be),this.result=this.setAll(be)}},{key:"fillArg",value:function(I){var H=this.interaction;return I.interaction=H,I.interactable=H.interactable,I.element=H.element,I.rect||(I.rect=H.rect),I.edges||(I.edges=this.startEdges),I.startOffset=this.startOffset,I}},{key:"startAll",value:function(I){for(var H=0,G=this.states;H<G.length;H++){var Y=G[H];Y.methods.start&&(I.state=Y,Y.methods.start(I))}}},{key:"setAll",value:function(I){var H=I.phase,G=I.preEnd,Y=I.skipModifiers,ne=I.rect,se=I.edges;I.coords=Ae({},I.pageCoords),I.rect=Ae({},ne),I.edges=Ae({},se);for(var me=Y?this.states.slice(Y):this.states,be=An(I.coords,I.rect),De=0;De<me.length;De++){var Ce,Ze=me[De],vt=Ze.options,Bt=Ae({},I.coords),Pt=null;(Ce=Ze.methods)!=null&&Ce.set&&this.shouldDo(vt,G,H)&&(I.state=Ze,Pt=Ze.methods.set(I),re(I.edges,I.rect,{x:I.coords.x-Bt.x,y:I.coords.y-Bt.y})),be.eventProps.push(Pt)}Ae(this.edges,I.edges),be.delta.x=I.coords.x-I.pageCoords.x,be.delta.y=I.coords.y-I.pageCoords.y,be.rectDelta.left=I.rect.left-ne.left,be.rectDelta.right=I.rect.right-ne.right,be.rectDelta.top=I.rect.top-ne.top,be.rectDelta.bottom=I.rect.bottom-ne.bottom;var Vt=this.result.coords,an=this.result.rect;if(Vt&&an){var en=be.rect.left!==an.left||be.rect.right!==an.right||be.rect.top!==an.top||be.rect.bottom!==an.bottom;be.changed=en||Vt.x!==be.coords.x||Vt.y!==be.coords.y}return be}},{key:"applyToInteraction",value:function(I){var H=this.interaction,G=I.phase,Y=H.coords.cur,ne=H.coords.start,se=this.result,me=this.startDelta,be=se.delta;G==="start"&&Ae(this.startDelta,se.delta);for(var De=0,Ce=[[ne,me],[Y,be]];De<Ce.length;De++){var Ze=Ce[De],vt=Ze[0],Bt=Ze[1];vt.page.x+=Bt.x,vt.page.y+=Bt.y,vt.client.x+=Bt.x,vt.client.y+=Bt.y}var Pt=this.result.rectDelta,Vt=I.rect||H.rect;Vt.left+=Pt.left,Vt.right+=Pt.right,Vt.top+=Pt.top,Vt.bottom+=Pt.bottom,Vt.width=Vt.right-Vt.left,Vt.height=Vt.bottom-Vt.top}},{key:"setAndApply",value:function(I){var H=this.interaction,G=I.phase,Y=I.preEnd,ne=I.skipModifiers,se=this.setAll(this.fillArg({preEnd:Y,phase:G,pageCoords:I.modifiedCoords||H.coords.cur.page}));if(this.result=se,!se.changed&&(!ne||ne<this.states.length)&&H.interacting())return!1;if(I.modifiedCoords){var me=H.coords.cur.page,be={x:I.modifiedCoords.x-me.x,y:I.modifiedCoords.y-me.y};se.coords.x+=be.x,se.coords.y+=be.y,se.delta.x+=be.x,se.delta.y+=be.y}this.applyToInteraction(I)}},{key:"beforeEnd",value:function(I){var H=I.interaction,G=I.event,Y=this.states;if(Y&&Y.length){for(var ne=!1,se=0;se<Y.length;se++){var me=Y[se];I.state=me;var be=me.options,De=me.methods,Ce=De.beforeEnd&&De.beforeEnd(I);if(Ce)return this.endResult=Ce,!1;ne=ne||!ne&&this.shouldDo(be,!0,I.phase,!0)}ne&&H.move({event:G,preEnd:!0})}}},{key:"stop",value:function(I){var H=I.interaction;if(this.states&&this.states.length){var G=Ae({states:this.states,interactable:H.interactable,element:H.element,rect:null},I);this.fillArg(G);for(var Y=0,ne=this.states;Y<ne.length;Y++){var se=ne[Y];G.state=se,se.methods.stop&&se.methods.stop(G)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(I){this.states=[];for(var H=0;H<I.length;H++){var G=I[H],Y=G.options,ne=G.methods,se=G.name;this.states.push({options:Y,methods:ne,index:H,name:se})}return this.states}},{key:"restoreInteractionCoords",value:function(I){var H=I.interaction,G=H.coords,Y=H.rect,ne=H.modification;if(ne.result){for(var se=ne.startDelta,me=ne.result,be=me.delta,De=me.rectDelta,Ce=0,Ze=[[G.start,se],[G.cur,be]];Ce<Ze.length;Ce++){var vt=Ze[Ce],Bt=vt[0],Pt=vt[1];Bt.page.x-=Pt.x,Bt.page.y-=Pt.y,Bt.client.x-=Pt.x,Bt.client.y-=Pt.y}Y.left-=De.left,Y.right-=De.right,Y.top-=De.top,Y.bottom-=De.bottom}}},{key:"shouldDo",value:function(I,H,G,Y){return!(!I||I.enabled===!1||Y&&!I.endOnly||I.endOnly&&!H||G==="start"&&!I.setStart)}},{key:"copyFrom",value:function(I){this.startOffset=I.startOffset,this.startDelta=I.startDelta,this.startEdges=I.startEdges,this.edges=I.edges,this.states=I.states.map(function(H){return En(H)}),this.result=An(Ae({},I.result.coords),Ae({},I.result.rect))}},{key:"destroy",value:function(){for(var I in this)this[I]=null}}]),z}();function An(z,I){return{rect:I,coords:z,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function Ci(z,I){var H=z.defaults,G={start:z.start,set:z.set,beforeEnd:z.beforeEnd,stop:z.stop},Y=function(ne){var se=ne||{};for(var me in se.enabled=se.enabled!==!1,H)me in se||(se[me]=H[me]);var be={options:se,methods:G,name:I,enable:function(){return se.enabled=!0,be},disable:function(){return se.enabled=!1,be}};return be};return I&&typeof I=="string"&&(Y._defaults=H,Y._methods=G),Y}function Ni(z){var I=z.iEvent,H=z.interaction.modification.result;H&&(I.modifiers=H.eventProps)}var Gi={id:"modifiers/base",before:["actions"],install:function(z){z.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(z){var I=z.interaction;I.modification=new ni(I)},"interactions:before-action-start":function(z){var I=z.interaction,H=z.interaction.modification;H.start(z,I.coords.start.page),I.edges=H.edges,H.applyToInteraction(z)},"interactions:before-action-move":function(z){var I=z.interaction,H=I.modification,G=H.setAndApply(z);return I.edges=H.edges,G},"interactions:before-action-end":function(z){var I=z.interaction,H=I.modification,G=H.beforeEnd(z);return I.edges=H.startEdges,G},"interactions:action-start":Ni,"interactions:action-move":Ni,"interactions:action-end":Ni,"interactions:after-action-start":function(z){return z.interaction.modification.restoreInteractionCoords(z)},"interactions:after-action-move":function(z){return z.interaction.modification.restoreInteractionCoords(z)},"interactions:stop":function(z){return z.interaction.modification.stop(z)}}},Ki=Gi,Pr={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}},Yi=function(z){h(H,z);var I=C(H);function H(G,Y,ne,se,me,be,De){var Ce;o(this,H),(Ce=I.call(this,G)).relatedTarget=null,Ce.screenX=void 0,Ce.screenY=void 0,Ce.button=void 0,Ce.buttons=void 0,Ce.ctrlKey=void 0,Ce.shiftKey=void 0,Ce.altKey=void 0,Ce.metaKey=void 0,Ce.page=void 0,Ce.client=void 0,Ce.delta=void 0,Ce.rect=void 0,Ce.x0=void 0,Ce.y0=void 0,Ce.t0=void 0,Ce.dt=void 0,Ce.duration=void 0,Ce.clientX0=void 0,Ce.clientY0=void 0,Ce.velocity=void 0,Ce.speed=void 0,Ce.swipe=void 0,Ce.axes=void 0,Ce.preEnd=void 0,me=me||G.element;var Ze=G.interactable,vt=(Ze&&Ze.options||Pr).deltaSource,Bt=Fe(Ze,me,ne),Pt=se==="start",Vt=se==="end",an=Pt?x(Ce):G.prevEvent,en=Pt?G.coords.start:Vt?{page:an.page,client:an.client,timeStamp:G.coords.cur.timeStamp}:G.coords.cur;return Ce.page=Ae({},en.page),Ce.client=Ae({},en.client),Ce.rect=Ae({},G.rect),Ce.timeStamp=en.timeStamp,Vt||(Ce.page.x-=Bt.x,Ce.page.y-=Bt.y,Ce.client.x-=Bt.x,Ce.client.y-=Bt.y),Ce.ctrlKey=Y.ctrlKey,Ce.altKey=Y.altKey,Ce.shiftKey=Y.shiftKey,Ce.metaKey=Y.metaKey,Ce.button=Y.button,Ce.buttons=Y.buttons,Ce.target=me,Ce.currentTarget=me,Ce.preEnd=be,Ce.type=De||ne+(se||""),Ce.interactable=Ze,Ce.t0=Pt?G.pointers[G.pointers.length-1].downTime:an.t0,Ce.x0=G.coords.start.page.x-Bt.x,Ce.y0=G.coords.start.page.y-Bt.y,Ce.clientX0=G.coords.start.client.x-Bt.x,Ce.clientY0=G.coords.start.client.y-Bt.y,Ce.delta=Pt||Vt?{x:0,y:0}:{x:Ce[vt].x-an[vt].x,y:Ce[vt].y-an[vt].y},Ce.dt=G.coords.delta.timeStamp,Ce.duration=Ce.timeStamp-Ce.t0,Ce.velocity=Ae({},G.coords.velocity[vt]),Ce.speed=$e(Ce.velocity.x,Ce.velocity.y),Ce.swipe=Vt||se==="inertiastart"?Ce.getSwipe():null,Ce}return s(H,[{key:"getSwipe",value:function(){var G=this._interaction;if(G.prevEvent.speed<600||this.timeStamp-G.prevEvent.timeStamp>150)return null;var Y=180*Math.atan2(G.prevEvent.velocityY,G.prevEvent.velocityX)/Math.PI;Y<0&&(Y+=360);var ne=112.5<=Y&&Y<247.5,se=202.5<=Y&&Y<337.5;return{up:se,down:!se&&22.5<=Y&&Y<157.5,left:ne,right:!ne&&(292.5<=Y||Y<67.5),angle:Y,speed:G.prevEvent.speed,velocity:{x:G.prevEvent.velocityX,y:G.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}]),H}(it);Object.defineProperties(Yi.prototype,{pageX:{get:function(){return this.page.x},set:function(z){this.page.x=z}},pageY:{get:function(){return this.page.y},set:function(z){this.page.y=z}},clientX:{get:function(){return this.client.x},set:function(z){this.client.x=z}},clientY:{get:function(){return this.client.y},set:function(z){this.client.y=z}},dx:{get:function(){return this.delta.x},set:function(z){this.delta.x=z}},dy:{get:function(){return this.delta.y},set:function(z){this.delta.y=z}},velocityX:{get:function(){return this.velocity.x},set:function(z){this.velocity.x=z}},velocityY:{get:function(){return this.velocity.y},set:function(z){this.velocity.y=z}}});var po=s(function z(I,H,G,Y,ne){o(this,z),this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=I,this.pointer=H,this.event=G,this.downTime=Y,this.downTarget=ne}),Ka=function(z){return z.interactable="",z.element="",z.prepared="",z.pointerIsDown="",z.pointerWasMoved="",z._proxy="",z}({}),Ma=function(z){return z.start="",z.move="",z.end="",z.stop="",z.interacting="",z}({}),Ds=0,sf=function(){function z(I){var H=this,G=I.pointerType,Y=I.scopeFire;o(this,z),this.interactable=null,this.element=null,this.rect=null,this._rects=void 0,this.edges=null,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=void 0,this.simulation=null,this.doMove=ur(function(Ce){this.move(Ce)},"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},prev:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},cur:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},delta:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},velocity:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},this._id=Ds++,this._scopeFire=Y,this.pointerType=G;var ne=this;this._proxy={};var se=function(Ce){Object.defineProperty(H._proxy,Ce,{get:function(){return ne[Ce]}})};for(var me in Ka)se(me);var be=function(Ce){Object.defineProperty(H._proxy,Ce,{value:function(){return ne[Ce].apply(ne,arguments)}})};for(var De in Ma)be(De);this._scopeFire("interactions:new",{interaction:this})}return s(z,[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(I,H,G){var Y=this.updatePointer(I,H,G,!0),ne=this.pointers[Y];this._scopeFire("interactions:down",{pointer:I,event:H,eventTarget:G,pointerIndex:Y,pointerInfo:ne,type:"down",interaction:this})}},{key:"start",value:function(I,H,G){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(I.name==="gesture"?2:1)||!H.options[I.name].enabled)&&(wr(this.prepared,I),this.interactable=H,this.element=G,this.rect=H.getRect(G),this.edges=this.prepared.edges?Ae({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(I,H,G){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(I,H,G,!1);var Y,ne,se=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(Y=this.coords.cur.client.x-this.coords.start.client.x,ne=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=$e(Y,ne)>this.pointerMoveTolerance);var me,be,De,Ce=this.getPointerIndex(I),Ze={pointer:I,pointerIndex:Ce,pointerInfo:this.pointers[Ce],event:H,type:"move",eventTarget:G,dx:Y,dy:ne,duplicate:se,interaction:this};se||(me=this.coords.velocity,be=this.coords.delta,De=Math.max(be.timeStamp/1e3,.001),me.page.x=be.page.x/De,me.page.y=be.page.y/De,me.client.x=be.client.x/De,me.client.y=be.client.y/De,me.timeStamp=De),this._scopeFire("interactions:move",Ze),se||this.simulation||(this.interacting()&&(Ze.type=null,this.move(Ze)),this.pointerWasMoved&&fe(this.coords.prev,this.coords.cur))}},{key:"move",value:function(I){I&&I.event||oe(this.coords.delta),(I=Ae({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},I||{})).phase="move",this._doPhase(I)}},{key:"pointerUp",value:function(I,H,G,Y){var ne=this.getPointerIndex(I);ne===-1&&(ne=this.updatePointer(I,H,G,!1));var se=/cancel$/i.test(H.type)?"cancel":"up";this._scopeFire("interactions:".concat(se),{pointer:I,pointerIndex:ne,pointerInfo:this.pointers[ne],event:H,eventTarget:G,type:se,curEventTarget:Y,interaction:this}),this.simulation||this.end(H),this.removePointer(I,H)}},{key:"documentBlur",value:function(I){this.end(I),this._scopeFire("interactions:blur",{event:I,type:"blur",interaction:this})}},{key:"end",value:function(I){var H;this._ending=!0,I=I||this._latestPointer.event,this.interacting()&&(H=this._doPhase({event:I,interaction:this,phase:"end"})),this._ending=!1,H===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(I){var H=He(I);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:bt(this.pointers,function(G){return G.id===H})}},{key:"getPointerInfo",value:function(I){return this.pointers[this.getPointerIndex(I)]}},{key:"updatePointer",value:function(I,H,G,Y){var ne,se,me,be=He(I),De=this.getPointerIndex(I),Ce=this.pointers[De];return Y=Y!==!1&&(Y||/(down|start)$/i.test(H.type)),Ce?Ce.pointer=I:(Ce=new po(be,I,H,null,null),De=this.pointers.length,this.pointers.push(Ce)),mt(this.coords.cur,this.pointers.map(function(Ze){return Ze.pointer}),this._now()),ne=this.coords.delta,se=this.coords.prev,me=this.coords.cur,ne.page.x=me.page.x-se.page.x,ne.page.y=me.page.y-se.page.y,ne.client.x=me.client.x-se.client.x,ne.client.y=me.client.y-se.client.y,ne.timeStamp=me.timeStamp-se.timeStamp,Y&&(this.pointerIsDown=!0,Ce.downTime=this.coords.cur.timeStamp,Ce.downTarget=G,ot(this.downPointer,I),this.interacting()||(fe(this.coords.start,this.coords.cur),fe(this.coords.prev,this.coords.cur),this.downEvent=H,this.pointerWasMoved=!1)),this._updateLatestPointer(I,H,G),this._scopeFire("interactions:update-pointer",{pointer:I,event:H,eventTarget:G,down:Y,pointerInfo:Ce,pointerIndex:De,interaction:this}),De}},{key:"removePointer",value:function(I,H){var G=this.getPointerIndex(I);if(G!==-1){var Y=this.pointers[G];this._scopeFire("interactions:remove-pointer",{pointer:I,event:H,eventTarget:null,pointerIndex:G,pointerInfo:Y,interaction:this}),this.pointers.splice(G,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(I,H,G){this._latestPointer.pointer=I,this._latestPointer.event=H,this._latestPointer.eventTarget=G}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(I,H,G,Y){return new Yi(this,I,this.prepared.name,H,this.element,G,Y)}},{key:"_fireEvent",value:function(I){var H;(H=this.interactable)==null||H.fire(I),(!this.prevEvent||I.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=I)}},{key:"_doPhase",value:function(I){var H=I.event,G=I.phase,Y=I.preEnd,ne=I.type,se=this.rect;if(se&&G==="move"&&(re(this.edges,se,this.coords.delta[this.interactable.options.deltaSource]),se.width=se.right-se.left,se.height=se.bottom-se.top),this._scopeFire("interactions:before-action-".concat(G),I)===!1)return!1;var me=I.iEvent=this._createPreparedEvent(H,G,Y,ne);return this._scopeFire("interactions:action-".concat(G),I),G==="start"&&(this.prevEvent=me),this._fireEvent(me),this._scopeFire("interactions:after-action-".concat(G),I),!0}},{key:"_now",value:function(){return Date.now()}}]),z}();function Zc(z){Cr(z.interaction)}function Cr(z){if(!function(H){return!(!H.offset.pending.x&&!H.offset.pending.y)}(z))return!1;var I=z.offset.pending;return Na(z.coords.cur,I),Na(z.coords.delta,I),re(z.edges,z.rect,I),I.x=0,I.y=0,!0}function Ho(z){var I=z.x,H=z.y;this.offset.pending.x+=I,this.offset.pending.y+=H,this.offset.total.x+=I,this.offset.total.y+=H}function Na(z,I){var H=z.page,G=z.client,Y=I.x,ne=I.y;H.x+=Y,H.y+=ne,G.x+=Y,G.y+=ne}Ma.offsetBy="";var ga={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(z){z.Interaction.prototype.offsetBy=Ho},listeners:{"interactions:new":function(z){z.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(z){return function(I){I.pointerIsDown&&(Na(I.coords.cur,I.offset.total),I.offset.pending.x=0,I.offset.pending.y=0)}(z.interaction)},"interactions:before-action-start":Zc,"interactions:before-action-move":Zc,"interactions:before-action-end":function(z){var I=z.interaction;if(Cr(I))return I.move({offset:!0}),I.end(),!1},"interactions:stop":function(z){var I=z.interaction;I.offset.total.x=0,I.offset.total.y=0,I.offset.pending.x=0,I.offset.pending.y=0}}},Ta=ga,Ls=function(){function z(I){o(this,z),this.active=!1,this.isModified=!1,this.smoothEnd=!1,this.allowResume=!1,this.modification=void 0,this.modifierCount=0,this.modifierArg=void 0,this.startCoords=void 0,this.t0=0,this.v0=0,this.te=0,this.targetOffset=void 0,this.modifiedOffset=void 0,this.currentOffset=void 0,this.lambda_v0=0,this.one_ve_v0=0,this.timeout=void 0,this.interaction=void 0,this.interaction=I}return s(z,[{key:"start",value:function(I){var H=this.interaction,G=mo(H);if(!G||!G.enabled)return!1;var Y=H.coords.velocity.client,ne=$e(Y.x,Y.y),se=this.modification||(this.modification=new ni(H));if(se.copyFrom(H.modification),this.t0=H._now(),this.allowResume=G.allowResume,this.v0=ne,this.currentOffset={x:0,y:0},this.startCoords=H.coords.cur.page,this.modifierArg=se.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-H.coords.cur.timeStamp<50&&ne>G.minSpeed&&ne>G.endSpeed)this.startInertia();else{if(se.result=se.setAll(this.modifierArg),!se.result.changed)return!1;this.startSmoothEnd()}return H.modification.result.rect=null,H.offsetBy(this.targetOffset),H._doPhase({interaction:H,event:I,phase:"inertiastart"}),H.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),H.modification.result.rect=null,this.active=!0,H.simulation=this,!0}},{key:"startInertia",value:function(){var I=this,H=this.interaction.coords.velocity.client,G=mo(this.interaction),Y=G.resistance,ne=-Math.log(G.endSpeed/this.v0)/Y;this.targetOffset={x:(H.x-ne)/Y,y:(H.y-ne)/Y},this.te=ne,this.lambda_v0=Y/this.v0,this.one_ve_v0=1-G.endSpeed/this.v0;var se=this.modification,me=this.modifierArg;me.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},se.result=se.setAll(me),se.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+se.result.delta.x,y:this.targetOffset.y+se.result.delta.y}),this.onNextFrame(function(){return I.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var I=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return I.smoothEndTick()})}},{key:"onNextFrame",value:function(I){var H=this;this.timeout=ai.request(function(){H.active&&I()})}},{key:"inertiaTick",value:function(){var I,H,G,Y,ne,se,me,be=this,De=this.interaction,Ce=mo(De).resistance,Ze=(De._now()-this.t0)/1e3;if(Ze<this.te){var vt,Bt=1-(Math.exp(-Ce*Ze)-this.lambda_v0)/this.one_ve_v0;this.isModified?(I=0,H=0,G=this.targetOffset.x,Y=this.targetOffset.y,ne=this.modifiedOffset.x,se=this.modifiedOffset.y,vt={x:tn(me=Bt,I,G,ne),y:tn(me,H,Y,se)}):vt={x:this.targetOffset.x*Bt,y:this.targetOffset.y*Bt};var Pt={x:vt.x-this.currentOffset.x,y:vt.y-this.currentOffset.y};this.currentOffset.x+=Pt.x,this.currentOffset.y+=Pt.y,De.offsetBy(Pt),De.move(),this.onNextFrame(function(){return be.inertiaTick()})}else De.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var I=this,H=this.interaction,G=H._now()-this.t0,Y=mo(H).smoothEndDuration;if(G<Y){var ne={x:xn(G,0,this.targetOffset.x,Y),y:xn(G,0,this.targetOffset.y,Y)},se={x:ne.x-this.currentOffset.x,y:ne.y-this.currentOffset.y};this.currentOffset.x+=se.x,this.currentOffset.y+=se.y,H.offsetBy(se),H.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return I.smoothEndTick()})}else H.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(I){var H=I.pointer,G=I.event,Y=I.eventTarget,ne=this.interaction;ne.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),ne.updatePointer(H,G,Y,!0),ne._doPhase({interaction:ne,event:G,phase:"resume"}),fe(ne.coords.prev,ne.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,ai.cancel(this.timeout)}}]),z}();function mo(z){var I=z.interactable,H=z.prepared;return I&&I.options&&H.name&&I.options[H.name].inertia}var Gl={id:"inertia",before:["modifiers","actions"],install:function(z){var I=z.defaults;z.usePlugin(Ta),z.usePlugin(Ki),z.actions.phases.inertiastart=!0,z.actions.phases.resume=!0,I.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(z){var I=z.interaction;I.inertia=new Ls(I)},"interactions:before-action-end":function(z){var I=z.interaction,H=z.event;return(!I._interacting||I.simulation||!I.inertia.start(H))&&null},"interactions:down":function(z){var I=z.interaction,H=z.eventTarget,G=I.inertia;if(G.active)for(var Y=H;D.element(Y);){if(Y===I.element){G.resume(z);break}Y=ce(Y)}},"interactions:stop":function(z){var I=z.interaction.inertia;I.active&&I.stop()},"interactions:before-action-resume":function(z){var I=z.interaction.modification;I.stop(z),I.start(z,z.interaction.coords.cur.page),I.applyToInteraction(z)},"interactions:before-action-inertiastart":function(z){return z.interaction.modification.setAndApply(z)},"interactions:action-resume":Ni,"interactions:action-inertiastart":Ni,"interactions:after-action-inertiastart":function(z){return z.interaction.modification.restoreInteractionCoords(z)},"interactions:after-action-resume":function(z){return z.interaction.modification.restoreInteractionCoords(z)}}};function tn(z,I,H,G){var Y=1-z;return Y*Y*I+2*Y*z*H+z*z*G}function xn(z,I,H,G){return-H*(z/=G)*(z-2)+I}var Oi=Gl;function Ei(z,I){for(var H=0;H<I.length;H++){var G=I[H];if(z.immediatePropagationStopped)break;G(z)}}var Hi=function(){function z(I){o(this,z),this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=Ae({},I||{})}return s(z,[{key:"fire",value:function(I){var H,G=this.global;(H=this.types[I.type])&&Ei(I,H),!I.propagationStopped&&G&&(H=G[I.type])&&Ei(I,H)}},{key:"on",value:function(I,H){var G=Ie(I,H);for(I in G)this.types[I]=Se(this.types[I]||[],G[I])}},{key:"off",value:function(I,H){var G=Ie(I,H);for(I in G){var Y=this.types[I];if(Y&&Y.length)for(var ne=0,se=G[I];ne<se.length;ne++){var me=se[ne],be=Y.indexOf(me);be!==-1&&Y.splice(be,1)}}}},{key:"getRect",value:function(I){return null}}]),z}(),Ns=function(){function z(I){o(this,z),this.currentTarget=void 0,this.originalEvent=void 0,this.type=void 0,this.originalEvent=I,ot(this,I)}return s(z,[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}]),z}();function ko(z){return D.object(z)?{capture:!!z.capture,passive:!!z.passive}:{capture:!!z,passive:!1}}function Ua(z,I){return z===I||(typeof z=="boolean"?!!I.capture===z&&!I.passive:!!z.capture==!!I.capture&&!!z.passive==!!I.passive)}var $o={id:"events",install:function(z){var I,H=[],G={},Y=[],ne={add:se,remove:me,addDelegate:function(Ce,Ze,vt,Bt,Pt){var Vt=ko(Pt);if(!G[vt]){G[vt]=[];for(var an=0;an<Y.length;an++){var en=Y[an];se(en,vt,be),se(en,vt,De,!0)}}var gn=G[vt],Nn=Te(gn,function(ii){return ii.selector===Ce&&ii.context===Ze});Nn||(Nn={selector:Ce,context:Ze,listeners:[]},gn.push(Nn)),Nn.listeners.push({func:Bt,options:Vt})},removeDelegate:function(Ce,Ze,vt,Bt,Pt){var Vt,an=ko(Pt),en=G[vt],gn=!1;if(en)for(Vt=en.length-1;Vt>=0;Vt--){var Nn=en[Vt];if(Nn.selector===Ce&&Nn.context===Ze){for(var ii=Nn.listeners,vn=ii.length-1;vn>=0;vn--){var In=ii[vn];if(In.func===Bt&&Ua(In.options,an)){ii.splice(vn,1),ii.length||(en.splice(Vt,1),me(Ze,vt,be),me(Ze,vt,De,!0)),gn=!0;break}}if(gn)break}}},delegateListener:be,delegateUseCapture:De,delegatedEvents:G,documents:Y,targets:H,supportsOptions:!1,supportsPassive:!1};function se(Ce,Ze,vt,Bt){if(Ce.addEventListener){var Pt=ko(Bt),Vt=Te(H,function(an){return an.eventTarget===Ce});Vt||(Vt={eventTarget:Ce,events:{}},H.push(Vt)),Vt.events[Ze]||(Vt.events[Ze]=[]),Te(Vt.events[Ze],function(an){return an.func===vt&&Ua(an.options,Pt)})||(Ce.addEventListener(Ze,vt,ne.supportsOptions?Pt:Pt.capture),Vt.events[Ze].push({func:vt,options:Pt}))}}function me(Ce,Ze,vt,Bt){if(Ce.addEventListener&&Ce.removeEventListener){var Pt=bt(H,function(Rr){return Rr.eventTarget===Ce}),Vt=H[Pt];if(Vt&&Vt.events)if(Ze!=="all"){var an=!1,en=Vt.events[Ze];if(en){if(vt==="all"){for(var gn=en.length-1;gn>=0;gn--){var Nn=en[gn];me(Ce,Ze,Nn.func,Nn.options)}return}for(var ii=ko(Bt),vn=0;vn<en.length;vn++){var In=en[vn];if(In.func===vt&&Ua(In.options,ii)){Ce.removeEventListener(Ze,vt,ne.supportsOptions?ii:ii.capture),en.splice(vn,1),en.length===0&&(delete Vt.events[Ze],an=!0);break}}}an&&!Object.keys(Vt.events).length&&H.splice(Pt,1)}else for(Ze in Vt.events)Vt.events.hasOwnProperty(Ze)&&me(Ce,Ze,"all")}}function be(Ce,Ze){for(var vt=ko(Ze),Bt=new Ns(Ce),Pt=G[Ce.type],Vt=je(Ce)[0],an=Vt;D.element(an);){for(var en=0;en<Pt.length;en++){var gn=Pt[en],Nn=gn.selector,ii=gn.context;if(q(an,Nn)&&K(ii,Vt)&&K(ii,an)){var vn=gn.listeners;Bt.currentTarget=an;for(var In=0;In<vn.length;In++){var Rr=vn[In];Ua(Rr.options,vt)&&Rr.func(Bt)}}}an=ce(an)}}function De(Ce){return be(Ce,!0)}return(I=z.document)==null||I.createElement("div").addEventListener("test",null,{get capture(){return ne.supportsOptions=!0},get passive(){return ne.supportsPassive=!0}}),z.events=ne,ne}},jl={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(z){for(var I=0,H=jl.methodOrder;I<H.length;I++){var G=H[I],Y=jl[G](z);if(Y)return Y}return null},simulationResume:function(z){var I=z.pointerType,H=z.eventType,G=z.eventTarget,Y=z.scope;if(!/down|start/i.test(H))return null;for(var ne=0,se=Y.interactions.list;ne<se.length;ne++){var me=se[ne],be=G;if(me.simulation&&me.simulation.allowResume&&me.pointerType===I)for(;be;){if(be===me.element)return me;be=ce(be)}}return null},mouseOrPen:function(z){var I,H=z.pointerId,G=z.pointerType,Y=z.eventType,ne=z.scope;if(G!=="mouse"&&G!=="pen")return null;for(var se=0,me=ne.interactions.list;se<me.length;se++){var be=me[se];if(be.pointerType===G){if(be.simulation&&!va(be,H))continue;if(be.interacting())return be;I||(I=be)}}if(I)return I;for(var De=0,Ce=ne.interactions.list;De<Ce.length;De++){var Ze=Ce[De];if(!(Ze.pointerType!==G||/down/i.test(Y)&&Ze.simulation))return Ze}return null},hasPointer:function(z){for(var I=z.pointerId,H=0,G=z.scope.interactions.list;H<G.length;H++){var Y=G[H];if(va(Y,I))return Y}return null},idle:function(z){for(var I=z.pointerType,H=0,G=z.scope.interactions.list;H<G.length;H++){var Y=G[H];if(Y.pointers.length===1){var ne=Y.interactable;if(ne&&(!ne.options.gesture||!ne.options.gesture.enabled))continue}else if(Y.pointers.length>=2)continue;if(!Y.interacting()&&I===Y.pointerType)return Y}return null}};function va(z,I){return z.pointers.some(function(H){return H.id===I})}var ll=jl,cl=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function Wl(z,I){return function(H){var G=I.interactions.list,Y=wt(H),ne=je(H),se=ne[0],me=ne[1],be=[];if(/^touch/.test(H.type)){I.prevTouchTime=I.now();for(var De=0,Ce=H.changedTouches;De<Ce.length;De++){var Ze=Ce[De],vt={pointer:Ze,pointerId:He(Ze),pointerType:Y,eventType:H.type,eventTarget:se,curEventTarget:me,scope:I},Bt=Gh(vt);be.push([vt.pointer,vt.eventTarget,vt.curEventTarget,Bt])}}else{var Pt=!1;if(!Z.supportsPointerEvent&&/mouse/.test(H.type)){for(var Vt=0;Vt<G.length&&!Pt;Vt++)Pt=G[Vt].pointerType!=="mouse"&&G[Vt].pointerIsDown;Pt=Pt||I.now()-I.prevTouchTime<500||H.timeStamp===0}if(!Pt){var an={pointer:H,pointerId:He(H),pointerType:Y,eventType:H.type,curEventTarget:me,eventTarget:se,scope:I},en=Gh(an);be.push([an.pointer,an.eventTarget,an.curEventTarget,en])}}for(var gn=0;gn<be.length;gn++){var Nn=be[gn],ii=Nn[0],vn=Nn[1],In=Nn[2];Nn[3][z](ii,H,vn,In)}}}function Gh(z){var I=z.pointerType,H=z.scope,G={interaction:ll.search(z),searchDetails:z};return H.fire("interactions:find",G),G.interaction||H.interactions.new({pointerType:I})}function Vo(z,I){var H=z.doc,G=z.scope,Y=z.options,ne=G.interactions.docEvents,se=G.events,me=se[I];for(var be in G.browser.isIOS&&!Y.events&&(Y.events={passive:!1}),se.delegatedEvents)me(H,be,se.delegateListener),me(H,be,se.delegateUseCapture,!0);for(var De=Y&&Y.events,Ce=0;Ce<ne.length;Ce++){var Ze=ne[Ce];me(H,Ze.type,Ze.listener,De)}}var Kc={id:"core/interactions",install:function(z){for(var I={},H=0;H<cl.length;H++){var G=cl[H];I[G]=Wl(G,z)}var Y,ne=Z.pEventTypes;function se(){for(var me=0,be=z.interactions.list;me<be.length;me++){var De=be[me];if(De.pointerIsDown&&De.pointerType==="touch"&&!De._interacting)for(var Ce=function(){var Bt=vt[Ze];z.documents.some(function(Pt){return K(Pt.doc,Bt.downTarget)})||De.removePointer(Bt.pointer,Bt.event)},Ze=0,vt=De.pointers;Ze<vt.length;Ze++)Ce()}}(Y=ee.PointerEvent?[{type:ne.down,listener:se},{type:ne.down,listener:I.pointerDown},{type:ne.move,listener:I.pointerMove},{type:ne.up,listener:I.pointerUp},{type:ne.cancel,listener:I.pointerUp}]:[{type:"mousedown",listener:I.pointerDown},{type:"mousemove",listener:I.pointerMove},{type:"mouseup",listener:I.pointerUp},{type:"touchstart",listener:se},{type:"touchstart",listener:I.pointerDown},{type:"touchmove",listener:I.pointerMove},{type:"touchend",listener:I.pointerUp},{type:"touchcancel",listener:I.pointerUp}]).push({type:"blur",listener:function(me){for(var be=0,De=z.interactions.list;be<De.length;be++)De[be].documentBlur(me)}}),z.prevTouchTime=0,z.Interaction=function(me){h(De,me);var be=C(De);function De(){return o(this,De),be.apply(this,arguments)}return s(De,[{key:"pointerMoveTolerance",get:function(){return z.interactions.pointerMoveTolerance},set:function(Ce){z.interactions.pointerMoveTolerance=Ce}},{key:"_now",value:function(){return z.now()}}]),De}(sf),z.interactions={list:[],new:function(me){me.scopeFire=function(De,Ce){return z.fire(De,Ce)};var be=new z.Interaction(me);return z.interactions.list.push(be),be},listeners:I,docEvents:Y,pointerMoveTolerance:1},z.usePlugin(Vn)},listeners:{"scope:add-document":function(z){return Vo(z,"add")},"scope:remove-document":function(z){return Vo(z,"remove")},"interactable:unset":function(z,I){for(var H=z.interactable,G=I.interactions.list.length-1;G>=0;G--){var Y=I.interactions.list[G];Y.interactable===H&&(Y.stop(),I.fire("interactions:destroy",{interaction:Y}),Y.destroy(),I.interactions.list.length>2&&I.interactions.list.splice(G,1))}}},onDocSignal:Vo,doOnInteractions:Wl,methodNames:cl},Qc=Kc,Qa=function(z){return z[z.On=0]="On",z[z.Off=1]="Off",z}(Qa||{}),jh=function(){function z(I,H,G,Y){o(this,z),this.target=void 0,this.options=void 0,this._actions=void 0,this.events=new Hi,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._actions=H.actions,this.target=I,this._context=H.context||G,this._win=R(Me(I)?this._context:I),this._doc=this._win.document,this._scopeEvents=Y,this.set(H)}return s(z,[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(I,H){return D.func(H.onstart)&&this.on("".concat(I,"start"),H.onstart),D.func(H.onmove)&&this.on("".concat(I,"move"),H.onmove),D.func(H.onend)&&this.on("".concat(I,"end"),H.onend),D.func(H.oninertiastart)&&this.on("".concat(I,"inertiastart"),H.oninertiastart),this}},{key:"updatePerActionListeners",value:function(I,H,G){var Y,ne=this,se=(Y=this._actions.map[I])==null?void 0:Y.filterEventType,me=function(be){return(se==null||se(be))&&On(be,ne._actions)};(D.array(H)||D.object(H))&&this._onOff(Qa.Off,I,H,void 0,me),(D.array(G)||D.object(G))&&this._onOff(Qa.On,I,G,void 0,me)}},{key:"setPerAction",value:function(I,H){var G=this._defaults;for(var Y in H){var ne=Y,se=this.options[I],me=H[ne];ne==="listeners"&&this.updatePerActionListeners(I,se.listeners,me),D.array(me)?se[ne]=ke(me):D.plainObject(me)?(se[ne]=Ae(se[ne]||{},En(me)),D.object(G.perAction[ne])&&"enabled"in G.perAction[ne]&&(se[ne].enabled=me.enabled!==!1)):D.bool(me)&&D.object(G.perAction[ne])?se[ne].enabled=me:se[ne]=me}}},{key:"getRect",value:function(I){return I=I||(D.element(this.target)?this.target:null),D.string(this.target)&&(I=I||this._context.querySelector(this.target)),_e(I)}},{key:"rectChecker",value:function(I){var H=this;return D.func(I)?(this.getRect=function(G){var Y=Ae({},I.apply(H,G));return"width"in Y||(Y.width=Y.right-Y.left,Y.height=Y.bottom-Y.top),Y},this):I===null?(delete this.getRect,this):this.getRect}},{key:"_backCompatOption",value:function(I,H){if(Me(H)||D.object(H)){for(var G in this.options[I]=H,this._actions.map)this.options[G][I]=H;return this}return this.options[I]}},{key:"origin",value:function(I){return this._backCompatOption("origin",I)}},{key:"deltaSource",value:function(I){return I==="page"||I==="client"?(this.options.deltaSource=I,this):this.options.deltaSource}},{key:"getAllElements",value:function(){var I=this.target;return D.string(I)?Array.from(this._context.querySelectorAll(I)):D.func(I)&&I.getAllElements?I.getAllElements():D.element(I)?[I]:[]}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(I){return this._context===I.ownerDocument||K(this._context,I)}},{key:"testIgnoreAllow",value:function(I,H,G){return!this.testIgnore(I.ignoreFrom,H,G)&&this.testAllow(I.allowFrom,H,G)}},{key:"testAllow",value:function(I,H,G){return!I||!!D.element(G)&&(D.string(I)?ue(G,I,H):!!D.element(I)&&K(I,G))}},{key:"testIgnore",value:function(I,H,G){return!(!I||!D.element(G))&&(D.string(I)?ue(G,I,H):!!D.element(I)&&K(I,G))}},{key:"fire",value:function(I){return this.events.fire(I),this}},{key:"_onOff",value:function(I,H,G,Y,ne){D.object(H)&&!D.array(H)&&(Y=G,G=null);var se=Ie(H,G,ne);for(var me in se){me==="wheel"&&(me=Z.wheelEvent);for(var be=0,De=se[me];be<De.length;be++){var Ce=De[be];On(me,this._actions)?this.events[I===Qa.On?"on":"off"](me,Ce):D.string(this.target)?this._scopeEvents[I===Qa.On?"addDelegate":"removeDelegate"](this.target,this._context,me,Ce,Y):this._scopeEvents[I===Qa.On?"add":"remove"](this.target,me,Ce,Y)}}return this}},{key:"on",value:function(I,H,G){return this._onOff(Qa.On,I,H,G)}},{key:"off",value:function(I,H,G){return this._onOff(Qa.Off,I,H,G)}},{key:"set",value:function(I){var H=this._defaults;for(var G in D.object(I)||(I={}),this.options=En(H.base),this._actions.methodDict){var Y=G,ne=this._actions.methodDict[Y];this.options[Y]={},this.setPerAction(Y,Ae(Ae({},H.perAction),H.actions[Y])),this[ne](I[Y])}for(var se in I)se!=="getRect"?D.func(this[se])&&this[se](I[se]):this.rectChecker(I.getRect);return this}},{key:"unset",value:function(){if(D.string(this.target))for(var I in this._scopeEvents.delegatedEvents)for(var H=this._scopeEvents.delegatedEvents[I],G=H.length-1;G>=0;G--){var Y=H[G],ne=Y.selector,se=Y.context,me=Y.listeners;ne===this.target&&se===this._context&&H.splice(G,1);for(var be=me.length-1;be>=0;be--)this._scopeEvents.removeDelegate(this.target,this._context,I,me[be][0],me[be][1])}else this._scopeEvents.remove(this.target,"all")}}]),z}(),Nm=function(){function z(I){var H=this;o(this,z),this.list=[],this.selectorMap={},this.scope=void 0,this.scope=I,I.addListeners({"interactable:unset":function(G){var Y=G.interactable,ne=Y.target,se=D.string(ne)?H.selectorMap[ne]:ne[H.scope.id],me=bt(se,function(be){return be===Y});se.splice(me,1)}})}return s(z,[{key:"new",value:function(I,H){H=Ae(H||{},{actions:this.scope.actions});var G=new this.scope.Interactable(I,H,this.scope.document,this.scope.events);return this.scope.addDocument(G._doc),this.list.push(G),D.string(I)?(this.selectorMap[I]||(this.selectorMap[I]=[]),this.selectorMap[I].push(G)):(G.target[this.scope.id]||Object.defineProperty(I,this.scope.id,{value:[],configurable:!0}),I[this.scope.id].push(G)),this.scope.fire("interactable:new",{target:I,options:H,interactable:G,win:this.scope._win}),G}},{key:"getExisting",value:function(I,H){var G=H&&H.context||this.scope.document,Y=D.string(I),ne=Y?this.selectorMap[I]:I[this.scope.id];if(ne)return Te(ne,function(se){return se._context===G&&(Y||se.inContext(I))})}},{key:"forEachMatch",value:function(I,H){for(var G=0,Y=this.list;G<Y.length;G++){var ne=Y[G],se=void 0;if((D.string(ne.target)?D.element(I)&&q(I,ne.target):I===ne.target)&&ne.inContext(I)&&(se=H(ne)),se!==void 0)return se}}}]),z}(),C0=function(){function z(){var I=this;o(this,z),this.id="__interact_scope_".concat(Math.floor(100*Math.random())),this.isInitialized=!1,this.listenerMaps=[],this.browser=Z,this.defaults=En(Pr),this.Eventable=Hi,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=function(G){var Y=function ne(se,me){var be=G.interactables.getExisting(se,me);return be||((be=G.interactables.new(se,me)).events.global=ne.globalEvents),be};return Y.getPointerAverage=ht,Y.getTouchBBox=It,Y.getTouchDistance=at,Y.getTouchAngle=_t,Y.getElementRect=_e,Y.getElementClientRect=pe,Y.matchesSelector=q,Y.closest=te,Y.globalEvents={},Y.version="1.10.27",Y.scope=G,Y.use=function(ne,se){return this.scope.usePlugin(ne,se),this},Y.isSet=function(ne,se){return!!this.scope.interactables.get(ne,se&&se.context)},Y.on=ur(function(ne,se,me){if(D.string(ne)&&ne.search(" ")!==-1&&(ne=ne.trim().split(/ +/)),D.array(ne)){for(var be=0,De=ne;be<De.length;be++){var Ce=De[be];this.on(Ce,se,me)}return this}if(D.object(ne)){for(var Ze in ne)this.on(Ze,ne[Ze],se);return this}return On(ne,this.scope.actions)?this.globalEvents[ne]?this.globalEvents[ne].push(se):this.globalEvents[ne]=[se]:this.scope.events.add(this.scope.document,ne,se,{options:me}),this},"The interact.on() method is being deprecated"),Y.off=ur(function(ne,se,me){if(D.string(ne)&&ne.search(" ")!==-1&&(ne=ne.trim().split(/ +/)),D.array(ne)){for(var be=0,De=ne;be<De.length;be++){var Ce=De[be];this.off(Ce,se,me)}return this}if(D.object(ne)){for(var Ze in ne)this.off(Ze,ne[Ze],se);return this}var vt;return On(ne,this.scope.actions)?ne in this.globalEvents&&(vt=this.globalEvents[ne].indexOf(se))!==-1&&this.globalEvents[ne].splice(vt,1):this.scope.events.remove(this.scope.document,ne,se,me),this},"The interact.off() method is being deprecated"),Y.debug=function(){return this.scope},Y.supportsTouch=function(){return Z.supportsTouch},Y.supportsPointerEvent=function(){return Z.supportsPointerEvent},Y.stop=function(){for(var ne=0,se=this.scope.interactions.list;ne<se.length;ne++)se[ne].stop();return this},Y.pointerMoveTolerance=function(ne){return D.number(ne)?(this.scope.interactions.pointerMoveTolerance=ne,this):this.scope.interactions.pointerMoveTolerance},Y.addDocument=function(ne,se){this.scope.addDocument(ne,se)},Y.removeDocument=function(ne){this.scope.removeDocument(ne)},Y}(this),this.InteractEvent=Yi,this.Interactable=void 0,this.interactables=new Nm(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=function(G){return I.removeDocument(G.target)};var H=this;this.Interactable=function(G){h(ne,G);var Y=C(ne);function ne(){return o(this,ne),Y.apply(this,arguments)}return s(ne,[{key:"_defaults",get:function(){return H.defaults}},{key:"set",value:function(se){return c(v(ne.prototype),"set",this).call(this,se),H.fire("interactable:set",{options:se,interactable:this}),this}},{key:"unset",value:function(){c(v(ne.prototype),"unset",this).call(this);var se=H.interactables.list.indexOf(this);se<0||(H.interactables.list.splice(se,1),H.fire("interactable:unset",{interactable:this}))}}]),ne}(jh)}return s(z,[{key:"addListeners",value:function(I,H){this.listenerMaps.push({id:H,map:I})}},{key:"fire",value:function(I,H){for(var G=0,Y=this.listenerMaps;G<Y.length;G++){var ne=Y[G].map[I];if(ne&&ne(H,this,I)===!1)return!1}}},{key:"init",value:function(I){return this.isInitialized?this:function(H,G){return H.isInitialized=!0,D.window(G)&&A(G),ee.init(G),Z.init(G),ai.init(G),H.window=G,H.document=G.document,H.usePlugin(Qc),H.usePlugin($o),H}(this,I)}},{key:"pluginIsInstalled",value:function(I){var H=I.id;return H?!!this._plugins.map[H]:this._plugins.list.indexOf(I)!==-1}},{key:"usePlugin",value:function(I,H){if(!this.isInitialized)return this;if(this.pluginIsInstalled(I))return this;if(I.id&&(this._plugins.map[I.id]=I),this._plugins.list.push(I),I.install&&I.install(this,H),I.listeners&&I.before){for(var G=0,Y=this.listenerMaps.length,ne=I.before.reduce(function(me,be){return me[be]=!0,me[Qr(be)]=!0,me},{});G<Y;G++){var se=this.listenerMaps[G].id;if(se&&(ne[se]||ne[Qr(se)]))break}this.listenerMaps.splice(G,0,{id:I.id,map:I.listeners})}else I.listeners&&this.listenerMaps.push({id:I.id,map:I.listeners});return this}},{key:"addDocument",value:function(I,H){if(this.getDocIndex(I)!==-1)return!1;var G=R(I);H=H?Ae({},H):{},this.documents.push({doc:I,options:H}),this.events.documents.push(I),I!==this.document&&this.events.add(G,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:I,window:G,scope:this,options:H})}},{key:"removeDocument",value:function(I){var H=this.getDocIndex(I),G=R(I),Y=this.documents[H].options;this.events.remove(G,"unload",this.onWindowUnload),this.documents.splice(H,1),this.events.documents.splice(H,1),this.fire("scope:remove-document",{doc:I,window:G,scope:this,options:Y})}},{key:"getDocIndex",value:function(I){for(var H=0;H<this.documents.length;H++)if(this.documents[H].doc===I)return H;return-1}},{key:"getDocOptions",value:function(I){var H=this.getDocIndex(I);return H===-1?null:this.documents[H].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),z}();function Qr(z){return z&&z.replace(/\/.*$/,"")}var lf=new C0,ya=lf.interactStatic,Um=typeof globalThis<"u"?globalThis:window;lf.init(Um);var Bm=Object.freeze({__proto__:null,edgeTarget:function(){},elements:function(){},grid:function(z){var I=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(G){var Y=G[0],ne=G[1];return Y in z||ne in z}),H=function(G,Y){for(var ne=z.range,se=z.limits,me=se===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:se,be=z.offset,De=be===void 0?{x:0,y:0}:be,Ce={range:ne,grid:z,x:null,y:null},Ze=0;Ze<I.length;Ze++){var vt=I[Ze],Bt=vt[0],Pt=vt[1],Vt=Math.round((G-De.x)/z[Bt]),an=Math.round((Y-De.y)/z[Pt]);Ce[Bt]=Math.max(me.left,Math.min(me.right,Vt*z[Bt]+De.x)),Ce[Pt]=Math.max(me.top,Math.min(me.bottom,an*z[Pt]+De.y))}return Ce};return H.grid=z,H.coordFields=I,H}}),Fm={id:"snappers",install:function(z){var I=z.interactStatic;I.snappers=Ae(I.snappers||{},Bm),I.createSnapGrid=I.snappers.grid}},cf=Fm,yd={start:function(z){var I=z.state,H=z.rect,G=z.edges,Y=z.pageCoords,ne=I.options,se=ne.ratio,me=ne.enabled,be=I.options,De=be.equalDelta,Ce=be.modifiers;se==="preserve"&&(se=H.width/H.height),I.startCoords=Ae({},Y),I.startRect=Ae({},H),I.ratio=se,I.equalDelta=De;var Ze=I.linkedEdges={top:G.top||G.left&&!G.bottom,left:G.left||G.top&&!G.right,bottom:G.bottom||G.right&&!G.top,right:G.right||G.bottom&&!G.left};if(I.xIsPrimaryAxis=!(!G.left&&!G.right),I.equalDelta){var vt=(Ze.left?1:-1)*(Ze.top?1:-1);I.edgeSign={x:vt,y:vt}}else I.edgeSign={x:Ze.left?-1:1,y:Ze.top?-1:1};if(me!==!1&&Ae(G,Ze),Ce!=null&&Ce.length){var Bt=new ni(z.interaction);Bt.copyFrom(z.interaction.modification),Bt.prepareStates(Ce),I.subModification=Bt,Bt.startAll(r({},z))}},set:function(z){var I=z.state,H=z.rect,G=z.coords,Y=I.linkedEdges,ne=Ae({},G),se=I.equalDelta?Hm:km;if(Ae(z.edges,Y),se(I,I.xIsPrimaryAxis,G,H),!I.subModification)return null;var me=Ae({},H);re(Y,me,{x:G.x-ne.x,y:G.y-ne.y});var be=I.subModification.setAll(r(r({},z),{},{rect:me,edges:Y,pageCoords:G,prevCoords:G,prevRect:me})),De=be.delta;return be.changed&&(se(I,Math.abs(De.x)>Math.abs(De.y),be.coords,be.rect),Ae(G,be.coords)),be.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function Hm(z,I,H){var G=z.startCoords,Y=z.edgeSign;I?H.y=G.y+(H.x-G.x)*Y.y:H.x=G.x+(H.y-G.y)*Y.x}function km(z,I,H,G){var Y=z.startRect,ne=z.startCoords,se=z.ratio,me=z.edgeSign;if(I){var be=G.width/se;H.y=ne.y+(be-Y.height)*me.y}else{var De=G.height*se;H.x=ne.x+(De-Y.width)*me.x}}var $m=Ci(yd,"aspectRatio"),bd=function(){};bd._defaults={};var ul=bd;function fl(z,I,H){return D.func(z)?gt(z,I.interactable,I.element,[H.x,H.y,I]):gt(z,I.interactable,I.element)}var Jc={start:function(z){var I=z.rect,H=z.startOffset,G=z.state,Y=z.interaction,ne=z.pageCoords,se=G.options,me=se.elementRect,be=Ae({left:0,top:0,right:0,bottom:0},se.offset||{});if(I&&me){var De=fl(se.restriction,Y,ne);if(De){var Ce=De.right-De.left-I.width,Ze=De.bottom-De.top-I.height;Ce<0&&(be.left+=Ce,be.right+=Ce),Ze<0&&(be.top+=Ze,be.bottom+=Ze)}be.left+=H.left-I.width*me.left,be.top+=H.top-I.height*me.top,be.right+=H.right-I.width*(1-me.right),be.bottom+=H.bottom-I.height*(1-me.bottom)}G.offset=be},set:function(z){var I=z.coords,H=z.interaction,G=z.state,Y=G.options,ne=G.offset,se=fl(Y.restriction,H,I);if(se){var me=function(be){return!be||"left"in be&&"top"in be||((be=Ae({},be)).left=be.x||0,be.top=be.y||0,be.right=be.right||be.left+be.width,be.bottom=be.bottom||be.top+be.height),be}(se);I.x=Math.max(Math.min(me.right-ne.right,I.x),me.left+ne.left),I.y=Math.max(Math.min(me.bottom-ne.bottom,I.y),me.top+ne.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}},Wh=Ci(Jc,"restrict"),uf={top:1/0,left:1/0,bottom:-1/0,right:-1/0},Xh={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function _d(z,I){for(var H=0,G=["top","left","bottom","right"];H<G.length;H++){var Y=G[H];Y in z||(z[Y]=I[Y])}return z}var eu={noInner:uf,noOuter:Xh,start:function(z){var I,H=z.interaction,G=z.startOffset,Y=z.state,ne=Y.options;ne&&(I=ze(fl(ne.offset,H,H.coords.start.page))),I=I||{x:0,y:0},Y.offset={top:I.y+G.top,left:I.x+G.left,bottom:I.y-G.bottom,right:I.x-G.right}},set:function(z){var I=z.coords,H=z.edges,G=z.interaction,Y=z.state,ne=Y.offset,se=Y.options;if(H){var me=Ae({},I),be=fl(se.inner,G,me)||{},De=fl(se.outer,G,me)||{};_d(be,uf),_d(De,Xh),H.top?I.y=Math.min(Math.max(De.top+ne.top,me.y),be.top+ne.top):H.bottom&&(I.y=Math.max(Math.min(De.bottom+ne.bottom,me.y),be.bottom+ne.bottom)),H.left?I.x=Math.min(Math.max(De.left+ne.left,me.x),be.left+ne.left):H.right&&(I.x=Math.max(Math.min(De.right+ne.right,me.x),be.right+ne.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}},Us=Ci(eu,"restrictEdges"),Yh=Ae({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(z){}},Jc.defaults),E0=Ci({start:Jc.start,set:Jc.set,defaults:Yh},"restrictRect"),Vm={width:-1/0,height:-1/0},dl={width:1/0,height:1/0},Bs=Ci({start:function(z){return eu.start(z)},set:function(z){var I=z.interaction,H=z.state,G=z.rect,Y=z.edges,ne=H.options;if(Y){var se=we(fl(ne.min,I,z.coords))||Vm,me=we(fl(ne.max,I,z.coords))||dl;H.options={endOnly:ne.endOnly,inner:Ae({},eu.noInner),outer:Ae({},eu.noOuter)},Y.top?(H.options.inner.top=G.bottom-se.height,H.options.outer.top=G.bottom-me.height):Y.bottom&&(H.options.inner.bottom=G.top+se.height,H.options.outer.bottom=G.top+me.height),Y.left?(H.options.inner.left=G.right-se.width,H.options.outer.left=G.right-me.width):Y.right&&(H.options.inner.right=G.left+se.width,H.options.outer.right=G.left+me.width),eu.set(z),H.options=ne}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}},"restrictSize"),Xl={start:function(z){var I,H=z.interaction,G=z.interactable,Y=z.element,ne=z.rect,se=z.state,me=z.startOffset,be=se.options,De=be.offsetWithOrigin?function(vt){var Bt=vt.interaction.element,Pt=ze(gt(vt.state.options.origin,null,null,[Bt])),Vt=Pt||Fe(vt.interactable,Bt,vt.interaction.prepared.name);return Vt}(z):{x:0,y:0};if(be.offset==="startCoords")I={x:H.coords.start.page.x,y:H.coords.start.page.y};else{var Ce=gt(be.offset,G,Y,[H]);(I=ze(Ce)||{x:0,y:0}).x+=De.x,I.y+=De.y}var Ze=be.relativePoints;se.offsets=ne&&Ze&&Ze.length?Ze.map(function(vt,Bt){return{index:Bt,relativePoint:vt,x:me.left-ne.width*vt.x+I.x,y:me.top-ne.height*vt.y+I.y}}):[{index:0,relativePoint:null,x:I.x,y:I.y}]},set:function(z){var I=z.interaction,H=z.coords,G=z.state,Y=G.options,ne=G.offsets,se=Fe(I.interactable,I.element,I.prepared.name),me=Ae({},H),be=[];Y.offsetWithOrigin||(me.x-=se.x,me.y-=se.y);for(var De=0,Ce=ne;De<Ce.length;De++)for(var Ze=Ce[De],vt=me.x-Ze.x,Bt=me.y-Ze.y,Pt=0,Vt=Y.targets.length;Pt<Vt;Pt++){var an=Y.targets[Pt],en=void 0;(en=D.func(an)?an(vt,Bt,I._proxy,Ze,Pt):an)&&be.push({x:(D.number(en.x)?en.x:vt)+Ze.x,y:(D.number(en.y)?en.y:Bt)+Ze.y,range:D.number(en.range)?en.range:Y.range,source:an,index:Pt,offset:Ze})}for(var gn={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},Nn=0;Nn<be.length;Nn++){var ii=be[Nn],vn=ii.range,In=ii.x-me.x,Rr=ii.y-me.y,Qi=$e(In,Rr),ba=Qi<=vn;vn===1/0&&gn.inRange&&gn.range!==1/0&&(ba=!1),gn.target&&!(ba?gn.inRange&&vn!==1/0?Qi/vn<gn.distance/gn.range:vn===1/0&&gn.range!==1/0||Qi<gn.distance:!gn.inRange&&Qi<gn.distance)||(gn.target=ii,gn.distance=Qi,gn.range=vn,gn.inRange=ba,gn.delta.x=In,gn.delta.y=Rr)}return gn.inRange&&(H.x=gn.target.x,H.y=gn.target.y),G.closest=gn,gn},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}},Yl=Ci(Xl,"snap"),hl={start:function(z){var I=z.state,H=z.edges,G=I.options;if(!H)return null;z.state={options:{targets:null,relativePoints:[{x:H.left?0:1,y:H.top?0:1}],offset:G.offset||"self",origin:{x:0,y:0},range:G.range}},I.targetFields=I.targetFields||[["width","height"],["x","y"]],Xl.start(z),I.offsets=z.state.offsets,z.state=I},set:function(z){var I=z.interaction,H=z.state,G=z.coords,Y=H.options,ne=H.offsets,se={x:G.x-ne[0].x,y:G.y-ne[0].y};H.options=Ae({},Y),H.options.targets=[];for(var me=0,be=Y.targets||[];me<be.length;me++){var De=be[me],Ce=void 0;if(Ce=D.func(De)?De(se.x,se.y,I):De){for(var Ze=0,vt=H.targetFields;Ze<vt.length;Ze++){var Bt=vt[Ze],Pt=Bt[0],Vt=Bt[1];if(Pt in Ce||Vt in Ce){Ce.x=Ce[Pt],Ce.y=Ce[Vt];break}}H.options.targets.push(Ce)}}var an=Xl.set(z);return H.options=Y,an},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}},ff=Ci(hl,"snapSize"),cs={aspectRatio:$m,restrictEdges:Us,restrict:Wh,restrictRect:E0,restrictSize:Bs,snapEdges:Ci({start:function(z){var I=z.edges;return I?(z.state.targetFields=z.state.targetFields||[[I.left?"left":"right",I.top?"top":"bottom"]],hl.start(z)):null},set:hl.set,defaults:Ae(En(hl.defaults),{targets:void 0,range:void 0,offset:{x:0,y:0}})},"snapEdges"),snap:Yl,snapSize:ff,spring:ul,avoid:ul,transform:ul,rubberband:ul},la={id:"modifiers",install:function(z){var I=z.interactStatic;for(var H in z.usePlugin(Ki),z.usePlugin(cf),I.modifiers=cs,cs){var G=cs[H],Y=G._defaults,ne=G._methods;Y._methods=ne,z.defaults.perAction[H]=Y}}},df=la,Sd=function(z){h(H,z);var I=C(H);function H(G,Y,ne,se,me,be){var De;if(o(this,H),ot(x(De=I.call(this,me)),ne),ne!==Y&&ot(x(De),Y),De.timeStamp=be,De.originalEvent=ne,De.type=G,De.pointerId=He(Y),De.pointerType=wt(Y),De.target=se,De.currentTarget=null,G==="tap"){var Ce=me.getPointerIndex(Y);De.dt=De.timeStamp-me.pointers[Ce].downTime;var Ze=De.timeStamp-me.tapTime;De.double=!!me.prevTap&&me.prevTap.type!=="doubletap"&&me.prevTap.target===De.target&&Ze<500}else G==="doubletap"&&(De.dt=Y.timeStamp-me.tapTime,De.double=!0);return De}return s(H,[{key:"_subtractOrigin",value:function(G){var Y=G.x,ne=G.y;return this.pageX-=Y,this.pageY-=ne,this.clientX-=Y,this.clientY-=ne,this}},{key:"_addOrigin",value:function(G){var Y=G.x,ne=G.y;return this.pageX+=Y,this.pageY+=ne,this.clientX+=Y,this.clientY+=ne,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}]),H}(it),go={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(z){z.pointerEvents=go,z.defaults.actions.pointerEvents=go.defaults,Ae(z.actions.phaselessTypes,go.types)},listeners:{"interactions:new":function(z){var I=z.interaction;I.prevTap=null,I.tapTime=0},"interactions:update-pointer":function(z){var I=z.down,H=z.pointerInfo;!I&&H.hold||(H.hold={duration:1/0,timeout:null})},"interactions:move":function(z,I){var H=z.interaction,G=z.pointer,Y=z.event,ne=z.eventTarget;z.duplicate||H.pointerIsDown&&!H.pointerWasMoved||(H.pointerIsDown&&tu(z),vo({interaction:H,pointer:G,event:Y,eventTarget:ne,type:"move"},I))},"interactions:down":function(z,I){(function(H,G){for(var Y=H.interaction,ne=H.pointer,se=H.event,me=H.eventTarget,be=H.pointerIndex,De=Y.pointers[be].hold,Ce=Re(me),Ze={interaction:Y,pointer:ne,event:se,eventTarget:me,type:"hold",targets:[],path:Ce,node:null},vt=0;vt<Ce.length;vt++){var Bt=Ce[vt];Ze.node=Bt,G.fire("pointerEvents:collect-targets",Ze)}if(Ze.targets.length){for(var Pt=1/0,Vt=0,an=Ze.targets;Vt<an.length;Vt++){var en=an[Vt].eventable.options.holdDuration;en<Pt&&(Pt=en)}De.duration=Pt,De.timeout=setTimeout(function(){vo({interaction:Y,eventTarget:me,pointer:ne,event:se,type:"hold"},G)},Pt)}})(z,I),vo(z,I)},"interactions:up":function(z,I){tu(z),vo(z,I),function(H,G){var Y=H.interaction,ne=H.pointer,se=H.event,me=H.eventTarget;Y.pointerWasMoved||vo({interaction:Y,eventTarget:me,pointer:ne,event:se,type:"tap"},G)}(z,I)},"interactions:cancel":function(z,I){tu(z),vo(z,I)}},PointerEvent:Sd,fire:vo,collectEventTargets:xd,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function vo(z,I){var H=z.interaction,G=z.pointer,Y=z.event,ne=z.eventTarget,se=z.type,me=z.targets,be=me===void 0?xd(z,I):me,De=new Sd(se,G,Y,ne,H,I.now());I.fire("pointerEvents:new",{pointerEvent:De});for(var Ce={interaction:H,pointer:G,event:Y,eventTarget:ne,targets:be,type:se,pointerEvent:De},Ze=0;Ze<be.length;Ze++){var vt=be[Ze];for(var Bt in vt.props||{})De[Bt]=vt.props[Bt];var Pt=Fe(vt.eventable,vt.node);if(De._subtractOrigin(Pt),De.eventable=vt.eventable,De.currentTarget=vt.node,vt.eventable.fire(De),De._addOrigin(Pt),De.immediatePropagationStopped||De.propagationStopped&&Ze+1<be.length&&be[Ze+1].node!==De.currentTarget)break}if(I.fire("pointerEvents:fired",Ce),se==="tap"){var Vt=De.double?vo({interaction:H,pointer:G,event:Y,eventTarget:ne,type:"doubletap"},I):De;H.prevTap=Vt,H.tapTime=Vt.timeStamp}return De}function xd(z,I){var H=z.interaction,G=z.pointer,Y=z.event,ne=z.eventTarget,se=z.type,me=H.getPointerIndex(G),be=H.pointers[me];if(se==="tap"&&(H.pointerWasMoved||!be||be.downTarget!==ne))return[];for(var De=Re(ne),Ce={interaction:H,pointer:G,event:Y,eventTarget:ne,type:se,path:De,targets:[],node:null},Ze=0;Ze<De.length;Ze++){var vt=De[Ze];Ce.node=vt,I.fire("pointerEvents:collect-targets",Ce)}return se==="hold"&&(Ce.targets=Ce.targets.filter(function(Bt){var Pt,Vt;return Bt.eventable.options.holdDuration===((Pt=H.pointers[me])==null||(Vt=Pt.hold)==null?void 0:Vt.duration)})),Ce.targets}function tu(z){var I=z.interaction,H=z.pointerIndex,G=I.pointers[H].hold;G&&G.timeout&&(clearTimeout(G.timeout),G.timeout=null)}var qh=Object.freeze({__proto__:null,default:go});function Ba(z){var I=z.interaction;I.holdIntervalHandle&&(clearInterval(I.holdIntervalHandle),I.holdIntervalHandle=null)}var nu={id:"pointer-events/holdRepeat",install:function(z){z.usePlugin(go);var I=z.pointerEvents;I.defaults.holdRepeatInterval=0,I.types.holdrepeat=z.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(z,I){return z["pointerEvents:".concat(I)]=Ba,z},{"pointerEvents:new":function(z){var I=z.pointerEvent;I.type==="hold"&&(I.count=(I.count||0)+1)},"pointerEvents:fired":function(z,I){var H=z.interaction,G=z.pointerEvent,Y=z.eventTarget,ne=z.targets;if(G.type==="hold"&&ne.length){var se=ne[0].eventable.options.holdRepeatInterval;se<=0||(H.holdIntervalHandle=setTimeout(function(){I.pointerEvents.fire({interaction:H,eventTarget:Y,type:"hold",pointer:G,event:G},I)},se))}}})},ql=nu,Gm={id:"pointer-events/interactableTargets",install:function(z){var I=z.Interactable;I.prototype.pointerEvents=function(G){return Ae(this.events.options,G),this};var H=I.prototype._backCompatOption;I.prototype._backCompatOption=function(G,Y){var ne=H.call(this,G,Y);return ne===this&&(this.events.options[G]=Y),ne}},listeners:{"pointerEvents:collect-targets":function(z,I){var H=z.targets,G=z.node,Y=z.type,ne=z.eventTarget;I.interactables.forEachMatch(G,function(se){var me=se.events,be=me.options;me.types[Y]&&me.types[Y].length&&se.testIgnoreAllow(be,G,ne)&&H.push({node:G,eventable:me,props:{interactable:se}})})},"interactable:new":function(z){var I=z.interactable;I.events.getRect=function(H){return I.getRect(H)}},"interactable:set":function(z,I){var H=z.interactable,G=z.options;Ae(H.events.options,I.pointerEvents.defaults),Ae(H.events.options,G.pointerEvents||{})}}},hf=Gm,wd={id:"pointer-events",install:function(z){z.usePlugin(qh),z.usePlugin(ql),z.usePlugin(hf)}},Cd=wd,Ed={id:"reflow",install:function(z){var I=z.Interactable;z.actions.phases.reflow=!0,I.prototype.reflow=function(H){return function(G,Y,ne){for(var se=G.getAllElements(),me=ne.window.Promise,be=me?[]:null,De=function(){var Ze=se[Ce],vt=G.getRect(Ze);if(!vt)return 1;var Bt,Pt=Te(ne.interactions.list,function(en){return en.interacting()&&en.interactable===G&&en.element===Ze&&en.prepared.name===Y.name});if(Pt)Pt.move(),be&&(Bt=Pt._reflowPromise||new me(function(en){Pt._reflowResolve=en}));else{var Vt=we(vt),an=function(en){return{coords:en,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}}({page:{x:Vt.x,y:Vt.y},client:{x:Vt.x,y:Vt.y},timeStamp:ne.now()});Bt=function(en,gn,Nn,ii,vn){var In=en.interactions.new({pointerType:"reflow"}),Rr={interaction:In,event:vn,pointer:vn,eventTarget:Nn,phase:"reflow"};In.interactable=gn,In.element=Nn,In.prevEvent=vn,In.updatePointer(vn,vn,Nn,!0),oe(In.coords.delta),wr(In.prepared,ii),In._doPhase(Rr);var Qi=en.window,ba=Qi.Promise,Ui=ba?new ba(function(Go){In._reflowResolve=Go}):void 0;return In._reflowPromise=Ui,In.start(ii,gn,Nn),In._interacting?(In.move(Rr),In.end(vn)):(In.stop(),In._reflowResolve()),In.removePointer(vn,vn),Ui}(ne,G,Ze,Y,an)}be&&be.push(Bt)},Ce=0;Ce<se.length&&!De();Ce++);return be&&me.all(be).then(function(){return G})}(this,H,z)}},listeners:{"interactions:stop":function(z,I){var H=z.interaction;H.pointerType==="reflow"&&(H._reflowResolve&&H._reflowResolve(),function(G,Y){G.splice(G.indexOf(Y),1)}(I.interactions.list,H))}}},iu=Ed;if(ya.use(Vn),ya.use(Ta),ya.use(Cd),ya.use(Oi),ya.use(df),ya.use(fn),ya.use(ti),ya.use(zr),ya.use(iu),ya.default=ya,a(n)==="object"&&n)try{n.exports=ya}catch{}return ya.default=ya,ya})}(sb,sb.exports)),sb.exports}var cme=lme();const ume=Mm(cme);function BN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function Mi(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?BN(Object(t),!0).forEach(function(r){fme(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):BN(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function jE(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function FN(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function WE(n,e,t){return e&&FN(n.prototype,e),t&&FN(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function fme(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function dme(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&ER(n,e)}function TC(n){return TC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},TC(n)}function ER(n,e){return ER=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},ER(n,e)}function hme(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function pme(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function mme(n,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pme(n)}function gme(n){var e=hme();return function(){var r=TC(n),a;if(e){var o=TC(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return mme(this,a)}}function rm(n,e){return yme(n)||_me(n,e)||TH(n,e)||xme()}function zI(n){return vme(n)||bme(n)||TH(n)||Sme()}function vme(n){if(Array.isArray(n))return MR(n)}function yme(n){if(Array.isArray(n))return n}function bme(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function _me(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],a=!0,o=!1,l,s;try{for(t=t.call(n);!(a=(l=t.next()).done)&&(r.push(l.value),!(e&&r.length===e));a=!0);}catch(f){o=!0,s=f}finally{try{!a&&t.return!=null&&t.return()}finally{if(o)throw s}}return r}}function TH(n,e){if(n){if(typeof n=="string")return MR(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return MR(n,e)}}function MR(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Sme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var wme=function(){function n(e){jE(this,n),this.events={},this.events=e.handlers}return WE(n,[{key:"on",value:function(t,r){var a=this,o=t instanceof Array?t:t.split(" ");return o.forEach(function(l){if(!a.events[l])throw new Error("The event ".concat(l," does not exist"));a.events[l].push(r)}),this}},{key:"trigger",value:function(t,r){if(!(t in this.events))throw new Error("The event ".concat(String(t)," cannot be triggered"));return this.events[t].reduce(function(a,o){return o(r)!==!1&&a},!0)}},{key:"bind",value:function(t){if(this.events[t])throw new Error("The event ".concat(t," is already bound"));this.events[t]=[]}},{key:"exist",value:function(t){return Array.isArray(this.events[t])}},{key:"off",value:function(t,r){if(this.events[t]){var a=this.events[t];if(!r)this.events[t]=[];else{var o=a.indexOf(r);o!==-1&&a.splice(o,1)}}}},{key:"offAll",value:function(){this.events=Object.fromEntries(Object.keys(this.events).map(function(t){return[t,[]]}))}}]),n}(),Cme=WE(function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};jE(this,n),this.handlers={},this.handlers=Mi({beforeSetTime:[],afterSetTime:[],setTimeByTick:[],beforeSetPlayRate:[],afterSetPlayRate:[],setActiveActionIds:[],play:[],paused:[],ended:[]},e)}),Eme="playing",Mme="paused",Tme=function(n){dme(t,n);var e=gme(t);function t(){var r;return jE(this,t),r=e.call(this,new Cme),r._timerId=void 0,r._playRate=1,r._currentTime=0,r._playState="paused",r._prev=void 0,r._effectMap={},r._actionMap={},r._actionSortIds=[],r._next=0,r._activeActionIds=[],r}return WE(t,[{key:"isPlaying",get:function(){return this._playState==="playing"}},{key:"isPaused",get:function(){return this._playState==="paused"}},{key:"effects",set:function(a){this._effectMap=a}},{key:"data",set:function(a){this.isPlaying&&this.pause(),this._dealData(a),this._dealClear(),this._dealEnter(this._currentTime)}},{key:"setPlayRate",value:function(a){if(a<=0){console.error("Error: rate cannot be less than 0!");return}var o=this.trigger("beforeSetPlayRate",{rate:a,engine:this});return o?(this._playRate=a,this.trigger("afterSetPlayRate",{rate:a,engine:this}),!0):!1}},{key:"getPlayRate",value:function(){return this._playRate}},{key:"reRender",value:function(){this.isPlaying||this._tickAction(this._currentTime)}},{key:"setTime",value:function(a,o){var l=o||this.trigger("beforeSetTime",{time:a,engine:this});return l?(this._currentTime=a,this._next=0,this._dealLeave(a),this._dealEnter(a),o?this.trigger("setTimeByTick",{time:a,engine:this}):this.trigger("afterSetTime",{time:a,engine:this}),!0):!1}},{key:"getTime",value:function(){return this._currentTime}},{key:"play",value:function(a){var o=this,l=a.toTime,s=a.autoEnd,f=this.getTime();return this.isPlaying||l&&l<=f?!1:(this._playState=Eme,this._startOrStop("start"),this.trigger("play",{engine:this}),this._timerId=requestAnimationFrame(function(h){o._prev=h,o._tick({now:h,autoEnd:s,to:l})}),!0)}},{key:"pause",value:function(){this.isPlaying&&(this._playState=Mme,this._startOrStop("stop"),this.trigger("paused",{engine:this})),cancelAnimationFrame(this._timerId)}},{key:"_end",value:function(){this.pause(),this.trigger("ended",{engine:this})}},{key:"_startOrStop",value:function(a){for(var o=0;o<this._activeActionIds.length;o++){var l=this._activeActionIds[o],s=this._actionMap[l],f=this._effectMap[s==null?void 0:s.effectId];if(a==="start"){var h;!(f==null||(h=f.source)===null||h===void 0)&&h.start&&f.source.start({action:s,effect:f,engine:this,isPlaying:this.isPlaying,time:this.getTime()})}else if(a==="stop"){var v;!(f==null||(v=f.source)===null||v===void 0)&&v.stop&&f.source.stop({action:s,effect:f,engine:this,isPlaying:this.isPlaying,time:this.getTime()})}}}},{key:"_tick",value:function(a){var o=this;if(!this.isPaused){var l=a.now,s=a.autoEnd,f=a.to,h=this.getTime()+Math.min(1e3,l-this._prev)/1e3*this._playRate;if(this._prev=l,f&&f<=h&&(h=f),this.setTime(h,!0),this._tickAction(h),!f&&s&&this._next>=this._actionSortIds.length&&this._activeActionIds.length===0){this._end();return}f&&f<=h&&this._end(),!this.isPaused&&(this._timerId=requestAnimationFrame(function(v){o._tick({now:v,autoEnd:s,to:f})}))}}},{key:"_tickAction",value:function(a){this._dealEnter(a),this._dealLeave(a);for(var o=this._activeActionIds.length,l=0;l<o;l++){var s,f=this._activeActionIds[l],h=this._actionMap[f],v=this._effectMap[h.effectId];v&&(!((s=v.source)===null||s===void 0)&&s.update)&&v.source.update({time:a,action:h,isPlaying:this.isPlaying,effect:v,engine:this})}}},{key:"_dealClear",value:function(){for(;this._activeActionIds.length;){var a,o=this._activeActionIds.shift(),l=this._actionMap[o],s=this._effectMap[l==null?void 0:l.effectId];!(s==null||(a=s.source)===null||a===void 0)&&a.leave&&s.source.leave({action:l,effect:s,engine:this,isPlaying:this.isPlaying,time:this.getTime()})}this._next=0}},{key:"_dealEnter",value:function(a){for(;this._actionSortIds[this._next];){var o=this._actionSortIds[this._next],l=this._actionMap[o];if(!l.disable){if(l.start>a)break;if(l.end>a&&!this._activeActionIds.includes(o)){var s,f=this._effectMap[l.effectId];f&&(!((s=f.source)===null||s===void 0)&&s.enter)&&f.source.enter({action:l,effect:f,isPlaying:this.isPlaying,time:a,engine:this}),this._activeActionIds.push(o)}}this._next++}}},{key:"_dealLeave",value:function(a){for(var o=0;this._activeActionIds[o];){var l=this._activeActionIds[o],s=this._actionMap[l];if(s.start>a||s.end<a){var f,h=this._effectMap[s.effectId];h&&(!((f=h.source)===null||f===void 0)&&f.leave)&&h.source.leave({action:s,effect:h,isPlaying:this.isPlaying,time:a,engine:this}),this._activeActionIds.splice(o,1);continue}o++}}},{key:"_dealData",value:function(a){var o=[];a.map(function(h){o.push.apply(o,zI(h.actions))});var l=o.sort(function(h,v){return h.start-v.start}),s={},f=[];l.forEach(function(h){f.push(h.id),s[h.id]=Mi({},h)}),this._actionMap=s,this._actionSortIds=f}}]),t}(wme),TR="timeline-editor",Ame=0,HN=1,Rme=10,kN=160,AH=20,AR=1,RR=8,$N=32,OR=20,RH=5,co;(function(n){n[n.VERBOSE=0]="VERBOSE",n[n.LOG=1]="LOG",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.FATAL=5]="FATAL",n[n.SILENT=1/0]="SILENT"})(co||(co={}));var OH={VERBOSE:co.VERBOSE,LOG:co.LOG,INFO:co.INFO,WARN:co.WARN,ERROR:co.ERROR,SILENT:co.SILENT};function ev(n,e){return"color:".concat(n,";font-size:").concat(e,"px;")}var B_=function(){function n(e){jE(this,n),this.Levels=OH,this.level=co.LOG,this.prefix="",this.enabled=!0,this.debugColor=ev("#cccccc",12),this.logColor=ev("#bbbbbb",12),this.infoColor=ev("#2196f3",12),this.warnColor=ev("#ff00ff",12),this.errorColor=ev("#e91e63",12),this.fatalColor=ev("#9a0101",13),this.setPrefix(e),this.level=n.level,n.instances.push(this)}return WE(n,[{key:"setPrefix",value:function(t){this.prefix=t}},{key:"enable",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.level;this.level=t,this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1}},{key:"setLevel",value:function(t){this.level=t}},{key:"trace",value:function(t){if(!(!this.enabled||this.level>co.VERBOSE)){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];if(n.noColor){var l;(l=console).trace.apply(l,["[".concat(this.prefix,"] ").concat(t)].concat(a))}else{var s;(s=console).trace.apply(s,["%c[".concat(this.prefix,"] ").concat(t),this.debugColor].concat(a))}}}},{key:"debug",value:function(t){if(!(!this.enabled||this.level>co.VERBOSE)){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];if(n.noColor){var l;(l=console).debug.apply(l,["[".concat(this.prefix,"] ").concat(t)].concat(a))}else{var s;(s=console).debug.apply(s,["%c[".concat(this.prefix,"] ").concat(t),this.debugColor].concat(a))}}}},{key:"log",value:function(t){if(!(!this.enabled||this.level>co.LOG)){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];if(n.noColor){var l;(l=console).log.apply(l,["[".concat(this.prefix,"] ").concat(t)].concat(a))}else{var s;(s=console).log.apply(s,["%c[".concat(this.prefix,"] ").concat(t),this.logColor].concat(a))}}}},{key:"info",value:function(t){if(!(!this.enabled||this.level>co.INFO)){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];if(n.noColor){var l;(l=console).info.apply(l,["[".concat(this.prefix,"] ").concat(t)].concat(a))}else{var s;(s=console).info.apply(s,["%c[".concat(this.prefix,"] ").concat(t),this.infoColor].concat(a))}}}},{key:"warn",value:function(t){if(!(!this.enabled||this.level>co.WARN)){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];if(n.noColor){var l;(l=console).warn.apply(l,["[".concat(this.prefix,"] ").concat(t)].concat(a))}else{var s;(s=console).warn.apply(s,["%c[".concat(this.prefix,"] ").concat(t),this.warnColor].concat(a))}}}},{key:"error",value:function(t){if(!(!this.enabled||this.level>co.ERROR)){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];if(n.noColor){var l;(l=console).error.apply(l,["[".concat(this.prefix,"] ").concat(t)].concat(a))}else{var s;(s=console).error.apply(s,["%c[".concat(this.prefix,"] ").concat(t),this.errorColor].concat(a))}}}},{key:"fatal",value:function(t){if(!(!this.enabled||this.level>co.FATAL)){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];if(n.noColor){var l;(l=console).error.apply(l,["[".concat(this.prefix,"] ").concat(t)].concat(a))}else{var s;(s=console).error.apply(s,["%c[".concat(this.prefix,"] ").concat(t),this.fatalColor].concat(a))}}}},{key:"group",value:function(){if(console.group){var t;(t=console).group.apply(t,arguments)}}},{key:"groupEnd",value:function(){console.groupEnd&&console.groupEnd()}},{key:"groupCollapsed",value:function(){if(console.groupCollapsed){var t;(t=console).groupCollapsed.apply(t,arguments)}}}],[{key:"setLevel",value:function(t){this.level=t,this.instances.forEach(function(r){return r.setLevel(t)})}},{key:"enable",value:function(t){t&&(this.level=t),this.instances.forEach(function(r){return r.enable()})}},{key:"disable",value:function(){this.instances.forEach(function(t){return t.disable()})}}]),n}();B_.instances=[];B_.level=co.LOG;B_.Levels=OH;B_.noColor=!1;var uh=new B_("timeline");function Ome(n){var e=n.editorData,t=e===void 0?[]:e,r=n.effects,a=r===void 0?{}:r,o=n.scrollTop,l=o===void 0?0:o,s=n.scale,f=s===void 0?HN:s,h=n.scaleSplitCount,v=h===void 0?Rme:h,_=n.scaleWidth,x=_===void 0?kN:_,C=n.startLeft,c=C===void 0?AH:C,p=n.minScaleCount,m=p===void 0?OR:p,b=n.maxScaleCount,w=b===void 0?1/0:b,A=n.rowHeight,R=A===void 0?$N:A;f<=0&&(uh.error("Error: scale must be greater than 0!"),f=HN),l<0&&(uh.warn("Warning: scrollTop cannot be less than 0!"),l=0),v<=0&&(uh.warn("Warning: scaleSplitCount cannot be less than 1!"),v=1),x<=0&&(uh.warn("Warning: scaleWidth must be greater than 0!"),x=kN),c<0&&(uh.warn("Warning: startLeft cannot be less than 0!"),c=0),m<1&&(uh.warn("Warning: minScaleCount must be greater than 1!"),m=OR),m=parseInt(m+""),w<m&&(uh.warn("Warning: maxScaleCount cannot be less than minScaleCount!"),w=m),w=w===1/0?1/0:parseInt(w+""),R<=0&&(uh.warn("Warning: rowHeight must be greater than 0!"),R=$N);var O=Mi({},n);return delete O.style,Mi(Mi({},O),{},{editorData:t,effects:a,scrollTop:l,scale:f,scaleSplitCount:v,scaleWidth:x,startLeft:c,minScaleCount:m,maxScaleCount:w,rowHeight:R})}function Ju(n,e){var t=e.startLeft,r=e.scale,a=e.scaleWidth;return t+n/r*a}function Em(n,e){var t=e.startLeft,r=e.scale,a=e.scaleWidth;return(n-t)/a*r}function Fy(n,e){var t=n.left,r=n.width,a=Em(t,e),o=Em(t+r,e);return{start:a,end:o}}function IR(n,e){var t=n.start,r=n.end,a=Ju(t,e),o=Ju(r,e)-a;return{left:a,width:o}}function Ime(n,e){var t=0;n.forEach(function(a){a.actions.forEach(function(o){t=Math.max(t,o.end)})});var r=Math.ceil(t/e.scale);return r+RH}function zme(n,e){var t=e.startLeft,r=e.scaleWidth,a=Math.ceil((n-t)/r);return Math.max(a+RH,e.scaleCount)}function Pme(n,e){var t=[];return n.forEach(function(r){t.push(Ju(r.start,e)),t.push(Ju(r.end,e))}),t}function Io(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return ome.apply(void 0,["".concat(TR,"-")].concat(e))}var s1=1,VN=3,GN=10;function Dme(n){var e=M.useRef(Number.MIN_SAFE_INTEGER),t=M.useRef(Number.MAX_SAFE_INTEGER),r=M.useRef(s1),a=M.useRef(),o=function(){if(n!=null&&n.current){var v=n.current.getBoundingClientRect(),_=v.left,x=v.width;e.current=_,t.current=_+x}},l=function(v,_){if(v.clientX>=t.current||v.clientX<=e.current){cancelAnimationFrame(a.current);var x=Math.abs(v.clientX>=t.current?v.clientX-t.current:v.clientX-e.current);r.current=Math.min(Number((x/GN).toFixed(0))*s1,VN);var C=v.clientX>=t.current?1:-1,c=C*r.current,p=function m(){_&&_(c),a.current=requestAnimationFrame(m)};return a.current=requestAnimationFrame(p),!1}else cancelAnimationFrame(a.current);return!0},s=function(v,_,x){if(v.clientX>=t.current||v.clientX<e.current){cancelAnimationFrame(a.current);var C=Math.abs(v.clientX>=t.current?v.clientX-t.current:v.clientX-e.current);r.current=Math.min(Number((C/GN).toFixed(0))*s1,VN);var c=v.clientX>=t.current?1:-1,p=c*r.current,m=function b(){x&&x(p),a.current=requestAnimationFrame(b)};return a.current=requestAnimationFrame(m),!1}else cancelAnimationFrame(a.current);return!0},f=function(){e.current=Number.MIN_SAFE_INTEGER,t.current=Number.MAX_SAFE_INTEGER,r.current=s1,cancelAnimationFrame(a.current)};return{initAutoScroll:o,dealDragAutoScroll:l,dealResizeAutoScroll:s,stopAutoScroll:f}}var Lme=function(e){var t=e.children,r=e.interactRef,a=e.draggable,o=e.resizable,l=e.draggableOptions,s=e.resizableOptions,f=M.useRef(),h=M.useRef(),v=M.useRef(),_=M.useRef();M.useEffect(function(){v.current=Mi({},l),_.current=Mi({},s)},[l,s]),M.useEffect(function(){h.current&&h.current.unset(),h.current=ume(f.current),r.current=h.current,x()},[a,o]);var x=function(){a&&h.current.draggable(Mi(Mi({},v.current),{},{onstart:function(p){return v.current.onstart&&v.current.onstart(p)},onmove:function(p){return v.current.onmove&&v.current.onmove(p)},onend:function(p){return v.current.onend&&v.current.onend(p)}})),o&&h.current.resizable(Mi(Mi({},_.current),{},{onstart:function(p){return _.current.onstart&&_.current.onstart(p)},onmove:function(p){return _.current.onmove&&_.current.onmove(p)},onend:function(p){return _.current.onend&&_.current.onend(p)}}))};return M.cloneElement(t,{ref:f,draggable:!1})},IH=We.forwardRef(function(n,e){var t=n.children,r=n.edges,a=n.left,o=n.width,l=n.start,s=l===void 0?AH:l,f=n.grid,h=f===void 0?AR:f,v=n.bounds,_=v===void 0?{left:Number.MIN_SAFE_INTEGER,right:Number.MAX_SAFE_INTEGER}:v,x=n.enableResizing,C=x===void 0?!0:x,c=n.enableDragging,p=c===void 0?!0:c,m=n.adsorptionDistance,b=m===void 0?RR:m,w=n.adsorptionPositions,A=w===void 0?[]:w,R=n.onResizeStart,O=n.onResize,P=n.onResizeEnd,D=n.onDragStart,F=n.onDragEnd,B=n.onDrag,U=n.parentRef,V=n.deltaScrollLeft,Q=M.useRef(),X=M.useRef(0),ee=M.useRef(!1),ae=Dme(U),Z=ae.initAutoScroll,K=ae.dealDragAutoScroll,te=ae.dealResizeAutoScroll,ce=ae.stopAutoScroll;M.useEffect(function(){return function(){Q.current&&Q.current.unset()}},[]),M.useImperativeHandle(e,function(){return{updateLeft:function(we){return q(we||0,!1)},updateWidth:function(we){return J(we,!1)},getLeft:he,getWidth:ue}}),M.useEffect(function(){var ze=Q.current.target;J(typeof o>"u"?ze.offsetWidth:o,!1)},[o]),M.useEffect(function(){q(a||0,!1)},[a]);var q=function(we){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!Q.current||!Q.current.target)){re&&(X.current=0);var Fe=Q.current.target;Fe.style.left="".concat(we,"px"),Object.assign(Fe.dataset,{left:we})}},J=function(we){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!Q.current||!Q.current.target)){re&&(X.current=0);var Fe=Q.current.target;Fe.style.width="".concat(we,"px"),Object.assign(Fe.dataset,{width:we})}},he=function(){var we,re=Q.current.target;return parseFloat((re==null||(we=re.dataset)===null||we===void 0?void 0:we.left)||"0")},ue=function(){var we,re=Q.current.target;return parseFloat((re==null||(we=re.dataset)===null||we===void 0?void 0:we.width)||"0")},j=function(we){X.current=0,ee.current=!1,Z(),D&&D()},pe=function(we){var re=we.preLeft,Fe=we.preWidth,Ie=we.scrollDelta,Ye=ee.current?b:h;if(Math.abs(X.current)>=Ye){var $e=parseInt(X.current/Ye+""),lt=re+$e*Ye,ot=lt,fe=Number.MAX_SAFE_INTEGER;if(A.forEach(function(Ee){var Pe=Math.abs(Ee-lt);Pe<b&&Pe<fe&&(ot=Ee);var qe=Math.abs(Ee-(lt+Fe));qe<b&&qe<fe&&(ot=Ee-Fe)}),ot!==lt?(ee.current=!0,lt=ot):((lt-s)%h!==0&&(lt=s+h*Math.round((lt-s)/h)),ee.current=!1),X.current=X.current%Ye,lt<_.left?lt=_.left:lt+Fe>_.right&&(lt=_.right-Fe),B){var oe=B({lastLeft:re,left:lt,lastWidth:Fe,width:Fe},Ie);if(oe===!1)return}q(lt,!1)}},_e=function(we){var re=we.target;if(V&&(U!=null&&U.current)){var Fe=K(we,function(fe){V(fe);var oe=re.dataset,Ee=oe.left,Pe=oe.width,qe=parseFloat(Ee),He=parseFloat(Pe);X.current+=fe,pe({preLeft:qe,preWidth:He,scrollDelta:fe})});if(!Fe)return}var Ie=re.dataset,Ye=Ie.left,$e=Ie.width,lt=parseFloat(Ye),ot=parseFloat($e);X.current+=we.dx,pe({preLeft:lt,preWidth:ot})},Re=function(we){X.current=0,ee.current=!1,ce();var re=we.target,Fe=re.dataset,Ie=Fe.left,Ye=Fe.width;F&&F({left:parseFloat(Ie),width:parseFloat(Ye)})},Me=function(we){var re;X.current=0,ee.current=!1,Z();var Fe=!((re=we.edges)===null||re===void 0)&&re.right?"right":"left";R&&R(Fe)},Ae=function(we){var re=we.dir,Fe=we.preWidth,Ie=we.preLeft,Ye=ee.current?b:h;if(re==="left"){if(Math.abs(X.current)>=Ye){var $e=parseInt(X.current/Ye+""),lt=Ie+$e*Ye,ot=lt,fe=Number.MAX_SAFE_INTEGER;A.forEach(function(at){var _t=Math.abs(at-lt);_t<b&&_t<fe&&(ot=at)}),ot!==lt?(ee.current=!0,lt=ot):((lt-s)%h!==0&&(lt=s+h*Math.round((lt-s)/h)),ee.current=!1),X.current=X.current%Ye;var oe=Ie+Fe;lt<_.left&&(lt=_.left);var Ee=oe-lt;if(O){var Pe=O("left",{lastLeft:Ie,lastWidth:Fe,left:lt,width:Ee});if(Pe===!1)return}q(lt,!1),J(Ee,!1)}}else if(re==="right"&&Math.abs(X.current)>=Ye){var qe=parseInt(X.current/h+""),He=Fe+qe*h,mt=Ie+He,st=Number.MAX_SAFE_INTEGER;if(A.forEach(function(at){var _t=Math.abs(at-(Ie+He));_t<b&&_t<st&&(mt=at)}),mt!==Ie+He)ee.current=!0,He=mt-Ie;else{var ht=Ie+He;(ht-s)%h!==0&&(ht=s+h*Math.round((ht-s)/h),He=ht-Ie),ee.current=!1}if(X.current=X.current%Ye,Ie+He>_.right&&(He=_.right-Ie),O){var It=O("right",{lastLeft:Ie,lastWidth:Fe,left:Ie,width:He});if(It===!1)return}J(He,!1)}},Ue=function(we){var re,Fe=we.target,Ie=!((re=we.edges)===null||re===void 0)&&re.left?"left":"right";if(V&&(U!=null&&U.current)){var Ye=te(we,Ie,function(Ee){V(Ee);var Pe=Fe.dataset,qe=Pe.left,He=Pe.width,mt=parseFloat(qe),st=parseFloat(He);X.current+=Ee,Ae({preLeft:mt,preWidth:st,dir:Ie})});if(!Ye)return}var $e=Fe.dataset,lt=$e.left,ot=$e.width,fe=parseFloat(lt),oe=parseFloat(ot);X.current+=Ie==="left"?we.deltaRect.left:we.deltaRect.right,Ae({preLeft:fe,preWidth:oe,dir:Ie})},gt=function(we){var re;X.current=0,ee.current=!1,ce();var Fe=we.target,Ie=Fe.dataset,Ye=Ie.left,$e=Ie.width,lt=!((re=we.edges)===null||re===void 0)&&re.right?"right":"left";P&&P(lt,{left:parseFloat(Ye),width:parseFloat($e)})};return We.createElement(Lme,{interactRef:Q,draggable:p,resizable:C,draggableOptions:{lockAxis:"x",onmove:_e,onstart:j,onend:Re,cursorChecker:function(){return null}},resizableOptions:{axis:"x",invert:"none",edges:Mi({left:!0,right:!0,top:!1,bottom:!1},r||{}),onmove:Ue,onstart:Me,onend:gt}},We.cloneElement(t,{style:Mi(Mi({},t.props.style||{}),{},{left:a,width:o})}))});function Lm(n,e){e===void 0&&(e={});var t=e.insertAt;if(!(!n||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",t==="top"&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=n:a.appendChild(document.createTextNode(n))}}var Nme=`.timeline-editor-cursor {
  cursor: ew-resize;
  position: absolute;
  top: 32px;
  height: calc(100% - 32px);
  box-sizing: border-box;
  border-left: 1px solid #5297FF;
  border-right: 1px solid #5297FF;
  transform: translateX(-25%) scaleX(0.5);
}
.timeline-editor-cursor-top {
  position: absolute;
  top: 0;
  left: 50%;
  transform: translate(-50%, 0) scaleX(2);
  margin: auto;
}
.timeline-editor-cursor-area {
  width: 16px;
  height: 100%;
  cursor: ew-resize;
  position: absolute;
  top: 0;
  left: 50%;
  transform: translateX(-50%);
}
`;Lm(Nme);var Ume=function(e){var t=e.disableDrag,r=e.cursorTime,a=e.setCursor,o=e.startLeft,l=e.timelineWidth,s=e.scaleWidth,f=e.scale,h=e.scrollLeft,v=e.scrollSync,_=e.areaRef,x=e.maxScaleCount,C=e.deltaScrollLeft,c=e.onCursorDragStart,p=e.onCursorDrag,m=e.onCursorDragEnd,b=M.useRef(),w=M.useRef();return M.useEffect(function(){typeof w.current>"u"&&b.current.updateLeft(Ju(r,{startLeft:o,scaleWidth:s,scale:f})-h)},[r,o,s,f,h]),We.createElement(IH,{start:o,ref:b,parentRef:_,bounds:{left:0,right:Math.min(l,x*s+o-h)},deltaScrollLeft:C,enableDragging:!t,enableResizing:!1,onDragStart:function(){c&&c(r),w.current=Ju(r,{startLeft:o,scaleWidth:s,scale:f})-h,b.current.updateLeft(w.current)},onDragEnd:function(){var R=Em(w.current+h,{startLeft:o,scale:f,scaleWidth:s});a({time:R}),m&&m(R),w.current=void 0},onDrag:function(R){var O=R.left,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,D=v.current.state.scrollLeft;!P||D===0?O<o-D?w.current=o-D:w.current=O:w.current<o-D-P&&(w.current=o-D-P),b.current.updateLeft(w.current);var F=Em(w.current+D,{startLeft:o,scale:f,scaleWidth:s});return a({time:F}),p&&p(F),!1}},We.createElement("div",{className:Io("cursor")},We.createElement("svg",{className:Io("cursor-top"),width:"8",height:"12",viewBox:"0 0 8 12",fill:"none"},We.createElement("path",{d:"M0 1C0 0.447715 0.447715 0 1 0H7C7.55228 0 8 0.447715 8 1V9.38197C8 9.76074 7.786 10.107 7.44721 10.2764L4.44721 11.7764C4.16569 11.9172 3.83431 11.9172 3.55279 11.7764L0.552786 10.2764C0.214002 10.107 0 9.76074 0 9.38197V1Z",fill:"#5297FF"})),We.createElement("div",{className:Io("cursor-area")})))},Bme=`.timeline-editor-drag-line-container {
  position: absolute;
  height: 100%;
  top: 0;
  left: 0;
}
.timeline-editor-drag-line {
  width: 0;
  position: absolute;
  top: 0;
  height: 99%;
  border-left: 1px dashed rgba(82, 151, 255, 0.6);
}
`;Lm(Bme);var Fme=function(e){var t=e.isMoving,r=e.movePositions,a=r===void 0?[]:r,o=e.assistPositions,l=o===void 0?[]:o,s=e.scrollLeft;return We.createElement("div",{className:Io("drag-line-container")},t&&a.filter(function(f){return l.includes(f)}).map(function(f,h){return We.createElement("div",{key:h,className:Io("drag-line"),style:{left:f-s}})}))},Hme=`.timeline-editor:hover .timeline-editor-edit-area .ReactVirtualized__Grid::-webkit-scrollbar {
  height: 4px;
}
.timeline-editor-edit-area {
  flex: 1 1 auto;
  margin-top: 10px;
  overflow: hidden;
  position: relative;
}
.timeline-editor-edit-area .ReactVirtualized__Grid {
  outline: none !important;
  overflow: overlay !important;
}
.timeline-editor-edit-area .ReactVirtualized__Grid::-webkit-scrollbar {
  width: 0;
  height: 0;
}
.timeline-editor-edit-area .ReactVirtualized__Grid::-webkit-scrollbar-track {
  background-color: transparent !important;
}
.timeline-editor-edit-area .ReactVirtualized__Grid::-webkit-scrollbar-thumb {
  background: #313132;
  border-radius: 16px;
}
`;Lm(Hme);var kme=`.timeline-editor-action {
  position: absolute;
  left: 0;
  top: 0;
  background-color: #2f3134;
}
.timeline-editor-action .timeline-editor-action-left-stretch,
.timeline-editor-action .timeline-editor-action-right-stretch {
  position: absolute;
  top: 0;
  width: 10px;
  border-radius: 4px;
  height: 100%;
  overflow: hidden;
}
.timeline-editor-action .timeline-editor-action-left-stretch::after,
.timeline-editor-action .timeline-editor-action-right-stretch::after {
  position: absolute;
  top: 0;
  bottom: 0;
  margin: auto;
  border-radius: 4px;
  border-top: 28px solid transparent;
  border-bottom: 28px solid transparent;
}
.timeline-editor-action .timeline-editor-action-left-stretch {
  left: 0;
}
.timeline-editor-action .timeline-editor-action-left-stretch::after {
  left: 0;
  content: "";
  border-left: 7px solid rgba(255, 255, 255, 0.1);
  border-right: 7px solid transparent;
}
.timeline-editor-action .timeline-editor-action-right-stretch {
  right: 0;
}
.timeline-editor-action .timeline-editor-action-right-stretch::after {
  right: 0;
  content: "";
  border-right: 7px solid rgba(255, 255, 255, 0.1);
  border-left: 7px solid transparent;
}
`;Lm(kme);var $me=function(e){var t=e.editorData,r=e.row,a=e.action,o=e.effects,l=e.rowHeight,s=e.scale,f=e.scaleWidth,h=e.scaleSplitCount,v=e.startLeft,_=e.gridSnap,x=e.disableDrag,C=e.scaleCount,c=e.maxScaleCount,p=e.setScaleCount,m=e.onActionMoveStart,b=e.onActionMoving,w=e.onActionMoveEnd,A=e.onActionResizeStart,R=e.onActionResizeEnd,O=e.onActionResizing,P=e.dragLineData,D=e.setEditorData,F=e.onClickAction,B=e.onClickActionOnly,U=e.onDoubleClickAction,V=e.onContextMenuAction,Q=e.getActionRender,X=e.handleTime,ee=e.areaRef,ae=e.deltaScrollLeft,Z=M.useRef(),K=M.useRef(!1),te=a.id,ce=a.maxEnd,q=a.minStart,J=a.end,he=a.start,ue=a.selected,j=a.flexible,pe=j===void 0?!0:j,_e=a.movable,Re=_e===void 0?!0:_e,Me=a.effectId,Ae=Ju(q||0,{startLeft:v,scale:s,scaleWidth:f}),Ue=Math.min(c*f+v,Ju(ce||Number.MAX_VALUE,{startLeft:v,scale:s,scaleWidth:f})),gt=M.useState(function(){return IR({start:he,end:J},{startLeft:v,scale:s,scaleWidth:f})}),ze=rm(gt,2),we=ze[0],re=ze[1];M.useLayoutEffect(function(){re(IR({start:he,end:J},{startLeft:v,scale:s,scaleWidth:f}))},[J,he,v,f,s]);var Fe=f/h,Ie=["action"];Re&&Ie.push("action-movable"),ue&&Ie.push("action-selected"),pe&&Ie.push("action-flexible"),o[Me]&&Ie.push("action-effect-".concat(Me));var Ye=function(mt,st){var ht=zme(mt+st,{startLeft:v,scaleCount:C,scaleWidth:f});ht!==C&&p(ht)},$e=function(){m&&m({action:a,row:r})},lt=function(mt){var st=mt.left,ht=mt.width;if(K.current=!0,b){var It=Fy({left:st,width:ht},{scaleWidth:f,scale:s,startLeft:v}),at=It.start,_t=It.end,wt=b({action:a,row:r,start:at,end:_t});if(wt===!1)return!1}re({left:st,width:ht}),Ye(st,ht)},ot=function(mt){var st=mt.left,ht=mt.width,It=Fy({left:st,width:ht},{scaleWidth:f,scale:s,startLeft:v}),at=It.start,_t=It.end,wt=t.find(function(it){return it.id===r.id}),je=wt.actions.find(function(it){return it.id===te});je.start=at,je.end=_t,D(t),w&&w({action:je,row:r,start:at,end:_t})},fe=function(mt){A&&A({action:a,row:r,dir:mt})},oe=function(mt,st){var ht=st.left,It=st.width;if(K.current=!0,O){var at=Fy({left:ht,width:It},{scaleWidth:f,scale:s,startLeft:v}),_t=at.start,wt=at.end,je=O({action:a,row:r,start:_t,end:wt,dir:mt});if(je===!1)return!1}re({left:ht,width:It}),Ye(ht,It)},Ee=function(mt,st){var ht=st.left,It=st.width,at=Fy({left:ht,width:It},{scaleWidth:f,scale:s,startLeft:v}),_t=at.start,wt=at.end,je=t.find(function(Se){return Se.id===r.id}),it=je.actions.find(function(Se){return Se.id===te});it.start=_t,it.end=wt,D(t),R&&R({action:it,row:r,start:_t,end:wt,dir:mt})},Pe=Mi(Mi({},a),Fy({left:we.left,width:we.width},{startLeft:v,scaleWidth:f,scale:s})),qe=Mi(Mi({},r),{},{actions:zI(r.actions)});return r.actions.includes(a)&&(qe.actions[r.actions.indexOf(a)]=Pe),We.createElement(IH,{ref:Z,parentRef:ee,start:v,left:we.left,width:we.width,grid:_&&Fe||AR,adsorptionDistance:_?Math.max((Fe||AR)/2,RR):RR,adsorptionPositions:P.assistPositions,bounds:{left:Ae,right:Ue},edges:{left:!x&&pe&&".".concat(Io("action-left-stretch")),right:!x&&pe&&".".concat(Io("action-right-stretch"))},enableDragging:!x&&Re,enableResizing:!x&&pe,onDragStart:$e,onDrag:lt,onDragEnd:ot,onResizeStart:fe,onResize:oe,onResizeEnd:Ee,deltaScrollLeft:ae},We.createElement("div",{onMouseDown:function(){K.current=!1},onClick:function(mt){var st;F&&(st=X(mt),F(mt,{row:r,action:a,time:st})),!K.current&&B&&(st||(st=X(mt)),B(mt,{row:r,action:a,time:st}))},onDoubleClick:function(mt){if(U){var st=X(mt);U(mt,{row:r,action:a,time:st})}},onContextMenu:function(mt){if(V){var st=X(mt);V(mt,{row:r,action:a,time:st})}},className:Io((Ie||[]).join(" ")),style:{height:l}},Q&&Q(Pe,qe),pe&&We.createElement("div",{className:Io("action-left-stretch")}),pe&&We.createElement("div",{className:Io("action-right-stretch")})))},Vme=`.timeline-editor-edit-row {
  background-repeat: no-repeat, repeat;
  background-image: linear-gradient(#191b1d, #191b1d), linear-gradient(90deg, rgba(255, 255, 255, 0.08) 1px, transparent 0);
  display: flex;
  flex-direction: row;
  box-sizing: border-box;
}
`;Lm(Vme);var Gme=function(e){var t=e.rowData,r=e.style,a=r===void 0?{}:r,o=e.onClickRow,l=e.onDoubleClickRow,s=e.onContextMenuRow,f=e.areaRef,h=e.scrollLeft,v=e.startLeft,_=e.scale,x=e.scaleWidth,C=["edit-row"];t!=null&&t.selected&&C.push("edit-row-selected");var c=function(m){if(f.current){var b=f.current.getBoundingClientRect(),w=m.clientX-b.x,A=w+h,R=Em(A,{startLeft:v,scale:_,scaleWidth:x});return R}};return We.createElement("div",{className:"".concat(Io.apply(void 0,C)," ").concat(((t==null?void 0:t.classNames)||[]).join(" ")),style:a,onClick:function(m){if(t&&o){var b=c(m);o(m,{row:t,time:b})}},onDoubleClick:function(m){if(t&&l){var b=c(m);l(m,{row:t,time:b})}},onContextMenu:function(m){if(t&&s){var b=c(m);s(m,{row:t,time:b})}}},((t==null?void 0:t.actions)||[]).map(function(p){return We.createElement($me,Mi(Mi({key:p.id},e),{},{handleTime:c,row:t,action:p}))}))};function jme(){var n=M.useState({isMoving:!1,movePositions:[],assistPositions:[]}),e=rm(n,2),t=e[0],r=e[1],a=function(v){var _=v.editorData,x=v.assistActionIds,C=v.action,c=v.row,p=v.scale,m=v.scaleWidth,b=v.startLeft,w=v.cursorLeft,A=v.hideCursor,R=[];x?_.forEach(function(P){P.actions.forEach(function(D){x.includes(D.id)&&R.push(D)})}):_.forEach(function(P){P.id!==c.id?R.push.apply(R,zI(P.actions)):P.actions.forEach(function(D){D.id!==C.id&&R.push(D)})});var O=Pme(R,{startLeft:b,scale:p,scaleWidth:m});return A||O.push(w),O},o=function(v){var _=v.start,x=v.end,C=v.dir,c=v.scale,p=v.scaleWidth,m=v.startLeft,b=IR({start:_,end:x},{startLeft:m,scaleWidth:p,scale:c}),w=b.left,A=b.width;return C?C==="right"?[w+A]:[w]:[w,w+A]},l=function(v){var _=v.movePositions,x=v.assistPositions;r({isMoving:!0,movePositions:_||[],assistPositions:x||[]})},s=function(v){var _=v.movePositions,x=v.assistPositions;r(function(C){return Mi(Mi({},C),{},{movePositions:_||C.movePositions,assistPositions:x||C.assistPositions})})},f=function(){r({isMoving:!1,movePositions:[],assistPositions:[]})};return{initDragLine:l,updateDragLine:s,disposeDragLine:f,dragLineData:t,defaultGetAssistPosition:a,defaultGetMovePosition:o}}var Wme=We.forwardRef(function(n,e){var t=n.editorData,r=n.rowHeight,a=n.scaleWidth,o=n.scaleCount,l=n.startLeft,s=n.scrollLeft,f=n.scrollTop,h=n.scale,v=n.hideCursor,_=n.cursorTime,x=n.onScroll,C=n.dragLine,c=n.getAssistDragLineActionIds,p=n.onActionMoveEnd,m=n.onActionMoveStart,b=n.onActionMoving,w=n.onActionResizeEnd,A=n.onActionResizeStart,R=n.onActionResizing,O=jme(),P=O.dragLineData,D=O.initDragLine,F=O.updateDragLine,B=O.disposeDragLine,U=O.defaultGetAssistPosition,V=O.defaultGetMovePosition,Q=M.useRef(),X=M.useRef(),ee=M.useRef(-1);M.useImperativeHandle(e,function(){return{get domRef(){return Q}}});var ae=function(ce){if(C){var q=c&&c({action:ce.action,row:ce.row,editorData:t}),J=Ju(_,{scaleWidth:a,scale:h,startLeft:l}),he=U({editorData:t,assistActionIds:q,action:ce.action,row:ce.row,scale:h,scaleWidth:a,startLeft:l,hideCursor:v,cursorLeft:J});D({assistPositions:he})}},Z=function(ce){if(C){var q=V(Mi(Mi({},ce),{},{startLeft:l,scaleWidth:a,scale:h}));F({movePositions:q})}},K=function(ce){var q=ce.rowIndex,J=ce.key,he=ce.style,ue=t[q];return We.createElement(Gme,Mi(Mi({},n),{},{style:Mi(Mi({},he),{},{backgroundPositionX:"0, ".concat(l,"px"),backgroundSize:"".concat(l,"px, ").concat(a,"px")}),areaRef:Q,key:J,rowHeight:(ue==null?void 0:ue.rowHeight)||r,rowData:ue,dragLineData:P,onActionMoveStart:function(pe){return ae(pe),m&&m(pe)},onActionResizeStart:function(pe){return ae(pe),A&&A(pe)},onActionMoving:function(pe){return Z(pe),b&&b(pe)},onActionResizing:function(pe){return Z(pe),R&&R(pe)},onActionResizeEnd:function(pe){return B(),w&&w(pe)},onActionMoveEnd:function(pe){return B(),p&&p(pe)}}))};return M.useLayoutEffect(function(){var te;(te=X.current)===null||te===void 0||te.scrollToPosition({scrollTop:f,scrollLeft:s})},[f,s]),M.useEffect(function(){X.current.recomputeGridSize()},[t]),We.createElement("div",{ref:Q,className:Io("edit-area")},We.createElement(CI,null,function(te){var ce=te.width,q=te.height,J=0,he=t.map(function(ue){var j=ue.rowHeight||r;return J+=j,j});return J<q&&(he.push(q-J),ee.current!==q&&ee.current>=0&&setTimeout(function(){var ue;return(ue=X.current)===null||ue===void 0?void 0:ue.recomputeGridSize({rowIndex:he.length-1})})),ee.current=q,We.createElement(ju,{columnCount:1,rowCount:he.length,ref:X,cellRenderer:K,columnWidth:Math.max(o*a+l,ce),width:ce,height:q,rowHeight:function(j){var pe=j.index;return he[pe]||r},overscanRowCount:10,overscanColumnCount:0,onScroll:function(j){x(j)}})}),C&&We.createElement(Fme,Mi({scrollLeft:s},P)))}),Xme=`.timeline-editor {
  height: 600px;
  width: 600px;
  min-height: 32px;
  position: relative;
  font-size: 12px;
  font-family: "PingFang SC";
  background-color: #191b1d;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}
`;Lm(Xme);var Yme=`.timeline-editor-time-area {
  position: relative;
  height: 32px;
  flex: 0 0 auto;
}
.timeline-editor-time-area .ReactVirtualized__Grid {
  outline: none;
}
.timeline-editor-time-area .ReactVirtualized__Grid::-webkit-scrollbar {
  display: none;
}
.timeline-editor-time-area-interact {
  position: absolute;
  cursor: pointer;
  left: 0;
  top: 0;
}
.timeline-editor-time-unit {
  border-right: 1px solid rgba(255, 255, 255, 0.2);
  position: relative;
  box-sizing: content-box;
  height: 4px !important;
  bottom: 0 !important;
  top: auto !important;
}
.timeline-editor-time-unit-big {
  height: 8px !important;
}
.timeline-editor-time-unit-scale {
  color: rgba(255, 255, 255, 0.6);
  position: absolute;
  right: 0;
  top: 0;
  transform: translate(50%, -100%);
}
`;Lm(Yme);var qme=function(e){var t=e.setCursor,r=e.maxScaleCount,a=e.hideCursor,o=e.scale,l=e.scaleWidth,s=e.scaleCount,f=e.scaleSplitCount,h=e.startLeft,v=e.scrollLeft,_=e.onClickTimeArea,x=e.getScaleRender,C=M.useRef(),c=f>0,p=function(w){var A=w.columnIndex,R=w.key,O=w.style,P=c?A%f===0:!0,D=["time-unit"];P&&D.push("time-unit-big");var F=(c?A/f:A)*o;return We.createElement("div",{key:R,style:O,className:Io.apply(void 0,D)},P&&We.createElement("div",{className:Io("time-unit-scale")},x?x(F):F))};M.useEffect(function(){var b;(b=C.current)===null||b===void 0||b.recomputeGridSize()},[l,h]);var m=function(w){switch(w.index){case 0:return h;default:return c?l/f:l}};return We.createElement("div",{className:Io("time-area")},We.createElement(CI,null,function(b){var w=b.width,A=b.height;return We.createElement(We.Fragment,null,We.createElement(ju,{ref:C,columnCount:c?s*f+1:s,columnWidth:m,rowCount:1,rowHeight:A,width:w,height:A,overscanRowCount:0,overscanColumnCount:10,cellRenderer:p,scrollLeft:v}),We.createElement("div",{style:{width:w,height:A},onClick:function(O){if(!a){var P=O.currentTarget.getBoundingClientRect(),D=O.clientX-P.x,F=Math.max(D+v,h);if(!(F>r*l+h-v)){var B=Em(F,{startLeft:h,scale:o,scaleWidth:l}),U=_&&_(B,O);U!==!1&&t({time:B})}}},className:Io("time-area-interact")}))}))},Zme=We.forwardRef(function(n,e){var t=Ome(n),r=n.style,a=t.effects,o=t.editorData,l=t.scrollTop,s=t.autoScroll,f=t.hideCursor,h=t.disableDrag,v=t.scale,_=t.scaleWidth,x=t.startLeft,C=t.minScaleCount,c=t.maxScaleCount,p=t.onChange,m=t.engine,b=t.autoReRender,w=b===void 0?!0:b,A=t.onScroll,R=M.useRef(m||new Tme),O=M.useRef(),P=M.useRef(),D=M.useRef(),F=M.useState(o),B=rm(F,2),U=B[0],V=B[1],Q=M.useState(OR),X=rm(Q,2),ee=X[0],ae=X[1],Z=M.useState(Ame),K=rm(Z,2),te=K[0],ce=K[1],q=M.useState(!1),J=rm(q,2),he=J[0],ue=J[1],j=M.useState(Number.MAX_SAFE_INTEGER),pe=rm(j,2),_e=pe[0],Re=pe[1];M.useLayoutEffect(function(){Me(Ime(o,{scale:v})),V(o)},[o,C,c,v]),M.useEffect(function(){R.current.effects=a},[a]),M.useEffect(function(){R.current.data=U},[U]),M.useEffect(function(){w&&R.current.reRender()},[U]),M.useEffect(function(){D.current&&D.current.setState({scrollTop:l})},[l]);var Me=function(we){var re=Math.min(c,Math.max(C,we));ae(re)},Ae=function(we){var re=p(we);re!==!1&&(R.current.data=we,w&&R.current.reRender())},Ue=function(we){var re=we.left,Fe=we.time,Ie=we.updateTime,Ye=Ie===void 0?!0:Ie;if(!(typeof re>"u"&&typeof Fe>"u")){typeof Fe>"u"&&(typeof re>"u"&&(re=Ju(Fe,{startLeft:x,scale:v,scaleWidth:_})),Fe=Em(re,{startLeft:x,scale:v,scaleWidth:_}));var $e=!0;return Ye&&($e=R.current.setTime(Fe),w&&R.current.reRender()),$e&&ce(Fe),$e}},gt=function(we){var re=D.current.state.scrollLeft+we;re>ee*(_-1)+x-_e||D.current&&D.current.setState({scrollLeft:Math.max(D.current.state.scrollLeft+we,0)})};return M.useEffect(function(){var ze=function(Ie){var Ye=Ie.time;Ue({time:Ye,updateTime:!1})},we=function(){return ue(!0)},re=function(){return ue(!1)};R.current.on("setTimeByTick",ze),R.current.on("play",we),R.current.on("paused",re)},[]),M.useImperativeHandle(e,function(){return{get target(){return O.current},get listener(){return R.current},get isPlaying(){return R.current.isPlaying},get isPaused(){return R.current.isPaused},setPlayRate:R.current.setPlayRate.bind(R.current),getPlayRate:R.current.getPlayRate.bind(R.current),setTime:function(we){return Ue({time:we})},getTime:R.current.getTime.bind(R.current),reRender:R.current.reRender.bind(R.current),play:function(we){return R.current.play(Mi({},we))},pause:R.current.pause.bind(R.current),setScrollLeft:function(we){D.current&&D.current.setState({scrollLeft:Math.max(we,0)})},setScrollTop:function(we){D.current&&D.current.setState({scrollTop:Math.max(we,0)})}}}),M.useEffect(function(){if(P.current){var ze=new ResizeObserver(function(){P.current&&Re(P.current.getBoundingClientRect().width)});return ze.observe(P.current),function(){ze&&ze.disconnect()}}},[]),We.createElement("div",{ref:O,style:r,className:"".concat(TR," ").concat(h?TR+"-disable":"")},We.createElement(vH,{ref:D},function(ze){var we=ze.scrollLeft,re=ze.scrollTop,Fe=ze.onScroll;return We.createElement(We.Fragment,null,We.createElement(qme,Mi(Mi({},t),{},{timelineWidth:_e,disableDrag:h||he,setCursor:Ue,cursorTime:te,editorData:U,scaleCount:ee,setScaleCount:Me,onScroll:Fe,scrollLeft:we})),We.createElement(Wme,Mi(Mi({},t),{},{timelineWidth:_e,ref:function(Ye){return P.current=Ye==null?void 0:Ye.domRef.current},disableDrag:h||he,editorData:U,cursorTime:te,scaleCount:ee,setScaleCount:Me,scrollTop:re,scrollLeft:we,setEditorData:Ae,deltaScrollLeft:s&&gt,onScroll:function(Ye){Fe(Ye),A&&A(Ye)}})),!f&&We.createElement(Ume,Mi(Mi({},t),{},{timelineWidth:_e,disableDrag:he,scrollLeft:we,scaleCount:ee,setScaleCount:Me,setCursor:Ue,cursorTime:te,editorData:U,areaRef:P,scrollSync:D,deltaScrollLeft:s&&gt})))}))});const Kme="/SyncWorld/assets/01-SVCgjpr3.mp4",Qme="/SyncWorld/assets/02-Rc06ZH0H.mp4",Jme="/SyncWorld/assets/03-Ld3QXp4t.mp4",ege="_canvasWrap_3zlrq_1",tge="_videoIcon_3zlrq_4",id={canvasWrap:ege,videoIcon:tge};async function nge(n="mp4"){return(await window.showSaveFilePicker({suggestedName:`WebAV-export-${Date.now()}.${n}`})).createWritable()}const jN=new URLSearchParams(location.search).get("UHA"),OA=["no-preference","prefer-hardware","prefer-software"].includes(jN)?jN:void 0,ige=({timelineData:n,onPreviewTime:e,onOffsetChange:t,onDurationChange:r,onDeleteAction:a,timelineState:o,onSplitAction:l})=>{const[s,f]=M.useState(10),[h,v]=M.useState(null);return xt.jsxs(xt.Fragment,{children:[xt.jsx(Hl,{title:"缩放",children:xt.jsx(uo,{type:"text",icon:xt.jsx(gU,{className:id.videoIcon}),onClick:()=>f(s+1)})}),xt.jsx(Hl,{title:"缩放",children:xt.jsx(uo,{type:"text",icon:xt.jsx(mU,{className:id.videoIcon}),onClick:()=>f(s-1>1?s-1:1)})}),xt.jsx(Hl,{title:"删除",children:xt.jsx(uo,{type:"text",icon:xt.jsx(fU,{className:id.videoIcon}),disabled:h==null,onClick:()=>{h!=null&&a(h)}})}),xt.jsx(Hl,{title:"分割",children:xt.jsx(uo,{type:"text",icon:xt.jsx(hV,{className:id.videoIcon}),disabled:h==null,onClick:()=>{h!=null&&l(h)}})}),xt.jsx(Zme,{ref:_=>{_!=null&&(o.current=_)},onChange:()=>{},style:{width:"100%",height:"200px"},scale:s,editorData:n,effects:{},scaleSplitCount:5,onClickTimeArea:_=>(e(_),!0),onCursorDragEnd:_=>{e(_)},onActionResizing:({dir:_,action:x,start:C,end:c})=>_==="left"?!1:r({action:x,start:C,end:c}),onActionMoveEnd:({action:_})=>{t(_)},onClickAction:(_,{action:x})=>{v(x)},getActionRender:_=>{const x="h-full justify-center items-center flex text-white";return _.id===(h==null?void 0:h.id)?xt.jsx("div",{className:`${x} border border-red-300 border-solid box-border`,children:_.name}):xt.jsx("div",{className:x,children:_.name})},autoScroll:!0})]})},Np=new WeakMap;let WN=0;const XN=[Kme,Qme,Jme];function rge(){const[n,e]=M.useState(null),t=M.useRef(void 0),[r,a]=M.useState(!1),[o,l]=M.useState(null),[s,f]=M.useState(null),[h,v]=M.useState([{id:"1-video",actions:[]},{id:"2-audio",actions:[]},{id:"3-img",actions:[]},{id:"4-text",actions:[]}]),_=()=>{if(s==null)return;n==null||n.destroy();const C=o==null?void 0:o.parentElement;if(!C)return;const{width:c,height:p}=C.getBoundingClientRect(),m=new Phe(s,{bgColor:"#1A1B1E",width:c-24,height:p-270});e(m),m.on("timeupdate",b=>{t.current!=null&&t.current.setTime(b/1e6)}),m.on("playing",()=>{a(!0)}),m.on("paused",()=>{a(!1)})};M.useEffect(()=>(_(),window.addEventListener("resize",_),()=>{window.removeEventListener("resize",_)}),[s]),M.useEffect(()=>{if(!n)return;const C=async()=>{const c=(await fetch(XN[WN%XN.length])).body;WN++;const p=new CA(new uN(c,{__unsafe_hardwareAcceleration__:OA}));await(n==null?void 0:n.addSprite(p)),x("1-video",p,"视频")};return window.addEventListener("resize",_),k2.on($2.ADD_FAKE_VIDEO,C),()=>{k2.off($2.ADD_FAKE_VIDEO,C)}},[n]);function x(C,c,p=""){const m=h.find(({id:A})=>A===C);if(m==null)return null;const b=c.time.offset===0?Math.max(...m.actions.map(A=>A.end),0)*1e6:c.time.offset;c.time.offset=b,c.time.duration===1/0&&(c.time.duration=1e7);const w={id:Math.random().toString(),start:b/1e6,end:(c.time.offset+c.time.duration)/1e6,effectId:"",name:p};return Np.set(w,c),m.actions.push(w),v(h.filter(A=>A!==m).concat({...m}).sort((A,R)=>A.id.charCodeAt(0)-R.id.charCodeAt(0))),w}return xt.jsxs("div",{className:id.canvasWrap,ref:C=>l(C),children:[xt.jsx("div",{ref:C=>f(C)}),xt.jsx(Hl,{title:"本地导入",children:xt.jsx(uo,{type:"text",icon:xt.jsx(yV,{className:id.videoIcon}),onClick:async()=>{const C=(await age({"video/*":[".mp4",".mov"]})).stream(),c=new CA(new uN(C,{__unsafe_hardwareAcceleration__:OA}));await(n==null?void 0:n.addSprite(c)),x("1-video",c,"视频")}})}),xt.jsx(Hl,{title:"播放",children:xt.jsx(uo,{type:"text",icon:r?xt.jsx(G$,{className:id.videoIcon}):xt.jsx(Z$,{className:id.videoIcon}),onClick:async()=>{n==null||t.current==null||(r?n.pause():n.play({start:t.current.getTime()*1e6}))}})}),xt.jsx(Hl,{title:"导出",children:xt.jsx(uo,{type:"text",icon:xt.jsx(C$,{className:id.videoIcon}),onClick:async()=>{n!=null&&(await n.createCombinator({__unsafe_hardwareAcceleration__:OA})).output().pipeTo(await nge())}})}),xt.jsx(ige,{timelineData:h,timelineState:t,onPreviewTime:C=>{n==null||n.previewFrame(C*1e6)},onOffsetChange:C=>{const c=Np.get(C);c!=null&&(c.time.offset=C.start*1e6)},onDurationChange:({action:C,start:c,end:p})=>{const m=Np.get(C);if(m==null)return!1;const b=(p-c)*1e6;return b>m.getClip().meta.duration?!1:(m.time.duration=b,!0)},onDeleteAction:C=>{const c=Np.get(C);if(c==null)return;n==null||n.removeSprite(c),Np.delete(C);const p=h.map(m=>m.actions).find(m=>m.includes(C));p!=null&&(p.splice(p.indexOf(C),1),v([...h]))},onSplitAction:async C=>{const c=Np.get(C);if(n==null||c==null||t.current==null)return;const p=await c.getClip().split(t.current.getTime()*1e6-c.time.offset);n.removeSprite(c),Np.delete(C);const m=h.find(A=>A.actions.includes(C));if(m==null)return;m.actions.splice(m.actions.indexOf(C),1),v([...h]);const b=[t.current.getTime()*1e6-c.time.offset,c.time.duration-(t.current.getTime()*1e6-c.time.offset)],w=[c.time.offset,c.time.offset+b[0]];for(let A=0;A<p.length;A++){const R=p[A],O=new CA(R);R instanceof Jde&&(O.time.duration=b[A]),O.time.offset=w[A],await n.addSprite(O),x(m.id,O,C.name)}}})]})}async function age(n){const[e]=await window.showOpenFilePicker({types:[{accept:n}]});return await e.getFile()}const oge=()=>xt.jsxs(ed,{style:{height:"100%"},children:[xt.jsx(Jf,{flex:"436px",className:JP.formPanel,children:xt.jsx(Bfe,{})}),xt.jsx(Jf,{flex:"auto",className:JP.videoWrapper,children:xt.jsx(rge,{})})]});function sge(n,e){if(n==null)return{};var t=lge(n,e),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(a=0;a<o.length;a++)r=o[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function lge(n,e){if(n==null)return{};var t={},r=Object.keys(n),a,o;for(o=0;o<r.length;o++)a=r[o],!(e.indexOf(a)>=0)&&(t[a]=n[a]);return t}function AC(){return AC=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},AC.apply(this,arguments)}function YN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function Hy(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?YN(Object(t),!0).forEach(function(r){cge(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):YN(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function cge(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const uge={breakpointCols:void 0,className:void 0,columnClassName:void 0,children:void 0,columnAttrs:void 0,column:void 0},IA=2;class zH extends We.Component{constructor(e){super(e),this.reCalculateColumnCount=this.reCalculateColumnCount.bind(this),this.reCalculateColumnCountDebounce=this.reCalculateColumnCountDebounce.bind(this);let t;this.props.breakpointCols&&this.props.breakpointCols.default?t=this.props.breakpointCols.default:t=parseInt(this.props.breakpointCols)||IA,this.state={columnCount:t}}componentDidMount(){this.reCalculateColumnCount(),window&&window.addEventListener("resize",this.reCalculateColumnCountDebounce)}componentDidUpdate(){this.reCalculateColumnCount()}componentWillUnmount(){window&&window.removeEventListener("resize",this.reCalculateColumnCountDebounce)}reCalculateColumnCountDebounce(){if(!window||!window.requestAnimationFrame){this.reCalculateColumnCount();return}window.cancelAnimationFrame&&window.cancelAnimationFrame(this._lastRecalculateAnimationFrame),this._lastRecalculateAnimationFrame=window.requestAnimationFrame(()=>{this.reCalculateColumnCount()})}reCalculateColumnCount(){const e=window&&window.innerWidth||1/0;let t=this.props.breakpointCols;typeof t!="object"&&(t={default:parseInt(t)||IA});let r=1/0,a=t.default||IA;for(let o in t){const l=parseInt(o);l>0&&e<=l&&l<r&&(r=l,a=t[o])}a=Math.max(1,parseInt(a)||1),this.state.columnCount!==a&&this.setState({columnCount:a})}itemsInColumns(){const e=this.state.columnCount,t=new Array(e),r=We.Children.toArray(this.props.children);for(let a=0;a<r.length;a++){const o=a%e;t[o]||(t[o]=[]),t[o].push(r[a])}return t}renderColumns(){const{column:e,columnAttrs:t={},columnClassName:r}=this.props,a=this.itemsInColumns(),o=`${100/a.length}%`;let l=r;l&&typeof l!="string"&&(this.logDeprecated('The property "columnClassName" requires a string'),typeof l>"u"&&(l="my-masonry-grid_column"));const s=Hy(Hy(Hy({},e),t),{},{style:Hy(Hy({},t.style),{},{width:o}),className:l});return a.map((f,h)=>We.createElement("div",AC({},s,{key:h}),f))}logDeprecated(e){console.error("[Masonry]",e)}render(){const e=this.props,{children:t,breakpointCols:r,columnClassName:a,columnAttrs:o,column:l,className:s}=e,f=sge(e,["children","breakpointCols","columnClassName","columnAttrs","column","className"]);let h=s;return typeof s!="string"&&(this.logDeprecated('The property "className" requires a string'),typeof s>"u"&&(h="my-masonry-grid")),We.createElement("div",AC({},f,{className:h}),this.renderColumns())}}zH.defaultProps=uge;const fge="_masonryGrid_ejt6d_2",dge="_masonryColumn_ejt6d_10",hge="_masonryItem_ejt6d_14",pge="_skeleton_ejt6d_17",mge="_loadingTrigger_ejt6d_26",tv={masonryGrid:fge,masonryColumn:dge,masonryItem:hge,skeleton:pge,loadingTrigger:mge},qN=()=>{const n=Math.floor(Math.random()*300+200);return{width:300,height:n,src:`https://picsum.photos/300/${n}`,loaded:!1}},gge=()=>{const[n,e]=M.useState(Array.from({length:10},qN)),[t,r]=M.useState(!1),a=M.useRef(null),o=M.useCallback(()=>{t||(r(!0),setTimeout(()=>{e(s=>[...s,...Array.from({length:10},qN)]),r(!1)},1500))},[t]);M.useEffect(()=>{const s=new IntersectionObserver(f=>{f[0].isIntersecting&&o()},{rootMargin:"100px"});return a.current&&s.observe(a.current),()=>s.disconnect()},[o]);const l=s=>{e(f=>f.map((h,v)=>v===s?{...h,loaded:!0}:h))};return xt.jsxs("div",{className:tv.waterfallContainer,children:[xt.jsx(zH,{breakpointCols:{default:4,1100:3,768:2,500:1},className:tv.masonryGrid,columnClassName:tv.masonryColumn,children:n.map((s,f)=>xt.jsxs("div",{className:tv.masonryItem,children:[!s.loaded&&xt.jsx(Rm.Image,{className:tv.skeleton}),xt.jsx(vO,{src:s.src,width:"100%",style:{display:s.loaded?"block":"none"},onLoad:()=>l(f)})]},f))}),xt.jsx("div",{ref:a,className:tv.loadingTrigger,children:t&&xt.jsx(EF,{size:"large"})})]})},vge="_userContainer_138vs_1",yge={userContainer:vge},bge=()=>xt.jsxs("div",{className:yge.userContainer,children:[xt.jsx(ed,{children:xt.jsx(P4,{size:100,icon:xt.jsx(pU,{}),style:{margin:"0 auto"}})}),xt.jsx(ed,{children:xt.jsxs(Jf,{span:24,children:[xt.jsx("p",{children:"用户名: 张三"}),xt.jsx("p",{children:"用户简介: 一个热爱编程的开发者"})]})}),xt.jsxs(ed,{gutter:16,style:{marginTop:20},children:[xt.jsx(Jf,{span:12,children:xt.jsx("p",{children:"粉丝: 1200"})}),xt.jsx(Jf,{span:12,children:xt.jsx("p",{children:"关注: 800"})}),xt.jsx(Jf,{span:12,children:xt.jsx("p",{children:"作品被使用: 50 次"})}),xt.jsx(Jf,{span:12,children:xt.jsx("p",{children:"作品获赞: 500 次"})})]})]}),_ge="/SyncWorld/assets/logo-bKxNxiH-.png",{Header:Sge,Content:xge,Sider:wge}=Om,Cge=[{key:"/preview",icon:xt.jsx(n$,{}),label:"灵感广场"},{key:"/video",icon:xt.jsx(wV,{}),label:"视频生成"},{key:"/user",icon:xt.jsx(pU,{}),label:"用户中心"}],Ege=()=>{const n=Hh(),e=HF();return xt.jsx(__,{className:_1.sideMenu,mode:"inline",selectedKeys:[n.pathname],onClick:t=>e(t.key),items:Cge})},Mge=()=>xt.jsxs(zte,{children:[xt.jsx(Sge,{className:_1.navBar,style:{display:"flex",alignItems:"center"},children:xt.jsx("img",{src:_ge,alt:"logo",style:{width:"40px",height:"40px"}})}),xt.jsxs(Om,{children:[xt.jsx(wge,{width:200,style:{borderTop:"1px"},className:_1.sideBar,children:xt.jsx(Ege,{})}),xt.jsx(xge,{className:_1.content,children:xt.jsxs(cte,{children:[xt.jsx(S1,{path:"/preview",element:xt.jsx(gge,{})}),xt.jsx(S1,{path:"/video",element:xt.jsx(oge,{})}),xt.jsx(S1,{path:"/user",element:xt.jsx(bge,{})})]})})]})]});wk.createRoot(document.getElementById("root")).render(xt.jsx(M.StrictMode,{children:xt.jsx(Mge,{})}));
